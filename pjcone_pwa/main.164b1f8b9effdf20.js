(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1590],{1028:(fn,Lt,me)=>{"use strict";me.d(Lt,{Y:()=>Ne});var v=me(1316),xe=me(3080),rt=me(4496),Ne=function(r){function H(){return null!==r&&r.apply(this,arguments)||this}return(0,v.ct)(H,r),H.prototype.enable=function(){return(0,xe.AN)(this,"enable",{sync:!0},arguments)},H.prototype.disable=function(){return(0,xe.AN)(this,"disable",{sync:!0},arguments)},H.prototype.setEnabled=function(C){return(0,xe.AN)(this,"setEnabled",{sync:!0},arguments)},H.prototype.fireEvent=function(C){for(var y=[],_=1;_<arguments.length;_++)y[_-1]=arguments[_];return(0,xe.AN)(this,"fireEvent",{sync:!0},arguments)},H.prototype.isEnabled=function(){return(0,xe.AN)(this,"isEnabled",{sync:!0},arguments)},H.prototype.isActive=function(){return(0,xe.AN)(this,"isActive",{sync:!0},arguments)},H.prototype.setDefaults=function(C){return(0,xe.AN)(this,"setDefaults",{platforms:["Android"]},arguments)},H.prototype.configure=function(C){return(0,xe.AN)(this,"configure",{platforms:["Android"],sync:!0},arguments)},H.prototype.on=function(C){return(0,xe.AN)(this,"on",{observable:!0,clearFunction:"un",clearWithArgs:!0},arguments)},H.prototype.un=function(C,y){return(0,xe.AN)(this,"un",{},arguments)},H.prototype.moveToBackground=function(){return(0,xe.AN)(this,"moveToBackground",{platforms:["Android"],sync:!0},arguments)},H.prototype.disableWebViewOptimizations=function(){return(0,xe.AN)(this,"disableWebViewOptimizations",{platforms:["Android"],sync:!0},arguments)},H.prototype.moveToForeground=function(){return(0,xe.AN)(this,"moveToForeground",{platforms:["Android"],sync:!0},arguments)},H.prototype.overrideBackButton=function(){return(0,xe.AN)(this,"overrideBackButton",{platforms:["Android"],sync:!0},arguments)},H.prototype.excludeFromTaskList=function(){return(0,xe.AN)(this,"excludeFromTaskList",{platforms:["Android"],sync:!0},arguments)},H.prototype.isScreenOff=function(C){return(0,xe.AN)(this,"isScreenOff",{platforms:["Android"]},arguments)},H.prototype.wakeUp=function(){return(0,xe.AN)(this,"wakeUp",{platforms:["Android"],sync:!0},arguments)},H.prototype.unlock=function(){return(0,xe.AN)(this,"unlock",{platforms:["Android"],sync:!0},arguments)},H.prototype.disableBatteryOptimizations=function(){return(0,xe.AN)(this,"disableBatteryOptimizations",{platforms:["Android"],sync:!0},arguments)},H.\u0275fac=(()=>{let C;return function(_){return(C||(C=rt.otF(H)))(_||H)}})(),H.\u0275prov=rt.wxM({token:H,factory:H.\u0275fac}),H.pluginName="BackgroundMode",H.plugin="cordova-plugin-background-mode",H.pluginRef="cordova.plugins.backgroundMode",H.repo="https://github.com/katzer/cordova-plugin-background-mode",H.platforms=["AmazonFire OS","Android","Browser","iOS","Windows"],H=(0,v.UN)([],H)}(xe.SM)},7756:(fn,Lt,me)=>{"use strict";me.d(Lt,{_:()=>Ne});var v=me(1316),xe=me(3080),rt=me(4496),Ne=function(r){function H(){return null!==r&&r.apply(this,arguments)||this}return(0,v.ct)(H,r),H.prototype.copy=function(C){return(0,xe.AN)(this,"copy",{},arguments)},H.prototype.paste=function(){return(0,xe.AN)(this,"paste",{},arguments)},H.prototype.clear=function(){return(0,xe.AN)(this,"clear",{},arguments)},H.\u0275fac=(()=>{let C;return function(_){return(C||(C=rt.otF(H)))(_||H)}})(),H.\u0275prov=rt.wxM({token:H,factory:H.\u0275fac}),H.pluginName="Clipboard",H.plugin="cordova-clipboard",H.pluginRef="cordova.plugins.clipboard",H.repo="https://github.com/ihadeed/cordova-clipboard",H.platforms=["Android","iOS","Windows Phone 8"],H=(0,v.UN)([],H)}(xe.SM)},3080:(fn,Lt,me)=>{"use strict";me.d(Lt,{SM:()=>F,sp:()=>f,AN:()=>k,qE:()=>j,QN:()=>N,Ce:()=>H});var xe=me(3252),rt=me(800),Ne={error:"cordova_not_available"},r={error:"plugin_not_installed"};function H(I){if(typeof window<"u"&&window.angular){var z=window.document,W=window.angular.element(z.querySelector("[ng-app]")||z.body).injector();if(W)return W.get("$q")(function(J,q){I(J,q)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(J,q){I(J,q)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function f(I,B,z){var W,ne;"string"==typeof I?W=I:(W=I.constructor.getPluginRef(),z=I.constructor.getPluginName(),ne=I.constructor.getPluginInstallName());var J=d(W);return!(!J||B&&typeof J[B]>"u")||(typeof window>"u"||!window.cordova?(function s(I,B){typeof process>"u"&&console.warn(B?"Native: tried calling "+I+"."+B+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+I+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(z,B),Ne):(function c(I,B,z){console.warn(z?"Native: tried calling "+I+"."+z+", but the "+I+" plugin is not installed.":"Native: tried accessing the "+I+" plugin but it's not installed."),B&&console.warn("Install the "+I+" plugin: 'ionic cordova plugin add "+B+"'")}(z,ne,B),r))}function a(I,B,z,W,ne,J){void 0===W&&(W={}),z=function w(I,B,z,W){if(void 0===B&&(B={}),B.sync)return I;if("reverse"===B.callbackOrder)I.unshift(W),I.unshift(z);else if("node"===B.callbackStyle)I.push(function(ae,fe){ae?W(ae):z(fe)});else if("object"===B.callbackStyle&&B.successName&&B.errorName){var ne={};ne[B.successName]=z,ne[B.errorName]=W,I.push(ne)}else if(typeof B.successIndex<"u"||typeof B.errorIndex<"u"){var J=function(){B.successIndex>I.length?I[B.successIndex]=z:I.splice(B.successIndex,0,z)},q=function(){B.errorIndex>I.length?I[B.errorIndex]=W:I.splice(B.errorIndex,0,W)};B.successIndex>B.errorIndex?(q(),J()):(J(),q())}else I.push(z),I.push(W);return I}(z,W,ne,J);var q=f(I,B);if(!0===q){var ae=d(I.constructor.getPluginRef());return ae[B].apply(ae,z)}return q}function d(I){return typeof window<"u"?u(window,I):null}function u(I,B){for(var z=B.split("."),W=I,ne=0;ne<z.length;ne++){if(!W)return null;W=W[z[ne]]}return W}var m=function(I,B,z){return void 0===z&&(z={}),function(){for(var W=[],ne=0;ne<arguments.length;ne++)W[ne]=arguments[ne];return z.sync?a(I,B,W,z):z.observable?function _(I,B,z,W){return void 0===W&&(W={}),new xe._(function(ne){var J;return J=W.destruct?a(I,B,z,W,function(){for(var q=[],ae=0;ae<arguments.length;ae++)q[ae]=arguments[ae];return ne.next(q)},function(){for(var q=[],ae=0;ae<arguments.length;ae++)q[ae]=arguments[ae];return ne.error(q)}):a(I,B,z,W,ne.next.bind(ne),ne.error.bind(ne)),J&&J.error&&(ne.error(J.error),ne.complete()),function(){try{if(W.clearFunction)return W.clearWithArgs?a(I,W.clearFunction,z,W,ne.next.bind(ne),ne.error.bind(ne)):a(I,W.clearFunction,[])}catch(q){console.warn("Unable to clear the previous observable watch for",I.constructor.getPluginName(),B),console.warn(q)}}})}(I,B,W,z):z.eventObservable&&z.event?function h(I,B){return B=typeof window<"u"&&B?u(window,B):B||(typeof window<"u"?window:{}),(0,rt.w)(B,I)}(z.event,z.element):z.otherPromise?function y(I,B,z,W){return void 0===W&&(W={}),H(function(ne,J){var q=a(I,B,z,W);q?q.error?J(q.error):q.then&&q.then(ne).catch(J):J({error:"unexpected_error"})})}(I,B,W,z):function C(I,B,z,W){void 0===W&&(W={});var ne,J,q=H(function(ae,fe){ne=W.destruct?a(I,B,z,W,function(){for(var Se=[],K=0;K<arguments.length;K++)Se[K]=arguments[K];return ae(Se)},function(){for(var Se=[],K=0;K<arguments.length;K++)Se[K]=arguments[K];return fe(Se)}):a(I,B,z,W,ae,fe),J=fe});return ne&&ne.error&&(q.catch(function(){}),"function"==typeof J&&J(ne.error)),q}(I,B,W,z)}},F=function(){function I(){}return I.installed=function(){return!0===f(this.pluginRef)},I.getPlugin=function(){return typeof window<"u"?function b(I,B){for(var z=B.split("."),W=I,ne=0;ne<z.length;ne++){if(!W)return null;W=W[z[ne]]}return W}(window,this.pluginRef):null},I.getPluginName=function(){return this.pluginName},I.getPluginRef=function(){return this.pluginRef},I.getPluginInstallName=function(){return this.plugin},I.getSupportedPlatforms=function(){return this.platforms},I.pluginName="",I.pluginRef="",I.plugin="",I.repo="",I.platforms=[],I.install="",I}();function k(I,B,z,W){return m(I,B,z).apply(this,W)}function j(I,B){return!0===f(I,B)?d(I.constructor.getPluginRef())[B]:null}function N(I,B,z){!0===f(I,B)&&(d(I.constructor.getPluginRef())[B]=z)}!function v(){if(typeof process>"u"){var I=typeof window<"u"?window:{},z=Date.now(),W=!1;I.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-z)+" ms"),W=!0}),setTimeout(function(){!W&&I.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},544:(fn,Lt,me)=>{"use strict";me.d(Lt,{S:()=>Ne});var v=me(1316),xe=me(3080),rt=me(4496),Ne=function(r){function H(){var C=null!==r&&r.apply(this,arguments)||this;return C.cordovaFileError={1:"NOT_FOUND_ERR",2:"SECURITY_ERR",3:"ABORT_ERR",4:"NOT_READABLE_ERR",5:"ENCODING_ERR",6:"NO_MODIFICATION_ALLOWED_ERR",7:"INVALID_STATE_ERR",8:"SYNTAX_ERR",9:"INVALID_MODIFICATION_ERR",10:"QUOTA_EXCEEDED_ERR",11:"TYPE_MISMATCH_ERR",12:"PATH_EXISTS_ERR",13:"WRONG_ENTRY_TYPE",14:"DIR_READ_ERR"},C}return(0,v.ct)(H,r),H.prototype.getFreeDiskSpace=function(){var C=this;return function(){if(!0===(0,xe.sp)(C))return(0,xe.Ce)(function(y,_){cordova.exec(y,_,"File","getFreeDiskSpace",[])})}()},H.prototype.checkDir=function(C,y){var _=this;return function(){if(!0===(0,xe.sp)(_)){if(/^\//.test(y)){var h=new FileError(5);return h.message="directory cannot start with /",Promise.reject(h)}return _.resolveDirectoryUrl(C+y).then(function(){return!0})}}()},H.prototype.createDir=function(C,y,_){var h=this;return function(){if(!0===(0,xe.sp)(h)){if(/^\//.test(y)){var f=new FileError(5);return f.message="directory cannot start with /",Promise.reject(f)}var E={create:!0};return _||(E.exclusive=!0),h.resolveDirectoryUrl(C).then(function(w){return h.getDirectory(w,y,E)})}}()},H.prototype.removeDir=function(C,y){var _=this;return function(){if(!0===(0,xe.sp)(_)){if(/^\//.test(y)){var h=new FileError(5);return h.message="directory cannot start with /",Promise.reject(h)}return _.resolveDirectoryUrl(C).then(function(f){return _.getDirectory(f,y,{create:!1})}).then(function(f){return _.remove(f)})}}()},H.prototype.moveDir=function(C,y,_,h){var f=this;return function(){if(!0===(0,xe.sp)(f)){if(/^\//.test(h=h||y)){var E=new FileError(5);return E.message="directory cannot start with /",Promise.reject(E)}return f.resolveDirectoryUrl(C).then(function(w){return f.getDirectory(w,y,{create:!1})}).then(function(w){return f.resolveDirectoryUrl(_).then(function(a){return f.move(w,a,h)})})}}()},H.prototype.copyDir=function(C,y,_,h){var f=this;return function(){if(!0===(0,xe.sp)(f)){if(/^\//.test(h)){var E=new FileError(5);return E.message="directory cannot start with /",Promise.reject(E)}return f.resolveDirectoryUrl(C).then(function(w){return f.getDirectory(w,y,{create:!1})}).then(function(w){return f.resolveDirectoryUrl(_).then(function(a){return f.copy(w,a,h)})})}}()},H.prototype.listDir=function(C,y){var _=this;return function(){if(!0===(0,xe.sp)(_)){if(/^\//.test(y)){var h=new FileError(5);return h.message="directory cannot start with /",Promise.reject(h)}return _.resolveDirectoryUrl(C).then(function(f){return _.getDirectory(f,y,{create:!1,exclusive:!1})}).then(function(f){var E=f.createReader();return _.readEntries(E)})}}()},H.prototype.removeRecursively=function(C,y){var _=this;return function(){if(!0===(0,xe.sp)(_)){if(/^\//.test(y)){var h=new FileError(5);return h.message="directory cannot start with /",Promise.reject(h)}return _.resolveDirectoryUrl(C).then(function(f){return _.getDirectory(f,y,{create:!1})}).then(function(f){return _.rimraf(f)})}}()},H.prototype.checkFile=function(C,y){var _=this;return function(){if(!0===(0,xe.sp)(_)){if(/^\//.test(y)){var h=new FileError(5);return h.message="file cannot start with /",Promise.reject(h)}return _.resolveLocalFilesystemUrl(C+y).then(function(f){if(f.isFile)return!0;var E=new FileError(13);return E.message="input is not a file",Promise.reject(E)})}}()},H.prototype.createFile=function(C,y,_){var h=this;return function(){if(!0===(0,xe.sp)(h)){if(/^\//.test(y)){var f=new FileError(5);return f.message="file-name cannot start with /",Promise.reject(f)}var E={create:!0};return _||(E.exclusive=!0),h.resolveDirectoryUrl(C).then(function(w){return h.getFile(w,y,E)})}}()},H.prototype.removeFile=function(C,y){var _=this;return function(){if(!0===(0,xe.sp)(_)){if(/^\//.test(y)){var h=new FileError(5);return h.message="file-name cannot start with /",Promise.reject(h)}return _.resolveDirectoryUrl(C).then(function(f){return _.getFile(f,y,{create:!1})}).then(function(f){return _.remove(f)})}}()},H.prototype.writeFile=function(C,y,_,h){var f=this;return void 0===h&&(h={}),function(){if(!0===(0,xe.sp)(f)){if(/^\//.test(y)){var E=new FileError(5);return E.message="file-name cannot start with /",Promise.reject(E)}var w={create:!h.append,exclusive:!h.replace};return f.resolveDirectoryUrl(C).then(function(a){return f.getFile(a,y,w)}).then(function(a){return f.writeFileEntry(a,_,h)})}}()},H.prototype.writeFileEntry=function(C,y,_){var h=this;return this.createWriter(C).then(function(f){return _.append&&f.seek(f.length),_.truncate&&f.truncate(_.truncate),h.write(f,y)}).then(function(){return C})},H.prototype.writeExistingFile=function(C,y,_){var h=this;return function(){if(!0===(0,xe.sp)(h))return h.writeFile(C,y,_,{replace:!0})}()},H.prototype.readAsText=function(C,y){var _=this;return function(){if(!0===(0,xe.sp)(_))return _.readFile(C,y,"Text")}()},H.prototype.readAsDataURL=function(C,y){var _=this;return function(){if(!0===(0,xe.sp)(_))return _.readFile(C,y,"DataURL")}()},H.prototype.readAsBinaryString=function(C,y){var _=this;return function(){if(!0===(0,xe.sp)(_))return _.readFile(C,y,"BinaryString")}()},H.prototype.readAsArrayBuffer=function(C,y){var _=this;return function(){if(!0===(0,xe.sp)(_))return _.readFile(C,y,"ArrayBuffer")}()},H.prototype.moveFile=function(C,y,_,h){var f=this;return function(){if(!0===(0,xe.sp)(f)){if(/^\//.test(h=h||y)){var E=new FileError(5);return E.message="file name cannot start with /",Promise.reject(E)}return f.resolveDirectoryUrl(C).then(function(w){return f.getFile(w,y,{create:!1})}).then(function(w){return f.resolveDirectoryUrl(_).then(function(a){return f.move(w,a,h)})})}}()},H.prototype.copyFile=function(C,y,_,h){var f=this;return function(){if(!0===(0,xe.sp)(f)){if(/^\//.test(h=h||y)){var E=new FileError(5);return E.message="file name cannot start with /",Promise.reject(E)}return f.resolveDirectoryUrl(C).then(function(w){return f.getFile(w,y,{create:!1})}).then(function(w){return f.resolveDirectoryUrl(_).then(function(a){return f.copy(w,a,h)})})}}()},H.prototype.fillErrorMessage=function(C){try{C.message=this.cordovaFileError[C.code]}catch{}},H.prototype.resolveLocalFilesystemUrl=function(C){var y=this;return function(){if(!0===(0,xe.sp)(y))return(0,xe.Ce)(function(_,h){try{window.resolveLocalFileSystemURL(C,function(f){_(f)},function(f){y.fillErrorMessage(f),h(f)})}catch(f){y.fillErrorMessage(f),h(f)}})}()},H.prototype.resolveDirectoryUrl=function(C){var y=this;return function(){if(!0===(0,xe.sp)(y))return y.resolveLocalFilesystemUrl(C).then(function(_){if(_.isDirectory)return _;var h=new FileError(13);return h.message="input is not a directory",Promise.reject(h)})}()},H.prototype.getDirectory=function(C,y,_){var h=this;return function(){if(!0===(0,xe.sp)(h))return new Promise(function(f,E){try{C.getDirectory(y,_,function(w){f(w)},function(w){h.fillErrorMessage(w),E(w)})}catch(w){h.fillErrorMessage(w),E(w)}})}()},H.prototype.getFile=function(C,y,_){var h=this;return function(){if(!0===(0,xe.sp)(h))return new Promise(function(f,E){try{C.getFile(y,_,f,function(w){h.fillErrorMessage(w),E(w)})}catch(w){h.fillErrorMessage(w),E(w)}})}()},H.prototype.readFile=function(C,y,_){var h=this;if(/^\//.test(y)){var f=new FileError(5);return f.message="file-name cannot start with /",Promise.reject(f)}return this.resolveDirectoryUrl(C).then(function(E){return h.getFile(E,y,{create:!1})}).then(function(E){var w=new FileReader;return(0,xe.Ce)(function(a,l){w.onloadend=function(){void 0!==w.result||null!==w.result?a(w.result):l(void 0!==w.error||null!==w.error?w.error:{code:null,message:"READER_ONLOADEND_ERR"})},E.file(function(d){w["readAs"+_].call(w,d)},function(d){l(d)})})})},H.prototype.remove=function(C){var y=this;return new Promise(function(_,h){C.remove(function(){_({success:!0,fileRemoved:C})},function(f){y.fillErrorMessage(f),h(f)})})},H.prototype.move=function(C,y,_){var h=this;return new Promise(function(f,E){C.moveTo(y,_,function(w){f(w)},function(w){h.fillErrorMessage(w),E(w)})})},H.prototype.copy=function(C,y,_){var h=this;return new Promise(function(f,E){C.copyTo(y,_,function(w){f(w)},function(w){h.fillErrorMessage(w),E(w)})})},H.prototype.readEntries=function(C){var y=this;return new Promise(function(_,h){C.readEntries(function(f){_(f)},function(f){y.fillErrorMessage(f),h(f)})})},H.prototype.rimraf=function(C){var y=this;return new Promise(function(_,h){C.removeRecursively(function(){_({success:!0,fileRemoved:C})},function(f){y.fillErrorMessage(f),h(f)})})},H.prototype.createWriter=function(C){var y=this;return new Promise(function(_,h){C.createWriter(function(f){_(f)},function(f){y.fillErrorMessage(f),h(f)})})},H.prototype.write=function(C,y){return y instanceof Blob?this.writeFileInChunks(C,y):new Promise(function(_,h){C.onwriteend=function(f){C.error?h(C.error):_(f)},C.write(y)})},H.prototype.writeFileInChunks=function(C,y){var h=0;function f(){var E=Math.min(1048576,y.size-h),w=y.slice(h,h+E);h+=E,C.write(w)}return(0,xe.Ce)(function(E,w){C.onerror=w,C.onwrite=function(){h<y.size?f():E()},f()})},Object.defineProperty(H.prototype,"applicationDirectory",{get:function(){return(0,xe.qE)(this,"applicationDirectory")},set:function(C){(0,xe.QN)(this,"applicationDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"applicationStorageDirectory",{get:function(){return(0,xe.qE)(this,"applicationStorageDirectory")},set:function(C){(0,xe.QN)(this,"applicationStorageDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"dataDirectory",{get:function(){return(0,xe.qE)(this,"dataDirectory")},set:function(C){(0,xe.QN)(this,"dataDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"cacheDirectory",{get:function(){return(0,xe.qE)(this,"cacheDirectory")},set:function(C){(0,xe.QN)(this,"cacheDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"externalApplicationStorageDirectory",{get:function(){return(0,xe.qE)(this,"externalApplicationStorageDirectory")},set:function(C){(0,xe.QN)(this,"externalApplicationStorageDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"externalDataDirectory",{get:function(){return(0,xe.qE)(this,"externalDataDirectory")},set:function(C){(0,xe.QN)(this,"externalDataDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"externalCacheDirectory",{get:function(){return(0,xe.qE)(this,"externalCacheDirectory")},set:function(C){(0,xe.QN)(this,"externalCacheDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"externalRootDirectory",{get:function(){return(0,xe.qE)(this,"externalRootDirectory")},set:function(C){(0,xe.QN)(this,"externalRootDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"tempDirectory",{get:function(){return(0,xe.qE)(this,"tempDirectory")},set:function(C){(0,xe.QN)(this,"tempDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"syncedDataDirectory",{get:function(){return(0,xe.qE)(this,"syncedDataDirectory")},set:function(C){(0,xe.QN)(this,"syncedDataDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"documentsDirectory",{get:function(){return(0,xe.qE)(this,"documentsDirectory")},set:function(C){(0,xe.QN)(this,"documentsDirectory",C)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"sharedDirectory",{get:function(){return(0,xe.qE)(this,"sharedDirectory")},set:function(C){(0,xe.QN)(this,"sharedDirectory",C)},enumerable:!1,configurable:!0}),H.\u0275fac=(()=>{let C;return function(_){return(C||(C=rt.otF(H)))(_||H)}})(),H.\u0275prov=rt.wxM({token:H,factory:H.\u0275fac}),H.pluginName="File",H.plugin="cordova-plugin-file",H.pluginRef="cordova.file",H.repo="https://github.com/apache/cordova-plugin-file",H.platforms=["Android","Browser","iOS","macOS","Windows"],H=(0,v.UN)([],H)}(xe.SM)},6928:(fn,Lt,me)=>{"use strict";me.d(Lt,{G8:()=>H});var v=me(1316),xe=me(3080),rt=me(4496),H=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return(0,v.ct)(y,C),y.prototype.hasPermission=function(){return(0,xe.AN)(this,"hasPermission",{},arguments)},y.prototype.requestPermission=function(){return(0,xe.AN)(this,"requestPermission",{},arguments)},y.prototype.schedule=function(_){return(0,xe.AN)(this,"schedule",{sync:!0},arguments)},y.prototype.update=function(_){return(0,xe.AN)(this,"update",{sync:!0},arguments)},y.prototype.clear=function(_){return(0,xe.AN)(this,"clear",{},arguments)},y.prototype.clearAll=function(){return(0,xe.AN)(this,"clearAll",{},arguments)},y.prototype.cancel=function(_){return(0,xe.AN)(this,"cancel",{},arguments)},y.prototype.cancelAll=function(){return(0,xe.AN)(this,"cancelAll",{},arguments)},y.prototype.isPresent=function(_){return(0,xe.AN)(this,"isPresent",{},arguments)},y.prototype.isScheduled=function(_){return(0,xe.AN)(this,"isScheduled",{},arguments)},y.prototype.isTriggered=function(_){return(0,xe.AN)(this,"isTriggered",{},arguments)},y.prototype.hasType=function(_,h){return(0,xe.AN)(this,"hasType",{},arguments)},y.prototype.getType=function(_){return(0,xe.AN)(this,"getType",{},arguments)},y.prototype.getIds=function(){return(0,xe.AN)(this,"getIds",{},arguments)},y.prototype.getScheduledIds=function(){return(0,xe.AN)(this,"getScheduledIds",{},arguments)},y.prototype.getTriggeredIds=function(){return(0,xe.AN)(this,"getTriggeredIds",{},arguments)},y.prototype.get=function(_){return(0,xe.AN)(this,"get",{},arguments)},y.prototype.getAll=function(){return(0,xe.AN)(this,"getAll",{},arguments)},y.prototype.getScheduled=function(_){return(0,xe.AN)(this,"getScheduled",{},arguments)},y.prototype.getTriggered=function(_){return(0,xe.AN)(this,"getTriggered",{},arguments)},y.prototype.addActions=function(_,h){return(0,xe.AN)(this,"addActions",{},arguments)},y.prototype.removeActions=function(_){return(0,xe.AN)(this,"removeActions",{},arguments)},y.prototype.hasActions=function(_){return(0,xe.AN)(this,"hasActions",{},arguments)},y.prototype.getDefaults=function(){return(0,xe.AN)(this,"getDefaults",{sync:!0},arguments)},y.prototype.setDefaults=function(_){return(0,xe.AN)(this,"setDefaults",{sync:!0},arguments)},y.prototype.getAllScheduled=function(){return(0,xe.AN)(this,"getAllScheduled",{},arguments)},y.prototype.getAllTriggered=function(){return(0,xe.AN)(this,"getAllTriggered",{},arguments)},y.prototype.on=function(_){return(0,xe.AN)(this,"on",{observable:!0,clearFunction:"un",clearWithArgs:!0},arguments)},y.prototype.fireEvent=function(_,h){return(0,xe.AN)(this,"fireEvent",{sync:!0},arguments)},y.prototype.fireQueuedEvents=function(){return(0,xe.AN)(this,"fireQueuedEvents",{},arguments)},y.\u0275fac=(()=>{let _;return function(f){return(_||(_=rt.otF(y)))(f||y)}})(),y.\u0275prov=rt.wxM({token:y,factory:y.\u0275fac}),y.pluginName="LocalNotifications",y.plugin="cordova-plugin-local-notification",y.pluginRef="cordova.plugins.notification.local",y.repo="https://github.com/katzer/cordova-plugin-local-notifications",y.platforms=["Android","iOS","Windows"],y=(0,v.UN)([],y)}(xe.SM)},9312:(fn,Lt,me)=>{"use strict";me.d(Lt,{G:()=>v});var v=function(xe){return xe.NOT_REQUIRED="NOT_REQUIRED",xe.OBTAINED="OBTAINED",xe.REQUIRED="REQUIRED",xe.UNKNOWN="UNKNOWN",xe}(v||{})},3428:(fn,Lt,me)=>{"use strict";me.d(Lt,{i8:()=>h,st:()=>rt,iq:()=>Ne,Ko:()=>r,iK:()=>C});var v=me(6400),rt=function(f){return f.SizeChanged="bannerAdSizeChanged",f.Loaded="bannerAdLoaded",f.FailedToLoad="bannerAdFailedToLoad",f.Opened="bannerAdOpened",f.Closed="bannerAdClosed",f.AdImpression="bannerAdImpression",f}(rt||{}),Ne=function(f){return f.TOP_CENTER="TOP_CENTER",f.CENTER="CENTER",f.BOTTOM_CENTER="BOTTOM_CENTER",f}(Ne||{}),r=function(f){return f.BANNER="BANNER",f.FULL_BANNER="FULL_BANNER",f.LARGE_BANNER="LARGE_BANNER",f.MEDIUM_RECTANGLE="MEDIUM_RECTANGLE",f.LEADERBOARD="LEADERBOARD",f.ADAPTIVE_BANNER="ADAPTIVE_BANNER",f.SMART_BANNER="SMART_BANNER",f}(r||{}),C=function(f){return f.Loaded="onRewardedVideoAdLoaded",f.FailedToLoad="onRewardedVideoAdFailedToLoad",f.Showed="onRewardedVideoAdShowed",f.FailedToShow="onRewardedVideoAdFailedToShow",f.Dismissed="onRewardedVideoAdDismissed",f.Rewarded="onRewardedVideoAdReward",f}(C||{});me(9312);const h=(0,v.C_)("AdMob",{web:()=>me.e(9192).then(me.bind(me,9192)).then(f=>new f.AdMobWeb)})},6400:(fn,Lt,me)=>{"use strict";me.d(Lt,{C_:()=>a,Yr:()=>_,io:()=>A,w8:()=>u});var v=me(1528);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var y=function(j){return j.Unimplemented="UNIMPLEMENTED",j.Unavailable="UNAVAILABLE",j}(y||{});class _ extends Error{constructor(N,I,B){super(N),this.message=N,this.code=I,this.data=B}}const f=j=>{var N,I,B,z,W;const ne=j.CapacitorCustomPlatform||null,J=j.Capacitor||{},q=J.Plugins=J.Plugins||{},ae=j.CapacitorPlatforms,Se=(null===(N=null==ae?void 0:ae.currentPlatform)||void 0===N?void 0:N.getPlatform)||(()=>null!==ne?ne.name:(j=>{var N,I;return null!=j&&j.androidBridge?"android":null!==(I=null===(N=null==j?void 0:j.webkit)||void 0===N?void 0:N.messageHandlers)&&void 0!==I&&I.bridge?"ios":"web"})(j)),R=(null===(I=null==ae?void 0:ae.currentPlatform)||void 0===I?void 0:I.isNativePlatform)||(()=>"web"!==Se()),ge=(null===(B=null==ae?void 0:ae.currentPlatform)||void 0===B?void 0:B.isPluginAvailable)||(Te=>{const Je=Oe.get(Te);return!!(null!=Je&&Je.platforms.has(Se())||Le(Te))}),Le=(null===(z=null==ae?void 0:ae.currentPlatform)||void 0===z?void 0:z.getPluginHeader)||(Te=>{var Je;return null===(Je=J.PluginHeaders)||void 0===Je?void 0:Je.find(Ye=>Ye.name===Te)}),Oe=new Map,Ve=(null===(W=null==ae?void 0:ae.currentPlatform)||void 0===W?void 0:W.registerPlugin)||((Te,Je={})=>{const Ye=Oe.get(Te);if(Ye)return console.warn(`Capacitor plugin "${Te}" already registered. Cannot register plugins twice.`),Ye.proxy;const bt=Se(),gt=Le(Te);let vt;const kt=function(){var Gt=(0,v.c)(function*(){return!vt&&bt in Je?vt=vt="function"==typeof Je[bt]?yield Je[bt]():Je[bt]:null!==ne&&!vt&&"web"in Je&&(vt=vt="function"==typeof Je.web?yield Je.web():Je.web),vt});return function(){return Gt.apply(this,arguments)}}(),Ft=Gt=>{let lt;const Ut=(..._t)=>{const je=kt().then(Ue=>{const Me=((Gt,lt)=>{var Ut,_t;if(!gt){if(Gt)return null===(_t=Gt[lt])||void 0===_t?void 0:_t.bind(Gt);throw new _(`"${Te}" plugin is not implemented on ${bt}`,y.Unimplemented)}{const je=null==gt?void 0:gt.methods.find(Ue=>lt===Ue.name);if(je)return"promise"===je.rtype?Ue=>J.nativePromise(Te,lt.toString(),Ue):(Ue,Me)=>J.nativeCallback(Te,lt.toString(),Ue,Me);if(Gt)return null===(Ut=Gt[lt])||void 0===Ut?void 0:Ut.bind(Gt)}})(Ue,Gt);if(Me){const Ke=Me(..._t);return lt=null==Ke?void 0:Ke.remove,Ke}throw new _(`"${Te}.${Gt}()" is not implemented on ${bt}`,y.Unimplemented)});return"addListener"===Gt&&(je.remove=(0,v.c)(function*(){return lt()})),je};return Ut.toString=()=>`${Gt.toString()}() { [capacitor code] }`,Object.defineProperty(Ut,"name",{value:Gt,writable:!1,configurable:!1}),Ut},an=Ft("addListener"),rn=Ft("removeListener"),dn=(Gt,lt)=>{const Ut=an({eventName:Gt},lt),_t=function(){var Ue=(0,v.c)(function*(){const Me=yield Ut;rn({eventName:Gt,callbackId:Me},lt)});return function(){return Ue.apply(this,arguments)}}(),je=new Promise(Ue=>Ut.then(()=>Ue({remove:_t})));return je.remove=(0,v.c)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield _t()}),je},qt=new Proxy({},{get(Gt,lt){switch(lt){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return gt?dn:an;case"removeListener":return rn;default:return Ft(lt)}}});return q[Te]=qt,Oe.set(Te,{name:Te,proxy:qt,platforms:new Set([...Object.keys(Je),...gt?[bt]:[]])}),qt});return J.convertFileSrc||(J.convertFileSrc=Te=>Te),J.getPlatform=Se,J.handleError=Te=>j.console.error(Te),J.isNativePlatform=R,J.isPluginAvailable=ge,J.pluginMethodNoop=(Te,Je,Ye)=>Promise.reject(`${Ye} does not have an implementation of "${Je}".`),J.registerPlugin=Ve,J.Exception=_,J.DEBUG=!!J.DEBUG,J.isLoggingEnabled=!!J.isLoggingEnabled,J.platform=J.getPlatform(),J.isNative=J.isNativePlatform(),J},w=(j=>j.Capacitor=f(j))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),a=w.registerPlugin;class u{constructor(N){this.listeners={},this.windowListeners={},N&&(console.warn(`Capacitor WebPlugin "${N.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=N)}addListener(N,I){var B=this;this.listeners[N]||(this.listeners[N]=[]),this.listeners[N].push(I);const W=this.windowListeners[N];W&&!W.registered&&this.addWindowListener(W);const ne=function(){var q=(0,v.c)(function*(){return B.removeListener(N,I)});return function(){return q.apply(this,arguments)}}(),J=Promise.resolve({remove:ne});return Object.defineProperty(J,"remove",{value:(q=(0,v.c)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield ne()}),function(){return q.apply(this,arguments)})}),J;var q}removeAllListeners(){var N=this;return(0,v.c)(function*(){N.listeners={};for(const I in N.windowListeners)N.removeWindowListener(N.windowListeners[I]);N.windowListeners={}})()}notifyListeners(N,I){const B=this.listeners[N];B&&B.forEach(z=>z(I))}hasListeners(N){return!!this.listeners[N].length}registerWindowListener(N,I){this.windowListeners[I]={registered:!1,windowEventName:N,pluginEventName:I,handler:B=>{this.notifyListeners(I,B)}}}unimplemented(N="not implemented"){return new w.Exception(N,y.Unimplemented)}unavailable(N="not available"){return new w.Exception(N,y.Unavailable)}removeListener(N,I){var B=this;return(0,v.c)(function*(){const z=B.listeners[N];if(!z)return;const W=z.indexOf(I);B.listeners[N].splice(W,1),B.listeners[N].length||B.removeWindowListener(B.windowListeners[N])})()}addWindowListener(N){window.addEventListener(N.windowEventName,N.handler),N.registered=!0}removeWindowListener(N){N&&(window.removeEventListener(N.windowEventName,N.handler),N.registered=!1)}}const s=j=>encodeURIComponent(j).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),m=j=>j.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class p extends u{getCookies(){return(0,v.c)(function*(){const N=document.cookie,I={};return N.split(";").forEach(B=>{if(B.length<=0)return;let[z,W]=B.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");z=m(z).trim(),W=m(W).trim(),I[z]=W}),I})()}setCookie(N){return(0,v.c)(function*(){try{const I=s(N.key),B=s(N.value),z=`; expires=${(N.expires||"").replace("expires=","")}`,W=(N.path||"/").replace("path=",""),ne=null!=N.url&&N.url.length>0?`domain=${N.url}`:"";document.cookie=`${I}=${B||""}${z}; path=${W}; ${ne};`}catch(I){return Promise.reject(I)}})()}deleteCookie(N){return(0,v.c)(function*(){try{document.cookie=`${N.key}=; Max-Age=0`}catch(I){return Promise.reject(I)}})()}clearCookies(){return(0,v.c)(function*(){try{const N=document.cookie.split(";")||[];for(const I of N)document.cookie=I.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(N){return Promise.reject(N)}})()}clearAllCookies(){var N=this;return(0,v.c)(function*(){try{yield N.clearCookies()}catch(I){return Promise.reject(I)}})()}}a("CapacitorCookies",{web:()=>new p});const T=function(){var j=(0,v.c)(function*(N){return new Promise((I,B)=>{const z=new FileReader;z.onload=()=>{const W=z.result;I(W.indexOf(",")>=0?W.split(",")[1]:W)},z.onerror=W=>B(W),z.readAsDataURL(N)})});return function(I){return j.apply(this,arguments)}}(),A=(j,N={})=>{const I=Object.assign({method:j.method||"GET",headers:j.headers},N),z=((j={})=>{const N=Object.keys(j);return Object.keys(j).map(z=>z.toLocaleLowerCase()).reduce((z,W,ne)=>(z[W]=j[N[ne]],z),{})})(j.headers)["content-type"]||"";if("string"==typeof j.data)I.body=j.data;else if(z.includes("application/x-www-form-urlencoded")){const W=new URLSearchParams;for(const[ne,J]of Object.entries(j.data||{}))W.set(ne,J);I.body=W.toString()}else if(z.includes("multipart/form-data")||j.data instanceof FormData){const W=new FormData;if(j.data instanceof FormData)j.data.forEach((J,q)=>{W.append(q,J)});else for(const J of Object.keys(j.data))W.append(J,j.data[J]);I.body=W;const ne=new Headers(I.headers);ne.delete("content-type"),I.headers=ne}else(z.includes("application/json")||"object"==typeof j.data)&&(I.body=JSON.stringify(j.data));return I};class P extends u{request(N){return(0,v.c)(function*(){const I=A(N,N.webFetchExtra),B=((j,N=!0)=>j?Object.entries(j).reduce((B,z)=>{const[W,ne]=z;let J,q;return Array.isArray(ne)?(q="",ne.forEach(ae=>{J=N?encodeURIComponent(ae):ae,q+=`${W}=${J}&`}),q.slice(0,-1)):(J=N?encodeURIComponent(ne):ne,q=`${W}=${J}`),`${B}&${q}`},"").substr(1):null)(N.params,N.shouldEncodeUrlParams),z=B?`${N.url}?${B}`:N.url,W=yield fetch(z,I),ne=W.headers.get("content-type")||"";let q,ae,{responseType:J="text"}=W.ok?N:{};switch(ne.includes("application/json")&&(J="json"),J){case"arraybuffer":case"blob":ae=yield W.blob(),q=yield T(ae);break;case"json":q=yield W.json();break;default:q=yield W.text()}const fe={};return W.headers.forEach((Se,K)=>{fe[K]=Se}),{data:q,headers:fe,status:W.status,url:W.url}})()}get(N){var I=this;return(0,v.c)(function*(){return I.request(Object.assign(Object.assign({},N),{method:"GET"}))})()}post(N){var I=this;return(0,v.c)(function*(){return I.request(Object.assign(Object.assign({},N),{method:"POST"}))})()}put(N){var I=this;return(0,v.c)(function*(){return I.request(Object.assign(Object.assign({},N),{method:"PUT"}))})()}patch(N){var I=this;return(0,v.c)(function*(){return I.request(Object.assign(Object.assign({},N),{method:"PATCH"}))})()}delete(N){var I=this;return(0,v.c)(function*(){return I.request(Object.assign(Object.assign({},N),{method:"DELETE"}))})()}}a("CapacitorHttp",{web:()=>new P})},9248:(fn,Lt,me)=>{"use strict";me.d(Lt,{c:()=>rt,r:()=>f});const rt=(k,A)=>{k.componentOnReady?k.componentOnReady().then(P=>A(P)):f(()=>A(k))},f=k=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(k):"function"==typeof requestAnimationFrame?requestAnimationFrame(k):setTimeout(k)},1896:(fn,Lt,me)=>{"use strict";me.d(Lt,{L:()=>v,a:()=>xe,b:()=>rt,c:()=>Ne,d:()=>r,g:()=>k});const v="ionViewWillEnter",xe="ionViewDidEnter",rt="ionViewWillLeave",Ne="ionViewDidLeave",r="ionViewWillUnload",k=A=>A.classList.contains("ion-page")?A:A.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||A},388:(fn,Lt,me)=>{"use strict";me.d(Lt,{c:()=>d});var v=me(4829),xe=me(6384);let rt;const r=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H=u=>(void 0===rt&&(rt=void 0===u.style.animationName&&void 0!==u.style.webkitAnimationName?"-webkit-":""),rt),C=(u,c,s)=>{const m=c.startsWith("animation")?H(u):"";u.style.setProperty(m+c,s)},y=(u,c)=>{const s=c.startsWith("animation")?H(u):"";u.style.removeProperty(s+c)},f=[],l=(u=[],c)=>{if(void 0!==c){const s=Array.isArray(c)?c:[c];return[...u,...s]}return u},d=u=>{let c,s,m,p,b,T,$,J,q,ae,fe,se,ge,F=[],k=[],A=[],P=!1,j={},N=[],I=[],B={},z=0,W=!1,ne=!1,Se=!0,K=!1,R=!0,De=!1;const Le=u,Ze=[],et=[],Oe=[],$e=[],Ve=[],Te=[],Je=[],Ye=[],bt=[],gt=[],vt=[],kt="function"==typeof AnimationEffect||void 0!==v.w&&"function"==typeof v.w.AnimationEffect,Ht="function"==typeof Element&&"function"==typeof Element.prototype.animate&&kt,an=()=>vt,lt=(At,Ae)=>{const We=Ae.findIndex(Dt=>Dt.c===At);We>-1&&Ae.splice(We,1)},_t=(At,Ae)=>((null!=Ae&&Ae.oneTimeCallback?et:Ze).push({c:At,o:Ae}),ge),Ue=()=>{if(Ht)vt.forEach(At=>{At.cancel()}),vt.length=0;else{const At=$e.slice();(0,xe.r)(()=>{At.forEach(Ae=>{y(Ae,"animation-name"),y(Ae,"animation-duration"),y(Ae,"animation-timing-function"),y(Ae,"animation-iteration-count"),y(Ae,"animation-delay"),y(Ae,"animation-play-state"),y(Ae,"animation-fill-mode"),y(Ae,"animation-direction")})})}},Me=()=>{Te.forEach(At=>{null!=At&&At.parentNode&&At.parentNode.removeChild(At)}),Te.length=0},ut=()=>void 0!==b?b:$?$.getFill():"both",It=()=>void 0!==q?q:void 0!==T?T:$?$.getDirection():"normal",Be=()=>W?"linear":void 0!==m?m:$?$.getEasing():"linear",ct=()=>ne?0:void 0!==ae?ae:void 0!==s?s:$?$.getDuration():0,Ot=()=>void 0!==p?p:$?$.getIterations():1,Pt=()=>void 0!==fe?fe:void 0!==c?c:$?$.getDelay():0,G=()=>{0!==z&&(z--,0===z&&((()=>{Wn(),bt.forEach(Rt=>Rt()),gt.forEach(Rt=>Rt());const At=Se?1:0,Ae=N,We=I,Dt=B;$e.forEach(Rt=>{const Wt=Rt.classList;Ae.forEach(re=>Wt.add(re)),We.forEach(re=>Wt.remove(re));for(const re in Dt)Dt.hasOwnProperty(re)&&C(Rt,re,Dt[re])}),ae=void 0,q=void 0,fe=void 0,Ze.forEach(Rt=>Rt.c(At,ge)),et.forEach(Rt=>Rt.c(At,ge)),et.length=0,R=!0,Se&&(K=!0),Se=!0})(),$&&$.animationFinish()))},V=(At=!0)=>{Me();const Ae=(u=>(u.forEach(c=>{for(const s in c)if(c.hasOwnProperty(s)){const m=c[s];if("easing"===s)c["animation-timing-function"]=m,delete c[s];else{const p=r(s);p!==s&&(c[p]=m,delete c[s])}}}),u))(F);$e.forEach(We=>{if(Ae.length>0){const Dt=((u=[])=>u.map(c=>{const s=c.offset,m=[];for(const p in c)c.hasOwnProperty(p)&&"offset"!==p&&m.push(`${p}: ${c[p]};`);return`${100*s}% { ${m.join(" ")} }`}).join(" "))(Ae);se=void 0!==u?u:(u=>{let c=f.indexOf(u);return c<0&&(c=f.push(u)-1),`ion-animation-${c}`})(Dt);const Rt=((u,c,s)=>{var m;const p=(u=>{const c=void 0!==u.getRootNode?u.getRootNode():u;return c.head||c})(s),b=H(s),T=p.querySelector("#"+u);if(T)return T;const F=(null!==(m=s.ownerDocument)&&void 0!==m?m:document).createElement("style");return F.id=u,F.textContent=`@${b}keyframes ${u} { ${c} } @${b}keyframes ${u}-alt { ${c} }`,p.appendChild(F),F})(se,Dt,We);Te.push(Rt),C(We,"animation-duration",`${ct()}ms`),C(We,"animation-timing-function",Be()),C(We,"animation-delay",`${Pt()}ms`),C(We,"animation-fill-mode",ut()),C(We,"animation-direction",It());const Wt=Ot()===1/0?"infinite":Ot().toString();C(We,"animation-iteration-count",Wt),C(We,"animation-play-state","paused"),At&&C(We,"animation-name",`${Rt.id}-alt`),(0,xe.r)(()=>{C(We,"animation-name",Rt.id||null)})}})},de=(At=!0)=>{(()=>{Je.forEach(Dt=>Dt()),Ye.forEach(Dt=>Dt());const At=k,Ae=A,We=j;$e.forEach(Dt=>{const Rt=Dt.classList;At.forEach(Wt=>Rt.add(Wt)),Ae.forEach(Wt=>Rt.remove(Wt));for(const Wt in We)We.hasOwnProperty(Wt)&&C(Dt,Wt,We[Wt])})})(),F.length>0&&(Ht?($e.forEach(At=>{const Ae=At.animate(F,{id:Le,delay:Pt(),duration:ct(),easing:Be(),iterations:Ot(),fill:ut(),direction:It()});Ae.pause(),vt.push(Ae)}),vt.length>0&&(vt[0].onfinish=()=>{G()})):V(At)),P=!0},Z=At=>{if(At=Math.min(Math.max(At,0),.9999),Ht)vt.forEach(Ae=>{Ae.currentTime=Ae.effect.getComputedTiming().delay+ct()*At,Ae.pause()});else{const Ae=`-${ct()*At}ms`;$e.forEach(We=>{F.length>0&&(C(We,"animation-delay",Ae),C(We,"animation-play-state","paused"))})}},ve=At=>{vt.forEach(Ae=>{Ae.effect.updateTiming({delay:Pt(),duration:ct(),easing:Be(),iterations:Ot(),fill:ut(),direction:It()})}),void 0!==At&&Z(At)},Pe=(At=!0,Ae)=>{(0,xe.r)(()=>{$e.forEach(We=>{C(We,"animation-name",se||null),C(We,"animation-duration",`${ct()}ms`),C(We,"animation-timing-function",Be()),C(We,"animation-delay",void 0!==Ae?`-${Ae*ct()}ms`:`${Pt()}ms`),C(We,"animation-fill-mode",ut()||null),C(We,"animation-direction",It()||null);const Dt=Ot()===1/0?"infinite":Ot().toString();C(We,"animation-iteration-count",Dt),At&&C(We,"animation-name",`${se}-alt`),(0,xe.r)(()=>{C(We,"animation-name",se||null)})})})},ot=(At=!1,Ae=!0,We)=>(At&&Ve.forEach(Dt=>{Dt.update(At,Ae,We)}),Ht?ve(We):Pe(Ae,We),ge),ln=()=>{P&&(Ht?vt.forEach(At=>{At.pause()}):$e.forEach(At=>{C(At,"animation-play-state","paused")}),De=!0)},Kn=()=>{J=void 0,G()},Wn=()=>{J&&clearTimeout(J)},Ge=At=>new Promise(Ae=>{null!=At&&At.sync&&(ne=!0,_t(()=>ne=!1,{oneTimeCallback:!0})),P||de(),K&&(Ht?(Z(0),ve()):Pe(),K=!1),R&&(z=Ve.length+1,R=!1);const We=()=>{lt(Dt,et),Ae()},Dt=()=>{lt(We,Oe),Ae()};_t(Dt,{oneTimeCallback:!0}),((At,Ae)=>{Oe.push({c:At,o:{oneTimeCallback:!0}})})(We),Ve.forEach(Rt=>{Rt.play()}),Ht?(vt.forEach(At=>{At.play()}),(0===F.length||0===$e.length)&&G()):(()=>{if(Wn(),(0,xe.r)(()=>{$e.forEach(At=>{F.length>0&&C(At,"animation-play-state","running")})}),0===F.length||0===$e.length)G();else{const At=Pt()||0,Ae=ct()||0,We=Ot()||1;isFinite(We)&&(J=setTimeout(Kn,At+Ae*We+100)),((u,c)=>{let s;const m={passive:!0},b=T=>{u===T.target&&(s&&s(),Wn(),(0,xe.r)(()=>{$e.forEach(At=>{y(At,"animation-duration"),y(At,"animation-delay"),y(At,"animation-play-state")}),(0,xe.r)(G)}))};u&&(u.addEventListener("webkitAnimationEnd",b,m),u.addEventListener("animationend",b,m),s=()=>{u.removeEventListener("webkitAnimationEnd",b,m),u.removeEventListener("animationend",b,m)})})($e[0])}})(),De=!1}),Vt=(At,Ae)=>{const We=F[0];return void 0===We||void 0!==We.offset&&0!==We.offset?F=[{offset:0,[At]:Ae},...F]:We[At]=Ae,ge};return ge={parentAnimation:$,elements:$e,childAnimations:Ve,id:Le,animationFinish:G,from:Vt,to:(At,Ae)=>{const We=F[F.length-1];return void 0===We||void 0!==We.offset&&1!==We.offset?F=[...F,{offset:1,[At]:Ae}]:We[At]=Ae,ge},fromTo:(At,Ae,We)=>Vt(At,Ae).to(At,We),parent:At=>($=At,ge),play:Ge,pause:()=>(Ve.forEach(At=>{At.pause()}),ln(),ge),stop:()=>{Ve.forEach(At=>{At.stop()}),P&&(Ue(),P=!1),W=!1,ne=!1,R=!0,q=void 0,ae=void 0,fe=void 0,z=0,K=!1,Se=!0,De=!1,Oe.forEach(At=>At.c(0,ge)),Oe.length=0},destroy:At=>(Ve.forEach(Ae=>{Ae.destroy(At)}),(At=>{Ue(),At&&Me()})(At),$e.length=0,Ve.length=0,F.length=0,Ze.length=0,et.length=0,P=!1,R=!0,ge),keyframes:At=>{const Ae=F!==At;return F=At,Ae&&(At=>{Ht?an().forEach(Ae=>{const We=Ae.effect;if(We.setKeyframes)We.setKeyframes(At);else{const Dt=new KeyframeEffect(We.target,At,We.getTiming());Ae.effect=Dt}}):V()})(F),ge},addAnimation:At=>{if(null!=At)if(Array.isArray(At))for(const Ae of At)Ae.parent(ge),Ve.push(Ae);else At.parent(ge),Ve.push(At);return ge},addElement:At=>{if(null!=At)if(1===At.nodeType)$e.push(At);else if(At.length>=0)for(let Ae=0;Ae<At.length;Ae++)$e.push(At[Ae]);else console.error("Invalid addElement value");return ge},update:ot,fill:At=>(b=At,ot(!0),ge),direction:At=>(T=At,ot(!0),ge),iterations:At=>(p=At,ot(!0),ge),duration:At=>(!Ht&&0===At&&(At=1),s=At,ot(!0),ge),easing:At=>(m=At,ot(!0),ge),delay:At=>(c=At,ot(!0),ge),getWebAnimations:an,getKeyframes:()=>F,getFill:ut,getDirection:It,getDelay:Pt,getIterations:Ot,getEasing:Be,getDuration:ct,afterAddRead:At=>(bt.push(At),ge),afterAddWrite:At=>(gt.push(At),ge),afterClearStyles:(At=[])=>{for(const Ae of At)B[Ae]="";return ge},afterStyles:(At={})=>(B=At,ge),afterRemoveClass:At=>(I=l(I,At),ge),afterAddClass:At=>(N=l(N,At),ge),beforeAddRead:At=>(Je.push(At),ge),beforeAddWrite:At=>(Ye.push(At),ge),beforeClearStyles:(At=[])=>{for(const Ae of At)j[Ae]="";return ge},beforeStyles:(At={})=>(j=At,ge),beforeRemoveClass:At=>(A=l(A,At),ge),beforeAddClass:At=>(k=l(k,At),ge),onFinish:_t,isRunning:()=>0!==z&&!De,progressStart:(At=!1,Ae)=>(Ve.forEach(We=>{We.progressStart(At,Ae)}),ln(),W=At,P||de(),ot(!1,!0,Ae),ge),progressStep:At=>(Ve.forEach(Ae=>{Ae.progressStep(At)}),Z(At),ge),progressEnd:(At,Ae,We)=>(W=!1,Ve.forEach(Dt=>{Dt.progressEnd(At,Ae,We)}),void 0!==We&&(ae=We),K=!1,Se=!0,0===At?(q="reverse"===It()?"normal":"reverse","reverse"===q&&(Se=!1),Ht?(ot(),Z(1-Ae)):(fe=(1-Ae)*ct()*-1,ot(!1,!1))):1===At&&(Ht?(ot(),Z(Ae)):(fe=Ae*ct()*-1,ot(!1,!1))),void 0!==At&&!$&&Ge(),ge)}}},9637:(fn,Lt,me)=>{"use strict";me.d(Lt,{E:()=>h,I:()=>C,a:()=>v,s:()=>y});const v=f=>{try{if(f instanceof C)return f.value;if(!Ne()||"string"!=typeof f||""===f)return f;if(f.includes("onload="))return"";const E=document.createDocumentFragment(),w=document.createElement("div");E.appendChild(w),w.innerHTML=f,H.forEach(u=>{const c=E.querySelectorAll(u);for(let s=c.length-1;s>=0;s--){const m=c[s];m.parentNode?m.parentNode.removeChild(m):E.removeChild(m);const p=rt(m);for(let b=0;b<p.length;b++)xe(p[b])}});const a=rt(E);for(let u=0;u<a.length;u++)xe(a[u]);const l=document.createElement("div");l.appendChild(E);const d=l.querySelector("div");return null!==d?d.innerHTML:l.innerHTML}catch(E){return console.error(E),""}},xe=f=>{if(f.nodeType&&1!==f.nodeType)return;if(typeof NamedNodeMap<"u"&&!(f.attributes instanceof NamedNodeMap))return void f.remove();for(let w=f.attributes.length-1;w>=0;w--){const a=f.attributes.item(w),l=a.name;if(!r.includes(l.toLowerCase())){f.removeAttribute(l);continue}const d=a.value,u=f[l];(null!=d&&d.toLowerCase().includes("javascript:")||null!=u&&u.toLowerCase().includes("javascript:"))&&f.removeAttribute(l)}const E=rt(f);for(let w=0;w<E.length;w++)xe(E[w])},rt=f=>null!=f.children?f.children:f.childNodes,Ne=()=>{var f;const E=window,w=null===(f=null==E?void 0:E.Ionic)||void 0===f?void 0:f.config;return!w||(w.get?w.get("sanitizerEnabled",!0):!0===w.sanitizerEnabled||void 0===w.sanitizerEnabled)},r=["class","id","href","src","name","slot"],H=["script","style","iframe","meta","link","object","embed"];class C{constructor(E){this.value=E}}const y=f=>{const E=window,w=E.Ionic;if(!w||!w.config||"Object"===w.config.constructor.name)return E.Ionic=E.Ionic||{},E.Ionic.config=Object.assign(Object.assign({},E.Ionic.config),f),E.Ionic.config},h=!1},495:(fn,Lt,me)=>{"use strict";me.d(Lt,{C:()=>r,a:()=>rt,d:()=>Ne});var v=me(1528),xe=me(6384);const rt=function(){var H=(0,v.c)(function*(C,y,_,h,f,E){var w;if(C)return C.attachViewToDom(y,_,f,h);if(!(E||"string"==typeof _||_ instanceof HTMLElement))throw new Error("framework delegate is missing");const a="string"==typeof _?null===(w=y.ownerDocument)||void 0===w?void 0:w.createElement(_):_;return h&&h.forEach(l=>a.classList.add(l)),f&&Object.assign(a,f),y.appendChild(a),yield new Promise(l=>(0,xe.c)(a,l)),a});return function(y,_,h,f,E,w){return H.apply(this,arguments)}}(),Ne=(H,C)=>{if(C){if(H)return H.removeViewFromDom(C.parentElement,C);C.remove()}return Promise.resolve()},r=()=>{let H,C;return{attachViewToDom:function(){var h=(0,v.c)(function*(f,E,w={},a=[]){var l,d;let u;if(H=f,E){const s="string"==typeof E?null===(l=H.ownerDocument)||void 0===l?void 0:l.createElement(E):E;a.forEach(m=>s.classList.add(m)),Object.assign(s,w),H.appendChild(s),u=s,yield new Promise(m=>(0,xe.c)(s,m))}else if(H.children.length>0&&("ION-MODAL"===H.tagName||"ION-POPOVER"===H.tagName)&&!(u=H.children[0]).classList.contains("ion-delegate-host")){const m=null===(d=H.ownerDocument)||void 0===d?void 0:d.createElement("div");m.classList.add("ion-delegate-host"),a.forEach(p=>m.classList.add(p)),m.append(...H.children),H.appendChild(m),u=m}const c=document.querySelector("ion-app")||document.body;return C=document.createComment("ionic teleport"),H.parentNode.insertBefore(C,H),c.appendChild(H),null!=u?u:H});return function(E,w){return h.apply(this,arguments)}}(),removeViewFromDom:()=>(H&&C&&(C.parentNode.insertBefore(H,C),C.remove()),Promise.resolve())}}},6560:(fn,Lt,me)=>{"use strict";me.d(Lt,{G:()=>r});class xe{constructor(C,y,_,h,f){this.id=y,this.name=_,this.disableScroll=f,this.priority=1e6*h+y,this.ctrl=C}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const C=this.ctrl.capture(this.name,this.id,this.priority);return C&&this.disableScroll&&this.ctrl.disableScroll(this.id),C}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class rt{constructor(C,y,_,h){this.id=y,this.disable=_,this.disableScroll=h,this.ctrl=C}block(){if(this.ctrl){if(this.disable)for(const C of this.disable)this.ctrl.disableGesture(C,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const C of this.disable)this.ctrl.enableGesture(C,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Ne="backdrop-no-scroll",r=new class v{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(C){var y;return new xe(this,this.newID(),C.name,null!==(y=C.priority)&&void 0!==y?y:0,!!C.disableScroll)}createBlocker(C={}){return new rt(this,this.newID(),C.disable,!!C.disableScroll)}start(C,y,_){return this.canStart(C)?(this.requestedStart.set(y,_),!0):(this.requestedStart.delete(y),!1)}capture(C,y,_){if(!this.start(C,y,_))return!1;const h=this.requestedStart;let f=-1e4;if(h.forEach(E=>{f=Math.max(f,E)}),f===_){this.capturedId=y,h.clear();const E=new CustomEvent("ionGestureCaptured",{detail:{gestureName:C}});return document.dispatchEvent(E),!0}return h.delete(y),!1}release(C){this.requestedStart.delete(C),this.capturedId===C&&(this.capturedId=void 0)}disableGesture(C,y){let _=this.disabledGestures.get(C);void 0===_&&(_=new Set,this.disabledGestures.set(C,_)),_.add(y)}enableGesture(C,y){const _=this.disabledGestures.get(C);void 0!==_&&_.delete(y)}disableScroll(C){this.disabledScroll.add(C),1===this.disabledScroll.size&&document.body.classList.add(Ne)}enableScroll(C){this.disabledScroll.delete(C),0===this.disabledScroll.size&&document.body.classList.remove(Ne)}canStart(C){return!(void 0!==this.capturedId||this.isDisabled(C))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(C){const y=this.disabledGestures.get(C);return!!(y&&y.size>0)}newID(){return this.gestureId++,this.gestureId}}},136:(fn,Lt,me)=>{"use strict";me.r(Lt),me.d(Lt,{MENU_BACK_BUTTON_PRIORITY:()=>_,OVERLAY_BACK_BUTTON_PRIORITY:()=>y,blockHardwareBackButton:()=>H,shoudUseCloseWatcher:()=>r,startHardwareBackButton:()=>C});var v=me(1528),xe=me(4829),rt=me(1780);me(3716);const r=()=>rt.c.get("experimentalCloseWatcher",!1)&&void 0!==xe.w&&"CloseWatcher"in xe.w,H=()=>{document.addEventListener("backbutton",()=>{})},C=()=>{const h=document;let f=!1;const E=()=>{if(f)return;let w=0,a=[];const l=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(c,s){a.push({priority:c,handler:s,id:w++})}}});h.dispatchEvent(l);const d=function(){var c=(0,v.c)(function*(s){try{if(null!=s&&s.handler){const m=s.handler(u);null!=m&&(yield m)}}catch(m){console.error(m)}});return function(m){return c.apply(this,arguments)}}(),u=()=>{if(a.length>0){let c={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};a.forEach(s=>{s.priority>=c.priority&&(c=s)}),f=!0,a=a.filter(s=>s.id!==c.id),d(c).then(()=>f=!1)}};u()};if(r()){let w;const a=()=>{null==w||w.destroy(),w=new xe.w.CloseWatcher,w.onclose=()=>{E(),a()}};a()}else h.addEventListener("backbutton",E)},y=100,_=99},6384:(fn,Lt,me)=>{"use strict";me.d(Lt,{a:()=>y,b:()=>_,c:()=>rt,d:()=>d,e:()=>l,f:()=>a,g:()=>h,h:()=>w,i:()=>C,j:()=>b,k:()=>r,l:()=>u,m:()=>Ne,n:()=>E,o:()=>c,p:()=>p,q:()=>T,r:()=>f,s:()=>F,t:()=>v,u:()=>s,v:()=>m});const v=(k,A=0)=>new Promise(P=>{xe(k,A,P)}),xe=(k,A=0,P)=>{let $,j;const N={passive:!0},B=()=>{$&&$()},z=W=>{(void 0===W||k===W.target)&&(B(),P(W))};return k&&(k.addEventListener("webkitTransitionEnd",z,N),k.addEventListener("transitionend",z,N),j=setTimeout(z,A+500),$=()=>{void 0!==j&&(clearTimeout(j),j=void 0),k.removeEventListener("webkitTransitionEnd",z,N),k.removeEventListener("transitionend",z,N)}),B},rt=(k,A)=>{k.componentOnReady?k.componentOnReady().then(P=>A(P)):f(()=>A(k))},Ne=k=>void 0!==k.componentOnReady,r=(k,A=[])=>{const P={};return A.forEach($=>{k.hasAttribute($)&&(null!==k.getAttribute($)&&(P[$]=k.getAttribute($)),k.removeAttribute($))}),P},H=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],C=(k,A)=>{let P=H;return A&&A.length>0&&(P=P.filter($=>!A.includes($))),r(k,P)},y=(k,A,P,$)=>{var j;if(typeof window<"u"){const N=window,I=null===(j=null==N?void 0:N.Ionic)||void 0===j?void 0:j.config;if(I){const B=I.get("_ael");if(B)return B(k,A,P,$);if(I._ael)return I._ael(k,A,P,$)}}return k.addEventListener(A,P,$)},_=(k,A,P,$)=>{var j;if(typeof window<"u"){const N=window,I=null===(j=null==N?void 0:N.Ionic)||void 0===j?void 0:j.config;if(I){const B=I.get("_rel");if(B)return B(k,A,P,$);if(I._rel)return I._rel(k,A,P,$)}}return k.removeEventListener(A,P,$)},h=(k,A=k)=>k.shadowRoot||A,f=k=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(k):"function"==typeof requestAnimationFrame?requestAnimationFrame(k):setTimeout(k),E=k=>!!k.shadowRoot&&!!k.attachShadow,w=k=>{const A=k.closest("ion-item");return A?A.querySelector("ion-label"):null},a=k=>{if(k.focus(),k.classList.contains("ion-focusable")){const A=k.closest("ion-app");A&&A.setFocus([k])}},l=(k,A)=>{let P;const $=k.getAttribute("aria-labelledby"),j=k.id;let N=null!==$&&""!==$.trim()?$:A+"-lbl",I=null!==$&&""!==$.trim()?document.getElementById($):w(k);return I?(null===$&&(I.id=N),P=I.textContent,I.setAttribute("aria-hidden","true")):""!==j.trim()&&(I=document.querySelector(`label[for="${j}"]`),I&&(""!==I.id?N=I.id:I.id=N=`${j}-lbl`,P=I.textContent)),{label:I,labelId:N,labelText:P}},d=(k,A,P,$,j)=>{if(k||E(A)){let N=A.querySelector("input.aux-input");N||(N=A.ownerDocument.createElement("input"),N.type="hidden",N.classList.add("aux-input"),A.appendChild(N)),N.disabled=j,N.name=P,N.value=$||""}},u=(k,A,P)=>Math.max(k,Math.min(A,P)),c=(k,A)=>{if(!k){const P="ASSERT: "+A;throw console.error(P),new Error(P)}},s=k=>k.timeStamp||Date.now(),m=k=>{if(k){const A=k.changedTouches;if(A&&A.length>0){const P=A[0];return{x:P.clientX,y:P.clientY}}if(void 0!==k.pageX)return{x:k.pageX,y:k.pageY}}return{x:0,y:0}},p=k=>{const A="rtl"===document.dir;switch(k){case"start":return A;case"end":return!A;default:throw new Error(`"${k}" is not a valid value for [side]. Use "start" or "end" instead.`)}},b=(k,A)=>{const P=k._original||k;return{_original:k,emit:T(P.emit.bind(P),A)}},T=(k,A=0)=>{let P;return(...$)=>{clearTimeout(P),P=setTimeout(k,A,...$)}},F=(k,A)=>{if(null!=k||(k={}),null!=A||(A={}),k===A)return!0;const P=Object.keys(k);if(P.length!==Object.keys(A).length)return!1;for(const $ of P)if(!($ in A)||k[$]!==A[$])return!1;return!0}},2528:(fn,Lt,me)=>{"use strict";me.r(Lt),me.d(Lt,{GESTURE_CONTROLLER:()=>v.G,createGesture:()=>_});var v=me(6560);const xe=(w,a,l,d)=>{const u=rt(w)?{capture:!!d.capture,passive:!!d.passive}:!!d.capture;let c,s;return w.__zone_symbol__addEventListener?(c="__zone_symbol__addEventListener",s="__zone_symbol__removeEventListener"):(c="addEventListener",s="removeEventListener"),w[c](a,l,u),()=>{w[s](a,l,u)}},rt=w=>{if(void 0===Ne)try{const a=Object.defineProperty({},"passive",{get:()=>{Ne=!0}});w.addEventListener("optsTest",()=>{},a)}catch{Ne=!1}return!!Ne};let Ne;const C=w=>w instanceof Document?w:w.ownerDocument,_=w=>{let a=!1,l=!1,d=!0,u=!1;const c=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},w),s=c.canStart,m=c.onWillStart,p=c.onStart,b=c.onEnd,T=c.notCaptured,F=c.onMove,k=c.threshold,A=c.passive,P=c.blurOnStart,$={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},j=((w,a,l)=>{const d=l*(Math.PI/180),u="x"===w,c=Math.cos(d),s=a*a;let m=0,p=0,b=!1,T=0;return{start(F,k){m=F,p=k,T=0,b=!0},detect(F,k){if(!b)return!1;const A=F-m,P=k-p,$=A*A+P*P;if($<s)return!1;const j=Math.sqrt($),N=(u?A:P)/j;return T=N>c?1:N<-c?-1:0,b=!1,!0},isGesture:()=>0!==T,getDirection:()=>T}})(c.direction,c.threshold,c.maxAngle),N=v.G.createGesture({name:w.gestureName,priority:w.gesturePriority,disableScroll:w.disableScroll}),z=()=>{a&&(u=!1,F&&F($))},W=()=>!!N.capture()&&(a=!0,d=!1,$.startX=$.currentX,$.startY=$.currentY,$.startTime=$.currentTime,m?m($).then(J):J(),!0),J=()=>{P&&(()=>{if(typeof document<"u"){const K=document.activeElement;null!=K&&K.blur&&K.blur()}})(),p&&p($),d=!0},q=()=>{a=!1,l=!1,u=!1,d=!0,N.release()},ae=K=>{const R=a,se=d;if(q(),se){if(h($,K),R)return void(b&&b($));T&&T($)}},fe=((w,a,l,d,u)=>{let c,s,m,p,b,T,F,k=0;const A=ne=>{k=Date.now()+2e3,a(ne)&&(!s&&l&&(s=xe(w,"touchmove",l,u)),m||(m=xe(ne.target,"touchend",$,u)),p||(p=xe(ne.target,"touchcancel",$,u)))},P=ne=>{k>Date.now()||a(ne)&&(!T&&l&&(T=xe(C(w),"mousemove",l,u)),F||(F=xe(C(w),"mouseup",j,u)))},$=ne=>{N(),d&&d(ne)},j=ne=>{I(),d&&d(ne)},N=()=>{s&&s(),m&&m(),p&&p(),s=m=p=void 0},I=()=>{T&&T(),F&&F(),T=F=void 0},B=()=>{N(),I()},z=(ne=!0)=>{ne?(c||(c=xe(w,"touchstart",A,u)),b||(b=xe(w,"mousedown",P,u))):(c&&c(),b&&b(),c=b=void 0,B())};return{enable:z,stop:B,destroy:()=>{z(!1),d=l=a=void 0}}})(c.el,K=>{const R=E(K);return!(l||!d||(f(K,$),$.startX=$.currentX,$.startY=$.currentY,$.startTime=$.currentTime=R,$.velocityX=$.velocityY=$.deltaX=$.deltaY=0,$.event=K,s&&!1===s($))||(N.release(),!N.start()))&&(l=!0,0===k?W():(j.start($.startX,$.startY),!0))},K=>{a?!u&&d&&(u=!0,h($,K),requestAnimationFrame(z)):(h($,K),j.detect($.currentX,$.currentY)&&(!j.isGesture()||!W())&&Se())},ae,{capture:!1,passive:A}),Se=()=>{q(),fe.stop(),T&&T($)};return{enable(K=!0){K||(a&&ae(void 0),q()),fe.enable(K)},destroy(){N.destroy(),fe.destroy()}}},h=(w,a)=>{if(!a)return;const l=w.currentX,d=w.currentY,u=w.currentTime;f(a,w);const c=w.currentX,s=w.currentY,p=(w.currentTime=E(a))-u;if(p>0&&p<100){const T=(s-d)/p;w.velocityX=(c-l)/p*.7+.3*w.velocityX,w.velocityY=.7*T+.3*w.velocityY}w.deltaX=c-w.startX,w.deltaY=s-w.startY,w.event=a},f=(w,a)=>{let l=0,d=0;if(w){const u=w.changedTouches;if(u&&u.length>0){const c=u[0];l=c.clientX,d=c.clientY}else void 0!==w.pageX&&(l=w.pageX,d=w.pageY)}a.currentX=l,a.currentY=d},E=w=>w.timeStamp||Date.now()},2032:(fn,Lt,me)=>{"use strict";me.d(Lt,{a:()=>xe,b:()=>rt,p:()=>v});const v=(Ne,...r)=>console.warn(`[Ionic Warning]: ${Ne}`,...r),xe=(Ne,...r)=>console.error(`[Ionic Error]: ${Ne}`,...r),rt=(Ne,...r)=>console.error(`<${Ne.tagName.toLowerCase()}> must be used inside ${r.join(" or ")}.`)},3716:(fn,Lt,me)=>{"use strict";me.d(Lt,{B:()=>E,H:()=>W,a:()=>kn,b:()=>nr,c:()=>se,d:()=>Ze,e:()=>An,f:()=>Le,g:()=>ge,h:()=>B,i:()=>ut,j:()=>w,r:()=>V,w:()=>At});var v=me(1528);let Ne,r,H,C=!1,y=!1,_=!1,h=!1,f=!1;const E={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},w=Ae=>{const We=new URL(Ae,ln.$resourcesUrl$);return We.origin!==sn.location.origin?We.href:We.pathname},m="s-id",p="sty-id",b="c-id",F="slot-fb{display:contents}slot-fb[hidden]{display:none}",k="http://www.w3.org/1999/xlink",A={},N=Ae=>"object"==(Ae=typeof Ae)||"function"===Ae;function I(Ae){var We,Dt,Rt;return null!==(Rt=null===(Dt=null===(We=Ae.head)||void 0===We?void 0:We.querySelector('meta[name="csp-nonce"]'))||void 0===Dt?void 0:Dt.getAttribute("content"))&&void 0!==Rt?Rt:void 0}const B=(Ae,We,...Dt)=>{let Rt=null,Wt=null,re=null,Re=!1,ye=!1;const He=[],pt=Dn=>{for(let On=0;On<Dn.length;On++)Rt=Dn[On],Array.isArray(Rt)?pt(Rt):null!=Rt&&"boolean"!=typeof Rt&&((Re="function"!=typeof Ae&&!N(Rt))&&(Rt=String(Rt)),Re&&ye?He[He.length-1].$text$+=Rt:He.push(Re?z(null,Rt):Rt),ye=Re)};if(pt(Dt),We){We.key&&(Wt=We.key),We.name&&(re=We.name);{const Dn=We.className||We.class;Dn&&(We.class="object"!=typeof Dn?Dn:Object.keys(Dn).filter(On=>Dn[On]).join(" "))}}if("function"==typeof Ae)return Ae(null===We?{}:We,He,J);const Jt=z(Ae,null);return Jt.$attrs$=We,He.length>0&&(Jt.$children$=He),Jt.$key$=Wt,Jt.$name$=re,Jt},z=(Ae,We)=>({$flags$:0,$tag$:Ae,$text$:We,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),W={},J={forEach:(Ae,We)=>Ae.map(q).forEach(We),map:(Ae,We)=>Ae.map(q).map(We).map(ae)},q=Ae=>({vattrs:Ae.$attrs$,vchildren:Ae.$children$,vkey:Ae.$key$,vname:Ae.$name$,vtag:Ae.$tag$,vtext:Ae.$text$}),ae=Ae=>{if("function"==typeof Ae.vtag){const Dt=Object.assign({},Ae.vattrs);return Ae.vkey&&(Dt.key=Ae.vkey),Ae.vname&&(Dt.name=Ae.vname),B(Ae.vtag,Dt,...Ae.vchildren||[])}const We=z(Ae.vtag,Ae.vtext);return We.$attrs$=Ae.vattrs,We.$children$=Ae.vchildren,We.$key$=Ae.vkey,We.$name$=Ae.vname,We},Se=(Ae,We,Dt,Rt,Wt,re,Re)=>{let ye,He,pt,Jt;if(1===re.nodeType){for(ye=re.getAttribute(b),ye&&(He=ye.split("."),(He[0]===Re||"0"===He[0])&&(pt={$flags$:0,$hostId$:He[0],$nodeId$:He[1],$depth$:He[2],$index$:He[3],$tag$:re.tagName.toLowerCase(),$elm$:re,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},We.push(pt),re.removeAttribute(b),Ae.$children$||(Ae.$children$=[]),Ae.$children$[pt.$index$]=pt,Ae=pt,Rt&&"0"===pt.$depth$&&(Rt[pt.$index$]=pt.$elm$))),Jt=re.childNodes.length-1;Jt>=0;Jt--)Se(Ae,We,Dt,Rt,Wt,re.childNodes[Jt],Re);if(re.shadowRoot)for(Jt=re.shadowRoot.childNodes.length-1;Jt>=0;Jt--)Se(Ae,We,Dt,Rt,Wt,re.shadowRoot.childNodes[Jt],Re)}else if(8===re.nodeType)He=re.nodeValue.split("."),(He[1]===Re||"0"===He[1])&&(ye=He[0],pt={$flags$:0,$hostId$:He[1],$nodeId$:He[2],$depth$:He[3],$index$:He[4],$elm$:re,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===ye?(pt.$elm$=re.nextSibling,pt.$elm$&&3===pt.$elm$.nodeType&&(pt.$text$=pt.$elm$.textContent,We.push(pt),re.remove(),Ae.$children$||(Ae.$children$=[]),Ae.$children$[pt.$index$]=pt,Rt&&"0"===pt.$depth$&&(Rt[pt.$index$]=pt.$elm$))):pt.$hostId$===Re&&("s"===ye?(pt.$tag$="slot",re["s-sn"]=He[5]?pt.$name$=He[5]:"",re["s-sr"]=!0,Rt&&(pt.$elm$=_n.createElement(pt.$tag$),pt.$name$&&pt.$elm$.setAttribute("name",pt.$name$),re.parentNode.insertBefore(pt.$elm$,re),re.remove(),"0"===pt.$depth$&&(Rt[pt.$index$]=pt.$elm$)),Dt.push(pt),Ae.$children$||(Ae.$children$=[]),Ae.$children$[pt.$index$]=pt):"r"===ye&&(Rt?re.remove():(Wt["s-cr"]=re,re["s-cn"]=!0))));else if(Ae&&"style"===Ae.$tag$){const Dn=z(null,re.textContent);Dn.$elm$=re,Dn.$index$="0",Ae.$children$=[Dn]}},K=(Ae,We)=>{if(1===Ae.nodeType){let Dt=0;for(;Dt<Ae.childNodes.length;Dt++)K(Ae.childNodes[Dt],We);if(Ae.shadowRoot)for(Dt=0;Dt<Ae.shadowRoot.childNodes.length;Dt++)K(Ae.shadowRoot.childNodes[Dt],We)}else if(8===Ae.nodeType){const Dt=Ae.nodeValue.split(".");"o"===Dt[0]&&(We.set(Dt[1]+"."+Dt[2],Ae),Ae.nodeValue="",Ae["s-en"]=Dt[3])}},se=Ae=>Tt.push(Ae),ge=Ae=>G(Ae).$modeName$,Le=Ae=>G(Ae).$hostElement$,Ze=(Ae,We,Dt)=>{const Rt=Le(Ae);return{emit:Wt=>et(Rt,We,{bubbles:!!(4&Dt),composed:!!(2&Dt),cancelable:!!(1&Dt),detail:Wt})}},et=(Ae,We,Dt)=>{const Rt=ln.ce(We,Dt);return Ae.dispatchEvent(Rt),Rt},Oe=new WeakMap,$e=(Ae,We,Dt)=>{let Rt=ot.get(Ae);Cr&&Dt?(Rt=Rt||new CSSStyleSheet,"string"==typeof Rt?Rt=We:Rt.replaceSync(We)):Rt=We,ot.set(Ae,Rt)},Ve=(Ae,We,Dt)=>{var Rt;const Wt=Je(We,Dt),re=ot.get(Wt);if(Ae=11===Ae.nodeType?Ae:_n,re)if("string"==typeof re){let ye,Re=Oe.get(Ae=Ae.head||Ae);if(Re||Oe.set(Ae,Re=new Set),!Re.has(Wt)){if(Ae.host&&(ye=Ae.querySelector(`[${p}="${Wt}"]`)))ye.innerHTML=re;else{ye=_n.createElement("style"),ye.innerHTML=re;const He=null!==(Rt=ln.$nonce$)&&void 0!==Rt?Rt:I(_n);null!=He&&ye.setAttribute("nonce",He),Ae.insertBefore(ye,Ae.querySelector("link"))}4&We.$flags$&&(ye.innerHTML+=F),Re&&Re.add(Wt)}}else Ae.adoptedStyleSheets.includes(re)||(Ae.adoptedStyleSheets=[...Ae.adoptedStyleSheets,re]);return Wt},Je=(Ae,We)=>"sc-"+(We&&32&Ae.$flags$?Ae.$tagName$+"-"+We:Ae.$tagName$),Ye=Ae=>Ae.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),bt=(Ae,We,Dt,Rt,Wt,re)=>{if(Dt!==Rt){let Re=de(Ae,We),ye=We.toLowerCase();if("class"===We){const He=Ae.classList,pt=vt(Dt),Jt=vt(Rt);He.remove(...pt.filter(Dn=>Dn&&!Jt.includes(Dn))),He.add(...Jt.filter(Dn=>Dn&&!pt.includes(Dn)))}else if("style"===We){for(const He in Dt)(!Rt||null==Rt[He])&&(He.includes("-")?Ae.style.removeProperty(He):Ae.style[He]="");for(const He in Rt)(!Dt||Rt[He]!==Dt[He])&&(He.includes("-")?Ae.style.setProperty(He,Rt[He]):Ae.style[He]=Rt[He])}else if("key"!==We)if("ref"===We)Rt&&Rt(Ae);else if(Re||"o"!==We[0]||"n"!==We[1]){const He=N(Rt);if((Re||He&&null!==Rt)&&!Wt)try{if(Ae.tagName.includes("-"))Ae[We]=Rt;else{const Jt=null==Rt?"":Rt;"list"===We?Re=!1:(null==Dt||Ae[We]!=Jt)&&(Ae[We]=Jt)}}catch{}let pt=!1;ye!==(ye=ye.replace(/^xlink\:?/,""))&&(We=ye,pt=!0),null==Rt||!1===Rt?(!1!==Rt||""===Ae.getAttribute(We))&&(pt?Ae.removeAttributeNS(k,We):Ae.removeAttribute(We)):(!Re||4&re||Wt)&&!He&&(Rt=!0===Rt?"":Rt,pt?Ae.setAttributeNS(k,We,Rt):Ae.setAttribute(We,Rt))}else if(We="-"===We[2]?We.slice(3):de(sn,ye)?ye.slice(2):ye[2]+We.slice(3),Dt||Rt){const He=We.endsWith(kt);We=We.replace(Ht,""),Dt&&ln.rel(Ae,We,Dt,He),Rt&&ln.ael(Ae,We,Rt,He)}}},gt=/\s/,vt=Ae=>Ae?Ae.split(gt):[],kt="Capture",Ht=new RegExp(kt+"$"),Ft=(Ae,We,Dt,Rt)=>{const Wt=11===We.$elm$.nodeType&&We.$elm$.host?We.$elm$.host:We.$elm$,re=Ae&&Ae.$attrs$||A,Re=We.$attrs$||A;for(Rt in re)Rt in Re||bt(Wt,Rt,re[Rt],void 0,Dt,We.$flags$);for(Rt in Re)bt(Wt,Rt,re[Rt],Re[Rt],Dt,We.$flags$)},an=(Ae,We,Dt,Rt)=>{const Wt=We.$children$[Dt];let Re,ye,He,re=0;if(C||(_=!0,"slot"===Wt.$tag$&&(Ne&&Rt.classList.add(Ne+"-s"),Wt.$flags$|=Wt.$children$?2:1)),null!==Wt.$text$)Re=Wt.$elm$=_n.createTextNode(Wt.$text$);else if(1&Wt.$flags$)Re=Wt.$elm$=_n.createTextNode("");else{if(h||(h="svg"===Wt.$tag$),Re=Wt.$elm$=_n.createElementNS(h?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Wt.$flags$?"slot-fb":Wt.$tag$),h&&"foreignObject"===Wt.$tag$&&(h=!1),Ft(null,Wt,h),(Ae=>null!=Ae)(Ne)&&Re["s-si"]!==Ne&&Re.classList.add(Re["s-si"]=Ne),Wt.$children$)for(re=0;re<Wt.$children$.length;++re)ye=an(Ae,Wt,re,Re),ye&&Re.appendChild(ye);"svg"===Wt.$tag$?h=!1:"foreignObject"===Re.tagName&&(h=!0)}return Re["s-hn"]=H,3&Wt.$flags$&&(Re["s-sr"]=!0,Re["s-cr"]=r,Re["s-sn"]=Wt.$name$||"",He=Ae&&Ae.$children$&&Ae.$children$[Dt],He&&He.$tag$===Wt.$tag$&&Ae.$elm$&&rn(Ae.$elm$,!1)),Re},rn=(Ae,We)=>{ln.$flags$|=1;const Dt=Ae.childNodes;for(let Rt=Dt.length-1;Rt>=0;Rt--){const Wt=Dt[Rt];Wt["s-hn"]!==H&&Wt["s-ol"]&&(_t(Wt).insertBefore(Wt,Ut(Wt)),Wt["s-ol"].remove(),Wt["s-ol"]=void 0,Wt["s-sh"]=void 0,_=!0),We&&rn(Wt,We)}ln.$flags$&=-2},dn=(Ae,We,Dt,Rt,Wt,re)=>{let ye,Re=Ae["s-cr"]&&Ae["s-cr"].parentNode||Ae;for(Re.shadowRoot&&Re.tagName===H&&(Re=Re.shadowRoot);Wt<=re;++Wt)Rt[Wt]&&(ye=an(null,Dt,Wt,Ae),ye&&(Rt[Wt].$elm$=ye,Re.insertBefore(ye,Ut(We))))},qt=(Ae,We,Dt)=>{for(let Rt=We;Rt<=Dt;++Rt){const Wt=Ae[Rt];if(Wt){const re=Wt.$elm$;Ct(Wt),re&&(y=!0,re["s-ol"]?re["s-ol"].remove():rn(re,!0),re.remove())}}},lt=(Ae,We,Dt=!1)=>Ae.$tag$===We.$tag$&&("slot"===Ae.$tag$?Ae.$name$===We.$name$:!!Dt||Ae.$key$===We.$key$),Ut=Ae=>Ae&&Ae["s-ol"]||Ae,_t=Ae=>(Ae["s-ol"]?Ae["s-ol"]:Ae).parentNode,je=(Ae,We,Dt=!1)=>{const Rt=We.$elm$=Ae.$elm$,Wt=Ae.$children$,re=We.$children$,Re=We.$tag$,ye=We.$text$;let He;null===ye?(h="svg"===Re||"foreignObject"!==Re&&h,"slot"===Re&&!C||Ft(Ae,We,h),null!==Wt&&null!==re?((Ae,We,Dt,Rt,Wt=!1)=>{let Or,Tr,re=0,Re=0,ye=0,He=0,pt=We.length-1,Jt=We[0],Dn=We[pt],On=Rt.length-1,Hn=Rt[0],Xn=Rt[On];for(;re<=pt&&Re<=On;)if(null==Jt)Jt=We[++re];else if(null==Dn)Dn=We[--pt];else if(null==Hn)Hn=Rt[++Re];else if(null==Xn)Xn=Rt[--On];else if(lt(Jt,Hn,Wt))je(Jt,Hn,Wt),Jt=We[++re],Hn=Rt[++Re];else if(lt(Dn,Xn,Wt))je(Dn,Xn,Wt),Dn=We[--pt],Xn=Rt[--On];else if(lt(Jt,Xn,Wt))("slot"===Jt.$tag$||"slot"===Xn.$tag$)&&rn(Jt.$elm$.parentNode,!1),je(Jt,Xn,Wt),Ae.insertBefore(Jt.$elm$,Dn.$elm$.nextSibling),Jt=We[++re],Xn=Rt[--On];else if(lt(Dn,Hn,Wt))("slot"===Jt.$tag$||"slot"===Xn.$tag$)&&rn(Dn.$elm$.parentNode,!1),je(Dn,Hn,Wt),Ae.insertBefore(Dn.$elm$,Jt.$elm$),Dn=We[--pt],Hn=Rt[++Re];else{for(ye=-1,He=re;He<=pt;++He)if(We[He]&&null!==We[He].$key$&&We[He].$key$===Hn.$key$){ye=He;break}ye>=0?(Tr=We[ye],Tr.$tag$!==Hn.$tag$?Or=an(We&&We[Re],Dt,ye,Ae):(je(Tr,Hn,Wt),We[ye]=void 0,Or=Tr.$elm$),Hn=Rt[++Re]):(Or=an(We&&We[Re],Dt,Re,Ae),Hn=Rt[++Re]),Or&&_t(Jt.$elm$).insertBefore(Or,Ut(Jt.$elm$))}re>pt?dn(Ae,null==Rt[On+1]?null:Rt[On+1].$elm$,Dt,Rt,Re,On):Re>On&&qt(We,re,pt)})(Rt,Wt,We,re,Dt):null!==re?(null!==Ae.$text$&&(Rt.textContent=""),dn(Rt,null,We,re,0,re.length-1)):null!==Wt&&qt(Wt,0,Wt.length-1),h&&"svg"===Re&&(h=!1)):(He=Rt["s-cr"])?He.parentNode.textContent=ye:Ae.$text$!==ye&&(Rt.data=ye)},Ue=Ae=>{const We=Ae.childNodes;for(const Dt of We)if(1===Dt.nodeType){if(Dt["s-sr"]){const Rt=Dt["s-sn"];Dt.hidden=!1;for(const Wt of We)if(Wt!==Dt)if(Wt["s-hn"]!==Dt["s-hn"]||""!==Rt){if(1===Wt.nodeType&&(Rt===Wt.getAttribute("slot")||Rt===Wt["s-sn"])){Dt.hidden=!0;break}}else if(1===Wt.nodeType||3===Wt.nodeType&&""!==Wt.textContent.trim()){Dt.hidden=!0;break}}Ue(Dt)}},Me=[],Ke=Ae=>{let We,Dt,Rt;for(const Wt of Ae.childNodes){if(Wt["s-sr"]&&(We=Wt["s-cr"])&&We.parentNode){Dt=We.parentNode.childNodes;const re=Wt["s-sn"];for(Rt=Dt.length-1;Rt>=0;Rt--)if(We=Dt[Rt],!We["s-cn"]&&!We["s-nr"]&&We["s-hn"]!==Wt["s-hn"])if(wt(We,re)){let Re=Me.find(ye=>ye.$nodeToRelocate$===We);y=!0,We["s-sn"]=We["s-sn"]||re,Re?(Re.$nodeToRelocate$["s-sh"]=Wt["s-hn"],Re.$slotRefNode$=Wt):(We["s-sh"]=Wt["s-hn"],Me.push({$slotRefNode$:Wt,$nodeToRelocate$:We})),We["s-sr"]&&Me.map(ye=>{wt(ye.$nodeToRelocate$,We["s-sn"])&&(Re=Me.find(He=>He.$nodeToRelocate$===We),Re&&!ye.$slotRefNode$&&(ye.$slotRefNode$=Re.$slotRefNode$))})}else Me.some(Re=>Re.$nodeToRelocate$===We)||Me.push({$nodeToRelocate$:We})}1===Wt.nodeType&&Ke(Wt)}},wt=(Ae,We)=>1===Ae.nodeType?null===Ae.getAttribute("slot")&&""===We||Ae.getAttribute("slot")===We:Ae["s-sn"]===We||""===We,Ct=Ae=>{Ae.$attrs$&&Ae.$attrs$.ref&&Ae.$attrs$.ref(null),Ae.$children$&&Ae.$children$.map(Ct)},nn=(Ae,We)=>{We&&!Ae.$onRenderResolve$&&We["s-p"]&&We["s-p"].push(new Promise(Dt=>Ae.$onRenderResolve$=Dt))},wn=(Ae,We)=>{if(Ae.$flags$|=16,!(4&Ae.$flags$))return nn(Ae,Ae.$ancestorComponent$),At(()=>xn(Ae,We));Ae.$flags$|=512},xn=(Ae,We)=>{const Rt=Ae.$lazyInstance$;let Wt;return We&&(Ae.$flags$|=256,Ae.$queuedListeners$&&(Ae.$queuedListeners$.map(([re,Re])=>Be(Rt,re,Re)),Ae.$queuedListeners$=void 0),Wt=Be(Rt,"componentWillLoad")),Wt=St(Wt,()=>Be(Rt,"componentWillRender")),St(Wt,()=>Nt(Ae,Rt,We))},St=(Ae,We)=>Et(Ae)?Ae.then(We):We(),Et=Ae=>Ae instanceof Promise||Ae&&Ae.then&&"function"==typeof Ae.then,Nt=function(){var Ae=(0,v.c)(function*(We,Dt,Rt){var Wt;const re=We.$hostElement$,ye=re["s-rc"];Rt&&(Ae=>{const We=Ae.$cmpMeta$,Dt=Ae.$hostElement$,Rt=We.$flags$,re=Ve(Dt.shadowRoot?Dt.shadowRoot:Dt.getRootNode(),We,Ae.$modeName$);10&Rt&&(Dt["s-sc"]=re,Dt.classList.add(re+"-h"),2&Rt&&Dt.classList.add(re+"-s"))})(We);yt(We,Dt,re,Rt),ye&&(ye.map(pt=>pt()),re["s-rc"]=void 0);{const pt=null!==(Wt=re["s-p"])&&void 0!==Wt?Wt:[],Jt=()=>tt(We);0===pt.length?Jt():(Promise.all(pt).then(Jt),We.$flags$|=4,pt.length=0)}});return function(Dt,Rt,Wt){return Ae.apply(this,arguments)}}(),yt=(Ae,We,Dt,Rt)=>{try{We=We.render&&We.render(),Ae.$flags$&=-17,Ae.$flags$|=2,((Ae,We,Dt=!1)=>{var Rt,Wt,re,Re;const ye=Ae.$hostElement$,He=Ae.$cmpMeta$,pt=Ae.$vnode$||z(null,null),Jt=(Ae=>Ae&&Ae.$tag$===W)(We)?We:B(null,null,We);if(H=ye.tagName,He.$attrsToReflect$&&(Jt.$attrs$=Jt.$attrs$||{},He.$attrsToReflect$.map(([Dn,On])=>Jt.$attrs$[On]=ye[Dn])),Dt&&Jt.$attrs$)for(const Dn of Object.keys(Jt.$attrs$))ye.hasAttribute(Dn)&&!["key","ref","style","class"].includes(Dn)&&(Jt.$attrs$[Dn]=ye[Dn]);if(Jt.$tag$=null,Jt.$flags$|=4,Ae.$vnode$=Jt,Jt.$elm$=pt.$elm$=ye.shadowRoot||ye,Ne=ye["s-sc"],C=0!=(1&He.$flags$),r=ye["s-cr"],y=!1,je(pt,Jt,Dt),ln.$flags$|=1,_){Ke(Jt.$elm$);for(const Dn of Me){const On=Dn.$nodeToRelocate$;if(!On["s-ol"]){const Hn=_n.createTextNode("");Hn["s-nr"]=On,On.parentNode.insertBefore(On["s-ol"]=Hn,On)}}for(const Dn of Me){const On=Dn.$nodeToRelocate$,Hn=Dn.$slotRefNode$;if(Hn){const Xn=Hn.parentNode;let Or=Hn.nextSibling;{let Tr=null===(Rt=On["s-ol"])||void 0===Rt?void 0:Rt.previousSibling;for(;Tr;){let kr=null!==(Wt=Tr["s-nr"])&&void 0!==Wt?Wt:null;if(kr&&kr["s-sn"]===On["s-sn"]&&Xn===kr.parentNode&&(kr=kr.nextSibling,!kr||!kr["s-nr"])){Or=kr;break}Tr=Tr.previousSibling}}(!Or&&Xn!==On.parentNode||On.nextSibling!==Or)&&On!==Or&&(!On["s-hn"]&&On["s-ol"]&&(On["s-hn"]=On["s-ol"].parentNode.nodeName),Xn.insertBefore(On,Or),1===On.nodeType&&(On.hidden=null!==(re=On["s-ih"])&&void 0!==re&&re))}else 1===On.nodeType&&(Dt&&(On["s-ih"]=null!==(Re=On.hidden)&&void 0!==Re&&Re),On.hidden=!0)}}y&&Ue(Jt.$elm$),ln.$flags$&=-2,Me.length=0,r=void 0})(Ae,We,Rt)}catch(Wt){Z(Wt,Ae.$hostElement$)}return null},tt=Ae=>{const Dt=Ae.$hostElement$,Wt=Ae.$lazyInstance$,re=Ae.$ancestorComponent$;Be(Wt,"componentDidRender"),64&Ae.$flags$?Be(Wt,"componentDidUpdate"):(Ae.$flags$|=64,ct(Dt),Be(Wt,"componentDidLoad"),Ae.$onReadyResolve$(Dt),re||It()),Ae.$onInstanceResolve$(Dt),Ae.$onRenderResolve$&&(Ae.$onRenderResolve$(),Ae.$onRenderResolve$=void 0),512&Ae.$flags$&&cn(()=>wn(Ae,!1)),Ae.$flags$&=-517},ut=Ae=>{{const We=G(Ae),Dt=We.$hostElement$.isConnected;return Dt&&2==(18&We.$flags$)&&wn(We,!1),Dt}},It=Ae=>{ct(_n.documentElement),cn(()=>et(sn,"appload",{detail:{namespace:"ionic"}}))},Be=(Ae,We,Dt)=>{if(Ae&&Ae[We])try{return Ae[We](Dt)}catch(Rt){Z(Rt)}},ct=Ae=>Ae.classList.add("hydrated"),zt=(Ae,We,Dt)=>{var Rt;const Wt=Ae.prototype;if(We.$members$){Ae.watchers&&(We.$watchers$=Ae.watchers);const re=Object.entries(We.$members$);if(re.map(([Re,[ye]])=>{31&ye||2&Dt&&32&ye?Object.defineProperty(Wt,Re,{get(){return((Ae,We)=>G(this).$instanceValues$.get(We))(0,Re)},set(He){((Ae,We,Dt,Rt)=>{const Wt=G(Ae),re=Wt.$hostElement$,Re=Wt.$instanceValues$.get(We),ye=Wt.$flags$,He=Wt.$lazyInstance$;Dt=((Ae,We)=>null==Ae||N(Ae)?Ae:4&We?"false"!==Ae&&(""===Ae||!!Ae):2&We?parseFloat(Ae):1&We?String(Ae):Ae)(Dt,Rt.$members$[We][0]);const pt=Number.isNaN(Re)&&Number.isNaN(Dt);if((!(8&ye)||void 0===Re)&&Dt!==Re&&!pt&&(Wt.$instanceValues$.set(We,Dt),He)){if(Rt.$watchers$&&128&ye){const Dn=Rt.$watchers$[We];Dn&&Dn.map(On=>{try{He[On](Dt,Re,We)}catch(Hn){Z(Hn,re)}})}2==(18&ye)&&wn(Wt,!1)}})(this,Re,He,We)},configurable:!0,enumerable:!0}):1&Dt&&64&ye&&Object.defineProperty(Wt,Re,{value(...He){var pt;const Jt=G(this);return null===(pt=null==Jt?void 0:Jt.$onInstancePromise$)||void 0===pt?void 0:pt.then(()=>{var Dn;return null===(Dn=Jt.$lazyInstance$)||void 0===Dn?void 0:Dn[Re](...He)})}})}),1&Dt){const Re=new Map;Wt.attributeChangedCallback=function(ye,He,pt){ln.jmp(()=>{var Jt;const Dn=Re.get(ye);if(this.hasOwnProperty(Dn))pt=this[Dn],delete this[Dn];else{if(Wt.hasOwnProperty(Dn)&&"number"==typeof this[Dn]&&this[Dn]==pt)return;if(null==Dn){const On=G(this),Hn=null==On?void 0:On.$flags$;if(Hn&&!(8&Hn)&&128&Hn&&pt!==He){const Xn=On.$lazyInstance$,Or=null===(Jt=We.$watchers$)||void 0===Jt?void 0:Jt[ye];null==Or||Or.forEach(Tr=>{null!=Xn[Tr]&&Xn[Tr].call(Xn,pt,He,ye)})}return}}this[Dn]=(null!==pt||"boolean"!=typeof this[Dn])&&pt})},Ae.observedAttributes=Array.from(new Set([...Object.keys(null!==(Rt=We.$watchers$)&&void 0!==Rt?Rt:{}),...re.filter(([ye,He])=>15&He[0]).map(([ye,He])=>{var pt;const Jt=He[1]||ye;return Re.set(Jt,ye),512&He[0]&&(null===(pt=We.$attrsToReflect$)||void 0===pt||pt.push([ye,Jt])),Jt})]))}}return Ae},mn=function(){var Ae=(0,v.c)(function*(We,Dt,Rt,Wt){let re;if(!(32&Dt.$flags$)){Dt.$flags$|=32;{if(re=Pe(Rt),re.then){const pt=()=>{};re=yield re,pt()}re.isProxied||(Rt.$watchers$=re.watchers,zt(re,Rt,2),re.isProxied=!0);const He=()=>{};Dt.$flags$|=8;try{new re(Dt)}catch(pt){Z(pt)}Dt.$flags$&=-9,Dt.$flags$|=128,He(),gn(Dt.$lazyInstance$)}if(re.style){let He=re.style;"string"!=typeof He&&(He=He[Dt.$modeName$=(Ae=>Tt.map(We=>We(Ae)).find(We=>!!We))(We)]);const pt=Je(Rt,Dt.$modeName$);if(!ot.has(pt)){const Jt=()=>{};$e(pt,He,!!(1&Rt.$flags$)),Jt()}}}const Re=Dt.$ancestorComponent$,ye=()=>wn(Dt,!0);Re&&Re["s-rc"]?Re["s-rc"].push(ye):ye()});return function(Dt,Rt,Wt,re){return Ae.apply(this,arguments)}}(),gn=Ae=>{Be(Ae,"connectedCallback")},Cn=Ae=>{const We=Ae["s-cr"]=_n.createComment("");We["s-cn"]=!0,Ae.insertBefore(We,Ae.firstChild)},Sn=Ae=>{Be(Ae,"disconnectedCallback")},tr=function(){var Ae=(0,v.c)(function*(We){if(!(1&ln.$flags$)){const Dt=G(We);Dt.$rmListeners$&&(Dt.$rmListeners$.map(Rt=>Rt()),Dt.$rmListeners$=void 0),null!=Dt&&Dt.$lazyInstance$?Sn(Dt.$lazyInstance$):null!=Dt&&Dt.$onReadyPromise$&&Dt.$onReadyPromise$.then(()=>Sn(Dt.$lazyInstance$))}});return function(Dt){return Ae.apply(this,arguments)}}(),nr=(Ae,We={})=>{var Dt;const Wt=[],re=We.exclude||[],Re=sn.customElements,ye=_n.head,He=ye.querySelector("meta[charset]"),pt=_n.createElement("style"),Jt=[],Dn=_n.querySelectorAll(`[${p}]`);let On,Hn=!0,Xn=0;for(Object.assign(ln,We),ln.$resourcesUrl$=new URL(We.resourcesUrl||"./",_n.baseURI).href,ln.$flags$|=2;Xn<Dn.length;Xn++)$e(Dn[Xn].getAttribute(p),Ye(Dn[Xn].innerHTML),!0);let Or=!1;if(Ae.map(Tr=>{Tr[1].map(kr=>{var Uo;const Fr={$flags$:kr[0],$tagName$:kr[1],$members$:kr[2],$listeners$:kr[3]};4&Fr.$flags$&&(Or=!0),Fr.$members$=kr[2],Fr.$listeners$=kr[3],Fr.$attrsToReflect$=[],Fr.$watchers$=null!==(Uo=kr[4])&&void 0!==Uo?Uo:{};const hr=Fr.$tagName$,Tn=class extends HTMLElement{constructor(Fn){super(Fn),Q(Fn=this,Fr),1&Fr.$flags$&&Fn.attachShadow({mode:"open",delegatesFocus:!!(16&Fr.$flags$)})}connectedCallback(){On&&(clearTimeout(On),On=null),Hn?Jt.push(this):ln.jmp(()=>(Ae=>{if(!(1&ln.$flags$)){const We=G(Ae),Dt=We.$cmpMeta$,Rt=()=>{};if(1&We.$flags$)zn(Ae,We,Dt.$listeners$),null!=We&&We.$lazyInstance$?gn(We.$lazyInstance$):null!=We&&We.$onReadyPromise$&&We.$onReadyPromise$.then(()=>gn(We.$lazyInstance$));else{let Wt;if(We.$flags$|=1,Wt=Ae.getAttribute(m),Wt){if(1&Dt.$flags$){const re=Ve(Ae.shadowRoot,Dt,Ae.getAttribute("s-mode"));Ae.classList.remove(re+"-h",re+"-s")}((Ae,We,Dt,Rt)=>{const re=Ae.shadowRoot,Re=[],He=re?[]:null,pt=Rt.$vnode$=z(We,null);ln.$orgLocNodes$||K(_n.body,ln.$orgLocNodes$=new Map),Ae[m]=Dt,Ae.removeAttribute(m),Se(pt,Re,[],He,Ae,Ae,Dt),Re.map(Jt=>{const Dn=Jt.$hostId$+"."+Jt.$nodeId$,On=ln.$orgLocNodes$.get(Dn),Hn=Jt.$elm$;On&&Kn&&""===On["s-en"]&&On.parentNode.insertBefore(Hn,On.nextSibling),re||(Hn["s-hn"]=We,On&&(Hn["s-ol"]=On,Hn["s-ol"]["s-nr"]=Hn)),ln.$orgLocNodes$.delete(Dn)}),re&&He.map(Jt=>{Jt&&re.appendChild(Jt)})})(Ae,Dt.$tagName$,Wt,We)}Wt||12&Dt.$flags$&&Cn(Ae);{let re=Ae;for(;re=re.parentNode||re.host;)if(1===re.nodeType&&re.hasAttribute("s-id")&&re["s-p"]||re["s-p"]){nn(We,We.$ancestorComponent$=re);break}}Dt.$members$&&Object.entries(Dt.$members$).map(([re,[Re]])=>{if(31&Re&&Ae.hasOwnProperty(re)){const ye=Ae[re];delete Ae[re],Ae[re]=ye}}),mn(Ae,We,Dt)}Rt()}})(this))}disconnectedCallback(){ln.jmp(()=>tr(this))}componentOnReady(){return G(this).$onReadyPromise$}};Fr.$lazyBundleId$=Tr[0],!re.includes(hr)&&!Re.get(hr)&&(Wt.push(hr),Re.define(hr,zt(Tn,Fr,1)))})}),Wt.length>0&&(Or&&(pt.textContent+=F),pt.textContent+=Wt+"{visibility:hidden}.hydrated{visibility:inherit}",pt.innerHTML.length)){pt.setAttribute("data-styles","");const Tr=null!==(Dt=ln.$nonce$)&&void 0!==Dt?Dt:I(_n);null!=Tr&&pt.setAttribute("nonce",Tr),ye.insertBefore(pt,He?He.nextSibling:ye.firstChild)}Hn=!1,Jt.length?Jt.map(Tr=>Tr.connectedCallback()):ln.jmp(()=>On=setTimeout(It,30))},zn=(Ae,We,Dt,Rt)=>{Dt&&Dt.map(([Wt,re,Re])=>{const ye=ee(Ae,Wt),He=Ln(We,Re),pt=oe(Wt);ln.ael(ye,re,He,pt),(We.$rmListeners$=We.$rmListeners$||[]).push(()=>ln.rel(ye,re,He,pt))})},Ln=(Ae,We)=>Dt=>{try{256&Ae.$flags$?Ae.$lazyInstance$[We](Dt):(Ae.$queuedListeners$=Ae.$queuedListeners$||[]).push([We,Dt])}catch(Rt){Z(Rt)}},ee=(Ae,We)=>4&We?_n:8&We?sn:16&We?_n.body:Ae,oe=Ae=>Wn?{passive:0!=(1&Ae),capture:0!=(2&Ae)}:0!=(2&Ae),O=new WeakMap,G=Ae=>O.get(Ae),V=(Ae,We)=>O.set(We.$lazyInstance$=Ae,We),Q=(Ae,We)=>{const Dt={$flags$:0,$hostElement$:Ae,$cmpMeta$:We,$instanceValues$:new Map};return Dt.$onInstancePromise$=new Promise(Rt=>Dt.$onInstanceResolve$=Rt),Dt.$onReadyPromise$=new Promise(Rt=>Dt.$onReadyResolve$=Rt),Ae["s-p"]=[],Ae["s-rc"]=[],zn(Ae,Dt,We.$listeners$),O.set(Ae,Dt)},de=(Ae,We)=>We in Ae,Z=(Ae,We)=>(0,console.error)(Ae,We),ve=new Map,Pe=(Ae,We,Dt)=>{const Rt=Ae.$tagName$.replace(/-/g,"_"),Wt=Ae.$lazyBundleId$,re=ve.get(Wt);return re?re[Rt]:me(1480)(`./${Wt}.entry.js`).then(Re=>(ve.set(Wt,Re),Re[Rt]),Z)},ot=new Map,Tt=[],sn=typeof window<"u"?window:{},_n=sn.document||{head:{}},ln={$flags$:0,$resourcesUrl$:"",jmp:Ae=>Ae(),raf:Ae=>requestAnimationFrame(Ae),ael:(Ae,We,Dt,Rt)=>Ae.addEventListener(We,Dt,Rt),rel:(Ae,We,Dt,Rt)=>Ae.removeEventListener(We,Dt,Rt),ce:(Ae,We)=>new CustomEvent(Ae,We)},kn=Ae=>{Object.assign(ln,Ae)},Kn=!0,Wn=(()=>{let Ae=!1;try{_n.addEventListener("e",null,Object.defineProperty({},"passive",{get(){Ae=!0}}))}catch{}return Ae})(),Cr=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),at=[],ft=[],Ge=(Ae,We)=>Dt=>{Ae.push(Dt),f||(f=!0,We&&4&ln.$flags$?cn(Vt):ln.raf(Vt))},st=Ae=>{for(let We=0;We<Ae.length;We++)try{Ae[We](performance.now())}catch(Dt){Z(Dt)}Ae.length=0},Vt=()=>{st(at),st(ft),(f=at.length>0)&&ln.raf(Vt)},cn=Ae=>Promise.resolve(void 0).then(Ae),An=Ge(at,!1),At=Ge(ft,!0)},148:(fn,Lt,me)=>{"use strict";me.d(Lt,{m:()=>w});var v=me(1528),xe=me(4829),rt=me(136),Ne=me(2032),r=me(6384),H=me(1780),C=me(388);const y=a=>(0,C.c)().duration(a?400:300),_=a=>{let l,d;const u=a.width+8,c=(0,C.c)(),s=(0,C.c)();a.isEndSide?(l=u+"px",d="0px"):(l=-u+"px",d="0px"),c.addElement(a.menuInnerEl).fromTo("transform",`translateX(${l})`,`translateX(${d})`);const p="ios"===(0,H.b)(a),b=p?.2:.25;return s.addElement(a.backdropEl).fromTo("opacity",.01,b),y(p).addAnimation([c,s])},h=a=>{let l,d;const u=(0,H.b)(a),c=a.width;a.isEndSide?(l=-c+"px",d=c+"px"):(l=c+"px",d=-c+"px");const s=(0,C.c)().addElement(a.menuInnerEl).fromTo("transform",`translateX(${d})`,"translateX(0px)"),m=(0,C.c)().addElement(a.contentEl).fromTo("transform","translateX(0px)",`translateX(${l})`),p=(0,C.c)().addElement(a.backdropEl).fromTo("opacity",.01,.32);return y("ios"===u).addAnimation([s,m,p])},f=a=>{const l=(0,H.b)(a),d=a.width*(a.isEndSide?-1:1)+"px",u=(0,C.c)().addElement(a.contentEl).fromTo("transform","translateX(0px)",`translateX(${d})`);return y("ios"===l).addAnimation(u)},w=(()=>{const a=new Map,l=[],d=function(){var q=(0,v.c)(function*(ae){const fe=yield T(ae,!0);return!!fe&&fe.open()});return function(fe){return q.apply(this,arguments)}}(),u=function(){var q=(0,v.c)(function*(ae){const fe=yield void 0!==ae?T(ae,!0):F();return void 0!==fe&&fe.close()});return function(fe){return q.apply(this,arguments)}}(),c=function(){var q=(0,v.c)(function*(ae){const fe=yield T(ae,!0);return!!fe&&fe.toggle()});return function(fe){return q.apply(this,arguments)}}(),s=function(){var q=(0,v.c)(function*(ae,fe){const Se=yield T(fe);return Se&&(Se.disabled=!ae),Se});return function(fe,Se){return q.apply(this,arguments)}}(),m=function(){var q=(0,v.c)(function*(ae,fe){const Se=yield T(fe);return Se&&(Se.swipeGesture=ae),Se});return function(fe,Se){return q.apply(this,arguments)}}(),p=function(){var q=(0,v.c)(function*(ae){if(null!=ae){const fe=yield T(ae);return void 0!==fe&&fe.isOpen()}return void 0!==(yield F())});return function(fe){return q.apply(this,arguments)}}(),b=function(){var q=(0,v.c)(function*(ae){const fe=yield T(ae);return!!fe&&!fe.disabled});return function(fe){return q.apply(this,arguments)}}(),T=function(){var q=(0,v.c)(function*(ae,fe=!1){if(yield J(),"start"===ae||"end"===ae){const K=l.filter(se=>se.side===ae&&!se.disabled);if(K.length>=1)return K.length>1&&fe&&(0,Ne.p)(`menuController queried for a menu on the "${ae}" side, but ${K.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,K.map(se=>se.el)),K[0].el;const R=l.filter(se=>se.side===ae);if(R.length>=1)return R.length>1&&fe&&(0,Ne.p)(`menuController queried for a menu on the "${ae}" side, but ${R.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,R.map(se=>se.el)),R[0].el}else if(null!=ae)return ne(K=>K.menuId===ae);return ne(K=>!K.disabled)||(l.length>0?l[0].el:void 0)});return function(fe){return q.apply(this,arguments)}}(),F=function(){var q=(0,v.c)(function*(){return yield J(),B()});return function(){return q.apply(this,arguments)}}(),k=function(){var q=(0,v.c)(function*(){return yield J(),z()});return function(){return q.apply(this,arguments)}}(),A=function(){var q=(0,v.c)(function*(){return yield J(),W()});return function(){return q.apply(this,arguments)}}(),P=(q,ae)=>{a.set(q,ae)},N=function(){var q=(0,v.c)(function*(ae,fe,Se){if(W())return!1;if(fe){const K=yield F();K&&ae.el!==K&&(yield K.setOpen(!1,!1))}return ae._setOpen(fe,Se)});return function(fe,Se,K){return q.apply(this,arguments)}}(),B=()=>ne(q=>q._isOpen),z=()=>l.map(q=>q.el),W=()=>l.some(q=>q.isAnimating),ne=q=>{const ae=l.find(q);if(void 0!==ae)return ae.el},J=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(q=>new Promise(ae=>(0,r.c)(q,ae))));return P("reveal",f),P("push",h),P("overlay",_),null==xe.d||xe.d.addEventListener("ionBackButton",q=>{const ae=B();ae&&q.detail.register(rt.MENU_BACK_BUTTON_PRIORITY,()=>ae.close())}),{registerAnimation:P,get:T,getMenus:k,getOpen:F,isEnabled:b,swipeGesture:m,isAnimating:A,isOpen:p,enable:s,toggle:c,close:u,open:d,_getOpenSync:B,_createAnimation:(q,ae)=>{const fe=a.get(q);if(!fe)throw new Error("animation not registered");return fe(ae)},_register:q=>{l.indexOf(q)<0&&l.push(q)},_unregister:q=>{const ae=l.indexOf(q);ae>-1&&l.splice(ae,1)},_setOpen:N}})()},4829:(fn,Lt,me)=>{"use strict";me.d(Lt,{d:()=>xe,w:()=>v});const v=typeof window<"u"?window:void 0,xe=typeof document<"u"?document:void 0},968:(fn,Lt,me)=>{"use strict";me.d(Lt,{b:()=>H,c:()=>C,d:()=>y,e:()=>k,g:()=>$,l:()=>T,s:()=>A,t:()=>f,w:()=>F});var v=me(1528),xe=me(3716),rt=me(6384);const H="ionViewWillLeave",C="ionViewDidLeave",y="ionViewWillUnload",f=j=>new Promise((N,I)=>{(0,xe.w)(()=>{E(j),w(j).then(B=>{B.animation&&B.animation.destroy(),a(j),N(B)},B=>{a(j),I(B)})})}),E=j=>{const N=j.enteringEl,I=j.leavingEl;P(N,I,j.direction),j.showGoBack?N.classList.add("can-go-back"):N.classList.remove("can-go-back"),A(N,!1),N.style.setProperty("pointer-events","none"),I&&(A(I,!1),I.style.setProperty("pointer-events","none"))},w=function(){var j=(0,v.c)(function*(N){const I=yield l(N);return I&&xe.B.isBrowser?d(I,N):u(N)});return function(I){return j.apply(this,arguments)}}(),a=j=>{const N=j.enteringEl,I=j.leavingEl;N.classList.remove("ion-page-invisible"),N.style.removeProperty("pointer-events"),void 0!==I&&(I.classList.remove("ion-page-invisible"),I.style.removeProperty("pointer-events"))},l=function(){var j=(0,v.c)(function*(N){return N.leavingEl&&N.animated&&0!==N.duration?N.animationBuilder?N.animationBuilder:"ios"===N.mode?(yield Promise.resolve().then(me.bind(me,3760))).iosTransitionAnimation:(yield Promise.resolve().then(me.bind(me,2976))).mdTransitionAnimation:void 0});return function(I){return j.apply(this,arguments)}}(),d=function(){var j=(0,v.c)(function*(N,I){yield c(I,!0);const B=N(I.baseEl,I);p(I.enteringEl,I.leavingEl);const z=yield m(B,I);return I.progressCallback&&I.progressCallback(void 0),z&&b(I.enteringEl,I.leavingEl),{hasCompleted:z,animation:B}});return function(I,B){return j.apply(this,arguments)}}(),u=function(){var j=(0,v.c)(function*(N){const I=N.enteringEl,B=N.leavingEl;return yield c(N,!1),p(I,B),b(I,B),{hasCompleted:!0}});return function(I){return j.apply(this,arguments)}}(),c=function(){var j=(0,v.c)(function*(N,I){(void 0!==N.deepWait?N.deepWait:I)&&(yield Promise.all([k(N.enteringEl),k(N.leavingEl)])),yield s(N.viewIsReady,N.enteringEl)});return function(I,B){return j.apply(this,arguments)}}(),s=function(){var j=(0,v.c)(function*(N,I){N&&(yield N(I))});return function(I,B){return j.apply(this,arguments)}}(),m=(j,N)=>{const I=N.progressCallback,B=new Promise(z=>{j.onFinish(W=>z(1===W))});return I?(j.progressStart(!0),I(j)):j.play(),B},p=(j,N)=>{T(N,H),T(j,"ionViewWillEnter")},b=(j,N)=>{T(j,"ionViewDidEnter"),T(N,C)},T=(j,N)=>{if(j){const I=new CustomEvent(N,{bubbles:!1,cancelable:!1});j.dispatchEvent(I)}},F=()=>new Promise(j=>(0,rt.r)(()=>(0,rt.r)(()=>j()))),k=function(){var j=(0,v.c)(function*(N){const I=N;if(I){if(null!=I.componentOnReady){if(null!=(yield I.componentOnReady()))return}else if(null!=I.__registerHost)return void(yield new Promise(z=>(0,rt.r)(z)));yield Promise.all(Array.from(I.children).map(k))}});return function(I){return j.apply(this,arguments)}}(),A=(j,N)=>{N?(j.setAttribute("aria-hidden","true"),j.classList.add("ion-page-hidden")):(j.hidden=!1,j.removeAttribute("aria-hidden"),j.classList.remove("ion-page-hidden"))},P=(j,N,I)=>{void 0!==j&&(j.style.zIndex="back"===I?"99":"101"),void 0!==N&&(N.style.zIndex="100")},$=j=>j.classList.contains("ion-page")?j:j.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||j},4708:(fn,Lt,me)=>{"use strict";me.d(Lt,{AF:()=>C.I,KQ:()=>_.l,MZ:()=>Ne.mdTransitionAnimation,W4:()=>_.a,cp:()=>C.s,kT:()=>_.m,oz:()=>_.c,uw:()=>rt.iosTransitionAnimation}),me(388),me(968);var rt=me(3760),Ne=me(2976),C=(me(2528),me(1780),me(9637)),_=(me(148),me(5820));me(4829),me(3716),me(6560),me(136)},1780:(fn,Lt,me)=>{"use strict";me.d(Lt,{a:()=>f,b:()=>z,c:()=>rt,i:()=>W});var v=me(3716);class xe{constructor(){this.m=new Map}reset(J){this.m=new Map(Object.entries(J))}get(J,q){const ae=this.m.get(J);return void 0!==ae?ae:q}getBoolean(J,q=!1){const ae=this.m.get(J);return void 0===ae?q:"string"==typeof ae?"true"===ae:!!ae}getNumber(J,q){const ae=parseFloat(this.m.get(J));return isNaN(ae)?void 0!==q?q:NaN:ae}set(J,q){this.m.set(J,q)}}const rt=new xe,y="ionic:",_="ionic-persist-config",f=(ne,J)=>("string"==typeof ne&&(J=ne,ne=void 0),(ne=>E(ne))(ne).includes(J)),E=(ne=window)=>{if(typeof ne>"u")return[];ne.Ionic=ne.Ionic||{};let J=ne.Ionic.platforms;return null==J&&(J=ne.Ionic.platforms=w(ne),J.forEach(q=>ne.document.documentElement.classList.add(`plt-${q}`))),J},w=ne=>{const J=rt.get("platform");return Object.keys(I).filter(q=>{const ae=null==J?void 0:J[q];return"function"==typeof ae?ae(ne):I[q](ne)})},l=ne=>!!(j(ne,/iPad/i)||j(ne,/Macintosh/i)&&b(ne)),c=ne=>j(ne,/android|sink/i),b=ne=>N(ne,"(any-pointer:coarse)"),F=ne=>k(ne)||A(ne),k=ne=>!!(ne.cordova||ne.phonegap||ne.PhoneGap),A=ne=>{const J=ne.Capacitor;return!(null==J||!J.isNative)},j=(ne,J)=>J.test(ne.navigator.userAgent),N=(ne,J)=>{var q;return null===(q=ne.matchMedia)||void 0===q?void 0:q.call(ne,J).matches},I={ipad:l,iphone:ne=>j(ne,/iPhone/i),ios:ne=>j(ne,/iPhone|iPod/i)||l(ne),android:c,phablet:ne=>{const J=ne.innerWidth,q=ne.innerHeight,ae=Math.min(J,q),fe=Math.max(J,q);return ae>390&&ae<520&&fe>620&&fe<800},tablet:ne=>{const J=ne.innerWidth,q=ne.innerHeight,ae=Math.min(J,q),fe=Math.max(J,q);return l(ne)||(ne=>c(ne)&&!j(ne,/mobile/i))(ne)||ae>460&&ae<820&&fe>780&&fe<1400},cordova:k,capacitor:A,electron:ne=>j(ne,/electron/i),pwa:ne=>{var J;return!!(null!==(J=ne.matchMedia)&&void 0!==J&&J.call(ne,"(display-mode: standalone)").matches||ne.navigator.standalone)},mobile:b,mobileweb:ne=>b(ne)&&!F(ne),desktop:ne=>!b(ne),hybrid:F};let B;const z=ne=>ne&&(0,v.g)(ne)||B,W=(ne={})=>{if(typeof window>"u")return;const J=window.document,q=window,ae=q.Ionic=q.Ionic||{},fe={};ne._ael&&(fe.ael=ne._ael),ne._rel&&(fe.rel=ne._rel),ne._ce&&(fe.ce=ne._ce),(0,v.a)(fe);const Se=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ne=>{try{const J=ne.sessionStorage.getItem(_);return null!==J?JSON.parse(J):{}}catch{return{}}})(q)),{persistConfig:!1}),ae.config),(ne=>{const J={};return ne.location.search.slice(1).split("&").map(q=>q.split("=")).map(([q,ae])=>[decodeURIComponent(q),decodeURIComponent(ae)]).filter(([q])=>((ne,J)=>ne.substr(0,J.length)===J)(q,y)).map(([q,ae])=>[q.slice(6),ae]).forEach(([q,ae])=>{J[q]=ae}),J})(q)),ne);rt.reset(Se),rt.getBoolean("persistConfig")&&((ne,J)=>{try{ne.sessionStorage.setItem(_,JSON.stringify(J))}catch{return}})(q,Se),E(q),ae.config=rt,ae.mode=B=rt.get("mode",J.documentElement.getAttribute("mode")||(f(q,"ios")?"ios":"md")),rt.set("mode",B),J.documentElement.setAttribute("mode",B),J.documentElement.classList.add(B),rt.getBoolean("_testing")&&rt.set("animated",!1);const K=se=>{var ge;return null===(ge=se.tagName)||void 0===ge?void 0:ge.startsWith("ION-")},R=se=>["ios","md"].includes(se);(0,v.c)(se=>{for(;se;){const ge=se.mode||se.getAttribute("mode");if(ge){if(R(ge))return ge;K(se)&&console.warn('Invalid ionic mode: "'+ge+'", expected: "ios" or "md"')}se=se.parentElement}return B})}},3760:(fn,Lt,me)=>{"use strict";me.r(Lt),me.d(Lt,{iosTransitionAnimation:()=>w,shadow:()=>C});var v=me(388),xe=me(968);me(4829),me(3716);const H=l=>document.querySelector(`${l}.ion-cloned-element`),C=l=>l.shadowRoot||l,y=l=>{const d="ION-TABS"===l.tagName?l:l.querySelector("ion-tabs"),u="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=d){const c=d.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=c?c.querySelector(u):null}return l.querySelector(u)},_=(l,d)=>{const u="ION-TABS"===l.tagName?l:l.querySelector("ion-tabs");let c=[];if(null!=u){const s=u.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=s&&(c=s.querySelectorAll("ion-buttons"))}else c=l.querySelectorAll("ion-buttons");for(const s of c){const m=s.closest("ion-header"),p=m&&!m.classList.contains("header-collapse-condense-inactive"),b=s.querySelector("ion-back-button"),T=s.classList.contains("buttons-collapse");if(null!==b&&("start"===s.slot||""===s.slot)&&(T&&p&&d||!T))return b}return null},f=(l,d,u,c,s,m,p,b,T)=>{var F,k;const A=d?`calc(100% - ${s.right+4}px)`:s.left-4+"px",P=d?"right":"left",$=d?"left":"right",j=d?"right":"left",N=(null===(F=m.textContent)||void 0===F?void 0:F.trim())===(null===(k=b.textContent)||void 0===k?void 0:k.trim()),B=(T.height-a)/p.height,z=N?`scale(${T.width/p.width}, ${B})`:`scale(${B})`,W="scale(1)",J=C(c).querySelector("ion-icon").getBoundingClientRect(),q=d?J.width/2-(J.right-s.right)+"px":s.left-J.width/2+"px",ae=d?`-${window.innerWidth-s.right}px`:`${s.left}px`,fe=`${T.top}px`,Se=`${s.top}px`,se=u?[{offset:0,transform:`translate3d(${ae}, ${Se}, 0)`},{offset:1,transform:`translate3d(${q}, ${fe}, 0)`}]:[{offset:0,transform:`translate3d(${q}, ${fe}, 0)`},{offset:1,transform:`translate3d(${ae}, ${Se}, 0)`}],Le=u?[{offset:0,opacity:1,transform:W},{offset:1,opacity:0,transform:z}]:[{offset:0,opacity:0,transform:z},{offset:1,opacity:1,transform:W}],Oe=u?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],$e=(0,v.c)(),Ve=(0,v.c)(),Te=(0,v.c)(),Je=H("ion-back-button"),Ye=C(Je).querySelector(".button-text"),bt=C(Je).querySelector("ion-icon");Je.text=c.text,Je.mode=c.mode,Je.icon=c.icon,Je.color=c.color,Je.disabled=c.disabled,Je.style.setProperty("display","block"),Je.style.setProperty("position","fixed"),Ve.addElement(bt),$e.addElement(Ye),Te.addElement(Je),Te.beforeStyles({position:"absolute",top:"0px",[j]:"0px"}).keyframes(se),$e.beforeStyles({"transform-origin":`${P} top`}).beforeAddWrite(()=>{c.style.setProperty("display","none"),Je.style.setProperty(P,A)}).afterAddWrite(()=>{c.style.setProperty("display",""),Je.style.setProperty("display","none"),Je.style.removeProperty(P)}).keyframes(Le),Ve.beforeStyles({"transform-origin":`${$} center`}).keyframes(Oe),l.addAnimation([$e,Ve,Te])},E=(l,d,u,c,s,m,p,b)=>{var T,F;const k=d?"right":"left",A=d?`calc(100% - ${s.right}px)`:`${s.left}px`,$=`${s.top}px`,N=d?`-${window.innerWidth-b.right-8}px`:b.x-8+"px",B=b.y-2+"px",z=(null===(T=p.textContent)||void 0===T?void 0:T.trim())===(null===(F=c.textContent)||void 0===F?void 0:F.trim()),ne=b.height/(m.height-a),J="scale(1)",q=z?`scale(${b.width/m.width}, ${ne})`:`scale(${ne})`,Se=u?[{offset:0,opacity:0,transform:`translate3d(${N}, ${B}, 0) ${q}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${$}, 0) ${J}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${$}, 0) ${J}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${N}, ${B}, 0) ${q}`}],K=H("ion-title"),R=(0,v.c)();K.innerText=c.innerText,K.size=c.size,K.color=c.color,R.addElement(K),R.beforeStyles({"transform-origin":`${k} top`,height:`${s.height}px`,display:"",position:"relative",[k]:A}).beforeAddWrite(()=>{c.style.setProperty("opacity","0")}).afterAddWrite(()=>{c.style.setProperty("opacity",""),K.style.setProperty("display","none")}).keyframes(Se),l.addAnimation(R)},w=(l,d)=>{var u;try{const c="cubic-bezier(0.32,0.72,0,1)",s="opacity",m="transform",p="0%",T="rtl"===l.ownerDocument.dir,F=T?"-99.5%":"99.5%",k=T?"33%":"-33%",A=d.enteringEl,P=d.leavingEl,$="back"===d.direction,j=A.querySelector(":scope > ion-content"),N=A.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),I=A.querySelectorAll(":scope > ion-header > ion-toolbar"),B=(0,v.c)(),z=(0,v.c)();if(B.addElement(A).duration((null!==(u=d.duration)&&void 0!==u?u:0)||540).easing(d.easing||c).fill("both").beforeRemoveClass("ion-page-invisible"),P&&null!=l){const q=(0,v.c)();q.addElement(l),B.addAnimation(q)}if(j||0!==I.length||0!==N.length?(z.addElement(j),z.addElement(N)):z.addElement(A.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),B.addAnimation(z),$?z.beforeClearStyles([s]).fromTo("transform",`translateX(${k})`,`translateX(${p})`).fromTo(s,.8,1):z.beforeClearStyles([s]).fromTo("transform",`translateX(${F})`,`translateX(${p})`),j){const q=C(j).querySelector(".transition-effect");if(q){const ae=q.querySelector(".transition-cover"),fe=q.querySelector(".transition-shadow"),Se=(0,v.c)(),K=(0,v.c)(),R=(0,v.c)();Se.addElement(q).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),K.addElement(ae).beforeClearStyles([s]).fromTo(s,0,.1),R.addElement(fe).beforeClearStyles([s]).fromTo(s,.03,.7),Se.addAnimation([K,R]),z.addAnimation([Se])}}const W=A.querySelector("ion-header.header-collapse-condense"),{forward:ne,backward:J}=((l,d,u,c,s)=>{const m=_(c,u),p=y(s),b=y(c),T=_(s,u),F=null!==m&&null!==p&&!u,k=null!==b&&null!==T&&u;if(F){const A=p.getBoundingClientRect(),P=m.getBoundingClientRect(),$=C(m).querySelector(".button-text"),j=$.getBoundingClientRect(),I=C(p).querySelector(".toolbar-title").getBoundingClientRect();E(l,d,u,p,A,I,$,j),f(l,d,u,m,P,$,j,p,I)}else if(k){const A=b.getBoundingClientRect(),P=T.getBoundingClientRect(),$=C(T).querySelector(".button-text"),j=$.getBoundingClientRect(),I=C(b).querySelector(".toolbar-title").getBoundingClientRect();E(l,d,u,b,A,I,$,j),f(l,d,u,T,P,$,j,b,I)}return{forward:F,backward:k}})(B,T,$,A,P);if(I.forEach(q=>{const ae=(0,v.c)();ae.addElement(q),B.addAnimation(ae);const fe=(0,v.c)();fe.addElement(q.querySelector("ion-title"));const Se=(0,v.c)(),K=Array.from(q.querySelectorAll("ion-buttons,[menuToggle]")),R=q.closest("ion-header"),se=null==R?void 0:R.classList.contains("header-collapse-condense-inactive");let ge;ge=K.filter($?Oe=>{const $e=Oe.classList.contains("buttons-collapse");return $e&&!se||!$e}:Oe=>!Oe.classList.contains("buttons-collapse")),Se.addElement(ge);const De=(0,v.c)();De.addElement(q.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Le=(0,v.c)();Le.addElement(C(q).querySelector(".toolbar-background"));const Ze=(0,v.c)(),et=q.querySelector("ion-back-button");if(et&&Ze.addElement(et),ae.addAnimation([fe,Se,De,Le,Ze]),Se.fromTo(s,.01,1),De.fromTo(s,.01,1),$)se||fe.fromTo("transform",`translateX(${k})`,`translateX(${p})`).fromTo(s,.01,1),De.fromTo("transform",`translateX(${k})`,`translateX(${p})`),Ze.fromTo(s,.01,1);else if(W||fe.fromTo("transform",`translateX(${F})`,`translateX(${p})`).fromTo(s,.01,1),De.fromTo("transform",`translateX(${F})`,`translateX(${p})`),Le.beforeClearStyles([s,"transform"]),(null==R?void 0:R.translucent)?Le.fromTo("transform",T?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Le.fromTo(s,.01,"var(--opacity)"),ne||Ze.fromTo(s,.01,1),et&&!ne){const $e=(0,v.c)();$e.addElement(C(et).querySelector(".button-text")).fromTo("transform",T?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ae.addAnimation($e)}}),P){const q=(0,v.c)(),ae=P.querySelector(":scope > ion-content"),fe=P.querySelectorAll(":scope > ion-header > ion-toolbar"),Se=P.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ae||0!==fe.length||0!==Se.length?(q.addElement(ae),q.addElement(Se)):q.addElement(P.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),B.addAnimation(q),$){q.beforeClearStyles([s]).fromTo("transform",`translateX(${p})`,T?"translateX(-100%)":"translateX(100%)");const K=(0,xe.g)(P);B.afterAddWrite(()=>{"normal"===B.getDirection()&&K.style.setProperty("display","none")})}else q.fromTo("transform",`translateX(${p})`,`translateX(${k})`).fromTo(s,1,.8);if(ae){const K=C(ae).querySelector(".transition-effect");if(K){const R=K.querySelector(".transition-cover"),se=K.querySelector(".transition-shadow"),ge=(0,v.c)(),De=(0,v.c)(),Le=(0,v.c)();ge.addElement(K).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),De.addElement(R).beforeClearStyles([s]).fromTo(s,.1,0),Le.addElement(se).beforeClearStyles([s]).fromTo(s,.7,.03),ge.addAnimation([De,Le]),q.addAnimation([ge])}}fe.forEach(K=>{const R=(0,v.c)();R.addElement(K);const se=(0,v.c)();se.addElement(K.querySelector("ion-title"));const ge=(0,v.c)(),De=K.querySelectorAll("ion-buttons,[menuToggle]"),Le=K.closest("ion-header"),Ze=null==Le?void 0:Le.classList.contains("header-collapse-condense-inactive"),et=Array.from(De).filter(Ye=>{const bt=Ye.classList.contains("buttons-collapse");return bt&&!Ze||!bt});ge.addElement(et);const Oe=(0,v.c)(),$e=K.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");$e.length>0&&Oe.addElement($e);const Ve=(0,v.c)();Ve.addElement(C(K).querySelector(".toolbar-background"));const Te=(0,v.c)(),Je=K.querySelector("ion-back-button");if(Je&&Te.addElement(Je),R.addAnimation([se,ge,Oe,Te,Ve]),B.addAnimation(R),Te.fromTo(s,.99,0),ge.fromTo(s,.99,0),Oe.fromTo(s,.99,0),$){if(Ze||se.fromTo("transform",`translateX(${p})`,T?"translateX(-100%)":"translateX(100%)").fromTo(s,.99,0),Oe.fromTo("transform",`translateX(${p})`,T?"translateX(-100%)":"translateX(100%)"),Ve.beforeClearStyles([s,"transform"]),(null==Le?void 0:Le.translucent)?Ve.fromTo("transform","translateX(0px)",T?"translateX(-100%)":"translateX(100%)"):Ve.fromTo(s,"var(--opacity)",0),Je&&!J){const bt=(0,v.c)();bt.addElement(C(Je).querySelector(".button-text")).fromTo("transform",`translateX(${p})`,`translateX(${(T?-124:124)+"px"})`),R.addAnimation(bt)}}else Ze||se.fromTo("transform",`translateX(${p})`,`translateX(${k})`).fromTo(s,.99,0).afterClearStyles([m,s]),Oe.fromTo("transform",`translateX(${p})`,`translateX(${k})`).afterClearStyles([m,s]),Te.afterClearStyles([s]),se.afterClearStyles([s]),ge.afterClearStyles([s])})}return B}catch(c){throw c}},a=10},2976:(fn,Lt,me)=>{"use strict";me.r(Lt),me.d(Lt,{mdTransitionAnimation:()=>r});var v=me(388),xe=me(968);me(4829),me(3716);const r=(H,C)=>{var y,_,h;const f="40px",w="back"===C.direction,l=C.leavingEl,d=(0,xe.g)(C.enteringEl),u=d.querySelector("ion-toolbar"),c=(0,v.c)();if(c.addElement(d).fill("both").beforeRemoveClass("ion-page-invisible"),w?c.duration((null!==(y=C.duration)&&void 0!==y?y:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):c.duration((null!==(_=C.duration)&&void 0!==_?_:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${f})`,"translateY(0px)").fromTo("opacity",.01,1),u){const s=(0,v.c)();s.addElement(u),c.addAnimation(s)}if(l&&w){c.duration((null!==(h=C.duration)&&void 0!==h?h:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const s=(0,v.c)();s.addElement((0,xe.g)(l)).onFinish(m=>{1===m&&s.elements.length>0&&s.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${f})`).fromTo("opacity",1,0),c.addAnimation(s)}return c}},5820:(fn,Lt,me)=>{"use strict";me.d(Lt,{B:()=>ge,G:()=>De,O:()=>Le,a:()=>E,b:()=>w,c:()=>u,d:()=>Ze,e:()=>et,f:()=>W,g:()=>J,h:()=>fe,i:()=>K,j:()=>s,k:()=>m,l:()=>a,m:()=>l,n:()=>F,o:()=>B,s:()=>se});var v=me(1528),xe=me(4829),rt=me(136),Ne=me(1780),r=me(495),H=me(6384),C=me(2032);let y=0,_=0;const h=new WeakMap,f=Oe=>({create:$e=>p(Oe,$e),dismiss:($e,Ve,Te)=>j(document,$e,Ve,Oe,Te),getTop:()=>(0,v.c)(function*(){return B(document,Oe)})()}),E=f("ion-alert"),w=f("ion-action-sheet"),a=f("ion-loading"),l=f("ion-modal"),u=f("ion-popover"),s=Oe=>{typeof document<"u"&&$(document);const $e=y++;Oe.overlayIndex=$e},m=Oe=>(Oe.hasAttribute("id")||(Oe.id="ion-overlay-"+ ++_),Oe.id),p=(Oe,$e)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Oe).then(()=>{const Ve=document.createElement(Oe);return Ve.classList.add("overlay-hidden"),Object.assign(Ve,Object.assign(Object.assign({},$e),{hasController:!0})),q(document).appendChild(Ve),new Promise(Te=>(0,H.c)(Ve,Te))}):Promise.resolve(),b='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',F=(Oe,$e)=>{const Ve=Oe.querySelector(b);A(Ve,$e)},k=(Oe,$e)=>{const Ve=Array.from(Oe.querySelectorAll(b));A(Ve.length>0?Ve[Ve.length-1]:null,$e)},A=(Oe,$e)=>{let Ve=Oe;const Te=null==Oe?void 0:Oe.shadowRoot;Te&&(Ve=Te.querySelector(b)||Oe),Ve?(0,H.f)(Ve):$e.focus()},$=Oe=>{0===y&&(y=1,Oe.addEventListener("focus",$e=>{((Oe,$e)=>{const Ve=B($e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Te=Oe.target;Ve&&Te&&!Ve.classList.contains("ion-disable-focus-trap")&&(Ve.shadowRoot?(()=>{if(Ve.contains(Te))Ve.lastFocus=Te;else if("ION-TOAST"===Te.tagName)A(Ve.lastFocus,Ve);else{const bt=Ve.lastFocus;F(Ve,Ve),bt===$e.activeElement&&k(Ve,Ve),Ve.lastFocus=$e.activeElement}})():(()=>{if(Ve===Te)Ve.lastFocus=void 0;else if("ION-TOAST"===Te.tagName)A(Ve.lastFocus,Ve);else{const bt=(0,H.g)(Ve);if(!bt.contains(Te))return;const gt=bt.querySelector(".ion-overlay-wrapper");if(!gt)return;if(gt.contains(Te)||Te===bt.querySelector("ion-backdrop"))Ve.lastFocus=Te;else{const vt=Ve.lastFocus;F(gt,Ve),vt===$e.activeElement&&k(gt,Ve),Ve.lastFocus=$e.activeElement}}})())})($e,Oe)},!0),Oe.addEventListener("ionBackButton",$e=>{const Ve=B(Oe);null!=Ve&&Ve.backdropDismiss&&$e.detail.register(rt.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Ve.dismiss(void 0,ge)})}),(0,rt.shoudUseCloseWatcher)()||Oe.addEventListener("keydown",$e=>{if("Escape"===$e.key){const Ve=B(Oe);null!=Ve&&Ve.backdropDismiss&&Ve.dismiss(void 0,ge)}}))},j=(Oe,$e,Ve,Te,Je)=>{const Ye=B(Oe,Te,Je);return Ye?Ye.dismiss($e,Ve):Promise.reject("overlay does not exist")},I=(Oe,$e)=>((Oe,$e)=>(void 0===$e&&($e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Oe.querySelectorAll($e)).filter(Ve=>Ve.overlayIndex>0)))(Oe,$e).filter(Ve=>!(Oe=>Oe.classList.contains("overlay-hidden"))(Ve)),B=(Oe,$e,Ve)=>{const Te=I(Oe,$e);return void 0===Ve?Te[Te.length-1]:Te.find(Je=>Je.id===Ve)},z=(Oe=!1)=>{const Ve=q(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ve&&(Oe?Ve.setAttribute("aria-hidden","true"):Ve.removeAttribute("aria-hidden"))},W=function(){var Oe=(0,v.c)(function*($e,Ve,Te,Je,Ye){var bt,gt;if($e.presented)return;z(!0),void 0!==xe.d&&I(xe.d).forEach(an=>an.setAttribute("aria-hidden","true")),$e.presented=!0,$e.willPresent.emit(),null===(bt=$e.willPresentShorthand)||void 0===bt||bt.emit();const vt=(0,Ne.b)($e),kt=$e.enterAnimation?$e.enterAnimation:Ne.c.get(Ve,"ios"===vt?Te:Je);(yield ae($e,kt,$e.el,Ye))&&($e.didPresent.emit(),null===(gt=$e.didPresentShorthand)||void 0===gt||gt.emit()),"ION-TOAST"!==$e.el.tagName&&ne($e.el),$e.keyboardClose&&(null===document.activeElement||!$e.el.contains(document.activeElement))&&$e.el.focus(),$e.el.removeAttribute("aria-hidden")});return function(Ve,Te,Je,Ye,bt){return Oe.apply(this,arguments)}}(),ne=function(){var Oe=(0,v.c)(function*($e){let Ve=document.activeElement;if(!Ve)return;const Te=null==Ve?void 0:Ve.shadowRoot;Te&&(Ve=Te.querySelector(b)||Ve),yield $e.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Ve.focus()});return function(Ve){return Oe.apply(this,arguments)}}(),J=function(){var Oe=(0,v.c)(function*($e,Ve,Te,Je,Ye,bt,gt){var vt,kt,Ht;if(!$e.presented)return!1;void 0!==xe.d&&1===I(xe.d).length&&z(!1),$e.presented=!1;try{$e.el.style.setProperty("pointer-events","none"),$e.willDismiss.emit({data:Ve,role:Te}),null===(vt=$e.willDismissShorthand)||void 0===vt||vt.emit({data:Ve,role:Te});const Ft=(0,Ne.b)($e),an=$e.leaveAnimation?$e.leaveAnimation:Ne.c.get(Je,"ios"===Ft?Ye:bt);Te!==De&&(yield ae($e,an,$e.el,gt)),$e.didDismiss.emit({data:Ve,role:Te}),null===(kt=$e.didDismissShorthand)||void 0===kt||kt.emit({data:Ve,role:Te}),(h.get($e)||[]).forEach(dn=>dn.destroy()),h.delete($e),$e.el.classList.add("overlay-hidden"),$e.el.style.removeProperty("pointer-events"),void 0!==$e.el.lastFocus&&($e.el.lastFocus=void 0)}catch(Ft){console.error(Ft)}return $e.el.remove(),void 0!==xe.d&&(null===(Ht=B(xe.d))||void 0===Ht||Ht.removeAttribute("aria-hidden")),!0});return function(Ve,Te,Je,Ye,bt,gt,vt){return Oe.apply(this,arguments)}}(),q=Oe=>Oe.querySelector("ion-app")||Oe.body,ae=function(){var Oe=(0,v.c)(function*($e,Ve,Te,Je){Te.classList.remove("overlay-hidden");const bt=Ve($e.el,Je);(!$e.animated||!Ne.c.getBoolean("animated",!0))&&bt.duration(0),$e.keyboardClose&&bt.beforeAddWrite(()=>{const vt=Te.ownerDocument.activeElement;null!=vt&&vt.matches("input,ion-input, ion-textarea")&&vt.blur()});const gt=h.get($e)||[];return h.set($e,[...gt,bt]),yield bt.play(),!0});return function(Ve,Te,Je,Ye){return Oe.apply(this,arguments)}}(),fe=(Oe,$e)=>{let Ve;const Te=new Promise(Je=>Ve=Je);return Se(Oe,$e,Je=>{Ve(Je.detail)}),Te},Se=(Oe,$e,Ve)=>{const Te=Je=>{(0,H.b)(Oe,$e,Te),Ve(Je)};(0,H.a)(Oe,$e,Te)},K=Oe=>"cancel"===Oe||Oe===ge,R=Oe=>Oe(),se=(Oe,$e)=>{if("function"==typeof Oe)return Ne.c.get("_zoneGate",R)(()=>{try{return Oe($e)}catch(Te){throw Te}})},ge="backdrop",De="gesture",Le=39,Ze=Oe=>{let Ve,$e=!1;const Te=(0,r.C)(),Je=(gt=!1)=>{if(Ve&&!gt)return{delegate:Ve,inline:$e};const{el:vt,hasController:kt,delegate:Ht}=Oe;return $e=null!==vt.parentNode&&!kt,Ve=$e?Ht||Te:Ht,{inline:$e,delegate:Ve}};return{attachViewToDom:function(){var gt=(0,v.c)(function*(vt){const{delegate:kt}=Je(!0);if(kt)return yield kt.attachViewToDom(Oe.el,vt);const{hasController:Ht}=Oe;if(Ht&&void 0!==vt)throw new Error("framework delegate is missing");return null});return function(kt){return gt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:gt}=Je();gt&&void 0!==Oe.el&&gt.removeViewFromDom(Oe.el.parentElement,Oe.el)}}},et=()=>{let Oe;const $e=()=>{Oe&&(Oe(),Oe=void 0)};return{addClickListener:(Te,Je)=>{$e();const Ye=void 0!==Je?document.getElementById(Je):null;Ye?Oe=((gt,vt)=>{const kt=()=>{vt.present()};return gt.addEventListener("click",kt),()=>{gt.removeEventListener("click",kt)}})(Ye,Te):(0,C.p)(`A trigger element with the ID "${Je}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Te)},removeClickListener:$e}}},8637:(fn,Lt,me)=>{"use strict";me.d(Lt,{H:()=>c,b:()=>Ht,c:()=>b,f:()=>Oe,g:()=>p,h:()=>d,p:()=>wn,r:()=>Ut});var v=me(1528);let rt,Ne,r=!1,H=!1;const h={},a=Be=>"object"==(Be=typeof Be)||"function"===Be;function l(Be){var ct,Ot,Pt;return null!==(Pt=null===(Ot=null===(ct=Be.head)||void 0===ct?void 0:ct.querySelector('meta[name="csp-nonce"]'))||void 0===Ot?void 0:Ot.getAttribute("content"))&&void 0!==Pt?Pt:void 0}const d=(Be,ct,...Ot)=>{let Pt=null,zt=!1,mn=!1;const gn=[],bn=Sn=>{for(let tr=0;tr<Sn.length;tr++)Pt=Sn[tr],Array.isArray(Pt)?bn(Pt):null!=Pt&&"boolean"!=typeof Pt&&((zt="function"!=typeof Be&&!a(Pt))&&(Pt=String(Pt)),zt&&mn?gn[gn.length-1].$text$+=Pt:gn.push(zt?u(null,Pt):Pt),mn=zt)};if(bn(Ot),ct){const Sn=ct.className||ct.class;Sn&&(ct.class="object"!=typeof Sn?Sn:Object.keys(Sn).filter(tr=>Sn[tr]).join(" "))}const Cn=u(Be,null);return Cn.$attrs$=ct,gn.length>0&&(Cn.$children$=gn),Cn},u=(Be,ct)=>({$flags$:0,$tag$:Be,$text$:ct,$elm$:null,$children$:null,$attrs$:null}),c={},p=Be=>lt(Be).$hostElement$,b=(Be,ct,Ot)=>{const Pt=p(Be);return{emit:zt=>T(Pt,ct,{bubbles:!!(4&Ot),composed:!!(2&Ot),cancelable:!!(1&Ot),detail:zt})}},T=(Be,ct,Ot)=>{const Pt=nn.ce(ct,Ot);return Be.dispatchEvent(Pt),Pt},F=new WeakMap,$=(Be,ct)=>"sc-"+Be.$tagName$,j=(Be,ct,Ot,Pt,zt,mn)=>{if(Ot!==Pt){let gn=je(Be,ct),bn=ct.toLowerCase();if("class"===ct){const Cn=Be.classList,Sn=I(Ot),tr=I(Pt);Cn.remove(...Sn.filter(nr=>nr&&!tr.includes(nr))),Cn.add(...tr.filter(nr=>nr&&!Sn.includes(nr)))}else if("style"===ct){for(const Cn in Ot)(!Pt||null==Pt[Cn])&&(Cn.includes("-")?Be.style.removeProperty(Cn):Be.style[Cn]="");for(const Cn in Pt)(!Ot||Pt[Cn]!==Ot[Cn])&&(Cn.includes("-")?Be.style.setProperty(Cn,Pt[Cn]):Be.style[Cn]=Pt[Cn])}else if("ref"===ct)Pt&&Pt(Be);else if(gn||"o"!==ct[0]||"n"!==ct[1]){const Cn=a(Pt);if((gn||Cn&&null!==Pt)&&!zt)try{if(Be.tagName.includes("-"))Be[ct]=Pt;else{const Sn=null==Pt?"":Pt;"list"===ct?gn=!1:(null==Ot||Be[ct]!=Sn)&&(Be[ct]=Sn)}}catch{}null==Pt||!1===Pt?(!1!==Pt||""===Be.getAttribute(ct))&&Be.removeAttribute(ct):(!gn||4&mn||zt)&&!Cn&&Be.setAttribute(ct,Pt=!0===Pt?"":Pt)}else ct="-"===ct[2]?ct.slice(3):je(Ct,bn)?bn.slice(2):bn[2]+ct.slice(3),Ot&&nn.rel(Be,ct,Ot,!1),Pt&&nn.ael(Be,ct,Pt,!1)}},N=/\s/,I=Be=>Be?Be.split(N):[],B=(Be,ct,Ot,Pt)=>{const zt=11===ct.$elm$.nodeType&&ct.$elm$.host?ct.$elm$.host:ct.$elm$,mn=Be&&Be.$attrs$||h,gn=ct.$attrs$||h;for(Pt in mn)Pt in gn||j(zt,Pt,mn[Pt],void 0,Ot,ct.$flags$);for(Pt in gn)j(zt,Pt,mn[Pt],gn[Pt],Ot,ct.$flags$)},z=(Be,ct,Ot,Pt)=>{const zt=ct.$children$[Ot];let gn,bn,mn=0;if(null!==zt.$text$)gn=zt.$elm$=$t.createTextNode(zt.$text$);else{if(r||(r="svg"===zt.$tag$),gn=zt.$elm$=$t.createElementNS(r?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",zt.$tag$),r&&"foreignObject"===zt.$tag$&&(r=!1),B(null,zt,r),(Be=>null!=Be)(rt)&&gn["s-si"]!==rt&&gn.classList.add(gn["s-si"]=rt),zt.$children$)for(mn=0;mn<zt.$children$.length;++mn)bn=z(Be,zt,mn),bn&&gn.appendChild(bn);"svg"===zt.$tag$?r=!1:"foreignObject"===gn.tagName&&(r=!0)}return gn},W=(Be,ct,Ot,Pt,zt,mn)=>{let bn,gn=Be;for(gn.shadowRoot&&gn.tagName===Ne&&(gn=gn.shadowRoot);zt<=mn;++zt)Pt[zt]&&(bn=z(null,Ot,zt),bn&&(Pt[zt].$elm$=bn,gn.insertBefore(bn,ct)))},ne=(Be,ct,Ot)=>{for(let Pt=ct;Pt<=Ot;++Pt){const zt=Be[Pt];if(zt){const mn=zt.$elm$;fe(zt),mn&&mn.remove()}}},q=(Be,ct)=>Be.$tag$===ct.$tag$,ae=(Be,ct)=>{const Ot=ct.$elm$=Be.$elm$,Pt=Be.$children$,zt=ct.$children$,mn=ct.$tag$,gn=ct.$text$;null===gn?(r="svg"===mn||"foreignObject"!==mn&&r,B(Be,ct,r),null!==Pt&&null!==zt?((Be,ct,Ot,Pt)=>{let zn,zt=0,mn=0,gn=ct.length-1,bn=ct[0],Cn=ct[gn],Sn=Pt.length-1,tr=Pt[0],nr=Pt[Sn];for(;zt<=gn&&mn<=Sn;)null==bn?bn=ct[++zt]:null==Cn?Cn=ct[--gn]:null==tr?tr=Pt[++mn]:null==nr?nr=Pt[--Sn]:q(bn,tr)?(ae(bn,tr),bn=ct[++zt],tr=Pt[++mn]):q(Cn,nr)?(ae(Cn,nr),Cn=ct[--gn],nr=Pt[--Sn]):q(bn,nr)?(ae(bn,nr),Be.insertBefore(bn.$elm$,Cn.$elm$.nextSibling),bn=ct[++zt],nr=Pt[--Sn]):q(Cn,tr)?(ae(Cn,tr),Be.insertBefore(Cn.$elm$,bn.$elm$),Cn=ct[--gn],tr=Pt[++mn]):(zn=z(ct&&ct[mn],Ot,mn),tr=Pt[++mn],zn&&bn.$elm$.parentNode.insertBefore(zn,bn.$elm$));zt>gn?W(Be,null==Pt[Sn+1]?null:Pt[Sn+1].$elm$,Ot,Pt,mn,Sn):mn>Sn&&ne(ct,zt,gn)})(Ot,Pt,ct,zt):null!==zt?(null!==Be.$text$&&(Ot.textContent=""),W(Ot,null,ct,zt,0,zt.length-1)):null!==Pt&&ne(Pt,0,Pt.length-1),r&&"svg"===mn&&(r=!1)):Be.$text$!==gn&&(Ot.data=gn)},fe=Be=>{Be.$attrs$&&Be.$attrs$.ref&&Be.$attrs$.ref(null),Be.$children$&&Be.$children$.map(fe)},K=(Be,ct)=>{ct&&!Be.$onRenderResolve$&&ct["s-p"]&&ct["s-p"].push(new Promise(Ot=>Be.$onRenderResolve$=Ot))},R=(Be,ct)=>{if(Be.$flags$|=16,!(4&Be.$flags$))return K(Be,Be.$ancestorComponent$),It(()=>se(Be,ct));Be.$flags$|=512},se=(Be,ct)=>{const Pt=Be.$lazyInstance$;return ct&&(Be.$flags$|=256,Be.$queuedListeners$&&(Be.$queuedListeners$.map(([mn,gn])=>Ve(Pt,mn,gn)),Be.$queuedListeners$=void 0)),ge(void 0,()=>Le(Be,Pt,ct))},ge=(Be,ct)=>De(Be)?Be.then(ct):ct(),De=Be=>Be instanceof Promise||Be&&Be.then&&"function"==typeof Be.then,Le=function(){var Be=(0,v.c)(function*(ct,Ot,Pt){var zt;const mn=ct.$hostElement$,bn=mn["s-rc"];Pt&&(Be=>{const ct=Be.$cmpMeta$,Ot=Be.$hostElement$,Pt=ct.$flags$,mn=((Be,ct,Ot,Pt)=>{var zt;let mn=$(ct);const gn=wt.get(mn);if(Be=11===Be.nodeType?Be:$t,gn)if("string"==typeof gn){let Cn,bn=F.get(Be=Be.head||Be);if(bn||F.set(Be,bn=new Set),!bn.has(mn)){{Cn=$t.createElement("style"),Cn.innerHTML=gn;const Sn=null!==(zt=nn.$nonce$)&&void 0!==zt?zt:l($t);null!=Sn&&Cn.setAttribute("nonce",Sn),Be.insertBefore(Cn,Be.querySelector("link"))}bn&&bn.add(mn)}}else Be.adoptedStyleSheets.includes(gn)||(Be.adoptedStyleSheets=[...Be.adoptedStyleSheets,gn]);return mn})(Ot.shadowRoot?Ot.shadowRoot:Ot.getRootNode(),ct);10&Pt&&(Ot["s-sc"]=mn,Ot.classList.add(mn+"-h"))})(ct);Ze(ct,Ot),bn&&(bn.map(Sn=>Sn()),mn["s-rc"]=void 0);{const Sn=null!==(zt=mn["s-p"])&&void 0!==zt?zt:[],tr=()=>et(ct);0===Sn.length?tr():(Promise.all(Sn).then(tr),ct.$flags$|=4,Sn.length=0)}});return function(Ot,Pt,zt){return Be.apply(this,arguments)}}(),Ze=(Be,ct,Ot)=>{try{ct=ct.render(),Be.$flags$&=-17,Be.$flags$|=2,((Be,ct)=>{const Ot=Be.$hostElement$,Pt=Be.$vnode$||u(null,null),zt=(Be=>Be&&Be.$tag$===c)(ct)?ct:d(null,null,ct);Ne=Ot.tagName,zt.$tag$=null,zt.$flags$|=4,Be.$vnode$=zt,zt.$elm$=Pt.$elm$=Ot.shadowRoot||Ot,rt=Ot["s-sc"],ae(Pt,zt)})(Be,ct)}catch(Pt){Ue(Pt,Be.$hostElement$)}return null},et=Be=>{const Ot=Be.$hostElement$,zt=Be.$lazyInstance$,mn=Be.$ancestorComponent$;64&Be.$flags$||(Be.$flags$|=64,Te(Ot),Ve(zt,"componentDidLoad"),Be.$onReadyResolve$(Ot),mn||$e()),Be.$onInstanceResolve$(Ot),Be.$onRenderResolve$&&(Be.$onRenderResolve$(),Be.$onRenderResolve$=void 0),512&Be.$flags$&&ut(()=>R(Be,!1)),Be.$flags$&=-517},Oe=Be=>{{const ct=lt(Be),Ot=ct.$hostElement$.isConnected;return Ot&&2==(18&ct.$flags$)&&R(ct,!1),Ot}},$e=Be=>{Te($t.documentElement),ut(()=>T(Ct,"appload",{detail:{namespace:"ionicpwaelements"}}))},Ve=(Be,ct,Ot)=>{if(Be&&Be[ct])try{return Be[ct](Ot)}catch(Pt){Ue(Pt)}},Te=Be=>Be.classList.add("hydrated"),bt=(Be,ct,Ot)=>{if(ct.$members$){const Pt=Object.entries(ct.$members$),zt=Be.prototype;if(Pt.map(([mn,[gn]])=>{31&gn||2&Ot&&32&gn?Object.defineProperty(zt,mn,{get(){return((Be,ct)=>lt(this).$instanceValues$.get(ct))(0,mn)},set(bn){((Be,ct,Ot,Pt)=>{const zt=lt(Be),mn=zt.$instanceValues$.get(ct),gn=zt.$flags$,bn=zt.$lazyInstance$;Ot=((Be,ct)=>null==Be||a(Be)?Be:4&ct?"false"!==Be&&(""===Be||!!Be):2&ct?parseFloat(Be):1&ct?String(Be):Be)(Ot,Pt.$members$[ct][0]);const Cn=Number.isNaN(mn)&&Number.isNaN(Ot);(!(8&gn)||void 0===mn)&&Ot!==mn&&!Cn&&(zt.$instanceValues$.set(ct,Ot),bn&&2==(18&gn)&&R(zt,!1))})(this,mn,bn,ct)},configurable:!0,enumerable:!0}):1&Ot&&64&gn&&Object.defineProperty(zt,mn,{value(...bn){const Cn=lt(this);return Cn.$onInstancePromise$.then(()=>Cn.$lazyInstance$[mn](...bn))}})}),1&Ot){const mn=new Map;zt.attributeChangedCallback=function(gn,bn,Cn){nn.jmp(()=>{const Sn=mn.get(gn);if(this.hasOwnProperty(Sn))Cn=this[Sn],delete this[Sn];else if(zt.hasOwnProperty(Sn)&&"number"==typeof this[Sn]&&this[Sn]==Cn)return;this[Sn]=(null!==Cn||"boolean"!=typeof this[Sn])&&Cn})},Be.observedAttributes=Pt.filter(([gn,bn])=>15&bn[0]).map(([gn,bn])=>{const Cn=bn[1]||gn;return mn.set(Cn,gn),Cn})}}return Be},gt=function(){var Be=(0,v.c)(function*(ct,Ot,Pt,zt,mn){if(!(32&Ot.$flags$)){Ot.$flags$|=32;{if((mn=Ke(Pt)).then){const Sn=()=>{};mn=yield mn,Sn()}mn.isProxied||(bt(mn,Pt,2),mn.isProxied=!0);const Cn=()=>{};Ot.$flags$|=8;try{new mn(Ot)}catch(Sn){Ue(Sn)}Ot.$flags$&=-9,Cn()}if(mn.style){let Cn=mn.style;const Sn=$(Pt);if(!wt.has(Sn)){const tr=()=>{};((Be,ct,Ot)=>{let Pt=wt.get(Be);xn&&Ot?(Pt=Pt||new CSSStyleSheet,"string"==typeof Pt?Pt=ct:Pt.replaceSync(ct)):Pt=ct,wt.set(Be,Pt)})(Sn,Cn,!!(1&Pt.$flags$)),tr()}}}const gn=Ot.$ancestorComponent$,bn=()=>R(Ot,!0);gn&&gn["s-rc"]?gn["s-rc"].push(bn):bn()});return function(Ot,Pt,zt,mn,gn){return Be.apply(this,arguments)}}(),Ht=(Be,ct={})=>{var Ot;const zt=[],mn=ct.exclude||[],gn=Ct.customElements,bn=$t.head,Cn=bn.querySelector("meta[charset]"),Sn=$t.createElement("style"),tr=[];let nr,zn=!0;Object.assign(nn,ct),nn.$resourcesUrl$=new URL(ct.resourcesUrl||"./",$t.baseURI).href,Be.map(Ln=>{Ln[1].map(ee=>{const oe={$flags$:ee[0],$tagName$:ee[1],$members$:ee[2],$listeners$:ee[3]};oe.$members$=ee[2],oe.$listeners$=ee[3];const _e=oe.$tagName$,O=class extends HTMLElement{constructor(G){super(G),_t(G=this,oe),1&oe.$flags$&&G.attachShadow({mode:"open"})}connectedCallback(){nr&&(clearTimeout(nr),nr=null),zn?tr.push(this):nn.jmp(()=>(Be=>{if(!(1&nn.$flags$)){const ct=lt(Be),Ot=ct.$cmpMeta$,Pt=()=>{};if(1&ct.$flags$)Ft(Be,ct,Ot.$listeners$);else{ct.$flags$|=1;{let zt=Be;for(;zt=zt.parentNode||zt.host;)if(zt["s-p"]){K(ct,ct.$ancestorComponent$=zt);break}}Ot.$members$&&Object.entries(Ot.$members$).map(([zt,[mn]])=>{if(31&mn&&Be.hasOwnProperty(zt)){const gn=Be[zt];delete Be[zt],Be[zt]=gn}}),gt(Be,ct,Ot)}Pt()}})(this))}disconnectedCallback(){nn.jmp(()=>(Be=>{if(!(1&nn.$flags$)){const ct=lt(this),Ot=ct.$lazyInstance$;ct.$rmListeners$&&(ct.$rmListeners$.map(Pt=>Pt()),ct.$rmListeners$=void 0),Ve(Ot,"disconnectedCallback")}})())}componentOnReady(){return lt(this).$onReadyPromise$}};oe.$lazyBundleId$=Ln[0],!mn.includes(_e)&&!gn.get(_e)&&(zt.push(_e),gn.define(_e,bt(O,oe,1)))})});{Sn.innerHTML=zt+"{visibility:hidden}.hydrated{visibility:inherit}",Sn.setAttribute("data-styles","");const Ln=null!==(Ot=nn.$nonce$)&&void 0!==Ot?Ot:l($t);null!=Ln&&Sn.setAttribute("nonce",Ln),bn.insertBefore(Sn,Cn?Cn.nextSibling:bn.firstChild)}zn=!1,tr.length?tr.map(Ln=>Ln.connectedCallback()):nn.jmp(()=>nr=setTimeout($e,30))},Ft=(Be,ct,Ot,Pt)=>{Ot&&Ot.map(([zt,mn,gn])=>{const bn=rn(Be,zt),Cn=an(ct,gn),Sn=dn(zt);nn.ael(bn,mn,Cn,Sn),(ct.$rmListeners$=ct.$rmListeners$||[]).push(()=>nn.rel(bn,mn,Cn,Sn))})},an=(Be,ct)=>Ot=>{try{256&Be.$flags$?Be.$lazyInstance$[ct](Ot):(Be.$queuedListeners$=Be.$queuedListeners$||[]).push([ct,Ot])}catch(Pt){Ue(Pt)}},rn=(Be,ct)=>16&ct?$t.body:Be,dn=Be=>0!=(2&Be),Gt=new WeakMap,lt=Be=>Gt.get(Be),Ut=(Be,ct)=>Gt.set(ct.$lazyInstance$=Be,ct),_t=(Be,ct)=>{const Ot={$flags$:0,$hostElement$:Be,$cmpMeta$:ct,$instanceValues$:new Map};return Ot.$onInstancePromise$=new Promise(Pt=>Ot.$onInstanceResolve$=Pt),Ot.$onReadyPromise$=new Promise(Pt=>Ot.$onReadyResolve$=Pt),Be["s-p"]=[],Be["s-rc"]=[],Ft(Be,Ot,ct.$listeners$),Gt.set(Be,Ot)},je=(Be,ct)=>ct in Be,Ue=(Be,ct)=>(0,console.error)(Be,ct),Me=new Map,Ke=(Be,ct,Ot)=>{const Pt=Be.$tagName$.replace(/-/g,"_"),zt=Be.$lazyBundleId$,mn=Me.get(zt);if(mn)return mn[Pt];if(!Ot||!BUILD.hotModuleReplacement){const gn=bn=>(Me.set(zt,bn),bn[Pt]);switch(zt){case"pwa-action-sheet":return me.e(2152).then(me.bind(me,2152)).then(gn,Ue);case"pwa-camera-modal":return me.e(6056).then(me.bind(me,6056)).then(gn,Ue);case"pwa-toast":return me.e(3276).then(me.bind(me,3276)).then(gn,Ue);case"pwa-camera-modal-instance":return me.e(1148).then(me.bind(me,1148)).then(gn,Ue);case"pwa-camera":return me.e(580).then(me.bind(me,580)).then(gn,Ue)}}return me(996)(`./${zt}.entry.js`).then(gn=>(Me.set(zt,gn),gn[Pt]),Ue)},wt=new Map,Ct=typeof window<"u"?window:{},$t=Ct.document||{head:{}},nn={$flags$:0,$resourcesUrl$:"",jmp:Be=>Be(),raf:Be=>requestAnimationFrame(Be),ael:(Be,ct,Ot,Pt)=>Be.addEventListener(ct,Ot,Pt),rel:(Be,ct,Ot,Pt)=>Be.removeEventListener(ct,Ot,Pt),ce:(Be,ct)=>new CustomEvent(Be,ct)},wn=Be=>Promise.resolve(Be),xn=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),St=[],Et=[],Nt=(Be,ct)=>Ot=>{Be.push(Ot),H||(H=!0,ct&&4&nn.$flags$?ut(tt):nn.raf(tt))},yt=Be=>{for(let ct=0;ct<Be.length;ct++)try{Be[ct](performance.now())}catch(Ot){Ue(Ot)}Be.length=0},tt=()=>{yt(St),yt(Et),(H=St.length>0)&&nn.raf(tt)},ut=Be=>wn().then(Be),It=Nt(Et,!0)},5193:(fn,Lt,me)=>{"use strict";me.d(Lt,{a0:()=>b,uM:()=>p,O$:()=>m,s1:()=>s});var v=me(1528),xe=me(6400);const rt=(0,xe.C_)("App",{web:()=>me.e(4736).then(me.bind(me,4736)).then(T=>new T.AppWeb)});var Ne=me(4708),r=me(3428);const C=(0,xe.C_)("LocalNotifications",{web:()=>me.e(1208).then(me.bind(me,1208)).then(T=>new T.LocalNotificationsWeb)});var y=me(9352),_=me(4496),h=me(9240),f=me(5624),E=me(3332),w=me(6819),a=me(1028),l=me(7136),d=me(4668),u=me(4500),c=me(5020),s="DesktopPWA",m=!1;const p="https://is2you2.github.io/";window.p5=y;let b=(()=>{var T;class F{constructor(A,P,$,j,N,I,B,z,W,ne,J){this.platform=A,this.nakama=I,this.modalCtrl=z,this.lang=ne,A.is("desktop")?s="DesktopPWA":A.is("mobileweb")?s="MobilePWA":A.is("android")?s="Android":A.is("iphone")&&(s="iOS"),m=A.is("electron"),B.initialize(()=>{let q=J.CatchGETs(location.href)||{};J.initialize(),I.AddressToQRCodeAct(q),j.initialize(),"Android"==s&&C.checkPermissions().then(function(){var ae=(0,v.c)(function*(fe){"granted"!=fe.display&&(yield C.requestPermissions())});return function(fe){return ae.apply(this,arguments)}}()),j.load_settings(),B.GetFileListFromDB("tmp_files",ae=>{ae.forEach(fe=>B.removeFileFromUserPath(fe))})}),ne.Callback_nakama=()=>{I.initialize(),I.check_if_online(),ne.isFirstTime=!1},this.init_admob(),("Android"==s||"iOS"==s)&&rt.addListener("appUrlOpen",q=>{$.run(()=>{const ae=q.url.split(".app").pop();ae&&P.navigateByUrl(ae)})}),j.SetListener("click",q=>{try{let ae,Se,fe=q.data.page.componentProps;switch(q.data.page.component){case"ChatRoomPage":Se=fe.info.noti_id;break;case"AddTodoMenuPage":fe={data:fe.data},Se=JSON.parse(fe.data).id;break;case"NakamaReqContTitle":let K=I.servers[fe.data.isOfficial][fe.data.Target],R="";return R+=`${ne.text.Nakama.ReqContServer}: ${fe.data.serverName}<br>`,R+=`${ne.text.Nakama.ReqContUserName}: ${fe.data.userName}`,void W.create({header:ne.text.Nakama.ReqContTitle,message:R,buttons:[{text:ne.text.Nakama.ReqContAccept,handler:()=>{K.client.addGroupUsers(K.session,fe.data.group_id,[fe.data.user_id]).then(se=>{se||console.warn("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),K.client.deleteNotifications(K.session,[fe.data.noti_id]).then(ge=>{ge?I.update_notifications(fe.data.isOfficial,fe.data.Target):console.warn("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",ge)})})}},{text:ne.text.Nakama.ReqContReject,handler:()=>{K.client.kickGroupUsers(K.session,fe.data.group_id,[fe.data.user_id]).then(se=>{se||console.warn("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),K.client.deleteNotifications(K.session,[fe.data.noti_id]),I.update_notifications(fe.data.isOfficial,fe.data.Target)})},cssClass:"red_font"}]}).then(se=>se.present());case"AllUserNotification":break;default:console.warn("\uc900\ube44\ub41c \ud398\uc774\uc9c0\uac00 \uc544\ub2d8: ",q.data.page.component)}if(Se==j.Current)return;this.waiting_open_page(q,ae,fe)}catch{if("AllUserNotification"===q.data.type){let Se=`<div>${q.data.body}</div>`;W.create({header:q.data.title,message:new Ne.AF(q.data.image?`<img *ngIf="${q.data.image}" src="${q.data.image}" alt="noti_image" style="border-radius: 8px">`+Se:Se),buttons:[{text:ne.text.Nakama.LocalNotiOK,handler:()=>{I.servers[q.data.isOfficial][q.data.target].client.deleteNotifications(I.servers[q.data.isOfficial][q.data.target].session,[q.data.noti_id])}}]}).then(R=>R.present())}else console.log("\uc900\ube44\ub41c \uc54c\ub9bc \ud589\ub3d9 \uc5c6\uc74c: ",q.data)}}),N.enable(),I.on_socket_connected.connection_check=()=>{I.check_if_online()},I.on_socket_disconnected.connection_check=()=>{I.check_if_online()}}waiting_open_page(A,P,$){var j=this;return(0,v.c)(function*(){try{let N=yield j.modalCtrl.create({component:P,componentProps:$});switch(A.data.page.component){case"ChatRoomPage":if(!j.lang.text.ChatRoom.YouReadHereLast)throw"ChatRoomPage \ubc88\uc5ed \uc900\ube44\uc911";if($.info.noti_id)throw $={info:j.nakama.channels_orig[$.info.isOfficial][$.info.target][$.info.id]},"ChatRoomPage props \uc7ac\uc815\ube44";j.nakama.go_to_chatroom_without_admob_act($.info);break;case"AddTodoMenuPage":if(!j.lang.text.TodoDetail.ToggleWorkers)throw"AddTodoMenuPage \ubc88\uc5ed \uc900\ube44\uc911";j.nakama.open_add_todo_page($.data);break;default:console.warn("\uc900\ube44\ub41c \ud398\uc774\uc9c0 \ud589\ub3d9 \uc5c6\uc74c: ",A.data.page.component),N.present()}}catch(N){console.log("retry open notification clicked because... : ",N),setTimeout(()=>{j.waiting_open_page(A,P,$)},200)}})()}init_admob(){this.platform.ready().then(()=>{r.i8.initialize({testingDevices:[],initializeForTesting:!0})})}}return(T=F).\u0275fac=function(A){return new(A||T)(_.GI1(h.WU),_.GI1(E.E5),_.GI1(_.WW2),_.GI1(w.s),_.GI1(a.Y),_.GI1(l.h),_.GI1(d.k),_.GI1(f.qS),_.GI1(f.iW),_.GI1(u.o),_.GI1(c.A1))},T.\u0275cmp=_.In1({type:T,selectors:[["app-root"]],decls:2,vars:0,template:function(A,P){1&A&&(_.I0R(0,"ion-app"),_.wR5(1,"ion-router-outlet"),_.C$Y())},dependencies:[f.qk,f.Cg]}),F})()},5020:(fn,Lt,me)=>{"use strict";me.d(Lt,{A1:()=>a,KY:()=>w,Mp:()=>E});var v=me(1528),xe=me(4972),Ne=me(9352),H=me(4496),C=me(3824),y=me(4500),_=me(4476),h=me(4668),f=me(5624),E=!1;const w=8e4;let a=(()=>{var l;class d{constructor(c,s,m,p,b){this.p5toast=c,this.lang=s,this.sanitizer=m,this.indexed=p,this.loadingCtrl=b,E=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}initialize(){this.p5key=new Ne(c=>{c.setup=()=>{c.noCanvas(),c.noLoop(),c.KeyShortCut={}},c.keyPressed=s=>{switch(s.code){case"Backquote":c.KeyShortCut.Backquote&&c.KeyShortCut.Backquote();break;case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":case"Digit0":if(c.KeyShortCut.Digit){let m=(Number(s.code.slice(-1))-1+10)%10;c.KeyShortCut.Digit(m)}break;case"KeyQ":case"KeyW":case"KeyE":c.KeyShortCut.BottomTab&&c.KeyShortCut.BottomTab(s.code.slice(-1));break;case"KeyA":c.KeyShortCut.AddAct&&c.KeyShortCut.AddAct();break;case"KeyS":c.KeyShortCut.SKeyAct&&c.KeyShortCut.SKeyAct();break;case"KeyD":c.KeyShortCut.DeleteAct&&c.KeyShortCut.DeleteAct();break;case"KeyF":c.KeyShortCut.FKeyAct&&c.KeyShortCut.FKeyAct();break;case"Enter":c.KeyShortCut.EnterAct&&c.KeyShortCut.EnterAct();break;case"Escape":c.KeyShortCut.Escape&&c.KeyShortCut.Escape();break;case"KeyZ":case"KeyX":case"KeyC":case"KeyV":c.KeyShortCut.HistoryAct&&c.KeyShortCut.HistoryAct(s.code.slice(-1))}}})}CatchGETs(c){const s=c.split("?");if(s.length>1){const m=s[1].split("&");let p={};for(let b=0,T=m.length;b<T;b++){const F=m[b].split("=");p[F[0]]||(p[F[0]]=[]),p[F[0]].push(decodeURIComponent(F[1]))}return p}}readasQRCodeFromId(c){try{let s=new xe({content:`[${JSON.stringify(c)}]`,padding:4,width:8,height:8,color:E?"#bbb":"#444",background:E?"#111":"#fff",ecl:"M"}).svg();return this.sanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${btoa(s)}`)}catch(s){console.log("readasQRCodeFromId: ",s),this.p5toast.show({text:`${this.lang.text.GlobalAct.failed_to_gen_qr}: ${s}`})}}readasQRCodeFromString(c){try{let s=new xe({content:c,padding:4,width:8,height:8,color:E?"#bbb":"#444",background:E?"#111":"#fff",ecl:"M"}).svg();return this.sanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${btoa(s)}`)}catch(s){console.log("readasQRCodeFromString: ",s),this.p5toast.show({text:`${this.lang.text.GlobalAct.failed_to_gen_qr}: ${s}`})}}CreateGodotIFrame(c,s,m=""){var p=this;let b=!1;return new Promise(function(){var T=(0,v.c)(function*(F){let k=function(){var j=(0,v.c)(function*(){try{if("godot"!=window.godot)throw"No godot";if(m&&!p.godot_window[m])throw"No act ready";b=!0,yield p.indexed.GetGodotIndexedDB(),F()}catch{setTimeout(()=>{k()},1e3)}});return function(){return j.apply(this,arguments)}}();p.godot_window&&p.godot_window.quit_godot&&p.godot_window.quit_godot(),p.godot_splash&&p.godot_splash.remove(),p.godot&&p.godot.remove(),window.godot="";let A=document.createElement("iframe");A.id="godot",A.setAttribute("src","assets/html/index.html"),A.setAttribute("frameborder","0"),A.setAttribute("class","full_screen"),A.setAttribute("allow","fullscreen; encrypted-media"),A.setAttribute("scrolling","no"),A.setAttribute("withCredentials","true"),"content_viewer_canvas"==c&&(s.create_thumbnail_p5=function(){var j=(0,v.c)(function*(N,I=void 0){new Ne(B=>{B.setup=()=>{B.noCanvas(),B.loadImage("data:image/png;base64,"+N,z=>{B.createCanvas(z.width,z.height),B.image(z,0,0),B.textSize(16),B.textWrap(B.CHAR);let W=B.height/24;B.push(),B.translate(W/6,W/6),B.fill(0),B.text(p.godot_window.filename,W,W,B.width-2*W,B.height-2*W),B.filter(B.BLUR,3),B.pop(),B.fill(255),B.text(p.godot_window.filename,W,W,B.width-2*W,B.height-2*W),B.saveFrames("","png",1,1,function(){var ne=(0,v.c)(function*(J){try{yield p.indexed.saveBase64ToUserPath(J[0].imageData.replace(/"|=|\\/g,""),`${s.alt_path||s.path}_thumbnail.png`),p.modulate_thumbnail(I,"")}catch(q){console.log("p.saveFrames: ",q)}B.remove()});return function(J){return ne.apply(this,arguments)}}())},z=>{console.error("create_thumbnail_load thumbnail failed: ",z),B.remove()})}})});return function(N){return j.apply(this,arguments)}}());let P=document.getElementById(c);P.appendChild(A),p.godot_window=A.contentWindow||A.contentDocument,Object.keys(s).forEach(j=>p.godot_window[j]=s[j]),p.godot=A,p.godot_splash=new Ne(j=>{let N,I,ne,J;j.setup=()=>{let R=j.createCanvas(P.clientWidth,P.clientHeight);R.parent(P),R.style("position: absolute; left: 0;"),j.imageMode(j.CENTER),j.rectMode(j.CENTER),j.noStroke(),j.CurrentLoaded=0,j.LoadLength=1,p.godot_window.update_load=(se,ge)=>{j.CurrentLoaded=se,j.LoadLength=ge},j.loadImage("assets/icon/favicon.png",se=>{N=se}),j.pixelDensity(1),s.background&&j.loadImage(s.background,se=>{I=se,se.width>se.height?(J=j.height,ne=se.width/se.height*j.height):(ne=j.width,J=se.height/se.width*j.width)})};let q=2,ae=0,fe=E?80:200,Se=E?200:80,K=E?40:160;j.draw=()=>{j.clear(255,255,255,255);let R=j.constrain(255*q,0,255);j.background(fe),j.tint(255,R),I&&j.image(I,j.width/2,j.height/2,ne,J),N&&j.image(N,j.width/2,j.height/2),j.push(),j.translate(j.width/2,j.height/2+80),ae+=.07,j.rotate(ae),j.fill(Se,j.constrain(255*q,0,255)),j.push(),j.translate(-6,-6),j.rotate(2*-ae),j.rect(0,0,8,8,2),j.pop(),j.push(),j.translate(6,-6),j.rotate(2*-ae),j.rect(0,0,8,8,2),j.pop(),j.push(),j.translate(-6,6),j.rotate(2*-ae),j.rect(0,0,8,8,2),j.pop(),j.push(),j.translate(6,6),j.rotate(2*-ae),j.rect(0,0,8,8,2),j.pop(),j.pop(),j.push(),j.translate(j.width/2,j.height/2+120),j.stroke(K,R),j.strokeWeight(3),j.line(-30,0,30,0),j.stroke(Se,R),j.line(-30,0,j.lerp(-30,30,j.CurrentLoaded/j.LoadLength),0),j.pop(),b&&(q-=.04,q<=0&&j.remove())},j.windowResized=()=>{j.resizeCanvas(P.clientWidth,P.clientHeight)}}),yield k()});return function(F){return T.apply(this,arguments)}}())}req_file_info(c,s){var m=this;return(0,v.c)(function*(){return new Promise(function(){var p=(0,v.c)(function*(b){b(yield m.indexed.GetFileInfoFromDB(c,void 0,s))});return function(b){return p.apply(this,arguments)}}())})()}req_file_part_base64(c,s,m,p){for(var b="",T=new Uint8Array(c.contents.slice(s*w,(s+1)*w)),F=0,k=T.byteLength;F<k;F++)b+=String.fromCharCode(T[F]);let A=btoa(b);return this.indexed.saveTextFileToUserPath(JSON.stringify({type:"upload",index:s}),`${m}.history`,void 0,p),A}save_file_part(c,s,m,p){this.indexed.saveBase64ToUserPath(","+m,`${c}_part/${s}.part`,void 0,p),this.indexed.saveTextFileToUserPath(JSON.stringify({type:"download",index:s}),`${c}.history`,void 0,p)}remove_req_file_info(c,s){delete c.content.transfer_index,this.indexed.removeFileFromUserPath(`${s}.history`)}modulate_thumbnail(c,s){var m=this;return(0,v.c)(function*(){try{let p=yield m.indexed.loadBlobFromUserPath(`${c.path}_thumbnail.png`,"image/png"),b=URL.createObjectURL(p);return c.thumbnail=m.sanitizer.bypassSecurityTrustUrl(b),void setTimeout(()=>{URL.revokeObjectURL(b)},100)}catch{}switch(c.viewer){case"image":c.thumbnail=c.url?c.url:m.sanitizer.bypassSecurityTrustUrl(s);break;case"text":if(c.url){let p=yield fetch(c.url).then(b=>b.text());c.text=p.split("\n"),c.thumbnail=p.split("\n")}else new Ne(p=>{p.setup=()=>{p.noCanvas(),p.loadStrings(s,b=>{c.text=b,URL.revokeObjectURL(s),p.remove()},b=>{console.log("\ud14d\uc2a4\ud2b8 \uc5f4\ub78c \ubd88\uac00: ",b),c.text=[m.lang.text.ChatRoom.downloaded],URL.revokeObjectURL(s),p.remove()})}})}s&&setTimeout(()=>{URL.revokeObjectURL(s)},100)})()}set_viewer_category(c){try{if(0==c.type.indexOf("image/"))c.viewer="image";else if(0==c.type.indexOf("audio/"))c.viewer="audio";else if(0==c.type.indexOf("video/"))c.viewer="video";else{if(0!=c.type.indexOf("text/"))throw"\uc790\ub3d9\uc9c0\uc815\ub418\uc9c0 \uc54a\uc740 \ud0c0\uc785";c.viewer="text"}}catch{this.set_viewer_category_from_ext(c)}}set_viewer_category_from_ext(c){switch(c.file_ext){case"blend":c.viewer="blender";break;case"pck":c.viewer="godot";break;case"png":case"jpeg":case"jpg":case"webp":case"gif":c.viewer="image";break;case"wav":case"ogg":case"mp3":c.viewer="audio";break;case"mp4":case"ogv":case"webm":c.viewer="video";break;case"md":case"prop":case"conf":case"log":case"txt":case"cs":case"gd":case"py":case"yml":case"gitignore":case"json":case"csv":case"ts":case"js":case"shader":c.viewer="text";break;default:c.viewer="disabled"}}GetBase64ThroughFileReader(c){return new Promise((s,m)=>{var p;let b=new FileReader;b=null!==(p=b._realReader)&&void 0!==p?p:b,b.onload=T=>{s(T.target.result.replace(/"|\\|=/g,""))},b.onerror=T=>{m(T)},b.readAsDataURL(c)})}Base64ToBlob(c,s=""){let m=atob(c.split(",")[1]),p=new ArrayBuffer(m.length),b=new Int8Array(p);for(let F=0,k=m.length;F<k;F++)b[F]=m.charCodeAt(F);return new Blob([b],{type:s})}upload_file_to_storage(c,s,m,p){var b=this;return(0,v.c)(function*(){let T=yield b.loadingCtrl.create({message:b.lang.text.GlobalAct.CheckCdnServer});T.present();let F=new FormData,k=(new Date).getTime(),A=c.filename.split(".")[0],P=`${s}_${A}_${k}.${c.file_ext}`,$=new File([c.blob],P);F.append("files",$);let j=!1,N=`${m}//${p}:9002/cdn/${P}`;try{let I=new Headers;I.append("Access-Control-Allow-Origin","*"),I.append("Access-Control-Allow-Method","*"),I.append("Access-Control-Allow-Headers","*"),yield fetch(`${m}//${p}:9001/${P}`,{method:"POST",headers:I,body:F}),(yield fetch(N)).ok&&(j=!0)}catch(I){T.message=b.lang.text.GlobalAct.CancelingUpload,console.warn("cdn \ud30c\uc77c \uc5c5\ub85c\ub4dc \ub2e8\uacc4 \uc2e4\ud328:",I)}return T.dismiss(),j?N:void 0})()}}return(l=d).\u0275fac=function(c){return new(c||l)(H.CoB(C.O),H.CoB(y.o),H.CoB(_.mI),H.CoB(h.k),H.CoB(f.Kg))},l.\u0275prov=H.wxM({token:l,factory:l.\u0275fac,providedIn:"root"}),d})()},4668:(fn,Lt,me)=>{"use strict";me.d(Lt,{k:()=>r});var v=me(1528),xe=me(4496),rt=me(3824),Ne=me(4500);let r=(()=>{var H;class C{constructor(_,h){this.p5toast=_,this.lang=h}initialize(_=(()=>{})){if(this.ionicDB)return;let h=indexedDB.open("/ionicfs",10);h.onsuccess=f=>{f.target.result.close(),indexedDB.open("/ionicfs",11).onsuccess=a=>{this.ionicDB=a.target.result,_()}},h.onupgradeneeded=f=>{f.target.result.createObjectStore("FILE_DATA")},h.onerror=f=>{indexedDB.open("/ionicfs",11).onsuccess=w=>{this.ionicDB=w.target.result,_()}}}GetGodotIndexedDB(){var _=this;return(0,v.c)(function*(){if(!_.godotDB)return new Promise((h,f)=>{let E=indexedDB.open("/userfs",21);E.onsuccess=w=>{_.godotDB=E.result,h(void 0)},E.onerror=w=>{console.error("IndexedDB initialized failed: ",w),f(w)}})})()}createRecursiveDirectory(_,h=this.ionicDB){let f=_.lastIndexOf("/"),E=_.substring(0,f);E&&this.checkIfFileExist(E,w=>{let a=h.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${E}`);a.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",_),this.createRecursiveDirectory(E,h)},a.onerror=l=>{console.error("IndexedDB createRecursiveDirectory failed: ",l)}})}createDirectory(_){return new Promise((h,f)=>{this.checkIfFileExist(_,E=>{let w=this.ionicDB.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${_}`);w.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",_),h(void 0)},w.onerror=a=>{console.error("IndexedDB createRecursiveDirectory failed: ",a),f(a)}})})}saveTextFileToUserPath(_,h,f=(w=>{}),E=this.ionicDB){return this.createRecursiveDirectory(h,E),new Promise((w,a)=>{let l=E.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:(new TextEncoder).encode(_)},`/userfs/${h}`);l.onsuccess=d=>{"success"!=d.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",h),f(d),w(d)},l.onerror=d=>{a(d)}})}saveBase64ToUserPath(_,h,f=(w=>{}),E=this.ionicDB){return new Promise((w,a)=>{let l=atob(_.split(",")[1]),d=new ArrayBuffer(l.length),u=new Int8Array(d);for(let s=0,m=l.length;s<m;s++)u[s]=l.charCodeAt(s);this.createRecursiveDirectory(h,E);let c=E.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:u},`/userfs/${h}`);c.onsuccess=s=>{"success"!=s.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",h),f(u),w(u)},c.onerror=s=>{a(s)}})}saveInt8ArrayToUserPath(_,h,f=this.ionicDB){return new Promise((E,w)=>{this.createRecursiveDirectory(h,f);let a=f.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:_},`/userfs/${h}`);a.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",h),E()},a.onerror=l=>{w(l)}})}saveBlobToUserPath(_,h,f=(w=>{}),E=this.ionicDB){var w=this;return new Promise(function(){var a=(0,v.c)(function*(l,d){let u;try{let s=yield _.arrayBuffer();u=new Int8Array(s)}catch(s){d(s)}w.createRecursiveDirectory(h,E);let c=E.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:u},`/userfs/${h}`);c.onsuccess=s=>{"success"!=s.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",h),f(u),l(u)},c.onerror=s=>{d(s)}});return function(l,d){return a.apply(this,arguments)}}())}saveFileToUserPath(_,h,f=(w=>{}),E=this.ionicDB){return this.createRecursiveDirectory(h,E),new Promise((w,a)=>{let l=E.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put(_,`/userfs/${h}`);l.onsuccess=d=>{"success"!=d.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",h),f(d),w(d)},l.onerror=d=>{a(d)}})}checkIfFileExist(_,h=(E=>{}),f=this.ionicDB){return new Promise((E,w)=>{let a=f.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").count(`/userfs/${_}`);a.onsuccess=l=>{let d=l.target.result;h(d),E(d)},a.onerror=l=>{w(l)}})}GetFileListFromDB(_,h=(E=>{}),f=this.ionicDB){let E=f.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").getAllKeys();return new Promise((w,a)=>{E.onsuccess=l=>{const d=l.target.result;for(let u=d.length-1;u>=0;u--)d[u].includes(_)?d[u]=d[u].substring(8):d.splice(u,1);h(d),w(d)},E.onerror=l=>{a(l)}})}GetFileInfoFromDB(_,h=(E=>{}),f=this.ionicDB){let E=f.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${_}`);return new Promise((w,a)=>{E.onsuccess=l=>{const d=l.target.result;h(d),w(d)},E.onerror=l=>{a(l)}})}loadTextFromUserPath(_,h=((E,w)=>{}),f=this.ionicDB){return new Promise(E=>{let w=f.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${_}`);w.onsuccess=a=>{if(a.target.result){let l=(new TextDecoder).decode(a.target.result.contents);h(!0,l),E(l)}else h(!1,`No file: , ${_}`),E(void 0)},w.onerror=a=>{console.error("IndexedDB loadTextFromUserPath failed: ",a),E(void 0)}})}loadBlobFromUserPath(_,h,f=(w=>{}),E=this.ionicDB){let w=E.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${_}`);return new Promise((a,l)=>{w.onsuccess=d=>{try{let u=new Blob([d.target.result.contents],{type:h});f(u),a(u)}catch(u){l(u)}},w.onerror=d=>{l(d)}})}DownloadFileFromUserPath(_,h,f,E=this.ionicDB){let w=E.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${_}`);w.onsuccess=a=>{try{let l=new Blob([a.target.result.contents],{type:h}),d=URL.createObjectURL(l),u=document.createElement("a");u.download=f,u.href=d,document.body.appendChild(u),u.click(),document.body.removeChild(u),u.remove(),URL.revokeObjectURL(d),this.p5toast.show({text:this.lang.text.ContentViewer.fileSaved})}catch(l){console.error("DownloadFileFromUserPath: ",l),this.p5toast.show({text:`${this.lang.text.IndexedDB.FailedToDownloadFile}: ${l}`})}},w.onerror=a=>{console.error("IndexedDB DownloadFileFromUserPath failed: ",a)}}removeFileFromUserPath(_,h=(E=>{}),f=this.ionicDB){let E=f.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").delete(`/userfs/${_}`);return new Promise((w,a)=>{E.onsuccess=l=>{h(l),w(l)},E.onerror=l=>{a(l)}})}}return(H=C).\u0275fac=function(_){return new(_||H)(xe.CoB(rt.O),xe.CoB(Ne.o))},H.\u0275prov=xe.wxM({token:H,factory:H.\u0275fac,providedIn:"root"}),C})()},4500:(fn,Lt,me)=>{"use strict";me.d(Lt,{o:()=>Ne});var v=me(9352),rt=me(4496);let Ne=(()=>{var r;class H{constructor(){this.text={Front:{},Portal:{},Main:{},Subscribes:{},ChatRoom:{},Profile:{},GroupServer:{}},this.isFirstTime=!0,this.lang=navigator.language.split("-")[0];let y=localStorage.getItem("lang");y&&(this.lang=y),setTimeout(()=>{this.load_selected_lang()},0)}load_selected_lang(){new v(y=>{y.setup=()=>{y.noCanvas(),y.loadTable("assets/data/translate.csv","csv","header",_=>{let h;_.columns.includes(this.lang)||(this.lang="en"),localStorage.setItem("lang",this.lang);for(let f=0,E=_.rows.length;f<E;f++)"#"==_.rows[f].obj["#"].charAt(0)?(h=_.rows[f].obj["#"].substring(3),this.text[h]||(this.text[h]={})):this.text[h][_.rows[f].obj["#"]]=_.rows[f].obj[this.lang];this.isFirstTime&&this.Callback_nakama(),y.remove()},_=>{console.error("\ub0b4\ubd80 \ubb38\uc11c \uc77d\uae30 \uc2e4\ud328: ",_),y.remove()})}})}}return(r=H).\u0275fac=function(y){return new(y||r)},r.\u0275prov=rt.wxM({token:r,factory:r.\u0275fac,providedIn:"root"}),H})()},6819:(fn,Lt,me)=>{"use strict";me.d(Lt,{s:()=>C});var v=me(1528),xe=me(5193),rt=me(4496),Ne=me(6928),r=me(1028),H=me(4668);let C=(()=>{var y;class _{constructor(f,E,w){this.noti=f,this.bgmode=E,this.indexed=w,this.settings={silent:{icon_mono:!0,diychat:!0,simplechat:!0,todo:!0,engineppt:!0},vibrate:!1},this.WebNoties={},this.listeners={}}change_silent_settings(f){this.settings.silent[f]=!this.settings.silent[f],this.indexed.saveTextFileToUserPath(JSON.stringify(this.settings),"notification_settings.json")}load_settings(){this.indexed.loadTextFromUserPath("notification_settings.json",(f,E)=>{f&&E&&(this.settings=JSON.parse(E)),"boolean"==typeof this.settings.silent&&(this.settings.silent={icon_mono:this.settings.silent,diychat:this.settings.silent,simplechat:this.settings.silent,todo:this.settings.silent,engineppt:this.settings.silent})})}initialize(){return(0,v.c)(function*(){("DesktopPWA"==xe.s1||"MobilePWA"==xe.s1)&&("Notification"in window||console.error("Notification \ubbf8\uc9c0\uc6d0 \ube0c\ub77c\uc6b0\uc800\uc785\ub2c8\ub2e4"),Notification.requestPermission().then(f=>{"granted"!=f&&console.log("\uc54c\ub9bc \uac70\uc808",f)},f=>{console.error("\uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ube0c\ub77c\uc6b0\uc800:",f)}))})()}PushLocal(f,E="favicon",w=(()=>{})){if("DesktopPWA"==xe.s1||"MobilePWA"==xe.s1){if(document.hasFocus()&&this.Current==E||f.triggerWhen_ln)return;const a={badge:`${f.badge}`,body:f.body,icon:`assets/icon/${f.icon||f.smallIcon_ln||E||"favicon"}.png`,image:f.image,lang:f.lang_wn,silent:!this.settings.silent[f.icon||f.smallIcon_ln]||!1,tag:f.tag_wn,actions:f.actions_wn,data:f.data_wn,renotify:f.renotify_wn,requireInteraction:f.requireInteraction_wn,dir:f.dir_wn};if("DesktopPWA"==xe.s1)this.WebNoties[f.id]&&(this.WebNoties[f.id].close(),delete this.WebNoties[f.id]),this.WebNoties[f.id]=new Notification(f.title,{...a}),this.WebNoties[f.id].onclick=()=>{w(),window.focus(),this.WebNoties[f.id].close()};else if(window.swReg&&window.swReg.active){if(this.WebNoties[f.id]){try{this.WebNoties[f.id].close()}catch{}delete this.WebNoties[f.id]}try{this.WebNoties[f.id]=window.swReg.showNotification(f.title,{...a})}catch{}try{this.WebNoties[f.id].onclick=()=>{w(),window.focus(),this.WebNoties[f.id].close()}}catch{}}}else{if(!this.bgmode.isActive()&&this.Current==E)return;let a={};a.id=f.id,a.title=f.title,f.body&&(a.text=f.body),f.actions_ln&&(a.actions=f.actions_ln),f.autoCancel_ln&&(a.autoClear=f.autoCancel_ln),f.launch_ln&&(a.launch=f.launch_ln),f.badge&&(a.badge=f.badge),f.image&&(a.attachments=[f.image]),f.clock_ln&&(a.clock=f.clock_ln),f.iconColor_ln&&(a.color=f.iconColor_ln||"ffd94e"),f.extra_ln&&(a.data=f.extra_ln),f.group_ln&&(a.group=f.group_ln),f.groupSummary_ln&&(a.groupSummary=f.groupSummary_ln),f.groupSummaryText_ln&&(a.summary=f.groupSummaryText_ln),f.led_ln&&(a.led=f.led_ln),f.lockscreen_ln&&(a.lockscreen=f.lockscreen_ln),f.mediaSesion_ln&&(a.mediaSession=f.mediaSesion_ln),f.number_ln&&(a.number=f.number_ln),f.progressBar_ln&&(a.progressBar=f.progressBar_ln),f.priority_ln&&(a.priority=f.priority_ln),a.silent=!this.settings.silent[f.smallIcon_ln]||!1,f.timeoutAfter_ln&&(a.timeoutAfter=f.timeoutAfter_ln),f.wakeup_ln&&(a.wakeup=f.wakeup_ln),f.ongoing_ln&&(a.sticky=f.ongoing_ln),f.triggerWhen_ln&&(a.trigger=f.triggerWhen_ln),f.vibrate_ln&&(a.vibrate=f.vibrate_ln),f.icon&&(a.icon=f.icon),a.smallIcon=`res://${f.smallIcon_ln||E||"icon_mono"}`,a.sound=`res://${f.sound_ln||"platform_default"}`,a.foreground=!0,this.noti.schedule(a)}}GetNotificationIds(f=(E=>{})){"DesktopPWA"==xe.s1||"MobilePWA"==xe.s1||this.noti.getScheduledIds().then(E=>{f(E)})}ClearNoti(f){"DesktopPWA"==xe.s1?this.WebNoties[f]&&this.WebNoties[f].close():"MobilePWA"!=xe.s1&&this.noti.clear(f)}SetListener(f,E=((w,a)=>console.warn(`${f}: ${w}/${a}`))){"DesktopPWA"==xe.s1||"MobilePWA"==xe.s1||(this.listeners[f]=(w,a)=>{E(w,a)},cordova.plugins.notification.local.on(f,this.listeners[f]))}RemoveListener(f){"DesktopPWA"==xe.s1||"MobilePWA"==xe.s1||(cordova.plugins.notification.local.un(f,this.listeners[f]),delete this.listeners[f])}}return(y=_).\u0275fac=function(f){return new(f||y)(rt.CoB(Ne.G8),rt.CoB(r.Y),rt.CoB(H.k))},y.\u0275prov=rt.wxM({token:y,factory:y.\u0275fac,providedIn:"root"}),_})()},7136:(fn,Lt,me)=>{"use strict";me.d(Lt,{i:()=>zn,h:()=>Ln});var E,w,v=me(1528),xe=Object.defineProperty,rt=Object.getOwnPropertySymbols,Ne=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,H=(ee,oe,_e)=>oe in ee?xe(ee,oe,{enumerable:!0,configurable:!0,writable:!0,value:_e}):ee[oe]=_e,C=(ee,oe)=>{for(var _e in oe||(oe={}))Ne.call(oe,_e)&&H(ee,_e,oe[_e]);if(rt)for(var _e of rt(oe))r.call(oe,_e)&&H(ee,_e,oe[_e]);return ee},y=(ee,oe,_e)=>new Promise((O,G)=>{var V=Z=>{try{de(_e.next(Z))}catch(ve){G(ve)}},Q=Z=>{try{de(_e.throw(Z))}catch(ve){G(ve)}},de=Z=>Z.done?O(Z.value):Promise.resolve(Z.value).then(V,Q);de((_e=_e.apply(ee,oe)).next())}),_=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof _<"u"&&_,h_searchParams="URLSearchParams"in _,h_iterable="Symbol"in _&&"iterator"in Symbol,h_blob="FileReader"in _&&"Blob"in _&&function(){try{return new Blob,!0}catch{return!1}}(),h_formData="FormData"in _,h_arrayBuffer="ArrayBuffer"in _;function a(ee){if("string"!=typeof ee&&(ee=String(ee)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(ee)||""===ee)throw new TypeError('Invalid character in header field name: "'+ee+'"');return ee.toLowerCase()}function l(ee){return"string"!=typeof ee&&(ee=String(ee)),ee}function d(ee){var oe={next:function(){var _e=ee.shift();return{done:void 0===_e,value:_e}}};return h_iterable&&(oe[Symbol.iterator]=function(){return oe}),oe}function u(ee){this.map={},ee instanceof u?ee.forEach(function(oe,_e){this.append(_e,oe)},this):Array.isArray(ee)?ee.forEach(function(oe){this.append(oe[0],oe[1])},this):ee&&Object.getOwnPropertyNames(ee).forEach(function(oe){this.append(oe,ee[oe])},this)}function c(ee){if(ee.bodyUsed)return Promise.reject(new TypeError("Already read"));ee.bodyUsed=!0}function s(ee){return new Promise(function(oe,_e){ee.onload=function(){oe(ee.result)},ee.onerror=function(){_e(ee.error)}})}function m(ee){var oe=new FileReader,_e=s(oe);return oe.readAsArrayBuffer(ee),_e}function T(ee){if(ee.slice)return ee.slice(0);var oe=new Uint8Array(ee.byteLength);return oe.set(new Uint8Array(ee)),oe.buffer}function F(){return this.bodyUsed=!1,this._initBody=function(ee){this.bodyUsed=this.bodyUsed,this._bodyInit=ee,ee?"string"==typeof ee?this._bodyText=ee:h_blob&&Blob.prototype.isPrototypeOf(ee)?this._bodyBlob=ee:h_formData&&FormData.prototype.isPrototypeOf(ee)?this._bodyFormData=ee:h_searchParams&&URLSearchParams.prototype.isPrototypeOf(ee)?this._bodyText=ee.toString():h_arrayBuffer&&h_blob&&function f(ee){return ee&&DataView.prototype.isPrototypeOf(ee)}(ee)?(this._bodyArrayBuffer=T(ee.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(ee)||w(ee))?this._bodyArrayBuffer=T(ee):this._bodyText=ee=Object.prototype.toString.call(ee):this._bodyText="",this.headers.get("content-type")||("string"==typeof ee?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h_searchParams&&URLSearchParams.prototype.isPrototypeOf(ee)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h_blob&&(this.blob=function(){var ee=c(this);if(ee)return ee;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(m)}),this.text=function(){var ee=c(this);if(ee)return ee;if(this._bodyBlob)return function p(ee){var oe=new FileReader,_e=s(oe);return oe.readAsText(ee),_e}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function b(ee){for(var oe=new Uint8Array(ee),_e=new Array(oe.length),O=0;O<oe.length;O++)_e[O]=String.fromCharCode(oe[O]);return _e.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h_formData&&(this.formData=function(){return this.text().then($)}),this.json=function(){return this.text().then(JSON.parse)},this}h_arrayBuffer&&(E=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=ArrayBuffer.isView||function(ee){return ee&&E.indexOf(Object.prototype.toString.call(ee))>-1}),u.prototype.append=function(ee,oe){ee=a(ee),oe=l(oe);var _e=this.map[ee];this.map[ee]=_e?_e+", "+oe:oe},u.prototype.delete=function(ee){delete this.map[a(ee)]},u.prototype.get=function(ee){return ee=a(ee),this.has(ee)?this.map[ee]:null},u.prototype.has=function(ee){return this.map.hasOwnProperty(a(ee))},u.prototype.set=function(ee,oe){this.map[a(ee)]=l(oe)},u.prototype.forEach=function(ee,oe){for(var _e in this.map)this.map.hasOwnProperty(_e)&&ee.call(oe,this.map[_e],_e,this)},u.prototype.keys=function(){var ee=[];return this.forEach(function(oe,_e){ee.push(_e)}),d(ee)},u.prototype.values=function(){var ee=[];return this.forEach(function(oe){ee.push(oe)}),d(ee)},u.prototype.entries=function(){var ee=[];return this.forEach(function(oe,_e){ee.push([_e,oe])}),d(ee)},h_iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function P(ee,oe){if(!(this instanceof P))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var _e=(oe=oe||{}).body;if(ee instanceof P){if(ee.bodyUsed)throw new TypeError("Already read");this.url=ee.url,this.credentials=ee.credentials,oe.headers||(this.headers=new u(ee.headers)),this.method=ee.method,this.mode=ee.mode,this.signal=ee.signal,!_e&&null!=ee._bodyInit&&(_e=ee._bodyInit,ee.bodyUsed=!0)}else this.url=String(ee);if(this.credentials=oe.credentials||this.credentials||"same-origin",(oe.headers||!this.headers)&&(this.headers=new u(oe.headers)),this.method=function A(ee){var oe=ee.toUpperCase();return k.indexOf(oe)>-1?oe:ee}(oe.method||this.method||"GET"),this.mode=oe.mode||this.mode||null,this.signal=oe.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&_e)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(_e),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==oe.cache&&"no-cache"!==oe.cache)){var O=/([?&])_=[^&]*/;O.test(this.url)?this.url=this.url.replace(O,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function $(ee){var oe=new FormData;return ee.trim().split("&").forEach(function(_e){if(_e){var O=_e.split("="),G=O.shift().replace(/\+/g," "),V=O.join("=").replace(/\+/g," ");oe.append(decodeURIComponent(G),decodeURIComponent(V))}}),oe}function j(ee){var oe=new u;return ee.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(O){return 0===O.indexOf("\n")?O.substr(1,O.length):O}).forEach(function(O){var G=O.split(":"),V=G.shift().trim();if(V){var Q=G.join(":").trim();oe.append(V,Q)}}),oe}function N(ee,oe){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');oe||(oe={}),this.type="default",this.status=void 0===oe.status?200:oe.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===oe.statusText?"":""+oe.statusText,this.headers=new u(oe.headers),this.url=oe.url||"",this._initBody(ee)}P.prototype.clone=function(){return new P(this,{body:this._bodyInit})},F.call(P.prototype),F.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},N.error=function(){var ee=new N(null,{status:0,statusText:""});return ee.type="error",ee};var I=[301,302,303,307,308];N.redirect=function(ee,oe){if(-1===I.indexOf(oe))throw new RangeError("Invalid status code");return new N(null,{status:oe,headers:{location:ee}})};var B=_.DOMException;try{new B}catch{(B=function(oe,_e){this.message=oe,this.name=_e;var O=Error(oe);this.stack=O.stack}).prototype=Object.create(Error.prototype),B.prototype.constructor=B}function z(ee,oe){return new Promise(function(_e,O){var G=new P(ee,oe);if(G.signal&&G.signal.aborted)return O(new B("Aborted","AbortError"));var V=new XMLHttpRequest;function Q(){V.abort()}V.onload=function(){var Z={status:V.status,statusText:V.statusText,headers:j(V.getAllResponseHeaders()||"")};Z.url="responseURL"in V?V.responseURL:Z.headers.get("X-Request-URL");var ve="response"in V?V.response:V.responseText;setTimeout(function(){_e(new N(ve,Z))},0)},V.onerror=function(){setTimeout(function(){O(new TypeError("Network request failed"))},0)},V.ontimeout=function(){setTimeout(function(){O(new TypeError("Network request failed"))},0)},V.onabort=function(){setTimeout(function(){O(new B("Aborted","AbortError"))},0)},V.open(G.method,function de(Z){try{return""===Z&&_.location.href?_.location.href:Z}catch{return Z}}(G.url),!0),"include"===G.credentials?V.withCredentials=!0:"omit"===G.credentials&&(V.withCredentials=!1),"responseType"in V&&(h_blob?V.responseType="blob":h_arrayBuffer&&G.headers.get("Content-Type")&&-1!==G.headers.get("Content-Type").indexOf("application/octet-stream")&&(V.responseType="arraybuffer")),!oe||"object"!=typeof oe.headers||oe.headers instanceof u?G.headers.forEach(function(Z,ve){V.setRequestHeader(ve,Z)}):Object.getOwnPropertyNames(oe.headers).forEach(function(Z){V.setRequestHeader(Z,l(oe.headers[Z]))}),G.signal&&(G.signal.addEventListener("abort",Q),V.onreadystatechange=function(){4===V.readyState&&G.signal.removeEventListener("abort",Q)}),V.send(typeof G._bodyInit>"u"?null:G._bodyInit)})}z.polyfill=!0,_.fetch||(_.fetch=z,_.Headers=u,_.Request=P,_.Response=N);var W="function"==typeof atob,ne="function"==typeof btoa,J="function"==typeof Buffer,q="function"==typeof TextDecoder?new TextDecoder:void 0,ae="function"==typeof TextEncoder?new TextEncoder:void 0,Se=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),K=(ee=>{let oe={};return ee.forEach((_e,O)=>oe[_e]=O),oe})(Se),R=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,se=String.fromCharCode.bind(String),ge="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):ee=>new Uint8Array(Array.prototype.slice.call(ee,0)),Le=ee=>ee.replace(/[^A-Za-z0-9\+\/]/g,""),et=ne?ee=>btoa(ee):J?ee=>Buffer.from(ee,"binary").toString("base64"):ee=>{let oe,_e,O,G,V="";const Q=ee.length%3;for(let de=0;de<ee.length;){if((_e=ee.charCodeAt(de++))>255||(O=ee.charCodeAt(de++))>255||(G=ee.charCodeAt(de++))>255)throw new TypeError("invalid character found");oe=_e<<16|O<<8|G,V+=Se[oe>>18&63]+Se[oe>>12&63]+Se[oe>>6&63]+Se[63&oe]}return Q?V.slice(0,Q-3)+"===".substring(Q):V},Oe=J?ee=>Buffer.from(ee).toString("base64"):ee=>{let _e=[];for(let O=0,G=ee.length;O<G;O+=4096)_e.push(se.apply(null,ee.subarray(O,O+4096)));return et(_e.join(""))},$e=ee=>{if(ee.length<2)return(oe=ee.charCodeAt(0))<128?ee:oe<2048?se(192|oe>>>6)+se(128|63&oe):se(224|oe>>>12&15)+se(128|oe>>>6&63)+se(128|63&oe);var oe=65536+1024*(ee.charCodeAt(0)-55296)+(ee.charCodeAt(1)-56320);return se(240|oe>>>18&7)+se(128|oe>>>12&63)+se(128|oe>>>6&63)+se(128|63&oe)},Ve=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Je=J?ee=>Buffer.from(ee,"utf8").toString("base64"):ae?ee=>Oe(ae.encode(ee)):ee=>et((ee=>ee.replace(Ve,$e))(ee)),Ye=(ee,oe=!1)=>oe?(ee=>ee.replace(/=/g,"").replace(/[+\/]/g,oe=>"+"==oe?"-":"_"))(Je(ee)):Je(ee),bt=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,gt=ee=>{switch(ee.length){case 4:var _e=((7&ee.charCodeAt(0))<<18|(63&ee.charCodeAt(1))<<12|(63&ee.charCodeAt(2))<<6|63&ee.charCodeAt(3))-65536;return se(55296+(_e>>>10))+se(56320+(1023&_e));case 3:return se((15&ee.charCodeAt(0))<<12|(63&ee.charCodeAt(1))<<6|63&ee.charCodeAt(2));default:return se((31&ee.charCodeAt(0))<<6|63&ee.charCodeAt(1))}},Ht=W?ee=>atob(Le(ee)):J?ee=>Buffer.from(ee,"base64").toString("binary"):ee=>{if(ee=ee.replace(/\s+/g,""),!R.test(ee))throw new TypeError("malformed base64.");ee+="==".slice(2-(3&ee.length));let oe,O,G,_e="";for(let V=0;V<ee.length;)oe=K[ee.charAt(V++)]<<18|K[ee.charAt(V++)]<<12|(O=K[ee.charAt(V++)])<<6|(G=K[ee.charAt(V++)]),_e+=64===O?se(oe>>16&255):64===G?se(oe>>16&255,oe>>8&255):se(oe>>16&255,oe>>8&255,255&oe);return _e},Ft=J?ee=>ge(Buffer.from(ee,"base64")):ee=>ge(Ht(ee).split("").map(oe=>oe.charCodeAt(0))),an=J?ee=>Buffer.from(ee,"base64").toString("utf8"):q?ee=>q.decode(Ft(ee)):ee=>(ee=>ee.replace(bt,gt))(Ht(ee)),dn=ee=>an((ee=>Le(ee.replace(/[-_]/g,oe=>"-"==oe?"+":"/")))(ee));function qt(ee,oe,_e){const O=C(C({},{method:ee}),oe);if(O.headers=C({},oe.headers),typeof XMLHttpRequest<"u"){const G=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"withCredentials");null!=G&&G.set||(O.credentials="cocos-ignore")}return Object.keys(O.headers).includes("Accept")||(O.headers.Accept="application/json"),Object.keys(O.headers).includes("Content-Type")||(O.headers["Content-Type"]="application/json"),Object.keys(O.headers).forEach(G=>{O.headers[G]||delete O.headers[G]}),_e&&(O.body=_e),O}var Gt=class{constructor(ee,oe,_e){this.serverKey=ee,this.basePath=oe,this.timeoutMs=_e}healthcheck(ee,oe={}){const V=this.buildFullUrl(this.basePath,"/healthcheck",new Map),Q=qt("GET",oe,"");return ee&&(Q.headers.Authorization="Bearer "+ee),Promise.race([fetch(V,Q).then(de=>{if(204==de.status)return de;if(de.status>=200&&de.status<300)return de.json();throw de}),new Promise((de,Z)=>setTimeout(Z,this.timeoutMs,"Request timed out."))])}getAccount(ee,oe={}){const V=this.buildFullUrl(this.basePath,"/v2/account",new Map),Q=qt("GET",oe,"");return ee&&(Q.headers.Authorization="Bearer "+ee),Promise.race([fetch(V,Q).then(de=>{if(204==de.status)return de;if(de.status>=200&&de.status<300)return de.json();throw de}),new Promise((de,Z)=>setTimeout(Z,this.timeoutMs,"Request timed out."))])}updateAccount(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/account",G),de=qt("PUT",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}authenticateApple(ee,oe,_e,O,G,V={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const de=new Map;de.set("create",O),de.set("username",G);let Z="";Z=JSON.stringify(_e||{});const ve=this.buildFullUrl(this.basePath,"/v2/account/authenticate/apple",de),Pe=qt("POST",V,Z);return Pe.headers.Authorization="Basic "+Ye(ee+":"+oe),Promise.race([fetch(ve,Pe).then(ot=>{if(204==ot.status)return ot;if(ot.status>=200&&ot.status<300)return ot.json();throw ot}),new Promise((ot,Tt)=>setTimeout(Tt,this.timeoutMs,"Request timed out."))])}authenticateCustom(ee,oe,_e,O,G,V={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const de=new Map;de.set("create",O),de.set("username",G);let Z="";Z=JSON.stringify(_e||{});const ve=this.buildFullUrl(this.basePath,"/v2/account/authenticate/custom",de),Pe=qt("POST",V,Z);return Pe.headers.Authorization="Basic "+Ye(ee+":"+oe),Promise.race([fetch(ve,Pe).then(ot=>{if(204==ot.status)return ot;if(ot.status>=200&&ot.status<300)return ot.json();throw ot}),new Promise((ot,Tt)=>setTimeout(Tt,this.timeoutMs,"Request timed out."))])}authenticateDevice(ee,oe,_e,O,G,V={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const de=new Map;de.set("create",O),de.set("username",G);let Z="";Z=JSON.stringify(_e||{});const ve=this.buildFullUrl(this.basePath,"/v2/account/authenticate/device",de),Pe=qt("POST",V,Z);return Pe.headers.Authorization="Basic "+Ye(ee+":"+oe),Promise.race([fetch(ve,Pe).then(ot=>{if(204==ot.status)return ot;if(ot.status>=200&&ot.status<300)return ot.json();throw ot}),new Promise((ot,Tt)=>setTimeout(Tt,this.timeoutMs,"Request timed out."))])}authenticateEmail(ee,oe,_e,O,G,V={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const de=new Map;de.set("create",O),de.set("username",G);let Z="";Z=JSON.stringify(_e||{});const ve=this.buildFullUrl(this.basePath,"/v2/account/authenticate/email",de),Pe=qt("POST",V,Z);return Pe.headers.Authorization="Basic "+Ye(ee+":"+oe),Promise.race([fetch(ve,Pe).then(ot=>{if(204==ot.status)return ot;if(ot.status>=200&&ot.status<300)return ot.json();throw ot}),new Promise((ot,Tt)=>setTimeout(Tt,this.timeoutMs,"Request timed out."))])}authenticateFacebook(ee,oe,_e,O,G,V,Q={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Z=new Map;Z.set("create",O),Z.set("username",G),Z.set("sync",V);let ve="";ve=JSON.stringify(_e||{});const Pe=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebook",Z),ot=qt("POST",Q,ve);return ot.headers.Authorization="Basic "+Ye(ee+":"+oe),Promise.race([fetch(Pe,ot).then(Tt=>{if(204==Tt.status)return Tt;if(Tt.status>=200&&Tt.status<300)return Tt.json();throw Tt}),new Promise((Tt,sn)=>setTimeout(sn,this.timeoutMs,"Request timed out."))])}authenticateFacebookInstantGame(ee,oe,_e,O,G,V={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const de=new Map;de.set("create",O),de.set("username",G);let Z="";Z=JSON.stringify(_e||{});const ve=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebookinstantgame",de),Pe=qt("POST",V,Z);return Pe.headers.Authorization="Basic "+Ye(ee+":"+oe),Promise.race([fetch(ve,Pe).then(ot=>{if(204==ot.status)return ot;if(ot.status>=200&&ot.status<300)return ot.json();throw ot}),new Promise((ot,Tt)=>setTimeout(Tt,this.timeoutMs,"Request timed out."))])}authenticateGameCenter(ee,oe,_e,O,G,V={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const de=new Map;de.set("create",O),de.set("username",G);let Z="";Z=JSON.stringify(_e||{});const ve=this.buildFullUrl(this.basePath,"/v2/account/authenticate/gamecenter",de),Pe=qt("POST",V,Z);return Pe.headers.Authorization="Basic "+Ye(ee+":"+oe),Promise.race([fetch(ve,Pe).then(ot=>{if(204==ot.status)return ot;if(ot.status>=200&&ot.status<300)return ot.json();throw ot}),new Promise((ot,Tt)=>setTimeout(Tt,this.timeoutMs,"Request timed out."))])}authenticateGoogle(ee,oe,_e,O,G,V={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const de=new Map;de.set("create",O),de.set("username",G);let Z="";Z=JSON.stringify(_e||{});const ve=this.buildFullUrl(this.basePath,"/v2/account/authenticate/google",de),Pe=qt("POST",V,Z);return Pe.headers.Authorization="Basic "+Ye(ee+":"+oe),Promise.race([fetch(ve,Pe).then(ot=>{if(204==ot.status)return ot;if(ot.status>=200&&ot.status<300)return ot.json();throw ot}),new Promise((ot,Tt)=>setTimeout(Tt,this.timeoutMs,"Request timed out."))])}authenticateSteam(ee,oe,_e,O,G,V,Q={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const Z=new Map;Z.set("create",O),Z.set("username",G),Z.set("sync",V);let ve="";ve=JSON.stringify(_e||{});const Pe=this.buildFullUrl(this.basePath,"/v2/account/authenticate/steam",Z),ot=qt("POST",Q,ve);return ot.headers.Authorization="Basic "+Ye(ee+":"+oe),Promise.race([fetch(Pe,ot).then(Tt=>{if(204==Tt.status)return Tt;if(Tt.status>=200&&Tt.status<300)return Tt.json();throw Tt}),new Promise((Tt,sn)=>setTimeout(sn,this.timeoutMs,"Request timed out."))])}linkApple(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/account/link/apple",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}linkCustom(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/account/link/custom",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}linkDevice(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/account/link/device",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}linkEmail(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/account/link/email",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}linkFacebook(ee,oe,_e,O={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const V=new Map;V.set("sync",_e);let Q="";Q=JSON.stringify(oe||{});const de=this.buildFullUrl(this.basePath,"/v2/account/link/facebook",V),Z=qt("POST",O,Q);return ee&&(Z.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,Z).then(ve=>{if(204==ve.status)return ve;if(ve.status>=200&&ve.status<300)return ve.json();throw ve}),new Promise((ve,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}linkFacebookInstantGame(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/account/link/facebookinstantgame",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}linkGameCenter(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/account/link/gamecenter",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}linkGoogle(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/account/link/google",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}linkSteam(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/account/link/steam",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}sessionRefresh(ee,oe,_e,O={}){if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const V=new Map;let Q="";Q=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,"/v2/account/session/refresh",V),Z=qt("POST",O,Q);return Z.headers.Authorization="Basic "+Ye(ee+":"+oe),Promise.race([fetch(de,Z).then(ve=>{if(204==ve.status)return ve;if(ve.status>=200&&ve.status<300)return ve.json();throw ve}),new Promise((ve,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}unlinkApple(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/account/unlink/apple",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}unlinkCustom(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/account/unlink/custom",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}unlinkDevice(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/account/unlink/device",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}unlinkEmail(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/account/unlink/email",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}unlinkFacebook(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebook",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}unlinkFacebookInstantGame(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebookinstantgame",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}unlinkGameCenter(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/account/unlink/gamecenter",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}unlinkGoogle(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/account/unlink/google",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}unlinkSteam(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/account/unlink/steam",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}listChannelMessages(ee,oe,_e,O,G,V={}){if(null==oe)throw new Error("'channelId' is a required parameter but is null or undefined.");const Q="/v2/channel/{channelId}".replace("{channelId}",encodeURIComponent(String(oe))),de=new Map;de.set("limit",_e),de.set("forward",O),de.set("cursor",G);const ve=this.buildFullUrl(this.basePath,Q,de),Pe=qt("GET",V,"");return ee&&(Pe.headers.Authorization="Bearer "+ee),Promise.race([fetch(ve,Pe).then(ot=>{if(204==ot.status)return ot;if(ot.status>=200&&ot.status<300)return ot.json();throw ot}),new Promise((ot,Tt)=>setTimeout(Tt,this.timeoutMs,"Request timed out."))])}event(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/event",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}deleteFriends(ee,oe,_e,O={}){const V=new Map;V.set("ids",oe),V.set("usernames",_e);const de=this.buildFullUrl(this.basePath,"/v2/friend",V),Z=qt("DELETE",O,"");return ee&&(Z.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,Z).then(ve=>{if(204==ve.status)return ve;if(ve.status>=200&&ve.status<300)return ve.json();throw ve}),new Promise((ve,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}listFriends(ee,oe,_e,O,G={}){const Q=new Map;Q.set("limit",oe),Q.set("state",_e),Q.set("cursor",O);const Z=this.buildFullUrl(this.basePath,"/v2/friend",Q),ve=qt("GET",G,"");return ee&&(ve.headers.Authorization="Bearer "+ee),Promise.race([fetch(Z,ve).then(Pe=>{if(204==Pe.status)return Pe;if(Pe.status>=200&&Pe.status<300)return Pe.json();throw Pe}),new Promise((Pe,ot)=>setTimeout(ot,this.timeoutMs,"Request timed out."))])}addFriends(ee,oe,_e,O={}){const V=new Map;V.set("ids",oe),V.set("usernames",_e);const de=this.buildFullUrl(this.basePath,"/v2/friend",V),Z=qt("POST",O,"");return ee&&(Z.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,Z).then(ve=>{if(204==ve.status)return ve;if(ve.status>=200&&ve.status<300)return ve.json();throw ve}),new Promise((ve,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}blockFriends(ee,oe,_e,O={}){const V=new Map;V.set("ids",oe),V.set("usernames",_e);const de=this.buildFullUrl(this.basePath,"/v2/friend/block",V),Z=qt("POST",O,"");return ee&&(Z.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,Z).then(ve=>{if(204==ve.status)return ve;if(ve.status>=200&&ve.status<300)return ve.json();throw ve}),new Promise((ve,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}importFacebookFriends(ee,oe,_e,O={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const V=new Map;V.set("reset",_e);let Q="";Q=JSON.stringify(oe||{});const de=this.buildFullUrl(this.basePath,"/v2/friend/facebook",V),Z=qt("POST",O,Q);return ee&&(Z.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,Z).then(ve=>{if(204==ve.status)return ve;if(ve.status>=200&&ve.status<300)return ve.json();throw ve}),new Promise((ve,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}importSteamFriends(ee,oe,_e,O={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const V=new Map;V.set("reset",_e);let Q="";Q=JSON.stringify(oe||{});const de=this.buildFullUrl(this.basePath,"/v2/friend/steam",V),Z=qt("POST",O,Q);return ee&&(Z.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,Z).then(ve=>{if(204==ve.status)return ve;if(ve.status>=200&&ve.status<300)return ve.json();throw ve}),new Promise((ve,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}listGroups(ee,oe,_e,O,G,V,Q,de={}){const ve=new Map;ve.set("name",oe),ve.set("cursor",_e),ve.set("limit",O),ve.set("lang_tag",G),ve.set("members",V),ve.set("open",Q);const ot=this.buildFullUrl(this.basePath,"/v2/group",ve),Tt=qt("GET",de,"");return ee&&(Tt.headers.Authorization="Bearer "+ee),Promise.race([fetch(ot,Tt).then(sn=>{if(204==sn.status)return sn;if(sn.status>=200&&sn.status<300)return sn.json();throw sn}),new Promise((sn,_n)=>setTimeout(_n,this.timeoutMs,"Request timed out."))])}createGroup(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/group",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}deleteGroup(ee,oe,_e={}){if(null==oe)throw new Error("'groupId' is a required parameter but is null or undefined.");const O="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(oe))),Q=this.buildFullUrl(this.basePath,O,new Map),de=qt("DELETE",_e,"");return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}updateGroup(ee,oe,_e,O={}){if(null==oe)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const G="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(oe))),V=new Map;let Q="";Q=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,G,V),Z=qt("PUT",O,Q);return ee&&(Z.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,Z).then(ve=>{if(204==ve.status)return ve;if(ve.status>=200&&ve.status<300)return ve.json();throw ve}),new Promise((ve,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}addGroupUsers(ee,oe,_e,O={}){if(null==oe)throw new Error("'groupId' is a required parameter but is null or undefined.");const G="/v2/group/{groupId}/add".replace("{groupId}",encodeURIComponent(String(oe))),V=new Map;V.set("user_ids",_e);const de=this.buildFullUrl(this.basePath,G,V),Z=qt("POST",O,"");return ee&&(Z.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,Z).then(ve=>{if(204==ve.status)return ve;if(ve.status>=200&&ve.status<300)return ve.json();throw ve}),new Promise((ve,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}banGroupUsers(ee,oe,_e,O={}){if(null==oe)throw new Error("'groupId' is a required parameter but is null or undefined.");const G="/v2/group/{groupId}/ban".replace("{groupId}",encodeURIComponent(String(oe))),V=new Map;V.set("user_ids",_e);const de=this.buildFullUrl(this.basePath,G,V),Z=qt("POST",O,"");return ee&&(Z.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,Z).then(ve=>{if(204==ve.status)return ve;if(ve.status>=200&&ve.status<300)return ve.json();throw ve}),new Promise((ve,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}demoteGroupUsers(ee,oe,_e,O={}){if(null==oe)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==_e)throw new Error("'userIds' is a required parameter but is null or undefined.");const G="/v2/group/{groupId}/demote".replace("{groupId}",encodeURIComponent(String(oe))),V=new Map;V.set("user_ids",_e);const de=this.buildFullUrl(this.basePath,G,V),Z=qt("POST",O,"");return ee&&(Z.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,Z).then(ve=>{if(204==ve.status)return ve;if(ve.status>=200&&ve.status<300)return ve.json();throw ve}),new Promise((ve,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}joinGroup(ee,oe,_e={}){if(null==oe)throw new Error("'groupId' is a required parameter but is null or undefined.");const O="/v2/group/{groupId}/join".replace("{groupId}",encodeURIComponent(String(oe))),Q=this.buildFullUrl(this.basePath,O,new Map),de=qt("POST",_e,"");return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}kickGroupUsers(ee,oe,_e,O={}){if(null==oe)throw new Error("'groupId' is a required parameter but is null or undefined.");const G="/v2/group/{groupId}/kick".replace("{groupId}",encodeURIComponent(String(oe))),V=new Map;V.set("user_ids",_e);const de=this.buildFullUrl(this.basePath,G,V),Z=qt("POST",O,"");return ee&&(Z.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,Z).then(ve=>{if(204==ve.status)return ve;if(ve.status>=200&&ve.status<300)return ve.json();throw ve}),new Promise((ve,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}leaveGroup(ee,oe,_e={}){if(null==oe)throw new Error("'groupId' is a required parameter but is null or undefined.");const O="/v2/group/{groupId}/leave".replace("{groupId}",encodeURIComponent(String(oe))),Q=this.buildFullUrl(this.basePath,O,new Map),de=qt("POST",_e,"");return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}promoteGroupUsers(ee,oe,_e,O={}){if(null==oe)throw new Error("'groupId' is a required parameter but is null or undefined.");const G="/v2/group/{groupId}/promote".replace("{groupId}",encodeURIComponent(String(oe))),V=new Map;V.set("user_ids",_e);const de=this.buildFullUrl(this.basePath,G,V),Z=qt("POST",O,"");return ee&&(Z.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,Z).then(ve=>{if(204==ve.status)return ve;if(ve.status>=200&&ve.status<300)return ve.json();throw ve}),new Promise((ve,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}listGroupUsers(ee,oe,_e,O,G,V={}){if(null==oe)throw new Error("'groupId' is a required parameter but is null or undefined.");const Q="/v2/group/{groupId}/user".replace("{groupId}",encodeURIComponent(String(oe))),de=new Map;de.set("limit",_e),de.set("state",O),de.set("cursor",G);const ve=this.buildFullUrl(this.basePath,Q,de),Pe=qt("GET",V,"");return ee&&(Pe.headers.Authorization="Bearer "+ee),Promise.race([fetch(ve,Pe).then(ot=>{if(204==ot.status)return ot;if(ot.status>=200&&ot.status<300)return ot.json();throw ot}),new Promise((ot,Tt)=>setTimeout(Tt,this.timeoutMs,"Request timed out."))])}validatePurchaseApple(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/iap/purchase/apple",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}validatePurchaseGoogle(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/iap/purchase/google",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}validatePurchaseHuawei(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/iap/purchase/huawei",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}deleteLeaderboardRecord(ee,oe,_e={}){if(null==oe)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const O="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(oe))),Q=this.buildFullUrl(this.basePath,O,new Map),de=qt("DELETE",_e,"");return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}listLeaderboardRecords(ee,oe,_e,O,G,V,Q={}){if(null==oe)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const de="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(oe))),Z=new Map;Z.set("owner_ids",_e),Z.set("limit",O),Z.set("cursor",G),Z.set("expiry",V);const Pe=this.buildFullUrl(this.basePath,de,Z),ot=qt("GET",Q,"");return ee&&(ot.headers.Authorization="Bearer "+ee),Promise.race([fetch(Pe,ot).then(Tt=>{if(204==Tt.status)return Tt;if(Tt.status>=200&&Tt.status<300)return Tt.json();throw Tt}),new Promise((Tt,sn)=>setTimeout(sn,this.timeoutMs,"Request timed out."))])}writeLeaderboardRecord(ee,oe,_e,O={}){if(null==oe)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const G="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(oe))),V=new Map;let Q="";Q=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,G,V),Z=qt("POST",O,Q);return ee&&(Z.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,Z).then(ve=>{if(204==ve.status)return ve;if(ve.status>=200&&ve.status<300)return ve.json();throw ve}),new Promise((ve,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}listLeaderboardRecordsAroundOwner(ee,oe,_e,O,G,V={}){if(null==oe)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==_e)throw new Error("'ownerId' is a required parameter but is null or undefined.");const Q="/v2/leaderboard/{leaderboardId}/owner/{ownerId}".replace("{leaderboardId}",encodeURIComponent(String(oe))).replace("{ownerId}",encodeURIComponent(String(_e))),de=new Map;de.set("limit",O),de.set("expiry",G);const ve=this.buildFullUrl(this.basePath,Q,de),Pe=qt("GET",V,"");return ee&&(Pe.headers.Authorization="Bearer "+ee),Promise.race([fetch(ve,Pe).then(ot=>{if(204==ot.status)return ot;if(ot.status>=200&&ot.status<300)return ot.json();throw ot}),new Promise((ot,Tt)=>setTimeout(Tt,this.timeoutMs,"Request timed out."))])}listMatches(ee,oe,_e,O,G,V,Q,de={}){const ve=new Map;ve.set("limit",oe),ve.set("authoritative",_e),ve.set("label",O),ve.set("min_size",G),ve.set("max_size",V),ve.set("query",Q);const ot=this.buildFullUrl(this.basePath,"/v2/match",ve),Tt=qt("GET",de,"");return ee&&(Tt.headers.Authorization="Bearer "+ee),Promise.race([fetch(ot,Tt).then(sn=>{if(204==sn.status)return sn;if(sn.status>=200&&sn.status<300)return sn.json();throw sn}),new Promise((sn,_n)=>setTimeout(_n,this.timeoutMs,"Request timed out."))])}deleteNotifications(ee,oe,_e={}){const G=new Map;G.set("ids",oe);const Q=this.buildFullUrl(this.basePath,"/v2/notification",G),de=qt("DELETE",_e,"");return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}listNotifications(ee,oe,_e,O={}){const V=new Map;V.set("limit",oe),V.set("cacheable_cursor",_e);const de=this.buildFullUrl(this.basePath,"/v2/notification",V),Z=qt("GET",O,"");return ee&&(Z.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,Z).then(ve=>{if(204==ve.status)return ve;if(ve.status>=200&&ve.status<300)return ve.json();throw ve}),new Promise((ve,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}rpcFunc2(ee,oe,_e,O,G={}){if(null==oe)throw new Error("'id' is a required parameter but is null or undefined.");const V="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(oe))),Q=new Map;Q.set("payload",_e),Q.set("http_key",O);const Z=this.buildFullUrl(this.basePath,V,Q),ve=qt("GET",G,"");return ee&&(ve.headers.Authorization="Bearer "+ee),Promise.race([fetch(Z,ve).then(Pe=>{if(204==Pe.status)return Pe;if(Pe.status>=200&&Pe.status<300)return Pe.json();throw Pe}),new Promise((Pe,ot)=>setTimeout(ot,this.timeoutMs,"Request timed out."))])}rpcFunc(ee,oe,_e,O,G={}){if(null==oe)throw new Error("'id' is a required parameter but is null or undefined.");if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const V="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(oe))),Q=new Map;Q.set("http_key",O);let de="";de=JSON.stringify(_e||{});const Z=this.buildFullUrl(this.basePath,V,Q),ve=qt("POST",G,de);return ee&&(ve.headers.Authorization="Bearer "+ee),Promise.race([fetch(Z,ve).then(Pe=>{if(204==Pe.status)return Pe;if(Pe.status>=200&&Pe.status<300)return Pe.json();throw Pe}),new Promise((Pe,ot)=>setTimeout(ot,this.timeoutMs,"Request timed out."))])}sessionLogout(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/session/logout",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}readStorageObjects(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/storage",G),de=qt("POST",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}writeStorageObjects(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/storage",G),de=qt("PUT",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}deleteStorageObjects(ee,oe,_e={}){if(null==oe)throw new Error("'body' is a required parameter but is null or undefined.");const G=new Map;let V="";V=JSON.stringify(oe||{});const Q=this.buildFullUrl(this.basePath,"/v2/storage/delete",G),de=qt("PUT",_e,V);return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}listStorageObjects(ee,oe,_e,O,G,V={}){if(null==oe)throw new Error("'collection' is a required parameter but is null or undefined.");const Q="/v2/storage/{collection}".replace("{collection}",encodeURIComponent(String(oe))),de=new Map;de.set("user_id",_e),de.set("limit",O),de.set("cursor",G);const ve=this.buildFullUrl(this.basePath,Q,de),Pe=qt("GET",V,"");return ee&&(Pe.headers.Authorization="Bearer "+ee),Promise.race([fetch(ve,Pe).then(ot=>{if(204==ot.status)return ot;if(ot.status>=200&&ot.status<300)return ot.json();throw ot}),new Promise((ot,Tt)=>setTimeout(Tt,this.timeoutMs,"Request timed out."))])}listStorageObjects2(ee,oe,_e,O,G,V={}){if(null==oe)throw new Error("'collection' is a required parameter but is null or undefined.");if(null==_e)throw new Error("'userId' is a required parameter but is null or undefined.");const Q="/v2/storage/{collection}/{userId}".replace("{collection}",encodeURIComponent(String(oe))).replace("{userId}",encodeURIComponent(String(_e))),de=new Map;de.set("limit",O),de.set("cursor",G);const ve=this.buildFullUrl(this.basePath,Q,de),Pe=qt("GET",V,"");return ee&&(Pe.headers.Authorization="Bearer "+ee),Promise.race([fetch(ve,Pe).then(ot=>{if(204==ot.status)return ot;if(ot.status>=200&&ot.status<300)return ot.json();throw ot}),new Promise((ot,Tt)=>setTimeout(Tt,this.timeoutMs,"Request timed out."))])}listTournaments(ee,oe,_e,O,G,V,Q,de={}){const ve=new Map;ve.set("category_start",oe),ve.set("category_end",_e),ve.set("start_time",O),ve.set("end_time",G),ve.set("limit",V),ve.set("cursor",Q);const ot=this.buildFullUrl(this.basePath,"/v2/tournament",ve),Tt=qt("GET",de,"");return ee&&(Tt.headers.Authorization="Bearer "+ee),Promise.race([fetch(ot,Tt).then(sn=>{if(204==sn.status)return sn;if(sn.status>=200&&sn.status<300)return sn.json();throw sn}),new Promise((sn,_n)=>setTimeout(_n,this.timeoutMs,"Request timed out."))])}listTournamentRecords(ee,oe,_e,O,G,V,Q={}){if(null==oe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const de="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(oe))),Z=new Map;Z.set("owner_ids",_e),Z.set("limit",O),Z.set("cursor",G),Z.set("expiry",V);const Pe=this.buildFullUrl(this.basePath,de,Z),ot=qt("GET",Q,"");return ee&&(ot.headers.Authorization="Bearer "+ee),Promise.race([fetch(Pe,ot).then(Tt=>{if(204==Tt.status)return Tt;if(Tt.status>=200&&Tt.status<300)return Tt.json();throw Tt}),new Promise((Tt,sn)=>setTimeout(sn,this.timeoutMs,"Request timed out."))])}writeTournamentRecord2(ee,oe,_e,O={}){if(null==oe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const G="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(oe))),V=new Map;let Q="";Q=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,G,V),Z=qt("POST",O,Q);return ee&&(Z.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,Z).then(ve=>{if(204==ve.status)return ve;if(ve.status>=200&&ve.status<300)return ve.json();throw ve}),new Promise((ve,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}writeTournamentRecord(ee,oe,_e,O={}){if(null==oe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==_e)throw new Error("'body' is a required parameter but is null or undefined.");const G="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(oe))),V=new Map;let Q="";Q=JSON.stringify(_e||{});const de=this.buildFullUrl(this.basePath,G,V),Z=qt("PUT",O,Q);return ee&&(Z.headers.Authorization="Bearer "+ee),Promise.race([fetch(de,Z).then(ve=>{if(204==ve.status)return ve;if(ve.status>=200&&ve.status<300)return ve.json();throw ve}),new Promise((ve,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}joinTournament(ee,oe,_e={}){if(null==oe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const O="/v2/tournament/{tournamentId}/join".replace("{tournamentId}",encodeURIComponent(String(oe))),Q=this.buildFullUrl(this.basePath,O,new Map),de=qt("POST",_e,"");return ee&&(de.headers.Authorization="Bearer "+ee),Promise.race([fetch(Q,de).then(Z=>{if(204==Z.status)return Z;if(Z.status>=200&&Z.status<300)return Z.json();throw Z}),new Promise((Z,ve)=>setTimeout(ve,this.timeoutMs,"Request timed out."))])}listTournamentRecordsAroundOwner(ee,oe,_e,O,G,V={}){if(null==oe)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==_e)throw new Error("'ownerId' is a required parameter but is null or undefined.");const Q="/v2/tournament/{tournamentId}/owner/{ownerId}".replace("{tournamentId}",encodeURIComponent(String(oe))).replace("{ownerId}",encodeURIComponent(String(_e))),de=new Map;de.set("limit",O),de.set("expiry",G);const ve=this.buildFullUrl(this.basePath,Q,de),Pe=qt("GET",V,"");return ee&&(Pe.headers.Authorization="Bearer "+ee),Promise.race([fetch(ve,Pe).then(ot=>{if(204==ot.status)return ot;if(ot.status>=200&&ot.status<300)return ot.json();throw ot}),new Promise((ot,Tt)=>setTimeout(Tt,this.timeoutMs,"Request timed out."))])}getUsers(ee,oe,_e,O,G={}){const Q=new Map;Q.set("ids",oe),Q.set("usernames",_e),Q.set("facebook_ids",O);const Z=this.buildFullUrl(this.basePath,"/v2/user",Q),ve=qt("GET",G,"");return ee&&(ve.headers.Authorization="Bearer "+ee),Promise.race([fetch(Z,ve).then(Pe=>{if(204==Pe.status)return Pe;if(Pe.status>=200&&Pe.status<300)return Pe.json();throw Pe}),new Promise((Pe,ot)=>setTimeout(ot,this.timeoutMs,"Request timed out."))])}listUserGroups(ee,oe,_e,O,G,V={}){if(null==oe)throw new Error("'userId' is a required parameter but is null or undefined.");const Q="/v2/user/{userId}/group".replace("{userId}",encodeURIComponent(String(oe))),de=new Map;de.set("limit",_e),de.set("state",O),de.set("cursor",G);const ve=this.buildFullUrl(this.basePath,Q,de),Pe=qt("GET",V,"");return ee&&(Pe.headers.Authorization="Bearer "+ee),Promise.race([fetch(ve,Pe).then(ot=>{if(204==ot.status)return ot;if(ot.status>=200&&ot.status<300)return ot.json();throw ot}),new Promise((ot,Tt)=>setTimeout(Tt,this.timeoutMs,"Request timed out."))])}buildFullUrl(ee,oe,_e){let O=ee+oe+"?";for(let[G,V]of _e)V instanceof Array?O+=V.reduce((Q,de)=>Q+encodeURIComponent(G)+"="+encodeURIComponent(de)+"&",""):null!=V&&(O+=encodeURIComponent(G)+"="+encodeURIComponent(V)+"&");return O}},lt=class{constructor(ee,oe,_e){this.created=_e,this.token=ee,this.refresh_token=oe,this.created_at=Math.floor((new Date).getTime()/1e3),this.update(ee,oe)}isexpired(ee){return this.expires_at-ee<0}isrefreshexpired(ee){return this.refresh_expires_at-ee<0}update(ee,oe){const _e=ee.split(".");if(3!=_e.length)throw"jwt is not valid.";const O=JSON.parse(Ht(_e[1])),G=Math.floor(parseInt(O.exp));if(oe){const V=oe.split(".");if(3!=V.length)throw"refresh jwt is not valid.";const Q=JSON.parse(Ht(V[1])),de=Math.floor(parseInt(Q.exp));this.refresh_expires_at=de,this.refresh_token=oe}this.token=ee,this.expires_at=G,this.username=O.usn,this.user_id=O.uid,this.vars=O.vrs}static restore(ee,oe){return new lt(ee,oe,!1)}},Ut="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_t=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(je=0;je<64;je++)_t[Ut.charCodeAt(je)]=je;var je,Ue=function(ee){var _e,oe=new Uint8Array(ee),O=oe.length,G="";for(_e=0;_e<O;_e+=3)G+=Ut[oe[_e]>>2],G+=Ut[(3&oe[_e])<<4|oe[_e+1]>>4],G+=Ut[(15&oe[_e+1])<<2|oe[_e+2]>>6],G+=Ut[63&oe[_e+2]];return O%3==2?G=G.substring(0,G.length-1)+"=":O%3==1&&(G=G.substring(0,G.length-2)+"=="),G},Me=function(ee){var O,V,Q,de,Z,oe=.75*ee.length,_e=ee.length,G=0;"="===ee[ee.length-1]&&(oe--,"="===ee[ee.length-2]&&oe--);var ve=new ArrayBuffer(oe),Pe=new Uint8Array(ve);for(O=0;O<_e;O+=4)V=_t[ee.charCodeAt(O)],Q=_t[ee.charCodeAt(O+1)],de=_t[ee.charCodeAt(O+2)],Z=_t[ee.charCodeAt(O+3)],Pe[G++]=V<<2|Q>>4,Pe[G++]=(15&Q)<<4|de>>2,Pe[G++]=(3&de)<<6|63&Z;return ve},Ke=class{get onClose(){return this._socket.onclose}set onClose(ee){this._socket.onclose=ee}get onError(){return this._socket.onerror}set onError(ee){this._socket.onerror=ee}get onMessage(){return this._socket.onmessage}set onMessage(ee){ee?this._socket.onmessage=oe=>{const _e=JSON.parse(oe.data);_e.match_data&&_e.match_data.data?_e.match_data.data=new Uint8Array(Me(_e.match_data.data)):_e.party_data&&_e.party_data.data&&(_e.party_data.data=new Uint8Array(Me(_e.party_data.data))),ee(_e)}:ee=null}get onOpen(){return this._socket.onopen}set onOpen(ee){this._socket.onopen=ee}isOpen(){var ee;return(null==(ee=this._socket)?void 0:ee.readyState)==WebSocket.OPEN}connect(ee,oe,_e,O,G){const V=`${ee}${oe}:${_e}/ws?lang=en&status=${encodeURIComponent(O.toString())}&token=${encodeURIComponent(G)}`;this._socket=new WebSocket(V)}close(){this._socket.close(),this._socket=void 0}send(ee){if(ee.match_data_send){ee.match_data_send.op_code=ee.match_data_send.op_code.toString();let oe=ee.match_data_send.data;oe&&oe instanceof Uint8Array?ee.match_data_send.data=Ue(oe.buffer):oe&&(ee.match_data_send.data=et(oe))}else if(ee.party_data_send){ee.party_data_send.op_code=ee.party_data_send.op_code.toString();let oe=ee.party_data_send.data;oe&&oe instanceof Uint8Array?ee.party_data_send.data=Ue(oe.buffer):oe&&(ee.party_data_send.data=et(oe))}this._socket.send(JSON.stringify(ee))}},wt=class{constructor(ee,oe,_e=!1,O=!1,G=new Ke,V=wt.DefaultSendTimeoutMs){this.host=ee,this.port=oe,this.useSSL=_e,this.verbose=O,this.adapter=G,this.sendTimeoutMs=V,this.cIds={},this.nextCid=1,this._heartbeatTimeoutMs=wt.DefaultHeartbeatTimeoutMs}generatecid(){const ee=this.nextCid.toString();return++this.nextCid,ee}connect(ee,oe=!1,_e=wt.DefaultConnectTimeoutMs){return this.adapter.isOpen()?Promise.resolve(ee):(this.adapter.connect(this.useSSL?"wss://":"ws://",this.host,this.port,oe,ee.token),this.adapter.onClose=G=>{this.ondisconnect(G)},this.adapter.onError=G=>{this.onerror(G)},this.adapter.onMessage=G=>{if(this.verbose&&window&&window.console&&console.log("Response: %o",JSON.stringify(G)),G.cid){const V=this.cIds[G.cid];if(!V)return void(this.verbose&&window&&window.console&&console.error("No promise executor for message: %o",G));delete this.cIds[G.cid],G.error?V.reject(G.error):V.resolve(G)}else G.notifications?G.notifications.notifications.forEach(V=>{V.content=V.content?JSON.parse(V.content):void 0,this.onnotification(V)}):G.match_data?(G.match_data.op_code=parseInt(G.match_data.op_code),this.onmatchdata(G.match_data)):G.match_presence_event?this.onmatchpresence(G.match_presence_event):G.matchmaker_ticket?this.onmatchmakerticket(G.matchmaker_ticket):G.matchmaker_matched?this.onmatchmakermatched(G.matchmaker_matched):G.status_presence_event?this.onstatuspresence(G.status_presence_event):G.stream_presence_event?this.onstreampresence(G.stream_presence_event):G.stream_data?this.onstreamdata(G.stream_data):G.channel_message?(G.channel_message.content=JSON.parse(G.channel_message.content),this.onchannelmessage(G.channel_message)):G.channel_presence_event?this.onchannelpresence(G.channel_presence_event):G.party_data?(G.party_data.op_code=parseInt(G.party_data.op_code),this.onpartydata(G.party_data)):G.party_close?this.onpartyclose(G.party_close):G.party_join_request?this.onpartyjoinrequest(G.party_join_request):G.party_leader?this.onpartyleader(G.party_leader):G.party_matchmaker_ticket?this.onpartymatchmakerticket(G.party_matchmaker_ticket):G.party_presence_event?this.onpartypresence(G.party_presence_event):G.party?this.onparty(G.party):this.verbose&&window&&window.console&&console.log("Unrecognized message received: %o",G)},new Promise((G,V)=>{this.adapter.onOpen=Q=>{this.verbose&&window&&window.console&&console.log(Q),this.pingPong(),G(ee)},this.adapter.onError=Q=>{V(Q),this.adapter.close()},setTimeout(()=>{V("The socket timed out when trying to connect.")},_e)}))}disconnect(ee=!0){this.adapter.isOpen()&&this.adapter.close(),ee&&this.ondisconnect({})}setHeartbeatTimeoutMs(ee){this._heartbeatTimeoutMs=ee}getHeartbeatTimeoutMs(){return this._heartbeatTimeoutMs}ondisconnect(ee){this.verbose&&window&&window.console&&console.log(ee)}onerror(ee){this.verbose&&window&&window.console&&console.log(ee)}onchannelmessage(ee){this.verbose&&window&&window.console&&console.log(ee)}onchannelpresence(ee){this.verbose&&window&&window.console&&console.log(ee)}onnotification(ee){this.verbose&&window&&window.console&&console.log(ee)}onmatchdata(ee){this.verbose&&window&&window.console&&console.log(ee)}onmatchpresence(ee){this.verbose&&window&&window.console&&console.log(ee)}onmatchmakerticket(ee){this.verbose&&window&&window.console&&console.log(ee)}onmatchmakermatched(ee){this.verbose&&window&&window.console&&console.log(ee)}onparty(ee){this.verbose&&window&&window.console&&console.log(ee)}onpartyclose(ee){this.verbose&&window&&window.console&&console.log("Party closed: "+ee)}onpartyjoinrequest(ee){this.verbose&&window&&window.console&&console.log(ee)}onpartydata(ee){this.verbose&&window&&window.console&&console.log(ee)}onpartyleader(ee){this.verbose&&window&&window.console&&console.log(ee)}onpartymatchmakerticket(ee){this.verbose&&window&&window.console&&console.log(ee)}onpartypresence(ee){this.verbose&&window&&window.console&&console.log(ee)}onstatuspresence(ee){this.verbose&&window&&window.console&&console.log(ee)}onstreampresence(ee){this.verbose&&window&&window.console&&console.log(ee)}onstreamdata(ee){this.verbose&&window&&window.console&&console.log(ee)}onheartbeattimeout(){this.verbose&&window&&window.console&&console.log("Heartbeat timeout.")}send(ee,oe=wt.DefaultSendTimeoutMs){const _e=ee;return new Promise((O,G)=>{if(this.adapter.isOpen())if(_e.match_data_send)this.adapter.send(_e),O();else if(_e.party_data_send)this.adapter.send(_e),O();else{_e.channel_message_send?_e.channel_message_send.content=JSON.stringify(_e.channel_message_send.content):_e.channel_message_update&&(_e.channel_message_update.content=JSON.stringify(_e.channel_message_update.content));const V=this.generatecid();this.cIds[V]={resolve:O,reject:G},setTimeout(()=>{G("The socket timed out while waiting for a response.")},oe),_e.cid=V,this.adapter.send(_e)}else G("Socket connection has not been established yet.");if(this.verbose&&window&&window.console){const V=C({},_e);V.match_data_send&&V.match_data_send.data?V.match_data_send.data=dn(V.match_data_send.data):V.party_data_send&&V.party_data_send.data&&(V.party_data_send.data=dn(V.party_data_send.data)),console.log("Sent message: %o",JSON.stringify(V))}})}acceptPartyMember(ee,oe){return this.send({party_accept:{party_id:ee,presence:oe}})}addMatchmaker(ee,oe,_e,O,G){return y(this,null,function*(){return(yield this.send({matchmaker_add:{min_count:oe,max_count:_e,query:ee,string_properties:O,numeric_properties:G}})).matchmaker_ticket})}addMatchmakerParty(ee,oe,_e,O,G,V){return y(this,null,function*(){return(yield this.send({party_matchmaker_add:{party_id:ee,min_count:_e,max_count:O,query:oe,string_properties:G,numeric_properties:V}})).party_matchmaker_ticket})}closeParty(ee){return y(this,null,function*(){return yield this.send({party_close:{party_id:ee}})})}createMatch(ee){return y(this,null,function*(){return(yield this.send({match_create:{name:ee}})).match})}createParty(ee,oe){return y(this,null,function*(){return(yield this.send({party_create:{open:ee,max_size:oe}})).party})}followUsers(ee){return y(this,null,function*(){return(yield this.send({status_follow:{user_ids:ee}})).status})}joinChat(ee,oe,_e,O){return y(this,null,function*(){return(yield this.send({channel_join:{target:ee,type:oe,persistence:_e,hidden:O}})).channel})}joinMatch(ee,oe,_e){return y(this,null,function*(){const O={match_join:{metadata:_e}};return oe?O.match_join.token=oe:O.match_join.match_id=ee,(yield this.send(O)).match})}joinParty(ee){return y(this,null,function*(){return yield this.send({party_join:{party_id:ee}})})}leaveChat(ee){return this.send({channel_leave:{channel_id:ee}})}leaveMatch(ee){return this.send({match_leave:{match_id:ee}})}leaveParty(ee){return this.send({party_leave:{party_id:ee}})}listPartyJoinRequests(ee){return y(this,null,function*(){return(yield this.send({party_join_request_list:{party_id:ee}})).party_join_request})}promotePartyMember(ee,oe){return y(this,null,function*(){return(yield this.send({party_promote:{party_id:ee,presence:oe}})).party_leader})}removeChatMessage(ee,oe){return y(this,null,function*(){return(yield this.send({channel_message_remove:{channel_id:ee,message_id:oe}})).channel_message_ack})}removeMatchmaker(ee){return this.send({matchmaker_remove:{ticket:ee}})}removeMatchmakerParty(ee,oe){return this.send({party_matchmaker_remove:{party_id:ee,ticket:oe}})}removePartyMember(ee,oe){return y(this,null,function*(){return this.send({party_remove:{party_id:ee,presence:oe}})})}rpc(ee,oe,_e){return y(this,null,function*(){return(yield this.send({rpc:{id:ee,payload:oe,http_key:_e}})).rpc})}sendMatchState(ee,oe,_e,O,G){return y(this,null,function*(){return this.send({match_data_send:{match_id:ee,op_code:oe,data:_e,presences:null!=O?O:[],reliable:G}})})}sendPartyData(ee,oe,_e){return this.send({party_data_send:{party_id:ee,op_code:oe,data:_e}})}unfollowUsers(ee){return this.send({status_unfollow:{user_ids:ee}})}updateChatMessage(ee,oe,_e){return y(this,null,function*(){return(yield this.send({channel_message_update:{channel_id:ee,message_id:oe,content:_e}})).channel_message_ack})}updateStatus(ee){return this.send({status_update:{status:ee}})}writeChatMessage(ee,oe){return y(this,null,function*(){return(yield this.send({channel_message_send:{channel_id:ee,content:oe}})).channel_message_ack})}pingPong(){return y(this,null,function*(){if(this.adapter.isOpen()){try{yield this.send({ping:{}},this._heartbeatTimeoutMs)}catch{return void(this.adapter.isOpen()&&(window&&window.console&&console.error("Server unreachable from heartbeat."),this.onheartbeattimeout(),this.adapter.close()))}setTimeout(()=>this.pingPong(),this._heartbeatTimeoutMs)}})}},Ct=wt;Ct.DefaultHeartbeatTimeoutMs=1e4,Ct.DefaultSendTimeoutMs=1e4,Ct.DefaultConnectTimeoutMs=3e4;var Et=class{constructor(ee="defaultkey",oe="127.0.0.1",_e="7350",O=!1,G=7e3,V=!0){this.serverkey=ee,this.host=oe,this.port=_e,this.useSSL=O,this.timeout=G,this.autoRefreshSession=V,this.expiredTimespanMs=3e5,this.apiClient=new Gt(ee,`${O?"https://":"http://"}${oe}:${_e}`,G)}addGroupUsers(ee,oe,_e){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.addGroupUsers(ee.token,oe,_e).then(O=>void 0!==O)})}addFriends(ee,oe,_e){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.addFriends(ee.token,oe,_e).then(O=>void 0!==O)})}authenticateApple(ee,oe,_e){return y(this,arguments,function*(O,G,V,Q={},de={}){return this.apiClient.authenticateApple(this.serverkey,"",{token:O,vars:Q},G,V,de).then(ve=>new lt(ve.token||"",ve.refresh_token||"",ve.created||!1))})}authenticateCustom(ee,oe,_e,O={},G={}){return this.apiClient.authenticateCustom(this.serverkey,"",{id:ee,vars:O},oe,_e,G).then(Q=>new lt(Q.token||"",Q.refresh_token||"",Q.created||!1))}authenticateDevice(ee,oe,_e,O){return this.apiClient.authenticateDevice(this.serverkey,"",{id:ee,vars:O},oe,_e).then(V=>new lt(V.token||"",V.refresh_token||"",V.created||!1))}authenticateEmail(ee,oe,_e,O,G){return this.apiClient.authenticateEmail(this.serverkey,"",{email:ee,password:oe,vars:G},_e,O).then(Q=>new lt(Q.token||"",Q.refresh_token||"",Q.created||!1))}authenticateFacebookInstantGame(ee,oe,_e,O,G={}){const V={signed_player_info:ee,vars:O};return this.apiClient.authenticateFacebookInstantGame(this.serverkey,"",{signed_player_info:V.signed_player_info,vars:V.vars},oe,_e,G).then(Q=>new lt(Q.token||"",Q.refresh_token||"",Q.created||!1))}authenticateFacebook(ee,oe,_e,O,G,V={}){return this.apiClient.authenticateFacebook(this.serverkey,"",{token:ee,vars:G},oe,_e,O,V).then(de=>new lt(de.token||"",de.refresh_token||"",de.created||!1))}authenticateGoogle(ee,oe,_e,O){return y(this,arguments,function*(G,V,Q,de,Z={}){const ve={token:G,vars:de},Pe=yield this.apiClient.authenticateGoogle(this.serverkey,"",ve,V,Q,Z);return new lt(Pe.token||"",Pe.refresh_token||"",Pe.created||!1)})}authenticateGameCenter(ee,oe,_e,O,G,V,Q,de,Z){return y(this,arguments,function*(ve,Pe,ot,Tt,sn,_n,ln,kn,Kn,Wn={}){const Gr={bundle_id:ve,player_id:Pe,public_key_url:ot,salt:Tt,signature:sn,timestamp_seconds:_n,vars:Kn},Cr=yield this.apiClient.authenticateGameCenter(this.serverkey,"",Gr,kn,ln,Wn);return new lt(Cr.token||"",Cr.refresh_token||"",Cr.created||!1)})}authenticateSteam(ee,oe,_e,O,G){return y(this,null,function*(){return this.apiClient.authenticateSteam(this.serverkey,"",{token:ee,vars:G,sync:O},oe,_e).then(Q=>new lt(Q.token||"",Q.refresh_token||"",Q.created||!1))})}banGroupUsers(ee,oe,_e){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.banGroupUsers(ee.token,oe,_e).then(O=>void 0!==O)})}blockFriends(ee,oe,_e){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.blockFriends(ee.token,oe,_e).then(O=>Promise.resolve(null!=O))})}createGroup(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.createGroup(ee.token,oe).then(_e=>Promise.resolve({avatar_url:_e.avatar_url,create_time:_e.create_time,creator_id:_e.creator_id,description:_e.description,edge_count:_e.edge_count?Number(_e.edge_count):0,id:_e.id,lang_tag:_e.lang_tag,max_count:_e.max_count?Number(_e.max_count):0,metadata:_e.metadata?JSON.parse(_e.metadata):void 0,name:_e.name,open:_e.open,update_time:_e.update_time}))})}createSocket(ee=!1,oe=!1,_e=new Ke,O=Ct.DefaultSendTimeoutMs){return new Ct(this.host,this.port,ee,oe,_e,O)}deleteFriends(ee,oe,_e){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.deleteFriends(ee.token,oe,_e).then(O=>void 0!==O)})}deleteGroup(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.deleteGroup(ee.token,oe).then(_e=>void 0!==_e)})}deleteNotifications(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.deleteNotifications(ee.token,oe).then(_e=>Promise.resolve(null!=_e))})}deleteStorageObjects(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.deleteStorageObjects(ee.token,oe).then(_e=>Promise.resolve(null!=_e))})}demoteGroupUsers(ee,oe,_e){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.demoteGroupUsers(ee.token,oe,_e).then(O=>Promise.resolve(null!=O))})}emitEvent(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.event(ee.token,oe).then(_e=>Promise.resolve(null!=_e))})}getAccount(ee){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.getAccount(ee.token)})}importFacebookFriends(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.importFacebookFriends(ee.token,oe).then(_e=>void 0!==_e)})}importSteamFriends(ee,oe,_e){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.importSteamFriends(ee.token,oe,_e).then(O=>void 0!==O)})}getUsers(ee,oe,_e,O){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.getUsers(ee.token,oe,_e,O).then(G=>{var V={users:[]};return null==G.users||G.users.forEach(Q=>{V.users.push({avatar_url:Q.avatar_url,create_time:Q.create_time,display_name:Q.display_name,edge_count:Q.edge_count?Number(Q.edge_count):0,facebook_id:Q.facebook_id,gamecenter_id:Q.gamecenter_id,google_id:Q.google_id,id:Q.id,lang_tag:Q.lang_tag,location:Q.location,online:Q.online,steam_id:Q.steam_id,timezone:Q.timezone,update_time:Q.update_time,username:Q.username,metadata:Q.metadata?JSON.parse(Q.metadata):void 0})}),Promise.resolve(V)})})}joinGroup(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.joinGroup(ee.token,oe,{}).then(_e=>void 0!==_e)})}joinTournament(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.joinTournament(ee.token,oe,{}).then(_e=>void 0!==_e)})}kickGroupUsers(ee,oe,_e){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.kickGroupUsers(ee.token,oe,_e).then(O=>Promise.resolve(null!=O))})}leaveGroup(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.leaveGroup(ee.token,oe,{}).then(_e=>void 0!==_e)})}listChannelMessages(ee,oe,_e,O,G){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listChannelMessages(ee.token,oe,_e,O,G).then(V=>{var Q={messages:[],next_cursor:V.next_cursor,prev_cursor:V.prev_cursor,cacheable_cursor:V.cacheable_cursor};return null==V.messages||V.messages.forEach(de=>{Q.messages.push({channel_id:de.channel_id,code:de.code?Number(de.code):0,create_time:de.create_time,message_id:de.message_id,persistent:de.persistent,sender_id:de.sender_id,update_time:de.update_time,username:de.username,content:de.content?JSON.parse(de.content):void 0,group_id:de.group_id,room_name:de.room_name,user_id_one:de.user_id_one,user_id_two:de.user_id_two})}),Promise.resolve(Q)})})}listGroupUsers(ee,oe,_e,O,G){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listGroupUsers(ee.token,oe,O,_e,G).then(V=>{var Q={group_users:[],cursor:V.cursor};return null==V.group_users||V.group_users.forEach(de=>{Q.group_users.push({user:{avatar_url:de.user.avatar_url,create_time:de.user.create_time,display_name:de.user.display_name,edge_count:de.user.edge_count?Number(de.user.edge_count):0,facebook_id:de.user.facebook_id,gamecenter_id:de.user.gamecenter_id,google_id:de.user.google_id,id:de.user.id,lang_tag:de.user.lang_tag,location:de.user.location,online:de.user.online,steam_id:de.user.steam_id,timezone:de.user.timezone,update_time:de.user.update_time,username:de.user.username,metadata:de.user.metadata?JSON.parse(de.user.metadata):void 0},state:de.state?Number(de.state):0})}),Promise.resolve(Q)})})}listUserGroups(ee,oe,_e,O,G){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listUserGroups(ee.token,oe,_e,O,G).then(V=>{var Q={user_groups:[],cursor:V.cursor};return null==V.user_groups||V.user_groups.forEach(de=>{Q.user_groups.push({group:{avatar_url:de.group.avatar_url,create_time:de.group.create_time,creator_id:de.group.creator_id,description:de.group.description,edge_count:de.group.edge_count?Number(de.group.edge_count):0,id:de.group.id,lang_tag:de.group.lang_tag,max_count:de.group.max_count,metadata:de.group.metadata?JSON.parse(de.group.metadata):void 0,name:de.group.name,open:de.group.open,update_time:de.group.update_time},state:de.state?Number(de.state):0})}),Promise.resolve(Q)})})}listGroups(ee,oe,_e,O){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listGroups(ee.token,oe,_e,O).then(G=>{var V={groups:[]};return null==G.groups||(V.cursor=G.cursor,G.groups.forEach(Q=>{V.groups.push({avatar_url:Q.avatar_url,create_time:Q.create_time,creator_id:Q.creator_id,description:Q.description,edge_count:Q.edge_count?Number(Q.edge_count):0,id:Q.id,lang_tag:Q.lang_tag,max_count:Q.max_count,metadata:Q.metadata?JSON.parse(Q.metadata):void 0,name:Q.name,open:Q.open,update_time:Q.update_time})})),Promise.resolve(V)})})}linkApple(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkApple(ee.token,oe).then(_e=>void 0!==_e)})}linkCustom(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkCustom(ee.token,oe).then(_e=>void 0!==_e)})}linkDevice(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkDevice(ee.token,oe).then(_e=>void 0!==_e)})}linkEmail(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkEmail(ee.token,oe).then(_e=>void 0!==_e)})}linkFacebook(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkFacebook(ee.token,oe).then(_e=>void 0!==_e)})}linkFacebookInstantGame(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkFacebookInstantGame(ee.token,oe).then(_e=>void 0!==_e)})}linkGoogle(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkGoogle(ee.token,oe).then(_e=>void 0!==_e)})}linkGameCenter(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkGameCenter(ee.token,oe).then(_e=>void 0!==_e)})}linkSteam(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.linkSteam(ee.token,oe).then(_e=>void 0!==_e)})}listFriends(ee,oe,_e,O){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listFriends(ee.token,_e,oe,O).then(G=>{var V={friends:[],cursor:G.cursor};return null==G.friends||G.friends.forEach(Q=>{V.friends.push({user:{avatar_url:Q.user.avatar_url,create_time:Q.user.create_time,display_name:Q.user.display_name,edge_count:Q.user.edge_count?Number(Q.user.edge_count):0,facebook_id:Q.user.facebook_id,gamecenter_id:Q.user.gamecenter_id,google_id:Q.user.google_id,id:Q.user.id,lang_tag:Q.user.lang_tag,location:Q.user.location,online:Q.user.online,steam_id:Q.user.steam_id,timezone:Q.user.timezone,update_time:Q.user.update_time,username:Q.user.username,metadata:Q.user.metadata?JSON.parse(Q.user.metadata):void 0,facebook_instant_game_id:Q.user.facebook_instant_game_id},state:Q.state})}),Promise.resolve(V)})})}listLeaderboardRecords(ee,oe,_e,O,G,V){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listLeaderboardRecords(ee.token,oe,_e,O,G,V).then(Q=>{var de={next_cursor:Q.next_cursor,prev_cursor:Q.prev_cursor,owner_records:[],records:[]};return null!=Q.owner_records&&Q.owner_records.forEach(Z=>{de.owner_records.push({expiry_time:Z.expiry_time,leaderboard_id:Z.leaderboard_id,metadata:Z.metadata?JSON.parse(Z.metadata):void 0,num_score:Z.num_score?Number(Z.num_score):0,owner_id:Z.owner_id,rank:Z.rank?Number(Z.rank):0,score:Z.score?Number(Z.score):0,subscore:Z.subscore?Number(Z.subscore):0,update_time:Z.update_time,username:Z.username,max_num_score:Z.max_num_score?Number(Z.max_num_score):0})}),null!=Q.records&&Q.records.forEach(Z=>{de.records.push({expiry_time:Z.expiry_time,leaderboard_id:Z.leaderboard_id,metadata:Z.metadata?JSON.parse(Z.metadata):void 0,num_score:Z.num_score?Number(Z.num_score):0,owner_id:Z.owner_id,rank:Z.rank?Number(Z.rank):0,score:Z.score?Number(Z.score):0,subscore:Z.subscore?Number(Z.subscore):0,update_time:Z.update_time,username:Z.username,max_num_score:Z.max_num_score?Number(Z.max_num_score):0})}),Promise.resolve(de)})})}listLeaderboardRecordsAroundOwner(ee,oe,_e,O,G){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listLeaderboardRecordsAroundOwner(ee.token,oe,_e,O,G).then(V=>{var Q={next_cursor:V.next_cursor,prev_cursor:V.prev_cursor,owner_records:[],records:[]};return null!=V.owner_records&&V.owner_records.forEach(de=>{Q.owner_records.push({expiry_time:de.expiry_time,leaderboard_id:de.leaderboard_id,metadata:de.metadata?JSON.parse(de.metadata):void 0,num_score:de.num_score?Number(de.num_score):0,owner_id:de.owner_id,rank:de.rank?Number(de.rank):0,score:de.score?Number(de.score):0,subscore:de.subscore?Number(de.subscore):0,update_time:de.update_time,username:de.username,max_num_score:de.max_num_score?Number(de.max_num_score):0})}),null!=V.records&&V.records.forEach(de=>{Q.records.push({expiry_time:de.expiry_time,leaderboard_id:de.leaderboard_id,metadata:de.metadata?JSON.parse(de.metadata):void 0,num_score:de.num_score?Number(de.num_score):0,owner_id:de.owner_id,rank:de.rank?Number(de.rank):0,score:de.score?Number(de.score):0,subscore:de.subscore?Number(de.subscore):0,update_time:de.update_time,username:de.username,max_num_score:de.max_num_score?Number(de.max_num_score):0})}),Promise.resolve(Q)})})}listMatches(ee,oe,_e,O,G,V,Q){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listMatches(ee.token,oe,_e,O,G,V,Q)})}listNotifications(ee,oe,_e){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listNotifications(ee.token,oe,_e).then(O=>{var G={cacheable_cursor:O.cacheable_cursor,notifications:[]};return null==O.notifications||O.notifications.forEach(V=>{G.notifications.push({code:V.code?Number(V.code):0,create_time:V.create_time,id:V.id,persistent:V.persistent,sender_id:V.sender_id,subject:V.subject,content:V.content?JSON.parse(V.content):void 0})}),Promise.resolve(G)})})}listStorageObjects(ee,oe,_e,O,G){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listStorageObjects(ee.token,oe,_e,O,G).then(V=>{var Q={objects:[],cursor:V.cursor};return null==V.objects||V.objects.forEach(de=>{Q.objects.push({collection:de.collection,key:de.key,permission_read:de.permission_read?Number(de.permission_read):0,permission_write:de.permission_write?Number(de.permission_write):0,value:de.value?JSON.parse(de.value):void 0,version:de.version,user_id:de.user_id,create_time:de.create_time,update_time:de.update_time})}),Promise.resolve(Q)})})}listTournaments(ee,oe,_e,O,G,V,Q){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listTournaments(ee.token,oe,_e,O,G,V,Q).then(de=>{var Z={cursor:de.cursor,tournaments:[]};return null!=de.tournaments&&de.tournaments.forEach(ve=>{Z.tournaments.push({id:ve.id,title:ve.title,description:ve.description,duration:ve.duration?Number(ve.duration):0,category:ve.category?Number(ve.category):0,sort_order:ve.sort_order?Number(ve.sort_order):0,size:ve.size?Number(ve.size):0,max_size:ve.max_size?Number(ve.max_size):0,max_num_score:ve.max_num_score?Number(ve.max_num_score):0,can_enter:ve.can_enter,end_active:ve.end_active?Number(ve.end_active):0,next_reset:ve.next_reset?Number(ve.next_reset):0,metadata:ve.metadata?JSON.parse(ve.metadata):void 0,create_time:ve.create_time,start_time:ve.start_time,end_time:ve.end_time,start_active:ve.start_active})}),Promise.resolve(Z)})})}listTournamentRecords(ee,oe,_e,O,G,V){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listTournamentRecords(ee.token,oe,_e,O,G,V).then(Q=>{var de={next_cursor:Q.next_cursor,prev_cursor:Q.prev_cursor,owner_records:[],records:[]};return null!=Q.owner_records&&Q.owner_records.forEach(Z=>{de.owner_records.push({expiry_time:Z.expiry_time,leaderboard_id:Z.leaderboard_id,metadata:Z.metadata?JSON.parse(Z.metadata):void 0,num_score:Z.num_score?Number(Z.num_score):0,owner_id:Z.owner_id,rank:Z.rank?Number(Z.rank):0,score:Z.score?Number(Z.score):0,subscore:Z.subscore?Number(Z.subscore):0,update_time:Z.update_time,username:Z.username,max_num_score:Z.max_num_score?Number(Z.max_num_score):0})}),null!=Q.records&&Q.records.forEach(Z=>{de.records.push({expiry_time:Z.expiry_time,leaderboard_id:Z.leaderboard_id,metadata:Z.metadata?JSON.parse(Z.metadata):void 0,num_score:Z.num_score?Number(Z.num_score):0,owner_id:Z.owner_id,rank:Z.rank?Number(Z.rank):0,score:Z.score?Number(Z.score):0,subscore:Z.subscore?Number(Z.subscore):0,update_time:Z.update_time,username:Z.username,max_num_score:Z.max_num_score?Number(Z.max_num_score):0})}),Promise.resolve(de)})})}listTournamentRecordsAroundOwner(ee,oe,_e,O,G){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.listTournamentRecordsAroundOwner(ee.token,oe,_e,O,G).then(V=>{var Q={next_cursor:V.next_cursor,prev_cursor:V.prev_cursor,owner_records:[],records:[]};return null!=V.owner_records&&V.owner_records.forEach(de=>{Q.owner_records.push({expiry_time:de.expiry_time,leaderboard_id:de.leaderboard_id,metadata:de.metadata?JSON.parse(de.metadata):void 0,num_score:de.num_score?Number(de.num_score):0,owner_id:de.owner_id,rank:de.rank?Number(de.rank):0,score:de.score?Number(de.score):0,subscore:de.subscore?Number(de.subscore):0,update_time:de.update_time,username:de.username,max_num_score:de.max_num_score?Number(de.max_num_score):0})}),null!=V.records&&V.records.forEach(de=>{Q.records.push({expiry_time:de.expiry_time,leaderboard_id:de.leaderboard_id,metadata:de.metadata?JSON.parse(de.metadata):void 0,num_score:de.num_score?Number(de.num_score):0,owner_id:de.owner_id,rank:de.rank?Number(de.rank):0,score:de.score?Number(de.score):0,subscore:de.subscore?Number(de.subscore):0,update_time:de.update_time,username:de.username,max_num_score:de.max_num_score?Number(de.max_num_score):0})}),Promise.resolve(Q)})})}promoteGroupUsers(ee,oe,_e){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.promoteGroupUsers(ee.token,oe,_e)})}readStorageObjects(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.readStorageObjects(ee.token,oe).then(_e=>{var O={objects:[]};return null==_e.objects||_e.objects.forEach(G=>{O.objects.push({collection:G.collection,key:G.key,permission_read:G.permission_read?Number(G.permission_read):0,permission_write:G.permission_write?Number(G.permission_write):0,value:G.value?JSON.parse(G.value):void 0,version:G.version,user_id:G.user_id,create_time:G.create_time,update_time:G.update_time})}),Promise.resolve(O)})})}rpc(ee,oe,_e){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.rpcFunc(ee.token,oe,JSON.stringify(_e)).then(O=>Promise.resolve({id:O.id,payload:O.payload?JSON.parse(O.payload):void 0}))})}rpcHttpKey(ee,oe,_e){return y(this,null,function*(){return this.apiClient.rpcFunc2("",oe,_e&&JSON.stringify(_e)||"",ee).then(O=>Promise.resolve({id:O.id,payload:O.payload?JSON.parse(O.payload):void 0})).catch(O=>{throw O})})}sessionLogout(ee,oe,_e){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.sessionLogout(ee.token,{refresh_token:_e,token:oe}).then(O=>void 0!==O)})}sessionRefresh(ee){return y(this,arguments,function*(oe,_e={}){if(!oe)return console.error("Cannot refresh a null session."),oe;oe.created&&oe.expires_at-oe.created_at<70&&console.warn("Session lifetime too short, please set '--session.token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session"),oe.created&&oe.refresh_expires_at-oe.created_at<3700&&console.warn("Session refresh lifetime too short, please set '--session.refresh_token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session");const O=yield this.apiClient.sessionRefresh(this.serverkey,"",{token:oe.refresh_token,vars:_e});return oe.update(O.token,O.refresh_token),oe})}unlinkApple(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkApple(ee.token,oe).then(_e=>void 0!==_e)})}unlinkCustom(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkCustom(ee.token,oe).then(_e=>void 0!==_e)})}unlinkDevice(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkDevice(ee.token,oe).then(_e=>void 0!==_e)})}unlinkEmail(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkEmail(ee.token,oe).then(_e=>void 0!==_e)})}unlinkFacebook(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkFacebook(ee.token,oe).then(_e=>void 0!==_e)})}unlinkFacebookInstantGame(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkFacebookInstantGame(ee.token,oe).then(_e=>void 0!==_e)})}unlinkGoogle(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkGoogle(ee.token,oe).then(_e=>void 0!==_e)})}unlinkGameCenter(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkGameCenter(ee.token,oe).then(_e=>void 0!==_e)})}unlinkSteam(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.unlinkSteam(ee.token,oe).then(_e=>void 0!==_e)})}updateAccount(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.updateAccount(ee.token,oe).then(_e=>void 0!==_e)})}updateGroup(ee,oe,_e){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.updateGroup(ee.token,oe,_e).then(O=>void 0!==O)})}validatePurchaseApple(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.validatePurchaseApple(ee.token,{receipt:oe})})}validatePurchaseGoogle(ee,oe){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.validatePurchaseGoogle(ee.token,{purchase:oe})})}validatePurchaseHuawei(ee,oe,_e){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.validatePurchaseHuawei(ee.token,{purchase:oe,signature:_e})})}writeLeaderboardRecord(ee,oe,_e){return y(this,null,function*(){return this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee)),this.apiClient.writeLeaderboardRecord(ee.token,oe,{metadata:_e.metadata?JSON.stringify(_e.metadata):void 0,score:_e.score,subscore:_e.subscore}).then(O=>Promise.resolve({expiry_time:O.expiry_time,leaderboard_id:O.leaderboard_id,metadata:O.metadata?JSON.parse(O.metadata):void 0,num_score:O.num_score?Number(O.num_score):0,owner_id:O.owner_id,score:O.score?Number(O.score):0,subscore:O.subscore?Number(O.subscore):0,update_time:O.update_time,username:O.username,max_num_score:O.max_num_score?Number(O.max_num_score):0,rank:O.rank?Number(O.rank):0}))})}writeStorageObjects(ee,oe){return y(this,null,function*(){this.autoRefreshSession&&ee.refresh_token&&ee.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(ee));var _e={objects:[]};return oe.forEach(O=>{_e.objects.push({collection:O.collection,key:O.key,permission_read:O.permission_read,permission_write:O.permission_write,value:JSON.stringify(O.value),version:O.version})}),this.apiClient.writeStorageObjects(ee.token,_e)})}writeTournamentRecord(ee,oe,_e){return y(this,null,function*(){return this.apiClient.writeTournamentRecord(ee.token,oe,{metadata:_e.metadata?JSON.stringify(_e.metadata):void 0,score:_e.score,subscore:_e.subscore}).then(O=>Promise.resolve({expiry_time:O.expiry_time,leaderboard_id:O.leaderboard_id,metadata:O.metadata?JSON.parse(O.metadata):void 0,num_score:O.num_score?Number(O.num_score):0,owner_id:O.owner_id,score:O.score?Number(O.score):0,subscore:O.subscore?Number(O.subscore):0,update_time:O.update_time,username:O.username,max_num_score:O.max_num_score?Number(O.max_num_score):0,rank:O.rank?Number(O.rank):0}))})}},Nt=me(5193),yt=me(9352),tt=me(4708),ut=me(6756),It=me(3428),Be=me(5020),ct=me(9404),Ot=me(1052),Pt=me(4496),zt=me(3824),mn=me(4180),gn=me(4668),bn=me(6819),Cn=me(5624),Sn=me(9240),tr=me(4500),nr=me(1028),zn=function(ee){return ee[ee.MANAGE_TODO=10]="MANAGE_TODO",ee[ee.EDIT_PROFILE=11]="EDIT_PROFILE",ee[ee.ADD_CHANNEL=14]="ADD_CHANNEL",ee[ee.WEBRTC_INIT_REQ_SIGNAL=20]="WEBRTC_INIT_REQ_SIGNAL",ee[ee.WEBRTC_REPLY_INIT_SIGNAL=21]="WEBRTC_REPLY_INIT_SIGNAL",ee[ee.WEBRTC_RECEIVE_ANSWER=22]="WEBRTC_RECEIVE_ANSWER",ee[ee.WEBRTC_ICE_CANDIDATES=23]="WEBRTC_ICE_CANDIDATES",ee[ee.WEBRTC_NEGOCIATENEEDED=24]="WEBRTC_NEGOCIATENEEDED",ee[ee.WEBRTC_HANGUP=30]="WEBRTC_HANGUP",ee}(zn||{});let Ln=(()=>{var ee;class oe{constructor(O,G,V,Q,de,Z,ve,Pe,ot,Tt,sn,_n,ln){this.p5toast=O,this.statusBar=G,this.indexed=V,this.noti=Q,this.modalCtrl=de,this.alertCtrl=Z,this.lang=ve,this.global=Pe,this.bgmode=ot,this.navCtrl=Tt,this.ngZone=sn,this.loadingCtrl=_n,this.nav=ln,this.profile={content:{type:void 0,path:void 0}},this.servers={official:{},unofficial:{}},this.isBannerShowing=!1,this.TogglingSession=!1,this.isRewardAdsUsed=!1,this.noti_origin={},this.AfterLoginActDone=!1,this.AfterLoginAct=[],this.self_match={},this.RemoteTodoCounter={},this.users={self:{},deleted:{},official:{},unofficial:{}},this.notifications_rearrange=[],this.groups={official:{},unofficial:{}},this.channels_orig={official:{},unofficial:{}},this.noti_id=2e3,this.web_noti_id={},this.registered_id=[],this.channels=[],this.after_rearrange_group={},this.socket_reactive={},this.on_socket_connected={},this.on_socket_disconnected={},this.match_act={},this.opened_page_info={},this.subscribe_lock=!1,this.has_new_channel_msg=!1,this.OnTransfer={},this.OnTransferMessage={}}initialize(){var O=this;return(0,v.c)(function*(){O.noti.GetNotificationIds(Pe=>{O.registered_id=Pe}),yield O.set_all_todo_notification();let G=yield O.indexed.loadTextFromUserPath("servers/self/profile.json");G&&(O.users.self=JSON.parse(G));let V=yield O.indexed.loadTextFromUserPath("servers/list_detail.csv");if(V)V.split("\n").forEach(ot=>{let Tt=ot.split(","),sn={isOfficial:Tt[1],name:Tt[2],target:Tt[3],address:Tt[4],port:+Tt[5],useSSL:"true"==Tt[6]};O.servers[sn.isOfficial][sn.target]={},O.servers[sn.isOfficial][sn.target].info=sn,O.init_server(sn)});else{let Pe=location.href.split("?").length>1;(O.users.self.online||Pe)&&O.toggle_all_session()}O.catch_group_server_header("offline");let Q=yield O.indexed.loadTextFromUserPath("servers/groups.json");Q&&(O.groups=JSON.parse(Q)),O.rearrange_group_list().forEach(function(){var Pe=(0,v.c)(function*(ot){if("missing"!=ot.status){let Tt=yield O.indexed.loadTextFromUserPath(`servers/${ot.server.isOfficial}/${ot.server.target}/groups/${ot.id}.img`);Tt&&(ot.img=Tt.replace(/"|=|\\/g,"")),delete ot.status;let sn=ot.server.isOfficial,_n=ot.server.target;if(ot.users)for(let ln=0,kn=ot.users.length;ln<kn;ln++)ot.users[ln].is_me||(ot.users[ln].user=O.load_other_user(ot.users[ln].user.id,sn,_n))}});return function(ot){return Pe.apply(this,arguments)}}()),yield O.load_channel_list();let Z=yield O.indexed.loadTextFromUserPath("servers/list.json");Z&&(O.statusBar.groupServer=JSON.parse(Z)),Object.keys(O.statusBar.groupServer).forEach(Pe=>{O.servers[Pe]?Object.keys(O.statusBar.groupServer[Pe]).forEach(Tt=>{O.servers[Pe][Tt]||delete O.statusBar.groupServer[Pe][Tt]}):delete O.statusBar.groupServer[Pe]}),O.users.self.online&&O.init_all_sessions()})()}set_all_todo_notification(){var O=this;return(0,v.c)(function*(){O.indexed.GetFileListFromDB("info.todo",G=>{G.forEach(V=>{O.indexed.loadTextFromUserPath(V,(Q,de)=>{if(Q&&de){let Z=JSON.parse(de);O.set_todo_notification(Z)}})})})})()}getGodotDBRecursive(){var O=this;return(0,v.c)(function*(){try{if(void 0===O.indexed.godotDB)throw"Retry catch godotDB";return}catch{return yield new Promise(V=>{setTimeout(()=>{V(void 0)},100)}),yield O.getGodotDBRecursive()}})()}open_add_todo_page(O=""){this.AddTodoLinkAct?this.AddTodoLinkAct(O):this.ngZone.run(()=>{this.navCtrl.navigateForward("add-todo-menu",{animation:tt.MZ,state:{data:O}})})}set_todo_notification(O){let G=O.startFrom||O.limit;if("DesktopPWA"==Nt.s1||"MobilePWA"==Nt.s1){let V=new Date(G).getTime()-(new Date).getTime();if(V>0){let Q=setTimeout(()=>{this.noti.PushLocal({id:O.noti_id,title:O.title,body:O.description},void 0,de=>{this.open_add_todo_page(JSON.stringify(O))})},V);this.web_noti_id[O.noti_id]=Q}}else{let V=new Date(G).getTime(),Q=!0;for(let de=0,Z=this.registered_id.length;de<Z;de++)if(this.registered_id[de]==O.id){this.registered_id.splice(de,1),Q=!1;break}if(!O.done&&Q&&V>(new Date).getTime()){let de="58a192";switch(O.importance){case"1":de="ddbb41";break;case"2":de="ff754e"}O.custom_color&&(de=O.custom_color),this.noti.PushLocal({id:O.noti_id,title:O.title,body:O.description,smallIcon_ln:"todo",iconColor_ln:de,group_ln:"todo",triggerWhen_ln:{at:new Date(G)},extra_ln:{page:{component:"AddTodoMenuPage",componentProps:{data:JSON.stringify(O)}}}})}}}init_server(O){this.servers[O.isOfficial][O.target]||(this.servers[O.isOfficial][O.target]={}),this.servers[O.isOfficial][O.target].client=new Et(O.key||"defaultkey",O.address,(O.port||7350).toString(),O.useSSL||!1)}resumeBanner(){var O=this;return(0,v.c)(function*(){O.isBannerShowing&&void 0!==(yield It.i8.resumeBanner().catch(Q=>console.log(Q)))&&(document.querySelector("ion-router-outlet").style.marginBottom=O.appMargin+"px")})()}removeBanner(){var O=this;return(0,v.c)(function*(){O.isBannerShowing&&void 0!==(yield It.i8.hideBanner().catch(Q=>console.log(Q)))&&(document.querySelector("ion-router-outlet").style.marginBottom="0px")})()}go_to_chatroom_without_admob_act(O,G){this.has_new_channel_msg=!1,this.rearrange_channels(),this.save_channels_with_less_info(),this.ChatroomLinkAct?this.ChatroomLinkAct(O,G):this.ngZone.run(()=>{this.navCtrl.navigateForward("chat-room",{animation:tt.MZ,state:{info:O,file:G}})})}init_all_sessions(){var O=this;return(0,v.c)(function*(){let G=Object.keys(O.servers.official);for(let Q=0,de=G.length;Q<de;Q++)yield O.init_session(O.servers.official[G[Q]].info);let V=Object.keys(O.servers.unofficial);for(let Q=0,de=V.length;Q<de;Q++)yield O.init_session(O.servers.unofficial[V[Q]].info);return G.length+V.length})()}logout_all_server(){let O=Object.keys(this.statusBar.groupServer);for(let G=0,V=O.length;G<V;G++){let Q=Object.keys(this.statusBar.groupServer[O[G]]);for(let de=0,Z=Q.length;de<Z;de++)"online"==this.statusBar.groupServer[O[G]][Q[de]]&&(this.servers[O[G]][Q[de]].socket?this.servers[O[G]][Q[de]].socket.disconnect(!0):this.link_group(O[G],Q[de],!1))}}toggle_all_session(){var O=this;return(0,v.c)(function*(){if(!O.TogglingSession&&(O.TogglingSession=!0,!(yield O.WatchAdsAndGetDevServerInfo()))){if("online"==O.statusBar.settings.groupServer)O.logout_all_server(),O.p5toast.show({text:O.lang.text.Nakama.SessionLogout});else{O.p5toast.show({text:O.lang.text.Nakama.PendingLogin});try{(yield O.init_all_sessions())||(O.p5toast.show({text:O.lang.text.Subscribes.Disconnected}),O.nav.navigateForward("portal/settings/group-server"),O.removeBanner())}catch{}}O.TogglingSession=!1}})()}WatchAdsAndGetDevServerInfo(){var O=this;return(0,v.c)(function*(){let G=O.get_all_server_info(!0);if(!O.isRewardAdsUsed&&!G.length){const V={adId:"ca-app-pub-6577630868247944/4325703911"};try{if(!(yield fetch(`${Nt.uM}pjcone_ads/admob.txt`)).ok)throw"\uc900\ube44\ub41c \uad11\uace0\uac00 \uc5c6\uc2b5\ub2c8\ub2e4";yield It.i8.prepareRewardVideoAd(V),yield It.i8.showRewardVideoAd(),O.bgmode.disable(),It.i8.addListener(It.iK.Dismissed,()=>{O.bgmode.enable()}),It.i8.addListener(It.iK.Rewarded,function(){var de=(0,v.c)(function*(Z){0!=Z.amount&&(yield O.AccessToOfficialTestServer())});return function(Z){return de.apply(this,arguments)}}())}catch(Q){console.log(Q),yield O.AccessToOfficialTestServer()}return!0}return!1})()}AccessToOfficialTestServer(){var O=this;return(0,v.c)(function*(){let V=(yield(yield fetch(`${Nt.uM}assets/data/WSAddress.txt`)).text()).split("\n")[0];yield O.add_group_server({isOfficial:"official",address:V,name:O.lang.text.Nakama.DevTestServer,target:"DevTestServer",useSSL:!0}),O.isRewardAdsUsed=!0;let Q=Object.keys(O.servers.official);for(let de=0,Z=Q.length;de<Z;de++)yield O.init_session(O.servers.official[Q[de]].info);"online"==O.statusBar.settings.groupServer&&O.p5toast.show({text:O.lang.text.Nakama.AccessTestServer})})()}link_group(O,G,V="offline"==this.statusBar.groupServer[O][G]){var Q=this;return(0,v.c)(function*(){if(V)Q.statusBar.groupServer[O][G]="pending",Q.catch_group_server_header("pending"),Q.users.self.online&&(yield Q.init_session(Q.servers[O][G].info));else{if(Q.channels_orig[O]&&Q.channels_orig[O][G]&&(Object.keys(Q.channels_orig[O][G]).forEach(Z=>{"missing"!=Q.channels_orig[O][G][Z].status&&delete Q.channels_orig[O][G][Z].status}),Q.rearrange_channels()),Q.groups[O]&&Q.groups[O][G]&&Object.keys(Q.groups[O][G]).forEach(Z=>{Q.groups[O][G][Z].status="offline"}),Q.set_group_statusBar("offline",O,G),Q.statusBar.groupServer[O][G]="offline",Q.catch_group_server_header("offline"),Q.servers[O][G].session){try{yield Q.servers[O][G].client.sessionLogout(Q.servers[O][G].session,Q.servers[O][G].session.token,Q.servers[O][G].session.refresh_token)}catch{}Q.noti_origin[O]&&Q.noti_origin[O][G]&&delete Q.noti_origin[O][G],Q.rearrange_notifications()}Q.channels_orig[O]&&Q.channels_orig[O][G]&&Object.keys(Q.channels_orig[O][G]).forEach(Z=>{"missing"!=Q.channels_orig[O][G][Z].status&&delete Q.channels_orig[O][G][Z].status})}Q.indexed.saveTextFileToUserPath(JSON.stringify(Q.statusBar.groupServer),"servers/list.json")})()}get_all_online_server(){let O=[];return Object.keys(this.servers.official).forEach(Q=>{"online"==this.statusBar.groupServer.official[Q]&&O.push(this.servers.official[Q])}),Object.keys(this.servers.unofficial).forEach(Q=>{"online"==this.statusBar.groupServer.unofficial[Q]&&O.push(this.servers.unofficial[Q])}),O}get_all_server_info(O=!1,G=!1){let V=[],Q=Object.keys(this.servers.official);return O&&Q.forEach(Z=>{G?("online"==this.statusBar.groupServer.official[Z]||"pending"==this.statusBar.groupServer.official[Z])&&V.push(this.servers.official[Z].info):this.servers.official[Z]&&V.push(this.servers.official[Z].info)}),Object.keys(this.servers.unofficial).forEach(Z=>{G?("online"==this.statusBar.groupServer.unofficial[Z]||"pending"==this.statusBar.groupServer.unofficial[Z])&&V.push(this.servers.unofficial[Z].info):this.servers.unofficial[Z]&&V.push(this.servers.unofficial[Z].info)}),V}add_group_server(O,G=(()=>{})){var V=this;if(this.statusBar.groupServer.unofficial[O.target||O.name])return void this.p5toast.show({text:`${this.lang.text.Nakama.AlreadyHaveTargetName}: ${O.target||O.name}`});O.target=O.target||O.name,O.address=O.address||"192.168.0.1",O.port=O.port||7350,O.useSSL=O.useSSL||!1,O.isOfficial=O.isOfficial||"unofficial",O.key=O.key||"defaultkey",this.groups[O.isOfficial]||(this.groups[O.isOfficial]={}),this.groups[O.isOfficial][O.target]||(this.groups[O.isOfficial][O.target]={}),this.channels_orig[O.isOfficial]||(this.channels_orig[O.isOfficial]={}),this.channels_orig[O.isOfficial][O.target]||(this.channels_orig[O.isOfficial][O.target]={});let Q=(new Date).getTime().toString();return Q+=`,${O.isOfficial}`,Q+=`,${O.name}`,Q+=`,${O.target}`,Q+=`,${O.address}`,Q+=`,${O.port}`,Q+=`,${O.useSSL}`,new Promise(function(){var de=(0,v.c)(function*(Z){{let ve={urls:[`stun:${O.address}:3478`,`turn:${O.address}:3478`],username:"username",credential:"password"};yield V.SaveWebRTCServer(ve)}"official"!=O.isOfficial?V.indexed.loadTextFromUserPath("servers/list_detail.csv",function(){var ve=(0,v.c)(function*(Pe,ot){let Tt=[];Pe&&ot&&(Tt=ot.split("\n")),Tt.push(Q),V.indexed.saveTextFileToUserPath(Tt.join("\n"),"servers/list_detail.csv",sn=>{V.init_server(O),V.servers[O.isOfficial][O.target].info={...O},G()}),V.statusBar.groupServer[O.isOfficial][O.target]="offline",yield V.indexed.saveTextFileToUserPath(JSON.stringify(V.statusBar.groupServer),"servers/list.json"),Z()});return function(Pe,ot){return ve.apply(this,arguments)}}()):(V.init_server(O),V.servers[O.isOfficial][O.target].info={...O},V.statusBar.groupServer[O.isOfficial][O.target]="offline",Z())});return function(Z){return de.apply(this,arguments)}}())}SaveWebRTCServer(O){var G=this;return(0,v.c)(function*(){let V=(yield G.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",Q=JSON.parse(V),de=!1;for(let ve=0,Pe=Object.keys(Q).length;ve<Pe;ve++)if(G.catch_address_from_rtc_server_address(O)==G.catch_address_from_rtc_server_address(Q[ve])){de=!0;break}de||Q.push(O),yield G.indexed.saveTextFileToUserPath(JSON.stringify(Q),"servers/webrtc_server.json")})()}RemoveWebRTCServer(O){var G=this;return(0,v.c)(function*(){let V=(yield G.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",Q=JSON.parse(V);for(let Z=0,ve=Object.keys(Q).length;Z<ve;Z++){let Pe=G.catch_address_from_rtc_server_address(Q[Z]);O==Pe&&Q.splice(Z,1)}yield G.indexed.saveTextFileToUserPath(JSON.stringify(Q),"servers/webrtc_server.json")})()}catch_address_from_rtc_server_address(O){let G;try{let V=O.urls[0];(V.indexOf("stun:")>=0||V.indexOf("turn:")>=0)&&(V=V.substring(5));let Q=V.lastIndexOf(":");G=V.substring(0,Q)}catch(V){console.error("webrtc \uc11c\ubc84 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",V)}return G}catch_group_server_header(O){let G=O;this.statusBar.settings.groupServer=O,setTimeout(()=>{Object.keys(this.statusBar.groupServer.official).forEach(Q=>{switch(this.statusBar.groupServer.official[Q]){case"online":G="online";break;case"pending":"online"!=G&&(G="pending");break;case"missing":case"offline":"online"!=G&&"pending"!=G&&(G="offline")}}),"online"!=G&&Object.keys(this.statusBar.groupServer.unofficial).forEach(de=>{switch(this.statusBar.groupServer.unofficial[de]){case"online":G="online";break;case"pending":"online"!=G&&(G="pending");break;case"missing":case"offline":"online"!=G&&"pending"!=G&&(G="offline")}}),this.statusBar.settings.groupServer=G},1500)}init_session(O){var G=this;return(0,v.c)(function*(){G.TogglingSession=!0;try{G.servers[O.isOfficial][O.target].session=yield G.servers[O.isOfficial][O.target].client.authenticateEmail(G.users.self.email,G.users.self.password,!1),yield G.after_login(O.isOfficial,O.target,O.useSSL)}catch(V){switch(V.status){case 400:G.p5toast.show({text:G.lang.text.Nakama.NeedLoginInfo}),G.nav.navigateForward("portal/settings/group-server"),G.removeBanner(),G.users.self.online=!1,delete G.users.self.password,G.set_group_statusBar("offline",O.isOfficial,O.target);break;case 401:G.p5toast.show({text:G.lang.text.Nakama.NeedAccountReset}),G.users.self.online=!1,delete G.users.self.password,G.set_group_statusBar("offline",O.isOfficial,O.target);break;case 404:if(G.servers[O.isOfficial][O.target].session=yield G.servers[O.isOfficial][O.target].client.authenticateEmail(G.users.self.email,G.users.self.password,!0),G.users.self.display_name&&G.servers[O.isOfficial][O.target].client.updateAccount(G.servers[O.isOfficial][O.target].session,{display_name:G.users.self.display_name,lang_tag:navigator.language.split("-")[0]||G.lang.lang}),G.p5toast.show({text:`${G.lang.text.Nakama.RegisterUserSucc}: ${O.name}`,lateable:!0}),G.users.self.img)try{let de=yield G.servers[O.isOfficial][O.target].client.writeStorageObjects(G.servers[O.isOfficial][O.target].session,[{collection:"user_public",key:"profile_image",permission_read:2,permission_write:1,value:{img:G.users.self.img}}]);G.servers[O.isOfficial][O.target].client.updateAccount(G.servers[O.isOfficial][O.target].session,{avatar_url:de.acks[0].version})}catch(de){console.error("\uc774\ubbf8\uc9c0 \ubc84\uc804 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",de)}(yield G.indexed.checkIfFileExist("servers/self/content.pck"))&&G.sync_save_file({path:"servers/self/content.pck"},O.isOfficial,O.target,"user_public","main_content"),yield G.after_login(O.isOfficial,O.target,O.useSSL);break;default:G.p5toast.show({text:`(${O.name}) ${G.lang.text.Nakama.UnexpectedLoginErr}: ${V}`}),G.set_group_statusBar("offline",O.isOfficial,O.target)}}G.TogglingSession=!1})()}after_login(O,G,V){var Q=this;return(0,v.c)(function*(){Q.set_group_statusBar("pending",O,G),Q.servers[O][G].socket=Q.servers[O][G].client.createSocket(V);try{let Z=yield Q.servers[O][G].client.getAccount(Q.servers[O][G].session),ve=JSON.parse(Z.user.metadata);Q.servers[O][G].info.is_admin=ve.is_admin,Object.keys(Z.user).forEach(ot=>{"display_name"==ot?Q.users.self[ot]=Z.user[ot]:Q.users.self.display_name||(Q.users.self[ot]=Z.user[ot])}),Q.save_self_profile()}catch{}if(!Q.users.self.img)try{let Z=yield Q.servers[O][G].client.readStorageObjects(Q.servers[O][G].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:Q.servers[O][G].session.user_id}]});Z.objects.length&&(Q.socket_reactive.profile?Q.socket_reactive.profile(Z.objects[0].value.img):(Q.users.self.img=Z.objects[0].value.img,Q.indexed.saveTextFileToUserPath(JSON.stringify(Q.users.self.img),"servers/self/profile.img")))}catch{}yield Q.load_server_todo(O,G);let de=yield Q.connect_to(O,G);Q.set_group_statusBar("online",O,G),yield Q.get_group_list_from_server(O,G),yield Q.redirect_channel(O,G),Q.noti_origin[O]||(Q.noti_origin[O]={}),Q.noti_origin[O][G]||(Q.noti_origin[O][G]={}),yield Q.update_notifications(O,G);try{let Z=yield Q.servers[O][G].client.readStorageObjects(Q.servers[O][G].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:Q.servers[O][G].session.user_id}]});try{return Q.self_match[O]||(Q.self_match[O]={}),Q.self_match[O][G]||(Q.self_match[O][G]=void 0),void(Q.self_match[O][G]=yield de.joinMatch(Z.objects[0].value.match_id))}catch{let Pe=yield de.createMatch();Q.self_match[O][G]=Pe,Q.servers[O][G].client.writeStorageObjects(Q.servers[O][G].session,[{collection:"self_share",key:"private_match",permission_read:2,permission_write:1,value:{match_id:Pe.match_id}}])}}catch{}Q.rearrange_channels(),Q.rearrange_group_list();for(let Z=0,ve=Q.AfterLoginAct.length;Z<ve;Z++)try{yield Q.AfterLoginAct[Z]()}catch(Pe){console.error("\uc9c4\uc785 \ub3d9\uc791 \uc624\ub958: ",Pe)}Q.AfterLoginAct.length=0,Q.AfterLoginActDone=!0})()}load_server_todo(O,G){var V=this;return(0,v.c)(function*(){try{let Q=yield V.servers[O][G].client.readStorageObjects(V.servers[O][G].session,{object_ids:[{collection:"server_todo",key:"RemoteTodo_Counter",user_id:V.servers[O][G].session.user_id}]});if(Q.objects.length){let de=Q.objects[0].value.data;V.RemoteTodoCounter[O]||(V.RemoteTodoCounter[O]={}),V.RemoteTodoCounter[O][G]=de;for(let Z=0,ve=de.length;Z<ve;Z++)try{let Pe=yield V.servers[O][G].client.readStorageObjects(V.servers[O][G].session,{object_ids:[{collection:"server_todo",key:`RemoteTodo_${de[Z]}`,user_id:V.servers[O][G].session.user_id}]});Pe.objects.length?V.modify_remote_info_as_local(Pe.objects[0].value,O,G):V.removeRemoteTodoCounter(O,G,de[Z])}catch(Pe){console.log("\uc11c\ubc84 \ud574\uc57c\ud560 \uc77c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Pe)}}}catch(Q){console.log("\uc6d0\uaca9 \ud560 \uc77c\uc758 \uc218 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",Q)}})()}getRemoteTodoCounter(O,G){var V=this;return(0,v.c)(function*(){try{return V.RemoteTodoCounter[O][G].sort(),V.RemoteTodoCounter[O][G][V.RemoteTodoCounter[O][G].length-1]}catch{let de=yield V.servers[O][G].client.readStorageObjects(V.servers[O][G].session,{object_ids:[{collection:"server_todo",key:"RemoteTodo_Counter",user_id:V.servers[O][G].session.user_id}]}),Z=0;return de.objects.length?Z=de.objects[0].value.data.length:(V.RemoteTodoCounter[O]||(V.RemoteTodoCounter[O]={}),V.RemoteTodoCounter[O][G]||(V.RemoteTodoCounter[O][G]=[])),Z}})()}addRemoteTodoCounter(O,G,V){try{this.RemoteTodoCounter[O][G].push(V),this.RemoteTodoCounter[O][G].sort()}catch{this.RemoteTodoCounter[O]||(this.RemoteTodoCounter[O]={}),this.RemoteTodoCounter[O][G]||(this.RemoteTodoCounter[O][G]=[V])}this.updateRemoteCounter(O,G)}removeRemoteTodoCounter(O,G,V){try{let Q=this.RemoteTodoCounter[O][G].indexOf(V);this.RemoteTodoCounter[O][G].splice(Q,1)}catch{this.RemoteTodoCounter[O]||(this.RemoteTodoCounter[O]={}),this.RemoteTodoCounter[O][G]||(this.RemoteTodoCounter[O][G]=[])}this.updateRemoteCounter(O,G)}updateRemoteCounter(O,G){this.servers[O][G].client.writeStorageObjects(this.servers[O][G].session,[{collection:"server_todo",key:"RemoteTodo_Counter",permission_read:2,permission_write:1,value:{data:this.RemoteTodoCounter[O][G]}}])}modify_remote_info_as_local(O,G,V){O.remote.name=this.servers[G][V].info.name,O.remote.isOfficial=G,O.remote.target=V,O.remote.type=`${G}/${V}`,this.set_todo_notification(O),this.global.p5todo&&this.global.p5todo.add_todo&&this.global.p5todo.add_todo(JSON.stringify(O)),this.indexed.saveTextFileToUserPath(JSON.stringify(O),`todo/${O.id}/info.todo`,void 0,this.indexed.godotDB)}load_groups(O,G,V){var Q=this;return(0,v.c)(function*(){let de=Q.groups[O][G][V].channel_id;try{if("missing"!=Q.groups[O][G][V].status){let Z=yield Q.servers[O][G].client.listGroupUsers(Q.servers[O][G].session,V);if(Z.group_users.length){let ve=!0;for(let Pe=0,ot=Z.group_users.length;Pe<ot;Pe++)if(Z.group_users[Pe].user.id==Q.servers[O][G].session.user_id){switch(Z.group_users[Pe].state){case 0:case 1:case 2:Q.groups[O][G][V].status="online";break;case 3:Q.groups[O][G][V].status="pending";break;default:console.warn("\uc774\ud574\ud560 \uc218 \uc5c6\ub294 \ucf54\ub4dc \ubc18\ud658: ",Z.group_users[Pe].state),Q.groups[O][G][V].status="missing"}ve=!1,Z.group_users[Pe].is_me=!0;break}ve&&(Q.groups[O][G][V].status="missing",de&&(Q.channels_orig[O][G][de].status="missing"),Q.save_channels_with_less_info())}else Q.groups[O][G][V].status="missing",Q.channels_orig[O][G][de].status="missing",Q.save_channels_with_less_info();Z.group_users.length&&(Q.groups[O][G][V].users=Z.group_users),Z.group_users.forEach(function(){var ve=(0,v.c)(function*(Pe){if(Pe.is_me)Pe.user=Q.users.self;else if(Pe.user.id==Q.servers[O][G].session.user_id||Q.load_other_user(Pe.user.id,O,G).avatar_url==Pe.user.avatar_url&&Q.load_other_user(Pe.user.id,O,G).img)Q.save_other_user(Pe.user,O,G);else try{let ot=yield Q.servers[O][G].client.readStorageObjects(Q.servers[O][G].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:Pe.user.id}]});ot.objects.length?Pe.user.img=ot.objects[0].value.img:delete Pe.user.img,Q.save_other_user(Pe.user,O,G)}catch(ot){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \uc774\ubbf8\uc9c0 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",ot)}});return function(Pe){return ve.apply(this,arguments)}}()),Q.save_groups_with_less_info()}}catch(Z){console.log("load_groups_error: ",Z)}})()}save_self_profile(){let O={...this.users.self};delete O.img,this.indexed.saveTextFileToUserPath(JSON.stringify(O),"servers/self/profile.json")}rearrange_all_user(){let O=[];return Object.keys(this.users).forEach(V=>{"self"!=V&&Object.keys(this.users[V]).forEach(de=>{Object.keys(this.users[V][de]).forEach(ve=>{O.push(this.users[V][de][ve])})})}),O}load_other_user(O,G,V,Q=(de=>{})){try{if(this.servers[G][V].session.user_id==O)return this.users.self}catch{}let de=!1;return this.users[G][V]||(this.users[G][V]={}),this.users[G][V][O]||(this.users[G][V][O]={},this.indexed.loadTextFromUserPath(`servers/${G}/${V}/users/${O}/profile.json`,(Z,ve)=>{if(Z&&ve){let Pe=JSON.parse(ve);Object.keys(Pe).forEach(Tt=>this.users[G][V][O][Tt]=Pe[Tt]),de||(Q(this.users[G][V][O]),de=!0)}else try{this.servers[G][V].client.getUsers(this.servers[G][V].session,[O]).then(Pe=>{Pe.users.length?(Object.keys(Pe.users[0]).forEach(Tt=>this.users[G][V][O][Tt]=Pe.users[0][Tt]),de||(Q(this.users[G][V][O]),de=!0),this.users[G][V][O].img||(this.users[G][V][O].img=null),this.save_other_user(this.users[G][V][O],G,V)):(this.indexed.removeFileFromUserPath(`${G}/${V}/users/${O}`),this.indexed.removeFileFromUserPath(`${G}/${V}/users/${O}/profile.json`),this.indexed.removeFileFromUserPath(`${G}/${V}/users/${O}/profile.img`))})}catch{}}),this.users[G][V][O].img?this.save_other_user(this.users[G][V][O],G,V):this.indexed.loadTextFromUserPath(`servers/${G}/${V}/users/${O}/profile.img`,(Z,ve)=>{if(Z&&ve)this.users[G][V][O].img=ve.replace(/"|=|\\/g,"");else if(this.users[G][V][O].avatar_url)try{"online"==this.statusBar.groupServer[G][V]&&this.servers[G][V].client.readStorageObjects(this.servers[G][V].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:O}]}).then(Pe=>{Pe.objects.length?this.users[G][V][O].img=Pe.objects[0].value.img:delete this.users[G][V][O].avatar_url,de||(Q(this.users[G][V][O]),de=!0),this.save_other_user(this.users[G][V][O],G,V)}).catch(Pe=>{this.users[G][V][O].img&&(delete this.users[G][V][O].img,de||(Q(this.users[G][V][O]),de=!0),this.save_other_user(this.users[G][V][O],G,V))})}catch{}})),this.users[G][V][O]}save_other_user(O,G,V){let Q=JSON.parse(JSON.stringify(O));O.id!=this.servers[G][V].session.user_id&&(delete Q.img,delete Q.online,delete Q.todo_checked,delete Q.todo_done,this.users[G][V]||(this.users[G][V]={}),this.users[G][V][O.id]||(this.users[G][V][O.id]={}),Object.keys(O).forEach(Z=>this.users[G][V][O.id][Z]=O[Z]),this.indexed.saveTextFileToUserPath(JSON.stringify(Q),`servers/${G}/${V}/users/${Q.id}/profile.json`),O.img?this.indexed.saveTextFileToUserPath(O.img,`servers/${G}/${V}/users/${O.id}/profile.img`):void 0===O.img&&this.indexed.removeFileFromUserPath(`servers/${G}/${V}/users/${O.id}/profile.img`))}update_notifications(O,G){var V=this;return(0,v.c)(function*(){let Q=yield V.servers[O][G].client.listNotifications(V.servers[O][G].session,1);V.noti_origin[O][G]={};for(let de=0,Z=Q.notifications.length;de<Z;de++)V.act_on_notification(Q.notifications[de],O,G);V.rearrange_notifications()})()}rearrange_notifications(){let O=[];return Object.keys(this.noti_origin).forEach(V=>{Object.keys(this.noti_origin[V]).forEach(de=>{Object.keys(this.noti_origin[V][de]).forEach(ve=>{O.push(this.noti_origin[V][de][ve])})})}),O.sort((V,Q)=>V.create_time<Q.create_time?1:V.create_time>Q.create_time?-1:0),this.notifications_rearrange=O,O}add_channels(O,G,V){var Q=this;return(0,v.c)(function*(){switch(Q.channels_orig[G][V][O.id]||(Q.channels_orig[G][V][O.id]={}),Object.keys(O).forEach(Z=>Q.channels_orig[G][V][O.id][Z]=O[Z]),Q.channels_orig[G][V][O.id].cnoti_id||(Q.channels_orig[G][V][O.id].cnoti_id=Q.get_noti_id()),Q.channels_orig[G][V][O.id].redirect.type){case 2:let ve=Q.load_other_user(Q.channels_orig[G][V][O.id].redirect.id,G,V).online?"online":"pending";Q.channels_orig[G][V][O.id].status=ve;break;case 3:try{let Pe=Q.channels_orig[G][V][O.id].redirect.id,ot=yield Q.servers[G][V].client.listGroupUsers(Q.servers[G][V].session,Pe);Q.groups[G][V][Pe].users||(Q.groups[G][V][Pe].users=[]),ot.group_users.forEach(Tt=>{Tt.user.id!=Q.servers[G][V].session.user_id&&(Q.users[G][V][Tt.user.id]||Q.save_other_user(Tt.user,G,V)),Tt.user.id==Q.servers[G][V].session.user_id?Tt.user.is_me=!0:Q.users[G][V][Tt.user.id]||Q.save_other_user(Tt.user,G,V),Tt.user=Q.load_other_user(Tt.user.id,G,V),Q.add_group_user_without_duplicate(Tt,Pe,G,V)})}catch(Pe){console.error("\uadf8\ub8f9 \ucc44\ub110 \uc0dd\uc131 \uc624\ub958: ",Pe)}Q.count_channel_online_member(Q.channels_orig[G][V][O.id],G,V);break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc885\ub958: ",Q.channels_orig[G][V][O.id])}Q.rearrange_channels(),Q.servers[G][V].socket.sendMatchState(Q.self_match[G][V].match_id,zn.ADD_CHANNEL,encodeURIComponent(""))})()}add_group_user_without_duplicate(O,G,V,Q){let de=!1;this.groups[V][Q][G].users||(this.groups[V][Q][G].users=[]);for(let Z=0,ve=this.groups[V][Q][G].users.length;Z<ve;Z++)if(this.groups[V][Q][G].users[Z].user.id==O.user.id){de=!0;break}de||this.groups[V][Q][G].users.push(O)}load_channel_list(){var O=this;return(0,v.c)(function*(){let G=yield O.indexed.loadTextFromUserPath("servers/channels.json");G&&(O.channels_orig=JSON.parse(G),Object.keys(O.channels_orig).forEach(Q=>{Object.keys(O.channels_orig[Q]).forEach(Z=>{Object.keys(O.channels_orig[Q][Z]).forEach(Pe=>{2==O.channels_orig[Q][Z][Pe].redirect.type&&(O.channels_orig[Q][Z][Pe].info=O.load_other_user(O.channels_orig[Q][Z][Pe].redirect.id,Q,Z)),"missing"!=O.channels_orig[Q][Z][Pe].status&&delete O.channels_orig[Q][Z][Pe].status,0==O.channels_orig[Q][Z][Pe].redirect.type&&(O.channels_orig[Q][Z][Pe].status="online"),O.channels_orig[Q][Z][Pe].is_new&&!O.subscribe_lock&&(O.has_new_channel_msg=!0)})})})),O.rearrange_channels()})()}get_noti_id(){return this.noti_id=this.check_If_RegisteredId(this.noti_id+1),this.noti_id}check_If_RegisteredId(O){let G=!1;for(let V=0,Q=this.registered_id.length;V<Q;V++)if(this.registered_id[V]==O){G=!0,this.registered_id.splice(V,1);break}return G?this.check_If_RegisteredId(O+1):O}redirect_channel(O,G){var V=this;return(0,v.c)(function*(){if(V.channels_orig[O][G]){let Q=Object.keys(V.channels_orig[O][G]);for(let de=0,Z=Q.length;de<Z;de++)if("missing"!=V.channels_orig[O][G][Q[de]].status)try{switch(yield V.servers[O][G].socket.joinChat(V.channels_orig[O][G][Q[de]].redirect.id,V.channels_orig[O][G][Q[de]].redirect.type,V.channels_orig[O][G][Q[de]].redirect.persistence,!1),V.channels_orig[O][G][Q[de]].cnoti_id||(V.channels_orig[O][G][Q[de]].cnoti_id=V.get_noti_id()),V.channels_orig[O][G][Q[de]].redirect.type){case 2:try{let ve=yield V.servers[O][G].client.readStorageObjects(V.servers[O][G].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:V.channels_orig[O][G][Q[de]].redirect.id}]}),Pe=V.load_other_user(V.channels_orig[O][G][Q[de]].redirect.id,O,G);Pe.img=ve.objects.length?ve.objects[0].value.img:void 0,V.save_other_user(Pe,O,G)}catch{}case 3:if(!V.channels_orig[O][G][Q[de]].update){let ve=yield V.servers[O][G].client.listChannelMessages(V.servers[O][G].session,Q[de],1,!1);ve.messages.length&&V.update_from_channel_msg(ve.messages[0],O,G)}V.count_channel_online_member(V.channels_orig[O][G][Q[de]],O,G),V.save_channels_with_less_info();break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub9ac\ub2e4\uc774\ub809\uc158 \ud0c0\uc785: ",V.channels_orig[O][G][Q[de]].redirect.type)}}catch{V.channels_orig[O][G][Q[de]].status="missing",delete V.channels_orig[O][G][Q[de]].info,V.save_channels_with_less_info()}V.rearrange_channels()}})()}rearrange_channels(){let O=[];return Object.keys(this.channels_orig).forEach(V=>{Object.keys(this.channels_orig[V]).forEach(de=>{Object.keys(this.channels_orig[V][de]).forEach(ve=>{this.channels_orig[V][de][ve].server={isOfficial:V,target:de};try{this.channels_orig[V][de][ve].server.name=this.servers[V][de].info.name}catch{this.channels_orig[V][de][ve].server.name=this.lang.text.Nakama.DeletedServer}switch(this.channels_orig[V][de][ve].redirect.type){case 1:console.warn("\ubc29 \ub300\ud654 \uae30\ub2a5 \uc900\ube44\uc911...");break;case 2:this.channels_orig[V][de][ve].info=this.load_other_user(this.channels_orig[V][de][ve].redirect.id,V,de),this.channels_orig[V][de][ve].title=this.channels_orig[V][de][ve].info.display_name;break;case 3:"missing"!=this.channels_orig[V][de][ve].status&&(this.groups[V][de]&&this.groups[V][de][this.channels_orig[V][de][ve].redirect.id]?(this.channels_orig[V][de][ve].info=this.groups[V][de][this.channels_orig[V][de][ve].redirect.id],this.channels_orig[V][de][ve].title=this.groups[V][de][this.channels_orig[V][de][ve].redirect.id].name):this.channels_orig[V][de][ve].status="missing");break;case 0:this.channels_orig[V][de][ve].info||(this.channels_orig[V][de][ve].info={}),this.channels_orig[V][de][ve].info.name=this.channels_orig[V][de][ve].title,this.channels_orig[V][de][ve].info.img||this.indexed.loadTextFromUserPath(`servers/${V}/${de}/groups/${ve}.img`,(Pe,ot)=>{Pe&&ot&&(this.channels_orig[V][de][ve].info.img=ot)});break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \uc54a\uc740 \ub300\ud654\ud615\uc2dd: ",this.channels_orig[V][de][ve])}O.push(this.channels_orig[V][de][ve])})})}),O.sort((V,Q)=>{let de=new Date(V.last_comment_time||0).getTime(),Z=new Date(Q.last_comment_time||0).getTime();return de<Z?1:de>Z?-1:0}),O.sort((V,Q)=>V.is_new?-1:1),this.channels=O,this.save_channels_with_less_info(),O}save_channels_with_less_info(){let O=JSON.parse(JSON.stringify(this.channels_orig));Object.keys(O).forEach(V=>{Object.keys(O[V]).forEach(de=>{let Z=Object.keys(O[V][de]);Z.forEach(ve=>{delete O[V][de][ve].img,delete O[V][de][ve].group,delete O[V][de][ve].info,delete O[V][de][ve].update,delete O[V][de][ve].presences,delete O[V][de][ve].cnoti_id,delete O[V][de][ve].status,O[V][de][ve].is_new||delete O[V][de][ve].is_new}),Z.length||delete O[V][de]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(O),"servers/channels.json")}limit_image_size(O,G=(V=>{})){new yt(Q=>{Q.setup=()=>{Q.noCanvas(),Q.loadImage(O,Z=>{Z.resize(window.innerWidth,window.innerWidth*Z.height/Z.width),Z.canvas.toDataURL().length>245e3&&de(Z),G(Z),Q.remove()},Z=>{this.p5toast.show({text:this.lang.text.Nakama.CannotOpenImg}),Q.remove()})};let de=Z=>{Z.resize(.95*Z.width,.95*Z.height),Z.canvas.toDataURL().length>245e3&&de(Z)}})}try_add_group(O){var G=this;return new Promise(function(){var V=(0,v.c)(function*(Q,de){let Z=G.get_all_online_server();for(let ve=0,Pe=Z.length;ve<Pe;ve++)try{let ot=yield Z[ve].client.joinGroup(Z[ve].session,O.id);if(!ot)return void console.warn("\uadf8\ub8f9 join \uc2e4\ud328... \ubca4 \ub2f9\ud588\uc744 \ub54c\uc778\ub4ef? \ud5a5\ud6c4\uc5d0 \uac80\ud1a0 \ud544");ot=yield Z[ve].client.listGroups(Z[ve].session,decodeURIComponent(O.name));for(let Tt=0,sn=ot.groups.length;Tt<sn;Tt++)if(ot.groups[Tt].id==O.id){let _n=ot.groups[Tt];_n.status=_n.open?"online":"pending",_n.server=G.servers[Z[ve].info.isOfficial][Z[ve].info.target].info;try{let ln=yield G.servers[Z[ve].info.isOfficial][Z[ve].info.target].client.listGroupUsers(G.servers[Z[ve].info.isOfficial][Z[ve].info.target].session,ot.groups[Tt].id);_n.users=ln.group_users,ln.group_users.forEach(kn=>{kn.user.id==G.servers[Z[ve].info.isOfficial][Z[ve].info.target].session.user_id?kn.is_me=!0:G.save_other_user(kn.user,Z[ve].info.isOfficial,Z[ve].info.target)})}catch(ln){console.error("\uadf8\ub8f9 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",ln)}try{let ln=yield G.servers[Z[ve].info.isOfficial][Z[ve].info.target].client.readStorageObjects(G.servers[Z[ve].info.isOfficial][Z[ve].info.target].session,{object_ids:[{collection:"group_public",key:`group_${ot.groups[Tt].id}`,user_id:ot.groups[Tt].creator_id}]});ln.objects.length&&(_n.img=ln.objects[0].value.img)}catch(ln){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \ud655\uc778 \uc624\ub958: ",ln)}if(G.save_group_info(_n,Z[ve].info.isOfficial,Z[ve].info.target),yield Z[ve].socket.sendMatchState(G.self_match[Z[ve].info.isOfficial][Z[ve].info.target].match_id,zn.ADD_CHANNEL,encodeURIComponent("")),_n.open){let ln=yield G.join_chat_with_modulation(_n.id,3,Z[ve].info.isOfficial,Z[ve].info.target);if(!G.opened_page_info.channel||G.opened_page_info.channel.isOfficial!=Z[ve].info.isOfficial||G.opened_page_info.channel.target!=Z[ve].info.target||G.opened_page_info.channel.id!=ln.id)try{let kn=yield G.servers[Z[ve].info.isOfficial][Z[ve].info.target].client.listChannelMessages(G.servers[Z[ve].info.isOfficial][Z[ve].info.target].session,ln.id,1,!1);kn.messages.length&&G.update_from_channel_msg(kn.messages[0],Z[ve].info.isOfficial,Z[ve].info.target),G.save_group_info(_n,Z[ve].info.isOfficial,Z[ve].info.target),G.save_groups_with_less_info(),G.go_to_chatroom_without_admob_act(ln)}catch(kn){console.error("\ucc44\ub110 \uc815\ubcf4 \ucd94\uac00 \uc624\ub958: ",kn)}}Q();break}}catch(ot){switch(ot.status){case 400:let Tt=yield Z[ve].client.listGroups(Z[ve].session,decodeURIComponent(O.name));for(let sn=0,_n=Tt.groups.length;sn<_n;sn++)if(Tt.groups[sn].id==O.id){try{let ln=Tt.groups[sn],kn=yield G.servers[Z[sn].info.isOfficial][Z[sn].info.target].client.listGroupUsers(G.servers[Z[sn].info.isOfficial][Z[sn].info.target].session,Tt.groups[sn].id);ln.users=kn.group_users,kn.group_users.forEach(Kn=>{Kn.user.id==G.servers[Z[sn].info.isOfficial][Z[sn].info.target].session.user_id?Kn.is_me=!0:G.save_other_user(Kn.user,Z[sn].info.isOfficial,Z[sn].info.target)}),G.save_group_info(ln,Z[sn].info.isOfficial,Z[sn].info.target)}catch(ln){console.error("\uadf8\ub8f9 \uc815\ubcf4 \uc911\ubcf5 \uc815\ubcf4: ",ln)}break}break;case 404:break;default:console.error("\uadf8\ub8f9 \ucd94\uac00 \uc624\ub958: ",ot)}}de(G.lang.text.Nakama.GroupAllListDone)});return function(Q,de){return V.apply(this,arguments)}}())}save_group_info(O,G,V){this.groups[G][V]||(this.groups[G][V]={}),this.groups[G][V][O.id]=O,this.save_groups_with_less_info(),this.indexed.saveTextFileToUserPath(O.img,`servers/${G}/${V}/groups/${O.id}.img`),O.owner==this.servers[G][V].session.user_id&&O.img&&this.servers[G][V].client.writeStorageObjects(this.servers[G][V].session,[{collection:"group_public",key:`group_${O.id}`,value:{img:O.img},permission_read:2,permission_write:1}])}save_groups_with_less_info(O=(()=>{})){let G=JSON.parse(JSON.stringify(this.groups));Object.keys(G).forEach(Q=>{Object.keys(G[Q]).forEach(Z=>{let ve=Object.keys(G[Q][Z]);ve.forEach(Pe=>{if(delete G[Q][Z][Pe].server,delete G[Q][Z][Pe].img,G[Q][Z][Pe].users)for(let ot=0,Tt=G[Q][Z][Pe].users.length;ot<Tt;ot++)if(G[Q][Z][Pe].users[ot]){delete G[Q][Z][Pe].users[ot].state;try{G[Q][Z][Pe].users[ot].user.id?(G[Q][Z][Pe].users[ot].user={id:G[Q][Z][Pe].users[ot].user.id},this.servers[Q][Z]&&this.servers[Q][Z].session&&G[Q][Z][Pe].users[ot].user.id==this.servers[Q][Z].session.user_id&&(G[Q][Z][Pe].users[ot].is_me=!0)):G[Q][Z][Pe].users[ot].is_me||G[Q][Z][Pe].users.splice(ot,1)}catch{}}}),ve.length||delete G[Q][Z]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(G),"servers/groups.json",()=>{O()})}remove_group_list(O,G,V,Q=!1){var de=this;return(0,v.c)(function*(){try{let Z=O.creator_id==de.servers[G][V].session.user_id;if(!de.servers[G][V]||!Z)throw"not a group creator";(yield de.servers[G][V].client.deleteGroup(de.servers[G][V].session,O.id))||console.warn("\uadf8\ub8f9 \uc0ad\uc81c \uc624\ub958 \uac80\ud1a0 \ud544\uc694"),de.remove_channel_files(G,V,O.channel_id,Z);try{throw yield de.servers[G][V].client.deleteStorageObjects(de.servers[G][V].session,{object_ids:[{collection:"group_public",key:`group_${O.id}`}]}),"Remove group image well"}catch{throw"No group image found"}}catch{try{Q&&(yield de.indexed.removeFileFromUserPath(`servers/${G}/${V}/groups/${O.id}.img`))}catch(ve){console.log(ve)}}})()}remove_channel_files(O,G,V,Q){try{this.servers[O][G].client.rpc(this.servers[O][G].session,"remove_channel_file",{collection:`file_${V.replace(/[.]/g,"_")}`,is_creator:Q}).catch(de=>{})}catch{}}get_group_list_from_server(O,G){var V=this;return(0,v.c)(function*(){V.groups[O]||(V.groups[O]={}),V.groups[O][G]||(V.groups[O][G]={});try{(yield V.servers[O][G].client.listUserGroups(V.servers[O][G].session,V.servers[O][G].session.user_id)).user_groups.forEach(function(){var de=(0,v.c)(function*(Z){if(!V.groups[O][G][Z.group.id]){V.groups[O][G][Z.group.id]={};try{let ve=yield V.servers[O][G].client.readStorageObjects(V.servers[O][G].session,{object_ids:[{collection:"group_public",key:`group_${Z.group.id}`,user_id:Z.group.creator_id}]});ve.objects.length&&(V.groups[O][G][Z.group.id].img=ve.objects[0].value.img,V.indexed.saveTextFileToUserPath(ve.objects[0].value.img,`servers/${O}/${G}/groups/${Z.group.id}.img`))}catch(ve){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",ve)}}V.groups[O][G][Z.group.id]={...V.groups[O][G][Z.group.id],...Z.group},V.groups[O][G][Z.group.id].status="online";try{(yield V.servers[O][G].client.listGroupUsers(V.servers[O][G].session,Z.group.id)).group_users.forEach(Pe=>{Pe.user.id==V.servers[O][G].session.user_id?Pe.user.is_me=!0:(Pe.user.img=null,V.save_other_user(Pe.user,O,G)),Pe.user=V.load_other_user(Pe.user.id,O,G),V.add_group_user_without_duplicate(Pe,Z.group.id,O,G)})}catch(ve){console.error("\uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uac00\uc838\uc624\uae30 \uc624\ub958: ",ve)}yield V.join_chat_with_modulation(Z.group.id,3,O,G),V.save_groups_with_less_info()});return function(Z){return de.apply(this,arguments)}}())}catch(Q){console.error("\uc0ac\uc6a9\uc790 \uadf8\ub8f9 \uac00\uc838\uc624\uae30 \uc624\ub958: ",Q)}})()}rearrange_group_list(){let O=[];return Object.keys(this.groups).forEach(Q=>{Object.keys(this.groups[Q]).forEach(Z=>{Object.keys(this.groups[Q][Z]).forEach(Pe=>{try{this.groups[Q][Z][Pe].server=this.servers[Q][Z].info}catch{this.groups[Q][Z][Pe].server={name:this.lang.text.Nakama.DeletedServer,isOfficial:Q,target:Z}}O.push(this.groups[Q][Z][Pe])})})}),Object.keys(this.after_rearrange_group).forEach(Q=>this.after_rearrange_group[Q](O)),O}set_group_statusBar(O,G,V){this.statusBar.groupServer[G][V]&&(this.statusBar.groupServer[G][V]=O),this.catch_group_server_header(O)}count_channel_online_member(O,G,V){var Q=this;return(0,v.c)(function*(){let de="pending";try{if("offline"==Q.statusBar.groupServer[G][V])throw"\uc11c\ubc84 \uc624\ud504\ub77c\uc778";if(O.group_id){if(Q.groups[G][V][O.group_id]&&Q.groups[G][V][O.group_id].users){let Z=Q.groups[G][V][O.group_id].users.length;if(1==Z)de=Q.users.self.online?"online":"offline";else for(let ve=0;ve<Z;ve++){let Pe=Q.groups[G][V][O.group_id].users[ve].user.id||Q.servers[G][V].session.user_id;if(Pe!=Q.servers[G][V].session.user_id&&Q.load_other_user(Pe,G,V).online){de="online";break}}}}else if(O.user_id_one)if(Q.channels_orig[G][V][O.channel_id||O.id]){let Z=Q.channels_orig[G][V][O.channel_id||O.id].redirect.id,ve=yield Q.servers[G][V].client.getUsers(Q.servers[G][V].session,[Z]);Object.keys(ve.users[0]).forEach(ot=>{Q.users[G][V][Z][ot]=ve.users[0][ot]}),de=Q.load_other_user(Z,G,V).online?"online":"pending"}else try{let Z=yield Q.join_chat_with_modulation(O.user_id_one!=Q.servers[G][V].session.user_id?O.user_id_one:O.user_id_two,2,G,V);de=Q.load_other_user(Q.channels_orig[G][V][Z.id].redirect.id,G,V).online?"online":"pending"}catch(Z){console.error(Z)}}catch{de="offline"==Q.statusBar.groupServer[G][V]?"offline":"missing"}Q.channels_orig[G][V][O.channel_id||O.id]||(Q.channels_orig[G][V][O.channel_id||O.id]={}),"missing"!=Q.channels_orig[G][V][O.channel_id||O.id].status&&(Q.channels_orig[G][V][O.channel_id||O.id].status=de)})()}remove_server(O,G){var V=this;return(0,v.c)(function*(){let Q=yield V.loadingCtrl.create({message:V.lang.text.TodoDetail.WIP});Q.present(),Q.message=V.lang.text.Nakama.RemovingAccount;try{V.servers[O][G].client.rpc(V.servers[O][G].session,"remove_account_fn",{user_id:V.servers[O][G].session.user_id}).catch(ve=>{})}catch{}if(Q.message=V.lang.text.Nakama.LogoutAccount,"online"==V.statusBar.groupServer[O][G])try{V.servers[O][G].socket.disconnect(!0)}catch{V.link_group(O,G,!1)}Q.message=V.lang.text.Nakama.RemovingNotification;try{delete V.noti_origin[O][G]}catch{}V.rearrange_notifications(),Q.message=V.lang.text.Nakama.MissingChannels;try{let ve=Object.keys(V.channels_orig[O][G]);V.channels_orig.deleted||(V.channels_orig.deleted={}),V.channels_orig.deleted[G]||(V.channels_orig.deleted[G]={}),ve.forEach(Pe=>{V.channels_orig[O][G][Pe].info.status="missing",V.channels_orig[O][G][Pe].status="missing",V.channels_orig.deleted[G][Pe]=JSON.parse(JSON.stringify(V.channels_orig[O][G][Pe]))}),delete V.channels_orig[O][G]}catch{}V.rearrange_channels();let de=yield V.indexed.GetFileListFromDB(`servers/unofficial/${G}`);for(let ve=0,Pe=de.length;ve<Pe;ve++){let ot=yield V.indexed.GetFileInfoFromDB(de[ve]),Tt=de[ve].replace("/official/","/deleted/").replace("/unofficial/","/deleted/");yield V.indexed.saveFileToUserPath(ot,Tt),yield V.indexed.removeFileFromUserPath(de[ve]),Q.message=`${V.lang.text.Nakama.MissingChannelFiles}: ${de[ve]}`,("Android"==Nt.s1||"iOS"==Nt.s1)&&V.noti.noti.schedule({id:9,title:`${V.lang.text.Nakama.MissingChannelFiles}: ${Pe-ve}`,progressBar:{value:ve,maxValue:Pe},sound:null,smallIcon:"res://icon_mono",color:"b0b0b0"})}Q.message=V.lang.text.Nakama.MissingGroups;try{V.groups.deleted||(V.groups.deleted={}),V.groups.deleted[G]||(V.groups.deleted[G]={}),V.groups.deleted[G]=JSON.parse(JSON.stringify(V.groups[O][G])),Object.keys(V.groups.deleted[G]).forEach(Pe=>{V.groups.deleted[G][Pe].server.name=V.lang.text.Nakama.DeletedServer,V.groups.deleted[G][Pe].server.isOfficial="deleted",V.groups.deleted[G][Pe].status="missing",V.groups.deleted[G][Pe]=JSON.parse(JSON.stringify(V.groups[O][G][Pe]))}),delete V.groups[O][G]}catch{}Q.message=V.lang.text.Nakama.DeletingServerInfo,V.set_group_statusBar("offline",O,G),delete V.statusBar.groupServer[O][G],V.RemoveWebRTCServer(V.servers[O][G].info.address),delete V.servers[O][G],V.save_groups_with_less_info(),V.indexed.saveTextFileToUserPath(JSON.stringify(V.statusBar.groupServer),"servers/list.json");let Z=yield V.indexed.loadTextFromUserPath("servers/list_detail.csv");if(Z){let ve=Z.split("\n");for(let Pe=0,ot=ve.length;Pe<ot;Pe++)if(ve[Pe].split(",")[3]==G){ve.splice(Pe,1);break}V.indexed.saveTextFileToUserPath(ve.join("\n"),"servers/list_detail.csv")}setTimeout(()=>{V.noti.ClearNoti(9)},100),Q.dismiss()})()}check_if_online(){this.get_all_server_info(!0,!0).length?(this.bgmode.setDefaults({title:this.lang.text.GlobalAct.OnlineMode,text:this.lang.text.GlobalAct.OnlineMode_text,icon:"icon_mono",color:"ffd94e"}),this.bgmode.configure({title:this.lang.text.GlobalAct.OnlineMode,text:this.lang.text.GlobalAct.OnlineMode_text,icon:"icon_mono",color:"ffd94e"})):(this.bgmode.setDefaults({title:this.lang.text.GlobalAct.OfflineMode,text:this.lang.text.GlobalAct.OfflineMode_text,icon:"icon_mono",color:"ffd94e"}),this.bgmode.configure({title:this.lang.text.GlobalAct.OfflineMode,text:this.lang.text.GlobalAct.OfflineMode_text,icon:"icon_mono",color:"ffd94e"}))}connect_to(O="official",G="default"){var V=this;return(0,v.c)(function*(){yield V.servers[O][G].socket.connect(V.servers[O][G].session,!0);let Q=V.servers[O][G].socket;return Object.keys(V.on_socket_connected).forEach(Z=>V.on_socket_connected[Z]()),Q.onnotification=Z=>{V.act_on_notification(Z,O,G),V.rearrange_notifications()},Q.onchannelpresence=Z=>{if(void 0!==Z.joins)Z.joins.forEach(ve=>{V.servers[O][G].session.user_id!=ve.user_id&&(V.load_other_user(ve.user_id,O,G).online=!0)}),V.count_channel_online_member(Z,O,G);else if(void 0!==Z.leaves){let ve=[];Z.leaves.forEach(Pe=>{V.servers[O][G].session.user_id!=Pe.user_id&&(delete V.load_other_user(Pe.user_id,O,G).online,ve.push(Pe.user_id))}),ve.forEach(Pe=>V.load_other_user(Pe,O,G)),V.count_channel_online_member(Z,O,G)}V.socket_reactive["others-online"]&&V.socket_reactive["others-online"]()},Q.onmatchdata=function(){var Z=(0,v.c)(function*(ve){switch(ve.data_str=decodeURIComponent((new TextDecoder).decode(ve.data)),ve.op_code){case zn.MANAGE_TODO:{let Pe=ve.data_str.split(",");switch(Pe[0]){case"add":V.servers[O][G].client.readStorageObjects(V.servers[O][G].session,{object_ids:[{collection:Pe[1],key:Pe[2],user_id:V.servers[O][G].session.user_id}]}).then(function(){var sn=(0,v.c)(function*(_n){if(_n.objects.length){V.modify_remote_info_as_local(_n.objects[0].value,O,G);let ln=_n.objects[0].value,kn=Number(ln.id.split("_")[1]),Kn=-1;try{Kn=V.RemoteTodoCounter[O][G].indexOf(kn)}catch{}-1==Kn&&V.addRemoteTodoCounter(O,G,kn),V.noti.PushLocal({id:ln.noti_id,title:ln.title,body:ln.description,smallIcon_ln:"todo",iconColor_ln:ln.custom_color,group_ln:"todo",extra_ln:{page:{component:"AddTodoMenuPage",componentProps:{data:JSON.stringify(ln)}}}},void 0,Wn=>{V.open_add_todo_page(JSON.stringify(ln))}),V.p5toast.show({text:`${V.lang.text.Main.RequestTodo}: ${ln.title}`})}});return function(_n){return sn.apply(this,arguments)}}());break;case"done":V.indexed.loadTextFromUserPath(`todo/${Pe[1]}/info.todo`,(sn,_n)=>{if(sn&&_n){let ln=JSON.parse(_n);ln.done=!0,V.modify_remote_info_as_local(ln,O,G),V.addRemoteTodoCounter(O,G,Number(ln.id.split("_")[1])),V.noti.ClearNoti(ln.noti_id)}},V.indexed.godotDB);break;case"delete":V.indexed.loadTextFromUserPath(`todo/${Pe[1]}/info.todo`,(sn,_n)=>{if(sn&&_n){let ln=JSON.parse(_n);V.indexed.GetFileListFromDB(`todo/${Pe[1]}`,kn=>{kn.forEach(Kn=>V.indexed.removeFileFromUserPath(Kn,void 0,V.indexed.godotDB)),ln.noti_id&&("DesktopPWA"==Nt.s1||"MobilePWA"==Nt.s1)&&(clearTimeout(V.web_noti_id[ln.noti_id]),delete V.web_noti_id[ln.noti_id]),V.noti.ClearNoti(ln.noti_id),V.global.p5todo&&V.global.p5todo.remove_todo&&V.global.p5todo.remove_todo(JSON.stringify(ln))},V.indexed.godotDB),V.addRemoteTodoCounter(O,G,Number(ln.id.split("_")[1]))}},V.indexed.godotDB);break;case"worker":let ot="true"==Pe[3];V.AddTodoManageUpdateAct&&V.AddTodoManageUpdateAct(Pe[1],Pe[2],ot,Number(Pe[4])),V.p5toast.show({text:`${ot?V.lang.text.Main.WorkerAbandon:V.lang.text.Main.WorkerDone}: ${V.users[O][G][Pe[2]].display_name}`}),V.indexed.loadTextFromUserPath(`todo/${Pe[1]}/info.todo`,(sn,_n)=>{if(sn&&_n){let ln=JSON.parse(_n);for(let kn=0,Kn=ln.workers.length;kn<Kn;kn++)if((ln.workers[kn].user_id||ln.workers[kn].id)==Pe[2]){ln.workers[kn].isDelete="true"==Pe[3],ln.workers[kn].timestamp=Number(Pe[4]);break}V.modify_remote_info_as_local(ln,O,G),V.addRemoteTodoCounter(O,G,Number(ln.id.split("_")[1]))}},V.indexed.godotDB);break;default:console.warn("\ub4f1\ub85d\ub418\uc9c0 \uc54a\uc740 \ud560 \uc77c \ud589\ub3d9: ",ve)}}break;case zn.EDIT_PROFILE:switch(ve.data_str){case"info":V.servers[O][G].client.getAccount(V.servers[O][G].session).then(Pe=>{Object.keys(Pe.user).forEach(Tt=>V.users.self[Tt]=Pe.user[Tt]),V.save_self_profile()});break;case"image":V.servers[O][G].client.readStorageObjects(V.servers[O][G].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:V.servers[O][G].session.user_id}]}).then(Pe=>{Pe.objects.length?(V.indexed.saveTextFileToUserPath(JSON.stringify(Pe.objects[0].value.img),"servers/self/profile.img"),V.users.self.img=Pe.objects[0].value.img.replace(/"|=|\\/g,"")):V.indexed.removeFileFromUserPath("servers/self/profile.img")});break;case"content":V.socket_reactive.self_profile_content_update&&V.socket_reactive.self_profile_content_update();break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ud504\ub85c\ud544 \ub3d9\uae30\ud654 \uc815\ubcf4: ",ve)}break;case zn.ADD_CHANNEL:V.get_group_list_from_server(O,G);break;case zn.WEBRTC_INIT_REQ_SIGNAL:V.servers[O][G].session.user_id!=ve.presence.user_id&&V.socket_reactive.WEBRTC_INIT_REQ_SIGNAL&&V.socket_reactive.WEBRTC_INIT_REQ_SIGNAL();break;case zn.WEBRTC_REPLY_INIT_SIGNAL:V.servers[O][G].session.user_id!=ve.presence.user_id&&V.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL&&V.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL(ve.data_str);break;case zn.WEBRTC_RECEIVE_ANSWER:V.servers[O][G].session.user_id!=ve.presence.user_id&&V.socket_reactive.WEBRTC_RECEIVE_ANSWER&&V.socket_reactive.WEBRTC_RECEIVE_ANSWER(ve.data_str);break;case zn.WEBRTC_ICE_CANDIDATES:V.servers[O][G].session.user_id!=ve.presence.user_id&&V.socket_reactive.WEBRTC_ICE_CANDIDATES&&V.socket_reactive.WEBRTC_ICE_CANDIDATES(ve.data_str);break;case zn.WEBRTC_NEGOCIATENEEDED:V.servers[O][G].session.user_id!=ve.presence.user_id&&V.socket_reactive.WEBRTC_NEGOCIATENEEDED&&V.socket_reactive.WEBRTC_NEGOCIATENEEDED(ve.data_str);break;case zn.WEBRTC_HANGUP:V.servers[O][G].session.user_id!=ve.presence.user_id&&V.WebRTCService&&(yield V.WebRTCService.close_webrtc());break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub3d9\uae30\ud654 \uc815\ubcf4: ",ve)}});return function(ve){return Z.apply(this,arguments)}}(),Q.onchannelmessage=Z=>{V.channels_orig[O][G][Z.channel_id]?(V.update_from_channel_msg(Z,O,G),Z.content.match&&Z.sender_id!=V.servers[O][G].session.user_id&&V.JoinWebRTCMatch(Z,O,G,V.channels_orig[O][G][Z.channel_id])):Z.user_id_one?V.join_chat_with_modulation(Z.sender_id,2,O,G):Z.group_id&&V.join_chat_with_modulation(Z.group_id,3,O,G)},Q.ondisconnect=Z=>{V.link_group(O,G,!1),Object.keys(V.on_socket_disconnected).forEach(Pe=>V.on_socket_disconnected[Pe]())},Q})()}saveListedMessage(O,G,V,Q){let de={},Z=JSON.parse(JSON.stringify(O));for(;Z.length;){de.target!=Z[0].msgDate&&(de.msg&&this.saveMessageByDate(de,G,V,Q),de.target=Z[0].msgDate,de.msg=[]);let ve=Z.shift();delete ve.content.text,delete ve.content.img,delete ve.content.local_comp,delete ve.content.path,delete ve.msgDate,delete ve.msgTime,delete ve.isLastRead,delete ve.showInfo,de.msg.push(ve)}this.saveMessageByDate(de,G,V,Q)}saveMessageByDate(O,G,V,Q){if(!O.msg||!O.msg.length)return;let de=JSON.parse(JSON.stringify(O)),Z=de.target.split("-");this.indexed.loadTextFromUserPath(`servers/${V}/${Q}/channels/${G.id}/chats/${Z[0]}/${Z[1]}/${Z[2]}`,(ve,Pe)=>{let ot=[],Tt=[];ve&&Pe&&(ot=JSON.parse(Pe)),de.msg.forEach(_n=>{let ln=!1;for(let kn=0,Kn=ot.length;kn<Kn;kn++)if(ot[kn].message_id==_n.message_id){ln=!0,ot[kn]=_n;break}ln||Tt.push(_n)});let sn=[...ot,...Tt];sn.sort((_n,ln)=>_n.create_time<ln.create_time?-1:_n.create_time>ln.create_time?1:0),this.indexed.saveTextFileToUserPath(JSON.stringify(sn),`servers/${V}/${Q}/channels/${G.id}/chats/${Z[0]}/${Z[1]}/${Z[2]}`)})}ModulateTimeDate(O){let G=new Date(O.create_time);O.msgDate=`${G.getFullYear()}-${("00"+(G.getMonth()+1)).slice(-2)}-${("00"+G.getDate()).slice(-2)}`,O.msgTime=`${("00"+G.getHours()).slice(-2)}:${("00"+G.getMinutes()).slice(-2)}`}join_chat_with_modulation(O,G,V,Q,de=!1){var Z=this;return(0,v.c)(function*(){Z.channels_orig[V][Q]||(Z.channels_orig[V][Q]={});let ve=yield Z.servers[V][Q].socket.joinChat(O,G,!0,!1);try{switch(ve.redirect={id:O,type:G,persistence:!0},ve.server={isOfficial:V,target:Q},G){case 2:ve.title=Z.load_other_user(O,V,Q).display_name,ve.info=Z.load_other_user(O,V,Q);break;case 3:ve.title=Z.groups[V][Q][O].name,ve.info=Z.groups[V][Q][O],Z.groups[V][Q][O].channel_id=ve.id,Z.save_groups_with_less_info();break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc815\ubcf4: ",G)}try{Z.channels_orig[V][Q][ve.id].status="offline"}catch{}if(yield Z.add_channels(ve,V,Q),!Z.opened_page_info.channel||Z.opened_page_info.channel.isOfficial!=V||Z.opened_page_info.channel.target!=Q||Z.opened_page_info.channel.id!=ve.id)try{let Pe=yield Z.servers[V][Q].client.listChannelMessages(Z.servers[V][Q].session,ve.id,1,!1);Pe.messages.length&&Z.update_from_channel_msg(Pe.messages[0],V,Q,de)}catch(Pe){console.error("\ub9c8\uc9c0\ub9c9 \uba54\uc2dc\uc9c0 \ubc1b\uc544\uc11c \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",Pe)}return Z.count_channel_online_member(ve,V,Q),Z.save_groups_with_less_info(),ve}catch(Pe){let ot="";throw ot=3===Pe.code?Z.lang.text.Nakama.AddChannelFailed_Code3:Pe.message,Z.p5toast.show({text:`${Z.lang.text.Nakama.AddChannelFailed}: ${ot}`}),`${Z.lang.text.Nakama.AddChannelFailed}: ${ot}`}})()}update_from_channel_msg(O,G,V,Q=!1){var de=this;return(0,v.c)(function*(){let Z=O.sender_id==de.servers[G][V].session.user_id,ve=O.message_id!=de.channels_orig[G][V][O.channel_id].last_comment_id,Pe=de.modulation_channel_message(O,G,V);switch(!Z&&ve&&de.noti.PushLocal({id:de.channels_orig[G][V][O.channel_id].cnoti_id,title:de.channels_orig[G][V][O.channel_id].info.name||de.channels_orig[G][V][O.channel_id].info.display_name||de.channels_orig[G][V][O.channel_id].title||de.lang.text.Subscribes.noTitiedChat,body:Pe.content.msg||Pe.content.noti||(Pe.content.match?de.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||`(${de.lang.text.ChatRoom.attachments})`,extra_ln:{page:{component:"ChatRoomPage",componentProps:{info:{id:O.channel_id,isOfficial:G,target:V,noti_id:de.channels_orig[G][V][O.channel_id].cnoti_id}}}},group_ln:"diychat",smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},de.channels_orig[G][V][O.channel_id].cnoti_id,sn=>{de.go_to_chatroom_without_admob_act(de.channels_orig[G][V][O.channel_id])}),Z&&de.noti.ClearNoti(de.channels_orig[G][V][O.channel_id].cnoti_id),Pe.code){case 0:Pe.content.gupdate&&de.update_group_info(Pe,G,V),Pe.content.user_update&&de.update_group_user_info(Pe,G,V),ve&&(de.channels_orig[G][V][O.channel_id].is_new=!Z,de.subscribe_lock||(de.has_new_channel_msg=!Z));break;case 1:case 2:break;case 3:case 4:case 5:case 6:if(de.socket_reactive.group_detail&&de.socket_reactive.group_detail.update_GroupUsersList(G,V),3==Pe.code||4==Pe.code)break;if(de.noti_origin[G]&&de.noti_origin[G][V]){let sn=Object.keys(de.noti_origin[G][V]),_n=[];sn.forEach(ln=>{-5==de.noti_origin[G][V][ln].code&&de.noti_origin[G][V][ln].sender_id==Pe.sender_id&&_n.push(ln)});try{(yield de.servers[G][V].client.deleteNotifications(de.servers[G][V].session,_n))||console.warn("\uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \uc54c\ub9bc \uc0ad\uc81c \ud6c4 \uc624\ub958"),de.update_notifications(G,V)}catch(ln){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",ln)}}Z&&(de.channels_orig[G][V][Pe.channel_id].status="missing",delete de.channels_orig[G][V][Pe.channel_id].info);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",Pe)}de.ModulateTimeDate(Pe),de.check_sender_and_show_name(Pe,G,V);let ot=O.content.msg;de.content_to_hyperlink(Pe),de.channels_orig[G][V][O.channel_id].last_comment_time=O.update_time,de.channels_orig[G][V][Pe.channel_id].last_comment_id=Pe.message_id,de.rearrange_channels(),!Q&&de.channels_orig[G][V][Pe.channel_id].update&&de.channels_orig[G][V][Pe.channel_id].update(Pe),de.saveListedMessage([Pe],de.channels_orig[G][V][Pe.channel_id],G,V),de.channels_orig[G][V][Pe.channel_id].last_comment=(Pe.content.filename?`(${de.lang.text.ChatRoom.attachments}) `:"")+(ot||Pe.content.noti||(Pe.content.match?de.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||""),de.save_channels_with_less_info()})()}JoinWebRTCMatch(O,G,V,Q){var de=this;return(0,v.c)(function*(){try{try{de.WebRTCService.CurrentMatch=yield de.servers[G][V].socket.joinMatch(O.content.match)}catch(Z){throw Z}de.WebRTCService&&(yield de.WebRTCService.initialize("audio",void 0,{isOfficial:G,target:V,channel_id:Q.id,user_id:Q.info.id||Q.info.user_id},!1)),yield de.servers[G][V].socket.sendMatchState(O.content.match,zn.WEBRTC_INIT_REQ_SIGNAL,encodeURIComponent(""))}catch(Z){4===(console.log("\ucc38\uc5ec \uc2e4\ud328: ",Z),Z.code)?de.p5toast.show({text:de.lang.text.ChatRoom.MatchExpiration}):de.p5toast.show({text:`${de.lang.text.ChatRoom.JoinMatchFailed}: ${Z}`})}})()}content_to_hyperlink(O){if(!O.content.msg||"object"==typeof O.content.msg)return;let G=O.content.msg.split("\n");O.content.msg=[],G.forEach(V=>{let Q={text:V};V&&O.content.msg.push([Q]);try{let de=Q.text.match(/[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6DC}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1F9FF}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA88}\u{1FA90}-\u{1FABD}\u{1FABF}-\u{1FAC5}\u{1FACE}-\u{1FADB}\u{1FAE0}-\u{1FAE8}\u{1FAF0}-\u{1FAF8}]+/gu)[0].replace(/[0-9]/g,"");Q.text.length==de.length&&(Q.size=48)}catch{}});for(let V=0,Q=O.content.msg.length;V<Q;V++)if(O.content.msg[V][0].text){let de=O.content.msg[V][0].text.indexOf("http://");if(de<0&&(de=O.content.msg[V][0].text.indexOf("https://")),de>=0){let ve,Z=[];0!=de&&(ve=O.content.msg[V][0].text.substring(0,de),Z.push({text:ve}));let Tt,sn,Pe=O.content.msg[V][0].text.substring(de),ot=Pe.indexOf(" ");ot<0?(Tt=Pe,Z.push({text:Tt,href:!0})):(Tt=Pe.substring(0,ot),Z.push({text:Tt,href:!0}),sn=Pe.substring(ot),Z.push({text:sn})),O.content.msg[V]=Z}}}check_sender_and_show_name(O,G,V){try{O.color=(O.sender_id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),O.sender_id==this.servers[G][V].session.user_id?(O.user_display_name=this.users.self.display_name,O.is_me=!0):O.user_display_name=this.load_other_user(O.sender_id,G,V).display_name,O.user_display_name=O.user_display_name||this.lang.text.Profile.noname_user}catch(Q){console.log("\ubc1c\uc2e0\uc790 \uccb4\ud06c \uc624\ub958: ",Q)}}modulation_channel_message(O,G,V){this.translate_updates(O);let de,Q=!1;try{Q=O.sender_id==this.servers[G][V].session.user_id}catch{Q=O.content.user_update}try{de=Q?this.users.self:this.load_other_user(O.sender_id,G,V)}catch{de=this.users.self}switch(O.code){case 0:if(O.content.filename){try{O.content.transfer_index=this.OnTransfer[G][V][O.channel_id][O.message_id]}catch{}try{this.OnTransferMessage[O.message_id]=O}catch{}}break;case 1:case 2:break;case 3:case 4:O.content.user_update=de,O.content.noti=`${this.lang.text.Nakama.GroupUserJoin}: ${de.display_name}`,setTimeout(()=>{this.count_channel_online_member(O,G,V)},50);break;case 5:O.content.user_update=de,O.content.noti=`${this.lang.text.Nakama.GroupUserOut}: ${de.display_name}`,setTimeout(()=>{this.count_channel_online_member(O,G,V)},50);break;case 6:O.content.user_update=de,O.content.noti=`${this.lang.text.Nakama.GroupUserKick}: ${de.display_name}`,setTimeout(()=>{this.count_channel_online_member(O,G,V)},50);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",O)}return O}update_group_info(O,G,V){switch(this.translate_updates(O),O.content.gupdate){case"remove":case"force_remove":this.groups[G][V][O.group_id].status="missing",delete this.groups[G][V][O.group_id].img,this.save_groups_with_less_info(),this.indexed.removeFileFromUserPath(`servers/${G}/${V}/groups/${O.group_id}.img`),this.channels_orig[G][V][O.channel_id].status="missing",this.servers[G][V].socket.leaveChat(O.channel_id);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",O)}}translate_updates(O){if(O.content.user_update)switch(O.content.user_update){case"modify_data":O.content.noti=`${this.lang.text.Profile.user_profile_changed}${O.content.noti_form}`;break;case"modify_content":O.content.noti=`${this.lang.text.Profile.user_content_changed}${O.content.noti_form}`;break;case"remove_content":O.content.noti=`${this.lang.text.Profile.user_content_removed}${O.content.noti_form}`}if(O.content.gupdate)switch(O.content.gupdate){case"remove":O.content.noti=this.lang.text.GroupDetail.GroupRemoved;break;case"force_remove":O.content.noti=this.lang.text.GroupDetail.GroupForceRemoved}}update_group_user_info(O,G,V){var Q=this;return(0,v.c)(function*(){switch(Q.translate_updates(O),O.content.user_update){case"modify_data":try{let de=yield Q.servers[G][V].client.getUsers(Q.servers[G][V].session,[O.sender_id]);de.users.length?Q.save_other_user(de.users[0],G,V):(delete Q.users[G][V][O.sender_id],Q.indexed.removeFileFromUserPath(`servers/${G}/${V}/users/${O.sender_id}/profile.json`))}catch(de){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd \uc624\ub958: ",de)}break;case"modify_content":case"remove_content":Q.socket_reactive.other_user_content_update&&Q.socket_reactive.other_user_content_update();break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \ud589\ub3d9: ",O)}})()}check_notifications(O,G,V){var Q=this;return(0,v.c)(function*(){let de=Q.servers[G][V];switch(O.code){case 0:case-2:break;case 1:case-1:case-3:case-4:case-6:Q.noti.RemoveListener(`check${O.code}`),Q.noti.ClearNoti(O.code);try{(yield de.client.deleteNotifications(de.session,[O.id]))||console.warn("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),Q.update_notifications(G,V)}catch(Z){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Z)}break;case-5:try{let Z=yield de.client.getUsers(de.session,[O.sender_id]);if(Z.users.length){let ve="";ve+=`${Q.lang.text.Nakama.ReqContServer}: ${O.server.name}<br>`,ve+=`${Q.lang.text.Nakama.ReqContUserName}: ${Z.users[0].display_name}`,Q.alertCtrl.create({header:Q.lang.text.Nakama.ReqContTitle,message:ve,buttons:[{text:Q.lang.text.Nakama.ReqContAccept,handler:(Pe=(0,v.c)(function*(){try{(yield de.client.addGroupUsers(de.session,O.content.group_id,[Z.users[0].id]))||console.warn("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),Q.noti.RemoveListener(`check${O.code}`),Q.noti.ClearNoti(O.code);try{let Tt=yield de.client.deleteNotifications(de.session,[O.id]);Tt?Q.update_notifications(G,V):console.warn("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",Tt)}catch(Tt){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Tt)}}catch(ot){console.error("\uadf8\ub8f9\uc5d0 \uc0ac\uc6a9\uc790 \ucd94\uac00 \uc624\ub958: ",ot)}}),function(){return Pe.apply(this,arguments)})},{text:Q.lang.text.Nakama.ReqContReject,handler:function(){var Pe=(0,v.c)(function*(){try{(yield de.client.kickGroupUsers(de.session,O.content.group_id,[Z.users[0].id]))||console.warn("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),de.client.deleteNotifications(de.session,[O.id]),Q.update_notifications(G,V)}catch(ot){console.error("\uc0ac\uc6a9\uc790 \uac15\ud1f4 \uc624\ub958: ",ot)}});return function(){return Pe.apply(this,arguments)}}(),cssClass:"red_font"}]}).then(Pe=>Pe.present())}else try{(yield de.client.deleteNotifications(de.session,[O.id]))||console.warn("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),Q.p5toast.show({text:Q.lang.text.Nakama.UserNotFound}),Q.update_notifications(G,V)}catch(ve){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",ve)}}catch(Z){console.error("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \ubc1b\uc544\uc624\uae30 \uc624\ub958: ",Z)}break;case-7:Q.LoginAgain(Q.noti_origin,G,V);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \uad6c\ubd84: ",O.code)}var Pe})()}act_on_notification(O,G,V){var Q=this;return(0,v.c)(function*(){let de=!1;switch(O.server=Q.servers[G][V].info,O.code){case 404:Q.remove_server(G,V);break;case 1:try{(yield Q.servers[G][V].client.deleteNotifications(Q.servers[G][V].session,[O.id]))||console.warn("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),Q.update_notifications(G,V)}catch(Tt){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Tt)}let Z=decodeURIComponent(O.content.msg),ve=decodeURIComponent(O.content.uri);Q.noti.PushLocal({id:O.code,title:Q.servers[G][V].info.name,body:Z,image:ve,extra_ln:{type:"AllUserNotification",title:Q.servers[G][V].info.name,body:Z,image:ve,isOfficial:G,target:V,noti_id:O.id},smallIcon_ln:"diychat",group_ln:"all_user_noti",iconColor_ln:"ff754e"},"global_noti_all",Tt=>{let _n=`<div>${Z}</div>`;Q.alertCtrl.create({header:Q.servers[G][V].info.name,message:new tt.AF(ve?`<img src="${ve}" alt="noti_image" style="border-radius: 2px">`+_n:_n),buttons:[{text:Q.lang.text.Nakama.LocalNotiOK,handler:()=>{Q.servers[G][V].client.deleteNotifications(Q.servers[G][V].session,[O.id])}}]}).then(kn=>kn.present())});break;case 0:O.request=`${O.code}-${O.subject}`;break;case-1:let Pe;O.request=`${O.code}-${O.subject}`,2===(O.content&&O.content.username&&(Pe=2),Pe)?Q.join_chat_with_modulation(O.sender_id,Pe,G,V):(console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ud589\ub3d9\ucc98\ub9ac: ",O,Pe),O.request=`${O.code}-${O.subject}`),de=!0;try{(yield Q.servers[G][V].client.deleteNotifications(Q.servers[G][V].session,[O.id]))||console.warn("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),Q.update_notifications(G,V)}catch(Tt){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Tt)}break;case-2:case-3:O.request=`${O.code}-${O.subject}`;break;case-4:Q.socket_reactive.group_detail&&Q.socket_reactive.group_detail.info.id==O.content.group_id&&Q.socket_reactive.group_detail.update_from_notification(O),Q.groups[G][V][O.content.group_id].status="online",O.request=`${O.code}-${O.subject}`,Q.noti.RemoveListener(`check${O.code}`),Q.noti.SetListener(`check${O.code}`,Tt=>{Q.noti.ClearNoti(Tt.id),Q.noti.RemoveListener(`check${O.code}`),Q.check_notifications(O,G,V)});try{let Tt=yield Q.servers[G][V].client.readStorageObjects(Q.servers[G][V].session,{object_ids:[{collection:"group_public",key:`group_${O.content.group_id}`,user_id:Q.groups[G][V][O.content.group_id].creator_id}]});Tt.objects.length&&(Q.groups[G][V][O.content.group_id].img=Tt.objects[0].value.img,Q.indexed.saveTextFileToUserPath(Tt.objects[0].value.img,`servers/${G}/${V}/groups/${O.content.group_id}.img`))}catch(Tt){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",Tt)}try{let Tt=yield Q.servers[G][V].client.listGroupUsers(Q.servers[G][V].session,O.content.group_id);Tt.group_users.length&&Tt.group_users.forEach(sn=>{Q.load_other_user(sn.user.id,G,V)})}catch(Tt){console.error("\uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uac00\uc838\uc624\uae30 \uc624\ub958: ",Tt)}Q.join_chat_with_modulation(O.content.group_id,3,G,V),Q.noti.PushLocal({id:O.code,title:`${Q.groups[G][V][O.content.group_id].name}: ${Q.lang.text.Nakama.LocalNotiTitle}`,body:O.subject,group_ln:"diychat",icon:Q.groups[G][V][O.content.group_id.img],smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},void 0,Tt=>{Q.check_notifications(O,G,V)});break;case-5:let ot=Q.groups[G][V][O.content.group_id];if(ot)O.request=`${Q.lang.text.Nakama.ReqContTitle}: ${ot.name}`;else{de=!0;try{let Tt=yield Q.servers[G][V].client.deleteNotifications(Q.servers[G][V].session,[O.id]);Tt?Q.update_notifications(G,V):console.warn("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",Tt)}catch(Tt){console.error("\uc54c\ub9bc \uc81c\uac70 \uc624\ub958: ",Tt)}}Q.socket_reactive.group_detail&&Q.socket_reactive.group_detail.info.id==O.content.group_id&&Q.socket_reactive.group_detail.update_from_notification(O),Q.noti.RemoveListener(`check${O.code}`),Q.noti.SetListener(`check${O.code}`,Tt=>{Q.noti.ClearNoti(Tt.id),Q.noti.RemoveListener(`check${O.code}`),!Q.socket_reactive.group_detail&&Q.modalCtrl.create({component:ut.q,componentProps:{info:Q.groups[G][V][O.content.group_id],server:Q.servers[G][V].info}}).then(sn=>sn.present())}),Q.noti.PushLocal({id:O.code,title:`${Q.groups[G][V][O.content.group_id].name}: ${Q.lang.text.Nakama.ReqContTitle}`,group_ln:"diychat",icon:Q.groups[G][V][O.content.group_id].img,extra_ln:{page:{component:"NakamaReqContTitle",componentProps:{data:{noti_id:O.id,serverName:Q.servers[G][V].info.name,userName:Q.load_other_user(O.sender_id,G,V).display_name,group_id:O.content.group_id,user_id:O.sender_id,isOfficial:G,Target:V}}}},smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},void 0,Tt=>{Q.socket_reactive.group_detail.info.id!=O.content.group_id&&Q.modalCtrl.create({component:ut.q,componentProps:{info:Q.groups[G][V][O.content.group_id]}}).then(sn=>sn.present())});break;case-6:O.request=`${O.code}-${O.subject}`;break;case-7:O.request=`${Q.servers[G][V].info.name}: ${Q.lang.text.Nakama.SessionLogout}`,Q.LoginAgain(O,G,V);break;default:console.warn("\ud655\uc778\ub418\uc9c0 \uc54a\uc740 \uc2e4\uc2dc\uac04 \uc54c\ub9bc_nakama_noti: ",O),O.request=`${O.code}-${O.subject}`}de||(Q.noti_origin[G]||(Q.noti_origin[G]={}),Q.noti_origin[G][V]||(Q.noti_origin[G][V]={}),Q.noti_origin[G][V][O.id]=O)})()}LoginAgain(O,G,V){this.alertCtrl.create({header:this.servers[G][V].info.name,message:this.lang.text.Nakama.LoginAgain,buttons:[{text:this.lang.text.Profile.login_toggle,handler:()=>{try{delete this.noti_origin[G][V][O.id]}catch{}this.rearrange_notifications(),this.link_group(G,V,!0)}}]}).then(Q=>Q.present())}WriteStorage_From_channel(O,G,V,Q,de=0){var Z=this;return(0,v.c)(function*(){let ve=JSON.parse(JSON.stringify(O)),Pe=yield Z.global.req_file_info(G),ot=Math.ceil(Pe.contents.length/Be.KY);if(Z.OnTransfer[V]||(Z.OnTransfer[V]={}),Z.OnTransfer[V][Q]||(Z.OnTransfer[V][Q]={}),Z.OnTransfer[V][Q][O.channel_id]||(Z.OnTransfer[V][Q][O.channel_id]={}),Z.OnTransfer[V][Q][O.channel_id][O.message_id]||(Z.OnTransfer[V][Q][O.channel_id][O.message_id]={index:ot}),!Z.OnTransfer[V][Q][O.channel_id][O.message_id].OnTransfer){O.content.transfer_index||(O.content.transfer_index=Z.OnTransfer[V][Q][O.channel_id][O.message_id]);for(let Tt=de;Tt<ot;Tt++)try{let sn=Z.global.req_file_part_base64(Pe,Tt,G);yield Z.servers[V][Q].client.writeStorageObjects(Z.servers[V][Q].session,[{collection:`file_${ve.channel_id.replace(/[.]/g,"_")}`,key:`msg_${ve.message_id}_${Tt}`,permission_read:2,permission_write:1,value:{data:sn}}]),Z.OnTransfer[V][Q][O.channel_id][O.message_id].index=ot-1-Tt,Z.OnTransfer[V][Q][O.channel_id][O.message_id].OnTransfer="upload"}catch(sn){console.log("WriteStorage_From_channel: ",sn),Z.p5toast.show({text:`${Z.lang.text.Nakama.FailedUpload}: ${sn}`});break}setTimeout(()=>{delete Z.OnTransfer[V][Q][O.channel_id][O.message_id],Z.global.remove_req_file_info(O,G),Z.p5toast.show({text:`${Z.lang.text.ChatRoom.SendFile}: ${ve.content.filename}`})},100)}})()}ReadStorage_From_channel(O,G,V,Q,de=0){var Z=this;return(0,v.c)(function*(){let ve=JSON.parse(JSON.stringify(O));if(Z.OnTransfer[V]||(Z.OnTransfer[V]={}),Z.OnTransfer[V][Q]||(Z.OnTransfer[V][Q]={}),Z.OnTransfer[V][Q][O.channel_id]||(Z.OnTransfer[V][Q][O.channel_id]={}),Z.OnTransfer[V][Q][O.channel_id][O.message_id]||(Z.OnTransfer[V][Q][O.channel_id][O.message_id]={index:ve.content.partsize}),Z.OnTransfer[V][Q][O.channel_id][O.message_id].OnTransfer)return;O.content.transfer_index||(O.content.transfer_index=Z.OnTransfer[V][Q][O.channel_id][O.message_id]);let Pe=!0;for(let ot=de,Tt=ve.content.partsize;ot<Tt;ot++)try{let sn=yield Z.servers[V][Q].client.readStorageObjects(Z.servers[V][Q].session,{object_ids:[{collection:`file_${ve.channel_id.replace(/[.]/g,"_")}`,key:`msg_${ve.message_id}_${ot}`,user_id:ve.sender_id}]});Z.global.save_file_part(G,ot,sn.objects[0].value.data),Z.OnTransfer[V][Q][O.channel_id][O.message_id].index=Tt-1-ot,Z.OnTransfer[V][Q][O.channel_id][O.message_id].OnTransfer="download"}catch(sn){console.log("ReadStorage_From_channel: ",sn),Pe=!1,Z.p5toast.show({text:`${Z.lang.text.Nakama.FailedDownload}: ${sn}`});break}if(Pe){if(O.content.url)O.content.thumbnail=O.content.url;else{O.content.text=[Z.lang.text.ChatRoom.SavingFile],delete O.content.transfer_index,delete Z.OnTransfer[V][Q][ve.channel_id][ve.message_id].index,Z.p5toast.show({text:`${Z.lang.text.ChatRoom.SavingFile}: ${ve.content.filename}`}),("Android"==Nt.s1||"iOS"==Nt.s1)&&Z.noti.noti.schedule({id:8,title:`${Z.lang.text.ContentViewer.SavingFile}: ${O.content.filename}`,progressBar:{indeterminate:!0},sound:null,smallIcon:"res://diychat",color:"b0b0b0"});let Tt=[],sn=0;yield new Promise(function(){var _n=(0,v.c)(function*(ln){for(let kn=0,Kn=ve.content.partsize;kn<Kn;kn++)try{let Wn=yield Z.indexed.GetFileInfoFromDB(`${G}_part/${kn}.part`);sn+=Wn.contents.length,Tt[kn]=Wn}catch(Wn){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",Wn);break}try{let kn=new Int8Array(sn),Kn=0;for(let Wn=0,Gr=Tt.length;Wn<Gr;Wn++)kn.set(Tt[Wn].contents,Kn),Kn+=Tt[Wn].contents.length;yield Z.indexed.saveInt8ArrayToUserPath(kn,G);for(let Wn=0,Gr=ve.content.partsize;Wn<Gr;Wn++)Z.indexed.removeFileFromUserPath(`${G}_part/${Wn}.part`);yield Z.indexed.removeFileFromUserPath(`${G}_part`),Z.global.remove_req_file_info(ve,G),O.content.text=[Z.lang.text.ChatRoom.FileSaved]}catch(kn){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",kn)}ln(void 0)});return function(ln){return _n.apply(this,arguments)}}()),Z.noti.ClearNoti(8)}let ot;if(ve.content.path=G,"godot"!=ve.content.viewer){let Tt=yield Z.indexed.loadBlobFromUserPath(G,O.content.type||"");ot=URL.createObjectURL(Tt)}yield Z.global.modulate_thumbnail((Z.OnTransferMessage[ve.message_id]||O).content,ot),delete Z.OnTransfer[V][Q][ve.channel_id][ve.message_id],delete Z.OnTransferMessage[ve.message_id]}return Pe})()}sync_save_file(O,G,V,Q,de="",Z){var ve=this;return(0,v.c)(function*(){try{let Pe=JSON.parse(JSON.stringify(O));yield ve.indexed.saveBlobToUserPath(O.blob,Pe.path,void 0,Z);let ot=yield ve.global.req_file_info(Pe.path,Z);Pe.partsize=Math.ceil((Pe.filesize||ot.contents.length)/Be.KY),delete Pe.blob,yield ve.servers[G][V].client.writeStorageObjects(ve.servers[G][V].session,[{collection:Q,key:de||Pe.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),permission_read:2,permission_write:1,value:Pe}]);for(let Tt=0;Tt<Pe.partsize;Tt++){let sn=ve.global.req_file_part_base64(ot,Tt,Pe.path,Z);yield ve.servers[G][V].client.writeStorageObjects(ve.servers[G][V].session,[{collection:Q,key:de?`${de}_${Tt}`:Pe.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${Tt}`,permission_read:2,permission_write:1,value:{data:sn}}])}ve.indexed.removeFileFromUserPath(`${Pe.path}.history`,void 0,Z)}catch(Pe){console.log("SyncSaveFailed: ",Pe)}})()}sync_load_file(O,G,V,Q,de="",Z="",ve){var Pe=this;return(0,v.c)(function*(){let ot=JSON.parse(JSON.stringify(O));try{return yield Pe.indexed.loadBlobFromUserPath(ot.path,ot.type||"",void 0,ve)}catch{try{let _n=(yield Pe.servers[G][V].client.readStorageObjects(Pe.servers[G][V].session,{object_ids:[{collection:Q,key:Z||ot.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:de||Pe.servers[G][V].session.user_id}]})).objects[0].value;for(let ln=0;ln<_n.partsize;ln++){let kn=yield Pe.servers[G][V].client.readStorageObjects(Pe.servers[G][V].session,{object_ids:[{collection:Q,key:Z?`${Z}_${ln}`:_n.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${ln}`,user_id:de||Pe.servers[G][V].session.user_id}]});Pe.global.save_file_part(_n.path,ln,kn.objects[0].value.data,ve)}return yield Pe.indexed.loadBlobFromUserPath(_n.path,_n.type||"",void 0,ve)}catch{return null}}})()}sync_remove_file(O,G,V,Q,de="",Z){var ve=this;return(0,v.c)(function*(){try{yield ve.indexed.removeFileFromUserPath(O,void 0,Z);let ot=(yield ve.servers[G][V].client.readStorageObjects(ve.servers[G][V].session,{object_ids:[{collection:Q,key:O.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:de||ve.servers[G][V].session.user_id}]})).objects[0].value;try{ve.servers[G][V].client.rpc(ve.servers[G][V].session,"remove_channel_file",{collection:Q,key:ot.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+"_"})}catch{}yield ve.servers[G][V].client.deleteStorageObjects(ve.servers[G][V].session,{object_ids:[{collection:Q,key:ot.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)}]})}catch(Pe){console.log("SyncRemoveFailed: ",Pe)}})()}AddressToQRCodeAct(O,G=!1){var V=this;return(0,v.c)(function*(){let Q=[];if(O.open_profile&&Q.push({type:"open_profile"}),O.tmp_user){let de=O.tmp_user[0].split(",");V.users.self.email=de[0],V.users.self.password=de[1],V.users.self.display_name=de[2],V.users.self.online=!0,V.save_self_profile()}if(O.server)for(let de=0,Z=O.server.length;de<Z;de++){let ve=O.server[de].split(",");Q.push({type:"server",value:{name:ve[0]||"No named server",target:ve[0]||"No named server",address:ve[1]||"192.168.0.1",useSSL:ve[2]||!1,port:ve[3]||7350,key:ve[4]||"defaultkey",isOfficial:"unofficial"}})}if(O.group)for(let de=0,Z=O.group.length;de<Z;de++){let ve=O.group[de].split(",");Q.push({type:"group",name:ve[0],id:ve[1]})}if(O.group_dedi&&"http:"==window.location.protocol&&Q.push({type:"group_dedi",value:{address:`ws://${O.group_dedi[0]}`}}),O.open_prv_channel){let de=O.open_prv_channel[0].split(",");Q.push({type:"open_prv_channel",user_id:de[0],isOfficial:de[1]||"official",target:de[2]||"DevTestServer"})}if(O.open_channel){let de=O.open_channel[0].split(",");Q.push({type:"open_channel",group_id:de[0],isOfficial:de[1],target:de[2]})}if(O.rtcserver)for(let de=0,Z=O.rtcserver.length;de<Z;de++){let ve=O.rtcserver[de].split("]"),Pe=ve[0].split("[")[1],ot=ve[1].split(",");Q.push({type:"rtcserver",value:{urls:Pe.split(","),username:ot[1],credential:ot[2]}})}if(O.voidDraw)for(let de=0,Z=O.voidDraw.length;de<Z;de++){let Pe=O.voidDraw[de].split("]")[0].split("[")[1];Q.push({type:"voidDraw",addresses:Pe.split(",")})}if(G)return Q;yield V.act_from_QRInfo(Q)})()}act_from_QRInfo(O){var G=this;return(0,v.c)(function*(){G.removeBanner();for(let V=0,Q=O.length;V<Q;V++)switch(O[V].type){case"open_profile":G.nav.navigateForward("portal/settings/group-server"),G.removeBanner();break;case"tmp_user":break;case"server":if(G.statusBar.groupServer.unofficial[O[V].value.name])G.p5toast.show({text:`${G.lang.text.Nakama.AlreadyHaveTargetName}: ${O[V].value.name}`}),delete O[V].value.name,yield G.modalCtrl.create({component:ct.E,componentProps:{data:O[V].value}}).then(ve=>ve.present());else{let ve={name:decodeURIComponent(O[V].value.name),target:decodeURIComponent(O[V].value.target),address:decodeURIComponent(O[V].value.address),port:O[V].value.port,useSSL:O[V].value.useSSL,isOfficial:O[V].value.isOfficial,key:decodeURIComponent(O[V].value.key)};yield G.add_group_server(ve),G.init_session(ve)}break;case"group":G.AfterLoginActDone?yield G.try_add_group(O[V]):G.AfterLoginAct.push((0,v.c)(function*(){return yield G.try_add_group(O[V])}));break;case"open_prv_channel":if(G.AfterLoginActDone){let ve=yield G.join_chat_with_modulation(O[V].user_id,2,O[V].isOfficial,O[V].target,!0);G.go_to_chatroom_without_admob_act(ve)}else G.AfterLoginAct.push((0,v.c)(function*(){let ve=yield G.join_chat_with_modulation(O[V].user_id,2,O[V].isOfficial,O[V].target,!0);G.go_to_chatroom_without_admob_act(ve)}));break;case"open_channel":if(G.AfterLoginActDone){let ve=yield G.join_chat_with_modulation(O[V].group_id,3,O[V].isOfficial,O[V].target,!0);G.go_to_chatroom_without_admob_act(ve)}else G.AfterLoginAct.push((0,v.c)(function*(){let ve=yield G.join_chat_with_modulation(O[V].group_id,3,O[V].isOfficial,O[V].target,!0);G.go_to_chatroom_without_admob_act(ve)}));break;case"rtcserver":let Z=[];try{if(!G.lang.text.WebRTCDevManager.NoRegServer)throw"\ubc88\uc5ed \uc900\ube44 \uc548\ub428";let ve=yield G.indexed.loadTextFromUserPath("servers/webrtc_server.json");Z=JSON.parse(ve)}catch{}Z.push(O[V].value),yield G.indexed.saveTextFileToUserPath(JSON.stringify(Z),"servers/webrtc_server.json");break;case"voidDraw":G.AfterLoginActDone?G.modalCtrl.create({component:Ot.S,componentProps:{addresses:O[V].addresses},cssClass:"fullscreen"}).then(ve=>ve.present()):G.AfterLoginAct.push((0,v.c)(function*(){G.modalCtrl.create({component:Ot.S,componentProps:{addresses:O[V].addresses},cssClass:"fullscreen"}).then(ve=>ve.present())}));break;default:throw G.resumeBanner(),"\uc9c0\uc815\ub41c \ud2c0 \uc544\ub2d8"}})()}}return(ee=oe).\u0275fac=function(O){return new(O||ee)(Pt.CoB(zt.O),Pt.CoB(mn.Y),Pt.CoB(gn.k),Pt.CoB(bn.s),Pt.CoB(Cn.qS),Pt.CoB(Cn.iW),Pt.CoB(tr.o),Pt.CoB(Be.A1),Pt.CoB(nr.Y),Pt.CoB(Sn.wX),Pt.CoB(Pt.WW2),Pt.CoB(Cn.Kg),Pt.CoB(Sn.wX))},ee.\u0275prov=Pt.wxM({token:ee,factory:ee.\u0275fac,providedIn:"root"}),oe})()},4428:(fn,Lt,me)=>{"use strict";me.d(Lt,{y:()=>m});var v=me(1528),xe=me(9352),Ne=me(2272),r=me(4496),H=me(5624),C=me(9240),y=me(7136),_=me(4180),h=me(3824),f=me(4668),E=me(4500),w=me(5020),a=me(7756),l=me(1368);function d(p,b){if(1&p){const T=r.KQA();r.I0R(0,"td")(1,"ion-button",17),r.qCj("click",function(){r.usT(T);const k=r.GaO(2);return r.CGJ(k.notification_react(-5))}),r.OEk(2),r.C$Y()()}if(2&p){const T=r.GaO(2);r.yG2(2),r.oRS(" ",T.lang.text.OtherProfile.add_to_group," ")}}function u(p,b){if(1&p){const T=r.KQA();r.I0R(0,"td")(1,"ion-button",17),r.qCj("click",function(){r.usT(T);const k=r.GaO(2);return r.CGJ(k.notification_react(-2))}),r.OEk(2),r.C$Y()()}if(2&p){const T=r.GaO(2);r.yG2(2),r.oRS(" ",T.lang.text.OtherProfile.add_friend," ")}}function c(p,b){if(1&p){const T=r.KQA();r.I0R(0,"td")(1,"ion-button",18),r.qCj("click",function(){r.usT(T);const k=r.GaO(2);return r.CGJ(k.kick_user_from_group())}),r.OEk(2),r.C$Y()()}if(2&p){const T=r.GaO(2);r.yG2(2),r.oRS(" ",T.lang.text.OtherProfile.kick_from_group," ")}}function s(p,b){if(1&p){const T=r.KQA();r.I0R(0,"tr")(1,"td")(2,"div",14)(3,"table",15)(4,"tr"),r.yuY(5,d,3,1,"td",13)(6,u,3,1,"td",13),r.I0R(7,"td")(8,"ion-button",16),r.qCj("click",function(){r.usT(T);const k=r.GaO();return r.CGJ(k.create_chat())}),r.OEk(9),r.C$Y()(),r.yuY(10,c,3,1,"td",13),r.C$Y()()()()()}if(2&p){const T=r.GaO();r.yG2(5),r.E7m("ngIf",T.has_admin&&T.additional_buttons[-5]),r.yG2(),r.E7m("ngIf",T.additional_buttons[-2]),r.yG2(2),r.E7m("disabled",T.lock_create_chat),r.yG2(),r.oRS(" ",T.lang.text.OtherProfile.privacy_chat," "),r.yG2(),r.E7m("ngIf",T.has_admin)}}let m=(()=>{var p;class b{constructor(F,k,A,P,$,j,N,I,B,z){this.modalCtrl=F,this.navParams=k,this.nakama=A,this.statusBar=P,this.p5toast=$,this.indexed=j,this.lang=N,this.global=I,this.loadingCtrl=B,this.mClipboard=z,this.info={},this.group_info={},this.additional_buttons={},this.has_admin=!1,this.user_content_id="",this.onDismissData={},this.lock_create_chat=!1}ngOnInit(){var F=this;return(0,v.c)(function*(){F.nakama.removeBanner(),F.info=F.navParams.get("info"),F.has_admin=F.navParams.get("has_admin"),F.group_info=F.navParams.get("group"),F.isOfficial=F.group_info.server.isOfficial,F.target=F.group_info.server.target,F.user_content_id=`user_content_${F.info.user.id}`,F.nakama.load_other_user(F.info.user.id,F.isOfficial,F.target),F.nakama.socket_reactive["others-profile"]=A=>{F.change_img_smoothly(A)},F.nakama.socket_reactive["others-online"]=()=>{F.p5canvas.loop()},F.nakama.socket_reactive.other_user_content_update=()=>{F.update_content_from_server()},setTimeout((0,v.c)(function*(){(yield F.indexed.checkIfFileExist(`servers/${F.isOfficial}/${F.target}/users/${F.info.user.id}/content.pck`))&&(yield F.global.CreateGodotIFrame(F.user_content_id,{ext:"pck",path:`servers/${F.isOfficial}/${F.target}/users/${F.info.user.id}/content.pck`}))}),150),F.catch_user_noties(),F.p5canvas=new xe(A=>{let P=document.getElementById("other_profile_img"),$=document.getElementById("profile_tmp_img");A.setup=()=>{A.noCanvas()},A.draw=()=>{F.info.user.online?F.lerpVal<1?F.lerpVal+=.025:(F.lerpVal=1,A.noLoop()):F.lerpVal>0?F.lerpVal-=.025:(F.lerpVal=0,A.noLoop()),P.setAttribute("style",`filter: grayscale(${A.lerp(.9,0,F.lerpVal)}) contrast(${A.lerp(1.4,1,F.lerpVal)});`),$.setAttribute("style",`filter: grayscale(${A.lerp(.9,0,F.lerpVal)}) contrast(${A.lerp(1.4,1,F.lerpVal)});`)}})})()}update_content_from_server(){var F=this;return(0,v.c)(function*(){F.global.godot.remove();let k=yield F.loadingCtrl.create({message:F.lang.text.TodoDetail.WIP});k.present();let P,A=F.nakama.servers[F.isOfficial][F.target];try{P=(yield A.client.readStorageObjects(A.session,{object_ids:[{collection:"user_public",key:"main_content",user_id:F.info.user.id}]})).objects[0].value;let j="";for(let N=0,I=P.partsize;N<I;N++)j+=(yield A.client.readStorageObjects(A.session,{object_ids:[{collection:"user_public",key:`main_content_${N}`,user_id:F.info.user.id}]})).objects[N].value.data;yield F.indexed.saveBase64ToUserPath(j.replace(/"|=|\\/g,""),`servers/${F.isOfficial}/${F.target}/users/${F.info.user.id}/content.pck`),yield F.global.CreateGodotIFrame(F.user_content_id,{ext:"pck",path:`servers/${F.isOfficial}/${F.target}/users/${F.info.user.id}/content.pck`})}catch{yield F.indexed.removeFileFromUserPath(`servers/${F.isOfficial}/${F.target}/users/${F.info.user.id}/content.pck`),F.global.godot.remove()}k.dismiss()})()}catch_user_noties(){this.nakama.noti_origin[this.isOfficial]&&this.nakama.noti_origin[this.isOfficial][this.target]&&Object.keys(this.nakama.noti_origin[this.isOfficial][this.target]).forEach(A=>{this.nakama.noti_origin[this.isOfficial][this.target][A].sender_id==this.info.user.id&&(this.additional_buttons[this.nakama.noti_origin[this.isOfficial][this.target][A].code.toString()]=A)})}change_img_smoothly(F){let k=setInterval(()=>{},110);setTimeout(()=>{clearInterval(k)},1500),new xe(A=>{let P=document.getElementById("profile_tmp_img"),j=0;A.setup=()=>{A.noCanvas(),P.setAttribute("style",`filter: grayscale(${A.lerp(.9,0,this.lerpVal)}) contrast(${A.lerp(1.4,1,this.lerpVal)}) opacity(${j})`),this.tmp_img=F},A.draw=()=>{j<1?j+=.035:(j=1,this.info.user.img=this.tmp_img,this.indexed.saveTextFileToUserPath(this.info.user.img,`servers/${this.isOfficial}/${this.target}/users/${this.info.user.id}/profile.img`),this.tmp_img="",A.remove()),P.setAttribute("style",`filter: grayscale(${A.lerp(.9,0,this.lerpVal)}) contrast(${A.lerp(1.4,1,this.lerpVal)}) opacity(${j})`)}})}notification_react(F){switch(F){case 0:case-1:case-2:break;case-5:this.nakama.servers[this.isOfficial][this.target].client.addGroupUsers(this.nakama.servers[this.isOfficial][this.target].session,this.group_info.group_id||this.group_info.id,[this.info.user.id]).then(k=>{k||console.warn("\ubc34 \uc720\uc800\uc5d0 \ub300\ud55c\uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),this.p5toast.show({text:`${this.lang.text.OtherProfile.added_to_group}: ${this.info.user.display_name||this.lang.text.Profile.noname_user}`}),this.nakama.servers[this.isOfficial][this.target].client.deleteNotifications(this.nakama.servers[this.isOfficial][this.target].session,[this.additional_buttons[F.toString()]]).then(A=>{A||console.warn("\uc54c\ub9bc \ubd80\uc815 \uac80\ud1a0 \ud544\uc694"),delete this.additional_buttons[F.toString()],this.nakama.update_notifications(this.isOfficial,this.target),this.onDismissData={id:this.info.user.id,act:"accept_join"},this.info.status="online",this.p5canvas.loop()})});break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ubc18\uc751: ",F)}}create_chat(){var F=this;return(0,v.c)(function*(){if(!F.lock_create_chat){F.lock_create_chat=!0;try{let k=yield F.nakama.join_chat_with_modulation(F.info.user.id,2,F.isOfficial,F.target,!0);F.nakama.go_to_chatroom_without_admob_act(k),F.lock_create_chat=!1,F.modalCtrl.dismiss({dismiss:!0})}catch(k){F.lock_create_chat=!1,console.error(k)}}})()}kick_user_from_group(){switch(this.info.state){case 0:case 1:case 2:this.after_announce_kick();break;case 3:this.nakama.servers[this.isOfficial][this.target].client.deleteNotifications(this.nakama.servers[this.isOfficial][this.target].session,[this.additional_buttons[-5]]).then(F=>{F||console.warn("\uc54c\ub9bc \ubd80\uc815 \uac80\ud1a0 \ud544\uc694"),this.after_announce_kick(),delete this.additional_buttons[-5],this.nakama.update_notifications(this.isOfficial,this.target),this.info.status="missing",this.p5canvas.loop()});break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uc0c1\ud0dc: ",this.info)}}after_announce_kick(){this.nakama.servers[this.isOfficial][this.target].client.kickGroupUsers(this.nakama.servers[this.isOfficial][this.target].session,this.group_info.group_id||this.group_info.id,[this.info.user.id]).then(F=>{this.p5toast.show({text:`${this.lang.text.OtherProfile.kicked_from_group}: ${this.info.user.display_name||this.lang.text.Profile.noname_user}`}),this.modalCtrl.dismiss({id:this.info.user.id,act:"kick"})})}copy_id(){this.mClipboard.copy(this.info.user.id).catch(F=>Ne.c.write(this.info.user.id))}focus_on_content(){console.warn("\ucf58\ud150\uce20 \uc790\uc138\ud788\ubcf4\uae30 \uae30\ub2a5 \uc900\ube44\uc911")}ionViewDidLeave(){delete this.nakama.socket_reactive["others-profile"],delete this.nakama.socket_reactive["others-online"],delete this.nakama.socket_reactive.other_user_content_update,this.p5canvas.remove()}}return(p=b).\u0275fac=function(F){return new(F||p)(r.GI1(H.qS),r.GI1(C.a6),r.GI1(y.h),r.GI1(_.Y),r.GI1(h.O),r.GI1(f.k),r.GI1(E.o),r.GI1(w.A1),r.GI1(H.Kg),r.GI1(a._))},p.\u0275cmp=r.In1({type:p,selectors:[["app-others-profile"]],decls:20,vars:8,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],[2,"width","100%","height","100%"],[2,"height","100%"],[2,"vertical-align","top"],[1,"profile_img_form"],["id","other_profile_img","alt","Profile_Image",1,"profile_img",3,"hidden","src"],["id","profile_tmp_img","alt","Profile_Image",1,"profile_img",3,"hidden","src"],[1,"fore-gradient"],[1,"username"],[3,"click"],["text-wrap","","color","medium",1,"ion-text-center"],[4,"ngIf"],[2,"width","100%"],["id","input_table",2,"width","100%","background-color","black"],["expand","block",3,"disabled","click"],["expand","block",3,"click"],["color","danger","expand","block",3,"click"]],template:function(F,k){1&F&&(r.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),r.OEk(3),r.C$Y(),r.I0R(4,"ion-buttons",1),r.qCj("click",function(){return k.modalCtrl.dismiss(k.onDismissData)}),r.wR5(5,"ion-back-button",2),r.C$Y()()(),r.I0R(6,"ion-content")(7,"table",3)(8,"tr",4)(9,"td",5)(10,"div",6),r.wR5(11,"img",7)(12,"img",8)(13,"div",9),r.I0R(14,"div",10),r.OEk(15),r.C$Y()(),r.I0R(16,"ion-item",11),r.qCj("click",function(){return k.copy_id()}),r.I0R(17,"ion-label",12),r.OEk(18),r.C$Y()()()(),r.yuY(19,s,11,5,"tr",13),r.C$Y()()),2&F&&(r.yG2(3),r.cNF(k.lang.text.OtherProfile.Title),r.yG2(8),r.E7m("hidden",!k.info.user.img)("src",k.info.user.img,r.K6U),r.yG2(),r.E7m("hidden",!k.tmp_img)("src",k.tmp_img,r.K6U),r.yG2(3),r.cNF(k.info.user.display_name||k.lang.text.Profile.noname_user),r.yG2(3),r.cNF(k.info.user.id),r.yG2(),r.E7m("ngIf","online"==k.statusBar.groupServer[k.isOfficial][k.target]))},dependencies:[l.u_,H.sn,H.GS,H._i,H.wB,H.Yb,H.QR,H.tM,H.Md,H.Im],styles:[".fore-gradient[_ngcontent-%COMP%]{position:relative;background-image:linear-gradient(to top,#000,#0000);width:100%;height:100%}.content_size[_ngcontent-%COMP%]{height:360px}"]}),b})()},3824:(fn,Lt,me)=>{"use strict";me.d(Lt,{O:()=>r});var v=me(9352),rt=me(4496),Ne=function(H){return H[H.Idle=0]="Idle",H[H.DivFadeIn=1]="DivFadeIn",H[H.BorderAlert=2]="BorderAlert",H[H.Reading=3]="Reading",H[H.FadeOut=4]="FadeOut",H}(Ne||{});let r=(()=>{var H;class C{constructor(){this.isShowing=!1,this.stack=[],this.alert=[],this.status=Ne.Idle}show(_){let h;_.time=(new Date).getTime(),_.lateable||(this.AlertNow=_,this.status=Ne.DivFadeIn),this.alert.length&&(h=this.alert[this.alert.length-1]),this.AlertNow&&this.AlertNow.text==_.text?this.status=Ne.DivFadeIn:h&&h.text==_.text||this.alert.push(_),this.isShowing?this.status==Ne.FadeOut&&(this.status=Ne.DivFadeIn):(this.CurrentToast=new v(E=>{let w,a,l,d=0,u=0,c=0;E.setup=()=>{E.noCanvas(),w=E.createDiv(),w.style("position: absolute; left: 0; top: 0; z-index: 1"),w.style("width: 100%; height: fit-content"),w.style("padding: 32px;"),w.style("display: flex; justify-content: center;"),w.style("pointer-events: none"),s(),l=E.createDiv(),l.parent(w),l.style("display: flex; justify-content: center;"),l.style("width: fit-content; height: fit-content"),l.style("border-radius: 24px"),l.style("background: #44a6fa88"),l.style("padding: 4px"),a=E.createDiv(),a.parent(l),a.style("display: flex; justify-content: center;"),a.style("width: fit-content; height: fit-content"),a.style("word-break: break-all"),a.style("background: #44a6fa88"),a.style("border-radius: 20px"),a.style("padding: 12px"),a.style("color: white"),this.AlertNow||(this.AlertNow=this.alert.shift()),a.html(this.AlertNow.text),m(),this.status=Ne.DivFadeIn},E.draw=()=>{switch(this.status){case Ne.DivFadeIn:d<1?d+=1:(d=1,u=1,this.status=Ne.BorderAlert,a.html(this.AlertNow.text));break;case Ne.BorderAlert:if(u>0)u-=.03;else{let b;u=0,b=this.AlertNow.duration?1e3*this.AlertNow.duration:24*(new TextEncoder).encode(this.AlertNow.text).length,c=E.millis()+b+960,this.status=Ne.Reading}break;case Ne.Reading:E.millis()>c&&(this.alert.length?(this.stack.push(this.AlertNow),this.AlertNow=this.alert.shift(),a.html(this.AlertNow.text),this.status=Ne.DivFadeIn):this.status=Ne.FadeOut);break;case Ne.FadeOut:d>0?d-=.04:p()}s(),m()};let s=()=>{w.style(`opacity: ${d}`)},m=()=>{let b=E.lerpColor(E.color("#44a6fabb"),E.color("#ffd94ebb"),u).levels;l.style(`padding: ${4*u}px`),a.style(`padding: ${E.lerp(16,12,u)}px`),a.style(`border-radius: ${E.lerp(24,20,u)}px`),l.style(`background: rgba(${b[0]}, ${b[1]}, ${b[2]}, ${b[3]/255})`)},p=()=>{this.stack=[...this.stack,this.AlertNow,...this.alert],this.AlertNow=void 0,this.alert.length=0,this.isShowing=!1,this.CurrentToast.remove()}}),this.isShowing=!0)}hide(){this.status=Ne.FadeOut}}return(H=C).\u0275fac=function(_){return new(_||H)},H.\u0275prov=rt.wxM({token:H,factory:H.\u0275fac,providedIn:"root"}),C})()},6756:(fn,Lt,me)=>{"use strict";me.d(Lt,{q:()=>P});var v=me(1528),xe=me(4428),rt=me(340),Ne=me(2272),r=me(5193),H=me(4496),C=me(9240),y=me(5624),_=me(7136),h=me(4180),f=me(4668),E=me(4500),w=me(5020),a=me(3824),l=me(7756),d=me(1368),u=me(4716);function c($,j){if(1&$){const N=H.KQA();H.I0R(0,"img",22),H.qCj("click",function(){H.usT(N);const B=H.GaO(2);return H.CGJ(B.copy_startup_address())}),H.C$Y()}if(2&$){const N=H.GaO(2);H.E7m("src",N.QRCodeSRC,H.K6U)}}function s($,j){if(1&$&&(H.I0R(0,"div")(1,"ion-item-divider")(2,"ion-label"),H.OEk(3),H.C$Y()(),H.yuY(4,c,1,1,"img",21),H.C$Y()),2&$){const N=H.GaO();H.yG2(3),H.cNF(N.lang.text.GroupDetail.invite_scan_below),H.yG2(),H.E7m("ngIf",N.QRCodeSRC)}}function m($,j){if(1&$&&(H.I0R(0,"ion-item",23)(1,"ion-label",24),H.OEk(2),H.C$Y()()),2&$){const N=H.GaO();H.yG2(2),H.cNF(N.lang.text.GroupDetail.NotAcceptYet)}}function p($,j){if(1&$&&(H.I0R(0,"ion-item",23)(1,"ion-label",24),H.OEk(2),H.C$Y()()),2&$){const N=H.GaO();H.yG2(2),H.cNF(N.lang.text.GroupDetail.MissedGroup)}}function b($,j){if(1&$){const N=H.KQA();H.I0R(0,"ion-item",25),H.qCj("click",function(){H.usT(N);const B=H.GaO();return H.CGJ(B.imageURLPasted())}),H.I0R(1,"ion-label",26),H.OEk(2),H.C$Y()()}if(2&$){const N=H.GaO();H.E7m("disabled",N.imageURL_disabled),H.yG2(2),H.cNF(N.imageURL_placeholder)}}function T($,j){if(1&$&&(H.I0R(0,"ion-item-divider")(1,"ion-label"),H.OEk(2),H.C$Y()()),2&$){const N=H.GaO();H.yG2(2),H.oRS("",N.lang.text.GroupDetail.Members+" ("+N.info.users.length+"/"+N.info.max_count+")"," ")}}function F($,j){if(1&$){const N=H.KQA();H.I0R(0,"ion-item",7),H.qCj("click",function(){const z=H.usT(N).$implicit,W=H.GaO();return H.CGJ(W.open_user_profile(z))}),H.wR5(1,"div",8),H.I0R(2,"div",9),H.wR5(3,"img",10),H.C$Y(),H.I0R(4,"ion-label",11),H.OEk(5),H.C$Y()()}if(2&$){const N=j.$implicit,I=H.GaO();H.yG2(),H.m_g("background-color: "+I.statusBar.colors[N.user.online?"online":"offline"]),H.yG2(2),H.m_g("filter: "+(N.user.online?"grayscale(0) contrast(1);":"grayscale(.9) contrast(1.4);")),H.E7m("src",N.user.img,H.K6U),H.yG2(2),H.cNF(N.user.display_name||I.lang.text.Profile.noname_user)}}function k($,j){if(1&$){const N=H.KQA();H.I0R(0,"ion-item",7),H.qCj("click",function(){H.usT(N);const B=H.GaO();return H.CGJ(B.remove_group())}),H.I0R(1,"ion-label",27),H.OEk(2),H.C$Y()()}if(2&$){const N=H.GaO();H.yG2(2),H.cNF(N.lang.text.GroupDetail.BreakupGroup)}}function A($,j){if(1&$){const N=H.KQA();H.I0R(0,"ion-item",7),H.qCj("click",function(){H.usT(N);const B=H.GaO();return H.CGJ(B.leave_group())}),H.I0R(1,"ion-label",27),H.OEk(2),H.C$Y()()}if(2&$){const N=H.GaO();H.yG2(2),H.cNF(N.lang.text.GroupDetail.LeaveGroup)}}let P=(()=>{var $;class j{constructor(I,B,z,W,ne,J,q,ae,fe){this.navParams=I,this.nakama=B,this.modalCtrl=z,this.statusBar=W,this.indexed=ne,this.lang=J,this.global=q,this.p5toast=ae,this.mClipboard=fe,this.has_admin=!1,this.file_sel_id="",this.imageURL_disabled=!1,this.imageURL_placeholder=this.lang.text.Profile.pasteURI,this.need_edit=!1,this.lock_modal_open=!1}ngOnInit(){var I=this;return(0,v.c)(function*(){I.info=I.navParams.get("info"),I.file_sel_id=`group_detail_${I.info.id}_${(new Date).getTime()}}`,I.info_orig=JSON.parse(JSON.stringify(I.navParams.get("info"))),I.nakama.socket_reactive.group_detail=I,I.QRCodeSRC=I.global.readasQRCodeFromString(`${r.uM}pjcone_pwa/?group=${I.info.name},${I.info.id}`),I.info.server||(I.info.server=I.navParams.get("server")),I.isOfficial=I.info.server.isOfficial,I.target=I.info.server.target;try{I.has_admin=I.info.creator_id==I.nakama.servers[I.isOfficial][I.target].session.user_id}catch(B){console.log("check is admin failed: ",B),I.has_admin=!1}if(I.info.users&&I.info.users.length)for(let B=0,z=I.info.users.length;B<z;B++)I.info.users[B].is_me?(I.info.users[B].user=I.nakama.users.self,I.indexed.loadTextFromUserPath("servers/self/profile.img",(W,ne)=>{W&&ne&&(I.nakama.users.self.img=ne.replace(/"|\\|=/g,""))})):I.info.users[B].user.id?I.info.users[B].user=I.nakama.load_other_user(I.info.users[B].user.id,I.isOfficial,I.target):I.info.users.splice(B,1);try{I.nakama.servers[I.isOfficial][I.target].client.readStorageObjects(I.nakama.servers[I.isOfficial][I.target].session,{object_ids:[{collection:"group_public",key:`group_${I.info.id}`,user_id:I.info.creator_id}]}).then(B=>{B.objects.length?(I.nakama.groups[I.isOfficial][I.target][I.info.id].img=B.objects[0].value.img.replace(/"|=|\\/g,""),I.indexed.saveTextFileToUserPath(B.objects[0].value.img,`servers/${I.isOfficial}/${I.target}/groups/${I.info.id}.img`)):(delete I.nakama.groups[I.isOfficial][I.target][I.info.id].img,I.indexed.removeFileFromUserPath(`servers/${I.isOfficial}/${I.target}/groups/${I.info.id}.img`))})}catch(B){console.log(B)}})()}ionViewWillEnter(){this.nakama.removeBanner()}update_from_notification(I){switch(I.code){case-4:case-5:this.update_GroupUsersList(I.server.isOfficial,I.server.target);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",I)}}update_GroupUsersList(I,B){this.nakama.servers[I][B].client.listGroupUsers(this.nakama.servers[I][B].session,this.info.id).then(z=>{let W=[];for(let ne=0,J=z.group_users.length;ne<J;ne++)if(z.group_users[ne].user.id==this.nakama.servers[I][B].session.user_id)W.push({state:z.group_users[ne].state,user:this.nakama.users.self});else{let q=this.nakama.load_other_user(z.group_users[ne].user.id,I,B);this.nakama.save_other_user(z.group_users[ne].user,I,B),W.push({state:z.group_users[ne].state,user:q})}this.info.users=W})}buttonClickInputFile(){this.has_admin&&document.getElementById(this.file_sel_id).click()}inputImageSelected(I){var B=this;return(0,v.c)(function*(){let z=yield B.global.GetBase64ThroughFileReader(I.target.files[0]);B.nakama.limit_image_size(z,W=>{B.info.img=W.canvas.toDataURL(),B.announce_update_group_image(B.info.img)})})()}announce_update_group_image(I){this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.writeStorageObjects(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,[{collection:"group_public",key:`group_${this.info.id}`,value:{img:I},permission_read:2,permission_write:1}]).then(B=>{this.indexed.saveTextFileToUserPath(JSON.stringify(I),`servers/${this.info.server.isOfficial}/${this.info.server.target}/groups/${this.info.id}.img`)})}imageURLPasted(){this.imageURL_disabled=!0,"DesktopPWA"==r.s1||"MobilePWA"==r.s1?Ne.c.read().then(I=>{this.check_if_clipboard_available(I)}):this.mClipboard.paste().then(I=>{this.check_if_clipboard_available(I)},I=>{console.log("\ud074\ub9bd\ubcf4\ub4dc \uc790\ub8cc\ubc1b\uae30 \uc624\ub958: ",I)}),setTimeout(()=>{this.imageURL_disabled=!1},1500)}check_if_clipboard_available(I){0==I.indexOf("http")?(this.info.img=I,this.imageURL_placeholder=I,this.announce_update_group_image(I)):0==I.indexOf("data:image")?this.nakama.limit_image_size(I,B=>{this.info.img=B.canvas.toDataURL(),this.announce_update_group_image(this.info.img)}):this.p5toast.show({text:this.lang.text.Profile.copyURIFirst})}remove_group(){this.need_edit=!1;try{if(this.nakama.servers[this.info.server.isOfficial][this.info.server.target]){if(this.info.creator_id!=this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session.user_id)throw this.lang.text.GroupDetail.YouAreNotCreator;"online"==this.info.status?this.nakama.servers[this.info.server.isOfficial][this.info.server.target].socket.writeChatMessage(this.info.channel_id,{gupdate:"remove"}).then(I=>{this.after_remove_group()}):this.after_remove_group()}else this.nakama.remove_group_list(this.info,this.info.server.isOfficial,this.info.server.target),this.modalCtrl.dismiss({remove:!0})}catch(I){console.log("remove_group: ",I),this.p5toast.show({text:I})}}after_remove_group(){this.leave_channel(),this.nakama.remove_group_list(this.info,this.info.server.isOfficial,this.info.server.target),this.modalCtrl.dismiss({remove:!0})}edit_group(){"online"==this.statusBar.groupServer[this.info.server.isOfficial][this.info.server.target]&&"missing"!=this.info.status&&this.has_admin&&this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.updateGroup(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,this.info.id,{name:this.info.name,lang_tag:this.info.lang_tag,description:this.info.description,open:this.info.open}),this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id]=this.info,this.nakama.save_groups_with_less_info()}open_user_profile(I){this.lock_modal_open||(this.lock_modal_open=!0,I.is_me?this.modalCtrl.create({component:rt.w,componentProps:{isOfficial:this.info.server.isOfficial,target:this.info.server.target}}).then(B=>{B.present(),this.lock_modal_open=!1}):this.modalCtrl.create({component:xe.y,componentProps:{info:I,group:this.info,has_admin:this.has_admin}}).then(B=>{B.onDidDismiss().then(z=>{if(z.data){if(z.data.id)for(let W=0,ne=this.info.users.length;W<ne;W++)if(this.info.users[W].user.id==z.data.id){switch(z.data.act){case"accept_join":this.info.users[W].status="online";break;case"kick":this.info.users.splice(W,1);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc0c1\ub300\ubc29 \uc815\ubcf4: ",z)}break}z.data.dismiss&&this.modalCtrl.dismiss()}}),B.present(),this.lock_modal_open=!1}))}leave_group(){this.need_edit=!1,"online"==this.info.status?this.after_leave_group(()=>{this.leave_channel(),this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id].status="missing",this.nakama.save_groups_with_less_info(()=>this.modalCtrl.dismiss({leave:!0}))}):"pending"==this.info.status&&this.after_leave_group(()=>{this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id].status="missing",this.nakama.save_groups_with_less_info(()=>this.modalCtrl.dismiss({leave:!0}))})}after_leave_group(I=(()=>console.warn("after_leave_group_announce Func Null"))){this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.leaveGroup(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,this.info.id).then(B=>{B&&I(),this.nakama.remove_channel_files(this.info.server.isOfficial,this.info.server.target,this.info.channel_id)})}leave_channel(){this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target]&&this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id]&&"missing"!=this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].status&&(delete this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].img,this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].status="missing",delete this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].info),this.nakama.save_channels_with_less_info()}copy_id(){this.mClipboard.copy(this.info.id).catch(I=>Ne.c.write(this.info.id))}copy_startup_address(){let I=`https://is2you2.github.io/pjcone_pwa/?group=${this.info.name},${this.info.id}`;this.mClipboard.copy(I).catch(B=>Ne.c.write(I))}ionViewWillLeave(){delete this.nakama.socket_reactive.group_detail,this.need_edit=this.info.description!=this.info_orig.description,this.need_edit&&this.edit_group()}}return($=j).\u0275fac=function(I){return new(I||$)(H.GI1(C.a6),H.GI1(_.h),H.GI1(y.qS),H.GI1(h.Y),H.GI1(f.k),H.GI1(E.o),H.GI1(w.A1),H.GI1(a.O),H.GI1(l._))},$.\u0275cmp=H.In1({type:$,selectors:[["app-group-detail"]],decls:40,vars:25,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],[4,"ngIf"],["color","warning",4,"ngIf"],[3,"click"],["text-wrap","","color","medium",1,"ion-text-center"],["button","",3,"click"],[1,"additional_form","status_bar_single"],[1,"additional_form","bg_img_form"],[1,"profile_img",3,"src"],[1,"form_margin"],[1,"server_target"],[1,"form_margin","content"],[3,"disabled","click",4,"ngIf"],["hidden","","type","file","accept","image/*",3,"id","change"],[1,"infobox",3,"disabled","ngModel","placeholder","ngModelChange"],[2,"pointer-events","none"],[2,"pointer-events","none",3,"ngModel","ngModelChange"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click",4,"ngIf"],["style","width: 100%; height: auto;","alt","Loading",3,"src","click",4,"ngIf"],["alt","Loading",2,"width","100%","height","auto",3,"src","click"],["color","warning"],[1,"ion-text-center"],[3,"disabled","click"],["color","medium"],["color","danger",1,"ion-text-center"]],template:function(I,B){1&I&&(H.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),H.OEk(3),H.C$Y(),H.I0R(4,"ion-buttons",1),H.qCj("click",function(){return B.modalCtrl.dismiss()}),H.wR5(5,"ion-back-button",2),H.C$Y()()(),H.I0R(6,"ion-content"),H.yuY(7,s,5,2,"div",3)(8,m,3,1,"ion-item",4)(9,p,3,1,"ion-item",4),H.I0R(10,"ion-item",5),H.qCj("click",function(){return B.copy_id()}),H.I0R(11,"ion-label",6),H.OEk(12),H.C$Y()(),H.I0R(13,"ion-item",7),H.qCj("click",function(){return B.buttonClickInputFile()}),H.wR5(14,"div",8),H.I0R(15,"div",9),H.wR5(16,"img",10),H.C$Y(),H.I0R(17,"ion-label",11)(18,"div")(19,"table")(20,"tr")(21,"td"),H.OEk(22),H.C$Y(),H.I0R(23,"td",12),H.OEk(24),H.C$Y()()()(),H.I0R(25,"div",13),H.OEk(26),H.C$Y()()(),H.yuY(27,b,3,2,"ion-item",14),H.I0R(28,"input",15),H.qCj("change",function(W){return B.inputImageSelected(W)}),H.C$Y(),H.I0R(29,"ion-item-divider")(30,"ion-label"),H.OEk(31),H.C$Y()(),H.I0R(32,"textarea",16),H.iHE("ngModelChange",function(W){return H.kNx(B.info.description,W)||(B.info.description=W),W}),H.C$Y(),H.I0R(33,"ion-item",17)(34,"ion-toggle",18),H.iHE("ngModelChange",function(W){return H.kNx(B.info.open,W)||(B.info.open=W),W}),H.OEk(35),H.C$Y()(),H.yuY(36,T,3,1,"ion-item-divider",3)(37,F,6,6,"ion-item",19)(38,k,3,1,"ion-item",20)(39,A,3,1,"ion-item",20),H.C$Y()),2&I&&(H.yG2(3),H.cNF(B.lang.text.GroupDetail.Title),H.yG2(4),H.E7m("ngIf","missing"!=B.info.status),H.yG2(),H.E7m("ngIf","pending"==B.info.status),H.yG2(),H.E7m("ngIf","missing"==B.info.status),H.yG2(3),H.cNF(B.info.id),H.yG2(2),H.m_g("background-color: "+B.statusBar.colors[B.info.status||"offline"]),H.yG2(2),H.m_g("filter: "+("online"==B.info.status?"grayscale(0) contrast(1);":"grayscale(.9) contrast(1.4);")),H.E7m("src",B.info.img,H.K6U),H.yG2(6),H.oRS(" ",B.info.name||B.info.title||B.info.display_name," "),H.yG2(2),H.oRS(" ","("+(B.info.server.name||B.info.server.target)+")"," "),H.yG2(2),H.oRS(" ",B.lang.text.AddGroup.ClicktoChangeGroupImg," "),H.yG2(),H.E7m("ngIf",B.has_admin),H.yG2(),H.E7m("id",B.file_sel_id),H.yG2(3),H.cNF(B.lang.text.AddGroup.GroupDetail_placeholder),H.yG2(),H.E7m("disabled",!B.has_admin),H.OKB("ngModel",B.info.description),H.E7m("placeholder",B.lang.text.GroupDetail.NoDetailGroup),H.yG2(2),H.OKB("ngModel",B.info.open),H.yG2(),H.cNF(B.lang.text.GroupDetail.IsOpen),H.yG2(),H.E7m("ngIf",B.info.users&&B.info.users.length),H.yG2(),H.E7m("ngForOf",B.info.users),H.yG2(),H.E7m("ngIf",("online"==B.info.status||"pending"==B.info.status)&&B.has_admin),H.yG2(),H.E7m("ngIf",("online"==B.info.status||"pending"==B.info.status)&&!B.has_admin))},dependencies:[d.ay,d.u_,u.ot,u.ue,u._G,y.GS,y._i,y.wB,y.Yb,y.S8,y.QR,y.tM,y.E$,y.Md,y.UJ,y.Im],styles:[".content[_ngcontent-%COMP%]{color:#888;height:24px;display:table-cell;vertical-align:middle}.server_target[_ngcontent-%COMP%]{color:#888;padding-left:4px}"]}),j})()},340:(fn,Lt,me)=>{"use strict";me.d(Lt,{w:()=>$});var v=me(1528),xe=me(7136),rt=me(2272),Ne=me(5193),r=me(9352),C=me(4496),y=me(3824),_=me(4180),h=me(4668),f=me(4500),E=me(5624),w=me(9240),a=me(5020),l=me(7756),d=me(1368),u=me(4716);const c=["ToggleOnline"],s=["ServersList"],m=["RegisterNewServer"];function p(j,N){if(1&j){const I=C.KQA();C.I0R(0,"div")(1,"ion-item-divider")(2,"ion-label"),C.OEk(3),C.C$Y()(),C.I0R(4,"ion-item")(5,"ion-input",25),C.iHE("ngModelChange",function(z){C.usT(I);const W=C.GaO();return C.kNx(W.nakama.users.self.email,z)||(W.nakama.users.self.email=z),C.CGJ(z)}),C.qCj("ionChange",function(){C.usT(I);const z=C.GaO();return C.CGJ(z.email_modified())}),C.C$Y()(),C.I0R(6,"ion-item")(7,"ion-input",26),C.iHE("ngModelChange",function(z){C.usT(I);const W=C.GaO();return C.kNx(W.nakama.users.self.password,z)||(W.nakama.users.self.password=z),C.CGJ(z)}),C.C$Y()()()}if(2&j){const I=C.GaO();C.yG2(3),C.cNF(I.lang.text.Profile.login_info),C.yG2(2),C.E7m("label",I.lang.text.Profile.email_address),C.OKB("ngModel",I.nakama.users.self.email),C.E7m("placeholder","test@example.com"),C.yG2(2),C.E7m("label",I.lang.text.Profile.password),C.OKB("ngModel",I.nakama.users.self.password),C.E7m("placeholder",I.lang.text.Profile.at_least)}}function b(j,N){if(1&j&&(C.I0R(0,"p"),C.OEk(1),C.C$Y()),2&j){const I=C.GaO().$implicit;C.yG2(),C.cNF(I.address)}}function T(j,N){if(1&j){const I=C.KQA();C.I0R(0,"ion-button",30),C.qCj("click",function(){C.usT(I);const z=C.GaO().$implicit,W=C.GaO();return C.CGJ(W.remove_server(z.isOfficial,z.target))}),C.OEk(1),C.C$Y()}if(2&j){const I=C.GaO().$implicit,B=C.GaO();C.yG2(),C.oRS(" ","online"==B.statusBar.groupServer[I.isOfficial][I.target]?B.lang.text.GroupServer.RemoveAccount:B.lang.text.GroupServer.RemoveUnofficial," ")}}function F(j,N){if(1&j){const I=C.KQA();C.I0R(0,"ion-item",21),C.qCj("click",function(){const W=C.usT(I).$implicit,ne=C.GaO();return C.CGJ(ne.link_group(W.isOfficial,W.target))}),C.wR5(1,"div",27),C.I0R(2,"ion-label",28)(3,"h2"),C.OEk(4),C.C$Y(),C.yuY(5,b,2,1,"p",12),C.C$Y(),C.yuY(6,T,2,1,"ion-button",29),C.C$Y()}if(2&j){const I=N.$implicit,B=C.GaO();C.yG2(),C.m_g("background-color: "+B.statusBar.colors[B.statusBar.groupServer[I.isOfficial][I.target]||"offline"]),C.yG2(3),C.cNF(I.name),C.yG2(),C.E7m("ngIf","official"!=I.isOfficial),C.yG2(),C.E7m("ngIf","official"!=I.isOfficial)}}function k(j,N){if(1&j){const I=C.KQA();C.I0R(0,"ion-content")(1,"ion-item")(2,"ion-label",22),C.OEk(3),C.C$Y()(),C.I0R(4,"ion-item",31)(5,"ion-input",11),C.iHE("ngModelChange",function(z){C.usT(I);const W=C.GaO();return C.kNx(W.dedicated_info.name,z)||(W.dedicated_info.name=z),C.CGJ(z)}),C.C$Y()(),C.I0R(6,"ion-item",31)(7,"ion-input",32),C.iHE("ngModelChange",function(z){C.usT(I);const W=C.GaO();return C.kNx(W.dedicated_info.address,z)||(W.dedicated_info.address=z),C.CGJ(z)}),C.C$Y()(),C.I0R(8,"ion-item",31)(9,"ion-input",33),C.iHE("ngModelChange",function(z){C.usT(I);const W=C.GaO();return C.kNx(W.dedicated_info.key,z)||(W.dedicated_info.key=z),C.CGJ(z)}),C.C$Y()(),C.I0R(10,"ion-item",34),C.qCj("click",function(){C.usT(I);const z=C.GaO();return C.CGJ(z.add_custom_dedicated())}),C.I0R(11,"ion-label",22),C.OEk(12),C.C$Y()()()}if(2&j){const I=C.GaO();C.yG2(3),C.cNF(I.lang.text.GroupServer.RegisterServer),C.yG2(),C.E7m("disabled",I.add_custom_tog),C.yG2(),C.E7m("label",I.lang.text.GroupServer.DisplayName),C.OKB("ngModel",I.dedicated_info.name),C.E7m("placeholder",I.lang.text.GroupServer.DisplayName_placeholder),C.yG2(),C.E7m("disabled",I.add_custom_tog),C.yG2(),C.E7m("label",I.lang.text.GroupServer.Address),C.OKB("ngModel",I.dedicated_info.address),C.yG2(),C.E7m("disabled",I.add_custom_tog),C.yG2(),C.E7m("label",I.lang.text.GroupServer.Key),C.OKB("ngModel",I.dedicated_info.key),C.yG2(),C.E7m("disabled",I.add_custom_tog),C.yG2(2),C.cNF(I.lang.text.GroupServer.submit)}}function A(j,N){if(1&j){const I=C.KQA();C.I0R(0,"div")(1,"ion-item-divider")(2,"ion-label"),C.OEk(3),C.C$Y()(),C.I0R(4,"ion-item")(5,"ion-label",35),C.qCj("click",function(){C.usT(I);const z=C.GaO();return C.CGJ(z.copy_id())}),C.OEk(6),C.C$Y()()()}if(2&j){const I=C.GaO();C.yG2(3),C.cNF(I.lang.text.GroupServer.SessionUid),C.yG2(3),C.cNF(I.session_uid)}}const P=()=>[.4,.6];let $=(()=>{var j;class N{constructor(B,z,W,ne,J,q,ae,fe,Se,K,R){this.nakama=B,this.p5toast=z,this.statusBar=W,this.indexed=ne,this.lang=J,this.modalCtrl=q,this.global=ae,this.loadingCtrl=fe,this.mClipboard=Se,this.navCtrl=K,this.navParams=R,this.session_uid="",this.dedicated_info={name:void 0,address:void 0,target:void 0,port:void 0,useSSL:void 0,isOfficial:void 0,key:void 0},this.add_custom_tog=!1,this.isOverrideButtonPressed=!1,this.announce_update_profile=!0,this.original_profile={},this.file_sel_id="",this.content_sel_id="",this.can_auto_modified=!1,this.imageURL_disabled=!1}ngOnInit(){if(this.servers=this.nakama.get_all_server_info(!0),this.file_sel_id=`self_profile_${(new Date).getTime()}`,this.content_sel_id=`self_content_${(new Date).getTime()}`,this.original_profile=JSON.parse(JSON.stringify(this.nakama.users.self)),this.nakama.users.self.img||this.indexed.loadTextFromUserPath("servers/self/profile.img",(z,W)=>{z&&W&&(this.nakama.users.self.img=W.replace(/"|\\|=/g,""))}),this.nakama.socket_reactive.profile=z=>{this.change_img_smoothly(z)},setTimeout(()=>{this.check_user_content()},150),this.nakama.socket_reactive.self_profile_content_update=()=>{this.update_content_from_server()},this.p5canvas=new r(z=>{let W=document.getElementById("profile_img"),ne=document.getElementById("profile_tmp_img");z.setup=()=>{z.noCanvas()},z.draw=()=>{this.nakama.users.self.online?this.lerpVal<1?this.lerpVal+=.025:(this.lerpVal=1,z.noLoop()):this.lerpVal>0?this.lerpVal-=.025:(this.lerpVal=0,z.noLoop()),W.setAttribute("style",`filter: grayscale(${z.lerp(.9,0,this.lerpVal)}) contrast(${z.lerp(1.4,1,this.lerpVal)});`),ne.setAttribute("style",`filter: grayscale(${z.lerp(.9,0,this.lerpVal)}) contrast(${z.lerp(1.4,1,this.lerpVal)});`)}}),this.announce_update_profile=void 0!==this.original_profile.display_name,this.navParams.data.target){let z=this.navParams.get("isOfficial"),W=this.navParams.get("target");try{this.session_uid=this.nakama.servers[z][W].session.user_id}catch{}}}ionViewWillEnter(){this.ServersList.value=this.ToggleOnline.checked?"open":void 0,this.nakama.users.self.email||document.getElementById("email_input").childNodes[1].childNodes[1].childNodes[1].focus()}link_group(B,z){this.isOverrideButtonPressed?this.isOverrideButtonPressed=!1:"offline"==this.statusBar.groupServer[B][z]?this.nakama.link_group(B,z):this.nakama.servers[B][z].socket.disconnect(!0)}add_custom_dedicated(){if(this.add_custom_tog)return;if(!this.dedicated_info.name)return void this.p5toast.show({text:this.lang.text.GroupServer.NeedSetDIsplayName});this.add_custom_tog=!0;let B=(this.dedicated_info.address||"192.168.0.1").split(":");this.dedicated_info.address=B[0],this.dedicated_info.port=Number(B[1])||7350,this.dedicated_info.useSSL="https:"==window.location.protocol&&!Ne.O$,this.dedicated_info.useSSL=this.dedicated_info.useSSL||!!this.dedicated_info.address.replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,""),this.dedicated_info.key=this.dedicated_info.key||"defaultkey",this.nakama.add_group_server(this.dedicated_info,()=>{this.servers=this.nakama.get_all_server_info(!0),this.link_group(this.dedicated_info.isOfficial,this.dedicated_info.target),this.dedicated_info.name=void 0,this.dedicated_info.address=void 0,this.dedicated_info.target=void 0,this.dedicated_info.port=void 0,this.dedicated_info.key=void 0,this.dedicated_info.useSSL=void 0,this.dedicated_info.isOfficial=void 0}),this.RegisterNewServer.dismiss(),setTimeout(()=>{this.add_custom_tog=!1},1e3)}remove_server(B,z){var W=this;return(0,v.c)(function*(){W.isOverrideButtonPressed=!0;try{yield W.nakama.remove_server(B,z)}catch(ne){console.log("\uc11c\ubc84 \uc0ad\uc81c \uc624\ub958: ",ne)}W.servers=W.nakama.get_all_server_info(!0)})()}ionViewWillLeave(){var B=this;return(0,v.c)(function*(){delete B.global.p5key.KeyShortCut.Escape,B.nakama.on_socket_disconnected.group_unlink_by_user&&delete B.nakama.on_socket_disconnected.group_unlink_by_user,delete B.nakama.socket_reactive.profile,delete B.nakama.socket_reactive.self_profile_content_update;let z=Object.keys(B.nakama.users.self),W=!1;for(let ne=0,J=z.length;ne<J;ne++)if("img"!=z[ne]&&B.nakama.users.self[z[ne]]!=B.original_profile[z[ne]]){W=!0;break}if(B.nakama.users.self.img=B.tmp_img||B.nakama.users.self.img,W){let ne=B.nakama.get_all_online_server();for(let J=0,q=ne.length;J<q;J++){let ae=!1;if(B.nakama.users.self.display_name!=B.original_profile.display_name&&(yield ne[J].client.updateAccount(ne[J].session,{display_name:B.nakama.users.self.display_name}).then(function(){var fe=(0,v.c)(function*(Se){ae=!0;try{yield ne[J].socket.sendMatchState(B.nakama.self_match[ne[J].info.isOfficial][ne[J].info.target].match_id,xe.i.EDIT_PROFILE,encodeURIComponent("info"))}catch{}});return function(Se){return fe.apply(this,arguments)}}())),ae&&B.nakama.channels_orig[ne[J].info.isOfficial][ne[J].info.target]){let fe=Object.keys(B.nakama.channels_orig[ne[J].info.isOfficial][ne[J].info.target]);fe&&fe.forEach(Se=>{B.announce_update_profile&&ne[J].socket.writeChatMessage(Se,{user_update:"modify_data",noti_form:B.original_profile.display_name==B.nakama.users.self.display_name?`: ${B.original_profile.display_name}`:`: ${B.original_profile.display_name} -> ${B.nakama.users.self.display_name}`})})}}B.nakama.save_self_profile()}B.p5canvas.remove()})()}check_user_content(){var B=this;return(0,v.c)(function*(){try{if(!(yield B.indexed.checkIfFileExist("servers/self/content.pck")))throw"\ub85c\uceec\uc5d0 \uc900\ube44\ub41c \ud30c\uc77c \uc5c6\uc74c";yield B.global.CreateGodotIFrame("my_content",{ext:"pck",path:"servers/self/content.pck"})}catch(z){console.log("check_user_content: ",z),B.update_content_from_server()}})()}update_content_from_server(){var B=this;return(0,v.c)(function*(){let z={path:"servers/self/content.pck"},W=B.nakama.get_all_online_server(),ne=!1;for(let J=0,q=W.length;J<q;J++)try{ne=!!(yield B.nakama.sync_load_file(z,W[J].info.isOfficial,W[J].info.target,"user_public",W[J].session.user_id,"main_content"));break}catch(ae){console.log("update_content_from_server: ",ae);continue}ne&&(B.global.godot.remove(),yield B.global.CreateGodotIFrame("my_content",{ext:"pck",path:"servers/self/content.pck"}))})()}change_content(){document.getElementById(this.content_sel_id).click()}inputFileSelected(B){var z=this;return(0,v.c)(function*(){if(B.target.files.length){z.global.godot.remove();let W={};if(W.filename=B.target.files[0].name,W.file_ext=B.target.files[0].name.split(".").pop()||B.target.files[0].type||z.lang.text.ChatRoom.unknown_ext,"pck"!=W.file_ext)return void z.p5toast.show({text:z.lang.text.EngineWorksPPT.FileExtPck});W.size=B.target.files[0].size,W.type=B.target.files[0].type,W.typeheader=B.target.files[0].type.split("/")[0];let ne=yield z.loadingCtrl.create({message:z.lang.text.TodoDetail.WIP});W.blob=B.target.files[0],W.path="servers/self/content.pck",ne.present();let J=z.nakama.get_all_online_server();if(J.length)for(let q=0,ae=J.length;q<ae;q++)try{yield z.nakama.sync_save_file(W,J[q].info.isOfficial,J[q].info.target,"user_public","main_content"),yield J[q].socket.sendMatchState(z.nakama.self_match[J[q].info.isOfficial][J[q].info.target].match_id,xe.i.EDIT_PROFILE,encodeURIComponent("content"));let fe=Object.keys(z.nakama.channels_orig[J[q].info.isOfficial][J[q].info.target]);fe&&fe.forEach(Se=>{z.announce_update_profile&&J[q].socket.writeChatMessage(Se,{user_update:"modify_content",noti_form:`: ${z.original_profile.display_name}`})})}catch(fe){console.log("inputFileSelected: ",fe);continue}else yield z.indexed.saveBlobToUserPath(B.target.files[0],W.path);ne.dismiss(),yield z.global.CreateGodotIFrame("my_content",{ext:"pck",path:"servers/self/content.pck"})}})()}remove_content(){var B=this;return(0,v.c)(function*(){yield B.indexed.removeFileFromUserPath("servers/self/content.pck");let ne,z=B.nakama.get_all_online_server(),W=z.length;W&&(ne=yield B.loadingCtrl.create({message:B.lang.text.TodoDetail.WIP}),ne.present());for(let J=0,q=z.length;J<q;J++){try{let fe=(yield z[J].client.readStorageObjects(z[J].session,{object_ids:[{collection:"user_public",key:"main_content",user_id:z[J].session.user_id}]})).objects[0].value;for(let Se=0,K=fe.partsize;Se<K;Se++)yield z[J].client.deleteStorageObjects(z[J].session,{object_ids:[{collection:"user_public",key:`main_content_${Se}`}]});yield z[J].client.deleteStorageObjects(z[J].session,{object_ids:[{collection:"user_public",key:"main_content"}]})}catch(ae){console.log("remove_content: ",ae)}try{let ae=Object.keys(B.nakama.channels_orig[z[J].info.isOfficial][z[J].info.target]);ae.length&&ae.forEach(fe=>{"missing"!=B.nakama.channels_orig[z[J].info.isOfficial][z[J].info.target][fe].status&&B.announce_update_profile&&z[J].socket.writeChatMessage(fe,{user_update:"remove_content",noti_form:`: ${B.original_profile.display_name}`})})}catch(ae){console.log("\ubcc0\uacbd\uc744 \uc54c\ub9b4 \ucc44\ub110 \uc5c6\uc74c: ",ae)}yield z[J].socket.sendMatchState(B.nakama.self_match[z[J].info.isOfficial][z[J].info.target].match_id,xe.i.EDIT_PROFILE,encodeURIComponent("content"))}B.global.godot.remove(),W&&ne.dismiss()})()}change_img_smoothly(B){new r(z=>{let W=document.getElementById("profile_tmp_img"),ne=document.getElementById(this.file_sel_id),q=0;z.setup=()=>{z.noCanvas(),ne.value="",W.setAttribute("style",`filter: grayscale(${this.nakama.users.self.online?0:.9}) contrast(${this.nakama.users.self.online?1:1.4}) opacity(${q})`),this.tmp_img=B},z.draw=()=>{q<1?q+=.035:(q=1,this.nakama.users.self.img=this.tmp_img,this.sync_to_all_server(),z.remove()),W.setAttribute("style",`filter: grayscale(${this.nakama.users.self.online?0:.9}) contrast(${this.nakama.users.self.online?1:1.4}) opacity(${q})`)}})}sync_to_all_server(){var B=this;let z=this.nakama.get_all_online_server();this.nakama.save_self_profile(),this.indexed.saveTextFileToUserPath(JSON.stringify(this.nakama.users.self.img),"servers/self/profile.img"),this.tmp_img="";for(let W=0,ne=z.length;W<ne;W++)z[W].client.writeStorageObjects(z[W].session,[{collection:"user_public",key:"profile_image",value:{img:this.nakama.users.self.img},permission_read:2,permission_write:1}]).then(function(){var J=(0,v.c)(function*(q){try{yield z[W].socket.sendMatchState(B.nakama.self_match[z[W].info.isOfficial][z[W].info.target].match_id,xe.i.EDIT_PROFILE,encodeURIComponent("image"))}catch{}yield z[W].client.updateAccount(z[W].session,{avatar_url:q.acks[0].version})});return function(q){return J.apply(this,arguments)}}()).catch(J=>{console.error("inputImageSelected_err: ",J)})}change_img_from_file(){document.getElementById(this.file_sel_id).click()}inputImageSelected(B){var z=this;return(0,v.c)(function*(){let W=setInterval(()=>{},110);setTimeout(()=>{clearInterval(W)},1500);let ne=yield z.global.GetBase64ThroughFileReader(B.target.files[0]);z.nakama.limit_image_size(ne,J=>{z.change_img_smoothly(J.canvas.toDataURL())})})()}ionViewDidEnter(){this.can_auto_modified=!0,this.global.p5key.KeyShortCut.Escape=()=>{this.navCtrl.pop()}}email_modified(){this.can_auto_modified&&(this.nakama.users.self.online&&this.toggle_online(),this.nakama.users.self.online=!1,delete this.nakama.users.self.password)}toggle_online(){var B=this;return(0,v.c)(function*(){if(B.nakama.users.self.online=B.ToggleOnline.checked,B.ToggleOnline.checked){B.announce_update_profile=!1;try{if(!B.nakama.users.self.email)throw B.p5toast.show({text:B.lang.text.Profile.need_email}),"\uc774\uba54\uc77c \uacf5\ubc31";if(!B.nakama.users.self.password)throw B.p5toast.show({text:B.lang.text.Profile.need_password}),"\ube44\ubc00\ubc88\ud638 \uacf5\ubc31";B.nakama.save_self_profile(),yield B.nakama.init_all_sessions(),B.servers.length||(yield B.nakama.WatchAdsAndGetDevServerInfo(),B.servers=B.nakama.get_all_server_info(!0))}catch{B.nakama.users.self.online=!1,B.ToggleOnline.checked=!1}}else B.nakama.logout_all_server(),delete B.nakama.users.self.password,B.nakama.save_groups_with_less_info(),B.nakama.rearrange_channels();B.ServersList.value=B.ToggleOnline.checked?"open":void 0,B.p5canvas.loop()})()}imageURLPasted(){this.imageURL_disabled=!0,"DesktopPWA"==Ne.s1||"MobilePWA"==Ne.s1?rt.c.read().then(B=>{this.check_if_clipboard_available(B)}):this.mClipboard.paste().then(B=>{this.check_if_clipboard_available(B)},B=>{console.log("\ud074\ub9bd\ubcf4\ub4dc \uc790\ub8cc\ubc1b\uae30 \uc624\ub958: ",B)}),setTimeout(()=>{this.imageURL_disabled=!1},1500)}check_if_clipboard_available(B){0==B.indexOf("http")?this.change_img_smoothly(B):0==B.indexOf("data:image")?this.nakama.limit_image_size(B,z=>this.change_img_smoothly(z.canvas.toDataURL())):(this.p5toast.show({text:this.lang.text.Profile.copyURIFirst}),this.change_img_smoothly(""))}OpenNewServerForm(){this.RegisterNewServer.present()}copy_id(){this.mClipboard.copy(this.session_uid).catch(B=>rt.c.write(this.session_uid))}go_back(){var B=this;return(0,v.c)(function*(){try{yield B.modalCtrl.dismiss()}catch{}})()}}return(j=N).\u0275fac=function(B){return new(B||j)(C.GI1(xe.h),C.GI1(y.O),C.GI1(_.Y),C.GI1(h.k),C.GI1(f.o),C.GI1(E.qS),C.GI1(a.A1),C.GI1(E.Kg),C.GI1(l._),C.GI1(w.wX),C.GI1(w.a6))},j.\u0275cmp=C.In1({type:j,selectors:[["app-group-server"]],viewQuery:function(B,z){if(1&B&&(C.CC$(c,5),C.CC$(s,5),C.CC$(m,5)),2&B){let W;C.wto(W=C.Gqi())&&(z.ToggleOnline=W.first),C.wto(W=C.Gqi())&&(z.ServersList=W.first),C.wto(W=C.Gqi())&&(z.RegisterNewServer=W.first)}},decls:39,vars:24,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],[1,"profile_img_form"],["id","profile_img",1,"profile_img",3,"hidden","src","alt"],["id","profile_tmp_img",1,"profile_img",3,"hidden","src","alt"],[1,"fore-gradient",3,"click"],["hidden","","type","file","accept","image/*",3,"id","change"],[1,"username"],[3,"disabled","click"],["color","medium"],[1,"ion-text-right",3,"label","ngModel","placeholder","ngModelChange"],[4,"ngIf"],["button",""],[2,"pointer-events","none",3,"ngModel","ngModelChange","ionChange"],["ToggleOnline",""],["ServersList",""],["value","open"],["button","","slot","header"],["slot","content"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],[1,"ion-text-center"],[3,"initialBreakpoint","breakpoints"],["RegisterNewServer",""],["id","email_input",1,"ion-text-right",3,"label","ngModel","placeholder","ngModelChange","ionChange"],["type","password",1,"ion-text-right",3,"label","ngModel","placeholder","ngModelChange"],[1,"additional_form","status_bar_single"],[1,"form_margin"],[3,"click",4,"ngIf"],[3,"click"],["button","",3,"disabled"],["placeholder","192.168.0.1",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["placeholder","defaultkey",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["button","",3,"disabled","click"],["text-wrap","","color","medium",1,"ion-text-center",3,"click"]],template:function(B,z){1&B&&(C.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),C.OEk(3),C.C$Y(),C.I0R(4,"ion-buttons",1),C.qCj("click",function(){return z.go_back()}),C.wR5(5,"ion-back-button",2),C.C$Y()()(),C.I0R(6,"ion-content")(7,"div",3),C.wR5(8,"img",4)(9,"img",5),C.I0R(10,"div",6),C.qCj("click",function(){return z.change_img_from_file()}),C.C$Y(),C.I0R(11,"input",7),C.qCj("change",function(ne){return z.inputImageSelected(ne)}),C.C$Y(),C.I0R(12,"div",8),C.OEk(13),C.C$Y()(),C.I0R(14,"ion-item",9),C.qCj("click",function(){return z.imageURLPasted()}),C.I0R(15,"ion-label",10),C.OEk(16),C.C$Y()(),C.I0R(17,"ion-item")(18,"ion-input",11),C.iHE("ngModelChange",function(ne){return C.kNx(z.nakama.users.self.display_name,ne)||(z.nakama.users.self.display_name=ne),ne}),C.C$Y()(),C.yuY(19,p,8,7,"div",12),C.I0R(20,"ion-item",13)(21,"ion-toggle",14,15),C.iHE("ngModelChange",function(ne){return C.kNx(z.nakama.users.self.online,ne)||(z.nakama.users.self.online=ne),ne}),C.qCj("ionChange",function(){return z.toggle_online()}),C.OEk(23),C.C$Y()(),C.I0R(24,"ion-accordion-group",null,16)(26,"ion-accordion",17)(27,"ion-item",18)(28,"ion-label"),C.OEk(29),C.C$Y()(),C.I0R(30,"div",19),C.yuY(31,F,7,5,"ion-item",20),C.I0R(32,"ion-item",21),C.qCj("click",function(){return z.OpenNewServerForm()}),C.I0R(33,"ion-label",22),C.OEk(34),C.C$Y()()()()(),C.I0R(35,"ion-modal",23,24),C.yuY(37,k,13,13,"ng-template"),C.C$Y(),C.yuY(38,A,7,2,"div",12),C.C$Y()),2&B&&(C.yG2(3),C.cNF(z.lang.text.Settings.groupServer),C.yG2(5),C.E7m("hidden",!z.nakama.users.self.img)("src",z.nakama.users.self.img,C.K6U)("alt",z.lang.text.Profile.img_alt),C.yG2(),C.E7m("hidden",!z.tmp_img)("src",z.tmp_img,C.K6U)("alt",z.lang.text.Profile.img_alt),C.yG2(2),C.E7m("id",z.file_sel_id),C.yG2(2),C.cNF(z.nakama.users.self.display_name||z.lang.text.Profile.noname_user),C.yG2(),C.E7m("disabled",z.imageURL_disabled),C.yG2(2),C.cNF(z.lang.text.Profile.pasteURI),C.yG2(2),C.E7m("label",z.lang.text.Profile.user_display_name),C.OKB("ngModel",z.nakama.users.self.display_name),C.E7m("placeholder",z.lang.text.Profile.name_placeholder),C.yG2(),C.E7m("ngIf",!z.nakama.users.self.online),C.yG2(2),C.OKB("ngModel",z.nakama.users.self.online),C.yG2(2),C.cNF(z.lang.text.Profile.login_toggle),C.yG2(6),C.cNF(z.lang.text.GroupServer.JoinedServerList),C.yG2(2),C.E7m("ngForOf",z.servers),C.yG2(3),C.cNF(z.lang.text.GroupServer.RegisterServer),C.yG2(),C.E7m("initialBreakpoint",.4)("breakpoints",C.q4q(23,P)),C.yG2(3),C.E7m("ngIf",z.session_uid))},dependencies:[d.ay,d.u_,u.ue,u._G,E.cm,E.qU,E.sn,E.GS,E._i,E.wB,E.A5,E.Yb,E.S8,E.QR,E.tM,E.E$,E.Md,E.yc,E.UJ,E.qG,E.Im],styles:[".fore-gradient[_ngcontent-%COMP%]{position:relative;background-image:linear-gradient(to top,#000,#0000);width:100%;height:100%}.content_size[_ngcontent-%COMP%]{height:360px}"]}),N})()},9404:(fn,Lt,me)=>{"use strict";me.d(Lt,{E:()=>c});var v=me(1528),xe=me(2272),rt=me(5193),Ne=me(4496),r=me(5624),H=me(9240),C=me(4500),y=me(3824),_=me(4180),h=me(4668),f=me(7136),E=me(5020),w=me(7756),a=me(1368),l=me(4716);const d=["ServerDetailuseSSL"];function u(s,m){if(1&s){const p=Ne.KQA();Ne.I0R(0,"img",14),Ne.qCj("click",function(){Ne.usT(p);const T=Ne.GaO();return Ne.CGJ(T.copy_startup_address())}),Ne.C$Y()}if(2&s){const p=Ne.GaO();Ne.E7m("src",p.QRCodeSRC,Ne.K6U)}}let c=(()=>{var s;class m{constructor(b,T,F,k,A,P,$,j,N){this.modalCtrl=b,this.navParams=T,this.lang=F,this.p5toast=k,this.statusBar=A,this.indexed=P,this.nakama=$,this.global=j,this.mClipboard=N,this.isTargetAlreadyExist=!0,this.index=0}ngOnInit(){this.dedicated_info=this.navParams.get("data");let b={name:this.dedicated_info.name,address:this.dedicated_info.address,port:this.dedicated_info.port,key:this.dedicated_info.key,useSSL:this.dedicated_info.useSSL};"192.168.0.1"==this.dedicated_info.address&&delete b.address,"defaultkey"==this.dedicated_info.key&&delete b.key,7350==this.dedicated_info.port&&delete b.port,this.dedicated_info.useSSL||delete b.useSSL,this.QRCodeSRC=this.global.readasQRCodeFromString(`${rt.uM}pjcone_pwa/?server=${b.name||""},${b.address||""},${b.useSSL?"true":""},${b.port||7350},${b.key||""}`),this.isTargetAlreadyExist=!!this.statusBar.groupServer.unofficial[this.dedicated_info.target]}ionViewDidEnter(){this.ServerDetailuseSSL.checked=this.dedicated_info.useSSL}copy_startup_address(){let b=`https://is2you2.github.io/pjcone_pwa/?server=${this.dedicated_info.name||""},${this.dedicated_info.address||""},${this.dedicated_info.useSSL||""},${this.dedicated_info.port||""},${this.dedicated_info.key||""}&open_profile=true`;this.mClipboard.copy(b).catch(T=>xe.c.write(b))}apply_changed_info(){var b=this;return(0,v.c)(function*(){if(!b.dedicated_info.name)return void b.p5toast.show({text:b.lang.text.GroupServer.NeedSetDIsplayName});b.dedicated_info.target=b.dedicated_info.target||b.dedicated_info.name,b.dedicated_info.address=b.dedicated_info.address||"192.168.0.1",b.dedicated_info.port=b.dedicated_info.port||7350,b.dedicated_info.useSSL=b.ServerDetailuseSSL.checked||!1,b.dedicated_info.isOfficial=b.dedicated_info.isOfficial||"unofficial",b.dedicated_info.key=b.dedicated_info.key||"defaultkey";let T=(new Date).getTime().toString();T+=`,${b.dedicated_info.isOfficial}`,T+=`,${b.dedicated_info.name}`,T+=`,${b.dedicated_info.target}`,T+=`,${b.dedicated_info.address}`,T+=`,${b.dedicated_info.port}`,T+=`,${b.dedicated_info.useSSL}`;let F=yield b.indexed.loadTextFromUserPath("servers/list_detail.csv"),k=[];if(F&&(k=F.split("\n")),b.isTargetAlreadyExist)for(let A=0,P=k.length;A<P;A++)if(k[A].split(",")[3]==b.dedicated_info.target){k.splice(A,1);break}k.push(T),yield b.indexed.saveTextFileToUserPath(k.join("\n"),"servers/list_detail.csv"),b.nakama.init_server(b.dedicated_info),b.nakama.servers[b.dedicated_info.isOfficial][b.dedicated_info.target].info={...b.dedicated_info};try{b.nakama.servers[b.dedicated_info.isOfficial][b.dedicated_info.target].socket.disconnect(!0)}catch{}b.modalCtrl.dismiss()})()}}return(s=m).\u0275fac=function(b){return new(b||s)(Ne.GI1(r.qS),Ne.GI1(H.a6),Ne.GI1(C.o),Ne.GI1(y.O),Ne.GI1(_.Y),Ne.GI1(h.k),Ne.GI1(f.h),Ne.GI1(E.A1),Ne.GI1(w._))},s.\u0275cmp=Ne.In1({type:s,selectors:[["app-server-detail"]],viewQuery:function(b,T){if(1&b&&Ne.CC$(d,5),2&b){let F;Ne.wto(F=Ne.Gqi())&&(T.ServerDetailuseSSL=F.first)}},decls:31,vars:19,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["style","width: 100%; height: auto;","alt","Loading",3,"src","click",4,"ngIf"],["button",""],[1,"ion-text-right",3,"label","ngModel","placeholder","ngModelChange"],["button","",3,"disabled"],["placeholder","192.168.0.1",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["placeholder","defaultkey",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["type","number","placeholder","7350",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["button","",3,"click"],[2,"pointer-events","none",3,"ngModel","ngModelChange"],["ServerDetailuseSSL",""],[1,"ion-text-center"],["alt","Loading",2,"width","100%","height","auto",3,"src","click"]],template:function(b,T){1&b&&(Ne.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ne.OEk(3),Ne.C$Y(),Ne.I0R(4,"ion-buttons",1),Ne.qCj("click",function(){return T.modalCtrl.dismiss()}),Ne.wR5(5,"ion-back-button",2),Ne.C$Y()()(),Ne.I0R(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),Ne.OEk(9),Ne.C$Y()(),Ne.yuY(10,u,1,1,"img",3),Ne.I0R(11,"ion-item-divider")(12,"ion-label"),Ne.OEk(13,"\uc11c\ubc84 \uc124\uc815"),Ne.C$Y()(),Ne.I0R(14,"ion-item",4)(15,"ion-input",5),Ne.iHE("ngModelChange",function(k){return Ne.kNx(T.dedicated_info.name,k)||(T.dedicated_info.name=k),k}),Ne.C$Y()(),Ne.I0R(16,"ion-item",6)(17,"ion-input",5),Ne.iHE("ngModelChange",function(k){return Ne.kNx(T.dedicated_info.target,k)||(T.dedicated_info.target=k),k}),Ne.C$Y()(),Ne.I0R(18,"ion-item",4)(19,"ion-input",7),Ne.iHE("ngModelChange",function(k){return Ne.kNx(T.dedicated_info.address,k)||(T.dedicated_info.address=k),k}),Ne.C$Y()(),Ne.I0R(20,"ion-item",4)(21,"ion-input",8),Ne.iHE("ngModelChange",function(k){return Ne.kNx(T.dedicated_info.key,k)||(T.dedicated_info.key=k),k}),Ne.C$Y()(),Ne.I0R(22,"ion-item",4)(23,"ion-input",9),Ne.iHE("ngModelChange",function(k){return Ne.kNx(T.dedicated_info.port,k)||(T.dedicated_info.port=k),k}),Ne.C$Y()(),Ne.I0R(24,"ion-item",10),Ne.qCj("click",function(){return T.dedicated_info.useSSL=!T.dedicated_info.useSSL}),Ne.I0R(25,"ion-toggle",11,12),Ne.iHE("ngModelChange",function(k){return Ne.kNx(T.dedicated_info.useSSL,k)||(T.dedicated_info.useSSL=k),k}),Ne.OEk(27),Ne.C$Y()(),Ne.I0R(28,"ion-item",10),Ne.qCj("click",function(){return T.apply_changed_info()}),Ne.I0R(29,"ion-label",13),Ne.OEk(30),Ne.C$Y()()()),2&b&&(Ne.yG2(3),Ne.cNF(T.lang.text.GroupServer.ServerDetail),Ne.yG2(6),Ne.cNF(T.lang.text.ServerDetail.copy_scan_below),Ne.yG2(),Ne.E7m("ngIf",T.QRCodeSRC),Ne.yG2(5),Ne.E7m("label",T.lang.text.GroupServer.DisplayName),Ne.OKB("ngModel",T.dedicated_info.name),Ne.E7m("placeholder",T.lang.text.GroupServer.DisplayName_placeholder),Ne.yG2(),Ne.E7m("disabled",T.isTargetAlreadyExist),Ne.yG2(),Ne.E7m("label",T.lang.text.GroupServer.DivisionName),Ne.OKB("ngModel",T.dedicated_info.target),Ne.E7m("placeholder",T.dedicated_info.name||T.lang.text.GroupServer.DivisionName_placeholder),Ne.yG2(2),Ne.E7m("label",T.lang.text.GroupServer.Address),Ne.OKB("ngModel",T.dedicated_info.address),Ne.yG2(2),Ne.E7m("label",T.lang.text.GroupServer.Key),Ne.OKB("ngModel",T.dedicated_info.key),Ne.yG2(2),Ne.E7m("label",T.lang.text.GroupServer.Port),Ne.OKB("ngModel",T.dedicated_info.port),Ne.yG2(2),Ne.OKB("ngModel",T.dedicated_info.useSSL),Ne.yG2(2),Ne.cNF(T.lang.text.GroupServer.isSSL),Ne.yG2(3),Ne.cNF(T.lang.text.ServerDetail.ApplyChangeServerInfo))},dependencies:[a.u_,l.ue,l._G,r.GS,r._i,r.wB,r.A5,r.Yb,r.S8,r.QR,r.tM,r.E$,r.Md,r.UJ,r.Ch,r.qG,r.Im],styles:[".icon_style[_ngcontent-%COMP%]{width:22px;height:22px;transform:translateY(2px);margin-left:4px;margin-right:4px}"]}),m})()},1052:(fn,Lt,me)=>{"use strict";me.d(Lt,{S:()=>E});var v=me(1528),xe=me(9352),Ne=me(5193),r=me(4496),H=me(4500),C=me(5624),y=me(9240),_=me(5020),h=me(4668),f=me(3824);let E=(()=>{var w;class a{constructor(d,u,c,s,m,p,b,T){this.lang=d,this.modalCtrl=u,this.alertCtrl=c,this.loadingCtrl=s,this.global=m,this.navParams=p,this.indexed=b,this.p5toast=T,this.EventListenerAct=F=>{F.detail.register(130,k=>{})},this.isMobile=!1,this.isCropMode=!1,this.WithoutSave=!0}ngOnInit(){}ionViewDidEnter(){var d=this;return(0,v.c)(function*(){d.AddShortCut(),document.addEventListener("ionBackButton",d.EventListenerAct),d.mainLoading=yield d.loadingCtrl.create({message:d.lang.text.voidDraw.UseThisImage}),d.create_new_canvas({width:d.navParams.data.width,height:d.navParams.data.height,path:d.navParams.data.path}),d.isMobile="DesktopPWA"!=Ne.s1})()}AddShortCut(){delete this.global.p5key.KeyShortCut.Digit,this.global.p5key.KeyShortCut.HistoryAct=d=>{switch(d){case"Z":this.p5voidDraw.history_act(-1);break;case"X":this.p5voidDraw.history_act(1);break;case"C":this.isCropMode?this.p5voidDraw.apply_crop():this.p5voidDraw.change_color();break;case"V":this.p5voidDraw.set_line_weight()}},this.global.p5key.KeyShortCut.AddAct=()=>{this.p5toast.show({text:this.lang.text.voidDraw.Preparing})},this.global.p5key.KeyShortCut.SKeyAct=()=>{this.open_crop_tool()},this.global.p5key.KeyShortCut.DeleteAct=()=>{this.isCropMode?this.p5voidDraw.apply_crop():this.dismiss_draw()},this.global.p5key.KeyShortCut.FKeyAct=()=>{}}create_new_canvas(d){var u=this;return(0,v.c)(function*(){d.width=d.width||432,d.height=d.height||432,u.p5voidDraw&&u.p5voidDraw.remove(),u.create_p5voidDraw(d)})()}waiting(d){return new Promise(u=>setTimeout(()=>{u(void 0)},d))}create_p5voidDraw(d){var u=this;let c=document.getElementById("voidDraw");this.isCropMode=!1,this.p5voidDraw=new xe(s=>{let m,p,b,T,F,k,A,P,$=s.createColorPicker("#000"),j=Math.min(d.width,d.height)/100,N=1,B=[];s.setup=(0,v.c)(function*(){s.pixelDensity(1),s.noLoop(),s.noFill(),s.imageMode(s.CENTER),T=s.createCanvas(c.clientWidth,c.clientHeight),T.elt.addEventListener("contextmenu",Ct=>Ct.preventDefault()),T.parent(c),W.x=s.width/2,W.y=s.height/2,s.set_line_weight=()=>{u.alertCtrl.create({header:u.lang.text.voidDraw.changeWeight,inputs:[{label:u.lang.text.voidDraw.weight,name:"weight",placeholder:`${N}`,type:"number"}],buttons:[{text:u.lang.text.voidDraw.apply,handler:Ct=>{Ct.weight&&(N=Number(Ct.weight))}}]}).then(Ct=>{an=!1,Ct.onWillDismiss().then(()=>{an=!0}),Ct.present()})},s.change_color=()=>{$.elt.click()},s.save_image=()=>{new xe(Ct=>{Ct.setup=()=>{Ct.createCanvas(m.width,m.height),Ct.pixelDensity(1),b&&Ct.image(b,0,0),m&&Ct.image(m,0,0),Ct.saveFrames("","png",1,1,$t=>{let nn=$t[0].imageData.replace(/"|=|\\/g,"");u.modalCtrl.dismiss({name:`voidDraw_${Ct.year()}-${Ct.nf(Ct.month(),2)}-${Ct.nf(Ct.day(),2)}_${Ct.nf(Ct.hour(),2)}-${Ct.nf(Ct.minute(),2)}-${Ct.nf(Ct.second(),2)}.png`,img:nn,loadingCtrl:u.mainLoading}),Ct.remove()})}})},s.history_act=Ct=>{switch(Se=s.min(s.max(0,Se+Ct),s.DrawingStack.length),Ct){case 1:s.DrawingStack.length&&(A.style.fill="var(--ion-color-dark)"),Se==s.DrawingStack.length&&(P.style.fill="var(--ion-color-medium)"),R(m,s.DrawingStack[Se-1]);break;case-1:s.DrawingStack.length&&(P.style.fill="var(--ion-color-dark)"),Se<1?(A.style.fill="var(--ion-color-medium)",m.clear(255,255,255,255),s.redraw()):K()}},s.open_crop_tool=()=>{u.isCropMode?(u.isCropMode=!1,s.redraw()):(u.isCropMode=!0,fe.x=m.width,fe.y=m.height,ae.x=0,ae.y=0,s.redraw())},s.apply_crop=()=>{u.isMobile&&ae.div(ne),m.resizeCanvas(fe.x,fe.y),p=s.createVector(m.width/2,m.height/2),q.sub(ae),K(),b.resizeCanvas(fe.x,fe.y),b.push(),b.background(255),b.translate(q),s.BaseImage&&b.image(s.BaseImage,0,0),B&&z(),b.pop(),b.redraw(),u.isCropMode=!1,s.SetCanvasViewportInit()},F=s.createElement("table"),F.style("position: absolute; top: 0px;"),F.style(`width: 100%; height: ${ge}px;`),F.style("background-color: var(--voidDraw-menu-background);"),F.parent(c);let Gt=F.elt.insertRow(0),lt=Gt.insertCell(0);lt.innerHTML='<ion-icon id="AddTextIcon" style="width: 27px; height: 27px" name="text"></ion-icon>',document.getElementById("AddTextIcon").style.fill="var(--ion-color-medium)",lt.style.textAlign="center",lt.style.cursor="pointer",lt.onclick=()=>{u.p5toast.show({text:u.lang.text.voidDraw.Preparing})};let Ut=Gt.insertCell(1);Ut.innerHTML='<ion-icon style="width: 27px; height: 27px" name="crop"></ion-icon>',Ut.style.textAlign="center",Ut.style.cursor="pointer",Ut.onclick=()=>{u.open_crop_tool()};let _t=Gt.insertCell(2);_t.innerHTML='<ion-icon style="width: 27px; height: 27px" name="checkmark"></ion-icon>',_t.style.textAlign="center",_t.style.cursor="pointer",_t.onclick=()=>{u.dismiss_draw()},k=s.createElement("table"),k.style("position: absolute; bottom: 0px;"),k.style(`width: 100%; height: ${ge}px;`),k.style("background-color: var(--voidDraw-menu-background);"),k.parent(c);let je=k.elt.insertRow(0),Ue=je.insertCell(0);Ue.innerHTML='<ion-icon id="undoIcon" style="width: 27px; height: 27px" name="arrow-undo"></ion-icon>',A=document.getElementById("undoIcon"),A.style.fill="var(--ion-color-medium)",Ue.style.textAlign="center",Ue.style.cursor="pointer",Ue.onclick=()=>{u.p5voidDraw.history_act(-1)};let Me=je.insertCell(1);Me.innerHTML='<ion-icon id="redoIcon" style="width: 27px; height: 27px" name="arrow-redo"></ion-icon>',P=document.getElementById("redoIcon"),P.style.fill="var(--ion-color-medium)",Me.style.textAlign="center",Me.style.cursor="pointer",Me.onclick=()=>{u.p5voidDraw.history_act(1)};let Ke=je.insertCell(2);$.parent(Ke),Ke.style.textAlign="center",Ke.style.cursor="pointer",Ke.onclick=()=>{$.elt.click()};let wt=je.insertCell(3);if(wt.innerHTML='<ion-icon style="width: 27px; height: 27px" name="pencil"></ion-icon>',wt.style.textAlign="center",wt.style.cursor="pointer",wt.onclick=()=>{u.change_line_weight()},s.SetCanvasViewportInit=()=>{T.hide(),s.resizeCanvas(c.clientWidth,c.clientHeight),J.x=s.width/2,J.y=s.height/2,W.x=0,W.y=0;let Ct=c.clientHeight-112;ne=c.clientWidth/Ct<m.width/m.height?c.clientWidth/m.width:Ct/m.height,T.show(),s.redraw()},m=s.createGraphics(d.width,d.height),p=s.createVector(m.width/2,m.height/2),m.pixelDensity(1),m.noLoop(),m.noFill(),s.ActualCanvas=m,b=s.createGraphics(d.width,d.height),b.pixelDensity(1),b.noLoop(),b.noFill(),b.background(255),B=u.navParams.get("text"),B&&z(),s.ImageCanvas=b,d.path){let Ct=yield u.indexed.loadBlobFromUserPath(d.path,""),$t=URL.createObjectURL(Ct);s.loadImage($t,nn=>{s.BaseImage=nn,b.image(s.BaseImage,0,0),b.redraw(),URL.revokeObjectURL($t),s.SetCanvasViewportInit()},nn=>{console.error("\uadf8\ub9bc\ud310 \ubc30\uacbd \uc774\ubbf8\uc9c0 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",nn),b.redraw(),URL.revokeObjectURL($t),s.SetCanvasViewportInit()})}else b.redraw(),s.SetCanvasViewportInit();d.width<d.height&&(j/=ne)});let z=()=>{b.push(),b.textSize(16),b.textWrap(s.CHAR),b.fill(0);for(let Gt=0,lt=B.length;Gt<lt;Gt++)b.text(B[Gt],0,24*Gt,d.width||432);b.pop()},W=s.createVector(),ne=1,J=s.createVector(0,0),q=s.createVector(),ae=s.createVector(),fe=s.createVector();s.draw=()=>{if(s.clear(255,255,255,255),s.push(),s.translate(J),s.scale(ne),s.translate(W),s.image(b,0,0),s.image(b,0,0),m&&s.image(b,0,0),m&&s.image(m,0,0),this.isCropMode)s.push(),s.translate(-m.width/2,-m.height/2),s.translate(ae),s.noStroke(),s.fill(0,100),s.rect(0,0,fe.x,fe.y),s.stroke(255,0,0),s.strokeWeight(8),s.beginShape(s.LINES),s.vertex(0,0),s.vertex(fe.x,0),s.vertex(fe.x,0),s.vertex(fe.x,.8*fe.y),s.vertex(0,0),s.vertex(0,fe.y),s.vertex(0,fe.y),s.vertex(.8*fe.x,fe.y),s.stroke(255,255,0),s.vertex(.8*fe.x,fe.y),s.vertex(fe.x,fe.y),s.vertex(fe.x,.8*fe.y),s.vertex(fe.x,fe.y),s.endShape(),s.pop();else if(se&&se.pos&&se.pos.length){s.push(),s.translate(q),s.stroke(se.color),s.strokeWeight(se.weight),s.beginShape();for(let Gt=0,lt=se.pos.length;Gt<lt;Gt++)s.curveVertex(se.pos[Gt].x-p.x,se.pos[Gt].y-p.y);s.endShape(),s.pop()}s.pop()},s.DrawingStack=[];let Se=0,K=()=>{m.clear(255,255,255,255);for(let Gt=0;Gt<Se;Gt++)R(m,s.DrawingStack[Gt])},R=(Gt,lt=se)=>{if(lt.color){Gt.push(),Gt.translate(q),Gt.stroke(lt.color),Gt.strokeWeight(lt.weight),Gt.beginShape();for(let Ut=0,_t=lt.pos.length;Ut<_t;Ut++)Gt.curveVertex(lt.pos[Ut].x,lt.pos[Ut].y);Gt.endShape(),Gt.pop(),Gt.redraw(),s.redraw()}};s.windowResized=()=>{setTimeout(()=>{s.SetCanvasViewportInit()},0)};let se={};const ge=56;let De,Le,Ze,et,$e,Ve,Je,Oe=0,Te=!1,Ye=!1;s.mousePressed=Gt=>{if(an){if(s.mouseY<ge||s.mouseY>s.height-ge)return void(Ye=!0);switch(Gt.which){case 1:this.isCropMode?bt():gt();break;case 3:Le=s.createVector(s.mouseX,s.mouseY),Ve=W.copy(),De=s.createVector(s.mouseX,s.mouseY);break;case 2:s.SetCanvasViewportInit()}}};let bt=(Gt,lt)=>{let Ut=kt(Gt,lt),_t=ae.copy().add(fe).sub(s.createVector(m.width/2,m.height/2)),je=Ut.dist(_t),Ue=.2*s.max(m.width,m.height);Te=je<Ue,Te?(et=s.createVector(s.mouseX,s.mouseY),Je=fe.copy()):Ze=s.createVector(s.mouseX,s.mouseY).sub(ae.mult(ne))},gt=(Gt,lt)=>{A.style.fill="var(--ion-color-dark)",P.style.fill="var(--ion-color-medium)";let Ut=kt(Gt,lt);Ut.sub(q),Ut.add(p);let _t={x:Ut.x,y:Ut.y},je=$.color().levels,Ue=`#${s.hex(je[0],2)}${s.hex(je[1],2)}${s.hex(je[2],2)}`;se={pos:[],color:Ue,weight:j*N},se.pos.push(_t),se.pos.push(_t),s.redraw()};s.mouseDragged=Gt=>{if(an)switch(Gt.which){case 1:if(this.isCropMode&&!Ye){let lt=s.createVector(s.mouseX,s.mouseY);Te?fe=Je.copy().add(et.copy().sub(lt).div(-ne)):ae=Ze.copy().sub(lt).div(-ne),s.redraw()}else{let lt=kt();lt.sub(q),lt.add(p),se&&se.pos&&se.pos.push({x:lt.x,y:lt.y}),s.redraw()}break;case 3:De=s.createVector(s.mouseX,s.mouseY),W=Ve.copy().add(De.sub(Le).div(ne)),s.redraw()}},s.mouseWheel=Gt=>{an&&(s.mouseY<ge||s.mouseY>s.height-ge?Ye=!0:(vt(kt()),ne*=Gt.deltaY<0?1.1:.9,s.redraw()))},s.mouseReleased=Gt=>{if(an){if(1===Gt.which&&!this.isCropMode&&!Ye){let lt=kt();lt.sub(q),lt.add(p);let Ut={x:lt.x,y:lt.y};se&&(se.pos.push(Ut),se.pos.push(Ut)),qt()}Ye=!1}};let vt=Gt=>{J=s.createVector(s.mouseX,s.mouseY),W=Gt.mult(-1)},kt=(Gt,lt)=>{let Ut=s.createVector(Gt||s.mouseX,lt||s.mouseY);return Ut.sub(J),Ut.div(ne),Ut.sub(W),Ut},Ht=[],Ft=!1,an=!0;s.touchStarted=Gt=>{if(an){if(Ht=Gt.touches,Gt.changedTouches[0].clientY<ge||Gt.changedTouches[0].clientY>s.height-ge)return void(Ye=!0);switch(Ft=!0,Ht.length){case 1:this.isCropMode?bt(Gt.changedTouches[0].clientX,Gt.changedTouches[0].clientY-ge):gt(Gt.changedTouches[0].clientX,Gt.changedTouches[0].clientY-ge);break;case 2:let lt=s.createVector(Ht[0].clientX,Ht[0].clientY-56),Ut=s.createVector(Ht[1].clientX,Ht[1].clientY-56);Oe=lt.dist(Ut),Le=lt.copy().add(Ut).div(2),Ve=W.copy(),$e=ne,se=void 0;break;default:Ft=!1,s.SetCanvasViewportInit()}}},s.touchMoved=Gt=>{if(an&&Ft){switch(Ht=Gt.touches,Ht.length){case 1:if(this.isCropMode&&!Ye){let lt=s.createVector(Gt.changedTouches[0].clientX,Gt.changedTouches[0].clientY-ge);Te?fe=Je.copy().add(et.copy().sub(lt).div(-ne)):ae=Ze.copy().sub(lt).div(-ne),s.redraw()}else{let lt=kt(Gt.changedTouches[0].clientX,Gt.changedTouches[0].clientY-ge);lt.sub(q),lt.add(p),se&&se.pos&&se.pos.push({x:lt.x,y:lt.y}),s.redraw()}break;case 2:{let lt=s.createVector(Ht[0].clientX,Ht[0].clientY-56),Ut=s.createVector(Ht[1].clientX,Ht[1].clientY-56),_t=lt.copy().add(Ut).div(2);ne=lt.dist(Ut)/Oe*$e,W=Ve.copy().add(_t.sub(Le).div(ne)),s.redraw()}}return!1}},s.touchEnded=Gt=>{if(an&&Gt.changedTouches){switch(Ht=Gt.touches,Ft=!1,Ht.length){case 0:if(!this.isCropMode&&!Ye&&se){let lt=kt(Gt.changedTouches[0].clientX,Gt.changedTouches[0].clientY-ge);lt.sub(q),lt.add(p);let Ut={x:lt.x,y:lt.y};se.pos.push(Ut),se.pos.push(Ut),qt()}break;case 1:if(!Ft)return;dn(),Oe=0,se=void 0}Ye=!1}};let dn=()=>{Le=s.createVector(Ht[0].clientX,Ht[0].clientY-56),Ve=W.copy()},qt=()=>{s.DrawingStack.length=Se,se&&(s.DrawingStack.push(se),R(m,se)),Se=s.DrawingStack.length,Le=void 0,Ye=!1,se=void 0,s.redraw()}})}new_image(){this.alertCtrl.create({header:this.lang.text.voidDraw.newDraw,inputs:[{name:"width",type:"number",placeholder:`${this.lang.text.voidDraw.width} (${this.lang.text.voidDraw.default_size}: 432)`},{name:"height",type:"number",placeholder:`${this.lang.text.voidDraw.height} (${this.lang.text.voidDraw.default_size}: 432)`}],buttons:[{text:this.lang.text.voidDraw.CreateNew,handler:u=>{u.width=u.width?Number(u.width):432,u.height=u.height?Number(u.height):432,this.create_new_canvas(u)}}]}).then(u=>u.present())}change_line_weight(){this.p5voidDraw.set_line_weight()}open_crop_tool(){this.p5voidDraw.open_crop_tool()}dismiss_draw(){this.isCropMode?this.p5voidDraw.apply_crop():(this.mainLoading.present(),this.WithoutSave=!1,this.p5voidDraw.save_image())}RemoveShortCut(){delete this.global.p5key.KeyShortCut.HistoryAct,delete this.global.p5key.KeyShortCut.AddAct,delete this.global.p5key.KeyShortCut.DeleteAct,delete this.global.p5key.KeyShortCut.SKeyAct,delete this.global.p5key.KeyShortCut.FKeyAct}ionViewWillLeave(){this.RemoveShortCut(),this.p5voidDraw&&this.p5voidDraw.remove()}ionViewDidLeave(){document.removeEventListener("ionBackButton",this.EventListenerAct),this.WithoutSave&&this.mainLoading.remove()}}return(w=a).\u0275fac=function(d){return new(d||w)(r.GI1(H.o),r.GI1(C.qS),r.GI1(C.iW),r.GI1(C.Kg),r.GI1(_.A1),r.GI1(y.a6),r.GI1(h.k),r.GI1(f.O))},w.\u0275cmp=r.In1({type:w,selectors:[["app-void-draw"]],decls:8,vars:1,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["id","voidDraw",1,"full_screen",2,"display","flex","overflow","hidden","background-color","black"]],template:function(d,u){1&d&&(r.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),r.OEk(3),r.C$Y(),r.I0R(4,"ion-buttons",1),r.qCj("click",function(){return u.modalCtrl.dismiss()}),r.wR5(5,"ion-back-button",2),r.C$Y()()(),r.I0R(6,"ion-content"),r.wR5(7,"div",3),r.C$Y()),2&d&&(r.yG2(3),r.cNF(u.lang.text.ChatRoom.voidDraw))},dependencies:[C.GS,C._i,C.wB,C.tM,C.Md,C.Im]}),a})()},4180:(fn,Lt,me)=>{"use strict";me.d(Lt,{Y:()=>xe});var v=me(4496);let xe=(()=>{var rt;class Ne{constructor(){this.colors={offline:"#888",missing:"#880000",pending:"#dddd0c",online:"#4ff14f",certified:"#00ffff"},this.chatroom={},this.project={},this.task={},this.settings={groupServer:"offline",dedicatedServer:"offline",community_ranchat:"offline",dedicated_groupchat:"offline"},this.tools={},this.groupServer={official:{default:"offline"},unofficial:{}},this.dedicated={official:{groupchat:"offline"},unofficial:{}},setInterval(()=>{},350)}}return(rt=Ne).\u0275fac=function(H){return new(H||rt)},rt.\u0275prov=v.wxM({token:rt,factory:rt.\u0275fac,providedIn:"root"}),Ne})()},5570:(fn,Lt,me)=>{"use strict";var v=me(4476),xe=me(4496),rt=me(3332),Ne=me(9240),r=me(5624),H=me(5193);const C=[{path:"",loadChildren:()=>me.e(5504).then(me.bind(me,5504)).then(tt=>tt.FrontPageModule)},{path:"others-profile",loadChildren:()=>me.e(732).then(me.bind(me,732)).then(tt=>tt.OthersProfilePageModule)},{path:"user-fs-dir",loadChildren:()=>Promise.all([me.e(7048),me.e(7988)]).then(me.bind(me,7988)).then(tt=>tt.UserFsDirPageModule)},{path:"add-todo-menu",loadChildren:()=>Promise.all([me.e(7048),me.e(3872)]).then(me.bind(me,3872)).then(tt=>tt.AddTodoMenuPageModule)},{path:"chat-room",loadChildren:()=>Promise.all([me.e(7048),me.e(9596),me.e(8696),me.e(5929)]).then(me.bind(me,5929)).then(tt=>tt.ChatRoomPageModule)},{path:"share-content-to-other",loadChildren:()=>me.e(3116).then(me.bind(me,3116)).then(tt=>tt.ShareContentToOtherPageModule)},{path:"webrtc-manage-io-dev",loadChildren:()=>Promise.all([me.e(9596),me.e(8080)]).then(me.bind(me,8080)).then(tt=>tt.WebrtcManageIoDevPageModule)},{path:"portal",loadChildren:()=>Promise.all([me.e(9596),me.e(8696),me.e(516)]).then(me.bind(me,516)).then(tt=>tt.PortalPageModule)}];let y=(()=>{var tt;class ut{}return(tt=ut).\u0275fac=function(Be){return new(Be||tt)},tt.\u0275mod=xe.a4G({type:tt}),tt.\u0275inj=xe.s3X({imports:[rt.qQ.forRoot(C,{preloadingStrategy:rt.eu}),rt.qQ]}),ut})();var _=me(1316),h=me(3080),f=function(tt){function ut(){return null!==tt&&tt.apply(this,arguments)||this}return(0,_.ct)(ut,tt),Object.defineProperty(ut.prototype,"cordova",{get:function(){return(0,h.qE)(this,"cordova")},set:function(It){(0,h.QN)(this,"cordova",It)},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"model",{get:function(){return(0,h.qE)(this,"model")},set:function(It){(0,h.QN)(this,"model",It)},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"platform",{get:function(){return(0,h.qE)(this,"platform")},set:function(It){(0,h.QN)(this,"platform",It)},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"uuid",{get:function(){return(0,h.qE)(this,"uuid")},set:function(It){(0,h.QN)(this,"uuid",It)},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"version",{get:function(){return(0,h.qE)(this,"version")},set:function(It){(0,h.QN)(this,"version",It)},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"manufacturer",{get:function(){return(0,h.qE)(this,"manufacturer")},set:function(It){(0,h.QN)(this,"manufacturer",It)},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"isVirtual",{get:function(){return(0,h.qE)(this,"isVirtual")},set:function(It){(0,h.QN)(this,"isVirtual",It)},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"serial",{get:function(){return(0,h.qE)(this,"serial")},set:function(It){(0,h.QN)(this,"serial",It)},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"sdkVersion",{get:function(){return(0,h.qE)(this,"sdkVersion")},set:function(It){(0,h.QN)(this,"sdkVersion",It)},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"isiOSAppOnMac",{get:function(){return(0,h.qE)(this,"isiOSAppOnMac")},set:function(It){(0,h.QN)(this,"isiOSAppOnMac",It)},enumerable:!1,configurable:!0}),ut.\u0275fac=(()=>{let It;return function(ct){return(It||(It=xe.otF(ut)))(ct||ut)}})(),ut.\u0275prov=xe.wxM({token:ut,factory:ut.\u0275fac}),ut.pluginName="Device",ut.plugin="cordova-plugin-device",ut.pluginRef="device",ut.repo="https://github.com/apache/cordova-plugin-device",ut.platforms=["Android","Browser","iOS","macOS","Windows"],ut=(0,_.UN)([],ut)}(h.SM),E=me(1028),w=me(6928),a=me(1368),l=me(1424),d=me(3800),u=me(800),c=me(2700),s=me(7228),m=me(5657),p=me(3252),b=me(308);const T=new p._(b.K);var k=me(267),A=me(560),P=me(8960),$=me(6624),j=me(2115);function N(...tt){const ut=(0,$.e_)(tt),It=(0,$._8)(tt,1/0),Be=tt;return Be.length?1===Be.length?(0,A.Uv)(Be[0]):(0,k.u)(It)((0,j.Q)(Be,ut)):P.k}var I=me(4704),B=me(6684),z=me(7368),W=me(2376),ne=me(8880),J=me(5448);const ae={connector:()=>new m.E};function fe(tt,ut=ae){const{connector:It}=ut;return(0,J.i)((Be,ct)=>{const Ot=It();(0,A.Uv)(tt(function q(tt){return new p._(ut=>tt.subscribe(ut))}(Ot))).subscribe(ct),ct.add(Be.subscribe(Ot))})}var R=me(3992),se=me(9212),ge=me(4548);class De extends ge.wH{constructor(ut,It){super()}schedule(ut,It=0){return this}}const Le={setInterval(tt,ut,...It){const{delegate:Be}=Le;return null!=Be&&Be.setInterval?Be.setInterval(tt,ut,...It):setInterval(tt,ut,...It)},clearInterval(tt){const{delegate:ut}=Le;return((null==ut?void 0:ut.clearInterval)||clearInterval)(tt)},delegate:void 0};var Ze=me(1248);const Oe={now:()=>(Oe.delegate||Date).now(),delegate:void 0};class $e{constructor(ut,It=$e.now){this.schedulerActionCtor=ut,this.now=It}schedule(ut,It=0,Be){return new this.schedulerActionCtor(this,ut).schedule(Be,It)}}$e.now=Oe.now;const Te=new class Ve extends $e{constructor(ut,It=$e.now){super(ut,It),this.actions=[],this._active=!1}flush(ut){const{actions:It}=this;if(this._active)return void It.push(ut);let Be;this._active=!0;do{if(Be=ut.execute(ut.state,ut.delay))break}while(ut=It.shift());if(this._active=!1,Be){for(;ut=It.shift();)ut.unsubscribe();throw Be}}}(class et extends De{constructor(ut,It){super(ut,It),this.scheduler=ut,this.work=It,this.pending=!1}schedule(ut,It=0){var Be;if(this.closed)return this;this.state=ut;const ct=this.id,Ot=this.scheduler;return null!=ct&&(this.id=this.recycleAsyncId(Ot,ct,It)),this.pending=!0,this.delay=It,this.id=null!==(Be=this.id)&&void 0!==Be?Be:this.requestAsyncId(Ot,this.id,It),this}requestAsyncId(ut,It,Be=0){return Le.setInterval(ut.flush.bind(ut,this),Be)}recycleAsyncId(ut,It,Be=0){if(null!=Be&&this.delay===Be&&!1===this.pending)return It;null!=It&&Le.clearInterval(It)}execute(ut,It){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Be=this._execute(ut,It);if(Be)return Be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ut,It){let ct,Be=!1;try{this.work(ut)}catch(Ot){Be=!0,ct=Ot||new Error("Scheduled action threw falsy error")}if(Be)return this.unsubscribe(),ct}unsubscribe(){if(!this.closed){const{id:ut,scheduler:It}=this,{actions:Be}=It;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ze.k)(Be,this),null!=ut&&(this.id=this.recycleAsyncId(It,ut,null)),this.delay=null,super.unsubscribe()}}}),Je=Te;var Ye=me(7773),gt=me(320),vt=me(7400);function kt(tt,ut){return ut?It=>(0,s.W)(ut.pipe((0,R.U)(1),function bt(){return(0,J.i)((tt,ut)=>{tt.subscribe((0,Ye.e)(ut,b.K))})}()),It.pipe(kt(tt))):(0,vt.O)((It,Be)=>(0,A.Uv)(tt(It,Be)).pipe((0,R.U)(1),(0,gt.e)(It)))}var Ht=me(3048);const dn="Service workers are disabled or not supported by this browser";class Gt{constructor(ut){if(this.serviceWorker=ut,ut){const Be=(0,u.w)(ut,"controllerchange").pipe((0,I.k)(()=>ut.controller)),ct=(0,l.Q)(()=>(0,c.of)(ut.controller)),Ot=(0,s.W)(ct,Be);this.worker=Ot.pipe((0,B.I)(bn=>!!bn)),this.registration=this.worker.pipe((0,z.G)(()=>ut.getRegistration()));const gn=(0,u.w)(ut,"message").pipe((0,I.k)(bn=>bn.data)).pipe((0,B.I)(bn=>bn&&bn.type)).pipe(function K(tt){return tt?ut=>fe(tt)(ut):ut=>function Se(tt,ut){const It=(0,ne.m)(tt)?tt:()=>tt;return(0,ne.m)(ut)?fe(ut,{connector:It}):Be=>new W.C(Be,It)}(new m.E)(ut)}());gn.connect(),this.events=gn}else this.worker=this.events=this.registration=function qt(tt){return(0,l.Q)(()=>(0,d.c)(new Error(tt)))}(dn)}postMessage(ut,It){return this.worker.pipe((0,R.U)(1),(0,se.y)(Be=>{Be.postMessage({action:ut,...It})})).toPromise().then(()=>{})}postMessageWithOperation(ut,It,Be){const ct=this.waitForOperationCompleted(Be),Ot=this.postMessage(ut,It);return Promise.all([Ot,ct]).then(([,Pt])=>Pt)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(ut){let It;return It="string"==typeof ut?Be=>Be.type===ut:Be=>ut.includes(Be.type),this.events.pipe((0,B.I)(It))}nextEventOfType(ut){return this.eventsOfType(ut).pipe((0,R.U)(1))}waitForOperationCompleted(ut){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,B.I)(It=>It.nonce===ut),(0,R.U)(1),(0,I.k)(It=>{if(void 0!==It.result)return It.result;throw new Error(It.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let lt=(()=>{var tt;class ut{get isEnabled(){return this.sw.isEnabled}constructor(Be){if(this.sw=Be,this.pushManager=null,this.subscriptionChanges=new m.E,!Be.isEnabled)return this.messages=T,this.notificationClicks=T,void(this.subscription=T);this.messages=this.sw.eventsOfType("PUSH").pipe((0,I.k)(Ot=>Ot.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,I.k)(Ot=>Ot.data)),this.pushManager=this.sw.registration.pipe((0,I.k)(Ot=>Ot.pushManager));const ct=this.pushManager.pipe((0,z.G)(Ot=>Ot.getSubscription()));this.subscription=N(ct,this.subscriptionChanges)}requestSubscription(Be){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(dn));const ct={userVisibleOnly:!0};let Ot=this.decodeBase64(Be.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Pt=new Uint8Array(new ArrayBuffer(Ot.length));for(let zt=0;zt<Ot.length;zt++)Pt[zt]=Ot.charCodeAt(zt);return ct.applicationServerKey=Pt,this.pushManager.pipe((0,z.G)(zt=>zt.subscribe(ct)),(0,R.U)(1)).toPromise().then(zt=>(this.subscriptionChanges.next(zt),zt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,R.U)(1),(0,z.G)(ct=>{if(null===ct)throw new Error("Not subscribed to push notifications.");return ct.unsubscribe().then(Ot=>{if(!Ot)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(dn))}decodeBase64(Be){return atob(Be)}}return(tt=ut).\u0275fac=function(Be){return new(Be||tt)(xe.CoB(Gt))},tt.\u0275prov=xe.wxM({token:tt,factory:tt.\u0275fac}),ut})(),Ut=(()=>{var tt;class ut{get isEnabled(){return this.sw.isEnabled}constructor(Be){if(this.sw=Be,!Be.isEnabled)return this.versionUpdates=T,void(this.unrecoverable=T);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(dn));const Be=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:Be},Be)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(dn));const Be=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:Be},Be)}}return(tt=ut).\u0275fac=function(Be){return new(Be||tt)(xe.CoB(Gt))},tt.\u0275prov=xe.wxM({token:tt,factory:tt.\u0275fac}),ut})();const _t=new xe.UbH("");function je(tt,ut,It,Be){return()=>{if(!(0,a.c0)(Be)||!("serviceWorker"in navigator)||!1===It.enabled)return;let ct;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof It.registrationStrategy)ct=It.registrationStrategy();else{const[Pt,...zt]=(It.registrationStrategy||"registerWhenStable:30000").split(":");switch(Pt){case"registerImmediately":ct=(0,c.of)(null);break;case"registerWithDelay":ct=Ue(+zt[0]||0);break;case"registerWhenStable":ct=zt[0]?N(Me(tt),Ue(+zt[0])):Me(tt);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${It.registrationStrategy}`)}}tt.get(xe.WW2).runOutsideAngular(()=>ct.pipe((0,R.U)(1)).subscribe(()=>navigator.serviceWorker.register(ut,{scope:It.scope}).catch(Pt=>console.error("Service worker registration failed with:",Pt))))}}function Ue(tt){return(0,c.of)(null).pipe(function rn(tt,ut=Te){const It=function an(tt=0,ut,It=Je){let Be=-1;return null!=ut&&((0,Ht.G)(ut)?It=ut:Be=ut),new p._(ct=>{let Ot=function Ft(tt){return tt instanceof Date&&!isNaN(tt)}(tt)?+tt-It.now():tt;Ot<0&&(Ot=0);let Pt=0;return It.schedule(function(){ct.closed||(ct.next(Pt++),0<=Be?this.schedule(void 0,Be):ct.complete())},Ot)})}(tt,ut);return kt(()=>It)}(tt))}function Me(tt){return tt.get(xe.Swk).isStable.pipe((0,B.I)(It=>It))}function Ke(tt,ut){return new Gt((0,a.c0)(ut)&&!1!==tt.enabled?navigator.serviceWorker:void 0)}class wt{}function Ct(tt,ut={}){return(0,xe.AFj)([lt,Ut,{provide:_t,useValue:tt},{provide:wt,useValue:ut},{provide:Gt,useFactory:Ke,deps:[wt,xe.AHE]},{provide:xe.kZF,useFactory:je,deps:[xe.zZn,_t,wt,xe.AHE],multi:!0}])}let $t=(()=>{var tt;class ut{static register(Be,ct={}){return{ngModule:ut,providers:[Ct(Be,ct)]}}}return(tt=ut).\u0275fac=function(Be){return new(Be||tt)},tt.\u0275mod=xe.a4G({type:tt}),tt.\u0275inj=xe.s3X({providers:[lt,Ut]}),ut})();var wn=me(544),xn=me(7756);let St=(()=>{var tt;class ut{}return(tt=ut).\u0275fac=function(Be){return new(Be||tt)},tt.\u0275mod=xe.a4G({type:tt,bootstrap:[H.a0]}),tt.\u0275inj=xe.s3X({providers:[{provide:rt.XE,useClass:Ne.um},f,wn.S,E.Y,Ne.a6,w.G8,xn._],imports:[v.iE,r.wZ.forRoot({innerHTMLTemplatesEnabled:!0,experimentalCloseWatcher:!0}),y,$t.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]}),ut})();var Et=me(8637);(0,xe.agy)(),v.o_().bootstrapModule(St).catch(tt=>console.log(tt)),window,typeof window>"u"?Promise.resolve():(0,Et.p)().then(()=>(0,Et.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],undefined))},9352:(fn,Lt,me)=>{var v=me(3248);fn.exports=function r(H,C,y){function _(E,w){if(!C[E]){if(!H[E]){var a=void 0;if(!w&&a)return require(E,!0);if(h)return h(E,!0);throw(w=new Error("Cannot find module '"+E+"'")).code="MODULE_NOT_FOUND",w}a=C[E]={exports:{}},H[E][0].call(a.exports,function(l){return _(H[E][1][l]||l)},a,a.exports,r,H,C,y)}return C[E].exports}for(var h=void 0,f=0;f<y.length;f++)_(y[f]);return _}({1:[function(r,H,C){"use strict";C.byteLength=function(u){return 3*((u=a(u))[0]+(u=u[1]))/4-u},C.toByteArray=function(l){var d,u,s,F,c=(s=a(l))[0],m=new h(3*(c+(F=s=s[1]))/4-F),p=0,b=0<s?c-4:c;for(u=0;u<b;u+=4)d=_[l.charCodeAt(u)]<<18|_[l.charCodeAt(u+1)]<<12|_[l.charCodeAt(u+2)]<<6|_[l.charCodeAt(u+3)],m[p++]=d>>16&255,m[p++]=d>>8&255,m[p++]=255&d;return 2===s&&(d=_[l.charCodeAt(u)]<<2|_[l.charCodeAt(u+1)]>>4,m[p++]=255&d),1===s&&(d=_[l.charCodeAt(u)]<<10|_[l.charCodeAt(u+1)]<<4|_[l.charCodeAt(u+2)]>>2,m[p++]=d>>8&255,m[p++]=255&d),m},C.fromByteArray=function(l){for(var d,u=l.length,c=u%3,s=[],m=0,p=u-c;m<p;m+=16383)s.push(function(b,T,F){for(var A=[],P=T;P<F;P+=3)A.push(y[($=(b[P]<<16&16711680)+(b[P+1]<<8&65280)+(255&b[P+2]))>>18&63]+y[$>>12&63]+y[$>>6&63]+y[63&$]);var $;return A.join("")}(l,m,p<m+16383?p:m+16383));return 1==c?s.push(y[(d=l[u-1])>>2]+y[d<<4&63]+"=="):2==c&&s.push(y[(d=(l[u-2]<<8)+l[u-1])>>10]+y[d>>4&63]+y[d<<2&63]+"="),s.join("")};for(var y=[],_=[],h=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=0;E<64;++E)y[E]=f[E],_[f.charCodeAt(E)]=E;function a(l){var d=l.length;if(0<d%4)throw new Error("Invalid string. Length must be a multiple of 4");return d=(l=-1===(l=l.indexOf("="))?d:l)===d?0:4-l%4,[l,d]}_[45]=62,_[95]=63},{}],2:[function(r,H,C){},{}],3:[function(r,H,C){},{}],4:[function(r,H,C){(function(a){"use strict";var _=r("base64-js"),h=r("ieee754"),f="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,E=(C.Buffer=a,C.SlowBuffer=function(K){return+K!=K&&(K=0),a.alloc(+K)},C.INSPECT_MAX_BYTES=50,2147483647);function w(K){if(E<K)throw new RangeError('The value "'+K+'" is invalid for option "size"');return K=new Uint8Array(K),Object.setPrototypeOf(K,a.prototype),K}function a(K,R,se){if("number"!=typeof K)return l(K,R,se);if("string"==typeof R)throw new TypeError('The "string" argument must be of type string. Received type number');return u(K)}function l(K,R,se){if("string"==typeof K){var ge=K,De=R;if(a.isEncoding(De="string"==typeof De&&""!==De?De:"utf8"))return(ge=(Ze=w(Le=0|m(ge,De))).write(ge,De))!==Le?Ze.slice(0,ge):Ze;throw new TypeError("Unknown encoding: "+De)}if(ArrayBuffer.isView(K))return c(K);if(null!=K){if(ae(K,ArrayBuffer)||K&&ae(K.buffer,ArrayBuffer)){var Le=K,Ze=se;if((ge=R)<0||Le.byteLength<ge)throw new RangeError('"offset" is outside of buffer bounds');if(Le.byteLength<ge+(Ze||0))throw new RangeError('"length" is outside of buffer bounds');return Le=void 0===ge&&void 0===Ze?new Uint8Array(Le):void 0===Ze?new Uint8Array(Le,ge):new Uint8Array(Le,ge,Ze),Object.setPrototypeOf(Le,a.prototype),Le}if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type number');if(null!=(De=K.valueOf&&K.valueOf())&&De!==K)return a.from(De,R,se);var et=a.isBuffer(Oe=K)?(0!==(Ve=w($e=0|s(Oe.length))).length&&Oe.copy(Ve,0,0,$e),Ve):void 0!==Oe.length?"number"!=typeof Oe.length||fe(Oe.length)?w(0):c(Oe):"Buffer"===Oe.type&&Array.isArray(Oe.data)?c(Oe.data):void 0;if(et)return et;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof K[Symbol.toPrimitive])return a.from(K[Symbol.toPrimitive]("string"),R,se)}var Oe,$e,Ve;throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}function d(K){if("number"!=typeof K)throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function u(K){return d(K),w(K<0?0:0|s(K))}function c(K){for(var R=K.length<0?0:0|s(K.length),se=w(R),ge=0;ge<R;ge+=1)se[ge]=255&K[ge];return se}function s(K){if(E<=K)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return 0|K}function m(K,R){if(a.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||ae(K,ArrayBuffer))return K.byteLength;if("string"!=typeof K)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);var se=K.length,ge=2<arguments.length&&!0===arguments[2];if(!ge&&0===se)return 0;for(var De=!1;;)switch(R){case"ascii":case"latin1":case"binary":return se;case"utf8":case"utf-8":return ne(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*se;case"hex":return se>>>1;case"base64":return J(K).length;default:if(De)return ge?-1:ne(K).length;R=(""+R).toLowerCase(),De=!0}}function p(K,R,se){var ge,De=!1;if((R=void 0===R||R<0?0:R)>this.length||(se=void 0===se||se>this.length?this.length:se)<=0||(se>>>=0)<=(R>>>=0))return"";for(K=K||"utf8";;)switch(K){case"hex":var Ze=se,Ve=this.length;(!Ze||Ze<0||Ve<Ze)&&(Ze=Ve);for(var et="",Oe=gt=!(gt=R)||gt<0?0:gt;Oe<Ze;++Oe)et+=Se[this[Oe]];return et;case"utf8":case"utf-8":return P(this,R,se);case"ascii":var Te=(Ve=R,se),Je="";Te=Math.min(this.length,Te);for(var Ye=Ve;Ye<Te;++Ye)Je+=String.fromCharCode(127&this[Ye]);return Je;case"latin1":case"binary":var gt=R,vt=se,kt="";vt=Math.min(this.length,vt);for(var Ht=gt;Ht<vt;++Ht)kt+=String.fromCharCode(this[Ht]);return kt;case"base64":return Ft=this,ge=se,0===(an=R)&&ge===Ft.length?_.fromByteArray(Ft):_.fromByteArray(Ft.slice(an,ge));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Ft=R,an=se,rn=this.slice(Ft,an),dn="",qt=0;qt<rn.length;qt+=2)dn+=String.fromCharCode(rn[qt]+256*rn[qt+1]);return dn;default:if(De)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),De=!0}}function b(K,R,se){var ge=K[R];K[R]=K[se],K[se]=ge}function T(K,R,se,ge,De){if(0===K.length)return-1;if("string"==typeof se?(ge=se,se=0):2147483647<se?se=2147483647:se<-2147483648&&(se=-2147483648),(se=(se=fe(se=+se)?De?0:K.length-1:se)<0?K.length+se:se)>=K.length){if(De)return-1;se=K.length-1}else if(se<0){if(!De)return-1;se=0}if("string"==typeof R&&(R=a.from(R,ge)),a.isBuffer(R))return 0===R.length?-1:F(K,R,se,ge,De);if("number"==typeof R)return R&=255,"function"==typeof Uint8Array.prototype.indexOf?(De?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(K,R,se):F(K,[R],se,ge,De);throw new TypeError("val must be string, number or Buffer")}function F(K,R,se,ge,De){var Le=1,Ze=K.length,et=R.length;if(void 0!==ge&&("ucs2"===(ge=String(ge).toLowerCase())||"ucs-2"===ge||"utf16le"===ge||"utf-16le"===ge)){if(K.length<2||R.length<2)return-1;Ze/=Le=2,et/=2,se/=2}function Oe(Ye,bt){return 1===Le?Ye[bt]:Ye.readUInt16BE(bt*Le)}if(De)for(var $e=-1,Ve=se;Ve<Ze;Ve++)if(Oe(K,Ve)===Oe(R,-1===$e?0:Ve-$e)){if(Ve-($e=-1===$e?Ve:$e)+1===et)return $e*Le}else-1!==$e&&(Ve-=Ve-$e),$e=-1;else for(Ve=se=Ze<se+et?Ze-et:se;0<=Ve;Ve--){for(var Te=!0,Je=0;Je<et;Je++)if(Oe(K,Ve+Je)!==Oe(R,Je)){Te=!1;break}if(Te)return Ve}return-1}function k(K,R,se,ge){return q(function(De){for(var Le=[],Ze=0;Ze<De.length;++Ze)Le.push(255&De.charCodeAt(Ze));return Le}(R),K,se,ge)}function A(K,R,se,ge){return q(function(De,Le){for(var Ze,et,Oe=[],$e=0;$e<De.length&&!((Le-=2)<0);++$e)Ze=(et=De.charCodeAt($e))>>8,Oe.push(et%=256),Oe.push(Ze);return Oe}(R,K.length-se),K,se,ge)}function P(K,R,se){se=Math.min(K.length,se);for(var ge=[],De=R;De<se;){var Le,Ze,et,Oe,$e=K[De],Ve=null,Te=239<$e?4:223<$e?3:191<$e?2:1;if(De+Te<=se)switch(Te){case 1:$e<128&&(Ve=$e);break;case 2:128==(192&(Le=K[De+1]))&&127<(Oe=(31&$e)<<6|63&Le)&&(Ve=Oe);break;case 3:Ze=K[De+2],128==(192&(Le=K[De+1]))&&128==(192&Ze)&&2047<(Oe=(15&$e)<<12|(63&Le)<<6|63&Ze)&&(Oe<55296||57343<Oe)&&(Ve=Oe);break;case 4:Ze=K[De+2],et=K[De+3],128==(192&(Le=K[De+1]))&&128==(192&Ze)&&128==(192&et)&&65535<(Oe=(15&$e)<<18|(63&Le)<<12|(63&Ze)<<6|63&et)&&Oe<1114112&&(Ve=Oe)}null===Ve?(Ve=65533,Te=1):65535<Ve&&(ge.push((Ve-=65536)>>>10&1023|55296),Ve=56320|1023&Ve),ge.push(Ve),De+=Te}var Je=ge,Ye=Je.length;if(Ye<=$)return String.fromCharCode.apply(String,Je);for(var bt="",gt=0;gt<Ye;)bt+=String.fromCharCode.apply(String,Je.slice(gt,gt+=$));return bt}C.kMaxLength=E,(a.TYPED_ARRAY_SUPPORT=function(){try{var K=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(K,R),42===K.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=l,Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(K,R,se){return d(K),K<=0||void 0===R?w(K):"string"==typeof se?w(K).fill(R,se):w(K).fill(R)},a.allocUnsafe=u,a.allocUnsafeSlow=u,a.isBuffer=function(K){return null!=K&&!0===K._isBuffer&&K!==a.prototype},a.compare=function(K,R){if(ae(K,Uint8Array)&&(K=a.from(K,K.offset,K.byteLength)),ae(R,Uint8Array)&&(R=a.from(R,R.offset,R.byteLength)),!a.isBuffer(K)||!a.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(K===R)return 0;for(var se=K.length,ge=R.length,De=0,Le=Math.min(se,ge);De<Le;++De)if(K[De]!==R[De]){se=K[De],ge=R[De];break}return se<ge?-1:ge<se?1:0},a.isEncoding=function(K){switch(String(K).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(K,R){if(!Array.isArray(K))throw new TypeError('"list" argument must be an Array of Buffers');if(0===K.length)return a.alloc(0);if(void 0===R)for(De=R=0;De<K.length;++De)R+=K[De].length;for(var se=a.allocUnsafe(R),ge=0,De=0;De<K.length;++De){var Le=K[De];if(ae(Le,Uint8Array)&&(Le=a.from(Le)),!a.isBuffer(Le))throw new TypeError('"list" argument must be an Array of Buffers');Le.copy(se,ge),ge+=Le.length}return se},a.byteLength=m,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var K=this.length;if(K%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<K;R+=2)b(this,R,R+1);return this},a.prototype.swap32=function(){var K=this.length;if(K%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<K;R+=4)b(this,R,R+3),b(this,R+1,R+2);return this},a.prototype.swap64=function(){var K=this.length;if(K%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<K;R+=8)b(this,R,R+7),b(this,R+1,R+6),b(this,R+2,R+5),b(this,R+3,R+4);return this},a.prototype.toLocaleString=a.prototype.toString=function(){var K=this.length;return 0===K?"":0===arguments.length?P(this,0,K):p.apply(this,arguments)},a.prototype.equals=function(K){if(a.isBuffer(K))return this===K||0===a.compare(this,K);throw new TypeError("Argument must be a Buffer")},a.prototype.inspect=function(){var R="",K=C.INSPECT_MAX_BYTES;return R=this.toString("hex",0,K).replace(/(.{2})/g,"$1 ").trim(),this.length>K&&(R+=" ... "),"<Buffer "+R+">"},f&&(a.prototype[f]=a.prototype.inspect),a.prototype.compare=function(K,R,se,ge,De){if(ae(K,Uint8Array)&&(K=a.from(K,K.offset,K.byteLength)),!a.isBuffer(K))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof K);if(void 0===se&&(se=K?K.length:0),void 0===ge&&(ge=0),void 0===De&&(De=this.length),(R=void 0===R?0:R)<0||se>K.length||ge<0||De>this.length)throw new RangeError("out of range index");if(De<=ge&&se<=R)return 0;if(De<=ge)return-1;if(se<=R)return 1;if(this===K)return 0;for(var Le=(De>>>=0)-(ge>>>=0),Ze=(se>>>=0)-(R>>>=0),et=Math.min(Le,Ze),Oe=this.slice(ge,De),$e=K.slice(R,se),Ve=0;Ve<et;++Ve)if(Oe[Ve]!==$e[Ve]){Le=Oe[Ve],Ze=$e[Ve];break}return Le<Ze?-1:Ze<Le?1:0},a.prototype.includes=function(K,R,se){return-1!==this.indexOf(K,R,se)},a.prototype.indexOf=function(K,R,se){return T(this,K,R,se,!0)},a.prototype.lastIndexOf=function(K,R,se){return T(this,K,R,se,!1)},a.prototype.write=function(K,R,se,ge){if(void 0===R)ge="utf8",se=this.length,R=0;else if(void 0===se&&"string"==typeof R)ge=R,se=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(se)?(se>>>=0,void 0===ge&&(ge="utf8")):(ge=se,se=void 0)}var De=this.length-R;if((void 0===se||De<se)&&(se=De),0<K.length&&(se<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");ge=ge||"utf8";for(var Le,Ze,et,Oe=!1;;)switch(ge){case"hex":var Ve=K,Te=R,Je=se,Ye=(Te=Number(Te)||0,this.length-Te);(!Je||Ye<(Je=Number(Je)))&&(Je=Ye),(Ye=Ve.length)/2<Je&&(Je=Ye/2);for(var bt=0;bt<Je;++bt){var gt=parseInt(Ve.substr(2*bt,2),16);if(fe(gt))return bt;this[Te+bt]=gt}return bt;case"utf8":case"utf-8":return et=se,q(ne(K,(Ze=this).length-(Ye=R)),Ze,Ye,et);case"ascii":case"latin1":case"binary":return k(this,K,R,se);case"base64":return Ze=this,et=R,Le=se,q(J(K),Ze,et,Le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,K,R,se);default:if(Oe)throw new TypeError("Unknown encoding: "+ge);ge=(""+ge).toLowerCase(),Oe=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;function j(K,R,se){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(se<K+R)throw new RangeError("Trying to access beyond buffer length")}function N(K,R,se,ge,De,Le){if(!a.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(De<R||R<Le)throw new RangeError('"value" argument is out of bounds');if(se+ge>K.length)throw new RangeError("Index out of range")}function I(K,R,se,ge){if(se+ge>K.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("Index out of range")}function B(K,R,se,ge,De){return R=+R,se>>>=0,De||I(K,0,se,4),h.write(K,R,se,ge,23,4),se+4}function z(K,R,se,ge,De){return R=+R,se>>>=0,De||I(K,0,se,8),h.write(K,R,se,ge,52,8),se+8}a.prototype.slice=function(K,R){var se=this.length;return(K=~~K)<0?(K+=se)<0&&(K=0):se<K&&(K=se),(R=void 0===R?se:~~R)<0?(R+=se)<0&&(R=0):se<R&&(R=se),R<K&&(R=K),se=this.subarray(K,R),Object.setPrototypeOf(se,a.prototype),se},a.prototype.readUIntLE=function(K,R,se){K>>>=0,R>>>=0,se||j(K,R,this.length);for(var ge=this[K],De=1,Le=0;++Le<R&&(De*=256);)ge+=this[K+Le]*De;return ge},a.prototype.readUIntBE=function(K,R,se){K>>>=0,R>>>=0,se||j(K,R,this.length);for(var ge=this[K+--R],De=1;0<R&&(De*=256);)ge+=this[K+--R]*De;return ge},a.prototype.readUInt8=function(K,R){return K>>>=0,R||j(K,1,this.length),this[K]},a.prototype.readUInt16LE=function(K,R){return K>>>=0,R||j(K,2,this.length),this[K]|this[K+1]<<8},a.prototype.readUInt16BE=function(K,R){return K>>>=0,R||j(K,2,this.length),this[K]<<8|this[K+1]},a.prototype.readUInt32LE=function(K,R){return K>>>=0,R||j(K,4,this.length),(this[K]|this[K+1]<<8|this[K+2]<<16)+16777216*this[K+3]},a.prototype.readUInt32BE=function(K,R){return K>>>=0,R||j(K,4,this.length),16777216*this[K]+(this[K+1]<<16|this[K+2]<<8|this[K+3])},a.prototype.readIntLE=function(K,R,se){K>>>=0,R>>>=0,se||j(K,R,this.length);for(var ge=this[K],De=1,Le=0;++Le<R&&(De*=256);)ge+=this[K+Le]*De;return(De*=128)<=ge&&(ge-=Math.pow(2,8*R)),ge},a.prototype.readIntBE=function(K,R,se){K>>>=0,R>>>=0,se||j(K,R,this.length);for(var ge=R,De=1,Le=this[K+--ge];0<ge&&(De*=256);)Le+=this[K+--ge]*De;return(De*=128)<=Le&&(Le-=Math.pow(2,8*R)),Le},a.prototype.readInt8=function(K,R){return K>>>=0,R||j(K,1,this.length),128&this[K]?-1*(255-this[K]+1):this[K]},a.prototype.readInt16LE=function(K,R){return K>>>=0,R||j(K,2,this.length),32768&(R=this[K]|this[K+1]<<8)?4294901760|R:R},a.prototype.readInt16BE=function(K,R){return K>>>=0,R||j(K,2,this.length),32768&(R=this[K+1]|this[K]<<8)?4294901760|R:R},a.prototype.readInt32LE=function(K,R){return K>>>=0,R||j(K,4,this.length),this[K]|this[K+1]<<8|this[K+2]<<16|this[K+3]<<24},a.prototype.readInt32BE=function(K,R){return K>>>=0,R||j(K,4,this.length),this[K]<<24|this[K+1]<<16|this[K+2]<<8|this[K+3]},a.prototype.readFloatLE=function(K,R){return K>>>=0,R||j(K,4,this.length),h.read(this,K,!0,23,4)},a.prototype.readFloatBE=function(K,R){return K>>>=0,R||j(K,4,this.length),h.read(this,K,!1,23,4)},a.prototype.readDoubleLE=function(K,R){return K>>>=0,R||j(K,8,this.length),h.read(this,K,!0,52,8)},a.prototype.readDoubleBE=function(K,R){return K>>>=0,R||j(K,8,this.length),h.read(this,K,!1,52,8)},a.prototype.writeUIntLE=function(K,R,se,ge){K=+K,R>>>=0,se>>>=0,ge||N(this,K,R,se,Math.pow(2,8*se)-1,0);var De=1,Le=0;for(this[R]=255&K;++Le<se&&(De*=256);)this[R+Le]=K/De&255;return R+se},a.prototype.writeUIntBE=function(K,R,se,ge){K=+K,R>>>=0,se>>>=0,ge||N(this,K,R,se,Math.pow(2,8*se)-1,0);var De=se-1,Le=1;for(this[R+De]=255&K;0<=--De&&(Le*=256);)this[R+De]=K/Le&255;return R+se},a.prototype.writeUInt8=function(K,R,se){return K=+K,R>>>=0,se||N(this,K,R,1,255,0),this[R]=255&K,R+1},a.prototype.writeUInt16LE=function(K,R,se){return K=+K,R>>>=0,se||N(this,K,R,2,65535,0),this[R]=255&K,this[R+1]=K>>>8,R+2},a.prototype.writeUInt16BE=function(K,R,se){return K=+K,R>>>=0,se||N(this,K,R,2,65535,0),this[R]=K>>>8,this[R+1]=255&K,R+2},a.prototype.writeUInt32LE=function(K,R,se){return K=+K,R>>>=0,se||N(this,K,R,4,4294967295,0),this[R+3]=K>>>24,this[R+2]=K>>>16,this[R+1]=K>>>8,this[R]=255&K,R+4},a.prototype.writeUInt32BE=function(K,R,se){return K=+K,R>>>=0,se||N(this,K,R,4,4294967295,0),this[R]=K>>>24,this[R+1]=K>>>16,this[R+2]=K>>>8,this[R+3]=255&K,R+4},a.prototype.writeIntLE=function(K,R,se,ge){K=+K,R>>>=0,ge||N(this,K,R,se,(ge=Math.pow(2,8*se-1))-1,-ge);var De=0,Le=1,Ze=0;for(this[R]=255&K;++De<se&&(Le*=256);)K<0&&0===Ze&&0!==this[R+De-1]&&(Ze=1),this[R+De]=(K/Le>>0)-Ze&255;return R+se},a.prototype.writeIntBE=function(K,R,se,ge){K=+K,R>>>=0,ge||N(this,K,R,se,(ge=Math.pow(2,8*se-1))-1,-ge);var De=se-1,Le=1,Ze=0;for(this[R+De]=255&K;0<=--De&&(Le*=256);)K<0&&0===Ze&&0!==this[R+De+1]&&(Ze=1),this[R+De]=(K/Le>>0)-Ze&255;return R+se},a.prototype.writeInt8=function(K,R,se){return K=+K,R>>>=0,se||N(this,K,R,1,127,-128),this[R]=255&(K=K<0?255+K+1:K),R+1},a.prototype.writeInt16LE=function(K,R,se){return K=+K,R>>>=0,se||N(this,K,R,2,32767,-32768),this[R]=255&K,this[R+1]=K>>>8,R+2},a.prototype.writeInt16BE=function(K,R,se){return K=+K,R>>>=0,se||N(this,K,R,2,32767,-32768),this[R]=K>>>8,this[R+1]=255&K,R+2},a.prototype.writeInt32LE=function(K,R,se){return K=+K,R>>>=0,se||N(this,K,R,4,2147483647,-2147483648),this[R]=255&K,this[R+1]=K>>>8,this[R+2]=K>>>16,this[R+3]=K>>>24,R+4},a.prototype.writeInt32BE=function(K,R,se){return K=+K,R>>>=0,se||N(this,K,R,4,2147483647,-2147483648),this[R]=(K=K<0?4294967295+K+1:K)>>>24,this[R+1]=K>>>16,this[R+2]=K>>>8,this[R+3]=255&K,R+4},a.prototype.writeFloatLE=function(K,R,se){return B(this,K,R,!0,se)},a.prototype.writeFloatBE=function(K,R,se){return B(this,K,R,!1,se)},a.prototype.writeDoubleLE=function(K,R,se){return z(this,K,R,!0,se)},a.prototype.writeDoubleBE=function(K,R,se){return z(this,K,R,!1,se)},a.prototype.copy=function(K,R,se,ge){if(!a.isBuffer(K))throw new TypeError("argument should be a Buffer");if(se=se||0,ge||0===ge||(ge=this.length),R>=K.length&&(R=K.length),(ge=0<ge&&ge<se?se:ge)===se||0===K.length||0===this.length)return 0;if((R=R||0)<0)throw new RangeError("targetStart out of bounds");if(se<0||se>=this.length)throw new RangeError("Index out of range");if(ge<0)throw new RangeError("sourceEnd out of bounds");ge>this.length&&(ge=this.length);var De=(ge=K.length-R<ge-se?K.length-R+se:ge)-se;if(this===K&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(R,se,ge);else if(this===K&&se<R&&R<ge)for(var Le=De-1;0<=Le;--Le)K[Le+R]=this[Le+se];else Uint8Array.prototype.set.call(K,this.subarray(se,ge),R);return De},a.prototype.fill=function(K,R,se,ge){if("string"==typeof K){if("string"==typeof R?(ge=R,R=0,se=this.length):"string"==typeof se&&(ge=se,se=this.length),void 0!==ge&&"string"!=typeof ge)throw new TypeError("encoding must be a string");if("string"==typeof ge&&!a.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);var De;1===K.length&&(De=K.charCodeAt(0),("utf8"===ge&&De<128||"latin1"===ge)&&(K=De))}else"number"==typeof K?K&=255:"boolean"==typeof K&&(K=Number(K));if(R<0||this.length<R||this.length<se)throw new RangeError("Out of range index");var Le;if(!(se<=R))if(R>>>=0,se=void 0===se?this.length:se>>>0,"number"==typeof(K=K||0))for(Le=R;Le<se;++Le)this[Le]=K;else{var Ze=a.isBuffer(K)?K:a.from(K,ge),et=Ze.length;if(0===et)throw new TypeError('The value "'+K+'" is invalid for argument "value"');for(Le=0;Le<se-R;++Le)this[Le+R]=Ze[Le%et]}return this};var W=/[^+/0-9A-Za-z-_]/g;function ne(K,R){R=R||1/0;for(var se,ge=K.length,De=null,Le=[],Ze=0;Ze<ge;++Ze){if(55295<(se=K.charCodeAt(Ze))&&se<57344){if(!De){if(56319<se){-1<(R-=3)&&Le.push(239,191,189);continue}if(Ze+1===ge){-1<(R-=3)&&Le.push(239,191,189);continue}De=se;continue}if(se<56320){-1<(R-=3)&&Le.push(239,191,189),De=se;continue}se=65536+(De-55296<<10|se-56320)}else De&&-1<(R-=3)&&Le.push(239,191,189);if(De=null,se<128){if(--R<0)break;Le.push(se)}else if(se<2048){if((R-=2)<0)break;Le.push(se>>6|192,63&se|128)}else if(se<65536){if((R-=3)<0)break;Le.push(se>>12|224,se>>6&63|128,63&se|128)}else{if(!(se<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;Le.push(se>>18|240,se>>12&63|128,se>>6&63|128,63&se|128)}}return Le}function J(K){return _.toByteArray(function(R){if((R=(R=R.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R}(K))}function q(K,R,se,ge){for(var De=0;De<ge&&!(De+se>=R.length||De>=K.length);++De)R[De+se]=K[De];return De}function ae(K,R){return K instanceof R||null!=K&&null!=K.constructor&&null!=K.constructor.name&&K.constructor.name===R.name}function fe(K){return K!=K}var Se=function(){for(var K="0123456789abcdef",R=new Array(256),se=0;se<16;++se)for(var ge=16*se,De=0;De<16;++De)R[ge+De]=K[se]+K[De];return R}()}).call(this,r("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:251}],5:[function(r,H,C){H.exports=function(y){if("function"!=typeof y)throw TypeError(String(y)+" is not a function");return y}},{}],6:[function(r,H,C){var y=r("../internals/is-object");H.exports=function(_){if(y(_)||null===_)return _;throw TypeError("Can't set "+String(_)+" as a prototype")}},{"../internals/is-object":75}],7:[function(h,H,C){var y=h("../internals/well-known-symbol"),_=h("../internals/object-create"),f=(h=h("../internals/object-define-property"),y("unscopables")),E=Array.prototype;null==E[f]&&h.f(E,f,{configurable:!0,value:_(null)}),H.exports=function(w){E[f][w]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],8:[function(r,H,C){"use strict";var y=r("../internals/string-multibyte").charAt;H.exports=function(_,h,f){return h+(f?y(_,h).length:1)}},{"../internals/string-multibyte":124}],9:[function(r,H,C){H.exports=function(y,_,h){if(y instanceof _)return y;throw TypeError("Incorrect "+(h?h+" ":"")+"invocation")}},{}],10:[function(r,H,C){var y=r("../internals/is-object");H.exports=function(_){if(y(_))return _;throw TypeError(String(_)+" is not an object")}},{"../internals/is-object":75}],11:[function(r,H,C){H.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(I,H,C){"use strict";function y(z){return w(z)&&a(B,l(z))}var _,h=I("../internals/array-buffer-native"),f=I("../internals/descriptors"),E=I("../internals/global"),w=I("../internals/is-object"),a=I("../internals/has"),l=I("../internals/classof"),d=I("../internals/create-non-enumerable-property"),u=I("../internals/redefine"),c=I("../internals/object-define-property").f,s=I("../internals/object-get-prototype-of"),m=I("../internals/object-set-prototype-of"),$=I("../internals/well-known-symbol"),p=(I=I("../internals/uid"),E.Int8Array),b=p&&p.prototype,T=(T=E.Uint8ClampedArray)&&T.prototype,F=p&&s(p),k=b&&s(b),A=Object.prototype,P=A.isPrototypeOf,j=($=$("toStringTag"),I("TYPED_ARRAY_TAG")),N=h&&!!m&&"Opera"!==l(E.opera),B=(I=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(_ in B)E[_]||(N=!1);if((!N||"function"!=typeof F||F===Function.prototype)&&(F=function(){throw TypeError("Incorrect invocation")},N))for(_ in B)E[_]&&m(E[_],F);if((!N||!k||k===A)&&(k=F.prototype,N))for(_ in B)E[_]&&m(E[_].prototype,k);if(N&&s(T)!==k&&m(T,k),f&&!a(k,$))for(_ in I=!0,c(k,$,{get:function(){return w(this)?this[j]:void 0}}),B)E[_]&&d(E[_],j,_);H.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:I&&j,aTypedArray:function(z){if(y(z))return z;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(z){if(m){if(P.call(F,z))return z}else for(var W in B)if(a(B,_)&&(W=E[W])&&(z===W||P.call(W,z)))return z;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(z,W,ne){if(f){if(ne)for(var J in B)(J=E[J])&&a(J.prototype,z)&&delete J.prototype[z];k[z]&&!ne||u(k,z,!ne&&N&&b[z]||W)}},exportTypedArrayStaticMethod:function(z,W,ne){var J,q;if(f){if(m){if(ne)for(J in B)(q=E[J])&&a(q,z)&&delete q[z];if(F[z]&&!ne)return;try{return u(F,z,!ne&&N&&p[z]||W)}catch{}}for(J in B)!(q=E[J])||q[z]&&!ne||u(q,z,W)}},isView:function(z){return"DataView"===(z=l(z))||a(B,z)},isTypedArray:y,TypedArray:F,TypedArrayPrototype:k}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":109,"../internals/uid":146,"../internals/well-known-symbol":149}],13:[function(se,H,C){"use strict";function y(Te){return[255&Te]}function _(Te){return[255&Te,Te>>8&255]}function h(Te){return[255&Te,Te>>8&255,Te>>16&255,Te>>24&255]}function f(Te){return Te[3]<<24|Te[2]<<16|Te[1]<<8|Te[0]}function E(Te){return Le(Te,23,4)}function w(Te){return Le(Te,52,8)}function a(Te,Je){I(Te[ae],Je,{get:function(){return W(this)[Je]}})}function l(kt,Je,vt,bt){if((vt=A(vt))+Je>(kt=W(kt)).byteLength)throw De(fe);return kt=W(kt.buffer).bytes.slice(vt+=kt.byteOffset,vt+Je),bt?kt:kt.reverse()}function d(Te,Je,Ye,bt,gt,vt){if((Ye=A(Ye))+Je>(Te=W(Te)).byteLength)throw De(fe);for(var kt=W(Te.buffer).bytes,Ht=Ye+Te.byteOffset,Ft=bt(+gt),an=0;an<Je;an++)kt[Ht+an]=Ft[vt?an:Je-an-1]}var u=se("../internals/global"),c=se("../internals/descriptors"),s=se("../internals/array-buffer-native"),m=se("../internals/create-non-enumerable-property"),p=se("../internals/redefine-all"),b=se("../internals/fails"),T=se("../internals/an-instance"),F=se("../internals/to-integer"),k=se("../internals/to-length"),A=se("../internals/to-index"),P=se("../internals/ieee754"),$=se("../internals/object-get-prototype-of"),j=se("../internals/object-set-prototype-of"),N=se("../internals/object-get-own-property-names").f,I=se("../internals/object-define-property").f,B=se("../internals/array-fill"),z=se("../internals/set-to-string-tag"),W=(se=se("../internals/internal-state")).get,ne=se.set,J="ArrayBuffer",q="DataView",ae="prototype",fe="Wrong index",Se=u[J],K=Se,R=u[q],ge=(se=R&&R[ae],Object.prototype),De=u.RangeError,Le=P.pack,Ze=P.unpack;if(s){if(!b(function(){Se(1)})||!b(function(){new Se(-1)})||b(function(){return new Se,new Se(1.5),new Se(NaN),Se.name!=J})){u=(K=function(Ye){return T(this,K),new Se(A(Ye))})[ae]=Se[ae];for(var et,Oe=N(Se),$e=0;Oe.length>$e;)(et=Oe[$e++])in K||m(K,et,Se[et]);u.constructor=K}j&&$(se)!==ge&&j(se,ge),P=new R(new K(2));var Ve=se.setInt8;P.setInt8(0,2147483648),P.setInt8(1,2147483649),!P.getInt8(0)&&P.getInt8(1)||p(se,{setInt8:function(Je,Ye){Ve.call(this,Je,Ye<<24>>24)},setUint8:function(Je,Ye){Ve.call(this,Je,Ye<<24>>24)}},{unsafe:!0})}else K=function(Te){T(this,K,J),Te=A(Te),ne(this,{bytes:B.call(new Array(Te),0),byteLength:Te}),c||(this.byteLength=Te)},R=function(Te,gt,Ye){T(this,R,q),T(Te,K,q);var bt=W(Te).byteLength;if((gt=F(gt))<0||bt<gt)throw De("Wrong offset");if(bt<gt+(Ye=void 0===Ye?bt-gt:k(Ye)))throw De("Wrong length");ne(this,{buffer:Te,byteLength:Ye,byteOffset:gt}),c||(this.buffer=Te,this.byteLength=Ye,this.byteOffset=gt)},c&&(a(K,"byteLength"),a(R,"buffer"),a(R,"byteLength"),a(R,"byteOffset")),p(R[ae],{getInt8:function(Te){return l(this,1,Te)[0]<<24>>24},getUint8:function(Te){return l(this,1,Te)[0]},getInt16:function(Te){return((Te=l(this,2,Te,1<arguments.length?arguments[1]:void 0))[1]<<8|Te[0])<<16>>16},getUint16:function(Te){return(Te=l(this,2,Te,1<arguments.length?arguments[1]:void 0))[1]<<8|Te[0]},getInt32:function(Te){return f(l(this,4,Te,1<arguments.length?arguments[1]:void 0))},getUint32:function(Te){return f(l(this,4,Te,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(Te){return Ze(l(this,4,Te,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(Te){return Ze(l(this,8,Te,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(Te,Je){d(this,1,Te,y,Je)},setUint8:function(Te,Je){d(this,1,Te,y,Je)},setInt16:function(Te,Je){d(this,2,Te,_,Je,2<arguments.length?arguments[2]:void 0)},setUint16:function(Te,Je){d(this,2,Te,_,Je,2<arguments.length?arguments[2]:void 0)},setInt32:function(Te,Je){d(this,4,Te,h,Je,2<arguments.length?arguments[2]:void 0)},setUint32:function(Te,Je){d(this,4,Te,h,Je,2<arguments.length?arguments[2]:void 0)},setFloat32:function(Te,Je){d(this,4,Te,E,Je,2<arguments.length?arguments[2]:void 0)},setFloat64:function(Te,Je){d(this,8,Te,w,Je,2<arguments.length?arguments[2]:void 0)}});z(K,J),z(R,q),H.exports={ArrayBuffer:K,DataView:R}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":108,"../internals/set-to-string-tag":118,"../internals/to-index":134,"../internals/to-integer":136,"../internals/to-length":137}],14:[function(r,H,C){"use strict";var y=r("../internals/to-object"),_=r("../internals/to-absolute-index"),h=r("../internals/to-length"),f=Math.min;H.exports=[].copyWithin||function(c,w){var a=y(this),l=h(a.length),d=_(c,l),u=_(w,l),s=f((void 0===(c=2<arguments.length?arguments[2]:void 0)?l:_(c,l))-u,l-d),m=1;for(u<d&&d<u+s&&(m=-1,u+=s-1,d+=s-1);0<s--;)u in a?a[d]=a[u]:delete a[d],d+=m,u+=m;return a}},{"../internals/to-absolute-index":133,"../internals/to-length":137,"../internals/to-object":138}],15:[function(r,H,C){"use strict";var y=r("../internals/to-object"),_=r("../internals/to-absolute-index"),h=r("../internals/to-length");H.exports=function(f){for(var l,E=y(this),w=h(E.length),a=_(1<(l=arguments.length)?arguments[1]:void 0,w),d=void 0===(l=2<l?arguments[2]:void 0)?w:_(l,w);a<d;)E[a++]=f;return E}},{"../internals/to-absolute-index":133,"../internals/to-length":137,"../internals/to-object":138}],16:[function(h,H,C){"use strict";var y=h("../internals/array-iteration").forEach,_=h("../internals/array-method-is-strict");h=h("../internals/array-method-uses-to-length"),_=_("forEach"),h=h("forEach"),H.exports=_&&h?[].forEach:function(f){return y(this,f,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(r,H,C){"use strict";var y=r("../internals/function-bind-context"),_=r("../internals/to-object"),h=r("../internals/call-with-safe-iteration-closing"),f=r("../internals/is-array-iterator-method"),E=r("../internals/to-length"),w=r("../internals/create-property"),a=r("../internals/get-iterator-method");H.exports=function(T){var d,u,c,s,m,p,b=_(T),F=(T="function"==typeof this?this:Array,arguments.length),k=1<F?arguments[1]:void 0,A=void 0!==k,P=a(b),$=0;if(A&&(k=y(k,2<F?arguments[2]:void 0,2)),null==P||T==Array&&f(P))for(u=new T(d=E(b.length));$<d;$++)p=A?k(b[$],$):b[$],w(u,$,p);else for(m=(s=P.call(b)).next,u=new T;!(c=m.call(s)).done;$++)p=A?h(s,k,[c.value,$],!0):c.value,w(u,$,p);return u.length=$,u}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137,"../internals/to-object":138}],18:[function(r,H,C){function y(E){return function(w,a,l){var d,u=_(w),c=h(u.length),s=f(l,c);if(E&&a!=a){for(;s<c;)if((d=u[s++])!=d)return!0}else for(;s<c;s++)if((E||s in u)&&u[s]===a)return E||s||0;return!E&&-1}}var _=r("../internals/to-indexed-object"),h=r("../internals/to-length"),f=r("../internals/to-absolute-index");H.exports={includes:y(!0),indexOf:y(!1)}},{"../internals/to-absolute-index":133,"../internals/to-indexed-object":135,"../internals/to-length":137}],19:[function(r,H,C){function y(l){var d=1==l,u=2==l,c=3==l,s=4==l,m=6==l,p=5==l||m;return function(b,T,F,k){for(var A,P,$=f(b),j=h($),N=_(T,F,3),I=E(j.length),B=0,z=(T=k||w,d?T(b,I):u?T(b,0):void 0);B<I;B++)if((p||B in j)&&(P=N(A=j[B],B,$),l))if(d)z[B]=P;else if(P)switch(l){case 3:return!0;case 5:return A;case 6:return B;case 2:a.call(z,A)}else if(s)return!1;return m?-1:c||s?s:z}}var _=r("../internals/function-bind-context"),h=r("../internals/indexed-object"),f=r("../internals/to-object"),E=r("../internals/to-length"),w=r("../internals/array-species-create"),a=[].push;H.exports={forEach:y(0),map:y(1),filter:y(2),some:y(3),every:y(4),find:y(5),findIndex:y(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":137,"../internals/to-object":138}],20:[function(l,H,C){"use strict";var y=l("../internals/to-indexed-object"),_=l("../internals/to-integer"),h=l("../internals/to-length"),a=l("../internals/array-method-is-strict"),f=(l=l("../internals/array-method-uses-to-length"),Math.min),E=[].lastIndexOf,w=!!E&&1/[1].lastIndexOf(1,-0)<0;a=a("lastIndexOf"),l=l("indexOf",{ACCESSORS:!0,1:0}),H.exports=!w&&a&&l?E:function(d){if(w)return E.apply(this,arguments)||0;var u=y(this),c=h(u.length),s=c-1;for((s=1<arguments.length?f(s,_(arguments[1])):s)<0&&(s=c+s);0<=s;s--)if(s in u&&u[s]===d)return s||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":135,"../internals/to-integer":136,"../internals/to-length":137}],21:[function(r,H,C){var y=r("../internals/fails"),_=r("../internals/well-known-symbol"),h=r("../internals/engine-v8-version"),f=_("species");H.exports=function(E){return 51<=h||!y(function(){var w=[];return(w.constructor={})[f]=function(){return{foo:1}},1!==w[E](Boolean).foo})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":149}],22:[function(r,H,C){"use strict";var y=r("../internals/fails");H.exports=function(_,h){var f=[][_];return!!f&&y(function(){f.call(null,h||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(r,H,C){function y(a){throw a}var _=r("../internals/descriptors"),h=r("../internals/fails"),f=r("../internals/has"),E=Object.defineProperty,w={};H.exports=function(a,l){var d,u,c,s;return f(w,a)?w[a]:(d=[][a],u=!!f(l=l||{},"ACCESSORS")&&l.ACCESSORS,c=f(l,0)?l[0]:y,s=f(l,1)?l[1]:void 0,w[a]=!!d&&!h(function(){if(u&&!_)return!0;var m={length:-1};u?E(m,1,{enumerable:!0,get:y}):m[1]=1,d.call(m,c,s)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(r,H,C){function y(w){return function(a,l,d,u){_(l);var c=h(a),s=f(c),m=E(c.length),p=w?m-1:0,b=w?-1:1;if(d<2)for(;;){if(p in s){u=s[p],p+=b;break}if(p+=b,w?p<0:m<=p)throw TypeError("Reduce of empty array with no initial value")}for(;w?0<=p:p<m;p+=b)p in s&&(u=l(u,s[p],p,c));return u}}var _=r("../internals/a-function"),h=r("../internals/to-object"),f=r("../internals/indexed-object"),E=r("../internals/to-length");H.exports={left:y(!1),right:y(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":137,"../internals/to-object":138}],25:[function(r,H,C){var y=r("../internals/is-object"),_=r("../internals/is-array"),h=r("../internals/well-known-symbol")("species");H.exports=function(f,E){var w;return new(void 0===(w=_(f)&&("function"==typeof(w=f.constructor)&&(w===Array||_(w.prototype))||y(w)&&null===(w=w[h]))?void 0:w)?Array:w)(0===E?0:E)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":149}],26:[function(r,H,C){var y=r("../internals/an-object");H.exports=function(_,h,f,E){try{return E?h(y(f)[0],f[1]):h(f)}catch(w){throw void 0!==(E=_.return)&&y(E.call(_)),w}}},{"../internals/an-object":10}],27:[function(r,H,C){var y=r("../internals/well-known-symbol")("iterator"),_=!1;try{var h=0,f={next:function(){return{done:!!h++}},return:function(){_=!0}};f[y]=function(){return this},Array.from(f,function(){throw 2})}catch{}H.exports=function(E,w){if(!w&&!_)return!1;var a=!1;try{var l={};l[y]=function(){return{next:function(){return{done:a=!0}}}},E(l)}catch{}return a}},{"../internals/well-known-symbol":149}],28:[function(r,H,C){var y={}.toString;H.exports=function(_){return y.call(_).slice(8,-1)}},{}],29:[function(r,H,C){var y=r("../internals/to-string-tag-support"),_=r("../internals/classof-raw"),h=r("../internals/well-known-symbol")("toStringTag"),f="Arguments"==_(function(){return arguments}());H.exports=y?_:function(E){var w;return void 0===E?"Undefined":null===E?"Null":"string"==typeof(w=function(a,l){try{return a[l]}catch{}}(E=Object(E),h))?w:f?_(E):"Object"==(w=_(E))&&"function"==typeof E.callee?"Arguments":w}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":142,"../internals/well-known-symbol":149}],30:[function(c,H,C){"use strict";var y=c("../internals/object-define-property").f,_=c("../internals/object-create"),h=c("../internals/redefine-all"),f=c("../internals/function-bind-context"),E=c("../internals/an-instance"),w=c("../internals/iterate"),a=c("../internals/define-iterator"),l=c("../internals/set-species"),d=c("../internals/descriptors"),u=c("../internals/internal-metadata").fastKey,s=(c=c("../internals/internal-state")).set,m=c.getterFor;H.exports={getConstructor:function(p,b,T,F){function k(j,N,I){var B,z=$(j),W=A(j,N);return W?W.value=I:(z.last=W={index:B=u(N,!0),key:N,value:I,previous:N=z.last,next:void 0,removed:!1},z.first||(z.first=W),N&&(N.next=W),d?z.size++:j.size++,"F"!==B&&(z.index[B]=W)),j}function A(B,N){B=$(B);var I,z=u(N);if("F"!==z)return B.index[z];for(I=B.first;I;I=I.next)if(I.key==N)return I}var P=p(function(j,N){E(j,P,b),s(j,{type:b,index:_(null),first:void 0,last:void 0,size:0}),d||(j.size=0),null!=N&&w(N,j[F],j,T)}),$=m(b);return h(P.prototype,{clear:function(){for(var j=$(this),N=j.index,I=j.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=void 0),delete N[I.index],I=I.next;j.first=j.last=void 0,d?j.size=0:this.size=0},delete:function(z){var N,I,B=$(this);return(z=A(this,z))&&(N=z.next,I=z.previous,delete B.index[z.index],z.removed=!0,I&&(I.next=N),N&&(N.previous=I),B.first==z&&(B.first=N),B.last==z&&(B.last=I),d?B.size--:this.size--),!!z},forEach:function(j){for(var N,I=$(this),B=f(j,1<arguments.length?arguments[1]:void 0,3);N=N?N.next:I.first;)for(B(N.value,N.key,this);N&&N.removed;)N=N.previous},has:function(j){return!!A(this,j)}}),h(P.prototype,T?{get:function(j){return(j=A(this,j))&&j.value},set:function(j,N){return k(this,0===j?0:j,N)}}:{add:function(j){return k(this,j=0===j?0:j,j)}}),d&&y(P.prototype,"size",{get:function(){return $(this).size}}),P},setStrong:function(p,b,T){var F=b+" Iterator",k=m(b),A=m(F);a(p,b,function(P,$){s(this,{type:F,target:P,state:k(P),kind:$,last:void 0})},function(){for(var P=A(this),$=P.kind,j=P.last;j&&j.removed;)j=j.previous;return P.target&&(P.last=j=j?j.next:P.state.first)?"keys"==$?{value:j.key,done:!1}:"values"==$?{value:j.value,done:!1}:{value:[j.key,j.value],done:!1}:{value:P.target=void 0,done:!0}},T?"entries":"values",!T,!0),l(b)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":108,"../internals/set-species":117}],31:[function(s,H,C){"use strict";function y(k){return k.frozen||(k.frozen=new _)}function _(){this.entries=[]}function h(k,A){return b(k.entries,function(P){return P[0]===A})}var f=s("../internals/redefine-all"),E=s("../internals/internal-metadata").getWeakData,w=s("../internals/an-object"),a=s("../internals/is-object"),l=s("../internals/an-instance"),d=s("../internals/iterate"),u=s("../internals/array-iteration"),c=s("../internals/has"),m=(s=s("../internals/internal-state")).set,p=s.getterFor,b=u.find,T=u.findIndex,F=0;_.prototype={get:function(k){if(k=h(this,k))return k[1]},has:function(k){return!!h(this,k)},set:function(k,A){var P=h(this,k);P?P[1]=A:this.entries.push([k,A])},delete:function(k){var A=T(this.entries,function(P){return P[0]===k});return~A&&this.entries.splice(A,1),!!~A}},H.exports={getConstructor:function(k,A,P,$){function j(B,z,W){var ne=I(B),J=E(w(z),!0);return!0===J?y(ne).set(z,W):J[ne.id]=W,B}var N=k(function(B,z){l(B,N,A),m(B,{type:A,id:F++,frozen:void 0}),null!=z&&d(z,B[$],B,P)}),I=p(A);return f(N.prototype,{delete:function(B){var z,W=I(this);return!!a(B)&&(!0===(z=E(B))?y(W).delete(B):z&&c(z,W.id)&&delete z[W.id])},has:function(B){var z,W=I(this);return!!a(B)&&(!0===(z=E(B))?y(W).has(B):z&&c(z,W.id))}}),f(N.prototype,P?{get:function(B){var z,W=I(this);if(a(B))return!0===(z=E(B))?y(W).get(B):z?z[W.id]:void 0},set:function(B,z){return j(this,B,z)}}:{add:function(B){return j(this,B,!0)}}),N}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":108}],32:[function(r,H,C){"use strict";var y=r("../internals/export"),_=r("../internals/global"),h=r("../internals/is-forced"),f=r("../internals/redefine"),E=r("../internals/internal-metadata"),w=r("../internals/iterate"),a=r("../internals/an-instance"),l=r("../internals/is-object"),d=r("../internals/fails"),u=r("../internals/check-correctness-of-iteration"),c=r("../internals/set-to-string-tag"),s=r("../internals/inherit-if-required");H.exports=function(m,p,b){function T(J){var q=z[J];f(z,J,"add"==J?function(ae){return q.call(this,0===ae?0:ae),this}:"delete"==J?function(ae){return!(N&&!l(ae))&&q.call(this,0===ae?0:ae)}:"get"==J?function(ae){return N&&!l(ae)?void 0:q.call(this,0===ae?0:ae)}:"has"==J?function(ae){return!(N&&!l(ae))&&q.call(this,0===ae?0:ae)}:function(ae,fe){return q.call(this,0===ae?0:ae,fe),this})}var F,k,A,P,$,j=-1!==m.indexOf("Map"),N=-1!==m.indexOf("Weak"),I=j?"set":"add",B=_[m],z=B&&B.prototype,W=B,ne={};return h(m,"function"!=typeof B||!(N||z.forEach&&!d(function(){(new B).entries().next()})))?(W=b.getConstructor(p,m,j,I),E.REQUIRED=!0):h(m,!0)&&(k=(F=new W)[I](N?{}:-0,1)!=F,A=d(function(){F.has(1)}),P=u(function(J){new B(J)}),$=!N&&d(function(){for(var J=new B,q=5;q--;)J[I](q,q);return!J.has(-0)}),P||(((W=p(function(J,q){return a(J,W,m),J=s(new B,J,W),null!=q&&w(q,J[I],J,j),J})).prototype=z).constructor=W),(A||$)&&(T("delete"),T("has"),j&&T("get")),($||k)&&T(I),N&&z.clear&&delete z.clear),ne[m]=W,y({global:!0,forced:W!=B},ne),c(W,m),N||b.setStrong(W,m,j),W}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":109,"../internals/set-to-string-tag":118}],33:[function(r,H,C){var y=r("../internals/has"),_=r("../internals/own-keys"),h=r("../internals/object-get-own-property-descriptor"),f=r("../internals/object-define-property");H.exports=function(E,w){for(var a=_(w),l=f.f,d=h.f,u=0;u<a.length;u++){var c=a[u];y(E,c)||l(E,c,d(w,c))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":104}],34:[function(r,H,C){var y=r("../internals/well-known-symbol")("match");H.exports=function(_){var h=/./;try{"/./"[_](h)}catch{try{return h[y]=!1,"/./"[_](h)}catch{}}return!1}},{"../internals/well-known-symbol":149}],35:[function(r,H,C){r=r("../internals/fails"),H.exports=!r(function(){function y(){}return y.prototype.constructor=null,Object.getPrototypeOf(new y)!==y.prototype})},{"../internals/fails":51}],36:[function(r,H,C){var y=r("../internals/require-object-coercible"),_=/"/g;H.exports=function(a,f,E,w){a=String(y(a));var l="<"+f;return""!==E&&(l+=" "+E+'="'+String(w).replace(_,"&quot;")+'"'),l+">"+a+"</"+f+">"}},{"../internals/require-object-coercible":114}],37:[function(r,H,C){"use strict";function y(){return this}var _=r("../internals/iterators-core").IteratorPrototype,h=r("../internals/object-create"),f=r("../internals/create-property-descriptor"),E=r("../internals/set-to-string-tag"),w=r("../internals/iterators");H.exports=function(a,l,d){return l+=" Iterator",a.prototype=h(_,{next:f(1,d)}),E(a,l,!1,!0),w[l]=y,a}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":118}],38:[function(r,H,C){var y=r("../internals/descriptors"),_=r("../internals/object-define-property"),h=r("../internals/create-property-descriptor");H.exports=y?function(f,E,w){return _.f(f,E,h(1,w))}:function(f,E,w){return f[E]=w,f}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(r,H,C){H.exports=function(y,_){return{enumerable:!(1&y),configurable:!(2&y),writable:!(4&y),value:_}}},{}],40:[function(r,H,C){"use strict";var y=r("../internals/to-primitive"),_=r("../internals/object-define-property"),h=r("../internals/create-property-descriptor");H.exports=function(f,E,w){(E=y(E))in f?_.f(f,E,h(0,w)):f[E]=w}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":141}],41:[function(s,H,C){"use strict";function y(){return this}var _=s("../internals/export"),h=s("../internals/create-iterator-constructor"),f=s("../internals/object-get-prototype-of"),E=s("../internals/object-set-prototype-of"),w=s("../internals/set-to-string-tag"),a=s("../internals/create-non-enumerable-property"),l=s("../internals/redefine"),d=s("../internals/well-known-symbol"),u=s("../internals/is-pure"),c=s("../internals/iterators"),m=(s=s("../internals/iterators-core")).IteratorPrototype,p=s.BUGGY_SAFARI_ITERATORS,b=d("iterator"),T="values",F="entries";H.exports=function(k,A,P,ne,j,N,I){function B(K){if(K===j&&fe)return fe;if(!p&&K in q)return q[K];switch(K){case"keys":case T:case F:return function(){return new P(this,K)}}return function(){return new P(this)}}h(P,A,ne),ne=A+" Iterator";var z,W,J=!1,q=k.prototype,ae=q[b]||q["@@iterator"]||j&&q[j],fe=!p&&ae||B(j),Se="Array"==A&&q.entries||ae;if(Se&&(Se=f(Se.call(new k)),m!==Object.prototype&&Se.next&&(u||f(Se)===m||(E?E(Se,m):"function"!=typeof Se[b]&&a(Se,b,y)),w(Se,ne,!0,!0),u&&(c[ne]=y))),j==T&&ae&&ae.name!==T&&(J=!0,fe=function(){return ae.call(this)}),u&&!I||q[b]===fe||a(q,b,fe),c[A]=fe,j)if(z={values:B(T),keys:N?fe:B("keys"),entries:B(F)},I)for(W in z)!p&&!J&&W in q||l(q,W,z[W]);else _({target:A,proto:!0,forced:p||J},z);return z}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/well-known-symbol":149}],42:[function(r,H,C){var y=r("../internals/path"),_=r("../internals/has"),h=r("../internals/well-known-symbol-wrapped"),f=r("../internals/object-define-property").f;H.exports=function(E){var w=y.Symbol||(y.Symbol={});_(w,E)||f(w,E,{value:h.f(E)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":105,"../internals/well-known-symbol-wrapped":148}],43:[function(r,H,C){r=r("../internals/fails"),H.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":51}],44:[function(_,H,C){var y=_("../internals/global"),h=(_=_("../internals/is-object"),y.document),f=_(h)&&_(h.createElement);H.exports=function(E){return f?h.createElement(E):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(r,H,C){H.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(r,H,C){r=r("../internals/engine-user-agent"),H.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},{"../internals/engine-user-agent":47}],47:[function(r,H,C){r=r("../internals/get-built-in"),H.exports=r("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(h,H,C){var y,_,f=h("../internals/global");h=h("../internals/engine-user-agent"),(f=(f=(f=f.process)&&f.versions)&&f.v8)?_=(y=f.split("."))[0]+y[1]:h&&(!(y=h.match(/Edge\/(\d+)/))||74<=y[1])&&(y=h.match(/Chrome\/(\d+)/))&&(_=y[1]),H.exports=_&&+_},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(r,H,C){H.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(r,H,C){var y=r("../internals/global"),_=r("../internals/object-get-own-property-descriptor").f,h=r("../internals/create-non-enumerable-property"),f=r("../internals/redefine"),E=r("../internals/set-global"),w=r("../internals/copy-constructor-properties"),a=r("../internals/is-forced");H.exports=function(l,d){var u,c,s,m=l.target,p=l.global,b=l.stat,T=p?y:b?y[m]||E(m,{}):(y[m]||{}).prototype;if(T)for(u in d){if(c=d[u],s=l.noTargetGet?(s=_(T,u))&&s.value:T[u],!a(p?u:m+(b?".":"#")+u,l.forced)&&void 0!==s){if(typeof c==typeof s)continue;w(c,s)}(l.sham||s&&s.sham)&&h(c,"sham",!0),f(T,u,c,l)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":109,"../internals/set-global":116}],51:[function(r,H,C){H.exports=function(y){try{return!!y()}catch{return!0}}},{}],52:[function(d,H,C){"use strict";d("../modules/es.regexp.exec");var y=d("../internals/redefine"),_=d("../internals/fails"),h=d("../internals/well-known-symbol"),f=d("../internals/regexp-exec"),E=d("../internals/create-non-enumerable-property"),w=h("species"),a=!_(function(){var s=/./;return s.exec=function(){var m=[];return m.groups={a:"7"},m},"7"!=="".replace(s,"$<a>")}),l="$0"==="a".replace(/./,"$0"),u=!!/./[d=h("replace")]&&""===/./[d]("a","$0"),c=!_(function(){var s=(m=/(?:)/).exec,m=(m.exec=function(){return s.apply(this,arguments)},"ab".split(m));return 2!==m.length||"a"!==m[0]||"b"!==m[1]});H.exports=function(s,m,p,b){var T,F,k=h(s),A=!_(function(){var $={};return $[k]=function(){return 7},7!=""[s]($)}),P=A&&!_(function(){var $=!1,j=/a/;return"split"===s&&((j={constructor:{}}).constructor[w]=function(){return j},j.flags="",j[k]=/./[k]),j.exec=function(){return $=!0,null},j[k](""),!$});A&&P&&("replace"!==s||a&&l&&!u)&&("split"!==s||c)||(T=/./[k],p=(P=p(k,""[s],function($,j,N,I,B){return j.exec===f?A&&!B?{done:!0,value:T.call(j,N,I)}:{done:!0,value:$.call(N,j,I)}:{done:!1}},{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:u}))[0],F=P[1],y(String.prototype,s,p),y(RegExp.prototype,k,2==m?function($,j){return F.call($,this,j)}:function($){return F.call($,this)})),b&&E(RegExp.prototype[k],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":109,"../internals/regexp-exec":111,"../internals/well-known-symbol":149,"../modules/es.regexp.exec":192}],53:[function(r,H,C){"use strict";var _=r("../internals/is-array"),h=r("../internals/to-length"),f=r("../internals/function-bind-context");H.exports=function y(E,w,a,l,d,u,c,s){for(var m,p=d,b=0,T=!!c&&f(c,s,3);b<l;){if(b in a){if(m=T?T(a[b],b,w):a[b],0<u&&_(m))p=y(E,w,m,h(m.length),p,u-1)-1;else{if(9007199254740991<=p)throw TypeError("Exceed the acceptable array length");E[p]=m}p++}b++}return p}},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":137}],54:[function(r,H,C){r=r("../internals/fails"),H.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(r,H,C){var y=r("../internals/a-function");H.exports=function(_,h,f){if(y(_),void 0===h)return _;switch(f){case 0:return function(){return _.call(h)};case 1:return function(E){return _.call(h,E)};case 2:return function(E,w){return _.call(h,E,w)};case 3:return function(E,w,a){return _.call(h,E,w,a)}}return function(){return _.apply(h,arguments)}}},{"../internals/a-function":5}],56:[function(r,H,C){"use strict";var y=r("../internals/a-function"),_=r("../internals/is-object"),h=[].slice,f={};H.exports=Function.bind||function(E){var w=y(this),a=h.call(arguments,1),l=function(){var d=a.concat(h.call(arguments));if(this instanceof l){var u=w,c=d.length,s=d;if(!(c in f)){for(var m=[],p=0;p<c;p++)m[p]="a["+p+"]";f[c]=Function("C,a","return new C("+m.join(",")+")")}return f[c](u,s)}return w.apply(E,d)};return _(w.prototype)&&(l.prototype=w.prototype),l}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(r,H,C){function y(f){return"function"==typeof f?f:void 0}var _=r("../internals/path"),h=r("../internals/global");H.exports=function(f,E){return arguments.length<2?y(_[f])||y(h[f]):_[f]&&_[f][E]||h[f]&&h[f][E]}},{"../internals/global":60,"../internals/path":105}],58:[function(r,H,C){var y=r("../internals/classof"),_=r("../internals/iterators"),h=r("../internals/well-known-symbol")("iterator");H.exports=function(f){if(null!=f)return f[h]||f["@@iterator"]||_[y(f)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":149}],59:[function(r,H,C){var y=r("../internals/an-object"),_=r("../internals/get-iterator-method");H.exports=function(h){var f=_(h);if("function"!=typeof f)throw TypeError(String(h)+" is not iterable");return y(f.call(h))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(r,H,C){(function(y){function _(h){return h&&h.Math==Math&&h}H.exports=_("object"==typeof globalThis&&globalThis)||_("object"==typeof window&&window)||_("object"==typeof self&&self)||_("object"==typeof y&&y)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(r,H,C){var y={}.hasOwnProperty;H.exports=function(_,h){return y.call(_,h)}},{}],62:[function(r,H,C){H.exports={}},{}],63:[function(r,H,C){var y=r("../internals/global");H.exports=function(_,h){var f=y.console;f&&f.error&&(1===arguments.length?f.error(_):f.error(_,h))}},{"../internals/global":60}],64:[function(r,H,C){r=r("../internals/get-built-in"),H.exports=r("document","documentElement")},{"../internals/get-built-in":57}],65:[function(r,H,C){var y=r("../internals/descriptors"),_=r("../internals/fails"),h=r("../internals/document-create-element");H.exports=!y&&!_(function(){return 7!=Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(r,H,C){var y=Math.abs,_=Math.pow,h=Math.floor,f=Math.log,E=Math.LN2;H.exports={pack:function(w,a,p){var d,u,c,s=new Array(p),m=8*p-a-1,b=(p=(1<<m)-1)>>1,T=23===a?_(2,-24)-_(2,-77):0,F=w<0||0===w&&1/w<0?1:0,k=0;for((w=y(w))!=w||w===1/0?(u=w!=w?1:0,d=p):(d=h(f(w)/E),w*(c=_(2,-d))<1&&(d--,c*=2),2<=(w+=1<=d+b?T/c:T*_(2,1-b))*c&&(d++,c/=2),p<=d+b?(u=0,d=p):1<=d+b?(u=(w*c-1)*_(2,a),d+=b):(u=w*_(2,b-1)*_(2,a),d=0));8<=a;s[k++]=255&u,u/=256,a-=8);for(d=d<<a|u,m+=a;0<m;s[k++]=255&d,d/=256,m-=8);return s[--k]|=128*F,s},unpack:function(w,a){var l,p,d=w.length,u=(1<<(p=8*d-a-1))-1,c=u>>1,s=p-7,m=d-1,b=127&(p=w[m--]);for(p>>=7;0<s;b=256*b+w[m],m--,s-=8);for(l=b&(1<<-s)-1,b>>=-s,s+=a;0<s;l=256*l+w[m],m--,s-=8);if(0===b)b=1-c;else{if(b===u)return l?NaN:p?-1/0:1/0;l+=_(2,a),b-=c}return(p?-1:1)*l*_(2,b-a)}}},{}],67:[function(r,H,C){var y=r("../internals/fails"),_=r("../internals/classof-raw"),h="".split;H.exports=y(function(){return!Object("z").propertyIsEnumerable(0)})?function(f){return"String"==_(f)?h.call(f,""):Object(f)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(r,H,C){var y=r("../internals/is-object"),_=r("../internals/object-set-prototype-of");H.exports=function(h,f,E){return _&&"function"==typeof(f=f.constructor)&&f!==E&&y(f=f.prototype)&&f!==E.prototype&&_(h,f),h}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(y,H,C){y=y("../internals/shared-store");var _=Function.toString;"function"!=typeof y.inspectSource&&(y.inspectSource=function(h){return _.call(h)}),H.exports=y.inspectSource},{"../internals/shared-store":120}],70:[function(r,H,C){function y(s){E(s,l,{value:{objectID:"O"+ ++d,weakData:{}}})}var _=r("../internals/hidden-keys"),h=r("../internals/is-object"),f=r("../internals/has"),E=r("../internals/object-define-property").f,w=r("../internals/uid"),a=r("../internals/freezing"),l=w("meta"),d=0,u=Object.isExtensible||function(){return!0},c=H.exports={REQUIRED:!1,fastKey:function(s,m){if(!h(s))return"symbol"==typeof s?s:("string"==typeof s?"S":"P")+s;if(!f(s,l)){if(!u(s))return"F";if(!m)return"E";y(s)}return s[l].objectID},getWeakData:function(s,m){if(!f(s,l)){if(!u(s))return!0;if(!m)return!1;y(s)}return s[l].weakData},onFreeze:function(s){return a&&c.REQUIRED&&u(s)&&!f(s,l)&&y(s),s}};_[l]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":146}],71:[function(p,H,C){var y,_,h,f,E,w,a,l,d=p("../internals/native-weak-map"),b=p("../internals/global"),u=p("../internals/is-object"),c=p("../internals/create-non-enumerable-property"),s=p("../internals/has"),m=p("../internals/shared-key");p=p("../internals/hidden-keys"),b=b.WeakMap,a=d?(y=new b,_=y.get,h=y.has,f=y.set,E=function(T,F){return f.call(y,T,F),F},w=function(T){return _.call(y,T)||{}},function(T){return h.call(y,T)}):(p[l=m("state")]=!0,E=function(T,F){return c(T,l,F),F},w=function(T){return s(T,l)?T[l]:{}},function(T){return s(T,l)}),H.exports={set:E,get:w,has:a,enforce:function(T){return a(T)?w(T):E(T,{})},getterFor:function(T){return function(F){if(u(F)&&(F=w(F)).type===T)return F;throw TypeError("Incompatible receiver, "+T+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":119}],72:[function(r,H,C){var y=r("../internals/well-known-symbol"),_=r("../internals/iterators"),h=y("iterator"),f=Array.prototype;H.exports=function(E){return void 0!==E&&(_.Array===E||f[h]===E)}},{"../internals/iterators":80,"../internals/well-known-symbol":149}],73:[function(r,H,C){var y=r("../internals/classof-raw");H.exports=Array.isArray||function(_){return"Array"==y(_)}},{"../internals/classof-raw":28}],74:[function(r,H,C){function y(l,d){return(l=E[f(l)])==a||l!=w&&("function"==typeof d?_(d):!!d)}var _=r("../internals/fails"),h=/#|\.prototype\./,f=y.normalize=function(l){return String(l).replace(h,".").toLowerCase()},E=y.data={},w=y.NATIVE="N",a=y.POLYFILL="P";H.exports=y},{"../internals/fails":51}],75:[function(r,H,C){H.exports=function(y){return"object"==typeof y?null!==y:"function"==typeof y}},{}],76:[function(r,H,C){H.exports=!1},{}],77:[function(r,H,C){var y=r("../internals/is-object"),_=r("../internals/classof-raw"),h=r("../internals/well-known-symbol")("match");H.exports=function(f){var E;return y(f)&&(void 0!==(E=f[h])?!!E:"RegExp"==_(f))}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":149}],78:[function(r,H,C){function y(l,d){this.stopped=l,this.result=d}var _=r("../internals/an-object"),h=r("../internals/is-array-iterator-method"),f=r("../internals/to-length"),E=r("../internals/function-bind-context"),w=r("../internals/get-iterator-method"),a=r("../internals/call-with-safe-iteration-closing");(H.exports=function(l,d,u,c,s){var m,p,b,T,F,k,A=E(d,u,c?2:1);if(s)m=l;else{if("function"!=typeof(d=w(l)))throw TypeError("Target is not iterable");if(h(d)){for(p=0,b=f(l.length);p<b;p++)if((T=c?A(_(k=l[p])[0],k[1]):A(l[p]))&&T instanceof y)return T;return new y(!1)}m=d.call(l)}for(F=m.next;!(k=F.call(m)).done;)if("object"==typeof(T=a(m,A,k.value,c))&&T&&T instanceof y)return T;return new y(!1)}).stop=function(l){return new y(!0,l)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137}],79:[function(w,H,C){"use strict";var y,_,h=w("../internals/object-get-prototype-of"),f=w("../internals/create-non-enumerable-property"),E=w("../internals/has"),a=w("../internals/well-known-symbol"),l=(w=w("../internals/is-pure"),a=a("iterator"),!1);[].keys&&("next"in(_=[].keys())?(h=h(h(_)))!==Object.prototype&&(y=h):l=!0),null==y&&(y={}),w||E(y,a)||f(y,a,function(){return this}),H.exports={IteratorPrototype:y,BUGGY_SAFARI_ITERATORS:l}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":149}],80:[function(r,H,C){H.exports={}},{}],81:[function(r,H,C){H.exports=Math.sign||function(y){return 0==(y=+y)||y!=y?y:y<0?-1:1}},{}],82:[function(c,H,C){var y,_,h,f,E,w,a,l,d=c("../internals/global"),F=c("../internals/object-get-own-property-descriptor").f,T=c("../internals/classof-raw"),u=c("../internals/task").set,s=(c=c("../internals/engine-is-ios"),d.MutationObserver||d.WebKitMutationObserver),m=d.process,p=d.Promise,b="process"==T(m);T=F(d,"queueMicrotask"),(F=T&&T.value)||(y=function(){var k,A;for(b&&(k=m.domain)&&k.exit();_;){A=_.fn,_=_.next;try{A()}catch(P){throw _?f():h=void 0,P}}h=void 0,k&&k.enter()},f=b?function(){m.nextTick(y)}:s&&!c?(E=!0,w=document.createTextNode(""),new s(y).observe(w,{characterData:!0}),function(){w.data=E=!E}):p&&p.resolve?(a=p.resolve(void 0),l=a.then,function(){l.call(a,y)}):function(){u.call(d,y)}),H.exports=F||function(k){k={fn:k,next:void 0},h&&(h.next=k),_||(_=k,f()),h=k}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":131}],83:[function(r,H,C){r=r("../internals/global"),H.exports=r.Promise},{"../internals/global":60}],84:[function(r,H,C){r=r("../internals/fails"),H.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(r,H,C){var y=r("../internals/fails"),_=r("../internals/well-known-symbol"),h=r("../internals/is-pure"),f=_("iterator");H.exports=!y(function(){var E=new URL("b?a=1&b=2&c=3","http://a"),w=E.searchParams,a="";return E.pathname="c%20d",w.forEach(function(l,d){w.delete("b"),a+=d+l}),h&&!E.toJSON||!w.sort||"http://a/c%20d?a=1&c=3"!==E.href||"3"!==w.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!w[f]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":149}],86:[function(y,H,C){var _=y("../internals/global");y=y("../internals/inspect-source"),H.exports="function"==typeof(_=_.WeakMap)&&/native code/.test(y(_))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(r,H,C){"use strict";function y(h){var f,E;this.promise=new h(function(w,a){if(void 0!==f||void 0!==E)throw TypeError("Bad Promise constructor");f=w,E=a}),this.resolve=_(f),this.reject=_(E)}var _=r("../internals/a-function");H.exports.f=function(h){return new y(h)}},{"../internals/a-function":5}],88:[function(r,H,C){var y=r("../internals/is-regexp");H.exports=function(_){if(y(_))throw TypeError("The method doesn't accept regular expressions");return _}},{"../internals/is-regexp":77}],89:[function(r,H,C){var y=r("../internals/global").isFinite;H.exports=Number.isFinite||function(_){return"number"==typeof _&&y(_)}},{"../internals/global":60}],90:[function(r,H,C){"use strict";var y=r("../internals/descriptors"),_=r("../internals/fails"),h=r("../internals/object-keys"),f=r("../internals/object-get-own-property-symbols"),E=r("../internals/object-property-is-enumerable"),w=r("../internals/to-object"),a=r("../internals/indexed-object"),l=Object.assign,d=Object.defineProperty;H.exports=!l||_(function(){var u,c,s,m;return!(!y||1===l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(c={},m="abcdefghijklmnopqrst",(u={})[s=Symbol()]=7,m.split("").forEach(function(p){c[p]=p}),7!=l({},u)[s]||h(l({},c)).join("")!=m)})?function(u,c){for(var s=w(u),m=arguments.length,p=1,b=f.f,T=E.f;p<m;)for(var F,k=a(arguments[p++]),A=b?h(k).concat(b(k)):h(k),P=A.length,$=0;$<P;)F=A[$++],y&&!T.call(k,F)||(s[F]=k[F]);return s}:l},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":138}],91:[function(d,H,C){function y(){}var _,h=d("../internals/an-object"),f=d("../internals/object-define-properties"),E=d("../internals/enum-bug-keys"),w=d("../internals/hidden-keys"),a=d("../internals/html"),l=d("../internals/document-create-element"),u=(d=d("../internals/shared-key"),"prototype"),c="script",s=d("IE_PROTO"),m=function(b){return"<"+c+">"+b+"</"+c+">"},p=function(){try{_=document.domain&&new ActiveXObject("htmlfile")}catch{}p=_?((b=_).write(m("")),b.close(),T=b.parentWindow.Object,b=null,T):(b=l("iframe"),T="java"+c+":",b.style.display="none",a.appendChild(b),b.src=String(T),(T=b.contentWindow.document).open(),T.write(m("document.F=Object")),T.close(),T.F);for(var b,T,F=E.length;F--;)delete p[u][E[F]];return p()};w[s]=!0,H.exports=Object.create||function(b,T){var F;return null!==b?(y[u]=h(b),F=new y,y[u]=null,F[s]=b):F=p(),void 0===T?F:f(F,T)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":119}],92:[function(r,H,C){var y=r("../internals/descriptors"),_=r("../internals/object-define-property"),h=r("../internals/an-object"),f=r("../internals/object-keys");H.exports=y?Object.defineProperties:function(E,w){h(E);for(var a,l=f(w),d=l.length,u=0;u<d;)_.f(E,a=l[u++],w[a]);return E}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(r,H,C){var y=r("../internals/descriptors"),_=r("../internals/ie8-dom-define"),h=r("../internals/an-object"),f=r("../internals/to-primitive"),E=Object.defineProperty;C.f=y?E:function(w,a,l){if(h(w),a=f(a,!0),h(l),_)try{return E(w,a,l)}catch{}if("get"in l||"set"in l)throw TypeError("Accessors not supported");return"value"in l&&(w[a]=l.value),w}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":141}],94:[function(r,H,C){var y=r("../internals/descriptors"),_=r("../internals/object-property-is-enumerable"),h=r("../internals/create-property-descriptor"),f=r("../internals/to-indexed-object"),E=r("../internals/to-primitive"),w=r("../internals/has"),a=r("../internals/ie8-dom-define"),l=Object.getOwnPropertyDescriptor;C.f=y?l:function(d,u){if(d=f(d),u=E(u,!0),a)try{return l(d,u)}catch{}if(w(d,u))return h(!_.f.call(d,u),d[u])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":135,"../internals/to-primitive":141}],95:[function(r,H,C){var y=r("../internals/to-indexed-object"),_=r("../internals/object-get-own-property-names").f,h={}.toString,f="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];H.exports.f=function(E){if(!f||"[object Window]"!=h.call(E))return _(y(E));try{return _(E)}catch{return f.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":135}],96:[function(r,H,C){var y=r("../internals/object-keys-internal"),_=r("../internals/enum-bug-keys").concat("length","prototype");C.f=Object.getOwnPropertyNames||function(h){return y(h,_)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(r,H,C){C.f=Object.getOwnPropertySymbols},{}],98:[function(f,H,C){var y=f("../internals/has"),_=f("../internals/to-object"),h=f("../internals/shared-key"),E=(f=f("../internals/correct-prototype-getter"),h("IE_PROTO")),w=Object.prototype;H.exports=f?Object.getPrototypeOf:function(a){return a=_(a),y(a,E)?a[E]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?w:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":119,"../internals/to-object":138}],99:[function(r,H,C){var y=r("../internals/has"),_=r("../internals/to-indexed-object"),h=r("../internals/array-includes").indexOf,f=r("../internals/hidden-keys");H.exports=function(E,w){var a,l=_(E),d=0,u=[];for(a in l)!y(f,a)&&y(l,a)&&u.push(a);for(;w.length>d;)!y(l,a=w[d++])||~h(u,a)||u.push(a);return u}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":135}],100:[function(r,H,C){var y=r("../internals/object-keys-internal"),_=r("../internals/enum-bug-keys");H.exports=Object.keys||function(h){return y(h,_)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(r,H,C){"use strict";var y={}.propertyIsEnumerable,_=Object.getOwnPropertyDescriptor,h=_&&!y.call({1:2},1);C.f=h?function(f){return!!(f=_(this,f))&&f.enumerable}:y},{}],102:[function(r,H,C){var y=r("../internals/an-object"),_=r("../internals/a-possible-prototype");H.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var h,f=!1,E={};try{(h=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(E,[]),f=E instanceof Array}catch{}return function(w,a){return y(w),_(a),f?h.call(w,a):w.__proto__=a,w}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(r,H,C){"use strict";var y=r("../internals/to-string-tag-support"),_=r("../internals/classof");H.exports=y?{}.toString:function(){return"[object "+_(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":142}],104:[function(r,H,C){var y=r("../internals/get-built-in"),_=r("../internals/object-get-own-property-names"),h=r("../internals/object-get-own-property-symbols"),f=r("../internals/an-object");H.exports=y("Reflect","ownKeys")||function(E){var w=_.f(f(E)),a=h.f;return a?w.concat(a(E)):w}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],105:[function(r,H,C){r=r("../internals/global"),H.exports=r},{"../internals/global":60}],106:[function(r,H,C){H.exports=function(y){try{return{error:!1,value:y()}}catch(_){return{error:!0,value:_}}}},{}],107:[function(r,H,C){var y=r("../internals/an-object"),_=r("../internals/is-object"),h=r("../internals/new-promise-capability");H.exports=function(f,E){return y(f),_(E)&&E.constructor===f?E:((0,(f=h.f(f)).resolve)(E),f.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],108:[function(r,H,C){var y=r("../internals/redefine");H.exports=function(_,h,f){for(var E in h)y(_,E,h[E],f);return _}},{"../internals/redefine":109}],109:[function(w,H,C){var y=w("../internals/global"),_=w("../internals/create-non-enumerable-property"),h=w("../internals/has"),f=w("../internals/set-global"),E=w("../internals/inspect-source"),a=(w=w("../internals/internal-state")).get,l=w.enforce,d=String(String).split("String");(H.exports=function(u,c,s,T){var p=!!T&&!!T.unsafe,b=!!T&&!!T.enumerable;T=!!T&&!!T.noTargetGet,"function"==typeof s&&("string"!=typeof c||h(s,"name")||_(s,"name",c),l(s).source=d.join("string"==typeof c?c:"")),u===y?b?u[c]=s:f(c,s):(p?!T&&u[c]&&(b=!0):delete u[c],b?u[c]=s:_(u,c,s))})(Function.prototype,"toString",function(){return"function"==typeof this&&a(this).source||E(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":116}],110:[function(r,H,C){var y=r("./classof-raw"),_=r("./regexp-exec");H.exports=function(h,f){var E=h.exec;if("function"==typeof E){if("object"!=typeof(E=E.call(h,f)))throw TypeError("RegExp exec method returned something other than an Object or null");return E}if("RegExp"!==y(h))throw TypeError("RegExp#exec called on incompatible receiver");return _.call(h,f)}},{"./classof-raw":28,"./regexp-exec":111}],111:[function(f,H,C){"use strict";var y,_,h=f("./regexp-flags"),E=(f=f("./regexp-sticky-helpers"),RegExp.prototype.exec),w=String.prototype.replace,a=E,l=(_=/b*/g,E.call(y=/a/,"a"),E.call(_,"a"),0!==y.lastIndex||0!==_.lastIndex),d=f.UNSUPPORTED_Y||f.BROKEN_CARET,u=void 0!==/()??/.exec("")[1];H.exports=a=l||u||d?function(c){var s,m,p,b,T=this,F=d&&T.sticky,k=h.call(T),A=T.source,P=0,$=c;return F&&(-1===(k=k.replace("y","")).indexOf("g")&&(k+="g"),$=String(c).slice(T.lastIndex),0<T.lastIndex&&(!T.multiline||T.multiline&&"\n"!==c[T.lastIndex-1])&&(A="(?: "+A+")",$=" "+$,P++),m=new RegExp("^(?:"+A+")",k)),u&&(m=new RegExp("^"+A+"$(?!\\s)",k)),l&&(s=T.lastIndex),p=E.call(F?m:T,$),F?p?(p.input=p.input.slice(P),p[0]=p[0].slice(P),p.index=T.lastIndex,T.lastIndex+=p[0].length):T.lastIndex=0:l&&p&&(T.lastIndex=T.global?p.index+p[0].length:s),u&&p&&1<p.length&&w.call(p[0],m,function(){for(b=1;b<arguments.length-2;b++)void 0===arguments[b]&&(p[b]=void 0)}),p}:a},{"./regexp-flags":112,"./regexp-sticky-helpers":113}],112:[function(r,H,C){"use strict";var y=r("../internals/an-object");H.exports=function(){var _=y(this),h="";return _.global&&(h+="g"),_.ignoreCase&&(h+="i"),_.multiline&&(h+="m"),_.dotAll&&(h+="s"),_.unicode&&(h+="u"),_.sticky&&(h+="y"),h}},{"../internals/an-object":10}],113:[function(r,H,C){"use strict";function y(_,h){return RegExp(_,h)}r=r("./fails"),C.UNSUPPORTED_Y=r(function(){var _=y("a","y");return _.lastIndex=2,null!=_.exec("abcd")}),C.BROKEN_CARET=r(function(){var _=y("^r","gy");return _.lastIndex=2,null!=_.exec("str")})},{"./fails":51}],114:[function(r,H,C){H.exports=function(y){if(null==y)throw TypeError("Can't call method on "+y);return y}},{}],115:[function(r,H,C){H.exports=Object.is||function(y,_){return y===_?0!==y||1/y==1/_:y!=y&&_!=_}},{}],116:[function(r,H,C){var y=r("../internals/global"),_=r("../internals/create-non-enumerable-property");H.exports=function(h,f){try{_(y,h,f)}catch{y[h]=f}return f}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],117:[function(r,H,C){"use strict";var y=r("../internals/get-built-in"),_=r("../internals/object-define-property"),h=r("../internals/well-known-symbol"),f=r("../internals/descriptors"),E=h("species");H.exports=function(a){a=y(a),f&&a&&!a[E]&&(0,_.f)(a,E,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],118:[function(r,H,C){var y=r("../internals/object-define-property").f,_=r("../internals/has"),h=r("../internals/well-known-symbol")("toStringTag");H.exports=function(f,E,w){f&&!_(f=w?f:f.prototype,h)&&y(f,h,{configurable:!0,value:E})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],119:[function(r,H,C){var y=r("../internals/shared"),_=r("../internals/uid"),h=y("keys");H.exports=function(f){return h[f]||(h[f]=_(f))}},{"../internals/shared":121,"../internals/uid":146}],120:[function(y,H,C){var h=y("../internals/global"),_=(y=y("../internals/set-global"),"__core-js_shared__");h=h[_]||y(_,{}),H.exports=h},{"../internals/global":60,"../internals/set-global":116}],121:[function(r,H,C){var y=r("../internals/is-pure"),_=r("../internals/shared-store");(H.exports=function(h,f){return _[h]||(_[h]=void 0!==f?f:{})})("versions",[]).push({version:"3.6.5",mode:y?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":120}],122:[function(r,H,C){var y=r("../internals/an-object"),_=r("../internals/a-function"),h=r("../internals/well-known-symbol")("species");H.exports=function(w,E){return void 0===(w=y(w).constructor)||null==(w=y(w)[h])?E:_(w)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":149}],123:[function(r,H,C){var y=r("../internals/fails");H.exports=function(_){return y(function(){var h=""[_]('"');return h!==h.toLowerCase()||3<h.split('"').length})}},{"../internals/fails":51}],124:[function(r,H,C){function y(f){return function(l,d){l=String(h(l)),d=_(d);var a,u=l.length;return d<0||u<=d?f?"":void 0:(a=l.charCodeAt(d))<55296||56319<a||d+1===u||(u=l.charCodeAt(d+1))<56320||57343<u?f?l.charAt(d):a:f?l.slice(d,d+2):u-56320+(a-55296<<10)+65536}}var _=r("../internals/to-integer"),h=r("../internals/require-object-coercible");H.exports={codeAt:y(!1),charAt:y(!0)}},{"../internals/require-object-coercible":114,"../internals/to-integer":136}],125:[function(r,H,C){r=r("../internals/engine-user-agent"),H.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},{"../internals/engine-user-agent":47}],126:[function(r,H,C){function y(w){return function(u,m,s){var c=(u=String(f(u))).length;return s=void 0===s?" ":String(s),(m=_(m))<=c||""==s?u:((c=h.call(s,E((m-=c)/s.length))).length>m&&(c=c.slice(0,m)),w?u+c:c+u)}}var _=r("../internals/to-length"),h=r("../internals/string-repeat"),f=r("../internals/require-object-coercible"),E=Math.ceil;H.exports={start:y(!1),end:y(!0)}},{"../internals/require-object-coercible":114,"../internals/string-repeat":128,"../internals/to-length":137}],127:[function(r,H,C){"use strict";function y(p){return p+22+75*(p<26)}function _(p){var b,T=[],F=(p=function(ae){for(var fe=[],Se=0,K=ae.length;Se<K;){var R,se=ae.charCodeAt(Se++);55296<=se&&se<=56319&&Se<K?56320==(64512&(R=ae.charCodeAt(Se++)))?fe.push(((1023&se)<<10)+(1023&R)+65536):(fe.push(se),Se--):fe.push(se)}return fe}(p)).length,k=128,A=0,P=72;for(I=0;I<p.length;I++)(b=p[I])<128&&T.push(m(b));var $=T.length,j=$;for($&&T.push("-");j<F;){for(var N=h,I=0;I<p.length;I++)k<=(b=p[I])&&b<N&&(N=b);var B=j+1;if(N-k>s((h-A)/B))throw RangeError(u);for(A+=(N-k)*B,k=N,I=0;I<p.length;I++){if((b=p[I])<k&&++A>h)throw RangeError(u);if(b==k){for(var z=A,W=f;;W+=f){var ne=W<=P?1:P+E<=W?E:W-P;if(z<ne)break;var J=z-ne,q=f-ne;T.push(m(y(ne+J%q))),z=s(J/q)}T.push(m(y(z))),P=function(ae,fe,Se){var K=0;for(ae=Se?s(ae/a):ae>>1,ae+=s(ae/fe);c*E>>1<ae;K+=f)ae=s(ae/c);return s(K+(c+1)*ae/(ae+w))}(A,B,j==$),A=0,++j}}++A,++k}return T.join("")}var h=2147483647,f=36,E=26,w=38,a=700,l=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,u="Overflow: input needs wider integers to process",c=f-1,s=Math.floor,m=String.fromCharCode;H.exports=function(p){for(var b,T=[],F=p.toLowerCase().replace(d,".").split("."),k=0;k<F.length;k++)T.push(l.test(b=F[k])?"xn--"+_(b):b);return T.join(".")}},{}],128:[function(r,H,C){"use strict";var y=r("../internals/to-integer"),_=r("../internals/require-object-coercible");H.exports="".repeat||function(h){var f=String(_(this)),E="",w=y(h);if(w<0||w==1/0)throw RangeError("Wrong number of repetitions");for(;0<w;(w>>>=1)&&(f+=f))1&w&&(E+=f);return E}},{"../internals/require-object-coercible":114,"../internals/to-integer":136}],129:[function(r,H,C){var y=r("../internals/fails"),_=r("../internals/whitespaces");H.exports=function(h){return y(function(){return!!_[h]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[h]()||_[h].name!==h})}},{"../internals/fails":51,"../internals/whitespaces":150}],130:[function(h,H,C){function y(w){return function(a){return a=String(_(a)),1&w&&(a=a.replace(f,"")),2&w?a.replace(E,""):a}}var _=h("../internals/require-object-coercible"),f=(h="["+h("../internals/whitespaces")+"]",RegExp("^"+h+h+"*")),E=RegExp(h+h+"*$");H.exports={start:y(1),end:y(2),trim:y(3)}},{"../internals/require-object-coercible":114,"../internals/whitespaces":150}],131:[function(c,H,C){function y(j){return function(){$(j)}}function _(j){$(j.data)}function h(j){E.postMessage(j+"",s.protocol+"//"+s.host)}var f,E=c("../internals/global"),w=c("../internals/fails"),a=c("../internals/classof-raw"),l=c("../internals/function-bind-context"),d=c("../internals/html"),u=c("../internals/document-create-element"),s=(c=c("../internals/engine-is-ios"),E.location),m=E.setImmediate,p=E.clearImmediate,b=E.process,T=E.MessageChannel,F=E.Dispatch,k=0,A={},P="onreadystatechange",$=function(j){var N;A.hasOwnProperty(j)&&(N=A[j],delete A[j],N())};m&&p||(m=function(j){for(var N=[],I=1;I<arguments.length;)N.push(arguments[I++]);return A[++k]=function(){("function"==typeof j?j:Function(j)).apply(void 0,N)},f(k),k},p=function(j){delete A[j]},"process"==a(b)?f=function(j){b.nextTick(y(j))}:F&&F.now?f=function(j){F.now(y(j))}:T&&!c?(c=(a=new T).port2,a.port1.onmessage=_,f=l(c.postMessage,c,1)):!E.addEventListener||"function"!=typeof postMessage||E.importScripts||w(h)||"file:"===s.protocol?f=P in u("script")?function(j){d.appendChild(u("script"))[P]=function(){d.removeChild(this),$(j)}}:function(j){setTimeout(y(j),0)}:(f=h,E.addEventListener("message",_,!1))),H.exports={set:m,clear:p}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],132:[function(r,H,C){var y=r("../internals/classof-raw");H.exports=function(_){if("number"!=typeof _&&"Number"!=y(_))throw TypeError("Incorrect invocation");return+_}},{"../internals/classof-raw":28}],133:[function(r,H,C){var y=r("../internals/to-integer"),_=Math.max,h=Math.min;H.exports=function(f,E){return(f=y(f))<0?_(f+E,0):h(f,E)}},{"../internals/to-integer":136}],134:[function(r,H,C){var y=r("../internals/to-integer"),_=r("../internals/to-length");H.exports=function(f){if(void 0===f)return 0;f=y(f);var E=_(f);if(f!==E)throw RangeError("Wrong length or index");return E}},{"../internals/to-integer":136,"../internals/to-length":137}],135:[function(r,H,C){var y=r("../internals/indexed-object"),_=r("../internals/require-object-coercible");H.exports=function(h){return y(_(h))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":114}],136:[function(r,H,C){var y=Math.ceil,_=Math.floor;H.exports=function(h){return isNaN(h=+h)?0:(0<h?_:y)(h)}},{}],137:[function(r,H,C){var y=r("../internals/to-integer"),_=Math.min;H.exports=function(h){return 0<h?_(y(h),9007199254740991):0}},{"../internals/to-integer":136}],138:[function(r,H,C){var y=r("../internals/require-object-coercible");H.exports=function(_){return Object(y(_))}},{"../internals/require-object-coercible":114}],139:[function(r,H,C){var y=r("../internals/to-positive-integer");H.exports=function(_,h){if((_=y(_))%h)throw RangeError("Wrong offset");return _}},{"../internals/to-positive-integer":140}],140:[function(r,H,C){var y=r("../internals/to-integer");H.exports=function(_){if((_=y(_))<0)throw RangeError("The argument can't be less than 0");return _}},{"../internals/to-integer":136}],141:[function(r,H,C){var y=r("../internals/is-object");H.exports=function(_,h){if(!y(_))return _;var f,E;if(h&&"function"==typeof(f=_.toString)&&!y(E=f.call(_))||"function"==typeof(f=_.valueOf)&&!y(E=f.call(_))||!h&&"function"==typeof(f=_.toString)&&!y(E=f.call(_)))return E;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],142:[function(r,H,C){var y={};y[r("../internals/well-known-symbol")("toStringTag")]="z",H.exports="[object z]"===String(y)},{"../internals/well-known-symbol":149}],143:[function(r,H,C){"use strict";function y(gt,vt){for(var kt=0,Ht=vt.length,Ft=new(Te(gt))(Ht);kt<Ht;)Ft[kt]=vt[kt++];return Ft}function _(gt,vt){R(gt,vt,{get:function(){return Se(this)[vt]}})}function h(gt){return gt instanceof Le||"ArrayBuffer"==(gt=$(gt))||"SharedArrayBuffer"==gt}function f(gt,vt){return Je(gt)&&"symbol"!=typeof vt&&vt in gt&&String(+vt)==String(vt)}function E(gt,vt){return f(gt,vt=A(vt,!0))?p(2,gt[vt]):se(gt,vt)}function w(gt,vt,kt){return!(f(gt,vt=A(vt,!0))&&j(kt)&&P(kt,"value"))||P(kt,"get")||P(kt,"set")||kt.configurable||P(kt,"writable")&&!kt.writable||P(kt,"enumerable")&&!kt.enumerable?R(gt,vt,kt):(gt[vt]=kt.value,gt)}var a=r("../internals/export"),l=r("../internals/global"),d=r("../internals/descriptors"),u=r("../internals/typed-array-constructors-require-wrappers"),c=r("../internals/array-buffer-view-core"),s=r("../internals/array-buffer"),m=r("../internals/an-instance"),p=r("../internals/create-property-descriptor"),b=r("../internals/create-non-enumerable-property"),T=r("../internals/to-length"),F=r("../internals/to-index"),k=r("../internals/to-offset"),A=r("../internals/to-primitive"),P=r("../internals/has"),$=r("../internals/classof"),j=r("../internals/is-object"),N=r("../internals/object-create"),I=r("../internals/object-set-prototype-of"),B=r("../internals/object-get-own-property-names").f,z=r("../internals/typed-array-from"),W=r("../internals/array-iteration").forEach,ne=r("../internals/set-species"),J=r("../internals/object-define-property"),q=r("../internals/object-get-own-property-descriptor"),ae=r("../internals/internal-state"),fe=r("../internals/inherit-if-required"),Se=ae.get,K=ae.set,R=J.f,se=q.f,ge=Math.round,De=l.RangeError,Le=s.ArrayBuffer,Ze=s.DataView,et=c.NATIVE_ARRAY_BUFFER_VIEWS,Oe=c.TYPED_ARRAY_TAG,$e=c.TypedArray,Ve=c.TypedArrayPrototype,Te=c.aTypedArrayConstructor,Je=c.isTypedArray,Ye="BYTES_PER_ELEMENT",bt="Wrong length";d?(et||(q.f=E,J.f=w,_(Ve,"buffer"),_(Ve,"byteOffset"),_(Ve,"byteLength"),_(Ve,"length")),a({target:"Object",stat:!0,forced:!et},{getOwnPropertyDescriptor:E,defineProperty:w}),H.exports=function(lt,vt,kt){function Ht(_t,je){R(_t,je,{get:function(){var Ue=this,Me=je;return(Ue=Se(Ue)).view[rn](Me*Ft+Ue.byteOffset,!0)},set:function(Ue){var Me=this,Ke=je;Me=Se(Me),kt&&(Ue=(Ue=ge(Ue))<0?0:255<Ue?255:255&Ue),Me.view[dn](Ke*Ft+Me.byteOffset,Ue,!0)},enumerable:!0})}var Ft=lt.match(/\d+$/)[0]/8,an=lt+(kt?"Clamped":"")+"Array",rn="get"+lt,dn="set"+lt,qt=l[an],Gt=qt,Ut=(lt=Gt&&Gt.prototype,{});et?u&&(Gt=vt(function(_t,je,Ue,Me){return m(_t,Gt,an),fe(j(je)?h(je)?void 0!==Me?new qt(je,k(Ue,Ft),Me):void 0!==Ue?new qt(je,k(Ue,Ft)):new qt(je):Je(je)?y(Gt,je):z.call(Gt,je):new qt(F(je)),_t,Gt)}),I&&I(Gt,$e),W(B(qt),function(_t){_t in Gt||b(Gt,_t,qt[_t])}),Gt.prototype=lt):(Gt=vt(function(_t,je,Ue,Me){m(_t,Gt,an);var Ke,wt,Ct=0,$t=0;if(j(je)){if(!h(je))return Je(je)?y(Gt,je):z.call(Gt,je);var nn=je;if($t=k(Ue,Ft),Ue=je.byteLength,void 0===Me){if(Ue%Ft||(Ke=Ue-$t)<0)throw De(bt)}else if(Ue<(Ke=T(Me)*Ft)+$t)throw De(bt);wt=Ke/Ft}else wt=F(je),nn=new Le(Ke=wt*Ft);for(K(_t,{buffer:nn,byteOffset:$t,byteLength:Ke,length:wt,view:new Ze(nn)});Ct<wt;)Ht(_t,Ct++)}),I&&I(Gt,$e),lt=Gt.prototype=N(Ve)),lt.constructor!==Gt&&b(lt,"constructor",Gt),Oe&&b(lt,Oe,an),Ut[an]=Gt,a({global:!0,forced:Gt!=qt,sham:!et},Ut),Ye in Gt||b(Gt,Ye,Ft),Ye in lt||b(lt,Ye,Ft),ne(an)}):H.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":117,"../internals/to-index":134,"../internals/to-length":137,"../internals/to-offset":139,"../internals/to-primitive":141,"../internals/typed-array-constructors-require-wrappers":144,"../internals/typed-array-from":145}],144:[function(f,H,C){var y=f("../internals/global"),_=f("../internals/fails"),h=f("../internals/check-correctness-of-iteration"),E=(f=f("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,y.ArrayBuffer),w=y.Int8Array;H.exports=!f||!_(function(){w(1)})||!_(function(){new w(-1)})||!h(function(a){new w,new w(null),new w(1.5),new w(a)},!0)||_(function(){return 1!==new w(new E(2),1,void 0).length})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],145:[function(r,H,C){var y=r("../internals/to-object"),_=r("../internals/to-length"),h=r("../internals/get-iterator-method"),f=r("../internals/is-array-iterator-method"),E=r("../internals/function-bind-context"),w=r("../internals/array-buffer-view-core").aTypedArrayConstructor;H.exports=function(a){var l,d,u,c,s,m,p=y(a),b=arguments.length,T=1<b?arguments[1]:void 0,F=void 0!==T,k=h(p);if(null!=k&&!f(k))for(m=(s=k.call(p)).next,p=[];!(c=m.call(s)).done;)p.push(c.value);for(F&&2<b&&(T=E(T,arguments[2],2)),d=_(p.length),u=new(w(this))(d),l=0;l<d;l++)u[l]=F?T(p[l],l):p[l];return u}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137,"../internals/to-object":138}],146:[function(r,H,C){var y=0,_=Math.random();H.exports=function(h){return"Symbol("+String(void 0===h?"":h)+")_"+(++y+_).toString(36)}},{}],147:[function(r,H,C){r=r("../internals/native-symbol"),H.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":84}],148:[function(r,H,C){r=r("../internals/well-known-symbol"),C.f=r},{"../internals/well-known-symbol":149}],149:[function(w,H,C){var y=w("../internals/global"),_=w("../internals/shared"),h=w("../internals/has"),f=w("../internals/uid"),E=w("../internals/native-symbol"),a=(w=w("../internals/use-symbol-as-uid"),_("wks")),l=y.Symbol,d=w?l:l&&l.withoutSetter||f;H.exports=function(u){return h(a,u)||(a[u]=E&&h(l,u)?l[u]:d("Symbol."+u)),a[u]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":121,"../internals/uid":146,"../internals/use-symbol-as-uid":147}],150:[function(r,H,C){H.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],151:[function(h,H,C){"use strict";var y=h("../internals/export"),_=h("../internals/global"),E=h("../internals/array-buffer"),f=(h=h("../internals/set-species"),"ArrayBuffer");y({global:!0,forced:_[f]!==(E=E[f])},{ArrayBuffer:E}),h(f)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":117}],152:[function(p,H,C){"use strict";var y=p("../internals/export"),_=p("../internals/fails"),h=p("../internals/is-array"),f=p("../internals/is-object"),E=p("../internals/to-object"),w=p("../internals/to-length"),a=p("../internals/create-property"),l=p("../internals/array-species-create"),d=p("../internals/array-method-has-species-support"),m=p("../internals/well-known-symbol"),u=(p=p("../internals/engine-v8-version"),m("isConcatSpreadable")),c=9007199254740991,s="Maximum allowed index exceeded";m=51<=p||!_(function(){var b=[];return b[u]=!1,b.concat()[0]!==b}),p=d("concat"),y({target:"Array",proto:!0,forced:!m||!p},{concat:function(b){for(var T,F,k,A,P,$=E(this),j=l($,0),N=0,I=-1,B=arguments.length;I<B;I++)if(P=void 0,f(A=k=-1===I?$:arguments[I])&&(void 0!==(P=A[u])?P:h(A))){if(F=w(k.length),c<N+F)throw TypeError(s);for(T=0;T<F;T++,N++)T in k&&a(j,N,k[T])}else{if(c<=N)throw TypeError(s);a(j,N++,k)}return j.length=N,j}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":137,"../internals/to-object":138,"../internals/well-known-symbol":149}],153:[function(h,H,C){var y=h("../internals/export"),_=h("../internals/array-copy-within");h=h("../internals/add-to-unscopables"),y({target:"Array",proto:!0},{copyWithin:_}),h("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],154:[function(f,H,C){"use strict";var y=f("../internals/export"),_=f("../internals/array-iteration").every,h=f("../internals/array-method-is-strict");f=f("../internals/array-method-uses-to-length"),h=h("every"),f=f("every"),y({target:"Array",proto:!0,forced:!h||!f},{every:function(E){return _(this,E,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],155:[function(h,H,C){var y=h("../internals/export"),_=h("../internals/array-fill");h=h("../internals/add-to-unscopables"),y({target:"Array",proto:!0},{fill:_}),h("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],156:[function(f,H,C){"use strict";var y=f("../internals/export"),_=f("../internals/array-iteration").filter,h=f("../internals/array-method-has-species-support");f=f("../internals/array-method-uses-to-length"),h=h("filter"),f=f("filter"),y({target:"Array",proto:!0,forced:!h||!f},{filter:function(E){return _(this,E,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(w,H,C){"use strict";var y=w("../internals/export"),_=w("../internals/array-iteration").findIndex,h=w("../internals/add-to-unscopables"),f=(w=w("../internals/array-method-uses-to-length"),"findIndex"),E=!0;w=w(f),f in[]&&Array(1)[f](function(){E=!1}),y({target:"Array",proto:!0,forced:E||!w},{findIndex:function(a){return _(this,a,1<arguments.length?arguments[1]:void 0)}}),h(f)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(r,H,C){"use strict";var y=r("../internals/export"),_=r("../internals/flatten-into-array"),h=r("../internals/to-object"),f=r("../internals/to-length"),E=r("../internals/a-function"),w=r("../internals/array-species-create");y({target:"Array",proto:!0},{flatMap:function(a){var l,d=h(this),u=f(d.length);return E(a),(l=w(d,0)).length=_(l,d,d,u,0,1,a,1<arguments.length?arguments[1]:void 0),l}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":137,"../internals/to-object":138}],159:[function(r,H,C){"use strict";var y=r("../internals/export"),_=r("../internals/flatten-into-array"),h=r("../internals/to-object"),f=r("../internals/to-length"),E=r("../internals/to-integer"),w=r("../internals/array-species-create");y({target:"Array",proto:!0},{flat:function(){var a=arguments.length?arguments[0]:void 0,l=h(this),d=f(l.length),u=w(l,0);return u.length=_(u,l,l,d,0,void 0===a?1:E(a)),u}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],160:[function(_,H,C){"use strict";var y=_("../internals/export");_=_("../internals/array-for-each"),y({target:"Array",proto:!0,forced:[].forEach!=_},{forEach:_})},{"../internals/array-for-each":16,"../internals/export":50}],161:[function(r,H,C){var y=r("../internals/export"),_=r("../internals/array-from");y({target:"Array",stat:!0,forced:!r("../internals/check-correctness-of-iteration")(function(h){Array.from(h)})},{from:_})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],162:[function(r,H,C){"use strict";var y=r("../internals/export"),_=r("../internals/array-includes").includes,h=r("../internals/add-to-unscopables");y({target:"Array",proto:!0,forced:!r("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(f){return _(this,f,1<arguments.length?arguments[1]:void 0)}}),h("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],163:[function(w,H,C){"use strict";var y=w("../internals/export"),_=w("../internals/array-includes").indexOf,E=w("../internals/array-method-is-strict"),h=(w=w("../internals/array-method-uses-to-length"),[].indexOf),f=!!h&&1/[1].indexOf(1,-0)<0;E=E("indexOf"),w=w("indexOf",{ACCESSORS:!0,1:0}),y({target:"Array",proto:!0,forced:f||!E||!w},{indexOf:function(a){return f?h.apply(this,arguments)||0:_(this,a,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(E,H,C){"use strict";var y=E("../internals/to-indexed-object"),_=E("../internals/add-to-unscopables"),h=E("../internals/iterators"),f=E("../internals/internal-state"),w=(E=E("../internals/define-iterator"),"Array Iterator"),a=f.set,l=f.getterFor(w);H.exports=E(Array,"Array",function(d,u){a(this,{type:w,target:y(d),index:0,kind:u})},function(){var d=l(this),u=d.target,c=d.kind,s=d.index++;return!u||s>=u.length?{value:d.target=void 0,done:!0}:"keys"==c?{value:s,done:!1}:"values"==c?{value:u[s],done:!1}:{value:[s,u[s]],done:!1}},"values"),h.Arguments=h.Array,_("keys"),_("values"),_("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":135}],165:[function(E,H,C){"use strict";var y=E("../internals/export"),f=E("../internals/indexed-object"),_=E("../internals/to-indexed-object"),h=(E=E("../internals/array-method-is-strict"),[].join);f=f!=Object,E=E("join",","),y({target:"Array",proto:!0,forced:f||!E},{join:function(w){return h.call(_(this),void 0===w?",":w)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":135}],166:[function(_,H,C){_("../internals/export")({target:"Array",proto:!0,forced:(_=_("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:_})},{"../internals/array-last-index-of":20,"../internals/export":50}],167:[function(f,H,C){"use strict";var y=f("../internals/export"),_=f("../internals/array-iteration").map,h=f("../internals/array-method-has-species-support");f=f("../internals/array-method-uses-to-length"),h=h("map"),f=f("map"),y({target:"Array",proto:!0,forced:!h||!f},{map:function(E){return _(this,E,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],168:[function(u,H,C){"use strict";var y=u("../internals/export"),_=u("../internals/is-object"),h=u("../internals/is-array"),f=u("../internals/to-absolute-index"),E=u("../internals/to-length"),w=u("../internals/to-indexed-object"),a=u("../internals/create-property"),l=u("../internals/well-known-symbol"),d=u("../internals/array-method-has-species-support"),c=(u=u("../internals/array-method-uses-to-length"),d=d("slice"),u=u("slice",{ACCESSORS:!0,0:0,1:2}),l("species")),s=[].slice,m=Math.max;y({target:"Array",proto:!0,forced:!d||!u},{slice:function(p,b){var T,F,k,A=w(this),P=E(A.length),$=f(p,P),j=f(void 0===b?P:b,P);if(h(A)&&((T="function"==typeof(T=A.constructor)&&(T===Array||h(T.prototype))||_(T)&&null===(T=T[c])?void 0:T)===Array||void 0===T))return s.call(A,$,j);for(F=new(void 0===T?Array:T)(m(j-$,0)),k=0;$<j;$++,k++)$ in A&&a(F,k,A[$]);return F.length=k,F}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":133,"../internals/to-indexed-object":135,"../internals/to-length":137,"../internals/well-known-symbol":149}],169:[function(f,H,C){"use strict";var y=f("../internals/export"),_=f("../internals/array-iteration").some,h=f("../internals/array-method-is-strict");f=f("../internals/array-method-uses-to-length"),h=h("some"),f=f("some"),y({target:"Array",proto:!0,forced:!h||!f},{some:function(E){return _(this,E,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],170:[function(d,H,C){"use strict";var y=d("../internals/export"),_=d("../internals/to-absolute-index"),h=d("../internals/to-integer"),f=d("../internals/to-length"),E=d("../internals/to-object"),w=d("../internals/array-species-create"),a=d("../internals/create-property"),l=d("../internals/array-method-has-species-support"),u=(d=d("../internals/array-method-uses-to-length"),l=l("splice"),d=d("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),c=Math.min;y({target:"Array",proto:!0,forced:!l||!d},{splice:function(N,m){var p,b,T,F,k,A,P=E(this),$=f(P.length),j=_(N,$);if(0===(N=arguments.length)?p=b=0:b=1===N?(p=0,$-j):(p=N-2,c(u(h(m),0),$-j)),9007199254740991<$+p-b)throw TypeError("Maximum allowed length exceeded");for(T=w(P,b),F=0;F<b;F++)(k=j+F)in P&&a(T,F,P[k]);if(p<(T.length=b)){for(F=j;F<$-b;F++)A=F+p,(k=F+b)in P?P[A]=P[k]:delete P[A];for(F=$;$-b+p<F;F--)delete P[F-1]}else if(b<p)for(F=$-b;j<F;F--)A=F+p-1,(k=F+b-1)in P?P[A]=P[k]:delete P[A];for(F=0;F<p;F++)P[F+j]=arguments[F+2];return P.length=$-b+p,T}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":133,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],171:[function(r,H,C){r("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],172:[function(r,H,C){r("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],173:[function(_,H,C){var y=_("../internals/descriptors"),h=(_=_("../internals/object-define-property").f,Function.prototype),f=h.toString,E=/^\s*function ([^ (]*)/;!y||"name"in h||_(h,"name",{configurable:!0,get:function(){try{return f.call(this).match(E)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],174:[function(_,H,C){"use strict";var y=_("../internals/collection");_=_("../internals/collection-strong"),H.exports=y("Map",function(h){return function(){return h(this,arguments.length?arguments[0]:void 0)}},_)},{"../internals/collection":32,"../internals/collection-strong":30}],175:[function(y,H,C){y=y("../internals/export");var _=Math.hypot,h=Math.abs,f=Math.sqrt;y({target:"Math",stat:!0,forced:!!_&&_(1/0,NaN)!==1/0},{hypot:function(E,w){for(var a,l,d=0,u=0,c=arguments.length,s=0;u<c;)s<(a=h(arguments[u++]))?(d=d*(l=s/a)*l+1,s=a):d+=0<a?(l=a/s)*l:a;return s===1/0?1/0:s*f(d)}})},{"../internals/export":50}],176:[function(y,H,C){y=y("../internals/export");var _=Math.log,h=Math.LN2;y({target:"Math",stat:!0},{log2:function(f){return _(f)/h}})},{"../internals/export":50}],177:[function(r,H,C){r("../internals/export")({target:"Math",stat:!0},{sign:r("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],178:[function(r,H,C){"use strict";function y(I){var B,z,W,ne,J,q,ae,fe=d(I,!1);if("string"==typeof fe&&2<fe.length)if(43===(I=(fe=b(fe)).charCodeAt(0))||45===I){if(88===(B=fe.charCodeAt(2))||120===B)return NaN}else if(48===I){switch(fe.charCodeAt(1)){case 66:case 98:z=2,W=49;break;case 79:case 111:z=8,W=55;break;default:return+fe}for(J=(ne=fe.slice(2)).length,q=0;q<J;q++)if((ae=ne.charCodeAt(q))<48||W<ae)return NaN;return parseInt(ne,z)}return+fe}var _=r("../internals/descriptors"),h=r("../internals/global"),f=r("../internals/is-forced"),E=r("../internals/redefine"),w=r("../internals/has"),a=r("../internals/classof-raw"),l=r("../internals/inherit-if-required"),d=r("../internals/to-primitive"),u=r("../internals/fails"),c=r("../internals/object-create"),s=r("../internals/object-get-own-property-names").f,m=r("../internals/object-get-own-property-descriptor").f,p=r("../internals/object-define-property").f,b=r("../internals/string-trim").trim,T="Number",F=h[T],k=F.prototype,A=a(c(k))==T;if(f(T,!F(" 0o1")||!F("0b1")||F("+0x1"))){for(var P,$=function(B){B=arguments.length<1?0:B;var z=this;return z instanceof $&&(A?u(function(){k.valueOf.call(z)}):a(z)!=T)?l(new F(y(B)),z,$):y(B)},j=_?s(F):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;j.length>N;N++)w(F,P=j[N])&&!w($,P)&&p($,P,m(F,P));($.prototype=k).constructor=$,E(h,T,$)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":109,"../internals/string-trim":130,"../internals/to-primitive":141}],179:[function(r,H,C){r("../internals/export")({target:"Number",stat:!0},{isFinite:r("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],180:[function(w,H,C){"use strict";function y(d,u,c){return 0===u?c:u%2==1?y(d,u-1,c*d):y(d*d,u/2,c)}var _=w("../internals/export"),h=w("../internals/to-integer"),f=w("../internals/this-number-value"),E=w("../internals/string-repeat"),a=(w=w("../internals/fails"),1..toFixed),l=Math.floor;_({target:"Number",proto:!0,forced:a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!w(function(){a.call({})})},{toFixed:function(T){function u(P,$){for(var j=-1,N=$;++j<6;)F[j]=(N+=P*F[j])%1e7,N=l(N/1e7)}function c(P){for(var $=6,j=0;0<=--$;)F[$]=l((j+=F[$])/P),j=j%P*1e7}function s(){for(var P,$=6,j="";0<=--$;)""===j&&0!==$&&0===F[$]||(P=String(F[$]),j=""===j?P:j+E.call("0",7-P.length)+P);return j}var m,p,b=f(this),F=(T=h(T),[0,0,0,0,0,0]),k="",A="0";if(T<0||20<T)throw RangeError("Incorrect fraction digits");if(b!=b)return"NaN";if(b<=-1e21||1e21<=b)return String(b);if(b<0&&(k="-",b=-b),1e-21<b)if(b=(m=function(P){for(var $=0,j=P;4096<=j;)$+=12,j/=4096;for(;2<=j;)$+=1,j/=2;return $}(b*y(2,69,1))-69)<0?b*y(2,-m,1):b/y(2,m,1),b*=4503599627370496,0<(m=52-m)){for(u(0,b),p=T;7<=p;)u(1e7,0),p-=7;for(u(y(10,p,1),0),p=m-1;23<=p;)c(1<<23),p-=23;c(1<<p),u(1,1),c(2),A=s()}else u(0,b),u(1<<-m,0),A=s()+E.call("0",T);return 0<T?k+((b=A.length)<=T?"0."+E.call("0",T-b)+A:A.slice(0,b-T)+"."+A.slice(b-T)):k+A}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":128,"../internals/this-number-value":132,"../internals/to-integer":136}],181:[function(_,H,C){var y=_("../internals/export");_=_("../internals/object-assign"),y({target:"Object",stat:!0,forced:Object.assign!==_},{assign:_})},{"../internals/export":50,"../internals/object-assign":90}],182:[function(r,H,C){var y=r("../internals/export"),_=r("../internals/iterate"),h=r("../internals/create-property");y({target:"Object",stat:!0},{fromEntries:function(f){var E={};return _(f,function(w,a){h(E,w,a)},void 0,!0),E}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],183:[function(f,H,C){var y=f("../internals/export"),E=f("../internals/fails"),_=f("../internals/to-indexed-object"),h=f("../internals/object-get-own-property-descriptor").f;f=f("../internals/descriptors"),E=E(function(){h(1)}),y({target:"Object",stat:!0,forced:!f||E,sham:!f},{getOwnPropertyDescriptor:function(w,a){return h(_(w),a)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":135}],184:[function(h,H,C){var y=h("../internals/export"),_=h("../internals/fails");h=h("../internals/object-get-own-property-names-external").f,y({target:"Object",stat:!0,forced:_(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:h})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],185:[function(E,H,C){var y=E("../internals/export"),_=E("../internals/fails"),h=E("../internals/to-object"),f=E("../internals/object-get-prototype-of");E=E("../internals/correct-prototype-getter"),y({target:"Object",stat:!0,forced:_(function(){f(1)}),sham:!E},{getPrototypeOf:function(w){return f(h(w))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":138}],186:[function(r,H,C){var y=r("../internals/export"),_=r("../internals/to-object"),h=r("../internals/object-keys");y({target:"Object",stat:!0,forced:r("../internals/fails")(function(){h(1)})},{keys:function(f){return h(_(f))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":138}],187:[function(h,H,C){var y=h("../internals/to-string-tag-support"),_=h("../internals/redefine");h=h("../internals/object-to-string"),y||_(Object.prototype,"toString",h,{unsafe:!0})},{"../internals/object-to-string":103,"../internals/redefine":109,"../internals/to-string-tag-support":142}],188:[function(kt,H,C){"use strict";var y,_,h,f,E=kt("../internals/export"),w=kt("../internals/is-pure"),a=kt("../internals/global"),l=kt("../internals/get-built-in"),d=kt("../internals/native-promise-constructor"),u=kt("../internals/redefine"),c=kt("../internals/redefine-all"),s=kt("../internals/set-to-string-tag"),m=kt("../internals/set-species"),p=kt("../internals/is-object"),b=kt("../internals/a-function"),T=kt("../internals/an-instance"),F=kt("../internals/classof-raw"),k=kt("../internals/inspect-source"),A=kt("../internals/iterate"),P=kt("../internals/check-correctness-of-iteration"),$=kt("../internals/species-constructor"),j=kt("../internals/task").set,N=kt("../internals/microtask"),I=kt("../internals/promise-resolve"),B=kt("../internals/host-report-errors"),z=kt("../internals/new-promise-capability"),W=kt("../internals/perform"),ne=kt("../internals/internal-state"),J=kt("../internals/is-forced"),Ht=kt("../internals/well-known-symbol"),q=kt("../internals/engine-v8-version"),ae=Ht("species"),fe="Promise",Se=ne.get,K=ne.set,R=ne.getterFor(fe),se=d,ge=a.TypeError,De=a.document,Le=a.process,Ze=l("fetch"),et=z.f,Oe=et,$e="process"==F(Le),Ve=!!(De&&De.createEvent&&a.dispatchEvent),Te="unhandledrejection",Ft=(Ht=(kt=J(fe,function(){var Ut,_t;return k(se)===String(se)&&(66===q||!$e&&"function"!=typeof PromiseRejectionEvent)||!((!w||se.prototype.finally)&&(51<=q&&/native code/.test(se)||(_t=function(je){je(function(){},function(){})},((Ut=se.resolve(1)).constructor={})[ae]=_t,Ut.then(function(){})instanceof _t)))}))||!P(function(Ut){se.all(Ut).catch(function(){})}),function(Ut){var _t;return!(!p(Ut)||"function"!=typeof(_t=Ut.then))&&_t}),an=function(Ut,_t,je){var Ue;_t.notified||(_t.notified=!0,Ue=_t.reactions,N(function(){for(var Me,Ke,wt=_t.value,Ct=1==_t.state,$t=0;Ue.length>$t;){var nn,wn,xn,St=Ue[$t++],Et=Ct?St.ok:St.fail,Nt=St.resolve,yt=St.reject,tt=St.domain;try{Et?(Ct||(2===_t.rejection&&function(ut,It){j.call(a,function(){$e?Le.emit("rejectionHandled",ut):rn("rejectionhandled",ut,It.value)})}(Ut,_t),_t.rejection=1),!0===Et?nn=wt:(tt&&tt.enter(),nn=Et(wt),tt&&(tt.exit(),xn=!0)),nn===St.promise?yt(ge("Promise-chain cycle")):(wn=Ft(nn))?wn.call(nn,Nt,yt):Nt(nn)):yt(wt)}catch(ut){tt&&!xn&&tt.exit(),yt(ut)}}_t.reactions=[],_t.notified=!1,je&&!_t.rejection&&(Me=Ut,Ke=_t,j.call(a,function(){var ut=Ke.value,It=dn(Ke);if(It&&(It=W(function(){$e?Le.emit("unhandledRejection",ut,Me):rn(Te,Me,ut)}),Ke.rejection=$e||dn(Ke)?2:1,It.error))throw It.value}))}))},rn=function(Ut,_t,je){var Ue;Ve?((Ue=De.createEvent("Event")).promise=_t,Ue.reason=je,Ue.initEvent(Ut,!1,!0),a.dispatchEvent(Ue)):Ue={promise:_t,reason:je},(_t=a["on"+Ut])?_t(Ue):Ut===Te&&B("Unhandled promise rejection",je)},dn=function(Ut){return 1!==Ut.rejection&&!Ut.parent},qt=function(Ut,_t,je,Ue){return function(Me){Ut(_t,je,Me,Ue)}},Gt=function(Ut,_t,je,Ue){_t.done||(_t.done=!0,(_t=Ue||_t).value=je,_t.state=2,an(Ut,_t,!0))},lt=function(Ut,_t,je,Ue){if(!_t.done){_t.done=!0,Ue&&(_t=Ue);try{if(Ut===je)throw ge("Promise can't be resolved itself");var Me=Ft(je);Me?N(function(){var Ke={done:!1};try{Me.call(je,qt(lt,Ut,Ke,_t),qt(Gt,Ut,Ke,_t))}catch(wt){Gt(Ut,Ke,wt,_t)}}):(_t.value=je,_t.state=1,an(Ut,_t,!1))}catch(Ke){Gt(Ut,{done:!1},Ke,_t)}}};kt&&(se=function(Ut){T(this,se,fe),b(Ut),y.call(this);var _t=Se(this);try{Ut(qt(lt,this,_t),qt(Gt,this,_t))}catch(je){Gt(this,_t,je)}},(y=function(Ut){K(this,{type:fe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=c(se.prototype,{then:function(Ut,_t){var je=R(this),Ue=et($(this,se));return Ue.ok="function"!=typeof Ut||Ut,Ue.fail="function"==typeof _t&&_t,Ue.domain=$e?Le.domain:void 0,je.parent=!0,je.reactions.push(Ue),0!=je.state&&an(this,je,!1),Ue.promise},catch:function(Ut){return this.then(void 0,Ut)}}),_=function(){var Ut=new y,_t=Se(Ut);this.promise=Ut,this.resolve=qt(lt,Ut,_t),this.reject=qt(Gt,Ut,_t)},z.f=et=function(Ut){return Ut===se||Ut===h?new _:Oe(Ut)},w||"function"!=typeof d||(f=d.prototype.then,u(d.prototype,"then",function(Ut,_t){var je=this;return new se(function(Ue,Me){f.call(je,Ue,Me)}).then(Ut,_t)},{unsafe:!0}),"function"==typeof Ze&&E({global:!0,enumerable:!0,forced:!0},{fetch:function(Ut){return I(se,Ze.apply(a,arguments))}}))),E({global:!0,wrap:!0,forced:kt},{Promise:se}),s(se,fe,!1,!0),m(fe),h=l(fe),E({target:fe,stat:!0,forced:kt},{reject:function(Ut){var _t=et(this);return _t.reject.call(void 0,Ut),_t.promise}}),E({target:fe,stat:!0,forced:w||kt},{resolve:function(Ut){return I(w&&this===h?se:this,Ut)}}),E({target:fe,stat:!0,forced:Ht},{all:function(Ut){var _t=this,je=et(_t),Ue=je.resolve,Me=je.reject,Ke=W(function(){var wt=b(_t.resolve),Ct=[],$t=0,nn=1;A(Ut,function(wn){var xn=$t++,St=!1;Ct.push(void 0),nn++,wt.call(_t,wn).then(function(Et){St||(St=!0,Ct[xn]=Et,--nn||Ue(Ct))},Me)}),--nn||Ue(Ct)});return Ke.error&&Me(Ke.value),je.promise},race:function(Ut){var _t=this,je=et(_t),Ue=je.reject,Me=W(function(){var Ke=b(_t.resolve);A(Ut,function(wt){Ke.call(_t,wt).then(je.resolve,Ue)})});return Me.error&&Ue(Me.value),je.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":106,"../internals/promise-resolve":107,"../internals/redefine":109,"../internals/redefine-all":108,"../internals/set-species":117,"../internals/set-to-string-tag":118,"../internals/species-constructor":122,"../internals/task":131,"../internals/well-known-symbol":149}],189:[function(a,H,C){var y=a("../internals/export"),c=a("../internals/get-built-in"),_=a("../internals/a-function"),h=a("../internals/an-object"),f=a("../internals/is-object"),E=a("../internals/object-create"),w=a("../internals/function-bind"),l=(a=a("../internals/fails"),c("Reflect","construct")),d=a(function(){function s(){}return!(l(function(){},[],s)instanceof s)}),u=!a(function(){l(function(){})});y({target:"Reflect",stat:!0,forced:c=d||u,sham:c},{construct:function(s,m){_(s),h(m);var p=arguments.length<3?s:_(arguments[2]);if(u&&!d)return l(s,m,p);if(s==p){switch(m.length){case 0:return new s;case 1:return new s(m[0]);case 2:return new s(m[0],m[1]);case 3:return new s(m[0],m[1],m[2]);case 4:return new s(m[0],m[1],m[2],m[3])}var b=[null];return b.push.apply(b,m),new(w.apply(s,b))}return p=E(f(b=p.prototype)?b:Object.prototype),b=Function.apply.call(s,p,m),f(b)?b:p}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],190:[function(r,H,C){var y=r("../internals/export"),_=r("../internals/is-object"),h=r("../internals/an-object"),f=r("../internals/has"),E=r("../internals/object-get-own-property-descriptor"),w=r("../internals/object-get-prototype-of");y({target:"Reflect",stat:!0},{get:function a(l,d){var u,c=arguments.length<3?l:arguments[2];return h(l)===c?l[d]:(u=E.f(l,d))?f(u,"value")?u.value:void 0===u.get?void 0:u.get.call(c):_(u=w(l))?a(u,d,c):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],191:[function(r,H,C){var y=r("../internals/descriptors"),_=r("../internals/global"),h=r("../internals/is-forced"),f=r("../internals/inherit-if-required"),E=r("../internals/object-define-property").f,w=r("../internals/object-get-own-property-names").f,a=r("../internals/is-regexp"),l=r("../internals/regexp-flags"),d=r("../internals/regexp-sticky-helpers"),u=r("../internals/redefine"),c=r("../internals/fails"),s=r("../internals/internal-state").set,m=r("../internals/set-species"),p=r("../internals/well-known-symbol")("match"),b=_.RegExp,T=b.prototype,F=/a/g,k=/a/g,A=new b(F)!==F,P=d.UNSUPPORTED_Y;if(y&&h("RegExp",!A||P||c(function(){return k[p]=!1,b(F)!=F||b(k)==k||"/a/i"!=b(F,"i")}))){for(var $=function(I,B){var z,W=this instanceof $,ne=a(I),J=void 0===B;return!W&&ne&&I.constructor===$&&J?I:(A?ne&&!J&&(I=I.source):I instanceof $&&(J&&(B=l.call(I)),I=I.source),P&&(z=!!B&&-1<B.indexOf("y"))&&(B=B.replace(/y/g,"")),ne=f(A?new b(I,B):b(I,B),W?this:T,$),P&&z&&s(ne,{sticky:z}),ne)},j=w(b),N=0;j.length>N;)!function(I){I in $||E($,I,{configurable:!0,get:function(){return b[I]},set:function(B){b[I]=B}})}(j[N++]);(T.constructor=$).prototype=T,u(_,"RegExp",$)}m("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":109,"../internals/regexp-flags":112,"../internals/regexp-sticky-helpers":113,"../internals/set-species":117,"../internals/well-known-symbol":149}],192:[function(_,H,C){"use strict";var y=_("../internals/export");_=_("../internals/regexp-exec"),y({target:"RegExp",proto:!0,forced:/./.exec!==_},{exec:_})},{"../internals/export":50,"../internals/regexp-exec":111}],193:[function(f,H,C){"use strict";var y=f("../internals/redefine"),_=f("../internals/an-object"),a=f("../internals/fails"),h=f("../internals/regexp-flags"),E=(f="toString",RegExp.prototype),w=E[f];((a=a(function(){return"/a/b"!=w.call({source:"a",flags:"b"})}))||w.name!=f)&&y(RegExp.prototype,f,function(){var d=_(this),u=String(d.source),c=d.flags;return"/"+u+"/"+String(void 0===c&&d instanceof RegExp&&!("flags"in E)?h.call(d):c)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":109,"../internals/regexp-flags":112}],194:[function(_,H,C){"use strict";var y=_("../internals/collection");_=_("../internals/collection-strong"),H.exports=y("Set",function(h){return function(){return h(this,arguments.length?arguments[0]:void 0)}},_)},{"../internals/collection":32,"../internals/collection-strong":30}],195:[function(w,H,C){"use strict";var y=w("../internals/export"),_=w("../internals/object-get-own-property-descriptor").f,h=w("../internals/to-length"),f=w("../internals/not-a-regexp"),E=w("../internals/require-object-coercible"),d=w("../internals/correct-is-regexp-logic"),a=(w=w("../internals/is-pure"),"".endsWith),l=Math.min;d=d("endsWith"),y({target:"String",proto:!0,forced:!(!w&&!d&&(y=_(String.prototype,"endsWith"))&&!y.writable||d)},{endsWith:function(u){var c=String(E(this)),s=(f(u),1<arguments.length?arguments[1]:void 0),m=h(c.length);return s=void 0===s?m:l(h(s),m),m=String(u),a?a.call(c,m,s):c.slice(s-m.length,s)===m}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":114,"../internals/to-length":137}],196:[function(r,H,C){"use strict";var y=r("../internals/export"),_=r("../internals/not-a-regexp"),h=r("../internals/require-object-coercible");y({target:"String",proto:!0,forced:!r("../internals/correct-is-regexp-logic")("includes")},{includes:function(f){return!!~String(h(this)).indexOf(_(f),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":114}],197:[function(h,H,C){"use strict";var y=h("../internals/string-multibyte").charAt,_=h("../internals/internal-state"),f=(h=h("../internals/define-iterator"),"String Iterator"),E=_.set,w=_.getterFor(f);h(String,"String",function(a){E(this,{type:f,string:String(a),index:0})},function(){var a=w(this),l=a.string,d=a.index;return d>=l.length?{value:void 0,done:!0}:(l=y(l,d),a.index+=l.length,{value:l,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":124}],198:[function(r,H,C){"use strict";var y=r("../internals/fix-regexp-well-known-symbol-logic"),_=r("../internals/an-object"),h=r("../internals/to-length"),f=r("../internals/require-object-coercible"),E=r("../internals/advance-string-index"),w=r("../internals/regexp-exec-abstract");y("match",1,function(a,l,d){return[function(u){var c=f(this),s=null==u?void 0:u[a];return void 0!==s?s.call(u,c):new RegExp(u)[a](String(c))},function(u){var c=d(l,u,this);if(c.done)return c.value;var s=_(u),m=String(this);if(!s.global)return w(s,m);for(var p=s.unicode,b=[],T=s.lastIndex=0;null!==(F=w(s,m));){var F=String(F[0]);""===(b[T]=F)&&(s.lastIndex=E(m,h(s.lastIndex),p)),T++}return 0===T?null:b}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/to-length":137}],199:[function(r,H,C){"use strict";var y=r("../internals/export"),_=r("../internals/string-pad").start;y({target:"String",proto:!0,forced:r("../internals/string-pad-webkit-bug")},{padStart:function(h){return _(this,h,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":126,"../internals/string-pad-webkit-bug":125}],200:[function(r,H,C){r("../internals/export")({target:"String",proto:!0},{repeat:r("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":128}],201:[function(r,H,C){"use strict";var y=r("../internals/fix-regexp-well-known-symbol-logic"),_=r("../internals/an-object"),h=r("../internals/to-object"),f=r("../internals/to-length"),E=r("../internals/to-integer"),w=r("../internals/require-object-coercible"),a=r("../internals/advance-string-index"),l=r("../internals/regexp-exec-abstract"),d=Math.max,u=Math.min,c=Math.floor,s=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;y("replace",2,function(p,b,T,F){var k=F.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,A=F.REPLACE_KEEPS_$0,P=k?"$":"$0";return[function($,j){var N=w(this),I=null==$?void 0:$[p];return void 0!==I?I.call($,N,j):b.call(String(N),$,j)},function($,j){if(!k&&A||"string"==typeof j&&-1===j.indexOf(P)){var N=T(b,$,this,j);if(N.done)return N.value}for(var I,B=_($),z=String(this),W="function"==typeof j,ne=(W||(j=String(j)),B.global),J=(ne&&(I=B.unicode,B.lastIndex=0),[]);null!==(K=l(B,z))&&(J.push(K),ne);)""===String(K[0])&&(B.lastIndex=a(z,f(B.lastIndex),I));for(var q,ae="",fe=0,Se=0;Se<J.length;Se++){for(var K=J[Se],R=String(K[0]),se=d(u(E(K.index),z.length),0),ge=[],De=1;De<K.length;De++)ge.push(void 0===(q=K[De])?q:String(q));var Le=K.groups,Ze=W?(Ze=[R].concat(ge,se,z),void 0!==Le&&Ze.push(Le),String(j.apply(void 0,Ze))):function(et,Oe,$e,Ve,Te,Je){var Ye=$e+et.length,bt=Ve.length,gt=m;return void 0!==Te&&(Te=h(Te),gt=s),b.call(Je,gt,function(vt,kt){var Ht;switch(kt.charAt(0)){case"$":return"$";case"&":return et;case"`":return Oe.slice(0,$e);case"'":return Oe.slice(Ye);case"<":Ht=Te[kt.slice(1,-1)];break;default:var Ft,an=+kt;if(0==an)return vt;if(bt<an)return 0!==(Ft=c(an/10))&&Ft<=bt?void 0===Ve[Ft-1]?kt.charAt(1):Ve[Ft-1]+kt.charAt(1):vt;Ht=Ve[an-1]}return void 0===Ht?"":Ht})}(R,z,se,ge,Le,j);fe<=se&&(ae+=z.slice(fe,se)+Ze,fe=se+R.length)}return ae+z.slice(fe)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],202:[function(r,H,C){"use strict";var y=r("../internals/fix-regexp-well-known-symbol-logic"),_=r("../internals/an-object"),h=r("../internals/require-object-coercible"),f=r("../internals/same-value"),E=r("../internals/regexp-exec-abstract");y("search",1,function(w,a,l){return[function(d){var u=h(this),c=null==d?void 0:d[w];return void 0!==c?c.call(d,u):new RegExp(d)[w](String(u))},function(d){var u,c=l(a,d,this);return c.done?c.value:(c=_(d),d=String(this),f(u=c.lastIndex,0)||(c.lastIndex=0),d=E(c,d),f(c.lastIndex,u)||(c.lastIndex=u),null===d?-1:d.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/same-value":115}],203:[function(u,H,C){"use strict";var y=u("../internals/fix-regexp-well-known-symbol-logic"),_=u("../internals/is-regexp"),h=u("../internals/an-object"),f=u("../internals/require-object-coercible"),E=u("../internals/species-constructor"),w=u("../internals/advance-string-index"),a=u("../internals/to-length"),l=u("../internals/regexp-exec-abstract"),d=u("../internals/regexp-exec"),c=(u=u("../internals/fails"),[].push),s=Math.min,m=4294967295,p=!u(function(){return!RegExp(m,"y")});y("split",2,function(b,T,F){var k="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(A,P){var $=String(f(this)),j=void 0===P?m:P>>>0;if(0==j)return[];if(void 0===A)return[$];if(!_(A))return T.call($,A,j);for(var N,I,B,z=[],W=(P=(A.ignoreCase?"i":"")+(A.multiline?"m":"")+(A.unicode?"u":"")+(A.sticky?"y":""),0),ne=new RegExp(A.source,P+"g");(N=d.call(ne,$))&&!(W<(I=ne.lastIndex)&&(z.push($.slice(W,N.index)),1<N.length&&N.index<$.length&&c.apply(z,N.slice(1)),B=N[0].length,W=I,z.length>=j));)ne.lastIndex===N.index&&ne.lastIndex++;return W===$.length?!B&&ne.test("")||z.push(""):z.push($.slice(W)),z.length>j?z.slice(0,j):z}:"0".split(void 0,0).length?function(A,P){return void 0===A&&0===P?[]:T.call(this,A,P)}:T;return[function(A,P){var $=f(this),j=null==A?void 0:A[b];return void 0!==j?j.call(A,$,P):k.call(String($),A,P)},function(N,P){if(($=F(k,N,this,P,k!==T)).done)return $.value;var $=h(N),j=String(this),I=(N=E($,RegExp),$.unicode),z=new N(p?$:"^(?:"+$.source+")",($.ignoreCase?"i":"")+($.multiline?"m":"")+($.unicode?"u":"")+(p?"y":"g")),W=void 0===P?m:P>>>0;if(0==W)return[];if(0===j.length)return null===l(z,j)?[j]:[];for(var ne=0,J=0,q=[];J<j.length;){z.lastIndex=p?J:0;var ae,fe=l(z,p?j:j.slice(J));if(null===fe||(ae=s(a(z.lastIndex+(p?0:J)),j.length))===ne)J=w(j,J,I);else{if(q.push(j.slice(ne,J)),q.length===W)return q;for(var Se=1;Se<=fe.length-1;Se++)if(q.push(fe[Se]),q.length===W)return q;J=ne=ae}}return q.push(j.slice(ne)),q}]},!p)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":111,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/species-constructor":122,"../internals/to-length":137}],204:[function(w,H,C){"use strict";var y=w("../internals/export"),_=w("../internals/object-get-own-property-descriptor").f,h=w("../internals/to-length"),f=w("../internals/not-a-regexp"),E=w("../internals/require-object-coercible"),d=w("../internals/correct-is-regexp-logic"),a=(w=w("../internals/is-pure"),"".startsWith),l=Math.min;d=d("startsWith"),y({target:"String",proto:!0,forced:!(!w&&!d&&(y=_(String.prototype,"startsWith"))&&!y.writable||d)},{startsWith:function(m){var c=String(E(this)),s=(f(m),h(l(1<arguments.length?arguments[1]:void 0,c.length)));return m=String(m),a?a.call(c,m,s):c.slice(s,s+m.length)===m}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":114,"../internals/to-length":137}],205:[function(r,H,C){"use strict";var y=r("../internals/export"),_=r("../internals/create-html");y({target:"String",proto:!0,forced:r("../internals/string-html-forced")("sub")},{sub:function(){return _(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":123}],206:[function(r,H,C){"use strict";var y=r("../internals/export"),_=r("../internals/string-trim").trim;y({target:"String",proto:!0,forced:r("../internals/string-trim-forced")("trim")},{trim:function(){return _(this)}})},{"../internals/export":50,"../internals/string-trim":130,"../internals/string-trim-forced":129}],207:[function(s,H,C){"use strict";var y,_,h,f,E,w=s("../internals/export"),a=s("../internals/descriptors"),l=s("../internals/global"),d=s("../internals/has"),u=s("../internals/is-object"),c=s("../internals/object-define-property").f,m=(s=s("../internals/copy-constructor-properties"),l.Symbol);!a||"function"!=typeof m||"description"in m.prototype&&void 0===m().description||(y={},s(_=function(){var p=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),b=this instanceof _?new m(p):void 0===p?m():m(p);return""===p&&(y[b]=!0),b},m),(l=_.prototype=m.prototype).constructor=_,h=l.toString,f="Symbol(test)"==String(m("test")),E=/^Symbol\((.*)\)[^)]+$/,c(l,"description",{configurable:!0,get:function(){var p=u(this)?this.valueOf():this,b=h.call(p);return d(y,p)?"":""===(p=f?b.slice(7,-1):b.replace(E,"$1"))?void 0:p}}),w({global:!0,forced:!0},{Symbol:_}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],208:[function(r,H,C){r("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],209:[function(Oe,H,C){"use strict";function y(Me,Ke){var wt=Ht[Me]=$(Je[et]);return $e(wt,{type:Ze,tag:Me,description:Ke}),d||(wt.description=Ke),wt}function _(Me,Ct){T(Me);var wt=k(Ct);return Ct=j(wt).concat(Ue(wt)),De(Ct,function($t){d&&!je.call(wt,$t)||_t(Me,$t,wt[$t])}),Me}function h(Ct,$t){var wt;if(Ct=k(Ct),$t=A($t,!0),Ct!==Te||!m(Ht,$t)||m(Ft,$t))return!(wt=bt(Ct,$t))||!m(Ht,$t)||m(Ct,Le)&&Ct[Le][$t]||(wt.enumerable=!0),wt}function f(Ke){Ke=vt(k(Ke));var wt=[];return De(Ke,function(Ct){m(Ht,Ct)||m(fe,Ct)||wt.push(Ct)}),wt}var E=Oe("../internals/export"),w=Oe("../internals/global"),a=Oe("../internals/get-built-in"),l=Oe("../internals/is-pure"),d=Oe("../internals/descriptors"),u=Oe("../internals/native-symbol"),c=Oe("../internals/use-symbol-as-uid"),s=Oe("../internals/fails"),m=Oe("../internals/has"),p=Oe("../internals/is-array"),b=Oe("../internals/is-object"),T=Oe("../internals/an-object"),F=Oe("../internals/to-object"),k=Oe("../internals/to-indexed-object"),A=Oe("../internals/to-primitive"),P=Oe("../internals/create-property-descriptor"),$=Oe("../internals/object-create"),j=Oe("../internals/object-keys"),N=Oe("../internals/object-get-own-property-names"),I=Oe("../internals/object-get-own-property-names-external"),B=Oe("../internals/object-get-own-property-symbols"),z=Oe("../internals/object-get-own-property-descriptor"),W=Oe("../internals/object-define-property"),ne=Oe("../internals/object-property-is-enumerable"),J=Oe("../internals/create-non-enumerable-property"),q=Oe("../internals/redefine"),ae=Oe("../internals/shared"),dn=Oe("../internals/shared-key"),fe=Oe("../internals/hidden-keys"),Se=Oe("../internals/uid"),K=Oe("../internals/well-known-symbol"),R=Oe("../internals/well-known-symbol-wrapped"),se=Oe("../internals/define-well-known-symbol"),ge=Oe("../internals/set-to-string-tag"),qt=Oe("../internals/internal-state"),De=Oe("../internals/array-iteration").forEach,Le=dn("hidden"),Ze="Symbol",et="prototype",$e=(Oe=K("toPrimitive"),qt.set),Ve=qt.getterFor(Ze),Te=Object[et],Je=w.Symbol,Ye=a("JSON","stringify"),bt=z.f,gt=W.f,vt=I.f,kt=ne.f,Ht=ae("symbols"),Ft=ae("op-symbols"),an=ae("string-to-symbol-registry"),rn=ae("symbol-to-string-registry"),Gt=(dn=ae("wks"),!(qt=w.QObject)||!qt[et]||!qt[et].findChild),lt=d&&s(function(){return 7!=$(gt({},"a",{get:function(){return gt(this,"a",{value:7}).a}})).a})?function(Me,Ke,wt){var Ct=bt(Te,Ke);Ct&&delete Te[Ke],gt(Me,Ke,wt),Ct&&Me!==Te&&gt(Te,Ke,Ct)}:gt,Ut=c?function(Me){return"symbol"==typeof Me}:function(Me){return Object(Me)instanceof Je},_t=function(Me,Ke,wt){return Me===Te&&_t(Ft,Ke,wt),T(Me),Ke=A(Ke,!0),T(wt),(m(Ht,Ke)?(wt.enumerable?(m(Me,Le)&&Me[Le][Ke]&&(Me[Le][Ke]=!1),wt=$(wt,{enumerable:P(0,!1)})):(m(Me,Le)||gt(Me,Le,P(1,{})),Me[Le][Ke]=!0),lt):gt)(Me,Ke,wt)},je=function(Ke){Ke=A(Ke,!0);var wt=kt.call(this,Ke);return!(this===Te&&m(Ht,Ke)&&!m(Ft,Ke))&&(!(wt||!m(this,Ke)||!m(Ht,Ke)||m(this,Le)&&this[Le][Ke])||wt)},Ue=function(wt){var Ke=wt===Te,Ct=(wt=vt(Ke?Ft:k(wt)),[]);return De(wt,function($t){!m(Ht,$t)||Ke&&!m(Te,$t)||Ct.push(Ht[$t])}),Ct};u||(q((Je=function(){if(this instanceof Je)throw TypeError("Symbol is not a constructor");var Me=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,Ke=Se(Me),wt=function(Ct){this===Te&&wt.call(Ft,Ct),m(this,Le)&&m(this[Le],Ke)&&(this[Le][Ke]=!1),lt(this,Ke,P(1,Ct))};return d&&Gt&&lt(Te,Ke,{configurable:!0,set:wt}),y(Ke,Me)})[et],"toString",function(){return Ve(this).tag}),q(Je,"withoutSetter",function(Me){return y(Se(Me),Me)}),ne.f=je,W.f=_t,z.f=h,N.f=I.f=f,B.f=Ue,R.f=function(Me){return y(K(Me),Me)},d&&(gt(Je[et],"description",{configurable:!0,get:function(){return Ve(this).description}}),l||q(Te,"propertyIsEnumerable",je,{unsafe:!0}))),E({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Je}),De(j(dn),function(Me){se(Me)}),E({target:Ze,stat:!0,forced:!u},{for:function(wt){var Ke;return wt=String(wt),m(an,wt)?an[wt]:(Ke=Je(wt),an[wt]=Ke,rn[Ke]=wt,Ke)},keyFor:function(Me){if(!Ut(Me))throw TypeError(Me+" is not a symbol");if(m(rn,Me))return rn[Me]},useSetter:function(){Gt=!0},useSimple:function(){Gt=!1}}),E({target:"Object",stat:!0,forced:!u,sham:!d},{create:function(Me,Ke){return void 0===Ke?$(Me):_($(Me),Ke)},defineProperty:_t,defineProperties:_,getOwnPropertyDescriptor:h}),E({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:f,getOwnPropertySymbols:Ue}),E({target:"Object",stat:!0,forced:s(function(){B.f(1)})},{getOwnPropertySymbols:function(Me){return B.f(F(Me))}}),Ye&&E({target:"JSON",stat:!0,forced:!u||s(function(){var Me=Je();return"[null]"!=Ye([Me])||"{}"!=Ye({a:Me})||"{}"!=Ye(Object(Me))})},{stringify:function(Me,Ke,wt){for(var Ct,$t=[Me],nn=1;nn<arguments.length;)$t.push(arguments[nn++]);if((b(Ct=Ke)||void 0!==Me)&&!Ut(Me))return p(Ke)||(Ke=function(wn,xn){if("function"==typeof Ct&&(xn=Ct.call(this,wn,xn)),!Ut(xn))return xn}),$t[1]=Ke,Ye.apply(null,$t)}}),Je[et][Oe]||J(Je[et],Oe,Je[et].valueOf),ge(Je,Ze),fe[Le]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/shared":121,"../internals/shared-key":119,"../internals/to-indexed-object":135,"../internals/to-object":138,"../internals/to-primitive":141,"../internals/uid":146,"../internals/use-symbol-as-uid":147,"../internals/well-known-symbol":149,"../internals/well-known-symbol-wrapped":148}],210:[function(r,H,C){"use strict";var y=r("../internals/array-buffer-view-core"),_=r("../internals/array-copy-within"),h=y.aTypedArray;(0,y.exportTypedArrayMethod)("copyWithin",function(f,E){return _.call(h(this),f,E,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],211:[function(r,H,C){"use strict";var y=r("../internals/array-buffer-view-core"),_=r("../internals/array-iteration").every,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("every",function(f){return _(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],212:[function(r,H,C){"use strict";var y=r("../internals/array-buffer-view-core"),_=r("../internals/array-fill"),h=y.aTypedArray;(0,y.exportTypedArrayMethod)("fill",function(f){return _.apply(h(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],213:[function(r,H,C){"use strict";var y=r("../internals/array-buffer-view-core"),_=r("../internals/array-iteration").filter,h=r("../internals/species-constructor"),f=y.aTypedArray,E=y.aTypedArrayConstructor;(0,y.exportTypedArrayMethod)("filter",function(w){for(var a=_(f(this),w,1<arguments.length?arguments[1]:void 0),l=(w=h(this,this.constructor),0),d=a.length,u=new(E(w))(d);l<d;)u[l]=a[l++];return u})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":122}],214:[function(r,H,C){"use strict";var y=r("../internals/array-buffer-view-core"),_=r("../internals/array-iteration").findIndex,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("findIndex",function(f){return _(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(r,H,C){"use strict";var y=r("../internals/array-buffer-view-core"),_=r("../internals/array-iteration").find,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("find",function(f){return _(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],216:[function(r,H,C){r("../internals/typed-array-constructor")("Float32",function(y){return function(_,h,f){return y(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],217:[function(r,H,C){r("../internals/typed-array-constructor")("Float64",function(y){return function(_,h,f){return y(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],218:[function(r,H,C){"use strict";var y=r("../internals/array-buffer-view-core"),_=r("../internals/array-iteration").forEach,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("forEach",function(f){_(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(r,H,C){"use strict";var y=r("../internals/array-buffer-view-core"),_=r("../internals/array-includes").includes,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("includes",function(f){return _(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],220:[function(r,H,C){"use strict";var y=r("../internals/array-buffer-view-core"),_=r("../internals/array-includes").indexOf,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("indexOf",function(f){return _(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],221:[function(r,H,C){r("../internals/typed-array-constructor")("Int16",function(y){return function(_,h,f){return y(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],222:[function(r,H,C){r("../internals/typed-array-constructor")("Int32",function(y){return function(_,h,f){return y(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],223:[function(_,H,C){"use strict";function y(){return h.call(w(this))}var d=_("../internals/global"),l=_("../internals/array-buffer-view-core"),a=_("../modules/es.array.iterator"),h=(_=_("../internals/well-known-symbol")("iterator"),a.values),f=a.keys,E=a.entries,w=l.aTypedArray;a=l.exportTypedArrayMethod,d=!!(l=(d=d.Uint8Array)&&d.prototype[_])&&("values"==l.name||null==l.name),a("entries",function(){return E.call(w(this))}),a("keys",function(){return f.call(w(this))}),a("values",y,!d),a(_,y,!d)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],224:[function(_,H,C){"use strict";var y=(_=_("../internals/array-buffer-view-core")).aTypedArray,h=[].join;(_=_.exportTypedArrayMethod)("join",function(f){return h.apply(y(this),arguments)})},{"../internals/array-buffer-view-core":12}],225:[function(r,H,C){"use strict";var y=r("../internals/array-buffer-view-core"),_=r("../internals/array-last-index-of"),h=y.aTypedArray;(0,y.exportTypedArrayMethod)("lastIndexOf",function(f){return _.apply(h(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],226:[function(r,H,C){"use strict";var y=r("../internals/array-buffer-view-core"),_=r("../internals/array-iteration").map,h=r("../internals/species-constructor"),f=y.aTypedArray,E=y.aTypedArrayConstructor;(0,y.exportTypedArrayMethod)("map",function(w){return _(f(this),w,1<arguments.length?arguments[1]:void 0,function(a,l){return new(E(h(a,a.constructor)))(l)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":122}],227:[function(r,H,C){"use strict";var y=r("../internals/array-buffer-view-core"),_=r("../internals/array-reduce").right,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("reduceRight",function(f){return _(h(this),f,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],228:[function(r,H,C){"use strict";var y=r("../internals/array-buffer-view-core"),_=r("../internals/array-reduce").left,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("reduce",function(f){return _(h(this),f,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],229:[function(_,H,C){"use strict";var y=(_=_("../internals/array-buffer-view-core")).aTypedArray,h=(_=_.exportTypedArrayMethod,Math.floor);_("reverse",function(){for(var f,E=y(this).length,w=h(E/2),a=0;a<w;)f=this[a],this[a++]=this[--E],this[E]=f;return this})},{"../internals/array-buffer-view-core":12}],230:[function(E,H,C){"use strict";var y=E("../internals/array-buffer-view-core"),_=E("../internals/to-length"),h=E("../internals/to-offset"),f=E("../internals/to-object"),w=(E=E("../internals/fails"),y.aTypedArray);(0,y.exportTypedArrayMethod)("set",function(a){w(this);var l=h(1<arguments.length?arguments[1]:void 0,1),d=this.length,u=f(a),c=_(u.length),s=0;if(d<c+l)throw RangeError("Wrong length");for(;s<c;)this[l+s]=u[s++]},E(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":137,"../internals/to-object":138,"../internals/to-offset":139}],231:[function(_,H,C){"use strict";var E=_("../internals/array-buffer-view-core"),y=_("../internals/species-constructor"),h=(_=_("../internals/fails"),E.aTypedArray),f=E.aTypedArrayConstructor,w=[].slice;(E=E.exportTypedArrayMethod)("slice",function(a,l){for(var d=w.call(h(this),a,l),u=(a=y(this,this.constructor),0),c=d.length,s=new(f(a))(c);u<c;)s[u]=d[u++];return s},_(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":122}],232:[function(r,H,C){"use strict";var y=r("../internals/array-buffer-view-core"),_=r("../internals/array-iteration").some,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("some",function(f){return _(h(this),f,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],233:[function(_,H,C){"use strict";var y=(_=_("../internals/array-buffer-view-core")).aTypedArray,h=[].sort;(_=_.exportTypedArrayMethod)("sort",function(f){return h.call(y(this),f)})},{"../internals/array-buffer-view-core":12}],234:[function(r,H,C){"use strict";var y=r("../internals/array-buffer-view-core"),_=r("../internals/to-length"),h=r("../internals/to-absolute-index"),f=r("../internals/species-constructor"),E=y.aTypedArray;(0,y.exportTypedArrayMethod)("subarray",function(u,a){var l=E(this),d=l.length;return u=h(u,d),new(f(l,l.constructor))(l.buffer,l.byteOffset+u*l.BYTES_PER_ELEMENT,_((void 0===a?d:h(a,d))-u))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":122,"../internals/to-absolute-index":133,"../internals/to-length":137}],235:[function(_,H,C){"use strict";var E=_("../internals/global"),y=_("../internals/array-buffer-view-core"),h=(_=_("../internals/fails"),E.Int8Array),f=y.aTypedArray,w=(E=y.exportTypedArrayMethod,[].toLocaleString),a=[].slice,l=!!h&&_(function(){w.call(new h(1))});E("toLocaleString",function(){return w.apply(l?a.call(f(this)):f(this),arguments)},_(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!_(function(){h.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],236:[function(_,H,C){"use strict";var y=_("../internals/array-buffer-view-core").exportTypedArrayMethod,E=_("../internals/fails"),h=(_=(_=_("../internals/global").Uint8Array)&&_.prototype||{},[].toString),f=[].join;E(function(){h.call({})})&&(h=function(){return f.call(this)}),y("toString",h,E=_.toString!=h)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],237:[function(r,H,C){r("../internals/typed-array-constructor")("Uint16",function(y){return function(_,h,f){return y(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],238:[function(r,H,C){r("../internals/typed-array-constructor")("Uint32",function(y){return function(_,h,f){return y(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],239:[function(r,H,C){r("../internals/typed-array-constructor")("Uint8",function(y){return function(_,h,f){return y(this,_,h,f)}})},{"../internals/typed-array-constructor":143}],240:[function(r,H,C){r("../internals/typed-array-constructor")("Uint8",function(y){return function(_,h,f){return y(this,_,h,f)}},!0)},{"../internals/typed-array-constructor":143}],241:[function(m,T,C){"use strict";function y(F){return function(){return F(this,arguments.length?arguments[0]:void 0)}}var _,h,f,E,w,p=m("../internals/global"),a=m("../internals/redefine-all"),l=m("../internals/internal-metadata"),d=m("../internals/collection"),u=m("../internals/collection-weak"),c=m("../internals/is-object"),s=m("../internals/internal-state").enforce,b=(m=m("../internals/native-weak-map"),p=!p.ActiveXObject&&"ActiveXObject"in p,Object.isExtensible);T=T.exports=d("WeakMap",y,u),m&&p&&(_=u.getConstructor(y,"WeakMap",!0),l.REQUIRED=!0,h=(d=T.prototype).delete,f=d.has,E=d.get,w=d.set,a(d,{delete:function(F){var k;return c(F)&&!b(F)?((k=s(this)).frozen||(k.frozen=new _),h.call(this,F)||k.frozen.delete(F)):h.call(this,F)},has:function(F){var k;return c(F)&&!b(F)?((k=s(this)).frozen||(k.frozen=new _),f.call(this,F)||k.frozen.has(F)):f.call(this,F)},get:function(F){var k;return!c(F)||b(F)||((k=s(this)).frozen||(k.frozen=new _),f.call(this,F))?E.call(this,F):k.frozen.get(F)},set:function(F,k){var A;return!c(F)||b(F)||((A=s(this)).frozen||(A.frozen=new _),f.call(this,F))?w.call(this,F,k):A.frozen.set(F,k),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":108}],242:[function(r,H,C){var y,_=r("../internals/global"),h=r("../internals/dom-iterables"),f=r("../internals/array-for-each"),E=r("../internals/create-non-enumerable-property");for(y in h){var w;if((w=(w=_[y])&&w.prototype)&&w.forEach!==f)try{E(w,"forEach",f)}catch{w.forEach=f}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],243:[function(w,H,C){var y,_=w("../internals/global"),h=w("../internals/dom-iterables"),f=w("../modules/es.array.iterator"),E=w("../internals/create-non-enumerable-property"),a=(w=w("../internals/well-known-symbol"))("iterator"),l=w("toStringTag"),d=f.values;for(y in h){var u=_[y],c=u&&u.prototype;if(c){if(c[a]!==d)try{E(c,a,d)}catch{c[a]=d}if(c[l]||E(c,l,y),h[y])for(var s in f)if(c[s]!==f[s])try{E(c,s,f[s])}catch{c[s]=f[s]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],244:[function(Le,H,C){"use strict";function y(Ze){try{return decodeURIComponent(Ze)}catch{return Ze}}function _(Ze){return se[Ze]}function h(Ze){return encodeURIComponent(Ze).replace(R,_)}function f(Ze){this.entries.length=0,ge(this.entries,Ze)}function E(Ze,et){if(Ze<et)throw TypeError("Not enough arguments")}function w(){p(this,w,W);var Ze,et,Oe,$e,Ve,Te,Je,Ye,bt=0<arguments.length?arguments[0]:void 0,gt=[];if(J(this,{type:W,entries:gt,updateURL:function(){},updateSearchParams:f}),void 0!==bt)if(A(bt))if("function"==typeof(Ze=N(bt)))for(Oe=(et=Ze.call(bt)).next;!($e=Oe.call(et)).done;){if((Te=(Ve=($e=j(k($e.value))).next).call($e)).done||(Je=Ve.call($e)).done||!Ve.call($e).done)throw TypeError("Expected sequence with length 2");gt.push({key:Te.value+"",value:Je.value+""})}else for(Ye in bt)b(bt,Ye)&&gt.push({key:Ye,value:bt[Ye]+""});else ge(gt,"string"==typeof bt?"?"===bt.charAt(0)?bt.slice(1):bt:bt+"")}Le("../modules/es.array.iterator");var a=Le("../internals/export"),z=Le("../internals/get-built-in"),l=Le("../internals/native-url"),d=Le("../internals/redefine"),u=Le("../internals/redefine-all"),c=Le("../internals/set-to-string-tag"),s=Le("../internals/create-iterator-constructor"),m=Le("../internals/internal-state"),p=Le("../internals/an-instance"),b=Le("../internals/has"),T=Le("../internals/function-bind-context"),F=Le("../internals/classof"),k=Le("../internals/an-object"),A=Le("../internals/is-object"),P=Le("../internals/object-create"),$=Le("../internals/create-property-descriptor"),j=Le("../internals/get-iterator"),N=Le("../internals/get-iterator-method"),I=(Le=Le("../internals/well-known-symbol"),z("fetch")),B=z("Headers"),W=(z=Le("iterator"),"URLSearchParams"),ne=W+"Iterator",J=m.set,q=m.getterFor(W),ae=m.getterFor(ne),fe=/\+/g,Se=Array(4),K=function(Ze){var et,Oe=Ze.replace(fe," "),$e=4;try{return decodeURIComponent(Oe)}catch{for(;$e;)Oe=Oe.replace((et=$e--,Se[et-1]||(Se[et-1]=RegExp("((?:%[\\da-f]{2}){"+et+"})","gi"))),y);return Oe}},R=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ge=function(Ze,et){if(et)for(var Oe,$e=et.split("&"),Ve=0;Ve<$e.length;)(Oe=$e[Ve++]).length&&(Oe=Oe.split("="),Ze.push({key:K(Oe.shift()),value:K(Oe.join("="))}))},De=s(function(Ze,et){J(this,{type:ne,iterator:j(q(Ze).entries),kind:et})},"Iterator",function(){var et,Ze=(et=ae(this)).kind,Oe=(et=et.iterator.next()).value;return et.done||(et.value="keys"===Ze?Oe.key:"values"===Ze?Oe.value:[Oe.key,Oe.value]),et});u(Le=w.prototype,{append:function(Ze,et){E(arguments.length,2);var Oe=q(this);Oe.entries.push({key:Ze+"",value:et+""}),Oe.updateURL()},delete:function(Ze){E(arguments.length,1);for(var et=q(this),Oe=et.entries,$e=Ze+"",Ve=0;Ve<Oe.length;)Oe[Ve].key===$e?Oe.splice(Ve,1):Ve++;et.updateURL()},get:function(Ze){E(arguments.length,1);for(var et=q(this).entries,Oe=Ze+"",$e=0;$e<et.length;$e++)if(et[$e].key===Oe)return et[$e].value;return null},getAll:function(Ze){E(arguments.length,1);for(var et=q(this).entries,Oe=Ze+"",$e=[],Ve=0;Ve<et.length;Ve++)et[Ve].key===Oe&&$e.push(et[Ve].value);return $e},has:function(Ze){E(arguments.length,1);for(var et=q(this).entries,Oe=Ze+"",$e=0;$e<et.length;)if(et[$e++].key===Oe)return!0;return!1},set:function(Ze,et){E(arguments.length,1);for(var Oe,$e=q(this),Ve=$e.entries,Te=!1,Je=Ze+"",Ye=et+"",bt=0;bt<Ve.length;bt++)(Oe=Ve[bt]).key===Je&&(Te?Ve.splice(bt--,1):(Te=!0,Oe.value=Ye));Te||Ve.push({key:Je,value:Ye}),$e.updateURL()},sort:function(){for(var Ze,et,Oe=q(this),$e=Oe.entries,Ve=$e.slice(),Te=$e.length=0;Te<Ve.length;Te++){for(Ze=Ve[Te],et=0;et<Te;et++)if($e[et].key>Ze.key){$e.splice(et,0,Ze);break}et===Te&&$e.push(Ze)}Oe.updateURL()},forEach:function(Ze){for(var et,Oe=q(this).entries,$e=T(Ze,1<arguments.length?arguments[1]:void 0,3),Ve=0;Ve<Oe.length;)$e((et=Oe[Ve++]).value,et.key,this)},keys:function(){return new De(this,"keys")},values:function(){return new De(this,"values")},entries:function(){return new De(this,"entries")}},{enumerable:!0}),d(Le,z,Le.entries),d(Le,"toString",function(){for(var Ze,et=q(this).entries,Oe=[],$e=0;$e<et.length;)Ze=et[$e++],Oe.push(h(Ze.key)+"="+h(Ze.value));return Oe.join("&")},{enumerable:!0}),c(w,W),a({global:!0,forced:!l},{URLSearchParams:w}),l||"function"!=typeof I||"function"!=typeof B||a({global:!0,enumerable:!0,forced:!0},{fetch:function(Ve){var et,Oe,$e;return Ve=[Ve],1<arguments.length&&(A(et=arguments[1])&&F(Oe=et.body)===W&&(($e=et.headers?new B(et.headers):new B).has("content-type")||$e.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),et=P(et,{body:$(0,String(Oe)),headers:$(0,$e)})),Ve.push(et)),I.apply(this,Ve)}}),H.exports={URLSearchParams:w,getState:q}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":109,"../internals/redefine-all":108,"../internals/set-to-string-tag":118,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],245:[function(j,H,C){"use strict";function y(oe){var _e,O,G,V;if("number"==typeof oe){for(_e=[],O=0;O<4;O++)_e.unshift(oe%256),oe=ne(oe/256);return _e.join(".")}if("object"!=typeof oe)return oe;for(_e="",G=Je(oe),O=0;O<8;O++)V&&0===oe[O]||(V=V&&!1,G===O?(_e+=O?":":"::",V=!0):(_e+=oe[O].toString(16),O<7&&(_e+=":")));return"["+_e+"]"}function _(oe){return!oe.host||oe.cannotBeABaseURL||"file"==oe.scheme}function h(oe,_e,O,G){var V,Q,de,Z=O||Ut,ve=0,Pe="",ot=!1,Tt=!1,sn=!1;for(O||(oe.scheme="",oe.username="",oe.password="",oe.host=null,oe.port=null,oe.path=[],oe.query=null,oe.fragment=null,oe.cannotBeABaseURL=!1,_e=_e.replace($e,"")),_e=_e.replace(Ve,""),V=F(_e);ve<=V.length;){switch(Q=V[ve],Z){case Ut:if(!Q||!K.test(Q)){if(O)return ae;Z=je;continue}Pe+=Q.toLowerCase(),Z=_t;break;case _t:if(Q&&(R.test(Q)||"+"==Q||"-"==Q||"."==Q))Pe+=Q.toLowerCase();else{if(":"!=Q){if(O)return ae;Pe="",Z=je,ve=0;continue}if(O&&(Ft(oe)!=b(Ht,Pe)||"file"==Pe&&(an(oe)||null!==oe.port)||"file"==oe.scheme&&!oe.host))return;if(oe.scheme=Pe,O)return void(Ft(oe)&&Ht[oe.scheme]==oe.port&&(oe.port=null));Pe="","file"==oe.scheme?Z=Et:Ft(oe)&&G&&G.scheme==oe.scheme?Z=Ue:Ft(oe)?Z=Ct:"/"==V[ve+1]?(Z=Me,ve++):(oe.cannotBeABaseURL=!0,oe.path.push(""),Z=It)}break;case je:if(!G||G.cannotBeABaseURL&&"#"!=Q)return ae;if(G.cannotBeABaseURL&&"#"==Q){oe.scheme=G.scheme,oe.path=G.path.slice(),oe.query=G.query,oe.fragment="",oe.cannotBeABaseURL=!0,Z=ct;break}Z="file"==G.scheme?Et:Ke;continue;case Ue:if("/"!=Q||"/"!=V[ve+1]){Z=Ke;continue}Z=$t,ve++;break;case Me:if("/"==Q){Z=nn;break}Z=ut;continue;case Ke:if(oe.scheme=G.scheme,Q==w)oe.username=G.username,oe.password=G.password,oe.host=G.host,oe.port=G.port,oe.path=G.path.slice(),oe.query=G.query;else if("/"==Q||"\\"==Q&&Ft(oe))Z=wt;else if("?"==Q)oe.username=G.username,oe.password=G.password,oe.host=G.host,oe.port=G.port,oe.path=G.path.slice(),oe.query="",Z=Be;else{if("#"!=Q){oe.username=G.username,oe.password=G.password,oe.host=G.host,oe.port=G.port,oe.path=G.path.slice(),oe.path.pop(),Z=ut;continue}oe.username=G.username,oe.password=G.password,oe.host=G.host,oe.port=G.port,oe.path=G.path.slice(),oe.query=G.query,oe.fragment="",Z=ct}break;case wt:if(!Ft(oe)||"/"!=Q&&"\\"!=Q){if("/"!=Q){oe.username=G.username,oe.password=G.password,oe.host=G.host,oe.port=G.port,Z=ut;continue}Z=nn}else Z=$t;break;case Ct:if(Z=$t,"/"!=Q||"/"!=Pe.charAt(ve+1))continue;ve++;break;case $t:if("/"==Q||"\\"==Q)break;Z=nn;continue;case nn:if("@"==Q){ot&&(Pe="%40"+Pe),ot=!0;for(var _n=F(Pe),ln=0;ln<_n.length;ln++){var kn=_n[ln];":"!=kn||sn?(kn=kt(kn,vt),sn?oe.password+=kn:oe.username+=kn):sn=!0}Pe=""}else if(Q==w||"/"==Q||"?"==Q||"#"==Q||"\\"==Q&&Ft(oe)){if(ot&&""==Pe)return q;ve-=F(Pe).length+1,Pe="",Z=wn}else Pe+=Q;break;case wn:case xn:if(O&&"file"==oe.scheme){Z=yt;continue}if(":"!=Q||Tt){if(Q==w||"/"==Q||"?"==Q||"#"==Q||"\\"==Q&&Ft(oe)){if(Ft(oe)&&""==Pe)return fe;if(O&&""==Pe&&(an(oe)||null!==oe.port))return;if(de=Te(oe,Pe))return de;if(Pe="",Z=tt,O)return;continue}"["==Q?Tt=!0:"]"==Q&&(Tt=!1),Pe+=Q}else{if(""==Pe)return fe;if(de=Te(oe,Pe))return de;if(Pe="",Z=St,O==xn)return}break;case St:if(!se.test(Q)){if(Q==w||"/"==Q||"?"==Q||"#"==Q||"\\"==Q&&Ft(oe)||O){if(""!=Pe){var Kn=parseInt(Pe,10);if(65535<Kn)return Se;oe.port=Ft(oe)&&Kn===Ht[oe.scheme]?null:Kn,Pe=""}if(O)return;Z=tt;continue}return Se}Pe+=Q;break;case Et:if(oe.scheme="file","/"==Q||"\\"==Q)Z=Nt;else{if(!G||"file"!=G.scheme){Z=ut;continue}if(Q==w)oe.host=G.host,oe.path=G.path.slice(),oe.query=G.query;else if("?"==Q)oe.host=G.host,oe.path=G.path.slice(),oe.query="",Z=Be;else{if("#"!=Q){dn(V.slice(ve).join(""))||(oe.host=G.host,oe.path=G.path.slice(),qt(oe)),Z=ut;continue}oe.host=G.host,oe.path=G.path.slice(),oe.query=G.query,oe.fragment="",Z=ct}}break;case Nt:if("/"==Q||"\\"==Q){Z=yt;break}G&&"file"==G.scheme&&!dn(V.slice(ve).join(""))&&(rn(G.path[0],!0)?oe.path.push(G.path[0]):oe.host=G.host),Z=ut;continue;case yt:if(Q==w||"/"==Q||"\\"==Q||"?"==Q||"#"==Q){if(!O&&rn(Pe))Z=ut;else{if(""==Pe){if(oe.host="",O)return}else{if(de=Te(oe,Pe))return de;if("localhost"==oe.host&&(oe.host=""),O)return;Pe=""}Z=tt}continue}Pe+=Q;break;case tt:if(Ft(oe)){if(Z=ut,"/"!=Q&&"\\"!=Q)continue}else if(O||"?"!=Q)if(O||"#"!=Q){if(Q!=w&&(Z=ut,"/"!=Q))continue}else oe.fragment="",Z=ct;else oe.query="",Z=Be;break;case ut:if(Q==w||"/"==Q||"\\"==Q&&Ft(oe)||!O&&("?"==Q||"#"==Q)){if(lt(Pe)?(qt(oe),"/"==Q||"\\"==Q&&Ft(oe)||oe.path.push("")):Gt(Pe)?"/"==Q||"\\"==Q&&Ft(oe)||oe.path.push(""):("file"==oe.scheme&&!oe.path.length&&rn(Pe)&&(oe.host&&(oe.host=""),Pe=Pe.charAt(0)+":"),oe.path.push(Pe)),Pe="","file"==oe.scheme&&(Q==w||"?"==Q||"#"==Q))for(;1<oe.path.length&&""===oe.path[0];)oe.path.shift();"?"==Q?(oe.query="",Z=Be):"#"==Q&&(oe.fragment="",Z=ct)}else Pe+=kt(Q,gt);break;case It:"?"==Q?(oe.query="",Z=Be):"#"==Q?(oe.fragment="",Z=ct):Q!=w&&(oe.path[0]+=kt(Q,Ye));break;case Be:O||"#"!=Q?Q!=w&&("'"==Q&&Ft(oe)?oe.query+="%27":oe.query+="#"==Q?"%23":kt(Q,Ye)):(oe.fragment="",Z=ct);break;case ct:Q!=w&&(oe.fragment+=kt(Q,bt))}ve++}}function f(Q){var _e,O,G=p(this,f,"URL"),V=1<arguments.length?arguments[1]:void 0,de=(Q=String(Q),z(G,{type:"URL"}));if(void 0!==V)if(V instanceof f)_e=W(V);else if(O=h(_e={},String(V)))throw TypeError(O);if(O=h(de,Q,null,_e))throw TypeError(O);var Z=de.searchParams=new I;(V=B(Z)).updateSearchParams(de.query),V.updateURL=function(){de.query=String(Z)||null},u||(G.href=Pt.call(G),G.origin=zt.call(G),G.protocol=mn.call(G),G.username=gn.call(G),G.password=bn.call(G),G.host=Cn.call(G),G.hostname=Sn.call(G),G.port=tr.call(G),G.pathname=nr.call(G),G.search=zn.call(G),G.searchParams=Ln.call(G),G.hash=ee.call(G))}function E(oe,_e){return{get:oe,set:_e,configurable:!0,enumerable:!0}}j("../modules/es.string.iterator");var w,a,l,d=j("../internals/export"),u=j("../internals/descriptors"),c=j("../internals/native-url"),Ot=j("../internals/global"),s=j("../internals/object-define-properties"),m=j("../internals/redefine"),p=j("../internals/an-instance"),b=j("../internals/has"),T=j("../internals/object-assign"),F=j("../internals/array-from"),k=j("../internals/string-multibyte").codeAt,A=j("../internals/string-punycode-to-ascii"),P=j("../internals/set-to-string-tag"),$=j("../modules/web.url-search-params"),N=(j=j("../internals/internal-state"),Ot.URL),I=$.URLSearchParams,B=$.getState,z=j.set,W=j.getterFor("URL"),ne=Math.floor,J=Math.pow,q="Invalid authority",ae="Invalid scheme",fe="Invalid host",Se="Invalid port",K=/[A-Za-z]/,R=/[\d+-.A-Za-z]/,se=/\d/,ge=/^(0x|0X)/,De=/^[0-7]+$/,Le=/^\d+$/,Ze=/^[\dA-Fa-f]+$/,et=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Oe=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,$e=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Ve=/[\u0009\u000A\u000D]/g,Te=function(oe,_e){var O,G,V;if("["==_e.charAt(0))return"]"==_e.charAt(_e.length-1)&&(O=function(Q){var ot,Tt,sn,_n,ln,kn,Kn,de=[0,0,0,0,0,0,0,0],Z=0,ve=null,Pe=0,Wn=function(){return Q.charAt(Pe)};if(":"==Wn()){if(":"!=Q.charAt(1))return;Pe+=2,ve=++Z}for(;Wn();){if(8==Z)return;if(":"!=Wn()){for(ot=Tt=0;Tt<4&&Ze.test(Wn());)ot=16*ot+parseInt(Wn(),16),Pe++,Tt++;if("."==Wn()){if(0==Tt||(Pe-=Tt,Z>6))return;for(sn=0;Wn();){if(_n=null,sn>0){if(!("."==Wn()&&sn<4))return;Pe++}if(!se.test(Wn()))return;for(;se.test(Wn());){if(ln=parseInt(Wn(),10),null===_n)_n=ln;else{if(0==_n)return;_n=10*_n+ln}if(_n>255)return;Pe++}de[Z]=256*de[Z]+_n,(2==++sn||4==sn)&&Z++}if(4!=sn)return;break}if(":"==Wn()){if(Pe++,!Wn())return}else if(Wn())return;de[Z++]=ot}else{if(null!==ve)return;Pe++,ve=++Z}}if(null!==ve)for(kn=Z-ve,Z=7;0!=Z&&kn>0;)Kn=de[Z],de[Z--]=de[ve+kn-1],de[ve+--kn]=Kn;else if(8!=Z)return;return de}(_e.slice(1,-1)))?void(oe.host=O):fe;if(Ft(oe))return _e=A(_e),et.test(_e)||null===(O=function(Q){var Z,ve,Pe,ot,Tt,sn,_n,de=Q.split(".");if(de.length&&""==de[de.length-1]&&de.pop(),(Z=de.length)>4)return Q;for(ve=[],Pe=0;Pe<Z;Pe++){if(""==(ot=de[Pe]))return Q;if(Tt=10,ot.length>1&&"0"==ot.charAt(0)&&(Tt=ge.test(ot)?16:8,ot=ot.slice(8==Tt?1:2)),""===ot)sn=0;else{if(!(10==Tt?Le:8==Tt?De:Ze).test(ot))return Q;sn=parseInt(ot,Tt)}ve.push(sn)}for(Pe=0;Pe<Z;Pe++)if(sn=ve[Pe],Pe==Z-1){if(sn>=J(256,5-Z))return null}else if(sn>255)return null;for(_n=ve.pop(),Pe=0;Pe<ve.length;Pe++)_n+=ve[Pe]*J(256,3-Pe);return _n}(_e))?fe:void(oe.host=O);if(Oe.test(_e))return fe;for(O="",G=F(_e),V=0;V<G.length;V++)O+=kt(G[V],Ye);oe.host=O},Je=function(oe){for(var _e=null,O=1,G=null,V=0,Q=0;Q<8;Q++)0!==oe[Q]?(O<V&&(_e=G,O=V),G=null,V=0):(null===G&&(G=Q),++V);return O<V&&(_e=G,O=V),_e},Ye={},bt=T({},Ye,{" ":1,'"':1,"<":1,">":1,"`":1}),gt=T({},bt,{"#":1,"?":1,"{":1,"}":1}),vt=T({},gt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),kt=function(oe,_e){var O=k(oe,0);return 32<O&&O<127&&!b(_e,oe)?oe:encodeURIComponent(oe)},Ht={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ft=function(oe){return b(Ht,oe.scheme)},an=function(oe){return""!=oe.username||""!=oe.password},rn=function(oe,_e){return 2==oe.length&&K.test(oe.charAt(0))&&(":"==(oe=oe.charAt(1))||!_e&&"|"==oe)},dn=function(oe){return 1<oe.length&&rn(oe.slice(0,2))&&(2==oe.length||"/"===(oe=oe.charAt(2))||"\\"===oe||"?"===oe||"#"===oe)},qt=function(oe){var _e=oe.path,O=_e.length;!O||"file"==oe.scheme&&1==O&&rn(_e[0],!0)||_e.pop()},Gt=function(oe){return"."===oe||"%2e"===oe.toLowerCase()},lt=function(oe){return".."===(oe=oe.toLowerCase())||"%2e."===oe||".%2e"===oe||"%2e%2e"===oe},Ut={},_t={},je={},Ue={},Me={},Ke={},wt={},Ct={},$t={},nn={},wn={},xn={},St={},Et={},Nt={},yt={},tt={},ut={},It={},Be={},ct={},Pt=(Ot=f.prototype,function(){var oe=W(this),_e=oe.scheme,O=oe.username,G=oe.password,V=oe.host,Q=oe.port,de=oe.path,Z=oe.query,ve=oe.fragment,Pe=_e+":";return null!==V?(Pe+="//",an(oe)&&(Pe+=O+(G?":"+G:"")+"@"),Pe+=y(V),null!==Q&&(Pe+=":"+Q)):"file"==_e&&(Pe+="//"),Pe+=oe.cannotBeABaseURL?de[0]:de.length?"/"+de.join("/"):"",null!==Z&&(Pe+="?"+Z),null!==ve&&(Pe+="#"+ve),Pe}),zt=function(){var oe=W(this),_e=oe.scheme,O=oe.port;if("blob"==_e)try{return new URL(_e.path[0]).origin}catch{return"null"}return"file"!=_e&&Ft(oe)?_e+"://"+y(oe.host)+(null!==O?":"+O:""):"null"},mn=function(){return W(this).scheme+":"},gn=function(){return W(this).username},bn=function(){return W(this).password},Cn=function(){var oe=(_e=W(this)).host,_e=_e.port;return null===oe?"":null===_e?y(oe):y(oe)+":"+_e},Sn=function(){var oe=W(this).host;return null===oe?"":y(oe)},tr=function(){var oe=W(this).port;return null===oe?"":String(oe)},nr=function(){var oe=W(this),_e=oe.path;return oe.cannotBeABaseURL?_e[0]:_e.length?"/"+_e.join("/"):""},zn=function(){var oe=W(this).query;return oe?"?"+oe:""},Ln=function(){return W(this).searchParams},ee=function(){var oe=W(this).fragment;return oe?"#"+oe:""};u&&s(Ot,{href:E(Pt,function(O){var _e=W(this);if(O=h(_e,O=String(O)))throw TypeError(O);B(_e.searchParams).updateSearchParams(_e.query)}),origin:E(zt),protocol:E(mn,function(oe){h(W(this),String(oe)+":",Ut)}),username:E(gn,function(oe){var _e=W(this),O=F(String(oe));if(!_(_e)){_e.username="";for(var G=0;G<O.length;G++)_e.username+=kt(O[G],vt)}}),password:E(bn,function(oe){var _e=W(this),O=F(String(oe));if(!_(_e)){_e.password="";for(var G=0;G<O.length;G++)_e.password+=kt(O[G],vt)}}),host:E(Cn,function(oe){var _e=W(this);_e.cannotBeABaseURL||h(_e,String(oe),wn)}),hostname:E(Sn,function(oe){var _e=W(this);_e.cannotBeABaseURL||h(_e,String(oe),xn)}),port:E(tr,function(oe){var _e=W(this);_(_e)||(""==(oe=String(oe))?_e.port=null:h(_e,oe,St))}),pathname:E(nr,function(oe){var _e=W(this);_e.cannotBeABaseURL||(_e.path=[],h(_e,oe+"",tt))}),search:E(zn,function(oe){var _e=W(this);""==(oe=String(oe))?_e.query=null:("?"==oe.charAt(0)&&(oe=oe.slice(1)),_e.query="",h(_e,oe,Be)),B(_e.searchParams).updateSearchParams(_e.query)}),searchParams:E(Ln),hash:E(ee,function(oe){var _e=W(this);""==(oe=String(oe))?_e.fragment=null:("#"==oe.charAt(0)&&(oe=oe.slice(1)),_e.fragment="",h(_e,oe,ct))})}),m(Ot,"toJSON",function(){return Pt.call(this)},{enumerable:!0}),m(Ot,"toString",function(){return Pt.call(this)},{enumerable:!0}),N&&(l=N.revokeObjectURL,(a=N.createObjectURL)&&m(f,"createObjectURL",function(oe){return a.apply(N,arguments)}),l&&m(f,"revokeObjectURL",function(oe){return l.apply(N,arguments)})),P(f,"URL"),d({global:!0,forced:!c,sham:!u},{URL:f})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/string-multibyte":124,"../internals/string-punycode-to-ascii":127,"../modules/es.string.iterator":197,"../modules/web.url-search-params":244}],246:[function(r,H,C){"use strict";H.exports=r("./").polyfill()},{"./":247}],247:[function(r,H,C){(function(y,_){var f;f=function(){"use strict";function E(Te){return"function"==typeof Te}var w=Array.isArray||function(Te){return"[object Array]"===Object.prototype.toString.call(Te)},a=0,l=void 0,d=void 0,u=function(Te,Je){T[a]=Te,T[a+1]=Je,2===(a+=2)&&(d?d(F):I())},c=typeof window<"u"?window:void 0,s=(s=c||{}).MutationObserver||s.WebKitMutationObserver,m=typeof self>"u"&&void 0!==y&&"[object process]"==={}.toString.call(y),p=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function b(){var Te=setTimeout;return function(){return Te(F,1)}}var T=new Array(1e3);function F(){for(var Te=0;Te<a;Te+=2)(0,T[Te])(T[Te+1]),T[Te]=void 0,T[Te+1]=void 0;a=0}var A,P,$,I=void 0;function j(Te,Je){var Ye,bt=this,gt=new this.constructor(z),vt=(void 0===gt[B]&&Ze(gt),bt._state);return vt?(Ye=arguments[vt-1],u(function(){return De(vt,gt,Ye,bt._result)})):se(bt,gt,Te,Je),gt}function N(Te){var Je;return Te&&"object"==typeof Te&&Te.constructor===this?Te:(fe(Je=new this(z),Te),Je)}I=m?function(){return y.nextTick(F)}:s?(P=0,m=new s(F),$=document.createTextNode(""),m.observe($,{characterData:!0}),function(){$.data=P=++P%2}):p?((A=new MessageChannel).port1.onmessage=F,function(){return A.port2.postMessage(0)}):(void 0===c&&"function"==typeof r?function k(){try{var Te=Function("return this")().require("vertx");return void 0!==(l=Te.runOnLoop||Te.runOnContext)?function(){l(F)}:b()}catch{return b()}}:b)();var B=Math.random().toString(36).substring(2);function z(){}var W=void 0,ne=1,J=2;function q(Te,Je,Ye){u(function(bt){var gt=!1,vt=function(kt,Ht,Ft,an){try{kt.call(Ht,function(kt){gt||(gt=!0,(Je!==kt?fe:K)(bt,kt))},function(kt){gt||(gt=!0,R(bt,kt))})}catch(rn){return rn}}(Ye,Je);!gt&&vt&&(gt=!0,R(bt,vt))},Te)}function ae(Te,Je,Ye){var bt,gt;Je.constructor===Te.constructor&&Ye===j&&Je.constructor.resolve===N?(bt=Te,(gt=Je)._state===ne?K(bt,gt._result):gt._state===J?R(bt,gt._result):se(gt,void 0,function(vt){return fe(bt,vt)},function(vt){return R(bt,vt)})):void 0!==Ye&&E(Ye)?q(Te,Je,Ye):K(Te,Je)}function fe(Te,Je){if(Te===Je)R(Te,new TypeError("You cannot resolve a promise with itself"));else if(Ye=typeof Je,null===Je||"object"!=Ye&&"function"!=Ye)K(Te,Je);else{Ye=void 0;try{Ye=Je.then}catch(bt){return void R(Te,bt)}ae(Te,Je,Ye)}var Ye}function Se(Te){Te._onerror&&Te._onerror(Te._result),ge(Te)}function K(Te,Je){Te._state===W&&(Te._result=Je,Te._state=ne,0!==Te._subscribers.length&&u(ge,Te))}function R(Te,Je){Te._state===W&&(Te._state=J,Te._result=Je,u(Se,Te))}function se(Te,Je,Ye,bt){var gt=Te._subscribers,vt=gt.length;Te._onerror=null,gt[vt]=Je,gt[vt+ne]=Ye,gt[vt+J]=bt,0===vt&&Te._state&&u(ge,Te)}function ge(Te){var Je=Te._subscribers,Ye=Te._state;if(0!==Je.length){for(var bt,gt=void 0,vt=Te._result,kt=0;kt<Je.length;kt+=3)gt=Je[kt+Ye],(bt=Je[kt])?De(Ye,bt,gt,vt):gt(vt);Te._subscribers.length=0}}function De(Te,Je,Ye,bt){var gt=E(Ye),vt=void 0,kt=void 0,Ht=!0;if(gt){try{vt=Ye(bt)}catch(Ft){Ht=!1,kt=Ft}if(Je===vt)return void R(Je,new TypeError("A promises callback cannot return that same promise."))}else vt=bt;Je._state===W&&(gt&&Ht?fe(Je,vt):!1===Ht?R(Je,kt):Te===ne?K(Je,vt):Te===J&&R(Je,vt))}var Le=0;function Ze(Te){Te[B]=Le++,Te._state=void 0,Te._result=void 0,Te._subscribers=[]}Oe.prototype._enumerate=function(Te){for(var Je=0;this._state===W&&Je<Te.length;Je++)this._eachEntry(Te[Je],Je)},Oe.prototype._eachEntry=function(Te,Je){var Ye=this._instanceConstructor,bt=Ye.resolve;if(bt===N){var gt,vt=void 0,kt=void 0,Ht=!1;try{vt=Te.then}catch(Ft){Ht=!0,kt=Ft}vt===j&&Te._state!==W?this._settledAt(Te._state,Je,Te._result):"function"!=typeof vt?(this._remaining--,this._result[Je]=Te):Ye===$e?(gt=new Ye(z),Ht?R(gt,kt):ae(gt,Te,vt),this._willSettleAt(gt,Je)):this._willSettleAt(new Ye(function(Ft){return Ft(Te)}),Je)}else this._willSettleAt(bt(Te),Je)},Oe.prototype._settledAt=function(Te,Je,Ye){var bt=this.promise;bt._state===W&&(this._remaining--,Te===J?R(bt,Ye):this._result[Je]=Ye),0===this._remaining&&K(bt,this._result)},Oe.prototype._willSettleAt=function(Te,Je){var Ye=this;se(Te,void 0,function(bt){return Ye._settledAt(ne,Je,bt)},function(bt){return Ye._settledAt(J,Je,bt)})};var et=Oe;function Oe(Te,Je){this._instanceConstructor=Te,this.promise=new Te(z),this.promise[B]||Ze(this.promise),w(Je)?(this.length=Je.length,this._remaining=Je.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(Je),0!==this._remaining)||K(this.promise,this._result)):R(this.promise,new Error("Array Methods must be provided an Array"))}Ve.prototype.catch=function(Te){return this.then(null,Te)},Ve.prototype.finally=function(Te){var Je=this.constructor;return E(Te)?this.then(function(Ye){return Je.resolve(Te()).then(function(){return Ye})},function(Ye){return Je.resolve(Te()).then(function(){throw Ye})}):this.then(Te,Te)};var $e=Ve;function Ve(Te){if(this[B]=Le++,this._result=this._state=void 0,this._subscribers=[],z!==Te){if("function"!=typeof Te)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof Ve))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var Je=this;try{Te(function(Ye){fe(Je,Ye)},function(Ye){R(Je,Ye)})}catch(Ye){R(Je,Ye)}}}return $e.prototype.then=j,$e.all=function(Te){return new et(this,Te).promise},$e.race=function(Te){var Je=this;return w(Te)?new Je(function(Ye,bt){for(var gt=Te.length,vt=0;vt<gt;vt++)Je.resolve(Te[vt]).then(Ye,bt)}):new Je(function(Ye,bt){return bt(new TypeError("You must pass an array to race."))})},$e.resolve=N,$e.reject=function(Te){var Je=new this(z);return R(Je,Te),Je},$e._setScheduler=function(Te){d=Te},$e._setAsap=function(Te){u=Te},$e._asap=u,$e.polyfill=function(){var Te=void 0;if(void 0!==_)Te=_;else if(typeof self<"u")Te=self;else try{Te=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Je=Te.Promise;if(Je){var Ye=null;try{Ye=Object.prototype.toString.call(Je.resolve())}catch{}if("[object Promise]"===Ye&&!Je.cast)return}Te.Promise=$e},$e.Promise=$e},"object"==typeof C&&void 0!==H?H.exports=f():this.ES6Promise=f()}).call(this,r("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:256}],248:[function(r,H,C){var _;_=function(h,f){"use strict";function a(d){try{delete window[d]}catch{window[d]=void 0}}function l(d){(d=document.getElementById(d))&&document.getElementsByTagName("head")[0].removeChild(d)}f.exports=function(d){var u=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=d,s=u.timeout||5e3,m=u.jsonpCallback||"callback",p=void 0;return new Promise(function(b,T){var F=u.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),k=m+"_"+F,A=(window[F]=function(P){b({ok:!0,json:function(){return Promise.resolve(P)}}),p&&clearTimeout(p),l(k),a(F)},c+=-1===c.indexOf("?")?"?":"&",document.createElement("script"));A.setAttribute("src",""+c+m+"="+F),u.charset&&A.setAttribute("charset",u.charset),A.id=k,document.getElementsByTagName("head")[0].appendChild(A),p=setTimeout(function(){T(new Error("JSONP request to "+d+" timed out")),a(F),l(k),window[F]=function(){a(F)}},s),A.onerror=function(){T(new Error("JSONP request to "+d+" failed")),a(F),l(k),p&&clearTimeout(p)}})}},void 0!==C&&void 0!==H?_(0,H):(_(_={exports:{}},_),this.fetchJsonp=_.exports)},{}],249:[function(r,H,C){var y=function(_){"use strict";var h,f,E,w,a,l,u,c,s,m;if(!(void 0===_||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return h=function(){return _.URL||_.webkitURL||_},f=(m=_.document).createElementNS("http://www.w3.org/1999/xhtml","a"),E="download"in f,w=/constructor/i.test(_.HTMLElement)||_.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(p){(_.setImmediate||_.setTimeout)(function(){throw p},0)},4e4,u=function(p){setTimeout(function(){"string"==typeof p?h().revokeObjectURL(p):p.remove()},4e4)},c=function(p){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\ufeff",p],{type:p.type}):p},m=(s=function(p,b,P){P||(p=c(p));var F,k,A=this,$=(P="application/octet-stream"===p.type,function(){for(var j=A,N="writestart progress write writeend".split(" "),B=(N=[].concat(N)).length;B--;){var z=j["on"+N[B]];if("function"==typeof z)try{z.call(j,j)}catch(W){l(W)}}});A.readyState=A.INIT,E?(F=h().createObjectURL(p),setTimeout(function(){var j,N;f.href=F,f.download=b,j=f,N=new MouseEvent("click"),j.dispatchEvent(N),$(),u(F),A.readyState=A.DONE})):(a||P&&w)&&_.FileReader?((k=new FileReader).onloadend=function(){var j=a?k.result:k.result.replace(/^data:[^;]*;/,"data:attachment/file;");_.open(j,"_blank")||(_.location.href=j),j=void 0,A.readyState=A.DONE,$()},k.readAsDataURL(p),A.readyState=A.INIT):(F=F||h().createObjectURL(p),!P&&_.open(F,"_blank")||(_.location.href=F),A.readyState=A.DONE,$(),u(F))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(p,b,T){return b=b||p.name||"download",T||(p=c(p)),navigator.msSaveOrOpenBlob(p,b)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,function(p,b,T){return new s(p,b||p.name||"download",T)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);void 0!==H&&H.exports&&(H.exports.saveAs=y)},{}],250:[function(r,H,C){var y,_=Object.defineProperty,h=(_(C,"__esModule",{value:!0}),C),f={GIFEncoder:()=>$,applyPalette:()=>function(W,ne,J="rgb565"){if(!W||!W.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(W instanceof Uint8Array||W instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<ne.length)throw new Error("applyPalette() only works with 256 colors or less");const q=new Uint32Array(W.buffer),ae=q.length,fe="rgb444"===J?4096:65536,Se=new Uint8Array(ae),K=new Array(fe);if("rgba4444"===J)for(let Ve=0;Ve<ae;Ve++){var De,R=(De=q[Ve])>>24&255,se=De>>16&255,ge=De>>8&255,Le=(Le=u(De&=255,ge,se,R))in K?K[Le]:K[Le]=function(Te,Je,Ye,bt,gt){let vt=0,kt=1e100;for(let rn=0;rn<gt.length;rn++){var Ft=gt[rn],an=k(Ft[3]-bt);an>kt||(an+=k(Ft[0]-Te))>kt||(an+=k(Ft[1]-Je))>kt||(an+=k(Ft[2]-Ye))>kt||(kt=an,vt=rn)}return vt}(De,ge,se,R,ne);Se[Ve]=Le}else{const Ve="rgb444"===J?c:d;for(let Te=0;Te<ae;Te++){var Oe,Ze=(Oe=q[Te])>>16&255,et=Oe>>8&255,$e=($e=Ve(Oe&=255,et,Ze))in K?K[$e]:K[$e]=function(Je,Ye,bt,gt){let vt=0,kt=1e100;for(let rn=0;rn<gt.length;rn++){var Ft=gt[rn],an=k(Ft[0]-Je);an>kt||(an+=k(Ft[1]-Ye))>kt||(an+=k(Ft[2]-bt))>kt||(kt=an,vt=rn)}return vt}(Oe,et,Ze,ne);Se[Te]=$e}}return Se},default:()=>z,nearestColor:()=>function(W,ne,J=T){return W[A(W,ne,J)]},nearestColorIndex:()=>A,nearestColorIndexWithDistance:()=>P,prequantize:()=>function(W,{roundRGB:ne=5,roundAlpha:J=10,oneBitAlpha:q=null}={}){const ae=new Uint32Array(W.buffer);for(let se=0;se<ae.length;se++){let ge=(R=ae[se])>>24&255;var Se=R>>16&255,K=R>>8&255,R=255&R;ge=F(ge,J),q&&(ge=ge<=("number"==typeof q?q:127)?0:255),R=F(R,ne),K=F(K,ne),Se=F(Se,ne),ae[se]=ge<<24|Se<<16|K<<8|R<<0}},quantize:()=>function(W,ne,J={}){var{format:q="rgb565",clearAlpha:ae=!0,clearAlphaColor:fe=0,clearAlphaThreshold:Se=0,oneBitAlpha:K=!1}=J;if(!W||!W.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(W instanceof Uint8Array||W instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");W=new Uint32Array(W.buffer);let R=!1!==J.useSqrt;const se="rgba4444"===q,ge=function(dn,qt){const lt=new Array("rgb444"===qt?4096:65536),Ut=dn.length;if("rgba4444"===qt)for(let Nt=0;Nt<Ut;++Nt){var Me,_t=(Me=dn[Nt])>>24&255,je=Me>>16&255,Ue=Me>>8&255,Ke=u(Me&=255,Ue,je,_t);let yt=Ke in lt?lt[Ke]:lt[Ke]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};yt.rc+=Me,yt.gc+=Ue,yt.bc+=je,yt.ac+=_t,yt.cnt++}else if("rgb444"===qt)for(let Nt=0;Nt<Ut;++Nt){var $t,wt=($t=dn[Nt])>>16&255,Ct=$t>>8&255,nn=c($t&=255,Ct,wt);let yt=nn in lt?lt[nn]:lt[nn]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};yt.rc+=$t,yt.gc+=Ct,yt.bc+=wt,yt.cnt++}else for(let Nt=0;Nt<Ut;++Nt){var St,wn=(St=dn[Nt])>>16&255,xn=St>>8&255,Et=d(St&=255,xn,wn);let yt=Et in lt?lt[Et]:lt[Et]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};yt.rc+=St,yt.gc+=xn,yt.bc+=wn,yt.cnt++}return lt}(W,q),De=ge.length,Le=De-1,Ze=new Uint32Array(De+1);for(var et=0,Oe=0;Oe<De;++Oe){const dn=ge[Oe];null!=dn&&(Ft=1/dn.cnt,se&&(dn.ac*=Ft),dn.rc*=Ft,dn.gc*=Ft,dn.bc*=Ft,ge[et++]=dn)}var $e,Ve,Te;for(m(ne)/et<.022&&(R=!1),Oe=0;Oe<et-1;++Oe)ge[Oe].fw=Oe+1,ge[Oe+1].bk=Oe,R&&(ge[Oe].cnt=Math.sqrt(ge[Oe].cnt));for(R&&(ge[Oe].cnt=Math.sqrt(ge[Oe].cnt)),Oe=0;Oe<et;++Oe){p(ge,Oe,!1);var Je=ge[Oe].err;for(Ve=++Ze[0];1<Ve&&!(ge[$e=Ze[Te=Ve>>1]].err<=Je);Ve=Te)Ze[Ve]=$e;Ze[Ve]=Oe}var Ye,bt=et-ne;for(Oe=0;Oe<bt;){for(;;){var gt=Ze[1];if((Ye=ge[gt]).tm>=Ye.mtm&&ge[Ye.nn].mtm<=Ye.tm)break;for(Ye.mtm==Le?gt=Ze[1]=Ze[Ze[0]--]:(p(ge,gt,!1),Ye.tm=Oe),Je=ge[gt].err,Ve=1;(Te=Ve+Ve)<=Ze[0]&&(Te<Ze[0]&&ge[Ze[Te]].err>ge[Ze[Te+1]].err&&Te++,!(Je<=ge[$e=Ze[Te]].err));Ve=Te)Ze[Ve]=$e;Ze[Ve]=gt}var vt=ge[Ye.nn],kt=Ye.cnt,Ht=vt.cnt,Ft=1/(kt+Ht);se&&(Ye.ac=Ft*(kt*Ye.ac+Ht*vt.ac)),Ye.rc=Ft*(kt*Ye.rc+Ht*vt.rc),Ye.gc=Ft*(kt*Ye.gc+Ht*vt.gc),Ye.bc=Ft*(kt*Ye.bc+Ht*vt.bc),Ye.cnt+=vt.cnt,Ye.mtm=++Oe,ge[vt.bk].fw=vt.fw,ge[vt.fw].bk=vt.bk,vt.mtm=Le}let an=[];for(Oe=0;;0){let dn=s(Math.round(ge[Oe].rc),0,255),qt=s(Math.round(ge[Oe].gc),0,255),Gt=s(Math.round(ge[Oe].bc),0,255),lt=255;se&&(lt=s(Math.round(ge[Oe].ac),0,255),K&&(lt=lt<=(rn="number"==typeof K?K:127)?0:255),ae&&lt<=Se&&(dn=qt=Gt=fe,lt=0));var rn=se?[dn,qt,Gt,lt]:[dn,qt,Gt];if(function(Ut,_t){for(let Me=0;Me<Ut.length;Me++){var je=(Ue=Ut[Me])[0]===_t[0]&&Ue[1]===_t[1]&&Ue[2]===_t[2],Ue=!(4<=Ue.length&&4<=_t.length)||Ue[3]===_t[3];if(je&&Ue)return!0}return!1}(an,rn)||an.push(rn),0==(Oe=ge[Oe].fw))break}return an},snapColorsToPalette:()=>function(W,ne,J=5){if(W.length&&ne.length){var q=W.map(R=>R.slice(0,3)),ae=J*J,fe=W[0].length;for(let R=0;R<ne.length;R++){let se=ne[R];se=se.length<fe?[se[0],se[1],se[2],255]:se.length>fe?se.slice(0,3):se.slice();var K,Se=(K=P(q,se.slice(0,3),T))[0];0<(K=K[1])&&K<=ae&&(W[Se]=se)}}}};for(y in f)_(h,y,{get:f[y],enumerable:!0});var E={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function w(W=256){let ne=0,J=new Uint8Array(W);return{get buffer(){return J.buffer},reset(){ne=0},bytesView:()=>J.subarray(0,ne),bytes:()=>J.slice(0,ne),writeByte(ae){q(ne+1),J[ne]=ae,ne++},writeBytes(ae,fe=0,Se=ae.length){q(ne+Se);for(let K=0;K<Se;K++)J[ne++]=ae[K+fe]},writeBytesView(ae,fe=0,Se=ae.byteLength){q(ne+Se),J.set(ae.subarray(fe,fe+Se),ne),ne+=Se}};function q(ae){var fe=J.length;if(!(ae<=fe)){ae=Math.max(ae,fe*(fe<1048576?2:1.125)>>>0),0!=fe&&(ae=Math.max(ae,256));const Se=J;J=new Uint8Array(ae),0<ne&&J.set(Se.subarray(0,ne),0)}}}var a=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],l=function(W,ne,J,se,ae=w(512),fe=new Uint8Array(256),Se=new Int32Array(5003),K=new Int32Array(5003)){var R=Se.length;se=Math.max(2,se),fe.fill(0),K.fill(0),Se.fill(-1);let ge=0,De=0;var Le=se+1;const Ze=Le;let et=!1,Oe=Ze,$e=(1<<Oe)-1;var Ve=1<<Le-1;const Te=1+Ve;let Je=2+Ve,Ye=0,bt=J[0],gt=0;for(let rn=R;rn<65536;rn*=2)++gt;gt=8-gt,ae.writeByte(se),an(Ve);var vt=J.length;for(let rn=1;rn<vt;rn++)e:{var kt=J[rn],Ht=(kt<<12)+bt;let dn=kt<<gt^bt;if(Se[dn]===Ht)bt=K[dn];else{for(var Ft=0===dn?1:R-dn;0<=Se[dn];)if((dn-=Ft)<0&&(dn+=R),Se[dn]===Ht){bt=K[dn];break e}an(bt),bt=kt,Je<4096?(K[dn]=Je++,Se[dn]=Ht):(Se.fill(-1),Je=2+Ve,et=!0,an(Ve))}}return an(bt),an(Te),ae.writeByte(0),ae.bytesView();function an(rn){for(ge&=a[De],0<De?ge|=rn<<De:ge=rn,De+=Oe;8<=De;)fe[Ye++]=255&ge,254<=Ye&&(ae.writeByte(Ye),ae.writeBytesView(fe,0,Ye),Ye=0),ge>>=8,De-=8;if((Je>$e||et)&&(et?(Oe=Ze,$e=(1<<Oe)-1,et=!1):(++Oe,$e=12===Oe?1<<Oe:(1<<Oe)-1)),rn==Te){for(;0<De;)fe[Ye++]=255&ge,254<=Ye&&(ae.writeByte(Ye),ae.writeBytesView(fe,0,Ye),Ye=0),ge>>=8,De-=8;0<Ye&&(ae.writeByte(Ye),ae.writeBytesView(fe,0,Ye),Ye=0)}}};function d(W,ne,J){return W<<8&63488|ne<<2&992|J>>3}function u(W,ne,J,q){return W>>4|240&ne|(240&J)<<4|(240&q)<<8}function c(W,ne,J){return W>>4<<8|240&ne|J>>4}function s(W,ne,J){return W<ne?ne:J<W?J:W}function m(W){return W*W}function p(W,ne,J){var q=0,ae=1e100;const fe=W[ne];for(var Se=fe.cnt,K=fe.ac,R=fe.rc,se=fe.gc,ge=fe.bc,De=fe.fw;0!=De;De=W[De].fw){var Le,et,Ze=W[De];ae<=(et=Se*(et=Ze.cnt)/(Se+et))||(Le=0,J&&ae<=(Le+=et*m(Ze.ac-K))||ae<=(Le+=et*m(Ze.rc-R))||ae<=(Le+=et*m(Ze.gc-se))||ae<=(Le+=et*m(Ze.bc-ge))||(ae=Le,q=De))}fe.err=ae,fe.nn=q}function T(W,ne){for(var J=0,q=0;q<W.length;q++){var ae=W[q]-ne[q];J+=ae*ae}return J}function F(W,ne){return 1<ne?Math.round(W/ne)*ne:W}function k(W){return W*W}function A(W,ne,J=T){let q=1/0,ae=-1;for(let Se=0;Se<W.length;Se++){var fe=J(ne,W[Se]);fe<q&&(q=fe,ae=Se)}return ae}function P(W,ne,J=T){let q=1/0,ae=-1;for(let Se=0;Se<W.length;Se++){var fe=J(ne,W[Se]);fe<q&&(q=fe,ae=Se)}return[ae,q]}function $(W={}){const{initialCapacity:ne=4096,auto:J=!0}=W,q=w(ne),ae=new Uint8Array(256),fe=new Int32Array(5003),Se=new Int32Array(5003);let K=!1;return{reset(){q.reset(),K=!1},finish(){q.writeByte(E.trailer)},bytes:()=>q.bytes(),bytesView:()=>q.bytesView(),get buffer(){return q.buffer},get stream(){return q},writeHeader:R,writeFrame(se,ge,De,bt={}){var{transparent:Ze=!1,transparentIndex:et=0,delay:Ft=0,palette:Oe=null,repeat:vt=0,colorDepth:$e=8,dispose:Ve=-1}=bt;let Te=!1;if(J?K||(Te=!0,R(),K=!0):Te=!!bt.first,ge=Math.max(0,Math.floor(ge)),De=Math.max(0,Math.floor(De)),Te){if(!Oe)throw new Error("First frame must include a { palette } option");var[bt,kt,Ye,Ht,gt=8]=[q,ge,De,Oe,$e];gt=128|gt-1<<4|(Ht=B(Ht.length)-1),N(bt,kt),N(bt,Ye),bt.writeBytes([gt,0,0]),j(q,Oe),0<=vt&&(kt=vt,(Ht=q).writeByte(33),Ht.writeByte(255),Ht.writeByte(11),I(Ht,"NETSCAPE2.0"),Ht.writeByte(3),Ht.writeByte(1),N(Ht,kt),Ht.writeByte(0))}var Je,Ye,gt=Ve,vt=Ye=Math.round(Ft/10),kt=Ze,Ht=et,Ft=((bt=q).writeByte(33),bt.writeByte(249),bt.writeByte(4),Ht<0&&(Ht=0,kt=!1),kt=kt?(Je=1,2):Je=0,0<=gt&&(kt=7&gt),bt.writeByte(0|(kt<<=2)|Je),N(bt,vt),bt.writeByte(Ht||0),bt.writeByte(0),!!Oe&&!Te);Ze=ge,et=De,Je=Ft?Oe:null,(Ve=q).writeByte(44),N(Ve,0),N(Ve,0),N(Ve,Ze),N(Ve,et),Je?(Ze=B(Je.length)-1,Ve.writeByte(128|Ze)):Ve.writeByte(0),Ft&&j(q,Oe),[vt,bt,et,Ze,Ve=8,Ft,Oe,se]=[q,se,ge,De,$e,ae,fe,Se],l(et,Ze,bt,Ve,vt,Ft,Oe,se)}};function R(){I(q,"GIF89a")}}function j(W,ne){var J=1<<B(ne.length);for(let q=0;q<J;q++){let ae=[0,0,0];q<ne.length&&(ae=ne[q]),W.writeByte(ae[0]),W.writeByte(ae[1]),W.writeByte(ae[2])}}function N(W,ne){W.writeByte(255&ne),W.writeByte(ne>>8&255)}function I(W,ne){for(var J=0;J<ne.length;J++)W.writeByte(ne.charCodeAt(J))}function B(W){return Math.max(Math.ceil(Math.log2(W)),1)}var z=$},{}],251:[function(r,H,C){C.read=function(y,_,h,f,p){var w,a,l=8*p-f-1,d=(1<<l)-1,u=d>>1,c=-7,s=h?p-1:0,m=h?-1:1;for(p=y[_+s],s+=m,w=p&(1<<-c)-1,p>>=-c,c+=l;0<c;w=256*w+y[_+s],s+=m,c-=8);for(a=w&(1<<-c)-1,w>>=-c,c+=f;0<c;a=256*a+y[_+s],s+=m,c-=8);if(0===w)w=1-u;else{if(w===d)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,f),w-=u}return(p?-1:1)*a*Math.pow(2,w-f)},C.write=function(y,_,h,f,E,b){var a,l,d=8*b-E-1,u=(1<<d)-1,c=u>>1,s=23===E?Math.pow(2,-24)-Math.pow(2,-77):0,m=f?0:b-1,p=f?1:-1;for(b=_<0||0===_&&1/_<0?1:0,_=Math.abs(_),isNaN(_)||_===1/0?(l=isNaN(_)?1:0,a=u):(a=Math.floor(Math.log(_)/Math.LN2),_*(f=Math.pow(2,-a))<1&&(a--,f*=2),2<=(_+=1<=a+c?s/f:s*Math.pow(2,1-c))*f&&(a++,f/=2),u<=a+c?(l=0,a=u):1<=a+c?(l=(_*f-1)*Math.pow(2,E),a+=c):(l=_*Math.pow(2,c-1)*Math.pow(2,E),a=0));8<=E;y[h+m]=255&l,m+=p,l/=256,E-=8);for(a=a<<E|l,d+=E;0<d;y[h+m]=255&a,m+=p,a/=256,d-=8);y[h+m-p]|=128*b}},{}],252:[function(r,H,C){"use strict";var y;function _(je,Ue){return je.b===Ue.b&&je.a===Ue.a}function h(je,Ue){return je.b<Ue.b||je.b===Ue.b&&je.a<=Ue.a}function f(je,Ue,Me){var Ke=Ue.b-je.b,wt=Me.b-Ue.b;return 0<Ke+wt?Ke<wt?Ue.a-je.a+Ke/(Ke+wt)*(je.a-Me.a):Ue.a-Me.a+wt/(Ke+wt)*(Me.a-je.a):0}function E(je,Ue,Me){var Ke=Ue.b-je.b,wt=Me.b-Ue.b;return 0<Ke+wt?(Ue.a-Me.a)*Ke+(Ue.a-je.a)*wt:0}function w(je,Ue){return je.a<Ue.a||je.a===Ue.a&&je.b<=Ue.b}function a(je,Ue,Me){var Ke=Ue.a-je.a,wt=Me.a-Ue.a;return 0<Ke+wt?Ke<wt?Ue.b-je.b+Ke/(Ke+wt)*(je.b-Me.b):Ue.b-Me.b+wt/(Ke+wt)*(Me.b-je.b):0}function l(je,Ue,Me){var Ke=Ue.a-je.a,wt=Me.a-Ue.a;return 0<Ke+wt?(Ue.b-Me.b)*Ke+(Ue.b-je.b)*wt:0}function d(je,Ue,Me,Ke){return(je=je<0?0:je)<=(Me=Me<0?0:Me)?0===Me?(Ue+Ke)/2:Ue+je/(je+Me)*(Ke-Ue):Ke+Me/(je+Me)*(Ue-Ke)}function u(je){var Ue=b(je.b);return F(Ue,je.c),F(Ue.b,je.c),k(Ue,je.a),Ue}function c(je,Ue){var Me=!1,Ke=!1;je!==Ue&&(Ue.a!==je.a&&(Ke=!0,P(Ue.a,je.a)),Ue.d!==je.d&&(Me=!0,$(Ue.d,je.d)),T(Ue,je),Ke||(F(Ue,je.a),je.a.c=je),Me||(k(Ue,je.d),je.d.a=je))}function s(je){var Ue=je.b,Me=!1;je.d!==je.b.d&&(Me=!0,$(je.d,je.b.d)),je.c===je?P(je.a,null):(je.b.d.a=je.b.e,je.a.c=je.c,T(je,je.b.e),Me||k(je,je.d)),Ue.c===Ue?(P(Ue.a,null),$(Ue.d,null)):(je.d.a=Ue.b.e,Ue.a.c=Ue.c,T(Ue,Ue.b.e)),A(je)}function m(je){var Ue=b(je),Me=Ue.b;return T(Ue,je.e),Ue.a=je.b.a,F(Me,Ue.a),Ue.d=Me.d=je.d,Ue=Ue.b,T(je.b,je.b.b.e),T(je.b,Ue),je.b.a=Ue.a,Ue.b.a.c=Ue.b,Ue.b.d=je.b.d,Ue.f=je.f,Ue.b.f=je.b.f,Ue}function p(je,Ue){var Me=!1,Ke=b(je),wt=Ke.b;return Ue.d!==je.d&&(Me=!0,$(Ue.d,je.d)),T(Ke,je.e),T(wt,Ue),Ke.a=je.b.a,wt.a=Ue.a,Ke.d=wt.d=je.d,je.d.a=wt,Me||k(Ke,je.d),Ke}function b(je){var Ue=new Ye,Me=new Ye;return(((Me.h=je.b.h).b.h=Ue).h=je).b.h=Me,Ue.b=Me,((Ue.c=Ue).e=Me).b=Ue,(Me.c=Me).e=Ue}function T(je,Ue){var Me=je.c,Ke=Ue.c;Me.b.e=Ue,(Ke.b.e=je).c=Ke,Ue.c=Me}function F(je,Ue){var Me=Ue.f,Ke=new gt(Ue,Me);for(Me.e=Ke,Me=(Ue.f=Ke).c=je;Me.a=Ke,(Me=Me.c)!==je;);}function k(je,Ue){var Me=Ue.d,Ke=new Je(Ue,Me);for(Me.b=Ke,(Ue.d=Ke).a=je,Ke.c=Ue.c,Me=je;Me.d=Ke,(Me=Me.e)!==je;);}function A(je){var Ue=je.h;(Ue.b.h=je=je.b.h).b.h=Ue}function P(je,Ue){for(var Me=je.c,Ke=Me;Ke.a=Ue,(Ke=Ke.c)!==Me;);((Ke=je.e).f=Me=je.f).e=Ke}function $(je,Ue){for(var Me=je.a,Ke=Me;Ke.d=Ue,(Ke=Ke.e)!==Me;);((Ke=je.b).d=Me=je.d).b=Ke}function j(je){var Ue=0;return Math.abs(je[1])>Math.abs(je[0])&&(Ue=1),Math.abs(je[2])>Math.abs(je[Ue])?2:Ue}function N(je,Ue){je.f+=Ue.f,je.b.f+=Ue.b.f}function I(je,Ue,Me){return Me=Me.a,(Ue=Ue.a).b.a===(je=je.a)?Me.b.a===je?h(Ue.a,Me.a)?E(Me.b.a,Ue.a,Me.a)<=0:0<=E(Ue.b.a,Me.a,Ue.a):E(Me.b.a,je,Me.a)<=0:Me.b.a===je?0<=E(Ue.b.a,je,Ue.a):(Ue=f(Ue.b.a,je,Ue.a),(je=f(Me.b.a,je,Me.a))<=Ue)}function B(je){je.a.i=null;var Ue=je.e;Ue.a.c=Ue.c,Ue.c.a=Ue.a,je.e=null}function z(je,Ue){s(je.a),je.c=!1,(je.a=Ue).i=je}function W(je){for(var Ue=je.a.a;(je=_t(je)).a.a===Ue;);return je.c&&(z(je,Ue=p(Ut(je).a.b,je.a.e)),je=_t(je)),je}function ne(je,Ue,Me){var Ke=new lt;return Ke.a=Me,Ke.e=et(je.f,Ue.e,Ke),Me.i=Ke}function J(je,Ue){switch(je.s){case 100130:return 0!=(1&Ue);case 100131:return 0!==Ue;case 100132:return 0<Ue;case 100133:return Ue<0;case 100134:return 2<=Ue||Ue<=-2}return!1}function q(je){var Ue=je.a,Me=Ue.d;Me.c=je.d,Me.a=Ue,B(je)}function ae(je,Ue,Me){for(Ue=(je=Ue).a;je!==Me;){je.c=!1;var Ke=Ut(je),wt=Ke.a;if(wt.a!==Ue.a){if(!Ke.c){q(je);break}z(Ke,wt=p(Ue.c.b,wt.b))}Ue.c!==wt&&(c(wt.b.e,wt),c(Ue,wt)),q(je),Ue=Ke.a,je=Ke}return Ue}function fe(je,Ue,Me,Ke,wt,Ct){for(var $t=!0;ne(je,Ue,Me.b),(Me=Me.c)!==Ke;);for(null===wt&&(wt=Ut(Ue).a.b.c);(Me=(Ke=Ut(Ue)).a.b).a===wt.a;)Me.c!==wt&&(c(Me.b.e,Me),c(wt.b.e,Me)),Ke.f=Ue.f-Me.f,Ke.d=J(je,Ke.f),Ue.b=!0,!$t&&se(je,Ue)&&(N(Me,wt),B(Ue),s(wt)),$t=!1,Ue=Ke,wt=Me;Ue.b=!0,Ct&&De(je,Ue)}function Se(je,Ue,Me,Ke,wt){var Ct=[Ue.g[0],Ue.g[1],Ue.g[2]];Ue.d=null,Ue.d=je.o&&je.o(Ct,Me,Ke,je.c)||null,null===Ue.d&&(wt?je.n||(Te(je,100156),je.n=!0):Ue.d=Me[0])}function K(je,Ue,Me){var Ke=[null,null,null,null];Ke[0]=Ue.a.d,Ke[1]=Me.a.d,Se(je,Ue.a,Ke,[.5,.5,0,0],!1),c(Ue,Me)}function R(je,Ue,Me,Ke,wt){var Ct=Math.abs(Ue.b-je.b)+Math.abs(Ue.a-je.a),$t=Math.abs(Me.b-je.b)+Math.abs(Me.a-je.a),nn=wt+1;Ke[wt]=.5*$t/(Ct+$t),Ke[nn]=.5*Ct/(Ct+$t),je.g[0]+=Ke[wt]*Ue.g[0]+Ke[nn]*Me.g[0],je.g[1]+=Ke[wt]*Ue.g[1]+Ke[nn]*Me.g[1],je.g[2]+=Ke[wt]*Ue.g[2]+Ke[nn]*Me.g[2]}function se(je,Ue){var Me=Ut(Ue),Ke=Ue.a,wt=Me.a;if(h(Ke.a,wt.a)){if(0<E(wt.b.a,Ke.a,wt.a))return;if(_(Ke.a,wt.a)){if(Ke.a!==wt.a){Me=je.e;var Ct=Ke.a.h;if(0<=Ct){var $t=(Me=Me.b).d,nn=Me.e,wn=Me.c,xn=wn[Ct];$t[xn]=$t[Me.a],(wn[$t[xn]]=xn)<=--Me.a&&(xn<=1||h(nn[$t[xn>>1]],nn[$t[xn]])?qt:Gt)(Me,xn),nn[Ct]=null,wn[Ct]=Me.b,Me.b=Ct}else for(Me.c[-(Ct+1)]=null;0<Me.a&&null===Me.c[Me.d[Me.a-1]];)--Me.a;K(je,wt.b.e,Ke)}}else m(wt.b),c(Ke,wt.b.e),Ue.b=Me.b=!0}else{if(E(Ke.b.a,wt.a,Ke.a)<0)return;_t(Ue).b=Ue.b=!0,m(Ke.b),c(wt.b.e,Ke)}return 1}function ge(je,Ue){var Me=Ut(Ue),Ke=Ue.a,wt=Me.a,Ct=Ke.a,$t=wt.a,nn=Ke.b.a,wn=wt.b.a,xn=new gt;if(E(nn,je.a,Ct),E(wn,je.a,$t),!(Ct===$t||Math.min(Ct.a,nn.a)>Math.max($t.a,wn.a))){if(h(Ct,$t)){if(0<E(wn,Ct,$t))return}else if(E(nn,$t,Ct)<0)return;var St,Et,Nt=nn,yt=Ct,tt=wn,ut=$t;if(h(Nt,yt)||(St=Nt,Nt=yt,yt=St),h(tt,ut)||(St=tt,tt=ut,ut=St),h(Nt,tt)||(St=Nt,Nt=tt,tt=St,St=yt,yt=ut,ut=St),h(tt,yt)?h(yt,ut)?((St=f(Nt,tt,yt))+(Et=f(tt,yt,ut))<0&&(St=-St,Et=-Et),xn.b=d(St,tt.b,Et,yt.b)):((St=E(Nt,tt,yt))+(Et=-E(Nt,ut,yt))<0&&(St=-St,Et=-Et),xn.b=d(St,tt.b,Et,ut.b)):xn.b=(tt.b+yt.b)/2,w(Nt,yt)||(St=Nt,Nt=yt,yt=St),w(tt,ut)||(St=tt,tt=ut,ut=St),w(Nt,tt)||(St=Nt,Nt=tt,tt=St,St=yt,yt=ut,ut=St),w(tt,yt)?w(yt,ut)?((St=a(Nt,tt,yt))+(Et=a(tt,yt,ut))<0&&(St=-St,Et=-Et),xn.a=d(St,tt.a,Et,yt.a)):((St=l(Nt,tt,yt))+(Et=-l(Nt,ut,yt))<0&&(St=-St,Et=-Et),xn.a=d(St,tt.a,Et,ut.a)):xn.a=(tt.a+yt.a)/2,h(xn,je.a)&&(xn.b=je.a.b,xn.a=je.a.a),Nt=h(Ct,$t)?Ct:$t,h(Nt,xn)&&(xn.b=Nt.b,xn.a=Nt.a),_(xn,Ct)||_(xn,$t))return se(je,Ue),0;if(!_(nn,je.a)&&0<=E(nn,je.a,xn)||!_(wn,je.a)&&E(wn,je.a,xn)<=0){if(wn===je.a)m(Ke.b),c(wt.b,Ke),Ke=Ut(Ue=W(Ue)).a,ae(je,Ut(Ue),Me),fe(je,Ue,Ke.b.e,Ke,Ke,!0);else{if(nn!==je.a)return 0<=E(nn,je.a,xn)&&(_t(Ue).b=Ue.b=!0,m(Ke.b),Ke.a.b=je.a.b,Ke.a.a=je.a.a),void(E(wn,je.a,xn)<=0&&(Ue.b=Me.b=!0,m(wt.b),wt.a.b=je.a.b,wt.a.a=je.a.a));for(m(wt.b),c(Ke.e,wt.b.e),$t=(Ct=Me=Ue).a.b.a;(Ct=_t(Ct)).a.b.a===$t;);Ct=Ut(Ue=Ct).a.b.c,Me.a=wt.b.e,fe(je,Ue,(wt=ae(je,Me,null)).c,Ke.b.c,Ct,!0)}return 1}m(Ke.b),m(wt.b),c(wt.b.e,Ke),Ke.a.b=xn.b,Ke.a.a=xn.a,Ke.a.h=kt(je.e,Ke.a),wt=[0,0,0,0],xn=[Ct.d,nn.d,$t.d,wn.d],(Ke=Ke.a).g[0]=Ke.g[1]=Ke.g[2]=0,R(Ke,Ct,nn,wt,0),R(Ke,$t,wn,wt,2),Se(je,Ke,xn,wt,!0),_t(Ue).b=Ue.b=Me.b=!0}}function De(je,Ue){for(var Me=Ut(Ue);;){for(;Me.b;)Me=Ut(Ue=Me);if(!(Ue.b||null!==(Ue=_t(Me=Ue))&&Ue.b))break;Ue.b=!1;var Ke=Ue.a,wt=Me.a;if(Ct=Ke.b.a!==wt.b.a)e:{var Ct,$t=Ut(Ct=Ue),nn=Ct.a,wn=$t.a,xn=void 0;if(h(nn.b.a,wn.b.a)){if(E(nn.b.a,wn.b.a,nn.a)<0){Ct=!1;break e}_t(Ct).b=Ct.b=!0,xn=m(nn),c(wn.b,xn),xn.d.c=Ct.d}else{if(0<E(wn.b.a,nn.b.a,wn.a)){Ct=!1;break e}Ct.b=$t.b=!0,xn=m(wn),c(nn.e,wn.b),xn.b.d.c=Ct.d}Ct=!0}if(Ct&&(Me.c?(B(Me),s(wt),wt=(Me=Ut(Ue)).a):Ue.c&&(B(Ue),s(Ke),Ke=(Ue=_t(Me)).a)),Ke.a!==wt.a)if(Ke.b.a===wt.b.a||Ue.c||Me.c||Ke.b.a!==je.a&&wt.b.a!==je.a)se(je,Ue);else if(ge(je,Ue))break;Ke.a===wt.a&&Ke.b.a===wt.b.a&&(N(wt,Ke),B(Ue),s(Ke),Ue=_t(Me))}}function Le(je,Ue){var Me=new lt,Ke=u(je.b);Ke.a.b=4e150,Ke.a.a=Ue,Ke.b.a.b=-4e150,Ke.b.a.a=Ue,je.a=Ke.b.a,Me.a=Ke,Me.f=0,Me.d=!1,Me.c=!1,Me.h=!0,Me.b=!1,Ke=et(Ke=je.f,Ke.a,Me),Me.e=Ke}function Ze(je){this.a=new Oe,this.b=je,this.c=I}function et(je,Ue,Me){for(;null!==(Ue=Ue.c).b&&!je.c(je.b,Ue.b,Me););return je=new Oe(Me,Ue.a,Ue),Ue.a.c=je,Ue.a=je}function Oe(je,Ue,Me){this.b=je||null,this.a=Ue||this,this.c=Me||this}function $e(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function Ve(je,Ue){if(je.d!==Ue)for(;je.d!==Ue;)if(je.d<Ue)switch(je.d){case 0:Te(je,100151),je.u(null);break;case 1:Te(je,100152),je.t()}else switch(je.d){case 2:Te(je,100154),je.v();break;case 1:Te(je,100153),je.w()}}function Te(je,Ue){je.p&&je.p(Ue,je.c)}function Je(je,Ue){this.b=je||this,this.d=Ue||this,this.a=null,this.c=!1}function Ye(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function bt(){this.c=new gt,this.a=new Je,this.b=new Ye,this.d=new Ye,this.b.b=this.d,this.d.b=this.b}function gt(je,Ue){this.e=je||this,this.f=Ue||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function vt(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ft}function kt(je,Ue){var Me,Ke,wt;return je.e?(2*(Ke=++(Me=je.b).a)>Me.f&&(Me.f*=2,Me.c=an(Me.c,Me.f+1)),0===Me.b?wt=Ke:(wt=Me.b,Me.b=Me.c[Me.b]),Me.e[wt]=Ue,Me.c[wt]=Ke,Me.d[Ke]=wt,Me.h&&Gt(Me,Ke),wt):(Me=je.a++,je.c[Me]=Ue,-(Me+1))}function Ht(je){if(0===je.a)return dn(je.b);var Ue=je.c[je.d[je.a-1]];if(0!==je.b.a&&h(rn(je.b),Ue))return dn(je.b);for(;--je.a,0<je.a&&null===je.c[je.d[je.a-1]];);return Ue}function Ft(){this.d=an([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function an(je,Ue){for(var Me=Array(Ue),Ke=0;Ke<je.length;Ke++)Me[Ke]=je[Ke];for(;Ke<Ue;Ke++)Me[Ke]=0;return Me}function rn(je){return je.e[je.d[1]]}function dn(je){var Ue=je.d,Me=je.e,Ke=je.c,wt=Ue[1],Ct=Me[wt];return 0<je.a&&(Ue[1]=Ue[je.a],Ke[Ue[1]]=1,Me[wt]=null,Ke[wt]=je.b,je.b=wt,0<--je.a&&qt(je,1)),Ct}function qt(je,Ue){for(var Me=je.d,Ke=je.e,wt=je.c,Ct=Ue,$t=Me[Ct];;){var nn=Ct<<1,wn=(nn<je.a&&h(Ke[Me[nn+1]],Ke[Me[nn]])&&(nn+=1),Me[nn]);if(nn>je.a||h(Ke[$t],Ke[wn])){wt[Me[Ct]=$t]=Ct;break}wt[Me[Ct]=wn]=Ct,Ct=nn}}function Gt(je,Ue){for(var Me=je.d,Ke=je.e,wt=je.c,Ct=Ue,$t=Me[Ct];;){var nn=Ct>>1,wn=Me[nn];if(0==nn||h(Ke[wn],Ke[$t])){wt[Me[Ct]=$t]=Ct;break}wt[Me[Ct]=wn]=Ct,Ct=nn}}function lt(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Ut(je){return je.e.c.b}function _t(je){return je.e.a.b}(y=$e.prototype).x=function(){Ve(this,0)},y.B=function(je,Ue){switch(je){case 100142:return;case 100140:switch(Ue){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=Ue)}break;case 100141:return void(this.m=!!Ue);default:return void Te(this,100900)}Te(this,100901)},y.y=function(je){switch(je){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Te(this,100900)}return!1},y.A=function(je,Ue,Me){this.j[0]=je,this.j[1]=Ue,this.j[2]=Me},y.z=function(je,Ue){var Me=Ue||null;switch(je){case 100100:case 100106:this.h=Me;break;case 100104:case 100110:this.l=Me;break;case 100101:case 100107:this.k=Me;break;case 100102:case 100108:this.i=Me;break;case 100103:case 100109:this.p=Me;break;case 100105:case 100111:this.o=Me;break;case 100112:this.r=Me;break;default:Te(this,100900)}},y.C=function(je,Ue){var Me=!1,Ke=[0,0,0];Ve(this,2);for(var wt=0;wt<3;++wt){var Ct=je[wt];Ct<-1e150&&(Ct=-1e150,Me=!0),1e150<Ct&&(Ct=1e150,Me=!0),Ke[wt]=Ct}Me&&Te(this,100155),null===(Me=this.q)?c(Me=u(this.b),Me.b):(m(Me),Me=Me.e),Me.a.d=Ue,Me.a.g[0]=Ke[0],Me.a.g[1]=Ke[1],Me.a.g[2]=Ke[2],Me.f=1,Me.b.f=-1,this.q=Me},y.u=function(je){Ve(this,0),this.d=1,this.b=new bt,this.c=je},y.t=function(){Ve(this,1),this.d=2,this.q=null},y.v=function(){Ve(this,2),this.d=1},y.w=function(){Ve(this,1),this.d=0;var je,Ue,Ct=!1,$t=[Me=this.j[0],Ke=this.j[1],wt=this.j[2]];if(0===Me&&0===Ke&&0===wt){for(var Ke=[-2e150,-2e150,-2e150],nn=[2e150,2e150,2e150],wt=[],wn=[],Me=(Ct=this.b.c).e;Me!==Ct;Me=Me.e)for(var xn=0;xn<3;++xn){var St=Me.g[xn];St<nn[xn]&&(nn[xn]=St,wn[xn]=Me),St>Ke[xn]&&(Ke[xn]=St,wt[xn]=Me)}if(Ke[1]-nn[1]>Ke[Me=0]-nn[0]&&(Me=1),nn[Me=Ke[2]-nn[2]>Ke[Me]-nn[Me]?2:Me]>=Ke[Me])$t[0]=0,$t[1]=0,$t[2]=1;else{for(nn=wn[Me],wn=[Ke=0,0,0],nn=[nn.g[0]-(wt=wt[Me]).g[0],nn.g[1]-wt.g[1],nn.g[2]-wt.g[2]],xn=[0,0,0],Me=Ct.e;Me!==Ct;Me=Me.e)xn[0]=Me.g[0]-wt.g[0],xn[1]=Me.g[1]-wt.g[1],xn[2]=Me.g[2]-wt.g[2],wn[0]=nn[1]*xn[2]-nn[2]*xn[1],wn[1]=nn[2]*xn[0]-nn[0]*xn[2],wn[2]=nn[0]*xn[1]-nn[1]*xn[0],Ke<(St=wn[0]*wn[0]+wn[1]*wn[1]+wn[2]*wn[2])&&(Ke=St,$t[0]=wn[0],$t[1]=wn[1],$t[2]=wn[2]);Ke<=0&&($t[0]=$t[1]=$t[2]=0,$t[j(nn)]=1)}Ct=!0}for(Ke=((wn=j($t))+1)%3,wt=(wn+2)%3,wn=0<$t[wn]?1:-1,$t=(Me=this.b.c).e;$t!==Me;$t=$t.e)$t.b=$t.g[Ke],$t.a=wn*$t.g[wt];if(Ct){for($t=0,Me=(Ct=this.b.a).b;Me!==Ct;Me=Me.b)if(!((Ke=Me.a).f<=0))for(;$t+=(Ke.a.b-Ke.b.a.b)*(Ke.a.a+Ke.b.a.a),(Ke=Ke.e)!==Me.a;);if($t<0)for(Ct=($t=this.b.c).e;Ct!==$t;Ct=Ct.e)Ct.a=-Ct.a}for(this.n=!1,Me=($t=this.b.b).h;Me!==$t;Me=Ct)Ct=Me.h,Ke=Me.e,_(Me.a,Me.b.a)&&Me.e.e!==Me&&(K(this,Ke,Me),s(Me),Ke=(Me=Ke).e),Ke.e===Me&&(Ke!==Me&&(Ke!==Ct&&Ke!==Ct.b||(Ct=Ct.h),s(Ke)),Me!==Ct&&Me!==Ct.b||(Ct=Ct.h),s(Me));for(this.e=$t=new vt,Me=(Ct=this.b.c).e;Me!==Ct;Me=Me.e)Me.h=kt($t,Me);var Et=$t;Et.d=[];for(var Nt=0;Nt<Et.a;Nt++)Et.d[Nt]=Nt;Et.d.sort(function(ut){return function(It,Be){return h(ut[It],ut[Be])?1:-1}}(Et.c)),Et.e=!0;for(var yt=Et.b,tt=yt.a;1<=tt;--tt)qt(yt,tt);for(yt.h=!0,this.f=new Ze(this),Le(this,-4e150),Le(this,4e150);null!==($t=Ht(this.e));){for(;;){e:if(0===(Me=this.e).a)Ct=rn(Me.b);else if(Ct=Me.c[Me.d[Me.a-1]],0!==Me.b.a&&h(Me=rn(Me.b),Ct)){Ct=Me;break e}if(null===Ct||!_(Ct,$t))break;Ct=Ht(this.e),K(this,$t.c,Ct.c)}!function ut(It,Be){for(var ct,Ot=(It.a=Be).c;null===Ot.i;)if((Ot=Ot.c)===Be.c){Ot=It;var Pt=Be;(bn=new lt).a=Pt.c.b;for(var Cn=(zt=Ot.f).a;null!==(Cn=Cn.a).b&&!zt.c(zt.b,bn,Cn.b););var zt,mn,gn=Ut(zt=Cn.b),bn=zt.a;return Cn=gn.a,void(0===E(bn.b.a,Pt,bn.a)?_((bn=zt.a).a,Pt)||_(bn.b.a,Pt)||(m(bn.b),zt.c&&(s(bn.c),zt.c=!1),c(Pt.c,bn),ut(Ot,Pt)):(mn=h(Cn.b.a,bn.b.a)?zt:gn,gn=void 0,zt.d||mn.c?(gn=mn===zt?p(Pt.c.b,bn.e):p(Cn.b.c.b,Pt.c).b,mn.c?z(mn,gn):((zt=ne(bn=Ot,zt,gn)).f=_t(zt).f+zt.a.f,zt.d=J(bn,zt.f)),ut(Ot,Pt)):fe(Ot,zt,Pt.c,Pt.c,null,!0)))}zt=(bn=Ut(Ot=W(Ot.i))).a,(bn=ae(It,bn,null)).c===zt?(bn=(zt=bn).c,Cn=Ut(Ot),ct=!1,(gn=Ot.a).b.a!==(mn=Cn.a).b.a&&ge(It,Ot),_(gn.a,It.a)&&(c(bn.b.e,gn),bn=Ut(Ot=W(Ot)).a,ae(It,Ut(Ot),Cn),ct=!0),_(mn.a,It.a)&&(c(zt,mn.b.e),zt=ae(It,Cn,null),ct=!0),ct?fe(It,Ot,zt.c,bn,bn,!0):(Pt=h(mn.a,gn.a)?mn.b.e:gn,fe(It,Ot,Pt=p(zt.c.b,Pt),Pt.c,Pt.c,!1),Pt.b.i.c=!0,De(It,Ot))):fe(It,Ot,bn.c,zt,zt,!0)}(this,$t)}for(this.a=this.f.a.a.b.a.a,$t=0;null!==(Ct=this.f.a.a.b);)Ct.h||++$t,B(Ct);for(this.f=null,($t=this.e).b=null,$t.d=null,this.e=$t.c=null,Me=($t=this.b).a.b;Me!==$t.a;Me=Ct)Ct=Me.b,(Me=Me.a).e.e===Me&&(N(Me.c,Me),s(Me));if(!this.n){if($t=this.b,this.m)for(Me=$t.b.h;Me!==$t.b;Me=Ct)Ct=Me.h,Me.b.d.c!==Me.d.c?Me.f=Me.d.c?1:-1:s(Me);else for(Me=$t.a.b;Me!==$t.a;Me=Ct)if(Ct=Me.b,Me.c){for(Me=Me.a;h(Me.b.a,Me.a);Me=Me.c.b);for(;h(Me.a,Me.b.a);Me=Me.e);for(Ke=Me.c.b,wt=void 0;Me.e!==Ke;)if(h(Me.b.a,Ke.a)){for(;Ke.e!==Me&&(h((Ue=Ke.e).b.a,Ue.a)||E(Ke.a,Ke.b.a,Ke.e.b.a)<=0);)Ke=(wt=p(Ke.e,Ke)).b;Ke=Ke.c.b}else{for(;Ke.e!==Me&&(h((je=Me.c.b).a,je.b.a)||0<=E(Me.b.a,Me.a,Me.c.b.a));)Me=(wt=p(Me,Me.c.b)).b;Me=Me.e}for(;Ke.e.e!==Me;)Ke=(wt=p(Ke.e,Ke)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(Ct=($t=this.b).a.b;Ct!==$t.a;Ct=Ct.b)if(Ct.c){for(this.h&&this.h(2,this.c),Me=Ct.a;this.k&&this.k(Me.a.d,this.c),(Me=Me.e)!==Ct.a;);this.i&&this.i(this.c)}}else{for(Ct=!!this.l,Me=!1,Ke=-1,wt=($t=this.b).a.d;wt!==$t.a;wt=wt.d)if(wt.c)for(Me||(this.h&&this.h(4,this.c),Me=!0),wn=wt.a;Ct&&Ke!==(nn=wn.b.d.c?0:1)&&(Ke=nn,this.l&&this.l(!!Ke,this.c)),this.k&&this.k(wn.a.d,this.c),(wn=wn.e)!==wt.a;);Me&&this.i&&this.i(this.c)}if(this.r){for(Me=($t=this.b).a.b;Me!==$t.a;Me=Ct)if(Ct=Me.b,!Me.c){for(wt=(Ke=Me.a).e,wn=void 0;wt=(wn=wt).e,(wn.d=null)===wn.b.d&&(wn.c===wn?P(wn.a,null):(wn.a.c=wn.c,T(wn,wn.b.e)),(nn=wn.b).c===nn?P(nn.a,null):(nn.a.c=nn.c,T(nn,nn.b.e)),A(wn)),wn!==Ke;);Ke=Me.d,((Me=Me.b).d=Ke).b=Me}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:$e,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},$e.prototype.gluDeleteTess=$e.prototype.x,$e.prototype.gluTessProperty=$e.prototype.B,$e.prototype.gluGetTessProperty=$e.prototype.y,$e.prototype.gluTessNormal=$e.prototype.A,$e.prototype.gluTessCallback=$e.prototype.z,$e.prototype.gluTessVertex=$e.prototype.C,$e.prototype.gluTessBeginPolygon=$e.prototype.u,$e.prototype.gluTessBeginContour=$e.prototype.t,$e.prototype.gluTessEndContour=$e.prototype.v,$e.prototype.gluTessEndPolygon=$e.prototype.w,void 0!==H&&(H.exports=this.libtess)},{}],253:[function(r,H,C){"use strict";function _(h,f,E,w){for(var a=h[f++],l=1<<a,d=1+l,u=1+d,c=a+1,s=(1<<c)-1,m=0,p=0,b=0,T=h[f++],F=new Int32Array(4096),k=null;;){for(;m<16&&0!==T;)p|=h[f++]<<m,m+=8,1===T?T=h[f++]:--T;if(m<c)break;var A=p&s;if(p>>=c,m-=c,A==l)u=1+d,s=(1<<(c=a+1))-1,k=null;else{if(A==d)break;for(var P=A<u?A:k,$=0,j=P;l<j;)j=F[j]>>8,++$;var N=j;if(w<b+$+(P!==A?1:0))return void console.log("Warning, gif stream longer than expected.");E[b++]=N;var I=b+=$;for(P!==A&&(E[b++]=N),j=P;$--;)E[--I]=255&(j=F[j]),j>>=8;null!==k&&u<4096&&(F[u++]=k<<8|N,s+1<=u&&c<12&&(++c,s=s<<1|1)),k=A}}b!==w&&console.log("Warning, gif stream shorter than expected.")}try{C.GifWriter=function y(h,f,E,w){var a=0,l=void 0===(w=void 0===w?{}:w).loop?null:w.loop,d=void 0===w.palette?null:w.palette;if(f<=0||E<=0||65535<f||65535<E)throw new Error("Width/Height invalid.");function u(k){if((k=k.length)<2||256<k||k&k-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return k}h[a++]=71,h[a++]=73,h[a++]=70,h[a++]=56,h[a++]=57,h[a++]=97;var c=0,s=0;if(null!==d){for(var m=u(d);m>>=1;)++c;if(m=1<<c,--c,void 0!==w.background){if(m<=(s=w.background))throw new Error("Background index out of range.");if(0===s)throw new Error("Background index explicitly passed as 0.")}}if(h[a++]=255&f,h[a++]=f>>8&255,h[a++]=255&E,h[a++]=E>>8&255,h[a++]=(null!==d?128:0)|c,h[a++]=s,h[a++]=0,null!==d)for(var p=0,b=d.length;p<b;++p){var T=d[p];h[a++]=T>>16&255,h[a++]=T>>8&255,h[a++]=255&T}if(null!==l){if(l<0||65535<l)throw new Error("Loop count invalid.");h[a++]=33,h[a++]=255,h[a++]=11,h[a++]=78,h[a++]=69,h[a++]=84,h[a++]=83,h[a++]=67,h[a++]=65,h[a++]=80,h[a++]=69,h[a++]=50,h[a++]=46,h[a++]=48,h[a++]=3,h[a++]=1,h[a++]=255&l,h[a++]=l>>8&255,h[a++]=0}var F=!1;this.addFrame=function(k,A,P,$,j,N){if(!0===F&&(--a,F=!1),N=void 0===N?{}:N,k<0||A<0||65535<k||65535<A)throw new Error("x/y invalid.");if(P<=0||$<=0||65535<P||65535<$)throw new Error("Width/Height invalid.");if(j.length<P*$)throw new Error("Not enough pixels for the frame size.");var I=!0,B=N.palette;if(null==B&&(I=!1,B=d),null==B)throw new Error("Must supply either a local or global palette.");for(var W=u(B),z=0;W>>=1;)++z;W=1<<z;var ne=void 0===N.delay?0:N.delay,J=void 0===N.disposal?0:N.disposal;if(J<0||3<J)throw new Error("Disposal out of range.");var q=!1,ae=0;if(null!=N.transparent&&(q=!0,(ae=N.transparent)<0||W<=ae))throw new Error("Transparent color index.");if(0===J&&!q&&0===ne||(h[a++]=33,h[a++]=249,h[a++]=4,h[a++]=J<<2|(!0===q?1:0),h[a++]=255&ne,h[a++]=ne>>8&255,h[a++]=ae,h[a++]=0),h[a++]=44,h[a++]=255&k,h[a++]=k>>8&255,h[a++]=255&A,h[a++]=A>>8&255,h[a++]=255&P,h[a++]=P>>8&255,h[a++]=255&$,h[a++]=$>>8&255,h[a++]=!0===I?128|z-1:0,!0===I)for(var fe=0,Se=B.length;fe<Se;++fe){var K=B[fe];h[a++]=K>>16&255,h[a++]=K>>8&255,h[a++]=255&K}return a=function(R,se,ge,De){R[se++]=ge;var Le=se++,Ze=1<<ge,et=Ze-1,Oe=1+Ze,$e=1+Oe,Ve=ge+1,Te=0,Je=0;function Ye(dn){for(;dn<=Te;)R[se++]=255&Je,Je>>=8,Te-=8,se===Le+256&&(R[Le]=255,Le=se++)}function bt(dn){Je|=dn<<Te,Te+=Ve,Ye(8)}var gt=De[0]&et,vt={};bt(Ze);for(var kt=1,Ht=De.length;kt<Ht;++kt){var Ft=De[kt]&et,an=gt<<8|Ft,rn=vt[an];if(void 0===rn){for(Je|=gt<<Te,Te+=Ve;8<=Te;)R[se++]=255&Je,Je>>=8,Te-=8,se===Le+256&&(R[Le]=255,Le=se++);4096===$e?(bt(Ze),$e=1+Oe,Ve=ge+1,vt={}):(1<<Ve<=$e&&++Ve,vt[an]=$e++),gt=Ft}else gt=rn}return bt(gt),bt(Oe),Ye(1),Le+1===se?R[Le]=0:(R[Le]=se-Le-1,R[se++]=0),se}(h,a,z<2?2:z,j)},this.end=function(){return!1===F&&(h[a++]=59,F=!0),a},this.getOutputBuffer=function(){return h},this.setOutputBuffer=function(k){h=k},this.getOutputBufferPosition=function(){return a},this.setOutputBufferPosition=function(k){a=k}},C.GifReader=function(h){var f=0;if(71!==h[f++]||73!==h[f++]||70!==h[f++]||56!==h[f++]||56!=(h[f++]+1&253)||97!==h[f++])throw new Error("Invalid GIF 87a/89a header.");var E=h[f++]|h[f++]<<8,w=h[f++]|h[f++]<<8,a=h[f++],d=(f++,f++,null),u=null,c=(a>>7&&(d=f,f+=3*(u=1<<1+(7&a))),!0),s=[],m=0,p=null,b=0,T=null;for(this.width=E,this.height=w;c&&f<h.length;)switch(h[f++]){case 33:switch(h[f++]){case 255:if(11!==h[f]||78==h[f+1]&&69==h[f+2]&&84==h[f+3]&&83==h[f+4]&&67==h[f+5]&&65==h[f+6]&&80==h[f+7]&&69==h[f+8]&&50==h[f+9]&&46==h[f+10]&&48==h[f+11]&&3==h[f+12]&&1==h[f+13]&&0==h[f+16])f+=14,T=h[f++]|h[f++]<<8,f++;else for(f+=12;;){if(!(0<=(k=h[f++])))throw Error("Invalid block size");if(0===k)break;f+=k}break;case 249:if(4!==h[f++]||0!==h[f+4])throw new Error("Invalid graphics extension block.");var F=h[f++];m=h[f++]|h[f++]<<8,p=h[f++],!(1&F)&&(p=null),b=F>>2&7,f++;break;case 254:for(;;){if(!(0<=(k=h[f++])))throw Error("Invalid block size");if(0===k)break;f+=k}break;default:throw new Error("Unknown graphic control label: 0x"+h[f-1].toString(16))}break;case 44:var k,A=h[f++]|h[f++]<<8,P=h[f++]|h[f++]<<8,$=h[f++]|h[f++]<<8,j=h[f++]|h[f++]<<8,N=(ne=h[f++])>>6&1,B=d,z=u,W=!1,ne=(ne>>7&&(W=!0,B=f,f+=3*(z=1<<1+(7&ne))),f);for(f++;;){if(!(0<=(k=h[f++])))throw Error("Invalid block size");if(0===k)break;f+=k}s.push({x:A,y:P,width:$,height:j,has_local_palette:W,palette_offset:B,palette_size:z,data_offset:ne,data_length:f-ne,transparent_index:p,interlaced:!!N,delay:m,disposal:b});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+h[f-1].toString(16))}this.numFrames=function(){return s.length},this.loopCount=function(){return T},this.frameInfo=function(J){if(J<0||J>=s.length)throw new Error("Frame index out of range.");return s[J]},this.decodeAndBlitFrameBGRA=function(J,q){for(var ae=(J=this.frameInfo(J)).width*J.height,fe=new Uint8Array(ae),Se=(_(h,J.data_offset,fe,ae),J.palette_offset),K=J.transparent_index,R=(null===K&&(K=256),J.width),se=E-R,ge=R,De=4*(J.y*E+J.x),Le=4*((J.y+J.height)*E+J.x),Ze=De,et=4*se,Oe=(!0===J.interlaced&&(et+=4*E*7),8),$e=0,Ve=fe.length;$e<Ve;++$e){var Te,Je,Ye=fe[$e];0===ge&&(ge=R,Le<=(Ze+=et)&&(et=4*se+4*E*(Oe-1),Ze=De+(R+se)*(Oe<<1),Oe>>=1)),Ye===K?Ze+=4:(Te=h[Se+3*Ye],Je=h[Se+3*Ye+1],q[Ze++]=Ye=h[Se+3*Ye+2],q[Ze++]=Je,q[Ze++]=Te,q[Ze++]=255),--ge}},this.decodeAndBlitFrameRGBA=function(J,q){for(var ae=(J=this.frameInfo(J)).width*J.height,fe=new Uint8Array(ae),Se=(_(h,J.data_offset,fe,ae),J.palette_offset),K=J.transparent_index,R=(null===K&&(K=256),J.width),se=E-R,ge=R,De=4*(J.y*E+J.x),Le=4*((J.y+J.height)*E+J.x),Ze=De,et=4*se,Oe=(!0===J.interlaced&&(et+=4*E*7),8),$e=0,Ve=fe.length;$e<Ve;++$e){var Te,Je,Ye=fe[$e];0===ge&&(ge=R,Le<=(Ze+=et)&&(et=4*se+4*E*(Oe-1),Ze=De+(R+se)*(Oe<<1),Oe>>=1)),Ye===K?Ze+=4:(Te=h[Se+3*Ye],Je=h[Se+3*Ye+1],Ye=h[Se+3*Ye+2],q[Ze++]=Te,q[Ze++]=Je,q[Ze++]=Ye,q[Ze++]=255),--ge}}}}catch{}},{}],254:[function(r,H,C){(function(y){var h;h=function(f){"use strict";function E(X){if(null==this)throw TypeError();var L,D=String(this),S=D.length;if(!((X=(X=X?Number(X):0)!=X?0:X)<0||S<=X))return 55296<=(L=D.charCodeAt(X))&&L<=56319&&X+1<S&&56320<=(S=D.charCodeAt(X+1))&&S<=57343?1024*(L-55296)+S-56320+65536:L}String.prototype.codePointAt||((w=function(){try{var x={},L=Object.defineProperty,D=L(x,x,x)&&L}catch{}return D}())?w(String.prototype,"codePointAt",{value:E,configurable:!0,writable:!0}):String.prototype.codePointAt=E);var w;function d(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function u(x,L){this.source=x,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=L,this.destLen=0,this.ltree=new d,this.dtree=new d}var c=new d,s=new d,m=new Uint8Array(30),p=new Uint16Array(30),b=new Uint8Array(30),T=new Uint16Array(30),F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),k=new d,A=new Uint8Array(320);function P(x,L,D,S){for(var X,Y=0;Y<D;++Y)x[Y]=0;for(Y=0;Y<30-D;++Y)x[Y+D]=Y/D|0;for(X=S,Y=0;Y<30;++Y)L[Y]=X,X+=1<<x[Y]}var $=new Uint16Array(16);function j(x,L,D,S){for(var X,Y=0;Y<16;++Y)x.table[Y]=0;for(Y=0;Y<S;++Y)x.table[L[D+Y]]++;for(Y=X=x.table[0]=0;Y<16;++Y)$[Y]=X,X+=x.table[Y];for(Y=0;Y<S;++Y)L[D+Y]&&(x.trans[$[L[D+Y]]++]=Y)}function N(x,L,D){if(!L)return D;for(;x.bitcount<24;)x.tag|=x.source[x.sourceIndex++]<<x.bitcount,x.bitcount+=8;var S=x.tag&65535>>>16-L;return x.tag>>>=L,x.bitcount-=L,S+D}function I(x,L){for(;x.bitcount<24;)x.tag|=x.source[x.sourceIndex++]<<x.bitcount,x.bitcount+=8;for(var D=0,S=0,X=0,Y=x.tag;S=2*S+(1&Y),Y>>>=1,D+=L.table[++X],0<=(S-=L.table[X]););return x.tag=Y,x.bitcount-=X,L.trans[D+S]}function B(x,L,D){for(;;){if(256===(S=I(x,L)))return 0;if(S<256)x.dest[x.destLen++]=S;else for(var X,Y=N(x,m[S-=257],p[S]),S=I(x,D),le=X=x.destLen-N(x,b[S],T[S]);le<X+Y;++le)x.dest[x.destLen++]=x.dest[le]}}for(var z=c,W=s,ne=0;ne<7;++ne)z.table[ne]=0;for(z.table[7]=24,z.table[8]=152,z.table[9]=112,ne=0;ne<24;++ne)z.trans[ne]=256+ne;for(ne=0;ne<144;++ne)z.trans[24+ne]=ne;for(ne=0;ne<8;++ne)z.trans[168+ne]=280+ne;for(ne=0;ne<112;++ne)z.trans[176+ne]=144+ne;for(ne=0;ne<5;++ne)W.table[ne]=0;for(W.table[5]=32,ne=0;ne<32;++ne)W.trans[ne]=ne;P(m,p,4,3),P(b,T,2,1),m[28]=0,p[28]=258;var J=function(x,L){var D,S,X,Y=new u(x,L);do{switch(void 0,(S=Y).bitcount--||(S.tag=S.source[S.sourceIndex++],S.bitcount=7),X=1&S.tag,S.tag>>>=1,S=X,N(Y,2,0)){case 0:D=function(Kt){for(var Un,Gn;8<Kt.bitcount;)Kt.sourceIndex--,Kt.bitcount-=8;if((Un=256*Kt.source[Kt.sourceIndex+1]+Kt.source[Kt.sourceIndex])!==(65535&~(256*Kt.source[Kt.sourceIndex+3]+Kt.source[Kt.sourceIndex+2])))return-3;for(Kt.sourceIndex+=4,Gn=Un;Gn;--Gn)Kt.dest[Kt.destLen++]=Kt.source[Kt.sourceIndex++];return Kt.bitcount=0,0}(Y);break;case 1:D=B(Y,c,s);break;case 2:on=en=yn=Zt=le=mt=void 0;for(var le,ke=Y,qe=Y.ltree,nt=Y.dtree,Mt=N(ke,5,257),Yt=N(ke,5,1),Bt=N(ke,4,4),mt=0;mt<19;++mt)A[mt]=0;for(mt=0;mt<Bt;++mt){var yn=N(ke,3,0);A[F[mt]]=yn}for(j(k,A,0,19),le=0;le<Mt+Yt;){var en=I(ke,k);switch(en){case 16:for(var on=A[le-1],Zt=N(ke,2,3);Zt;--Zt)A[le++]=on;break;case 17:for(Zt=N(ke,3,3);Zt;--Zt)A[le++]=0;break;case 18:for(Zt=N(ke,7,11);Zt;--Zt)A[le++]=0;break;default:A[le++]=en}}j(qe,A,0,Mt),j(nt,A,Mt,Yt),D=B(Y,Y.ltree,Y.dtree);break;default:D=-3}if(0!==D)throw new Error("Data error")}while(!S);return Y.destLen<Y.dest.length?"function"==typeof Y.dest.slice?Y.dest.slice(0,Y.destLen):Y.dest.subarray(0,Y.destLen):Y.dest};function q(x,L,D,S,X){return Math.pow(1-X,3)*x+3*Math.pow(1-X,2)*X*L+3*(1-X)*Math.pow(X,2)*D+Math.pow(X,3)*S}function ae(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function fe(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function Se(x){throw new Error(x)}function K(x,L){x||Se(L)}ae.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},ae.prototype.addPoint=function(x,L){"number"==typeof x&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=x,this.x2=x),x<this.x1&&(this.x1=x),x>this.x2&&(this.x2=x)),"number"==typeof L&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=L,this.y2=L),L<this.y1&&(this.y1=L),L>this.y2&&(this.y2=L))},ae.prototype.addX=function(x){this.addPoint(x,null)},ae.prototype.addY=function(x){this.addPoint(null,x)},ae.prototype.addBezier=function(x,L,D,S,X,Y,le,ke){var qe=[x,L],nt=[D,S],Mt=[X,Y],Yt=[le,ke];this.addPoint(x,L),this.addPoint(le,ke);for(var Bt=0;Bt<=1;Bt++){var mt,yn=6*qe[Bt]-12*nt[Bt]+6*Mt[Bt],en=-3*qe[Bt]+9*nt[Bt]-9*Mt[Bt]+3*Yt[Bt],on=3*nt[Bt]-3*qe[Bt];0==en?0==yn||0<(mt=-on/yn)&&mt<1&&(0===Bt&&this.addX(q(qe[Bt],nt[Bt],Mt[Bt],Yt[Bt],mt)),1===Bt&&this.addY(q(qe[Bt],nt[Bt],Mt[Bt],Yt[Bt],mt))):(mt=Math.pow(yn,2)-4*on*en)<0||(0<(on=(-yn+Math.sqrt(mt))/(2*en))&&on<1&&(0===Bt&&this.addX(q(qe[Bt],nt[Bt],Mt[Bt],Yt[Bt],on)),1===Bt&&this.addY(q(qe[Bt],nt[Bt],Mt[Bt],Yt[Bt],on))),0<(on=(-yn-Math.sqrt(mt))/(2*en))&&on<1&&(0===Bt&&this.addX(q(qe[Bt],nt[Bt],Mt[Bt],Yt[Bt],on)),1===Bt&&this.addY(q(qe[Bt],nt[Bt],Mt[Bt],Yt[Bt],on))))}},ae.prototype.addQuad=function(x,L,D,S,X,Y){this.addBezier(x,L,D=x+2/3*(D-x),S=L+2/3*(S-L),D+1/3*(X-x),S+1/3*(Y-L),X,Y)},fe.prototype.moveTo=function(x,L){this.commands.push({type:"M",x,y:L})},fe.prototype.lineTo=function(x,L){this.commands.push({type:"L",x,y:L})},fe.prototype.curveTo=fe.prototype.bezierCurveTo=function(x,L,D,S,X,Y){this.commands.push({type:"C",x1:x,y1:L,x2:D,y2:S,x:X,y:Y})},fe.prototype.quadTo=fe.prototype.quadraticCurveTo=function(x,L,D,S){this.commands.push({type:"Q",x1:x,y1:L,x:D,y:S})},fe.prototype.close=fe.prototype.closePath=function(){this.commands.push({type:"Z"})},fe.prototype.extend=function(x){var L;if(x.commands)x=x.commands;else if(x instanceof ae)return this.moveTo((L=x).x1,L.y1),this.lineTo(L.x2,L.y1),this.lineTo(L.x2,L.y2),this.lineTo(L.x1,L.y2),void this.close();Array.prototype.push.apply(this.commands,x)},fe.prototype.getBoundingBox=function(){for(var x=new ae,L=0,D=0,S=0,X=0,Y=0;Y<this.commands.length;Y++){var le=this.commands[Y];switch(le.type){case"M":x.addPoint(le.x,le.y),L=S=le.x,D=X=le.y;break;case"L":x.addPoint(le.x,le.y),S=le.x,X=le.y;break;case"Q":x.addQuad(S,X,le.x1,le.y1,le.x,le.y),S=le.x,X=le.y;break;case"C":x.addBezier(S,X,le.x1,le.y1,le.x2,le.y2,le.x,le.y),S=le.x,X=le.y;break;case"Z":S=L,X=D;break;default:throw new Error("Unexpected path command "+le.type)}}return x.isEmpty()&&x.addPoint(0,0),x},fe.prototype.draw=function(x){x.beginPath();for(var L=0;L<this.commands.length;L+=1){var D=this.commands[L];"M"===D.type?x.moveTo(D.x,D.y):"L"===D.type?x.lineTo(D.x,D.y):"C"===D.type?x.bezierCurveTo(D.x1,D.y1,D.x2,D.y2,D.x,D.y):"Q"===D.type?x.quadraticCurveTo(D.x1,D.y1,D.x,D.y):"Z"===D.type&&x.closePath()}this.fill&&(x.fillStyle=this.fill,x.fill()),this.stroke&&(x.strokeStyle=this.stroke,x.lineWidth=this.strokeWidth,x.stroke())},fe.prototype.toPathData=function(x){function L(){for(var Y=arguments,le="",ke=0;ke<arguments.length;ke+=1){var qe=Y[ke];0<=qe&&0<ke&&(le+=" "),le+=Math.round(qe)===qe?""+Math.round(qe):qe.toFixed(x)}return le}x=void 0!==x?x:2;for(var D="",S=0;S<this.commands.length;S+=1){var X=this.commands[S];"M"===X.type?D+="M"+L(X.x,X.y):"L"===X.type?D+="L"+L(X.x,X.y):"C"===X.type?D+="C"+L(X.x1,X.y1,X.x2,X.y2,X.x,X.y):"Q"===X.type?D+="Q"+L(X.x1,X.y1,X.x,X.y):"Z"===X.type&&(D+="Z")}return D},fe.prototype.toSVG=function(x){var L=(L='<path d="')+this.toPathData(x)+'"';return this.fill&&"black"!==this.fill&&(L+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(L+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),L+"/>"},fe.prototype.toDOMElement=function(L){L=this.toPathData(L);var D=document.createElementNS("http://www.w3.org/2000/svg","path");return D.setAttribute("d",L),D};var R={fail:Se,argument:K,assert:K},se={},ge={},De={};function Le(x){return function(){return x}}ge.BYTE=function(x){return R.argument(0<=x&&x<=255,"Byte value should be between 0 and 255."),[x]},De.BYTE=Le(1),ge.CHAR=function(x){return[x.charCodeAt(0)]},De.CHAR=Le(1),ge.CHARARRAY=function(x){for(var L=[],D=0;D<x.length;D+=1)L[D]=x.charCodeAt(D);return L},De.CHARARRAY=function(x){return x.length},ge.USHORT=function(x){return[x>>8&255,255&x]},De.USHORT=Le(2),ge.SHORT=function(x){return[(x=32768<=x?-(65536-x):x)>>8&255,255&x]},De.SHORT=Le(2),ge.UINT24=function(x){return[x>>16&255,x>>8&255,255&x]},De.UINT24=Le(3),ge.ULONG=function(x){return[x>>24&255,x>>16&255,x>>8&255,255&x]},De.ULONG=Le(4),ge.LONG=function(x){return[(x=2147483648<=x?-(4294967296-x):x)>>24&255,x>>16&255,x>>8&255,255&x]},De.LONG=Le(4),ge.FIXED=ge.ULONG,De.FIXED=De.ULONG,ge.FWORD=ge.SHORT,De.FWORD=De.SHORT,ge.UFWORD=ge.USHORT,De.UFWORD=De.USHORT,ge.LONGDATETIME=function(x){return[0,0,0,0,x>>24&255,x>>16&255,x>>8&255,255&x]},De.LONGDATETIME=Le(8),ge.TAG=function(x){return R.argument(4===x.length,"Tag should be exactly 4 ASCII characters."),[x.charCodeAt(0),x.charCodeAt(1),x.charCodeAt(2),x.charCodeAt(3)]},De.TAG=Le(4),ge.Card8=ge.BYTE,De.Card8=De.BYTE,ge.Card16=ge.USHORT,De.Card16=De.USHORT,ge.OffSize=ge.BYTE,De.OffSize=De.BYTE,ge.SID=ge.USHORT,De.SID=De.USHORT,ge.NUMBER=function(x){return-107<=x&&x<=107?[x+139]:108<=x&&x<=1131?[247+((x-=108)>>8),255&x]:-1131<=x&&x<=-108?[251+((x=-x-108)>>8),255&x]:-32768<=x&&x<=32767?ge.NUMBER16(x):ge.NUMBER32(x)},De.NUMBER=function(x){return ge.NUMBER(x).length},ge.NUMBER16=function(x){return[28,x>>8&255,255&x]},De.NUMBER16=Le(3),ge.NUMBER32=function(x){return[29,x>>24&255,x>>16&255,x>>8&255,255&x]},De.NUMBER32=Le(5),ge.REAL=function(x){for(var L=x.toString(),D=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(L),S=(D&&(D=parseFloat("1e"+((D[2]?+D[2]:0)+D[1].length)),L=(Math.round(x*D)/D).toString()),""),X=0,Y=L.length;X<Y;X+=1){var le=L[X];S+="e"===le?"-"===L[++X]?"c":"b":"."===le?"a":"-"===le?"e":le}for(var ke=[30],qe=0,nt=(S+=1&S.length?"f":"ff").length;qe<nt;qe+=2)ke.push(parseInt(S.substr(qe,2),16));return ke},De.REAL=function(x){return ge.REAL(x).length},ge.NAME=ge.CHARARRAY,De.NAME=De.CHARARRAY,ge.STRING=ge.CHARARRAY,De.STRING=De.CHARARRAY,se.UTF8=function(x,L,D){for(var S=[],X=D,Y=0;Y<X;Y++,L+=1)S[Y]=x.getUint8(L);return String.fromCharCode.apply(null,S)},se.UTF16=function(x,L,D){for(var S=[],X=D/2,Y=0;Y<X;Y++,L+=2)S[Y]=x.getUint16(L);return String.fromCharCode.apply(null,S)},ge.UTF16=function(x){for(var L=[],D=0;D<x.length;D+=1){var S=x.charCodeAt(D);L[L.length]=S>>8&255,L[L.length]=255&S}return L},De.UTF16=function(x){return 2*x.length};var Ze,et={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"},Oe=(se.MACSTRING=function(x,L,D,S){var X=et[S];if(void 0!==X){for(var Y="",le=0;le<D;le++){var ke=x.getUint8(L+le);Y+=ke<=127?String.fromCharCode(ke):X[127&ke]}return Y}},"function"==typeof WeakMap&&new WeakMap);function $e(x){return-128<=x&&x<=127}ge.MACSTRING=function(x,L){var D=function(le){if(!Ze)for(var ke in Ze={},et)Ze[ke]=new String(ke);var qe=Ze[le];if(void 0!==qe){if(Oe){var nt=Oe.get(qe);if(void 0!==nt)return nt}var Mt=et[le];if(void 0!==Mt){for(var Yt={},Bt=0;Bt<Mt.length;Bt++)Yt[Mt.charCodeAt(Bt)]=Bt+128;return Oe&&Oe.set(qe,Yt),Yt}}}(L);if(void 0!==D){for(var S=[],X=0;X<x.length;X++){var Y=x.charCodeAt(X);if(128<=Y&&void 0===(Y=D[Y]))return;S[X]=Y}return S}},De.MACSTRING=function(x,L){return void 0!==(x=ge.MACSTRING(x,L))?x.length:0},ge.VARDELTAS=function(x){for(var S=0,L=[];S<x.length;){var D=x[S];S=(0===D?function(X,Y,le){for(var ke=0,qe=X.length;Y<qe&&ke<64&&0===X[Y];)++Y,++ke;return le.push(128|ke-1),Y}:-128<=D&&D<=127?function(X,Y,le){for(var ke=0,qe=X.length,nt=Y;nt<qe&&ke<64;){var Mt=X[nt];if(!$e(Mt)||0===Mt&&nt+1<qe&&0===X[nt+1])break;++nt,++ke}le.push(ke-1);for(var Yt=Y;Yt<nt;++Yt)le.push(X[Yt]+256&255);return nt}:function(X,Y,le){for(var ke=0,qe=X.length,nt=Y;nt<qe&&ke<64;){var Mt=X[nt];if(0===Mt||$e(Mt)&&nt+1<qe&&$e(X[nt+1]))break;++nt,++ke}le.push(64|ke-1);for(var Yt=Y;Yt<nt;++Yt){var Bt=X[Yt];le.push(Bt+65536>>8&255,Bt+256&255)}return nt})(x,S,L)}return L},ge.INDEX=function(x){for(var L=1,D=[L],S=[],X=0;X<x.length;X+=1){var Y=ge.OBJECT(x[X]);Array.prototype.push.apply(S,Y),D.push(L+=Y.length)}if(0===S.length)return[0,0];for(var le=[],ke=1+Math.floor(Math.log(L)/Math.log(2))/8|0,qe=[void 0,ge.BYTE,ge.USHORT,ge.UINT24,ge.ULONG][ke],nt=0;nt<D.length;nt+=1){var Mt=qe(D[nt]);Array.prototype.push.apply(le,Mt)}return Array.prototype.concat(ge.Card16(x.length),ge.OffSize(ke),le,S)},De.INDEX=function(x){return ge.INDEX(x).length},ge.DICT=function(x){for(var L=[],D=Object.keys(x),S=D.length,X=0;X<S;X+=1){var Y=parseInt(D[X],0),le=x[Y];L=(L=L.concat(ge.OPERAND(le.value,le.type))).concat(ge.OPERATOR(Y))}return L},De.DICT=function(x){return ge.DICT(x).length},ge.OPERATOR=function(x){return x<1200?[x]:[12,x-1200]},ge.OPERAND=function(x,L){var D=[];if(Array.isArray(L))for(var S=0;S<L.length;S+=1)R.argument(x.length===L.length,"Not enough arguments given for type"+L),D=D.concat(ge.OPERAND(x[S],L[S]));else if("SID"===L)D=D.concat(ge.NUMBER(x));else if("offset"===L)D=D.concat(ge.NUMBER32(x));else if("number"===L)D=D.concat(ge.NUMBER(x));else{if("real"!==L)throw new Error("Unknown operand type "+L);D=D.concat(ge.REAL(x))}return D},ge.OP=ge.BYTE,De.OP=De.BYTE;var Ve="function"==typeof WeakMap&&new WeakMap;function Te(x,L,D){for(var S=0;S<L.length;S+=1){var X=L[S];this[X.name]=X.value}if(this.tableName=x,this.fields=L,D)for(var Y=Object.keys(D),le=0;le<Y.length;le+=1){var ke=Y[le];void 0!==this[ke]&&(this[ke]=D[ke])}}function Je(x,L,D){void 0===D&&(D=L.length);var S=new Array(L.length+1);S[0]={name:x+"Count",type:"USHORT",value:D};for(var X=0;X<L.length;X++)S[X+1]={name:x+X,type:"USHORT",value:L[X]};return S}function Ye(x,L,D){var S=L.length,X=new Array(S+1);X[0]={name:x+"Count",type:"USHORT",value:S};for(var Y=0;Y<S;Y++)X[Y+1]={name:x+Y,type:"TABLE",value:D(L[Y],Y)};return X}function bt(x,L,D){var S=L.length,X=[];X[0]={name:x+"Count",type:"USHORT",value:S};for(var Y=0;Y<S;Y++)X=X.concat(D(L[Y],Y));return X}function gt(x){1===x.format?Te.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Je("glyph",x.glyphs))):R.assert(!1,"Can't create coverage table format 2 yet.")}function vt(x){Te.call(this,"scriptListTable",bt("scriptRecord",x,function(L,D){var S=L.script,X=S.defaultLangSys;return R.assert(!!X,"Unable to write GSUB: script "+L.tag+" has no default language system."),[{name:"scriptTag"+D,type:"TAG",value:L.tag},{name:"script"+D,type:"TABLE",value:new Te("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Te("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:X.reqFeatureIndex}].concat(Je("featureIndex",X.featureIndexes)))}].concat(bt("langSys",S.langSysRecords,function(Y,le){var ke=Y.langSys;return[{name:"langSysTag"+le,type:"TAG",value:Y.tag},{name:"langSys"+le,type:"TABLE",value:new Te("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ke.reqFeatureIndex}].concat(Je("featureIndex",ke.featureIndexes)))}]})))}]}))}function kt(x){Te.call(this,"featureListTable",bt("featureRecord",x,function(L,D){var S=L.feature;return[{name:"featureTag"+D,type:"TAG",value:L.tag},{name:"feature"+D,type:"TABLE",value:new Te("featureTable",[{name:"featureParams",type:"USHORT",value:S.featureParams}].concat(Je("lookupListIndex",S.lookupListIndexes)))}]}))}function Ht(x,L){Te.call(this,"lookupListTable",Ye("lookup",x,function(D){var S=L[D.lookupType];return R.assert(!!S,"Unable to write GSUB lookup type "+D.lookupType+" tables."),new Te("lookupTable",[{name:"lookupType",type:"USHORT",value:D.lookupType},{name:"lookupFlag",type:"USHORT",value:D.lookupFlag}].concat(Ye("subtable",D.subtables,S)))}))}ge.CHARSTRING=function(x){if(Ve){var L=Ve.get(x);if(void 0!==L)return L}for(var Y=[],D=x.length,S=0;S<D;S+=1){var X=x[S];Y=Y.concat(ge[X.type](X.value))}return Ve&&Ve.set(x,Y),Y},De.CHARSTRING=function(x){return ge.CHARSTRING(x).length},ge.OBJECT=function(x){var L=ge[x.type];return R.argument(void 0!==L,"No encoding function for type "+x.type),L(x.value)},De.OBJECT=function(x){var L=De[x.type];return R.argument(void 0!==L,"No sizeOf function for type "+x.type),L(x.value)},ge.TABLE=function(x){for(var L=[],D=x.fields.length,S=[],X=[],Y=0;Y<D;Y+=1){var le=x.fields[Y],ke=(R.argument(void 0!==(qe=ge[le.type]),"No encoding function for field type "+le.type+" ("+le.name+")"),x[le.name]),qe=qe(ke=void 0===ke?le.value:ke);"TABLE"===le.type?(X.push(L.length),L=L.concat([0,0]),S.push(qe)):L=L.concat(qe)}for(var nt=0;nt<S.length;nt+=1){var Mt=X[nt],Yt=L.length;R.argument(Yt<65536,"Table "+x.tableName+" too big."),L[Mt]=Yt>>8,L[Mt+1]=255&Yt,L=L.concat(S[nt])}return L},De.TABLE=function(x){for(var L=0,D=x.fields.length,S=0;S<D;S+=1){var X=x.fields[S],Y=De[X.type],le=(R.argument(void 0!==Y,"No sizeOf function for field type "+X.type+" ("+X.name+")"),x[X.name]);L+=Y(le=void 0===le?X.value:le),"TABLE"===X.type&&(L+=2)}return L},ge.RECORD=ge.TABLE,De.RECORD=De.TABLE,ge.LITERAL=function(x){return x},De.LITERAL=function(x){return x.length},Te.prototype.encode=function(){return ge.TABLE(this)},Te.prototype.sizeOf=function(){return De.TABLE(this)};var Ft={Table:Te,Record:Te,Coverage:(gt.prototype=Object.create(Te.prototype)).constructor=gt,ScriptList:(vt.prototype=Object.create(Te.prototype)).constructor=vt,FeatureList:(kt.prototype=Object.create(Te.prototype)).constructor=kt,LookupList:(Ht.prototype=Object.create(Te.prototype)).constructor=Ht,ushortList:Je,tableList:Ye,recordList:bt};function an(x,L){return x.getUint8(L)}function rn(x,L){return x.getUint16(L,!1)}function dn(x,L){return x.getUint32(L,!1)}function qt(x,L){return x.getInt16(L,!1)+x.getUint16(L+2,!1)/65535}var Gt={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function lt(x,L){this.data=x,this.offset=L,this.relativeOffset=0}lt.prototype.parseByte=function(){var x=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,x},lt.prototype.parseChar=function(){var x=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,x},lt.prototype.parseCard8=lt.prototype.parseByte,lt.prototype.parseCard16=lt.prototype.parseUShort=function(){var x=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,x},lt.prototype.parseSID=lt.prototype.parseUShort,lt.prototype.parseOffset16=lt.prototype.parseUShort,lt.prototype.parseShort=function(){var x=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,x},lt.prototype.parseF2Dot14=function(){var x=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,x},lt.prototype.parseOffset32=lt.prototype.parseULong=function(){var x=dn(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,x},lt.prototype.parseFixed=function(){var x=qt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,x},lt.prototype.parseString=function(x){var L=this.data,D=this.offset+this.relativeOffset,S="";this.relativeOffset+=x;for(var X=0;X<x;X++)S+=String.fromCharCode(L.getUint8(D+X));return S},lt.prototype.parseTag=function(){return this.parseString(4)},lt.prototype.parseLongDateTime=function(){var x=dn(this.data,this.offset+this.relativeOffset+4);return x-=2082844800,this.relativeOffset+=8,x},lt.prototype.parseVersion=function(x){var L=rn(this.data,this.offset+this.relativeOffset),D=rn(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,L+D/(x=void 0===x?4096:x)/10},lt.prototype.skip=function(x,L){this.relativeOffset+=Gt[x]*(L=void 0===L?1:L)},lt.prototype.parseULongList=function(x){void 0===x&&(x=this.parseULong());for(var L=new Array(x),D=this.data,S=this.offset+this.relativeOffset,X=0;X<x;X++)L[X]=D.getUint32(S),S+=4;return this.relativeOffset+=4*x,L},lt.prototype.parseOffset16List=lt.prototype.parseUShortList=function(x){void 0===x&&(x=this.parseUShort());for(var L=new Array(x),D=this.data,S=this.offset+this.relativeOffset,X=0;X<x;X++)L[X]=D.getUint16(S),S+=2;return this.relativeOffset+=2*x,L},lt.prototype.parseShortList=function(x){for(var L=new Array(x),D=this.data,S=this.offset+this.relativeOffset,X=0;X<x;X++)L[X]=D.getInt16(S),S+=2;return this.relativeOffset+=2*x,L},lt.prototype.parseByteList=function(x){for(var L=new Array(x),D=this.data,S=this.offset+this.relativeOffset,X=0;X<x;X++)L[X]=D.getUint8(S++);return this.relativeOffset+=x,L},lt.prototype.parseList=function(x,L){L||(L=x,x=this.parseUShort());for(var D=new Array(x),S=0;S<x;S++)D[S]=L.call(this);return D},lt.prototype.parseList32=function(x,L){L||(L=x,x=this.parseULong());for(var D=new Array(x),S=0;S<x;S++)D[S]=L.call(this);return D},lt.prototype.parseRecordList=function(x,L){L||(L=x,x=this.parseUShort());for(var D=new Array(x),S=Object.keys(L),X=0;X<x;X++){for(var Y={},le=0;le<S.length;le++){var ke=S[le];Y[ke]=L[ke].call(this)}D[X]=Y}return D},lt.prototype.parseRecordList32=function(x,L){L||(L=x,x=this.parseULong());for(var D=new Array(x),S=Object.keys(L),X=0;X<x;X++){for(var Y={},le=0;le<S.length;le++){var ke=S[le];Y[ke]=L[ke].call(this)}D[X]=Y}return D},lt.prototype.parseStruct=function(x){if("function"==typeof x)return x.call(this);for(var L=Object.keys(x),D={},S=0;S<L.length;S++){var X=L[S];D[X]=x[X].call(this)}return D},lt.prototype.parseValueRecord=function(x){var L;if(0!==(x=void 0===x?this.parseUShort():x))return L={},1&x&&(L.xPlacement=this.parseShort()),2&x&&(L.yPlacement=this.parseShort()),4&x&&(L.xAdvance=this.parseShort()),8&x&&(L.yAdvance=this.parseShort()),16&x&&(L.xPlaDevice=void 0,this.parseShort()),32&x&&(L.yPlaDevice=void 0,this.parseShort()),64&x&&(L.xAdvDevice=void 0,this.parseShort()),128&x&&(L.yAdvDevice=void 0,this.parseShort()),L},lt.prototype.parseValueRecordList=function(){for(var x=this.parseUShort(),L=this.parseUShort(),D=new Array(L),S=0;S<L;S++)D[S]=this.parseValueRecord(x);return D},lt.prototype.parsePointer=function(x){var L=this.parseOffset16();if(0<L)return new lt(this.data,this.offset+L).parseStruct(x)},lt.prototype.parsePointer32=function(x){var L=this.parseOffset32();if(0<L)return new lt(this.data,this.offset+L).parseStruct(x)},lt.prototype.parseListOfLists=function(x){for(var L=this.parseOffset16List(),D=L.length,S=this.relativeOffset,X=new Array(D),Y=0;Y<D;Y++){var le=L[Y];if(0===le)X[Y]=void 0;else if(this.relativeOffset=le,x){for(var ke=this.parseOffset16List(),qe=new Array(ke.length),nt=0;nt<ke.length;nt++)this.relativeOffset=le+ke[nt],qe[nt]=x.call(this);X[Y]=qe}else X[Y]=this.parseUShortList()}return this.relativeOffset=S,X},lt.prototype.parseCoverage=function(){var x=this.offset+this.relativeOffset,L=this.parseUShort(),D=this.parseUShort();if(1===L)return{format:1,glyphs:this.parseUShortList(D)};if(2!==L)throw new Error("0x"+x.toString(16)+": Coverage format must be 1 or 2.");for(var S=new Array(D),X=0;X<D;X++)S[X]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:S}},lt.prototype.parseClassDef=function(){var x=this.offset+this.relativeOffset,L=this.parseUShort();if(1===L)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===L)return{format:2,ranges:this.parseRecordList({start:lt.uShort,end:lt.uShort,classId:lt.uShort})};throw new Error("0x"+x.toString(16)+": ClassDef format must be 1 or 2.")},lt.list=function(x,L){return function(){return this.parseList(x,L)}},lt.list32=function(x,L){return function(){return this.parseList32(x,L)}},lt.recordList=function(x,L){return function(){return this.parseRecordList(x,L)}},lt.recordList32=function(x,L){return function(){return this.parseRecordList32(x,L)}},lt.pointer=function(x){return function(){return this.parsePointer(x)}},lt.pointer32=function(x){return function(){return this.parsePointer32(x)}},lt.tag=lt.prototype.parseTag,lt.byte=lt.prototype.parseByte,lt.uShort=lt.offset16=lt.prototype.parseUShort,lt.uShortList=lt.prototype.parseUShortList,lt.uLong=lt.offset32=lt.prototype.parseULong,lt.uLongList=lt.prototype.parseULongList,lt.struct=lt.prototype.parseStruct,lt.coverage=lt.prototype.parseCoverage,lt.classDef=lt.prototype.parseClassDef;var Ut={reserved:lt.uShort,reqFeatureIndex:lt.uShort,featureIndexes:lt.uShortList},_t=(lt.prototype.parseScriptList=function(){return this.parsePointer(lt.recordList({tag:lt.tag,script:lt.pointer({defaultLangSys:lt.pointer(Ut),langSysRecords:lt.recordList({tag:lt.tag,langSys:lt.pointer(Ut)})})}))||[]},lt.prototype.parseFeatureList=function(){return this.parsePointer(lt.recordList({tag:lt.tag,feature:lt.pointer({featureParams:lt.offset16,lookupListIndexes:lt.uShortList})}))||[]},lt.prototype.parseLookupList=function(x){return this.parsePointer(lt.list(lt.pointer(function(){var L=this.parseUShort(),D=(R.argument(1<=L&&L<=9,"GPOS/GSUB lookup type "+L+" unknown."),this.parseUShort()),S=16&D;return{lookupType:L,lookupFlag:D,subtables:this.parseList(lt.pointer(x[L])),markFilteringSet:S?this.parseUShort():void 0}})))||[]},lt.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var x=this.parseUShort(),L=this.parseUShort();return R.argument(1===x&&L<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:lt.offset32,featureTableSubstitutionOffset:lt.offset32})})||[]},{getByte:an,getCard8:an,getUShort:rn,getCard16:rn,getShort:function(x,L){return x.getInt16(L,!1)},getULong:dn,getFixed:qt,getTag:function(x,L){for(var D="",S=L;S<L+4;S+=1)D+=String.fromCharCode(x.getInt8(S));return D},getOffset:function(x,L,D){for(var S=0,X=0;X<D;X+=1)S=(S<<=8)+x.getUint8(L+X);return S},getBytes:function(x,L,D){for(var S=[],X=L;X<D;X+=1)S.push(x.getUint8(X));return S},bytesToString:function(x){for(var L="",D=0;D<x.length;D+=1)L+=String.fromCharCode(x[D]);return L},Parser:lt}),je_parse=function(x,L){for(var D={},S=(D.version=_t.getUShort(x,L),R.argument(0===D.version,"cmap table version should be 0."),D.numTables=_t.getUShort(x,L+2),-1),X=D.numTables-1;0<=X;--X){var Y=_t.getUShort(x,L+4+8*X),le=_t.getUShort(x,L+4+8*X+2);if(3===Y&&(0===le||1===le||10===le)||0===Y&&(0===le||1===le||2===le||3===le||4===le)){S=_t.getULong(x,L+4+8*X+4);break}}if(-1===S)throw new Error("No valid cmap sub-tables found.");var ke=new _t.Parser(x,L+S);if(D.format=ke.parseUShort(),12===D.format){var qe,nt=D,Mt=ke;Mt.parseUShort(),nt.length=Mt.parseULong(),nt.language=Mt.parseULong(),nt.groupCount=qe=Mt.parseULong(),nt.glyphIndexMap={};for(var Yt=0;Yt<qe;Yt+=1)for(var Bt=Mt.parseULong(),mt=Mt.parseULong(),yn=Mt.parseULong(),en=Bt;en<=mt;en+=1)nt.glyphIndexMap[en]=yn,yn++}else{if(4!==D.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+D.format+").");var on=D,Zt=x,Kt=L,Un=S;on.length=ke.parseUShort(),on.language=ke.parseUShort(),on.segCount=Gn=ke.parseUShort()>>1,ke.skip("uShort",3),on.glyphIndexMap={};for(var Gn,$n=new _t.Parser(Zt,Kt+Un+14),Bn=new _t.Parser(Zt,Kt+Un+16+2*Gn),Qn=new _t.Parser(Zt,Kt+Un+16+4*Gn),er=new _t.Parser(Zt,Kt+Un+16+6*Gn),Ur=Kt+Un+16+8*Gn,Kr=0;Kr<Gn-1;Kr+=1)for(var Qr=void 0,Jr=$n.parseUShort(),fo=Bn.parseUShort(),wr=Qn.parseShort(),Dr=er.parseUShort(),mr=fo;mr<=Jr;mr+=1)0!==Dr?(Ur=(Ur=er.offset+er.relativeOffset-2)+Dr+2*(mr-fo),0!==(Qr=_t.getUShort(Zt,Ur))&&(Qr=Qr+wr&65535)):Qr=mr+wr&65535,on.glyphIndexMap[mr]=Qr}return D},je_make=function(x){for(var L=!0,D=x.length-1;0<D;--D)if(65535<x.get(D).unicode){console.log("Adding CMAP format 12 (needed!)"),L=!1;break}var S,X,Y=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:L?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:L?12:20}],le=(Y=(Y=L?Y:Y.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Ft.Table("cmap",Y));for(le.segments=[],D=0;D<x.length;D+=1){for(var ke=x.get(D),qe=0;qe<ke.unicodes.length;qe+=1)le.segments.push({end:S=ke.unicodes[qe],start:S,delta:-(S-(X=D)),offset:0,glyphIndex:X});le.segments=le.segments.sort(function(Kt,Un){return Kt.start-Un.start})}le.segments.push({end:65535,start:65535,delta:1,offset:0});var nt=le.segments.length,Mt=0,Yt=[],Bt=[],mt=[],yn=[],en=[],on=[];for(D=0;D<nt;D+=1){var Zt=le.segments[D];Zt.end<=65535&&Zt.start<=65535?(Yt=Yt.concat({name:"end_"+D,type:"USHORT",value:Zt.end}),Bt=Bt.concat({name:"start_"+D,type:"USHORT",value:Zt.start}),mt=mt.concat({name:"idDelta_"+D,type:"SHORT",value:Zt.delta}),yn=yn.concat({name:"idRangeOffset_"+D,type:"USHORT",value:Zt.offset}),void 0!==Zt.glyphId&&(en=en.concat({name:"glyph_"+D,type:"USHORT",value:Zt.glyphId}))):Mt+=1,L||void 0===Zt.glyphIndex||(on=(on=(on=on.concat({name:"cmap12Start_"+D,type:"ULONG",value:Zt.start})).concat({name:"cmap12End_"+D,type:"ULONG",value:Zt.end})).concat({name:"cmap12Glyph_"+D,type:"ULONG",value:Zt.glyphIndex}))}return le.segCountX2=2*(nt-Mt),le.searchRange=2*Math.pow(2,Math.floor(Math.log(nt-Mt)/Math.log(2))),le.entrySelector=Math.log(le.searchRange/2)/Math.log(2),le.rangeShift=le.segCountX2-le.searchRange,le.fields=le.fields.concat(Yt),le.fields.push({name:"reservedPad",type:"USHORT",value:0}),le.fields=le.fields.concat(Bt),le.fields=le.fields.concat(mt),le.fields=le.fields.concat(yn),le.fields=le.fields.concat(en),le.cmap4Length=14+2*Yt.length+2+2*Bt.length+2*mt.length+2*yn.length+2*en.length,L||(Y=16+4*on.length,le.cmap12Offset=20+le.cmap4Length,le.fields=le.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:Y},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:on.length/3}]),le.fields=le.fields.concat(on)),le},Ue=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Me=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Ke=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],wt=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ct(x){this.font=x}function $t(x){this.cmap=x}function nn(x,L){this.encoding=x,this.charset=L}function wn(x){switch(x.version){case 1:this.names=wt.slice();break;case 2:this.names=new Array(x.numberOfGlyphs);for(var L=0;L<x.numberOfGlyphs;L++)this.names[L]=x.glyphNameIndex[L]<wt.length?wt[x.glyphNameIndex[L]]:x.names[x.glyphNameIndex[L]-wt.length];break;case 2.5:this.names=new Array(x.numberOfGlyphs);for(var D=0;D<x.numberOfGlyphs;D++)this.names[D]=wt[D+x.glyphNameIndex[D]];break;default:this.names=[]}}Ct.prototype.charToGlyphIndex=function(x){var L=x.codePointAt(0),D=this.font.glyphs;if(D)for(var S=0;S<D.length;S+=1)for(var X=D.get(S),Y=0;Y<X.unicodes.length;Y+=1)if(X.unicodes[Y]===L)return S;return null},$t.prototype.charToGlyphIndex=function(x){return this.cmap.glyphIndexMap[x.codePointAt(0)]||0},nn.prototype.charToGlyphIndex=function(x){return x=x.codePointAt(0),this.charset.indexOf(x=this.encoding[x])},wn.prototype.nameToGlyphIndex=function(x){return this.names.indexOf(x)},wn.prototype.glyphIndexToName=function(x){return this.names[x]};var xn_line=function(x,L,D,S,X){x.beginPath(),x.moveTo(L,D),x.lineTo(S,X),x.stroke()};function St(x){this.bindConstructorValues(x)}function Et(x,L,D){Object.defineProperty(x,L,{get:function(){return x[D]},set:function(S){x[D]=S},enumerable:!0,configurable:!0})}function Nt(x,L){if(this.font=x,this.glyphs={},Array.isArray(L))for(var D=0;D<L.length;D++)this.glyphs[D]=L[D];this.length=L&&L.length||0}St.prototype.bindConstructorValues=function(x){var L;this.index=x.index||0,this.name=x.name||null,this.unicode=x.unicode||void 0,this.unicodes=x.unicodes||void 0!==x.unicode?[x.unicode]:[],x.xMin&&(this.xMin=x.xMin),x.yMin&&(this.yMin=x.yMin),x.xMax&&(this.xMax=x.xMax),x.yMax&&(this.yMax=x.yMax),x.advanceWidth&&(this.advanceWidth=x.advanceWidth),Object.defineProperty(this,"path",(L=(x=x.path)||new fe,{configurable:!0,get:function(){return L="function"==typeof L?L():L},set:function(D){L=D}}))},St.prototype.addUnicode=function(x){0===this.unicodes.length&&(this.unicode=x),this.unicodes.push(x)},St.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},St.prototype.getPath=function(x,L,D,S,X){x=void 0!==x?x:0,L=void 0!==L?L:0,D=void 0!==D?D:72;for(var Y,le,ke=(S=S||{}).xScale,qe=S.yScale,nt=((Y=S.hinting&&X&&X.hinting?this.path&&X.hinting.exec(this,D):Y)?(le=X.hinting.getCommands(Y),x=Math.round(x),L=Math.round(L),ke=qe=1):(le=this.path.commands,S=1/this.path.unitsPerEm*D,void 0===ke&&(ke=S),void 0===qe&&(qe=S)),new fe),Mt=0;Mt<le.length;Mt+=1){var Yt=le[Mt];"M"===Yt.type?nt.moveTo(x+Yt.x*ke,L+-Yt.y*qe):"L"===Yt.type?nt.lineTo(x+Yt.x*ke,L+-Yt.y*qe):"Q"===Yt.type?nt.quadraticCurveTo(x+Yt.x1*ke,L+-Yt.y1*qe,x+Yt.x*ke,L+-Yt.y*qe):"C"===Yt.type?nt.curveTo(x+Yt.x1*ke,L+-Yt.y1*qe,x+Yt.x2*ke,L+-Yt.y2*qe,x+Yt.x*ke,L+-Yt.y*qe):"Z"===Yt.type&&nt.closePath()}return nt},St.prototype.getContours=function(){if(void 0===this.points)return[];for(var x=[],L=[],D=0;D<this.points.length;D+=1){var S=this.points[D];L.push(S),S.lastPointOfContour&&(x.push(L),L=[])}return R.argument(0===L.length,"There are still points left in the current contour."),x},St.prototype.getMetrics=function(){for(var x=this.path.commands,L=[],D=[],S=0;S<x.length;S+=1){var X=x[S];"Z"!==X.type&&(L.push(X.x),D.push(X.y)),"Q"!==X.type&&"C"!==X.type||(L.push(X.x1),D.push(X.y1)),"C"===X.type&&(L.push(X.x2),D.push(X.y2))}var Y={xMin:Math.min.apply(null,L),yMin:Math.min.apply(null,D),xMax:Math.max.apply(null,L),yMax:Math.max.apply(null,D),leftSideBearing:this.leftSideBearing};return isFinite(Y.xMin)||(Y.xMin=0),isFinite(Y.xMax)||(Y.xMax=this.advanceWidth),isFinite(Y.yMin)||(Y.yMin=0),isFinite(Y.yMax)||(Y.yMax=0),Y.rightSideBearing=this.advanceWidth-Y.leftSideBearing-(Y.xMax-Y.xMin),Y},St.prototype.draw=function(x,L,D,S,X){this.getPath(L,D,S,X).draw(x)},St.prototype.drawPoints=function(x,L,D,S){function X(Mt,Yt,Bt,mt){var yn=2*Math.PI;x.beginPath();for(var en=0;en<Mt.length;en+=1)x.moveTo(Yt+Mt[en].x*mt,Bt+Mt[en].y*mt),x.arc(Yt+Mt[en].x*mt,Bt+Mt[en].y*mt,2,0,yn,!1);x.closePath(),x.fill()}L=void 0!==L?L:0,D=void 0!==D?D:0,S=1/this.path.unitsPerEm*(S=void 0!==S?S:24);for(var Y=[],le=[],ke=this.path,qe=0;qe<ke.commands.length;qe+=1){var nt=ke.commands[qe];void 0!==nt.x&&Y.push({x:nt.x,y:-nt.y}),void 0!==nt.x1&&le.push({x:nt.x1,y:-nt.y1}),void 0!==nt.x2&&le.push({x:nt.x2,y:-nt.y2})}x.fillStyle="blue",X(Y,L,D,S),x.fillStyle="red",X(le,L,D,S)},St.prototype.drawMetrics=function(x,L,D,S){L=void 0!==L?L:0,D=void 0!==D?D:0,S=1/this.path.unitsPerEm*(S=void 0!==S?S:24),x.lineWidth=1,x.strokeStyle="black",xn_line(x,L,-1e4,L,1e4),xn_line(x,-1e4,D,1e4,D);var X=this.xMin||0,Y=this.yMin||0,le=this.xMax||0,ke=this.yMax||0,qe=this.advanceWidth||0;x.strokeStyle="blue",xn_line(x,L+X*S,-1e4,L+X*S,1e4),xn_line(x,L+le*S,-1e4,L+le*S,1e4),xn_line(x,-1e4,D+-Y*S,1e4,D+-Y*S),xn_line(x,-1e4,D+-ke*S,1e4,D+-ke*S),x.strokeStyle="green",xn_line(x,L+qe*S,-1e4,L+qe*S,1e4)},Nt.prototype.get=function(x){return"function"==typeof this.glyphs[x]&&(this.glyphs[x]=this.glyphs[x]()),this.glyphs[x]},Nt.prototype.push=function(x,L){this.glyphs[x]=L,this.length++};var yt={GlyphSet:Nt,glyphLoader:function(x,L){return new St({index:L,font:x})},ttfGlyphLoader:function(x,L,D,S,X,Y){return function(){var le=new St({index:L,font:x});return le.path=function(){D(le,S,X);var ke=Y(x.glyphs,le);return ke.unitsPerEm=x.unitsPerEm,ke},Et(le,"xMin","_xMin"),Et(le,"xMax","_xMax"),Et(le,"yMin","_yMin"),Et(le,"yMax","_yMax"),le}},cffGlyphLoader:function(x,L,D,S){return function(){var X=new St({index:L,font:x});return X.path=function(){var Y=D(x,X,S);return Y.unitsPerEm=x.unitsPerEm,Y},X}}};function tt(x){return x.length<1240?107:x.length<33900?1131:32768}function ut(x,L,D){var S,X=[],Y=[],le=_t.getCard16(x,L);if(0!==le){for(var ke=_t.getByte(x,L+2),qe=L+(le+1)*ke+2,nt=L+3,Mt=0;Mt<le+1;Mt+=1)X.push(_t.getOffset(x,nt,ke)),nt+=ke;S=qe+X[le]}else S=L+2;for(var Yt=0;Yt<X.length-1;Yt+=1){var Bt=_t.getBytes(x,qe+X[Yt],qe+X[Yt+1]);D&&(Bt=D(Bt)),Y.push(Bt)}return{objects:Y,startOffset:L,endOffset:S}}function It(x,L){if(28===L)return x.parseByte()<<8|x.parseByte();if(29===L)return x.parseByte()<<24|x.parseByte()<<16|x.parseByte()<<8|x.parseByte();if(30===L){for(var D=x,S="",X=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Y=(le=D.parseByte())>>4,le=15&le;if(15==Y||(S+=X[Y],15==le))break;S+=X[le]}return parseFloat(S)}if(32<=L&&L<=246)return L-139;if(247<=L&&L<=250)return 256*(L-247)+x.parseByte()+108;if(251<=L&&L<=254)return 256*-(L-251)-x.parseByte()-108;throw new Error("Invalid b0 "+L)}function Be(x,L,D){var S=new _t.Parser(x,L=void 0!==L?L:0),X=[],Y=[];for(D=void 0!==D?D:x.length;S.relativeOffset<D;){var le=S.parseByte();le<=21?(12===le&&(le=1200+S.parseByte()),X.push([le,Y]),Y=[]):Y.push(It(S,le))}for(var ke=X,qe={},nt=0;nt<ke.length;nt+=1){var Bt,Mt=ke[nt][0],Yt=ke[nt][1];if(Bt=1===Yt.length?Yt[0]:Yt,qe.hasOwnProperty(Mt)&&!isNaN(qe[Mt]))throw new Error("Object "+qe+" already has key "+Mt);qe[Mt]=Bt}return qe}function ct(x,L){return L<=390?Ue[L]:x[L-391]}function Ot(x,L,D){for(var S,X={},Y=0;Y<L.length;Y+=1){var le=L[Y];if(Array.isArray(le.type)){var ke=[];ke.length=le.type.length;for(var qe=0;qe<le.type.length;qe++)void 0===(S=void 0!==x[le.op]?x[le.op][qe]:void 0)&&(S=void 0!==le.value&&void 0!==le.value[qe]?le.value[qe]:null),"SID"===le.type[qe]&&(S=ct(D,S)),ke[qe]=S;X[le.name]=ke}else void 0===(S=x[le.op])&&(S=void 0!==le.value?le.value:null),"SID"===le.type&&(S=ct(D,S)),X[le.name]=S}return X}var Pt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],zt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function mn(x,L,D,S){return Ot(Be(x,L,D),zt,S)}function gn(x,L,D,S){for(var X=[],Y=0;Y<D.length;Y+=1){var le,ke=((ke=S,le=Ot(Be(le=new DataView(new Uint8Array(D[Y]).buffer),0,le.byteLength),Pt,ke))._subrs=[],le._subrsBias=0,le.private[0]),qe=le.private[1];0!==ke&&0!==qe&&(ke=mn(x,qe+L,ke,S),le._defaultWidthX=ke.defaultWidthX,le._nominalWidthX=ke.nominalWidthX,0!==ke.subrs&&(qe=ut(x,qe+ke.subrs+L),le._subrs=qe.objects,le._subrsBias=tt(le._subrs)),le._privateDict=ke),X.push(le)}return X}function bn(x,L,D){var S,X,Y,le,ke,qe,nt,Mt,Yt,Bt=new fe,mt=[],yn=0,en=!1,on=!1,Zt=0,Kt=0,Un=(Yt=(x.isCIDFont?(ke=x.tables.cff.topDict._fdSelect[L.index],ke=x.tables.cff.topDict._fdArray[ke],qe=ke._subrs,nt=ke._subrsBias,Mt=ke._defaultWidthX,ke):(qe=x.tables.cff.topDict._subrs,nt=x.tables.cff.topDict._subrsBias,Mt=x.tables.cff.topDict._defaultWidthX,x.tables.cff.topDict))._nominalWidthX,Mt);function Gn(Bn,Qn){on&&Bt.closePath(),Bt.moveTo(Bn,Qn),on=!0}function $n(){mt.length%2==0||en||(Un=mt.shift()+Yt),yn+=mt.length>>1,mt.length=0,en=!0}return function Bn(Qn){for(var er,Ur,Kr,Qr,Jr,fo,wr,Dr,mr,Pr,Nn,to,Nr=0;Nr<Qn.length;){var no=Qn[Nr];switch(Nr+=1,no){case 1:case 3:case 18:case 23:$n();break;case 4:1<mt.length&&!en&&(Un=mt.shift()+Yt,en=!0),Kt+=mt.pop(),Gn(Zt,Kt);break;case 5:for(;0<mt.length;)Zt+=mt.shift(),Kt+=mt.shift(),Bt.lineTo(Zt,Kt);break;case 6:for(;0<mt.length&&(Zt+=mt.shift(),Bt.lineTo(Zt,Kt),0!==mt.length);)Kt+=mt.shift(),Bt.lineTo(Zt,Kt);break;case 7:for(;0<mt.length&&(Kt+=mt.shift(),Bt.lineTo(Zt,Kt),0!==mt.length);)Zt+=mt.shift(),Bt.lineTo(Zt,Kt);break;case 8:for(;0<mt.length;)S=Zt+mt.shift(),X=Kt+mt.shift(),Y=S+mt.shift(),le=X+mt.shift(),Zt=Y+mt.shift(),Kt=le+mt.shift(),Bt.curveTo(S,X,Y,le,Zt,Kt);break;case 10:Jr=mt.pop()+nt,(fo=qe[Jr])&&Bn(fo);break;case 11:return;case 12:switch(no=Qn[Nr],Nr+=1,no){case 35:S=Zt+mt.shift(),X=Kt+mt.shift(),Y=S+mt.shift(),le=X+mt.shift(),wr=Y+mt.shift(),Dr=le+mt.shift(),mr=wr+mt.shift(),Pr=Dr+mt.shift(),Nn=mr+mt.shift(),to=Pr+mt.shift(),Zt=Nn+mt.shift(),Kt=to+mt.shift(),mt.shift(),Bt.curveTo(S,X,Y,le,wr,Dr),Bt.curveTo(mr,Pr,Nn,to,Zt,Kt);break;case 34:S=Zt+mt.shift(),X=Kt,Y=S+mt.shift(),le=X+mt.shift(),wr=Y+mt.shift(),Dr=le,mr=wr+mt.shift(),Pr=le,Nn=mr+mt.shift(),to=Kt,Zt=Nn+mt.shift(),Bt.curveTo(S,X,Y,le,wr,Dr),Bt.curveTo(mr,Pr,Nn,to,Zt,Kt);break;case 36:S=Zt+mt.shift(),X=Kt+mt.shift(),Y=S+mt.shift(),le=X+mt.shift(),wr=Y+mt.shift(),Dr=le,mr=wr+mt.shift(),Pr=le,Nn=mr+mt.shift(),to=Pr+mt.shift(),Zt=Nn+mt.shift(),Bt.curveTo(S,X,Y,le,wr,Dr),Bt.curveTo(mr,Pr,Nn,to,Zt,Kt);break;case 37:S=Zt+mt.shift(),X=Kt+mt.shift(),Y=S+mt.shift(),le=X+mt.shift(),wr=Y+mt.shift(),Dr=le+mt.shift(),mr=wr+mt.shift(),Pr=Dr+mt.shift(),Nn=mr+mt.shift(),to=Pr+mt.shift(),Math.abs(Nn-Zt)>Math.abs(to-Kt)?Zt=Nn+mt.shift():Kt=to+mt.shift(),Bt.curveTo(S,X,Y,le,wr,Dr),Bt.curveTo(mr,Pr,Nn,to,Zt,Kt);break;default:console.log("Glyph "+L.index+": unknown operator 1200"+no),mt.length=0}break;case 14:0<mt.length&&!en&&(Un=mt.shift()+Yt,en=!0),on&&(Bt.closePath(),on=!1);break;case 19:case 20:$n(),Nr+=yn+7>>3;break;case 21:2<mt.length&&!en&&(Un=mt.shift()+Yt,en=!0),Kt+=mt.pop(),Gn(Zt+=mt.pop(),Kt);break;case 22:1<mt.length&&!en&&(Un=mt.shift()+Yt,en=!0),Gn(Zt+=mt.pop(),Kt);break;case 24:for(;2<mt.length;)S=Zt+mt.shift(),X=Kt+mt.shift(),Y=S+mt.shift(),le=X+mt.shift(),Zt=Y+mt.shift(),Kt=le+mt.shift(),Bt.curveTo(S,X,Y,le,Zt,Kt);Zt+=mt.shift(),Kt+=mt.shift(),Bt.lineTo(Zt,Kt);break;case 25:for(;6<mt.length;)Zt+=mt.shift(),Kt+=mt.shift(),Bt.lineTo(Zt,Kt);S=Zt+mt.shift(),X=Kt+mt.shift(),Y=S+mt.shift(),le=X+mt.shift(),Zt=Y+mt.shift(),Kt=le+mt.shift(),Bt.curveTo(S,X,Y,le,Zt,Kt);break;case 26:for(mt.length%2&&(Zt+=mt.shift());0<mt.length;)S=Zt,X=Kt+mt.shift(),Y=S+mt.shift(),le=X+mt.shift(),Zt=Y,Kt=le+mt.shift(),Bt.curveTo(S,X,Y,le,Zt,Kt);break;case 27:for(mt.length%2&&(Kt+=mt.shift());0<mt.length;)S=Zt+mt.shift(),X=Kt,Y=S+mt.shift(),le=X+mt.shift(),Zt=Y+mt.shift(),Bt.curveTo(S,X,Y,le,Zt,Kt=le);break;case 28:mt.push(((er=Qn[Nr])<<24|(Ur=Qn[Nr+1])<<16)>>16),Nr+=2;break;case 29:Jr=mt.pop()+x.gsubrsBias,(fo=x.gsubrs[Jr])&&Bn(fo);break;case 30:for(;0<mt.length&&(S=Zt,X=Kt+mt.shift(),Y=S+mt.shift(),le=X+mt.shift(),Zt=Y+mt.shift(),Kt=le+(1===mt.length?mt.shift():0),Bt.curveTo(S,X,Y,le,Zt,Kt),0!==mt.length);)S=Zt+mt.shift(),X=Kt,Y=S+mt.shift(),le=X+mt.shift(),Kt=le+mt.shift(),Zt=Y+(1===mt.length?mt.shift():0),Bt.curveTo(S,X,Y,le,Zt,Kt);break;case 31:for(;0<mt.length&&(S=Zt+mt.shift(),X=Kt,Y=S+mt.shift(),le=X+mt.shift(),Kt=le+mt.shift(),Zt=Y+(1===mt.length?mt.shift():0),Bt.curveTo(S,X,Y,le,Zt,Kt),0!==mt.length);)S=Zt,X=Kt+mt.shift(),Y=S+mt.shift(),le=X+mt.shift(),Zt=Y+mt.shift(),Kt=le+(1===mt.length?mt.shift():0),Bt.curveTo(S,X,Y,le,Zt,Kt);break;default:no<32?console.log("Glyph "+L.index+": unknown operator "+no):no<247?mt.push(no-139):no<251?(er=Qn[Nr],Nr+=1,mt.push(256*(no-247)+er+108)):no<255?(er=Qn[Nr],Nr+=1,mt.push(256*-(no-251)-er-108)):(er=Qn[Nr],Ur=Qn[Nr+1],Kr=Qn[Nr+2],Qr=Qn[Nr+3],Nr+=4,mt.push((er<<24|Ur<<16|Kr<<8|Qr)/65536))}}}(D),L.advanceWidth=Un,Bt}function Cn(x,L){var D,S=Ue.indexOf(x);return 0<=S&&(D=S),0<=(S=L.indexOf(x))?D=S+Ue.length:(D=Ue.length+L.length,L.push(x)),D}function Sn(x,L,D){for(var S={},X=0;X<x.length;X+=1){var Y=x[X],le=L[Y.name];void 0===le||function ke(qe,nt){if(qe===nt)return 1;if(Array.isArray(qe)&&Array.isArray(nt)&&qe.length===nt.length){for(var Mt=0;Mt<qe.length;Mt+=1)if(!ke(qe[Mt],nt[Mt]))return;return 1}}(le,Y.value)||("SID"===Y.type&&(le=Cn(le,D)),S[Y.op]={name:Y.name,type:Y.type,value:le})}return S}function tr(x,L){var D=new Ft.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return D.dict=Sn(Pt,x,L),D}function nr(x){var L=new Ft.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return L.topDicts=[{name:"topDict_0",type:"TABLE",value:x}],L}var Ln_parse=function(x,L,D){D.tables.cff={},(X={}).formatMajor=_t.getCard8(ke=x,S=L),X.formatMinor=_t.getCard8(ke,S+1),X.size=_t.getCard8(ke,S+2),X.offsetSize=_t.getCard8(ke,S+3),X.startOffset=S,X.endOffset=S+4;var ke=ut(x,X.endOffset,_t.bytesToString),S=ut(x,ke.endOffset),X=ut(x,S.endOffset,_t.bytesToString);if(ke=ut(x,X.endOffset),D.gsubrs=ke.objects,D.gsubrsBias=tt(D.gsubrs),1!==(ke=gn(x,L,S.objects,X.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+ke.length);if((D.tables.cff.topDict=S=ke[0])._privateDict&&(D.defaultWidthX=S._privateDict.defaultWidthX,D.nominalWidthX=S._privateDict.nominalWidthX),void 0!==S.ros[0]&&void 0!==S.ros[1]&&(D.isCIDFont=!0),D.isCIDFont){var Y=S.fdSelect;if(0===(ke=S.fdArray)||0===Y)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");ke=gn(x,L,ut(x,ke+=L).objects,X.objects),S._fdArray=ke,S._fdSelect=function(Bt,mt,yn,en){var on,Zt=[],Kt=new _t.Parser(Bt,mt);if(0===(Bt=Kt.parseCard8()))for(var Un=0;Un<yn;Un++){if(en<=(on=Kt.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+on+" (FD count "+en+")");Zt.push(on)}else{if(3!==Bt)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Bt);var Gn,$n=Kt.parseCard16(),Bn=Kt.parseCard16();if(0!==Bn)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Bn);for(var Qn=0;Qn<$n;Qn++){if(on=Kt.parseCard8(),Gn=Kt.parseCard16(),en<=on)throw new Error("CFF table CID Font FDSelect has bad FD index value "+on+" (FD count "+en+")");if(yn<Gn)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Gn);for(;Bn<Gn;Bn++)Zt.push(on);Bn=Gn}if(Gn!==yn)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Gn)}return Zt}(x,Y+=L,D.numGlyphs,ke.length)}ke=mn(x,Y=L+S.private[1],S.private[0],X.objects);var le=(D.defaultWidthX=ke.defaultWidthX,D.nominalWidthX=ke.nominalWidthX,0!==ke.subrs?(Y=ut(x,Y+ke.subrs),D.subrs=Y.objects,D.subrsBias=tt(D.subrs)):(D.subrs=[],D.subrsBias=0),ut(x,L+S.charStrings));D.nGlyphs=le.objects.length,ke=function(Mt,Yt,Bt,mt){var yn=new _t.Parser(Mt,Yt),en=(--Bt,[".notdef"]);if(0===(Mt=yn.parseCard8()))for(var on=0;on<Bt;on+=1)Zt=yn.parseSID(),en.push(ct(mt,Zt));else if(1===Mt)for(;en.length<=Bt;)for(var Zt=yn.parseSID(),Kt=yn.parseCard8(),Un=0;Un<=Kt;Un+=1)en.push(ct(mt,Zt)),Zt+=1;else{if(2!==Mt)throw new Error("Unknown charset format "+Mt);for(;en.length<=Bt;){Zt=yn.parseSID(),Kt=yn.parseCard16();for(var Gn=0;Gn<=Kt;Gn+=1)en.push(ct(mt,Zt)),Zt+=1}}return en}(x,L+S.charset,D.nGlyphs,X.objects),D.cffEncoding=0===S.encoding?new nn(Me,ke):1===S.encoding?new nn(Ke,ke):function(Mt,Yt,Bt){var mt={},yn=new _t.Parser(Mt,Yt);if(0===(Mt=yn.parseCard8()))for(var en=yn.parseCard8(),on=0;on<en;on+=1)mt[Kt=yn.parseCard8()]=on;else{if(1!==Mt)throw new Error("Unknown encoding format "+Mt);for(var Zt=yn.parseCard8(),Kt=1,Un=0;Un<Zt;Un+=1)for(var Gn=yn.parseCard8(),$n=yn.parseCard8(),Bn=Gn;Bn<=Gn+$n;Bn+=1)mt[Bn]=Kt,Kt+=1}return new nn(mt,Bt)}(x,L+S.encoding,ke),D.encoding=D.encoding||D.cffEncoding,D.glyphs=new yt.GlyphSet(D);for(var qe=0;qe<D.nGlyphs;qe+=1)D.glyphs.push(qe,yt.cffGlyphLoader(D,qe,bn,le.objects[qe]))},Ln_make=function(x,Mt){for(var D,S=new Ft.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),X={version:Mt.version,fullName:Mt.fullName,familyName:Mt.familyName,weight:Mt.weightName,fontBBox:Mt.fontBBox||[0,0,0,0],fontMatrix:[X=1/Mt.unitsPerEm,0,0,X,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},Y=[],le=1;le<x.length;le+=1)D=x.get(le),Y.push(D.name);var ke,qe,nt=[],Yt=(S.header=new Ft.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),S.nameIndex=function(Bt){var mt=new Ft.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);mt.names=[];for(var yn=0;yn<Bt.length;yn+=1)mt.names.push({name:"name_"+yn,type:"NAME",value:Bt[yn]});return mt}([Mt.postScriptName]),Mt=tr(X,nt),S.topDictIndex=nr(Mt),S.globalSubrIndex=new Ft.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),S.charsets=function(Bt,mt){for(var yn=new Ft.Record("Charsets",[{name:"format",type:"Card8",value:0}]),en=0;en<Bt.length;en+=1){var on=Cn(Bt[en],mt);yn.fields.push({name:"glyph_"+en,type:"SID",value:on})}return yn}(Y,nt),S.charStringsIndex=function zn(x){for(var L=new Ft.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),D=0;D<x.length;D+=1){var S=x.get(D),X=function(Y){for(var le=[],ke=Y.path,qe=(le.push({name:"width",type:"NUMBER",value:Y.advanceWidth}),0),nt=0,Mt=0;Mt<ke.commands.length;Mt+=1){var Yt,Bt,mt,yn,en=void 0,on=void 0,Zt=ke.commands[Mt];"M"===(Zt="Q"===Zt.type?{type:"C",x:Zt.x,y:Zt.y,x1:1/3*qe+2/3*Zt.x1,y1:1/3*nt+2/3*Zt.y1,x2:1/3*Zt.x+2/3*Zt.x1,y2:1/3*Zt.y+2/3*Zt.y1}:Zt).type?(en=Math.round(Zt.x-qe),on=Math.round(Zt.y-nt),le.push({name:"dx",type:"NUMBER",value:en}),le.push({name:"dy",type:"NUMBER",value:on}),le.push({name:"rmoveto",type:"OP",value:21}),qe=Math.round(Zt.x),nt=Math.round(Zt.y)):"L"===Zt.type?(en=Math.round(Zt.x-qe),on=Math.round(Zt.y-nt),le.push({name:"dx",type:"NUMBER",value:en}),le.push({name:"dy",type:"NUMBER",value:on}),le.push({name:"rlineto",type:"OP",value:5}),qe=Math.round(Zt.x),nt=Math.round(Zt.y)):"C"===Zt.type&&(Yt=Math.round(Zt.x1-qe),Bt=Math.round(Zt.y1-nt),mt=Math.round(Zt.x2-Zt.x1),yn=Math.round(Zt.y2-Zt.y1),en=Math.round(Zt.x-Zt.x2),on=Math.round(Zt.y-Zt.y2),le.push({name:"dx1",type:"NUMBER",value:Yt}),le.push({name:"dy1",type:"NUMBER",value:Bt}),le.push({name:"dx2",type:"NUMBER",value:mt}),le.push({name:"dy2",type:"NUMBER",value:yn}),le.push({name:"dx",type:"NUMBER",value:en}),le.push({name:"dy",type:"NUMBER",value:on}),le.push({name:"rrcurveto",type:"OP",value:8}),qe=Math.round(Zt.x),nt=Math.round(Zt.y))}return le.push({name:"endchar",type:"OP",value:14}),le}(S);L.charStrings.push({name:S.name,type:"CHARSTRING",value:X})}return L}(x),S.privateDict=(Yt={},ke=nt,(qe=new Ft.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Sn(zt,Yt,ke),qe),S.stringIndex=function(Bt){var mt=new Ft.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);mt.strings=[];for(var yn=0;yn<Bt.length;yn+=1)mt.strings.push({name:"string_"+yn,type:"STRING",value:Bt[yn]});return mt}(nt),S.header.sizeOf()+S.nameIndex.sizeOf()+S.topDictIndex.sizeOf()+S.stringIndex.sizeOf()+S.globalSubrIndex.sizeOf());return X.charset=Yt,X.encoding=0,X.charStrings=X.charset+S.charsets.sizeOf(),X.private[1]=X.charStrings+S.charStringsIndex.sizeOf(),Mt=tr(X,nt),S.topDictIndex=nr(Mt),S},ee_parse=function(S,L){var D={};return S=new _t.Parser(S,L),D.version=S.parseVersion(),D.fontRevision=Math.round(1e3*S.parseFixed())/1e3,D.checkSumAdjustment=S.parseULong(),D.magicNumber=S.parseULong(),R.argument(1594834165===D.magicNumber,"Font header has wrong magic number."),D.flags=S.parseUShort(),D.unitsPerEm=S.parseUShort(),D.created=S.parseLongDateTime(),D.modified=S.parseLongDateTime(),D.xMin=S.parseShort(),D.yMin=S.parseShort(),D.xMax=S.parseShort(),D.yMax=S.parseShort(),D.macStyle=S.parseUShort(),D.lowestRecPPEM=S.parseUShort(),D.fontDirectionHint=S.parseShort(),D.indexToLocFormat=S.parseShort(),D.glyphDataFormat=S.parseShort(),D},ee_make=function(x){var L=Math.round((new Date).getTime()/1e3)+2082844800,D=L;return x.createdTimestamp&&(D=x.createdTimestamp+2082844800),new Ft.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:D},{name:"modified",type:"LONGDATETIME",value:L},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],x)},oe_parse=function(S,L){var D={};return S=new _t.Parser(S,L),D.version=S.parseVersion(),D.ascender=S.parseShort(),D.descender=S.parseShort(),D.lineGap=S.parseShort(),D.advanceWidthMax=S.parseUShort(),D.minLeftSideBearing=S.parseShort(),D.minRightSideBearing=S.parseShort(),D.xMaxExtent=S.parseShort(),D.caretSlopeRise=S.parseShort(),D.caretSlopeRun=S.parseShort(),D.caretOffset=S.parseShort(),S.relativeOffset+=8,D.metricDataFormat=S.parseShort(),D.numberOfHMetrics=S.parseUShort(),D},oe_make=function(x){return new Ft.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],x)},_e_parse=function(x,L,D,S,X){for(var Y,le,ke=new _t.Parser(x,L),qe=0;qe<S;qe+=1){qe<D&&(Y=ke.parseUShort(),le=ke.parseShort());var nt=X.get(qe);nt.advanceWidth=Y,nt.leftSideBearing=le}},_e_make=function(x){for(var L=new Ft.Table("hmtx",[]),D=0;D<x.length;D+=1){var S=(X=x.get(D)).advanceWidth||0,X=X.leftSideBearing||0;L.fields.push({name:"advanceWidth_"+D,type:"USHORT",value:S}),L.fields.push({name:"leftSideBearing_"+D,type:"SHORT",value:X})}return L},O_make=function(x){for(var L=new Ft.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:x.length}]),D="",S=12+4*x.length,X=0;X<x.length;++X){var Y=D.indexOf(x[X]);Y<0&&(Y=D.length,D+=x[X]),L.fields.push({name:"offset "+X,type:"USHORT",value:S+Y}),L.fields.push({name:"length "+X,type:"USHORT",value:x[X].length})}return L.fields.push({name:"stringPool",type:"CHARARRAY",value:D}),L},O_parse=function(x,L){for(var D=new _t.Parser(x,L),S=D.parseULong(),X=(R.argument(1===S,"Unsupported ltag table version."),D.skip("uLong",1),D.parseULong()),Y=[],le=0;le<X;le++){for(var ke="",qe=L+D.parseUShort(),nt=D.parseUShort(),Mt=qe;Mt<qe+nt;++Mt)ke+=String.fromCharCode(x.getInt8(Mt));Y.push(ke)}return Y},G_parse=function(S,L){var D={};return S=new _t.Parser(S,L),D.version=S.parseVersion(),D.numGlyphs=S.parseUShort(),1===D.version&&(D.maxPoints=S.parseUShort(),D.maxContours=S.parseUShort(),D.maxCompositePoints=S.parseUShort(),D.maxCompositeContours=S.parseUShort(),D.maxZones=S.parseUShort(),D.maxTwilightPoints=S.parseUShort(),D.maxStorage=S.parseUShort(),D.maxFunctionDefs=S.parseUShort(),D.maxInstructionDefs=S.parseUShort(),D.maxStackElements=S.parseUShort(),D.maxSizeOfInstructions=S.parseUShort(),D.maxComponentElements=S.parseUShort(),D.maxComponentDepth=S.parseUShort()),D},G_make=function(x){return new Ft.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:x}])},V=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Q={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},de={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Z={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},ve="utf-16",Pe={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},ot={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Tt(x,L,D){switch(x){case 0:return ve;case 1:return ot[D]||Pe[L];case 3:if(1===L||10===L)return ve}}function sn(x){var L,D={};for(L in x)D[x[L]]=parseInt(L);return D}function _n(x,L,D,S,X,Y){return new Ft.Record("NameRecord",[{name:"platformID",type:"USHORT",value:x},{name:"encodingID",type:"USHORT",value:L},{name:"languageID",type:"USHORT",value:D},{name:"nameID",type:"USHORT",value:S},{name:"length",type:"USHORT",value:X},{name:"offset",type:"USHORT",value:Y}])}function ln(x,L){if((D=function(Y,le){var ke=Y.length,qe=le.length-ke+1;e:for(var nt=0;nt<qe;nt++)for(;nt<qe;nt++){for(var Mt=0;Mt<ke;Mt++)if(le[nt+Mt]!==Y[Mt])continue e;return nt}return-1}(x,L))<0)for(var D=L.length,S=0,X=x.length;S<X;++S)L.push(x[S]);return D}var kn_parse=function(x,L,D){for(var S={},X=new _t.Parser(x,L),Y=(L=X.parseUShort(),X.parseUShort()),le=X.offset+X.parseUShort(),ke=0;ke<Y;ke++){var yn=X.parseUShort(),qe=X.parseUShort(),nt=X.parseUShort(),Mt=X.parseUShort(),Yt=(Mt=V[Mt]||Mt,X.parseUShort()),Bt=X.parseUShort(),mt=function(on,Zt,Kt){switch(on){case 0:if(65535===Zt)return"und";if(Kt)return Kt[Zt];break;case 1:return Q[Zt];case 3:return Z[Zt]}}(yn,nt,D);void 0!==(yn=Tt(yn,qe,nt))&&void 0!==mt&&(qe=void 0,(qe=yn===ve?se.UTF16(x,le+Bt,Yt):se.MACSTRING(x,le+Bt,Yt,yn))&&((nt=void 0===(nt=S[Mt])?S[Mt]={}:nt)[mt]=qe))}return 1===L&&X.parseUShort(),S},kn_make=function(x,L){var D,S=[],X={},Y=sn(V);for(D in x){var le=Y[D];if(void 0===le&&(le=D),Bt=parseInt(le),isNaN(Bt))throw new Error('Name table entry "'+D+'" does not exist, see nameTableNames for complete list.');X[Bt]=x[D],S.push(Bt)}for(var ke=sn(Q),qe=sn(Z),nt=[],Mt=[],Yt=0;Yt<S.length;Yt++){var Bt,mt,yn=X[Bt=S[Yt]];for(mt in yn){var Gn,en=yn[mt],on=ke[mt],Zt=de[on],Kt=Tt(Gn=1,Zt,on),Un=(void 0===(Kt=ge.MACSTRING(en,Kt))&&(Gn=0,(on=L.indexOf(mt))<0&&(on=L.length,L.push(mt)),Zt=4,Kt=ge.UTF16(en)),ln(Kt,Mt));void 0!==(nt.push(_n(Gn,Zt,on,Bt,Kt.length,Un)),Gn=qe[mt])&&(on=ln(Zt=ge.UTF16(en),Mt),nt.push(_n(3,1,Gn,Bt,Zt.length,on)))}}nt.sort(function(Qn,er){return Qn.platformID-er.platformID||Qn.encodingID-er.encodingID||Qn.languageID-er.languageID||Qn.nameID-er.nameID});for(var $n=new Ft.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:nt.length},{name:"stringOffset",type:"USHORT",value:6+12*nt.length}]),Bn=0;Bn<nt.length;Bn++)$n.fields.push({name:"record_"+Bn,type:"RECORD",value:nt[Bn]});return $n.fields.push({name:"strings",type:"LITERAL",value:Mt}),$n},Kn=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Wn_parse=function(x,L){var D={},S=new _t.Parser(x,L);D.version=S.parseUShort(),D.xAvgCharWidth=S.parseShort(),D.usWeightClass=S.parseUShort(),D.usWidthClass=S.parseUShort(),D.fsType=S.parseUShort(),D.ySubscriptXSize=S.parseShort(),D.ySubscriptYSize=S.parseShort(),D.ySubscriptXOffset=S.parseShort(),D.ySubscriptYOffset=S.parseShort(),D.ySuperscriptXSize=S.parseShort(),D.ySuperscriptYSize=S.parseShort(),D.ySuperscriptXOffset=S.parseShort(),D.ySuperscriptYOffset=S.parseShort(),D.yStrikeoutSize=S.parseShort(),D.yStrikeoutPosition=S.parseShort(),D.sFamilyClass=S.parseShort(),D.panose=[];for(var X=0;X<10;X++)D.panose[X]=S.parseByte();return D.ulUnicodeRange1=S.parseULong(),D.ulUnicodeRange2=S.parseULong(),D.ulUnicodeRange3=S.parseULong(),D.ulUnicodeRange4=S.parseULong(),D.achVendID=String.fromCharCode(S.parseByte(),S.parseByte(),S.parseByte(),S.parseByte()),D.fsSelection=S.parseUShort(),D.usFirstCharIndex=S.parseUShort(),D.usLastCharIndex=S.parseUShort(),D.sTypoAscender=S.parseShort(),D.sTypoDescender=S.parseShort(),D.sTypoLineGap=S.parseShort(),D.usWinAscent=S.parseUShort(),D.usWinDescent=S.parseUShort(),1<=D.version&&(D.ulCodePageRange1=S.parseULong(),D.ulCodePageRange2=S.parseULong()),2<=D.version&&(D.sxHeight=S.parseShort(),D.sCapHeight=S.parseShort(),D.usDefaultChar=S.parseUShort(),D.usBreakChar=S.parseUShort(),D.usMaxContent=S.parseUShort()),D},Wn_make=function(x){return new Ft.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],x)},Wn_getUnicodeRange=function(x){for(var L=0;L<Kn.length;L+=1){var D=Kn[L];if(x>=D.begin&&x<D.end)return L}return-1},Gr_parse=function(x,L){var D={},S=new _t.Parser(x,L);switch(D.version=S.parseVersion(),D.italicAngle=S.parseFixed(),D.underlinePosition=S.parseShort(),D.underlineThickness=S.parseShort(),D.isFixedPitch=S.parseULong(),D.minMemType42=S.parseULong(),D.maxMemType42=S.parseULong(),D.minMemType1=S.parseULong(),D.maxMemType1=S.parseULong(),D.version){case 1:D.names=wt.slice();break;case 2:D.numberOfGlyphs=S.parseUShort(),D.glyphNameIndex=new Array(D.numberOfGlyphs);for(var X=0;X<D.numberOfGlyphs;X++)D.glyphNameIndex[X]=S.parseUShort();D.names=[];for(var Y,le=0;le<D.numberOfGlyphs;le++)D.glyphNameIndex[le]>=wt.length&&(Y=S.parseChar(),D.names.push(S.parseString(Y)));break;case 2.5:D.numberOfGlyphs=S.parseUShort(),D.offset=new Array(D.numberOfGlyphs);for(var ke=0;ke<D.numberOfGlyphs;ke++)D.offset[ke]=S.parseChar()}return D},Gr_make=function(){return new Ft.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},Cr=new Array(9),at=(Cr[1]=function(){var x=this.offset+this.relativeOffset,L=this.parseUShort();return 1===L?{substFormat:1,coverage:this.parsePointer(lt.coverage),deltaGlyphId:this.parseUShort()}:2===L?{substFormat:2,coverage:this.parsePointer(lt.coverage),substitute:this.parseOffset16List()}:void R.assert(!1,"0x"+x.toString(16)+": lookup type 1 format must be 1 or 2.")},Cr[2]=function(){var x=this.parseUShort();return R.argument(1===x,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(lt.coverage),sequences:this.parseListOfLists()}},Cr[3]=function(){var x=this.parseUShort();return R.argument(1===x,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(lt.coverage),alternateSets:this.parseListOfLists()}},Cr[4]=function(){var x=this.parseUShort();return R.argument(1===x,"GSUB ligature table identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(lt.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:lt.uShort,lookupListIndex:lt.uShort});Cr[5]=function(){var x,L,D=this.offset+this.relativeOffset,S=this.parseUShort();return 1===S?{substFormat:S,coverage:this.parsePointer(lt.coverage),ruleSets:this.parseListOfLists(function(){var X=this.parseUShort(),Y=this.parseUShort();return{input:this.parseUShortList(X-1),lookupRecords:this.parseRecordList(Y,at)}})}:2===S?{substFormat:S,coverage:this.parsePointer(lt.coverage),classDef:this.parsePointer(lt.classDef),classSets:this.parseListOfLists(function(){var X=this.parseUShort(),Y=this.parseUShort();return{classes:this.parseUShortList(X-1),lookupRecords:this.parseRecordList(Y,at)}})}:3===S?(x=this.parseUShort(),L=this.parseUShort(),{substFormat:S,coverages:this.parseList(x,lt.pointer(lt.coverage)),lookupRecords:this.parseRecordList(L,at)}):void R.assert(!1,"0x"+D.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Cr[6]=function(){var x=this.offset+this.relativeOffset,L=this.parseUShort();return 1===L?{substFormat:1,coverage:this.parsePointer(lt.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(at)}})}:2===L?{substFormat:2,coverage:this.parsePointer(lt.coverage),backtrackClassDef:this.parsePointer(lt.classDef),inputClassDef:this.parsePointer(lt.classDef),lookaheadClassDef:this.parsePointer(lt.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(at)}})}:3===L?{substFormat:3,backtrackCoverage:this.parseList(lt.pointer(lt.coverage)),inputCoverage:this.parseList(lt.pointer(lt.coverage)),lookaheadCoverage:this.parseList(lt.pointer(lt.coverage)),lookupRecords:this.parseRecordList(at)}:void R.assert(!1,"0x"+x.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Cr[7]=function(){var x=this.parseUShort(),L=(R.argument(1===x,"GSUB Extension Substitution subtable identifier-format must be 1"),x=this.parseUShort(),new lt(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:x,extension:Cr[x].call(L)}},Cr[8]=function(){var x=this.parseUShort();return R.argument(1===x,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:x,coverage:this.parsePointer(lt.coverage),backtrackCoverage:this.parseList(lt.pointer(lt.coverage)),lookaheadCoverage:this.parseList(lt.pointer(lt.coverage)),substitutes:this.parseUShortList()}};var ft=new Array(9);ft[1]=function(x){return new Ft.Table("substitutionTable",1===x.substFormat?[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ft.Coverage(x.coverage)},{name:"deltaGlyphID",type:"USHORT",value:x.deltaGlyphId}]:[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ft.Coverage(x.coverage)}].concat(Ft.ushortList("substitute",x.substitute)))},ft[3]=function(x){return R.assert(1===x.substFormat,"Lookup type 3 substFormat must be 1."),new Ft.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ft.Coverage(x.coverage)}].concat(Ft.tableList("altSet",x.alternateSets,function(L){return new Ft.Table("alternateSetTable",Ft.ushortList("alternate",L))})))},ft[4]=function(x){return R.assert(1===x.substFormat,"Lookup type 4 substFormat must be 1."),new Ft.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ft.Coverage(x.coverage)}].concat(Ft.tableList("ligSet",x.ligatureSets,function(L){return new Ft.Table("ligatureSetTable",Ft.tableList("ligature",L,function(D){return new Ft.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:D.ligGlyph}].concat(Ft.ushortList("component",D.components,D.components.length+1)))}))})))};var Ge_parse=function(x,L){return L=(x=new lt(x,L=L||0)).parseVersion(1),R.argument(1===L||1.1===L,"Unsupported GSUB table version."),1===L?{version:L,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(Cr)}:{version:L,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(Cr),variations:x.parseFeatureVariationsList()}},Ge_make=function(x){return new Ft.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ft.ScriptList(x.scripts)},{name:"features",type:"TABLE",value:new Ft.FeatureList(x.features)},{name:"lookups",type:"TABLE",value:new Ft.LookupList(x.lookups,ft)}])},st_parse=function(x,L){for(var D=new _t.Parser(x,L),S=D.parseULong(),X=(R.argument(1===S,"Unsupported META table version."),D.parseULong(),D.parseULong(),D.parseULong()),Y={},le=0;le<X;le++){var ke=D.parseTag(),nt=D.parseULong(),qe=D.parseULong();nt=se.UTF8(x,L+nt,qe),Y[ke]=nt}return Y},st_make=function(x){var L,D=Object.keys(x).length,S="",X=16+12*D,Y=new Ft.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:X},{name:"numTags",type:"ULONG",value:D}]);for(L in x){var le=S.length;S+=x[L],Y.fields.push({name:"tag "+L,type:"TAG",value:L}),Y.fields.push({name:"offset "+L,type:"ULONG",value:X+le}),Y.fields.push({name:"length "+L,type:"ULONG",value:x[L].length})}return Y.fields.push({name:"stringPool",type:"CHARARRAY",value:S}),Y};function Vt(x){return Math.log(x)/Math.log(2)|0}function cn(x){for(;x.length%4!=0;)x.push(0);for(var L=0,D=0;D<x.length;D+=4)L+=(x[D]<<24)+(x[D+1]<<16)+(x[D+2]<<8)+x[D+3];return L%Math.pow(2,32)}function An(x,L,D,S){return new Ft.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==x?x:""},{name:"checkSum",type:"ULONG",value:void 0!==L?L:0},{name:"offset",type:"ULONG",value:void 0!==D?D:0},{name:"length",type:"ULONG",value:void 0!==S?S:0}])}function At(x){for(var L=new Ft.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),D=(L.tables=x,L.numTables=x.length,Math.pow(2,Vt(L.numTables))),S=(L.searchRange=16*D,L.entrySelector=Vt(D),L.rangeShift=16*L.numTables-L.searchRange,[]),X=[],Y=L.sizeOf()+An().sizeOf()*L.numTables;Y%4!=0;)Y+=1,X.push({name:"padding",type:"BYTE",value:0});for(var le=0;le<x.length;le+=1){var ke=x[le],qe=(R.argument(4===ke.tableName.length,"Table name"+ke.tableName+" is invalid."),ke.sizeOf()),nt=An(ke.tableName,cn(ke.encode()),Y,qe);for(S.push({name:nt.tag+" Table Record",type:"RECORD",value:nt}),X.push({name:ke.tableName+" table",type:"RECORD",value:ke}),Y+=qe,R.argument(!isNaN(Y),"Something went wrong calculating the offset.");Y%4!=0;)Y+=1,X.push({name:"padding",type:"BYTE",value:0})}return S.sort(function(Mt,Yt){return Mt.value.tag>Yt.value.tag?1:-1}),L.fields=L.fields.concat(S),L.fields=L.fields.concat(X),L}function Ae(x,L,D){for(var S=0;S<L.length;S+=1){var X=x.charToGlyphIndex(L[S]);if(0<X)return x.glyphs.get(X).getMetrics()}return D}var We_fontToTable=function(x){for(var L,D=[],S=[],X=[],Y=[],le=[],ke=[],qe=[],nt=0,Mt=0,Yt=0,Bt=0,mt=0,yn=0;yn<x.glyphs.length;yn+=1){var en=x.glyphs.get(yn),on=0|en.unicode;if(isNaN(en.advanceWidth))throw new Error("Glyph "+en.name+" ("+yn+"): advanceWidth is not a number.");if((on<L||void 0===L)&&0<on&&(L=on),nt<on&&(nt=on),(on=Wn_getUnicodeRange(on))<32)Mt|=1<<on;else if(on<64)Yt|=1<<on-32;else if(on<96)Bt|=1<<on-64;else{if(!(on<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");mt|=1<<on-96}".notdef"!==en.name&&(on=en.getMetrics(),D.push(on.xMin),S.push(on.yMin),X.push(on.xMax),Y.push(on.yMax),ke.push(on.leftSideBearing),qe.push(on.rightSideBearing),le.push(en.advanceWidth))}var Zt,Kt={xMin:Math.min.apply(null,D),yMin:Math.min.apply(null,S),xMax:Math.max.apply(null,X),yMax:Math.max.apply(null,Y),advanceWidthMax:Math.max.apply(null,le),advanceWidthAvg:function(no){for(var Jo=0,ci=0;ci<no.length;ci+=1)Jo+=no[ci];return Jo/no.length}(le),minLeftSideBearing:Math.min.apply(null,ke),maxLeftSideBearing:Math.max.apply(null,ke),minRightSideBearing:Math.min.apply(null,qe)},Un=(Kt.ascender=x.ascender,Kt.descender=x.descender,ee_make({flags:3,unitsPerEm:x.unitsPerEm,xMin:Kt.xMin,yMin:Kt.yMin,xMax:Kt.xMax,yMax:Kt.yMax,lowestRecPPEM:3,createdTimestamp:x.createdTimestamp})),Gn=oe_make({ascender:Kt.ascender,descender:Kt.descender,advanceWidthMax:Kt.advanceWidthMax,minLeftSideBearing:Kt.minLeftSideBearing,minRightSideBearing:Kt.minRightSideBearing,xMaxExtent:Kt.maxLeftSideBearing+(Kt.xMax-Kt.xMin),numberOfHMetrics:x.glyphs.length}),$n=G_make(x.glyphs.length),Bn=Wn_make({xAvgCharWidth:Math.round(Kt.advanceWidthAvg),usWeightClass:x.tables.os2.usWeightClass,usWidthClass:x.tables.os2.usWidthClass,usFirstCharIndex:L,usLastCharIndex:nt,ulUnicodeRange1:Mt,ulUnicodeRange2:Yt,ulUnicodeRange3:Bt,ulUnicodeRange4:mt,fsSelection:x.tables.os2.fsSelection,sTypoAscender:Kt.ascender,sTypoDescender:Kt.descender,sTypoLineGap:0,usWinAscent:Kt.yMax,usWinDescent:Math.abs(Kt.yMin),ulCodePageRange1:1,sxHeight:Ae(x,"xyvw",{yMax:Math.round(Kt.ascender/2)}).yMax,sCapHeight:Ae(x,"HIKLEFJMNTZBDPRAGOQSUVWXY",Kt).yMax,usDefaultChar:x.hasChar(" ")?32:0,usBreakChar:x.hasChar(" ")?32:0}),Qn=_e_make(x.glyphs),er=je_make(x.glyphs),wr=(Dr=x.getEnglishName("fontFamily"))+" "+(mr=x.getEnglishName("fontSubfamily")),Ur=(Ur=x.getEnglishName("postScriptName"))||Dr.replace(/\s/g,"")+"-"+mr,Kr={};for(Zt in x.names)Kr[Zt]=x.names[Zt];Kr.uniqueID||(Kr.uniqueID={en:x.getEnglishName("manufacturer")+":"+wr}),Kr.postScriptName||(Kr.postScriptName={en:Ur}),Kr.preferredFamily||(Kr.preferredFamily=x.names.fontFamily),Kr.preferredSubfamily||(Kr.preferredSubfamily=x.names.fontSubfamily);var Qr=kn_make(Kr,Jr=[]),Jr=0<Jr.length?O_make(Jr):void 0,fo=Gr_make(),Dr=(wr=Ln_make(x.glyphs,{version:x.getEnglishName("version"),fullName:wr,familyName:Dr,weightName:mr,postScriptName:Ur,unitsPerEm:x.unitsPerEm,fontBBox:[0,Kt.yMin,Kt.ascender,Kt.advanceWidthMax]}),x.metas&&0<Object.keys(x.metas).length?st_make(x.metas):void 0),mr=[Un,Gn,$n,Bn,Qr,er,fo,wr,Qn];Jr&&mr.push(Jr),x.tables.gsub&&mr.push(Ge_make(x.tables.gsub)),Dr&&mr.push(Dr);for(var Pr=cn((Ur=At(mr)).encode()),Nn=Ur.fields,to=!1,Nr=0;Nr<Nn.length;Nr+=1)if("head table"===Nn[Nr].name){Nn[Nr].value.checkSumAdjustment=2981146554-Pr,to=!0;break}if(to)return Ur;throw new Error("Could not find head table with checkSum to adjust.")};function Dt(x,L){for(var D=0,S=x.length-1;D<=S;){var X=D+S>>>1,Y=x[X].tag;if(Y===L)return X;Y<L?D=1+X:S=X-1}return-D-1}function Rt(x,L){for(var D=0,S=x.length-1;D<=S;){var X=D+S>>>1,Y=x[X];if(Y===L)return X;Y<L?D=1+X:S=X-1}return-D-1}function Wt(x,L){for(var D=0,S=x.length-1;D<=S;){var X,Y=D+S>>>1,le=(X=x[Y]).start;if(le===L)return X;le<L?D=1+Y:S=Y-1}if(0<D)return L>(X=x[D-1]).end?0:X}function re(x,L){this.font=x,this.tableName=L}function Re(x){re.call(this,x,"gpos")}function ye(x){re.call(this,x,"gsub")}function He(x,L,D){for(var S=x.subtables,X=0;X<S.length;X++){var Y=S[X];if(Y.substFormat===L)return Y}if(D)return S.push(D),D}function pt(x){for(var L=new ArrayBuffer(x.length),D=new Uint8Array(L),S=0;S<x.length;++S)D[S]=x[S];return L}function Jt(x,L){if(!x)throw L}function Dn(x,L,D,S,X){var Y=0<(L&S)?(Y=x.parseByte(),D+(Y=L&X?Y:-Y)):0<(L&X)?D:D+x.parseShort();return Y}function On(x,L,D){var S,X=new _t.Parser(L,D);if(x.numberOfContours=X.parseShort(),x._xMin=X.parseShort(),x._yMin=X.parseShort(),x._xMax=X.parseShort(),x._yMax=X.parseShort(),0<x.numberOfContours){for(var Y=x.endPointIndices=[],le=0;le<x.numberOfContours;le+=1)Y.push(X.parseUShort());x.instructionLength=X.parseUShort(),x.instructions=[];for(var ke=0;ke<x.instructionLength;ke+=1)x.instructions.push(X.parseByte());for(var qe=Y[Y.length-1]+1,nt=[],Mt=0;Mt<qe;Mt+=1)if(S=X.parseByte(),nt.push(S),0<(8&S))for(var Yt=X.parseByte(),Bt=0;Bt<Yt;Bt+=1)nt.push(S),Mt+=1;if(R.argument(nt.length===qe,"Bad flags."),0<Y.length){var mt,yn=[];if(0<qe){for(var en=0;en<qe;en+=1)(mt={}).onCurve=!!(1&(S=nt[en])),mt.lastPointOfContour=0<=Y.indexOf(en),yn.push(mt);for(var on=0,Zt=0;Zt<qe;Zt+=1)(mt=yn[Zt]).x=Dn(X,S=nt[Zt],on,2,16),on=mt.x;for(var Kt=0,Un=0;Un<qe;Un+=1)(mt=yn[Un]).y=Dn(X,S=nt[Un],Kt,4,32),Kt=mt.y}x.points=yn}else x.points=[]}else if(0===x.numberOfContours)x.points=[];else{x.isComposite=!0,x.points=[],x.components=[];for(var Gn=!0;Gn;){nt=X.parseUShort();var $n={glyphIndex:X.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&nt)?0<(2&nt)?($n.dx=X.parseShort(),$n.dy=X.parseShort()):$n.matchedPoints=[X.parseUShort(),X.parseUShort()]:0<(2&nt)?($n.dx=X.parseChar(),$n.dy=X.parseChar()):$n.matchedPoints=[X.parseByte(),X.parseByte()],0<(8&nt)?$n.xScale=$n.yScale=X.parseF2Dot14():0<(64&nt)?($n.xScale=X.parseF2Dot14(),$n.yScale=X.parseF2Dot14()):0<(128&nt)&&($n.xScale=X.parseF2Dot14(),$n.scale01=X.parseF2Dot14(),$n.scale10=X.parseF2Dot14(),$n.yScale=X.parseF2Dot14()),x.components.push($n),Gn=!!(32&nt)}if(256&nt){x.instructionLength=X.parseUShort(),x.instructions=[];for(var Bn=0;Bn<x.instructionLength;Bn+=1)x.instructions.push(X.parseByte())}}}function Hn(x,L){for(var D=[],S=0;S<x.length;S+=1){var X;D.push(X={x:L.xScale*(X=x[S]).x+L.scale01*X.y+L.dx,y:L.scale10*X.x+L.yScale*X.y+L.dy,onCurve:X.onCurve,lastPointOfContour:X.lastPointOfContour})}return D}function Xn(x){var L=new fe;if(x)for(var D=function(Yt){for(var Bt=[],mt=[],yn=0;yn<Yt.length;yn+=1){var en=Yt[yn];mt.push(en),en.lastPointOfContour&&(Bt.push(mt),mt=[])}return R.argument(0===mt.length,"There are still points left in the current contour."),Bt}(x),S=0;S<D.length;++S){var X,Y=D[S],ke=Y[0];(le=Y[Y.length-1]).onCurve?L.moveTo(le.x,le.y):ke.onCurve?L.moveTo(ke.x,ke.y):L.moveTo((X={x:.5*(le.x+ke.x),y:.5*(le.y+ke.y)}).x,X.y);for(var qe=0;qe<Y.length;++qe){var nt,le=ke;ke=Y[(qe+1)%Y.length],le.onCurve?L.lineTo(le.x,le.y):(nt=ke,ke.onCurve||(nt={x:.5*(le.x+ke.x),y:.5*(le.y+ke.y)}),L.quadraticCurveTo(le.x,le.y,nt.x,nt.y))}L.closePath()}return L}function Or(x,L){if(L.isComposite)for(var D=0;D<L.components.length;D+=1){var X=x.get((S=L.components[D]).glyphIndex);if(X.getPath(),X.points){var Y=void 0;if(void 0===S.matchedPoints)Y=Hn(X.points,S);else{if(S.matchedPoints[0]>L.points.length-1||S.matchedPoints[1]>X.points.length-1)throw Error("Matched points out of range in "+L.name);var S,le=L.points[S.matchedPoints[0]],ke=Hn([ke=X.points[S.matchedPoints[1]]],S={xScale:S.xScale,scale01:S.scale01,scale10:S.scale10,yScale:S.yScale,dx:0,dy:0})[0];S.dx=le.x-ke.x,S.dy=le.y-ke.y,Y=Hn(X.points,S)}L.points=L.points.concat(Y)}}return Xn(L.points)}(Re.prototype=re.prototype={searchTag:Dt,binSearch:Rt,getTable:function(x){var L=this.font.tables[this.tableName];return!L&&x?this.font.tables[this.tableName]=this.createDefaultTable():L},getScriptNames:function(){var x=this.getTable();return x?x.scripts.map(function(L){return L.tag}):[]},getDefaultScriptName:function(){var x=this.getTable();if(x){for(var L=!1,D=0;D<x.scripts.length;D++){var S=x.scripts[D].tag;if("DFLT"===S)return S;"latn"===S&&(L=!0)}return L?"latn":void 0}},getScriptTable:function(x,L){var D,S=this.getTable(L);if(S)return D=S.scripts,0<=(S=Dt(S.scripts,x=x||"DFLT"))?D[S].script:L?(D.splice(-1-S,0,L={tag:x,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),L.script):void 0},getLangSysTable:function(X,L,D){var S;if(X=this.getScriptTable(X,D))return L&&"dflt"!==L&&"DFLT"!==L?0<=(S=Dt(X.langSysRecords,L))?X.langSysRecords[S].langSys:D?(X.langSysRecords.splice(-1-S,0,D={tag:L,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),D.langSys):void 0:X.defaultLangSys},getFeatureTable:function(x,L,D,S){if(x=this.getLangSysTable(x,L,S)){for(var X,Y=x.featureIndexes,le=this.font.tables[this.tableName].features,ke=0;ke<Y.length;ke++)if((X=le[Y[ke]]).tag===D)return X.feature;if(S)return R.assert(0===(L=le.length)||D>=le[L-1].tag,"Features must be added in alphabetical order."),le.push(X={tag:D,feature:{params:0,lookupListIndexes:[]}}),Y.push(L),X.feature}},getLookupTables:function(Y,L,D,S,X){var le=[];if(Y=this.getFeatureTable(Y,L,D,X)){for(var ke,qe=Y.lookupListIndexes,nt=this.font.tables[this.tableName].lookups,Mt=0;Mt<qe.length;Mt++)(ke=nt[qe[Mt]]).lookupType===S&&le.push(ke);if(0===le.length&&X)return L=nt.length,nt.push(ke={lookupType:S,lookupFlag:0,subtables:[],markFilteringSet:void 0}),qe.push(L),[ke]}return le},getGlyphClass:function(x,L){switch(x.format){case 1:return x.startGlyph<=L&&L<x.startGlyph+x.classes.length?x.classes[L-x.startGlyph]:0;case 2:var D=Wt(x.ranges,L);return D?D.classId:0}},getCoverageIndex:function(x,L){switch(x.format){case 1:var D=Rt(x.glyphs,L);return 0<=D?D:-1;case 2:return(D=Wt(x.ranges,L))?D.index+L-D.start:-1}},expandCoverage:function(x){if(1===x.format)return x.glyphs;for(var L=[],D=x.ranges,S=0;S<D.length;S++)for(var X=D[S],le=X.end,ke=X.start;ke<=le;ke++)L.push(ke);return L}}).init=function(){var x=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(x)},Re.prototype.getKerningValue=function(x,L,D){for(var S=0;S<x.length;S++)for(var X=x[S].subtables,Y=0;Y<X.length;Y++){var le=X[Y],ke=this.getCoverageIndex(le.coverage,L);if(!(ke<0))switch(le.posFormat){case 1:for(var qe=le.pairSets[ke],nt=0;nt<qe.length;nt++){var Mt=qe[nt];if(Mt.secondGlyph===D)return Mt.value1&&Mt.value1.xAdvance||0}break;case 2:var Bt=this.getGlyphClass(le.classDef1,L),Yt=this.getGlyphClass(le.classDef2,D);return(Bt=le.classRecords[Bt][Yt]).value1&&Bt.value1.xAdvance||0}}return 0},Re.prototype.getKerningTables=function(x,L){if(this.font.tables.gpos)return this.getLookupTables(x,L,"kern",2)},(ye.prototype=re.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},ye.prototype.getSingle=function(x,L,D){for(var S=[],X=this.getLookupTables(L,D,x,1),Y=0;Y<X.length;Y++)for(var le=X[Y].subtables,ke=0;ke<le.length;ke++){var qe=le[ke],nt=this.expandCoverage(qe.coverage),Mt=void 0;if(1===qe.substFormat){var Yt=qe.deltaGlyphId;for(Mt=0;Mt<nt.length;Mt++){var Bt=nt[Mt];S.push({sub:Bt,by:Bt+Yt})}}else{var mt=qe.substitute;for(Mt=0;Mt<nt.length;Mt++)S.push({sub:nt[Mt],by:mt[Mt]})}}return S},ye.prototype.getAlternates=function(x,L,D){for(var S=[],X=this.getLookupTables(L,D,x,3),Y=0;Y<X.length;Y++)for(var le=X[Y].subtables,ke=0;ke<le.length;ke++)for(var qe=le[ke],nt=this.expandCoverage(qe.coverage),Mt=qe.alternateSets,Yt=0;Yt<nt.length;Yt++)S.push({sub:nt[Yt],by:Mt[Yt]});return S},ye.prototype.getLigatures=function(x,L,D){for(var S=[],X=this.getLookupTables(L,D,x,4),Y=0;Y<X.length;Y++)for(var le=X[Y].subtables,ke=0;ke<le.length;ke++)for(var qe=le[ke],nt=this.expandCoverage(qe.coverage),Mt=qe.ligatureSets,Yt=0;Yt<nt.length;Yt++)for(var Bt=nt[Yt],mt=Mt[Yt],yn=0;yn<mt.length;yn++){var en=mt[yn];S.push({sub:[Bt].concat(en.components),by:en.ligGlyph})}return S},ye.prototype.addSingle=function(x,L,D,S){D=He(this.getLookupTables(D,S,x,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),R.assert(1===D.coverage.format,"Ligature: unable to modify coverage table format "+D.coverage.format),(x=this.binSearch(D.coverage.glyphs,S=L.sub))<0&&(D.coverage.glyphs.splice(x=-1-x,0,S),D.substitute.splice(x,0,0)),D.substitute[x]=L.by},ye.prototype.addAlternate=function(x,L,D,S){D=He(this.getLookupTables(D,S,x,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),R.assert(1===D.coverage.format,"Ligature: unable to modify coverage table format "+D.coverage.format),(x=this.binSearch(D.coverage.glyphs,S=L.sub))<0&&(D.coverage.glyphs.splice(x=-1-x,0,S),D.alternateSets.splice(x,0,0)),D.alternateSets[x]=L.by},ye.prototype.addLigature=function(Y,qe,ke,X){(X=(ke=this.getLookupTables(ke,X,Y,4,!0)[0]).subtables[0])||(ke.subtables[0]=X={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),R.assert(1===X.coverage.format,"Ligature: unable to modify coverage table format "+X.coverage.format),Y=qe.sub[0];var le=qe.sub.slice(1);if(ke={ligGlyph:qe.by,components:le},0<=(qe=this.binSearch(X.coverage.glyphs,Y))){for(var nt=X.ligatureSets[qe],Mt=0;Mt<nt.length;Mt++)if(function(Yt,Bt){var mt=Yt.length;if(mt===Bt.length){for(var yn=0;yn<mt;yn++)if(Yt[yn]!==Bt[yn])return;return 1}}(nt[Mt].components,le))return;nt.push(ke)}else X.coverage.glyphs.splice(qe=-1-qe,0,Y),X.ligatureSets.splice(qe,0,[ke])},ye.prototype.getFeature=function(x,L,D){if(/ss\d\d/.test(x))return this.getSingle(x,L,D);switch(x){case"aalt":case"salt":return this.getSingle(x,L,D).concat(this.getAlternates(x,L,D));case"dlig":case"liga":case"rlig":return this.getLigatures(x,L,D)}},ye.prototype.add=function(x,L,D,S){if(/ss\d\d/.test(x))return this.addSingle(x,L,D,S);switch(x){case"aalt":case"salt":return"number"==typeof L.by?this.addSingle(x,L,D,S):this.addAlternate(x,L,D,S);case"dlig":case"liga":case"rlig":return this.addLigature(x,L,D,S)}};var Tr={getPath:Xn,parse:function(x,L,D,S){for(var X=new yt.GlyphSet(S),Y=0;Y<D.length-1;Y+=1){var le=D[Y];X.push(Y,le!==D[Y+1]?yt.ttfGlyphLoader(S,Y,On,x,L+le,Or):yt.glyphLoader(S,Y))}return X}};function kr(x){this.font=x,this.getCommands=function(L){return Tr.getPath(L).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Uo(x){return x}function Fr(x){return Math.sign(x)*Math.round(Math.abs(x))}function hr(x){return Math.sign(x)*Math.round(Math.abs(2*x))/2}function Tn(x){return Math.sign(x)*(Math.round(Math.abs(x)+.5)-.5)}function Fn(x){return Math.sign(x)*Math.ceil(Math.abs(x))}function dr(x){return Math.sign(x)*Math.floor(Math.abs(x))}function Yr(x){var L=this.srPeriod,D=this.srPhase,S=1;return x<0&&(x=-x,S=-1),x+=this.srThreshold-D,x=Math.trunc(x/L)*L,(x+=D)<0?D*S:x*S}var _r={x:1,y:0,axis:"x",distance:function(x,L,D,S){return(D?x.xo:x.x)-(S?L.xo:L.x)},interpolate:function(x,L,D,S){var X,Y,le,ke,qe,nt,Mt;if(!S||S===this)return X=x.xo-L.xo,Y=x.xo-D.xo,qe=L.x-L.xo,nt=D.x-D.xo,0===(Mt=(le=Math.abs(X))+(ke=Math.abs(Y)))?void(x.x=x.xo+(qe+nt)/2):void(x.x=x.xo+(qe*ke+nt*le)/Mt);X=S.distance(x,L,!0,!0),Y=S.distance(x,D,!0,!0),qe=S.distance(L,L,!1,!0),nt=S.distance(D,D,!1,!0),0===(Mt=(le=Math.abs(X))+(ke=Math.abs(Y)))?_r.setRelative(x,x,(qe+nt)/2,S,!0):_r.setRelative(x,x,(qe*ke+nt*le)/Mt,S,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(x,L,D,S,X){var Y,le;S&&S!==this?(Y=X?L.xo:L.x,le=X?L.yo:L.y,x.x=(Y+=D*S.x)+(x.y-(le+=D*S.y))/S.normalSlope):x.x=(X?L.xo:L.x)+D},slope:0,touch:function(x){x.xTouched=!0},touched:function(x){return x.xTouched},untouch:function(x){x.xTouched=!1}},Rr={x:0,y:1,axis:"y",distance:function(x,L,D,S){return(D?x.yo:x.y)-(S?L.yo:L.y)},interpolate:function(x,L,D,S){var X,Y,le,ke,qe,nt,Mt;if(!S||S===this)return X=x.yo-L.yo,Y=x.yo-D.yo,qe=L.y-L.yo,nt=D.y-D.yo,0===(Mt=(le=Math.abs(X))+(ke=Math.abs(Y)))?void(x.y=x.yo+(qe+nt)/2):void(x.y=x.yo+(qe*ke+nt*le)/Mt);X=S.distance(x,L,!0,!0),Y=S.distance(x,D,!0,!0),qe=S.distance(L,L,!1,!0),nt=S.distance(D,D,!1,!0),0===(Mt=(le=Math.abs(X))+(ke=Math.abs(Y)))?Rr.setRelative(x,x,(qe+nt)/2,S,!0):Rr.setRelative(x,x,(qe*ke+nt*le)/Mt,S,!0)},normalSlope:0,setRelative:function(x,L,D,S,X){var Y,le;S&&S!==this?(Y=X?L.xo:L.x,le=X?L.yo:L.y,x.y=(le+=D*S.y)+S.normalSlope*(x.x-(Y+=D*S.x))):x.y=(X?L.yo:L.y)+D},slope:Number.POSITIVE_INFINITY,touch:function(x){x.yTouched=!0},touched:function(x){return x.yTouched},untouch:function(x){x.yTouched=!1}};function uo(x,L){this.x=x,this.y=L,this.axis=void 0,this.slope=L/x,this.normalSlope=-x/L,Object.freeze(this)}function lr(x,L){var D=Math.sqrt(x*x+L*L);return L/=D,1==(x/=D)&&0===L?_r:0===x&&1===L?Rr:new uo(x,L)}function gr(x,L,D,S){this.x=this.xo=Math.round(64*x)/64,this.y=this.yo=Math.round(64*L)/64,this.lastPointOfContour=D,this.onCurve=S,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(_r),Object.freeze(Rr),uo.prototype.distance=function(x,L,D,S){return this.x*_r.distance(x,L,D,S)+this.y*Rr.distance(x,L,D,S)},uo.prototype.interpolate=function(x,X,Y,S){var le=S.distance(x,X,!0,!0),ke=S.distance(x,Y,!0,!0),qe=(X=S.distance(X,X,!1,!0),Y=S.distance(Y,Y,!1,!0),(le=Math.abs(le))+(ke=Math.abs(ke)));this.setRelative(x,x,0===qe?(X+Y)/2:(X*ke+Y*le)/qe,S,!0)},uo.prototype.setRelative=function(x,Y,qe,nt,ke){var le=ke?Y.xo:Y.x,Mt=(ke=ke?Y.yo:Y.y,Y=le+qe*(nt=nt||this).x,le=ke+qe*nt.y,ke=nt.normalSlope,x.y);x.x=((qe=this.slope)*(nt=x.x)-ke*Y+le-Mt)/(qe-ke),x.y=qe*(x.x-nt)+Mt},uo.prototype.touch=function(x){x.xTouched=!0,x.yTouched=!0},gr.prototype.nextTouched=function(x){for(var L=this.nextPointOnContour;!x.touched(L)&&L!==this;)L=L.nextPointOnContour;return L},gr.prototype.prevTouched=function(x){for(var L=this.prevPointOnContour;!x.touched(L)&&L!==this;)L=L.prevPointOnContour;return L};var $r=Object.freeze(new gr(0,0)),qn={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function ro(x,L){switch(this.env=x,this.stack=[],this.prog=L,x){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=_r,this.round=Fr}}function zo(x){for(var L=x.tZone=new Array(x.gZone.length),D=0;D<L.length;D++)L[D]=new gr(0,0)}function Eo(x,L){var D,S=x.prog,X=x.ip,Y=1;do{if(88===(D=S[++X]))Y++;else if(89===D)Y--;else if(64===D)X+=S[X+1]+1;else if(65===D)X+=2*S[X+1]+1;else if(176<=D&&D<=183)X+=D-176+1;else if(184<=D&&D<=191)X+=2*(D-184+1);else if(L&&1===Y&&27===D)break}while(0<Y);x.ip=X}function Sr(x,L){f.DEBUG&&console.log(L.step,"SVTCA["+x.axis+"]"),L.fv=L.pv=L.dpv=x}function So(x,L){f.DEBUG&&console.log(L.step,"SPVTCA["+x.axis+"]"),L.pv=L.dpv=x}function To(x,L){f.DEBUG&&console.log(L.step,"SFVTCA["+x.axis+"]"),L.fv=x}function ho(x,L){var D,S=(X=L.stack).pop(),X=X.pop(),Y=L.z2[S],le=L.z1[X];f.DEBUG&&console.log("SPVTL["+x+"]",S,X),S=x?(D=Y.y-le.y,le.x-Y.x):(D=le.x-Y.x,le.y-Y.y),L.pv=L.dpv=lr(D,S)}function po(x,L){var D,S=(X=L.stack).pop(),X=X.pop(),Y=L.z2[S],le=L.z1[X];f.DEBUG&&console.log("SFVTL["+x+"]",S,X),S=x?(D=Y.y-le.y,le.x-Y.x):(D=le.x-Y.x,le.y-Y.y),L.fv=lr(D,S)}function qo(x){f.DEBUG&&console.log(x.step,"POP[]"),x.stack.pop()}function Po(x,L){var D=L.stack.pop(),S=L.z0[D],X=L.fv,Y=L.pv,le=(f.DEBUG&&console.log(L.step,"MDAP["+x+"]",D),Y.distance(S,$r));x&&(le=L.round(le)),X.setRelative(S,$r,le,Y),X.touch(S),L.rp0=L.rp1=D}function mo(x,L){var D,S,X,Y=L.z2,le=Y.length-2;f.DEBUG&&console.log(L.step,"IUP["+x.axis+"]");for(var ke=0;ke<le;ke++)x.touched(D=Y[ke])||(S=D.prevTouched(x))!==D&&(S===(X=D.nextTouched(x))&&x.setRelative(D,D,x.distance(S,S,!1,!0),x,!0),x.interpolate(D,S,X,x))}function ko(x,L){for(var D=L.stack,X=(x?L.z0:L.z1)[x?L.rp1:L.rp2],Y=L.fv,le=L.pv,ke=L.loop,qe=L.z2;ke--;){var nt=D.pop(),Mt=qe[nt],Yt=le.distance(X,X,!1,!0);Y.setRelative(Mt,Mt,Yt,le),Y.touch(Mt),f.DEBUG&&console.log(L.step,(1<L.loop?"loop "+(L.loop-ke)+": ":"")+"SHP["+(x?"rp1":"rp2")+"]",nt)}L.loop=1}function Yn(x,L){for(var S=(x?L.z0:L.z1)[x?L.rp1:L.rp2],X=L.fv,Y=L.pv,le=L.stack.pop(),ke=L.z2[L.contours[le]],qe=ke,nt=(f.DEBUG&&console.log(L.step,"SHC["+x+"]",le),Y.distance(S,S,!1,!0));qe!==S&&X.setRelative(qe,qe,nt,Y),(qe=qe.nextPointOnContour)!==ke;);}function Bo(x,L){var D,S,X=(x?L.z0:L.z1)[X=x?L.rp1:L.rp2],Y=L.fv,le=L.pv,ke=(ke=L.stack).pop();switch(f.DEBUG&&console.log(L.step,"SHZ["+x+"]",ke),ke){case 0:D=L.tZone;break;case 1:D=L.gZone;break;default:throw new Error("Invalid zone")}for(var qe=le.distance(X,X,!1,!0),nt=D.length-2,Mt=0;Mt<nt;Mt++)Y.setRelative(S=D[Mt],S,qe,le)}function oo(x,L){var D=(S=L.stack).pop()/64,S=S.pop(),X=L.z1[S],le=L.fv;le.setRelative(X,L.z0[L.rp0],D,L.pv),le.touch(X),f.DEBUG&&console.log(L.step,"MSIRP["+x+"]",D,S),L.rp1=L.rp0,L.rp2=S,x&&(L.rp0=S)}function co(x,L){var ke=(D=L.stack).pop(),D=D.pop(),S=L.z0[D],X=L.fv,Y=L.pv,le=L.cvt[ke];f.DEBUG&&console.log(L.step,"MIAP["+x+"]",ke,"(",le,")",D),ke=Y.distance(S,$r),x&&(Math.abs(ke-le)<L.cvCutIn&&(ke=le),ke=L.round(ke)),X.setRelative(S,$r,ke,Y),0===L.zp0&&(S.xo=S.x,S.yo=S.y),X.touch(S),L.rp0=L.rp1=D}function Ro(x,L){var D=L.stack,S=D.pop(),X=L.z2[S];f.DEBUG&&console.log(L.step,"GC["+x+"]",S),D.push(64*L.dpv.distance(X,$r,x,!1))}function No(x,L){var D=(S=L.stack).pop(),S=S.pop(),Y=L.dpv.distance(Y=L.z0[S],L.z1[D],x,x);f.DEBUG&&console.log(L.step,"MD["+x+"]",D,S,"->",Y),L.stack.push(Math.round(64*Y))}function yr(x,L){var D=L.stack,S=D.pop(),X=L.fv,Y=L.pv,le=L.ppem,ke=L.deltaBase+16*(x-1),qe=L.deltaShift,nt=L.z0;f.DEBUG&&console.log(L.step,"DELTAP["+x+"]",S,D);for(var Mt=0;Mt<S;Mt++){var Yt=D.pop(),Bt=D.pop();ke+((240&Bt)>>4)===le&&(0<=(Bt=(15&Bt)-8)&&Bt++,f.DEBUG&&console.log(L.step,"DELTAPFIX",Yt,"by",Bt*qe),X.setRelative(Yt=nt[Yt],Yt,Bt*qe,Y))}}function Yo(x,L){var D=L.stack,S=D.pop();f.DEBUG&&console.log(L.step,"ROUND[]"),D.push(64*L.round(S/64))}function Vr(x,L){var D=L.stack,S=D.pop(),X=L.ppem,Y=L.deltaBase+16*(x-1),le=L.deltaShift;f.DEBUG&&console.log(L.step,"DELTAC["+x+"]",S,D);for(var ke=0;ke<S;ke++){var qe=D.pop(),nt=D.pop();Y+((240&nt)>>4)===X&&(0<=(nt=(15&nt)-8)&&nt++,nt*=le,f.DEBUG&&console.log(L.step,"DELTACFIX",qe,"by",nt),L.cvt[qe]+=nt)}}function Hr(x,L){var D,S=(X=L.stack).pop(),X=X.pop(),Y=L.z2[S],le=L.z1[X];f.DEBUG&&console.log(L.step,"SDPVTL["+x+"]",S,X),S=x?(D=Y.y-le.y,le.x-Y.x):(D=le.x-Y.x,le.y-Y.y),L.dpv=lr(D,S)}function xo(x,L){var D=L.stack,S=L.prog,X=L.ip;f.DEBUG&&console.log(L.step,"PUSHB["+x+"]");for(var Y=0;Y<x;Y++)D.push(S[++X]);L.ip=X}function Xr(x,L){var D=L.ip,S=L.prog,X=L.stack;f.DEBUG&&console.log(L.ip,"PUSHW["+x+"]");for(var Y=0;Y<x;Y++){var le=S[++D]<<8|S[++D];32768&le&&(le=-(1+(65535^le))),X.push(le)}L.ip=D}function Rn(x,L,D,S,X,Y){var le,ke,Mt,nt=Y.stack,qe=x&&nt.pop(),Yt=(nt=nt.pop(),Y.z1[nt]),Bt=Y.minDis,mt=Y.fv,yn=Y.dpv,en=le=yn.distance(Yt,Mt=Y.z0[Mt=Y.rp0],!0,!0),on=0<=en?1:-1;en=Math.abs(en),x&&(ke=Y.cvt[qe],S&&Math.abs(en-ke)<Y.cvCutIn&&(en=ke)),D&&en<Bt&&(en=Bt),S&&(en=Y.round(en)),mt.setRelative(Yt,Mt,on*en,yn),mt.touch(Yt),f.DEBUG&&console.log(Y.step,(x?"MIRP[":"MDRP[")+(L?"M":"m")+(D?">":"_")+(S?"R":"_")+(0===X?"Gr":1===X?"Bl":2===X?"Wh":"")+"]",x?qe+"("+Y.cvt[qe]+","+ke+")":"",nt,"(d =",le,"->",on*en,")"),Y.rp1=Y.rp0,Y.rp2=nt,L&&(Y.rp0=nt)}kr.prototype.exec=function(x,L){if("number"!=typeof L)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var D=this.font,S=this._prepState;if(!S||S.ppem!==L){var X=this._fpgmState;if(!X){ro.prototype=qn,(X=this._fpgmState=new ro("fpgm",D.tables.fpgm)).funcs=[],X.font=D,f.DEBUG&&(console.log("---EXEC FPGM---"),X.step=-1);try{Go(X)}catch(nt){return console.log("Hinting error in FPGM:"+nt),void(this._errorState=3)}}ro.prototype=X,(S=this._prepState=new ro("prep",D.tables.prep)).ppem=L;var Y=D.tables.cvt;if(Y)for(var le=S.cvt=new Array(Y.length),ke=L/D.unitsPerEm,qe=0;qe<Y.length;qe++)le[qe]=Y[qe]*ke;else S.cvt=[];f.DEBUG&&(console.log("---EXEC PREP---"),S.step=-1);try{Go(S)}catch(nt){this._errorState<2&&console.log("Hinting error in PREP:"+nt),this._errorState=2}}if(!(1<this._errorState))try{return Do(x,S)}catch(nt){this._errorState<1&&(console.log("Hinting error:"+nt),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Do=function(x,L){var D=L.ppem/L.font.unitsPerEm,S=D,X=x.components;if(ro.prototype=L,X){for(var Y=L.font,le=[],ke=[],qe=0;qe<X.length;qe++){var nt=X[qe],Mt=Y.glyphs.get(nt.glyphIndex),Yt=new ro("glyf",Mt.instructions);f.DEBUG&&(console.log("---EXEC COMP "+qe+"---"),Yt.step=-1),Xo(Mt,Yt,D,S);for(var Bt=Math.round(nt.dx*D),mt=Math.round(nt.dy*S),yn=Yt.gZone,en=Yt.contours,on=0;on<yn.length;on++){var Zt=yn[on];Zt.xTouched=Zt.yTouched=!1,Zt.xo=Zt.x=Zt.x+Bt,Zt.yo=Zt.y=Zt.y+mt}var Kt=le.length;le.push.apply(le,yn);for(var Un=0;Un<en.length;Un++)ke.push(en[Un]+Kt)}x.instructions&&!Yt.inhibitGridFit&&((Yt=new ro("glyf",x.instructions)).gZone=Yt.z0=Yt.z1=Yt.z2=le,Yt.contours=ke,le.push(new gr(0,0),new gr(Math.round(x.advanceWidth*D),0)),f.DEBUG&&(console.log("---EXEC COMPOSITE---"),Yt.step=-1),Go(Yt),le.length-=2)}else Yt=new ro("glyf",x.instructions),f.DEBUG&&(console.log("---EXEC GLYPH---"),Yt.step=-1),Xo(x,Yt,D,S),le=Yt.gZone;return le},Xo=function(x,L,D,S){for(var X,Y,ke=x.points||[],qe=ke.length,nt=L.gZone=L.z0=L.z1=L.z2=[],Mt=L.contours=[],Yt=0;Yt<qe;Yt++)nt[Yt]=new gr((X=ke[Yt]).x*D,X.y*S,X.lastPointOfContour,X.onCurve);for(var Bt=0;Bt<qe;Bt++)X=nt[Bt],Y||(Y=X,Mt.push(Bt)),X.lastPointOfContour?((X.nextPointOnContour=Y).prevPointOnContour=X,Y=void 0):(X.nextPointOnContour=nt[Bt+1]).prevPointOnContour=X;if(!L.inhibitGridFit){if(f.DEBUG){console.log("PROCESSING GLYPH",L.stack);for(var mt=0;mt<qe;mt++)console.log(mt,nt[mt].x,nt[mt].y)}if(nt.push(new gr(0,0),new gr(Math.round(x.advanceWidth*D),0)),Go(L),nt.length-=2,f.DEBUG){console.log("FINISHED GLYPH",L.stack);for(var yn=0;yn<qe;yn++)console.log(yn,nt[yn].x,nt[yn].y)}}},Go=function(x){var L=x.prog;if(L){var D,S=L.length;for(x.ip=0;x.ip<S;x.ip++){if(f.DEBUG&&x.step++,!(D=li[L[x.ip]]))throw new Error("unknown instruction: 0x"+Number(L[x.ip]).toString(16));D(x)}}},li=[Sr.bind(void 0,Rr),Sr.bind(void 0,_r),So.bind(void 0,Rr),So.bind(void 0,_r),To.bind(void 0,Rr),To.bind(void 0,_r),ho.bind(void 0,0),ho.bind(void 0,1),po.bind(void 0,0),po.bind(void 0,1),function(x){var L=(D=x.stack).pop(),D=D.pop();f.DEBUG&&console.log(x.step,"SPVFS[]",L,D),x.pv=x.dpv=lr(D,L)},function(x){var L=(D=x.stack).pop(),D=D.pop();f.DEBUG&&console.log(x.step,"SPVFS[]",L,D),x.fv=lr(D,L)},function(x){var L=x.stack,D=x.pv;f.DEBUG&&console.log(x.step,"GPV[]"),L.push(16384*D.x),L.push(16384*D.y)},function(x){var L=x.stack,D=x.fv;f.DEBUG&&console.log(x.step,"GFV[]"),L.push(16384*D.x),L.push(16384*D.y)},function(x){x.fv=x.pv,f.DEBUG&&console.log(x.step,"SFVTPV[]")},function(L){var D=(le=L.stack).pop(),S=le.pop(),X=le.pop(),Y=le.pop(),le=le.pop(),ke=(qe=L.z0)[D],qe=qe[S],nt=(Mt=L.z1)[X],Mt=Mt[Y],Yt=(L=L.z2[le],f.DEBUG&&console.log("ISECT[], ",D,S,X,Y,le),D=ke.x,S=ke.y,ke=nt.y,D*(Y=qe.y)-S*(X=qe.x)),Bt=(le=nt.x)*(nt=Mt.y)-ke*(qe=Mt.x);L.x=(Yt*(le-qe)-Bt*(D-X))/(Mt=(D-X)*(ke-nt)-(S-Y)*(le-qe)),L.y=(Yt*(ke-nt)-Bt*(S-Y))/Mt},function(x){x.rp0=x.stack.pop(),f.DEBUG&&console.log(x.step,"SRP0[]",x.rp0)},function(x){x.rp1=x.stack.pop(),f.DEBUG&&console.log(x.step,"SRP1[]",x.rp1)},function(x){x.rp2=x.stack.pop(),f.DEBUG&&console.log(x.step,"SRP2[]",x.rp2)},function(x){var L=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"SZP0[]",L),x.zp0=L){case 0:x.tZone||zo(x),x.z0=x.tZone;break;case 1:x.z0=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var L=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"SZP1[]",L),x.zp1=L){case 0:x.tZone||zo(x),x.z1=x.tZone;break;case 1:x.z1=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var L=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"SZP2[]",L),x.zp2=L){case 0:x.tZone||zo(x),x.z2=x.tZone;break;case 1:x.z2=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){var L=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"SZPS[]",L),x.zp0=x.zp1=x.zp2=L){case 0:x.tZone||zo(x),x.z0=x.z1=x.z2=x.tZone;break;case 1:x.z0=x.z1=x.z2=x.gZone;break;default:throw new Error("Invalid zone pointer")}},function(x){x.loop=x.stack.pop(),f.DEBUG&&console.log(x.step,"SLOOP[]",x.loop)},function(x){f.DEBUG&&console.log(x.step,"RTG[]"),x.round=Fr},function(x){f.DEBUG&&console.log(x.step,"RTHG[]"),x.round=Tn},function(x){var L=x.stack.pop();f.DEBUG&&console.log(x.step,"SMD[]",L),x.minDis=L/64},function(x){f.DEBUG&&console.log(x.step,"ELSE[]"),Eo(x,!1)},function(x){var L=x.stack.pop();f.DEBUG&&console.log(x.step,"JMPR[]",L),x.ip+=L-1},function(x){var L=x.stack.pop();f.DEBUG&&console.log(x.step,"SCVTCI[]",L),x.cvCutIn=L/64},void 0,void 0,function(x){var L=x.stack;f.DEBUG&&console.log(x.step,"DUP[]"),L.push(L[L.length-1])},qo,function(x){f.DEBUG&&console.log(x.step,"CLEAR[]"),x.stack.length=0},function(x){var L=x.stack,D=L.pop(),S=L.pop();f.DEBUG&&console.log(x.step,"SWAP[]"),L.push(D),L.push(S)},function(x){var L=x.stack;f.DEBUG&&console.log(x.step,"DEPTH[]"),L.push(L.length)},function(x){var L=x.stack,D=L.pop();f.DEBUG&&console.log(x.step,"CINDEX[]",D),L.push(L[L.length-D])},function(x){var L=x.stack,D=L.pop();f.DEBUG&&console.log(x.step,"MINDEX[]",D),L.push(L.splice(L.length-D,1)[0])},void 0,void 0,void 0,function(x){var L=(S=x.stack).pop(),D=S.pop(),S=(f.DEBUG&&console.log(x.step,"LOOPCALL[]",L,D),x.ip),X=x.prog;x.prog=x.funcs[L];for(var Y=0;Y<D;Y++)Go(x),f.DEBUG&&console.log(++x.step,Y+1<D?"next loopcall":"done loopcall",Y);x.ip=S,x.prog=X},function(x){var L=x.stack.pop(),D=(f.DEBUG&&console.log(x.step,"CALL[]",L),x.ip),S=x.prog;x.prog=x.funcs[L],Go(x),x.ip=D,x.prog=S,f.DEBUG&&console.log(++x.step,"returning from",L)},function(x){if("fpgm"!==x.env)throw new Error("FDEF not allowed here");var L=x.prog,D=x.ip,S=(S=x.stack).pop(),X=D;for(f.DEBUG&&console.log(x.step,"FDEF[]",S);45!==L[++D];);x.ip=D,x.funcs[S]=L.slice(X+1,D)},void 0,Po.bind(void 0,0),Po.bind(void 0,1),mo.bind(void 0,Rr),mo.bind(void 0,_r),ko.bind(void 0,0),ko.bind(void 0,1),Yn.bind(void 0,0),Yn.bind(void 0,1),Bo.bind(void 0,0),Bo.bind(void 0,1),function(x){for(var L=x.stack,D=x.loop,S=x.fv,X=L.pop()/64,Y=x.z2;D--;){var le=L.pop(),ke=Y[le];f.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-D)+": ":"")+"SHPIX[]",le,X),S.setRelative(ke,ke,X),S.touch(ke)}x.loop=1},function(x){for(var L=x.stack,D=x.rp1,S=x.rp2,X=x.loop,Y=x.z0[D],le=x.z1[S],ke=x.fv,qe=x.dpv,nt=x.z2;X--;){var Mt=L.pop(),Yt=nt[Mt];f.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-X)+": ":"")+"IP[]",Mt,D,"<->",S),ke.interpolate(Yt,Y,le,qe),ke.touch(Yt)}x.loop=1},oo.bind(void 0,0),oo.bind(void 0,1),function(x){for(var L=x.stack,S=x.z0[x.rp0],X=x.loop,Y=x.fv,le=x.pv,ke=x.z1;X--;){var qe=L.pop(),nt=ke[qe];f.DEBUG&&console.log(x.step,(1<x.loop?"loop "+(x.loop-X)+": ":"")+"ALIGNRP[]",qe),Y.setRelative(nt,S,0,le),Y.touch(nt)}x.loop=1},function(x){f.DEBUG&&console.log(x.step,"RTDG[]"),x.round=hr},co.bind(void 0,0),co.bind(void 0,1),function(x){var L=x.prog,D=x.ip,S=x.stack,X=L[++D];f.DEBUG&&console.log(x.step,"NPUSHB[]",X);for(var Y=0;Y<X;Y++)S.push(L[++D]);x.ip=D},function(x){var L=x.ip,D=x.prog,S=x.stack,X=D[++L];f.DEBUG&&console.log(x.step,"NPUSHW[]",X);for(var Y=0;Y<X;Y++){var le=D[++L]<<8|D[++L];32768&le&&(le=-(1+(65535^le))),S.push(le)}x.ip=L},function(x){var S=x.stack,L=(L=x.store)||(x.store=[]),D=S.pop();S=S.pop(),f.DEBUG&&console.log(x.step,"WS",D,S),L[S]=D},function(X){var L=X.stack,D=X.store,S=L.pop();f.DEBUG&&console.log(X.step,"RS",S),L.push(X=D&&D[S]||0)},function(x){var L=(D=x.stack).pop(),D=D.pop();f.DEBUG&&console.log(x.step,"WCVTP",L,D),x.cvt[D]=L/64},function(x){var L=x.stack,D=L.pop();f.DEBUG&&console.log(x.step,"RCVT",D),L.push(64*x.cvt[D])},Ro.bind(void 0,0),Ro.bind(void 0,1),void 0,No.bind(void 0,0),No.bind(void 0,1),function(x){f.DEBUG&&console.log(x.step,"MPPEM[]"),x.stack.push(x.ppem)},void 0,function(x){f.DEBUG&&console.log(x.step,"FLIPON[]"),x.autoFlip=!0},void 0,void 0,function(x){var L=x.stack,D=L.pop(),S=L.pop();f.DEBUG&&console.log(x.step,"LT[]",D,S),L.push(S<D?1:0)},function(x){var L=x.stack,D=L.pop(),S=L.pop();f.DEBUG&&console.log(x.step,"LTEQ[]",D,S),L.push(S<=D?1:0)},function(x){var L=x.stack,D=L.pop(),S=L.pop();f.DEBUG&&console.log(x.step,"GT[]",D,S),L.push(D<S?1:0)},function(x){var L=x.stack,D=L.pop(),S=L.pop();f.DEBUG&&console.log(x.step,"GTEQ[]",D,S),L.push(D<=S?1:0)},function(x){var L=x.stack,D=L.pop(),S=L.pop();f.DEBUG&&console.log(x.step,"EQ[]",D,S),L.push(D===S?1:0)},function(x){var L=x.stack,D=L.pop(),S=L.pop();f.DEBUG&&console.log(x.step,"NEQ[]",D,S),L.push(D!==S?1:0)},function(x){var L=x.stack,D=L.pop();f.DEBUG&&console.log(x.step,"ODD[]",D),L.push(Math.trunc(D)%2?1:0)},function(x){var L=x.stack,D=L.pop();f.DEBUG&&console.log(x.step,"EVEN[]",D),L.push(Math.trunc(D)%2?0:1)},function(x){var L=x.stack.pop();f.DEBUG&&console.log(x.step,"IF[]",L),L||(Eo(x,!0),f.DEBUG&&console.log(x.step,"EIF[]"))},function(x){f.DEBUG&&console.log(x.step,"EIF[]")},function(x){var L=x.stack,D=L.pop(),S=L.pop();f.DEBUG&&console.log(x.step,"AND[]",D,S),L.push(D&&S?1:0)},function(x){var L=x.stack,D=L.pop(),S=L.pop();f.DEBUG&&console.log(x.step,"OR[]",D,S),L.push(D||S?1:0)},function(x){var L=x.stack,D=L.pop();f.DEBUG&&console.log(x.step,"NOT[]",D),L.push(D?0:1)},yr.bind(void 0,1),function(x){var L=x.stack.pop();f.DEBUG&&console.log(x.step,"SDB[]",L),x.deltaBase=L},function(x){var L=x.stack.pop();f.DEBUG&&console.log(x.step,"SDS[]",L),x.deltaShift=Math.pow(.5,L)},function(x){var L=x.stack,D=L.pop(),S=L.pop();f.DEBUG&&console.log(x.step,"ADD[]",D,S),L.push(S+D)},function(x){var L=x.stack,D=L.pop(),S=L.pop();f.DEBUG&&console.log(x.step,"SUB[]",D,S),L.push(S-D)},function(x){var L=x.stack,D=L.pop(),S=L.pop();f.DEBUG&&console.log(x.step,"DIV[]",D,S),L.push(64*S/D)},function(x){var L=x.stack,D=L.pop(),S=L.pop();f.DEBUG&&console.log(x.step,"MUL[]",D,S),L.push(S*D/64)},function(x){var L=x.stack,D=L.pop();f.DEBUG&&console.log(x.step,"ABS[]",D),L.push(Math.abs(D))},function(x){var L=x.stack,D=L.pop();f.DEBUG&&console.log(x.step,"NEG[]",D),L.push(-D)},function(x){var L=x.stack,D=L.pop();f.DEBUG&&console.log(x.step,"FLOOR[]",D),L.push(64*Math.floor(D/64))},function(x){var L=x.stack,D=L.pop();f.DEBUG&&console.log(x.step,"CEILING[]",D),L.push(64*Math.ceil(D/64))},Yo.bind(void 0,0),Yo.bind(void 0,1),Yo.bind(void 0,2),Yo.bind(void 0,3),void 0,void 0,void 0,void 0,function(x){var L=(D=x.stack).pop(),D=D.pop();f.DEBUG&&console.log(x.step,"WCVTF[]",L,D),x.cvt[D]=L*x.ppem/x.font.unitsPerEm},yr.bind(void 0,2),yr.bind(void 0,3),Vr.bind(void 0,1),Vr.bind(void 0,2),Vr.bind(void 0,3),function(x){var L,D=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"SROUND[]",D),x.round=Yr,192&D){case 0:L=.5;break;case 64:L=1;break;case 128:L=2;break;default:throw new Error("invalid SROUND value")}switch(x.srPeriod=L,48&D){case 0:x.srPhase=0;break;case 16:x.srPhase=.25*L;break;case 32:x.srPhase=.5*L;break;case 48:x.srPhase=.75*L;break;default:throw new Error("invalid SROUND value")}x.srThreshold=0==(D&=15)?0:(D/8-.5)*L},function(x){var L,D=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"S45ROUND[]",D),x.round=Yr,192&D){case 0:L=Math.sqrt(2)/2;break;case 64:L=Math.sqrt(2);break;case 128:L=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(x.srPeriod=L,48&D){case 0:x.srPhase=0;break;case 16:x.srPhase=.25*L;break;case 32:x.srPhase=.5*L;break;case 48:x.srPhase=.75*L;break;default:throw new Error("invalid S45ROUND value")}x.srThreshold=0==(D&=15)?0:(D/8-.5)*L},void 0,void 0,function(x){f.DEBUG&&console.log(x.step,"ROFF[]"),x.round=Uo},void 0,function(x){f.DEBUG&&console.log(x.step,"RUTG[]"),x.round=Fn},function(x){f.DEBUG&&console.log(x.step,"RDTG[]"),x.round=dr},qo,qo,void 0,void 0,void 0,void 0,void 0,function(x){var L=x.stack.pop();f.DEBUG&&console.log(x.step,"SCANCTRL[]",L)},Hr.bind(void 0,0),Hr.bind(void 0,1),function(x){var L=x.stack,D=L.pop(),S=0;f.DEBUG&&console.log(x.step,"GETINFO[]",D),1&D&&(S=35),32&D&&(S|=4096),L.push(S)},void 0,function(x){var L=x.stack,D=L.pop(),S=L.pop(),X=L.pop();f.DEBUG&&console.log(x.step,"ROLL[]"),L.push(S),L.push(D),L.push(X)},function(x){var L=x.stack,D=L.pop(),S=L.pop();f.DEBUG&&console.log(x.step,"MAX[]",D,S),L.push(Math.max(S,D))},function(x){var L=x.stack,D=L.pop(),S=L.pop();f.DEBUG&&console.log(x.step,"MIN[]",D,S),L.push(Math.min(S,D))},function(x){var L=x.stack.pop();f.DEBUG&&console.log(x.step,"SCANTYPE[]",L)},function(x){var L=x.stack.pop(),D=x.stack.pop();switch(f.DEBUG&&console.log(x.step,"INSTCTRL[]",L,D),L){case 1:return void(x.inhibitGridFit=!!D);case 2:return void(x.ignoreCvt=!!D);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,xo.bind(void 0,1),xo.bind(void 0,2),xo.bind(void 0,3),xo.bind(void 0,4),xo.bind(void 0,5),xo.bind(void 0,6),xo.bind(void 0,7),xo.bind(void 0,8),Xr.bind(void 0,1),Xr.bind(void 0,2),Xr.bind(void 0,3),Xr.bind(void 0,4),Xr.bind(void 0,5),Xr.bind(void 0,6),Xr.bind(void 0,7),Xr.bind(void 0,8),Rn.bind(void 0,0,0,0,0,0),Rn.bind(void 0,0,0,0,0,1),Rn.bind(void 0,0,0,0,0,2),Rn.bind(void 0,0,0,0,0,3),Rn.bind(void 0,0,0,0,1,0),Rn.bind(void 0,0,0,0,1,1),Rn.bind(void 0,0,0,0,1,2),Rn.bind(void 0,0,0,0,1,3),Rn.bind(void 0,0,0,1,0,0),Rn.bind(void 0,0,0,1,0,1),Rn.bind(void 0,0,0,1,0,2),Rn.bind(void 0,0,0,1,0,3),Rn.bind(void 0,0,0,1,1,0),Rn.bind(void 0,0,0,1,1,1),Rn.bind(void 0,0,0,1,1,2),Rn.bind(void 0,0,0,1,1,3),Rn.bind(void 0,0,1,0,0,0),Rn.bind(void 0,0,1,0,0,1),Rn.bind(void 0,0,1,0,0,2),Rn.bind(void 0,0,1,0,0,3),Rn.bind(void 0,0,1,0,1,0),Rn.bind(void 0,0,1,0,1,1),Rn.bind(void 0,0,1,0,1,2),Rn.bind(void 0,0,1,0,1,3),Rn.bind(void 0,0,1,1,0,0),Rn.bind(void 0,0,1,1,0,1),Rn.bind(void 0,0,1,1,0,2),Rn.bind(void 0,0,1,1,0,3),Rn.bind(void 0,0,1,1,1,0),Rn.bind(void 0,0,1,1,1,1),Rn.bind(void 0,0,1,1,1,2),Rn.bind(void 0,0,1,1,1,3),Rn.bind(void 0,1,0,0,0,0),Rn.bind(void 0,1,0,0,0,1),Rn.bind(void 0,1,0,0,0,2),Rn.bind(void 0,1,0,0,0,3),Rn.bind(void 0,1,0,0,1,0),Rn.bind(void 0,1,0,0,1,1),Rn.bind(void 0,1,0,0,1,2),Rn.bind(void 0,1,0,0,1,3),Rn.bind(void 0,1,0,1,0,0),Rn.bind(void 0,1,0,1,0,1),Rn.bind(void 0,1,0,1,0,2),Rn.bind(void 0,1,0,1,0,3),Rn.bind(void 0,1,0,1,1,0),Rn.bind(void 0,1,0,1,1,1),Rn.bind(void 0,1,0,1,1,2),Rn.bind(void 0,1,0,1,1,3),Rn.bind(void 0,1,1,0,0,0),Rn.bind(void 0,1,1,0,0,1),Rn.bind(void 0,1,1,0,0,2),Rn.bind(void 0,1,1,0,0,3),Rn.bind(void 0,1,1,0,1,0),Rn.bind(void 0,1,1,0,1,1),Rn.bind(void 0,1,1,0,1,2),Rn.bind(void 0,1,1,0,1,3),Rn.bind(void 0,1,1,1,0,0),Rn.bind(void 0,1,1,1,0,1),Rn.bind(void 0,1,1,1,0,2),Rn.bind(void 0,1,1,1,0,3),Rn.bind(void 0,1,1,1,1,0),Rn.bind(void 0,1,1,1,1,1),Rn.bind(void 0,1,1,1,1,2),Rn.bind(void 0,1,1,1,1,3)],go=Array.from||function(x){return x.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function vr(x){(x=x||{}).empty||(Jt(x.familyName,"When creating a new Font object, familyName is required."),Jt(x.styleName,"When creating a new Font object, styleName is required."),Jt(x.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Jt(x.ascender,"When creating a new Font object, ascender is required."),Jt(x.descender,"When creating a new Font object, descender is required."),Jt(x.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:x.familyName||" "},fontSubfamily:{en:x.styleName||" "},fullName:{en:x.fullName||x.familyName+" "+x.styleName},postScriptName:{en:x.postScriptName||(x.familyName+x.styleName).replace(/\s/g,"")},designer:{en:x.designer||" "},designerURL:{en:x.designerURL||" "},manufacturer:{en:x.manufacturer||" "},manufacturerURL:{en:x.manufacturerURL||" "},license:{en:x.license||" "},licenseURL:{en:x.licenseURL||" "},version:{en:x.version||"Version 0.1"},description:{en:x.description||" "},copyright:{en:x.copyright||" "},trademark:{en:x.trademark||" "}},this.unitsPerEm=x.unitsPerEm||1e3,this.ascender=x.ascender,this.descender=x.descender,this.createdTimestamp=x.createdTimestamp,this.tables={os2:{usWeightClass:x.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:x.widthClass||this.usWidthClasses.MEDIUM,fsSelection:x.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new yt.GlyphSet(this,x.glyphs||[]),this.encoding=new Ct(this),this.position=new Re(this),this.substitution=new ye(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||("truetype"===this.outlinesFormat?this._hinting=new kr(this):void 0)}})}vr.prototype.hasChar=function(x){return null!==this.encoding.charToGlyphIndex(x)},vr.prototype.charToGlyphIndex=function(x){return this.encoding.charToGlyphIndex(x)},vr.prototype.charToGlyph=function(x){return x=this.charToGlyphIndex(x),this.glyphs.get(x)||this.glyphs.get(0)},vr.prototype.stringToGlyphs=function(x,L){L=L||this.defaultRenderOptions;for(var D=go(x),S=[],X=0;X<D.length;X+=1)S.push(this.charToGlyphIndex(D[X]));var le=S.length;if(L.features){x=L.script||this.substitution.getDefaultScriptName();var ke=[];L.features.liga&&(ke=ke.concat(this.substitution.getFeature("liga",x,L.language))),L.features.rlig&&(ke=ke.concat(this.substitution.getFeature("rlig",x,L.language)));for(var qe=0;qe<le;qe+=1)for(var nt=0;nt<ke.length;nt++){for(var Mt=ke[nt],Yt=Mt.sub,Bt=Yt.length,mt=0;mt<Bt&&Yt[mt]===S[qe+mt];)mt++;mt===Bt&&(S.splice(qe,Bt,Mt.by),le=le-Bt+1)}}for(var yn=new Array(le),en=this.glyphs.get(0),on=0;on<le;on+=1)yn[on]=this.glyphs.get(S[on])||en;return yn},vr.prototype.nameToGlyphIndex=function(x){return this.glyphNames.nameToGlyphIndex(x)},vr.prototype.nameToGlyph=function(x){return x=this.nameToGlyphIndex(x),this.glyphs.get(x)||this.glyphs.get(0)},vr.prototype.glyphIndexToName=function(x){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(x):""},vr.prototype.getKerningValue=function(x,L){x=x.index||x,L=L.index||L;var D=this.position.defaultKerningTables;return D?this.position.getKerningValue(D,x,L):this.kerningPairs[x+","+L]||0},vr.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},vr.prototype.forEachGlyph=function(x,L,D,S,X,Y){L=void 0!==L?L:0,D=void 0!==D?D:0;var le,ke=1/this.unitsPerEm*(S=void 0!==S?S:72),qe=this.stringToGlyphs(x,X=X||this.defaultRenderOptions);X.kerning&&(x=X.script||this.position.getDefaultScriptName(),le=this.position.getKerningTables(x,X.language));for(var nt=0;nt<qe.length;nt+=1){var Mt=qe[nt];Y.call(this,Mt,L,D,S,X),Mt.advanceWidth&&(L+=Mt.advanceWidth*ke),X.kerning&&nt<qe.length-1&&(L+=(le?this.position.getKerningValue(le,Mt.index,qe[nt+1].index):this.getKerningValue(Mt,qe[nt+1]))*ke),X.letterSpacing?L+=X.letterSpacing*S:X.tracking&&(L+=X.tracking/1e3*S)}return L},vr.prototype.getPath=function(x,L,D,S,X){var Y=new fe;return this.forEachGlyph(x,L,D,S,X,function(le,ke,qe,nt){le=le.getPath(ke,qe,nt,X,this),Y.extend(le)}),Y},vr.prototype.getPaths=function(x,L,D,S,X){var Y=[];return this.forEachGlyph(x,L,D,S,X,function(le,ke,qe,nt){le=le.getPath(ke,qe,nt,X,this),Y.push(le)}),Y},vr.prototype.getAdvanceWidth=function(x,L,D){return this.forEachGlyph(x,0,0,L,D,function(){})},vr.prototype.draw=function(x,L,D,S,X,Y){this.getPath(L,D,S,X,Y).draw(x)},vr.prototype.drawPoints=function(x,L,D,S,X,Y){this.forEachGlyph(L,D,S,X,Y,function(le,ke,qe,nt){le.drawPoints(x,ke,qe,nt)})},vr.prototype.drawMetrics=function(x,L,D,S,X,Y){this.forEachGlyph(L,D,S,X,Y,function(le,ke,qe,nt){le.drawMetrics(x,ke,qe,nt)})},vr.prototype.getEnglishName=function(x){if(x=this.names[x])return x.en},vr.prototype.validate=function(){var x=this;function L(D){(D=x.getEnglishName(D))&&D.trim()}L("fontFamily"),L("weightName"),L("manufacturer"),L("copyright"),L("version")},vr.prototype.toTables=function(){return We_fontToTable(this)},vr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},vr.prototype.toArrayBuffer=function(){for(var x=this.toTables().encode(),L=new ArrayBuffer(x.length),D=new Uint8Array(L),S=0;S<x.length;S++)D[S]=x[S];return L},vr.prototype.download=function(x){var L=this.getEnglishName("fontFamily"),D=this.getEnglishName("fontSubfamily"),S=(x=x||L.replace(/\s/g,"")+"-"+D+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,S.byteLength,function(X){X.root.getFile(x,{create:!0},function(Y){Y.createWriter(function(le){var ke=new DataView(S);ke=new Blob([ke],{type:"font/opentype"}),le.write(ke),le.addEventListener("writeend",function(){location.href=Y.toURL()},!1)})})},function(X){throw new Error(X.name+": "+X.message)})):(L=r("fs"),D=function(X){for(var Y=new y(X.byteLength),le=new Uint8Array(X),ke=0;ke<Y.length;++ke)Y[ke]=le[ke];return Y}(S),L.writeFileSync(x,D))},vr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},vr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},vr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Ci_parse=function(x,L,D){for(var S,Y,le,ke=new _t.Parser(x,L),qe=ke.parseULong(),nt=(R.argument(65536===qe,"Unsupported fvar table version."),ke.parseOffset16()),Mt=(ke.skip("uShort",1),ke.parseUShort()),Yt=ke.parseUShort(),Bt=ke.parseUShort(),mt=ke.parseUShort(),yn=[],en=0;en<Mt;en++)yn.push((Y=D,le={},S=new _t.Parser(S=x,L+nt+en*Yt),le.tag=S.parseTag(),le.minValue=S.parseFixed(),le.defaultValue=S.parseFixed(),le.maxValue=S.parseFixed(),S.skip("uShort",1),le.name=Y[S.parseUShort()]||{},le));for(var on=[],Zt=L+nt+Mt*Yt,Kt=0;Kt<Bt;Kt++)on.push(function(Un,Gn,$n,Bn){var Qn={},er=new _t.Parser(Un,Gn);Qn.name=Bn[er.parseUShort()]||{},er.skip("uShort",1),Qn.coordinates={};for(var Ur=0;Ur<$n.length;++Ur)Qn.coordinates[$n[Ur].tag]=er.parseFixed();return Qn}(x,Zt+Kt*mt,yn,D));return{axes:yn,instances:on}},Ao=new Array(10);Ao[1]=function(){var x=this.offset+this.relativeOffset,L=this.parseUShort();return 1===L?{posFormat:1,coverage:this.parsePointer(lt.coverage),value:this.parseValueRecord()}:2===L?{posFormat:2,coverage:this.parsePointer(lt.coverage),values:this.parseValueRecordList()}:void R.assert(!1,"0x"+x.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Ao[2]=function(){var x,L,D,S,Y=this.offset+this.relativeOffset,X=this.parseUShort(),le=(R.assert(1===X||2===X,"0x"+Y.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),Y=this.parsePointer(lt.coverage),this.parseUShort()),ke=this.parseUShort();return 1===X?{posFormat:X,coverage:Y,valueFormat1:le,valueFormat2:ke,pairSets:this.parseList(lt.pointer(lt.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(le),value2:this.parseValueRecord(ke)}})))}:2===X?(x=this.parsePointer(lt.classDef),L=this.parsePointer(lt.classDef),D=this.parseUShort(),S=this.parseUShort(),{posFormat:X,coverage:Y,valueFormat1:le,valueFormat2:ke,classDef1:x,classDef2:L,class1Count:D,class2Count:S,classRecords:this.parseList(D,lt.list(S,function(){return{value1:this.parseValueRecord(le),value2:this.parseValueRecord(ke)}}))}):void 0},Ao[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Ao[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Ao[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Ao[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Ao[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Ao[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Ao[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var Si_parse=function(x,L){return L=(x=new lt(x,L=L||0)).parseVersion(1),R.argument(1===L||1.1===L,"Unsupported GPOS table version "+L),1===L?{version:L,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(Ao)}:{version:L,scripts:x.parseScriptList(),features:x.parseFeatureList(),lookups:x.parseLookupList(Ao),variations:x.parseFeatureVariationsList()}},mi_parse=function(x,L){if(0===(L=(x=new _t.Parser(x,L)).parseUShort())){var D=x,S={},Yt=(D.skip("uShort"),D.parseUShort()),X=(R.argument(0===Yt,"Unsupported kern sub-table version."),D.skip("uShort",2),D.parseUShort());D.skip("uShort",3);for(var Y=0;Y<X;Y+=1){var le=D.parseUShort(),ke=D.parseUShort(),qe=D.parseShort();S[le+","+ke]=qe}return S}if(1!==L)throw new Error("Unsupported kern table version ("+L+").");var nt=x,Mt={};if(nt.skip("uShort"),1<nt.parseULong()&&console.warn("Only the first kern subtable is supported."),nt.skip("uLong"),Yt=255&nt.parseUShort(),nt.skip("uShort"),0==Yt){var Bt=nt.parseUShort();nt.skip("uShort",3);for(var mt=0;mt<Bt;mt+=1){var yn=nt.parseUShort(),en=nt.parseUShort(),on=nt.parseShort();Mt[yn+","+en]=on}}return Mt},Qi_parse=function(x,L,D,S){for(var X=new _t.Parser(x,L),Y=S?X.parseUShort:X.parseULong,le=[],ke=0;ke<D+1;ke+=1){var qe=Y.call(X);S&&(qe*=2),le.push(qe)}return le};function bs(x,L){r("fs").readFile(x,function(D,S){if(D)return L(D.message);L(null,pt(S))})}function ui(x,L){var D=new XMLHttpRequest;D.open("get",x,!0),D.responseType="arraybuffer",D.onload=function(){return D.response?L(null,D.response):L("Font could not be loaded: "+D.statusText)},D.onerror=function(){L("Font could not be loaded")},D.send()}function oi(x,L){for(var D=[],S=12,X=0;X<L;X+=1){var Y=_t.getTag(x,S),le=_t.getULong(x,S+4),ke=_t.getULong(x,S+8),qe=_t.getULong(x,S+12);D.push({tag:Y,checksum:le,offset:ke,length:qe,compression:!1}),S+=16}return D}function Wr(D,L){if("WOFF"!==L.compression)return{data:D,offset:L.offset};D=new Uint8Array(D.buffer,L.offset+2,L.compressedLength-2);var S=new Uint8Array(L.length);if(J(D,S),S.byteLength!==L.length)throw new Error("Decompression error: "+L.tag+" decompressed length doesn't match recorded length");return{data:new DataView(S.buffer,0),offset:0}}function Di(Kt){var L,D,S,X,Y,le,ke,qe,nt,Mt,Yt,Bt,mt,yn,en=new vr({empty:!0}),on=new DataView(Kt,0),Zt=[];if("\0\x01\0\0"===(Kt=_t.getTag(on,0))||"true"===Kt||"typ1"===Kt)en.outlinesFormat="truetype",Zt=oi(on,S=_t.getUShort(on,4));else if("OTTO"===Kt)en.outlinesFormat="cff",Zt=oi(on,S=_t.getUShort(on,4));else{if("wOFF"!==Kt)throw new Error("Unsupported OpenType signature "+Kt);if("\0\x01\0\0"===(Un=_t.getTag(on,4)))en.outlinesFormat="truetype";else{if("OTTO"!==Un)throw new Error("Unsupported OpenType flavor "+Kt);en.outlinesFormat="cff"}Zt=function(Dr,mr){for(var Pr=[],Nn=44,to=0;to<mr;to+=1){var Nr=_t.getTag(Dr,Nn),no=_t.getULong(Dr,Nn+4),Jo=_t.getULong(Dr,Nn+8),ci=_t.getULong(Dr,Nn+12);Pr.push({tag:Nr,offset:no,compression:Jo<ci&&"WOFF",compressedLength:Jo,length:ci}),Nn+=20}return Pr}(on,S=_t.getUShort(on,12))}for(var Gn=0;Gn<S;Gn+=1){var $n=Zt[Gn],Bn=void 0;switch($n.tag){case"cmap":Bn=Wr(on,$n),en.tables.cmap=je_parse(Bn.data,Bn.offset),en.encoding=new $t(en.tables.cmap);break;case"cvt ":Bn=Wr(on,$n),yn=new _t.Parser(Bn.data,Bn.offset),en.tables.cvt=yn.parseShortList($n.length/2);break;case"fvar":Y=$n;break;case"fpgm":Bn=Wr(on,$n),yn=new _t.Parser(Bn.data,Bn.offset),en.tables.fpgm=yn.parseByteList($n.length);break;case"head":Bn=Wr(on,$n),en.tables.head=ee_parse(Bn.data,Bn.offset),en.unitsPerEm=en.tables.head.unitsPerEm,L=en.tables.head.indexToLocFormat;break;case"hhea":Bn=Wr(on,$n),en.tables.hhea=oe_parse(Bn.data,Bn.offset),en.ascender=en.tables.hhea.ascender,en.descender=en.tables.hhea.descender,en.numberOfHMetrics=en.tables.hhea.numberOfHMetrics;break;case"hmtx":nt=$n;break;case"ltag":Bn=Wr(on,$n),D=O_parse(Bn.data,Bn.offset);break;case"maxp":Bn=Wr(on,$n),en.tables.maxp=G_parse(Bn.data,Bn.offset),en.numGlyphs=en.tables.maxp.numGlyphs;break;case"name":Bt=$n;break;case"OS/2":Bn=Wr(on,$n),en.tables.os2=Wn_parse(Bn.data,Bn.offset);break;case"post":Bn=Wr(on,$n),en.tables.post=Gr_parse(Bn.data,Bn.offset),en.glyphNames=new wn(en.tables.post);break;case"prep":Bn=Wr(on,$n),yn=new _t.Parser(Bn.data,Bn.offset),en.tables.prep=yn.parseByteList($n.length);break;case"glyf":le=$n;break;case"loca":Yt=$n;break;case"CFF ":X=$n;break;case"kern":Mt=$n;break;case"GPOS":ke=$n;break;case"GSUB":qe=$n;break;case"meta":mt=$n}}if(Un=Wr(on,Bt),en.tables.name=kn_parse(Un.data,Un.offset,D),en.names=en.tables.name,le&&Yt)Kt=0===L,Un=Wr(on,Yt),Un=Qi_parse(Un.data,Un.offset,en.numGlyphs,Kt),Kt=Wr(on,le),en.glyphs=Tr.parse(Kt.data,Kt.offset,Un,en);else{if(!X)throw new Error("Font doesn't contain TrueType or CFF outlines.");Kt=Wr(on,X),Ln_parse(Kt.data,Kt.offset,en)}for(var Un=Wr(on,nt),Qn=(_e_parse(Un.data,Un.offset,en.numberOfHMetrics,en.numGlyphs,en.glyphs),en),er=Qn.tables.cmap.glyphIndexMap,Ur=Object.keys(er),Kr=0;Kr<Ur.length;Kr+=1){var Qr,Jr=Ur[Kr];(Qr=Qn.glyphs.get(er[Jr])).addUnicode(parseInt(Jr))}for(var wr=0;wr<Qn.glyphs.length;wr+=1)Qr=Qn.glyphs.get(wr),Qn.cffEncoding?Qr.name=Qn.isCIDFont?"gid"+wr:Qn.cffEncoding.charset[wr]:Qn.glyphNames.names&&(Qr.name=Qn.glyphNames.glyphIndexToName(wr));return Mt?(Kt=Wr(on,Mt),en.kerningPairs=mi_parse(Kt.data,Kt.offset)):en.kerningPairs={},ke&&(Un=Wr(on,ke),en.tables.gpos=Si_parse(Un.data,Un.offset),en.position.init()),qe&&(Kt=Wr(on,qe),en.tables.gsub=Ge_parse(Kt.data,Kt.offset)),Y&&(Un=Wr(on,Y),en.tables.fvar=Ci_parse(Un.data,Un.offset,en.names)),mt&&(Kt=Wr(on,mt),en.tables.meta=st_parse(Kt.data,Kt.offset),en.metas=en.tables.meta),en}f.Font=vr,f.Glyph=St,f.Path=fe,f.BoundingBox=ae,f._parse=_t,f.parse=Di,f.load=function(x,L){(typeof window>"u"?bs:ui)(x,function(D,S){if(D)return L(D);var X;try{X=Di(S)}catch(Y){return L(Y,null)}return L(null,X)})},f.loadSync=function(x){return Di(pt(r("fs").readFileSync(x)))},Object.defineProperty(f,"__esModule",{value:!0})},h("object"==typeof C&&void 0!==H?C:this.opentype={})}).call(this,r("buffer").Buffer)},{buffer:4,fs:2}],255:[function(r,H,C){(function(y){function _(E,w){for(var a=0,l=E.length-1;0<=l;l--){var d=E[l];"."===d?E.splice(l,1):".."===d?(E.splice(l,1),a++):a&&(E.splice(l,1),a--)}if(w)for(;a--;)E.unshift("..");return E}function h(E,w){if(E.filter)return E.filter(w);for(var a=[],l=0;l<E.length;l++)w(E[l],l,E)&&a.push(E[l]);return a}C.resolve=function(){for(var E="",w=!1,a=arguments.length-1;-1<=a&&!w;a--){var l=0<=a?arguments[a]:y.cwd();if("string"!=typeof l)throw new TypeError("Arguments to path.resolve must be strings");l&&(E=l+"/"+E,w="/"===l.charAt(0))}return(w?"/":"")+(E=_(h(E.split("/"),function(d){return!!d}),!w).join("/"))||"."},C.normalize=function(E){var w=C.isAbsolute(E),a="/"===f(E,-1);return(E=(E=_(h(E.split("/"),function(l){return!!l}),!w).join("/"))||w?E:".")&&a&&(E+="/"),(w?"/":"")+E},C.isAbsolute=function(E){return"/"===E.charAt(0)},C.join=function(){var E=Array.prototype.slice.call(arguments,0);return C.normalize(h(E,function(w,a){if("string"!=typeof w)throw new TypeError("Arguments to path.join must be strings");return w}).join("/"))},C.relative=function(E,w){function a(p){for(var b=0;b<p.length&&""===p[b];b++);for(var T=p.length-1;0<=T&&""===p[T];T--);return T<b?[]:p.slice(b,T-b+1)}E=C.resolve(E).substr(1),w=C.resolve(w).substr(1);for(var l=a(E.split("/")),d=a(w.split("/")),u=Math.min(l.length,d.length),c=u,s=0;s<u;s++)if(l[s]!==d[s]){c=s;break}var m=[];for(s=c;s<l.length;s++)m.push("..");return(m=m.concat(d.slice(c))).join("/")},C.sep="/",C.delimiter=":",C.dirname=function(E){if("string"!=typeof E&&(E+=""),0===E.length)return".";for(var w=47===E.charCodeAt(0),a=-1,l=!0,d=E.length-1;1<=d;--d)if(47===E.charCodeAt(d)){if(!l){a=d;break}}else l=!1;return-1===a?w?"/":".":w&&1===a?"/":E.slice(0,a)},C.basename=function(E,w){return E=function(a){"string"!=typeof a&&(a+="");for(var l=0,d=-1,u=!0,c=a.length-1;0<=c;--c)if(47===a.charCodeAt(c)){if(!u){l=c+1;break}}else-1===d&&(u=!1,d=c+1);return-1===d?"":a.slice(l,d)}(E),w&&E.substr(-1*w.length)===w?E.substr(0,E.length-w.length):E},C.extname=function(E){"string"!=typeof E&&(E+="");for(var w=-1,a=0,l=-1,d=!0,u=0,c=E.length-1;0<=c;--c){var s=E.charCodeAt(c);if(47===s){if(d)continue;a=c+1;break}-1===l&&(d=!1,l=c+1),46===s?-1===w?w=c:1!==u&&(u=1):-1!==w&&(u=-1)}return-1===w||-1===l||0===u||1===u&&w===l-1&&w===a+1?"":E.slice(w,l)};var f=function(E,w,a){return E.substr(w,a)}}).call(this,r("_process"))},{_process:256}],256:[function(r,h,C){var y,_;function f(){throw new Error("setTimeout has not been defined")}function E(){throw new Error("clearTimeout has not been defined")}h=h.exports={};try{y="function"==typeof setTimeout?setTimeout:f}catch{y=f}try{_="function"==typeof clearTimeout?clearTimeout:E}catch{_=E}function w(b){if(y===setTimeout)return setTimeout(b,0);if((y===f||!y)&&setTimeout)return(y=setTimeout)(b,0);try{return y(b,0)}catch{try{return y.call(null,b,0)}catch{return y.call(this,b,0)}}}var a,l=[],d=!1,u=-1;function c(){d&&a&&(d=!1,a.length?l=a.concat(l):u=-1,l.length&&s())}function s(){if(!d){for(var b=w(c),T=(d=!0,l.length);T;){for(a=l,l=[];++u<T;)a&&a[u].run();u=-1,T=l.length}a=null,d=!1,function(F){if(_===clearTimeout)return clearTimeout(F);if((_===E||!_)&&clearTimeout)return(_=clearTimeout)(F);try{_(F)}catch{try{return _.call(null,F)}catch{return _.call(this,F)}}}(b)}}function m(b,T){this.fun=b,this.array=T}function p(){}h.nextTick=function(b){var T=new Array(arguments.length-1);if(1<arguments.length)for(var F=1;F<arguments.length;F++)T[F-1]=arguments[F];l.push(new m(b,T)),1!==l.length||d||w(s)},m.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=p,h.addListener=p,h.once=p,h.off=p,h.removeListener=p,h.removeAllListeners=p,h.emit=p,h.prependListener=p,h.prependOnceListener=p,h.listeners=function(b){return[]},h.binding=function(b){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(b){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],257:[function(r,H,C){H=function(y){"use strict";var _,h=Object.prototype,f=h.hasOwnProperty,E=(k="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",w=k.asyncIterator||"@@asyncIterator",a=k.toStringTag||"@@toStringTag";function l(ne,se,q,ge){var fe,Se,K,R;return se=se&&se.prototype instanceof b?se:b,se=Object.create(se.prototype),ge=new B(ge||[]),se._invoke=(fe=ne,Se=q,K=ge,R=u,function(De,Le){if(R===s)throw new Error("Generator is already running");if(R===m){if("throw"===De)throw Le;return W()}for(K.method=De,K.arg=Le;;){var Ze=K.delegate;if(Ze&&(Ze=function et(Oe,$e){var Ve=Oe.iterator[$e.method];if(Ve===_){if($e.delegate=null,"throw"===$e.method){if(Oe.iterator.return&&($e.method="return",$e.arg=_,et(Oe,$e),"throw"===$e.method))return p;$e.method="throw",$e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}return"throw"===(Ve=d(Ve,Oe.iterator,$e.arg)).type?($e.method="throw",$e.arg=Ve.arg,$e.delegate=null,p):(Ve=Ve.arg)?Ve.done?($e[Oe.resultName]=Ve.value,$e.next=Oe.nextLoc,"return"!==$e.method&&($e.method="next",$e.arg=_),$e.delegate=null,p):Ve:($e.method="throw",$e.arg=new TypeError("iterator result is not an object"),$e.delegate=null,p)}(Ze,K))){if(Ze===p)continue;return Ze}if("next"===K.method)K.sent=K._sent=K.arg;else if("throw"===K.method){if(R===u)throw R=m,K.arg;K.dispatchException(K.arg)}else"return"===K.method&&K.abrupt("return",K.arg);if(R=s,"normal"===(Ze=d(fe,Se,K)).type){if(R=K.done?m:c,Ze.arg!==p)return{value:Ze.arg,done:K.done}}else"throw"===Ze.type&&(R=m,K.method="throw",K.arg=Ze.arg)}}),se}function d(ne,J,q){try{return{type:"normal",arg:ne.call(J,q)}}catch(ae){return{type:"throw",arg:ae}}}y.wrap=l;var u="suspendedStart",c="suspendedYield",s="executing",m="completed",p={};function b(){}function T(){}function F(){}var k,A,P=((k={})[E]=function(){return this},(A=(A=Object.getPrototypeOf)&&A(A(z([]))))&&A!==h&&f.call(A,E)&&(k=A),F.prototype=b.prototype=Object.create(k));function $(ne){["next","throw","return"].forEach(function(J){ne[J]=function(q){return this._invoke(J,q)}})}function j(ne){var J;this._invoke=function(q,ae){function fe(){return new Promise(function(Se,K){!function R(et,ge,De,Le){var Ze;if("throw"!==(et=d(ne[et],ne,ge)).type)return(ge=(Ze=et.arg).value)&&"object"==typeof ge&&f.call(ge,"__await")?Promise.resolve(ge.__await).then(function(Oe){R("next",Oe,De,Le)},function(Oe){R("throw",Oe,De,Le)}):Promise.resolve(ge).then(function(Oe){Ze.value=Oe,De(Ze)},function(Oe){return R("throw",Oe,De,Le)});Le(et.arg)}(q,ae,Se,K)})}return J=J?J.then(fe,fe):fe()}}function N(ne){var J={tryLoc:ne[0]};1 in ne&&(J.catchLoc=ne[1]),2 in ne&&(J.finallyLoc=ne[2],J.afterLoc=ne[3]),this.tryEntries.push(J)}function I(ne){var J=ne.completion||{};J.type="normal",delete J.arg,ne.completion=J}function B(ne){this.tryEntries=[{tryLoc:"root"}],ne.forEach(N,this),this.reset(!0)}function z(ne){if(ne){var J,q=ne[E];if(q)return q.call(ne);if("function"==typeof ne.next)return ne;if(!isNaN(ne.length))return J=-1,(q=function ae(){for(;++J<ne.length;)if(f.call(ne,J))return ae.value=ne[J],ae.done=!1,ae;return ae.value=_,ae.done=!0,ae}).next=q}return{next:W}}function W(){return{value:_,done:!0}}return(T.prototype=P.constructor=F).constructor=T,F[a]=T.displayName="GeneratorFunction",y.isGeneratorFunction=function(ne){return!!(ne="function"==typeof ne&&ne.constructor)&&(ne===T||"GeneratorFunction"===(ne.displayName||ne.name))},y.mark=function(ne){return Object.setPrototypeOf?Object.setPrototypeOf(ne,F):(ne.__proto__=F,a in ne||(ne[a]="GeneratorFunction")),ne.prototype=Object.create(P),ne},y.awrap=function(ne){return{__await:ne}},$(j.prototype),j.prototype[w]=function(){return this},y.AsyncIterator=j,y.async=function(ne,J,q,ae){var fe=new j(l(ne,J,q,ae));return y.isGeneratorFunction(J)?fe:fe.next().then(function(Se){return Se.done?Se.value:fe.next()})},$(P),P[a]="Generator",P[E]=function(){return this},P.toString=function(){return"[object Generator]"},y.keys=function(ne){var J,q=[];for(J in ne)q.push(J);return q.reverse(),function ae(){for(;q.length;){var fe=q.pop();if(fe in ne)return ae.value=fe,ae.done=!1,ae}return ae.done=!0,ae}},y.values=z,B.prototype={constructor:B,reset:function(ne){if(this.prev=0,this.next=0,this.sent=this._sent=_,this.done=!1,this.delegate=null,this.method="next",this.arg=_,this.tryEntries.forEach(I),!ne)for(var J in this)"t"===J.charAt(0)&&f.call(this,J)&&!isNaN(+J.slice(1))&&(this[J]=_)},stop:function(){this.done=!0;var ne=this.tryEntries[0].completion;if("throw"===ne.type)throw ne.arg;return this.rval},dispatchException:function(ne){if(this.done)throw ne;var J=this;function q(se,ge){return Se.type="throw",Se.arg=ne,J.next=se,ge&&(J.method="next",J.arg=_),!!ge}for(var ae=this.tryEntries.length-1;0<=ae;--ae){var fe=this.tryEntries[ae],Se=fe.completion;if("root"===fe.tryLoc)return q("end");if(fe.tryLoc<=this.prev){var K=f.call(fe,"catchLoc"),R=f.call(fe,"finallyLoc");if(K&&R){if(this.prev<fe.catchLoc)return q(fe.catchLoc,!0);if(this.prev<fe.finallyLoc)return q(fe.finallyLoc)}else if(K){if(this.prev<fe.catchLoc)return q(fe.catchLoc,!0)}else{if(!R)throw new Error("try statement without catch or finally");if(this.prev<fe.finallyLoc)return q(fe.finallyLoc)}}}},abrupt:function(ne,J){for(var q=this.tryEntries.length-1;0<=q;--q){var ae=this.tryEntries[q];if(ae.tryLoc<=this.prev&&f.call(ae,"finallyLoc")&&this.prev<ae.finallyLoc){var fe=ae;break}}var Se=(fe=fe&&("break"===ne||"continue"===ne)&&fe.tryLoc<=J&&J<=fe.finallyLoc?null:fe)?fe.completion:{};return Se.type=ne,Se.arg=J,fe?(this.method="next",this.next=fe.finallyLoc,p):this.complete(Se)},complete:function(ne,J){if("throw"===ne.type)throw ne.arg;return"break"===ne.type||"continue"===ne.type?this.next=ne.arg:"return"===ne.type?(this.rval=this.arg=ne.arg,this.method="return",this.next="end"):"normal"===ne.type&&J&&(this.next=J),p},finish:function(ne){for(var J=this.tryEntries.length-1;0<=J;--J){var q=this.tryEntries[J];if(q.finallyLoc===ne)return this.complete(q.completion,q.afterLoc),I(q),p}},catch:function(ne){for(var J=this.tryEntries.length-1;0<=J;--J){var q,ae,fe=this.tryEntries[J];if(fe.tryLoc===ne)return"throw"===(q=fe.completion).type&&(ae=q.arg,I(fe)),ae}throw new Error("illegal catch attempt")},delegateYield:function(ne,J,q){return this.delegate={iterator:z(ne),resultName:J,nextLoc:q},"next"===this.method&&(this.arg=_),p}},y}("object"==typeof H?H.exports:{});try{regeneratorRuntime=H}catch{Function("r","regeneratorRuntime = r")(H)}},{}],258:[function(r,H,C){!function(y){"use strict";var _,h,f,E,w,a,l,d,u,c;function s(I){if("string"!=typeof I&&(I=String(I)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(I))throw new TypeError("Invalid character in header field name");return I.toLowerCase()}function m(I){return"string"!=typeof I?String(I):I}function p(I){var B={next:function(){var z=I.shift();return{done:void 0===z,value:z}}};return h&&(B[Symbol.iterator]=function(){return B}),B}function b(I){this.map={},I instanceof b?I.forEach(function(B,z){this.append(z,B)},this):Array.isArray(I)?I.forEach(function(B){this.append(B[0],B[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(B){this.append(B,I[B])},this)}function T(I){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}function F(I){return new Promise(function(B,z){I.onload=function(){B(I.result)},I.onerror=function(){z(I.error)}})}function k(I){var B=new FileReader,z=F(B);return B.readAsArrayBuffer(I),z}function A(I){var B;return I.slice?I.slice(0):((B=new Uint8Array(I.byteLength)).set(new Uint8Array(I)),B.buffer)}function P(){return this.bodyUsed=!1,this._initBody=function(I){if(this._bodyInit=I)if("string"==typeof I)this._bodyText=I;else if(f&&Blob.prototype.isPrototypeOf(I))this._bodyBlob=I;else if(E&&FormData.prototype.isPrototypeOf(I))this._bodyFormData=I;else if(_&&URLSearchParams.prototype.isPrototypeOf(I))this._bodyText=I.toString();else if(w&&f&&l(I))this._bodyArrayBuffer=A(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!w||!ArrayBuffer.prototype.isPrototypeOf(I)&&!d(I))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=A(I)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof I?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f&&(this.blob=function(){var I=T(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?T(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(k)}),this.text=function(){var I,B,z=T(this);if(z)return z;if(this._bodyBlob)return z=this._bodyBlob,B=F(I=new FileReader),I.readAsText(z),B;if(this._bodyArrayBuffer)return Promise.resolve(function(W){for(var ne=new Uint8Array(W),J=new Array(ne.length),q=0;q<ne.length;q++)J[q]=String.fromCharCode(ne[q]);return J.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},E&&(this.formData=function(){return this.text().then(j)}),this.json=function(){return this.text().then(JSON.parse)},this}function $(I,B){var z,W=(B=B||{}).body;if(I instanceof $){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,B.headers||(this.headers=new b(I.headers)),this.method=I.method,this.mode=I.mode,W||null==I._bodyInit||(W=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=B.credentials||this.credentials||"omit",!B.headers&&this.headers||(this.headers=new b(B.headers)),this.method=(z=(I=B.method||this.method||"GET").toUpperCase(),-1<u.indexOf(z)?z:I),this.mode=B.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&W)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(W)}function j(I){var B=new FormData;return I.trim().split("&").forEach(function(z){var W;z&&(W=(z=z.split("=")).shift().replace(/\+/g," "),z=z.join("=").replace(/\+/g," "),B.append(decodeURIComponent(W),decodeURIComponent(z)))}),B}function N(I,B){B=B||{},this.type="default",this.status=void 0===B.status?200:B.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in B?B.statusText:"OK",this.headers=new b(B.headers),this.url=B.url||"",this._initBody(I)}y.fetch||(_="URLSearchParams"in y,h="Symbol"in y&&"iterator"in Symbol,f="FileReader"in y&&"Blob"in y&&function(){try{return new Blob,!0}catch{return!1}}(),E="FormData"in y,(w="ArrayBuffer"in y)&&(a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=function(I){return I&&DataView.prototype.isPrototypeOf(I)},d=ArrayBuffer.isView||function(I){return I&&-1<a.indexOf(Object.prototype.toString.call(I))}),b.prototype.append=function(I,B){I=s(I),B=m(B);var z=this.map[I];this.map[I]=z?z+","+B:B},b.prototype.delete=function(I){delete this.map[s(I)]},b.prototype.get=function(I){return I=s(I),this.has(I)?this.map[I]:null},b.prototype.has=function(I){return this.map.hasOwnProperty(s(I))},b.prototype.set=function(I,B){this.map[s(I)]=m(B)},b.prototype.forEach=function(I,B){for(var z in this.map)this.map.hasOwnProperty(z)&&I.call(B,this.map[z],z,this)},b.prototype.keys=function(){var I=[];return this.forEach(function(B,z){I.push(z)}),p(I)},b.prototype.values=function(){var I=[];return this.forEach(function(B){I.push(B)}),p(I)},b.prototype.entries=function(){var I=[];return this.forEach(function(B,z){I.push([z,B])}),p(I)},h&&(b.prototype[Symbol.iterator]=b.prototype.entries),u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],$.prototype.clone=function(){return new $(this,{body:this._bodyInit})},P.call($.prototype),P.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},N.error=function(){var I=new N(null,{status:0,statusText:""});return I.type="error",I},c=[301,302,303,307,308],N.redirect=function(I,B){if(-1===c.indexOf(B))throw new RangeError("Invalid status code");return new N(null,{status:B,headers:{location:I}})},y.Headers=b,y.Request=$,y.Response=N,y.fetch=function(I,B){return new Promise(function(z,W){var ne=new $(I,B),J=new XMLHttpRequest;J.onload=function(){var q,ae={status:J.status,statusText:J.statusText,headers:(ae=J.getAllResponseHeaders()||"",q=new b,ae.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(K){var R=(K=K.split(":")).shift().trim();R&&(K=K.join(":").trim(),q.append(R,K))}),q)},fe=(ae.url="responseURL"in J?J.responseURL:ae.headers.get("X-Request-URL"),"response"in J?J.response:J.responseText);z(new N(fe,ae))},J.onerror=function(){W(new TypeError("Network request failed"))},J.ontimeout=function(){W(new TypeError("Network request failed"))},J.open(ne.method,ne.url,!0),"include"===ne.credentials?J.withCredentials=!0:"omit"===ne.credentials&&(J.withCredentials=!1),"responseType"in J&&f&&(J.responseType="blob"),ne.headers.forEach(function(q,ae){J.setRequestHeader(ae,q)}),J.send(void 0===ne._bodyInit?null:ne._bodyInit)})},y.fetch.polyfill=!0)}(typeof self<"u"?self:this)},{}],259:[function(r,H,C){"use strict";r("core-js/modules/es.function.name"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.split"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.split"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y,_=f(r("../core/main")),h=f(r("../color/color_conversion"));function f(a){return a&&a.__esModule?a:{default:a}}var E=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],w=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];_.default.prototype._rgbColorName=function(u){u=h.default._rgbaToHSBA(u);var l,d,c=[(y=u)[0],u[1],u[2]];0!==c[0]&&(c[0]=Math.round(100*c[0]),(u=c[0].toString().split(""))[d=u.length-1]=parseInt(u[d]),u[d]<2.5?u[d]=0:2.5<=u[d]&&u[d]<7.5&&(u[d]=5),2===u.length?(u[0]=parseInt(u[0]),7.5<=u[d]&&(u[d]=0,u[0]=u[0]+1),c[0]=10*u[0]+u[1]):c[0]=7.5<=u[d]?10:u[d]),c[2]=c[2]/255;for(var s=c.length-1;1<=s;s--)c[s]=c[s]<=.25?0:.25<c[s]&&c[s]<.75?.5:1;if(0===c[0]&&0===c[1]&&1===c[2]){for(var m=2;0<=m;m--)y[m]=Math.round(1e4*y[m])/1e4;for(var p=0;p<E.length;p++){if(E[p].h===y[0]&&E[p].s===y[1]&&E[p].b===y[2]){l=E[p].name;break}l="white"}}else for(var b=0;b<w.length;b++)if(w[b].h===c[0]&&w[b].s===c[1]&&w[b].b===c[2]){l=w[b].name;break}return l},C.default=r=_.default},{"../color/color_conversion":265,"../core/main":280,"core-js/modules/es.function.name":173,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.split":203}],260:[function(r,H,C){"use strict";r("core-js/modules/es.array.concat"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.ends-with"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.ends-with"),r("core-js/modules/es.string.replace"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(r=r("../core/main"))&&r.__esModule?r:{default:r},_="_Description",h="_fallbackDesc",f="_fallbackTable",E="_Label",w="_labelDesc",a="_labelTable";function l(d){if("label"===d||"fallback"===d)throw new Error("description should not be LABEL or FALLBACK");return d.endsWith(".")||d.endsWith(";")||d.endsWith(",")||d.endsWith("?")||d.endsWith("!")||(d+="."),d}y.default.prototype.describe=function(d,u){var c;y.default._validateParameters("describe",arguments),"string"==typeof d&&(c=this.canvas.id,d=l(d),this.dummyDOM||(this.dummyDOM=document.getElementById(c).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==d&&(this.descriptions.fallback.innerHTML=d):this._describeHTML("fallback",d),u===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==d&&(this.descriptions.label.innerHTML=d):this._describeHTML("label",d)))},y.default.prototype.describeElement=function(d,u,c){var s,m;y.default._validateParameters("describeElement",arguments),"string"==typeof u&&"string"==typeof d&&(s=this.canvas.id,u=l(u),m=function(p){if("label"===p||"fallback"===p)throw new Error("element name should not be LABEL or FALLBACK");return p.endsWith(".")||p.endsWith(";")||p.endsWith(",")?p=p.replace(/.$/,":"):p.endsWith(":")||(p+=":"),p}(d),d=d.replace(/[^a-zA-Z0-9]/g,""),m='<th scope="row">'.concat(m,"</th><td>").concat(u,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(s).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[d]?this.descriptions.fallbackElements[d].innerHTML!==m&&(this.descriptions.fallbackElements[d].innerHTML=m):this._describeElementHTML("fallback",d,m),c===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[d]?this.descriptions.labelElements[d].innerHTML!==m&&(this.descriptions.labelElements[d].innerHTML=m):this._describeElementHTML("label",d,m)))},y.default.prototype._describeHTML=function(d,u){var c,s=this.canvas.id;"fallback"===d?(this.dummyDOM.querySelector("#".concat(s+_))?this.dummyDOM.querySelector("#"+s+f).insertAdjacentHTML("beforebegin",'<p id="'.concat(s+h,'"></p>')):(c='<div id="'.concat(s).concat(_,'" role="region" aria-label="Canvas Description"><p id="').concat(s).concat(h,'"></p></div>'),this.dummyDOM.querySelector("#".concat(s,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(s,"accessibleOutput")).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#".concat(s)).innerHTML=c),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(s).concat(h)),this.descriptions.fallback.innerHTML=u):"label"===d&&(this.dummyDOM.querySelector("#".concat(s+E))?this.dummyDOM.querySelector("#".concat(s+a))&&this.dummyDOM.querySelector("#".concat(s+a)).insertAdjacentHTML("beforebegin",'<p id="'.concat(s).concat(w,'"></p>')):(c='<div id="'.concat(s).concat(E,'" class="p5Label"><p id="').concat(s).concat(w,'"></p></div>'),this.dummyDOM.querySelector("#".concat(s,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(s,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#"+s).insertAdjacentHTML("afterend",c)),this.descriptions.label=this.dummyDOM.querySelector("#"+s+w),this.descriptions.label.innerHTML=u)},y.default.prototype._describeElementHTML=function(d,u,c){var s,m=this.canvas.id;"fallback"===d?(this.dummyDOM.querySelector("#".concat(m+_))?this.dummyDOM.querySelector("#"+m+f)||this.dummyDOM.querySelector("#"+m+h).insertAdjacentHTML("afterend",'<table id="'.concat(m).concat(f,'"><caption>Canvas elements and their descriptions</caption></table>')):(s='<div id="'.concat(m).concat(_,'" role="region" aria-label="Canvas Description"><table id="').concat(m).concat(f,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(m,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(m,"accessibleOutput")).insertAdjacentHTML("beforebegin",s):this.dummyDOM.querySelector("#"+m).innerHTML=s),(s=document.createElement("tr")).id=m+"_fte_"+u,this.dummyDOM.querySelector("#"+m+f).appendChild(s),this.descriptions.fallbackElements[u]=this.dummyDOM.querySelector("#".concat(m).concat("_fte_").concat(u)),this.descriptions.fallbackElements[u].innerHTML=c):"label"===d&&(this.dummyDOM.querySelector("#".concat(m+E))?this.dummyDOM.querySelector("#".concat(m+a))||this.dummyDOM.querySelector("#"+m+w).insertAdjacentHTML("afterend",'<table id="'.concat(m+a,'"></table>')):(s='<div id="'.concat(m).concat(E,'" class="p5Label"><table id="').concat(m).concat(a,'"></table></div>'),this.dummyDOM.querySelector("#".concat(m,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(m,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",s):this.dummyDOM.querySelector("#"+m).insertAdjacentHTML("afterend",s)),(d=document.createElement("tr")).id=m+"_lte_"+u,this.dummyDOM.querySelector("#"+m+a).appendChild(d),this.descriptions.labelElements[u]=this.dummyDOM.querySelector("#".concat(m).concat("_lte_").concat(u)),this.descriptions.labelElements[u].innerHTML=c)},C.default=r=y.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.ends-with":195,"core-js/modules/es.string.replace":201}],261:[function(r,H,C){"use strict";r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.map"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.map"),r("core-js/modules/es.string.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.prototype._updateGridOutput=function(y){var _,h,f,E,w,a,l,d;this.dummyDOM.querySelector("#".concat(y,"_summary"))&&(_=this._accessibleOutputs[y],w=(h=function(w,a){var l,d="",u="",c=0;for(l in a){var s,m=0;for(s in a[l]){var p='<li id="'.concat(w,"shape").concat(c,'">').concat(a[l][s].color," ").concat(l,",");"line"===l?p+=" location = ".concat(a[l][s].pos,", length = ").concat(a[l][s].length," pixels"):(p+=" location = ".concat(a[l][s].pos),"point"!==l&&(p+=", area = ".concat(a[l][s].area," %")),p+="</li>"),d+=p,m++,c++}u=1<m?"".concat(u," ").concat(m," ").concat(l,"s"):"".concat(u," ").concat(m," ").concat(l)}return{numShapes:[c,u],details:d}}(y,this.ingredients.shapes)).numShapes,l=this.width,d=this.height,a="".concat(a=this.ingredients.colors.background," canvas, ").concat(l," by ").concat(d," pixels, contains ").concat(w[0]),f=a="".concat(a,1===w[0]?" shape: ":" shapes: ").concat(w[1]),E=function(w,a){var l,d,u=0,c="",s=Array.from(Array(10),function(){return Array(10)});for(l in a)for(var m in a[l]){var p;p="line"!==l?'<a href="#'.concat(w,"shape").concat(u,'">').concat(a[l][m].color," ").concat(l,"</a>"):'<a href="#'.concat(w,"shape").concat(u,'">').concat(a[l][m].color," ").concat(l," midpoint</a>"),s[a[l][m].loc.locY][a[l][m].loc.locX]=s[a[l][m].loc.locY][a[l][m].loc.locX]?s[a[l][m].loc.locY][a[l][m].loc.locX]+"  "+p:p,u++}for(d in s){var b,T="<tr>";for(b in s[d])T+="<td>",void 0!==s[d][b]&&(T+=s[d][b]),T+="</td>";c=c+T+"</tr>"}return c}(y,this.ingredients.shapes),f!==_.summary.innerHTML&&(_.summary.innerHTML=f),E!==_.map.innerHTML&&(_.map.innerHTML=E),h.details!==_.shapeDetails.innerHTML&&(_.shapeDetails.innerHTML=h.details),this._accessibleOutputs[y]=_)},C.default=r=r.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.from":161,"core-js/modules/es.array.map":167,"core-js/modules/es.string.iterator":197}],262:[function(r,H,C){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.map"),r("core-js/modules/es.number.to-fixed"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(r=r("../core/main"))&&r.__esModule?r:{default:r};function h(f,E,w){return 10===(E=Math.floor(f[0]/E*10))&&(E-=1),10===(f=Math.floor(f[1]/w*10))&&(f-=1),{locX:E,locY:f}}y.default.prototype.textOutput=function(f){y.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),f===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},y.default.prototype.gridOutput=function(f){y.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),f===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},y.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},y.default.prototype._createOutput=function(f,E){var w,a,l,d=this.canvas.id,u=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(d).parentNode),"");"Fallback"===E?(w=d+f,this.dummyDOM.querySelector("#".concat(a=d+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(d,"_Description"))?this.dummyDOM.querySelector("#".concat(d,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(a,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(d)).innerHTML='<div id="'.concat(a,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===E&&(w=d+f+(u=E),this.dummyDOM.querySelector("#".concat(a=d+"accessibleOutput"+E))||(this.dummyDOM.querySelector("#".concat(d,"_Label"))?this.dummyDOM.querySelector("#".concat(d,"_Label")):this.dummyDOM.querySelector("#".concat(d))).insertAdjacentHTML("afterend",'<div id="'.concat(a,'"></div>'))),this._accessibleOutputs[w]={},"textOutput"===f?(u="#".concat(d,"gridOutput").concat(u),l='<div id="'.concat(w,'">Text Output<div id="').concat(w,'Summary" aria-label="text output summary"><p id="').concat(w,'_summary"></p><ul id="').concat(w,'_list"></ul></div><table id="').concat(w,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(u)?this.dummyDOM.querySelector(u).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#".concat(a)).innerHTML=l,this._accessibleOutputs[w].list=this.dummyDOM.querySelector("#".concat(w,"_list"))):"gridOutput"===f&&(u="#".concat(d,"textOutput").concat(u),l='<div id="'.concat(w,'">Grid Output<p id="').concat(w,'_summary" aria-label="grid output summary"><table id="').concat(w,'_map" summary="grid output content"></table><ul id="').concat(w,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(u)?this.dummyDOM.querySelector(u).insertAdjacentHTML("afterend",l):this.dummyDOM.querySelector("#".concat(a)).innerHTML=l,this._accessibleOutputs[w].map=this.dummyDOM.querySelector("#".concat(w,"_map"))),this._accessibleOutputs[w].shapeDetails=this.dummyDOM.querySelector("#".concat(w,"_shapeDetails")),this._accessibleOutputs[w].summary=this.dummyDOM.querySelector("#".concat(w,"_summary"))},y.default.prototype._updateAccsOutput=function(){var f=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(f+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(f+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(f+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(f+"gridOutputLabel"))},y.default.prototype._accsBackground=function(f){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==f&&(this.ingredients.colors.backgroundRGBA=f,this.ingredients.colors.background=this._rgbColorName(f))},y.default.prototype._accsCanvasColors=function(f,E){"fill"===f?this.ingredients.colors.fillRGBA!==E&&(this.ingredients.colors.fillRGBA=E,this.ingredients.colors.fill=this._rgbColorName(E)):"stroke"===f&&this.ingredients.colors.strokeRGBA!==E&&(this.ingredients.colors.strokeRGBA=E,this.ingredients.colors.stroke=this._rgbColorName(E))},y.default.prototype._accsOutput=function(f,E){"ellipse"===f&&E[2]===E[3]?f="circle":"rectangle"===f&&E[2]===E[3]&&(f="square");var w,a,s,m,p,l={},d=!0,u=(m=E,s="rectangle"===(s=f)||"ellipse"===s||"arc"===s||"circle"===s||"square"===s?(p=Math.round(m[0]+m[2]/2),Math.round(m[1]+m[3]/2)):"triangle"===s?(p=(m[0]+m[2]+m[4])/3,(m[1]+m[3]+m[5])/3):"quadrilateral"===s?(p=(m[0]+m[2]+m[4]+m[6])/4,(m[1]+m[3]+m[5]+m[7])/4):"line"===s?(p=(m[0]+m[2])/2,(m[1]+m[3])/2):(p=m[0],m[1]),[p,s]);if("line"===f?(l.color=this.ingredients.colors.stroke,l.length=Math.round(this.dist(E[0],E[1],E[2],E[3])),w=this._getPos(E[0],[1]),a=this._getPos(E[2],[3]),l.loc=h(u,this.width,this.height),l.pos=w===a?"at ".concat(w):"from ".concat(w," to ").concat(a)):("point"===f?l.color=this.ingredients.colors.stroke:(l.color=this.ingredients.colors.fill,l.area=this._getArea(f,E)),l.pos=this._getPos.apply(this,function _(f){return function(E){if(Array.isArray(E)){for(var w=0,a=new Array(E.length);w<E.length;w++)a[w]=E[w];return a}}(f)||function(E){if(Symbol.iterator in Object(E)||"[object Arguments]"===Object.prototype.toString.call(E))return Array.from(E)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(u)),l.loc=h(u,this.width,this.height)),this.ingredients.shapes[f]){if(this.ingredients.shapes[f]!==[l]){for(var c in this.ingredients.shapes[f])JSON.stringify(this.ingredients.shapes[f][c])===JSON.stringify(l)&&(d=!1);!0===d&&this.ingredients.shapes[f].push(l)}}else this.ingredients.shapes[f]=[l]},y.default.prototype._getPos=function(a,w){a=new DOMPointReadOnly(a,w),w=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),w=(a=a.matrixTransform(w)).x,a=a.y;var l=this.width*this._pixelDensity,d=this.height*this._pixelDensity;return w<.4*l?a<.4*d?"top left":.6*d<a?"bottom left":"mid left":.6*l<w?a<.4*d?"top right":.6*d<a?"bottom right":"mid right":a<.4*d?"top middle":.6*d<a?"bottom middle":"middle"},y.default.prototype._getArea=function(f,E){var w,a,l=0,d=("arc"===f?(l=(w=((E[5]-E[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*E[2]*E[3]/8,"open"!==E[6]&&"chord"!==E[6]||(a=E[0],m=E[1],d=E[0]+E[2]/2*Math.cos(E[4]).toFixed(2),p=E[1]+E[3]/2*Math.sin(E[4]).toFixed(2),c=E[0]+E[2]/2*Math.cos(E[5]).toFixed(2),u=E[1]+E[3]/2*Math.sin(E[5]).toFixed(2),a=Math.abs(a*(p-u)+d*(u-m)+c*(m-p))/2,w>Math.PI?l+=a:l-=a)):"ellipse"===f||"circle"===f?l=3.14*E[2]/2*E[3]/2:"line"===f||"point"===f?l=0:"quadrilateral"===f?l=Math.abs((E[6]+E[0])*(E[7]-E[1])+(E[0]+E[2])*(E[1]-E[3])+(E[2]+E[4])*(E[3]-E[5])+(E[4]+E[6])*(E[5]-E[7]))/2:"rectangle"===f||"square"===f?l=E[2]*E[3]:"triangle"===f&&(l=Math.abs(E[0]*(E[3]-E[5])+E[2]*(E[5]-E[1])+E[4]*(E[1]-E[3]))/2),this.width*this._pixelDensity),u=this.height*this._pixelDensity,c=[new DOMPoint(0,0),new DOMPoint(d,0),new DOMPoint(d,u),new DOMPoint(0,u)],s=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),m=c.map(function(b){return b.matrixTransform(s)}),p=Math.abs((m[3].x+m[0].x)*(m[3].y-m[0].y)+(m[0].x+m[1].x)*(m[0].y-m[1].y)+(m[1].x+m[2].x)*(m[1].y-m[2].y)+(m[2].x+m[3].x)*(m[2].y-m[3].y))/2;return Math.round(100*l/p)},C.default=r=y.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],263:[function(r,H,C){"use strict";r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.concat"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.prototype._updateTextOutput=function(y){var _,h,f,E,w,a,l,d;this.dummyDOM.querySelector("#".concat(y,"_summary"))&&(_=this._accessibleOutputs[y],w=(h=function(w,a){var l,d="",u=0;for(l in a)for(var c in a[l]){var s='<li><a href="#'.concat(w,"shape").concat(u,'">').concat(a[l][c].color," ").concat(l,"</a>");"line"===l?s+=", ".concat(a[l][c].pos,", ").concat(a[l][c].length," pixels long.</li>"):(s+=", at ".concat(a[l][c].pos),"point"!==l&&(s+=", covering ".concat(a[l][c].area,"% of the canvas")),s+=".</li>"),d+=s,u++}return{numShapes:u,listShapes:d}}(y,this.ingredients.shapes)).numShapes,a=this.ingredients.colors.background,d=this.height,l="Your output is a, ".concat(l=this.width," by ").concat(d," pixels, ").concat(a," canvas containing the following"),f=l=1===w?"".concat(l," shape:"):"".concat(l," ").concat(w," shapes:"),E=function(w,a){var l,d="",u=0;for(l in a)for(var c in a[l]){var s='<tr id="'.concat(w,"shape").concat(u,'"><th>').concat(a[l][c].color," ").concat(l,"</th>");"line"===l?s+="<td>location = ".concat(a[l][c].pos,"</td><td>length = ").concat(a[l][c].length," pixels</td></tr>"):(s+="<td>location = ".concat(a[l][c].pos,"</td>"),"point"!==l&&(s+="<td> area = ".concat(a[l][c].area,"%</td>")),s+="</tr>"),d+=s,u++}return d}(y,this.ingredients.shapes),f!==_.summary.innerHTML&&(_.summary.innerHTML=f),h.listShapes!==_.list.innerHTML&&(_.list.innerHTML=h.listShapes),E!==_.shapeDetails.innerHTML&&(_.shapeDetails.innerHTML=E),this._accessibleOutputs[y]=_)},C.default=r=r.default},{"../core/main":280,"core-js/modules/es.array.concat":152}],264:[function(r,H,C){"use strict";var y=(y=r("./core/main"))&&y.__esModule?y:{default:y};r("./core/constants"),r("./core/environment"),r("./core/friendly_errors/stacktrace"),r("./core/friendly_errors/validate_params"),r("./core/friendly_errors/file_errors"),r("./core/friendly_errors/fes_core"),r("./core/friendly_errors/sketch_reader"),r("./core/helpers"),r("./core/legacy"),r("./core/preload"),r("./core/p5.Element"),r("./core/p5.Graphics"),r("./core/p5.Renderer"),r("./core/p5.Renderer2D"),r("./core/rendering"),r("./core/shim"),r("./core/structure"),r("./core/transform"),r("./core/shape/2d_primitives"),r("./core/shape/attributes"),r("./core/shape/curves"),r("./core/shape/vertex"),r("./accessibility/outputs"),r("./accessibility/textOutput"),r("./accessibility/gridOutput"),r("./accessibility/color_namer"),r("./color/color_conversion"),r("./color/creating_reading"),r("./color/p5.Color"),r("./color/setting"),r("./data/p5.TypedDict"),r("./data/local_storage.js"),r("./dom/dom"),r("./accessibility/describe"),r("./events/acceleration"),r("./events/keyboard"),r("./events/mouse"),r("./events/touch"),r("./image/filters"),r("./image/image"),r("./image/loading_displaying"),r("./image/p5.Image"),r("./image/pixels"),r("./io/files"),r("./io/p5.Table"),r("./io/p5.TableRow"),r("./io/p5.XML"),r("./math/calculation"),r("./math/math"),r("./math/noise"),r("./math/p5.Vector"),r("./math/random"),r("./math/trigonometry"),r("./typography/attributes"),r("./typography/loading_displaying"),r("./typography/p5.Font"),r("./utilities/array_functions"),r("./utilities/conversion"),r("./utilities/string_functions"),r("./utilities/time_date"),r("./webgl/3d_primitives"),r("./webgl/interaction"),r("./webgl/light"),r("./webgl/loading"),r("./webgl/material"),r("./webgl/p5.Camera"),r("./webgl/p5.DataArray"),r("./webgl/p5.Geometry"),r("./webgl/p5.Matrix"),r("./webgl/p5.RendererGL.Immediate"),r("./webgl/p5.RendererGL"),r("./webgl/p5.RendererGL.Retained"),r("./webgl/p5.Framebuffer"),r("./webgl/p5.Shader"),r("./webgl/p5.RenderBuffer"),r("./webgl/p5.Texture"),r("./webgl/text"),r("./core/init"),H.exports=y.default},{"./accessibility/color_namer":259,"./accessibility/describe":260,"./accessibility/gridOutput":261,"./accessibility/outputs":262,"./accessibility/textOutput":263,"./color/color_conversion":265,"./color/creating_reading":266,"./color/p5.Color":267,"./color/setting":268,"./core/constants":269,"./core/environment":270,"./core/friendly_errors/fes_core":271,"./core/friendly_errors/file_errors":272,"./core/friendly_errors/sketch_reader":273,"./core/friendly_errors/stacktrace":274,"./core/friendly_errors/validate_params":275,"./core/helpers":276,"./core/init":277,"./core/legacy":279,"./core/main":280,"./core/p5.Element":281,"./core/p5.Graphics":282,"./core/p5.Renderer":283,"./core/p5.Renderer2D":284,"./core/preload":285,"./core/rendering":286,"./core/shape/2d_primitives":287,"./core/shape/attributes":288,"./core/shape/curves":289,"./core/shape/vertex":290,"./core/shim":291,"./core/structure":292,"./core/transform":293,"./data/local_storage.js":294,"./data/p5.TypedDict":295,"./dom/dom":296,"./events/acceleration":297,"./events/keyboard":298,"./events/mouse":299,"./events/touch":300,"./image/filters":301,"./image/image":302,"./image/loading_displaying":303,"./image/p5.Image":304,"./image/pixels":305,"./io/files":306,"./io/p5.Table":307,"./io/p5.TableRow":308,"./io/p5.XML":309,"./math/calculation":310,"./math/math":311,"./math/noise":312,"./math/p5.Vector":313,"./math/random":314,"./math/trigonometry":315,"./typography/attributes":316,"./typography/loading_displaying":317,"./typography/p5.Font":318,"./utilities/array_functions":319,"./utilities/conversion":320,"./utilities/string_functions":321,"./utilities/time_date":322,"./webgl/3d_primitives":323,"./webgl/interaction":325,"./webgl/light":326,"./webgl/loading":327,"./webgl/material":328,"./webgl/p5.Camera":329,"./webgl/p5.DataArray":330,"./webgl/p5.Framebuffer":331,"./webgl/p5.Geometry":332,"./webgl/p5.Matrix":333,"./webgl/p5.RenderBuffer":334,"./webgl/p5.RendererGL":337,"./webgl/p5.RendererGL.Immediate":335,"./webgl/p5.RendererGL.Retained":336,"./webgl/p5.Shader":338,"./webgl/p5.Texture":339,"./webgl/text":340}],265:[function(r,H,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.ColorConversion={_hsbaToHSLA:function(y){var h=y[1],f=y[2],E=(2-h)*f/2;return 0!=E&&(1==E?h=0:E<.5?h/=2-h:h=h*f/(2-2*E)),[y[0],h,E,y[3]]},_hsbaToRGBA:function(y){var _,h,f,E,w,a=6*y[0],l=y[1],d=y[2];return 0===l?[d,d,d,y[3]]:(h=d*(1-l),f=d*(1-l*(a-(_=Math.floor(a)))),l=d*(1-l*(1+_-a)),a=1===_?(E=f,w=d,h):2===_?(E=h,w=d,l):3===_?(E=h,w=f,d):4===_?(E=l,w=h,d):5===_?(E=d,w=h,f):(E=d,w=l,h),[E,w,a,y[3]])},_hslaToHSBA:function(y){var h=y[1],f=y[2],E=f<.5?(1+h)*f:f+h-f*h;return[y[0],h=2*(E-f)/E,E,y[3]]},_hslaToRGBA:function(y){var _,h=6*y[0],f=y[1],E=y[2];return 0===f?[E,E,E,y[3]]:[(_=function(w,a,l){return w<0?w+=6:6<=w&&(w-=6),w<1?a+(l-a)*w:w<3?l:w<4?a+(l-a)*(4-w):a})(2+h,f=2*E-(E=E<.5?(1+f)*E:E+f-E*f),E),_(h,f,E),_(h-2,f,E),y[3]]},_rgbaToHSBA:function(y){var _,h,f=y[0],E=y[1],w=y[2],a=Math.max(f,E,w),l=a-Math.min(f,E,w);return 0==l?h=_=0:(h=l/a,f===a?_=(E-w)/l:E===a?_=2+(w-f)/l:w===a&&(_=4+(f-E)/l),_<0?_+=6:6<=_&&(_-=6)),[_/6,h,a,y[3]]},_rgbaToHSLA:function(y){var _,h,d,f=y[0],E=y[1],w=y[2],a=Math.max(f,E,w),l=a+(d=Math.min(f,E,w));return 0==(d=a-d)?h=_=0:(h=l<1?d/l:d/(2-l),f===a?_=(E-w)/d:E===a?_=2+(w-f)/d:w===a&&(_=4+(f-E)/d),_<0?_+=6:6<=_&&(_-=6)),[_/6,h,l/2,y[3]]}},C.default=r=r.default.ColorConversion},{"../core/main":280}],266:[function(r,H,C){"use strict";function y(a){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(l){return y(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.map"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(w=r("../core/main"))&&w.__esModule?w:{default:w},f=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var l=E();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(r("../core/constants"));function E(){var a;return"function"!=typeof WeakMap?null:(E=function(){return a},a=new WeakMap)}r("./p5.Color"),r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),h.default.prototype.alpha=function(a){return h.default._validateParameters("alpha",arguments),this.color(a)._getAlpha()},h.default.prototype.blue=function(a){return h.default._validateParameters("blue",arguments),this.color(a)._getBlue()},h.default.prototype.brightness=function(a){return h.default._validateParameters("brightness",arguments),this.color(a)._getBrightness()},h.default.prototype.color=function(){for(var a,l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];return h.default._validateParameters("color",d),d[0]instanceof h.default.Color?d[0]:(a=Array.isArray(d[0])?d[0]:d,new h.default.Color(this,a))},h.default.prototype.green=function(a){return h.default._validateParameters("green",arguments),this.color(a)._getGreen()},h.default.prototype.hue=function(a){return h.default._validateParameters("hue",arguments),this.color(a)._getHue()},h.default.prototype.lerpColor=function(a,l,d){h.default._validateParameters("lerpColor",arguments);var u,c,s,m=this._colorMode,p=this._colorMaxes;if(m===f.RGB)c=a.levels.map(function(b){return b/255}),s=l.levels.map(function(b){return b/255});else if(m===f.HSB)a._getBrightness(),l._getBrightness(),c=a.hsba,s=l.hsba;else{if(m!==f.HSL)throw new Error("".concat(m," cannot be used for interpolation."));a._getLightness(),l._getLightness(),c=a.hsla,s=l.hsla}return d=Math.max(Math.min(d,1),0),void 0===this.lerp&&(this.lerp=function(b,T,F){return F*(T-b)+b}),m===f.RGB?u=this.lerp(c[0],s[0],d):(.5<Math.abs(c[0]-s[0])&&(c[0]>s[0]?s[0]+=1:c[0]+=1),1<=(u=this.lerp(c[0],s[0],d))&&--u),a=this.lerp(c[1],s[1],d),l=this.lerp(c[2],s[2],d),c=this.lerp(c[3],s[3],d),this.color(u*=p[m][0],a*=p[m][1],l*=p[m][2],c*=p[m][3])},h.default.prototype.lightness=function(a){return h.default._validateParameters("lightness",arguments),this.color(a)._getLightness()},h.default.prototype.red=function(a){return h.default._validateParameters("red",arguments),this.color(a)._getRed()},h.default.prototype.saturation=function(a){return h.default._validateParameters("saturation",arguments),this.color(a)._getSaturation()};var w=h.default;C.default=w},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"./p5.Color":267,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],267:[function(u,H,C){"use strict";function y(b){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(b)}function _(b){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(T){return y(T)}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":y(T)})(b)}u("core-js/modules/es.symbol"),u("core-js/modules/es.symbol.description"),u("core-js/modules/es.symbol.iterator"),u("core-js/modules/es.array.includes"),u("core-js/modules/es.array.iterator"),u("core-js/modules/es.array.join"),u("core-js/modules/es.array.map"),u("core-js/modules/es.array.slice"),u("core-js/modules/es.object.get-own-property-descriptor"),u("core-js/modules/es.object.to-string"),u("core-js/modules/es.regexp.constructor"),u("core-js/modules/es.regexp.exec"),u("core-js/modules/es.regexp.to-string"),u("core-js/modules/es.string.includes"),u("core-js/modules/es.string.iterator"),u("core-js/modules/es.string.trim"),u("core-js/modules/es.weak-map"),u("core-js/modules/web.dom-collections.iterator"),u("core-js/modules/es.array.includes"),u("core-js/modules/es.array.join"),u("core-js/modules/es.array.map"),u("core-js/modules/es.array.slice"),u("core-js/modules/es.object.to-string"),u("core-js/modules/es.regexp.constructor"),u("core-js/modules/es.regexp.exec"),u("core-js/modules/es.regexp.to-string"),u("core-js/modules/es.string.includes"),u("core-js/modules/es.string.trim"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=a(u("../core/main")),f=function(b){if(b&&b.__esModule)return b;if(null===b||"object"!==_(b)&&"function"!=typeof b)return{default:b};var T=w();if(T&&T.has(b))return T.get(b);var F,k={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(F in b){var P;Object.prototype.hasOwnProperty.call(b,F)&&((P=A?Object.getOwnPropertyDescriptor(b,F):null)&&(P.get||P.set)?Object.defineProperty(k,F,P):k[F]=b[F])}return k.default=b,T&&T.set(b,k),k}(u("../core/constants")),E=a(u("./color_conversion"));function w(){var b;return"function"!=typeof WeakMap?null:(w=function(){return b},b=new WeakMap)}function a(b){return b&&b.__esModule?b:{default:b}}function l(b,T){for(var F=0;F<T.length;F++){var k=T[F];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}var d={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},p=(u=/\s*/,/(\d{1,3})/),c=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,s=new RegExp("".concat(c.source,"%")),m={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",p.source,",",p.source,",",p.source,"\\)$"].join(u.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",s.source,",",s.source,",",s.source,"\\)$"].join(u.source),"i"),RGBA:new RegExp(["^rgba\\(",p.source,",",p.source,",",p.source,",",c.source,"\\)$"].join(u.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",s.source,",",s.source,",",s.source,",",c.source,"\\)$"].join(u.source),"i"),HSL:new RegExp(["^hsl\\(",p.source,",",s.source,",",s.source,"\\)$"].join(u.source),"i"),HSLA:new RegExp(["^hsla\\(",p.source,",",s.source,",",s.source,",",c.source,"\\)$"].join(u.source),"i"),HSB:new RegExp(["^hsb\\(",p.source,",",s.source,",",s.source,"\\)$"].join(u.source),"i"),HSBA:new RegExp(["^hsba\\(",p.source,",",s.source,",",s.source,",",c.source,"\\)$"].join(u.source),"i")};h.default.Color=function(){function b(A,P){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(A._colorMode,A._colorMaxes),![f.RGB,f.HSL,f.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=b._parseInputs.apply(this,P),this._calculateLevels()}var T,F,k;return T=b,k=[{key:"_parseInputs",value:function(A,P,$,j){var N,I=arguments.length,B=this.mode,z=this.maxes[B],W=[];if(3<=I){for(W[0]=A/z[0],W[1]=P/z[1],W[2]=$/z[2],W[3]="number"==typeof j?j/z[3]:1,N=W.length-1;0<=N;--N){var ne=W[N];ne<0?W[N]=0:1<ne&&(W[N]=1)}return B===f.HSL?E.default._hslaToRGBA(W):B===f.HSB?E.default._hsbaToRGBA(W):W}if(1===I&&"string"==typeof A){if($=A.trim().toLowerCase(),d[$])return b._parseInputs.call(this,d[$]);if(m.HEX3.test($))return(W=m.HEX3.exec($).slice(1).map(function(J){return parseInt(J+J,16)/255}))[3]=1,W;if(m.HEX6.test($))return(W=m.HEX6.exec($).slice(1).map(function(J){return parseInt(J,16)/255}))[3]=1,W;if(m.HEX4.test($))return m.HEX4.exec($).slice(1).map(function(J){return parseInt(J+J,16)/255});if(m.HEX8.test($))return m.HEX8.exec($).slice(1).map(function(J){return parseInt(J,16)/255});if(m.RGB.test($))return(W=m.RGB.exec($).slice(1).map(function(J){return J/255}))[3]=1,W;if(m.RGB_PERCENT.test($))return(W=m.RGB_PERCENT.exec($).slice(1).map(function(J){return parseFloat(J)/100}))[3]=1,W;if(m.RGBA.test($))return m.RGBA.exec($).slice(1).map(function(J,q){return 3===q?parseFloat(J):J/255});if(m.RGBA_PERCENT.test($))return m.RGBA_PERCENT.exec($).slice(1).map(function(J,q){return 3===q?parseFloat(J):parseFloat(J)/100});if(m.HSL.test($)?(W=m.HSL.exec($).slice(1).map(function(J,q){return 0===q?parseInt(J,10)/360:parseInt(J,10)/100}))[3]=1:m.HSLA.test($)&&(W=m.HSLA.exec($).slice(1).map(function(J,q){return 0===q?parseInt(J,10)/360:3===q?parseFloat(J):parseInt(J,10)/100})),(W=W.map(function(J){return Math.max(Math.min(J,1),0)})).length)return E.default._hslaToRGBA(W);if(m.HSB.test($)?(W=m.HSB.exec($).slice(1).map(function(J,q){return 0===q?parseInt(J,10)/360:parseInt(J,10)/100}))[3]=1:m.HSBA.test($)&&(W=m.HSBA.exec($).slice(1).map(function(J,q){return 0===q?parseInt(J,10)/360:3===q?parseFloat(J):parseInt(J,10)/100})),W.length){for(N=W.length-1;0<=N;--N)W[N]=Math.max(Math.min(W[N],1),0);return E.default._hsbaToRGBA(W)}W=[1,1,1,1]}else{if(1!==I&&2!==I||"number"!=typeof A)throw new Error("".concat(arguments,"is not a valid color representation."));W[0]=A/z[2],W[1]=A/z[2],W[2]=A/z[2],W[3]="number"==typeof P?P/z[3]:1,W=W.map(function(J){return Math.max(Math.min(J,1),0)})}return W}}],(F=[{key:"toString",value:function(A){var P=this.levels,$=this._array,j=$[3];switch(A){case"#rrggbb":return"#".concat(P[0]<16?"0".concat(P[0].toString(16)):P[0].toString(16),P[1]<16?"0".concat(P[1].toString(16)):P[1].toString(16),P[2]<16?"0".concat(P[2].toString(16)):P[2].toString(16));case"#rrggbbaa":return"#".concat(P[0]<16?"0".concat(P[0].toString(16)):P[0].toString(16),P[1]<16?"0".concat(P[1].toString(16)):P[1].toString(16),P[2]<16?"0".concat(P[2].toString(16)):P[2].toString(16),P[3]<16?"0".concat(P[3].toString(16)):P[3].toString(16));case"#rgb":return"#".concat(Math.round(15*$[0]).toString(16),Math.round(15*$[1]).toString(16),Math.round(15*$[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*$[0]).toString(16),Math.round(15*$[1]).toString(16),Math.round(15*$[2]).toString(16),Math.round(15*$[3]).toString(16));case"rgb":return"rgb(".concat(P[0],", ",P[1],", ",P[2],")");case"rgb%":return"rgb(".concat((100*$[0]).toPrecision(3),"%, ",(100*$[1]).toPrecision(3),"%, ",(100*$[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*$[0]).toPrecision(3),"%, ",(100*$[1]).toPrecision(3),"%, ",(100*$[2]).toPrecision(3),"%, ",(100*$[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[f.HSB][0],", ",this.hsba[1]*this.maxes[f.HSB][1],", ",this.hsba[2]*this.maxes[f.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[f.HSB][0],", ",this.hsba[1]*this.maxes[f.HSB][1],", ",this.hsba[2]*this.maxes[f.HSB][2],", ",j,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*j).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[f.HSL][0],", ",this.hsla[1]*this.maxes[f.HSL][1],", ",this.hsla[2]*this.maxes[f.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[f.HSL][0],", ",this.hsla[1]*this.maxes[f.HSL][1],", ",this.hsla[2]*this.maxes[f.HSL][2],", ",j,")");case"hsla%":return this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*j).toPrecision(3),"%)");default:return"rgba(".concat(P[0],",",P[1],",",P[2],",",j,")")}}},{key:"setRed",value:function(A){this._array[0]=A/this.maxes[f.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(A){this._array[1]=A/this.maxes[f.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(A){this._array[2]=A/this.maxes[f.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(A){this._array[3]=A/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var A=this._array,P=this.levels=new Array(A.length),$=A.length-1;0<=$;--$)P[$]=Math.round(255*A[$]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(A,P){this.mode=A,this.maxes=P}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[f.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[f.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[f.RGB][1]}},{key:"_getHue",value:function(){return this.mode===f.HSB?(this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[f.HSB][0]):(this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[f.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[f.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[f.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===f.HSB?(this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[f.HSB][1]):(this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[f.HSL][1])}}])&&l(T.prototype,F),k&&l(T,k),b}(),C.default=p=h.default.Color},{"../core/constants":269,"../core/main":280,"./color_conversion":265,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],268:[function(r,H,C){"use strict";function y(a){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(l){return y(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.fill"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(w=r("../core/main"))&&w.__esModule?w:{default:w},f=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var l=E();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(r("../core/constants"));function E(){var a;return"function"!=typeof WeakMap?null:(E=function(){return a},a=new WeakMap)}r("./p5.Color"),h.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},h.default.prototype.endClip=function(){this._renderer.endClip()},h.default.prototype.clip=function(a,l){this._renderer.beginClip(l),a(),this._renderer.endClip(l)},h.default.prototype.background=function(){var a;return(a=this._renderer).background.apply(a,arguments),this},h.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},h.default.prototype.colorMode=function(a,l,d,u,c){return h.default._validateParameters("colorMode",arguments),a!==f.RGB&&a!==f.HSB&&a!==f.HSL||(this._colorMode=a,a=this._colorMaxes[a],2===arguments.length?(a[0]=l,a[1]=l,a[2]=l,a[3]=l):4===arguments.length?(a[0]=l,a[1]=d,a[2]=u):5===arguments.length&&(a[0]=l,a[1]=d,a[2]=u,a[3]=c)),this},h.default.prototype.fill=function(){var a;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(a=this._renderer).fill.apply(a,arguments),this},h.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},h.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},h.default.prototype.stroke=function(){var a;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(a=this._renderer).stroke.apply(a,arguments),this},h.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this},h.default.prototype.noErase=function(){return this._renderer.noErase(),this};var w=h.default;C.default=w},{"../core/constants":269,"../core/main":280,"./p5.Color":267,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],269:[function(r,H,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.QUADRATIC=C.LINEAR=C._CTX_MIDDLE=C._DEFAULT_LEADMULT=C._DEFAULT_TEXT_FILL=C.WORD=C.CHAR=C.BOLDITALIC=C.BOLD=C.ITALIC=C.NORMAL=C.BLUR=C.ERODE=C.DILATE=C.POSTERIZE=C.INVERT=C.OPAQUE=C.GRAY=C.THRESHOLD=C.BURN=C.DODGE=C.SOFT_LIGHT=C.HARD_LIGHT=C.OVERLAY=C.REPLACE=C.SCREEN=C.MULTIPLY=C.EXCLUSION=C.SUBTRACT=C.DIFFERENCE=C.LIGHTEST=C.DARKEST=C.ADD=C.REMOVE=C.BLEND=C.UP_ARROW=C.TAB=C.SHIFT=C.RIGHT_ARROW=C.RETURN=C.OPTION=C.LEFT_ARROW=C.ESCAPE=C.ENTER=C.DOWN_ARROW=C.DELETE=C.CONTROL=C.BACKSPACE=C.ALT=C.AUTO=C.HSL=C.HSB=C.RGB=C.MITER=C.BEVEL=C.ROUND=C.SQUARE=C.PROJECT=C.PIE=C.CHORD=C.OPEN=C.CLOSE=C.TESS=C.QUAD_STRIP=C.QUADS=C.TRIANGLE_STRIP=C.TRIANGLE_FAN=C.TRIANGLES=C.LINE_LOOP=C.LINE_STRIP=C.LINES=C.POINTS=C.BASELINE=C.BOTTOM=C.TOP=C.CENTER=C.LEFT=C.RIGHT=C.RADIUS=C.CORNERS=C.CORNER=C.RAD_TO_DEG=C.DEG_TO_RAD=C.RADIANS=C.DEGREES=C.TWO_PI=C.TAU=C.QUARTER_PI=C.PI=C.HALF_PI=C.WAIT=C.TEXT=C.MOVE=C.HAND=C.CROSS=C.ARROW=C.WEBGL2=C.WEBGL=C.P2D=C.VERSION=void 0,C.RGBA=C.HALF_FLOAT=C.FLOAT=C.UNSIGNED_INT=C.UNSIGNED_BYTE=C.COVER=C.CONTAIN=C.FALLBACK=C.LABEL=C.AXES=C.GRID=C._DEFAULT_FILL=C._DEFAULT_STROKE=C.PORTRAIT=C.LANDSCAPE=C.SMOOTH=C.FLAT=C.MIRROR=C.CLAMP=C.REPEAT=C.NEAREST=C.IMAGE=C.IMMEDIATE=C.TEXTURE=C.FILL=C.STROKE=C.CURVE=C.BEZIER=void 0;var y=Math.PI,_=(C.VERSION="1.9.1",C.P2D="p2d",C.WEBGL="webgl",C.WEBGL2="webgl2",C.ARROW="default",C.CROSS="crosshair",C.HAND="pointer",C.MOVE="move",C.TEXT="text",C.WAIT="wait",y/2);C.HALF_PI=_,C.PI=_=y,C.QUARTER_PI=_=y/4,C.TAU=_=2*y,C.TWO_PI=_=2*y,C.DEGREES="degrees",C.RADIANS="radians",C.DEG_TO_RAD=_=y/180,C.RAD_TO_DEG=_=180/y,C.CORNER="corner",C.CORNERS="corners",C.RADIUS="radius",C.RIGHT="right",C.LEFT="left",C.CENTER="center",C.TOP="top",C.BOTTOM="bottom",C.BASELINE="alphabetic",C.POINTS=0,C.LINES=1,C.LINE_STRIP=3,C.LINE_LOOP=2,C.TRIANGLES=4,C.TRIANGLE_FAN=6,C.TRIANGLE_STRIP=5,C.QUADS="quads",C.QUAD_STRIP="quad_strip",C.TESS="tess",C.CLOSE="close",C.OPEN="open",C.CHORD="chord",C.PIE="pie",C.PROJECT="square",C.SQUARE="butt",C.ROUND="round",C.BEVEL="bevel",C.MITER="miter",C.RGB="rgb",C.HSB="hsb",C.HSL="hsl",C.AUTO="auto",C.ALT=18,C.BACKSPACE=8,C.CONTROL=17,C.DELETE=46,C.DOWN_ARROW=40,C.ENTER=13,C.ESCAPE=27,C.LEFT_ARROW=37,C.OPTION=18,C.RETURN=13,C.RIGHT_ARROW=39,C.SHIFT=16,C.TAB=9,C.UP_ARROW=38,C.BLEND="source-over",C.REMOVE="destination-out",C.ADD="lighter",C.DARKEST="darken",C.LIGHTEST="lighten",C.DIFFERENCE="difference",C.SUBTRACT="subtract",C.EXCLUSION="exclusion",C.MULTIPLY="multiply",C.SCREEN="screen",C.REPLACE="copy",C.OVERLAY="overlay",C.HARD_LIGHT="hard-light",C.SOFT_LIGHT="soft-light",C.DODGE="color-dodge",C.BURN="color-burn",C.THRESHOLD="threshold",C.GRAY="gray",C.OPAQUE="opaque",C.INVERT="invert",C.POSTERIZE="posterize",C.DILATE="dilate",C.ERODE="erode",C.BLUR="blur",C.NORMAL="normal",C.ITALIC="italic",C.BOLD="bold",C.BOLDITALIC="bold italic",C.CHAR="CHAR",C.WORD="WORD",C._DEFAULT_TEXT_FILL="#000000",C._DEFAULT_LEADMULT=1.25,C._CTX_MIDDLE="middle",C.LINEAR="linear",C.QUADRATIC="quadratic",C.BEZIER="bezier",C.CURVE="curve",C.STROKE="stroke",C.FILL="fill",C.TEXTURE="texture",C.IMMEDIATE="immediate",C.IMAGE="image",C.NEAREST="nearest",C.REPEAT="repeat",C.CLAMP="clamp",C.MIRROR="mirror",C.FLAT="flat",C.SMOOTH="smooth",C.LANDSCAPE="landscape",C.PORTRAIT="portrait",C._DEFAULT_STROKE="#000000",C._DEFAULT_FILL="#FFFFFF",C.GRID="grid",C.AXES="axes",C.LABEL="label",C.FALLBACK="fallback",C.CONTAIN="contain",C.COVER="cover",C.UNSIGNED_BYTE="unsigned-byte",C.UNSIGNED_INT="unsigned-int",C.FLOAT="float",C.HALF_FLOAT="half-float",C.RGBA="rgba"},{}],270:[function(r,H,C){"use strict";function y(c){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(c)}function _(c){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(s){return y(s)}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":y(s)})(c)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.search"),r("core-js/modules/es.string.split"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.search"),r("core-js/modules/es.string.split"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(f=r("./main"))&&f.__esModule?f:{default:f},f=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==_(c)&&"function"!=typeof c)return{default:c};var s=E();if(s&&s.has(c))return s.get(c);var m,p={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in c){var T;Object.prototype.hasOwnProperty.call(c,m)&&((T=b?Object.getOwnPropertyDescriptor(c,m):null)&&(T.get||T.set)?Object.defineProperty(p,m,T):p[m]=c[m])}return p.default=c,s&&s.set(c,p),p}(r("./constants"));function E(){var c;return"function"!=typeof WeakMap?null:(E=function(){return c},c=new WeakMap)}var w=[f.ARROW,f.CROSS,f.HAND,f.MOVE,f.TEXT,f.WAIT],a=(h.default.prototype._frameRate=0,h.default.prototype._lastFrameTime=window.performance.now(),h.default.prototype._targetFrameRate=60,window.print),l=!1;function d(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function u(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}h.default.prototype.print=function(){var c;arguments.length?(c=console).log.apply(c,arguments):l||(a(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(l=!0))},h.default.prototype.frameCount=0,h.default.prototype.deltaTime=0,h.default.prototype.focused=document.hasFocus(),h.default.prototype.cursor=function(c,s,m){var p,b="auto",T=this._curElement.elt;w.includes(c)?b=c:"string"==typeof c&&(p="",s&&m&&"number"==typeof s&&"number"==typeof m&&(p="".concat(s," ").concat(m)),b="http://"===c.substring(0,7)||"https://"===c.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(c)?"url(".concat(c,") ").concat(p,", auto"):c),T.style.cursor=b},h.default.prototype.frameRate=function(c){return h.default._validateParameters("frameRate",arguments),"number"!=typeof c||c<0?this._frameRate:(this._setProperty("_targetFrameRate",c),0===c&&this._setProperty("_frameRate",c),this)},h.default.prototype.getFrameRate=function(){return this.frameRate()},h.default.prototype.setFrameRate=function(c){return this.frameRate(c)},h.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},h.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},h.default.prototype.webglVersion=f.P2D,h.default.prototype.displayWidth=screen.width,h.default.prototype.displayHeight=screen.height,h.default.prototype.windowWidth=d(),h.default.prototype.windowHeight=u(),h.default.prototype._onresize=function(c){this._setProperty("windowWidth",d()),this._setProperty("windowHeight",u());var s=this._isGlobal?window:this;"function"!=typeof s.windowResized||void 0===(s=s.windowResized(c))||s||c.preventDefault()},h.default.prototype.width=0,h.default.prototype.height=0,h.default.prototype.fullscreen=function(c){if(h.default._validateParameters("fullscreen",arguments),void 0===c)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(c){if(c=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");c.requestFullscreen?c.requestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.webkitRequestFullscreen?c.webkitRequestFullscreen():c.msRequestFullscreen&&c.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},h.default.prototype.pixelDensity=function(c){var s;return h.default._validateParameters("pixelDensity",arguments),"number"==typeof c?(c!==this._pixelDensity&&(this._pixelDensity=c),(s=this).resizeCanvas(this.width,this.height,!0)):s=this._pixelDensity,s},h.default.prototype.displayDensity=function(){return window.devicePixelRatio},h.default.prototype.getURL=function(){return location.href},h.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(c){return""!==c})},h.default.prototype.getURLParams=function(){for(var c,s=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,m={};null!=(c=s.exec(location.search));)c.index===s.lastIndex&&s.lastIndex++,m[c[1]]=c[2];return m},C.default=r=h.default},{"./constants":269,"./main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.search":202,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],271:[function(r,H,C){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-own-property-names"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.starts-with"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-own-property-names"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.starts-with"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(w=r("../main"))&&w.__esModule?w:{default:w};function _(a,l){l=l||console.log.bind(console),h||E(),h.some(function(d){var u;if(a.message&&null!==a.message.match("\\W?".concat(d.name,"\\W")))return u="function"===d.type?"".concat(d.name,"()"):d.name,l("Did you just try to use p5.js's ".concat(u," ").concat(d.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(f)),!0})}r("../internationalization");var h=null,E=null,f=(y.default._friendlyError=y.default._checkForUserDefinedFunctions=y.default._fesErrorMonitor=function(){},h=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),w=(E=function(){function a(d){return Object.getOwnPropertyNames(d).filter(function(u){return"_"!==u[0]&&!(u in l)&&(l[u]=!0)}).map(function(u){var c="function"==typeof d[u]?"function":u===u.toUpperCase()?"constant":"variable";return{name:u,type:c}})}var l={};(h=[].concat(a(y.default.prototype),a(r("../constants")))).sort(function(d,u){return u.name.length-d.name.length})},y.default.prototype._helpForMisusedAtTopLevelCode=_,"complete"!==document.readyState&&(window.addEventListener("error",_,!1),window.addEventListener("load",function(){window.removeEventListener("error",_,!1)})),y.default);C.default=w},{"../constants":269,"../internationalization":278,"../main":280,"./browser_errors":void 0,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.function.name":173,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-names":184,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.starts-with":204,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],272:[function(r,H,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(y=r("../main"))&&y.__esModule?y:{default:y};r("../internationalization"),y.default._friendlyFileLoadError=function(){},C.default=r=y.default},{"../internationalization":278,"../main":280}],273:[function(r,H,C){"use strict";function y(R){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(se){return typeof se}:function(se){return se&&"function"==typeof Symbol&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se})(R)}function _(R){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(se){return y(se)}:function(se){return se&&"function"==typeof Symbol&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":y(se)})(R)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=function J(R){return R&&R.__esModule?R:{default:R}}(r("../main"));function W(){var R;return"function"!=typeof WeakMap?null:(W=function(){return R},R=new WeakMap)}r("../internationalization"),function ne(R){if(R&&R.__esModule)return R;if(null===R||"object"!==_(R)&&"function"!=typeof R)return{default:R};var se=W();if(se&&se.has(R))return se.get(R);var ge,De,Le={},Ze=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(ge in R)Object.prototype.hasOwnProperty.call(R,ge)&&((De=Ze?Object.getOwnPropertyDescriptor(R,ge):null)&&(De.get||De.set)?Object.defineProperty(Le,ge,De):Le[ge]=R[ge]);return Le.default=R,se&&se.set(R,Le),Le}(r("../constants")),h.default._fesCodeReader=function(){},C.default=h.default},{"../constants":269,"../internationalization":278,"../main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],274:[function(r,H,C){"use strict";function y(){var _=/(^|@)\S+:\d+/,h=/^\s*at .*(\S+:\d+|\(native\))/m,f=/^(eval@)?(\[native code])?$/;return{parse:function(E){return void 0!==E.stacktrace||void 0!==E["opera#sourceloc"]?this.parseOpera(E):E.stack&&E.stack.match(h)?this.parseV8OrIE(E):E.stack?this.parseFFOrSafari(E):void 0},extractLocation:function(E){return-1===E.indexOf(":")?[E]:[(E=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(E.replace(/[()]/g,"")))[1],E[2]||void 0,E[3]||void 0]},parseV8OrIE:function(E){return E.stack.split("\n").filter(function(w){return!!w.match(h)},this).map(function(w){var l=(a=(w=-1<w.indexOf("(eval ")?w.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):w).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),a=(a=l?a.replace(l[0],""):a).split(/\s+/).slice(1);return l=this.extractLocation(l?l[1]:a.pop()),{functionName:a.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(l[0])?void 0:l[0],lineNumber:l[1],columnNumber:l[2],source:w}},this)},parseFFOrSafari:function(E){return E.stack.split("\n").filter(function(w){return!w.match(f)},this).map(function(w){var a,l;return-1===(w=-1<w.indexOf(" > eval")?w.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):w).indexOf("@")&&-1===w.indexOf(":")?{functionName:w}:{functionName:(l=w.match(a=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&l[1]?l[1]:void 0,fileName:(l=this.extractLocation(w.replace(a,"")))[0],lineNumber:l[1],columnNumber:l[2],source:w}},this)},parseOpera:function(E){return!E.stacktrace||-1<E.message.indexOf("\n")&&E.message.split("\n").length>E.stacktrace.split("\n").length?this.parseOpera9(E):E.stack?this.parseOpera11(E):this.parseOpera10(E)},parseOpera9:function(E){for(var w=/Line (\d+).*script (?:in )?(\S+)/i,a=E.message.split("\n"),l=[],d=2,u=a.length;d<u;d+=2){var c=w.exec(a[d]);c&&l.push({fileName:c[2],lineNumber:c[1],source:a[d]})}return l},parseOpera10:function(E){for(var w=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,a=E.stacktrace.split("\n"),l=[],d=0,u=a.length;d<u;d+=2){var c=w.exec(a[d]);c&&l.push({functionName:c[3]||void 0,fileName:c[2],lineNumber:c[1],source:a[d]})}return l},parseOpera11:function(E){return E.stack.split("\n").filter(function(w){return!!w.match(_)&&!w.match(/^Error created at/)},this).map(function(w){var a,d=w.split("@"),l=this.extractLocation(d.pop());return{functionName:(d=d.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(a=d.match(/\(([^)]*)\)/)?d.replace(/^[^(]+\(([^)]*)\)$/,"$1"):a)||"[arguments not available]"===a?void 0:a.split(","),fileName:l[0],lineNumber:l[1],columnNumber:l[2],source:w}},this)}}}r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(r=(r=r("../main"))&&r.__esModule?r:{default:r}).default._getErrorStackParser=function(){return new y},C.default=r=r.default},{"../main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203}],275:[function(r,H,C){"use strict";function y(E){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(E)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var _=(_=r("../main"))&&_.__esModule?_:{default:_};function h(){var E;return"function"!=typeof WeakMap?null:(h=function(){return E},E=new WeakMap)}function f(E){return(f="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(w){return y(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":y(w)})(E)}(function(E){if(!(E&&E.__esModule||null===E||"object"!==f(E)&&"function"!=typeof E)){var w=h();if(w&&w.has(E))return w.get(E);var a,l={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in E){var u;Object.prototype.hasOwnProperty.call(E,a)&&((u=d?Object.getOwnPropertyDescriptor(E,a):null)&&(u.get||u.set)?Object.defineProperty(l,a,u):l[a]=E[a])}l.default=E,w&&w.set(E,l)}})(r("../constants")),r("../internationalization"),_.default._validateParameters=_.default._clearValidateParamsCache=function(){},C.default=r=_.default},{"../../../docs/parameterData.json":void 0,"../constants":269,"../internationalization":278,"../main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.function.name":173,"core-js/modules/es.map":174,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],276:[function(r,H,C){"use strict";function y(E){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(E)}function _(E){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(w){return y(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":y(w)})(E)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=function(E){if(E&&E.__esModule)return E;if(null===E||"object"!==_(E)&&"function"!=typeof E)return{default:E};var w=f();if(w&&w.has(E))return w.get(E);var a,l={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in E){var u;Object.prototype.hasOwnProperty.call(E,a)&&((u=d?Object.getOwnPropertyDescriptor(E,a):null)&&(u.get||u.set)?Object.defineProperty(l,a,u):l[a]=E[a])}return l.default=E,w&&w.set(E,l),l}(r("./constants"));function f(){var E;return"function"!=typeof WeakMap?null:(f=function(){return E},E=new WeakMap)}C.default={modeAdjust:function(E,w,a,l,d){return d===h.CORNER?{x:E,y:w,w:a,h:l}:d===h.CORNERS?{x:E,y:w,w:a-E,h:l-w}:d===h.RADIUS?{x:E-a,y:w-l,w:2*a,h:2*l}:d===h.CENTER?{x:E-.5*a,y:w-.5*l,w:a,h:l}:void 0}}},{"./constants":269,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],277:[function(r,H,C){"use strict";r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator");var y=(_=r("../core/main"))&&_.__esModule?_:{default:_};r("./internationalization");var _=Promise.resolve();Promise.all([new Promise(function(h,f){"complete"===document.readyState?h():window.addEventListener("load",h,!1)}),_]).then(function(){void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!y.default.instance&&new y.default})},{"../core/main":280,"./internationalization":278,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.string.iterator":197,"core-js/modules/web.dom-collections.iterator":243}],278:[function(r,H,C){"use strict";r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.setTranslatorLanguage=C.currentTranslatorLanguage=C.availableTranslatorLanguages=C.initialize=C.translator=void 0;var y,h=E(r("i18next")),f=E(r("i18next-browser-languagedetector"));function E(l){return l&&l.__esModule?l:{default:l}}function w(l,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}var a=function(){function l(s,m){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.init(s,m)}var d,u;return d=l,(u=[{key:"fetchWithTimeout",value:function(s,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3;return Promise.race([fetch(s,m),new Promise(function(b,T){return setTimeout(function(){return T(new Error("timeout"))},p)})])}},{key:"init",value:function(s){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.services=s,this.options=m}},{key:"read",value:function(s,m,p){var b=this.options.loadPath;s===this.options.fallback?p(null,y[s][m]):undefined.includes(s)?(b=this.services.interpolator.interpolate(b,{lng:s,ns:m}),this.loadUrl(b,p)):p("Not found",!1)}},{key:"loadUrl",value:function(s,m){this.fetchWithTimeout(s).then(function(p){if(p.ok)return p.json();throw new Error("failed loading ".concat(s))},function(){throw new Error("failed loading ".concat(s))}).then(function(p){return m(null,p)}).catch(m)}}])&&w(d.prototype,u),l}();a.type="backend",C.translator=function(l,d){console.debug("p5.js translator called before translations were loaded"),h.default.t(l,d)},C.initialize=function(){return h.default.use(f.default).use(a).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:y}).then(function(l){C.translator=l},function(l){return console.debug("Translations failed to load (".concat(l,")"))})},C.availableTranslatorLanguages=function(){return h.default.languages},C.currentTranslatorLanguage=function(l){return h.default.language},C.setTranslatorLanguage=function(l){return h.default.changeLanguage(l||void 0,function(d){return console.debug("Translations failed to load (".concat(d,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/web.dom-collections.iterator":243,i18next:3,"i18next-browser-languagedetector":3}],279:[function(r,H,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(r=(r=r("./main"))&&r.__esModule?r:{default:r}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},r.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},r.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},r.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},C.default=r=r.default},{"./main":280}],280:[function(r,H,C){"use strict";function y(l){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function _(l){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(d){return y(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":y(d)})(l)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-own-property-names"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.get-own-property-names"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,r("./shim");var h=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==_(l)&&"function"!=typeof l)return{default:l};var d=f();if(d&&d.has(l))return d.get(l);var u,c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var m;Object.prototype.hasOwnProperty.call(l,u)&&((m=s?Object.getOwnPropertyDescriptor(l,u):null)&&(m.get||m.set)?Object.defineProperty(c,u,m):c[u]=l[u])}return c.default=l,d&&d.set(l,c),c}(r("./constants"));function f(){var l;return"function"!=typeof WeakMap?null:(f=function(){return l},l=new WeakMap)}function E(l,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}var w,a=function(){function l(s,b){var p=this;if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=b,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},b=Object.getOwnPropertyNames(l.prototype._registeredMethods);var T=!0,F=!1,k=void 0;try{for(var A,P=b[Symbol.iterator]();!(T=(A=P.next()).done);T=!0){var $=A.value;this._registeredMethods[$]=l.prototype._registeredMethods[$].slice()}}catch(q){F=!0,k=q}finally{try{T||null==P.return||P.return()}finally{if(F)throw k}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),l.prototype.callRegisteredHooksFor=function(q){var ae=this||l.prototype,fe=this._isGlobal?window:this;if(ae._registeredMethods.hasOwnProperty(q)){ae=ae._registeredMethods[q];var Se=!0,K=void(q=!1);try{for(var R,se=ae[Symbol.iterator]();!(Se=(R=se.next()).done);Se=!0){var ge=R.value;"function"==typeof ge&&ge.call(fe)}}catch(Ze){q=!0,K=Ze}finally{try{Se||null==se.return||se.return()}finally{if(q)throw K}}}},this._start=function(){p._userNode&&"string"==typeof p._userNode&&(p._userNode=document.getElementById(p._userNode));var q=p._isGlobal?window:p;if(q.preload){p.callRegisteredHooksFor("beforePreload");var ae,fe=document.getElementById(p._loadingScreenId),Se=(fe||((fe=document.createElement("div")).innerHTML="Loading...",fe.style.position="absolute",fe.id=p._loadingScreenId,(p._userNode||document.body).appendChild(fe)),p._preloadMethods);for(ae in Se){Se[ae]=Se[ae]||l;var K=Se[ae];K!==l.prototype&&K!==l||(p._isGlobal&&(window[ae]=p._wrapPreload(p,ae)),K=p),p._registeredPreloadMethods[ae]=K[ae],K[ae]=p._wrapPreload(K,ae)}q.preload(),p._runIfPreloadsAreDone()}else p._setup(),p._recording||p._draw()},this._runIfPreloadsAreDone=function(){var q,ae=this._isGlobal?window:this;0===ae._preloadCount&&((q=document.getElementById(ae._loadingScreenId))&&q.parentNode.removeChild(q),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),ae._setup(),this._recording||ae._draw()))},this._decrementPreload=function(){var q=this._isGlobal?window:this;q._preloadDone||"function"!=typeof q.preload||(q._setProperty("_preloadCount",q._preloadCount-1),q._runIfPreloadsAreDone())},this._wrapPreload=function(q,ae){var fe=this;return function(){fe._incrementPreload();for(var Se=arguments.length,K=new Array(Se),R=0;R<Se;R++)K[R]=arguments[R];return fe._registeredPreloadMethods[ae].apply(q,K)}},this._incrementPreload=function(){var q=this._isGlobal?window:this;q._preloadDone||q._setProperty("_preloadCount",q._preloadCount+1)},this._setup=function(){p.callRegisteredHooksFor("beforeSetup"),p.createCanvas(p._defaultCanvasSize.width,p._defaultCanvasSize.height,"p2d");var q=p._isGlobal?window:p;if("function"==typeof q.preload)for(var ae in p._preloadMethods)q[ae]=p._preloadMethods[ae][ae],q[ae]&&p&&(q[ae]=q[ae].bind(p));p._millisStart=window.performance.now(),q._preloadDone=!0,"function"==typeof q.setup&&q.setup();var fe=document.getElementsByTagName("canvas"),Se=!0,K=!1,R=void 0;try{for(var se,ge=fe[Symbol.iterator]();!(Se=(se=ge.next()).done);Se=!0){var De=se.value;"true"===De.dataset.hidden&&(De.style.visibility="",delete De.dataset.hidden)}}catch(Le){K=!0,R=Le}finally{try{Se||null==ge.return||ge.return()}finally{if(K)throw R}}p._lastTargetFrameTime=window.performance.now(),p._lastRealFrameTime=window.performance.now(),p._setupDone=!0,(p._accessibleOutputs.grid||p._accessibleOutputs.text)&&p._updateAccsOutput(),p.callRegisteredHooksFor("afterSetup")},this._draw=function(){var q=window.performance.now(),fe=1e3/p._targetFrameRate;(!p._loop||fe-5<=q-p._lastTargetFrameTime)&&(p.deltaTime=q-p._lastRealFrameTime,p._setProperty("deltaTime",p.deltaTime),p._frameRate=1e3/p.deltaTime,p.redraw(),p._lastTargetFrameTime=Math.max(p._lastTargetFrameTime+fe,q),p._lastRealFrameTime=q,void 0!==p._updateMouseCoords&&(p._updateMouseCoords(),p._setProperty("movedX",0),p._setProperty("movedY",0))),p._loop&&(p._requestAnimId=window.requestAnimationFrame(p._draw))},this._setProperty=function(q,ae){p[q]=ae,p._isGlobal&&(window[q]=ae)},this.remove=function(){if(p._startListener&&window.removeEventListener("load",p._startListener,!1),(q=document.getElementById(p._loadingScreenId))&&(q.parentNode.removeChild(q),p._incrementPreload()),p._curElement){for(var ae in p._loop=!1,p._requestAnimId&&window.cancelAnimationFrame(p._requestAnimId),p._events)window.removeEventListener(ae,p._events[ae]);var fe=!0,q=!1,Se=void 0;try{for(var K,R=p._elements[Symbol.iterator]();!(fe=(K=R.next()).done);fe=!0){var se,ge=K.value;for(se in ge.elt&&ge.elt.parentNode&&ge.elt.parentNode.removeChild(ge.elt),ge._events)ge.elt.removeEventListener(se,ge._events[se])}}catch(Oe){q=!0,Se=Oe}finally{try{fe||null==R.return||R.return()}finally{if(q)throw Se}}var De=p;p._registeredMethods.remove.forEach(function(Oe){void 0!==Oe&&Oe.call(De)})}if(p._isGlobal){for(var Le in l.prototype)try{delete window[Le]}catch{window[Le]=void 0}for(var Ze in p)if(p.hasOwnProperty(Ze))try{delete window[Ze]}catch{window[Ze]=void 0}l.instance=null}},this._registeredMethods.init.forEach(function(q){void 0!==q&&q.call(this)},this),this._setupPromisePreloads();var j,N,I=this._createFriendlyGlobalFunctionBinder();if(s)s(this),l._checkForUserDefinedFunctions(this);else{for(var B in this._isGlobal=!0,l.instance=this,l.prototype)"function"==typeof l.prototype[B]?(j=B.substring(2),this._events.hasOwnProperty(j)||(Math.hasOwnProperty(B)&&Math[B]===l.prototype[B]?I(B,l.prototype[B]):I(B,l.prototype[B].bind(this)))):I(B,l.prototype[B]);for(var z in this)this.hasOwnProperty(z)&&I(z,this[z])}for(N in this._events){var W=this["_on".concat(N)];W&&(W=W.bind(this),window.addEventListener(N,W,{passive:!1}),this._events[N]=W)}function ne(){p._setProperty("focused",!0)}function J(){p._setProperty("focused",!1)}window.addEventListener("focus",ne),window.addEventListener("blur",J),this.registerMethod("remove",function(){window.removeEventListener("focus",ne),window.removeEventListener("blur",J)}),"complete"===document.readyState?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var d,u;return d=l,(u=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=h.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(s,m){l.prototype._preloadMethods.hasOwnProperty(s)||(l.prototype._preloadMethods[s]=m)}},{key:"registerMethod",value:function(s,m){var p=this||l.prototype;p._registeredMethods.hasOwnProperty(s)||(p._registeredMethods[s]=[]),p._registeredMethods[s].push(m)}},{key:"unregisterMethod",value:function(s,m){var p=this||l.prototype;if(p._registeredMethods.hasOwnProperty(s)){for(var b=p._registeredMethods[s],T=[],F=0;F<b.length;F++)b[F]===m&&T.push(F);for(var k=T.length-1;0<=k;k--)b.splice(T[k],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},m=s.globalObject||window;return s.log||console.log.bind(console),function(p,b){m[p]=b}}}])&&E(d.prototype,u),l}();for(w in a.instance=null,a.disableFriendlyErrors=!1,h)a.prototype[w]=h[w];a.VERSION=h.VERSION,a.prototype._preloadMethods={loadJSON:a.prototype,loadImage:a.prototype,loadStrings:a.prototype,loadXML:a.prototype,loadBytes:a.prototype,loadTable:a.prototype,loadFont:a.prototype,loadModel:a.prototype,loadShader:a.prototype},a.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},a.prototype._registeredPreloadMethods={},C.default=a},{"./constants":269,"./shim":291,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-own-property-names":184,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],281:[function(r,H,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(r=r("./main"))&&r.__esModule?r:{default:r};function _(h,f){for(var E=0;E<f.length;E++){var w=f[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}y.default.Element=function(){function h(a,l){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.elt=a,this._pInst=this._pixelsState=l,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var f,E,w;return f=h,w=[{key:"_adjustListener",value:function(a,l,d){return!1===l?y.default.Element._detachListener(a,d):y.default.Element._attachListener(a,l,d),this}},{key:"_attachListener",value:function(a,l,d){d._events[a]&&y.default.Element._detachListener(a,d),l=l.bind(d),d.elt.addEventListener(a,l,!1),d._events[a]=l}},{key:"_detachListener",value:function(a,l){l.elt.removeEventListener(a,l._events[a],!1),l._events[a]=null}}],(E=[{key:"parent",value:function(a){return void 0===a?this.elt.parentNode:("string"==typeof a?("#"===a[0]&&(a=a.substring(1)),a=document.getElementById(a)):a instanceof y.default.Element&&(a=a.elt),a.appendChild(this.elt),this)}},{key:"id",value:function(a){return void 0===a?this.elt.id:(this.elt.id=a,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(a){return void 0===a?this.elt.className:(this.elt.className=a,this)}},{key:"mousePressed",value:function(a){return y.default.Element._adjustListener("mousedown",function(l){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(l),a.call(this,l)},this),this}},{key:"doubleClicked",value:function(a){return y.default.Element._adjustListener("dblclick",a,this),this}},{key:"mouseWheel",value:function(a){return y.default.Element._adjustListener("wheel",a,this),this}},{key:"mouseReleased",value:function(a){return y.default.Element._adjustListener("mouseup",a,this),this}},{key:"mouseClicked",value:function(a){return y.default.Element._adjustListener("click",a,this),this}},{key:"mouseMoved",value:function(a){return y.default.Element._adjustListener("mousemove",a,this),this}},{key:"mouseOver",value:function(a){return y.default.Element._adjustListener("mouseover",a,this),this}},{key:"mouseOut",value:function(a){return y.default.Element._adjustListener("mouseout",a,this),this}},{key:"touchStarted",value:function(a){return y.default.Element._adjustListener("touchstart",a,this),this}},{key:"touchMoved",value:function(a){return y.default.Element._adjustListener("touchmove",a,this),this}},{key:"touchEnded",value:function(a){return y.default.Element._adjustListener("touchend",a,this),this}},{key:"dragOver",value:function(a){return y.default.Element._adjustListener("dragover",a,this),this}},{key:"dragLeave",value:function(a){return y.default.Element._adjustListener("dragleave",a,this),this}},{key:"_setProperty",value:function(a,l){this[a]=l}}])&&_(f.prototype,E),w&&_(f,w),h}(),C.default=r=y.default.Element},{"./main":280}],282:[function(r,H,C){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}function _(m){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(p){return y(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":y(p)})(m)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(s=r("./main"))&&s.__esModule?s:{default:s},f=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==_(m)&&"function"!=typeof m)return{default:m};var p=E();if(p&&p.has(m))return p.get(m);var b,T={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in m){var k;Object.prototype.hasOwnProperty.call(m,b)&&((k=F?Object.getOwnPropertyDescriptor(m,b):null)&&(k.get||k.set)?Object.defineProperty(T,b,k):T[b]=m[b])}return T.default=m,p&&p.set(m,T),T}(r("./constants"));function E(){var m;return"function"!=typeof WeakMap?null:(E=function(){return m},m=new WeakMap)}function w(m,p){for(var b=0;b<p.length;b++){var T=p[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}function a(m,p){return(a=Object.setPrototypeOf||function(b,T){return b.__proto__=T,b})(m,p)}function d(m,p){return!p||"object"!==_(p)&&"function"!=typeof p?u(m):p}function u(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function c(m){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(m)}h.default.Graphics=function(m){var p=F;if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),m&&a(p,m);var T=function l(m){return function(){var p,b=c(m);return d(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=c(this).constructor,Reflect.construct(b,arguments,p)):b.apply(this,arguments))}}(F);function F(k,A,z,$,j){var N;if(!(this instanceof F))throw new TypeError("Cannot call a class as a function");B=j||document.createElement("canvas"),(N=T.call(this,B,$)).canvas=B;var I,B=z||f.P2D;for(I in z=$._userNode||document.body,j||z.appendChild(N.canvas),h.default.prototype)N[I]||(N[I]="function"==typeof h.default.prototype[I]?h.default.prototype[I].bind(u(N)):h.default.prototype[I]);return h.default.prototype._initializeInstanceVariables.apply(u(N)),N.width=k,N.height=A,N._pixelDensity=$._pixelDensity,N._renderer=B===f.WEBGL?new h.default.RendererGL(N.canvas,u(N),!1):new h.default.Renderer2D(N.canvas,u(N),!1),$._elements.push(u(N)),Object.defineProperty(u(N),"deltaTime",{get:function(){return this._pInst.deltaTime}}),N._renderer.resize(k,A),N._renderer._applyDefaults(),d(N,u(N))}return p=F,(m=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var k,A=this._pInst._elements.indexOf(this);for(k in-1!==A&&this._pInst._elements.splice(A,1),this._events)this.elt.removeEventListener(k,this._events[k])}},{key:"createFramebuffer",value:function(k){return new h.default.Framebuffer(this,k)}}])&&w(p.prototype,m),F}(h.default.Element);var s=h.default.Graphics;C.default=s},{"./constants":269,"./main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],283:[function(r,H,C){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var _=(c=r("./main"))&&c.__esModule?c:{default:c},h=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==E(m)&&"function"!=typeof m)return{default:m};var p=f();if(p&&p.has(m))return p.get(m);var b,T={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in m){var k;Object.prototype.hasOwnProperty.call(m,b)&&((k=F?Object.getOwnPropertyDescriptor(m,b):null)&&(k.get||k.set)?Object.defineProperty(T,b,k):T[b]=m[b])}return T.default=m,p&&p.set(m,T),T}(r("../core/constants"));function f(){var m;return"function"!=typeof WeakMap?null:(f=function(){return m},m=new WeakMap)}function E(m){return(E="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(p){return y(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":y(p)})(m)}function w(m,p){for(var b=0;b<p.length;b++){var T=p[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}function a(m,p){return(a=Object.setPrototypeOf||function(b,T){return b.__proto__=T,b})(m,p)}function d(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function u(m){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(m)}var c=function(m){var p=F;if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),m&&a(p,m);var T=function l(m){return function(){var p,b,T=u(m);return p=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=u(this).constructor,Reflect.construct(T,arguments,p)):T.apply(this,arguments),T=this,!(b=p)||"object"!==E(b)&&"function"!=typeof b?d(T):b}}(F);function F(k,A,P){var $;if(this instanceof F)return($=T.call(this,k,A)).canvas=k,$._pixelsState=A,P?($._isMainCanvas=!0,$._pInst._setProperty("_curElement",d($)),$._pInst._setProperty("canvas",$.canvas),$._pInst._setProperty("width",$.width),$._pInst._setProperty("height",$.height)):($.canvas.style.display="none",$._styles=[]),$._clipping=!1,$._clipInvert=!1,$._textSize=12,$._textLeading=15,$._textFont="sans-serif",$._textStyle=h.NORMAL,$._textAscent=null,$._textDescent=null,$._textAlign=h.LEFT,$._textBaseline=h.BASELINE,$._textWrap=h.WORD,$._rectMode=h.CORNER,$._ellipseMode=h.CENTER,$._curveTightness=0,$._imageMode=h.CORNER,$._tint=null,$._doStroke=!0,$._doFill=!0,$._strokeSet=!1,$._fillSet=!1,$._leadingSet=!1,$._pushPopDepth=0,$;throw new TypeError("Cannot call a class as a function")}return p=F,(m=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(k){this._pushPopDepth--,k.properties&&Object.assign(this,k.properties)}},{key:"beginClip",value:function(){var k=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=k.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(k,A){this.width=k,this.height=A,this.elt.width=k*this._pInst._pixelDensity,this.elt.height=A*this._pInst._pixelDensity,this.elt.style.width="".concat(k,"px"),this.elt.style.height="".concat(A,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(k,A,P,$){var j=this._pixelsState,N=j._pixelDensity,I=this.canvas;if(void 0===k&&void 0===A)k=A=0,P=j.width,$=j.height;else if(k*=N,A*=N,void 0===P&&void 0===$)return k<0||A<0||k>=I.width||A>=I.height?[0,0,0,0]:this._getPixel(k,A);return(j=new _.default.Image(P*N,$*N)).pixelDensity(N),j.canvas.getContext("2d").drawImage(I,k,A,P*N,$*N,0,0,P*N,$*N),j}},{key:"textLeading",value:function(k){return"number"==typeof k?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",k),this._pInst):this._textLeading}},{key:"textStyle",value:function(k){return k?(k!==h.NORMAL&&k!==h.ITALIC&&k!==h.BOLD&&k!==h.BOLDITALIC||this._setProperty("_textStyle",k),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(k,A){return void 0!==k?(this._setProperty("_textAlign",k),void 0!==A&&this._setProperty("_textBaseline",A),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(k){return this._setProperty("_textWrap",k),this._textWrap}},{key:"text",value:function(k,A,P,$,j){var N,I,B,z,W=this._pInst,ne=this._textWrap,J=Number.MAX_VALUE,q=P;if((this._doFill||this._doStroke)&&void 0!==k){if(N=(k=(k="string"!=typeof k?k.toString():k).replace(/(\t)/g,"  ")).split("\n"),void 0!==$){switch(this._rectMode===h.CENTER&&(A-=$/2),this._textAlign){case h.CENTER:A+=$/2;break;case h.RIGHT:A+=$}if(void 0!==j){this._rectMode===h.CENTER&&(P-=j/2,q-=j/2),k=P;var ae=W.textAscent();switch(this._textBaseline){case h.BOTTOM:z=P+j,P=Math.max(z,P),q+=ae;break;case h.CENTER:z=P+j/2,P=Math.max(z,P),q+=ae/2}J=P+j-ae,this._textBaseline===h.CENTER&&(J=k+j-ae/2)}else this._textBaseline!==h.BOTTOM&&this._textBaseline!==h.CENTER||(q=P-(k=W.textSize()*this._textLeading)/2,J=P+k/2);if(ne===h.WORD){for(var fe=[],Se=0;Se<N.length;Se++){for(var K="",R=N[Se].split(" "),se=0;se<R.length;se++)I="".concat(K+R[se])+" ",K=$<(B=this.textWidth(I))&&0<K.length?(fe.push(K),"".concat(R[se])+" "):I;fe.push(K)}var ge=0;this._textBaseline===h.CENTER?ge=(fe.length-1)*W.textLeading()/2:this._textBaseline===h.BOTTOM&&(ge=(fe.length-1)*W.textLeading());for(var De=0;De<N.length;De++){K="",R=N[De].split(" ");for(var Le=0;Le<R.length;Le++)I="".concat(K+R[Le])+" ",$<(B=this.textWidth(I))&&0<K.length?(this._renderText(W,K.trim(),A,P-ge,J,q),K="".concat(R[Le])+" ",P+=W.textLeading()):K=I;this._renderText(W,K.trim(),A,P-ge,J,q),P+=W.textLeading()}}else{for(var Ze=[],et=0;et<N.length;et++)for(var Oe=N[et].split(K=""),$e=0;$e<Oe.length;$e++)I="".concat(K+Oe[$e]),(B=this.textWidth(I))<=$?K+=Oe[$e]:$<B&&0<K.length&&(Ze.push(K),K="".concat(Oe[$e]));Ze.push(K);var Ve=0;this._textBaseline===h.CENTER?Ve=(Ze.length-1)*W.textLeading()/2:this._textBaseline===h.BOTTOM&&(Ve=(Ze.length-1)*W.textLeading());for(var Te=0;Te<N.length;Te++){Oe=N[Te].split(K="");for(var Je=0;Je<Oe.length;Je++)I="".concat(K+Oe[Je]),(B=this.textWidth(I))<=$?K+=Oe[Je]:$<B&&0<K.length&&(this._renderText(W,K.trim(),A,P-Ve,J,q),P+=W.textLeading(),K="".concat(Oe[Je]))}this._renderText(W,K.trim(),A,P-Ve,J,q),P+=W.textLeading()}}else{var Ye=0;this._textBaseline===h.CENTER?Ye=(N.length-1)*W.textLeading()/2:this._textBaseline===h.BOTTOM&&(Ye=(N.length-1)*W.textLeading());for(var bt=0;bt<N.length;bt++)this._renderText(W,N[bt],A,P-Ye,J,q-Ye),P+=W.textLeading()}return W}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var k=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===E(k)&&k.font&&k.font.supported}},{key:"_updateTextMetrics",value:function(){var k,A,P,$,j,N;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((k=document.createElement("span")).style.fontFamily=this._textFont,k.style.fontSize="".concat(this._textSize,"px"),k.innerHTML="ABCjgq|",(N=document.createElement("div")).style.display="inline-block",N.style.width="1px",N.style.height="0px",(A=document.createElement("div")).appendChild(k),A.appendChild(N),A.style.height="0px",A.style.overflow="hidden",document.body.appendChild(A),N.style.verticalAlign="baseline",$=s(N),j=s(k),P=$[1]-j[1],N.style.verticalAlign="bottom",$=s(N),j=s(k),N=$[1]-j[1]-P,document.body.removeChild(A),this._setProperty("_textAscent",P),this._setProperty("_textDescent",N)),this}}])&&w(p.prototype,m),F}(_.default.Element);function s(m){var p=0,b=0;if(m.offsetParent)for(;p+=m.offsetLeft,b+=m.offsetTop,m=m.offsetParent;);else p+=m.offsetLeft,b+=m.offsetTop;return[p,b]}c.prototype.textSize=function(m){return"number"==typeof m?(this._setProperty("_textSize",m),this._leadingSet||this._setProperty("_textLeading",m*h._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},_.default.Renderer=c,C.default=r=_.default.Renderer},{"../core/constants":269,"./main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],284:[function(m,H,C){"use strict";function y(p){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}function _(p){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(b){return y(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":y(b)})(p)}m("core-js/modules/es.symbol"),m("core-js/modules/es.symbol.description"),m("core-js/modules/es.symbol.iterator"),m("core-js/modules/es.array.concat"),m("core-js/modules/es.array.fill"),m("core-js/modules/es.array.for-each"),m("core-js/modules/es.array.iterator"),m("core-js/modules/es.array.join"),m("core-js/modules/es.array.slice"),m("core-js/modules/es.function.name"),m("core-js/modules/es.number.to-fixed"),m("core-js/modules/es.object.get-own-property-descriptor"),m("core-js/modules/es.object.get-prototype-of"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.reflect.construct"),m("core-js/modules/es.reflect.get"),m("core-js/modules/es.regexp.to-string"),m("core-js/modules/es.string.iterator"),m("core-js/modules/es.weak-map"),m("core-js/modules/web.dom-collections.iterator"),m("core-js/modules/es.array.concat"),m("core-js/modules/es.array.fill"),m("core-js/modules/es.array.for-each"),m("core-js/modules/es.array.join"),m("core-js/modules/es.array.slice"),m("core-js/modules/es.function.name"),m("core-js/modules/es.number.to-fixed"),m("core-js/modules/es.object.get-prototype-of"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.regexp.to-string"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(s=m("./main"))&&s.__esModule?s:{default:s},f=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==_(p)&&"function"!=typeof p)return{default:p};var b=E();if(b&&b.has(p))return b.get(p);var T,F={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in p){var A;Object.prototype.hasOwnProperty.call(p,T)&&((A=k?Object.getOwnPropertyDescriptor(p,T):null)&&(A.get||A.set)?Object.defineProperty(F,T,A):F[T]=p[T])}return F.default=p,b&&b.set(p,F),F}(m("./constants"));function E(){var p;return"function"!=typeof WeakMap?null:(E=function(){return p},p=new WeakMap)}function w(p,b){for(var T=0;T<b.length;T++){var F=b[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(p,F.key,F)}}function a(p,b,T){return(a=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(P,k,A){if(P=function($,j){for(;!Object.prototype.hasOwnProperty.call($,j)&&null!==($=u($)););return $}(P,k))return(P=Object.getOwnPropertyDescriptor(P,k)).get?P.get.call(A):P.value})(p,b,T||p)}function l(p,b){return(l=Object.setPrototypeOf||function(T,F){return T.__proto__=F,T})(p,b)}function u(p){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(p)}m("./p5.Renderer");var c="rgba(0,0,0,0)",s=function(p){var b=k;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),p&&l(b,p);var F=function d(p){return function(){var b,T=u(p);if(b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=u(this).constructor,Reflect.construct(T,arguments,b)):T.apply(this,arguments),T=this,!b||"object"!==_(b)&&"function"!=typeof b){if(void 0!==T)return T;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return b}}(k);function k(A,P,$){if(this instanceof k)return(A=F.call(this,A,P,$)).drawingContext=A.canvas.getContext("2d"),A._pInst._setProperty("drawingContext",A.drawingContext),A;throw new TypeError("Cannot call a class as a function")}return b=k,(p=[{key:"getFilterGraphicsLayer",value:function(){return this.filterGraphicsLayer||(this.filterGraphicsLayer=new h.default.Graphics(this.width,this.height,f.WEBGL,(this._pInst instanceof h.default.Graphics?this._pInst:this)._pInst)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=f.BLEND,this._setFill(f._DEFAULT_FILL),this._setStroke(f._DEFAULT_STROKE),this.drawingContext.lineCap=f.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(A,P){a(u(k.prototype),"resize",this).call(this,A,P),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var A,P;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof h.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(A=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(A,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(A=this._getFill(),P=(P=this._pInst).color.apply(P,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(P.levels),P=P.toString(),this._setFill(P),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(A),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var A=(A=this._pInst).color.apply(A,arguments);this._setFill(A.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",A.levels)}},{key:"stroke",value:function(){var A=(A=this._pInst).color.apply(A,arguments);this._setStroke(A.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",A.levels)}},{key:"erase",value:function(A,P){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,A=this._pInst.color(255,A).toString(),this.drawingContext.fillStyle=A,this._cachedStrokeStyle=this.drawingContext.strokeStyle,A=this._pInst.color(255,P).toString(),this.drawingContext.strokeStyle=A,P=this._cachedBlendMode,this.blendMode(f.REMOVE),this._cachedBlendMode=P,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(u(k.prototype),"beginClip",this).call(this,A),this._cachedFillStyle=this.drawingContext.fillStyle,A=this._pInst.color(255,0).toString(),this.drawingContext.fillStyle=A,this._cachedStrokeStyle=this.drawingContext.strokeStyle,A=this._pInst.color(255,0).toString(),this.drawingContext.strokeStyle=A,A=this._cachedBlendMode,this.blendMode(f.BLEND),this._cachedBlendMode=A,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),a(u(k.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(A,P,$,j,N,I,B,z,W){A.gifProperties&&A._animateGif(this._pInst);try{h.default.MediaElement&&A instanceof h.default.MediaElement&&A._ensureCanvas();var ne=(ne=this._tint&&A.canvas?this._getTintedImageCanvas(A):ne)||A.canvas||A.elt,J=1;A.width&&0<A.width&&(J=ne.width/A.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(ne,J*P,J*$,J*j,J*N,I,B,z,W),this._isErasing&&this._pInst.erase()}catch(q){if("NS_ERROR_NOT_AVAILABLE"!==q.name)throw q}}},{key:"_getTintedImageCanvas",value:function(A){if(!A.canvas)return A;A.tintCanvas||(A.tintCanvas=document.createElement("canvas")),A.tintCanvas.width!==A.canvas.width&&(A.tintCanvas.width=A.canvas.width),A.tintCanvas.height!==A.canvas.height&&(A.tintCanvas.height=A.canvas.height);var P=A.tintCanvas.getContext("2d");return P.save(),P.clearRect(0,0,A.canvas.width,A.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(P.drawImage(A.canvas,0,0),P.globalCompositeOperation="luminosity",P.drawImage(A.canvas,0,0),P.globalCompositeOperation="color",P.drawImage(A.canvas,0,0),P.globalCompositeOperation="multiply",P.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),P.fillRect(0,0,A.canvas.width,A.canvas.height),P.globalCompositeOperation="destination-in"),P.globalAlpha=this._tint[3]/255,P.drawImage(A.canvas,0,0),P.restore(),A.tintCanvas}},{key:"blendMode",value:function(A){if(A===f.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(A!==f.BLEND&&A!==f.REMOVE&&A!==f.DARKEST&&A!==f.LIGHTEST&&A!==f.DIFFERENCE&&A!==f.MULTIPLY&&A!==f.EXCLUSION&&A!==f.SCREEN&&A!==f.REPLACE&&A!==f.OVERLAY&&A!==f.HARD_LIGHT&&A!==f.SOFT_LIGHT&&A!==f.DODGE&&A!==f.BURN&&A!==f.ADD)throw new Error("Mode ".concat(A," not recognized."));this._cachedBlendMode=A,this.drawingContext.globalCompositeOperation=A}}},{key:"blend",value:function(){for(var A=this.drawingContext.globalCompositeOperation,P=arguments.length,$=new Array(P),j=0;j<P;j++)$[j]=arguments[j];var N=$[$.length-1],I=Array.prototype.slice.call($,0,$.length-1);this.drawingContext.globalCompositeOperation=N,h.default.prototype.copy.apply(this,I),this.drawingContext.globalCompositeOperation=A}},{key:"_getPixel",value:function(A,P){return[(A=this.drawingContext.getImageData(A,P,1,1).data)[0],A[1],A[2],A[3]]}},{key:"loadPixels",value:function(){var P,A=this._pixelsState,$=this.drawingContext.getImageData(0,0,$=this.width*(P=A._pixelDensity),P*=this.height);A._setProperty("imageData",$),A._setProperty("pixels",$.data)}},{key:"set",value:function(A,P,$){A=Math.floor(A),P=Math.floor(P);var j=this._pixelsState;if($ instanceof h.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(j._pixelDensity,j._pixelDensity),this.drawingContext.clearRect(A,P,$.width,$.height),this.drawingContext.drawImage($.canvas,A,P),this.drawingContext.restore();else{var N=0,I=0,B=0,z=0,W=4*(P*j._pixelDensity*(this.width*j._pixelDensity)+A*j._pixelDensity);if(j.imageData||j.loadPixels(),"number"==typeof $)W<j.pixels.length&&(B=I=N=$,z=255);else if(Array.isArray($)){if($.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");W<j.pixels.length&&(N=$[0],I=$[1],B=$[2],z=$[3])}else $ instanceof h.default.Color&&W<j.pixels.length&&(N=$.levels[0],I=$.levels[1],B=$.levels[2],z=$.levels[3]);for(var ne=0;ne<j._pixelDensity;ne++)for(var J=0;J<j._pixelDensity;J++)j.pixels[W=4*((P*j._pixelDensity+J)*this.width*j._pixelDensity+(A*j._pixelDensity+ne))]=N,j.pixels[W+1]=I,j.pixels[W+2]=B,j.pixels[W+3]=z}}},{key:"updatePixels",value:function(A,P,$,j){var N=this._pixelsState,I=N._pixelDensity;void 0===A&&void 0===P&&void 0===$&&void 0===j&&(P=A=0,$=this.width,j=this.height),A*=I,P*=I,$*=I,j*=I,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=N.imageData),this.drawingContext.putImageData(N.imageData,A,P,0,0,$,j)}},{key:"_acuteArcToBezier",value:function(A,P){var I=P/2,$=Math.cos(I),z=Math.sin(I),j=1/Math.tan(I),N=(I=A+I,Math.cos(I)),B=(I=Math.sin(I),(4-$)/3);return z+=($-B)*j,{ax:Math.cos(A).toFixed(7),ay:Math.sin(A).toFixed(7),bx:(B*N+z*I).toFixed(7),by:(B*I-z*N).toFixed(7),cx:(B*N-z*I).toFixed(7),cy:(B*I+z*N).toFixed(7),dx:Math.cos(A+P).toFixed(7),dy:Math.sin(A+P).toFixed(7)}}},{key:"arc",value:function(A,P,$,j,N,I,B){var z,W=this.drawingContext,ne=$/2,J=j/2,q=[];for(A+=ne,P+=J;1e-5<=I-N;)z=Math.min(I-N,f.HALF_PI),q.push(this._acuteArcToBezier(N,z)),N+=z;return this._doFill&&(this._clipping||W.beginPath(),q.forEach(function(ae,fe){0===fe&&W.moveTo(A+ae.ax*ne,P+ae.ay*J),W.bezierCurveTo(A+ae.bx*ne,P+ae.by*J,A+ae.cx*ne,P+ae.cy*J,A+ae.dx*ne,P+ae.dy*J)}),B!==f.PIE&&null!=B||W.lineTo(A,P),W.closePath(),this._clipping||W.fill()),this._doStroke&&(this._clipping||W.beginPath(),q.forEach(function(ae,fe){0===fe&&W.moveTo(A+ae.ax*ne,P+ae.ay*J),W.bezierCurveTo(A+ae.bx*ne,P+ae.by*J,A+ae.cx*ne,P+ae.cy*J,A+ae.dx*ne,P+ae.dy*J)}),B===f.PIE?(W.lineTo(A,P),W.closePath()):B===f.CHORD&&W.closePath(),this._clipping||W.stroke()),this}},{key:"ellipse",value:function(z){var P=this.drawingContext,$=this._doFill,j=this._doStroke,N=parseFloat(z[0]),I=parseFloat(z[1]),B=parseFloat(z[2]);if(z=parseFloat(z[3]),$&&!j){if(this._getFill()===c)return this}else if(!$&&j&&this._getStroke()===c)return this;N+=B/2,I+=z/2,B/=2,z/=2,this._clipping||P.beginPath(),P.ellipse(N,I,B,z,0,0,2*Math.PI),!this._clipping&&$&&P.fill(),!this._clipping&&j&&P.stroke()}},{key:"line",value:function(A,P,$,j){var N=this.drawingContext;return this._doStroke&&this._getStroke()!==c&&(this._clipping||N.beginPath(),N.moveTo(A,P),N.lineTo($,j),N.stroke()),this}},{key:"point",value:function(A,P){var $,j,N=this.drawingContext;return this._doStroke&&this._getStroke()!==c?($=this._getStroke(),j=this._getFill(),this._clipping||this._setFill($),this._clipping||N.beginPath(),N.arc(A,P,N.lineWidth/2,0,f.TWO_PI,!1),void(this._clipping||(N.fill(),this._setFill(j)))):this}},{key:"quad",value:function(A,P,$,j,N,I,B,z){var W=this.drawingContext,ne=this._doFill,J=this._doStroke;if(ne&&!J){if(this._getFill()===c)return this}else if(!ne&&J&&this._getStroke()===c)return this;return this._clipping||W.beginPath(),W.moveTo(A,P),W.lineTo($,j),W.lineTo(N,I),W.lineTo(B,z),W.closePath(),!this._clipping&&ne&&W.fill(),!this._clipping&&J&&W.stroke(),this}},{key:"rect",value:function(J){var P,$,j=J[0],N=J[1],I=J[2],B=J[3],z=J[4],W=J[5],ne=J[6],q=(J=J[7],this.drawingContext),ae=this._doFill,fe=this._doStroke;if(ae&&!fe){if(this._getFill()===c)return this}else if(!ae&&fe&&this._getStroke()===c)return this;return this._clipping||q.beginPath(),void 0===z?q.rect(j,N,I,B):(void 0===W&&(W=z),void 0===ne&&(ne=W),void 0===J&&(J=ne),fe=(ae=Math.abs(I))/2,$=(P=Math.abs(B))/2,P<2*(z=ae<2*z?fe:z)&&(z=$),P<2*(W=ae<2*W?fe:W)&&(W=$),P<2*(ne=ae<2*ne?fe:ne)&&(ne=$),P<2*(J=ae<2*J?fe:J)&&(J=$),this._clipping||q.beginPath(),q.moveTo(j+z,N),q.arcTo(j+I,N,j+I,N+B,W),q.arcTo(j+I,N+B,j,N+B,ne),q.arcTo(j,N+B,j,N,J),q.arcTo(j,N,j+I,N,z),q.closePath()),!this._clipping&&this._doFill&&q.fill(),!this._clipping&&this._doStroke&&q.stroke(),this}},{key:"triangle",value:function(ne){var P=this.drawingContext,$=this._doFill,j=this._doStroke,N=ne[0],I=ne[1],B=ne[2],z=ne[3],W=ne[4];if(ne=ne[5],$&&!j){if(this._getFill()===c)return this}else if(!$&&j&&this._getStroke()===c)return this;this._clipping||P.beginPath(),P.moveTo(N,I),P.lineTo(B,z),P.lineTo(W,ne),P.closePath(),!this._clipping&&$&&P.fill(),!this._clipping&&j&&P.stroke()}},{key:"endShape",value:function(A,P,$,j,N,I,B){if(0!==P.length&&(this._doStroke||this._doFill)){var z,W,ne,J=A===f.CLOSE,q=(J&&!I&&P.push(P[0]),P.length);if($&&null===B){if(3<q){var ae=[],fe=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(P[1][0],P[1][1]),W=1;W+2<q;W++)ae[0]=[(z=P[W])[0],z[1]],ae[1]=[z[0]+(fe*P[W+1][0]-fe*P[W-1][0])/6,z[1]+(fe*P[W+1][1]-fe*P[W-1][1])/6],ae[2]=[P[W+1][0]+(fe*P[W][0]-fe*P[W+2][0])/6,P[W+1][1]+(fe*P[W][1]-fe*P[W+2][1])/6],ae[3]=[P[W+1][0],P[W+1][1]],this.drawingContext.bezierCurveTo(ae[1][0],ae[1][1],ae[2][0],ae[2][1],ae[3][0],ae[3][1]);J&&this.drawingContext.lineTo(P[W+1][0],P[W+1][1]),this._doFillStrokeClose(J)}}else if(j&&null===B){for(this._clipping||this.drawingContext.beginPath(),W=0;W<q;W++)P[W].isVert?P[W].moveTo?this.drawingContext.moveTo(P[W][0],P[W][1]):this.drawingContext.lineTo(P[W][0],P[W][1]):this.drawingContext.bezierCurveTo(P[W][0],P[W][1],P[W][2],P[W][3],P[W][4],P[W][5]);this._doFillStrokeClose(J)}else if(N&&null===B){for(this._clipping||this.drawingContext.beginPath(),W=0;W<q;W++)P[W].isVert?P[W].moveTo?this.drawingContext.moveTo(P[W][0],P[W][1]):this.drawingContext.lineTo(P[W][0],P[W][1]):this.drawingContext.quadraticCurveTo(P[W][0],P[W][1],P[W][2],P[W][3]);this._doFillStrokeClose(J)}else if(B===f.POINTS)for(W=0;W<q;W++)z=P[W],this._doStroke&&this._pInst.stroke(z[6]),this._pInst.point(z[0],z[1]);else if(B===f.LINES)for(W=0;W+1<q;W+=2)z=P[W],this._doStroke&&this._pInst.stroke(P[W+1][6]),this._pInst.line(z[0],z[1],P[W+1][0],P[W+1][1]);else if(B===f.TRIANGLES)for(W=0;W+2<q;W+=3)z=P[W],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(z[0],z[1]),this.drawingContext.lineTo(P[W+1][0],P[W+1][1]),this.drawingContext.lineTo(P[W+2][0],P[W+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(P[W+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(P[W+2][6]),this.drawingContext.stroke());else if(B===f.TRIANGLE_STRIP)for(W=0;W+1<q;W++)z=P[W],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(P[W+1][0],P[W+1][1]),this.drawingContext.lineTo(z[0],z[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(P[W+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(P[W+1][5]),W+2<q&&(this.drawingContext.lineTo(P[W+2][0],P[W+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(P[W+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(P[W+2][5])),this._doFillStrokeClose(J);else if(B===f.TRIANGLE_FAN){if(2<q){for(this._clipping||this.drawingContext.beginPath(),W=2;W<q;W++)z=P[W],this.drawingContext.moveTo(P[0][0],P[0][1]),this.drawingContext.lineTo(P[W-1][0],P[W-1][1]),this.drawingContext.lineTo(z[0],z[1]),this.drawingContext.lineTo(P[0][0],P[0][1]),W<q-1&&(this._doFill&&z[5]!==P[W+1][5]||this._doStroke&&z[6]!==P[W+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(z[5]),this.drawingContext.fill(),this._pInst.fill(P[W+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(z[6]),this.drawingContext.stroke(),this._pInst.stroke(P[W+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(J)}}else if(B===f.QUADS)for(W=0;W+3<q;W+=4){for(z=P[W],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(z[0],z[1]),ne=1;ne<4;ne++)this.drawingContext.lineTo(P[W+ne][0],P[W+ne][1]);this.drawingContext.lineTo(z[0],z[1]),!this._clipping&&this._doFill&&this._pInst.fill(P[W+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(P[W+3][6]),this._doFillStrokeClose(J)}else if(B===f.QUAD_STRIP){if(3<q)for(W=0;W+1<q;W+=2)z=P[W],this._clipping||this.drawingContext.beginPath(),W+3<q?(this.drawingContext.moveTo(P[W+2][0],P[W+2][1]),this.drawingContext.lineTo(z[0],z[1]),this.drawingContext.lineTo(P[W+1][0],P[W+1][1]),this.drawingContext.lineTo(P[W+3][0],P[W+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(P[W+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(P[W+3][6])):(this.drawingContext.moveTo(z[0],z[1]),this.drawingContext.lineTo(P[W+1][0],P[W+1][1])),this._doFillStrokeClose(J)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(P[0][0],P[0][1]),W=1;W<q;W++)(z=P[W]).isVert&&(z.moveTo?(J&&this.drawingContext.closePath(),this.drawingContext.moveTo(z[0],z[1])):this.drawingContext.lineTo(z[0],z[1]));this._doFillStrokeClose(J)}I=N=j=$=!1,J&&P.pop()}return this}},{key:"strokeCap",value:function(A){return A!==f.ROUND&&A!==f.SQUARE&&A!==f.PROJECT||(this.drawingContext.lineCap=A),this}},{key:"strokeJoin",value:function(A){return A!==f.ROUND&&A!==f.BEVEL&&A!==f.MITER||(this.drawingContext.lineJoin=A),this}},{key:"strokeWeight",value:function(A){return this.drawingContext.lineWidth=void 0===A||0===A?1e-4:A,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(A){A!==this._cachedFillStyle&&(this.drawingContext.fillStyle=A,this._cachedFillStyle=A)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(A){A!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=A,this._cachedStrokeStyle=A)}},{key:"bezier",value:function(A,P,$,j,N,I,B,z){return this._pInst.beginShape(),this._pInst.vertex(A,P),this._pInst.bezierVertex($,j,N,I,B,z),this._pInst.endShape(),this}},{key:"curve",value:function(A,P,$,j,N,I,B,z){return this._pInst.beginShape(),this._pInst.curveVertex(A,P),this._pInst.curveVertex($,j),this._pInst.curveVertex(N,I),this._pInst.curveVertex(B,z),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(A){A&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(A,P,$,j,N,I){this.drawingContext.transform(A,P,$,j,N,I)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(A){this.drawingContext.rotate(A)}},{key:"scale",value:function(A,P){return this.drawingContext.scale(A,P),this}},{key:"translate",value:function(A,P){return A instanceof h.default.Vector&&(P=A.y,A=A.x),this.drawingContext.translate(A,P),this}},{key:"_renderText",value:function(A,P,$,j,N,I){if(!(j<I||N<=j))return A.push(),this._isOpenType()?this._textFont._renderPath(P,$,j,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(P,$,j),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(f._DEFAULT_TEXT_FILL),this.drawingContext.fillText(P,$,j))),A.pop(),A}},{key:"textWidth",value:function(A){return this._isOpenType()?this._textFont._textWidth(A,this._textSize):this.drawingContext.measureText(A).width}},{key:"_applyTextProperties",value:function(){var A,P=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),A=this._textFont,this._isOpenType()&&(A=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,'px "').concat(A||"sans-serif",'"'),this.drawingContext.textAlign=this._textAlign,this.drawingContext.textBaseline=this._textBaseline===f.CENTER?f._CTX_MIDDLE:this._textBaseline,P}},{key:"push",value:function(){return this.drawingContext.save(),a(u(k.prototype),"push",this).call(this)}},{key:"pop",value:function(A){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,a(u(k.prototype),"pop",this).call(this,A)}}])&&w(b.prototype,p),k}(h.default.Renderer);s.prototype.text=function(p,b,T,P,k){var A;return void 0!==P&&this.drawingContext.textBaseline===f.BASELINE&&(A=!0,this.drawingContext.textBaseline=f.TOP),P=h.default.Renderer.prototype.text.apply(this,arguments),A&&(this.drawingContext.textBaseline=f.BASELINE),P},h.default.Renderer2D=s,C.default=m=h.default.Renderer2D},{"./constants":269,"./main":280,"./p5.Renderer":283,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.function.name":173,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],285:[function(r,H,C){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator");var y=(r=r("./main"))&&r.__esModule?r:{default:r};function _(){return{}}y.default.prototype._promisePreloads=[];var h=!(y.default.prototype.registerPromisePreload=function(f){y.default.prototype._promisePreloads.push(f)});y.default.prototype._setupPromisePreloads=function(){var f=!0,E=!1,w=void 0;try{for(var a,l=this._promisePreloads[Symbol.iterator]();!(f=(a=l.next()).done);f=!0){var d=a.value,u=this,c=d.method,s=d.addCallbacks,m=d.legacyPreloadSetup,p=d.target||this,b=p[c].bind(p);if(p===y.default.prototype){if(h)continue;u=null,b=p[c]}p[c]=this._wrapPromisePreload(u,b,s),m&&(p[m.method]=this._legacyPreloadGenerator(u,m,p[c]))}}catch(T){E=!0,w=T}finally{try{f||null==l.return||l.return()}finally{if(E)throw w}}h=!0},y.default.prototype._wrapPromisePreload=function(f,E,w){var a=function(){for(var l=this,d=(this._incrementPreload(),null),u=null,c=arguments.length,s=new Array(c),m=0;m<c;m++)s[m]=arguments[m];if(w)for(var p=s.length-1;0<=p&&!u&&"function"==typeof s[p];p--)u=d,d=s.pop();var b=Promise.resolve(E.apply(this,s));return d&&b.then(d),u&&b.catch(u),b.then(function(){return l._decrementPreload()}),b};return f?a.bind(f):a},y.default.prototype._legacyPreloadGenerator=function(f,l,w){var a=l.createBaseObject||_;return l=function(){var d=this;this._incrementPreload();for(var u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];var m=a.apply(this,c);return w.apply(this,c).then(function(p){Object.assign(m,p),d._decrementPreload()}),m},f?l.bind(f):l}},{"./main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],286:[function(r,H,C){"use strict";function y(l){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var _=(a=r("./main"))&&a.__esModule?a:{default:a},h=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==E(l)&&"function"!=typeof l)return{default:l};var d=f();if(d&&d.has(l))return d.get(l);var u,c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var m;Object.prototype.hasOwnProperty.call(l,u)&&((m=s?Object.getOwnPropertyDescriptor(l,u):null)&&(m.get||m.set)?Object.defineProperty(c,u,m):c[u]=l[u])}return c.default=l,d&&d.set(l,c),c}(r("./constants"));function f(){var l;return"function"!=typeof WeakMap?null:(f=function(){return l},l=new WeakMap)}function E(l){return(E="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(d){return y(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":y(d)})(l)}r("./p5.Graphics"),r("./p5.Renderer2D"),r("../webgl/p5.RendererGL");var w="defaultCanvas0",a=(_.default.prototype.createCanvas=function(l,d,u,c){var s,m,p;if(_.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(u=h.P2D,c=arguments[2]):s=u||h.P2D,c)(p=document.getElementById(w))&&p.parentNode.removeChild(p),p=c,this._defaultGraphicsCreated=!1;else{if(s===h.WEBGL)(p=document.getElementById(w))&&(p.parentNode.removeChild(p),m=this._renderer,this._elements=this._elements.filter(function(T){return T!==m})),(p=document.createElement("canvas")).id=w,p.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)p=this.canvas;else{p=c||document.createElement("canvas");for(var b=0;document.getElementById("defaultCanvas".concat(b));)b++;w="defaultCanvas".concat(b),p.id=w,p.classList.add("p5Canvas")}this._setupDone||(p.dataset.hidden=!0,p.style.visibility="hidden"),(this._userNode||(0===document.getElementsByTagName("main").length&&(u=document.createElement("main"),document.body.appendChild(u)),document.getElementsByTagName("main")[0])).appendChild(p)}return s===h.WEBGL?(this._setProperty("_renderer",new _.default.RendererGL(p,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new _.default.Renderer2D(p,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(l,d),this._renderer._applyDefaults(),this._renderer},_.default.prototype.resizeCanvas=function(l,d,u){if(_.default._validateParameters("resizeCanvas",arguments),this._renderer){var c,s,m={};for(c in this.drawingContext){var p=this.drawingContext[c];"object"!==E(p)&&"function"!=typeof p&&(m[c]=p)}for(s in this.width=l,this.height=d,this._renderer.resize(l,d),m)try{this.drawingContext[s]=m[s]}catch{}u||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},_.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},_.default.prototype.createGraphics=function(l,d){for(var u=arguments.length,c=new Array(2<u?u-2:0),s=2;s<u;s++)c[s-2]=arguments[s];return c[0]instanceof HTMLCanvasElement&&(c[1]=c[0],c[0]=h.P2D),_.default._validateParameters("createGraphics",arguments),new _.default.Graphics(l,d,c[0],this,c[1])},_.default.prototype.createFramebuffer=function(l){return new _.default.Framebuffer(this,l)},_.default.prototype.clearDepth=function(l){this._assert3d("clearDepth"),this._renderer.clearDepth(l)},_.default.prototype.blendMode=function(l){_.default._validateParameters("blendMode",arguments),l===h.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),l=h.BLEND),this._renderer.blendMode(l)},_.default);C.default=a},{"../webgl/p5.RendererGL":337,"./constants":269,"./main":280,"./p5.Graphics":282,"./p5.Renderer2D":284,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],287:[function(r,H,C){"use strict";function y(d){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(u){return y(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(d)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.slice"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=a(r("../main")),f=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var u=w();if(u&&u.has(d))return u.get(d);var c,s={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in d){var p;Object.prototype.hasOwnProperty.call(d,c)&&((p=m?Object.getOwnPropertyDescriptor(d,c):null)&&(p.get||p.set)?Object.defineProperty(s,c,p):s[c]=d[c])}return s.default=d,u&&u.set(d,s),s}(r("../constants")),E=a(r("../helpers"));function w(){var d;return"function"!=typeof WeakMap?null:(w=function(){return d},d=new WeakMap)}function a(d){return d&&d.__esModule?d:{default:d}}r("../friendly_errors/fes_core"),r("../friendly_errors/file_errors"),r("../friendly_errors/validate_params"),h.default.prototype._normalizeArcAngles=function(d,u,c,s,m){var p;return d-=f.TWO_PI*Math.floor(d/f.TWO_PI),u-=f.TWO_PI*Math.floor(u/f.TWO_PI),p=Math.min(Math.abs(d-u),f.TWO_PI-Math.abs(d-u)),m&&(d=d<=f.HALF_PI?Math.atan(c/s*Math.tan(d)):d>f.HALF_PI&&d<=3*f.HALF_PI?Math.atan(c/s*Math.tan(d))+f.PI:Math.atan(c/s*Math.tan(d))+f.TWO_PI,u=u<=f.HALF_PI?Math.atan(c/s*Math.tan(u)):u>f.HALF_PI&&u<=3*f.HALF_PI?Math.atan(c/s*Math.tan(u))+f.PI:Math.atan(c/s*Math.tan(u))+f.TWO_PI),u<d&&(u+=f.TWO_PI),{start:d,stop:u,correspondToSamePoint:p<1e-5}},h.default.prototype.arc=function(d,u,c,s,m,p,b,T){return h.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&m!==p&&(m=this._toRadians(m),p=this._toRadians(p),c=Math.abs(c),s=Math.abs(s),d=E.default.modeAdjust(d,u,c,s,this._renderer._ellipseMode),(u=this._normalizeArcAngles(m,p,d.w,d.h,!0)).correspondToSamePoint?this._renderer.ellipse([d.x,d.y,d.w,d.h,T]):(this._renderer.arc(d.x,d.y,d.w,d.h,u.start,u.stop,b,T),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[d.x,d.y,d.w,d.h,u.start,u.stop,b]))),this},h.default.prototype.ellipse=function(d,u,c,s,m){return h.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},h.default.prototype.circle=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];h.default._validateParameters("circle",u);var s=u.slice(0,2);return s.push(u[2],u[2]),this._renderEllipse.apply(this,function l(d){return function(u){if(Array.isArray(u)){for(var c=0,s=new Array(u.length);c<u.length;c++)s[c]=u[c];return s}}(d)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(s))},h.default.prototype._renderEllipse=function(d,u,c,s,m){return(this._renderer._doStroke||this._renderer._doFill)&&(c<0&&(c=Math.abs(c)),void 0===s?s=c:s<0&&(s=Math.abs(s)),d=E.default.modeAdjust(d,u,c,s,this._renderer._ellipseMode),this._renderer.ellipse([d.x,d.y,d.w,d.h,m]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[d.x,d.y,d.w,d.h])),this},h.default.prototype.line=function(){for(var d,u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return h.default._validateParameters("line",c),this._renderer._doStroke&&(d=this._renderer).line.apply(d,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",c),this},h.default.prototype.point=function(){for(var d,u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return h.default._validateParameters("point",c),this._renderer._doStroke&&(1===c.length&&c[0]instanceof h.default.Vector?this._renderer.point.call(this._renderer,c[0].x,c[0].y,c[0].z):((d=this._renderer).point.apply(d,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",c))),this},h.default.prototype.quad=function(){for(var d,u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return h.default._validateParameters("quad",c),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&c.length<12?this._renderer.quad.call(this._renderer,c[0],c[1],0,c[2],c[3],0,c[4],c[5],0,c[6],c[7],0,c[8],c[9]):((d=this._renderer).quad.apply(d,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",c))),this},h.default.prototype.rect=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];return h.default._validateParameters("rect",u),this._renderRect.apply(this,u)},h.default.prototype.square=function(d,u,c,s,m,p,b){return h.default._validateParameters("square",arguments),this._renderRect.call(this,d,u,c,c,s,m,p,b)},h.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var d=E.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),u=[d.x,d.y,d.w,d.h],c=4;c<arguments.length;c++)u[c]=arguments[c];this._renderer.rect(u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[d.x,d.y,d.w,d.h])}return this},h.default.prototype.triangle=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];return h.default._validateParameters("triangle",u),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",u),this},C.default=r=h.default},{"../constants":269,"../friendly_errors/fes_core":271,"../friendly_errors/file_errors":272,"../friendly_errors/validate_params":275,"../helpers":276,"../main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],288:[function(r,H,C){"use strict";function y(a){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(l){return y(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(w=r("../main"))&&w.__esModule?w:{default:w},f=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var l=E();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(r("../constants"));function E(){var a;return"function"!=typeof WeakMap?null:(E=function(){return a},a=new WeakMap)}h.default.prototype.ellipseMode=function(a){return h.default._validateParameters("ellipseMode",arguments),a!==f.CORNER&&a!==f.CORNERS&&a!==f.RADIUS&&a!==f.CENTER||(this._renderer._ellipseMode=a),this},h.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},h.default.prototype.rectMode=function(a){return h.default._validateParameters("rectMode",arguments),a!==f.CORNER&&a!==f.CORNERS&&a!==f.RADIUS&&a!==f.CENTER||(this._renderer._rectMode=a),this},h.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},h.default.prototype.strokeCap=function(a){return h.default._validateParameters("strokeCap",arguments),a!==f.ROUND&&a!==f.SQUARE&&a!==f.PROJECT||this._renderer.strokeCap(a),this},h.default.prototype.strokeJoin=function(a){return h.default._validateParameters("strokeJoin",arguments),a!==f.ROUND&&a!==f.BEVEL&&a!==f.MITER||this._renderer.strokeJoin(a),this},h.default.prototype.strokeWeight=function(a){return h.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(a),this};var w=h.default;C.default=w},{"../constants":269,"../main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],289:[function(r,H,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(_=r("../main"))&&_.__esModule?_:{default:_};r("../friendly_errors/fes_core"),r("../friendly_errors/file_errors"),r("../friendly_errors/validate_params"),y.default.prototype.bezier=function(){for(var h,f=arguments.length,E=new Array(f),w=0;w<f;w++)E[w]=arguments[w];return y.default._validateParameters("bezier",E),(this._renderer._doStroke||this._renderer._doFill)&&(h=this._renderer).bezier.apply(h,E),this},y.default.prototype.bezierDetail=function(h){return y.default._validateParameters("bezierDetail",arguments),this._bezierDetail=h,this},y.default.prototype.bezierPoint=function(h,f,E,w,a){y.default._validateParameters("bezierPoint",arguments);var l=1-a;return Math.pow(l,3)*h+3*Math.pow(l,2)*a*f+3*l*Math.pow(a,2)*E+Math.pow(a,3)*w},y.default.prototype.bezierTangent=function(h,f,E,w,a){y.default._validateParameters("bezierTangent",arguments);var l=1-a;return 3*w*Math.pow(a,2)-3*E*Math.pow(a,2)+6*E*l*a-6*f*l*a+3*f*Math.pow(l,2)-3*h*Math.pow(l,2)},y.default.prototype.curve=function(){for(var h,f=arguments.length,E=new Array(f),w=0;w<f;w++)E[w]=arguments[w];return y.default._validateParameters("curve",E),this._renderer._doStroke&&(h=this._renderer).curve.apply(h,E),this},y.default.prototype.curveDetail=function(h){return y.default._validateParameters("curveDetail",arguments),this._curveDetail=h<3?3:h,this},y.default.prototype.curveTightness=function(h){return y.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=h,this},y.default.prototype.curvePoint=function(h,f,E,w,a){y.default._validateParameters("curvePoint",arguments);var l=this._renderer._curveTightness,d=a*a*a,u=a*a;return h*((l-1)/2*d+(1-l)*u+(l-1)/2*a)+f*((l+3)/2*d+(-5-l)/2*u+1)+E*((-3-l)/2*d+(l+2)*u+(1-l)/2*a)+w*((1-l)/2*d+(l-1)/2*u)},y.default.prototype.curveTangent=function(h,f,E,w,u){y.default._validateParameters("curveTangent",arguments);var l=this._renderer._curveTightness,d=u*u*3;return h*((l-1)/2*d+(1-l)*(u*=2)+(l-1)/2)+f*((l+3)/2*d+(-5-l)/2*u)+E*((-3-l)/2*d+(l+2)*u+(1-l)/2)+w*((1-l)/2*d+(l-1)/2*u)};var _=y.default;C.default=_},{"../friendly_errors/fes_core":271,"../friendly_errors/file_errors":272,"../friendly_errors/validate_params":275,"../main":280}],290:[function(r,H,C){"use strict";function y(b){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(b)}function _(b){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(T){return y(T)}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":y(T)})(b)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.slice"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(p=r("../main"))&&p.__esModule?p:{default:p},f=function(b){if(b&&b.__esModule)return b;if(null===b||"object"!==_(b)&&"function"!=typeof b)return{default:b};var T=E();if(T&&T.has(b))return T.get(b);var F,k={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(F in b){var P;Object.prototype.hasOwnProperty.call(b,F)&&((P=A?Object.getOwnPropertyDescriptor(b,F):null)&&(P.get||P.set)?Object.defineProperty(k,F,P):k[F]=b[F])}return k.default=b,T&&T.set(b,k),k}(r("../constants"));function E(){var b;return"function"!=typeof WeakMap?null:(E=function(){return b},b=new WeakMap)}var w=null,a=[],l=[],d=!1,u=!1,c=!1,s=!1,m=!0,p=(h.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(l=[],s=!0),this},h.default.prototype.beginShape=function(b){var T;return h.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(T=this._renderer).beginShape.apply(T,arguments):(w=b===f.POINTS||b===f.LINES||b===f.TRIANGLES||b===f.TRIANGLE_FAN||b===f.TRIANGLE_STRIP||b===f.QUADS||b===f.QUAD_STRIP?b:null,a=[],l=[]),this},h.default.prototype.bezierVertex=function(){for(var b,T=arguments.length,F=new Array(T),k=0;k<T;k++)F[k]=arguments[k];if(h.default._validateParameters("bezierVertex",F),this._renderer.isP3D)(b=this._renderer).bezierVertex.apply(b,F);else if(0===a.length)h.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{d=!0;for(var A=[],P=0;P<F.length;P++)A[P]=F[P];A.isVert=!1,(s?l:a).push(A)}return this},h.default.prototype.curveVertex=function(){for(var b,T=arguments.length,F=new Array(T),k=0;k<T;k++)F[k]=arguments[k];return h.default._validateParameters("curveVertex",F),this._renderer.isP3D?(b=this._renderer).curveVertex.apply(b,F):(u=!0,this.vertex(F[0],F[1])),this},h.default.prototype.endContour=function(){if(!this._renderer.isP3D){var b=l[0].slice();b.isVert=l[0].isVert,b.moveTo=!1,l.push(b),m&&(a.push(a[0]),m=!1);for(var T=0;T<l.length;T++)a.push(l[T])}return this},h.default.prototype.endShape=function(b){var T=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(h.default._validateParameters("endShape",arguments),T<1&&(console.log("\u{1f338} p5.js says: You can not have less than one instance"),T=1),this._renderer.isP3D)this._renderer.endShape(b,u,d,c,s,w,T);else{if(1!==T&&console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode"),0===a.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;(T=b===f.CLOSE)&&!s&&a.push(a[0]),this._renderer.endShape(b,a,u,d,c,s,w),m=!(s=c=d=u=!1),T&&a.pop()}return this},h.default.prototype.quadraticVertex=function(){for(var b,T=arguments.length,F=new Array(T),k=0;k<T;k++)F[k]=arguments[k];if(h.default._validateParameters("quadraticVertex",F),this._renderer.isP3D)(b=this._renderer).quadraticVertex.apply(b,F);else{if(this._contourInited)return(b={}).x=F[0],b.y=F[1],b.x3=F[2],b.y3=F[3],b.type=f.QUADRATIC,this._contourVertices.push(b),this;if(0<a.length){c=!0;for(var A=[],P=0;P<F.length;P++)A[P]=F[P];A.isVert=!1,(s?l:a).push(A)}else h.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},h.default.prototype.vertex=function(b,T,F,k,A){var P;return this._renderer.isP3D?(P=this._renderer).vertex.apply(P,arguments):((P=[]).isVert=!0,P[0]=b,P[1]=T,P[2]=0,P[3]=0,P[4]=0,P[5]=this._renderer._getFill(),P[6]=this._renderer._getStroke(),F&&(P.moveTo=F),(s?(0===l.length&&(P.moveTo=!0),l):a).push(P)),this},h.default.prototype.normal=function(b,T,F){var k;return this._assert3d("normal"),h.default._validateParameters("normal",arguments),(k=this._renderer).normal.apply(k,arguments),this},h.default);C.default=p},{"../constants":269,"../main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],291:[function(r,H,C){},{}],292:[function(r,H,C){"use strict";r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.assign"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(r=(r=r("./main"))&&r.__esModule?r:{default:r}).default.prototype.noLoop=function(){this._loop=!1},r.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},r.default.prototype.isLooping=function(){return this._loop},r.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},r.default.prototype.pop=function(){var y=this._styles.pop();y?(this._renderer.pop(y.renderer),Object.assign(this,y.props)):console.warn("pop() was called without matching push()")},r.default.prototype.redraw=function(y){if(!this._inUserDraw&&this._setupDone){var _=parseInt(y),h=((isNaN(_)||_<1)&&(_=1),this._isGlobal?window:this);if("function"==typeof h.draw){void 0===h.setup&&h.scale(h._pixelDensity,h._pixelDensity);for(var f=0;f<_;f++){h.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),h._renderer.isP3D&&h._renderer._update(),h._setProperty("frameCount",h.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{h.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},C.default=r=r.default},{"./main":280,"core-js/modules/es.object.assign":181}],293:[function(r,H,C){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(r=r("./main"))&&r.__esModule?r:{default:r};y.default.prototype.applyMatrix=function(){var h=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||h?(h=this._renderer).applyMatrix.apply(h,function _(h){return function(f){if(Array.isArray(f)){for(var E=0,w=new Array(f.length);E<f.length;E++)w[E]=f[E];return w}}(h)||function(f){if(Symbol.iterator in Object(f)||"[object Arguments]"===Object.prototype.toString.call(f))return Array.from(f)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(arguments.length<=0?void 0:arguments[0])):(h=this._renderer).applyMatrix.apply(h,arguments),this},y.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},y.default.prototype.rotate=function(h,f){return y.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(h),f),this},y.default.prototype.rotateX=function(h){return this._assert3d("rotateX"),y.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(h)),this},y.default.prototype.rotateY=function(h){return this._assert3d("rotateY"),y.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(h)),this},y.default.prototype.rotateZ=function(h){return this._assert3d("rotateZ"),y.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(h)),this},y.default.prototype.scale=function(h,f,E){var w;return y.default._validateParameters("scale",arguments),h instanceof y.default.Vector?(h=(w=h).x,f=w.y,E=w.z):Array.isArray(h)&&(h=(w=h)[0],f=w[1],E=w[2]||1),isNaN(f)?f=E=h:isNaN(E)&&(E=1),this._renderer.scale(h,f,E),this},y.default.prototype.shearX=function(h){return y.default._validateParameters("shearX",arguments),h=this._toRadians(h),this._renderer.applyMatrix(1,0,Math.tan(h),1,0,0),this},y.default.prototype.shearY=function(h){return y.default._validateParameters("shearY",arguments),h=this._toRadians(h),this._renderer.applyMatrix(1,Math.tan(h),0,1,0,0),this},y.default.prototype.translate=function(h,f,E){return y.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(h,f,E):this._renderer.translate(h,f),this},C.default=r=y.default},{"./main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.iterator":243}],294:[function(r,H,C){"use strict";function y(E){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(E)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.ends-with"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.ends-with"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator");var _=(r=r("../core/main"))&&r.__esModule?r:{default:r};function h(E){return function(w){if(Array.isArray(w)){for(var a=0,l=new Array(w.length);a<w.length;a++)l[a]=w[a];return l}}(E)||function(w){if(Symbol.iterator in Object(w)||"[object Arguments]"===Object.prototype.toString.call(w))return Array.from(w)}(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(E){return(f="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(w){return y(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":y(w)})(E)}_.default.prototype.storeItem=function(E,w){"string"!=typeof E&&console.log("The argument that you passed to storeItem() - ".concat(E," is not a string.")),E.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(E," must not end with 'p5TypeID'.")),void 0===w&&console.log("You cannot store undefined variables using storeItem().");var a=f(w);switch(a){case"number":case"boolean":w=w.toString();break;case"object":w instanceof _.default.Color?a="p5.Color":w instanceof _.default.Vector&&(a="p5.Vector",w=[w.x,w.y,w.z]),w=JSON.stringify(w)}localStorage.setItem(E,w),E="".concat(E,"p5TypeID"),localStorage.setItem(E,a)},_.default.prototype.getItem=function(E){var w=localStorage.getItem(E),a=localStorage.getItem("".concat(E,"p5TypeID"));if(void 0===a)console.log("Unable to determine type of item stored under ".concat(E,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==w)switch(a){case"number":w=parseFloat(w);break;case"boolean":w="true"===w;break;case"object":w=JSON.parse(w);break;case"p5.Color":w=JSON.parse(w),w=this.color.apply(this,h(w.levels));break;case"p5.Vector":w=JSON.parse(w),w=this.createVector.apply(this,h(w))}return w},_.default.prototype.clearStorage=function(){localStorage.clear()},_.default.prototype.removeItem=function(E){"string"!=typeof E&&console.log("The argument that you passed to removeItem() - ".concat(E," is not a string.")),localStorage.removeItem(E),localStorage.removeItem("".concat(E,"p5TypeID"))}},{"../core/main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.ends-with":195,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],295:[function(r,H,C){"use strict";function y(c){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(c)}function _(c){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(s){return y(s)}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":y(s)})(c)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.object.keys"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(r=r("../core/main"))&&r.__esModule?r:{default:r};function f(c,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(s&&s.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),s&&E(c,s)}function E(c,s){return(E=Object.setPrototypeOf||function(m,p){return m.__proto__=p,m})(c,s)}function w(c){return function(){var s,m=a(c);if(s=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(s=a(this).constructor,Reflect.construct(m,arguments,s)):m.apply(this,arguments),m=this,!s||"object"!==_(s)&&"function"!=typeof s){if(void 0!==m)return m;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return s}}function a(c){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)})(c)}function l(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")}function d(c,s){for(var m=0;m<s.length;m++){var p=s[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}function u(c,s,m){s&&d(c.prototype,s),m&&d(c,m)}h.default.prototype.createStringDict=function(c,s){return h.default._validateParameters("createStringDict",arguments),new h.default.StringDict(c,s)},h.default.prototype.createNumberDict=function(c,s){return h.default._validateParameters("createNumberDict",arguments),new h.default.NumberDict(c,s)},h.default.TypedDict=function(){function c(s,m){return l(this,c),s instanceof Object?this.data=s:(this.data={},this.data[s]=m),this}return u(c,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(s){return this.data.hasOwnProperty(s)}},{key:"get",value:function(s){if(this.data.hasOwnProperty(s))return this.data[s];console.log("".concat(s," does not exist in this Dictionary"))}},{key:"set",value:function(s,m){this._validate(m)?this.data[s]=m:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(s){for(var m in s)this.set(m,s[m])}},{key:"create",value:function(s,m){s instanceof Object&&void 0===m?this._addObj(s):void 0!==s?this.set(s,m):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(s){if(!this.data.hasOwnProperty(s))throw new Error("".concat(s," does not exist in this Dictionary"));delete this.data[s]}},{key:"print",value:function(){for(var s in this.data)console.log("key:".concat(s," value:").concat(this.data[s]))}},{key:"saveTable",value:function(s){var m,p="";for(m in this.data)p+="".concat(m,",").concat(this.data[m],"\n");var b=new Blob([p],{type:"text/csv"});h.default.prototype.downloadFile(b,s||"mycsv","csv")}},{key:"saveJSON",value:function(s,m){h.default.prototype.saveJSON(this.data,s,m)}},{key:"_validate",value:function(s){return!0}}]),c}(),h.default.StringDict=function(){f(s,h.default.TypedDict);var c=w(s);function s(){l(this,s);for(var m=arguments.length,p=new Array(m),b=0;b<m;b++)p[b]=arguments[b];return c.call.apply(c,[this].concat(p))}return u(s,[{key:"_validate",value:function(m){return"string"==typeof m}}]),s}(),h.default.NumberDict=function(){f(s,h.default.TypedDict);var c=w(s);function s(){l(this,s);for(var m=arguments.length,p=new Array(m),b=0;b<m;b++)p[b]=arguments[b];return c.call.apply(c,[this].concat(p))}return u(s,[{key:"_validate",value:function(m){return"number"==typeof m}},{key:"add",value:function(m,p){this.data.hasOwnProperty(m)?this.data[m]+=p:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"sub",value:function(m,p){this.add(m,-p)}},{key:"mult",value:function(m,p){this.data.hasOwnProperty(m)?this.data[m]*=p:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"div",value:function(m,p){this.data.hasOwnProperty(m)?this.data[m]/=p:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"_valueTest",value:function(m){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var p,b=this.data[Object.keys(this.data)[0]];for(p in this.data)this.data[p]*m<b*m&&(b=this.data[p]);return b}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(m){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var p=Object.keys(this.data)[0],b=1;b<Object.keys(this.data).length;b++)Object.keys(this.data)[b]*m<p*m&&(p=Object.keys(this.data)[b]);return p}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),s}(),C.default=r=h.default.TypedDict},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],296:[function(r,H,C){"use strict";function y(p){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/web.url"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/web.url"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var _=(r=r("../core/main"))&&r.__esModule?r:{default:r};function h(p,b){for(var T=0;T<b.length;T++){var F=b[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(p,F.key,F)}}function f(p,b,T){b&&h(p.prototype,b),T&&h(p,T)}function E(p,b){return(E=Object.setPrototypeOf||function(T,F){return T.__proto__=F,T})(p,b)}function a(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function l(p){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(p)}function d(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function u(p){return(u="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(b){return y(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":y(b)})(p)}function c(p,b,T){return(b._userNode||document.body).appendChild(p),T=new(T?_.default.MediaElement:_.default.Element)(p,b),b._elements.push(T),T}function s(p,P,T,F){var k=document.createElement(P),A=("string"==typeof(T=T||"")&&(T=[T]),!0),$=void(P=!1);try{for(var j,N=T[Symbol.iterator]();!(A=(j=N.next()).done);A=!0){var I=j.value,B=document.createElement("source");B.setAttribute("src",I),k.appendChild(B)}}catch(W){P=!0,$=W}finally{try{A||null==N.return||N.return()}finally{if(P)throw $}}"function"==typeof F&&k.addEventListener("canplaythrough",function W(){F(),k.removeEventListener("canplaythrough",W)});var z=c(k,p,!0);return z.loadedmetadata=!1,k.addEventListener("loadedmetadata",function(){z.width=k.videoWidth,z.height=k.videoHeight,0===z.elt.width&&(z.elt.width=k.videoWidth),0===z.elt.height&&(z.elt.height=k.videoHeight),z.presetPlaybackRate&&(z.elt.playbackRate=z.presetPlaybackRate,delete z.presetPlaybackRate),z.loadedmetadata=!0}),z}function m(p,b,T,F){d(this,m),this.callback=p,this.time=b,this.id=T,this.val=F}_.default.prototype.select=function(p,b){return _.default._validateParameters("select",arguments),(b=this._getContainer(b).querySelector(p))?this._wrapElement(b):null},_.default.prototype.selectAll=function(p,b){_.default._validateParameters("selectAll",arguments);var T=[],F=this._getContainer(b).querySelectorAll(p);if(F)for(var k=0;k<F.length;k++){var A=this._wrapElement(F[k]);T.push(A)}return T},_.default.prototype._getContainer=function(p){var b=document;return"string"==typeof p?b=document.querySelector(p)||document:p instanceof _.default.Element?b=p.elt:p instanceof HTMLElement&&(b=p),b},_.default.prototype._wrapElement=function(p){var b,T=Array.prototype.slice.call(p.children);return"INPUT"===p.tagName&&"checkbox"===p.type?((b=new _.default.Element(p,this)).checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},b):"VIDEO"===p.tagName||"AUDIO"===p.tagName?new _.default.MediaElement(p,this):"SELECT"===p.tagName?this.createSelect(new _.default.Element(p,this)):0<T.length&&T.every(function(F){return"INPUT"===F.tagName||"LABEL"===F.tagName})?this.createRadio(new _.default.Element(p,this)):new _.default.Element(p,this)},_.default.prototype.removeElements=function(p){_.default._validateParameters("removeElements",arguments),this._elements.filter(function(b){return!(b.elt instanceof HTMLCanvasElement)}).map(function(b){return b.remove()})},_.default.Element.prototype.changed=function(p){return _.default.Element._adjustListener("change",p,this),this},_.default.Element.prototype.input=function(p){return _.default.Element._adjustListener("input",p,this),this},_.default.prototype.createDiv=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=document.createElement("div");return b.innerHTML=p,c(b,this)},_.default.prototype.createP=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=document.createElement("p");return b.innerHTML=p,c(b,this)},_.default.prototype.createSpan=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=document.createElement("span");return b.innerHTML=p,c(b,this)},_.default.prototype.createImg=function(){_.default._validateParameters("createImg",arguments);var p,b=document.createElement("img"),T=arguments;return 1<T.length&&"string"==typeof T[1]&&(b.alt=T[1]),2<T.length&&"string"==typeof T[2]&&(b.crossOrigin=T[2]),b.src=T[0],p=c(b,this),b.addEventListener("load",function(){p.width=b.offsetWidth||b.width,p.height=b.offsetHeight||b.height;var F=T[T.length-1];"function"==typeof F&&F(p)}),p},_.default.prototype.createA=function(p,b,T){_.default._validateParameters("createA",arguments);var F=document.createElement("a");return F.href=p,F.innerHTML=b,T&&(F.target=T),c(F,this)},_.default.prototype.createSlider=function(p,b,T,F){_.default._validateParameters("createSlider",arguments);var k=document.createElement("input");return k.type="range",k.min=p,k.max=b,0===F?k.step=1e-18:F&&(k.step=F),"number"==typeof T&&(k.value=T),c(k,this)},_.default.prototype.createButton=function(p,b){_.default._validateParameters("createButton",arguments);var T=document.createElement("button");return T.innerHTML=p,b&&(T.value=b),c(T,this)},_.default.prototype.createCheckbox=function(){for(var p=arguments.length,b=new Array(p),T=0;T<p;T++)b[T]=arguments[T];_.default._validateParameters("createCheckbox",b);var F=document.createElement("div"),k=document.createElement("input"),A=(k.type="checkbox",document.createElement("label")),P=(A.appendChild(k),F.appendChild(A),c(F,this));return P.checked=function(){var $=P.elt.firstElementChild.getElementsByTagName("input")[0];if($){if(0===arguments.length)return $.checked;$.checked=!(arguments.length<=0||!arguments[0])}return P},this.value=function($){return P.value=$,this},b[0]&&(P.value(b[0]),(F=document.createElement("span")).innerHTML=b[0],A.appendChild(F)),b[1]&&(k.checked=!0),P},_.default.prototype.createSelect=function(){for(var p,b=arguments.length,T=new Array(b),F=0;F<b;F++)T[F]=arguments[F];_.default._validateParameters("createSelect",T);var k,A=T[0];return A instanceof _.default.Element&&A.elt instanceof HTMLSelectElement?this.elt=(p=A).elt:A instanceof HTMLSelectElement?(p=c(A,this),this.elt=A):(k=document.createElement("select"),A&&"boolean"==typeof A&&k.setAttribute("multiple","true"),p=c(k,this),this.elt=k),p.option=function(P,$){var j;if(void 0!==P){for(var N,I=0;I<this.elt.length;I+=1)if(this.elt[I].textContent===P){j=I;break}void 0!==j?!1===$?this.elt.remove(j):this.elt[j].value=$:((N=document.createElement("option")).textContent=P,N.value=void 0===$?P:$,this.elt.appendChild(N),this._pInst._elements.push(N))}},p.selected=function(P){if(void 0!==P){for(var $=0;$<this.elt.length;$+=1)this.elt[$].value.toString()===P.toString()&&(this.elt.selectedIndex=$);return this}if(this.elt.getAttribute("multiple")){var j=[],N=!0,I=!1,B=void 0;try{for(var z,W=this.elt.selectedOptions[Symbol.iterator]();!(N=(z=W.next()).done);N=!0)j.push(z.value.value)}catch(J){I=!0,B=J}finally{try{N||null==W.return||W.return()}finally{if(I)throw B}}return j}return this.elt.value},p.disable=function(P){if("string"==typeof P)for(var $=0;$<this.elt.length;$++)this.elt[$].value.toString()===P&&(this.elt[$].disabled=!0,this.elt[$].selected=!1);else this.elt.disabled=!0;return this},p.enable=function(P){if("string"==typeof P)for(var $=0;$<this.elt.length;$++)this.elt[$].value.toString()===P&&(this.elt[$].disabled=!1,this.elt[$].selected=!1);else{this.elt.disabled=!1;for(var j=0;j<this.elt.length;j++)this.elt[j].disabled=!1,this.elt[j].selected=!1}return this},p},_.default.prototype.createRadio=function(){function p(P){return P instanceof HTMLInputElement&&"radio"===P.type}function b(P){return P instanceof HTMLLabelElement}var T,F,k,A=arguments.length<=0?void 0:arguments[0];return A instanceof _.default.Element&&(A.elt instanceof HTMLDivElement||A.elt instanceof HTMLSpanElement)?(T=A,this.elt=A.elt):A instanceof HTMLDivElement||A instanceof HTMLSpanElement?(T=c(A,this),F=this.elt=A,"string"==typeof(arguments.length<=1?void 0:arguments[1])&&(k=arguments.length<=1?void 0:arguments[1])):("string"==typeof A&&(k=A),F=document.createElement("div"),T=c(F,this),this.elt=F),T._name=k||"radioOption",T._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(P){return p(P)||b(P)&&p(P.firstElementChild)}).map(function(P){return p(P)?P:P.firstElementChild})},T.option=function(P,$){var j,N,I,B=!0,z=!1,W=void 0;try{for(var ne,J=T._getOptionsArray()[Symbol.iterator]();!(B=(ne=J.next()).done);B=!0){var q=ne.value;if(q.value===P){j=q;break}}}catch(ae){z=!0,W=ae}finally{try{B||null==J.return||J.return()}finally{if(z)throw W}}return void 0===j&&((j=document.createElement("input")).setAttribute("type","radio"),j.setAttribute("value",P)),j.setAttribute("name",T._name),b(j.parentElement)?N=j.parentElement:(N=document.createElement("label")).insertAdjacentElement("afterbegin",j),N.lastElementChild instanceof HTMLSpanElement?I=N.lastElementChild:(I=document.createElement("span"),j.insertAdjacentElement("afterend",I)),I.innerHTML=void 0===$?P:$,this.elt.appendChild(N),j},T.remove=function(P){var $=!0,j=!1,N=void 0;try{for(var I,B=T._getOptionsArray()[Symbol.iterator]();!($=(I=B.next()).done);$=!0){var z=I.value;if(z.value===P)return void(b(z.parentElement)?z.parentElement:z).remove()}}catch(W){j=!0,N=W}finally{try{$||null==B.return||B.return()}finally{if(j)throw N}}},T.value=function(){var P="",$=!0,j=!1,N=void 0;try{for(var I,B=T._getOptionsArray()[Symbol.iterator]();!($=(I=B.next()).done);$=!0){var z=I.value;if(z.checked){P=z.value;break}}}catch(W){j=!0,N=W}finally{try{$||null==B.return||B.return()}finally{if(j)throw N}}return P},T.selected=function(P){var $=null;if(void 0===P){var j=!0,N=!1,I=void 0;try{for(var B,z=T._getOptionsArray()[Symbol.iterator]();!(j=(B=z.next()).done);j=!0){var W=B.value;if(W.checked){$=W;break}}}catch(fe){N=!0,I=fe}finally{try{j||null==z.return||z.return()}finally{if(N)throw I}}}else{T._getOptionsArray().forEach(function(K){K.checked=!1,K.removeAttribute("checked")});var ne=!0;N=!1,I=void 0;try{for(var J,q=T._getOptionsArray()[Symbol.iterator]();!(ne=(J=q.next()).done);ne=!0){var ae=J.value;ae.value===P&&(ae.setAttribute("checked",!0),ae.checked=!0,$=ae)}}catch(K){N=!0,I=K}finally{try{ne||null==q.return||q.return()}finally{if(N)throw I}}}return $},T.disable=function(){var P=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],$=!0,j=!1,N=void 0;try{for(var I,B=T._getOptionsArray()[Symbol.iterator]();!($=(I=B.next()).done);$=!0)I.value.setAttribute("disabled",P)}catch(z){j=!0,N=z}finally{try{$||null==B.return||B.return()}finally{if(j)throw N}}},T},_.default.prototype.createColorPicker=function(p){_.default._validateParameters("createColorPicker",arguments);var b=document.createElement("input");return b.type="color",p?p instanceof _.default.Color?b.value=p.toString("#rrggbb"):(_.default.prototype._colorMode="rgb",_.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},b.value=_.default.prototype.color(p).toString("#rrggbb")):b.value="#000000",(b=c(b,this)).color=function(){return p&&(p.mode&&(_.default.prototype._colorMode=p.mode),p.maxes&&(_.default.prototype._colorMaxes=p.maxes)),_.default.prototype.color(this.elt.value)},b},_.default.prototype.createInput=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",T=(_.default._validateParameters("createInput",arguments),document.createElement("input"));return T.setAttribute("value",p),T.setAttribute("type",b),c(T,this)},_.default.prototype.createFileInput=function(p){var b,T=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(_.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(b=document.createElement("input")).setAttribute("type","file"),T&&b.setAttribute("multiple",!0),b.addEventListener("change",function(F){var k=!0,A=!1,P=void 0;try{for(var $,j=F.target.files[Symbol.iterator]();!(k=($=j.next()).done);k=!0)_.default.File._load($.value,p)}catch(I){A=!0,P=I}finally{try{k||null==j.return||j.return()}finally{if(A)throw P}}},!1),c(b,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},_.default.prototype.createVideo=function(p,b){return _.default._validateParameters("createVideo",arguments),s(this,"video",p,b)},_.default.prototype.createAudio=function(p,b){return _.default._validateParameters("createAudio",arguments),s(this,"audio",p,b)},_.default.prototype.VIDEO="video",_.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(p){var b=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return b?new Promise(function(T,F){b.call(navigator,p,T,F)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),_.default.prototype.createCapture=function(){for(var p=arguments.length,b=new Array(p),T=0;T<p;T++)b[T]=arguments[T];if(_.default._validateParameters("createCapture",b),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var F,k=!0,A=!0,P=!1,$=0,j=b;$<j.length;$++){var N=j[$];N===_.default.prototype.VIDEO?A=!1:N===_.default.prototype.AUDIO?k=!1:"object"===u(N)?(void 0!==N.flipped&&(P=N.flipped,delete N.flipped),I=Object.assign({},I,N)):"function"==typeof N&&(F=N)}var I=Object.assign({},{video:k,audio:A},I),B=document.createElement("video"),z=(B.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(I).then(function(W){try{"srcObject"in B?B.srcObject=W:B.src=window.URL.createObjectURL(W)}catch{B.src=W}},console.error),c(B,this,!0));return z.loadedmetadata=!1,B.addEventListener("loadedmetadata",function(){B.play(),B.width?(z.width=B.width,z.height=B.height,P&&(z.elt.style.transform="scaleX(-1)")):(z.width=z.elt.width=B.videoWidth,z.height=z.elt.height=B.videoHeight),z.loadedmetadata=!0,F&&F(B.srcObject)}),z.flipped=P,z},_.default.prototype.createElement=function(p,b){return _.default._validateParameters("createElement",arguments),p=document.createElement(p),void 0!==b&&(p.innerHTML=b),c(p,this)},_.default.Element.prototype.addClass=function(p){return this.elt.className?this.hasClass(p)||(this.elt.className=this.elt.className+" "+p):this.elt.className=p,this},_.default.Element.prototype.removeClass=function(p){return this.elt.classList.remove(p),this},_.default.Element.prototype.hasClass=function(p){return this.elt.classList.contains(p)},_.default.Element.prototype.toggleClass=function(p){return this.elt.classList.contains(p)?this.elt.classList.remove(p):this.elt.classList.add(p),this},_.default.Element.prototype.child=function(p){return void 0===p?this.elt.childNodes:("string"==typeof p?("#"===p[0]&&(p=p.substring(1)),p=document.getElementById(p)):p instanceof _.default.Element&&(p=p.elt),p instanceof HTMLElement&&this.elt.appendChild(p),this)},_.default.Element.prototype.center=function(p){var b=this.elt.style.display,T="none"===this.elt.style.display,F="none"===this.parent().style.display,k={x:this.elt.offsetLeft,y:this.elt.offsetTop},A=(T&&this.show(),F&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),P=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===p||void 0===p?this.position(A/2+this.parent().offsetLeft,P/2+this.parent().offsetTop):"horizontal"===p?this.position(A/2+this.parent().offsetLeft,k.y):"vertical"===p&&this.position(k.x,P/2+this.parent().offsetTop),this.style("display",b),T&&this.hide(),F&&this.parent().hide(),this},_.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},_.default.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="static"!==(arguments.length<=2?void 0:arguments[2])&&"fixed"!==(arguments.length<=2?void 0:arguments[2])&&"relative"!==(arguments.length<=2?void 0:arguments[2])&&"sticky"!==(arguments.length<=2?void 0:arguments[2])&&"initial"!==(arguments.length<=2?void 0:arguments[2])&&"inherit"!==(arguments.length<=2?void 0:arguments[2])?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},_.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var p="";return this.elt.style.transform&&(p=(p=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=p,this},_.default.Element.prototype._rotate=function(){var p="";return this.elt.style.transform&&(p=(p=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":2===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=p,this},_.default.Element.prototype.style=function(p,b){if(void 0===(b=b instanceof _.default.Color?"rgba("+b.levels[0]+","+b.levels[1]+","+b.levels[2]+","+b.levels[3]/255+")":b)){if(-1===p.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(p);for(var T=p.split(";"),F=0;F<T.length;F++){var k=T[F].split(":");k[0]&&k[1]&&(this.elt.style[k[0].trim()]=k[1].trim())}}else this.elt.style[p]=b,"width"!==p&&"height"!==p&&"left"!==p&&"top"!==p||(b=window.getComputedStyle(this.elt).getPropertyValue(p).replace(/[^\d.]/g,""),this[p]=Math.round(parseFloat(b,10)));return this},_.default.Element.prototype.attribute=function(p,b){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===b?this.elt.getAttribute(p):(this.elt.setAttribute(p,b),this);if(void 0===b)return this.elt.firstChild.getAttribute(p);for(var T=0;T<this.elt.childNodes.length;T++)this.elt.childNodes[T].setAttribute(p,b)},_.default.Element.prototype.removeAttribute=function(p){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var b=0;b<this.elt.childNodes.length;b++)this.elt.childNodes[b].removeAttribute(p);return this.elt.removeAttribute(p),this},_.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},_.default.Element.prototype.show=function(){return this.elt.style.display="block",this},_.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},_.default.Element.prototype.size=function(p,b){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var T=p,F=b,k=_.default.prototype.AUTO;if(T!==k||F!==k){if(T===k?T=b*this.width/this.height:F===k&&(F=p*this.height/this.width),this.elt instanceof HTMLCanvasElement){var A,P={},$=this.elt.getContext("2d");for(A in $)P[A]=$[A];for(A in this.elt.setAttribute("width",T*this._pInst._pixelDensity),this.elt.setAttribute("height",F*this._pInst._pixelDensity),this.elt.style.width=T+"px",this.elt.style.height=F+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),P)this.elt.getContext("2d")[A]=P[A]}else this.elt.style.width=T+"px",this.elt.style.height=F+"px",this.elt.width=T,this.elt.height=F;this.width=T,this.height=F,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",T),this._pInst._setProperty("height",F))}return this},_.default.Element.prototype.remove=function(){this instanceof _.default.MediaElement&&(this.stop(),null!==(b=this.elt.srcObject)&&b.getTracks().forEach(function(T){T.stop()}));var p,b=this._pInst._elements.indexOf(this);for(p in-1!==b&&this._pInst._elements.splice(b,1),this._events)this.elt.removeEventListener(p,this._events[p]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},_.default.Element.prototype.drop=function(p,b){var T;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",T=function(F){F.preventDefault()}),this.elt.addEventListener("dragleave",T)),_.default.Element._attachListener("drop",function(k){k.preventDefault(),"function"==typeof b&&b.call(this,k),k=k.dataTransfer.files;var A=!0,P=!1,$=void 0;try{for(var j,N=k[Symbol.iterator]();!(A=(j=N.next()).done);A=!0)_.default.File._load(j.value,p)}catch(B){P=!0,$=B}finally{try{A||null==N.return||N.return()}finally{if(P)throw $}}},this)):console.log("The File APIs are not fully supported in this browser."),this},_.default.Element.prototype.draggable=function(p){var b,T="ontouchstart"in window,F=0,k=0,A=0,P=0,$=T?"touchend":"mouseup",j=T?"touchmove":"mousemove";function N(B){var z;B=B||window.event,P=T?(z=B.changedTouches,F=A-parseInt(z[0].clientX),k=P-parseInt(z[0].clientY),A=parseInt(z[0].clientX),parseInt(z[0].clientY)):(F=A-parseInt(B.clientX),k=P-parseInt(B.clientY),A=parseInt(B.clientX),parseInt(B.clientY)),p.style.left=p.offsetLeft-F+"px",p.style.top=p.offsetTop-k+"px"}function I(){document.removeEventListener($,I,!1),document.removeEventListener(j,N,!1)}return void 0===p?b=p=this.elt:p!==this.elt&&p.elt!==this.elt&&(p=p.elt,b=this.elt),b.addEventListener(T?"touchstart":"mousedown",function(B){var z;return B=B||window.event,P=T?(z=B.changedTouches,A=parseInt(z[0].clientX),parseInt(z[0].clientY)):(A=parseInt(B.clientX),parseInt(B.clientY)),document.addEventListener($,I,!1),document.addEventListener(j,N,!1),!1},!1),b.style.cursor="move",this},r=function(p){var b=F;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),p&&E(b,p);var T=function w(p){return function(){var b,T,F=l(p);return b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=l(this).constructor,Reflect.construct(F,arguments,b)):F.apply(this,arguments),F=this,!(T=b)||"object"!==u(T)&&"function"!=typeof T?a(F):T}}(F);function F(k,A){d(this,F);var P=a(A=T.call(this,k,A));return A.elt.crossOrigin="anonymous",A._prevTime=0,A._cueIDCounter=0,A._cues=[],A.pixels=[],A._pixelsState=a(A),A._pixelDensity=1,A._modified=!1,A._frameOnCanvas=-1,Object.defineProperty(P,"src",{get:function(){var $=P.elt.children[0].src,j=P.elt.src===window.location.href?"":P.elt.src;return $===window.location.href?j:$},set:function($){for(var j=0;j<P.elt.children.length;j++)P.elt.removeChild(P.elt.children[j]);var N=document.createElement("source");N.src=$,k.appendChild(N),P.elt.src=$,P.modified=!0}}),P._onended=function(){},P.elt.onended=function(){P._onended(P)},A}return f(F,[{key:"play",value:function(){var k;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(k=this.elt.play())&&k.catch&&k.catch(function(A){"NotAllowedError"===A.name?console.error(A):console.error("Media play method encountered an unexpected error",A)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var k=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(k)},{passive:!0,once:!0})}},{key:"autoplay",value:function(k){var A=this,P=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",k),k&&!P&&(k=function(){return A._setupAutoplayFailDetection()},4===this.elt.readyState?k():this.elt.addEventListener("canplay",k,{passive:!0,once:!0})),this}},{key:"volume",value:function(k){if(void 0===k)return this.elt.volume;this.elt.volume=k}},{key:"speed",value:function(k){if(void 0===k)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=k:this.presetPlaybackRate=k}},{key:"time",value:function(k){return void 0===k?this.elt.currentTime:(this.elt.currentTime=k,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&this._frameOnCanvas!==this._pInst.frameCount&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var k=arguments.length,A=new Array(k),P=0;P<k;P++)A[P]=arguments[P];return _.default.Renderer2D.prototype.loadPixels.apply(this,A)}},{key:"updatePixels",value:function(k,A,P,$){return this.loadedmetadata&&(this._ensureCanvas(),_.default.Renderer2D.prototype.updatePixels.call(this,k,A,P,$)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var k=arguments.length,A=new Array(k),P=0;P<k;P++)A[P]=arguments[P];return _.default.Renderer2D.prototype.get.apply(this,A)}},{key:"_getPixel",value:function(){this.loadPixels();for(var k=arguments.length,A=new Array(k),P=0;P<k;P++)A[P]=arguments[P];return _.default.Renderer2D.prototype._getPixel.apply(this,A)}},{key:"set",value:function(k,A,P){this.loadedmetadata&&(this._ensureCanvas(),_.default.Renderer2D.prototype.set.call(this,k,A,P),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var k=arguments.length,A=new Array(k),P=0;P<k;P++)A[P]=arguments[P];_.default.prototype.copy.apply(this,A)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var k=arguments.length,A=new Array(k),P=0;P<k;P++)A[P]=arguments[P];_.default.Image.prototype.mask.apply(this,A)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(k){this._modified=k}},{key:"onended",value:function(k){return this._onended=k,this}},{key:"connect",value:function(k){var A,P;if("function"==typeof _.default.prototype.getAudioContext)A=_.default.prototype.getAudioContext(),P=_.default.soundOut.input;else try{P=(A=k.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=A.createMediaElementSource(this.elt),this.audioSourceNode.connect(P)),this.audioSourceNode.connect(k?k.input?k.input:k:P)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(k,j,P){var $=this._cueIDCounter++;return j=new m(j,k,$,P),this._cues.push(j),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),$}},{key:"removeCue",value:function(k){for(var A=0;A<this._cues.length;A++)this._cues[A].id===k&&(console.log(k),this._cues.splice(A,1));0===this._cues.length&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var k=this.time(),A=0;A<this._cues.length;A++){var P=this._cues[A].time;this._prevTime<P&&P<=k&&this._cues[A].callback(this._cues[A].val)}this._prevTime=k}}]),F}(_.default.Element),_.default.MediaElement=r,r=function(){function p(b,T){d(this,p),this.file=b,this._pInst=T,T=b.type.split("/"),this.type=T[0],this.subtype=T[1],this.name=b.name,this.size=b.size,this.data=void 0}return f(p,null,[{key:"_createLoader",value:function(b,T){var F=new FileReader;return F.onload=function(k){var A,P=new _.default.File(b);"application/json"===P.file.type?P.data=JSON.parse(k.target.result):"text/xml"===P.file.type?(A=(new DOMParser).parseFromString(k.target.result,"text/xml"),P.data=new _.default.XML(A.documentElement)):P.data=k.target.result,T(P)},F}},{key:"_load",value:function(b,T){var F;/^text\//.test(b.type)||"application/json"===b.type?_.default.File._createLoader(b,T).readAsText(b):/^(video|audio)\//.test(b.type)?((F=new _.default.File(b)).data=URL.createObjectURL(b),T(F)):_.default.File._createLoader(b,T).readAsDataURL(b)}}]),p}(),_.default.File=r,C.default=r=_.default},{"../core/main":280,"core-js/modules/es.array.every":154,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243,"core-js/modules/web.url":245}],297:[function(u,H,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(u=u("../core/main"))&&u.__esModule?u:{default:u};y.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",y.default.prototype.accelerationX=0,y.default.prototype.accelerationY=0,y.default.prototype.accelerationZ=0,y.default.prototype.pAccelerationX=0,y.default.prototype.pAccelerationY=0,y.default.prototype.pAccelerationZ=0,y.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},y.default.prototype.rotationX=0,y.default.prototype.rotationY=0,y.default.prototype.rotationZ=0,y.default.prototype.pRotationX=0,y.default.prototype.pRotationY=0;var _=y.default.prototype.pRotationZ=0,h=0,f=0,E="clockwise",w="clockwise",a="clockwise",l=(y.default.prototype.pRotateDirectionX=void 0,y.default.prototype.pRotateDirectionY=void 0,y.default.prototype.pRotateDirectionZ=void 0,y.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},y.default.prototype.turnAxis=void 0,.5),d=30;y.default.prototype.setMoveThreshold=function(c){y.default._validateParameters("setMoveThreshold",arguments),l=c},y.default.prototype.setShakeThreshold=function(c){y.default._validateParameters("setShakeThreshold",arguments),d=c},y.default.prototype._ondeviceorientation=function(c){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(c.beta)),this._setProperty("rotationY",this._fromDegrees(c.gamma)),this._setProperty("rotationZ",this._fromDegrees(c.alpha)),this._handleMotion()},y.default.prototype._ondevicemotion=function(c){this._updatePAccelerations(),this._setProperty("accelerationX",2*c.acceleration.x),this._setProperty("accelerationY",2*c.acceleration.y),this._setProperty("accelerationZ",2*c.acceleration.z),this._handleMotion()},y.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var c,s,m,p,b,T=this._isGlobal?window:this;"function"==typeof T.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>l||Math.abs(this.accelerationY-this.pAccelerationY)>l||Math.abs(this.accelerationZ-this.pAccelerationZ)>l)&&T.deviceMoved(),"function"==typeof T.deviceTurned&&(s=this._toDegrees(this.rotationX)+180,m=this._toDegrees(this.pRotationX)+180,c=_+180,0<s-m&&s-m<270||s-m<-270?E="clockwise":(s-m<0||270<s-m)&&(E="counter-clockwise"),E!==this.pRotateDirectionX&&(c=s),90<Math.abs(s-c)&&Math.abs(s-c)<270&&(c=s,this._setProperty("turnAxis","X"),T.deviceTurned()),this.pRotateDirectionX=E,_=c-180,m=this._toDegrees(this.rotationY)+180,s=this._toDegrees(this.pRotationY)+180,c=h+180,0<m-s&&m-s<270||m-s<-270?w="clockwise":(m-s<0||270<m-this.pRotationY)&&(w="counter-clockwise"),w!==this.pRotateDirectionY&&(c=m),90<Math.abs(m-c)&&Math.abs(m-c)<270&&(c=m,this._setProperty("turnAxis","Y"),T.deviceTurned()),this.pRotateDirectionY=w,h=c-180,0<(s=this._toDegrees(this.rotationZ))-(m=this._toDegrees(this.pRotationZ))&&s-m<270||s-m<-270?a="clockwise":(s-m<0||270<s-m)&&(a="counter-clockwise"),a!==this.pRotateDirectionZ&&(f=s),90<Math.abs(s-f)&&Math.abs(s-f)<270&&(f=s,this._setProperty("turnAxis","Z"),T.deviceTurned()),this.pRotateDirectionZ=a,this._setProperty("turnAxis",void 0)),"function"==typeof T.deviceShaken&&(null!==this.pAccelerationX&&(p=Math.abs(this.accelerationX-this.pAccelerationX),b=Math.abs(this.accelerationY-this.pAccelerationY)),d<p+b&&T.deviceShaken())},C.default=u=y.default},{"../core/main":280}],298:[function(r,H,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(r=r("../core/main"))&&r.__esModule?r:{default:r};y.default.prototype.isKeyPressed=!1,y.default.prototype.keyIsPressed=!1,y.default.prototype.key="",y.default.prototype.keyCode=0,y.default.prototype._onkeydown=function(_){var h;this._downKeys[_.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",_.which),this._downKeys[_.which]=!0,this._setProperty("key",_.key||String.fromCharCode(_.which)||_.which),"function"!=typeof(h=this._isGlobal?window:this).keyPressed||_.charCode||!1===h.keyPressed(_)&&_.preventDefault())},y.default.prototype._onkeyup=function(_){this._downKeys[_.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",_.key||String.fromCharCode(_.which)||_.which),this._setProperty("keyCode",_.which);var h=this._isGlobal?window:this;"function"==typeof h.keyReleased&&!1===h.keyReleased(_)&&_.preventDefault()},y.default.prototype._onkeypress=function(_){var h;_.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",_.which),this._setProperty("key",_.key||String.fromCharCode(_.which)||_.which),"function"==typeof(h=this._isGlobal?window:this).keyTyped&&!1===h.keyTyped(_)&&_.preventDefault())},y.default.prototype._onblur=function(_){this._downKeys={}},y.default.prototype.keyIsDown=function(_){return y.default._validateParameters("keyIsDown",arguments),this._downKeys[_]||!1},y.default.prototype._areDownKeys=function(){for(var _ in this._downKeys)if(this._downKeys.hasOwnProperty(_)&&!0===this._downKeys[_])return!0;return!1},C.default=r=y.default},{"../core/main":280}],299:[function(r,H,C){"use strict";function y(w){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(w)}function _(w){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(a){return y(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":y(a)})(w)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(h=r("../core/main"))&&h.__esModule?h:{default:h},f=function(w){if(w&&w.__esModule)return w;if(null===w||"object"!==_(w)&&"function"!=typeof w)return{default:w};var a=E();if(a&&a.has(w))return a.get(w);var l,d={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in w){var c;Object.prototype.hasOwnProperty.call(w,l)&&((c=u?Object.getOwnPropertyDescriptor(w,l):null)&&(c.get||c.set)?Object.defineProperty(d,l,c):d[l]=w[l])}return d.default=w,a&&a.set(w,d),d}(r("../core/constants"));function E(){var w;return"function"!=typeof WeakMap?null:(E=function(){return w},w=new WeakMap)}h.default.prototype.movedX=0,h.default.prototype.movedY=0,h.default.prototype._hasMouseInteracted=!1,h.default.prototype.mouseX=0,h.default.prototype.mouseY=0,h.default.prototype.pmouseX=0,h.default.prototype.pmouseY=0,h.default.prototype.winMouseX=0,h.default.prototype.winMouseY=0,h.default.prototype.pwinMouseX=0,h.default.prototype.pwinMouseY=0,h.default.prototype.mouseButton=0,h.default.prototype.mouseIsPressed=!1,h.default.prototype._updateNextMouseCoords=function(w){var a,l,d,u,c;null!==this._curElement&&(!w.touches||0<w.touches.length)&&(l=this.width,d=this.height,(u=w)&&!u.clientX&&(u.touches?u=u.touches[0]:u.changedTouches&&(u=u.changedTouches[0])),c=(a=this._curElement.elt).getBoundingClientRect(),d={x:(u.clientX-c.left)/(l=a.scrollWidth/l||1),y:(u.clientY-c.top)/(a=a.scrollHeight/d||1),winX:u.clientX,winY:u.clientY,id:u.identifier},this._setProperty("movedX",w.movementX),this._setProperty("movedY",w.movementY),this._setProperty("mouseX",d.x),this._setProperty("mouseY",d.y),this._setProperty("winMouseX",d.winX),this._setProperty("winMouseY",d.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},h.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},h.default.prototype._setMouseButton=function(w){this._setProperty("mouseButton",1===w.button?f.CENTER:2===w.button?f.RIGHT:f.LEFT)},h.default.prototype._onmousemove=function(w){var a=this._isGlobal?window:this;this._updateNextMouseCoords(w),this.mouseIsPressed?"function"==typeof a.mouseDragged?!1===a.mouseDragged(w)&&w.preventDefault():"function"==typeof a.touchMoved&&!1===a.touchMoved(w)&&w.preventDefault():"function"==typeof a.mouseMoved&&!1===a.mouseMoved(w)&&w.preventDefault()},h.default.prototype._onmousedown=function(w){var a=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(w),this._updateNextMouseCoords(w),this.touchstart||("function"==typeof a.mousePressed?!1===a.mousePressed(w)&&w.preventDefault():"function"==typeof a.touchStarted&&!1===a.touchStarted(w)&&w.preventDefault(),this.touchstart=!1)},h.default.prototype._onmouseup=function(w){var a=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||("function"==typeof a.mouseReleased?!1===a.mouseReleased(w)&&w.preventDefault():"function"==typeof a.touchEnded&&!1===a.touchEnded(w)&&w.preventDefault(),this.touchend=!1)},h.default.prototype._ondragend=h.default.prototype._onmouseup,h.default.prototype._ondragover=h.default.prototype._onmousemove,h.default.prototype._onclick=function(w){var a=this._isGlobal?window:this;"function"==typeof a.mouseClicked&&!1===a.mouseClicked(w)&&w.preventDefault()},h.default.prototype._ondblclick=function(w){var a=this._isGlobal?window:this;"function"==typeof a.doubleClicked&&!1===a.doubleClicked(w)&&w.preventDefault()},h.default.prototype._mouseWheelDeltaY=0,h.default.prototype._pmouseWheelDeltaY=0,h.default.prototype._onwheel=function(w){var a=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",w.deltaY),"function"==typeof a.mouseWheel&&(w.delta=w.deltaY,!1===a.mouseWheel(w)&&w.preventDefault())},h.default.prototype.requestPointerLock=function(){var w=this._curElement.elt;return w.requestPointerLock=w.requestPointerLock||w.mozRequestPointerLock,w.requestPointerLock?(w.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},h.default.prototype.exitPointerLock=function(){document.exitPointerLock()},C.default=r=h.default},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],300:[function(r,H,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.prototype.touches=[],r.default.prototype._updateTouchCoords=function(y){if(null!==this._curElement){for(var _=[],h=0;h<y.touches.length;h++)_[h]=function(c,u,s,a){var l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,d=c.getBoundingClientRect();return u=c.scrollWidth/u||1,c=c.scrollHeight/s||1,{x:((s=a.touches[l]||a.changedTouches[l]).clientX-d.left)/u,y:(s.clientY-d.top)/c,winX:s.clientX,winY:s.clientY,id:s.identifier}}(this._curElement.elt,this.width,this.height,y,h);this._setProperty("touches",_)}},r.default.prototype._ontouchstart=function(y){var _=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(y),this._updateNextMouseCoords(y),this._updateMouseCoords(),"function"==typeof _.touchStarted&&(!1===_.touchStarted(y)&&y.preventDefault(),this.touchstart=!0)},r.default.prototype._ontouchmove=function(y){var _=this._isGlobal?window:this;this._updateTouchCoords(y),this._updateNextMouseCoords(y),"function"==typeof _.touchMoved?!1===_.touchMoved(y)&&y.preventDefault():"function"==typeof _.mouseDragged&&!1===_.mouseDragged(y)&&y.preventDefault()},r.default.prototype._ontouchend=function(y){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(y),this._updateNextMouseCoords(y);var _=this._isGlobal?window:this;"function"==typeof _.touchEnded&&(!1===_.touchEnded(y)&&y.preventDefault(),this.touchend=!0)},C.default=r=r.default},{"../core/main":280}],301:[function(r,H,C){"use strict";r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.int32-array"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.int32-array"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y,_,h,f,E={_toPixels:function(w){var a,l;return w instanceof ImageData?w.data:w.getContext("2d")?w.getContext("2d").getImageData(0,0,w.width,w.height).data:w.getContext("webgl")?(l=(a=w.getContext("webgl")).drawingBufferWidth*a.drawingBufferHeight*4,l=new Uint8Array(l),a.readPixels(0,0,w.width,w.height,a.RGBA,a.UNSIGNED_BYTE,l),l):void 0},_getARGB:function(w,a){return w[3+(a*=4)]<<24&4278190080|w[a]<<16&16711680|w[1+a]<<8&65280|255&w[2+a]},_setPixels:function(w,a){for(var l,d=0,u=w.length;d<u;d++)w[0+(l=4*d)]=(16711680&a[d])>>>16,w[1+l]=(65280&a[d])>>>8,w[2+l]=255&a[d],w[3+l]=(4278190080&a[d])>>>24},_toImageData:function(w){return w instanceof ImageData?w:w.getContext("2d").getImageData(0,0,w.width,w.height)},_createImageData:function(w,a){return E._tmpCanvas=document.createElement("canvas"),E._tmpCtx=E._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(w,a)},apply:function(w,c,l){var d=w.getContext("2d"),u=d.getImageData(0,0,w.width,w.height);(c=c(u,l))instanceof ImageData?d.putImageData(c,0,0,0,0,w.width,w.height):d.putImageData(u,0,0,0,0,w.width,w.height)},threshold:function(w){for(var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.5,l=E._toPixels(w),d=Math.floor(255*a),u=0;u<l.length;u+=4)l[u]=l[u+1]=l[u+2]=d<=.2126*l[u]+.7152*l[u+1]+.0722*l[u+2]?255:0},gray:function(w){for(var a=E._toPixels(w),l=0;l<a.length;l+=4)a[l]=a[l+1]=a[l+2]=.2126*a[l]+.7152*a[l+1]+.0722*a[l+2]},opaque:function(w){for(var a=E._toPixels(w),l=0;l<a.length;l+=4)a[l+3]=255;return a},invert:function(w){for(var a=E._toPixels(w),l=0;l<a.length;l+=4)a[l]=255-a[l],a[l+1]=255-a[l+1],a[l+2]=255-a[l+2]},posterize:function(w){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,l=E._toPixels(w);if(a<2||255<a)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var d=a-1,u=0;u<l.length;u+=4){var s=l[u+1],m=l[u+2];l[u]=255*(l[u]*a>>8)/d,l[u+1]=255*(s*a>>8)/d,l[u+2]=255*(m*a>>8)/d}},dilate:function(w){for(var a,l,d,u,c,s,m,p,b,T=E._toPixels(w),F=0,k=T.length?T.length/4:0,A=new Int32Array(k);F<k;)for(l=(a=F)+w.width;F<l;)u=d=E._getARGB(T,F),(b=F-1)<a&&(b=F),l<=(p=F+1)&&(p=F),(c=F-w.width)<0&&(c=0),k<=(s=F+w.width)&&(s=F),c=E._getARGB(T,c),b=E._getARGB(T,b),s=E._getARGB(T,s),(u=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))<(m=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))&&(d=b,u=m),u<(m=77*((b=E._getARGB(T,p))>>16&255)+151*(b>>8&255)+28*(255&b))&&(d=b,u=m),u<(p=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(d=c,u=p),u<(b=77*(s>>16&255)+151*(s>>8&255)+28*(255&s))&&(d=s,u=b),A[F++]=d;E._setPixels(T,A)},erode:function(w){for(var a,l,d,u,c,s,m,p,b,T=E._toPixels(w),F=0,k=T.length?T.length/4:0,A=new Int32Array(k);F<k;)for(l=(a=F)+w.width;F<l;)u=d=E._getARGB(T,F),(b=F-1)<a&&(b=F),l<=(p=F+1)&&(p=F),(c=F-w.width)<0&&(c=0),k<=(s=F+w.width)&&(s=F),c=E._getARGB(T,c),b=E._getARGB(T,b),s=E._getARGB(T,s),(m=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))<(u=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))&&(d=b,u=m),(m=77*((b=E._getARGB(T,p))>>16&255)+151*(b>>8&255)+28*(255&b))<u&&(d=b,u=m),(p=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))<u&&(d=c,u=p),(b=77*(s>>16&255)+151*(s>>8&255)+28*(255&s))<u&&(d=s,u=b),A[F++]=d;E._setPixels(T,A)},blur:function(w,a){for(var l,d,u,c,s,m,p,b,T,F,k=E._toPixels(w),A=w.width,P=w.height,$=A*P,j=new Int32Array($),N=0;N<$;N++)j[N]=E._getARGB(k,N);var I,B,z,W,ne,J,q,ae,fe=new Int32Array($),Se=new Int32Array($),K=new Int32Array($),R=new Int32Array($),se=0,ge=3.5*a|0;if(y!==(ge=ge<1?1:ge<248?ge:248)){_=1+(y=ge)<<1,h=new Int32Array(_),f=new Array(_);for(var De=0;De<_;De++)f[De]=new Int32Array(256);for(var Le=1,Ze=ge-1;Le<ge;Le++){h[ge+Le]=h[Ze]=J=Ze*Ze,q=f[ge+Le],ae=f[Ze--];for(var et=0;et<256;et++)q[et]=ae[et]=J*et}ne=h[ge]=ge*ge,q=f[ge];for(var Oe=0;Oe<256;Oe++)q[Oe]=ne*Oe}for(B=0;B<P;B++){for(I=0;I<A;I++){if(c=u=d=s=l=0,(m=I-y)<0)F=-m,m=0;else{if(A<=m)break;F=0}for(z=F;z<_&&!(A<=m);z++){var $e=j[m+se];s+=(W=f[z])[(-16777216&$e)>>>24],d+=W[(16711680&$e)>>16],u+=W[(65280&$e)>>8],c+=W[255&$e],l+=h[z],m++}fe[p=se+I]=s/l,Se[p]=d/l,K[p]=u/l,R[p]=c/l}se+=A}for(T=(b=-y)*A,B=se=0;B<P;B++){for(I=0;I<A;I++){if(c=u=d=s=l=0,b<0)F=p=-b,m=I;else{if(P<=b)break;F=0,p=b,m=I+T}for(z=F;z<_&&!(P<=p);z++)s+=(W=f[z])[fe[m]],d+=W[Se[m]],u+=W[K[m]],c+=W[R[m]],l+=h[z],p++,m+=A;j[I+se]=s/l<<24|d/l<<16|u/l<<8|c/l}se+=A,T+=A,b++}E._setPixels(k,j)}};C.default=E},{"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.int32-array":222,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239}],302:[function(r,H,C){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=h(r("../core/main")),_=h(r("omggif"));function h(E){return E&&E.__esModule?E:{default:E}}function f(E){return function(w){if(Array.isArray(w)){for(var a=0,l=new Array(w.length);a<w.length;a++)l[a]=w[a];return l}}(E)||function(w){if(Symbol.iterator in Object(w)||"[object Arguments]"===Object.prototype.toString.call(w))return Array.from(w)}(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}y.default.prototype.createImage=function(E,w){return y.default._validateParameters("createImage",arguments),new y.default.Image(E,w)},y.default.prototype.saveCanvas=function(){for(var E,w,a,l,d,u,c=arguments.length,s=new Array(c),m=0;m<c;m++)s[m]=arguments[m];switch(y.default._validateParameters("saveCanvas",s),s[0]instanceof HTMLCanvasElement?(E=s[0],s.shift()):s[0]instanceof y.default.Element?(E=s[0].elt,s.shift()):s[0]instanceof y.default.Framebuffer?((d=this.createGraphics((l=s[0]).width,l.height)).pixelDensity(pixelDensity()),l.loadPixels(),d.loadPixels(),d.pixels.set(l.pixels),d.updatePixels(),E=d.elt,s.shift()):E=this._curElement&&this._curElement.elt,1<=s.length&&(w=s[0]),a=(a=2<=s.length?s[1]:a)||y.default.prototype._checkFileExtension(w,a)[1]||"png"){default:u="image/png";break;case"jpeg":case"jpg":u="image/jpeg"}E.toBlob(function(p){y.default.prototype.downloadFile(p,w,a),d&&d.remove()},u)},y.default.prototype.encodeAndDownloadGif=function(E,w){for(var a=E.gifProperties,d=(1===(l=a.loopLimit)?l=null:null===l&&(l=0),new Uint8Array(E.width*E.height*a.numFrames)),u=[],c={},s=0;s<a.numFrames;s++){for(var m=new Set,p=a.frames[s].image.data,b=p.length,T=new Uint32Array(E.width*E.height),F=0,k=0;F<b;F+=4,k++){var A=p[F+0]<<16|p[F+1]<<8|p[F+2]<<0;m.add(A),T[k]=A}var P=f(m).sort().toString();void 0===c[P]?c[P]={freq:1,frames:[s]}:(c[P].freq+=1,c[P].frames.push(s)),u.push(T)}for(var N=[],$=Object.keys(c).sort(function(K,R){return c[R].freq-c[K].freq}),j=$[0].split(",").map(function(K){return parseInt(K)}),I=(N=N.concat(c[j].frames),new Set(j)),B=1;B<$.length;B++){var z=$[B].split(",").map(function(K){return parseInt(K)}).filter(function(K){return!I.has(K)});if(j.length+z.length<=256){for(var W=0;W<z.length;W++)j.push(z[W]),I.add(z[W]);N=N.concat(c[$[B]].frames)}}N=new Set(N);for(var ne={},J=0;J<j.length;J++)ne[j[J]]||(ne[j[J]]=J);for(var q=1;q<j.length;)q<<=1;j.length=q;for(var l={loop:l,palette:new Uint32Array(j)},ae=new _.default.GifWriter(d,E.width,E.height,l),fe={},Se=0;Se<a.numFrames;Se++)!function(R){var se=!N.has(R),ge=se?[]:j,De=new Uint8Array(E.width*E.height),Le={},Ze=new Set,et=(u[R].forEach(function(Je,Ye){se?(void 0===Le[Je]&&(Le[Je]=ge.length,ge.push(Je)),De[Ye]=Le[Je]):De[Ye]=ne[Je],0<R&&u[R-1][Ye]!==Je&&Ze.add(Je)}),{});if(0<(Oe=ge.filter(function(Je){return!Ze.has(Je)})).length){var Oe,$e=(se?Le:ne)[Oe=Oe[0]];if(0<R){for(var Ve=0;Ve<u[R].length;Ve++)u[R-1][Ve]===u[R][Ve]&&(De[Ve]=$e);et.transparent=$e,fe.frameOpts.disposal=1}}if(et.delay=a.frames[R].delay/10,se){for(var Te=1;Te<ge.length;)Te<<=1;ge.length=Te,et.palette=new Uint32Array(ge)}0<R&&ae.addFrame(0,0,E.width,E.height,fe.pixelPaletteIndex,fe.frameOpts),fe={pixelPaletteIndex:De,frameOpts:et}}(Se);fe.frameOpts.disposal=1,ae.addFrame(0,0,E.width,E.height,fe.pixelPaletteIndex,fe.frameOpts),l=new Blob([d.slice(0,ae.end())],{type:"image/gif"}),y.default.prototype.downloadFile(l,w,"gif")},y.default.prototype.saveFrames=function(E,w,a,u,d){y.default._validateParameters("saveFrames",arguments),a=y.default.prototype.constrain(a=a||3,0,15),a*=1e3,u=y.default.prototype.constrain(u||15,0,22);var c=0,s=y.default.prototype._makeFrame,m=this._curElement.elt,p=[],b=setInterval(function(){p.push(s(E+c,w,m)),c++},1e3/u);setTimeout(function(){if(clearInterval(b),d)d(p);else for(var T=0,F=p;T<F.length;T++){var k=F[T];y.default.prototype.downloadFile(k.imageData,k.filename,k.ext)}p=[]},.01+a)},y.default.prototype._makeFrame=function(E,w,d){var l;if(d=this?this._curElement.elt:d,w)switch(w.toLowerCase()){case"png":default:l="image/png";break;case"jpeg":case"jpg":l="image/jpeg"}else w="png",l="image/png";d=(d=d.toDataURL(l)).replace(l,"image/octet-stream");var u={};return u.imageData=d,u.filename=E,u.ext=w,u},C.default=r=y.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243,omggif:253}],303:[function(r,H,C){"use strict";function y(m){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}function _(m){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(p){return y(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":y(p)})(m)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.copy-within"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint8-clamped-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.copy-within"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint8-clamped-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,r("regenerator-runtime/runtime");var h=d(r("../core/main")),f=d(r("../core/helpers")),E=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==_(m)&&"function"!=typeof m)return{default:m};var p=l();if(p&&p.has(m))return p.get(m);var b,T={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in m){var k;Object.prototype.hasOwnProperty.call(m,b)&&((k=F?Object.getOwnPropertyDescriptor(m,b):null)&&(k.get||k.set)?Object.defineProperty(T,b,k):T[b]=m[b])}return T.default=m,p&&p.set(m,T),T}(r("../core/constants")),w=d(r("omggif")),a=r("gifenc");function l(){var m;return"function"!=typeof WeakMap?null:(l=function(){return m},m=new WeakMap)}function d(m){return m&&m.__esModule?m:{default:m}}function u(m,p,b,T,F,k,A){try{var P=m[k](A),$=P.value}catch(j){return void b(j)}P.done?p($):Promise.resolve($).then(T,F)}function s(m,p){return 0<m&&m<p?m:p}r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),h.default.prototype.loadImage=function(m,p,b){h.default._validateParameters("loadImage",arguments);var T=new h.default.Image(1,1,this),F=this,k=new Request(m,{method:"GET",mode:"cors"});return fetch(m,k).then(function(A){var P,$=A.headers.get("content-type");null===$&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),$&&$.includes("image/gif")?A.arrayBuffer().then(function(j){if(j){j=new Uint8Array(j);for(var N=T,I=p,B=b,z=function(se){F._decrementPreload()}.bind(F),W=new w.default.GifReader(j),ne=(N.width=N.canvas.width=W.width,N.height=N.canvas.height=W.height,[]),J=W.numFrames(),q=new Uint8ClampedArray(N.width*N.height*4),ae=0;ae<J;ae++){var fe=W.frameInfo(ae),Se=N.drawingContext.getImageData(0,0,N.width,N.height),K=(q=Se.data.slice(),function(se,ge){try{ge.decodeAndBlitFrameRGBA(se,q)}catch(De){h.default._friendlyFileLoadError(8,N.src),"function"==typeof B?B(De):console.error(De)}}(ae,W),new ImageData(q,N.width,N.height));0===(N.drawingContext.putImageData(K,0,0),K=fe.delay)&&(K=10),ne.push({image:N.drawingContext.getImageData(0,0,N.width,N.height),delay:10*K}),2===fe.disposal?N.drawingContext.clearRect(fe.x,fe.y,fe.width,fe.height):3===fe.disposal&&N.drawingContext.putImageData(Se,0,0,fe.x,fe.y,fe.width,fe.height)}null===(j=W.loopCount())?j=1:0===j&&(j=null),N.drawingContext.putImageData(ne[0].image,0,0),1<ne.length&&(N.gifProperties={displayIndex:0,loopLimit:j,loopCount:0,frames:ne,numFrames:J,playing:!0,timeDisplayed:0,lastChangeTime:0}),"function"==typeof I&&I(N),z()}},function(j){"function"==typeof b?(b(j),F._decrementPreload()):console.error(j)}):((P=new Image).onload=function(){T.width=T.canvas.width=P.width,T.height=T.canvas.height=P.height,T.drawingContext.drawImage(P,0,0),T.modified=!0,"function"==typeof p&&p(T),F._decrementPreload()},P.onerror=function(j){h.default._friendlyFileLoadError(0,P.src),"function"==typeof b?(b(j),F._decrementPreload()):console.error(j)},0!==m.indexOf("data:image/")&&(P.crossOrigin="Anonymous"),P.src=m),T.modified=!0}).catch(function(A){h.default._friendlyFileLoadError(0,m),"function"==typeof b?(b(A),F._decrementPreload()):console.error(A)}),T},h.default.prototype.saveGif=function(){m=v.mark(function b(T,F){var k,A,P,$,j,N,I,B,z,W,ne,J,q,ae,fe,Se,K,R,se,ge,De,Le,Ze,et,Oe,$e,Ve=arguments;return v.wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:if(k=2<Ve.length&&void 0!==Ve[2]?Ve[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},"string"!=typeof T)throw TypeError("fileName parameter must be a string");Te.next=3;break;case 3:if("number"!=typeof F)throw TypeError("Duration parameter must be a number");Te.next=5;break;case 5:if(P=k&&k.units||"seconds",$=k&&k.silent||!1,j=k&&k.notificationDuration||0,N=k&&k.notificationID||"progressBar","number"!=typeof(A=k&&k.delay||0))throw TypeError("Delay parameter must be a number");Te.next=12;break;case 12:if("seconds"!==P&&"frames"!==P)throw TypeError('Units parameter must be either "frames" or "seconds"');Te.next=14;break;case 14:if("boolean"!=typeof $)throw TypeError("Silent parameter must be a boolean");Te.next=16;break;case 16:if("number"!=typeof j)throw TypeError("Notification duration parameter must be a number");Te.next=18;break;case 18:if("string"!=typeof N)throw TypeError("Notification ID parameter must be a string");Te.next=20;break;case 20:return this._recording=!0,I=(I=1/(W=(W=this._targetFrameRate)!==1/0&&void 0!==W&&0!==W?W:60)*1e3)<20?20:I,z=(B="seconds"===P?F*W:F)+(W="seconds"===P?A*W:A),this.frameCount=W,ne=this._pixelDensity,this.pixelDensity(1),J=[],null!==document.getElementById(N)&&document.getElementById(N).remove(),$||((q=this.createP("")).id(N),q.style("font-size","16px"),q.style("font-family","Montserrat"),q.style("background-color","#ffffffa0"),q.style("padding","8px"),q.style("border-radius","10px"),q.position(0,0)),this._renderer instanceof h.default.RendererGL&&(fe=this.drawingContext,ae=new Uint8Array(fe.drawingBufferWidth*fe.drawingBufferHeight*4)),this.noLoop(),Te.next=39,Promise.resolve();case 39:if(W<z)return this.redraw(),et=void 0,et=this._renderer instanceof h.default.RendererGL?(ae=new Uint8Array(fe.drawingBufferWidth*fe.drawingBufferHeight*4),fe.readPixels(0,0,fe.drawingBufferWidth,fe.drawingBufferHeight,fe.RGBA,fe.UNSIGNED_BYTE,ae),function(Je,Ye,bt){for(var gt=parseInt(bt/2),vt=4*Ye,kt=new Uint8Array(4*Ye),Ht=0;Ht<gt;++Ht){var Ft=Ht*vt,an=(bt-Ht-1)*vt;kt.set(Je.subarray(Ft,Ft+vt)),Je.copyWithin(Ft,an,an+vt),Je.set(kt,an)}return Je}(ae,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,J.push(et),W++,$||q.html("Saved frame <b>"+J.length.toString()+"</b> out of "+B.toString()),Te.next=48,new Promise(function(Je){return setTimeout(Je,0)});Te.next=50;break;case 48:Te.next=39;break;case 50:$||q.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(ne),Se=(0,a.GIFEncoder)(),K=function(Je){for(var Ye=new Uint8Array(Je.length*Je[0].length),bt=0;bt<Je.length;bt++)Ye.set(Je[bt],bt*Je[0].length);var gt=(0,a.quantize)(Ye,256,{format:"rgba4444",oneBitAlpha:!0});return 256===gt.length?gt[gt.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:gt.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),gt}(J),R={},se=function(Je){for(var Ye=Je.length/4,bt=new Uint8Array(Ye),gt=0;gt<Ye;gt++){var vt=Je[4*gt]<<24|Je[4*gt+1]<<16|Je[4*gt+2]<<8|Je[4*gt+3];void 0===R[vt]&&(R[vt]=(0,a.nearestColorIndex)(K,Je.slice(4*gt,4*(gt+1)))),bt[gt]=R[vt]}return bt},ge=K.length-1,De=[],Le=0;case 60:if(!(Le<J.length)){Te.next=71;break}if(Ze=se(J[Le]),et=Ze.slice(),0===Le)Se.writeFrame(Ze,this.width,this.height,{palette:K,delay:I,dispose:1});else{for(Oe=0;Oe<Ze.length;Oe++)Ze[Oe]===De[Oe]&&(Ze[Oe]=ge);Se.writeFrame(Ze,this.width,this.height,{delay:I,transparent:!0,transparentIndex:ge,dispose:1})}return De=et,$||q.html("Rendered frame <b>"+Le.toString()+"</b> out of "+B.toString()),Te.next=68,new Promise(function(Je){return setTimeout(Je,0)});case 68:Le++,Te.next=60;break;case 71:Se.finish(),$e=Se.bytesView(),$e=new Blob([$e],{type:"image/gif"}),J=[],this._recording=!1,this.loop(),$||(q.html("Done. Downloading your gif!\u{1f338}"),0<j&&setTimeout(function(){return q.remove()},1e3*j)),h.default.prototype.downloadFile($e,T,"gif");case 80:case"end":return Te.stop()}},b,this)});var m,p=function(){var b=this,T=arguments;return new Promise(function(F,k){var A=m.apply(b,T);function P(j){u(A,F,k,P,$,"next",j)}function $(j){u(A,F,k,P,$,"throw",j)}P(void 0)})};return function(b,T){return p.apply(this,arguments)}}(),h.default.prototype.image=function(m,p,b,T,W,ne,J,q,fe,j,N,I){h.default._validateParameters("image",arguments);var ae=m.width,B=m.height,z=(I=I||E.CENTER,N=N||E.CENTER,m.elt&&(ae=void 0!==ae?ae:m.elt.width,B=void 0!==B?B:m.elt.height),m.elt&&m.elt.videoWidth&&!m.canvas&&(ae=void 0!==ae?ae:m.elt.videoWidth,B=void 0!==B?B:m.elt.videoHeight),T||ae);W=W||B,ne=ne||0,J=J||0,q=s(void 0!==q?q:ae,ae),ae=s(void 0!==fe?fe:B,B),fe=1,m.elt&&!m.canvas&&m.elt.style.width&&(fe=m.elt.videoWidth&&!T?m.elt.videoWidth:m.elt.width,fe/=parseInt(m.elt.style.width,10)),ne*=fe,J*=fe,ae*=fe,q*=fe,B=function c(m,p,b,T,F,k,A,P,$,j,N){var I,B,z,W,ne,J,q,ae,fe;return m===E.COVER&&(I=p,z=b,q=k,ae=A,J=P,fe=$,B=j,W=N,q/=ne=Math.max(q/B,ae/W),ae/=ne,ne=J,J=fe,I===E.CENTER?ne+=(B-q)/2:I===E.RIGHT&&(ne+=B-q),z===E.CENTER?J+=(W-ae)/2:z===E.BOTTOM&&(J+=W-ae),P=(fe={x:ne,y:J,w:q,h:ae}).x,$=fe.y,j=fe.w,N=fe.h),m===E.CONTAIN&&(I=p,B=b,z=T,W=F,ne=k,J=A,q=j,ae=N,q/=fe=Math.max(q/ne,ae/J),ae/=fe,fe=z,z=W,I===E.CENTER?fe+=(ne-q)/2:I===E.RIGHT&&(fe+=ne-q),B===E.CENTER?z+=(J-ae)/2:B===E.BOTTOM&&(z+=J-ae),T=(m={x:fe,y:z,w:q,h:ae}).x,F=m.y,k=m.w,A=m.h),{sx:P,sy:$,sw:j,sh:N,dx:T,dy:F,dw:k,dh:A}}(j,N,I,(B=f.default.modeAdjust(p,b,z,W,this._renderer._imageMode)).x,B.y,B.w,B.h,ne,J,q,ae),this._renderer.image(m,B.sx,B.sy,B.sw,B.sh,B.dx,B.dy,B.dw,B.dh)},h.default.prototype.tint=function(){for(var m=arguments.length,p=new Array(m),b=0;b<m;b++)p[b]=arguments[b];h.default._validateParameters("tint",p);var T=this.color.apply(this,p);this._renderer._tint=T.levels},h.default.prototype.noTint=function(){this._renderer._tint=null},h.default.prototype._getTintedImageCanvas=h.default.Renderer2D.prototype._getTintedImageCanvas,h.default.prototype.imageMode=function(m){h.default._validateParameters("imageMode",arguments),m!==E.CORNER&&m!==E.CORNERS&&m!==E.CENTER||(this._renderer._imageMode=m)},C.default=r=h.default},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/helpers":276,"../core/main":280,"core-js/modules/es.array.copy-within":153,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.typed-array.uint8-clamped-array":240,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,gifenc:250,omggif:253,"regenerator-runtime/runtime":257}],304:[function(r,H,C){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=h(r("../core/main")),_=h(r("./filters"));function h(E){return E&&E.__esModule?E:{default:E}}function f(E,w){for(var a=0;a<w.length;a++){var l=w[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(E,l.key,l)}}y.default.Image=function(){function E(d,u){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");this.width=d,this.height=u,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var w,a;return w=E,(a=[{key:"pixelDensity",value:function(d){return void 0!==d?(d<=0&&(y.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),d=1),this._pixelDensity=d,this.width/=d,this.height/=d,this):this._pixelDensity}},{key:"_animateGif",value:function(s){var u,c=this.gifProperties;s=s._lastRealFrameTime,0===c.lastChangeTime&&(c.lastChangeTime=s),c.playing&&(c.timeDisplayed=s-c.lastChangeTime,c.timeDisplayed>=(u=c.frames[c.displayIndex].delay)&&(u=Math.floor(c.timeDisplayed/u),c.timeDisplayed=0,c.lastChangeTime=s,c.displayIndex+=u,c.loopCount=Math.floor(c.displayIndex/c.numFrames),null!==c.loopLimit&&c.loopCount>=c.loopLimit?c.playing=!1:(this.drawingContext.putImageData(c.frames[s=c.displayIndex%c.numFrames].image,0,0),c.displayIndex=s,this.setModified(!0))))}},{key:"_setProperty",value:function(d,u){this[d]=u,this.setModified(!0)}},{key:"loadPixels",value:function(){y.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(d,u,c,s){y.default.Renderer2D.prototype.updatePixels.call(this,d,u,c,s),this.setModified(!0)}},{key:"get",value:function(d,u,c,s){return y.default._validateParameters("p5.Image.get",arguments),y.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];return y.default.Renderer2D.prototype._getPixel.apply(this,u)}},{key:"set",value:function(d,u,c){y.default.Renderer2D.prototype.set.call(this,d,u,c),this.setModified(!0)}},{key:"resize",value:function(d,u){0===d&&0===u?(d=this.canvas.width,u=this.canvas.height):0===d?d=this.canvas.width*u/this.canvas.height:0===u&&(u=this.canvas.height*d/this.canvas.width),d=Math.floor(d),u=Math.floor(u);var c=document.createElement("canvas");if(c.width=d,c.height=u,this.gifProperties)for(var s=this.gifProperties,m=0;m<s.numFrames;m++){for(var p=this.drawingContext.createImageData(d,u),b=(P=P=A=k=F=void 0,s.frames[m].image),T=p,F=0,k=0;k<T.height;k++)for(var A=0;A<T.width;A++){var P=Math.floor(A*b.width/T.width);P=4*(Math.floor(k*b.height/T.height)*b.width+P),T.data[F++]=b.data[P++],T.data[F++]=b.data[P++],T.data[F++]=b.data[P++],T.data[F++]=b.data[+P]}s.frames[m].image=p}c.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,c.width,c.height),this.canvas.width=this.width=d,this.canvas.height=this.height=u,this.drawingContext.drawImage(c,0,0,d,u,0,0,d,u),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];y.default.prototype.copy.apply(this,u)}},{key:"mask",value:function(d){var u=this.drawingContext.globalCompositeOperation,c=1,s=[d=void 0===d?this:d,0,0,(c=d instanceof y.default.Renderer?d._pInst._pixelDensity:c)*d.width,c*d.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var m=0;m<this.gifProperties.frames.length;m++)this.drawingContext.putImageData(this.gifProperties.frames[m].image,0,0),this.copy.apply(this,s),this.gifProperties.frames[m].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,s);this.drawingContext.globalCompositeOperation=u,this.setModified(!0)}},{key:"filter",value:function(d,u){_.default.apply(this.canvas,_.default[d],u),this.setModified(!0)}},{key:"blend",value:function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];y.default._validateParameters("p5.Image.blend",arguments),y.default.prototype.blend.apply(this,u),this.setModified(!0)}},{key:"setModified",value:function(d){this._modified=d}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(d,u){this.gifProperties?y.default.prototype.encodeAndDownloadGif(this,d):y.default.prototype.saveCanvas(this.canvas,d,u)}},{key:"reset",value:function(){var d;this.gifProperties&&((d=this.gifProperties).playing=!0,d.timeSinceStart=0,d.timeDisplayed=0,d.lastChangeTime=0,d.loopCount=0,d.displayIndex=0,this.drawingContext.putImageData(d.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var d;if(this.gifProperties)return(d=this.gifProperties).displayIndex%d.numFrames}},{key:"setFrame",value:function(d){var u;this.gifProperties&&(d<(u=this.gifProperties).numFrames&&0<=d?(u.timeDisplayed=0,u.lastChangeTime=0,u.displayIndex=d,this.drawingContext.putImageData(u.frames[d].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(d,u){if(this.gifProperties){var c=this.gifProperties;if(u<c.numFrames&&0<=u)c.frames[u].delay=d;else{var s=!0,m=void(u=!1);try{for(var p,b=c.frames[Symbol.iterator]();!(s=(p=b.next()).done);s=!0)p.value.delay=d}catch(F){u=!0,m=F}finally{try{s||null==b.return||b.return()}finally{if(u)throw m}}}}}}])&&f(w.prototype,a),E}(),C.default=r=y.default.Image},{"../core/main":280,"./filters":301,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],305:[function(r,H,C){"use strict";r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.filter"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=h(r("../core/main")),_=h(r("./filters"));function h(f){return f&&f.__esModule?f:{default:f}}r("../color/p5.Color"),y.default.prototype.pixels=[],y.default.prototype.blend=function(){for(var f,E=arguments.length,w=new Array(E),a=0;a<E;a++)w[a]=arguments[a];y.default._validateParameters("blend",w),this._renderer?(f=this._renderer).blend.apply(f,w):y.default.Renderer2D.prototype.blend.apply(this,w)},y.default.prototype.copy=function(){for(var f,E,w,a,l,d,u,c,s,m=arguments.length,p=new Array(m),b=0;b<m;b++)p[b]=arguments[b];if(y.default._validateParameters("copy",p),9===p.length)f=p[0],E=p[1],w=p[2],a=p[3],l=p[4],d=p[5],u=p[6],c=p[7],s=p[8];else{if(8!==p.length)throw new Error("Signature not supported");f=this,E=p[0],w=p[1],a=p[2],l=p[3],d=p[4],u=p[5],c=p[6],s=p[7]}y.default.prototype._copyHelper(this,f,E,w,a,l,d,u,c,s)},y.default.prototype._copyHelper=function(f,E,w,a,l,d,u,c,s,m){var p=E.canvas.width/E.width,b=0,T=0;E._renderer&&E._renderer.isP3D&&(b=E.width/2,T=E.height/2),f._renderer&&f._renderer.isP3D?(f.push(),f.resetMatrix(),f.noLights(),f.blendMode(f.BLEND),f.imageMode(f.CORNER),y.default.RendererGL.prototype.image.call(f._renderer,E,w+b,a+T,l,d,u,c,s,m),f.pop()):f.drawingContext.drawImage(E.canvas,p*(w+b),p*(a+T),p*l,p*d,u,c,s,m)},y.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},y.default.prototype.filter=function(){for(var f=arguments.length,E=new Array(f),w=0;w<f;w++)E[w]=arguments[w];y.default._validateParameters("filter",E);var u=function(){var c,s={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof y.default.Shader?s.shader=arguments.length<=0?void 0:arguments[0]:(s.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&"number"==typeof(arguments.length<=1?void 0:arguments[1])&&(s.value=arguments.length<=1?void 0:arguments[1]),!1===((c=arguments.length-1)<0||arguments.length<=c?void 0:arguments[c])&&(s.useWebGL=!1)),s}.apply(void 0,E),a=u.shader,l=u.operation,d=u.value;u=u.useWebGL,this._renderer.isP3D&&a?y.default.RendererGL.prototype.filter.call(this._renderer,a):u||this._renderer.isP3D?(!u&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?y.default.RendererGL.prototype.filter.call(this._renderer,l,d):((a=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),a.filter.apply(a,E),this.copy(a._renderer,0,0,this.width,this.height,0,0,this.width,this.height),a.clear())):_.default.apply(void 0!==this.canvas?this.canvas:this.elt,_.default[l],d)},y.default.prototype.get=function(f,E,w,a){var l;return y.default._validateParameters("get",arguments),(l=this._renderer).get.apply(l,arguments)},y.default.prototype.loadPixels=function(){for(var f=arguments.length,E=new Array(f),w=0;w<f;w++)E[w]=arguments[w];y.default._validateParameters("loadPixels",E),this._renderer.loadPixels()},y.default.prototype.set=function(f,E,w){this._renderer.set(f,E,w)},y.default.prototype.updatePixels=function(f,E,w,a){y.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(f,E,w,a)},C.default=r=y.default},{"../color/p5.Color":267,"../core/main":280,"./filters":301,"core-js/modules/es.array.filter":156}],306:[function(r,H,C){"use strict";function y(d){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.from-entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/web.url"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.from-entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/web.url"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var _=E(r("../core/main")),h=(r("whatwg-fetch"),r("es6-promise/auto"),E(r("fetch-jsonp"))),f=E(r("file-saver"));function E(d){return d&&d.__esModule?d:{default:d}}function w(d){return(w="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(u){return y(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(d)}function a(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function l(d,u){u&&!0!==u&&"true"!==u||(u="");var c="";return(d=d||"untitled")&&d.includes(".")&&(c=d.split(".").pop()),u&&c!==u&&(c=u,d="".concat(d,".").concat(c)),[d,c]}r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),_.default.prototype.loadJSON=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];_.default._validateParameters("loadJSON",u);for(var s,m,p,b=u[0],T={},F="json",k=1;k<u.length;k++){var A=u[k];"string"==typeof A?"jsonp"!==A&&"json"!==A||(F=A):"function"==typeof A?s?m=A:s=A:"object"===w(A)&&(A.hasOwnProperty("jsonpCallback")||A.hasOwnProperty("jsonpCallbackFunction"))&&(F="jsonp",p=A)}var P=this;return this.httpDo(b,"GET",p,F,function($){for(var j in $)T[j]=$[j];void 0!==s&&s($),P._decrementPreload()},function($){if(_.default._friendlyFileLoadError(5,b),!m)throw $;m($)}),T},_.default.prototype.loadStrings=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];_.default._validateParameters("loadStrings",u);for(var s,m,p=[],b=1;b<u.length;b++){var T=u[b];"function"==typeof T&&(void 0===s?s=T:void 0===m&&(m=T))}var F=this;return _.default.prototype.httpDo.call(this,u[0],"GET","text",function(k){for(var A=k.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),P=0,$=A.length;P<$;P+=32768)Array.prototype.push.apply(p,A.slice(P,Math.min(P+32768,$)));void 0!==s&&s(p),F._decrementPreload()},function(k){if(_.default._friendlyFileLoadError(3,k),!m)throw k;m(k)}),p},_.default.prototype.loadTable=function(d){var u,c,s,m=[],p=!1,b=d.substring(d.lastIndexOf(".")+1,d.length);"csv"===b?s=",":"ssv"===b?s=";":"tsv"===b&&(s="\t");for(var T=1;T<arguments.length;T++)"function"==typeof arguments[T]?void 0===u?u=arguments[T]:void 0===c&&(c=arguments[T]):"string"==typeof arguments[T]&&(m.push(arguments[T]),"header"===arguments[T]&&(p=!0),"csv"===arguments[T]?s=",":"ssv"===arguments[T]?s=";":"tsv"===arguments[T]&&(s="\t"));var F=new _.default.Table,k=this;return this.httpDo(d,"GET","table",function(A){for(var P,$,j={},I=[],B=0,z=null,W=function(){j.currentState=0,j.token=""},ne=function(){z.push(j.token),W()},J=function(){j.currentState=4,I.push(z),z=null};;){if(null==(P=A[B++])){if(j.escaped)throw new Error("Unclosed quote in file.");if(z){ne(),J();break}}if(null===z&&(j.escaped=!1,z=[],W()),0===j.currentState){if('"'===P){j.escaped=!0,j.currentState=1;continue}j.currentState=1}if(1===j.currentState&&j.escaped)if('"'===P)'"'===A[B]?(j.token+='"',B++):(j.escaped=!1,j.currentState=2);else{if("\r"===P)continue;j.token+=P}else"\r"===P?("\n"===A[B]&&B++,ne(),J()):"\n"===P?(ne(),J()):P===s?ne():1===j.currentState&&(j.token+=P)}if(p)F.columns=I.shift();else for(var q=0;q<I[0].length;q++)F.columns[q]="null";for(var ae=0;ae<I.length;ae++)(1!==I[ae].length||"undefined"!==I[ae][0]&&""!==I[ae][0])&&(($=new _.default.TableRow).arr=I[ae],$.obj=function(fe,Se){if(void 0===(Se=Se||[]))for(var K=0;K<fe.length;K++)Se[K.toString()]=K;return Object.fromEntries(Se.map(function(R,se){return[R,fe[se]]}))}(I[ae],F.columns),F.addRow($));"function"==typeof u&&u(F),k._decrementPreload()},function(A){_.default._friendlyFileLoadError(2,d),c?c(A):console.error(A)}),F},_.default.prototype.loadXML=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];for(var s,m,p=new _.default.XML,b=1;b<u.length;b++){var T=u[b];"function"==typeof T&&(void 0===s?s=T:void 0===m&&(m=T))}var F=this;return this.httpDo(u[0],"GET","xml",function(k){for(var A in k)p[A]=k[A];void 0!==s&&s(p),F._decrementPreload()},function(k){if(_.default._friendlyFileLoadError(1,k),!m)throw k;m(k)}),p},_.default.prototype.loadBytes=function(d,u,c){var s={},m=this;return this.httpDo(d,"GET","arrayBuffer",function(p){s.bytes=new Uint8Array(p),"function"==typeof u&&u(s),m._decrementPreload()},function(p){if(_.default._friendlyFileLoadError(6,d),!c)throw p;c(p)}),s},_.default.prototype.httpGet=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];return _.default._validateParameters("httpGet",u),u.splice(1,0,"GET"),_.default.prototype.httpDo.apply(this,u)},_.default.prototype.httpPost=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];return _.default._validateParameters("httpPost",u),u.splice(1,0,"POST"),_.default.prototype.httpDo.apply(this,u)},_.default.prototype.httpDo=function(){for(var d,u,c,s={},m=0,p="text/plain",b=arguments.length-1;0<b&&"function"==typeof(b<0||arguments.length<=b?void 0:arguments[b]);b--)m++;var F=arguments.length<=0?void 0:arguments[0];if(2==(T=arguments.length-m)&&"string"==typeof F&&"object"===w(arguments.length<=1?void 0:arguments[1]))N=new Request(F,arguments.length<=1?void 0:arguments[1]),u=arguments.length<=2?void 0:arguments[2],c=arguments.length<=3?void 0:arguments[3];else{for(var k,A="GET",P=1;P<arguments.length;P++){var $=P<0||arguments.length<=P?void 0:arguments[P];if("string"==typeof $)"GET"===$||"POST"===$||"PUT"===$||"DELETE"===$?A=$:"json"===$||"jsonp"===$||"binary"===$||"arrayBuffer"===$||"xml"===$||"text"===$||"table"===$?d=$:k=$;else if("number"==typeof $)k=$.toString();else if("object"===w($))if($.hasOwnProperty("jsonpCallback")||$.hasOwnProperty("jsonpCallbackFunction"))for(var j in $)s[j]=$[j];else p=$ instanceof _.default.XML?(k=$.serialize(),"application/xml"):(k=JSON.stringify($),"application/json");else"function"==typeof $&&(u?c=$:u=$)}var T="GET"===A?new Headers:new Headers({"Content-Type":p}),N=new Request(F,{method:A,mode:"cors",body:k,headers:T})}return(T=(T="jsonp"===(d=d||(F.includes("json")?"json":F.includes("xml")?"xml":"text"))?(0,h.default)(F,s):fetch(N)).then(function(I){if(!I.ok)throw(B=new Error(I.body)).status=I.status,B.ok=!1,B;var B=0;switch((B="jsonp"!==d?I.headers.get("content-length"):B)&&64e6<B&&_.default._friendlyFileLoadError(7,F),d){case"json":case"jsonp":return I.json();case"binary":return I.blob();case"arrayBuffer":return I.arrayBuffer();case"xml":return I.text().then(function(z){return z=(new DOMParser).parseFromString(z,"text/xml"),new _.default.XML(z.documentElement)});default:return I.text()}})).then(u||function(){}),T.catch(c||console.error),T},window.URL=window.URL||window.webkitURL,_.default.prototype._pWriters=[],_.default.prototype.createWriter=function(d,u){var c,s;for(s in _.default.prototype._pWriters)if(_.default.prototype._pWriters[s].name===d)return c=new _.default.PrintWriter(d+this.millis(),u),_.default.prototype._pWriters.push(c),c;return c=new _.default.PrintWriter(d,u),_.default.prototype._pWriters.push(c),c},_.default.PrintWriter=function(d,u){var c=this;this.name=d,this.content="",this.write=function(s){this.content+=s},this.print=function(s){this.content+="".concat(s,"\n")},this.clear=function(){this.content=""},this.close=function(){var s,m=[];for(s in m.push(this.content),_.default.prototype.writeFile(m,d,u),_.default.prototype._pWriters)_.default.prototype._pWriters[s].name===this.name&&_.default.prototype._pWriters.splice(s,1);c.clear(),c={}}},_.default.prototype.save=function(d,u,c){var s=arguments,m=(this._curElement||this).elt;if(0===s.length)_.default.prototype.saveCanvas(m);else if(s[0]instanceof _.default.Renderer||s[0]instanceof _.default.Graphics)_.default.prototype.saveCanvas(s[0].elt,s[1],s[2]);else if(1===s.length&&"string"==typeof s[0])_.default.prototype.saveCanvas(m,s[0]);else switch(l(s[1],s[2])[1]){case"json":return void _.default.prototype.saveJSON(s[0],s[1],s[2]);case"txt":return void _.default.prototype.saveStrings(s[0],s[1],s[2]);default:s[0]instanceof Array?_.default.prototype.saveStrings(s[0],s[1],s[2]):s[0]instanceof _.default.Table?_.default.prototype.saveTable(s[0],s[1],s[2]):s[0]instanceof _.default.Image?_.default.prototype.saveCanvas(s[0].canvas,s[1]):s[0]instanceof _.default.SoundFile&&_.default.prototype.saveSound(s[0],s[1],s[2],s[3])}},_.default.prototype.saveJSON=function(d,u,c){_.default._validateParameters("saveJSON",arguments),c=c?JSON.stringify(d):JSON.stringify(d,void 0,2),this.saveStrings(c.split("\n"),u,"json")},_.default.prototype.saveJSONObject=_.default.prototype.saveJSON,_.default.prototype.saveJSONArray=_.default.prototype.saveJSON,_.default.prototype.saveStrings=function(d,u,c,s){_.default._validateParameters("saveStrings",arguments);for(var m=this.createWriter(u,c||"txt"),p=0;p<d.length;p++)m.write(s?d[p]+"\r\n":d[p]+"\n");m.close(),m.clear()},_.default.prototype.saveTable=function(d,u,c){_.default._validateParameters("saveTable",arguments),s=void 0===c?u.substring(u.lastIndexOf(".")+1,u.length):c;var s,m=this.createWriter(u,s),p=d.columns,b="tsv"===s?"\t":",";if("html"!==s){if("0"!==p[0]){for(var T=0;T<p.length;T++)m.write(T<p.length-1?p[T]+b:p[T]);m.write("\n")}for(var F=0;F<d.rows.length;F++){var k=void 0;for(k=0;k<d.rows[F].arr.length;k++)k<d.rows[F].arr.length-1?"csv"===s&&String(d.rows[F].arr[k]).includes(",")?m.write('"'+d.rows[F].arr[k]+'"'+b):m.write(d.rows[F].arr[k]+b):"csv"===s&&String(d.rows[F].arr[k]).includes(",")?m.write('"'+d.rows[F].arr[k]+'"'):m.write(d.rows[F].arr[k]);m.write("\n")}}else{if(m.print("<html>"),m.print("<head>"),m.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),m.print("</head>"),m.print("<body>"),m.print("  <table>"),"0"!==p[0]){m.print("    <tr>");for(var A=0;A<p.length;A++){var P=a(p[A]);m.print("      <td>".concat(P)),m.print("      </td>")}m.print("    </tr>")}for(var $=0;$<d.rows.length;$++){m.print("    <tr>");for(var j=0;j<d.columns.length;j++){var N=a(d.rows[$].getString(j));m.print("      <td>".concat(N)),m.print("      </td>")}m.print("    </tr>")}m.print("  </table>"),m.print("</body>"),m.print("</html>")}m.close(),m.clear()},_.default.prototype.writeFile=function(m,u,c){var s="application/octet-stream";_.default.prototype._isSafari()&&(s="text/plain"),m=new Blob(m,{type:s}),_.default.prototype.downloadFile(m,u,c)},_.default.prototype.downloadFile=function(d,m,p){var s;p=(m=l(m,p))[0],d instanceof Blob?f.default.saveAs(d,p):((s=document.createElement("a")).href=d,s.download=p,s.onclick=function(b){document.body.removeChild(b.target),b.stopPropagation()},s.style.display="none",document.body.appendChild(s),_.default.prototype._isSafari()&&(d=(d='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+'3. Name it with this extension: ."'.concat(m[1],'"'),alert(d)),s.click())},_.default.prototype._checkFileExtension=l,_.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},C.default=r=_.default},{"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.object.from-entries":182,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.iterator":243,"core-js/modules/web.url":245,"es6-promise/auto":246,"fetch-jsonp":248,"file-saver":249,"whatwg-fetch":258}],307:[function(r,H,C){"use strict";r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(r=r("../core/main"))&&r.__esModule?r:{default:r};function _(h,f){for(var E=0;E<f.length;E++){var w=f[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}y.default.Table=function(){function h(a){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}var f,E;return f=h,(E=[{key:"addRow",value:function(a){if(void 0===(a=a||new y.default.TableRow).arr||void 0===a.obj)throw new Error("invalid TableRow: ".concat(a));return(a.table=this).rows.push(a),a}},{key:"removeRow",value:function(a){this.rows[a].table=null,a=this.rows.splice(a+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(a)}},{key:"getRow",value:function(a){return this.rows[a]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(a,l){if("string"==typeof l){for(var d=0;d<this.rows.length;d++)if(this.rows[d].obj[l]===a)return this.rows[d]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].arr[l]===a)return this.rows[u];return null}},{key:"findRows",value:function(a,l){var d=[];if("string"==typeof l)for(var u=0;u<this.rows.length;u++)this.rows[u].obj[l]===a&&d.push(this.rows[u]);else for(var c=0;c<this.rows.length;c++)this.rows[c].arr[l]===a&&d.push(this.rows[c]);return d}},{key:"matchRow",value:function(a,l){if("number"==typeof l){for(var d=0;d<this.rows.length;d++)if(this.rows[d].arr[l].match(a))return this.rows[d]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].obj[l].match(a))return this.rows[u];return null}},{key:"matchRows",value:function(a,l){var d=[];if("number"==typeof l)for(var u=0;u<this.rows.length;u++)this.rows[u].arr[l].match(a)&&d.push(this.rows[u]);else for(var c=0;c<this.rows.length;c++)this.rows[c].obj[l].match(a)&&d.push(this.rows[c]);return d}},{key:"getColumn",value:function(a){var l=[];if("string"==typeof a)for(var d=0;d<this.rows.length;d++)l.push(this.rows[d].obj[a]);else for(var u=0;u<this.rows.length;u++)l.push(this.rows[u].arr[a]);return l}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(a){this.columns.push(a||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(a,l){for(var d=[],u=0;u<a.length;u++)d.push(a.charAt(u).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var c=new RegExp(d.join("|"),"g");if(void 0===l)for(var s=0;s<this.columns.length;s++)for(var m=0;m<this.rows.length;m++){var p=(p=this.rows[m].arr[s]).replace(c,"");this.rows[m].arr[s]=p,this.rows[m].obj[this.columns[s]]=p}else if("string"==typeof l)for(var b=0;b<this.rows.length;b++){var T=(T=this.rows[b].obj[l]).replace(c,""),F=(this.rows[b].obj[l]=T,this.columns.indexOf(l));this.rows[b].arr[F]=T}else for(var k=0;k<this.rows.length;k++){var A=(A=this.rows[k].arr[l]).replace(c,"");this.rows[k].arr[l]=A,this.rows[k].obj[this.columns[l]]=A}}},{key:"trim",value:function(a){var l=new RegExp(" ","g");if(void 0===a)for(var d=0;d<this.columns.length;d++)for(var u=0;u<this.rows.length;u++){var c=(c=this.rows[u].arr[d]).replace(l,"");this.rows[u].arr[d]=c,this.rows[u].obj[this.columns[d]]=c}else if("string"==typeof a)for(var s=0;s<this.rows.length;s++){var m=(m=this.rows[s].obj[a]).replace(l,""),p=(this.rows[s].obj[a]=m,this.columns.indexOf(a));this.rows[s].arr[p]=m}else for(var b=0;b<this.rows.length;b++){var T=(T=this.rows[b].arr[a]).replace(l,"");this.rows[b].arr[a]=T,this.rows[b].obj[this.columns[a]]=T}}},{key:"removeColumn",value:function(u){var l,d;"string"==typeof u?d=this.columns.indexOf(l=u):l=this.columns[d=u],u=this.columns.splice(d+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(u);for(var c=0;c<this.rows.length;c++){var s=this.rows[c].arr,m=s.splice(d+1,s.length);s.pop(),this.rows[c].arr=s.concat(m),delete this.rows[c].obj[l]}}},{key:"set",value:function(a,l,d){this.rows[a].set(l,d)}},{key:"setNum",value:function(a,l,d){this.rows[a].setNum(l,d)}},{key:"setString",value:function(a,l,d){this.rows[a].setString(l,d)}},{key:"get",value:function(a,l){return this.rows[a].get(l)}},{key:"getNum",value:function(a,l){return this.rows[a].getNum(l)}},{key:"getString",value:function(a,l){return this.rows[a].getString(l)}},{key:"getObject",value:function(a){for(var l,d={},u=0;u<this.rows.length;u++)if(l=this.rows[u].obj,"string"==typeof a){if(!(0<=this.columns.indexOf(a)))throw new Error('This table has no column named "'.concat(a,'"'));d[l[a]]=l}else d[u]=this.rows[u].obj;return d}},{key:"getArray",value:function(){for(var a=[],l=0;l<this.rows.length;l++)a.push(this.rows[l].arr);return a}}])&&_(f.prototype,E),h}(),C.default=r=y.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.join":165,"core-js/modules/es.array.splice":170,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201}],308:[function(r,H,C){"use strict";function y(_,h){for(var f=0;f<h.length;f++){var E=h[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.from-entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.from-entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.TableRow=function(){function _(w,a){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");var l=[];w&&(l=w.split(a=a||",")),this.arr=l,this.obj=Object.fromEntries(l.entries()),this.table=null}var h,f;return h=_,(f=[{key:"set",value:function(w,a){if("string"==typeof w){var l=this.table.columns.indexOf(w);if(!(0<=l))throw new Error('This table has no column named "'.concat(w,'"'));this.obj[w]=a,this.arr[l]=a}else{if(!(w<this.table.columns.length))throw new Error("Column #".concat(w," is out of the range of this table"));this.arr[w]=a,this.obj[l=this.table.columns[w]]=a}}},{key:"setNum",value:function(w,a){a=parseFloat(a),this.set(w,a)}},{key:"setString",value:function(w,a){a=a.toString(),this.set(w,a)}},{key:"get",value:function(w){return("string"==typeof w?this.obj:this.arr)[w]}},{key:"getNum",value:function(w){var a=parseFloat("string"==typeof w?this.obj[w]:this.arr[w]);if("NaN"===a.toString())throw"Error: ".concat(this.obj[w]," is NaN (Not a Number)");return a}},{key:"getString",value:function(w){return("string"==typeof w?this.obj:this.arr)[w].toString()}}])&&y(h.prototype,f),_}(),C.default=r=r.default},{"../core/main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.from-entries":182,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.split":203,"core-js/modules/web.dom-collections.iterator":243}],309:[function(r,H,C){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(r=r("../core/main"))&&r.__esModule?r:{default:r};function _(f,E){for(var w=0;w<E.length;w++){var a=E[w];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(f,a.key,a)}}y.default.XML=function(){function f(l){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");l?this.DOM=l:(l=document.implementation.createDocument(null,"doc"),this.DOM=l.createElement("root"))}var E,w;return E=f,(w=[{key:"getParent",value:function(){return new y.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(l){var d=this.DOM.innerHTML,u=this.DOM.attributes,c=document.implementation.createDocument(null,"default").createElement(l);c.innerHTML=d;for(var s=0;s<u.length;s++)c.setAttribute(u[s].nodeName,u.nodeValue);this.DOM=c}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var l=[],d=0;d<this.DOM.childNodes.length;d++)l.push(this.DOM.childNodes[d].nodeName);return l}},{key:"getChildren",value:function(l){return function h(f){for(var E=[],w=0;w<f.length;w++)E.push(new y.default.XML(f[w]));return E}(l?this.DOM.getElementsByTagName(l):this.DOM.children)}},{key:"getChild",value:function(l){if("string"!=typeof l)return new y.default.XML(this.DOM.children[l]);var d=!0,u=!1,c=void 0;try{for(var s,m=this.DOM.children[Symbol.iterator]();!(d=(s=m.next()).done);d=!0){var p=s.value;if(p.tagName===l)return new y.default.XML(p)}}catch(b){u=!0,c=b}finally{try{d||null==m.return||m.return()}finally{if(u)throw c}}}},{key:"addChild",value:function(l){l instanceof y.default.XML&&this.DOM.appendChild(l.DOM)}},{key:"removeChild",value:function(l){var d=-1;if("string"==typeof l){for(var u=0;u<this.DOM.children.length;u++)if(this.DOM.children[u].tagName===l){d=u;break}}else d=l;-1!==d&&this.DOM.removeChild(this.DOM.children[d])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var l=[],d=!0,u=!1,c=void 0;try{for(var s,m=this.DOM.attributes[Symbol.iterator]();!(d=(s=m.next()).done);d=!0)l.push(s.value.nodeName)}catch(b){u=!0,c=b}finally{try{d||null==m.return||m.return()}finally{if(u)throw c}}return l}},{key:"hasAttribute",value:function(l){var d={},u=!0,c=!1,s=void 0;try{for(var m,p=this.DOM.attributes[Symbol.iterator]();!(u=(m=p.next()).done);u=!0){var b=m.value;d[b.nodeName]=b.nodeValue}}catch(T){c=!0,s=T}finally{try{u||null==p.return||p.return()}finally{if(c)throw s}}return!!d[l]}},{key:"getNum",value:function(l,d){var u={},c=!0,s=!1,m=void 0;try{for(var p,b=this.DOM.attributes[Symbol.iterator]();!(c=(p=b.next()).done);c=!0){var T=p.value;u[T.nodeName]=T.nodeValue}}catch(F){s=!0,m=F}finally{try{c||null==b.return||b.return()}finally{if(s)throw m}}return Number(u[l])||d||0}},{key:"getString",value:function(l,d){var u={},c=!0,s=!1,m=void 0;try{for(var p,b=this.DOM.attributes[Symbol.iterator]();!(c=(p=b.next()).done);c=!0){var T=p.value;u[T.nodeName]=T.nodeValue}}catch(F){s=!0,m=F}finally{try{c||null==b.return||b.return()}finally{if(s)throw m}}return u[l]?String(u[l]):d||null}},{key:"setAttribute",value:function(l,d){this.DOM.setAttribute(l,d)}},{key:"getContent",value:function(l){var d=this.DOM.textContent;return(d=d.replace(/\s\s+/g,","))||l||null}},{key:"setContent",value:function(l){this.DOM.children.length||(this.DOM.textContent=l)}},{key:"serialize",value:function(){return(new XMLSerializer).serializeToString(this.DOM)}}])&&_(E.prototype,w),f}(),C.default=r=y.default},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],310:[function(r,H,C){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.string.includes"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(r=r("../core/main"))&&r.__esModule?r:{default:r};function _(h){return function(f){if(Array.isArray(f)){for(var E=0,w=new Array(f.length);E<f.length;E++)w[E]=f[E];return w}}(h)||function(f){if(Symbol.iterator in Object(f)||"[object Arguments]"===Object.prototype.toString.call(f))return Array.from(f)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}y.default.prototype.abs=Math.abs,y.default.prototype.ceil=Math.ceil,y.default.prototype.constrain=function(h,f,E){return y.default._validateParameters("constrain",arguments),Math.max(Math.min(h,E),f)},y.default.prototype.dist=function(){for(var h=arguments.length,f=new Array(h),E=0;E<h;E++)f[E]=arguments[E];return y.default._validateParameters("dist",f),4===f.length?Math.hypot(f[2]-f[0],f[3]-f[1]):6===f.length?Math.hypot(f[3]-f[0],f[4]-f[1],f[5]-f[2]):void 0},y.default.prototype.exp=Math.exp,y.default.prototype.floor=Math.floor,y.default.prototype.lerp=function(h,f,E){return y.default._validateParameters("lerp",arguments),E*(f-h)+h},y.default.prototype.log=Math.log,y.default.prototype.mag=function(h,f){return y.default._validateParameters("mag",arguments),Math.hypot(h,f)},y.default.prototype.map=function(h,f,E,w,a,l){return y.default._validateParameters("map",arguments),h=(h-f)/(E-f)*(a-w)+w,l?w<a?this.constrain(h,w,a):this.constrain(h,a,w):h},y.default.prototype.max=function(){for(var h=function(a){return Math.max.apply(Math,_(a))},f=arguments.length,E=new Array(f),w=0;w<f;w++)E[w]=arguments[w];return Array.isArray(E[0])?h(E[0]):h(E)},y.default.prototype.min=function(){for(var h=function(a){return Math.min.apply(Math,_(a))},f=arguments.length,E=new Array(f),w=0;w<f;w++)E[w]=arguments[w];return Array.isArray(E[0])?h(E[0]):h(E)},y.default.prototype.norm=function(h,f,E){return y.default._validateParameters("norm",arguments),this.map(h,f,E,0,1)},y.default.prototype.pow=Math.pow,y.default.prototype.round=function(h,f){return f?(f=Math.pow(10,f),Math.round(h*f)/f):Math.round(h)},y.default.prototype.sq=function(h){return h*h},y.default.prototype.sqrt=Math.sqrt,y.default.prototype.fract=function(w){y.default._validateParameters("fract",arguments);var f,E=0;return w=Number(w),isNaN(w)||Math.abs(w)===1/0?w:(w<0&&(w=-w,E=1),String(w).includes(".")&&!String(w).includes("e")?(f=+("0"+(f=String(w)).slice(f.indexOf("."))),Math.abs(E-f)):w<1?Math.abs(E-w):0)},C.default=r=y.default},{"../core/main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],311:[function(r,H,C){"use strict";r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.slice"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(r=r("../core/main"))&&r.__esModule?r:{default:r};function _(f,E,w){return(_=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(a,l,d){var u=[null];return u.push.apply(u,l),l=new(Function.bind.apply(a,u)),d&&h(l,d.prototype),l}).apply(null,arguments)}function h(f,E){return(h=Object.setPrototypeOf||function(w,a){return w.__proto__=a,w})(f,E)}y.default.prototype.createVector=function(f,E,w){return this instanceof y.default?_(y.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new y.default.Vector(f,E,w)},C.default=r=y.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193}],312:[function(w,H,C){"use strict";function y(a){return.5*(1-Math.cos(a*Math.PI))}Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,w=(w=w("../core/main"))&&w.__esModule?w:{default:w};var _,h=4095,f=4,E=.5;w.default.prototype.noise=function(a){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==_){_=new Array(4096);for(var u=0;u<4096;u++)_[u]=Math.random()}a<0&&(a=-a),l<0&&(l=-l),d<0&&(d=-d);for(var c,s,m=Math.floor(a),p=Math.floor(l),b=Math.floor(d),T=a-m,F=l-p,k=d-b,A=0,P=.5,$=0;$<f;$++){var j=m+(p<<4)+(b<<8),N=y(T),I=y(F),B=_[j&h];B+=N*(_[j+1&h]-B),c=_[j+16&h],B+=I*((c+=N*(_[j+16+1&h]-c))-B),c=_[(j+=256)&h],c+=N*(_[j+1&h]-c),s=_[j+16&h],c+=I*((s+=N*(_[j+16+1&h]-s))-c),A+=(B+=y(k)*(c-B))*P,P*=E,m<<=1,p<<=1,b<<=1,1<=(T*=2)&&(m++,T--),1<=(F*=2)&&(p++,F--),1<=(k*=2)&&(b++,k--)}return A},w.default.prototype.noiseDetail=function(a,l){0<a&&(f=a),0<l&&(E=l)},w.default.prototype.noiseSeed=function(a){u=4294967296;var d,u,c_rand=function(){return(d=(1664525*d+1013904223)%u)/u};(function(m){d=(null==m?Math.random()*u:m)>>>0})(a),_=new Array(4096);for(var s=0;s<4096;s++)_[s]=c_rand()},C.default=w=w.default},{"../core/main":280}],313:[function(r,H,C){"use strict";function y(l){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function _(l){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(d){return y(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":y(d)})(l)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.number.is-finite"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.sub"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.number.is-finite"),r("core-js/modules/es.string.sub"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(a=r("../core/main"))&&a.__esModule?a:{default:a},f=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==_(l)&&"function"!=typeof l)return{default:l};var d=E();if(d&&d.has(l))return d.get(l);var u,c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var m;Object.prototype.hasOwnProperty.call(l,u)&&((m=s?Object.getOwnPropertyDescriptor(l,u):null)&&(m.get||m.set)?Object.defineProperty(c,u,m):c[u]=l[u])}return c.default=l,d&&d.set(l,c),c}(r("../core/constants"));function E(){var l;return"function"!=typeof WeakMap?null:(E=function(){return l},l=new WeakMap)}function w(l,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}h.default.Vector=function(){function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");var m,p,b="function"==typeof(arguments.length<=0?void 0:arguments[0])?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],m=(arguments.length<=2?void 0:arguments[2])||0,p=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(m=(arguments.length<=0?void 0:arguments[0])||0,p=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=m,this.y=p,this.z=b}var d,u,c;return d=l,c=[{key:"fromAngle",value:function(s,m){return new h.default.Vector((m=void 0===m?1:m)*Math.cos(s),m*Math.sin(s),0)}},{key:"fromAngles",value:function(k,T,p){void 0===p&&(p=1);var b=Math.cos(T),F=(T=Math.sin(T),Math.cos(k));return k=Math.sin(k),new h.default.Vector(p*k*T,-p*F,p*k*b)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*f.TWO_PI)}},{key:"random3D",value:function(){var s=Math.random()*f.TWO_PI,m=2*Math.random()-1,p=(b=Math.sqrt(1-m*m))*Math.cos(s),b=b*Math.sin(s);return new h.default.Vector(p,b,m)}},{key:"copy",value:function(s){return s.copy(s)}},{key:"add",value:function(s,m,p){return p?p.set(s):(p=s.copy(),3===arguments.length&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),p.add(m),p}},{key:"rem",value:function(s,m){if(s instanceof h.default.Vector&&m instanceof h.default.Vector)return(s=s.copy()).rem(m),s}},{key:"sub",value:function(s,m,p){return p?p.set(s):(p=s.copy(),3===arguments.length&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),p.sub(m),p}},{key:"mult",value:function(s,m,p){return p?p.set(s):(p=s.copy(),3===arguments.length&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),p.mult(m),p}},{key:"rotate",value:function(s,m,p){return 2===arguments.length?p=s.copy():(p instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),p.set(s)),p.rotate(m),p}},{key:"div",value:function(s,m,p){return p?p.set(s):(p=s.copy(),3===arguments.length&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),p.div(m),p}},{key:"dot",value:function(s,m){return s.dot(m)}},{key:"cross",value:function(s,m){return s.cross(m)}},{key:"dist",value:function(s,m){return s.dist(m)}},{key:"lerp",value:function(s,m,p,b){return b?b.set(s):(b=s.copy(),4===arguments.length&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),b.lerp(m,p),b}},{key:"slerp",value:function(s,m,p,b){return b?b.set(s):(b=s.copy(),4===arguments.length&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),b.slerp(m,p),b}},{key:"mag",value:function(s){return s.mag()}},{key:"magSq",value:function(s){return s.magSq()}},{key:"normalize",value:function(s,m){return arguments.length<2?m=s.copy():(m instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),m.set(s)),m.normalize()}},{key:"limit",value:function(s,m,p){return arguments.length<3?p=s.copy():(p instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),p.set(s)),p.limit(m)}},{key:"setMag",value:function(s,m,p){return arguments.length<3?p=s.copy():(p instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),p.set(s)),p.setMag(m)}},{key:"heading",value:function(s){return s.heading()}},{key:"angleBetween",value:function(s,m){return s.angleBetween(m)}},{key:"reflect",value:function(s,m,p){return arguments.length<3?p=s.copy():(p instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),p.set(s)),p.reflect(m)}},{key:"array",value:function(s){return s.array()}},{key:"equals",value:function(s,m){var p;return s instanceof h.default.Vector?p=s:Array.isArray(s)?p=(new h.default.Vector).set(s):h.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),p.equals(m)}}],(u=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(s,m,p){return s instanceof h.default.Vector?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):Array.isArray(s)?(this.x=s[0]||0,this.y=s[1]||0,this.z=s[2]||0):(this.x=s||0,this.y=m||0,this.z=p||0),this}},{key:"copy",value:function(){return this.isPInst?new h.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new h.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(s,m,p){return s instanceof h.default.Vector?(this.x+=s.x||0,this.y+=s.y||0,this.z+=s.z||0):Array.isArray(s)?(this.x+=s[0]||0,this.y+=s[1]||0,this.z+=s[2]||0):(this.x+=s||0,this.y+=m||0,this.z+=p||0),this}},{key:"calculateRemainder2D",value:function(s,m){return 0!==s&&(this.x=this.x%s),0!==m&&(this.y=this.y%m),this}},{key:"calculateRemainder3D",value:function(s,m,p){return 0!==s&&(this.x=this.x%s),0!==m&&(this.y=this.y%m),0!==p&&(this.z=this.z%p),this}},{key:"rem",value:function(s,m,p){var b;if(s instanceof h.default.Vector){if([s.x,s.y,s.z].every(Number.isFinite))return T=parseFloat(s.x),F=parseFloat(s.y),b=parseFloat(s.z),this.calculateRemainder3D(T,F,b)}else if(Array.isArray(s)){if(s.every(function(k){return Number.isFinite(k)}))return 2===s.length?this.calculateRemainder2D(s[0],s[1]):3===s.length?this.calculateRemainder3D(s[0],s[1],s[2]):void 0}else if(1===arguments.length){if(Number.isFinite(s)&&0!==s)return this.x=this.x%s,this.y=this.y%s,this.z=this.z%s,this}else if(2===arguments.length){var T=Array.prototype.slice.call(arguments);if(T.every(function(k){return Number.isFinite(k)})&&2===T.length)return this.calculateRemainder2D(T[0],T[1])}else if(3===arguments.length){var F=Array.prototype.slice.call(arguments);if(F.every(function(k){return Number.isFinite(k)})&&3===F.length)return this.calculateRemainder3D(F[0],F[1],F[2])}}},{key:"sub",value:function(s,m,p){return s instanceof h.default.Vector?(this.x-=s.x||0,this.y-=s.y||0,this.z-=s.z||0):Array.isArray(s)?(this.x-=s[0]||0,this.y-=s[1]||0,this.z-=s[2]||0):(this.x-=s||0,this.y-=m||0,this.z-=p||0),this}},{key:"mult",value:function(s,m,p){var b;return s instanceof h.default.Vector?Number.isFinite(s.x)&&Number.isFinite(s.y)&&Number.isFinite(s.z)&&"number"==typeof s.x&&"number"==typeof s.y&&"number"==typeof s.z?(this.x*=s.x,this.y*=s.y,this.z*=s.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(s)?s.every(function(T){return Number.isFinite(T)})&&s.every(function(T){return"number"==typeof T})?1===s.length?(this.x*=s[0],this.y*=s[0],this.z*=s[0]):2===s.length?(this.x*=s[0],this.y*=s[1]):3===s.length&&(this.x*=s[0],this.y*=s[1],this.z*=s[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(b=Array.prototype.slice.call(arguments)).every(function(T){return Number.isFinite(T)})&&b.every(function(T){return"number"==typeof T})?(1===arguments.length&&(this.x*=s,this.y*=s,this.z*=s),2===arguments.length&&(this.x*=s,this.y*=m),3===arguments.length&&(this.x*=s,this.y*=m,this.z*=p)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(s,m,p){if(s instanceof h.default.Vector)if(Number.isFinite(s.x)&&Number.isFinite(s.y)&&Number.isFinite(s.z)&&"number"==typeof s.x&&"number"==typeof s.y&&"number"==typeof s.z){var b=0===s.z&&0===this.z;if(0===s.x||0===s.y||!b&&0===s.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=s.x,this.y/=s.y,b||(this.z/=s.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(s))if(s.every(function(T){return Number.isFinite(T)})&&s.every(function(T){return"number"==typeof T})){if(s.some(function(T){return 0===T}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===s.length?(this.x/=s[0],this.y/=s[0],this.z/=s[0]):2===s.length?(this.x/=s[0],this.y/=s[1]):3===s.length&&(this.x/=s[0],this.y/=s[1],this.z/=s[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if((b=Array.prototype.slice.call(arguments)).every(function(T){return Number.isFinite(T)})&&b.every(function(T){return"number"==typeof T})){if(b.some(function(T){return 0===T}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===arguments.length&&(this.x/=s,this.y/=s,this.z/=s),2===arguments.length&&(this.x/=s,this.y/=m),3===arguments.length&&(this.x/=s,this.y/=m,this.z/=p)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var s=this.x,m=this.y,p=this.z;return s*s+m*m+p*p}},{key:"dot",value:function(s,m,p){return s instanceof h.default.Vector?this.dot(s.x,s.y,s.z):this.x*(s||0)+this.y*(m||0)+this.z*(p||0)}},{key:"cross",value:function(b){var m=this.y*b.z-this.z*b.y,p=this.z*b.x-this.x*b.z;return b=this.x*b.y-this.y*b.x,this.isPInst?new h.default.Vector(this._fromRadians,this._toRadians,m,p,b):new h.default.Vector(m,p,b)}},{key:"dist",value:function(s){return s.copy().sub(this).mag()}},{key:"normalize",value:function(){var s=this.mag();return 0!==s&&this.mult(1/s),this}},{key:"limit",value:function(s){var m=this.magSq();return s*s<m&&this.div(Math.sqrt(m)).mult(s),this}},{key:"setMag",value:function(s){return this.normalize().mult(s)}},{key:"heading",value:function(){var s=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(s):s}},{key:"setHeading",value:function(s){this.isPInst&&(s=this._toRadians(s));var m=this.mag();return this.x=m*Math.cos(s),this.y=m*Math.sin(s),this}},{key:"rotate",value:function(m){m=this.heading()+m;var p=(this.isPInst&&(m=this._toRadians(m)),this.mag());return this.x=Math.cos(m)*p,this.y=Math.sin(m)*p,this}},{key:"angleBetween",value:function(s){var m;return this.magSq()*s.magSq()==0?NaN:(m=this.cross(s),s=Math.atan2(m.mag(),this.dot(s))*Math.sign(m.z||1),this.isPInst?this._fromRadians(s):s)}},{key:"lerp",value:function(s,m,p,b){return s instanceof h.default.Vector?this.lerp(s.x,s.y,s.z,m):(this.x+=(s-this.x)*b||0,this.y+=(m-this.y)*b||0,this.z+=(p-this.z)*b||0,this)}},{key:"slerp",value:function(s,m){if(0!==m){if(1===m)return this.set(s);var p=this.mag(),b=s.mag();if(p*b==0)this.mult(1-m).add(s.x*m,s.y*m,s.z*m);else{var T=this.cross(s),F=T.mag(),k=Math.atan2(F,this.dot(s));if(0<F)T.x/=F,T.y/=F,T.z/=F;else{if(k<.5*Math.PI)return this.mult(1-m).add(s.x*m,s.y*m,s.z*m),this;0===this.z&&0===s.z?T.set(0,0,1):0!==this.x?T.set(this.y,-this.x,0).normalize():T.set(1,0,0)}F=T.cross(this),T=(s=1-m+m*b/p)*Math.cos(m*k),b=s*Math.sin(m*k),this.x=this.x*T+F.x*b,this.y=this.y*T+F.y*b,this.z=this.z*T+F.z*b}}return this}},{key:"reflect",value:function(s){return s.normalize(),this.sub(s.mult(2*this.dot(s)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(F,m,p){var b,T;return F=F instanceof h.default.Vector?(b=F.x||0,T=F.y||0,F.z||0):Array.isArray(F)?(b=F[0]||0,T=F[1]||0,F[2]||0):(b=F||0,T=m||0,p||0),this.x===b&&this.y===T&&this.z===F}}])&&w(d.prototype,u),c&&w(d,c),l}();var a=h.default.Vector;C.default=a},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.every":154,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.math.sign":177,"core-js/modules/es.number.constructor":178,"core-js/modules/es.number.is-finite":179,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],314:[function(E,H,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(E=E("../core/main"))&&E.__esModule?E:{default:E},_="_lcg_random_state",h=4294967296,f=0;y.default.prototype._lcg=function(w){return this[w]=(1664525*this[w]+1013904223)%h,this[w]/h},y.default.prototype._lcgSetSeed=function(w,a){this[w]=(null==a?Math.random()*h:a)>>>0},y.default.prototype.randomSeed=function(w){this._lcgSetSeed(_,w),this._gaussian_previous=!1},y.default.prototype.random=function(w,a){var l,d;return y.default._validateParameters("random",arguments),l=null!=this[_]?this._lcg(_):Math.random(),void 0===w?l:void 0===a?Array.isArray(w)?w[Math.floor(l*w.length)]:l*w:(a<w&&(d=w,w=a,a=d),l*(a-w)+w)},y.default.prototype.randomGaussian=function(w){var a,l,d,u,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)a=f,this._gaussian_previous=!1;else{for(;1<=(u=(l=this.random(2)-1)*l+(d=this.random(2)-1)*d););a=l*(u=Math.sqrt(-2*Math.log(u)/u)),f=d*u,this._gaussian_previous=!0}return a*c+(w||0)},C.default=E=y.default},{"../core/main":280}],315:[function(r,H,C){"use strict";function y(a){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(l){return y(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(w=r("../core/main"))&&w.__esModule?w:{default:w},f=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var l=E();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(r("../core/constants"));function E(){var a;return"function"!=typeof WeakMap?null:(E=function(){return a},a=new WeakMap)}h.default.prototype._angleMode=f.RADIANS,h.default.prototype.acos=function(a){return this._fromRadians(Math.acos(a))},h.default.prototype.asin=function(a){return this._fromRadians(Math.asin(a))},h.default.prototype.atan=function(a){return this._fromRadians(Math.atan(a))},h.default.prototype.atan2=function(a,l){return this._fromRadians(Math.atan2(a,l))},h.default.prototype.cos=function(a){return Math.cos(this._toRadians(a))},h.default.prototype.sin=function(a){return Math.sin(this._toRadians(a))},h.default.prototype.tan=function(a){return Math.tan(this._toRadians(a))},h.default.prototype.degrees=function(a){return a*f.RAD_TO_DEG},h.default.prototype.radians=function(a){return a*f.DEG_TO_RAD},h.default.prototype.angleMode=function(a){if(h.default._validateParameters("angleMode",arguments),void 0===a)return this._angleMode;a!==f.DEGREES&&a!==f.RADIANS||a!==this._angleMode&&(a===f.RADIANS?(this._setProperty("pRotationX",this.pRotationX*f.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*f.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*f.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*f.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*f.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*f.RAD_TO_DEG)),this._angleMode=a)},h.default.prototype._toRadians=function(a){return this._angleMode===f.DEGREES?a*f.DEG_TO_RAD:a},h.default.prototype._toDegrees=function(a){return this._angleMode===f.RADIANS?a*f.RAD_TO_DEG:a},h.default.prototype._fromRadians=function(a){return this._angleMode===f.DEGREES?a*f.RAD_TO_DEG:a},h.default.prototype._fromDegrees=function(a){return this._angleMode===f.RADIANS?a*f.DEG_TO_RAD:a};var w=h.default;C.default=w},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],316:[function(r,H,C){"use strict";r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(r=r("../core/main"))&&r.__esModule?r:{default:r};y.default.prototype.textAlign=function(_,h){var f;return y.default._validateParameters("textAlign",arguments),(f=this._renderer).textAlign.apply(f,arguments)},y.default.prototype.textLeading=function(_){var h;return y.default._validateParameters("textLeading",arguments),(h=this._renderer).textLeading.apply(h,arguments)},y.default.prototype.textSize=function(_){var h;return y.default._validateParameters("textSize",arguments),(h=this._renderer).textSize.apply(h,arguments)},y.default.prototype.textStyle=function(_){var h;return y.default._validateParameters("textStyle",arguments),(h=this._renderer).textStyle.apply(h,arguments)},y.default.prototype.textWidth=function(){for(var _=arguments.length,h=new Array(_),f=0;f<_;f++)h[f]=arguments[f];if(h[0]+="",y.default._validateParameters("textWidth",h),0===h[0].length)return 0;for(var E=h[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),w=[],a=0;a<E.length;a++)w.push(this._renderer.textWidth(E[a]));return Math.max.apply(Math,w)},y.default.prototype.textAscent=function(){for(var _=arguments.length,h=new Array(_),f=0;f<_;f++)h[f]=arguments[f];return y.default._validateParameters("textAscent",h),this._renderer.textAscent()},y.default.prototype.textDescent=function(){for(var _=arguments.length,h=new Array(_),f=0;f<_;f++)h[f]=arguments[f];return y.default._validateParameters("textDescent",h),this._renderer.textDescent()},y.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},y.default.prototype.textWrap=function(_){if("WORD"!==_&&"CHAR"!==_)throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(_)},C.default=r=y.default},{"../core/main":280,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203}],317:[function(r,H,C){"use strict";function y(d){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(u){return y(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(d)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.split"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(l=r("../core/main"))&&l.__esModule?l:{default:l},f=a(r("../core/constants")),E=a(r("opentype.js"));function w(){var d;return"function"!=typeof WeakMap?null:(w=function(){return d},d=new WeakMap)}function a(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var u=w();if(u&&u.has(d))return u.get(d);var c,s,m={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&((s=p?Object.getOwnPropertyDescriptor(d,c):null)&&(s.get||s.set)?Object.defineProperty(m,c,s):m[c]=d[c]);return m.default=d,u&&u.set(d,m),m}r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),h.default.prototype.loadFont=function(d,u,c){h.default._validateParameters("loadFont",arguments);var s=new h.default.Font(this),m=this;return E.load(d,function(T,F){if(T)return h.default._friendlyFileLoadError(4,d),void 0!==c?c(T):void console.error(T,d);s.font=F,void 0!==u&&u(s),m._decrementPreload();var k=(F=(T=d.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:T.slice(F+1);["ttf","otf","woff","woff2"].includes(k)&&(k=T.slice(0,-1!==F?F:0),(T=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(k,";\nsrc: url(").concat(d,");\n}\n"))),document.head.appendChild(T))}),s},h.default.prototype.text=function(d,u,c,s,m){var p;return h.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(p=this._renderer).text.apply(p,arguments):this},h.default.prototype.textFont=function(d,u){if(h.default._validateParameters("textFont",arguments),arguments.length){if(d)return this._renderer._setProperty("_textFont",d),u&&(this._renderer._setProperty("_textSize",u),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",u*f._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var l=h.default;C.default=l},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,"opentype.js":254}],318:[function(r,H,C){"use strict";function y(A){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(A)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var _=(_=r("../core/main"))&&_.__esModule?_:{default:_},h=function(A){if(A&&A.__esModule)return A;if(null===A||"object"!==E(A)&&"function"!=typeof A)return{default:A};var P=f();if(P&&P.has(A))return P.get(A);var $,j={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for($ in A){var I;Object.prototype.hasOwnProperty.call(A,$)&&((I=N?Object.getOwnPropertyDescriptor(A,$):null)&&(I.get||I.set)?Object.defineProperty(j,$,I):j[$]=A[$])}return j.default=A,P&&P.set(A,j),j}(r("../core/constants"));function f(){var A;return"function"!=typeof WeakMap?null:(f=function(){return A},A=new WeakMap)}function E(A){return(E="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(P){return y(P)}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":y(P)})(A)}function w(A,P){for(var $=0;$<P.length;$++){var j=P[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(A,j.key,j)}}function a(A,P){var $=A.length;return A[P<0?P%$+$:P%$]}function l(A,P,$,j){var N,I,B;return j?(void 0===l.tmpPoint1&&(l.tmpPoint1=[],l.tmpPoint2=[]),B=l.tmpPoint2,(I=l.tmpPoint1).x=P.x-A.x,I.y=P.y-A.y,B.x=$.x-P.x,B.y=$.y-P.y,N=I.x*B.x+I.y*B.y,I=Math.sqrt(I.x*I.x+I.y*I.y),B=Math.sqrt(B.x*B.x+B.y*B.y),Math.acos(N/(I*B))<j):(P[0]-A[0])*($[1]-A[1])-($[0]-A[0])*(P[1]-A[1])==0}function d(R,ge,se,De,Le,I,B,z,W){var ne=1-W,J=(q=Math.pow(ne,3))*R+3*(ae=Math.pow(ne,2))*W*se+3*ne*W*W*Le+(fe=(K=W*W)*W)*B,q=q*ge+3*ae*W*De+3*ne*W*W*I+fe*z,ae=R+2*W*(se-R)+K*(Le-2*se+R),fe=ge+2*W*(De-ge)+K*(I-2*De+ge),Se=se+2*W*(Le-se)+K*(B-2*Le+se),K=De+2*W*(I-De)+K*(z-2*I+De);return R=ne*R+W*se,se=ne*ge+W*De,ge=ne*Le+W*B,De=ne*I+W*z,Le=90-180*Math.atan2(ae-Se,fe-K)/Math.PI,(Se<ae||fe<K)&&(Le+=180),{x:J,y:q,m:{x:ae,y:fe},n:{x:Se,y:K},start:{x:R,y:se},end:{x:ge,y:De},alpha:Le}}function u(A,P,$,j,N,I,B,z,W){return null==W?F(A,P,$,j,N,I,B,z):d(A,P,$,j,N,I,B,z,function(ne,J,q,ae,fe,Se,K,R,se){if(!(se<0||F(ne,J,q,ae,fe,Se,K,R)<se)){var ge,De=.5,Le=1-De;for(ge=F(ne,J,q,ae,fe,Se,K,R,Le);.01<Math.abs(ge-se);)ge=F(ne,J,q,ae,fe,Se,K,R,Le+=(ge<se?1:-1)*(De/=2));return Le}}(A,P,$,j,N,I,B,z,W))}function c(A,P,$){for(var j,N,I,B,z,W=0,ne=0,J=(A=function(q,ae){function fe(gt,vt,kt){var Ht,Ft;if(!gt)return["C",vt.x,vt.y,vt.x,vt.y,vt.x,vt.y];switch(gt[0]in{T:1,Q:1}||(vt.qx=vt.qy=null),gt[0]){case"M":vt.X=gt[1],vt.Y=gt[2];break;case"A":gt=["C"].concat(m.apply(0,[vt.x,vt.y].concat(gt.slice(1))));break;case"S":Ft="C"===kt||"S"===kt?(Ht=2*vt.x-vt.bx,2*vt.y-vt.by):(Ht=vt.x,vt.y),gt=["C",Ht,Ft].concat(gt.slice(1));break;case"T":"Q"===kt||"T"===kt?(vt.qx=2*vt.x-vt.qx,vt.qy=2*vt.y-vt.qy):(vt.qx=vt.x,vt.qy=vt.y),gt=["C"].concat(T(vt.x,vt.y,vt.qx,vt.qy,gt[1],gt[2]));break;case"Q":vt.qx=gt[1],vt.qy=gt[2],gt=["C"].concat(T(vt.x,vt.y,gt[1],gt[2],gt[3],gt[4]));break;case"L":gt=["C"].concat(b(vt.x,vt.y,gt[1],gt[2]));break;case"H":gt=["C"].concat(b(vt.x,vt.y,gt[1],vt.y));break;case"V":gt=["C"].concat(b(vt.x,vt.y,vt.x,gt[1]));break;case"Z":gt=["C"].concat(b(vt.x,vt.y,vt.X,vt.Y))}return gt}function Se(gt,vt){if(7<gt[vt].length){gt[vt].shift();for(var kt=gt[vt];kt.length;)Ze[vt]="A",ge&&(et[vt]="A"),gt.splice(vt++,0,["C"].concat(kt.splice(0,6)));gt.splice(vt,1),R=Math.max(se.length,ge&&ge.length||0)}}function K(gt,vt,kt,Ht,Ft){gt&&vt&&"M"===gt[Ft][0]&&"M"!==vt[Ft][0]&&(vt.splice(Ft,0,["M",Ht.x,Ht.y]),kt.bx=0,kt.by=0,kt.x=gt[Ft][1],kt.y=gt[Ft][2],R=Math.max(se.length,ge&&ge.length||0))}var R,se=s(q),ge=undefined,De={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Le={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ze=[],et=[],Oe="",$e="";R=Math.max(se.length,ge&&ge.length||0);for(var Ve=0;Ve<R;Ve++){"C"!==(Oe=se[Ve]?se[Ve][0]:Oe)&&(Ze[Ve]=Oe,Ve&&($e=Ze[Ve-1])),se[Ve]=fe(se[Ve],De,$e),"A"!==Ze[Ve]&&"C"===Oe&&(Ze[Ve]="C"),Se(se,Ve),ge&&("C"!==(Oe=ge[Ve]?ge[Ve][0]:Oe)&&(et[Ve]=Oe,Ve&&($e=et[Ve-1])),ge[Ve]=fe(ge[Ve],Le,$e),"A"!==et[Ve]&&"C"===Oe&&(et[Ve]="C"),Se(ge,Ve)),K(se,ge,De,Le,Ve),K(ge,se,Le,De,Ve);var Te=se[Ve],Je=ge&&ge[Ve],Ye=Te.length,bt=ge&&Je.length;De.x=Te[Ye-2],De.y=Te[Ye-1],De.bx=parseFloat(Te[Ye-4])||De.x,De.by=parseFloat(Te[Ye-3])||De.y,Le.bx=ge&&(parseFloat(Je[bt-4])||Le.x),Le.by=ge&&(parseFloat(Je[bt-3])||Le.y),Le.x=ge&&Je[bt-2],Le.y=ge&&Je[bt-1]}return ge?[se,ge]:se}(A)).length;ne<J;ne++){if("M"===(I=A[ne])[0])j=+I[1],N=+I[2];else{if(P<W+(B=u(j,N,I[1],I[2],I[3],I[4],I[5],I[6]))&&!$)return{x:(z=u(j,N,I[1],I[2],I[3],I[4],I[5],I[6],P-W)).x,y:z.y,alpha:z.alpha};W+=B,j=+I[5],N=+I[6]}I.shift()}return(z=$?W:d(j,N,I[0],I[1],I[2],I[3],I[4],I[5],1)).alpha?{x:z.x,y:z.y,alpha:z.alpha}:z}function s(A){var P=[],$=0,j=0,N=0,I=0,B=0;if(A){"M"===A[0][0]&&(N=$=+A[0][1],I=j=+A[0][2],B++,P[0]=["M",$,j]);for(var z,W,ne=3===A.length&&"M"===A[0][0]&&"R"===A[1][0].toUpperCase()&&"Z"===A[2][0].toUpperCase(),J=B,q=A.length;J<q;J++){if(P.push(z=[]),(W=A[J])[0]!==W[0].toUpperCase())switch(z[0]=W[0].toUpperCase(),z[0]){case"A":z[1]=W[1],z[2]=W[2],z[3]=W[3],z[4]=W[4],z[5]=W[5],z[6]=+(W[6]+$),z[7]=+(W[7]+j);break;case"V":z[1]=+W[1]+j;break;case"H":z[1]=+W[1]+$;break;case"R":for(var ae,fe=2,Se=(ae=[$,j].concat(W.slice(1))).length;fe<Se;fe++)ae[fe]=+ae[fe]+$,ae[++fe]=+ae[fe]+j;P.pop(),P=P.concat(p(ae,ne));break;case"M":N=+W[1]+$,I=+W[2]+j;break;default:for(var K=1,R=W.length;K<R;K++)z[K]=+W[K]+(K%2?$:j)}else if("R"===W[0])ae=[$,j].concat(W.slice(1)),P.pop(),P=P.concat(p(ae,ne)),z=["R"].concat(W.slice(-2));else for(var se=0,ge=W.length;se<ge;se++)z[se]=W[se];switch(z[0]){case"Z":$=N,j=I;break;case"H":$=z[1];break;case"V":j=z[1];break;case"M":N=z[z.length-2],I=z[z.length-1];break;default:$=z[z.length-2],j=z[z.length-1]}}}return P}function m(A,P,$,j,ge,Ze,De,z,W,ne){function J(bt,gt,vt){return{x:bt*Math.cos(vt)-gt*Math.sin(vt),y:bt*Math.sin(vt)+gt*Math.cos(vt)}}var q,se=120*(R=Math.PI)/180,ae=R/180*(+ge||0),fe=[],Se=(ne?(Ve=ne[0],q=ne[1],Oe=ne[2],$e=ne[3]):(A=(Le=J(A,P,-ae)).x,P=Le.y,1<(Se=(K=(A-(z=(Le=J(z,W,-ae)).x))/2)*K/($*$)+(Le=(P-(W=Le.y))/2)*Le/(j*j))&&($*=Se=Math.sqrt(Se),j*=Se),Se=$*$,et=j*j,Oe=(Ze=(Ze===De?-1:1)*Math.sqrt(Math.abs((Se*et-Se*Le*Le-et*K*K)/(Se*Le*Le+et*K*K))))*$*Le/j+(A+z)/2,$e=Ze*-j*K/$+(P+W)/2,Ve=Math.asin(((P-$e)/j).toFixed(9)),q=Math.asin(((W-$e)/j).toFixed(9)),(Ve=A<Oe?R-Ve:Ve)<0&&(Ve=2*R+Ve),(q=z<Oe?R-q:q)<0&&(q=2*R+q),De&&q<Ve&&(Ve-=2*R),!De&&Ve<q&&(q-=2*R)),q-Ve),K=(Math.abs(Se)>se&&(et=q,Le=z,Ze=W,q=Ve+se*(De&&Ve<q?1:-1),fe=m(z=Oe+$*Math.cos(q),W=$e+j*Math.sin(q),$,j,ge,0,De,Le,Ze,[q,et,Oe,$e])),Se=q-Ve,Math.cos(Ve)),R=Math.sin(Ve),Le=(se=Math.cos(q),ge=Math.sin(q),4/3*$*(De=Math.tan(Se/4))),et=[A,P],Oe=[A+Le*R,P-(Ze=4/3*j*De)*K],$e=[z+Le*ge,W-Ze*se],Ve=[z,W];if(Oe[0]=2*et[0]-Oe[0],Oe[1]=2*et[1]-Oe[1],ne)return[Oe,$e,Ve].concat(fe);for(var Te=[],Je=0,Ye=(fe=[Oe,$e,Ve].concat(fe).join().split(",")).length;Je<Ye;Je++)Te[Je]=Je%2?J(fe[Je-1],fe[Je],ae).y:J(fe[Je],fe[Je+1],ae).x;return Te}function p(A,P){for(var $=[],j=0,N=A.length;j<N-2*!P;j+=2){var I=[{x:+A[j-2],y:+A[j-1]},{x:+A[j],y:+A[j+1]},{x:+A[j+2],y:+A[j+3]},{x:+A[j+4],y:+A[j+5]}];P?j?N-4===j?I[3]={x:+A[0],y:+A[1]}:N-2===j&&(I[2]={x:+A[0],y:+A[1]},I[3]={x:+A[2],y:+A[3]}):I[0]={x:+A[N-2],y:+A[N-1]}:N-4===j?I[3]=I[2]:j||(I[0]={x:+A[j],y:+A[j+1]}),$.push(["C",(6*I[1].x-I[0].x+I[2].x)/6,(6*I[1].y-I[0].y+I[2].y)/6,(I[1].x+6*I[2].x-I[3].x)/6,(I[1].y+6*I[2].y-I[3].y)/6,I[2].x,I[2].y])}return $}function b(A,P,$,j){return[A,P,$,j,$,j]}function T(A,P,$,j,N,I){return[1/3*A+2/3*$,1/3*P+2/3*j,1/3*N+2/3*$,1/3*I+2/3*j,N,I]}function F(A,P,$,j,N,I,B,z,W){for(var ne=(W=1<(W=null==W?1:W)?1:W<0?0:W)/2,J=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],q=0,ae=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],fe=0;fe<12;fe++){var Se=k(K=ne*J[fe]+ne,A,$,N,B),K=k(K,P,j,I,z);q+=ae[fe]*Math.sqrt(Se*Se+K*K)}return ne*q}function k(A,P,$,j,N){return A*(A*(-3*P+9*$-9*j+3*N)+6*P-12*$+6*j)-3*P+3*$}_.default.Font=function(){function A(N){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this.parent=N,this.cache={},this.font=void 0}var P,$;return P=A,($=[{key:"textBounds",value:function(N){var I=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,B=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,z=4<arguments.length?arguments[4]:void 0,W=z&&z.renderer&&z.renderer._pInst||this.parent,ne=W._renderer.drawingContext,J=(J=3<arguments.length?arguments[3]:void 0)||W._renderer._textSize;if(!Ze){for(var q=[],ae=[],fe=[],Se=(fe[0]=[],[]),K=this._scale(J),R=W._renderer.textLeading(),se=0,ge=(this.font.forEachGlyph(N,I,B,J,z,function($e,Ve,Te,Je){var Ye=$e.getMetrics();0===$e.index?fe[se+=1]=[]:(fe[se].push(Ve+Ye.xMin*K),fe[se].push(Ve+Ye.xMax*K),Se.push(Te+se*R+-Ye.yMin*K),Se.push(Te+se*R+-Ye.yMax*K))}),0<fe[se].length&&(q[se]=Math.min.apply(null,fe[se]),ae[se]=Math.max.apply(null,fe[se])),0),De=0;De<=se;De++){q[De]=Math.min.apply(null,fe[De]),ae[De]=Math.max.apply(null,fe[De]);var Le=ae[De]-q[De];ge<Le&&(ge=Le)}var Ze={x:ne=Math.min.apply(null,q),y:B=Math.min.apply(null,Se),h:Math.max.apply(null,Se)-B,w:ge,advance:ne-I};J=this._handleAlignment(W._renderer,N,Ze.x,Ze.y,Ze.w+Ze.advance),Ze.x=J.x,Ze.y=J.y}return Ze}},{key:"textToPoints",value:function(N,I,B,z,W){var ne=I,J=[],q=N.split(/\r?\n|\r|\n/g);z=z||this.parent._renderer._textSize;for(var ae,fe,Se,K=0;K<q.length;K++){var R=0;I=ne;for(var se=(se=q[K]).replace("\t","  "),ge=this._getGlyphs(se),De=0;De<ge.length;De++){if(fe=se,!((Se=ge)[ae=De].name&&"space"===Se[ae].name||fe.length===Se.length&&" "===fe[ae]))for(var Le=function($e){for(var Ve,Te=[],Je=0;Je<$e.length;Je++)"M"===$e[Je].type&&(Ve&&Te.push(Ve),Ve=[]),Ve.push((bt=void 0,bt=[(Ye=$e[Je]).type],"M"===Ye.type||"L"===Ye.type?bt.push(Ye.x,Ye.y):"C"===Ye.type?bt.push(Ye.x1,Ye.y1,Ye.x2,Ye.y2,Ye.x,Ye.y):"Q"===Ye.type&&bt.push(Ye.x1,Ye.y1,Ye.x,Ye.y),bt));var Ye,bt;return Te.push(Ve),Te}(ge[De].getPath(I,B,z).commands),Ze=0;Ze<Le.length;Ze++)for(var et=function($e,Ve){Ve=function(vt,kt){if("object"!==E(vt))vt=kt;else for(var Ht in kt)void 0===vt[Ht]&&(vt[Ht]=kt[Ht]);return vt}(Ve,{sampleFactor:.1,simplifyThreshold:0});for(var Te=c($e,0,1),Je=Te/(Te*Ve.sampleFactor),Ye=[],bt=0;bt<Te;bt+=Je)Ye.push(c($e,bt));return Ve.simplifyThreshold&&function(gt){for(var vt=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,Ht=gt.length-1;3<gt.length&&0<=Ht;--Ht)l(a(gt,Ht-1),a(gt,Ht),a(gt,Ht+1),vt)&&gt.splice(Ht%gt.length,1)}(Ye,Ve.simplifyThreshold),Ye}(Le[Ze],W),Oe=0;Oe<et.length;Oe++)et[Oe].x+=R,J.push(et[Oe]);R+=ge[De].advanceWidth*this._scale(z)}B+=this.parent._renderer._textLeading}return J}},{key:"_getGlyphs",value:function(N){return this.font.stringToGlyphs(N)}},{key:"_getPath",value:function(N,ne,B,z){var W=(z&&z.renderer&&z.renderer._pInst||this.parent)._renderer;return ne=this._handleAlignment(W,N,ne,B),this.font.getPath(N,ne.x,ne.y,W._textSize,z)}},{key:"_getPathData",value:function(N,I,B,z){var W=3;return"string"==typeof N&&2<arguments.length?N=this._getPath(N,I,B,z):"object"===E(I)&&(z=I),z&&"number"==typeof z.decimals&&(W=z.decimals),N.toPathData(W)}},{key:"_getSVG",value:function(N,I,B,z){var W=3;return"string"==typeof N&&2<arguments.length?N=this._getPath(N,I,B,z):"object"===E(I)&&(z=I),z&&("number"==typeof z.decimals&&(W=z.decimals),"number"==typeof z.strokeWidth&&(N.strokeWidth=z.strokeWidth),void 0!==z.fill&&(N.fill=z.fill),void 0!==z.stroke&&(N.stroke=z.stroke)),N.toSVG(W)}},{key:"_renderPath",value:function(J,ae,fe,z){var W=z&&z.renderer||this.parent._renderer,ne=W.drawingContext,q=(J=("object"===E(J)&&J.commands?J:this._getPath(J,ae,fe,z)).commands,ne.beginPath(),!0);ae=!1,fe=void 0;try{for(var Se,K=J[Symbol.iterator]();!(q=(Se=K.next()).done);q=!0){var R=Se.value;"M"===R.type?ne.moveTo(R.x,R.y):"L"===R.type?ne.lineTo(R.x,R.y):"C"===R.type?ne.bezierCurveTo(R.x1,R.y1,R.x2,R.y2,R.x,R.y):"Q"===R.type?ne.quadraticCurveTo(R.x1,R.y1,R.x,R.y):"Z"===R.type&&ne.closePath()}}catch(se){ae=!0,fe=se}finally{try{q||null==K.return||K.return()}finally{if(ae)throw fe}}return W._doStroke&&W._strokeSet&&!W._clipping&&ne.stroke(),W._doFill&&!W._clipping&&(W._fillSet||W._setFill(h._DEFAULT_TEXT_FILL),ne.fill()),this}},{key:"_textWidth",value:function(N,I){return this.font.getAdvanceWidth(N,I)}},{key:"_textAscent",value:function(N){return this.font.ascender*this._scale(N)}},{key:"_textDescent",value:function(N){return-this.font.descender*this._scale(N)}},{key:"_scale",value:function(N){return 1/this.font.unitsPerEm*(N||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(N,I,B,z,W){var ne=N._textSize;switch(void 0===W&&(W=this._textWidth(I,ne)),N._textAlign){case h.CENTER:B-=W/2;break;case h.RIGHT:B-=W}switch(N._textBaseline){case h.TOP:z+=this._textAscent(ne);break;case h.CENTER:z+=this._textAscent(ne)/2;break;case h.BOTTOM:z-=this._textDescent(ne)}return{x:B,y:z}}}])&&w(P.prototype,$),A}(),C.default=r=_.default},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],319:[function(r,H,C){"use strict";r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.array-buffer.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.array-buffer.constructor"),r("core-js/modules/es.object.to-string"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.prototype.append=function(y,_){return y.push(_),y},r.default.prototype.arrayCopy=function(y,_,h,f,E){var w,a;y=void 0!==E?(a=Math.min(E,y.length),w=f,y.slice(_,a+_)):(a=void 0!==h?(a=h,Math.min(a,y.length)):y.length,h=_,y.slice(w=0,a)),Array.prototype.splice.apply(h,[w,a].concat(y))},r.default.prototype.concat=function(y,_){return y.concat(_)},r.default.prototype.reverse=function(y){return y.reverse()},r.default.prototype.shorten=function(y){return y.pop(),y},r.default.prototype.shuffle=function(y,_){for(var h,f,E=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(y),w=(y=_||E?y:y.slice()).length;1<w;)h=this.random(0,1)*w|0,f=y[--w],y[w]=y[h],y[h]=f;return y},r.default.prototype.sort=function(y,f){var h=f?y.slice(0,Math.min(f,y.length)):y;return f=f?y.slice(Math.min(f,y.length)):[],(h="string"==typeof h[0]?h.sort():h.sort(function(E,w){return E-w})).concat(f)},r.default.prototype.splice=function(y,_,h){return Array.prototype.splice.apply(y,[h,0].concat(_)),y},r.default.prototype.subset=function(y,_,h){return y.slice(_,void 0!==h?_+h:y.length)},C.default=r=r.default},{"../core/main":280,"core-js/modules/es.array-buffer.constructor":151,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.to-string":187}],320:[function(r,H,C){"use strict";r("core-js/modules/es.array.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.repeat"),r("core-js/modules/es.array.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.repeat"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(r=r("../core/main"))&&r.__esModule?r:{default:r};y.default.prototype.float=function(_){return _ instanceof Array?_.map(parseFloat):parseFloat(_)},y.default.prototype.int=function(_){var h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return _===1/0||"Infinity"===_?1/0:_===-1/0||"-Infinity"===_?-1/0:"string"==typeof _?parseInt(_,h):"number"==typeof _?0|_:"boolean"==typeof _?_?1:0:_ instanceof Array?_.map(function(f){return y.default.prototype.int(f,h)}):void 0},y.default.prototype.str=function(_){return _ instanceof Array?_.map(y.default.prototype.str):String(_)},y.default.prototype.boolean=function(_){return"number"==typeof _?0!==_:"string"==typeof _?"true"===_.toLowerCase():"boolean"==typeof _?_:_ instanceof Array?_.map(y.default.prototype.boolean):void 0},y.default.prototype.byte=function(_){return"number"==typeof(_=y.default.prototype.int(_,10))?(_+128)%256-128:_ instanceof Array?_.map(y.default.prototype.byte):void 0},y.default.prototype.char=function(_){return"number"!=typeof _||isNaN(_)?_ instanceof Array?_.map(y.default.prototype.char):"string"==typeof _?y.default.prototype.char(parseInt(_,10)):void 0:String.fromCharCode(_)},y.default.prototype.unchar=function(_){return"string"==typeof _&&1===_.length?_.charCodeAt(0):_ instanceof Array?_.map(y.default.prototype.unchar):void 0},y.default.prototype.hex=function(_,h){if(h=null==h?8:h,_ instanceof Array)return _.map(function(E){return y.default.prototype.hex(E,h)});if(_===1/0||_===-1/0)return(_===1/0?"F":"0").repeat(h);if("number"==typeof _){_<0&&(_=4294967295+_+1);for(var f=Number(_).toString(16).toUpperCase();f.length<h;)f="0".concat(f);return f.length>=h?f.substring(f.length-h,f.length):f}},y.default.prototype.unhex=function(_){return _ instanceof Array?_.map(y.default.prototype.unhex):parseInt("0x".concat(_),16)},C.default=r=y.default},{"../core/main":280,"core-js/modules/es.array.map":167,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.repeat":200}],321:[function(r,H,C){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.pad-start"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.pad-start"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(a=r("../core/main"))&&a.__esModule?a:{default:a};function _(l,d){return function(u){if(Array.isArray(u))return u}(l)||function(u,c){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u)){var s=[],m=!0,p=!1,b=void 0;try{for(var T,F=u[Symbol.iterator]();!(m=(T=F.next()).done)&&(s.push(T.value),!c||s.length!==c);m=!0);}catch(k){p=!0,b=k}finally{try{m||null==F.return||F.return()}finally{if(p)throw b}}return s}}(l,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(l,d,u){var c=(s=_(l.toString().split("."),2))[0],s=s[1];return void 0===u?(c=c.padStart(d,"0"),s?c+"."+s:c):(c=(l=_(l.toFixed(u).toString().split("."),2))[0],s=l[1],c=c.padStart(d,"0"),void 0===s?c:c+"."+s)}function f(s,d){var u=(s=s.toString()).indexOf("."),c=-1!==u?s.substring(u):"";if(s=(s=-1!==u?s.substring(0,u):s).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===d)c="";else if(void 0!==d)if(d>c.length)for(var m=d-(c+=-1===u?".":"").length+1,p=0;p<m;p++)c+="0";else c=c.substring(0,d+1);return s+c}function E(l){return 0<parseFloat(l)?"+".concat(l.toString()):l.toString()}function w(l){return 0<=parseFloat(l)?" ".concat(l.toString()):l.toString()}r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),y.default.prototype.join=function(l,d){return y.default._validateParameters("join",arguments),l.join(d)},y.default.prototype.match=function(l,d){return y.default._validateParameters("match",arguments),l.match(d)},y.default.prototype.matchAll=function(l,d){y.default._validateParameters("matchAll",arguments);for(var u=new RegExp(d,"g"),c=u.exec(l),s=[];null!==c;)s.push(c),c=u.exec(l);return s},y.default.prototype.nf=function(l,d,u){return y.default._validateParameters("nf",arguments),l instanceof Array?l.map(function(c){return h(c,d,u)}):"[object Arguments]"===Object.prototype.toString.call(l)?3===l.length?this.nf(l[0],l[1],l[2]):2===l.length?this.nf(l[0],l[1]):this.nf(l[0]):h(l,d,u)},y.default.prototype.nfc=function(l,d){return y.default._validateParameters("nfc",arguments),l instanceof Array?l.map(function(u){return f(u,d)}):f(l,d)},y.default.prototype.nfp=function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];y.default._validateParameters("nfp",d);var c=y.default.prototype.nf.apply(this,d);return c instanceof Array?c.map(E):E(c)},y.default.prototype.nfs=function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];y.default._validateParameters("nfs",d);var c=y.default.prototype.nf.apply(this,d);return c instanceof Array?c.map(w):w(c)},y.default.prototype.split=function(l,d){return y.default._validateParameters("split",arguments),l.split(d)},y.default.prototype.splitTokens=function(l,d){var u,c;return y.default._validateParameters("splitTokens",arguments),c=void 0!==d?(c=/\]/g.exec(d),(u=/\[/g.exec(d))&&c?(d=d.slice(0,c.index)+d.slice(c.index+1),u=/\[/g.exec(d),d=d.slice(0,u.index)+d.slice(u.index+1),new RegExp("[\\[".concat(d,"\\]]"),"g")):c?(d=d.slice(0,c.index)+d.slice(c.index+1),new RegExp("[".concat(d,"\\]]"),"g")):u?(d=d.slice(0,u.index)+d.slice(u.index+1),new RegExp("[".concat(d,"\\[]"),"g")):new RegExp("[".concat(d,"]"),"g")):/\s/g,l.split(c).filter(function(s){return s})},y.default.prototype.trim=function(l){return y.default._validateParameters("trim",arguments),l instanceof Array?l.map(this.trim):l.trim()};var a=y.default;C.default=a},{"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.pad-start":199,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],322:[function(r,H,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.prototype.day=function(){return(new Date).getDate()},r.default.prototype.hour=function(){return(new Date).getHours()},r.default.prototype.minute=function(){return(new Date).getMinutes()},r.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},r.default.prototype.month=function(){return(new Date).getMonth()+1},r.default.prototype.second=function(){return(new Date).getSeconds()},r.default.prototype.year=function(){return(new Date).getFullYear()},C.default=r=r.default},{"../core/main":280}],323:[function(r,H,C){"use strict";function y(l){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function _(l){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(d){return y(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":y(d)})(l)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(a=r("../core/main"))&&a.__esModule?a:{default:a},f=(r("./p5.Geometry"),function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==_(l)&&"function"!=typeof l)return{default:l};var d=E();if(d&&d.has(l))return d.get(l);var u,c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var m;Object.prototype.hasOwnProperty.call(l,u)&&((m=s?Object.getOwnPropertyDescriptor(l,u):null)&&(m.get||m.set)?Object.defineProperty(c,u,m):c[u]=l[u])}return c.default=l,d&&d.set(l,c),c}(r("../core/constants")));function E(){var l;return"function"!=typeof WeakMap?null:(E=function(){return l},l=new WeakMap)}function w(l,d,u,c,s,m,p){l=l<=0?1:l,d=d<0?0:d,u=u<=0?l:u,c=c<3?3:c;for(var b,T,F=(m=void 0===m||m)?-2:0,k=(s=s<1?1:s)+((p=void 0===p?0!==d:p)?2:0),A=Math.atan2(l-d,u),P=Math.sin(A),$=Math.cos(A),j=F;j<=k;++j){var N=j/s,I=u*N,B=void 0;for(B=j<0?(N=I=0,l):s<j?(I=u,N=1,d):l+(d-l)*N,-2!==j&&j!==s+2||(B=0),I-=u/2,b=0;b<c;++b){var z=b/(c-1),ne=2*Math.PI*z,W=Math.sin(ne),J=(ne=Math.cos(ne),this.vertices.push(new h.default.Vector(W*B,I,ne*B)));J=j<0?new h.default.Vector(0,-1,0):s<j&&d?new h.default.Vector(0,1,0):new h.default.Vector(W*$,P,ne*$),this.vertexNormals.push(J),this.uvs.push(z,N)}}var q=0;if(m){for(T=0;T<c;++T)this.faces.push([q+T,q+c+(T+1)%c,q+c+T]);q+=2*c}for(j=0;j<s;++j){for(b=0;b<c;++b){var ae=(b+1)%c;this.faces.push([q+b,q+ae,q+c+ae]),this.faces.push([q+b,q+c+ae,q+c+b])}q+=c}if(p)for(q+=c,b=0;b<c;++b)this.faces.push([q+b,q+(b+1)%c,q+c])}h.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},h.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},h.default.prototype.buildGeometry=function(l){return this._renderer.buildGeometry(l)},h.default.prototype.freeGeometry=function(l){this._renderer._freeBuffers(l.gid)},h.default.prototype.plane=function(){var l,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=(this._assert3d("plane"),h.default._validateParameters("plane",arguments),"plane|".concat(c,"|").concat(s));return this._renderer.geometryInHash(m)||((l=new h.default.Geometry(c,s,function(){for(var p,b,T=0;T<=this.detailY;T++)for(var F=T/this.detailY,k=0;k<=this.detailX;k++)b=new h.default.Vector((p=k/this.detailX)-.5,F-.5,0),this.vertices.push(b),this.uvs.push(p,F)})).computeFaces().computeNormals(),c<=1&&s<=1?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(m,l)),this._renderer.drawBuffersScaled(m,d,u,1),this},h.default.prototype.box=function(l,d,u,c,s){this._assert3d("box"),h.default._validateParameters("box",arguments),void 0===l&&(l=50),void 0===d&&(d=l),void 0===u&&(u=d);var m,p=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return void 0===s&&(s=p?1:4),p="box|".concat(c=void 0===c?p?1:4:c,"|").concat(s),this._renderer.geometryInHash(p)||((m=new h.default.Geometry(c,s,function(){var b=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(T,F){F*=4;for(var k=0;k<4;k++){var A=new h.default.Vector((2*(1&(A=T[k]))-1)/2,((2&A)-1)/2,((4&A)/2-1)/2);b.vertices.push(A),b.uvs.push(1&k,(2&k)/2)}b.faces.push([F,1+F,2+F]),b.faces.push([2+F,1+F,3+F])})})).computeNormals(),c<=4&&s<=4?m._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(p,m)),this._renderer.drawBuffersScaled(p,l,d,u),this},h.default.prototype.sphere=function(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:24,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16;return this._assert3d("sphere"),h.default._validateParameters("sphere",arguments),this.ellipsoid(l,l,l,d,u),this},h.default.prototype.cylinder=function(){var l,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],p=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],b=(this._assert3d("cylinder"),h.default._validateParameters("cylinder",arguments),"cylinder|".concat(c,"|").concat(s,"|").concat(m,"|").concat(p));return this._renderer.geometryInHash(b)||(l=new h.default.Geometry(c,s),w.call(l,1,1,1,c,s,m,p),c<=24&&s<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(b,l)),this._renderer.drawBuffersScaled(b,d,u,d),this},h.default.prototype.cone=function(){var l,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],p=(this._assert3d("cone"),h.default._validateParameters("cone",arguments),"cone|".concat(c,"|").concat(s,"|").concat(m));return this._renderer.geometryInHash(p)||(l=new h.default.Geometry(c,s),w.call(l,1,0,1,c,s,m,!1),c<=24&&s<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,l)),this._renderer.drawBuffersScaled(p,d,u,d),this},h.default.prototype.ellipsoid=function(){var l,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:d,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:24,m=4<arguments.length&&void 0!==arguments[4]?arguments[4]:16,p=(this._assert3d("ellipsoid"),h.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(s,"|").concat(m));return this._renderer.geometryInHash(p)||((l=new h.default.Geometry(s,m,function(){for(var b=0;b<=this.detailY;b++)for(var T=b/this.detailY,F=Math.PI*T-Math.PI/2,k=Math.cos(F),A=Math.sin(F),P=0;P<=this.detailX;P++){var $=P/this.detailX,N=2*Math.PI*$,j=Math.cos(N);N=Math.sin(N),N=new h.default.Vector(k*N,A,k*j),this.vertices.push(N),this.vertexNormals.push(N),this.uvs.push($,T)}})).computeFaces(),s<=24&&m<=24?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(p,l)),this._renderer.drawBuffersScaled(p,d,u,c),this},h.default.prototype.torus=function(l,p,u,c){if(this._assert3d("torus"),h.default._validateParameters("torus",arguments),void 0===l)l=50;else if(!l)return;if(void 0===p)p=10;else if(!p)return;void 0===u&&(u=24),void 0===c&&(c=16);var s,m=(p/l).toPrecision(4);return p="torus|".concat(m,"|").concat(u,"|").concat(c),this._renderer.geometryInHash(p)||((s=new h.default.Geometry(u,c,function(){for(var b=0;b<=this.detailY;b++)for(var T=b/this.detailY,F=2*Math.PI*T,k=Math.cos(F),A=Math.sin(F),P=1+m*k,$=0;$<=this.detailX;$++){var j=$/this.detailX,N=2*Math.PI*j,B=Math.cos(N),I=(N=Math.sin(N),new h.default.Vector(P*B,P*N,m*A));B=new h.default.Vector(k*B,k*N,A),this.vertices.push(I),this.vertexNormals.push(B),this.uvs.push(j,T)}})).computeFaces(),u<=24&&c<=16?s._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,s)),this._renderer.drawBuffersScaled(p,l,l,l),this},h.default.RendererGL.prototype.point=function(l,d){var u=[];return u.push(new h.default.Vector(l,d,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)),this._drawPoints(u,this.immediateMode.buffers.point),this},h.default.RendererGL.prototype.triangle=function(p){var d=p[0],u=p[1],c=p[2],s=p[3],m=p[4],b=(p=p[5],this.geometryInHash("tri")||((b=new h.default.Geometry(1,1,function(){var k=[];k.push(new h.default.Vector(0,0,0)),k.push(new h.default.Vector(1,0,0)),k.push(new h.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=k,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),b.computeNormals(),this.createBuffers("tri",b)),this.uMVMatrix.copy());try{var T=Math.sign(d*s-c*u+c*p-m*s+m*u-d*p),F=new h.default.Matrix([c-d,s-u,0,0,m-d,p-u,0,0,0,0,T,0,d,u,0,1]).mult(this.uMVMatrix);this.uMVMatrix=F,this.drawBuffers("tri")}finally{this.uMVMatrix=b}return this},h.default.RendererGL.prototype.ellipse=function(l){this.arc(l[0],l[1],l[2],l[3],0,f.TWO_PI,f.OPEN,l[4])},h.default.RendererGL.prototype.arc=function(){var l,d=arguments.length<=0?void 0:arguments[0],u=arguments.length<=1?void 0:arguments[1],c=arguments.length<=2?void 0:arguments[2],s=arguments.length<=3?void 0:arguments[3],m=arguments.length<=4?void 0:arguments[4],p=arguments.length<=5?void 0:arguments[5],b=arguments.length<=6?void 0:arguments[6],T=(arguments.length<=7?void 0:arguments[7])||25,F=(Math.abs(p-m)>=f.TWO_PI?"".concat(k="ellipse","|"):"".concat(k="arc","|").concat(m,"|").concat(p,"|").concat(b,"|")).concat(T,"|"),k=(this.geometryInHash(F)||((l=new h.default.Geometry(T,1,function(){if(m.toFixed(10)!==p.toFixed(10)){b!==f.PIE&&void 0!==b||(this.vertices.push(new h.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var A=0;A<=T;A++){var $=A/T*(p-m)+m,P=.5+Math.cos($)/2;$=.5+Math.sin($)/2,this.vertices.push(new h.default.Vector(P,$,0)),this.uvs.push([P,$]),A<T-1&&(this.faces.push([0,A+1,A+2]),this.edges.push([A+1,A+2]))}switch(b){case f.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case f.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case f.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),T<=50?l._edgesToVertices(l):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(k," with more than 50 detail")),this.createBuffers(F,l)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([d,u,0]),this.uMVMatrix.scale(c,s,1),this.drawBuffers(F)}finally{this.uMVMatrix=k}return this},h.default.RendererGL.prototype.rect=function(l){var d=l[0],u=l[1],c=l[2],s=l[3];if(void 0===l[4]){var b=this._pInst._glAttributes.perPixelLighting,m=l[4]||(b?1:24),p=l[5]||(b?1:16),T=(b="rect|".concat(m,"|").concat(p),this.geometryInHash(b)||((T=new h.default.Geometry(m,p,function(){for(var J=0;J<=this.detailY;J++)for(var q=J/this.detailY,ae=0;ae<=this.detailX;ae++){var fe=ae/this.detailX,Se=new h.default.Vector(fe,q,0);this.vertices.push(Se),this.uvs.push(fe,q)}0<m&&0<p&&(this.edges=[[0,m],[m,(m+1)*(p+1)-1],[(m+1)*(p+1)-1,(m+1)*p],[(m+1)*p,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(b,T)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([d,u,0]),this.uMVMatrix.scale(c,s,1),this.drawBuffers(b)}finally{this.uMVMatrix=T}}else{b=l[4],T=void 0===l[5]?b:l[5];var F=void 0===l[6]?T:l[6],N=(l=void 0===l[7]?F:l[7],c),k=s,A=((N+=d)<d&&($=d,d=N,N=$),(k+=u)<u&&($=u,u=k,k=$),($=Math.min((N-d)/2,(k-u)/2))<b&&(b=$),$<T&&(T=$),$<F&&(F=$),$<l&&(l=$),d),P=u,$=N,j=(d=k,this.beginShape(),0!==T?(this.vertex($-T,P),this.quadraticVertex($,P,$,P+T)):this.vertex($,P),0!==F?(this.vertex($,d-F),this.quadraticVertex($,d,$-F,d)):this.vertex($,d),0!==l?(this.vertex(A+l,d),this.quadraticVertex(A,d,A,d-l)):this.vertex(A,d),0!==b?(this.vertex(A,P+b),this.quadraticVertex(A,P,A+b,P)):this.vertex(A,P),!(this.immediateMode.geometry.uvs.length=0));u=!1,N=void 0;try{for(var I,B=this.immediateMode.geometry.vertices[Symbol.iterator]();!(j=(I=B.next()).done);j=!0){var z=I.value;this.immediateMode.geometry.uvs.push((z.x-A)/c,(z.y-P)/s)}}catch(K){u=!0,N=K}finally{try{j||null==B.return||B.return()}finally{if(u)throw N}}this.endShape(f.CLOSE)}return this},h.default.RendererGL.prototype.quad=function(l,d,u,c,s,m,p,b,T,F,k,A){var P=12<arguments.length&&void 0!==arguments[12]?arguments[12]:2,$=13<arguments.length&&void 0!==arguments[13]?arguments[13]:2,j="quad|".concat(l,"|").concat(d,"|").concat(u,"|").concat(c,"|").concat(s,"|").concat(m,"|").concat(p,"|").concat(b,"|").concat(T,"|").concat(F,"|").concat(k,"|").concat(A,"|").concat(P,"|").concat($);if(!this.geometryInHash(j)){var N=new h.default.Geometry(P,$,function(){for(var ae=1/(this.detailX-1),fe=1/(this.detailY-1),Se=0;Se<this.detailY;Se++)for(var K=0;K<this.detailX;K++){var R=K*ae,se=Se*fe;this.vertices.push(new h.default.Vector((1-R)*((1-se)*l+se*F)+R*((1-se)*c+se*p),(1-R)*((1-se)*d+se*k)+R*((1-se)*s+se*b),(1-R)*((1-se)*u+se*A)+R*((1-se)*m+se*T))),this.uvs.push([R,se])}});N.faces=[];for(var I=0;I<$-1;I++)for(var B=0;B<P-1;B++){var z=B+I*P,W=B+1+(I+1)*P,ne=B+(I+1)*P;N.faces.push([z,B+1+I*P,W]),N.faces.push([z,W,ne])}N.computeNormals();for(var J=[N.edges.length=0,2,3,1],q=0;q<J.length;q++)N.edges.push([J[q],J[(q+1)%J.length]]);N._edgesToVertices(),this.createBuffers(j,N)}return this.drawBuffers(j),this},h.default.RendererGL.prototype.bezier=function(l,d,u,c,s,m,p,b,T,F,k,A){8===arguments.length&&(k=b,F=p,b=m,p=s,s=c,c=u,u=m=T=A=0);var P=this._pInst._bezierDetail||20;this.beginShape();for(var $=0;$<=P;$++){var j=Math.pow(1-$/P,3),N=$/P*3*Math.pow(1-$/P,2),I=3*Math.pow($/P,2)*(1-$/P),B=Math.pow($/P,3);this.vertex(l*j+c*N+p*I+F*B,d*j+s*N+b*I+k*B,u*j+m*N+T*I+A*B)}return this.endShape(),this},h.default.RendererGL.prototype.curve=function(l,d,u,c,s,m,p,b,T,F,k,A){8===arguments.length&&(F=p,k=b,p=s,b=c,s=c=u,u=m=T=A=0);var P=this._pInst._curveDetail;this.beginShape();for(var $=0;$<=P;$++){var j=.5*Math.pow($/P,3),N=.5*Math.pow($/P,2),I=$/P*.5;this.vertex(j*(3*c-l-3*p+F)+N*(2*l-5*c+4*p-F)+I*(-l+p)+2*c*.5,j*(3*s-d-3*b+k)+N*(2*d-5*s+4*b-k)+I*(-d+b)+2*s*.5,j*(3*m-u-3*T+A)+N*(2*u-5*m+4*T-A)+I*(-u+T)+2*m*.5)}return this.endShape(),this},h.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(f.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(f.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},h.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var l,d,u,c,s,m,p=[],b=[],T=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var F=1/this._lutBezierDetail,k=0,A=1,P=0;k<1;){if(m=parseFloat(k.toFixed(6)),this._lookUpTableBezier[P]=this._bezierCoefficients(m),A.toFixed(6)===F.toFixed(6)){m=parseFloat(A.toFixed(6))+parseFloat(k.toFixed(6)),++P,this._lookUpTableBezier[P]=this._bezierCoefficients(m);break}k+=F,A-=F,++P}}for(var $=this._lookUpTableBezier.length,j=[],N=0;N<4;N++)j.push([]);j[0]=this.immediateMode.geometry.vertexColors.slice(-4),j[3]=this.curFillColor.slice();var I=[];for(N=0;N<4;N++)I.push([]);if(I[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),I[3]=this.curStrokeColor.slice(),6===T){this.isBezier=!0,p=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],b=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var B=Math.hypot(p[0]-p[1],b[0]-b[1]),W=Math.hypot(p[1]-p[2],b[1]-b[2]),z=Math.hypot(p[2]-p[3],b[2]-b[3]);for(B/=W=B+W+z,z/=W,s=0;s<4;s++)j[1].push(j[0][s]*(1-B)+j[3][s]*B),j[2].push(j[0][s]*z+j[3][s]*(1-z)),I[1].push(I[0][s]*(1-B)+I[3][s]*B),I[2].push(I[0][s]*z+I[3][s]*(1-z));for(c=0;c<$;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=l=d=0;N<4;N++){for(s=0;s<4;s++)this.curFillColor[s]+=this._lookUpTableBezier[c][N]*j[N][s],this.curStrokeColor[s]+=this._lookUpTableBezier[c][N]*I[N][s];l+=p[N]*this._lookUpTableBezier[c][N],d+=b[N]*this._lookUpTableBezier[c][N]}this.vertex(l,d)}this.curFillColor=j[3],this.curStrokeColor=I[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===T){this.isBezier=!0,p=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],b=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var ne=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],J=Math.hypot(p[0]-p[1],b[0]-b[1],ne[0]-ne[1]),q=(W=Math.hypot(p[1]-p[2],b[1]-b[2],ne[1]-ne[2]),Math.hypot(p[2]-p[3],b[2]-b[3],ne[2]-ne[3]));for(J/=T=J+W+q,q/=T,s=0;s<4;s++)j[1].push(j[0][s]*(1-J)+j[3][s]*J),j[2].push(j[0][s]*q+j[3][s]*(1-q)),I[1].push(I[0][s]*(1-J)+I[3][s]*J),I[2].push(I[0][s]*q+I[3][s]*(1-q));for(c=0;c<$;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=l=d=u=0;N<4;N++){for(s=0;s<4;s++)this.curFillColor[s]+=this._lookUpTableBezier[c][N]*j[N][s],this.curStrokeColor[s]+=this._lookUpTableBezier[c][N]*I[N][s];l+=p[N]*this._lookUpTableBezier[c][N],d+=b[N]*this._lookUpTableBezier[c][N],u+=ne[N]*this._lookUpTableBezier[c][N]}this.vertex(l,d,u)}this.curFillColor=j[3],this.curStrokeColor=I[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},h.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var l,d,u,c,s,m,p=[],b=[],T=arguments.length;if(0===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var F=1/this._lutQuadraticDetail,k=0,A=1,P=0;k<1;){if(m=parseFloat(k.toFixed(6)),this._lookUpTableQuadratic[P]=this._quadraticCoefficients(m),A.toFixed(6)===F.toFixed(6)){m=parseFloat(A.toFixed(6))+parseFloat(k.toFixed(6)),++P,this._lookUpTableQuadratic[P]=this._quadraticCoefficients(m);break}k+=F,A-=F,++P}}for(var $=this._lookUpTableQuadratic.length,j=[],N=0;N<3;N++)j.push([]);j[0]=this.immediateMode.geometry.vertexColors.slice(-4),j[2]=this.curFillColor.slice();var I=[];for(N=0;N<3;N++)I.push([]);if(I[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),I[2]=this.curStrokeColor.slice(),4===T){this.isQuadratic=!0,p=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],b=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var B=Math.hypot(p[0]-p[1],b[0]-b[1]);for(B/=B+Math.hypot(p[1]-p[2],b[1]-b[2]),s=0;s<4;s++)j[1].push(j[0][s]*(1-B)+j[2][s]*B),I[1].push(I[0][s]*(1-B)+I[2][s]*B);for(c=0;c<$;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=l=d=0;N<3;N++){for(s=0;s<4;s++)this.curFillColor[s]+=this._lookUpTableQuadratic[c][N]*j[N][s],this.curStrokeColor[s]+=this._lookUpTableQuadratic[c][N]*I[N][s];l+=p[N]*this._lookUpTableQuadratic[c][N],d+=b[N]*this._lookUpTableQuadratic[c][N]}this.vertex(l,d)}this.curFillColor=j[2],this.curStrokeColor=I[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===T){this.isQuadratic=!0,p=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],b=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var z=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],W=Math.hypot(p[0]-p[1],b[0]-b[1],z[0]-z[1]);for(W/=W+Math.hypot(p[1]-p[2],b[1]-b[2],z[1]-z[2]),s=0;s<4;s++)j[1].push(j[0][s]*(1-W)+j[2][s]*W),I[1].push(I[0][s]*(1-W)+I[2][s]*W);for(c=0;c<$;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=l=d=u=0;N<3;N++){for(s=0;s<4;s++)this.curFillColor[s]+=this._lookUpTableQuadratic[c][N]*j[N][s],this.curStrokeColor[s]+=this._lookUpTableQuadratic[c][N]*I[N][s];l+=p[N]*this._lookUpTableQuadratic[c][N],d+=b[N]*this._lookUpTableQuadratic[c][N],u+=z[N]*this._lookUpTableQuadratic[c][N]}this.vertex(l,d,u)}this.curFillColor=j[2],this.curStrokeColor=I[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},h.default.RendererGL.prototype.curveVertex=function(){var l,s,m,p=[],b=[],T=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var F=1/this._lutBezierDetail,k=0,A=1,P=0;k<1;){if(m=parseFloat(k.toFixed(6)),this._lookUpTableBezier[P]=this._bezierCoefficients(m),A.toFixed(6)===F.toFixed(6)){m=parseFloat(A.toFixed(6))+parseFloat(k.toFixed(6)),++P,this._lookUpTableBezier[P]=this._bezierCoefficients(m);break}k+=F,A-=F,++P}}var $=this._lookUpTableBezier.length;if(2===T){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,p=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),b=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),s=0;s<$;s++)this.vertex(p[0]*this._lookUpTableBezier[s][0]+p[1]*this._lookUpTableBezier[s][1]+p[2]*this._lookUpTableBezier[s][2]+p[3]*this._lookUpTableBezier[s][3],b[0]*this._lookUpTableBezier[s][0]+b[1]*this._lookUpTableBezier[s][1]+b[2]*this._lookUpTableBezier[s][2]+b[3]*this._lookUpTableBezier[s][3]);for(s=0;s<T;s++)this.immediateMode._curveVertex.shift()}}else if(3===T&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,p=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),b=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),l=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),s=0;s<$;s++)this.vertex(p[0]*this._lookUpTableBezier[s][0]+p[1]*this._lookUpTableBezier[s][1]+p[2]*this._lookUpTableBezier[s][2]+p[3]*this._lookUpTableBezier[s][3],b[0]*this._lookUpTableBezier[s][0]+b[1]*this._lookUpTableBezier[s][1]+b[2]*this._lookUpTableBezier[s][2]+b[3]*this._lookUpTableBezier[s][3],l[0]*this._lookUpTableBezier[s][0]+l[1]*this._lookUpTableBezier[s][1]+l[2]*this._lookUpTableBezier[s][2]+l[3]*this._lookUpTableBezier[s][3]);for(s=0;s<T;s++)this.immediateMode._curveVertex.shift()}},h.default.RendererGL.prototype.image=function(l,A,u,P,s,m,p,b,T){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(l),this._pInst.textureMode(f.NORMAL);var F=0,k=(A<=l.width&&(F=A/l.width),1);A+P<=l.width&&(k=(A+P)/l.width),A=0,u<=l.height&&(A=u/l.height),P=1,u+s<=l.height&&(P=(u+s)/l.height),this.beginShape(),this.vertex(m,p,0,F,A),this.vertex(m+b,p,0,k,A),this.vertex(m+b,p+T,0,k,P),this.vertex(m,p+T,0,F,P),this.endShape(f.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(f.REMOVE)};var a=h.default;C.default=a},{"../core/constants":269,"../core/main":280,"./p5.Geometry":332,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.math.sign":177,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],324:[function(r,H,C){"use strict";function y(d){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(u){return y(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(d)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.map"),r("core-js/modules/es.object.assign"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(l=r("../core/main"))&&l.__esModule?l:{default:l},f=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var u=E();if(u&&u.has(d))return u.get(d);var c,s={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in d){var p;Object.prototype.hasOwnProperty.call(d,c)&&((p=m?Object.getOwnPropertyDescriptor(d,c):null)&&(p.get||p.set)?Object.defineProperty(s,c,p):s[c]=d[c])}return s.default=d,u&&u.set(d,s),s}(r("../core/constants"));function E(){var d;return"function"!=typeof WeakMap?null:(E=function(){return d},d=new WeakMap)}function w(d){return function(u){if(Array.isArray(u)){for(var c=0,s=new Array(u.length);c<u.length;c++)s[c]=u[c];return s}}(d)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(d,u){for(var c=0;c<u.length;c++){var s=u[c];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(d,s.key,s)}}var l=function(){function d(m){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");(this.renderer=m)._pInst.push(),this.identityMatrix=new h.default.Matrix,m.uMVMatrix=new h.default.Matrix,this.geometry=new h.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(d.nextGeometryId),d.nextGeometryId++,this.hasTransform=!1}var u,c;return u=d,(c=[{key:"transformVertices",value:function(m){var p=this;return this.hasTransform?m.map(function(b){return p.renderer.uMVMatrix.multiplyPoint(b)}):m}},{key:"transformNormals",value:function(m){var p=this;return this.hasTransform?m.map(function(b){return p.renderer.uNMatrix.multiplyVec3(b)}):m}},{key:"addGeometry",value:function(m){for(var p,b=this,T=(this.hasTransform=!this.renderer.uMVMatrix.mat4.every(function(k,A){return k===b.identityMatrix.mat4[A]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uMVMatrix),this.geometry.vertices.length),F=((p=this.geometry.vertices).push.apply(p,w(this.transformVertices(m.vertices))),(p=this.geometry.vertexNormals).push.apply(p,w(this.transformNormals(m.vertexNormals))),(p=this.geometry.uvs).push.apply(p,w(m.uvs)),this.renderer._doFill&&(p=this.geometry.faces).push.apply(p,w(m.faces.map(function(k){return k.map(function(A){return A+T})}))),this.renderer._doStroke&&(p=this.geometry.edges).push.apply(p,w(m.edges.map(function(k){return k.map(function(A){return A+T})}))),w(m.vertexColors));F.length<4*m.vertices.length;)F.push.apply(F,w(this.renderer.curFillColor));(p=this.geometry.vertexColors).push.apply(p,w(F))}},{key:"addImmediate",value:function(){var m=this.renderer.immediateMode.geometry,p=this.renderer.immediateMode.shapeMode,b=[];if(this.renderer._doFill)if(p===f.TRIANGLE_STRIP||p===f.QUAD_STRIP)for(var T=2;T<m.vertices.length;T++)b.push(T%2==0?[T,T-1,T-2]:[T,T-2,T-1]);else if(p===f.TRIANGLE_FAN)for(var F=2;F<m.vertices.length;F++)b.push([0,F-1,F]);else for(var k=0;k<m.vertices.length;k+=3)b.push([k,k+1,k+2]);this.addGeometry(Object.assign({},m,{faces:b}))}},{key:"addRetained",value:function(m){this.addGeometry(m.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&a(u.prototype,c),d}();l.nextGeometryId=0,C.default=l},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.every":154,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],325:[function(r,H,C){"use strict";function y(a){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var _=(w=r("../core/main"))&&w.__esModule?w:{default:w},h=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==E(a)&&"function"!=typeof a)return{default:a};var l=f();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(r("../core/constants"));function f(){var a;return"function"!=typeof WeakMap?null:(f=function(){return a},a=new WeakMap)}function E(a){return(E="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(l){return y(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}_.default.prototype.orbitControl=function(a,l,d,T){var c=this,s=(this._assert3d("orbitControl"),_.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);void 0===a&&(a=1),void 0===l&&(l=a),void 0===d&&(d=1),"object"!==E(T)&&(T={}),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var k=T.disableTouchActions;!0===this.touchActionsDisabled||void 0!==k&&!k||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0)),T=void 0!==(k=T.freeRotation)&&k;var m,p,b,F=[],A=(this.touches.forEach(function(B){c._renderer.prevTouches.forEach(function(z){B.id===z.id&&F.push(z={x:B.x,y:B.y,px:z.x,py:z.y})})}),this._renderer.prevTouches=this.touches,k=0,0),P=0,$=0,j=0,N=this.height<this.width?this.height:this.width,I=!1;return 0<F.length?(I=0<F[0].x&&F[0].x<this.width&&0<F[0].y&&F[0].y<this.height,1===F.length?(A=-a*((m=F[0]).x-m.px)/N,P=l*(m.y-m.py)/N):(m=F[0],p=F[1],k=-(Math.hypot(m.x-p.x,m.y-p.y)-Math.hypot(m.px-p.px,m.py-p.py))*d*4e-4,$=.5*(m.x+p.x)-.5*(m.px+p.px),j=.5*(m.y+p.y)-.5*(m.py+p.py)),0<this.touches.length?I&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(I=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,0!==this._mouseWheelDeltaY?(k=Math.sign(this._mouseWheelDeltaY)*d,k*=.01,this._mouseWheelDeltaY=0,I&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(A=-a*this.movedX/N,P=l*this.movedY/N):this.mouseButton===this.RIGHT&&($=this.movedX,j=this.movedY*s.yScale),I&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),0!==k&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=k),.001<Math.abs(this._renderer.zoomVelocity)?(T?s._orbitFree(0,0,this._renderer.zoomVelocity):s._orbit(0,0,this._renderer.zoomVelocity),0!==s.projMatrix.mat4[15]&&(s.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),s.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=s.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=s.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,0===A&&0===P||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*A,.6*P),1e-6<this._renderer.rotateVelocity.magSq()?(T?s._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):s._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),0===$&&0===j||!this._renderer.executeRotateAndMove||this._renderer.moveVelocity.add(.15*(m=2*$/this.width),.15*(p=2*-j/this.height)),1e-6<this._renderer.moveVelocity.magSq()?(d=s._getLocalAxes(),a=s.eyeX-s.centerX,l=s.eyeY-s.centerY,N=s.eyeZ-s.centerZ,I=Math.sqrt(a*a+l*l+N*N),k=new _.default.Vector(s.centerX,s.centerY,s.centerZ),k=s.cameraMatrix.multiplyPoint(k),(k=this._renderer.uPMatrix.multiplyAndNormalizePoint(k)).x-=this._renderer.moveVelocity.x,k.y-=this._renderer.moveVelocity.y,P=0===(A=this._renderer.uPMatrix.mat4)[15]?(b=(A[8]+k.x)/A[0]*I,(A[9]+k.y)/A[5]*I):(b=(k.x-A[12])/A[0],(k.y-A[13])/A[5]),s.setPosition(s.eyeX+b*d.x[0]+P*d.y[0],s.eyeY+b*d.x[1]+P*d.y[1],s.eyeZ+b*d.x[2]+P*d.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},_.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var a=arguments.length,l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];_.default._validateParameters("debugMode",l);for(var u=this._registeredMethods.post.length-1;0<=u;u--)this._registeredMethods.post[u].toString()!==this._grid().toString()&&this._registeredMethods.post[u].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(u,1);l[0]===h.GRID?this.registerMethod("post",this._grid(l[1],l[2],l[3],l[4],l[5])):l[0]===h.AXES?this.registerMethod("post",this._axesIcon(l[1],l[2],l[3],l[4])):(this.registerMethod("post",this._grid(l[0],l[1],l[2],l[3],l[4])),this.registerMethod("post",this._axesIcon(l[5],l[6],l[7],l[8])))},_.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var a=this._registeredMethods.post.length-1;0<=a;a--)this._registeredMethods.post[a].toString()!==this._grid().toString()&&this._registeredMethods.post[a].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(a,1)},_.default.prototype._grid=function(a,l,d,u,c){void 0===a&&(a=this.width/2),void 0===l&&(l=Math.round(a/30)<4?4:Math.round(a/30)),void 0===d&&(d=0),void 0===u&&(u=0),void 0===c&&(c=0);var s=a/l,m=a/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix);for(var p=0;p<=l;p++)this.beginShape(this.LINES),this.vertex(-m+d,u,p*s-m+c),this.vertex(m+d,u,p*s-m+c),this.endShape();for(var b=0;b<=l;b++)this.beginShape(this.LINES),this.vertex(b*s-m+d,u,-m+c),this.vertex(b*s-m+d,u,m+c),this.endShape();this.pop()}},_.default.prototype._axesIcon=function(a,l,d,u){return void 0===a&&(a=40<this.width/20?this.width/20:40),void 0===l&&(l=-this.width/4),void 0===d&&(d=l),void 0===u&&(u=l),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(l,d,u),this.vertex(l+a,d,u),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(l,d,u),this.vertex(l,d+a,u),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(l,d,u),this.vertex(l,d,u+a),this.endShape(),this.pop()}};var w=_.default;C.default=w},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.splice":170,"core-js/modules/es.math.hypot":175,"core-js/modules/es.math.sign":177,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],326:[function(r,H,C){"use strict";r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.filter"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(r=r("../core/main"))&&r.__esModule?r:{default:r};y.default.prototype.ambientLight=function(_,h,f,E){this._assert3d("ambientLight"),y.default._validateParameters("ambientLight",arguments);var w=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(w._array[0],w._array[1],w._array[2]),this._renderer._enableLighting=!0,this},y.default.prototype.specularColor=function(_,h,f){this._assert3d("specularColor"),y.default._validateParameters("specularColor",arguments);var E=this.color.apply(this,arguments);return this._renderer.specularColors=[E._array[0],E._array[1],E._array[2]],this},y.default.prototype.directionalLight=function(_,c,u,E,w,a){var l,d;return this._assert3d("directionalLight"),y.default._validateParameters("directionalLight",arguments),_=_ instanceof y.default.Color?_:this.color(_,c,u),u="number"==typeof(c=arguments[arguments.length-1])?(l=arguments[arguments.length-3],d=arguments[arguments.length-2],arguments[arguments.length-1]):(l=c.x,d=c.y,c.z),c=Math.sqrt(l*l+d*d+u*u),this._renderer.directionalLightDirections.push(l/c,d/c,u/c),this._renderer.directionalLightDiffuseColors.push(_._array[0],_._array[1],_._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},y.default.prototype.pointLight=function(_,u,c,E,w,a){var l,d;return this._assert3d("pointLight"),y.default._validateParameters("pointLight",arguments),_=_ instanceof y.default.Color?_:this.color(_,u,c),c="number"==typeof(u=arguments[arguments.length-1])?(l=arguments[arguments.length-3],d=arguments[arguments.length-2],arguments[arguments.length-1]):(l=u.x,d=u.y,u.z),this._renderer.pointLightPositions.push(l,d,c),this._renderer.pointLightDiffuseColors.push(_._array[0],_._array[1],_._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},y.default.prototype.imageLight=function(_){this._renderer.activeImageLight=_,this._renderer._enableLighting=!0},y.default.prototype.panorama=function(_){this.filter(this._renderer._getSphereMapping(_))},y.default.prototype.lights=function(){this._assert3d("lights");var _=this.color("rgb(128,128,128)");return this.ambientLight(_),this.directionalLight(_,0,0,-1),this},y.default.prototype.lightFalloff=function(_,h,f){return this._assert3d("lightFalloff"),y.default._validateParameters("lightFalloff",arguments),_<0&&(_=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),h<0&&(h=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),f<0&&(f=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===_&&0===h&&0===f&&(_=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=_,this._renderer.linearAttenuation=h,this._renderer.quadraticAttenuation=f,this},y.default.prototype.spotLight=function(_,h,f,E,w,a,l,d,u,c,s){this._assert3d("spotLight"),y.default._validateParameters("spotLight",arguments);var m,p,b,T=arguments.length;switch(T){case 11:case 10:m=this.color(_,h,f),p=new y.default.Vector(E,w,a),b=new y.default.Vector(l,d,u);break;case 9:_ instanceof y.default.Color?(m=_,p=new y.default.Vector(h,f,E),b=new y.default.Vector(w,a,l),c=d,s=u):E instanceof y.default.Vector?(m=this.color(_,h,f),p=E,b=new y.default.Vector(w,a,l),c=d,s=u):l instanceof y.default.Vector?(m=this.color(_,h,f),p=new y.default.Vector(E,w,a),b=l,c=d,s=u):(m=this.color(_,h,f),p=new y.default.Vector(E,w,a),b=new y.default.Vector(l,d,u));break;case 8:b=_ instanceof y.default.Color?(m=_,p=new y.default.Vector(h,f,E),new y.default.Vector(w,a,l)):E instanceof y.default.Vector?(m=this.color(_,h,f),p=E,new y.default.Vector(w,a,l)):(m=this.color(_,h,f),p=new y.default.Vector(E,w,a),l),c=d;break;case 7:_ instanceof y.default.Color&&h instanceof y.default.Vector?(m=_,p=h,b=new y.default.Vector(f,E,w),c=a,s=l):_ instanceof y.default.Color&&w instanceof y.default.Vector?(m=_,p=new y.default.Vector(h,f,E),b=w,c=a,s=l):E instanceof y.default.Vector&&w instanceof y.default.Vector?(m=this.color(_,h,f),p=E,b=w,c=a,s=l):b=_ instanceof y.default.Color?(m=_,p=new y.default.Vector(h,f,E),new y.default.Vector(w,a,l)):E instanceof y.default.Vector?(m=this.color(_,h,f),p=E,new y.default.Vector(w,a,l)):(m=this.color(_,h,f),p=new y.default.Vector(E,w,a),l);break;case 6:E instanceof y.default.Vector&&w instanceof y.default.Vector?(m=this.color(_,h,f),p=E,b=w,c=a):_ instanceof y.default.Color&&w instanceof y.default.Vector?(m=_,p=new y.default.Vector(h,f,E),b=w,c=a):_ instanceof y.default.Color&&h instanceof y.default.Vector&&(m=_,p=h,b=new y.default.Vector(f,E,w),c=a);break;case 5:_ instanceof y.default.Color&&h instanceof y.default.Vector&&f instanceof y.default.Vector?(m=_,p=h,b=f,c=E,s=w):E instanceof y.default.Vector&&w instanceof y.default.Vector?(m=this.color(_,h,f),p=E,b=w):_ instanceof y.default.Color&&w instanceof y.default.Vector?(m=_,p=new y.default.Vector(h,f,E),b=w):_ instanceof y.default.Color&&h instanceof y.default.Vector&&(m=_,p=h,b=new y.default.Vector(f,E,w));break;case 4:m=_,p=h,b=f,c=E;break;case 3:m=_,p=h,b=f;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(T<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(m._array[0],m._array[1],m._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(p.x,p.y,p.z),b.normalize(),this._renderer.spotLightDirections.push(b.x,b.y,b.z),void 0===c&&(c=Math.PI/3),void 0!==s&&s<1?(s=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===s&&(s=100),c=this._renderer._pInst._toRadians(c),this._renderer.spotLightAngle.push(Math.cos(c)),this._renderer.spotLightConc.push(s),this._renderer._enableLighting=!0,this},y.default.prototype.noLights=function(){this._assert3d("noLights");for(var _=arguments.length,h=new Array(_),f=0;f<_;f++)h[f]=arguments[f];return y.default._validateParameters("noLights",h),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},C.default=r=y.default},{"../core/main":280,"core-js/modules/es.array.filter":156}],327:[function(r,H,C){"use strict";function y(E){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(E)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var _=(f=r("../core/main"))&&f.__esModule?f:{default:f};function h(E){return(h="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(w){return y(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":y(w)})(E)}r("./p5.Geometry"),_.default.prototype.loadModel=function(E,w){_.default._validateParameters("loadModel",arguments);var a,l,d=!1,u=!1,c=!1,s=E.slice(-4),m=(w&&"object"===h(w)?(d=w.normalize||!1,a=w.successCallback,l=w.failureCallback,s=w.fileType||s,u=w.flipU||!1,c=w.flipV||!1):"boolean"==typeof w?(d=w,a=arguments[2],l=arguments[3],void 0!==arguments[4]&&(s=arguments[4])):(a="function"==typeof w?w:void 0,l=arguments[2],void 0!==arguments[3]&&(s=arguments[3])),new _.default.Geometry),p=(m.gid="".concat(E,"|").concat(d),this);return s.match(/\.stl$/i)?this.httpDo(E,"GET","arrayBuffer",function(b){(function(T,F){if(function(k){for(var A=new DataView(k),P=[115,111,108,105,100],$=0;$<5;$++)if(function(j,N,I){for(var B=0,z=j.length;B<z;B++)if(j[B]!==N.getUint8(I+B,!1))return;return 1}(P,A,$))return;return 1}(F))!function(k,A){for(var P,$,j,N,I,B,z,W=new DataView(A),ne=W.getUint32(80,!0),J=!1,q=0;q<70;q++)1129270351===W.getUint32(q,!1)&&82===W.getUint8(q+4)&&61===W.getUint8(q+5)&&(J=!0,N=[],I=W.getUint8(q+6)/255,B=W.getUint8(q+7)/255,z=W.getUint8(q+8)/255);for(var ae=0;ae<ne;ae++){for(var fe,Se=84+50*ae,K=W.getFloat32(Se,!0),R=W.getFloat32(4+Se,!0),se=W.getFloat32(8+Se,!0),ge=(J&&(j=32768&(fe=W.getUint16(48+Se,!0))?(P=I,$=B,z):(P=(31&fe)/31,$=(fe>>5&31)/31,(fe>>10&31)/31)),new _.default.Vector(K,R,se)),De=1;De<=3;De++){var Le=new _.default.Vector(W.getFloat32(Le=Se+12*De,!0),W.getFloat32(4+Le,!0),W.getFloat32(8+Le,!0));k.vertices.push(Le),k.vertexNormals.push(ge),J&&N.push(P,$,j)}k.faces.push([3*ae,3*ae+1,3*ae+2]),k.uvs.push([0,0],[0,0],[0,0])}}(T,F);else{if(F=new DataView(F),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");!function(k,A){for(var P,$,j="",N=[],I=0;I<A.length;++I){for(var B=A[I].trim(),z=B.split(" "),W=0;W<z.length;++W)""===z[W]&&z.splice(W,1);if(0!==z.length)switch(j){case"":if("solid"!==z[0])return console.error(B),console.error('Invalid state "'.concat(z[0],'", should be "solid"'));j="solid";break;case"solid":if("facet"!==z[0]||"normal"!==z[1])return console.error(B),console.error('Invalid state "'.concat(z[0],'", should be "facet normal"'));P=new _.default.Vector(parseFloat(z[2]),parseFloat(z[3]),parseFloat(z[4])),k.vertexNormals.push(P,P,P),j="facet normal";break;case"facet normal":if("outer"!==z[0]||"loop"!==z[1])return console.error(B),console.error('Invalid state "'.concat(z[0],'", should be "outer loop"'));j="vertex";break;case"vertex":if("vertex"===z[0])$=new _.default.Vector(parseFloat(z[1]),parseFloat(z[2]),parseFloat(z[3])),k.vertices.push($),k.uvs.push([0,0]),N.push(k.vertices.indexOf($));else{if("endloop"!==z[0])return console.error(B),console.error('Invalid state "'.concat(z[0],'", should be "vertex" or "endloop"'));k.faces.push(N),N=[],j="endloop"}break;case"endloop":if("endfacet"!==z[0])return console.error(B),console.error('Invalid state "'.concat(z[0],'", should be "endfacet"'));j="endfacet";break;case"endfacet":if("endsolid"!==z[0]){if("facet"!==z[0]||"normal"!==z[1])return console.error(B),console.error('Invalid state "'.concat(z[0],'", should be "endsolid" or "facet normal"'));P=new _.default.Vector(parseFloat(z[2]),parseFloat(z[3]),parseFloat(z[4])),k.vertexNormals.push(P,P,P),j="facet normal"}break;default:console.error('Invalid state "'.concat(j,'"'))}}}(T,F=new TextDecoder("utf-8").decode(F).split("\n"))}})(m,b),d&&m.normalize(),u&&m.flipU(),c&&m.flipV(),p._decrementPreload(),"function"==typeof a&&a(m)},l):s.match(/\.obj$/i)?this.loadStrings(E,function(b){for(var T=m,F=b,k={v:[],vt:[],vn:[]},A={},P=0;P<F.length;++P){var $=F[P].trim().split(/\b\s+/);if(0<$.length)if("v"===$[0]||"vn"===$[0]){var j=new _.default.Vector(parseFloat($[1]),parseFloat($[2]),parseFloat($[3]));k[$[0]].push(j)}else if("vt"===$[0])j=[parseFloat($[1]),1-parseFloat($[2])],k[$[0]].push(j);else if("f"===$[0])for(var N=3;N<$.length;++N){for(var I=[],B=[1,N-1,N],z=0;z<B.length;++z){var W=$[B[z]],ne=0;if(void 0!==A[W])ne=A[W];else{for(var J=W.split("/"),q=0;q<J.length;q++)J[q]=parseInt(J[q])-1;ne=A[W]=T.vertices.length,T.vertices.push(k.v[J[0]].copy()),T.uvs.push(k.vt[J[1]]?k.vt[J[1]].slice():[0,0]),k.vn[J[2]]&&T.vertexNormals.push(k.vn[J[2]].copy())}I.push(ne)}I[0]!==I[1]&&I[0]!==I[2]&&I[1]!==I[2]&&T.faces.push(I)}}0===T.vertexNormals.length&&T.computeNormals(),d&&m.normalize(),u&&m.flipU(),c&&m.flipV(),p._decrementPreload(),"function"==typeof a&&a(m)},l):(_.default._friendlyFileLoadError(3,E),l?l():_.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),m},_.default.prototype.model=function(E){this._assert3d("model"),_.default._validateParameters("model",arguments),0<E.vertices.length&&(this._renderer.geometryInHash(E.gid)||(0===E.edges.length&&E._makeTriangleEdges(),E._edgesToVertices(),this._renderer.createBuffers(E.gid,E)),this._renderer.drawBuffers(E.gid))};var f=_.default;C.default=f},{"../core/main":280,"./p5.Geometry":332,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],328:[function(r,H,C){"use strict";function y(a){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(l){return y(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(w=r("../core/main"))&&w.__esModule?w:{default:w},f=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var l=E();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(r("../core/constants"));function E(){var a;return"function"!=typeof WeakMap?null:(E=function(){return a},a=new WeakMap)}r("./p5.Texture"),h.default.prototype.loadShader=function(a,l,d,u){function c(){m._decrementPreload(),d&&d(s)}h.default._validateParameters("loadShader",arguments),u=u||console.error;var s=new h.default.Shader,m=this,p=!1,b=!1;return this.loadStrings(a,function(T){s._vertSrc=T.join("\n"),b=!0,p&&c()},u),this.loadStrings(l,function(T){s._fragSrc=T.join("\n"),p=!0,b&&c()},u),s},h.default.prototype.createShader=function(a,l){return h.default._validateParameters("createShader",arguments),new h.default.Shader(this._renderer,a,l)},h.default.prototype.createFilterShader=function(a){h.default._validateParameters("createFilterShader",arguments);var l=a.includes("#version 300 es")?"#version 300 es\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    in vec3 aPosition;\n    in vec2 aTexCoord;\n    out vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ":"\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    attribute vec3 aPosition;\n    // texcoords only come from p5 to vertex shader\n    // so pass texcoords on to the fragment shader in a varying variable\n    attribute vec2 aTexCoord;\n    varying vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ";return(l=new h.default.Shader(this._renderer,l,a)).ensureCompiledOnContext(this._renderer.GL?this:this._renderer.getFilterGraphicsLayer()),l},h.default.prototype.shader=function(a){return this._assert3d("shader"),h.default._validateParameters("shader",arguments),a.ensureCompiledOnContext(this),a.isStrokeShader()?this._renderer.userStrokeShader=a:(this._renderer.userFillShader=a,this._renderer._useNormalMaterial=!1),this},h.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},h.default.prototype.texture=function(a){return this._assert3d("texture"),h.default._validateParameters("texture",arguments),a.gifProperties&&a._animateGif(this),this._renderer.drawMode=f.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=a,this._renderer._setProperty("_doFill",!0),this},h.default.prototype.textureMode=function(a){a!==f.IMAGE&&a!==f.NORMAL?console.warn("You tried to set ".concat(a," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=a},h.default.prototype.textureWrap=function(a){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,d=(this._renderer.textureWrapX=a,this._renderer.textureWrapY=l,!0),u=!1,c=void 0;try{for(var s,m=this._renderer.textures.values()[Symbol.iterator]();!(d=(s=m.next()).done);d=!0)s.value.setWrapMode(a,l)}catch(p){u=!0,c=p}finally{try{d||null==m.return||m.return()}finally{if(u)throw c}}},h.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var a=arguments.length,l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];return h.default._validateParameters("normalMaterial",l),this._renderer.drawMode=f.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},h.default.prototype.ambientMaterial=function(a,l,d){this._assert3d("ambientMaterial"),h.default._validateParameters("ambientMaterial",arguments);var u=h.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=u._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},h.default.prototype.emissiveMaterial=function(a,l,d,u){this._assert3d("emissiveMaterial"),h.default._validateParameters("emissiveMaterial",arguments);var c=h.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=c._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},h.default.prototype.specularMaterial=function(a,l,d,u){this._assert3d("specularMaterial"),h.default._validateParameters("specularMaterial",arguments);var c=h.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=c._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},h.default.prototype.shininess=function(a){return this._assert3d("shininess"),h.default._validateParameters("shininess",arguments),this._renderer._useShininess=a=a<1?1:a,this},h.default.prototype.metalness=function(a){return this._assert3d("metalness"),a=1-Math.exp(-a/100),this._renderer._useMetalness=a,this},h.default.RendererGL.prototype._applyColorBlend=function(a,c){var d=this.GL;return(c=c||this.userFillShader||this.userStrokeShader||this.userPointShader||this.drawMode===f.TEXTURE||this.curBlendMode!==f.BLEND||a[a.length-1]<1||this._isErasing)!==this._isBlending&&(c||this.curBlendMode!==f.BLEND&&this.curBlendMode!==f.ADD?d.enable(d.BLEND):d.disable(d.BLEND),d.depthMask(!0),this._isBlending=c),this._applyBlendMode(),a},h.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var a=this.GL;switch(this.curBlendMode){case f.BLEND:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case f.ADD:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ONE);break;case f.REMOVE:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.ONE_MINUS_SRC_ALPHA);break;case f.MULTIPLY:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA);break;case f.SCREEN:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_COLOR);break;case f.EXCLUSION:a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE_MINUS_DST_COLOR,a.ONE_MINUS_SRC_COLOR,a.ONE,a.ONE);break;case f.REPLACE:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ZERO);break;case f.SUBTRACT:a.blendEquationSeparate(a.FUNC_REVERSE_SUBTRACT,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case f.DARKEST:this.blendExt?(a.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case f.LIGHTEST:this.blendExt?(a.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var w=h.default;C.default=w},{"../core/constants":269,"../core/main":280,"./p5.Texture":339,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],329:[function(r,H,C){"use strict";r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.string.sub"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.string.sub"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(r=r("../core/main"))&&r.__esModule?r:{default:r};function _(h,f){for(var E=0;E<f.length;E++){var w=f[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}y.default.prototype.camera=function(){var h;this._assert3d("camera");for(var f=arguments.length,E=new Array(f),w=0;w<f;w++)E[w]=arguments[w];return y.default._validateParameters("camera",E),(h=this._renderer._curCamera).camera.apply(h,E),this},y.default.prototype.perspective=function(){var h;this._assert3d("perspective");for(var f=arguments.length,E=new Array(f),w=0;w<f;w++)E[w]=arguments[w];return y.default._validateParameters("perspective",E),(h=this._renderer._curCamera).perspective.apply(h,E),this},y.default.prototype.ortho=function(){var h;this._assert3d("ortho");for(var f=arguments.length,E=new Array(f),w=0;w<f;w++)E[w]=arguments[w];return y.default._validateParameters("ortho",E),(h=this._renderer._curCamera).ortho.apply(h,E),this},y.default.prototype.frustum=function(){var h;this._assert3d("frustum");for(var f=arguments.length,E=new Array(f),w=0;w<f;w++)E[w]=arguments[w];return y.default._validateParameters("frustum",E),(h=this._renderer._curCamera).frustum.apply(h,E),this},y.default.prototype.createCamera=function(){this._assert3d("createCamera");var h=new y.default.Camera(this._renderer);return h._computeCameraDefaultSettings(),h._setDefaultCamera(),this._renderer._curCamera=h},y.default.Camera=function(){function h(a){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this._renderer=a,this.cameraType="default",this.cameraMatrix=new y.default.Matrix,this.projMatrix=new y.default.Matrix,this.yScale=1}var f,E;return f=h,(E=[{key:"perspective",value:function(c,l,d,u){this.cameraType=0<arguments.length?"custom":"default",this.cameraFOV=void 0===c?c=this.defaultCameraFOV:this._renderer._pInst._toRadians(c),void 0===l&&(l=this.defaultAspectRatio),void 0===d&&(d=this.defaultCameraNear),void 0===u&&(u=this.defaultCameraFar),d<=1e-4&&(d=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),u<d&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=l,this.cameraNear=d,this.cameraFar=u,this.projMatrix=y.default.Matrix.identity(),c=1/Math.tan(this.cameraFOV/2);var s=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(c/l,0,0,0,0,-c*this.yScale,0,0,0,0,(u+d)*s,-1,0,0,2*u*d*s,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(A,k,d,u,c,s){void 0===A&&(A=-this._renderer.width/2),void 0===k&&(k=+this._renderer.width/2),void 0===d&&(d=-this._renderer.height/2),void 0===u&&(u=+this._renderer.height/2),void 0===c&&(c=0),void 0===s&&(s=Math.max(this._renderer.width,this._renderer.height)+800),this.cameraNear=c;var P=k-A,m=u-d,p=(this.cameraFar=s)-c,b=2/P,T=2/m*this.yScale,F=-2/p;k=-(k+A)/P,A=-(u+d)/m,P=-(s+c)/p,this.projMatrix=y.default.Matrix.identity(),this.projMatrix.set(b,0,0,0,0,-T,0,0,0,0,F,0,k,A,P,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(A,k,d,u,c,s){void 0===A&&(A=.05*-this._renderer.width),void 0===k&&(k=.05*+this._renderer.width),void 0===d&&(d=.05*+this._renderer.height),void 0===u&&(u=.05*-this._renderer.height),void 0===c&&(c=this.defaultCameraNear),void 0===s&&(s=this.defaultCameraFar),this.cameraNear=c;var P=k-A,m=u-d,p=(this.cameraFar=s)-c,b=2*c/P,T=2*c/m*this.yScale,F=-2*s*c/p;k=(k+A)/P,A=(u+d)/m,P=-(s+c)/p,this.projMatrix=y.default.Matrix.identity(),this.projMatrix.set(b,0,0,0,0,-T,0,0,k,A,P,-1,0,0,F,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(b,l,d,u){var c=this.centerX,s=this.centerY,m=this.centerZ,p=(c-=this.eyeX,s-=this.eyeY,m-=this.eyeZ,y.default.Matrix.identity(this._renderer._pInst));(p.rotate(this._renderer._pInst._toRadians(b),l,d,u),b=[c*p.mat4[0]+s*p.mat4[4]+m*p.mat4[8],c*p.mat4[1]+s*p.mat4[5]+m*p.mat4[9],c*p.mat4[2]+s*p.mat4[6]+m*p.mat4[10]])[0]+=this.eyeX,b[1]+=this.eyeY,b[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,b[0],b[1],b[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(a){var l=this._getLocalAxes();this._rotateView(a,l.y[0],l.y[1],l.y[2])}},{key:"tilt",value:function(a){var l=this._getLocalAxes();this._rotateView(a,l.x[0],l.x[1],l.x[2])}},{key:"lookAt",value:function(a,l,d){this.camera(this.eyeX,this.eyeY,this.eyeZ,a,l,d,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(a,l,d,u,c,s,m,p,b){return void 0===a&&(d=this.defaultEyeZ,u=a=this.defaultEyeX,c=l=this.defaultEyeY,p=1,b=m=s=0),this.eyeX=a,this.eyeY=l,this.eyeZ=d,void 0!==u&&(this.centerX=u,this.centerY=c,this.centerZ=s),void 0!==m&&(this.upX=m,this.upY=p,this.upZ=b),u=this._getLocalAxes(),this.cameraMatrix.set(u.x[0],u.y[0],u.z[0],0,u.x[1],u.y[1],u.z[1],0,u.x[2],u.y[2],u.z[2],0,0,0,0,1),this.cameraMatrix.translate([c=-a,-l,-d]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(u,c,d){var s=this._getLocalAxes();this.camera(this.eyeX+(u=[s.x[0]*u,s.x[1]*u,s.x[2]*u])[0]+(c=[s.y[0]*c,s.y[1]*c,s.y[2]*c])[0]+(s=[s.z[0]*d,s.z[1]*d,s.z[2]*d])[0],this.eyeY+u[1]+c[1]+s[1],this.eyeZ+u[2]+c[2]+s[2],this.centerX+u[0]+c[0]+s[0],this.centerY+u[1]+c[1]+s[1],this.centerZ+u[2]+c[2]+s[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(a,l,d){this.camera(a,l,d,this.centerX+(a-this.eyeX),this.centerY+(l-this.eyeY),this.centerZ+(d-this.eyeZ),this.upX,this.upY,this.upZ)}},{key:"set",value:function(a){for(var l=0,d=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];l<d.length;l++){var u=d[l];this[u]=a[u]}this.cameraMatrix=a.cameraMatrix.copy(),this.projMatrix=a.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(a,l,d){var u,c,s,m,p,b,T,F,k,A,P,$,j,N,I,B,z,W;0===d?this.set(a):1===d?this.set(l):(0!==this.projMatrix.mat4[15]&&(this.projMatrix.mat4[0]=a.projMatrix.mat4[0]*Math.pow(l.projMatrix.mat4[0]/a.projMatrix.mat4[0],d),this.projMatrix.mat4[5]=a.projMatrix.mat4[5]*Math.pow(l.projMatrix.mat4[5]/a.projMatrix.mat4[5],d),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),m=new y.default.Vector(a.eyeX,a.eyeY,a.eyeZ),p=new y.default.Vector(l.eyeX,l.eyeY,l.eyeZ),B=new y.default.Vector(a.centerX,a.centerY,a.centerZ),W=new y.default.Vector(l.centerX,l.centerY,l.centerZ),s=y.default.Vector.dist(m,B),u=y.default.Vector.dist(p,W),u=s*Math.pow(u/s,d),s=y.default.Vector.sub(m,p),c=1,1e-6<(z=(N=m.copy().sub(p).sub(B).add(W)).magSq())&&(c=y.default.Vector.dot(s,N)/z,c=Math.max(0,Math.min(c,1))),s=y.default.Vector.lerp(y.default.Vector.lerp(m,B,c),y.default.Vector.lerp(p,W,c),d),N=a.cameraMatrix.createSubMatrix3x3(),z=l.cameraMatrix.createSubMatrix3x3(),m=N.row(2),B=z.row(2),p=N.row(1),W=z.row(1),a=new y.default.Vector,l=new y.default.Vector,b=new y.default.Vector,T=new y.default.Vector,1-(F=.5*((N=(z=z.mult3x3(N.copy().transpose3x3())).diagonal())[0]+N[1]+N[2]-1))<1e-7?(a.set(y.default.Vector.lerp(m,B,d)).normalize(),b.set(a).mult(c*u).add(s),T.set(a).mult((c-1)*u).add(s),l.set(y.default.Vector.lerp(p,W,d)).normalize()):(B=1/(1-F),W=Math.max(N[0],N[1],N[2]),$=z.mat3[1]+z.mat3[3],j=z.mat3[2]+z.mat3[6],I=z.mat3[5]+z.mat3[7],W=W===N[0]?(A=.5*$*(B/=k=Math.sqrt((N[0]-F)*B)),P=.5*j*B,.5*(z.mat3[7]-z.mat3[5])/k):W===N[1]?(P=.5*I*(B/=A=Math.sqrt((N[1]-F)*B)),k=.5*$*B,.5*(z.mat3[2]-z.mat3[6])/A):(k=.5*j*(B/=P=Math.sqrt((N[2]-F)*B)),A=.5*I*B,.5*(z.mat3[3]-z.mat3[1])/P),$=d*Math.atan2(W,F),j=Math.cos($),N=Math.sin($),(W=new y.default.Matrix("mat3",[j+(I=1-j)*k*k,I*(B=k*A)+N*P,I*(z=P*k)-N*A,I*B-N*P,j+I*A*A,I*(d=A*P)+N*k,I*z+N*A,I*d-N*k,j+I*P*P])).multiplyVec3(m,a),b.set(a).mult(c*u).add(s),T.set(a).mult((c-1)*u).add(s),W.multiplyVec3(p,l)),this.camera(b.x,b.y,b.z,T.x,T.y,T.z,l.x,l.y,l.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){"default"===this.cameraType&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var a=new y.default.Camera(this._renderer);return a.cameraFOV=this.cameraFOV,a.aspectRatio=this.aspectRatio,a.eyeX=this.eyeX,a.eyeY=this.eyeY,a.eyeZ=this.eyeZ,a.centerX=this.centerX,a.centerY=this.centerY,a.centerZ=this.centerZ,a.upX=this.upX,a.upY=this.upY,a.upZ=this.upZ,a.cameraNear=this.cameraNear,a.cameraFar=this.cameraFar,a.cameraType=this.cameraType,a.cameraMatrix=this.cameraMatrix.copy(),a.projMatrix=this.projMatrix.copy(),a.yScale=this.yScale,a}},{key:"_getLocalAxes",value:function(){var T,a=this.eyeX-this.centerX,l=this.eyeY-this.centerY,d=this.eyeZ-this.centerZ,m=(0!==(m=Math.sqrt(a*a+l*l+d*d))&&(a/=m,l/=m,d/=m),this.upX),u=(p=this.upY)*d-(b=this.upZ)*l,c=-m*d+b*a,s=m*l-p*a,p=(m=l*s-d*c,-a*s+d*u),b=a*c-l*u;return 0!==(0!==(T=Math.sqrt(u*u+c*c+s*s))&&(u/=T,c/=T,s/=T),T=Math.sqrt(m*m+p*p+b*b))&&(m/=T,p/=T,b/=T),{x:[u,c,s],y:[m,p,b],z:[a,l,d]}}},{key:"_orbit",value:function(a,T,b){var c=this.eyeX-this.centerX,s=this.eyeY-this.centerY,m=this.eyeZ-this.centerZ,u=Math.hypot(c,s,m),p=(c=new y.default.Vector(c,s,m).normalize(),s=new y.default.Vector(this.upX,this.upY,this.upZ).normalize(),m=y.default.Vector.cross(s,c).normalize(),y.default.Vector.cross(m,s));(u=(u*=Math.pow(10,b))<this.cameraNear?this.cameraNear:u)>this.cameraFar&&(u=this.cameraFar),b=Math.acos(Math.max(-1,Math.min(1,y.default.Vector.dot(c,s))))+T,T=a,(b<=0||b>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),s.mult(Math.cos(b)),p.mult(Math.cos(T)*Math.sin(b)),m.mult(Math.sin(T)*Math.sin(b)),c.set(s).add(p).add(m),this.eyeX=u*c.x+this.centerX,this.eyeY=u*c.y+this.centerY,this.eyeZ=u*c.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(b,T,k){var c=this.eyeX-this.centerX,s=this.eyeY-this.centerY,m=this.eyeZ-this.centerZ,u=Math.hypot(c,s,m),p=(c=new y.default.Vector(c,s,m).normalize(),s=new y.default.Vector(this.upX,this.upY,this.upZ),m=y.default.Vector.cross(s,c).normalize(),y.default.Vector.cross(c,m)),A=Math.atan2(T,b),F=(p.mult(Math.sin(A)),m.mult(Math.cos(A)).add(p),A=Math.sqrt(b*b+T*T),p=y.default.Vector.cross(c,m),(u=(u*=Math.pow(10,k))<this.cameraNear?this.cameraNear:u)>this.cameraFar&&(u=this.cameraFar),b=Math.cos(A),T=Math.sin(A),(k=s.dot(c))*b+(A=s.dot(m))*T);k=-k*T+A*b,A=s.dot(p),s.x=F*c.x+k*m.x+A*p.x,s.y=F*c.y+k*m.y+A*p.y,s.z=F*c.z+k*m.z+A*p.z,m.mult(-T),c.mult(b).add(m).mult(u),this.camera(c.x+this.centerX,c.y+this.centerY,c.z+this.centerZ,this.centerX,this.centerY,this.centerZ,s.x,s.y,s.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&_(f.prototype,E),h}(),y.default.prototype.setCamera=function(h){this._renderer._curCamera=h,this._renderer.uPMatrix.set(h.projMatrix)},C.default=r=y.default.Camera},{"../core/main":280,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.string.sub":205}],330:[function(r,H,C){"use strict";function y(_,h){for(var f=0;f<h.length;f++){var E=h[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.log2"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.log2"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.DataArray=function(){function _(){var w=0<arguments.length&&void 0!==arguments[0]?arguments[0]:128;if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(w),this.initialLength=w}var h,f;return h=_,(f=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var w;this.length<this.data.length/2&&(w=1<<Math.ceil(Math.log2(this.length)),(w=new Float32Array(w)).set(this.data.subarray(0,this.length),0),this.data=w)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var w=arguments.length,a=new Array(w),l=0;l<w;l++)a[l]=arguments[l];this.ensureLength(this.length+a.length),this.data.set(a,this.length),this.length+=a.length}},{key:"slice",value:function(w,a){return this.data.slice(w,Math.min(a,this.length))}},{key:"subArray",value:function(w,a){return this.data.subarray(w,Math.min(a,this.length))}},{key:"ensureLength",value:function(w){for(;this.data.length<w;){var a=new Float32Array(2*this.data.length);a.set(this.data,0),this.data=a}}}])&&y(h.prototype,f),_}(),C.default=r=r.default.DataArray},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.log2":176,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236}],331:[function(P,H,C){"use strict";function y($){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})($)}function _($){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(j){return y(j)}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":y(j)})($)}P("core-js/modules/es.symbol"),P("core-js/modules/es.symbol.description"),P("core-js/modules/es.symbol.iterator"),P("core-js/modules/es.array.fill"),P("core-js/modules/es.array.includes"),P("core-js/modules/es.array.iterator"),P("core-js/modules/es.object.get-own-property-descriptor"),P("core-js/modules/es.object.get-prototype-of"),P("core-js/modules/es.object.to-string"),P("core-js/modules/es.reflect.construct"),P("core-js/modules/es.reflect.get"),P("core-js/modules/es.regexp.to-string"),P("core-js/modules/es.string.includes"),P("core-js/modules/es.string.iterator"),P("core-js/modules/es.typed-array.float32-array"),P("core-js/modules/es.typed-array.uint8-array"),P("core-js/modules/es.typed-array.uint8-clamped-array"),P("core-js/modules/es.typed-array.copy-within"),P("core-js/modules/es.typed-array.every"),P("core-js/modules/es.typed-array.fill"),P("core-js/modules/es.typed-array.filter"),P("core-js/modules/es.typed-array.find"),P("core-js/modules/es.typed-array.find-index"),P("core-js/modules/es.typed-array.for-each"),P("core-js/modules/es.typed-array.includes"),P("core-js/modules/es.typed-array.index-of"),P("core-js/modules/es.typed-array.iterator"),P("core-js/modules/es.typed-array.join"),P("core-js/modules/es.typed-array.last-index-of"),P("core-js/modules/es.typed-array.map"),P("core-js/modules/es.typed-array.reduce"),P("core-js/modules/es.typed-array.reduce-right"),P("core-js/modules/es.typed-array.reverse"),P("core-js/modules/es.typed-array.set"),P("core-js/modules/es.typed-array.slice"),P("core-js/modules/es.typed-array.some"),P("core-js/modules/es.typed-array.sort"),P("core-js/modules/es.typed-array.subarray"),P("core-js/modules/es.typed-array.to-locale-string"),P("core-js/modules/es.typed-array.to-string"),P("core-js/modules/es.weak-map"),P("core-js/modules/web.dom-collections.iterator"),P("core-js/modules/es.array.fill"),P("core-js/modules/es.array.includes"),P("core-js/modules/es.array.iterator"),P("core-js/modules/es.object.get-prototype-of"),P("core-js/modules/es.object.to-string"),P("core-js/modules/es.string.includes"),P("core-js/modules/es.typed-array.float32-array"),P("core-js/modules/es.typed-array.uint8-array"),P("core-js/modules/es.typed-array.uint8-clamped-array"),P("core-js/modules/es.typed-array.copy-within"),P("core-js/modules/es.typed-array.every"),P("core-js/modules/es.typed-array.fill"),P("core-js/modules/es.typed-array.filter"),P("core-js/modules/es.typed-array.find"),P("core-js/modules/es.typed-array.find-index"),P("core-js/modules/es.typed-array.for-each"),P("core-js/modules/es.typed-array.includes"),P("core-js/modules/es.typed-array.index-of"),P("core-js/modules/es.typed-array.iterator"),P("core-js/modules/es.typed-array.join"),P("core-js/modules/es.typed-array.last-index-of"),P("core-js/modules/es.typed-array.map"),P("core-js/modules/es.typed-array.reduce"),P("core-js/modules/es.typed-array.reduce-right"),P("core-js/modules/es.typed-array.reverse"),P("core-js/modules/es.typed-array.set"),P("core-js/modules/es.typed-array.slice"),P("core-js/modules/es.typed-array.some"),P("core-js/modules/es.typed-array.sort"),P("core-js/modules/es.typed-array.subarray"),P("core-js/modules/es.typed-array.to-locale-string"),P("core-js/modules/es.typed-array.to-string"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(A=P("../core/main"))&&A.__esModule?A:{default:A},f=function($){if($&&$.__esModule)return $;if(null===$||"object"!==_($)&&"function"!=typeof $)return{default:$};var j=a();if(j&&j.has($))return j.get($);var N,I={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(N in $){var z;Object.prototype.hasOwnProperty.call($,N)&&((z=B?Object.getOwnPropertyDescriptor($,N):null)&&(z.get||z.set)?Object.defineProperty(I,N,z):I[N]=$[N])}return I.default=$,j&&j.set($,I),I}(P("../core/constants")),E=P("./p5.Texture"),w=P("./p5.RendererGL");function a(){var $;return"function"!=typeof WeakMap?null:(a=function(){return $},$=new WeakMap)}function l($,j){return function(N){if(Array.isArray(N))return N}($)||function(N,I){if(Symbol.iterator in Object(N)||"[object Arguments]"===Object.prototype.toString.call(N)){var B=[],z=!0,W=!1,ne=void 0;try{for(var J,q=N[Symbol.iterator]();!(z=(J=q.next()).done)&&(B.push(J.value),!I||B.length!==I);z=!0);}catch(ae){W=!0,ne=ae}finally{try{z||null==q.return||q.return()}finally{if(W)throw ne}}return B}}($,j)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d($,j,N){return j in $?Object.defineProperty($,j,{value:N,enumerable:!0,configurable:!0,writable:!0}):$[j]=N,$}function u($,j){if(!($ instanceof j))throw new TypeError("Cannot call a class as a function")}function c($,j){for(var N=0;N<j.length;N++){var I=j[N];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty($,I.key,I)}}function s($,j,N){j&&c($.prototype,j),N&&c($,N)}function m($,j,N){return(m=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(W,B,z){if(W=function(ne,J){for(;!Object.prototype.hasOwnProperty.call(ne,J)&&null!==(ne=T(ne)););return ne}(W,B))return(W=Object.getOwnPropertyDescriptor(W,B)).get?W.get.call(z):W.value})($,j,N||$)}function p($,j){return(p=Object.setPrototypeOf||function(N,I){return N.__proto__=I,N})($,j)}function T($){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})($)}var F=function($){var j=I;if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create($&&$.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),$&&p(j,$);var N=function b($){return function(){var j,N=T($);if(j=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(j=T(this).constructor,Reflect.construct(N,arguments,j)):N.apply(this,arguments),N=this,!j||"object"!==_(j)&&"function"!=typeof j){if(void 0!==N)return N;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return j}}(I);function I(B){var z;return u(this,I),(z=N.call(this,B.target._renderer)).fbo=B,z.yScale=-1,z}return s(I,[{key:"_computeCameraDefaultSettings",value:function(){m(T(I.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),I}(h.default.Camera),k=(h.default.FramebufferCamera=F,function(){function $(j,N){u(this,$),this.framebuffer=j,this.property=N}return s($,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),$}()),A=(h.default.FramebufferTexture=k,function(){function $(B){var N=this,I=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(u(this,$),this.target=B,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=I.format||f.UNSIGNED_BYTE,this.channels=I.channels||(B._renderer._pInst._glAttributes.alpha?f.RGBA:f.RGB),this.useDepth=void 0===I.depth||I.depth,this.depthFormat=I.depthFormat||f.FLOAT,this.textureFiltering=I.textureFiltering||f.LINEAR,this.antialiasSamples=void 0===I.antialias?B._renderer._pInst._glAttributes.antialias?2:0:"number"==typeof I.antialias?I.antialias:I.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&B.webglVersion!==f.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),I.width&&I.height?(this.width=I.width,this.height=I.height,this.autoSized=!1):(void 0===I.width!=(void 0===I.height)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=B.width,this.height=B.height,this.autoSized=!0),this.density=I.density||B.pixelDensity(),this.gl=B=B._renderer.GL,this._checkIfFormatsAvailable(),I.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(void 0===I.stencil||I.stencil),this.framebuffer=B.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=B.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures(),I=this.target._renderer._curCamera,this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=I,this.draw(function(){return N.target.clear()})}return s($,[{key:"resize",value:function(j,N){this.autoSized=!1,this.width=j,this.height=N,this._handleResize()}},{key:"pixelDensity",value:function(j){if(!j)return this.density;this.autoSized=!1,this.density=j,this._handleResize()}},{key:"autoSized",value:function(j){if(void 0===j)return this.autoSized;this.autoSized=j,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var j=this.gl;(this.useDepth&&this.target.webglVersion===f.WEBGL&&!j.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===f.WEBGL&&this.depthFormat===f.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=f.UNSIGNED_INT),[f.UNSIGNED_BYTE,f.FLOAT,f.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=f.UNSIGNED_BYTE),this.useDepth&&![f.UNSIGNED_INT,f.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=f.FLOAT),j=(0,E.checkWebGLCapabilities)(this.target._renderer)).float||this.format!==f.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=f.UNSIGNED_BYTE),this.useDepth&&!j.float&&this.depthFormat===f.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=f.UNSIGNED_INT),j.halfFloat||this.format!==f.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=f.UNSIGNED_BYTE),this.channels===f.RGB&&[f.FLOAT,f.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=f.RGBA)}},{key:"_recreateTextures",value:function(){var j=this.gl,N=(this._updateSize(),j.getParameter(j.TEXTURE_BINDING_2D)),I=j.getParameter(j.FRAMEBUFFER_BINDING);if(!(B=j.createTexture()))throw new Error("Unable to create color texture");j.bindTexture(j.TEXTURE_2D,B);var z=this._glColorFormat();if(j.texImage2D(j.TEXTURE_2D,0,z.internalFormat,this.width*this.density,this.height*this.density,0,z.format,z.type,null),this.colorTexture=B,j.bindFramebuffer(j.FRAMEBUFFER,this.framebuffer),j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_2D,B,0),this.useDepth){var B;if(!(B=j.createTexture()))throw new Error("Unable to create depth texture");var W=this._glDepthFormat();j.bindTexture(j.TEXTURE_2D,B),j.texImage2D(j.TEXTURE_2D,0,W.internalFormat,this.width*this.density,this.height*this.density,0,W.format,W.type,null),j.framebufferTexture2D(j.FRAMEBUFFER,this.useStencil?j.DEPTH_STENCIL_ATTACHMENT:j.DEPTH_ATTACHMENT,j.TEXTURE_2D,B,0),this.depthTexture=B}this.antialias&&(this.colorRenderbuffer=j.createRenderbuffer(),j.bindRenderbuffer(j.RENDERBUFFER,this.colorRenderbuffer),j.renderbufferStorageMultisample(j.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,j.getParameter(j.MAX_SAMPLES))),z.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(W=this._glDepthFormat(),this.depthRenderbuffer=j.createRenderbuffer(),j.bindRenderbuffer(j.RENDERBUFFER,this.depthRenderbuffer),j.renderbufferStorageMultisample(j.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,j.getParameter(j.MAX_SAMPLES))),W.internalFormat,this.width*this.density,this.height*this.density)),j.bindFramebuffer(j.FRAMEBUFFER,this.aaFramebuffer),j.framebufferRenderbuffer(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&j.framebufferRenderbuffer(j.FRAMEBUFFER,this.useStencil?j.DEPTH_STENCIL_ATTACHMENT:j.DEPTH_ATTACHMENT,j.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new k(this,"depthTexture"),this.depthP5Texture=new h.default.Texture(this.target._renderer,this.depth,{minFilter:B=j.NEAREST,magFilter:B}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new k(this,"colorTexture"),this.colorP5Texture=new h.default.Texture(this.target._renderer,this.color,{minFilter:z=this.textureFiltering===f.LINEAR?j.LINEAR:j.NEAREST,magFilter:z}),this.target._renderer.textures.set(this.color,this.colorP5Texture),j.bindTexture(j.TEXTURE_2D,N),j.bindFramebuffer(j.FRAMEBUFFER,I)}},{key:"_glColorFormat",value:function(){var j,N,I=this.gl,B=this.format===f.FLOAT?I.FLOAT:this.format===f.HALF_FLOAT?this.target.webglVersion===f.WEBGL2?I.HALF_FLOAT:I.getExtension("OES_texture_half_float").HALF_FLOAT_OES:I.UNSIGNED_BYTE,z=this.channels===f.RGBA?I.RGBA:I.RGB;return{internalFormat:this.target.webglVersion===f.WEBGL2?(d(N={},I.FLOAT,d({},I.RGBA,I.RGBA32F)),d(N,I.HALF_FLOAT,d({},I.RGBA,I.RGBA16F)),d(N,I.UNSIGNED_BYTE,(d(j={},I.RGBA,I.RGBA8),d(j,I.RGB,I.RGB8),j)),N[B][z]):this.format===f.HALF_FLOAT?I.RGBA:z,format:z,type:B}}},{key:"_glDepthFormat",value:function(){var I=this.gl,j=this.useStencil?this.depthFormat===f.FLOAT?I.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===f.WEBGL2?I.UNSIGNED_INT_24_8:I.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===f.FLOAT?I.FLOAT:I.UNSIGNED_INT,N=this.useStencil?I.DEPTH_STENCIL:I.DEPTH_COMPONENT;return{internalFormat:I=this.useStencil?this.depthFormat===f.FLOAT?I.DEPTH32F_STENCIL8:this.target.webglVersion===f.WEBGL2?I.DEPTH24_STENCIL8:I.DEPTH_STENCIL:this.target.webglVersion===f.WEBGL2?this.depthFormat===f.FLOAT?I.DEPTH_COMPONENT32F:I.DEPTH_COMPONENT24:I.DEPTH_COMPONENT,format:N,type:j}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var j=this.depth,N=this.colorRenderbuffer,I=this.depthRenderbuffer,B=(this._deleteTexture(B=this.color),j&&this._deleteTexture(j),this.gl);N&&B.deleteRenderbuffer(N),I&&B.deleteRenderbuffer(I),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var j=new F(this);return j._computeCameraDefaultSettings(),j._setDefaultCamera(),this.target._renderer._curCamera=j}},{key:"_deleteTexture",value:function(j){this.gl.deleteTexture(j.rawTexture()),this.target._renderer.textures.delete(j)}},{key:"remove",value:function(){var j=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),j.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&j.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&j.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&j.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix)}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var j=this.gl;j.bindFramebuffer(j.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var j=this.gl,N=(j.bindFramebuffer(j.READ_FRAMEBUFFER,this.aaFramebuffer),j.bindFramebuffer(j.DRAW_FRAMEBUFFER,this.framebuffer),[[j.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&N.push([j.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var I=0,B=N;I<B.length;I++){var W=l(B[I],2);j.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,W[0],W=W[1])}}}},{key:"end",value:function(){var j=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(j.bindFramebuffer(j.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(j){this.begin(),j(),this.end()}},{key:"loadPixels",value:function(){var j=this.gl,N=this.target._renderer.activeFramebuffer(),I=(j.bindFramebuffer(j.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,w.readPixelsWebGL)(this.pixels,j,this.framebuffer,0,0,this.width*this.density,this.height*this.density,I.format,I.type),j.bindFramebuffer(j.FRAMEBUFFER,N?N._framebufferToBind():null)}},{key:"get",value:function(j,N,I,B){h.default._validateParameters("p5.Framebuffer.get",arguments);var z=this._glColorFormat();if(void 0===j&&void 0===N)N=j=0,I=this.width,B=this.height;else if(void 0===I&&void 0===B)return(j<0||N<0||j>=this.width||N>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),j=this.target.constrain(j,0,this.width-1),N=this.target.constrain(N,0,this.height-1)),(0,w.readPixelWebGL)(this.gl,this.framebuffer,j*this.density,N*this.density,z.format,z.type);j=this.target.constrain(j,0,this.width-1),N=this.target.constrain(N,0,this.height-1),I=this.target.constrain(I,1,this.width-j),B=this.target.constrain(B,1,this.height-N);for(var W=(0,w.readPixelsWebGL)(void 0,this.gl,this.framebuffer,j*this.density,N*this.density,I*this.density,B*this.density,z.format,z.type),ne=new Uint8ClampedArray(I*B*this.density*this.density*4),J=(ne.fill(255),z.type===this.gl.RGB?3:4),q=0;q<B*this.density;q++)for(var ae=0;ae<I*this.density;ae++)for(var fe=0;fe<4;fe++){var K=4*(q*I*this.density+ae)+fe;fe<J&&(ne[K]=W[4==J?K:(q*I*this.density+ae)*J+fe])}return(j=new h.default.Image(I*this.density,B*this.density)).imageData=j.canvas.getContext("2d").createImageData(j.width,j.height),j.imageData.data.set(ne),j.pixels=j.imageData.data,j.updatePixels(),1!==this.density&&j.resize(I,B),j}},{key:"updatePixels",value:function(){var j=this.gl,N=(this.colorP5Texture.bindTexture(),this._glColorFormat()),I=this.width*this.height*this.density*this.density*(I=N.format===j.RGBA?4:3),B=N.type===j.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof B)||this.pixels.length!==I)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");j.texImage2D(j.TEXTURE_2D,0,N.internalFormat,this.width*this.density,this.height*this.density,0,N.format,N.type,this.pixels),this.colorP5Texture.unbindTexture(),B=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(j.clearDepth(1),j.clear(j.DEPTH_BUFFER_BIT)),this.end()):(j.bindFramebuffer(j.FRAMEBUFFER,this.framebuffer),this.useDepth&&(j.clearDepth(1),j.clear(j.DEPTH_BUFFER_BIT)),j.bindFramebuffer(j.FRAMEBUFFER,B?B._framebufferToBind():null))}}]),$}());P=h.default.Framebuffer=A,C.default=P},{"../core/constants":269,"../core/main":280,"./p5.RendererGL":337,"./p5.Texture":339,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.typed-array.uint8-clamped-array":240,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],332:[function(r,H,C){"use strict";function y(d){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(u){return y(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(d)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.flat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.unscopables.flat"),r("core-js/modules/es.map"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.sub"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.flat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.unscopables.flat"),r("core-js/modules/es.map"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.sub"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(l=r("../core/main"))&&l.__esModule?l:{default:l},f=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var u=E();if(u&&u.has(d))return u.get(d);var c,s={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in d){var p;Object.prototype.hasOwnProperty.call(d,c)&&((p=m?Object.getOwnPropertyDescriptor(d,c):null)&&(p.get||p.set)?Object.defineProperty(s,c,p):s[c]=d[c])}return s.default=d,u&&u.set(d,s),s}(r("../core/constants"));function E(){var d;return"function"!=typeof WeakMap?null:(E=function(){return d},d=new WeakMap)}function w(d){return function(u){if(Array.isArray(u)){for(var c=0,s=new Array(u.length);c<u.length;c++)s[c]=u[c];return s}}(d)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(d,u){for(var c=0;c<u.length;c++){var s=u[c];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(d,s.key,s)}}h.default.Geometry=function(){function d(m,p,b){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.lineVertices=new h.default.DataArray,this.lineTangentsIn=new h.default.DataArray,this.lineTangentsOut=new h.default.DataArray,this.lineSides=new h.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new h.default.DataArray,this.detailX=void 0!==m?m:1,this.detailY=void 0!==p?p:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,b instanceof Function&&b.call(this)}var u,c;return u=d,(c=[{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(void 0===this._hasFillTransparency){this._hasFillTransparency=!1;for(var m=0;m<this.vertexColors.length;m+=4)if(this.vertexColors[m+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(void 0===this._hasStrokeTransparency){this._hasStrokeTransparency=!1;for(var m=0;m<this.lineVertexColors.length;m+=4)if(this.lineVertexColors[m+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(m,p){return p%2==0?1-m:m})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(m,p){return p%2==0?m:1-m})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var m,p,b,T=this.detailX+1,F=0;F<this.detailY;F++)for(var k=0;k<this.detailX;k++)p=(F+1)*T+k+1,this.faces.push([F*T+k,m=F*T+k+1,b=(F+1)*T+k]),this.faces.push([b,m,p]);return this}},{key:"_getFaceNormal",value:function(p){var b=this.vertices[(p=this.faces[p])[0]],F=this.vertices[p[1]],T=(p=this.vertices[p[2]],F=h.default.Vector.sub(F,b),p=h.default.Vector.sub(p,b),b=h.default.Vector.cross(F,p),h.default.Vector.mag(b));return 0==(F=T/(h.default.Vector.mag(F)*h.default.Vector.mag(p)))||isNaN(F)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),b):(1<F&&(F=1),b.mult(Math.asin(F)/T))}},{key:"computeNormals",value:function(){var m,p=this,T=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).roundToPrecision,F=this.vertexNormals,k=this.vertices,A=this.faces;if((0<arguments.length&&void 0!==arguments[0]?arguments[0]:f.FLAT)===f.SMOOTH){for(var P={},$=[],j=Math.pow(10,void 0===T?3:T),N=function(ne){return Math.round(ne*j)/j},I=function(ne){return"".concat(N(ne.x),",").concat(N(ne.y),",").concat(N(ne.z))},B=0;B<k.length;B++){var z=k[B],W=I(z);void 0===P[W]&&(P[W]=$.length,$.push(z))}A.forEach(function(ne){for(var J=0;J<3;++J){var q=I(q=k[q=ne[J]]);ne[J]=P[q]}}),this.edges.forEach(function(ne){for(var J=0;J<2;++J){var q=I(q=k[q=ne[J]]);ne[J]=P[q]}}),this.vertices=k=$}for(m=F.length=0;m<k.length;++m)F.push(new h.default.Vector);for(A.forEach(function(ne,J){for(var q=p._getFaceNormal(J),ae=0;ae<3;++ae)F[ne[ae]].add(q)}),m=0;m<k.length;++m)F[m].normalize();return this}},{key:"averageNormals",value:function(){for(var m=0;m<=this.detailY;m++){var p=this.detailX+1,b=h.default.Vector.add(this.vertexNormals[m*p],this.vertexNormals[m*p+this.detailX]);b=h.default.Vector.div(b,2),this.vertexNormals[m*p]=b,this.vertexNormals[m*p+this.detailX]=b}return this}},{key:"averagePoleNormals",value:function(){for(var m=new h.default.Vector(0,0,0),p=0;p<this.detailX;p++)m.add(this.vertexNormals[p]);m=h.default.Vector.div(m,this.detailX);for(var b=0;b<this.detailX;b++)this.vertexNormals[b]=m;m=new h.default.Vector(0,0,0);for(var T=this.vertices.length-1;T>this.vertices.length-1-this.detailX;T--)m.add(this.vertexNormals[T]);m=h.default.Vector.div(m,this.detailX);for(var F=this.vertices.length-1;F>this.vertices.length-1-this.detailX;F--)this.vertexNormals[F]=m;return this}},{key:"_makeTriangleEdges",value:function(){for(var m=this.edges.length=0;m<this.faces.length;m++)this.edges.push([this.faces[m][0],this.faces[m][1]]),this.edges.push([this.faces[m][1],this.faces[m][2]]),this.edges.push([this.faces[m][2],this.faces[m][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var m,p=new Map,b=new Set,T=0;T<this.edges.length;T++){var F,k=this.edges[T-1],A=this.edges[T],P=this.vertices[A[0]],$=this.vertices[A[1]],j=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*A[0],4*(A[0]+1)):[0,0,0,0],N=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*A[1],4*(A[1]+1)):[0,0,0,0],I=$.copy().sub(P).normalize(),B=0<I.magSq();B&&this._addSegment(P,$,j,N,I),0<T&&k[1]===A[0]?b.has(A[0])||(b.add(A[0]),p.delete(A[0]),m&&B&&I.dot(m)<1-1e-8&&this._addJoin(P,m,I,j)):(B&&!b.has(A[0])&&((F=p.get(A[0]))?(this._addJoin(P,F.dir,I,j),p.delete(A[0]),b.add(A[0])):p.set(A[0],{point:P,dir:I.copy().mult(-1),color:j})),m&&!b.has(k[1])&&((F=p.get(k[1]))?(this._addJoin(this.vertices[k[1]],m,F.dir.copy().mult(-1),j),p.delete(k[1]),b.add(k[1])):p.set(k[1],{point:this.vertices[k[1]],dir:m,color:j}),m=void 0)),T!==this.edges.length-1||b.has(A[1])||((P=p.get(A[1]))?(this._addJoin($,I,P.dir.copy().mult(-1),N),p.delete(A[1]),b.add(A[1])):p.set(A[1],{point:$,dir:I,color:N})),B&&(m=I)}var z=!0,W=!1,ne=void 0;try{for(var J,q=p.values()[Symbol.iterator]();!(z=(J=q.next()).done);z=!0){var ae=J.value;this._addCap(ae.point,ae.dir,ae.color)}}catch(R){W=!0,ne=R}finally{try{z||null==q.return||q.return()}finally{if(W)throw ne}}return this}},{key:"_addSegment",value:function(k,A,b,T,F){k=k.array(),A=A.array();var P=F.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var $=0,j=[this.lineTangentsIn,this.lineTangentsOut];$<j.length;$++)for(var N=j[$],I=0;I<6;I++)N.push.apply(N,w(P));return(F=this.lineVertices).push.apply(F,w(k).concat(w(A),w(k),w(A),w(A),w(k))),(F=this.lineVertexColors).push.apply(F,w(b).concat(w(T),w(b),w(T),w(T),w(b))),this}},{key:"_addCap",value:function(m,p,b){for(var T,F=m.array(),k=p.array(),A=[0,0,0],P=0;P<6;P++)(T=this.lineVertices).push.apply(T,w(F)),(T=this.lineTangentsIn).push.apply(T,w(k)),(T=this.lineTangentsOut).push.apply(T,A),(T=this.lineVertexColors).push.apply(T,w(b));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(m,p,b,T){for(var F,k=m.array(),A=p.array(),P=b.array(),$=0;$<12;$++)(F=this.lineVertices).push.apply(F,w(k)),(F=this.lineTangentsIn).push.apply(F,w(A)),(F=this.lineTangentsOut).push.apply(F,w(P)),(F=this.lineVertexColors).push.apply(F,w(T));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var m=this.vertices[0].copy(),p=this.vertices[0].copy(),b=0;b<this.vertices.length;b++)m.x=Math.max(m.x,this.vertices[b].x),p.x=Math.min(p.x,this.vertices[b].x),m.y=Math.max(m.y,this.vertices[b].y),p.y=Math.min(p.y,this.vertices[b].y),m.z=Math.max(m.z,this.vertices[b].z),p.z=Math.min(p.z,this.vertices[b].z);for(var T=h.default.Vector.lerp(m,p,.5),F=h.default.Vector.sub(m,p),k=200/Math.max(Math.max(F.x,F.y),F.z),A=0;A<this.vertices.length;A++)this.vertices[A].sub(T),this.vertices[A].mult(k)}return this}}])&&a(u.prototype,c),d}();var l=h.default.Geometry;C.default=l},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.flat":159,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.unscopables.flat":172,"core-js/modules/es.map":174,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],333:[function(E,H,C){"use strict";E("core-js/modules/es.array.iterator"),E("core-js/modules/es.object.to-string"),E("core-js/modules/es.typed-array.float32-array"),E("core-js/modules/es.typed-array.copy-within"),E("core-js/modules/es.typed-array.every"),E("core-js/modules/es.typed-array.fill"),E("core-js/modules/es.typed-array.filter"),E("core-js/modules/es.typed-array.find"),E("core-js/modules/es.typed-array.find-index"),E("core-js/modules/es.typed-array.for-each"),E("core-js/modules/es.typed-array.includes"),E("core-js/modules/es.typed-array.index-of"),E("core-js/modules/es.typed-array.iterator"),E("core-js/modules/es.typed-array.join"),E("core-js/modules/es.typed-array.last-index-of"),E("core-js/modules/es.typed-array.map"),E("core-js/modules/es.typed-array.reduce"),E("core-js/modules/es.typed-array.reduce-right"),E("core-js/modules/es.typed-array.reverse"),E("core-js/modules/es.typed-array.set"),E("core-js/modules/es.typed-array.slice"),E("core-js/modules/es.typed-array.some"),E("core-js/modules/es.typed-array.sort"),E("core-js/modules/es.typed-array.subarray"),E("core-js/modules/es.typed-array.to-locale-string"),E("core-js/modules/es.typed-array.to-string"),E("core-js/modules/es.array.iterator"),E("core-js/modules/es.object.to-string"),E("core-js/modules/es.typed-array.float32-array"),E("core-js/modules/es.typed-array.copy-within"),E("core-js/modules/es.typed-array.every"),E("core-js/modules/es.typed-array.fill"),E("core-js/modules/es.typed-array.filter"),E("core-js/modules/es.typed-array.find"),E("core-js/modules/es.typed-array.find-index"),E("core-js/modules/es.typed-array.for-each"),E("core-js/modules/es.typed-array.includes"),E("core-js/modules/es.typed-array.index-of"),E("core-js/modules/es.typed-array.iterator"),E("core-js/modules/es.typed-array.join"),E("core-js/modules/es.typed-array.last-index-of"),E("core-js/modules/es.typed-array.map"),E("core-js/modules/es.typed-array.reduce"),E("core-js/modules/es.typed-array.reduce-right"),E("core-js/modules/es.typed-array.reverse"),E("core-js/modules/es.typed-array.set"),E("core-js/modules/es.typed-array.slice"),E("core-js/modules/es.typed-array.some"),E("core-js/modules/es.typed-array.sort"),E("core-js/modules/es.typed-array.subarray"),E("core-js/modules/es.typed-array.to-locale-string"),E("core-js/modules/es.typed-array.to-string"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(E=E("../core/main"))&&E.__esModule?E:{default:E};function _(w,a){for(var l=0;l<a.length;l++){var d=a[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(w,d.key,d)}}var h=Array,f=function(w){return Array.isArray(w)};typeof Float32Array<"u"&&(h=Float32Array,f=function(w){return Array.isArray(w)||w instanceof Float32Array}),y.default.Matrix=function(){function w(){var u=this,c=w;if(u instanceof c)return arguments.length&&((u=arguments.length-1)<0||arguments.length<=u?void 0:arguments[u])instanceof y.default&&(this.p5=(c=arguments.length-1)<0||arguments.length<=c?void 0:arguments[c]),"mat3"===(arguments.length<=0?void 0:arguments[0])?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new h([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new h([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var a,l,d;return a=w,d=[{key:"identity",value:function(u){return new y.default.Matrix(u)}}],(l=[{key:"set",value:function(u){var c=arguments;if(u instanceof y.default.Matrix?c=u.mat4:f(u)&&(c=u),16!==c.length)y.default._friendlyError("Expected 16 values but received ".concat(c.length,"."),"p5.Matrix.set");else for(var s=0;s<16;s++)this.mat4[s]=c[s];return this}},{key:"get",value:function(){return new y.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var u;return void 0!==this.mat3?((u=new y.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],u.mat3[1]=this.mat3[1],u.mat3[2]=this.mat3[2],u.mat3[3]=this.mat3[3],u.mat3[4]=this.mat3[4],u.mat3[5]=this.mat3[5],u.mat3[6]=this.mat3[6],u.mat3[7]=this.mat3[7],u.mat3[8]=this.mat3[8]):((u=new y.default.Matrix(this.p5)).mat4[0]=this.mat4[0],u.mat4[1]=this.mat4[1],u.mat4[2]=this.mat4[2],u.mat4[3]=this.mat4[3],u.mat4[4]=this.mat4[4],u.mat4[5]=this.mat4[5],u.mat4[6]=this.mat4[6],u.mat4[7]=this.mat4[7],u.mat4[8]=this.mat4[8],u.mat4[9]=this.mat4[9],u.mat4[10]=this.mat4[10],u.mat4[11]=this.mat4[11],u.mat4[12]=this.mat4[12],u.mat4[13]=this.mat4[13],u.mat4[14]=this.mat4[14],u.mat4[15]=this.mat4[15]),u}},{key:"transpose",value:function(u){var c,s,m,p,b,T;return u instanceof y.default.Matrix?(c=u.mat4[1],s=u.mat4[2],m=u.mat4[3],p=u.mat4[6],b=u.mat4[7],T=u.mat4[11],this.mat4[0]=u.mat4[0],this.mat4[1]=u.mat4[4],this.mat4[2]=u.mat4[8],this.mat4[3]=u.mat4[12],this.mat4[4]=c,this.mat4[5]=u.mat4[5],this.mat4[6]=u.mat4[9],this.mat4[7]=u.mat4[13],this.mat4[8]=s,this.mat4[9]=p,this.mat4[10]=u.mat4[10],this.mat4[11]=u.mat4[14],this.mat4[12]=m,this.mat4[13]=b,this.mat4[14]=T,this.mat4[15]=u.mat4[15]):f(u)&&(c=u[1],s=u[2],m=u[3],p=u[6],b=u[7],T=u[11],this.mat4[0]=u[0],this.mat4[1]=u[4],this.mat4[2]=u[8],this.mat4[3]=u[12],this.mat4[4]=c,this.mat4[5]=u[5],this.mat4[6]=u[9],this.mat4[7]=u[13],this.mat4[8]=s,this.mat4[9]=p,this.mat4[10]=u[10],this.mat4[11]=u[14],this.mat4[12]=m,this.mat4[13]=b,this.mat4[14]=T,this.mat4[15]=u[15]),this}},{key:"invert",value:function(W){W instanceof y.default.Matrix?(c=W.mat4[0],s=W.mat4[1],m=W.mat4[2],p=W.mat4[3],b=W.mat4[4],T=W.mat4[5],F=W.mat4[6],k=W.mat4[7],A=W.mat4[8],P=W.mat4[9],$=W.mat4[10],j=W.mat4[11],N=W.mat4[12],I=W.mat4[13],B=W.mat4[14],z=W.mat4[15]):f(W)&&(c=W[0],s=W[1],m=W[2],p=W[3],b=W[4],T=W[5],F=W[6],k=W[7],A=W[8],P=W[9],$=W[10],j=W[11],N=W[12],I=W[13],B=W[14],z=W[15]);var c,s,m,p,b,T,F,k,A,P,$,j,N,I,B,z,ne=c*F-m*b,J=c*k-p*b,q=s*F-m*T,ae=s*k-p*T,fe=m*k-p*F,Se=A*I-P*N,K=A*B-$*N,R=A*z-j*N,se=P*B-$*I,ge=P*z-j*I,De=$*z-j*B,Le=(W=c*T-s*b)*De-ne*ge+J*se+q*R-ae*K+fe*Se;return Le?(this.mat4[0]=(T*De-F*ge+k*se)*(Le=1/Le),this.mat4[1]=(m*ge-s*De-p*se)*Le,this.mat4[2]=(I*fe-B*ae+z*q)*Le,this.mat4[3]=($*ae-P*fe-j*q)*Le,this.mat4[4]=(F*R-b*De-k*K)*Le,this.mat4[5]=(c*De-m*R+p*K)*Le,this.mat4[6]=(B*J-N*fe-z*ne)*Le,this.mat4[7]=(A*fe-$*J+j*ne)*Le,this.mat4[8]=(b*ge-T*R+k*Se)*Le,this.mat4[9]=(s*R-c*ge-p*Se)*Le,this.mat4[10]=(N*ae-I*J+z*W)*Le,this.mat4[11]=(P*J-A*ae-j*W)*Le,this.mat4[12]=(T*K-b*se-F*Se)*Le,this.mat4[13]=(c*se-s*K+m*Se)*Le,this.mat4[14]=(I*ne-N*q-B*W)*Le,this.mat4[15]=(A*q-P*ne+$*W)*Le,this):null}},{key:"invert3x3",value:function(){var u=this.mat3[0],c=this.mat3[1],s=this.mat3[2],m=this.mat3[3],p=this.mat3[4],b=this.mat3[5],T=this.mat3[6],F=this.mat3[7],k=this.mat3[8],A=k*p-b*F,P=-k*m+b*T,$=F*m-p*T,j=u*A+c*P+s*$;return j?(this.mat3[0]=A*(j=1/j),this.mat3[1]=(-k*c+s*F)*j,this.mat3[2]=(b*c-s*p)*j,this.mat3[3]=P*j,this.mat3[4]=(k*u-s*T)*j,this.mat3[5]=(-b*u+s*m)*j,this.mat3[6]=$*j,this.mat3[7]=(-F*u+c*T)*j,this.mat3[8]=(p*u-c*m)*j,this):null}},{key:"transpose3x3",value:function(u){var c=(u=void 0===u?this.mat3:u)[1],s=u[2],m=u[5];return this.mat3[0]=u[0],this.mat3[1]=u[3],this.mat3[2]=u[6],this.mat3[3]=c,this.mat3[4]=u[4],this.mat3[5]=u[7],this.mat3[6]=s,this.mat3[7]=m,this.mat3[8]=u[8],this}},{key:"inverseTranspose",value:function(u){if(u=u.mat4,void 0===this.mat3?y.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=u[0],this.mat3[1]=u[1],this.mat3[2]=u[2],this.mat3[3]=u[4],this.mat3[4]=u[5],this.mat3[5]=u[6],this.mat3[6]=u[8],this.mat3[7]=u[9],this.mat3[8]=u[10]),u=this.invert3x3())u.transpose3x3(this.mat3);else for(var c=0;c<9;c++)this.mat3[c]=0;return this}},{key:"determinant",value:function(){return(this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])}},{key:"mult",value:function(s){var c;if(s===this||s===this.mat4)c=this.copy().mat4;else if(s instanceof y.default.Matrix)c=s.mat4;else if(f(s))c=s;else{if(16!==arguments.length)return;c=arguments}var m=this.mat4[1],p=this.mat4[2],b=this.mat4[3];return this.mat4[0]=(s=this.mat4[0])*c[0]+m*c[4]+p*c[8]+b*c[12],this.mat4[1]=s*c[1]+m*c[5]+p*c[9]+b*c[13],this.mat4[2]=s*c[2]+m*c[6]+p*c[10]+b*c[14],this.mat4[3]=s*c[3]+m*c[7]+p*c[11]+b*c[15],this.mat4[4]=(s=this.mat4[4])*c[0]+(m=this.mat4[5])*c[4]+(p=this.mat4[6])*c[8]+(b=this.mat4[7])*c[12],this.mat4[5]=s*c[1]+m*c[5]+p*c[9]+b*c[13],this.mat4[6]=s*c[2]+m*c[6]+p*c[10]+b*c[14],this.mat4[7]=s*c[3]+m*c[7]+p*c[11]+b*c[15],this.mat4[8]=(s=this.mat4[8])*c[0]+(m=this.mat4[9])*c[4]+(p=this.mat4[10])*c[8]+(b=this.mat4[11])*c[12],this.mat4[9]=s*c[1]+m*c[5]+p*c[9]+b*c[13],this.mat4[10]=s*c[2]+m*c[6]+p*c[10]+b*c[14],this.mat4[11]=s*c[3]+m*c[7]+p*c[11]+b*c[15],this.mat4[12]=(s=this.mat4[12])*c[0]+(m=this.mat4[13])*c[4]+(p=this.mat4[14])*c[8]+(b=this.mat4[15])*c[12],this.mat4[13]=s*c[1]+m*c[5]+p*c[9]+b*c[13],this.mat4[14]=s*c[2]+m*c[6]+p*c[10]+b*c[14],this.mat4[15]=s*c[3]+m*c[7]+p*c[11]+b*c[15],this}},{key:"apply",value:function(s){var c;if(s===this||s===this.mat4)c=this.copy().mat4;else if(s instanceof y.default.Matrix)c=s.mat4;else if(f(s))c=s;else{if(16!==arguments.length)return;c=arguments}var p,b,T,m=((s=this.mat4)[0]=c[0]*(m=s[0])+c[1]*(p=s[4])+c[2]*(b=s[8])+c[3]*(T=s[12]),s[4]=c[4]*m+c[5]*p+c[6]*b+c[7]*T,s[8]=c[8]*m+c[9]*p+c[10]*b+c[11]*T,s[12]=c[12]*m+c[13]*p+c[14]*b+c[15]*T,s[1]);return s[1]=c[0]*m+c[1]*(p=s[5])+c[2]*(b=s[9])+c[3]*(T=s[13]),s[5]=c[4]*m+c[5]*p+c[6]*b+c[7]*T,s[9]=c[8]*m+c[9]*p+c[10]*b+c[11]*T,s[13]=c[12]*m+c[13]*p+c[14]*b+c[15]*T,s[2]=c[0]*(m=s[2])+c[1]*(p=s[6])+c[2]*(b=s[10])+c[3]*(T=s[14]),s[6]=c[4]*m+c[5]*p+c[6]*b+c[7]*T,s[10]=c[8]*m+c[9]*p+c[10]*b+c[11]*T,s[14]=c[12]*m+c[13]*p+c[14]*b+c[15]*T,s[3]=c[0]*(m=s[3])+c[1]*(p=s[7])+c[2]*(b=s[11])+c[3]*(T=s[15]),s[7]=c[4]*m+c[5]*p+c[6]*b+c[7]*T,s[11]=c[8]*m+c[9]*p+c[10]*b+c[11]*T,s[15]=c[12]*m+c[13]*p+c[14]*b+c[15]*T,this}},{key:"scale",value:function(u,c,s){return u instanceof y.default.Vector?(c=u.y,s=u.z,u=u.x):u instanceof Array&&(c=u[1],s=u[2],u=u[0]),this.mat4[0]*=u,this.mat4[1]*=u,this.mat4[2]*=u,this.mat4[3]*=u,this.mat4[4]*=c,this.mat4[5]*=c,this.mat4[6]*=c,this.mat4[7]*=c,this.mat4[8]*=s,this.mat4[9]*=s,this.mat4[10]*=s,this.mat4[11]*=s,this}},{key:"rotate",value:function(W,ge,se,m){ge instanceof y.default.Vector?(se=ge.y,m=ge.z,ge=ge.x):ge instanceof Array&&(se=ge[1],m=ge[2],ge=ge[0]);var p=(ge*=1/(p=Math.sqrt(ge*ge+se*se+m*m)),se*=1/p,m*=1/p,this.mat4[0]),b=this.mat4[1],T=this.mat4[2],F=this.mat4[3],k=this.mat4[4],A=this.mat4[5],P=this.mat4[6],$=this.mat4[7],j=this.mat4[8],N=this.mat4[9],I=this.mat4[10],B=this.mat4[11],z=Math.sin(W),ne=1-(W=Math.cos(W)),J=ge*ge*ne+W,q=se*ge*ne+m*z,ae=m*ge*ne-se*z,fe=ge*se*ne-m*z,Se=se*se*ne+W,K=m*se*ne+ge*z,R=ge*m*ne+se*z;return se=se*m*ne-ge*z,ge=m*m*ne+W,this.mat4[0]=p*J+k*q+j*ae,this.mat4[1]=b*J+A*q+N*ae,this.mat4[2]=T*J+P*q+I*ae,this.mat4[3]=F*J+$*q+B*ae,this.mat4[4]=p*fe+k*Se+j*K,this.mat4[5]=b*fe+A*Se+N*K,this.mat4[6]=T*fe+P*Se+I*K,this.mat4[7]=F*fe+$*Se+B*K,this.mat4[8]=p*R+k*se+j*ge,this.mat4[9]=b*R+A*se+N*ge,this.mat4[10]=T*R+P*se+I*ge,this.mat4[11]=F*R+$*se+B*ge,this}},{key:"translate",value:function(m){var c=m[0],s=m[1];this.mat4[12]+=this.mat4[0]*c+this.mat4[4]*s+this.mat4[8]*(m=m[2]||0),this.mat4[13]+=this.mat4[1]*c+this.mat4[5]*s+this.mat4[9]*m,this.mat4[14]+=this.mat4[2]*c+this.mat4[6]*s+this.mat4[10]*m,this.mat4[15]+=this.mat4[3]*c+this.mat4[7]*s+this.mat4[11]*m}},{key:"rotateX",value:function(u){this.rotate(u,1,0,0)}},{key:"rotateY",value:function(u){this.rotate(u,0,1,0)}},{key:"rotateZ",value:function(u){this.rotate(u,0,0,1)}},{key:"perspective",value:function(p,c,s,m){p=1/Math.tan(p/2);var b=1/(s-m);return this.mat4[0]=p/c,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=p,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(m+s)*b,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*m*s*b,this.mat4[15]=0,this}},{key:"ortho",value:function(u,c,s,m,p,b){var T=1/(u-c),F=1/(s-m),k=1/(p-b);return this.mat4[0]=-2*T,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*F,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*k,this.mat4[11]=0,this.mat4[12]=(u+c)*T,this.mat4[13]=(m+s)*F,this.mat4[14]=(b+p)*k,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(u,c,s,m){var p=new Array(4),b=this.mat4;return p[0]=b[0]*u+b[4]*c+b[8]*s+b[12]*m,p[1]=b[1]*u+b[5]*c+b[9]*s+b[13]*m,p[2]=b[2]*u+b[6]*c+b[10]*s+b[14]*m,p[3]=b[3]*u+b[7]*c+b[11]*s+b[15]*m,p}},{key:"multiplyPoint",value:function(s){var m=this.multiplyVec4(m=s.x,s.y,s=s.z,1);return new y.default.Vector(m[0],m[1],m[2])}},{key:"multiplyAndNormalizePoint",value:function(s){var m;return(m=this.multiplyVec4(m=s.x,s.y,s=s.z,1))[0]/=m[3],m[1]/=m[3],m[2]/=m[3],new y.default.Vector(m[0],m[1],m[2])}},{key:"multiplyDirection",value:function(s){var m=this.multiplyVec4(m=s.x,s.y,s=s.z,0);return new y.default.Vector(m[0],m[1],m[2])}},{key:"mult3x3",value:function(s){var c;if(s===this||s===this.mat3)c=this.copy().mat3;else if(s instanceof y.default.Matrix)c=s.mat3;else if(f(s))c=s;else{if(9!==arguments.length)return;c=arguments}var m=this.mat3[1],p=this.mat3[2];return this.mat3[0]=(s=this.mat3[0])*c[0]+m*c[3]+p*c[6],this.mat3[1]=s*c[1]+m*c[4]+p*c[7],this.mat3[2]=s*c[2]+m*c[5]+p*c[8],this.mat3[3]=(s=this.mat3[3])*c[0]+(m=this.mat3[4])*c[3]+(p=this.mat3[5])*c[6],this.mat3[4]=s*c[1]+m*c[4]+p*c[7],this.mat3[5]=s*c[2]+m*c[5]+p*c[8],this.mat3[6]=(s=this.mat3[6])*c[0]+(m=this.mat3[7])*c[3]+(p=this.mat3[8])*c[6],this.mat3[7]=s*c[1]+m*c[4]+p*c[7],this.mat3[8]=s*c[2]+m*c[5]+p*c[8],this}},{key:"column",value:function(u){return new y.default.Vector(this.mat3[3*u],this.mat3[3*u+1],this.mat3[3*u+2])}},{key:"row",value:function(u){return new y.default.Vector(this.mat3[u],this.mat3[u+3],this.mat3[u+6])}},{key:"diagonal",value:function(){return void 0!==this.mat3?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(u,c){return(c=void 0===c?u.copy():c).x=this.row(0).dot(u),c.y=this.row(1).dot(u),c.z=this.row(2).dot(u),c}},{key:"createSubMatrix3x3",value:function(){var u=new y.default.Matrix("mat3");return u.mat3[0]=this.mat4[0],u.mat3[1]=this.mat4[1],u.mat3[2]=this.mat4[2],u.mat3[3]=this.mat4[4],u.mat3[4]=this.mat4[5],u.mat3[5]=this.mat4[6],u.mat3[6]=this.mat4[8],u.mat3[7]=this.mat4[9],u.mat3[8]=this.mat4[10],u}}])&&_(a.prototype,l),d&&_(a,d),w}(),C.default=E=y.default.Matrix},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236}],334:[function(r,H,C){"use strict";function y(_,h){for(var f=0;f<h.length;f++){var E=h[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}r("core-js/modules/es.array.map"),r("core-js/modules/es.array.map"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.RenderBuffer=function(){function _(w,a,l,d,u,c){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");this.size=w,this.src=a,this.dst=l,this.attr=d,this._renderer=u,this.map=c}var h,f;return h=_,(f=[{key:"_prepareBuffer",value:function(w,a){var l,d,u,m,c=this._renderer.GL,s=w.model||w;(m=(m=a.attributes)[this.attr])&&(l=w[this.dst],0<(d=s[this.src]).length?((u=!l)&&(w[this.dst]=l=c.createBuffer()),c.bindBuffer(c.ARRAY_BUFFER,l),!u&&!1===s.dirtyFlags[this.src]||(u=(w=this.map)?w(d):d,this._renderer._bindBuffer(l,c.ARRAY_BUFFER,u),s.dirtyFlags[this.src]=!1),a.enableAttrib(m,this.size)):-1!==(w=m.location)&&this._renderer.registerEnabled.has(w)&&(c.disableVertexAttribArray(w),this._renderer.registerEnabled.delete(w)))}}])&&y(h.prototype,f),_}(),C.default=r=r.default.RenderBuffer},{"../core/main":280,"core-js/modules/es.array.map":167}],335:[function(r,H,C){"use strict";function y(d){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(u){return y(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(d)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.find-index"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.map"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.find-index"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.map"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(l=r("../core/main"))&&l.__esModule?l:{default:l},f=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var u=E();if(u&&u.has(d))return u.get(d);var c,s={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in d){var p;Object.prototype.hasOwnProperty.call(d,c)&&((p=m?Object.getOwnPropertyDescriptor(d,c):null)&&(p.get||p.set)?Object.defineProperty(s,c,p):s[c]=d[c])}return s.default=d,u&&u.set(d,s),s}(r("../core/constants"));function E(){var d;return"function"!=typeof WeakMap?null:(E=function(){return d},d=new WeakMap)}function w(d){return function(u){if(Array.isArray(u)){for(var c=0,s=new Array(u.length);c<u.length;c++)s[c]=u[c];return s}}(d)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r("./p5.RenderBuffer"),h.default.RendererGL.prototype.beginShape=function(d){return this.immediateMode.shapeMode=void 0!==d?d:f.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var a={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},l=(h.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==f.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},h.default.RendererGL.prototype.vertex=function(d,u){if(this.immediateMode.shapeMode===f.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var c in a){var s=a[c];(c=this.immediateMode.geometry[c]).push.apply(c,w(c.slice(c.length-3*s,c.length-2*s)).concat(w(c.slice(c.length-s,c.length))))}var m,p,b=m=p=0,T=(3===arguments.length?b=arguments[2]:4===arguments.length?(m=arguments[2],p=arguments[3]):5===arguments.length&&(b=arguments[2],m=arguments[3],p=arguments[4]),new h.default.Vector(d,u,b));return this.immediateMode.geometry.vertices.push(T),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.immediateMode.geometry.vertexColors.push((T=this.curFillColor||[.5,.5,.5,1])[0],T[1],T[2],T[3]),this.immediateMode.geometry.vertexStrokeColors.push((T=this.curStrokeColor||[.5,.5,.5,1])[0],T[1],T[2],T[3]),this.textureMode!==f.IMAGE||this.isProcessingVertices||(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(m/=this._tex.width,p/=this._tex.height):void 0===this.userFillShader&&void 0===this.userStrokeShader&&void 0===this.userPointShader&&null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(m,p),this.immediateMode._bezierVertex[0]=d,this.immediateMode._bezierVertex[1]=u,this.immediateMode._bezierVertex[2]=b,this.immediateMode._quadraticVertex[0]=d,this.immediateMode._quadraticVertex[1]=u,this.immediateMode._quadraticVertex[2]=b,this},h.default.RendererGL.prototype.normal=function(d,u,c){return this._currentNormal=d instanceof h.default.Vector?d:new h.default.Vector(d,u,c),this},h.default.RendererGL.prototype.endShape=function(d,u,c,s,m,p){var b=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1;return this.immediateMode.shapeMode===f.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this.immediateMode.shapeMode!==f.LINE_STRIP&&this.immediateMode.shapeMode!==f.LINES||(this.immediateMode.shapeMode=f.TRIANGLE_FAN),this.immediateMode.shapeMode===f.QUADS?this.immediateMode.shapeMode=f.TRIANGLES:this.immediateMode.shapeMode===f.QUAD_STRIP&&(this.immediateMode.shapeMode=f.TRIANGLE_STRIP),this._doFill&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(b),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},h.default.RendererGL.prototype._processVertices=function(d){var u;0!==this.immediateMode.geometry.vertices.length&&(d=d===f.CLOSE,this._doStroke&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,d),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),u=this.immediateMode.shapeMode===f.TESS,d=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||u||d)&&this.immediateMode.shapeMode!==f.LINES&&this._tesselateShape())},h.default.RendererGL.prototype._calculateEdges=function(d,u,c){var s=[],m=0,p=this.immediateMode.contourIndices.slice(),b=0;switch(d){case f.TRIANGLE_STRIP:for(m=0;m<u.length-2;m++)s.push([m,m+1]),s.push([m,m+2]);s.push([m,m+1]);break;case f.TRIANGLE_FAN:for(m=1;m<u.length-1;m++)s.push([0,m]),s.push([m,m+1]);s.push([0,u.length-1]);break;case f.TRIANGLES:for(m=0;m<u.length-2;m+=3)s.push([m,m+1]),s.push([m+1,m+2]),s.push([m+2,m]);break;case f.LINES:for(m=0;m<u.length-1;m+=2)s.push([m,m+1]);break;case f.QUADS:for(m=0;m<u.length-5;m+=6)s.push([m,m+1]),s.push([m+1,m+2]),s.push([m+3,m+5]),s.push([m+4,m+5]);break;case f.QUAD_STRIP:for(m=0;m<u.length-2;m+=2)s.push([m,m+1]),s.push([m,m+2]),s.push([m+1,m+3]);s.push([m,m+1]);break;default:for(m=0;m<u.length;m++)m+1<u.length&&m+1!==p[0]?s.push([m,m+1]):((c||b)&&s.push([m,b]),0<p.length&&(b=p.shift()))}return d!==f.TESS&&c&&s.push([u.length-1,0]),s},h.default.RendererGL.prototype._tesselateShape=function(){for(var d=this,u=(this.immediateMode.shapeMode=f.TRIANGLES,[[]]),c=0;c<this.immediateMode.geometry.vertices.length;c++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===c&&(this.immediateMode.contourIndices.shift(),u.push([])),u[u.length-1].push(this.immediateMode.geometry.vertices[c].x,this.immediateMode.geometry.vertices[c].y,this.immediateMode.geometry.vertices[c].z,this.immediateMode.geometry.uvs[2*c],this.immediateMode.geometry.uvs[2*c+1],this.immediateMode.geometry.vertexColors[4*c],this.immediateMode.geometry.vertexColors[4*c+1],this.immediateMode.geometry.vertexColors[4*c+2],this.immediateMode.geometry.vertexColors[4*c+3],this.immediateMode.geometry.vertexNormals[c].x,this.immediateMode.geometry.vertexNormals[c].y,this.immediateMode.geometry.vertexNormals[c].z);for(var s,m=this._triangulate(u),p=this.immediateMode.geometry.vertices,b=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),T=0,F=m.length;T<F;T+=h.default.RendererGL.prototype.tessyVertexSize)b.push.apply(b,w(m.slice(T+5,T+9))),this.normal.apply(this,w(m.slice(T+9,T+12))),this.vertex.apply(this,w(m.slice(T,T+5)));this.geometryBuilder&&(s=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(k){return k.map(function(A){if(!s.has(A)){var P=p[A],$=d.immediateMode.geometry.vertices.findIndex(function(ne){return P.x===ne.x&&P.y===ne.y&&P.z===ne.z});if(-1===$){for(var j=1/0,N=0,I=0;I<d.immediateMode.geometry.vertices.length;I++){var z,W,B=P.y-(z=d.immediateMode.geometry.vertices[I]).y;(W=(W=P.x-z.x)*W+B*B+(z=P.z-z.z)*z)<j&&(j=W,N=I)}$=N}s.set(A,$)}return s.get(A)})})),this.immediateMode.geometry.vertexColors=b},h.default.RendererGL.prototype._drawImmediateFill=function(){var d,u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,c=this.GL,s=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,d=this._getImmediateFillShader(),this._setFillUniforms(d),!0),m=!1,p=void 0;try{for(var b,T=this.immediateMode.buffers.fill[Symbol.iterator]();!(s=(b=T.next()).done);s=!0)b.value._prepareBuffer(this.immediateMode.geometry,d)}catch(F){m=!0,p=F}finally{try{s||null==T.return||T.return()}finally{if(m)throw p}}if(d.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),1===u)c.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{c.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,u)}catch{console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode")}d.unbindShader()},h.default.RendererGL.prototype._drawImmediateStroke=function(){var d=this.GL,u=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),c=(this._setStrokeUniforms(u),!0),s=!1,m=void 0;try{for(var p,b=this.immediateMode.buffers.stroke[Symbol.iterator]();!(c=(p=b.next()).done);c=!0)p.value._prepareBuffer(this.immediateMode.geometry,u)}catch(T){s=!0,m=T}finally{try{c||null==b.return||b.return()}finally{if(s)throw m}}u.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),d.drawArrays(d.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),u.unbindShader()},h.default.RendererGL);C.default=l},{"../core/constants":269,"../core/main":280,"./p5.RenderBuffer":334,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.find-index":157,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.map":174,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],336:[function(r,H,C){"use strict";function y(a){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(l){return y(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.some"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.uint16-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.some"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.uint16-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var h=(w=r("../core/main"))&&w.__esModule?w:{default:w},f=(r("./p5.RendererGL"),r("./p5.RenderBuffer"),function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var l=E();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(r("../core/constants")));function E(){var a;return"function"!=typeof WeakMap?null:(E=function(){return a},a=new WeakMap)}h.default.RendererGL.prototype.freeGeometry=function(a){a.gid?this._freeBuffers(a.gid):console.warn("The model you passed to freeGeometry does not have an id!")},h.default.RendererGL.prototype._initBufferDefaults=function(a){var l;return this._freeBuffers(a),1e3<Object.keys(this.retainedMode.geometry).length&&(l=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(l)),this.retainedMode.geometry[a]={}},h.default.RendererGL.prototype._freeBuffers=function(a){var l,d=this.retainedMode.geometry[a];function u(c){var s=!0,m=!1,p=void 0;try{for(var b,T=c[Symbol.iterator]();!(s=(b=T.next()).done);s=!0){var F=b.value;d[F.dst]&&(l.deleteBuffer(d[F.dst]),d[F.dst]=null)}}catch(k){m=!0,p=k}finally{try{s||null==T.return||T.return()}finally{if(m)throw p}}}d&&(delete this.retainedMode.geometry[a],l=this.GL,d.indexBuffer&&l.deleteBuffer(d.indexBuffer),u(this.retainedMode.buffers.stroke),u(this.retainedMode.buffers.fill))},h.default.RendererGL.prototype.createBuffers=function(m,l){var d,u,c,s=this.GL,p=((m=this._initBufferDefaults(m)).model=l,m.indexBuffer);return l.faces.length?(p=p||(m.indexBuffer=s.createBuffer()),c=(u=(d=h.default.RendererGL.prototype._flatten(l.faces)).some(function(b){return 65535<b}))?Uint32Array:Uint16Array,this._bindBuffer(p,s.ELEMENT_ARRAY_BUFFER,d,c),m.indexBufferType=u?s.UNSIGNED_INT:s.UNSIGNED_SHORT,m.vertexCount=3*l.faces.length):(p&&(s.deleteBuffer(p),m.indexBuffer=null),m.vertexCount=l.vertices?l.vertices.length:0),m.lineVertexCount=l.lineVertices?l.lineVertices.length/3:0,m},h.default.RendererGL.prototype.drawBuffers=function(a){var l=this.GL,d=this.retainedMode.geometry[a];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[a].vertexCount){this._useVertexColor=0<d.model.vertexColors.length;var u=this._getRetainedFillShader(),c=(this._setFillUniforms(u),!0),s=!1,m=void 0;try{for(var p,b=this.retainedMode.buffers.fill[Symbol.iterator]();!(c=(p=b.next()).done);c=!0)p.value._prepareBuffer(d,u)}catch(P){s=!0,m=P}finally{try{c||null==b.return||b.return()}finally{if(s)throw m}}u.disableRemainingAttributes(),d.indexBuffer&&this._bindBuffer(d.indexBuffer,l.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,d.model.hasFillTransparency()),this._drawElements(l.TRIANGLES,a),u.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<d.lineVertexCount){this._useLineColor=0<d.model.vertexStrokeColors.length;var T=this._getRetainedStrokeShader(),F=(this._setStrokeUniforms(T),!0);s=!1,m=void 0;try{for(var k,A=this.retainedMode.buffers.stroke[Symbol.iterator]();!(F=(k=A.next()).done);F=!0)k.value._prepareBuffer(d,T)}catch(j){s=!0,m=j}finally{try{F||null==A.return||A.return()}finally{if(s)throw m}}T.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,d.model.hasStrokeTransparency()),this._drawArrays(l.TRIANGLES,a),T.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(d),this},h.default.RendererGL.prototype.drawBuffersScaled=function(a,l,d,u){var c=this.uMVMatrix.copy();try{this.uMVMatrix.scale(l,d,u),this.drawBuffers(a)}finally{this.uMVMatrix=c}},h.default.RendererGL.prototype._drawArrays=function(a,l){return this.GL.drawArrays(a,0,this.retainedMode.geometry[l].lineVertexCount),this},h.default.RendererGL.prototype._drawElements=function(a,d){var u=this.GL;if((d=this.retainedMode.geometry[d]).indexBuffer){if(this._pInst.webglVersion!==f.WEBGL2&&d.indexBufferType===u.UNSIGNED_INT&&!u.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");u.drawElements(u.TRIANGLES,d.vertexCount,d.indexBufferType,0)}else u.drawArrays(a||u.TRIANGLES,0,d.vertexCount)},h.default.RendererGL.prototype._drawPoints=function(a,l){var d=this.GL,u=this._getImmediatePointShader();this._setPointUniforms(u),this._bindBuffer(l,d.ARRAY_BUFFER,this._vToNArray(a),Float32Array,d.STATIC_DRAW),u.enableAttrib(u.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),d.drawArrays(d.Points,0,a.length),u.unbindShader()};var w=h.default.RendererGL;C.default=w},{"../core/constants":269,"../core/main":280,"./p5.RenderBuffer":334,"./p5.RendererGL":337,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.some":169,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint16-array":237,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],337:[function(I,H,C){"use strict";function y(q){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ae){return typeof ae}:function(ae){return ae&&"function"==typeof Symbol&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae})(q)}function _(q){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(ae){return y(ae)}:function(ae){return ae&&"function"==typeof Symbol&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":y(ae)})(q)}I("core-js/modules/es.symbol"),I("core-js/modules/es.symbol.description"),I("core-js/modules/es.symbol.iterator"),I("core-js/modules/es.array.concat"),I("core-js/modules/es.array.copy-within"),I("core-js/modules/es.array.every"),I("core-js/modules/es.array.fill"),I("core-js/modules/es.array.flat"),I("core-js/modules/es.array.flat-map"),I("core-js/modules/es.array.from"),I("core-js/modules/es.array.includes"),I("core-js/modules/es.array.iterator"),I("core-js/modules/es.array.map"),I("core-js/modules/es.array.slice"),I("core-js/modules/es.array.some"),I("core-js/modules/es.array.unscopables.flat"),I("core-js/modules/es.array.unscopables.flat-map"),I("core-js/modules/es.map"),I("core-js/modules/es.object.assign"),I("core-js/modules/es.object.get-own-property-descriptor"),I("core-js/modules/es.object.get-prototype-of"),I("core-js/modules/es.object.to-string"),I("core-js/modules/es.reflect.construct"),I("core-js/modules/es.reflect.get"),I("core-js/modules/es.regexp.to-string"),I("core-js/modules/es.set"),I("core-js/modules/es.string.includes"),I("core-js/modules/es.string.iterator"),I("core-js/modules/es.typed-array.float32-array"),I("core-js/modules/es.typed-array.float64-array"),I("core-js/modules/es.typed-array.int16-array"),I("core-js/modules/es.typed-array.uint8-array"),I("core-js/modules/es.typed-array.uint16-array"),I("core-js/modules/es.typed-array.uint32-array"),I("core-js/modules/es.typed-array.copy-within"),I("core-js/modules/es.typed-array.every"),I("core-js/modules/es.typed-array.fill"),I("core-js/modules/es.typed-array.filter"),I("core-js/modules/es.typed-array.find"),I("core-js/modules/es.typed-array.find-index"),I("core-js/modules/es.typed-array.for-each"),I("core-js/modules/es.typed-array.includes"),I("core-js/modules/es.typed-array.index-of"),I("core-js/modules/es.typed-array.iterator"),I("core-js/modules/es.typed-array.join"),I("core-js/modules/es.typed-array.last-index-of"),I("core-js/modules/es.typed-array.map"),I("core-js/modules/es.typed-array.reduce"),I("core-js/modules/es.typed-array.reduce-right"),I("core-js/modules/es.typed-array.reverse"),I("core-js/modules/es.typed-array.set"),I("core-js/modules/es.typed-array.slice"),I("core-js/modules/es.typed-array.some"),I("core-js/modules/es.typed-array.sort"),I("core-js/modules/es.typed-array.subarray"),I("core-js/modules/es.typed-array.to-locale-string"),I("core-js/modules/es.typed-array.to-string"),I("core-js/modules/es.weak-map"),I("core-js/modules/web.dom-collections.iterator"),I("core-js/modules/es.symbol"),I("core-js/modules/es.symbol.description"),I("core-js/modules/es.symbol.iterator"),I("core-js/modules/es.array.concat"),I("core-js/modules/es.array.copy-within"),I("core-js/modules/es.array.every"),I("core-js/modules/es.array.fill"),I("core-js/modules/es.array.flat"),I("core-js/modules/es.array.flat-map"),I("core-js/modules/es.array.from"),I("core-js/modules/es.array.includes"),I("core-js/modules/es.array.iterator"),I("core-js/modules/es.array.map"),I("core-js/modules/es.array.slice"),I("core-js/modules/es.array.some"),I("core-js/modules/es.array.unscopables.flat"),I("core-js/modules/es.array.unscopables.flat-map"),I("core-js/modules/es.map"),I("core-js/modules/es.object.assign"),I("core-js/modules/es.object.to-string"),I("core-js/modules/es.set"),I("core-js/modules/es.string.includes"),I("core-js/modules/es.string.iterator"),I("core-js/modules/es.typed-array.float32-array"),I("core-js/modules/es.typed-array.float64-array"),I("core-js/modules/es.typed-array.int16-array"),I("core-js/modules/es.typed-array.uint8-array"),I("core-js/modules/es.typed-array.uint16-array"),I("core-js/modules/es.typed-array.uint32-array"),I("core-js/modules/es.typed-array.copy-within"),I("core-js/modules/es.typed-array.every"),I("core-js/modules/es.typed-array.fill"),I("core-js/modules/es.typed-array.filter"),I("core-js/modules/es.typed-array.find"),I("core-js/modules/es.typed-array.find-index"),I("core-js/modules/es.typed-array.for-each"),I("core-js/modules/es.typed-array.includes"),I("core-js/modules/es.typed-array.index-of"),I("core-js/modules/es.typed-array.iterator"),I("core-js/modules/es.typed-array.join"),I("core-js/modules/es.typed-array.last-index-of"),I("core-js/modules/es.typed-array.map"),I("core-js/modules/es.typed-array.reduce"),I("core-js/modules/es.typed-array.reduce-right"),I("core-js/modules/es.typed-array.reverse"),I("core-js/modules/es.typed-array.set"),I("core-js/modules/es.typed-array.slice"),I("core-js/modules/es.typed-array.some"),I("core-js/modules/es.typed-array.sort"),I("core-js/modules/es.typed-array.subarray"),I("core-js/modules/es.typed-array.to-locale-string"),I("core-js/modules/es.typed-array.to-string"),I("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.readPixelsWebGL=ne,C.readPixelWebGL=J,C.default=void 0;var h=d(I("../core/main")),f=function(q){if(q&&q.__esModule)return q;if(null===q||"object"!==_(q)&&"function"!=typeof q)return{default:q};var ae=l();if(ae&&ae.has(q))return ae.get(q);var fe,Se={},K=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(fe in q){var R;Object.prototype.hasOwnProperty.call(q,fe)&&((R=K?Object.getOwnPropertyDescriptor(q,fe):null)&&(R.get||R.set)?Object.defineProperty(Se,fe,R):Se[fe]=q[fe])}return Se.default=q,ae&&ae.set(q,Se),Se}(I("../core/constants")),E=d(I("./GeometryBuilder")),w=d(I("libtess")),a=(I("./p5.Shader"),I("./p5.Camera"),I("../core/p5.Renderer"),I("./p5.Matrix"),I("./p5.Framebuffer"),I("path"),I("./p5.Texture"));function l(){var q;return"function"!=typeof WeakMap?null:(l=function(){return q},q=new WeakMap)}function d(q){return q&&q.__esModule?q:{default:q}}function u(q){return function(ae){if(Array.isArray(ae)){for(var fe=0,Se=new Array(ae.length);fe<ae.length;fe++)Se[fe]=ae[fe];return Se}}(q)||function(ae){if(Symbol.iterator in Object(ae)||"[object Arguments]"===Object.prototype.toString.call(ae))return Array.from(ae)}(q)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(q,ae){for(var fe=0;fe<ae.length;fe++){var Se=ae[fe];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(q,Se.key,Se)}}function s(q,ae,fe){return(s=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(se,K,R){if(se=function(ge,De){for(;!Object.prototype.hasOwnProperty.call(ge,De)&&null!==(ge=T(ge)););return ge}(se,K))return(se=Object.getOwnPropertyDescriptor(se,K)).get?se.get.call(R):se.value})(q,ae,fe||q)}function m(q,ae){return(m=Object.setPrototypeOf||function(fe,Se){return fe.__proto__=Se,fe})(q,ae)}function b(q){if(void 0===q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function T(q){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(ae){return ae.__proto__||Object.getPrototypeOf(ae)})(q)}function F(q,ae,fe){ae in q?Object.defineProperty(q,ae,{value:fe,enumerable:!0,configurable:!0,writable:!0}):q[ae]=fe}function k(q,ae){N+="#define STROKE_CAP_".concat(q," ").concat(ae,"\n"),$[f[q]]=ae}function A(q,ae){N+="#define STROKE_JOIN_".concat(q," ").concat(ae,"\n"),j[f[q]]=ae}var P,$={},j={},N="",B={sphereMappingFrag:"#define PI 3.141592\n\nprecision highp float;\n  \nuniform sampler2D uSampler;\nuniform mat3 uNewNormalMatrix;\nuniform float uFovY;\nuniform float uAspect;\n\nvarying vec2 vTexCoord;\n  \nvoid main() {\n    float uFovX = uFovY * uAspect; \n    vec4 newTexColor = texture2D(uSampler, vTexCoord);\n    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);\n    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);\n    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );\n    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);\n    vec2 suv;\n    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);\n    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;\n    newTexColor = texture2D(uSampler, suv.xy);\n    gl_FragColor = newTexColor;\n}\n",immediateVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nOUT vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",normalVert:"IN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec4 uMaterialColor;\nuniform bool uUseVertexColor;\n\nOUT vec3 vVertexNormal;\nOUT highp vec2 vVertTexCoord;\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",normalFrag:"IN vec3 vVertexNormal;\nvoid main(void) {\n  OUT_COLOR = vec4(vVertexNormal, 1.0);\n}\n",basicFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",lightVert:(k("ROUND",0),k("PROJECT",1),k("SQUARE",2),A("ROUND",0),A("MITER",1),A("BEVEL",2),(I='#define PI 3.141592\n\nprecision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\nuniform mat3 uCameraRotation;\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\nuniform float metallic;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\n// setting from  _setImageLightUniforms()\n// boolean to initiate the calculateImageDiffuse and calculateImageSpecular\nuniform bool uUseImageLight;\n// texture for use in calculateImageDiffuse\nuniform sampler2D environmentMapDiffused;\n// texture for use in calculateImageSpecular\nuniform sampler2D environmentMapSpecular;\n// roughness for use in calculateImageSpecular\nuniform float levelOfDetail;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  float specularIntensity = mix(1.0, 0.4, metallic);\n  float diffuseIntensity = mix(1.0, 0.1, metallic);\n  if (uSpecular)\n    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;\n    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;\n  return lr;\n}\n\n// converts the range of "value" from [min1 to max1] to [min2 to max2]\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nvec2 mapTextureToNormal( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );\n  return angles;\n}\n\n\nvec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){\n  // make 2 seperate builds \n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position\n  vec3 worldNormal = normalize(vNormal * uCameraRotation);\n  vec2 newTexCoor = mapTextureToNormal( worldNormal );\n  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);\n}\n\nvec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){\n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);\n  vec3 worldNormal = normalize(vNormal);\n  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );\n  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;\n  vec2 newTexCoor = mapTextureToNormal( R );\n#ifdef WEBGL2\n  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);\n#else\n  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);\n#endif\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(\n    pow(outColor.xyz, vec3(10)),\n    pow(outColor.xyz, vec3(1.2)),\n    metallic \n  );\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  if( uUseImageLight ){\n    totalDiffuse += calculateImageDiffuse(normal, modelPosition);\n    totalSpecular += calculateImageSpecular(normal, modelPosition);\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n')+"// include lighting.glgl\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT highp vec2 vVertTexCoord;\nOUT vec3 vDiffuseColor;\nOUT vec3 vSpecularColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n"),lightTextureFrag:"uniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nIN highp vec2 vVertTexCoord;\nIN vec3 vDiffuseColor;\nIN vec3 vSpecularColor;\nIN vec4 vColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    OUT_COLOR = vColor;\n  }\n  else {\n    vec4 baseColor = isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);\n  }\n}\n",phongVert:"precision highp int;\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT vec3 vNormal;\nOUT vec2 vTexCoord;\nOUT vec3 vViewPosition;\nOUT vec3 vAmbientColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",phongFrag:I+"// include lighting.glsl\nprecision highp int;\n\nuniform bool uHasSetAmbient;\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nIN vec3 vNormal;\nIN vec2 vTexCoord;\nIN vec3 vViewPosition;\nIN vec3 vAmbientColor;\nIN vec4 vColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  vec4 baseColor = isTexture\n    // Textures come in with premultiplied alpha. To apply tint and still have\n    // premultiplied alpha output, we need to multiply the RGB channels by the\n    // tint RGB, and all channels by the tint alpha.\n    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n    // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n    // channels by alpha to convert it to premultiplied alpha.\n    : vec4(vColor.rgb * vColor.a, vColor.a);\n  OUT_COLOR = vec4(diffuse * baseColor.rgb + \n                    vAmbientColor * (\n                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb\n                    ) + \n                    specular * uSpecularMatColor.rgb + \n                    uEmissiveMatColor.rgb, baseColor.a);\n}\n",fontVert:"IN vec3 aPosition;\nIN vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nOUT vec2 vTexCoord;\nOUT float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // Expand glyph bounding boxes by 1px on each side to give a bit of room\n  // for antialiasing\n  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;\n  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;\n  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;\n  vec2 pixelScale = vec2(\n    1. / length(newOrigin - newDX),\n    1. / length(newOrigin - newDY)\n  );\n  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);\n  vec2 textureOffset = offset * (1. / vec2(\n    uGlyphRect.z - uGlyphRect.x,\n    uGlyphRect.w - uGlyphRect.y\n  ));\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n\n  positionVec4.xy += offset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord + textureOffset;\n  w = gl_Position.w;\n}\n",fontFrag:"#ifndef WEBGL2\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nIN vec2 vTexCoord;\n\n// some helper functions\nint ROUND(float v) { return ifloor(v + 0.5); }\nivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = ROUND(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n  OUT_COLOR *= saturate(max(antialias, cover));\n}\n",lineVert:N+"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nprecision mediump int;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform bool uUseLineColor;\nuniform vec4 uMaterialColor;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\nuniform int uStrokeJoin;\n\nIN vec4 aPosition;\nIN vec3 aTangentIn;\nIN vec3 aTangentOut;\nIN float aSide;\nIN vec4 aVertexColor;\n\nOUT vec4 vColor;\nOUT vec2 vTangent;\nOUT vec2 vCenter;\nOUT vec2 vPosition;\nOUT float vMaxDist;\nOUT float vCap;\nOUT float vJoin;\n\nvec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {\n  // Rotate and translate so a starts at the origin and goes out to the right\n  bPoint -= aPoint;\n  vec2 rotatedBFrom = vec2(\n    bPoint.x*aDir.x + bPoint.y*aDir.y,\n    bPoint.y*aDir.x - bPoint.x*aDir.y\n  );\n  vec2 bTo = bPoint + bDir;\n  vec2 rotatedBTo = vec2(\n    bTo.x*aDir.x + bTo.y*aDir.y,\n    bTo.y*aDir.x - bTo.x*aDir.y\n  );\n  float intersectionDistance =\n    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /\n    (rotatedBTo.y - rotatedBFrom.y);\n  return aPoint + aDir * intersectionDistance;\n}\n\nvoid main() {\n  // Caps have one of either the in or out tangent set to 0\n  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))\n    ? 1. : 0.;\n\n  // Joins have two unique, defined tangents\n  vJoin = (\n    aTangentIn != vec3(0.) &&\n    aTangentOut != vec3(0.) &&\n    aTangentIn != aTangentOut\n  ) ? 1. : 0.;\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));\n  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));\n\n  float facingCamera = pow(\n    // The word space tangent's z value is 0 if it's facing the camera\n    abs(normalize(posqIn-posp).z),\n\n    // Using pow() here to ramp `facingCamera` up from 0 to 1 really quickly\n    // so most lines get scaled and don't get clipped\n    0.25\n  );\n\n  // using a scale <1 moves the lines towards the camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  float scale = mix(1., 0.995, facingCamera);\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posqIn.xyz = posqIn.xyz * scale;\n  posqOut.xyz = posqOut.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 qIn = uProjectionMatrix * posqIn;\n  vec4 qOut = uProjectionMatrix * posqOut;\n  vCenter = p.xy;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);\n  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);\n\n  vec2 curPerspScale;\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n\n    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.\n    // Multiplying again by its sign here negates the flip to get just the scale.\n    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  vec2 offset;\n  if (vJoin == 1.) {\n    vTangent = normalize(tangentIn + tangentOut);\n    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);\n    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);\n    float side = sign(aSide);\n    float sideEnum = abs(aSide);\n\n    // We generate vertices for joins on either side of the centerline, but\n    // the \"elbow\" side is the only one needing a join. By not setting the\n    // offset for the other side, all its vertices will end up in the same\n    // spot and not render, effectively discarding it.\n    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {\n      // Side enums:\n      //   1: the side going into the join\n      //   2: the middle of the join\n      //   3: the side going out of the join\n      if (sideEnum == 2.) {\n        // Calculate the position + tangent on either side of the join, and\n        // find where the lines intersect to find the elbow of the join\n        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;\n        vec2 intersection = lineIntersection(\n          c + (side * normalIn * uStrokeWeight / 2.),\n          tangentIn,\n          c + (side * normalOut * uStrokeWeight / 2.),\n          tangentOut\n        );\n        offset = (intersection - c);\n\n        // When lines are thick and the angle of the join approaches 180, the\n        // elbow might be really far from the center. We'll apply a limit to\n        // the magnitude to avoid lines going across the whole screen when this\n        // happens.\n        float mag = length(offset);\n        float maxMag = 3. * uStrokeWeight;\n        if (mag > maxMag) {\n          offset *= maxMag / mag;\n        }\n      } else if (sideEnum == 1.) {\n        offset = side * normalIn * uStrokeWeight / 2.;\n      } else if (sideEnum == 3.) {\n        offset = side * normalOut * uStrokeWeight / 2.;\n      }\n    }\n    if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);\n      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));\n    } else {\n      vMaxDist = uStrokeWeight / 2.;\n    }\n  } else {\n    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;\n    vTangent = tangent;\n    vec2 normal = vec2(-tangent.y, tangent.x);\n\n    float normalOffset = sign(aSide);\n    // Caps will have side values of -2 or 2 on the edge of the cap that\n    // extends out from the line\n    float tangentOffset = abs(aSide) - 1.;\n    offset = (normal * normalOffset + tangent * tangentOffset) *\n      uStrokeWeight * 0.5;\n    vMaxDist = uStrokeWeight / 2.;\n  }\n  vPosition = vCenter + offset;\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n  \n  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);\n}\n",lineFrag:N+"precision mediump int;\n\nuniform vec4 uMaterialColor;\nuniform int uStrokeCap;\nuniform int uStrokeJoin;\nuniform float uStrokeWeight;\n\nIN vec4 vColor;\nIN vec2 vTangent;\nIN vec2 vCenter;\nIN vec2 vPosition;\nIN float vMaxDist;\nIN float vCap;\nIN float vJoin;\n\nfloat distSquared(vec2 a, vec2 b) {\n  vec2 aToB = b - a;\n  return dot(aToB, aToB);\n}\n\nvoid main() {\n  if (vCap > 0.) {\n    if (\n      uStrokeCap == STROKE_CAP_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (\n      uStrokeCap == STROKE_CAP_SQUARE &&\n      dot(vPosition - vCenter, vTangent) > 0.\n    ) {\n      discard;\n    }\n    // Use full area for PROJECT\n  } else if (vJoin > 0.) {\n    if (\n      uStrokeJoin == STROKE_JOIN_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 normal = vec2(-vTangent.y, vTangent.x);\n      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {\n        discard;\n      }\n    }\n    // Use full area for MITER\n  }\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",pointVert:"IN vec3 aPosition;\nuniform float uPointSize;\nOUT float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}\n",pointFrag:"precision mediump int;\nuniform vec4 uMaterialColor;\nIN float vStrokeWeight;\n\nvoid main(){\n  float mask = 0.0;\n\n  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n  // if strokeWeight is 1 or less lets just draw a square\n  // this prevents weird artifacting from carving circles when our points are really small\n  // if strokeWeight is larger than 1, we just use it as is\n\n  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n  // throw away the borders of the mask\n  // otherwise we get weird alpha blending issues\n\n  if(mask > 0.98){\n    discard;\n  }\n\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n}\n",imageLightVert:"precision highp float;\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nvarying vec3 localPos;\nvarying vec3 vWorldNormal;\nvarying vec3 vWorldPosition;\nvarying vec2 vTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvoid main() {\n  // Multiply the position by the matrix.\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n  \n  // orient the normals and pass to the fragment shader\n  vWorldNormal = uNormalMatrix * aNormal;\n  \n  // send the view position to the fragment shader\n  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;\n  \n  localPos = vWorldPosition;\n  vTexCoord = aTexCoord;\n}\n\n\n/*\nin the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.\n*/\n",imageLightDiffusedFrag:"precision highp float;\nvarying vec3 localPos;\n\n// the HDR cubemap converted (can be from an equirectangular environment map.)\nuniform sampler2D environmentMap;\nvarying vec2 vTexCoord;\n\nconst float PI = 3.14159265359;\n\nvec2 nTOE( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( phi, theta );\n  return angles;\n}\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\nvoid main()\n{   \t \n\t// the sample direction equals the hemisphere's orientation\n  float phi = vTexCoord.x * 2.0 * PI;\n  float theta = vTexCoord.y * PI;\n  float x = sin(theta) * cos(phi);\n  float y = sin(theta) * sin(phi);\n  float z = cos(theta);\n  vec3 normal = vec3( x, y, z);\n\n\t// Discretely sampling the hemisphere given the integral's\n  // spherical coordinates translates to the following fragment code:\n\tvec3 irradiance = vec3(0.0);  \n\tvec3 up\t= vec3(0.0, 1.0, 0.0);\n\tvec3 right = normalize(cross(up, normal));\n\tup = normalize(cross(normal, right));\n\n\t//  We specify a fixed sampleDelta delta value to traverse\n  // the hemisphere; decreasing or increasing the sample delta\n  // will increase or decrease the accuracy respectively.\n\tconst float sampleDelta = 0.100;\n\tfloat nrSamples = 0.0;\n  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;\n\tfor(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)\n\t{\n    float phi = rawPhi + randomOffset;\n    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)\n    {\n      float theta = rawTheta + randomOffset;\n      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance\n      float x = sin(theta) * cos(phi);\n      float y = sin(theta) * sin(phi);\n      float z = cos(theta);\n      vec3 tangentSample = vec3( x, y, z);\n      \n      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;\n        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);\n      nrSamples++;\n    }\n\t}\n\t// divide by the total number of samples taken, giving us the average sampled irradiance.\n\tirradiance = PI * irradiance * (1.0 / float(nrSamples )) ;\n  \n \n\tgl_FragColor = vec4(irradiance, 1.0);\n}",imageLightSpecularFrag:"precision highp float;\r\nvarying vec3 localPos;\r\nvarying vec2 vTexCoord;\r\n\r\n// our texture\r\nuniform sampler2D environmentMap;\r\nuniform float roughness;\r\n\r\nconst float PI = 3.14159265359;\r\n\r\nfloat VanDerCorput(int bits);\r\nvec2 HammersleyNoBitOps(int i, int N);\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r\n\r\n\r\nvec2 nTOE( vec3 v ){\r\n  // x = r sin(phi) cos(theta)   \r\n  // y = r cos(phi)  \r\n  // z = r sin(phi) sin(theta)\r\n  float phi = acos( v.y );\r\n  // if phi is 0, then there are no x, z components\r\n  float theta = 0.0;\r\n  // else \r\n  theta = acos(v.x / sin(phi));\r\n  float sinTheta = v.z / sin(phi);\r\n  if (sinTheta < 0.0) {\r\n    // Turn it into -theta, but in the 0-2PI range\r\n    theta = 2.0 * PI - theta;\r\n  }\r\n  theta = theta / (2.0 * 3.14159);\r\n  phi = phi / 3.14159 ;\r\n  \r\n  vec2 angles = vec2( phi, theta );\r\n  return angles;\r\n}\r\n\r\n\r\nvoid main(){\r\n  const int SAMPLE_COUNT = 400; // 4096\r\n  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r\n  float totalWeight = 0.0;\r\n  vec3 prefilteredColor = vec3(0.0);\r\n  float phi = vTexCoord.x * 2.0 * PI;\r\n  float theta = vTexCoord.y * PI;\r\n  float x = sin(theta) * cos(phi);\r\n  float y = sin(theta) * sin(phi);\r\n  float z = cos(theta);\r\n  vec3 N = vec3(x,y,z);\r\n  vec3 V = N;\r\n  for (int i = 0; i < SAMPLE_COUNT; ++i)\r\n  {\r\n    // break at smaller sample numbers for low roughness levels\r\n    if(i == lowRoughnessLimit)\r\n    {\r\n      break;\r\n    }\r\n    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r\n    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r\n    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r\n\r\n    float NdotL = max(dot(N, L), 0.0);\r\n    if (NdotL > 0.0)\r\n    {\r\n      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r\n      totalWeight += NdotL;\r\n    }\r\n  }\r\n  prefilteredColor = prefilteredColor / totalWeight;\r\n\r\n  gl_FragColor = vec4(prefilteredColor, 1.0);\r\n}\r\n\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r\n  float a = roughness * roughness;\r\n\r\n  float phi = 2.0 * PI * Xi.x;\r\n  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r\n  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r\n  // from spherical coordinates to cartesian coordinates\r\n  vec3 H;\r\n  H.x = cos(phi) * sinTheta;\r\n  H.y = sin(phi) * sinTheta;\r\n  H.z = cosTheta;\r\n\r\n  // from tangent-space vector to world-space sample vector\r\n  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r\n  vec3 tangent = normalize(cross(up, N));\r\n  vec3 bitangent = cross(N, tangent);\r\n\r\n  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r\n  return normalize(sampleVec);\r\n}\r\n\r\n\r\nfloat VanDerCorput(int n, int base)\r\n{\r\n#ifdef WEBGL2\r\n\r\n    uint bits = uint(n);\r\n    bits = (bits << 16u) | (bits >> 16u);\r\n    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r\n    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r\n    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r\n    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r\n    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r\n\r\n#else\r\n\r\n  float invBase = 1.0 / float(base);\r\n  float denom = 1.0;\r\n  float result = 0.0;\r\n\r\n\r\n  for (int i = 0; i < 32; ++i)\r\n  {\r\n        if (n > 0)\r\n        {\r\n        denom = mod(float(n), 2.0);\r\n        result += denom * invBase;\r\n        invBase = invBase / 2.0;\r\n        n = int(float(n) / 2.0);\r\n        }\r\n  }\r\n\r\n\r\n  return result;\r\n\r\n#endif\r\n}\r\n\r\nvec2 HammersleyNoBitOps(int i, int N)\r\n{\r\n  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r\n}\r\n"},z=B.sphereMappingFrag;for(P in B)B[P]="#ifdef WEBGL2\n\n#define IN in\n#define OUT out\n\n#ifdef FRAGMENT_SHADER\nout vec4 outColor;\n#define OUT_COLOR outColor\n#endif\n#define TEXTURE texture\n\n#else\n\n#ifdef FRAGMENT_SHADER\n#define IN varying\n#else\n#define IN attribute\n#endif\n#define OUT varying\n#define TEXTURE texture2D\n\n#ifdef FRAGMENT_SHADER\n#define OUT_COLOR gl_FragColor\n#endif\n\n#endif\n"+B[P];F(I={},f.GRAY,"precision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 tex = texture2D(tex0, vTexCoord);\n  float gray = luma(tex.rgb);\n  gl_FragColor = vec4(gray, gray, gray, tex.a);\n}\n"),F(I,f.ERODE,"// Reduces the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the darkest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum < lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),F(I,f.DILATE,"// Increase the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the brightest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum > lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),F(I,f.BLUR,"precision highp float;\n\n// Two-pass blur filter, unweighted kernel.\n// See also a similar blur at Adam Ferriss' repo of shader examples:\n// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag\n\n\nuniform sampler2D tex0;\nvarying vec2 vTexCoord;\nuniform vec2 direction;\nuniform vec2 canvasSize;\nuniform float radius;\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\n// This isn't a real Gaussian weight, it's a quadratic weight. It's what the\n// CPU mode's blur uses though, so we also use it here to match.\nfloat quadWeight(float x, float e) {\n  return pow(e-abs(x), 2.);\n}\n\nvoid main(){\n  vec2 uv = vTexCoord;\n\n  // A reasonable maximum number of samples\n  const float maxSamples = 64.0;\n\n  float numSamples = floor(7. * radius);\n  if (fract(numSamples / 2.) == 0.) {\n    numSamples++;\n  }\n  vec4 avg = vec4(0.0);\n  float total = 0.0;\n\n  // Calculate the spacing to avoid skewing if numSamples > maxSamples\n  float spacing = 1.0;\n  if (numSamples > maxSamples) {\n    spacing = numSamples / maxSamples;\n    numSamples = maxSamples;\n  }\n\n  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));\n  for (float i = 0.0; i < maxSamples; i++) {\n    if (i >= numSamples) break;\n\n    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;\n    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;\n    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);\n\n    avg += weight * texture2D(tex0, sampleCoord);\n    total += weight;\n  }\n\n  avg /= total;\n  gl_FragColor = avg;\n}\n"),F(I,f.POSTERIZE,"// Limit color space for a stylized cartoon / poster effect\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nvec3 quantize(vec3 color, float n) {\n  // restrict values to N options/bins\n  // and floor each channel to nearest value\n  //\n  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0\n  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)\n\n  color = color * n;\n  color = floor(color);\n  color = color / (n - 1.0);\n  return color;\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n\n  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);\n\n  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);\n}\n"),F(I,f.OPAQUE,"// Set alpha channel to entirely opaque\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  gl_FragColor = vec4(color.rgb / color.a, 1.0);\n}\n"),F(I,f.INVERT,"// Set each pixel to inverse value\n// Note that original INVERT does not change the opacity, so this follows suit\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\nvec4 color = texture2D(tex0, vTexCoord);\nvec3 origColor = color.rgb / color.a;\nvec3 invertedColor = vec3(1.0) - origColor;\ngl_FragColor = vec4(invertedColor * color.a, color.a);\n}\n"),F(I,f.THRESHOLD,"// Convert pixels to either white or black, \n// depending on if their luma is above or below filterParameter\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float gray = luma(color.rgb / color.a);\n  // floor() used to match src/image/filters.js\n  float threshold = floor(filterParameter * 255.0) / 255.0;\n  float blackOrWhite = step(threshold, gray);\n  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);\n}\n");var W=I;function ne(q,ae,et,Se,K,R,se,ge,De,Le){var Ze=ae.getParameter(ae.FRAMEBUFFER_BINDING),Oe=R*se*(ae.bindFramebuffer(ae.FRAMEBUFFER,et),et=ge===ae.RGBA?4:3),$e=De===ae.UNSIGNED_BYTE?Uint8Array:Float32Array;if(q instanceof $e&&q.length===Oe||(q=new $e(Oe)),ae.readPixels(Se,Le?Le-K-se:K,R,se,ge,De,q),ae.bindFramebuffer(ae.FRAMEBUFFER,Ze),Le)for(var Ve=Math.floor(se/2),Te=new $e(R*et),Je=0;Je<Ve;Je++){var Ye=Je*R*4,bt=(se-Je-1)*R*4;Te.set(q.subarray(Ye,Ye+4*R)),q.copyWithin(Ye,bt,bt+4*R),q.set(Te,bt)}return q}function J(q,De,fe,Se,K,R,se){var ge=q.getParameter(q.FRAMEBUFFER_BINDING);return q.bindFramebuffer(q.FRAMEBUFFER,De),De=K===q.RGBA?4:3,De=new(R===q.UNSIGNED_BYTE?Uint8Array:Float32Array)(De),q.readPixels(fe,se?se-Se-1:Se,1,1,K,R,De),q.bindFramebuffer(q.FRAMEBUFFER,ge),Array.from(De)}h.default.prototype.setAttributes=function(q,ae){if(void 0===this._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var fe=!0;if(void 0!==ae?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[q]!==ae&&(this._glAttributes[q]=ae,fe=!1)):q instanceof Object&&this._glAttributes!==q&&(this._glAttributes=q,fe=!1),this._renderer.isP3D&&!fe){if(!this._setupDone)for(var Se in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(Se))return void h.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},h.default.RendererGL=function(q){var ae=K;if("function"!=typeof q&&null!==q)throw new TypeError("Super expression must either be null or a function");ae.prototype=Object.create(q&&q.prototype,{constructor:{value:ae,writable:!0,configurable:!0}}),q&&m(ae,q);var Se=function p(q){return function(){var ae,fe,Se=T(q);return ae=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(ae=T(this).constructor,Reflect.construct(Se,arguments,ae)):Se.apply(this,arguments),Se=this,!(fe=ae)||"object"!==_(fe)&&"function"!=typeof fe?b(Se):fe}}(K);function K(R,se,ge,De){if(this instanceof K)return(R=Se.call(this,R,se,ge))._setAttributeDefaults(se),R._initContext(),R.isP3D=!0,R.geometryBuilder=void 0,R.GL=R.drawingContext,R._pInst._setProperty("drawingContext",R.drawingContext),R._isErasing=!1,R._clipDepths=[],R._isClipApplied=!1,R._stencilTestOn=!1,R._enableLighting=!1,R.ambientLightColors=[],R.mixedAmbientLight=[],R.mixedSpecularColor=[],R.specularColors=[1,1,1],R.directionalLightDirections=[],R.directionalLightDiffuseColors=[],R.directionalLightSpecularColors=[],R.pointLightPositions=[],R.pointLightDiffuseColors=[],R.pointLightSpecularColors=[],R.spotLightPositions=[],R.spotLightDirections=[],R.spotLightDiffuseColors=[],R.spotLightSpecularColors=[],R.spotLightAngle=[],R.spotLightConc=[],R.activeImageLight=null,R.diffusedTextures=new Map,R.specularTextures=new Map,R.drawMode=f.FILL,R.curFillColor=R._cachedFillStyle=[1,1,1,1],R.curAmbientColor=R._cachedFillStyle=[1,1,1,1],R.curSpecularColor=R._cachedFillStyle=[0,0,0,0],R.curEmissiveColor=R._cachedFillStyle=[0,0,0,0],R.curStrokeColor=R._cachedStrokeStyle=[0,0,0,1],R.curBlendMode=f.BLEND,R.preEraseBlend=void 0,R._cachedBlendMode=void 0,R.blendExt=R.webglVersion===f.WEBGL2?R.GL:R.GL.getExtension("EXT_blend_minmax"),R._isBlending=!1,R._hasSetAmbient=!1,R._useSpecularMaterial=!1,R._useEmissiveMaterial=!1,R._useNormalMaterial=!1,R._useShininess=1,R._useMetalness=0,R._useLineColor=!1,R._useVertexColor=!1,R.registerEnabled=new Set,R._tint=[255,255,255,255],R.constantAttenuation=1,R.linearAttenuation=0,R.quadraticAttenuation=0,R.uMVMatrix=new h.default.Matrix,R.uPMatrix=new h.default.Matrix,R.uNMatrix=new h.default.Matrix("mat3"),R.curMatrix=new h.default.Matrix("mat3"),R._currentNormal=new h.default.Vector(0,0,1),R._curCamera=new h.default.Camera(b(R)),R._curCamera._computeCameraDefaultSettings(),R._curCamera._setDefaultCamera(),R.filterCamera=new h.default.Camera(b(R)),R.filterCamera._computeCameraDefaultSettings(),R.filterCamera._setDefaultCamera(),R.prevTouches=[],R.zoomVelocity=0,R.rotateVelocity=new h.default.Vector(0,0),R.moveVelocity=new h.default.Vector(0,0),R.executeZoom=!1,R.executeRotateAndMove=!1,R.specularShader=void 0,R.sphereMapping=void 0,R.diffusedShader=void 0,R._defaultLightShader=void 0,R._defaultImmediateModeShader=void 0,R._defaultNormalShader=void 0,R._defaultColorShader=void 0,R._defaultPointShader=void 0,R.userFillShader=void 0,R.userStrokeShader=void 0,R.userPointShader=void 0,R.retainedMode={geometry:{},buffers:{stroke:[new h.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",b(R)),new h.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",b(R)),new h.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",b(R)),new h.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",b(R)),new h.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",b(R))],fill:[new h.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",b(R),R._vToNArray),new h.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",b(R),R._vToNArray),new h.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",b(R)),new h.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",b(R)),new h.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",b(R),R._flatten)],text:[new h.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",b(R),R._vToNArray),new h.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",b(R),R._flatten)]}},R.immediateMode={geometry:new h.default.Geometry,shapeMode:f.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new h.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",b(R),R._vToNArray),new h.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",b(R),R._vToNArray),new h.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",b(R)),new h.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",b(R)),new h.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",b(R),R._flatten)],stroke:[new h.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",b(R)),new h.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",b(R)),new h.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",b(R)),new h.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",b(R)),new h.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",b(R))],point:R.GL.createBuffer()}},R.pointSize=5,R.curStrokeWeight=1,R.curStrokeCap=f.ROUND,R.curStrokeJoin=f.ROUND,R.textures=new Map,R.framebuffers=new Set,R.activeFramebuffers=[],R.filterShader=void 0,R.filterLayer=void 0,R.filterLayerTemp=void 0,R.defaultFilterShaders={},R.textureMode=f.IMAGE,R.textureWrapX=f.CLAMP,R.textureWrapY=f.CLAMP,R._tex=null,R._curveTightness=6,R._lookUpTableBezier=[],R._lookUpTableQuadratic=[],R._lutBezierDetail=0,R._lutQuadraticDetail=0,R.isProcessingVertices=!1,R._tessy=R._initTessy(),R.fontInfos={},R._curShader=void 0,R;throw new TypeError("Cannot call a class as a function")}return ae=K,(q=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new E.default(this)}},{key:"endGeometry",value:function(){var R;if(this.geometryBuilder)return R=this.geometryBuilder.finish(),this.geometryBuilder=void 0,R;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(R){return this.beginGeometry(),R(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(R){var se={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};R._glAttributes=null===R._glAttributes?se:Object.assign(se,R._glAttributes)}},{key:"_initContext",value:function(){if(1!==this._pInst._glAttributes.version&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?f.WEBGL2:f.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),null===this.drawingContext)throw new Error("Error creating webgl context");var R=this.drawingContext;R.enable(R.DEPTH_TEST),R.depthFunc(R.LEQUAL),R.viewport(0,0,R.drawingBufferWidth,R.drawingBufferHeight),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_resetContext",value:function(R,se){var ge,De=this.width,Le=this.height,et=this.canvas.id,Ze=this._pInst instanceof h.default.Graphics;Ze?((ge=this._pInst).canvas.parentNode.removeChild(ge.canvas),ge.canvas=document.createElement("canvas"),(ge._pInst._userNode||document.body).appendChild(ge.canvas),h.default.Element.call(ge,ge.canvas,ge._pInst),ge.width=De,ge.height=Le):((ge=this.canvas)&&ge.parentNode.removeChild(ge),(ge=document.createElement("canvas")).id=et,(this._pInst._userNode||document.body).appendChild(ge),this._pInst.canvas=ge,this.canvas=ge),et=new h.default.RendererGL(this._pInst.canvas,this._pInst,!Ze),this._pInst._setProperty("_renderer",et),et.resize(De,Le),et._applyDefaults(),Ze||this._pInst._elements.push(et),"function"==typeof se&&setTimeout(function(){se.apply(window._renderer,R)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var De=(De=this._pInst).color.apply(De,arguments);this.clear(De.levels[0]/255,De.levels[1]/255,De.levels[2]/255,De=De.levels[3]/255)}},{key:"fill",value:function(R,se,ge,De){var Le=h.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=Le._array,this.drawMode=f.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(R,se,ge,De){var Le=h.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=Le._array}},{key:"strokeCap",value:function(R){this.curStrokeCap=R}},{key:"strokeJoin",value:function(R){this.curStrokeJoin=R}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(R,se){R.width===se.width&&R.height===se.height||R.resize(se.width,se.height),R.pixelDensity()!==se.pixelDensity()&&R.pixelDensity(se.pixelDensity())}},{key:"filter",value:function(){var R,se,ge=this,De=this.getFilterLayer(),Le=void 0,Ze=void 0,et=("string"==typeof(arguments.length<=0?void 0:arguments[0])?(Ze=arguments.length<=0?void 0:arguments[0],F(R={},f.BLUR,3),F(R,f.POSTERIZE,4),F(R,f.THRESHOLD,.5),Le=Ze in R&&void 0===(arguments.length<=1?void 0:arguments[1])?R[Ze]:arguments.length<=1?void 0:arguments[1],Ze in this.defaultFilterShaders||(this.defaultFilterShaders[Ze]=new h.default.Shader(De._renderer,"uniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nattribute vec3 aPosition;\n// texcoords only come from p5 to vertex shader\n// so pass texcoords on to the fragment shader in a varying variable\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n  // transferring texcoords for the frag shader\n  vTexCoord = aTexCoord;\n\n  // copy position with a fourth coordinate for projection (1.0 is normal)\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n}\n",W[Ze])),this.filterShader=this.defaultFilterShaders[Ze]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),Oe=(this.matchSize(De,et),De.draw(function(){return ge._pInst.clear()}),[1/(et.width*et.pixelDensity()),1/(et.height*et.pixelDensity())]);Ze===f.BLUR?(se=this.getFilterLayerTemp(),this.matchSize(se,et),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(f.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",Oe),this.filterShader.setUniform("canvasSize",[et.width,et.height]),this.filterShader.setUniform("radius",Math.max(1,Le)),se.draw(function(){ge.filterShader.setUniform("direction",[1,0]),ge.filterShader.setUniform("tex0",et),ge._pInst.clear(),ge._pInst.shader(ge.filterShader),ge._pInst.noLights(),ge._pInst.plane(et.width,et.height)}),De.draw(function(){ge.filterShader.setUniform("direction",[0,1]),ge.filterShader.setUniform("tex0",se),ge._pInst.clear(),ge._pInst.shader(ge.filterShader),ge._pInst.noLights(),ge._pInst.plane(et.width,et.height)}),this._pInst.pop()):De.draw(function(){ge._pInst.noStroke(),ge._pInst.blendMode(f.BLEND),ge._pInst.shader(ge.filterShader),ge.filterShader.setUniform("tex0",et),ge.filterShader.setUniform("texelSize",Oe),ge.filterShader.setUniform("canvasSize",[et.width,et.height]),ge.filterShader.setUniform("filterParameter",Le),ge._pInst.noLights(),ge._pInst.plane(et.width,et.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(f.CORNER),this._pInst.blendMode(f.BLEND),et.filterCamera._resize(),this._pInst.setCamera(et.filterCamera),this._pInst.resetMatrix(),this._pInst.image(De,-et.width/2,-et.height/2,et.width,et.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(R){return R?this._pInst.pixelDensity(R):this._pInst.pixelDensity()}},{key:"blendMode",value:function(R){R===f.DARKEST||R===f.LIGHTEST||R===f.ADD||R===f.BLEND||R===f.SUBTRACT||R===f.SCREEN||R===f.EXCLUSION||R===f.REPLACE||R===f.MULTIPLY||R===f.REMOVE?this.curBlendMode=R:R!==f.BURN&&R!==f.OVERLAY&&R!==f.HARD_LIGHT&&R!==f.SOFT_LIGHT&&R!==f.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(R,se){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(f.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,R/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,se/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var R=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(s(T(K.prototype),"beginClip",this).call(this,R),this.drawTarget()._isClipApplied=!0,R=this.GL).clearStencil(0),R.clear(R.STENCIL_BUFFER_BIT),R.enable(R.STENCIL_TEST),this._stencilTestOn=!0,R.stencilFunc(R.ALWAYS,1,255),R.stencilOp(R.KEEP,R.KEEP,R.REPLACE),R.disable(R.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var R=this.GL;R.stencilOp(R.KEEP,R.KEEP,R.KEEP),R.stencilFunc(this._clipInvert?R.EQUAL:R.NOTEQUAL,0,255),R.enable(R.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),s(T(K.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(R){this.curStrokeWeight!==R&&(this.pointSize=R,this.curStrokeWeight=R)}},{key:"_getPixel",value:function(R,se){var ge=this.GL;return J(ge,null,R,se,ge.RGBA,ge.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var R,se,ge=this._pixelsState;!0!==this._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):ge._setProperty("pixels",ne(ge.pixels,se=this.GL,null,0,0,this.width*(R=this._pInst._pixelDensity),this.height*R,se.RGBA,se.UNSIGNED_BYTE,this.height*R))}},{key:"updatePixels",value:function(){var R=this._getTempFramebuffer();R.pixels=this._pixelsState.pixels,R.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(f.CENTER),this._pInst.image(R,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:f.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:f.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(R){return void 0!==this.retainedMode.geometry[R]}},{key:"viewport",value:function(R,se){this._viewport=[0,0,R,se],this.GL.viewport(0,0,R,se)}},{key:"resize",value:function(Le,De){h.default.Renderer.prototype.resize.call(this,Le,De),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var ge=(void 0!==(Le=this._pixelsState).pixels&&Le._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);De=!1,Le=void 0;try{for(var Ze,et=this.framebuffers[Symbol.iterator]();!(ge=(Ze=et.next()).done);ge=!0)Ze.value._canvasSizeChanged()}catch(Oe){De=!0,Le=Oe}finally{try{ge||null==et.return||et.return()}finally{if(De)throw Le}}}},{key:"clear",value:function(){var R=(arguments.length<=0?void 0:arguments[0])||0,se=(arguments.length<=1?void 0:arguments[1])||0,ge=(arguments.length<=2?void 0:arguments[2])||0,De=(arguments.length<=3?void 0:arguments[3])||0,Le=this.activeFramebuffer();Le&&Le.format===f.UNSIGNED_BYTE&&!Le.antialias&&0===De&&(De=1e-10),this.GL.clearColor(R*De,se*De,ge*De,De),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(R,se,ge,De,Le,Ze){16===arguments.length?h.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([R,se,0,0,ge,De,0,0,0,0,1,0,Le,Ze,0,1])}},{key:"translate",value:function(R,se,ge){return R instanceof h.default.Vector&&(ge=R.z,se=R.y,R=R.x),this.uMVMatrix.translate([R,se,ge]),this}},{key:"scale",value:function(R,se,ge){return this.uMVMatrix.scale(R,se,ge),this}},{key:"rotate",value:function(R,se){return void 0===se?this.rotateZ(R):(h.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(R){return this.rotate(R,1,0,0),this}},{key:"rotateY",value:function(R){return this.rotate(R,0,1,0),this}},{key:"rotateZ",value:function(R){return this.rotate(R,0,0,1),this}},{key:"push",value:function(){var R=h.default.Renderer.prototype.push.apply(this),se=R.properties;return se.uMVMatrix=this.uMVMatrix.copy(),se.uPMatrix=this.uPMatrix.copy(),se._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),se.ambientLightColors=this.ambientLightColors.slice(),se.specularColors=this.specularColors.slice(),se.directionalLightDirections=this.directionalLightDirections.slice(),se.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),se.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),se.pointLightPositions=this.pointLightPositions.slice(),se.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),se.pointLightSpecularColors=this.pointLightSpecularColors.slice(),se.spotLightPositions=this.spotLightPositions.slice(),se.spotLightDirections=this.spotLightDirections.slice(),se.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),se.spotLightSpecularColors=this.spotLightSpecularColors.slice(),se.spotLightAngle=this.spotLightAngle.slice(),se.spotLightConc=this.spotLightConc.slice(),se.userFillShader=this.userFillShader,se.userStrokeShader=this.userStrokeShader,se.userPointShader=this.userPointShader,se.pointSize=this.pointSize,se.curStrokeWeight=this.curStrokeWeight,se.curStrokeColor=this.curStrokeColor,se.curFillColor=this.curFillColor,se.curAmbientColor=this.curAmbientColor,se.curSpecularColor=this.curSpecularColor,se.curEmissiveColor=this.curEmissiveColor,se._hasSetAmbient=this._hasSetAmbient,se._useSpecularMaterial=this._useSpecularMaterial,se._useEmissiveMaterial=this._useEmissiveMaterial,se._useShininess=this._useShininess,se._useMetalness=this._useMetalness,se.constantAttenuation=this.constantAttenuation,se.linearAttenuation=this.linearAttenuation,se.quadraticAttenuation=this.quadraticAttenuation,se._enableLighting=this._enableLighting,se._useNormalMaterial=this._useNormalMaterial,se._tex=this._tex,se.drawMode=this.drawMode,se._currentNormal=this._currentNormal,se.curBlendMode=this.curBlendMode,se.activeImageLight=this.activeImageLight,R}},{key:"pop",value:function(){var R;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var se=arguments.length,ge=new Array(se),De=0;De<se;De++)ge[De]=arguments[De];(R=s(T(K.prototype),"pop",this)).call.apply(R,[this].concat(ge)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var R=this.drawTarget();R._isClipApplied!==this._stencilTestOn&&(R._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var R=this.userStrokeShader;return R&&R.isStrokeShader()?R:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(R){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(z)),this.uNMatrix.inverseTranspose(this.uMVMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",R),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var R=this.userFillShader;if(this._useNormalMaterial&&(!R||!R.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!R||!R.isLightShader())return this._getLightShader()}else if(this._tex){if(!R||!R.isTextureShader())return this._getLightShader()}else if(!R)return this._getImmediateModeShader();return R}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var R=this.userFillShader;if(this._enableLighting){if(!R||!R.isLightShader())return this._getLightShader()}else if(this._tex){if(!R||!R.isTextureShader())return this._getLightShader()}else if(!R)return this._getColorShader();return R}},{key:"_getImmediatePointShader",value:function(){var R=this.userPointShader;return R&&R.isPointShader()?R:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._defaultLightShader=this._pInst._glAttributes.perPixelLighting?new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+B.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+B.phongFrag):new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+B.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+B.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+B.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+B.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+B.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+B.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+B.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+B.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+B.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+B.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+B.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+B.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===f.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+B.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+B.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(R,se){var ge="";return this.webglVersion===f.WEBGL2&&(ge+="#version 300 es\n#define WEBGL2\n"),"vert"===R?ge+="#define VERTEX_SHADER\n":"frag"===R&&(ge+="#define FRAGMENT_SHADER\n"),se&&(ge+="precision ".concat(se," float;\n")),ge}},{key:"_getEmptyTexture",value:function(){var R;return this._emptyTexture||((R=new h.default.Image(1,1)).set(0,0,255),this._emptyTexture=new h.default.Texture(this,R)),this._emptyTexture}},{key:"getTexture",value:function(R){R instanceof h.default.Framebuffer&&(R=R.color);var se=this.textures.get(R);return se||(se=new h.default.Texture(this,R),this.textures.set(R,se),se)}},{key:"getDiffusedTexture",value:function(R){var se,ge,De=this;return null!=this.diffusedTextures.get(R)?this.diffusedTextures.get(R):(se=Math.floor(R.height/R.width*200),ge=this._pInst.createFramebuffer({width:200,height:se,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(B.imageLightVert,B.imageLightDiffusedFrag)),ge.draw(function(){De._pInst.shader(De.diffusedShader),De.diffusedShader.setUniform("environmentMap",R),De._pInst.noStroke(),De._pInst.rectMode(f.CENTER),De._pInst.noLights(),De._pInst.rect(0,0,200,se)}),this.diffusedTextures.set(R,ge),ge)}},{key:"getSpecularTexture",value:function(R){var se=this;if(null!=this.specularTextures.get(R))return this.specularTextures.get(R);for(var ge,De=[],Le=this._pInst.createFramebuffer({width:512,height:512,density:1}),Ze=Math.log(512)/Math.log(2),et=(this.specularShader||(this.specularShader=this._pInst.createShader(B.imageLightVert,B.imageLightSpecularFrag)),512);1<=et;et/=2)!function(Oe){Le.resize(Oe,Oe);var $e=1-Math.log(Oe)/Math.log(2)/Ze;Le.draw(function(){se._pInst.shader(se.specularShader),se._pInst.clear(),se.specularShader.setUniform("environmentMap",R),se.specularShader.setUniform("roughness",$e),se._pInst.noStroke(),se._pInst.noLights(),se._pInst.plane(Oe,Oe)}),De.push(Le.get().drawingContext.getImageData(0,0,Oe,Oe))}(et);return Le.remove(),ge=new a.MipmapTexture(this,De,{}),this.specularTextures.set(R,ge),ge}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(R){return new h.default.Framebuffer(this,R)}},{key:"_setStrokeUniforms",value:function(R){R.bindShader(),R.setUniform("uUseLineColor",this._useLineColor),R.setUniform("uMaterialColor",this.curStrokeColor),R.setUniform("uStrokeWeight",this.curStrokeWeight),R.setUniform("uStrokeCap",$[this.curStrokeCap]),R.setUniform("uStrokeJoin",j[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(R){var se=this,ge=(R.bindShader(),this.mixedSpecularColor=u(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(De,Le){return se.curFillColor[Le]*se._useMetalness+De*(1-se._useMetalness)})),R.setUniform("uUseVertexColor",this._useVertexColor),R.setUniform("uMaterialColor",this.curFillColor),R.setUniform("isTexture",!!this._tex),this._tex&&R.setUniform("uSampler",this._tex),R.setUniform("uTint",this._tint),R.setUniform("uHasSetAmbient",this._hasSetAmbient),R.setUniform("uAmbientMatColor",this.curAmbientColor),R.setUniform("uSpecularMatColor",this.mixedSpecularColor),R.setUniform("uEmissiveMatColor",this.curEmissiveColor),R.setUniform("uSpecular",this._useSpecularMaterial),R.setUniform("uEmissive",this._useEmissiveMaterial),R.setUniform("uShininess",this._useShininess),R.setUniform("metallic",this._useMetalness),this._setImageLightUniforms(R),R.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3);R.setUniform("uPointLightCount",ge),R.setUniform("uPointLightLocation",this.pointLightPositions),R.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),R.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),R.setUniform("uDirectionalLightCount",ge=this.directionalLightDiffuseColors.length/3),R.setUniform("uLightingDirection",this.directionalLightDirections),R.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),R.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),ge=this.ambientLightColors.length/3,this.mixedAmbientLight=u(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(De){return Math.max(0,De-=se._useMetalness)})),R.setUniform("uAmbientLightCount",ge),R.setUniform("uAmbientColor",this.mixedAmbientLight),R.setUniform("uSpotLightCount",ge=this.spotLightDiffuseColors.length/3),R.setUniform("uSpotLightAngle",this.spotLightAngle),R.setUniform("uSpotLightConc",this.spotLightConc),R.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),R.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),R.setUniform("uSpotLightLocation",this.spotLightPositions),R.setUniform("uSpotLightDirection",this.spotLightDirections),R.setUniform("uConstantAttenuation",this.constantAttenuation),R.setUniform("uLinearAttenuation",this.linearAttenuation),R.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),R.bindTextures()}},{key:"_setImageLightUniforms",value:function(R){var se;R.setUniform("uUseImageLight",null!=this.activeImageLight),this.activeImageLight&&(se=this.getDiffusedTexture(this.activeImageLight),R.setUniform("environmentMapDiffused",se),se=this.getSpecularTexture(this.activeImageLight),R.setUniform("levelOfDetail",20/this._useShininess*8),R.setUniform("environmentMapSpecular",se))}},{key:"_setPointUniforms",value:function(R){R.bindShader(),R.setUniform("uMaterialColor",this.curStrokeColor),R.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(R,se,ge,De,Le){this.GL.bindBuffer(se=se||this.GL.ARRAY_BUFFER,R),void 0!==ge&&((R=ge)instanceof h.default.DataArray?R=ge.dataArray():R instanceof(De||Float32Array)||(R=new(De||Float32Array)(R)),this.GL.bufferData(se,R,Le||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(R,se){return R.length===se.length&&R.every(function(ge,De){return ge===se[De]})}},{key:"_isTypedArray",value:function(R){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(se){return R instanceof se})}},{key:"_flatten",value:function(R){return R.flat()}},{key:"_vToNArray",value:function(R){return R.flatMap(function(se){return[se.x,se.y,se.z]})}},{key:"_bezierCoefficients",value:function(R){var se=R*R,ge=1-R,De=ge*ge;return[De*ge,3*De*R,3*ge*se,se*R]}},{key:"_quadraticCoefficients",value:function(R){var se=1-R;return[se*se,2*se*R,R*R]}},{key:"_bezierToCatmull",value:function(R){return[R[1],R[1]+(R[2]-R[0])/this._curveTightness,R[2]-(R[3]-R[1])/this._curveTightness,R[2]]}},{key:"_initTessy",value:function(){var R=new w.default.GluTesselator;return R.gluTessCallback(w.default.gluEnum.GLU_TESS_VERTEX_DATA,function(se,ge){var De=!0,Le=!1,Ze=void 0;try{for(var et,Oe=se[Symbol.iterator]();!(De=(et=Oe.next()).done);De=!0)ge.push(et.value)}catch(Ve){Le=!0,Ze=Ve}finally{try{De||null==Oe.return||Oe.return()}finally{if(Le)throw Ze}}}),R.gluTessCallback(w.default.gluEnum.GLU_TESS_BEGIN,function(se){se!==w.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(se))}),R.gluTessCallback(w.default.gluEnum.GLU_TESS_ERROR,function(se){console.log("error callback"),console.log("error number: ".concat(se))}),R.gluTessCallback(w.default.gluEnum.GLU_TESS_COMBINE,function(se,ge,De){for(var Le=new Array(h.default.RendererGL.prototype.tessyVertexSize).fill(0),Ze=0;Ze<De.length;Ze++)for(var et=0;et<Le.length;et++)0!==De[Ze]&&ge[Ze]&&(Le[et]+=ge[Ze][et]*De[Ze]);return Le}),R.gluTessCallback(w.default.gluEnum.GLU_TESS_EDGE_FLAG,function(se){}),R.gluTessProperty(w.default.gluEnum.GLU_TESS_WINDING_RULE,w.default.windingRule.GLU_TESS_WINDING_NONZERO),R}},{key:"_triangulate",value:function(R){var se=R[0]?R[0][2]:void 0,ge=!0,De=!0,$e=!1,Te=void 0;try{for(var Le,Ze=R[Symbol.iterator]();!(De=(Le=Ze.next()).done);De=!0)for(var et=Le.value,Oe=0;Oe<et.length;Oe+=h.default.RendererGL.prototype.tessyVertexSize)if(et[Oe+2]!==se){ge=!1;break}}catch(Ht){$e=!0,Te=Ht}finally{try{De||null==Ze.return||Ze.return()}finally{if($e)throw Te}}this._tessy.gluTessNormal(0,0,ge?1:0);var Ve=(this._tessy.gluTessBeginPolygon($e=[]),!0),Je=void(Te=!1);try{for(var Ye,bt=R[Symbol.iterator]();!(Ve=(Ye=bt.next()).done);Ve=!0){var gt=Ye.value;this._tessy.gluTessBeginContour();for(var vt=0;vt<gt.length;vt+=h.default.RendererGL.prototype.tessyVertexSize){var kt=gt.slice(vt,vt+h.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(kt,kt)}this._tessy.gluTessEndContour()}}catch(Ht){Te=!0,Je=Ht}finally{try{Ve||null==bt.return||bt.return()}finally{if(Te)throw Je}}return this._tessy.gluTessEndPolygon(),$e}}])&&c(ae.prototype,q),K}(h.default.Renderer),h.default.prototype._assert3d=function(q){if(!this._renderer.isP3D)throw new Error("".concat(q,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},h.default.RendererGL.prototype.tessyVertexSize=12,C.default=I=h.default.RendererGL},{"../core/constants":269,"../core/main":280,"../core/p5.Renderer":283,"./GeometryBuilder":324,"./p5.Camera":329,"./p5.Framebuffer":331,"./p5.Matrix":333,"./p5.Shader":338,"./p5.Texture":339,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.copy-within":153,"core-js/modules/es.array.every":154,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.flat":159,"core-js/modules/es.array.flat-map":158,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.array.unscopables.flat":172,"core-js/modules/es.array.unscopables.flat-map":171,"core-js/modules/es.map":174,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.float64-array":217,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.int16-array":221,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint16-array":237,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,libtess:252,path:255}],338:[function(r,H,C){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var y=(r=r("../core/main"))&&r.__esModule?r:{default:r};function _(h,f){for(var E=0;E<f.length;E++){var w=f[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}y.default.Shader=function(){function h(a,l,d){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this._renderer=a,this._vertSrc=l,this._fragSrc=d,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var f,E;return f=h,(E=[{key:"init",value:function(){if(0===this._glProgram){var a=this._renderer.GL;if(this._vertShader=a.createShader(a.VERTEX_SHADER),a.shaderSource(this._vertShader,this._vertSrc),a.compileShader(this._vertShader),!a.getShaderParameter(this._vertShader,a.COMPILE_STATUS))return y.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(a.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=a.createShader(a.FRAGMENT_SHADER),a.shaderSource(this._fragShader,this._fragSrc),a.compileShader(this._fragShader),!a.getShaderParameter(this._fragShader,a.COMPILE_STATUS))return y.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(a.getShaderInfoLog(this._fragShader))),null;this._glProgram=a.createProgram(),a.attachShader(this._glProgram,this._vertShader),a.attachShader(this._glProgram,this._fragShader),a.linkProgram(this._glProgram),a.getProgramParameter(this._glProgram,a.LINK_STATUS)||y.default._friendlyError("Snap! Error linking shader program: ".concat(a.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(a){var l=new y.default.Shader(a._renderer,this._vertSrc,this._fragSrc);return l.ensureCompiledOnContext(a),l}},{key:"ensureCompiledOnContext",value:function(a){if(0!==this._glProgram&&this._renderer!==a._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");0===this._glProgram&&(this._renderer=a._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var a=this._renderer.GL,l=a.getProgramParameter(this._glProgram,a.ACTIVE_ATTRIBUTES),d=0;d<l;++d){var u=a.getActiveAttrib(this._glProgram,d),c=u.name,s=a.getAttribLocation(this._glProgram,c),m={};m.name=c,m.location=s,m.index=d,m.type=u.type,m.size=u.size,this.attributes[c]=m}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var a=this._renderer.GL,l=a.getProgramParameter(this._glProgram,a.ACTIVE_UNIFORMS),d=0,u=0;u<l;++u){var c=a.getActiveUniform(this._glProgram,u),s={},m=(s.location=a.getUniformLocation(this._glProgram,c.name),s.size=c.size,c.name);1<c.size&&(m=m.substring(0,m.indexOf("[0]"))),s.name=m,s.type=c.type,s._cachedData=void 0,s.type===a.SAMPLER_2D&&(s.samplerIndex=d,d++,this.samplers.push(s)),s.isArray=1<c.size||s.type===a.FLOAT_MAT3||s.type===a.FLOAT_MAT4||s.type===a.FLOAT_VEC2||s.type===a.FLOAT_VEC3||s.type===a.FLOAT_VEC4||s.type===a.INT_VEC2||s.type===a.INT_VEC4||s.type===a.INT_VEC3,this.uniforms[m]=s}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var a=this._renderer.GL,l=!0,d=!1,u=void 0;try{for(var c,s=this.samplers[Symbol.iterator]();!(l=(c=s.next()).done);l=!0){var m=c.value,p=m.texture;void 0===p&&(p=this._renderer._getEmptyTexture()),a.activeTexture(a.TEXTURE0+m.samplerIndex),p.bindTexture(),p.update(),a.uniform1i(m.location,m.samplerIndex)}}catch(b){d=!0,u=b}finally{try{l||null==s.return||s.return()}finally{if(d)throw u}}}},{key:"updateTextures",value:function(){var a=!0,l=!1,d=void 0;try{for(var u,c=this.samplers[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var s=u.value.texture;s&&s.update()}}catch(m){l=!0,d=m}finally{try{a||null==c.return||c.return()}finally{if(l)throw d}}}},{key:"unbindTextures",value:function(){var a=!0,l=!1,d=void 0;try{for(var u,c=this.samplers[Symbol.iterator]();!(a=(u=c.next()).done);a=!0)this.setUniform(u.value.name,this._renderer._getEmptyTexture())}catch(m){l=!0,d=m}finally{try{a||null==c.return||c.return()}finally{if(l)throw d}}}},{key:"_setMatrixUniforms",value:function(){var a=this._renderer._curCamera.cameraMatrix,l=this._renderer.uPMatrix,d=this._renderer.uMVMatrix,u=d.copy();u.mult(l),this.isStrokeShader()&&this.setUniform("uPerspective","default"===this._renderer._curCamera.cameraType?1:0),this.setUniform("uViewMatrix",a.mat4),this.setUniform("uProjectionMatrix",l.mat4),this.setUniform("uModelViewMatrix",d.mat4),this.setUniform("uModelViewProjectionMatrix",u.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer._curCamera.cameraMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){return this._renderer._curShader!==this&&(this._renderer.GL.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(a,l){var d=this.uniforms[a];if(d){var u=this._renderer.GL;if(d.isArray){if(d._cachedData&&this._renderer._arraysEqual(d._cachedData,l))return;d._cachedData=l.slice(0)}else{if(d._cachedData&&d._cachedData===l)return;d._cachedData=Array.isArray(l)?l.slice(0):l}var c=d.location;switch(this.useProgram(),d.type){case u.BOOL:u.uniform1i(c,!0===l?1:0);break;case u.INT:1<d.size?l.length&&u.uniform1iv(c,l):u.uniform1i(c,l);break;case u.FLOAT:1<d.size?l.length&&u.uniform1fv(c,l):u.uniform1f(c,l);break;case u.FLOAT_MAT3:u.uniformMatrix3fv(c,!1,l);break;case u.FLOAT_MAT4:u.uniformMatrix4fv(c,!1,l);break;case u.FLOAT_VEC2:1<d.size?l.length&&u.uniform2fv(c,l):u.uniform2f(c,l[0],l[1]);break;case u.FLOAT_VEC3:1<d.size?l.length&&u.uniform3fv(c,l):u.uniform3f(c,l[0],l[1],l[2]);break;case u.FLOAT_VEC4:1<d.size?l.length&&u.uniform4fv(c,l):u.uniform4f(c,l[0],l[1],l[2],l[3]);break;case u.INT_VEC2:1<d.size?l.length&&u.uniform2iv(c,l):u.uniform2i(c,l[0],l[1]);break;case u.INT_VEC3:1<d.size?l.length&&u.uniform3iv(c,l):u.uniform3i(c,l[0],l[1],l[2]);break;case u.INT_VEC4:1<d.size?l.length&&u.uniform4iv(c,l):u.uniform4i(c,l[0],l[1],l[2],l[3]);break;case u.SAMPLER_2D:u.activeTexture(u.TEXTURE0+d.samplerIndex),d.texture=l instanceof y.default.Texture?l:this._renderer.getTexture(l),u.uniform1i(c,d.samplerIndex),d.texture.src.gifProperties&&d.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(a){return void 0!==a})}},{key:"isNormalShader",value:function(){return void 0!==this.attributes.aNormal}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return void 0!==this.uniforms.uStrokeWeight}},{key:"enableAttrib",value:function(a,l,d,u,c,s){var m;return a&&-1!==(a=a.location)&&(m=this._renderer.GL,this._renderer.registerEnabled.has(a)||(m.enableVertexAttribArray(a),this._renderer.registerEnabled.add(a)),this._renderer.GL.vertexAttribPointer(a,l,d||m.FLOAT,u||!1,c||0,s||0)),this}},{key:"disableRemainingAttributes",value:function(){var a=this,l=!0,d=!1,u=void 0;try{for(var c,s=this._renderer.registerEnabled.values()[Symbol.iterator]();!(l=(c=s.next()).done);l=!0)!function(){var m=c.value;Object.keys(a.attributes).some(function(p){return a.attributes[p].location===m})||(a._renderer.GL.disableVertexAttribArray(m),a._renderer.registerEnabled.delete(m))}()}catch(m){d=!0,u=m}finally{try{l||null==s.return||s.return()}finally{if(d)throw u}}}}])&&_(f.prototype,E),h}(),C.default=r=y.default.Shader},{"../core/main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.function.name":173,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],339:[function(r,H,C){"use strict";function y(p){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}function _(p){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(b){return y(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":y(b)})(p)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(C,"__esModule",{value:!0}),C.checkWebGLCapabilities=m,C.default=C.MipmapTexture=void 0;var h=(s=r("../core/main"))&&s.__esModule?s:{default:s},f=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==_(p)&&"function"!=typeof p)return{default:p};var b=E();if(b&&b.has(p))return b.get(p);var T,F={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in p){var A;Object.prototype.hasOwnProperty.call(p,T)&&((A=k?Object.getOwnPropertyDescriptor(p,T):null)&&(A.get||A.set)?Object.defineProperty(F,T,A):F[T]=p[T])}return F.default=p,b&&b.set(p,F),F}(r("../core/constants"));function E(){var p;return"function"!=typeof WeakMap?null:(E=function(){return p},p=new WeakMap)}function w(p,b){return(w=Object.setPrototypeOf||function(T,F){return T.__proto__=F,T})(p,b)}function l(p){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(p)}function d(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function u(p,b){for(var T=0;T<b.length;T++){var F=b[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(p,F.key,F)}}function c(p,b,T){b&&u(p.prototype,b),T&&u(p,T)}h.default.Texture=function(){function p(P,T,A){d(this,p),this._renderer=P;var k=this._renderer.GL;return A=A||{},this.src=T,this.glTex=void 0,this.glTarget=k.TEXTURE_2D,this.glFormat=A.format||k.RGBA,this.mipmaps=!1,this.glMinFilter=A.minFilter||k.LINEAR,this.glMagFilter=A.magFilter||k.LINEAR,this.glWrapS=A.wrapS||k.CLAMP_TO_EDGE,this.glWrapT=A.wrapT||k.CLAMP_TO_EDGE,this.glDataType=A.dataType||k.UNSIGNED_BYTE,A=m(P),this.glFormat!==k.HALF_FLOAT||A.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=k.FLOAT),this.glFormat!==k.HALF_FLOAT||this.glMinFilter!==k.LINEAR&&this.glMagFilter!==k.LINEAR||A.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===k.LINEAR&&(this.glMinFilter=k.NEAREST),this.glMagFilter===k.LINEAR&&(this.glMagFilter=k.NEAREST)),this.glFormat!==k.FLOAT||A.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=k.UNSIGNED_BYTE),this.glFormat!==k.FLOAT||this.glMinFilter!==k.LINEAR&&this.glMagFilter!==k.LINEAR||A.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===k.LINEAR&&(this.glMinFilter=k.NEAREST),this.glMagFilter===k.LINEAR&&(this.glMagFilter=k.NEAREST)),this.isSrcMediaElement=void 0!==h.default.MediaElement&&T instanceof h.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==h.default.Element&&T instanceof h.default.Element&&!(T instanceof h.default.Graphics)&&!(T instanceof h.default.Renderer),this.isSrcP5Image=T instanceof h.default.Image,this.isSrcP5Graphics=T instanceof h.default.Graphics,this.isSrcP5Renderer=T instanceof h.default.Renderer,this.isImageData=typeof ImageData<"u"&&T instanceof ImageData,this.isFramebufferTexture=T instanceof h.default.FramebufferTexture,P=this._getTextureDataFromSource(),this.width=P.width,this.height=P.height,this.init(P),this}return c(p,[{key:"_getTextureDataFromSource",value:function(){var b;return this.isFramebufferTexture?b=this.src.rawTexture():this.isSrcP5Image?b=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?b=this.src.elt:this.isImageData&&(b=this.src),b}},{key:"init",value:function(b){var T,F=this._renderer.GL;this.isFramebufferTexture||(this.glTex=F.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,this.glMagFilter),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata?(T=new Uint8Array([1,1,1,1]),F.texImage2D(this.glTarget,0,F.RGBA,1,1,0,this.glFormat,this.glDataType,T)):F.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,b))}},{key:"update",value:function(){var b,T,F,k=this.src;return 0!==k.width&&0!==k.height&&!this.isFramebufferTexture&&(b=this._getTextureDataFromSource(),T=!1,F=this._renderer.GL,b.width!==this.width||b.height!==this.height?(T=!0,this.width=b.width||k.width,this.height=b.height||k.height,this.isSrcP5Image?k.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&k.setModified(!0)):this.isSrcP5Image?k.isModified()&&k.setModified(!(T=!0)):this.isSrcMediaElement?k.isModified()?k.setModified(!(T=!0)):k.loadedmetadata&&this._videoPrevUpdateTime!==k.time()&&(this._videoPrevUpdateTime=k.time(),T=!0):this.isImageData?k._dirty&&(T=!(k._dirty=!1)):T=!0,T&&(this.bindTexture(),F.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,b)),T)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(b,T){var F=this._renderer.GL;this.glMinFilter=this.glFilter(b),this.glMagFilter=this.glFilter(T),this.bindTexture(),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,this.glMinFilter),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(b){var T=this._renderer.GL;return b===f.NEAREST?T.NEAREST:T.LINEAR}},{key:"setWrapMode",value:function(b,T){function F($){return 0==($&$-1)}var k=this._renderer.GL,P=(P=this._getTextureDataFromSource()).naturalWidth&&P.naturalHeight?(A=P.naturalWidth,P.naturalHeight):(A=this.width,this.height),A=F(A);P=F(P),b===f.REPEAT?this._renderer.webglVersion===f.WEBGL2||A&&P?this.glWrapS=k.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=k.CLAMP_TO_EDGE):b===f.MIRROR?this._renderer.webglVersion===f.WEBGL2||A&&P?this.glWrapS=k.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=k.CLAMP_TO_EDGE):this.glWrapS=k.CLAMP_TO_EDGE,T===f.REPEAT?this._renderer.webglVersion===f.WEBGL2||A&&P?this.glWrapT=k.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=k.CLAMP_TO_EDGE):T===f.MIRROR?this._renderer.webglVersion===f.WEBGL2||A&&P?this.glWrapT=k.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=k.CLAMP_TO_EDGE):this.glWrapT=k.CLAMP_TO_EDGE,this.bindTexture(),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,this.glWrapS),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),p}();var s=function(p){var b=F;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),p&&w(b,p);var T=function a(p){return function(){var b,T=l(p);if(b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=l(this).constructor,Reflect.construct(T,arguments,b)):T.apply(this,arguments),T=this,!b||"object"!==_(b)&&"function"!=typeof b){if(void 0!==T)return T;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return b}}(F);function F(k,A,P){return d(this,F),A=(k=T.call(this,k,A,P))._renderer.GL,k.glMinFilter===A.LINEAR&&(k.glMinFilter=A.LINEAR_MIPMAP_LINEAR),k}return c(F,[{key:"glFilter",value:function(k){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(k){var A=this._renderer.GL;this.glTex=A.createTexture(),this.bindTexture();for(var P=0;P<k.length;P++)A.texImage2D(this.glTarget,P,this.glFormat,this.glFormat,this.glDataType,k[P]);this.glMinFilter=A.LINEAR_MIPMAP_LINEAR,A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,this.glMagFilter),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),F}(h.default.Texture);function m(k){var b=k.GL,T=(k=k.webglVersion)===f.WEBGL2?b.getExtension("EXT_color_buffer_float")&&b.getExtension("EXT_float_blend"):b.getExtension("OES_texture_float");return{float:T,floatLinear:T&&b.getExtension("OES_texture_float_linear"),halfFloat:k=b.getExtension(k===f.WEBGL2?"EXT_color_buffer_float":"OES_texture_half_float"),halfFloatLinear:k&&b.getExtension("OES_texture_half_float_linear")}}C.MipmapTexture=s,C.default=r=h.default.Texture},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],340:[function(r,H,C){"use strict";function y(p){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}function _(p){return(_="function"==typeof Symbol&&"symbol"===y(Symbol.iterator)?function(b){return y(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":y(b)})(p)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.sub"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.sub"),r("core-js/modules/web.dom-collections.iterator");var h,f=(h=r("../core/main"))&&h.__esModule?h:{default:h},E=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==_(p)&&"function"!=typeof p)return{default:p};var b=w();if(b&&b.has(p))return b.get(p);var T,F={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in p){var A;Object.prototype.hasOwnProperty.call(p,T)&&((A=k?Object.getOwnPropertyDescriptor(p,T):null)&&(A.get||A.set)?Object.defineProperty(F,T,A):F[T]=p[T])}return F.default=p,b&&b.set(p,F),F}(r("../core/constants"));function w(){var p;return"function"!=typeof WeakMap?null:(w=function(){return p},p=new WeakMap)}function a(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function l(p,b){for(var T=0;T<b.length;T++){var F=b[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(p,F.key,F)}}function d(p,b,T){b&&l(p.prototype,b),T&&l(p,T)}r("./p5.Shader"),r("./p5.RendererGL.Retained"),f.default.RendererGL.prototype._applyTextProperties=function(){},f.default.RendererGL.prototype.textWidth=function(p){return this._isOpenType()?this._textFont._textWidth(p,this._textSize):0};var u=function(){function p(b,T){a(this,p),this.width=b,this.height=T,this.infos=[]}return d(p,[{key:"findImage",value:function(b){var T,F,k=this.width*this.height;if(k<b)throw new Error("font is too complex to render in 3D");for(var A=this.infos.length-1;0<=A;--A){var P=this.infos[A];if(P.index+b<k){F=(T=P).imageData;break}}if(!T){try{F=new ImageData(this.width,this.height)}catch{var $=document.getElementsByTagName("canvas")[0],j=!$,N=($||(($=document.createElement("canvas")).style.display="none",document.body.appendChild($)),$.getContext("2d"));N&&(F=N.createImageData(this.width,this.height)),j&&document.body.removeChild($)}this.infos.push(T={index:0,imageData:F})}return N=T.index,T.index+=b,F._dirty=!0,{imageData:F,index:N}}}]),p}();function c(P,b,T,F,k){var A=P.imageData.data;P=4*P.index++,A[P++]=b,A[P++]=T,A[P++]=F,A[+P]=k}var s=Math.sqrt(3),m=function(){function p(b){a(this,p),this.font=b,this.strokeImageInfos=new u(64,64),this.colDimImageInfos=new u(64,64),this.rowDimImageInfos=new u(64,64),this.colCellImageInfos=new u(64,64),this.rowCellImageInfos=new u(64,64),this.glyphInfos={}}return d(p,[{key:"getGlyphInfo",value:function(b){var T=this.glyphInfos[b.index];if(!T){var F=b.getBoundingBox(),k=F.x1,A=F.y1,P=F.x2-k,$=F.y2-A,j=b.path.commands;if(0==P||0==$||!j.length)return this.glyphInfos[b.index]={};for(var N=[],I=[],B=[],z=8;0<=z;--z)B.push([]);for(z=8;0<=z;--z)I.push([]);var W,ne,J,q,ae=function(){function rn(dn,qt,Gt,lt){a(this,rn),this.p0=dn,this.c0=qt,this.c1=Gt,this.p1=lt}return d(rn,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return f.default.Vector.sub(f.default.Vector.sub(this.p1,this.p0),f.default.Vector.mult(f.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Ut){var qt=f.default.Vector.lerp(this.p0,this.c0,Ut),lt=f.default.Vector.lerp(this.c0,this.c1,Ut),Gt=f.default.Vector.lerp(qt,lt,Ut);return this.c1=f.default.Vector.lerp(this.c1,this.p1,Ut),this.c0=f.default.Vector.lerp(lt,this.c1,Ut),lt=f.default.Vector.lerp(Gt,this.c0,Ut),Ut=new rn(this.p0,qt,Gt,lt),this.p0=lt,Ut}},{key:"splitInflections",value:function(){var dn=f.default.Vector.sub(this.c0,this.p0),qt=f.default.Vector.sub(f.default.Vector.sub(this.c1,this.c0),dn),Gt=f.default.Vector.sub(f.default.Vector.sub(f.default.Vector.sub(this.p1,this.c1),dn),f.default.Vector.mult(qt,2)),lt=[],Ut=qt.x*Gt.y-qt.y*Gt.x;return 0!==Ut&&0<=(dn=(Gt=dn.x*Gt.y-dn.y*Gt.x)*Gt-4*Ut*(dn.x*qt.y-dn.y*qt.x))&&(Ut<0&&(Ut=-Ut,Gt=-Gt),dn=(-Gt+(qt=Math.sqrt(dn)))/(2*Ut),0<(Gt=(-Gt-qt)/(2*Ut))&&Gt<1&&(lt.push(this.split(Gt)),dn=1-(1-dn)/(1-Gt)),0<dn&&dn<1&&lt.push(this.split(dn))),lt.push(this),lt}}]),rn}(),fe=!0,Se=!1,K=void 0;try{for(var R,se=j[Symbol.iterator]();!(fe=(R=se.next()).done);fe=!0){var ge=R.value,De=(ge.x-k)/P,Le=(ge.y-A)/$;if(!Ft(W,ne,De,Le)){switch(ge.type){case"M":J=De,q=Le;break;case"L":Ht(W,ne,De,Le);break;case"Q":var Ze=(ge.x1-k)/P,et=(ge.y1-A)/$;vt([W,De,Ze],[ne,Le,et],{x:W,y:ne,cx:Ze,cy:et});break;case"Z":Ft(W,ne,J,q)?N.push({x:W,y:ne}):(Ht(W,ne,J,q),N.push({x:J,y:q}));break;case"C":for(var Oe=function(Ue,Ct,$t,Gt,lt,Ut,_t,je){Ue=new ae(new f.default.Vector(Ue,Ct),new f.default.Vector($t,Gt),new f.default.Vector(lt,Ut),new f.default.Vector(_t,je)).splitInflections();var Me=[],Ke=30/s,wt=!0;Ct=!1,$t=void 0;try{for(var nn,wn=Ue[Symbol.iterator]();!(wt=(nn=wn.next()).done);wt=!0){for(var xn=nn.value,St=[],Et=void 0;!(.125<=(Et=Ke/xn.quadError()));){var Nt=Math.pow(Et,.3333333333333333),yt=xn.split(Nt),tt=xn.split(1-Nt/(1-Nt));Me.push(yt),St.push(xn),xn=tt}Et<1&&Me.push(xn.split(.5)),Me.push(xn),Array.prototype.push.apply(Me,St.reverse())}}catch(ut){Ct=!0,$t=ut}finally{try{wt||null==wn.return||wn.return()}finally{if(Ct)throw $t}}return Me}(W,ne,(ge.x1-k)/P,(ge.y1-A)/$,(ge.x2-k)/P,(ge.y2-A)/$,De,Le),$e=0;$e<Oe.length;$e++){var Ve=Oe[$e].toQuadratic();vt([Ve.x,Ve.x1,Ve.cx],[Ve.y,Ve.y1,Ve.cy],Ve)}break;default:throw new Error("unknown command type: ".concat(ge.type))}W=De,ne=Le}}}catch(rn){Se=!0,K=rn}finally{try{fe||null==se.return||se.return()}finally{if(Se)throw K}}for(var Te=N.length,Je=this.strokeImageInfos.findImage(Te),Ye=Je.index,bt=0;bt<Te;++bt){var gt=N[bt];c(Je,kt(gt.x),kt(gt.y),kt(gt.cx),kt(gt.cy))}(T=this.glyphInfos[b.index]={glyph:b,uGlyphRect:[F.x1,-F.y1,F.x2,-F.y2],strokeImageInfo:Je,strokes:N,colInfo:an(B,this.colDimImageInfos,this.colCellImageInfos),rowInfo:an(I,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[T.colInfo.dimOffset,T.rowInfo.dimOffset]}return T;function vt(rn,dn,qt){var Gt=N.length;function lt(Me,Ke,wt){for(var Ct=Me.length;0<Ct--;){var $t=Me[Ct];$t<Ke&&(Ke=$t),wt<$t&&(wt=$t)}return{min:Ke,max:wt}}N.push(qt),qt=lt(rn,1,0),rn=Math.max(Math.floor(9*qt.min-.5),0);for(var Ut=Math.min(Math.ceil(9*qt.max+.5),9),_t=rn;_t<Ut;++_t)B[_t].push(Gt);qt=lt(dn,1,0),rn=Math.max(Math.floor(9*qt.min-.5),0);for(var je=Math.min(Math.ceil(9*qt.max+.5),9),Ue=rn;Ue<je;++Ue)I[Ue].push(Gt)}function kt(rn){return(rn=255*rn)<0?0:255<rn?255:rn}function Ht(rn,dn,qt,Gt){vt([rn,qt],[dn,Gt],{x:rn,y:dn,cx:(rn+qt)/2,cy:(dn+Gt)/2})}function Ft(rn,dn,qt,Gt){return Math.abs(qt-rn)<1e-5&&Math.abs(Gt-dn)<1e-5}function an(rn,dn,qt){for(var Gt=rn.length,lt=dn.findImage(Gt),Ut=(dn=lt.index,0),_t=0;_t<Gt;++_t)Ut+=rn[_t].length;for(var je=qt.findImage(Ut),Ue=0;Ue<Gt;++Ue){var Me=rn[Ue],Ke=Me.length,wt=je.index;c(lt,wt>>7,127&wt,Ke>>7,127&Ke);for(var Ct=0;Ct<Ke;++Ct){var $t=Me[Ct]+Ye;c(je,$t>>7,127&$t,0,0)}}return{cellImageInfo:je,dimOffset:dn,dimImageInfo:lt}}}}]),p}();f.default.RendererGL.prototype._renderText=function(p,b,T,F,k){if(this._textFont&&"string"!=typeof this._textFont){if(!(k<=F)&&this._doFill){if(this._isOpenType()){p.push(),k=this._doStroke;var A=this.drawMode,P=(this._doStroke=!1,this.drawMode=E.TEXTURE,this._textFont.font),$=($=this._textFont._fontInfo)||(this._textFont._fontInfo=new m(P)),j=(T=this._textFont._handleAlignment(this,b,T,F),F=this._textSize/P.unitsPerEm,this.translate(T.x,T.y,0),this.scale(F,F,1),this.GL),N=(T=!this._defaultFontShader,this._getFontShader()),I=(N.init(),N.bindShader(),T&&(N.setUniform("uGridImageSize",[64,64]),N.setUniform("uCellsImageSize",[64,64]),N.setUniform("uStrokeImageSize",[64,64]),N.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),B=(I||((F=this._textGeom=new f.default.Geometry(1,1,function(){for(var $e=0;$e<=1;$e++)for(var Ve=0;Ve<=1;Ve++)this.vertices.push(new f.default.Vector(Ve,$e,0)),this.uvs.push(Ve,$e)})).computeFaces().computeNormals(),I=this.createBuffers("glyph",F)),!0);T=!1,F=void 0;try{for(var z,W=this.retainedMode.buffers.text[Symbol.iterator]();!(B=(z=W.next()).done);B=!0)z.value._prepareBuffer(I,N)}catch($e){T=!0,F=$e}finally{try{B||null==W.return||W.return()}finally{if(T)throw F}}this._bindBuffer(I.indexBuffer,j.ELEMENT_ARRAY_BUFFER),N.setUniform("uMaterialColor",this.curFillColor),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var ne=0,J=null,q=P.stringToGlyphs(b),ae=!0,fe=!1,Se=void 0;try{for(var K,R=q[Symbol.iterator]();!(ae=(K=R.next()).done);ae=!0){var se,ge,De=K.value,Le=(J&&(ne+=P.getKerningValue(J,De)),$.getGlyphInfo(De));Le.uGlyphRect&&(se=Le.rowInfo,ge=Le.colInfo,N.setUniform("uSamplerStrokes",Le.strokeImageInfo.imageData),N.setUniform("uSamplerRowStrokes",se.cellImageInfo.imageData),N.setUniform("uSamplerRows",se.dimImageInfo.imageData),N.setUniform("uSamplerColStrokes",ge.cellImageInfo.imageData),N.setUniform("uSamplerCols",ge.dimImageInfo.imageData),N.setUniform("uGridOffset",Le.uGridOffset),N.setUniform("uGlyphRect",Le.uGlyphRect),N.setUniform("uGlyphOffset",ne),N.bindTextures(),j.drawElements(j.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),ne+=De.advanceWidth,J=De}}catch($e){fe=!0,Se=$e}finally{try{ae||null==R.return||R.return()}finally{if(fe)throw Se}}}finally{N.unbindShader(),this._doStroke=k,this.drawMode=A,j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),p.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return p}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":269,"../core/main":280,"./p5.RendererGL.Retained":336,"./p5.Shader":338,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}]},{},[264])(264)},4972:(fn,Lt,me)=>{function v(a){this.mode=rt.MODE_8BIT_BYTE,this.data=a,this.parsedData=[];for(var l=0,d=this.data.length;l<d;l++){var u=[],c=this.data.charCodeAt(l);c>65536?(u[0]=240|(1835008&c)>>>18,u[1]=128|(258048&c)>>>12,u[2]=128|(4032&c)>>>6,u[3]=128|63&c):c>2048?(u[0]=224|(61440&c)>>>12,u[1]=128|(4032&c)>>>6,u[2]=128|63&c):c>128?(u[0]=192|(1984&c)>>>6,u[1]=128|63&c):u[0]=c,this.parsedData.push(u)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function xe(a,l){this.typeNumber=a,this.errorCorrectLevel=l,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}v.prototype={getLength:function(a){return this.parsedData.length},write:function(a){for(var l=0,d=this.parsedData.length;l<d;l++)a.put(this.parsedData[l],8)}},xe.prototype={addData:function(a){var l=new v(a);this.dataList.push(l),this.dataCache=null},isDark:function(a,l){if(a<0||this.moduleCount<=a||l<0||this.moduleCount<=l)throw new Error(a+","+l);return this.modules[a][l]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,l){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var u=0;u<this.moduleCount;u++)this.modules[d][u]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,l),this.typeNumber>=7&&this.setupTypeNumber(a),null==this.dataCache&&(this.dataCache=xe.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,l)},setupPositionProbePattern:function(a,l){for(var d=-1;d<=7;d++)if(!(a+d<=-1||this.moduleCount<=a+d))for(var u=-1;u<=7;u++)l+u<=-1||this.moduleCount<=l+u||(this.modules[a+d][l+u]=0<=d&&d<=6&&(0==u||6==u)||0<=u&&u<=6&&(0==d||6==d)||2<=d&&d<=4&&2<=u&&u<=4)},getBestMaskPattern:function(){for(var a=0,l=0,d=0;d<8;d++){this.makeImpl(!0,d);var u=H.getLostPoint(this);(0==d||a>u)&&(a=u,l=d)}return l},createMovieClip:function(a,l,d){var u=a.createEmptyMovieClip(l,d);this.make();for(var s=0;s<this.modules.length;s++)for(var m=1*s,p=0;p<this.modules[s].length;p++){var b=1*p;this.modules[s][p]&&(u.beginFill(0,100),u.moveTo(b,m),u.lineTo(b+1,m),u.lineTo(b+1,m+1),u.lineTo(b,m+1),u.endFill())}return u},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=a%2==0);for(var l=8;l<this.moduleCount-8;l++)null==this.modules[6][l]&&(this.modules[6][l]=l%2==0)},setupPositionAdjustPattern:function(){for(var a=H.getPatternPosition(this.typeNumber),l=0;l<a.length;l++)for(var d=0;d<a.length;d++){var u=a[l],c=a[d];if(null==this.modules[u][c])for(var s=-2;s<=2;s++)for(var m=-2;m<=2;m++)this.modules[u+s][c+m]=-2==s||2==s||-2==m||2==m||0==s&&0==m}},setupTypeNumber:function(a){for(var l=H.getBCHTypeNumber(this.typeNumber),d=0;d<18;d++){var u=!a&&1==(l>>d&1);this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=u}for(d=0;d<18;d++)u=!a&&1==(l>>d&1),this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=u},setupTypeInfo:function(a,l){for(var u=H.getBCHTypeInfo(this.errorCorrectLevel<<3|l),c=0;c<15;c++){var s=!a&&1==(u>>c&1);c<6?this.modules[c][8]=s:c<8?this.modules[c+1][8]=s:this.modules[this.moduleCount-15+c][8]=s}for(c=0;c<15;c++)s=!a&&1==(u>>c&1),c<8?this.modules[8][this.moduleCount-c-1]=s:c<9?this.modules[8][15-c-1+1]=s:this.modules[8][15-c-1]=s;this.modules[this.moduleCount-8][8]=!a},mapData:function(a,l){for(var d=-1,u=this.moduleCount-1,c=7,s=0,m=this.moduleCount-1;m>0;m-=2)for(6==m&&m--;;){for(var p=0;p<2;p++)if(null==this.modules[u][m-p]){var b=!1;s<a.length&&(b=1==(a[s]>>>c&1)),H.getMask(l,u,m-p)&&(b=!b),this.modules[u][m-p]=b,-1==--c&&(s++,c=7)}if((u+=d)<0||this.moduleCount<=u){u-=d,d=-d;break}}}},xe.PAD0=236,xe.PAD1=17,xe.createData=function(a,l,d){for(var u=h.getRSBlocks(a,l),c=new f,s=0;s<d.length;s++){var m=d[s];c.put(m.mode,4),c.put(m.getLength(),H.getLengthInBits(m.mode,a)),m.write(c)}var p=0;for(s=0;s<u.length;s++)p+=u[s].dataCount;if(c.getLengthInBits()>8*p)throw new Error("code length overflow. ("+c.getLengthInBits()+">"+8*p+")");for(c.getLengthInBits()+4<=8*p&&c.put(0,4);c.getLengthInBits()%8!=0;)c.putBit(!1);for(;!(c.getLengthInBits()>=8*p||(c.put(xe.PAD0,8),c.getLengthInBits()>=8*p));)c.put(xe.PAD1,8);return xe.createBytes(c,u)},xe.createBytes=function(a,l){for(var d=0,u=0,c=0,s=new Array(l.length),m=new Array(l.length),p=0;p<l.length;p++){var b=l[p].dataCount,T=l[p].totalCount-b;u=Math.max(u,b),c=Math.max(c,T),s[p]=new Array(b);for(var F=0;F<s[p].length;F++)s[p][F]=255&a.buffer[F+d];d+=b;var k=H.getErrorCorrectPolynomial(T),P=new _(s[p],k.getLength()-1).mod(k);for(m[p]=new Array(k.getLength()-1),F=0;F<m[p].length;F++){var $=F+P.getLength()-m[p].length;m[p][F]=$>=0?P.get($):0}}var j=0;for(F=0;F<l.length;F++)j+=l[F].totalCount;var N=new Array(j),I=0;for(F=0;F<u;F++)for(p=0;p<l.length;p++)F<s[p].length&&(N[I++]=s[p][F]);for(F=0;F<c;F++)for(p=0;p<l.length;p++)F<m[p].length&&(N[I++]=m[p][F]);return N};for(var rt={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Ne={L:1,M:0,Q:3,H:2},r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},H={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var l=a<<10;H.getBCHDigit(l)-H.getBCHDigit(H.G15)>=0;)l^=H.G15<<H.getBCHDigit(l)-H.getBCHDigit(H.G15);return(a<<10|l)^H.G15_MASK},getBCHTypeNumber:function(a){for(var l=a<<12;H.getBCHDigit(l)-H.getBCHDigit(H.G18)>=0;)l^=H.G18<<H.getBCHDigit(l)-H.getBCHDigit(H.G18);return a<<12|l},getBCHDigit:function(a){for(var l=0;0!=a;)l++,a>>>=1;return l},getPatternPosition:function(a){return H.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,l,d){switch(a){case r.PATTERN000:return(l+d)%2==0;case r.PATTERN001:return l%2==0;case r.PATTERN010:return d%3==0;case r.PATTERN011:return(l+d)%3==0;case r.PATTERN100:return(Math.floor(l/2)+Math.floor(d/3))%2==0;case r.PATTERN101:return l*d%2+l*d%3==0;case r.PATTERN110:return(l*d%2+l*d%3)%2==0;case r.PATTERN111:return(l*d%3+(l+d)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var l=new _([1],0),d=0;d<a;d++)l=l.multiply(new _([1,C.gexp(d)],0));return l},getLengthInBits:function(a,l){if(1<=l&&l<10)switch(a){case rt.MODE_NUMBER:return 10;case rt.MODE_ALPHA_NUM:return 9;case rt.MODE_8BIT_BYTE:case rt.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(l<27)switch(a){case rt.MODE_NUMBER:return 12;case rt.MODE_ALPHA_NUM:return 11;case rt.MODE_8BIT_BYTE:return 16;case rt.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else{if(!(l<41))throw new Error("type:"+l);switch(a){case rt.MODE_NUMBER:return 14;case rt.MODE_ALPHA_NUM:return 13;case rt.MODE_8BIT_BYTE:return 16;case rt.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}}},getLostPoint:function(a){for(var l=a.getModuleCount(),d=0,u=0;u<l;u++)for(var c=0;c<l;c++){for(var s=0,m=a.isDark(u,c),p=-1;p<=1;p++)if(!(u+p<0||l<=u+p))for(var b=-1;b<=1;b++)c+b<0||l<=c+b||0==p&&0==b||m==a.isDark(u+p,c+b)&&s++;s>5&&(d+=3+s-5)}for(u=0;u<l-1;u++)for(c=0;c<l-1;c++){var T=0;a.isDark(u,c)&&T++,a.isDark(u+1,c)&&T++,a.isDark(u,c+1)&&T++,a.isDark(u+1,c+1)&&T++,(0==T||4==T)&&(d+=3)}for(u=0;u<l;u++)for(c=0;c<l-6;c++)a.isDark(u,c)&&!a.isDark(u,c+1)&&a.isDark(u,c+2)&&a.isDark(u,c+3)&&a.isDark(u,c+4)&&!a.isDark(u,c+5)&&a.isDark(u,c+6)&&(d+=40);for(c=0;c<l;c++)for(u=0;u<l-6;u++)a.isDark(u,c)&&!a.isDark(u+1,c)&&a.isDark(u+2,c)&&a.isDark(u+3,c)&&a.isDark(u+4,c)&&!a.isDark(u+5,c)&&a.isDark(u+6,c)&&(d+=40);var F=0;for(c=0;c<l;c++)for(u=0;u<l;u++)a.isDark(u,c)&&F++;return d+Math.abs(100*F/l/l-50)/5*10}},C={glog:function(a){if(a<1)throw new Error("glog("+a+")");return C.LOG_TABLE[a]},gexp:function(a){for(;a<0;)a+=255;for(;a>=256;)a-=255;return C.EXP_TABLE[a]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},y=0;y<8;y++)C.EXP_TABLE[y]=1<<y;for(y=8;y<256;y++)C.EXP_TABLE[y]=C.EXP_TABLE[y-4]^C.EXP_TABLE[y-5]^C.EXP_TABLE[y-6]^C.EXP_TABLE[y-8];for(y=0;y<255;y++)C.LOG_TABLE[C.EXP_TABLE[y]]=y;function _(a,l){if(null==a.length)throw new Error(a.length+"/"+l);for(var d=0;d<a.length&&0==a[d];)d++;this.num=new Array(a.length-d+l);for(var u=0;u<a.length-d;u++)this.num[u]=a[u+d]}function h(a,l){this.totalCount=a,this.dataCount=l}function f(){this.buffer=[],this.length=0}_.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var l=new Array(this.getLength()+a.getLength()-1),d=0;d<this.getLength();d++)for(var u=0;u<a.getLength();u++)l[d+u]^=C.gexp(C.glog(this.get(d))+C.glog(a.get(u)));return new _(l,0)},mod:function(a){if(this.getLength()-a.getLength()<0)return this;for(var l=C.glog(this.get(0))-C.glog(a.get(0)),d=new Array(this.getLength()),u=0;u<this.getLength();u++)d[u]=this.get(u);for(u=0;u<a.getLength();u++)d[u]^=C.gexp(C.glog(a.get(u))+l);return new _(d,0).mod(a)}},h.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],h.getRSBlocks=function(a,l){var d=h.getRsBlockTable(a,l);if(null==d)throw new Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+l);for(var u=d.length/3,c=[],s=0;s<u;s++)for(var m=d[3*s+0],p=d[3*s+1],b=d[3*s+2],T=0;T<m;T++)c.push(new h(p,b));return c},h.getRsBlockTable=function(a,l){switch(l){case Ne.L:return h.RS_BLOCK_TABLE[4*(a-1)+0];case Ne.M:return h.RS_BLOCK_TABLE[4*(a-1)+1];case Ne.Q:return h.RS_BLOCK_TABLE[4*(a-1)+2];case Ne.H:return h.RS_BLOCK_TABLE[4*(a-1)+3];default:return}},f.prototype={get:function(a){var l=Math.floor(a/8);return 1==(this.buffer[l]>>>7-a%8&1)},put:function(a,l){for(var d=0;d<l;d++)this.putBit(1==(a>>>l-d-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){var l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),a&&(this.buffer[l]|=128>>>this.length%8),this.length++}};var E=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function w(a){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof a&&(a={content:a}),a)for(var d in a)this.options[d]=a[d];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var m=this.options.content,p=function c(T,F){for(var k=function s(T){var F=encodeURI(T).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return F.length+(F.length!=T?3:0)}(T),A=1,P=0,$=0,j=E.length;$<=j;$++){var N=E[$];if(!N)throw new Error("Content too long: expected "+P+" but got "+k);switch(F){case"L":P=N[0];break;case"M":P=N[1];break;case"Q":P=N[2];break;case"H":P=N[3];break;default:throw new Error("Unknwon error correction level: "+F)}if(k<=P)break;A++}if(A>E.length)throw new Error("Content too long");return A}(m,this.options.ecl),b=function u(T){switch(T){case"L":return Ne.L;case"M":return Ne.M;case"Q":return Ne.Q;case"H":return Ne.H;default:throw new Error("Unknwon error correction level: "+T)}}(this.options.ecl);this.qrcode=new xe(p,b),this.qrcode.addData(m),this.qrcode.make()}w.prototype.svg=function(a){var l=this.options||{},d=this.qrcode.modules;typeof a>"u"&&(a={container:l.container||"svg"});for(var u=!(typeof l.pretty<"u"&&!l.pretty),c=u?"  ":"",s=u?"\r\n":"",m=l.width,p=l.height,b=d.length,T=m/(b+2*l.padding),F=p/(b+2*l.padding),k=typeof l.join<"u"&&!!l.join,A=typeof l.swap<"u"&&!!l.swap,P=!(typeof l.xmlDeclaration<"u"&&!l.xmlDeclaration),$=typeof l.predefined<"u"&&!!l.predefined,j=$?c+'<defs><path id="qrmodule" d="M0 0 h'+F+" v"+T+' H0 z" style="fill:'+l.color+';shape-rendering:crispEdges;" /></defs>'+s:"",N=c+'<rect x="0" y="0" width="'+m+'" height="'+p+'" style="fill:'+l.background+';shape-rendering:crispEdges;"/>'+s,I="",B="",z=0;z<b;z++)for(var W=0;W<b;W++)if(d[W][z]){var J=W*T+l.padding*T,q=z*F+l.padding*F;if(A){var ae=J;J=q,q=ae}if(k){var fe=T+J,Se=F+q;J=Number.isInteger(J)?Number(J):J.toFixed(2),q=Number.isInteger(q)?Number(q):q.toFixed(2),fe=Number.isInteger(fe)?Number(fe):fe.toFixed(2),B+="M"+J+","+q+" V"+(Se=Number.isInteger(Se)?Number(Se):Se.toFixed(2))+" H"+fe+" V"+q+" H"+J+" Z "}else I+=$?c+'<use x="'+J.toString()+'" y="'+q.toString()+'" href="#qrmodule" />'+s:c+'<rect x="'+J.toString()+'" y="'+q.toString()+'" width="'+T+'" height="'+F+'" style="fill:'+l.color+';shape-rendering:crispEdges;"/>'+s}k&&(I=c+'<path x="0" y="0" style="fill:'+l.color+';shape-rendering:crispEdges;" d="'+B+'" />');var K="";switch(a.container){case"svg":P&&(K+='<?xml version="1.0" standalone="yes"?>'+s),K+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+m+'" height="'+p+'">'+s,K+=j+N+I,K+="</svg>";break;case"svg-viewbox":P&&(K+='<?xml version="1.0" standalone="yes"?>'+s),K+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+m+" "+p+'">'+s,K+=j+N+I,K+="</svg>";break;case"g":K+='<g width="'+m+'" height="'+p+'">'+s,K+=j+N+I,K+="</g>";break;default:K+=(j+N+I).replace(/^\s+/,"")}return K},w.prototype.save=function(a,l){var d=this.svg();"function"!=typeof l&&(l=function(c,s){});try{me(Object(function(){var s=new Error("Cannot find module 'fs'");throw s.code="MODULE_NOT_FOUND",s}())).writeFile(a,d,l)}catch(c){l(c)}},fn.exports=w},6700:(fn,Lt,me)=>{"use strict";me.d(Lt,{g:()=>xe});var v=me(5657);class xe extends v.E{constructor(Ne){super(),this._value=Ne}get value(){return this.getValue()}_subscribe(Ne){const r=super._subscribe(Ne);return!r.closed&&Ne.next(this._value),r}getValue(){const{hasError:Ne,thrownError:r,_value:H}=this;if(Ne)throw r;return this._throwIfClosed(),H}next(Ne){super.next(this._value=Ne)}}},3252:(fn,Lt,me)=>{"use strict";me.d(Lt,{_:()=>y});var v=me(1760),xe=me(4548),rt=me(472),Ne=me(3928),r=me(4491),H=me(8880),C=me(2075);let y=(()=>{class E{constructor(a){a&&(this._subscribe=a)}lift(a){const l=new E;return l.source=this,l.operator=a,l}subscribe(a,l,d){const u=function f(E){return E&&E instanceof v.yR||function h(E){return E&&(0,H.m)(E.next)&&(0,H.m)(E.error)&&(0,H.m)(E.complete)}(E)&&(0,xe.GI)(E)}(a)?a:new v.ot(a,l,d);return(0,C.c)(()=>{const{operator:c,source:s}=this;u.add(c?c.call(u,s):s?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(a){try{return this._subscribe(a)}catch(l){a.error(l)}}forEach(a,l){return new(l=_(l))((d,u)=>{const c=new v.ot({next:s=>{try{a(s)}catch(m){u(m),c.unsubscribe()}},error:u,complete:d});this.subscribe(c)})}_subscribe(a){var l;return null===(l=this.source)||void 0===l?void 0:l.subscribe(a)}[rt.a](){return this}pipe(...a){return(0,Ne.Y)(a)(this)}toPromise(a){return new(a=_(a))((l,d)=>{let u;this.subscribe(c=>u=c,c=>d(c),()=>l(u))})}}return E.create=w=>new E(w),E})();function _(E){var w;return null!==(w=null!=E?E:r.config.Promise)&&void 0!==w?w:Promise}},5657:(fn,Lt,me)=>{"use strict";me.d(Lt,{E:()=>C});var v=me(3252),xe=me(4548);const Ne=(0,me(4912).w)(_=>function(){_(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var r=me(1248),H=me(2075);let C=(()=>{class _ extends v._{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(f){const E=new y(this,this);return E.operator=f,E}_throwIfClosed(){if(this.closed)throw new Ne}next(f){(0,H.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const E of this.currentObservers)E.next(f)}})}error(f){(0,H.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=f;const{observers:E}=this;for(;E.length;)E.shift().error(f)}})}complete(){(0,H.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:f}=this;for(;f.length;)f.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var f;return(null===(f=this.observers)||void 0===f?void 0:f.length)>0}_trySubscribe(f){return this._throwIfClosed(),super._trySubscribe(f)}_subscribe(f){return this._throwIfClosed(),this._checkFinalizedStatuses(f),this._innerSubscribe(f)}_innerSubscribe(f){const{hasError:E,isStopped:w,observers:a}=this;return E||w?xe.au:(this.currentObservers=null,a.push(f),new xe.wH(()=>{this.currentObservers=null,(0,r.k)(a,f)}))}_checkFinalizedStatuses(f){const{hasError:E,thrownError:w,isStopped:a}=this;E?f.error(w):a&&f.complete()}asObservable(){const f=new v._;return f.source=this,f}}return _.create=(h,f)=>new y(h,f),_})();class y extends C{constructor(h,f){super(),this.destination=h,this.source=f}next(h){var f,E;null===(E=null===(f=this.destination)||void 0===f?void 0:f.next)||void 0===E||E.call(f,h)}error(h){var f,E;null===(E=null===(f=this.destination)||void 0===f?void 0:f.error)||void 0===E||E.call(f,h)}complete(){var h,f;null===(f=null===(h=this.destination)||void 0===h?void 0:h.complete)||void 0===f||f.call(h)}_subscribe(h){var f,E;return null!==(E=null===(f=this.source)||void 0===f?void 0:f.subscribe(h))&&void 0!==E?E:xe.au}}},1760:(fn,Lt,me)=>{"use strict";me.d(Lt,{ot:()=>d,yR:()=>E});var v=me(8880),xe=me(4548),rt=me(4491),Ne=me(1984),r=me(308);const H=_("C",void 0,void 0);function _(p,b,T){return{kind:p,value:b,error:T}}var h=me(3376),f=me(2075);class E extends xe.wH{constructor(b){super(),this.isStopped=!1,b?(this.destination=b,(0,xe.GI)(b)&&b.add(this)):this.destination=m}static create(b,T,F){return new d(b,T,F)}next(b){this.isStopped?s(function y(p){return _("N",p,void 0)}(b),this):this._next(b)}error(b){this.isStopped?s(function C(p){return _("E",void 0,p)}(b),this):(this.isStopped=!0,this._error(b))}complete(){this.isStopped?s(H,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(b){this.destination.next(b)}_error(b){try{this.destination.error(b)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const w=Function.prototype.bind;function a(p,b){return w.call(p,b)}class l{constructor(b){this.partialObserver=b}next(b){const{partialObserver:T}=this;if(T.next)try{T.next(b)}catch(F){u(F)}}error(b){const{partialObserver:T}=this;if(T.error)try{T.error(b)}catch(F){u(F)}else u(b)}complete(){const{partialObserver:b}=this;if(b.complete)try{b.complete()}catch(T){u(T)}}}class d extends E{constructor(b,T,F){let k;if(super(),(0,v.m)(b)||!b)k={next:null!=b?b:void 0,error:null!=T?T:void 0,complete:null!=F?F:void 0};else{let A;this&&rt.config.useDeprecatedNextContext?(A=Object.create(b),A.unsubscribe=()=>this.unsubscribe(),k={next:b.next&&a(b.next,A),error:b.error&&a(b.error,A),complete:b.complete&&a(b.complete,A)}):k=b}this.destination=new l(k)}}function u(p){rt.config.useDeprecatedSynchronousErrorHandling?(0,f.q)(p):(0,Ne.U)(p)}function s(p,b){const{onStoppedNotification:T}=rt.config;T&&h.u.setTimeout(()=>T(p,b))}const m={closed:!0,next:r.K,error:function c(p){throw p},complete:r.K}},4548:(fn,Lt,me)=>{"use strict";me.d(Lt,{au:()=>H,wH:()=>r,GI:()=>C});var v=me(8880);const rt=(0,me(4912).w)(_=>function(f){_(this),this.message=f?`${f.length} errors occurred during unsubscription:\n${f.map((E,w)=>`${w+1}) ${E.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=f});var Ne=me(1248);class r{constructor(h){this.initialTeardown=h,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let h;if(!this.closed){this.closed=!0;const{_parentage:f}=this;if(f)if(this._parentage=null,Array.isArray(f))for(const a of f)a.remove(this);else f.remove(this);const{initialTeardown:E}=this;if((0,v.m)(E))try{E()}catch(a){h=a instanceof rt?a.errors:[a]}const{_finalizers:w}=this;if(w){this._finalizers=null;for(const a of w)try{y(a)}catch(l){h=null!=h?h:[],l instanceof rt?h=[...h,...l.errors]:h.push(l)}}if(h)throw new rt(h)}}add(h){var f;if(h&&h!==this)if(this.closed)y(h);else{if(h instanceof r){if(h.closed||h._hasParent(this))return;h._addParent(this)}(this._finalizers=null!==(f=this._finalizers)&&void 0!==f?f:[]).push(h)}}_hasParent(h){const{_parentage:f}=this;return f===h||Array.isArray(f)&&f.includes(h)}_addParent(h){const{_parentage:f}=this;this._parentage=Array.isArray(f)?(f.push(h),f):f?[f,h]:h}_removeParent(h){const{_parentage:f}=this;f===h?this._parentage=null:Array.isArray(f)&&(0,Ne.k)(f,h)}remove(h){const{_finalizers:f}=this;f&&(0,Ne.k)(f,h),h instanceof r&&h._removeParent(this)}}r.EMPTY=(()=>{const _=new r;return _.closed=!0,_})();const H=r.EMPTY;function C(_){return _ instanceof r||_&&"closed"in _&&(0,v.m)(_.remove)&&(0,v.m)(_.add)&&(0,v.m)(_.unsubscribe)}function y(_){(0,v.m)(_)?_():_.unsubscribe()}},4491:(fn,Lt,me)=>{"use strict";me.d(Lt,{config:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2376:(fn,Lt,me)=>{"use strict";me.d(Lt,{C:()=>H});var v=me(3252),xe=me(4548),rt=me(8084),Ne=me(7773),r=me(5448);class H extends v._{constructor(y,_){super(),this.source=y,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,r.e)(y)&&(this.lift=y.lift)}_subscribe(y){return this.getSubject().subscribe(y)}getSubject(){const y=this._subject;return(!y||y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:y}=this;this._subject=this._connection=null,null==y||y.unsubscribe()}connect(){let y=this._connection;if(!y){y=this._connection=new xe.wH;const _=this.getSubject();y.add(this.source.subscribe((0,Ne.e)(_,void 0,()=>{this._teardown(),_.complete()},h=>{this._teardown(),_.error(h)},()=>this._teardown()))),y.closed&&(this._connection=null,y=xe.wH.EMPTY)}return y}refCount(){return(0,rt.O)()(this)}}},6040:(fn,Lt,me)=>{"use strict";me.d(Lt,{E:()=>h});var v=me(3252),xe=me(4300),rt=me(2115),Ne=me(528),r=me(4187),H=me(6624),C=me(7904),y=me(7773),_=me(9399);function h(...w){const a=(0,H.e_)(w),l=(0,H.yu)(w),{args:d,keys:u}=(0,xe.Q)(w);if(0===d.length)return(0,rt.Q)([],a);const c=new v._(function f(w,a,l=Ne.Z){return d=>{E(a,()=>{const{length:u}=w,c=new Array(u);let s=u,m=u;for(let p=0;p<u;p++)E(a,()=>{const b=(0,rt.Q)(w[p],a);let T=!1;b.subscribe((0,y.e)(d,F=>{c[p]=F,T||(T=!0,m--),m||d.next(l(c.slice()))},()=>{--s||d.complete()}))},d)},d)}}(d,a,u?s=>(0,C.q)(u,s):Ne.Z));return l?c.pipe((0,r.j)(l)):c}function E(w,a,l){w?(0,_._)(l,w,a):a()}},7228:(fn,Lt,me)=>{"use strict";me.d(Lt,{W:()=>r});var v=me(267),rt=me(6624),Ne=me(2115);function r(...H){return function xe(){return(0,v.u)(1)}()((0,Ne.Q)(H,(0,rt.e_)(H)))}},1424:(fn,Lt,me)=>{"use strict";me.d(Lt,{Q:()=>rt});var v=me(3252),xe=me(560);function rt(Ne){return new v._(r=>{(0,xe.Uv)(Ne()).subscribe(r)})}},8960:(fn,Lt,me)=>{"use strict";me.d(Lt,{k:()=>xe});const xe=new(me(3252)._)(r=>r.complete())},2115:(fn,Lt,me)=>{"use strict";me.d(Lt,{Q:()=>F});var v=me(560),xe=me(9399),rt=me(5448),Ne=me(7773);function r(k,A=0){return(0,rt.i)((P,$)=>{P.subscribe((0,Ne.e)($,j=>(0,xe._)($,k,()=>$.next(j),A),()=>(0,xe._)($,k,()=>$.complete(),A),j=>(0,xe._)($,k,()=>$.error(j),A)))})}function H(k,A=0){return(0,rt.i)((P,$)=>{$.add(k.schedule(()=>P.subscribe($),A))})}var _=me(3252),f=me(3835),E=me(8880);function a(k,A){if(!k)throw new Error("Iterable cannot be null");return new _._(P=>{(0,xe._)(P,A,()=>{const $=k[Symbol.asyncIterator]();(0,xe._)(P,A,()=>{$.next().then(j=>{j.done?P.complete():P.next(j.value)})},0,!0)})})}var l=me(5099),d=me(5432),u=me(5428),c=me(1688),s=me(376),m=me(8272),p=me(5832);function F(k,A){return A?function T(k,A){if(null!=k){if((0,l.O)(k))return function C(k,A){return(0,v.Uv)(k).pipe(H(A),r(A))}(k,A);if((0,u.G)(k))return function h(k,A){return new _._(P=>{let $=0;return A.schedule(function(){$===k.length?P.complete():(P.next(k[$++]),P.closed||this.schedule())})})}(k,A);if((0,d.u)(k))return function y(k,A){return(0,v.Uv)(k).pipe(H(A),r(A))}(k,A);if((0,s.E)(k))return a(k,A);if((0,c.i)(k))return function w(k,A){return new _._(P=>{let $;return(0,xe._)(P,A,()=>{$=k[f.w](),(0,xe._)(P,A,()=>{let j,N;try{({value:j,done:N}=$.next())}catch(I){return void P.error(I)}N?P.complete():P.next(j)},0,!0)}),()=>(0,E.m)(null==$?void 0:$.return)&&$.return()})}(k,A);if((0,p.K)(k))return function b(k,A){return a((0,p._)(k),A)}(k,A)}throw(0,m.W)(k)}(k,A):(0,v.Uv)(k)}},800:(fn,Lt,me)=>{"use strict";me.d(Lt,{w:()=>h});var v=me(560),xe=me(3252),rt=me(7400),Ne=me(5428),r=me(8880),H=me(4187);const C=["addListener","removeListener"],y=["addEventListener","removeEventListener"],_=["on","off"];function h(l,d,u,c){if((0,r.m)(u)&&(c=u,u=void 0),c)return h(l,d,u).pipe((0,H.j)(c));const[s,m]=function a(l){return(0,r.m)(l.addEventListener)&&(0,r.m)(l.removeEventListener)}(l)?y.map(p=>b=>l[p](d,b,u)):function E(l){return(0,r.m)(l.addListener)&&(0,r.m)(l.removeListener)}(l)?C.map(f(l,d)):function w(l){return(0,r.m)(l.on)&&(0,r.m)(l.off)}(l)?_.map(f(l,d)):[];if(!s&&(0,Ne.G)(l))return(0,rt.O)(p=>h(p,d,u))((0,v.Uv)(l));if(!s)throw new TypeError("Invalid event target");return new xe._(p=>{const b=(...T)=>p.next(1<T.length?T:T[0]);return s(b),()=>m(b)})}function f(l,d){return u=>c=>l[u](d,c)}},560:(fn,Lt,me)=>{"use strict";me.d(Lt,{Uv:()=>w});var v=me(1316),xe=me(5428),rt=me(5432),Ne=me(3252),r=me(5099),H=me(376),C=me(8272),y=me(1688),_=me(5832),h=me(8880),f=me(1984),E=me(472);function w(p){if(p instanceof Ne._)return p;if(null!=p){if((0,r.O)(p))return function a(p){return new Ne._(b=>{const T=p[E.a]();if((0,h.m)(T.subscribe))return T.subscribe(b);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(p);if((0,xe.G)(p))return function l(p){return new Ne._(b=>{for(let T=0;T<p.length&&!b.closed;T++)b.next(p[T]);b.complete()})}(p);if((0,rt.u)(p))return function d(p){return new Ne._(b=>{p.then(T=>{b.closed||(b.next(T),b.complete())},T=>b.error(T)).then(null,f.U)})}(p);if((0,H.E)(p))return c(p);if((0,y.i)(p))return function u(p){return new Ne._(b=>{for(const T of p)if(b.next(T),b.closed)return;b.complete()})}(p);if((0,_.K)(p))return function s(p){return c((0,_._)(p))}(p)}throw(0,C.W)(p)}function c(p){return new Ne._(b=>{(function m(p,b){var T,F,k,A;return(0,v.kH)(this,void 0,void 0,function*(){try{for(T=(0,v.mA)(p);!(F=yield T.next()).done;)if(b.next(F.value),b.closed)return}catch(P){k={error:P}}finally{try{F&&!F.done&&(A=T.return)&&(yield A.call(T))}finally{if(k)throw k.error}}b.complete()})})(p,b).catch(T=>b.error(T))})}},2700:(fn,Lt,me)=>{"use strict";me.d(Lt,{of:()=>rt});var v=me(6624),xe=me(2115);function rt(...Ne){const r=(0,v.e_)(Ne);return(0,xe.Q)(Ne,r)}},3800:(fn,Lt,me)=>{"use strict";me.d(Lt,{c:()=>rt});var v=me(3252),xe=me(8880);function rt(Ne,r){const H=(0,xe.m)(Ne)?Ne:()=>Ne,C=y=>y.error(H());return new v._(r?y=>r.schedule(C,0,y):C)}},7773:(fn,Lt,me)=>{"use strict";me.d(Lt,{e:()=>xe});var v=me(1760);function xe(Ne,r,H,C,y){return new rt(Ne,r,H,C,y)}class rt extends v.yR{constructor(r,H,C,y,_,h){super(r),this.onFinalize=_,this.shouldUnsubscribe=h,this._next=H?function(f){try{H(f)}catch(E){r.error(E)}}:super._next,this._error=y?function(f){try{y(f)}catch(E){r.error(E)}finally{this.unsubscribe()}}:super._error,this._complete=C?function(){try{C()}catch(f){r.error(f)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:H}=this;super.unsubscribe(),!H&&(null===(r=this.onFinalize)||void 0===r||r.call(this))}}}},6684:(fn,Lt,me)=>{"use strict";me.d(Lt,{I:()=>rt});var v=me(5448),xe=me(7773);function rt(Ne,r){return(0,v.i)((H,C)=>{let y=0;H.subscribe((0,xe.e)(C,_=>Ne.call(r,_,y++)&&C.next(_)))})}},4704:(fn,Lt,me)=>{"use strict";me.d(Lt,{k:()=>rt});var v=me(5448),xe=me(7773);function rt(Ne,r){return(0,v.i)((H,C)=>{let y=0;H.subscribe((0,xe.e)(C,_=>{C.next(Ne.call(r,_,y++))}))})}},320:(fn,Lt,me)=>{"use strict";me.d(Lt,{e:()=>xe});var v=me(4704);function xe(rt){return(0,v.k)(()=>rt)}},267:(fn,Lt,me)=>{"use strict";me.d(Lt,{u:()=>rt});var v=me(7400),xe=me(528);function rt(Ne=1/0){return(0,v.O)(xe.Z,Ne)}},7400:(fn,Lt,me)=>{"use strict";me.d(Lt,{O:()=>y});var v=me(4704),xe=me(560),rt=me(5448),Ne=me(9399),r=me(7773),C=me(8880);function y(_,h,f=1/0){return(0,C.m)(h)?y((E,w)=>(0,v.k)((a,l)=>h(E,a,w,l))((0,xe.Uv)(_(E,w))),f):("number"==typeof h&&(f=h),(0,rt.i)((E,w)=>function H(_,h,f,E,w,a,l,d){const u=[];let c=0,s=0,m=!1;const p=()=>{m&&!u.length&&!c&&h.complete()},b=F=>c<E?T(F):u.push(F),T=F=>{a&&h.next(F),c++;let k=!1;(0,xe.Uv)(f(F,s++)).subscribe((0,r.e)(h,A=>{null==w||w(A),a?b(A):h.next(A)},()=>{k=!0},void 0,()=>{if(k)try{for(c--;u.length&&c<E;){const A=u.shift();l?(0,Ne._)(h,l,()=>T(A)):T(A)}p()}catch(A){h.error(A)}}))};return _.subscribe((0,r.e)(h,b,()=>{m=!0,p()})),()=>{null==d||d()}}(E,w,_,f)))}},8084:(fn,Lt,me)=>{"use strict";me.d(Lt,{O:()=>rt});var v=me(5448),xe=me(7773);function rt(){return(0,v.i)((Ne,r)=>{let H=null;Ne._refCount++;const C=(0,xe.e)(r,void 0,void 0,void 0,()=>{if(!Ne||Ne._refCount<=0||0<--Ne._refCount)return void(H=null);const y=Ne._connection,_=H;H=null,y&&(!_||y===_)&&y.unsubscribe(),r.unsubscribe()});Ne.subscribe(C),C.closed||(H=Ne.connect())})}},7368:(fn,Lt,me)=>{"use strict";me.d(Lt,{G:()=>Ne});var v=me(560),xe=me(5448),rt=me(7773);function Ne(r,H){return(0,xe.i)((C,y)=>{let _=null,h=0,f=!1;const E=()=>f&&!_&&y.complete();C.subscribe((0,rt.e)(y,w=>{null==_||_.unsubscribe();let a=0;const l=h++;(0,v.Uv)(r(w,l)).subscribe(_=(0,rt.e)(y,d=>y.next(H?H(w,d,l,a++):d),()=>{_=null,E()}))},()=>{f=!0,E()}))})}},3992:(fn,Lt,me)=>{"use strict";me.d(Lt,{U:()=>Ne});var v=me(8960),xe=me(5448),rt=me(7773);function Ne(r){return r<=0?()=>v.k:(0,xe.i)((H,C)=>{let y=0;H.subscribe((0,rt.e)(C,_=>{++y<=r&&(C.next(_),r<=y&&C.complete())}))})}},9212:(fn,Lt,me)=>{"use strict";me.d(Lt,{y:()=>r});var v=me(8880),xe=me(5448),rt=me(7773),Ne=me(528);function r(H,C,y){const _=(0,v.m)(H)||C||y?{next:H,error:C,complete:y}:H;return _?(0,xe.i)((h,f)=>{var E;null===(E=_.subscribe)||void 0===E||E.call(_);let w=!0;h.subscribe((0,rt.e)(f,a=>{var l;null===(l=_.next)||void 0===l||l.call(_,a),f.next(a)},()=>{var a;w=!1,null===(a=_.complete)||void 0===a||a.call(_),f.complete()},a=>{var l;w=!1,null===(l=_.error)||void 0===l||l.call(_,a),f.error(a)},()=>{var a,l;w&&(null===(a=_.unsubscribe)||void 0===a||a.call(_)),null===(l=_.finalize)||void 0===l||l.call(_)}))}):Ne.Z}},3376:(fn,Lt,me)=>{"use strict";me.d(Lt,{u:()=>v});const v={setTimeout(xe,rt,...Ne){const{delegate:r}=v;return null!=r&&r.setTimeout?r.setTimeout(xe,rt,...Ne):setTimeout(xe,rt,...Ne)},clearTimeout(xe){const{delegate:rt}=v;return((null==rt?void 0:rt.clearTimeout)||clearTimeout)(xe)},delegate:void 0}},3835:(fn,Lt,me)=>{"use strict";me.d(Lt,{w:()=>xe});const xe=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},472:(fn,Lt,me)=>{"use strict";me.d(Lt,{a:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},6624:(fn,Lt,me)=>{"use strict";me.d(Lt,{_8:()=>H,e_:()=>r,yu:()=>Ne});var v=me(8880),xe=me(3048);function rt(C){return C[C.length-1]}function Ne(C){return(0,v.m)(rt(C))?C.pop():void 0}function r(C){return(0,xe.G)(rt(C))?C.pop():void 0}function H(C,y){return"number"==typeof rt(C)?C.pop():y}},4300:(fn,Lt,me)=>{"use strict";me.d(Lt,{Q:()=>r});const{isArray:v}=Array,{getPrototypeOf:xe,prototype:rt,keys:Ne}=Object;function r(C){if(1===C.length){const y=C[0];if(v(y))return{args:y,keys:null};if(function H(C){return C&&"object"==typeof C&&xe(C)===rt}(y)){const _=Ne(y);return{args:_.map(h=>y[h]),keys:_}}}return{args:C,keys:null}}},1248:(fn,Lt,me)=>{"use strict";function v(xe,rt){if(xe){const Ne=xe.indexOf(rt);0<=Ne&&xe.splice(Ne,1)}}me.d(Lt,{k:()=>v})},4912:(fn,Lt,me)=>{"use strict";function v(xe){const Ne=xe(r=>{Error.call(r),r.stack=(new Error).stack});return Ne.prototype=Object.create(Error.prototype),Ne.prototype.constructor=Ne,Ne}me.d(Lt,{w:()=>v})},7904:(fn,Lt,me)=>{"use strict";function v(xe,rt){return xe.reduce((Ne,r,H)=>(Ne[r]=rt[H],Ne),{})}me.d(Lt,{q:()=>v})},2075:(fn,Lt,me)=>{"use strict";me.d(Lt,{c:()=>rt,q:()=>Ne});var v=me(4491);let xe=null;function rt(r){if(v.config.useDeprecatedSynchronousErrorHandling){const H=!xe;if(H&&(xe={errorThrown:!1,error:null}),r(),H){const{errorThrown:C,error:y}=xe;if(xe=null,C)throw y}}else r()}function Ne(r){v.config.useDeprecatedSynchronousErrorHandling&&xe&&(xe.errorThrown=!0,xe.error=r)}},9399:(fn,Lt,me)=>{"use strict";function v(xe,rt,Ne,r=0,H=!1){const C=rt.schedule(function(){Ne(),H?xe.add(this.schedule(null,r)):this.unsubscribe()},r);if(xe.add(C),!H)return C}me.d(Lt,{_:()=>v})},528:(fn,Lt,me)=>{"use strict";function v(xe){return xe}me.d(Lt,{Z:()=>v})},5428:(fn,Lt,me)=>{"use strict";me.d(Lt,{G:()=>v});const v=xe=>xe&&"number"==typeof xe.length&&"function"!=typeof xe},376:(fn,Lt,me)=>{"use strict";me.d(Lt,{E:()=>xe});var v=me(8880);function xe(rt){return Symbol.asyncIterator&&(0,v.m)(null==rt?void 0:rt[Symbol.asyncIterator])}},8880:(fn,Lt,me)=>{"use strict";function v(xe){return"function"==typeof xe}me.d(Lt,{m:()=>v})},5099:(fn,Lt,me)=>{"use strict";me.d(Lt,{O:()=>rt});var v=me(472),xe=me(8880);function rt(Ne){return(0,xe.m)(Ne[v.a])}},1688:(fn,Lt,me)=>{"use strict";me.d(Lt,{i:()=>rt});var v=me(3835),xe=me(8880);function rt(Ne){return(0,xe.m)(null==Ne?void 0:Ne[v.w])}},5432:(fn,Lt,me)=>{"use strict";me.d(Lt,{u:()=>xe});var v=me(8880);function xe(rt){return(0,v.m)(null==rt?void 0:rt.then)}},5832:(fn,Lt,me)=>{"use strict";me.d(Lt,{K:()=>Ne,_:()=>rt});var v=me(1316),xe=me(8880);function rt(r){return(0,v.o7)(this,arguments,function*(){const C=r.getReader();try{for(;;){const{value:y,done:_}=yield(0,v.U1)(C.read());if(_)return yield(0,v.U1)(void 0);yield yield(0,v.U1)(y)}}finally{C.releaseLock()}})}function Ne(r){return(0,xe.m)(null==r?void 0:r.getReader)}},3048:(fn,Lt,me)=>{"use strict";me.d(Lt,{G:()=>xe});var v=me(8880);function xe(rt){return rt&&(0,v.m)(rt.schedule)}},5448:(fn,Lt,me)=>{"use strict";me.d(Lt,{e:()=>xe,i:()=>rt});var v=me(8880);function xe(Ne){return(0,v.m)(null==Ne?void 0:Ne.lift)}function rt(Ne){return r=>{if(xe(r))return r.lift(function(H){try{return Ne(H,this)}catch(C){this.error(C)}});throw new TypeError("Unable to lift unknown Observable type")}}},4187:(fn,Lt,me)=>{"use strict";me.d(Lt,{j:()=>Ne});var v=me(4704);const{isArray:xe}=Array;function Ne(r){return(0,v.k)(H=>function rt(r,H){return xe(H)?r(...H):r(H)}(r,H))}},308:(fn,Lt,me)=>{"use strict";function v(){}me.d(Lt,{K:()=>v})},3928:(fn,Lt,me)=>{"use strict";me.d(Lt,{W:()=>xe,Y:()=>rt});var v=me(528);function xe(...Ne){return rt(Ne)}function rt(Ne){return 0===Ne.length?v.Z:1===Ne.length?Ne[0]:function(H){return Ne.reduce((C,y)=>y(C),H)}}},1984:(fn,Lt,me)=>{"use strict";me.d(Lt,{U:()=>rt});var v=me(4491),xe=me(3376);function rt(Ne){xe.u.setTimeout(()=>{const{onUnhandledError:r}=v.config;if(!r)throw Ne;r(Ne)})}},8272:(fn,Lt,me)=>{"use strict";function v(xe){return new TypeError(`You provided ${null!==xe&&"object"==typeof xe?"an invalid object":`'${xe}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}me.d(Lt,{W:()=>v})},1480:(fn,Lt,me)=>{var v={"./ion-accordion_2.entry.js":[8956,9312,8956],"./ion-action-sheet.entry.js":[6736,9312,6736],"./ion-alert.entry.js":[1644,9312,1644],"./ion-app_8.entry.js":[3936,9312,3936],"./ion-avatar_3.entry.js":[9428,9428],"./ion-back-button.entry.js":[6932,9312,6932],"./ion-backdrop.entry.js":[8019,8019],"./ion-breadcrumb_2.entry.js":[7752,9312,7752],"./ion-button_2.entry.js":[9580,9580],"./ion-card_5.entry.js":[1048,1048],"./ion-checkbox.entry.js":[3752,9312,3752],"./ion-chip.entry.js":[1492,1492],"./ion-col_3.entry.js":[9584,9584],"./ion-datetime-button.entry.js":[7864,8832,7864],"./ion-datetime_3.entry.js":[8048,8832,9312,8048],"./ion-fab_3.entry.js":[1812,9312,1812],"./ion-img.entry.js":[3296,3296],"./ion-infinite-scroll_2.entry.js":[1488,9312,1488],"./ion-input.entry.js":[3500,9312,3500],"./ion-item-option_3.entry.js":[2448,9312,2448],"./ion-item_8.entry.js":[8772,9312,8772],"./ion-loading.entry.js":[2948,9312,2948],"./ion-menu_3.entry.js":[7676,9312,7676],"./ion-modal.entry.js":[6824,9312,6824],"./ion-nav_2.entry.js":[2372,9312,2372],"./ion-picker-column-internal.entry.js":[8232,9312,8232],"./ion-picker-internal.entry.js":[4656,4656],"./ion-popover.entry.js":[4168,9312,4168],"./ion-progress-bar.entry.js":[3264,3264],"./ion-radio_2.entry.js":[7176,9312,7176],"./ion-range.entry.js":[3180,9312,3180],"./ion-refresher_2.entry.js":[2e3,9312,2e3],"./ion-reorder_2.entry.js":[3604,9312,3604],"./ion-ripple-effect.entry.js":[3667,3667],"./ion-route_4.entry.js":[4284,4284],"./ion-searchbar.entry.js":[2580,9312,2580],"./ion-segment_2.entry.js":[7528,9312,7528],"./ion-select_3.entry.js":[4272,9312,4272],"./ion-spinner.entry.js":[1172,9312,1172],"./ion-split-pane.entry.js":[2624,2624],"./ion-tab-bar_2.entry.js":[1708,9312,1708],"./ion-tab_2.entry.js":[5956,5956],"./ion-text.entry.js":[5828,5828],"./ion-textarea.entry.js":[9440,9312,9440],"./ion-toast.entry.js":[9836,9312,9836],"./ion-toggle.entry.js":[2776,9312,2776]};function xe(rt){if(!me.o(v,rt))return Promise.resolve().then(()=>{var H=new Error("Cannot find module '"+rt+"'");throw H.code="MODULE_NOT_FOUND",H});var Ne=v[rt],r=Ne[0];return Promise.all(Ne.slice(1).map(me.e)).then(()=>me(r))}xe.keys=()=>Object.keys(v),xe.id=1480,fn.exports=xe},996:(fn,Lt,me)=>{var v={"./pwa-action-sheet.entry.js":[2152,2152],"./pwa-camera-modal-instance.entry.js":[1148,1148],"./pwa-camera-modal.entry.js":[6056,6056],"./pwa-camera.entry.js":[580,580],"./pwa-toast.entry.js":[3276,3276]};function xe(rt){if(!me.o(v,rt))return Promise.resolve().then(()=>{var H=new Error("Cannot find module '"+rt+"'");throw H.code="MODULE_NOT_FOUND",H});var Ne=v[rt],r=Ne[0];return me.e(Ne[1]).then(()=>me(r))}xe.keys=()=>Object.keys(v),xe.id=996,fn.exports=xe},6636:(fn,Lt,me)=>{var v=me(9848).default;function xe(){"use strict";fn.exports=xe=function(){return Ne},fn.exports.__esModule=!0,fn.exports.default=fn.exports;var rt,Ne={},r=Object.prototype,H=r.hasOwnProperty,C=Object.defineProperty||function(ne,J,q){ne[J]=q.value},y="function"==typeof Symbol?Symbol:{},_=y.iterator||"@@iterator",h=y.asyncIterator||"@@asyncIterator",f=y.toStringTag||"@@toStringTag";function E(ne,J,q){return Object.defineProperty(ne,J,{value:q,enumerable:!0,configurable:!0,writable:!0}),ne[J]}try{E({},"")}catch{E=function(q,ae,fe){return q[ae]=fe}}function w(ne,J,q,ae){var Se=Object.create((J&&J.prototype instanceof m?J:m).prototype),K=new z(ae||[]);return C(Se,"_invoke",{value:j(ne,q,K)}),Se}function a(ne,J,q){try{return{type:"normal",arg:ne.call(J,q)}}catch(ae){return{type:"throw",arg:ae}}}Ne.wrap=w;var l="suspendedStart",d="suspendedYield",u="executing",c="completed",s={};function m(){}function p(){}function b(){}var T={};E(T,_,function(){return this});var F=Object.getPrototypeOf,k=F&&F(F(W([])));k&&k!==r&&H.call(k,_)&&(T=k);var A=b.prototype=m.prototype=Object.create(T);function P(ne){["next","throw","return"].forEach(function(J){E(ne,J,function(q){return this._invoke(J,q)})})}function $(ne,J){function q(fe,Se,K,R){var se=a(ne[fe],ne,Se);if("throw"!==se.type){var ge=se.arg,De=ge.value;return De&&"object"==v(De)&&H.call(De,"__await")?J.resolve(De.__await).then(function(Le){q("next",Le,K,R)},function(Le){q("throw",Le,K,R)}):J.resolve(De).then(function(Le){ge.value=Le,K(ge)},function(Le){return q("throw",Le,K,R)})}R(se.arg)}var ae;C(this,"_invoke",{value:function(Se,K){function R(){return new J(function(se,ge){q(Se,K,se,ge)})}return ae=ae?ae.then(R,R):R()}})}function j(ne,J,q){var ae=l;return function(fe,Se){if(ae===u)throw new Error("Generator is already running");if(ae===c){if("throw"===fe)throw Se;return{value:rt,done:!0}}for(q.method=fe,q.arg=Se;;){var K=q.delegate;if(K){var R=N(K,q);if(R){if(R===s)continue;return R}}if("next"===q.method)q.sent=q._sent=q.arg;else if("throw"===q.method){if(ae===l)throw ae=c,q.arg;q.dispatchException(q.arg)}else"return"===q.method&&q.abrupt("return",q.arg);ae=u;var se=a(ne,J,q);if("normal"===se.type){if(ae=q.done?c:d,se.arg===s)continue;return{value:se.arg,done:q.done}}"throw"===se.type&&(ae=c,q.method="throw",q.arg=se.arg)}}}function N(ne,J){var q=J.method,ae=ne.iterator[q];if(ae===rt)return J.delegate=null,"throw"===q&&ne.iterator.return&&(J.method="return",J.arg=rt,N(ne,J),"throw"===J.method)||"return"!==q&&(J.method="throw",J.arg=new TypeError("The iterator does not provide a '"+q+"' method")),s;var fe=a(ae,ne.iterator,J.arg);if("throw"===fe.type)return J.method="throw",J.arg=fe.arg,J.delegate=null,s;var Se=fe.arg;return Se?Se.done?(J[ne.resultName]=Se.value,J.next=ne.nextLoc,"return"!==J.method&&(J.method="next",J.arg=rt),J.delegate=null,s):Se:(J.method="throw",J.arg=new TypeError("iterator result is not an object"),J.delegate=null,s)}function I(ne){var J={tryLoc:ne[0]};1 in ne&&(J.catchLoc=ne[1]),2 in ne&&(J.finallyLoc=ne[2],J.afterLoc=ne[3]),this.tryEntries.push(J)}function B(ne){var J=ne.completion||{};J.type="normal",delete J.arg,ne.completion=J}function z(ne){this.tryEntries=[{tryLoc:"root"}],ne.forEach(I,this),this.reset(!0)}function W(ne){if(ne||""===ne){var J=ne[_];if(J)return J.call(ne);if("function"==typeof ne.next)return ne;if(!isNaN(ne.length)){var q=-1,ae=function fe(){for(;++q<ne.length;)if(H.call(ne,q))return fe.value=ne[q],fe.done=!1,fe;return fe.value=rt,fe.done=!0,fe};return ae.next=ae}}throw new TypeError(v(ne)+" is not iterable")}return p.prototype=b,C(A,"constructor",{value:b,configurable:!0}),C(b,"constructor",{value:p,configurable:!0}),p.displayName=E(b,f,"GeneratorFunction"),Ne.isGeneratorFunction=function(ne){var J="function"==typeof ne&&ne.constructor;return!!J&&(J===p||"GeneratorFunction"===(J.displayName||J.name))},Ne.mark=function(ne){return Object.setPrototypeOf?Object.setPrototypeOf(ne,b):(ne.__proto__=b,E(ne,f,"GeneratorFunction")),ne.prototype=Object.create(A),ne},Ne.awrap=function(ne){return{__await:ne}},P($.prototype),E($.prototype,h,function(){return this}),Ne.AsyncIterator=$,Ne.async=function(ne,J,q,ae,fe){void 0===fe&&(fe=Promise);var Se=new $(w(ne,J,q,ae),fe);return Ne.isGeneratorFunction(J)?Se:Se.next().then(function(K){return K.done?K.value:Se.next()})},P(A),E(A,f,"Generator"),E(A,_,function(){return this}),E(A,"toString",function(){return"[object Generator]"}),Ne.keys=function(ne){var J=Object(ne),q=[];for(var ae in J)q.push(ae);return q.reverse(),function fe(){for(;q.length;){var Se=q.pop();if(Se in J)return fe.value=Se,fe.done=!1,fe}return fe.done=!0,fe}},Ne.values=W,z.prototype={constructor:z,reset:function(J){if(this.prev=0,this.next=0,this.sent=this._sent=rt,this.done=!1,this.delegate=null,this.method="next",this.arg=rt,this.tryEntries.forEach(B),!J)for(var q in this)"t"===q.charAt(0)&&H.call(this,q)&&!isNaN(+q.slice(1))&&(this[q]=rt)},stop:function(){this.done=!0;var J=this.tryEntries[0].completion;if("throw"===J.type)throw J.arg;return this.rval},dispatchException:function(J){if(this.done)throw J;var q=this;function ae(ge,De){return K.type="throw",K.arg=J,q.next=ge,De&&(q.method="next",q.arg=rt),!!De}for(var fe=this.tryEntries.length-1;fe>=0;--fe){var Se=this.tryEntries[fe],K=Se.completion;if("root"===Se.tryLoc)return ae("end");if(Se.tryLoc<=this.prev){var R=H.call(Se,"catchLoc"),se=H.call(Se,"finallyLoc");if(R&&se){if(this.prev<Se.catchLoc)return ae(Se.catchLoc,!0);if(this.prev<Se.finallyLoc)return ae(Se.finallyLoc)}else if(R){if(this.prev<Se.catchLoc)return ae(Se.catchLoc,!0)}else{if(!se)throw new Error("try statement without catch or finally");if(this.prev<Se.finallyLoc)return ae(Se.finallyLoc)}}}},abrupt:function(J,q){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var fe=this.tryEntries[ae];if(fe.tryLoc<=this.prev&&H.call(fe,"finallyLoc")&&this.prev<fe.finallyLoc){var Se=fe;break}}Se&&("break"===J||"continue"===J)&&Se.tryLoc<=q&&q<=Se.finallyLoc&&(Se=null);var K=Se?Se.completion:{};return K.type=J,K.arg=q,Se?(this.method="next",this.next=Se.finallyLoc,s):this.complete(K)},complete:function(J,q){if("throw"===J.type)throw J.arg;return"break"===J.type||"continue"===J.type?this.next=J.arg:"return"===J.type?(this.rval=this.arg=J.arg,this.method="return",this.next="end"):"normal"===J.type&&q&&(this.next=q),s},finish:function(J){for(var q=this.tryEntries.length-1;q>=0;--q){var ae=this.tryEntries[q];if(ae.finallyLoc===J)return this.complete(ae.completion,ae.afterLoc),B(ae),s}},catch:function(J){for(var q=this.tryEntries.length-1;q>=0;--q){var ae=this.tryEntries[q];if(ae.tryLoc===J){var fe=ae.completion;if("throw"===fe.type){var Se=fe.arg;B(ae)}return Se}}throw new Error("illegal catch attempt")},delegateYield:function(J,q,ae){return this.delegate={iterator:W(J),resultName:q,nextLoc:ae},"next"===this.method&&(this.arg=rt),s}},Ne}fn.exports=xe,fn.exports.__esModule=!0,fn.exports.default=fn.exports},9848:fn=>{function Lt(me){return fn.exports=Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},fn.exports.__esModule=!0,fn.exports.default=fn.exports,Lt(me)}fn.exports=Lt,fn.exports.__esModule=!0,fn.exports.default=fn.exports},3248:(fn,Lt,me)=>{var v=me(6636)();fn.exports=v;try{regeneratorRuntime=v}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=v:Function("r","regeneratorRuntime = r")(v)}},1368:(fn,Lt,me)=>{"use strict";me.d(Lt,{MD:()=>Eo,MP:()=>u,OM:()=>Ro,Qd:()=>a,Sg:()=>Pe,Ud:()=>C,XV:()=>Wt,YZ:()=>Yn,_k:()=>Sr,ay:()=>Kn,c0:()=>po,mQ:()=>_,mg:()=>r,oB:()=>c,uC:()=>d,u_:()=>Cr,uf:()=>qo,ug:()=>Ne,uy:()=>rt});var v=me(4496);let xe=null;function rt(){return xe}function Ne(ce){var Ie;null!==(Ie=xe)&&void 0!==Ie||(xe=ce)}class r{}const C=new v.UbH("");let y=(()=>{var ce;class Ie{historyGo(Ce){throw new Error("")}}return(ce=Ie).\u0275fac=function(Ce){return new(Ce||ce)},ce.\u0275prov=v.wxM({token:ce,factory:()=>(0,v.uUt)(h),providedIn:"platform"}),Ie})();const _=new v.UbH("");let h=(()=>{var ce;class Ie extends y{constructor(){super(),this._doc=(0,v.uUt)(C),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rt().getBaseHref(this._doc)}onPopState(Ce){const Qe=rt().getGlobalEventTarget(this._doc,"window");return Qe.addEventListener("popstate",Ce,!1),()=>Qe.removeEventListener("popstate",Ce)}onHashChange(Ce){const Qe=rt().getGlobalEventTarget(this._doc,"window");return Qe.addEventListener("hashchange",Ce,!1),()=>Qe.removeEventListener("hashchange",Ce)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ce){this._location.pathname=Ce}pushState(Ce,Qe,xt){this._history.pushState(Ce,Qe,xt)}replaceState(Ce,Qe,xt){this._history.replaceState(Ce,Qe,xt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ce=0){this._history.go(Ce)}getState(){return this._history.state}}return(ce=Ie).\u0275fac=function(Ce){return new(Ce||ce)},ce.\u0275prov=v.wxM({token:ce,factory:()=>new ce,providedIn:"platform"}),Ie})();function f(ce,Ie){if(0==ce.length)return Ie;if(0==Ie.length)return ce;let dt=0;return ce.endsWith("/")&&dt++,Ie.startsWith("/")&&dt++,2==dt?ce+Ie.substring(1):1==dt?ce+Ie:ce+"/"+Ie}function E(ce){const Ie=ce.match(/#|\?|$/),dt=Ie&&Ie.index||ce.length;return ce.slice(0,dt-("/"===ce[dt-1]?1:0))+ce.slice(dt)}function w(ce){return ce&&"?"!==ce[0]?"?"+ce:ce}let a=(()=>{var ce;class Ie{historyGo(Ce){throw new Error("")}}return(ce=Ie).\u0275fac=function(Ce){return new(Ce||ce)},ce.\u0275prov=v.wxM({token:ce,factory:()=>(0,v.uUt)(d),providedIn:"root"}),Ie})();const l=new v.UbH("");let d=(()=>{var ce;class Ie extends a{constructor(Ce,Qe){var xt,un,In;super(),this._platformLocation=Ce,this._removeListenerFns=[],this._baseHref=null!==(xt=null!==(un=null!=Qe?Qe:this._platformLocation.getBaseHrefFromDOM())&&void 0!==un?un:null===(In=(0,v.uUt)(C).location)||void 0===In?void 0:In.origin)&&void 0!==xt?xt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ce){this._removeListenerFns.push(this._platformLocation.onPopState(Ce),this._platformLocation.onHashChange(Ce))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ce){return f(this._baseHref,Ce)}path(Ce=!1){const Qe=this._platformLocation.pathname+w(this._platformLocation.search),xt=this._platformLocation.hash;return xt&&Ce?`${Qe}${xt}`:Qe}pushState(Ce,Qe,xt,un){const In=this.prepareExternalUrl(xt+w(un));this._platformLocation.pushState(Ce,Qe,In)}replaceState(Ce,Qe,xt,un){const In=this.prepareExternalUrl(xt+w(un));this._platformLocation.replaceState(Ce,Qe,In)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ce=0){var Qe,xt;null===(Qe=(xt=this._platformLocation).historyGo)||void 0===Qe||Qe.call(xt,Ce)}}return(ce=Ie).\u0275fac=function(Ce){return new(Ce||ce)(v.CoB(y),v.CoB(l,8))},ce.\u0275prov=v.wxM({token:ce,factory:ce.\u0275fac,providedIn:"root"}),Ie})(),u=(()=>{var ce;class Ie extends a{constructor(Ce,Qe){super(),this._platformLocation=Ce,this._baseHref="",this._removeListenerFns=[],null!=Qe&&(this._baseHref=Qe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ce){this._removeListenerFns.push(this._platformLocation.onPopState(Ce),this._platformLocation.onHashChange(Ce))}getBaseHref(){return this._baseHref}path(Ce=!1){var Qe;const xt=null!==(Qe=this._platformLocation.hash)&&void 0!==Qe?Qe:"#";return xt.length>0?xt.substring(1):xt}prepareExternalUrl(Ce){const Qe=f(this._baseHref,Ce);return Qe.length>0?"#"+Qe:Qe}pushState(Ce,Qe,xt,un){let In=this.prepareExternalUrl(xt+w(un));0==In.length&&(In=this._platformLocation.pathname),this._platformLocation.pushState(Ce,Qe,In)}replaceState(Ce,Qe,xt,un){let In=this.prepareExternalUrl(xt+w(un));0==In.length&&(In=this._platformLocation.pathname),this._platformLocation.replaceState(Ce,Qe,In)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ce=0){var Qe,xt;null===(Qe=(xt=this._platformLocation).historyGo)||void 0===Qe||Qe.call(xt,Ce)}}return(ce=Ie).\u0275fac=function(Ce){return new(Ce||ce)(v.CoB(y),v.CoB(l,8))},ce.\u0275prov=v.wxM({token:ce,factory:ce.\u0275fac}),Ie})(),c=(()=>{var ce;class Ie{constructor(Ce){this._subject=new v._w7,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Ce;const Qe=this._locationStrategy.getBaseHref();this._basePath=function b(ce){if(new RegExp("^(https?:)?//").test(ce)){const[,dt]=ce.split(/\/\/[^\/]+/);return dt}return ce}(E(p(Qe))),this._locationStrategy.onPopState(xt=>{this._subject.emit({url:this.path(!0),pop:!0,state:xt.state,type:xt.type})})}ngOnDestroy(){var Ce;null===(Ce=this._urlChangeSubscription)||void 0===Ce||Ce.unsubscribe(),this._urlChangeListeners=[]}path(Ce=!1){return this.normalize(this._locationStrategy.path(Ce))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ce,Qe=""){return this.path()==this.normalize(Ce+w(Qe))}normalize(Ce){return Ie.stripTrailingSlash(function m(ce,Ie){if(!ce||!Ie.startsWith(ce))return Ie;const dt=Ie.substring(ce.length);return""===dt||["/",";","?","#"].includes(dt[0])?dt:Ie}(this._basePath,p(Ce)))}prepareExternalUrl(Ce){return Ce&&"/"!==Ce[0]&&(Ce="/"+Ce),this._locationStrategy.prepareExternalUrl(Ce)}go(Ce,Qe="",xt=null){this._locationStrategy.pushState(xt,"",Ce,Qe),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ce+w(Qe)),xt)}replaceState(Ce,Qe="",xt=null){this._locationStrategy.replaceState(xt,"",Ce,Qe),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ce+w(Qe)),xt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ce=0){var Qe,xt;null===(Qe=(xt=this._locationStrategy).historyGo)||void 0===Qe||Qe.call(xt,Ce)}onUrlChange(Ce){var Qe;return this._urlChangeListeners.push(Ce),null!==(Qe=this._urlChangeSubscription)&&void 0!==Qe||(this._urlChangeSubscription=this.subscribe(xt=>{this._notifyUrlChangeListeners(xt.url,xt.state)})),()=>{const xt=this._urlChangeListeners.indexOf(Ce);var un;this._urlChangeListeners.splice(xt,1),0===this._urlChangeListeners.length&&(null===(un=this._urlChangeSubscription)||void 0===un||un.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ce="",Qe){this._urlChangeListeners.forEach(xt=>xt(Ce,Qe))}subscribe(Ce,Qe,xt){return this._subject.subscribe({next:Ce,error:Qe,complete:xt})}}return(ce=Ie).normalizeQueryParams=w,ce.joinWithSlash=f,ce.stripTrailingSlash=E,ce.\u0275fac=function(Ce){return new(Ce||ce)(v.CoB(a))},ce.\u0275prov=v.wxM({token:ce,factory:()=>function s(){return new c((0,v.CoB)(a))}(),providedIn:"root"}),Ie})();function p(ce){return ce.replace(/\/index.html$/,"")}function Pe(ce,Ie){Ie=encodeURIComponent(Ie);for(const dt of ce.split(";")){const Ce=dt.indexOf("="),[Qe,xt]=-1==Ce?[dt,""]:[dt.slice(0,Ce),dt.slice(Ce+1)];if(Qe.trim()===Ie)return decodeURIComponent(xt)}return null}class kn{constructor(Ie,dt,Ce,Qe){this.$implicit=Ie,this.ngForOf=dt,this.index=Ce,this.count=Qe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Kn=(()=>{var ce;class Ie{set ngForOf(Ce){this._ngForOf=Ce,this._ngForOfDirty=!0}set ngForTrackBy(Ce){this._trackByFn=Ce}get ngForTrackBy(){return this._trackByFn}constructor(Ce,Qe,xt){this._viewContainer=Ce,this._template=Qe,this._differs=xt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Ce){Ce&&(this._template=Ce)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ce=this._ngForOf;!this._differ&&Ce&&(this._differ=this._differs.find(Ce).create(this.ngForTrackBy))}if(this._differ){const Ce=this._differ.diff(this._ngForOf);Ce&&this._applyChanges(Ce)}}_applyChanges(Ce){const Qe=this._viewContainer;Ce.forEachOperation((xt,un,In)=>{if(null==xt.previousIndex)Qe.createEmbeddedView(this._template,new kn(xt.item,this._ngForOf,-1,-1),null===In?void 0:In);else if(null==In)Qe.remove(null===un?void 0:un);else if(null!==un){const or=Qe.get(un);Qe.move(or,In),Wn(or,xt)}});for(let xt=0,un=Qe.length;xt<un;xt++){const or=Qe.get(xt).context;or.index=xt,or.count=un,or.ngForOf=this._ngForOf}Ce.forEachIdentityChange(xt=>{Wn(Qe.get(xt.currentIndex),xt)})}static ngTemplateContextGuard(Ce,Qe){return!0}}return(ce=Ie).\u0275fac=function(Ce){return new(Ce||ce)(v.GI1(v.y8U),v.GI1(v.Yw2),v.GI1(v.Uj7))},ce.\u0275dir=v.Sc5({type:ce,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Ie})();function Wn(ce,Ie){ce.context.$implicit=Ie.item}let Cr=(()=>{var ce;class Ie{constructor(Ce,Qe){this._viewContainer=Ce,this._context=new at,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Qe}set ngIf(Ce){this._context.$implicit=this._context.ngIf=Ce,this._updateView()}set ngIfThen(Ce){ft("ngIfThen",Ce),this._thenTemplateRef=Ce,this._thenViewRef=null,this._updateView()}set ngIfElse(Ce){ft("ngIfElse",Ce),this._elseTemplateRef=Ce,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ce,Qe){return!0}}return(ce=Ie).\u0275fac=function(Ce){return new(Ce||ce)(v.GI1(v.y8U),v.GI1(v.Yw2))},ce.\u0275dir=v.Sc5({type:ce,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Ie})();class at{constructor(){this.$implicit=null,this.ngIf=null}}function ft(ce,Ie){if(Ie&&!Ie.createEmbeddedView)throw new Error(`${ce} must be a TemplateRef, but received '${(0,v.GEN)(Ie)}'.`)}let Wt=(()=>{var ce;class Ie{constructor(Ce){this._viewContainerRef=Ce,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Ce){if(this._shouldRecreateView(Ce)){var Qe;const xt=this._viewContainerRef;if(this._viewRef&&xt.remove(xt.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const un=this._createContextForwardProxy();this._viewRef=xt.createEmbeddedView(this.ngTemplateOutlet,un,{injector:null!==(Qe=this.ngTemplateOutletInjector)&&void 0!==Qe?Qe:void 0})}}_shouldRecreateView(Ce){return!!Ce.ngTemplateOutlet||!!Ce.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Ce,Qe,xt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Qe,xt),get:(Ce,Qe,xt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Qe,xt)}})}}return(ce=Ie).\u0275fac=function(Ce){return new(Ce||ce)(v.GI1(v.y8U))},ce.\u0275dir=v.Sc5({type:ce,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[v.SYr]}),Ie})(),Eo=(()=>{var ce;class Ie{}return(ce=Ie).\u0275fac=function(Ce){return new(Ce||ce)},ce.\u0275mod=v.a4G({type:ce}),ce.\u0275inj=v.s3X({}),Ie})();const Sr="browser",So="server";function po(ce){return ce===Sr}function qo(ce){return ce===So}let Yn=(()=>{var ce;class Ie{}return(ce=Ie).\u0275prov=(0,v.wxM)({token:ce,providedIn:"root",factory:()=>po((0,v.uUt)(v.AHE))?new Bo((0,v.uUt)(C),window):new co}),Ie})();class Bo{constructor(Ie,dt){this.document=Ie,this.window=dt,this.offset=()=>[0,0]}setOffset(Ie){this.offset=Array.isArray(Ie)?()=>Ie:Ie}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Ie){this.window.scrollTo(Ie[0],Ie[1])}scrollToAnchor(Ie){const dt=function oo(ce,Ie){const dt=ce.getElementById(Ie)||ce.getElementsByName(Ie)[0];if(dt)return dt;if("function"==typeof ce.createTreeWalker&&ce.body&&"function"==typeof ce.body.attachShadow){const Ce=ce.createTreeWalker(ce.body,NodeFilter.SHOW_ELEMENT);let Qe=Ce.currentNode;for(;Qe;){const xt=Qe.shadowRoot;if(xt){const un=xt.getElementById(Ie)||xt.querySelector(`[name="${Ie}"]`);if(un)return un}Qe=Ce.nextNode()}}return null}(this.document,Ie);dt&&(this.scrollToElement(dt),dt.focus())}setHistoryScrollRestoration(Ie){this.window.history.scrollRestoration=Ie}scrollToElement(Ie){const dt=Ie.getBoundingClientRect(),Ce=dt.left+this.window.pageXOffset,Qe=dt.top+this.window.pageYOffset,xt=this.offset();this.window.scrollTo(Ce-xt[0],Qe-xt[1])}}class co{setOffset(Ie){}getScrollPosition(){return[0,0]}scrollToPosition(Ie){}scrollToAnchor(Ie){}setHistoryScrollRestoration(Ie){}}class Ro{}},4496:(fn,Lt,me)=>{"use strict";me.d(Lt,{qid:()=>fh,QHP:()=>he,kZF:()=>N0,Ev2:()=>iM,Swk:()=>Xi,YND:()=>tn,kD9:()=>X0,ESV:()=>O2,ayF:()=>U2,syz:()=>is,GMv:()=>Ui,SIe:()=>di,eAe:()=>Vi,_w7:()=>dn,_6O:()=>_t,UbH:()=>be,zZn:()=>ti,Uj7:()=>_h,YNh:()=>wh,KYU:()=>dc,obV:()=>Pg,oF$:()=>fs,WW2:()=>io,T7N:()=>Xl,AHE:()=>it,crf:()=>Xe,q87:()=>sE,O8F:()=>$m,yzm:()=>bu,SI6:()=>us,Qfh:()=>Kl,Yw2:()=>al,G4X:()=>D2,eOv:()=>k0,a8Z:()=>M0,y8U:()=>Bu,K6R:()=>bn,I44:()=>Xm,cZD:()=>PM,kdu:()=>GM,SIz:()=>yf,Gk1:()=>lx,grM:()=>W0,agy:()=>H2,wd:()=>xr,uUt:()=>br,_Ap:()=>Hn,AFj:()=>Zl,m4O:()=>oM,o9M:()=>$M,SMS:()=>n_,sRj:()=>RM,oPY:()=>I0,i4S:()=>Xc,GUM:()=>_a,g9Y:()=>ta,OBp:()=>Ye,aS5:()=>j0,Mn9:()=>P0,Y8L:()=>Je,Om8:()=>Tp,ozE:()=>mu,K2p:()=>qs,GM_:()=>z_,u8n:()=>K_,ER9:()=>Y_,Vfw:()=>q_,Gc:()=>X_,iMv:()=>Hf,G58:()=>bt,y02:()=>Ry,IHs:()=>Sn,K_M:()=>Th,Guz:()=>Wi,w5$:()=>ch,gX2:()=>R0,auf:()=>Ic,GEN:()=>je,E2t:()=>Ri,eg9:()=>pf,Wk5:()=>ve,QJr:()=>jg,SYr:()=>ed,M5G:()=>Xv,UHJ:()=>Kv,yG2:()=>am,e48:()=>If,eAK:()=>kf,szK:()=>xv,In1:()=>Rt,Sc5:()=>He,wxM:()=>Lr,s3X:()=>rs,a4G:()=>Re,UTH:()=>pt,GI1:()=>Ks,wR5:()=>Bf,C_f:()=>Vf,C$Y:()=>ec,I0R:()=>Qu,KQA:()=>jy,otF:()=>lp,CoB:()=>Oo,gJ8:()=>ud,KEo:()=>um,qCj:()=>qf,Gqi:()=>Dv,GaO:()=>dv,_Xx:()=>hv,kPM:()=>fv,E7m:()=>jf,CI5:()=>ic,q4q:()=>s0,wto:()=>Sv,Gew:()=>Mv,CGJ:()=>Aa,usT:()=>_s,K6U:()=>yd,YFg:()=>Op,m_g:()=>fi,yuY:()=>na,OEk:()=>Lv,cNF:()=>Xf,oRS:()=>sc,kNx:()=>qv,iHE:()=>Jf,OKB:()=>Kf,CC$:()=>Cv}),me(1528);let rt=null,r=1;const H=Symbol("SIGNAL");function C(t){const n=rt;return rt=t,n}function a(t){if((!F(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==r)){if(!t.producerMustRecompute(t)&&!m(t))return t.dirty=!1,void(t.lastCleanEpoch=r);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=r}}function m(t){k(t);for(let n=0;n<t.producerNode.length;n++){const o=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==o.version||(a(o),i!==o.version))return!0}return!1}function T(t,n){if(function A(t){var n,o;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(o=t.liveConsumerIndexOfThis)&&void 0!==o||(t.liveConsumerIndexOfThis=[])}(t),k(t),1===t.liveConsumerNode.length)for(let i=0;i<t.producerNode.length;i++)T(t.producerNode[i],t.producerIndexOfThis[i]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const i=t.liveConsumerIndexOfThis[n],g=t.liveConsumerNode[n];k(g),g.producerIndexOfThis[i]=n}}function F(t){var n,o;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(o=t.liveConsumerNode)||void 0===o?void 0:o.length)&&void 0!==n?n:0)>0}function k(t){var n,o,i;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(o=t.producerIndexOfThis)&&void 0!==o||(t.producerIndexOfThis=[]),null!==(i=t.producerLastReadVersion)&&void 0!==i||(t.producerLastReadVersion=[])}let z=null;var et=me(5657),Oe=me(4548),$e=me(6700),Ve=me(4704);const Je="https://g.co/ng/security#xss";class Ye extends Error{constructor(n,o){super(bt(n,o)),this.code=n}}function bt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function rn(t){return n=>{setTimeout(t,void 0,n)}}const dn=class an extends et.E{constructor(n=!1){super(),this.__isAsync=n}emit(n){const o=C(null);try{super.next(n)}finally{C(o)}}subscribe(n,o,i){let g=n,M=o||(()=>null),U=i;if(n&&"object"==typeof n){var te,ue,Ee;const ze=n;g=null===(te=ze.next)||void 0===te?void 0:te.bind(ze),M=null===(ue=ze.error)||void 0===ue?void 0:ue.bind(ze),U=null===(Ee=ze.complete)||void 0===Ee?void 0:Ee.bind(ze)}this.__isAsync&&(M=rn(M),g&&(g=rn(g)),U&&(U=rn(U)));const Fe=super.subscribe({next:g,error:M,complete:U});return n instanceof Oe.wH&&n.add(Fe),Fe}};var _t=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(_t||{});function je(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(je).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function Ue(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}var gn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(gn||{}),bn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(bn||{});function Cn(t){return{toString:t}.toString()}const Sn=globalThis,zn={},Ln=[];function ee(t){for(let n in t)if(t[n]===ee)return n;throw Error("Could not find renamed property on target object.")}function oe(t,n){for(const o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o])}const _e=ee({\u0275cmp:ee}),O=ee({\u0275dir:ee}),G=ee({\u0275pipe:ee}),V=ee({\u0275mod:ee}),Q=ee({\u0275fac:ee}),de=ee({__NG_ELEMENT_ID__:ee}),Z=ee({__NG_ENV_ID__:ee});var ve=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ve||{});function Pe(t,n,o){let i=t.length;for(;;){const g=t.indexOf(n,o);if(-1===g)return g;if(0===g||t.charCodeAt(g-1)<=32){const M=n.length;if(g+M===i||t.charCodeAt(g+M)<=32)return g}o=g+1}}function ot(t,n,o){let i=0;for(;i<o.length;){const g=o[i];if("number"==typeof g){if(0!==g)break;i++;const M=o[i++],U=o[i++],te=o[i++];t.setAttribute(n,U,te,M)}else{const M=g,U=o[++i];sn(M)?t.setProperty(n,M,U):t.setAttribute(n,M,U),i++}}return i}function Tt(t){return 3===t||4===t||6===t}function sn(t){return 64===t.charCodeAt(0)}function _n(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let o=-1;for(let i=0;i<n.length;i++){const g=n[i];"number"==typeof g?o=g:0===o||ln(t,o,g,null,-1===o||2===o?n[++i]:null)}}return t}function ln(t,n,o,i,g){let M=0,U=t.length;if(-1===n)U=-1;else for(;M<t.length;){const te=t[M++];if("number"==typeof te){if(te===n){U=-1;break}if(te>n){U=M-1;break}}}for(;M<t.length;){const te=t[M];if("number"==typeof te)break;if(te===o){if(null===i)return void(null!==g&&(t[M+1]=g));if(i===t[M+1])return void(t[M+2]=g)}M++,null!==i&&M++,null!==g&&M++}-1!==U&&(t.splice(U,0,n),M=U+1),t.splice(M++,0,o),null!==i&&t.splice(M++,0,i),null!==g&&t.splice(M++,0,g)}const kn="ng-template";function Kn(t,n,o){let i=0,g=!0;for(;i<t.length;){let M=t[i++];if("string"==typeof M&&g){const U=t[i++];if(o&&"class"===M&&-1!==Pe(U.toLowerCase(),n,0))return!0}else{if(1===M){for(;i<t.length&&"string"==typeof(M=t[i++]);)if(M.toLowerCase()===n)return!0;return!1}"number"==typeof M&&(g=!1)}}return!1}function Wn(t){return 4===t.type&&t.value!==kn}function Gr(t,n,o){return n===(4!==t.type||o?t.value:kn)}function Cr(t,n,o){let i=4;const g=t.attrs||[],M=function Vt(t){for(let n=0;n<t.length;n++)if(Tt(t[n]))return n;return t.length}(g);let U=!1;for(let te=0;te<n.length;te++){const ue=n[te];if("number"!=typeof ue){if(!U)if(4&i){if(i=2|1&i,""!==ue&&!Gr(t,ue,o)||""===ue&&1===n.length){if(at(i))return!1;U=!0}}else{const Ee=8&i?ue:n[++te];if(8&i&&null!==t.attrs){if(!Kn(t.attrs,Ee,o)){if(at(i))return!1;U=!0}continue}const ze=ft(8&i?"class":ue,g,Wn(t),o);if(-1===ze){if(at(i))return!1;U=!0;continue}if(""!==Ee){let ht;ht=ze>M?"":g[ze+1].toLowerCase();const jt=8&i?ht:null;if(jt&&-1!==Pe(jt,Ee,0)||2&i&&Ee!==ht){if(at(i))return!1;U=!0}}}}else{if(!U&&!at(i)&&!at(ue))return!1;if(U&&at(ue))continue;U=!1,i=ue|1&i}}return at(i)||U}function at(t){return 0==(1&t)}function ft(t,n,o,i){if(null===n)return-1;let g=0;if(i||!o){let M=!1;for(;g<n.length;){const U=n[g];if(U===t)return g;if(3===U||6===U)M=!0;else{if(1===U||2===U){let te=n[++g];for(;"string"==typeof te;)te=n[++g];continue}if(4===U)break;if(0===U){g+=4;continue}}g+=M?1:2}return-1}return function cn(t,n){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const i=t[o];if("number"==typeof i)return-1;if(i===n)return o;o++}return-1}(n,t)}function Ge(t,n,o=!1){for(let i=0;i<n.length;i++)if(Cr(t,n[i],o))return!0;return!1}function An(t,n){e:for(let o=0;o<n.length;o++){const i=n[o];if(t.length===i.length){for(let g=0;g<t.length;g++)if(t[g]!==i[g])continue e;return!0}}return!1}function At(t,n){return t?":not("+n.trim()+")":n}function Ae(t){let n=t[0],o=1,i=2,g="",M=!1;for(;o<t.length;){let U=t[o];if("string"==typeof U)if(2&i){const te=t[++o];g+="["+U+(te.length>0?'="'+te+'"':"")+"]"}else 8&i?g+="."+U:4&i&&(g+=" "+U);else""!==g&&!at(U)&&(n+=At(M,g),g=""),i=U,M=M||!at(i);o++}return""!==g&&(n+=At(M,g)),n}function Rt(t){return Cn(()=>{var n;const o=Or(t),i={...o,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===gn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||bn.Emulated,styles:t.styles||Ln,_:null,schemas:t.schemas||null,tView:null,id:""};Tr(i);const g=t.dependencies;return i.directiveDefs=kr(g,!1),i.pipeDefs=kr(g,!0),i.id=function Fr(t){let n=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const g of o)n=Math.imul(31,n)+g.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Wt(t){return Jt(t)||Dn(t)}function re(t){return null!==t}function Re(t){return Cn(()=>({type:t.type,bootstrap:t.bootstrap||Ln,declarations:t.declarations||Ln,imports:t.imports||Ln,exports:t.exports||Ln,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ye(t,n){if(null==t)return zn;const o={};for(const g in t)if(t.hasOwnProperty(g)){const M=t[g];let U,te,ue=ve.None;var i;Array.isArray(M)?(ue=M[0],U=M[1],te=null!==(i=M[2])&&void 0!==i?i:U):(U=M,te=M),n?(o[U]=ue!==ve.None?[g,ue]:g,n[U]=te):o[U]=g}return o}function He(t){return Cn(()=>{const n=Or(t);return Tr(n),n})}function pt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Jt(t){return t[_e]||null}function Dn(t){return t[O]||null}function On(t){return t[G]||null}function Hn(t){const n=Jt(t)||Dn(t)||On(t);return null!==n&&n.standalone}function Xn(t,n){const o=t[V]||null;if(!o&&!0===n)throw new Error(`Type ${je(t)} does not have '\u0275mod' property.`);return o}function Or(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||zn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ln,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ye(t.inputs,n),outputs:ye(t.outputs),debugInfo:null}}function Tr(t){var n;null===(n=t.features)||void 0===n||n.forEach(o=>o(t))}function kr(t,n){if(!t)return null;const o=n?On:Wt;return()=>("function"==typeof t?t():t).map(i=>o(i)).filter(re)}const hr=0,Tn=1,Fn=2,dr=3,Yr=4,_r=5,Rr=6,uo=7,lr=8,gr=9,$r=10,qn=11,ro=12,zo=13,Eo=14,Sr=15,So=16,To=17,ho=18,po=19,qo=20,Po=21,mo=22,ko=23,Yn=25,Bo=1,co=7,No=9,yr=10;var Yo=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Yo||{});function Vr(t){return Array.isArray(t)&&"object"==typeof t[Bo]}function Hr(t){return Array.isArray(t)&&!0===t[Bo]}function xo(t){return 0!=(4&t.flags)}function Xr(t){return t.componentOffset>-1}function Rn(t){return 1==(1&t.flags)}function Do(t){return!!t.template}function Xo(t){return 0!=(512&t[Fn])}let Mt=!1;function mt(t){for(;Array.isArray(t);)t=t[hr];return t}function en(t,n){return mt(n[t])}function on(t,n){return mt(n[t.index])}function Kt(t,n){return t.data[n]}function Gn(t,n){const o=n[t];return Vr(o)?o:o[hr]}function Bn(t){return 128==(128&t[Fn])}function er(t,n){return null==n?null:t[n]}function Ur(t){t[To]=0}function Kr(t){1024&t[Fn]||(t[Fn]|=1024,Bn(t)&&wr(t))}function Jr(t){var n;return!!(9216&t[Fn]||null!==(n=t[ko])&&void 0!==n&&n.dirty)}function fo(t){if(Jr(t))wr(t);else if(64&t[Fn])if(function Yt(){return Mt}())t[Fn]|=1024,wr(t);else{var n;null===(n=t[$r].changeDetectionScheduler)||void 0===n||n.notify()}}function wr(t){var n;null===(n=t[$r].changeDetectionScheduler)||void 0===n||n.notify();let o=Pr(t);for(;null!==o&&!(8192&o[Fn])&&(o[Fn]|=8192,Bn(o));)o=Pr(o)}function Dr(t,n){if(256==(256&t[Fn]))throw new Ye(911,!1);null===t[Po]&&(t[Po]=[]),t[Po].push(n)}function Pr(t){const n=t[dr];return Hr(n)?n[dr]:n}const Nn={lFrame:eo(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Fi(){return Nn.bindingsEnabled}function Mi(){return null!==Nn.skipHydrationRootTNode}function hn(){return Nn.lFrame.lView}function fr(){return Nn.lFrame.tView}function _s(t){return Nn.lFrame.contextLView=t,t[lr]}function Aa(t){return Nn.lFrame.contextLView=null,t}function Ar(){let t=Oa();for(;null!==t&&64===t.type;)t=t.parent;return t}function Oa(){return Nn.lFrame.currentTNode}function Zo(t,n){const o=Nn.lFrame;o.currentTNode=t,o.isParent=n}function ws(){return Nn.lFrame.isParent}function Es(){Nn.lFrame.isParent=!1}function ce(){return Nn.lFrame.bindingIndex++}function Ie(t){const n=Nn.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,o}function Qe(t,n){const o=Nn.lFrame;o.bindingIndex=o.bindingRootIndex=t,un(n)}function un(t){Nn.lFrame.currentDirectiveIndex=t}function or(){return Nn.lFrame.currentQueryIndex}function ir(t){Nn.lFrame.currentQueryIndex=t}function Er(t){const n=t[Tn];return 2===n.type?n.declTNode:1===n.type?t[_r]:null}function rr(t,n,o){if(o&_t.SkipSelf){let g=n,M=t;for(;!(g=g.parent,null!==g||o&_t.Host||(g=Er(M),null===g||(M=M[Eo],10&g.type))););if(null===g)return!1;n=g,t=M}const i=Nn.lFrame=Mr();return i.currentTNode=n,i.lView=t,!0}function Ir(t){const n=Mr(),o=t[Tn];Nn.lFrame=n,n.currentTNode=o.firstChild,n.lView=t,n.tView=o,n.contextLView=t,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function Mr(){const t=Nn.lFrame,n=null===t?null:t.child;return null===n?eo(t):n}function eo(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Qo(){const t=Nn.lFrame;return Nn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const yo=Qo;function ei(){const t=Qo();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function zr(){return Nn.lFrame.selectedIndex}function Co(t){Nn.lFrame.selectedIndex=t}function sr(){const t=Nn.lFrame;return Kt(t.tView,t.selectedIndex)}let Pa=!0;function Ss(){return Pa}function Ti(t){Pa=t}function wc(){return gi(Ar(),hn())}function gi(t,n){return new Ui(on(t,n))}let La,Ui=(()=>{class n{constructor(i){this.nativeElement=i}}return n.__NG_ELEMENT_ID__=wc,n})();function Ec(t){return t instanceof Ui?t.nativeElement:t}function Bi(t,n){t.forEach(o=>Array.isArray(o)?Bi(o,n):n(o))}function xc(t,n,o){n>=t.length?t.push(o):t.splice(n,0,o)}function ka(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Lo(t,n,o){let i=Ai(t,n);return i>=0?t[1|i]=o:(i=~i,function Ms(t,n,o,i){let g=t.length;if(g==n)t.push(o,i);else if(1===g)t.push(i,t[0]),t[0]=o;else{for(g--,t.push(t[g-1],t[g]);g>n;)t[g]=t[g-2],g--;t[n]=o,t[n+1]=i}}(t,i,n,o)),i}function Fl(t,n){const o=Ai(t,n);if(o>=0)return t[1|o]}function Ai(t,n){return function Sc(t,n,o){let i=0,g=t.length>>o;for(;g!==i;){const M=i+(g-i>>1),U=t[M<<o];if(n===U)return M<<o;U>n?g=M:i=M+1}return~(g<<o)}(t,n,1)}function Mh(){return this._results[Symbol.iterator]()}class Ul{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new dn}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const o=Ul.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=Mh)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){this.dirty=!1;const i=function Zr(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Ll(t,n,o){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let g=t[i],M=n[i];if(o&&(g=o(g),M=o(M)),M!==g)return!1}return!0}(this._results,i,o))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Is(t){return 128==(128&t.flags)}function Ic(t){La=t}function Lr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function rs(t){return{providers:t.providers||[],imports:t.imports||[]}}function As(t){return Tc(t,Ua)||Tc(t,ie)}function Th(t){return null!==As(t)}function Tc(t,n){return t.hasOwnProperty(n)?t[n]:null}function Fa(t){return t&&(t.hasOwnProperty(Bl)||t.hasOwnProperty(pe))?t[Bl]:null}const Ua=ee({\u0275prov:ee}),Bl=ee({\u0275inj:ee}),ie=ee({ngInjectableDef:ee}),pe=ee({ngInjectorDef:ee});class be{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Lr({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const he=new be("",{providedIn:"root",factory:()=>we}),we="ng",Xe=new be(""),it=new be("",{providedIn:"platform",factory:()=>"unknown"}),tn=new be("",{providedIn:"root",factory:()=>{var t;return(null===(t=function yi(){if(void 0!==La)return La;if(typeof document<"u")return document;throw new Ye(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}}),qr=ee({__forward_ref__:ee});function xr(t){return t.__forward_ref__=xr,t.toString=function(){return je(this())},t}function Vn(t){return si(t)?t():t}function si(t){return"function"==typeof t&&t.hasOwnProperty(qr)&&t.__forward_ref__===xr}function Oc(t){return t&&!!t.\u0275providers}function ar(t){return"string"==typeof t?t:null==t?"":String(t)}function jc(t,n){throw new Ye(-201,!1)}let Pc;function Oh(){return Pc}function $o(t){const n=Pc;return Pc=t,n}function jh(t,n,o){const i=As(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:o&_t.Optional?null:void 0!==n?n:void jc()}const Ba={},kc="__NG_DI_FLAG__",Gl="ngTempTokenPath",Tb=/\n/gm,Ph="__source";let Os;function $i(t){const n=Os;return Os=t,n}function jb(t,n=_t.Default){if(void 0===Os)throw new Ye(-203,!1);return null===Os?jh(t,void 0,n):Os.get(t,n&_t.Optional?null:void 0,n)}function Oo(t,n=_t.Default){return(Oh()||jb)(Vn(t),n)}function br(t,n=_t.Default){return Oo(t,$l(n))}function $l(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rc(t){const n=[];for(let o=0;o<t.length;o++){const i=Vn(t[o]);if(Array.isArray(i)){if(0===i.length)throw new Ye(900,!1);let g,M=_t.Default;for(let U=0;U<i.length;U++){const te=i[U],ue=Pb(te);"number"==typeof ue?-1===ue?g=te.token:M|=ue:g=te}n.push(Oo(g,M))}else n.push(Oo(i))}return n}function Ga(t,n){return t[kc]=n,t.prototype[kc]=n,t}function Pb(t){return t[kc]}let Rh=()=>null;function Bc(t,n,o=!1){return Rh(t,n,o)}const Ls="__parameters__";function Us(t,n,o){return Cn(()=>{const i=function Hc(t){return function(...o){if(t){const i=t(...o);for(const g in i)this[g]=i[g]}}}(n);function g(...M){if(this instanceof g)return i.apply(this,M),this;const U=new g(...M);return te.annotation=U,te;function te(ue,Ee,Fe){const ze=ue.hasOwnProperty(Ls)?ue[Ls]:Object.defineProperty(ue,Ls,{value:[]})[Ls];for(;ze.length<=Fe;)ze.push(null);return(ze[Fe]=ze[Fe]||[]).push(U),ue}}return o&&(g.prototype=Object.create(o.prototype)),g.prototype.ngMetadataName=t,g.annotationCls=g,g})}const Xl=Ga(Us("Optional"),8),Kl=Ga(Us("SkipSelf"),4);function os(t,n){return t.hasOwnProperty(Q)?t[Q]:null}const is=new be(""),Gh=new be("",-1),Wc=new be("");class Jl{get(n,o=Ba){if(o===Ba){const i=new Error(`NullInjectorError: No provider for ${je(n)}!`);throw i.name="NullInjectorError",i}return o}}function Zl(t){return{\u0275providers:t}}function qb(...t){return{\u0275providers:zc(0,t),\u0275fromNgModule:!0}}function zc(t,...n){const o=[],i=new Set;let g;const M=U=>{o.push(U)};return Bi(n,U=>{const te=U;Ql(te,M,[],i)&&(g||(g=[]),g.push(te))}),void 0!==g&&$h(g,M),o}function $h(t,n){for(let o=0;o<t.length;o++){const{ngModule:i,providers:g}=t[o];qc(g,M=>{n(M,i)})}}function Ql(t,n,o,i){if(!(t=Vn(t)))return!1;let g=null,M=Fa(t);const U=!M&&Jt(t);if(M||U){if(U&&!U.standalone)return!1;g=t}else{const ue=t.ngModule;if(M=Fa(ue),!M)return!1;g=ue}const te=i.has(g);if(U){if(te)return!1;if(i.add(g),U.dependencies){const ue="function"==typeof U.dependencies?U.dependencies():U.dependencies;for(const Ee of ue)Ql(Ee,n,o,i)}}else{if(!M)return!1;{if(null!=M.imports&&!te){let Ee;i.add(g);try{Bi(M.imports,Fe=>{Ql(Fe,n,o,i)&&(Ee||(Ee=[]),Ee.push(Fe))})}finally{}void 0!==Ee&&$h(Ee,n)}if(!te){const Ee=os(g)||(()=>new g);n({provide:g,useFactory:Ee,deps:Ln},g),n({provide:Wc,useValue:g,multi:!0},g),n({provide:is,useValue:()=>Oo(g),multi:!0},g)}const ue=M.providers;if(null!=ue&&!te){const Ee=t;qc(ue,Fe=>{n(Fe,Ee)})}}}return g!==t&&void 0!==t.providers}function qc(t,n){for(let o of t)Oc(o)&&(o=o.\u0275providers),Array.isArray(o)?qc(o,n):n(o)}const Yb=ee({provide:String,useValue:ee});function Yc(t){return null!==t&&"object"==typeof t&&Yb in t}function ss(t){return"function"==typeof t}const Xc=new be(""),eu={},Kb={};let Kc;function tu(){return void 0===Kc&&(Kc=new Jl),Kc}class di{}class Bs extends di{get destroyed(){return this._destroyed}constructor(n,o,i,g){super(),this.parent=o,this.source=i,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zc(n,U=>this.processProvider(U)),this.records.set(Gh,Gs(void 0,this)),g.has("environment")&&this.records.set(di,Gs(void 0,this));const M=this.records.get(Xc);null!=M&&"string"==typeof M.value&&this.scopes.add(M.value),this.injectorDefTypes=new Set(this.get(Wc,Ln,_t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=C(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of o)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),C(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const o=$i(this),i=$o(void 0);try{return n()}finally{$i(o),$o(i)}}get(n,o=Ba,i=_t.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Z))return n[Z](this);i=$l(i);const M=$i(this),U=$o(void 0);try{if(!(i&_t.SkipSelf)){let ue=this.records.get(n);if(void 0===ue){const Ee=function t_(t){return"function"==typeof t||"object"==typeof t&&t instanceof be}(n)&&As(n);ue=Ee&&this.injectableDefInScope(Ee)?Gs(Jc(n),eu):null,this.records.set(n,ue)}if(null!=ue)return this.hydrate(n,ue)}return(i&_t.Self?tu():this.parent).get(n,o=i&_t.Optional&&o===Ba?null:o)}catch(te){if("NullInjectorError"===te.name){if((te[Gl]=te[Gl]||[]).unshift(je(n)),M)throw te;return function kb(t,n,o,i){const g=t[Gl];throw n[Ph]&&g.unshift(n[Ph]),t.message=function Rb(t,n,o,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let g=je(n);if(Array.isArray(n))g=n.map(je).join(" -> ");else if("object"==typeof n){let M=[];for(let U in n)if(n.hasOwnProperty(U)){let te=n[U];M.push(U+":"+("string"==typeof te?JSON.stringify(te):je(te)))}g=`{${M.join(", ")}}`}return`${o}${i?"("+i+")":""}[${g}]: ${t.replace(Tb,"\n  ")}`}("\n"+t.message,g,o,i),t.ngTokenPath=g,t[Gl]=null,t}(te,n,"R3InjectorError",this.source)}throw te}finally{$o(U),$i(M)}}resolveInjectorInitializers(){const n=C(null),o=$i(this),i=$o(void 0);try{const M=this.get(is,Ln,_t.Self);for(const U of M)U()}finally{$i(o),$o(i),C(n)}}toString(){const n=[],o=this.records;for(const i of o.keys())n.push(je(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ye(205,!1)}processProvider(n){let o=ss(n=Vn(n))?n:Vn(n&&n.provide);const i=function Zb(t){return Yc(t)?Gs(void 0,t.useValue):Gs(Wh(t),eu)}(n);if(!ss(n)&&!0===n.multi){let g=this.records.get(o);g||(g=Gs(void 0,eu,!0),g.factory=()=>Rc(g.multi),this.records.set(o,g)),o=n,g.multi.push(n)}this.records.set(o,i)}hydrate(n,o){const i=C(null);try{return o.value===eu&&(o.value=Kb,o.value=o.factory()),"object"==typeof o.value&&o.value&&function e_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{C(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;const o=Vn(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(n){const o=this._onDestroyHooks.indexOf(n);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Jc(t){const n=As(t),o=null!==n?n.factory:os(t);if(null!==o)return o;if(t instanceof be)throw new Ye(204,!1);if(t instanceof Function)return function Jb(t){if(t.length>0)throw new Ye(204,!1);const o=function Ah(t){return t&&(t[Ua]||t[ie])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Ye(204,!1)}function Wh(t,n,o){let i;if(ss(t)){const g=Vn(t);return os(g)||Jc(g)}if(Yc(t))i=()=>Vn(t.useValue);else if(function Hh(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...Rc(t.deps||[]));else if(function Vh(t){return!(!t||!t.useExisting)}(t))i=()=>Oo(Vn(t.useExisting));else{const g=Vn(t&&(t.useClass||t.provide));if(!function Qb(t){return!!t.deps}(t))return os(g)||Jc(g);i=()=>new g(...Rc(t.deps))}return i}function Gs(t,n,o=!1){return{factory:t,value:n,multi:o?[]:void 0}}function Zc(t,n){for(const o of t)Array.isArray(o)?Zc(o,n):o&&Oc(o)?Zc(o.\u0275providers,n):n(o)}function n_(t,n){t instanceof Bs&&t.assertNotDestroyed();const i=$i(t),g=$o(void 0);try{return n()}finally{$i(i),$o(g)}}class f_{constructor(n,o,i){this.previousValue=n,this.currentValue=o,this.firstChange=i}isFirstChange(){return this.firstChange}}function qh(t,n,o,i){null!==n?n.applyValueToInputSignal(n,i):t[o]=i}function ed(){return Yh}function Yh(t){return t.type.prototype.ngOnChanges&&(t.setInput=p_),h_}function h_(){const t=Kh(this),n=null==t?void 0:t.current;if(n){const o=t.previous;if(o===zn)t.previous=n;else for(let i in n)o[i]=n[i];t.current=null,this.ngOnChanges(n)}}function p_(t,n,o,i,g){const M=this.declaredInputs[i],U=Kh(t)||function m_(t,n){return t[Xh]=n}(t,{previous:zn,current:null}),te=U.current||(U.current={}),ue=U.previous,Ee=ue[M];te[M]=new f_(Ee&&Ee.currentValue,o,ue===zn),qh(t,n,g,o)}ed.ngInherit=!0;const Xh="__ngSimpleChanges__";function Kh(t){return t[Xh]||null}const vi=function(t,n,o){};function ou(t,n){for(let Ee=n.directiveStart,Fe=n.directiveEnd;Ee<Fe;Ee++){const ht=t.data[Ee].type.prototype,{ngAfterContentInit:jt,ngAfterContentChecked:Qt,ngAfterViewInit:pn,ngAfterViewChecked:Mn,ngOnDestroy:jn}=ht;var o,i,g,M,U,te,ue;jt&&(null!==(o=t.contentHooks)&&void 0!==o?o:t.contentHooks=[]).push(-Ee,jt),Qt&&((null!==(i=t.contentHooks)&&void 0!==i?i:t.contentHooks=[]).push(Ee,Qt),(null!==(g=t.contentCheckHooks)&&void 0!==g?g:t.contentCheckHooks=[]).push(Ee,Qt)),pn&&(null!==(M=t.viewHooks)&&void 0!==M?M:t.viewHooks=[]).push(-Ee,pn),Mn&&((null!==(U=t.viewHooks)&&void 0!==U?U:t.viewHooks=[]).push(Ee,Mn),(null!==(te=t.viewCheckHooks)&&void 0!==te?te:t.viewCheckHooks=[]).push(Ee,Mn)),null!=jn&&(null!==(ue=t.destroyHooks)&&void 0!==ue?ue:t.destroyHooks=[]).push(Ee,jn)}}function iu(t,n,o){Jh(t,n,3,o)}function su(t,n,o,i){(3&t[Fn])===o&&Jh(t,n,o,i)}function nd(t,n){let o=t[Fn];(3&o)===n&&(o&=16383,o+=1,t[Fn]=o)}function Jh(t,n,o,i){const M=null!=i?i:-1,U=n.length-1;let te=0;for(let ue=void 0!==i?65535&t[To]:0;ue<U;ue++)if("number"==typeof n[ue+1]){if(te=n[ue],null!=i&&te>=i)break}else n[ue]<0&&(t[To]+=65536),(te<M||-1==M)&&(v_(t,o,n,ue),t[To]=(4294901760&t[To])+ue+2),ue++}function Zh(t,n){vi(4,t,n);const o=C(null);try{n.call(t)}finally{C(o),vi(5,t,n)}}function v_(t,n,o,i){const g=o[i]<0,M=o[i+1],te=t[g?-o[i]:o[i]];g?t[Fn]>>14<t[To]>>16&&(3&t[Fn])===n&&(t[Fn]+=16384,Zh(te,M)):Zh(te,M)}const Vs=-1;class qa{constructor(n,o,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=i}}function od(t){return t!==Vs}function Ya(t){return 32767&t}function Xa(t,n){let o=function x_(t){return t>>16}(t),i=n;for(;o>0;)i=i[Eo],o--;return i}let id=!0;function au(t){const n=id;return id=t,n}const Qh=255,ep=5;let C_=0;const bi={};function lu(t,n){const o=tp(t,n);if(-1!==o)return o;const i=n[Tn];i.firstCreatePass&&(t.injectorIndex=n.length,sd(i.data,t),sd(n,null),sd(i.blueprint,null));const g=uu(t,n),M=t.injectorIndex;if(od(g)){const U=Ya(g),te=Xa(g,n),ue=te[Tn].data;for(let Ee=0;Ee<8;Ee++)n[M+Ee]=te[U+Ee]|ue[U+Ee]}return n[M+8]=g,M}function sd(t,n){t.push(0,0,0,0,0,0,0,0,n)}function tp(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function uu(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,i=null,g=n;for(;null!==g;){if(i=up(g),null===i)return Vs;if(o++,g=g[Eo],-1!==i.injectorIndex)return i.injectorIndex|o<<16}return Vs}function ad(t,n,o){!function S_(t,n,o){let i;"string"==typeof o?i=o.charCodeAt(0)||0:o.hasOwnProperty(de)&&(i=o[de]),null==i&&(i=o[de]=C_++);const g=i&Qh;n.data[t+(g>>ep)]|=1<<g}(t,n,o)}function np(t,n,o){if(o&_t.Optional||void 0!==t)return t;jc()}function rp(t,n,o,i){if(o&_t.Optional&&void 0===i&&(i=null),!(o&(_t.Self|_t.Host))){const g=t[gr],M=$o(void 0);try{return g?g.get(n,i,o&_t.Optional):jh(n,i,o&_t.Optional)}finally{$o(M)}}return np(i,0,o)}function op(t,n,o,i=_t.Default,g){if(null!==t){if(2048&n[Fn]&&!(i&_t.Self)){const U=function A_(t,n,o,i,g){let M=t,U=n;for(;null!==M&&null!==U&&2048&U[Fn]&&!(512&U[Fn]);){const te=ip(M,U,o,i|_t.Self,bi);if(te!==bi)return te;let ue=M.parent;if(!ue){const Ee=U[qo];if(Ee){const Fe=Ee.get(o,bi,i);if(Fe!==bi)return Fe}ue=up(U),U=U[Eo]}M=ue}return g}(t,n,o,i,bi);if(U!==bi)return U}const M=ip(t,n,o,i,bi);if(M!==bi)return M}return rp(n,o,i,g)}function ip(t,n,o,i,g){const M=function I_(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(de)?t[de]:void 0;return"number"==typeof n?n>=0?n&Qh:T_:n}(o);if("function"==typeof M){if(!rr(n,t,i))return i&_t.Host?np(g,0,i):rp(n,o,i,g);try{let U;if(U=M(i),null!=U||i&_t.Optional)return U;jc()}finally{yo()}}else if("number"==typeof M){let U=null,te=tp(t,n),ue=Vs,Ee=i&_t.Host?n[Sr][_r]:null;for((-1===te||i&_t.SkipSelf)&&(ue=-1===te?uu(t,n):n[te+8],ue!==Vs&&ap(i,!1)?(U=n[Tn],te=Ya(ue),n=Xa(ue,n)):te=-1);-1!==te;){const Fe=n[Tn];if(sp(M,te,Fe.data)){const ze=M_(te,n,o,U,i,Ee);if(ze!==bi)return ze}ue=n[te+8],ue!==Vs&&ap(i,n[Tn].data[te+8]===Ee)&&sp(M,te,n)?(U=Fe,te=Ya(ue),n=Xa(ue,n)):te=-1}}return g}function M_(t,n,o,i,g,M){const U=n[Tn],te=U.data[t+8],Fe=cu(te,U,o,null==i?Xr(te)&&id:i!=U&&0!=(3&te.type),g&_t.Host&&M===te);return null!==Fe?as(n,U,Fe,te):bi}function cu(t,n,o,i,g){const M=t.providerIndexes,U=n.data,te=1048575&M,ue=t.directiveStart,Fe=M>>20,ht=g?te+Fe:t.directiveEnd;for(let jt=i?te:te+Fe;jt<ht;jt++){const Qt=U[jt];if(jt<ue&&o===Qt||jt>=ue&&Qt.type===o)return jt}if(g){const jt=U[ue];if(jt&&Do(jt)&&jt.type===o)return ue}return null}function as(t,n,o,i){let g=t[o];const M=n.data;if(function b_(t){return t instanceof qa}(g)){const U=g;U.resolving&&function Db(t,n){throw n&&n.join(" > "),new Ye(-200,t)}(function jr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ar(t)}(M[o]));const te=au(U.canSeeViewProviders);U.resolving=!0;const Ee=U.injectImpl?$o(U.injectImpl):null;rr(t,i,_t.Default);try{g=t[o]=U.factory(void 0,M,t,i),n.firstCreatePass&&o>=i.directiveStart&&function y_(t,n,o){const{ngOnChanges:i,ngOnInit:g,ngDoCheck:M}=n.type.prototype;if(i){var U,te;const ze=Yh(n);(null!==(U=o.preOrderHooks)&&void 0!==U?U:o.preOrderHooks=[]).push(t,ze),(null!==(te=o.preOrderCheckHooks)&&void 0!==te?te:o.preOrderCheckHooks=[]).push(t,ze)}var ue,Ee,Fe;g&&(null!==(ue=o.preOrderHooks)&&void 0!==ue?ue:o.preOrderHooks=[]).push(0-t,g),M&&((null!==(Ee=o.preOrderHooks)&&void 0!==Ee?Ee:o.preOrderHooks=[]).push(t,M),(null!==(Fe=o.preOrderCheckHooks)&&void 0!==Fe?Fe:o.preOrderCheckHooks=[]).push(t,M))}(o,M[o],n)}finally{null!==Ee&&$o(Ee),au(te),U.resolving=!1,yo()}}return g}function sp(t,n,o){return!!(o[n+(t>>ep)]&1<<t)}function ap(t,n){return!(t&_t.Self||t&_t.Host&&n)}class bo{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,i){return op(this._tNode,this._lView,n,$l(i),o)}}function T_(){return new bo(Ar(),hn())}function lp(t){return Cn(()=>{const n=t.prototype.constructor,o=n[Q]||ld(n),i=Object.prototype;let g=Object.getPrototypeOf(t.prototype).constructor;for(;g&&g!==i;){const M=g[Q]||ld(g);if(M&&M!==o)return M;g=Object.getPrototypeOf(g)}return M=>new M})}function ld(t){return si(t)?()=>{const n=ld(Vn(t));return n&&n()}:os(t)}function up(t){const n=t[Tn],o=n.type;return 2===o?n.declTNode:1===o?t[_r]:null}function ud(t){return function D_(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const o=t.attrs;if(o){const i=o.length;let g=0;for(;g<i;){const M=o[g];if(Tt(M))break;if(0===M)g+=2;else if("number"==typeof M)for(g++;g<i&&"string"==typeof o[g];)g++;else{if(M===n)return o[g+1];g+=2}}}return null}(Ar(),t)}function pp(t,n=null,o=null,i){const g=mp(t,n,o,i);return g.resolveInjectorInitializers(),g}function mp(t,n=null,o=null,i,g=new Set){const M=[o||Ln,qb(t)];return i=i||("object"==typeof t?void 0:je(t)),new Bs(M,n||tu(),i||null,g)}let ti=(()=>{var t;class n{static create(i,g){if(Array.isArray(i))return pp({name:""},g,i,"");{var M;const U=null!==(M=i.name)&&void 0!==M?M:"";return pp({name:U},i.parent,i.providers,U)}}}return(t=n).THROW_IF_NOT_FOUND=Ba,t.NULL=new Jl,t.\u0275prov=Lr({token:t,providedIn:"any",factory:()=>Oo(Gh)}),t.__NG_ELEMENT_ID__=-1,n})();function dd(t){return t.ngOriginalError}class Vi{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&dd(n);for(;o&&dd(o);)o=dd(o);return o||null}}const yp=new be("",{providedIn:"root",factory:()=>br(Vi).handleError.bind(void 0)}),bp=new be("",{providedIn:"root",factory:()=>!1});let hu,pu;function zs(t){var n;return(null===(n=function fd(){if(void 0===hu&&(hu=null,Sn.trustedTypes))try{hu=Sn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hu}())||void 0===n?void 0:n.createHTML(t))||t}function Ep(t){var n;return(null===(n=function hd(){if(void 0===pu&&(pu=null,Sn.trustedTypes))try{pu=Sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pu}())||void 0===n?void 0:n.createScriptURL(t))||t}class ls{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Je})`}}class B_ extends ls{getTypeName(){return"HTML"}}class G_ extends ls{getTypeName(){return"Style"}}class $_ extends ls{getTypeName(){return"Script"}}class V_ extends ls{getTypeName(){return"URL"}}class H_ extends ls{getTypeName(){return"ResourceURL"}}function Ri(t){return t instanceof ls?t.changingThisBreaksApplicationSecurity:t}function qs(t,n){const o=function W_(t){return t instanceof ls&&t.getTypeName()||null}(t);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see ${Je})`)}return o===n}function z_(t){return new B_(t)}function q_(t){return new G_(t)}function Y_(t){return new $_(t)}function X_(t){return new V_(t)}function K_(t){return new H_(t)}class J_{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const o=(new window.DOMParser).parseFromString(zs(n),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(n):(o.removeChild(o.firstChild),o)}catch{return null}}}class Z_{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const o=this.inertDocument.createElement("template");return o.innerHTML=zs(n),o}}const e1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mu(t){return(t=String(t)).match(e1)?t:"unsafe:"+t}function Ni(t){const n={};for(const o of t.split(","))n[o]=!0;return n}function Ka(...t){const n={};for(const o of t)for(const i in o)o.hasOwnProperty(i)&&(n[i]=!0);return n}const Cp=Ni("area,br,col,hr,img,wbr"),Sp=Ni("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Dp=Ni("rp,rt"),pd=Ka(Cp,Ka(Sp,Ni("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ka(Dp,Ni("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ka(Dp,Sp)),md=Ni("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mp=Ka(md,Ni("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ni("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),t1=Ni("script,style,template");class n1{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let o=n.firstChild,i=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?i=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,i&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let g=this.checkClobberedElement(o,o.nextSibling);if(g){o=g;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(n){const o=n.nodeName.toLowerCase();if(!pd.hasOwnProperty(o))return this.sanitizedSomething=!0,!t1.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const i=n.attributes;for(let g=0;g<i.length;g++){const M=i.item(g),U=M.name,te=U.toLowerCase();if(!Mp.hasOwnProperty(te)){this.sanitizedSomething=!0;continue}let ue=M.value;md[te]&&(ue=mu(ue)),this.buf.push(" ",U,'="',Ip(ue),'"')}return this.buf.push(">"),!0}endElement(n){const o=n.nodeName.toLowerCase();pd.hasOwnProperty(o)&&!Cp.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(n){this.buf.push(Ip(n))}checkClobberedElement(n,o){if(o&&(n.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return o}}const r1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o1=/([^\#-~ |!])/g;function Ip(t){return t.replace(/&/g,"&amp;").replace(r1,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(o1,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gu;function Tp(t,n){let o=null;try{gu=gu||function xp(t){const n=new Z_(t);return function Q_(){try{return!!(new window.DOMParser).parseFromString(zs(""),"text/html")}catch{return!1}}()?new J_(n):n}(t);let i=n?String(n):"";o=gu.getInertBodyElement(i);let g=5,M=i;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,i=M,M=o.innerHTML,o=gu.getInertBodyElement(i)}while(i!==M);return zs((new n1).sanitizeChildren(gd(o)||o))}finally{if(o){const i=gd(o)||o;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function gd(t){return"content"in t&&function i1(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var us=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(us||{});function yd(t){const n=Ja();return n?n.sanitize(us.URL,t)||"":qs(t,"URL")?Ri(t):mu(ar(t))}function Ap(t){const n=Ja();if(n)return Ep(n.sanitize(us.RESOURCE_URL,t)||"");if(qs(t,"ResourceURL"))return Ep(Ri(t));throw new Ye(904,!1)}function Op(t,n,o){return function d1(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Ap:yd}(n,o)(t)}function Ja(){const t=hn();return t&&t[$r].sanitizer}const f1=/^>|^->|<!--|-->|--!>|<!-$/g,h1=/(<|>)/g,p1="\u200b$1\u200b";const vd=new Map;let b1=0;const _d="__ngContext__";function jo(t,n){Vr(n)?(t[_d]=n[po],function w1(t){vd.set(t[po],t)}(n)):t[_d]=n}function ni(t){return t instanceof Function?t():t}var bu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(bu||{});let Cd;function Sd(t,n){return Cd(t,n)}function Xs(t,n,o,i,g){if(null!=i){let M,U=!1;Hr(i)?M=i:Vr(i)&&(U=!0,i=i[hr]);const te=mt(i);0===t&&null!==o?null==g?Kp(n,o,te):cs(n,o,te,g||null,!0):1===t&&null!==o?cs(n,o,te,g||null,!0):2===t?function Su(t,n,o){const i=xu(t,n);i&&function V1(t,n,o,i){t.removeChild(n,o,i)}(t,i,n,o)}(n,te,U):3===t&&n.destroyNode(te),null!=M&&function z1(t,n,o,i,g){const M=o[co];M!==mt(o)&&Xs(n,t,i,M,g);for(let te=yr;te<o.length;te++){const ue=o[te];Du(ue[Tn],ue,t,n,i,M)}}(n,t,M,o,g)}}function Dd(t,n){return t.createComment(function jp(t){return t.replace(f1,n=>n.replace(h1,p1))}(n))}function wu(t,n,o){return t.createElement(n,o)}function qp(t,n){Du(t,n,n[qn],2,null,null)}function Yp(t,n){const o=t[No],i=o.indexOf(n);o.splice(i,1)}function Qa(t,n){if(t.length<=yr)return;const o=yr+n,i=t[o];if(i){const g=i[So];null!==g&&g!==t&&Yp(g,i),n>0&&(t[o-1][Yr]=i[Yr]);const M=ka(t,yr+n);!function N1(t,n){qp(t,n),n[hr]=null,n[_r]=null}(i[Tn],i);const U=M[ho];null!==U&&U.detachView(M[Tn]),i[dr]=null,i[Yr]=null,i[Fn]&=-129}return i}function Eu(t,n){if(!(256&n[Fn])){const o=n[qn];o.destroyNode&&Du(t,n,o,3,null,null),function F1(t){let n=t[ro];if(!n)return Md(t[Tn],t);for(;n;){let o=null;if(Vr(n))o=n[ro];else{const i=n[yr];i&&(o=i)}if(!o){for(;n&&!n[Yr]&&n!==t;)Vr(n)&&Md(n[Tn],n),n=n[dr];null===n&&(n=t),Vr(n)&&Md(n[Tn],n),o=n&&n[Yr]}n=o}}(n)}}function Md(t,n){if(256&n[Fn])return;const o=C(null);try{n[Fn]&=-129,n[Fn]|=256,n[ko]&&function p(t){if(k(t),F(t))for(let n=0;n<t.producerNode.length;n++)T(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[ko]),function $1(t,n){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let i=0;i<o.length;i+=2){const g=n[o[i]];if(!(g instanceof qa)){const M=o[i+1];if(Array.isArray(M))for(let U=0;U<M.length;U+=2){const te=g[M[U]],ue=M[U+1];vi(4,te,ue);try{ue.call(te)}finally{vi(5,te,ue)}}else{vi(4,g,M);try{M.call(g)}finally{vi(5,g,M)}}}}}(t,n),function G1(t,n){const o=t.cleanup,i=n[uo];if(null!==o)for(let M=0;M<o.length-1;M+=2)if("string"==typeof o[M]){const U=o[M+3];U>=0?i[U]():i[-U].unsubscribe(),M+=2}else o[M].call(i[o[M+1]]);null!==i&&(n[uo]=null);const g=n[Po];if(null!==g){n[Po]=null;for(let M=0;M<g.length;M++)(0,g[M])()}}(t,n),1===n[Tn].type&&n[qn].destroy();const i=n[So];if(null!==i&&Hr(n[dr])){i!==n[dr]&&Yp(i,n);const g=n[ho];null!==g&&g.detachView(t)}!function E1(t){vd.delete(t[po])}(n)}finally{C(o)}}function Id(t,n,o){return function Xp(t,n,o){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return o[hr];{const{componentOffset:g}=i;if(g>-1){const{encapsulation:M}=t.data[i.directiveStart+g];if(M===bn.None||M===bn.Emulated)return null}return on(i,o)}}(t,n.parent,o)}function cs(t,n,o,i,g){t.insertBefore(n,o,i,g)}function Kp(t,n,o){t.appendChild(n,o)}function Jp(t,n,o,i,g){null!==i?cs(t,n,o,i,g):Kp(t,n,o)}function xu(t,n){return t.parentNode(n)}function Zp(t,n,o){return em(t,n,o)}let Td,em=function Qp(t,n,o){return 40&t.type?on(t,o):null};function Cu(t,n,o,i){const g=Id(t,i,n),M=n[qn],te=Zp(i.parent||n[_r],i,n);if(null!=g)if(Array.isArray(o))for(let ue=0;ue<o.length;ue++)Jp(M,g,o[ue],te,!1);else Jp(M,g,o,te,!1);void 0!==Td&&Td(M,i,n,o,g)}function el(t,n){if(null!==n){const o=n.type;if(3&o)return on(n,t);if(4&o)return Ad(-1,t[n.index]);if(8&o){const i=n.child;if(null!==i)return el(t,i);{const g=t[n.index];return Hr(g)?Ad(-1,g):mt(g)}}if(32&o)return Sd(n,t)()||mt(t[n.index]);{const i=nm(t,n);return null!==i?Array.isArray(i)?i[0]:el(Pr(t[Sr]),i):el(t,n.next)}}return null}function nm(t,n){return null!==n?t[Sr][_r].projection[n.projection]:null}function Ad(t,n){const o=yr+t+1;if(o<n.length){const i=n[o],g=i[Tn].firstChild;if(null!==g)return el(i,g)}return n[co]}function Od(t,n,o,i,g,M,U){for(;null!=o;){const te=i[o.index],ue=o.type;if(U&&0===n&&(te&&jo(mt(te),i),o.flags|=2),32!=(32&o.flags))if(8&ue)Od(t,n,o.child,i,g,M,!1),Xs(n,t,g,te,M);else if(32&ue){const Ee=Sd(o,i);let Fe;for(;Fe=Ee();)Xs(n,t,g,Fe,M);Xs(n,t,g,te,M)}else 16&ue?om(t,n,i,o,g,M):Xs(n,t,g,te,M);o=U?o.projectionNext:o.next}}function Du(t,n,o,i,g,M){Od(o,i,t.firstChild,n,g,M,!1)}function om(t,n,o,i,g,M){const U=o[Sr],ue=U[_r].projection[i.projection];if(Array.isArray(ue))for(let Ee=0;Ee<ue.length;Ee++)Xs(n,t,g,ue[Ee],M);else{let Ee=ue;const Fe=U[dr];Is(i)&&(Ee.flags|=128),Od(t,n,Ee,Fe,g,M,!0)}}function im(t,n,o){""===o?t.removeAttribute(n,"class"):t.setAttribute(n,"class",o)}function sm(t,n,o){const{mergedAttrs:i,classes:g,styles:M}=o;null!==i&&ot(t,n,i),null!==g&&im(t,n,g),null!==M&&function Y1(t,n,o){t.setAttribute(n,"style",o)}(t,n,M)}const ur={};function am(t=1){lm(fr(),hn(),zr()+t,!1)}function lm(t,n,o,i){if(!i)if(3==(3&n[Fn])){const M=t.preOrderCheckHooks;null!==M&&iu(n,M,o)}else{const M=t.preOrderHooks;null!==M&&su(n,M,0,o)}Co(o)}function Ks(t,n=_t.Default){const o=hn();return null===o?Oo(t,n):op(Ar(),o,Vn(t),n)}function um(){throw new Error("invalid")}function cm(t,n,o,i,g,M){const U=C(null);try{let te=null;g&ve.SignalBased&&(te=n[i][H]),null!==te&&void 0!==te.transformFn&&(M=te.transformFn(M)),g&ve.HasDecoratorInputTransform&&(M=t.inputTransforms[i].call(n,M)),null!==t.setInput?t.setInput(n,te,M,o,i):qh(n,te,i,M)}finally{C(U)}}function Mu(t,n,o,i,g,M,U,te,ue,Ee,Fe){const ze=n.blueprint.slice();return ze[hr]=g,ze[Fn]=204|i,(null!==Ee||t&&2048&t[Fn])&&(ze[Fn]|=2048),Ur(ze),ze[dr]=ze[Eo]=t,ze[lr]=o,ze[$r]=U||t&&t[$r],ze[qn]=te||t&&t[qn],ze[gr]=ue||t&&t[gr]||null,ze[_r]=M,ze[po]=function _1(){return b1++}(),ze[Rr]=Fe,ze[qo]=Ee,ze[Sr]=2==n.type?t[Sr]:ze,ze}function Js(t,n,o,i,g){let M=t.data[n];if(null===M)M=function jd(t,n,o,i,g){const M=Oa(),U=ws(),ue=t.data[n]=function nw(t,n,o,i,g,M){let U=n?n.injectorIndex:-1,te=0;return Mi()&&(te|=128),{type:o,index:i,insertBeforeIndex:null,injectorIndex:U,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:te,providerIndexes:0,value:g,attrs:M,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,U?M:M&&M.parent,o,n,i,g);return null===t.firstChild&&(t.firstChild=ue),null!==M&&(U?null==M.child&&null!==ue.parent&&(M.child=ue):null===M.next&&(M.next=ue,ue.prev=M)),ue}(t,n,o,i,g),function dt(){return Nn.lFrame.inI18n}()&&(M.flags|=32);else if(64&M.type){M.type=o,M.value=i,M.attrs=g;const U=function Ii(){const t=Nn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();M.injectorIndex=null===U?-1:U.injectorIndex}return Zo(M,!0),M}function tl(t,n,o,i){if(0===o)return-1;const g=n.length;for(let M=0;M<o;M++)n.push(i),t.blueprint.push(i),t.data.push(null);return g}function dm(t,n,o,i,g){const M=zr(),U=2&i;try{Co(-1),U&&n.length>Yn&&lm(t,n,Yn,!1),vi(U?2:0,g),o(i,g)}finally{Co(M),vi(U?3:1,g)}}function Pd(t,n,o){if(xo(n)){const i=C(null);try{const M=n.directiveEnd;for(let U=n.directiveStart;U<M;U++){const te=t.data[U];te.contentQueries&&te.contentQueries(1,o[U],U)}}finally{C(i)}}}function kd(t,n,o){Fi()&&(function uw(t,n,o,i){const g=o.directiveStart,M=o.directiveEnd;Xr(o)&&function gw(t,n,o){const i=on(n,t),g=fm(o);let U=16;o.signals?U=4096:o.onPush&&(U=64);const te=Iu(t,Mu(t,g,null,U,i,n,null,t[$r].rendererFactory.createRenderer(i,o),null,null,null));t[n.index]=te}(n,o,t.data[g+o.componentOffset]),t.firstCreatePass||lu(o,n),jo(i,n);const U=o.initialInputs;for(let te=g;te<M;te++){const ue=t.data[te],Ee=as(n,t,te,o);jo(Ee,n),null!==U&&yw(0,te-g,Ee,ue,0,U),Do(ue)&&(Gn(o.index,n)[lr]=as(n,t,te,o))}}(t,n,o,on(o,n)),64==(64&o.flags)&&ym(t,n,o))}function Rd(t,n,o=on){const i=n.localNames;if(null!==i){let g=n.index+1;for(let M=0;M<i.length;M+=2){const U=i[M+1],te=-1===U?o(n,t):t[U];t[g++]=te}}}function fm(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Nd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Nd(t,n,o,i,g,M,U,te,ue,Ee,Fe){const ze=Yn+i,ht=ze+g,jt=function K1(t,n){const o=[];for(let i=0;i<n;i++)o.push(i<t?null:ur);return o}(ze,ht),Qt="function"==typeof Ee?Ee():Ee;return jt[Tn]={type:t,blueprint:jt,template:o,queries:null,viewQuery:te,declTNode:n,data:jt.slice().fill(null,ze),bindingStartIndex:ze,expandoStartIndex:ht,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof M?M():M,pipeRegistry:"function"==typeof U?U():U,firstChild:null,schemas:ue,consts:Qt,incompleteFirstPass:!1,ssrId:Fe}}let hm=()=>null;function pm(t,n,o,i,g){for(let U in n){var M;if(!n.hasOwnProperty(U))continue;const te=n[U];if(void 0===te)continue;null!==(M=i)&&void 0!==M||(i={});let ue,Ee=ve.None;Array.isArray(te)?(ue=te[0],Ee=te[1]):ue=te;let Fe=U;if(null!==g){if(!g.hasOwnProperty(U))continue;Fe=g[U]}0===t?mm(i,o,Fe,ue,Ee):mm(i,o,Fe,ue)}return i}function mm(t,n,o,i,g){let M;t.hasOwnProperty(o)?(M=t[o]).push(n,i):M=t[o]=[n,i],void 0!==g&&M.push(g)}function Ho(t,n,o,i,g,M,U,te){const ue=on(n,o);let Fe,Ee=n.inputs;!te&&null!=Ee&&(Fe=Ee[i])?(Gd(t,o,Fe,i,g),Xr(n)&&function iw(t,n){const o=Gn(n,t);16&o[Fn]||(o[Fn]|=64)}(o,n.index)):3&n.type&&(i=function ow(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),g=null!=U?U(g,n.value||"",i):g,M.setProperty(ue,i,g))}function Ld(t,n,o,i){if(Fi()){const g=null===i?null:{"":-1},M=function dw(t,n){const o=t.directiveRegistry;let i=null,g=null;if(o)for(let U=0;U<o.length;U++){const te=o[U];if(Ge(n,te.selectors,!1))if(i||(i=[]),Do(te))if(null!==te.findHostDirectiveDefs){const ue=[];g=g||new Map,te.findHostDirectiveDefs(te,ue,g),i.unshift(...ue,te),Fd(t,n,ue.length)}else i.unshift(te),Fd(t,n,0);else{var M;g=g||new Map,null===(M=te.findHostDirectiveDefs)||void 0===M||M.call(te,te,i,g),i.push(te)}}return null===i?null:[i,g]}(t,o);let U,te;null===M?U=te=null:[U,te]=M,null!==U&&gm(t,n,o,U,g,te),g&&function fw(t,n,o){if(n){const i=t.localNames=[];for(let g=0;g<n.length;g+=2){const M=o[n[g+1]];if(null==M)throw new Ye(-301,!1);i.push(n[g],M)}}}(o,i,g)}o.mergedAttrs=_n(o.mergedAttrs,o.attrs)}function gm(t,n,o,i,g,M){for(let ze=0;ze<i.length;ze++)ad(lu(o,n),t,i[ze].type);!function pw(t,n,o){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+o,t.providerIndexes=n}(o,t.data.length,i.length);for(let ze=0;ze<i.length;ze++){const ht=i[ze];ht.providersResolver&&ht.providersResolver(ht)}let U=!1,te=!1,ue=tl(t,n,i.length,null);for(let ze=0;ze<i.length;ze++){const ht=i[ze];o.mergedAttrs=_n(o.mergedAttrs,ht.hostAttrs),mw(t,o,n,ue,ht),hw(ue,ht,g),null!==ht.contentQueries&&(o.flags|=4),(null!==ht.hostBindings||null!==ht.hostAttrs||0!==ht.hostVars)&&(o.flags|=64);const jt=ht.type.prototype;var Ee,Fe;!U&&(jt.ngOnChanges||jt.ngOnInit||jt.ngDoCheck)&&((null!==(Ee=t.preOrderHooks)&&void 0!==Ee?Ee:t.preOrderHooks=[]).push(o.index),U=!0),te||!jt.ngOnChanges&&!jt.ngDoCheck||((null!==(Fe=t.preOrderCheckHooks)&&void 0!==Fe?Fe:t.preOrderCheckHooks=[]).push(o.index),te=!0),ue++}!function rw(t,n,o){const g=n.directiveEnd,M=t.data,U=n.attrs,te=[];let ue=null,Ee=null;for(let Fe=n.directiveStart;Fe<g;Fe++){const ze=M[Fe],ht=o?o.get(ze):null,Qt=ht?ht.outputs:null;ue=pm(0,ze.inputs,Fe,ue,ht?ht.inputs:null),Ee=pm(1,ze.outputs,Fe,Ee,Qt);const pn=null===ue||null===U||Wn(n)?null:vw(ue,Fe,U);te.push(pn)}null!==ue&&(ue.hasOwnProperty("class")&&(n.flags|=8),ue.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=te,n.inputs=ue,n.outputs=Ee}(t,o,M)}function ym(t,n,o){const i=o.directiveStart,g=o.directiveEnd,M=o.index,U=function xt(){return Nn.lFrame.currentDirectiveIndex}();try{Co(M);for(let te=i;te<g;te++){const ue=t.data[te],Ee=n[te];un(te),(null!==ue.hostBindings||0!==ue.hostVars||null!==ue.hostAttrs)&&cw(ue,Ee)}}finally{Co(-1),un(U)}}function cw(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Fd(t,n,o){var i;n.componentOffset=o,(null!==(i=t.components)&&void 0!==i?i:t.components=[]).push(n.index)}function hw(t,n,o){if(o){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)o[n.exportAs[i]]=t;Do(n)&&(o[""]=t)}}function mw(t,n,o,i,g){t.data[i]=g;const M=g.factory||(g.factory=os(g.type)),U=new qa(M,Do(g),Ks);t.blueprint[i]=U,o[i]=U,function aw(t,n,o,i,g){const M=g.hostBindings;if(M){let U=t.hostBindingOpCodes;null===U&&(U=t.hostBindingOpCodes=[]);const te=~n.index;(function lw(t){let n=t.length;for(;n>0;){const o=t[--n];if("number"==typeof o&&o<0)return o}return 0})(U)!=te&&U.push(te),U.push(o,i,M)}}(t,n,i,tl(t,o,g.hostVars,ur),g)}function _i(t,n,o,i,g,M){const U=on(t,n);!function Ud(t,n,o,i,g,M,U){if(null==M)t.removeAttribute(n,g,o);else{const te=null==U?ar(M):U(M,i||"",g);t.setAttribute(n,g,te,o)}}(n[qn],U,M,t.value,o,i,g)}function yw(t,n,o,i,g,M){const U=M[n];if(null!==U)for(let te=0;te<U.length;)cm(i,o,U[te++],U[te++],U[te++],U[te++])}function vw(t,n,o){let i=null,g=0;for(;g<o.length;){const M=o[g];if(0!==M)if(5!==M){if("number"==typeof M)break;if(t.hasOwnProperty(M)){null===i&&(i=[]);const U=t[M];for(let te=0;te<U.length;te+=3)if(U[te]===n){i.push(M,U[te+1],U[te+2],o[g+1]);break}}g+=2}else g+=2;else g+=4}return i}function vm(t,n,o,i){return[t,!0,0,n,null,i,null,o,null,null]}function bm(t,n){const o=t.contentQueries;if(null!==o){const i=C(null);try{for(let g=0;g<o.length;g+=2){const U=o[g+1];if(-1!==U){const te=t.data[U];ir(o[g]),te.contentQueries(2,n[U],U)}}}finally{C(i)}}}function Iu(t,n){return t[ro]?t[zo][Yr]=n:t[ro]=n,t[zo]=n,n}function Bd(t,n,o){ir(0);const i=C(null);try{n(t,o)}finally{C(i)}}function _m(t){return t[uo]||(t[uo]=[])}function wm(t){return t.cleanup||(t.cleanup=[])}function Tu(t,n){const o=t[gr],i=o?o.get(Vi,null):null;i&&i.handleError(n)}function Gd(t,n,o,i,g){for(let M=0;M<o.length;){const U=o[M++],te=o[M++],ue=o[M++];cm(t.data[U],n[U],i,te,ue,g)}}function bw(t,n){const o=Gn(n,t),i=o[Tn];!function _w(t,n){for(let o=n.length;o<t.blueprint.length;o++)n.push(t.blueprint[o])}(i,o);const g=o[hr];null!==g&&null===o[Rr]&&(o[Rr]=Bc(g,o[gr])),$d(i,o,o[lr])}function $d(t,n,o){Ir(n);try{var i;const g=t.viewQuery;null!==g&&Bd(1,g,o);const M=t.template;null!==M&&dm(t,n,M,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),null===(i=n[ho])||void 0===i||i.finishViewCreation(t),t.staticContentQueries&&bm(t,n),t.staticViewQueries&&Bd(2,t.viewQuery,o);const U=t.components;null!==U&&function ww(t,n){for(let o=0;o<n.length;o++)bw(t,n[o])}(n,U)}catch(g){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),g}finally{n[Fn]&=-5,ei()}}function Zs(t,n){return!n||null===n.firstChild||Is(t)}function rl(t,n,o,i=!0){const g=n[Tn];if(function U1(t,n,o,i){const g=yr+i,M=o.length;i>0&&(o[g-1][Yr]=n),i<M-yr?(n[Yr]=o[g],xc(o,yr+i,n)):(o.push(n),n[Yr]=null),n[dr]=o;const U=n[So];null!==U&&o!==U&&function B1(t,n){const o=t[No];n[Sr]!==n[dr][dr][Sr]&&(t[Fn]|=Yo.HasTransplantedViews),null===o?t[No]=[n]:o.push(n)}(U,n);const te=n[ho];null!==te&&te.insertView(t),fo(n),n[Fn]|=128}(g,n,t,o),i){const U=Ad(o,t),te=n[qn],ue=xu(te,t[co]);null!==ue&&function L1(t,n,o,i,g,M){i[hr]=g,i[_r]=n,Du(t,i,o,1,g,M)}(g,t[_r],te,n,ue,U)}const M=n[Rr];null!==M&&null!==M.firstChild&&(M.firstChild=null)}function ol(t,n,o,i,g=!1){for(;null!==o;){const M=n[o.index];null!==M&&i.push(mt(M)),Hr(M)&&Cm(M,i);const U=o.type;if(8&U)ol(t,n,o.child,i);else if(32&U){const te=Sd(o,n);let ue;for(;ue=te();)i.push(ue)}else if(16&U){const te=nm(n,o);if(Array.isArray(te))i.push(...te);else{const ue=Pr(n[Sr]);ol(ue[Tn],ue,te,i,!0)}}o=g?o.projectionNext:o.next}return i}function Cm(t,n){for(let o=yr;o<t.length;o++){const i=t[o],g=i[Tn].firstChild;null!==g&&ol(i[Tn],i,g,n)}t[co]!==t[hr]&&n.push(t[co])}let Sm=[];const Sw={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{wr(t.lView)},consumerOnSignalRead(){this.lView[ko]=this}};function Dm(t){return Im(t[ro])}function Mm(t){return Im(t[Yr])}function Im(t){for(;null!==t&&!Hr(t);)t=t[Yr];return t}function Au(t,n=!0,o=0){const i=t[$r],g=i.rendererFactory;var U;null===(U=g.begin)||void 0===U||U.call(g);try{!function Iw(t,n){Hd(t,n);let o=0;for(;Jr(t);){if(100===o)throw new Ye(103,!1);o++,Hd(t,1)}}(t,o)}catch(Ee){throw n&&Tu(t,Ee),Ee}finally{var te,ue;null===(te=g.end)||void 0===te||te.call(g),null===(ue=i.inlineEffectRunner)||void 0===ue||ue.flush()}}function Tw(t,n,o,i){var g;const M=n[Fn];if(256==(256&M))return;null===(g=n[$r].inlineEffectRunner)||void 0===g||g.flush(),Ir(n);let te=null,ue=null;(function Aw(t){return 2!==t.type})(t)&&(ue=function Ew(t){var n;return null!==(n=t[ko])&&void 0!==n?n:function xw(t){var n;const o=null!==(n=Sm.pop())&&void 0!==n?n:Object.create(Sw);return o.lView=t,o}(t)}(n),te=function c(t){return t&&(t.nextProducerIndex=0),C(t)}(ue));try{Ur(n),function es(t){return Nn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&dm(t,n,o,2,i);const Ee=3==(3&M);if(Ee){const ht=t.preOrderCheckHooks;null!==ht&&iu(n,ht,null)}else{const ht=t.preOrderHooks;null!==ht&&su(n,ht,0,null),nd(n,0)}if(function Ow(t){for(let n=Dm(t);null!==n;n=Mm(n)){if(!(n[Fn]&Yo.HasTransplantedViews))continue;const o=n[No];for(let i=0;i<o.length;i++){Kr(o[i])}}}(n),Am(n,0),null!==t.contentQueries&&bm(t,n),Ee){const ht=t.contentCheckHooks;null!==ht&&iu(n,ht)}else{const ht=t.contentHooks;null!==ht&&su(n,ht,1),nd(n,1)}!function X1(t,n){const o=t.hostBindingOpCodes;if(null!==o)try{for(let i=0;i<o.length;i++){const g=o[i];if(g<0)Co(~g);else{const M=g,U=o[++i],te=o[++i];Qe(U,M),te(2,n[M])}}}finally{Co(-1)}}(t,n);const Fe=t.components;null!==Fe&&jm(n,Fe,0);const ze=t.viewQuery;if(null!==ze&&Bd(2,ze,i),Ee){const ht=t.viewCheckHooks;null!==ht&&iu(n,ht)}else{const ht=t.viewHooks;null!==ht&&su(n,ht,2),nd(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[mo]){for(const ht of n[mo])ht();n[mo]=null}n[Fn]&=-73}catch(Ee){throw wr(n),Ee}finally{null!==ue&&(function s(t,n){if(C(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(F(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)T(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(ue,te),function Cw(t){t.lView[ko]!==t&&(t.lView=null,Sm.push(t))}(ue)),ei()}}function Am(t,n){for(let o=Dm(t);null!==o;o=Mm(o))for(let i=yr;i<o.length;i++)Om(o[i],n)}function jw(t,n,o){Om(Gn(n,t),o)}function Om(t,n){Bn(t)&&Hd(t,n)}function Hd(t,n){const i=t[Tn],g=t[Fn],M=t[ko];let U=!!(0===n&&16&g);if(U||(U=!!(64&g&&0===n)),U||(U=!!(1024&g)),U||(U=!(null==M||!M.dirty||!m(M))),M&&(M.dirty=!1),t[Fn]&=-9217,U)Tw(i,t,i.template,t[lr]);else if(8192&g){Am(t,1);const te=i.components;null!==te&&jm(t,te,1)}}function jm(t,n,o){for(let i=0;i<n.length;i++)jw(t,n[i],o)}function il(t){var n;for(null===(n=t[$r].changeDetectionScheduler)||void 0===n||n.notify();t;){t[Fn]|=64;const o=Pr(t);if(Xo(t)&&!o)return t;t=o}return null}class sl{get rootNodes(){const n=this._lView,o=n[Tn];return ol(o,n,o.firstChild,[])}constructor(n,o,i=!0){this._lView=n,this._cdRefInjectingView=o,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[lr]}set context(n){this._lView[lr]=n}get destroyed(){return 256==(256&this._lView[Fn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[dr];if(Hr(n)){const o=n[8],i=o?o.indexOf(this):-1;i>-1&&(Qa(n,i),ka(o,i))}this._attachedToViewContainer=!1}Eu(this._lView[Tn],this._lView)}onDestroy(n){Dr(this._lView,n)}markForCheck(){il(this._cdRefInjectingView||this._lView)}detach(){this._lView[Fn]&=-129}reattach(){fo(this._lView),this._lView[Fn]|=128}detectChanges(){this._lView[Fn]|=1024,Au(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,qp(this._lView[Tn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ye(902,!1);this._appRef=n,fo(this._lView)}}let al=(()=>{class n{}return n.__NG_ELEMENT_ID__=Rw,n})();const Pw=al,kw=class extends Pw{constructor(n,o,i){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=i}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,i){const g=function nl(t,n,o,i){const g=C(null);try{var M,U;const te=n.tView,Fe=Mu(t,te,o,4096&t[Fn]?4096:16,null,n,null,null,null,null!==(M=null==i?void 0:i.injector)&&void 0!==M?M:null,null!==(U=null==i?void 0:i.dehydratedView)&&void 0!==U?U:null);Fe[So]=t[n.index];const ht=t[ho];return null!==ht&&(Fe[ho]=ht.createEmbeddedView(te)),$d(te,Fe,o),Fe}finally{C(g)}}(this._declarationLView,this._declarationTContainer,n,{injector:o,dehydratedView:i});return new sl(g)}};function Rw(){return Ou(Ar(),hn())}function Ou(t,n){return 4&t.type?new kw(n,t,gi(t,n)):null}class Um{}class rE{}class Bm{}class iE{resolveComponentFactory(n){throw function oE(t){const n=Error(`No component factory found for ${je(t)}.`);return n.ngComponent=t,n}(n)}}let Nu=(()=>{class n{}return n.NULL=new iE,n})();class $m{}let sE=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function aE(){const t=hn(),o=Gn(Ar().index,t);return(Vr(o)?o:t)[qn]}(),n})(),lE=(()=>{var t;class n{}return(t=n).\u0275prov=Lr({token:t,providedIn:"root",factory:()=>null}),n})();const Kd={};let Lu=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=cE,t.__NG_ENV_ID__=o=>o,n})();class uE extends Lu{constructor(n){super(),this._lView=n}onDestroy(n){return Dr(this._lView,n),()=>function mr(t,n){if(null===t[Po])return;const o=t[Po].indexOf(n);-1!==o&&t[Po].splice(o,1)}(this._lView,n)}}function cE(){return new uE(hn())}const Vm=new Set;function wi(t){var n,o;Vm.has(t)||(Vm.add(t),null===(n=performance)||void 0===n||null===(o=n.mark)||void 0===o||o.call(n,"mark_feature_usage",{detail:{feature:t}}))}function Hm(...t){}class io{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new dn(!1),this.onMicrotaskEmpty=new dn(!1),this.onStable=new dn(!1),this.onError=new dn(!1),typeof Zone>"u")throw new Ye(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!i&&o,g.shouldCoalesceRunChangeDetection=i,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function dE(){const t="function"==typeof Sn.requestAnimationFrame;let n=Sn[t?"requestAnimationFrame":"setTimeout"],o=Sn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&o){const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);const g=o[Zone.__symbol__("OriginalDelegate")];g&&(o=g)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function pE(t){const n=()=>{!function hE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Sn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Zd(t),t.isCheckStableRunning=!0,Jd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Zd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,i,g,M,U,te)=>{if(function mE(t){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(te))return o.invokeTask(g,M,U,te);try{return Wm(t),o.invokeTask(g,M,U,te)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===M.type||t.shouldCoalesceRunChangeDetection)&&n(),zm(t)}},onInvoke:(o,i,g,M,U,te,ue)=>{try{return Wm(t),o.invoke(g,M,U,te,ue)}finally{t.shouldCoalesceRunChangeDetection&&n(),zm(t)}},onHasTask:(o,i,g,M)=>{o.hasTask(g,M),i===g&&("microTask"==M.change?(t._hasPendingMicrotasks=M.microTask,Zd(t),Jd(t)):"macroTask"==M.change&&(t.hasPendingMacrotasks=M.macroTask))},onHandleError:(o,i,g,M)=>(o.handleError(g,M),t.runOutsideAngular(()=>t.onError.emit(M)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!io.isInAngularZone())throw new Ye(909,!1)}static assertNotInAngularZone(){if(io.isInAngularZone())throw new Ye(909,!1)}run(n,o,i){return this._inner.run(n,o,i)}runTask(n,o,i,g){const M=this._inner,U=M.scheduleEventTask("NgZoneEvent: "+g,n,fE,Hm,Hm);try{return M.runTask(U,o,i)}finally{M.cancelTask(U)}}runGuarded(n,o,i){return this._inner.runGuarded(n,o,i)}runOutsideAngular(n){return this._outer.run(n)}}const fE={};function Jd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Zd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Wm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zm(t){t._nesting--,Jd(t)}class qm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new dn,this.onMicrotaskEmpty=new dn,this.onStable=new dn,this.onError=new dn}run(n,o,i){return n.apply(o,i)}runGuarded(n,o,i){return n.apply(o,i)}runOutsideAngular(n){return n()}runTask(n,o,i,g){return n.apply(o,i)}}var ds=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ds||{});const Ym={destroy(){}};function Xm(t,n){var o,i,g;!n&&function nu(t){if(!Oh()&&!function Ob(){return Os}())throw new Ye(-203,!1)}();const M=null!==(o=null==n?void 0:n.injector)&&void 0!==o?o:br(ti);if(!function Hi(t){return"browser"===(null!=t?t:br(ti)).get(it)}(M))return Ym;wi("NgAfterNextRender");const U=M.get(fl),te=null!==(i=U.handler)&&void 0!==i?i:U.handler=new Jm,ue=null!==(g=null==n?void 0:n.phase)&&void 0!==g?g:ds.MixedReadWrite,Ee=()=>{te.unregister(ze),Fe()},Fe=M.get(Lu).onDestroy(Ee),ze=new Km(M,ue,()=>{Ee(),t()});return te.register(ze),{destroy:Ee}}class Km{constructor(n,o,i){this.phase=o,this.callbackFn=i,this.zone=n.get(io),this.errorHandler=n.get(Vi,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(o){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(o)}}}class Jm{constructor(){this.executingCallbacks=!1,this.buckets={[ds.EarlyRead]:new Set,[ds.Write]:new Set,[ds.MixedReadWrite]:new Set,[ds.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const o of n)o.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let fl=(()=>{var t;class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var i;this.executeInternalCallbacks(),null===(i=this.handler)||void 0===i||i.execute()}executeInternalCallbacks(){const i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const g of i)g()}ngOnDestroy(){var i;null===(i=this.handler)||void 0===i||i.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=Lr({token:t,providedIn:"root",factory:()=>new t}),n})();function Wi(t){return!!Xn(t)}function Uu(t,n,o){let i=o?t.styles:null,g=o?t.classes:null,M=0;if(null!==n)for(let U=0;U<n.length;U++){const te=n[U];"number"==typeof te?M=te:1==M?g=Ue(g,te):2==M&&(i=Ue(i,te+": "+n[++U]+";"))}o?t.styles=i:t.stylesWithoutHost=i,o?t.classes=g:t.classesWithoutHost=g}class eg extends Nu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=Jt(n);return new ml(o,this.ngModule)}}function tg(t){const n=[];for(const o in t){if(!t.hasOwnProperty(o))continue;const i=t[o];void 0!==i&&n.push({propName:Array.isArray(i)?i[0]:i,templateName:o})}return n}class wE{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,i){i=$l(i);const g=this.injector.get(n,Kd,i);return g!==Kd||o===Kd?g:this.parentInjector.get(n,o,i)}}class ml extends Bm{get inputs(){const n=this.componentDef,o=n.inputTransforms,i=tg(n.inputs);if(null!==o)for(const g of i)o.hasOwnProperty(g.propName)&&(g.transform=o[g.propName]);return i}get outputs(){return tg(this.componentDef.outputs)}constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function We(t){return t.map(Ae).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}create(n,o,i,g){const M=C(null);try{var te;let ue=(g=g||this.ngModule)instanceof di?g:null===(te=g)||void 0===te?void 0:te.injector;ue&&null!==this.componentDef.getStandaloneInjector&&(ue=this.componentDef.getStandaloneInjector(ue)||ue);const Ee=ue?new wE(n,ue):n,Fe=Ee.get($m,null);if(null===Fe)throw new Ye(407,!1);const ze=Ee.get(lE,null),Qt={rendererFactory:Fe,sanitizer:ze,inlineEffectRunner:null,afterRenderEventManager:Ee.get(fl,null),changeDetectionScheduler:Ee.get(Um,null)},pn=Fe.createRenderer(null,this.componentDef),Mn=this.componentDef.selectors[0][0]||"div",jn=i?function J1(t,n,o,i){const M=i.get(bp,!1)||o===bn.ShadowDom,U=t.selectRootElement(n,M);return function Z1(t){hm(t)}(U),U}(pn,i,this.componentDef.encapsulation,Ee):wu(pn,Mn,function _E(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Mn));let vn=512;this.componentDef.signals?vn|=4096:this.componentDef.onPush||(vn|=16);let Jn=null;null!==jn&&(Jn=Bc(jn,Ee,!0));const cr=Nd(0,null,null,1,0,null,null,null,null,null,null),pr=Mu(null,cr,null,vn,null,null,Qt,pn,Ee,null,Jn);let Io,vs;Ir(pr);try{const Ji=this.componentDef;let Sa,Ch=null;Ji.findHostDirectiveDefs?(Sa=[],Ch=new Map,Ji.findHostDirectiveDefs(Ji,Sa,Ch),Sa.push(Ji)):Sa=[Ji];const VM=function xE(t,n){const o=t[Tn],i=Yn;return t[i]=n,Js(o,i,2,"#host",null)}(pr,jn),HM=function CE(t,n,o,i,g,M,U){const te=g[Tn];!function SE(t,n,o,i){for(const g of t)n.mergedAttrs=_n(n.mergedAttrs,g.hostAttrs);null!==n.mergedAttrs&&(Uu(n,n.mergedAttrs,!0),null!==o&&sm(i,o,n))}(i,t,n,U);let ue=null;null!==n&&(ue=Bc(n,g[gr]));const Ee=M.rendererFactory.createRenderer(n,o);let Fe=16;o.signals?Fe=4096:o.onPush&&(Fe=64);const ze=Mu(g,fm(o),null,Fe,g[t.index],t,M,Ee,null,null,ue);return te.firstCreatePass&&Fd(te,t,i.length-1),Iu(g,ze),g[t.index]=ze}(VM,jn,Ji,Sa,pr,Qt,pn);vs=Kt(cr,Yn),jn&&function ME(t,n,o,i){if(i)ot(t,o,["ng-version","17.2.4"]);else{const{attrs:g,classes:M}=function Dt(t){const n=[],o=[];let i=1,g=2;for(;i<t.length;){let M=t[i];if("string"==typeof M)2===g?""!==M&&n.push(M,t[++i]):8===g&&o.push(M);else{if(!at(g))break;g=M}i++}return{attrs:n,classes:o}}(n.selectors[0]);g&&ot(t,o,g),M&&M.length>0&&im(t,o,M.join(" "))}}(pn,Ji,jn,i),void 0!==o&&function IE(t,n,o){const i=t.projection=[];for(let g=0;g<n.length;g++){const M=o[g];i.push(null!=M?Array.from(M):null)}}(vs,this.ngContentSelectors,o),Io=function DE(t,n,o,i,g,M){const U=Ar(),te=g[Tn],ue=on(U,g);gm(te,g,U,o,null,i);for(let Fe=0;Fe<o.length;Fe++)jo(as(g,te,U.directiveStart+Fe,U),g);ym(te,g,U),ue&&jo(ue,g);const Ee=as(g,te,U.directiveStart+U.componentOffset,U);if(t[lr]=g[lr]=Ee,null!==M)for(const Fe of M)Fe(Ee,n);return Pd(te,U,g),Ee}(HM,Ji,Sa,Ch,pr,[TE]),$d(cr,pr,null)}finally{ei()}return new EE(this.componentType,Io,gi(vs,pr),pr,vs)}finally{C(M)}}}class EE extends rE{constructor(n,o,i,g,M){super(),this.location=i,this._rootLView=g,this._tNode=M,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new sl(g,void 0,!1),this.componentType=n}setInput(n,o){const i=this._tNode.inputs;let g;if(null!==i&&(g=i[n])){var M;if(null!==(M=this.previousInputValues)&&void 0!==M||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),o))return;const U=this._rootLView;Gd(U[Tn],U,g,n,o),this.previousInputValues.set(n,o),il(Gn(this._tNode.index,U))}}get injector(){return new bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function TE(){const t=Ar();ou(hn()[Tn],t)}let Bu=(()=>{class n{}return n.__NG_ELEMENT_ID__=AE,n})();function AE(){return og(Ar(),hn())}const OE=Bu,ng=class extends OE{constructor(n,o,i){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=i}get element(){return gi(this._hostTNode,this._hostLView)}get injector(){return new bo(this._hostTNode,this._hostLView)}get parentInjector(){const n=uu(this._hostTNode,this._hostLView);if(od(n)){const o=Xa(n,this._hostLView),i=Ya(n);return new bo(o[Tn].data[i+8],o)}return new bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=rg(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-yr}createEmbeddedView(n,o,i){let g,M;"number"==typeof i?g=i:null!=i&&(g=i.index,M=i.injector);const te=n.createEmbeddedViewImpl(o||{},M,null);return this.insertImpl(te,g,Zs(this._hostTNode,null)),te}createComponent(n,o,i,g,M){var U,ue;const Ee=n&&!function za(t){return"function"==typeof t}(n);let Fe;if(Ee)Fe=o;else{const jn=o||{};Fe=jn.index,i=jn.injector,g=jn.projectableNodes,M=jn.environmentInjector||jn.ngModuleRef}const ze=Ee?n:new ml(Jt(n)),ht=i||this.parentInjector;if(!M&&null==ze.ngModule){const vn=(Ee?ht:this.parentInjector).get(di,null);vn&&(M=vn)}const jt=Jt(null!==(U=ze.componentType)&&void 0!==U?U:{}),Qt=(null==jt?void 0:jt.id,null),pn=null!==(ue=null==Qt?void 0:Qt.firstChild)&&void 0!==ue?ue:null,Mn=ze.create(ht,g,pn,M);return this.insertImpl(Mn.hostView,Fe,Zs(this._hostTNode,Qt)),Mn}insert(n,o){return this.insertImpl(n,o,!0)}insertImpl(n,o,i){const g=n._lView;if(function Qn(t){return Hr(t[dr])}(g)){const te=this.indexOf(n);if(-1!==te)this.detach(te);else{const ue=g[dr],Ee=new ng(ue,ue[_r],ue[dr]);Ee.detach(Ee.indexOf(n))}}const M=this._adjustIndex(o),U=this._lContainer;return rl(U,g,M,i),n.attachToViewContainerRef(),xc(nf(U),M,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=rg(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),i=Qa(this._lContainer,o);i&&(ka(nf(this._lContainer),o),Eu(i[Tn],i))}detach(n){const o=this._adjustIndex(n,-1),i=Qa(this._lContainer,o);return i&&null!=ka(nf(this._lContainer),o)?new sl(i):null}_adjustIndex(n,o=0){return null==n?this.length+o:n}};function rg(t){return t[8]}function nf(t){return t[8]||(t[8]=[])}function og(t,n){let o;const i=n[t.index];return Hr(i)?o=i:(o=vm(i,n,null,t),n[t.index]=o,Iu(n,o)),ig(o,n,t,i),new ng(o,t,n)}let ig=function ag(t,n,o,i){if(t[co])return;let g;g=8&o.type?mt(i):function jE(t,n){const o=t[qn],i=o.createComment(""),g=on(n,t);return cs(o,xu(o,g),i,function H1(t,n){return t.nextSibling(n)}(o,g),!1),i}(n,o),t[co]=g},rf=()=>!1;class sf{constructor(n){this.queryList=n,this.matches=null}clone(){return new sf(this.queryList)}setDirty(){this.queryList.setDirty()}}class af{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const i=null!==n.contentQueries?n.contentQueries[0]:o.length,g=[];for(let M=0;M<i;M++){const U=o.getByIndex(M);g.push(this.queries[U.indexInDeclarationView].clone())}return new af(g)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==ff(n,o).matches&&this.queries[o].setDirty()}}class lg{constructor(n,o,i=null){this.flags=o,this.read=i,this.predicate="string"==typeof n?function BE(t){return t.split(",").map(n=>n.trim())}(n):n}}class lf{constructor(n=[]){this.queries=n}elementStart(n,o){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let i=0;i<this.length;i++){const g=null!==o?o.length:0,M=this.getByIndex(i).embeddedTView(n,g);M&&(M.indexInDeclarationView=i,null!==o?o.push(M):o=[M])}return null!==o?new lf(o):null}template(n,o){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class uf{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new uf(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==o;)i=i.parent;return o===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const i=this.metadata.predicate;if(Array.isArray(i))for(let g=0;g<i.length;g++){const M=i[g];this.matchTNodeWithReadOption(n,o,NE(o,M)),this.matchTNodeWithReadOption(n,o,cu(o,n,M,!1,!1))}else i===al?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,cu(o,n,i,!1,!1))}matchTNodeWithReadOption(n,o,i){if(null!==i){const g=this.metadata.read;if(null!==g)if(g===Ui||g===Bu||g===al&&4&o.type)this.addMatch(o.index,-2);else{const M=cu(o,n,g,!1,!1);null!==M&&this.addMatch(o.index,M)}else this.addMatch(o.index,i)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function NE(t,n){const o=t.localNames;if(null!==o)for(let i=0;i<o.length;i+=2)if(o[i]===n)return o[i+1];return null}function FE(t,n,o,i){return-1===o?function LE(t,n){return 11&t.type?gi(t,n):4&t.type?Ou(t,n):null}(n,t):-2===o?function UE(t,n,o){return o===Ui?gi(n,t):o===al?Ou(n,t):o===Bu?og(n,t):void 0}(t,n,i):as(t,t[Tn],o,n)}function ug(t,n,o,i){const g=n[ho].queries[i];if(null===g.matches){const M=t.data,U=o.matches,te=[];for(let ue=0;null!==U&&ue<U.length;ue+=2){const Ee=U[ue];te.push(Ee<0?null:FE(n,M[Ee],U[ue+1],o.metadata.read))}g.matches=te}return g.matches}function cf(t,n,o,i){const g=t.queries.getByIndex(o),M=g.matches;if(null!==M){const U=ug(t,n,g,o);for(let te=0;te<M.length;te+=2){const ue=M[te];if(ue>0)i.push(U[te/2]);else{const Ee=M[te+1],Fe=n[-ue];for(let ze=yr;ze<Fe.length;ze++){const ht=Fe[ze];ht[So]===ht[dr]&&cf(ht[Tn],ht,Ee,i)}if(null!==Fe[No]){const ze=Fe[No];for(let ht=0;ht<ze.length;ht++){const jt=ze[ht];cf(jt[Tn],jt,Ee,i)}}}}}return i}function cg(t,n,o){var i;const g=new Ul(4==(4&o));return function tw(t,n,o,i){const g=_m(n);g.push(o),t.firstCreatePass&&wm(t).push(i,g.length-1)}(t,n,g,g.destroy),(null!==(i=n[ho])&&void 0!==i?i:n[ho]=new af).queries.push(new sf(g))-1}function hg(t,n,o){null===t.queries&&(t.queries=new lf),t.queries.track(new uf(n,o))}function ff(t,n){return t.queries.getByIndex(n)}function pg(t,n){const o=t[Tn],i=ff(o,n);return i.crossesNgTemplate?cf(o,t,n,[]):ug(o,t,i,n)}function yg(t){return function mg(t){return"function"==typeof t&&void 0!==t[H]}(t)&&"function"==typeof t.set}function pf(t){let n=function Ig(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const i=[t];for(;n;){let g;if(Do(t))g=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ye(903,!1);g=n.\u0275dir}if(g){if(o){i.push(g);const U=t;U.inputs=$u(t.inputs),U.inputTransforms=$u(t.inputTransforms),U.declaredInputs=$u(t.declaredInputs),U.outputs=$u(t.outputs);const te=g.hostBindings;te&&nx(t,te);const ue=g.viewQuery,Ee=g.contentQueries;if(ue&&ex(t,ue),Ee&&tx(t,Ee),ZE(t,g),oe(t.outputs,g.outputs),Do(g)&&g.data.animation){const Fe=t.data;Fe.animation=(Fe.animation||[]).concat(g.data.animation)}}const M=g.features;if(M)for(let U=0;U<M.length;U++){const te=M[U];te&&te.ngInherit&&te(t),te===pf&&(o=!1)}}n=Object.getPrototypeOf(n)}!function QE(t){let n=0,o=null;for(let i=t.length-1;i>=0;i--){const g=t[i];g.hostVars=n+=g.hostVars,g.hostAttrs=_n(g.hostAttrs,o=_n(o,g.hostAttrs))}}(i)}function ZE(t,n){for(const i in n.inputs){if(!n.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;const g=n.inputs[i];if(void 0!==g&&(t.inputs[i]=g,t.declaredInputs[i]=n.declaredInputs[i],null!==n.inputTransforms)){var o;const M=Array.isArray(g)?g[0]:g;if(!n.inputTransforms.hasOwnProperty(M))continue;null!==(o=t.inputTransforms)&&void 0!==o||(t.inputTransforms={}),t.inputTransforms[M]=n.inputTransforms[M]}}}function $u(t){return t===zn?{}:t===Ln?[]:t}function ex(t,n){const o=t.viewQuery;t.viewQuery=o?(i,g)=>{n(i,g),o(i,g)}:n}function tx(t,n){const o=t.contentQueries;t.contentQueries=o?(i,g,M)=>{n(i,g,M),o(i,g,M)}:n}function nx(t,n){const o=t.hostBindings;t.hostBindings=o?(i,g)=>{n(i,g),o(i,g)}:n}function jg(t){const n=t.inputConfig,o={};for(const i in n)if(n.hasOwnProperty(i)){const g=n[i];Array.isArray(g)&&g[3]&&(o[i]=g[3])}t.inputTransforms=o}class fs{}class Pg{}function lx(t,n){return new mf(t,null!=n?n:null,[])}class mf extends fs{constructor(n,o,i){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eg(this);const g=Xn(n);this._bootstrapComponents=ni(g.bootstrap),this._r3Injector=mp(n,o,[{provide:fs,useValue:this},{provide:Nu,useValue:this.componentFactoryResolver},...i],je(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class gf extends Pg{constructor(n){super(),this.moduleType=n}create(n){return new mf(this.moduleType,n,[])}}class kg extends fs{constructor(n){super(),this.componentFactoryResolver=new eg(this),this.instance=null;const o=new Bs([...n.providers,{provide:fs,useValue:this},{provide:Nu,useValue:this.componentFactoryResolver}],n.parent||tu(),n.debugName,new Set(["environment"]));this.injector=o,n.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function yf(t,n,o=null){return new kg({providers:t,parent:n,debugName:o,runEnvironmentInitializers:!0}).injector}let ta=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $e.g(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function Hu(t){return!!vf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function vf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function so(t,n,o){return!Object.is(t[n],o)&&(t[n]=o,!0)}function na(t,n,o,i,g,M,U,te){const ue=hn(),Ee=fr(),Fe=t+Yn,ze=Ee.firstCreatePass?function mx(t,n,o,i,g,M,U,te,ue){const Ee=n.consts,Fe=Js(n,t,4,U||null,er(Ee,te));Ld(n,o,Fe,er(Ee,ue)),ou(n,Fe);const ze=Fe.tView=Nd(2,Fe,i,g,M,n.directiveRegistry,n.pipeRegistry,null,n.schemas,Ee,null);return null!==n.queries&&(n.queries.template(n,Fe),ze.queries=n.queries.embeddedTView(Fe)),Fe}(Fe,Ee,ue,n,o,i,g,M,U):Ee.data[Fe];Zo(ze,!1);const ht=Rg(Ee,ue,ze,t);Ss()&&Cu(Ee,ue,ht,ze),jo(ht,ue);const jt=vm(ht,ue,ht,ze);return ue[Fe]=jt,Iu(ue,jt),function sg(t,n,o){return rf(t,n,o)}(jt,ze,ue),Rn(ze)&&kd(Ee,ue,ze),null!=U&&Rd(ue,ze,te),na}let Rg=function Ng(t,n,o,i){return Ti(!0),n[qn].createComment("")};function If(t,n,o,i){const g=hn();return so(g,ce(),n)&&(fr(),_i(sr(),g,t,n,o,i)),If}function ca(t,n,o,i){return so(t,ce(),o)?n+ar(o)+i:ur}function Ju(t,n){return t<<17|n<<2}function Yi(t){return t>>17&32767}function Tf(t){return 2|t}function ms(t){return(131068&t)>>2}function Af(t,n){return-131069&t|n<<2}function Of(t){return 1|t}function hy(t,n,o,i){const g=t[o+1],M=null===n;let U=i?Yi(g):ms(g),te=!1;for(;0!==U&&(!1===te||M);){const Ee=t[U+1];Qx(t[U],n)&&(te=!0,t[U+1]=i?Of(Ee):Tf(Ee)),U=i?Yi(Ee):ms(Ee)}te&&(t[o+1]=i?Tf(g):Of(g))}function Qx(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ai(t,n)>=0}const _o={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function py(t){return t.substring(_o.key,_o.keyEnd)}function eC(t){return t.substring(_o.value,_o.valueEnd)}function gy(t,n){const o=_o.textEnd;let i=_o.key=va(t,n,o);return o===i?-1:(i=_o.keyEnd=function oC(t,n,o){let i;for(;n<o&&(45===(i=t.charCodeAt(n))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)n++;return n}(t,i,o),i=vy(t,i,o),i=_o.value=va(t,i,o),i=_o.valueEnd=function iC(t,n,o){let i=-1,g=-1,M=-1,U=n,te=U;for(;U<o;){const ue=t.charCodeAt(U++);if(59===ue)return te;34===ue||39===ue?te=U=by(t,ue,U,o):n===U-4&&85===M&&82===g&&76===i&&40===ue?te=U=by(t,41,U,o):ue>32&&(te=U),M=g,g=i,i=-33&ue}return te}(t,i,o),vy(t,i,o))}function va(t,n,o){for(;n<o&&t.charCodeAt(n)<=32;)n++;return n}function vy(t,n,o,i){return(n=va(t,n,o))<o&&n++,n}function by(t,n,o,i){let g=-1,M=o;for(;M<i;){const U=t.charCodeAt(M++);if(U==n&&92!==g)return M;g=92==U&&92===g?0:U}throw new Error}function jf(t,n,o){const i=hn();return so(i,ce(),n)&&Ho(fr(),sr(),i,t,n,i[qn],o,!1),jf}function Pf(t,n,o,i,g){const U=g?"class":"style";Gd(t,o,n.inputs[U],U,i)}function kf(t,n){return function hi(t,n,o,i){const g=hn(),M=fr(),U=Ie(2);M.firstUpdatePass&&Ey(M,t,U,i),n!==ur&&so(g,U,n)&&Cy(M,M.data[zr()],g,g[qn],t,g[U+1]=function mC(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=je(Ri(t)))),t}(n,o),i,U)}(t,n,null,!0),kf}function fi(t){!function pi(t,n,o,i){const g=fr(),M=Ie(2);g.firstUpdatePass&&Ey(g,null,M,i);const U=hn();if(o!==ur&&so(U,M,o)){const te=g.data[zr()];if(Dy(te,i)&&!wy(g,M)){let ue=i?te.classesWithoutHost:te.stylesWithoutHost;null!==ue&&(o=Ue(ue,o||"")),Pf(g,te,U,o,i)}else!function pC(t,n,o,i,g,M,U,te){g===ur&&(g=Ln);let ue=0,Ee=0,Fe=0<g.length?g[0]:null,ze=0<M.length?M[0]:null;for(;null!==Fe||null!==ze;){const ht=ue<g.length?g[ue+1]:void 0,jt=Ee<M.length?M[Ee+1]:void 0;let pn,Qt=null;Fe===ze?(ue+=2,Ee+=2,ht!==jt&&(Qt=ze,pn=jt)):null===ze||null!==Fe&&Fe<ze?(ue+=2,Qt=Fe):(Ee+=2,Qt=ze,pn=jt),null!==Qt&&Cy(t,n,o,i,Qt,pn,U,te),Fe=ue<g.length?g[ue]:null,ze=Ee<M.length?M[Ee]:null}}(g,te,U,U[qn],U[M+1],U[M+1]=function fC(t,n,o){if(null==o||""===o)return Ln;const i=[],g=Ri(o);if(Array.isArray(g))for(let M=0;M<g.length;M++)t(i,g[M],!0);else if("object"==typeof g)for(const M in g)g.hasOwnProperty(M)&&t(i,M,g[M]);else"string"==typeof g&&n(i,g);return i}(t,n,o),i,M)}}(xy,sC,t,!1)}function sC(t,n){for(let o=function nC(t){return function yy(t){_o.key=0,_o.keyEnd=0,_o.value=0,_o.valueEnd=0,_o.textEnd=t.length}(t),gy(t,va(t,0,_o.textEnd))}(n);o>=0;o=gy(n,o))xy(t,py(n),eC(n))}function wy(t,n){return n>=t.expandoStartIndex}function Ey(t,n,o,i){const g=t.data;if(null===g[o+1]){const M=g[zr()],U=wy(t,o);Dy(M,i)&&null===n&&!U&&(n=!1),n=function lC(t,n,o,i){const g=function In(t){const n=Nn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let M=i?n.residualClasses:n.residualStyles;if(null===g)0===(i?n.classBindings:n.styleBindings)&&(o=wl(o=Rf(null,t,n,o,i),n.attrs,i),M=null);else{const U=n.directiveStylingLast;if(-1===U||t[U]!==g)if(o=Rf(g,t,n,o,i),null===M){let ue=function uC(t,n,o){const i=o?n.classBindings:n.styleBindings;if(0!==ms(i))return t[Yi(i)]}(t,n,i);void 0!==ue&&Array.isArray(ue)&&(ue=Rf(null,t,n,ue[1],i),ue=wl(ue,n.attrs,i),function cC(t,n,o,i){t[Yi(o?n.classBindings:n.styleBindings)]=i}(t,n,i,ue))}else M=function dC(t,n,o){let i;const g=n.directiveEnd;for(let M=1+n.directiveStylingLast;M<g;M++)i=wl(i,t[M].hostAttrs,o);return wl(i,n.attrs,o)}(t,n,i)}return void 0!==M&&(i?n.residualClasses=M:n.residualStyles=M),o}(g,M,n,i),function Jx(t,n,o,i,g,M){let U=M?n.classBindings:n.styleBindings,te=Yi(U),ue=ms(U);t[i]=o;let Fe,Ee=!1;if(Array.isArray(o)?(Fe=o[1],(null===Fe||Ai(o,Fe)>0)&&(Ee=!0)):Fe=o,g)if(0!==ue){const ht=Yi(t[te+1]);t[i+1]=Ju(ht,te),0!==ht&&(t[ht+1]=Af(t[ht+1],i)),t[te+1]=function Xx(t,n){return 131071&t|n<<17}(t[te+1],i)}else t[i+1]=Ju(te,0),0!==te&&(t[te+1]=Af(t[te+1],i)),te=i;else t[i+1]=Ju(ue,0),0===te?te=i:t[ue+1]=Af(t[ue+1],i),ue=i;Ee&&(t[i+1]=Tf(t[i+1])),hy(t,Fe,i,!0),hy(t,Fe,i,!1),function Zx(t,n,o,i,g){const M=g?t.residualClasses:t.residualStyles;null!=M&&"string"==typeof n&&Ai(M,n)>=0&&(o[i+1]=Of(o[i+1]))}(n,Fe,t,i,M),U=Ju(te,ue),M?n.classBindings=U:n.styleBindings=U}(g,M,n,o,U,i)}}function Rf(t,n,o,i,g){let M=null;const U=o.directiveEnd;let te=o.directiveStylingLast;for(-1===te?te=o.directiveStart:te++;te<U&&(M=n[te],i=wl(i,M.hostAttrs,g),M!==t);)te++;return null!==t&&(o.directiveStylingLast=te),i}function wl(t,n,o){const i=o?1:2;let g=-1;if(null!==n)for(let M=0;M<n.length;M++){const U=n[M];"number"==typeof U?g=U:g===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Lo(t,U,!!o||n[++M]))}return void 0===t?null:t}function xy(t,n,o){Lo(t,n,Ri(o))}function Cy(t,n,o,i,g,M,U,te){if(!(3&n.type))return;const ue=t.data,Ee=ue[te+1],Fe=function Kx(t){return 1==(1&t)}(Ee)?Sy(ue,n,o,g,ms(Ee),U):void 0;Zu(Fe)||(Zu(M)||function Yx(t){return 2==(2&t)}(Ee)&&(M=Sy(ue,null,o,g,te,U)),function q1(t,n,o,i,g){if(n)g?t.addClass(o,i):t.removeClass(o,i);else{let M=-1===i.indexOf("-")?void 0:bu.DashCase;null==g?t.removeStyle(o,i,M):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),M|=bu.Important),t.setStyle(o,i,g,M))}}(i,U,en(zr(),o),g,M))}function Sy(t,n,o,i,g,M){const U=null===n;let te;for(;g>0;){const ue=t[g],Ee=Array.isArray(ue),Fe=Ee?ue[1]:ue,ze=null===Fe;let ht=o[g+1];ht===ur&&(ht=ze?Ln:void 0);let jt=ze?Fl(ht,i):Fe===i?ht:void 0;if(Ee&&!Zu(jt)&&(jt=Fl(ue,i)),Zu(jt)&&(te=jt,U))return te;const Qt=t[g+1];g=U?Yi(Qt):ms(Qt)}if(null!==n){let ue=M?n.residualClasses:n.residualStyles;null!=ue&&(te=Fl(ue,i))}return te}function Zu(t){return void 0!==t}function Dy(t,n){return 0!=(t.flags&(n?8:16))}function Qu(t,n,o,i){const g=hn(),M=fr(),U=Yn+t,te=g[qn],ue=M.firstCreatePass?function FC(t,n,o,i,g,M){const U=n.consts,ue=Js(n,t,2,i,er(U,g));return Ld(n,o,ue,er(U,M)),null!==ue.attrs&&Uu(ue,ue.attrs,!1),null!==ue.mergedAttrs&&Uu(ue,ue.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,ue),ue}(U,M,g,n,o,i):M.data[U],Ee=Ay(M,g,ue,te,n,t);g[U]=Ee;const Fe=Rn(ue);return Zo(ue,!0),sm(te,Ee,ue),32!=(32&ue.flags)&&Ss()&&Cu(M,g,Ee,ue),0===function no(){return Nn.lFrame.elementDepthCount}()&&jo(Ee,g),function Jo(){Nn.lFrame.elementDepthCount++}(),Fe&&(kd(M,g,ue),Pd(M,ue,g)),null!==i&&Rd(g,ue),Qu}function ec(){let t=Ar();ws()?Es():(t=t.parent,Zo(t,!1));const n=t;(function Da(t){return Nn.skipHydrationRootTNode===t})(n)&&function Ta(){Nn.skipHydrationRootTNode=null}(),function ci(){Nn.lFrame.elementDepthCount--}();const o=fr();return o.firstCreatePass&&(ou(o,t),xo(t)&&o.queries.elementEnd(t)),null!=n.classesWithoutHost&&function w_(t){return 0!=(8&t.flags)}(n)&&Pf(o,n,hn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function E_(t){return 0!=(16&t.flags)}(n)&&Pf(o,n,hn(),n.stylesWithoutHost,!1),ec}function Bf(t,n,o,i){return Qu(t,n,o,i),ec(),Bf}let Ay=(t,n,o,i,g,M)=>(Ti(!0),wu(i,g,function Nl(){return Nn.lFrame.currentNamespace}()));function Gf(t,n,o){const i=hn(),g=fr(),M=t+Yn,U=g.firstCreatePass?function GC(t,n,o,i,g){const M=n.consts,U=er(M,i),te=Js(n,t,8,"ng-container",U);return null!==U&&Uu(te,U,!0),Ld(n,o,te,er(M,g)),null!==n.queries&&n.queries.elementStart(n,te),te}(M,g,i,n,o):g.data[M];Zo(U,!0);const te=Oy(g,i,U,t);return i[M]=te,Ss()&&Cu(g,i,te,U),jo(te,i),Rn(U)&&(kd(g,i,U),Pd(g,U,i)),null!=o&&Rd(i,U),Gf}function $f(){let t=Ar();const n=fr();return ws()?Es():(t=t.parent,Zo(t,!1)),n.firstCreatePass&&(ou(n,t),xo(t)&&n.queries.elementEnd(t)),$f}function Vf(t,n,o){return Gf(t,n,o),$f(),Vf}let Oy=(t,n,o,i)=>(Ti(!0),Dd(n[qn],""));function jy(){return hn()}const gs=void 0;var WC=["en",[["a","p"],["AM","PM"],gs],[["AM","PM"],gs,gs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gs,"{1} 'at' {0}",gs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function HC(t){const o=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===i?1:5}];let ba={};function Hf(t){const n=function zC(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=Ny(n);if(o)return o;const i=n.split("-")[0];if(o=Ny(i),o)return o;if("en"===i)return WC;throw new Ye(701,!1)}function Ry(t){return Hf(t)[_a.PluralCase]}function Ny(t){return t in ba||(ba[t]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[t]),ba[t]}var _a=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(_a||{});const wa="en-US";let Ly=wa;function qf(t,n,o,i){const g=hn(),M=fr(),U=Ar();return Yf(M,g,g[qn],U,t,n,i),qf}function Yf(t,n,o,i,g,M,U){const te=Rn(i),Ee=t.firstCreatePass&&wm(t),Fe=n[lr],ze=_m(n);let ht=!0;if(3&i.type||U){const pn=on(i,n),Mn=U?U(pn):pn,jn=ze.length,vn=U?cr=>U(mt(cr[i.index])):i.index;let Jn=null;if(!U&&te&&(Jn=function BS(t,n,o,i){const g=t.cleanup;if(null!=g)for(let M=0;M<g.length-1;M+=2){const U=g[M];if(U===o&&g[M+1]===i){const te=n[uo],ue=g[M+2];return te.length>ue?te[ue]:null}"string"==typeof U&&(M+=2)}return null}(t,n,g,i.index)),null!==Jn)(Jn.__ngLastListenerFn__||Jn).__ngNextListenerFn__=M,Jn.__ngLastListenerFn__=M,ht=!1;else{M=cv(i,n,Fe,M,!1);const cr=o.listen(Mn,g,M);ze.push(M,cr),Ee&&Ee.push(g,vn,jn,jn+1)}}else M=cv(i,n,Fe,M,!1);const jt=i.outputs;let Qt;if(ht&&null!==jt&&(Qt=jt[g])){const pn=Qt.length;if(pn)for(let Mn=0;Mn<pn;Mn+=2){const pr=n[Qt[Mn]][Qt[Mn+1]].subscribe(M),Io=ze.length;ze.push(M,pr),Ee&&Ee.push(g,i.index,Io,"function"==typeof pr?Io+1:-(Io+1))}}}function uv(t,n,o,i){const g=C(null);try{return vi(6,n,o),!1!==o(i)}catch(M){return Tu(t,M),!1}finally{vi(7,n,o),C(g)}}function cv(t,n,o,i,g){return function M(U){if(U===Function)return i;il(t.componentOffset>-1?Gn(t.index,n):n);let ue=uv(n,o,i,U),Ee=M.__ngNextListenerFn__;for(;Ee;)ue=uv(n,o,Ee,U)&&ue,Ee=Ee.__ngNextListenerFn__;return g&&!1===ue&&U.preventDefault(),ue}}function dv(t=1){return function ii(t){return(Nn.lFrame.contextLView=function Qr(t,n){for(;t>0;)n=n[Eo],t--;return n}(t,Nn.lFrame.contextLView))[lr]}(t)}function GS(t,n){let o=null;const i=function st(t){const n=t.attrs;if(null!=n){const o=n.indexOf(5);if(!(1&o))return n[o+1]}return null}(t);for(let g=0;g<n.length;g++){const M=n[g];if("*"!==M){if(null===i?Ge(t,M,!0):An(i,M))return g}else o=g}return o}function fv(t){const n=hn()[Sr][_r];if(!n.projection){const i=n.projection=function Ra(t,n){const o=[];for(let i=0;i<t;i++)o.push(n);return o}(t?t.length:1,null),g=i.slice();let M=n.child;for(;null!==M;){const U=t?GS(M,t):0;null!==U&&(g[U]?g[U].projectionNext=M:i[U]=M,g[U]=M),M=M.next}}}function hv(t,n=0,o){const i=hn(),g=fr(),M=Js(g,Yn+t,16,null,o||null);null===M.projection&&(M.projection=n),Es(),(!i[Rr]||Mi())&&32!=(32&M.flags)&&function W1(t,n,o){om(n[qn],0,n,o,Id(t,o,n),Zp(o.parent||n[_r],o,n))}(g,i,M)}function ic(t,n,o,i,g){const M=hn(),U=ca(M,n,o,i);return U!==ur&&Ho(fr(),sr(),M,t,U,M[qn],g,!1),ic}function xv(t,n,o,i){!function fg(t,n,o,i){const g=fr();if(g.firstCreatePass){const M=Ar();hg(g,new lg(n,o,i),M.index),function GE(t,n){const o=t.contentQueries||(t.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,n)}(g,t),2==(2&o)&&(g.staticContentQueries=!0)}return cg(g,hn(),o)}(t,n,o,i)}function Cv(t,n,o){!function dg(t,n,o){const i=fr();return i.firstCreatePass&&(hg(i,new lg(t,n,o),-1),2==(2&n)&&(i.staticViewQueries=!0)),cg(i,hn(),n)}(t,n,o)}function Sv(t){const n=hn(),o=fr(),i=or();ir(i+1);const g=ff(o,i);if(t.dirty&&function $n(t){return 4==(4&t[Fn])}(n)===(2==(2&g.metadata.flags))){if(null===g.matches)t.reset([]);else{const M=pg(n,i);t.reset(M,Ec),t.notifyOnChanges()}return!0}return!1}function Dv(){return function df(t,n){return t[ho].queries[n].queryList}(hn(),or())}function Mv(t){return function Un(t,n){return t[n]}(function xs(){return Nn.lFrame.contextLView}(),Yn+t)}function Lv(t,n=""){const o=hn(),i=fr(),g=t+Yn,M=i.firstCreatePass?Js(i,g,1,n,null):i.data[g],U=Fv(i,o,M,n,t);o[g]=U,Ss()&&Cu(i,o,U,M),Zo(M,!1)}let Fv=(t,n,o,i,g)=>(Ti(!0),function _u(t,n){return t.createText(n)}(n[qn],i));function Xf(t){return sc("",t,""),Xf}function sc(t,n,o){const i=hn(),g=ca(i,t,n,o);return g!==ur&&function Li(t,n,o){const i=en(n,t);!function zp(t,n,o){t.setValue(n,o)}(t[qn],i,o)}(i,zr(),g),sc}function Kf(t,n,o){yg(n)&&(n=n());const i=hn();return so(i,ce(),n)&&Ho(fr(),sr(),i,t,n,i[qn],o,!1),Kf}function qv(t,n){const o=yg(t);return o&&t.set(n),o}function Jf(t,n){const o=hn(),i=fr(),g=Ar();return Yf(i,o,o[qn],g,t,n),Jf}function Zf(t,n,o,i,g){if(t=Vn(t),Array.isArray(t))for(let M=0;M<t.length;M++)Zf(t[M],n,o,i,g);else{const M=fr(),U=hn(),te=Ar();let ue=ss(t)?t:Vn(t.provide);const Ee=Wh(t),Fe=1048575&te.providerIndexes,ze=te.directiveStart,ht=te.providerIndexes>>20;if(ss(t)||!t.multi){const jt=new qa(Ee,g,Ks),Qt=eh(ue,n,g?Fe:Fe+ht,ze);-1===Qt?(ad(lu(te,U),M,ue),Qf(M,t,n.length),n.push(ue),te.directiveStart++,te.directiveEnd++,g&&(te.providerIndexes+=1048576),o.push(jt),U.push(jt)):(o[Qt]=jt,U[Qt]=jt)}else{const jt=eh(ue,n,Fe+ht,ze),Qt=eh(ue,n,Fe,Fe+ht),Mn=Qt>=0&&o[Qt];if(g&&!Mn||!g&&!(jt>=0&&o[jt])){ad(lu(te,U),M,ue);const jn=function sD(t,n,o,i,g){const M=new qa(t,o,Ks);return M.multi=[],M.index=n,M.componentProviders=0,Yv(M,g,i&&!o),M}(g?iD:oD,o.length,g,i,Ee);!g&&Mn&&(o[Qt].providerFactory=jn),Qf(M,t,n.length,0),n.push(ue),te.directiveStart++,te.directiveEnd++,g&&(te.providerIndexes+=1048576),o.push(jn),U.push(jn)}else Qf(M,t,jt>-1?jt:Qt,Yv(o[g?Qt:jt],Ee,!g&&i));!g&&i&&Mn&&o[Qt].componentProviders++}}}function Qf(t,n,o,i){const g=ss(n),M=function Xb(t){return!!t.useClass}(n);if(g||M){const ue=(M?Vn(n.useClass):n).prototype.ngOnDestroy;if(ue){const Ee=t.destroyHooks||(t.destroyHooks=[]);if(!g&&n.multi){const Fe=Ee.indexOf(o);-1===Fe?Ee.push(o,[i,ue]):Ee[Fe+1].push(i,ue)}else Ee.push(o,ue)}}}function Yv(t,n,o){return o&&t.componentProviders++,t.multi.push(n)-1}function eh(t,n,o,i){for(let g=o;g<i;g++)if(n[g]===t)return g;return-1}function oD(t,n,o,i){return th(this.multi,[])}function iD(t,n,o,i){const g=this.multi;let M;if(this.providerFactory){const U=this.providerFactory.componentProviders,te=as(o,o[Tn],this.providerFactory.index,i);M=te.slice(0,U),th(g,M);for(let ue=U;ue<te.length;ue++)M.push(te[ue])}else M=[],th(g,M);return M}function th(t,n){for(let o=0;o<t.length;o++)n.push((0,t[o])());return n}function Xv(t,n=[]){return o=>{o.providersResolver=(i,g)=>function rD(t,n,o){const i=fr();if(i.firstCreatePass){const g=Do(t);Zf(o,i.data,i.blueprint,g,!0),Zf(n,i.data,i.blueprint,g,!1)}}(i,g?g(t):t,n)}}let aD=(()=>{var t;class n{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const g=zc(0,i.type),M=g.length>0?yf([g],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,M)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=Lr({token:t,providedIn:"environment",factory:()=>new t(Oo(di))}),n})();function Kv(t){wi("NgStandalone"),t.getStandaloneInjector=n=>n.get(aD).getOrCreateStandaloneInjector(t)}function s0(t,n,o){const i=function Br(){const t=Nn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}()+t,g=hn();return g[i]===ur?function Ei(t,n,o){return t[n]=o}(g,i,o?n.call(o):n()):function yl(t,n){return t[n]}(g,i)}class M0{constructor(n){this.full=n;const o=n.split(".");this.major=o[0],this.minor=o[1],this.patch=o.slice(2).join(".")}}let I0=(()=>{var t;class n{log(i){console.log(i)}warn(i){console.warn(i)}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const j0=new be(""),P0=new be("");let uh,D2=(()=>{var t;class n{constructor(i,g,M){this._ngZone=i,this.registry=g,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,uh||(function M2(t){uh=t}(M),M.addToWindow(g)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{io.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(i)||(clearTimeout(g.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,g,M){let U=-1;g&&g>0&&(U=setTimeout(()=>{this._callbacks=this._callbacks.filter(te=>te.timeoutId!==U),i()},g)),this._callbacks.push({doneCb:i,timeoutId:U,updateCb:M})}whenStable(i,g,M){if(M&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,g,M),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,g,M){return[]}}return(t=n).\u0275fac=function(i){return new(i||t)(Oo(io),Oo(k0),Oo(P0))},t.\u0275prov=Lr({token:t,factory:t.\u0275fac}),n})(),k0=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(i,g){this._applications.set(i,g)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,g=!0){var M,U;return null!==(M=null===(U=uh)||void 0===U?void 0:U.findTestabilityInTree(this,i,g))&&void 0!==M?M:null}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function ch(t){return!!t&&"function"==typeof t.then}function R0(t){return!!t&&"function"==typeof t.subscribe}const N0=new be("");let dh=(()=>{var t;class n{constructor(){var i;this.initialized=!1,this.done=!1,this.donePromise=new Promise((g,M)=>{this.resolve=g,this.reject=M}),this.appInits=null!==(i=br(N0,{optional:!0}))&&void 0!==i?i:[]}runInitializers(){if(this.initialized)return;const i=[];for(const M of this.appInits){const U=M();if(ch(U))i.push(U);else if(R0(U)){const te=new Promise((ue,Ee)=>{U.subscribe({complete:ue,error:Ee})});i.push(te)}}const g=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{g()}).catch(M=>{this.reject(M)}),0===i.length&&g(),this.initialized=!0}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const fh=new be("");function U0(t,n){return Array.isArray(n)?n.reduce(U0,t):{...t,...n}}let Xi=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=br(yp),this.afterRenderEffectManager=br(fl),this.componentTypes=[],this.components=[],this.isStable=br(ta).hasPendingTasks.pipe((0,Ve.k)(i=>!i)),this._injector=br(di)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,g){const M=i instanceof Bm;if(!this._injector.get(dh).done)throw!M&&Hn(i),new Ye(405,!1);let te;te=M?i:this._injector.get(Nu).resolveComponentFactory(i),this.componentTypes.push(te.componentType);const ue=function I2(t){return t.isBoundToModule}(te)?void 0:this._injector.get(fs),Fe=te.create(ti.NULL,[],g||te.selector,ue),ze=Fe.location.nativeElement,ht=Fe.injector.get(j0,null);return null==ht||ht.registerApplication(ze),Fe.onDestroy(()=>{this.detachView(Fe.hostView),cc(this.components,Fe),null==ht||ht.unregisterApplication(ze)}),this._loadComponent(Fe),Fe}tick(){if(this._runningTick)throw new Ye(101,!1);const i=C(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(g){this.internalErrorHandler(g)}finally{this._runningTick=!1,C(i)}}detectChangesInAttachedViews(){let i=0;const g=this.afterRenderEffectManager;for(;;){if(100===i)throw new Ye(103,!1);const M=0===i;for(let{_lView:U,notifyErrorHandler:te}of this._views)!M&&!hh(U)||this.detectChangesInView(U,te,M);if(i++,g.executeInternalCallbacks(),!this._views.some(({_lView:U})=>hh(U))&&(g.execute(),!this._views.some(({_lView:U})=>hh(U))))break}}detectChangesInView(i,g,M){let U;M?(U=0,i[Fn]|=1024):U=64&i[Fn]?0:1,Au(i,g,U)}attachView(i){const g=i;this._views.push(g),g.attachToAppRef(this)}detachView(i){const g=i;cc(this._views,g),g.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const g=this._injector.get(fh,[]);[...this._bootstrapListeners,...g].forEach(M=>M(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>cc(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Ye(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function cc(t,n){const o=t.indexOf(n);o>-1&&t.splice(o,1)}function hh(t){return Jr(t)}class A2{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let O2=(()=>{var t;class n{compileModuleSync(i){return new gf(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const g=this.compileModuleSync(i),U=ni(Xn(i).declarations).reduce((te,ue)=>{const Ee=Jt(ue);return Ee&&te.push(new ml(Ee)),te},[]);return new A2(g,U)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),k2=(()=>{var t;class n{constructor(){this.zone=br(io),this.applicationRef=br(Xi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var i;null===(i=this._onMicrotaskEmptySubscription)||void 0===i||i.unsubscribe()}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function R2(){const t=br(io),n=br(Vi);return o=>t.runOutsideAngular(()=>n.handleError(o))}let L2=(()=>{var t;class n{constructor(){this.subscription=new Oe.wH,this.initialized=!1,this.zone=br(io),this.pendingTasks=br(ta)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{io.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var g;io.assertInAngularZone(),null!==(g=i)&&void 0!==g||(i=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const dc=new be("",{providedIn:"root",factory:()=>br(dc,_t.Optional|_t.SkipSelf)||function F2(){return typeof $localize<"u"&&$localize.locale||wa}()}),U2=new be("",{providedIn:"root",factory:()=>"USD"}),ph=new be("");let V0=(()=>{var t;class n{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,g){const M=function gE(t="zone.js",n){return"noop"===t?new qm:"zone.js"===t?new io(n):t}(null==g?void 0:g.ngZone,function $0(t){var n,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(o=null==t?void 0:t.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==g?void 0:g.ngZoneEventCoalescing,runCoalescing:null==g?void 0:g.ngZoneRunCoalescing}));return M.run(()=>{const U=function ux(t,n,o){return new mf(t,n,o)}(i.moduleType,this.injector,function G0(t){return[{provide:io,useFactory:t},{provide:is,multi:!0,useFactory:()=>{const n=br(k2,{optional:!0});return()=>n.initialize()}},{provide:is,multi:!0,useFactory:()=>{const n=br(L2);return()=>{n.initialize()}}},{provide:yp,useFactory:R2}]}(()=>M)),te=U.injector.get(Vi,null);return M.runOutsideAngular(()=>{const ue=M.onError.subscribe({next:Ee=>{te.handleError(Ee)}});U.onDestroy(()=>{cc(this._modules,U),ue.unsubscribe()})}),function F0(t,n,o){try{const i=o();return ch(i)?i.catch(g=>{throw n.runOutsideAngular(()=>t.handleError(g)),g}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(te,M,()=>{const ue=U.injector.get(dh);return ue.runInitializers(),ue.donePromise.then(()=>(function Fy(t){"string"==typeof t&&(Ly=t.toLowerCase().replace(/_/g,"-"))}(U.injector.get(dc,wa)||wa),this._moduleDoBootstrap(U),U))})})}bootstrapModule(i,g=[]){const M=U0({},g);return function P2(t,n,o){const i=new gf(o);return Promise.resolve(i)}(0,0,i).then(U=>this.bootstrapModuleFactory(U,M))}_moduleDoBootstrap(i){const g=i.injector.get(Xi);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(M=>g.bootstrap(M));else{if(!i.instance.ngDoBootstrap)throw new Ye(-403,!1);i.instance.ngDoBootstrap(g)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ye(404,!1);this._modules.slice().forEach(g=>g.destroy()),this._destroyListeners.forEach(g=>g());const i=this._injector.get(ph,null);i&&(i.forEach(g=>g()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(i){return new(i||t)(Oo(ti))},t.\u0275prov=Lr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),Ki=null;const H0=new be("");function W0(t,n,o=[]){const i=`Platform: ${n}`,g=new be(i);return(M=[])=>{let U=mh();if(!U||U.injector.get(H0,!1)){const te=[...o,...M,{provide:g,useValue:!0}];t?t(te):function G2(t){if(Ki&&!Ki.get(H0,!1))throw new Ye(400,!1);(function L0(){!function ne(t){z=t}(()=>{throw new Ye(600,!1)})})(),Ki=t;const n=t.get(V0);(function q0(t){const n=t.get(Xe,null);null==n||n.forEach(o=>o())})(t)}(function z0(t=[],n){return ti.create({name:n,providers:[{provide:Xc,useValue:"platform"},{provide:ph,useValue:new Set([()=>Ki=null])},...t]})}(te,i))}return function $2(t){const n=mh();if(!n)throw new Ye(401,!1);return n}()}}function mh(){var t,n;return null!==(t=null===(n=Ki)||void 0===n?void 0:n.get(V0))&&void 0!==t?t:null}function H2(){}let X0=(()=>{class n{}return n.__NG_ELEMENT_ID__=W2,n})();function W2(t){return function z2(t,n,o){if(Xr(t)&&!o){const i=Gn(t.index,n);return new sl(i,i)}return 47&t.type?new sl(n[Sr],n):null}(Ar(),hn(),16==(16&t))}class Q0{constructor(){}supports(n){return Hu(n)}create(n){return new J2(n)}}const K2=(t,n)=>n;class J2{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||K2}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,i=this._removalsHead,g=0,M=null;for(;o||i;){const U=!i||o&&o.currentIndex<tb(i,g,M)?o:i,te=tb(U,g,M),ue=U.currentIndex;if(U===i)g--,i=i._nextRemoved;else if(o=o._next,null==U.previousIndex)g++;else{M||(M=[]);const Ee=te-g,Fe=ue-g;if(Ee!=Fe){for(let ht=0;ht<Ee;ht++){const jt=ht<M.length?M[ht]:M[ht]=0,Qt=jt+ht;Fe<=Qt&&Qt<Ee&&(M[ht]=jt+1)}M[U.previousIndex]=Fe-Ee}}te!==ue&&n(U,te,ue)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!Hu(n))throw new Ye(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let g,M,U,o=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let te=0;te<this.length;te++)M=n[te],U=this._trackByFn(te,M),null!==o&&Object.is(o.trackById,U)?(i&&(o=this._verifyReinsertion(o,M,U,te)),Object.is(o.item,M)||this._addIdentityChange(o,M)):(o=this._mismatch(o,M,U,te),i=!0),o=o._next}else g=0,function hx(t,n){if(Array.isArray(t))for(let o=0;o<t.length;o++)n(t[o]);else{const o=t[Symbol.iterator]();let i;for(;!(i=o.next()).done;)n(i.value)}}(n,te=>{U=this._trackByFn(g,te),null!==o&&Object.is(o.trackById,U)?(i&&(o=this._verifyReinsertion(o,te,U,g)),Object.is(o.item,te)||this._addIdentityChange(o,te)):(o=this._mismatch(o,te,U,g),i=!0),o=o._next,g++}),this.length=g;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,i,g){let M;return null===n?M=this._itTail:(M=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,M,g)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,g))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,M,g)):n=this._addAfter(new Z2(o,i),M,g),n}_verifyReinsertion(n,o,i,g){let M=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==M?n=this._reinsertAfter(M,n._prev,g):n.currentIndex!=g&&(n.currentIndex=g,this._addToMoves(n,g)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const g=n._prevRemoved,M=n._nextRemoved;return null===g?this._removalsHead=M:g._nextRemoved=M,null===M?this._removalsTail=g:M._prevRemoved=g,this._insertAfter(n,o,i),this._addToMoves(n,i),n}_moveAfter(n,o,i){return this._unlink(n),this._insertAfter(n,o,i),this._addToMoves(n,i),n}_addAfter(n,o,i){return this._insertAfter(n,o,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,i){const g=null===o?this._itHead:o._next;return n._next=g,n._prev=o,null===g?this._itTail=n:g._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new eb),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,i=n._next;return null===o?this._itHead=i:o._next=i,null===i?this._itTail=o:i._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eb),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Z2{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Q2{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===o||o<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const o=n._prevDup,i=n._nextDup;return null===o?this._head=i:o._nextDup=i,null===i?this._tail=o:i._prevDup=o,null===this._head}}class eb{constructor(){this.map=new Map}put(n){const o=n.trackById;let i=this.map.get(o);i||(i=new Q2,this.map.set(o,i)),i.add(n)}get(n,o){const g=this.map.get(n);return g?g.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tb(t,n,o){const i=t.previousIndex;if(null===i)return i;let g=0;return o&&i<o.length&&(g=o[i]),i+n+g}class nb{constructor(){}supports(n){return n instanceof Map||vf(n)}create(){return new eM}}class eM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||vf(n)))throw new Ye(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,g)=>{if(o&&o.key===g)this._maybeAddToChanges(o,i),this._appendAfter=o,o=o._next;else{const M=this._getOrCreateRecordForKey(g,i);o=this._insertBeforeOrAppend(o,M)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let i=o;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const i=n._prev;return o._next=n,o._prev=i,n._prev=o,i&&(i._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const g=this._records.get(n);this._maybeAddToChanges(g,o);const M=g._prev,U=g._next;return M&&(M._next=U),U&&(U._prev=M),g._next=null,g._prev=null,g}const i=new tM(n);return this._records.set(n,i),i.currentValue=o,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(i=>o(n[i],i))}}class tM{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rb(){return new _h([new Q0])}let _h=(()=>{var t;class n{constructor(i){this.factories=i}static create(i,g){if(null!=g){const M=g.factories.slice();i=i.concat(M)}return new n(i)}static extend(i){return{provide:n,useFactory:g=>n.create(i,g||rb()),deps:[[n,new Kl,new Xl]]}}find(i){const g=this.factories.find(M=>M.supports(i));if(null!=g)return g;throw new Ye(901,!1)}}return(t=n).\u0275prov=Lr({token:t,providedIn:"root",factory:rb}),n})();function ob(){return new wh([new nb])}let wh=(()=>{var t;class n{constructor(i){this.factories=i}static create(i,g){if(g){const M=g.factories.slice();i=i.concat(M)}return new n(i)}static extend(i){return{provide:n,useFactory:g=>n.create(i,g||ob()),deps:[[n,new Kl,new Xl]]}}find(i){const g=this.factories.find(M=>M.supports(i));if(g)return g;throw new Ye(901,!1)}}return(t=n).\u0275prov=Lr({token:t,providedIn:"root",factory:ob}),n})();const oM=W0(null,"core",[]);let iM=(()=>{var t;class n{constructor(i){}}return(t=n).\u0275fac=function(i){return new(i||t)(Oo(Xi))},t.\u0275mod=Re({type:t}),t.\u0275inj=rs({}),n})();function PM(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function RM(t){const n=C(null);try{return t()}finally{C(n)}}function GM(t,n){const o=Jt(t),i=n.elementInjector||tu();return new ml(o).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}function $M(t){const n=Jt(t);if(!n)return null;const o=new ml(n);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},4716:(fn,Lt,me)=>{"use strict";me.d(Lt,{ot:()=>p,y:()=>x,_t:()=>Ro,Gu:()=>yr,WM:()=>F,Y6:()=>l,eq:()=>gt,ue:()=>Ft,_G:()=>Dn});var v=me(4496),xe=me(1368),rt=me(2115),Ne=me(3252),r=me(4300),H=me(560),C=me(6624),y=me(7773),_=me(4187),h=me(7904),E=me(4704);let w=(()=>{var D;class S{constructor(Y,le){this._renderer=Y,this._elementRef=le,this.onChange=ke=>{},this.onTouched=()=>{}}setProperty(Y,le){this._renderer.setProperty(this._elementRef.nativeElement,Y,le)}registerOnTouched(Y){this.onTouched=Y}registerOnChange(Y){this.onChange=Y}setDisabledState(Y){this.setProperty("disabled",Y)}}return(D=S).\u0275fac=function(Y){return new(Y||D)(v.GI1(v.q87),v.GI1(v.GMv))},D.\u0275dir=v.Sc5({type:D}),S})(),a=(()=>{var D;class S extends w{}return(D=S).\u0275fac=(()=>{let X;return function(le){return(X||(X=v.otF(D)))(le||D)}})(),D.\u0275dir=v.Sc5({type:D,features:[v.eg9]}),S})();const l=new v.UbH(""),c={provide:l,useExisting:(0,v.wd)(()=>p),multi:!0},m=new v.UbH("");let p=(()=>{var D;class S extends w{constructor(Y,le,ke){super(Y,le),this._compositionMode=ke,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function s(){const D=(0,xe.uy)()?(0,xe.uy)().getUserAgent():"";return/android (\d+)/.test(D.toLowerCase())}())}writeValue(Y){this.setProperty("value",null==Y?"":Y)}_handleInput(Y){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Y)}_compositionStart(){this._composing=!0}_compositionEnd(Y){this._composing=!1,this._compositionMode&&this.onChange(Y)}}return(D=S).\u0275fac=function(Y){return new(Y||D)(v.GI1(v.q87),v.GI1(v.GMv),v.GI1(m,8))},D.\u0275dir=v.Sc5({type:D,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Y,le){1&Y&&v.qCj("input",function(qe){return le._handleInput(qe.target.value)})("blur",function(){return le.onTouched()})("compositionstart",function(){return le._compositionStart()})("compositionend",function(qe){return le._compositionEnd(qe.target.value)})},features:[v.M5G([c]),v.eg9]}),S})();function b(D){return null==D||("string"==typeof D||Array.isArray(D))&&0===D.length}const F=new v.UbH(""),k=new v.UbH("");function J(D){return null}function q(D){return null!=D}function ae(D){return(0,v.w5$)(D)?(0,rt.Q)(D):D}function fe(D){let S={};return D.forEach(X=>{S=null!=X?{...S,...X}:S}),0===Object.keys(S).length?null:S}function Se(D,S){return S.map(X=>X(D))}function R(D){return D.map(S=>function K(D){return!D.validate}(S)?S:X=>S.validate(X))}function ge(D){return null!=D?function se(D){if(!D)return null;const S=D.filter(q);return 0==S.length?null:function(X){return fe(Se(X,S))}}(R(D)):null}function Le(D){return null!=D?function De(D){if(!D)return null;const S=D.filter(q);return 0==S.length?null:function(X){return function f(...D){const S=(0,C.yu)(D),{args:X,keys:Y}=(0,r.Q)(D),le=new Ne._(ke=>{const{length:qe}=X;if(!qe)return void ke.complete();const nt=new Array(qe);let Mt=qe,Yt=qe;for(let Bt=0;Bt<qe;Bt++){let mt=!1;(0,H.Uv)(X[Bt]).subscribe((0,y.e)(ke,yn=>{mt||(mt=!0,Yt--),nt[Bt]=yn},()=>Mt--,void 0,()=>{(!Mt||!mt)&&(Yt||ke.next(Y?(0,h.q)(Y,nt):nt),ke.complete())}))}});return S?le.pipe((0,_.j)(S)):le}(Se(X,S).map(ae)).pipe((0,E.k)(fe))}}(R(D)):null}function Ze(D,S){return null===D?[S]:Array.isArray(D)?[...D,S]:[D,S]}function $e(D){return D?Array.isArray(D)?D:[D]:[]}function Ve(D,S){return Array.isArray(D)?D.includes(S):D===S}function Te(D,S){const X=$e(S);return $e(D).forEach(le=>{Ve(X,le)||X.push(le)}),X}function Je(D,S){return $e(S).filter(X=>!Ve(D,X))}class Ye{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(S){this._rawValidators=S||[],this._composedValidatorFn=ge(this._rawValidators)}_setAsyncValidators(S){this._rawAsyncValidators=S||[],this._composedAsyncValidatorFn=Le(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(S){this._onDestroyCallbacks.push(S)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(S=>S()),this._onDestroyCallbacks=[]}reset(S=void 0){this.control&&this.control.reset(S)}hasError(S,X){return!!this.control&&this.control.hasError(S,X)}getError(S,X){return this.control?this.control.getError(S,X):null}}class bt extends Ye{get formDirective(){return null}get path(){return null}}class gt extends Ye{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vt{constructor(S){this._cd=S}get isTouched(){var S;return!(null===(S=this._cd)||void 0===S||null===(S=S.control)||void 0===S||!S.touched)}get isUntouched(){var S;return!(null===(S=this._cd)||void 0===S||null===(S=S.control)||void 0===S||!S.untouched)}get isPristine(){var S;return!(null===(S=this._cd)||void 0===S||null===(S=S.control)||void 0===S||!S.pristine)}get isDirty(){var S;return!(null===(S=this._cd)||void 0===S||null===(S=S.control)||void 0===S||!S.dirty)}get isValid(){var S;return!(null===(S=this._cd)||void 0===S||null===(S=S.control)||void 0===S||!S.valid)}get isInvalid(){var S;return!(null===(S=this._cd)||void 0===S||null===(S=S.control)||void 0===S||!S.invalid)}get isPending(){var S;return!(null===(S=this._cd)||void 0===S||null===(S=S.control)||void 0===S||!S.pending)}get isSubmitted(){var S;return!(null===(S=this._cd)||void 0===S||!S.submitted)}}let Ft=(()=>{var D;class S extends vt{constructor(Y){super(Y)}}return(D=S).\u0275fac=function(Y){return new(Y||D)(v.GI1(gt,2))},D.\u0275dir=v.Sc5({type:D,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Y,le){2&Y&&v.eAK("ng-untouched",le.isUntouched)("ng-touched",le.isTouched)("ng-pristine",le.isPristine)("ng-dirty",le.isDirty)("ng-valid",le.isValid)("ng-invalid",le.isInvalid)("ng-pending",le.isPending)},features:[v.eg9]}),S})();const St="VALID",Et="INVALID",Nt="PENDING",yt="DISABLED";function ct(D){return null!=D&&!Array.isArray(D)&&"object"==typeof D}class zt{constructor(S,X){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(S),this._assignAsyncValidators(X)}get validator(){return this._composedValidatorFn}set validator(S){this._rawValidators=this._composedValidatorFn=S}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(S){this._rawAsyncValidators=this._composedAsyncValidatorFn=S}get parent(){return this._parent}get valid(){return this.status===St}get invalid(){return this.status===Et}get pending(){return this.status==Nt}get disabled(){return this.status===yt}get enabled(){return this.status!==yt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(S){this._assignValidators(S)}setAsyncValidators(S){this._assignAsyncValidators(S)}addValidators(S){this.setValidators(Te(S,this._rawValidators))}addAsyncValidators(S){this.setAsyncValidators(Te(S,this._rawAsyncValidators))}removeValidators(S){this.setValidators(Je(S,this._rawValidators))}removeAsyncValidators(S){this.setAsyncValidators(Je(S,this._rawAsyncValidators))}hasValidator(S){return Ve(this._rawValidators,S)}hasAsyncValidator(S){return Ve(this._rawAsyncValidators,S)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(S={}){this.touched=!0,this._parent&&!S.onlySelf&&this._parent.markAsTouched(S)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(S=>S.markAllAsTouched())}markAsUntouched(S={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(X=>{X.markAsUntouched({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}markAsDirty(S={}){this.pristine=!1,this._parent&&!S.onlySelf&&this._parent.markAsDirty(S)}markAsPristine(S={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(X=>{X.markAsPristine({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}markAsPending(S={}){this.status=Nt,!1!==S.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!S.onlySelf&&this._parent.markAsPending(S)}disable(S={}){const X=this._parentMarkedDirty(S.onlySelf);this.status=yt,this.errors=null,this._forEachChild(Y=>{Y.disable({...S,onlySelf:!0})}),this._updateValue(),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...S,skipPristineCheck:X}),this._onDisabledChange.forEach(Y=>Y(!0))}enable(S={}){const X=this._parentMarkedDirty(S.onlySelf);this.status=St,this._forEachChild(Y=>{Y.enable({...S,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent}),this._updateAncestors({...S,skipPristineCheck:X}),this._onDisabledChange.forEach(Y=>Y(!1))}_updateAncestors(S){this._parent&&!S.onlySelf&&(this._parent.updateValueAndValidity(S),S.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(S){this._parent=S}getRawValue(){return this.value}updateValueAndValidity(S={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===St||this.status===Nt)&&this._runAsyncValidator(S.emitEvent)),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!S.onlySelf&&this._parent.updateValueAndValidity(S)}_updateTreeValidity(S={emitEvent:!0}){this._forEachChild(X=>X._updateTreeValidity(S)),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yt:St}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(S){if(this.asyncValidator){this.status=Nt,this._hasOwnPendingAsyncValidator=!0;const X=ae(this.asyncValidator(this));this._asyncValidationSubscription=X.subscribe(Y=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Y,{emitEvent:S})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(S,X={}){this.errors=S,this._updateControlsErrors(!1!==X.emitEvent)}get(S){let X=S;return null==X||(Array.isArray(X)||(X=X.split(".")),0===X.length)?null:X.reduce((Y,le)=>Y&&Y._find(le),this)}getError(S,X){const Y=X?this.get(X):this;return Y&&Y.errors?Y.errors[S]:null}hasError(S,X){return!!this.getError(S,X)}get root(){let S=this;for(;S._parent;)S=S._parent;return S}_updateControlsErrors(S){this.status=this._calculateStatus(),S&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(S)}_initObservables(){this.valueChanges=new v._w7,this.statusChanges=new v._w7}_calculateStatus(){return this._allControlsDisabled()?yt:this.errors?Et:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nt)?Nt:this._anyControlsHaveStatus(Et)?Et:St}_anyControlsHaveStatus(S){return this._anyControls(X=>X.status===S)}_anyControlsDirty(){return this._anyControls(S=>S.dirty)}_anyControlsTouched(){return this._anyControls(S=>S.touched)}_updatePristine(S={}){this.pristine=!this._anyControlsDirty(),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}_updateTouched(S={}){this.touched=this._anyControlsTouched(),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}_registerOnCollectionChange(S){this._onCollectionChange=S}_setUpdateStrategy(S){ct(S)&&null!=S.updateOn&&(this._updateOn=S.updateOn)}_parentMarkedDirty(S){return!S&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(S){return null}_assignValidators(S){this._rawValidators=Array.isArray(S)?S.slice():S,this._composedValidatorFn=function ut(D){return Array.isArray(D)?ge(D):D||null}(this._rawValidators)}_assignAsyncValidators(S){this._rawAsyncValidators=Array.isArray(S)?S.slice():S,this._composedAsyncValidatorFn=function Be(D){return Array.isArray(D)?Le(D):D||null}(this._rawAsyncValidators)}}const nr=new v.UbH("CallSetDisabledState",{providedIn:"root",factory:()=>zn}),zn="always";function ee(D,S,X=zn){var Y,le;(function G(D,S){const X=function et(D){return D._rawValidators}(D);null!==S.validator?D.setValidators(Ze(X,S.validator)):"function"==typeof X&&D.setValidators([X]);const Y=function Oe(D){return D._rawAsyncValidators}(D);null!==S.asyncValidator?D.setAsyncValidators(Ze(Y,S.asyncValidator)):"function"==typeof Y&&D.setAsyncValidators([Y]);const le=()=>D.updateValueAndValidity();_e(S._rawValidators,le),_e(S._rawAsyncValidators,le)})(D,S),S.valueAccessor.writeValue(D.value),(D.disabled||"always"===X)&&(null===(Y=(le=S.valueAccessor).setDisabledState)||void 0===Y||Y.call(le,D.disabled)),function Q(D,S){S.valueAccessor.registerOnChange(X=>{D._pendingValue=X,D._pendingChange=!0,D._pendingDirty=!0,"change"===D.updateOn&&Z(D,S)})}(D,S),function ve(D,S){const X=(Y,le)=>{S.valueAccessor.writeValue(Y),le&&S.viewToModelUpdate(Y)};D.registerOnChange(X),S._registerOnDestroy(()=>{D._unregisterOnChange(X)})}(D,S),function de(D,S){S.valueAccessor.registerOnTouched(()=>{D._pendingTouched=!0,"blur"===D.updateOn&&D._pendingChange&&Z(D,S),"submit"!==D.updateOn&&D.markAsTouched()})}(D,S),function O(D,S){if(S.valueAccessor.setDisabledState){const X=Y=>{S.valueAccessor.setDisabledState(Y)};D.registerOnDisabledChange(X),S._registerOnDestroy(()=>{D._unregisterOnDisabledChange(X)})}}(D,S)}function _e(D,S){D.forEach(X=>{X.registerOnValidatorChange&&X.registerOnValidatorChange(S)})}function Z(D,S){D._pendingDirty&&D.markAsDirty(),D.setValue(D._pendingValue,{emitModelToViewChange:!1}),S.viewToModelUpdate(D._pendingValue),D._pendingChange=!1}function cn(D,S){const X=D.indexOf(S);X>-1&&D.splice(X,1)}function An(D){return"object"==typeof D&&null!==D&&2===Object.keys(D).length&&"value"in D&&"disabled"in D}Promise.resolve();const At=class extends zt{constructor(S=null,X,Y){super(function tt(D){return(ct(D)?D.validators:D)||null}(X),function It(D,S){return(ct(S)?S.asyncValidators:D)||null}(Y,X)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(S),this._setUpdateStrategy(X),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ct(X)&&(X.nonNullable||X.initialValueIsDefault)&&(this.defaultValue=An(S)?S.value:S)}setValue(S,X={}){this.value=this._pendingValue=S,this._onChange.length&&!1!==X.emitModelToViewChange&&this._onChange.forEach(Y=>Y(this.value,!1!==X.emitViewToModelChange)),this.updateValueAndValidity(X)}patchValue(S,X={}){this.setValue(S,X)}reset(S=this.defaultValue,X={}){this._applyFormState(S),this.markAsPristine(X),this.markAsUntouched(X),this.setValue(this.value,X),this._pendingChange=!1}_updateValue(){}_anyControls(S){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(S){this._onChange.push(S)}_unregisterOnChange(S){cn(this._onChange,S)}registerOnDisabledChange(S){this._onDisabledChange.push(S)}_unregisterOnDisabledChange(S){cn(this._onDisabledChange,S)}_forEachChild(S){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(S){An(S)?(this.value=this._pendingValue=S.value,S.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=S}},pt={provide:gt,useExisting:(0,v.wd)(()=>Dn)},Jt=Promise.resolve();let Dn=(()=>{var D;class S extends gt{constructor(Y,le,ke,qe,nt,Mt){super(),this._changeDetectorRef=nt,this.callSetDisabledState=Mt,this.control=new At,this._registered=!1,this.name="",this.update=new v._w7,this._parent=Y,this._setValidators(le),this._setAsyncValidators(ke),this.valueAccessor=function Cr(D,S){if(!S)return null;let X,Y,le;return Array.isArray(S),S.forEach(ke=>{ke.constructor===p?X=ke:function Wn(D){return Object.getPrototypeOf(D.constructor)===a}(ke)?Y=ke:le=ke}),le||Y||X||null}(0,qe)}ngOnChanges(Y){if(this._checkForErrors(),!this._registered||"name"in Y){if(this._registered&&(this._checkName(),this.formDirective)){const le=Y.name.previousValue;this.formDirective.removeControl({name:le,path:this._getPath(le)})}this._setUpControl()}"isDisabled"in Y&&this._updateDisabled(Y),function Kn(D,S){if(!D.hasOwnProperty("model"))return!1;const X=D.model;return!!X.isFirstChange()||!Object.is(S,X.currentValue)}(Y,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Y){this.viewModel=Y,this.update.emit(Y)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ee(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Y){Jt.then(()=>{var le;this.control.setValue(Y,{emitViewToModelChange:!1}),null===(le=this._changeDetectorRef)||void 0===le||le.markForCheck()})}_updateDisabled(Y){const le=Y.isDisabled.currentValue,ke=0!==le&&(0,v.cZD)(le);Jt.then(()=>{var qe;ke&&!this.control.disabled?this.control.disable():!ke&&this.control.disabled&&this.control.enable(),null===(qe=this._changeDetectorRef)||void 0===qe||qe.markForCheck()})}_getPath(Y){return this._parent?function Ln(D,S){return[...S.path,D]}(Y,this._parent):[Y]}}return(D=S).\u0275fac=function(Y){return new(Y||D)(v.GI1(bt,9),v.GI1(F,10),v.GI1(k,10),v.GI1(l,10),v.GI1(v.kD9,8),v.GI1(nr,8))},D.\u0275dir=v.Sc5({type:D,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[v.Wk5.None,"disabled","isDisabled"],model:[v.Wk5.None,"ngModel","model"],options:[v.Wk5.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[v.M5G([pt]),v.eg9,v.SYr]}),S})();function Bo(D){return"number"==typeof D?D:parseFloat(D)}let oo=(()=>{var D;class S{constructor(){this._validator=J}ngOnChanges(Y){if(this.inputName in Y){const le=this.normalizeInput(Y[this.inputName].currentValue);this._enabled=this.enabled(le),this._validator=this._enabled?this.createValidator(le):J,this._onChange&&this._onChange()}}validate(Y){return this._validator(Y)}registerOnValidatorChange(Y){this._onChange=Y}enabled(Y){return null!=Y}}return(D=S).\u0275fac=function(Y){return new(Y||D)},D.\u0275dir=v.Sc5({type:D,features:[v.SYr]}),S})();const co={provide:F,useExisting:(0,v.wd)(()=>Ro),multi:!0};let Ro=(()=>{var D;class S extends oo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=Y=>Bo(Y),this.createValidator=Y=>function j(D){return S=>{if(b(S.value)||b(D))return null;const X=parseFloat(S.value);return!isNaN(X)&&X>D?{max:{max:D,actual:S.value}}:null}}(Y)}}return(D=S).\u0275fac=(()=>{let X;return function(le){return(X||(X=v.otF(D)))(le||D)}})(),D.\u0275dir=v.Sc5({type:D,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(Y,le){2&Y&&v.e48("max",le._enabled?le.max:null)},inputs:{max:"max"},features:[v.M5G([co]),v.eg9]}),S})();const No={provide:F,useExisting:(0,v.wd)(()=>yr),multi:!0};let yr=(()=>{var D;class S extends oo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=Y=>Bo(Y),this.createValidator=Y=>function $(D){return S=>{if(b(S.value)||b(D))return null;const X=parseFloat(S.value);return!isNaN(X)&&X<D?{min:{min:D,actual:S.value}}:null}}(Y)}}return(D=S).\u0275fac=(()=>{let X;return function(le){return(X||(X=v.otF(D)))(le||D)}})(),D.\u0275dir=v.Sc5({type:D,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Y,le){2&Y&&v.e48("min",le._enabled?le.min:null)},inputs:{min:"min"},features:[v.M5G([No]),v.eg9]}),S})(),Zi=(()=>{var D;class S{}return(D=S).\u0275fac=function(Y){return new(Y||D)},D.\u0275mod=v.a4G({type:D}),D.\u0275inj=v.s3X({}),S})(),x=(()=>{var D;class S{static withConfig(Y){var le;return{ngModule:S,providers:[{provide:nr,useValue:null!==(le=Y.callSetDisabledState)&&void 0!==le?le:zn}]}}}return(D=S).\u0275fac=function(Y){return new(Y||D)},D.\u0275mod=v.a4G({type:D}),D.\u0275inj=v.s3X({imports:[Zi]}),S})()},4476:(fn,Lt,me)=>{"use strict";me.d(Lt,{OY:()=>Je,iE:()=>$e,mI:()=>_t,o_:()=>Le});var v=me(4496),xe=me(1368);class rt extends xe.mg{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ne extends rt{static makeCurrent(){(0,xe.ug)(new Ne)}onAndCancel(Et,Nt,yt){return Et.addEventListener(Nt,yt),()=>{Et.removeEventListener(Nt,yt)}}dispatchEvent(Et,Nt){Et.dispatchEvent(Nt)}remove(Et){Et.parentNode&&Et.parentNode.removeChild(Et)}createElement(Et,Nt){return(Nt=Nt||this.getDefaultDocument()).createElement(Et)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Et){return Et.nodeType===Node.ELEMENT_NODE}isShadowRoot(Et){return Et instanceof DocumentFragment}getGlobalEventTarget(Et,Nt){return"window"===Nt?window:"document"===Nt?Et:"body"===Nt?Et.body:null}getBaseHref(Et){const Nt=function H(){return r=r||document.querySelector("base"),r?r.getAttribute("href"):null}();return null==Nt?null:function C(St){return new URL(St,document.baseURI).pathname}(Nt)}resetBaseElement(){r=null}getUserAgent(){return window.navigator.userAgent}getCookie(Et){return(0,xe.Sg)(document.cookie,Et)}}let r=null,_=(()=>{var St;class Et{build(){return new XMLHttpRequest}}return(St=Et).\u0275fac=function(yt){return new(yt||St)},St.\u0275prov=v.wxM({token:St,factory:St.\u0275fac}),Et})();const h=new v.UbH("");let f=(()=>{var St;class Et{constructor(yt,tt){this._zone=tt,this._eventNameToPlugin=new Map,yt.forEach(ut=>{ut.manager=this}),this._plugins=yt.slice().reverse()}addEventListener(yt,tt,ut){return this._findPluginFor(tt).addEventListener(yt,tt,ut)}getZone(){return this._zone}_findPluginFor(yt){let tt=this._eventNameToPlugin.get(yt);if(tt)return tt;if(tt=this._plugins.find(It=>It.supports(yt)),!tt)throw new v.OBp(5101,!1);return this._eventNameToPlugin.set(yt,tt),tt}}return(St=Et).\u0275fac=function(yt){return new(yt||St)(v.CoB(h),v.CoB(v.WW2))},St.\u0275prov=v.wxM({token:St,factory:St.\u0275fac}),Et})();class E{constructor(Et){this._doc=Et}}const w="ng-app-id";let a=(()=>{var St;class Et{constructor(yt,tt,ut,It={}){this.doc=yt,this.appId=tt,this.nonce=ut,this.platformId=It,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,xe.uf)(It),this.resetHostNodes()}addStyles(yt){for(const tt of yt)1===this.changeUsageCount(tt,1)&&this.onStyleAdded(tt)}removeStyles(yt){for(const tt of yt)this.changeUsageCount(tt,-1)<=0&&this.onStyleRemoved(tt)}ngOnDestroy(){const yt=this.styleNodesInDOM;yt&&(yt.forEach(tt=>tt.remove()),yt.clear());for(const tt of this.getAllStyles())this.onStyleRemoved(tt);this.resetHostNodes()}addHost(yt){this.hostNodes.add(yt);for(const tt of this.getAllStyles())this.addStyleToHost(yt,tt)}removeHost(yt){this.hostNodes.delete(yt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(yt){for(const tt of this.hostNodes)this.addStyleToHost(tt,yt)}onStyleRemoved(yt){var tt;const ut=this.styleRef;null===(tt=ut.get(yt))||void 0===tt||null===(tt=tt.elements)||void 0===tt||tt.forEach(It=>It.remove()),ut.delete(yt)}collectServerRenderedStyles(){var yt;const tt=null===(yt=this.doc.head)||void 0===yt?void 0:yt.querySelectorAll(`style[${w}="${this.appId}"]`);if(null!=tt&&tt.length){const ut=new Map;return tt.forEach(It=>{null!=It.textContent&&ut.set(It.textContent,It)}),ut}return null}changeUsageCount(yt,tt){const ut=this.styleRef;if(ut.has(yt)){const It=ut.get(yt);return It.usage+=tt,It.usage}return ut.set(yt,{usage:tt,elements:[]}),tt}getStyleElement(yt,tt){const ut=this.styleNodesInDOM,It=null==ut?void 0:ut.get(tt);if((null==It?void 0:It.parentNode)===yt)return ut.delete(tt),It.removeAttribute(w),It;{const Be=this.doc.createElement("style");return this.nonce&&Be.setAttribute("nonce",this.nonce),Be.textContent=tt,this.platformIsServer&&Be.setAttribute(w,this.appId),yt.appendChild(Be),Be}}addStyleToHost(yt,tt){var ut;const It=this.getStyleElement(yt,tt),Be=this.styleRef,ct=null===(ut=Be.get(tt))||void 0===ut?void 0:ut.elements;ct?ct.push(It):Be.set(tt,{elements:[It],usage:1})}resetHostNodes(){const yt=this.hostNodes;yt.clear(),yt.add(this.doc.head)}}return(St=Et).\u0275fac=function(yt){return new(yt||St)(v.CoB(xe.Ud),v.CoB(v.QHP),v.CoB(v.YND,8),v.CoB(v.AHE))},St.\u0275prov=v.wxM({token:St,factory:St.\u0275fac}),Et})();const l={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},d=/%COMP%/g,u="%COMP%",c=`_nghost-${u}`,s=`_ngcontent-${u}`,p=new v.UbH("",{providedIn:"root",factory:()=>!0});function F(St,Et){return Et.map(Nt=>Nt.replace(d,St))}let k=(()=>{var St;class Et{constructor(yt,tt,ut,It,Be,ct,Ot,Pt=null){this.eventManager=yt,this.sharedStylesHost=tt,this.appId=ut,this.removeStylesOnCompDestroy=It,this.doc=Be,this.platformId=ct,this.ngZone=Ot,this.nonce=Pt,this.rendererByCompId=new Map,this.platformIsServer=(0,xe.uf)(ct),this.defaultRenderer=new A(yt,Be,Ot,this.platformIsServer)}createRenderer(yt,tt){if(!yt||!tt)return this.defaultRenderer;this.platformIsServer&&tt.encapsulation===v.K6R.ShadowDom&&(tt={...tt,encapsulation:v.K6R.Emulated});const ut=this.getOrCreateRenderer(yt,tt);return ut instanceof B?ut.applyToHost(yt):ut instanceof I&&ut.applyStyles(),ut}getOrCreateRenderer(yt,tt){const ut=this.rendererByCompId;let It=ut.get(tt.id);if(!It){const Be=this.doc,ct=this.ngZone,Ot=this.eventManager,Pt=this.sharedStylesHost,zt=this.removeStylesOnCompDestroy,mn=this.platformIsServer;switch(tt.encapsulation){case v.K6R.Emulated:It=new B(Ot,Pt,tt,this.appId,zt,Be,ct,mn);break;case v.K6R.ShadowDom:return new N(Ot,Pt,yt,tt,Be,ct,this.nonce,mn);default:It=new I(Ot,Pt,tt,zt,Be,ct,mn)}ut.set(tt.id,It)}return It}ngOnDestroy(){this.rendererByCompId.clear()}}return(St=Et).\u0275fac=function(yt){return new(yt||St)(v.CoB(f),v.CoB(a),v.CoB(v.QHP),v.CoB(p),v.CoB(xe.Ud),v.CoB(v.AHE),v.CoB(v.WW2),v.CoB(v.YND))},St.\u0275prov=v.wxM({token:St,factory:St.\u0275fac}),Et})();class A{constructor(Et,Nt,yt,tt){this.eventManager=Et,this.doc=Nt,this.ngZone=yt,this.platformIsServer=tt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Et,Nt){return Nt?this.doc.createElementNS(l[Nt]||Nt,Et):this.doc.createElement(Et)}createComment(Et){return this.doc.createComment(Et)}createText(Et){return this.doc.createTextNode(Et)}appendChild(Et,Nt){(j(Et)?Et.content:Et).appendChild(Nt)}insertBefore(Et,Nt,yt){Et&&(j(Et)?Et.content:Et).insertBefore(Nt,yt)}removeChild(Et,Nt){Et&&Et.removeChild(Nt)}selectRootElement(Et,Nt){let yt="string"==typeof Et?this.doc.querySelector(Et):Et;if(!yt)throw new v.OBp(-5104,!1);return Nt||(yt.textContent=""),yt}parentNode(Et){return Et.parentNode}nextSibling(Et){return Et.nextSibling}setAttribute(Et,Nt,yt,tt){if(tt){Nt=tt+":"+Nt;const ut=l[tt];ut?Et.setAttributeNS(ut,Nt,yt):Et.setAttribute(Nt,yt)}else Et.setAttribute(Nt,yt)}removeAttribute(Et,Nt,yt){if(yt){const tt=l[yt];tt?Et.removeAttributeNS(tt,Nt):Et.removeAttribute(`${yt}:${Nt}`)}else Et.removeAttribute(Nt)}addClass(Et,Nt){Et.classList.add(Nt)}removeClass(Et,Nt){Et.classList.remove(Nt)}setStyle(Et,Nt,yt,tt){tt&(v.yzm.DashCase|v.yzm.Important)?Et.style.setProperty(Nt,yt,tt&v.yzm.Important?"important":""):Et.style[Nt]=yt}removeStyle(Et,Nt,yt){yt&v.yzm.DashCase?Et.style.removeProperty(Nt):Et.style[Nt]=""}setProperty(Et,Nt,yt){null!=Et&&(Et[Nt]=yt)}setValue(Et,Nt){Et.nodeValue=Nt}listen(Et,Nt,yt){if("string"==typeof Et&&!(Et=(0,xe.uy)().getGlobalEventTarget(this.doc,Et)))throw new Error(`Unsupported event target ${Et} for event ${Nt}`);return this.eventManager.addEventListener(Et,Nt,this.decoratePreventDefault(yt))}decoratePreventDefault(Et){return Nt=>{if("__ngUnwrap__"===Nt)return Et;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Et(Nt)):Et(Nt))&&Nt.preventDefault()}}}function j(St){return"TEMPLATE"===St.tagName&&void 0!==St.content}class N extends A{constructor(Et,Nt,yt,tt,ut,It,Be,ct){super(Et,ut,It,ct),this.sharedStylesHost=Nt,this.hostEl=yt,this.shadowRoot=yt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ot=F(tt.id,tt.styles);for(const Pt of Ot){const zt=document.createElement("style");Be&&zt.setAttribute("nonce",Be),zt.textContent=Pt,this.shadowRoot.appendChild(zt)}}nodeOrShadowRoot(Et){return Et===this.hostEl?this.shadowRoot:Et}appendChild(Et,Nt){return super.appendChild(this.nodeOrShadowRoot(Et),Nt)}insertBefore(Et,Nt,yt){return super.insertBefore(this.nodeOrShadowRoot(Et),Nt,yt)}removeChild(Et,Nt){return super.removeChild(this.nodeOrShadowRoot(Et),Nt)}parentNode(Et){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Et)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class I extends A{constructor(Et,Nt,yt,tt,ut,It,Be,ct){super(Et,ut,It,Be),this.sharedStylesHost=Nt,this.removeStylesOnCompDestroy=tt,this.styles=ct?F(ct,yt.styles):yt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class B extends I{constructor(Et,Nt,yt,tt,ut,It,Be,ct){const Ot=tt+"-"+yt.id;super(Et,Nt,yt,ut,It,Be,ct,Ot),this.contentAttr=function b(St){return s.replace(d,St)}(Ot),this.hostAttr=function T(St){return c.replace(d,St)}(Ot)}applyToHost(Et){this.applyStyles(),this.setAttribute(Et,this.hostAttr,"")}createElement(Et,Nt){const yt=super.createElement(Et,Nt);return super.setAttribute(yt,this.contentAttr,""),yt}}let z=(()=>{var St;class Et extends E{constructor(yt){super(yt)}supports(yt){return!0}addEventListener(yt,tt,ut){return yt.addEventListener(tt,ut,!1),()=>this.removeEventListener(yt,tt,ut)}removeEventListener(yt,tt,ut){return yt.removeEventListener(tt,ut)}}return(St=Et).\u0275fac=function(yt){return new(yt||St)(v.CoB(xe.Ud))},St.\u0275prov=v.wxM({token:St,factory:St.\u0275fac}),Et})();const W=["alt","control","meta","shift"],ne={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},J={alt:St=>St.altKey,control:St=>St.ctrlKey,meta:St=>St.metaKey,shift:St=>St.shiftKey};let q=(()=>{var St;class Et extends E{constructor(yt){super(yt)}supports(yt){return null!=Et.parseEventName(yt)}addEventListener(yt,tt,ut){const It=Et.parseEventName(tt),Be=Et.eventCallback(It.fullKey,ut,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,xe.uy)().onAndCancel(yt,It.domEventName,Be))}static parseEventName(yt){const tt=yt.toLowerCase().split("."),ut=tt.shift();if(0===tt.length||"keydown"!==ut&&"keyup"!==ut)return null;const It=Et._normalizeKey(tt.pop());let Be="",ct=tt.indexOf("code");if(ct>-1&&(tt.splice(ct,1),Be="code."),W.forEach(Pt=>{const zt=tt.indexOf(Pt);zt>-1&&(tt.splice(zt,1),Be+=Pt+".")}),Be+=It,0!=tt.length||0===It.length)return null;const Ot={};return Ot.domEventName=ut,Ot.fullKey=Be,Ot}static matchEventFullKeyCode(yt,tt){let ut=ne[yt.key]||yt.key,It="";return tt.indexOf("code.")>-1&&(ut=yt.code,It="code."),!(null==ut||!ut)&&(ut=ut.toLowerCase()," "===ut?ut="space":"."===ut&&(ut="dot"),W.forEach(Be=>{Be!==ut&&(0,J[Be])(yt)&&(It+=Be+".")}),It+=ut,It===tt)}static eventCallback(yt,tt,ut){return It=>{Et.matchEventFullKeyCode(It,yt)&&ut.runGuarded(()=>tt(It))}}static _normalizeKey(yt){return"esc"===yt?"escape":yt}}return(St=Et).\u0275fac=function(yt){return new(yt||St)(v.CoB(xe.Ud))},St.\u0275prov=v.wxM({token:St,factory:St.\u0275fac}),Et})();const Le=(0,v.grM)(v.m4O,"browser",[{provide:v.AHE,useValue:xe._k},{provide:v.crf,useValue:function R(){Ne.makeCurrent()},multi:!0},{provide:xe.Ud,useFactory:function ge(){return(0,v.auf)(document),document},deps:[]}]),Ze=new v.UbH(""),et=[{provide:v.Mn9,useClass:class y{addToWindow(Et){v.IHs.getAngularTestability=(yt,tt=!0)=>{const ut=Et.findTestabilityInTree(yt,tt);if(null==ut)throw new v.OBp(5103,!1);return ut},v.IHs.getAllAngularTestabilities=()=>Et.getAllTestabilities(),v.IHs.getAllAngularRootElements=()=>Et.getAllRootElements(),v.IHs.frameworkStabilizers||(v.IHs.frameworkStabilizers=[]),v.IHs.frameworkStabilizers.push(yt=>{const tt=v.IHs.getAllAngularTestabilities();let ut=tt.length;const It=function(){ut--,0==ut&&yt()};tt.forEach(Be=>{Be.whenStable(It)})})}findTestabilityInTree(Et,Nt,yt){if(null==Nt)return null;const tt=Et.getTestability(Nt);return null!=tt?tt:yt?(0,xe.uy)().isShadowRoot(Nt)?this.findTestabilityInTree(Et,Nt.host,!0):this.findTestabilityInTree(Et,Nt.parentElement,!0):null}},deps:[]},{provide:v.aS5,useClass:v.G4X,deps:[v.WW2,v.eOv,v.Mn9]},{provide:v.G4X,useClass:v.G4X,deps:[v.WW2,v.eOv,v.Mn9]}],Oe=[{provide:v.i4S,useValue:"root"},{provide:v.eAe,useFactory:function se(){return new v.eAe},deps:[]},{provide:h,useClass:z,multi:!0,deps:[xe.Ud,v.WW2,v.AHE]},{provide:h,useClass:q,multi:!0,deps:[xe.Ud]},k,a,f,{provide:v.O8F,useExisting:k},{provide:xe.OM,useClass:_,deps:[]},[]];let $e=(()=>{var St;class Et{constructor(yt){}static withServerTransition(yt){return{ngModule:Et,providers:[{provide:v.QHP,useValue:yt.appId}]}}}return(St=Et).\u0275fac=function(yt){return new(yt||St)(v.CoB(Ze,12))},St.\u0275mod=v.a4G({type:St}),St.\u0275inj=v.s3X({providers:[...Oe,...et],imports:[xe.MD,v.Ev2]}),Et})(),Je=(()=>{var St;class Et{constructor(yt){this._doc=yt}getTitle(){return this._doc.title}setTitle(yt){this._doc.title=yt||""}}return(St=Et).\u0275fac=function(yt){return new(yt||St)(v.CoB(xe.Ud))},St.\u0275prov=v.wxM({token:St,factory:St.\u0275fac,providedIn:"root"}),Et})(),_t=(()=>{var St;class Et{}return(St=Et).\u0275fac=function(yt){return new(yt||St)},St.\u0275prov=v.wxM({token:St,factory:function(yt){let tt=null;return tt=yt?new(yt||St):v.CoB(je),tt},providedIn:"root"}),Et})(),je=(()=>{var St;class Et extends _t{constructor(yt){super(),this._doc=yt}sanitize(yt,tt){if(null==tt)return null;switch(yt){case v.SI6.NONE:return tt;case v.SI6.HTML:return(0,v.K2p)(tt,"HTML")?(0,v.E2t)(tt):(0,v.Om8)(this._doc,String(tt)).toString();case v.SI6.STYLE:return(0,v.K2p)(tt,"Style")?(0,v.E2t)(tt):tt;case v.SI6.SCRIPT:if((0,v.K2p)(tt,"Script"))return(0,v.E2t)(tt);throw new v.OBp(5200,!1);case v.SI6.URL:return(0,v.K2p)(tt,"URL")?(0,v.E2t)(tt):(0,v.ozE)(String(tt));case v.SI6.RESOURCE_URL:if((0,v.K2p)(tt,"ResourceURL"))return(0,v.E2t)(tt);throw new v.OBp(5201,!1);default:throw new v.OBp(5202,!1)}}bypassSecurityTrustHtml(yt){return(0,v.GM_)(yt)}bypassSecurityTrustStyle(yt){return(0,v.Vfw)(yt)}bypassSecurityTrustScript(yt){return(0,v.ER9)(yt)}bypassSecurityTrustUrl(yt){return(0,v.Gc)(yt)}bypassSecurityTrustResourceUrl(yt){return(0,v.u8n)(yt)}}return(St=Et).\u0275fac=function(yt){return new(yt||St)(v.CoB(xe.Ud))},St.\u0275prov=v.wxM({token:St,factory:St.\u0275fac,providedIn:"root"}),Et})()},3332:(fn,Lt,me)=>{"use strict";me.d(Lt,{gV:()=>lr,O4:()=>Fr,Qx:()=>Vt,gf:()=>Oe,eu:()=>Ss,XE:()=>rr,E5:()=>sr,ER:()=>Cs,qQ:()=>Ts,qd:()=>$t});var v=me(4496),xe=me(3252),rt=me(8880),r=me(2115),H=me(2700),C=me(6700),y=me(6040);const h=(0,me(4912).w)(ie=>function(){ie(this),this.name="EmptyError",this.message="no elements in sequence"});var f=me(7228),E=me(1424),w=me(3928),a=me(3800),l=me(8960),d=me(2376),u=me(5657),c=me(4548),s=me(1368),m=me(4704),p=me(7368),b=me(3992),T=me(6624),F=me(5448),A=me(6684),P=me(7400),$=me(7773);function j(ie){return(0,F.i)((pe,be)=>{let he=!1;pe.subscribe((0,$.e)(be,we=>{he=!0,be.next(we)},()=>{he||be.next(ie),be.complete()}))})}function N(ie=I){return(0,F.i)((pe,be)=>{let he=!1;pe.subscribe((0,$.e)(be,we=>{he=!0,be.next(we)},()=>he?be.complete():be.error(ie())))})}function I(){return new h}var B=me(528);function z(ie,pe){const be=arguments.length>=2;return he=>he.pipe(ie?(0,A.I)((we,Xe)=>ie(we,Xe,he)):B.Z,(0,b.U)(1),be?j(pe):N(()=>new h))}function W(ie,pe){return(0,rt.m)(pe)?(0,P.O)(ie,pe,1):(0,P.O)(ie,1)}var ne=me(9212),J=me(560);function q(ie){return(0,F.i)((pe,be)=>{let Xe,he=null,we=!1;he=pe.subscribe((0,$.e)(be,void 0,void 0,it=>{Xe=(0,J.Uv)(ie(it,q(ie)(pe))),he?(he.unsubscribe(),he=null,Xe.subscribe(be)):we=!0})),we&&(he.unsubscribe(),he=null,Xe.subscribe(be))})}function Se(ie){return ie<=0?()=>l.k:(0,F.i)((pe,be)=>{let he=[];pe.subscribe((0,$.e)(be,we=>{he.push(we),ie<he.length&&he.shift()},()=>{for(const we of he)be.next(we);be.complete()},void 0,()=>{he=null}))})}var R=me(320);function se(ie){return(0,F.i)((pe,be)=>{try{pe.subscribe(be)}finally{be.add(ie)}})}var ge=me(8084),De=me(308),Ze=me(267),et=me(4476);const Oe="primary",$e=Symbol("RouteTitle");class Ve{constructor(pe){this.params=pe||{}}has(pe){return Object.prototype.hasOwnProperty.call(this.params,pe)}get(pe){if(this.has(pe)){const be=this.params[pe];return Array.isArray(be)?be[0]:be}return null}getAll(pe){if(this.has(pe)){const be=this.params[pe];return Array.isArray(be)?be:[be]}return[]}get keys(){return Object.keys(this.params)}}function Te(ie){return new Ve(ie)}function Je(ie,pe,be){const he=be.path.split("/");if(he.length>ie.length||"full"===be.pathMatch&&(pe.hasChildren()||he.length<ie.length))return null;const we={};for(let Xe=0;Xe<he.length;Xe++){const it=he[Xe],Xt=ie[Xe];if(it.startsWith(":"))we[it.substring(1)]=Xt;else if(it!==Xt.path)return null}return{consumed:ie.slice(0,he.length),posParams:we}}function bt(ie,pe){const be=ie?gt(ie):void 0,he=pe?gt(pe):void 0;if(!be||!he||be.length!=he.length)return!1;let we;for(let Xe=0;Xe<be.length;Xe++)if(we=be[Xe],!vt(ie[we],pe[we]))return!1;return!0}function gt(ie){return[...Object.keys(ie),...Object.getOwnPropertySymbols(ie)]}function vt(ie,pe){if(Array.isArray(ie)&&Array.isArray(pe)){if(ie.length!==pe.length)return!1;const be=[...ie].sort(),he=[...pe].sort();return be.every((we,Xe)=>he[Xe]===we)}return ie===pe}function kt(ie){return ie.length>0?ie[ie.length-1]:null}function Ht(ie){return function Ne(ie){return!!ie&&(ie instanceof xe._||(0,rt.m)(ie.lift)&&(0,rt.m)(ie.subscribe))}(ie)?ie:(0,v.w5$)(ie)?(0,r.Q)(Promise.resolve(ie)):(0,H.of)(ie)}const Ft={exact:function qt(ie,pe,be){if(!wt(ie.segments,pe.segments)||!_t(ie.segments,pe.segments,be)||ie.numberOfChildren!==pe.numberOfChildren)return!1;for(const he in pe.children)if(!ie.children[he]||!qt(ie.children[he],pe.children[he],be))return!1;return!0},subset:lt},an={exact:function dn(ie,pe){return bt(ie,pe)},subset:function Gt(ie,pe){return Object.keys(pe).length<=Object.keys(ie).length&&Object.keys(pe).every(be=>vt(ie[be],pe[be]))},ignored:()=>!0};function rn(ie,pe,be){return Ft[be.paths](ie.root,pe.root,be.matrixParams)&&an[be.queryParams](ie.queryParams,pe.queryParams)&&!("exact"===be.fragment&&ie.fragment!==pe.fragment)}function lt(ie,pe,be){return Ut(ie,pe,pe.segments,be)}function Ut(ie,pe,be,he){if(ie.segments.length>be.length){const we=ie.segments.slice(0,be.length);return!(!wt(we,be)||pe.hasChildren()||!_t(we,be,he))}if(ie.segments.length===be.length){if(!wt(ie.segments,be)||!_t(ie.segments,be,he))return!1;for(const we in pe.children)if(!ie.children[we]||!lt(ie.children[we],pe.children[we],he))return!1;return!0}{const we=be.slice(0,ie.segments.length),Xe=be.slice(ie.segments.length);return!!(wt(ie.segments,we)&&_t(ie.segments,we,he)&&ie.children[Oe])&&Ut(ie.children[Oe],pe,Xe,he)}}function _t(ie,pe,be){return pe.every((he,we)=>an[be](ie[we].parameters,he.parameters))}class je{constructor(pe=new Ue([],{}),be={},he=null){this.root=pe,this.queryParams=be,this.fragment=he}get queryParamMap(){var pe;return null!==(pe=this._queryParamMap)&&void 0!==pe||(this._queryParamMap=Te(this.queryParams)),this._queryParamMap}toString(){return wn.serialize(this)}}class Ue{constructor(pe,be){this.segments=pe,this.children=be,this.parent=null,Object.values(be).forEach(he=>he.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xn(this)}}class Me{constructor(pe,be){this.path=pe,this.parameters=be}get parameterMap(){var pe;return null!==(pe=this._parameterMap)&&void 0!==pe||(this._parameterMap=Te(this.parameters)),this._parameterMap}toString(){return Be(this)}}function wt(ie,pe){return ie.length===pe.length&&ie.every((be,he)=>be.path===pe[he].path)}let $t=(()=>{var ie;class pe{}return(ie=pe).\u0275fac=function(he){return new(he||ie)},ie.\u0275prov=v.wxM({token:ie,factory:()=>new nn,providedIn:"root"}),pe})();class nn{parse(pe){const be=new nr(pe);return new je(be.parseRootSegment(),be.parseQueryParams(),be.parseFragment())}serialize(pe){const be=`/${St(pe.root,!0)}`,he=function Ot(ie){const pe=Object.entries(ie).map(([be,he])=>Array.isArray(he)?he.map(we=>`${Nt(be)}=${Nt(we)}`).join("&"):`${Nt(be)}=${Nt(he)}`).filter(be=>be);return pe.length?`?${pe.join("&")}`:""}(pe.queryParams);return`${be}${he}${"string"==typeof pe.fragment?`#${function yt(ie){return encodeURI(ie)}(pe.fragment)}`:""}`}}const wn=new nn;function xn(ie){return ie.segments.map(pe=>Be(pe)).join("/")}function St(ie,pe){if(!ie.hasChildren())return xn(ie);if(pe){const be=ie.children[Oe]?St(ie.children[Oe],!1):"",he=[];return Object.entries(ie.children).forEach(([we,Xe])=>{we!==Oe&&he.push(`${we}:${St(Xe,!1)}`)}),he.length>0?`${be}(${he.join("//")})`:be}{const be=function Ct(ie,pe){let be=[];return Object.entries(ie.children).forEach(([he,we])=>{he===Oe&&(be=be.concat(pe(we,he)))}),Object.entries(ie.children).forEach(([he,we])=>{he!==Oe&&(be=be.concat(pe(we,he)))}),be}(ie,(he,we)=>we===Oe?[St(ie.children[Oe],!1)]:[`${we}:${St(he,!1)}`]);return 1===Object.keys(ie.children).length&&null!=ie.children[Oe]?`${xn(ie)}/${be[0]}`:`${xn(ie)}/(${be.join("//")})`}}function Et(ie){return encodeURIComponent(ie).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nt(ie){return Et(ie).replace(/%3B/gi,";")}function tt(ie){return Et(ie).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ut(ie){return decodeURIComponent(ie)}function It(ie){return ut(ie.replace(/\+/g,"%20"))}function Be(ie){return`${tt(ie.path)}${function ct(ie){return Object.entries(ie).map(([pe,be])=>`;${tt(pe)}=${tt(be)}`).join("")}(ie.parameters)}`}const Pt=/^[^\/()?;#]+/;function zt(ie){const pe=ie.match(Pt);return pe?pe[0]:""}const mn=/^[^\/()?;=#]+/,bn=/^[^=?&#]+/,Sn=/^[^&#]+/;class nr{constructor(pe){this.url=pe,this.remaining=pe}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){const pe={};if(this.consumeOptional("?"))do{this.parseQueryParam(pe)}while(this.consumeOptional("&"));return pe}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const pe=[];for(this.peekStartsWith("(")||pe.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),pe.push(this.parseSegment());let be={};this.peekStartsWith("/(")&&(this.capture("/"),be=this.parseParens(!0));let he={};return this.peekStartsWith("(")&&(he=this.parseParens(!1)),(pe.length>0||Object.keys(be).length>0)&&(he[Oe]=new Ue(pe,be)),he}parseSegment(){const pe=zt(this.remaining);if(""===pe&&this.peekStartsWith(";"))throw new v.OBp(4009,!1);return this.capture(pe),new Me(ut(pe),this.parseMatrixParams())}parseMatrixParams(){const pe={};for(;this.consumeOptional(";");)this.parseParam(pe);return pe}parseParam(pe){const be=function gn(ie){const pe=ie.match(mn);return pe?pe[0]:""}(this.remaining);if(!be)return;this.capture(be);let he="";if(this.consumeOptional("=")){const we=zt(this.remaining);we&&(he=we,this.capture(he))}pe[ut(be)]=ut(he)}parseQueryParam(pe){const be=function Cn(ie){const pe=ie.match(bn);return pe?pe[0]:""}(this.remaining);if(!be)return;this.capture(be);let he="";if(this.consumeOptional("=")){const it=function tr(ie){const pe=ie.match(Sn);return pe?pe[0]:""}(this.remaining);it&&(he=it,this.capture(he))}const we=It(be),Xe=It(he);if(pe.hasOwnProperty(we)){let it=pe[we];Array.isArray(it)||(it=[it],pe[we]=it),it.push(Xe)}else pe[we]=Xe}parseParens(pe){const be={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const he=zt(this.remaining),we=this.remaining[he.length];if("/"!==we&&")"!==we&&";"!==we)throw new v.OBp(4010,!1);let Xe;he.indexOf(":")>-1?(Xe=he.slice(0,he.indexOf(":")),this.capture(Xe),this.capture(":")):pe&&(Xe=Oe);const it=this.parseChildren();be[Xe]=1===Object.keys(it).length?it[Oe]:new Ue([],it),this.consumeOptional("//")}return be}peekStartsWith(pe){return this.remaining.startsWith(pe)}consumeOptional(pe){return!!this.peekStartsWith(pe)&&(this.remaining=this.remaining.substring(pe.length),!0)}capture(pe){if(!this.consumeOptional(pe))throw new v.OBp(4011,!1)}}function zn(ie){return ie.segments.length>0?new Ue([],{[Oe]:ie}):ie}function Ln(ie){const pe={};for(const[he,we]of Object.entries(ie.children)){const Xe=Ln(we);if(he===Oe&&0===Xe.segments.length&&Xe.hasChildren())for(const[it,Xt]of Object.entries(Xe.children))pe[it]=Xt;else(Xe.segments.length>0||Xe.hasChildren())&&(pe[he]=Xe)}return function ee(ie){if(1===ie.numberOfChildren&&ie.children[Oe]){const pe=ie.children[Oe];return new Ue(ie.segments.concat(pe.segments),pe.children)}return ie}(new Ue(ie.segments,pe))}function oe(ie){return ie instanceof je}function O(ie){var pe;let be;const Xe=zn(function he(it){const Xt={};for(const tn of it.children){const Pn=he(tn);Xt[tn.outlet]=Pn}const En=new Ue(it.url,Xt);return it===ie&&(be=En),En}(ie.root));return null!==(pe=be)&&void 0!==pe?pe:Xe}function G(ie,pe,be,he){let we=ie;for(;we.parent;)we=we.parent;if(0===pe.length)return de(we,we,we,be,he);const Xe=function Pe(ie){if("string"==typeof ie[0]&&1===ie.length&&"/"===ie[0])return new ve(!0,0,ie);let pe=0,be=!1;const he=ie.reduce((we,Xe,it)=>{if("object"==typeof Xe&&null!=Xe){if(Xe.outlets){const Xt={};return Object.entries(Xe.outlets).forEach(([En,tn])=>{Xt[En]="string"==typeof tn?tn.split("/"):tn}),[...we,{outlets:Xt}]}if(Xe.segmentPath)return[...we,Xe.segmentPath]}return"string"!=typeof Xe?[...we,Xe]:0===it?(Xe.split("/").forEach((Xt,En)=>{0==En&&"."===Xt||(0==En&&""===Xt?be=!0:".."===Xt?pe++:""!=Xt&&we.push(Xt))}),we):[...we,Xe]},[]);return new ve(be,pe,he)}(pe);if(Xe.toRoot())return de(we,we,new Ue([],{}),be,he);const it=function Tt(ie,pe,be){if(ie.isAbsolute)return new ot(pe,!0,0);if(!be)return new ot(pe,!1,NaN);if(null===be.parent)return new ot(be,!0,0);const he=V(ie.commands[0])?0:1;return function sn(ie,pe,be){let he=ie,we=pe,Xe=be;for(;Xe>we;){if(Xe-=we,he=he.parent,!he)throw new v.OBp(4005,!1);we=he.segments.length}return new ot(he,!1,we-Xe)}(be,be.segments.length-1+he,ie.numberOfDoubleDots)}(Xe,we,ie),Xt=it.processChildren?kn(it.segmentGroup,it.index,Xe.commands):ln(it.segmentGroup,it.index,Xe.commands);return de(we,it.segmentGroup,Xt,be,he)}function V(ie){return"object"==typeof ie&&null!=ie&&!ie.outlets&&!ie.segmentPath}function Q(ie){return"object"==typeof ie&&null!=ie&&ie.outlets}function de(ie,pe,be,he,we){let it,Xe={};he&&Object.entries(he).forEach(([En,tn])=>{Xe[En]=Array.isArray(tn)?tn.map(Pn=>`${Pn}`):`${tn}`}),it=ie===pe?be:Z(ie,pe,be);const Xt=zn(Ln(it));return new je(Xt,Xe,we)}function Z(ie,pe,be){const he={};return Object.entries(ie.children).forEach(([we,Xe])=>{he[we]=Xe===pe?be:Z(Xe,pe,be)}),new Ue(ie.segments,he)}class ve{constructor(pe,be,he){if(this.isAbsolute=pe,this.numberOfDoubleDots=be,this.commands=he,pe&&he.length>0&&V(he[0]))throw new v.OBp(4003,!1);const we=he.find(Q);if(we&&we!==kt(he))throw new v.OBp(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ot{constructor(pe,be,he){this.segmentGroup=pe,this.processChildren=be,this.index=he}}function ln(ie,pe,be){var he;if(null!==(he=ie)&&void 0!==he||(ie=new Ue([],{})),0===ie.segments.length&&ie.hasChildren())return kn(ie,pe,be);const we=function Kn(ie,pe,be){let he=0,we=pe;const Xe={match:!1,pathIndex:0,commandIndex:0};for(;we<ie.segments.length;){if(he>=be.length)return Xe;const it=ie.segments[we],Xt=be[he];if(Q(Xt))break;const En=`${Xt}`,tn=he<be.length-1?be[he+1]:null;if(we>0&&void 0===En)break;if(En&&tn&&"object"==typeof tn&&void 0===tn.outlets){if(!at(En,tn,it))return Xe;he+=2}else{if(!at(En,{},it))return Xe;he++}we++}return{match:!0,pathIndex:we,commandIndex:he}}(ie,pe,be),Xe=be.slice(we.commandIndex);if(we.match&&we.pathIndex<ie.segments.length){const it=new Ue(ie.segments.slice(0,we.pathIndex),{});return it.children[Oe]=new Ue(ie.segments.slice(we.pathIndex),ie.children),kn(it,0,Xe)}return we.match&&0===Xe.length?new Ue(ie.segments,{}):we.match&&!ie.hasChildren()?Wn(ie,pe,be):we.match?kn(ie,0,Xe):Wn(ie,pe,be)}function kn(ie,pe,be){if(0===be.length)return new Ue(ie.segments,{});{const he=function _n(ie){return Q(ie[0])?ie[0].outlets:{[Oe]:ie}}(be),we={};if(Object.keys(he).some(Xe=>Xe!==Oe)&&ie.children[Oe]&&1===ie.numberOfChildren&&0===ie.children[Oe].segments.length){const Xe=kn(ie.children[Oe],pe,be);return new Ue(ie.segments,Xe.children)}return Object.entries(he).forEach(([Xe,it])=>{"string"==typeof it&&(it=[it]),null!==it&&(we[Xe]=ln(ie.children[Xe],pe,it))}),Object.entries(ie.children).forEach(([Xe,it])=>{void 0===he[Xe]&&(we[Xe]=it)}),new Ue(ie.segments,we)}}function Wn(ie,pe,be){const he=ie.segments.slice(0,pe);let we=0;for(;we<be.length;){const Xe=be[we];if(Q(Xe)){const En=Gr(Xe.outlets);return new Ue(he,En)}if(0===we&&V(be[0])){he.push(new Me(ie.segments[pe].path,Cr(be[0]))),we++;continue}const it=Q(Xe)?Xe.outlets[Oe]:`${Xe}`,Xt=we<be.length-1?be[we+1]:null;it&&Xt&&V(Xt)?(he.push(new Me(it,Cr(Xt))),we+=2):(he.push(new Me(it,{})),we++)}return new Ue(he,{})}function Gr(ie){const pe={};return Object.entries(ie).forEach(([be,he])=>{"string"==typeof he&&(he=[he]),null!==he&&(pe[be]=Wn(new Ue([],{}),0,he))}),pe}function Cr(ie){const pe={};return Object.entries(ie).forEach(([be,he])=>pe[be]=`${he}`),pe}function at(ie,pe,be){return ie==be.path&&bt(pe,be.parameters)}const ft="imperative";var Ge=function(ie){return ie[ie.NavigationStart=0]="NavigationStart",ie[ie.NavigationEnd=1]="NavigationEnd",ie[ie.NavigationCancel=2]="NavigationCancel",ie[ie.NavigationError=3]="NavigationError",ie[ie.RoutesRecognized=4]="RoutesRecognized",ie[ie.ResolveStart=5]="ResolveStart",ie[ie.ResolveEnd=6]="ResolveEnd",ie[ie.GuardsCheckStart=7]="GuardsCheckStart",ie[ie.GuardsCheckEnd=8]="GuardsCheckEnd",ie[ie.RouteConfigLoadStart=9]="RouteConfigLoadStart",ie[ie.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",ie[ie.ChildActivationStart=11]="ChildActivationStart",ie[ie.ChildActivationEnd=12]="ChildActivationEnd",ie[ie.ActivationStart=13]="ActivationStart",ie[ie.ActivationEnd=14]="ActivationEnd",ie[ie.Scroll=15]="Scroll",ie[ie.NavigationSkipped=16]="NavigationSkipped",ie}(Ge||{});class st{constructor(pe,be){this.id=pe,this.url=be}}class Vt extends st{constructor(pe,be,he="imperative",we=null){super(pe,be),this.type=Ge.NavigationStart,this.navigationTrigger=he,this.restoredState=we}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cn extends st{constructor(pe,be,he){super(pe,be),this.urlAfterRedirects=he,this.type=Ge.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var An=function(ie){return ie[ie.Redirect=0]="Redirect",ie[ie.SupersededByNewNavigation=1]="SupersededByNewNavigation",ie[ie.NoDataFromResolver=2]="NoDataFromResolver",ie[ie.GuardRejected=3]="GuardRejected",ie}(An||{}),At=function(ie){return ie[ie.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",ie[ie.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",ie}(At||{});class Ae extends st{constructor(pe,be,he,we){super(pe,be),this.reason=he,this.code=we,this.type=Ge.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class We extends st{constructor(pe,be,he,we){super(pe,be),this.reason=he,this.code=we,this.type=Ge.NavigationSkipped}}class Dt extends st{constructor(pe,be,he,we){super(pe,be),this.error=he,this.target=we,this.type=Ge.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Rt extends st{constructor(pe,be,he,we){super(pe,be),this.urlAfterRedirects=he,this.state=we,this.type=Ge.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wt extends st{constructor(pe,be,he,we){super(pe,be),this.urlAfterRedirects=he,this.state=we,this.type=Ge.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class re extends st{constructor(pe,be,he,we,Xe){super(pe,be),this.urlAfterRedirects=he,this.state=we,this.shouldActivate=Xe,this.type=Ge.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Re extends st{constructor(pe,be,he,we){super(pe,be),this.urlAfterRedirects=he,this.state=we,this.type=Ge.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ye extends st{constructor(pe,be,he,we){super(pe,be),this.urlAfterRedirects=he,this.state=we,this.type=Ge.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class He{constructor(pe){this.route=pe,this.type=Ge.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pt{constructor(pe){this.route=pe,this.type=Ge.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Jt{constructor(pe){this.snapshot=pe,this.type=Ge.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dn{constructor(pe){this.snapshot=pe,this.type=Ge.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class On{constructor(pe){this.snapshot=pe,this.type=Ge.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hn{constructor(pe){this.snapshot=pe,this.type=Ge.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xn{constructor(pe,be,he){this.routerEvent=pe,this.position=be,this.anchor=he,this.type=Ge.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Or{}class Tr{constructor(pe){this.url=pe}}class Uo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Fr,this.attachRef=null}}let Fr=(()=>{var ie;class pe{constructor(){this.contexts=new Map}onChildOutletCreated(he,we){const Xe=this.getOrCreateContext(he);Xe.outlet=we,this.contexts.set(he,Xe)}onChildOutletDestroyed(he){const we=this.getContext(he);we&&(we.outlet=null,we.attachRef=null)}onOutletDeactivated(){const he=this.contexts;return this.contexts=new Map,he}onOutletReAttached(he){this.contexts=he}getOrCreateContext(he){let we=this.getContext(he);return we||(we=new Uo,this.contexts.set(he,we)),we}getContext(he){return this.contexts.get(he)||null}}return(ie=pe).\u0275fac=function(he){return new(he||ie)},ie.\u0275prov=v.wxM({token:ie,factory:ie.\u0275fac,providedIn:"root"}),pe})();class hr{constructor(pe){this._root=pe}get root(){return this._root.value}parent(pe){const be=this.pathFromRoot(pe);return be.length>1?be[be.length-2]:null}children(pe){const be=Tn(pe,this._root);return be?be.children.map(he=>he.value):[]}firstChild(pe){const be=Tn(pe,this._root);return be&&be.children.length>0?be.children[0].value:null}siblings(pe){const be=Fn(pe,this._root);return be.length<2?[]:be[be.length-2].children.map(we=>we.value).filter(we=>we!==pe)}pathFromRoot(pe){return Fn(pe,this._root).map(be=>be.value)}}function Tn(ie,pe){if(ie===pe.value)return pe;for(const be of pe.children){const he=Tn(ie,be);if(he)return he}return null}function Fn(ie,pe){if(ie===pe.value)return[pe];for(const be of pe.children){const he=Fn(ie,be);if(he.length)return he.unshift(pe),he}return[]}class dr{constructor(pe,be){this.value=pe,this.children=be}toString(){return`TreeNode(${this.value})`}}function Yr(ie){const pe={};return ie&&ie.children.forEach(be=>pe[be.value.outlet]=be),pe}class _r extends hr{constructor(pe,be){super(pe),this.snapshot=be,ro(this,pe)}toString(){return this.snapshot.toString()}}function Rr(ie){const pe=function uo(ie){const Xe=new $r([],{},{},"",{},Oe,ie,null,{});return new qn("",new dr(Xe,[]))}(ie),be=new C.g([new Me("",{})]),he=new C.g({}),we=new C.g({}),Xe=new C.g({}),it=new C.g(""),Xt=new lr(be,he,Xe,it,we,Oe,ie,pe.root);return Xt.snapshot=pe.root,new _r(new dr(Xt,[]),pe)}class lr{constructor(pe,be,he,we,Xe,it,Xt,En){var tn,Pn;this.urlSubject=pe,this.paramsSubject=be,this.queryParamsSubject=he,this.fragmentSubject=we,this.dataSubject=Xe,this.outlet=it,this.component=Xt,this._futureSnapshot=En,this.title=null!==(tn=null===(Pn=this.dataSubject)||void 0===Pn?void 0:Pn.pipe((0,m.k)(Zn=>Zn[$e])))&&void 0!==tn?tn:(0,H.of)(void 0),this.url=pe,this.params=be,this.queryParams=he,this.fragment=we,this.data=Xe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var pe;return null!==(pe=this._paramMap)&&void 0!==pe||(this._paramMap=this.params.pipe((0,m.k)(be=>Te(be)))),this._paramMap}get queryParamMap(){var pe;return null!==(pe=this._queryParamMap)&&void 0!==pe||(this._queryParamMap=this.queryParams.pipe((0,m.k)(be=>Te(be)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gr(ie,pe,be="emptyOnly"){var he;let we;const{routeConfig:Xe}=ie;var it;return we=null===pe||"always"!==be&&""!==(null==Xe?void 0:Xe.path)&&(pe.component||null!==(he=pe.routeConfig)&&void 0!==he&&he.loadComponent)?{params:{...ie.params},data:{...ie.data},resolve:{...ie.data,...null!==(it=ie._resolvedData)&&void 0!==it?it:{}}}:{params:{...pe.params,...ie.params},data:{...pe.data,...ie.data},resolve:{...ie.data,...pe.data,...null==Xe?void 0:Xe.data,...ie._resolvedData}},Xe&&So(Xe)&&(we.resolve[$e]=Xe.title),we}class $r{get title(){var pe;return null===(pe=this.data)||void 0===pe?void 0:pe[$e]}constructor(pe,be,he,we,Xe,it,Xt,En,tn){this.url=pe,this.params=be,this.queryParams=he,this.fragment=we,this.data=Xe,this.outlet=it,this.component=Xt,this.routeConfig=En,this._resolve=tn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var pe;return null!==(pe=this._paramMap)&&void 0!==pe||(this._paramMap=Te(this.params)),this._paramMap}get queryParamMap(){var pe;return null!==(pe=this._queryParamMap)&&void 0!==pe||(this._queryParamMap=Te(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(he=>he.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qn extends hr{constructor(pe,be){super(be),this.url=pe,ro(this,be)}toString(){return zo(this._root)}}function ro(ie,pe){pe.value._routerState=ie,pe.children.forEach(be=>ro(ie,be))}function zo(ie){const pe=ie.children.length>0?` { ${ie.children.map(zo).join(", ")} } `:"";return`${ie.value}${pe}`}function Eo(ie){if(ie.snapshot){const pe=ie.snapshot,be=ie._futureSnapshot;ie.snapshot=be,bt(pe.queryParams,be.queryParams)||ie.queryParamsSubject.next(be.queryParams),pe.fragment!==be.fragment&&ie.fragmentSubject.next(be.fragment),bt(pe.params,be.params)||ie.paramsSubject.next(be.params),function Ye(ie,pe){if(ie.length!==pe.length)return!1;for(let be=0;be<ie.length;++be)if(!bt(ie[be],pe[be]))return!1;return!0}(pe.url,be.url)||ie.urlSubject.next(be.url),bt(pe.data,be.data)||ie.dataSubject.next(be.data)}else ie.snapshot=ie._futureSnapshot,ie.dataSubject.next(ie._futureSnapshot.data)}function Sr(ie,pe){const be=bt(ie.params,pe.params)&&function Ke(ie,pe){return wt(ie,pe)&&ie.every((be,he)=>bt(be.parameters,pe[he].parameters))}(ie.url,pe.url);return be&&!(!ie.parent!=!pe.parent)&&(!ie.parent||Sr(ie.parent,pe.parent))}function So(ie){return"string"==typeof ie.title||null===ie.title}let To=(()=>{var ie;class pe{constructor(){this.activated=null,this._activatedRoute=null,this.name=Oe,this.activateEvents=new v._w7,this.deactivateEvents=new v._w7,this.attachEvents=new v._w7,this.detachEvents=new v._w7,this.parentContexts=(0,v.uUt)(Fr),this.location=(0,v.uUt)(v.y8U),this.changeDetector=(0,v.uUt)(v.kD9),this.environmentInjector=(0,v.uUt)(v.SIe),this.inputBinder=(0,v.uUt)(po,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(he){if(he.name){const{firstChange:we,previousValue:Xe}=he.name;if(we)return;this.isTrackedInParentContexts(Xe)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Xe)),this.initializeOutletWithName()}}ngOnDestroy(){var he;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(he=this.inputBinder)||void 0===he||he.unsubscribeFromRouteData(this)}isTrackedInParentContexts(he){var we;return(null===(we=this.parentContexts.getContext(he))||void 0===we?void 0:we.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const he=this.parentContexts.getContext(this.name);null!=he&&he.route&&(he.attachRef?this.attach(he.attachRef,he.route):this.activateWith(he.route,he.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v.OBp(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v.OBp(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v.OBp(4012,!1);this.location.detach();const he=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(he.instance),he}attach(he,we){var Xe;this.activated=he,this._activatedRoute=we,this.location.insert(he.hostView),null===(Xe=this.inputBinder)||void 0===Xe||Xe.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(he.instance)}deactivate(){if(this.activated){const he=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(he)}}activateWith(he,we){var Xe;if(this.isActivated)throw new v.OBp(4013,!1);this._activatedRoute=he;const it=this.location,En=he.snapshot.component,tn=this.parentContexts.getOrCreateContext(this.name).children,Pn=new ho(he,tn,it.injector);this.activated=it.createComponent(En,{index:it.length,injector:Pn,environmentInjector:null!=we?we:this.environmentInjector}),this.changeDetector.markForCheck(),null===(Xe=this.inputBinder)||void 0===Xe||Xe.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(ie=pe).\u0275fac=function(he){return new(he||ie)},ie.\u0275dir=v.Sc5({type:ie,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[v.SYr]}),pe})();class ho{constructor(pe,be,he){this.route=pe,this.childContexts=be,this.parent=he}get(pe,be){return pe===lr?this.route:pe===Fr?this.childContexts:this.parent.get(pe,be)}}const po=new v.UbH("");let qo=(()=>{var ie;class pe{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(he){this.unsubscribeFromRouteData(he),this.subscribeToRouteData(he)}unsubscribeFromRouteData(he){var we;null===(we=this.outletDataSubscriptions.get(he))||void 0===we||we.unsubscribe(),this.outletDataSubscriptions.delete(he)}subscribeToRouteData(he){const{activatedRoute:we}=he,Xe=(0,y.E)([we.queryParams,we.params,we.data]).pipe((0,p.G)(([it,Xt,En],tn)=>(En={...it,...Xt,...En},0===tn?(0,H.of)(En):Promise.resolve(En)))).subscribe(it=>{if(!he.isActivated||!he.activatedComponentRef||he.activatedRoute!==we||null===we.component)return void this.unsubscribeFromRouteData(he);const Xt=(0,v.o9M)(we.component);if(Xt)for(const{templateName:En}of Xt.inputs)he.activatedComponentRef.setInput(En,it[En]);else this.unsubscribeFromRouteData(he)});this.outletDataSubscriptions.set(he,Xe)}}return(ie=pe).\u0275fac=function(he){return new(he||ie)},ie.\u0275prov=v.wxM({token:ie,factory:ie.\u0275fac}),pe})();function mo(ie,pe,be){if(be&&ie.shouldReuseRoute(pe.value,be.value.snapshot)){const he=be.value;he._futureSnapshot=pe.value;const we=function ko(ie,pe,be){return pe.children.map(he=>{for(const we of be.children)if(ie.shouldReuseRoute(he.value,we.value.snapshot))return mo(ie,he,we);return mo(ie,he)})}(ie,pe,be);return new dr(he,we)}{if(ie.shouldAttach(pe.value)){const Xe=ie.retrieve(pe.value);if(null!==Xe){const it=Xe.route;return it.value._futureSnapshot=pe.value,it.children=pe.children.map(Xt=>mo(ie,Xt)),it}}const he=function Yn(ie){return new lr(new C.g(ie.url),new C.g(ie.params),new C.g(ie.queryParams),new C.g(ie.fragment),new C.g(ie.data),ie.outlet,ie.component,ie)}(pe.value),we=pe.children.map(Xe=>mo(ie,Xe));return new dr(he,we)}}const Bo="ngNavigationCancelingError";function oo(ie,pe){const{redirectTo:be,navigationBehaviorOptions:he}=oe(pe)?{redirectTo:pe,navigationBehaviorOptions:void 0}:pe,we=co(!1,An.Redirect);return we.url=be,we.navigationBehaviorOptions=he,we}function co(ie,pe){const be=new Error(`NavigationCancelingError: ${ie||""}`);return be[Bo]=!0,be.cancellationCode=pe,be}function No(ie){return!!ie&&ie[Bo]}let yr=(()=>{var ie;class pe{}return(ie=pe).\u0275fac=function(he){return new(he||ie)},ie.\u0275cmp=v.In1({type:ie,selectors:[["ng-component"]],standalone:!0,features:[v.UHJ],decls:1,vars:0,template:function(he,we){1&he&&v.wR5(0,"router-outlet")},dependencies:[To],encapsulation:2}),pe})();function li(ie){const pe=ie.children&&ie.children.map(li),be=pe?{...ie,children:pe}:{...ie};return!be.component&&!be.loadComponent&&(pe||be.loadChildren)&&be.outlet&&be.outlet!==Oe&&(be.component=yr),be}function go(ie){return ie.outlet||Oe}function Ko(ie){var pe;if(!ie)return null;if(null!==(pe=ie.routeConfig)&&void 0!==pe&&pe._injector)return ie.routeConfig._injector;for(let be=ie.parent;be;be=be.parent){const he=be.routeConfig;if(null!=he&&he._loadedInjector)return he._loadedInjector;if(null!=he&&he._injector)return he._injector}return null}class Zi{constructor(pe,be,he,we,Xe){this.routeReuseStrategy=pe,this.futureState=be,this.currState=he,this.forwardEvent=we,this.inputBindingEnabled=Xe}activate(pe){const be=this.futureState._root,he=this.currState?this.currState._root:null;this.deactivateChildRoutes(be,he,pe),Eo(this.futureState.root),this.activateChildRoutes(be,he,pe)}deactivateChildRoutes(pe,be,he){const we=Yr(be);pe.children.forEach(Xe=>{const it=Xe.value.outlet;this.deactivateRoutes(Xe,we[it],he),delete we[it]}),Object.values(we).forEach(Xe=>{this.deactivateRouteAndItsChildren(Xe,he)})}deactivateRoutes(pe,be,he){const we=pe.value,Xe=be?be.value:null;if(we===Xe)if(we.component){const it=he.getContext(we.outlet);it&&this.deactivateChildRoutes(pe,be,it.children)}else this.deactivateChildRoutes(pe,be,he);else Xe&&this.deactivateRouteAndItsChildren(be,he)}deactivateRouteAndItsChildren(pe,be){pe.value.component&&this.routeReuseStrategy.shouldDetach(pe.value.snapshot)?this.detachAndStoreRouteSubtree(pe,be):this.deactivateRouteAndOutlet(pe,be)}detachAndStoreRouteSubtree(pe,be){const he=be.getContext(pe.value.outlet),we=he&&pe.value.component?he.children:be,Xe=Yr(pe);for(const it of Object.values(Xe))this.deactivateRouteAndItsChildren(it,we);if(he&&he.outlet){const it=he.outlet.detach(),Xt=he.children.onOutletDeactivated();this.routeReuseStrategy.store(pe.value.snapshot,{componentRef:it,route:pe,contexts:Xt})}}deactivateRouteAndOutlet(pe,be){const he=be.getContext(pe.value.outlet),we=he&&pe.value.component?he.children:be,Xe=Yr(pe);for(const it of Object.values(Xe))this.deactivateRouteAndItsChildren(it,we);he&&(he.outlet&&(he.outlet.deactivate(),he.children.onOutletDeactivated()),he.attachRef=null,he.route=null)}activateChildRoutes(pe,be,he){const we=Yr(be);pe.children.forEach(Xe=>{this.activateRoutes(Xe,we[Xe.value.outlet],he),this.forwardEvent(new Hn(Xe.value.snapshot))}),pe.children.length&&this.forwardEvent(new Dn(pe.value.snapshot))}activateRoutes(pe,be,he){const we=pe.value,Xe=be?be.value:null;if(Eo(we),we===Xe)if(we.component){const it=he.getOrCreateContext(we.outlet);this.activateChildRoutes(pe,be,it.children)}else this.activateChildRoutes(pe,be,he);else if(we.component){const it=he.getOrCreateContext(we.outlet);if(this.routeReuseStrategy.shouldAttach(we.snapshot)){const Xt=this.routeReuseStrategy.retrieve(we.snapshot);this.routeReuseStrategy.store(we.snapshot,null),it.children.onOutletReAttached(Xt.contexts),it.attachRef=Xt.componentRef,it.route=Xt.route.value,it.outlet&&it.outlet.attach(Xt.componentRef,Xt.route.value),Eo(Xt.route.value),this.activateChildRoutes(pe,null,it.children)}else{const Xt=Ko(we.snapshot);it.attachRef=null,it.route=we,it.injector=Xt,it.outlet&&it.outlet.activateWith(we,it.injector),this.activateChildRoutes(pe,null,it.children)}}else this.activateChildRoutes(pe,null,he)}}class Si{constructor(pe){this.path=pe,this.route=this.path[this.path.length-1]}}class mi{constructor(pe,be){this.component=pe,this.route=be}}function Qi(ie,pe,be){const he=ie._root;return oi(he,pe?pe._root:null,be,[he.value])}function ui(ie,pe){const be=Symbol(),he=pe.get(ie,be);return he===be?"function"!=typeof ie||(0,v.K_M)(ie)?pe.get(ie):ie:he}function oi(ie,pe,be,he,we={canDeactivateChecks:[],canActivateChecks:[]}){const Xe=Yr(pe);return ie.children.forEach(it=>{(function Wr(ie,pe,be,he,we={canDeactivateChecks:[],canActivateChecks:[]}){const Xe=ie.value,it=pe?pe.value:null,Xt=be?be.getContext(ie.value.outlet):null;if(it&&Xe.routeConfig===it.routeConfig){const En=function Di(ie,pe,be){if("function"==typeof be)return be(ie,pe);switch(be){case"pathParamsChange":return!wt(ie.url,pe.url);case"pathParamsOrQueryParamsChange":return!wt(ie.url,pe.url)||!bt(ie.queryParams,pe.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sr(ie,pe)||!bt(ie.queryParams,pe.queryParams);default:return!Sr(ie,pe)}}(it,Xe,Xe.routeConfig.runGuardsAndResolvers);En?we.canActivateChecks.push(new Si(he)):(Xe.data=it.data,Xe._resolvedData=it._resolvedData),oi(ie,pe,Xe.component?Xt?Xt.children:null:be,he,we),En&&Xt&&Xt.outlet&&Xt.outlet.isActivated&&we.canDeactivateChecks.push(new mi(Xt.outlet.component,it))}else it&&x(pe,Xt,we),we.canActivateChecks.push(new Si(he)),oi(ie,null,Xe.component?Xt?Xt.children:null:be,he,we)})(it,Xe[it.value.outlet],be,he.concat([it.value]),we),delete Xe[it.value.outlet]}),Object.entries(Xe).forEach(([it,Xt])=>x(Xt,be.getContext(it),we)),we}function x(ie,pe,be){const he=Yr(ie),we=ie.value;Object.entries(he).forEach(([Xe,it])=>{x(it,we.component?pe?pe.children.getContext(Xe):null:pe,be)}),be.canDeactivateChecks.push(new mi(we.component&&pe&&pe.outlet&&pe.outlet.isActivated?pe.outlet.component:null,we))}function L(ie){return"function"==typeof ie}function qe(ie){return ie instanceof h||"EmptyError"===(null==ie?void 0:ie.name)}const nt=Symbol("INITIAL_VALUE");function Mt(){return(0,p.G)(ie=>(0,y.E)(ie.map(pe=>pe.pipe((0,b.U)(1),function k(...ie){const pe=(0,T.e_)(ie);return(0,F.i)((be,he)=>{(pe?(0,f.W)(ie,be,pe):(0,f.W)(ie,be)).subscribe(he)})}(nt)))).pipe((0,m.k)(pe=>{for(const be of pe)if(!0!==be){if(be===nt)return nt;if(!1===be||be instanceof je)return be}return!0}),(0,A.I)(pe=>pe!==nt),(0,b.U)(1)))}function Gn(ie){return(0,w.W)((0,ne.y)(pe=>{if(oe(pe))throw oo(0,pe)}),(0,m.k)(pe=>!0===pe))}class Bn{constructor(pe){this.segmentGroup=pe||null}}class Qn extends Error{constructor(pe){super(),this.urlTree=pe}}function er(ie){return(0,a.c)(new Bn(ie))}class Jr{constructor(pe,be){this.urlSerializer=pe,this.urlTree=be}lineralizeSegments(pe,be){let he=[],we=be.root;for(;;){if(he=he.concat(we.segments),0===we.numberOfChildren)return(0,H.of)(he);if(we.numberOfChildren>1||!we.children[Oe])return(0,a.c)(new v.OBp(4e3,!1));we=we.children[Oe]}}applyRedirectCommands(pe,be,he){const we=this.applyRedirectCreateUrlTree(be,this.urlSerializer.parse(be),pe,he);if(be.startsWith("/"))throw new Qn(we);return we}applyRedirectCreateUrlTree(pe,be,he,we){const Xe=this.createSegmentGroup(pe,be.root,he,we);return new je(Xe,this.createQueryParams(be.queryParams,this.urlTree.queryParams),be.fragment)}createQueryParams(pe,be){const he={};return Object.entries(pe).forEach(([we,Xe])=>{if("string"==typeof Xe&&Xe.startsWith(":")){const Xt=Xe.substring(1);he[we]=be[Xt]}else he[we]=Xe}),he}createSegmentGroup(pe,be,he,we){const Xe=this.createSegments(pe,be.segments,he,we);let it={};return Object.entries(be.children).forEach(([Xt,En])=>{it[Xt]=this.createSegmentGroup(pe,En,he,we)}),new Ue(Xe,it)}createSegments(pe,be,he,we){return be.map(Xe=>Xe.path.startsWith(":")?this.findPosParam(pe,Xe,we):this.findOrReturn(Xe,he))}findPosParam(pe,be,he){const we=he[be.path.substring(1)];if(!we)throw new v.OBp(4001,!1);return we}findOrReturn(pe,be){let he=0;for(const we of be){if(we.path===pe.path)return be.splice(he),we;he++}return pe}}const fo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wr(ie,pe,be,he,we){const Xe=Dr(ie,pe,be);return Xe.matched?(he=function Yo(ie,pe){var be;return ie.providers&&!ie._injector&&(ie._injector=(0,v.SIz)(ie.providers,pe,`Route: ${ie.path}`)),null!==(be=ie._injector)&&void 0!==be?be:pe}(pe,he),function $n(ie,pe,be,he){const we=pe.canMatch;if(!we||0===we.length)return(0,H.of)(!0);const Xe=we.map(it=>{const Xt=ui(it,ie);return Ht(function ke(ie){return ie&&L(ie.canMatch)}(Xt)?Xt.canMatch(pe,be):(0,v.SMS)(ie,()=>Xt(pe,be)))});return(0,H.of)(Xe).pipe(Mt(),Gn())}(he,pe,be).pipe((0,m.k)(it=>!0===it?Xe:{...fo}))):(0,H.of)(Xe)}function Dr(ie,pe,be){var he,we;if("**"===pe.path)return function mr(ie){return{matched:!0,parameters:ie.length>0?kt(ie).parameters:{},consumedSegments:ie,remainingSegments:[],positionalParamSegments:{}}}(be);if(""===pe.path)return"full"===pe.pathMatch&&(ie.hasChildren()||be.length>0)?{...fo}:{matched:!0,consumedSegments:[],remainingSegments:be,parameters:{},positionalParamSegments:{}};const it=(pe.matcher||Je)(be,ie,pe);if(!it)return{...fo};const Xt={};Object.entries(null!==(he=it.posParams)&&void 0!==he?he:{}).forEach(([tn,Pn])=>{Xt[tn]=Pn.path});const En=it.consumed.length>0?{...Xt,...it.consumed[it.consumed.length-1].parameters}:Xt;return{matched:!0,consumedSegments:it.consumed,remainingSegments:be.slice(it.consumed.length),parameters:En,positionalParamSegments:null!==(we=it.posParams)&&void 0!==we?we:{}}}function Pr(ie,pe,be,he){return be.length>0&&function Nr(ie,pe,be){return be.some(he=>Jo(ie,pe,he)&&go(he)!==Oe)}(ie,be,he)?{segmentGroup:new Ue(pe,to(he,new Ue(be,ie.children))),slicedSegments:[]}:0===be.length&&function no(ie,pe,be){return be.some(he=>Jo(ie,pe,he))}(ie,be,he)?{segmentGroup:new Ue(ie.segments,Nn(ie,be,he,ie.children)),slicedSegments:be}:{segmentGroup:new Ue(ie.segments,ie.children),slicedSegments:be}}function Nn(ie,pe,be,he){const we={};for(const Xe of be)if(Jo(ie,pe,Xe)&&!he[go(Xe)]){const it=new Ue([],{});we[go(Xe)]=it}return{...he,...we}}function to(ie,pe){const be={};be[Oe]=pe;for(const he of ie)if(""===he.path&&go(he)!==Oe){const we=new Ue([],{});be[go(he)]=we}return be}function Jo(ie,pe,be){return(!(ie.hasChildren()||pe.length>0)||"full"!==be.pathMatch)&&""===be.path}class Mi{}class Ia{constructor(pe,be,he,we,Xe,it,Xt){this.injector=pe,this.configLoader=be,this.rootComponentType=he,this.config=we,this.urlTree=Xe,this.paramsInheritanceStrategy=it,this.urlSerializer=Xt,this.applyRedirects=new Jr(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(pe){return new v.OBp(4002,`'${pe.segmentGroup}'`)}recognize(){const pe=Pr(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(pe).pipe((0,m.k)(be=>{const he=new $r([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Oe,this.rootComponentType,null,{}),we=new dr(he,be),Xe=new qn("",we),it=function _e(ie,pe,be=null,he=null){return G(O(ie),pe,be,he)}(he,[],this.urlTree.queryParams,this.urlTree.fragment);return it.queryParams=this.urlTree.queryParams,Xe.url=this.urlSerializer.serialize(it),this.inheritParamsAndData(Xe._root,null),{state:Xe,tree:it}}))}match(pe){return this.processSegmentGroup(this.injector,this.config,pe,Oe).pipe(q(he=>{if(he instanceof Qn)return this.urlTree=he.urlTree,this.match(he.urlTree.root);throw he instanceof Bn?this.noMatchError(he):he}))}inheritParamsAndData(pe,be){const he=pe.value,we=gr(he,be,this.paramsInheritanceStrategy);he.params=Object.freeze(we.params),he.data=Object.freeze(we.data),pe.children.forEach(Xe=>this.inheritParamsAndData(Xe,he))}processSegmentGroup(pe,be,he,we){return 0===he.segments.length&&he.hasChildren()?this.processChildren(pe,be,he):this.processSegment(pe,be,he,he.segments,we,!0).pipe((0,m.k)(Xe=>Xe instanceof dr?[Xe]:[]))}processChildren(pe,be,he){const we=[];for(const Xe of Object.keys(he.children))"primary"===Xe?we.unshift(Xe):we.push(Xe);return(0,r.Q)(we).pipe(W(Xe=>{const it=he.children[Xe],Xt=function vr(ie,pe){const be=ie.filter(he=>go(he)===pe);return be.push(...ie.filter(he=>go(he)!==pe)),be}(be,Xe);return this.processSegmentGroup(pe,Xt,it,Xe)}),function fe(ie,pe){return(0,F.i)(function ae(ie,pe,be,he,we){return(Xe,it)=>{let Xt=be,En=pe,tn=0;Xe.subscribe((0,$.e)(it,Pn=>{const Zn=tn++;En=Xt?ie(En,Pn,Zn):(Xt=!0,Pn),he&&it.next(En)},we&&(()=>{Xt&&it.next(En),it.complete()})))}}(ie,pe,arguments.length>=2,!0))}((Xe,it)=>(Xe.push(...it),Xe)),j(null),function K(ie,pe){const be=arguments.length>=2;return he=>he.pipe(ie?(0,A.I)((we,Xe)=>ie(we,Xe,he)):B.Z,Se(1),be?j(pe):N(()=>new h))}(),(0,P.O)(Xe=>{if(null===Xe)return er(he);const it=hn(Xe);return function kl(ie){ie.sort((pe,be)=>pe.value.outlet===Oe?-1:be.value.outlet===Oe?1:pe.value.outlet.localeCompare(be.value.outlet))}(it),(0,H.of)(it)}))}processSegment(pe,be,he,we,Xe,it){return(0,r.Q)(be).pipe(W(Xt=>{var En;return this.processSegmentAgainstRoute(null!==(En=Xt._injector)&&void 0!==En?En:pe,be,Xt,he,we,Xe,it).pipe(q(tn=>{if(tn instanceof Bn)return(0,H.of)(null);throw tn}))}),z(Xt=>!!Xt),q(Xt=>{if(qe(Xt))return function Fi(ie,pe,be){return 0===pe.length&&!ie.children[be]}(he,we,Xe)?(0,H.of)(new Mi):er(he);throw Xt}))}processSegmentAgainstRoute(pe,be,he,we,Xe,it,Xt){return function ci(ie,pe,be,he){return!!(go(ie)===he||he!==Oe&&Jo(pe,be,ie))&&Dr(pe,ie,be).matched}(he,we,Xe,it)?void 0===he.redirectTo?this.matchSegmentAgainstRoute(pe,we,he,Xe,it):this.allowRedirects&&Xt?this.expandSegmentAgainstRouteUsingRedirect(pe,we,be,he,Xe,it):er(we):er(we)}expandSegmentAgainstRouteUsingRedirect(pe,be,he,we,Xe,it){const{matched:Xt,consumedSegments:En,positionalParamSegments:tn,remainingSegments:Pn}=Dr(be,we,Xe);if(!Xt)return er(be);we.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Zn=this.applyRedirects.applyRedirectCommands(En,we.redirectTo,tn);return this.applyRedirects.lineralizeSegments(we,Zn).pipe((0,P.O)(qr=>this.processSegment(pe,he,be,qr.concat(Pn),it,!1)))}matchSegmentAgainstRoute(pe,be,he,we,Xe){const it=wr(be,he,we,pe);return"**"===he.path&&(be.children={}),it.pipe((0,p.G)(Xt=>{var En;return Xt.matched?(pe=null!==(En=he._injector)&&void 0!==En?En:pe,this.getChildConfig(pe,he,we).pipe((0,p.G)(({routes:tn})=>{var Pn,Zn,qr;const xr=null!==(Pn=he._loadedInjector)&&void 0!==Pn?Pn:pe,{consumedSegments:Vn,remainingSegments:si,parameters:Oi}=Xt,ji=new $r(Vn,Oi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function _s(ie){return ie.data||{}}(he),go(he),null!==(Zn=null!==(qr=he.component)&&void 0!==qr?qr:he._loadedComponent)&&void 0!==Zn?Zn:null,he,function Aa(ie){return ie.resolve||{}}(he)),{segmentGroup:Gi,slicedSegments:Pi}=Pr(be,Vn,si,tn);if(0===Pi.length&&Gi.hasChildren())return this.processChildren(xr,tn,Gi).pipe((0,m.k)(ki=>null===ki?null:new dr(ji,ki)));if(0===tn.length&&0===Pi.length)return(0,H.of)(new dr(ji,[]));const Ac=go(he)===Xe;return this.processSegment(xr,tn,Gi,Pi,Ac?Oe:Xe,!0).pipe((0,m.k)(ki=>new dr(ji,ki instanceof dr?[ki]:[])))}))):er(be)}))}getChildConfig(pe,be,he){return be.children?(0,H.of)({routes:be.children,injector:pe}):be.loadChildren?void 0!==be._loadedRoutes?(0,H.of)({routes:be._loadedRoutes,injector:be._loadedInjector}):function Un(ie,pe,be,he){const we=pe.canLoad;if(void 0===we||0===we.length)return(0,H.of)(!0);const Xe=we.map(it=>{const Xt=ui(it,ie);return Ht(function S(ie){return ie&&L(ie.canLoad)}(Xt)?Xt.canLoad(pe,be):(0,v.SMS)(ie,()=>Xt(pe,be)))});return(0,H.of)(Xe).pipe(Mt(),Gn())}(pe,be,he).pipe((0,P.O)(we=>we?this.configLoader.loadChildren(pe,be).pipe((0,ne.y)(Xe=>{be._loadedRoutes=Xe.routes,be._loadedInjector=Xe.injector})):function Qr(ie){return(0,a.c)(co(!1,An.GuardRejected))}())):(0,H.of)({routes:[],injector:pe})}}function Ta(ie){const pe=ie.value.routeConfig;return pe&&""===pe.path}function hn(ie){const pe=[],be=new Set;for(const he of ie){if(!Ta(he)){pe.push(he);continue}const we=pe.find(Xe=>he.value.routeConfig===Xe.value.routeConfig);void 0!==we?(we.children.push(...he.children),be.add(we)):pe.push(he)}for(const he of be){const we=hn(he.children);pe.push(new dr(he.value,we))}return pe.filter(he=>!be.has(he))}function Ii(ie){const pe=ie.children.map(be=>Ii(be)).flat();return[ie,...pe]}function xs(ie){return(0,p.G)(pe=>{const be=ie(pe);return be?(0,r.Q)(be).pipe((0,m.k)(()=>pe)):(0,H.of)(pe)})}let Rl=(()=>{var ie;class pe{buildTitle(he){let we,Xe=he.root;for(;void 0!==Xe;){var it;we=null!==(it=this.getResolvedTitleForRoute(Xe))&&void 0!==it?it:we,Xe=Xe.children.find(Xt=>Xt.outlet===Oe)}return we}getResolvedTitleForRoute(he){return he.data[$e]}}return(ie=pe).\u0275fac=function(he){return new(he||ie)},ie.\u0275prov=v.wxM({token:ie,factory:()=>(0,v.uUt)(ja),providedIn:"root"}),pe})(),ja=(()=>{var ie;class pe extends Rl{constructor(he){super(),this.title=he}updateTitle(he){const we=this.buildTitle(he);void 0!==we&&this.title.setTitle(we)}}return(ie=pe).\u0275fac=function(he){return new(he||ie)(v.CoB(et.OY))},ie.\u0275prov=v.wxM({token:ie,factory:ie.\u0275fac,providedIn:"root"}),pe})();const Br=new v.UbH("",{providedIn:"root",factory:()=>({})}),Mo=new v.UbH("");let es=(()=>{var ie;class pe{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,v.uUt)(v.ESV)}loadComponent(he){if(this.componentLoaders.get(he))return this.componentLoaders.get(he);if(he._loadedComponent)return(0,H.of)(he._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(he);const we=Ht(he.loadComponent()).pipe((0,m.k)(dt),(0,ne.y)(it=>{this.onLoadEndListener&&this.onLoadEndListener(he),he._loadedComponent=it}),se(()=>{this.componentLoaders.delete(he)})),Xe=new d.C(we,()=>new u.E).pipe((0,ge.O)());return this.componentLoaders.set(he,Xe),Xe}loadChildren(he,we){if(this.childrenLoaders.get(we))return this.childrenLoaders.get(we);if(we._loadedRoutes)return(0,H.of)({routes:we._loadedRoutes,injector:we._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(we);const it=function ce(ie,pe,be,he){return Ht(ie.loadChildren()).pipe((0,m.k)(dt),(0,P.O)(we=>we instanceof v.obV||Array.isArray(we)?(0,H.of)(we):(0,r.Q)(pe.compileModuleAsync(we))),(0,m.k)(we=>{he&&he(ie);let Xe,it,Xt=!1;return Array.isArray(we)?(it=we,!0):(Xe=we.create(be).injector,it=Xe.get(Mo,[],{optional:!0,self:!0}).flat()),{routes:it.map(li),injector:Xe}}))}(we,this.compiler,he,this.onLoadEndListener).pipe(se(()=>{this.childrenLoaders.delete(we)})),Xt=new d.C(it,()=>new u.E).pipe((0,ge.O)());return this.childrenLoaders.set(we,Xt),Xt}}return(ie=pe).\u0275fac=function(he){return new(he||ie)},ie.\u0275prov=v.wxM({token:ie,factory:ie.\u0275fac,providedIn:"root"}),pe})();function dt(ie){return function Ie(ie){return ie&&"object"==typeof ie&&"default"in ie}(ie)?ie.default:ie}let Ce=(()=>{var ie;class pe{}return(ie=pe).\u0275fac=function(he){return new(he||ie)},ie.\u0275prov=v.wxM({token:ie,factory:()=>(0,v.uUt)(Qe),providedIn:"root"}),pe})(),Qe=(()=>{var ie;class pe{shouldProcessUrl(he){return!0}extract(he){return he}merge(he,we){return he}}return(ie=pe).\u0275fac=function(he){return new(he||ie)},ie.\u0275prov=v.wxM({token:ie,factory:ie.\u0275fac,providedIn:"root"}),pe})();const xt=new v.UbH(""),un=new v.UbH("");function In(ie,pe,be){const he=ie.get(un),we=ie.get(s.Ud);return ie.get(v.WW2).runOutsideAngular(()=>{if(!we.startViewTransition||he.skipNextTransition)return he.skipNextTransition=!1,Promise.resolve();let Xe;const it=new Promise(tn=>{Xe=tn}),Xt=we.startViewTransition(()=>(Xe(),function or(ie){return new Promise(pe=>{(0,v.I44)(pe,{injector:ie})})}(ie))),{onViewTransitionCreated:En}=he;return En&&(0,v.SMS)(ie,()=>En({transition:Xt,from:pe,to:be})),it})}let ir=(()=>{var ie;class pe{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new u.E,this.transitionAbortSubject=new u.E,this.configLoader=(0,v.uUt)(es),this.environmentInjector=(0,v.uUt)(v.SIe),this.urlSerializer=(0,v.uUt)($t),this.rootContexts=(0,v.uUt)(Fr),this.location=(0,v.uUt)(s.oB),this.inputBindingEnabled=null!==(0,v.uUt)(po,{optional:!0}),this.titleStrategy=(0,v.uUt)(Rl),this.options=(0,v.uUt)(Br,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,v.uUt)(Ce),this.createViewTransition=(0,v.uUt)(xt,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,H.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Xe=>this.events.next(new pt(Xe)),this.configLoader.onLoadStartListener=Xe=>this.events.next(new He(Xe))}complete(){var he;null===(he=this.transitions)||void 0===he||he.complete()}handleNavigationRequest(he){var we;const Xe=++this.navigationId;null===(we=this.transitions)||void 0===we||we.next({...this.transitions.value,...he,id:Xe})}setupNavigations(he,we,Xe){return this.transitions=new C.g({id:0,currentUrlTree:we,currentRawUrl:we,extractedUrl:this.urlHandlingStrategy.extract(we),urlAfterRedirects:this.urlHandlingStrategy.extract(we),rawUrl:we,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ft,restoredState:null,currentSnapshot:Xe.snapshot,targetSnapshot:null,currentRouterState:Xe,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,A.I)(it=>0!==it.id),(0,m.k)(it=>({...it,extractedUrl:this.urlHandlingStrategy.extract(it.rawUrl)})),(0,p.G)(it=>{this.currentTransition=it;let Xt=!1,En=!1;return(0,H.of)(it).pipe((0,ne.y)(tn=>{this.currentNavigation={id:tn.id,initialUrl:tn.rawUrl,extractedUrl:tn.extractedUrl,trigger:tn.source,extras:tn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,p.G)(tn=>{var Pn;const Zn=!he.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),qr=null!==(Pn=tn.extras.onSameUrlNavigation)&&void 0!==Pn?Pn:he.onSameUrlNavigation;if(!Zn&&"reload"!==qr){const xr="";return this.events.next(new We(tn.id,this.urlSerializer.serialize(tn.rawUrl),xr,At.IgnoredSameUrlNavigation)),tn.resolve(null),l.k}if(this.urlHandlingStrategy.shouldProcessUrl(tn.rawUrl))return(0,H.of)(tn).pipe((0,p.G)(xr=>{var Vn,si;const Oi=null===(Vn=this.transitions)||void 0===Vn?void 0:Vn.getValue();return this.events.next(new Vt(xr.id,this.urlSerializer.serialize(xr.extractedUrl),xr.source,xr.restoredState)),Oi!==(null===(si=this.transitions)||void 0===si?void 0:si.getValue())?l.k:Promise.resolve(xr)}),function Ar(ie,pe,be,he,we,Xe){return(0,P.O)(it=>function Da(ie,pe,be,he,we,Xe,it="emptyOnly"){return new Ia(ie,pe,be,he,we,it,Xe).recognize()}(ie,pe,be,he,it.extractedUrl,we,Xe).pipe((0,m.k)(({state:Xt,tree:En})=>({...it,targetSnapshot:Xt,urlAfterRedirects:En}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,he.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,ne.y)(xr=>{it.targetSnapshot=xr.targetSnapshot,it.urlAfterRedirects=xr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:xr.urlAfterRedirects};const Vn=new Rt(xr.id,this.urlSerializer.serialize(xr.extractedUrl),this.urlSerializer.serialize(xr.urlAfterRedirects),xr.targetSnapshot);this.events.next(Vn)}));if(Zn&&this.urlHandlingStrategy.shouldProcessUrl(tn.currentRawUrl)){const{id:xr,extractedUrl:Vn,source:si,restoredState:Oi,extras:ji}=tn,Gi=new Vt(xr,this.urlSerializer.serialize(Vn),si,Oi);this.events.next(Gi);const Pi=Rr(this.rootComponentType).snapshot;return this.currentTransition=it={...tn,targetSnapshot:Pi,urlAfterRedirects:Vn,extras:{...ji,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Vn,(0,H.of)(it)}{const xr="";return this.events.next(new We(tn.id,this.urlSerializer.serialize(tn.extractedUrl),xr,At.IgnoredByUrlHandlingStrategy)),tn.resolve(null),l.k}}),(0,ne.y)(tn=>{const Pn=new Wt(tn.id,this.urlSerializer.serialize(tn.extractedUrl),this.urlSerializer.serialize(tn.urlAfterRedirects),tn.targetSnapshot);this.events.next(Pn)}),(0,m.k)(tn=>(this.currentTransition=it={...tn,guards:Qi(tn.targetSnapshot,tn.currentSnapshot,this.rootContexts)},it)),function Yt(ie,pe){return(0,P.O)(be=>{const{targetSnapshot:he,currentSnapshot:we,guards:{canActivateChecks:Xe,canDeactivateChecks:it}}=be;return 0===it.length&&0===Xe.length?(0,H.of)({...be,guardsResult:!0}):function Bt(ie,pe,be,he){return(0,r.Q)(ie).pipe((0,P.O)(we=>function Kt(ie,pe,be,he,we){const Xe=pe&&pe.routeConfig?pe.routeConfig.canDeactivate:null;if(!Xe||0===Xe.length)return(0,H.of)(!0);const it=Xe.map(Xt=>{var En;const tn=null!==(En=Ko(pe))&&void 0!==En?En:we,Pn=ui(Xt,tn);return Ht(function le(ie){return ie&&L(ie.canDeactivate)}(Pn)?Pn.canDeactivate(ie,pe,be,he):(0,v.SMS)(tn,()=>Pn(ie,pe,be,he))).pipe(z())});return(0,H.of)(it).pipe(Mt())}(we.component,we.route,be,pe,he)),z(we=>!0!==we,!0))}(it,he,we,ie).pipe((0,P.O)(Xt=>Xt&&function D(ie){return"boolean"==typeof ie}(Xt)?function mt(ie,pe,be,he){return(0,r.Q)(pe).pipe(W(we=>(0,f.W)(function en(ie,pe){return null!==ie&&pe&&pe(new Jt(ie)),(0,H.of)(!0)}(we.route.parent,he),function yn(ie,pe){return null!==ie&&pe&&pe(new On(ie)),(0,H.of)(!0)}(we.route,he),function Zt(ie,pe,be){const he=pe[pe.length-1],Xe=pe.slice(0,pe.length-1).reverse().map(it=>function bs(ie){const pe=ie.routeConfig?ie.routeConfig.canActivateChild:null;return pe&&0!==pe.length?{node:ie,guards:pe}:null}(it)).filter(it=>null!==it).map(it=>(0,E.Q)(()=>{const Xt=it.guards.map(En=>{var tn;const Pn=null!==(tn=Ko(it.node))&&void 0!==tn?tn:be,Zn=ui(En,Pn);return Ht(function Y(ie){return ie&&L(ie.canActivateChild)}(Zn)?Zn.canActivateChild(he,ie):(0,v.SMS)(Pn,()=>Zn(he,ie))).pipe(z())});return(0,H.of)(Xt).pipe(Mt())}));return(0,H.of)(Xe).pipe(Mt())}(ie,we.path,be),function on(ie,pe,be){const he=pe.routeConfig?pe.routeConfig.canActivate:null;if(!he||0===he.length)return(0,H.of)(!0);const we=he.map(Xe=>(0,E.Q)(()=>{var it;const Xt=null!==(it=Ko(pe))&&void 0!==it?it:be,En=ui(Xe,Xt);return Ht(function X(ie){return ie&&L(ie.canActivate)}(En)?En.canActivate(pe,ie):(0,v.SMS)(Xt,()=>En(pe,ie))).pipe(z())}));return(0,H.of)(we).pipe(Mt())}(ie,we.route,be))),z(we=>!0!==we,!0))}(he,Xe,ie,pe):(0,H.of)(Xt)),(0,m.k)(Xt=>({...be,guardsResult:Xt})))})}(this.environmentInjector,tn=>this.events.next(tn)),(0,ne.y)(tn=>{if(it.guardsResult=tn.guardsResult,oe(tn.guardsResult))throw oo(0,tn.guardsResult);const Pn=new re(tn.id,this.urlSerializer.serialize(tn.extractedUrl),this.urlSerializer.serialize(tn.urlAfterRedirects),tn.targetSnapshot,!!tn.guardsResult);this.events.next(Pn)}),(0,A.I)(tn=>!!tn.guardsResult||(this.cancelNavigationTransition(tn,"",An.GuardRejected),!1)),xs(tn=>{if(tn.guards.canActivateChecks.length)return(0,H.of)(tn).pipe((0,ne.y)(Pn=>{const Zn=new Re(Pn.id,this.urlSerializer.serialize(Pn.extractedUrl),this.urlSerializer.serialize(Pn.urlAfterRedirects),Pn.targetSnapshot);this.events.next(Zn)}),(0,p.G)(Pn=>{let Zn=!1;return(0,H.of)(Pn).pipe(function Oa(ie,pe){return(0,P.O)(be=>{const{targetSnapshot:he,guards:{canActivateChecks:we}}=be;if(!we.length)return(0,H.of)(be);const Xe=new Set(we.map(En=>En.route)),it=new Set;for(const En of Xe)if(!it.has(En))for(const tn of Ii(En))it.add(tn);let Xt=0;return(0,r.Q)(it).pipe(W(En=>Xe.has(En)?function Zo(ie,pe,be,he){const we=ie.routeConfig,Xe=ie._resolve;return void 0!==(null==we?void 0:we.title)&&!So(we)&&(Xe[$e]=we.title),function ws(ie,pe,be,he){const we=gt(ie);if(0===we.length)return(0,H.of)({});const Xe={};return(0,r.Q)(we).pipe((0,P.O)(it=>function Es(ie,pe,be,he){var we;const Xe=null!==(we=Ko(pe))&&void 0!==we?we:he,it=ui(ie,Xe);return Ht(it.resolve?it.resolve(pe,be):(0,v.SMS)(Xe,()=>it(pe,be)))}(ie[it],pe,be,he).pipe(z(),(0,ne.y)(Xt=>{Xe[it]=Xt}))),Se(1),(0,R.e)(Xe),q(it=>qe(it)?l.k:(0,a.c)(it)))}(Xe,ie,pe,he).pipe((0,m.k)(it=>(ie._resolvedData=it,ie.data=gr(ie,ie.parent,be).resolve,null)))}(En,he,ie,pe):(En.data=gr(En,En.parent,ie).resolve,(0,H.of)(void 0))),(0,ne.y)(()=>Xt++),Se(1),(0,P.O)(En=>Xt===it.size?(0,H.of)(be):l.k))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,ne.y)({next:()=>Zn=!0,complete:()=>{Zn||this.cancelNavigationTransition(Pn,"",An.NoDataFromResolver)}}))}),(0,ne.y)(Pn=>{const Zn=new ye(Pn.id,this.urlSerializer.serialize(Pn.extractedUrl),this.urlSerializer.serialize(Pn.urlAfterRedirects),Pn.targetSnapshot);this.events.next(Zn)}))}),xs(tn=>{const Pn=Zn=>{var qr;const xr=[];null!==(qr=Zn.routeConfig)&&void 0!==qr&&qr.loadComponent&&!Zn.routeConfig._loadedComponent&&xr.push(this.configLoader.loadComponent(Zn.routeConfig).pipe((0,ne.y)(Vn=>{Zn.component=Vn}),(0,m.k)(()=>{})));for(const Vn of Zn.children)xr.push(...Pn(Vn));return xr};return(0,y.E)(Pn(tn.targetSnapshot.root)).pipe(j(null),(0,b.U)(1))}),xs(()=>this.afterPreactivation()),(0,p.G)(()=>{var tn;const{currentSnapshot:Pn,targetSnapshot:Zn}=it,qr=null===(tn=this.createViewTransition)||void 0===tn?void 0:tn.call(this,this.environmentInjector,Pn.root,Zn.root);return qr?(0,r.Q)(qr).pipe((0,m.k)(()=>it)):(0,H.of)(it)}),(0,m.k)(tn=>{const Pn=function Po(ie,pe,be){const he=mo(ie,pe._root,be?be._root:void 0);return new _r(he,pe)}(he.routeReuseStrategy,tn.targetSnapshot,tn.currentRouterState);return this.currentTransition=it={...tn,targetRouterState:Pn},this.currentNavigation.targetRouterState=Pn,it}),(0,ne.y)(()=>{this.events.next(new Or)}),((ie,pe,be,he)=>(0,m.k)(we=>(new Zi(pe,we.targetRouterState,we.currentRouterState,be,he).activate(ie),we)))(this.rootContexts,he.routeReuseStrategy,tn=>this.events.next(tn),this.inputBindingEnabled),(0,b.U)(1),(0,ne.y)({next:tn=>{var Pn;Xt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cn(tn.id,this.urlSerializer.serialize(tn.extractedUrl),this.urlSerializer.serialize(tn.urlAfterRedirects))),null===(Pn=this.titleStrategy)||void 0===Pn||Pn.updateTitle(tn.targetRouterState.snapshot),tn.resolve(!0)},complete:()=>{Xt=!0}}),function Le(ie){return(0,F.i)((pe,be)=>{(0,J.Uv)(ie).subscribe((0,$.e)(be,()=>be.complete(),De.K)),!be.closed&&pe.subscribe(be)})}(this.transitionAbortSubject.pipe((0,ne.y)(tn=>{throw tn}))),se(()=>{var tn;!Xt&&!En&&this.cancelNavigationTransition(it,"",An.SupersededByNewNavigation),(null===(tn=this.currentTransition)||void 0===tn?void 0:tn.id)===it.id&&(this.currentNavigation=null,this.currentTransition=null)}),q(tn=>{if(En=!0,No(tn))this.events.next(new Ae(it.id,this.urlSerializer.serialize(it.extractedUrl),tn.message,tn.cancellationCode)),function Ro(ie){return No(ie)&&oe(ie.url)}(tn)?this.events.next(new Tr(tn.url)):it.resolve(!1);else{var Pn;this.events.next(new Dt(it.id,this.urlSerializer.serialize(it.extractedUrl),tn,null!==(Pn=it.targetSnapshot)&&void 0!==Pn?Pn:void 0));try{it.resolve(he.errorHandler(tn))}catch(Zn){this.options.resolveNavigationPromiseOnError?it.resolve(!1):it.reject(Zn)}}return l.k}))}))}cancelNavigationTransition(he,we,Xe){const it=new Ae(he.id,this.urlSerializer.serialize(he.extractedUrl),we,Xe);this.events.next(it),he.resolve(!1)}isUpdatingInternalState(){var he,we;return(null===(he=this.currentTransition)||void 0===he?void 0:he.extractedUrl.toString())!==(null===(we=this.currentTransition)||void 0===we?void 0:we.currentUrlTree.toString())}isUpdatedBrowserUrl(){var he,we;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(he=this.currentTransition)||void 0===he?void 0:he.extractedUrl.toString())&&!(null!==(we=this.currentTransition)&&void 0!==we&&we.extras.skipLocationChange)}}return(ie=pe).\u0275fac=function(he){return new(he||ie)},ie.\u0275prov=v.wxM({token:ie,factory:ie.\u0275fac,providedIn:"root"}),pe})();function Er(ie){return ie!==ft}let rr=(()=>{var ie;class pe{}return(ie=pe).\u0275fac=function(he){return new(he||ie)},ie.\u0275prov=v.wxM({token:ie,factory:()=>(0,v.uUt)(Mr),providedIn:"root"}),pe})();class Ir{shouldDetach(pe){return!1}store(pe,be){}shouldAttach(pe){return!1}retrieve(pe){return null}shouldReuseRoute(pe,be){return pe.routeConfig===be.routeConfig}}let Mr=(()=>{var ie;class pe extends Ir{}return(ie=pe).\u0275fac=(()=>{let be;return function(we){return(be||(be=v.otF(ie)))(we||ie)}})(),ie.\u0275prov=v.wxM({token:ie,factory:ie.\u0275fac,providedIn:"root"}),pe})(),eo=(()=>{var ie;class pe{}return(ie=pe).\u0275fac=function(he){return new(he||ie)},ie.\u0275prov=v.wxM({token:ie,factory:()=>(0,v.uUt)(Qo),providedIn:"root"}),pe})(),Qo=(()=>{var ie;class pe extends eo{constructor(){super(...arguments),this.location=(0,v.uUt)(s.oB),this.urlSerializer=(0,v.uUt)($t),this.options=(0,v.uUt)(Br,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,v.uUt)(Ce),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new je,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Rr(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var he,we;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(he=null===(we=this.restoredState())||void 0===we?void 0:we.\u0275routerPageId)&&void 0!==he?he:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(he){return this.location.subscribe(we=>{"popstate"===we.type&&he(we.url,we.state)})}handleRouterEvent(he,we){if(he instanceof Vt)this.stateMemento=this.createStateMemento();else if(he instanceof We)this.rawUrlTree=we.initialUrl;else if(he instanceof Rt){if("eager"===this.urlUpdateStrategy&&!we.extras.skipLocationChange){const Xe=this.urlHandlingStrategy.merge(we.finalUrl,we.initialUrl);this.setBrowserUrl(Xe,we)}}else he instanceof Or?(this.currentUrlTree=we.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(we.finalUrl,we.initialUrl),this.routerState=we.targetRouterState,"deferred"===this.urlUpdateStrategy&&(we.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,we))):he instanceof Ae&&(he.code===An.GuardRejected||he.code===An.NoDataFromResolver)?this.restoreHistory(we):he instanceof Dt?this.restoreHistory(we,!0):he instanceof cn&&(this.lastSuccessfulId=he.id,this.currentPageId=this.browserPageId)}setBrowserUrl(he,we){const Xe=this.urlSerializer.serialize(he);if(this.location.isCurrentPathEqualTo(Xe)||we.extras.replaceUrl){const Xt={...we.extras.state,...this.generateNgRouterState(we.id,this.browserPageId)};this.location.replaceState(Xe,"",Xt)}else{const it={...we.extras.state,...this.generateNgRouterState(we.id,this.browserPageId+1)};this.location.go(Xe,"",it)}}restoreHistory(he,we=!1){if("computed"===this.canceledNavigationResolution){const it=this.currentPageId-this.browserPageId;0!==it?this.location.historyGo(it):this.currentUrlTree===he.finalUrl&&0===it&&(this.resetState(he),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(we&&this.resetState(he),this.resetUrlToCurrentUrlTree())}resetState(he){var we;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(we=he.finalUrl)&&void 0!==we?we:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(he,we){return"computed"===this.canceledNavigationResolution?{navigationId:he,\u0275routerPageId:we}:{navigationId:he}}}return(ie=pe).\u0275fac=(()=>{let be;return function(we){return(be||(be=v.otF(ie)))(we||ie)}})(),ie.\u0275prov=v.wxM({token:ie,factory:ie.\u0275fac,providedIn:"root"}),pe})();var yo=function(ie){return ie[ie.COMPLETE=0]="COMPLETE",ie[ie.FAILED=1]="FAILED",ie[ie.REDIRECTING=2]="REDIRECTING",ie}(yo||{});function ei(ie,pe){ie.events.pipe((0,A.I)(be=>be instanceof cn||be instanceof Ae||be instanceof Dt||be instanceof We),(0,m.k)(be=>be instanceof cn||be instanceof We?yo.COMPLETE:be instanceof Ae&&(be.code===An.Redirect||be.code===An.SupersededByNewNavigation)?yo.REDIRECTING:yo.FAILED),(0,A.I)(be=>be!==yo.REDIRECTING),(0,b.U)(1)).subscribe(()=>{pe()})}function ii(ie){throw ie}const zr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Co={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sr=(()=>{var ie;class pe{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var he,we;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,v.uUt)(v.oPY),this.stateManager=(0,v.uUt)(eo),this.options=(0,v.uUt)(Br,{optional:!0})||{},this.pendingTasks=(0,v.uUt)(v.g9Y),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,v.uUt)(ir),this.urlSerializer=(0,v.uUt)($t),this.location=(0,v.uUt)(s.oB),this.urlHandlingStrategy=(0,v.uUt)(Ce),this._events=new u.E,this.errorHandler=this.options.errorHandler||ii,this.navigated=!1,this.routeReuseStrategy=(0,v.uUt)(rr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(he=null===(we=(0,v.uUt)(Mo,{optional:!0}))||void 0===we?void 0:we.flat())&&void 0!==he?he:[],this.componentInputBindingEnabled=!!(0,v.uUt)(po,{optional:!0}),this.eventsSubscription=new c.wH,this.isNgZoneEnabled=(0,v.uUt)(v.WW2)instanceof v.WW2&&v.WW2.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:Xe=>{this.console.warn(Xe)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const he=this.navigationTransitions.events.subscribe(we=>{try{const Xe=this.navigationTransitions.currentTransition,it=this.navigationTransitions.currentNavigation;if(null!==Xe&&null!==it)if(this.stateManager.handleRouterEvent(we,it),we instanceof Ae&&we.code!==An.Redirect&&we.code!==An.SupersededByNewNavigation)this.navigated=!0;else if(we instanceof cn)this.navigated=!0;else if(we instanceof Tr){const Xt=this.urlHandlingStrategy.merge(we.url,Xe.currentRawUrl),En={info:Xe.extras.info,skipLocationChange:Xe.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Er(Xe.source)};this.scheduleNavigation(Xt,ft,null,En,{resolve:Xe.resolve,reject:Xe.reject,promise:Xe.promise})}(function bc(ie){return!(ie instanceof Or||ie instanceof Tr)})(we)&&this._events.next(we)}catch(Xe){this.navigationTransitions.transitionAbortSubject.next(Xe)}});this.eventsSubscription.add(he)}resetRootComponentType(he){this.routerState.root.component=he,this.navigationTransitions.rootComponentType=he}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ft,this.stateManager.restoredState())}setUpLocationChangeListener(){var he;null!==(he=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==he||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((we,Xe)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(we,"popstate",Xe)},0)}))}navigateToSyncWithBrowser(he,we,Xe){const it={replaceUrl:!0},Xt=null!=Xe&&Xe.navigationId?Xe:null;if(Xe){const tn={...Xe};delete tn.navigationId,delete tn.\u0275routerPageId,0!==Object.keys(tn).length&&(it.state=tn)}const En=this.parseUrl(he);this.scheduleNavigation(En,we,Xt,it)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(he){this.config=he.map(li),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(he,we={}){const{relativeTo:Xe,queryParams:it,fragment:Xt,queryParamsHandling:En,preserveFragment:tn}=we,Pn=tn?this.currentUrlTree.fragment:Xt;let qr,Zn=null;switch(En){case"merge":Zn={...this.currentUrlTree.queryParams,...it};break;case"preserve":Zn=this.currentUrlTree.queryParams;break;default:Zn=it||null}null!==Zn&&(Zn=this.removeEmptyProps(Zn));try{qr=O(Xe?Xe.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof he[0]||!he[0].startsWith("/"))&&(he=[]),qr=this.currentUrlTree.root}return G(qr,he,Zn,null!=Pn?Pn:null)}navigateByUrl(he,we={skipLocationChange:!1}){const Xe=oe(he)?he:this.parseUrl(he),it=this.urlHandlingStrategy.merge(Xe,this.rawUrlTree);return this.scheduleNavigation(it,ft,null,we)}navigate(he,we={skipLocationChange:!1}){return function ts(ie){for(let pe=0;pe<ie.length;pe++)if(null==ie[pe])throw new v.OBp(4008,!1)}(he),this.navigateByUrl(this.createUrlTree(he,we),we)}serializeUrl(he){return this.urlSerializer.serialize(he)}parseUrl(he){try{return this.urlSerializer.parse(he)}catch{return this.urlSerializer.parse("/")}}isActive(he,we){let Xe;if(Xe=!0===we?{...zr}:!1===we?{...Co}:we,oe(he))return rn(this.currentUrlTree,he,Xe);const it=this.parseUrl(he);return rn(this.currentUrlTree,it,Xe)}removeEmptyProps(he){return Object.entries(he).reduce((we,[Xe,it])=>(null!=it&&(we[Xe]=it),we),{})}scheduleNavigation(he,we,Xe,it,Xt){if(this.disposed)return Promise.resolve(!1);let En,tn,Pn;Xt?(En=Xt.resolve,tn=Xt.reject,Pn=Xt.promise):Pn=new Promise((qr,xr)=>{En=qr,tn=xr});const Zn=this.pendingTasks.add();return ei(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Zn))}),this.navigationTransitions.handleNavigationRequest({source:we,restoredState:Xe,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:he,extras:it,resolve:En,reject:tn,promise:Pn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Pn.catch(qr=>Promise.reject(qr))}}return(ie=pe).\u0275fac=function(he){return new(he||ie)},ie.\u0275prov=v.wxM({token:ie,factory:ie.\u0275fac,providedIn:"root"}),pe})(),Cs=(()=>{var ie;class pe{constructor(he,we,Xe,it,Xt,En){var tn;this.router=he,this.route=we,this.tabIndexAttribute=Xe,this.renderer=it,this.el=Xt,this.locationStrategy=En,this.href=null,this.commands=null,this.onChanges=new u.E,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Pn=null===(tn=Xt.nativeElement.tagName)||void 0===tn?void 0:tn.toLowerCase();this.isAnchorElement="a"===Pn||"area"===Pn,this.isAnchorElement?this.subscription=he.events.subscribe(Zn=>{Zn instanceof cn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(he){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",he)}ngOnChanges(he){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(he){null!=he?(this.commands=Array.isArray(he)?he:[he],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(he,we,Xe,it,Xt){const En=this.urlTree;return!!(null===En||this.isAnchorElement&&(0!==he||we||Xe||it||Xt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(En,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var he;null===(he=this.subscription)||void 0===he||he.unsubscribe()}updateHref(){var he;const we=this.urlTree;this.href=null!==we&&this.locationStrategy?null===(he=this.locationStrategy)||void 0===he?void 0:he.prepareExternalUrl(this.router.serializeUrl(we)):null;const Xe=null===this.href?null:(0,v.YFg)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Xe)}applyAttributeValue(he,we){const Xe=this.renderer,it=this.el.nativeElement;null!==we?Xe.setAttribute(it,he,we):Xe.removeAttribute(it,he)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(ie=pe).\u0275fac=function(he){return new(he||ie)(v.GI1(sr),v.GI1(lr),v.gJ8("tabindex"),v.GI1(v.q87),v.GI1(v.GMv),v.GI1(s.Qd))},ie.\u0275dir=v.Sc5({type:ie,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(he,we){1&he&&v.qCj("click",function(it){return we.onClick(it.button,it.ctrlKey,it.shiftKey,it.altKey,it.metaKey)}),2&he&&v.e48("target",we.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[v.Wk5.HasDecoratorInputTransform,"preserveFragment","preserveFragment",v.cZD],skipLocationChange:[v.Wk5.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",v.cZD],replaceUrl:[v.Wk5.HasDecoratorInputTransform,"replaceUrl","replaceUrl",v.cZD],routerLink:"routerLink"},standalone:!0,features:[v.QJr,v.SYr]}),pe})();class Pa{}let Ss=(()=>{var ie;class pe{preload(he,we){return we().pipe(q(()=>(0,H.of)(null)))}}return(ie=pe).\u0275fac=function(he){return new(he||ie)},ie.\u0275prov=v.wxM({token:ie,factory:ie.\u0275fac,providedIn:"root"}),pe})(),wc=(()=>{var ie;class pe{constructor(he,we,Xe,it,Xt){this.router=he,this.injector=Xe,this.preloadingStrategy=it,this.loader=Xt}setUpPreloading(){this.subscription=this.router.events.pipe((0,A.I)(he=>he instanceof cn),W(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(he,we){const Xe=[];for(const tn of we){var it,Xt;tn.providers&&!tn._injector&&(tn._injector=(0,v.SIz)(tn.providers,he,`Route: ${tn.path}`));const Pn=null!==(it=tn._injector)&&void 0!==it?it:he,Zn=null!==(Xt=tn._loadedInjector)&&void 0!==Xt?Xt:Pn;var En;(tn.loadChildren&&!tn._loadedRoutes&&void 0===tn.canLoad||tn.loadComponent&&!tn._loadedComponent)&&Xe.push(this.preloadConfig(Pn,tn)),(tn.children||tn._loadedRoutes)&&Xe.push(this.processRoutes(Zn,null!==(En=tn.children)&&void 0!==En?En:tn._loadedRoutes))}return(0,r.Q)(Xe).pipe((0,Ze.u)())}preloadConfig(he,we){return this.preloadingStrategy.preload(we,()=>{let Xe;Xe=we.loadChildren&&void 0===we.canLoad?this.loader.loadChildren(he,we):(0,H.of)(null);const it=Xe.pipe((0,P.O)(Xt=>{var En;return null===Xt?(0,H.of)(void 0):(we._loadedRoutes=Xt.routes,we._loadedInjector=Xt.injector,this.processRoutes(null!==(En=Xt.injector)&&void 0!==En?En:he,Xt.routes))}));if(we.loadComponent&&!we._loadedComponent){const Xt=this.loader.loadComponent(we);return(0,r.Q)([it,Xt]).pipe((0,Ze.u)())}return it})}}return(ie=pe).\u0275fac=function(he){return new(he||ie)(v.CoB(sr),v.CoB(v.ESV),v.CoB(v.SIe),v.CoB(Pa),v.CoB(es))},ie.\u0275prov=v.wxM({token:ie,factory:ie.\u0275fac,providedIn:"root"}),pe})();const gi=new v.UbH("");let Ui=(()=>{var ie;class pe{constructor(he,we,Xe,it,Xt={}){this.urlSerializer=he,this.transitions=we,this.viewportScroller=Xe,this.zone=it,this.options=Xt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Xt.scrollPositionRestoration||(Xt.scrollPositionRestoration="disabled"),Xt.anchorScrolling||(Xt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(he=>{he instanceof Vt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=he.navigationTrigger,this.restoredId=he.restoredState?he.restoredState.navigationId:0):he instanceof cn?(this.lastId=he.id,this.scheduleScrollEvent(he,this.urlSerializer.parse(he.urlAfterRedirects).fragment)):he instanceof We&&he.code===At.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(he,this.urlSerializer.parse(he.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(he=>{he instanceof Xn&&(he.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(he.position):he.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(he.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(he,we){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xn(he,"popstate"===this.lastSource?this.store[this.restoredId]:null,we))})},0)})}ngOnDestroy(){var he,we;null===(he=this.routerEventsSubscription)||void 0===he||he.unsubscribe(),null===(we=this.scrollEventsSubscription)||void 0===we||we.unsubscribe()}}return(ie=pe).\u0275fac=function(he){v.KEo()},ie.\u0275prov=v.wxM({token:ie,factory:ie.\u0275fac}),pe})();function Zr(ie,pe){return{\u0275kind:ie,\u0275providers:pe}}function Ds(){const ie=(0,v.uUt)(v.zZn);return pe=>{var be,he;const we=ie.get(v.Swk);if(pe!==we.components[0])return;const Xe=ie.get(sr),it=ie.get(Cc);1===ie.get(Ms)&&Xe.initialNavigation(),null===(be=ie.get(Ai,null,v._6O.Optional))||void 0===be||be.setUpPreloading(),null===(he=ie.get(gi,null,v._6O.Optional))||void 0===he||he.init(),Xe.resetRootComponentType(we.componentTypes[0]),it.closed||(it.next(),it.complete(),it.unsubscribe())}}const Cc=new v.UbH("",{factory:()=>new u.E}),Ms=new v.UbH("",{providedIn:"root",factory:()=>1}),Ai=new v.UbH("");function Dh(ie){return Zr(0,[{provide:Ai,useExisting:wc},{provide:Pa,useExisting:ie}])}function Dc(ie){return Zr(9,[{provide:xt,useValue:In},{provide:un,useValue:{skipNextTransition:!(null==ie||!ie.skipInitialTransition),...ie}}])}const Na=new v.UbH("ROUTER_FORROOT_GUARD"),Is=[s.oB,{provide:$t,useClass:nn},sr,Fr,{provide:lr,useFactory:function Ll(ie){return ie.routerState.root},deps:[sr]},es,[]];let Ts=(()=>{var ie;class pe{constructor(he){}static forRoot(he,we){return{ngModule:pe,providers:[Is,[],{provide:Mo,multi:!0,useValue:he},{provide:Na,useFactory:Lr,deps:[[sr,new v.T7N,new v.Qfh]]},{provide:Br,useValue:we||{}},null!=we&&we.useHash?{provide:s.Qd,useClass:s.MP}:{provide:s.Qd,useClass:s.uC},{provide:gi,useFactory:()=>{const ie=(0,v.uUt)(s.YZ),pe=(0,v.uUt)(v.WW2),be=(0,v.uUt)(Br),he=(0,v.uUt)(ir),we=(0,v.uUt)($t);return be.scrollOffset&&ie.setOffset(be.scrollOffset),new Ui(we,he,ie,pe,be)}},null!=we&&we.preloadingStrategy?Dh(we.preloadingStrategy).\u0275providers:[],null!=we&&we.initialNavigation?Ih(we):[],null!=we&&we.bindToComponentInputs?Zr(8,[qo,{provide:po,useExisting:qo}]).\u0275providers:[],null!=we&&we.enableViewTransitions?Dc().\u0275providers:[],[{provide:rs,useFactory:Ds},{provide:v.qid,multi:!0,useExisting:rs}]]}}static forChild(he){return{ngModule:pe,providers:[{provide:Mo,multi:!0,useValue:he}]}}}return(ie=pe).\u0275fac=function(he){return new(he||ie)(v.CoB(Na,8))},ie.\u0275mod=v.a4G({type:ie}),ie.\u0275inj=v.s3X({}),pe})();function Lr(ie){return"guarded"}function Ih(ie){return["disabled"===ie.initialNavigation?Zr(3,[{provide:v.kZF,multi:!0,useFactory:()=>{const pe=(0,v.uUt)(sr);return()=>{pe.setUpLocationChangeListener()}}},{provide:Ms,useValue:2}]).\u0275providers:[],"enabledBlocking"===ie.initialNavigation?Zr(2,[{provide:Ms,useValue:0},{provide:v.kZF,multi:!0,deps:[v.zZn],useFactory:pe=>{const be=pe.get(s.mQ,Promise.resolve());return()=>be.then(()=>new Promise(he=>{const we=pe.get(sr),Xe=pe.get(Cc);ei(we,()=>{he(!0)}),pe.get(ir).afterPreactivation=()=>(he(!0),Xe.closed?(0,H.of)(void 0):Xe),we.initialNavigation()}))}}]).\u0275providers:[]]}const rs=new v.UbH("")},9240:(fn,Lt,me)=>{"use strict";me.d(Lt,{kh:()=>je,_U:()=>Gt,m2:()=>lt,Im:()=>Q,Qz:()=>Be,Ej:()=>ot,sW:()=>tt,Cg:()=>Ln,CE:()=>Tt,um:()=>Gr,wX:()=>an,a6:()=>_t,gk:()=>Cr,WU:()=>kt,g5:()=>de,GY:()=>Z,uU:()=>_n,Al:()=>O,cl:()=>sn,ag:()=>ln});var v=me(1528),xe=me(4496),rt=me(3332),Ne=me(1368);class r{constructor(){this.m=new Map}reset(ft){this.m=new Map(Object.entries(ft))}get(ft,Ge){const st=this.m.get(ft);return void 0!==st?st:Ge}getBoolean(ft,Ge=!1){const st=this.m.get(ft);return void 0===st?Ge:"string"==typeof st?"true"===st:!!st}getNumber(ft,Ge){const st=parseFloat(this.m.get(ft));return isNaN(st)?void 0!==Ge?Ge:NaN:st}set(ft,Ge){this.m.set(ft,Ge)}}const H=new r,w=at=>l(at),l=(at=window)=>{if(typeof at>"u")return[];at.Ionic=at.Ionic||{};let ft=at.Ionic.platforms;return null==ft&&(ft=at.Ionic.platforms=d(at),ft.forEach(Ge=>at.document.documentElement.classList.add(`plt-${Ge}`))),ft},d=at=>{const ft=H.get("platform");return Object.keys(W).filter(Ge=>{const st=null==ft?void 0:ft[Ge];return"function"==typeof st?st(at):W[Ge](at)})},c=at=>!!(B(at,/iPad/i)||B(at,/Macintosh/i)&&k(at)),p=at=>B(at,/android|sink/i),k=at=>z(at,"(any-pointer:coarse)"),P=at=>$(at)||j(at),$=at=>!!(at.cordova||at.phonegap||at.PhoneGap),j=at=>{const ft=at.Capacitor;return!(null==ft||!ft.isNative)},B=(at,ft)=>ft.test(at.navigator.userAgent),z=(at,ft)=>{var Ge;return null===(Ge=at.matchMedia)||void 0===Ge?void 0:Ge.call(at,ft).matches},W={ipad:c,iphone:at=>B(at,/iPhone/i),ios:at=>B(at,/iPhone|iPod/i)||c(at),android:p,phablet:at=>{const ft=at.innerWidth,Ge=at.innerHeight,st=Math.min(ft,Ge),Vt=Math.max(ft,Ge);return st>390&&st<520&&Vt>620&&Vt<800},tablet:at=>{const ft=at.innerWidth,Ge=at.innerHeight,st=Math.min(ft,Ge),Vt=Math.max(ft,Ge);return c(at)||(at=>p(at)&&!B(at,/mobile/i))(at)||st>460&&st<820&&Vt>780&&Vt<1400},cordova:$,capacitor:j,electron:at=>B(at,/electron/i),pwa:at=>{var ft;return!!(null!==(ft=at.matchMedia)&&void 0!==ft&&ft.call(at,"(display-mode: standalone)").matches||at.navigator.standalone)},mobile:k,mobileweb:at=>k(at)&&!P(at),desktop:at=>!k(at),hybrid:P};var ae=me(1896),fe=me(9248),Se=me(5657),K=me(800),R=me(6700),se=me(6040),ge=me(2700),De=me(1316),Le=me(6684),Ze=me(7368),et=me(528),Oe=me(5448),$e=me(7773);function Te(at,ft){return at===ft}var Je=me(4716);const Ye=["tabsInner"];let kt=(()=>{class at{constructor(Ge,st){this.doc=Ge,this.backButton=new Se.E,this.keyboardDidShow=new Se.E,this.keyboardDidHide=new Se.E,this.pause=new Se.E,this.resume=new Se.E,this.resize=new Se.E,st.run(()=>{var Vt;let cn;this.win=Ge.defaultView,this.backButton.subscribeWithPriority=function(An,At){return this.subscribe(Ae=>Ae.register(An,We=>st.run(()=>At(We))))},Ft(this.pause,Ge,"pause",st),Ft(this.resume,Ge,"resume",st),Ft(this.backButton,Ge,"ionBackButton",st),Ft(this.resize,this.win,"resize",st),Ft(this.keyboardDidShow,this.win,"ionKeyboardDidShow",st),Ft(this.keyboardDidHide,this.win,"ionKeyboardDidHide",st),this._readyPromise=new Promise(An=>{cn=An}),null!==(Vt=this.win)&&void 0!==Vt&&Vt.cordova?Ge.addEventListener("deviceready",()=>{cn("cordova")},{once:!0}):cn("dom")})}is(Ge){return((at,ft)=>("string"==typeof at&&(ft=at,at=void 0),w(at).includes(ft)))(this.win,Ge)}platforms(){return w(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(Ge){return Ht(this.win.location.href,Ge)}isLandscape(){return!this.isPortrait()}isPortrait(){var Ge,st;return null===(Ge=(st=this.win).matchMedia)||void 0===Ge?void 0:Ge.call(st,"(orientation: portrait)").matches}testUserAgent(Ge){const st=this.win.navigator;return!!(null!=st&&st.userAgent&&st.userAgent.indexOf(Ge)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return at.\u0275fac=function(Ge){return new(Ge||at)(xe.CoB(Ne.Ud),xe.CoB(xe.WW2))},at.\u0275prov=xe.wxM({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();const Ht=(at,ft)=>{ft=ft.replace(/[[\]\\]/g,"\\$&");const st=new RegExp("[\\?&]"+ft+"=([^&#]*)").exec(at);return st?decodeURIComponent(st[1].replace(/\+/g," ")):null},Ft=(at,ft,Ge,st)=>{ft&&ft.addEventListener(Ge,Vt=>{st.run(()=>{at.next(null!=Vt?Vt.detail:void 0)})})};let an=(()=>{class at{constructor(Ge,st,Vt,cn){this.location=st,this.serializer=Vt,this.router=cn,this.direction=dn,this.animated=qt,this.guessDirection="forward",this.lastNavId=-1,cn&&cn.events.subscribe(An=>{if(An instanceof rt.Qx){const At=An.restoredState?An.restoredState.navigationId:An.id;this.guessDirection=At<this.lastNavId?"back":"forward",this.guessAnimation=An.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?An.id:At}}),Ge.backButton.subscribeWithPriority(0,An=>{this.pop(),An()})}navigateForward(Ge,st={}){return this.setDirection("forward",st.animated,st.animationDirection,st.animation),this.navigate(Ge,st)}navigateBack(Ge,st={}){return this.setDirection("back",st.animated,st.animationDirection,st.animation),this.navigate(Ge,st)}navigateRoot(Ge,st={}){return this.setDirection("root",st.animated,st.animationDirection,st.animation),this.navigate(Ge,st)}back(Ge={animated:!0,animationDirection:"back"}){return this.setDirection("back",Ge.animated,Ge.animationDirection,Ge.animation),this.location.back()}pop(){var Ge=this;return(0,v.c)(function*(){let st=Ge.topOutlet;for(;st;){if(yield st.pop())return!0;st=st.parentOutlet}return!1})()}setDirection(Ge,st,Vt,cn){this.direction=Ge,this.animated=rn(Ge,st,Vt),this.animationBuilder=cn}setTopOutlet(Ge){this.topOutlet=Ge}consumeTransition(){let st,Ge="root";const Vt=this.animationBuilder;return"auto"===this.direction?(Ge=this.guessDirection,st=this.guessAnimation):(st=this.animated,Ge=this.direction),this.direction=dn,this.animated=qt,this.animationBuilder=void 0,{direction:Ge,animation:st,animationBuilder:Vt}}navigate(Ge,st){if(Array.isArray(Ge))return this.router.navigate(Ge,st);{const Vt=this.serializer.parse(Ge.toString());return void 0!==st.queryParams&&(Vt.queryParams={...st.queryParams}),void 0!==st.fragment&&(Vt.fragment=st.fragment),this.router.navigateByUrl(Vt,st)}}}return at.\u0275fac=function(Ge){return new(Ge||at)(xe.CoB(kt),xe.CoB(Ne.oB),xe.CoB(rt.qd),xe.CoB(rt.E5,8))},at.\u0275prov=xe.wxM({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();const rn=(at,ft,Ge)=>{if(!1!==ft){if(void 0!==Ge)return Ge;if("forward"===at||"back"===at)return at;if("root"===at&&!0===ft)return"forward"}},dn="auto",qt=void 0;let Gt=(()=>{class at{get(Ge,st){const Vt=Ut();return Vt?Vt.get(Ge,st):null}getBoolean(Ge,st){const Vt=Ut();return!!Vt&&Vt.getBoolean(Ge,st)}getNumber(Ge,st){const Vt=Ut();return Vt?Vt.getNumber(Ge,st):0}}return at.\u0275fac=function(Ge){return new(Ge||at)},at.\u0275prov=xe.wxM({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();const lt=new xe.UbH("USERCONFIG"),Ut=()=>{if(typeof window<"u"){const at=window.Ionic;if(null!=at&&at.config)return at.config}return null};class _t{constructor(ft={}){this.data=ft}get(ft){return this.data[ft]}}let je=(()=>{class at{constructor(){this.zone=(0,xe.uUt)(xe.WW2),this.applicationRef=(0,xe.uUt)(xe.Swk)}create(Ge,st,Vt){return new Ue(Ge,st,this.applicationRef,this.zone,Vt)}}return at.\u0275fac=function(Ge){return new(Ge||at)},at.\u0275prov=xe.wxM({token:at,factory:at.\u0275fac}),at})();class Ue{constructor(ft,Ge,st,Vt,cn){this.environmentInjector=ft,this.injector=Ge,this.applicationRef=st,this.zone=Vt,this.elementReferenceKey=cn,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(ft,Ge,st,Vt){return this.zone.run(()=>new Promise(cn=>{const An={...st};void 0!==this.elementReferenceKey&&(An[this.elementReferenceKey]=ft),cn(Me(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,ft,Ge,An,Vt,this.elementReferenceKey))}))}removeViewFromDom(ft,Ge){return this.zone.run(()=>new Promise(st=>{const Vt=this.elRefMap.get(Ge);if(Vt){Vt.destroy(),this.elRefMap.delete(Ge);const cn=this.elEventsMap.get(Ge);cn&&(cn(),this.elEventsMap.delete(Ge))}st()}))}}const Me=(at,ft,Ge,st,Vt,cn,An,At,Ae,We,Dt)=>{const Rt=xe.zZn.create({providers:$t(Ae),parent:Ge}),Wt=(0,xe.kdu)(At,{environmentInjector:ft,elementInjector:Rt}),re=Wt.instance,Re=Wt.location.nativeElement;if(Ae&&(Dt&&void 0!==re[Dt]&&console.error(`[Ionic Error]: ${Dt} is a reserved property when using ${An.tagName.toLowerCase()}. Rename or remove the "${Dt}" property from ${At.name}.`),Object.assign(re,Ae)),We)for(const He of We)Re.classList.add(He);const ye=wt(at,re,Re);return An.appendChild(Re),st.attachView(Wt.hostView),Vt.set(Re,Wt),cn.set(Re,ye),Re},Ke=[ae.L,ae.a,ae.b,ae.c,ae.d],wt=(at,ft,Ge)=>at.run(()=>{const st=Ke.filter(Vt=>"function"==typeof ft[Vt]).map(Vt=>{const cn=An=>ft[Vt](An.detail);return Ge.addEventListener(Vt,cn),()=>Ge.removeEventListener(Vt,cn)});return()=>st.forEach(Vt=>Vt())}),Ct=new xe.UbH("NavParamsToken"),$t=at=>[{provide:Ct,useValue:at},{provide:_t,useFactory:nn,deps:[Ct]}],nn=at=>new _t(at),wn=(at,ft)=>{const Ge=at.prototype;ft.forEach(st=>{Object.defineProperty(Ge,st,{get(){return this.el[st]},set(Vt){this.z.runOutsideAngular(()=>this.el[st]=Vt)}})})},xn=(at,ft)=>{const Ge=at.prototype;ft.forEach(st=>{Ge[st]=function(){const Vt=arguments;return this.z.runOutsideAngular(()=>this.el[st].apply(this.el,Vt))}})},St=(at,ft,Ge)=>{Ge.forEach(st=>at[st]=(0,K.w)(ft,st))};function Et(at){return function(Ge){const{defineCustomElementFn:st,inputs:Vt,methods:cn}=at;return void 0!==st&&st(),Vt&&wn(Ge,Vt),cn&&xn(Ge,cn),Ge}}const Nt=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],yt=["present","dismiss","onDidDismiss","onWillDismiss"];let tt=(()=>{let at=class{constructor(Ge,st,Vt){this.z=Vt,this.isCmpOpen=!1,this.el=st.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,Ge.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,Ge.detectChanges()}),St(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return at.\u0275fac=function(Ge){return new(Ge||at)(xe.GI1(xe.kD9),xe.GI1(xe.GMv),xe.GI1(xe.WW2))},at.\u0275dir=xe.Sc5({type:at,selectors:[["ion-popover"]],contentQueries:function(Ge,st,Vt){if(1&Ge&&xe.szK(Vt,xe.Yw2,5),2&Ge){let cn;xe.wto(cn=xe.Gqi())&&(st.template=cn.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}}),at=(0,De.UN)([Et({inputs:Nt,methods:yt})],at),at})();const ut=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],It=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Be=(()=>{let at=class{constructor(Ge,st,Vt){this.z=Vt,this.isCmpOpen=!1,this.el=st.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,Ge.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,Ge.detectChanges()}),St(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return at.\u0275fac=function(Ge){return new(Ge||at)(xe.GI1(xe.kD9),xe.GI1(xe.GMv),xe.GI1(xe.WW2))},at.\u0275dir=xe.Sc5({type:at,selectors:[["ion-modal"]],contentQueries:function(Ge,st,Vt){if(1&Ge&&xe.szK(Vt,xe.Yw2,5),2&Ge){let cn;xe.wto(cn=xe.Gqi())&&(st.template=cn.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}}),at=(0,De.UN)([Et({inputs:ut,methods:It})],at),at})();const Ot=(at,ft)=>((at=at.filter(Ge=>Ge.stackId!==ft.stackId)).push(ft),at),mn=(at,ft)=>{const Ge=at.createUrlTree(["."],{relativeTo:ft});return at.serializeUrl(Ge)},gn=(at,ft)=>!ft||at.stackId!==ft.stackId,bn=(at,ft)=>{if(!at)return;const Ge=Cn(ft);for(let st=0;st<Ge.length;st++){if(st>=at.length)return Ge[st];if(Ge[st]!==at[st])return}},Cn=at=>at.split("/").map(ft=>ft.trim()).filter(ft=>""!==ft),Sn=at=>{at&&(at.ref.destroy(),at.unlistenEvents())};class tr{constructor(ft,Ge,st,Vt,cn,An){this.containerEl=Ge,this.router=st,this.navCtrl=Vt,this.zone=cn,this.location=An,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==ft?Cn(ft):void 0}createView(ft,Ge){var st;const Vt=mn(this.router,Ge),cn=null==ft||null===(st=ft.location)||void 0===st?void 0:st.nativeElement,An=wt(this.zone,ft.instance,cn);return{id:this.nextId++,stackId:bn(this.tabsPrefix,Vt),unlistenEvents:An,element:cn,ref:ft,url:Vt}}getExistingView(ft){const Ge=mn(this.router,ft),st=this.views.find(Vt=>Vt.url===Ge);return st&&st.ref.changeDetectorRef.reattach(),st}setActive(ft){var Ge,st;const Vt=this.navCtrl.consumeTransition();let{direction:cn,animation:An,animationBuilder:At}=Vt;const Ae=this.activeView,We=gn(ft,Ae);We&&(cn="back",An=void 0);const Dt=this.views.slice();let Rt;const Wt=this.router;Wt.getCurrentNavigation?Rt=Wt.getCurrentNavigation():null!==(Ge=Wt.navigations)&&void 0!==Ge&&Ge.value&&(Rt=Wt.navigations.value),null!==(st=Rt)&&void 0!==st&&null!==(st=st.extras)&&void 0!==st&&st.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const re=this.views.includes(ft),Re=this.insertView(ft,cn);re||ft.ref.changeDetectorRef.detectChanges();const ye=ft.animationBuilder;return void 0===At&&"back"===cn&&!We&&void 0!==ye&&(At=ye),Ae&&(Ae.animationBuilder=At),this.zone.runOutsideAngular(()=>this.wait(()=>(Ae&&Ae.ref.changeDetectorRef.detach(),ft.ref.changeDetectorRef.reattach(),this.transition(ft,Ae,An,this.canGoBack(1),!1,At).then(()=>nr(ft,Re,Dt,this.location,this.zone)).then(()=>({enteringView:ft,direction:cn,animation:An,tabSwitch:We})))))}canGoBack(ft,Ge=this.getActiveStackId()){return this.getStack(Ge).length>ft}pop(ft,Ge=this.getActiveStackId()){return this.zone.run(()=>{const st=this.getStack(Ge);if(st.length<=ft)return Promise.resolve(!1);const Vt=st[st.length-ft-1];let cn=Vt.url;const An=Vt.savedData;if(An){var At;const We=An.get("primary");null!=We&&null!==(At=We.route)&&void 0!==At&&null!==(At=At._routerState)&&void 0!==At&&At.snapshot.url&&(cn=We.route._routerState.snapshot.url)}const{animationBuilder:Ae}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(cn,{...Vt.savedExtras,animation:Ae}).then(()=>!0)})}startBackTransition(){const ft=this.activeView;if(ft){const Ge=this.getStack(ft.stackId),st=Ge[Ge.length-2],Vt=st.animationBuilder;return this.wait(()=>this.transition(st,ft,"back",this.canGoBack(2),!0,Vt))}return Promise.resolve()}endBackTransition(ft){ft?(this.skipTransition=!0,this.pop(1)):this.activeView&&zn(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(ft){const Ge=this.getStack(ft);return Ge.length>0?Ge[Ge.length-1]:void 0}getRootUrl(ft){const Ge=this.getStack(ft);return Ge.length>0?Ge[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Sn),this.activeView=void 0,this.views=[]}getStack(ft){return this.views.filter(Ge=>Ge.stackId===ft)}insertView(ft,Ge){return this.activeView=ft,this.views=((at,ft,Ge)=>"root"===Ge?Ot(at,ft):"forward"===Ge?((at,ft)=>(at.indexOf(ft)>=0?at=at.filter(st=>st.stackId!==ft.stackId||st.id<=ft.id):at.push(ft),at))(at,ft):((at,ft)=>at.indexOf(ft)>=0?at.filter(st=>st.stackId!==ft.stackId||st.id<=ft.id):Ot(at,ft))(at,ft))(this.views,ft,Ge),this.views.slice()}transition(ft,Ge,st,Vt,cn,An){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(Ge===ft)return Promise.resolve(!1);const At=ft?ft.element:void 0,Ae=Ge?Ge.element:void 0,We=this.containerEl;return At&&At!==Ae&&(At.classList.add("ion-page"),At.classList.add("ion-page-invisible"),At.parentElement!==We&&We.appendChild(At),We.commit)?We.commit(At,Ae,{duration:void 0===st?0:void 0,direction:st,showGoBack:Vt,progressAnimation:cn,animationBuilder:An}):Promise.resolve(!1)}wait(ft){var Ge=this;return(0,v.c)(function*(){void 0!==Ge.runningTask&&(yield Ge.runningTask,Ge.runningTask=void 0);const st=Ge.runningTask=ft();return st.finally(()=>Ge.runningTask=void 0),st})()}}const nr=(at,ft,Ge,st,Vt)=>"function"==typeof requestAnimationFrame?new Promise(cn=>{requestAnimationFrame(()=>{zn(at,ft,Ge,st,Vt),cn()})}):Promise.resolve(),zn=(at,ft,Ge,st,Vt)=>{Vt.run(()=>Ge.filter(cn=>!ft.includes(cn)).forEach(Sn)),ft.forEach(cn=>{const At=st.path().split("?")[0].split("#")[0];if(cn!==at&&cn.url!==At){const Ae=cn.element;Ae.setAttribute("aria-hidden","true"),Ae.classList.add("ion-page-hidden"),cn.ref.changeDetectorRef.detach()}})};let Ln=(()=>{class at{constructor(Ge,st,Vt,cn,An,At,Ae,We){this.parentOutlet=We,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new R.g(null),this.activated=null,this._activatedRoute=null,this.name=rt.gf,this.stackWillChange=new xe._w7,this.stackDidChange=new xe._w7,this.activateEvents=new xe._w7,this.deactivateEvents=new xe._w7,this.parentContexts=(0,xe.uUt)(rt.O4),this.location=(0,xe.uUt)(xe.y8U),this.environmentInjector=(0,xe.uUt)(xe.SIe),this.inputBinder=(0,xe.uUt)(oe,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,xe.uUt)(Gt),this.navCtrl=(0,xe.uUt)(an),this.nativeEl=cn.nativeElement,this.name=Ge||rt.gf,this.tabsPrefix="true"===st?mn(An,Ae):void 0,this.stackCtrl=new tr(this.tabsPrefix,this.nativeEl,An,this.navCtrl,At,Vt),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(Ge){this.nativeEl.animation=Ge}set animated(Ge){this.nativeEl.animated=Ge}set swipeGesture(Ge){this._swipeGesture=Ge,this.nativeEl.swipeHandler=Ge?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:st=>this.stackCtrl.endBackTransition(st)}:void 0}ngOnDestroy(){var Ge;this.stackCtrl.destroy(),null===(Ge=this.inputBinder)||void 0===Ge||Ge.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const Ge=this.getContext();null!=Ge&&Ge.route&&this.activateWith(Ge.route,Ge.injector)}new Promise(Ge=>(0,fe.c)(this.nativeEl,Ge)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(Ge,st){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const st=this.getContext();this.activatedView.savedData=new Map(st.children.contexts);const Vt=this.activatedView.savedData.get("primary");if(Vt&&st.route&&(Vt.route={...st.route}),this.activatedView.savedExtras={},st.route){const cn=st.route.snapshot;this.activatedView.savedExtras.queryParams=cn.queryParams,this.activatedView.savedExtras.fragment=cn.fragment}}const Ge=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Ge)}}activateWith(Ge,st){var Vt;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=Ge;let cn,An=this.stackCtrl.getExistingView(Ge);if(An){cn=this.activated=An.ref;const We=An.savedData;We&&(this.getContext().children.contexts=We),this.updateActivatedRouteProxy(cn.instance,Ge)}else{var At;const We=Ge._futureSnapshot,Dt=this.parentContexts.getOrCreateContext(this.name).children,Rt=new R.g(null),Wt=this.createActivatedRouteProxy(Rt,Ge),re=new ee(Wt,Dt,this.location.injector),Re=null!==(At=We.routeConfig.component)&&void 0!==At?At:We.component;cn=this.activated=this.location.createComponent(Re,{index:this.location.length,injector:re,environmentInjector:null!=st?st:this.environmentInjector}),Rt.next(cn.instance),An=this.stackCtrl.createView(this.activated,Ge),this.proxyMap.set(cn.instance,Wt),this.currentActivatedRoute$.next({component:cn.instance,activatedRoute:Ge})}null===(Vt=this.inputBinder)||void 0===Vt||Vt.bindActivatedRouteToOutletComponent(this),this.activatedView=An,this.navCtrl.setTopOutlet(this);const Ae=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:An,tabSwitch:gn(An,Ae)}),this.stackCtrl.setActive(An).then(We=>{this.activateEvents.emit(cn.instance),this.stackDidChange.emit(We)})}canGoBack(Ge=1,st){return this.stackCtrl.canGoBack(Ge,st)}pop(Ge=1,st){return this.stackCtrl.pop(Ge,st)}getLastUrl(Ge){const st=this.stackCtrl.getLastUrl(Ge);return st?st.url:void 0}getLastRouteView(Ge){return this.stackCtrl.getLastUrl(Ge)}getRootView(Ge){return this.stackCtrl.getRootUrl(Ge)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(Ge,st){const Vt=new rt.gV;return Vt._futureSnapshot=st._futureSnapshot,Vt._routerState=st._routerState,Vt.snapshot=st.snapshot,Vt.outlet=st.outlet,Vt.component=st.component,Vt._paramMap=this.proxyObservable(Ge,"paramMap"),Vt._queryParamMap=this.proxyObservable(Ge,"queryParamMap"),Vt.url=this.proxyObservable(Ge,"url"),Vt.params=this.proxyObservable(Ge,"params"),Vt.queryParams=this.proxyObservable(Ge,"queryParams"),Vt.fragment=this.proxyObservable(Ge,"fragment"),Vt.data=this.proxyObservable(Ge,"data"),Vt}proxyObservable(Ge,st){return Ge.pipe((0,Le.I)(Vt=>!!Vt),(0,Ze.G)(Vt=>this.currentActivatedRoute$.pipe((0,Le.I)(cn=>null!==cn&&cn.component===Vt),(0,Ze.G)(cn=>cn&&cn.activatedRoute[st]),function Ve(at,ft=et.Z){return at=null!=at?at:Te,(0,Oe.i)((Ge,st)=>{let Vt,cn=!0;Ge.subscribe((0,$e.e)(st,An=>{const At=ft(An);(cn||!at(Vt,At))&&(cn=!1,Vt=At,st.next(An))}))})}())))}updateActivatedRouteProxy(Ge,st){const Vt=this.proxyMap.get(Ge);if(!Vt)throw new Error("Could not find activated route proxy for view");Vt._futureSnapshot=st._futureSnapshot,Vt._routerState=st._routerState,Vt.snapshot=st.snapshot,Vt.outlet=st.outlet,Vt.component=st.component,this.currentActivatedRoute$.next({component:Ge,activatedRoute:st})}}return at.\u0275fac=function(Ge){return new(Ge||at)(xe.gJ8("name"),xe.gJ8("tabs"),xe.GI1(Ne.oB),xe.GI1(xe.GMv),xe.GI1(rt.E5),xe.GI1(xe.WW2),xe.GI1(rt.gV),xe.GI1(at,12))},at.\u0275dir=xe.Sc5({type:at,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),at})();class ee{constructor(ft,Ge,st){this.route=ft,this.childContexts=Ge,this.parent=st}get(ft,Ge){return ft===rt.gV?this.route:ft===rt.O4?this.childContexts:this.parent.get(ft,Ge)}}const oe=new xe.UbH("");let _e=(()=>{class at{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(Ge){this.unsubscribeFromRouteData(Ge),this.subscribeToRouteData(Ge)}unsubscribeFromRouteData(Ge){var st;null===(st=this.outletDataSubscriptions.get(Ge))||void 0===st||st.unsubscribe(),this.outletDataSubscriptions.delete(Ge)}subscribeToRouteData(Ge){const{activatedRoute:st}=Ge,Vt=(0,se.E)([st.queryParams,st.params,st.data]).pipe((0,Ze.G)(([cn,An,At],Ae)=>(At={...cn,...An,...At},0===Ae?(0,ge.of)(At):Promise.resolve(At)))).subscribe(cn=>{if(!Ge.isActivated||!Ge.activatedComponentRef||Ge.activatedRoute!==st||null===st.component)return void this.unsubscribeFromRouteData(Ge);const An=(0,xe.o9M)(st.component);if(An)for(const{templateName:At}of An.inputs)Ge.activatedComponentRef.setInput(At,cn[At]);else this.unsubscribeFromRouteData(Ge)});this.outletDataSubscriptions.set(Ge,Vt)}}return at.\u0275fac=function(Ge){return new(Ge||at)},at.\u0275prov=xe.wxM({token:at,factory:at.\u0275fac}),at})();const O=()=>({provide:oe,useFactory:G,deps:[rt.E5]});function G(at){return null!=at&&at.componentInputBindingEnabled?new _e:null}const V=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Q=(()=>{let at=class{constructor(Ge,st,Vt,cn,An,At){this.routerOutlet=Ge,this.navCtrl=st,this.config=Vt,this.r=cn,this.z=An,At.detach(),this.el=this.r.nativeElement}onClick(Ge){var st;const Vt=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(st=this.routerOutlet)&&void 0!==st&&st.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),Ge.preventDefault()):null!=Vt&&(this.navCtrl.navigateBack(Vt,{animation:this.routerAnimation}),Ge.preventDefault())}};return at.\u0275fac=function(Ge){return new(Ge||at)(xe.GI1(Ln,8),xe.GI1(an),xe.GI1(Gt),xe.GI1(xe.GMv),xe.GI1(xe.WW2),xe.GI1(xe.kD9))},at.\u0275dir=xe.Sc5({type:at,hostBindings:function(Ge,st){1&Ge&&xe.qCj("click",function(cn){return st.onClick(cn)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),at=(0,De.UN)([Et({inputs:V})],at),at})(),de=(()=>{class at{constructor(Ge,st,Vt,cn,An){this.locationStrategy=Ge,this.navCtrl=st,this.elementRef=Vt,this.router=cn,this.routerLink=An,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var Ge;if(null!==(Ge=this.routerLink)&&void 0!==Ge&&Ge.urlTree){const st=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=st}}onClick(Ge){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),Ge.preventDefault()}}return at.\u0275fac=function(Ge){return new(Ge||at)(xe.GI1(Ne.Qd),xe.GI1(an),xe.GI1(xe.GMv),xe.GI1(rt.E5),xe.GI1(rt.ER,8))},at.\u0275dir=xe.Sc5({type:at,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(Ge,st){1&Ge&&xe.qCj("click",function(cn){return st.onClick(cn)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[xe.SYr]}),at})(),Z=(()=>{class at{constructor(Ge,st,Vt,cn,An){this.locationStrategy=Ge,this.navCtrl=st,this.elementRef=Vt,this.router=cn,this.routerLink=An,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var Ge;if(null!==(Ge=this.routerLink)&&void 0!==Ge&&Ge.urlTree){const st=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=st}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return at.\u0275fac=function(Ge){return new(Ge||at)(xe.GI1(Ne.Qd),xe.GI1(an),xe.GI1(xe.GMv),xe.GI1(rt.E5),xe.GI1(rt.ER,8))},at.\u0275dir=xe.Sc5({type:at,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(Ge,st){1&Ge&&xe.qCj("click",function(){return st.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[xe.SYr]}),at})();const ve=["animated","animation","root","rootParams","swipeGesture"],Pe=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let ot=(()=>{let at=class{constructor(Ge,st,Vt,cn,An,At){this.z=An,At.detach(),this.el=Ge.nativeElement,Ge.nativeElement.delegate=cn.create(st,Vt),St(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return at.\u0275fac=function(Ge){return new(Ge||at)(xe.GI1(xe.GMv),xe.GI1(xe.SIe),xe.GI1(xe.zZn),xe.GI1(je),xe.GI1(xe.WW2),xe.GI1(xe.kD9))},at.\u0275dir=xe.Sc5({type:at,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),at=(0,De.UN)([Et({inputs:ve,methods:Pe})],at),at})(),Tt=(()=>{class at{constructor(Ge){this.navCtrl=Ge,this.ionTabsWillChange=new xe._w7,this.ionTabsDidChange=new xe._w7,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:Ge,tabSwitch:st}){const Vt=Ge.stackId;st&&void 0!==Vt&&this.ionTabsWillChange.emit({tab:Vt})}onStackDidChange({enteringView:Ge,tabSwitch:st}){const Vt=Ge.stackId;st&&void 0!==Vt&&(this.tabBar&&(this.tabBar.selectedTab=Vt),this.ionTabsDidChange.emit({tab:Vt}))}select(Ge){const st="string"==typeof Ge,Vt=st?Ge:Ge.detail.tab,cn=this.outlet.getActiveStackId()===Vt,An=`${this.outlet.tabsPrefix}/${Vt}`;if(st||Ge.stopPropagation(),cn){const At=this.outlet.getActiveStackId(),Ae=this.outlet.getLastRouteView(At);if((null==Ae?void 0:Ae.url)===An)return;const We=this.outlet.getRootView(Vt);return this.navCtrl.navigateRoot(An,{...We&&An===We.url&&We.savedExtras,animated:!0,animationDirection:"back"})}{const At=this.outlet.getLastRouteView(Vt);return this.navCtrl.navigateRoot((null==At?void 0:At.url)||An,{...null==At?void 0:At.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(Ge=>{const st=Ge.el.getAttribute("slot");st!==this.tabBarSlot&&(this.tabBarSlot=st,this.relocateTabBar())})}relocateTabBar(){const Ge=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(Ge):this.tabsInner.nativeElement.after(Ge)}}return at.\u0275fac=function(Ge){return new(Ge||at)(xe.GI1(an))},at.\u0275dir=xe.Sc5({type:at,selectors:[["ion-tabs"]],viewQuery:function(Ge,st){if(1&Ge&&xe.CC$(Ye,7,xe.GMv),2&Ge){let Vt;xe.wto(Vt=xe.Gqi())&&(st.tabsInner=Vt.first)}},hostBindings:function(Ge,st){1&Ge&&xe.qCj("ionTabButtonClick",function(cn){return st.select(cn)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),at})();const sn=at=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(at):"function"==typeof requestAnimationFrame?requestAnimationFrame(at):setTimeout(at);let _n=(()=>{class at{constructor(Ge,st){this.injector=Ge,this.elementRef=st,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(Ge){this.elementRef.nativeElement.value=this.lastValue=Ge,ln(this.elementRef)}handleValueChange(Ge,st){Ge===this.elementRef.nativeElement&&(st!==this.lastValue&&(this.lastValue=st,this.onChange(st)),ln(this.elementRef))}_handleBlurEvent(Ge){Ge===this.elementRef.nativeElement&&(this.onTouched(),ln(this.elementRef))}registerOnChange(Ge){this.onChange=Ge}registerOnTouched(Ge){this.onTouched=Ge}setDisabledState(Ge){this.elementRef.nativeElement.disabled=Ge}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let Ge;try{Ge=this.injector.get(Je.eq)}catch{}if(!Ge)return;Ge.statusChanges&&(this.statusChanges=Ge.statusChanges.subscribe(()=>ln(this.elementRef)));const st=Ge.control;st&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(cn=>{if(typeof st[cn]<"u"){const An=st[cn].bind(st);st[cn]=(...At)=>{An(...At),ln(this.elementRef)}}})}}return at.\u0275fac=function(Ge){return new(Ge||at)(xe.GI1(xe.zZn),xe.GI1(xe.GMv))},at.\u0275dir=xe.Sc5({type:at,hostBindings:function(Ge,st){1&Ge&&xe.qCj("ionBlur",function(cn){return st._handleBlurEvent(cn.target)})}}),at})();const ln=at=>{sn(()=>{const ft=at.nativeElement,Ge=null!=ft.value&&ft.value.toString().length>0,st=kn(ft);Kn(ft,st);const Vt=ft.closest("ion-item");Vt&&Kn(Vt,Ge?[...st,"item-has-value"]:st)})},kn=at=>{const ft=at.classList,Ge=[];for(let st=0;st<ft.length;st++){const Vt=ft.item(st);null!==Vt&&Wn(Vt,"ng-")&&Ge.push(`ion-${Vt.substring(3)}`)}return Ge},Kn=(at,ft)=>{const Ge=at.classList;Ge.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),Ge.add(...ft)},Wn=(at,ft)=>at.substring(0,ft.length)===ft;class Gr{shouldDetach(ft){return!1}shouldAttach(ft){return!1}store(ft,Ge){}retrieve(ft){return null}shouldReuseRoute(ft,Ge){if(ft.routeConfig!==Ge.routeConfig)return!1;const st=ft.params,Vt=Ge.params,cn=Object.keys(st),An=Object.keys(Vt);if(cn.length!==An.length)return!1;for(const At of cn)if(Vt[At]!==st[At])return!1;return!0}}class Cr{constructor(ft){this.ctrl=ft}create(ft){return this.ctrl.create(ft||{})}dismiss(ft,Ge,st){return this.ctrl.dismiss(ft,Ge,st)}getTop(){return this.ctrl.getTop()}}},5624:(fn,Lt,me)=>{"use strict";me.d(Lt,{iW:()=>Cr,UJ:()=>p,cm:()=>I,qU:()=>B,qk:()=>ne,O7:()=>J,Im:()=>Pe,Gi:()=>ae,sn:()=>K,GS:()=>R,ew:()=>et,cz:()=>Oe,Kk:()=>$e,_i:()=>Ve,on:()=>Te,eV:()=>vt,YP:()=>kt,wB:()=>Ht,Ko:()=>Ft,A5:()=>qt,Yb:()=>Gt,S8:()=>lt,QR:()=>Me,OC:()=>Ke,zz:()=>wt,W9:()=>Gr,yc:()=>_n,sW:()=>ln,CS:()=>yt,ue:()=>tt,Cg:()=>Z,qo:()=>zt,Cy:()=>Cn,gd:()=>Sn,mx:()=>Ln,ej:()=>ee,CE:()=>ve,tM:()=>G,E$:()=>Q,Md:()=>de,wZ:()=>Wt,Kg:()=>st,qS:()=>cn,Ch:()=>b,Gv:()=>T,IT:()=>F,qG:()=>k});var v=me(4496),xe=me(4716),rt=me(9240),Ne=me(1316),r=me(800),H=me(1368),C=me(3332),y=me(4708),h=me(1528),f=me(3716);const w=me(1780).i,a=function(){var re=(0,h.c)(function*(Re,ye){if(!(typeof window>"u"))return yield w(),(0,f.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"],"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),ye)});return function(ye,He){return re.apply(this,arguments)}}(),l=["*"],d=["outlet"],u=[[["","slot","top"]],"*"],c=["[slot=top]","*"];function s(re,Re){if(1&re&&(v.I0R(0,"div",1),v.C_f(1,2),v.C$Y()),2&re){const ye=v.GaO();v.yG2(),v.E7m("ngTemplateOutlet",ye.template)}}function m(re,Re){if(1&re&&v.C_f(0,1),2&re){const ye=v.GaO();v.E7m("ngTemplateOutlet",ye.template)}}let p=(()=>{class re extends rt.uU{constructor(ye,He){super(ye,He)}writeValue(ye){this.elementRef.nativeElement.checked=this.lastValue=ye,(0,rt.ag)(this.elementRef)}_handleIonChange(ye){this.handleValueChange(ye,ye.checked)}}return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.zZn),v.GI1(v.GMv))},re.\u0275dir=v.Sc5({type:re,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(ye,He){1&ye&&v.qCj("ionChange",function(Jt){return He._handleIonChange(Jt.target)})},features:[v.M5G([{provide:xe.Y6,useExisting:re,multi:!0}]),v.eg9]}),re})(),b=(()=>{class re extends rt.uU{constructor(ye,He){super(ye,He)}handleInputEvent(ye){this.handleValueChange(ye,ye.value)}registerOnChange(ye){super.registerOnChange(He=>{ye(""===He?null:parseFloat(He))})}}return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.zZn),v.GI1(v.GMv))},re.\u0275dir=v.Sc5({type:re,selectors:[["ion-input","type","number"]],hostBindings:function(ye,He){1&ye&&v.qCj("ionInput",function(Jt){return He.handleInputEvent(Jt.target)})},features:[v.M5G([{provide:xe.Y6,useExisting:re,multi:!0}]),v.eg9]}),re})(),T=(()=>{class re extends rt.uU{constructor(ye,He){super(ye,He)}_handleIonSelect(ye){this.handleValueChange(ye,ye.checked)}}return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.zZn),v.GI1(v.GMv))},re.\u0275dir=v.Sc5({type:re,selectors:[["ion-radio"]],hostBindings:function(ye,He){1&ye&&v.qCj("ionSelect",function(Jt){return He._handleIonSelect(Jt.target)})},features:[v.M5G([{provide:xe.Y6,useExisting:re,multi:!0}]),v.eg9]}),re})(),F=(()=>{class re extends rt.uU{constructor(ye,He){super(ye,He)}_handleChangeEvent(ye){this.handleValueChange(ye,ye.value)}}return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.zZn),v.GI1(v.GMv))},re.\u0275dir=v.Sc5({type:re,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(ye,He){1&ye&&v.qCj("ionChange",function(Jt){return He._handleChangeEvent(Jt.target)})},features:[v.M5G([{provide:xe.Y6,useExisting:re,multi:!0}]),v.eg9]}),re})(),k=(()=>{class re extends rt.uU{constructor(ye,He){super(ye,He)}_handleInputEvent(ye){this.handleValueChange(ye,ye.value)}}return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.zZn),v.GI1(v.GMv))},re.\u0275dir=v.Sc5({type:re,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(ye,He){1&ye&&v.qCj("ionInput",function(Jt){return He._handleInputEvent(Jt.target)})},features:[v.M5G([{provide:xe.Y6,useExisting:re,multi:!0}]),v.eg9]}),re})();const A=(re,Re)=>{const ye=re.prototype;Re.forEach(He=>{Object.defineProperty(ye,He,{get(){return this.el[He]},set(pt){this.z.runOutsideAngular(()=>this.el[He]=pt)},configurable:!0})})},P=(re,Re)=>{const ye=re.prototype;Re.forEach(He=>{ye[He]=function(){const pt=arguments;return this.z.runOutsideAngular(()=>this.el[He].apply(this.el,pt))}})},$=(re,Re,ye)=>{ye.forEach(He=>re[He]=(0,r.w)(Re,He))};function N(re){return function(ye){const{defineCustomElementFn:He,inputs:pt,methods:Jt}=re;return void 0!==He&&He(),pt&&A(ye,pt),Jt&&P(ye,Jt),ye}}let I=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],re),re})(),B=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement,$(this,this.el,["ionChange"])}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],re),re})(),ne=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-app"]],ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({})],re),re})(),J=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-avatar"]],ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({})],re),re})(),ae=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["color","mode"]})],re),re})(),K=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement,$(this,this.el,["ionFocus","ionBlur"])}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],re),re})(),R=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["collapse"]})],re),re})(),et=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement,$(this,this.el,["ionChange","ionFocus","ionBlur"])}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],re),re})(),Oe=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["color","disabled","mode","outline"]})],re),re})(),$e=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],re),re})(),Ve=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement,$(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],re),re})(),Te=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement,$(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],re),re})(),vt=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["collapse","mode","translucent"]})],re),re})(),kt=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["fixed"]})],re),re})(),Ht=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["collapse","mode","translucent"]})],re),re})(),Ft=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],re),re})(),qt=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement,$(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],re),re})(),Gt=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],re),re})(),lt=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["color","mode","sticky"]})],re),re})(),Me=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["color","mode","position"]})],re),re})(),Ke=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],re),re})(),wt=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["color","lines","mode"]})],re),re})(),yt=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement,$(this,this.el,["ionFocus","ionBlur"])}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["alignment","color","disabled","justify","labelPlacement","legacy","mode","name","value"]})],re),re})(),tt=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement,$(this,this.el,["ionChange"])}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",compareWith:"compareWith",name:"name",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["allowEmptySelection","compareWith","name","value"]})],re),re})(),zt=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-row"]],ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({})],re),re})(),Cn=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement,$(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],re),re})(),Sn=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["disabled","value"]})],re),re})(),Ln=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["color","mode","selectedTab","translucent"]})],re),re})(),ee=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],re),re})(),G=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["color","size"]})],re),re})(),Q=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement,$(this,this.el,["ionChange","ionFocus","ionBlur"])}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],re),re})(),de=(()=>{let re=class{constructor(ye,He,pt){this.z=pt,ye.detach(),this.el=He.nativeElement}};return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(v.kD9),v.GI1(v.GMv),v.GI1(v.WW2))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re=(0,Ne.UN)([N({inputs:["color","mode"]})],re),re})(),Z=(()=>{class re extends rt.Cg{constructor(ye,He,pt,Jt,Dn,On,Hn,Xn){super(ye,He,pt,Jt,Dn,On,Hn,Xn),this.parentOutlet=Xn}}return re.\u0275fac=function(ye){return new(ye||re)(v.gJ8("name"),v.gJ8("tabs"),v.GI1(H.oB),v.GI1(v.GMv),v.GI1(C.E5),v.GI1(v.WW2),v.GI1(C.gV),v.GI1(re,12))},re.\u0275dir=v.Sc5({type:re,selectors:[["ion-router-outlet"]],features:[v.eg9]}),re})(),ve=(()=>{class re extends rt.CE{}return re.\u0275fac=(()=>{let Re;return function(He){return(Re||(Re=v.otF(re)))(He||re)}})(),re.\u0275cmp=v.In1({type:re,selectors:[["ion-tabs"]],contentQueries:function(ye,He,pt){if(1&ye&&(v.szK(pt,Ln,5),v.szK(pt,Ln,4)),2&ye){let Jt;v.wto(Jt=v.Gqi())&&(He.tabBar=Jt.first),v.wto(Jt=v.Gqi())&&(He.tabBars=Jt)}},viewQuery:function(ye,He){if(1&ye&&v.CC$(d,5,Z),2&ye){let pt;v.wto(pt=v.Gqi())&&(He.outlet=pt.first)}},features:[v.eg9],ngContentSelectors:c,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(ye,He){1&ye&&(v.kPM(u),v._Xx(0),v.I0R(1,"div",0,1)(3,"ion-router-outlet",2,3),v.qCj("stackWillChange",function(Jt){return He.onStackWillChange(Jt)})("stackDidChange",function(Jt){return He.onStackDidChange(Jt)}),v.C$Y()(),v._Xx(5,1))},dependencies:[Z],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),re})(),Pe=(()=>{class re extends rt.Im{constructor(ye,He,pt,Jt,Dn,On){super(ye,He,pt,Jt,Dn,On)}}return re.\u0275fac=function(ye){return new(ye||re)(v.GI1(Z,8),v.GI1(rt.wX),v.GI1(rt._U),v.GI1(v.GMv),v.GI1(v.WW2),v.GI1(v.kD9))},re.\u0275cmp=v.In1({type:re,selectors:[["ion-back-button"]],features:[v.eg9],ngContentSelectors:l,decls:1,vars:0,template:function(ye,He){1&ye&&(v.kPM(),v._Xx(0))},encapsulation:2,changeDetection:0}),re})(),_n=(()=>{class re extends rt.Qz{}return re.\u0275fac=(()=>{let Re;return function(He){return(Re||(Re=v.otF(re)))(He||re)}})(),re.\u0275cmp=v.In1({type:re,selectors:[["ion-modal"]],features:[v.eg9],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(ye,He){1&ye&&v.yuY(0,s,2,1,"div",0),2&ye&&v.E7m("ngIf",He.isCmpOpen||He.keepContentsMounted)},dependencies:[H.u_,H.XV],encapsulation:2,changeDetection:0}),re})(),ln=(()=>{class re extends rt.sW{}return re.\u0275fac=(()=>{let Re;return function(He){return(Re||(Re=v.otF(re)))(He||re)}})(),re.\u0275cmp=v.In1({type:re,selectors:[["ion-popover"]],features:[v.eg9],decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(ye,He){1&ye&&v.yuY(0,m,1,1,"ng-container",0),2&ye&&v.E7m("ngIf",He.isCmpOpen||He.keepContentsMounted)},dependencies:[H.u_,H.XV],encapsulation:2,changeDetection:0}),re})();const kn={provide:xe.WM,useExisting:(0,v.wd)(()=>Kn),multi:!0};let Kn=(()=>{class re extends xe._t{}return re.\u0275fac=(()=>{let Re;return function(He){return(Re||(Re=v.otF(re)))(He||re)}})(),re.\u0275dir=v.Sc5({type:re,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(ye,He){2&ye&&v.e48("max",He._enabled?He.max:null)},features:[v.M5G([kn]),v.eg9]}),re})();const Wn={provide:xe.WM,useExisting:(0,v.wd)(()=>Gr),multi:!0};let Gr=(()=>{class re extends xe.Gu{}return re.\u0275fac=(()=>{let Re;return function(He){return(Re||(Re=v.otF(re)))(He||re)}})(),re.\u0275dir=v.Sc5({type:re,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ye,He){2&ye&&v.e48("min",He._enabled?He.min:null)},features:[v.M5G([Wn]),v.eg9]}),re})(),Cr=(()=>{class re extends rt.gk{constructor(){super(y.W4)}}return re.\u0275fac=function(ye){return new(ye||re)},re.\u0275prov=v.wxM({token:re,factory:re.\u0275fac,providedIn:"root"}),re})(),st=(()=>{class re extends rt.gk{constructor(){super(y.KQ)}}return re.\u0275fac=function(ye){return new(ye||re)},re.\u0275prov=v.wxM({token:re,factory:re.\u0275fac,providedIn:"root"}),re})(),cn=(()=>{class re extends rt.gk{constructor(){super(y.kT),this.angularDelegate=(0,v.uUt)(rt.kh),this.injector=(0,v.uUt)(v.zZn),this.environmentInjector=(0,v.uUt)(v.SIe)}create(ye){return super.create({...ye,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return re.\u0275fac=function(ye){return new(ye||re)},re.\u0275prov=v.wxM({token:re,factory:re.\u0275fac}),re})();class At extends rt.gk{constructor(){super(y.oz),this.angularDelegate=(0,v.uUt)(rt.kh),this.injector=(0,v.uUt)(v.zZn),this.environmentInjector=(0,v.uUt)(v.SIe)}create(Re){return super.create({...Re,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const We=(re,Re,ye)=>()=>{const He=Re.defaultView;if(He&&typeof window<"u"){(0,y.cp)({...re,_zoneGate:Jt=>ye.run(Jt)});const pt="__zone_symbol__addEventListener"in Re.body?"__zone_symbol__addEventListener":"addEventListener";return function _(){var re=[];if(typeof window<"u"){var Re=window;(!Re.customElements||Re.Element&&(!Re.Element.prototype.closest||!Re.Element.prototype.matches||!Re.Element.prototype.remove||!Re.Element.prototype.getRootNode))&&re.push(me.e(4448).then(me.t.bind(me,812,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Re.NodeList&&!Re.NodeList.prototype.forEach||!Re.fetch||!function(){try{var He=new URL("b","http://a");return He.pathname="c%20d","http://a/c%20d"===He.href&&He.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&re.push(me.e(488).then(me.t.bind(me,6304,23)))}return Promise.all(re)}().then(()=>a(He,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:rt.cl,jmp:Jt=>ye.runOutsideAngular(Jt),ael(Jt,Dn,On,Hn){Jt[pt](Dn,On,Hn)},rel(Jt,Dn,On,Hn){Jt.removeEventListener(Dn,On,Hn)}}))}};let Wt=(()=>{class re{static forRoot(ye){return{ngModule:re,providers:[{provide:rt.m2,useValue:ye},{provide:v.kZF,useFactory:We,multi:!0,deps:[rt.m2,H.Ud,v.WW2]},(0,rt.Al)()]}}}return re.\u0275fac=function(ye){return new(ye||re)},re.\u0275mod=v.a4G({type:re}),re.\u0275inj=v.s3X({providers:[rt.kh,cn,At],imports:[H.MD]}),re})()},2272:(fn,Lt,me)=>{"use strict";me.d(Lt,{c:()=>rt});var v=me(1528);const xe={};xe.write=function(){var Ne=(0,v.c)(function*(r){yield navigator.clipboard.writeText(r)});return function(r){return Ne.apply(this,arguments)}}(),xe.read=(0,v.c)(function*(){return navigator.clipboard.readText()}),xe.readSync=()=>{throw new Error("`.readSync()` is not supported in browsers!")},xe.writeSync=()=>{throw new Error("`.writeSync()` is not supported in browsers!")};const rt=xe},1528:(fn,Lt,me)=>{"use strict";function v(rt,Ne,r,H,C,y,_){try{var h=rt[y](_),f=h.value}catch(E){return void r(E)}h.done?Ne(f):Promise.resolve(f).then(H,C)}function xe(rt){return function(){var Ne=this,r=arguments;return new Promise(function(H,C){var y=rt.apply(Ne,r);function _(f){v(y,H,C,_,h,"next",f)}function h(f){v(y,H,C,_,h,"throw",f)}_(void 0)})}}me.d(Lt,{c:()=>xe})},1316:(fn,Lt,me)=>{"use strict";me.d(Lt,{U1:()=>p,UN:()=>r,ct:()=>xe,kH:()=>E,mA:()=>F,o7:()=>b});var v=function(J,q){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ae,fe){ae.__proto__=fe}||function(ae,fe){for(var Se in fe)Object.prototype.hasOwnProperty.call(fe,Se)&&(ae[Se]=fe[Se])})(J,q)};function xe(J,q){if("function"!=typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function ae(){this.constructor=J}v(J,q),J.prototype=null===q?Object.create(q):(ae.prototype=q.prototype,new ae)}function r(J,q,ae,fe){var R,Se=arguments.length,K=Se<3?q:null===fe?fe=Object.getOwnPropertyDescriptor(q,ae):fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(J,q,ae,fe);else for(var se=J.length-1;se>=0;se--)(R=J[se])&&(K=(Se<3?R(K):Se>3?R(q,ae,K):R(q,ae))||K);return Se>3&&K&&Object.defineProperty(q,ae,K),K}function E(J,q,ae,fe){return new(ae||(ae=Promise))(function(K,R){function se(Le){try{De(fe.next(Le))}catch(Ze){R(Ze)}}function ge(Le){try{De(fe.throw(Le))}catch(Ze){R(Ze)}}function De(Le){Le.done?K(Le.value):function Se(K){return K instanceof ae?K:new ae(function(R){R(K)})}(Le.value).then(se,ge)}De((fe=fe.apply(J,q||[])).next())})}function p(J){return this instanceof p?(this.v=J,this):new p(J)}function b(J,q,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,fe=ae.apply(J,q||[]),K=[];return Se={},R("next"),R("throw"),R("return"),Se[Symbol.asyncIterator]=function(){return this},Se;function R(et){fe[et]&&(Se[et]=function(Oe){return new Promise(function($e,Ve){K.push([et,Oe,$e,Ve])>1||se(et,Oe)})})}function se(et,Oe){try{!function ge(et){et.value instanceof p?Promise.resolve(et.value.v).then(De,Le):Ze(K[0][2],et)}(fe[et](Oe))}catch($e){Ze(K[0][3],$e)}}function De(et){se("next",et)}function Le(et){se("throw",et)}function Ze(et,Oe){et(Oe),K.shift(),K.length&&se(K[0][0],K[0][1])}}function F(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,q=J[Symbol.asyncIterator];return q?q.call(J):(J=function d(J){var q="function"==typeof Symbol&&Symbol.iterator,ae=q&&J[q],fe=0;if(ae)return ae.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&fe>=J.length&&(J=void 0),{value:J&&J[fe++],done:!J}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ae={},fe("next"),fe("throw"),fe("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function fe(K){ae[K]=J[K]&&function(R){return new Promise(function(se,ge){!function Se(K,R,se,ge){Promise.resolve(ge).then(function(De){K({value:De,done:se})},R)}(se,ge,(R=J[K](R)).done,R.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},fn=>{fn(fn.s=5570)}]);