(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{9040:(hn,Mt,se)=>{"use strict";se.d(Mt,{z:()=>xe});var m=se(655),ye=se(3228),Xe=se(9863),xe=function(e){function U(){return null!==e&&e.apply(this,arguments)||this}return(0,m.ZT)(U,e),U.prototype.enable=function(){return(0,ye.DM)(this,"enable",{sync:!0},arguments)},U.prototype.disable=function(){return(0,ye.DM)(this,"disable",{sync:!0},arguments)},U.prototype.setEnabled=function(E){return(0,ye.DM)(this,"setEnabled",{sync:!0},arguments)},U.prototype.fireEvent=function(E){for(var f=[],o=1;o<arguments.length;o++)f[o-1]=arguments[o];return(0,ye.DM)(this,"fireEvent",{sync:!0},arguments)},U.prototype.isEnabled=function(){return(0,ye.DM)(this,"isEnabled",{sync:!0},arguments)},U.prototype.isActive=function(){return(0,ye.DM)(this,"isActive",{sync:!0},arguments)},U.prototype.setDefaults=function(E){return(0,ye.DM)(this,"setDefaults",{platforms:["Android"]},arguments)},U.prototype.configure=function(E){return(0,ye.DM)(this,"configure",{platforms:["Android"],sync:!0},arguments)},U.prototype.on=function(E){return(0,ye.DM)(this,"on",{observable:!0,clearFunction:"un",clearWithArgs:!0},arguments)},U.prototype.un=function(E,f){return(0,ye.DM)(this,"un",{},arguments)},U.prototype.moveToBackground=function(){return(0,ye.DM)(this,"moveToBackground",{platforms:["Android"],sync:!0},arguments)},U.prototype.disableWebViewOptimizations=function(){return(0,ye.DM)(this,"disableWebViewOptimizations",{platforms:["Android"],sync:!0},arguments)},U.prototype.moveToForeground=function(){return(0,ye.DM)(this,"moveToForeground",{platforms:["Android"],sync:!0},arguments)},U.prototype.overrideBackButton=function(){return(0,ye.DM)(this,"overrideBackButton",{platforms:["Android"],sync:!0},arguments)},U.prototype.excludeFromTaskList=function(){return(0,ye.DM)(this,"excludeFromTaskList",{platforms:["Android"],sync:!0},arguments)},U.prototype.isScreenOff=function(E){return(0,ye.DM)(this,"isScreenOff",{platforms:["Android"]},arguments)},U.prototype.wakeUp=function(){return(0,ye.DM)(this,"wakeUp",{platforms:["Android"],sync:!0},arguments)},U.prototype.unlock=function(){return(0,ye.DM)(this,"unlock",{platforms:["Android"],sync:!0},arguments)},U.prototype.disableBatteryOptimizations=function(){return(0,ye.DM)(this,"disableBatteryOptimizations",{platforms:["Android"],sync:!0},arguments)},U.pluginName="BackgroundMode",U.plugin="cordova-plugin-background-mode",U.pluginRef="cordova.plugins.backgroundMode",U.repo="https://github.com/katzer/cordova-plugin-background-mode",U.platforms=["AmazonFire OS","Android","Browser","iOS","Windows"],U.\u0275fac=function(){var E;return function(o){return(E||(E=Xe.n5z(U)))(o||U)}}(),U.\u0275prov=Xe.Yz7({token:U,factory:function(E){return U.\u0275fac(E)}}),U}(ye.On)},9645:(hn,Mt,se)=>{"use strict";se.d(Mt,{m:()=>xe});var m=se(655),ye=se(3228),Xe=se(9863),xe=function(e){function U(){var E=null!==e&&e.apply(this,arguments)||this;return E.Encode={TEXT_TYPE:"TEXT_TYPE",EMAIL_TYPE:"EMAIL_TYPE",PHONE_TYPE:"PHONE_TYPE",SMS_TYPE:"SMS_TYPE"},E}return(0,m.ZT)(U,e),U.prototype.scan=function(E){return(0,ye.DM)(this,"scan",{callbackOrder:"reverse"},arguments)},U.prototype.encode=function(E,f){return(0,ye.DM)(this,"encode",{},arguments)},U.pluginName="BarcodeScanner",U.plugin="phonegap-plugin-barcodescanner",U.pluginRef="cordova.plugins.barcodeScanner",U.repo="https://github.com/phonegap/phonegap-plugin-barcodescanner",U.platforms=["Android","BlackBerry 10","Browser","iOS","Windows"],U.\u0275fac=function(){var E;return function(o){return(E||(E=Xe.n5z(U)))(o||U)}}(),U.\u0275prov=Xe.Yz7({token:U,factory:function(E){return U.\u0275fac(E)}}),U}(ye.On)},5129:(hn,Mt,se)=>{"use strict";se.d(Mt,{V1:()=>a});var m=se(655),ye=se(3228),Xe=se(9863),a=function(d){function u(){var p=null!==d&&d.apply(this,arguments)||this;return p.DestinationType={DATA_URL:0,FILE_URI:1,NATIVE_URI:2},p.EncodingType={JPEG:0,PNG:1},p.MediaType={PICTURE:0,VIDEO:1,ALLMEDIA:2},p.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},p.PopoverArrowDirection={ARROW_UP:1,ARROW_DOWN:2,ARROW_LEFT:4,ARROW_RIGHT:8,ARROW_ANY:15},p.Direction={BACK:0,FRONT:1},p}return(0,m.ZT)(u,d),u.prototype.getPicture=function(p){return(0,ye.DM)(this,"getPicture",{callbackOrder:"reverse"},arguments)},u.prototype.cleanup=function(){return(0,ye.DM)(this,"cleanup",{platforms:["iOS"]},arguments)},u.pluginName="Camera",u.plugin="cordova-plugin-camera",u.pluginRef="navigator.camera",u.repo="https://github.com/apache/cordova-plugin-camera",u.platforms=["Android","Browser","iOS","Windows"],u.\u0275fac=function(){var p;return function(r){return(p||(p=Xe.n5z(u)))(r||u)}}(),u.\u0275prov=Xe.Yz7({token:u,factory:function(p){return u.\u0275fac(p)}}),u}(ye.On)},3228:(hn,Mt,se)=>{"use strict";se.d(Mt,{On:()=>N,DM:()=>M,J2:()=>G,Iq:()=>ee});var ye=se(2916),Xe=se(3753),xe={error:"cordova_not_available"},e={error:"plugin_not_installed"};function U($){if("undefined"!=typeof window&&window.angular){var Z=window.document,oe=window.angular.element(Z.querySelector("[ng-app]")||Z.body).injector();if(oe)return oe.get("$q")(function(te,me){$(te,me)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(te,me){$(te,me)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function E($,H,Z,oe){void 0===oe&&(oe={});var Q,te,me=U(function(ce,he){Q=oe.destruct?s($,H,Z,oe,function(){for(var Ae=[],A=0;A<arguments.length;A++)Ae[A]=arguments[A];return ce(Ae)},function(){for(var Ae=[],A=0;A<arguments.length;A++)Ae[A]=arguments[A];return he(Ae)}):s($,H,Z,oe,ce,he),te=he});return Q&&Q.error&&(me.catch(function(){}),"function"==typeof te&&te(Q.error)),me}function f($,H,Z,oe){return void 0===oe&&(oe={}),U(function(Q,te){var me=s($,H,Z,oe);me?me.error?te(me.error):me.then&&me.then(Q).catch(te):te({error:"unexpected_error"})})}function o($,H,Z,oe){return void 0===oe&&(oe={}),new ye.y(function(Q){var te;return te=oe.destruct?s($,H,Z,oe,function(){for(var me=[],ce=0;ce<arguments.length;ce++)me[ce]=arguments[ce];return Q.next(me)},function(){for(var me=[],ce=0;ce<arguments.length;ce++)me[ce]=arguments[ce];return Q.error(me)}):s($,H,Z,oe,Q.next.bind(Q),Q.error.bind(Q)),te&&te.error&&(Q.error(te.error),Q.complete()),function(){try{if(oe.clearFunction)return oe.clearWithArgs?s($,oe.clearFunction,Z,oe,Q.next.bind(Q),Q.error.bind(Q)):s($,oe.clearFunction,[])}catch(me){console.warn("Unable to clear the previous observable watch for",$.constructor.getPluginName(),H),console.warn(me)}}})}function a($,H){return H="undefined"!=typeof window&&H?c(window,H):H||("undefined"!=typeof window?window:{}),(0,Xe.R)(H,$)}function d($,H,Z){var oe,Q;"string"==typeof $?oe=$:(oe=$.constructor.getPluginRef(),Z=$.constructor.getPluginName(),Q=$.constructor.getPluginInstallName());var te=i(oe);return!(!te||H&&void 0===te[H])||("undefined"!=typeof window&&window.cordova?(function h($,H,Z){console.warn(Z?"Native: tried calling "+$+"."+Z+", but the "+$+" plugin is not installed.":"Native: tried accessing the "+$+" plugin but it's not installed."),H&&console.warn("Install the "+$+" plugin: 'ionic cordova plugin add "+H+"'")}(Z,Q,H),e):(function y($,H){"undefined"==typeof process&&console.warn(H?"Native: tried calling "+$+"."+H+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+$+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(Z,H),xe))}function s($,H,Z,oe,Q,te){void 0===oe&&(oe={}),Z=function p($,H,Z,oe){if(void 0===H&&(H={}),H.sync)return $;if("reverse"===H.callbackOrder)$.unshift(oe),$.unshift(Z);else if("node"===H.callbackStyle)$.push(function(ce,he){ce?oe(ce):Z(he)});else if("object"===H.callbackStyle&&H.successName&&H.errorName){var Q={};Q[H.successName]=Z,Q[H.errorName]=oe,$.push(Q)}else if(void 0!==H.successIndex||void 0!==H.errorIndex){var te=function(){H.successIndex>$.length?$[H.successIndex]=Z:$.splice(H.successIndex,0,Z)},me=function(){H.errorIndex>$.length?$[H.errorIndex]=oe:$.splice(H.errorIndex,0,oe)};H.successIndex>H.errorIndex?(me(),te()):(te(),me())}else $.push(Z),$.push(oe);return $}(Z,oe,Q,te);var me=d($,H);if(!0===me){var ce=i($.constructor.getPluginRef());return ce[H].apply(ce,Z)}return me}function i($){return"undefined"!=typeof window?c(window,$):null}function c($,H){for(var Z=H.split("."),oe=$,Q=0;Q<Z.length;Q++){if(!oe)return null;oe=oe[Z[Q]]}return oe}var N=function(){function $(){}return $.installed=function(){return!0===d(this.pluginRef)},$.getPlugin=function(){return"undefined"!=typeof window?function w($,H){for(var Z=H.split("."),oe=$,Q=0;Q<Z.length;Q++){if(!oe)return null;oe=oe[Z[Q]]}return oe}(window,this.pluginRef):null},$.getPluginName=function(){return this.pluginName},$.getPluginRef=function(){return this.pluginRef},$.getPluginInstallName=function(){return this.plugin},$.getSupportedPlatforms=function(){return this.platforms},$.pluginName="",$.pluginRef="",$.plugin="",$.repo="",$.platforms=[],$.install="",$}();function M($,H,Z,oe){return function($,H,Z){return void 0===Z&&(Z={}),function(){for(var oe=[],Q=0;Q<arguments.length;Q++)oe[Q]=arguments[Q];return Z.sync?s($,H,oe,Z):Z.observable?o($,H,oe,Z):Z.eventObservable&&Z.event?a(Z.event,Z.element):Z.otherPromise?f($,H,oe,Z):E($,H,oe,Z)}}($,H,Z).apply(this,oe)}function G($,H){return!0===d($,H)?i($.constructor.getPluginRef())[H]:null}function ee($,H,Z){!0===d($,H)&&(i($.constructor.getPluginRef())[H]=Z)}!function m(){if("undefined"==typeof process){var $="undefined"!=typeof window?window:{},Z=Date.now(),oe=!1;$.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-Z)+" ms"),oe=!0}),setTimeout(function(){!oe&&$.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},2463:(hn,Mt,se)=>{"use strict";se.d(Mt,{A:()=>xe});var m=se(655),ye=se(3228),Xe=se(9863),xe=function(e){function U(){return null!==e&&e.apply(this,arguments)||this}return(0,m.ZT)(U,e),Object.defineProperty(U.prototype,"cordova",{get:function(){return(0,ye.J2)(this,"cordova")},set:function(E){(0,ye.Iq)(this,"cordova",E)},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"model",{get:function(){return(0,ye.J2)(this,"model")},set:function(E){(0,ye.Iq)(this,"model",E)},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"platform",{get:function(){return(0,ye.J2)(this,"platform")},set:function(E){(0,ye.Iq)(this,"platform",E)},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"uuid",{get:function(){return(0,ye.J2)(this,"uuid")},set:function(E){(0,ye.Iq)(this,"uuid",E)},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"version",{get:function(){return(0,ye.J2)(this,"version")},set:function(E){(0,ye.Iq)(this,"version",E)},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"manufacturer",{get:function(){return(0,ye.J2)(this,"manufacturer")},set:function(E){(0,ye.Iq)(this,"manufacturer",E)},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"isVirtual",{get:function(){return(0,ye.J2)(this,"isVirtual")},set:function(E){(0,ye.Iq)(this,"isVirtual",E)},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"serial",{get:function(){return(0,ye.J2)(this,"serial")},set:function(E){(0,ye.Iq)(this,"serial",E)},enumerable:!1,configurable:!0}),U.pluginName="Device",U.plugin="cordova-plugin-device",U.pluginRef="device",U.repo="https://github.com/apache/cordova-plugin-device",U.platforms=["Android","Browser","iOS","macOS","Windows"],U.\u0275fac=function(){var E;return function(o){return(E||(E=Xe.n5z(U)))(o||U)}}(),U.\u0275prov=Xe.Yz7({token:U,factory:function(E){return U.\u0275fac(E)}}),U}(ye.On)},3460:(hn,Mt,se)=>{"use strict";se.d(Mt,{u6:()=>e,sn:()=>U});var m=se(655),ye=se(3228),Xe=se(9863),e=(()=>{return(E=e||(e={})).INPUT="input",E.BUTTON="button",e;var E})(),U=function(E){function f(){return null!==E&&E.apply(this,arguments)||this}return(0,m.ZT)(f,E),f.prototype.hasPermission=function(){return(0,ye.DM)(this,"hasPermission",{},arguments)},f.prototype.requestPermission=function(){return(0,ye.DM)(this,"requestPermission",{},arguments)},f.prototype.schedule=function(o){return(0,ye.DM)(this,"schedule",{sync:!0},arguments)},f.prototype.update=function(o){return(0,ye.DM)(this,"update",{sync:!0},arguments)},f.prototype.clear=function(o){return(0,ye.DM)(this,"clear",{},arguments)},f.prototype.clearAll=function(){return(0,ye.DM)(this,"clearAll",{},arguments)},f.prototype.cancel=function(o){return(0,ye.DM)(this,"cancel",{},arguments)},f.prototype.cancelAll=function(){return(0,ye.DM)(this,"cancelAll",{},arguments)},f.prototype.isPresent=function(o){return(0,ye.DM)(this,"isPresent",{},arguments)},f.prototype.isScheduled=function(o){return(0,ye.DM)(this,"isScheduled",{},arguments)},f.prototype.isTriggered=function(o){return(0,ye.DM)(this,"isTriggered",{},arguments)},f.prototype.hasType=function(o,a){return(0,ye.DM)(this,"hasType",{},arguments)},f.prototype.getType=function(o){return(0,ye.DM)(this,"getType",{},arguments)},f.prototype.getIds=function(){return(0,ye.DM)(this,"getIds",{},arguments)},f.prototype.getScheduledIds=function(){return(0,ye.DM)(this,"getScheduledIds",{},arguments)},f.prototype.getTriggeredIds=function(){return(0,ye.DM)(this,"getTriggeredIds",{},arguments)},f.prototype.get=function(o){return(0,ye.DM)(this,"get",{},arguments)},f.prototype.getAll=function(){return(0,ye.DM)(this,"getAll",{},arguments)},f.prototype.getScheduled=function(o){return(0,ye.DM)(this,"getScheduled",{},arguments)},f.prototype.getTriggered=function(o){return(0,ye.DM)(this,"getTriggered",{},arguments)},f.prototype.addActions=function(o,a){return(0,ye.DM)(this,"addActions",{},arguments)},f.prototype.removeActions=function(o){return(0,ye.DM)(this,"removeActions",{},arguments)},f.prototype.hasActions=function(o){return(0,ye.DM)(this,"hasActions",{},arguments)},f.prototype.getDefaults=function(){return(0,ye.DM)(this,"getDefaults",{sync:!0},arguments)},f.prototype.setDefaults=function(o){return(0,ye.DM)(this,"setDefaults",{sync:!0},arguments)},f.prototype.getAllScheduled=function(){return(0,ye.DM)(this,"getAllScheduled",{},arguments)},f.prototype.getAllTriggered=function(){return(0,ye.DM)(this,"getAllTriggered",{},arguments)},f.prototype.on=function(o){return(0,ye.DM)(this,"on",{observable:!0,clearFunction:"un",clearWithArgs:!0},arguments)},f.prototype.fireEvent=function(o,a){return(0,ye.DM)(this,"fireEvent",{sync:!0},arguments)},f.prototype.fireQueuedEvents=function(){return(0,ye.DM)(this,"fireQueuedEvents",{},arguments)},f.pluginName="LocalNotifications",f.plugin="cordova-plugin-local-notification",f.pluginRef="cordova.plugins.notification.local",f.repo="https://github.com/katzer/cordova-plugin-local-notifications",f.platforms=["Android","iOS","Windows"],f.\u0275fac=function(){var o;return function(d){return(o||(o=Xe.n5z(f)))(d||f)}}(),f.\u0275prov=Xe.Yz7({token:f,factory:function(o){return f.\u0275fac(o)}}),f}(ye.On)},1716:(hn,Mt,se)=>{"use strict";se.d(Mt,{TQ:()=>e,Wp:()=>ye,N4:()=>Xe,ci:()=>xe});var m=se(7423),ye=(()=>{return(U=ye||(ye={})).SizeChanged="bannerAdSizeChanged",U.Loaded="bannerAdLoaded",U.FailedToLoad="bannerAdFailedToLoad",U.Opened="bannerAdOpened",U.Closed="bannerAdClosed",U.AdImpression="bannerAdImpression",ye;var U})(),Xe=(()=>{return(U=Xe||(Xe={})).TOP_CENTER="TOP_CENTER",U.CENTER="CENTER",U.BOTTOM_CENTER="BOTTOM_CENTER",Xe;var U})(),xe=(()=>{return(U=xe||(xe={})).BANNER="BANNER",U.FULL_BANNER="FULL_BANNER",U.LARGE_BANNER="LARGE_BANNER",U.MEDIUM_RECTANGLE="MEDIUM_RECTANGLE",U.LEADERBOARD="LEADERBOARD",U.ADAPTIVE_BANNER="ADAPTIVE_BANNER",U.SMART_BANNER="SMART_BANNER",xe;var U})();const e=(0,m.fo)("AdMob",{web:()=>se.e(223).then(se.bind(se,223)).then(U=>new U.AdMobWeb)})},7423:(hn,Mt,se)=>{"use strict";se.d(Mt,{Uw:()=>c,fo:()=>s});var m=se(5861);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global&&global;var f=(()=>{return(y=f||(f={})).Unimplemented="UNIMPLEMENTED",y.Unavailable="UNAVAILABLE",f;var y})();class o extends Error{constructor(v,x){super(v),this.message=v,this.code=x}}const d=y=>{var v,x,w,C,N;const M=y.CapacitorCustomPlatform||null,F=y.Capacitor||{},j=F.Plugins=F.Plugins||{},B=y.CapacitorPlatforms,ee=(null===(v=null==B?void 0:B.currentPlatform)||void 0===v?void 0:v.getPlatform)||(()=>null!==M?M.name:(y=>{var v,x;return(null==y?void 0:y.androidBridge)?"android":(null===(x=null===(v=null==y?void 0:y.webkit)||void 0===v?void 0:v.messageHandlers)||void 0===x?void 0:x.bridge)?"ios":"web"})(y)),H=(null===(x=null==B?void 0:B.currentPlatform)||void 0===x?void 0:x.isNativePlatform)||(()=>"web"!==ee()),oe=(null===(w=null==B?void 0:B.currentPlatform)||void 0===w?void 0:w.isPluginAvailable)||(q=>{const K=he.get(q);return!(!(null==K?void 0:K.platforms.has(ee()))&&!te(q))}),te=(null===(C=null==B?void 0:B.currentPlatform)||void 0===C?void 0:C.getPluginHeader)||(q=>{var K;return null===(K=F.PluginHeaders)||void 0===K?void 0:K.find(we=>we.name===q)}),he=new Map,A=(null===(N=null==B?void 0:B.currentPlatform)||void 0===N?void 0:N.registerPlugin)||((q,K={})=>{const we=he.get(q);if(we)return console.warn(`Capacitor plugin "${q}" already registered. Cannot register plugins twice.`),we.proxy;const Fe=ee(),Te=te(q);let Ie;const Ve=function(){var ft=(0,m.Z)(function*(){return!Ie&&Fe in K?Ie=Ie="function"==typeof K[Fe]?yield K[Fe]():K[Fe]:null!==M&&!Ie&&"web"in K&&(Ie=Ie="function"==typeof K.web?yield K.web():K.web),Ie});return function(){return ft.apply(this,arguments)}}(),et=ft=>{let Qe;const jt=(...At)=>{const $t=Ve().then(Ot=>{const tn=((ft,Qe)=>{var jt,At;if(!Te){if(ft)return null===(At=ft[Qe])||void 0===At?void 0:At.bind(ft);throw new o(`"${q}" plugin is not implemented on ${Fe}`,f.Unimplemented)}{const $t=null==Te?void 0:Te.methods.find(Ot=>Qe===Ot.name);if($t)return"promise"===$t.rtype?Ot=>F.nativePromise(q,Qe.toString(),Ot):(Ot,tn)=>F.nativeCallback(q,Qe.toString(),Ot,tn);if(ft)return null===(jt=ft[Qe])||void 0===jt?void 0:jt.bind(ft)}})(Ot,ft);if(tn){const It=tn(...At);return Qe=null==It?void 0:It.remove,It}throw new o(`"${q}.${ft}()" is not implemented on ${Fe}`,f.Unimplemented)});return"addListener"===ft&&($t.remove=(0,m.Z)(function*(){return Qe()})),$t};return jt.toString=()=>`${ft.toString()}() { [capacitor code] }`,Object.defineProperty(jt,"name",{value:ft,writable:!1,configurable:!1}),jt},mt=et("addListener"),Re=et("removeListener"),ot=(ft,Qe)=>{const jt=mt({eventName:ft},Qe),At=function(){var Ot=(0,m.Z)(function*(){const tn=yield jt;Re({eventName:ft,callbackId:tn},Qe)});return function(){return Ot.apply(this,arguments)}}(),$t=new Promise(Ot=>jt.then(()=>Ot({remove:At})));return $t.remove=(0,m.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield At()}),$t},ut=new Proxy({},{get(ft,Qe){switch(Qe){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Te?ot:mt;case"removeListener":return Re;default:return et(Qe)}}});return j[q]=ut,he.set(q,{name:q,proxy:ut,platforms:new Set([...Object.keys(K),...Te?[Fe]:[]])}),ut});return F.convertFileSrc||(F.convertFileSrc=q=>q),F.getPlatform=ee,F.handleError=q=>y.console.error(q),F.isNativePlatform=H,F.isPluginAvailable=oe,F.pluginMethodNoop=(q,K,we)=>Promise.reject(`${we} does not have an implementation of "${K}".`),F.registerPlugin=A,F.Exception=o,F.DEBUG=!!F.DEBUG,F.isLoggingEnabled=!!F.isLoggingEnabled,F.platform=F.getPlatform(),F.isNative=F.isNativePlatform(),F},p=(y=>y.Capacitor=d(y))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),s=p.registerPlugin;class c{constructor(v){this.listeners={},this.windowListeners={},v&&(console.warn(`Capacitor WebPlugin "${v.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=v)}addListener(v,x){var w=this;this.listeners[v]||(this.listeners[v]=[]),this.listeners[v].push(x);const N=this.windowListeners[v];N&&!N.registered&&this.addWindowListener(N);const M=function(){var j=(0,m.Z)(function*(){return w.removeListener(v,x)});return function(){return j.apply(this,arguments)}}(),F=Promise.resolve({remove:M});return Object.defineProperty(F,"remove",{value:(j=(0,m.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield M()}),function(){return j.apply(this,arguments)})}),F;var j}removeAllListeners(){var v=this;return(0,m.Z)(function*(){v.listeners={};for(const x in v.windowListeners)v.removeWindowListener(v.windowListeners[x]);v.windowListeners={}})()}notifyListeners(v,x){const w=this.listeners[v];w&&w.forEach(C=>C(x))}hasListeners(v){return!!this.listeners[v].length}registerWindowListener(v,x){this.windowListeners[x]={registered:!1,windowEventName:v,pluginEventName:x,handler:w=>{this.notifyListeners(x,w)}}}unimplemented(v="not implemented"){return new p.Exception(v,f.Unimplemented)}unavailable(v="not available"){return new p.Exception(v,f.Unavailable)}removeListener(v,x){var w=this;return(0,m.Z)(function*(){const C=w.listeners[v];if(!C)return;const N=C.indexOf(x);w.listeners[v].splice(N,1),w.listeners[v].length||w.removeWindowListener(w.windowListeners[v])})()}addWindowListener(v){window.addEventListener(v.windowEventName,v.handler),v.registered=!0}removeWindowListener(v){!v||(window.removeEventListener(v.windowEventName,v.handler),v.registered=!1)}}},3996:(hn,Mt,se)=>{"use strict";se.d(Mt,{Br:()=>yi,w:()=>oe,We:()=>we,eh:()=>Fe,dr:()=>Te,oU:()=>Ve,cs:()=>Xr,yp:()=>et,YG:()=>ot,Sm:()=>ut,wI:()=>It,W2:()=>Je,x4:()=>at,jY:()=>ke,Gu:()=>Be,gu:()=>Me,pK:()=>Lt,Ie:()=>Kt,rH:()=>cn,Q$:()=>le,q_:()=>S,yh:()=>I,jP:()=>Jr,Nd:()=>Xn,t9:()=>qt,n0:()=>ct,yq:()=>Fn,ZU:()=>On,UN:()=>li,wd:()=>Kn,ho:()=>sr,sr:()=>Qn,Pc:()=>zt,r4:()=>Ce,HT:()=>Mr,IN:()=>Kr,SH:()=>Rr,X1:()=>wr,as:()=>Q,t4:()=>fi,QI:()=>me,j9:()=>ce});var m=se(9863),ye=se(4182),Xe=se(655),xe=se(3753),e=se(5529),U=se(591),E=se(9705),f=se(4464),o=se(3489);class d{constructor(Ee,L){this.compare=Ee,this.keySelector=L}call(Ee,L){return L.subscribe(new u(Ee,this.compare,this.keySelector))}}class u extends o.L{constructor(Ee,L,_e){super(Ee),this.keySelector=_e,this.hasKey=!1,"function"==typeof L&&(this.compare=L)}compare(Ee,L){return Ee===L}_next(Ee){let L;try{const{keySelector:Ne}=this;L=Ne?Ne(Ee):Ee}catch(Ne){return this.destination.error(Ne)}let _e=!1;if(this.hasKey)try{const{compare:Ne}=this;_e=Ne(this.key,L)}catch(Ne){return this.destination.error(Ne)}else this.hasKey=!0;_e||(this.key=L,this.destination.next(Ee))}}var p=se(2198),s=se(7545),r=se(9808),c=se(2361);const y=se(6254).i,w=["*"],C=["outlet"],N=[[["","slot","top"]],"*"],M=["[slot=top]","*"],B=O=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(O):"function"==typeof requestAnimationFrame?requestAnimationFrame(O):setTimeout(O);let G=(()=>{class O{constructor(L,_e){this.injector=L,this.el=_e,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(L){this.el.nativeElement.value=this.lastValue=null==L?"":L,ee(this.el)}handleChangeEvent(L,_e){L===this.el.nativeElement&&(_e!==this.lastValue&&(this.lastValue=_e,this.onChange(_e)),ee(this.el))}_handleBlurEvent(L){L===this.el.nativeElement&&(this.onTouched(),ee(this.el))}registerOnChange(L){this.onChange=L}registerOnTouched(L){this.onTouched=L}setDisabledState(L){this.el.nativeElement.disabled=L}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let L;try{L=this.injector.get(ye.a5)}catch(Ne){}if(!L)return;L.statusChanges&&(this.statusChanges=L.statusChanges.subscribe(()=>ee(this.el)));const _e=L.control;_e&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Bt=>{if(void 0!==_e[Bt]){const yn=_e[Bt].bind(_e);_e[Bt]=(...gn)=>{yn(...gn),ee(this.el)}}})}}return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.zs3),m.Y36(m.SBq))},O.\u0275dir=m.lG2({type:O,hostBindings:function(L,_e){1&L&&m.NdJ("ionBlur",function(Bt){return _e._handleBlurEvent(Bt.target)})}}),O})();const ee=O=>{B(()=>{const Ee=O.nativeElement,L=null!=Ee.value&&Ee.value.toString().length>0,_e=$(Ee);H(Ee,_e);const Ne=Ee.closest("ion-item");Ne&&H(Ne,L?[..._e,"item-has-value"]:_e)})},$=O=>{const Ee=O.classList,L=[];for(let _e=0;_e<Ee.length;_e++){const Ne=Ee.item(_e);null!==Ne&&Z(Ne,"ng-")&&L.push(`ion-${Ne.substring(3)}`)}return L},H=(O,Ee)=>{const L=O.classList;L.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),L.add(...Ee)},Z=(O,Ee)=>O.substring(0,Ee.length)===Ee;let oe=(()=>{class O extends G{constructor(L,_e){super(L,_e)}writeValue(L){this.el.nativeElement.checked=this.lastValue=null!=L&&L,ee(this.el)}_handleIonChange(L){this.handleChangeEvent(L,L.checked)}}return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.zs3),m.Y36(m.SBq))},O.\u0275dir=m.lG2({type:O,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(L,_e){1&L&&m.NdJ("ionChange",function(Bt){return _e._handleIonChange(Bt.target)})},features:[m._Bn([{provide:ye.JU,useExisting:O,multi:!0}]),m.qOj]}),O})(),Q=(()=>{class O extends G{constructor(L,_e){super(L,_e)}_handleIonChange(L){this.handleChangeEvent(L,L.value)}registerOnChange(L){super.registerOnChange(_e=>{L(""===_e?null:parseFloat(_e))})}}return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.zs3),m.Y36(m.SBq))},O.\u0275dir=m.lG2({type:O,selectors:[["ion-input","type","number"]],hostBindings:function(L,_e){1&L&&m.NdJ("ionChange",function(Bt){return _e._handleIonChange(Bt.target)})},features:[m._Bn([{provide:ye.JU,useExisting:O,multi:!0}]),m.qOj]}),O})(),me=(()=>{class O extends G{constructor(L,_e){super(L,_e)}_handleChangeEvent(L){this.handleChangeEvent(L,L.value)}}return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.zs3),m.Y36(m.SBq))},O.\u0275dir=m.lG2({type:O,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(L,_e){1&L&&m.NdJ("ionChange",function(Bt){return _e._handleChangeEvent(Bt.target)})},features:[m._Bn([{provide:ye.JU,useExisting:O,multi:!0}]),m.qOj]}),O})(),ce=(()=>{class O extends G{constructor(L,_e){super(L,_e)}_handleInputEvent(L){this.handleChangeEvent(L,L.value)}}return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.zs3),m.Y36(m.SBq))},O.\u0275dir=m.lG2({type:O,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(L,_e){1&L&&m.NdJ("ionChange",function(Bt){return _e._handleInputEvent(Bt.target)})},features:[m._Bn([{provide:ye.JU,useExisting:O,multi:!0}]),m.qOj]}),O})();const he=(O,Ee)=>{const L=O.prototype;Ee.forEach(_e=>{Object.defineProperty(L,_e,{get(){return this.el[_e]},set(Ne){this.z.runOutsideAngular(()=>this.el[_e]=Ne)}})})},Ae=(O,Ee)=>{const L=O.prototype;Ee.forEach(_e=>{L[_e]=function(){const Ne=arguments;return this.z.runOutsideAngular(()=>this.el[_e].apply(this.el,Ne))}})},A=(O,Ee,L)=>{L.forEach(_e=>O[_e]=(0,xe.R)(Ee,_e))};function K(O){return function(L){const{defineCustomElementFn:_e,inputs:Ne,methods:Bt}=O;return void 0!==_e&&_e(),Ne&&he(L,Ne),Bt&&Ae(L,Bt),L}}let we=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],O),O})(),Fe=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement,A(this,this.el,["ionChange"])}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],O),O})(),Te=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-app"]],ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0})],O),O})(),Ve=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],O),O})(),et=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["color","mode"]})],O),O})(),ot=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement,A(this,this.el,["ionFocus","ionBlur"])}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],O),O})(),ut=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["collapse"]})],O),O})(),It=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],O),O})(),Je=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement,A(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],O),O})(),at=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement,A(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",name:"name",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",value:"value",yearValues:"yearValues"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","name","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","value","yearValues"],methods:["confirm","reset","cancel"]})],O),O})(),ke=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["fixed"]})],O),O})(),Be=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],O),O})(),Me=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],O),O})(),Lt=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement,A(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],O),O})(),Kt=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],O),O})(),cn=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["color","mode","sticky"]})],O),O})(),le=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],O),O})(),S=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],O),O})(),I=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["color","lines","mode"]})],O),O})(),Xn=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-row"]],ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0})],O),O})(),qt=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement,A(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],O),O})(),ct=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["disabled","value"]})],O),O})(),Fn=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],O),O})(),On=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],O),O})(),Kn=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["color","size"]})],O),O})(),sr=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement,A(this,this.el,["ionChange","ionFocus","ionBlur"])}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",mode:"mode",name:"name",value:"value"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["checked","color","disabled","mode","name","value"]})],O),O})(),Qn=(()=>{let O=class{constructor(L,_e,Ne){this.z=Ne,L.detach(),this.el=_e.nativeElement}};return O.\u0275fac=function(L){return new(L||O)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.R0b))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:w,decls:1,vars:0,template:function(L,_e){1&L&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),O=(0,Xe.gn)([K({defineCustomElementFn:void 0,inputs:["color","mode"]})],O),O})();class wr{constructor(Ee={}){this.data=Ee}get(Ee){return this.data[Ee]}}let Ge=(()=>{class O{constructor(L,_e){this.zone=L,this.appRef=_e}create(L,_e,Ne){return new st(L,_e,Ne,this.appRef,this.zone)}}return O.\u0275fac=function(L){return new(L||O)(m.LFG(m.R0b),m.LFG(m.z2F))},O.\u0275prov=m.Yz7({token:O,factory:O.\u0275fac}),O})();class st{constructor(Ee,L,_e,Ne,Bt){this.resolver=Ee,this.injector=L,this.location=_e,this.appRef=Ne,this.zone=Bt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(Ee,L,_e,Ne){return this.zone.run(()=>new Promise(Bt=>{Bt(Tt(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,Ee,L,_e,Ne))}))}removeViewFromDom(Ee,L){return this.zone.run(()=>new Promise(_e=>{const Ne=this.elRefMap.get(L);if(Ne){Ne.destroy(),this.elRefMap.delete(L);const Bt=this.elEventsMap.get(L);Bt&&(Bt(),this.elEventsMap.delete(L))}_e()}))}}const Tt=(O,Ee,L,_e,Ne,Bt,yn,gn,jn,Jn,kn)=>{const zn=Ee.resolveComponentFactory(jn),vr=m.zs3.create({providers:Ft(Jn),parent:L}),Pe=_e?_e.createComponent(zn,_e.length,vr):zn.create(vr),fe=Pe.instance,ge=Pe.location.nativeElement;if(Jn&&Object.assign(fe,Jn),kn)for(const en of kn)ge.classList.add(en);const Ze=nt(O,fe,ge);return gn.appendChild(ge),_e||Ne.attachView(Pe.hostView),Pe.changeDetectorRef.reattach(),Bt.set(ge,Pe),yn.set(ge,Ze),ge},Rt=[f.kx,f.re,f.EQ,f.Jd,f.F8],nt=(O,Ee,L)=>O.run(()=>{const _e=Rt.filter(Ne=>"function"==typeof Ee[Ne]).map(Ne=>{const Bt=yn=>Ee[Ne](yn.detail);return L.addEventListener(Ne,Bt),()=>L.removeEventListener(Ne,Bt)});return()=>_e.forEach(Ne=>Ne())}),bt=new m.OlP("NavParamsToken"),Ft=O=>[{provide:bt,useValue:O},{provide:wr,useFactory:Xt,deps:[bt]}],Xt=O=>new wr(O),on=(O,Ee)=>((O=O.filter(L=>L.stackId!==Ee.stackId)).push(Ee),O),Mn=(O,Ee)=>{const L=O.createUrlTree(["."],{relativeTo:Ee});return O.serializeUrl(L)},or=(O,Ee)=>{if(!O)return;const L=lr(Ee);for(let _e=0;_e<L.length;_e++){if(_e>=O.length)return L[_e];if(L[_e]!==O[_e])return}},lr=O=>O.split("/").map(Ee=>Ee.trim()).filter(Ee=>""!==Ee),ur=O=>{O&&(O.ref.destroy(),O.unlistenEvents())};class Gr{constructor(Ee,L,_e,Ne,Bt,yn){this.containerEl=L,this.router=_e,this.navCtrl=Ne,this.zone=Bt,this.location=yn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==Ee?lr(Ee):void 0}createView(Ee,L){var _e;const Ne=Mn(this.router,L),Bt=null===(_e=null==Ee?void 0:Ee.location)||void 0===_e?void 0:_e.nativeElement,yn=nt(this.zone,Ee.instance,Bt);return{id:this.nextId++,stackId:or(this.tabsPrefix,Ne),unlistenEvents:yn,element:Bt,ref:Ee,url:Ne}}getExistingView(Ee){const L=Mn(this.router,Ee),_e=this.views.find(Ne=>Ne.url===L);return _e&&_e.ref.changeDetectorRef.reattach(),_e}setActive(Ee){var L,_e;const Ne=this.navCtrl.consumeTransition();let{direction:Bt,animation:yn,animationBuilder:gn}=Ne;const jn=this.activeView,Jn=((O,Ee)=>!Ee||O.stackId!==Ee.stackId)(Ee,jn);Jn&&(Bt="back",yn=void 0);const kn=this.views.slice();let zn;const vr=this.router;vr.getCurrentNavigation?zn=vr.getCurrentNavigation():(null===(L=vr.navigations)||void 0===L?void 0:L.value)&&(zn=vr.navigations.value),(null===(_e=null==zn?void 0:zn.extras)||void 0===_e?void 0:_e.replaceUrl)&&this.views.length>0&&this.views.splice(-1,1);const Pe=this.views.includes(Ee),fe=this.insertView(Ee,Bt);Pe||Ee.ref.changeDetectorRef.detectChanges();const ge=Ee.animationBuilder;return void 0===gn&&"back"===Bt&&!Jn&&void 0!==ge&&(gn=ge),jn&&(jn.animationBuilder=gn),this.zone.runOutsideAngular(()=>this.wait(()=>(jn&&jn.ref.changeDetectorRef.detach(),Ee.ref.changeDetectorRef.reattach(),this.transition(Ee,jn,yn,this.canGoBack(1),!1,gn).then(()=>di(Ee,fe,kn,this.location,this.zone)).then(()=>({enteringView:Ee,direction:Bt,animation:yn,tabSwitch:Jn})))))}canGoBack(Ee,L=this.getActiveStackId()){return this.getStack(L).length>Ee}pop(Ee,L=this.getActiveStackId()){return this.zone.run(()=>{var _e,Ne;const Bt=this.getStack(L);if(Bt.length<=Ee)return Promise.resolve(!1);const yn=Bt[Bt.length-Ee-1];let gn=yn.url;const jn=yn.savedData;if(jn){const kn=jn.get("primary");(null===(Ne=null===(_e=null==kn?void 0:kn.route)||void 0===_e?void 0:_e._routerState)||void 0===Ne?void 0:Ne.snapshot.url)&&(gn=kn.route._routerState.snapshot.url)}const{animationBuilder:Jn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(gn,Object.assign(Object.assign({},yn.savedExtras),{animation:Jn})).then(()=>!0)})}startBackTransition(){const Ee=this.activeView;if(Ee){const L=this.getStack(Ee.stackId),_e=L[L.length-2],Ne=_e.animationBuilder;return this.wait(()=>this.transition(_e,Ee,"back",this.canGoBack(2),!0,Ne))}return Promise.resolve()}endBackTransition(Ee){Ee?(this.skipTransition=!0,this.pop(1)):this.activeView&&gr(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(Ee){const L=this.getStack(Ee);return L.length>0?L[L.length-1]:void 0}getRootUrl(Ee){const L=this.getStack(Ee);return L.length>0?L[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(ur),this.activeView=void 0,this.views=[]}getStack(Ee){return this.views.filter(L=>L.stackId===Ee)}insertView(Ee,L){return this.activeView=Ee,this.views=((O,Ee,L)=>"root"===L?on(O,Ee):"forward"===L?((O,Ee)=>(O.indexOf(Ee)>=0?O=O.filter(_e=>_e.stackId!==Ee.stackId||_e.id<=Ee.id):O.push(Ee),O))(O,Ee):((O,Ee)=>O.indexOf(Ee)>=0?O.filter(_e=>_e.stackId!==Ee.stackId||_e.id<=Ee.id):on(O,Ee))(O,Ee))(this.views,Ee,L),this.views.slice()}transition(Ee,L,_e,Ne,Bt,yn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(L===Ee)return Promise.resolve(!1);const gn=Ee?Ee.element:void 0,jn=L?L.element:void 0,Jn=this.containerEl;return gn&&gn!==jn&&(gn.classList.add("ion-page"),gn.classList.add("ion-page-invisible"),gn.parentElement!==Jn&&Jn.appendChild(gn),Jn.commit)?Jn.commit(gn,jn,{deepWait:!0,duration:void 0===_e?0:void 0,direction:_e,showGoBack:Ne,progressAnimation:Bt,animationBuilder:yn}):Promise.resolve(!1)}wait(Ee){return(0,Xe.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const L=this.runningTask=Ee();return L.finally(()=>this.runningTask=void 0),L})}}const di=(O,Ee,L,_e,Ne)=>"function"==typeof requestAnimationFrame?new Promise(Bt=>{requestAnimationFrame(()=>{gr(O,Ee,L,_e,Ne),Bt()})}):Promise.resolve(),gr=(O,Ee,L,_e,Ne)=>{Ne.run(()=>L.filter(Bt=>!Ee.includes(Bt)).forEach(ur)),Ee.forEach(Bt=>{const gn=_e.path().split("?")[0].split("#")[0];if(Bt!==O&&Bt.url!==gn){const jn=Bt.element;jn.setAttribute("aria-hidden","true"),jn.classList.add("ion-page-hidden"),Bt.ref.changeDetectorRef.detach()}})};let hi=(()=>{class O{get(L,_e){const Ne=$r();return Ne?Ne.get(L,_e):null}getBoolean(L,_e){const Ne=$r();return!!Ne&&Ne.getBoolean(L,_e)}getNumber(L,_e){const Ne=$r();return Ne?Ne.getNumber(L,_e):0}}return O.\u0275fac=function(L){return new(L||O)},O.\u0275prov=m.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const Ci=new m.OlP("USERCONFIG"),$r=()=>{if("undefined"!=typeof window){const O=window.Ionic;if(null==O?void 0:O.config)return O.config}return null};let fi=(()=>{class O{constructor(L,_e){this.doc=L,this.backButton=new e.xQ,this.keyboardDidShow=new e.xQ,this.keyboardDidHide=new e.xQ,this.pause=new e.xQ,this.resume=new e.xQ,this.resize=new e.xQ,_e.run(()=>{var Ne;let Bt;this.win=L.defaultView,this.backButton.subscribeWithPriority=function(yn,gn){return this.subscribe(jn=>jn.register(yn,Jn=>_e.run(()=>gn(Jn))))},qr(this.pause,L,"pause"),qr(this.resume,L,"resume"),qr(this.backButton,L,"ionBackButton"),qr(this.resize,this.win,"resize"),qr(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),qr(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(yn=>{Bt=yn}),(null===(Ne=this.win)||void 0===Ne?void 0:Ne.cordova)?L.addEventListener("deviceready",()=>{Bt("cordova")},{once:!0}):Bt("dom")})}is(L){return(0,f.n$)(this.win,L)}platforms(){return(0,f.AK)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(L){return pi(this.win.location.href,L)}isLandscape(){return!this.isPortrait()}isPortrait(){var L,_e;return null===(_e=(L=this.win).matchMedia)||void 0===_e?void 0:_e.call(L,"(orientation: portrait)").matches}testUserAgent(L){const _e=this.win.navigator;return!!((null==_e?void 0:_e.userAgent)&&_e.userAgent.indexOf(L)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return O.\u0275fac=function(L){return new(L||O)(m.LFG(r.K0),m.LFG(m.R0b))},O.\u0275prov=m.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const pi=(O,Ee)=>{Ee=Ee.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const _e=new RegExp("[\\?&]"+Ee+"=([^&#]*)").exec(O);return _e?decodeURIComponent(_e[1].replace(/\+/g," ")):null},qr=(O,Ee,L)=>{Ee&&Ee.addEventListener(L,_e=>{O.next(null!=_e?_e.detail:void 0)})};let Rr=(()=>{class O{constructor(L,_e,Ne,Bt){this.location=_e,this.serializer=Ne,this.router=Bt,this.direction=oi,this.animated=ri,this.guessDirection="forward",this.lastNavId=-1,Bt&&Bt.events.subscribe(yn=>{if(yn instanceof E.OD){const gn=yn.restoredState?yn.restoredState.navigationId:yn.id;this.guessDirection=gn<this.lastNavId?"back":"forward",this.guessAnimation=yn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?yn.id:gn}}),L.backButton.subscribeWithPriority(0,yn=>{this.pop(),yn()})}navigateForward(L,_e={}){return this.setDirection("forward",_e.animated,_e.animationDirection,_e.animation),this.navigate(L,_e)}navigateBack(L,_e={}){return this.setDirection("back",_e.animated,_e.animationDirection,_e.animation),this.navigate(L,_e)}navigateRoot(L,_e={}){return this.setDirection("root",_e.animated,_e.animationDirection,_e.animation),this.navigate(L,_e)}back(L={animated:!0,animationDirection:"back"}){return this.setDirection("back",L.animated,L.animationDirection,L.animation),this.location.back()}pop(){return(0,Xe.mG)(this,void 0,void 0,function*(){let L=this.topOutlet;for(;L&&!(yield L.pop());)L=L.parentOutlet})}setDirection(L,_e,Ne,Bt){this.direction=L,this.animated=Di(L,_e,Ne),this.animationBuilder=Bt}setTopOutlet(L){this.topOutlet=L}consumeTransition(){let _e,L="root";const Ne=this.animationBuilder;return"auto"===this.direction?(L=this.guessDirection,_e=this.guessAnimation):(_e=this.animated,L=this.direction),this.direction=oi,this.animated=ri,this.animationBuilder=void 0,{direction:L,animation:_e,animationBuilder:Ne}}navigate(L,_e){if(Array.isArray(L))return this.router.navigate(L,_e);{const Ne=this.serializer.parse(L.toString());return void 0!==_e.queryParams&&(Ne.queryParams=Object.assign({},_e.queryParams)),void 0!==_e.fragment&&(Ne.fragment=_e.fragment),this.router.navigateByUrl(Ne,_e)}}}return O.\u0275fac=function(L){return new(L||O)(m.LFG(fi),m.LFG(r.Ye),m.LFG(E.Hx),m.LFG(E.F0,8))},O.\u0275prov=m.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const Di=(O,Ee,L)=>{if(!1!==Ee){if(void 0!==L)return L;if("forward"===O||"back"===O)return O;if("root"===O&&!0===Ee)return"forward"}},oi="auto",ri=void 0;let Jr=(()=>{class O{constructor(L,_e,Ne,Bt,yn,gn,jn,Jn,kn,zn,vr,Pe,fe){this.parentContexts=L,this.location=_e,this.resolver=Ne,this.config=gn,this.navCtrl=jn,this.parentOutlet=fe,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new U.X(null),this.stackEvents=new m.vpe,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.nativeEl=kn.nativeElement,this.name=Bt||E.eC,this.tabsPrefix="true"===yn?Mn(zn,Pe):void 0,this.stackCtrl=new Gr(this.tabsPrefix,this.nativeEl,zn,jn,vr,Jn),L.onChildOutletCreated(this.name,this)}set animation(L){this.nativeEl.animation=L}set animated(L){this.nativeEl.animated=L}set swipeGesture(L){this._swipeGesture=L,this.nativeEl.swipeHandler=L?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:_e=>this.stackCtrl.endBackTransition(_e)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const L=this.getContext();(null==L?void 0:L.route)&&this.activateWith(L.route,L.resolver||null)}new Promise(L=>(0,f.hh)(this.nativeEl,L)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(L,_e){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const _e=this.getContext();this.activatedView.savedData=new Map(_e.children.contexts);const Ne=this.activatedView.savedData.get("primary");if(Ne&&_e.route&&(Ne.route=Object.assign({},_e.route)),this.activatedView.savedExtras={},_e.route){const Bt=_e.route.snapshot;this.activatedView.savedExtras.queryParams=Bt.queryParams,this.activatedView.savedExtras.fragment=Bt.fragment}}const L=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(L)}}activateWith(L,_e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=L;let Ne,Bt=this.stackCtrl.getExistingView(L);if(Bt){Ne=this.activated=Bt.ref;const yn=Bt.savedData;yn&&(this.getContext().children.contexts=yn),this.updateActivatedRouteProxy(Ne.instance,L)}else{const jn=(_e=_e||this.resolver).resolveComponentFactory(L._futureSnapshot.routeConfig.component),Jn=this.parentContexts.getOrCreateContext(this.name).children,kn=new U.X(null),zn=this.createActivatedRouteProxy(kn,L),vr=new ai(zn,Jn,this.location.injector);Ne=this.activated=this.location.createComponent(jn,this.location.length,vr),kn.next(Ne.instance),Bt=this.stackCtrl.createView(this.activated,L),this.proxyMap.set(Ne.instance,zn),this.currentActivatedRoute$.next({component:Ne.instance,activatedRoute:L})}this.activatedView=Bt,this.stackCtrl.setActive(Bt).then(yn=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(Ne.instance),this.stackEvents.emit(yn)})}canGoBack(L=1,_e){return this.stackCtrl.canGoBack(L,_e)}pop(L=1,_e){return this.stackCtrl.pop(L,_e)}getLastUrl(L){const _e=this.stackCtrl.getLastUrl(L);return _e?_e.url:void 0}getLastRouteView(L){return this.stackCtrl.getLastUrl(L)}getRootView(L){return this.stackCtrl.getRootUrl(L)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(L,_e){const Ne=new E.gz;return Ne._futureSnapshot=_e._futureSnapshot,Ne._routerState=_e._routerState,Ne.snapshot=_e.snapshot,Ne.outlet=_e.outlet,Ne.component=_e.component,Ne._paramMap=this.proxyObservable(L,"paramMap"),Ne._queryParamMap=this.proxyObservable(L,"queryParamMap"),Ne.url=this.proxyObservable(L,"url"),Ne.params=this.proxyObservable(L,"params"),Ne.queryParams=this.proxyObservable(L,"queryParams"),Ne.fragment=this.proxyObservable(L,"fragment"),Ne.data=this.proxyObservable(L,"data"),Ne}proxyObservable(L,_e){return L.pipe((0,p.h)(Ne=>!!Ne),(0,s.w)(Ne=>this.currentActivatedRoute$.pipe((0,p.h)(Bt=>null!==Bt&&Bt.component===Ne),(0,s.w)(Bt=>Bt&&Bt.activatedRoute[_e]),function a(O,Ee){return L=>L.lift(new d(O,Ee))}())))}updateActivatedRouteProxy(L,_e){const Ne=this.proxyMap.get(L);if(!Ne)throw new Error("Could not find activated route proxy for view");Ne._futureSnapshot=_e._futureSnapshot,Ne._routerState=_e._routerState,Ne.snapshot=_e.snapshot,Ne.outlet=_e.outlet,Ne.component=_e.component,this.currentActivatedRoute$.next({component:L,activatedRoute:_e})}}return O.\u0275fac=function(L){return new(L||O)(m.Y36(E.y6),m.Y36(m.s_b),m.Y36(m._Vd),m.$8M("name"),m.$8M("tabs"),m.Y36(hi),m.Y36(Rr),m.Y36(r.Ye),m.Y36(m.SBq),m.Y36(E.F0),m.Y36(m.R0b),m.Y36(E.gz),m.Y36(O,12))},O.\u0275dir=m.lG2({type:O,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),O})();class ai{constructor(Ee,L,_e){this.route=Ee,this.childContexts=L,this.parent=_e}get(Ee,L){return Ee===E.gz?this.route:Ee===E.y6?this.childContexts:this.parent.get(Ee,L)}}let li=(()=>{class O{constructor(L){this.navCtrl=L,this.ionTabsWillChange=new m.vpe,this.ionTabsDidChange=new m.vpe}onPageSelected(L){const _e=L.enteringView.stackId;L.tabSwitch&&void 0!==_e&&(this.ionTabsWillChange.emit({tab:_e}),this.tabBar&&(this.tabBar.selectedTab=_e),this.ionTabsDidChange.emit({tab:_e}))}select(L){const _e="string"==typeof L,Ne=_e?L:L.detail.tab,Bt=this.outlet.getActiveStackId()===Ne,yn=`${this.outlet.tabsPrefix}/${Ne}`;if(_e||L.stopPropagation(),Bt){const gn=this.outlet.getActiveStackId(),jn=this.outlet.getLastRouteView(gn);if((null==jn?void 0:jn.url)===yn)return;const Jn=this.outlet.getRootView(Ne);return this.navCtrl.navigateRoot(yn,Object.assign(Object.assign({},Jn&&yn===Jn.url&&Jn.savedExtras),{animated:!0,animationDirection:"back"}))}{const gn=this.outlet.getLastRouteView(Ne);return this.navCtrl.navigateRoot((null==gn?void 0:gn.url)||yn,Object.assign(Object.assign({},null==gn?void 0:gn.savedExtras),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return O.\u0275fac=function(L){return new(L||O)(m.Y36(Rr))},O.\u0275cmp=m.Xpm({type:O,selectors:[["ion-tabs"]],contentQueries:function(L,_e,Ne){if(1&L&&m.Suo(Ne,Fn,5),2&L){let Bt;m.iGM(Bt=m.CRH())&&(_e.tabBar=Bt.first)}},viewQuery:function(L,_e){if(1&L&&m.Gf(C,5,Jr),2&L){let Ne;m.iGM(Ne=m.CRH())&&(_e.outlet=Ne.first)}},hostBindings:function(L,_e){1&L&&m.NdJ("ionTabButtonClick",function(Bt){return _e.select(Bt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:M,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(L,_e){1&L&&(m.F$t(N),m.Hsn(0),m.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),m.NdJ("stackEvents",function(Bt){return _e.onPageSelected(Bt)}),m.qZA()(),m.Hsn(4,1))},directives:[Jr],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),O})(),Xr=(()=>{class O{constructor(L,_e,Ne){this.routerOutlet=L,this.navCtrl=_e,this.config=Ne}onClick(L){var _e;const Ne=this.defaultHref||this.config.get("backButtonDefaultHref");(null===(_e=this.routerOutlet)||void 0===_e?void 0:_e.canGoBack())?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),L.preventDefault()):null!=Ne&&(this.navCtrl.navigateBack(Ne,{animation:this.routerAnimation}),L.preventDefault())}}return O.\u0275fac=function(L){return new(L||O)(m.Y36(Jr,8),m.Y36(Rr),m.Y36(hi))},O.\u0275dir=m.lG2({type:O,selectors:[["ion-back-button"]],hostBindings:function(L,_e){1&L&&m.NdJ("click",function(Bt){return _e.onClick(Bt)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),O})();class zr{constructor(Ee){this.ctrl=Ee}create(Ee){return this.ctrl.create(Ee||{})}dismiss(Ee,L,_e){return this.ctrl.dismiss(Ee,L,_e)}getTop(){return this.ctrl.getTop()}}let yi=(()=>{class O extends zr{constructor(){super(f.Cl)}}return O.\u0275fac=function(L){return new(L||O)},O.\u0275prov=m.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),Mr=(()=>{class O extends zr{constructor(){super(f.G0)}}return O.\u0275fac=function(L){return new(L||O)},O.\u0275prov=m.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),Kr=(()=>{class O extends zr{constructor(L,_e,Ne){super(f.Fy),this.angularDelegate=L,this.resolver=_e,this.injector=Ne}create(L){return super.create(Object.assign(Object.assign({},L),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return O.\u0275fac=function(L){return new(L||O)(m.LFG(Ge),m.LFG(m._Vd),m.LFG(m.zs3))},O.\u0275prov=m.Yz7({token:O,factory:O.\u0275fac}),O})(),_i=(()=>{class O extends zr{constructor(L,_e,Ne){super(f.oq),this.angularDelegate=L,this.resolver=_e,this.injector=Ne}create(L){return super.create(Object.assign(Object.assign({},L),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return O.\u0275fac=function(L){return new(L||O)(m.LFG(Ge),m.LFG(m._Vd),m.LFG(m.zs3))},O.\u0275prov=m.Yz7({token:O,factory:O.\u0275fac}),O})();class Ce{shouldDetach(Ee){return!1}shouldAttach(Ee){return!1}store(Ee,L){}retrieve(Ee){return null}shouldReuseRoute(Ee,L){if(Ee.routeConfig!==L.routeConfig)return!1;const _e=Ee.params,Ne=L.params,Bt=Object.keys(_e),yn=Object.keys(Ne);if(Bt.length!==yn.length)return!1;for(const gn of Bt)if(Ne[gn]!==_e[gn])return!1;return!0}}const Ke=(O,Ee,L)=>()=>{if(Ee.defaultView&&"undefined"!=typeof window){(0,f.qc)(Object.assign(Object.assign({},O),{_zoneGate:Bt=>L.run(Bt)}));const Ne="__zone_symbol__addEventListener"in Ee.body?"__zone_symbol__addEventListener":"addEventListener";return function i(){var O=[];if("undefined"!=typeof window){var Ee=window;(!Ee.customElements||Ee.Element&&(!Ee.Element.prototype.closest||!Ee.Element.prototype.matches||!Ee.Element.prototype.remove||!Ee.Element.prototype.getRootNode))&&O.push(se.e(6748).then(se.t.bind(se,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Ee.NodeList&&!Ee.NodeList.prototype.forEach||!Ee.fetch||!function(){try{var _e=new URL("b","http://a");return _e.pathname="c%20d","http://a/c%20d"===_e.href&&_e.searchParams}catch(Ne){return!1}}()||"undefined"==typeof WeakMap)&&O.push(se.e(2214).then(se.t.bind(se,4144,23)))}return Promise.all(O)}().then(()=>((O,Ee)=>"undefined"==typeof window?Promise.resolve():(0,c.p)().then(()=>(y(),(0,c.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),Ee))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:B,jmp:Bt=>L.runOutsideAngular(Bt),ael(Bt,yn,gn,jn){Bt[Ne](yn,gn,jn)},rel(Bt,yn,gn,jn){Bt.removeEventListener(yn,gn,jn)}}))}};let zt=(()=>{class O{static forRoot(L){return{ngModule:O,providers:[{provide:Ci,useValue:L},{provide:m.ip1,useFactory:Ke,multi:!0,deps:[Ci,r.K0,m.R0b]}]}}}return O.\u0275fac=function(L){return new(L||O)},O.\u0275mod=m.oAB({type:O}),O.\u0275inj=m.cJS({providers:[Ge,Kr,_i],imports:[[r.ez]]}),O})()},8015:(hn,Mt,se)=>{"use strict";se.d(Mt,{c:()=>r});var m=se(1643);let ye;const xe=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),e=i=>{if(void 0===ye){const h=void 0!==i.style.webkitAnimationName;ye=void 0===i.style.animationName&&h?"-webkit-":""}return ye},U=(i,c,h)=>{const y=c.startsWith("animation")?e(i):"";i.style.setProperty(y+c,h)},E=(i,c)=>{const h=c.startsWith("animation")?e(i):"";i.style.removeProperty(h+c)},a=[],s=(i=[],c)=>{if(void 0!==c){const h=Array.isArray(c)?c:[c];return[...i,...h]}return i},r=i=>{let c,h,y,v,x,w,j,Q,te,me,ce,q,K,C=[],N=[],M=[],F=!1,B={},G=[],ee=[],$={},H=0,Z=!1,oe=!1,he=!0,Ae=!1,A=!0,we=!1;const Fe=i,Te=[],Ie=[],Ve=[],Ue=[],et=[],mt=[],Re=[],ot=[],ut=[],ft=[],Qe="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,jt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Qe,$t=()=>ft,at=(nt,bt)=>(((null==bt?void 0:bt.oneTimeCallback)?Ie:Te).push({c:nt,o:bt}),K),We=()=>{if(jt)ft.forEach(nt=>{nt.cancel()}),ft.length=0;else{const nt=Ve.slice();(0,m.r)(()=>{nt.forEach(bt=>{E(bt,"animation-name"),E(bt,"animation-duration"),E(bt,"animation-timing-function"),E(bt,"animation-iteration-count"),E(bt,"animation-delay"),E(bt,"animation-play-state"),E(bt,"animation-fill-mode"),E(bt,"animation-direction")})})}},yt=()=>{et.forEach(nt=>{(null==nt?void 0:nt.parentNode)&&nt.parentNode.removeChild(nt)}),et.length=0},bn=()=>void 0!==x?x:j?j.getFill():"both",W=()=>void 0!==te?te:void 0!==w?w:j?j.getDirection():"normal",le=()=>Z?"linear":void 0!==y?y:j?j.getEasing():"linear",S=()=>oe?0:void 0!==me?me:void 0!==h?h:j?j.getDuration():0,I=()=>void 0!==v?v:j?j.getIterations():1,J=()=>void 0!==ce?ce:void 0!==c?c:j?j.getDelay():0,Xn=()=>{0!==H&&(H--,0===H&&((()=>{Hn(),ot.forEach(Zt=>Zt()),ut.forEach(Zt=>Zt());const nt=he?1:0,bt=G,Ft=ee,Xt=$;Ve.forEach(Zt=>{const on=Zt.classList;bt.forEach(_n=>on.add(_n)),Ft.forEach(_n=>on.remove(_n));for(const _n in Xt)Xt.hasOwnProperty(_n)&&U(Zt,_n,Xt[_n])}),Te.forEach(Zt=>Zt.c(nt,K)),Ie.forEach(Zt=>Zt.c(nt,K)),Ie.length=0,A=!0,he&&(Ae=!0),he=!0})(),j&&j.animationFinish()))},pt=(nt=!0)=>{yt();const bt=(i=>(i.forEach(c=>{for(const h in c)if(c.hasOwnProperty(h)){const y=c[h];if("easing"===h)c["animation-timing-function"]=y,delete c[h];else{const v=xe(h);v!==h&&(c[v]=y,delete c[h])}}}),i))(C);Ve.forEach(Ft=>{if(bt.length>0){const Xt=((i=[])=>i.map(c=>{const h=c.offset,y=[];for(const v in c)c.hasOwnProperty(v)&&"offset"!==v&&y.push(`${v}: ${c[v]};`);return`${100*h}% { ${y.join(" ")} }`}).join(" "))(bt);q=void 0!==i?i:(i=>{let c=a.indexOf(i);return c<0&&(c=a.push(i)-1),`ion-animation-${c}`})(Xt);const Zt=((i,c,h)=>{const y=(i=>{const c=i.getRootNode();return c.head||c})(h),v=e(h),x=y.querySelector("#"+i);if(x)return x;const w=(h.ownerDocument||document).createElement("style");return w.id=i,w.textContent=`@${v}keyframes ${i} { ${c} } @${v}keyframes ${i}-alt { ${c} }`,y.appendChild(w),w})(q,Xt,Ft);et.push(Zt),U(Ft,"animation-duration",`${S()}ms`),U(Ft,"animation-timing-function",le()),U(Ft,"animation-delay",`${J()}ms`),U(Ft,"animation-fill-mode",bn()),U(Ft,"animation-direction",W());const on=I()===1/0?"infinite":I().toString();U(Ft,"animation-iteration-count",on),U(Ft,"animation-play-state","paused"),nt&&U(Ft,"animation-name",`${Zt.id}-alt`),(0,m.r)(()=>{U(Ft,"animation-name",Zt.id||null)})}})},mn=(nt=!0)=>{(()=>{mt.forEach(Xt=>Xt()),Re.forEach(Xt=>Xt());const nt=N,bt=M,Ft=B;Ve.forEach(Xt=>{const Zt=Xt.classList;nt.forEach(on=>Zt.add(on)),bt.forEach(on=>Zt.remove(on));for(const on in Ft)Ft.hasOwnProperty(on)&&U(Xt,on,Ft[on])})})(),C.length>0&&(jt?(Ve.forEach(nt=>{const bt=nt.animate(C,{id:Fe,delay:J(),duration:S(),easing:le(),iterations:I(),fill:bn(),direction:W()});bt.pause(),ft.push(bt)}),ft.length>0&&(ft[0].onfinish=()=>{Xn()})):pt(nt)),F=!0},qt=nt=>{if(nt=Math.min(Math.max(nt,0),.9999),jt)ft.forEach(bt=>{bt.currentTime=bt.effect.getComputedTiming().delay+S()*nt,bt.pause()});else{const bt=`-${S()*nt}ms`;Ve.forEach(Ft=>{C.length>0&&(U(Ft,"animation-delay",bt),U(Ft,"animation-play-state","paused"))})}},ct=nt=>{ft.forEach(bt=>{bt.effect.updateTiming({delay:J(),duration:S(),easing:le(),iterations:I(),fill:bn(),direction:W()})}),void 0!==nt&&qt(nt)},_t=(nt=!0,bt)=>{(0,m.r)(()=>{Ve.forEach(Ft=>{U(Ft,"animation-name",q||null),U(Ft,"animation-duration",`${S()}ms`),U(Ft,"animation-timing-function",le()),U(Ft,"animation-delay",void 0!==bt?`-${bt*S()}ms`:`${J()}ms`),U(Ft,"animation-fill-mode",bn()||null),U(Ft,"animation-direction",W()||null);const Xt=I()===1/0?"infinite":I().toString();U(Ft,"animation-iteration-count",Xt),nt&&U(Ft,"animation-name",`${q}-alt`),(0,m.r)(()=>{U(Ft,"animation-name",q||null)})})})},un=(nt=!1,bt=!0,Ft)=>(nt&&Ue.forEach(Xt=>{Xt.update(nt,bt,Ft)}),jt?ct(Ft):_t(bt,Ft),K),Fn=()=>{F&&(jt?ft.forEach(nt=>{nt.pause()}):Ve.forEach(nt=>{U(nt,"animation-play-state","paused")}),we=!0)},$n=()=>{Q=void 0,Xn()},Hn=()=>{Q&&clearTimeout(Q)},wr=nt=>new Promise(bt=>{(null==nt?void 0:nt.sync)&&(oe=!0,at(()=>oe=!1,{oneTimeCallback:!0})),F||mn(),Ae&&(jt?(qt(0),ct()):_t(),Ae=!1),A&&(H=Ue.length+1,A=!1),at(()=>bt(),{oneTimeCallback:!0}),Ue.forEach(Ft=>{Ft.play()}),jt?(ft.forEach(nt=>{nt.play()}),(0===C.length||0===Ve.length)&&Xn()):(()=>{if(Hn(),(0,m.r)(()=>{Ve.forEach(nt=>{C.length>0&&U(nt,"animation-play-state","running")})}),0===C.length||0===Ve.length)Xn();else{const nt=J()||0,bt=S()||0,Ft=I()||1;isFinite(Ft)&&(Q=setTimeout($n,nt+bt*Ft+100)),((i,c)=>{let h;const y={passive:!0},x=w=>{i===w.target&&(h&&h(),Hn(),(0,m.r)(()=>{Ve.forEach(nt=>{E(nt,"animation-duration"),E(nt,"animation-delay"),E(nt,"animation-play-state")}),(0,m.r)(Xn)}))};i&&(i.addEventListener("webkitAnimationEnd",x,y),i.addEventListener("animationend",x,y),h=()=>{i.removeEventListener("webkitAnimationEnd",x,y),i.removeEventListener("animationend",x,y)})})(Ve[0])}})(),we=!1}),st=(nt,bt)=>{const Ft=C[0];return void 0===Ft||void 0!==Ft.offset&&0!==Ft.offset?C=[{offset:0,[nt]:bt},...C]:Ft[nt]=bt,K};return K={parentAnimation:j,elements:Ve,childAnimations:Ue,id:Fe,animationFinish:Xn,from:st,to:(nt,bt)=>{const Ft=C[C.length-1];return void 0===Ft||void 0!==Ft.offset&&1!==Ft.offset?C=[...C,{offset:1,[nt]:bt}]:Ft[nt]=bt,K},fromTo:(nt,bt,Ft)=>st(nt,bt).to(nt,Ft),parent:nt=>(j=nt,K),play:wr,pause:()=>(Ue.forEach(nt=>{nt.pause()}),Fn(),K),stop:()=>{Ue.forEach(nt=>{nt.stop()}),F&&(We(),F=!1),Z=!1,oe=!1,A=!0,te=void 0,me=void 0,ce=void 0,H=0,Ae=!1,he=!0,we=!1},destroy:nt=>(Ue.forEach(bt=>{bt.destroy(nt)}),(nt=>{We(),nt&&yt()})(nt),Ve.length=0,Ue.length=0,C.length=0,Te.length=0,Ie.length=0,F=!1,A=!0,K),keyframes:nt=>{const bt=C!==nt;return C=nt,bt&&(nt=>{jt?$t().forEach(bt=>{if(bt.effect.setKeyframes)bt.effect.setKeyframes(nt);else{const Ft=new KeyframeEffect(bt.effect.target,nt,bt.effect.getTiming());bt.effect=Ft}}):pt()})(C),K},addAnimation:nt=>{if(null!=nt)if(Array.isArray(nt))for(const bt of nt)bt.parent(K),Ue.push(bt);else nt.parent(K),Ue.push(nt);return K},addElement:nt=>{if(null!=nt)if(1===nt.nodeType)Ve.push(nt);else if(nt.length>=0)for(let bt=0;bt<nt.length;bt++)Ve.push(nt[bt]);else console.error("Invalid addElement value");return K},update:un,fill:nt=>(x=nt,un(!0),K),direction:nt=>(w=nt,un(!0),K),iterations:nt=>(v=nt,un(!0),K),duration:nt=>(!jt&&0===nt&&(nt=1),h=nt,un(!0),K),easing:nt=>(y=nt,un(!0),K),delay:nt=>(c=nt,un(!0),K),getWebAnimations:$t,getKeyframes:()=>C,getFill:bn,getDirection:W,getDelay:J,getIterations:I,getEasing:le,getDuration:S,afterAddRead:nt=>(ot.push(nt),K),afterAddWrite:nt=>(ut.push(nt),K),afterClearStyles:(nt=[])=>{for(const bt of nt)$[bt]="";return K},afterStyles:(nt={})=>($=nt,K),afterRemoveClass:nt=>(ee=s(ee,nt),K),afterAddClass:nt=>(G=s(G,nt),K),beforeAddRead:nt=>(mt.push(nt),K),beforeAddWrite:nt=>(Re.push(nt),K),beforeClearStyles:(nt=[])=>{for(const bt of nt)B[bt]="";return K},beforeStyles:(nt={})=>(B=nt,K),beforeRemoveClass:nt=>(M=s(M,nt),K),beforeAddClass:nt=>(N=s(N,nt),K),onFinish:at,isRunning:()=>0!==H&&!we,progressStart:(nt=!1,bt)=>(Ue.forEach(Ft=>{Ft.progressStart(nt,bt)}),Fn(),Z=nt,F||mn(),un(!1,!0,bt),K),progressStep:nt=>(Ue.forEach(bt=>{bt.progressStep(nt)}),qt(nt),K),progressEnd:(nt,bt,Ft)=>(Z=!1,Ue.forEach(Xt=>{Xt.progressEnd(nt,bt,Ft)}),void 0!==Ft&&(me=Ft),Ae=!1,he=!0,0===nt?(te="reverse"===W()?"normal":"reverse","reverse"===te&&(he=!1),jt?(un(),qt(1-bt)):(ce=(1-bt)*S()*-1,un(!1,!1))):1===nt&&(jt?(un(),qt(bt)):(ce=bt*S()*-1,un(!1,!1))),void 0!==nt&&(at(()=>{me=void 0,te=void 0,ce=void 0},{oneTimeCallback:!0}),j||wr()),K)}}},3509:(hn,Mt,se)=>{"use strict";se.d(Mt,{G:()=>e});class ye{constructor(E,f,o,a,d){this.id=f,this.name=o,this.disableScroll=d,this.priority=1e6*a+f,this.ctrl=E}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const E=this.ctrl.capture(this.name,this.id,this.priority);return E&&this.disableScroll&&this.ctrl.disableScroll(this.id),E}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Xe{constructor(E,f,o,a){this.id=f,this.disable=o,this.disableScroll=a,this.ctrl=E}block(){if(this.ctrl){if(this.disable)for(const E of this.disable)this.ctrl.disableGesture(E,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const E of this.disable)this.ctrl.enableGesture(E,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const xe="backdrop-no-scroll",e=new class m{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(E){return new ye(this,this.newID(),E.name,E.priority||0,!!E.disableScroll)}createBlocker(E={}){return new Xe(this,this.newID(),E.disable,!!E.disableScroll)}start(E,f,o){return this.canStart(E)?(this.requestedStart.set(f,o),!0):(this.requestedStart.delete(f),!1)}capture(E,f,o){if(!this.start(E,f,o))return!1;const a=this.requestedStart;let d=-1e4;if(a.forEach(u=>{d=Math.max(d,u)}),d===o){this.capturedId=f,a.clear();const u=new CustomEvent("ionGestureCaptured",{detail:{gestureName:E}});return document.dispatchEvent(u),!0}return a.delete(f),!1}release(E){this.requestedStart.delete(E),this.capturedId===E&&(this.capturedId=void 0)}disableGesture(E,f){let o=this.disabledGestures.get(E);void 0===o&&(o=new Set,this.disabledGestures.set(E,o)),o.add(f)}enableGesture(E,f){const o=this.disabledGestures.get(E);void 0!==o&&o.delete(f)}disableScroll(E){this.disabledScroll.add(E),1===this.disabledScroll.size&&document.body.classList.add(xe)}enableScroll(E){this.disabledScroll.delete(E),0===this.disabledScroll.size&&document.body.classList.remove(xe)}canStart(E){return!(void 0!==this.capturedId||this.isDisabled(E))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(E){const f=this.disabledGestures.get(E);return!!(f&&f.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(hn,Mt,se)=>{"use strict";se.r(Mt),se.d(Mt,{MENU_BACK_BUTTON_PRIORITY:()=>e,OVERLAY_BACK_BUTTON_PRIORITY:()=>xe,blockHardwareBackButton:()=>ye,startHardwareBackButton:()=>Xe});var m=se(5861);const ye=()=>{document.addEventListener("backbutton",()=>{})},Xe=()=>{const U=document;let E=!1;U.addEventListener("backbutton",()=>{if(E)return;let f=0,o=[];const a=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(p,s){o.push({priority:p,handler:s,id:f++})}}});U.dispatchEvent(a);const d=function(){var p=(0,m.Z)(function*(s){try{if(null==s?void 0:s.handler){const r=s.handler(u);null!=r&&(yield r)}}catch(r){console.error(r)}});return function(r){return p.apply(this,arguments)}}(),u=()=>{if(o.length>0){let p={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};o.forEach(s=>{s.priority>=p.priority&&(p=s)}),E=!0,o=o.filter(s=>s.id!==p.id),d(p).then(()=>E=!1)}};u()})},xe=100,e=99},1643:(hn,Mt,se)=>{"use strict";se.d(Mt,{a:()=>e,b:()=>U,c:()=>Xe,d:()=>u,e:()=>p,f:()=>d,g:()=>E,h:()=>y,i:()=>xe,j:()=>a,k:()=>s,l:()=>o,m:()=>r,n:()=>h,o:()=>v,p:()=>c,q:()=>i,r:()=>f,s:()=>x,t:()=>m});const m=(w,C=0)=>new Promise(N=>{ye(w,C,N)}),ye=(w,C=0,N)=>{let M,F;const j={passive:!0},G=()=>{M&&M()},ee=$=>{(void 0===$||w===$.target)&&(G(),N($))};return w&&(w.addEventListener("webkitTransitionEnd",ee,j),w.addEventListener("transitionend",ee,j),F=setTimeout(ee,C+500),M=()=>{F&&(clearTimeout(F),F=void 0),w.removeEventListener("webkitTransitionEnd",ee,j),w.removeEventListener("transitionend",ee,j)}),G},Xe=(w,C)=>{w.componentOnReady?w.componentOnReady().then(N=>C(N)):f(()=>C(w))},xe=(w,C=[])=>{const N={};return C.forEach(M=>{w.hasAttribute(M)&&(null!==w.getAttribute(M)&&(N[M]=w.getAttribute(M)),w.removeAttribute(M))}),N},e=(w,C,N,M)=>{var F;if("undefined"!=typeof window){const j=window,B=null===(F=null==j?void 0:j.Ionic)||void 0===F?void 0:F.config;if(B){const G=B.get("_ael");if(G)return G(w,C,N,M);if(B._ael)return B._ael(w,C,N,M)}}return w.addEventListener(C,N,M)},U=(w,C,N,M)=>{var F;if("undefined"!=typeof window){const j=window,B=null===(F=null==j?void 0:j.Ionic)||void 0===F?void 0:F.config;if(B){const G=B.get("_rel");if(G)return G(w,C,N,M);if(B._rel)return B._rel(w,C,N,M)}}return w.removeEventListener(C,N,M)},E=(w,C=w)=>w.shadowRoot||C,f=w=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(w):"function"==typeof requestAnimationFrame?requestAnimationFrame(w):setTimeout(w),o=w=>!!w.shadowRoot&&!!w.attachShadow,a=w=>{const C=w.closest("ion-item");return C?C.querySelector("ion-label"):null},d=w=>{if(w.focus(),w.classList.contains("ion-focusable")){const C=w.closest("ion-app");C&&C.setFocus([w])}},u=(w,C)=>{let N;const M=w.getAttribute("aria-labelledby"),F=w.id;let j=null!==M&&""!==M.trim()?M:C+"-lbl",B=null!==M&&""!==M.trim()?document.getElementById(M):a(w);return B?(null===M&&(B.id=j),N=B.textContent,B.setAttribute("aria-hidden","true")):""!==F.trim()&&(B=document.querySelector(`label[for="${F}"]`),B&&(""!==B.id?j=B.id:B.id=j=`${F}-lbl`,N=B.textContent)),{label:B,labelId:j,labelText:N}},p=(w,C,N,M,F)=>{if(w||o(C)){let j=C.querySelector("input.aux-input");j||(j=C.ownerDocument.createElement("input"),j.type="hidden",j.classList.add("aux-input"),C.appendChild(j)),j.disabled=F,j.name=N,j.value=M||""}},s=(w,C,N)=>Math.max(w,Math.min(C,N)),r=(w,C)=>{if(!w){const N="ASSERT: "+C;throw console.error(N),new Error(N)}},i=w=>w.timeStamp||Date.now(),c=w=>{if(w){const C=w.changedTouches;if(C&&C.length>0){const N=C[0];return{x:N.clientX,y:N.clientY}}if(void 0!==w.pageX)return{x:w.pageX,y:w.pageY}}return{x:0,y:0}},h=w=>{const C="rtl"===document.dir;switch(w){case"start":return C;case"end":return!C;default:throw new Error(`"${w}" is not a valid value for [side]. Use "start" or "end" instead.`)}},y=(w,C)=>{const N=w._original||w;return{_original:w,emit:v(N.emit.bind(N),C)}},v=(w,C=0)=>{let N;return(...M)=>{clearTimeout(N),N=setTimeout(w,C,...M)}},x=(w,C)=>{if(null!=w||(w={}),null!=C||(C={}),w===C)return!0;const N=Object.keys(w);if(N.length!==Object.keys(C).length)return!1;for(const M of N)if(!(M in C)||w[M]!==C[M])return!1;return!0}},3139:(hn,Mt,se)=>{"use strict";se.r(Mt),se.d(Mt,{GESTURE_CONTROLLER:()=>m.G,createGesture:()=>o});var m=se(3509);const ye=(p,s,r,i)=>{const c=Xe(p)?{capture:!!i.capture,passive:!!i.passive}:!!i.capture;let h,y;return p.__zone_symbol__addEventListener?(h="__zone_symbol__addEventListener",y="__zone_symbol__removeEventListener"):(h="addEventListener",y="removeEventListener"),p[h](s,r,c),()=>{p[y](s,r,c)}},Xe=p=>{if(void 0===xe)try{const s=Object.defineProperty({},"passive",{get:()=>{xe=!0}});p.addEventListener("optsTest",()=>{},s)}catch(s){xe=!1}return!!xe};let xe;const E=p=>p instanceof Document?p:p.ownerDocument,o=p=>{let s=!1,r=!1,i=!0,c=!1;const h=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},p),y=h.canStart,v=h.onWillStart,x=h.onStart,w=h.onEnd,C=h.notCaptured,N=h.onMove,M=h.threshold,F=h.passive,j=h.blurOnStart,B={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},G=((p,s,r)=>{const i=r*(Math.PI/180),c="x"===p,h=Math.cos(i),y=s*s;let v=0,x=0,w=!1,C=0;return{start(N,M){v=N,x=M,C=0,w=!0},detect(N,M){if(!w)return!1;const F=N-v,j=M-x,B=F*F+j*j;if(B<y)return!1;const G=Math.sqrt(B),ee=(c?F:j)/G;return C=ee>h?1:ee<-h?-1:0,w=!1,!0},isGesture:()=>0!==C,getDirection:()=>C}})(h.direction,h.threshold,h.maxAngle),ee=m.G.createGesture({name:p.gestureName,priority:p.gesturePriority,disableScroll:p.disableScroll}),Z=()=>{!s||(c=!1,N&&N(B))},oe=()=>!(ee&&!ee.capture()||(s=!0,i=!1,B.startX=B.currentX,B.startY=B.currentY,B.startTime=B.currentTime,v?v(B).then(te):te(),0)),te=()=>{j&&(()=>{if("undefined"!=typeof document){const A=document.activeElement;(null==A?void 0:A.blur)&&A.blur()}})(),x&&x(B),i=!0},me=()=>{s=!1,r=!1,c=!1,i=!0,ee.release()},ce=A=>{const q=s,K=i;if(me(),K){if(a(B,A),q)return void(w&&w(B));C&&C(B)}},he=((p,s,r,i,c)=>{let h,y,v,x,w,C,N,M=0;const F=Q=>{M=Date.now()+2e3,s(Q)&&(!y&&r&&(y=ye(p,"touchmove",r,c)),v||(v=ye(Q.target,"touchend",B,c)),x||(x=ye(Q.target,"touchcancel",B,c)))},j=Q=>{M>Date.now()||!s(Q)||(!C&&r&&(C=ye(E(p),"mousemove",r,c)),N||(N=ye(E(p),"mouseup",G,c)))},B=Q=>{ee(),i&&i(Q)},G=Q=>{$(),i&&i(Q)},ee=()=>{y&&y(),v&&v(),x&&x(),y=v=x=void 0},$=()=>{C&&C(),N&&N(),C=N=void 0},H=()=>{ee(),$()},Z=(Q=!0)=>{Q?(h||(h=ye(p,"touchstart",F,c)),w||(w=ye(p,"mousedown",j,c))):(h&&h(),w&&w(),h=w=void 0,H())};return{enable:Z,stop:H,destroy:()=>{Z(!1),i=r=s=void 0}}})(h.el,A=>{const q=u(A);return!(r||!i||(d(A,B),B.startX=B.currentX,B.startY=B.currentY,B.startTime=B.currentTime=q,B.velocityX=B.velocityY=B.deltaX=B.deltaY=0,B.event=A,y&&!1===y(B))||(ee.release(),!ee.start()))&&(r=!0,0===M?oe():(G.start(B.startX,B.startY),!0))},A=>{s?!c&&i&&(c=!0,a(B,A),requestAnimationFrame(Z)):(a(B,A),G.detect(B.currentX,B.currentY)&&(!G.isGesture()||!oe())&&Ae())},ce,{capture:!1,passive:F}),Ae=()=>{me(),he.stop(),C&&C(B)};return{enable(A=!0){A||(s&&ce(void 0),me()),he.enable(A)},destroy(){ee.destroy(),he.destroy()}}},a=(p,s)=>{if(!s)return;const r=p.currentX,i=p.currentY,c=p.currentTime;d(s,p);const h=p.currentX,y=p.currentY,x=(p.currentTime=u(s))-c;if(x>0&&x<100){const C=(y-i)/x;p.velocityX=(h-r)/x*.7+.3*p.velocityX,p.velocityY=.7*C+.3*p.velocityY}p.deltaX=h-p.startX,p.deltaY=y-p.startY,p.event=s},d=(p,s)=>{let r=0,i=0;if(p){const c=p.changedTouches;if(c&&c.length>0){const h=c[0];r=h.clientX,i=h.clientY}else void 0!==p.pageX&&(r=p.pageX,i=p.pageY)}s.currentX=r,s.currentY=i},u=p=>p.timeStamp||Date.now()},6708:(hn,Mt,se)=>{"use strict";se.d(Mt,{m:()=>d});var m=se(5861),ye=se(7593),Xe=se(1643),xe=se(6254),e=se(8015);const U=u=>(0,e.c)().duration(u?400:300),E=u=>{let p,s;const r=u.width+8,i=(0,e.c)(),c=(0,e.c)();u.isEndSide?(p=r+"px",s="0px"):(p=-r+"px",s="0px"),i.addElement(u.menuInnerEl).fromTo("transform",`translateX(${p})`,`translateX(${s})`);const y="ios"===(0,xe.b)(u),v=y?.2:.25;return c.addElement(u.backdropEl).fromTo("opacity",.01,v),U(y).addAnimation([i,c])},f=u=>{let p,s;const r=(0,xe.b)(u),i=u.width;u.isEndSide?(p=-i+"px",s=i+"px"):(p=i+"px",s=-i+"px");const c=(0,e.c)().addElement(u.menuInnerEl).fromTo("transform",`translateX(${s})`,"translateX(0px)"),h=(0,e.c)().addElement(u.contentEl).fromTo("transform","translateX(0px)",`translateX(${p})`),y=(0,e.c)().addElement(u.backdropEl).fromTo("opacity",.01,.32);return U("ios"===r).addAnimation([c,h,y])},o=u=>{const p=(0,xe.b)(u),s=u.width*(u.isEndSide?-1:1)+"px",r=(0,e.c)().addElement(u.contentEl).fromTo("transform","translateX(0px)",`translateX(${s})`);return U("ios"===p).addAnimation(r)},d=(()=>{const u=new Map,p=[],s=function(){var te=(0,m.Z)(function*(me){const ce=yield x(me);return!!ce&&ce.open()});return function(ce){return te.apply(this,arguments)}}(),r=function(){var te=(0,m.Z)(function*(me){const ce=yield void 0!==me?x(me):w();return void 0!==ce&&ce.close()});return function(ce){return te.apply(this,arguments)}}(),i=function(){var te=(0,m.Z)(function*(me){const ce=yield x(me);return!!ce&&ce.toggle()});return function(ce){return te.apply(this,arguments)}}(),c=function(){var te=(0,m.Z)(function*(me,ce){const he=yield x(ce);return he&&(he.disabled=!me),he});return function(ce,he){return te.apply(this,arguments)}}(),h=function(){var te=(0,m.Z)(function*(me,ce){const he=yield x(ce);return he&&(he.swipeGesture=me),he});return function(ce,he){return te.apply(this,arguments)}}(),y=function(){var te=(0,m.Z)(function*(me){if(null!=me){const ce=yield x(me);return void 0!==ce&&ce.isOpen()}return void 0!==(yield w())});return function(ce){return te.apply(this,arguments)}}(),v=function(){var te=(0,m.Z)(function*(me){const ce=yield x(me);return!!ce&&!ce.disabled});return function(ce){return te.apply(this,arguments)}}(),x=function(){var te=(0,m.Z)(function*(me){return yield Q(),"start"===me||"end"===me?oe(Ae=>Ae.side===me&&!Ae.disabled)||oe(Ae=>Ae.side===me):null!=me?oe(he=>he.menuId===me):oe(he=>!he.disabled)||(p.length>0?p[0].el:void 0)});return function(ce){return te.apply(this,arguments)}}(),w=function(){var te=(0,m.Z)(function*(){return yield Q(),$()});return function(){return te.apply(this,arguments)}}(),C=function(){var te=(0,m.Z)(function*(){return yield Q(),H()});return function(){return te.apply(this,arguments)}}(),N=function(){var te=(0,m.Z)(function*(){return yield Q(),Z()});return function(){return te.apply(this,arguments)}}(),M=(te,me)=>{u.set(te,me)},B=te=>{const me=te.side;p.filter(ce=>ce.side===me&&ce!==te).forEach(ce=>ce.disabled=!0)},G=function(){var te=(0,m.Z)(function*(me,ce,he){if(Z())return!1;if(ce){const Ae=yield w();Ae&&me.el!==Ae&&(yield Ae.setOpen(!1,!1))}return me._setOpen(ce,he)});return function(ce,he,Ae){return te.apply(this,arguments)}}(),$=()=>oe(te=>te._isOpen),H=()=>p.map(te=>te.el),Z=()=>p.some(te=>te.isAnimating),oe=te=>{const me=p.find(te);if(void 0!==me)return me.el},Q=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(te=>new Promise(me=>(0,Xe.c)(te,me))));return M("reveal",o),M("push",f),M("overlay",E),"undefined"!=typeof document&&document.addEventListener("ionBackButton",te=>{const me=$();me&&te.detail.register(ye.MENU_BACK_BUTTON_PRIORITY,()=>me.close())}),{registerAnimation:M,get:x,getMenus:C,getOpen:w,isEnabled:v,swipeGesture:h,isAnimating:N,isOpen:y,enable:c,toggle:i,close:r,open:s,_getOpenSync:$,_createAnimation:(te,me)=>{const ce=u.get(te);if(!ce)throw new Error("animation not registered");return ce(me)},_register:te=>{p.indexOf(te)<0&&(te.disabled||B(te),p.push(te))},_unregister:te=>{const me=p.indexOf(te);me>-1&&p.splice(me,1)},_setOpen:G,_setActiveMenu:B}})()},2361:(hn,Mt,se)=>{"use strict";se.d(Mt,{B:()=>wr,H:()=>Ue,a:()=>Ae,b:()=>fr,c:()=>Qn,e:()=>xt,f:()=>sr,g:()=>A,h:()=>Ie,i:()=>wt,j:()=>le,k:()=>Xn,p:()=>i,r:()=>mn,s:()=>s});var m=se(5861);let Xe,xe,e,U=!1,E=!1,f=!1,o=!1,a=!1;const d="undefined"!=typeof window?window:{},u=d.document||{head:{}},p={$flags$:0,$resourcesUrl$:"",jmp:Ge=>Ge(),raf:Ge=>requestAnimationFrame(Ge),ael:(Ge,st,Tt,Rt)=>Ge.addEventListener(st,Tt,Rt),rel:(Ge,st,Tt,Rt)=>Ge.removeEventListener(st,Tt,Rt),ce:(Ge,st)=>new CustomEvent(Ge,st)},s=Ge=>{Object.assign(p,Ge)},i=Ge=>Promise.resolve(Ge),c=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(Ge){}return!1})(),h=(Ge,st,Tt,Rt)=>{Tt&&Tt.map(([nt,bt,Ft])=>{const Xt=v(Ge,nt),Zt=y(st,Ft),on=x(nt);p.ael(Xt,bt,Zt,on),(st.$rmListeners$=st.$rmListeners$||[]).push(()=>p.rel(Xt,bt,Zt,on))})},y=(Ge,st)=>Tt=>{try{256&Ge.$flags$?Ge.$lazyInstance$[st](Tt):(Ge.$queuedListeners$=Ge.$queuedListeners$||[]).push([st,Tt])}catch(Rt){_t(Rt)}},v=(Ge,st)=>4&st?u:8&st?d:16&st?u.body:Ge,x=Ge=>0!=(2&Ge),F="s-id",j="sty-id",B="c-id",ee="http://www.w3.org/1999/xlink",Z=new WeakMap,oe=(Ge,st,Tt)=>{let Rt=xn.get(Ge);c&&Tt?(Rt=Rt||new CSSStyleSheet,Rt.replace(st)):Rt=st,xn.set(Ge,Rt)},Q=(Ge,st,Tt,Rt)=>{let nt=me(st,Tt),bt=xn.get(nt);if(Ge=11===Ge.nodeType?Ge:u,bt)if("string"==typeof bt){let Xt,Ft=Z.get(Ge=Ge.head||Ge);Ft||Z.set(Ge,Ft=new Set),Ft.has(nt)||(Ge.host&&(Xt=Ge.querySelector(`[${j}="${nt}"]`))?Xt.innerHTML=bt:(Xt=u.createElement("style"),Xt.innerHTML=bt,Ge.insertBefore(Xt,Ge.querySelector("link"))),Ft&&Ft.add(nt))}else Ge.adoptedStyleSheets.includes(bt)||(Ge.adoptedStyleSheets=[...Ge.adoptedStyleSheets,bt]);return nt},me=(Ge,st)=>"sc-"+(st&&32&Ge.$flags$?Ge.$tagName$+"-"+st:Ge.$tagName$),ce=Ge=>Ge.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ae=Ge=>Qt.push(Ge),A=Ge=>Jt(Ge).$modeName$,q={},Te=Ge=>"object"==(Ge=typeof Ge)||"function"===Ge,Ie=(Ge,st,...Tt)=>{let Rt=null,nt=null,bt=null,Ft=!1,Xt=!1,Zt=[];const on=Cn=>{for(let Mn=0;Mn<Cn.length;Mn++)Rt=Cn[Mn],Array.isArray(Rt)?on(Rt):null!=Rt&&"boolean"!=typeof Rt&&((Ft="function"!=typeof Ge&&!Te(Rt))&&(Rt=String(Rt)),Ft&&Xt?Zt[Zt.length-1].$text$+=Rt:Zt.push(Ft?Ve(null,Rt):Rt),Xt=Ft)};if(on(Tt),st){st.key&&(nt=st.key),st.name&&(bt=st.name);{const Cn=st.className||st.class;Cn&&(st.class="object"!=typeof Cn?Cn:Object.keys(Cn).filter(Mn=>Cn[Mn]).join(" "))}}if("function"==typeof Ge)return Ge(null===st?{}:st,Zt,mt);const _n=Ve(Ge,null);return _n.$attrs$=st,Zt.length>0&&(_n.$children$=Zt),_n.$key$=nt,_n.$name$=bt,_n},Ve=(Ge,st)=>({$flags$:0,$tag$:Ge,$text$:st,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Ue={},mt={forEach:(Ge,st)=>Ge.map(Re).forEach(st),map:(Ge,st)=>Ge.map(Re).map(st).map(ot)},Re=Ge=>({vattrs:Ge.$attrs$,vchildren:Ge.$children$,vkey:Ge.$key$,vname:Ge.$name$,vtag:Ge.$tag$,vtext:Ge.$text$}),ot=Ge=>{if("function"==typeof Ge.vtag){const Tt=Object.assign({},Ge.vattrs);return Ge.vkey&&(Tt.key=Ge.vkey),Ge.vname&&(Tt.name=Ge.vname),Ie(Ge.vtag,Tt,...Ge.vchildren||[])}const st=Ve(Ge.vtag,Ge.vtext);return st.$attrs$=Ge.vattrs,st.$children$=Ge.vchildren,st.$key$=Ge.vkey,st.$name$=Ge.vname,st},ut=(Ge,st,Tt,Rt,nt,bt)=>{if(Tt!==Rt){let Ft=ct(Ge,st),Xt=st.toLowerCase();if("class"===st){const Zt=Ge.classList,on=Qe(Tt),_n=Qe(Rt);Zt.remove(...on.filter(Cn=>Cn&&!_n.includes(Cn))),Zt.add(..._n.filter(Cn=>Cn&&!on.includes(Cn)))}else if("style"===st){for(const Zt in Tt)(!Rt||null==Rt[Zt])&&(Zt.includes("-")?Ge.style.removeProperty(Zt):Ge.style[Zt]="");for(const Zt in Rt)(!Tt||Rt[Zt]!==Tt[Zt])&&(Zt.includes("-")?Ge.style.setProperty(Zt,Rt[Zt]):Ge.style[Zt]=Rt[Zt])}else if("key"!==st)if("ref"===st)Rt&&Rt(Ge);else if(Ft||"o"!==st[0]||"n"!==st[1]){const Zt=Te(Rt);if((Ft||Zt&&null!==Rt)&&!nt)try{if(Ge.tagName.includes("-"))Ge[st]=Rt;else{let _n=null==Rt?"":Rt;"list"===st?Ft=!1:(null==Tt||Ge[st]!=_n)&&(Ge[st]=_n)}}catch(_n){}let on=!1;Xt!==(Xt=Xt.replace(/^xlink\:?/,""))&&(st=Xt,on=!0),null==Rt||!1===Rt?(!1!==Rt||""===Ge.getAttribute(st))&&(on?Ge.removeAttributeNS(ee,st):Ge.removeAttribute(st)):(!Ft||4&bt||nt)&&!Zt&&(Rt=!0===Rt?"":Rt,on?Ge.setAttributeNS(ee,st,Rt):Ge.setAttribute(st,Rt))}else st="-"===st[2]?st.slice(3):ct(d,Xt)?Xt.slice(2):Xt[2]+st.slice(3),Tt&&p.rel(Ge,st,Tt,!1),Rt&&p.ael(Ge,st,Rt,!1)}},ft=/\s/,Qe=Ge=>Ge?Ge.split(ft):[],jt=(Ge,st,Tt,Rt)=>{const nt=11===st.$elm$.nodeType&&st.$elm$.host?st.$elm$.host:st.$elm$,bt=Ge&&Ge.$attrs$||q,Ft=st.$attrs$||q;for(Rt in bt)Rt in Ft||ut(nt,Rt,bt[Rt],void 0,Tt,st.$flags$);for(Rt in Ft)ut(nt,Rt,bt[Rt],Ft[Rt],Tt,st.$flags$)},At=(Ge,st,Tt,Rt)=>{let Ft,Xt,Zt,nt=st.$children$[Tt],bt=0;if(U||(f=!0,"slot"===nt.$tag$&&(Xe&&Rt.classList.add(Xe+"-s"),nt.$flags$|=nt.$children$?2:1)),null!==nt.$text$)Ft=nt.$elm$=u.createTextNode(nt.$text$);else if(1&nt.$flags$)Ft=nt.$elm$=u.createTextNode("");else{if(o||(o="svg"===nt.$tag$),Ft=nt.$elm$=u.createElementNS(o?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&nt.$flags$?"slot-fb":nt.$tag$),o&&"foreignObject"===nt.$tag$&&(o=!1),jt(null,nt,o),(Ge=>null!=Ge)(Xe)&&Ft["s-si"]!==Xe&&Ft.classList.add(Ft["s-si"]=Xe),nt.$children$)for(bt=0;bt<nt.$children$.length;++bt)Xt=At(Ge,nt,bt,Ft),Xt&&Ft.appendChild(Xt);"svg"===nt.$tag$?o=!1:"foreignObject"===Ft.tagName&&(o=!0)}return Ft["s-hn"]=e,3&nt.$flags$&&(Ft["s-sr"]=!0,Ft["s-cr"]=xe,Ft["s-sn"]=nt.$name$||"",Zt=Ge&&Ge.$children$&&Ge.$children$[Tt],Zt&&Zt.$tag$===nt.$tag$&&Ge.$elm$&&$t(Ge.$elm$,!1)),Ft},$t=(Ge,st)=>{p.$flags$|=1;const Tt=Ge.childNodes;for(let Rt=Tt.length-1;Rt>=0;Rt--){const nt=Tt[Rt];nt["s-hn"]!==e&&nt["s-ol"]&&(je(nt).insertBefore(nt,at(nt)),nt["s-ol"].remove(),nt["s-ol"]=void 0,f=!0),st&&$t(nt,st)}p.$flags$&=-2},Ot=(Ge,st,Tt,Rt,nt,bt)=>{let Xt,Ft=Ge["s-cr"]&&Ge["s-cr"].parentNode||Ge;for(Ft.shadowRoot&&Ft.tagName===e&&(Ft=Ft.shadowRoot);nt<=bt;++nt)Rt[nt]&&(Xt=At(null,Tt,nt,Ge),Xt&&(Rt[nt].$elm$=Xt,Ft.insertBefore(Xt,at(st))))},tn=(Ge,st,Tt,Rt,nt)=>{for(;st<=Tt;++st)(Rt=Ge[st])&&(nt=Rt.$elm$,Me(Rt),E=!0,nt["s-ol"]?nt["s-ol"].remove():$t(nt,!0),nt.remove())},Je=(Ge,st)=>Ge.$tag$===st.$tag$&&("slot"===Ge.$tag$?Ge.$name$===st.$name$:Ge.$key$===st.$key$),at=Ge=>Ge&&Ge["s-ol"]||Ge,je=Ge=>(Ge["s-ol"]?Ge["s-ol"]:Ge).parentNode,We=(Ge,st)=>{const Tt=st.$elm$=Ge.$elm$,Rt=Ge.$children$,nt=st.$children$,bt=st.$tag$,Ft=st.$text$;let Xt;null===Ft?(o="svg"===bt||"foreignObject"!==bt&&o,"slot"===bt||jt(Ge,st,o),null!==Rt&&null!==nt?((Ge,st,Tt,Rt)=>{let or,lr,nt=0,bt=0,Ft=0,Xt=0,Zt=st.length-1,on=st[0],_n=st[Zt],Cn=Rt.length-1,Mn=Rt[0],Gn=Rt[Cn];for(;nt<=Zt&&bt<=Cn;)if(null==on)on=st[++nt];else if(null==_n)_n=st[--Zt];else if(null==Mn)Mn=Rt[++bt];else if(null==Gn)Gn=Rt[--Cn];else if(Je(on,Mn))We(on,Mn),on=st[++nt],Mn=Rt[++bt];else if(Je(_n,Gn))We(_n,Gn),_n=st[--Zt],Gn=Rt[--Cn];else if(Je(on,Gn))("slot"===on.$tag$||"slot"===Gn.$tag$)&&$t(on.$elm$.parentNode,!1),We(on,Gn),Ge.insertBefore(on.$elm$,_n.$elm$.nextSibling),on=st[++nt],Gn=Rt[--Cn];else if(Je(_n,Mn))("slot"===on.$tag$||"slot"===Gn.$tag$)&&$t(_n.$elm$.parentNode,!1),We(_n,Mn),Ge.insertBefore(_n.$elm$,on.$elm$),_n=st[--Zt],Mn=Rt[++bt];else{for(Ft=-1,Xt=nt;Xt<=Zt;++Xt)if(st[Xt]&&null!==st[Xt].$key$&&st[Xt].$key$===Mn.$key$){Ft=Xt;break}Ft>=0?(lr=st[Ft],lr.$tag$!==Mn.$tag$?or=At(st&&st[bt],Tt,Ft,Ge):(We(lr,Mn),st[Ft]=void 0,or=lr.$elm$),Mn=Rt[++bt]):(or=At(st&&st[bt],Tt,bt,Ge),Mn=Rt[++bt]),or&&je(on.$elm$).insertBefore(or,at(on.$elm$))}nt>Zt?Ot(Ge,null==Rt[Cn+1]?null:Rt[Cn+1].$elm$,Tt,Rt,bt,Cn):bt>Cn&&tn(st,nt,Zt)})(Tt,Rt,st,nt):null!==nt?(null!==Ge.$text$&&(Tt.textContent=""),Ot(Tt,null,st,nt,0,nt.length-1)):null!==Rt&&tn(Rt,0,Rt.length-1),o&&"svg"===bt&&(o=!1)):(Xt=Tt["s-cr"])?Xt.parentNode.textContent=Ft:Ge.$text$!==Ft&&(Tt.data=Ft)},yt=Ge=>{let Tt,Rt,nt,bt,Ft,Xt,st=Ge.childNodes;for(Rt=0,nt=st.length;Rt<nt;Rt++)if(Tt=st[Rt],1===Tt.nodeType){if(Tt["s-sr"])for(Ft=Tt["s-sn"],Tt.hidden=!1,bt=0;bt<nt;bt++)if(Xt=st[bt].nodeType,st[bt]["s-hn"]!==Tt["s-hn"]||""!==Ft){if(1===Xt&&Ft===st[bt].getAttribute("slot")){Tt.hidden=!0;break}}else if(1===Xt||3===Xt&&""!==st[bt].textContent.trim()){Tt.hidden=!0;break}yt(Tt)}},lt=[],ke=Ge=>{let st,Tt,Rt,nt,bt,Ft,Xt=0,Zt=Ge.childNodes,on=Zt.length;for(;Xt<on;Xt++){if(st=Zt[Xt],st["s-sr"]&&(Tt=st["s-cr"])&&Tt.parentNode)for(Rt=Tt.parentNode.childNodes,nt=st["s-sn"],Ft=Rt.length-1;Ft>=0;Ft--)Tt=Rt[Ft],!Tt["s-cn"]&&!Tt["s-nr"]&&Tt["s-hn"]!==st["s-hn"]&&(Be(Tt,nt)?(bt=lt.find(_n=>_n.$nodeToRelocate$===Tt),E=!0,Tt["s-sn"]=Tt["s-sn"]||nt,bt?bt.$slotRefNode$=st:lt.push({$slotRefNode$:st,$nodeToRelocate$:Tt}),Tt["s-sr"]&&lt.map(_n=>{Be(_n.$nodeToRelocate$,Tt["s-sn"])&&(bt=lt.find(Cn=>Cn.$nodeToRelocate$===Tt),bt&&!_n.$slotRefNode$&&(_n.$slotRefNode$=bt.$slotRefNode$))})):lt.some(_n=>_n.$nodeToRelocate$===Tt)||lt.push({$nodeToRelocate$:Tt}));1===st.nodeType&&ke(st)}},Be=(Ge,st)=>1===Ge.nodeType?null===Ge.getAttribute("slot")&&""===st||Ge.getAttribute("slot")===st:Ge["s-sn"]===st||""===st,Me=Ge=>{Ge.$attrs$&&Ge.$attrs$.ref&&Ge.$attrs$.ref(null),Ge.$children$&&Ge.$children$.map(Me)},wt=Ge=>Jt(Ge).$hostElement$,xt=(Ge,st,Tt)=>{const Rt=wt(Ge);return{emit:nt=>Lt(Rt,st,{bubbles:!!(4&Tt),composed:!!(2&Tt),cancelable:!!(1&Tt),detail:nt})}},Lt=(Ge,st,Tt)=>{const Rt=p.ce(st,Tt);return Ge.dispatchEvent(Rt),Rt},Kt=(Ge,st)=>{st&&!Ge.$onRenderResolve$&&st["s-p"]&&st["s-p"].push(new Promise(Tt=>Ge.$onRenderResolve$=Tt))},cn=(Ge,st)=>{if(Ge.$flags$|=16,!(4&Ge.$flags$))return Kt(Ge,Ge.$ancestorComponent$),Qn(()=>nn(Ge,st));Ge.$flags$|=512},nn=(Ge,st)=>{const Rt=Ge.$lazyInstance$;let nt;return st&&(Ge.$flags$|=256,Ge.$queuedListeners$&&(Ge.$queuedListeners$.map(([bt,Ft])=>I(Rt,bt,Ft)),Ge.$queuedListeners$=null),nt=I(Rt,"componentWillLoad")),nt=J(nt,()=>I(Rt,"componentWillRender")),J(nt,()=>Wt(Ge,Rt,st))},Wt=function(){var Ge=(0,m.Z)(function*(st,Tt,Rt){const nt=st.$hostElement$,Ft=nt["s-rc"];Rt&&(Ge=>{const st=Ge.$cmpMeta$,Tt=Ge.$hostElement$,Rt=st.$flags$,bt=Q(Tt.shadowRoot?Tt.shadowRoot:Tt.getRootNode(),st,Ge.$modeName$);10&Rt&&(Tt["s-sc"]=bt,Tt.classList.add(bt+"-h"),2&Rt&&Tt.classList.add(bt+"-s"))})(st);bn(st,Tt),Ft&&(Ft.map(Zt=>Zt()),nt["s-rc"]=void 0);{const Zt=nt["s-p"],on=()=>W(st);0===Zt.length?on():(Promise.all(Zt).then(on),st.$flags$|=4,Zt.length=0)}});return function(Tt,Rt,nt){return Ge.apply(this,arguments)}}(),bn=(Ge,st,Tt)=>{try{st=st.render&&st.render(),Ge.$flags$&=-17,Ge.$flags$|=2,((Ge,st)=>{const Tt=Ge.$hostElement$,Rt=Ge.$cmpMeta$,nt=Ge.$vnode$||Ve(null,null),bt=(Ge=>Ge&&Ge.$tag$===Ue)(st)?st:Ie(null,null,st);if(e=Tt.tagName,Rt.$attrsToReflect$&&(bt.$attrs$=bt.$attrs$||{},Rt.$attrsToReflect$.map(([Ft,Xt])=>bt.$attrs$[Xt]=Tt[Ft])),bt.$tag$=null,bt.$flags$|=4,Ge.$vnode$=bt,bt.$elm$=nt.$elm$=Tt.shadowRoot||Tt,Xe=Tt["s-sc"],xe=Tt["s-cr"],U=0!=(1&Rt.$flags$),E=!1,We(nt,bt),p.$flags$|=1,f){ke(bt.$elm$);let Ft,Xt,Zt,on,_n,Cn,Mn=0;for(;Mn<lt.length;Mn++)Ft=lt[Mn],Xt=Ft.$nodeToRelocate$,Xt["s-ol"]||(Zt=u.createTextNode(""),Zt["s-nr"]=Xt,Xt.parentNode.insertBefore(Xt["s-ol"]=Zt,Xt));for(Mn=0;Mn<lt.length;Mn++)if(Ft=lt[Mn],Xt=Ft.$nodeToRelocate$,Ft.$slotRefNode$){for(on=Ft.$slotRefNode$.parentNode,_n=Ft.$slotRefNode$.nextSibling,Zt=Xt["s-ol"];Zt=Zt.previousSibling;)if(Cn=Zt["s-nr"],Cn&&Cn["s-sn"]===Xt["s-sn"]&&on===Cn.parentNode&&(Cn=Cn.nextSibling,!Cn||!Cn["s-nr"])){_n=Cn;break}(!_n&&on!==Xt.parentNode||Xt.nextSibling!==_n)&&Xt!==_n&&(!Xt["s-hn"]&&Xt["s-ol"]&&(Xt["s-hn"]=Xt["s-ol"].parentNode.nodeName),on.insertBefore(Xt,_n))}else 1===Xt.nodeType&&(Xt.hidden=!0)}E&&yt(bt.$elm$),p.$flags$&=-2,lt.length=0})(Ge,st)}catch(Rt){_t(Rt,Ge.$hostElement$)}return null},W=Ge=>{const Tt=Ge.$hostElement$,nt=Ge.$lazyInstance$,bt=Ge.$ancestorComponent$;I(nt,"componentDidRender"),64&Ge.$flags$?I(nt,"componentDidUpdate"):(Ge.$flags$|=64,de(Tt),I(nt,"componentDidLoad"),Ge.$onReadyResolve$(Tt),bt||S()),Ge.$onInstanceResolve$(Tt),Ge.$onRenderResolve$&&(Ge.$onRenderResolve$(),Ge.$onRenderResolve$=void 0),512&Ge.$flags$&&Kn(()=>cn(Ge,!1)),Ge.$flags$&=-517},le=Ge=>{{const st=Jt(Ge),Tt=st.$hostElement$.isConnected;return Tt&&2==(18&st.$flags$)&&cn(st,!1),Tt}},S=Ge=>{de(u.documentElement),Kn(()=>Lt(d,"appload",{detail:{namespace:"ionic"}}))},I=(Ge,st,Tt)=>{if(Ge&&Ge[st])try{return Ge[st](Tt)}catch(Rt){_t(Rt)}},J=(Ge,st)=>Ge&&Ge.then?Ge.then(st):st(),de=Ge=>Ge.classList.add("hydrated"),V=(Ge,st,Tt,Rt,nt,bt,Ft)=>{let Xt,Zt,on,_n;if(1===bt.nodeType){for(Xt=bt.getAttribute(B),Xt&&(Zt=Xt.split("."),(Zt[0]===Ft||"0"===Zt[0])&&(on={$flags$:0,$hostId$:Zt[0],$nodeId$:Zt[1],$depth$:Zt[2],$index$:Zt[3],$tag$:bt.tagName.toLowerCase(),$elm$:bt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},st.push(on),bt.removeAttribute(B),Ge.$children$||(Ge.$children$=[]),Ge.$children$[on.$index$]=on,Ge=on,Rt&&"0"===on.$depth$&&(Rt[on.$index$]=on.$elm$))),_n=bt.childNodes.length-1;_n>=0;_n--)V(Ge,st,Tt,Rt,nt,bt.childNodes[_n],Ft);if(bt.shadowRoot)for(_n=bt.shadowRoot.childNodes.length-1;_n>=0;_n--)V(Ge,st,Tt,Rt,nt,bt.shadowRoot.childNodes[_n],Ft)}else if(8===bt.nodeType)Zt=bt.nodeValue.split("."),(Zt[1]===Ft||"0"===Zt[1])&&(Xt=Zt[0],on={$flags$:0,$hostId$:Zt[1],$nodeId$:Zt[2],$depth$:Zt[3],$index$:Zt[4],$elm$:bt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Xt?(on.$elm$=bt.nextSibling,on.$elm$&&3===on.$elm$.nodeType&&(on.$text$=on.$elm$.textContent,st.push(on),bt.remove(),Ge.$children$||(Ge.$children$=[]),Ge.$children$[on.$index$]=on,Rt&&"0"===on.$depth$&&(Rt[on.$index$]=on.$elm$))):on.$hostId$===Ft&&("s"===Xt?(on.$tag$="slot",bt["s-sn"]=Zt[5]?on.$name$=Zt[5]:"",bt["s-sr"]=!0,Rt&&(on.$elm$=u.createElement(on.$tag$),on.$name$&&on.$elm$.setAttribute("name",on.$name$),bt.parentNode.insertBefore(on.$elm$,bt),bt.remove(),"0"===on.$depth$&&(Rt[on.$index$]=on.$elm$)),Tt.push(on),Ge.$children$||(Ge.$children$=[]),Ge.$children$[on.$index$]=on):"r"===Xt&&(Rt?bt.remove():(nt["s-cr"]=bt,bt["s-cn"]=!0))));else if(Ge&&"style"===Ge.$tag$){const Cn=Ve(null,bt.textContent);Cn.$elm$=bt,Cn.$index$="0",Ge.$children$=[Cn]}},k=(Ge,st)=>{if(1===Ge.nodeType){let Tt=0;for(;Tt<Ge.childNodes.length;Tt++)k(Ge.childNodes[Tt],st);if(Ge.shadowRoot)for(Tt=0;Tt<Ge.shadowRoot.childNodes.length;Tt++)k(Ge.shadowRoot.childNodes[Tt],st)}else if(8===Ge.nodeType){const Tt=Ge.nodeValue.split(".");"o"===Tt[0]&&(st.set(Tt[1]+"."+Tt[2],Ge),Ge.nodeValue="",Ge["s-en"]=Tt[3])}},kt=(Ge,st,Tt)=>{if(st.$members$){Ge.watchers&&(st.$watchers$=Ge.watchers);const Rt=Object.entries(st.$members$),nt=Ge.prototype;if(Rt.map(([bt,[Ft]])=>{31&Ft||2&Tt&&32&Ft?Object.defineProperty(nt,bt,{get(){return((Ge,st)=>Jt(this).$instanceValues$.get(st))(0,bt)},set(Xt){((Ge,st,Tt,Rt)=>{const nt=Jt(Ge),bt=nt.$hostElement$,Ft=nt.$instanceValues$.get(st),Xt=nt.$flags$,Zt=nt.$lazyInstance$;Tt=((Ge,st)=>null==Ge||Te(Ge)?Ge:4&st?"false"!==Ge&&(""===Ge||!!Ge):2&st?parseFloat(Ge):1&st?String(Ge):Ge)(Tt,Rt.$members$[st][0]);const on=Number.isNaN(Ft)&&Number.isNaN(Tt);if((!(8&Xt)||void 0===Ft)&&Tt!==Ft&&!on&&(nt.$instanceValues$.set(st,Tt),Zt)){if(Rt.$watchers$&&128&Xt){const Cn=Rt.$watchers$[st];Cn&&Cn.map(Mn=>{try{Zt[Mn](Tt,Ft,st)}catch(Gn){_t(Gn,bt)}})}2==(18&Xt)&&cn(nt,!1)}})(this,bt,Xt,st)},configurable:!0,enumerable:!0}):1&Tt&&64&Ft&&Object.defineProperty(nt,bt,{value(...Xt){const Zt=Jt(this);return Zt.$onInstancePromise$.then(()=>Zt.$lazyInstance$[bt](...Xt))}})}),1&Tt){const bt=new Map;nt.attributeChangedCallback=function(Ft,Xt,Zt){p.jmp(()=>{const on=bt.get(Ft);if(this.hasOwnProperty(on))Zt=this[on],delete this[on];else if(nt.hasOwnProperty(on)&&"number"==typeof this[on]&&this[on]==Zt)return;this[on]=(null!==Zt||"boolean"!=typeof this[on])&&Zt})},Ge.observedAttributes=Rt.filter(([Ft,Xt])=>15&Xt[0]).map(([Ft,Xt])=>{const Zt=Xt[1]||Ft;return bt.set(Zt,Ft),512&Xt[0]&&st.$attrsToReflect$.push([Ft,Zt]),Zt})}}return Ge},pn=function(){var Ge=(0,m.Z)(function*(st,Tt,Rt,nt,bt){if(0==(32&Tt.$flags$)){{if(Tt.$flags$|=32,(bt=sn(Rt)).then){const on=()=>{};bt=yield bt,on()}bt.isProxied||(Rt.$watchers$=bt.watchers,kt(bt,Rt,2),bt.isProxied=!0);const Zt=()=>{};Tt.$flags$|=8;try{new bt(Tt)}catch(on){_t(on)}Tt.$flags$&=-9,Tt.$flags$|=128,Zt(),Ln(Tt.$lazyInstance$)}if(bt.style){let Zt=bt.style;"string"!=typeof Zt&&(Zt=Zt[Tt.$modeName$=(Ge=>Qt.map(st=>st(Ge)).find(st=>!!st))(st)]);const on=me(Rt,Tt.$modeName$);if(!xn.has(on)){const _n=()=>{};oe(on,Zt,!!(1&Rt.$flags$)),_n()}}}const Ft=Tt.$ancestorComponent$,Xt=()=>cn(Tt,!0);Ft&&Ft["s-rc"]?Ft["s-rc"].push(Xt):Xt()});return function(Tt,Rt,nt,bt,Ft){return Ge.apply(this,arguments)}}(),Ln=Ge=>{I(Ge,"connectedCallback")},yr=Ge=>{const st=Ge["s-cr"]=u.createComment("");st["s-cn"]=!0,Ge.insertBefore(st,Ge.firstChild)},fr=(Ge,st={})=>{const Rt=[],nt=st.exclude||[],bt=d.customElements,Ft=u.head,Xt=Ft.querySelector("meta[charset]"),Zt=u.createElement("style"),on=[],_n=u.querySelectorAll(`[${j}]`);let Cn,Mn=!0,Gn=0;for(Object.assign(p,st),p.$resourcesUrl$=new URL(st.resourcesUrl||"./",u.baseURI).href,p.$flags$|=2;Gn<_n.length;Gn++)oe(_n[Gn].getAttribute(j),ce(_n[Gn].innerHTML),!0);Ge.map(or=>{or[1].map(lr=>{const ur={$flags$:lr[0],$tagName$:lr[1],$members$:lr[2],$listeners$:lr[3]};ur.$members$=lr[2],ur.$listeners$=lr[3],ur.$attrsToReflect$=[],ur.$watchers$={};const Gr=ur.$tagName$,di=class extends HTMLElement{constructor(gr){super(gr),qt(gr=this,ur),1&ur.$flags$&&gr.attachShadow({mode:"open",delegatesFocus:!!(16&ur.$flags$)})}connectedCallback(){Cn&&(clearTimeout(Cn),Cn=null),Mn?on.push(this):p.jmp(()=>(Ge=>{if(0==(1&p.$flags$)){const st=Jt(Ge),Tt=st.$cmpMeta$,Rt=()=>{};if(1&st.$flags$)h(Ge,st,Tt.$listeners$),Ln(st.$lazyInstance$);else{let nt;if(st.$flags$|=1,nt=Ge.getAttribute(F),nt){if(1&Tt.$flags$){const bt=Q(Ge.shadowRoot,Tt,Ge.getAttribute("s-mode"));Ge.classList.remove(bt+"-h",bt+"-s")}((Ge,st,Tt,Rt)=>{const bt=Ge.shadowRoot,Ft=[],Zt=bt?[]:null,on=Rt.$vnode$=Ve(st,null);p.$orgLocNodes$||k(u.body,p.$orgLocNodes$=new Map),Ge[F]=Tt,Ge.removeAttribute(F),V(on,Ft,[],Zt,Ge,Ge,Tt),Ft.map(_n=>{const Cn=_n.$hostId$+"."+_n.$nodeId$,Mn=p.$orgLocNodes$.get(Cn),Gn=_n.$elm$;Mn&&""===Mn["s-en"]&&Mn.parentNode.insertBefore(Gn,Mn.nextSibling),bt||(Gn["s-hn"]=st,Mn&&(Gn["s-ol"]=Mn,Gn["s-ol"]["s-nr"]=Gn)),p.$orgLocNodes$.delete(Cn)}),bt&&Zt.map(_n=>{_n&&bt.appendChild(_n)})})(Ge,Tt.$tagName$,nt,st)}nt||12&Tt.$flags$&&yr(Ge);{let bt=Ge;for(;bt=bt.parentNode||bt.host;)if(1===bt.nodeType&&bt.hasAttribute("s-id")&&bt["s-p"]||bt["s-p"]){Kt(st,st.$ancestorComponent$=bt);break}}Tt.$members$&&Object.entries(Tt.$members$).map(([bt,[Ft]])=>{if(31&Ft&&Ge.hasOwnProperty(bt)){const Xt=Ge[bt];delete Ge[bt],Ge[bt]=Xt}}),Kn(()=>pn(Ge,st,Tt))}Rt()}})(this))}disconnectedCallback(){p.jmp(()=>(Ge=>{if(0==(1&p.$flags$)){const st=Jt(this),Tt=st.$lazyInstance$;st.$rmListeners$&&(st.$rmListeners$.map(Rt=>Rt()),st.$rmListeners$=void 0),I(Tt,"disconnectedCallback")}})())}componentOnReady(){return Jt(this).$onReadyPromise$}};ur.$lazyBundleId$=or[0],!nt.includes(Gr)&&!bt.get(Gr)&&(Rt.push(Gr),bt.define(Gr,kt(di,ur,1)))})}),Zt.innerHTML=Rt+"{visibility:hidden}.hydrated{visibility:inherit}",Zt.setAttribute("data-styles",""),Ft.insertBefore(Zt,Xt?Xt.nextSibling:Ft.firstChild),Mn=!1,on.length?on.map(or=>or.connectedCallback()):p.jmp(()=>Cn=setTimeout(S,30))},Xn=Ge=>{const st=new URL(Ge,p.$resourcesUrl$);return st.origin!==d.location.origin?st.href:st.pathname},pt=new WeakMap,Jt=Ge=>pt.get(Ge),mn=(Ge,st)=>pt.set(st.$lazyInstance$=Ge,st),qt=(Ge,st)=>{const Tt={$flags$:0,$hostElement$:Ge,$cmpMeta$:st,$instanceValues$:new Map};return Tt.$onInstancePromise$=new Promise(Rt=>Tt.$onInstanceResolve$=Rt),Tt.$onReadyPromise$=new Promise(Rt=>Tt.$onReadyResolve$=Rt),Ge["s-p"]=[],Ge["s-rc"]=[],h(Ge,Tt,st.$listeners$),pt.set(Ge,Tt)},ct=(Ge,st)=>st in Ge,_t=(Ge,st)=>(0,console.error)(Ge,st),un=new Map,sn=(Ge,st,Tt)=>{const Rt=Ge.$tagName$.replace(/-/g,"_"),nt=Ge.$lazyBundleId$,bt=un.get(nt);return bt?bt[Rt]:se(863)(`./${nt}.entry.js`).then(Ft=>(un.set(nt,Ft),Ft[Rt]),_t)},xn=new Map,Qt=[],Fn=[],On=[],$n=(Ge,st)=>Tt=>{Ge.push(Tt),a||(a=!0,st&&4&p.$flags$?Kn(Dn):p.raf(Dn))},Hn=Ge=>{for(let st=0;st<Ge.length;st++)try{Ge[st](performance.now())}catch(Tt){_t(Tt)}Ge.length=0},Dn=()=>{Hn(Fn),Hn(On),(a=Fn.length>0)&&p.raf(Dn)},Kn=Ge=>i().then(Ge),sr=$n(Fn,!1),Qn=$n(On,!0),wr={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},7249:(hn,Mt,se)=>{"use strict";se.d(Mt,{L:()=>xe,a:()=>e,b:()=>U,c:()=>E,d:()=>f,e:()=>M,g:()=>B,l:()=>C,s:()=>F,t:()=>d});var m=se(5861),ye=se(2361),Xe=se(1643);const xe="ionViewWillEnter",e="ionViewDidEnter",U="ionViewWillLeave",E="ionViewDidLeave",f="ionViewWillUnload",d=G=>new Promise((ee,$)=>{(0,ye.c)(()=>{u(G),p(G).then(H=>{H.animation&&H.animation.destroy(),s(G),ee(H)},H=>{s(G),$(H)})})}),u=G=>{const ee=G.enteringEl,$=G.leavingEl;j(ee,$,G.direction),G.showGoBack?ee.classList.add("can-go-back"):ee.classList.remove("can-go-back"),F(ee,!1),ee.style.setProperty("pointer-events","none"),$&&(F($,!1),$.style.setProperty("pointer-events","none"))},p=function(){var G=(0,m.Z)(function*(ee){const $=yield r(ee);return $&&ye.B.isBrowser?i($,ee):c(ee)});return function($){return G.apply(this,arguments)}}(),s=G=>{const ee=G.enteringEl,$=G.leavingEl;ee.classList.remove("ion-page-invisible"),ee.style.removeProperty("pointer-events"),void 0!==$&&($.classList.remove("ion-page-invisible"),$.style.removeProperty("pointer-events"))},r=function(){var G=(0,m.Z)(function*(ee){return ee.leavingEl&&ee.animated&&0!==ee.duration?ee.animationBuilder?ee.animationBuilder:"ios"===ee.mode?(yield Promise.resolve().then(se.bind(se,936))).iosTransitionAnimation:(yield Promise.resolve().then(se.bind(se,8447))).mdTransitionAnimation:void 0});return function($){return G.apply(this,arguments)}}(),i=function(){var G=(0,m.Z)(function*(ee,$){yield h($,!0);const H=ee($.baseEl,$);x($.enteringEl,$.leavingEl);const Z=yield v(H,$);return $.progressCallback&&$.progressCallback(void 0),Z&&w($.enteringEl,$.leavingEl),{hasCompleted:Z,animation:H}});return function($,H){return G.apply(this,arguments)}}(),c=function(){var G=(0,m.Z)(function*(ee){const $=ee.enteringEl,H=ee.leavingEl;return yield h(ee,!1),x($,H),w($,H),{hasCompleted:!0}});return function($){return G.apply(this,arguments)}}(),h=function(){var G=(0,m.Z)(function*(ee,$){const Z=(void 0!==ee.deepWait?ee.deepWait:$)?[M(ee.enteringEl),M(ee.leavingEl)]:[N(ee.enteringEl),N(ee.leavingEl)];yield Promise.all(Z),yield y(ee.viewIsReady,ee.enteringEl)});return function($,H){return G.apply(this,arguments)}}(),y=function(){var G=(0,m.Z)(function*(ee,$){ee&&(yield ee($))});return function($,H){return G.apply(this,arguments)}}(),v=(G,ee)=>{const $=ee.progressCallback,H=new Promise(Z=>{G.onFinish(oe=>Z(1===oe))});return $?(G.progressStart(!0),$(G)):G.play(),H},x=(G,ee)=>{C(ee,U),C(G,xe)},w=(G,ee)=>{C(G,e),C(ee,E)},C=(G,ee)=>{if(G){const $=new CustomEvent(ee,{bubbles:!1,cancelable:!1});G.dispatchEvent($)}},N=G=>G?new Promise(ee=>(0,Xe.c)(G,ee)):Promise.resolve(),M=function(){var G=(0,m.Z)(function*(ee){const $=ee;if($){if(null!=$.componentOnReady){if(null!=(yield $.componentOnReady()))return}else if(null!=$.__registerHost)return void(yield new Promise(Z=>(0,Xe.r)(Z)));yield Promise.all(Array.from($.children).map(M))}});return function($){return G.apply(this,arguments)}}(),F=(G,ee)=>{ee?(G.setAttribute("aria-hidden","true"),G.classList.add("ion-page-hidden")):(G.hidden=!1,G.removeAttribute("aria-hidden"),G.classList.remove("ion-page-hidden"))},j=(G,ee,$)=>{void 0!==G&&(G.style.zIndex="back"===$?"99":"101"),void 0!==ee&&(ee.style.zIndex="100")},B=G=>G.classList.contains("ion-page")?G:G.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||G},4464:(hn,Mt,se)=>{"use strict";se.d(Mt,{Nn:()=>m.iosTransitionAnimation,AK:()=>xe.g,n$:()=>xe.a,hh:()=>e.c,re:()=>U.a,Jd:()=>U.c,kx:()=>U.L,EQ:()=>U.b,F8:()=>U.d,Cl:()=>f.a,G0:()=>f.l,Fy:()=>f.m,oq:()=>f.c,qc:()=>d});var m=se(936),xe=(se(8447),se(3139),se(6254)),e=se(1643),U=se(7249),f=(se(6708),se(1450));se(3509),se(2361);const d=i=>{const c=window,h=c.Ionic;if(!h||!h.config||"Object"===h.config.constructor.name)return c.Ionic=c.Ionic||{},c.Ionic.config=Object.assign(Object.assign({},c.Ionic.config),i),c.Ionic.config}},6254:(hn,Mt,se)=>{"use strict";se.d(Mt,{a:()=>d,b:()=>Z,c:()=>Xe,g:()=>a,i:()=>oe});var m=se(2361);class ye{constructor(){this.m=new Map}reset(te){this.m=new Map(Object.entries(te))}get(te,me){const ce=this.m.get(te);return void 0!==ce?ce:me}getBoolean(te,me=!1){const ce=this.m.get(te);return void 0===ce?me:"string"==typeof ce?"true"===ce:!!ce}getNumber(te,me){const ce=parseFloat(this.m.get(te));return isNaN(ce)?void 0!==me?me:NaN:ce}set(te,me){this.m.set(te,me)}}const Xe=new ye,f="ionic:",o="ionic-persist-config",a=Q=>u(Q),d=(Q,te)=>("string"==typeof Q&&(te=Q,Q=void 0),a(Q).includes(te)),u=(Q=window)=>{if(void 0===Q)return[];Q.Ionic=Q.Ionic||{};let te=Q.Ionic.platforms;return null==te&&(te=Q.Ionic.platforms=p(Q),te.forEach(me=>Q.document.documentElement.classList.add(`plt-${me}`))),te},p=Q=>{const te=Xe.get("platform");return Object.keys($).filter(me=>{const ce=null==te?void 0:te[me];return"function"==typeof ce?ce(Q):$[me](Q)})},r=Q=>!!(G(Q,/iPad/i)||G(Q,/Macintosh/i)&&w(Q)),h=Q=>G(Q,/android|sink/i),w=Q=>ee(Q,"(any-pointer:coarse)"),N=Q=>M(Q)||F(Q),M=Q=>!!(Q.cordova||Q.phonegap||Q.PhoneGap),F=Q=>{const te=Q.Capacitor;return!!(null==te?void 0:te.isNative)},G=(Q,te)=>te.test(Q.navigator.userAgent),ee=(Q,te)=>{var me;return null===(me=Q.matchMedia)||void 0===me?void 0:me.call(Q,te).matches},$={ipad:r,iphone:Q=>G(Q,/iPhone/i),ios:Q=>G(Q,/iPhone|iPod/i)||r(Q),android:h,phablet:Q=>{const te=Q.innerWidth,me=Q.innerHeight,ce=Math.min(te,me),he=Math.max(te,me);return ce>390&&ce<520&&he>620&&he<800},tablet:Q=>{const te=Q.innerWidth,me=Q.innerHeight,ce=Math.min(te,me),he=Math.max(te,me);return r(Q)||(Q=>h(Q)&&!G(Q,/mobile/i))(Q)||ce>460&&ce<820&&he>780&&he<1400},cordova:M,capacitor:F,electron:Q=>G(Q,/electron/i),pwa:Q=>{var te;return!(!(null===(te=Q.matchMedia)||void 0===te?void 0:te.call(Q,"(display-mode: standalone)").matches)&&!Q.navigator.standalone)},mobile:w,mobileweb:Q=>w(Q)&&!N(Q),desktop:Q=>!w(Q),hybrid:N};let H;const Z=Q=>Q&&(0,m.g)(Q)||H,oe=(Q={})=>{if("undefined"==typeof window)return;const te=window.document,me=window,ce=me.Ionic=me.Ionic||{},he={};Q._ael&&(he.ael=Q._ael),Q._rel&&(he.rel=Q._rel),Q._ce&&(he.ce=Q._ce),(0,m.s)(he);const Ae=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Q=>{try{const te=Q.sessionStorage.getItem(o);return null!==te?JSON.parse(te):{}}catch(te){return{}}})(me)),{persistConfig:!1}),ce.config),(Q=>{const te={};return Q.location.search.slice(1).split("&").map(me=>me.split("=")).map(([me,ce])=>[decodeURIComponent(me),decodeURIComponent(ce)]).filter(([me])=>((Q,te)=>Q.substr(0,te.length)===te)(me,f)).map(([me,ce])=>[me.slice(f.length),ce]).forEach(([me,ce])=>{te[me]=ce}),te})(me)),Q);Xe.reset(Ae),Xe.getBoolean("persistConfig")&&((Q,te)=>{try{Q.sessionStorage.setItem(o,JSON.stringify(te))}catch(me){return}})(me,Ae),u(me),ce.config=Xe,ce.mode=H=Xe.get("mode",te.documentElement.getAttribute("mode")||(d(me,"ios")?"ios":"md")),Xe.set("mode",H),te.documentElement.setAttribute("mode",H),te.documentElement.classList.add(H),Xe.getBoolean("_testing")&&Xe.set("animated",!1);const A=K=>{var we;return null===(we=K.tagName)||void 0===we?void 0:we.startsWith("ION-")},q=K=>["ios","md"].includes(K);(0,m.a)(K=>{for(;K;){const we=K.mode||K.getAttribute("mode");if(we){if(q(we))return we;A(K)&&console.warn('Invalid ionic mode: "'+we+'", expected: "ios" or "md"')}K=K.parentElement}return H})}},936:(hn,Mt,se)=>{"use strict";se.r(Mt),se.d(Mt,{iosTransitionAnimation:()=>u,shadow:()=>U});var m=se(8015),ye=se(7249);se(2361);const e=p=>document.querySelector(`${p}.ion-cloned-element`),U=p=>p.shadowRoot||p,E=p=>{const s="ION-TABS"===p.tagName?p:p.querySelector("ion-tabs"),r="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=s){const i=s.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=i?i.querySelector(r):null}return p.querySelector(r)},f=(p,s)=>{const r="ION-TABS"===p.tagName?p:p.querySelector("ion-tabs");let i=[];if(null!=r){const c=r.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=c&&(i=c.querySelectorAll("ion-buttons"))}else i=p.querySelectorAll("ion-buttons");for(const c of i){const h=c.closest("ion-header"),y=h&&!h.classList.contains("header-collapse-condense-inactive"),v=c.querySelector("ion-back-button"),x=c.classList.contains("buttons-collapse"),w="start"===c.slot||""===c.slot;if(null!==v&&w&&(x&&y&&s||!x))return v}return null},a=(p,s,r,i,c,h)=>{const y=s?`calc(100% - ${h.right+4}px)`:h.left-4+"px",v=s?"7px":"-7px",x=s?"-4px":"4px",w=s?"-4px":"4px",C=s?"right":"left",N=s?"left":"right",j=r?[{offset:0,opacity:1,transform:`translate3d(${x}, ${h.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${v}, ${c.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${v}, ${c.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${x}, ${h.top-46}px, 0) scale(1)`}],ee=r?[{offset:0,opacity:1,transform:`translate3d(${w}, ${h.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${w}, ${h.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${w}, ${h.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${w}, ${h.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${w}, ${h.top-46}px, 0) scale(1)`}],$=(0,m.c)(),H=(0,m.c)(),Z=e("ion-back-button"),oe=U(Z).querySelector(".button-text"),Q=U(Z).querySelector("ion-icon");Z.text=i.text,Z.mode=i.mode,Z.icon=i.icon,Z.color=i.color,Z.disabled=i.disabled,Z.style.setProperty("display","block"),Z.style.setProperty("position","fixed"),H.addElement(Q),$.addElement(oe),$.beforeStyles({"transform-origin":`${C} center`}).beforeAddWrite(()=>{i.style.setProperty("display","none"),Z.style.setProperty(C,y)}).afterAddWrite(()=>{i.style.setProperty("display",""),Z.style.setProperty("display","none"),Z.style.removeProperty(C)}).keyframes(j),H.beforeStyles({"transform-origin":`${N} center`}).keyframes(ee),p.addAnimation([$,H])},d=(p,s,r,i,c,h)=>{const y=s?`calc(100% - ${c.right}px)`:`${c.left}px`,v=s?"-18px":"18px",x=s?"right":"left",N=r?[{offset:0,opacity:0,transform:`translate3d(${v}, ${h.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${c.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${c.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${v}, ${h.top-4}px, 0) scale(0.5)`}],M=e("ion-title"),F=(0,m.c)();M.innerText=i.innerText,M.size=i.size,M.color=i.color,F.addElement(M),F.beforeStyles({"transform-origin":`${x} center`,height:"46px",display:"",position:"relative",[x]:y}).beforeAddWrite(()=>{i.style.setProperty("display","none")}).afterAddWrite(()=>{i.style.setProperty("display",""),M.style.setProperty("display","none")}).keyframes(N),p.addAnimation(F)},u=(p,s)=>{try{const r="cubic-bezier(0.32,0.72,0,1)",i="opacity",c="transform",h="0%",v="rtl"===p.ownerDocument.dir,x=v?"-99.5%":"99.5%",w=v?"33%":"-33%",C=s.enteringEl,N=s.leavingEl,M="back"===s.direction,F=C.querySelector(":scope > ion-content"),j=C.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),B=C.querySelectorAll(":scope > ion-header > ion-toolbar"),G=(0,m.c)(),ee=(0,m.c)();if(G.addElement(C).duration(s.duration||540).easing(s.easing||r).fill("both").beforeRemoveClass("ion-page-invisible"),N&&p){const oe=(0,m.c)();oe.addElement(p),G.addAnimation(oe)}if(F||0!==B.length||0!==j.length?(ee.addElement(F),ee.addElement(j)):ee.addElement(C.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),G.addAnimation(ee),M?ee.beforeClearStyles([i]).fromTo("transform",`translateX(${w})`,`translateX(${h})`).fromTo(i,.8,1):ee.beforeClearStyles([i]).fromTo("transform",`translateX(${x})`,`translateX(${h})`),F){const oe=U(F).querySelector(".transition-effect");if(oe){const Q=oe.querySelector(".transition-cover"),te=oe.querySelector(".transition-shadow"),me=(0,m.c)(),ce=(0,m.c)(),he=(0,m.c)();me.addElement(oe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ce.addElement(Q).beforeClearStyles([i]).fromTo(i,0,.1),he.addElement(te).beforeClearStyles([i]).fromTo(i,.03,.7),me.addAnimation([ce,he]),ee.addAnimation([me])}}const $=C.querySelector("ion-header.header-collapse-condense"),{forward:H,backward:Z}=((p,s,r,i,c)=>{const h=f(i,r),y=E(c),v=E(i),x=f(c,r),w=null!==h&&null!==y&&!r,C=null!==v&&null!==x&&r;if(w){const N=y.getBoundingClientRect(),M=h.getBoundingClientRect();d(p,s,r,y,N,M),a(p,s,r,h,N,M)}else if(C){const N=v.getBoundingClientRect(),M=x.getBoundingClientRect();d(p,s,r,v,N,M),a(p,s,r,x,N,M)}return{forward:w,backward:C}})(G,v,M,C,N);if(B.forEach(oe=>{const Q=(0,m.c)();Q.addElement(oe),G.addAnimation(Q);const te=(0,m.c)();te.addElement(oe.querySelector("ion-title"));const me=(0,m.c)(),ce=Array.from(oe.querySelectorAll("ion-buttons,[menuToggle]")),he=oe.closest("ion-header"),Ae=null==he?void 0:he.classList.contains("header-collapse-condense-inactive");let A;A=ce.filter(M?Te=>{const Ie=Te.classList.contains("buttons-collapse");return Ie&&!Ae||!Ie}:Te=>!Te.classList.contains("buttons-collapse")),me.addElement(A);const q=(0,m.c)();q.addElement(oe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const K=(0,m.c)();K.addElement(U(oe).querySelector(".toolbar-background"));const we=(0,m.c)(),Fe=oe.querySelector("ion-back-button");if(Fe&&we.addElement(Fe),Q.addAnimation([te,me,q,K,we]),me.fromTo(i,.01,1),q.fromTo(i,.01,1),M)Ae||te.fromTo("transform",`translateX(${w})`,`translateX(${h})`).fromTo(i,.01,1),q.fromTo("transform",`translateX(${w})`,`translateX(${h})`),we.fromTo(i,.01,1);else if($||te.fromTo("transform",`translateX(${x})`,`translateX(${h})`).fromTo(i,.01,1),q.fromTo("transform",`translateX(${x})`,`translateX(${h})`),K.beforeClearStyles([i,"transform"]),(null==he?void 0:he.translucent)?K.fromTo("transform",v?"translateX(-100%)":"translateX(100%)","translateX(0px)"):K.fromTo(i,.01,"var(--opacity)"),H||we.fromTo(i,.01,1),Fe&&!H){const Ie=(0,m.c)();Ie.addElement(U(Fe).querySelector(".button-text")).fromTo("transform",v?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Q.addAnimation(Ie)}}),N){const oe=(0,m.c)(),Q=N.querySelector(":scope > ion-content"),te=N.querySelectorAll(":scope > ion-header > ion-toolbar"),me=N.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Q||0!==te.length||0!==me.length?(oe.addElement(Q),oe.addElement(me)):oe.addElement(N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),G.addAnimation(oe),M){oe.beforeClearStyles([i]).fromTo("transform",`translateX(${h})`,v?"translateX(-100%)":"translateX(100%)");const ce=(0,ye.g)(N);G.afterAddWrite(()=>{"normal"===G.getDirection()&&ce.style.setProperty("display","none")})}else oe.fromTo("transform",`translateX(${h})`,`translateX(${w})`).fromTo(i,1,.8);if(Q){const ce=U(Q).querySelector(".transition-effect");if(ce){const he=ce.querySelector(".transition-cover"),Ae=ce.querySelector(".transition-shadow"),A=(0,m.c)(),q=(0,m.c)(),K=(0,m.c)();A.addElement(ce).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),q.addElement(he).beforeClearStyles([i]).fromTo(i,.1,0),K.addElement(Ae).beforeClearStyles([i]).fromTo(i,.7,.03),A.addAnimation([q,K]),oe.addAnimation([A])}}te.forEach(ce=>{const he=(0,m.c)();he.addElement(ce);const Ae=(0,m.c)();Ae.addElement(ce.querySelector("ion-title"));const A=(0,m.c)(),q=ce.querySelectorAll("ion-buttons,[menuToggle]"),K=ce.closest("ion-header"),we=null==K?void 0:K.classList.contains("header-collapse-condense-inactive"),Fe=Array.from(q).filter(mt=>{const Re=mt.classList.contains("buttons-collapse");return Re&&!we||!Re});A.addElement(Fe);const Te=(0,m.c)(),Ie=ce.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Ie.length>0&&Te.addElement(Ie);const Ve=(0,m.c)();Ve.addElement(U(ce).querySelector(".toolbar-background"));const Ue=(0,m.c)(),et=ce.querySelector("ion-back-button");if(et&&Ue.addElement(et),he.addAnimation([Ae,A,Te,Ue,Ve]),G.addAnimation(he),Ue.fromTo(i,.99,0),A.fromTo(i,.99,0),Te.fromTo(i,.99,0),M){if(we||Ae.fromTo("transform",`translateX(${h})`,v?"translateX(-100%)":"translateX(100%)").fromTo(i,.99,0),Te.fromTo("transform",`translateX(${h})`,v?"translateX(-100%)":"translateX(100%)"),Ve.beforeClearStyles([i,"transform"]),(null==K?void 0:K.translucent)?Ve.fromTo("transform","translateX(0px)",v?"translateX(-100%)":"translateX(100%)"):Ve.fromTo(i,"var(--opacity)",0),et&&!Z){const Re=(0,m.c)();Re.addElement(U(et).querySelector(".button-text")).fromTo("transform",`translateX(${h})`,`translateX(${(v?-124:124)+"px"})`),he.addAnimation(Re)}}else we||Ae.fromTo("transform",`translateX(${h})`,`translateX(${w})`).fromTo(i,.99,0).afterClearStyles([c,i]),Te.fromTo("transform",`translateX(${h})`,`translateX(${w})`).afterClearStyles([c,i]),Ue.afterClearStyles([i]),Ae.afterClearStyles([i]),A.afterClearStyles([i])})}return G}catch(r){throw r}}},8447:(hn,Mt,se)=>{"use strict";se.r(Mt),se.d(Mt,{mdTransitionAnimation:()=>xe});var m=se(8015),ye=se(7249);se(2361);const xe=(e,U)=>{const o="back"===U.direction,d=U.leavingEl,u=(0,ye.g)(U.enteringEl),p=u.querySelector("ion-toolbar"),s=(0,m.c)();if(s.addElement(u).fill("both").beforeRemoveClass("ion-page-invisible"),o?s.duration(U.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):s.duration(U.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),p){const r=(0,m.c)();r.addElement(p),s.addAnimation(r)}if(d&&o){s.duration(U.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const r=(0,m.c)();r.addElement((0,ye.g)(d)).onFinish(i=>{1===i&&r.elements.length>0&&r.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),s.addAnimation(r)}return s}},1450:(hn,Mt,se)=>{"use strict";se.d(Mt,{B:()=>ce,a:()=>f,b:()=>o,c:()=>p,d:()=>B,e:()=>r,f:()=>ee,g:()=>Z,h:()=>U,i:()=>Q,j:()=>y,k:()=>F,l:()=>a,m:()=>d,s:()=>me});var m=se(5861),ye=se(6254),Xe=se(7593),xe=se(1643);let e=0;const U=new WeakMap,E=he=>({create:Ae=>i(he,Ae),dismiss:(Ae,A,q)=>N(document,Ae,A,he,q),getTop:()=>(0,m.Z)(function*(){return F(document,he)})()}),f=E("ion-alert"),o=E("ion-action-sheet"),a=E("ion-loading"),d=E("ion-modal"),p=E("ion-popover"),r=he=>{"undefined"!=typeof document&&C(document);const Ae=e++;he.overlayIndex=Ae,he.hasAttribute("id")||(he.id=`ion-overlay-${Ae}`)},i=(he,Ae)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(he).then(()=>{const A=document.createElement(he);return A.classList.add("overlay-hidden"),Object.assign(A,Object.assign(Object.assign({},Ae),{hasController:!0})),$(document).appendChild(A),new Promise(q=>(0,xe.c)(A,q))}):Promise.resolve(),c='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',h="input:not([type=hidden]), textarea, button, select",y=(he,Ae)=>{let A=he.querySelector(c);const q=null==A?void 0:A.shadowRoot;q&&(A=q.querySelector(h)||A),A?(0,xe.f)(A):Ae.focus()},x=(he,Ae)=>{const A=Array.from(he.querySelectorAll(c));let q=A.length>0?A[A.length-1]:null;const K=null==q?void 0:q.shadowRoot;K&&(q=K.querySelector(h)||q),q?q.focus():Ae.focus()},C=he=>{0===e&&(e=1,he.addEventListener("focus",Ae=>{((he,Ae)=>{const A=F(Ae,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),q=he.target;A&&q&&!A.classList.contains("ion-disable-focus-trap")&&(A.shadowRoot?(()=>{if(A.contains(q))A.lastFocus=q;else{const Fe=A.lastFocus;y(A,A),Fe===Ae.activeElement&&x(A,A),A.lastFocus=Ae.activeElement}})():(()=>{if(A===q)A.lastFocus=void 0;else{const Fe=(0,xe.g)(A);if(!Fe.contains(q))return;const Te=Fe.querySelector(".ion-overlay-wrapper");if(!Te)return;if(Te.contains(q))A.lastFocus=q;else{const Ie=A.lastFocus;y(Te,A),Ie===Ae.activeElement&&x(Te,A),A.lastFocus=Ae.activeElement}}})())})(Ae,he)},!0),he.addEventListener("ionBackButton",Ae=>{const A=F(he);(null==A?void 0:A.backdropDismiss)&&Ae.detail.register(Xe.OVERLAY_BACK_BUTTON_PRIORITY,()=>A.dismiss(void 0,ce))}),he.addEventListener("keyup",Ae=>{if("Escape"===Ae.key){const A=F(he);(null==A?void 0:A.backdropDismiss)&&A.dismiss(void 0,ce)}}))},N=(he,Ae,A,q,K)=>{const we=F(he,q,K);return we?we.dismiss(Ae,A):Promise.reject("overlay does not exist")},F=(he,Ae,A)=>{const q=((he,Ae)=>(void 0===Ae&&(Ae="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(he.querySelectorAll(Ae)).filter(A=>A.overlayIndex>0)))(he,Ae).filter(K=>!(he=>he.classList.contains("overlay-hidden"))(K));return void 0===A?q[q.length-1]:q.find(K=>K.id===A)},j=(he=!1)=>{const A=$(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!A||(he?A.setAttribute("aria-hidden","true"):A.removeAttribute("aria-hidden"))},B=function(){var he=(0,m.Z)(function*(Ae,A,q,K,we){var Fe,Te;if(Ae.presented)return;j(!0),Ae.presented=!0,Ae.willPresent.emit(),null===(Fe=Ae.willPresentShorthand)||void 0===Fe||Fe.emit();const Ie=(0,ye.b)(Ae),Ve=Ae.enterAnimation?Ae.enterAnimation:ye.c.get(A,"ios"===Ie?q:K);(yield H(Ae,Ve,Ae.el,we))&&(Ae.didPresent.emit(),null===(Te=Ae.didPresentShorthand)||void 0===Te||Te.emit()),"ION-TOAST"!==Ae.el.tagName&&G(Ae.el),Ae.keyboardClose&&Ae.el.focus()});return function(A,q,K,we,Fe){return he.apply(this,arguments)}}(),G=function(){var he=(0,m.Z)(function*(Ae){let A=document.activeElement;if(!A)return;const q=null==A?void 0:A.shadowRoot;q&&(A=q.querySelector(h)||A),yield Ae.onDidDismiss(),A.focus()});return function(A){return he.apply(this,arguments)}}(),ee=function(){var he=(0,m.Z)(function*(Ae,A,q,K,we,Fe,Te){var Ie,Ve;if(!Ae.presented)return!1;j(!1),Ae.presented=!1;try{Ae.el.style.setProperty("pointer-events","none"),Ae.willDismiss.emit({data:A,role:q}),null===(Ie=Ae.willDismissShorthand)||void 0===Ie||Ie.emit({data:A,role:q});const Ue=(0,ye.b)(Ae),et=Ae.leaveAnimation?Ae.leaveAnimation:ye.c.get(K,"ios"===Ue?we:Fe);"gesture"!==q&&(yield H(Ae,et,Ae.el,Te)),Ae.didDismiss.emit({data:A,role:q}),null===(Ve=Ae.didDismissShorthand)||void 0===Ve||Ve.emit({data:A,role:q}),U.delete(Ae),Ae.el.classList.add("overlay-hidden"),Ae.el.style.removeProperty("pointer-events")}catch(Ue){console.error(Ue)}return Ae.el.remove(),!0});return function(A,q,K,we,Fe,Te,Ie){return he.apply(this,arguments)}}(),$=he=>he.querySelector("ion-app")||he.body,H=function(){var he=(0,m.Z)(function*(Ae,A,q,K){q.classList.remove("overlay-hidden");const Fe=A(Ae.el,K);(!Ae.animated||!ye.c.getBoolean("animated",!0))&&Fe.duration(0),Ae.keyboardClose&&Fe.beforeAddWrite(()=>{const Ie=q.ownerDocument.activeElement;(null==Ie?void 0:Ie.matches("input,ion-input, ion-textarea"))&&Ie.blur()});const Te=U.get(Ae)||[];return U.set(Ae,[...Te,Fe]),yield Fe.play(),!0});return function(A,q,K,we){return he.apply(this,arguments)}}(),Z=(he,Ae)=>{let A;const q=new Promise(K=>A=K);return oe(he,Ae,K=>{A(K.detail)}),q},oe=(he,Ae,A)=>{const q=K=>{(0,xe.b)(he,Ae,q),A(K)};(0,xe.a)(he,Ae,q)},Q=he=>"cancel"===he||he===ce,te=he=>he(),me=(he,Ae)=>{if("function"==typeof he)return ye.c.get("_zoneGate",te)(()=>{try{return he(Ae)}catch(q){throw q}})},ce="backdrop"},5016:(hn,Mt,se)=>{"use strict";se.d(Mt,{y$:()=>v,Oy:()=>y,GA:()=>h,n$:()=>c});var m=se(655);const Xe=(0,se(7423).fo)("App",{web:()=>se.e(4477).then(se.bind(se,4477)).then(x=>new x.AppWeb)});var xe=se(2722),e=se(3041),U=se(1716),E=se(8982),f=se(9863),o=se(3996),a=se(9705),d=se(8677),u=se(2855),p=se(9040),s=se(9912),r=se(3496),i=se(5742),c="DesktopPWA";const h="pjcone.ddns.net",y="https://is2you2.github.io/";let v=(()=>{class x{constructor(C,N,M,F,j,B,G,ee,$,H,Z){this.platform=C,this.nakama=G,this.modalCtrl=$,this.lang=Z,C.is("desktop")?c="DesktopPWA":C.is("mobileweb")?c="MobilePWA":C.is("android")?c="Android":C.is("iphone")&&(c="iOS"),F.initialize(),this.init_admob(),j.initialize(),j.received.all_noti=oe=>{F.PushLocal({id:2,title:Z.text.Administrator.AssistServNoti,body:oe.text,smallIcon_ln:"icon_mono",iconColor_ln:"ffd94e",image:oe.img},void 0)},j.received.admin_noti=oe=>{j.is_admin=!0,F.PushLocal({id:0,title:Z.text.Administrator.AdminNotiTitle,body:Z.text.Administrator[oe.text],smallIcon_ln:"icon_mono",iconColor_ln:"ffd94e",autoCancel_ln:!0,timeoutAfter_ln:8e3},void 0),setTimeout(()=>{F.ClearNoti(0)},8e3)},ee.initialize(()=>{G.initialize()}),("Android"==c||"iOS"==c)&&Xe.addListener("appUrlOpen",oe=>{M.run(()=>{const Q=oe.url.split(".app").pop();Q&&N.navigateByUrl(Q)})}),F.SetListener("click",oe=>{if(oe.data.page){let Q,me,te=oe.data.page.componentProps;switch(oe.data.page.component){case"ChatRoomPage":Q=e.P,me=te.info.noti_id;break;case"MinimalChatPage":Q=xe.X,me=te.noti_id;break;case"AddTodoMenuPage":Q=E.s,te={data:te.data},me=JSON.parse(te.data).id;break;case"NakamaReqContTitle":let ce=G.servers[te.data.isOfficial][te.data.Target],he="";return he+=`${Z.text.Nakama.ReqContServer}: ${te.data.serverName}<br>`,he+=`${Z.text.Nakama.ReqContUserName}: ${te.data.userName}`,void H.create({header:Z.text.Nakama.ReqContTitle,message:he,buttons:[{text:Z.text.Nakama.ReqContAccept,handler:()=>{ce.client.addGroupUsers(ce.session,te.data.group_id,[te.data.user_id]).then(Ae=>{Ae||console.warn("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),ce.client.deleteNotifications(ce.session,[te.data.noti_id]).then(A=>{A?G.update_notifications(te.data.isOfficial,te.data.Target):console.warn("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",A)})})}},{text:Z.text.Nakama.ReqContReject,handler:()=>{ce.client.kickGroupUsers(ce.session,te.data.group_id,[te.data.user_id]).then(Ae=>{Ae||console.warn("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),ce.client.deleteNotifications(ce.session,[te.data.noti_id]),G.update_notifications(te.data.isOfficial,te.data.Target)})}}]}).then(Ae=>Ae.present());default:console.warn("\uc900\ube44\ub41c \ud398\uc774\uc9c0\uac00 \uc544\ub2d8: ",oe.data.page.component)}if(me==F.Current)return;this.waiting_open_page(oe,Q,te)}}),B.enable()}waiting_open_page(C,N,M){return(0,m.mG)(this,void 0,void 0,function*(){try{if("godot"!=window.godot)throw"\uace0\ub3c4\uc5d4\uc9c4 \uc900\ube44\ub418\uc9c0 \uc54a\uc74c";let F=yield this.modalCtrl.create({component:N,componentProps:M});switch(C.data.page.component){case"ChatRoomPage":if(!this.lang.text.ChatRoom.YouReadHereLast)throw"ChatRoomPage \ubc88\uc5ed \uc900\ube44\uc911";if(M.info.noti_id)throw M={info:this.nakama.channels_orig[M.info.isOfficial][M.info.target][M.info.id]},"ChatRoomPage props \uc7ac\uc815\ube44";this.nakama.go_to_chatroom_without_admob_act(F),("online"!=M.info.status||"pending"!=M.info.status)&&delete M.info.is_new,this.nakama.rearrange_channels();break;case"MinimalChatPage":if(!this.lang.text.MinimalChat.leave_chat_group)throw"MinimalChatPage \ubc88\uc5ed \uc900\ube44\uc911";F.present();break;case"AddTodoMenuPage":if(!this.lang.text.TodoDetail.WIP)throw"AddTodoMenuPage \ubc88\uc5ed \uc900\ube44\uc911";F.present();break;default:console.warn("\uc900\ube44\ub41c \ud398\uc774\uc9c0 \ud589\ub3d9 \uc5c6\uc74c: ",C.data.page.component),F.present()}}catch(F){console.log("retry open notification clicked because... : ",F),setTimeout(()=>{this.waiting_open_page(C,N,M)},1e3)}})}init_admob(){this.platform.ready().then(()=>{U.TQ.initialize({testingDevices:[],initializeForTesting:!0})})}}return x.\u0275fac=function(C){return new(C||x)(f.Y36(o.t4),f.Y36(a.F0),f.Y36(f.R0b),f.Y36(d.J),f.Y36(u.Z),f.Y36(p.z),f.Y36(s.a),f.Y36(r.H),f.Y36(o.IN),f.Y36(o.Br),f.Y36(i.b))},x.\u0275cmp=f.Xpm({type:x,selectors:[["app-root"]],decls:2,vars:0,template:function(C,N){1&C&&(f.TgZ(0,"ion-app"),f._UZ(1,"ion-router-outlet"),f.qZA())},directives:[o.dr,o.jP],styles:[""]}),x})()},1282:(hn,Mt,se)=>{"use strict";se.d(Mt,{Y:()=>o,A:()=>a});var m=se(358),Xe=se(6505),e=se(9863),U=se(3336),E=se(5742),f=se(2313),o=!1;let a=(()=>{class d{constructor(p,s,r){this.p5toast=p,this.lang=s,this.sanitizer=r,o=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}CatchGETs(){const s=location.href.split("?");if(s.length>1){const r=s[1].split("&");let i={};for(let c=0,h=r.length;c<h;c++){const y=r[c].split("=");i[y[0]]||(i[y[0]]=[]),i[y[0]].push(y[1])}return i}}readasQRCodeFromId(p){try{let s=new m({content:`[${JSON.stringify(p)}]`,padding:4,width:8,height:8,color:o?"#bbb":"#444",background:o?"#111":"#fff",ecl:"M"}).svg();return this.sanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${btoa(s)}`)}catch(s){this.p5toast.show({text:`${this.lang.text.LinkAccount.failed_to_gen_qr}: ${s}`})}}CreateGodotIFrame(p,s){return new Promise(r=>{let i=()=>{"godot"==window.godot?r():setTimeout(()=>{i()},1e3)};if(this.last_frame_name==p&&this.godot.isConnected)return void r();window.godot="",this.godot&&this.godot.remove(),this.last_frame_name=p;let c=document.createElement("iframe");c.id="godot",c.setAttribute("src","assets/html/index.html"),c.setAttribute("frameborder","0"),c.setAttribute("class","full_screen"),c.setAttribute("allow","fullscreen; encrypted-media"),c.setAttribute("scrolling","no"),c.setAttribute("withCredentials","true"),s.local_url&&(s.url=`${window.location.protocol}//${window.location.host}${window.sub_path}${s.local_url}`),s.failed=()=>{this.p5toast.show({text:`${this.lang.text.GlobalAct.FailedToDownloadGodot}: ${s.title}`,lateable:!0})},document.getElementById(p).appendChild(c),this.godot_window=c.contentWindow||c.contentDocument,Object.keys(s).forEach(v=>this.godot_window[v]=s[v]),this.godot=c,i()})}modulate_thumbnail(p,s){switch(p.viewer){case"image":if(p.img)return;p.img=this.sanitizer.bypassSecurityTrustUrl(s),setTimeout(()=>{URL.revokeObjectURL(s)},0);break;case"text":new Xe(r=>{r.setup=()=>{r.loadStrings(s,i=>{p.text=i,URL.revokeObjectURL(s),r.remove()},i=>{console.error("\ud14d\uc2a4\ud2b8 \uc5f4\ub78c \ubd88\uac00: ",i),p.text=[this.lang.text.ChatRoom.downloaded],URL.revokeObjectURL(s),r.remove()})}});break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uce74\ud14c\uace0\ub9ac-viewer\ubd84\ub958: ",p),URL.revokeObjectURL(s)}}set_viewer_category(p){try{if(0==p.type.indexOf("image/"))p.viewer="image";else if(0==p.type.indexOf("audio/"))p.viewer="audio";else if(0==p.type.indexOf("video/"))p.viewer="video";else{if(0!=p.type.indexOf("text/"))throw"\uc790\ub3d9\uc9c0\uc815\ub418\uc9c0 \uc54a\uc740 \ud0c0\uc785";p.viewer="text"}}catch(s){this.set_viewer_category_from_ext(p)}}set_viewer_category_from_ext(p){switch(p.file_ext){case"pck":p.viewer="godot";break;case"png":case"jpeg":case"jpg":case"webp":case"gif":p.viewer="image";break;case"wav":case"ogg":case"mp3":p.viewer="audio";break;case"mp4":case"ogv":case"webm":p.viewer="video";break;case"md":case"txt":case"cs":case"gd":case"py":case"yml":case"gitignore":case"json":case"csv":case"ts":case"js":case"shader":p.viewer="text";break;default:p.viewer="disabled"}}GetBase64ThroughFileReader(p){return new Promise((s,r)=>{var i;let c=new FileReader;c=null!==(i=c._realReader)&&void 0!==i?i:c,c.onload=h=>{s(h.target.result.replace(/"|\\|=/g,""))},c.onerror=h=>{r(h)},c.readAsDataURL(p)})}}return d.\u0275fac=function(p){return new(p||d)(e.LFG(U.F),e.LFG(E.b),e.LFG(f.H7))},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},3496:(hn,Mt,se)=>{"use strict";se.d(Mt,{H:()=>xe});var m=se(9863),ye=se(3336),Xe=se(5742);let xe=(()=>{class e{constructor(E,f){this.p5toast=E,this.lang=f}initialize(E=(()=>{})){if(!this.db)if("godot"==window.godot){let f=indexedDB.open("/userfs",21);f.onsuccess=o=>{this.db=f.result,E()},f.onerror=o=>{console.error("IndexedDB initialized failed: ",o),E()}}else console.log("retry initialize.."),setTimeout(()=>{this.initialize(E)},1e3)}createRecursiveDirectory(E){let f=E.lastIndexOf("/"),o=E.substring(0,f);!o||this.checkIfFileExist(o,a=>{if(!a){let d=this.db.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${o}`);d.onsuccess=u=>{"success"!=u.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",E),this.createRecursiveDirectory(o)},d.onerror=u=>{console.error("IndexedDB createRecursiveDirectory failed: ",u)}}})}saveTextFileToUserPath(E,f,o=(a=>{})){return this.db?(this.createRecursiveDirectory(f),new Promise((a,d)=>{let u=this.db.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:(new TextEncoder).encode(E)},`/userfs/${f}`);u.onsuccess=p=>{"success"!=p.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),o(p),a(p)},u.onerror=p=>{console.error("IndexedDB saveFileToUserPath failed: ",p),d(p)}})):(console.log("retry saveTextFileToUserPath.."),void setTimeout(()=>{this.saveTextFileToUserPath(E,f,o)},1e3))}saveFileToUserPath(E,f,o=(a=>{})){return this.db?new Promise((a,d)=>{let u=atob(E.split(",")[1]),p=new ArrayBuffer(u.length),s=new Int8Array(p);for(let i=0,c=u.length;i<c;i++)s[i]=u.charCodeAt(i);this.createRecursiveDirectory(f);let r=this.db.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:s},`/userfs/${f}`);r.onsuccess=i=>{"success"!=i.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),o(s),a(s)},r.onerror=i=>{console.error("IndexedDB saveFileToUserPath failed: ",i),d(i)}}):(console.log("retry saveFileToUserPath.."),void setTimeout(()=>{this.saveFileToUserPath(E,f,o)},1e3))}checkIfFileExist(E,f=(o=>{console.log("checkIfFileExist act null")})){if(!this.db)return console.log("retry checkIfFileExist.."),void setTimeout(()=>{this.checkIfFileExist(E,f)},1e3);let o=this.db.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").count(`/userfs/${E}`);o.onsuccess=a=>{f(a.target.result)},o.onerror=a=>{console.error("IndexedDB CheckIfFileExist failed: ",a)}}GetFileListFromDB(E,f=(o=>{})){if(!this.db)return console.log("retry GetFileListFromDB.."),void setTimeout(()=>{this.GetFileListFromDB(E,f)},1e3);let o=this.db.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").getAllKeys();return new Promise((a,d)=>{o.onsuccess=u=>{const p=u.target.result;for(let s=p.length-1;s>=0;s--)p[s].includes(E)?p[s]=p[s].substring(8):p.splice(s,1);f(p),a(p)},o.onerror=u=>{console.error("IndexedDB GetFileListFromDir failed: ",u),d(u)}})}GetFileInfoFromDB(E,f=(o=>{})){if(!this.db)return console.log("retry GetFileInfoFromDB.."),void setTimeout(()=>{this.GetFileInfoFromDB(E,f)},1e3);let o=this.db.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${E}`);return new Promise((a,d)=>{o.onsuccess=u=>{const p=u.target.result;f(p),a(p)},o.onerror=u=>{console.error("IndexedDB GetFileListFromDir failed: ",u),d(u)}})}loadTextFromUserPath(E,f=((o,a)=>console.log("loadTextFromUserPath act null"))){if(!this.db)return console.log("retry loadTextFromUserPath.."),void setTimeout(()=>{this.loadTextFromUserPath(E,f)},1e3);let o=this.db.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${E}`);o.onsuccess=a=>{a.target.result?f(!0,(new TextDecoder).decode(a.target.result.contents)):f(!1,`No file: , ${E}`)},o.onerror=a=>{console.error("IndexedDB loadTextFromUserPath failed: ",a)}}loadBlobFromUserPath(E,f,o=(a=>{})){if(!this.db)return console.log("retry loadBlobFromUserPath.."),void setTimeout(()=>{this.loadBlobFromUserPath(E,f,o)},1e3);let a=this.db.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${E}`);return new Promise((d,u)=>{a.onsuccess=p=>{try{let s=new Blob([p.target.result.contents],{type:f});o(s),d(s)}catch(s){this.p5toast.show({text:`${this.lang.text.IndexedDB.FailedToOpenFile}: ${s}`}),u(s)}},a.onerror=p=>{console.error("IndexedDB loadBlobFromUserPath failed: ",p),u(p)}})}DownloadFileFromUserPath(E,f,o){if(!this.db)return console.log("retry DownloadFileFromUserPath.."),void setTimeout(()=>{this.DownloadFileFromUserPath(E,f,o)},1e3);let a=this.db.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${E}`);a.onsuccess=d=>{try{let u=new Blob([d.target.result.contents],{type:f}),p=URL.createObjectURL(u),s=document.createElement("a");s.download=o,s.href=p,document.body.appendChild(s),s.click(),document.body.removeChild(s),s.remove(),URL.revokeObjectURL(p)}catch(u){this.p5toast.show({text:`${this.lang.text.IndexedDB.FailedToDownloadFile}: ${u}`})}},a.onerror=d=>{console.error("IndexedDB DownloadFileFromUserPath failed: ",d)}}removeFileFromUserPath(E,f=(o=>{})){if(!this.db)return console.log("retry removeFileFromUserPath.."),void setTimeout(()=>{this.removeFileFromUserPath(E,f)},1e3);let o=this.db.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").delete(`/userfs/${E}`);return new Promise((a,d)=>{o.onsuccess=u=>{f(u),a(u)},o.onerror=u=>{console.error("IndexedDB removeFileFromUserPath failed: ",u),d(u)}})}}return e.\u0275fac=function(E){return new(E||e)(m.LFG(ye.F),m.LFG(Xe.b))},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},5742:(hn,Mt,se)=>{"use strict";se.d(Mt,{b:()=>e});var m=se(6505),Xe=se(9863),xe=se(9040);let e=(()=>{class U{constructor(f){this.bgmode=f,this.text={Portal:{},Main:{},Settings:{},Profile:{},WscClient:{Disconnected:"Disconnected from assistant server.",OnlineMode:"Online mode",OnlineMode_text:"You can receive notification from assistant server.",OfflineMode:"Offline mode",OfflineMode_text:"You can receive notification from local network."},Nakama:{UnexpectedLoginErr:"Login Failed"},GlobalAct:{FailedToDownloadGodot:"Failed to Download"},ChatRoom:{attachments:"Attachments"},TodoDetail:{},Administrator:{AdminNotiTitle:"Assistant server manager",CanUseAsAdmin:"Use admin features"},QRElse:{}},this.OnLoading=!0,this.lang=navigator.language.split("-")[0];let o=localStorage.getItem("lang");o&&(this.lang=o),setTimeout(()=>{this.load_selected_lang()},0)}load_selected_lang(){new m(f=>{f.setup=()=>{f.loadTable("assets/data/translate.csv","csv","header",o=>{o.columns.includes(this.lang)||(this.lang="en"),localStorage.setItem("lang",this.lang),this.ASyncTranslation(o,0,o.rows.length),f.remove()},o=>{console.error("\ub0b4\ubd80 \ubb38\uc11c \uc77d\uae30 \uc2e4\ud328: ",o),f.remove()})}})}ASyncTranslation(f,o,a,d){o<a?("#"==f.rows[o].obj["#"].charAt(0)?(d=f.rows[o].obj["#"].substring(3),this.text[d]||(this.text[d]={})):this.text[d][f.rows[o].obj["#"]]=f.rows[o].obj[this.lang],setTimeout(()=>{this.ASyncTranslation(f,o+1,a,d)},0)):(this.Callback_WscClient(),this.OnLoading=!1)}}return U.\u0275fac=function(f){return new(f||U)(Xe.LFG(xe.z))},U.\u0275prov=Xe.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})()},2443:(hn,Mt,se)=>{"use strict";se.d(Mt,{A:()=>Xe});var m=se(5016),ye=se(9863);let Xe=(()=>{class xe{constructor(){this.users={},this.funcs={onStart:U=>console.warn("onStart \ud568\uc218 \uc5c6\uc74c: ",U),onCheck:U=>console.warn("onCheck \ud568\uc218 \uc5c6\uc74c: ",U),onFailed:U=>console.error("onFailed \ud568\uc218 \uc5c6\uc74c: ",U)}}initialize(){"DesktopPWA"!=m.n$&&"MobilePWA"!=m.n$?(this.server||(this.server=cordova.plugins.wsserver),this.server.start(12011,{onFailure:(E,f,o)=>{this.funcs.onFailed(`Stopped listening on ${E}:${f}. Reason: ${o}`)},onOpen:E=>{this.users[E.uuid]={address:this.users[E.remoteAddr]},Object.keys(this.users).forEach(f=>{this.send_to(f,`Counter:${Object.keys(this.users).length}`)})},onMessage:(E,f)=>{try{let o=JSON.parse(f);"join"==o.type&&(this.users[E.uuid].uid=o.uid,this.users[E.uuid].name=o.name)}catch(o){console.error(`json \ubcc0\ud658 \uc624\ub958_${f}: ${o}`)}Object.keys(this.users).forEach(o=>{this.send_to(o,f)})},onClose:(E,f,o,a)=>{let d=this.users[E.uuid].uid,u=this.users[E.uuid].name;delete this.users[E.uuid];let p={uid:d,name:u,type:"leave",count:Object.keys(this.users).length},s=JSON.stringify(p);Object.keys(this.users).forEach(r=>{this.send_to(r,s)})},origins:[],protocols:[],tcpNoDelay:!0},(E,f)=>{this.funcs.onStart("")},E=>{this.funcs.onFailed(`Did not start. Reason: ${E}`)})):this.funcs.onFailed("Did not start. Reason: \ud50c\ub7ab\ud3fc \ubd88\uc77c\uce58: \uc0ac\uc124 \uc11c\ubc84 \uad6c\ucd95 \ucde8\uc18c")}check_addresses(){"DesktopPWA"!=m.n$&&"MobilePWA"!=m.n$&&(this.server||(this.server=cordova.plugins.wsserver),this.server.getInterfaces(U=>{this.funcs.onCheck(U)}))}disconnect_peer(U,E=4e3,f="EMPTY"){this.server.close({uuid:U},E,f)}stop(){"DesktopPWA"!=m.n$&&"MobilePWA"!=m.n$&&this.server.stop((U,E)=>{this.funcs.onFailed(`Stopped listening on ${E}`)})}send_to(U,E){this.server.send({uuid:U},E)}}return xe.\u0275fac=function(U){return new(U||xe)},xe.\u0275prov=ye.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})()},8677:(hn,Mt,se)=>{"use strict";se.d(Mt,{J:()=>U});var m=se(5016),ye=se(9863),Xe=se(3460),xe=se(9040),e=se(3496);let U=(()=>{class E{constructor(o,a,d){this.noti=o,this.bgmode=a,this.indexed=d,this.settings={silent:{icon_mono:!0,diychat:!0,simplechat:!0,todo:!0},vibrate:!1},this.WebNoties={},this.listeners={},setTimeout(()=>{this.load_settings()},0)}change_silent_settings(o){this.settings.silent[o]=!this.settings.silent[o],this.indexed.saveTextFileToUserPath(JSON.stringify(this.settings),"notification_settings")}load_settings(){this.indexed.loadTextFromUserPath("notification_settings",(o,a)=>{o&&a&&(this.settings=JSON.parse(a)),"boolean"==typeof this.settings.silent&&(this.settings.silent={icon_mono:this.settings.silent,diychat:this.settings.silent,simplechat:this.settings.silent,todo:this.settings.silent})})}initialize(){"DesktopPWA"==m.n$&&("Notification"in window||console.error("Notification \ubbf8\uc9c0\uc6d0 \ube0c\ub77c\uc6b0\uc800\uc785\ub2c8\ub2e4"),Notification.requestPermission().then(o=>{"granted"!=o&&console.warn("\uc54c\ub9bc \uac70\uc808",o)},o=>{console.error("\uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ube0c\ub77c\uc6b0\uc800:",o)}))}PushLocal(o,a="favicon",d=(()=>{})){if("DesktopPWA"==m.n$){if(document.hasFocus()&&this.Current==a||o.triggerWhen_ln)return;this.WebNoties[o.id]=new Notification(o.title,Object.assign({},{badge:`${o.badge}`,body:o.body,icon:`assets/icon/${o.icon||a||"favicon"}.png`,image:o.image,lang:o.lang_wn,silent:!this.settings.silent[o.icon]||!1,tag:o.tag_wn,actions:o.actions_wn,data:o.data_wn,renotify:o.renotify_wn,requireInteraction:o.requireInteraction_wn,dir:o.dir_wn})),this.WebNoties[o.id].onclick=()=>{d(),window.focus()}}else if("MobilePWA"!=m.n$){if(!this.bgmode.isActive()&&this.Current==a)return;let u={};u.id=o.id,u.title=o.title,o.body&&(u.text=o.body),o.actions_ln&&(u.actions=o.actions_ln),o.autoCancel_ln&&(u.autoClear=o.autoCancel_ln),o.launch_ln&&(u.launch=o.launch_ln),o.badge&&(u.badge=o.badge),o.image&&(u.attachments=[o.image]),o.clock_ln&&(u.clock=o.clock_ln),o.iconColor_ln&&(u.color=o.iconColor_ln||"ffd94e"),o.extra_ln&&(u.data=o.extra_ln),o.group_ln&&(u.group=o.group_ln),o.groupSummary_ln&&(u.groupSummary=o.groupSummary_ln),o.groupSummaryText_ln&&(u.summary=o.groupSummaryText_ln),o.led_ln&&(u.led=o.led_ln),o.lockscreen_ln&&(u.lockscreen=o.lockscreen_ln),o.mediaSesion_ln&&(u.mediaSession=o.mediaSesion_ln),o.number_ln&&(u.number=o.number_ln),o.progressBar_ln&&(u.progressBar=o.progressBar_ln),o.priority_ln&&(u.priority=o.priority_ln),u.silent=!this.settings.silent[o.smallIcon_ln]||!1,o.timeoutAfter_ln&&(u.timeoutAfter=o.timeoutAfter_ln),o.wakeup_ln&&(u.wakeup=o.wakeup_ln),o.ongoing_ln&&(u.sticky=o.ongoing_ln),o.triggerWhen_ln&&(u.trigger=o.triggerWhen_ln),o.vibrate_ln&&(u.vibrate=o.vibrate_ln),o.icon&&(u.icon=o.icon),u.smallIcon=`res://${o.smallIcon_ln||a||"icon_mono"}`,u.sound=`res://${o.sound_ln||"platform_default"}`,u.foreground=!0,this.noti.schedule(u)}}GetNotificationIds(o=(a=>{})){"DesktopPWA"==m.n$||"MobilePWA"!=m.n$&&this.noti.getScheduledIds().then(a=>{o(a)})}ClearNoti(o){"DesktopPWA"==m.n$?this.WebNoties[o]&&this.WebNoties[o].close():"MobilePWA"!=m.n$&&this.noti.clear(o)}SetListener(o,a=((d,u)=>console.warn(`${o}: ${d}/${u}`))){"DesktopPWA"==m.n$||"MobilePWA"!=m.n$&&(this.listeners[o]=(d,u)=>{a(d,u)},cordova.plugins.notification.local.on(o,this.listeners[o]))}RemoveListener(o){"DesktopPWA"==m.n$||"MobilePWA"!=m.n$&&(cordova.plugins.notification.local.un(o,this.listeners[o]),delete this.listeners[o])}}return E.\u0275fac=function(o){return new(o||E)(ye.LFG(Xe.sn),ye.LFG(xe.z),ye.LFG(e.H))},E.\u0275prov=ye.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},2722:(hn,Mt,se)=>{"use strict";se.d(Mt,{X:()=>H});var m=se(3460),ye=se(6505),Xe=se(5016),xe=se(1282),e=se(9863),U=se(2855);let E=(()=>{class Z{constructor(Q){this.wsc=Q,this.client={},this.status={dedicated_groupchat:"idle",community_ranchat:"idle"},this.userInput={dedicated_groupchat:{logs:[],text:""},community_ranchat:{logs:[],text:""}},this.ConnectedNow={dedicated_groupchat:0,community_ranchat:0},this.funcs={dedicated_groupchat:{onopen:te=>console.warn("OnOpen \uc124\uc815 \uc548\ub428: ",te),onclose:te=>console.warn("OnClose \uc124\uc815 \uc548\ub428: ",te),onmessage:te=>console.warn("OnMessage \uc124\uc815 \uc548\ub428: ",te)},community_ranchat:{onopen:te=>console.warn("OnOpen \uc124\uc815 \uc548\ub428: ",te),onclose:te=>console.warn("OnClose \uc124\uc815 \uc548\ub428: ",te),onmessage:te=>console.warn("OnMessage \uc124\uc815 \uc548\ub428: ",te)}}}initialize(Q,te){this.client[Q]=new WebSocket(`${te||`${this.wsc.socket_header}://${this.wsc.address_override||Xe.GA}`}:12011`),this.client[Q].onopen=ce=>{this.funcs[Q].onopen(ce)},this.client[Q].onclose=ce=>{this.funcs[Q].onclose(ce)},this.client[Q].onerror=ce=>{console.error("\uc624\ub958 \ubc1c\uc0dd: ",ce)},this.client[Q].onmessage=ce=>{"string"==typeof ce.data?this.funcs[Q].onmessage(ce.data):ce.data.text().then(he=>{this.funcs[Q].onmessage(he)})}}send(Q,te){this.client?this.client[Q].send(te):console.warn("client \uc5f0\uacb0\ub418\uc5b4\uc788\uc9c0 \uc54a\uc74c: \uba54\uc2dc\uc9c0 \ubc1c\uc1a1 \ucde8\uc18c: ",te)}disconnect(Q,te=1e3,me="user_close"){this.client&&this.client[Q].close(te,me)}}return Z.\u0275fac=function(Q){return new(Q||Z)(e.LFG(U.Z))},Z.\u0275prov=e.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})();var f=se(3996),o=se(2463),a=se(8677),d=se(2313),u=se(4606),p=se(5742),s=se(9912),r=se(2443),i=se(9808),c=se(4182);function h(Z,oe){if(1&Z&&(e.TgZ(0,"ion-label"),e._uU(1),e.qZA()),2&Z){const Q=e.oxw(2);e.xp6(1),e.hij("",Q.lang.text.MinimalChat.shareAddress," ")}}function y(Z,oe){if(1&Z&&(e.TgZ(0,"ion-select-option"),e._uU(1),e.qZA()),2&Z){const Q=oe.$implicit;e.xp6(1),e.hij("",Q.key+" ("+Q.address+")"," ")}}function v(Z,oe){if(1&Z){const Q=e.EpF();e.TgZ(0,"ion-select",15),e.NdJ("ionChange",function(me){return e.CHM(Q),e.oxw(2).SelectOtherAddress(me)}),e.YNc(1,y,2,1,"ion-select-option",8),e.qZA()}if(2&Z){const Q=e.oxw(2);e.Q6J("placeholder",Q.lang.text.MinimalChat.selectNetwork),e.xp6(1),e.Q6J("ngForOf",Q.addresses)}}function x(Z,oe){if(1&Z&&e._UZ(0,"img",16),2&Z){const Q=e.oxw(2);e.Q6J("src",Q.QRCodeSRC,e.LSH)}}function w(Z,oe){if(1&Z&&(e.TgZ(0,"div")(1,"ion-item-divider"),e.YNc(2,h,2,1,"ion-label",7),e.YNc(3,v,2,2,"ion-select",13),e.qZA(),e.YNc(4,x,1,1,"img",14),e.qZA()),2&Z){const Q=e.oxw();e.xp6(2),e.Q6J("ngIf",!Q.isLocalAddress||!Q.isMobileApp),e.xp6(1),e.Q6J("ngIf",Q.isLocalAddress&&Q.isMobileApp),e.xp6(1),e.Q6J("ngIf",Q.QRCodeSRC)}}function C(Z,oe){if(1&Z&&(e.TgZ(0,"font",19),e._uU(1),e.qZA()),2&Z){const Q=e.oxw().$implicit;e.MGl("color","#",Q.color,""),e.xp6(1),e.Oqu(Q.text)}}function N(Z,oe){if(1&Z&&(e.TgZ(0,"b"),e._uU(1),e.qZA()),2&Z){const Q=e.oxw(2).$implicit;e.xp6(1),e.hij("",Q.target,":")}}function M(Z,oe){if(1&Z&&(e.TgZ(0,"font",20)(1,"font",19),e.YNc(2,N,2,1,"b",7),e.qZA(),e._uU(3),e.qZA()),2&Z){const Q=e.oxw().$implicit;e.xp6(1),e.MGl("color","#",Q.color,""),e.xp6(1),e.Q6J("ngIf",Q.target),e.xp6(1),e.hij(" "," "+Q.text," ")}}function F(Z,oe){if(1&Z&&(e.TgZ(0,"p"),e.YNc(1,C,2,2,"font",17),e.YNc(2,M,4,3,"font",18),e.qZA()),2&Z){const Q=oe.$implicit;e.xp6(1),e.Q6J("ngIf",!Q.target),e.xp6(1),e.Q6J("ngIf",Q.target)}}function j(Z,oe){if(1&Z){const Q=e.EpF();e.TgZ(0,"td")(1,"ion-button",21),e.NdJ("click",function(){return e.CHM(Q),e.oxw().join_ranchat()}),e._uU(2),e.qZA()()}if(2&Z){const Q=e.oxw();e.xp6(2),e.hij(" ",Q.lang.text.MinimalChat.start_chat," ")}}function B(Z,oe){if(1&Z){const Q=e.EpF();e.TgZ(0,"td")(1,"ion-button",22),e.NdJ("click",function(){return e.CHM(Q),e.oxw().join_ranchat()}),e._uU(2),e.qZA()()}if(2&Z){const Q=e.oxw();e.xp6(1),e.Q6J("disabled",Q.req_refreshed),e.xp6(1),e.hij(" ",Q.lang.text.MinimalChat.new_chat," ")}}function G(Z,oe){if(1&Z){const Q=e.EpF();e.TgZ(0,"td")(1,"ion-button",21),e.NdJ("click",function(){return e.CHM(Q),e.oxw().quit_chat()}),e._uU(2),e.qZA()()}if(2&Z){const Q=e.oxw();e.xp6(2),e.hij(" ",Q.lang.text.MinimalChat.exit_chat," ")}}function ee(Z,oe){if(1&Z){const Q=e.EpF();e.TgZ(0,"td",10)(1,"ion-input",23),e.NdJ("ionFocus",function(){return e.CHM(Q),e.oxw().focus_on_input(120)})("keyup.enter",function(){return e.CHM(Q),e.oxw().send()})("ngModelChange",function(me){e.CHM(Q);const ce=e.oxw();return ce.client.userInput[ce.target].text=me}),e.qZA()()}if(2&Z){const Q=e.oxw();e.xp6(1),e.Q6J("placeholder",Q.lang.text.MinimalChat.input_placeholder)("ngModel",Q.client.userInput[Q.target].text)}}function $(Z,oe){if(1&Z){const Q=e.EpF();e.TgZ(0,"td")(1,"ion-button",21),e.NdJ("click",function(){return e.CHM(Q),e.oxw().send()}),e._uU(2),e.qZA()()}if(2&Z){const Q=e.oxw();e.xp6(2),e.hij(" ",Q.lang.text.MinimalChat.send," ")}}let H=(()=>{class Z{constructor(Q,te,me,ce,he,Ae,A,q,K,we,Fe){this.client=Q,this.modalCtrl=te,this.device=me,this.noti=ce,this.title=he,this.params=Ae,this.statusBar=A,this.lang=q,this.nakama=K,this.local_server=we,this.global=Fe,this.uuid=this.device.uuid,this.Header="ranchat",this.iconColor="d8d8d8",this.lnId=11,this.req_refreshed=!1,this.isCustomDedicated=!1,this.isLocalAddress=!1,this.isMobileApp=!1,this.open_this=Te=>{Te.id==this.lnId&&this.modalCtrl.create({component:Z,componentProps:{address:this.params.get("address"),name:this.params.get("name")}}).then(Ie=>Ie.present())},this.target="community_ranchat"}SelectOtherAddress(Q){let te=Q.detail.value,me=te.substring(te.indexOf("(")+1,te.indexOf(")"));this.QRCodeSRC=this.global.readasQRCodeFromId({type:"group_dedi",value:{address:me}})}ngOnInit(){this.isMobileApp="Android"==Xe.n$||"iOS"==Xe.n$,this.local_server.funcs.onCheck=ce=>{let he=Object.keys(ce),Ae=[];he.forEach(A=>{ce[A].ipv4Addresses.length&&ce[A].ipv4Addresses.forEach(q=>{Ae.push({address:q,key:A})}),this.addresses=Ae})},this.local_server.check_addresses(),this.nakama.removeBanner(),this.header_title=this.lang.text.MinimalChat.header_title_ranchat;let Q=this.params.get("address"),te=this.params.get("name");Q&&(this.target="dedicated_groupchat",this.lnId=12,this.header_title=this.lang.text.MinimalChat.header_title_group,this.client.status[this.target]="custom",this.Header="simplechat",this.isCustomDedicated=!0,this.isLocalAddress="ws://127.0.0.1"==Q,this.isLocalAddress||(this.QRCodeSRC=this.global.readasQRCodeFromId({type:"group_dedi",value:{address:Q}}))),this.noti.RemoveListener(`send${this.target}`),this.noti.RemoveListener(`reconn${this.target}`),this.noti.RemoveListener(`exit${this.target}`),this.noti.ClearNoti(this.lnId),this.title.setTitle(Q?this.lang.text.MinimalChat.WebTitle_group:this.lang.text.MinimalChat.WebTitle_ran),this.noti.Current=this.Header,this.content_panel=document.getElementById("content"),document.getElementById("favicon").setAttribute("href","assets/icon/simplechat.png"),(!this.client.client[this.target]||this.client.client[this.target].readyState!=this.client.client[this.target].OPEN)&&(this.noti.SetListener(`send${this.target}`,(ce,he)=>{this.noti.ClearNoti(ce.id),this.send(he.text)}),this.noti.SetListener(`reconn${this.target}`,ce=>{this.noti.ClearNoti(ce.id),this.join_ranchat()}),this.noti.SetListener(`exit${this.target}`,ce=>{this.noti.ClearNoti(ce.id),this.quit_chat()}),this.reply_act=[{id:`send${this.target}`,type:m.u6.INPUT,title:this.lang.text.MinimalChat.Noti_Reply}],Q||this.reply_act.push({id:`reconn${this.target}`,title:this.lang.text.MinimalChat.new_chat,launch:!1}),this.client.userInput[this.target].logs.length=0,this.client.userInput[this.target].logs.push({color:xe.Y?"bbb":"444",text:"custom"==this.client.status[this.target]?this.lang.text.MinimalChat.joinChat_group:this.lang.text.MinimalChat.joinChat_ran}),this.client.initialize(this.target,Q)),this.client.funcs[this.target].onmessage=ce=>{try{let he=JSON.parse(ce),A=this.uuid==he.uid?te||this.lang.text.MinimalChat.name_me:he.name||("custom"==this.client.status[this.target]?this.lang.text.MinimalChat.name_stranger_group:this.lang.text.MinimalChat.name_stranger_ran),q=he.uid?(he.uid.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6):xe.Y?"888":"444";he.msg?this.client.userInput[this.target].logs.push({color:q,text:he.msg,target:A}):he.type&&this.client.userInput[this.target].logs.push("join"==he.type?{color:q,text:this.lang.text.MinimalChat.user_join_comment,target:A}:{color:q,text:this.lang.text.MinimalChat.user_out_comment,target:A});let K="certified";if(he.count&&(this.client.ConnectedNow[this.target]=he.count),he.msg)this.noti.PushLocal({id:this.lnId,title:A,body:he.msg,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},smallIcon_ln:"simplechat",iconColor_ln:this.iconColor,autoCancel_ln:!0},this.Header,this.open_this);else if(he.type){let we="join"==he.type;we||(K="pending"),this.noti.PushLocal({id:this.lnId,title:we?this.lang.text.MinimalChat.user_join:this.lang.text.MinimalChat.user_out,body:A+` | ${we?this.lang.text.MinimalChat.user_join_comment:this.lang.text.MinimalChat.user_out_comment}`,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},smallIcon_ln:"simplechat",iconColor_ln:this.iconColor,autoCancel_ln:!0},this.Header,this.open_this)}this.statusBar.settings[this.target]=K,setTimeout(()=>{this.statusBar.settings[this.target]==K&&(this.statusBar.settings[this.target]="online")},250)}catch(he){switch(ce){case"GOT_MATCHED":this.statusBar.settings[this.target]="certified",setTimeout(()=>{"certified"==this.statusBar.settings[this.target]&&(this.statusBar.settings[this.target]="online")},250),this.client.userInput[this.target].logs.length=0,this.client.userInput[this.target].logs.push({color:xe.Y?"8bb":"488",text:this.lang.text.MinimalChat.meet_someone}),this.client.status[this.target]="linked",this.noti.PushLocal({id:this.lnId,title:this.lang.text.MinimalChat.meet_someone,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this);break;case"PARTNER_OUT":this.statusBar.settings[this.target]="pending",setTimeout(()=>{"pending"==this.statusBar.settings[this.target]&&(this.statusBar.settings[this.target]="online")},250),this.client.userInput[this.target].logs.push({color:xe.Y?"b88":"844",text:this.lang.text.MinimalChat.leave_someone}),this.client.status[this.target]="unlinked",this.noti.PushLocal({id:this.lnId,title:this.lang.text.MinimalChat.leave_someone,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this);break;default:let Ae=ce.split(":");this.client.ConnectedNow[this.target]=parseInt(Ae[1])}}this.focus_on_input()},this.client.funcs[this.target].onclose=ce=>{this.statusBar.settings[this.target]="missing",setTimeout(()=>{this.statusBar.settings[this.target]="offline"},1500),this.client.userInput[this.target].logs.push({color:"faa",text:this.lang.text.MinimalChat.failed_to_join}),this.focus_on_input(),this.noti.PushLocal({id:this.lnId,title:this.lang.text.MinimalChat.failed_to_join,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this)},this.client.funcs[this.target].onopen=ce=>{this.statusBar.settings[this.target]="online",Q&&this.client.send(this.target,JSON.stringify({uid:this.uuid,name:te,type:"join"})),this.client.funcs[this.target].onclose=he=>{this.statusBar.settings[this.target]="missing",setTimeout(()=>{this.statusBar.settings[this.target]="offline"},1500);let Ae=this.lang.text.MinimalChat.cannot_join;this.client.userInput[this.target].logs.push({color:"faa",text:Ae}),this.focus_on_input(),this.noti.PushLocal({id:this.lnId,title:Ae,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this)}},this.follow_resize()}follow_resize(){this.p5canvas=new ye(te=>{let me=document.getElementById("main_table"),ce=document.getElementById("main_div"),he=document.getElementById("input_table");te.setup=()=>{setTimeout(()=>{te.windowResized()},100),te.noLoop()},te.windowResized=()=>{ce.setAttribute("style",`max-width: ${me.parentElement.offsetWidth}px; max-height: ${me.parentElement.clientHeight-he.offsetHeight}px`)}})}join_ranchat(){if(this.client.client[this.target].readyState==this.client.client[this.target].OPEN)this.client.send(this.target,"REQ_REGROUPING"),this.client.status[this.target]="unlinked",this.client.userInput[this.target].logs.length=0,this.client.userInput[this.target].logs.push({color:xe.Y?"bbb":"444",text:this.lang.text.MinimalChat.waiting_someone}),this.content_panel.scrollIntoView({behavior:"smooth",block:"start"}),this.focus_on_input(),this.req_refreshed=!0,setTimeout(()=>{this.req_refreshed=!1},1e3);else{let Q=this.lang.text.MinimalChat.cannot_start;this.client.userInput[this.target].logs.push({color:"faa",text:Q}),this.focus_on_input(),this.noti.PushLocal({id:this.lnId,title:Q,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this)}}focus_on_input(Q){setTimeout(()=>{this.content_panel.scrollIntoView({block:"start"})},Q||0)}send(Q){this.statusBar.settings[this.target]="certified",setTimeout(()=>{"certified"==this.statusBar.settings[this.target]&&(this.statusBar.settings[this.target]="online")},250);let te={uid:this.uuid,msg:Q||this.client.userInput[this.target].text};if(!te.msg.trim())return;let me=this.params.get("name");me&&(te.name=me),this.client.send(this.target,JSON.stringify(te)),this.client.userInput[this.target].text="",this.focus_on_input()}quit_chat(){this.client.funcs[this.target].onclose=()=>{this.statusBar.settings[this.target]="missing",setTimeout(()=>{this.statusBar.settings[this.target]="offline"},1500),this.client.userInput[this.target].logs.push({color:xe.Y?"ffa":"884",text:"custom"==this.client.status[this.target]?this.lang.text.MinimalChat.leave_chat_group:this.lang.text.MinimalChat.leave_chat_ran}),this.content_panel.scrollIntoView({behavior:"smooth",block:"start"})},this.noti.RemoveListener(`send${this.target}`),this.noti.RemoveListener(`reconn${this.target}`),this.noti.RemoveListener(`exit${this.target}`),this.noti.ClearNoti(this.lnId),this.client.disconnect(this.target),this.modalCtrl.dismiss()}ionViewWillLeave(){this.title.setTitle("Project: Cone"),document.getElementById("favicon").setAttribute("href","assets/icon/favicon.png"),this.noti.Current=void 0,this.p5canvas.remove()}}return Z.\u0275fac=function(Q){return new(Q||Z)(e.Y36(E),e.Y36(f.IN),e.Y36(o.A),e.Y36(a.J),e.Y36(d.Dx),e.Y36(f.X1),e.Y36(u.g),e.Y36(p.b),e.Y36(s.a),e.Y36(r.A),e.Y36(xe.A))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-minimal-chat"]],decls:26,vars:10,consts:[["slot","start",3,"click"],["defaultHref",""],["slot","end",2,"margin","8px 16px"],["id","main_table",2,"width","100%","height","100%"],[2,"height","100%"],[2,"vertical-align","top"],["id","main_div",1,"main"],[4,"ngIf"],[4,"ngFor","ngForOf"],["id","content"],[2,"width","100%"],["id","input_table",2,"width","100%","background-color","var(--chatroom-background)"],["style","width: 100%;",4,"ngIf"],[3,"placeholder","ionChange",4,"ngIf"],["style","width: 100%; height: auto;","alt","Loading",3,"src",4,"ngIf"],[3,"placeholder","ionChange"],["alt","Loading",2,"width","100%","height","auto",3,"src"],[3,"color",4,"ngIf"],["class","default_text",4,"ngIf"],[3,"color"],[1,"default_text"],["expand","block",3,"click"],["expand","block",3,"disabled","click"],["type","text",3,"placeholder","ngModel","ionFocus","keyup.enter","ngModelChange"]],template:function(Q,te){1&Q&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.NdJ("click",function(){return te.modalCtrl.dismiss()}),e._UZ(3,"ion-back-button",1),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5),e.qZA(),e.TgZ(6,"div",2),e._uU(7),e.qZA()()(),e.TgZ(8,"ion-content")(9,"table",3)(10,"tr",4)(11,"td",5)(12,"div",6),e.YNc(13,w,5,3,"div",7),e.YNc(14,F,3,2,"p",8),e._UZ(15,"div",9),e.qZA()()(),e.TgZ(16,"tr")(17,"td")(18,"div",10)(19,"table",11)(20,"tr"),e.YNc(21,j,3,1,"td",7),e.YNc(22,B,3,2,"td",7),e.YNc(23,G,3,1,"td",7),e.YNc(24,ee,2,2,"td",12),e.YNc(25,$,3,1,"td",7),e.qZA()()()()()()()),2&Q&&(e.xp6(5),e.Oqu(te.header_title),e.xp6(2),e.AsE("",te.lang.text.MinimalChat.concurrent_users,": ",te.client.ConnectedNow[te.target],""),e.xp6(6),e.Q6J("ngIf",te.isCustomDedicated&&(!te.isLocalAddress||te.isMobileApp)),e.xp6(1),e.Q6J("ngForOf",te.client.userInput[te.target].logs),e.xp6(7),e.Q6J("ngIf","idle"==te.client.status[te.target]),e.xp6(1),e.Q6J("ngIf","linked"==te.client.status[te.target]||"unlinked"==te.client.status[te.target]),e.xp6(1),e.Q6J("ngIf","unlinked"==te.client.status[te.target]||"idle"==te.client.status[te.target]||"custom"==te.client.status[te.target]),e.xp6(1),e.Q6J("ngIf","linked"==te.client.status[te.target]||"custom"==te.client.status[te.target]),e.xp6(1),e.Q6J("ngIf","linked"==te.client.status[te.target]||"custom"==te.client.status[te.target]))},directives:[f.Gu,f.sr,f.Sm,f.oU,f.cs,f.wd,f.W2,i.O5,f.rH,f.Q$,f.t9,f.QI,i.sg,f.n0,f.YG,f.pK,f.j9,c.JJ,c.On],styles:[".main[_ngcontent-%COMP%]{width:100%;padding:8px;overflow-x:hidden;overflow-y:auto;scroll-behavior:smooth}p[_ngcontent-%COMP%]{margin:8px 0 0}.default_text[_ngcontent-%COMP%]{color:var(--miniranchat-default-text)}"]}),Z})()},9912:(hn,Mt,se)=>{"use strict";se.d(Mt,{a:()=>bn,h:()=>Wt});var W,le,m=se(655),ye=Object.create,Xe=Object.defineProperty,xe=Object.getOwnPropertyDescriptor,e=Object.getOwnPropertyNames,U=Object.getOwnPropertySymbols,E=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(W,le,S)=>le in W?Xe(W,le,{enumerable:!0,configurable:!0,writable:!0,value:S}):W[le]=S,d=(W,le)=>{for(var S in le||(le={}))f.call(le,S)&&a(W,S,le[S]);if(U)for(var S of U(le))o.call(le,S)&&a(W,S,le[S]);return W},r=(W,le,S)=>new Promise((I,J)=>{var de=k=>{try{V(S.next(k))}catch(ue){J(ue)}},ne=k=>{try{V(S.throw(k))}catch(ue){J(ue)}},V=k=>k.done?I(k.value):Promise.resolve(k.value).then(de,ne);V((S=S.apply(W,le)).next())}),i=(W={"node_modules/whatwg-fetch/fetch.js"(W){!function(le){if(!le.fetch){var S_searchParams="URLSearchParams"in le,S_iterable="Symbol"in le&&"iterator"in Symbol,S_blob="FileReader"in le&&"Blob"in le&&function(){try{return new Blob,!0}catch(ct){return!1}}(),S_formData="FormData"in le,S_arrayBuffer="ArrayBuffer"in le;if(S_arrayBuffer)var I=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],J=function(ct){return ct&&DataView.prototype.isPrototypeOf(ct)},de=ArrayBuffer.isView||function(ct){return ct&&I.indexOf(Object.prototype.toString.call(ct))>-1};ue.prototype.append=function(ct,_t){ct=ne(ct),_t=V(_t);var un=this.map[ct];this.map[ct]=un?un+","+_t:_t},ue.prototype.delete=function(ct){delete this.map[ne(ct)]},ue.prototype.get=function(ct){return ct=ne(ct),this.has(ct)?this.map[ct]:null},ue.prototype.has=function(ct){return this.map.hasOwnProperty(ne(ct))},ue.prototype.set=function(ct,_t){this.map[ne(ct)]=V(_t)},ue.prototype.forEach=function(ct,_t){for(var un in this.map)this.map.hasOwnProperty(un)&&ct.call(_t,this.map[un],un,this)},ue.prototype.keys=function(){var ct=[];return this.forEach(function(_t,un){ct.push(un)}),k(ct)},ue.prototype.values=function(){var ct=[];return this.forEach(function(_t){ct.push(_t)}),k(ct)},ue.prototype.entries=function(){var ct=[];return this.forEach(function(_t,un){ct.push([un,_t])}),k(ct)},S_iterable&&(ue.prototype[Symbol.iterator]=ue.prototype.entries);var Er=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];Xn.prototype.clone=function(){return new Xn(this,{body:this._bodyInit})},yr.call(Xn.prototype),yr.call(mn.prototype),mn.prototype.clone=function(){return new mn(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ue(this.headers),url:this.url})},mn.error=function(){var ct=new mn(null,{status:0,statusText:""});return ct.type="error",ct};var qt=[301,302,303,307,308];mn.redirect=function(ct,_t){if(-1===qt.indexOf(_t))throw new RangeError("Invalid status code");return new mn(null,{status:_t,headers:{location:ct}})},le.Headers=ue,le.Request=Xn,le.Response=mn,le.fetch=function(ct,_t){return new Promise(function(un,sn){var xn=new Xn(ct,_t),Qt=new XMLHttpRequest;Qt.onload=function(){var Fn={status:Qt.status,statusText:Qt.statusText,headers:Jt(Qt.getAllResponseHeaders()||"")};Fn.url="responseURL"in Qt?Qt.responseURL:Fn.headers.get("X-Request-URL"),un(new mn("response"in Qt?Qt.response:Qt.responseText,Fn))},Qt.onerror=function(){sn(new TypeError("Network request failed"))},Qt.ontimeout=function(){sn(new TypeError("Network request failed"))},Qt.open(xn.method,xn.url,!0),"include"===xn.credentials?Qt.withCredentials=!0:"omit"===xn.credentials&&(Qt.withCredentials=!1),"responseType"in Qt&&S_blob&&(Qt.responseType="blob"),xn.headers.forEach(function(Fn,On){Qt.setRequestHeader(On,Fn)}),Qt.send(void 0===xn._bodyInit?null:xn._bodyInit)})},le.fetch.polyfill=!0}function ne(ct){if("string"!=typeof ct&&(ct=String(ct)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(ct))throw new TypeError("Invalid character in header field name");return ct.toLowerCase()}function V(ct){return"string"!=typeof ct&&(ct=String(ct)),ct}function k(ct){var _t={next:function(){var un=ct.shift();return{done:void 0===un,value:un}}};return S_iterable&&(_t[Symbol.iterator]=function(){return _t}),_t}function ue(ct){this.map={},ct instanceof ue?ct.forEach(function(_t,un){this.append(un,_t)},this):Array.isArray(ct)?ct.forEach(function(_t){this.append(_t[0],_t[1])},this):ct&&Object.getOwnPropertyNames(ct).forEach(function(_t){this.append(_t,ct[_t])},this)}function tt(ct){if(ct.bodyUsed)return Promise.reject(new TypeError("Already read"));ct.bodyUsed=!0}function dt(ct){return new Promise(function(_t,un){ct.onload=function(){_t(ct.result)},ct.onerror=function(){un(ct.error)}})}function kt(ct){var _t=new FileReader,un=dt(_t);return _t.readAsArrayBuffer(ct),un}function Zn(ct){if(ct.slice)return ct.slice(0);var _t=new Uint8Array(ct.byteLength);return _t.set(new Uint8Array(ct)),_t.buffer}function yr(){return this.bodyUsed=!1,this._initBody=function(ct){if(this._bodyInit=ct,ct)if("string"==typeof ct)this._bodyText=ct;else if(S_blob&&Blob.prototype.isPrototypeOf(ct))this._bodyBlob=ct;else if(S_formData&&FormData.prototype.isPrototypeOf(ct))this._bodyFormData=ct;else if(S_searchParams&&URLSearchParams.prototype.isPrototypeOf(ct))this._bodyText=ct.toString();else if(S_arrayBuffer&&S_blob&&J(ct))this._bodyArrayBuffer=Zn(ct.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!S_arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(ct)&&!de(ct))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=Zn(ct)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof ct?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):S_searchParams&&URLSearchParams.prototype.isPrototypeOf(ct)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},S_blob&&(this.blob=function(){var ct=tt(this);if(ct)return ct;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?tt(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(kt)}),this.text=function(){var ct=tt(this);if(ct)return ct;if(this._bodyBlob)return function pn(ct){var _t=new FileReader,un=dt(_t);return _t.readAsText(ct),un}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function Ln(ct){for(var _t=new Uint8Array(ct),un=new Array(_t.length),sn=0;sn<_t.length;sn++)un[sn]=String.fromCharCode(_t[sn]);return un.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},S_formData&&(this.formData=function(){return this.text().then(pt)}),this.json=function(){return this.text().then(JSON.parse)},this}function Xn(ct,_t){var un=(_t=_t||{}).body;if(ct instanceof Xn){if(ct.bodyUsed)throw new TypeError("Already read");this.url=ct.url,this.credentials=ct.credentials,_t.headers||(this.headers=new ue(ct.headers)),this.method=ct.method,this.mode=ct.mode,!un&&null!=ct._bodyInit&&(un=ct._bodyInit,ct.bodyUsed=!0)}else this.url=String(ct);if(this.credentials=_t.credentials||this.credentials||"omit",(_t.headers||!this.headers)&&(this.headers=new ue(_t.headers)),this.method=function fr(ct){var _t=ct.toUpperCase();return Er.indexOf(_t)>-1?_t:ct}(_t.method||this.method||"GET"),this.mode=_t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&un)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(un)}function pt(ct){var _t=new FormData;return ct.trim().split("&").forEach(function(un){if(un){var sn=un.split("="),xn=sn.shift().replace(/\+/g," "),Qt=sn.join("=").replace(/\+/g," ");_t.append(decodeURIComponent(xn),decodeURIComponent(Qt))}}),_t}function Jt(ct){var _t=new ue;return ct.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(sn){var xn=sn.split(":"),Qt=xn.shift().trim();if(Qt){var Fn=xn.join(":").trim();_t.append(Qt,Fn)}}),_t}function mn(ct,_t){_t||(_t={}),this.type="default",this.status=void 0===_t.status?200:_t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in _t?_t.statusText:"OK",this.headers=new ue(_t.headers),this.url=_t.url||"",this._initBody(ct)}}("undefined"!=typeof self?self:W)}},function(){return le||(0,W[e(W)[0]])((le={exports:{}}).exports,le),le.exports}),h=(((W,le,S)=>{S=null!=W?ye(E(W)):{},((W,le,S,I)=>{if(le&&"object"==typeof le||"function"==typeof le)for(let J of e(le))!f.call(W,J)&&undefined!==J&&Xe(W,J,{get:()=>le[J],enumerable:!(I=xe(le,J))||I.enumerable})})(W&&W.__esModule?S:Xe(S,"default",{value:W,enumerable:!0}),W)})(i()),"function"==typeof atob),y="function"==typeof btoa,v="function"==typeof Buffer,w=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder?new TextEncoder:void 0),N=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],M=(W=>{let le={};return W.forEach((S,I)=>le[S]=I),le})(N),F=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,j=String.fromCharCode.bind(String),H=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),y?W=>btoa(W):v?W=>Buffer.from(W,"binary").toString("base64"):W=>{let le,S,I,J,de="";const ne=W.length%3;for(let V=0;V<W.length;){if((S=W.charCodeAt(V++))>255||(I=W.charCodeAt(V++))>255||(J=W.charCodeAt(V++))>255)throw new TypeError("invalid character found");le=S<<16|I<<8|J,de+=N[le>>18&63]+N[le>>12&63]+N[le>>6&63]+N[63&le]}return ne?de.slice(0,ne-3)+"===".substring(ne):de}),Z=v?W=>Buffer.from(W).toString("base64"):W=>{let S=[];for(let I=0,J=W.length;I<J;I+=4096)S.push(j.apply(null,W.subarray(I,I+4096)));return H(S.join(""))},oe=W=>{if(W.length<2)return(le=W.charCodeAt(0))<128?W:le<2048?j(192|le>>>6)+j(128|63&le):j(224|le>>>12&15)+j(128|le>>>6&63)+j(128|63&le);var le=65536+1024*(W.charCodeAt(0)-55296)+(W.charCodeAt(1)-56320);return j(240|le>>>18&7)+j(128|le>>>12&63)+j(128|le>>>6&63)+j(128|63&le)},Q=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,me=v?W=>Buffer.from(W,"utf8").toString("base64"):w?W=>Z(w.encode(W)):W=>H((W=>W.replace(Q,oe))(W)),ce=(W,le=!1)=>le?(W=>W.replace(/[+\/]/g,le=>"+"==le?"-":"_").replace(/=+$/m,""))(me(W)):me(W),Ae=h?W=>atob((W=>W.replace(/[^A-Za-z0-9\+\/]/g,""))(W)):v?W=>Buffer.from(W,"base64").toString("binary"):W=>{if(W=W.replace(/\s+/g,""),!F.test(W))throw new TypeError("malformed base64.");W+="==".slice(2-(3&W.length));let le,I,J,S="";for(let de=0;de<W.length;)le=M[W.charAt(de++)]<<18|M[W.charAt(de++)]<<12|(I=M[W.charAt(de++)])<<6|(J=M[W.charAt(de++)]),S+=64===I?j(le>>16&255):64===J?j(le>>16&255,le>>8&255):j(le>>16&255,le>>8&255,255&le);return S};function A(W,le,S){const I=d(d({},{method:W}),le);I.headers=d({},le.headers);const J=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"withCredentials");return(null==J?void 0:J.set)||(I.credentials="cocos-ignore"),Object.keys(I.headers).includes("Accept")||(I.headers.Accept="application/json"),Object.keys(I.headers).includes("Content-Type")||(I.headers["Content-Type"]="application/json"),Object.keys(I.headers).forEach(de=>{I.headers[de]||delete I.headers[de]}),S&&(I.body=S),I}var K=class{constructor(W,le,S){this.created=S,this.token=W,this.refresh_token=le,this.created_at=Math.floor((new Date).getTime()/1e3),this.update(W,le)}isexpired(W){return this.expires_at-W<0}isrefreshexpired(W){return this.refresh_expires_at-W<0}update(W,le){const S=W.split(".");if(3!=S.length)throw"jwt is not valid.";const I=JSON.parse(Ae(S[1])),J=Math.floor(parseInt(I.exp));if(le){const de=le.split(".");if(3!=de.length)throw"refresh jwt is not valid.";const ne=JSON.parse(Ae(de[1])),V=Math.floor(parseInt(ne.exp));this.refresh_expires_at=V,this.refresh_token=le}this.token=W,this.expires_at=J,this.username=I.usn,this.user_id=I.uid,this.vars=I.vrs}static restore(W,le){return new K(W,le,!1)}},we="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fe="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(Te=0;Te<we.length;Te++)Fe[we.charCodeAt(Te)]=Te;var Te,Ie=function(W){var S,le=new Uint8Array(W),I=le.length,J="";for(S=0;S<I;S+=3)J+=we[le[S]>>2],J+=we[(3&le[S])<<4|le[S+1]>>4],J+=we[(15&le[S+1])<<2|le[S+2]>>6],J+=we[63&le[S+2]];return I%3==2?J=J.substring(0,J.length-1)+"=":I%3==1&&(J=J.substring(0,J.length-2)+"=="),J},Ve=function(W){var I,de,ne,V,k,le=.75*W.length,S=W.length,J=0;"="===W[W.length-1]&&(le--,"="===W[W.length-2]&&le--);var ue=new ArrayBuffer(le),tt=new Uint8Array(ue);for(I=0;I<S;I+=4)de=Fe[W.charCodeAt(I)],ne=Fe[W.charCodeAt(I+1)],V=Fe[W.charCodeAt(I+2)],k=Fe[W.charCodeAt(I+3)],tt[J++]=de<<2|ne>>4,tt[J++]=(15&ne)<<4|V>>2,tt[J++]=(3&V)<<6|63&k;return ue},Ue=class{constructor(){this._isConnected=!1}get onClose(){return this._socket.onclose}set onClose(W){this._socket.onclose=W}get onError(){return this._socket.onerror}set onError(W){this._socket.onerror=W}get onMessage(){return this._socket.onmessage}set onMessage(W){W?this._socket.onmessage=le=>{const S=JSON.parse(le.data);S.match_data&&S.match_data.data?S.match_data.data=new Uint8Array(Ve(S.match_data.data)):S.party_data&&S.party_data.data&&(S.party_data.data=new Uint8Array(Ve(S.party_data.data))),W(S)}:W=null}get onOpen(){return this._socket.onopen}set onOpen(W){this._socket.onopen=W}get isConnected(){return this._isConnected}connect(W,le,S,I,J){const de=`${W}${le}:${S}/ws?lang=en&status=${encodeURIComponent(I.toString())}&token=${encodeURIComponent(J)}`;this._socket=new WebSocket(de),this._isConnected=!0}close(){this._isConnected=!1,this._socket.close(),this._socket=void 0}send(W){if(W.match_data_send){W.match_data_send.op_code=W.match_data_send.op_code.toString();let le=W.match_data_send.data;le&&le instanceof Uint8Array?W.match_data_send.data=Ie(le.buffer):le&&(W.match_data_send.data=H(le))}else if(W.party_data_send){W.party_data_send.op_code=W.party_data_send.op_code.toString();let le=W.party_data_send.data;le&&le instanceof Uint8Array?W.party_data_send.data=Ie(le.buffer):le&&(W.party_data_send.data=H(le))}this._socket.send(JSON.stringify(W))}},jt=se(5016),At=se(6505),$t=se(428),Ot=se(3041),tn=se(1716),It=se(8982),Je=se(2722),at=se(8888),je=se(2879),We=se(1107),yt=se(9863),lt=se(2463),ke=se(3336),Be=se(4606),Me=se(3496),$e=se(8677),wt=se(3996),xt=se(2855),Lt=se(5742),Kt=se(1282),cn=se(9016),nn=se(8947),Wt=(()=>(function(W){W[W.ADD_TODO=10]="ADD_TODO",W[W.EDIT_PROFILE=11]="EDIT_PROFILE"}(Wt||(Wt={})),Wt))();let bn=(()=>{class W{constructor(S,I,J,de,ne,V,k,ue,tt,dt,kt,pn){this.device=S,this.p5toast=I,this.statusBar=J,this.indexed=de,this.noti=ne,this.modalCtrl=V,this.alertCtrl=k,this.communityServer=ue,this.lang=tt,this.global=dt,this.tools=kt,this.weblink=pn,this.profile={content:{type:void 0,path:void 0}},this.servers={official:{},unofficial:{}},this.isBannerShowing=!1,this.noti_origin={},this.users={self:{},official:{},unofficial:{}},this.notifications_rearrange=[],this.groups={official:{},unofficial:{}},this.channels_orig={official:{},unofficial:{}},this.noti_id=2e3,this.web_noti_id={},this.registered_id=[],this.channels=[],this.after_rearrange_group={},this.socket_reactive={},this.subscribe_lock=!1,this.has_new_channel_msg=!1,this.channel_transfer={official:{},unofficial:{}}}initialize(){this.noti.GetNotificationIds(S=>{this.registered_id=S,this.set_all_todo_notification()}),this.indexed.loadTextFromUserPath("link-account",(S,I)=>{this.uuid=S&&I?I:this.device.uuid}),this.indexed.loadTextFromUserPath("servers/self/profile.json",(S,I)=>{S&&I&&(this.users.self=JSON.parse(I))}),this.indexed.loadTextFromUserPath("servers/groups.json",(S,I)=>{S&&I&&(this.groups=JSON.parse(I)),this.rearrange_group_list().forEach(de=>{if("missing"!=de.status){this.indexed.loadTextFromUserPath(`servers/${de.server.isOfficial}/${de.server.target}/groups/${de.id}.img`,(k,ue)=>{k&&ue&&(de.img=ue.replace(/"|=|\\/g,""))}),delete de.status;let ne=de.server.isOfficial,V=de.server.target;if(de.users)for(let k=0,ue=de.users.length;k<ue;k++)de.users[k].is_me||(de.users[k].user=this.load_other_user(de.users[k].user.id,ne,V))}}),this.load_channel_list()}),this.indexed.loadTextFromUserPath("servers/list_detail.csv",(S,I)=>{S&&I&&I.split("\n").forEach(de=>{let ne=de.split(","),V={isOfficial:ne[1],name:ne[2],target:ne[3],address:ne[4],port:+ne[5],useSSL:Boolean("true"==ne[6])};this.servers.unofficial[V.target]={},this.servers.unofficial[V.target].info=V,this.init_server(V)}),this.catch_group_server_header("offline")}),this.indexed.loadTextFromUserPath("servers/list.json",(S,I)=>{S&&I&&(this.statusBar.groupServer=JSON.parse(I)),Object.keys(this.statusBar.groupServer).forEach(de=>{this.servers[de]?Object.keys(this.statusBar.groupServer[de]).forEach(V=>{this.servers[de][V]||delete this.statusBar.groupServer[de][V]}):delete this.statusBar.groupServer[de]}),this.users.self.online&&this.init_all_sessions()}),this.indexed.GetFileListFromDB("/transfer.history",S=>{S.forEach(I=>{this.indexed.loadTextFromUserPath(I,(J,de)=>{if(J&&de){let ne=I.split("/"),V=ne[1],k=ne[2],ue=ne[4];this.channel_transfer[V][k]||(this.channel_transfer[V][k]={}),this.channel_transfer[V][k][ue]||(this.channel_transfer[V][k][ue]={}),this.channel_transfer[V][k][ue]=JSON.parse(de)}})})})}set_all_todo_notification(){this.indexed.GetFileListFromDB("info.todo",S=>{S.forEach(I=>{this.indexed.loadTextFromUserPath(I,(J,de)=>{if(J&&de){let ne=JSON.parse(de);this.set_todo_notification(ne)}})})})}set_todo_notification(S){let I=S.startFrom||S.limit;if("DesktopPWA"==jt.n$){let J=setTimeout(()=>{this.noti.PushLocal({id:S.noti_id,title:S.title,body:S.description},void 0,de=>{this.modalCtrl.create({component:It.s,componentProps:{godot:this.global.godot_window,data:JSON.stringify(S)}}).then(ne=>ne.present())})},new Date(I).getTime()-(new Date).getTime());this.web_noti_id[S.noti_id]=J}else if("MobilePWA"!=jt.n$){let J=new Date(I).getTime(),de=!0;for(let ne=0,V=this.registered_id.length;ne<V;ne++)if(this.registered_id[ne]==S.id){this.registered_id.splice(ne,1),de=!1;break}if(!S.done&&de&&J>(new Date).getTime()){let ne="00bbbb";switch(S.importance){case"1":ne="dddd0c";break;case"2":ne="880000"}this.noti.PushLocal({id:S.noti_id,title:S.title,body:S.description,smallIcon_ln:"todo",iconColor_ln:ne,group_ln:"todo",triggerWhen_ln:{at:new Date(I)},extra_ln:{page:{component:"AddTodoMenuPage",componentProps:{data:JSON.stringify(S)}}}})}}}init_server(S){this.servers[S.isOfficial][S.target]||(this.servers[S.isOfficial][S.target]={}),this.servers[S.isOfficial][S.target].client=new class{constructor(W="defaultkey",le="127.0.0.1",S="7350",I=!1,J=7e3,de=!0){this.serverkey=W,this.host=le,this.port=S,this.useSSL=I,this.timeout=J,this.autoRefreshSession=de,this.expiredTimespanMs=3e5;const V=`${I?"https://":"http://"}${le}:${S}`;this.apiClient=new class{constructor(W,le,S){this.serverKey=W,this.basePath=le,this.timeoutMs=S}healthcheck(W,le={}){const de=this.buildFullUrl(this.basePath,"/healthcheck",new Map),ne=A("GET",le,"");return W&&(ne.headers.Authorization="Bearer "+W),Promise.race([fetch(de,ne).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,k)=>setTimeout(k,this.timeoutMs,"Request timed out."))])}getAccount(W,le={}){const de=this.buildFullUrl(this.basePath,"/v2/account",new Map),ne=A("GET",le,"");return W&&(ne.headers.Authorization="Bearer "+W),Promise.race([fetch(de,ne).then(V=>{if(204==V.status)return V;if(V.status>=200&&V.status<300)return V.json();throw V}),new Promise((V,k)=>setTimeout(k,this.timeoutMs,"Request timed out."))])}updateAccount(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/account",J),V=A("PUT",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}authenticateApple(W,le,S,I,J,de={}){if(null==S)throw new Error("'body' is a required parameter but is null or undefined.");const V=new Map;V.set("create",I),V.set("username",J);let k="";k=JSON.stringify(S||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/apple",V),tt=A("POST",de,k);return tt.headers.Authorization="Basic "+ce(W+":"+le),Promise.race([fetch(ue,tt).then(dt=>{if(204==dt.status)return dt;if(dt.status>=200&&dt.status<300)return dt.json();throw dt}),new Promise((dt,kt)=>setTimeout(kt,this.timeoutMs,"Request timed out."))])}authenticateCustom(W,le,S,I,J,de={}){if(null==S)throw new Error("'body' is a required parameter but is null or undefined.");const V=new Map;V.set("create",I),V.set("username",J);let k="";k=JSON.stringify(S||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/custom",V),tt=A("POST",de,k);return tt.headers.Authorization="Basic "+ce(W+":"+le),Promise.race([fetch(ue,tt).then(dt=>{if(204==dt.status)return dt;if(dt.status>=200&&dt.status<300)return dt.json();throw dt}),new Promise((dt,kt)=>setTimeout(kt,this.timeoutMs,"Request timed out."))])}authenticateDevice(W,le,S,I,J,de={}){if(null==S)throw new Error("'body' is a required parameter but is null or undefined.");const V=new Map;V.set("create",I),V.set("username",J);let k="";k=JSON.stringify(S||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/device",V),tt=A("POST",de,k);return tt.headers.Authorization="Basic "+ce(W+":"+le),Promise.race([fetch(ue,tt).then(dt=>{if(204==dt.status)return dt;if(dt.status>=200&&dt.status<300)return dt.json();throw dt}),new Promise((dt,kt)=>setTimeout(kt,this.timeoutMs,"Request timed out."))])}authenticateEmail(W,le,S,I,J,de={}){if(null==S)throw new Error("'body' is a required parameter but is null or undefined.");const V=new Map;V.set("create",I),V.set("username",J);let k="";k=JSON.stringify(S||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/email",V),tt=A("POST",de,k);return tt.headers.Authorization="Basic "+ce(W+":"+le),Promise.race([fetch(ue,tt).then(dt=>{if(204==dt.status)return dt;if(dt.status>=200&&dt.status<300)return dt.json();throw dt}),new Promise((dt,kt)=>setTimeout(kt,this.timeoutMs,"Request timed out."))])}authenticateFacebook(W,le,S,I,J,de,ne={}){if(null==S)throw new Error("'body' is a required parameter but is null or undefined.");const k=new Map;k.set("create",I),k.set("username",J),k.set("sync",de);let ue="";ue=JSON.stringify(S||{});const tt=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebook",k),dt=A("POST",ne,ue);return dt.headers.Authorization="Basic "+ce(W+":"+le),Promise.race([fetch(tt,dt).then(kt=>{if(204==kt.status)return kt;if(kt.status>=200&&kt.status<300)return kt.json();throw kt}),new Promise((kt,pn)=>setTimeout(pn,this.timeoutMs,"Request timed out."))])}authenticateFacebookInstantGame(W,le,S,I,J,de={}){if(null==S)throw new Error("'body' is a required parameter but is null or undefined.");const V=new Map;V.set("create",I),V.set("username",J);let k="";k=JSON.stringify(S||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebookinstantgame",V),tt=A("POST",de,k);return tt.headers.Authorization="Basic "+ce(W+":"+le),Promise.race([fetch(ue,tt).then(dt=>{if(204==dt.status)return dt;if(dt.status>=200&&dt.status<300)return dt.json();throw dt}),new Promise((dt,kt)=>setTimeout(kt,this.timeoutMs,"Request timed out."))])}authenticateGameCenter(W,le,S,I,J,de={}){if(null==S)throw new Error("'body' is a required parameter but is null or undefined.");const V=new Map;V.set("create",I),V.set("username",J);let k="";k=JSON.stringify(S||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/gamecenter",V),tt=A("POST",de,k);return tt.headers.Authorization="Basic "+ce(W+":"+le),Promise.race([fetch(ue,tt).then(dt=>{if(204==dt.status)return dt;if(dt.status>=200&&dt.status<300)return dt.json();throw dt}),new Promise((dt,kt)=>setTimeout(kt,this.timeoutMs,"Request timed out."))])}authenticateGoogle(W,le,S,I,J,de={}){if(null==S)throw new Error("'body' is a required parameter but is null or undefined.");const V=new Map;V.set("create",I),V.set("username",J);let k="";k=JSON.stringify(S||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/google",V),tt=A("POST",de,k);return tt.headers.Authorization="Basic "+ce(W+":"+le),Promise.race([fetch(ue,tt).then(dt=>{if(204==dt.status)return dt;if(dt.status>=200&&dt.status<300)return dt.json();throw dt}),new Promise((dt,kt)=>setTimeout(kt,this.timeoutMs,"Request timed out."))])}authenticateSteam(W,le,S,I,J,de,ne={}){if(null==S)throw new Error("'body' is a required parameter but is null or undefined.");const k=new Map;k.set("create",I),k.set("username",J),k.set("sync",de);let ue="";ue=JSON.stringify(S||{});const tt=this.buildFullUrl(this.basePath,"/v2/account/authenticate/steam",k),dt=A("POST",ne,ue);return dt.headers.Authorization="Basic "+ce(W+":"+le),Promise.race([fetch(tt,dt).then(kt=>{if(204==kt.status)return kt;if(kt.status>=200&&kt.status<300)return kt.json();throw kt}),new Promise((kt,pn)=>setTimeout(pn,this.timeoutMs,"Request timed out."))])}linkApple(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/link/apple",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkCustom(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/link/custom",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkDevice(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/link/device",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkEmail(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/link/email",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkFacebook(W,le,S,I={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const de=new Map;de.set("sync",S);let ne="";ne=JSON.stringify(le||{});const V=this.buildFullUrl(this.basePath,"/v2/account/link/facebook",de),k=A("POST",I,ne);return W&&(k.headers.Authorization="Bearer "+W),Promise.race([fetch(V,k).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}linkFacebookInstantGame(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/link/facebookinstantgame",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkGameCenter(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/link/gamecenter",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkGoogle(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/link/google",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkSteam(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/link/steam",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}sessionRefresh(W,le,S,I={}){if(null==S)throw new Error("'body' is a required parameter but is null or undefined.");const de=new Map;let ne="";ne=JSON.stringify(S||{});const V=this.buildFullUrl(this.basePath,"/v2/account/session/refresh",de),k=A("POST",I,ne);return k.headers.Authorization="Basic "+ce(W+":"+le),Promise.race([fetch(V,k).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}unlinkApple(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/unlink/apple",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkCustom(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/unlink/custom",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkDevice(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/unlink/device",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkEmail(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/unlink/email",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkFacebook(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebook",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkFacebookInstantGame(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebookinstantgame",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkGameCenter(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/unlink/gamecenter",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkGoogle(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/unlink/google",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkSteam(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/account/unlink/steam",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}listChannelMessages(W,le,S,I,J,de={}){if(null==le)throw new Error("'channelId' is a required parameter but is null or undefined.");const ne="/v2/channel/{channelId}".replace("{channelId}",encodeURIComponent(String(le))),V=new Map;V.set("limit",S),V.set("forward",I),V.set("cursor",J);const ue=this.buildFullUrl(this.basePath,ne,V),tt=A("GET",de,"");return W&&(tt.headers.Authorization="Bearer "+W),Promise.race([fetch(ue,tt).then(dt=>{if(204==dt.status)return dt;if(dt.status>=200&&dt.status<300)return dt.json();throw dt}),new Promise((dt,kt)=>setTimeout(kt,this.timeoutMs,"Request timed out."))])}event(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/event",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}deleteFriends(W,le,S,I={}){const de=new Map;de.set("ids",le),de.set("usernames",S);const V=this.buildFullUrl(this.basePath,"/v2/friend",de),k=A("DELETE",I,"");return W&&(k.headers.Authorization="Bearer "+W),Promise.race([fetch(V,k).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}listFriends(W,le,S,I,J={}){const ne=new Map;ne.set("limit",le),ne.set("state",S),ne.set("cursor",I);const k=this.buildFullUrl(this.basePath,"/v2/friend",ne),ue=A("GET",J,"");return W&&(ue.headers.Authorization="Bearer "+W),Promise.race([fetch(k,ue).then(tt=>{if(204==tt.status)return tt;if(tt.status>=200&&tt.status<300)return tt.json();throw tt}),new Promise((tt,dt)=>setTimeout(dt,this.timeoutMs,"Request timed out."))])}addFriends(W,le,S,I={}){const de=new Map;de.set("ids",le),de.set("usernames",S);const V=this.buildFullUrl(this.basePath,"/v2/friend",de),k=A("POST",I,"");return W&&(k.headers.Authorization="Bearer "+W),Promise.race([fetch(V,k).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}blockFriends(W,le,S,I={}){const de=new Map;de.set("ids",le),de.set("usernames",S);const V=this.buildFullUrl(this.basePath,"/v2/friend/block",de),k=A("POST",I,"");return W&&(k.headers.Authorization="Bearer "+W),Promise.race([fetch(V,k).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}importFacebookFriends(W,le,S,I={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const de=new Map;de.set("reset",S);let ne="";ne=JSON.stringify(le||{});const V=this.buildFullUrl(this.basePath,"/v2/friend/facebook",de),k=A("POST",I,ne);return W&&(k.headers.Authorization="Bearer "+W),Promise.race([fetch(V,k).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}importSteamFriends(W,le,S,I={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const de=new Map;de.set("reset",S);let ne="";ne=JSON.stringify(le||{});const V=this.buildFullUrl(this.basePath,"/v2/friend/steam",de),k=A("POST",I,ne);return W&&(k.headers.Authorization="Bearer "+W),Promise.race([fetch(V,k).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}listGroups(W,le,S,I,J,de,ne,V={}){const ue=new Map;ue.set("name",le),ue.set("cursor",S),ue.set("limit",I),ue.set("lang_tag",J),ue.set("members",de),ue.set("open",ne);const dt=this.buildFullUrl(this.basePath,"/v2/group",ue),kt=A("GET",V,"");return W&&(kt.headers.Authorization="Bearer "+W),Promise.race([fetch(dt,kt).then(pn=>{if(204==pn.status)return pn;if(pn.status>=200&&pn.status<300)return pn.json();throw pn}),new Promise((pn,Ln)=>setTimeout(Ln,this.timeoutMs,"Request timed out."))])}createGroup(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/group",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}deleteGroup(W,le,S={}){if(null==le)throw new Error("'groupId' is a required parameter but is null or undefined.");const I="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(le))),ne=this.buildFullUrl(this.basePath,I,new Map),V=A("DELETE",S,"");return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}updateGroup(W,le,S,I={}){if(null==le)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==S)throw new Error("'body' is a required parameter but is null or undefined.");const J="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(le))),de=new Map;let ne="";ne=JSON.stringify(S||{});const V=this.buildFullUrl(this.basePath,J,de),k=A("PUT",I,ne);return W&&(k.headers.Authorization="Bearer "+W),Promise.race([fetch(V,k).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}addGroupUsers(W,le,S,I={}){if(null==le)throw new Error("'groupId' is a required parameter but is null or undefined.");const J="/v2/group/{groupId}/add".replace("{groupId}",encodeURIComponent(String(le))),de=new Map;de.set("user_ids",S);const V=this.buildFullUrl(this.basePath,J,de),k=A("POST",I,"");return W&&(k.headers.Authorization="Bearer "+W),Promise.race([fetch(V,k).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}banGroupUsers(W,le,S,I={}){if(null==le)throw new Error("'groupId' is a required parameter but is null or undefined.");const J="/v2/group/{groupId}/ban".replace("{groupId}",encodeURIComponent(String(le))),de=new Map;de.set("user_ids",S);const V=this.buildFullUrl(this.basePath,J,de),k=A("POST",I,"");return W&&(k.headers.Authorization="Bearer "+W),Promise.race([fetch(V,k).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}demoteGroupUsers(W,le,S,I={}){if(null==le)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==S)throw new Error("'userIds' is a required parameter but is null or undefined.");const J="/v2/group/{groupId}/demote".replace("{groupId}",encodeURIComponent(String(le))),de=new Map;de.set("user_ids",S);const V=this.buildFullUrl(this.basePath,J,de),k=A("POST",I,"");return W&&(k.headers.Authorization="Bearer "+W),Promise.race([fetch(V,k).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}joinGroup(W,le,S={}){if(null==le)throw new Error("'groupId' is a required parameter but is null or undefined.");const I="/v2/group/{groupId}/join".replace("{groupId}",encodeURIComponent(String(le))),ne=this.buildFullUrl(this.basePath,I,new Map),V=A("POST",S,"");return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}kickGroupUsers(W,le,S,I={}){if(null==le)throw new Error("'groupId' is a required parameter but is null or undefined.");const J="/v2/group/{groupId}/kick".replace("{groupId}",encodeURIComponent(String(le))),de=new Map;de.set("user_ids",S);const V=this.buildFullUrl(this.basePath,J,de),k=A("POST",I,"");return W&&(k.headers.Authorization="Bearer "+W),Promise.race([fetch(V,k).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}leaveGroup(W,le,S={}){if(null==le)throw new Error("'groupId' is a required parameter but is null or undefined.");const I="/v2/group/{groupId}/leave".replace("{groupId}",encodeURIComponent(String(le))),ne=this.buildFullUrl(this.basePath,I,new Map),V=A("POST",S,"");return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}promoteGroupUsers(W,le,S,I={}){if(null==le)throw new Error("'groupId' is a required parameter but is null or undefined.");const J="/v2/group/{groupId}/promote".replace("{groupId}",encodeURIComponent(String(le))),de=new Map;de.set("user_ids",S);const V=this.buildFullUrl(this.basePath,J,de),k=A("POST",I,"");return W&&(k.headers.Authorization="Bearer "+W),Promise.race([fetch(V,k).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}listGroupUsers(W,le,S,I,J,de={}){if(null==le)throw new Error("'groupId' is a required parameter but is null or undefined.");const ne="/v2/group/{groupId}/user".replace("{groupId}",encodeURIComponent(String(le))),V=new Map;V.set("limit",S),V.set("state",I),V.set("cursor",J);const ue=this.buildFullUrl(this.basePath,ne,V),tt=A("GET",de,"");return W&&(tt.headers.Authorization="Bearer "+W),Promise.race([fetch(ue,tt).then(dt=>{if(204==dt.status)return dt;if(dt.status>=200&&dt.status<300)return dt.json();throw dt}),new Promise((dt,kt)=>setTimeout(kt,this.timeoutMs,"Request timed out."))])}validatePurchaseApple(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/iap/purchase/apple",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}validatePurchaseGoogle(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/iap/purchase/google",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}validatePurchaseHuawei(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/iap/purchase/huawei",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}deleteLeaderboardRecord(W,le,S={}){if(null==le)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const I="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(le))),ne=this.buildFullUrl(this.basePath,I,new Map),V=A("DELETE",S,"");return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}listLeaderboardRecords(W,le,S,I,J,de,ne={}){if(null==le)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const V="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(le))),k=new Map;k.set("owner_ids",S),k.set("limit",I),k.set("cursor",J),k.set("expiry",de);const tt=this.buildFullUrl(this.basePath,V,k),dt=A("GET",ne,"");return W&&(dt.headers.Authorization="Bearer "+W),Promise.race([fetch(tt,dt).then(kt=>{if(204==kt.status)return kt;if(kt.status>=200&&kt.status<300)return kt.json();throw kt}),new Promise((kt,pn)=>setTimeout(pn,this.timeoutMs,"Request timed out."))])}writeLeaderboardRecord(W,le,S,I={}){if(null==le)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==S)throw new Error("'body' is a required parameter but is null or undefined.");const J="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(le))),de=new Map;let ne="";ne=JSON.stringify(S||{});const V=this.buildFullUrl(this.basePath,J,de),k=A("POST",I,ne);return W&&(k.headers.Authorization="Bearer "+W),Promise.race([fetch(V,k).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}listLeaderboardRecordsAroundOwner(W,le,S,I,J,de={}){if(null==le)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==S)throw new Error("'ownerId' is a required parameter but is null or undefined.");const ne="/v2/leaderboard/{leaderboardId}/owner/{ownerId}".replace("{leaderboardId}",encodeURIComponent(String(le))).replace("{ownerId}",encodeURIComponent(String(S))),V=new Map;V.set("limit",I),V.set("expiry",J);const ue=this.buildFullUrl(this.basePath,ne,V),tt=A("GET",de,"");return W&&(tt.headers.Authorization="Bearer "+W),Promise.race([fetch(ue,tt).then(dt=>{if(204==dt.status)return dt;if(dt.status>=200&&dt.status<300)return dt.json();throw dt}),new Promise((dt,kt)=>setTimeout(kt,this.timeoutMs,"Request timed out."))])}listMatches(W,le,S,I,J,de,ne,V={}){const ue=new Map;ue.set("limit",le),ue.set("authoritative",S),ue.set("label",I),ue.set("min_size",J),ue.set("max_size",de),ue.set("query",ne);const dt=this.buildFullUrl(this.basePath,"/v2/match",ue),kt=A("GET",V,"");return W&&(kt.headers.Authorization="Bearer "+W),Promise.race([fetch(dt,kt).then(pn=>{if(204==pn.status)return pn;if(pn.status>=200&&pn.status<300)return pn.json();throw pn}),new Promise((pn,Ln)=>setTimeout(Ln,this.timeoutMs,"Request timed out."))])}deleteNotifications(W,le,S={}){const J=new Map;J.set("ids",le);const ne=this.buildFullUrl(this.basePath,"/v2/notification",J),V=A("DELETE",S,"");return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}listNotifications(W,le,S,I={}){const de=new Map;de.set("limit",le),de.set("cacheable_cursor",S);const V=this.buildFullUrl(this.basePath,"/v2/notification",de),k=A("GET",I,"");return W&&(k.headers.Authorization="Bearer "+W),Promise.race([fetch(V,k).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}rpcFunc2(W,le,S,I,J={}){if(null==le)throw new Error("'id' is a required parameter but is null or undefined.");const de="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(le))),ne=new Map;ne.set("payload",S),ne.set("http_key",I);const k=this.buildFullUrl(this.basePath,de,ne),ue=A("GET",J,"");return W&&(ue.headers.Authorization="Bearer "+W),Promise.race([fetch(k,ue).then(tt=>{if(204==tt.status)return tt;if(tt.status>=200&&tt.status<300)return tt.json();throw tt}),new Promise((tt,dt)=>setTimeout(dt,this.timeoutMs,"Request timed out."))])}rpcFunc(W,le,S,I,J={}){if(null==le)throw new Error("'id' is a required parameter but is null or undefined.");if(null==S)throw new Error("'body' is a required parameter but is null or undefined.");const de="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(le))),ne=new Map;ne.set("http_key",I);let V="";V=JSON.stringify(S||{});const k=this.buildFullUrl(this.basePath,de,ne),ue=A("POST",J,V);return W&&(ue.headers.Authorization="Bearer "+W),Promise.race([fetch(k,ue).then(tt=>{if(204==tt.status)return tt;if(tt.status>=200&&tt.status<300)return tt.json();throw tt}),new Promise((tt,dt)=>setTimeout(dt,this.timeoutMs,"Request timed out."))])}sessionLogout(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/session/logout",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}readStorageObjects(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/storage",J),V=A("POST",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}writeStorageObjects(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/storage",J),V=A("PUT",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}deleteStorageObjects(W,le,S={}){if(null==le)throw new Error("'body' is a required parameter but is null or undefined.");const J=new Map;let de="";de=JSON.stringify(le||{});const ne=this.buildFullUrl(this.basePath,"/v2/storage/delete",J),V=A("PUT",S,de);return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}listStorageObjects(W,le,S,I,J,de={}){if(null==le)throw new Error("'collection' is a required parameter but is null or undefined.");const ne="/v2/storage/{collection}".replace("{collection}",encodeURIComponent(String(le))),V=new Map;V.set("user_id",S),V.set("limit",I),V.set("cursor",J);const ue=this.buildFullUrl(this.basePath,ne,V),tt=A("GET",de,"");return W&&(tt.headers.Authorization="Bearer "+W),Promise.race([fetch(ue,tt).then(dt=>{if(204==dt.status)return dt;if(dt.status>=200&&dt.status<300)return dt.json();throw dt}),new Promise((dt,kt)=>setTimeout(kt,this.timeoutMs,"Request timed out."))])}listStorageObjects2(W,le,S,I,J,de={}){if(null==le)throw new Error("'collection' is a required parameter but is null or undefined.");if(null==S)throw new Error("'userId' is a required parameter but is null or undefined.");const ne="/v2/storage/{collection}/{userId}".replace("{collection}",encodeURIComponent(String(le))).replace("{userId}",encodeURIComponent(String(S))),V=new Map;V.set("limit",I),V.set("cursor",J);const ue=this.buildFullUrl(this.basePath,ne,V),tt=A("GET",de,"");return W&&(tt.headers.Authorization="Bearer "+W),Promise.race([fetch(ue,tt).then(dt=>{if(204==dt.status)return dt;if(dt.status>=200&&dt.status<300)return dt.json();throw dt}),new Promise((dt,kt)=>setTimeout(kt,this.timeoutMs,"Request timed out."))])}listTournaments(W,le,S,I,J,de,ne,V={}){const ue=new Map;ue.set("category_start",le),ue.set("category_end",S),ue.set("start_time",I),ue.set("end_time",J),ue.set("limit",de),ue.set("cursor",ne);const dt=this.buildFullUrl(this.basePath,"/v2/tournament",ue),kt=A("GET",V,"");return W&&(kt.headers.Authorization="Bearer "+W),Promise.race([fetch(dt,kt).then(pn=>{if(204==pn.status)return pn;if(pn.status>=200&&pn.status<300)return pn.json();throw pn}),new Promise((pn,Ln)=>setTimeout(Ln,this.timeoutMs,"Request timed out."))])}listTournamentRecords(W,le,S,I,J,de,ne={}){if(null==le)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const V="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(le))),k=new Map;k.set("owner_ids",S),k.set("limit",I),k.set("cursor",J),k.set("expiry",de);const tt=this.buildFullUrl(this.basePath,V,k),dt=A("GET",ne,"");return W&&(dt.headers.Authorization="Bearer "+W),Promise.race([fetch(tt,dt).then(kt=>{if(204==kt.status)return kt;if(kt.status>=200&&kt.status<300)return kt.json();throw kt}),new Promise((kt,pn)=>setTimeout(pn,this.timeoutMs,"Request timed out."))])}writeTournamentRecord2(W,le,S,I={}){if(null==le)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==S)throw new Error("'body' is a required parameter but is null or undefined.");const J="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(le))),de=new Map;let ne="";ne=JSON.stringify(S||{});const V=this.buildFullUrl(this.basePath,J,de),k=A("POST",I,ne);return W&&(k.headers.Authorization="Bearer "+W),Promise.race([fetch(V,k).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}writeTournamentRecord(W,le,S,I={}){if(null==le)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==S)throw new Error("'body' is a required parameter but is null or undefined.");const J="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(le))),de=new Map;let ne="";ne=JSON.stringify(S||{});const V=this.buildFullUrl(this.basePath,J,de),k=A("PUT",I,ne);return W&&(k.headers.Authorization="Bearer "+W),Promise.race([fetch(V,k).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,tt)=>setTimeout(tt,this.timeoutMs,"Request timed out."))])}joinTournament(W,le,S={}){if(null==le)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const I="/v2/tournament/{tournamentId}/join".replace("{tournamentId}",encodeURIComponent(String(le))),ne=this.buildFullUrl(this.basePath,I,new Map),V=A("POST",S,"");return W&&(V.headers.Authorization="Bearer "+W),Promise.race([fetch(ne,V).then(k=>{if(204==k.status)return k;if(k.status>=200&&k.status<300)return k.json();throw k}),new Promise((k,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}listTournamentRecordsAroundOwner(W,le,S,I,J,de={}){if(null==le)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==S)throw new Error("'ownerId' is a required parameter but is null or undefined.");const ne="/v2/tournament/{tournamentId}/owner/{ownerId}".replace("{tournamentId}",encodeURIComponent(String(le))).replace("{ownerId}",encodeURIComponent(String(S))),V=new Map;V.set("limit",I),V.set("expiry",J);const ue=this.buildFullUrl(this.basePath,ne,V),tt=A("GET",de,"");return W&&(tt.headers.Authorization="Bearer "+W),Promise.race([fetch(ue,tt).then(dt=>{if(204==dt.status)return dt;if(dt.status>=200&&dt.status<300)return dt.json();throw dt}),new Promise((dt,kt)=>setTimeout(kt,this.timeoutMs,"Request timed out."))])}getUsers(W,le,S,I,J={}){const ne=new Map;ne.set("ids",le),ne.set("usernames",S),ne.set("facebook_ids",I);const k=this.buildFullUrl(this.basePath,"/v2/user",ne),ue=A("GET",J,"");return W&&(ue.headers.Authorization="Bearer "+W),Promise.race([fetch(k,ue).then(tt=>{if(204==tt.status)return tt;if(tt.status>=200&&tt.status<300)return tt.json();throw tt}),new Promise((tt,dt)=>setTimeout(dt,this.timeoutMs,"Request timed out."))])}listUserGroups(W,le,S,I,J,de={}){if(null==le)throw new Error("'userId' is a required parameter but is null or undefined.");const ne="/v2/user/{userId}/group".replace("{userId}",encodeURIComponent(String(le))),V=new Map;V.set("limit",S),V.set("state",I),V.set("cursor",J);const ue=this.buildFullUrl(this.basePath,ne,V),tt=A("GET",de,"");return W&&(tt.headers.Authorization="Bearer "+W),Promise.race([fetch(ue,tt).then(dt=>{if(204==dt.status)return dt;if(dt.status>=200&&dt.status<300)return dt.json();throw dt}),new Promise((dt,kt)=>setTimeout(kt,this.timeoutMs,"Request timed out."))])}buildFullUrl(W,le,S){let I=W+le+"?";for(let[J,de]of S)de instanceof Array?I+=de.reduce((ne,V)=>ne+encodeURIComponent(J)+"="+encodeURIComponent(V)+"&",""):null!=de&&(I+=encodeURIComponent(J)+"="+encodeURIComponent(de)+"&");return I}}(W,V,J)}addGroupUsers(W,le,S){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.addGroupUsers(W.token,le,S).then(I=>void 0!==I)})}addFriends(W,le,S){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.addFriends(W.token,le,S).then(I=>void 0!==I)})}authenticateApple(W,le,S){return r(this,arguments,function*(I,J,de,ne={},V={}){return this.apiClient.authenticateApple(this.serverkey,"",{token:I,vars:ne},J,de,V).then(ue=>new K(ue.token||"",ue.refresh_token||"",ue.created||!1))})}authenticateCustom(W,le,S,I={},J={}){return this.apiClient.authenticateCustom(this.serverkey,"",{id:W,vars:I},le,S,J).then(ne=>new K(ne.token||"",ne.refresh_token||"",ne.created||!1))}authenticateDevice(W,le,S,I){return this.apiClient.authenticateDevice(this.serverkey,"",{id:W,vars:I},le,S).then(de=>new K(de.token||"",de.refresh_token||"",de.created||!1))}authenticateEmail(W,le,S,I,J){return this.apiClient.authenticateEmail(this.serverkey,"",{email:W,password:le,vars:J},S,I).then(ne=>new K(ne.token||"",ne.refresh_token||"",ne.created||!1))}authenticateFacebookInstantGame(W,le,S,I,J={}){const de={signed_player_info:W,vars:I};return this.apiClient.authenticateFacebookInstantGame(this.serverkey,"",{signed_player_info:de.signed_player_info,vars:de.vars},le,S,J).then(ne=>new K(ne.token||"",ne.refresh_token||"",ne.created||!1))}authenticateFacebook(W,le,S,I,J,de={}){return this.apiClient.authenticateFacebook(this.serverkey,"",{token:W,vars:J},le,S,I,de).then(V=>new K(V.token||"",V.refresh_token||"",V.created||!1))}authenticateGoogle(W,le,S,I,J={}){return this.apiClient.authenticateGoogle(this.serverkey,"",{token:W,vars:I},le,S,J).then(ne=>new K(ne.token||"",ne.refresh_token||"",ne.created||!1))}authenticateGameCenter(W,le,S,I){return this.apiClient.authenticateGameCenter(this.serverkey,"",{token:W,vars:I},le,S).then(de=>new K(de.token||"",de.refresh_token||"",de.created||!1))}authenticateSteam(W,le,S,I,J){return r(this,null,function*(){return this.apiClient.authenticateSteam(this.serverkey,"",{token:W,vars:J,sync:I},le,S).then(ne=>new K(ne.token||"",ne.refresh_token||"",ne.created||!1))})}banGroupUsers(W,le,S){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.banGroupUsers(W.token,le,S).then(I=>void 0!==I)})}blockFriends(W,le,S){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.blockFriends(W.token,le,S).then(I=>Promise.resolve(null!=I))})}createGroup(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.createGroup(W.token,le).then(S=>Promise.resolve({avatar_url:S.avatar_url,create_time:S.create_time,creator_id:S.creator_id,description:S.description,edge_count:S.edge_count?Number(S.edge_count):0,id:S.id,lang_tag:S.lang_tag,max_count:S.max_count?Number(S.max_count):0,metadata:S.metadata?JSON.parse(S.metadata):void 0,name:S.name,open:S.open,update_time:S.update_time}))})}createSocket(W=!1,le=!1,S=new Ue){return new class{constructor(W,le,S=!1,I=!1,J=new Ue){this.host=W,this.port=le,this.useSSL=S,this.verbose=I,this.adapter=J,this.cIds={},this.nextCid=1}generatecid(){const W=this.nextCid.toString();return++this.nextCid,W}connect(W,le=!1){return this.adapter.isConnected?Promise.resolve(W):(this.adapter.connect(this.useSSL?"wss://":"ws://",this.host,this.port,le,W.token),this.adapter.onClose=I=>{this.ondisconnect(I)},this.adapter.onError=I=>{this.onerror(I)},this.adapter.onMessage=I=>{if(this.verbose&&window&&window.console&&console.log("Response: %o",JSON.stringify(I)),I.cid){const J=this.cIds[I.cid];if(!J)return void(this.verbose&&window&&window.console&&console.error("No promise executor for message: %o",I));delete this.cIds[I.cid],I.error?J.reject(I.error):J.resolve(I)}else I.notifications?I.notifications.notifications.forEach(J=>{J.content=J.content?JSON.parse(J.content):void 0,this.onnotification(J)}):I.match_data?(I.match_data.op_code=parseInt(I.match_data.op_code),this.onmatchdata(I.match_data)):I.match_presence_event?this.onmatchpresence(I.match_presence_event):I.matchmaker_ticket?this.onmatchmakerticket(I.matchmaker_ticket):I.matchmaker_matched?this.onmatchmakermatched(I.matchmaker_matched):I.status_presence_event?this.onstatuspresence(I.status_presence_event):I.stream_presence_event?this.onstreampresence(I.stream_presence_event):I.stream_data?this.onstreamdata(I.stream_data):I.channel_message?(I.channel_message.content=JSON.parse(I.channel_message.content),this.onchannelmessage(I.channel_message)):I.channel_presence_event?this.onchannelpresence(I.channel_presence_event):I.party_data?(I.party_data.op_code=parseInt(I.party_data.op_code),this.onpartydata(I.party_data)):I.on_party_close?this.onpartyclose():I.party_join_request?this.onpartyjoinrequest(I.party_join_request):I.party_leader?this.onpartyleader(I.party_leader):I.party_matchmaker_ticket?this.onpartymatchmakerticket(I.party_matchmaker_ticket):I.party_presence_event?this.onpartypresence(I.party_presence_event):I.party?this.onparty(I.party):this.verbose&&window&&window.console&&console.log("Unrecognized message received: %o",I)},new Promise((I,J)=>{this.adapter.onOpen=de=>{this.verbose&&window&&window.console&&console.log(de),I(W)},this.adapter.onError=de=>{J(de),this.adapter.close()}}))}disconnect(W=!0){this.adapter.isConnected&&this.adapter.close(),W&&this.ondisconnect({})}ondisconnect(W){this.verbose&&window&&window.console&&console.log(W)}onerror(W){this.verbose&&window&&window.console&&console.log(W)}onchannelmessage(W){this.verbose&&window&&window.console&&console.log(W)}onchannelpresence(W){this.verbose&&window&&window.console&&console.log(W)}onnotification(W){this.verbose&&window&&window.console&&console.log(W)}onmatchdata(W){this.verbose&&window&&window.console&&console.log(W)}onmatchpresence(W){this.verbose&&window&&window.console&&console.log(W)}onmatchmakerticket(W){this.verbose&&window&&window.console&&console.log(W)}onmatchmakermatched(W){this.verbose&&window&&window.console&&console.log(W)}onparty(W){this.verbose&&window&&window.console&&console.log(W)}onpartyclose(){this.verbose&&window&&window.console&&console.log("Party closed.")}onpartyjoinrequest(W){this.verbose&&window&&window.console&&console.log(W)}onpartydata(W){this.verbose&&window&&window.console&&console.log(W)}onpartyleader(W){this.verbose&&window&&window.console&&console.log(W)}onpartymatchmakerticket(W){this.verbose&&window&&window.console&&console.log(W)}onpartypresence(W){this.verbose&&window&&window.console&&console.log(W)}onstatuspresence(W){this.verbose&&window&&window.console&&console.log(W)}onstreampresence(W){this.verbose&&window&&window.console&&console.log(W)}onstreamdata(W){this.verbose&&window&&window.console&&console.log(W)}send(W){const le=W;return new Promise((S,I)=>{if(this.adapter.isConnected)if(le.match_data_send)this.adapter.send(le),S();else if(le.party_data_send)this.adapter.send(le),S();else{le.channel_message_send?le.channel_message_send.content=JSON.stringify(le.channel_message_send.content):le.channel_message_update&&(le.channel_message_update.content=JSON.stringify(le.channel_message_update.content));const J=this.generatecid();this.cIds[J]={resolve:S,reject:I},le.cid=J,this.adapter.send(le)}else I("Socket connection has not been established yet.");this.verbose&&window&&window.console&&console.log("Sent message: %o",JSON.stringify(le))})}acceptPartyMember(W,le){return this.send({party_accept:{party_id:W,presence:le}})}addMatchmaker(W,le,S,I,J){return r(this,null,function*(){return(yield this.send({matchmaker_add:{min_count:le,max_count:S,query:W,string_properties:I,numeric_properties:J}})).matchmaker_ticket})}addMatchmakerParty(W,le,S,I,J,de){return r(this,null,function*(){return(yield this.send({party_matchmaker_add:{party_id:W,min_count:S,max_count:I,query:le,string_properties:J,numeric_properties:de}})).party_matchmaker_ticket})}closeParty(W){return r(this,null,function*(){return yield this.send({party_close:{party_id:W}})})}createMatch(){return r(this,null,function*(){return(yield this.send({match_create:{}})).match})}createParty(W,le){return r(this,null,function*(){return(yield this.send({party_create:{open:W,max_size:le}})).party})}followUsers(W){return r(this,null,function*(){return(yield this.send({status_follow:{user_ids:W}})).status})}joinChat(W,le,S,I){return r(this,null,function*(){return(yield this.send({channel_join:{target:W,type:le,persistence:S,hidden:I}})).channel})}joinMatch(W,le,S){return r(this,null,function*(){const I={match_join:{metadata:S}};return le?I.match_join.token=le:I.match_join.match_id=W,(yield this.send(I)).match})}joinParty(W){return r(this,null,function*(){return yield this.send({party_join:{party_id:W}})})}leaveChat(W){return this.send({channel_leave:{channel_id:W}})}leaveMatch(W){return this.send({match_leave:{match_id:W}})}leaveParty(W){return this.send({party_leave:{party_id:W}})}listPartyJoinRequests(W){return r(this,null,function*(){return(yield this.send({party_join_request_list:{party_id:W}})).party_join_request})}promotePartyMember(W,le){return r(this,null,function*(){return(yield this.send({party_promote:{party_id:W,presence:le}})).party_leader})}removeChatMessage(W,le){return r(this,null,function*(){return(yield this.send({channel_message_remove:{channel_id:W,message_id:le}})).channel_message_ack})}removeMatchmaker(W){return this.send({matchmaker_remove:{ticket:W}})}removeMatchmakerParty(W,le){return this.send({party_matchmaker_remove:{party_id:W,ticket:le}})}removePartyMember(W,le){return r(this,null,function*(){return this.send({party_remove:{party_id:W,presence:le}})})}rpc(W,le,S){return r(this,null,function*(){return(yield this.send({rpc:{id:W,payload:le,http_key:S}})).rpc})}sendMatchState(W,le,S,I,J){return r(this,null,function*(){return this.send({match_data_send:{match_id:W,op_code:le,data:S,presences:null!=I?I:[],reliable:J}})})}sendPartyData(W,le,S){return this.send({party_data_send:{party_id:W,op_code:le,data:S}})}unfollowUsers(W){return this.send({status_unfollow:{user_ids:W}})}updateChatMessage(W,le,S){return r(this,null,function*(){return(yield this.send({channel_message_update:{channel_id:W,message_id:le,content:S}})).channel_message_ack})}updateStatus(W){return this.send({status_update:{status:W}})}writeChatMessage(W,le){return r(this,null,function*(){return(yield this.send({channel_message_send:{channel_id:W,content:le}})).channel_message_ack})}}(this.host,this.port,W,le,S)}deleteFriends(W,le,S){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.deleteFriends(W.token,le,S).then(I=>void 0!==I)})}deleteGroup(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.deleteGroup(W.token,le).then(S=>void 0!==S)})}deleteNotifications(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.deleteNotifications(W.token,le).then(S=>Promise.resolve(null!=S))})}deleteStorageObjects(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.deleteStorageObjects(W.token,le).then(S=>Promise.resolve(null!=S))})}demoteGroupUsers(W,le,S){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.demoteGroupUsers(W.token,le,S).then(I=>Promise.resolve(null!=I))})}emitEvent(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.event(W.token,le).then(S=>Promise.resolve(null!=S))})}getAccount(W){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.getAccount(W.token)})}importFacebookFriends(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.importFacebookFriends(W.token,le).then(S=>void 0!==S)})}importSteamFriends(W,le,S){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.importSteamFriends(W.token,le,S).then(I=>void 0!==I)})}getUsers(W,le,S,I){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.getUsers(W.token,le,S,I).then(J=>{var de={users:[]};return null==J.users||J.users.forEach(ne=>{de.users.push({avatar_url:ne.avatar_url,create_time:ne.create_time,display_name:ne.display_name,edge_count:ne.edge_count?Number(ne.edge_count):0,facebook_id:ne.facebook_id,gamecenter_id:ne.gamecenter_id,google_id:ne.google_id,id:ne.id,lang_tag:ne.lang_tag,location:ne.location,online:ne.online,steam_id:ne.steam_id,timezone:ne.timezone,update_time:ne.update_time,username:ne.username,metadata:ne.metadata?JSON.parse(ne.metadata):void 0})}),Promise.resolve(de)})})}joinGroup(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.joinGroup(W.token,le,{}).then(S=>void 0!==S)})}joinTournament(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.joinTournament(W.token,le,{}).then(S=>void 0!==S)})}kickGroupUsers(W,le,S){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.kickGroupUsers(W.token,le,S).then(I=>Promise.resolve(null!=I))})}leaveGroup(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.leaveGroup(W.token,le,{}).then(S=>void 0!==S)})}listChannelMessages(W,le,S,I,J){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listChannelMessages(W.token,le,S,I,J).then(de=>{var ne={messages:[],next_cursor:de.next_cursor,prev_cursor:de.prev_cursor,cacheable_cursor:de.cacheable_cursor};return null==de.messages||de.messages.forEach(V=>{ne.messages.push({channel_id:V.channel_id,code:V.code?Number(V.code):0,create_time:V.create_time,message_id:V.message_id,persistent:V.persistent,sender_id:V.sender_id,update_time:V.update_time,username:V.username,content:V.content?JSON.parse(V.content):void 0,group_id:V.group_id,room_name:V.room_name,user_id_one:V.user_id_one,user_id_two:V.user_id_two})}),Promise.resolve(ne)})})}listGroupUsers(W,le,S,I,J){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listGroupUsers(W.token,le,I,S,J).then(de=>{var ne={group_users:[],cursor:de.cursor};return null==de.group_users||de.group_users.forEach(V=>{ne.group_users.push({user:{avatar_url:V.user.avatar_url,create_time:V.user.create_time,display_name:V.user.display_name,edge_count:V.user.edge_count?Number(V.user.edge_count):0,facebook_id:V.user.facebook_id,gamecenter_id:V.user.gamecenter_id,google_id:V.user.google_id,id:V.user.id,lang_tag:V.user.lang_tag,location:V.user.location,online:V.user.online,steam_id:V.user.steam_id,timezone:V.user.timezone,update_time:V.user.update_time,username:V.user.username,metadata:V.user.metadata?JSON.parse(V.user.metadata):void 0},state:V.state?Number(V.state):0})}),Promise.resolve(ne)})})}listUserGroups(W,le,S,I,J){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listUserGroups(W.token,le,S,I,J).then(de=>{var ne={user_groups:[],cursor:de.cursor};return null==de.user_groups||de.user_groups.forEach(V=>{ne.user_groups.push({group:{avatar_url:V.group.avatar_url,create_time:V.group.create_time,creator_id:V.group.creator_id,description:V.group.description,edge_count:V.group.edge_count?Number(V.group.edge_count):0,id:V.group.id,lang_tag:V.group.lang_tag,max_count:V.group.max_count,metadata:V.group.metadata?JSON.parse(V.group.metadata):void 0,name:V.group.name,open:V.group.open,update_time:V.group.update_time},state:V.state?Number(V.state):0})}),Promise.resolve(ne)})})}listGroups(W,le,S,I){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listGroups(W.token,le,S,I).then(J=>{var de={groups:[]};return null==J.groups||(de.cursor=J.cursor,J.groups.forEach(ne=>{de.groups.push({avatar_url:ne.avatar_url,create_time:ne.create_time,creator_id:ne.creator_id,description:ne.description,edge_count:ne.edge_count?Number(ne.edge_count):0,id:ne.id,lang_tag:ne.lang_tag,max_count:ne.max_count,metadata:ne.metadata?JSON.parse(ne.metadata):void 0,name:ne.name,open:ne.open,update_time:ne.update_time})})),Promise.resolve(de)})})}linkApple(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkApple(W.token,le).then(S=>void 0!==S)})}linkCustom(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkCustom(W.token,le).then(S=>void 0!==S)})}linkDevice(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkDevice(W.token,le).then(S=>void 0!==S)})}linkEmail(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkEmail(W.token,le).then(S=>void 0!==S)})}linkFacebook(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkFacebook(W.token,le).then(S=>void 0!==S)})}linkFacebookInstantGame(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkFacebookInstantGame(W.token,le).then(S=>void 0!==S)})}linkGoogle(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkGoogle(W.token,le).then(S=>void 0!==S)})}linkGameCenter(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkGameCenter(W.token,le).then(S=>void 0!==S)})}linkSteam(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.linkSteam(W.token,le).then(S=>void 0!==S)})}listFriends(W,le,S,I){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listFriends(W.token,S,le,I).then(J=>{var de={friends:[],cursor:J.cursor};return null==J.friends||J.friends.forEach(ne=>{de.friends.push({user:{avatar_url:ne.user.avatar_url,create_time:ne.user.create_time,display_name:ne.user.display_name,edge_count:ne.user.edge_count?Number(ne.user.edge_count):0,facebook_id:ne.user.facebook_id,gamecenter_id:ne.user.gamecenter_id,google_id:ne.user.google_id,id:ne.user.id,lang_tag:ne.user.lang_tag,location:ne.user.location,online:ne.user.online,steam_id:ne.user.steam_id,timezone:ne.user.timezone,update_time:ne.user.update_time,username:ne.user.username,metadata:ne.user.metadata?JSON.parse(ne.user.metadata):void 0,facebook_instant_game_id:ne.user.facebook_instant_game_id},state:ne.state})}),Promise.resolve(de)})})}listLeaderboardRecords(W,le,S,I,J,de){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listLeaderboardRecords(W.token,le,S,I,J,de).then(ne=>{var V={next_cursor:ne.next_cursor,prev_cursor:ne.prev_cursor,owner_records:[],records:[]};return null!=ne.owner_records&&ne.owner_records.forEach(k=>{V.owner_records.push({expiry_time:k.expiry_time,leaderboard_id:k.leaderboard_id,metadata:k.metadata?JSON.parse(k.metadata):void 0,num_score:k.num_score?Number(k.num_score):0,owner_id:k.owner_id,rank:k.rank?Number(k.rank):0,score:k.score?Number(k.score):0,subscore:k.subscore?Number(k.subscore):0,update_time:k.update_time,username:k.username,max_num_score:k.max_num_score?Number(k.max_num_score):0})}),null!=ne.records&&ne.records.forEach(k=>{V.records.push({expiry_time:k.expiry_time,leaderboard_id:k.leaderboard_id,metadata:k.metadata?JSON.parse(k.metadata):void 0,num_score:k.num_score?Number(k.num_score):0,owner_id:k.owner_id,rank:k.rank?Number(k.rank):0,score:k.score?Number(k.score):0,subscore:k.subscore?Number(k.subscore):0,update_time:k.update_time,username:k.username,max_num_score:k.max_num_score?Number(k.max_num_score):0})}),Promise.resolve(V)})})}listLeaderboardRecordsAroundOwner(W,le,S,I,J){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listLeaderboardRecordsAroundOwner(W.token,le,S,I,J).then(de=>{var ne={next_cursor:de.next_cursor,prev_cursor:de.prev_cursor,owner_records:[],records:[]};return null!=de.owner_records&&de.owner_records.forEach(V=>{ne.owner_records.push({expiry_time:V.expiry_time,leaderboard_id:V.leaderboard_id,metadata:V.metadata?JSON.parse(V.metadata):void 0,num_score:V.num_score?Number(V.num_score):0,owner_id:V.owner_id,rank:V.rank?Number(V.rank):0,score:V.score?Number(V.score):0,subscore:V.subscore?Number(V.subscore):0,update_time:V.update_time,username:V.username,max_num_score:V.max_num_score?Number(V.max_num_score):0})}),null!=de.records&&de.records.forEach(V=>{ne.records.push({expiry_time:V.expiry_time,leaderboard_id:V.leaderboard_id,metadata:V.metadata?JSON.parse(V.metadata):void 0,num_score:V.num_score?Number(V.num_score):0,owner_id:V.owner_id,rank:V.rank?Number(V.rank):0,score:V.score?Number(V.score):0,subscore:V.subscore?Number(V.subscore):0,update_time:V.update_time,username:V.username,max_num_score:V.max_num_score?Number(V.max_num_score):0})}),Promise.resolve(ne)})})}listMatches(W,le,S,I,J,de,ne){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listMatches(W.token,le,S,I,J,de,ne)})}listNotifications(W,le,S){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listNotifications(W.token,le,S).then(I=>{var J={cacheable_cursor:I.cacheable_cursor,notifications:[]};return null==I.notifications||I.notifications.forEach(de=>{J.notifications.push({code:de.code?Number(de.code):0,create_time:de.create_time,id:de.id,persistent:de.persistent,sender_id:de.sender_id,subject:de.subject,content:de.content?JSON.parse(de.content):void 0})}),Promise.resolve(J)})})}listStorageObjects(W,le,S,I,J){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listStorageObjects(W.token,le,S,I,J).then(de=>{var ne={objects:[],cursor:de.cursor};return null==de.objects||de.objects.forEach(V=>{ne.objects.push({collection:V.collection,key:V.key,permission_read:V.permission_read?Number(V.permission_read):0,permission_write:V.permission_write?Number(V.permission_write):0,value:V.value?JSON.parse(V.value):void 0,version:V.version,user_id:V.user_id,create_time:V.create_time,update_time:V.update_time})}),Promise.resolve(ne)})})}listTournaments(W,le,S,I,J,de,ne){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listTournaments(W.token,le,S,I,J,de,ne).then(V=>{var k={cursor:V.cursor,tournaments:[]};return null!=V.tournaments&&V.tournaments.forEach(ue=>{k.tournaments.push({id:ue.id,title:ue.title,description:ue.description,duration:ue.duration?Number(ue.duration):0,category:ue.category?Number(ue.category):0,sort_order:ue.sort_order?Number(ue.sort_order):0,size:ue.size?Number(ue.size):0,max_size:ue.max_size?Number(ue.max_size):0,max_num_score:ue.max_num_score?Number(ue.max_num_score):0,can_enter:ue.can_enter,end_active:ue.end_active?Number(ue.end_active):0,next_reset:ue.next_reset?Number(ue.next_reset):0,metadata:ue.metadata?JSON.parse(ue.metadata):void 0,create_time:ue.create_time,start_time:ue.start_time,end_time:ue.end_time,start_active:ue.start_active})}),Promise.resolve(k)})})}listTournamentRecords(W,le,S,I,J,de){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listTournamentRecords(W.token,le,S,I,J,de).then(ne=>{var V={next_cursor:ne.next_cursor,prev_cursor:ne.prev_cursor,owner_records:[],records:[]};return null!=ne.owner_records&&ne.owner_records.forEach(k=>{V.owner_records.push({expiry_time:k.expiry_time,leaderboard_id:k.leaderboard_id,metadata:k.metadata?JSON.parse(k.metadata):void 0,num_score:k.num_score?Number(k.num_score):0,owner_id:k.owner_id,rank:k.rank?Number(k.rank):0,score:k.score?Number(k.score):0,subscore:k.subscore?Number(k.subscore):0,update_time:k.update_time,username:k.username,max_num_score:k.max_num_score?Number(k.max_num_score):0})}),null!=ne.records&&ne.records.forEach(k=>{V.records.push({expiry_time:k.expiry_time,leaderboard_id:k.leaderboard_id,metadata:k.metadata?JSON.parse(k.metadata):void 0,num_score:k.num_score?Number(k.num_score):0,owner_id:k.owner_id,rank:k.rank?Number(k.rank):0,score:k.score?Number(k.score):0,subscore:k.subscore?Number(k.subscore):0,update_time:k.update_time,username:k.username,max_num_score:k.max_num_score?Number(k.max_num_score):0})}),Promise.resolve(V)})})}listTournamentRecordsAroundOwner(W,le,S,I,J){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.listTournamentRecordsAroundOwner(W.token,le,S,I,J).then(de=>{var ne={next_cursor:de.next_cursor,prev_cursor:de.prev_cursor,owner_records:[],records:[]};return null!=de.owner_records&&de.owner_records.forEach(V=>{ne.owner_records.push({expiry_time:V.expiry_time,leaderboard_id:V.leaderboard_id,metadata:V.metadata?JSON.parse(V.metadata):void 0,num_score:V.num_score?Number(V.num_score):0,owner_id:V.owner_id,rank:V.rank?Number(V.rank):0,score:V.score?Number(V.score):0,subscore:V.subscore?Number(V.subscore):0,update_time:V.update_time,username:V.username,max_num_score:V.max_num_score?Number(V.max_num_score):0})}),null!=de.records&&de.records.forEach(V=>{ne.records.push({expiry_time:V.expiry_time,leaderboard_id:V.leaderboard_id,metadata:V.metadata?JSON.parse(V.metadata):void 0,num_score:V.num_score?Number(V.num_score):0,owner_id:V.owner_id,rank:V.rank?Number(V.rank):0,score:V.score?Number(V.score):0,subscore:V.subscore?Number(V.subscore):0,update_time:V.update_time,username:V.username,max_num_score:V.max_num_score?Number(V.max_num_score):0})}),Promise.resolve(ne)})})}promoteGroupUsers(W,le,S){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.promoteGroupUsers(W.token,le,S)})}readStorageObjects(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.readStorageObjects(W.token,le).then(S=>{var I={objects:[]};return null==S.objects||S.objects.forEach(J=>{I.objects.push({collection:J.collection,key:J.key,permission_read:J.permission_read?Number(J.permission_read):0,permission_write:J.permission_write?Number(J.permission_write):0,value:J.value?JSON.parse(J.value):void 0,version:J.version,user_id:J.user_id,create_time:J.create_time,update_time:J.update_time})}),Promise.resolve(I)})})}rpc(W,le,S){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.rpcFunc(W.token,le,JSON.stringify(S)).then(I=>Promise.resolve({id:I.id,payload:I.payload?JSON.parse(I.payload):void 0}))})}rpcHttpKey(W,le,S){return r(this,null,function*(){return this.apiClient.rpcFunc2("",le,S&&JSON.stringify(S)||"",W).then(I=>Promise.resolve({id:I.id,payload:I.payload?JSON.parse(I.payload):void 0})).catch(I=>{throw I})})}sessionLogout(W,le,S){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.sessionLogout(W.token,{refresh_token:S,token:le}).then(I=>void 0!==I)})}sessionRefresh(W){return r(this,arguments,function*(le,S={}){if(!le)return console.error("Cannot refresh a null session."),le;le.created&&le.expires_at-le.created_at<70&&console.warn("Session lifetime too short, please set '--session.token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session"),le.created&&le.refresh_expires_at-le.created_at<3700&&console.warn("Session refresh lifetime too short, please set '--session.refresh_token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session");const I=yield this.apiClient.sessionRefresh(this.serverkey,"",{token:le.refresh_token,vars:S});return le.update(I.token,I.refresh_token),le})}unlinkApple(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkApple(W.token,le).then(S=>void 0!==S)})}unlinkCustom(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkCustom(W.token,le).then(S=>void 0!==S)})}unlinkDevice(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkDevice(W.token,le).then(S=>void 0!==S)})}unlinkEmail(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkEmail(W.token,le).then(S=>void 0!==S)})}unlinkFacebook(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkFacebook(W.token,le).then(S=>void 0!==S)})}unlinkFacebookInstantGame(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkFacebookInstantGame(W.token,le).then(S=>void 0!==S)})}unlinkGoogle(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkGoogle(W.token,le).then(S=>void 0!==S)})}unlinkGameCenter(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkGameCenter(W.token,le).then(S=>void 0!==S)})}unlinkSteam(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.unlinkSteam(W.token,le).then(S=>void 0!==S)})}updateAccount(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.updateAccount(W.token,le).then(S=>void 0!==S)})}updateGroup(W,le,S){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.updateGroup(W.token,le,S).then(I=>void 0!==I)})}validatePurchaseApple(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validatePurchaseApple(W.token,{receipt:le})})}validatePurchaseGoogle(W,le){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validatePurchaseGoogle(W.token,{purchase:le})})}validatePurchaseHuawei(W,le,S){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.validatePurchaseHuawei(W.token,{purchase:le,signature:S})})}writeLeaderboardRecord(W,le,S){return r(this,null,function*(){return this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W)),this.apiClient.writeLeaderboardRecord(W.token,le,{metadata:S.metadata?JSON.stringify(S.metadata):void 0,score:S.score,subscore:S.subscore}).then(I=>Promise.resolve({expiry_time:I.expiry_time,leaderboard_id:I.leaderboard_id,metadata:I.metadata?JSON.parse(I.metadata):void 0,num_score:I.num_score?Number(I.num_score):0,owner_id:I.owner_id,score:I.score?Number(I.score):0,subscore:I.subscore?Number(I.subscore):0,update_time:I.update_time,username:I.username,max_num_score:I.max_num_score?Number(I.max_num_score):0,rank:I.rank?Number(I.rank):0}))})}writeStorageObjects(W,le){return r(this,null,function*(){this.autoRefreshSession&&W.refresh_token&&W.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(W));var S={objects:[]};return le.forEach(I=>{S.objects.push({collection:I.collection,key:I.key,permission_read:I.permission_read,permission_write:I.permission_write,value:JSON.stringify(I.value),version:I.version})}),this.apiClient.writeStorageObjects(W.token,S)})}writeTournamentRecord(W,le,S){return r(this,null,function*(){return this.apiClient.writeTournamentRecord(W.token,le,{metadata:S.metadata?JSON.stringify(S.metadata):void 0,score:S.score,subscore:S.subscore}).then(I=>Promise.resolve({expiry_time:I.expiry_time,leaderboard_id:I.leaderboard_id,metadata:I.metadata?JSON.parse(I.metadata):void 0,num_score:I.num_score?Number(I.num_score):0,owner_id:I.owner_id,score:I.score?Number(I.score):0,subscore:I.subscore?Number(I.subscore):0,update_time:I.update_time,username:I.username,max_num_score:I.max_num_score?Number(I.max_num_score):0,rank:I.rank?Number(I.rank):0}))})}}(S.key||"defaultkey",S.address,(S.port||7350).toString(),S.useSSL||!1)}resumeBanner(){return(0,m.mG)(this,void 0,void 0,function*(){this.isBannerShowing&&void 0!==(yield tn.TQ.resumeBanner().catch(J=>console.log(J)))&&(document.querySelector("ion-router-outlet").style.marginBottom=this.appMargin+"px")})}removeBanner(){return(0,m.mG)(this,void 0,void 0,function*(){this.isBannerShowing&&void 0!==(yield tn.TQ.hideBanner().catch(J=>console.log(J)))&&(document.querySelector("ion-router-outlet").style.marginBottom="0px")})}go_to_chatroom_without_admob_act(S){this.removeBanner(),this.has_new_channel_msg=!1,S.onWillDismiss().then(()=>this.resumeBanner()),S.present(),this.rearrange_channels(),this.save_channels_with_less_info()}init_all_sessions(){Object.keys(this.servers.official).forEach(J=>{"offline"!=this.statusBar.groupServer.official[J]&&this.init_session(this.servers.official[J].info)}),Object.keys(this.servers.unofficial).forEach(J=>{"offline"!=this.statusBar.groupServer.unofficial[J]&&this.init_session(this.servers.unofficial[J].info)})}logout_all_server(){Object.keys(this.statusBar.groupServer).forEach(I=>{Object.keys(this.statusBar.groupServer[I]).forEach(de=>{"online"==this.statusBar.groupServer[I][de]&&(this.statusBar.groupServer[I][de]="pending",this.catch_group_server_header("pending"),this.servers[I][de].session&&this.servers[I][de].client.sessionLogout(this.servers[I][de].session,this.servers[I][de].session.token,this.servers[I][de].session.refresh_token),this.servers[I][de].socket&&this.servers[I][de].socket.disconnect(!0))})})}get_all_online_server(){let S=[];return Object.keys(this.servers.official).forEach(de=>{"online"==this.statusBar.groupServer.official[de]&&S.push(this.servers.official[de])}),Object.keys(this.servers.unofficial).forEach(de=>{"online"==this.statusBar.groupServer.unofficial[de]&&S.push(this.servers.unofficial[de])}),S}get_all_server_info(S=!1,I=!1){let J=[],de=Object.keys(this.servers.official);return S&&de.forEach(V=>{I?"online"==this.statusBar.groupServer.official[V]&&J.push(this.servers.official[V].info):this.servers.official[V]&&J.push(this.servers.official[V].info)}),Object.keys(this.servers.unofficial).forEach(V=>{I?"online"==this.statusBar.groupServer.unofficial[V]&&J.push(this.servers.unofficial[V].info):this.servers.unofficial[V]&&J.push(this.servers.unofficial[V].info)}),J}add_group_server(S,I=(()=>{})){if(this.statusBar.groupServer.unofficial[S.target||S.name])return void this.p5toast.show({text:`${this.lang.text.Nakama.AlreadyHaveTargetName}: ${S.target||S.name}`});S.target=S.target||S.name,S.address=S.address||"192.168.0.1",S.port=S.port||7350,S.useSSL=S.useSSL||!1,S.isOfficial=S.isOfficial||"unofficial",S.key=S.key||"defaultkey";let J=(new Date).getTime().toString();J+=`,${S.isOfficial}`,J+=`,${S.name}`,J+=`,${S.target}`,J+=`,${S.address}`,J+=`,${S.port}`,J+=`,${S.useSSL}`,this.indexed.loadTextFromUserPath("servers/list_detail.csv",(de,ne)=>{let V=[];de&&ne&&(V=ne.split("\n")),V.push(J),this.indexed.saveTextFileToUserPath(V.join("\n"),"servers/list_detail.csv",k=>{this.init_server(S),this.servers[S.isOfficial][S.target].info=Object.assign({},S),I()}),this.statusBar.groupServer[S.isOfficial][S.target]="offline",this.indexed.saveTextFileToUserPath(JSON.stringify(this.statusBar.groupServer),"servers/list.json")})}catch_group_server_header(S){let I=S;this.statusBar.settings.groupServer=S,setTimeout(()=>{Object.keys(this.statusBar.groupServer.official).forEach(de=>{switch(this.statusBar.groupServer.official[de]){case"online":I="online";break;case"pending":"online"!=I&&(I="pending");break;case"missing":case"offline":"online"!=I&&"pending"!=I&&(I="offline")}}),"online"!=I&&Object.keys(this.statusBar.groupServer.unofficial).forEach(ne=>{switch(this.statusBar.groupServer.unofficial[ne]){case"online":I="online";break;case"pending":"online"!=I&&(I="pending");break;case"missing":case"offline":"online"!=I&&"pending"!=I&&(I="offline")}}),this.statusBar.settings.groupServer=I},1500)}init_session(S){return(0,m.mG)(this,void 0,void 0,function*(){try{this.servers[S.isOfficial][S.target].session=yield this.servers[S.isOfficial][S.target].client.authenticateEmail(this.users.self.email,this.uuid,!1),this.after_login(S.isOfficial,S.target,S.useSSL)}catch(I){switch(I.status){case 400:this.p5toast.show(this.uuid?{text:this.lang.text.Nakama.NeedLoginInfo}:{text:this.lang.text.Nakama.NeedLinkUser}),this.users.self.online=!1,this.set_group_statusBar("offline",S.isOfficial,S.target);break;case 401:this.p5toast.show({text:this.lang.text.Nakama.NeedAccountReset}),this.set_group_statusBar("offline",S.isOfficial,S.target);break;case 404:this.servers[S.isOfficial][S.target].session=yield this.servers[S.isOfficial][S.target].client.authenticateEmail(this.users.self.email,this.uuid,!0),this.users.self.display_name&&this.servers[S.isOfficial][S.target].client.updateAccount(this.servers[S.isOfficial][S.target].session,{display_name:this.users.self.display_name,lang_tag:this.lang.lang}),this.p5toast.show({text:`${this.lang.text.Nakama.RegisterUserSucc}: ${S.target}`,lateable:!0}),this.users.self.img&&this.servers[S.isOfficial][S.target].client.writeStorageObjects(this.servers[S.isOfficial][S.target].session,[{collection:"user_public",key:"profile_image",permission_read:2,permission_write:1,value:{img:this.users.self.img}}]).then(J=>{this.servers[S.isOfficial][S.target].client.updateAccount(this.servers[S.isOfficial][S.target].session,{avatar_url:J.acks[0].version})}),this.after_login(S.isOfficial,S.target,S.useSSL);break;default:this.p5toast.show({text:`(${S.name}) ${this.lang.text.Nakama.UnexpectedLoginErr}: ${I}`}),this.set_group_statusBar("offline",S.isOfficial,S.target)}}})}after_login(S,I,J){this.servers[S][I].socket=this.servers[S][I].client.createSocket(J),this.set_group_statusBar("online",S,I),this.communityServer.send(JSON.stringify({act:"is_admin",uuid:this.servers[S][I].session.user_id})),this.users.self.display_name||this.servers[S][I].client.getAccount(this.servers[S][I].session).then(de=>{Object.keys(de.user).forEach(V=>this.users.self[V]=de.user[V]),this.save_self_profile()}),this.users.self.img||this.servers[S][I].client.readStorageObjects(this.servers[S][I].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:this.servers[S][I].session.user_id}]}).then(de=>{de.objects.length&&(this.socket_reactive.profile?this.socket_reactive.profile(de.objects[0].value.img):(this.users.self.img=de.objects[0].value.img,this.indexed.saveTextFileToUserPath(JSON.stringify(this.users.self.img),"servers/self/profile.img")))}),this.server_user_info_update(S,I),this.load_server_todo(S,I),this.connect_to(S,I,de=>(0,m.mG)(this,void 0,void 0,function*(){yield this.get_group_list_from_server(S,I),this.redirect_channel(S,I),this.noti_origin[S]||(this.noti_origin[S]={}),this.noti_origin[S][I]||(this.noti_origin[S][I]={}),this.update_notifications(S,I),this.servers[S][I].client.readStorageObjects(this.servers[S][I].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:this.servers[S][I].session.user_id}]}).then(ne=>(0,m.mG)(this,void 0,void 0,function*(){try{return void(this.self_match=yield de.joinMatch(ne.objects[0].value.match_id))}catch(V){de.createMatch().then(k=>{this.self_match=k,this.servers[S][I].client.writeStorageObjects(this.servers[S][I].session,[{collection:"self_share",key:"private_match",permission_read:1,permission_write:1,value:{match_id:k.match_id}}])})}}))}))}load_server_todo(S,I,J){this.servers[S][I].client.listStorageObjects(this.servers[S][I].session,"server_todo",this.servers[S][I].session.user_id,1,J).then(de=>{de.objects.length&&this.modify_remote_info_as_local(de.objects[0].value,S,I),de.cursor&&this.load_server_todo(S,I,de.cursor)})}modify_remote_info_as_local(S,I,J){S.remote.name=this.servers[I][J].info.name,S.remote.isOfficial=I,S.remote.target=J,S.remote.type=`${I}/${J}`,this.set_todo_notification(S),this.global.godot_window.add_todo&&this.global.godot_window.add_todo(JSON.stringify(S)),this.indexed.saveTextFileToUserPath(JSON.stringify(S),`todo/${S.id}/info.todo`)}load_groups(S,I,J){return(0,m.mG)(this,void 0,void 0,function*(){let de=this.groups[S][I][J].channel_id;"online"==this.statusBar.groupServer[S][I]&&"missing"!=this.groups[S][I][J].status&&(yield this.servers[S][I].client.listGroupUsers(this.servers[S][I].session,J).then(ne=>{if(ne.group_users.length){let V=!0;for(let k=0,ue=ne.group_users.length;k<ue;k++)if(ne.group_users[k].user.id==this.servers[S][I].session.user_id){switch(ne.group_users[k].state){case 0:case 1:case 2:this.groups[S][I][J].status="online";break;case 3:this.groups[S][I][J].status="pending";break;default:console.warn("\uc774\ud574\ud560 \uc218 \uc5c6\ub294 \ucf54\ub4dc \ubc18\ud658: ",ne.group_users[k].state),this.groups[S][I][J].status="missing"}V=!1,ne.group_users[k].is_me=!0;break}V&&(this.groups[S][I][J].status="missing",de&&(this.channels_orig[S][I][de].status="missing"),this.save_channels_with_less_info())}else this.groups[S][I][J].status="missing",this.channels_orig[S][I][de].status="missing",this.save_channels_with_less_info();ne.group_users.length&&(this.groups[S][I][J].users=ne.group_users),ne.group_users.forEach(V=>(0,m.mG)(this,void 0,void 0,function*(){V.is_me?V.user=this.users.self:this.load_other_user(V.user.id,S,I).avatar_url==V.user.avatar_url&&this.load_other_user(V.user.id,S,I).img?this.save_other_user(V.user,S,I):yield this.servers[S][I].client.readStorageObjects(this.servers[S][I].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:V.user.id}]}).then(k=>{k.objects.length?V.user.img=k.objects[0].value.img:delete V.user.img,this.save_other_user(V.user,S,I)})})),this.save_groups_with_less_info()}))})}server_user_info_update(S,I){this.indexed.GetFileListFromDB(`${S}/${I}/users/`,J=>{let de=[];J.forEach(ne=>{let V=ne.split("/")[4];!de.includes(V)&&V!=this.servers[S][I].session.user_id&&de.push(V)}),de.forEach(ne=>{this.servers[S][I].client.getUsers(this.servers[S][I].session,[ne]).then(V=>{V.users.length?Object.keys(V.users[0]).forEach(ue=>(0,m.mG)(this,void 0,void 0,function*(){"avatar_url"==ue&&this.load_other_user(ne,S,I)[ue]!=V.users[0][ue]&&(yield this.servers[S][I].client.readStorageObjects(this.servers[S][I].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:ne}]}).then(tt=>{tt.objects.length?this.load_other_user(ne,S,I).img=tt.objects[0].value.img:this.indexed.removeFileFromUserPath(`server/${S}/${I}/users/${ne}/profile.img`)})),this.save_other_user(V.users[0],S,I)})):this.indexed.GetFileListFromDB(`${S}/${I}/users/${ne}`,k=>{k.forEach(ue=>this.indexed.removeFileFromUserPath(ue))})})})})}save_self_profile(){let S=Object.assign({},this.users.self);delete S.img,this.indexed.saveTextFileToUserPath(JSON.stringify(S),"servers/self/profile.json")}rearrange_all_user(){let S=[];return Object.keys(this.users).forEach(J=>{"self"!=J&&Object.keys(this.users[J]).forEach(ne=>{Object.keys(this.users[J][ne]).forEach(k=>{S.push(this.users[J][ne][k])})})}),S}load_other_user(S,I,J){return this.users[I][J]||(this.users[I][J]={}),this.users[I][J][S]||(this.users[I][J][S]={},this.indexed.loadTextFromUserPath(`servers/${I}/${J}/users/${S}/profile.json`,(de,ne)=>{if(de&&ne){let V=JSON.parse(ne);Object.keys(V).forEach(ue=>this.users[I][J][S][ue]=V[ue])}}),this.users[I][J][S].img||this.indexed.loadTextFromUserPath(`servers/${I}/${J}/users/${S}/profile.img`,(de,ne)=>{de&&ne?this.users[I][J][S].img=ne.replace(/"|=|\\/g,""):this.users[I][J][S].avatar_url&&"online"==this.statusBar.groupServer[I][J]&&this.servers[I][J].client.readStorageObjects(this.servers[I][J].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:S}]}).then(V=>{V.objects.length?this.users[I][J][S].img=V.objects[0].value.img:delete this.users[I][J][S].avatar_url,this.save_other_user(this.users[I][J][S],I,J)}).catch(V=>{this.users[I][J][S].img&&(delete this.users[I][J][S].img,this.save_other_user(this.users[I][J][S],I,J))})})),this.users[I][J][S]}save_other_user(S,I,J){let de=JSON.parse(JSON.stringify(S));delete de.img,delete de.online,this.users[I][J]||(this.users[I][J]={}),this.users[I][J][S.id]||(this.users[I][J][S.id]={}),Object.keys(S).forEach(V=>this.users[I][J][S.id][V]=S[V]),this.indexed.saveTextFileToUserPath(JSON.stringify(de),`servers/${I}/${J}/users/${de.id}/profile.json`),S.img?this.indexed.saveTextFileToUserPath(S.img,`servers/${I}/${J}/users/${S.id}/profile.img`):this.indexed.removeFileFromUserPath(`servers/${I}/${J}/users/${S.id}/profile.img`)}update_notifications(S,I){this.servers[S][I].client.listNotifications(this.servers[S][I].session,1).then(J=>{this.noti_origin[S][I]={};for(let de=0,ne=J.notifications.length;de<ne;de++)this.act_on_notification(J.notifications[de],S,I);this.rearrange_notifications()})}rearrange_notifications(){let S=[];return Object.keys(this.noti_origin).forEach(J=>{Object.keys(this.noti_origin[J]).forEach(ne=>{Object.keys(this.noti_origin[J][ne]).forEach(k=>{S.push(this.noti_origin[J][ne][k])})})}),S.sort((J,de)=>J.create_time<de.create_time?1:J.create_time>de.create_time?-1:0),this.notifications_rearrange=S,S}add_channels(S,I,J){return(0,m.mG)(this,void 0,void 0,function*(){switch(this.channels_orig[I][J][S.id]||(this.channels_orig[I][J][S.id]={}),Object.keys(S).forEach(ne=>this.channels_orig[I][J][S.id][ne]=S[ne]),this.channels_orig[I][J][S.id].cnoti_id||(this.channels_orig[I][J][S.id].cnoti_id=this.get_noti_id()),this.channels_orig[I][J][S.id].redirect.type){case 2:let V=this.load_other_user(this.channels_orig[I][J][S.id].redirect.id,I,J).online?"online":"pending";this.channels_orig[I][J][S.id].status=V;break;case 3:let k=this.channels_orig[I][J][S.id].redirect.id;yield this.servers[I][J].client.listGroupUsers(this.servers[I][J].session,k).then(ue=>{this.groups[I][J][k].users||(this.groups[I][J][k].users=[]),ue.group_users.forEach(tt=>{tt.user.id!=this.servers[I][J].session.user_id&&(this.users[I][J][tt.user.id]||this.save_other_user(tt.user,I,J)),tt.user.id==this.servers[I][J].session.user_id?tt.user.is_me=!0:this.users[I][J][tt.user.id]||this.save_other_user(tt.user,I,J),tt.user=this.load_other_user(tt.user.id,I,J),this.add_group_user_without_duplicate(tt,k,I,J)}),this.count_channel_online_member(this.channels_orig[I][J][S.id],I,J)});break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc885\ub958: ",this.channels_orig[I][J][S.id])}this.rearrange_channels()})}add_group_user_without_duplicate(S,I,J,de){let ne=!1;this.groups[J][de][I].users||(this.groups[J][de][I].users=[]);for(let V=0,k=this.groups[J][de][I].users.length;V<k;V++)if(this.groups[J][de][I].users[V].user.id==S.user.id){ne=!0;break}ne||this.groups[J][de][I].users.push(S)}load_channel_list(){this.indexed.loadTextFromUserPath("servers/channels.json",(S,I)=>{S&&I&&(this.channels_orig=JSON.parse(I),Object.keys(this.channels_orig).forEach(de=>{Object.keys(this.channels_orig[de]).forEach(V=>{Object.keys(this.channels_orig[de][V]).forEach(ue=>{2==this.channels_orig[de][V][ue].redirect.type&&(this.channels_orig[de][V][ue].info=this.load_other_user(this.channels_orig[de][V][ue].redirect.id,de,V)),"missing"!=this.channels_orig[de][V][ue].status&&delete this.channels_orig[de][V][ue].status,this.channels_orig[de][V][ue].is_new&&!this.subscribe_lock&&(this.has_new_channel_msg=!0)})})})),this.rearrange_channels()})}get_noti_id(){return this.noti_id=this.check_If_RegisteredId(this.noti_id+1),this.noti_id}check_If_RegisteredId(S){let I=!1;for(let J=0,de=this.registered_id.length;J<de;J++)if(this.registered_id[J]==S){I=!0,this.registered_id.splice(J,1);break}return I?this.check_If_RegisteredId(S+1):S}redirect_channel(S,I){this.channels_orig[S][I]&&(Object.keys(this.channels_orig[S][I]).forEach(de=>{"missing"!=this.channels_orig[S][I][de].status&&this.servers[S][I].socket.joinChat(this.channels_orig[S][I][de].redirect.id,this.channels_orig[S][I][de].redirect.type,this.channels_orig[S][I][de].redirect.persistence,!1).then(ne=>(0,m.mG)(this,void 0,void 0,function*(){switch(this.channels_orig[S][I][de].cnoti_id||(this.channels_orig[S][I][de].cnoti_id=this.get_noti_id()),this.channels_orig[S][I][de].redirect.type){case 2:case 3:this.servers[S][I].client.listChannelMessages(this.servers[S][I].session,de,1,!1).then(V=>{V.messages.length&&this.update_from_channel_msg(V.messages[0],S,I),this.count_channel_online_member(this.channels_orig[S][I][de],S,I),this.save_channels_with_less_info()});break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub9ac\ub2e4\uc774\ub809\uc158 \ud0c0\uc785: ",this.channels_orig[S][I][de].redirect.type)}})).catch(ne=>{this.channels_orig[S][I][de].status="missing",delete this.channels_orig[S][I][de].info,this.save_channels_with_less_info()})}),this.rearrange_channels())}rearrange_channels(){let S=[];return Object.keys(this.channels_orig).forEach(J=>{Object.keys(this.channels_orig[J]).forEach(ne=>{Object.keys(this.channels_orig[J][ne]).forEach(k=>{switch(this.channels_orig[J][ne][k].server={isOfficial:J,target:ne},this.channels_orig[J][ne][k].redirect.type){case 1:console.warn("\ubc29 \ub300\ud654 \uae30\ub2a5 \uc900\ube44\uc911...");break;case 2:this.channels_orig[J][ne][k].info=this.load_other_user(this.channels_orig[J][ne][k].redirect.id,J,ne),this.channels_orig[J][ne][k].title=this.channels_orig[J][ne][k].info.display_name;break;case 3:"missing"!=this.channels_orig[J][ne][k].status&&(this.groups[J][ne]&&this.groups[J][ne][this.channels_orig[J][ne][k].redirect.id]?(this.channels_orig[J][ne][k].info=this.groups[J][ne][this.channels_orig[J][ne][k].redirect.id],this.channels_orig[J][ne][k].title=this.groups[J][ne][this.channels_orig[J][ne][k].redirect.id].name):this.channels_orig[J][ne][k].status="missing");break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \uc54a\uc740 \ub300\ud654\ud615\uc2dd: ",this.channels_orig[J][ne][k])}S.push(this.channels_orig[J][ne][k])})})}),S.sort((J,de)=>new Date(de.last_comment_time)-new Date(J.last_comment_time)),S.sort((J,de)=>J.is_new?de.is_new?0:-1:1),this.channels=S,this.save_channels_with_less_info(),S}save_channels_with_less_info(){let S=JSON.parse(JSON.stringify(this.channels_orig));Object.keys(S).forEach(J=>{Object.keys(S[J]).forEach(ne=>{Object.keys(S[J][ne]).forEach(k=>{delete S[J][ne][k].img,delete S[J][ne][k].group,delete S[J][ne][k].info,delete S[J][ne][k].update,delete S[J][ne][k].presences,delete S[J][ne][k].cnoti_id})})}),this.indexed.saveTextFileToUserPath(JSON.stringify(S),"servers/channels.json")}limit_image_size(S,I=(J=>{})){new At(de=>{de.setup=()=>{de.loadImage(S,V=>{V.resize(window.innerWidth,window.innerWidth*V.height/V.width),V.canvas.toDataURL().length>245e3&&ne(V),I(V),de.remove()},V=>{this.p5toast.show({text:this.lang.text.Nakama.CannotOpenImg}),de.remove()})};let ne=V=>{V.resize(.95*V.width,.95*V.height),V.canvas.toDataURL().length>245e3&&ne(V)}})}try_add_group(S){this.get_all_online_server().forEach(J=>{J.client.joinGroup(J.session,S.id).then(de=>(0,m.mG)(this,void 0,void 0,function*(){de?yield J.client.listGroups(J.session,S.name).then(ne=>(0,m.mG)(this,void 0,void 0,function*(){for(let V=0,k=ne.groups.length;V<k;V++)if(ne.groups[V].id==S.id){let ue=ne.groups[V];ue.status=ue.open?"online":"pending",ue.server=this.servers[J.info.isOfficial][J.info.target].info,yield this.servers[J.info.isOfficial][J.info.target].client.listGroupUsers(this.servers[J.info.isOfficial][J.info.target].session,ne.groups[V].id).then(tt=>{ue.users=tt.group_users,tt.group_users.forEach(dt=>{dt.user.id==this.servers[J.info.isOfficial][J.info.target].session.user_id?dt.is_me=!0:this.save_other_user(dt.user,J.info.isOfficial,J.info.target)})}),yield this.servers[J.info.isOfficial][J.info.target].client.readStorageObjects(this.servers[J.info.isOfficial][J.info.target].session,{object_ids:[{collection:"group_public",key:`group_${ne.groups[V].id}`,user_id:ne.groups[V].creator_id}]}).then(tt=>{tt.objects.length&&(ue.img=tt.objects[0].value.img)}),this.save_group_info(ue,J.info.isOfficial,J.info.target),ue.open&&this.join_chat_with_modulation(ue.id,3,J.info.isOfficial,J.info.target,tt=>{this.servers[J.info.isOfficial][J.info.target].client.listChannelMessages(this.servers[J.info.isOfficial][J.info.target].session,tt.id,1,!1).then(dt=>{dt.messages.length&&this.update_from_channel_msg(dt.messages[0],J.info.isOfficial,J.info.target)})});break}})):console.warn("\uadf8\ub8f9 join \uc2e4\ud328... \ubca4 \ub2f9\ud588\uc744 \ub54c\uc778\ub4ef? \ud5a5\ud6c4\uc5d0 \uac80\ud1a0 \ud544")})).catch(de=>(0,m.mG)(this,void 0,void 0,function*(){400===de.status?yield J.client.listGroups(J.session,S.name).then(ne=>(0,m.mG)(this,void 0,void 0,function*(){for(let V=0,k=ne.groups.length;V<k;V++)if(ne.groups[V].id==S.id){let ue=ne.groups[V];ue.status=ue.open?"online":"pending",yield this.servers[J.info.isOfficial][J.info.target].client.listGroupUsers(this.servers[J.info.isOfficial][J.info.target].session,ne.groups[V].id).then(tt=>{ue.users=tt.group_users,tt.group_users.forEach(dt=>{dt.user.id==this.servers[J.info.isOfficial][J.info.target].session.user_id?dt.is_me=!0:this.save_other_user(dt.user,J.info.isOfficial,J.info.target)})}),this.save_group_info(ue,J.info.isOfficial,J.info.target);break}})):console.error("\uadf8\ub8f9 \ucd94\uac00 \uc624\ub958: ",de)}))})}save_group_info(S,I,J){this.groups[I][J]||(this.groups[I][J]={}),this.groups[I][J][S.id]=S,this.save_groups_with_less_info(),this.indexed.saveTextFileToUserPath(S.img,`servers/${I}/${J}/groups/${S.id}.img`),S.owner==this.servers[I][J].session.user_id&&S.img&&this.servers[I][J].client.writeStorageObjects(this.servers[I][J].session,[{collection:"group_public",key:`group_${S.id}`,value:{img:S.img},permission_read:2,permission_write:1}])}save_groups_with_less_info(S=(()=>{})){let I=JSON.parse(JSON.stringify(this.groups));Object.keys(I).forEach(de=>{Object.keys(I[de]).forEach(V=>{Object.keys(I[de][V]).forEach(ue=>{if(delete I[de][V][ue].server,delete I[de][V][ue].img,I[de][V][ue].users)for(let tt=0,dt=I[de][V][ue].users.length;tt<dt;tt++)I[de][V][ue].users[tt]&&(delete I[de][V][ue].users[tt].state,I[de][V][ue].users[tt].user.id?(I[de][V][ue].users[tt].user={id:I[de][V][ue].users[tt].user.id},this.servers[de][V]&&this.servers[de][V].session&&I[de][V][ue].users[tt].user.id==this.servers[de][V].session.user_id&&(I[de][V][ue].users[tt].is_me=!0)):I[de][V][ue].users[tt].is_me||I[de][V][ue].users.splice(tt,1))})})}),this.indexed.saveTextFileToUserPath(JSON.stringify(I),"servers/groups.json"),S()}remove_group_list(S,I,J){return(0,m.mG)(this,void 0,void 0,function*(){try{if(!this.servers[I][J]||S.creator_id!=this.servers[I][J].session.user_id)throw"not a group creator";yield this.servers[I][J].client.deleteGroup(this.servers[I][J].session,S.id).then(de=>(0,m.mG)(this,void 0,void 0,function*(){de||console.warn("\uadf8\ub8f9 \uc0ad\uc81c \uc624\ub958 \uac80\ud1a0 \ud544\uc694"),this.remove_channel_files(I,J,S.channel_id),this.servers[I][J].client.deleteStorageObjects(this.servers[I][J].session,{object_ids:[{collection:"group_public",key:`group_${S.id}`}]}).then(ne=>{throw"Remove group image well"}).catch(ne=>{throw"No group image found"})}))}catch(de){console.log(de),delete this.groups[I][J][S.id],this.save_groups_with_less_info(),this.indexed.removeFileFromUserPath(`servers/${I}/${J}/groups/${S.id}.img`)}})}remove_channel_files(S,I,J,de){return(0,m.mG)(this,void 0,void 0,function*(){"online"==this.statusBar.groupServer[S][I]&&(yield this.servers[S][I].client.listStorageObjects(this.servers[S][I].session,`file_${J.replace(/[.]/g,"_")}`,this.servers[S][I].session.user_id,1,de).then(ne=>(0,m.mG)(this,void 0,void 0,function*(){for(let V=0,k=ne.objects.length;V<k;V++)yield this.servers[S][I].client.deleteStorageObjects(this.servers[S][I].session,{object_ids:[{collection:ne.objects[V].collection,key:ne.objects[V].key}]});ne.cursor&&this.remove_channel_files(S,I,J,ne.cursor)})))})}get_group_list_from_server(S,I){return(0,m.mG)(this,void 0,void 0,function*(){this.groups[S]||(this.groups[S]={}),this.groups[S][I]||(this.groups[S][I]={}),yield this.servers[S][I].client.listUserGroups(this.servers[S][I].session,this.servers[S][I].session.user_id).then(J=>{J.user_groups.forEach(de=>(0,m.mG)(this,void 0,void 0,function*(){this.groups[S][I][de.group.id]||(this.groups[S][I][de.group.id]={},yield this.servers[S][I].client.readStorageObjects(this.servers[S][I].session,{object_ids:[{collection:"group_public",key:`group_${de.group.id}`,user_id:de.group.creator_id}]}).then(ne=>{ne.objects.length&&(this.groups[S][I][de.group.id].img=ne.objects[0].value.img,this.indexed.saveTextFileToUserPath(ne.objects[0].value.img,`servers/${S}/${I}/groups/${de.group.id}.img`))})),this.groups[S][I][de.group.id]=Object.assign(Object.assign({},this.groups[S][I][de.group.id]),de.group),this.groups[S][I][de.group.id].status="online",yield this.servers[S][I].client.listGroupUsers(this.servers[S][I].session,de.group.id).then(ne=>{ne.group_users.forEach(V=>{V.user.id==this.servers[S][I].session.user_id?V.user.is_me=!0:this.save_other_user(V.user,S,I),V.user=this.load_other_user(V.user.id,S,I),this.add_group_user_without_duplicate(V,de.group.id,S,I)})}),this.join_chat_with_modulation(de.group.id,3,S,I,ne=>{this.save_groups_with_less_info()})}))})})}rearrange_group_list(){let S=[];return Object.keys(this.groups).forEach(de=>{Object.keys(this.groups[de]).forEach(V=>{Object.keys(this.groups[de][V]).forEach(ue=>{this.groups[de][V][ue].server=this.servers[de][V]?this.servers[de][V].info:{name:this.lang.text.Nakama.DeletedServer,isOfficial:de,target:V},S.push(this.groups[de][V][ue])})})}),Object.keys(this.after_rearrange_group).forEach(de=>this.after_rearrange_group[de](S)),S}set_group_statusBar(S,I,J){this.statusBar.groupServer[I][J]=S,this.catch_group_server_header(S)}count_channel_online_member(S,I,J){let de="pending";if(S.group_id){if(this.groups[I][J][S.group_id]&&this.groups[I][J][S.group_id].users){let ne=this.groups[I][J][S.group_id].users.length;if(1==ne)de=this.users.self.online?"online":"offline";else for(let V=0;V<ne;V++){let k=this.groups[I][J][S.group_id].users[V].user.id||this.servers[I][J].session.user_id;if(k!=this.servers[I][J].session.user_id&&this.load_other_user(k,I,J).online){de="online";break}}}}else S.user_id_one&&(this.channels_orig[I][J][S.channel_id||S.id]?de=this.load_other_user(this.channels_orig[I][J][S.channel_id||S.id].redirect.id,I,J).online?"online":"pending":this.join_chat_with_modulation(S.user_id_one!=this.servers[I][J].session.user_id?S.user_id_one:S.user_id_two,2,I,J,ne=>{de=this.load_other_user(this.channels_orig[I][J][ne.id].redirect.id,I,J).online?"online":"pending"}));this.channels_orig[I][J][S.channel_id||S.id].status=de}connect_to(S="official",I="default",J=(de=>{})){this.servers[S][I].socket.connect(this.servers[S][I].session,!0).then(de=>{let ne=this.servers[S][I].socket;J(ne),ne.onnotification=V=>{console.log("\uc18c\ucf13\uc5d0\uc11c \uc2e4\uc2dc\uac04\uc73c\ub85c \ubb34\uc5b8\uac00 \ubc1b\uc74c: ",V),this.act_on_notification(V,S,I),this.rearrange_notifications()},ne.onchannelpresence=V=>{if(this.socket_reactive["others-online"]&&this.socket_reactive["others-online"](),void 0!==V.joins)V.joins.forEach(k=>{this.servers[S][I].session.user_id!=k.user_id&&(this.load_other_user(k.user_id,S,I).online=!0)}),this.count_channel_online_member(V,S,I);else if(void 0!==V.leaves){let k=[];V.leaves.forEach(ue=>{this.servers[S][I].session.user_id!=ue.user_id&&(delete this.load_other_user(ue.user_id,S,I).online,k.push(ue.user_id))}),this.servers[S][I].client.getUsers(this.servers[S][I].session,k).then(ue=>{ue.users.length&&ue.users.forEach(tt=>{this.save_other_user(tt,S,I)}),this.count_channel_online_member(V,S,I)})}},ne.onmatchdata=V=>{switch(console.log("onmatchdata: ",V),V.data_str=decodeURIComponent((new TextDecoder).decode(V.data)),V.op_code){case Wt.ADD_TODO:{let k=V.data_str.split(",");switch(k[0]){case"add":this.servers[S][I].client.readStorageObjects(this.servers[S][I].session,{object_ids:[{collection:k[1],key:k[2],user_id:this.servers[S][I].session.user_id}]}).then(ue=>{ue.objects.length&&this.modify_remote_info_as_local(ue.objects[0].value,S,I)});break;case"done":this.indexed.loadTextFromUserPath(`todo/${k[1]}/info.todo`,(ue,tt)=>{if(ue&&tt){let dt=JSON.parse(tt);dt.done=!0,this.modify_remote_info_as_local(dt,S,I)}});break;case"delete":this.indexed.loadTextFromUserPath(`todo/${k[1]}/info.todo`,(ue,tt)=>{if(ue&&tt){let dt=JSON.parse(tt);this.indexed.GetFileListFromDB(`todo/${k[1]}`,kt=>{kt.forEach(Ln=>this.indexed.removeFileFromUserPath(Ln)),dt.noti_id&&"DesktopPWA"==jt.n$&&(clearTimeout(this.web_noti_id[dt.noti_id]),delete this.web_noti_id[dt.noti_id]),this.noti.ClearNoti(dt.noti_id),(this.global.godot.contentWindow||this.global.godot.contentDocument).remove_todo(JSON.stringify(dt)),this.removeTodoTagInfoImmediatly(dt)})}});break;default:console.warn("\ub4f1\ub85d\ub418\uc9c0 \uc54a\uc740 \ud560 \uc77c \ud589\ub3d9: ",V)}}break;case Wt.EDIT_PROFILE:switch(V.data_str){case"info":this.servers[S][I].client.getAccount(this.servers[S][I].session).then(k=>{Object.keys(k.user).forEach(tt=>this.users.self[tt]=k.user[tt]),this.save_self_profile()});break;case"image":this.servers[S][I].client.readStorageObjects(this.servers[S][I].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:this.servers[S][I].session.user_id}]}).then(k=>{k.objects.length?(this.indexed.saveTextFileToUserPath(JSON.stringify(k.objects[0].value.img),"servers/self/profile.img"),this.users.self.img=k.objects[0].value.img.replace(/"|=|\\/g,"")):this.indexed.removeFileFromUserPath("servers/self/profile.img")});break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ud504\ub85c\ud544 \ub3d9\uae30\ud654 \uc815\ubcf4: ",V)}break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub3d9\uae30\ud654 \uc815\ubcf4: ",V)}},ne.onchannelmessage=V=>{console.log("onchamsg: ",V),this.channels_orig[S][I][V.channel_id]?this.update_from_channel_msg(V,S,I):V.user_id_one?this.join_chat_with_modulation(V.sender_id,2,S,I,()=>{this.update_from_channel_msg(V,S,I)}):V.group_id&&this.join_chat_with_modulation(V.group_id,3,S,I,k=>{this.update_from_channel_msg(V,S,I)})},ne.ondisconnect=V=>{this.p5toast.show({text:`${this.lang.text.Nakama.DisconnectedFromServer}: ${this.servers[S][I].info.name}`,lateable:!0}),this.set_group_statusBar("offline",S,I),this.channels_orig[S]&&this.channels_orig[S][I]&&(Object.keys(this.channels_orig[S][I]).forEach(ue=>{"missing"!=this.channels_orig[S][I][ue].status&&delete this.channels_orig[S][I][ue].status}),this.rearrange_channels()),this.groups[S]&&this.groups[S][I]&&Object.keys(this.groups[S][I]).forEach(ue=>{this.groups[S][I][ue].status="offline"})}})}removeTodoTagInfoImmediatly(S){this.indexed.loadTextFromUserPath("todo/tags.json",(I,J)=>{if(I&&J){let de=JSON.parse(J);(S.tags?JSON.parse(JSON.stringify(S.tags)):[]).forEach(V=>{de[V]&&(de[V]=de[V]-1),de[V]<=0&&delete de[V]}),this.indexed.saveTextFileToUserPath(JSON.stringify(de),"todo/tags.json")}})}saveListedMessage(S,I,J,de){if(3==I.redirect.type&&!this.groups[J][de][I.group_id].open)return;let ne={},V=JSON.parse(JSON.stringify(S));for(;V.length;){ne.target!=V[0].msgDate&&(ne.msg&&this.saveMessageByDate(ne,I,J,de),ne.target=V[0].msgDate,ne.msg=[]);let k=V.shift();delete k.content.text,delete k.content.img,delete k.msgDate,delete k.msgTime,delete k.isLastRead,delete k.showInfo,ne.msg.push(k)}this.saveMessageByDate(ne,I,J,de)}saveMessageByDate(S,I,J,de){if(!S.msg||!S.msg.length)return;let ne=JSON.parse(JSON.stringify(S));this.indexed.loadTextFromUserPath(`servers/${J}/${de}/channels/${I.id}/chats/${ne.target}`,(V,k)=>{let ue=[],tt=[];V&&k&&(ue=JSON.parse(k)),ne.msg.forEach(kt=>{let pn=!1;for(let Ln=0,Zn=ue.length;Ln<Zn;Ln++)if(ue[Ln].message_id==kt.message_id){pn=!0,ue[Ln]=kt;break}pn||tt.push(kt)});let dt=[...ue,...tt];dt.sort((kt,pn)=>kt.create_time<pn.create_time?-1:kt.create_time>pn.create_time?1:0),this.indexed.saveTextFileToUserPath(JSON.stringify(dt),`servers/${J}/${de}/channels/${I.id}/chats/${ne.target}`)})}ModulateTimeDate(S){let I=new Date(S.create_time);S.msgDate=`${I.getFullYear()}-${("00"+(I.getMonth()+1)).slice(-2)}-${("00"+I.getDate()).slice(-2)}`,S.msgTime=`${("00"+I.getHours()).slice(-2)}:${("00"+I.getMinutes()).slice(-2)}`}join_chat_with_modulation(S,I,J,de,ne=(k=>{}),V=!1){return(0,m.mG)(this,void 0,void 0,function*(){this.channels_orig[J][de]||(this.channels_orig[J][de]={}),yield this.servers[J][de].socket.joinChat(S,I,!0,!1).then(k=>{switch(k.redirect={id:S,type:I,persistence:!0},k.server={isOfficial:J,target:de},I){case 2:k.title=this.load_other_user(S,J,de).display_name,k.info=this.load_other_user(S,J,de);break;case 3:k.title=this.groups[J][de][S].name,k.info=this.groups[J][de][S],this.groups[J][de][S].channel_id=k.id,this.save_groups_with_less_info();break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc815\ubcf4: ",I)}this.add_channels(k,J,de),this.servers[J][de].client.listChannelMessages(this.servers[J][de].session,k.id,1,!1).then(ue=>{ue.messages.length&&this.update_from_channel_msg(ue.messages[0],J,de,V)}),this.count_channel_online_member(k,J,de),this.save_groups_with_less_info(),ne(k)})})}update_from_channel_msg(S,I,J,de=!1){let ne=S.sender_id==this.servers[I][J].session.user_id,V=S.message_id!=this.channels_orig[I][J][S.channel_id].last_comment_id,k=this.modulation_channel_message(S,I,J);switch(!ne&&V&&this.noti.PushLocal({id:this.channels_orig[I][J][S.channel_id].cnoti_id,title:this.channels_orig[I][J][S.channel_id].info.name||this.channels_orig[I][J][S.channel_id].info.display_name||this.channels_orig[I][J][S.channel_id].title||this.lang.text.Subscribes.noTitiedChat,body:k.content.msg||k.content.noti||`(${this.lang.text.ChatRoom.attachments})`,extra_ln:{page:{component:"ChatRoomPage",componentProps:{info:{id:S.channel_id,isOfficial:I,target:J,noti_id:this.channels_orig[I][J][S.channel_id].cnoti_id}}}},group_ln:"diychat",smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},this.channels_orig[I][J][S.channel_id].cnoti_id,dt=>{dt.id==this.channels_orig[I][J][S.channel_id].cnoti_id&&this.modalCtrl.create({component:Ot.P,componentProps:{info:this.channels_orig[I][J][S.channel_id]}}).then(kt=>this.go_to_chatroom_without_admob_act(kt))}),k.code){case 0:k.content.gupdate&&this.update_group_info(k,I,J),k.content.user_update&&this.update_group_user_info(k,I,J),V&&(this.channels_orig[I][J][S.channel_id].is_new=!ne,this.subscribe_lock||(this.has_new_channel_msg=!ne));break;case 3:case 4:case 5:case 6:if(this.socket_reactive.group_detail&&this.socket_reactive.group_detail.update_GroupUsersList(I,J),3==k.code||4==k.code)break;if(this.noti_origin[I]&&this.noti_origin[I][J]){let dt=Object.keys(this.noti_origin[I][J]),kt=[];dt.forEach(pn=>{-5==this.noti_origin[I][J][pn].code&&this.noti_origin[I][J][pn].sender_id==k.sender_id&&kt.push(pn)}),this.servers[I][J].client.deleteNotifications(this.servers[I][J].session,kt).then(pn=>{pn||console.warn("\uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \uc54c\ub9bc \uc0ad\uc81c \ud6c4 \uc624\ub958"),this.update_notifications(I,J)})}ne&&(this.channels_orig[I][J][k.channel_id].status="missing",delete this.channels_orig[I][J][k.channel_id].info);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",k)}this.ModulateTimeDate(k),this.check_sender_and_show_name(k,I,J);let ue=S.content.msg;this.content_to_hyperlink(k),this.channels_orig[I][J][S.channel_id].last_comment_time=S.create_time,this.channels_orig[I][J][k.channel_id].last_comment_id=k.message_id,this.rearrange_channels(),!de&&this.channels_orig[I][J][k.channel_id].update&&this.channels_orig[I][J][k.channel_id].update(k),this.saveListedMessage([k],this.channels_orig[I][J][k.channel_id],I,J),this.channels_orig[I][J][k.channel_id].last_comment=(k.content.filename?`(${this.lang.text.ChatRoom.attachments}) `:"")+(ue||k.content.noti||""),this.save_channels_with_less_info()}content_to_hyperlink(S){if(!S.content.msg)return;let I=S.content.msg.split("\n");S.content.msg=[],I.forEach(J=>{J&&S.content.msg.push([{text:J}])});for(let J=0,de=S.content.msg.length;J<de;J++)if(S.content.msg[J][0].text){let ne=S.content.msg[J][0].text.indexOf("http://");if(ne<0&&(ne=S.content.msg[J][0].text.indexOf("https://")),ne>=0){let k,V=[];0!=ne&&(k=S.content.msg[J][0].text.substring(0,ne),V.push({text:k}));let dt,kt,ue=S.content.msg[J][0].text.substring(ne),tt=ue.indexOf(" ");tt<0?(dt=ue,V.push({text:dt,href:!0})):(dt=ue.substring(0,tt),V.push({text:dt,href:!0}),kt=ue.substring(tt),V.push({text:kt})),S.content.msg[J]=V}}}check_sender_and_show_name(S,I,J){S.color=(S.sender_id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),S.sender_id==this.servers[I][J].session.user_id?(S.user_display_name=this.users.self.display_name,S.is_me=!0):S.user_display_name=this.load_other_user(S.sender_id,I,J).display_name,S.user_display_name=S.user_display_name||this.lang.text.Profile.noname_user}modulation_channel_message(S,I,J){this.translate_updates(S);let de=!1;de=this.statusBar.groupServer[I][J]&&"offline"!=this.statusBar.groupServer[I][J]&&"missing"!=this.statusBar.groupServer[I][J]?S.sender_id==this.servers[I][J].session.user_id:S.content.user_update;let ne=de?this.users.self:this.load_other_user(S.sender_id,I,J);switch(S.code){case 0:break;case 3:case 4:S.content.user_update=ne,S.content.noti=`${this.lang.text.Nakama.GroupUserJoin}: ${ne.display_name}`,setTimeout(()=>{this.count_channel_online_member(S,I,J)},50);break;case 5:S.content.user_update=ne,S.content.noti=`${this.lang.text.Nakama.GroupUserOut}: ${ne.display_name}`,setTimeout(()=>{this.count_channel_online_member(S,I,J)},50);break;case 6:S.content.user_update=ne,S.content.noti=`${this.lang.text.Nakama.GroupUserKick}: ${ne.display_name}`,setTimeout(()=>{this.count_channel_online_member(S,I,J)},50);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",S)}return S}update_group_info(S,I,J){switch(this.translate_updates(S),S.content.gupdate){case"image":this.servers[I][J].client.readStorageObjects(this.servers[I][J].session,{object_ids:[{collection:"group_public",key:`group_${S.group_id}`,user_id:S.sender_id}]}).then(de=>{de.objects.length?(this.groups[I][J][S.group_id].img=de.objects[0].value.img.replace(/"|=|\\/g,""),this.indexed.saveTextFileToUserPath(de.objects[0].value.img,`servers/${I}/${J}/groups/${S.group_id}.img`)):(delete this.groups[I][J][S.group_id].img,this.indexed.removeFileFromUserPath(`servers/${I}/${J}/groups/${S.group_id}.img`))});break;case"info":this.servers[I][J].client.listGroups(this.servers[I][J].session,S.content.name).then(de=>{Object.keys(de.groups[0]).forEach(V=>this.groups[I][J][de.groups[0].id][V]=de.groups[0][V])});break;case"remove":this.groups[I][J][S.group_id].status="missing",delete this.groups[I][J][S.group_id].img,this.save_groups_with_less_info(),this.indexed.removeFileFromUserPath(`servers/${I}/${J}/groups/${S.group_id}.img`),this.channels_orig[I][J][S.channel_id].status="missing";break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",S)}}translate_updates(S){if(S.content.user_update)switch(S.content.user_update){case"modify_data":S.content.noti=`${this.lang.text.Profile.user_profile_changed}${S.content.noti_form}`;break;case"modify_img":S.content.noti=`${this.lang.text.Profile.user_img_changed}${S.content.noti_form}`}if(S.content.gupdate)switch(S.content.gupdate){case"info":S.content.noti=this.lang.text.GroupDetail.GroupInfoUpdated;break;case"image":S.content.noti=this.lang.text.GroupDetail.GroupImageUpdated;break;case"remove":S.content.noti=this.lang.text.GroupDetail.GroupRemoved}}update_group_user_info(S,I,J){return(0,m.mG)(this,void 0,void 0,function*(){switch(this.translate_updates(S),S.content.user_update){case"modify_data":yield this.servers[I][J].client.getUsers(this.servers[I][J].session,[S.sender_id]).then(de=>{de.users.length?this.save_other_user(de.users[0],I,J):(delete this.users[I][J][S.sender_id],this.indexed.removeFileFromUserPath(`servers/${I}/${J}/users/${S.sender_id}/profile.json`))});break;case"modify_img":yield this.servers[I][J].client.readStorageObjects(this.servers[I][J].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:S.sender_id}]}).then(de=>{de.objects.length?this.socket_reactive["others-profile"]?this.socket_reactive["others-profile"](de.objects[0].value.img):(this.load_other_user(S.sender_id,I,J).img=de.objects[0].value.img,this.load_other_user(S.sender_id,I,J).avatar_url=de.objects[0].version,this.save_other_user(this.load_other_user(S.sender_id,I,J),I,J)):(this.socket_reactive["others-profile"]&&this.socket_reactive["others-profile"](""),delete this.load_other_user(S.sender_id,I,J).img,this.indexed.removeFileFromUserPath(`servers/${I}/${J}/users/${S.sender_id}/profile.img`))}).catch(de=>{this.users[I][J][S.sender_id].img&&(delete this.users[I][J][S.sender_id].img,this.save_other_user(this.users[I][J][S.sender_id],I,J))});break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \ud589\ub3d9: ",S)}})}check_notifications(S,I,J){console.log("\ud574\ub2f9 \uc54c\ub9bc \ub0b4\uc6a9: ",S);let de=this.servers[I][J];switch(S.code){case 0:case-2:break;case-1:case-3:case-4:case-6:this.noti.RemoveListener(`check${S.code}`),this.noti.ClearNoti(S.code),de.client.deleteNotifications(de.session,[S.id]).then(ne=>{ne||console.warn("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),this.update_notifications(I,J)});break;case-5:de.client.getUsers(de.session,[S.sender_id]).then(ne=>{if(ne.users.length){let V="";V+=`${this.lang.text.Nakama.ReqContServer}: ${S.server.name}<br>`,V+=`${this.lang.text.Nakama.ReqContUserName}: ${ne.users[0].display_name}`,this.alertCtrl.create({header:this.lang.text.Nakama.ReqContTitle,message:V,buttons:[{text:this.lang.text.Nakama.ReqContAccept,handler:()=>{de.client.addGroupUsers(de.session,S.content.group_id,[ne.users[0].id]).then(k=>{k||console.warn("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),this.noti.RemoveListener(`check${S.code}`),this.noti.ClearNoti(S.code),de.client.deleteNotifications(de.session,[S.id]).then(ue=>{ue?this.update_notifications(I,J):console.warn("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",ue)})})}},{text:this.lang.text.Nakama.ReqContReject,handler:()=>{de.client.kickGroupUsers(de.session,S.content.group_id,[ne.users[0].id]).then(k=>{k||console.warn("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),de.client.deleteNotifications(de.session,[S.id]),this.update_notifications(I,J)})}}]}).then(k=>k.present())}else de.client.deleteNotifications(de.session,[S.id]).then(V=>{V||console.warn("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),this.p5toast.show({text:this.lang.text.Nakama.UserNotFound}),this.update_notifications(I,J)})});break;case-7:break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \uad6c\ubd84: ",S.code)}}act_on_notification(S,I,J){let de=!1;switch(S.server=this.servers[I][J].info,S.code){case 0:S.request=`${S.code}-${S.subject}`;break;case-1:let ne;S.request=`${S.code}-${S.subject}`,2===(S.content&&S.content.username&&(ne=2),ne)?this.join_chat_with_modulation(S.sender_id,ne,I,J,k=>(0,m.mG)(this,void 0,void 0,function*(){yield this.servers[I][J].client.listChannelMessages(this.servers[I][J].session,k.id,1,!1).then(ue=>{ue.messages.length&&this.update_from_channel_msg(ue.messages[0],I,J)})})):(console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ud589\ub3d9\ucc98\ub9ac: ",S,ne),S.request=`${S.code}-${S.subject}`),de=!0,this.servers[I][J].client.deleteNotifications(this.servers[I][J].session,[S.id]).then(k=>{k||console.warn("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),this.update_notifications(I,J)});break;case-2:case-3:S.request=`${S.code}-${S.subject}`;break;case-4:this.socket_reactive.group_detail&&this.socket_reactive.group_detail.info.id==S.content.group_id&&this.socket_reactive.group_detail.update_from_notification(S),this.groups[I][J][S.content.group_id].status="online",S.request=`${S.code}-${S.subject}`,this.noti.RemoveListener(`check${S.code}`),this.noti.SetListener(`check${S.code}`,k=>{this.noti.ClearNoti(k.id),this.noti.RemoveListener(`check${S.code}`),this.check_notifications(S,I,J)}),this.servers[I][J].client.readStorageObjects(this.servers[I][J].session,{object_ids:[{collection:"group_public",key:`group_${S.content.group_id}`,user_id:this.groups[I][J][S.content.group_id].creator_id}]}).then(k=>{k.objects.length&&(this.groups[I][J][S.content.group_id].img=k.objects[0].value.img,this.indexed.saveTextFileToUserPath(k.objects[0].value.img,`servers/${I}/${J}/groups/${S.content.group_id}.img`))}),this.join_chat_with_modulation(S.content.group_id,3,I,J,k=>{this.servers[I][J].client.listChannelMessages(this.servers[I][J].session,k.id,1,!1).then(ue=>{ue.messages.length&&this.update_from_channel_msg(ue.messages[0],I,J)})}),this.noti.PushLocal({id:S.code,title:`${this.groups[I][J][S.content.group_id].name}: ${this.lang.text.Nakama.LocalNotiTitle}`,body:S.subject,group_ln:"diychat",icon:this.groups[I][J][S.content.group_id.img],smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},void 0,k=>{this.check_notifications(S,I,J)});break;case-5:let V=this.groups[I][J][S.content.group_id];V?S.request=`${this.lang.text.Nakama.ReqContTitle}: ${V.name}`:(de=!0,this.servers[I][J].client.deleteNotifications(this.servers[I][J].session,[S.id]).then(k=>{k?this.update_notifications(I,J):console.warn("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",k)})),this.socket_reactive.group_detail&&this.socket_reactive.group_detail.info.id==S.content.group_id&&this.socket_reactive.group_detail.update_from_notification(S),this.noti.RemoveListener(`check${S.code}`),this.noti.SetListener(`check${S.code}`,k=>{this.noti.ClearNoti(k.id),this.noti.RemoveListener(`check${S.code}`),!this.socket_reactive.group_detail&&this.modalCtrl.create({component:$t.x,componentProps:{info:this.groups[I][J][S.content.group_id]}}).then(ue=>ue.present())}),this.noti.PushLocal({id:S.code,title:`${this.groups[I][J][S.content.group_id].name}: ${this.lang.text.Nakama.ReqContTitle}`,group_ln:"diychat",icon:this.groups[I][J][S.content.group_id].img,extra_ln:{page:{component:"NakamaReqContTitle",componentProps:{data:{noti_id:S.id,serverName:this.servers[I][J].info.name,userName:this.load_other_user(S.sender_id,I,J).display_name,group_id:S.content.group_id,user_id:S.sender_id,isOfficial:I,Target:J}}}},smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},void 0,k=>{this.socket_reactive.group_detail.info.id!=S.content.group_id&&this.modalCtrl.create({component:$t.x,componentProps:{info:this.groups[I][J][S.content.group_id]}}).then(ue=>ue.present())});break;case-6:case-7:S.request=`${S.code}-${S.subject}`;break;default:console.warn("\ud655\uc778\ub418\uc9c0 \uc54a\uc740 \uc2e4\uc2dc\uac04 \uc54c\ub9bc_nakama_noti: ",S),S.request=`${S.code}-${S.subject}`}de||(this.noti_origin[I]||(this.noti_origin[I]={}),this.noti_origin[I][J]||(this.noti_origin[I][J]={}),this.noti_origin[I][J][S.id]=S)}WriteStorage_From_channel(S,I,J,de,ne=0){return(0,m.mG)(this,void 0,void 0,function*(){let V=JSON.parse(JSON.stringify(S)),k=[...I];this.channel_transfer[J][de]||(this.channel_transfer[J][de]={}),this.channel_transfer[J][de][S.channel_id]||(this.channel_transfer[J][de][S.channel_id]={}),this.channel_transfer[J][de][S.channel_id][S.message_id]||(this.channel_transfer[J][de][S.channel_id][S.message_id]={type:"upload",progress:Array.from(Array(k.length).keys())});for(let ue=ne,tt=k.length;ue<tt;ue++)yield this.servers[J][de].client.writeStorageObjects(this.servers[J][de].session,[{collection:`file_${V.channel_id.replace(/[.]/g,"_")}`,key:`msg_${V.message_id}_${ue}`,permission_read:2,permission_write:1,value:{data:k[ue]}}]).then(dt=>{this.when_transfer_success(S,J,de,ue)}).catch(dt=>(0,m.mG)(this,void 0,void 0,function*(){yield this.retry_upload_part(S,{collection:`file_${V.channel_id.replace(/[.]/g,"_")}`,key:`msg_${V.message_id}_${ue}`,permission_read:2,permission_write:1,value:{data:k[ue]}},J,de,ue)}))})}retry_upload_part(S,I,J,de,ne,V=10){return(0,m.mG)(this,void 0,void 0,function*(){yield this.servers[J][de].client.writeStorageObjects(this.servers[J][de].session,[I]).then(k=>{this.when_transfer_success(S,J,de,ne)}).catch(k=>{V>0?this.retry_upload_part(S,I,J,de,ne,V-1):console.error("\ud30c\uc77c \ub2e4\uc2dc \uc62c\ub9ac\uae30 \uc2e4\ud328: ",k,I,ne)})})}when_transfer_success(S,I,J,de){if(this.channel_transfer[I][J][S.channel_id][S.message_id].progress.shift()!=de){this.channel_transfer[I][J][S.channel_id][S.message_id].progress.unshift(de);for(let ne=0,V=this.channel_transfer[I][J][S.channel_id][S.message_id].progress.length;ne<V;ne++)if(this.channel_transfer[I][J][S.channel_id][S.message_id].progress[ne]==de){this.channel_transfer[I][J][S.channel_id][S.message_id].progress.splice(de,1);break}}if(this.channel_transfer[I][J][S.channel_id][S.message_id].progress.length){if(this.channel_transfer[I][J][S.channel_id][S.message_id].progress[0]%7==0){let ne=JSON.parse(JSON.stringify(this.channel_transfer[I][J][S.channel_id]));ne[S.message_id].OnProgress=!0,this.indexed.saveTextFileToUserPath(JSON.stringify(ne),`servers/${I}/${J}/channels/${S.channel_id}/transfer.history`)}}else delete this.channel_transfer[I][J][S.channel_id][S.message_id],this.indexed.removeFileFromUserPath(`servers/${I}/${J}/channels/${S.channel_id}/transfer.history`)}ReadStorage_From_channel(S,I,J,de=(ne=>{})){return(0,m.mG)(this,void 0,void 0,function*(){let ne=JSON.parse(JSON.stringify(S));if(this.channel_transfer[I][J]||(this.channel_transfer[I][J]={}),this.channel_transfer[I][J][S.channel_id]||(this.channel_transfer[I][J][S.channel_id]={}),this.channel_transfer[I][J][S.channel_id][S.message_id])return;this.channel_transfer[I][J][S.channel_id][S.message_id]||(this.channel_transfer[I][J][S.channel_id][S.message_id]={type:"download",progress:Array.from(Array(ne.content.partsize).keys())});let V=[],k=!0;for(let tt=0,dt=ne.content.partsize;tt<dt;tt++)yield this.servers[I][J].client.readStorageObjects(this.servers[I][J].session,{object_ids:[{collection:`file_${ne.channel_id.replace(/[.]/g,"_")}`,key:`msg_${ne.message_id}_${tt}`,user_id:ne.sender_id}]}).then(kt=>{kt.objects.length?(this.when_transfer_success(ne,I,J,tt),V[tt]=kt.objects[0].value.data):k=!1}).catch(kt=>(0,m.mG)(this,void 0,void 0,function*(){yield this.retry_download_part(ne,{collection:`file_${ne.channel_id.replace(/[.]/g,"_")}`,key:`msg_${ne.message_id}_${tt}`,user_id:ne.sender_id},I,J,tt)}));if(!k)return;let ue=V.join("").replace(/"|\\|=/g,"");ue?(S.content.text=[this.lang.text.ChatRoom.downloaded],this.indexed.saveFileToUserPath(ue,`servers/${I}/${J}/channels/${ne.channel_id}/files/msg_${ne.message_id}.${ne.content.file_ext}`,tt=>{de(new Blob([tt],{type:S.content.type}))})):this.p5toast.show({text:this.lang.text.Nakama.MissingFile})})}retry_download_part(S,I,J,de,ne,V=10){return(0,m.mG)(this,void 0,void 0,function*(){yield this.servers[J][de].client.readStorageObjects(this.servers[J][de].session,{object_ids:[I]}).then(k=>{this.when_transfer_success(S,J,de,ne)}).catch(k=>{V>0?this.retry_upload_part(S,I,J,de,ne,V-1):console.error("\ud30c\uc77c \ub2e4\uc2dc \ubc1b\uae30 \uc2e4\ud328: ",k,I,ne)})})}act_from_QRInfo(S){let I=JSON.parse(S);for(let J=0,de=I.length;J<de;J++)switch(I[J].type){case"link":if(!this.check_comm_server_is_online())return;this.weblink.initialize({pid:I[J].value,uuid:this.uuid});break;case"link_reverse":this.uuid=I[J].value,this.indexed.saveTextFileToUserPath(this.uuid,"link-account"),this.p5toast.show({text:this.lang.text.LinkAccount.link_account_succ,lateable:!0}),this.logout_all_server(),this.users.self.online=!0,this.init_all_sessions();break;case"QRShare":this.modalCtrl.create({component:je.b}).then(V=>V.present());break;case"server":if(Boolean(this.statusBar.groupServer.unofficial[I[J].value.name]))this.p5toast.show({text:`${this.lang.text.Nakama.AlreadyHaveTargetName}: ${I[J].value.name}`}),delete I[J].value.name,this.modalCtrl.create({component:at.P,componentProps:{data:I[J].value}}).then(V=>V.present());else{let V={};V.name=I[J].value.name,V.target=I[J].value.target||I[J].value.name,V.address=I[J].value.address||"192.168.0.1",V.port=I[J].value.port||7350,V.useSSL=I[J].value.useSSL||!1,V.isOfficial=I[J].value.isOfficial||"unofficial",V.key=I[J].value.key||"defaultkey";let k=(new Date).getTime().toString();k+=`,${V.isOfficial}`,k+=`,${V.name}`,k+=`,${V.target}`,k+=`,${V.address}`,k+=`,${V.port}`,k+=`,${V.useSSL}`,this.indexed.loadTextFromUserPath("servers/list_detail.csv",(ue,tt)=>{let dt=[];ue&&tt&&(dt=tt.split("\n"));for(let kt=0,pn=dt.length;kt<pn;kt++)if(dt[kt].split(",")[3]==V.target){dt.splice(kt,1);break}dt.push(k),this.indexed.saveTextFileToUserPath(dt.join("\n"),"servers/list_detail.csv",kt=>{this.init_server(V),this.servers[V.isOfficial][V.target].info=Object.assign({},V),this.init_session(V)}),this.statusBar.groupServer[V.isOfficial][V.target]="offline",this.indexed.saveTextFileToUserPath(JSON.stringify(this.statusBar.groupServer),"servers/list.json")})}return;case"comm_server":this.communityServer.client.close(),this.communityServer.socket_header=I[J].value.useSSL?"wss":"ws",localStorage.setItem("wsc_socket_header",this.communityServer.socket_header),this.communityServer.address_override=I[J].value.address_override,localStorage.setItem("wsc_address_override",this.communityServer.address_override),this.communityServer.initialize();break;case"group_dedi":this.modalCtrl.create({component:Je.X,componentProps:{address:I[J].value.address,name:this.users.self.display_name}}).then(V=>{V.present()});break;case"group":this.try_add_group(I[J]);break;case"EnginePPTLink":this.modalCtrl.create({component:We.i,componentProps:{pid:I[J].pid}}).then(V=>{V.present()});break;default:throw"\uc9c0\uc815\ub41c \ud2c0 \uc544\ub2d8"}}check_comm_server_is_online(){let S=this.communityServer.client.readyState==this.communityServer.client.OPEN;return S||this.p5toast.show({text:this.lang.text.Subscribes.needLinkWithCommServ}),S}}return W.\u0275fac=function(S){return new(S||W)(yt.LFG(lt.A),yt.LFG(ke.F),yt.LFG(Be.g),yt.LFG(Me.H),yt.LFG($e.J),yt.LFG(wt.IN),yt.LFG(wt.Br),yt.LFG(xt.Z),yt.LFG(Lt.b),yt.LFG(Kt.A),yt.LFG(cn.N),yt.LFG(nn.W))},W.\u0275prov=yt.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})()},9123:(hn,Mt,se)=>{"use strict";se.d(Mt,{r:()=>c});var m=se(6505),Xe=se(3041),xe=se(9863),e=se(3996),U=se(9912),E=se(4606),f=se(3336),o=se(3496),a=se(5742),d=se(9808);function u(h,y){if(1&h){const v=xe.EpF();xe.TgZ(0,"td")(1,"ion-button",15),xe.NdJ("click",function(){return xe.CHM(v),xe.oxw(2).notification_react(-5)}),xe._uU(2),xe.qZA()()}if(2&h){const v=xe.oxw(2);xe.xp6(2),xe.hij(" ",v.lang.text.OtherProfile.add_to_group," ")}}function p(h,y){if(1&h){const v=xe.EpF();xe.TgZ(0,"td")(1,"ion-button",15),xe.NdJ("click",function(){return xe.CHM(v),xe.oxw(2).notification_react(-2)}),xe._uU(2),xe.qZA()()}if(2&h){const v=xe.oxw(2);xe.xp6(2),xe.hij(" ",v.lang.text.OtherProfile.add_friend," ")}}function s(h,y){if(1&h){const v=xe.EpF();xe.TgZ(0,"td")(1,"ion-button",15),xe.NdJ("click",function(){return xe.CHM(v),xe.oxw(2).create_chat()}),xe._uU(2),xe.qZA()()}if(2&h){const v=xe.oxw(2);xe.xp6(2),xe.hij(" ",v.lang.text.OtherProfile.privacy_chat," ")}}function r(h,y){if(1&h){const v=xe.EpF();xe.TgZ(0,"td")(1,"ion-button",16),xe.NdJ("click",function(){return xe.CHM(v),xe.oxw(2).kick_user_from_group()}),xe._uU(2),xe.qZA()()}if(2&h){const v=xe.oxw(2);xe.xp6(2),xe.hij(" ",v.lang.text.OtherProfile.kick_from_group," ")}}function i(h,y){if(1&h&&(xe.TgZ(0,"tr")(1,"td")(2,"div",13)(3,"table",14)(4,"tr"),xe.YNc(5,u,3,1,"td",12),xe.YNc(6,p,3,1,"td",12),xe.YNc(7,s,3,1,"td",12),xe.YNc(8,r,3,1,"td",12),xe.qZA()()()()()),2&h){const v=xe.oxw();xe.xp6(5),xe.Q6J("ngIf",v.has_admin&&v.additional_buttons[-5]),xe.xp6(1),xe.Q6J("ngIf",v.additional_buttons[-2]),xe.xp6(1),xe.Q6J("ngIf",v.CanCreateChat),xe.xp6(1),xe.Q6J("ngIf",v.has_admin)}}let c=(()=>{class h{constructor(v,x,w,C,N,M,F){this.modalCtrl=v,this.navParams=x,this.nakama=w,this.statusBar=C,this.p5toast=N,this.indexed=M,this.lang=F,this.info={},this.group_info={},this.additional_buttons={},this.has_admin=!1,this.CanCreateChat=!0,this.onDismissData={},this.lock_create_chat=!1}ngOnInit(){this.nakama.removeBanner(),this.info=this.navParams.get("info"),this.has_admin=this.navParams.get("has_admin"),this.group_info=this.navParams.get("group"),this.isOfficial=this.group_info.server.isOfficial,this.target=this.group_info.server.target,this.nakama.load_other_user(this.info.user.id,this.isOfficial,this.target),this.nakama.socket_reactive["others-profile"]=x=>{this.change_img_smoothly(x)},this.nakama.socket_reactive["others-online"]=()=>{this.p5canvas.loop()},this.catch_user_noties(),this.p5canvas=new m(x=>{let w=document.getElementById("profile_img"),C=document.getElementById("profile_tmp_img");x.draw=()=>{this.info.user.online?this.lerpVal<1?this.lerpVal+=.025:(this.lerpVal=1,x.noLoop()):this.lerpVal>0?this.lerpVal-=.025:(this.lerpVal=0,x.noLoop()),w.setAttribute("style",`filter: grayscale(${x.lerp(.9,0,this.lerpVal)}) contrast(${x.lerp(1.4,1,this.lerpVal)});`),C.setAttribute("style",`filter: grayscale(${x.lerp(.9,0,this.lerpVal)}) contrast(${x.lerp(1.4,1,this.lerpVal)});`)}})}catch_user_noties(){this.nakama.noti_origin[this.isOfficial]&&this.nakama.noti_origin[this.isOfficial][this.target]&&Object.keys(this.nakama.noti_origin[this.isOfficial][this.target]).forEach(w=>{this.nakama.noti_origin[this.isOfficial][this.target][w].sender_id==this.info.user.id&&(this.additional_buttons[this.nakama.noti_origin[this.isOfficial][this.target][w].code.toString()]=w)})}change_img_smoothly(v){let x=setInterval(()=>{},110);setTimeout(()=>{clearInterval(x)},1500),new m(w=>{let C=document.getElementById("profile_tmp_img"),N=document.getElementById("file_sel"),F=0;w.setup=()=>{N.value="",C.setAttribute("style",`filter: grayscale(${w.lerp(.9,0,this.lerpVal)}) contrast(${w.lerp(1.4,1,this.lerpVal)}) opacity(${F})`),this.tmp_img=v},w.draw=()=>{F<1?F+=.035:(F=1,this.info.user.img=this.tmp_img,this.indexed.saveTextFileToUserPath(this.info.user.img,`servers/${this.isOfficial}/${this.target}/users/${this.info.user.id}/profile.img`),this.tmp_img="",w.remove()),C.setAttribute("style",`filter: grayscale(${w.lerp(.9,0,this.lerpVal)}) contrast(${w.lerp(1.4,1,this.lerpVal)}) opacity(${F})`)}})}notification_react(v){switch(console.log("\uc54c\ub9bc\uc5d0 \ub530\ub978 \ud589\ub3d9: ",v),v){case 0:case-1:case-2:break;case-5:this.nakama.servers[this.isOfficial][this.target].client.addGroupUsers(this.nakama.servers[this.isOfficial][this.target].session,this.group_info.group_id||this.group_info.id,[this.info.user.id]).then(x=>{x||console.warn("\ubc34 \uc720\uc800\uc5d0 \ub300\ud55c\uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),this.p5toast.show({text:`${this.lang.text.OtherProfile.added_to_group}: ${this.info.user.display_name||"\uc774\ub984 \uc5c6\ub294 \uc0ac\uc6a9\uc790"}`}),this.nakama.servers[this.isOfficial][this.target].client.deleteNotifications(this.nakama.servers[this.isOfficial][this.target].session,[this.additional_buttons[v.toString()]]).then(w=>{w||console.warn("\uc54c\ub9bc \ubd80\uc815 \uac80\ud1a0 \ud544\uc694"),delete this.additional_buttons[v.toString()],this.nakama.update_notifications(this.isOfficial,this.target),this.onDismissData={id:this.info.user.id,act:"accept_join"},this.info.status="online",this.p5canvas.loop()})});break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ubc18\uc751: ",v)}}create_chat(){this.lock_create_chat||(this.lock_create_chat=!0,this.nakama.join_chat_with_modulation(this.info.user.id,2,this.isOfficial,this.target,v=>{this.modalCtrl.create({component:Xe.P,componentProps:{info:v}}).then(x=>{x.present(),this.lock_create_chat=!1})},!0))}kick_user_from_group(){switch(this.info.state){case 0:case 1:case 2:this.after_announce_kick();break;case 3:this.nakama.servers[this.isOfficial][this.target].client.deleteNotifications(this.nakama.servers[this.isOfficial][this.target].session,[this.additional_buttons[-5]]).then(v=>{v||console.warn("\uc54c\ub9bc \ubd80\uc815 \uac80\ud1a0 \ud544\uc694"),this.after_announce_kick(),delete this.additional_buttons[-5],this.nakama.update_notifications(this.isOfficial,this.target),this.info.status="missing",this.p5canvas.loop()});break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uc0c1\ud0dc: ",this.info)}}after_announce_kick(){this.nakama.servers[this.isOfficial][this.target].client.kickGroupUsers(this.nakama.servers[this.isOfficial][this.target].session,this.group_info.group_id||this.group_info.id,[this.info.user.id]).then(v=>{this.p5toast.show({text:`${this.lang.text.OtherProfile.kicked_from_group}: ${this.info.user.display_name||"\uc774\ub984 \uc5c6\ub294 \uc0ac\uc6a9\uc790"}`}),this.modalCtrl.dismiss({id:this.info.user.id,act:"kick"})})}focus_on_content(){console.warn("\ucf58\ud150\uce20 \uc790\uc138\ud788\ubcf4\uae30 \uae30\ub2a5 \uc900\ube44\uc911")}ionViewDidLeave(){delete this.nakama.socket_reactive["others-profile"],delete this.nakama.socket_reactive["others-online"],this.p5canvas.remove()}}return h.\u0275fac=function(v){return new(v||h)(xe.Y36(e.IN),xe.Y36(e.X1),xe.Y36(U.a),xe.Y36(E.g),xe.Y36(f.F),xe.Y36(o.H),xe.Y36(a.b))},h.\u0275cmp=xe.Xpm({type:h,selectors:[["app-others-profile"]],decls:23,vars:9,consts:[["slot","start",3,"click"],["defaultHref",""],[2,"width","100%","height","100%"],[2,"height","100%"],[2,"vertical-align","top"],[1,"profile_img_form"],["id","profile_img","alt","\ud504\ub85c\ud544 \uc774\ubbf8\uc9c0",1,"profile_img",3,"hidden","src"],["id","profile_tmp_img","alt","\ud504\ub85c\ud544 \uc774\ubbf8\uc9c0",1,"profile_img",3,"hidden","src"],[1,"fore-gradient"],[1,"username"],[3,"click"],["disabled","",1,"infobox","content_size"],[4,"ngIf"],[2,"width","100%"],["id","input_table",2,"width","100%","background-color","black"],["expand","block",3,"click"],["color","danger","expand","block",3,"click"]],template:function(v,x){if(1&v&&(xe.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe._uU(3),xe.qZA(),xe.TgZ(4,"ion-buttons",0),xe.NdJ("click",function(){return x.modalCtrl.dismiss(x.onDismissData)}),xe._UZ(5,"ion-back-button",1),xe.qZA()()(),xe.TgZ(6,"ion-content")(7,"table",2)(8,"tr",3)(9,"td",4)(10,"div",5),xe._UZ(11,"img",6)(12,"img",7)(13,"div",8),xe.TgZ(14,"div",9),xe._uU(15),xe.qZA()(),xe.TgZ(16,"ion-item-divider")(17,"ion-label"),xe._uU(18),xe.qZA()(),xe.TgZ(19,"div",10),xe.NdJ("click",function(){return x.focus_on_content()}),xe.TgZ(20,"textarea",11),xe._uU(21),xe.qZA()()()(),xe.YNc(22,i,9,4,"tr",12),xe.qZA()()),2&v){let w;xe.xp6(3),xe.Oqu(x.lang.text.OtherProfile.Title),xe.xp6(8),xe.Q6J("hidden",!x.info.user.img)("src",x.info.user.img,xe.LSH),xe.xp6(1),xe.Q6J("hidden",!x.tmp_img)("src",x.tmp_img,xe.LSH),xe.xp6(3),xe.Oqu(null!==(w=x.info.user.display_name)&&void 0!==w?w:x.lang.text.Profile.noname_user),xe.xp6(3),xe.Oqu(x.lang.text.Profile.main_content),xe.xp6(3),xe.Oqu(x.lang.text.Profile.no_main_content),xe.xp6(1),xe.Q6J("ngIf","online"==x.statusBar.groupServer[x.isOfficial][x.target])}},directives:[e.Gu,e.sr,e.wd,e.Sm,e.oU,e.cs,e.W2,e.rH,e.Q$,d.O5,e.YG],styles:[".fore-gradient[_ngcontent-%COMP%]{position:relative;background-image:linear-gradient(to top,#000f,#0000);width:100%;height:100%}.content_size[_ngcontent-%COMP%]{height:32vh}"]}),h})()},3336:(hn,Mt,se)=>{"use strict";se.d(Mt,{F:()=>e});var m=se(6505),Xe=se(9863),xe=(()=>{return(U=xe||(xe={}))[U.Idle=0]="Idle",U[U.DivFadeIn=1]="DivFadeIn",U[U.BorderAlert=2]="BorderAlert",U[U.Reading=3]="Reading",U[U.FadeOut=4]="FadeOut",xe;var U})();let e=(()=>{class U{constructor(){this.isShowing=!1,this.stack=[],this.alert=[],this.status=xe.Idle}show(f){let o;f.time=(new Date).getTime(),f.lateable||(this.AlertNow=f,this.status=xe.DivFadeIn),this.alert.length&&(o=this.alert[this.alert.length-1]),this.AlertNow&&this.AlertNow.text==f.text?this.status=xe.DivFadeIn:o&&o.text==f.text||this.alert.push(f),this.isShowing?this.status==xe.FadeOut&&(this.status=xe.DivFadeIn):(this.CurrentToast=new m(d=>{let u,p,s,r=0,i=0,c=0;d.setup=()=>{u=d.createDiv(),u.style("position: absolute; left: 0; top: 0; z-index: 1"),u.style("width: 100%; height: fit-content"),u.style("padding: 32px 32px;"),u.style("display: flex; justify-content: center;"),u.style("pointer-events: none"),h(),s=d.createDiv(),s.parent(u),s.style("display: flex; justify-content: center;"),s.style("width: fit-content; height: fit-content"),s.style("border-radius: 24px"),s.style("background: #44a6fa88"),s.style("padding: 4px"),p=d.createDiv(),p.parent(s),p.style("display: flex; justify-content: center;"),p.style("width: fit-content; height: fit-content"),p.style("word-break: break-all"),p.style("background: #44a6fa88"),p.style("border-radius: 20px"),p.style("padding: 12px"),p.style("color: white"),this.AlertNow||(this.AlertNow=this.alert.shift()),p.html(this.AlertNow.text),y(),this.status=xe.DivFadeIn},d.draw=()=>{switch(this.status){case xe.DivFadeIn:r<1?r+=1:(r=1,i=1,this.status=xe.BorderAlert,p.html(this.AlertNow.text));break;case xe.BorderAlert:if(i>0)i-=.03;else{let x;i=0,x=this.AlertNow.duration?1e3*this.AlertNow.duration:24*(new TextEncoder).encode(this.AlertNow.text).length,c=d.millis()+x+960,this.status=xe.Reading}break;case xe.Reading:d.millis()>c&&(this.alert.length?(this.stack.push(this.AlertNow),this.AlertNow=this.alert.shift(),p.html(this.AlertNow.text),this.status=xe.DivFadeIn):this.status=xe.FadeOut);break;case xe.FadeOut:r>0?r-=.04:v()}h(),y()};let h=()=>{u.style(`opacity: ${r}`)},y=()=>{let x=d.lerpColor(d.color("#44a6fabb"),d.color("#ffd94ebb"),i).levels;s.style(`padding: ${4*i}px`),p.style(`padding: ${d.lerp(16,12,i)}px`),p.style(`border-radius: ${d.lerp(24,20,i)}px`),s.style(`background: rgba(${x[0]}, ${x[1]}, ${x[2]}, ${x[3]/255})`)},v=()=>{this.stack=[...this.stack,this.AlertNow,...this.alert],this.AlertNow=void 0,this.alert.length=0,this.isShowing=!1,this.CurrentToast.remove()}}),this.isShowing=!0)}hide(){this.status=xe.FadeOut}}return U.\u0275fac=function(f){return new(f||U)},U.\u0275prov=Xe.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})()},8982:(hn,Mt,se)=>{"use strict";se.d(Mt,{s:()=>K});var m=se(655),ye=se(6505),xe=se(774),e=se(9912),U=se(5016),E=se(9805),f=se(5087),o=se(9863),a=se(3996),d=se(5742),u=se(3336),p=se(2313),s=se(3496),r=se(8677),i=se(4606),c=se(1282),h=se(5129),y=se(9808),v=se(4182);const x=["StartCalendar"],w=["Calendar"],C=["StoreAt"],N=["ImporantSel"],M=["TagSel"];function F(we,Fe){if(1&we&&(o.TgZ(0,"ion-select-option",34),o._uU(1),o.qZA()),2&we){const Te=Fe.$implicit;o.Q6J("value",Te),o.xp6(1),o.hij("",Te.name," ")}}function j(we,Fe){if(1&we){const Te=o.EpF();o.TgZ(0,"ion-item",29),o.NdJ("click",function(){return o.CHM(Te),o.oxw().StoreAtSelClicked()}),o.TgZ(1,"ion-label"),o._uU(2),o.qZA(),o.TgZ(3,"ion-select",30,31),o.NdJ("ionChange",function(Ve){return o.CHM(Te),o.oxw().StoreAtSelChanged(Ve)}),o.TgZ(5,"ion-select-option",32),o._uU(6),o.qZA(),o.YNc(7,F,2,2,"ion-select-option",33),o.qZA()()}if(2&we){const Te=o.oxw();o.xp6(2),o.Oqu(Te.lang.text.TodoDetail.StoreAt),o.xp6(4),o.Oqu(Te.lang.text.TodoDetail.OnThisDevice),o.xp6(1),o.Q6J("ngForOf",Te.AvailableStorageList)}}function B(we,Fe){if(1&we&&(o.TgZ(0,"ion-item")(1,"ion-label",35),o._uU(2),o.qZA(),o.TgZ(3,"ion-label",36),o._uU(4),o.qZA()()),2&we){const Te=o.oxw(2);o.xp6(2),o.Oqu(Te.lang.text.TodoDetail.ManagerIs),o.xp6(2),o.Oqu(Te.userInput.display_manager)}}function G(we,Fe){if(1&we){const Te=o.EpF();o.TgZ(0,"div")(1,"ion-item")(2,"ion-label",35),o._uU(3),o.qZA(),o.TgZ(4,"ion-label",36),o._uU(5),o.qZA()(),o.YNc(6,B,5,2,"ion-item",8),o.TgZ(7,"ion-grid",37)(8,"ion-row")(9,"ion-col",38)(10,"ion-item",39),o.NdJ("click",function(){return o.CHM(Te),o.oxw().doneTodo()}),o.TgZ(11,"ion-label",40),o._uU(12),o.qZA()()(),o.TgZ(13,"ion-col",38)(14,"ion-item",41),o.NdJ("click",function(){return o.CHM(Te),o.oxw().moveTodo()}),o.TgZ(15,"ion-label",40),o._uU(16),o.qZA()()(),o.TgZ(17,"ion-col",38)(18,"ion-item",42),o.NdJ("click",function(){return o.CHM(Te),o.oxw().focusTodo()}),o.TgZ(19,"ion-label",40),o._uU(20),o.qZA()()()()()()}if(2&we){const Te=o.oxw();o.xp6(3),o.Oqu(Te.userInput.display_store),o.xp6(2),o.Oqu(Te.userInput.display_creator),o.xp6(1),o.Q6J("ngIf",Te.userInput.remote&&Te.userInput.remote.channel_id),o.xp6(4),o.Q6J("disabled",!Te.isModifiable||Te.isButtonClicked),o.xp6(2),o.Oqu(Te.lang.text.TodoDetail.TodoComplete),o.xp6(2),o.Q6J("disabled",!Te.isModifiable||!Te.userInput.remote||!Te.userInput.remote.channel_id||Te.isButtonClicked),o.xp6(2),o.Oqu(Te.lang.text.TodoDetail.TodoMoveTo),o.xp6(4),o.Oqu(Te.lang.text.TodoDetail.TodoFocus)}}function ee(we,Fe){if(1&we&&(o.TgZ(0,"ion-select-option",34),o._uU(1),o.qZA()),2&we){const Te=Fe.$implicit;o.Q6J("value",Te),o.xp6(1),o.Oqu(Te)}}function $(we,Fe){if(1&we){const Te=o.EpF();o.TgZ(0,"ion-item",10),o.NdJ("click",function(){return o.CHM(Te),o.oxw().TagSelClicked()}),o.TgZ(1,"ion-label"),o._uU(2),o.qZA(),o.TgZ(3,"ion-select",43,44),o.NdJ("ionChange",function(Ve){return o.CHM(Te),o.oxw().TagSelChanged(Ve)}),o.TgZ(5,"ion-select-option",45),o._uU(6),o.qZA(),o.YNc(7,ee,2,2,"ion-select-option",33),o.qZA()()}if(2&we){const Te=o.oxw();o.xp6(2),o.Oqu(Te.lang.text.TodoDetail.Tag),o.xp6(1),o.Q6J("value",Te.userInput.tags)("placeholder",Te.lang.text.TodoDetail.SelectTag),o.xp6(3),o.Oqu(Te.lang.text.TodoDetail.NewTag),o.xp6(1),o.Q6J("ngForOf",Te.saved_tag)}}function H(we,Fe){if(1&we){const Te=o.EpF();o.TgZ(0,"ion-item")(1,"ion-label"),o._uU(2),o.qZA(),o.TgZ(3,"ion-input",46),o.NdJ("ngModelChange",function(Ve){return o.CHM(Te),o.oxw().InputNewTag=Ve}),o.qZA(),o.TgZ(4,"ion-button",47),o.NdJ("click",function(){return o.CHM(Te),o.oxw().AddNewTag()}),o._uU(5),o.qZA()()}if(2&we){const Te=o.oxw();o.xp6(2),o.Oqu(Te.lang.text.TodoDetail.Tag),o.xp6(1),o.Q6J("ngModel",Te.InputNewTag)("placeholder",Te.lang.text.TodoDetail.NewTagName),o.xp6(2),o.hij(" ",Te.lang.text.TodoDetail.CreateTag," ")}}function Z(we,Fe){if(1&we){const Te=o.EpF();o.TgZ(0,"ion-button",23),o.NdJ("click",function(){return o.CHM(Te),o.oxw().from_camera()}),o._uU(1),o.qZA()}if(2&we){const Te=o.oxw();o.xp6(1),o.hij(" ",Te.lang.text.TodoDetail.camera," ")}}function oe(we,Fe){if(1&we){const Te=o.EpF();o.TgZ(0,"img",49),o.NdJ("click",function(){o.CHM(Te);const Ve=o.oxw(2).index;return o.oxw().open_ionic_viewer(Ve)}),o.qZA()}if(2&we){const Te=o.oxw(2).$implicit;o.Q6J("src",Te.img,o.LSH)("alt",Te.filename)}}function Q(we,Fe){if(1&we){const Te=o.EpF();o.TgZ(0,"ion-item",10),o.NdJ("click",function(){o.CHM(Te);const Ve=o.oxw(3).index;return o.oxw().open_godot_viewer(Ve)}),o.TgZ(1,"ion-label",35),o._uU(2),o.qZA()()}if(2&we){const Te=o.oxw(4);o.xp6(2),o.Oqu(Te.lang.text.TodoDetail.open_content_viewer)}}function te(we,Fe){if(1&we){const Te=o.EpF();o.TgZ(0,"ion-item",10),o.NdJ("click",function(){o.CHM(Te);const Ve=o.oxw(3).index;return o.oxw().open_ionic_viewer(Ve)}),o.TgZ(1,"ion-label",35),o._uU(2),o.qZA()()}if(2&we){const Te=o.oxw(4);o.xp6(2),o.Oqu(Te.lang.text.TodoDetail.open_content_viewer)}}function me(we,Fe){if(1&we&&(o.TgZ(0,"div"),o.YNc(1,Q,3,1,"ion-item",16),o.YNc(2,te,3,1,"ion-item",16),o.qZA()),2&we){const Te=o.oxw(2).$implicit;o.xp6(1),o.Q6J("ngIf","godot"==Te.viewer),o.xp6(1),o.Q6J("ngIf","image"!=Te.viewer&&"godot"!=Te.viewer)}}function ce(we,Fe){if(1&we&&(o.TgZ(0,"div"),o.YNc(1,oe,1,2,"img",48),o.YNc(2,me,3,2,"div",8),o.qZA()),2&we){const Te=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf","image"==Te.viewer&&Te.img),o.xp6(1),o.Q6J("ngIf","disabled"!=Te.viewer)}}function he(we,Fe){if(1&we){const Te=o.EpF();o.TgZ(0,"div")(1,"ion-item")(2,"ion-label"),o._uU(3),o.qZA(),o.TgZ(4,"ion-button",29),o.NdJ("click",function(){const Ue=o.CHM(Te).index;return o.oxw().remove_attach(Ue)}),o._uU(5),o.qZA()(),o.YNc(6,ce,3,2,"div",8),o.qZA()}if(2&we){const Te=Fe.$implicit,Ie=o.oxw();o.xp6(3),o.Oqu(Te.filename),o.xp6(2),o.hij(" ",Ie.lang.text.TodoDetail.delete_attach," "),o.xp6(1),o.Q6J("ngIf",Te.viewer)}}function Ae(we,Fe){if(1&we&&(o.TgZ(0,"div",53),o._uU(1),o.qZA()),2&we){const Te=Fe.$implicit;o.xp6(1),o.hij(" ",Te.displayText," ")}}function A(we,Fe){if(1&we){const Te=o.EpF();o.TgZ(0,"div")(1,"ion-item",10),o.NdJ("click",function(){return o.CHM(Te),o.oxw().toggle_logs()}),o.TgZ(2,"ion-label"),o._uU(3),o.qZA()(),o.TgZ(4,"div",50),o.YNc(5,Ae,2,1,"div",51),o.qZA(),o._UZ(6,"div",52),o.qZA()}if(2&we){const Te=o.oxw();o.xp6(3),o.Oqu(Te.lang.text.TodoDetail.logs),o.xp6(1),o.Q6J("hidden",Te.isLogsHidden),o.xp6(1),o.Q6J("ngForOf",Te.userInput.logs)}}function q(we,Fe){if(1&we){const Te=o.EpF();o.TgZ(0,"td")(1,"ion-button",54),o.NdJ("click",function(){return o.CHM(Te),o.oxw().deleteData()}),o._uU(2),o.qZA()()}if(2&we){const Te=o.oxw();o.xp6(1),o.Q6J("disabled",!Te.isModifiable||Te.isButtonClicked),o.xp6(1),o.hij(" ",Te.lang.text.TodoDetail.remove," ")}}let K=(()=>{class we{constructor(Te,Ie,Ve,Ue,et,mt,Re,ot,ut,ft,Qe,jt,At){this.navParams=Te,this.modalCtrl=Ie,this.lang=Ve,this.p5toast=Ue,this.sanitizer=et,this.indexed=mt,this.nakama=Re,this.alertCtrl=ot,this.noti=ut,this.statusBar=ft,this.loadingCtrl=Qe,this.global=jt,this.camera=At,this.userInput={id:void 0,storeAt:"local",display_store:"",title:void 0,create_at:void 0,written:void 0,startFrom:void 0,limit:void 0,tags:[],importance:"0",logs:[],description:void 0,remote:void 0,display_creator:void 0,attach:[],done:void 0,manager:void 0,display_manager:void 0,is_focus:void 0,noti_id:void 0},this.saved_tag=[],this.saved_tag_orig={},this.buttonDisplay={saveTodo:this.lang.text.TodoDetail.buttonDisplay_add},this.AmICreator=!0,this.isModify=!1,this.isModifiable=!1,this.isStartCalendarHidden=!0,this.isCalendarHidden=!0,this.isLogsHidden=!0,this.isLimitChangable=!1,this.normal_color="#888b",this.alert_color="#0bbb",this.AlertLerpStartFrom=.8,this.AvailableStorageList=[],this.NewTagName="",this.needInputNewTagName=!0,this.InputNewTag="",this.isButtonClicked=!1}ngOnInit(){this.can_cordova="Android"==U.n$||"iOS"==U.n$,this.nakama.removeBanner(),this.indexed.loadTextFromUserPath("todo/tags.json",(Ue,et)=>{Ue&&et&&(this.saved_tag_orig=JSON.parse(et),this.saved_tag=Object.keys(this.saved_tag_orig),this.saved_tag.length&&(this.needInputNewTagName=!1))});let Te=[];Object.keys(this.nakama.servers).forEach(Ue=>{Object.keys(this.nakama.servers[Ue]).forEach(mt=>{"online"==this.statusBar.groupServer[Ue][mt]&&Te.push({name:`${this.nakama.servers[Ue][mt].info.name}`,isOfficial:Ue,target:mt,type:`${Ue}/${mt}`})})}),[...Te].forEach(Ue=>{this.AvailableStorageList.push(Ue)})}ionViewWillEnter(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.received_data=this.navParams.get("data"),this.received_data)this.buttonDisplay.saveTodo=this.lang.text.TodoDetail.buttonDisplay_modify,this.isModify=!0;else{let Ie=new Date((new Date).getTime()+864e5);this.userInput.limit=Ie.getTime()}if(this.received_data){let Ie=JSON.parse(this.received_data);if(Ie.attach.constructor!=Array){let Ve=JSON.parse(JSON.stringify(Ie.attach));Ie.attach=[],Ve.filename&&(Ve.path=`todo/${Ie.id}/${Ve.filename}`,Ie.attach.push(Ve))}this.userInput=Object.assign(Object.assign({},this.userInput),Ie)}if(this.userInput.attach.length)for(let Ie=0,Ve=this.userInput.attach.length;Ie<Ve;Ie++){let Ue=yield this.indexed.loadBlobFromUserPath(this.userInput.attach[Ie].path,this.userInput.attach[Ie].type),et=URL.createObjectURL(Ue);this.global.modulate_thumbnail(this.userInput.attach[Ie],et),this.userInput.attach[Ie].exist=!0}try{if("local"==this.userInput.storeAt)this.isModify||(this.StoreAt.value=this.userInput.storeAt),this.userInput.display_store=this.lang.text.TodoDetail.OnThisDevice,this.userInput.display_creator=this.lang.text.TodoDetail.WrittenByMe,this.userInput.display_manager=this.lang.text.TodoDetail.WrittenByMe,this.isModifiable=!0;else if(this.userInput.remote){if(this.isModify||(this.StoreAt.value=this.userInput.remote),this.StoreAt.placeholder=this.userInput.remote.name,this.userInput.display_store=this.userInput.remote.name,this.userInput.display_creator=this.lang.text.TodoDetail.Disconnected,this.userInput.display_manager=this.lang.text.TodoDetail.Disconnected,!this.nakama.servers[this.userInput.remote.isOfficial]||!this.nakama.servers[this.userInput.remote.isOfficial][this.userInput.remote.target])throw this.userInput.display_creator=this.lang.text.TodoDetail.DeletedServer,{text:"Server Deleted",isModifiable:!0};if(this.statusBar.groupServer[this.userInput.remote.isOfficial]&&"online"!=this.statusBar.groupServer[this.userInput.remote.isOfficial][this.userInput.remote.target])throw{text:"Server disconnected",isModifiable:!1};"online"==this.statusBar.groupServer[this.userInput.remote.isOfficial][this.userInput.remote.target]&&(this.isModifiable=!0),this.AmICreator=this.nakama.servers[this.userInput.remote.isOfficial][this.userInput.remote.target].session.user_id==this.userInput.remote.creator_id,this.userInput.display_creator=this.AmICreator?this.lang.text.TodoDetail.WrittenByMe:this.nakama.load_other_user(this.userInput.remote.creator_id,this.userInput.remote.isOfficial,this.userInput.remote.target).display_name,this.userInput.display_manager=this.nakama.servers[this.userInput.remote.isOfficial][this.userInput.remote.target].session.user_id==this.userInput.manager?this.nakama.users.self.display_name:this.nakama.load_other_user(this.userInput.manager,this.userInput.remote.isOfficial,this.userInput.remote.target).display_name,this.userInput.remote.group_id&&(this.isModifiable="online"==this.nakama.groups[this.userInput.remote.isOfficial][this.userInput.remote.target][this.userInput.remote.group_id].status)}}catch(Ie){this.isModifiable=Ie.isModifiable,console.log("Server issue: ",Ie.text)}this.userInput.logs.length&&this.userInput.logs.forEach(Ie=>Ie.displayText=this.lang.text.TodoDetail[Ie.translateCode]||Ie.translateCode),this.noti.Current=this.userInput.id;let Te=new Date(this.userInput.limit);if(this.Calendar.value=new Date(Te.getTime()-60*Te.getTimezoneOffset()*1e3).toISOString(),this.userInput.startFrom){let Ie=new Date(this.userInput.startFrom);this.startDisplay=Ie.toLocaleString(this.lang.lang),this.startDisplay=this.startDisplay.substring(0,this.startDisplay.lastIndexOf(":"))}this.limitDisplay=Te.toLocaleString(this.lang.lang),this.limitDisplay=this.limitDisplay.substring(0,this.limitDisplay.lastIndexOf(":")),this.isLimitChangable=!0,this.follow_resize()})}ionViewDidEnter(){this.show_count_timer()}toggle_start_calendar(){this.p5resize.windowResized(),this.isStartCalendarHidden=!this.isStartCalendarHidden,this.isCalendarHidden=!0}toggle_calendar(){this.p5resize.windowResized(),this.isCalendarHidden=!this.isCalendarHidden,this.isStartCalendarHidden=!0}toggle_logs(){if(this.isLogsHidden=!this.isLogsHidden,!this.isLogsHidden){let Te=document.getElementById("content");setTimeout(()=>{Te.scrollIntoView({behavior:"smooth",block:"start"})},50)}}start_change(Te){!this.isLimitChangable||(this.userInput.startFrom=Te.detail.value,this.startDisplay=new Date(Te.detail.value).toLocaleString(this.lang.lang),this.startDisplay=this.startDisplay.substring(0,this.startDisplay.lastIndexOf(":")),this.startTimeP5Display=new Date(this.userInput.startFrom).getTime())}limit_change(Te){!this.isLimitChangable||(this.userInput.limit=Te.detail.value,this.limitDisplay=new Date(Te.detail.value).toLocaleString(this.lang.lang),this.limitDisplay=this.limitDisplay.substring(0,this.limitDisplay.lastIndexOf(":")),this.limitTimeP5Display=new Date(this.userInput.limit).getTime())}follow_resize(){setTimeout(()=>{this.p5resize=new ye(Ie=>{let Ve=document.getElementById("main_table"),Ue=document.getElementById("main_div"),et=document.getElementById("bottom_buttons");Ie.setup=()=>{setTimeout(()=>{Ie.windowResized()},100),Ie.noLoop()},Ie.windowResized=()=>{setTimeout(()=>{Ue.setAttribute("style",`max-width: ${Ve.parentElement.offsetWidth}px; max-height: ${Ve.parentElement.clientHeight-et.offsetHeight}px`)},0)}})},50)}remove_attach(Te){this.userInput.attach.splice(Te,1)}show_count_timer(){this.p5timer=new ye(Te=>{let Ie=0;this.startTimeP5Display=new Date(this.userInput.startFrom||this.userInput.written).getTime(),this.limitTimeP5Display=new Date(this.userInput.limit).getTime();let Ve,Ue=Te.color(this.normal_color);Te.setup=()=>{let ut=document.getElementById("p5timer"),ft=Te.createCanvas(ut.clientWidth,ut.clientHeight);ft.id("timer"),ft.style("position","inherit"),ft.style("width","100%"),ft.style("height","100%"),ft.parent(ut),Te.noStroke()};let et=0,mt=()=>{Ve=(new Date).getTime(),et=this.limitTimeP5Display<Ve?1:Te.map(Ve,this.startTimeP5Display,this.limitTimeP5Display,0,1,!0),et<=this.AlertLerpStartFrom?Ue=Te.color(this.normal_color):et>this.AlertLerpStartFrom&&(Ue=Te.lerpColor(Te.color(this.normal_color),Te.color(this.alert_color),Te.map(et,this.AlertLerpStartFrom,1,0,1)*Ie))};Te.draw=()=>{mt(),Te.clear(255,255,255,255),Te.push(),Te.fill(Ue),Ie<1?(Ie+=.04,Ie>=1&&(Ie=1),Te.rect(0,0,Te.lerp(0,Te.width,et*Re(Ie)),Te.height)):Te.rect(0,0,Te.lerp(0,Te.width,et),Te.height),Te.pop()};let Re=ut=>ot(Te.sq(ot(ut))),ot=ut=>1-ut})}from_camera(){this.camera.getPicture({destinationType:0,correctOrientation:!0}).then(Te=>(0,m.mG)(this,void 0,void 0,function*(){let Ie=yield this.loadingCtrl.create({message:this.lang.text.TodoDetail.WIP});Ie.present();let Ve="data:image/jpeg;base64,"+Te,Ue={},et=new Date;Ue.filename=`Camera_${et.toLocaleString().replace(/:/g,"_")}.jpeg`,Ue.file_ext="jpeg",Ue.thumbnail=this.sanitizer.bypassSecurityTrustUrl(Ve),Ue.type="image/jpeg",Ue.typeheader="image",Ue.content_related_creator=[{display_name:this.nakama.users.self.display_name}],Ue.content_creator=[{display_name:this.nakama.users.self.display_name}],Ue.img=Ve,Ue.path=`todo/add_tmp.${Ue.filename}`,Ue.viewer="image",yield this.indexed.saveFileToUserPath(Ve,Ue.path),Ie.dismiss(),this.userInput.attach.push(Ue)}))}new_attach(){this.modalCtrl.create({component:E.$}).then(Te=>{Te.onWillDismiss().then(Ie=>(0,m.mG)(this,void 0,void 0,function*(){if(Ie.data){let Ve={};Ve.filename=Ie.data.name,Ve.file_ext="png",Ve.type="image/png",Ve.content_related_creator=[{display_name:this.nakama.users.self.display_name}],Ve.content_creator=[{display_name:this.nakama.users.self.display_name}],Ve.viewer="image",Ve.img=this.sanitizer.bypassSecurityTrustUrl(Ie.data.img),Ve.path=`todo/add_tmp.${Ve.filename}`,yield this.indexed.saveFileToUserPath(Ie.data.img,Ve.path),Ie.data.loadingCtrl.dismiss(),this.userInput.attach.push(Ve)}})),Te.present()})}select_attach(){document.getElementById("file_sel").click()}inputImageSelected(Te){return(0,m.mG)(this,void 0,void 0,function*(){if(!Te.target.files.length)return;let Ie=yield this.loadingCtrl.create({message:this.lang.text.TodoDetail.WIP});Ie.present();let Ve={};Ve.filename=Te.target.files[0].name,Ve.file_ext=Te.target.files[0].name.substring(Te.target.files[0].name.lastIndexOf(".")+1),Ve.filesize=Te.target.files[0].size,Ve.type=Te.target.files[0].type,Ve.path=`todo/add_tmp.${Ve.filename}`,this.global.set_viewer_category(Ve),this.userInput.attach.push(Ve);let Ue=yield this.global.GetBase64ThroughFileReader(Te.target.files[0]);"image"==Ve.viewer&&(Ve.img=this.sanitizer.bypassSecurityTrustUrl(Ue)),this.indexed.saveFileToUserPath(Ue,Ve.path,et=>{Ie.dismiss()})})}StoreAtSelClicked(){this.StoreAt.open()}StoreAtSelChanged(Te){let Ie=Te.detail.value;"local"==Ie?(this.userInput.storeAt="local",this.userInput.remote=void 0,this.userInput.manager=void 0):(this.userInput.storeAt=Ie.type,this.userInput.remote=Ie)}ImporantSelClicked(){this.ImporantSel.open()}ImporantSelChanged(Te){switch(this.userInput.importance=Te.detail.value,this.userInput.importance){case"0":this.normal_color="#888b",this.alert_color="#0bbb",this.AlertLerpStartFrom=.8;break;case"1":this.normal_color="#888b",this.alert_color="#dddd0cbb",this.AlertLerpStartFrom=.5;break;case"2":this.normal_color="#dddd0cbb",this.alert_color="#800b",this.AlertLerpStartFrom=.4}}TagSelClicked(){this.TagSel.open()}TagSelChanged(Te){let Ie=Te.detail.value;this.needInputNewTagName=Ie.includes("@new_tag"),this.needInputNewTagName&&Ie.splice(Ie.lastIndexOf("@new_tag"),1),this.userInput.tags=Ie}AddNewTag(){if(this.InputNewTag=this.InputNewTag.trim(),!this.InputNewTag)return void setTimeout(()=>{this.needInputNewTagName=!1,this.InputNewTag=""},0);let Te=!0;for(let Ie=0,Ve=this.saved_tag.length;Ie<Ve;Ie++)if(this.saved_tag[Ie]==this.InputNewTag){Te=!1;break}Te&&(this.saved_tag.push(this.InputNewTag),this.userInput.tags.push(this.InputNewTag)),setTimeout(()=>{this.needInputNewTagName=!1,this.InputNewTag=""},0)}saveTagInfo(){var Te;let Ve=null!==(Te=(this.received_data?JSON.parse(this.received_data):{}).tags)&&void 0!==Te?Te:[],Ue=this.userInput.tags?JSON.parse(JSON.stringify(this.userInput.tags)):[],et=[],mt=[];if(Ve.sort(),Ue.sort(),Ue.length)for(let Re=0,ot=Ue.length;Re<ot;Re++){let ut=Ve.indexOf(Ue[Re]);ut>=0?Ve.splice(ut,1):et.push(Ue[Re])}mt=Ve,et.forEach(Re=>{this.saved_tag_orig[Re]||(this.saved_tag_orig[Re]=0),this.saved_tag_orig[Re]=this.saved_tag_orig[Re]+1}),mt.forEach(Re=>{this.saved_tag_orig[Re]&&(this.saved_tag_orig[Re]=this.saved_tag_orig[Re]-1),this.saved_tag_orig[Re]<=0&&delete this.saved_tag_orig[Re]}),this.indexed.saveTextFileToUserPath(JSON.stringify(this.saved_tag_orig),"todo/tags.json")}removeTagInfo(){(this.userInput.tags?JSON.parse(JSON.stringify(this.userInput.tags)):[]).forEach(Ie=>{this.saved_tag_orig[Ie]&&(this.saved_tag_orig[Ie]=this.saved_tag_orig[Ie]-1),this.saved_tag_orig[Ie]<=0&&delete this.saved_tag_orig[Ie]}),this.indexed.saveTextFileToUserPath(JSON.stringify(this.saved_tag_orig),"todo/tags.json")}open_ionic_viewer(Te){this.modalCtrl.create({component:xe.B,componentProps:{info:this.userInput.attach[Te],path:this.userInput.attach[Te].path}}).then(Ie=>{Ie.onDidDismiss().then(Ve=>{if(Ve.data){let Ue=[];if(this.userInput.attach[Te].content_related_creator&&Ue.push(...this.userInput.attach[Te].content_related_creator),this.userInput.attach[Te].content_creator){let et=!1;for(let mt=0,Re=Ue.length;mt<Re;mt++)if(Ue[mt].user_id==this.userInput.attach[mt].content_creator[0].user_id){et=!0;break}et||Ue.push(...this.userInput.attach[Te].content_creator)}this.modalCtrl.create({component:E.$,componentProps:{info:this.userInput.attach[Te],path:this.userInput.attach[Te].path,width:Ve.data.width,height:Ve.data.height}}).then(et=>{et.onWillDismiss().then(mt=>{if(mt.data){let Re=this.userInput.attach[Te];Re.filename=mt.data.name,Re.file_ext="png",Re.type="image/png",Re.viewer="image",Re.content_related_creator=Ue,Re.content_creator=[{display_name:this.nakama.users.self.display_name}],Re.img=this.sanitizer.bypassSecurityTrustUrl(mt.data.img),Re.path=`todo/add_tmp.${Re.filename}`,this.indexed.saveFileToUserPath(mt.data.img,Re.path,ot=>{mt.data.loadingCtrl.dismiss()})}}),et.present()})}}),this.noti.Current="IonicViewerPage",Ie.present()})}open_godot_viewer(Te){this.modalCtrl.create({component:f.r,componentProps:{info:this.userInput.attach[Te],path:this.userInput.attach[Te].path}}).then(Ie=>{this.noti.Current="GodotViewerPage",Ie.present()})}doneTodo(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.isButtonClicked=!0,this.userInput.done=!0,this.global.godot_window.add_todo(JSON.stringify(this.userInput)),this.userInput.remote){let Te=yield this.loadingCtrl.create({message:this.lang.text.TodoDetail.WIP});Te.present(),yield this.nakama.servers[this.userInput.remote.isOfficial][this.userInput.remote.target].socket.sendMatchState(this.nakama.self_match.match_id,e.h.ADD_TODO,encodeURIComponent(`done,${this.userInput.id}`)),Te.dismiss()}this.deleteFromStorage(!1)})}moveTodo(){console.warn("\uc5c5\ubb34 \uc774\uad00 \ud589\ub3d9 \ud544\uc694")}focusTodo(){console.warn("\uc5c5\ubb34 \uc9d1\uc911 \ud589\ub3d9 \ud544\uc694... \uc9d1\uc911 \ub9d0\uace0 \ub2e4\ub978\uac8c \ud544\uc694")}saveData(){return(0,m.mG)(this,void 0,void 0,function*(){if(!this.userInput.title)return void this.p5toast.show({text:this.lang.text.TodoDetail.needDisplayName});this.isButtonClicked=!0;let Te=Boolean(this.userInput.attach.length);delete this.userInput.display_store,delete this.userInput.display_manager,delete this.userInput.display_creator,this.userInput.logs.forEach(Re=>{delete Re.displayText});let Ie=this.InputNewTag.trim();if(Ie&&(this.userInput.tags.includes(Ie)||this.userInput.tags.push(Ie)),JSON.stringify(this.userInput)==this.received_data)return void this.modalCtrl.dismiss();this.userInput.create_at||(this.userInput.create_at=(new Date).getTime()),(!this.userInput.id||!this.isModify)&&(this.userInput.id=this.userInput.remote?this.userInput.remote.channel_id?`${this.userInput.remote.isOfficial}_${this.userInput.remote.target}_${this.userInput.remote.channel_id}_${this.userInput.remote.message_id}`:`${this.userInput.remote.isOfficial}_${this.userInput.remote.target}_${new Date(this.userInput.create_at).toISOString().replace(/[:|.]/g,"_")}`:new Date(this.userInput.create_at).toISOString().replace(/[:|.]/g,"_")),this.userInput.noti_id&&("DesktopPWA"==U.n$&&(clearTimeout(this.nakama.web_noti_id[this.userInput.noti_id]),delete this.nakama.web_noti_id[this.userInput.noti_id]),this.noti.ClearNoti(this.userInput.noti_id)),this.userInput.noti_id=this.nakama.get_noti_id(),this.nakama.set_todo_notification(this.userInput);let Ue=this.received_data?JSON.parse(this.received_data):void 0,et=!1;try{let Re=JSON.stringify(Ue.attach),ot=JSON.parse(JSON.stringify(this.userInput.attach));ot.forEach(ut=>{delete ut.exist,delete ut.img}),ot=JSON.stringify(ot),et=Re!=ot}catch(Re){et=!0}if(Te&&et){let ot,Re=yield this.loadingCtrl.create({message:this.lang.text.TodoDetail.WIP});if(Re.present(),Ue){yield this.indexed.removeFileFromUserPath(`todo/${this.userInput.id}/thumbnail.png`);for(let ut=0,ft=Ue.attach.length;ut<ft;ut++){for(let Qe=0,jt=this.userInput.attach.length;Qe<jt;Qe++)if(this.userInput.attach[Qe].path==Ue.attach[ut].path){Ue.attach[ut].exist=!0,Ue.attach[ut].index=Qe;break}(!Ue.attach[ut].exist||Ue.attach[ut].exist&&!this.userInput.attach[Ue.attach[ut].index])&&(yield this.indexed.removeFileFromUserPath(Ue.attach[ut].path))}}for(let ut=0,ft=this.userInput.attach.length;ut<ft;ut++){let Qe;if(!this.userInput.attach[ut].exist||!ot&&"image"==this.userInput.attach[ut].viewer){let jt=yield this.indexed.loadBlobFromUserPath(this.userInput.attach[ut].path,this.userInput.attach[ut].type);Qe=yield this.global.GetBase64ThroughFileReader(jt),this.userInput.attach[ut].path=`todo/${this.userInput.id}/${this.userInput.attach[ut].filename}`,yield this.indexed.saveFileToUserPath(Qe,this.userInput.attach[ut].path)}else delete this.userInput.attach[ut].exist;!ot&&"image"==this.userInput.attach[ut].viewer&&(ot=Qe)}ot&&(yield new Promise(ut=>{new ye(ft=>{ft.setup=()=>{ft.loadImage(ot,Qe=>{Qe.width>Qe.height?Qe.resize(Qe.width/Qe.height*128,128):Qe.resize(128,Qe.height/Qe.width*128),ft.createCanvas(128,128).hide(),ft.smooth(),ft.image(Qe,-(Qe.width-128)/2,-(Qe.height-128)/2),ft.saveFrames("","png",1,1,$t=>{this.indexed.saveFileToUserPath($t[0].imageData.replace(/"|=|\\/g,""),`todo/${this.userInput.id}/thumbnail.png`,Ot=>{ut()}),ft.remove()})},Qe=>{console.error("Todo-\ub4f1\ub85d\ub41c \uc774\ubbf8\uc9c0 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",Qe),ut(),ft.remove()})}})})),this.global.last_frame_name="",yield this.global.CreateGodotIFrame("godot-todo",{local_url:"assets/data/godot/todo.pck",title:"Todo",add_todo_menu:ut=>{this.modalCtrl.create({component:we,componentProps:{godot:this.global.godot_window,data:ut}}).then(ft=>ft.present())}}),Re.dismiss()}else if(!Te&&Ue){yield this.indexed.removeFileFromUserPath(`todo/${this.userInput.id}/thumbnail.png`);for(let Re=0,ot=Ue.attach.length;Re<ot;Re++)yield this.indexed.removeFileFromUserPath(Ue.attach[Re].path)}if(this.userInput.attach.forEach(Re=>{URL.revokeObjectURL(Re.img),delete Re.img,delete Re.exist}),this.userInput.written=(new Date).getTime(),this.userInput.startFrom){let Re=new Date(this.userInput.startFrom).getTime();(new Date).getTime()>Re?delete this.userInput.startFrom:this.userInput.startFrom=Re}if(this.userInput.limit=new Date(this.userInput.limit).getTime(),this.userInput.logs.push({creator:this.userInput.remote?this.nakama.servers[this.userInput.remote.isOfficial][this.userInput.remote.target].session.user_id:"",createTime:(new Date).getTime(),translateCode:this.isModify?"ModifyTodo":"CreateTodo"}),this.isModify||this.userInput.remote&&!this.userInput.remote.creator_id&&(this.userInput.remote.creator_id=this.nakama.servers[this.userInput.remote.isOfficial][this.userInput.remote.target].session.user_id,this.userInput.manager=this.nakama.servers[this.userInput.remote.isOfficial][this.userInput.remote.target].session.user_id),this.isLogsHidden=!0,this.userInput.remote){let Re=yield this.loadingCtrl.create({message:this.lang.text.TodoDetail.WIP});Re.present();let ot={};ot=this.userInput.remote.channel_id?{collection:"group_todo",key:this.userInput.id,permission_read:2,permission_write:2,value:this.userInput}:{collection:"server_todo",key:this.userInput.id,permission_read:1,permission_write:1,value:this.userInput};try{yield this.nakama.servers[this.userInput.remote.isOfficial][this.userInput.remote.target].client.writeStorageObjects(this.nakama.servers[this.userInput.remote.isOfficial][this.userInput.remote.target].session,[ot]).then(ut=>(0,m.mG)(this,void 0,void 0,function*(){yield this.nakama.servers[this.userInput.remote.isOfficial][this.userInput.remote.target].socket.sendMatchState(this.nakama.self_match.match_id,e.h.ADD_TODO,encodeURIComponent(`add,${ut.acks[0].collection},${ut.acks[0].key}`))})),Re.dismiss()}catch(ut){return console.error("\ud574\uc57c\ud560 \uc77c\uc774 \uc11c\ubc84\uc5d0 \uc804\uc1a1\ub418\uc9c0 \uc54a\uc74c: ",ut),this.p5toast.show({text:this.lang.text.TodoDetail.CanAddToServer}),this.isButtonClicked=!1,void Re.dismiss()}}let mt=()=>{try{this.global.godot_window.add_todo(JSON.stringify(this.userInput)),this.indexed.saveTextFileToUserPath(JSON.stringify(this.userInput),`todo/${this.userInput.id}/info.todo`,Re=>{this.saveTagInfo(),this.modalCtrl.dismiss()})}catch(Re){setTimeout(()=>{mt()},100)}};mt()})}deleteData(){this.alertCtrl.create({header:this.lang.text.TodoDetail.removeTodo,message:this.lang.text.TodoDetail.terminateTodo,buttons:[{text:this.lang.text.TodoDetail.remove,handler:()=>{this.deleteFromStorage()}}]}).then(Te=>Te.present())}deleteFromStorage(Te=!0){return(0,m.mG)(this,void 0,void 0,function*(){if(this.isButtonClicked=!0,this.userInput.remote){let Ie={};Ie=this.userInput.remote.channel_id?{collection:"group_todo",key:this.userInput.id}:{collection:"server_todo",key:this.userInput.id};try{yield this.nakama.servers[this.userInput.remote.isOfficial][this.userInput.remote.target].client.deleteStorageObjects(this.nakama.servers[this.userInput.remote.isOfficial][this.userInput.remote.target].session,{object_ids:[Ie]}),Te&&(yield this.nakama.servers[this.userInput.remote.isOfficial][this.userInput.remote.target].socket.sendMatchState(this.nakama.self_match.match_id,e.h.ADD_TODO,encodeURIComponent(`delete,${this.userInput.id}`)))}catch(Ve){console.error("\ud574\uc57c\ud560 \uc77c \uc0ad\uc81c \uc694\uccad\uc774 \uc11c\ubc84\uc5d0 \uc804\uc1a1\ub418\uc9c0 \uc54a\uc74c: ",Ve)}}this.indexed.GetFileListFromDB(`todo/${this.userInput.id}`,Ie=>{Ie.forEach(Ve=>this.indexed.removeFileFromUserPath(Ve)),this.userInput.noti_id&&"DesktopPWA"==U.n$&&(clearTimeout(this.nakama.web_noti_id[this.userInput.noti_id]),delete this.nakama.web_noti_id[this.userInput.noti_id]),this.noti.ClearNoti(this.userInput.noti_id),this.global.godot_window.remove_todo(JSON.stringify(this.userInput)),this.removeTagInfo(),this.modalCtrl.dismiss()})})}ionViewWillLeave(){return(0,m.mG)(this,void 0,void 0,function*(){this.indexed.GetFileListFromDB("todo/add_tmp.",Te=>{Te.forEach(Ie=>this.indexed.removeFileFromUserPath(Ie))}),this.noti.Current="",this.p5resize.remove(),this.p5timer.remove(),this.global.CreateGodotIFrame("godot-todo",{local_url:"assets/data/godot/todo.pck",title:"Todo",add_todo_menu:Te=>{this.modalCtrl.create({component:we,componentProps:{godot:this.global.godot_window,data:Te}}).then(Ie=>Ie.present())}})})}}return we.\u0275fac=function(Te){return new(Te||we)(o.Y36(a.X1),o.Y36(a.IN),o.Y36(d.b),o.Y36(u.F),o.Y36(p.H7),o.Y36(s.H),o.Y36(e.a),o.Y36(a.Br),o.Y36(r.J),o.Y36(i.g),o.Y36(a.HT),o.Y36(c.A),o.Y36(h.V1))},we.\u0275cmp=o.Xpm({type:we,selectors:[["app-add-todo-menu"]],viewQuery:function(Te,Ie){if(1&Te&&(o.Gf(x,5),o.Gf(w,5),o.Gf(C,5),o.Gf(N,5),o.Gf(M,5)),2&Te){let Ve;o.iGM(Ve=o.CRH())&&(Ie.StartCalendar=Ve.first),o.iGM(Ve=o.CRH())&&(Ie.Calendar=Ve.first),o.iGM(Ve=o.CRH())&&(Ie.StoreAt=Ve.first),o.iGM(Ve=o.CRH())&&(Ie.ImporantSel=Ve.first),o.iGM(Ve=o.CRH())&&(Ie.TagSel=Ve.first)}},decls:66,vars:32,consts:[["slot","start",3,"click"],["defaultHref","main"],["id","main_table",2,"width","100%","height","100%"],[2,"height","100%"],[2,"vertical-align","top"],["id","p5timer",2,"position","absolute","width","100%","height","8px","z-index","2"],["id","main_div",1,"main"],[3,"click",4,"ngIf"],[4,"ngIf"],[1,"ion-text-right",3,"ngModel","placeholder","ngModelChange"],["button","",3,"click"],[2,"pointer-events","none",3,"value","ionChange"],["ImporantSel",""],["value","2"],["value","1"],["value","0"],["button","",3,"click",4,"ngIf"],[1,"ion-text-right","uneditable_data"],[2,"display","inline",3,"hidden","locale","ionChange"],["StartCalendar",""],["Calendar",""],[1,"infobox",3,"ngModel","placeholder","ngModelChange"],["class","ion-text-right",3,"click",4,"ngIf"],[1,"ion-text-right",3,"click"],[4,"ngFor","ngForOf"],["hidden","","type","file","id","file_sel","accept","*",3,"change"],[2,"width","100%"],["id","bottom_buttons",2,"width","100%","background-color","black"],["expand","block",3,"disabled","click"],[3,"click"],[2,"pointer-events","none",3,"ionChange"],["StoreAt",""],["value","local"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["color","medium"],["color","medium",1,"ion-text-right"],["fixed",""],["col-33",""],["button","","color","success",3,"disabled","click"],[1,"ion-text-center"],["button","","color","warning",3,"disabled","click"],["button","","color","light","disabled","",3,"click"],["multiple","true",2,"pointer-events","none",3,"value","placeholder","ionChange"],["TagSel",""],["value","@new_tag"],["type","text",1,"ion-text-end",3,"ngModel","placeholder","ngModelChange"],[2,"margin-left","16px",3,"click"],["class","image_thumbnail",3,"src","alt","click",4,"ngIf"],[1,"image_thumbnail",3,"src","alt","click"],[3,"hidden"],["class","logs",4,"ngFor","ngForOf"],["id","content"],[1,"logs"],["color","danger","expand","block",3,"disabled","click"]],template:function(Te,Ie){1&Te&&(o.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o._uU(3),o.qZA(),o.TgZ(4,"ion-buttons",0),o.NdJ("click",function(){return Ie.modalCtrl.dismiss()}),o._UZ(5,"ion-back-button",1),o.qZA()()(),o.TgZ(6,"ion-content")(7,"table",2)(8,"tr",3)(9,"td",4),o._UZ(10,"div",5),o.TgZ(11,"div",6),o.YNc(12,j,8,3,"ion-item",7),o.YNc(13,G,21,8,"div",8),o.TgZ(14,"ion-item")(15,"ion-label"),o._uU(16),o.qZA(),o.TgZ(17,"ion-input",9),o.NdJ("ngModelChange",function(Ue){return Ie.userInput.title=Ue}),o.qZA()(),o.TgZ(18,"ion-item",10),o.NdJ("click",function(){return Ie.ImporantSelClicked()}),o.TgZ(19,"ion-label"),o._uU(20),o.qZA(),o.TgZ(21,"ion-select",11,12),o.NdJ("ionChange",function(Ue){return Ie.ImporantSelChanged(Ue)}),o.TgZ(23,"ion-select-option",13),o._uU(24),o.qZA(),o.TgZ(25,"ion-select-option",14),o._uU(26),o.qZA(),o.TgZ(27,"ion-select-option",15),o._uU(28),o.qZA()()(),o.YNc(29,$,8,5,"ion-item",16),o.YNc(30,H,6,4,"ion-item",8),o.TgZ(31,"ion-item",10),o.NdJ("click",function(){return Ie.toggle_start_calendar()}),o.TgZ(32,"ion-label"),o._uU(33),o.qZA(),o.TgZ(34,"ion-label",17),o._uU(35),o.qZA()(),o.TgZ(36,"ion-datetime",18,19),o.NdJ("ionChange",function(Ue){return Ie.start_change(Ue)}),o.qZA(),o.TgZ(38,"ion-item",10),o.NdJ("click",function(){return Ie.toggle_calendar()}),o.TgZ(39,"ion-label"),o._uU(40),o.qZA(),o.TgZ(41,"ion-label",17),o._uU(42),o.qZA()(),o.TgZ(43,"ion-datetime",18,20),o.NdJ("ionChange",function(Ue){return Ie.limit_change(Ue)}),o.qZA(),o.TgZ(45,"textarea",21),o.NdJ("ngModelChange",function(Ue){return Ie.userInput.description=Ue}),o.qZA(),o.TgZ(46,"ion-item")(47,"ion-label"),o._uU(48),o.qZA(),o.YNc(49,Z,2,1,"ion-button",22),o.TgZ(50,"ion-button",23),o.NdJ("click",function(){return Ie.new_attach()}),o._uU(51),o.qZA(),o.TgZ(52,"ion-button",23),o.NdJ("click",function(){return Ie.select_attach()}),o._uU(53),o.qZA()(),o.YNc(54,he,7,3,"div",24),o.TgZ(55,"input",25),o.NdJ("change",function(Ue){return Ie.inputImageSelected(Ue)}),o.qZA(),o.YNc(56,A,7,3,"div",8),o.qZA()()(),o.TgZ(57,"tr")(58,"td")(59,"div",26)(60,"table",27)(61,"tr")(62,"td")(63,"ion-button",28),o.NdJ("click",function(){return Ie.saveData()}),o._uU(64),o.qZA()(),o.YNc(65,q,3,2,"td",8),o.qZA()()()()()()()),2&Te&&(o.xp6(3),o.Oqu(Ie.lang.text.TodoDetail.Title),o.xp6(9),o.Q6J("ngIf",!Ie.isModify),o.xp6(1),o.Q6J("ngIf",Ie.isModify),o.xp6(3),o.Oqu(Ie.lang.text.TodoDetail.DisplayName),o.xp6(1),o.Q6J("ngModel",Ie.userInput.title)("placeholder",Ie.lang.text.TodoDetail.DisplayName_placeholder),o.xp6(3),o.Oqu(Ie.lang.text.TodoDetail.Importance),o.xp6(1),o.Q6J("value",Ie.userInput.importance),o.xp6(3),o.Oqu(Ie.lang.text.TodoDetail.Importance_2),o.xp6(2),o.Oqu(Ie.lang.text.TodoDetail.Importance_1),o.xp6(2),o.Oqu(Ie.lang.text.TodoDetail.Importance_0),o.xp6(1),o.Q6J("ngIf",!Ie.needInputNewTagName),o.xp6(1),o.Q6J("ngIf",Ie.needInputNewTagName),o.xp6(3),o.Oqu(Ie.lang.text.TodoDetail.startFrom),o.xp6(2),o.Oqu(Ie.startDisplay||Ie.lang.text.TodoDetail.startImmediatly),o.xp6(1),o.Q6J("hidden",Ie.isStartCalendarHidden)("locale",Ie.lang.lang),o.xp6(4),o.Oqu(Ie.lang.text.TodoDetail.limit),o.xp6(2),o.Oqu(Ie.limitDisplay),o.xp6(1),o.Q6J("hidden",Ie.isCalendarHidden)("locale",Ie.lang.lang),o.xp6(2),o.Q6J("ngModel",Ie.userInput.description)("placeholder",Ie.lang.text.TodoDetail.description),o.xp6(3),o.Oqu(Ie.lang.text.TodoDetail.attachments),o.xp6(1),o.Q6J("ngIf",Ie.can_cordova),o.xp6(2),o.hij(" ",Ie.lang.text.TodoDetail.new_attach," "),o.xp6(2),o.hij(" ",Ie.lang.text.TodoDetail.add_attach," "),o.xp6(1),o.Q6J("ngForOf",Ie.userInput.attach),o.xp6(2),o.Q6J("ngIf",Ie.isModify),o.xp6(7),o.Q6J("disabled",!Ie.isModifiable||Ie.isButtonClicked),o.xp6(1),o.hij(" ",Ie.buttonDisplay.saveTodo," "),o.xp6(1),o.Q6J("ngIf",Ie.isModify))},directives:[a.Gu,a.sr,a.wd,a.Sm,a.oU,a.cs,a.W2,y.O5,a.Ie,a.Q$,a.t9,a.QI,a.n0,y.sg,a.jY,a.Nd,a.wI,a.pK,a.j9,v.JJ,v.On,a.YG,a.x4,v.Fj],styles:[".uneditable_data[_ngcontent-%COMP%]{color:#888}.main[_ngcontent-%COMP%]{width:100%;padding:8px;overflow-x:hidden;overflow-y:auto;scroll-behavior:smooth}.logs[_ngcontent-%COMP%]{background:var(--voidDraw-menu-background);border-radius:8px;margin:8px;padding:4px 8px;text-align:center}.image_thumbnail[_ngcontent-%COMP%]{width:auto;height:auto;object-fit:contain;display:block;margin:auto}"]}),we})()},1107:(hn,Mt,se)=>{"use strict";se.d(Mt,{i:()=>w});var m=se(655),ye=se(5016),Xe=se(6505),e=se(9863),U=se(5742),E=se(1282),f=se(2855),o=se(9016),a=se(3496),d=se(3336),u=se(3996),p=se(4606),s=se(9808),r=se(4182);function i(C,N){if(1&C){const M=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3),e.qZA(),e.TgZ(4,"ion-buttons",2),e.NdJ("click",function(){return e.CHM(M),e.oxw().go_back()}),e._UZ(5,"ion-back-button",3),e.qZA()()()}if(2&C){const M=e.oxw();e.xp6(3),e.Oqu(M.lang.text.Settings.EnginePPT)}}function c(C,N){if(1&C&&(e.TgZ(0,"div")(1,"ion-item-divider")(2,"ion-label"),e._uU(3),e.qZA()(),e._UZ(4,"img",8),e.qZA()),2&C){const M=e.oxw(2);e.xp6(3),e.Oqu(M.lang.text.EngineWorksPPT.LinkTitle),e.xp6(1),e.Q6J("src",M.QRCode,e.LSH)}}function h(C,N){if(1&C){const M=e.EpF();e.TgZ(0,"div")(1,"ion-item-divider")(2,"ion-label"),e._uU(3),e.qZA()(),e.TgZ(4,"ion-item")(5,"ion-label"),e._uU(6),e.qZA(),e.TgZ(7,"ion-input",9),e.NdJ("ngModelChange",function(j){return e.CHM(M),e.oxw(2).InputAddress=j}),e.qZA()(),e.TgZ(8,"ion-item",10),e.NdJ("click",function(){return e.CHM(M),e.oxw(2).ConnectToAddress()}),e.TgZ(9,"ion-label",6),e._uU(10),e.qZA()()()}if(2&C){const M=e.oxw(2);e.xp6(3),e.Oqu(M.lang.text.EngineWorksPPT.ManualLink),e.xp6(3),e.Oqu(M.lang.text.EngineWorksPPT.Address),e.xp6(1),e.Q6J("ngModel",M.InputAddress)("placeholder",M.lang.text.EngineWorksPPT.InputAddress+" (IPv4)"),e.xp6(1),e.Q6J("disabled",M.ConnectButtonDisabled),e.xp6(2),e.Oqu(M.lang.text.EngineWorksPPT.Connect)}}function y(C,N){if(1&C){const M=e.EpF();e.TgZ(0,"div"),e._UZ(1,"div",4),e.YNc(2,c,5,2,"div",0),e.YNc(3,h,11,6,"div",0),e.TgZ(4,"ion-item-divider")(5,"ion-label"),e._uU(6),e.qZA()(),e.TgZ(7,"ion-item",5),e.NdJ("click",function(){return e.CHM(M),e.oxw().buttonClickLinkInputFile()}),e.TgZ(8,"ion-label",6),e._uU(9),e.qZA()(),e.TgZ(10,"input",7),e.NdJ("change",function(j){return e.CHM(M),e.oxw().inputpckselected(j)}),e.qZA()()}if(2&C){const M=e.oxw();e.xp6(2),e.Q6J("ngIf",M.QRCode),e.xp6(1),e.Q6J("ngIf",!M.LinkedAddress),e.xp6(3),e.Oqu(M.lang.text.EngineWorksPPT.JustStart),e.xp6(3),e.Oqu(M.lang.text.EngineWorksPPT.DropFileHere)}}function v(C,N){if(1&C){const M=e.EpF();e.TgZ(0,"div")(1,"ion-item-divider")(2,"ion-label"),e._uU(3),e.qZA()(),e.TgZ(4,"textarea",11),e.NdJ("ngModelChange",function(j){return e.CHM(M),e.oxw().RemoteDesc=j}),e.qZA(),e.TgZ(5,"ion-item",12),e._UZ(6,"div",13),e.TgZ(7,"ion-label",14),e._uU(8),e.qZA()(),e.TgZ(9,"ion-item",5),e.NdJ("click",function(){return e.CHM(M),e.oxw().CreateEngineController()}),e.TgZ(10,"ion-label",6),e._uU(11),e.qZA()()()}if(2&C){const M=e.oxw();e.xp6(3),e.Oqu(M.lang.text.EngineWorksPPT.Manual),e.xp6(1),e.Q6J("ngModel",M.RemoteDesc),e.xp6(2),e.Akn("background-color: "+M.statusBar.colors[M.statusBar.tools.engineppt||"offline"]),e.xp6(2),e.Oqu(M.lang.text.EngineWorksPPT.RemoteServer),e.xp6(3),e.Oqu(M.lang.text.EngineWorksPPT.StartRemote)}}function x(C,N){1&C&&e._UZ(0,"div",15)}let w=(()=>{class C{constructor(M,F,j,B,G,ee,$,H,Z,oe){this.lang=M,this.global=F,this.assistServer=j,this.toolServer=B,this.indexed=G,this.p5toast=ee,this.loadingCtrl=$,this.modalCtrl=H,this.navParams=Z,this.statusBar=oe,this.EventListenerAct=Q=>{Q.detail.register(150,()=>{})},this.ToggleHeader=!0,this.Status="initialize",this.InputAddress="",this.LinkedAddress="",this.ConnectButtonDisabled=!1}ngOnInit(){}ionViewWillEnter(){this.prerequisite_check()}prerequisite_check(){"Android"==ye.n$||"iOS"==ye.n$?(this.Status="initApp",this.assistServer.client&&this.assistServer.client.readyState==this.assistServer.client.OPEN&&(this.assistServer.received.req_link=M=>{console.log("\ub370\uc774\ud130\ub97c \ubc1b\uc74c: ",M)}),this.load_info_text(),this.StartRemoteContrServer()):(this.Status="initPWA",this.assistServer.client&&this.assistServer.client.readyState==this.assistServer.client.OPEN&&(this.QRCode=this.global.readasQRCodeFromId({pid:this.assistServer.pid,type:"EnginePPTLink"}),this.assistServer.disconnected.remove_tool_link=()=>{this.QRCode=""},this.assistServer.received.req_link=M=>(0,m.mG)(this,void 0,void 0,function*(){try{this.LinkedAddress=yield this.CatchAvailableAddress(M.addresses)}catch(F){this.p5toast.show({text:this.lang.text.EngineWorksPPT.CannotConnect})}})),setTimeout(()=>{this.CreateDrop()},0))}CreateDrop(){let M=document.getElementById("p5Drop");this.p5canvas=new Xe(F=>{F.setup=()=>{let j=F.createCanvas(M.clientWidth,M.clientHeight);j.parent(M),j.drop(B=>(0,m.mG)(this,void 0,void 0,function*(){this.StartPresentation(B.name,B.data)}))}})}buttonClickLinkInputFile(){document.getElementById("file_sel").click()}inputpckselected(M){return(0,m.mG)(this,void 0,void 0,function*(){let F=yield this.global.GetBase64ThroughFileReader(M.target.files[0]);this.StartPresentation(M.target.files[0].name,F)})}StartPresentation(M,F){return(0,m.mG)(this,void 0,void 0,function*(){if("pck"!=M.substring(M.lastIndexOf(".")+1))return void this.p5toast.show({text:this.lang.text.EngineWorksPPT.FileExtPck});let B=yield this.loadingCtrl.create({message:this.lang.text.TodoDetail.WIP});B.present(),yield this.indexed.saveFileToUserPath(F,"engineppt/presentation_this.pck"),this.CreateEnginePPT(),setTimeout(()=>{B.dismiss()},1e3)})}CreateEnginePPT(){this.ToggleHeader=!1,this.Status="OnPresentation",this.p5canvas&&this.p5canvas.remove(),setTimeout(()=>{this.TempWs.close(),this.global.CreateGodotIFrame("engineppt",{local_url:"assets/data/godot/engineppt.pck",title:"EnginePPT",remoteAddr:this.LinkedAddress,p5toast:M=>{this.p5toast.show({text:M})}})},0)}load_info_text(){this.p5canvas=new Xe(M=>{M.loadStrings(`assets/data/infos/${this.lang.lang}/engine_remote.txt`,F=>{this.RemoteDesc=F.join("\n")})})}StartRemoteContrServer(){this.toolServer.initialize("engineppt",12021,()=>{this.toolServer.list.engineppt.OnDisconnected.showDisconnected=()=>{"OnPresentation"==this.Status&&this.p5toast.show({text:this.lang.text.EngineWorksPPT.Disconnected})},this.assistServer.client&&this.assistServer.client.readyState==this.assistServer.client.OPEN&&this.RequestLinkThisDevice()},M=>{"exit"===(console.log("\uc218\uc2e0\ubc1b\uc740 \uba54\uc2dc\uc9c0\ub294: ",M),M.act)?this.Status="initApp":console.log("\uc608\uc0c1\ud558\uc9c0 \uc54a\uc740 \uc218\uc2e0\uac12: ",M)})}ConnectToAddress(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.InputAddress=this.InputAddress.trim(),this.InputAddress){this.ConnectButtonDisabled=!0;try{this.LinkedAddress=yield this.CatchAvailableAddress([this.InputAddress])}catch(M){this.p5toast.show({text:this.lang.text.EngineWorksPPT.CannotConnect})}this.ConnectButtonDisabled=!1}else this.p5toast.show({text:this.lang.text.EngineWorksPPT.NeedAddress})})}CatchAvailableAddress(M){return new Promise((F,j)=>(0,m.mG)(this,void 0,void 0,function*(){let B;for(let G=0,ee=M.length;G<ee;G++)try{B=yield new Promise((H,Z)=>{this.TempWs=new WebSocket(`ws://${M[G]}:12021`),this.TempWs.onopen=oe=>{H(M[G])},this.TempWs.onclose=oe=>{this.LinkedAddress="","OnPresentation"!=this.Status&&this.p5toast.show({text:this.lang.text.EngineWorksPPT.Disconnected}),Z("onclose")}});break}catch($){console.log("test: ",$),this.TempWs.close()}B?(this.p5toast.show({text:`${this.lang.text.EngineWorksPPT.ReadyToConnect}: ${B}`}),F(B)):(this.LinkedAddress="",j("\uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \uc8fc\uc18c \uc5c6\uc74c"))}))}RequestLinkThisDevice(){let M={act:"req_link",pid:this.navParams.get("pid"),sender:this.assistServer.pid,addresses:this.toolServer.addresses};this.assistServer.send(JSON.stringify(M))}CreateEngineController(){this.Status="OnPresentation",this.p5canvas&&this.p5canvas.remove(),document.addEventListener("ionBackButton",this.EventListenerAct),this.send_device_rotation(),setTimeout(()=>{this.global.CreateGodotIFrame("engineppt",{local_url:"assets/data/godot/engineppt.pck",title:"EnginePPTContr",pointer_pos:(M,F)=>{console.log(`testSend_position: (${M}, ${F})`),this.toolServer.send_to("engineppt",`testSend_position: (${M}, ${F})`)}})},0)}send_device_rotation(){this.p5gyro=new Xe(M=>{M.draw=()=>{this.global.godot_window.set_horizontal_rot&&this.global.godot_window.set_horizontal_rot(M.rotationZ),this.global.godot_window.set_vertical_rot&&this.global.godot_window.set_vertical_rot(M.rotationX)}})}go_back(){"EnginepptPageModule"!=this.modalCtrl.injector.source&&this.modalCtrl.dismiss()}ionViewWillLeave(){document.removeEventListener("ionBackButton",this.EventListenerAct),this.toolServer.stop("engineppt"),delete this.assistServer.received.req_link,delete this.assistServer.disconnected.remove_tool_link,this.TempWs&&this.TempWs.close(),this.p5canvas&&this.p5canvas.remove()}}return C.\u0275fac=function(M){return new(M||C)(e.Y36(U.b),e.Y36(E.A),e.Y36(f.Z),e.Y36(o.N),e.Y36(a.H),e.Y36(d.F),e.Y36(u.HT),e.Y36(u.IN),e.Y36(u.X1),e.Y36(p.g))},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-engineppt"]],decls:5,vars:4,consts:[[4,"ngIf"],["class","full_screen","id","engineppt",4,"ngIf"],["slot","start",3,"click"],["defaultHref",""],["id","p5Drop",2,"position","absolute","width","100%","height","100%"],["button","",3,"click"],[1,"ion-text-center"],["hidden","","type","file","id","file_sel","accept","*",3,"change"],["alt","QRCode Loading",2,"width","100%","height","auto",3,"src"],[1,"ion-text-end",3,"ngModel","placeholder","ngModelChange"],["button","",3,"disabled","click"],["disabled","",1,"infobox",2,"height","280px",3,"ngModel","ngModelChange"],["button",""],[1,"additional_form","status_bar_single"],[1,"form_margin"],["id","engineppt",1,"full_screen"]],template:function(M,F){1&M&&(e.YNc(0,i,6,1,"ion-header",0),e.TgZ(1,"ion-content"),e.YNc(2,y,11,4,"div",0),e.YNc(3,v,12,6,"div",0),e.YNc(4,x,1,0,"div",1),e.qZA()),2&M&&(e.Q6J("ngIf",F.ToggleHeader),e.xp6(2),e.Q6J("ngIf","initPWA"==F.Status),e.xp6(1),e.Q6J("ngIf","initApp"==F.Status),e.xp6(1),e.Q6J("ngIf","OnPresentation"==F.Status))},directives:[s.O5,u.Gu,u.sr,u.wd,u.Sm,u.oU,u.cs,u.W2,u.rH,u.Q$,u.Ie,u.pK,u.j9,r.JJ,r.On,r.Fj],styles:[""]}),C})()},428:(hn,Mt,se)=>{"use strict";se.d(Mt,{x:()=>w});var m=se(655),ye=se(9194),Xe=se(9123),xe=se(9863),e=se(3996),U=se(9912),E=se(4606),f=se(3496),o=se(5742),a=se(1282),d=se(3336),u=se(9808),p=se(4182);function s(C,N){if(1&C&&(xe.TgZ(0,"ion-item",14)(1,"ion-label",15),xe._uU(2),xe.qZA()()),2&C){const M=xe.oxw();xe.xp6(2),xe.Oqu(M.lang.text.GroupDetail.NotAcceptYet)}}function r(C,N){if(1&C&&(xe.TgZ(0,"ion-item",14)(1,"ion-label",15),xe._uU(2),xe.qZA()()),2&C){const M=xe.oxw();xe.xp6(2),xe.Oqu(M.lang.text.GroupDetail.MissedGroup)}}function i(C,N){if(1&C&&(xe.TgZ(0,"ion-item-divider")(1,"ion-label"),xe._uU(2),xe.qZA()()),2&C){const M=xe.oxw();xe.xp6(2),xe.hij("",M.lang.text.GroupDetail.Members+" ("+M.info.users.length+"/"+M.info.max_count+")"," ")}}function c(C,N){if(1&C){const M=xe.EpF();xe.TgZ(0,"ion-item",3),xe.NdJ("click",function(){const B=xe.CHM(M).$implicit;return xe.oxw().open_user_profile(B)}),xe._UZ(1,"div",4),xe.TgZ(2,"div",5),xe._UZ(3,"img",6),xe.qZA(),xe.TgZ(4,"ion-label",7),xe._uU(5),xe.qZA()()}if(2&C){const M=N.$implicit,F=xe.oxw();xe.xp6(1),xe.Akn("background-color: "+F.statusBar.colors[M.status||F.info.status||"offline"]),xe.xp6(2),xe.Akn("filter: "+(M.user.online?"grayscale(0) contrast(1);":"grayscale(.9) contrast(1.4);")),xe.Q6J("src",M.user.img,xe.LSH),xe.xp6(2),xe.Oqu(M.user.display_name||F.lang.text.Profile.noname_user)}}function h(C,N){if(1&C&&xe._UZ(0,"img",16),2&C){const M=xe.oxw();xe.Q6J("src",M.QRCodeSRC,xe.LSH)}}function y(C,N){if(1&C){const M=xe.EpF();xe.TgZ(0,"ion-item",3),xe.NdJ("click",function(){return xe.CHM(M),xe.oxw().remove_group()}),xe.TgZ(1,"ion-label",17),xe._uU(2),xe.qZA()()}if(2&C){const M=xe.oxw();xe.xp6(2),xe.Oqu(M.lang.text.GroupDetail.BreakupGroup)}}function v(C,N){if(1&C){const M=xe.EpF();xe.TgZ(0,"ion-item",3),xe.NdJ("click",function(){return xe.CHM(M),xe.oxw().remove_group()}),xe.TgZ(1,"ion-label",17),xe._uU(2),xe.qZA()()}if(2&C){const M=xe.oxw();xe.xp6(2),xe.Oqu(M.lang.text.GroupDetail.RemoveGroup)}}function x(C,N){if(1&C){const M=xe.EpF();xe.TgZ(0,"ion-item",3),xe.NdJ("click",function(){return xe.CHM(M),xe.oxw().leave_group()}),xe.TgZ(1,"ion-label",17),xe._uU(2),xe.qZA()()}if(2&C){const M=xe.oxw();xe.xp6(2),xe.Oqu(M.lang.text.GroupDetail.LeaveGroup)}}let w=(()=>{class C{constructor(M,F,j,B,G,ee,$,H){this.navParams=M,this.nakama=F,this.modalCtrl=j,this.statusBar=B,this.indexed=G,this.lang=ee,this.global=$,this.p5toast=H,this.has_admin=!1,this.need_edit=!1,this.lock_modal_open=!1}ngOnInit(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.nakama.removeBanner(),this.info=this.navParams.get("info"),this.info_orig=JSON.parse(JSON.stringify(this.navParams.get("info"))),this.nakama.socket_reactive.group_detail=this,this.QRCodeSRC=this.global.readasQRCodeFromId({id:this.info.id,name:this.info.name,type:"group"}),this.isOfficial=this.info.server.isOfficial,this.target=this.info.server.target,this.has_admin="online"==this.statusBar.groupServer[this.isOfficial][this.target],yield this.nakama.load_groups(this.isOfficial,this.target,this.info.id),this.info.users&&this.info.users.length){for(let M=0,F=this.info.users.length;M<F;M++)this.info.users[M].is_me?this.info.users[M].user=this.nakama.users.self:this.info.users[M].user.id?this.info.users[M].user=this.nakama.load_other_user(this.info.users[M].user.id,this.isOfficial,this.target):this.info.users.splice(M,1);this.has_admin&&"missing"!=this.info.status&&this.state_to_status(this.isOfficial,this.target)}})}state_to_status(M,F){for(let j=0,B=this.info.users.length;j<B;j++){switch(this.info.users[j].state){case 0:case 1:this.info.users[j].status="certified";break;case 2:this.info.users[j].status="online";break;case 3:this.info.users[j].status="pending";break;default:console.warn("\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ub098\uce74\ub9c8 \uadf8\ub8f9\uc6d0\uc758 \uc0c1\ud0dc: ",this.info.users[j].state)}this.info.users[j].is_me&&(this.info.creator_id==this.nakama.servers[M][F].session.user_id&&(this.has_admin=!0),this.info.status=this.info.users[j].status,"certified"==this.info.status?this.info.status="online":this.has_admin=!1)}}update_from_notification(M){switch(M.code){case-4:case-5:this.update_GroupUsersList(M.server.isOfficial,M.server.target);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",M)}}update_GroupUsersList(M,F){this.nakama.servers[M][F].client.listGroupUsers(this.nakama.servers[M][F].session,this.info.id).then(j=>{let B=[];for(let G=0,ee=j.group_users.length;G<ee;G++)if(j.group_users[G].user.id==this.nakama.servers[M][F].session.user_id)B.push({state:j.group_users[G].state,user:this.nakama.users.self});else{let $=this.nakama.load_other_user(j.group_users[G].user.id,M,F);this.nakama.save_other_user(j.group_users[G].user,M,F),B.push({state:j.group_users[G].state,user:$})}this.info.users=B,this.state_to_status(M,F)})}buttonClickInputFile(){this.has_admin&&document.getElementById("file_sel").click()}inputImageSelected(M){return(0,m.mG)(this,void 0,void 0,function*(){let F=yield this.global.GetBase64ThroughFileReader(M.target.files[0]);this.nakama.limit_image_size(F,j=>{this.info.img=j.canvas.toDataURL(),this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.writeStorageObjects(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,[{collection:"group_public",key:`group_${this.info.id}`,value:{img:this.info.img},permission_read:2,permission_write:1}]).then(B=>{this.indexed.saveTextFileToUserPath(JSON.stringify(this.info.img),`servers/${this.info.server.isOfficial}/${this.info.server.target}/groups/${this.info.id}.img`),this.nakama.servers[this.info.server.isOfficial][this.info.server.target].socket.writeChatMessage(this.info.channel_id,{gupdate:"image"})})})})}remove_group(){this.need_edit=!1;try{if(this.nakama.servers[this.info.server.isOfficial][this.info.server.target]){if(this.info.creator_id!=this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session.user_id)throw this.lang.text.GroupDetail.YouAreNotCreator;"online"==this.info.status?this.nakama.servers[this.info.server.isOfficial][this.info.server.target].socket.writeChatMessage(this.info.channel_id,{gupdate:"remove"}).then(M=>{this.after_remove_group()}):this.after_remove_group()}else this.nakama.remove_group_list(this.info,this.info.server.isOfficial,this.info.server.target),this.modalCtrl.dismiss({remove:!0})}catch(M){this.p5toast.show({text:M})}}after_remove_group(){this.leave_channel(),this.nakama.remove_group_list(this.info,this.info.server.isOfficial,this.info.server.target),this.modalCtrl.dismiss({remove:!0})}edit_group(){"online"==this.statusBar.groupServer[this.info.server.isOfficial][this.info.server.target]&&"missing"!=this.info.status&&this.has_admin&&this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.updateGroup(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,this.info.id,{name:this.info.name,lang_tag:this.info.lang_tag,description:this.info.description,open:this.info.open}).then(M=>{this.nakama.servers[this.info.server.isOfficial][this.info.server.target].socket.writeChatMessage(this.info.channel_id,{gupdate:"info",name:this.info.name})}),this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id]=this.info,this.nakama.save_groups_with_less_info()}open_user_profile(M){this.lock_modal_open||(this.lock_modal_open=!0,M.is_me?this.modalCtrl.create({component:ye.G}).then(F=>{F.present(),this.lock_modal_open=!1}):this.modalCtrl.create({component:Xe.r,componentProps:{info:M,group:this.info,has_admin:this.has_admin}}).then(F=>{F.onDidDismiss().then(j=>{if(j.data)for(let B=0,G=this.info.users.length;B<G;B++)if(this.info.users[B].user.id==j.data.id){switch(j.data.act){case"accept_join":this.info.users[B].status="online";break;case"kick":this.info.users.splice(B,1);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc0c1\ub300\ubc29 \uc815\ubcf4: ",j)}break}}),F.present(),this.lock_modal_open=!1}))}leave_group(){this.need_edit=!1,"online"==this.info.status?this.after_leave_group(()=>{this.leave_channel(),delete this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id],this.nakama.save_groups_with_less_info(()=>this.modalCtrl.dismiss({leave:!0}))}):"pending"==this.info.status&&this.after_leave_group(()=>{delete this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id],this.nakama.save_groups_with_less_info(()=>this.modalCtrl.dismiss({leave:!0}))})}after_leave_group(M=(()=>console.warn("after_leave_group_announce Func Null"))){this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.leaveGroup(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,this.info.id).then(F=>{F&&M(),this.nakama.remove_channel_files(this.info.server.isOfficial,this.info.server.target,this.info.channel_id)})}leave_channel(){this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target]&&this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id]&&"missing"!=this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].status&&(delete this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].img,this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].status="missing",delete this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].info),this.nakama.save_channels_with_less_info()}ionViewWillLeave(){delete this.nakama.socket_reactive.group_detail,this.need_edit=this.info.description!=this.info_orig.description,this.need_edit&&this.edit_group()}}return C.\u0275fac=function(M){return new(M||C)(xe.Y36(e.X1),xe.Y36(U.a),xe.Y36(e.IN),xe.Y36(E.g),xe.Y36(f.H),xe.Y36(o.b),xe.Y36(a.A),xe.Y36(d.F))},C.\u0275cmp=xe.Xpm({type:C,selectors:[["app-group-detail"]],decls:32,vars:21,consts:[["slot","start",3,"click"],["defaultHref",""],["color","warning",4,"ngIf"],["button","",3,"click"],[1,"additional_form","status_bar_single"],[1,"additional_form","bg_img_form"],[1,"profile_img",3,"src"],[1,"form_margin"],["hidden","","type","file","id","file_sel","accept","image/*",3,"change"],[1,"infobox",3,"disabled","ngModel","placeholder","ngModelChange"],[4,"ngIf"],["button","",3,"click",4,"ngFor","ngForOf"],["style","width: 100%; height: auto;","alt","Loading",3,"src",4,"ngIf"],["button","",3,"click",4,"ngIf"],["color","warning"],[1,"ion-text-center"],["alt","Loading",2,"width","100%","height","auto",3,"src"],["color","danger",1,"ion-text-center"]],template:function(M,F){1&M&&(xe.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe._uU(3),xe.qZA(),xe.TgZ(4,"ion-buttons",0),xe.NdJ("click",function(){return F.modalCtrl.dismiss()}),xe._UZ(5,"ion-back-button",1),xe.qZA()()(),xe.TgZ(6,"ion-content"),xe.YNc(7,s,3,1,"ion-item",2),xe.YNc(8,r,3,1,"ion-item",2),xe.TgZ(9,"ion-item",3),xe.NdJ("click",function(){return F.buttonClickInputFile()}),xe._UZ(10,"div",4),xe.TgZ(11,"div",5),xe._UZ(12,"img",6),xe.qZA(),xe.TgZ(13,"ion-label",7)(14,"p"),xe._uU(15),xe.qZA(),xe.TgZ(16,"h2"),xe._uU(17),xe.qZA()()(),xe.TgZ(18,"input",8),xe.NdJ("change",function(B){return F.inputImageSelected(B)}),xe.qZA(),xe.TgZ(19,"ion-item-divider")(20,"ion-label"),xe._uU(21),xe.qZA()(),xe.TgZ(22,"textarea",9),xe.NdJ("ngModelChange",function(B){return F.info.description=B}),xe.qZA(),xe.YNc(23,i,3,1,"ion-item-divider",10),xe.YNc(24,c,6,6,"ion-item",11),xe.TgZ(25,"ion-item-divider")(26,"ion-label"),xe._uU(27),xe.qZA()(),xe.YNc(28,h,1,1,"img",12),xe.YNc(29,y,3,1,"ion-item",13),xe.YNc(30,v,3,1,"ion-item",13),xe.YNc(31,x,3,1,"ion-item",13),xe.qZA()),2&M&&(xe.xp6(3),xe.Oqu(F.lang.text.GroupDetail.Title),xe.xp6(4),xe.Q6J("ngIf","pending"==F.info.status),xe.xp6(1),xe.Q6J("ngIf","missing"==F.info.status),xe.xp6(2),xe.Akn("background-color: "+F.statusBar.colors[F.info.status||F.statusBar.groupServer[F.info.server.isOfficial][F.info.server.target]||"offline"]),xe.xp6(2),xe.Akn("filter: "+("online"==(F.info.status||F.statusBar.groupServer[F.info.server.isOfficial][F.info.server.target])?"grayscale(0) contrast(1);":"grayscale(.9) contrast(1.4);")),xe.Q6J("src",F.info.img,xe.LSH),xe.xp6(3),xe.Oqu(F.info.server.name),xe.xp6(2),xe.Oqu(F.info.name),xe.xp6(4),xe.Oqu(F.lang.text.AddGroup.GroupDetail_placeholder),xe.xp6(1),xe.Q6J("disabled",!F.has_admin)("ngModel",F.info.description)("placeholder",F.lang.text.GroupDetail.NoDetailGroup),xe.xp6(1),xe.Q6J("ngIf",F.info.users&&F.info.users.length),xe.xp6(1),xe.Q6J("ngForOf",F.info.users),xe.xp6(3),xe.Oqu(F.lang.text.GroupDetail.invite_scan_below),xe.xp6(1),xe.Q6J("ngIf",F.QRCodeSRC),xe.xp6(1),xe.Q6J("ngIf","online"==F.statusBar.groupServer[F.info.server.isOfficial][F.info.server.target]&&F.has_admin&&"online"==F.info.status),xe.xp6(1),xe.Q6J("ngIf","missing"==F.info.status||"offline"==F.info.status&&"online"==F.statusBar.groupServer[F.info.server.isOfficial][F.info.server.target]),xe.xp6(1),xe.Q6J("ngIf","pending"==F.info.status||!F.has_admin&&"online"==F.info.status))},directives:[e.Gu,e.sr,e.wd,e.Sm,e.oU,e.cs,e.W2,u.O5,e.Ie,e.Q$,e.rH,p.Fj,p.JJ,p.On,u.sg],styles:[""]}),C})()},8888:(hn,Mt,se)=>{"use strict";se.d(Mt,{P:()=>u});var m=se(9863),ye=se(3996),Xe=se(5742),xe=se(3336),e=se(4606),U=se(3496),E=se(9912),f=se(1282),o=se(9808),a=se(4182);function d(p,s){if(1&p&&m._UZ(0,"img",13),2&p){const r=m.oxw();m.Q6J("src",r.QRCodeSRC,m.LSH)}}let u=(()=>{class p{constructor(r,i,c,h,y,v,x,w){this.modalCtrl=r,this.navParams=i,this.lang=c,this.p5toast=h,this.statusBar=y,this.indexed=v,this.nakama=x,this.global=w,this.isTargetAlreadyExist=!0}ngOnInit(){this.dedicated_info=this.navParams.get("data");let r={name:this.dedicated_info.name,address:this.dedicated_info.address,port:this.dedicated_info.port,key:this.dedicated_info.key,useSSL:this.dedicated_info.useSSL};"192.168.0.1"==this.dedicated_info.address&&delete r.address,"defaultkey"==this.dedicated_info.key&&delete r.key,7350==this.dedicated_info.port&&delete r.port,this.dedicated_info.useSSL||delete r.useSSL,this.QRCodeSRC=this.global.readasQRCodeFromId({type:"server",value:r}),this.isTargetAlreadyExist=Boolean(this.statusBar.groupServer.unofficial[this.dedicated_info.target])}apply_changed_info(){if(!this.dedicated_info.name)return void this.p5toast.show({text:this.lang.text.GroupServer.NeedSetDIsplayName});this.dedicated_info.target=this.dedicated_info.target||this.dedicated_info.name,this.dedicated_info.address=this.dedicated_info.address||"192.168.0.1",this.dedicated_info.port=this.dedicated_info.port||7350,this.dedicated_info.useSSL=this.dedicated_info.useSSL||!1,this.dedicated_info.isOfficial=this.dedicated_info.isOfficial||"unofficial",this.dedicated_info.key=this.dedicated_info.key||"defaultkey";let r=(new Date).getTime().toString();r+=`,${this.dedicated_info.isOfficial}`,r+=`,${this.dedicated_info.name}`,r+=`,${this.dedicated_info.target}`,r+=`,${this.dedicated_info.address}`,r+=`,${this.dedicated_info.port}`,r+=`,${this.dedicated_info.useSSL}`,this.indexed.loadTextFromUserPath("servers/list_detail.csv",(i,c)=>{let h=[];if(i&&c&&(h=c.split("\n")),this.isTargetAlreadyExist)for(let y=0,v=h.length;y<v;y++)if(h[y].split(",")[3]==this.dedicated_info.target){h.splice(y,1);break}h.push(r),this.indexed.saveTextFileToUserPath(h.join("\n"),"servers/list_detail.csv",y=>{this.nakama.init_server(this.dedicated_info),this.nakama.servers[this.dedicated_info.isOfficial][this.dedicated_info.target].info=Object.assign({},this.dedicated_info)}),this.statusBar.groupServer[this.dedicated_info.isOfficial][this.dedicated_info.target]="offline",this.indexed.saveTextFileToUserPath(JSON.stringify(this.statusBar.groupServer),"servers/list.json"),this.modalCtrl.dismiss()})}}return p.\u0275fac=function(r){return new(r||p)(m.Y36(ye.IN),m.Y36(ye.X1),m.Y36(Xe.b),m.Y36(xe.F),m.Y36(e.g),m.Y36(U.H),m.Y36(E.a),m.Y36(f.A))},p.\u0275cmp=m.Xpm({type:p,selectors:[["app-server-detail"]],decls:38,vars:19,consts:[["slot","start",3,"click"],["defaultHref",""],["style","width: 100%; height: auto;","alt","Loading",3,"src",4,"ngIf"],["button",""],[1,"ion-text-right",3,"ngModel","placeholder","ngModelChange"],["button","",3,"disabled"],["button","","disabled",""],["placeholder","192.168.0.1",1,"ion-text-right",3,"ngModel","ngModelChange"],["placeholder","defaultkey",1,"ion-text-right",3,"ngModel","ngModelChange"],["type","number","placeholder","7350",1,"ion-text-right",3,"ngModel","ngModelChange"],["slot","end",2,"pointer-events","none",3,"ngModel","ngModelChange"],["button","",3,"click"],[1,"ion-text-center"],["alt","Loading",2,"width","100%","height","auto",3,"src"]],template:function(r,i){1&r&&(m.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),m._uU(3),m.qZA(),m.TgZ(4,"ion-buttons",0),m.NdJ("click",function(){return i.modalCtrl.dismiss()}),m._UZ(5,"ion-back-button",1),m.qZA()()(),m.TgZ(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),m._uU(9),m.qZA()(),m.YNc(10,d,1,1,"img",2),m.TgZ(11,"ion-item",3)(12,"ion-label"),m._uU(13),m.qZA(),m.TgZ(14,"ion-input",4),m.NdJ("ngModelChange",function(h){return i.dedicated_info.name=h}),m.qZA()(),m.TgZ(15,"ion-item",5)(16,"ion-label"),m._uU(17),m.qZA(),m.TgZ(18,"ion-input",4),m.NdJ("ngModelChange",function(h){return i.dedicated_info.target=h}),m.qZA()(),m.TgZ(19,"ion-item",6)(20,"ion-label"),m._uU(21),m.qZA(),m.TgZ(22,"ion-input",7),m.NdJ("ngModelChange",function(h){return i.dedicated_info.address=h}),m.qZA()(),m.TgZ(23,"ion-item",6)(24,"ion-label"),m._uU(25),m.qZA(),m.TgZ(26,"ion-input",8),m.NdJ("ngModelChange",function(h){return i.dedicated_info.key=h}),m.qZA()(),m.TgZ(27,"ion-item",6)(28,"ion-label"),m._uU(29),m.qZA(),m.TgZ(30,"ion-input",9),m.NdJ("ngModelChange",function(h){return i.dedicated_info.port=h}),m.qZA()(),m.TgZ(31,"ion-item",6)(32,"ion-label"),m._uU(33),m.qZA(),m.TgZ(34,"ion-toggle",10),m.NdJ("ngModelChange",function(h){return i.dedicated_info.useSSL=h}),m.qZA()(),m.TgZ(35,"ion-item",11),m.NdJ("click",function(){return i.apply_changed_info()}),m.TgZ(36,"ion-label",12),m._uU(37),m.qZA()()()),2&r&&(m.xp6(3),m.Oqu(i.lang.text.GroupServer.ServerDetail),m.xp6(6),m.Oqu(i.lang.text.ServerDetail.copy_scan_below),m.xp6(1),m.Q6J("ngIf",i.QRCodeSRC),m.xp6(3),m.Oqu(i.lang.text.GroupServer.DisplayName),m.xp6(1),m.Q6J("ngModel",i.dedicated_info.name)("placeholder",i.lang.text.GroupServer.DisplayName_placeholder),m.xp6(1),m.Q6J("disabled",i.isTargetAlreadyExist),m.xp6(2),m.Oqu(i.lang.text.GroupServer.DivisionName),m.xp6(1),m.Q6J("ngModel",i.dedicated_info.target)("placeholder",i.dedicated_info.name||i.lang.text.GroupServer.DivisionName_placeholder),m.xp6(3),m.Oqu(i.lang.text.GroupServer.Address),m.xp6(1),m.Q6J("ngModel",i.dedicated_info.address),m.xp6(3),m.Oqu(i.lang.text.GroupServer.Key),m.xp6(1),m.Q6J("ngModel",i.dedicated_info.key),m.xp6(3),m.Oqu(i.lang.text.GroupServer.Port),m.xp6(1),m.Q6J("ngModel",i.dedicated_info.port),m.xp6(3),m.Oqu(i.lang.text.GroupServer.isSSL),m.xp6(1),m.Q6J("ngModel",i.dedicated_info.useSSL),m.xp6(3),m.Oqu(i.lang.text.ServerDetail.ApplyChangeServerInfo))},directives:[ye.Gu,ye.sr,ye.wd,ye.Sm,ye.oU,ye.cs,ye.W2,ye.rH,ye.Q$,o.O5,ye.Ie,ye.pK,ye.j9,a.JJ,a.On,ye.as,ye.ho,ye.w],styles:[""]}),p})()},9194:(hn,Mt,se)=>{"use strict";se.d(Mt,{G:()=>s});var m=se(655),ye=se(6505),xe=se(9912),e=se(3260),U=se(5016),E=se(9863),f=se(3336),o=se(3496),a=se(3996),d=se(5742),u=se(1282),p=se(4182);window.p5=ye;let s=(()=>{class r{constructor(c,h,y,v,x,w){this.nakama=c,this.p5toast=h,this.indexed=y,this.modalCtrl=v,this.lang=x,this.global=w,this.original_profile={},this.can_auto_modified=!1,this.cant_use_clipboard=!1,this.imageURL_disabled=!1}ngOnInit(){this.nakama.removeBanner(),this.original_profile=JSON.parse(JSON.stringify(this.nakama.users.self)),this.nakama.users.self.img||this.indexed.loadTextFromUserPath("servers/self/profile.img",(h,y)=>{h&&y&&(this.nakama.users.self.img=y.replace(/"|\\|=/g,""))}),this.nakama.socket_reactive.profile=h=>{this.change_img_smoothly(h)},this.cant_use_clipboard="DesktopPWA"!=U.n$,this.p5canvas=new ye(h=>{let y=document.getElementById("profile_img"),v=document.getElementById("profile_tmp_img");h.draw=()=>{this.nakama.users.self.online?this.lerpVal<1?this.lerpVal+=.025:(this.lerpVal=1,h.noLoop()):this.lerpVal>0?this.lerpVal-=.025:(this.lerpVal=0,h.noLoop()),y.setAttribute("style",`filter: grayscale(${h.lerp(.9,0,this.lerpVal)}) contrast(${h.lerp(1.4,1,this.lerpVal)});`),v.setAttribute("style",`filter: grayscale(${h.lerp(.9,0,this.lerpVal)}) contrast(${h.lerp(1.4,1,this.lerpVal)});`)}})}change_img_smoothly(c){new ye(h=>{let y=document.getElementById("profile_tmp_img"),v=document.getElementById("file_sel"),w=0;h.setup=()=>{v.value="",y.setAttribute("style",`filter: grayscale(${this.nakama.users.self.online?0:.9}) contrast(${this.nakama.users.self.online?1:1.4}) opacity(${w})`),this.tmp_img=c},h.draw=()=>{w<1?w+=.035:(w=1,this.nakama.users.self.img=this.tmp_img,this.sync_to_all_server(),h.remove()),y.setAttribute("style",`filter: grayscale(${this.nakama.users.self.online?0:.9}) contrast(${this.nakama.users.self.online?1:1.4}) opacity(${w})`)}})}sync_to_all_server(){let c=this.nakama.get_all_online_server();this.nakama.save_self_profile(),this.indexed.saveTextFileToUserPath(JSON.stringify(this.nakama.users.self.img),"servers/self/profile.img"),this.tmp_img="";for(let h=0,y=c.length;h<y;h++)c[h].client.writeStorageObjects(c[h].session,[{collection:"user_public",key:"profile_image",value:{img:this.nakama.users.self.img},permission_read:2,permission_write:1}]).then(v=>(0,m.mG)(this,void 0,void 0,function*(){yield c[h].socket.sendMatchState(this.nakama.self_match.match_id,xe.h.ADD_TODO,encodeURIComponent("image")),yield c[h].client.updateAccount(c[h].session,{avatar_url:v.acks[0].version}),this.nakama.rearrange_channels().forEach(w=>(0,m.mG)(this,void 0,void 0,function*(){yield c[h].socket.writeChatMessage(w.id,{user_update:"modify_img",noti_form:`: ${this.original_profile.display_name}`})}))})).catch(v=>{console.error("inputImageSelected_err: ",v)})}change_img_from_file(){document.getElementById("file_sel").click()}inputImageSelected(c){return(0,m.mG)(this,void 0,void 0,function*(){let h=setInterval(()=>{},110);setTimeout(()=>{clearInterval(h)},1500);let y=yield this.global.GetBase64ThroughFileReader(c.target.files[0]);this.nakama.limit_image_size(y,v=>{this.change_img_smoothly(v.canvas.toDataURL())})})}change_content(){console.log("\ud45c\uc2dc \ucf58\ud150\uce20 \uc218\uc815 \ud074\ub9ad")}ionViewDidEnter(){this.can_auto_modified=!0}email_modified(){this.can_auto_modified&&(this.nakama.users.self.online&&this.toggle_online(),this.nakama.users.self.online=!1)}toggle_online(){this.nakama.users.self.online=!this.nakama.users.self.online,this.nakama.users.self.online?this.nakama.users.self.email?(this.nakama.save_self_profile(),this.nakama.init_all_sessions()):(this.p5toast.show({text:this.lang.text.Profile.need_email}),this.nakama.users.self.online=!1):this.nakama.logout_all_server(),this.p5canvas.loop()}imageURLPasted(){"DesktopPWA"==U.n$&&(this.imageURL_disabled=!0,e.Z.read().then(c=>{0==c.indexOf("http")?this.change_img_smoothly(c):0==c.indexOf("data:image")?this.nakama.limit_image_size(c,h=>this.change_img_smoothly(h.canvas.toDataURL())):(this.p5toast.show({text:this.lang.text.Profile.copyURIFirst}),this.change_img_smoothly(""))}),setTimeout(()=>{this.imageURL_disabled=!1},1500))}ionViewWillLeave(){return(0,m.mG)(this,void 0,void 0,function*(){delete this.nakama.socket_reactive.profile;let c=Object.keys(this.nakama.users.self),h=!1;for(let y=0,v=c.length;y<v;y++)if("img"!=c[y]&&this.nakama.users.self[c[y]]!=this.original_profile[c[y]]){h=!0;break}if(this.nakama.users.self.img=this.tmp_img||this.nakama.users.self.img,h){let y=this.nakama.get_all_online_server();for(let v=0,x=y.length;v<x;v++){let w=!1;if(this.nakama.users.self.display_name!=this.original_profile.display_name&&(yield y[v].client.updateAccount(y[v].session,{display_name:this.nakama.users.self.display_name}).then(C=>(0,m.mG)(this,void 0,void 0,function*(){w=!0,yield y[v].socket.sendMatchState(this.nakama.self_match.match_id,xe.h.ADD_TODO,encodeURIComponent("info"))}))),w&&this.nakama.channels_orig[y[v].info.isOfficial][y[v].info.target]){let C=Object.keys(this.nakama.channels_orig[y[v].info.isOfficial][y[v].info.target]);C&&C.forEach(N=>{y[v].socket.writeChatMessage(N,{user_update:"modify_data",noti_form:this.original_profile.display_name==this.nakama.users.self.display_name?`: ${this.original_profile.display_name}`:`: ${this.original_profile.display_name} -> ${this.nakama.users.self.display_name}`})})}}this.nakama.save_self_profile()}this.p5canvas.remove()})}go_back(){"ProfilePageModule"!=this.modalCtrl.injector.source&&this.modalCtrl.dismiss()}}return r.\u0275fac=function(c){return new(c||r)(E.Y36(xe.a),E.Y36(f.F),E.Y36(o.H),E.Y36(a.IN),E.Y36(d.b),E.Y36(u.A))},r.\u0275cmp=E.Xpm({type:r,selectors:[["app-profile"]],decls:42,vars:26,consts:[["slot","start",3,"click"],["defaultHref","portal/settings"],[1,"profile_img_form"],["id","profile_img",1,"profile_img",3,"hidden","src","alt"],["id","profile_tmp_img",1,"profile_img",3,"hidden","src","alt"],[1,"fore-gradient",3,"click"],["hidden","","type","file","id","file_sel","accept","image/*",3,"change"],[1,"username"],[3,"hidden","disabled","click"],["color","medium"],[3,"hidden"],["type","text",3,"placeholder","ngModel","ngModelChange"],[3,"click"],[1,"ion-text-right",3,"ngModel","placeholder","ngModelChange","ionChange"],[1,"ion-text-right",3,"ngModel","placeholder","ngModelChange"],["button","",3,"click"],["slot","end",2,"pointer-events","none",3,"ngModel","ngModelChange"],["disabled","",1,"infobox","content_size"]],template:function(c,h){if(1&c&&(E.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),E._uU(3),E.qZA(),E.TgZ(4,"ion-buttons",0),E.NdJ("click",function(){return h.go_back()}),E._UZ(5,"ion-back-button",1),E.qZA()()(),E.TgZ(6,"ion-content")(7,"div",2),E._UZ(8,"img",3)(9,"img",4),E.TgZ(10,"div",5),E.NdJ("click",function(){return h.change_img_from_file()}),E.qZA(),E.TgZ(11,"input",6),E.NdJ("change",function(v){return h.inputImageSelected(v)}),E.qZA(),E.TgZ(12,"div",7),E._uU(13),E.qZA()(),E.TgZ(14,"ion-item",8),E.NdJ("click",function(){return h.imageURLPasted()}),E.TgZ(15,"ion-label",9),E._uU(16),E.qZA()(),E.TgZ(17,"ion-item",10)(18,"ion-input",11),E.NdJ("ngModelChange",function(v){return h.url_input=v}),E.qZA(),E.TgZ(19,"ion-button",12),E.NdJ("click",function(){return h.change_img_smoothly(h.url_input)}),E._uU(20),E.qZA()(),E.TgZ(21,"ion-item-divider")(22,"ion-label"),E._uU(23),E.qZA()(),E.TgZ(24,"ion-item")(25,"ion-label"),E._uU(26),E.qZA(),E.TgZ(27,"ion-input",13),E.NdJ("ngModelChange",function(v){return h.nakama.users.self.email=v})("ionChange",function(){return h.email_modified()}),E.qZA()(),E.TgZ(28,"ion-item")(29,"ion-label"),E._uU(30),E.qZA(),E.TgZ(31,"ion-input",14),E.NdJ("ngModelChange",function(v){return h.nakama.users.self.display_name=v}),E.qZA()(),E.TgZ(32,"ion-item",15),E.NdJ("click",function(){return h.toggle_online()}),E.TgZ(33,"ion-label"),E._uU(34),E.qZA(),E.TgZ(35,"ion-toggle",16),E.NdJ("ngModelChange",function(v){return h.nakama.users.self.online=v}),E.qZA()(),E.TgZ(36,"ion-item-divider")(37,"ion-label"),E._uU(38),E.qZA()(),E.TgZ(39,"div",12),E.NdJ("click",function(){return h.change_content()}),E.TgZ(40,"textarea",17),E._uU(41),E.qZA()()()),2&c){let y;E.xp6(3),E.Oqu(h.lang.text.Settings.myInfo),E.xp6(5),E.Q6J("hidden",!h.nakama.users.self.img)("src",h.nakama.users.self.img,E.LSH)("alt",h.lang.text.Profile.img_alt),E.xp6(1),E.Q6J("hidden",!h.tmp_img)("src",h.tmp_img,E.LSH)("alt",h.lang.text.Profile.img_alt),E.xp6(4),E.Oqu(null!==(y=h.nakama.users.self.display_name)&&void 0!==y?y:h.lang.text.Profile.noname_user),E.xp6(1),E.Q6J("hidden",h.cant_use_clipboard)("disabled",h.imageURL_disabled),E.xp6(2),E.Oqu(h.lang.text.Profile.pasteURI),E.xp6(1),E.Q6J("hidden",!h.cant_use_clipboard),E.xp6(1),E.Q6J("placeholder",h.lang.text.Profile.enterURI)("ngModel",h.url_input),E.xp6(2),E.hij(" ",h.lang.text.Profile.change_img," "),E.xp6(3),E.Oqu(h.lang.text.Profile.login_info),E.xp6(3),E.Oqu(h.lang.text.Profile.email_address),E.xp6(1),E.Q6J("ngModel",h.nakama.users.self.email)("placeholder","test@example.com"),E.xp6(3),E.Oqu(h.lang.text.Profile.user_display_name),E.xp6(1),E.Q6J("ngModel",h.nakama.users.self.display_name)("placeholder",h.lang.text.Profile.name_placeholder),E.xp6(3),E.Oqu(h.lang.text.Profile.login_toggle),E.xp6(1),E.Q6J("ngModel",h.nakama.users.self.online),E.xp6(3),E.Oqu(h.lang.text.Profile.main_content),E.xp6(3),E.Oqu(h.lang.text.Profile.not_available_yet)}},directives:[a.Gu,a.sr,a.wd,a.Sm,a.oU,a.cs,a.W2,a.Ie,a.Q$,a.pK,a.j9,p.JJ,p.On,a.YG,a.rH,a.ho,a.w],styles:[".fore-gradient[_ngcontent-%COMP%]{position:relative;background-image:linear-gradient(to top,#000f,#0000);width:100%;height:100%}.content_size[_ngcontent-%COMP%]{height:32vh}"]}),r})()},2879:(hn,Mt,se)=>{"use strict";se.d(Mt,{b:()=>w});var m=se(5016),ye=se(6505),xe=se(6069),e=se(9863),U=se(2855),E=se(3336),f=se(3996),o=se(5742),a=se(1282),d=se(9645),u=se(9912),p=se(8947),s=se(4182),r=se(9808);function i(C,N){if(1&C&&(e.TgZ(0,"ion-select-option",12),e._uU(1),e.qZA()),2&C){const M=N.$implicit;e.Q6J("value",M),e.xp6(1),e.hij("",M.name," ")}}function c(C,N){if(1&C&&(e.TgZ(0,"ion-select-option",12),e._uU(1),e.qZA()),2&C){const M=N.$implicit;e.Q6J("value",M),e.xp6(1),e.Oqu(M.name+" ("+M.server_name+")")}}function h(C,N){if(1&C){const M=e.EpF();e.TgZ(0,"div")(1,"ion-item-divider")(2,"ion-label"),e._uU(3),e.qZA()(),e.TgZ(4,"ion-item",6),e.NdJ("click",function(){return e.CHM(M),e.oxw().ToggleShareUUID()}),e.TgZ(5,"ion-label"),e._uU(6),e.qZA(),e.TgZ(7,"ion-toggle",7),e.NdJ("ngModelChange",function(j){return e.CHM(M),e.oxw().select_uuid=j}),e.qZA()(),e.TgZ(8,"ion-item")(9,"ion-label"),e._uU(10),e.qZA(),e.TgZ(11,"ion-select",8),e.NdJ("ngModelChange",function(j){return e.CHM(M),e.oxw().selected_group_server=j})("ionChange",function(j){return e.CHM(M),e.oxw().SelectGroupServer(j)}),e.YNc(12,i,2,2,"ion-select-option",9),e.qZA()(),e.TgZ(13,"ion-item")(14,"ion-label"),e._uU(15),e.qZA(),e.TgZ(16,"ion-select",8),e.NdJ("ngModelChange",function(j){return e.CHM(M),e.oxw().selected_group=j})("ionChange",function(j){return e.CHM(M),e.oxw().SelectGroup(j)}),e.YNc(17,c,2,2,"ion-select-option",9),e.qZA()(),e.TgZ(18,"ion-item",10),e.NdJ("click",function(){return e.CHM(M),e.oxw().scanQRCode()}),e.TgZ(19,"ion-label",11),e._uU(20),e.qZA()()()}if(2&C){const M=e.oxw();e.xp6(3),e.Oqu(M.lang.text.QuickQRShare.SelectData),e.xp6(3),e.Oqu(M.lang.text.Settings.takeOverUser),e.xp6(1),e.Q6J("ngModel",M.select_uuid),e.xp6(3),e.Oqu(M.lang.text.QuickQRShare.GroupServer),e.xp6(1),e.Q6J("ngModel",M.selected_group_server)("placeholder",M.lang.text.QuickQRShare.EmptyData),e.xp6(1),e.Q6J("ngForOf",M.group_servers),e.xp6(3),e.Oqu(M.lang.text.QuickQRShare.Group),e.xp6(1),e.Q6J("ngModel",M.selected_group)("placeholder",M.lang.text.QuickQRShare.EmptyData),e.xp6(1),e.Q6J("ngForOf",M.group_list),e.xp6(1),e.Q6J("disabled",!M.ActKeyLength),e.xp6(2),e.Oqu(M.lang.text.QuickQRShare.SendData)}}function y(C,N){if(1&C){const M=e.EpF();e.TgZ(0,"ion-button",13),e.NdJ("click",function(){e.CHM(M);const j=e.oxw();return j.ShowQRInfo=!j.ShowQRInfo}),e._uU(1),e.qZA()}if(2&C){const M=e.oxw();e.xp6(1),e.hij(" ",M.lang.text.QuickQRShare.ShowQR," ")}}function v(C,N){if(1&C&&e._UZ(0,"img",14),2&C){const M=e.oxw();e.Q6J("src",M.QRCodeSRC,e.LSH)}}const x="QRShare";let w=(()=>{class C{constructor(M,F,j,B,G,ee,$,H,Z){this.wsc=M,this.p5toast=F,this.navCtrl=j,this.lang=B,this.global=G,this.codescan=ee,this.nakama=$,this.weblink=H,this.modalCtrl=Z,this.HideSender=!1,this.ShowQRInfo=!1,this.ActKeyLength=0,this.select_uuid=!1,this.group_servers=[],this.selected_group_server=[],this.group_list=[],this.selected_group=[],this.selected_data={},this.ShowExceptionInfoYet=!0}ngOnInit(){this.read_info(),this.HideSender=!("DesktopPWA"==m.n$||"MobilePWA"==m.n$),this.HideSender&&(Object.keys(this.nakama.servers.unofficial).forEach(B=>this.group_servers.push(this.nakama.servers.unofficial[B].info)),Object.keys(this.nakama.groups).forEach(B=>{Object.keys(this.nakama.groups[B]).forEach(ee=>{Object.keys(this.nakama.groups[B][ee]).forEach(H=>{"missing"!=this.nakama.groups[B][ee][H].online&&this.group_list.push({id:H,name:this.nakama.groups[B][ee][H].name,server_name:this.nakama.servers[B][ee].info.name})})})})),this.wsc.disconnected[x]=()=>{this.navCtrl.back()},this.websocket=new WebSocket(`${this.wsc.socket_header}://${this.wsc.address_override||m.GA}:12020`),this.websocket.onmessage=F=>{F.data.text().then(j=>{try{if(!this.QRCodeSRC)throw"\ucd5c\ucd08\uc9c4\uc785: QR\ucf54\ub4dc \uc0dd\uc131 \uc6b0\uc120\ucc98\ub9ac";let B=JSON.parse(j);this.nakama.act_from_QRInfo(B.value),setTimeout(()=>{this.navCtrl.back()},500)}catch(B){console.log(B),this.QRCodeSRC=this.global.readasQRCodeFromId({type:"QRShare",value:j})}})}}read_info(){new ye(F=>{F.setup=()=>{F.loadStrings(`assets/data/infos/${this.lang.lang}/quick_datashare.txt`,j=>{this.lines=j.join("\n"),F.remove()},j=>{console.error("\ube60\ub978 QR \uc815\ubcf4 \uacf5\uc720 \uc124\uba85\uc11c \ud30c\uc77c \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",j),F.remove()})}})}scanQRCode(){this.codescan.scan({disableSuccessBeep:!0,disableAnimations:!0,resultDisplayDuration:0}).then(M=>{if(!M.cancelled){let F=JSON.parse(M.text.trim())[0];if("QRShare"===F.type){let j=[];if(this.selected_data.uuid&&j.push({type:"link_reverse",value:this.selected_data.uuid}),this.selected_data.group_server)for(let B=0,G=this.selected_data.group_server.length;B<G;B++)j.push({type:"server",value:{name:this.selected_data.group_server[B].name,address:this.selected_data.group_server[B].address,port:this.selected_data.group_server[B].port,key:this.selected_data.group_server[B].key,useSSL:this.selected_data.group_server[B].useSSL}});if(this.selected_data.group)for(let B=0,G=this.selected_data.group.length;B<G;B++)j.push({type:"group",id:this.selected_data.group[B].id,name:this.selected_data.group[B].name});this.weblink.initialize({pid:F.value,value:JSON.stringify(j)})}else this.modalCtrl.create({component:xe.R,componentProps:{result:M}}).then(B=>B.present());setTimeout(()=>{"QrSharePageModule"!=this.modalCtrl.injector.source?this.modalCtrl.dismiss():this.navCtrl.back()},500)}}).catch(M=>{console.error(M),this.p5toast.show({text:this.lang.text.Subscribes.CameraPermissionDenied})})}ToggleShareUUID(){this.select_uuid=!this.select_uuid,this.select_uuid?this.selected_data.uuid=this.nakama.uuid:delete this.selected_data.uuid,this.ActKeyLength=Object.keys(this.selected_data).length}SelectGroupServer(M){if(this.selected_group_server.length&&"string"!=typeof this.selected_group_server){this.selected_data.group_server=this.selected_group_server;let F=Object.keys(this.selected_data),j=!1;F.forEach(B=>{"group_server"!=B&&"uuid"!=B&&(j=!0)}),this.ShowExceptionInfoYet&&j&&(this.p5toast.show({text:this.lang.text.QuickQRShare.groupserver_dataonly}),this.ShowExceptionInfoYet=!1)}else delete this.selected_data.group_server;this.ActKeyLength=Object.keys(this.selected_data).length}SelectGroup(M){this.selected_group.length&&"string"!=typeof this.selected_group?(this.selected_data.group=this.selected_group,this.remove_groupserver_info()):delete this.selected_data.group,this.ActKeyLength=Object.keys(this.selected_data).length}remove_groupserver_info(){this.ShowExceptionInfoYet&&this.selected_data.group_server&&(this.p5toast.show({text:this.lang.text.QuickQRShare.groupserver_dataonly}),this.ShowExceptionInfoYet=!1)}ionViewWillLeave(){delete this.wsc.disconnected[x],this.websocket.close()}go_back(){"QrSharePageModule"!=this.modalCtrl.injector.source&&this.modalCtrl.dismiss()}}return C.\u0275fac=function(M){return new(M||C)(e.Y36(U.Z),e.Y36(E.F),e.Y36(f.SH),e.Y36(o.b),e.Y36(a.A),e.Y36(d.m),e.Y36(u.a),e.Y36(p.W),e.Y36(f.IN))},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-qr-share"]],decls:17,vars:6,consts:[["slot","start",3,"click"],["defaultHref","portal/settings"],["disabled","",1,"infobox",2,"height","24vh","display","block",3,"ngModel","ngModelChange"],[4,"ngIf"],["slot","end","fill","clear","shape","round",3,"click",4,"ngIf"],["style","width: 100%; height: auto;","alt","QRCodeSRC",3,"src",4,"ngIf"],["button","",3,"click"],["slot","end",2,"pointer-events","none",3,"ngModel","ngModelChange"],["multiple","true",3,"ngModel","placeholder","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],["button","",3,"disabled","click"],[1,"ion-text-center"],[3,"value"],["slot","end","fill","clear","shape","round",3,"click"],["alt","QRCodeSRC",2,"width","100%","height","auto",3,"src"]],template:function(M,F){1&M&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"\ube60\ub978 QR\uacf5\uc720"),e.qZA(),e.TgZ(4,"ion-buttons",0),e.NdJ("click",function(){return F.go_back()}),e._UZ(5,"ion-back-button",1),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),e._uU(9),e.qZA()(),e.TgZ(10,"textarea",2),e.NdJ("ngModelChange",function(B){return F.lines=B}),e.qZA(),e.YNc(11,h,21,13,"div",3),e.TgZ(12,"ion-item-divider")(13,"ion-label"),e._uU(14),e.qZA(),e.YNc(15,y,2,1,"ion-button",4),e.qZA(),e.YNc(16,v,1,1,"img",5),e.qZA()),2&M&&(e.xp6(9),e.Oqu(F.lang.text.Settings.quickQRshare),e.xp6(1),e.Q6J("ngModel",F.lines),e.xp6(1),e.Q6J("ngIf",F.HideSender),e.xp6(3),e.Oqu(F.lang.text.QuickQRShare.ReceiveData),e.xp6(1),e.Q6J("ngIf",!F.ShowQRInfo),e.xp6(1),e.Q6J("ngIf",F.ShowQRInfo&&F.QRCodeSRC))},directives:[f.Gu,f.sr,f.wd,f.Sm,f.oU,f.cs,f.W2,f.rH,f.Q$,s.Fj,s.JJ,s.On,r.O5,f.Ie,f.ho,f.w,f.t9,f.QI,r.sg,f.n0,f.YG],styles:[""]}),C})()},3041:(hn,Mt,se)=>{"use strict";se.d(Mt,{P:()=>It});var m=se(655),ye=se(6505),xe=se(9194),e=se(9123),U=se(5016),E=se(774),f=se(5087),o=se(9805),a=se(7898),d=se(428),u=se(9863),p=se(3996),s=se(9912),r=se(8677),i=se(3336),c=se(4606),h=se(3496),y=se(5742),v=se(2313),x=se(1282),w=se(5129),C=se(9808),N=se(4182);function M(Je,at){if(1&Je&&(u.TgZ(0,"div",27)(1,"font",28),u._uU(2),u.qZA()()),2&Je){const je=u.oxw().$implicit;u.xp6(2),u.hij(" ",je.msgDate," ")}}function F(Je,at){if(1&Je){const je=u.EpF();u.TgZ(0,"div",29)(1,"span",30),u.NdJ("click",function(){u.CHM(je);const yt=u.oxw().$implicit;return u.oxw().user_detail(yt)}),u.TgZ(2,"b")(3,"font",31),u._uU(4),u.qZA()()(),u.TgZ(5,"span",32),u._uU(6),u.qZA()()}if(2&Je){const je=u.oxw().$implicit,We=u.oxw();u.xp6(3),u.MGl("color","#",je.is_me&&We.nakama.users.self.online||!je.is_me&&We.nakama.users[We.isOfficial][We.target][je.sender_id].online?je.color:"888",""),u.xp6(1),u.hij(" ",je.user_display_name,""),u.xp6(2),u.Oqu(je.msgTime)}}function j(Je,at){1&Je&&u._UZ(0,"div",41)}function B(Je,at){if(1&Je&&(u.TgZ(0,"span",42),u._uU(1),u.qZA()),2&Je){const je=at.$implicit;u.xp6(1),u.hij(" ",je," ")}}function G(Je,at){if(1&Je&&(u.TgZ(0,"div",37)(1,"p",38),u._uU(2),u.qZA(),u.YNc(3,j,1,0,"div",39),u.YNc(4,B,2,1,"span",40),u.qZA()),2&Je){const je=u.oxw(2).$implicit;u.xp6(2),u.hij(" ",je.content.filename," "),u.xp6(1),u.Q6J("ngIf",je.content.text),u.xp6(1),u.Q6J("ngForOf",je.content.text)}}function ee(Je,at){if(1&Je&&(u.TgZ(0,"div",43),u._UZ(1,"img",44),u.qZA()),2&Je){const je=u.oxw(2).$implicit;u.xp6(1),u.Q6J("src",je.content.img,u.LSH)("alt",je.content.filename)}}function $(Je,at){if(1&Je&&(u.TgZ(0,"div",45),u._uU(1),u.qZA()),2&Je){const je=u.oxw(2).$implicit,We=u.oxw();u.xp6(1),u.hij(" ",We.nakama.channel_transfer[We.isOfficial][We.target][je.channel_id][je.message_id].progress.length,"")}}function H(Je,at){if(1&Je){const je=u.EpF();u.TgZ(0,"div",33),u.NdJ("click",function(){u.CHM(je);const yt=u.oxw().$implicit;return u.oxw().file_detail(yt)}),u.YNc(1,G,5,3,"div",34),u.YNc(2,ee,2,2,"div",35),u.YNc(3,$,2,1,"div",36),u.qZA()}if(2&Je){const je=u.oxw().$implicit,We=u.oxw();u.xp6(1),u.Q6J("ngIf",!je.content.img),u.xp6(1),u.Q6J("ngIf",je.content.img),u.xp6(1),u.Q6J("ngIf",We.nakama.channel_transfer[We.isOfficial][We.target]&&We.nakama.channel_transfer[We.isOfficial][We.target][je.channel_id]&&We.nakama.channel_transfer[We.isOfficial][We.target][je.channel_id][je.message_id])}}function Z(Je,at){if(1&Je&&(u.TgZ(0,"div",46)(1,"div",47),u._uU(2),u.qZA()()),2&Je){const je=u.oxw().$implicit;u.xp6(2),u.hij(" ",je.content.noti," ")}}function oe(Je,at){if(1&Je&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&Je){const je=u.oxw().$implicit;u.xp6(1),u.hij(" ",je.text," ")}}function Q(Je,at){if(1&Je&&(u.TgZ(0,"a",52),u._uU(1),u.qZA()),2&Je){const je=u.oxw().$implicit;u.Q6J("href",je.text,u.LSH),u.xp6(1),u.Oqu(je.text)}}function te(Je,at){if(1&Je&&(u.TgZ(0,"span"),u.YNc(1,oe,2,1,"span",50),u.YNc(2,Q,2,2,"a",51),u.qZA()),2&Je){const je=at.$implicit;u.xp6(1),u.Q6J("ngIf",!je.href),u.xp6(1),u.Q6J("ngIf",je.href)}}function me(Je,at){if(1&Je&&(u.TgZ(0,"div"),u.YNc(1,te,3,2,"span",49),u.qZA()),2&Je){const je=at.$implicit;u.xp6(1),u.Q6J("ngForOf",je)}}function ce(Je,at){if(1&Je&&(u.TgZ(0,"div",48),u.YNc(1,me,2,1,"div",49),u.qZA()),2&Je){const je=u.oxw().$implicit;u.xp6(1),u.Q6J("ngForOf",je.content.msg)}}function he(Je,at){if(1&Je&&(u.TgZ(0,"div",53),u._uU(1),u.qZA()),2&Je){const je=u.oxw(2);u.xp6(1),u.hij(" ",je.lang.text.ChatRoom.YouReadHereLast,"")}}function Ae(Je,at){if(1&Je){const je=u.EpF();u.TgZ(0,"div",20),u.NdJ("click",function(){const lt=u.CHM(je).$implicit;return u.oxw().message_detail(lt)}),u.YNc(1,M,3,1,"div",21),u.YNc(2,F,7,3,"div",22),u.YNc(3,H,4,3,"div",23),u.YNc(4,Z,3,1,"div",24),u.YNc(5,ce,2,1,"div",25),u.YNc(6,he,2,1,"div",26),u.qZA()}if(2&Je){const je=at.$implicit;u.xp6(1),u.Q6J("ngIf",je.showInfo&&je.showInfo.date),u.xp6(1),u.Q6J("ngIf",je.showInfo&&je.showInfo.sender),u.xp6(1),u.Q6J("ngIf",je.content.filename),u.xp6(1),u.Q6J("ngIf",je.content.noti),u.xp6(1),u.Q6J("ngIf",je.content.msg),u.xp6(1),u.Q6J("ngIf",je.isLastRead)}}function A(Je,at){1&Je&&u._UZ(0,"div",41)}function q(Je,at){if(1&Je&&(u.TgZ(0,"span",42),u._uU(1),u.qZA()),2&Je){const je=at.$implicit;u.xp6(1),u.hij(" ",je," ")}}function K(Je,at){if(1&Je&&(u.TgZ(0,"div",37)(1,"p",38),u._uU(2),u.qZA(),u.YNc(3,A,1,0,"div",39),u.YNc(4,q,2,1,"span",40),u.qZA()),2&Je){const je=u.oxw(2).$implicit;u.xp6(2),u.hij(" ",je.content.filename," "),u.xp6(1),u.Q6J("ngIf",je.content.text),u.xp6(1),u.Q6J("ngForOf",je.content.text)}}function we(Je,at){if(1&Je&&(u.TgZ(0,"div",43),u._UZ(1,"img",44),u.qZA()),2&Je){const je=u.oxw(2).$implicit;u.xp6(1),u.Q6J("src",je.content.img,u.LSH)("alt",je.content.filename)}}function Fe(Je,at){if(1&Je){const je=u.EpF();u.TgZ(0,"div",33),u.NdJ("click",function(){u.CHM(je);const yt=u.oxw().$implicit;return u.oxw().file_detail(yt)}),u.YNc(1,K,5,3,"div",34),u.YNc(2,we,2,2,"div",35),u.qZA()}if(2&Je){const je=u.oxw().$implicit;u.xp6(1),u.Q6J("ngIf",!je.content.img),u.xp6(1),u.Q6J("ngIf",je.content.img)}}function Te(Je,at){if(1&Je&&(u.TgZ(0,"span",56),u._uU(1),u.qZA()),2&Je){const je=u.oxw().$implicit;u.xp6(1),u.hij(" ",je.text," ")}}function Ie(Je,at){if(1&Je&&(u.TgZ(0,"a",57),u._uU(1),u.qZA()),2&Je){const je=u.oxw().$implicit;u.Q6J("href",je.text,u.LSH),u.xp6(1),u.Oqu(je.text)}}function Ve(Je,at){if(1&Je&&(u.TgZ(0,"span"),u.YNc(1,Te,2,1,"span",54),u.YNc(2,Ie,2,2,"a",55),u.qZA()),2&Je){const je=at.$implicit;u.xp6(1),u.Q6J("ngIf",!je.href),u.xp6(1),u.Q6J("ngIf",je.href)}}function Ue(Je,at){if(1&Je&&(u.TgZ(0,"div"),u.YNc(1,Ve,3,2,"span",49),u.qZA()),2&Je){const je=at.$implicit;u.xp6(1),u.Q6J("ngForOf",je)}}function et(Je,at){if(1&Je&&(u.TgZ(0,"div",48),u.YNc(1,Ue,2,1,"div",49),u.qZA()),2&Je){const je=u.oxw().$implicit;u.xp6(1),u.Q6J("ngForOf",je.content.msg)}}function mt(Je,at){if(1&Je){const je=u.EpF();u.TgZ(0,"div",20),u.NdJ("click",function(){const lt=u.CHM(je).$implicit;return u.oxw().message_detail(lt)}),u.YNc(1,Fe,3,2,"div",23),u.YNc(2,et,2,1,"div",25),u.qZA()}if(2&Je){const je=at.$implicit;u.xp6(1),u.Q6J("ngIf",je.content.filename),u.xp6(1),u.Q6J("ngIf",je.content.msg)}}function Re(Je,at){if(1&Je){const je=u.EpF();u.TgZ(0,"ion-item",58),u.NdJ("click",function(){return u.CHM(je),u.oxw().pull_msg_history(!1)}),u.TgZ(1,"ion-label"),u._uU(2),u.qZA()()}if(2&Je){const je=u.oxw();u.Q6J("disabled",!je.pullable),u.xp6(2),u.Oqu(je.lang.text.ChatRoom.fetch_next_chat)}}function ot(Je,at){if(1&Je&&u._UZ(0,"img",62),2&Je){const je=u.oxw(3);u.Q6J("src",je.userInput.file.thumbnail,u.LSH)("alt",je.userInput.file.name)}}function ut(Je,at){if(1&Je&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&Je){const je=at.$implicit;u.xp6(1),u.hij(" ",je," ")}}function ft(Je,at){if(1&Je&&(u.TgZ(0,"div",63),u.YNc(1,ut,2,1,"span",49),u.qZA()),2&Je){const je=u.oxw(3);u.xp6(1),u.Q6J("ngForOf",je.userInput.file.thumbnail)}}function Qe(Je,at){if(1&Je&&(u.TgZ(0,"div"),u.YNc(1,ot,1,2,"img",60),u.YNc(2,ft,2,1,"div",61),u.qZA()),2&Je){const je=u.oxw(2);u.xp6(1),u.Q6J("ngIf","image"==je.userInput.file.typeheader),u.xp6(1),u.Q6J("ngIf","text"==je.userInput.file.typeheader)}}function jt(Je,at){if(1&Je){const je=u.EpF();u.TgZ(0,"div",20),u.NdJ("click",function(){return u.CHM(je),u.oxw().removeAttach()}),u.TgZ(1,"div",59),u._uU(2),u.qZA(),u.YNc(3,Qe,3,2,"div",50),u.qZA()}if(2&Je){const je=u.oxw();u.xp6(2),u.hij(" ",je.userInput.file.filename," "),u.xp6(1),u.Q6J("ngIf",je.userInput.file.thumbnail)}}function At(Je,at){if(1&Je&&u._UZ(0,"ion-icon",68),2&Je){const je=u.oxw().$implicit;u.Q6J("name",je.icon||"close-circle")}}function $t(Je,at){if(1&Je&&u._UZ(0,"img",69),2&Je){const je=u.oxw().$implicit;u.Q6J("src","assets/icon/"+je.icon_img,u.LSH)("alt",je.title)}}function Ot(Je,at){if(1&Je){const je=u.EpF();u.TgZ(0,"div",64),u.NdJ("click",function(){return u.CHM(je).$implicit.act()}),u.TgZ(1,"div"),u.YNc(2,At,1,1,"ion-icon",65),u.YNc(3,$t,1,2,"img",66),u.qZA(),u.TgZ(4,"div",67),u._uU(5),u.qZA()()}if(2&Je){const je=at.$implicit;u.Akn("cursor: "+(je.cursor||"pointer")+";"),u.Q6J("hidden",je.isHide),u.xp6(2),u.Q6J("ngIf",je.icon),u.xp6(1),u.Q6J("ngIf",je.icon_img),u.xp6(2),u.hij(" ",je.title," ")}}const tn=24e4;let It=(()=>{class Je{constructor(je,We,yt,lt,ke,Be,Me,$e,wt,xt,Lt,Kt,cn){this.modalCtrl=je,this.navParams=We,this.nakama=yt,this.noti=lt,this.p5toast=ke,this.statusBar=Be,this.indexed=Me,this.alertCtrl=$e,this.lang=wt,this.sanitizer=xt,this.global=Lt,this.loadingCtrl=Kt,this.camera=cn,this.foundLastRead=!1,this.messages=[],this.sending_msg=[],this.temporary_open_thumbnail={},this.extended_buttons=[{title:this.lang.text.ChatRoom.remove_chatroom,isHide:!0,icon:"close-circle",act:()=>(0,m.mG)(this,void 0,void 0,function*(){let nn=yield this.loadingCtrl.create({message:this.lang.text.TodoDetail.WIP});nn.present(),delete this.nakama.channels_orig[this.isOfficial][this.target][this.info.id],this.nakama.channel_transfer[this.isOfficial][this.target]&&this.nakama.channel_transfer[this.isOfficial][this.target][this.info.id]&&delete this.nakama.channel_transfer[this.isOfficial][this.target][this.info.id],(3!=this.info.redirect.type||this.nakama.groups[this.isOfficial][this.target][this.info.group_id]&&"online"!=this.nakama.groups[this.isOfficial][this.target][this.info.group_id].status)&&(yield this.nakama.remove_channel_files(this.isOfficial,this.target,this.info.id)),this.indexed.GetFileListFromDB(`servers/${this.isOfficial}/${this.target}/channels/${this.info.id}`,Wt=>{Wt.forEach(bn=>this.indexed.removeFileFromUserPath(bn)),nn.dismiss()}),this.modalCtrl.dismiss()})},{title:this.lang.text.ChatRoom.leave_chatroom,icon:"log-out",act:()=>(0,m.mG)(this,void 0,void 0,function*(){if(3!=this.info.redirect.type)try{yield this.nakama.servers[this.isOfficial][this.target].socket.leaveChat(this.info.id),this.nakama.channels_orig[this.isOfficial][this.target][this.info.id].status="missing",this.extended_buttons.forEach(nn=>{nn.isHide=!0}),this.extended_buttons[0].isHide=!1}catch(nn){console.error("\ucc44\ub110\uc5d0\uc11c \ub098\uc624\uae30 \uc2e4\ud328: ",nn)}else this.extended_buttons[1].isHide=!0})},{title:this.lang.text.ChatRoom.setting_group,icon:"settings",act:()=>{3!=this.info.redirect.type?this.extended_buttons[2].isHide=!0:this.lock_modal_open||(this.lock_modal_open=!0,this.modalCtrl.create({component:d.x,componentProps:{info:this.nakama.groups[this.isOfficial][this.target][this.info.group_id]}}).then(nn=>{nn.onWillDismiss().then(Wt=>{Wt.data&&(this.extended_buttons.forEach(bn=>{bn.isHide=!0}),this.extended_buttons[0].isHide=!1)}),nn.present(),this.lock_modal_open=!1}))}},{title:this.lang.text.ChatRoom.useCamera,icon:"camera",act:()=>{this.camera.getPicture({destinationType:0,correctOrientation:!0}).then(nn=>{this.userInput.file={};let Wt=new Date;this.userInput.file.filename=`Camera_${Wt.toLocaleString().replace(/:/g,"_")}.jpeg`,this.userInput.file.file_ext="jpeg",this.userInput.file.thumbnail=this.sanitizer.bypassSecurityTrustUrl("data:image/jpeg;base64,"+nn),this.userInput.file.type="image/jpeg",this.userInput.file.typeheader="image",this.userInput.file.content_related_creator=[{user_id:this.nakama.servers[this.isOfficial][this.target].session.user_id,display_name:this.nakama.users.self.display_name}],this.userInput.file.content_creator=[{user_id:this.nakama.servers[this.isOfficial][this.target].session.user_id,display_name:this.nakama.users.self.display_name}],this.userInput.file.result="data:image/jpeg;base64,"+nn})}},{title:this.lang.text.ChatRoom.attach_file,icon:"attach",act:()=>{document.getElementById("file_sel").click()}},{title:this.lang.text.ChatRoom.attach_inapp_file,icon:"document-attach",act:()=>{console.log(this.info),this.modalCtrl.create({component:a.P,componentProps:{path:`servers/${this.isOfficial}/${this.target}/channels/${this.info.id}/files`,return:!0}}).then(nn=>{nn.onDidDismiss().then(Wt=>(0,m.mG)(this,void 0,void 0,function*(){if(Wt.data){let bn=Wt.data.info,W=yield this.loadingCtrl.create({message:this.lang.text.TodoDetail.WIP});W.present();try{let le=yield this.indexed.loadBlobFromUserPath(bn.path,""),S=URL.createObjectURL(le);setTimeout(()=>{URL.revokeObjectURL(S)},0),this.userInput.file={},this.userInput.file.filename=bn.name,this.userInput.file.file_ext=bn.file_ext,this.userInput.file.thumbnail=this.sanitizer.bypassSecurityTrustUrl(S),this.userInput.file.type="",this.userInput.file.typeheader=bn.viewer,this.userInput.file.content_related_creator=[{display_name:this.lang.text.GlobalAct.UnCheckableCreator}],this.userInput.file.content_creator=[{user_id:this.nakama.servers[this.isOfficial][this.target].session.user_id,display_name:this.nakama.users.self.display_name}],this.userInput.file.result=yield this.global.GetBase64ThroughFileReader(le)}catch(le){console.log("\ud30c\uc77c \ubd88\ub7ec\uc624\uae30\uc5d0 \uc2e4\ud328\ud568: ",le)}W.dismiss()}})),nn.present()})}},{title:this.lang.text.ChatRoom.voidDraw,icon_img:"voidDraw.png",act:()=>{this.modalCtrl.create({component:o.$}).then(nn=>{nn.onWillDismiss().then(Wt=>{Wt.data&&(this.userInput.file={},this.userInput.file.filename=Wt.data.name,this.userInput.file.file_ext="png",this.userInput.file.thumbnail=this.sanitizer.bypassSecurityTrustUrl(Wt.data.img),this.userInput.file.type="image/png",this.userInput.file.typeheader="image",this.userInput.file.content_related_creator=[{user_id:this.nakama.servers[this.isOfficial][this.target].session.user_id,display_name:this.nakama.users.self.display_name}],this.userInput.file.content_creator=[{user_id:this.nakama.servers[this.isOfficial][this.target].session.user_id,display_name:this.nakama.users.self.display_name}],this.userInput.file.result=Wt.data.img,this.inputPlaceholder=`(${this.lang.text.ChatRoom.attachments}: ${this.userInput.file.filename})`,Wt.data.loadingCtrl.dismiss())}),nn.present()})}}],this.next_cursor="",this.prev_cursor="",this.userInput={file:void 0,text:""},this.inputPlaceholder=this.lang.text.ChatRoom.input_placeholder,this.FILESIZE_LIMIT=5e6,this.pullable=!0,this.isHistoryLoaded=!1,this.LocalHistoryList=[],this.isHidden=!0,this.lock_modal_open=!1}inputFileSelected(je){return(0,m.mG)(this,void 0,void 0,function*(){if(je.target.files.length){this.userInput.file={},this.userInput.file.filename=je.target.files[0].name,this.userInput.file.file_ext=je.target.files[0].name.split(".")[1]||je.target.files[0].type||this.lang.text.ChatRoom.unknown_ext,this.userInput.file.size=je.target.files[0].size,this.userInput.file.type=je.target.files[0].type,this.userInput.file.typeheader=je.target.files[0].type.split("/")[0];let We=setInterval(()=>{},110);if(setTimeout(()=>{clearInterval(We)},1500),this.userInput.file.result=yield this.global.GetBase64ThroughFileReader(je.target.files[0]),this.userInput.file.thumbnail=void 0,this.userInput.file.size<tn)switch(this.userInput.file.typeheader){case"image":this.userInput.file.thumbnail=this.sanitizer.bypassSecurityTrustUrl(this.userInput.file.result);break;case"text":new ye(yt=>{yt.setup=()=>{yt.loadStrings(this.userInput.file.result,lt=>{this.userInput.file.thumbnail=lt,yt.remove()},lt=>{console.error("\ubb38\uc790\uc5f4 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",lt),yt.remove()})}})}this.inputPlaceholder=`(${this.lang.text.ChatRoom.attachments}: ${this.userInput.file.filename})`}else delete this.userInput.file,this.inputPlaceholder=this.lang.text.ChatRoom.input_placeholder})}ngOnInit(){switch(this.nakama.removeBanner(),this.info=this.navParams.get("info"),this.noti.Current=this.info.cnoti_id,this.info.cnoti_id&&this.noti.ClearNoti(this.info.cnoti_id),this.noti.RemoveListener(`openchat${this.info.cnoti_id}`),this.isOfficial=this.info.server.isOfficial,this.target=this.info.server.target,this.foundLastRead=this.info.last_read_id==this.info.last_comment_id,this.extended_buttons[3].isHide="Android"!=U.n$&&"iOS"!=U.n$,this.info.redirect.type){case 2:"missing"!=this.info.status&&(this.info.redirect?"online"==this.statusBar.groupServer[this.isOfficial][this.target]&&(this.info.status=this.nakama.load_other_user(this.info.redirect.id,this.isOfficial,this.target).online?"online":"pending"):this.info.status=this.info.info.online?"online":"pending",this.extended_buttons[2].isHide=!0);break;case 3:this.extended_buttons[1].isHide=!0,delete this.extended_buttons[2].isHide}this.content_panel=document.getElementById("content"),this.send_thumbnail=document.getElementById("send_thumbnail"),this.content_panel.scrollIntoView({behavior:"smooth",block:"start"}),this.nakama.channels_orig[this.isOfficial][this.target]&&this.nakama.channels_orig[this.isOfficial][this.target][this.info.id]&&(this.nakama.channels_orig[this.isOfficial][this.target][this.info.id].update=je=>{this.nakama.check_sender_and_show_name(je,this.isOfficial,this.target),je.content.filename&&this.ModulateFileEmbedMessage(je),this.info.last_read_id=this.info.last_comment_id,this.check_if_send_msg(je),this.messages.push(je),this.modulate_chatmsg(this.messages.length-1,this.messages.length),setTimeout(()=>{this.info.is_new=!1,this.nakama.has_new_channel_msg=!1,this.content_panel.scrollIntoView({block:"start"})},0)}),"missing"==this.info.status&&(this.extended_buttons.forEach(je=>{je.isHide=!0}),this.extended_buttons[0].isHide=!1),this.pull_msg_history(),setTimeout(()=>{this.content_panel.scrollIntoView({block:"start"})},500)}check_if_send_msg(je){for(let We=0,yt=this.sending_msg.length;We<yt;We++)if(je.sender_id==this.nakama.servers[this.isOfficial][this.target].session.user_id&&je.content.local_comp==this.sending_msg[We].content.local_comp){je.content.filename&&this.auto_open_thumbnail(je),this.sending_msg.splice(We,1);break}}auto_open_thumbnail(je){try{this.temporary_open_thumbnail[je.message_id]()}catch(We){this.temporary_open_thumbnail[je.message_id]=()=>{this.indexed.loadBlobFromUserPath(`servers/${this.isOfficial}/${this.target}/channels/${this.info.id}/files/msg_${je.message_id}.${je.content.file_ext}`,je.content.type,yt=>{let lt=URL.createObjectURL(yt);this.global.modulate_thumbnail(je.content,lt)}),delete this.temporary_open_thumbnail[je.message_id]}}}ionViewWillEnter(){this.follow_resize()}removeAttach(){delete this.userInput.file,this.inputPlaceholder=this.lang.text.ChatRoom.input_placeholder}follow_resize(){setTimeout(()=>{this.p5canvas=new ye(We=>{let yt=document.getElementById("main_table"),lt=document.getElementById("main_div"),ke=document.getElementById("input_table"),Be=document.getElementById("ext_menu");We.setup=()=>{setTimeout(()=>{We.windowResized()},100),We.noLoop()},We.keyPressed=()=>{We.keyCode==We.ENTER&&(this.last_text=this.userInput.text)},We.windowResized=()=>{setTimeout(()=>{lt.setAttribute("style",`max-width: ${yt.parentElement.offsetWidth}px; max-height: ${yt.parentElement.clientHeight-ke.offsetHeight-Be.offsetHeight}px`),this.send_thumbnail.setAttribute("style",`width: ${yt.parentElement.offsetWidth}px; max-height: 136px; bottom: ${this.isHidden?46:286}px;`)},0)}})},50)}pull_msg_history(je=!0){if(this.pullable)if(this.pullable=!1,je)if("online"==this.info.status||"pending"==this.info.status)this.nakama.servers[this.isOfficial][this.target].client.listChannelMessages(this.nakama.servers[this.isOfficial][this.target].session,this.info.id,15,!1,this.next_cursor).then(We=>{this.info.is_new=!1,We.messages.forEach(yt=>{yt=this.nakama.modulation_channel_message(yt,this.isOfficial,this.target),this.nakama.check_sender_and_show_name(yt,this.isOfficial,this.target),this.info.last_comment||(this.info.last_comment=(yt.content.filename?`(${this.lang.text.ChatRoom.attachments}) `:"")+(yt.content.msg||yt.content.noti||"")),!this.foundLastRead&&this.info.last_read_id?this.info.last_read_id==yt.message_id&&(yt.isLastRead=!0,this.foundLastRead=!0,this.info.last_read_id=this.info.last_comment_id):this.foundLastRead=!0,this.nakama.translate_updates(yt),yt.content.filename&&this.ModulateFileEmbedMessage(yt),this.nakama.ModulateTimeDate(yt),this.nakama.content_to_hyperlink(yt),this.messages.unshift(yt),this.modulate_chatmsg(0,this.messages.length)}),this.next_cursor=We.next_cursor,this.prev_cursor=We.prev_cursor,this.pullable=!0,this.foundLastRead||this.pull_msg_history(),this.nakama.saveListedMessage(this.messages,this.info,this.isOfficial,this.target)});else{if(3==this.info.redirect.type&&this.nakama.groups[this.isOfficial][this.target]&&this.nakama.groups[this.isOfficial][this.target][this.info.group_id]&&!this.nakama.groups[this.isOfficial][this.target][this.info.group_id].open){let We=[{content:{msg:[{text:this.lang.text.ChatRoom.closed_group_must_online}]}},{content:{msg:[{text:this.lang.text.ChatRoom.closed_group_not_allow}]}}];return this.next_cursor=void 0,this.isHistoryLoaded=!0,void We.forEach(yt=>this.messages.push(yt))}this.LoadLocalChatHistory()}else console.log("\uc9c0\uae08 \ubcf4\uace0\uc788\ub294 \uae30\ub85d\ubcf4\ub2e4 \ucd5c\uadfc \uae30\ub85d \ubd88\ub7ec\uc624\uae30")}LoadLocalChatHistory(){this.isHistoryLoaded?this.indexed.loadTextFromUserPath(this.LocalHistoryList.pop(),(je,We)=>{if(je&&We){let yt=JSON.parse(We.trim());for(let lt=yt.length-1;lt>=0;lt--)this.ModulateFileEmbedMessage(yt[lt]),this.nakama.translate_updates(yt[lt]),yt[lt]=this.nakama.modulation_channel_message(yt[lt],this.isOfficial,this.target),this.nakama.ModulateTimeDate(yt[lt]),this.messages.unshift(yt[lt]),this.modulate_chatmsg(0,this.messages.length)}this.pullable=Boolean(this.LocalHistoryList.length)}):this.indexed.GetFileListFromDB(`servers/${this.isOfficial}/${this.target}/channels/${this.info.id}/chats/`,je=>{this.LocalHistoryList=je,this.isHistoryLoaded=!0,this.LocalHistoryList.length&&this.indexed.loadTextFromUserPath(this.LocalHistoryList.pop(),(We,yt)=>{if(We&&yt){let lt=JSON.parse(yt.trim());for(let ke=lt.length-1;ke>=0;ke--)this.ModulateFileEmbedMessage(lt[ke]),this.nakama.translate_updates(lt[ke]),lt[ke]=this.nakama.modulation_channel_message(lt[ke],this.isOfficial,this.target),this.nakama.ModulateTimeDate(lt[ke]),this.messages.unshift(lt[ke]),this.modulate_chatmsg(0,this.messages.length)}this.next_cursor=null,this.pullable=Boolean(this.LocalHistoryList.length)})})}open_ext_with_delay(){this.isHidden=!this.isHidden,setTimeout(()=>{this.p5canvas.windowResized()},120)}make_ext_hidden(){this.isHidden=!0,setTimeout(()=>{this.p5canvas.windowResized()},120)}send(je=!1){if(je&&("Android"==U.n$||"iOS"==U.n$))return;if(!this.userInput.text.trim()&&!this.userInput.file)return void(this.userInput.text="");let We={};We.msg=this.last_text||this.userInput.text,this.last_text="";let yt=[];if(this.userInput.file){We.filename=this.userInput.file.filename,We.filesize=this.userInput.file.size,We.file_ext=this.userInput.file.file_ext,We.type=this.userInput.file.type,We.msg=We.msg,We.content_creator=this.userInput.file.content_creator,We.content_related_creator=this.userInput.file.content_related_creator;let ke=0;const Be=this.userInput.file.result.length;for(;ke<Be;){let Me=ke+tn;Me>Be&&(Me=Be),yt.push(this.userInput.file.result.substring(ke,Me)),ke=Me}We.partsize=yt.length}We.local_comp=Math.random();let lt={content:JSON.parse(JSON.stringify(We))};this.nakama.content_to_hyperlink(lt),this.sending_msg.push(lt),this.nakama.servers[this.isOfficial][this.target].socket.writeChatMessage(this.info.id,We).then(ke=>{yt.length&&this.indexed.saveFileToUserPath(this.userInput.file.result,`servers/${this.isOfficial}/${this.target}/channels/${this.info.id}/files/msg_${ke.message_id}.${this.userInput.file.file_ext}`,()=>{this.auto_open_thumbnail({content:We,message_id:ke.message_id}),this.nakama.WriteStorage_From_channel(ke,yt,this.isOfficial,this.target)}),delete this.userInput.file,this.userInput.text="",this.inputPlaceholder=this.lang.text.ChatRoom.input_placeholder})}message_detail(je){console.log("msg detail idle log")}file_detail(je){this.indexed.checkIfFileExist(`servers/${this.isOfficial}/${this.target}/channels/${this.info.id}/files/msg_${je.message_id}.${je.content.file_ext}`,We=>{if(We){if(this.nakama.channel_transfer[this.isOfficial][this.target]&&this.nakama.channel_transfer[this.isOfficial][this.target][je.channel_id]&&this.nakama.channel_transfer[this.isOfficial][this.target][je.channel_id][je.message_id]&&this.nakama.channel_transfer[this.isOfficial][this.target][je.channel_id][je.message_id].OnProgress)return void this.indexed.loadBlobFromUserPath(`servers/${this.isOfficial}/${this.target}/channels/${this.info.id}/files/msg_${je.message_id}.${je.content.file_ext}`,je.content.type,yt=>(0,m.mG)(this,void 0,void 0,function*(){let lt=yield this.global.GetBase64ThroughFileReader(yt),ke=[],Be=0;const Me=lt.length;for(;Be<Me;){let $e=Be+tn;$e>Me&&($e=Me),ke.push(lt.substring(Be,$e)),Be=$e}this.nakama.WriteStorage_From_channel(je,ke,this.isOfficial,this.target,this.nakama.channel_transfer[this.isOfficial][this.target][je.channel_id][je.message_id].progress[0]),delete this.nakama.channel_transfer[this.isOfficial][this.target][je.channel_id][je.message_id].OnProgress}));je.content.text||(je.content.text=[this.lang.text.ChatRoom.downloaded]),this.indexed.loadBlobFromUserPath(`servers/${this.isOfficial}/${this.target}/channels/${this.info.id}/files/msg_${je.message_id}.${je.content.file_ext}`,je.content.type,yt=>{let lt=URL.createObjectURL(yt);this.global.modulate_thumbnail(je.content,lt)}),this.open_viewer(je,`servers/${this.isOfficial}/${this.target}/channels/${this.info.id}/files/msg_${je.message_id}.${je.content.file_ext}`)}else try{if(this.nakama.channel_transfer[this.isOfficial][this.target]&&this.nakama.channel_transfer[this.isOfficial][this.target][je.channel_id]&&this.nakama.channel_transfer[this.isOfficial][this.target][je.channel_id][je.message_id]){if(this.nakama.channel_transfer[this.isOfficial][this.target][je.channel_id][je.message_id].OnProgress)throw delete this.nakama.channel_transfer[this.isOfficial][this.target][je.channel_id][je.message_id],"Need to download file again";return}throw"Need to download file"}catch(yt){console.log(yt),"DesktopPWA"==U.n$?this.isHistoryLoaded||this.nakama.ReadStorage_From_channel(je,this.isOfficial,this.target,lt=>{let ke=URL.createObjectURL(lt);this.global.modulate_thumbnail(je.content,ke)}):"MobilePWA"!=U.n$&&("disabled"==je.content.viewer?this.isHistoryLoaded||this.alertCtrl.create({header:this.lang.text.ChatRoom.cannot_open_from_mobile,message:this.lang.text.ChatRoom.cannot_open_with_viewer,buttons:[{text:this.lang.text.ChatRoom.download_anyway,handler:()=>{this.nakama.ReadStorage_From_channel(je,this.isOfficial,this.target,lt=>{let ke=URL.createObjectURL(lt);this.global.modulate_thumbnail(je.content,ke)})}}]}).then(lt=>lt.present()):this.isHistoryLoaded||this.nakama.ReadStorage_From_channel(je,this.isOfficial,this.target,lt=>{let ke=URL.createObjectURL(lt);this.global.modulate_thumbnail(je.content,ke)}))}})}modulate_chatmsg(je,We){this.messages[je].showInfo||(this.messages[je].showInfo={}),this.messages[je].showInfo.date=Boolean(this.messages[je].msgDate),this.messages[je].showInfo.sender=!this.messages[je].content.noti&&this.messages[je].user_display_name,je-1>=0&&(this.messages[je].showInfo.date=Boolean(this.messages[je].msgDate)&&this.messages[je].msgDate!=this.messages[je-1].msgDate,this.messages[je].showInfo.sender=!this.messages[je].content.noti&&this.messages[je].user_display_name&&(this.messages[je-1].isLastRead||this.messages[je].sender_id!=this.messages[je-1].sender_id||this.messages[je-1].content.noti||this.messages[je].msgDate!=this.messages[je-1].msgDate)),je+1<We&&(this.messages[je+1].showInfo.date=Boolean(this.messages[je].msgDate)&&this.messages[je].msgDate!=this.messages[je+1].msgDate,this.messages[je+1].showInfo.sender=!this.messages[je+1].content.noti&&this.messages[je+1].user_display_name&&(this.messages[je].isLastRead||this.messages[je].sender_id!=this.messages[je+1].sender_id||this.messages[je].content.noti||this.messages[je].msgDate!=this.messages[je+1].msgDate))}ModulateFileEmbedMessage(je){this.global.set_viewer_category(je.content),this.indexed.checkIfFileExist(`servers/${this.isOfficial}/${this.target}/channels/${this.info.id}/files/msg_${je.message_id}.${je.content.file_ext}`,We=>{We&&(je.content.text=[this.lang.text.ChatRoom.downloaded],(je.content.filesize||0)<this.FILESIZE_LIMIT&&this.indexed.loadBlobFromUserPath(`servers/${this.isOfficial}/${this.target}/channels/${this.info.id}/files/msg_${je.message_id}.${je.content.file_ext}`,je.content.type,yt=>{let lt=URL.createObjectURL(yt);this.global.modulate_thumbnail(je.content,lt)}))})}open_viewer(je,We){switch(je.content.viewer){case"godot":this.open_godot_viewer(je,We);break;case"disabled":this.alert_download(je,We);break;default:this.open_ionic_viewer(je,We)}}open_ionic_viewer(je,We){this.lock_modal_open||(this.lock_modal_open=!0,this.modalCtrl.create({component:E.B,componentProps:{info:je.content,path:We}}).then(yt=>{yt.onDidDismiss().then(lt=>{if(lt.data){let ke=[];if(je.content.content_related_creator&&ke.push(...je.content.content_related_creator),je.content.content_creator){let Be=!1;for(let Me=0,$e=ke.length;Me<$e;Me++)if(ke[Me].user_id==je.content.content_creator[0].user_id){Be=!0;break}Be||ke.push(...je.content.content_creator)}this.modalCtrl.create({component:o.$,componentProps:{info:je.content,path:We,width:lt.data.width,height:lt.data.height}}).then(Be=>{Be.onWillDismiss().then(Me=>{Me.data&&(this.userInput.file={},this.userInput.file.filename=Me.data.name,this.userInput.file.file_ext="png",this.userInput.file.thumbnail=this.sanitizer.bypassSecurityTrustUrl(Me.data.img),this.userInput.file.type="image/png",this.userInput.file.typeheader="image",this.userInput.file.content_related_creator=ke,this.userInput.file.content_creator=[{user_id:this.nakama.servers[this.isOfficial][this.target].session.user_id,display_name:this.nakama.users.self.display_name}],this.userInput.file.result=Me.data.img,this.inputPlaceholder=`(${this.lang.text.ChatRoom.attachments}: ${this.userInput.file.filename})`,Me.data.loadingCtrl.dismiss())}),Be.present()})}else this.noti.Current=this.info.cnoti_id,this.info.cnoti_id&&this.noti.ClearNoti(this.info.cnoti_id),this.noti.RemoveListener(`openchat${this.info.cnoti_id}`)}),this.noti.Current="IonicViewerPage",yt.present(),this.lock_modal_open=!1}))}open_godot_viewer(je,We){this.lock_modal_open||(this.lock_modal_open=!0,this.modalCtrl.create({component:f.r,componentProps:{info:je.content,path:We}}).then(yt=>{yt.onDidDismiss().then(lt=>{this.noti.Current=this.info.cnoti_id,this.info.cnoti_id&&this.noti.ClearNoti(this.info.cnoti_id),this.noti.RemoveListener(`openchat${this.info.cnoti_id}`)}),this.noti.Current="GodotViewerPage",yt.present(),this.lock_modal_open=!1}))}alert_download(je,We){"DesktopPWA"==U.n$?this.alertCtrl.create({header:this.lang.text.ChatRoom.viewer_not_support,message:this.lang.text.ChatRoom.cannot_open_file,buttons:[{text:this.lang.text.ChatRoom.export_download,handler:()=>{this.indexed.DownloadFileFromUserPath(We,je.content.type,je.content.filename)}}]}).then(yt=>yt.present()):this.p5toast.show({text:this.lang.text.ChatRoom.cannot_open_file})}user_detail(je){this.lock_modal_open||(this.lock_modal_open=!0,je.is_me?this.modalCtrl.create({component:xe.G}).then(We=>{We.onDidDismiss().then(yt=>{this.noti.Current=this.info.cnoti_id,this.info.cnoti_id&&this.noti.ClearNoti(this.info.cnoti_id),this.noti.RemoveListener(`openchat${this.info.cnoti_id}`)}),this.noti.Current="ProfilePage",We.present(),this.lock_modal_open=!1}):this.modalCtrl.create({component:e.r,componentProps:{info:{user:this.nakama.load_other_user(je.sender_id,this.isOfficial,this.target)},group:this.info,has_admin:!1}}).then(We=>{We.onDidDismiss().then(yt=>{this.noti.Current=this.info.cnoti_id,this.info.cnoti_id&&this.noti.ClearNoti(this.info.cnoti_id),this.noti.RemoveListener(`openchat${this.info.cnoti_id}`)}),this.noti.Current="OthersProfilePage",We.present(),this.lock_modal_open=!1}))}ionViewWillLeave(){this.nakama.rearrange_channels(),this.nakama.channels_orig[this.isOfficial][this.target]&&this.nakama.channels_orig[this.isOfficial][this.target][this.info.id]&&delete this.nakama.channels_orig[this.isOfficial][this.target][this.info.id].update,this.noti.Current=void 0,this.p5canvas.remove()}}return Je.\u0275fac=function(je){return new(je||Je)(u.Y36(p.IN),u.Y36(p.X1),u.Y36(s.a),u.Y36(r.J),u.Y36(i.F),u.Y36(c.g),u.Y36(h.H),u.Y36(p.Br),u.Y36(y.b),u.Y36(v.H7),u.Y36(x.A),u.Y36(p.HT),u.Y36(w.V1))},Je.\u0275cmp=u.Xpm({type:Je,selectors:[["app-chat-room"]],decls:38,vars:16,consts:[["slot","start",3,"click"],["defaultHref","subscribes"],["id","main_table",2,"width","100%","height","100%","background-color","var(--chatroom-background)"],[2,"height","100%"],[2,"vertical-align","top"],["id","main_div",1,"main"],["button","",3,"disabled","click"],[3,"click",4,"ngFor","ngForOf"],["hidden","","button","",3,"disabled","click",4,"ngIf"],["id","content"],["id","send_thumbnail",2,"width","100%",3,"hidden"],[3,"click",4,"ngIf"],["id","input_table",2,"width","100%","background-color","var(--chatroom-input-background)"],["expand","block",3,"disabled","click"],[2,"width","100%","vertical-align","bottom"],[2,"width","100%","height","36px","resize","none","padding","6px","margin-top","5px",3,"ngModel","placeholder","ngModelChange","keyup.enter","click"],["id","ext_menu",3,"hidden"],[1,"expanded"],["hidden","","type","file","id","file_sel","accept","*",3,"change"],["class","ext_button",3,"hidden","style","click",4,"ngFor","ngForOf"],[3,"click"],["style","text-align: center; font-size: 16px; padding-top: 8px;",4,"ngIf"],["class","message_form",4,"ngIf"],["class","file_message_form",3,"click",4,"ngIf"],["class","notice_form",4,"ngIf"],["class","message_content_form",4,"ngIf"],["class","read_last_here",4,"ngIf"],[2,"text-align","center","font-size","16px","padding-top","8px"],["color","#888"],[1,"message_form"],[1,"message_span_form",3,"click"],[3,"color"],[1,"time_form"],[1,"file_message_form",3,"click"],["class","file_button",4,"ngIf"],["class","file_name_form",4,"ngIf"],["class","transfer_count",4,"ngIf"],[1,"file_button"],[1,"file_info"],["class","text_seperator",4,"ngIf"],["class","file_text_thumbnail",4,"ngFor","ngForOf"],[1,"text_seperator"],[1,"file_text_thumbnail"],[1,"file_name_form"],[1,"file_thumbnail",3,"src","alt"],[1,"transfer_count"],[1,"notice_form"],[1,"notice"],[1,"message_content_form"],[4,"ngFor","ngForOf"],[4,"ngIf"],["target","_system",3,"href",4,"ngIf"],["target","_system",3,"href"],[1,"read_last_here"],["class","comp_local_content",4,"ngIf"],["class","comp_local_content","target","_system",3,"href",4,"ngIf"],[1,"comp_local_content"],["target","_system",1,"comp_local_content",3,"href"],["hidden","","button","",3,"disabled","click"],[2,"height","24px","text-align","center"],["class","image_thumbnail",3,"src","alt",4,"ngIf"],["style","display: grid;",4,"ngIf"],[1,"image_thumbnail",3,"src","alt"],[2,"display","grid"],[1,"ext_button",3,"hidden","click"],["slot","icon-only","style","width: 36px; height: 36px;",3,"name",4,"ngIf"],["class","ext_icon_img",3,"src","alt",4,"ngIf"],[2,"display","inline-block"],["slot","icon-only",2,"width","36px","height","36px",3,"name"],[1,"ext_icon_img",3,"src","alt"]],template:function(je,We){1&je&&(u.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),u._uU(3),u.qZA(),u.TgZ(4,"ion-buttons",0),u.NdJ("click",function(){return We.modalCtrl.dismiss()}),u._UZ(5,"ion-back-button",1),u.qZA()()(),u.TgZ(6,"ion-content")(7,"table",2)(8,"tr",3)(9,"td",4)(10,"div",5)(11,"ion-item",6),u.NdJ("click",function(){return We.pull_msg_history()}),u.TgZ(12,"ion-label"),u._uU(13),u.qZA()(),u.YNc(14,Ae,7,6,"div",7),u.YNc(15,mt,3,2,"div",7),u.YNc(16,Re,3,2,"ion-item",8),u._UZ(17,"div",9),u.qZA()()(),u.TgZ(18,"tr")(19,"td")(20,"div")(21,"div",10),u.YNc(22,jt,4,2,"div",11),u.qZA(),u.TgZ(23,"table",12)(24,"tr")(25,"td")(26,"ion-button",13),u.NdJ("click",function(){return We.open_ext_with_delay()}),u._uU(27),u.qZA()(),u.TgZ(28,"td",14)(29,"textarea",15),u.NdJ("ngModelChange",function(lt){return We.userInput.text=lt})("keyup.enter",function(){return We.send(!0)})("click",function(){return We.make_ext_hidden()}),u.qZA()(),u.TgZ(30,"td")(31,"ion-button",13),u.NdJ("click",function(){return We.send(!1)}),u._uU(32),u.qZA()()()()()()(),u.TgZ(33,"tr",16)(34,"td")(35,"div",17)(36,"input",18),u.NdJ("change",function(lt){return We.inputFileSelected(lt)}),u.qZA(),u.YNc(37,Ot,6,6,"div",19),u.qZA()()()()()),2&je&&(u.xp6(3),u.Oqu(We.info.title||We.lang.text.ChatRoom.noname_chatroom),u.xp6(8),u.Q6J("disabled",void 0===We.next_cursor||!We.pullable),u.xp6(2),u.Oqu(We.lang.text.ChatRoom.fetch_previous_chat),u.xp6(1),u.Q6J("ngForOf",We.messages),u.xp6(1),u.Q6J("ngForOf",We.sending_msg),u.xp6(1),u.Q6J("ngIf",We.prev_cursor),u.xp6(5),u.Q6J("hidden",!We.userInput.file),u.xp6(1),u.Q6J("ngIf",We.userInput.file),u.xp6(4),u.Q6J("disabled",!We.info.status||"offline"==We.info.status),u.xp6(1),u.hij(" ",We.lang.text.ChatRoom.chat_extension," "),u.xp6(2),u.Q6J("ngModel",We.userInput.text)("placeholder",We.inputPlaceholder),u.xp6(2),u.Q6J("disabled",!We.info.status||"missing"==We.info.status||"offline"==We.info.status),u.xp6(1),u.hij(" ",We.lang.text.ChatRoom.send_chat," "),u.xp6(1),u.Q6J("hidden",We.isHidden),u.xp6(4),u.Q6J("ngForOf",We.extended_buttons))},directives:[p.Gu,p.sr,p.wd,p.Sm,p.oU,p.cs,p.W2,p.Ie,p.Q$,C.sg,C.O5,p.YG,N.Fj,N.JJ,N.On,p.gu],styles:[".main[_ngcontent-%COMP%]{width:100%;padding:8px;overflow-x:hidden;overflow-y:auto;scroll-behavior:smooth}.message_form[_ngcontent-%COMP%]{margin:8px 0 0}.message_span_form[_ngcontent-%COMP%]{margin-right:8px}.time_form[_ngcontent-%COMP%]{font-size:12px;color:#888}.file_message_form[_ngcontent-%COMP%]{display:flex}.file_name_form[_ngcontent-%COMP%]{margin-top:4px;max-width:192px;max-height:192px}.file_thumbnail[_ngcontent-%COMP%]{max-width:192px;max-height:192px;width:auto;height:auto}.file_info[_ngcontent-%COMP%]{margin:0}.file_text_thumbnail[_ngcontent-%COMP%]{margin-top:2px;display:grid}.message_content_form[_ngcontent-%COMP%]{margin:4px 0 0}.comp_local_content[_ngcontent-%COMP%]{color:#888}.text_seperator[_ngcontent-%COMP%]{background-color:#fff;margin-top:2px;position:relative;width:100%;height:2px}.expanded[_ngcontent-%COMP%]{height:240px;overflow-x:hidden;overflow-y:auto;scroll-behavior:smooth;text-align:center;background-color:var(--chatroom-input-background)}.ext_button[_ngcontent-%COMP%]{display:inline-block;width:96px;height:80px;margin:16px 8px 0;text-align:center}.ext_button_icon[_ngcontent-%COMP%]{width:72px;height:72px}.file_button[_ngcontent-%COMP%]{width:160px;height:112px;overflow:hidden;background-color:gray;margin-top:4px}#send_thumbnail[_ngcontent-%COMP%]{position:absolute;background:#bbbb;padding:8px;overflow:auto}.image_thumbnail[_ngcontent-%COMP%]{width:auto;max-height:96px;height:auto;object-fit:contain;display:block;margin:auto}.transfer_count[_ngcontent-%COMP%]{align-self:flex-end;margin-left:4px}.notice_form[_ngcontent-%COMP%]{text-align:center;margin:12px}.notice[_ngcontent-%COMP%]{font-size:12px;display:inline;background:#444;border-radius:8px;padding:4px 8px;color:#fff}.read_last_here[_ngcontent-%COMP%]{text-align:center;font-size:12px;display:inherit;background:var(--chatroom-you-read-here-backgruond);margin:4px 0;color:var(--chatroom-you-read-here-text)}.ext_icon_img[_ngcontent-%COMP%]{max-width:36px;max-height:36px}"]}),Je})()},5087:(hn,Mt,se)=>{"use strict";se.d(Mt,{r:()=>o});var m=se(5016),ye=se(9863),Xe=se(3996),xe=se(1282),e=se(3496),U=se(5742),E=se(9808);function f(a,d){if(1&a){const u=ye.EpF();ye.TgZ(0,"ion-button",6),ye.NdJ("click",function(){return ye.CHM(u),ye.oxw().download_file()}),ye._uU(1),ye.qZA()}if(2&a){const u=ye.oxw();ye.xp6(1),ye.hij("",u.lang.text.ContentViewer.Download," ")}}let o=(()=>{class a{constructor(u,p,s,r,i){this.modalCtrl=u,this.navParams=p,this.global=s,this.indexed=r,this.lang=i,this.EventListenerAct=c=>{c.detail.register(120,h=>{})}}ngOnInit(){("DesktopPWA"==m.n$||"MobilePWA"==m.n$)&&(this.cant_dedicated=!0),this.FileInfo=this.navParams.get("info"),this.global.CreateGodotIFrame("godot-viewer",{local_url:"assets/data/godot/godot-viewer.pck",title:"ViewerEx",path:this.navParams.get("path"),ext:this.FileInfo.file_ext})}ionViewDidEnter(){document.addEventListener("ionBackButton",this.EventListenerAct)}download_file(){this.indexed.DownloadFileFromUserPath(this.navParams.get("path"),this.FileInfo.type,this.FileInfo.filename)}ionViewWillLeave(){document.removeEventListener("ionBackButton",this.EventListenerAct)}}return a.\u0275fac=function(u){return new(u||a)(ye.Y36(Xe.IN),ye.Y36(Xe.X1),ye.Y36(xe.A),ye.Y36(e.H),ye.Y36(U.b))},a.\u0275cmp=ye.Xpm({type:a,selectors:[["app-godot-viewer"]],decls:17,vars:3,consts:[["slot","start",3,"click"],["defaultHref",""],[1,"main_table",2,"width","100%","height","100%","margin","0"],[2,"height","0"],[3,"click",4,"ngIf"],["id","godot-viewer",1,"full_screen"],[3,"click"]],template:function(u,p){1&u&&(ye.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),ye._uU(3),ye.qZA(),ye.TgZ(4,"ion-buttons",0),ye.NdJ("click",function(){return p.modalCtrl.dismiss()}),ye._UZ(5,"ion-back-button",1),ye.qZA()()(),ye.TgZ(6,"ion-content")(7,"table",2)(8,"tr",3)(9,"td")(10,"ion-list-header")(11,"ion-label"),ye._uU(12),ye.qZA(),ye.YNc(13,f,2,1,"ion-button",4),ye.qZA()()(),ye.TgZ(14,"tr")(15,"td"),ye._UZ(16,"div",5),ye.qZA()()()()),2&u&&(ye.xp6(3),ye.Oqu(p.lang.text.ContentViewer.Title),ye.xp6(9),ye.Oqu(p.FileInfo.filename),ye.xp6(1),ye.Q6J("ngIf",p.cant_dedicated))},directives:[Xe.Gu,Xe.sr,Xe.wd,Xe.Sm,Xe.oU,Xe.cs,Xe.W2,Xe.yh,Xe.Q$,E.O5,Xe.YG],styles:[""]}),a})()},774:(hn,Mt,se)=>{"use strict";se.d(Mt,{B:()=>d});var m=se(5016),ye=se(6505),xe=se(9863),e=se(3996),U=se(3496),E=se(5742),f=se(9808);function o(u,p){if(1&u){const s=xe.EpF();xe.TgZ(0,"ion-button",9),xe.NdJ("click",function(){return xe.CHM(s),xe.oxw().modify_image()}),xe._uU(1),xe.qZA()}if(2&u){const s=xe.oxw();xe.xp6(1),xe.hij(" ",s.lang.text.ContentViewer.Edit," ")}}function a(u,p){if(1&u){const s=xe.EpF();xe.TgZ(0,"ion-button",9),xe.NdJ("click",function(){return xe.CHM(s),xe.oxw().download_file()}),xe._uU(1),xe.qZA()}if(2&u){const s=xe.oxw();xe.xp6(1),xe.hij(" ",s.lang.text.ContentViewer.Download," ")}}let d=(()=>{class u{constructor(s,r,i,c){this.modalCtrl=s,this.navParams=r,this.indexed=i,this.lang=c,this.image_info={}}ngOnInit(){("DesktopPWA"==m.n$||"MobilePWA"==m.n$)&&(this.cant_dedicated=!0),this.FileInfo=this.navParams.get("info"),this.ContentBox=document.getElementById("ContentBox"),this.FileHeader=document.getElementById("FileHeader"),this.HasNoEditButton=this.navParams.get("no_edit")||!1,this.indexed.loadBlobFromUserPath(this.navParams.get("path"),this.FileInfo.type,s=>{this.FileURL=URL.createObjectURL(s)})}ionViewDidEnter(){let s=document.getElementById("p5canvas");switch(this.FileInfo.viewer){case"image":this.p5canvas=new ye(r=>{const i="ImageEle";let c,h;r.setup=()=>{let v=r.createCanvas(s.clientWidth,s.clientHeight);v.style("margin","0"),v.style("position","relative"),v.style("pointer-events","none"),c=r.createImg(this.FileURL,this.FileInfo.filename),c.hide(),c.id(i),c.parent(s),c.style("position","relative"),c.style("width","auto"),c.style("height","auto"),setTimeout(()=>{c.show(),this.image_info.width=c.elt.naturalWidth,this.image_info.height=c.elt.naturalHeight,y()},50),("Android"==m.n$||"iOS"==m.n$)&&(h=document.createElement("iframe"),h.setAttribute("src",this.FileURL),h.setAttribute("frameborder","0"),h.setAttribute("class","full_screen"),h.setAttribute("style","position: relative; pointer-events: all"),h.hidden=!0,s.appendChild(h)),r.noLoop()};let y=()=>{c.size().height<s.offsetHeight&&(c.style("top","50%"),c.style("transform","translateY(-50%")),c.style("margin","auto")};r.windowResized=()=>{setTimeout(()=>{y()},50)},r.mouseClicked=v=>{v.target.id==i&&("DesktopPWA"==m.n$||"MobilePWA"==m.n$?window.open(this.FileURL):(c.remove(),h.hidden=!1))}});break;case"audio":this.p5canvas=new ye(r=>{var i;r.setup=()=>{let h=r.createCanvas(s.clientWidth,s.clientHeight);h.style("margin","0"),h.style("position","relative"),h.style("pointer-events","none"),r.noLoop(),i=r.createAudio([this.FileURL],()=>{s.appendChild(i.elt),h.parent(s),i.elt.hidden=!0,setTimeout(()=>{c(),i.elt.hidden=!1},50),i.showControls(),i.play()})};let c=()=>{if("audio"!=this.FileInfo.viewer)return;let h=this.ContentBox.offsetWidth;i.elt.setAttribute("style","position: relative; top: 50%; left: 50%; transform: translateX(-50%) translateY(-50%);"),i.size(h,25)};r.windowResized=()=>{setTimeout(()=>{c()},50)}});break;case"video":this.p5canvas=new ye(r=>{var i;r.setup=()=>{let h=r.createCanvas(s.clientWidth,s.clientHeight);h.style("margin","0"),h.style("position","relative"),h.style("pointer-events","none"),r.noLoop(),i=r.createVideo([this.FileURL],()=>{s.appendChild(i.elt),h.parent(s),i.elt.hidden=!0,setTimeout(()=>{c(),i.elt.hidden=!1},50),i.showControls(),i.play()})};let c=()=>{if("video"!=this.FileInfo.viewer)return;let h=this.ContentBox.offsetWidth,y=this.ContentBox.offsetHeight-this.FileHeader.offsetHeight,v=i.width,x=i.height;i.elt.setAttribute("style","position: relative; top: 50%; left: 50%; transform: translateX(-50%) translateY(-50%);"),v>x?(v=h,x=x/i.width*v):(x=y,v=v/i.height*x),i.size(v,x)};r.windowResized=()=>{setTimeout(()=>{c()},50)}});break;default:this.p5canvas=new ye(r=>{r.setup=()=>{let i=r.createCanvas(s.clientWidth,s.clientHeight);i.style("margin","0"),i.style("position","relative"),i.style("pointer-events","none"),r.noLoop(),r.loadStrings(this.FileURL,c=>{let h=document.createElement("textarea");h.disabled=!0,h.className="infobox",h.setAttribute("style","height: 100%; display: block;"),h.textContent=c.join("\n"),s.appendChild(h)},c=>{console.error("\uc5f4\ub78c\ud560 \uc218 \uc5c6\ub294 \ud30c\uc77c: ",c),s.textContent="\uc5f4\ub78c\ud560 \uc218 \uc5c6\ub294 \ud30c\uc77c\uc785\ub2c8\ub2e4.",this.FileInfo.else=!0})}})}}modify_image(){this.modalCtrl.dismiss(this.image_info)}download_file(){this.indexed.DownloadFileFromUserPath(this.navParams.get("path"),this.FileInfo.type,this.FileInfo.filename)}ionViewWillLeave(){this.p5canvas&&this.p5canvas.remove(),this.FileURL&&URL.revokeObjectURL(this.FileURL)}}return u.\u0275fac=function(s){return new(s||u)(xe.Y36(e.IN),xe.Y36(e.X1),xe.Y36(U.H),xe.Y36(E.b))},u.\u0275cmp=xe.Xpm({type:u,selectors:[["app-ionic-viewer"]],decls:18,vars:4,consts:[["id","Toolbar"],["slot","start",3,"click"],["defaultHref",""],["id","ContentBox"],[1,"main_table_elt"],[2,"height","0"],["id","FileHeader"],[3,"click",4,"ngIf"],["id","p5canvas",1,"full_screen",2,"overflow-y","scroll"],[3,"click"]],template:function(s,r){1&s&&(xe.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),xe._uU(3),xe.qZA(),xe.TgZ(4,"ion-buttons",1),xe.NdJ("click",function(){return r.modalCtrl.dismiss()}),xe._UZ(5,"ion-back-button",2),xe.qZA()()(),xe.TgZ(6,"ion-content",3)(7,"table",4)(8,"tr",5)(9,"td")(10,"ion-list-header",6)(11,"ion-label"),xe._uU(12),xe.qZA(),xe.YNc(13,o,2,1,"ion-button",7),xe.YNc(14,a,2,1,"ion-button",7),xe.qZA()()(),xe.TgZ(15,"tr")(16,"td"),xe._UZ(17,"div",8),xe.qZA()()()()),2&s&&(xe.xp6(3),xe.Oqu(r.lang.text.ContentViewer.Title),xe.xp6(9),xe.Oqu(r.FileInfo.filename),xe.xp6(1),xe.Q6J("ngIf","image"==r.FileInfo.viewer&&!r.HasNoEditButton),xe.xp6(1),xe.Q6J("ngIf",r.cant_dedicated&&r.FileInfo.else))},directives:[e.Gu,e.sr,e.wd,e.Sm,e.oU,e.cs,e.W2,e.yh,e.Q$,f.O5,e.YG],styles:[".main_table_elt[_ngcontent-%COMP%]{width:100%;height:100%;border:0;margin:0}"]}),u})()},9805:(hn,Mt,se)=>{"use strict";se.d(Mt,{$:()=>U});var m=se(655),ye=se(9863),Xe=se(5742),xe=se(3996),e=se(1282);let U=(()=>{class E{constructor(o,a,d,u,p,s){this.lang=o,this.modalCtrl=a,this.alertCtrl=d,this.loadingCtrl=u,this.global=p,this.navParams=s,this.EventListenerAct=r=>{r.detail.register(130,i=>{})}}ngOnInit(){}ionViewDidEnter(){return(0,m.mG)(this,void 0,void 0,function*(){document.addEventListener("ionBackButton",this.EventListenerAct),this.mainLoading=yield this.loadingCtrl.create({message:this.lang.text.voidDraw.UseThisImage}),this.global.CreateGodotIFrame("p5_void_draw",{local_url:"assets/data/godot/voidDraw.pck",title:"voidDraw",image:Boolean(this.navParams.data.path),receive_image:o=>{let a="data:image/png;base64,"+o.replace(/"|=|\\/g,""),d=new Date,u=d.getUTCFullYear(),p=("0"+(d.getMonth()+1)).slice(-2),s=("0"+d.getDate()).slice(-2),r=("0"+d.getHours()).slice(-2),i=("0"+d.getMinutes()).slice(-2),c=("0"+d.getSeconds()).slice(-2);this.modalCtrl.dismiss({name:`voidDraw_${u}-${p}-${s}_${r}-${i}-${c}.png`,img:a,loadingCtrl:this.mainLoading})}}),this.navParams.data.path&&this.create_with_image()})}create_with_image(){this.global.godot_window.new_canvas?this.global.godot_window.new_canvas(JSON.stringify({width:this.navParams.data.width,height:this.navParams.data.height,path:"/userfs/"+this.navParams.data.path})):setTimeout(()=>{this.create_with_image()},1e3)}new_image(){this.alertCtrl.create({header:this.lang.text.voidDraw.newDraw,inputs:[{name:"width",type:"number",placeholder:`${this.lang.text.voidDraw.width} (${this.lang.text.voidDraw.default_size}: 432)`},{name:"height",type:"number",placeholder:`${this.lang.text.voidDraw.height} (${this.lang.text.voidDraw.default_size}: 432)`}],buttons:[{text:this.lang.text.voidDraw.CreateNew,handler:a=>{a.width||(a.width=432),a.height||(a.height=432),this.global.godot_window.new_canvas(JSON.stringify(a))}}]}).then(a=>a.present())}change_line_weight(){this.alertCtrl.create({header:this.lang.text.voidDraw.changeWeight,inputs:[{name:"weight",type:"number",placeholder:`${this.lang.text.voidDraw.weight} (${this.lang.text.voidDraw.default_size}: 1)`}],buttons:[{text:this.lang.text.voidDraw.apply,handler:o=>{this.global.godot_window.set_line_weight(o.weight||1)}}]}).then(o=>o.present())}act_history(o){switch(o){case-1:this.global.godot_window.undo_draw();break;case 1:this.global.godot_window.redo_draw();break;default:console.error("\uc788\uc744 \uc218 \uc5c6\ub294 \ub3d9\uc791 \uc694\uccad: ",o)}}dismiss_draw(){this.mainLoading.present(),setTimeout(()=>{this.global.godot_window.save_image()},100)}ionViewDidLeave(){document.removeEventListener("ionBackButton",this.EventListenerAct)}}return E.\u0275fac=function(o){return new(o||E)(ye.Y36(Xe.b),ye.Y36(xe.IN),ye.Y36(xe.Br),ye.Y36(xe.HT),ye.Y36(e.A),ye.Y36(xe.X1))},E.\u0275cmp=ye.Xpm({type:E,selectors:[["app-void-draw"]],decls:37,vars:9,consts:[["slot","start",3,"click"],["defaultHref",""],["id","interface_table"],[2,"width","100%","height","100%","background-color","var(--voidDraw-menu-background)"],[2,"height","56px"],[1,"button_font",3,"click"],["src","","alt","",1,"menu_icon"],[1,"button_font",3,"disabled","click"],["disabled","",1,"button_font"],["colspan","6"],["id","p5_void_draw",1,"full_screen",2,"display","flex","background-color","grey","overflow","hidden"]],template:function(o,a){1&o&&(ye.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),ye._uU(3),ye.qZA(),ye.TgZ(4,"ion-buttons",0),ye.NdJ("click",function(){return a.modalCtrl.dismiss()}),ye._UZ(5,"ion-back-button",1),ye.qZA()()(),ye.TgZ(6,"ion-content")(7,"div",2)(8,"table",3)(9,"tr",4)(10,"td")(11,"button",5),ye.NdJ("click",function(){return a.new_image()}),ye._UZ(12,"img",6),ye._uU(13),ye.qZA()(),ye.TgZ(14,"td")(15,"button",7),ye.NdJ("click",function(){return a.act_history(-1)}),ye._UZ(16,"img",6),ye._uU(17),ye.qZA()(),ye.TgZ(18,"td")(19,"button",7),ye.NdJ("click",function(){return a.act_history(1)}),ye._UZ(20,"img",6),ye._uU(21),ye.qZA()(),ye.TgZ(22,"td")(23,"button",8),ye._UZ(24,"img",6),ye._uU(25),ye.qZA()(),ye.TgZ(26,"td")(27,"button",5),ye.NdJ("click",function(){return a.change_line_weight()}),ye._UZ(28,"img",6),ye._uU(29),ye.qZA()(),ye.TgZ(30,"td")(31,"button",5),ye.NdJ("click",function(){return a.dismiss_draw()}),ye._UZ(32,"img",6),ye._uU(33),ye.qZA()()(),ye.TgZ(34,"tr")(35,"td",9),ye._UZ(36,"div",10),ye.qZA()()()()()),2&o&&(ye.xp6(3),ye.Oqu(a.lang.text.ChatRoom.voidDraw),ye.xp6(10),ye.hij(" ",a.lang.text.voidDraw.newDraw," "),ye.xp6(2),ye.Q6J("disabled",!a.global.godot_window||!a.global.godot_window.current_act||0==a.global.godot_window.current_act),ye.xp6(2),ye.hij(" ",a.lang.text.voidDraw.Undo," "),ye.xp6(2),ye.Q6J("disabled",!a.global.godot_window||a.global.godot_window.current_act==a.global.godot_window.draw_length),ye.xp6(2),ye.hij(" ",a.lang.text.voidDraw.Redo," "),ye.xp6(4),ye.hij(" ",a.lang.text.voidDraw.strokeColor," "),ye.xp6(4),ye.hij(" ",a.lang.text.voidDraw.strokeWeight," "),ye.xp6(4),ye.hij(" ",a.lang.text.voidDraw.useDraw," "))},directives:[xe.Gu,xe.sr,xe.wd,xe.Sm,xe.oU,xe.cs,xe.W2],styles:["#interface_table[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;width:100%;height:100%}.menu_icon[_ngcontent-%COMP%]{max-width:36px;max-height:36px}.button_font[_ngcontent-%COMP%]{font-size:16px;width:100%;height:56px}"]}),E})()},6069:(hn,Mt,se)=>{"use strict";se.d(Mt,{R:()=>d});var m=se(9863),ye=se(3996),Xe=se(5742),xe=se(9912),e=se(4182),U=se(9808);function E(u,p){if(1&u&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&u){const s=m.oxw().$implicit;m.xp6(1),m.hij(" ",s.text," ")}}function f(u,p){if(1&u&&(m.TgZ(0,"a",7),m._uU(1),m.qZA()),2&u){const s=m.oxw().$implicit;m.Q6J("href",s.text,m.LSH),m.xp6(1),m.Oqu(s.text)}}function o(u,p){if(1&u&&(m.TgZ(0,"span"),m.YNc(1,E,2,1,"span",5),m.YNc(2,f,2,2,"a",6),m.qZA()),2&u){const s=p.$implicit;m.xp6(1),m.Q6J("ngIf",!s.href),m.xp6(1),m.Q6J("ngIf",s.href)}}function a(u,p){if(1&u&&(m.TgZ(0,"div"),m.YNc(1,o,3,2,"span",4),m.qZA()),2&u){const s=p.$implicit;m.xp6(1),m.Q6J("ngForOf",s)}}let d=(()=>{class u{constructor(s,r,i,c){this.navParams=s,this.modalCtrl=r,this.lang=i,this.nakama=c,this.info="QR\ucf54\ub4dc \ub610\ub294 \ubc14\ucf54\ub4dc\ub97c \uc778\uc2dd\ud558\uc600\uc73c\ub098 \uc774 \uc571\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \uad6c\uc131\uc774 \uc544\ub2d9\ub2c8\ub2e4.",this.result={}}ngOnInit(){this.result=this.navParams.get("result"),this.result.text=this.result.text.split("\n");for(let s=0,r=this.result.text.length;s<r;s++){this.result.text[s]=this.result.text[s].split(" ");for(let i=0,c=this.result.text[s].length;i<c;i++){let h={};h.href=0==this.result.text[s][i].indexOf("http://")||0==this.result.text[s][i].indexOf("https://"),h.text=this.result.text[s][i],this.result.text[s][i]=h}}this.nakama.removeBanner()}}return u.\u0275fac=function(s){return new(s||u)(m.Y36(ye.X1),m.Y36(ye.IN),m.Y36(Xe.b),m.Y36(xe.a))},u.\u0275cmp=m.Xpm({type:u,selectors:[["app-qrelse"]],decls:23,vars:6,consts:[["slot","start",3,"click"],["defaultHref","subscribes"],["disabled","",1,"infobox",3,"ngModel","ngModelChange"],[1,"infobox","content_form"],[4,"ngFor","ngForOf"],[4,"ngIf"],["target","_system",3,"href",4,"ngIf"],["target","_system",3,"href"]],template:function(s,r){1&s&&(m.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),m._uU(3,"\ub0b4\uc6a9 \uc77d\uae30"),m.qZA(),m.TgZ(4,"ion-buttons",0),m.NdJ("click",function(){return r.modalCtrl.dismiss()}),m._UZ(5,"ion-back-button",1),m.qZA()()(),m.TgZ(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),m._uU(9),m.qZA()(),m.TgZ(10,"textarea",2),m.NdJ("ngModelChange",function(c){return r.lang.text.QRElse.info=c}),m.qZA(),m._UZ(11,"ion-item-divider"),m.TgZ(12,"ion-item")(13,"ion-label")(14,"p"),m._uU(15),m.qZA(),m.TgZ(16,"h2"),m._uU(17),m.qZA()()(),m.TgZ(18,"ion-item-divider")(19,"ion-label"),m._uU(20),m.qZA()(),m.TgZ(21,"div",3),m.YNc(22,a,2,1,"div",4),m.qZA()()),2&s&&(m.xp6(9),m.Oqu(r.lang.text.QRElse.Title),m.xp6(1),m.Q6J("ngModel",r.lang.text.QRElse.info),m.xp6(5),m.Oqu(r.lang.text.QRElse.format),m.xp6(2),m.Oqu(r.result.format),m.xp6(3),m.Oqu(r.lang.text.QRElse.contents),m.xp6(2),m.Q6J("ngForOf",r.result.text))},directives:[ye.Gu,ye.sr,ye.wd,ye.Sm,ye.oU,ye.cs,ye.W2,ye.rH,ye.Q$,e.Fj,e.JJ,e.On,ye.Ie,U.sg,U.O5],styles:[".content_form[_ngcontent-%COMP%]{background-color:var(--ion-color-light);overflow-y:auto}"]}),u})()},4606:(hn,Mt,se)=>{"use strict";se.d(Mt,{g:()=>ye});var m=se(9863);let ye=(()=>{class Xe{constructor(){this.colors={offline:"#888",missing:"#880000",pending:"#dddd0c",online:"#4ff14f",certified:"#00ffff"},this.chatroom={},this.project={},this.task={},this.settings={groupServer:"offline",communityServer:"offline",dedicatedServer:"offline",community_ranchat:"offline",dedicated_groupchat:"offline"},this.tools={},this.groupServer={official:{default:"offline"},unofficial:{}},this.dedicated={official:{groupchat:"offline"},unofficial:{}},setInterval(()=>{},350)}}return Xe.\u0275fac=function(e){return new(e||Xe)},Xe.\u0275prov=m.Yz7({token:Xe,factory:Xe.\u0275fac,providedIn:"root"}),Xe})()},9016:(hn,Mt,se)=>{"use strict";se.d(Mt,{N:()=>xe});var m=se(5016),ye=se(9863),Xe=se(4606);let xe=(()=>{class e{constructor(E){this.statusBar=E,this.list={},this.addresses=[]}initialize(E,f,o,a){if("DesktopPWA"!=m.n$&&"MobilePWA"!=m.n$){if(null!=this.list[E])return void console.warn("\ub3d9\uc77c\ud55c \uc11c\ubc84 \uad6c\uc131\uc774 \uc774\ubbf8 \uc874\uc7ac\ud568: ",this.list);this.statusBar.tools[E]="pending",this.list[E]={},this.list[E].OnConnected={},this.list[E].OnDisconnected={},this.list[E].server||(this.list[E].server=cordova.plugins.wsserver),this.check_addresses(E),this.list[E].server.start(f,{onFailure:(d,u,p)=>{this.onServerClose(E)},onOpen:d=>{if(this.list[E].users?(console.log("1:1 \ub9e4\uce6d\uc774 \uc644\ub8cc\ub428"),this.list[E].server.close({uuid:d.uuid},4001,"\ud5c8\uc6a9\ub418\uc9c0 \uc54a\uc740 \uc0ac\uc6a9\uc790")):(this.list[E].users=d.uuid,this.statusBar.tools[E]="certified"),this.list[E].OnConnected){let u=Object.keys(this.list[E].OnConnected);for(let p=0,s=u.length;p<s;p++)this.list[E].OnConnected[u[p]]()}},onMessage:(d,u)=>{try{let p=JSON.parse(u);a(p)}catch(p){console.error(`Tool-server_json \ubcc0\ud658 \uc624\ub958_${u}: ${p}`)}},onClose:(d,u,p,s)=>{if(this.statusBar.tools[E]="online",delete this.list[E].users,this.list[E].OnDisconnected){let r=Object.keys(this.list[E].OnDisconnected);for(let i=0,c=r.length;i<c;i++)this.list[E].OnDisconnected[r[i]]()}},origins:[],protocols:[],tcpNoDelay:!0},(d,u)=>{this.statusBar.tools[E]="online",o&&o()},d=>{this.onServerClose(E)})}else this.stop(E)}stop(E){"DesktopPWA"!=m.n$&&"MobilePWA"!=m.n$&&this.list[E].server.stop((f,o)=>{this.onServerClose(E),delete this.list[E]})}onServerClose(E){delete this.list[E].users,this.statusBar.tools[E]="missing",setTimeout(()=>{this.statusBar.tools[E]="offline"},1e3)}check_addresses(E){"DesktopPWA"!=m.n$&&"MobilePWA"!=m.n$&&(this.list[E].server||(this.list[E].server=cordova.plugins.wsserver),this.list[E].server.getInterfaces(f=>{this.addresses.length=0;let o=Object.keys(f);for(let a=0,d=o.length;a<d;a++)this.addresses=[...this.addresses,...f[o[a]].ipv4Addresses]}))}send_to(E,f){if(!this.list[E].users)return;let o=Object.keys(this.list[E].users)[0];this.list[E].server.send({uuid:o},f)}}return e.\u0275fac=function(E){return new(E||e)(ye.LFG(Xe.g))},e.\u0275prov=ye.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},7898:(hn,Mt,se)=>{"use strict";se.d(Mt,{P:()=>ee});var m=se(655),ye=se(5016),Xe=se(5087),xe=se(774),e=se(9863),U=se(3996),E=se(3496),f=se(5742),o=se(1282),a=se(3336),d=se(2313),u=se(9808);const p=["FileSel"];function s($,H){if(1&$){const Z=e.EpF();e.TgZ(0,"ion-item",5),e.NdJ("click",function(){return e.CHM(Z),e.oxw().MoveToUpDir()}),e._UZ(1,"ion-icon",6),e.TgZ(2,"ion-label"),e._uU(3,".."),e.qZA()()}}function r($,H){if(1&$){const Z=e.EpF();e.TgZ(0,"ion-item",5),e.NdJ("click",function(){e.CHM(Z);const Q=e.oxw().$implicit;return e.oxw().SelectFolder(Q)}),e._UZ(1,"ion-icon",6),e.TgZ(2,"ion-label"),e._uU(3),e.qZA()()}if(2&$){const Z=e.oxw().$implicit;e.xp6(3),e.Oqu(Z.name)}}function i($,H){if(1&$&&(e.TgZ(0,"div"),e.YNc(1,r,4,1,"ion-item",2),e.qZA()),2&$){const Z=H.$implicit,oe=e.oxw();e.xp6(1),e.Q6J("ngIf",oe.CurrentDir==Z.dir)}}function c($,H){1&$&&e._UZ(0,"ion-icon",22)}function h($,H){1&$&&e._UZ(0,"ion-icon",23)}function y($,H){1&$&&e._UZ(0,"ion-icon",24)}function v($,H){1&$&&e._UZ(0,"ion-icon",25)}function x($,H){1&$&&e._UZ(0,"ion-icon",26)}function w($,H){1&$&&e._UZ(0,"ion-icon",27)}function C($,H){if(1&$){const Z=e.EpF();e.TgZ(0,"ion-button",28),e.NdJ("click",function(){e.CHM(Z);const Q=e.oxw(2).$implicit;return e.oxw().OpenFile(Q)}),e._uU(1),e.qZA()}if(2&$){const Z=e.oxw(3);e.xp6(1),e.hij(" ",Z.lang.text.UserFsDir.Open," ")}}function N($,H){if(1&$){const Z=e.EpF();e.TgZ(0,"ion-button",28),e.NdJ("click",function(){e.CHM(Z);const Q=e.oxw(2).$implicit;return e.oxw().UseFile(Q)}),e._uU(1),e.qZA()}if(2&$){const Z=e.oxw(3);e.xp6(1),e.hij(" ",Z.lang.text.UserFsDir.Use," ")}}function M($,H){if(1&$){const Z=e.EpF();e.TgZ(0,"ion-button",28),e.NdJ("click",function(){e.CHM(Z);const Q=e.oxw(2).$implicit;return e.oxw().DownloadFile(Q)}),e._uU(1),e.qZA()}if(2&$){const Z=e.oxw(3);e.xp6(1),e.hij(" ",Z.lang.text.UserFsDir.Download," ")}}function F($,H){if(1&$){const Z=e.EpF();e.TgZ(0,"ion-button",29),e.NdJ("click",function(){e.CHM(Z);const Q=e.oxw(2),te=Q.$implicit,me=Q.index;return e.oxw().RemoveFile(te,me)}),e._uU(1),e.qZA()}if(2&$){const Z=e.oxw(3);e.xp6(1),e.hij(" ",Z.lang.text.UserFsDir.Delete," ")}}function j($,H){if(1&$){const Z=e.EpF();e.TgZ(0,"div",30),e.NdJ("click",function(){e.CHM(Z);const Q=e.oxw(2).$implicit;return e.oxw().OpenFile(Q)}),e._UZ(1,"img",31),e.qZA()}if(2&$){const Z=e.oxw(2).$implicit;e.xp6(1),e.Q6J("src",Z.thumbnail,e.LSH)("alt",Z.name)}}function B($,H){if(1&$&&(e.TgZ(0,"ion-accordion",8)(1,"ion-item",9),e.YNc(2,c,1,0,"ion-icon",10),e.YNc(3,h,1,0,"ion-icon",11),e.YNc(4,y,1,0,"ion-icon",12),e.YNc(5,v,1,0,"ion-icon",13),e.YNc(6,x,1,0,"ion-icon",14),e.YNc(7,w,1,0,"ion-icon",15),e.TgZ(8,"ion-label"),e._uU(9),e.qZA()(),e.TgZ(10,"ion-list",16)(11,"ion-item",17)(12,"ion-label"),e._uU(13),e.qZA(),e.YNc(14,C,2,1,"ion-button",18),e.YNc(15,N,2,1,"ion-button",18),e.YNc(16,M,2,1,"ion-button",18),e.YNc(17,F,2,1,"ion-button",19),e.qZA(),e.YNc(18,j,2,2,"div",20),e.TgZ(19,"ion-item",17)(20,"ion-label"),e._uU(21),e.qZA(),e.TgZ(22,"ion-label",21),e._uU(23),e.qZA()()()()),2&$){const Z=e.oxw().$implicit,oe=e.oxw();e.Q6J("value",Z.path),e.xp6(2),e.Q6J("ngIf","image"==Z.viewer),e.xp6(1),e.Q6J("ngIf","audio"==Z.viewer),e.xp6(1),e.Q6J("ngIf","video"==Z.viewer),e.xp6(1),e.Q6J("ngIf","text"==Z.viewer),e.xp6(1),e.Q6J("ngIf","godot"==Z.viewer),e.xp6(1),e.Q6J("ngIf","disabled"==Z.viewer),e.xp6(2),e.Oqu(Z.name),e.xp6(4),e.Oqu(oe.lang.text.UserFsDir.Action),e.xp6(1),e.Q6J("ngIf","disabled"!=Z.viewer&&"image"!=Z.viewer),e.xp6(1),e.Q6J("ngIf",oe.WillReturn),e.xp6(1),e.Q6J("ngIf",!oe.WillReturn&&oe.cant_dedicated),e.xp6(1),e.Q6J("ngIf",!oe.WillReturn),e.xp6(1),e.Q6J("ngIf","image"==Z.viewer),e.xp6(3),e.Oqu(oe.lang.text.UserFsDir.CreateAt),e.xp6(2),e.Oqu(Z.timestamp)}}function G($,H){if(1&$&&(e.TgZ(0,"div"),e.YNc(1,B,24,16,"ion-accordion",7),e.qZA()),2&$){const Z=H.$implicit,oe=e.oxw();e.xp6(1),e.Q6J("ngIf",oe.CurrentDir==Z.dir)}}let ee=(()=>{class ${constructor(Z,oe,Q,te,me,ce,he,Ae,A){this.modalCtrl=Z,this.indexed=oe,this.loadingCtrl=Q,this.lang=te,this.navParams=me,this.global=ce,this.p5toast=he,this.alertCtrl=Ae,this.sanitizer=A,this.DirList=[],this.FileList=[],this.cant_dedicated=!1,this.EventListenerAct=q=>{q.detail.register(110,K=>{""==this.CurrentDir?K():this.MoveToUpDir()})}}ngOnInit(){}ionViewWillEnter(){let Z=this.navParams.get("path");this.CurrentDir=Z||"",this.LoadAllIndexedFiles(),this.WillReturn=this.navParams.get("return")||!1,("DesktopPWA"==ye.n$||"MobilePWA"==ye.n$)&&(this.cant_dedicated=!0),document.addEventListener("ionBackButton",this.EventListenerAct)}LoadAllIndexedFiles(){return(0,m.mG)(this,void 0,void 0,function*(){let Z=yield this.loadingCtrl.create({message:this.lang.text.UserFsDir.LoadingExplorer});Z.present(),this.DirList.length=0,this.FileList.length=0,yield this.indexed.GetFileListFromDB("/",oe=>(0,m.mG)(this,void 0,void 0,function*(){for(let Q=0,te=oe.length;Q<te;Q++)yield this.indexed.GetFileInfoFromDB(oe[Q],me=>{let ce={path:oe[Q],mode:me.mode,timestamp:new Date(me.timestamp).toLocaleString()};switch(ce.name=ce.path.substring(ce.path.lastIndexOf("/")+1),ce.dir=oe[Q].substring(0,oe[Q].lastIndexOf("/")),ce.mode){case 33206:ce.file_ext=ce.name.split(".")[1],this.global.set_viewer_category_from_ext(ce),"image"==ce.viewer&&this.indexed.loadBlobFromUserPath(ce.path,"",he=>{let Ae=URL.createObjectURL(he);ce.thumbnail=this.sanitizer.bypassSecurityTrustUrl(Ae)}),this.FileList.push(ce);break;case 16893:this.DirList.push(ce);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ud30c\uc77c \ubaa8\ub4dc: ",ce)}});this.FileList.sort((Q,te)=>Q.path<te.path?1:Q.path>te.path?-1:0),this.DirList.sort((Q,te)=>Q.path<te.path?1:Q.path>te.path?-1:0),Z.dismiss()}))})}MoveToUpDir(){this.CurrentDir=this.CurrentDir.substring(0,this.CurrentDir.lastIndexOf("/")),this.FileSel.value=void 0}SelectFolder(Z){this.CurrentDir=Z.path,this.FileSel.value=void 0}UseFile(Z){this.modalCtrl.dismiss({info:Z})}OpenFile(Z){switch(Z.viewer){case"godot":document.removeEventListener("ionBackButton",this.EventListenerAct),this.modalCtrl.create({component:Xe.r,componentProps:{info:{filename:Z.name,file_ext:Z.file_ext,type:"",viewer:Z.viewer},path:Z.path}}).then(oe=>{oe.onDidDismiss().then(Q=>document.addEventListener("ionBackButton",this.EventListenerAct)),oe.present()});break;case"disabled":this.p5toast.show({text:this.lang.text.UserFsDir.CannotOpenFile});break;default:document.removeEventListener("ionBackButton",this.EventListenerAct),this.modalCtrl.create({component:xe.B,componentProps:{info:{filename:Z.name,file_ext:Z.file_ext,type:"",viewer:Z.viewer},no_edit:!0,path:Z.path}}).then(oe=>{oe.onDidDismiss().then(Q=>document.addEventListener("ionBackButton",this.EventListenerAct)),oe.present()})}}DownloadFile(Z){this.indexed.DownloadFileFromUserPath(Z.path,"",Z.name)}RemoveFile(Z,oe){this.alertCtrl.create({header:this.lang.text.UserFsDir.DeleteFile,message:this.lang.text.UserFsDir.CannotBeUndo,buttons:[{text:this.lang.text.UserFsDir.DeleteAccept,handler:()=>{this.indexed.removeFileFromUserPath(Z.path,()=>{this.FileList.splice(oe,1)})}}]}).then(Q=>Q.present())}ionViewDidLeave(){this.FileList.forEach(Z=>{Z.thumbnail&&URL.revokeObjectURL(Z.thumbnail)})}ionViewWillLeave(){document.removeEventListener("ionBackButton",this.EventListenerAct)}}return $.\u0275fac=function(Z){return new(Z||$)(e.Y36(U.IN),e.Y36(E.H),e.Y36(U.HT),e.Y36(f.b),e.Y36(U.X1),e.Y36(o.A),e.Y36(a.F),e.Y36(U.Br),e.Y36(d.H7))},$.\u0275cmp=e.Xpm({type:$,selectors:[["app-user-fs-dir"]],viewQuery:function(Z,oe){if(1&Z&&e.Gf(p,5),2&Z){let Q;e.iGM(Q=e.CRH())&&(oe.FileSel=Q.first)}},decls:13,vars:4,consts:[["slot","start",3,"click"],["defaultHref",""],["button","",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["FileSel",""],["button","",3,"click"],["slot","start","name","folder"],[3,"value",4,"ngIf"],[3,"value"],["slot","header"],["slot","start","name","image",4,"ngIf"],["slot","start","name","musical-notes",4,"ngIf"],["slot","start","name","play-circle",4,"ngIf"],["slot","start","name","reader",4,"ngIf"],["slot","start","name","extension-puzzle",4,"ngIf"],["slot","start","name","document",4,"ngIf"],["slot","content"],["button",""],["class","ion-text-right",3,"click",4,"ngIf"],["class","ion-text-end",3,"click",4,"ngIf"],["class","image_front_form",3,"click",4,"ngIf"],[1,"ion-text-end"],["slot","start","name","image"],["slot","start","name","musical-notes"],["slot","start","name","play-circle"],["slot","start","name","reader"],["slot","start","name","extension-puzzle"],["slot","start","name","document"],[1,"ion-text-right",3,"click"],[1,"ion-text-end",3,"click"],[1,"image_front_form",3,"click"],[1,"image_front_view",3,"src","alt"]],template:function(Z,oe){1&Z&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3),e.qZA(),e.TgZ(4,"ion-buttons",0),e.NdJ("click",function(){return oe.modalCtrl.dismiss()}),e._UZ(5,"ion-back-button",1),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-list"),e.YNc(8,s,4,0,"ion-item",2),e.YNc(9,i,2,1,"div",3),e.TgZ(10,"ion-accordion-group",null,4),e.YNc(12,G,2,1,"div",3),e.qZA()()()),2&Z&&(e.xp6(3),e.Oqu(oe.lang.text.Settings.InAppExplorer),e.xp6(5),e.Q6J("ngIf",""!=oe.CurrentDir),e.xp6(1),e.Q6J("ngForOf",oe.DirList),e.xp6(3),e.Q6J("ngForOf",oe.FileList))},directives:[U.Gu,U.sr,U.wd,U.Sm,U.oU,U.cs,U.W2,U.q_,u.O5,U.Ie,U.gu,U.Q$,u.sg,U.eh,U.We,U.YG],styles:[".item.sc-ion-label-md-h[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   .sc-ion-label-md-h[_ngcontent-%COMP%]{overflow:unset}.image_front_form[_ngcontent-%COMP%]{text-align:center}.image_front_view[_ngcontent-%COMP%]{max-height:233px}"]}),$})()},8947:(hn,Mt,se)=>{"use strict";se.d(Mt,{W:()=>xe});var m=se(5016),ye=se(9863),Xe=se(2855);let xe=(()=>{class e{constructor(E){this.wsc=E}initialize(E){this.client=new WebSocket(`${this.wsc.socket_header}://${this.wsc.address_override||m.GA}:12020`),this.client.onopen=o=>{this.client.send(JSON.stringify(E))},setTimeout(()=>{this.client.close()},5e3)}}return e.\u0275fac=function(E){return new(E||e)(ye.LFG(Xe.Z))},e.\u0275prov=ye.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},2855:(hn,Mt,se)=>{"use strict";se.d(Mt,{Z:()=>E});var m=se(5016),ye=se(9863),Xe=se(4606),xe=se(3336),e=se(9040),U=se(5742);let E=(()=>{class f{constructor(a,d,u,p){this.statusBar=a,this.p5toast=d,this.bgmode=u,this.lang=p,this.is_admin=!1,this.received={},this.disconnected={},this.socket_header="wss",this.address_override="",this.pid=0}initialize(){this.address_override=localStorage.getItem("wsc_address_override")||"",this.socket_header=localStorage.getItem("wsc_socket_header")||"wss",this.statusBar.settings.communityServer="pending",this.lang.Callback_WscClient=()=>this.set_bgmode_text(),this.received.req_pid=d=>{this.pid=d.pid,delete this.received.req_pid},this.client=new WebSocket(`${this.socket_header}://${this.address_override||m.GA}:12000`),this.client.onopen=d=>{this.statusBar.settings.communityServer="online",this.send(JSON.stringify({act:"req_pid"})),this.set_bgmode_text()},this.client.onclose=d=>{this.pid=0,Object.keys(this.disconnected).forEach(p=>this.disconnected[p]()),this.statusBar.settings.communityServer="missing",setTimeout(()=>{"missing"==this.statusBar.settings.communityServer&&(this.statusBar.settings.communityServer="offline")},1500),this.p5toast.show({text:this.lang.text.WscClient.Disconnected,lateable:!0}),this.set_bgmode_text(),this.is_admin=!1},this.client.onerror=d=>{console.error("\uba54\uc778\uc18c\ucf13 \uc624\ub958 \ubc1c\uc0dd: ",d)},this.client.onmessage=d=>{d.data.text().then(u=>{let p=JSON.parse(u);this.received[p.act](p)})}}set_bgmode_text(){let d;d=this.client&&this.client.readyState==this.client.OPEN?{title:this.lang.text.WscClient.OnlineMode,text:this.lang.text.WscClient.OnlineMode_text,icon:"icon_mono",color:"ffd94e"}:{title:this.lang.text.WscClient.OfflineMode,text:this.lang.text.WscClient.OfflineMode_text,icon:"icon_mono",color:"ffd94e"},this.bgmode.setDefaults(d),this.bgmode.configure(d)}send(a){this.client&&this.client.readyState==this.client.OPEN?this.client.send(a):console.log("\uba54\uc2dc\uc9c0 \ubc1c\uc1a1 \uc2e4\ud328: ",a)}}return f.\u0275fac=function(a){return new(a||f)(ye.LFG(Xe.g),ye.LFG(xe.F),ye.LFG(e.z),ye.LFG(U.b))},f.\u0275prov=ye.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},6511:(hn,Mt,se)=>{"use strict";var m=se(2313),ye=se(9863),Xe=se(9705),xe=se(3996),e=se(5016);const U=[{path:"",loadChildren:()=>se.e(6275).then(se.bind(se,6275)).then(It=>It.PortalPageModule)},{path:"minimal-chat",loadChildren:()=>se.e(5436).then(se.bind(se,5436)).then(It=>It.MinimalChatPageModule)},{path:"others-profile",loadChildren:()=>se.e(1073).then(se.bind(se,1073)).then(It=>It.OthersProfilePageModule)},{path:"user-fs-dir",loadChildren:()=>se.e(8450).then(se.bind(se,8450)).then(It=>It.UserFsDirPageModule)}];let E=(()=>{class It{}return It.\u0275fac=function(at){return new(at||It)},It.\u0275mod=ye.oAB({type:It}),It.\u0275inj=ye.cJS({imports:[[Xe.Bz.forRoot(U,{preloadingStrategy:Xe.wm})],Xe.Bz]}),It})();var f=se(2463),o=se(9040),a=se(3460),d=se(9645),u=se(9808),p=se(8514),s=se(1737),r=se(3753),i=se(1086),c=se(1221),h=se(5529),y=se(2916),v=se(7876);const x=new y.y(v.Z);var C=se(6787),N=se(4850),M=se(2198),F=se(7545),j=se(2536),G=se(2986),ee=se(2994),$=se(2654);class H extends $.w{constructor(Je,at){super()}schedule(Je,at=0){return this}}let oe=(()=>{class It{constructor(at,je=It.now){this.SchedulerAction=at,this.now=je}schedule(at,je=0,We){return new this.SchedulerAction(this,at).schedule(We,je)}}return It.now=()=>Date.now(),It})();class Q extends oe{constructor(Je,at=oe.now){super(Je,()=>Q.delegate&&Q.delegate!==this?Q.delegate.now():at()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Je,at=0,je){return Q.delegate&&Q.delegate!==this?Q.delegate.schedule(Je,at,je):super.schedule(Je,at,je)}flush(Je){const{actions:at}=this;if(this.active)return void at.push(Je);let je;this.active=!0;do{if(je=Je.execute(Je.state,Je.delay))break}while(Je=at.shift());if(this.active=!1,je){for(;Je=at.shift();)Je.unsubscribe();throw je}}}const me=new Q(class Z extends H{constructor(Je,at){super(Je,at),this.scheduler=Je,this.work=at,this.pending=!1}schedule(Je,at=0){if(this.closed)return this;this.state=Je;const je=this.id,We=this.scheduler;return null!=je&&(this.id=this.recycleAsyncId(We,je,at)),this.pending=!0,this.delay=at,this.id=this.id||this.requestAsyncId(We,this.id,at),this}requestAsyncId(Je,at,je=0){return setInterval(Je.flush.bind(Je,this),je)}recycleAsyncId(Je,at,je=0){if(null!==je&&this.delay===je&&!1===this.pending)return at;clearInterval(at)}execute(Je,at){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const je=this._execute(Je,at);if(je)return je;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Je,at){let We,je=!1;try{this.work(Je)}catch(yt){je=!0,We=!!yt&&yt||new Error(yt)}if(je)return this.unsubscribe(),We}_unsubscribe(){const Je=this.id,at=this.scheduler,je=at.actions,We=je.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==We&&je.splice(We,1),null!=Je&&(this.id=this.recycleAsyncId(at,Je,null)),this.delay=null}});var he=se(3489),Ae=se(8896);class q{constructor(Je,at,je){this.kind=Je,this.value=at,this.error=je,this.hasValue="N"===Je}observe(Je){switch(this.kind){case"N":return Je.next&&Je.next(this.value);case"E":return Je.error&&Je.error(this.error);case"C":return Je.complete&&Je.complete()}}do(Je,at,je){switch(this.kind){case"N":return Je&&Je(this.value);case"E":return at&&at(this.error);case"C":return je&&je()}}accept(Je,at,je){return Je&&"function"==typeof Je.next?this.observe(Je):this.do(Je,at,je)}toObservable(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return(0,s._)(this.error);case"C":return(0,Ae.c)()}throw new Error("unexpected notification kind value")}static createNext(Je){return void 0!==Je?new q("N",Je):q.undefinedValueNotification}static createError(Je){return new q("E",void 0,Je)}static createComplete(){return q.completeNotification}}q.completeNotification=new q("C"),q.undefinedValueNotification=new q("N",void 0);class we{constructor(Je,at){this.delay=Je,this.scheduler=at}call(Je,at){return at.subscribe(new Fe(Je,this.delay,this.scheduler))}}class Fe extends he.L{constructor(Je,at,je){super(Je),this.delay=at,this.scheduler=je,this.queue=[],this.active=!1,this.errored=!1}static dispatch(Je){const at=Je.source,je=at.queue,We=Je.scheduler,yt=Je.destination;for(;je.length>0&&je[0].time-We.now()<=0;)je.shift().notification.observe(yt);if(je.length>0){const lt=Math.max(0,je[0].time-We.now());this.schedule(Je,lt)}else this.unsubscribe(),at.active=!1}_schedule(Je){this.active=!0,this.destination.add(Je.schedule(Fe.dispatch,this.delay,{source:this,destination:this.destination,scheduler:Je}))}scheduleNotification(Je){if(!0===this.errored)return;const at=this.scheduler,je=new Te(at.now()+this.delay,Je);this.queue.push(je),!1===this.active&&this._schedule(at)}_next(Je){this.scheduleNotification(q.createNext(Je))}_error(Je){this.errored=!0,this.queue=[],this.destination.error(Je),this.unsubscribe()}_complete(){this.scheduleNotification(q.createComplete()),this.unsubscribe()}}class Te{constructor(Je,at){this.time=Je,this.notification=at}}const Ie="Service workers are disabled or not supported by this browser";class Ue{constructor(Je){if(this.serviceWorker=Je,Je){const je=(0,r.R)(Je,"controllerchange").pipe((0,N.U)(()=>Je.controller)),We=(0,p.P)(()=>(0,i.of)(Je.controller)),yt=(0,c.z)(We,je);this.worker=yt.pipe((0,M.h)($e=>!!$e)),this.registration=this.worker.pipe((0,F.w)(()=>Je.getRegistration()));const Me=(0,r.R)(Je,"message").pipe((0,N.U)($e=>$e.data)).pipe((0,M.h)($e=>$e&&$e.type)).pipe(function B(It){return It?(0,j.O)(()=>new h.xQ,It):(0,j.O)(new h.xQ)}());Me.connect(),this.events=Me}else this.worker=this.events=this.registration=function Ve(It){return(0,p.P)(()=>(0,s._)(new Error(It)))}(Ie)}postMessage(Je,at){return this.worker.pipe((0,G.q)(1),(0,ee.b)(je=>{je.postMessage(Object.assign({action:Je},at))})).toPromise().then(()=>{})}postMessageWithOperation(Je,at,je){const We=this.waitForOperationCompleted(je),yt=this.postMessage(Je,at);return Promise.all([yt,We]).then(([,lt])=>lt)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Je){let at;return at="string"==typeof Je?je=>je.type===Je:je=>Je.includes(je.type),this.events.pipe((0,M.h)(at))}nextEventOfType(Je){return this.eventsOfType(Je).pipe((0,G.q)(1))}waitForOperationCompleted(Je){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,M.h)(at=>at.nonce===Je),(0,G.q)(1),(0,N.U)(at=>{if(void 0!==at.result)return at.result;throw new Error(at.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let et=(()=>{class It{constructor(at){if(this.sw=at,this.subscriptionChanges=new h.xQ,!at.isEnabled)return this.messages=x,this.notificationClicks=x,void(this.subscription=x);this.messages=this.sw.eventsOfType("PUSH").pipe((0,N.U)(We=>We.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,N.U)(We=>We.data)),this.pushManager=this.sw.registration.pipe((0,N.U)(We=>We.pushManager));const je=this.pushManager.pipe((0,F.w)(We=>We.getSubscription()));this.subscription=(0,C.T)(je,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(at){if(!this.sw.isEnabled)return Promise.reject(new Error(Ie));const je={userVisibleOnly:!0};let We=this.decodeBase64(at.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),yt=new Uint8Array(new ArrayBuffer(We.length));for(let lt=0;lt<We.length;lt++)yt[lt]=We.charCodeAt(lt);return je.applicationServerKey=yt,this.pushManager.pipe((0,F.w)(lt=>lt.subscribe(je)),(0,G.q)(1)).toPromise().then(lt=>(this.subscriptionChanges.next(lt),lt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,G.q)(1),(0,F.w)(je=>{if(null===je)throw new Error("Not subscribed to push notifications.");return je.unsubscribe().then(We=>{if(!We)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Ie))}decodeBase64(at){return atob(at)}}return It.\u0275fac=function(at){return new(at||It)(ye.LFG(Ue))},It.\u0275prov=ye.Yz7({token:It,factory:It.\u0275fac}),It})(),mt=(()=>{class It{constructor(at){if(this.sw=at,!at.isEnabled)return this.versionUpdates=x,this.available=x,this.activated=x,void(this.unrecoverable=x);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe((0,M.h)(je=>"VERSION_READY"===je.type),(0,N.U)(je=>({type:"UPDATE_AVAILABLE",current:je.currentVersion,available:je.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ie));const at=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:at},at)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ie));const at=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:at},at)}}return It.\u0275fac=function(at){return new(at||It)(ye.LFG(Ue))},It.\u0275prov=ye.Yz7({token:It,factory:It.\u0275fac}),It})();class Re{}const ot=new ye.OlP("NGSW_REGISTER_SCRIPT");function ut(It,Je,at,je){return()=>{if(!(0,u.NF)(je)||!("serviceWorker"in navigator)||!1===at.enabled)return;let yt;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof at.registrationStrategy)yt=at.registrationStrategy();else{const[ke,...Be]=(at.registrationStrategy||"registerWhenStable:30000").split(":");switch(ke){case"registerImmediately":yt=(0,i.of)(null);break;case"registerWithDelay":yt=ft(+Be[0]||0);break;case"registerWhenStable":yt=Be[0]?(0,C.T)(Qe(It),ft(+Be[0])):Qe(It);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${at.registrationStrategy}`)}}It.get(ye.R0b).runOutsideAngular(()=>yt.pipe((0,G.q)(1)).subscribe(()=>navigator.serviceWorker.register(Je,{scope:at.scope}).catch(ke=>console.error("Service worker registration failed with:",ke))))}}function ft(It){return(0,i.of)(null).pipe(function K(It,Je=me){const je=function ce(It){return It instanceof Date&&!isNaN(+It)}(It)?+It-Je.now():Math.abs(It);return We=>We.lift(new we(je,Je))}(It))}function Qe(It){return It.get(ye.z2F).isStable.pipe((0,M.h)(at=>at))}function jt(It,Je){return new Ue((0,u.NF)(Je)&&!1!==It.enabled?navigator.serviceWorker:void 0)}let At=(()=>{class It{static register(at,je={}){return{ngModule:It,providers:[{provide:ot,useValue:at},{provide:Re,useValue:je},{provide:Ue,useFactory:jt,deps:[Re,ye.Lbi]},{provide:ye.ip1,useFactory:ut,deps:[ye.zs3,ot,Re,ye.Lbi],multi:!0}]}}}return It.\u0275fac=function(at){return new(at||It)},It.\u0275mod=ye.oAB({type:It}),It.\u0275inj=ye.cJS({providers:[et,mt]}),It})();var Ot=se(5129);let tn=(()=>{class It{}return It.\u0275fac=function(at){return new(at||It)},It.\u0275mod=ye.oAB({type:It,bootstrap:[e.y$]}),It.\u0275inj=ye.cJS({providers:[{provide:Xe.wN,useClass:xe.r4},f.A,Ot.V1,o.z,xe.X1,a.sn,d.m],imports:[[m.b2,xe.Pc.forRoot(),E,At.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]]}),It})();(0,ye.G48)(),m.q6().bootstrapModule(tn).catch(It=>console.log(It))},6505:(hn,Mt,se)=>{var m=se(7757);hn.exports=function e(U,E,f){function o(u,p){if(!E[u]){if(!U[u]){var s=void 0;if(!p&&s)return require(u,!0);if(a)return a(u,!0);throw(p=new Error("Cannot find module '"+u+"'")).code="MODULE_NOT_FOUND",p}s=E[u]={exports:{}},U[u][0].call(s.exports,function(r){return o(U[u][1][r]||r)},s,s.exports,e,U,E,f)}return E[u].exports}for(var a=void 0,d=0;d<f.length;d++)o(f[d]);return o}({1:[function(e,U,E){"use strict";E.byteLength=function(c){return 3*((c=s(c))[0]+(c=c[1]))/4-c},E.toByteArray=function(r){var i,c,y,N,h=(y=s(r))[0],v=new a(3*(h+(N=y=y[1]))/4-N),x=0,w=0<y?h-4:h;for(c=0;c<w;c+=4)i=o[r.charCodeAt(c)]<<18|o[r.charCodeAt(c+1)]<<12|o[r.charCodeAt(c+2)]<<6|o[r.charCodeAt(c+3)],v[x++]=i>>16&255,v[x++]=i>>8&255,v[x++]=255&i;return 2===y&&(i=o[r.charCodeAt(c)]<<2|o[r.charCodeAt(c+1)]>>4,v[x++]=255&i),1===y&&(i=o[r.charCodeAt(c)]<<10|o[r.charCodeAt(c+1)]<<4|o[r.charCodeAt(c+2)]>>2,v[x++]=i>>8&255,v[x++]=255&i),v},E.fromByteArray=function(r){for(var i,c=r.length,h=c%3,y=[],v=0,x=c-h;v<x;v+=16383)y.push(function(w,C,N){for(var F=[],j=C;j<N;j+=3)F.push(f[(B=(w[j]<<16&16711680)+(w[j+1]<<8&65280)+(255&w[j+2]))>>18&63]+f[B>>12&63]+f[B>>6&63]+f[63&B]);var B;return F.join("")}(r,v,x<v+16383?x:v+16383));return 1==h?y.push(f[(i=r[c-1])>>2]+f[i<<4&63]+"=="):2==h&&y.push(f[(i=(r[c-2]<<8)+r[c-1])>>10]+f[i>>4&63]+f[i<<2&63]+"="),y.join("")};for(var f=[],o=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,p=d.length;u<p;++u)f[u]=d[u],o[d.charCodeAt(u)]=u;function s(r){var i=r.length;if(0<i%4)throw new Error("Invalid string. Length must be a multiple of 4");return i=(r=-1===(r=r.indexOf("="))?i:r)===i?0:4-r%4,[r,i]}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],2:[function(e,U,E){},{}],3:[function(e,U,E){arguments[4][2][0].apply(E,arguments)},{dup:2}],4:[function(e,U,E){(function(s){"use strict";var o=e("base64-js"),a=e("ieee754"),d="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,u=(E.Buffer=s,E.SlowBuffer=function(A){return+A!=A&&(A=0),s.alloc(+A)},E.INSPECT_MAX_BYTES=50,2147483647);function p(A){if(u<A)throw new RangeError('The value "'+A+'" is invalid for option "size"');return A=new Uint8Array(A),Object.setPrototypeOf(A,s.prototype),A}function s(A,q,K){if("number"!=typeof A)return r(A,q,K);if("string"==typeof q)throw new TypeError('The "string" argument must be of type string. Received type number');return c(A)}function r(A,q,K){if("string"==typeof A){var we=A,Fe=q;if(s.isEncoding(Fe="string"==typeof Fe&&""!==Fe?Fe:"utf8"))return(we=(Ie=p(Te=0|v(we,Fe))).write(we,Fe))!==Te?Ie.slice(0,we):Ie;throw new TypeError("Unknown encoding: "+Fe)}if(ArrayBuffer.isView(A))return h(A);if(null!=A){if(ce(A,ArrayBuffer)||A&&ce(A.buffer,ArrayBuffer)){var Te=A,Ie=K;if((we=q)<0||Te.byteLength<we)throw new RangeError('"offset" is outside of buffer bounds');if(Te.byteLength<we+(Ie||0))throw new RangeError('"length" is outside of buffer bounds');return Te=void 0===we&&void 0===Ie?new Uint8Array(Te):void 0===Ie?new Uint8Array(Te,we):new Uint8Array(Te,we,Ie),Object.setPrototypeOf(Te,s.prototype),Te}if("number"==typeof A)throw new TypeError('The "value" argument must not be of type number. Received type number');if(null!=(Fe=A.valueOf&&A.valueOf())&&Fe!==A)return s.from(Fe,q,K);var Ve=s.isBuffer(Ue=A)?(0!==(mt=p(et=0|y(Ue.length))).length&&Ue.copy(mt,0,0,et),mt):void 0!==Ue.length?"number"!=typeof Ue.length||he(Ue.length)?p(0):h(Ue):"Buffer"===Ue.type&&Array.isArray(Ue.data)?h(Ue.data):void 0;if(Ve)return Ve;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof A[Symbol.toPrimitive])return s.from(A[Symbol.toPrimitive]("string"),q,K)}var Ue,et,mt;throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}function i(A){if("number"!=typeof A)throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function c(A){return i(A),p(A<0?0:0|y(A))}function h(A){for(var q=A.length<0?0:0|y(A.length),K=p(q),we=0;we<q;we+=1)K[we]=255&A[we];return K}function y(A){if(u<=A)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return 0|A}function v(A,q){if(s.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||ce(A,ArrayBuffer))return A.byteLength;if("string"!=typeof A)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);var K=A.length,we=2<arguments.length&&!0===arguments[2];if(!we&&0===K)return 0;for(var Fe=!1;;)switch(q){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return Q(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*K;case"hex":return K>>>1;case"base64":return te(A).length;default:if(Fe)return we?-1:Q(A).length;q=(""+q).toLowerCase(),Fe=!0}}function x(A,q,K){var we,Fe=!1;if((q=void 0===q||q<0?0:q)>this.length||(K=void 0===K||K>this.length?this.length:K)<=0||(K>>>=0)<=(q>>>=0))return"";for(A=A||"utf8";;)switch(A){case"hex":var Ie=K,mt=this.length;(!Ie||Ie<0||mt<Ie)&&(Ie=mt);for(var Ve="",Ue=Qe=!(Qe=q)||Qe<0?0:Qe;Ue<Ie;++Ue)Ve+=Ae[this[Ue]];return Ve;case"utf8":case"utf-8":return j(this,q,K);case"ascii":var Re=(mt=q,K),ot="";Re=Math.min(this.length,Re);for(var ut=mt;ut<Re;++ut)ot+=String.fromCharCode(127&this[ut]);return ot;case"latin1":case"binary":var Qe=q,jt=K,At="";jt=Math.min(this.length,jt);for(var $t=Qe;$t<jt;++$t)At+=String.fromCharCode(this[$t]);return At;case"base64":return Ot=this,we=K,0===(tn=q)&&we===Ot.length?o.fromByteArray(Ot):o.fromByteArray(Ot.slice(tn,we));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Ot=q,tn=K,It=this.slice(Ot,tn),Je="",at=0;at<It.length;at+=2)Je+=String.fromCharCode(It[at]+256*It[at+1]);return Je;default:if(Fe)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),Fe=!0}}function w(A,q,K){var we=A[q];A[q]=A[K],A[K]=we}function C(A,q,K,we,Fe){if(0===A.length)return-1;if("string"==typeof K?(we=K,K=0):2147483647<K?K=2147483647:K<-2147483648&&(K=-2147483648),(K=(K=he(K=+K)?Fe?0:A.length-1:K)<0?A.length+K:K)>=A.length){if(Fe)return-1;K=A.length-1}else if(K<0){if(!Fe)return-1;K=0}if("string"==typeof q&&(q=s.from(q,we)),s.isBuffer(q))return 0===q.length?-1:N(A,q,K,we,Fe);if("number"==typeof q)return q&=255,"function"==typeof Uint8Array.prototype.indexOf?(Fe?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(A,q,K):N(A,[q],K,we,Fe);throw new TypeError("val must be string, number or Buffer")}function N(A,q,K,we,Fe){var Te=1,Ie=A.length,Ve=q.length;if(void 0!==we&&("ucs2"===(we=String(we).toLowerCase())||"ucs-2"===we||"utf16le"===we||"utf-16le"===we)){if(A.length<2||q.length<2)return-1;Ie/=Te=2,Ve/=2,K/=2}function Ue(ut,ft){return 1===Te?ut[ft]:ut.readUInt16BE(ft*Te)}if(Fe)for(var et=-1,mt=K;mt<Ie;mt++)if(Ue(A,mt)===Ue(q,-1===et?0:mt-et)){if(mt-(et=-1===et?mt:et)+1===Ve)return et*Te}else-1!==et&&(mt-=mt-et),et=-1;else for(mt=K=Ie<K+Ve?Ie-Ve:K;0<=mt;mt--){for(var Re=!0,ot=0;ot<Ve;ot++)if(Ue(A,mt+ot)!==Ue(q,ot)){Re=!1;break}if(Re)return mt}return-1}function M(A,q,K,we){return me(function(Fe){for(var Te=[],Ie=0;Ie<Fe.length;++Ie)Te.push(255&Fe.charCodeAt(Ie));return Te}(q),A,K,we)}function F(A,q,K,we){return me(function(Fe,Te){for(var Ie,Ve,Ue=[],et=0;et<Fe.length&&!((Te-=2)<0);++et)Ie=(Ve=Fe.charCodeAt(et))>>8,Ue.push(Ve%=256),Ue.push(Ie);return Ue}(q,A.length-K),A,K,we)}function j(A,q,K){K=Math.min(A.length,K);for(var we=[],Fe=q;Fe<K;){var Te,Ie,Ve,Ue,et=A[Fe],mt=null,Re=239<et?4:223<et?3:191<et?2:1;if(Fe+Re<=K)switch(Re){case 1:et<128&&(mt=et);break;case 2:128==(192&(Te=A[Fe+1]))&&127<(Ue=(31&et)<<6|63&Te)&&(mt=Ue);break;case 3:Ie=A[Fe+2],128==(192&(Te=A[Fe+1]))&&128==(192&Ie)&&2047<(Ue=(15&et)<<12|(63&Te)<<6|63&Ie)&&(Ue<55296||57343<Ue)&&(mt=Ue);break;case 4:Ie=A[Fe+2],Ve=A[Fe+3],128==(192&(Te=A[Fe+1]))&&128==(192&Ie)&&128==(192&Ve)&&65535<(Ue=(15&et)<<18|(63&Te)<<12|(63&Ie)<<6|63&Ve)&&Ue<1114112&&(mt=Ue)}null===mt?(mt=65533,Re=1):65535<mt&&(we.push((mt-=65536)>>>10&1023|55296),mt=56320|1023&mt),we.push(mt),Fe+=Re}var ot=we,ut=ot.length;if(ut<=B)return String.fromCharCode.apply(String,ot);for(var ft="",Qe=0;Qe<ut;)ft+=String.fromCharCode.apply(String,ot.slice(Qe,Qe+=B));return ft}E.kMaxLength=u,(s.TYPED_ARRAY_SUPPORT=function(){try{var A=new Uint8Array(1),q={foo:function(){return 42}};return Object.setPrototypeOf(q,Uint8Array.prototype),Object.setPrototypeOf(A,q),42===A.foo()}catch(K){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=r,Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(A,q,K){return q=q,K=K,i(A=A),A<=0||void 0===q?p(A):"string"==typeof K?p(A).fill(q,K):p(A).fill(q)},s.allocUnsafe=c,s.allocUnsafeSlow=c,s.isBuffer=function(A){return null!=A&&!0===A._isBuffer&&A!==s.prototype},s.compare=function(A,q){if(ce(A,Uint8Array)&&(A=s.from(A,A.offset,A.byteLength)),ce(q,Uint8Array)&&(q=s.from(q,q.offset,q.byteLength)),!s.isBuffer(A)||!s.isBuffer(q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===q)return 0;for(var K=A.length,we=q.length,Fe=0,Te=Math.min(K,we);Fe<Te;++Fe)if(A[Fe]!==q[Fe]){K=A[Fe],we=q[Fe];break}return K<we?-1:we<K?1:0},s.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(A,q){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(0===A.length)return s.alloc(0);if(void 0===q)for(Fe=q=0;Fe<A.length;++Fe)q+=A[Fe].length;for(var K=s.allocUnsafe(q),we=0,Fe=0;Fe<A.length;++Fe){var Te=A[Fe];if(ce(Te,Uint8Array)&&(Te=s.from(Te)),!s.isBuffer(Te))throw new TypeError('"list" argument must be an Array of Buffers');Te.copy(K,we),we+=Te.length}return K},s.byteLength=v,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var A=this.length;if(A%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var q=0;q<A;q+=2)w(this,q,q+1);return this},s.prototype.swap32=function(){var A=this.length;if(A%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var q=0;q<A;q+=4)w(this,q,q+3),w(this,q+1,q+2);return this},s.prototype.swap64=function(){var A=this.length;if(A%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var q=0;q<A;q+=8)w(this,q,q+7),w(this,q+1,q+6),w(this,q+2,q+5),w(this,q+3,q+4);return this},s.prototype.toLocaleString=s.prototype.toString=function(){var A=this.length;return 0===A?"":0===arguments.length?j(this,0,A):x.apply(this,arguments)},s.prototype.equals=function(A){if(s.isBuffer(A))return this===A||0===s.compare(this,A);throw new TypeError("Argument must be a Buffer")},s.prototype.inspect=function(){var q="",A=E.INSPECT_MAX_BYTES;return q=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim(),this.length>A&&(q+=" ... "),"<Buffer "+q+">"},d&&(s.prototype[d]=s.prototype.inspect),s.prototype.compare=function(A,q,K,we,Fe){if(ce(A,Uint8Array)&&(A=s.from(A,A.offset,A.byteLength)),!s.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(void 0===K&&(K=A?A.length:0),void 0===we&&(we=0),void 0===Fe&&(Fe=this.length),(q=void 0===q?0:q)<0||K>A.length||we<0||Fe>this.length)throw new RangeError("out of range index");if(Fe<=we&&K<=q)return 0;if(Fe<=we)return-1;if(K<=q)return 1;if(this===A)return 0;for(var Te=(Fe>>>=0)-(we>>>=0),Ie=(K>>>=0)-(q>>>=0),Ve=Math.min(Te,Ie),Ue=this.slice(we,Fe),et=A.slice(q,K),mt=0;mt<Ve;++mt)if(Ue[mt]!==et[mt]){Te=Ue[mt],Ie=et[mt];break}return Te<Ie?-1:Ie<Te?1:0},s.prototype.includes=function(A,q,K){return-1!==this.indexOf(A,q,K)},s.prototype.indexOf=function(A,q,K){return C(this,A,q,K,!0)},s.prototype.lastIndexOf=function(A,q,K){return C(this,A,q,K,!1)},s.prototype.write=function(A,q,K,we){if(void 0===q)we="utf8",K=this.length,q=0;else if(void 0===K&&"string"==typeof q)we=q,K=this.length,q=0;else{if(!isFinite(q))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");q>>>=0,isFinite(K)?(K>>>=0,void 0===we&&(we="utf8")):(we=K,K=void 0)}var Fe=this.length-q;if((void 0===K||Fe<K)&&(K=Fe),0<A.length&&(K<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");we=we||"utf8";for(var Te,Ie,Ve,Ue=!1;;)switch(we){case"hex":var mt=A,Re=q,ot=K,ut=(Re=Number(Re)||0,this.length-Re);(!ot||ut<(ot=Number(ot)))&&(ot=ut),(ut=mt.length)/2<ot&&(ot=ut/2);for(var ft=0;ft<ot;++ft){var Qe=parseInt(mt.substr(2*ft,2),16);if(he(Qe))return ft;this[Re+ft]=Qe}return ft;case"utf8":case"utf-8":return Ve=K,me(Q(A,(Ie=this).length-(ut=q)),Ie,ut,Ve);case"ascii":case"latin1":case"binary":return M(this,A,q,K);case"base64":return Ie=this,Ve=q,Te=K,me(te(A),Ie,Ve,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,A,q,K);default:if(Ue)throw new TypeError("Unknown encoding: "+we);we=(""+we).toLowerCase(),Ue=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function G(A,q,K){if(A%1!=0||A<0)throw new RangeError("offset is not uint");if(K<A+q)throw new RangeError("Trying to access beyond buffer length")}function ee(A,q,K,we,Fe,Te){if(!s.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(Fe<q||q<Te)throw new RangeError('"value" argument is out of bounds');if(K+we>A.length)throw new RangeError("Index out of range")}function $(A,q,K,we){if(K+we>A.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function H(A,q,K,we,Fe){return q=+q,K>>>=0,Fe||$(A,0,K,4),a.write(A,q,K,we,23,4),K+4}function Z(A,q,K,we,Fe){return q=+q,K>>>=0,Fe||$(A,0,K,8),a.write(A,q,K,we,52,8),K+8}s.prototype.slice=function(A,q){var K=this.length;return(A=~~A)<0?(A+=K)<0&&(A=0):K<A&&(A=K),(q=void 0===q?K:~~q)<0?(q+=K)<0&&(q=0):K<q&&(q=K),q<A&&(q=A),K=this.subarray(A,q),Object.setPrototypeOf(K,s.prototype),K},s.prototype.readUIntLE=function(A,q,K){A>>>=0,q>>>=0,K||G(A,q,this.length);for(var we=this[A],Fe=1,Te=0;++Te<q&&(Fe*=256);)we+=this[A+Te]*Fe;return we},s.prototype.readUIntBE=function(A,q,K){A>>>=0,q>>>=0,K||G(A,q,this.length);for(var we=this[A+--q],Fe=1;0<q&&(Fe*=256);)we+=this[A+--q]*Fe;return we},s.prototype.readUInt8=function(A,q){return A>>>=0,q||G(A,1,this.length),this[A]},s.prototype.readUInt16LE=function(A,q){return A>>>=0,q||G(A,2,this.length),this[A]|this[A+1]<<8},s.prototype.readUInt16BE=function(A,q){return A>>>=0,q||G(A,2,this.length),this[A]<<8|this[A+1]},s.prototype.readUInt32LE=function(A,q){return A>>>=0,q||G(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]},s.prototype.readUInt32BE=function(A,q){return A>>>=0,q||G(A,4,this.length),16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])},s.prototype.readIntLE=function(A,q,K){A>>>=0,q>>>=0,K||G(A,q,this.length);for(var we=this[A],Fe=1,Te=0;++Te<q&&(Fe*=256);)we+=this[A+Te]*Fe;return(Fe*=128)<=we&&(we-=Math.pow(2,8*q)),we},s.prototype.readIntBE=function(A,q,K){A>>>=0,q>>>=0,K||G(A,q,this.length);for(var we=q,Fe=1,Te=this[A+--we];0<we&&(Fe*=256);)Te+=this[A+--we]*Fe;return(Fe*=128)<=Te&&(Te-=Math.pow(2,8*q)),Te},s.prototype.readInt8=function(A,q){return A>>>=0,q||G(A,1,this.length),128&this[A]?-1*(255-this[A]+1):this[A]},s.prototype.readInt16LE=function(A,q){return A>>>=0,q||G(A,2,this.length),32768&(q=this[A]|this[A+1]<<8)?4294901760|q:q},s.prototype.readInt16BE=function(A,q){return A>>>=0,q||G(A,2,this.length),32768&(q=this[A+1]|this[A]<<8)?4294901760|q:q},s.prototype.readInt32LE=function(A,q){return A>>>=0,q||G(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},s.prototype.readInt32BE=function(A,q){return A>>>=0,q||G(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},s.prototype.readFloatLE=function(A,q){return A>>>=0,q||G(A,4,this.length),a.read(this,A,!0,23,4)},s.prototype.readFloatBE=function(A,q){return A>>>=0,q||G(A,4,this.length),a.read(this,A,!1,23,4)},s.prototype.readDoubleLE=function(A,q){return A>>>=0,q||G(A,8,this.length),a.read(this,A,!0,52,8)},s.prototype.readDoubleBE=function(A,q){return A>>>=0,q||G(A,8,this.length),a.read(this,A,!1,52,8)},s.prototype.writeUIntLE=function(A,q,K,we){A=+A,q>>>=0,K>>>=0,we||ee(this,A,q,K,Math.pow(2,8*K)-1,0);var Fe=1,Te=0;for(this[q]=255&A;++Te<K&&(Fe*=256);)this[q+Te]=A/Fe&255;return q+K},s.prototype.writeUIntBE=function(A,q,K,we){A=+A,q>>>=0,K>>>=0,we||ee(this,A,q,K,Math.pow(2,8*K)-1,0);var Fe=K-1,Te=1;for(this[q+Fe]=255&A;0<=--Fe&&(Te*=256);)this[q+Fe]=A/Te&255;return q+K},s.prototype.writeUInt8=function(A,q,K){return A=+A,q>>>=0,K||ee(this,A,q,1,255,0),this[q]=255&A,q+1},s.prototype.writeUInt16LE=function(A,q,K){return A=+A,q>>>=0,K||ee(this,A,q,2,65535,0),this[q]=255&A,this[q+1]=A>>>8,q+2},s.prototype.writeUInt16BE=function(A,q,K){return A=+A,q>>>=0,K||ee(this,A,q,2,65535,0),this[q]=A>>>8,this[q+1]=255&A,q+2},s.prototype.writeUInt32LE=function(A,q,K){return A=+A,q>>>=0,K||ee(this,A,q,4,4294967295,0),this[q+3]=A>>>24,this[q+2]=A>>>16,this[q+1]=A>>>8,this[q]=255&A,q+4},s.prototype.writeUInt32BE=function(A,q,K){return A=+A,q>>>=0,K||ee(this,A,q,4,4294967295,0),this[q]=A>>>24,this[q+1]=A>>>16,this[q+2]=A>>>8,this[q+3]=255&A,q+4},s.prototype.writeIntLE=function(A,q,K,we){A=+A,q>>>=0,we||ee(this,A,q,K,(we=Math.pow(2,8*K-1))-1,-we);var Fe=0,Te=1,Ie=0;for(this[q]=255&A;++Fe<K&&(Te*=256);)A<0&&0===Ie&&0!==this[q+Fe-1]&&(Ie=1),this[q+Fe]=(A/Te>>0)-Ie&255;return q+K},s.prototype.writeIntBE=function(A,q,K,we){A=+A,q>>>=0,we||ee(this,A,q,K,(we=Math.pow(2,8*K-1))-1,-we);var Fe=K-1,Te=1,Ie=0;for(this[q+Fe]=255&A;0<=--Fe&&(Te*=256);)A<0&&0===Ie&&0!==this[q+Fe+1]&&(Ie=1),this[q+Fe]=(A/Te>>0)-Ie&255;return q+K},s.prototype.writeInt8=function(A,q,K){return A=+A,q>>>=0,K||ee(this,A,q,1,127,-128),this[q]=255&(A=A<0?255+A+1:A),q+1},s.prototype.writeInt16LE=function(A,q,K){return A=+A,q>>>=0,K||ee(this,A,q,2,32767,-32768),this[q]=255&A,this[q+1]=A>>>8,q+2},s.prototype.writeInt16BE=function(A,q,K){return A=+A,q>>>=0,K||ee(this,A,q,2,32767,-32768),this[q]=A>>>8,this[q+1]=255&A,q+2},s.prototype.writeInt32LE=function(A,q,K){return A=+A,q>>>=0,K||ee(this,A,q,4,2147483647,-2147483648),this[q]=255&A,this[q+1]=A>>>8,this[q+2]=A>>>16,this[q+3]=A>>>24,q+4},s.prototype.writeInt32BE=function(A,q,K){return A=+A,q>>>=0,K||ee(this,A,q,4,2147483647,-2147483648),this[q]=(A=A<0?4294967295+A+1:A)>>>24,this[q+1]=A>>>16,this[q+2]=A>>>8,this[q+3]=255&A,q+4},s.prototype.writeFloatLE=function(A,q,K){return H(this,A,q,!0,K)},s.prototype.writeFloatBE=function(A,q,K){return H(this,A,q,!1,K)},s.prototype.writeDoubleLE=function(A,q,K){return Z(this,A,q,!0,K)},s.prototype.writeDoubleBE=function(A,q,K){return Z(this,A,q,!1,K)},s.prototype.copy=function(A,q,K,we){if(!s.isBuffer(A))throw new TypeError("argument should be a Buffer");if(K=K||0,we||0===we||(we=this.length),q>=A.length&&(q=A.length),(we=0<we&&we<K?K:we)===K||0===A.length||0===this.length)return 0;if((q=q||0)<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("sourceEnd out of bounds");we>this.length&&(we=this.length);var Fe=(we=A.length-q<we-K?A.length-q+K:we)-K;if(this===A&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(q,K,we);else if(this===A&&K<q&&q<we)for(var Te=Fe-1;0<=Te;--Te)A[Te+q]=this[Te+K];else Uint8Array.prototype.set.call(A,this.subarray(K,we),q);return Fe},s.prototype.fill=function(A,q,K,we){if("string"==typeof A){if("string"==typeof q?(we=q,q=0,K=this.length):"string"==typeof K&&(we=K,K=this.length),void 0!==we&&"string"!=typeof we)throw new TypeError("encoding must be a string");if("string"==typeof we&&!s.isEncoding(we))throw new TypeError("Unknown encoding: "+we);var Fe;1===A.length&&(Fe=A.charCodeAt(0),("utf8"===we&&Fe<128||"latin1"===we)&&(A=Fe))}else"number"==typeof A?A&=255:"boolean"==typeof A&&(A=Number(A));if(q<0||this.length<q||this.length<K)throw new RangeError("Out of range index");var Te;if(!(K<=q))if(q>>>=0,K=void 0===K?this.length:K>>>0,"number"==typeof(A=A||0))for(Te=q;Te<K;++Te)this[Te]=A;else{var Ie=s.isBuffer(A)?A:s.from(A,we),Ve=Ie.length;if(0===Ve)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(Te=0;Te<K-q;++Te)this[Te+q]=Ie[Te%Ve]}return this};var oe=/[^+/0-9A-Za-z-_]/g;function Q(A,q){q=q||1/0;for(var K,we=A.length,Fe=null,Te=[],Ie=0;Ie<we;++Ie){if(55295<(K=A.charCodeAt(Ie))&&K<57344){if(!Fe){if(56319<K){-1<(q-=3)&&Te.push(239,191,189);continue}if(Ie+1===we){-1<(q-=3)&&Te.push(239,191,189);continue}Fe=K;continue}if(K<56320){-1<(q-=3)&&Te.push(239,191,189),Fe=K;continue}K=65536+(Fe-55296<<10|K-56320)}else Fe&&-1<(q-=3)&&Te.push(239,191,189);if(Fe=null,K<128){if(--q<0)break;Te.push(K)}else if(K<2048){if((q-=2)<0)break;Te.push(K>>6|192,63&K|128)}else if(K<65536){if((q-=3)<0)break;Te.push(K>>12|224,K>>6&63|128,63&K|128)}else{if(!(K<1114112))throw new Error("Invalid code point");if((q-=4)<0)break;Te.push(K>>18|240,K>>12&63|128,K>>6&63|128,63&K|128)}}return Te}function te(A){return o.toByteArray(function(q){if((q=(q=q.split("=")[0]).trim().replace(oe,"")).length<2)return"";for(;q.length%4!=0;)q+="=";return q}(A))}function me(A,q,K,we){for(var Fe=0;Fe<we&&!(Fe+K>=q.length||Fe>=A.length);++Fe)q[Fe+K]=A[Fe];return Fe}function ce(A,q){return A instanceof q||null!=A&&null!=A.constructor&&null!=A.constructor.name&&A.constructor.name===q.name}function he(A){return A!=A}var Ae=function(){for(var A="0123456789abcdef",q=new Array(256),K=0;K<16;++K)for(var we=16*K,Fe=0;Fe<16;++Fe)q[we+Fe]=A[K]+A[Fe];return q}()}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:238}],5:[function(e,U,E){U.exports=function(f){if("function"!=typeof f)throw TypeError(String(f)+" is not a function");return f}},{}],6:[function(e,U,E){var f=e("../internals/is-object");U.exports=function(o){if(f(o)||null===o)return o;throw TypeError("Can't set "+String(o)+" as a prototype")}},{"../internals/is-object":74}],7:[function(a,U,E){var f=a("../internals/well-known-symbol"),o=a("../internals/object-create"),d=(a=a("../internals/object-define-property"),f("unscopables")),u=Array.prototype;null==u[d]&&a.f(u,d,{configurable:!0,value:o(null)}),U.exports=function(p){u[d][p]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],8:[function(e,U,E){"use strict";var f=e("../internals/string-multibyte").charAt;U.exports=function(o,a,d){return a+(d?f(o,a).length:1)}},{"../internals/string-multibyte":123}],9:[function(e,U,E){U.exports=function(f,o,a){if(f instanceof o)return f;throw TypeError("Incorrect "+(a?a+" ":"")+"invocation")}},{}],10:[function(e,U,E){var f=e("../internals/is-object");U.exports=function(o){if(f(o))return o;throw TypeError(String(o)+" is not an object")}},{"../internals/is-object":74}],11:[function(e,U,E){U.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],12:[function($,U,E){"use strict";function f(Z){return p(Z)&&s(H,r(Z))}var o,a=$("../internals/array-buffer-native"),d=$("../internals/descriptors"),u=$("../internals/global"),p=$("../internals/is-object"),s=$("../internals/has"),r=$("../internals/classof"),i=$("../internals/create-non-enumerable-property"),c=$("../internals/redefine"),h=$("../internals/object-define-property").f,y=$("../internals/object-get-prototype-of"),v=$("../internals/object-set-prototype-of"),B=$("../internals/well-known-symbol"),x=($=$("../internals/uid"),u.Int8Array),w=x&&x.prototype,C=(C=u.Uint8ClampedArray)&&C.prototype,N=x&&y(x),M=w&&y(w),F=Object.prototype,j=F.isPrototypeOf,G=(B=B("toStringTag"),$("TYPED_ARRAY_TAG")),ee=a&&!!v&&"Opera"!==r(u.opera),H=($=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(o in H)u[o]||(ee=!1);if((!ee||"function"!=typeof N||N===Function.prototype)&&(N=function(){throw TypeError("Incorrect invocation")},ee))for(o in H)u[o]&&v(u[o],N);if((!ee||!M||M===F)&&(M=N.prototype,ee))for(o in H)u[o]&&v(u[o].prototype,M);if(ee&&y(C)!==M&&v(C,M),d&&!s(M,B))for(o in $=!0,h(M,B,{get:function(){return p(this)?this[G]:void 0}}),H)u[o]&&i(u[o],G,o);U.exports={NATIVE_ARRAY_BUFFER_VIEWS:ee,TYPED_ARRAY_TAG:$&&G,aTypedArray:function(Z){if(f(Z))return Z;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(Z){if(v){if(j.call(N,Z))return Z}else for(var oe in H)if(s(H,o)&&(oe=u[oe])&&(Z===oe||j.call(oe,Z)))return Z;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(Z,oe,Q){if(d){if(Q)for(var te in H)(te=u[te])&&s(te.prototype,Z)&&delete te.prototype[Z];M[Z]&&!Q||c(M,Z,!Q&&ee&&w[Z]||oe)}},exportTypedArrayStaticMethod:function(Z,oe,Q){var te,me;if(d){if(v){if(Q)for(te in H)(me=u[te])&&s(me,Z)&&delete me[Z];if(N[Z]&&!Q)return;try{return c(N,Z,!Q&&ee&&x[Z]||oe)}catch(ce){}}for(te in H)!(me=u[te])||me[Z]&&!Q||c(me,Z,oe)}},isView:function(Z){return"DataView"===(Z=r(Z))||s(H,Z)},isTypedArray:f,TypedArray:N,TypedArrayPrototype:M}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":143,"../internals/well-known-symbol":146}],13:[function(K,U,E){"use strict";function f(Re){return[255&Re]}function o(Re){return[255&Re,Re>>8&255]}function a(Re){return[255&Re,Re>>8&255,Re>>16&255,Re>>24&255]}function d(Re){return Re[3]<<24|Re[2]<<16|Re[1]<<8|Re[0]}function u(Re){return Te(Re,23,4)}function p(Re){return Te(Re,52,8)}function s(Re,ot){$(Re[ce],ot,{get:function(){return oe(this)[ot]}})}function r(At,ot,jt,ft){if((jt=F(jt))+ot>(At=oe(At)).byteLength)throw Fe(he);return At=oe(At.buffer).bytes.slice(jt+=At.byteOffset,jt+ot),ft?At:At.reverse()}function i(Re,ot,ut,ft,Qe,jt){if((ut=F(ut))+ot>(Re=oe(Re)).byteLength)throw Fe(he);for(var At=oe(Re.buffer).bytes,$t=ut+Re.byteOffset,Ot=ft(+Qe),tn=0;tn<ot;tn++)At[$t+tn]=Ot[jt?tn:ot-tn-1]}var c=K("../internals/global"),h=K("../internals/descriptors"),y=K("../internals/array-buffer-native"),v=K("../internals/create-non-enumerable-property"),x=K("../internals/redefine-all"),w=K("../internals/fails"),C=K("../internals/an-instance"),N=K("../internals/to-integer"),M=K("../internals/to-length"),F=K("../internals/to-index"),j=K("../internals/ieee754"),B=K("../internals/object-get-prototype-of"),G=K("../internals/object-set-prototype-of"),ee=K("../internals/object-get-own-property-names").f,$=K("../internals/object-define-property").f,H=K("../internals/array-fill"),Z=K("../internals/set-to-string-tag"),oe=(K=K("../internals/internal-state")).get,Q=K.set,te="ArrayBuffer",me="DataView",ce="prototype",he="Wrong index",Ae=c[te],A=Ae,q=c[me],we=(K=q&&q[ce],Object.prototype),Fe=c.RangeError,Te=j.pack,Ie=j.unpack;if(y){if(!w(function(){Ae(1)})||!w(function(){new Ae(-1)})||w(function(){return new Ae,new Ae(1.5),new Ae(NaN),Ae.name!=te})){c=(A=function(ut){return C(this,A),new Ae(F(ut))})[ce]=Ae[ce];for(var Ve,Ue=ee(Ae),et=0;Ue.length>et;)(Ve=Ue[et++])in A||v(A,Ve,Ae[Ve]);c.constructor=A}G&&B(K)!==we&&G(K,we),j=new q(new A(2));var mt=K.setInt8;j.setInt8(0,2147483648),j.setInt8(1,2147483649),!j.getInt8(0)&&j.getInt8(1)||x(K,{setInt8:function(ot,ut){mt.call(this,ot,ut<<24>>24)},setUint8:function(ot,ut){mt.call(this,ot,ut<<24>>24)}},{unsafe:!0})}else A=function(Re){C(this,A,te),Re=F(Re),Q(this,{bytes:H.call(new Array(Re),0),byteLength:Re}),h||(this.byteLength=Re)},q=function(Re,Qe,ut){C(this,q,me),C(Re,A,me);var ft=oe(Re).byteLength;if((Qe=N(Qe))<0||ft<Qe)throw Fe("Wrong offset");if(ft<Qe+(ut=void 0===ut?ft-Qe:M(ut)))throw Fe("Wrong length");Q(this,{buffer:Re,byteLength:ut,byteOffset:Qe}),h||(this.buffer=Re,this.byteLength=ut,this.byteOffset=Qe)},h&&(s(A,"byteLength"),s(q,"buffer"),s(q,"byteLength"),s(q,"byteOffset")),x(q[ce],{getInt8:function(Re){return r(this,1,Re)[0]<<24>>24},getUint8:function(Re){return r(this,1,Re)[0]},getInt16:function(Re){return((Re=r(this,2,Re,1<arguments.length?arguments[1]:void 0))[1]<<8|Re[0])<<16>>16},getUint16:function(Re){return(Re=r(this,2,Re,1<arguments.length?arguments[1]:void 0))[1]<<8|Re[0]},getInt32:function(Re){return d(r(this,4,Re,1<arguments.length?arguments[1]:void 0))},getUint32:function(Re){return d(r(this,4,Re,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(Re){return Ie(r(this,4,Re,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(Re){return Ie(r(this,8,Re,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(Re,ot){i(this,1,Re,f,ot)},setUint8:function(Re,ot){i(this,1,Re,f,ot)},setInt16:function(Re,ot){i(this,2,Re,o,ot,2<arguments.length?arguments[2]:void 0)},setUint16:function(Re,ot){i(this,2,Re,o,ot,2<arguments.length?arguments[2]:void 0)},setInt32:function(Re,ot){i(this,4,Re,a,ot,2<arguments.length?arguments[2]:void 0)},setUint32:function(Re,ot){i(this,4,Re,a,ot,2<arguments.length?arguments[2]:void 0)},setFloat32:function(Re,ot){i(this,4,Re,u,ot,2<arguments.length?arguments[2]:void 0)},setFloat64:function(Re,ot){i(this,8,Re,p,ot,2<arguments.length?arguments[2]:void 0)}});Z(A,te),Z(q,me),U.exports={ArrayBuffer:A,DataView:q}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":131,"../internals/to-integer":133,"../internals/to-length":134}],14:[function(e,U,E){"use strict";var f=e("../internals/to-object"),o=e("../internals/to-absolute-index"),a=e("../internals/to-length"),d=Math.min;U.exports=[].copyWithin||function(h,p){var s=f(this),r=a(s.length),i=o(h,r),c=o(p,r),y=d((void 0===(h=2<arguments.length?arguments[2]:void 0)?r:o(h,r))-c,r-i),v=1;for(c<i&&i<c+y&&(v=-1,c+=y-1,i+=y-1);0<y--;)c in s?s[i]=s[c]:delete s[i],i+=v,c+=v;return s}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],15:[function(e,U,E){"use strict";var f=e("../internals/to-object"),o=e("../internals/to-absolute-index"),a=e("../internals/to-length");U.exports=function(d){for(var r,u=f(this),p=a(u.length),s=o(1<(r=arguments.length)?arguments[1]:void 0,p),i=void 0===(r=2<r?arguments[2]:void 0)?p:o(r,p);s<i;)u[s++]=d;return u}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],16:[function(a,U,E){"use strict";var f=a("../internals/array-iteration").forEach,o=a("../internals/array-method-is-strict");a=a("../internals/array-method-uses-to-length"),o=o("forEach"),a=a("forEach"),U.exports=o&&a?[].forEach:function(d){return f(this,d,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(e,U,E){"use strict";var f=e("../internals/function-bind-context"),o=e("../internals/to-object"),a=e("../internals/call-with-safe-iteration-closing"),d=e("../internals/is-array-iterator-method"),u=e("../internals/to-length"),p=e("../internals/create-property"),s=e("../internals/get-iterator-method");U.exports=function(C){var i,c,h,y,v,x,w=o(C),N=(C="function"==typeof this?this:Array,arguments.length),M=1<N?arguments[1]:void 0,F=void 0!==M,j=s(w),B=0;if(F&&(M=f(M,2<N?arguments[2]:void 0,2)),null==j||C==Array&&d(j))for(c=new C(i=u(w.length));B<i;B++)x=F?M(w[B],B):w[B],p(c,B,x);else for(v=(y=j.call(w)).next,c=new C;!(h=v.call(y)).done;B++)x=F?a(y,M,[h.value,B],!0):h.value,p(c,B,x);return c.length=B,c}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],18:[function(e,U,E){function f(u){return function(p,s,r){var i,c=o(p),h=a(c.length),y=d(r,h);if(u&&s!=s){for(;y<h;)if((i=c[y++])!=i)return!0}else for(;y<h;y++)if((u||y in c)&&c[y]===s)return u||y||0;return!u&&-1}}var o=e("../internals/to-indexed-object"),a=e("../internals/to-length"),d=e("../internals/to-absolute-index");U.exports={includes:f(!0),indexOf:f(!1)}},{"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134}],19:[function(e,U,E){function f(r){var i=1==r,c=2==r,h=3==r,y=4==r,v=6==r,x=5==r||v;return function(w,C,N,M){for(var F,j,B=d(w),G=a(B),ee=o(C,N,3),$=u(G.length),H=0,Z=(C=M||p,i?C(w,$):c?C(w,0):void 0);H<$;H++)if((x||H in G)&&(j=ee(F=G[H],H,B),r))if(i)Z[H]=j;else if(j)switch(r){case 3:return!0;case 5:return F;case 6:return H;case 2:s.call(Z,F)}else if(y)return!1;return v?-1:h||y?y:Z}}var o=e("../internals/function-bind-context"),a=e("../internals/indexed-object"),d=e("../internals/to-object"),u=e("../internals/to-length"),p=e("../internals/array-species-create"),s=[].push;U.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],20:[function(r,U,E){"use strict";var f=r("../internals/to-indexed-object"),o=r("../internals/to-integer"),a=r("../internals/to-length"),s=r("../internals/array-method-is-strict"),d=(r=r("../internals/array-method-uses-to-length"),Math.min),u=[].lastIndexOf,p=!!u&&1/[1].lastIndexOf(1,-0)<0;s=s("lastIndexOf"),r=r("indexOf",{ACCESSORS:!0,1:0}),U.exports=!p&&s&&r?u:function(i){if(p)return u.apply(this,arguments)||0;var c=f(this),h=a(c.length),y=h-1;for((y=1<arguments.length?d(y,o(arguments[1])):y)<0&&(y=h+y);0<=y;y--)if(y in c&&c[y]===i)return y||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":132,"../internals/to-integer":133,"../internals/to-length":134}],21:[function(e,U,E){var f=e("../internals/fails"),o=e("../internals/well-known-symbol"),a=e("../internals/engine-v8-version"),d=o("species");U.exports=function(u){return 51<=a||!f(function(){var p=[];return(p.constructor={})[d]=function(){return{foo:1}},1!==p[u](Boolean).foo})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":146}],22:[function(e,U,E){"use strict";var f=e("../internals/fails");U.exports=function(o,a){var d=[][o];return!!d&&f(function(){d.call(null,a||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(e,U,E){function f(s){throw s}var o=e("../internals/descriptors"),a=e("../internals/fails"),d=e("../internals/has"),u=Object.defineProperty,p={};U.exports=function(s,r){var i,c,h,y;return d(p,s)?p[s]:(i=[][s],c=!!d(r=r||{},"ACCESSORS")&&r.ACCESSORS,h=d(r,0)?r[0]:f,y=d(r,1)?r[1]:void 0,p[s]=!!i&&!a(function(){if(c&&!o)return!0;var v={length:-1};c?u(v,1,{enumerable:!0,get:f}):v[1]=1,i.call(v,h,y)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(e,U,E){function f(p){return function(s,r,i,c){o(r);var h=a(s),y=d(h),v=u(h.length),x=p?v-1:0,w=p?-1:1;if(i<2)for(;;){if(x in y){c=y[x],x+=w;break}if(x+=w,p?x<0:v<=x)throw TypeError("Reduce of empty array with no initial value")}for(;p?0<=x:x<v;x+=w)x in y&&(c=r(c,y[x],x,h));return c}}var o=e("../internals/a-function"),a=e("../internals/to-object"),d=e("../internals/indexed-object"),u=e("../internals/to-length");U.exports={left:f(!1),right:f(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],25:[function(e,U,E){var f=e("../internals/is-object"),o=e("../internals/is-array"),a=e("../internals/well-known-symbol")("species");U.exports=function(d,u){var p;return new(void 0===(p=o(d)&&("function"==typeof(p=d.constructor)&&(p===Array||o(p.prototype))||f(p)&&null===(p=p[a]))?void 0:p)?Array:p)(0===u?0:u)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":146}],26:[function(e,U,E){var f=e("../internals/an-object");U.exports=function(o,a,d,u){try{return u?a(f(d)[0],d[1]):a(d)}catch(p){throw void 0!==(u=o.return)&&f(u.call(o)),p}}},{"../internals/an-object":10}],27:[function(e,U,E){var f=e("../internals/well-known-symbol")("iterator"),o=!1;try{var a=0,d={next:function(){return{done:!!a++}},return:function(){o=!0}};d[f]=function(){return this},Array.from(d,function(){throw 2})}catch(u){}U.exports=function(u,p){if(!p&&!o)return!1;var s=!1;try{var r={};r[f]=function(){return{next:function(){return{done:s=!0}}}},u(r)}catch(i){}return s}},{"../internals/well-known-symbol":146}],28:[function(e,U,E){var f={}.toString;U.exports=function(o){return f.call(o).slice(8,-1)}},{}],29:[function(e,U,E){var f=e("../internals/to-string-tag-support"),o=e("../internals/classof-raw"),a=e("../internals/well-known-symbol")("toStringTag"),d="Arguments"==o(function(){return arguments}());U.exports=f?o:function(u){var p;return void 0===u?"Undefined":null===u?"Null":"string"==typeof(p=function(s,r){try{return s[r]}catch(i){}}(u=Object(u),a))?p:d?o(u):"Object"==(p=o(u))&&"function"==typeof u.callee?"Arguments":p}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":139,"../internals/well-known-symbol":146}],30:[function(h,U,E){"use strict";var f=h("../internals/object-define-property").f,o=h("../internals/object-create"),a=h("../internals/redefine-all"),d=h("../internals/function-bind-context"),u=h("../internals/an-instance"),p=h("../internals/iterate"),s=h("../internals/define-iterator"),r=h("../internals/set-species"),i=h("../internals/descriptors"),c=h("../internals/internal-metadata").fastKey,y=(h=h("../internals/internal-state")).set,v=h.getterFor;U.exports={getConstructor:function(x,w,C,N){function M(G,ee,$){var H,Z=B(G),oe=F(G,ee);return oe?oe.value=$:(Z.last=oe={index:H=c(ee,!0),key:ee,value:$,previous:ee=Z.last,next:void 0,removed:!1},Z.first||(Z.first=oe),ee&&(ee.next=oe),i?Z.size++:G.size++,"F"!==H&&(Z.index[H]=oe)),G}function F(H,ee){H=B(H);var $,Z=c(ee);if("F"!==Z)return H.index[Z];for($=H.first;$;$=$.next)if($.key==ee)return $}var j=x(function(G,ee){u(G,j,w),y(G,{type:w,index:o(null),first:void 0,last:void 0,size:0}),i||(G.size=0),null!=ee&&p(ee,G[N],G,C)}),B=v(w);return a(j.prototype,{clear:function(){for(var G=B(this),ee=G.index,$=G.first;$;)$.removed=!0,$.previous&&($.previous=$.previous.next=void 0),delete ee[$.index],$=$.next;G.first=G.last=void 0,i?G.size=0:this.size=0},delete:function(Z){var ee,$,H=B(this);return(Z=F(this,Z))&&(ee=Z.next,$=Z.previous,delete H.index[Z.index],Z.removed=!0,$&&($.next=ee),ee&&(ee.previous=$),H.first==Z&&(H.first=ee),H.last==Z&&(H.last=$),i?H.size--:this.size--),!!Z},forEach:function(G){for(var ee,$=B(this),H=d(G,1<arguments.length?arguments[1]:void 0,3);ee=ee?ee.next:$.first;)for(H(ee.value,ee.key,this);ee&&ee.removed;)ee=ee.previous},has:function(G){return!!F(this,G)}}),a(j.prototype,C?{get:function(G){return(G=F(this,G))&&G.value},set:function(G,ee){return M(this,0===G?0:G,ee)}}:{add:function(G){return M(this,G=0===G?0:G,G)}}),i&&f(j.prototype,"size",{get:function(){return B(this).size}}),j},setStrong:function(x,w,C){var N=w+" Iterator",M=v(w),F=v(N);s(x,w,function(j,B){y(this,{type:N,target:j,state:M(j),kind:B,last:void 0})},function(){for(var j=F(this),B=j.kind,G=j.last;G&&G.removed;)G=G.previous;return j.target&&(j.last=G=G?G.next:j.state.first)?"keys"==B?{value:G.key,done:!1}:"values"==B?{value:G.value,done:!1}:{value:[G.key,G.value],done:!1}:{value:j.target=void 0,done:!0}},C?"entries":"values",!C,!0),r(w)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(y,U,E){"use strict";function f(M){return M.frozen||(M.frozen=new o)}function o(){this.entries=[]}function a(M,F){return w(M.entries,function(j){return j[0]===F})}var d=y("../internals/redefine-all"),u=y("../internals/internal-metadata").getWeakData,p=y("../internals/an-object"),s=y("../internals/is-object"),r=y("../internals/an-instance"),i=y("../internals/iterate"),c=y("../internals/array-iteration"),h=y("../internals/has"),v=(y=y("../internals/internal-state")).set,x=y.getterFor,w=c.find,C=c.findIndex,N=0;o.prototype={get:function(M){if(M=a(this,M))return M[1]},has:function(M){return!!a(this,M)},set:function(M,F){var j=a(this,M);j?j[1]=F:this.entries.push([M,F])},delete:function(M){var F=C(this.entries,function(j){return j[0]===M});return~F&&this.entries.splice(F,1),!!~F}},U.exports={getConstructor:function(M,F,j,B){function G(H,Z,oe){var Q=$(H),te=u(p(Z),!0);return!0===te?f(Q).set(Z,oe):te[Q.id]=oe,H}var ee=M(function(H,Z){r(H,ee,F),v(H,{type:F,id:N++,frozen:void 0}),null!=Z&&i(Z,H[B],H,j)}),$=x(F);return d(ee.prototype,{delete:function(H){var Z,oe=$(this);return!!s(H)&&(!0===(Z=u(H))?f(oe).delete(H):Z&&h(Z,oe.id)&&delete Z[oe.id])},has:function(H){var Z,oe=$(this);return!!s(H)&&(!0===(Z=u(H))?f(oe).has(H):Z&&h(Z,oe.id))}}),d(ee.prototype,j?{get:function(H){var Z,oe=$(this);if(s(H))return!0===(Z=u(H))?f(oe).get(H):Z?Z[oe.id]:void 0},set:function(H,Z){return G(this,H,Z)}}:{add:function(H){return G(this,H,!0)}}),ee}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(e,U,E){"use strict";var f=e("../internals/export"),o=e("../internals/global"),a=e("../internals/is-forced"),d=e("../internals/redefine"),u=e("../internals/internal-metadata"),p=e("../internals/iterate"),s=e("../internals/an-instance"),r=e("../internals/is-object"),i=e("../internals/fails"),c=e("../internals/check-correctness-of-iteration"),h=e("../internals/set-to-string-tag"),y=e("../internals/inherit-if-required");U.exports=function(v,x,w){function C(te){var me=Z[te];d(Z,te,"add"==te?function(ce){return me.call(this,0===ce?0:ce),this}:"delete"==te?function(ce){return!(ee&&!r(ce))&&me.call(this,0===ce?0:ce)}:"get"==te?function(ce){return ee&&!r(ce)?void 0:me.call(this,0===ce?0:ce)}:"has"==te?function(ce){return!(ee&&!r(ce))&&me.call(this,0===ce?0:ce)}:function(ce,he){return me.call(this,0===ce?0:ce,he),this})}var N,M,F,j,B,G=-1!==v.indexOf("Map"),ee=-1!==v.indexOf("Weak"),$=G?"set":"add",H=o[v],Z=H&&H.prototype,oe=H,Q={};return a(v,"function"!=typeof H||!(ee||Z.forEach&&!i(function(){(new H).entries().next()})))?(oe=w.getConstructor(x,v,G,$),u.REQUIRED=!0):a(v,!0)&&(M=(N=new oe)[$](ee?{}:-0,1)!=N,F=i(function(){N.has(1)}),j=c(function(te){new H(te)}),B=!ee&&i(function(){for(var te=new H,me=5;me--;)te[$](me,me);return!te.has(-0)}),j||(((oe=x(function(te,me){return s(te,oe,v),te=y(new H,te,oe),null!=me&&p(me,te[$],te,G),te})).prototype=Z).constructor=oe),(F||B)&&(C("delete"),C("has"),G&&C("get")),(B||M)&&C($),ee&&Z.clear&&delete Z.clear),Q[v]=oe,f({global:!0,forced:oe!=H},Q),h(oe,v),ee||w.setStrong(oe,v,G),oe}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(e,U,E){var f=e("../internals/has"),o=e("../internals/own-keys"),a=e("../internals/object-get-own-property-descriptor"),d=e("../internals/object-define-property");U.exports=function(u,p){for(var s=o(p),r=d.f,i=a.f,c=0;c<s.length;c++){var h=s[c];f(u,h)||r(u,h,i(p,h))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(e,U,E){var f=e("../internals/well-known-symbol")("match");U.exports=function(o){var a=/./;try{"/./"[o](a)}catch(d){try{return a[f]=!1,"/./"[o](a)}catch(u){}}return!1}},{"../internals/well-known-symbol":146}],35:[function(e,U,E){e=e("../internals/fails"),U.exports=!e(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},{"../internals/fails":51}],36:[function(e,U,E){var f=e("../internals/require-object-coercible"),o=/"/g;U.exports=function(s,d,u,p){s=String(f(s));var r="<"+d;return""!==u&&(r+=" "+u+'="'+String(p).replace(o,"&quot;")+'"'),r+">"+s+"</"+d+">"}},{"../internals/require-object-coercible":113}],37:[function(e,U,E){"use strict";function f(){return this}var o=e("../internals/iterators-core").IteratorPrototype,a=e("../internals/object-create"),d=e("../internals/create-property-descriptor"),u=e("../internals/set-to-string-tag"),p=e("../internals/iterators");U.exports=function(s,r,i){return r+=" Iterator",s.prototype=a(o,{next:d(1,i)}),u(s,r,!1,!0),p[r]=f,s}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(e,U,E){var f=e("../internals/descriptors"),o=e("../internals/object-define-property"),a=e("../internals/create-property-descriptor");U.exports=f?function(d,u,p){return o.f(d,u,a(1,p))}:function(d,u,p){return d[u]=p,d}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(e,U,E){U.exports=function(f,o){return{enumerable:!(1&f),configurable:!(2&f),writable:!(4&f),value:o}}},{}],40:[function(e,U,E){"use strict";var f=e("../internals/to-primitive"),o=e("../internals/object-define-property"),a=e("../internals/create-property-descriptor");U.exports=function(d,u,p){(u=f(u))in d?o.f(d,u,a(0,p)):d[u]=p}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":138}],41:[function(y,U,E){"use strict";function f(){return this}var o=y("../internals/export"),a=y("../internals/create-iterator-constructor"),d=y("../internals/object-get-prototype-of"),u=y("../internals/object-set-prototype-of"),p=y("../internals/set-to-string-tag"),s=y("../internals/create-non-enumerable-property"),r=y("../internals/redefine"),i=y("../internals/well-known-symbol"),c=y("../internals/is-pure"),h=y("../internals/iterators"),v=(y=y("../internals/iterators-core")).IteratorPrototype,x=y.BUGGY_SAFARI_ITERATORS,w=i("iterator"),C="values",N="entries";U.exports=function(M,F,j,Q,G,ee,$){function H(A){if(A===G&&he)return he;if(!x&&A in me)return me[A];switch(A){case"keys":case C:case N:return function(){return new j(this,A)}}return function(){return new j(this)}}a(j,F,Q),Q=F+" Iterator";var Z,oe,te=!1,me=M.prototype,ce=me[w]||me["@@iterator"]||G&&me[G],he=!x&&ce||H(G),Ae="Array"==F&&me.entries||ce;if(Ae&&(Ae=d(Ae.call(new M)),v!==Object.prototype&&Ae.next&&(c||d(Ae)===v||(u?u(Ae,v):"function"!=typeof Ae[w]&&s(Ae,w,f)),p(Ae,Q,!0,!0),c&&(h[Q]=f))),G==C&&ce&&ce.name!==C&&(te=!0,he=function(){return ce.call(this)}),c&&!$||me[w]===he||s(me,w,he),h[F]=he,G)if(Z={values:H(C),keys:ee?he:H("keys"),entries:H(N)},$)for(oe in Z)!x&&!te&&oe in me||r(me,oe,Z[oe]);else o({target:F,proto:!0,forced:x||te},Z);return Z}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146}],42:[function(e,U,E){var f=e("../internals/path"),o=e("../internals/has"),a=e("../internals/well-known-symbol-wrapped"),d=e("../internals/object-define-property").f;U.exports=function(u){var p=f.Symbol||(f.Symbol={});o(p,u)||d(p,u,{value:a.f(u)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":145}],43:[function(e,U,E){e=e("../internals/fails"),U.exports=!e(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":51}],44:[function(o,U,E){var f=o("../internals/global"),a=(o=o("../internals/is-object"),f.document),d=o(a)&&o(a.createElement);U.exports=function(u){return d?a.createElement(u):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(e,U,E){U.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(e,U,E){e=e("../internals/engine-user-agent"),U.exports=/(iphone|ipod|ipad).*applewebkit/i.test(e)},{"../internals/engine-user-agent":47}],47:[function(e,U,E){e=e("../internals/get-built-in"),U.exports=e("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(a,U,E){var f,o,d=a("../internals/global");a=a("../internals/engine-user-agent"),(d=(d=(d=d.process)&&d.versions)&&d.v8)?o=(f=d.split("."))[0]+f[1]:a&&(!(f=a.match(/Edge\/(\d+)/))||74<=f[1])&&(f=a.match(/Chrome\/(\d+)/))&&(o=f[1]),U.exports=o&&+o},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(e,U,E){U.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(e,U,E){var f=e("../internals/global"),o=e("../internals/object-get-own-property-descriptor").f,a=e("../internals/create-non-enumerable-property"),d=e("../internals/redefine"),u=e("../internals/set-global"),p=e("../internals/copy-constructor-properties"),s=e("../internals/is-forced");U.exports=function(r,i){var c,h,y,v=r.target,x=r.global,w=r.stat,C=x?f:w?f[v]||u(v,{}):(f[v]||{}).prototype;if(C)for(c in i){if(h=i[c],y=r.noTargetGet?(y=o(C,c))&&y.value:C[c],!s(x?c:v+(w?".":"#")+c,r.forced)&&void 0!==y){if(typeof h==typeof y)continue;p(h,y)}(r.sham||y&&y.sham)&&a(h,"sham",!0),d(C,c,h,r)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(e,U,E){U.exports=function(f){try{return!!f()}catch(o){return!0}}},{}],52:[function(i,U,E){"use strict";i("../modules/es.regexp.exec");var f=i("../internals/redefine"),o=i("../internals/fails"),a=i("../internals/well-known-symbol"),d=i("../internals/regexp-exec"),u=i("../internals/create-non-enumerable-property"),p=a("species"),s=!o(function(){var y=/./;return y.exec=function(){var v=[];return v.groups={a:"7"},v},"7"!=="".replace(y,"$<a>")}),r="$0"==="a".replace(/./,"$0"),c=!!/./[i=a("replace")]&&""===/./[i]("a","$0"),h=!o(function(){var y=(v=/(?:)/).exec,v=(v.exec=function(){return y.apply(this,arguments)},"ab".split(v));return 2!==v.length||"a"!==v[0]||"b"!==v[1]});U.exports=function(y,v,x,w){var C,N,M=a(y),F=!o(function(){var B={};return B[M]=function(){return 7},7!=""[y](B)}),j=F&&!o(function(){var B=!1,G=/a/;return"split"===y&&((G={constructor:{}}).constructor[p]=function(){return G},G.flags="",G[M]=/./[M]),G.exec=function(){return B=!0,null},G[M](""),!B});F&&j&&("replace"!==y||s&&r&&!c)&&("split"!==y||h)||(C=/./[M],x=(j=x(M,""[y],function(B,G,ee,$,H){return G.exec===d?F&&!H?{done:!0,value:C.call(G,ee,$)}:{done:!0,value:B.call(ee,G,$)}:{done:!1}},{REPLACE_KEEPS_$0:r,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:c}))[0],N=j[1],f(String.prototype,y,x),f(RegExp.prototype,M,2==v?function(B,G){return N.call(B,this,G)}:function(B){return N.call(B,this)})),w&&u(RegExp.prototype[M],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":146,"../modules/es.regexp.exec":181}],53:[function(e,U,E){e=e("../internals/fails"),U.exports=!e(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(e,U,E){var f=e("../internals/a-function");U.exports=function(o,a,d){if(f(o),void 0===a)return o;switch(d){case 0:return function(){return o.call(a)};case 1:return function(u){return o.call(a,u)};case 2:return function(u,p){return o.call(a,u,p)};case 3:return function(u,p,s){return o.call(a,u,p,s)}}return function(){return o.apply(a,arguments)}}},{"../internals/a-function":5}],55:[function(e,U,E){"use strict";var f=e("../internals/a-function"),o=e("../internals/is-object"),a=[].slice,d={};U.exports=Function.bind||function(u){var p=f(this),s=a.call(arguments,1),r=function(){var i=s.concat(a.call(arguments));if(this instanceof r){var c=p,h=i.length,y=i;if(!(h in d)){for(var v=[],x=0;x<h;x++)v[x]="a["+x+"]";d[h]=Function("C,a","return new C("+v.join(",")+")")}return d[h](c,y)}return p.apply(u,i)};return o(p.prototype)&&(r.prototype=p.prototype),r}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(e,U,E){function f(d){return"function"==typeof d?d:void 0}var o=e("../internals/path"),a=e("../internals/global");U.exports=function(d,u){return arguments.length<2?f(o[d])||f(a[d]):o[d]&&o[d][u]||a[d]&&a[d][u]}},{"../internals/global":59,"../internals/path":104}],57:[function(e,U,E){var f=e("../internals/classof"),o=e("../internals/iterators"),a=e("../internals/well-known-symbol")("iterator");U.exports=function(d){if(null!=d)return d[a]||d["@@iterator"]||o[f(d)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":146}],58:[function(e,U,E){var f=e("../internals/an-object"),o=e("../internals/get-iterator-method");U.exports=function(a){var d=o(a);if("function"!=typeof d)throw TypeError(String(a)+" is not iterable");return f(d.call(a))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(e,U,E){(function(f){function o(a){return a&&a.Math==Math&&a}U.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof f&&f)||Function("return this")()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],60:[function(e,U,E){var f={}.hasOwnProperty;U.exports=function(o,a){return f.call(o,a)}},{}],61:[function(e,U,E){U.exports={}},{}],62:[function(e,U,E){var f=e("../internals/global");U.exports=function(o,a){var d=f.console;d&&d.error&&(1===arguments.length?d.error(o):d.error(o,a))}},{"../internals/global":59}],63:[function(e,U,E){e=e("../internals/get-built-in"),U.exports=e("document","documentElement")},{"../internals/get-built-in":56}],64:[function(e,U,E){var f=e("../internals/descriptors"),o=e("../internals/fails"),a=e("../internals/document-create-element");U.exports=!f&&!o(function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(e,U,E){var f=Math.abs,o=Math.pow,a=Math.floor,d=Math.log,u=Math.LN2;U.exports={pack:function(p,s,x){var i,c,h,y=new Array(x),v=8*x-s-1,w=(x=(1<<v)-1)>>1,C=23===s?o(2,-24)-o(2,-77):0,N=p<0||0===p&&1/p<0?1:0,M=0;for((p=f(p))!=p||p===1/0?(c=p!=p?1:0,i=x):(i=a(d(p)/u),p*(h=o(2,-i))<1&&(i--,h*=2),2<=(p+=1<=i+w?C/h:C*o(2,1-w))*h&&(i++,h/=2),x<=i+w?(c=0,i=x):1<=i+w?(c=(p*h-1)*o(2,s),i+=w):(c=p*o(2,w-1)*o(2,s),i=0));8<=s;y[M++]=255&c,c/=256,s-=8);for(i=i<<s|c,v+=s;0<v;y[M++]=255&i,i/=256,v-=8);return y[--M]|=128*N,y},unpack:function(p,s){var r,x,i=p.length,c=(1<<(x=8*i-s-1))-1,h=c>>1,y=x-7,v=i-1,w=127&(x=p[v--]);for(x>>=7;0<y;w=256*w+p[v],v--,y-=8);for(r=w&(1<<-y)-1,w>>=-y,y+=s;0<y;r=256*r+p[v],v--,y-=8);if(0===w)w=1-h;else{if(w===c)return r?NaN:x?-1/0:1/0;r+=o(2,s),w-=h}return(x?-1:1)*r*o(2,w-s)}}},{}],66:[function(e,U,E){var f=e("../internals/fails"),o=e("../internals/classof-raw"),a="".split;U.exports=f(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return"String"==o(d)?a.call(d,""):Object(d)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(e,U,E){var f=e("../internals/is-object"),o=e("../internals/object-set-prototype-of");U.exports=function(a,d,u){return o&&"function"==typeof(d=d.constructor)&&d!==u&&f(d=d.prototype)&&d!==u.prototype&&o(a,d),a}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(f,U,E){f=f("../internals/shared-store");var o=Function.toString;"function"!=typeof f.inspectSource&&(f.inspectSource=function(a){return o.call(a)}),U.exports=f.inspectSource},{"../internals/shared-store":119}],69:[function(e,U,E){function f(y){u(y,r,{value:{objectID:"O"+ ++i,weakData:{}}})}var o=e("../internals/hidden-keys"),a=e("../internals/is-object"),d=e("../internals/has"),u=e("../internals/object-define-property").f,p=e("../internals/uid"),s=e("../internals/freezing"),r=p("meta"),i=0,c=Object.isExtensible||function(){return!0},h=U.exports={REQUIRED:!1,fastKey:function(y,v){if(!a(y))return"symbol"==typeof y?y:("string"==typeof y?"S":"P")+y;if(!d(y,r)){if(!c(y))return"F";if(!v)return"E";f(y)}return y[r].objectID},getWeakData:function(y,v){if(!d(y,r)){if(!c(y))return!0;if(!v)return!1;f(y)}return y[r].weakData},onFreeze:function(y){return s&&h.REQUIRED&&c(y)&&!d(y,r)&&f(y),y}};o[r]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":143}],70:[function(x,U,E){var f,o,a,d,u,p,s,r,i=x("../internals/native-weak-map"),w=x("../internals/global"),c=x("../internals/is-object"),h=x("../internals/create-non-enumerable-property"),y=x("../internals/has"),v=x("../internals/shared-key");x=x("../internals/hidden-keys"),w=w.WeakMap,s=i?(f=new w,o=f.get,a=f.has,d=f.set,u=function(C,N){return d.call(f,C,N),N},p=function(C){return o.call(f,C)||{}},function(C){return a.call(f,C)}):(x[r=v("state")]=!0,u=function(C,N){return h(C,r,N),N},p=function(C){return y(C,r)?C[r]:{}},function(C){return y(C,r)}),U.exports={set:u,get:p,has:s,enforce:function(C){return s(C)?p(C):u(C,{})},getterFor:function(C){return function(N){if(c(N)&&(N=p(N)).type===C)return N;throw TypeError("Incompatible receiver, "+C+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(e,U,E){var f=e("../internals/well-known-symbol"),o=e("../internals/iterators"),a=f("iterator"),d=Array.prototype;U.exports=function(u){return void 0!==u&&(o.Array===u||d[a]===u)}},{"../internals/iterators":79,"../internals/well-known-symbol":146}],72:[function(e,U,E){var f=e("../internals/classof-raw");U.exports=Array.isArray||function(o){return"Array"==f(o)}},{"../internals/classof-raw":28}],73:[function(e,U,E){function f(r,i){return(r=u[d(r)])==s||r!=p&&("function"==typeof i?o(i):!!i)}var o=e("../internals/fails"),a=/#|\.prototype\./,d=f.normalize=function(r){return String(r).replace(a,".").toLowerCase()},u=f.data={},p=f.NATIVE="N",s=f.POLYFILL="P";U.exports=f},{"../internals/fails":51}],74:[function(e,U,E){U.exports=function(f){return"object"==typeof f?null!==f:"function"==typeof f}},{}],75:[function(e,U,E){U.exports=!1},{}],76:[function(e,U,E){var f=e("../internals/is-object"),o=e("../internals/classof-raw"),a=e("../internals/well-known-symbol")("match");U.exports=function(d){var u;return f(d)&&(void 0!==(u=d[a])?!!u:"RegExp"==o(d))}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":146}],77:[function(e,U,E){function f(r,i){this.stopped=r,this.result=i}var o=e("../internals/an-object"),a=e("../internals/is-array-iterator-method"),d=e("../internals/to-length"),u=e("../internals/function-bind-context"),p=e("../internals/get-iterator-method"),s=e("../internals/call-with-safe-iteration-closing");(U.exports=function(r,i,c,h,y){var v,x,w,C,N,M,F=u(i,c,h?2:1);if(y)v=r;else{if("function"!=typeof(i=p(r)))throw TypeError("Target is not iterable");if(a(i)){for(x=0,w=d(r.length);x<w;x++)if((C=h?F(o(M=r[x])[0],M[1]):F(r[x]))&&C instanceof f)return C;return new f(!1)}v=i.call(r)}for(N=v.next;!(M=N.call(v)).done;)if("object"==typeof(C=s(v,F,M.value,h))&&C&&C instanceof f)return C;return new f(!1)}).stop=function(r){return new f(!0,r)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134}],78:[function(p,U,E){"use strict";var f,o,a=p("../internals/object-get-prototype-of"),d=p("../internals/create-non-enumerable-property"),u=p("../internals/has"),s=p("../internals/well-known-symbol"),r=(p=p("../internals/is-pure"),s=s("iterator"),!1);[].keys&&("next"in(o=[].keys())?(a=a(a(o)))!==Object.prototype&&(f=a):r=!0),null==f&&(f={}),p||u(f,s)||d(f,s,function(){return this}),U.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:r}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":146}],79:[function(e,U,E){U.exports={}},{}],80:[function(e,U,E){U.exports=Math.sign||function(f){return 0==(f=+f)||f!=f?f:f<0?-1:1}},{}],81:[function(h,U,E){var f,o,a,d,u,p,s,r,i=h("../internals/global"),N=h("../internals/object-get-own-property-descriptor").f,C=h("../internals/classof-raw"),c=h("../internals/task").set,y=(h=h("../internals/engine-is-ios"),i.MutationObserver||i.WebKitMutationObserver),v=i.process,x=i.Promise,w="process"==C(v);C=N(i,"queueMicrotask"),(N=C&&C.value)||(f=function(){var M,F;for(w&&(M=v.domain)&&M.exit();o;){F=o.fn,o=o.next;try{F()}catch(j){throw o?d():a=void 0,j}}a=void 0,M&&M.enter()},d=w?function(){v.nextTick(f)}:y&&!h?(u=!0,p=document.createTextNode(""),new y(f).observe(p,{characterData:!0}),function(){p.data=u=!u}):x&&x.resolve?(s=x.resolve(void 0),r=s.then,function(){r.call(s,f)}):function(){c.call(i,f)}),U.exports=N||function(M){M={fn:M,next:void 0},a&&(a.next=M),o||(o=M,d()),a=M}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":128}],82:[function(e,U,E){e=e("../internals/global"),U.exports=e.Promise},{"../internals/global":59}],83:[function(e,U,E){e=e("../internals/fails"),U.exports=!!Object.getOwnPropertySymbols&&!e(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(e,U,E){var f=e("../internals/fails"),o=e("../internals/well-known-symbol"),a=e("../internals/is-pure"),d=o("iterator");U.exports=!f(function(){var u=new URL("b?a=1&b=2&c=3","http://a"),p=u.searchParams,s="";return u.pathname="c%20d",p.forEach(function(r,i){p.delete("b"),s+=i+r}),a&&!u.toJSON||!p.sort||"http://a/c%20d?a=1&c=3"!==u.href||"3"!==p.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!p[d]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==s||"x"!==new URL("http://x",void 0).host})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":146}],85:[function(f,U,E){var o=f("../internals/global");f=f("../internals/inspect-source"),U.exports="function"==typeof(o=o.WeakMap)&&/native code/.test(f(o))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(e,U,E){"use strict";function f(a){var d,u;this.promise=new a(function(p,s){if(void 0!==d||void 0!==u)throw TypeError("Bad Promise constructor");d=p,u=s}),this.resolve=o(d),this.reject=o(u)}var o=e("../internals/a-function");U.exports.f=function(a){return new f(a)}},{"../internals/a-function":5}],87:[function(e,U,E){var f=e("../internals/is-regexp");U.exports=function(o){if(f(o))throw TypeError("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":76}],88:[function(e,U,E){var f=e("../internals/global").isFinite;U.exports=Number.isFinite||function(o){return"number"==typeof o&&f(o)}},{"../internals/global":59}],89:[function(e,U,E){"use strict";var f=e("../internals/descriptors"),o=e("../internals/fails"),a=e("../internals/object-keys"),d=e("../internals/object-get-own-property-symbols"),u=e("../internals/object-property-is-enumerable"),p=e("../internals/to-object"),s=e("../internals/indexed-object"),r=Object.assign,i=Object.defineProperty;U.exports=!r||o(function(){var c,h,y,v;return!(!f||1===r({b:1},r(i({},"a",{enumerable:!0,get:function(){i(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(h={},v="abcdefghijklmnopqrst",(c={})[y=Symbol()]=7,v.split("").forEach(function(x){h[x]=x}),7!=r({},c)[y]||a(r({},h)).join("")!=v)})?function(c,h){for(var y=p(c),v=arguments.length,x=1,w=d.f,C=u.f;x<v;)for(var N,M=s(arguments[x++]),F=w?a(M).concat(w(M)):a(M),j=F.length,B=0;B<j;)N=F[B++],f&&!C.call(M,N)||(y[N]=M[N]);return y}:r},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":135}],90:[function(i,U,E){function f(){}var o,a=i("../internals/an-object"),d=i("../internals/object-define-properties"),u=i("../internals/enum-bug-keys"),p=i("../internals/hidden-keys"),s=i("../internals/html"),r=i("../internals/document-create-element"),c=(i=i("../internals/shared-key"),"prototype"),h="script",y=i("IE_PROTO"),v=function(w){return"<"+h+">"+w+"</"+h+">"},x=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(M){}x=o?((w=o).write(v("")),w.close(),C=w.parentWindow.Object,w=null,C):(w=r("iframe"),C="java"+h+":",w.style.display="none",s.appendChild(w),w.src=String(C),(C=w.contentWindow.document).open(),C.write(v("document.F=Object")),C.close(),C.F);for(var w,C,N=u.length;N--;)delete x[c][u[N]];return x()};p[y]=!0,U.exports=Object.create||function(w,C){var N;return null!==w?(f[c]=a(w),N=new f,f[c]=null,N[y]=w):N=x(),void 0===C?N:d(N,C)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(e,U,E){var f=e("../internals/descriptors"),o=e("../internals/object-define-property"),a=e("../internals/an-object"),d=e("../internals/object-keys");U.exports=f?Object.defineProperties:function(u,p){a(u);for(var s,r=d(p),i=r.length,c=0;c<i;)o.f(u,s=r[c++],p[s]);return u}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(e,U,E){var f=e("../internals/descriptors"),o=e("../internals/ie8-dom-define"),a=e("../internals/an-object"),d=e("../internals/to-primitive"),u=Object.defineProperty;E.f=f?u:function(p,s,r){if(a(p),s=d(s,!0),a(r),o)try{return u(p,s,r)}catch(i){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(p[s]=r.value),p}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":138}],93:[function(e,U,E){var f=e("../internals/descriptors"),o=e("../internals/object-property-is-enumerable"),a=e("../internals/create-property-descriptor"),d=e("../internals/to-indexed-object"),u=e("../internals/to-primitive"),p=e("../internals/has"),s=e("../internals/ie8-dom-define"),r=Object.getOwnPropertyDescriptor;E.f=f?r:function(i,c){if(i=d(i),c=u(c,!0),s)try{return r(i,c)}catch(h){}if(p(i,c))return a(!o.f.call(i,c),i[c])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":132,"../internals/to-primitive":138}],94:[function(e,U,E){var f=e("../internals/to-indexed-object"),o=e("../internals/object-get-own-property-names").f,a={}.toString,d="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];U.exports.f=function(u){if(!d||"[object Window]"!=a.call(u))return o(f(u));try{return o(u)}catch(p){return d.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":132}],95:[function(e,U,E){var f=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys").concat("length","prototype");E.f=Object.getOwnPropertyNames||function(a){return f(a,o)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(e,U,E){E.f=Object.getOwnPropertySymbols},{}],97:[function(d,U,E){var f=d("../internals/has"),o=d("../internals/to-object"),a=d("../internals/shared-key"),u=(d=d("../internals/correct-prototype-getter"),a("IE_PROTO")),p=Object.prototype;U.exports=d?Object.getPrototypeOf:function(s){return s=o(s),f(s,u)?s[u]:"function"==typeof s.constructor&&s instanceof s.constructor?s.constructor.prototype:s instanceof Object?p:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":135}],98:[function(e,U,E){var f=e("../internals/has"),o=e("../internals/to-indexed-object"),a=e("../internals/array-includes").indexOf,d=e("../internals/hidden-keys");U.exports=function(u,p){var s,r=o(u),i=0,c=[];for(s in r)!f(d,s)&&f(r,s)&&c.push(s);for(;p.length>i;)!f(r,s=p[i++])||~a(c,s)||c.push(s);return c}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":132}],99:[function(e,U,E){var f=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys");U.exports=Object.keys||function(a){return f(a,o)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(e,U,E){"use strict";var f={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,a=o&&!f.call({1:2},1);E.f=a?function(d){return!!(d=o(this,d))&&d.enumerable}:f},{}],101:[function(e,U,E){var f=e("../internals/an-object"),o=e("../internals/a-possible-prototype");U.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var a,d=!1,u={};try{(a=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(u,[]),d=u instanceof Array}catch(p){}return function(p,s){return f(p),o(s),d?a.call(p,s):p.__proto__=s,p}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(e,U,E){"use strict";var f=e("../internals/to-string-tag-support"),o=e("../internals/classof");U.exports=f?{}.toString:function(){return"[object "+o(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":139}],103:[function(e,U,E){var f=e("../internals/get-built-in"),o=e("../internals/object-get-own-property-names"),a=e("../internals/object-get-own-property-symbols"),d=e("../internals/an-object");U.exports=f("Reflect","ownKeys")||function(u){var p=o.f(d(u)),s=a.f;return s?p.concat(s(u)):p}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(e,U,E){e=e("../internals/global"),U.exports=e},{"../internals/global":59}],105:[function(e,U,E){U.exports=function(f){try{return{error:!1,value:f()}}catch(o){return{error:!0,value:o}}}},{}],106:[function(e,U,E){var f=e("../internals/an-object"),o=e("../internals/is-object"),a=e("../internals/new-promise-capability");U.exports=function(d,u){return f(d),o(u)&&u.constructor===d?u:((0,(d=a.f(d)).resolve)(u),d.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(e,U,E){var f=e("../internals/redefine");U.exports=function(o,a,d){for(var u in a)f(o,u,a[u],d);return o}},{"../internals/redefine":108}],108:[function(p,U,E){var f=p("../internals/global"),o=p("../internals/create-non-enumerable-property"),a=p("../internals/has"),d=p("../internals/set-global"),u=p("../internals/inspect-source"),s=(p=p("../internals/internal-state")).get,r=p.enforce,i=String(String).split("String");(U.exports=function(c,h,y,C){var x=!!C&&!!C.unsafe,w=!!C&&!!C.enumerable;C=!!C&&!!C.noTargetGet,"function"==typeof y&&("string"!=typeof h||a(y,"name")||o(y,"name",h),r(y).source=i.join("string"==typeof h?h:"")),c===f?w?c[h]=y:d(h,y):(x?!C&&c[h]&&(w=!0):delete c[h],w?c[h]=y:o(c,h,y))})(Function.prototype,"toString",function(){return"function"==typeof this&&s(this).source||u(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(e,U,E){var f=e("./classof-raw"),o=e("./regexp-exec");U.exports=function(a,d){var u=a.exec;if("function"==typeof u){if("object"!=typeof(u=u.call(a,d)))throw TypeError("RegExp exec method returned something other than an Object or null");return u}if("RegExp"!==f(a))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(a,d)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(d,U,E){"use strict";var f,o,a=d("./regexp-flags"),u=(d=d("./regexp-sticky-helpers"),RegExp.prototype.exec),p=String.prototype.replace,s=u,r=(o=/b*/g,u.call(f=/a/,"a"),u.call(o,"a"),0!==f.lastIndex||0!==o.lastIndex),i=d.UNSUPPORTED_Y||d.BROKEN_CARET,c=void 0!==/()??/.exec("")[1];U.exports=s=r||c||i?function(h){var y,v,x,w,C=this,N=i&&C.sticky,M=a.call(C),F=C.source,j=0,B=h;return N&&(-1===(M=M.replace("y","")).indexOf("g")&&(M+="g"),B=String(h).slice(C.lastIndex),0<C.lastIndex&&(!C.multiline||C.multiline&&"\n"!==h[C.lastIndex-1])&&(F="(?: "+F+")",B=" "+B,j++),v=new RegExp("^(?:"+F+")",M)),c&&(v=new RegExp("^"+F+"$(?!\\s)",M)),r&&(y=C.lastIndex),x=u.call(N?v:C,B),N?x?(x.input=x.input.slice(j),x[0]=x[0].slice(j),x.index=C.lastIndex,C.lastIndex+=x[0].length):C.lastIndex=0:r&&x&&(C.lastIndex=C.global?x.index+x[0].length:y),c&&x&&1<x.length&&p.call(x[0],v,function(){for(w=1;w<arguments.length-2;w++)void 0===arguments[w]&&(x[w]=void 0)}),x}:s},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(e,U,E){"use strict";var f=e("../internals/an-object");U.exports=function(){var o=f(this),a="";return o.global&&(a+="g"),o.ignoreCase&&(a+="i"),o.multiline&&(a+="m"),o.dotAll&&(a+="s"),o.unicode&&(a+="u"),o.sticky&&(a+="y"),a}},{"../internals/an-object":10}],112:[function(e,U,E){"use strict";function f(o,a){return RegExp(o,a)}e=e("./fails"),E.UNSUPPORTED_Y=e(function(){var o=f("a","y");return o.lastIndex=2,null!=o.exec("abcd")}),E.BROKEN_CARET=e(function(){var o=f("^r","gy");return o.lastIndex=2,null!=o.exec("str")})},{"./fails":51}],113:[function(e,U,E){U.exports=function(f){if(null==f)throw TypeError("Can't call method on "+f);return f}},{}],114:[function(e,U,E){U.exports=Object.is||function(f,o){return f===o?0!==f||1/f==1/o:f!=f&&o!=o}},{}],115:[function(e,U,E){var f=e("../internals/global"),o=e("../internals/create-non-enumerable-property");U.exports=function(a,d){try{o(f,a,d)}catch(u){f[a]=d}return d}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(e,U,E){"use strict";var f=e("../internals/get-built-in"),o=e("../internals/object-define-property"),a=e("../internals/well-known-symbol"),d=e("../internals/descriptors"),u=a("species");U.exports=function(s){s=f(s),d&&s&&!s[u]&&(0,o.f)(s,u,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],117:[function(e,U,E){var f=e("../internals/object-define-property").f,o=e("../internals/has"),a=e("../internals/well-known-symbol")("toStringTag");U.exports=function(d,u,p){d&&!o(d=p?d:d.prototype,a)&&f(d,a,{configurable:!0,value:u})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],118:[function(e,U,E){var f=e("../internals/shared"),o=e("../internals/uid"),a=f("keys");U.exports=function(d){return a[d]||(a[d]=o(d))}},{"../internals/shared":120,"../internals/uid":143}],119:[function(f,U,E){var a=f("../internals/global"),o=(f=f("../internals/set-global"),"__core-js_shared__");a=a[o]||f(o,{}),U.exports=a},{"../internals/global":59,"../internals/set-global":115}],120:[function(e,U,E){var f=e("../internals/is-pure"),o=e("../internals/shared-store");(U.exports=function(a,d){return o[a]||(o[a]=void 0!==d?d:{})})("versions",[]).push({version:"3.6.5",mode:f?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(e,U,E){var f=e("../internals/an-object"),o=e("../internals/a-function"),a=e("../internals/well-known-symbol")("species");U.exports=function(p,u){return void 0===(p=f(p).constructor)||null==(p=f(p)[a])?u:o(p)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":146}],122:[function(e,U,E){var f=e("../internals/fails");U.exports=function(o){return f(function(){var a=""[o]('"');return a!==a.toLowerCase()||3<a.split('"').length})}},{"../internals/fails":51}],123:[function(e,U,E){function f(d){return function(r,i){r=String(a(r)),i=o(i);var s,c=r.length;return i<0||c<=i?d?"":void 0:(s=r.charCodeAt(i))<55296||56319<s||i+1===c||(c=r.charCodeAt(i+1))<56320||57343<c?d?r.charAt(i):s:d?r.slice(i,i+2):c-56320+(s-55296<<10)+65536}}var o=e("../internals/to-integer"),a=e("../internals/require-object-coercible");U.exports={codeAt:f(!1),charAt:f(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],124:[function(e,U,E){"use strict";function f(x){return x+22+75*(x<26)}function o(x){var w,C=[],N=(x=function(ce){for(var he=[],Ae=0,A=ce.length;Ae<A;){var q,K=ce.charCodeAt(Ae++);55296<=K&&K<=56319&&Ae<A?56320==(64512&(q=ce.charCodeAt(Ae++)))?he.push(((1023&K)<<10)+(1023&q)+65536):(he.push(K),Ae--):he.push(K)}return he}(x)).length,M=128,F=0,j=72;for($=0;$<x.length;$++)(w=x[$])<128&&C.push(v(w));var B=C.length,G=B;for(B&&C.push("-");G<N;){for(var ee=a,$=0;$<x.length;$++)M<=(w=x[$])&&w<ee&&(ee=w);var H=G+1;if(ee-M>y((a-F)/H))throw RangeError(c);for(F+=(ee-M)*H,M=ee,$=0;$<x.length;$++){if((w=x[$])<M&&++F>a)throw RangeError(c);if(w==M){for(var Z=F,oe=d;;oe+=d){var Q=oe<=j?1:j+u<=oe?u:oe-j;if(Z<Q)break;var te=Z-Q,me=d-Q;C.push(v(f(Q+te%me))),Z=y(te/me)}C.push(v(f(Z))),j=function(ce,he,Ae){var A=0;for(ce=Ae?y(ce/s):ce>>1,ce+=y(ce/he);h*u>>1<ce;A+=d)ce=y(ce/h);return y(A+(h+1)*ce/(ce+p))}(F,H,G==B),F=0,++G}}++F,++M}return C.join("")}var a=2147483647,d=36,u=26,p=38,s=700,r=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,c="Overflow: input needs wider integers to process",h=d-1,y=Math.floor,v=String.fromCharCode;U.exports=function(x){for(var w,C=[],N=x.toLowerCase().replace(i,".").split("."),M=0;M<N.length;M++)C.push(r.test(w=N[M])?"xn--"+o(w):w);return C.join(".")}},{}],125:[function(e,U,E){"use strict";var f=e("../internals/to-integer"),o=e("../internals/require-object-coercible");U.exports="".repeat||function(a){var d=String(o(this)),u="",p=f(a);if(p<0||p==1/0)throw RangeError("Wrong number of repetitions");for(;0<p;(p>>>=1)&&(d+=d))1&p&&(u+=d);return u}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],126:[function(e,U,E){var f=e("../internals/fails"),o=e("../internals/whitespaces");U.exports=function(a){return f(function(){return!!o[a]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[a]()||o[a].name!==a})}},{"../internals/fails":51,"../internals/whitespaces":147}],127:[function(a,U,E){function f(p){return function(s){return s=String(o(s)),1&p&&(s=s.replace(d,"")),2&p?s.replace(u,""):s}}var o=a("../internals/require-object-coercible"),d=(a="["+a("../internals/whitespaces")+"]",RegExp("^"+a+a+"*")),u=RegExp(a+a+"*$");U.exports={start:f(1),end:f(2),trim:f(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":147}],128:[function(h,U,E){function f(G){return function(){B(G)}}function o(G){B(G.data)}function a(G){u.postMessage(G+"",y.protocol+"//"+y.host)}var d,u=h("../internals/global"),p=h("../internals/fails"),s=h("../internals/classof-raw"),r=h("../internals/function-bind-context"),i=h("../internals/html"),c=h("../internals/document-create-element"),y=(h=h("../internals/engine-is-ios"),u.location),v=u.setImmediate,x=u.clearImmediate,w=u.process,C=u.MessageChannel,N=u.Dispatch,M=0,F={},j="onreadystatechange",B=function(G){var ee;F.hasOwnProperty(G)&&(ee=F[G],delete F[G],ee())};v&&x||(v=function(G){for(var ee=[],$=1;$<arguments.length;)ee.push(arguments[$++]);return F[++M]=function(){("function"==typeof G?G:Function(G)).apply(void 0,ee)},d(M),M},x=function(G){delete F[G]},"process"==s(w)?d=function(G){w.nextTick(f(G))}:N&&N.now?d=function(G){N.now(f(G))}:C&&!h?(h=(s=new C).port2,s.port1.onmessage=o,d=r(h.postMessage,h,1)):!u.addEventListener||"function"!=typeof postMessage||u.importScripts||p(a)||"file:"===y.protocol?d=j in c("script")?function(G){i.appendChild(c("script"))[j]=function(){i.removeChild(this),B(G)}}:function(G){setTimeout(f(G),0)}:(d=a,u.addEventListener("message",o,!1))),U.exports={set:v,clear:x}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],129:[function(e,U,E){var f=e("../internals/classof-raw");U.exports=function(o){if("number"!=typeof o&&"Number"!=f(o))throw TypeError("Incorrect invocation");return+o}},{"../internals/classof-raw":28}],130:[function(e,U,E){var f=e("../internals/to-integer"),o=Math.max,a=Math.min;U.exports=function(d,u){return(d=f(d))<0?o(d+u,0):a(d,u)}},{"../internals/to-integer":133}],131:[function(e,U,E){var f=e("../internals/to-integer"),o=e("../internals/to-length");U.exports=function(d){if(void 0===d)return 0;d=f(d);var u=o(d);if(d!==u)throw RangeError("Wrong length or index");return u}},{"../internals/to-integer":133,"../internals/to-length":134}],132:[function(e,U,E){var f=e("../internals/indexed-object"),o=e("../internals/require-object-coercible");U.exports=function(a){return f(o(a))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],133:[function(e,U,E){var f=Math.ceil,o=Math.floor;U.exports=function(a){return isNaN(a=+a)?0:(0<a?o:f)(a)}},{}],134:[function(e,U,E){var f=e("../internals/to-integer"),o=Math.min;U.exports=function(a){return 0<a?o(f(a),9007199254740991):0}},{"../internals/to-integer":133}],135:[function(e,U,E){var f=e("../internals/require-object-coercible");U.exports=function(o){return Object(f(o))}},{"../internals/require-object-coercible":113}],136:[function(e,U,E){var f=e("../internals/to-positive-integer");U.exports=function(o,a){if((o=f(o))%a)throw RangeError("Wrong offset");return o}},{"../internals/to-positive-integer":137}],137:[function(e,U,E){var f=e("../internals/to-integer");U.exports=function(o){if((o=f(o))<0)throw RangeError("The argument can't be less than 0");return o}},{"../internals/to-integer":133}],138:[function(e,U,E){var f=e("../internals/is-object");U.exports=function(o,a){if(!f(o))return o;var d,u;if(a&&"function"==typeof(d=o.toString)&&!f(u=d.call(o))||"function"==typeof(d=o.valueOf)&&!f(u=d.call(o))||!a&&"function"==typeof(d=o.toString)&&!f(u=d.call(o)))return u;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],139:[function(e,U,E){var f={};f[e("../internals/well-known-symbol")("toStringTag")]="z",U.exports="[object z]"===String(f)},{"../internals/well-known-symbol":146}],140:[function(e,U,E){"use strict";function f(Qe,jt){for(var At=0,$t=jt.length,Ot=new(Re(Qe))($t);At<$t;)Ot[At]=jt[At++];return Ot}function o(Qe,jt){q(Qe,jt,{get:function(){return Ae(this)[jt]}})}function a(Qe){return Qe instanceof Te||"ArrayBuffer"==(Qe=B(Qe))||"SharedArrayBuffer"==Qe}function d(Qe,jt){return ot(Qe)&&"symbol"!=typeof jt&&jt in Qe&&String(+jt)==String(jt)}function u(Qe,jt){return d(Qe,jt=F(jt,!0))?x(2,Qe[jt]):K(Qe,jt)}function p(Qe,jt,At){return!(d(Qe,jt=F(jt,!0))&&G(At)&&j(At,"value"))||j(At,"get")||j(At,"set")||At.configurable||j(At,"writable")&&!At.writable||j(At,"enumerable")&&!At.enumerable?q(Qe,jt,At):(Qe[jt]=At.value,Qe)}var s=e("../internals/export"),r=e("../internals/global"),i=e("../internals/descriptors"),c=e("../internals/typed-array-constructors-require-wrappers"),h=e("../internals/array-buffer-view-core"),y=e("../internals/array-buffer"),v=e("../internals/an-instance"),x=e("../internals/create-property-descriptor"),w=e("../internals/create-non-enumerable-property"),C=e("../internals/to-length"),N=e("../internals/to-index"),M=e("../internals/to-offset"),F=e("../internals/to-primitive"),j=e("../internals/has"),B=e("../internals/classof"),G=e("../internals/is-object"),ee=e("../internals/object-create"),$=e("../internals/object-set-prototype-of"),H=e("../internals/object-get-own-property-names").f,Z=e("../internals/typed-array-from"),oe=e("../internals/array-iteration").forEach,Q=e("../internals/set-species"),te=e("../internals/object-define-property"),me=e("../internals/object-get-own-property-descriptor"),ce=e("../internals/internal-state"),he=e("../internals/inherit-if-required"),Ae=ce.get,A=ce.set,q=te.f,K=me.f,we=Math.round,Fe=r.RangeError,Te=y.ArrayBuffer,Ie=y.DataView,Ve=h.NATIVE_ARRAY_BUFFER_VIEWS,Ue=h.TYPED_ARRAY_TAG,et=h.TypedArray,mt=h.TypedArrayPrototype,Re=h.aTypedArrayConstructor,ot=h.isTypedArray,ut="BYTES_PER_ELEMENT",ft="Wrong length";i?(Ve||(me.f=u,te.f=p,o(mt,"buffer"),o(mt,"byteOffset"),o(mt,"byteLength"),o(mt,"length")),s({target:"Object",stat:!0,forced:!Ve},{getOwnPropertyDescriptor:u,defineProperty:p}),U.exports=function(We,jt,At){function $t(lt,ke){q(lt,ke,{get:function(){var Be=this,Me=ke;return(Be=Ae(Be)).view[It](Me*Ot+Be.byteOffset,!0)},set:function(Be){var Me=this,$e=ke;Me=Ae(Me),At&&(Be=(Be=we(Be))<0?0:255<Be?255:255&Be),Me.view[Je]($e*Ot+Me.byteOffset,Be,!0)},enumerable:!0})}var Ot=We.match(/\d+$/)[0]/8,tn=We+(At?"Clamped":"")+"Array",It="get"+We,Je="set"+We,at=r[tn],je=at,yt=(We=je&&je.prototype,{});Ve?c&&(je=jt(function(lt,ke,Be,Me){return v(lt,je,tn),he(G(ke)?a(ke)?void 0!==Me?new at(ke,M(Be,Ot),Me):void 0!==Be?new at(ke,M(Be,Ot)):new at(ke):ot(ke)?f(je,ke):Z.call(je,ke):new at(N(ke)),lt,je)}),$&&$(je,et),oe(H(at),function(lt){lt in je||w(je,lt,at[lt])}),je.prototype=We):(je=jt(function(lt,ke,Be,Me){v(lt,je,tn);var $e,wt,xt=0,Lt=0;if(G(ke)){if(!a(ke))return ot(ke)?f(je,ke):Z.call(je,ke);var Kt=ke;if(Lt=M(Be,Ot),Be=ke.byteLength,void 0===Me){if(Be%Ot||($e=Be-Lt)<0)throw Fe(ft)}else if(Be<($e=C(Me)*Ot)+Lt)throw Fe(ft);wt=$e/Ot}else wt=N(ke),Kt=new Te($e=wt*Ot);for(A(lt,{buffer:Kt,byteOffset:Lt,byteLength:$e,length:wt,view:new Ie(Kt)});xt<wt;)$t(lt,xt++)}),$&&$(je,et),We=je.prototype=ee(mt)),We.constructor!==je&&w(We,"constructor",je),Ue&&w(We,Ue,tn),yt[tn]=je,s({global:!0,forced:je!=at,sham:!Ve},yt),ut in je||w(je,ut,Ot),ut in We||w(We,ut,Ot),Q(tn)}):U.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":131,"../internals/to-length":134,"../internals/to-offset":136,"../internals/to-primitive":138,"../internals/typed-array-constructors-require-wrappers":141,"../internals/typed-array-from":142}],141:[function(d,U,E){var f=d("../internals/global"),o=d("../internals/fails"),a=d("../internals/check-correctness-of-iteration"),u=(d=d("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,f.ArrayBuffer),p=f.Int8Array;U.exports=!d||!o(function(){p(1)})||!o(function(){new p(-1)})||!a(function(s){new p,new p(null),new p(1.5),new p(s)},!0)||o(function(){return 1!==new p(new u(2),1,void 0).length})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],142:[function(e,U,E){var f=e("../internals/to-object"),o=e("../internals/to-length"),a=e("../internals/get-iterator-method"),d=e("../internals/is-array-iterator-method"),u=e("../internals/function-bind-context"),p=e("../internals/array-buffer-view-core").aTypedArrayConstructor;U.exports=function(s){var r,i,c,h,y,v,x=f(s),w=arguments.length,C=1<w?arguments[1]:void 0,N=void 0!==C,M=a(x);if(null!=M&&!d(M))for(v=(y=M.call(x)).next,x=[];!(h=v.call(y)).done;)x.push(h.value);for(N&&2<w&&(C=u(C,arguments[2],2)),i=o(x.length),c=new(p(this))(i),r=0;r<i;r++)c[r]=N?C(x[r],r):x[r];return c}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],143:[function(e,U,E){var f=0,o=Math.random();U.exports=function(a){return"Symbol("+String(void 0===a?"":a)+")_"+(++f+o).toString(36)}},{}],144:[function(e,U,E){e=e("../internals/native-symbol"),U.exports=e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":83}],145:[function(e,U,E){e=e("../internals/well-known-symbol"),E.f=e},{"../internals/well-known-symbol":146}],146:[function(p,U,E){var f=p("../internals/global"),o=p("../internals/shared"),a=p("../internals/has"),d=p("../internals/uid"),u=p("../internals/native-symbol"),s=(p=p("../internals/use-symbol-as-uid"),o("wks")),r=f.Symbol,i=p?r:r&&r.withoutSetter||d;U.exports=function(c){return a(s,c)||(s[c]=u&&a(r,c)?r[c]:i("Symbol."+c)),s[c]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":143,"../internals/use-symbol-as-uid":144}],147:[function(e,U,E){U.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],148:[function(a,U,E){"use strict";var f=a("../internals/export"),o=a("../internals/global"),u=a("../internals/array-buffer"),d=(a=a("../internals/set-species"),"ArrayBuffer");f({global:!0,forced:o[d]!==(u=u[d])},{ArrayBuffer:u}),a(d)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],149:[function(x,U,E){"use strict";var f=x("../internals/export"),o=x("../internals/fails"),a=x("../internals/is-array"),d=x("../internals/is-object"),u=x("../internals/to-object"),p=x("../internals/to-length"),s=x("../internals/create-property"),r=x("../internals/array-species-create"),i=x("../internals/array-method-has-species-support"),v=x("../internals/well-known-symbol"),c=(x=x("../internals/engine-v8-version"),v("isConcatSpreadable")),h=9007199254740991,y="Maximum allowed index exceeded";v=51<=x||!o(function(){var w=[];return w[c]=!1,w.concat()[0]!==w}),x=i("concat"),f({target:"Array",proto:!0,forced:!v||!x},{concat:function(w){for(var C,N,M,F,j,B=u(this),G=r(B,0),ee=0,$=-1,H=arguments.length;$<H;$++)if(j=void 0,d(F=M=-1===$?B:arguments[$])&&(void 0!==(j=F[c])?j:a(F))){if(N=p(M.length),h<ee+N)throw TypeError(y);for(C=0;C<N;C++,ee++)C in M&&s(G,ee,M[C])}else{if(h<=ee)throw TypeError(y);s(G,ee++,M)}return G.length=ee,G}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":134,"../internals/to-object":135,"../internals/well-known-symbol":146}],150:[function(a,U,E){var f=a("../internals/export"),o=a("../internals/array-copy-within");a=a("../internals/add-to-unscopables"),f({target:"Array",proto:!0},{copyWithin:o}),a("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],151:[function(d,U,E){"use strict";var f=d("../internals/export"),o=d("../internals/array-iteration").every,a=d("../internals/array-method-is-strict");d=d("../internals/array-method-uses-to-length"),a=a("every"),d=d("every"),f({target:"Array",proto:!0,forced:!a||!d},{every:function(u){return o(this,u,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],152:[function(a,U,E){var f=a("../internals/export"),o=a("../internals/array-fill");a=a("../internals/add-to-unscopables"),f({target:"Array",proto:!0},{fill:o}),a("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],153:[function(d,U,E){"use strict";var f=d("../internals/export"),o=d("../internals/array-iteration").filter,a=d("../internals/array-method-has-species-support");d=d("../internals/array-method-uses-to-length"),a=a("filter"),d=d("filter"),f({target:"Array",proto:!0,forced:!a||!d},{filter:function(u){return o(this,u,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(o,U,E){"use strict";var f=o("../internals/export");o=o("../internals/array-for-each"),f({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},{"../internals/array-for-each":16,"../internals/export":50}],155:[function(e,U,E){var f=e("../internals/export"),o=e("../internals/array-from");f({target:"Array",stat:!0,forced:!e("../internals/check-correctness-of-iteration")(function(a){Array.from(a)})},{from:o})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],156:[function(e,U,E){"use strict";var f=e("../internals/export"),o=e("../internals/array-includes").includes,a=e("../internals/add-to-unscopables");f({target:"Array",proto:!0,forced:!e("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(d){return o(this,d,1<arguments.length?arguments[1]:void 0)}}),a("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(p,U,E){"use strict";var f=p("../internals/export"),o=p("../internals/array-includes").indexOf,u=p("../internals/array-method-is-strict"),a=(p=p("../internals/array-method-uses-to-length"),[].indexOf),d=!!a&&1/[1].indexOf(1,-0)<0;u=u("indexOf"),p=p("indexOf",{ACCESSORS:!0,1:0}),f({target:"Array",proto:!0,forced:d||!u||!p},{indexOf:function(s){return d?a.apply(this,arguments)||0:o(this,s,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(u,U,E){"use strict";var f=u("../internals/to-indexed-object"),o=u("../internals/add-to-unscopables"),a=u("../internals/iterators"),d=u("../internals/internal-state"),p=(u=u("../internals/define-iterator"),"Array Iterator"),s=d.set,r=d.getterFor(p);U.exports=u(Array,"Array",function(i,c){s(this,{type:p,target:f(i),index:0,kind:c})},function(){var i=r(this),c=i.target,h=i.kind,y=i.index++;return!c||y>=c.length?{value:i.target=void 0,done:!0}:"keys"==h?{value:y,done:!1}:"values"==h?{value:c[y],done:!1}:{value:[y,c[y]],done:!1}},"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":132}],159:[function(u,U,E){"use strict";var f=u("../internals/export"),d=u("../internals/indexed-object"),o=u("../internals/to-indexed-object"),a=(u=u("../internals/array-method-is-strict"),[].join);d=d!=Object,u=u("join",","),f({target:"Array",proto:!0,forced:d||!u},{join:function(p){return a.call(o(this),void 0===p?",":p)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":132}],160:[function(o,U,E){o("../internals/export")({target:"Array",proto:!0,forced:(o=o("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:o})},{"../internals/array-last-index-of":20,"../internals/export":50}],161:[function(d,U,E){"use strict";var f=d("../internals/export"),o=d("../internals/array-iteration").map,a=d("../internals/array-method-has-species-support");d=d("../internals/array-method-uses-to-length"),a=a("map"),d=d("map"),f({target:"Array",proto:!0,forced:!a||!d},{map:function(u){return o(this,u,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],162:[function(c,U,E){"use strict";var f=c("../internals/export"),o=c("../internals/is-object"),a=c("../internals/is-array"),d=c("../internals/to-absolute-index"),u=c("../internals/to-length"),p=c("../internals/to-indexed-object"),s=c("../internals/create-property"),r=c("../internals/well-known-symbol"),i=c("../internals/array-method-has-species-support"),h=(c=c("../internals/array-method-uses-to-length"),i=i("slice"),c=c("slice",{ACCESSORS:!0,0:0,1:2}),r("species")),y=[].slice,v=Math.max;f({target:"Array",proto:!0,forced:!i||!c},{slice:function(x,w){var C,N,M,F=p(this),j=u(F.length),B=d(x,j),G=d(void 0===w?j:w,j);if(a(F)&&((C="function"==typeof(C=F.constructor)&&(C===Array||a(C.prototype))||o(C)&&null===(C=C[h])?void 0:C)===Array||void 0===C))return y.call(F,B,G);for(N=new(void 0===C?Array:C)(v(G-B,0)),M=0;B<G;B++,M++)B in F&&s(N,M,F[B]);return N.length=M,N}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134,"../internals/well-known-symbol":146}],163:[function(d,U,E){"use strict";var f=d("../internals/export"),o=d("../internals/array-iteration").some,a=d("../internals/array-method-is-strict");d=d("../internals/array-method-uses-to-length"),a=a("some"),d=d("some"),f({target:"Array",proto:!0,forced:!a||!d},{some:function(u){return o(this,u,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(i,U,E){"use strict";var f=i("../internals/export"),o=i("../internals/to-absolute-index"),a=i("../internals/to-integer"),d=i("../internals/to-length"),u=i("../internals/to-object"),p=i("../internals/array-species-create"),s=i("../internals/create-property"),r=i("../internals/array-method-has-species-support"),c=(i=i("../internals/array-method-uses-to-length"),r=r("splice"),i=i("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),h=Math.min;f({target:"Array",proto:!0,forced:!r||!i},{splice:function(ee,v){var x,w,C,N,M,F,j=u(this),B=d(j.length),G=o(ee,B);if(0===(ee=arguments.length)?x=w=0:w=1===ee?(x=0,B-G):(x=ee-2,h(c(a(v),0),B-G)),9007199254740991<B+x-w)throw TypeError("Maximum allowed length exceeded");for(C=p(j,w),N=0;N<w;N++)(M=G+N)in j&&s(C,N,j[M]);if(x<(C.length=w)){for(N=G;N<B-w;N++)F=N+x,(M=N+w)in j?j[F]=j[M]:delete j[F];for(N=B;B-w+x<N;N--)delete j[N-1]}else if(w<x)for(N=B-w;G<N;N--)F=N+x-1,(M=N+w-1)in j?j[F]=j[M]:delete j[F];for(N=0;N<x;N++)j[N+G]=arguments[N+2];return j.length=B-w+x,C}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":130,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],165:[function(o,U,E){var f=o("../internals/descriptors"),a=(o=o("../internals/object-define-property").f,Function.prototype),d=a.toString,u=/^\s*function ([^ (]*)/;!f||"name"in a||o(a,"name",{configurable:!0,get:function(){try{return d.call(this).match(u)[1]}catch(p){return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],166:[function(o,U,E){"use strict";var f=o("../internals/collection");o=o("../internals/collection-strong"),U.exports=f("Map",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},o)},{"../internals/collection":32,"../internals/collection-strong":30}],167:[function(f,U,E){f=f("../internals/export");var o=Math.hypot,a=Math.abs,d=Math.sqrt;f({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(u,p){for(var s,r,i=0,c=0,h=arguments.length,y=0;c<h;)y<(s=a(arguments[c++]))?(i=i*(r=y/s)*r+1,y=s):i+=0<s?(r=s/y)*r:s;return y===1/0?1/0:y*d(i)}})},{"../internals/export":50}],168:[function(e,U,E){e("../internals/export")({target:"Math",stat:!0},{sign:e("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],169:[function(e,U,E){"use strict";function f($){var H,Z,oe,Q,te,me,ce,he=i($,!1);if("string"==typeof he&&2<he.length)if(43===($=(he=w(he)).charCodeAt(0))||45===$){if(88===(H=he.charCodeAt(2))||120===H)return NaN}else if(48===$){switch(he.charCodeAt(1)){case 66:case 98:Z=2,oe=49;break;case 79:case 111:Z=8,oe=55;break;default:return+he}for(te=(Q=he.slice(2)).length,me=0;me<te;me++)if((ce=Q.charCodeAt(me))<48||oe<ce)return NaN;return parseInt(Q,Z)}return+he}var o=e("../internals/descriptors"),a=e("../internals/global"),d=e("../internals/is-forced"),u=e("../internals/redefine"),p=e("../internals/has"),s=e("../internals/classof-raw"),r=e("../internals/inherit-if-required"),i=e("../internals/to-primitive"),c=e("../internals/fails"),h=e("../internals/object-create"),y=e("../internals/object-get-own-property-names").f,v=e("../internals/object-get-own-property-descriptor").f,x=e("../internals/object-define-property").f,w=e("../internals/string-trim").trim,C="Number",N=a[C],M=N.prototype,F=s(h(M))==C;if(d(C,!N(" 0o1")||!N("0b1")||N("+0x1"))){for(var j,B=function(H){H=arguments.length<1?0:H;var Z=this;return Z instanceof B&&(F?c(function(){M.valueOf.call(Z)}):s(Z)!=C)?r(new N(f(H)),Z,B):f(H)},G=o?y(N):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),ee=0;G.length>ee;ee++)p(N,j=G[ee])&&!p(B,j)&&x(B,j,v(N,j));(B.prototype=M).constructor=B,u(a,C,B)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":127,"../internals/to-primitive":138}],170:[function(e,U,E){e("../internals/export")({target:"Number",stat:!0},{isFinite:e("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],171:[function(p,U,E){"use strict";function f(i,c,h){return 0===c?h:c%2==1?f(i,c-1,h*i):f(i*i,c/2,h)}var o=p("../internals/export"),a=p("../internals/to-integer"),d=p("../internals/this-number-value"),u=p("../internals/string-repeat"),s=(p=p("../internals/fails"),1..toFixed),r=Math.floor;o({target:"Number",proto:!0,forced:s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!p(function(){s.call({})})},{toFixed:function(C){function c(j,B){for(var G=-1,ee=B;++G<6;)N[G]=(ee+=j*N[G])%1e7,ee=r(ee/1e7)}function h(j){for(var B=6,G=0;0<=--B;)N[B]=r((G+=N[B])/j),G=G%j*1e7}function y(){for(var j,B=6,G="";0<=--B;)""===G&&0!==B&&0===N[B]||(j=String(N[B]),G=""===G?j:G+u.call("0",7-j.length)+j);return G}var v,x,w=d(this),N=(C=a(C),[0,0,0,0,0,0]),M="",F="0";if(C<0||20<C)throw RangeError("Incorrect fraction digits");if(w!=w)return"NaN";if(w<=-1e21||1e21<=w)return String(w);if(w<0&&(M="-",w=-w),1e-21<w)if(w=(v=function(j){for(var B=0,G=j;4096<=G;)B+=12,G/=4096;for(;2<=G;)B+=1,G/=2;return B}(w*f(2,69,1))-69)<0?w*f(2,-v,1):w/f(2,v,1),w*=4503599627370496,0<(v=52-v)){for(c(0,w),x=C;7<=x;)c(1e7,0),x-=7;for(c(f(10,x,1),0),x=v-1;23<=x;)h(1<<23),x-=23;h(1<<x),c(1,1),h(2),F=y()}else c(0,w),c(1<<-v,0),F=y()+u.call("0",C);return 0<C?M+((w=F.length)<=C?"0."+u.call("0",C-w)+F:F.slice(0,w-C)+"."+F.slice(w-C)):M+F}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":125,"../internals/this-number-value":129,"../internals/to-integer":133}],172:[function(o,U,E){var f=o("../internals/export");o=o("../internals/object-assign"),f({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},{"../internals/export":50,"../internals/object-assign":89}],173:[function(d,U,E){var f=d("../internals/export"),u=d("../internals/fails"),o=d("../internals/to-indexed-object"),a=d("../internals/object-get-own-property-descriptor").f;d=d("../internals/descriptors"),u=u(function(){a(1)}),f({target:"Object",stat:!0,forced:!d||u,sham:!d},{getOwnPropertyDescriptor:function(p,s){return a(o(p),s)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":132}],174:[function(a,U,E){var f=a("../internals/export"),o=a("../internals/fails");a=a("../internals/object-get-own-property-names-external").f,f({target:"Object",stat:!0,forced:o(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:a})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],175:[function(u,U,E){var f=u("../internals/export"),o=u("../internals/fails"),a=u("../internals/to-object"),d=u("../internals/object-get-prototype-of");u=u("../internals/correct-prototype-getter"),f({target:"Object",stat:!0,forced:o(function(){d(1)}),sham:!u},{getPrototypeOf:function(p){return d(a(p))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":135}],176:[function(e,U,E){var f=e("../internals/export"),o=e("../internals/to-object"),a=e("../internals/object-keys");f({target:"Object",stat:!0,forced:e("../internals/fails")(function(){a(1)})},{keys:function(d){return a(o(d))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":135}],177:[function(a,U,E){var f=a("../internals/to-string-tag-support"),o=a("../internals/redefine");a=a("../internals/object-to-string"),f||o(Object.prototype,"toString",a,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":139}],178:[function(At,U,E){"use strict";var f,o,a,d,u=At("../internals/export"),p=At("../internals/is-pure"),s=At("../internals/global"),r=At("../internals/get-built-in"),i=At("../internals/native-promise-constructor"),c=At("../internals/redefine"),h=At("../internals/redefine-all"),y=At("../internals/set-to-string-tag"),v=At("../internals/set-species"),x=At("../internals/is-object"),w=At("../internals/a-function"),C=At("../internals/an-instance"),N=At("../internals/classof-raw"),M=At("../internals/inspect-source"),F=At("../internals/iterate"),j=At("../internals/check-correctness-of-iteration"),B=At("../internals/species-constructor"),G=At("../internals/task").set,ee=At("../internals/microtask"),$=At("../internals/promise-resolve"),H=At("../internals/host-report-errors"),Z=At("../internals/new-promise-capability"),oe=At("../internals/perform"),Q=At("../internals/internal-state"),te=At("../internals/is-forced"),$t=At("../internals/well-known-symbol"),me=At("../internals/engine-v8-version"),ce=$t("species"),he="Promise",Ae=Q.get,A=Q.set,q=Q.getterFor(he),K=i,we=s.TypeError,Fe=s.document,Te=s.process,Ie=r("fetch"),Ve=Z.f,Ue=Ve,et="process"==N(Te),mt=!!(Fe&&Fe.createEvent&&s.dispatchEvent),Re="unhandledrejection",Ot=($t=(At=te(he,function(){var yt,lt;return M(K)===String(K)&&(66===me||!et&&"function"!=typeof PromiseRejectionEvent)||!((!p||K.prototype.finally)&&(51<=me&&/native code/.test(K)||(lt=function(ke){ke(function(){},function(){})},((yt=K.resolve(1)).constructor={})[ce]=lt,yt.then(function(){})instanceof lt)))}))||!j(function(yt){K.all(yt).catch(function(){})}),function(yt){var lt;return!(!x(yt)||"function"!=typeof(lt=yt.then))&&lt}),tn=function(yt,lt,ke){var Be;lt.notified||(lt.notified=!0,Be=lt.reactions,ee(function(){for(var Me,$e,wt=lt.value,xt=1==lt.state,Lt=0;Be.length>Lt;){var Kt,cn,nn,Wt=Be[Lt++],bn=xt?Wt.ok:Wt.fail,W=Wt.resolve,le=Wt.reject,S=Wt.domain;try{bn?(xt||(2===lt.rejection&&function(I,J){G.call(s,function(){et?Te.emit("rejectionHandled",I):It("rejectionhandled",I,J.value)})}(yt,lt),lt.rejection=1),!0===bn?Kt=wt:(S&&S.enter(),Kt=bn(wt),S&&(S.exit(),nn=!0)),Kt===Wt.promise?le(we("Promise-chain cycle")):(cn=Ot(Kt))?cn.call(Kt,W,le):W(Kt)):le(wt)}catch(I){S&&!nn&&S.exit(),le(I)}}lt.reactions=[],lt.notified=!1,ke&&!lt.rejection&&(Me=yt,$e=lt,G.call(s,function(){var I=$e.value,J=Je($e);if(J&&(J=oe(function(){et?Te.emit("unhandledRejection",I,Me):It(Re,Me,I)}),$e.rejection=et||Je($e)?2:1,J.error))throw J.value}))}))},It=function(yt,lt,ke){var Be;mt?((Be=Fe.createEvent("Event")).promise=lt,Be.reason=ke,Be.initEvent(yt,!1,!0),s.dispatchEvent(Be)):Be={promise:lt,reason:ke},(lt=s["on"+yt])?lt(Be):yt===Re&&H("Unhandled promise rejection",ke)},Je=function(yt){return 1!==yt.rejection&&!yt.parent},at=function(yt,lt,ke,Be){return function(Me){yt(lt,ke,Me,Be)}},je=function(yt,lt,ke,Be){lt.done||(lt.done=!0,(lt=Be||lt).value=ke,lt.state=2,tn(yt,lt,!0))},We=function(yt,lt,ke,Be){if(!lt.done){lt.done=!0,Be&&(lt=Be);try{if(yt===ke)throw we("Promise can't be resolved itself");var Me=Ot(ke);Me?ee(function(){var $e={done:!1};try{Me.call(ke,at(We,yt,$e,lt),at(je,yt,$e,lt))}catch(wt){je(yt,$e,wt,lt)}}):(lt.value=ke,lt.state=1,tn(yt,lt,!1))}catch($e){je(yt,{done:!1},$e,lt)}}};At&&(K=function(yt){C(this,K,he),w(yt),f.call(this);var lt=Ae(this);try{yt(at(We,this,lt),at(je,this,lt))}catch(ke){je(this,lt,ke)}},(f=function(yt){A(this,{type:he,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(K.prototype,{then:function(yt,lt){var ke=q(this),Be=Ve(B(this,K));return Be.ok="function"!=typeof yt||yt,Be.fail="function"==typeof lt&&lt,Be.domain=et?Te.domain:void 0,ke.parent=!0,ke.reactions.push(Be),0!=ke.state&&tn(this,ke,!1),Be.promise},catch:function(yt){return this.then(void 0,yt)}}),o=function(){var yt=new f,lt=Ae(yt);this.promise=yt,this.resolve=at(We,yt,lt),this.reject=at(je,yt,lt)},Z.f=Ve=function(yt){return yt===K||yt===a?new o:Ue(yt)},p||"function"!=typeof i||(d=i.prototype.then,c(i.prototype,"then",function(yt,lt){var ke=this;return new K(function(Be,Me){d.call(ke,Be,Me)}).then(yt,lt)},{unsafe:!0}),"function"==typeof Ie&&u({global:!0,enumerable:!0,forced:!0},{fetch:function(yt){return $(K,Ie.apply(s,arguments))}}))),u({global:!0,wrap:!0,forced:At},{Promise:K}),y(K,he,!1,!0),v(he),a=r(he),u({target:he,stat:!0,forced:At},{reject:function(yt){var lt=Ve(this);return lt.reject.call(void 0,yt),lt.promise}}),u({target:he,stat:!0,forced:p||At},{resolve:function(yt){return $(p&&this===a?K:this,yt)}}),u({target:he,stat:!0,forced:$t},{all:function(yt){var lt=this,ke=Ve(lt),Be=ke.resolve,Me=ke.reject,$e=oe(function(){var wt=w(lt.resolve),xt=[],Lt=0,Kt=1;F(yt,function(cn){var nn=Lt++,Wt=!1;xt.push(void 0),Kt++,wt.call(lt,cn).then(function(bn){Wt||(Wt=!0,xt[nn]=bn,--Kt||Be(xt))},Me)}),--Kt||Be(xt)});return $e.error&&Me($e.value),ke.promise},race:function(yt){var lt=this,ke=Ve(lt),Be=ke.reject,Me=oe(function(){var $e=w(lt.resolve);F(yt,function(wt){$e.call(lt,wt).then(ke.resolve,Be)})});return Me.error&&Be(Me.value),ke.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":128,"../internals/well-known-symbol":146}],179:[function(s,U,E){var f=s("../internals/export"),h=s("../internals/get-built-in"),o=s("../internals/a-function"),a=s("../internals/an-object"),d=s("../internals/is-object"),u=s("../internals/object-create"),p=s("../internals/function-bind"),r=(s=s("../internals/fails"),h("Reflect","construct")),i=s(function(){function y(){}return!(r(function(){},[],y)instanceof y)}),c=!s(function(){r(function(){})});f({target:"Reflect",stat:!0,forced:h=i||c,sham:h},{construct:function(y,v){o(y),a(v);var x=arguments.length<3?y:o(arguments[2]);if(c&&!i)return r(y,v,x);if(y==x){switch(v.length){case 0:return new y;case 1:return new y(v[0]);case 2:return new y(v[0],v[1]);case 3:return new y(v[0],v[1],v[2]);case 4:return new y(v[0],v[1],v[2],v[3])}var w=[null];return w.push.apply(w,v),new(p.apply(y,w))}return x=u(d(w=x.prototype)?w:Object.prototype),w=Function.apply.call(y,x,v),d(w)?w:x}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],180:[function(e,U,E){var f=e("../internals/descriptors"),o=e("../internals/global"),a=e("../internals/is-forced"),d=e("../internals/inherit-if-required"),u=e("../internals/object-define-property").f,p=e("../internals/object-get-own-property-names").f,s=e("../internals/is-regexp"),r=e("../internals/regexp-flags"),i=e("../internals/regexp-sticky-helpers"),c=e("../internals/redefine"),h=e("../internals/fails"),y=e("../internals/internal-state").set,v=e("../internals/set-species"),x=e("../internals/well-known-symbol")("match"),w=o.RegExp,C=w.prototype,N=/a/g,M=/a/g,F=new w(N)!==N,j=i.UNSUPPORTED_Y;if(f&&a("RegExp",!F||j||h(function(){return M[x]=!1,w(N)!=N||w(M)==M||"/a/i"!=w(N,"i")}))){for(var B=function($,H){var Z,oe=this instanceof B,Q=s($),te=void 0===H;return!oe&&Q&&$.constructor===B&&te?$:(F?Q&&!te&&($=$.source):$ instanceof B&&(te&&(H=r.call($)),$=$.source),j&&(Z=!!H&&-1<H.indexOf("y"))&&(H=H.replace(/y/g,"")),Q=d(F?new w($,H):w($,H),oe?this:C,B),j&&Z&&y(Q,{sticky:Z}),Q)},G=p(w),ee=0;G.length>ee;)!function($){$ in B||u(B,$,{configurable:!0,get:function(){return w[$]},set:function(H){w[$]=H}})}(G[ee++]);(C.constructor=B).prototype=C,c(o,"RegExp",B)}v("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":146}],181:[function(o,U,E){"use strict";var f=o("../internals/export");o=o("../internals/regexp-exec"),f({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},{"../internals/export":50,"../internals/regexp-exec":110}],182:[function(d,U,E){"use strict";var f=d("../internals/redefine"),o=d("../internals/an-object"),s=d("../internals/fails"),a=d("../internals/regexp-flags"),u=(d="toString",RegExp.prototype),p=u[d];((s=s(function(){return"/a/b"!=p.call({source:"a",flags:"b"})}))||p.name!=d)&&f(RegExp.prototype,d,function(){var i=o(this),c=String(i.source),h=i.flags;return"/"+c+"/"+String(void 0===h&&i instanceof RegExp&&!("flags"in u)?a.call(i):h)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],183:[function(o,U,E){"use strict";var f=o("../internals/collection");o=o("../internals/collection-strong"),U.exports=f("Set",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},o)},{"../internals/collection":32,"../internals/collection-strong":30}],184:[function(p,U,E){"use strict";var f=p("../internals/export"),o=p("../internals/object-get-own-property-descriptor").f,a=p("../internals/to-length"),d=p("../internals/not-a-regexp"),u=p("../internals/require-object-coercible"),i=p("../internals/correct-is-regexp-logic"),s=(p=p("../internals/is-pure"),"".endsWith),r=Math.min;i=i("endsWith"),f({target:"String",proto:!0,forced:!(!p&&!i&&(f=o(String.prototype,"endsWith"))&&!f.writable||i)},{endsWith:function(c){var h=String(u(this)),y=(d(c),1<arguments.length?arguments[1]:void 0),v=a(h.length);return y=void 0===y?v:r(a(y),v),v=String(c),s?s.call(h,v,y):h.slice(y-v.length,y)===v}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":134}],185:[function(e,U,E){"use strict";var f=e("../internals/export"),o=e("../internals/not-a-regexp"),a=e("../internals/require-object-coercible");f({target:"String",proto:!0,forced:!e("../internals/correct-is-regexp-logic")("includes")},{includes:function(d){return!!~String(a(this)).indexOf(o(d),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],186:[function(a,U,E){"use strict";var f=a("../internals/string-multibyte").charAt,o=a("../internals/internal-state"),d=(a=a("../internals/define-iterator"),"String Iterator"),u=o.set,p=o.getterFor(d);a(String,"String",function(s){u(this,{type:d,string:String(s),index:0})},function(){var s=p(this),r=s.string,i=s.index;return i>=r.length?{value:void 0,done:!0}:(r=f(r,i),s.index+=r.length,{value:r,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],187:[function(e,U,E){"use strict";var f=e("../internals/fix-regexp-well-known-symbol-logic"),o=e("../internals/an-object"),a=e("../internals/to-length"),d=e("../internals/require-object-coercible"),u=e("../internals/advance-string-index"),p=e("../internals/regexp-exec-abstract");f("match",1,function(s,r,i){return[function(c){var h=d(this),y=null==c?void 0:c[s];return void 0!==y?y.call(c,h):new RegExp(c)[s](String(h))},function(c){var h=i(r,c,this);if(h.done)return h.value;var y=o(c),v=String(this);if(!y.global)return p(y,v);for(var x=y.unicode,w=[],C=y.lastIndex=0;null!==(N=p(y,v));){var N=String(N[0]);""===(w[C]=N)&&(y.lastIndex=u(v,a(y.lastIndex),x)),C++}return 0===C?null:w}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":134}],188:[function(e,U,E){e("../internals/export")({target:"String",proto:!0},{repeat:e("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":125}],189:[function(e,U,E){"use strict";var f=e("../internals/fix-regexp-well-known-symbol-logic"),o=e("../internals/an-object"),a=e("../internals/to-object"),d=e("../internals/to-length"),u=e("../internals/to-integer"),p=e("../internals/require-object-coercible"),s=e("../internals/advance-string-index"),r=e("../internals/regexp-exec-abstract"),i=Math.max,c=Math.min,h=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;f("replace",2,function(x,w,C,N){var M=N.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,F=N.REPLACE_KEEPS_$0,j=M?"$":"$0";return[function(B,G){var ee=p(this),$=null==B?void 0:B[x];return void 0!==$?$.call(B,ee,G):w.call(String(ee),B,G)},function(B,G){if(!M&&F||"string"==typeof G&&-1===G.indexOf(j)){var ee=C(w,B,this,G);if(ee.done)return ee.value}for(var $,H=o(B),Z=String(this),oe="function"==typeof G,Q=(oe||(G=String(G)),H.global),te=(Q&&($=H.unicode,H.lastIndex=0),[]);null!==(A=r(H,Z))&&(te.push(A),Q);)""===String(A[0])&&(H.lastIndex=s(Z,d(H.lastIndex),$));for(var me,ce="",he=0,Ae=0;Ae<te.length;Ae++){for(var A=te[Ae],q=String(A[0]),K=i(c(u(A.index),Z.length),0),we=[],Fe=1;Fe<A.length;Fe++)we.push(void 0===(me=A[Fe])?me:String(me));var Te=A.groups,Ie=oe?(Ie=[q].concat(we,K,Z),void 0!==Te&&Ie.push(Te),String(G.apply(void 0,Ie))):function(Ve,Ue,et,mt,Re,ot){var ut=et+Ve.length,ft=mt.length,Qe=v;return void 0!==Re&&(Re=a(Re),Qe=y),w.call(ot,Qe,function(jt,At){var $t;switch(At.charAt(0)){case"$":return"$";case"&":return Ve;case"`":return Ue.slice(0,et);case"'":return Ue.slice(ut);case"<":$t=Re[At.slice(1,-1)];break;default:var Ot,tn=+At;if(0==tn)return jt;if(ft<tn)return 0!==(Ot=h(tn/10))&&Ot<=ft?void 0===mt[Ot-1]?At.charAt(1):mt[Ot-1]+At.charAt(1):jt;$t=mt[tn-1]}return void 0===$t?"":$t})}(q,Z,K,we,Te,G);he<=K&&(ce+=Z.slice(he,K)+Ie,he=K+q.length)}return ce+Z.slice(he)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],190:[function(e,U,E){"use strict";var f=e("../internals/fix-regexp-well-known-symbol-logic"),o=e("../internals/an-object"),a=e("../internals/require-object-coercible"),d=e("../internals/same-value"),u=e("../internals/regexp-exec-abstract");f("search",1,function(p,s,r){return[function(i){var c=a(this),h=null==i?void 0:i[p];return void 0!==h?h.call(i,c):new RegExp(i)[p](String(c))},function(i){var c,h=r(s,i,this);return h.done?h.value:(h=o(i),i=String(this),d(c=h.lastIndex,0)||(h.lastIndex=0),i=u(h,i),d(h.lastIndex,c)||(h.lastIndex=c),null===i?-1:i.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],191:[function(c,U,E){"use strict";var f=c("../internals/fix-regexp-well-known-symbol-logic"),o=c("../internals/is-regexp"),a=c("../internals/an-object"),d=c("../internals/require-object-coercible"),u=c("../internals/species-constructor"),p=c("../internals/advance-string-index"),s=c("../internals/to-length"),r=c("../internals/regexp-exec-abstract"),i=c("../internals/regexp-exec"),h=(c=c("../internals/fails"),[].push),y=Math.min,v=4294967295,x=!c(function(){return!RegExp(v,"y")});f("split",2,function(w,C,N){var M="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(F,j){var B=String(d(this)),G=void 0===j?v:j>>>0;if(0==G)return[];if(void 0===F)return[B];if(!o(F))return C.call(B,F,G);for(var ee,$,H,Z=[],oe=(j=(F.ignoreCase?"i":"")+(F.multiline?"m":"")+(F.unicode?"u":"")+(F.sticky?"y":""),0),Q=new RegExp(F.source,j+"g");(ee=i.call(Q,B))&&!(oe<($=Q.lastIndex)&&(Z.push(B.slice(oe,ee.index)),1<ee.length&&ee.index<B.length&&h.apply(Z,ee.slice(1)),H=ee[0].length,oe=$,Z.length>=G));)Q.lastIndex===ee.index&&Q.lastIndex++;return oe===B.length?!H&&Q.test("")||Z.push(""):Z.push(B.slice(oe)),Z.length>G?Z.slice(0,G):Z}:"0".split(void 0,0).length?function(F,j){return void 0===F&&0===j?[]:C.call(this,F,j)}:C;return[function(F,j){var B=d(this),G=null==F?void 0:F[w];return void 0!==G?G.call(F,B,j):M.call(String(B),F,j)},function(ee,j){if((B=N(M,ee,this,j,M!==C)).done)return B.value;var B=a(ee),G=String(this),$=(ee=u(B,RegExp),B.unicode),Z=new ee(x?B:"^(?:"+B.source+")",(B.ignoreCase?"i":"")+(B.multiline?"m":"")+(B.unicode?"u":"")+(x?"y":"g")),oe=void 0===j?v:j>>>0;if(0==oe)return[];if(0===G.length)return null===r(Z,G)?[G]:[];for(var Q=0,te=0,me=[];te<G.length;){Z.lastIndex=x?te:0;var ce,he=r(Z,x?G:G.slice(te));if(null===he||(ce=y(s(Z.lastIndex+(x?0:te)),G.length))===Q)te=p(G,te,$);else{if(me.push(G.slice(Q,te)),me.length===oe)return me;for(var Ae=1;Ae<=he.length-1;Ae++)if(me.push(he[Ae]),me.length===oe)return me;te=Q=ce}}return me.push(G.slice(Q)),me}]},!x)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":134}],192:[function(e,U,E){"use strict";var f=e("../internals/export"),o=e("../internals/create-html");f({target:"String",proto:!0,forced:e("../internals/string-html-forced")("sub")},{sub:function(){return o(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],193:[function(e,U,E){"use strict";var f=e("../internals/export"),o=e("../internals/string-trim").trim;f({target:"String",proto:!0,forced:e("../internals/string-trim-forced")("trim")},{trim:function(){return o(this)}})},{"../internals/export":50,"../internals/string-trim":127,"../internals/string-trim-forced":126}],194:[function(y,U,E){"use strict";var f,o,a,d,u,p=y("../internals/export"),s=y("../internals/descriptors"),r=y("../internals/global"),i=y("../internals/has"),c=y("../internals/is-object"),h=y("../internals/object-define-property").f,v=(y=y("../internals/copy-constructor-properties"),r.Symbol);!s||"function"!=typeof v||"description"in v.prototype&&void 0===v().description||(f={},y(o=function(){var x=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),w=this instanceof o?new v(x):void 0===x?v():v(x);return""===x&&(f[w]=!0),w},v),(r=o.prototype=v.prototype).constructor=o,a=r.toString,d="Symbol(test)"==String(v("test")),u=/^Symbol\((.*)\)[^)]+$/,h(r,"description",{configurable:!0,get:function(){var x=c(this)?this.valueOf():this,w=a.call(x);return i(f,x)?"":""===(x=d?w.slice(7,-1):w.replace(u,"$1"))?void 0:x}}),p({global:!0,forced:!0},{Symbol:o}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],195:[function(e,U,E){e("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],196:[function(Ue,U,E){"use strict";function f(Me,$e){var wt=$t[Me]=B(ot[Ve]);return et(wt,{type:Ie,tag:Me,description:$e}),i||(wt.description=$e),wt}function o(Me,xt){C(Me);var wt=M(xt);return xt=G(wt).concat(Be(wt)),Fe(xt,function(Lt){i&&!ke.call(wt,Lt)||lt(Me,Lt,wt[Lt])}),Me}function a(xt,Lt){var wt;if(xt=M(xt),Lt=F(Lt,!0),xt!==Re||!v($t,Lt)||v(Ot,Lt))return!(wt=ft(xt,Lt))||!v($t,Lt)||v(xt,Te)&&xt[Te][Lt]||(wt.enumerable=!0),wt}function d($e){$e=jt(M($e));var wt=[];return Fe($e,function(xt){v($t,xt)||v(he,xt)||wt.push(xt)}),wt}var u=Ue("../internals/export"),p=Ue("../internals/global"),s=Ue("../internals/get-built-in"),r=Ue("../internals/is-pure"),i=Ue("../internals/descriptors"),c=Ue("../internals/native-symbol"),h=Ue("../internals/use-symbol-as-uid"),y=Ue("../internals/fails"),v=Ue("../internals/has"),x=Ue("../internals/is-array"),w=Ue("../internals/is-object"),C=Ue("../internals/an-object"),N=Ue("../internals/to-object"),M=Ue("../internals/to-indexed-object"),F=Ue("../internals/to-primitive"),j=Ue("../internals/create-property-descriptor"),B=Ue("../internals/object-create"),G=Ue("../internals/object-keys"),ee=Ue("../internals/object-get-own-property-names"),$=Ue("../internals/object-get-own-property-names-external"),H=Ue("../internals/object-get-own-property-symbols"),Z=Ue("../internals/object-get-own-property-descriptor"),oe=Ue("../internals/object-define-property"),Q=Ue("../internals/object-property-is-enumerable"),te=Ue("../internals/create-non-enumerable-property"),me=Ue("../internals/redefine"),ce=Ue("../internals/shared"),Je=Ue("../internals/shared-key"),he=Ue("../internals/hidden-keys"),Ae=Ue("../internals/uid"),A=Ue("../internals/well-known-symbol"),q=Ue("../internals/well-known-symbol-wrapped"),K=Ue("../internals/define-well-known-symbol"),we=Ue("../internals/set-to-string-tag"),at=Ue("../internals/internal-state"),Fe=Ue("../internals/array-iteration").forEach,Te=Je("hidden"),Ie="Symbol",Ve="prototype",et=(Ue=A("toPrimitive"),at.set),mt=at.getterFor(Ie),Re=Object[Ve],ot=p.Symbol,ut=s("JSON","stringify"),ft=Z.f,Qe=oe.f,jt=$.f,At=Q.f,$t=ce("symbols"),Ot=ce("op-symbols"),tn=ce("string-to-symbol-registry"),It=ce("symbol-to-string-registry"),je=(Je=ce("wks"),!(at=p.QObject)||!at[Ve]||!at[Ve].findChild),We=i&&y(function(){return 7!=B(Qe({},"a",{get:function(){return Qe(this,"a",{value:7}).a}})).a})?function(Me,$e,wt){var xt=ft(Re,$e);xt&&delete Re[$e],Qe(Me,$e,wt),xt&&Me!==Re&&Qe(Re,$e,xt)}:Qe,yt=h?function(Me){return"symbol"==typeof Me}:function(Me){return Object(Me)instanceof ot},lt=function(Me,$e,wt){return Me===Re&&lt(Ot,$e,wt),C(Me),$e=F($e,!0),C(wt),(v($t,$e)?(wt.enumerable?(v(Me,Te)&&Me[Te][$e]&&(Me[Te][$e]=!1),wt=B(wt,{enumerable:j(0,!1)})):(v(Me,Te)||Qe(Me,Te,j(1,{})),Me[Te][$e]=!0),We):Qe)(Me,$e,wt)},ke=function($e){$e=F($e,!0);var wt=At.call(this,$e);return!(this===Re&&v($t,$e)&&!v(Ot,$e))&&(!(wt||!v(this,$e)||!v($t,$e)||v(this,Te)&&this[Te][$e])||wt)},Be=function(wt){var $e=wt===Re,xt=(wt=jt($e?Ot:M(wt)),[]);return Fe(wt,function(Lt){!v($t,Lt)||$e&&!v(Re,Lt)||xt.push($t[Lt])}),xt};c||(me((ot=function(){if(this instanceof ot)throw TypeError("Symbol is not a constructor");var Me=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,$e=Ae(Me),wt=function(xt){this===Re&&wt.call(Ot,xt),v(this,Te)&&v(this[Te],$e)&&(this[Te][$e]=!1),We(this,$e,j(1,xt))};return i&&je&&We(Re,$e,{configurable:!0,set:wt}),f($e,Me)})[Ve],"toString",function(){return mt(this).tag}),me(ot,"withoutSetter",function(Me){return f(Ae(Me),Me)}),Q.f=ke,oe.f=lt,Z.f=a,ee.f=$.f=d,H.f=Be,q.f=function(Me){return f(A(Me),Me)},i&&(Qe(ot[Ve],"description",{configurable:!0,get:function(){return mt(this).description}}),r||me(Re,"propertyIsEnumerable",ke,{unsafe:!0}))),u({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:ot}),Fe(G(Je),function(Me){K(Me)}),u({target:Ie,stat:!0,forced:!c},{for:function(wt){var $e;return wt=String(wt),v(tn,wt)?tn[wt]:($e=ot(wt),tn[wt]=$e,It[$e]=wt,$e)},keyFor:function(Me){if(!yt(Me))throw TypeError(Me+" is not a symbol");if(v(It,Me))return It[Me]},useSetter:function(){je=!0},useSimple:function(){je=!1}}),u({target:"Object",stat:!0,forced:!c,sham:!i},{create:function(Me,$e){return void 0===$e?B(Me):o(B(Me),$e)},defineProperty:lt,defineProperties:o,getOwnPropertyDescriptor:a}),u({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:d,getOwnPropertySymbols:Be}),u({target:"Object",stat:!0,forced:y(function(){H.f(1)})},{getOwnPropertySymbols:function(Me){return H.f(N(Me))}}),ut&&u({target:"JSON",stat:!0,forced:!c||y(function(){var Me=ot();return"[null]"!=ut([Me])||"{}"!=ut({a:Me})||"{}"!=ut(Object(Me))})},{stringify:function(Me,$e,wt){for(var xt,Lt=[Me],Kt=1;Kt<arguments.length;)Lt.push(arguments[Kt++]);if((w(xt=$e)||void 0!==Me)&&!yt(Me))return x($e)||($e=function(cn,nn){if("function"==typeof xt&&(nn=xt.call(this,cn,nn)),!yt(nn))return nn}),Lt[1]=$e,ut.apply(null,Lt)}}),ot[Ve][Ue]||te(ot[Ve],Ue,ot[Ve].valueOf),we(ot,Ie),he[Te]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":132,"../internals/to-object":135,"../internals/to-primitive":138,"../internals/uid":143,"../internals/use-symbol-as-uid":144,"../internals/well-known-symbol":146,"../internals/well-known-symbol-wrapped":145}],197:[function(e,U,E){"use strict";var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-copy-within"),a=f.aTypedArray;(0,f.exportTypedArrayMethod)("copyWithin",function(d,u){return o.call(a(this),d,u,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],198:[function(e,U,E){"use strict";var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").every,a=f.aTypedArray;(0,f.exportTypedArrayMethod)("every",function(d){return o(a(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(e,U,E){"use strict";var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-fill"),a=f.aTypedArray;(0,f.exportTypedArrayMethod)("fill",function(d){return o.apply(a(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],200:[function(e,U,E){"use strict";var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").filter,a=e("../internals/species-constructor"),d=f.aTypedArray,u=f.aTypedArrayConstructor;(0,f.exportTypedArrayMethod)("filter",function(p){for(var s=o(d(this),p,1<arguments.length?arguments[1]:void 0),r=(p=a(this,this.constructor),0),i=s.length,c=new(u(p))(i);r<i;)c[r]=s[r++];return c})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],201:[function(e,U,E){"use strict";var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").findIndex,a=f.aTypedArray;(0,f.exportTypedArrayMethod)("findIndex",function(d){return o(a(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],202:[function(e,U,E){"use strict";var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").find,a=f.aTypedArray;(0,f.exportTypedArrayMethod)("find",function(d){return o(a(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(e,U,E){e("../internals/typed-array-constructor")("Float32",function(f){return function(o,a,d){return f(this,o,a,d)}})},{"../internals/typed-array-constructor":140}],204:[function(e,U,E){e("../internals/typed-array-constructor")("Float64",function(f){return function(o,a,d){return f(this,o,a,d)}})},{"../internals/typed-array-constructor":140}],205:[function(e,U,E){"use strict";var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").forEach,a=f.aTypedArray;(0,f.exportTypedArrayMethod)("forEach",function(d){o(a(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],206:[function(e,U,E){"use strict";var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-includes").includes,a=f.aTypedArray;(0,f.exportTypedArrayMethod)("includes",function(d){return o(a(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],207:[function(e,U,E){"use strict";var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-includes").indexOf,a=f.aTypedArray;(0,f.exportTypedArrayMethod)("indexOf",function(d){return o(a(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],208:[function(e,U,E){e("../internals/typed-array-constructor")("Int16",function(f){return function(o,a,d){return f(this,o,a,d)}})},{"../internals/typed-array-constructor":140}],209:[function(e,U,E){e("../internals/typed-array-constructor")("Int32",function(f){return function(o,a,d){return f(this,o,a,d)}})},{"../internals/typed-array-constructor":140}],210:[function(o,U,E){"use strict";function f(){return a.call(p(this))}var i=o("../internals/global"),r=o("../internals/array-buffer-view-core"),s=o("../modules/es.array.iterator"),a=(o=o("../internals/well-known-symbol")("iterator"),s.values),d=s.keys,u=s.entries,p=r.aTypedArray;s=r.exportTypedArrayMethod,i=!!(r=(i=i.Uint8Array)&&i.prototype[o])&&("values"==r.name||null==r.name),s("entries",function(){return u.call(p(this))}),s("keys",function(){return d.call(p(this))}),s("values",f,!i),s(o,f,!i)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],211:[function(o,U,E){"use strict";var f=(o=o("../internals/array-buffer-view-core")).aTypedArray,a=[].join;(o=o.exportTypedArrayMethod)("join",function(d){return a.apply(f(this),arguments)})},{"../internals/array-buffer-view-core":12}],212:[function(e,U,E){"use strict";var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-last-index-of"),a=f.aTypedArray;(0,f.exportTypedArrayMethod)("lastIndexOf",function(d){return o.apply(a(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],213:[function(e,U,E){"use strict";var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").map,a=e("../internals/species-constructor"),d=f.aTypedArray,u=f.aTypedArrayConstructor;(0,f.exportTypedArrayMethod)("map",function(p){return o(d(this),p,1<arguments.length?arguments[1]:void 0,function(s,r){return new(u(a(s,s.constructor)))(r)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],214:[function(e,U,E){"use strict";var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-reduce").right,a=f.aTypedArray;(0,f.exportTypedArrayMethod)("reduceRight",function(d){return o(a(this),d,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],215:[function(e,U,E){"use strict";var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-reduce").left,a=f.aTypedArray;(0,f.exportTypedArrayMethod)("reduce",function(d){return o(a(this),d,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],216:[function(o,U,E){"use strict";var f=(o=o("../internals/array-buffer-view-core")).aTypedArray,a=(o=o.exportTypedArrayMethod,Math.floor);o("reverse",function(){for(var d,u=f(this).length,p=a(u/2),s=0;s<p;)d=this[s],this[s++]=this[--u],this[u]=d;return this})},{"../internals/array-buffer-view-core":12}],217:[function(u,U,E){"use strict";var f=u("../internals/array-buffer-view-core"),o=u("../internals/to-length"),a=u("../internals/to-offset"),d=u("../internals/to-object"),p=(u=u("../internals/fails"),f.aTypedArray);(0,f.exportTypedArrayMethod)("set",function(s){p(this);var r=a(1<arguments.length?arguments[1]:void 0,1),i=this.length,c=d(s),h=o(c.length),y=0;if(i<h+r)throw RangeError("Wrong length");for(;y<h;)this[r+y]=c[y++]},u(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":134,"../internals/to-object":135,"../internals/to-offset":136}],218:[function(o,U,E){"use strict";var u=o("../internals/array-buffer-view-core"),f=o("../internals/species-constructor"),a=(o=o("../internals/fails"),u.aTypedArray),d=u.aTypedArrayConstructor,p=[].slice;(u=u.exportTypedArrayMethod)("slice",function(s,r){for(var i=p.call(a(this),s,r),c=(s=f(this,this.constructor),0),h=i.length,y=new(d(s))(h);c<h;)y[c]=i[c++];return y},o(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],219:[function(e,U,E){"use strict";var f=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").some,a=f.aTypedArray;(0,f.exportTypedArrayMethod)("some",function(d){return o(a(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],220:[function(o,U,E){"use strict";var f=(o=o("../internals/array-buffer-view-core")).aTypedArray,a=[].sort;(o=o.exportTypedArrayMethod)("sort",function(d){return a.call(f(this),d)})},{"../internals/array-buffer-view-core":12}],221:[function(e,U,E){"use strict";var f=e("../internals/array-buffer-view-core"),o=e("../internals/to-length"),a=e("../internals/to-absolute-index"),d=e("../internals/species-constructor"),u=f.aTypedArray;(0,f.exportTypedArrayMethod)("subarray",function(c,s){var r=u(this),i=r.length;return c=a(c,i),new(d(r,r.constructor))(r.buffer,r.byteOffset+c*r.BYTES_PER_ELEMENT,o((void 0===s?i:a(s,i))-c))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":130,"../internals/to-length":134}],222:[function(o,U,E){"use strict";var u=o("../internals/global"),f=o("../internals/array-buffer-view-core"),a=(o=o("../internals/fails"),u.Int8Array),d=f.aTypedArray,p=(u=f.exportTypedArrayMethod,[].toLocaleString),s=[].slice,r=!!a&&o(function(){p.call(new a(1))});u("toLocaleString",function(){return p.apply(r?s.call(d(this)):d(this),arguments)},o(function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()})||!o(function(){a.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],223:[function(o,U,E){"use strict";var f=o("../internals/array-buffer-view-core").exportTypedArrayMethod,u=o("../internals/fails"),a=(o=(o=o("../internals/global").Uint8Array)&&o.prototype||{},[].toString),d=[].join;u(function(){a.call({})})&&(a=function(){return d.call(this)}),f("toString",a,u=o.toString!=a)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],224:[function(e,U,E){e("../internals/typed-array-constructor")("Uint16",function(f){return function(o,a,d){return f(this,o,a,d)}})},{"../internals/typed-array-constructor":140}],225:[function(e,U,E){e("../internals/typed-array-constructor")("Uint32",function(f){return function(o,a,d){return f(this,o,a,d)}})},{"../internals/typed-array-constructor":140}],226:[function(e,U,E){e("../internals/typed-array-constructor")("Uint8",function(f){return function(o,a,d){return f(this,o,a,d)}})},{"../internals/typed-array-constructor":140}],227:[function(e,U,E){e("../internals/typed-array-constructor")("Uint8",function(f){return function(o,a,d){return f(this,o,a,d)}},!0)},{"../internals/typed-array-constructor":140}],228:[function(v,C,E){"use strict";function f(N){return function(){return N(this,arguments.length?arguments[0]:void 0)}}var o,a,d,u,p,x=v("../internals/global"),s=v("../internals/redefine-all"),r=v("../internals/internal-metadata"),i=v("../internals/collection"),c=v("../internals/collection-weak"),h=v("../internals/is-object"),y=v("../internals/internal-state").enforce,w=(v=v("../internals/native-weak-map"),x=!x.ActiveXObject&&"ActiveXObject"in x,Object.isExtensible);C=C.exports=i("WeakMap",f,c),v&&x&&(o=c.getConstructor(f,"WeakMap",!0),r.REQUIRED=!0,a=(i=C.prototype).delete,d=i.has,u=i.get,p=i.set,s(i,{delete:function(N){var M;return h(N)&&!w(N)?((M=y(this)).frozen||(M.frozen=new o),a.call(this,N)||M.frozen.delete(N)):a.call(this,N)},has:function(N){var M;return h(N)&&!w(N)?((M=y(this)).frozen||(M.frozen=new o),d.call(this,N)||M.frozen.has(N)):d.call(this,N)},get:function(N){var M;return!h(N)||w(N)||((M=y(this)).frozen||(M.frozen=new o),d.call(this,N))?u.call(this,N):M.frozen.get(N)},set:function(N,M){var F;return!h(N)||w(N)||((F=y(this)).frozen||(F.frozen=new o),d.call(this,N))?p.call(this,N,M):F.frozen.set(N,M),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],229:[function(e,U,E){var f,o=e("../internals/global"),a=e("../internals/dom-iterables"),d=e("../internals/array-for-each"),u=e("../internals/create-non-enumerable-property");for(f in a){var p;if((p=(p=o[f])&&p.prototype)&&p.forEach!==d)try{u(p,"forEach",d)}catch(s){p.forEach=d}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],230:[function(p,U,E){var f,o=p("../internals/global"),a=p("../internals/dom-iterables"),d=p("../modules/es.array.iterator"),u=p("../internals/create-non-enumerable-property"),s=(p=p("../internals/well-known-symbol"))("iterator"),r=p("toStringTag"),i=d.values;for(f in a){var c=o[f],h=c&&c.prototype;if(h){if(h[s]!==i)try{u(h,s,i)}catch(v){h[s]=i}if(h[r]||u(h,r,f),a[f])for(var y in d)if(h[y]!==d[y])try{u(h,y,d[y])}catch(v){h[y]=d[y]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],231:[function(Te,U,E){"use strict";function f(Ie){try{return decodeURIComponent(Ie)}catch(Ve){return Ie}}function o(Ie){return K[Ie]}function a(Ie){return encodeURIComponent(Ie).replace(q,o)}function d(Ie){this.entries.length=0,we(this.entries,Ie)}function u(Ie,Ve){if(Ie<Ve)throw TypeError("Not enough arguments")}function p(){x(this,p,oe);var Ie,Ve,Ue,et,mt,Re,ot,ut,ft=0<arguments.length?arguments[0]:void 0,Qe=[];if(te(this,{type:oe,entries:Qe,updateURL:function(){},updateSearchParams:d}),void 0!==ft)if(F(ft))if("function"==typeof(Ie=ee(ft)))for(Ue=(Ve=Ie.call(ft)).next;!(et=Ue.call(Ve)).done;){if((Re=(mt=(et=G(M(et.value))).next).call(et)).done||(ot=mt.call(et)).done||!mt.call(et).done)throw TypeError("Expected sequence with length 2");Qe.push({key:Re.value+"",value:ot.value+""})}else for(ut in ft)w(ft,ut)&&Qe.push({key:ut,value:ft[ut]+""});else we(Qe,"string"==typeof ft?"?"===ft.charAt(0)?ft.slice(1):ft:ft+"")}Te("../modules/es.array.iterator");var s=Te("../internals/export"),Z=Te("../internals/get-built-in"),r=Te("../internals/native-url"),i=Te("../internals/redefine"),c=Te("../internals/redefine-all"),h=Te("../internals/set-to-string-tag"),y=Te("../internals/create-iterator-constructor"),v=Te("../internals/internal-state"),x=Te("../internals/an-instance"),w=Te("../internals/has"),C=Te("../internals/function-bind-context"),N=Te("../internals/classof"),M=Te("../internals/an-object"),F=Te("../internals/is-object"),j=Te("../internals/object-create"),B=Te("../internals/create-property-descriptor"),G=Te("../internals/get-iterator"),ee=Te("../internals/get-iterator-method"),$=(Te=Te("../internals/well-known-symbol"),Z("fetch")),H=Z("Headers"),oe=(Z=Te("iterator"),"URLSearchParams"),Q=oe+"Iterator",te=v.set,me=v.getterFor(oe),ce=v.getterFor(Q),he=/\+/g,Ae=Array(4),A=function(Ie){var Ve,Ue=Ie.replace(he," "),et=4;try{return decodeURIComponent(Ue)}catch(mt){for(;et;)Ue=Ue.replace((Ve=et--,Ae[Ve-1]||(Ae[Ve-1]=RegExp("((?:%[\\da-f]{2}){"+Ve+"})","gi"))),f);return Ue}},q=/[!'()~]|%20/g,K={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},we=function(Ie,Ve){if(Ve)for(var Ue,et=Ve.split("&"),mt=0;mt<et.length;)(Ue=et[mt++]).length&&(Ue=Ue.split("="),Ie.push({key:A(Ue.shift()),value:A(Ue.join("="))}))},Fe=y(function(Ie,Ve){te(this,{type:Q,iterator:G(me(Ie).entries),kind:Ve})},"Iterator",function(){var Ve,Ie=(Ve=ce(this)).kind,Ue=(Ve=Ve.iterator.next()).value;return Ve.done||(Ve.value="keys"===Ie?Ue.key:"values"===Ie?Ue.value:[Ue.key,Ue.value]),Ve});c(Te=p.prototype,{append:function(Ie,Ve){u(arguments.length,2);var Ue=me(this);Ue.entries.push({key:Ie+"",value:Ve+""}),Ue.updateURL()},delete:function(Ie){u(arguments.length,1);for(var Ve=me(this),Ue=Ve.entries,et=Ie+"",mt=0;mt<Ue.length;)Ue[mt].key===et?Ue.splice(mt,1):mt++;Ve.updateURL()},get:function(Ie){u(arguments.length,1);for(var Ve=me(this).entries,Ue=Ie+"",et=0;et<Ve.length;et++)if(Ve[et].key===Ue)return Ve[et].value;return null},getAll:function(Ie){u(arguments.length,1);for(var Ve=me(this).entries,Ue=Ie+"",et=[],mt=0;mt<Ve.length;mt++)Ve[mt].key===Ue&&et.push(Ve[mt].value);return et},has:function(Ie){u(arguments.length,1);for(var Ve=me(this).entries,Ue=Ie+"",et=0;et<Ve.length;)if(Ve[et++].key===Ue)return!0;return!1},set:function(Ie,Ve){u(arguments.length,1);for(var Ue,et=me(this),mt=et.entries,Re=!1,ot=Ie+"",ut=Ve+"",ft=0;ft<mt.length;ft++)(Ue=mt[ft]).key===ot&&(Re?mt.splice(ft--,1):(Re=!0,Ue.value=ut));Re||mt.push({key:ot,value:ut}),et.updateURL()},sort:function(){for(var Ie,Ve,Ue=me(this),et=Ue.entries,mt=et.slice(),Re=et.length=0;Re<mt.length;Re++){for(Ie=mt[Re],Ve=0;Ve<Re;Ve++)if(et[Ve].key>Ie.key){et.splice(Ve,0,Ie);break}Ve===Re&&et.push(Ie)}Ue.updateURL()},forEach:function(Ie){for(var Ve,Ue=me(this).entries,et=C(Ie,1<arguments.length?arguments[1]:void 0,3),mt=0;mt<Ue.length;)et((Ve=Ue[mt++]).value,Ve.key,this)},keys:function(){return new Fe(this,"keys")},values:function(){return new Fe(this,"values")},entries:function(){return new Fe(this,"entries")}},{enumerable:!0}),i(Te,Z,Te.entries),i(Te,"toString",function(){for(var Ie,Ve=me(this).entries,Ue=[],et=0;et<Ve.length;)Ie=Ve[et++],Ue.push(a(Ie.key)+"="+a(Ie.value));return Ue.join("&")},{enumerable:!0}),h(p,oe),s({global:!0,forced:!r},{URLSearchParams:p}),r||"function"!=typeof $||"function"!=typeof H||s({global:!0,enumerable:!0,forced:!0},{fetch:function(mt){var Ve,Ue,et;return mt=[mt],1<arguments.length&&(F(Ve=arguments[1])&&N(Ue=Ve.body)===oe&&((et=Ve.headers?new H(Ve.headers):new H).has("content-type")||et.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),Ve=j(Ve,{body:B(0,String(Ue)),headers:B(0,et)})),mt.push(Ve)),$.apply(this,mt)}}),U.exports={URLSearchParams:p,getState:me}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],232:[function(G,U,E){"use strict";function f(pt){var Jt,mn,qt,ct;if("number"==typeof pt){for(Jt=[],mn=0;mn<4;mn++)Jt.unshift(pt%256),pt=Q(pt/256);return Jt.join(".")}if("object"!=typeof pt)return pt;for(Jt="",qt=ot(pt),mn=0;mn<8;mn++)ct&&0===pt[mn]||(ct=ct&&!1,qt===mn?(Jt+=mn?":":"::",ct=!0):(Jt+=pt[mn].toString(16),mn<7&&(Jt+=":")));return"["+Jt+"]"}function o(pt){return!pt.host||pt.cannotBeABaseURL||"file"==pt.scheme}function a(pt,Jt,mn,qt){var ct,_t,un,sn=mn||yt,xn=0,Qt="",Fn=!1,On=!1,$n=!1;for(mn||(pt.scheme="",pt.username="",pt.password="",pt.host=null,pt.port=null,pt.path=[],pt.query=null,pt.fragment=null,pt.cannotBeABaseURL=!1,Jt=Jt.replace(et,"")),Jt=Jt.replace(mt,""),ct=N(Jt);xn<=ct.length;){switch(_t=ct[xn],sn){case yt:if(!_t||!A.test(_t)){if(mn)return ce;sn=ke;continue}Qt+=_t.toLowerCase(),sn=lt;break;case lt:if(_t&&(q.test(_t)||"+"==_t||"-"==_t||"."==_t))Qt+=_t.toLowerCase();else{if(":"!=_t){if(mn)return ce;Qt="",sn=ke,xn=0;continue}if(mn&&(Ot(pt)!=w($t,Qt)||"file"==Qt&&(tn(pt)||null!==pt.port)||"file"==pt.scheme&&!pt.host))return;if(pt.scheme=Qt,mn)return void(Ot(pt)&&$t[pt.scheme]==pt.port&&(pt.port=null));Qt="","file"==pt.scheme?sn=bn:Ot(pt)&&qt&&qt.scheme==pt.scheme?sn=Be:Ot(pt)?sn=xt:"/"==ct[xn+1]?(sn=Me,xn++):(pt.cannotBeABaseURL=!0,pt.path.push(""),sn=J)}break;case ke:if(!qt||qt.cannotBeABaseURL&&"#"!=_t)return ce;if(qt.cannotBeABaseURL&&"#"==_t){pt.scheme=qt.scheme,pt.path=qt.path.slice(),pt.query=qt.query,pt.fragment="",pt.cannotBeABaseURL=!0,sn=ne;break}sn="file"==qt.scheme?bn:$e;continue;case Be:if("/"!=_t||"/"!=ct[xn+1]){sn=$e;continue}sn=Lt,xn++;break;case Me:if("/"==_t){sn=Kt;break}sn=I;continue;case $e:if(pt.scheme=qt.scheme,_t==p)pt.username=qt.username,pt.password=qt.password,pt.host=qt.host,pt.port=qt.port,pt.path=qt.path.slice(),pt.query=qt.query;else if("/"==_t||"\\"==_t&&Ot(pt))sn=wt;else if("?"==_t)pt.username=qt.username,pt.password=qt.password,pt.host=qt.host,pt.port=qt.port,pt.path=qt.path.slice(),pt.query="",sn=de;else{if("#"!=_t){pt.username=qt.username,pt.password=qt.password,pt.host=qt.host,pt.port=qt.port,pt.path=qt.path.slice(),pt.path.pop(),sn=I;continue}pt.username=qt.username,pt.password=qt.password,pt.host=qt.host,pt.port=qt.port,pt.path=qt.path.slice(),pt.query=qt.query,pt.fragment="",sn=ne}break;case wt:if(!Ot(pt)||"/"!=_t&&"\\"!=_t){if("/"!=_t){pt.username=qt.username,pt.password=qt.password,pt.host=qt.host,pt.port=qt.port,sn=I;continue}sn=Kt}else sn=Lt;break;case xt:if(sn=Lt,"/"!=_t||"/"!=Qt.charAt(xn+1))continue;xn++;break;case Lt:if("/"==_t||"\\"==_t)break;sn=Kt;continue;case Kt:if("@"==_t){Fn&&(Qt="%40"+Qt),Fn=!0;for(var Hn=N(Qt),Dn=0;Dn<Hn.length;Dn++){var Kn=Hn[Dn];":"!=Kn||$n?(Kn=At(Kn,jt),$n?pt.password+=Kn:pt.username+=Kn):$n=!0}Qt=""}else if(_t==p||"/"==_t||"?"==_t||"#"==_t||"\\"==_t&&Ot(pt)){if(Fn&&""==Qt)return me;xn-=N(Qt).length+1,Qt="",sn=cn}else Qt+=_t;break;case cn:case nn:if(mn&&"file"==pt.scheme){sn=le;continue}if(":"!=_t||On){if(_t==p||"/"==_t||"?"==_t||"#"==_t||"\\"==_t&&Ot(pt)){if(Ot(pt)&&""==Qt)return he;if(mn&&""==Qt&&(tn(pt)||null!==pt.port))return;if(un=Re(pt,Qt))return un;if(Qt="",sn=S,mn)return;continue}"["==_t?On=!0:"]"==_t&&(On=!1),Qt+=_t}else{if(""==Qt)return he;if(un=Re(pt,Qt))return un;if(Qt="",sn=Wt,mn==nn)return}break;case Wt:if(!K.test(_t)){if(_t==p||"/"==_t||"?"==_t||"#"==_t||"\\"==_t&&Ot(pt)||mn){if(""!=Qt){var sr=parseInt(Qt,10);if(65535<sr)return Ae;pt.port=Ot(pt)&&sr===$t[pt.scheme]?null:sr,Qt=""}if(mn)return;sn=S;continue}return Ae}Qt+=_t;break;case bn:if(pt.scheme="file","/"==_t||"\\"==_t)sn=W;else{if(!qt||"file"!=qt.scheme){sn=I;continue}if(_t==p)pt.host=qt.host,pt.path=qt.path.slice(),pt.query=qt.query;else if("?"==_t)pt.host=qt.host,pt.path=qt.path.slice(),pt.query="",sn=de;else{if("#"!=_t){Je(ct.slice(xn).join(""))||(pt.host=qt.host,pt.path=qt.path.slice(),at(pt)),sn=I;continue}pt.host=qt.host,pt.path=qt.path.slice(),pt.query=qt.query,pt.fragment="",sn=ne}}break;case W:if("/"==_t||"\\"==_t){sn=le;break}qt&&"file"==qt.scheme&&!Je(ct.slice(xn).join(""))&&(It(qt.path[0],!0)?pt.path.push(qt.path[0]):pt.host=qt.host),sn=I;continue;case le:if(_t==p||"/"==_t||"\\"==_t||"?"==_t||"#"==_t){if(!mn&&It(Qt))sn=I;else{if(""==Qt){if(pt.host="",mn)return}else{if(un=Re(pt,Qt))return un;if("localhost"==pt.host&&(pt.host=""),mn)return;Qt=""}sn=S}continue}Qt+=_t;break;case S:if(Ot(pt)){if(sn=I,"/"!=_t&&"\\"!=_t)continue}else if(mn||"?"!=_t)if(mn||"#"!=_t){if(_t!=p&&(sn=I,"/"!=_t))continue}else pt.fragment="",sn=ne;else pt.query="",sn=de;break;case I:if(_t==p||"/"==_t||"\\"==_t&&Ot(pt)||!mn&&("?"==_t||"#"==_t)){if(We(Qt)?(at(pt),"/"==_t||"\\"==_t&&Ot(pt)||pt.path.push("")):je(Qt)?"/"==_t||"\\"==_t&&Ot(pt)||pt.path.push(""):("file"==pt.scheme&&!pt.path.length&&It(Qt)&&(pt.host&&(pt.host=""),Qt=Qt.charAt(0)+":"),pt.path.push(Qt)),Qt="","file"==pt.scheme&&(_t==p||"?"==_t||"#"==_t))for(;1<pt.path.length&&""===pt.path[0];)pt.path.shift();"?"==_t?(pt.query="",sn=de):"#"==_t&&(pt.fragment="",sn=ne)}else Qt+=At(_t,Qe);break;case J:"?"==_t?(pt.query="",sn=de):"#"==_t?(pt.fragment="",sn=ne):_t!=p&&(pt.path[0]+=At(_t,ut));break;case de:mn||"#"!=_t?_t!=p&&("'"==_t&&Ot(pt)?pt.query+="%27":pt.query+="#"==_t?"%23":At(_t,ut)):(pt.fragment="",sn=ne);break;case ne:_t!=p&&(pt.fragment+=At(_t,ft))}xn++}}function d(_t){var Jt,mn,qt=x(this,d,"URL"),ct=1<arguments.length?arguments[1]:void 0,un=(_t=String(_t),Z(qt,{type:"URL"}));if(void 0!==ct)if(ct instanceof d)Jt=oe(ct);else if(mn=a(Jt={},String(ct)))throw TypeError(mn);if(mn=a(un,_t,null,Jt))throw TypeError(mn);var sn=un.searchParams=new $;(ct=H(sn)).updateSearchParams(un.query),ct.updateURL=function(){un.query=String(sn)||null},c||(qt.href=k.call(qt),qt.origin=ue.call(qt),qt.protocol=tt.call(qt),qt.username=dt.call(qt),qt.password=kt.call(qt),qt.host=pn.call(qt),qt.hostname=Ln.call(qt),qt.port=Zn.call(qt),qt.pathname=yr.call(qt),qt.search=Er.call(qt),qt.searchParams=fr.call(qt),qt.hash=Xn.call(qt))}function u(pt,Jt){return{get:pt,set:Jt,configurable:!0,enumerable:!0}}G("../modules/es.string.iterator");var p,s,r,i=G("../internals/export"),c=G("../internals/descriptors"),h=G("../internals/native-url"),V=G("../internals/global"),y=G("../internals/object-define-properties"),v=G("../internals/redefine"),x=G("../internals/an-instance"),w=G("../internals/has"),C=G("../internals/object-assign"),N=G("../internals/array-from"),M=G("../internals/string-multibyte").codeAt,F=G("../internals/string-punycode-to-ascii"),j=G("../internals/set-to-string-tag"),B=G("../modules/web.url-search-params"),ee=(G=G("../internals/internal-state"),V.URL),$=B.URLSearchParams,H=B.getState,Z=G.set,oe=G.getterFor("URL"),Q=Math.floor,te=Math.pow,me="Invalid authority",ce="Invalid scheme",he="Invalid host",Ae="Invalid port",A=/[A-Za-z]/,q=/[\d+-.A-Za-z]/,K=/\d/,we=/^(0x|0X)/,Fe=/^[0-7]+$/,Te=/^\d+$/,Ie=/^[\dA-Fa-f]+$/,Ve=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Ue=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,et=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,mt=/[\u0009\u000A\u000D]/g,Re=function(pt,Jt){var mn,qt,ct;if("["==Jt.charAt(0))return"]"==Jt.charAt(Jt.length-1)&&(mn=function(_t){var Fn,On,$n,Hn,Dn,Kn,sr,un=[0,0,0,0,0,0,0,0],sn=0,xn=null,Qt=0,Qn=function(){return _t.charAt(Qt)};if(":"==Qn()){if(":"!=_t.charAt(1))return;Qt+=2,xn=++sn}for(;Qn();){if(8==sn)return;if(":"!=Qn()){for(Fn=On=0;On<4&&Ie.test(Qn());)Fn=16*Fn+parseInt(Qn(),16),Qt++,On++;if("."==Qn()){if(0==On||(Qt-=On,sn>6))return;for($n=0;Qn();){if(Hn=null,$n>0){if(!("."==Qn()&&$n<4))return;Qt++}if(!K.test(Qn()))return;for(;K.test(Qn());){if(Dn=parseInt(Qn(),10),null===Hn)Hn=Dn;else{if(0==Hn)return;Hn=10*Hn+Dn}if(Hn>255)return;Qt++}un[sn]=256*un[sn]+Hn,(2==++$n||4==$n)&&sn++}if(4!=$n)return;break}if(":"==Qn()){if(Qt++,!Qn())return}else if(Qn())return;un[sn++]=Fn}else{if(null!==xn)return;Qt++,xn=++sn}}if(null!==xn)for(Kn=sn-xn,sn=7;0!=sn&&Kn>0;)sr=un[sn],un[sn--]=un[xn+Kn-1],un[xn+--Kn]=sr;else if(8!=sn)return;return un}(Jt.slice(1,-1)))?void(pt.host=mn):he;if(Ot(pt))return Jt=F(Jt),Ve.test(Jt)||null===(mn=function(_t){var sn,xn,Qt,Fn,On,$n,Hn,un=_t.split(".");if(un.length&&""==un[un.length-1]&&un.pop(),(sn=un.length)>4)return _t;for(xn=[],Qt=0;Qt<sn;Qt++){if(""==(Fn=un[Qt]))return _t;if(On=10,Fn.length>1&&"0"==Fn.charAt(0)&&(On=we.test(Fn)?16:8,Fn=Fn.slice(8==On?1:2)),""===Fn)$n=0;else{if(!(10==On?Te:8==On?Fe:Ie).test(Fn))return _t;$n=parseInt(Fn,On)}xn.push($n)}for(Qt=0;Qt<sn;Qt++)if($n=xn[Qt],Qt==sn-1){if($n>=te(256,5-sn))return null}else if($n>255)return null;for(Hn=xn.pop(),Qt=0;Qt<xn.length;Qt++)Hn+=xn[Qt]*te(256,3-Qt);return Hn}(Jt))?he:void(pt.host=mn);if(Ue.test(Jt))return he;for(mn="",qt=N(Jt),ct=0;ct<qt.length;ct++)mn+=At(qt[ct],ut);pt.host=mn},ot=function(pt){for(var Jt=null,mn=1,qt=null,ct=0,_t=0;_t<8;_t++)0!==pt[_t]?(mn<ct&&(Jt=qt,mn=ct),qt=null,ct=0):(null===qt&&(qt=_t),++ct);return mn<ct&&(Jt=qt,mn=ct),Jt},ut={},ft=C({},ut,{" ":1,'"':1,"<":1,">":1,"`":1}),Qe=C({},ft,{"#":1,"?":1,"{":1,"}":1}),jt=C({},Qe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),At=function(pt,Jt){var mn=M(pt,0);return 32<mn&&mn<127&&!w(Jt,pt)?pt:encodeURIComponent(pt)},$t={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ot=function(pt){return w($t,pt.scheme)},tn=function(pt){return""!=pt.username||""!=pt.password},It=function(pt,Jt){return 2==pt.length&&A.test(pt.charAt(0))&&(":"==(pt=pt.charAt(1))||!Jt&&"|"==pt)},Je=function(pt){return 1<pt.length&&It(pt.slice(0,2))&&(2==pt.length||"/"===(pt=pt.charAt(2))||"\\"===pt||"?"===pt||"#"===pt)},at=function(pt){var Jt=pt.path,mn=Jt.length;!mn||"file"==pt.scheme&&1==mn&&It(Jt[0],!0)||Jt.pop()},je=function(pt){return"."===pt||"%2e"===pt.toLowerCase()},We=function(pt){return".."===(pt=pt.toLowerCase())||"%2e."===pt||".%2e"===pt||"%2e%2e"===pt},yt={},lt={},ke={},Be={},Me={},$e={},wt={},xt={},Lt={},Kt={},cn={},nn={},Wt={},bn={},W={},le={},S={},I={},J={},de={},ne={},k=(V=d.prototype,function(){var pt=oe(this),Jt=pt.scheme,mn=pt.username,qt=pt.password,ct=pt.host,_t=pt.port,un=pt.path,sn=pt.query,xn=pt.fragment,Qt=Jt+":";return null!==ct?(Qt+="//",tn(pt)&&(Qt+=mn+(qt?":"+qt:"")+"@"),Qt+=f(ct),null!==_t&&(Qt+=":"+_t)):"file"==Jt&&(Qt+="//"),Qt+=pt.cannotBeABaseURL?un[0]:un.length?"/"+un.join("/"):"",null!==sn&&(Qt+="?"+sn),null!==xn&&(Qt+="#"+xn),Qt}),ue=function(){var pt=oe(this),Jt=pt.scheme,mn=pt.port;if("blob"==Jt)try{return new URL(Jt.path[0]).origin}catch(qt){return"null"}return"file"!=Jt&&Ot(pt)?Jt+"://"+f(pt.host)+(null!==mn?":"+mn:""):"null"},tt=function(){return oe(this).scheme+":"},dt=function(){return oe(this).username},kt=function(){return oe(this).password},pn=function(){var pt=(Jt=oe(this)).host,Jt=Jt.port;return null===pt?"":null===Jt?f(pt):f(pt)+":"+Jt},Ln=function(){var pt=oe(this).host;return null===pt?"":f(pt)},Zn=function(){var pt=oe(this).port;return null===pt?"":String(pt)},yr=function(){var pt=oe(this),Jt=pt.path;return pt.cannotBeABaseURL?Jt[0]:Jt.length?"/"+Jt.join("/"):""},Er=function(){var pt=oe(this).query;return pt?"?"+pt:""},fr=function(){return oe(this).searchParams},Xn=function(){var pt=oe(this).fragment;return pt?"#"+pt:""};c&&y(V,{href:u(k,function(mn){var Jt=oe(this);if(mn=a(Jt,mn=String(mn)))throw TypeError(mn);H(Jt.searchParams).updateSearchParams(Jt.query)}),origin:u(ue),protocol:u(tt,function(pt){a(oe(this),String(pt)+":",yt)}),username:u(dt,function(pt){var Jt=oe(this),mn=N(String(pt));if(!o(Jt)){Jt.username="";for(var qt=0;qt<mn.length;qt++)Jt.username+=At(mn[qt],jt)}}),password:u(kt,function(pt){var Jt=oe(this),mn=N(String(pt));if(!o(Jt)){Jt.password="";for(var qt=0;qt<mn.length;qt++)Jt.password+=At(mn[qt],jt)}}),host:u(pn,function(pt){var Jt=oe(this);Jt.cannotBeABaseURL||a(Jt,String(pt),cn)}),hostname:u(Ln,function(pt){var Jt=oe(this);Jt.cannotBeABaseURL||a(Jt,String(pt),nn)}),port:u(Zn,function(pt){var Jt=oe(this);o(Jt)||(""==(pt=String(pt))?Jt.port=null:a(Jt,pt,Wt))}),pathname:u(yr,function(pt){var Jt=oe(this);Jt.cannotBeABaseURL||(Jt.path=[],a(Jt,pt+"",S))}),search:u(Er,function(pt){var Jt=oe(this);""==(pt=String(pt))?Jt.query=null:("?"==pt.charAt(0)&&(pt=pt.slice(1)),Jt.query="",a(Jt,pt,de)),H(Jt.searchParams).updateSearchParams(Jt.query)}),searchParams:u(fr),hash:u(Xn,function(pt){var Jt=oe(this);""==(pt=String(pt))?Jt.fragment=null:("#"==pt.charAt(0)&&(pt=pt.slice(1)),Jt.fragment="",a(Jt,pt,ne))})}),v(V,"toJSON",function(){return k.call(this)},{enumerable:!0}),v(V,"toString",function(){return k.call(this)},{enumerable:!0}),ee&&(r=ee.revokeObjectURL,(s=ee.createObjectURL)&&v(d,"createObjectURL",function(pt){return s.apply(ee,arguments)}),r&&v(d,"revokeObjectURL",function(pt){return r.apply(ee,arguments)})),j(d,"URL"),i({global:!0,forced:!h,sham:!c},{URL:d})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":124,"../modules/es.string.iterator":186,"../modules/web.url-search-params":231}],233:[function(e,U,E){"use strict";U.exports=e("./").polyfill()},{"./":234}],234:[function(e,U,E){(function(f,o){var d;d=function(){"use strict";function u(Re){return"function"==typeof Re}var p=Array.isArray||function(Re){return"[object Array]"===Object.prototype.toString.call(Re)},s=0,r=void 0,i=void 0,c=function(Re,ot){C[s]=Re,C[s+1]=ot,2===(s+=2)&&(i?i(N):$())},h="undefined"!=typeof window?window:void 0,y=(y=h||{}).MutationObserver||y.WebKitMutationObserver,v="undefined"==typeof self&&void 0!==f&&"[object process]"==={}.toString.call(f),x="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function w(){var Re=setTimeout;return function(){return Re(N,1)}}var C=new Array(1e3);function N(){for(var Re=0;Re<s;Re+=2)(0,C[Re])(C[Re+1]),C[Re]=void 0,C[Re+1]=void 0;s=0}var F,j,B,$=void 0;function G(Re,ot){var ut,ft=this,Qe=new this.constructor(Z),jt=(void 0===Qe[H]&&Ie(Qe),ft._state);return jt?(ut=arguments[jt-1],c(function(){return Fe(jt,Qe,ut,ft._result)})):K(ft,Qe,Re,ot),Qe}function ee(Re){var ot;return Re&&"object"==typeof Re&&Re.constructor===this?Re:(he(ot=new this(Z),Re),ot)}$=v?function(){return f.nextTick(N)}:y?(j=0,v=new y(N),B=document.createTextNode(""),v.observe(B,{characterData:!0}),function(){B.data=j=++j%2}):x?((F=new MessageChannel).port1.onmessage=N,function(){return F.port2.postMessage(0)}):(void 0===h&&"function"==typeof e?function M(){try{var Re=Function("return this")().require("vertx");return void 0!==(r=Re.runOnLoop||Re.runOnContext)?function(){r(N)}:w()}catch(ot){return w()}}:w)();var H=Math.random().toString(36).substring(2);function Z(){}var oe=void 0;function me(Re,ot,ut){c(function(ft){var Qe=!1,jt=function(At,$t,Ot,tn){try{At.call($t,function(At){Qe||(Qe=!0,(ot!==At?he:A)(ft,At))},function(At){Qe||(Qe=!0,q(ft,At))})}catch(It){return It}}(ut,ot);!Qe&&jt&&(Qe=!0,q(ft,jt))},Re)}function ce(Re,ot,ut){var ft,Qe;ot.constructor===Re.constructor&&ut===G&&ot.constructor.resolve===ee?(ft=Re,1===(Qe=ot)._state?A(ft,Qe._result):2===Qe._state?q(ft,Qe._result):K(Qe,void 0,function(jt){return he(ft,jt)},function(jt){return q(ft,jt)})):void 0!==ut&&u(ut)?me(Re,ot,ut):A(Re,ot)}function he(Re,ot){if(Re===ot)q(Re,new TypeError("You cannot resolve a promise with itself"));else if(ut=typeof ot,null===ot||"object"!=ut&&"function"!=ut)A(Re,ot);else{ut=void 0;try{ut=ot.then}catch(ft){return void q(Re,ft)}ce(Re,ot,ut)}var ut}function Ae(Re){Re._onerror&&Re._onerror(Re._result),we(Re)}function A(Re,ot){Re._state===oe&&(Re._result=ot,Re._state=1,0!==Re._subscribers.length&&c(we,Re))}function q(Re,ot){Re._state===oe&&(Re._state=2,Re._result=ot,c(Ae,Re))}function K(Re,ot,ut,ft){var Qe=Re._subscribers,jt=Qe.length;Re._onerror=null,Qe[jt]=ot,Qe[jt+1]=ut,Qe[jt+2]=ft,0===jt&&Re._state&&c(we,Re)}function we(Re){var ot=Re._subscribers,ut=Re._state;if(0!==ot.length){for(var ft,Qe=void 0,jt=Re._result,At=0;At<ot.length;At+=3)Qe=ot[At+ut],(ft=ot[At])?Fe(ut,ft,Qe,jt):Qe(jt);Re._subscribers.length=0}}function Fe(Re,ot,ut,ft){var Qe=u(ut),jt=void 0,At=void 0,$t=!0;if(Qe){try{jt=ut(ft)}catch(Ot){$t=!1,At=Ot}if(ot===jt)return void q(ot,new TypeError("A promises callback cannot return that same promise."))}else jt=ft;ot._state===oe&&(Qe&&$t?he(ot,jt):!1===$t?q(ot,At):1===Re?A(ot,jt):2===Re&&q(ot,jt))}var Te=0;function Ie(Re){Re[H]=Te++,Re._state=void 0,Re._result=void 0,Re._subscribers=[]}Ue.prototype._enumerate=function(Re){for(var ot=0;this._state===oe&&ot<Re.length;ot++)this._eachEntry(Re[ot],ot)},Ue.prototype._eachEntry=function(Re,ot){var ut=this._instanceConstructor,ft=ut.resolve;if(ft===ee){var Qe,jt=void 0,At=void 0,$t=!1;try{jt=Re.then}catch(Ot){$t=!0,At=Ot}jt===G&&Re._state!==oe?this._settledAt(Re._state,ot,Re._result):"function"!=typeof jt?(this._remaining--,this._result[ot]=Re):ut===et?(Qe=new ut(Z),$t?q(Qe,At):ce(Qe,Re,jt),this._willSettleAt(Qe,ot)):this._willSettleAt(new ut(function(Ot){return Ot(Re)}),ot)}else this._willSettleAt(ft(Re),ot)},Ue.prototype._settledAt=function(Re,ot,ut){var ft=this.promise;ft._state===oe&&(this._remaining--,2===Re?q(ft,ut):this._result[ot]=ut),0===this._remaining&&A(ft,this._result)},Ue.prototype._willSettleAt=function(Re,ot){var ut=this;K(Re,void 0,function(ft){return ut._settledAt(1,ot,ft)},function(ft){return ut._settledAt(2,ot,ft)})};var Ve=Ue;function Ue(Re,ot){this._instanceConstructor=Re,this.promise=new Re(Z),this.promise[H]||Ie(this.promise),p(ot)?(this.length=ot.length,this._remaining=ot.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(ot),0!==this._remaining)||A(this.promise,this._result)):q(this.promise,new Error("Array Methods must be provided an Array"))}mt.prototype.catch=function(Re){return this.then(null,Re)},mt.prototype.finally=function(Re){var ot=this.constructor;return u(Re)?this.then(function(ut){return ot.resolve(Re()).then(function(){return ut})},function(ut){return ot.resolve(Re()).then(function(){throw ut})}):this.then(Re,Re)};var et=mt;function mt(Re){if(this[H]=Te++,this._result=this._state=void 0,this._subscribers=[],Z!==Re){if("function"!=typeof Re)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof mt))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var ot=this;try{Re(function(ut){he(ot,ut)},function(ut){q(ot,ut)})}catch(ut){q(ot,ut)}}}return et.prototype.then=G,et.all=function(Re){return new Ve(this,Re).promise},et.race=function(Re){var ot=this;return p(Re)?new ot(function(ut,ft){for(var Qe=Re.length,jt=0;jt<Qe;jt++)ot.resolve(Re[jt]).then(ut,ft)}):new ot(function(ut,ft){return ft(new TypeError("You must pass an array to race."))})},et.resolve=ee,et.reject=function(Re){var ot=new this(Z);return q(ot,Re),ot},et._setScheduler=function(Re){i=Re},et._setAsap=function(Re){c=Re},et._asap=c,et.polyfill=function(){var Re=void 0;if(void 0!==o)Re=o;else if("undefined"!=typeof self)Re=self;else try{Re=Function("return this")()}catch(ft){throw new Error("polyfill failed because global object is unavailable in this environment")}var ot=Re.Promise;if(ot){var ut=null;try{ut=Object.prototype.toString.call(ot.resolve())}catch(ft){}if("[object Promise]"===ut&&!ot.cast)return}Re.Promise=et},et.Promise=et},"object"==typeof E&&void 0!==U?U.exports=d():this.ES6Promise=d()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:243}],235:[function(e,U,E){var o;o=function(a,d){"use strict";var p="callback";function s(i){try{delete window[i]}catch(c){window[i]=void 0}}function r(i){(i=document.getElementById(i))&&document.getElementsByTagName("head")[0].removeChild(i)}d.exports=function(i){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],h=i,y=c.timeout||5e3,v=c.jsonpCallback||p,x=void 0;return new Promise(function(w,C){var N=c.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),M=v+"_"+N,F=(window[N]=function(j){w({ok:!0,json:function(){return Promise.resolve(j)}}),x&&clearTimeout(x),r(M),s(N)},h+=-1===h.indexOf("?")?"?":"&",document.createElement("script"));F.setAttribute("src",""+h+v+"="+N),c.charset&&F.setAttribute("charset",c.charset),F.id=M,document.getElementsByTagName("head")[0].appendChild(F),x=setTimeout(function(){C(new Error("JSONP request to "+i+" timed out")),s(N),r(M),window[N]=function(){s(N)}},y),F.onerror=function(){C(new Error("JSONP request to "+i+" failed")),s(N),r(M),x&&clearTimeout(x)}})}},void 0!==E&&void 0!==U?o(0,U):(o(o={exports:{}},o),this.fetchJsonp=o.exports)},{}],236:[function(e,U,E){var f=function(o){"use strict";var a,d,u,p,s,r,c,h,y,v;if(!(void 0===o||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)))return a=function(){return o.URL||o.webkitURL||o},d=(v=o.document).createElementNS("http://www.w3.org/1999/xhtml","a"),u="download"in d,p=/constructor/i.test(o.HTMLElement)||o.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),r=function(x){(o.setImmediate||o.setTimeout)(function(){throw x},0)},4e4,c=function(x){setTimeout(function(){"string"==typeof x?a().revokeObjectURL(x):x.remove()},4e4)},h=function(x){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(x.type)?new Blob([String.fromCharCode(65279),x],{type:x.type}):x},v=(y=function(x,w,j){j||(x=h(x));var N,M,F=this,B=(j="application/octet-stream"===x.type,function(){for(var G=F,ee="writestart progress write writeend".split(" "),H=(ee=[].concat(ee)).length;H--;){var Z=G["on"+ee[H]];if("function"==typeof Z)try{Z.call(G,G)}catch(oe){r(oe)}}});F.readyState=F.INIT,u?(N=a().createObjectURL(x),setTimeout(function(){var G,ee;d.href=N,d.download=w,G=d,ee=new MouseEvent("click"),G.dispatchEvent(ee),B(),c(N),F.readyState=F.DONE})):(s||j&&p)&&o.FileReader?((M=new FileReader).onloadend=function(){var G=s?M.result:M.result.replace(/^data:[^;]*;/,"data:attachment/file;");o.open(G,"_blank")||(o.location.href=G),G=void 0,F.readyState=F.DONE,B()},M.readAsDataURL(x),F.readyState=F.INIT):(N=N||a().createObjectURL(x),!j&&o.open(N,"_blank")||(o.location.href=N),F.readyState=F.DONE,B(),c(N))}).prototype,"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(x,w,C){return w=w||x.name||"download",C||(x=h(x)),navigator.msSaveOrOpenBlob(x,w)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,function(x,w,C){return new y(x,w||x.name||"download",C)})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==U&&U.exports&&(U.exports.saveAs=f)},{}],237:[function(e,U,E){var f,o=Object.defineProperty,a=(o(E,"__esModule",{value:!0}),E),d={GIFEncoder:()=>B,applyPalette:()=>function(oe,Q,te="rgb565"){if(!oe||!oe.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(oe instanceof Uint8Array||oe instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<Q.length)throw new Error("applyPalette() only works with 256 colors or less");const me=new Uint32Array(oe.buffer),ce=me.length,he="rgb444"===te?4096:65536,Ae=new Uint8Array(ce),A=new Array(he);if("rgba4444"===te)for(let mt=0;mt<ce;mt++){var Fe,q=(Fe=me[mt])>>24&255,K=Fe>>16&255,we=Fe>>8&255,Te=(Te=c(Fe&=255,we,K,q))in A?A[Te]:A[Te]=function(Re,ot,ut,ft,Qe){let jt=0,At=1e100;for(let It=0;It<Qe.length;It++){var Ot=Qe[It],tn=M(Ot[3]-ft);tn>At||(tn+=M(Ot[0]-Re))>At||(tn+=M(Ot[1]-ot))>At||(tn+=M(Ot[2]-ut))>At||(At=tn,jt=It)}return jt}(Fe,we,K,q,Q);Ae[mt]=Te}else{const mt="rgb444"===te?h:i;for(let Re=0;Re<ce;Re++){var Ue,Ie=(Ue=me[Re])>>16&255,Ve=Ue>>8&255,et=(et=mt(Ue&=255,Ve,Ie))in A?A[et]:A[et]=function(ot,ut,ft,Qe){let jt=0,At=1e100;for(let It=0;It<Qe.length;It++){var Ot=Qe[It],tn=M(Ot[0]-ot);tn>At||(tn+=M(Ot[1]-ut))>At||(tn+=M(Ot[2]-ft))>At||(At=tn,jt=It)}return jt}(Ue,Ve,Ie,Q);Ae[Re]=et}}return Ae},default:()=>Z,nearestColor:()=>function(oe,Q,te=C){return oe[F(oe,Q,te)]},nearestColorIndex:()=>F,nearestColorIndexWithDistance:()=>j,prequantize:()=>function(oe,{roundRGB:Q=5,roundAlpha:te=10,oneBitAlpha:me=null}={}){const ce=new Uint32Array(oe.buffer);for(let K=0;K<ce.length;K++){let we=(q=ce[K])>>24&255;var Ae=q>>16&255,A=q>>8&255,q=255&q;we=N(we,te),me&&(we=we<=("number"==typeof me?me:127)?0:255),q=N(q,Q),A=N(A,Q),Ae=N(Ae,Q),ce[K]=we<<24|Ae<<16|A<<8|q<<0}},quantize:()=>function(oe,Q,te={}){var{format:me="rgb565",clearAlpha:ce=!0,clearAlphaColor:he=0,clearAlphaThreshold:Ae=0,oneBitAlpha:A=!1}=te;if(!oe||!oe.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(oe instanceof Uint8Array||oe instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");oe=new Uint32Array(oe.buffer);let q=!1!==te.useSqrt;const K="rgba4444"===me,we=function(Je,at){const We=new Array("rgb444"===at?4096:65536),yt=Je.length;if("rgba4444"===at)for(let W=0;W<yt;++W){var Me,lt=(Me=Je[W])>>24&255,ke=Me>>16&255,Be=Me>>8&255,$e=c(Me&=255,Be,ke,lt);let le=$e in We?We[$e]:We[$e]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};le.rc+=Me,le.gc+=Be,le.bc+=ke,le.ac+=lt,le.cnt++}else if("rgb444"===at)for(let W=0;W<yt;++W){var Lt,wt=(Lt=Je[W])>>16&255,xt=Lt>>8&255,Kt=h(Lt&=255,xt,wt);let le=Kt in We?We[Kt]:We[Kt]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};le.rc+=Lt,le.gc+=xt,le.bc+=wt,le.cnt++}else for(let W=0;W<yt;++W){var Wt,cn=(Wt=Je[W])>>16&255,nn=Wt>>8&255,bn=i(Wt&=255,nn,cn);let le=bn in We?We[bn]:We[bn]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};le.rc+=Wt,le.gc+=nn,le.bc+=cn,le.cnt++}return We}(oe,me),Fe=we.length,Te=Fe-1,Ie=new Uint32Array(Fe+1);for(var Ve=0,Ue=0;Ue<Fe;++Ue){const Je=we[Ue];null!=Je&&(Ot=1/Je.cnt,K&&(Je.ac*=Ot),Je.rc*=Ot,Je.gc*=Ot,Je.bc*=Ot,we[Ve++]=Je)}var et,mt,Re;for(v(Q)/Ve<.022&&(q=!1),Ue=0;Ue<Ve-1;++Ue)we[Ue].fw=Ue+1,we[Ue+1].bk=Ue,q&&(we[Ue].cnt=Math.sqrt(we[Ue].cnt));for(q&&(we[Ue].cnt=Math.sqrt(we[Ue].cnt)),Ue=0;Ue<Ve;++Ue){x(we,Ue,!1);var ot=we[Ue].err;for(mt=++Ie[0];1<mt&&!(we[et=Ie[Re=mt>>1]].err<=ot);mt=Re)Ie[mt]=et;Ie[mt]=Ue}var ut,ft=Ve-Q;for(Ue=0;Ue<ft;){for(;;){var Qe=Ie[1];if((ut=we[Qe]).tm>=ut.mtm&&we[ut.nn].mtm<=ut.tm)break;for(ut.mtm==Te?Qe=Ie[1]=Ie[Ie[0]--]:(x(we,Qe,!1),ut.tm=Ue),ot=we[Qe].err,mt=1;(Re=mt+mt)<=Ie[0]&&(Re<Ie[0]&&we[Ie[Re]].err>we[Ie[Re+1]].err&&Re++,!(ot<=we[et=Ie[Re]].err));mt=Re)Ie[mt]=et;Ie[mt]=Qe}var jt=we[ut.nn],At=ut.cnt,$t=jt.cnt,Ot=1/(At+$t);K&&(ut.ac=Ot*(At*ut.ac+$t*jt.ac)),ut.rc=Ot*(At*ut.rc+$t*jt.rc),ut.gc=Ot*(At*ut.gc+$t*jt.gc),ut.bc=Ot*(At*ut.bc+$t*jt.bc),ut.cnt+=jt.cnt,ut.mtm=++Ue,we[jt.bk].fw=jt.fw,we[jt.fw].bk=jt.bk,jt.mtm=Te}let tn=[];for(Ue=0;;0){let Je=y(Math.round(we[Ue].rc),0,255),at=y(Math.round(we[Ue].gc),0,255),je=y(Math.round(we[Ue].bc),0,255),We=255;K&&(We=y(Math.round(we[Ue].ac),0,255),A&&(We=We<=(It="number"==typeof A?A:127)?0:255),ce&&We<=Ae&&(Je=at=je=he,We=0));var It=K?[Je,at,je,We]:[Je,at,je];if(function(yt,lt){for(let Me=0;Me<yt.length;Me++){var ke=(Be=yt[Me])[0]===lt[0]&&Be[1]===lt[1]&&Be[2]===lt[2],Be=!(4<=Be.length&&4<=lt.length)||Be[3]===lt[3];if(ke&&Be)return!0}return!1}(tn,It)||tn.push(It),0==(Ue=we[Ue].fw))break}return tn},snapColorsToPalette:()=>function(oe,Q,te=5){if(oe.length&&Q.length){var me=oe.map(q=>q.slice(0,3)),ce=te*te,he=oe[0].length;for(let q=0;q<Q.length;q++){let K=Q[q];K=K.length<he?[K[0],K[1],K[2],255]:K.length>he?K.slice(0,3):K.slice();var A,Ae=(A=j(me,K.slice(0,3),C))[0];0<(A=A[1])&&A<=ce&&(oe[Ae]=K)}}}};for(f in d)o(a,f,{get:d[f],enumerable:!0});var u_trailer=59;function p(oe=256){let Q=0,te=new Uint8Array(oe);return{get buffer(){return te.buffer},reset(){Q=0},bytesView:()=>te.subarray(0,Q),bytes:()=>te.slice(0,Q),writeByte(ce){me(Q+1),te[Q]=ce,Q++},writeBytes(ce,he=0,Ae=ce.length){me(Q+Ae);for(let A=0;A<Ae;A++)te[Q++]=ce[A+he]},writeBytesView(ce,he=0,Ae=ce.byteLength){me(Q+Ae),te.set(ce.subarray(he,he+Ae),Q),Q+=Ae}};function me(ce){var he=te.length;if(!(ce<=he)){ce=Math.max(ce,he*(he<1048576?2:1.125)>>>0),0!=he&&(ce=Math.max(ce,256));const Ae=te;te=new Uint8Array(ce),0<Q&&te.set(Ae.subarray(0,Q),0)}}}var s=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function i(oe,Q,te){return oe<<8&63488|Q<<2&992|te>>3}function c(oe,Q,te,me){return oe>>4|240&Q|(240&te)<<4|(240&me)<<8}function h(oe,Q,te){return oe>>4<<8|240&Q|te>>4}function y(oe,Q,te){return oe<Q?Q:te<oe?te:oe}function v(oe){return oe*oe}function x(oe,Q,te){var me=0,ce=1e100;const he=oe[Q];for(var Ae=he.cnt,A=he.ac,q=he.rc,K=he.gc,we=he.bc,Fe=he.fw;0!=Fe;Fe=oe[Fe].fw){var Te,Ve,Ie=oe[Fe];ce<=(Ve=Ae*(Ve=Ie.cnt)/(Ae+Ve))||(Te=0,te&&ce<=(Te+=Ve*v(Ie.ac-A))||ce<=(Te+=Ve*v(Ie.rc-q))||ce<=(Te+=Ve*v(Ie.gc-K))||ce<=(Te+=Ve*v(Ie.bc-we))||(ce=Te,me=Fe))}he.err=ce,he.nn=me}function C(oe,Q){for(var te=0,me=0;me<oe.length;me++){var ce=oe[me]-Q[me];te+=ce*ce}return te}function N(oe,Q){return 1<Q?Math.round(oe/Q)*Q:oe}function M(oe){return oe*oe}function F(oe,Q,te=C){let me=1/0,ce=-1;for(let Ae=0;Ae<oe.length;Ae++){var he=te(Q,oe[Ae]);he<me&&(me=he,ce=Ae)}return ce}function j(oe,Q,te=C){let me=1/0,ce=-1;for(let Ae=0;Ae<oe.length;Ae++){var he=te(Q,oe[Ae]);he<me&&(me=he,ce=Ae)}return[ce,me]}function B(oe={}){const{initialCapacity:Q=4096,auto:te=!0}=oe,me=p(Q),ce=new Uint8Array(256),he=new Int32Array(5003),Ae=new Int32Array(5003);let A=!1;return{reset(){me.reset(),A=!1},finish(){me.writeByte(u_trailer)},bytes:()=>me.bytes(),bytesView:()=>me.bytesView(),get buffer(){return me.buffer},get stream(){return me},writeHeader:q,writeFrame(K,we,Fe,ft={}){var{transparent:Ie=!1,transparentIndex:Ve=0,delay:Ot=0,palette:Ue=null,repeat:jt=0,colorDepth:et=8,dispose:mt=-1}=ft;let Re=!1;if(te?A||(Re=!0,q(),A=!0):Re=Boolean(ft.first),we=Math.max(0,Math.floor(we)),Fe=Math.max(0,Math.floor(Fe)),Re){if(!Ue)throw new Error("First frame must include a { palette } option");var[ft,At,ut,$t,Qe=8]=[me,we,Fe,Ue,et];Qe=128|Qe-1<<4|($t=H($t.length)-1),ee(ft,At),ee(ft,ut),ft.writeBytes([Qe,0,0]),G(me,Ue),0<=jt&&(At=jt,($t=me).writeByte(33),$t.writeByte(255),$t.writeByte(11),$($t,"NETSCAPE2.0"),$t.writeByte(3),$t.writeByte(1),ee($t,At),$t.writeByte(0))}var ot,ut,Qe=mt,jt=ut=Math.round(Ot/10),At=Ie,$t=Ve,Ot=((ft=me).writeByte(33),ft.writeByte(249),ft.writeByte(4),$t<0&&($t=0,At=!1),At=At?(ot=1,2):ot=0,0<=Qe&&(At=7&Qe),ft.writeByte(0|(At<<=2)|ot),ee(ft,jt),ft.writeByte($t||0),ft.writeByte(0),Boolean(Ue)&&!Re);Ie=we,Ve=Fe,ot=Ot?Ue:null,(mt=me).writeByte(44),ee(mt,0),ee(mt,0),ee(mt,Ie),ee(mt,Ve),ot?(Ie=H(ot.length)-1,mt.writeByte(128|Ie)):mt.writeByte(0),Ot&&G(me,Ue),[jt,ft,Ve,Ie,mt=8,Ot,Ue,K]=[me,K,we,Fe,et,ce,he,Ae],function(oe,Q,te,K,ce=p(512),he=new Uint8Array(256),Ae=new Int32Array(5003),A=new Int32Array(5003)){var q=Ae.length;K=Math.max(2,K),he.fill(0),A.fill(0),Ae.fill(-1);let we=0,Fe=0;var Te=K+1;const Ie=Te;let Ve=!1,Ue=Ie,et=(1<<Ue)-1;var mt=1<<Te-1;const Re=1+mt;let ot=2+mt,ut=0,ft=te[0],Qe=0;for(let It=q;It<65536;It*=2)++Qe;Qe=8-Qe,ce.writeByte(K),tn(mt);var jt=te.length;for(let It=1;It<jt;It++)e:{var At=te[It],$t=(At<<12)+ft;let Je=At<<Qe^ft;if(Ae[Je]===$t)ft=A[Je];else{for(var Ot=0===Je?1:q-Je;0<=Ae[Je];)if((Je-=Ot)<0&&(Je+=q),Ae[Je]===$t){ft=A[Je];break e}tn(ft),ft=At,ot<4096?(A[Je]=ot++,Ae[Je]=$t):(Ae.fill(-1),ot=2+mt,Ve=!0,tn(mt))}}return tn(ft),tn(Re),ce.writeByte(0),ce.bytesView();function tn(It){for(we&=s[Fe],0<Fe?we|=It<<Fe:we=It,Fe+=Ue;8<=Fe;)he[ut++]=255&we,254<=ut&&(ce.writeByte(ut),ce.writeBytesView(he,0,ut),ut=0),we>>=8,Fe-=8;if((ot>et||Ve)&&(Ve?(Ue=Ie,et=(1<<Ue)-1,Ve=!1):(++Ue,et=12===Ue?1<<Ue:(1<<Ue)-1)),It==Re){for(;0<Fe;)he[ut++]=255&we,254<=ut&&(ce.writeByte(ut),ce.writeBytesView(he,0,ut),ut=0),we>>=8,Fe-=8;0<ut&&(ce.writeByte(ut),ce.writeBytesView(he,0,ut),ut=0)}}}(0,0,ft,mt,jt,Ot,Ue,K)}};function q(){$(me,"GIF89a")}}function G(oe,Q){var te=1<<H(Q.length);for(let me=0;me<te;me++){let ce=[0,0,0];me<Q.length&&(ce=Q[me]),oe.writeByte(ce[0]),oe.writeByte(ce[1]),oe.writeByte(ce[2])}}function ee(oe,Q){oe.writeByte(255&Q),oe.writeByte(Q>>8&255)}function $(oe,Q){for(var te=0;te<Q.length;te++)oe.writeByte(Q.charCodeAt(te))}function H(oe){return Math.max(Math.ceil(Math.log2(oe)),1)}var Z=B},{}],238:[function(e,U,E){E.read=function(f,o,a,d,x){var p,s,r=8*x-d-1,i=(1<<r)-1,c=i>>1,h=-7,y=a?x-1:0,v=a?-1:1;for(x=f[o+y],y+=v,p=x&(1<<-h)-1,x>>=-h,h+=r;0<h;p=256*p+f[o+y],y+=v,h-=8);for(s=p&(1<<-h)-1,p>>=-h,h+=d;0<h;s=256*s+f[o+y],y+=v,h-=8);if(0===p)p=1-c;else{if(p===i)return s?NaN:1/0*(x?-1:1);s+=Math.pow(2,d),p-=c}return(x?-1:1)*s*Math.pow(2,p-d)},E.write=function(f,o,a,d,u,w){var s,r,i=8*w-u-1,c=(1<<i)-1,h=c>>1,y=23===u?Math.pow(2,-24)-Math.pow(2,-77):0,v=d?0:w-1,x=d?1:-1;for(w=o<0||0===o&&1/o<0?1:0,o=Math.abs(o),isNaN(o)||o===1/0?(r=isNaN(o)?1:0,s=c):(s=Math.floor(Math.log(o)/Math.LN2),o*(d=Math.pow(2,-s))<1&&(s--,d*=2),2<=(o+=1<=s+h?y/d:y*Math.pow(2,1-h))*d&&(s++,d/=2),c<=s+h?(r=0,s=c):1<=s+h?(r=(o*d-1)*Math.pow(2,u),s+=h):(r=o*Math.pow(2,h-1)*Math.pow(2,u),s=0));8<=u;f[a+v]=255&r,v+=x,r/=256,u-=8);for(s=s<<u|r,i+=u;0<i;f[a+v]=255&s,v+=x,s/=256,i-=8);f[a+v-x]|=128*w}},{}],239:[function(e,U,E){"use strict";var f;function o(ke,Be){return ke.b===Be.b&&ke.a===Be.a}function a(ke,Be){return ke.b<Be.b||ke.b===Be.b&&ke.a<=Be.a}function d(ke,Be,Me){var $e=Be.b-ke.b,wt=Me.b-Be.b;return 0<$e+wt?$e<wt?Be.a-ke.a+$e/($e+wt)*(ke.a-Me.a):Be.a-Me.a+wt/($e+wt)*(Me.a-ke.a):0}function u(ke,Be,Me){var $e=Be.b-ke.b,wt=Me.b-Be.b;return 0<$e+wt?(Be.a-Me.a)*$e+(Be.a-ke.a)*wt:0}function p(ke,Be){return ke.a<Be.a||ke.a===Be.a&&ke.b<=Be.b}function s(ke,Be,Me){var $e=Be.a-ke.a,wt=Me.a-Be.a;return 0<$e+wt?$e<wt?Be.b-ke.b+$e/($e+wt)*(ke.b-Me.b):Be.b-Me.b+wt/($e+wt)*(Me.b-ke.b):0}function r(ke,Be,Me){var $e=Be.a-ke.a,wt=Me.a-Be.a;return 0<$e+wt?(Be.b-Me.b)*$e+(Be.b-ke.b)*wt:0}function i(ke,Be,Me,$e){return(ke=ke<0?0:ke)<=(Me=Me<0?0:Me)?0===Me?(Be+$e)/2:Be+ke/(ke+Me)*($e-Be):$e+Me/(ke+Me)*(Be-$e)}function c(ke){var Be=w(ke.b);return N(Be,ke.c),N(Be.b,ke.c),M(Be,ke.a),Be}function h(ke,Be){var Me=!1,$e=!1;ke!==Be&&(Be.a!==ke.a&&($e=!0,j(Be.a,ke.a)),Be.d!==ke.d&&(Me=!0,B(Be.d,ke.d)),C(Be,ke),$e||(N(Be,ke.a),ke.a.c=ke),Me||(M(Be,ke.d),ke.d.a=ke))}function y(ke){var Be=ke.b,Me=!1;ke.d!==ke.b.d&&(Me=!0,B(ke.d,ke.b.d)),ke.c===ke?j(ke.a,null):(ke.b.d.a=ke.b.e,ke.a.c=ke.c,C(ke,ke.b.e),Me||M(ke,ke.d)),Be.c===Be?(j(Be.a,null),B(Be.d,null)):(ke.d.a=Be.b.e,Be.a.c=Be.c,C(Be,Be.b.e)),F(ke)}function v(ke){var Be=w(ke),Me=Be.b;return C(Be,ke.e),Be.a=ke.b.a,N(Me,Be.a),Be.d=Me.d=ke.d,Be=Be.b,C(ke.b,ke.b.b.e),C(ke.b,Be),ke.b.a=Be.a,Be.b.a.c=Be.b,Be.b.d=ke.b.d,Be.f=ke.f,Be.b.f=ke.b.f,Be}function x(ke,Be){var Me=!1,$e=w(ke),wt=$e.b;return Be.d!==ke.d&&(Me=!0,B(Be.d,ke.d)),C($e,ke.e),C(wt,Be),$e.a=ke.b.a,wt.a=Be.a,$e.d=wt.d=ke.d,ke.d.a=wt,Me||M($e,ke.d),$e}function w(ke){var Be=new ut,Me=new ut;return(((Me.h=ke.b.h).b.h=Be).h=ke).b.h=Me,Be.b=Me,((Be.c=Be).e=Me).b=Be,(Me.c=Me).e=Be}function C(ke,Be){var Me=ke.c,$e=Be.c;Me.b.e=Be,($e.b.e=ke).c=$e,Be.c=Me}function N(ke,Be){var Me=Be.f,$e=new Qe(Be,Me);for(Me.e=$e,Me=(Be.f=$e).c=ke;Me.a=$e,(Me=Me.c)!==ke;);}function M(ke,Be){var Me=Be.d,$e=new ot(Be,Me);for(Me.b=$e,(Be.d=$e).a=ke,$e.c=Be.c,Me=ke;Me.d=$e,(Me=Me.e)!==ke;);}function F(ke){var Be=ke.h;(Be.b.h=ke=ke.b.h).b.h=Be}function j(ke,Be){for(var Me=ke.c,$e=Me;$e.a=Be,($e=$e.c)!==Me;);(($e=ke.e).f=Me=ke.f).e=$e}function B(ke,Be){for(var Me=ke.a,$e=Me;$e.d=Be,($e=$e.e)!==Me;);(($e=ke.b).d=Me=ke.d).b=$e}function G(ke){var Be=0;return Math.abs(ke[1])>Math.abs(ke[0])&&(Be=1),Math.abs(ke[2])>Math.abs(ke[Be])?2:Be}function ee(ke,Be){ke.f+=Be.f,ke.b.f+=Be.b.f}function $(ke,Be,Me){return Me=Me.a,(Be=Be.a).b.a===(ke=ke.a)?Me.b.a===ke?a(Be.a,Me.a)?u(Me.b.a,Be.a,Me.a)<=0:0<=u(Be.b.a,Me.a,Be.a):u(Me.b.a,ke,Me.a)<=0:Me.b.a===ke?0<=u(Be.b.a,ke,Be.a):(Be=d(Be.b.a,ke,Be.a),(ke=d(Me.b.a,ke,Me.a))<=Be)}function H(ke){ke.a.i=null;var Be=ke.e;Be.a.c=Be.c,Be.c.a=Be.a,ke.e=null}function Z(ke,Be){y(ke.a),ke.c=!1,(ke.a=Be).i=ke}function oe(ke){for(var Be=ke.a.a;(ke=lt(ke)).a.a===Be;);return ke.c&&(Z(ke,Be=x(yt(ke).a.b,ke.a.e)),ke=lt(ke)),ke}function Q(ke,Be,Me){var $e=new We;return $e.a=Me,$e.e=Ve(ke.f,Be.e,$e),Me.i=$e}function te(ke,Be){switch(ke.s){case 100130:return 0!=(1&Be);case 100131:return 0!==Be;case 100132:return 0<Be;case 100133:return Be<0;case 100134:return 2<=Be||Be<=-2}return!1}function me(ke){var Be=ke.a,Me=Be.d;Me.c=ke.d,Me.a=Be,H(ke)}function ce(ke,Be,Me){for(Be=(ke=Be).a;ke!==Me;){ke.c=!1;var $e=yt(ke),wt=$e.a;if(wt.a!==Be.a){if(!$e.c){me(ke);break}Z($e,wt=x(Be.c.b,wt.b))}Be.c!==wt&&(h(wt.b.e,wt),h(Be,wt)),me(ke),Be=$e.a,ke=$e}return Be}function he(ke,Be,Me,$e,wt,xt){for(var Lt=!0;Q(ke,Be,Me.b),(Me=Me.c)!==$e;);for(null===wt&&(wt=yt(Be).a.b.c);(Me=($e=yt(Be)).a.b).a===wt.a;)Me.c!==wt&&(h(Me.b.e,Me),h(wt.b.e,Me)),$e.f=Be.f-Me.f,$e.d=te(ke,$e.f),Be.b=!0,!Lt&&K(ke,Be)&&(ee(Me,wt),H(Be),y(wt)),Lt=!1,Be=$e,wt=Me;Be.b=!0,xt&&Fe(ke,Be)}function Ae(ke,Be,Me,$e,wt){var xt=[Be.g[0],Be.g[1],Be.g[2]];Be.d=null,Be.d=ke.o&&ke.o(xt,Me,$e,ke.c)||null,null===Be.d&&(wt?ke.n||(Re(ke,100156),ke.n=!0):Be.d=Me[0])}function A(ke,Be,Me){var $e=[null,null,null,null];$e[0]=Be.a.d,$e[1]=Me.a.d,Ae(ke,Be.a,$e,[.5,.5,0,0],!1),h(Be,Me)}function q(ke,Be,Me,$e,wt){var xt=Math.abs(Be.b-ke.b)+Math.abs(Be.a-ke.a),Lt=Math.abs(Me.b-ke.b)+Math.abs(Me.a-ke.a),Kt=wt+1;$e[wt]=.5*Lt/(xt+Lt),$e[Kt]=.5*xt/(xt+Lt),ke.g[0]+=$e[wt]*Be.g[0]+$e[Kt]*Me.g[0],ke.g[1]+=$e[wt]*Be.g[1]+$e[Kt]*Me.g[1],ke.g[2]+=$e[wt]*Be.g[2]+$e[Kt]*Me.g[2]}function K(ke,Be){var Me=yt(Be),$e=Be.a,wt=Me.a;if(a($e.a,wt.a)){if(0<u(wt.b.a,$e.a,wt.a))return;if(o($e.a,wt.a)){if($e.a!==wt.a){Me=ke.e;var xt=$e.a.h;if(0<=xt){var Lt=(Me=Me.b).d,Kt=Me.e,cn=Me.c,nn=cn[xt];Lt[nn]=Lt[Me.a],(cn[Lt[nn]]=nn)<=--Me.a&&(nn<=1||a(Kt[Lt[nn>>1]],Kt[Lt[nn]])?at:je)(Me,nn),Kt[xt]=null,cn[xt]=Me.b,Me.b=xt}else for(Me.c[-(xt+1)]=null;0<Me.a&&null===Me.c[Me.d[Me.a-1]];)--Me.a;A(ke,wt.b.e,$e)}}else v(wt.b),h($e,wt.b.e),Be.b=Me.b=!0}else{if(u($e.b.a,wt.a,$e.a)<0)return;lt(Be).b=Be.b=!0,v($e.b),h(wt.b.e,$e)}return 1}function we(ke,Be){var Me=yt(Be),$e=Be.a,wt=Me.a,xt=$e.a,Lt=wt.a,Kt=$e.b.a,cn=wt.b.a,nn=new Qe;if(u(Kt,ke.a,xt),u(cn,ke.a,Lt),!(xt===Lt||Math.min(xt.a,Kt.a)>Math.max(Lt.a,cn.a))){if(a(xt,Lt)){if(0<u(cn,xt,Lt))return}else if(u(Kt,Lt,xt)<0)return;var Wt,bn,W=Kt,le=xt,S=cn,I=Lt;if(a(W,le)||(Wt=W,W=le,le=Wt),a(S,I)||(Wt=S,S=I,I=Wt),a(W,S)||(Wt=W,W=S,S=Wt,Wt=le,le=I,I=Wt),a(S,le)?a(le,I)?((Wt=d(W,S,le))+(bn=d(S,le,I))<0&&(Wt=-Wt,bn=-bn),nn.b=i(Wt,S.b,bn,le.b)):((Wt=u(W,S,le))+(bn=-u(W,I,le))<0&&(Wt=-Wt,bn=-bn),nn.b=i(Wt,S.b,bn,I.b)):nn.b=(S.b+le.b)/2,p(W,le)||(Wt=W,W=le,le=Wt),p(S,I)||(Wt=S,S=I,I=Wt),p(W,S)||(Wt=W,W=S,S=Wt,Wt=le,le=I,I=Wt),p(S,le)?p(le,I)?((Wt=s(W,S,le))+(bn=s(S,le,I))<0&&(Wt=-Wt,bn=-bn),nn.a=i(Wt,S.a,bn,le.a)):((Wt=r(W,S,le))+(bn=-r(W,I,le))<0&&(Wt=-Wt,bn=-bn),nn.a=i(Wt,S.a,bn,I.a)):nn.a=(S.a+le.a)/2,a(nn,ke.a)&&(nn.b=ke.a.b,nn.a=ke.a.a),W=a(xt,Lt)?xt:Lt,a(W,nn)&&(nn.b=W.b,nn.a=W.a),o(nn,xt)||o(nn,Lt))return K(ke,Be),0;if(!o(Kt,ke.a)&&0<=u(Kt,ke.a,nn)||!o(cn,ke.a)&&u(cn,ke.a,nn)<=0){if(cn===ke.a)v($e.b),h(wt.b,$e),$e=yt(Be=oe(Be)).a,ce(ke,yt(Be),Me),he(ke,Be,$e.b.e,$e,$e,!0);else{if(Kt!==ke.a)return 0<=u(Kt,ke.a,nn)&&(lt(Be).b=Be.b=!0,v($e.b),$e.a.b=ke.a.b,$e.a.a=ke.a.a),void(u(cn,ke.a,nn)<=0&&(Be.b=Me.b=!0,v(wt.b),wt.a.b=ke.a.b,wt.a.a=ke.a.a));for(v(wt.b),h($e.e,wt.b.e),Lt=(xt=Me=Be).a.b.a;(xt=lt(xt)).a.b.a===Lt;);xt=yt(Be=xt).a.b.c,Me.a=wt.b.e,he(ke,Be,(wt=ce(ke,Me,null)).c,$e.b.c,xt,!0)}return 1}v($e.b),v(wt.b),h(wt.b.e,$e),$e.a.b=nn.b,$e.a.a=nn.a,$e.a.h=At(ke.e,$e.a),wt=[0,0,0,0],nn=[xt.d,Kt.d,Lt.d,cn.d],($e=$e.a).g[0]=$e.g[1]=$e.g[2]=0,q($e,xt,Kt,wt,0),q($e,Lt,cn,wt,2),Ae(ke,$e,nn,wt,!0),lt(Be).b=Be.b=Me.b=!0}}function Fe(ke,Be){for(var Me=yt(Be);;){for(;Me.b;)Me=yt(Be=Me);if(!(Be.b||null!==(Be=lt(Me=Be))&&Be.b))break;Be.b=!1;var $e=Be.a,wt=Me.a;if(xt=$e.b.a!==wt.b.a)e:{var xt,Lt=yt(xt=Be),Kt=xt.a,cn=Lt.a,nn=void 0;if(a(Kt.b.a,cn.b.a)){if(u(Kt.b.a,cn.b.a,Kt.a)<0){xt=!1;break e}lt(xt).b=xt.b=!0,nn=v(Kt),h(cn.b,nn),nn.d.c=xt.d}else{if(0<u(cn.b.a,Kt.b.a,cn.a)){xt=!1;break e}xt.b=Lt.b=!0,nn=v(cn),h(Kt.e,cn.b),nn.b.d.c=xt.d}xt=!0}if(xt&&(Me.c?(H(Me),y(wt),wt=(Me=yt(Be)).a):Be.c&&(H(Be),y($e),$e=(Be=lt(Me)).a)),$e.a!==wt.a)if($e.b.a===wt.b.a||Be.c||Me.c||$e.b.a!==ke.a&&wt.b.a!==ke.a)K(ke,Be);else if(we(ke,Be))break;$e.a===wt.a&&$e.b.a===wt.b.a&&(ee(wt,$e),H(Be),y($e),Be=lt(Me))}}function Te(ke,Be){var Me=new We,$e=c(ke.b);$e.a.b=4e150,$e.a.a=Be,$e.b.a.b=-4e150,$e.b.a.a=Be,ke.a=$e.b.a,Me.a=$e,Me.f=0,Me.d=!1,Me.c=!1,Me.h=!0,Me.b=!1,$e=Ve($e=ke.f,$e.a,Me),Me.e=$e}function Ie(ke){this.a=new Ue,this.b=ke,this.c=$}function Ve(ke,Be,Me){for(;null!==(Be=Be.c).b&&!ke.c(ke.b,Be.b,Me););return ke=new Ue(Me,Be.a,Be),Be.a.c=ke,Be.a=ke}function Ue(ke,Be,Me){this.b=ke||null,this.a=Be||this,this.c=Me||this}function et(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function mt(ke,Be){if(ke.d!==Be)for(;ke.d!==Be;)if(ke.d<Be)switch(ke.d){case 0:Re(ke,100151),ke.u(null);break;case 1:Re(ke,100152),ke.t()}else switch(ke.d){case 2:Re(ke,100154),ke.v();break;case 1:Re(ke,100153),ke.w()}}function Re(ke,Be){ke.p&&ke.p(Be,ke.c)}function ot(ke,Be){this.b=ke||this,this.d=Be||this,this.a=null,this.c=!1}function ut(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function ft(){this.c=new Qe,this.a=new ot,this.b=new ut,this.d=new ut,this.b.b=this.d,this.d.b=this.b}function Qe(ke,Be){this.e=ke||this,this.f=Be||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function jt(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ot}function At(ke,Be){var Me,$e,wt;return ke.e?(2*($e=++(Me=ke.b).a)>Me.f&&(Me.f*=2,Me.c=tn(Me.c,Me.f+1)),0===Me.b?wt=$e:(wt=Me.b,Me.b=Me.c[Me.b]),Me.e[wt]=Be,Me.c[wt]=$e,Me.d[$e]=wt,Me.h&&je(Me,$e),wt):(Me=ke.a++,ke.c[Me]=Be,-(Me+1))}function $t(ke){if(0===ke.a)return Je(ke.b);var Be=ke.c[ke.d[ke.a-1]];if(0!==ke.b.a&&a(It(ke.b),Be))return Je(ke.b);for(;--ke.a,0<ke.a&&null===ke.c[ke.d[ke.a-1]];);return Be}function Ot(){this.d=tn([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function tn(ke,Be){for(var Me=Array(Be),$e=0;$e<ke.length;$e++)Me[$e]=ke[$e];for(;$e<Be;$e++)Me[$e]=0;return Me}function It(ke){return ke.e[ke.d[1]]}function Je(ke){var Be=ke.d,Me=ke.e,$e=ke.c,wt=Be[1],xt=Me[wt];return 0<ke.a&&(Be[1]=Be[ke.a],$e[Be[1]]=1,Me[wt]=null,$e[wt]=ke.b,ke.b=wt,0<--ke.a&&at(ke,1)),xt}function at(ke,Be){for(var Me=ke.d,$e=ke.e,wt=ke.c,xt=Be,Lt=Me[xt];;){var Kt=xt<<1,cn=(Kt<ke.a&&a($e[Me[Kt+1]],$e[Me[Kt]])&&(Kt+=1),Me[Kt]);if(Kt>ke.a||a($e[Lt],$e[cn])){wt[Me[xt]=Lt]=xt;break}wt[Me[xt]=cn]=xt,xt=Kt}}function je(ke,Be){for(var Me=ke.d,$e=ke.e,wt=ke.c,xt=Be,Lt=Me[xt];;){var Kt=xt>>1,cn=Me[Kt];if(0==Kt||a($e[cn],$e[Lt])){wt[Me[xt]=Lt]=xt;break}wt[Me[xt]=cn]=xt,xt=Kt}}function We(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function yt(ke){return ke.e.c.b}function lt(ke){return ke.e.a.b}(f=et.prototype).x=function(){mt(this,0)},f.B=function(ke,Be){switch(ke){case 100142:return;case 100140:switch(Be){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=Be)}break;case 100141:return void(this.m=!!Be);default:return void Re(this,100900)}Re(this,100901)},f.y=function(ke){switch(ke){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Re(this,100900)}return!1},f.A=function(ke,Be,Me){this.j[0]=ke,this.j[1]=Be,this.j[2]=Me},f.z=function(ke,Be){var Me=Be||null;switch(ke){case 100100:case 100106:this.h=Me;break;case 100104:case 100110:this.l=Me;break;case 100101:case 100107:this.k=Me;break;case 100102:case 100108:this.i=Me;break;case 100103:case 100109:this.p=Me;break;case 100105:case 100111:this.o=Me;break;case 100112:this.r=Me;break;default:Re(this,100900)}},f.C=function(ke,Be){var Me=!1,$e=[0,0,0];mt(this,2);for(var wt=0;wt<3;++wt){var xt=ke[wt];xt<-1e150&&(xt=-1e150,Me=!0),1e150<xt&&(xt=1e150,Me=!0),$e[wt]=xt}Me&&Re(this,100155),null===(Me=this.q)?h(Me=c(this.b),Me.b):(v(Me),Me=Me.e),Me.a.d=Be,Me.a.g[0]=$e[0],Me.a.g[1]=$e[1],Me.a.g[2]=$e[2],Me.f=1,Me.b.f=-1,this.q=Me},f.u=function(ke){mt(this,0),this.d=1,this.b=new ft,this.c=ke},f.t=function(){mt(this,1),this.d=2,this.q=null},f.v=function(){mt(this,2),this.d=1},f.w=function(){mt(this,1),this.d=0;var ke,Be,xt=!1,Lt=[Me=this.j[0],$e=this.j[1],wt=this.j[2]];if(0===Me&&0===$e&&0===wt){for(var $e=[-2e150,-2e150,-2e150],Kt=[2e150,2e150,2e150],wt=[],cn=[],Me=(xt=this.b.c).e;Me!==xt;Me=Me.e)for(var nn=0;nn<3;++nn){var Wt=Me.g[nn];Wt<Kt[nn]&&(Kt[nn]=Wt,cn[nn]=Me),Wt>$e[nn]&&($e[nn]=Wt,wt[nn]=Me)}if($e[1]-Kt[1]>$e[Me=0]-Kt[0]&&(Me=1),Kt[Me=$e[2]-Kt[2]>$e[Me]-Kt[Me]?2:Me]>=$e[Me])Lt[0]=0,Lt[1]=0,Lt[2]=1;else{for(Kt=cn[Me],cn=[$e=0,0,0],Kt=[Kt.g[0]-(wt=wt[Me]).g[0],Kt.g[1]-wt.g[1],Kt.g[2]-wt.g[2]],nn=[0,0,0],Me=xt.e;Me!==xt;Me=Me.e)nn[0]=Me.g[0]-wt.g[0],nn[1]=Me.g[1]-wt.g[1],nn[2]=Me.g[2]-wt.g[2],cn[0]=Kt[1]*nn[2]-Kt[2]*nn[1],cn[1]=Kt[2]*nn[0]-Kt[0]*nn[2],cn[2]=Kt[0]*nn[1]-Kt[1]*nn[0],$e<(Wt=cn[0]*cn[0]+cn[1]*cn[1]+cn[2]*cn[2])&&($e=Wt,Lt[0]=cn[0],Lt[1]=cn[1],Lt[2]=cn[2]);$e<=0&&(Lt[0]=Lt[1]=Lt[2]=0,Lt[G(Kt)]=1)}xt=!0}for($e=((cn=G(Lt))+1)%3,wt=(cn+2)%3,cn=0<Lt[cn]?1:-1,Lt=(Me=this.b.c).e;Lt!==Me;Lt=Lt.e)Lt.b=Lt.g[$e],Lt.a=cn*Lt.g[wt];if(xt){for(Lt=0,Me=(xt=this.b.a).b;Me!==xt;Me=Me.b)if(!(($e=Me.a).f<=0))for(;Lt+=($e.a.b-$e.b.a.b)*($e.a.a+$e.b.a.a),($e=$e.e)!==Me.a;);if(Lt<0)for(xt=(Lt=this.b.c).e;xt!==Lt;xt=xt.e)xt.a=-xt.a}for(this.n=!1,Me=(Lt=this.b.b).h;Me!==Lt;Me=xt)xt=Me.h,$e=Me.e,o(Me.a,Me.b.a)&&Me.e.e!==Me&&(A(this,$e,Me),y(Me),$e=(Me=$e).e),$e.e===Me&&($e!==Me&&($e!==xt&&$e!==xt.b||(xt=xt.h),y($e)),Me!==xt&&Me!==xt.b||(xt=xt.h),y(Me));for(this.e=Lt=new jt,Me=(xt=this.b.c).e;Me!==xt;Me=Me.e)Me.h=At(Lt,Me);var I,bn=Lt;bn.d=[];for(var W=0;W<bn.a;W++)bn.d[W]=W;bn.d.sort((I=bn.c,function(J,de){return a(I[J],I[de])?1:-1})),bn.e=!0;for(var le=bn.b,S=le.a;1<=S;--S)at(le,S);for(le.h=!0,this.f=new Ie(this),Te(this,-4e150),Te(this,4e150);null!==(Lt=$t(this.e));){for(;;){e:if(0===(Me=this.e).a)xt=It(Me.b);else if(xt=Me.c[Me.d[Me.a-1]],0!==Me.b.a&&a(Me=It(Me.b),xt)){xt=Me;break e}if(null===xt||!o(xt,Lt))break;xt=$t(this.e),A(this,Lt.c,xt.c)}!function I(J,de){for(var ne,V=(J.a=de).c;null===V.i;)if((V=V.c)===de.c){V=J;var k=de;(kt=new We).a=k.c.b;for(var pn=(ue=V.f).a;null!==(pn=pn.a).b&&!ue.c(ue.b,kt,pn.b););var ue,tt,dt=yt(ue=pn.b),kt=ue.a;return pn=dt.a,void(0===u(kt.b.a,k,kt.a)?o((kt=ue.a).a,k)||o(kt.b.a,k)||(v(kt.b),ue.c&&(y(kt.c),ue.c=!1),h(k.c,kt),I(V,k)):(tt=a(pn.b.a,kt.b.a)?ue:dt,dt=void 0,ue.d||tt.c?(dt=tt===ue?x(k.c.b,kt.e):x(pn.b.c.b,k.c).b,tt.c?Z(tt,dt):((ue=Q(kt=V,ue,dt)).f=lt(ue).f+ue.a.f,ue.d=te(kt,ue.f)),I(V,k)):he(V,ue,k.c,k.c,null,!0)))}ue=(kt=yt(V=oe(V.i))).a,(kt=ce(J,kt,null)).c===ue?(kt=(ue=kt).c,pn=yt(V),ne=!1,(dt=V.a).b.a!==(tt=pn.a).b.a&&we(J,V),o(dt.a,J.a)&&(h(kt.b.e,dt),kt=yt(V=oe(V)).a,ce(J,yt(V),pn),ne=!0),o(tt.a,J.a)&&(h(ue,tt.b.e),ue=ce(J,pn,null),ne=!0),ne?he(J,V,ue.c,kt,kt,!0):(k=a(tt.a,dt.a)?tt.b.e:dt,he(J,V,k=x(ue.c.b,k),k.c,k.c,!1),k.b.i.c=!0,Fe(J,V))):he(J,V,kt.c,ue,ue,!0)}(this,Lt)}for(this.a=this.f.a.a.b.a.a,Lt=0;null!==(xt=this.f.a.a.b);)xt.h||++Lt,H(xt);for(this.f=null,(Lt=this.e).b=null,Lt.d=null,this.e=Lt.c=null,Me=(Lt=this.b).a.b;Me!==Lt.a;Me=xt)xt=Me.b,(Me=Me.a).e.e===Me&&(ee(Me.c,Me),y(Me));if(!this.n){if(Lt=this.b,this.m)for(Me=Lt.b.h;Me!==Lt.b;Me=xt)xt=Me.h,Me.b.d.c!==Me.d.c?Me.f=Me.d.c?1:-1:y(Me);else for(Me=Lt.a.b;Me!==Lt.a;Me=xt)if(xt=Me.b,Me.c){for(Me=Me.a;a(Me.b.a,Me.a);Me=Me.c.b);for(;a(Me.a,Me.b.a);Me=Me.e);for($e=Me.c.b,wt=void 0;Me.e!==$e;)if(a(Me.b.a,$e.a)){for(;$e.e!==Me&&(a((Be=$e.e).b.a,Be.a)||u($e.a,$e.b.a,$e.e.b.a)<=0);)$e=(wt=x($e.e,$e)).b;$e=$e.c.b}else{for(;$e.e!==Me&&(a((ke=Me.c.b).a,ke.b.a)||0<=u(Me.b.a,Me.a,Me.c.b.a));)Me=(wt=x(Me,Me.c.b)).b;Me=Me.e}for(;$e.e.e!==Me;)$e=(wt=x($e.e,$e)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(xt=(Lt=this.b).a.b;xt!==Lt.a;xt=xt.b)if(xt.c){for(this.h&&this.h(2,this.c),Me=xt.a;this.k&&this.k(Me.a.d,this.c),(Me=Me.e)!==xt.a;);this.i&&this.i(this.c)}}else{for(xt=!!this.l,Me=!1,$e=-1,wt=(Lt=this.b).a.d;wt!==Lt.a;wt=wt.d)if(wt.c)for(Me||(this.h&&this.h(4,this.c),Me=!0),cn=wt.a;xt&&$e!==(Kt=cn.b.d.c?0:1)&&($e=Kt,this.l&&this.l(!!$e,this.c)),this.k&&this.k(cn.a.d,this.c),(cn=cn.e)!==wt.a;);Me&&this.i&&this.i(this.c)}if(this.r){for(Me=(Lt=this.b).a.b;Me!==Lt.a;Me=xt)if(xt=Me.b,!Me.c){for(wt=($e=Me.a).e,cn=void 0;wt=(cn=wt).e,(cn.d=null)===cn.b.d&&(cn.c===cn?j(cn.a,null):(cn.a.c=cn.c,C(cn,cn.b.e)),(Kt=cn.b).c===Kt?j(Kt.a,null):(Kt.a.c=Kt.c,C(Kt,Kt.b.e)),F(cn)),cn!==$e;);$e=Me.d,((Me=Me.b).d=$e).b=Me}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:et,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},et.prototype.gluDeleteTess=et.prototype.x,et.prototype.gluTessProperty=et.prototype.B,et.prototype.gluGetTessProperty=et.prototype.y,et.prototype.gluTessNormal=et.prototype.A,et.prototype.gluTessCallback=et.prototype.z,et.prototype.gluTessVertex=et.prototype.C,et.prototype.gluTessBeginPolygon=et.prototype.u,et.prototype.gluTessBeginContour=et.prototype.t,et.prototype.gluTessEndContour=et.prototype.v,et.prototype.gluTessEndPolygon=et.prototype.w,void 0!==U&&(U.exports=this.libtess)},{}],240:[function(e,U,E){"use strict";function o(a,d,u,p){for(var s=a[d++],r=1<<s,i=1+r,c=1+i,h=s+1,y=(1<<h)-1,v=0,x=0,w=0,C=a[d++],N=new Int32Array(4096),M=null;;){for(;v<16&&0!==C;)x|=a[d++]<<v,v+=8,1===C?C=a[d++]:--C;if(v<h)break;var F=x&y;if(x>>=h,v-=h,F==r)c=1+i,y=(1<<(h=s+1))-1,M=null;else{if(F==i)break;for(var j=F<c?F:M,B=0,G=j;r<G;)G=N[G]>>8,++B;var ee=G;if(p<w+B+(j!==F?1:0))return void console.log("Warning, gif stream longer than expected.");u[w++]=ee;var $=w+=B;for(j!==F&&(u[w++]=ee),G=j;B--;)u[--$]=255&(G=N[G]),G>>=8;null!==M&&c<4096&&(N[c++]=M<<8|ee,y+1<=c&&h<12&&(++h,y=y<<1|1)),M=F}}w!==p&&console.log("Warning, gif stream shorter than expected.")}try{E.GifWriter=function f(a,d,u,p){var s=0,r=void 0===(p=void 0===p?{}:p).loop?null:p.loop,i=void 0===p.palette?null:p.palette;if(d<=0||u<=0||65535<d||65535<u)throw new Error("Width/Height invalid.");function c(M){if((M=M.length)<2||256<M||M&M-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return M}a[s++]=71,a[s++]=73,a[s++]=70,a[s++]=56,a[s++]=57,a[s++]=97;var h=0,y=0;if(null!==i){for(var v=c(i);v>>=1;)++h;if(v=1<<h,--h,void 0!==p.background){if(v<=(y=p.background))throw new Error("Background index out of range.");if(0===y)throw new Error("Background index explicitly passed as 0.")}}if(a[s++]=255&d,a[s++]=d>>8&255,a[s++]=255&u,a[s++]=u>>8&255,a[s++]=(null!==i?128:0)|h,a[s++]=y,a[s++]=0,null!==i)for(var x=0,w=i.length;x<w;++x){var C=i[x];a[s++]=C>>16&255,a[s++]=C>>8&255,a[s++]=255&C}if(null!==r){if(r<0||65535<r)throw new Error("Loop count invalid.");a[s++]=33,a[s++]=255,a[s++]=11,a[s++]=78,a[s++]=69,a[s++]=84,a[s++]=83,a[s++]=67,a[s++]=65,a[s++]=80,a[s++]=69,a[s++]=50,a[s++]=46,a[s++]=48,a[s++]=3,a[s++]=1,a[s++]=255&r,a[s++]=r>>8&255,a[s++]=0}var N=!1;this.addFrame=function(M,F,j,B,G,ee){if(!0===N&&(--s,N=!1),ee=void 0===ee?{}:ee,M<0||F<0||65535<M||65535<F)throw new Error("x/y invalid.");if(j<=0||B<=0||65535<j||65535<B)throw new Error("Width/Height invalid.");if(G.length<j*B)throw new Error("Not enough pixels for the frame size.");var $=!0,H=ee.palette;if(null==H&&($=!1,H=i),null==H)throw new Error("Must supply either a local or global palette.");for(var oe=c(H),Z=0;oe>>=1;)++Z;oe=1<<Z;var Q=void 0===ee.delay?0:ee.delay,te=void 0===ee.disposal?0:ee.disposal;if(te<0||3<te)throw new Error("Disposal out of range.");var me=!1,ce=0;if(null!=ee.transparent&&(me=!0,(ce=ee.transparent)<0||oe<=ce))throw new Error("Transparent color index.");if(0===te&&!me&&0===Q||(a[s++]=33,a[s++]=249,a[s++]=4,a[s++]=te<<2|(!0===me?1:0),a[s++]=255&Q,a[s++]=Q>>8&255,a[s++]=ce,a[s++]=0),a[s++]=44,a[s++]=255&M,a[s++]=M>>8&255,a[s++]=255&F,a[s++]=F>>8&255,a[s++]=255&j,a[s++]=j>>8&255,a[s++]=255&B,a[s++]=B>>8&255,a[s++]=!0===$?128|Z-1:0,!0===$)for(var he=0,Ae=H.length;he<Ae;++he){var A=H[he];a[s++]=A>>16&255,a[s++]=A>>8&255,a[s++]=255&A}return s=function(q,K,we,Fe){q[K++]=we;var Te=K++,Ie=1<<we,Ve=Ie-1,Ue=1+Ie,et=1+Ue,mt=we+1,Re=0,ot=0;function ut(Je){for(;Je<=Re;)q[K++]=255&ot,ot>>=8,Re-=8,K===Te+256&&(q[Te]=255,Te=K++)}function ft(Je){ot|=Je<<Re,Re+=mt,ut(8)}var Qe=Fe[0]&Ve,jt={};ft(Ie);for(var At=1,$t=Fe.length;At<$t;++At){var Ot=Fe[At]&Ve,tn=Qe<<8|Ot,It=jt[tn];if(void 0===It){for(ot|=Qe<<Re,Re+=mt;8<=Re;)q[K++]=255&ot,ot>>=8,Re-=8,K===Te+256&&(q[Te]=255,Te=K++);4096===et?(ft(Ie),et=1+Ue,mt=we+1,jt={}):(1<<mt<=et&&++mt,jt[tn]=et++),Qe=Ot}else Qe=It}return ft(Qe),ft(Ue),ut(1),Te+1===K?q[Te]=0:(q[Te]=K-Te-1,q[K++]=0),K}(a,s,Z<2?2:Z,G)},this.end=function(){return!1===N&&(a[s++]=59,N=!0),s},this.getOutputBuffer=function(){return a},this.setOutputBuffer=function(M){a=M},this.getOutputBufferPosition=function(){return s},this.setOutputBufferPosition=function(M){s=M}},E.GifReader=function(a){var d=0;if(71!==a[d++]||73!==a[d++]||70!==a[d++]||56!==a[d++]||56!=(a[d++]+1&253)||97!==a[d++])throw new Error("Invalid GIF 87a/89a header.");var u=a[d++]|a[d++]<<8,p=a[d++]|a[d++]<<8,s=a[d++],i=(d++,d++,null),c=null,h=(s>>7&&(i=d,d+=3*(c=1<<1+(7&s))),!0),y=[],v=0,x=null,w=0,C=null;for(this.width=u,this.height=p;h&&d<a.length;)switch(a[d++]){case 33:switch(a[d++]){case 255:if(11!==a[d]||78==a[d+1]&&69==a[d+2]&&84==a[d+3]&&83==a[d+4]&&67==a[d+5]&&65==a[d+6]&&80==a[d+7]&&69==a[d+8]&&50==a[d+9]&&46==a[d+10]&&48==a[d+11]&&3==a[d+12]&&1==a[d+13]&&0==a[d+16])d+=14,C=a[d++]|a[d++]<<8,d++;else for(d+=12;;){if(!(0<=(M=a[d++])))throw Error("Invalid block size");if(0===M)break;d+=M}break;case 249:if(4!==a[d++]||0!==a[d+4])throw new Error("Invalid graphics extension block.");var N=a[d++];v=a[d++]|a[d++]<<8,x=a[d++],0==(1&N)&&(x=null),w=N>>2&7,d++;break;case 254:for(;;){if(!(0<=(M=a[d++])))throw Error("Invalid block size");if(0===M)break;d+=M}break;default:throw new Error("Unknown graphic control label: 0x"+a[d-1].toString(16))}break;case 44:var M,F=a[d++]|a[d++]<<8,j=a[d++]|a[d++]<<8,B=a[d++]|a[d++]<<8,G=a[d++]|a[d++]<<8,ee=(Q=a[d++])>>6&1,H=i,Z=c,oe=!1,Q=(Q>>7&&(oe=!0,H=d,d+=3*(Z=1<<1+(7&Q))),d);for(d++;;){if(!(0<=(M=a[d++])))throw Error("Invalid block size");if(0===M)break;d+=M}y.push({x:F,y:j,width:B,height:G,has_local_palette:oe,palette_offset:H,palette_size:Z,data_offset:Q,data_length:d-Q,transparent_index:x,interlaced:!!ee,delay:v,disposal:w});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+a[d-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return C},this.frameInfo=function(te){if(te<0||te>=y.length)throw new Error("Frame index out of range.");return y[te]},this.decodeAndBlitFrameBGRA=function(te,me){for(var ce=(te=this.frameInfo(te)).width*te.height,he=new Uint8Array(ce),Ae=(o(a,te.data_offset,he,ce),te.palette_offset),A=te.transparent_index,q=(null===A&&(A=256),te.width),K=u-q,we=q,Fe=4*(te.y*u+te.x),Te=4*((te.y+te.height)*u+te.x),Ie=Fe,Ve=4*K,Ue=(!0===te.interlaced&&(Ve+=4*u*7),8),et=0,mt=he.length;et<mt;++et){var Re,ot,ut=he[et];0===we&&(we=q,Te<=(Ie+=Ve)&&(Ve=4*K+4*u*(Ue-1),Ie=Fe+(q+K)*(Ue<<1),Ue>>=1)),ut===A?Ie+=4:(Re=a[Ae+3*ut],ot=a[Ae+3*ut+1],me[Ie++]=ut=a[Ae+3*ut+2],me[Ie++]=ot,me[Ie++]=Re,me[Ie++]=255),--we}},this.decodeAndBlitFrameRGBA=function(te,me){for(var ce=(te=this.frameInfo(te)).width*te.height,he=new Uint8Array(ce),Ae=(o(a,te.data_offset,he,ce),te.palette_offset),A=te.transparent_index,q=(null===A&&(A=256),te.width),K=u-q,we=q,Fe=4*(te.y*u+te.x),Te=4*((te.y+te.height)*u+te.x),Ie=Fe,Ve=4*K,Ue=(!0===te.interlaced&&(Ve+=4*u*7),8),et=0,mt=he.length;et<mt;++et){var Re,ot,ut=he[et];0===we&&(we=q,Te<=(Ie+=Ve)&&(Ve=4*K+4*u*(Ue-1),Ie=Fe+(q+K)*(Ue<<1),Ue>>=1)),ut===A?Ie+=4:(Re=a[Ae+3*ut],ot=a[Ae+3*ut+1],ut=a[Ae+3*ut+2],me[Ie++]=Re,me[Ie++]=ot,me[Ie++]=ut,me[Ie++]=255),--we}}}}catch(a){}},{}],241:[function(e,U,E){(function(f){var a;a=function(d){"use strict";function u(re){if(null==this)throw TypeError();var D,P=String(this),R=P.length;if(!((re=(re=re?Number(re):0)!=re?0:re)<0||R<=re))return 55296<=(D=P.charCodeAt(re))&&D<=56319&&re+1<R&&56320<=(R=P.charCodeAt(re+1))&&R<=57343?1024*(D-55296)+R-56320+65536:D}String.prototype.codePointAt||((p=function(){try{var _={},D=Object.defineProperty,P=D(_,_,_)&&D}catch(R){}return P}())?p(String.prototype,"codePointAt",{value:u,configurable:!0,writable:!0}):String.prototype.codePointAt=u);var p;function i(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function c(_,D){this.source=_,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=D,this.destLen=0,this.ltree=new i,this.dtree=new i}var h=new i,y=new i,v=new Uint8Array(30),x=new Uint16Array(30),w=new Uint8Array(30),C=new Uint16Array(30),N=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M=new i,F=new Uint8Array(320);function j(_,D,P,R){for(var re,ve=0;ve<P;++ve)_[ve]=0;for(ve=0;ve<30-P;++ve)_[ve+P]=ve/P|0;for(re=R,ve=0;ve<30;++ve)D[ve]=re,re+=1<<_[ve]}var B=new Uint16Array(16);function G(_,D,P,R){for(var re,ve=0;ve<16;++ve)_.table[ve]=0;for(ve=0;ve<R;++ve)_.table[D[P+ve]]++;for(ve=re=_.table[0]=0;ve<16;++ve)B[ve]=re,re+=_.table[ve];for(ve=0;ve<R;++ve)D[P+ve]&&(_.trans[B[D[P+ve]]++]=ve)}function ee(_,D,P){if(!D)return P;for(;_.bitcount<24;)_.tag|=_.source[_.sourceIndex++]<<_.bitcount,_.bitcount+=8;var R=_.tag&65535>>>16-D;return _.tag>>>=D,_.bitcount-=D,R+P}function $(_,D){for(;_.bitcount<24;)_.tag|=_.source[_.sourceIndex++]<<_.bitcount,_.bitcount+=8;for(var P=0,R=0,re=0,ve=_.tag;R=2*R+(1&ve),ve>>>=1,P+=D.table[++re],0<=(R-=D.table[re]););return _.tag=ve,_.bitcount-=re,D.trans[P+R]}function H(_,D,P){for(;;){if(256===(R=$(_,D)))return 0;if(R<256)_.dest[_.destLen++]=R;else for(var re,ve=ee(_,v[R-=257],x[R]),R=$(_,P),De=re=_.destLen-ee(_,w[R],C[R]);De<re+ve;++De)_.dest[_.destLen++]=_.dest[De]}}for(var Z=h,oe=y,Q=0;Q<7;++Q)Z.table[Q]=0;for(Z.table[7]=24,Z.table[8]=152,Z.table[9]=112,Q=0;Q<24;++Q)Z.trans[Q]=256+Q;for(Q=0;Q<144;++Q)Z.trans[24+Q]=Q;for(Q=0;Q<8;++Q)Z.trans[168+Q]=280+Q;for(Q=0;Q<112;++Q)Z.trans[176+Q]=144+Q;for(Q=0;Q<5;++Q)oe.table[Q]=0;for(oe.table[5]=32,Q=0;Q<32;++Q)oe.trans[Q]=Q;j(v,x,4,3),j(w,C,2,1),v[28]=0,x[28]=258;function me(_,D,P,R,re){return Math.pow(1-re,3)*_+3*Math.pow(1-re,2)*re*D+3*(1-re)*Math.pow(re,2)*P+Math.pow(re,3)*R}function ce(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function he(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function Ae(_){throw new Error(_)}function A(_,D){_||Ae(D)}ce.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},ce.prototype.addPoint=function(_,D){"number"==typeof _&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=_,this.x2=_),_<this.x1&&(this.x1=_),_>this.x2&&(this.x2=_)),"number"==typeof D&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=D,this.y2=D),D<this.y1&&(this.y1=D),D>this.y2&&(this.y2=D))},ce.prototype.addX=function(_){this.addPoint(_,null)},ce.prototype.addY=function(_){this.addPoint(null,_)},ce.prototype.addBezier=function(_,D,P,R,re,ve,De,ze){var it=[_,D],rt=[P,R],Et=[re,ve],Nt=[De,ze];this.addPoint(_,D),this.addPoint(De,ze);for(var Pt=0;Pt<=1;Pt++){var gt,ln=6*it[Pt]-12*rt[Pt]+6*Et[Pt],Ht=-3*it[Pt]+9*rt[Pt]-9*Et[Pt]+3*Nt[Pt],Yt=3*rt[Pt]-3*it[Pt];0==Ht?0==ln||0<(gt=-Yt/ln)&&gt<1&&(0===Pt&&this.addX(me(it[Pt],rt[Pt],Et[Pt],Nt[Pt],gt)),1===Pt&&this.addY(me(it[Pt],rt[Pt],Et[Pt],Nt[Pt],gt))):(gt=Math.pow(ln,2)-4*Yt*Ht)<0||(0<(Yt=(-ln+Math.sqrt(gt))/(2*Ht))&&Yt<1&&(0===Pt&&this.addX(me(it[Pt],rt[Pt],Et[Pt],Nt[Pt],Yt)),1===Pt&&this.addY(me(it[Pt],rt[Pt],Et[Pt],Nt[Pt],Yt))),0<(Yt=(-ln-Math.sqrt(gt))/(2*Ht))&&Yt<1&&(0===Pt&&this.addX(me(it[Pt],rt[Pt],Et[Pt],Nt[Pt],Yt)),1===Pt&&this.addY(me(it[Pt],rt[Pt],Et[Pt],Nt[Pt],Yt))))}},ce.prototype.addQuad=function(_,D,P,R,re,ve){this.addBezier(_,D,P=_+2/3*(P-_),R=D+2/3*(R-D),P+1/3*(re-_),R+1/3*(ve-D),re,ve)},he.prototype.moveTo=function(_,D){this.commands.push({type:"M",x:_,y:D})},he.prototype.lineTo=function(_,D){this.commands.push({type:"L",x:_,y:D})},he.prototype.curveTo=he.prototype.bezierCurveTo=function(_,D,P,R,re,ve){this.commands.push({type:"C",x1:_,y1:D,x2:P,y2:R,x:re,y:ve})},he.prototype.quadTo=he.prototype.quadraticCurveTo=function(_,D,P,R){this.commands.push({type:"Q",x1:_,y1:D,x:P,y:R})},he.prototype.close=he.prototype.closePath=function(){this.commands.push({type:"Z"})},he.prototype.extend=function(_){var D;if(_.commands)_=_.commands;else if(_ instanceof ce)return this.moveTo((D=_).x1,D.y1),this.lineTo(D.x2,D.y1),this.lineTo(D.x2,D.y2),this.lineTo(D.x1,D.y2),void this.close();Array.prototype.push.apply(this.commands,_)},he.prototype.getBoundingBox=function(){for(var _=new ce,D=0,P=0,R=0,re=0,ve=0;ve<this.commands.length;ve++){var De=this.commands[ve];switch(De.type){case"M":_.addPoint(De.x,De.y),D=R=De.x,P=re=De.y;break;case"L":_.addPoint(De.x,De.y),R=De.x,re=De.y;break;case"Q":_.addQuad(R,re,De.x1,De.y1,De.x,De.y),R=De.x,re=De.y;break;case"C":_.addBezier(R,re,De.x1,De.y1,De.x2,De.y2,De.x,De.y),R=De.x,re=De.y;break;case"Z":R=D,re=P;break;default:throw new Error("Unexpected path command "+De.type)}}return _.isEmpty()&&_.addPoint(0,0),_},he.prototype.draw=function(_){_.beginPath();for(var D=0;D<this.commands.length;D+=1){var P=this.commands[D];"M"===P.type?_.moveTo(P.x,P.y):"L"===P.type?_.lineTo(P.x,P.y):"C"===P.type?_.bezierCurveTo(P.x1,P.y1,P.x2,P.y2,P.x,P.y):"Q"===P.type?_.quadraticCurveTo(P.x1,P.y1,P.x,P.y):"Z"===P.type&&_.closePath()}this.fill&&(_.fillStyle=this.fill,_.fill()),this.stroke&&(_.strokeStyle=this.stroke,_.lineWidth=this.strokeWidth,_.stroke())},he.prototype.toPathData=function(_){function D(){for(var ve=arguments,De="",ze=0;ze<arguments.length;ze+=1){var it=ve[ze];0<=it&&0<ze&&(De+=" "),De+=(it=it,Math.round(it)===it?""+Math.round(it):it.toFixed(_))}return De}_=void 0!==_?_:2;for(var P="",R=0;R<this.commands.length;R+=1){var re=this.commands[R];"M"===re.type?P+="M"+D(re.x,re.y):"L"===re.type?P+="L"+D(re.x,re.y):"C"===re.type?P+="C"+D(re.x1,re.y1,re.x2,re.y2,re.x,re.y):"Q"===re.type?P+="Q"+D(re.x1,re.y1,re.x,re.y):"Z"===re.type&&(P+="Z")}return P},he.prototype.toSVG=function(_){var D=(D='<path d="')+this.toPathData(_)+'"';return this.fill&&"black"!==this.fill&&(D+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(D+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),D+"/>"},he.prototype.toDOMElement=function(D){D=this.toPathData(D);var P=document.createElementNS("http://www.w3.org/2000/svg","path");return P.setAttribute("d",D),P};var q={fail:Ae,argument:A,assert:A},K={},we={},Fe={};function Te(_){return function(){return _}}we.BYTE=function(_){return q.argument(0<=_&&_<=255,"Byte value should be between 0 and 255."),[_]},Fe.BYTE=Te(1),we.CHAR=function(_){return[_.charCodeAt(0)]},Fe.CHAR=Te(1),we.CHARARRAY=function(_){for(var D=[],P=0;P<_.length;P+=1)D[P]=_.charCodeAt(P);return D},Fe.CHARARRAY=function(_){return _.length},we.USHORT=function(_){return[_>>8&255,255&_]},Fe.USHORT=Te(2),we.SHORT=function(_){return[(_=32768<=_?-(65536-_):_)>>8&255,255&_]},Fe.SHORT=Te(2),we.UINT24=function(_){return[_>>16&255,_>>8&255,255&_]},Fe.UINT24=Te(3),we.ULONG=function(_){return[_>>24&255,_>>16&255,_>>8&255,255&_]},Fe.ULONG=Te(4),we.LONG=function(_){return[(_=2147483648<=_?-(4294967296-_):_)>>24&255,_>>16&255,_>>8&255,255&_]},Fe.LONG=Te(4),we.FIXED=we.ULONG,Fe.FIXED=Fe.ULONG,we.FWORD=we.SHORT,Fe.FWORD=Fe.SHORT,we.UFWORD=we.USHORT,Fe.UFWORD=Fe.USHORT,we.LONGDATETIME=function(_){return[0,0,0,0,_>>24&255,_>>16&255,_>>8&255,255&_]},Fe.LONGDATETIME=Te(8),we.TAG=function(_){return q.argument(4===_.length,"Tag should be exactly 4 ASCII characters."),[_.charCodeAt(0),_.charCodeAt(1),_.charCodeAt(2),_.charCodeAt(3)]},Fe.TAG=Te(4),we.Card8=we.BYTE,Fe.Card8=Fe.BYTE,we.Card16=we.USHORT,Fe.Card16=Fe.USHORT,we.OffSize=we.BYTE,Fe.OffSize=Fe.BYTE,we.SID=we.USHORT,Fe.SID=Fe.USHORT,we.NUMBER=function(_){return-107<=_&&_<=107?[_+139]:108<=_&&_<=1131?[247+((_-=108)>>8),255&_]:-1131<=_&&_<=-108?[251+((_=-_-108)>>8),255&_]:-32768<=_&&_<=32767?we.NUMBER16(_):we.NUMBER32(_)},Fe.NUMBER=function(_){return we.NUMBER(_).length},we.NUMBER16=function(_){return[28,_>>8&255,255&_]},Fe.NUMBER16=Te(3),we.NUMBER32=function(_){return[29,_>>24&255,_>>16&255,_>>8&255,255&_]},Fe.NUMBER32=Te(5),we.REAL=function(_){for(var D=_.toString(),P=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(D),R=(P&&(P=parseFloat("1e"+((P[2]?+P[2]:0)+P[1].length)),D=(Math.round(_*P)/P).toString()),""),re=0,ve=D.length;re<ve;re+=1){var De=D[re];R+="e"===De?"-"===D[++re]?"c":"b":"."===De?"a":"-"===De?"e":De}for(var ze=[30],it=0,rt=(R+=1&R.length?"f":"ff").length;it<rt;it+=2)ze.push(parseInt(R.substr(it,2),16));return ze},Fe.REAL=function(_){return we.REAL(_).length},we.NAME=we.CHARARRAY,Fe.NAME=Fe.CHARARRAY,we.STRING=we.CHARARRAY,Fe.STRING=Fe.CHARARRAY,K.UTF8=function(_,D,P){for(var R=[],re=P,ve=0;ve<re;ve++,D+=1)R[ve]=_.getUint8(D);return String.fromCharCode.apply(null,R)},K.UTF16=function(_,D,P){for(var R=[],re=P/2,ve=0;ve<re;ve++,D+=2)R[ve]=_.getUint16(D);return String.fromCharCode.apply(null,R)},we.UTF16=function(_){for(var D=[],P=0;P<_.length;P+=1){var R=_.charCodeAt(P);D[D.length]=R>>8&255,D[D.length]=255&R}return D},Fe.UTF16=function(_){return 2*_.length};var Ie,Ve={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"},Ue=(K.MACSTRING=function(_,D,P,R){var re=Ve[R];if(void 0!==re){for(var ve="",De=0;De<P;De++){var ze=_.getUint8(D+De);ve+=ze<=127?String.fromCharCode(ze):re[127&ze]}return ve}},"function"==typeof WeakMap&&new WeakMap);function et(_){return-128<=_&&_<=127}we.MACSTRING=function(_,D){var P=function(De){if(!Ie)for(var ze in Ie={},Ve)Ie[ze]=new String(ze);var it=Ie[De];if(void 0!==it){if(Ue){var rt=Ue.get(it);if(void 0!==rt)return rt}var Et=Ve[De];if(void 0!==Et){for(var Nt={},Pt=0;Pt<Et.length;Pt++)Nt[Et.charCodeAt(Pt)]=Pt+128;return Ue&&Ue.set(it,Nt),Nt}}}(D);if(void 0!==P){for(var R=[],re=0;re<_.length;re++){var ve=_.charCodeAt(re);if(128<=ve&&void 0===(ve=P[ve]))return;R[re]=ve}return R}},Fe.MACSTRING=function(_,D){return void 0!==(_=we.MACSTRING(_,D))?_.length:0},we.VARDELTAS=function(_){for(var R=0,D=[];R<_.length;){var P=_[R];R=(0===P?function(re,ve,De){for(var ze=0,it=re.length;ve<it&&ze<64&&0===re[ve];)++ve,++ze;return De.push(128|ze-1),ve}:-128<=P&&P<=127?function(re,ve,De){for(var ze=0,it=re.length,rt=ve;rt<it&&ze<64;){var Et=re[rt];if(!et(Et)||0===Et&&rt+1<it&&0===re[rt+1])break;++rt,++ze}De.push(ze-1);for(var Nt=ve;Nt<rt;++Nt)De.push(re[Nt]+256&255);return rt}:function(re,ve,De){for(var ze=0,it=re.length,rt=ve;rt<it&&ze<64;){var Et=re[rt];if(0===Et||et(Et)&&rt+1<it&&et(re[rt+1]))break;++rt,++ze}De.push(64|ze-1);for(var Nt=ve;Nt<rt;++Nt){var Pt=re[Nt];De.push(Pt+65536>>8&255,Pt+256&255)}return rt})(_,R,D)}return D},we.INDEX=function(_){for(var D=1,P=[D],R=[],re=0;re<_.length;re+=1){var ve=we.OBJECT(_[re]);Array.prototype.push.apply(R,ve),P.push(D+=ve.length)}if(0===R.length)return[0,0];for(var De=[],ze=1+Math.floor(Math.log(D)/Math.log(2))/8|0,it=[void 0,we.BYTE,we.USHORT,we.UINT24,we.ULONG][ze],rt=0;rt<P.length;rt+=1){var Et=it(P[rt]);Array.prototype.push.apply(De,Et)}return Array.prototype.concat(we.Card16(_.length),we.OffSize(ze),De,R)},Fe.INDEX=function(_){return we.INDEX(_).length},we.DICT=function(_){for(var D=[],P=Object.keys(_),R=P.length,re=0;re<R;re+=1){var ve=parseInt(P[re],0),De=_[ve];D=(D=D.concat(we.OPERAND(De.value,De.type))).concat(we.OPERATOR(ve))}return D},Fe.DICT=function(_){return we.DICT(_).length},we.OPERATOR=function(_){return _<1200?[_]:[12,_-1200]},we.OPERAND=function(_,D){var P=[];if(Array.isArray(D))for(var R=0;R<D.length;R+=1)q.argument(_.length===D.length,"Not enough arguments given for type"+D),P=P.concat(we.OPERAND(_[R],D[R]));else if("SID"===D)P=P.concat(we.NUMBER(_));else if("offset"===D)P=P.concat(we.NUMBER32(_));else if("number"===D)P=P.concat(we.NUMBER(_));else{if("real"!==D)throw new Error("Unknown operand type "+D);P=P.concat(we.REAL(_))}return P},we.OP=we.BYTE,Fe.OP=Fe.BYTE;var mt="function"==typeof WeakMap&&new WeakMap;function Re(_,D,P){for(var R=0;R<D.length;R+=1){var re=D[R];this[re.name]=re.value}if(this.tableName=_,this.fields=D,P)for(var ve=Object.keys(P),De=0;De<ve.length;De+=1){var ze=ve[De];void 0!==this[ze]&&(this[ze]=P[ze])}}function ot(_,D,P){void 0===P&&(P=D.length);var R=new Array(D.length+1);R[0]={name:_+"Count",type:"USHORT",value:P};for(var re=0;re<D.length;re++)R[re+1]={name:_+re,type:"USHORT",value:D[re]};return R}function ut(_,D,P){var R=D.length,re=new Array(R+1);re[0]={name:_+"Count",type:"USHORT",value:R};for(var ve=0;ve<R;ve++)re[ve+1]={name:_+ve,type:"TABLE",value:P(D[ve],ve)};return re}function ft(_,D,P){var R=D.length,re=[];re[0]={name:_+"Count",type:"USHORT",value:R};for(var ve=0;ve<R;ve++)re=re.concat(P(D[ve],ve));return re}function Qe(_){1===_.format?Re.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(ot("glyph",_.glyphs))):q.assert(!1,"Can't create coverage table format 2 yet.")}function jt(_){Re.call(this,"scriptListTable",ft("scriptRecord",_,function(D,P){var R=D.script,re=R.defaultLangSys;return q.assert(!!re,"Unable to write GSUB: script "+D.tag+" has no default language system."),[{name:"scriptTag"+P,type:"TAG",value:D.tag},{name:"script"+P,type:"TABLE",value:new Re("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Re("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:re.reqFeatureIndex}].concat(ot("featureIndex",re.featureIndexes)))}].concat(ft("langSys",R.langSysRecords,function(ve,De){var ze=ve.langSys;return[{name:"langSysTag"+De,type:"TAG",value:ve.tag},{name:"langSys"+De,type:"TABLE",value:new Re("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ze.reqFeatureIndex}].concat(ot("featureIndex",ze.featureIndexes)))}]})))}]}))}function At(_){Re.call(this,"featureListTable",ft("featureRecord",_,function(D,P){var R=D.feature;return[{name:"featureTag"+P,type:"TAG",value:D.tag},{name:"feature"+P,type:"TABLE",value:new Re("featureTable",[{name:"featureParams",type:"USHORT",value:R.featureParams}].concat(ot("lookupListIndex",R.lookupListIndexes)))}]}))}function $t(_,D){Re.call(this,"lookupListTable",ut("lookup",_,function(P){var R=D[P.lookupType];return q.assert(!!R,"Unable to write GSUB lookup type "+P.lookupType+" tables."),new Re("lookupTable",[{name:"lookupType",type:"USHORT",value:P.lookupType},{name:"lookupFlag",type:"USHORT",value:P.lookupFlag}].concat(ut("subtable",P.subtables,R)))}))}we.CHARSTRING=function(_){if(mt){var D=mt.get(_);if(void 0!==D)return D}for(var ve=[],P=_.length,R=0;R<P;R+=1){var re=_[R];ve=ve.concat(we[re.type](re.value))}return mt&&mt.set(_,ve),ve},Fe.CHARSTRING=function(_){return we.CHARSTRING(_).length},we.OBJECT=function(_){var D=we[_.type];return q.argument(void 0!==D,"No encoding function for type "+_.type),D(_.value)},Fe.OBJECT=function(_){var D=Fe[_.type];return q.argument(void 0!==D,"No sizeOf function for type "+_.type),D(_.value)},we.TABLE=function(_){for(var D=[],P=_.fields.length,R=[],re=[],ve=0;ve<P;ve+=1){var De=_.fields[ve],ze=(q.argument(void 0!==(it=we[De.type]),"No encoding function for field type "+De.type+" ("+De.name+")"),_[De.name]),it=it(ze=void 0===ze?De.value:ze);"TABLE"===De.type?(re.push(D.length),D=D.concat([0,0]),R.push(it)):D=D.concat(it)}for(var rt=0;rt<R.length;rt+=1){var Et=re[rt],Nt=D.length;q.argument(Nt<65536,"Table "+_.tableName+" too big."),D[Et]=Nt>>8,D[Et+1]=255&Nt,D=D.concat(R[rt])}return D},Fe.TABLE=function(_){for(var D=0,P=_.fields.length,R=0;R<P;R+=1){var re=_.fields[R],ve=Fe[re.type],De=(q.argument(void 0!==ve,"No sizeOf function for field type "+re.type+" ("+re.name+")"),_[re.name]);D+=ve(De=void 0===De?re.value:De),"TABLE"===re.type&&(D+=2)}return D},we.RECORD=we.TABLE,Fe.RECORD=Fe.TABLE,we.LITERAL=function(_){return _},Fe.LITERAL=function(_){return _.length},Re.prototype.encode=function(){return we.TABLE(this)},Re.prototype.sizeOf=function(){return Fe.TABLE(this)};var Ot={Table:Re,Record:Re,Coverage:(Qe.prototype=Object.create(Re.prototype)).constructor=Qe,ScriptList:(jt.prototype=Object.create(Re.prototype)).constructor=jt,FeatureList:(At.prototype=Object.create(Re.prototype)).constructor=At,LookupList:($t.prototype=Object.create(Re.prototype)).constructor=$t,ushortList:ot,tableList:ut,recordList:ft};function tn(_,D){return _.getUint8(D)}function It(_,D){return _.getUint16(D,!1)}function Je(_,D){return _.getUint32(D,!1)}function at(_,D){return _.getInt16(D,!1)+_.getUint16(D+2,!1)/65535}var je={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function We(_,D){this.data=_,this.offset=D,this.relativeOffset=0}We.prototype.parseByte=function(){var _=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,_},We.prototype.parseChar=function(){var _=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,_},We.prototype.parseCard8=We.prototype.parseByte,We.prototype.parseCard16=We.prototype.parseUShort=function(){var _=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,_},We.prototype.parseSID=We.prototype.parseUShort,We.prototype.parseOffset16=We.prototype.parseUShort,We.prototype.parseShort=function(){var _=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,_},We.prototype.parseF2Dot14=function(){var _=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,_},We.prototype.parseOffset32=We.prototype.parseULong=function(){var _=Je(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,_},We.prototype.parseFixed=function(){var _=at(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,_},We.prototype.parseString=function(_){var D=this.data,P=this.offset+this.relativeOffset,R="";this.relativeOffset+=_;for(var re=0;re<_;re++)R+=String.fromCharCode(D.getUint8(P+re));return R},We.prototype.parseTag=function(){return this.parseString(4)},We.prototype.parseLongDateTime=function(){var _=Je(this.data,this.offset+this.relativeOffset+4);return _-=2082844800,this.relativeOffset+=8,_},We.prototype.parseVersion=function(_){var D=It(this.data,this.offset+this.relativeOffset),P=It(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,D+P/(_=void 0===_?4096:_)/10},We.prototype.skip=function(_,D){this.relativeOffset+=je[_]*(D=void 0===D?1:D)},We.prototype.parseULongList=function(_){void 0===_&&(_=this.parseULong());for(var D=new Array(_),P=this.data,R=this.offset+this.relativeOffset,re=0;re<_;re++)D[re]=P.getUint32(R),R+=4;return this.relativeOffset+=4*_,D},We.prototype.parseOffset16List=We.prototype.parseUShortList=function(_){void 0===_&&(_=this.parseUShort());for(var D=new Array(_),P=this.data,R=this.offset+this.relativeOffset,re=0;re<_;re++)D[re]=P.getUint16(R),R+=2;return this.relativeOffset+=2*_,D},We.prototype.parseShortList=function(_){for(var D=new Array(_),P=this.data,R=this.offset+this.relativeOffset,re=0;re<_;re++)D[re]=P.getInt16(R),R+=2;return this.relativeOffset+=2*_,D},We.prototype.parseByteList=function(_){for(var D=new Array(_),P=this.data,R=this.offset+this.relativeOffset,re=0;re<_;re++)D[re]=P.getUint8(R++);return this.relativeOffset+=_,D},We.prototype.parseList=function(_,D){D||(D=_,_=this.parseUShort());for(var P=new Array(_),R=0;R<_;R++)P[R]=D.call(this);return P},We.prototype.parseList32=function(_,D){D||(D=_,_=this.parseULong());for(var P=new Array(_),R=0;R<_;R++)P[R]=D.call(this);return P},We.prototype.parseRecordList=function(_,D){D||(D=_,_=this.parseUShort());for(var P=new Array(_),R=Object.keys(D),re=0;re<_;re++){for(var ve={},De=0;De<R.length;De++){var ze=R[De];ve[ze]=D[ze].call(this)}P[re]=ve}return P},We.prototype.parseRecordList32=function(_,D){D||(D=_,_=this.parseULong());for(var P=new Array(_),R=Object.keys(D),re=0;re<_;re++){for(var ve={},De=0;De<R.length;De++){var ze=R[De];ve[ze]=D[ze].call(this)}P[re]=ve}return P},We.prototype.parseStruct=function(_){if("function"==typeof _)return _.call(this);for(var D=Object.keys(_),P={},R=0;R<D.length;R++){var re=D[R];P[re]=_[re].call(this)}return P},We.prototype.parseValueRecord=function(_){var D;if(0!==(_=void 0===_?this.parseUShort():_))return D={},1&_&&(D.xPlacement=this.parseShort()),2&_&&(D.yPlacement=this.parseShort()),4&_&&(D.xAdvance=this.parseShort()),8&_&&(D.yAdvance=this.parseShort()),16&_&&(D.xPlaDevice=void 0,this.parseShort()),32&_&&(D.yPlaDevice=void 0,this.parseShort()),64&_&&(D.xAdvDevice=void 0,this.parseShort()),128&_&&(D.yAdvDevice=void 0,this.parseShort()),D},We.prototype.parseValueRecordList=function(){for(var _=this.parseUShort(),D=this.parseUShort(),P=new Array(D),R=0;R<D;R++)P[R]=this.parseValueRecord(_);return P},We.prototype.parsePointer=function(_){var D=this.parseOffset16();if(0<D)return new We(this.data,this.offset+D).parseStruct(_)},We.prototype.parsePointer32=function(_){var D=this.parseOffset32();if(0<D)return new We(this.data,this.offset+D).parseStruct(_)},We.prototype.parseListOfLists=function(_){for(var D=this.parseOffset16List(),P=D.length,R=this.relativeOffset,re=new Array(P),ve=0;ve<P;ve++){var De=D[ve];if(0===De)re[ve]=void 0;else if(this.relativeOffset=De,_){for(var ze=this.parseOffset16List(),it=new Array(ze.length),rt=0;rt<ze.length;rt++)this.relativeOffset=De+ze[rt],it[rt]=_.call(this);re[ve]=it}else re[ve]=this.parseUShortList()}return this.relativeOffset=R,re},We.prototype.parseCoverage=function(){var _=this.offset+this.relativeOffset,D=this.parseUShort(),P=this.parseUShort();if(1===D)return{format:1,glyphs:this.parseUShortList(P)};if(2!==D)throw new Error("0x"+_.toString(16)+": Coverage format must be 1 or 2.");for(var R=new Array(P),re=0;re<P;re++)R[re]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:R}},We.prototype.parseClassDef=function(){var _=this.offset+this.relativeOffset,D=this.parseUShort();if(1===D)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===D)return{format:2,ranges:this.parseRecordList({start:We.uShort,end:We.uShort,classId:We.uShort})};throw new Error("0x"+_.toString(16)+": ClassDef format must be 1 or 2.")},We.list=function(_,D){return function(){return this.parseList(_,D)}},We.list32=function(_,D){return function(){return this.parseList32(_,D)}},We.recordList=function(_,D){return function(){return this.parseRecordList(_,D)}},We.recordList32=function(_,D){return function(){return this.parseRecordList32(_,D)}},We.pointer=function(_){return function(){return this.parsePointer(_)}},We.pointer32=function(_){return function(){return this.parsePointer32(_)}},We.tag=We.prototype.parseTag,We.byte=We.prototype.parseByte,We.uShort=We.offset16=We.prototype.parseUShort,We.uShortList=We.prototype.parseUShortList,We.uLong=We.offset32=We.prototype.parseULong,We.uLongList=We.prototype.parseULongList,We.struct=We.prototype.parseStruct,We.coverage=We.prototype.parseCoverage,We.classDef=We.prototype.parseClassDef;var yt={reserved:We.uShort,reqFeatureIndex:We.uShort,featureIndexes:We.uShortList},lt=(We.prototype.parseScriptList=function(){return this.parsePointer(We.recordList({tag:We.tag,script:We.pointer({defaultLangSys:We.pointer(yt),langSysRecords:We.recordList({tag:We.tag,langSys:We.pointer(yt)})})}))||[]},We.prototype.parseFeatureList=function(){return this.parsePointer(We.recordList({tag:We.tag,feature:We.pointer({featureParams:We.offset16,lookupListIndexes:We.uShortList})}))||[]},We.prototype.parseLookupList=function(_){return this.parsePointer(We.list(We.pointer(function(){var D=this.parseUShort(),P=(q.argument(1<=D&&D<=9,"GPOS/GSUB lookup type "+D+" unknown."),this.parseUShort()),R=16&P;return{lookupType:D,lookupFlag:P,subtables:this.parseList(We.pointer(_[D])),markFilteringSet:R?this.parseUShort():void 0}})))||[]},We.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var _=this.parseUShort(),D=this.parseUShort();return q.argument(1===_&&D<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:We.offset32,featureTableSubstitutionOffset:We.offset32})})||[]},{getByte:tn,getCard8:tn,getUShort:It,getCard16:It,getShort:function(_,D){return _.getInt16(D,!1)},getULong:Je,getFixed:at,getTag:function(_,D){for(var P="",R=D;R<D+4;R+=1)P+=String.fromCharCode(_.getInt8(R));return P},getOffset:function(_,D,P){for(var R=0,re=0;re<P;re+=1)R=(R<<=8)+_.getUint8(D+re);return R},getBytes:function(_,D,P){for(var R=[],re=D;re<P;re+=1)R.push(_.getUint8(re));return R},bytesToString:function(_){for(var D="",P=0;P<_.length;P+=1)D+=String.fromCharCode(_[P]);return D},Parser:We}),ke_parse=function(_,D){for(var P={},R=(P.version=lt.getUShort(_,D),q.argument(0===P.version,"cmap table version should be 0."),P.numTables=lt.getUShort(_,D+2),-1),re=P.numTables-1;0<=re;--re){var ve=lt.getUShort(_,D+4+8*re),De=lt.getUShort(_,D+4+8*re+2);if(3===ve&&(0===De||1===De||10===De)||0===ve&&(0===De||1===De||2===De||3===De||4===De)){R=lt.getULong(_,D+4+8*re+4);break}}if(-1===R)throw new Error("No valid cmap sub-tables found.");var ze=new lt.Parser(_,D+R);if(P.format=ze.parseUShort(),12===P.format){var it,rt=P,Et=ze;Et.parseUShort(),rt.length=Et.parseULong(),rt.language=Et.parseULong(),rt.groupCount=it=Et.parseULong(),rt.glyphIndexMap={};for(var Nt=0;Nt<it;Nt+=1)for(var Pt=Et.parseULong(),gt=Et.parseULong(),ln=Et.parseULong(),Ht=Pt;Ht<=gt;Ht+=1)rt.glyphIndexMap[Ht]=ln,ln++}else{if(4!==P.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+P.format+").");var Yt=P,Ut=_,Gt=D,An=R;Yt.length=ze.parseUShort(),Yt.language=ze.parseUShort(),Yt.segCount=Bn=ze.parseUShort()>>1,ze.skip("uShort",3),Yt.glyphIndexMap={};for(var Bn,Sn=new lt.Parser(Ut,Gt+An+14),In=new lt.Parser(Ut,Gt+An+16+2*Bn),Wn=new lt.Parser(Ut,Gt+An+16+4*Bn),dr=new lt.Parser(Ut,Gt+An+16+6*Bn),xr=Gt+An+16+8*Bn,Cr=0;Cr<Bn-1;Cr+=1)for(var Ar=void 0,jr=Sn.parseUShort(),ei=In.parseUShort(),ar=Wn.parseShort(),pr=dr.parseUShort(),rr=ei;rr<=jr;rr+=1)0!==pr?(xr=(xr=dr.offset+dr.relativeOffset-2)+pr+2*(rr-ei),0!==(Ar=lt.getUShort(Ut,xr))&&(Ar=Ar+ar&65535)):Ar=rr+ar&65535,Yt.glyphIndexMap[rr]=Ar}return P},ke_make=function(_){for(var D=!0,P=_.length-1;0<P;--P)if(65535<_.get(P).unicode){console.log("Adding CMAP format 12 (needed!)"),D=!1;break}var R,re,ve=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:D?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:D?12:20}],De=(ve=(ve=D?ve:ve.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Ot.Table("cmap",ve));for(De.segments=[],P=0;P<_.length;P+=1){for(var ze=_.get(P),it=0;it<ze.unicodes.length;it+=1)De.segments.push({end:R=ze.unicodes[it],start:R,delta:-(R-(re=P)),offset:0,glyphIndex:re});De.segments=De.segments.sort(function(Gt,An){return Gt.start-An.start})}De.segments.push({end:65535,start:65535,delta:1,offset:0});var rt=De.segments.length,Et=0,Nt=[],Pt=[],gt=[],ln=[],Ht=[],Yt=[];for(P=0;P<rt;P+=1){var Ut=De.segments[P];Ut.end<=65535&&Ut.start<=65535?(Nt=Nt.concat({name:"end_"+P,type:"USHORT",value:Ut.end}),Pt=Pt.concat({name:"start_"+P,type:"USHORT",value:Ut.start}),gt=gt.concat({name:"idDelta_"+P,type:"SHORT",value:Ut.delta}),ln=ln.concat({name:"idRangeOffset_"+P,type:"USHORT",value:Ut.offset}),void 0!==Ut.glyphId&&(Ht=Ht.concat({name:"glyph_"+P,type:"USHORT",value:Ut.glyphId}))):Et+=1,D||void 0===Ut.glyphIndex||(Yt=(Yt=(Yt=Yt.concat({name:"cmap12Start_"+P,type:"ULONG",value:Ut.start})).concat({name:"cmap12End_"+P,type:"ULONG",value:Ut.end})).concat({name:"cmap12Glyph_"+P,type:"ULONG",value:Ut.glyphIndex}))}return De.segCountX2=2*(rt-Et),De.searchRange=2*Math.pow(2,Math.floor(Math.log(rt-Et)/Math.log(2))),De.entrySelector=Math.log(De.searchRange/2)/Math.log(2),De.rangeShift=De.segCountX2-De.searchRange,De.fields=De.fields.concat(Nt),De.fields.push({name:"reservedPad",type:"USHORT",value:0}),De.fields=De.fields.concat(Pt),De.fields=De.fields.concat(gt),De.fields=De.fields.concat(ln),De.fields=De.fields.concat(Ht),De.cmap4Length=14+2*Nt.length+2+2*Pt.length+2*gt.length+2*ln.length+2*Ht.length,D||(ve=16+4*Yt.length,De.cmap12Offset=20+De.cmap4Length,De.fields=De.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:ve},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Yt.length/3}]),De.fields=De.fields.concat(Yt)),De},Be=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Me=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],$e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],wt=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function xt(_){this.font=_}function Lt(_){this.cmap=_}function Kt(_,D){this.encoding=_,this.charset=D}function cn(_){switch(_.version){case 1:this.names=wt.slice();break;case 2:this.names=new Array(_.numberOfGlyphs);for(var D=0;D<_.numberOfGlyphs;D++)this.names[D]=_.glyphNameIndex[D]<wt.length?wt[_.glyphNameIndex[D]]:_.names[_.glyphNameIndex[D]-wt.length];break;case 2.5:this.names=new Array(_.numberOfGlyphs);for(var P=0;P<_.numberOfGlyphs;P++)this.names[P]=wt[P+_.glyphNameIndex[P]];break;default:this.names=[]}}xt.prototype.charToGlyphIndex=function(_){var D=_.codePointAt(0),P=this.font.glyphs;if(P)for(var R=0;R<P.length;R+=1)for(var re=P.get(R),ve=0;ve<re.unicodes.length;ve+=1)if(re.unicodes[ve]===D)return R;return null},Lt.prototype.charToGlyphIndex=function(_){return this.cmap.glyphIndexMap[_.codePointAt(0)]||0},Kt.prototype.charToGlyphIndex=function(_){return _=_.codePointAt(0),this.charset.indexOf(_=this.encoding[_])},cn.prototype.nameToGlyphIndex=function(_){return this.names.indexOf(_)},cn.prototype.glyphIndexToName=function(_){return this.names[_]};var nn_line=function(_,D,P,R,re){_.beginPath(),_.moveTo(D,P),_.lineTo(R,re),_.stroke()};function Wt(_){this.bindConstructorValues(_)}function bn(_,D,P){Object.defineProperty(_,D,{get:function(){return _[P]},set:function(R){_[P]=R},enumerable:!0,configurable:!0})}function W(_,D){if(this.font=_,this.glyphs={},Array.isArray(D))for(var P=0;P<D.length;P++)this.glyphs[P]=D[P];this.length=D&&D.length||0}Wt.prototype.bindConstructorValues=function(_){var D;this.index=_.index||0,this.name=_.name||null,this.unicode=_.unicode||void 0,this.unicodes=_.unicodes||void 0!==_.unicode?[_.unicode]:[],_.xMin&&(this.xMin=_.xMin),_.yMin&&(this.yMin=_.yMin),_.xMax&&(this.xMax=_.xMax),_.yMax&&(this.yMax=_.yMax),_.advanceWidth&&(this.advanceWidth=_.advanceWidth),Object.defineProperty(this,"path",(D=(_=_.path)||new he,{configurable:!0,get:function(){return D="function"==typeof D?D():D},set:function(P){D=P}}))},Wt.prototype.addUnicode=function(_){0===this.unicodes.length&&(this.unicode=_),this.unicodes.push(_)},Wt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Wt.prototype.getPath=function(_,D,P,R,re){_=void 0!==_?_:0,D=void 0!==D?D:0,P=void 0!==P?P:72;for(var ve,De,ze=(R=R||{}).xScale,it=R.yScale,rt=((ve=R.hinting&&re&&re.hinting?this.path&&re.hinting.exec(this,P):ve)?(De=re.hinting.getCommands(ve),_=Math.round(_),D=Math.round(D),ze=it=1):(De=this.path.commands,R=1/this.path.unitsPerEm*P,void 0===ze&&(ze=R),void 0===it&&(it=R)),new he),Et=0;Et<De.length;Et+=1){var Nt=De[Et];"M"===Nt.type?rt.moveTo(_+Nt.x*ze,D+-Nt.y*it):"L"===Nt.type?rt.lineTo(_+Nt.x*ze,D+-Nt.y*it):"Q"===Nt.type?rt.quadraticCurveTo(_+Nt.x1*ze,D+-Nt.y1*it,_+Nt.x*ze,D+-Nt.y*it):"C"===Nt.type?rt.curveTo(_+Nt.x1*ze,D+-Nt.y1*it,_+Nt.x2*ze,D+-Nt.y2*it,_+Nt.x*ze,D+-Nt.y*it):"Z"===Nt.type&&rt.closePath()}return rt},Wt.prototype.getContours=function(){if(void 0===this.points)return[];for(var _=[],D=[],P=0;P<this.points.length;P+=1){var R=this.points[P];D.push(R),R.lastPointOfContour&&(_.push(D),D=[])}return q.argument(0===D.length,"There are still points left in the current contour."),_},Wt.prototype.getMetrics=function(){for(var _=this.path.commands,D=[],P=[],R=0;R<_.length;R+=1){var re=_[R];"Z"!==re.type&&(D.push(re.x),P.push(re.y)),"Q"!==re.type&&"C"!==re.type||(D.push(re.x1),P.push(re.y1)),"C"===re.type&&(D.push(re.x2),P.push(re.y2))}var ve={xMin:Math.min.apply(null,D),yMin:Math.min.apply(null,P),xMax:Math.max.apply(null,D),yMax:Math.max.apply(null,P),leftSideBearing:this.leftSideBearing};return isFinite(ve.xMin)||(ve.xMin=0),isFinite(ve.xMax)||(ve.xMax=this.advanceWidth),isFinite(ve.yMin)||(ve.yMin=0),isFinite(ve.yMax)||(ve.yMax=0),ve.rightSideBearing=this.advanceWidth-ve.leftSideBearing-(ve.xMax-ve.xMin),ve},Wt.prototype.draw=function(_,D,P,R,re){this.getPath(D,P,R,re).draw(_)},Wt.prototype.drawPoints=function(_,D,P,R){function re(Et,Nt,Pt,gt){var ln=2*Math.PI;_.beginPath();for(var Ht=0;Ht<Et.length;Ht+=1)_.moveTo(Nt+Et[Ht].x*gt,Pt+Et[Ht].y*gt),_.arc(Nt+Et[Ht].x*gt,Pt+Et[Ht].y*gt,2,0,ln,!1);_.closePath(),_.fill()}D=void 0!==D?D:0,P=void 0!==P?P:0,R=1/this.path.unitsPerEm*(R=void 0!==R?R:24);for(var ve=[],De=[],ze=this.path,it=0;it<ze.commands.length;it+=1){var rt=ze.commands[it];void 0!==rt.x&&ve.push({x:rt.x,y:-rt.y}),void 0!==rt.x1&&De.push({x:rt.x1,y:-rt.y1}),void 0!==rt.x2&&De.push({x:rt.x2,y:-rt.y2})}_.fillStyle="blue",re(ve,D,P,R),_.fillStyle="red",re(De,D,P,R)},Wt.prototype.drawMetrics=function(_,D,P,R){D=void 0!==D?D:0,P=void 0!==P?P:0,R=1/this.path.unitsPerEm*(R=void 0!==R?R:24),_.lineWidth=1,_.strokeStyle="black",nn_line(_,D,-1e4,D,1e4),nn_line(_,-1e4,P,1e4,P);var re=this.xMin||0,ve=this.yMin||0,De=this.xMax||0,ze=this.yMax||0,it=this.advanceWidth||0;_.strokeStyle="blue",nn_line(_,D+re*R,-1e4,D+re*R,1e4),nn_line(_,D+De*R,-1e4,D+De*R,1e4),nn_line(_,-1e4,P+-ve*R,1e4,P+-ve*R),nn_line(_,-1e4,P+-ze*R,1e4,P+-ze*R),_.strokeStyle="green",nn_line(_,D+it*R,-1e4,D+it*R,1e4)},W.prototype.get=function(_){return"function"==typeof this.glyphs[_]&&(this.glyphs[_]=this.glyphs[_]()),this.glyphs[_]},W.prototype.push=function(_,D){this.glyphs[_]=D,this.length++};var le={GlyphSet:W,glyphLoader:function(_,D){return new Wt({index:D,font:_})},ttfGlyphLoader:function(_,D,P,R,re,ve){return function(){var De=new Wt({index:D,font:_});return De.path=function(){P(De,R,re);var ze=ve(_.glyphs,De);return ze.unitsPerEm=_.unitsPerEm,ze},bn(De,"xMin","_xMin"),bn(De,"xMax","_xMax"),bn(De,"yMin","_yMin"),bn(De,"yMax","_yMax"),De}},cffGlyphLoader:function(_,D,P,R){return function(){var re=new Wt({index:D,font:_});return re.path=function(){var ve=P(_,re,R);return ve.unitsPerEm=_.unitsPerEm,ve},re}}};function S(_){return _.length<1240?107:_.length<33900?1131:32768}function I(_,D,P){var R,re=[],ve=[],De=lt.getCard16(_,D);if(0!==De){for(var ze=lt.getByte(_,D+2),it=D+(De+1)*ze+2,rt=D+3,Et=0;Et<De+1;Et+=1)re.push(lt.getOffset(_,rt,ze)),rt+=ze;R=it+re[De]}else R=D+2;for(var Nt=0;Nt<re.length-1;Nt+=1){var Pt=lt.getBytes(_,it+re[Nt],it+re[Nt+1]);P&&(Pt=P(Pt)),ve.push(Pt)}return{objects:ve,startOffset:D,endOffset:R}}function J(_,D){if(28===D)return _.parseByte()<<8|_.parseByte();if(29===D)return _.parseByte()<<24|_.parseByte()<<16|_.parseByte()<<8|_.parseByte();if(30===D){for(var P=_,R="",re=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var ve=(De=P.parseByte())>>4,De=15&De;if(15==ve||(R+=re[ve],15==De))break;R+=re[De]}return parseFloat(R)}if(32<=D&&D<=246)return D-139;if(247<=D&&D<=250)return 256*(D-247)+_.parseByte()+108;if(251<=D&&D<=254)return 256*-(D-251)-_.parseByte()-108;throw new Error("Invalid b0 "+D)}function de(_,D,P){var R=new lt.Parser(_,D=void 0!==D?D:0),re=[],ve=[];for(P=void 0!==P?P:_.length;R.relativeOffset<P;){var De=R.parseByte();De<=21?(12===De&&(De=1200+R.parseByte()),re.push([De,ve]),ve=[]):ve.push(J(R,De))}for(var ze=re,it={},rt=0;rt<ze.length;rt+=1){var Pt,Et=ze[rt][0],Nt=ze[rt][1];if(Pt=1===Nt.length?Nt[0]:Nt,it.hasOwnProperty(Et)&&!isNaN(it[Et]))throw new Error("Object "+it+" already has key "+Et);it[Et]=Pt}return it}function ne(_,D){return D<=390?Be[D]:_[D-391]}function V(_,D,P){for(var R,re={},ve=0;ve<D.length;ve+=1){var De=D[ve];if(Array.isArray(De.type)){var ze=[];ze.length=De.type.length;for(var it=0;it<De.type.length;it++)void 0===(R=void 0!==_[De.op]?_[De.op][it]:void 0)&&(R=void 0!==De.value&&void 0!==De.value[it]?De.value[it]:null),"SID"===De.type[it]&&(R=ne(P,R)),ze[it]=R;re[De.name]=ze}else void 0===(R=_[De.op])&&(R=void 0!==De.value?De.value:null),"SID"===De.type&&(R=ne(P,R)),re[De.name]=R}return re}var k=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],ue=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function tt(_,D,P,R){return V(de(_,D,P),ue,R)}function dt(_,D,P,R){for(var re=[],ve=0;ve<P.length;ve+=1){var De,ze=((ze=R,De=V(de(De=new DataView(new Uint8Array(P[ve]).buffer),0,De.byteLength),k,ze))._subrs=[],De._subrsBias=0,De.private[0]),it=De.private[1];0!==ze&&0!==it&&(ze=tt(_,it+D,ze,R),De._defaultWidthX=ze.defaultWidthX,De._nominalWidthX=ze.nominalWidthX,0!==ze.subrs&&(it=I(_,it+ze.subrs+D),De._subrs=it.objects,De._subrsBias=S(De._subrs)),De._privateDict=ze),re.push(De)}return re}function kt(_,D,P){var R,re,ve,De,ze,it,rt,Et,Nt,Pt=new he,gt=[],ln=0,Ht=!1,Yt=!1,Ut=0,Gt=0,An=(Nt=(_.isCIDFont?(ze=_.tables.cff.topDict._fdSelect[D.index],ze=_.tables.cff.topDict._fdArray[ze],it=ze._subrs,rt=ze._subrsBias,Et=ze._defaultWidthX,ze):(it=_.tables.cff.topDict._subrs,rt=_.tables.cff.topDict._subrsBias,Et=_.tables.cff.topDict._defaultWidthX,_.tables.cff.topDict))._nominalWidthX,Et);function Bn(In,Wn){Yt&&Pt.closePath(),Pt.moveTo(In,Wn),Yt=!0}function Sn(){gt.length%2==0||Ht||(An=gt.shift()+Nt),ln+=gt.length>>1,gt.length=0,Ht=!0}return function In(Wn){for(var dr,xr,Cr,Ar,jr,ei,ar,pr,rr,Lr,br,ir,er=0;er<Wn.length;){var qn=Wn[er];switch(er+=1,qn){case 1:case 3:case 18:case 23:Sn();break;case 4:1<gt.length&&!Ht&&(An=gt.shift()+Nt,Ht=!0),Gt+=gt.pop(),Bn(Ut,Gt);break;case 5:for(;0<gt.length;)Ut+=gt.shift(),Gt+=gt.shift(),Pt.lineTo(Ut,Gt);break;case 6:for(;0<gt.length&&(Ut+=gt.shift(),Pt.lineTo(Ut,Gt),0!==gt.length);)Gt+=gt.shift(),Pt.lineTo(Ut,Gt);break;case 7:for(;0<gt.length&&(Gt+=gt.shift(),Pt.lineTo(Ut,Gt),0!==gt.length);)Ut+=gt.shift(),Pt.lineTo(Ut,Gt);break;case 8:for(;0<gt.length;)R=Ut+gt.shift(),re=Gt+gt.shift(),ve=R+gt.shift(),De=re+gt.shift(),Ut=ve+gt.shift(),Gt=De+gt.shift(),Pt.curveTo(R,re,ve,De,Ut,Gt);break;case 10:jr=gt.pop()+rt,(ei=it[jr])&&In(ei);break;case 11:return;case 12:switch(qn=Wn[er],er+=1,qn){case 35:R=Ut+gt.shift(),re=Gt+gt.shift(),ve=R+gt.shift(),De=re+gt.shift(),ar=ve+gt.shift(),pr=De+gt.shift(),rr=ar+gt.shift(),Lr=pr+gt.shift(),br=rr+gt.shift(),ir=Lr+gt.shift(),Ut=br+gt.shift(),Gt=ir+gt.shift(),gt.shift(),Pt.curveTo(R,re,ve,De,ar,pr),Pt.curveTo(rr,Lr,br,ir,Ut,Gt);break;case 34:R=Ut+gt.shift(),re=Gt,ve=R+gt.shift(),De=re+gt.shift(),ar=ve+gt.shift(),pr=De,rr=ar+gt.shift(),Lr=De,br=rr+gt.shift(),ir=Gt,Ut=br+gt.shift(),Pt.curveTo(R,re,ve,De,ar,pr),Pt.curveTo(rr,Lr,br,ir,Ut,Gt);break;case 36:R=Ut+gt.shift(),re=Gt+gt.shift(),ve=R+gt.shift(),De=re+gt.shift(),ar=ve+gt.shift(),pr=De,rr=ar+gt.shift(),Lr=De,br=rr+gt.shift(),ir=Lr+gt.shift(),Ut=br+gt.shift(),Pt.curveTo(R,re,ve,De,ar,pr),Pt.curveTo(rr,Lr,br,ir,Ut,Gt);break;case 37:R=Ut+gt.shift(),re=Gt+gt.shift(),ve=R+gt.shift(),De=re+gt.shift(),ar=ve+gt.shift(),pr=De+gt.shift(),rr=ar+gt.shift(),Lr=pr+gt.shift(),br=rr+gt.shift(),ir=Lr+gt.shift(),Math.abs(br-Ut)>Math.abs(ir-Gt)?Ut=br+gt.shift():Gt=ir+gt.shift(),Pt.curveTo(R,re,ve,De,ar,pr),Pt.curveTo(rr,Lr,br,ir,Ut,Gt);break;default:console.log("Glyph "+D.index+": unknown operator 1200"+qn),gt.length=0}break;case 14:0<gt.length&&!Ht&&(An=gt.shift()+Nt,Ht=!0),Yt&&(Pt.closePath(),Yt=!1);break;case 19:case 20:Sn(),er+=ln+7>>3;break;case 21:2<gt.length&&!Ht&&(An=gt.shift()+Nt,Ht=!0),Gt+=gt.pop(),Bn(Ut+=gt.pop(),Gt);break;case 22:1<gt.length&&!Ht&&(An=gt.shift()+Nt,Ht=!0),Bn(Ut+=gt.pop(),Gt);break;case 24:for(;2<gt.length;)R=Ut+gt.shift(),re=Gt+gt.shift(),ve=R+gt.shift(),De=re+gt.shift(),Ut=ve+gt.shift(),Gt=De+gt.shift(),Pt.curveTo(R,re,ve,De,Ut,Gt);Ut+=gt.shift(),Gt+=gt.shift(),Pt.lineTo(Ut,Gt);break;case 25:for(;6<gt.length;)Ut+=gt.shift(),Gt+=gt.shift(),Pt.lineTo(Ut,Gt);R=Ut+gt.shift(),re=Gt+gt.shift(),ve=R+gt.shift(),De=re+gt.shift(),Ut=ve+gt.shift(),Gt=De+gt.shift(),Pt.curveTo(R,re,ve,De,Ut,Gt);break;case 26:for(gt.length%2&&(Ut+=gt.shift());0<gt.length;)R=Ut,re=Gt+gt.shift(),ve=R+gt.shift(),De=re+gt.shift(),Ut=ve,Gt=De+gt.shift(),Pt.curveTo(R,re,ve,De,Ut,Gt);break;case 27:for(gt.length%2&&(Gt+=gt.shift());0<gt.length;)R=Ut+gt.shift(),re=Gt,ve=R+gt.shift(),De=re+gt.shift(),Ut=ve+gt.shift(),Pt.curveTo(R,re,ve,De,Ut,Gt=De);break;case 28:gt.push(((dr=Wn[er])<<24|(xr=Wn[er+1])<<16)>>16),er+=2;break;case 29:jr=gt.pop()+_.gsubrsBias,(ei=_.gsubrs[jr])&&In(ei);break;case 30:for(;0<gt.length&&(R=Ut,re=Gt+gt.shift(),ve=R+gt.shift(),De=re+gt.shift(),Ut=ve+gt.shift(),Gt=De+(1===gt.length?gt.shift():0),Pt.curveTo(R,re,ve,De,Ut,Gt),0!==gt.length);)R=Ut+gt.shift(),re=Gt,ve=R+gt.shift(),De=re+gt.shift(),Gt=De+gt.shift(),Ut=ve+(1===gt.length?gt.shift():0),Pt.curveTo(R,re,ve,De,Ut,Gt);break;case 31:for(;0<gt.length&&(R=Ut+gt.shift(),re=Gt,ve=R+gt.shift(),De=re+gt.shift(),Gt=De+gt.shift(),Ut=ve+(1===gt.length?gt.shift():0),Pt.curveTo(R,re,ve,De,Ut,Gt),0!==gt.length);)R=Ut,re=Gt+gt.shift(),ve=R+gt.shift(),De=re+gt.shift(),Ut=ve+gt.shift(),Gt=De+(1===gt.length?gt.shift():0),Pt.curveTo(R,re,ve,De,Ut,Gt);break;default:qn<32?console.log("Glyph "+D.index+": unknown operator "+qn):qn<247?gt.push(qn-139):qn<251?(dr=Wn[er],er+=1,gt.push(256*(qn-247)+dr+108)):qn<255?(dr=Wn[er],er+=1,gt.push(256*-(qn-251)-dr-108)):(dr=Wn[er],xr=Wn[er+1],Cr=Wn[er+2],Ar=Wn[er+3],er+=4,gt.push((dr<<24|xr<<16|Cr<<8|Ar)/65536))}}}(P),D.advanceWidth=An,Pt}function pn(_,D){var P,R=Be.indexOf(_);return 0<=R&&(P=R),0<=(R=D.indexOf(_))?P=R+Be.length:(P=Be.length+D.length,D.push(_)),P}function Ln(_,D,P){for(var R={},re=0;re<_.length;re+=1){var ve=_[re],De=D[ve.name];void 0===De||function ze(it,rt){if(it===rt)return 1;if(Array.isArray(it)&&Array.isArray(rt)&&it.length===rt.length){for(var Et=0;Et<it.length;Et+=1)if(!ze(it[Et],rt[Et]))return;return 1}}(De,ve.value)||("SID"===ve.type&&(De=pn(De,P)),R[ve.op]={name:ve.name,type:ve.type,value:De})}return R}function Zn(_,D){var P=new Ot.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return P.dict=Ln(k,_,D),P}function yr(_){var D=new Ot.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return D.topDicts=[{name:"topDict_0",type:"TABLE",value:_}],D}var fr_parse=function(_,D,P){P.tables.cff={},(re={}).formatMajor=lt.getCard8(ze=_,R=D),re.formatMinor=lt.getCard8(ze,R+1),re.size=lt.getCard8(ze,R+2),re.offsetSize=lt.getCard8(ze,R+3),re.startOffset=R,re.endOffset=R+4;var ze=I(_,re.endOffset,lt.bytesToString),R=I(_,ze.endOffset),re=I(_,R.endOffset,lt.bytesToString);if(ze=I(_,re.endOffset),P.gsubrs=ze.objects,P.gsubrsBias=S(P.gsubrs),1!==(ze=dt(_,D,R.objects,re.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+ze.length);if((P.tables.cff.topDict=R=ze[0])._privateDict&&(P.defaultWidthX=R._privateDict.defaultWidthX,P.nominalWidthX=R._privateDict.nominalWidthX),void 0!==R.ros[0]&&void 0!==R.ros[1]&&(P.isCIDFont=!0),P.isCIDFont){var ve=R.fdSelect;if(0===(ze=R.fdArray)||0===ve)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");ze=dt(_,D,I(_,ze+=D).objects,re.objects),R._fdArray=ze,R._fdSelect=function(Pt,gt,ln,Ht){var Yt,Ut=[],Gt=new lt.Parser(Pt,gt);if(0===(Pt=Gt.parseCard8()))for(var An=0;An<ln;An++){if(Ht<=(Yt=Gt.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Yt+" (FD count "+Ht+")");Ut.push(Yt)}else{if(3!==Pt)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Pt);var Bn,Sn=Gt.parseCard16(),In=Gt.parseCard16();if(0!==In)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+In);for(var Wn=0;Wn<Sn;Wn++){if(Yt=Gt.parseCard8(),Bn=Gt.parseCard16(),Ht<=Yt)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Yt+" (FD count "+Ht+")");if(ln<Bn)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Bn);for(;In<Bn;In++)Ut.push(Yt);In=Bn}if(Bn!==ln)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Bn)}return Ut}(_,ve+=D,P.numGlyphs,ze.length)}ze=tt(_,ve=D+R.private[1],R.private[0],re.objects);var De=(P.defaultWidthX=ze.defaultWidthX,P.nominalWidthX=ze.nominalWidthX,0!==ze.subrs?(ve=I(_,ve+ze.subrs),P.subrs=ve.objects,P.subrsBias=S(P.subrs)):(P.subrs=[],P.subrsBias=0),I(_,D+R.charStrings));P.nGlyphs=De.objects.length,ze=function(Et,Nt,Pt,gt){var ln=new lt.Parser(Et,Nt),Ht=(--Pt,[".notdef"]);if(0===(Et=ln.parseCard8()))for(var Yt=0;Yt<Pt;Yt+=1)Ut=ln.parseSID(),Ht.push(ne(gt,Ut));else if(1===Et)for(;Ht.length<=Pt;)for(var Ut=ln.parseSID(),Gt=ln.parseCard8(),An=0;An<=Gt;An+=1)Ht.push(ne(gt,Ut)),Ut+=1;else{if(2!==Et)throw new Error("Unknown charset format "+Et);for(;Ht.length<=Pt;){Ut=ln.parseSID(),Gt=ln.parseCard16();for(var Bn=0;Bn<=Gt;Bn+=1)Ht.push(ne(gt,Ut)),Ut+=1}}return Ht}(_,D+R.charset,P.nGlyphs,re.objects),P.cffEncoding=0===R.encoding?new Kt(Me,ze):1===R.encoding?new Kt($e,ze):function(Et,Nt,Pt){var gt={},ln=new lt.Parser(Et,Nt);if(0===(Et=ln.parseCard8()))for(var Ht=ln.parseCard8(),Yt=0;Yt<Ht;Yt+=1)gt[Gt=ln.parseCard8()]=Yt;else{if(1!==Et)throw new Error("Unknown encoding format "+Et);for(var Ut=ln.parseCard8(),Gt=1,An=0;An<Ut;An+=1)for(var Bn=ln.parseCard8(),Sn=ln.parseCard8(),In=Bn;In<=Bn+Sn;In+=1)gt[In]=Gt,Gt+=1}return new Kt(gt,Pt)}(_,D+R.encoding,ze),P.encoding=P.encoding||P.cffEncoding,P.glyphs=new le.GlyphSet(P);for(var it=0;it<P.nGlyphs;it+=1)P.glyphs.push(it,le.cffGlyphLoader(P,it,kt,De.objects[it]))},fr_make=function(_,Et){for(var P,R=new Ot.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),re={version:Et.version,fullName:Et.fullName,familyName:Et.familyName,weight:Et.weightName,fontBBox:Et.fontBBox||[0,0,0,0],fontMatrix:[re=1/Et.unitsPerEm,0,0,re,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},ve=[],De=1;De<_.length;De+=1)P=_.get(De),ve.push(P.name);var ze,it,rt=[],Nt=(R.header=new Ot.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),R.nameIndex=function(Pt){var gt=new Ot.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);gt.names=[];for(var ln=0;ln<Pt.length;ln+=1)gt.names.push({name:"name_"+ln,type:"NAME",value:Pt[ln]});return gt}([Et.postScriptName]),Et=Zn(re,rt),R.topDictIndex=yr(Et),R.globalSubrIndex=new Ot.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),R.charsets=function(Pt,gt){for(var ln=new Ot.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Ht=0;Ht<Pt.length;Ht+=1){var Yt=pn(Pt[Ht],gt);ln.fields.push({name:"glyph_"+Ht,type:"SID",value:Yt})}return ln}(ve,rt),R.charStringsIndex=function Er(_){for(var D=new Ot.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),P=0;P<_.length;P+=1){var R=_.get(P),re=function(ve){for(var De=[],ze=ve.path,it=(De.push({name:"width",type:"NUMBER",value:ve.advanceWidth}),0),rt=0,Et=0;Et<ze.commands.length;Et+=1){var Nt,Pt,gt,ln,Ht=void 0,Yt=void 0,Ut=ze.commands[Et];"M"===(Ut="Q"===Ut.type?{type:"C",x:Ut.x,y:Ut.y,x1:1/3*it+2/3*Ut.x1,y1:1/3*rt+2/3*Ut.y1,x2:1/3*Ut.x+2/3*Ut.x1,y2:1/3*Ut.y+2/3*Ut.y1}:Ut).type?(Ht=Math.round(Ut.x-it),Yt=Math.round(Ut.y-rt),De.push({name:"dx",type:"NUMBER",value:Ht}),De.push({name:"dy",type:"NUMBER",value:Yt}),De.push({name:"rmoveto",type:"OP",value:21}),it=Math.round(Ut.x),rt=Math.round(Ut.y)):"L"===Ut.type?(Ht=Math.round(Ut.x-it),Yt=Math.round(Ut.y-rt),De.push({name:"dx",type:"NUMBER",value:Ht}),De.push({name:"dy",type:"NUMBER",value:Yt}),De.push({name:"rlineto",type:"OP",value:5}),it=Math.round(Ut.x),rt=Math.round(Ut.y)):"C"===Ut.type&&(Nt=Math.round(Ut.x1-it),Pt=Math.round(Ut.y1-rt),gt=Math.round(Ut.x2-Ut.x1),ln=Math.round(Ut.y2-Ut.y1),Ht=Math.round(Ut.x-Ut.x2),Yt=Math.round(Ut.y-Ut.y2),De.push({name:"dx1",type:"NUMBER",value:Nt}),De.push({name:"dy1",type:"NUMBER",value:Pt}),De.push({name:"dx2",type:"NUMBER",value:gt}),De.push({name:"dy2",type:"NUMBER",value:ln}),De.push({name:"dx",type:"NUMBER",value:Ht}),De.push({name:"dy",type:"NUMBER",value:Yt}),De.push({name:"rrcurveto",type:"OP",value:8}),it=Math.round(Ut.x),rt=Math.round(Ut.y))}return De.push({name:"endchar",type:"OP",value:14}),De}(R);D.charStrings.push({name:R.name,type:"CHARSTRING",value:re})}return D}(_),R.privateDict=(Nt={},ze=rt,(it=new Ot.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Ln(ue,Nt,ze),it),R.stringIndex=function(Pt){var gt=new Ot.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);gt.strings=[];for(var ln=0;ln<Pt.length;ln+=1)gt.strings.push({name:"string_"+ln,type:"STRING",value:Pt[ln]});return gt}(rt),R.header.sizeOf()+R.nameIndex.sizeOf()+R.topDictIndex.sizeOf()+R.stringIndex.sizeOf()+R.globalSubrIndex.sizeOf());return re.charset=Nt,re.encoding=0,re.charStrings=re.charset+R.charsets.sizeOf(),re.private[1]=re.charStrings+R.charStringsIndex.sizeOf(),Et=Zn(re,rt),R.topDictIndex=yr(Et),R},Xn_parse=function(R,D){var P={};return R=new lt.Parser(R,D),P.version=R.parseVersion(),P.fontRevision=Math.round(1e3*R.parseFixed())/1e3,P.checkSumAdjustment=R.parseULong(),P.magicNumber=R.parseULong(),q.argument(1594834165===P.magicNumber,"Font header has wrong magic number."),P.flags=R.parseUShort(),P.unitsPerEm=R.parseUShort(),P.created=R.parseLongDateTime(),P.modified=R.parseLongDateTime(),P.xMin=R.parseShort(),P.yMin=R.parseShort(),P.xMax=R.parseShort(),P.yMax=R.parseShort(),P.macStyle=R.parseUShort(),P.lowestRecPPEM=R.parseUShort(),P.fontDirectionHint=R.parseShort(),P.indexToLocFormat=R.parseShort(),P.glyphDataFormat=R.parseShort(),P},Xn_make=function(_){var D=Math.round((new Date).getTime()/1e3)+2082844800,P=D;return _.createdTimestamp&&(P=_.createdTimestamp+2082844800),new Ot.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:P},{name:"modified",type:"LONGDATETIME",value:D},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],_)},pt_parse=function(R,D){var P={};return R=new lt.Parser(R,D),P.version=R.parseVersion(),P.ascender=R.parseShort(),P.descender=R.parseShort(),P.lineGap=R.parseShort(),P.advanceWidthMax=R.parseUShort(),P.minLeftSideBearing=R.parseShort(),P.minRightSideBearing=R.parseShort(),P.xMaxExtent=R.parseShort(),P.caretSlopeRise=R.parseShort(),P.caretSlopeRun=R.parseShort(),P.caretOffset=R.parseShort(),R.relativeOffset+=8,P.metricDataFormat=R.parseShort(),P.numberOfHMetrics=R.parseUShort(),P},pt_make=function(_){return new Ot.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],_)},Jt_parse=function(_,D,P,R,re){for(var ve,De,ze=new lt.Parser(_,D),it=0;it<R;it+=1){it<P&&(ve=ze.parseUShort(),De=ze.parseShort());var rt=re.get(it);rt.advanceWidth=ve,rt.leftSideBearing=De}},Jt_make=function(_){for(var D=new Ot.Table("hmtx",[]),P=0;P<_.length;P+=1){var R=(re=_.get(P)).advanceWidth||0,re=re.leftSideBearing||0;D.fields.push({name:"advanceWidth_"+P,type:"USHORT",value:R}),D.fields.push({name:"leftSideBearing_"+P,type:"SHORT",value:re})}return D},mn_make=function(_){for(var D=new Ot.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:_.length}]),P="",R=12+4*_.length,re=0;re<_.length;++re){var ve=P.indexOf(_[re]);ve<0&&(ve=P.length,P+=_[re]),D.fields.push({name:"offset "+re,type:"USHORT",value:R+ve}),D.fields.push({name:"length "+re,type:"USHORT",value:_[re].length})}return D.fields.push({name:"stringPool",type:"CHARARRAY",value:P}),D},mn_parse=function(_,D){for(var P=new lt.Parser(_,D),R=P.parseULong(),re=(q.argument(1===R,"Unsupported ltag table version."),P.skip("uLong",1),P.parseULong()),ve=[],De=0;De<re;De++){for(var ze="",it=D+P.parseUShort(),rt=P.parseUShort(),Et=it;Et<it+rt;++Et)ze+=String.fromCharCode(_.getInt8(Et));ve.push(ze)}return ve},qt_parse=function(R,D){var P={};return R=new lt.Parser(R,D),P.version=R.parseVersion(),P.numGlyphs=R.parseUShort(),1===P.version&&(P.maxPoints=R.parseUShort(),P.maxContours=R.parseUShort(),P.maxCompositePoints=R.parseUShort(),P.maxCompositeContours=R.parseUShort(),P.maxZones=R.parseUShort(),P.maxTwilightPoints=R.parseUShort(),P.maxStorage=R.parseUShort(),P.maxFunctionDefs=R.parseUShort(),P.maxInstructionDefs=R.parseUShort(),P.maxStackElements=R.parseUShort(),P.maxSizeOfInstructions=R.parseUShort(),P.maxComponentElements=R.parseUShort(),P.maxComponentDepth=R.parseUShort()),P},qt_make=function(_){return new Ot.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:_}])},ct=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],_t={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},un={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},sn={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},xn="utf-16",Qt={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Fn={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function On(_,D,P){switch(_){case 0:return xn;case 1:return Fn[P]||Qt[D];case 3:if(1===D||10===D)return xn}}function $n(_){var D,P={};for(D in _)P[_[D]]=parseInt(D);return P}function Hn(_,D,P,R,re,ve){return new Ot.Record("NameRecord",[{name:"platformID",type:"USHORT",value:_},{name:"encodingID",type:"USHORT",value:D},{name:"languageID",type:"USHORT",value:P},{name:"nameID",type:"USHORT",value:R},{name:"length",type:"USHORT",value:re},{name:"offset",type:"USHORT",value:ve}])}function Dn(_,D){if((P=function(ve,De){var ze=ve.length,it=De.length-ze+1;e:for(var rt=0;rt<it;rt++)for(;rt<it;rt++){for(var Et=0;Et<ze;Et++)if(De[rt+Et]!==ve[Et])continue e;return rt}return-1}(_,D))<0)for(var P=D.length,R=0,re=_.length;R<re;++R)D.push(_[R]);return P}var Kn_parse=function(_,D,P){for(var R={},re=new lt.Parser(_,D),ve=(D=re.parseUShort(),re.parseUShort()),De=re.offset+re.parseUShort(),ze=0;ze<ve;ze++){var ln=re.parseUShort(),it=re.parseUShort(),rt=re.parseUShort(),Et=re.parseUShort(),Nt=(Et=ct[Et]||Et,re.parseUShort()),Pt=re.parseUShort(),gt=function(Yt,Ut,Gt){switch(Yt){case 0:if(65535===Ut)return"und";if(Gt)return Gt[Ut];break;case 1:return _t[Ut];case 3:return sn[Ut]}}(ln,rt,P);void 0!==(ln=On(ln,it,rt))&&void 0!==gt&&(it=void 0,(it=ln===xn?K.UTF16(_,De+Pt,Nt):K.MACSTRING(_,De+Pt,Nt,ln))&&((rt=void 0===(rt=R[Et])?R[Et]={}:rt)[gt]=it))}return 1===D&&re.parseUShort(),R},Kn_make=function(_,D){var P,R=[],re={},ve=$n(ct);for(P in _){var De=ve[P];if(void 0===De&&(De=P),Pt=parseInt(De),isNaN(Pt))throw new Error('Name table entry "'+P+'" does not exist, see nameTableNames for complete list.');re[Pt]=_[P],R.push(Pt)}for(var ze=$n(_t),it=$n(sn),rt=[],Et=[],Nt=0;Nt<R.length;Nt++){var Pt,gt,ln=re[Pt=R[Nt]];for(gt in ln){var Bn,Ht=ln[gt],Yt=ze[gt],Ut=un[Yt],Gt=On(Bn=1,Ut,Yt),An=(void 0===(Gt=we.MACSTRING(Ht,Gt))&&(Bn=0,(Yt=D.indexOf(gt))<0&&(Yt=D.length,D.push(gt)),Ut=4,Gt=we.UTF16(Ht)),Dn(Gt,Et));void 0!==(rt.push(Hn(Bn,Ut,Yt,Pt,Gt.length,An)),Bn=it[gt])&&(Yt=Dn(Ut=we.UTF16(Ht),Et),rt.push(Hn(3,1,Bn,Pt,Ut.length,Yt)))}}rt.sort(function(Wn,dr){return Wn.platformID-dr.platformID||Wn.encodingID-dr.encodingID||Wn.languageID-dr.languageID||Wn.nameID-dr.nameID});for(var Sn=new Ot.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:rt.length},{name:"stringOffset",type:"USHORT",value:6+12*rt.length}]),In=0;In<rt.length;In++)Sn.fields.push({name:"record_"+In,type:"RECORD",value:rt[In]});return Sn.fields.push({name:"strings",type:"LITERAL",value:Et}),Sn},sr=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Qn_parse=function(_,D){var P={},R=new lt.Parser(_,D);P.version=R.parseUShort(),P.xAvgCharWidth=R.parseShort(),P.usWeightClass=R.parseUShort(),P.usWidthClass=R.parseUShort(),P.fsType=R.parseUShort(),P.ySubscriptXSize=R.parseShort(),P.ySubscriptYSize=R.parseShort(),P.ySubscriptXOffset=R.parseShort(),P.ySubscriptYOffset=R.parseShort(),P.ySuperscriptXSize=R.parseShort(),P.ySuperscriptYSize=R.parseShort(),P.ySuperscriptXOffset=R.parseShort(),P.ySuperscriptYOffset=R.parseShort(),P.yStrikeoutSize=R.parseShort(),P.yStrikeoutPosition=R.parseShort(),P.sFamilyClass=R.parseShort(),P.panose=[];for(var re=0;re<10;re++)P.panose[re]=R.parseByte();return P.ulUnicodeRange1=R.parseULong(),P.ulUnicodeRange2=R.parseULong(),P.ulUnicodeRange3=R.parseULong(),P.ulUnicodeRange4=R.parseULong(),P.achVendID=String.fromCharCode(R.parseByte(),R.parseByte(),R.parseByte(),R.parseByte()),P.fsSelection=R.parseUShort(),P.usFirstCharIndex=R.parseUShort(),P.usLastCharIndex=R.parseUShort(),P.sTypoAscender=R.parseShort(),P.sTypoDescender=R.parseShort(),P.sTypoLineGap=R.parseShort(),P.usWinAscent=R.parseUShort(),P.usWinDescent=R.parseUShort(),1<=P.version&&(P.ulCodePageRange1=R.parseULong(),P.ulCodePageRange2=R.parseULong()),2<=P.version&&(P.sxHeight=R.parseShort(),P.sCapHeight=R.parseShort(),P.usDefaultChar=R.parseUShort(),P.usBreakChar=R.parseUShort(),P.usMaxContent=R.parseUShort()),P},Qn_make=function(_){return new Ot.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],_)},Qn_getUnicodeRange=function(_){for(var D=0;D<sr.length;D+=1){var P=sr[D];if(_>=P.begin&&_<P.end)return D}return-1},wr_parse=function(_,D){var P={},R=new lt.Parser(_,D);switch(P.version=R.parseVersion(),P.italicAngle=R.parseFixed(),P.underlinePosition=R.parseShort(),P.underlineThickness=R.parseShort(),P.isFixedPitch=R.parseULong(),P.minMemType42=R.parseULong(),P.maxMemType42=R.parseULong(),P.minMemType1=R.parseULong(),P.maxMemType1=R.parseULong(),P.version){case 1:P.names=wt.slice();break;case 2:P.numberOfGlyphs=R.parseUShort(),P.glyphNameIndex=new Array(P.numberOfGlyphs);for(var re=0;re<P.numberOfGlyphs;re++)P.glyphNameIndex[re]=R.parseUShort();P.names=[];for(var ve,De=0;De<P.numberOfGlyphs;De++)P.glyphNameIndex[De]>=wt.length&&(ve=R.parseChar(),P.names.push(R.parseString(ve)));break;case 2.5:P.numberOfGlyphs=R.parseUShort(),P.offset=new Array(P.numberOfGlyphs);for(var ze=0;ze<P.numberOfGlyphs;ze++)P.offset[ze]=R.parseChar()}return P},wr_make=function(){return new Ot.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},Ge=new Array(9),st=(Ge[1]=function(){var _=this.offset+this.relativeOffset,D=this.parseUShort();return 1===D?{substFormat:1,coverage:this.parsePointer(We.coverage),deltaGlyphId:this.parseUShort()}:2===D?{substFormat:2,coverage:this.parsePointer(We.coverage),substitute:this.parseOffset16List()}:void q.assert(!1,"0x"+_.toString(16)+": lookup type 1 format must be 1 or 2.")},Ge[2]=function(){var _=this.parseUShort();return q.argument(1===_,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:_,coverage:this.parsePointer(We.coverage),sequences:this.parseListOfLists()}},Ge[3]=function(){var _=this.parseUShort();return q.argument(1===_,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:_,coverage:this.parsePointer(We.coverage),alternateSets:this.parseListOfLists()}},Ge[4]=function(){var _=this.parseUShort();return q.argument(1===_,"GSUB ligature table identifier-format must be 1"),{substFormat:_,coverage:this.parsePointer(We.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:We.uShort,lookupListIndex:We.uShort});Ge[5]=function(){var _,D,P=this.offset+this.relativeOffset,R=this.parseUShort();return 1===R?{substFormat:R,coverage:this.parsePointer(We.coverage),ruleSets:this.parseListOfLists(function(){var re=this.parseUShort(),ve=this.parseUShort();return{input:this.parseUShortList(re-1),lookupRecords:this.parseRecordList(ve,st)}})}:2===R?{substFormat:R,coverage:this.parsePointer(We.coverage),classDef:this.parsePointer(We.classDef),classSets:this.parseListOfLists(function(){var re=this.parseUShort(),ve=this.parseUShort();return{classes:this.parseUShortList(re-1),lookupRecords:this.parseRecordList(ve,st)}})}:3===R?(_=this.parseUShort(),D=this.parseUShort(),{substFormat:R,coverages:this.parseList(_,We.pointer(We.coverage)),lookupRecords:this.parseRecordList(D,st)}):void q.assert(!1,"0x"+P.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Ge[6]=function(){var _=this.offset+this.relativeOffset,D=this.parseUShort();return 1===D?{substFormat:1,coverage:this.parsePointer(We.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(st)}})}:2===D?{substFormat:2,coverage:this.parsePointer(We.coverage),backtrackClassDef:this.parsePointer(We.classDef),inputClassDef:this.parsePointer(We.classDef),lookaheadClassDef:this.parsePointer(We.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(st)}})}:3===D?{substFormat:3,backtrackCoverage:this.parseList(We.pointer(We.coverage)),inputCoverage:this.parseList(We.pointer(We.coverage)),lookaheadCoverage:this.parseList(We.pointer(We.coverage)),lookupRecords:this.parseRecordList(st)}:void q.assert(!1,"0x"+_.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Ge[7]=function(){var _=this.parseUShort(),D=(q.argument(1===_,"GSUB Extension Substitution subtable identifier-format must be 1"),_=this.parseUShort(),new We(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:_,extension:Ge[_].call(D)}},Ge[8]=function(){var _=this.parseUShort();return q.argument(1===_,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:_,coverage:this.parsePointer(We.coverage),backtrackCoverage:this.parseList(We.pointer(We.coverage)),lookaheadCoverage:this.parseList(We.pointer(We.coverage)),substitutes:this.parseUShortList()}};var Tt=new Array(9);Tt[1]=function(_){return new Ot.Table("substitutionTable",1===_.substFormat?[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ot.Coverage(_.coverage)},{name:"deltaGlyphID",type:"USHORT",value:_.deltaGlyphId}]:[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ot.Coverage(_.coverage)}].concat(Ot.ushortList("substitute",_.substitute)))},Tt[3]=function(_){return q.assert(1===_.substFormat,"Lookup type 3 substFormat must be 1."),new Ot.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ot.Coverage(_.coverage)}].concat(Ot.tableList("altSet",_.alternateSets,function(D){return new Ot.Table("alternateSetTable",Ot.ushortList("alternate",D))})))},Tt[4]=function(_){return q.assert(1===_.substFormat,"Lookup type 4 substFormat must be 1."),new Ot.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ot.Coverage(_.coverage)}].concat(Ot.tableList("ligSet",_.ligatureSets,function(D){return new Ot.Table("ligatureSetTable",Ot.tableList("ligature",D,function(P){return new Ot.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:P.ligGlyph}].concat(Ot.ushortList("component",P.components,P.components.length+1)))}))})))};var Rt_parse=function(_,D){return D=(_=new We(_,D=D||0)).parseVersion(1),q.argument(1===D||1.1===D,"Unsupported GSUB table version."),1===D?{version:D,scripts:_.parseScriptList(),features:_.parseFeatureList(),lookups:_.parseLookupList(Ge)}:{version:D,scripts:_.parseScriptList(),features:_.parseFeatureList(),lookups:_.parseLookupList(Ge),variations:_.parseFeatureVariationsList()}},Rt_make=function(_){return new Ot.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ot.ScriptList(_.scripts)},{name:"features",type:"TABLE",value:new Ot.FeatureList(_.features)},{name:"lookups",type:"TABLE",value:new Ot.LookupList(_.lookups,Tt)}])},nt_parse=function(_,D){for(var P=new lt.Parser(_,D),R=P.parseULong(),re=(q.argument(1===R,"Unsupported META table version."),P.parseULong(),P.parseULong(),P.parseULong()),ve={},De=0;De<re;De++){var ze=P.parseTag(),rt=P.parseULong(),it=P.parseULong();rt=K.UTF8(_,D+rt,it),ve[ze]=rt}return ve},nt_make=function(_){var D,P=Object.keys(_).length,R="",re=16+12*P,ve=new Ot.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:re},{name:"numTags",type:"ULONG",value:P}]);for(D in _){var De=R.length;R+=_[D],ve.fields.push({name:"tag "+D,type:"TAG",value:D}),ve.fields.push({name:"offset "+D,type:"ULONG",value:re+De}),ve.fields.push({name:"length "+D,type:"ULONG",value:_[D].length})}return ve.fields.push({name:"stringPool",type:"CHARARRAY",value:R}),ve};function bt(_){return Math.log(_)/Math.log(2)|0}function Ft(_){for(;_.length%4!=0;)_.push(0);for(var D=0,P=0;P<_.length;P+=4)D+=(_[P]<<24)+(_[P+1]<<16)+(_[P+2]<<8)+_[P+3];return D%Math.pow(2,32)}function Xt(_,D,P,R){return new Ot.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==_?_:""},{name:"checkSum",type:"ULONG",value:void 0!==D?D:0},{name:"offset",type:"ULONG",value:void 0!==P?P:0},{name:"length",type:"ULONG",value:void 0!==R?R:0}])}function Zt(_){for(var D=new Ot.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),P=(D.tables=_,D.numTables=_.length,Math.pow(2,bt(D.numTables))),R=(D.searchRange=16*P,D.entrySelector=bt(P),D.rangeShift=16*D.numTables-D.searchRange,[]),re=[],ve=D.sizeOf()+Xt().sizeOf()*D.numTables;ve%4!=0;)ve+=1,re.push({name:"padding",type:"BYTE",value:0});for(var De=0;De<_.length;De+=1){var ze=_[De],it=(q.argument(4===ze.tableName.length,"Table name"+ze.tableName+" is invalid."),ze.sizeOf()),rt=Xt(ze.tableName,Ft(ze.encode()),ve,it);for(R.push({name:rt.tag+" Table Record",type:"RECORD",value:rt}),re.push({name:ze.tableName+" table",type:"RECORD",value:ze}),ve+=it,q.argument(!isNaN(ve),"Something went wrong calculating the offset.");ve%4!=0;)ve+=1,re.push({name:"padding",type:"BYTE",value:0})}return R.sort(function(Et,Nt){return Et.value.tag>Nt.value.tag?1:-1}),D.fields=D.fields.concat(R),D.fields=D.fields.concat(re),D}function on(_,D,P){for(var R=0;R<D.length;R+=1){var re=_.charToGlyphIndex(D[R]);if(0<re)return _.glyphs.get(re).getMetrics()}return P}var _n_fontToTable=function(_){for(var D,P=[],R=[],re=[],ve=[],De=[],ze=[],it=[],rt=0,Et=0,Nt=0,Pt=0,gt=0,ln=0;ln<_.glyphs.length;ln+=1){var Ht=_.glyphs.get(ln),Yt=0|Ht.unicode;if(isNaN(Ht.advanceWidth))throw new Error("Glyph "+Ht.name+" ("+ln+"): advanceWidth is not a number.");if((Yt<D||void 0===D)&&0<Yt&&(D=Yt),rt<Yt&&(rt=Yt),(Yt=Qn_getUnicodeRange(Yt))<32)Et|=1<<Yt;else if(Yt<64)Nt|=1<<Yt-32;else if(Yt<96)Pt|=1<<Yt-64;else{if(!(Yt<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");gt|=1<<Yt-96}".notdef"!==Ht.name&&(Yt=Ht.getMetrics(),P.push(Yt.xMin),R.push(Yt.yMin),re.push(Yt.xMax),ve.push(Yt.yMax),ze.push(Yt.leftSideBearing),it.push(Yt.rightSideBearing),De.push(Ht.advanceWidth))}var Ut,Gt={xMin:Math.min.apply(null,P),yMin:Math.min.apply(null,R),xMax:Math.max.apply(null,re),yMax:Math.max.apply(null,ve),advanceWidthMax:Math.max.apply(null,De),advanceWidthAvg:function(qn){for(var Ui=0,Pi=0;Pi<qn.length;Pi+=1)Ui+=qn[Pi];return Ui/qn.length}(De),minLeftSideBearing:Math.min.apply(null,ze),maxLeftSideBearing:Math.max.apply(null,ze),minRightSideBearing:Math.min.apply(null,it)},An=(Gt.ascender=_.ascender,Gt.descender=_.descender,Xn_make({flags:3,unitsPerEm:_.unitsPerEm,xMin:Gt.xMin,yMin:Gt.yMin,xMax:Gt.xMax,yMax:Gt.yMax,lowestRecPPEM:3,createdTimestamp:_.createdTimestamp})),Bn=pt_make({ascender:Gt.ascender,descender:Gt.descender,advanceWidthMax:Gt.advanceWidthMax,minLeftSideBearing:Gt.minLeftSideBearing,minRightSideBearing:Gt.minRightSideBearing,xMaxExtent:Gt.maxLeftSideBearing+(Gt.xMax-Gt.xMin),numberOfHMetrics:_.glyphs.length}),Sn=qt_make(_.glyphs.length),In=Qn_make({xAvgCharWidth:Math.round(Gt.advanceWidthAvg),usWeightClass:_.tables.os2.usWeightClass,usWidthClass:_.tables.os2.usWidthClass,usFirstCharIndex:D,usLastCharIndex:rt,ulUnicodeRange1:Et,ulUnicodeRange2:Nt,ulUnicodeRange3:Pt,ulUnicodeRange4:gt,fsSelection:_.tables.os2.fsSelection,sTypoAscender:Gt.ascender,sTypoDescender:Gt.descender,sTypoLineGap:0,usWinAscent:Gt.yMax,usWinDescent:Math.abs(Gt.yMin),ulCodePageRange1:1,sxHeight:on(_,"xyvw",{yMax:Math.round(Gt.ascender/2)}).yMax,sCapHeight:on(_,"HIKLEFJMNTZBDPRAGOQSUVWXY",Gt).yMax,usDefaultChar:_.hasChar(" ")?32:0,usBreakChar:_.hasChar(" ")?32:0}),Wn=Jt_make(_.glyphs),dr=ke_make(_.glyphs),ar=(pr=_.getEnglishName("fontFamily"))+" "+(rr=_.getEnglishName("fontSubfamily")),xr=(xr=_.getEnglishName("postScriptName"))||pr.replace(/\s/g,"")+"-"+rr,Cr={};for(Ut in _.names)Cr[Ut]=_.names[Ut];Cr.uniqueID||(Cr.uniqueID={en:_.getEnglishName("manufacturer")+":"+ar}),Cr.postScriptName||(Cr.postScriptName={en:xr}),Cr.preferredFamily||(Cr.preferredFamily=_.names.fontFamily),Cr.preferredSubfamily||(Cr.preferredSubfamily=_.names.fontSubfamily);var Ar=Kn_make(Cr,jr=[]),jr=0<jr.length?mn_make(jr):void 0,ei=wr_make(),pr=(ar=fr_make(_.glyphs,{version:_.getEnglishName("version"),fullName:ar,familyName:pr,weightName:rr,postScriptName:xr,unitsPerEm:_.unitsPerEm,fontBBox:[0,Gt.yMin,Gt.ascender,Gt.advanceWidthMax]}),_.metas&&0<Object.keys(_.metas).length?nt_make(_.metas):void 0),rr=[An,Bn,Sn,In,Ar,dr,ei,ar,Wn];jr&&rr.push(jr),_.tables.gsub&&rr.push(Rt_make(_.tables.gsub)),pr&&rr.push(pr);for(var Lr=Ft((xr=Zt(rr)).encode()),br=xr.fields,ir=!1,er=0;er<br.length;er+=1)if("head table"===br[er].name){br[er].value.checkSumAdjustment=2981146554-Lr,ir=!0;break}if(ir)return xr;throw new Error("Could not find head table with checkSum to adjust.")};function Cn(_,D){for(var P=0,R=_.length-1;P<=R;){var re=P+R>>>1,ve=_[re].tag;if(ve===D)return re;ve<D?P=1+re:R=re-1}return-P-1}function Mn(_,D){for(var P=0,R=_.length-1;P<=R;){var re=P+R>>>1,ve=_[re];if(ve===D)return re;ve<D?P=1+re:R=re-1}return-P-1}function Gn(_,D){for(var P=0,R=_.length-1;P<=R;){var re,ve=P+R>>>1,De=(re=_[ve]).start;if(De===D)return re;De<D?P=1+ve:R=ve-1}if(0<P)return D>(re=_[P-1]).end?0:re}function or(_,D){this.font=_,this.tableName=D}function lr(_){or.call(this,_,"gpos")}function ur(_){or.call(this,_,"gsub")}function Gr(_,D,P){for(var R=_.subtables,re=0;re<R.length;re++){var ve=R[re];if(ve.substFormat===D)return ve}if(P)return R.push(P),P}function di(_){for(var D=new ArrayBuffer(_.length),P=new Uint8Array(D),R=0;R<_.length;++R)P[R]=_[R];return D}function gr(_,D){if(!_)throw D}function hi(_,D,P,R,re){var ve=0<(D&R)?(ve=_.parseByte(),P+(ve=0==(D&re)?-ve:ve)):0<(D&re)?P:P+_.parseShort();return ve}function Ci(_,D,P){var R,re=new lt.Parser(D,P);if(_.numberOfContours=re.parseShort(),_._xMin=re.parseShort(),_._yMin=re.parseShort(),_._xMax=re.parseShort(),_._yMax=re.parseShort(),0<_.numberOfContours){for(var ve=_.endPointIndices=[],De=0;De<_.numberOfContours;De+=1)ve.push(re.parseUShort());_.instructionLength=re.parseUShort(),_.instructions=[];for(var ze=0;ze<_.instructionLength;ze+=1)_.instructions.push(re.parseByte());for(var it=ve[ve.length-1]+1,rt=[],Et=0;Et<it;Et+=1)if(R=re.parseByte(),rt.push(R),0<(8&R))for(var Nt=re.parseByte(),Pt=0;Pt<Nt;Pt+=1)rt.push(R),Et+=1;if(q.argument(rt.length===it,"Bad flags."),0<ve.length){var gt,ln=[];if(0<it){for(var Ht=0;Ht<it;Ht+=1)(gt={}).onCurve=!!(1&(R=rt[Ht])),gt.lastPointOfContour=0<=ve.indexOf(Ht),ln.push(gt);for(var Yt=0,Ut=0;Ut<it;Ut+=1)(gt=ln[Ut]).x=hi(re,R=rt[Ut],Yt,2,16),Yt=gt.x;for(var Gt=0,An=0;An<it;An+=1)(gt=ln[An]).y=hi(re,R=rt[An],Gt,4,32),Gt=gt.y}_.points=ln}else _.points=[]}else if(0===_.numberOfContours)_.points=[];else{_.isComposite=!0,_.points=[],_.components=[];for(var Bn=!0;Bn;){rt=re.parseUShort();var Sn={glyphIndex:re.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&rt)?0<(2&rt)?(Sn.dx=re.parseShort(),Sn.dy=re.parseShort()):Sn.matchedPoints=[re.parseUShort(),re.parseUShort()]:0<(2&rt)?(Sn.dx=re.parseChar(),Sn.dy=re.parseChar()):Sn.matchedPoints=[re.parseByte(),re.parseByte()],0<(8&rt)?Sn.xScale=Sn.yScale=re.parseF2Dot14():0<(64&rt)?(Sn.xScale=re.parseF2Dot14(),Sn.yScale=re.parseF2Dot14()):0<(128&rt)&&(Sn.xScale=re.parseF2Dot14(),Sn.scale01=re.parseF2Dot14(),Sn.scale10=re.parseF2Dot14(),Sn.yScale=re.parseF2Dot14()),_.components.push(Sn),Bn=!!(32&rt)}if(256&rt){_.instructionLength=re.parseUShort(),_.instructions=[];for(var In=0;In<_.instructionLength;In+=1)_.instructions.push(re.parseByte())}}}function $r(_,D){for(var P=[],R=0;R<_.length;R+=1){var re;P.push(re={x:D.xScale*(re=_[R]).x+D.scale01*re.y+D.dx,y:D.scale10*re.x+D.yScale*re.y+D.dy,onCurve:re.onCurve,lastPointOfContour:re.lastPointOfContour})}return P}function fi(_){var D=new he;if(_)for(var P=function(Nt){for(var Pt=[],gt=[],ln=0;ln<Nt.length;ln+=1){var Ht=Nt[ln];gt.push(Ht),Ht.lastPointOfContour&&(Pt.push(gt),gt=[])}return q.argument(0===gt.length,"There are still points left in the current contour."),Pt}(_),R=0;R<P.length;++R){var re,ve=P[R],ze=ve[0];(De=ve[ve.length-1]).onCurve?D.moveTo(De.x,De.y):ze.onCurve?D.moveTo(ze.x,ze.y):D.moveTo((re={x:.5*(De.x+ze.x),y:.5*(De.y+ze.y)}).x,re.y);for(var it=0;it<ve.length;++it){var rt,De=ze;ze=ve[(it+1)%ve.length],De.onCurve?D.lineTo(De.x,De.y):(rt=ze,ze.onCurve||(rt={x:.5*(De.x+ze.x),y:.5*(De.y+ze.y)}),D.quadraticCurveTo(De.x,De.y,rt.x,rt.y))}D.closePath()}return D}function pi(_,D){if(D.isComposite)for(var P=0;P<D.components.length;P+=1){var re=_.get((R=D.components[P]).glyphIndex);if(re.getPath(),re.points){var ve=void 0;if(void 0===R.matchedPoints)ve=$r(re.points,R);else{if(R.matchedPoints[0]>D.points.length-1||R.matchedPoints[1]>re.points.length-1)throw Error("Matched points out of range in "+D.name);var R,De=D.points[R.matchedPoints[0]],ze=$r([ze=re.points[R.matchedPoints[1]]],R={xScale:R.xScale,scale01:R.scale01,scale10:R.scale10,yScale:R.yScale,dx:0,dy:0})[0];R.dx=De.x-ze.x,R.dy=De.y-ze.y,ve=$r(re.points,R)}D.points=D.points.concat(ve)}}return fi(D.points)}(lr.prototype=or.prototype={searchTag:Cn,binSearch:Mn,getTable:function(_){var D=this.font.tables[this.tableName];return!D&&_?this.font.tables[this.tableName]=this.createDefaultTable():D},getScriptNames:function(){var _=this.getTable();return _?_.scripts.map(function(D){return D.tag}):[]},getDefaultScriptName:function(){var _=this.getTable();if(_){for(var D=!1,P=0;P<_.scripts.length;P++){var R=_.scripts[P].tag;if("DFLT"===R)return R;"latn"===R&&(D=!0)}return D?"latn":void 0}},getScriptTable:function(_,D){var P,R=this.getTable(D);if(R)return P=R.scripts,0<=(R=Cn(R.scripts,_=_||"DFLT"))?P[R].script:D?(P.splice(-1-R,0,D={tag:_,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),D.script):void 0},getLangSysTable:function(re,D,P){var R;if(re=this.getScriptTable(re,P))return D&&"dflt"!==D&&"DFLT"!==D?0<=(R=Cn(re.langSysRecords,D))?re.langSysRecords[R].langSys:P?(re.langSysRecords.splice(-1-R,0,P={tag:D,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),P.langSys):void 0:re.defaultLangSys},getFeatureTable:function(_,D,P,R){if(_=this.getLangSysTable(_,D,R)){for(var re,ve=_.featureIndexes,De=this.font.tables[this.tableName].features,ze=0;ze<ve.length;ze++)if((re=De[ve[ze]]).tag===P)return re.feature;if(R)return q.assert(0===(D=De.length)||P>=De[D-1].tag,"Features must be added in alphabetical order."),De.push(re={tag:P,feature:{params:0,lookupListIndexes:[]}}),ve.push(D),re.feature}},getLookupTables:function(ve,D,P,R,re){var De=[];if(ve=this.getFeatureTable(ve,D,P,re)){for(var ze,it=ve.lookupListIndexes,rt=this.font.tables[this.tableName].lookups,Et=0;Et<it.length;Et++)(ze=rt[it[Et]]).lookupType===R&&De.push(ze);if(0===De.length&&re)return D=rt.length,rt.push(ze={lookupType:R,lookupFlag:0,subtables:[],markFilteringSet:void 0}),it.push(D),[ze]}return De},getGlyphClass:function(_,D){switch(_.format){case 1:return _.startGlyph<=D&&D<_.startGlyph+_.classes.length?_.classes[D-_.startGlyph]:0;case 2:var P=Gn(_.ranges,D);return P?P.classId:0}},getCoverageIndex:function(_,D){switch(_.format){case 1:var P=Mn(_.glyphs,D);return 0<=P?P:-1;case 2:return(P=Gn(_.ranges,D))?P.index+D-P.start:-1}},expandCoverage:function(_){if(1===_.format)return _.glyphs;for(var D=[],P=_.ranges,R=0;R<P.length;R++)for(var re=P[R],De=re.end,ze=re.start;ze<=De;ze++)D.push(ze);return D}}).init=function(){var _=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(_)},lr.prototype.getKerningValue=function(_,D,P){for(var R=0;R<_.length;R++)for(var re=_[R].subtables,ve=0;ve<re.length;ve++){var De=re[ve],ze=this.getCoverageIndex(De.coverage,D);if(!(ze<0))switch(De.posFormat){case 1:for(var it=De.pairSets[ze],rt=0;rt<it.length;rt++){var Et=it[rt];if(Et.secondGlyph===P)return Et.value1&&Et.value1.xAdvance||0}break;case 2:var Pt=this.getGlyphClass(De.classDef1,D),Nt=this.getGlyphClass(De.classDef2,P);return(Pt=De.classRecords[Pt][Nt]).value1&&Pt.value1.xAdvance||0}}return 0},lr.prototype.getKerningTables=function(_,D){if(this.font.tables.gpos)return this.getLookupTables(_,D,"kern",2)},(ur.prototype=or.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},ur.prototype.getSingle=function(_,D,P){for(var R=[],re=this.getLookupTables(D,P,_,1),ve=0;ve<re.length;ve++)for(var De=re[ve].subtables,ze=0;ze<De.length;ze++){var it=De[ze],rt=this.expandCoverage(it.coverage),Et=void 0;if(1===it.substFormat){var Nt=it.deltaGlyphId;for(Et=0;Et<rt.length;Et++){var Pt=rt[Et];R.push({sub:Pt,by:Pt+Nt})}}else{var gt=it.substitute;for(Et=0;Et<rt.length;Et++)R.push({sub:rt[Et],by:gt[Et]})}}return R},ur.prototype.getAlternates=function(_,D,P){for(var R=[],re=this.getLookupTables(D,P,_,3),ve=0;ve<re.length;ve++)for(var De=re[ve].subtables,ze=0;ze<De.length;ze++)for(var it=De[ze],rt=this.expandCoverage(it.coverage),Et=it.alternateSets,Nt=0;Nt<rt.length;Nt++)R.push({sub:rt[Nt],by:Et[Nt]});return R},ur.prototype.getLigatures=function(_,D,P){for(var R=[],re=this.getLookupTables(D,P,_,4),ve=0;ve<re.length;ve++)for(var De=re[ve].subtables,ze=0;ze<De.length;ze++)for(var it=De[ze],rt=this.expandCoverage(it.coverage),Et=it.ligatureSets,Nt=0;Nt<rt.length;Nt++)for(var Pt=rt[Nt],gt=Et[Nt],ln=0;ln<gt.length;ln++){var Ht=gt[ln];R.push({sub:[Pt].concat(Ht.components),by:Ht.ligGlyph})}return R},ur.prototype.addSingle=function(_,D,P,R){P=Gr(this.getLookupTables(P,R,_,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),q.assert(1===P.coverage.format,"Ligature: unable to modify coverage table format "+P.coverage.format),(_=this.binSearch(P.coverage.glyphs,R=D.sub))<0&&(P.coverage.glyphs.splice(_=-1-_,0,R),P.substitute.splice(_,0,0)),P.substitute[_]=D.by},ur.prototype.addAlternate=function(_,D,P,R){P=Gr(this.getLookupTables(P,R,_,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),q.assert(1===P.coverage.format,"Ligature: unable to modify coverage table format "+P.coverage.format),(_=this.binSearch(P.coverage.glyphs,R=D.sub))<0&&(P.coverage.glyphs.splice(_=-1-_,0,R),P.alternateSets.splice(_,0,0)),P.alternateSets[_]=D.by},ur.prototype.addLigature=function(ve,it,ze,re){(re=(ze=this.getLookupTables(ze,re,ve,4,!0)[0]).subtables[0])||(ze.subtables[0]=re={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),q.assert(1===re.coverage.format,"Ligature: unable to modify coverage table format "+re.coverage.format),ve=it.sub[0];var De=it.sub.slice(1);if(ze={ligGlyph:it.by,components:De},0<=(it=this.binSearch(re.coverage.glyphs,ve))){for(var rt=re.ligatureSets[it],Et=0;Et<rt.length;Et++)if(function(Nt,Pt){var gt=Nt.length;if(gt===Pt.length){for(var ln=0;ln<gt;ln++)if(Nt[ln]!==Pt[ln])return;return 1}}(rt[Et].components,De))return;rt.push(ze)}else re.coverage.glyphs.splice(it=-1-it,0,ve),re.ligatureSets.splice(it,0,[ze])},ur.prototype.getFeature=function(_,D,P){if(/ss\d\d/.test(_))return this.getSingle(_,D,P);switch(_){case"aalt":case"salt":return this.getSingle(_,D,P).concat(this.getAlternates(_,D,P));case"dlig":case"liga":case"rlig":return this.getLigatures(_,D,P)}},ur.prototype.add=function(_,D,P,R){if(/ss\d\d/.test(_))return this.addSingle(_,D,P,R);switch(_){case"aalt":case"salt":return"number"==typeof D.by?this.addSingle(_,D,P,R):this.addAlternate(_,D,P,R);case"dlig":case"liga":case"rlig":return this.addLigature(_,D,P,R)}};var qr={getPath:fi,parse:function(_,D,P,R){for(var re=new le.GlyphSet(R),ve=0;ve<P.length-1;ve+=1){var De=P[ve];re.push(ve,De!==P[ve+1]?le.ttfGlyphLoader(R,ve,Ci,_,D+De,pi):le.glyphLoader(R,ve))}return re}};function Rr(_){this.font=_,this.getCommands=function(D){return qr.getPath(D).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Di(_){return _}function oi(_){return Math.sign(_)*Math.round(Math.abs(_))}function ri(_){return Math.sign(_)*Math.round(Math.abs(2*_))/2}function Jr(_){return Math.sign(_)*(Math.round(Math.abs(_)+.5)-.5)}function ai(_){return Math.sign(_)*Math.ceil(Math.abs(_))}function li(_){return Math.sign(_)*Math.floor(Math.abs(_))}function Xr(_){var D=this.srPeriod,P=this.srPhase,R=1;return _<0&&(_=-_,R=-1),_+=this.srThreshold-P,_=Math.trunc(_/D)*D,(_+=P)<0?P*R:_*R}var Sr={x:1,y:0,axis:"x",distance:function(_,D,P,R){return(P?_.xo:_.x)-(R?D.xo:D.x)},interpolate:function(_,D,P,R){var re,ve,De,ze,it,rt,Et;if(!R||R===this)return re=_.xo-D.xo,ve=_.xo-P.xo,it=D.x-D.xo,rt=P.x-P.xo,0===(Et=(De=Math.abs(re))+(ze=Math.abs(ve)))?void(_.x=_.xo+(it+rt)/2):void(_.x=_.xo+(it*ze+rt*De)/Et);re=R.distance(_,D,!0,!0),ve=R.distance(_,P,!0,!0),it=R.distance(D,D,!1,!0),rt=R.distance(P,P,!1,!0),0===(Et=(De=Math.abs(re))+(ze=Math.abs(ve)))?Sr.setRelative(_,_,(it+rt)/2,R,!0):Sr.setRelative(_,_,(it*ze+rt*De)/Et,R,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(_,D,P,R,re){var ve,De;R&&R!==this?(ve=re?D.xo:D.x,De=re?D.yo:D.y,_.x=(ve+=P*R.x)+(_.y-(De+=P*R.y))/R.normalSlope):_.x=(re?D.xo:D.x)+P},slope:0,touch:function(_){_.xTouched=!0},touched:function(_){return _.xTouched},untouch:function(_){_.xTouched=!1}},Tr={x:0,y:1,axis:"y",distance:function(_,D,P,R){return(P?_.yo:_.y)-(R?D.yo:D.y)},interpolate:function(_,D,P,R){var re,ve,De,ze,it,rt,Et;if(!R||R===this)return re=_.yo-D.yo,ve=_.yo-P.yo,it=D.y-D.yo,rt=P.y-P.yo,0===(Et=(De=Math.abs(re))+(ze=Math.abs(ve)))?void(_.y=_.yo+(it+rt)/2):void(_.y=_.yo+(it*ze+rt*De)/Et);re=R.distance(_,D,!0,!0),ve=R.distance(_,P,!0,!0),it=R.distance(D,D,!1,!0),rt=R.distance(P,P,!1,!0),0===(Et=(De=Math.abs(re))+(ze=Math.abs(ve)))?Tr.setRelative(_,_,(it+rt)/2,R,!0):Tr.setRelative(_,_,(it*ze+rt*De)/Et,R,!0)},normalSlope:0,setRelative:function(_,D,P,R,re){var ve,De;R&&R!==this?(ve=re?D.xo:D.x,De=re?D.yo:D.y,_.y=(De+=P*R.y)+R.normalSlope*(_.x-(ve+=P*R.x))):_.y=(re?D.yo:D.y)+P},slope:Number.POSITIVE_INFINITY,touch:function(_){_.yTouched=!0},touched:function(_){return _.yTouched},untouch:function(_){_.yTouched=!1}};function Dr(_,D){this.x=_,this.y=D,this.axis=void 0,this.slope=D/_,this.normalSlope=-_/D,Object.freeze(this)}function Fr(_,D){var P=Math.sqrt(_*_+D*D);return D/=P,1==(_/=P)&&0===D?Sr:0===_&&1===D?Tr:new Dr(_,D)}function Or(_,D,P,R){this.x=this.xo=Math.round(64*_)/64,this.y=this.yo=Math.round(64*D)/64,this.lastPointOfContour=P,this.onCurve=R,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Sr),Object.freeze(Tr),Dr.prototype.distance=function(_,D,P,R){return this.x*Sr.distance(_,D,P,R)+this.y*Tr.distance(_,D,P,R)},Dr.prototype.interpolate=function(_,re,ve,R){var De=R.distance(_,re,!0,!0),ze=R.distance(_,ve,!0,!0),it=(re=R.distance(re,re,!1,!0),ve=R.distance(ve,ve,!1,!0),(De=Math.abs(De))+(ze=Math.abs(ze)));this.setRelative(_,_,0===it?(re+ve)/2:(re*ze+ve*De)/it,R,!0)},Dr.prototype.setRelative=function(_,ve,it,rt,ze){var De=ze?ve.xo:ve.x,Et=(ze=ze?ve.yo:ve.y,ve=De+it*(rt=rt||this).x,De=ze+it*rt.y,ze=rt.normalSlope,_.y);_.x=((it=this.slope)*(rt=_.x)-ze*ve+De-Et)/(it-ze),_.y=it*(_.x-rt)+Et},Dr.prototype.touch=function(_){_.xTouched=!0,_.yTouched=!0},Or.prototype.nextTouched=function(_){for(var D=this.nextPointOnContour;!_.touched(D)&&D!==this;)D=D.nextPointOnContour;return D},Or.prototype.prevTouched=function(_){for(var D=this.prevPointOnContour;!_.touched(D)&&D!==this;)D=D.prevPointOnContour;return D};var Nr=Object.freeze(new Or(0,0)),mi={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Hr(_,D){switch(this.env=_,this.stack=[],this.prog=D,_){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Sr,this.round=oi}}function ui(_){for(var D=_.tZone=new Array(_.gZone.length),P=0;P<D.length;P++)D[P]=new Or(0,0)}function Qr(_,D){var P,R=_.prog,re=_.ip,ve=1;do{if(88===(P=R[++re]))ve++;else if(89===P)ve--;else if(64===P)re+=R[re+1]+1;else if(65===P)re+=2*R[re+1]+1;else if(176<=P&&P<=183)re+=P-176+1;else if(184<=P&&P<=191)re+=2*(P-184+1);else if(D&&1===ve&&27===P)break}while(0<ve);_.ip=re}function zr(_,D){d.DEBUG&&console.log(D.step,"SVTCA["+_.axis+"]"),D.fv=D.pv=D.dpv=_}function gi(_,D){d.DEBUG&&console.log(D.step,"SPVTCA["+_.axis+"]"),D.pv=D.dpv=_}function yi(_,D){d.DEBUG&&console.log(D.step,"SFVTCA["+_.axis+"]"),D.fv=_}function Mr(_,D){var P,R=(re=D.stack).pop(),re=re.pop(),ve=D.z2[R],De=D.z1[re];d.DEBUG&&console.log("SPVTL["+_+"]",R,re),R=_?(P=ve.y-De.y,De.x-ve.x):(P=De.x-ve.x,De.y-ve.y),D.pv=D.dpv=Fr(P,R)}function Br(_,D){var P,R=(re=D.stack).pop(),re=re.pop(),ve=D.z2[R],De=D.z1[re];d.DEBUG&&console.log("SFVTL["+_+"]",R,re),R=_?(P=ve.y-De.y,De.x-ve.x):(P=De.x-ve.x,De.y-ve.y),D.fv=Fr(P,R)}function vi(_){d.DEBUG&&console.log(_.step,"POP[]"),_.stack.pop()}function Kr(_,D){var P=D.stack.pop(),R=D.z0[P],re=D.fv,ve=D.pv,De=(d.DEBUG&&console.log(D.step,"MDAP["+_+"]",P),ve.distance(R,Nr));_&&(De=D.round(De)),re.setRelative(R,Nr,De,ve),re.touch(R),D.rp0=D.rp1=P}function _i(_,D){var P,R,re,ve=D.z2,De=ve.length-2;d.DEBUG&&console.log(D.step,"IUP["+_.axis+"]");for(var ze=0;ze<De;ze++)_.touched(P=ve[ze])||(R=P.prevTouched(_))!==P&&(R===(re=P.nextTouched(_))&&_.setRelative(P,P,_.distance(R,R,!1,!0),_,!0),_.interpolate(P,R,re,_))}function Si(_,D){for(var P=D.stack,re=(_?D.z0:D.z1)[_?D.rp1:D.rp2],ve=D.fv,De=D.pv,ze=D.loop,it=D.z2;ze--;){var rt=P.pop(),Et=it[rt],Nt=De.distance(re,re,!1,!0);ve.setRelative(Et,Et,Nt,De),ve.touch(Et),d.DEBUG&&console.log(D.step,(1<D.loop?"loop "+(D.loop-ze)+": ":"")+"SHP["+(_?"rp1":"rp2")+"]",rt)}D.loop=1}function ci(_,D){for(var R=(_?D.z0:D.z1)[_?D.rp1:D.rp2],re=D.fv,ve=D.pv,De=D.stack.pop(),ze=D.z2[D.contours[De]],it=ze,rt=(d.DEBUG&&console.log(D.step,"SHC["+_+"]",De),ve.distance(R,R,!1,!0));it!==R&&re.setRelative(it,it,rt,ve),(it=it.nextPointOnContour)!==ze;);}function Wr(_,D){var P,R,re=(_?D.z0:D.z1)[re=_?D.rp1:D.rp2],ve=D.fv,De=D.pv,ze=(ze=D.stack).pop();switch(d.DEBUG&&console.log(D.step,"SHZ["+_+"]",ze),ze){case 0:P=D.tZone;break;case 1:P=D.gZone;break;default:throw new Error("Invalid zone")}for(var it=De.distance(re,re,!1,!0),rt=P.length-2,Et=0;Et<rt;Et++)ve.setRelative(R=P[Et],R,it,De)}function Se(_,D){var P=(R=D.stack).pop()/64,R=R.pop(),re=D.z1[R],De=D.fv;De.setRelative(re,D.z0[D.rp0],P,D.pv),De.touch(re),d.DEBUG&&console.log(D.step,"MSIRP["+_+"]",P,R),D.rp1=D.rp0,D.rp2=R,_&&(D.rp0=R)}function Ye(_,D){var ze=(P=D.stack).pop(),P=P.pop(),R=D.z0[P],re=D.fv,ve=D.pv,De=D.cvt[ze];d.DEBUG&&console.log(D.step,"MIAP["+_+"]",ze,"(",De,")",P),ze=ve.distance(R,Nr),_&&(Math.abs(ze-De)<D.cvCutIn&&(ze=De),ze=D.round(ze)),re.setRelative(R,Nr,ze,ve),0===D.zp0&&(R.xo=R.x,R.yo=R.y),re.touch(R),D.rp0=D.rp1=P}function Ce(_,D){var P=D.stack,R=P.pop(),re=D.z2[R];d.DEBUG&&console.log(D.step,"GC["+_+"]",R),P.push(64*D.dpv.distance(re,Nr,_,!1))}function Ke(_,D){var P=(R=D.stack).pop(),R=R.pop(),ve=D.dpv.distance(ve=D.z0[R],D.z1[P],_,_);d.DEBUG&&console.log(D.step,"MD["+_+"]",P,R,"->",ve),D.stack.push(Math.round(64*ve))}function Ct(_,D){var P=D.stack,R=P.pop(),re=D.fv,ve=D.pv,De=D.ppem,ze=D.deltaBase+16*(_-1),it=D.deltaShift,rt=D.z0;d.DEBUG&&console.log(D.step,"DELTAP["+_+"]",R,P);for(var Et=0;Et<R;Et++){var Nt=P.pop(),Pt=P.pop();ze+((240&Pt)>>4)===De&&(0<=(Pt=(15&Pt)-8)&&Pt++,d.DEBUG&&console.log(D.step,"DELTAPFIX",Nt,"by",Pt*it),re.setRelative(Nt=rt[Nt],Nt,Pt*it,ve))}}function zt(_,D){var P=D.stack,R=P.pop();d.DEBUG&&console.log(D.step,"ROUND[]"),P.push(64*D.round(R/64))}function O(_,D){var P=D.stack,R=P.pop(),re=D.ppem,ve=D.deltaBase+16*(_-1),De=D.deltaShift;d.DEBUG&&console.log(D.step,"DELTAC["+_+"]",R,P);for(var ze=0;ze<R;ze++){var it=P.pop(),rt=P.pop();ve+((240&rt)>>4)===re&&(0<=(rt=(15&rt)-8)&&rt++,rt*=De,d.DEBUG&&console.log(D.step,"DELTACFIX",it,"by",rt),D.cvt[it]+=rt)}}function Ee(_,D){var P,R=(re=D.stack).pop(),re=re.pop(),ve=D.z2[R],De=D.z1[re];d.DEBUG&&console.log(D.step,"SDPVTL["+_+"]",R,re),R=_?(P=ve.y-De.y,De.x-ve.x):(P=De.x-ve.x,De.y-ve.y),D.dpv=Fr(P,R)}function L(_,D){var P=D.stack,R=D.prog,re=D.ip;d.DEBUG&&console.log(D.step,"PUSHB["+_+"]");for(var ve=0;ve<_;ve++)P.push(R[++re]);D.ip=re}function _e(_,D){var P=D.ip,R=D.prog,re=D.stack;d.DEBUG&&console.log(D.ip,"PUSHW["+_+"]");for(var ve=0;ve<_;ve++){var De=R[++P]<<8|R[++P];32768&De&&(De=-(1+(65535^De))),re.push(De)}D.ip=P}function Ne(_,D,P,R,re,ve){var De,ze,Et,rt=ve.stack,it=_&&rt.pop(),Nt=(rt=rt.pop(),ve.z1[rt]),Pt=ve.minDis,gt=ve.fv,ln=ve.dpv,Ht=De=ln.distance(Nt,Et=ve.z0[Et=ve.rp0],!0,!0),Yt=0<=Ht?1:-1;Ht=Math.abs(Ht),_&&(ze=ve.cvt[it],R&&Math.abs(Ht-ze)<ve.cvCutIn&&(Ht=ze)),P&&Ht<Pt&&(Ht=Pt),R&&(Ht=ve.round(Ht)),gt.setRelative(Nt,Et,Yt*Ht,ln),gt.touch(Nt),d.DEBUG&&console.log(ve.step,(_?"MIRP[":"MDRP[")+(D?"M":"m")+(P?">":"_")+(R?"R":"_")+(0===re?"Gr":1===re?"Bl":2===re?"Wh":"")+"]",_?it+"("+ve.cvt[it]+","+ze+")":"",rt,"(d =",De,"->",Yt*Ht,")"),ve.rp1=ve.rp0,ve.rp2=rt,D&&(ve.rp0=rt)}Rr.prototype.exec=function(_,D){if("number"!=typeof D)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var P=this.font,R=this._prepState;if(!R||R.ppem!==D){var re=this._fpgmState;if(!re){Hr.prototype=mi,(re=this._fpgmState=new Hr("fpgm",P.tables.fpgm)).funcs=[],re.font=P,d.DEBUG&&(console.log("---EXEC FPGM---"),re.step=-1);try{gn(re)}catch(rt){return console.log("Hinting error in FPGM:"+rt),void(this._errorState=3)}}Hr.prototype=re,(R=this._prepState=new Hr("prep",P.tables.prep)).ppem=D;var ve=P.tables.cvt;if(ve)for(var De=R.cvt=new Array(ve.length),ze=D/P.unitsPerEm,it=0;it<ve.length;it++)De[it]=ve[it]*ze;else R.cvt=[];d.DEBUG&&(console.log("---EXEC PREP---"),R.step=-1);try{gn(R)}catch(rt){this._errorState<2&&console.log("Hinting error in PREP:"+rt),this._errorState=2}}if(!(1<this._errorState))try{return Bt(_,R)}catch(rt){this._errorState<1&&(console.log("Hinting error:"+rt),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Bt=function(_,D){var P=D.ppem/D.font.unitsPerEm,R=P,re=_.components;if(Hr.prototype=D,re){for(var ve=D.font,De=[],ze=[],it=0;it<re.length;it++){var rt=re[it],Et=ve.glyphs.get(rt.glyphIndex),Nt=new Hr("glyf",Et.instructions);d.DEBUG&&(console.log("---EXEC COMP "+it+"---"),Nt.step=-1),yn(Et,Nt,P,R);for(var Pt=Math.round(rt.dx*P),gt=Math.round(rt.dy*R),ln=Nt.gZone,Ht=Nt.contours,Yt=0;Yt<ln.length;Yt++){var Ut=ln[Yt];Ut.xTouched=Ut.yTouched=!1,Ut.xo=Ut.x=Ut.x+Pt,Ut.yo=Ut.y=Ut.y+gt}var Gt=De.length;De.push.apply(De,ln);for(var An=0;An<Ht.length;An++)ze.push(Ht[An]+Gt)}_.instructions&&!Nt.inhibitGridFit&&((Nt=new Hr("glyf",_.instructions)).gZone=Nt.z0=Nt.z1=Nt.z2=De,Nt.contours=ze,De.push(new Or(0,0),new Or(Math.round(_.advanceWidth*P),0)),d.DEBUG&&(console.log("---EXEC COMPOSITE---"),Nt.step=-1),gn(Nt),De.length-=2)}else Nt=new Hr("glyf",_.instructions),d.DEBUG&&(console.log("---EXEC GLYPH---"),Nt.step=-1),yn(_,Nt,P,R),De=Nt.gZone;return De},yn=function(_,D,P,R){for(var re,ve,ze=_.points||[],it=ze.length,rt=D.gZone=D.z0=D.z1=D.z2=[],Et=D.contours=[],Nt=0;Nt<it;Nt++)rt[Nt]=new Or((re=ze[Nt]).x*P,re.y*R,re.lastPointOfContour,re.onCurve);for(var Pt=0;Pt<it;Pt++)re=rt[Pt],ve||(ve=re,Et.push(Pt)),re.lastPointOfContour?((re.nextPointOnContour=ve).prevPointOnContour=re,ve=void 0):(re.nextPointOnContour=rt[Pt+1]).prevPointOnContour=re;if(!D.inhibitGridFit){if(d.DEBUG){console.log("PROCESSING GLYPH",D.stack);for(var gt=0;gt<it;gt++)console.log(gt,rt[gt].x,rt[gt].y)}if(rt.push(new Or(0,0),new Or(Math.round(_.advanceWidth*P),0)),gn(D),rt.length-=2,d.DEBUG){console.log("FINISHED GLYPH",D.stack);for(var ln=0;ln<it;ln++)console.log(ln,rt[ln].x,rt[ln].y)}}},gn=function(_){var D=_.prog;if(D){var P,R=D.length;for(_.ip=0;_.ip<R;_.ip++){if(d.DEBUG&&_.step++,!(P=jn[D[_.ip]]))throw new Error("unknown instruction: 0x"+Number(D[_.ip]).toString(16));P(_)}}},jn=[zr.bind(void 0,Tr),zr.bind(void 0,Sr),gi.bind(void 0,Tr),gi.bind(void 0,Sr),yi.bind(void 0,Tr),yi.bind(void 0,Sr),Mr.bind(void 0,0),Mr.bind(void 0,1),Br.bind(void 0,0),Br.bind(void 0,1),function(_){var D=(P=_.stack).pop(),P=P.pop();d.DEBUG&&console.log(_.step,"SPVFS[]",D,P),_.pv=_.dpv=Fr(P,D)},function(_){var D=(P=_.stack).pop(),P=P.pop();d.DEBUG&&console.log(_.step,"SPVFS[]",D,P),_.fv=Fr(P,D)},function(_){var D=_.stack,P=_.pv;d.DEBUG&&console.log(_.step,"GPV[]"),D.push(16384*P.x),D.push(16384*P.y)},function(_){var D=_.stack,P=_.fv;d.DEBUG&&console.log(_.step,"GFV[]"),D.push(16384*P.x),D.push(16384*P.y)},function(_){_.fv=_.pv,d.DEBUG&&console.log(_.step,"SFVTPV[]")},function(D){var P=(De=D.stack).pop(),R=De.pop(),re=De.pop(),ve=De.pop(),De=De.pop(),ze=(it=D.z0)[P],it=it[R],rt=(Et=D.z1)[re],Et=Et[ve],Nt=(D=D.z2[De],d.DEBUG&&console.log("ISECT[], ",P,R,re,ve,De),P=ze.x,R=ze.y,ze=rt.y,P*(ve=it.y)-R*(re=it.x)),Pt=(De=rt.x)*(rt=Et.y)-ze*(it=Et.x);D.x=(Nt*(De-it)-Pt*(P-re))/(Et=(P-re)*(ze-rt)-(R-ve)*(De-it)),D.y=(Nt*(ze-rt)-Pt*(R-ve))/Et},function(_){_.rp0=_.stack.pop(),d.DEBUG&&console.log(_.step,"SRP0[]",_.rp0)},function(_){_.rp1=_.stack.pop(),d.DEBUG&&console.log(_.step,"SRP1[]",_.rp1)},function(_){_.rp2=_.stack.pop(),d.DEBUG&&console.log(_.step,"SRP2[]",_.rp2)},function(_){var D=_.stack.pop();switch(d.DEBUG&&console.log(_.step,"SZP0[]",D),_.zp0=D){case 0:_.tZone||ui(_),_.z0=_.tZone;break;case 1:_.z0=_.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_){var D=_.stack.pop();switch(d.DEBUG&&console.log(_.step,"SZP1[]",D),_.zp1=D){case 0:_.tZone||ui(_),_.z1=_.tZone;break;case 1:_.z1=_.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_){var D=_.stack.pop();switch(d.DEBUG&&console.log(_.step,"SZP2[]",D),_.zp2=D){case 0:_.tZone||ui(_),_.z2=_.tZone;break;case 1:_.z2=_.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_){var D=_.stack.pop();switch(d.DEBUG&&console.log(_.step,"SZPS[]",D),_.zp0=_.zp1=_.zp2=D){case 0:_.tZone||ui(_),_.z0=_.z1=_.z2=_.tZone;break;case 1:_.z0=_.z1=_.z2=_.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_){_.loop=_.stack.pop(),d.DEBUG&&console.log(_.step,"SLOOP[]",_.loop)},function(_){d.DEBUG&&console.log(_.step,"RTG[]"),_.round=oi},function(_){d.DEBUG&&console.log(_.step,"RTHG[]"),_.round=Jr},function(_){var D=_.stack.pop();d.DEBUG&&console.log(_.step,"SMD[]",D),_.minDis=D/64},function(_){d.DEBUG&&console.log(_.step,"ELSE[]"),Qr(_,!1)},function(_){var D=_.stack.pop();d.DEBUG&&console.log(_.step,"JMPR[]",D),_.ip+=D-1},function(_){var D=_.stack.pop();d.DEBUG&&console.log(_.step,"SCVTCI[]",D),_.cvCutIn=D/64},void 0,void 0,function(_){var D=_.stack;d.DEBUG&&console.log(_.step,"DUP[]"),D.push(D[D.length-1])},vi,function(_){d.DEBUG&&console.log(_.step,"CLEAR[]"),_.stack.length=0},function(_){var D=_.stack,P=D.pop(),R=D.pop();d.DEBUG&&console.log(_.step,"SWAP[]"),D.push(P),D.push(R)},function(_){var D=_.stack;d.DEBUG&&console.log(_.step,"DEPTH[]"),D.push(D.length)},function(_){var D=_.stack,P=D.pop();d.DEBUG&&console.log(_.step,"CINDEX[]",P),D.push(D[D.length-P])},function(_){var D=_.stack,P=D.pop();d.DEBUG&&console.log(_.step,"MINDEX[]",P),D.push(D.splice(D.length-P,1)[0])},void 0,void 0,void 0,function(_){var D=(R=_.stack).pop(),P=R.pop(),R=(d.DEBUG&&console.log(_.step,"LOOPCALL[]",D,P),_.ip),re=_.prog;_.prog=_.funcs[D];for(var ve=0;ve<P;ve++)gn(_),d.DEBUG&&console.log(++_.step,ve+1<P?"next loopcall":"done loopcall",ve);_.ip=R,_.prog=re},function(_){var D=_.stack.pop(),P=(d.DEBUG&&console.log(_.step,"CALL[]",D),_.ip),R=_.prog;_.prog=_.funcs[D],gn(_),_.ip=P,_.prog=R,d.DEBUG&&console.log(++_.step,"returning from",D)},function(_){if("fpgm"!==_.env)throw new Error("FDEF not allowed here");var D=_.prog,P=_.ip,R=(R=_.stack).pop(),re=P;for(d.DEBUG&&console.log(_.step,"FDEF[]",R);45!==D[++P];);_.ip=P,_.funcs[R]=D.slice(re+1,P)},void 0,Kr.bind(void 0,0),Kr.bind(void 0,1),_i.bind(void 0,Tr),_i.bind(void 0,Sr),Si.bind(void 0,0),Si.bind(void 0,1),ci.bind(void 0,0),ci.bind(void 0,1),Wr.bind(void 0,0),Wr.bind(void 0,1),function(_){for(var D=_.stack,P=_.loop,R=_.fv,re=D.pop()/64,ve=_.z2;P--;){var De=D.pop(),ze=ve[De];d.DEBUG&&console.log(_.step,(1<_.loop?"loop "+(_.loop-P)+": ":"")+"SHPIX[]",De,re),R.setRelative(ze,ze,re),R.touch(ze)}_.loop=1},function(_){for(var D=_.stack,P=_.rp1,R=_.rp2,re=_.loop,ve=_.z0[P],De=_.z1[R],ze=_.fv,it=_.dpv,rt=_.z2;re--;){var Et=D.pop(),Nt=rt[Et];d.DEBUG&&console.log(_.step,(1<_.loop?"loop "+(_.loop-re)+": ":"")+"IP[]",Et,P,"<->",R),ze.interpolate(Nt,ve,De,it),ze.touch(Nt)}_.loop=1},Se.bind(void 0,0),Se.bind(void 0,1),function(_){for(var D=_.stack,R=_.z0[_.rp0],re=_.loop,ve=_.fv,De=_.pv,ze=_.z1;re--;){var it=D.pop(),rt=ze[it];d.DEBUG&&console.log(_.step,(1<_.loop?"loop "+(_.loop-re)+": ":"")+"ALIGNRP[]",it),ve.setRelative(rt,R,0,De),ve.touch(rt)}_.loop=1},function(_){d.DEBUG&&console.log(_.step,"RTDG[]"),_.round=ri},Ye.bind(void 0,0),Ye.bind(void 0,1),function(_){var D=_.prog,P=_.ip,R=_.stack,re=D[++P];d.DEBUG&&console.log(_.step,"NPUSHB[]",re);for(var ve=0;ve<re;ve++)R.push(D[++P]);_.ip=P},function(_){var D=_.ip,P=_.prog,R=_.stack,re=P[++D];d.DEBUG&&console.log(_.step,"NPUSHW[]",re);for(var ve=0;ve<re;ve++){var De=P[++D]<<8|P[++D];32768&De&&(De=-(1+(65535^De))),R.push(De)}_.ip=D},function(_){var R=_.stack,D=(D=_.store)||(_.store=[]),P=R.pop();R=R.pop(),d.DEBUG&&console.log(_.step,"WS",P,R),D[R]=P},function(re){var D=re.stack,P=re.store,R=D.pop();d.DEBUG&&console.log(re.step,"RS",R),D.push(re=P&&P[R]||0)},function(_){var D=(P=_.stack).pop(),P=P.pop();d.DEBUG&&console.log(_.step,"WCVTP",D,P),_.cvt[P]=D/64},function(_){var D=_.stack,P=D.pop();d.DEBUG&&console.log(_.step,"RCVT",P),D.push(64*_.cvt[P])},Ce.bind(void 0,0),Ce.bind(void 0,1),void 0,Ke.bind(void 0,0),Ke.bind(void 0,1),function(_){d.DEBUG&&console.log(_.step,"MPPEM[]"),_.stack.push(_.ppem)},void 0,function(_){d.DEBUG&&console.log(_.step,"FLIPON[]"),_.autoFlip=!0},void 0,void 0,function(_){var D=_.stack,P=D.pop(),R=D.pop();d.DEBUG&&console.log(_.step,"LT[]",P,R),D.push(R<P?1:0)},function(_){var D=_.stack,P=D.pop(),R=D.pop();d.DEBUG&&console.log(_.step,"LTEQ[]",P,R),D.push(R<=P?1:0)},function(_){var D=_.stack,P=D.pop(),R=D.pop();d.DEBUG&&console.log(_.step,"GT[]",P,R),D.push(P<R?1:0)},function(_){var D=_.stack,P=D.pop(),R=D.pop();d.DEBUG&&console.log(_.step,"GTEQ[]",P,R),D.push(P<=R?1:0)},function(_){var D=_.stack,P=D.pop(),R=D.pop();d.DEBUG&&console.log(_.step,"EQ[]",P,R),D.push(P===R?1:0)},function(_){var D=_.stack,P=D.pop(),R=D.pop();d.DEBUG&&console.log(_.step,"NEQ[]",P,R),D.push(P!==R?1:0)},function(_){var D=_.stack,P=D.pop();d.DEBUG&&console.log(_.step,"ODD[]",P),D.push(Math.trunc(P)%2?1:0)},function(_){var D=_.stack,P=D.pop();d.DEBUG&&console.log(_.step,"EVEN[]",P),D.push(Math.trunc(P)%2?0:1)},function(_){var D=_.stack.pop();d.DEBUG&&console.log(_.step,"IF[]",D),D||(Qr(_,!0),d.DEBUG&&console.log(_.step,"EIF[]"))},function(_){d.DEBUG&&console.log(_.step,"EIF[]")},function(_){var D=_.stack,P=D.pop(),R=D.pop();d.DEBUG&&console.log(_.step,"AND[]",P,R),D.push(P&&R?1:0)},function(_){var D=_.stack,P=D.pop(),R=D.pop();d.DEBUG&&console.log(_.step,"OR[]",P,R),D.push(P||R?1:0)},function(_){var D=_.stack,P=D.pop();d.DEBUG&&console.log(_.step,"NOT[]",P),D.push(P?0:1)},Ct.bind(void 0,1),function(_){var D=_.stack.pop();d.DEBUG&&console.log(_.step,"SDB[]",D),_.deltaBase=D},function(_){var D=_.stack.pop();d.DEBUG&&console.log(_.step,"SDS[]",D),_.deltaShift=Math.pow(.5,D)},function(_){var D=_.stack,P=D.pop(),R=D.pop();d.DEBUG&&console.log(_.step,"ADD[]",P,R),D.push(R+P)},function(_){var D=_.stack,P=D.pop(),R=D.pop();d.DEBUG&&console.log(_.step,"SUB[]",P,R),D.push(R-P)},function(_){var D=_.stack,P=D.pop(),R=D.pop();d.DEBUG&&console.log(_.step,"DIV[]",P,R),D.push(64*R/P)},function(_){var D=_.stack,P=D.pop(),R=D.pop();d.DEBUG&&console.log(_.step,"MUL[]",P,R),D.push(R*P/64)},function(_){var D=_.stack,P=D.pop();d.DEBUG&&console.log(_.step,"ABS[]",P),D.push(Math.abs(P))},function(_){var D=_.stack,P=D.pop();d.DEBUG&&console.log(_.step,"NEG[]",P),D.push(-P)},function(_){var D=_.stack,P=D.pop();d.DEBUG&&console.log(_.step,"FLOOR[]",P),D.push(64*Math.floor(P/64))},function(_){var D=_.stack,P=D.pop();d.DEBUG&&console.log(_.step,"CEILING[]",P),D.push(64*Math.ceil(P/64))},zt.bind(void 0,0),zt.bind(void 0,1),zt.bind(void 0,2),zt.bind(void 0,3),void 0,void 0,void 0,void 0,function(_){var D=(P=_.stack).pop(),P=P.pop();d.DEBUG&&console.log(_.step,"WCVTF[]",D,P),_.cvt[P]=D*_.ppem/_.font.unitsPerEm},Ct.bind(void 0,2),Ct.bind(void 0,3),O.bind(void 0,1),O.bind(void 0,2),O.bind(void 0,3),function(_){var D,P=_.stack.pop();switch(d.DEBUG&&console.log(_.step,"SROUND[]",P),_.round=Xr,192&P){case 0:D=.5;break;case 64:D=1;break;case 128:D=2;break;default:throw new Error("invalid SROUND value")}switch(_.srPeriod=D,48&P){case 0:_.srPhase=0;break;case 16:_.srPhase=.25*D;break;case 32:_.srPhase=.5*D;break;case 48:_.srPhase=.75*D;break;default:throw new Error("invalid SROUND value")}_.srThreshold=0==(P&=15)?0:(P/8-.5)*D},function(_){var D,P=_.stack.pop();switch(d.DEBUG&&console.log(_.step,"S45ROUND[]",P),_.round=Xr,192&P){case 0:D=Math.sqrt(2)/2;break;case 64:D=Math.sqrt(2);break;case 128:D=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(_.srPeriod=D,48&P){case 0:_.srPhase=0;break;case 16:_.srPhase=.25*D;break;case 32:_.srPhase=.5*D;break;case 48:_.srPhase=.75*D;break;default:throw new Error("invalid S45ROUND value")}_.srThreshold=0==(P&=15)?0:(P/8-.5)*D},void 0,void 0,function(_){d.DEBUG&&console.log(_.step,"ROFF[]"),_.round=Di},void 0,function(_){d.DEBUG&&console.log(_.step,"RUTG[]"),_.round=ai},function(_){d.DEBUG&&console.log(_.step,"RDTG[]"),_.round=li},vi,vi,void 0,void 0,void 0,void 0,void 0,function(_){var D=_.stack.pop();d.DEBUG&&console.log(_.step,"SCANCTRL[]",D)},Ee.bind(void 0,0),Ee.bind(void 0,1),function(_){var D=_.stack,P=D.pop(),R=0;d.DEBUG&&console.log(_.step,"GETINFO[]",P),1&P&&(R=35),32&P&&(R|=4096),D.push(R)},void 0,function(_){var D=_.stack,P=D.pop(),R=D.pop(),re=D.pop();d.DEBUG&&console.log(_.step,"ROLL[]"),D.push(R),D.push(P),D.push(re)},function(_){var D=_.stack,P=D.pop(),R=D.pop();d.DEBUG&&console.log(_.step,"MAX[]",P,R),D.push(Math.max(R,P))},function(_){var D=_.stack,P=D.pop(),R=D.pop();d.DEBUG&&console.log(_.step,"MIN[]",P,R),D.push(Math.min(R,P))},function(_){var D=_.stack.pop();d.DEBUG&&console.log(_.step,"SCANTYPE[]",D)},function(_){var D=_.stack.pop(),P=_.stack.pop();switch(d.DEBUG&&console.log(_.step,"INSTCTRL[]",D,P),D){case 1:return void(_.inhibitGridFit=!!P);case 2:return void(_.ignoreCvt=!!P);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,L.bind(void 0,1),L.bind(void 0,2),L.bind(void 0,3),L.bind(void 0,4),L.bind(void 0,5),L.bind(void 0,6),L.bind(void 0,7),L.bind(void 0,8),_e.bind(void 0,1),_e.bind(void 0,2),_e.bind(void 0,3),_e.bind(void 0,4),_e.bind(void 0,5),_e.bind(void 0,6),_e.bind(void 0,7),_e.bind(void 0,8),Ne.bind(void 0,0,0,0,0,0),Ne.bind(void 0,0,0,0,0,1),Ne.bind(void 0,0,0,0,0,2),Ne.bind(void 0,0,0,0,0,3),Ne.bind(void 0,0,0,0,1,0),Ne.bind(void 0,0,0,0,1,1),Ne.bind(void 0,0,0,0,1,2),Ne.bind(void 0,0,0,0,1,3),Ne.bind(void 0,0,0,1,0,0),Ne.bind(void 0,0,0,1,0,1),Ne.bind(void 0,0,0,1,0,2),Ne.bind(void 0,0,0,1,0,3),Ne.bind(void 0,0,0,1,1,0),Ne.bind(void 0,0,0,1,1,1),Ne.bind(void 0,0,0,1,1,2),Ne.bind(void 0,0,0,1,1,3),Ne.bind(void 0,0,1,0,0,0),Ne.bind(void 0,0,1,0,0,1),Ne.bind(void 0,0,1,0,0,2),Ne.bind(void 0,0,1,0,0,3),Ne.bind(void 0,0,1,0,1,0),Ne.bind(void 0,0,1,0,1,1),Ne.bind(void 0,0,1,0,1,2),Ne.bind(void 0,0,1,0,1,3),Ne.bind(void 0,0,1,1,0,0),Ne.bind(void 0,0,1,1,0,1),Ne.bind(void 0,0,1,1,0,2),Ne.bind(void 0,0,1,1,0,3),Ne.bind(void 0,0,1,1,1,0),Ne.bind(void 0,0,1,1,1,1),Ne.bind(void 0,0,1,1,1,2),Ne.bind(void 0,0,1,1,1,3),Ne.bind(void 0,1,0,0,0,0),Ne.bind(void 0,1,0,0,0,1),Ne.bind(void 0,1,0,0,0,2),Ne.bind(void 0,1,0,0,0,3),Ne.bind(void 0,1,0,0,1,0),Ne.bind(void 0,1,0,0,1,1),Ne.bind(void 0,1,0,0,1,2),Ne.bind(void 0,1,0,0,1,3),Ne.bind(void 0,1,0,1,0,0),Ne.bind(void 0,1,0,1,0,1),Ne.bind(void 0,1,0,1,0,2),Ne.bind(void 0,1,0,1,0,3),Ne.bind(void 0,1,0,1,1,0),Ne.bind(void 0,1,0,1,1,1),Ne.bind(void 0,1,0,1,1,2),Ne.bind(void 0,1,0,1,1,3),Ne.bind(void 0,1,1,0,0,0),Ne.bind(void 0,1,1,0,0,1),Ne.bind(void 0,1,1,0,0,2),Ne.bind(void 0,1,1,0,0,3),Ne.bind(void 0,1,1,0,1,0),Ne.bind(void 0,1,1,0,1,1),Ne.bind(void 0,1,1,0,1,2),Ne.bind(void 0,1,1,0,1,3),Ne.bind(void 0,1,1,1,0,0),Ne.bind(void 0,1,1,1,0,1),Ne.bind(void 0,1,1,1,0,2),Ne.bind(void 0,1,1,1,0,3),Ne.bind(void 0,1,1,1,1,0),Ne.bind(void 0,1,1,1,1,1),Ne.bind(void 0,1,1,1,1,2),Ne.bind(void 0,1,1,1,1,3)],Jn=Array.from||function(_){return _.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function kn(_){(_=_||{}).empty||(gr(_.familyName,"When creating a new Font object, familyName is required."),gr(_.styleName,"When creating a new Font object, styleName is required."),gr(_.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),gr(_.ascender,"When creating a new Font object, ascender is required."),gr(_.descender,"When creating a new Font object, descender is required."),gr(_.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:_.familyName||" "},fontSubfamily:{en:_.styleName||" "},fullName:{en:_.fullName||_.familyName+" "+_.styleName},postScriptName:{en:_.postScriptName||(_.familyName+_.styleName).replace(/\s/g,"")},designer:{en:_.designer||" "},designerURL:{en:_.designerURL||" "},manufacturer:{en:_.manufacturer||" "},manufacturerURL:{en:_.manufacturerURL||" "},license:{en:_.license||" "},licenseURL:{en:_.licenseURL||" "},version:{en:_.version||"Version 0.1"},description:{en:_.description||" "},copyright:{en:_.copyright||" "},trademark:{en:_.trademark||" "}},this.unitsPerEm=_.unitsPerEm||1e3,this.ascender=_.ascender,this.descender=_.descender,this.createdTimestamp=_.createdTimestamp,this.tables={os2:{usWeightClass:_.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:_.widthClass||this.usWidthClasses.MEDIUM,fsSelection:_.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new le.GlyphSet(this,_.glyphs||[]),this.encoding=new xt(this),this.position=new lr(this),this.substitution=new ur(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||("truetype"===this.outlinesFormat?this._hinting=new Rr(this):void 0)}})}kn.prototype.hasChar=function(_){return null!==this.encoding.charToGlyphIndex(_)},kn.prototype.charToGlyphIndex=function(_){return this.encoding.charToGlyphIndex(_)},kn.prototype.charToGlyph=function(_){return _=this.charToGlyphIndex(_),this.glyphs.get(_)||this.glyphs.get(0)},kn.prototype.stringToGlyphs=function(_,D){D=D||this.defaultRenderOptions;for(var P=Jn(_),R=[],re=0;re<P.length;re+=1)R.push(this.charToGlyphIndex(P[re]));var De=R.length;if(D.features){_=D.script||this.substitution.getDefaultScriptName();var ze=[];D.features.liga&&(ze=ze.concat(this.substitution.getFeature("liga",_,D.language))),D.features.rlig&&(ze=ze.concat(this.substitution.getFeature("rlig",_,D.language)));for(var it=0;it<De;it+=1)for(var rt=0;rt<ze.length;rt++){for(var Et=ze[rt],Nt=Et.sub,Pt=Nt.length,gt=0;gt<Pt&&Nt[gt]===R[it+gt];)gt++;gt===Pt&&(R.splice(it,Pt,Et.by),De=De-Pt+1)}}for(var ln=new Array(De),Ht=this.glyphs.get(0),Yt=0;Yt<De;Yt+=1)ln[Yt]=this.glyphs.get(R[Yt])||Ht;return ln},kn.prototype.nameToGlyphIndex=function(_){return this.glyphNames.nameToGlyphIndex(_)},kn.prototype.nameToGlyph=function(_){return _=this.nameToGlyphIndex(_),this.glyphs.get(_)||this.glyphs.get(0)},kn.prototype.glyphIndexToName=function(_){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(_):""},kn.prototype.getKerningValue=function(_,D){_=_.index||_,D=D.index||D;var P=this.position.defaultKerningTables;return P?this.position.getKerningValue(P,_,D):this.kerningPairs[_+","+D]||0},kn.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},kn.prototype.forEachGlyph=function(_,D,P,R,re,ve){D=void 0!==D?D:0,P=void 0!==P?P:0;var De,ze=1/this.unitsPerEm*(R=void 0!==R?R:72),it=this.stringToGlyphs(_,re=re||this.defaultRenderOptions);re.kerning&&(_=re.script||this.position.getDefaultScriptName(),De=this.position.getKerningTables(_,re.language));for(var rt=0;rt<it.length;rt+=1){var Et=it[rt];ve.call(this,Et,D,P,R,re),Et.advanceWidth&&(D+=Et.advanceWidth*ze),re.kerning&&rt<it.length-1&&(D+=(De?this.position.getKerningValue(De,Et.index,it[rt+1].index):this.getKerningValue(Et,it[rt+1]))*ze),re.letterSpacing?D+=re.letterSpacing*R:re.tracking&&(D+=re.tracking/1e3*R)}return D},kn.prototype.getPath=function(_,D,P,R,re){var ve=new he;return this.forEachGlyph(_,D,P,R,re,function(De,ze,it,rt){De=De.getPath(ze,it,rt,re,this),ve.extend(De)}),ve},kn.prototype.getPaths=function(_,D,P,R,re){var ve=[];return this.forEachGlyph(_,D,P,R,re,function(De,ze,it,rt){De=De.getPath(ze,it,rt,re,this),ve.push(De)}),ve},kn.prototype.getAdvanceWidth=function(_,D,P){return this.forEachGlyph(_,0,0,D,P,function(){})},kn.prototype.draw=function(_,D,P,R,re,ve){this.getPath(D,P,R,re,ve).draw(_)},kn.prototype.drawPoints=function(_,D,P,R,re,ve){this.forEachGlyph(D,P,R,re,ve,function(De,ze,it,rt){De.drawPoints(_,ze,it,rt)})},kn.prototype.drawMetrics=function(_,D,P,R,re,ve){this.forEachGlyph(D,P,R,re,ve,function(De,ze,it,rt){De.drawMetrics(_,ze,it,rt)})},kn.prototype.getEnglishName=function(_){if(_=this.names[_])return _.en},kn.prototype.validate=function(){var _=this;function D(P){(P=_.getEnglishName(P))&&P.trim()}D("fontFamily"),D("weightName"),D("manufacturer"),D("copyright"),D("version")},kn.prototype.toTables=function(){return _n_fontToTable(this)},kn.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},kn.prototype.toArrayBuffer=function(){for(var _=this.toTables().encode(),D=new ArrayBuffer(_.length),P=new Uint8Array(D),R=0;R<_.length;R++)P[R]=_[R];return D},kn.prototype.download=function(_){var D=this.getEnglishName("fontFamily"),P=this.getEnglishName("fontSubfamily"),R=(_=_||D.replace(/\s/g,"")+"-"+P+".otf",this.toArrayBuffer());"undefined"!=typeof window?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,R.byteLength,function(re){re.root.getFile(_,{create:!0},function(ve){ve.createWriter(function(De){var ze=new DataView(R);ze=new Blob([ze],{type:"font/opentype"}),De.write(ze),De.addEventListener("writeend",function(){location.href=ve.toURL()},!1)})})},function(re){throw new Error(re.name+": "+re.message)})):(D=e("fs"),P=function(re){for(var ve=new f(re.byteLength),De=new Uint8Array(re),ze=0;ze<ve.length;++ze)ve[ze]=De[ze];return ve}(R),D.writeFileSync(_,P))},kn.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},kn.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},kn.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var vr_parse=function(_,D,P){for(var R,ve,De,ze=new lt.Parser(_,D),it=ze.parseULong(),rt=(q.argument(65536===it,"Unsupported fvar table version."),ze.parseOffset16()),Et=(ze.skip("uShort",1),ze.parseUShort()),Nt=ze.parseUShort(),Pt=ze.parseUShort(),gt=ze.parseUShort(),ln=[],Ht=0;Ht<Et;Ht++)ln.push((ve=P,De={},R=new lt.Parser(R=_,D+rt+Ht*Nt),De.tag=R.parseTag(),De.minValue=R.parseFixed(),De.defaultValue=R.parseFixed(),De.maxValue=R.parseFixed(),R.skip("uShort",1),De.name=ve[R.parseUShort()]||{},De));for(var Yt=[],Ut=D+rt+Et*Nt,Gt=0;Gt<Pt;Gt++)Yt.push(function(An,Bn,Sn,In){var Wn={},dr=new lt.Parser(An,Bn);Wn.name=In[dr.parseUShort()]||{},dr.skip("uShort",1),Wn.coordinates={};for(var xr=0;xr<Sn.length;++xr)Wn.coordinates[Sn[xr].tag]=dr.parseFixed();return Wn}(_,Ut+Gt*gt,ln,P));return{axes:ln,instances:Yt}},Pe=new Array(10);Pe[1]=function(){var _=this.offset+this.relativeOffset,D=this.parseUShort();return 1===D?{posFormat:1,coverage:this.parsePointer(We.coverage),value:this.parseValueRecord()}:2===D?{posFormat:2,coverage:this.parsePointer(We.coverage),values:this.parseValueRecordList()}:void q.assert(!1,"0x"+_.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Pe[2]=function(){var _,D,P,R,ve=this.offset+this.relativeOffset,re=this.parseUShort(),De=(q.assert(1===re||2===re,"0x"+ve.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),ve=this.parsePointer(We.coverage),this.parseUShort()),ze=this.parseUShort();return 1===re?{posFormat:re,coverage:ve,valueFormat1:De,valueFormat2:ze,pairSets:this.parseList(We.pointer(We.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(De),value2:this.parseValueRecord(ze)}})))}:2===re?(_=this.parsePointer(We.classDef),D=this.parsePointer(We.classDef),P=this.parseUShort(),R=this.parseUShort(),{posFormat:re,coverage:ve,valueFormat1:De,valueFormat2:ze,classDef1:_,classDef2:D,class1Count:P,class2Count:R,classRecords:this.parseList(P,We.list(R,function(){return{value1:this.parseValueRecord(De),value2:this.parseValueRecord(ze)}}))}):void 0},Pe[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Pe[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Pe[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Pe[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Pe[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Pe[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Pe[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var ge_parse=function(_,D){return D=(_=new We(_,D=D||0)).parseVersion(1),q.argument(1===D||1.1===D,"Unsupported GPOS table version "+D),1===D?{version:D,scripts:_.parseScriptList(),features:_.parseFeatureList(),lookups:_.parseLookupList(Pe)}:{version:D,scripts:_.parseScriptList(),features:_.parseFeatureList(),lookups:_.parseLookupList(Pe),variations:_.parseFeatureVariationsList()}},Ze_parse=function(_,D){if(0===(D=(_=new lt.Parser(_,D)).parseUShort())){var P=_,R={},Nt=(P.skip("uShort"),P.parseUShort()),re=(q.argument(0===Nt,"Unsupported kern sub-table version."),P.skip("uShort",2),P.parseUShort());P.skip("uShort",3);for(var ve=0;ve<re;ve+=1){var De=P.parseUShort(),ze=P.parseUShort(),it=P.parseShort();R[De+","+ze]=it}return R}if(1!==D)throw new Error("Unsupported kern table version ("+D+").");var rt=_,Et={};if(rt.skip("uShort"),1<rt.parseULong()&&console.warn("Only the first kern subtable is supported."),rt.skip("uLong"),Nt=255&rt.parseUShort(),rt.skip("uShort"),0==Nt){var Pt=rt.parseUShort();rt.skip("uShort",3);for(var gt=0;gt<Pt;gt+=1){var ln=rt.parseUShort(),Ht=rt.parseUShort(),Yt=rt.parseShort();Et[ln+","+Ht]=Yt}}return Et},en_parse=function(_,D,P,R){for(var re=new lt.Parser(_,D),ve=R?re.parseUShort:re.parseULong,De=[],ze=0;ze<P+1;ze+=1){var it=ve.call(re);R&&(it*=2),De.push(it)}return De};function Pn(_,D){e("fs").readFile(_,function(P,R){if(P)return D(P.message);D(null,di(R))})}function _r(_,D){var P=new XMLHttpRequest;P.open("get",_,!0),P.responseType="arraybuffer",P.onload=function(){return P.response?D(null,P.response):D("Font could not be loaded: "+P.statusText)},P.onerror=function(){D("Font could not be loaded")},P.send()}function Pr(_,D){for(var P=[],R=12,re=0;re<D;re+=1){var ve=lt.getTag(_,R),De=lt.getULong(_,R+4),ze=lt.getULong(_,R+8),it=lt.getULong(_,R+12);P.push({tag:ve,checksum:De,offset:ze,length:it,compression:!1}),R+=16}return P}function cr(P,D){if("WOFF"!==D.compression)return{data:P,offset:D.offset};P=new Uint8Array(P.buffer,D.offset+2,D.compressedLength-2);var R=new Uint8Array(D.length);if(function(_,D){var P,R,re,ve=new c(_,D);do{switch((R=ve).bitcount--||(R.tag=R.source[R.sourceIndex++],R.bitcount=7),re=1&R.tag,R.tag>>>=1,R=re,ee(ve,2,0)){case 0:P=function(Gt){for(var An,Bn;8<Gt.bitcount;)Gt.sourceIndex--,Gt.bitcount-=8;if((An=256*Gt.source[Gt.sourceIndex+1]+Gt.source[Gt.sourceIndex])!==(65535&~(256*Gt.source[Gt.sourceIndex+3]+Gt.source[Gt.sourceIndex+2])))return-3;for(Gt.sourceIndex+=4,Bn=An;Bn;--Bn)Gt.dest[Gt.destLen++]=Gt.source[Gt.sourceIndex++];return Gt.bitcount=0,0}(ve);break;case 1:P=H(ve,h,y);break;case 2:Yt=Ht=ln=Ut=De=gt=void 0;for(var De,ze=ve,it=ve.ltree,rt=ve.dtree,Et=ee(ze,5,257),Nt=ee(ze,5,1),Pt=ee(ze,4,4),gt=0;gt<19;++gt)F[gt]=0;for(gt=0;gt<Pt;++gt){var ln=ee(ze,3,0);F[N[gt]]=ln}for(G(M,F,0,19),De=0;De<Et+Nt;){var Ht=$(ze,M);switch(Ht){case 16:for(var Yt=F[De-1],Ut=ee(ze,2,3);Ut;--Ut)F[De++]=Yt;break;case 17:for(Ut=ee(ze,3,3);Ut;--Ut)F[De++]=0;break;case 18:for(Ut=ee(ze,7,11);Ut;--Ut)F[De++]=0;break;default:F[De++]=Ht}}G(it,F,0,Et),G(rt,F,Et,Nt),P=H(ve,ve.ltree,ve.dtree);break;default:P=-3}if(0!==P)throw new Error("Data error")}while(!R);ve.destLen<ve.dest.length&&("function"==typeof ve.dest.slice?ve.dest.slice(0,ve.destLen):ve.dest.subarray(0,ve.destLen))}(P,R),R.byteLength!==D.length)throw new Error("Decompression error: "+D.tag+" decompressed length doesn't match recorded length");return{data:new DataView(R.buffer,0),offset:0}}function dn(Gt){var D,P,R,re,ve,De,ze,it,rt,Et,Nt,Pt,gt,ln,Ht=new kn({empty:!0}),Yt=new DataView(Gt,0),Ut=[];if((Gt=lt.getTag(Yt,0))===String.fromCharCode(0,1,0,0)||"true"===Gt||"typ1"===Gt)Ht.outlinesFormat="truetype",Ut=Pr(Yt,R=lt.getUShort(Yt,4));else if("OTTO"===Gt)Ht.outlinesFormat="cff",Ut=Pr(Yt,R=lt.getUShort(Yt,4));else{if("wOFF"!==Gt)throw new Error("Unsupported OpenType signature "+Gt);if((An=lt.getTag(Yt,4))===String.fromCharCode(0,1,0,0))Ht.outlinesFormat="truetype";else{if("OTTO"!==An)throw new Error("Unsupported OpenType flavor "+Gt);Ht.outlinesFormat="cff"}Ut=function(pr,rr){for(var Lr=[],br=44,ir=0;ir<rr;ir+=1){var er=lt.getTag(pr,br),qn=lt.getULong(pr,br+4),Ui=lt.getULong(pr,br+8),Pi=lt.getULong(pr,br+12);Lr.push({tag:er,offset:qn,compression:Ui<Pi&&"WOFF",compressedLength:Ui,length:Pi}),br+=20}return Lr}(Yt,R=lt.getUShort(Yt,12))}for(var Bn=0;Bn<R;Bn+=1){var Sn=Ut[Bn],In=void 0;switch(Sn.tag){case"cmap":In=cr(Yt,Sn),Ht.tables.cmap=ke_parse(In.data,In.offset),Ht.encoding=new Lt(Ht.tables.cmap);break;case"cvt ":In=cr(Yt,Sn),ln=new lt.Parser(In.data,In.offset),Ht.tables.cvt=ln.parseShortList(Sn.length/2);break;case"fvar":ve=Sn;break;case"fpgm":In=cr(Yt,Sn),ln=new lt.Parser(In.data,In.offset),Ht.tables.fpgm=ln.parseByteList(Sn.length);break;case"head":In=cr(Yt,Sn),Ht.tables.head=Xn_parse(In.data,In.offset),Ht.unitsPerEm=Ht.tables.head.unitsPerEm,D=Ht.tables.head.indexToLocFormat;break;case"hhea":In=cr(Yt,Sn),Ht.tables.hhea=pt_parse(In.data,In.offset),Ht.ascender=Ht.tables.hhea.ascender,Ht.descender=Ht.tables.hhea.descender,Ht.numberOfHMetrics=Ht.tables.hhea.numberOfHMetrics;break;case"hmtx":rt=Sn;break;case"ltag":In=cr(Yt,Sn),P=mn_parse(In.data,In.offset);break;case"maxp":In=cr(Yt,Sn),Ht.tables.maxp=qt_parse(In.data,In.offset),Ht.numGlyphs=Ht.tables.maxp.numGlyphs;break;case"name":Pt=Sn;break;case"OS/2":In=cr(Yt,Sn),Ht.tables.os2=Qn_parse(In.data,In.offset);break;case"post":In=cr(Yt,Sn),Ht.tables.post=wr_parse(In.data,In.offset),Ht.glyphNames=new cn(Ht.tables.post);break;case"prep":In=cr(Yt,Sn),ln=new lt.Parser(In.data,In.offset),Ht.tables.prep=ln.parseByteList(Sn.length);break;case"glyf":De=Sn;break;case"loca":Nt=Sn;break;case"CFF ":re=Sn;break;case"kern":Et=Sn;break;case"GPOS":ze=Sn;break;case"GSUB":it=Sn;break;case"meta":gt=Sn}}if(An=cr(Yt,Pt),Ht.tables.name=Kn_parse(An.data,An.offset,P),Ht.names=Ht.tables.name,De&&Nt)Gt=0===D,An=cr(Yt,Nt),An=en_parse(An.data,An.offset,Ht.numGlyphs,Gt),Gt=cr(Yt,De),Ht.glyphs=qr.parse(Gt.data,Gt.offset,An,Ht);else{if(!re)throw new Error("Font doesn't contain TrueType or CFF outlines.");Gt=cr(Yt,re),fr_parse(Gt.data,Gt.offset,Ht)}for(var An=cr(Yt,rt),Wn=(Jt_parse(An.data,An.offset,Ht.numberOfHMetrics,Ht.numGlyphs,Ht.glyphs),Ht),dr=Wn.tables.cmap.glyphIndexMap,xr=Object.keys(dr),Cr=0;Cr<xr.length;Cr+=1){var Ar,jr=xr[Cr];(Ar=Wn.glyphs.get(dr[jr])).addUnicode(parseInt(jr))}for(var ar=0;ar<Wn.glyphs.length;ar+=1)Ar=Wn.glyphs.get(ar),Wn.cffEncoding?Ar.name=Wn.isCIDFont?"gid"+ar:Wn.cffEncoding.charset[ar]:Wn.glyphNames.names&&(Ar.name=Wn.glyphNames.glyphIndexToName(ar));return Et?(Gt=cr(Yt,Et),Ht.kerningPairs=Ze_parse(Gt.data,Gt.offset)):Ht.kerningPairs={},ze&&(An=cr(Yt,ze),Ht.tables.gpos=ge_parse(An.data,An.offset),Ht.position.init()),it&&(Gt=cr(Yt,it),Ht.tables.gsub=Rt_parse(Gt.data,Gt.offset)),ve&&(An=cr(Yt,ve),Ht.tables.fvar=vr_parse(An.data,An.offset,Ht.names)),gt&&(Gt=cr(Yt,gt),Ht.tables.meta=nt_parse(Gt.data,Gt.offset),Ht.metas=Ht.tables.meta),Ht}d.Font=kn,d.Glyph=Wt,d.Path=he,d.BoundingBox=ce,d._parse=lt,d.parse=dn,d.load=function(_,D){("undefined"==typeof window?Pn:_r)(_,function(P,R){if(P)return D(P);var re;try{re=dn(R)}catch(ve){return D(ve,null)}return D(null,re)})},d.loadSync=function(_){return dn(di(e("fs").readFileSync(_)))},Object.defineProperty(d,"__esModule",{value:!0})},a("object"==typeof E&&void 0!==U?E:this.opentype={})}).call(this,e("buffer").Buffer)},{buffer:4,fs:2}],242:[function(e,U,E){(function(f){function o(u,p){for(var s=0,r=u.length-1;0<=r;r--){var i=u[r];"."===i?u.splice(r,1):".."===i?(u.splice(r,1),s++):s&&(u.splice(r,1),s--)}if(p)for(;s--;)u.unshift("..");return u}function a(u,p){if(u.filter)return u.filter(p);for(var s=[],r=0;r<u.length;r++)p(u[r],r,u)&&s.push(u[r]);return s}E.resolve=function(){for(var u="",p=!1,s=arguments.length-1;-1<=s&&!p;s--){var r=0<=s?arguments[s]:f.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(u=r+"/"+u,p="/"===r.charAt(0))}return(p?"/":"")+(u=o(a(u.split("/"),function(i){return!!i}),!p).join("/"))||"."},E.normalize=function(u){var p=E.isAbsolute(u),s="/"===d(u,-1);return(u=(u=o(a(u.split("/"),function(r){return!!r}),!p).join("/"))||p?u:".")&&s&&(u+="/"),(p?"/":"")+u},E.isAbsolute=function(u){return"/"===u.charAt(0)},E.join=function(){var u=Array.prototype.slice.call(arguments,0);return E.normalize(a(u,function(p,s){if("string"!=typeof p)throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},E.relative=function(u,p){function s(x){for(var w=0;w<x.length&&""===x[w];w++);for(var C=x.length-1;0<=C&&""===x[C];C--);return C<w?[]:x.slice(w,C-w+1)}u=E.resolve(u).substr(1),p=E.resolve(p).substr(1);for(var r=s(u.split("/")),i=s(p.split("/")),c=Math.min(r.length,i.length),h=c,y=0;y<c;y++)if(r[y]!==i[y]){h=y;break}var v=[];for(y=h;y<r.length;y++)v.push("..");return(v=v.concat(i.slice(h))).join("/")},E.sep="/",E.delimiter=":",E.dirname=function(u){if("string"!=typeof u&&(u+=""),0===u.length)return".";for(var p=47===u.charCodeAt(0),s=-1,r=!0,i=u.length-1;1<=i;--i)if(47===u.charCodeAt(i)){if(!r){s=i;break}}else r=!1;return-1===s?p?"/":".":p&&1===s?"/":u.slice(0,s)},E.basename=function(u,p){return u=function(s){"string"!=typeof s&&(s+="");for(var r=0,i=-1,c=!0,h=s.length-1;0<=h;--h)if(47===s.charCodeAt(h)){if(!c){r=h+1;break}}else-1===i&&(c=!1,i=h+1);return-1===i?"":s.slice(r,i)}(u),p&&u.substr(-1*p.length)===p?u.substr(0,u.length-p.length):u},E.extname=function(u){"string"!=typeof u&&(u+="");for(var p=-1,s=0,r=-1,i=!0,c=0,h=u.length-1;0<=h;--h){var y=u.charCodeAt(h);if(47===y){if(i)continue;s=h+1;break}-1===r&&(i=!1,r=h+1),46===y?-1===p?p=h:1!==c&&(c=1):-1!==p&&(c=-1)}return-1===p||-1===r||0===c||1===c&&p===r-1&&p===s+1?"":u.slice(p,r)};var d=function(u,p,s){return u.substr(p,s)}}).call(this,e("_process"))},{_process:243}],243:[function(e,a,E){var f,o;function d(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}a=a.exports={};try{f="function"==typeof setTimeout?setTimeout:d}catch(w){f=d}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(w){o=u}function p(w){if(f===setTimeout)return setTimeout(w,0);if((f===d||!f)&&setTimeout)return(f=setTimeout)(w,0);try{return f(w,0)}catch(C){try{return f.call(null,w,0)}catch(N){return f.call(this,w,0)}}}var s,r=[],i=!1,c=-1;function h(){i&&s&&(i=!1,s.length?r=s.concat(r):c=-1,r.length&&y())}function y(){if(!i){for(var w=p(h),C=(i=!0,r.length);C;){for(s=r,r=[];++c<C;)s&&s[c].run();c=-1,C=r.length}s=null,i=!1,function(N){if(o===clearTimeout)return clearTimeout(N);if((o===u||!o)&&clearTimeout)return(o=clearTimeout)(N);try{o(N)}catch(M){try{return o.call(null,N)}catch(F){return o.call(this,N)}}}(w)}}function v(w,C){this.fun=w,this.array=C}function x(){}a.nextTick=function(w){var C=new Array(arguments.length-1);if(1<arguments.length)for(var N=1;N<arguments.length;N++)C[N-1]=arguments[N];r.push(new v(w,C)),1!==r.length||i||p(y)},v.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=x,a.addListener=x,a.once=x,a.off=x,a.removeListener=x,a.removeAllListeners=x,a.emit=x,a.prependListener=x,a.prependOnceListener=x,a.listeners=function(w){return[]},a.binding=function(w){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(w){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],244:[function(e,U,E){U=function(f){"use strict";var o,a=Object.prototype,d=a.hasOwnProperty,u=(M="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",p=M.asyncIterator||"@@asyncIterator",s=M.toStringTag||"@@toStringTag";function r(Q,K,me,we){var he,Ae,A,q;return K=K&&K.prototype instanceof w?K:w,K=Object.create(K.prototype),we=new H(we||[]),K._invoke=(he=Q,Ae=me,A=we,q=c,function(Fe,Te){if(q===y)throw new Error("Generator is already running");if(q===v){if("throw"===Fe)throw Te;return oe()}for(A.method=Fe,A.arg=Te;;){var Ie=A.delegate;if(Ie&&(Ie=function Ve(Ue,et){var mt=Ue.iterator[et.method];if(mt===o){if(et.delegate=null,"throw"===et.method){if(Ue.iterator.return&&(et.method="return",et.arg=o,Ve(Ue,et),"throw"===et.method))return x;et.method="throw",et.arg=new TypeError("The iterator does not provide a 'throw' method")}return x}return"throw"===(mt=i(mt,Ue.iterator,et.arg)).type?(et.method="throw",et.arg=mt.arg,et.delegate=null,x):(mt=mt.arg)?mt.done?(et[Ue.resultName]=mt.value,et.next=Ue.nextLoc,"return"!==et.method&&(et.method="next",et.arg=o),et.delegate=null,x):mt:(et.method="throw",et.arg=new TypeError("iterator result is not an object"),et.delegate=null,x)}(Ie,A))){if(Ie===x)continue;return Ie}if("next"===A.method)A.sent=A._sent=A.arg;else if("throw"===A.method){if(q===c)throw q=v,A.arg;A.dispatchException(A.arg)}else"return"===A.method&&A.abrupt("return",A.arg);if(q=y,"normal"===(Ie=i(he,Ae,A)).type){if(q=A.done?v:h,Ie.arg!==x)return{value:Ie.arg,done:A.done}}else"throw"===Ie.type&&(q=v,A.method="throw",A.arg=Ie.arg)}}),K}function i(Q,te,me){try{return{type:"normal",arg:Q.call(te,me)}}catch(ce){return{type:"throw",arg:ce}}}f.wrap=r;var c="suspendedStart",h="suspendedYield",y="executing",v="completed",x={};function w(){}function C(){}function N(){}var M,F,j=((M={})[u]=function(){return this},(F=(F=Object.getPrototypeOf)&&F(F(Z([]))))&&F!==a&&d.call(F,u)&&(M=F),N.prototype=w.prototype=Object.create(M));function B(Q){["next","throw","return"].forEach(function(te){Q[te]=function(me){return this._invoke(te,me)}})}function G(Q){var te;this._invoke=function(me,ce){function he(){return new Promise(function(Ae,A){!function q(Ve,we,Fe,Te){var Ie;if("throw"!==(Ve=i(Q[Ve],Q,we)).type)return(we=(Ie=Ve.arg).value)&&"object"==typeof we&&d.call(we,"__await")?Promise.resolve(we.__await).then(function(Ue){q("next",Ue,Fe,Te)},function(Ue){q("throw",Ue,Fe,Te)}):Promise.resolve(we).then(function(Ue){Ie.value=Ue,Fe(Ie)},function(Ue){return q("throw",Ue,Fe,Te)});Te(Ve.arg)}(me,ce,Ae,A)})}return te=te?te.then(he,he):he()}}function ee(Q){var te={tryLoc:Q[0]};1 in Q&&(te.catchLoc=Q[1]),2 in Q&&(te.finallyLoc=Q[2],te.afterLoc=Q[3]),this.tryEntries.push(te)}function $(Q){var te=Q.completion||{};te.type="normal",delete te.arg,Q.completion=te}function H(Q){this.tryEntries=[{tryLoc:"root"}],Q.forEach(ee,this),this.reset(!0)}function Z(Q){if(Q){var te,me=Q[u];if(me)return me.call(Q);if("function"==typeof Q.next)return Q;if(!isNaN(Q.length))return te=-1,(me=function ce(){for(;++te<Q.length;)if(d.call(Q,te))return ce.value=Q[te],ce.done=!1,ce;return ce.value=o,ce.done=!0,ce}).next=me}return{next:oe}}function oe(){return{value:o,done:!0}}return(C.prototype=j.constructor=N).constructor=C,N[s]=C.displayName="GeneratorFunction",f.isGeneratorFunction=function(Q){return!!(Q="function"==typeof Q&&Q.constructor)&&(Q===C||"GeneratorFunction"===(Q.displayName||Q.name))},f.mark=function(Q){return Object.setPrototypeOf?Object.setPrototypeOf(Q,N):(Q.__proto__=N,s in Q||(Q[s]="GeneratorFunction")),Q.prototype=Object.create(j),Q},f.awrap=function(Q){return{__await:Q}},B(G.prototype),G.prototype[p]=function(){return this},f.AsyncIterator=G,f.async=function(Q,te,me,ce){var he=new G(r(Q,te,me,ce));return f.isGeneratorFunction(te)?he:he.next().then(function(Ae){return Ae.done?Ae.value:he.next()})},B(j),j[s]="Generator",j[u]=function(){return this},j.toString=function(){return"[object Generator]"},f.keys=function(Q){var te,me=[];for(te in Q)me.push(te);return me.reverse(),function ce(){for(;me.length;){var he=me.pop();if(he in Q)return ce.value=he,ce.done=!1,ce}return ce.done=!0,ce}},f.values=Z,H.prototype={constructor:H,reset:function(Q){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach($),!Q)for(var te in this)"t"===te.charAt(0)&&d.call(this,te)&&!isNaN(+te.slice(1))&&(this[te]=o)},stop:function(){this.done=!0;var Q=this.tryEntries[0].completion;if("throw"===Q.type)throw Q.arg;return this.rval},dispatchException:function(Q){if(this.done)throw Q;var te=this;function me(K,we){return Ae.type="throw",Ae.arg=Q,te.next=K,we&&(te.method="next",te.arg=o),!!we}for(var ce=this.tryEntries.length-1;0<=ce;--ce){var he=this.tryEntries[ce],Ae=he.completion;if("root"===he.tryLoc)return me("end");if(he.tryLoc<=this.prev){var A=d.call(he,"catchLoc"),q=d.call(he,"finallyLoc");if(A&&q){if(this.prev<he.catchLoc)return me(he.catchLoc,!0);if(this.prev<he.finallyLoc)return me(he.finallyLoc)}else if(A){if(this.prev<he.catchLoc)return me(he.catchLoc,!0)}else{if(!q)throw new Error("try statement without catch or finally");if(this.prev<he.finallyLoc)return me(he.finallyLoc)}}}},abrupt:function(Q,te){for(var me=this.tryEntries.length-1;0<=me;--me){var ce=this.tryEntries[me];if(ce.tryLoc<=this.prev&&d.call(ce,"finallyLoc")&&this.prev<ce.finallyLoc){var he=ce;break}}var Ae=(he=he&&("break"===Q||"continue"===Q)&&he.tryLoc<=te&&te<=he.finallyLoc?null:he)?he.completion:{};return Ae.type=Q,Ae.arg=te,he?(this.method="next",this.next=he.finallyLoc,x):this.complete(Ae)},complete:function(Q,te){if("throw"===Q.type)throw Q.arg;return"break"===Q.type||"continue"===Q.type?this.next=Q.arg:"return"===Q.type?(this.rval=this.arg=Q.arg,this.method="return",this.next="end"):"normal"===Q.type&&te&&(this.next=te),x},finish:function(Q){for(var te=this.tryEntries.length-1;0<=te;--te){var me=this.tryEntries[te];if(me.finallyLoc===Q)return this.complete(me.completion,me.afterLoc),$(me),x}},catch:function(Q){for(var te=this.tryEntries.length-1;0<=te;--te){var me,ce,he=this.tryEntries[te];if(he.tryLoc===Q)return"throw"===(me=he.completion).type&&(ce=me.arg,$(he)),ce}throw new Error("illegal catch attempt")},delegateYield:function(Q,te,me){return this.delegate={iterator:Z(Q),resultName:te,nextLoc:me},"next"===this.method&&(this.arg=o),x}},f}("object"==typeof U?U.exports:{});try{regeneratorRuntime=U}catch(f){Function("r","regeneratorRuntime = r")(U)}},{}],245:[function(e,U,E){!function(f){"use strict";var o,a,d,u,p,s,r,i,c,h;function y($){if("string"!=typeof $&&($=String($)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test($))throw new TypeError("Invalid character in header field name");return $.toLowerCase()}function v($){return"string"!=typeof $?String($):$}function x($){var H={next:function(){var Z=$.shift();return{done:void 0===Z,value:Z}}};return a&&(H[Symbol.iterator]=function(){return H}),H}function w($){this.map={},$ instanceof w?$.forEach(function(H,Z){this.append(Z,H)},this):Array.isArray($)?$.forEach(function(H){this.append(H[0],H[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(H){this.append(H,$[H])},this)}function C($){if($.bodyUsed)return Promise.reject(new TypeError("Already read"));$.bodyUsed=!0}function N($){return new Promise(function(H,Z){$.onload=function(){H($.result)},$.onerror=function(){Z($.error)}})}function M($){var H=new FileReader,Z=N(H);return H.readAsArrayBuffer($),Z}function F($){var H;return $.slice?$.slice(0):((H=new Uint8Array($.byteLength)).set(new Uint8Array($)),H.buffer)}function j(){return this.bodyUsed=!1,this._initBody=function($){if(this._bodyInit=$)if("string"==typeof $)this._bodyText=$;else if(d&&Blob.prototype.isPrototypeOf($))this._bodyBlob=$;else if(u&&FormData.prototype.isPrototypeOf($))this._bodyFormData=$;else if(o&&URLSearchParams.prototype.isPrototypeOf($))this._bodyText=$.toString();else if(p&&d&&r($))this._bodyArrayBuffer=F($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!p||!ArrayBuffer.prototype.isPrototypeOf($)&&!i($))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=F($)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof $?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d&&(this.blob=function(){var $=C(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?C(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(M)}),this.text=function(){var $,H,Z=C(this);if(Z)return Z;if(this._bodyBlob)return Z=this._bodyBlob,H=N($=new FileReader),$.readAsText(Z),H;if(this._bodyArrayBuffer)return Promise.resolve(function(oe){for(var Q=new Uint8Array(oe),te=new Array(Q.length),me=0;me<Q.length;me++)te[me]=String.fromCharCode(Q[me]);return te.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u&&(this.formData=function(){return this.text().then(G)}),this.json=function(){return this.text().then(JSON.parse)},this}function B($,H){var Z,oe=(H=H||{}).body;if($ instanceof B){if($.bodyUsed)throw new TypeError("Already read");this.url=$.url,this.credentials=$.credentials,H.headers||(this.headers=new w($.headers)),this.method=$.method,this.mode=$.mode,oe||null==$._bodyInit||(oe=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=H.credentials||this.credentials||"omit",!H.headers&&this.headers||(this.headers=new w(H.headers)),this.method=(Z=($=H.method||this.method||"GET").toUpperCase(),-1<c.indexOf(Z)?Z:$),this.mode=H.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&oe)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(oe)}function G($){var H=new FormData;return $.trim().split("&").forEach(function(Z){var oe;Z&&(oe=(Z=Z.split("=")).shift().replace(/\+/g," "),Z=Z.join("=").replace(/\+/g," "),H.append(decodeURIComponent(oe),decodeURIComponent(Z)))}),H}function ee($,H){H=H||{},this.type="default",this.status=void 0===H.status?200:H.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in H?H.statusText:"OK",this.headers=new w(H.headers),this.url=H.url||"",this._initBody($)}f.fetch||(o="URLSearchParams"in f,a="Symbol"in f&&"iterator"in Symbol,d="FileReader"in f&&"Blob"in f&&function(){try{return new Blob,!0}catch($){return!1}}(),u="FormData"in f,(p="ArrayBuffer"in f)&&(s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function($){return $&&DataView.prototype.isPrototypeOf($)},i=ArrayBuffer.isView||function($){return $&&-1<s.indexOf(Object.prototype.toString.call($))}),w.prototype.append=function($,H){$=y($),H=v(H);var Z=this.map[$];this.map[$]=Z?Z+","+H:H},w.prototype.delete=function($){delete this.map[y($)]},w.prototype.get=function($){return $=y($),this.has($)?this.map[$]:null},w.prototype.has=function($){return this.map.hasOwnProperty(y($))},w.prototype.set=function($,H){this.map[y($)]=v(H)},w.prototype.forEach=function($,H){for(var Z in this.map)this.map.hasOwnProperty(Z)&&$.call(H,this.map[Z],Z,this)},w.prototype.keys=function(){var $=[];return this.forEach(function(H,Z){$.push(Z)}),x($)},w.prototype.values=function(){var $=[];return this.forEach(function(H){$.push(H)}),x($)},w.prototype.entries=function(){var $=[];return this.forEach(function(H,Z){$.push([Z,H])}),x($)},a&&(w.prototype[Symbol.iterator]=w.prototype.entries),c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],B.prototype.clone=function(){return new B(this,{body:this._bodyInit})},j.call(B.prototype),j.call(ee.prototype),ee.prototype.clone=function(){return new ee(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},ee.error=function(){var $=new ee(null,{status:0,statusText:""});return $.type="error",$},h=[301,302,303,307,308],ee.redirect=function($,H){if(-1===h.indexOf(H))throw new RangeError("Invalid status code");return new ee(null,{status:H,headers:{location:$}})},f.Headers=w,f.Request=B,f.Response=ee,f.fetch=function($,H){return new Promise(function(Z,oe){var Q=new B($,H),te=new XMLHttpRequest;te.onload=function(){var me,ce={status:te.status,statusText:te.statusText,headers:(ce=te.getAllResponseHeaders()||"",me=new w,ce.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(A){var q=(A=A.split(":")).shift().trim();q&&(A=A.join(":").trim(),me.append(q,A))}),me)},he=(ce.url="responseURL"in te?te.responseURL:ce.headers.get("X-Request-URL"),"response"in te?te.response:te.responseText);Z(new ee(he,ce))},te.onerror=function(){oe(new TypeError("Network request failed"))},te.ontimeout=function(){oe(new TypeError("Network request failed"))},te.open(Q.method,Q.url,!0),"include"===Q.credentials?te.withCredentials=!0:"omit"===Q.credentials&&(te.withCredentials=!1),"responseType"in te&&d&&(te.responseType="blob"),Q.headers.forEach(function(me,ce){te.setRequestHeader(ce,me)}),te.send(void 0===Q._bodyInit?null:Q._bodyInit)})},f.fetch.polyfill=!0)}("undefined"!=typeof self?self:this)},{}],246:[function(e,U,E){"use strict";e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f,o=d(e("../core/main")),a=d(e("../color/color_conversion"));function d(s){return s&&s.__esModule?s:{default:s}}var u=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],p=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];o.default.prototype._rgbColorName=function(c){c=a.default._rgbaToHSBA(c);var r,i,h=[(f=c)[0],c[1],c[2]];0!==h[0]&&(h[0]=Math.round(100*h[0]),(c=h[0].toString().split(""))[i=c.length-1]=parseInt(c[i]),c[i]<2.5?c[i]=0:2.5<=c[i]&&c[i]<7.5&&(c[i]=5),2===c.length?(c[0]=parseInt(c[0]),7.5<=c[i]&&(c[i]=0,c[0]=c[0]+1),h[0]=10*c[0]+c[1]):h[0]=7.5<=c[i]?10:c[i]),h[2]=h[2]/255;for(var y=h.length-1;1<=y;y--)h[y]=h[y]<=.25?0:.25<h[y]&&h[y]<.75?.5:1;if(0===h[0]&&0===h[1]&&1===h[2]){for(var v=2;0<=v;v--)f[v]=Math.round(1e4*f[v])/1e4;for(var x=0;x<u.length;x++){if(u[x].h===f[0]&&u[x].s===f[1]&&u[x].b===f[2]){r=u[x].name;break}r="white"}}else for(var w=0;w<p.length;w++)if(p[w].h===h[0]&&p[w].s===h[1]&&p[w].b===h[2]){r=p[w].name;break}return r},E.default=e=o.default},{"../color/color_conversion":252,"../core/main":267,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],247:[function(e,U,E){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.replace"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(e=e("../core/main"))&&e.__esModule?e:{default:e},o="_Description",a="_fallbackDesc",d="_fallbackTable",u="_Label",p="_labelDesc",s="_labelTable";function r(i){if("label"===i||"fallback"===i)throw new Error("description should not be LABEL or FALLBACK");return i.endsWith(".")||i.endsWith(";")||i.endsWith(",")||i.endsWith("?")||i.endsWith("!")||(i+="."),i}f.default.prototype.describe=function(i,c){var h;f.default._validateParameters("describe",arguments),"string"==typeof i&&(h=this.canvas.id,i=r(i),this.dummyDOM||(this.dummyDOM=document.getElementById(h).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==i&&(this.descriptions.fallback.innerHTML=i):this._describeHTML("fallback",i),c===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==i&&(this.descriptions.label.innerHTML=i):this._describeHTML("label",i)))},f.default.prototype.describeElement=function(i,c,h){var y,v;f.default._validateParameters("describeElement",arguments),"string"==typeof c&&"string"==typeof i&&(y=this.canvas.id,c=r(c),v=function(x){if("label"===x||"fallback"===x)throw new Error("element name should not be LABEL or FALLBACK");return x.endsWith(".")||x.endsWith(";")||x.endsWith(",")?x=x.replace(/.$/,":"):x.endsWith(":")||(x+=":"),x}(i),i=i.replace(/[^a-zA-Z0-9]/g,""),v='<th scope="row">'.concat(v,"</th><td>").concat(c,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(y).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[i]?this.descriptions.fallbackElements[i].innerHTML!==v&&(this.descriptions.fallbackElements[i].innerHTML=v):this._describeElementHTML("fallback",i,v),h===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[i]?this.descriptions.labelElements[i].innerHTML!==v&&(this.descriptions.labelElements[i].innerHTML=v):this._describeElementHTML("label",i,v)))},f.default.prototype._describeHTML=function(i,c){var h,y=this.canvas.id;"fallback"===i?(this.dummyDOM.querySelector("#".concat(y+o))?this.dummyDOM.querySelector("#"+y+d).insertAdjacentHTML("beforebegin",'<p id="'.concat(y+a,'"></p>')):(h='<div id="'.concat(y).concat(o,'" role="region" aria-label="Canvas Description"><p id="').concat(y).concat(a,'"></p></div>'),this.dummyDOM.querySelector("#".concat(y,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(y,"accessibleOutput")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#".concat(y)).innerHTML=h),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(y).concat(a)),this.descriptions.fallback.innerHTML=c):"label"===i&&(this.dummyDOM.querySelector("#".concat(y+u))?this.dummyDOM.querySelector("#".concat(y+s))&&this.dummyDOM.querySelector("#".concat(y+s)).insertAdjacentHTML("beforebegin",'<p id="'.concat(y).concat(p,'"></p>')):(h='<div id="'.concat(y).concat(u,'" class="p5Label"><p id="').concat(y).concat(p,'"></p></div>'),this.dummyDOM.querySelector("#".concat(y,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(y,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#"+y).insertAdjacentHTML("afterend",h)),this.descriptions.label=this.dummyDOM.querySelector("#"+y+p),this.descriptions.label.innerHTML=c)},f.default.prototype._describeElementHTML=function(i,c,h){var y,v=this.canvas.id;"fallback"===i?(this.dummyDOM.querySelector("#".concat(v+o))?this.dummyDOM.querySelector("#"+v+d)||this.dummyDOM.querySelector("#"+v+a).insertAdjacentHTML("afterend",'<table id="'.concat(v).concat(d,'"><caption>Canvas elements and their descriptions</caption></table>')):(y='<div id="'.concat(v).concat(o,'" role="region" aria-label="Canvas Description"><table id="').concat(v).concat(d,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutput")).insertAdjacentHTML("beforebegin",y):this.dummyDOM.querySelector("#"+v).innerHTML=y),(y=document.createElement("tr")).id=v+"_fte_"+c,this.dummyDOM.querySelector("#"+v+d).appendChild(y),this.descriptions.fallbackElements[c]=this.dummyDOM.querySelector("#".concat(v).concat("_fte_").concat(c)),this.descriptions.fallbackElements[c].innerHTML=h):"label"===i&&(this.dummyDOM.querySelector("#".concat(v+u))?this.dummyDOM.querySelector("#".concat(v+s))||this.dummyDOM.querySelector("#"+v+p).insertAdjacentHTML("afterend",'<table id="'.concat(v+s,'"></table>')):(y='<div id="'.concat(v).concat(u,'" class="p5Label"><table id="').concat(v).concat(s,'"></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",y):this.dummyDOM.querySelector("#"+v).insertAdjacentHTML("afterend",y)),(i=document.createElement("tr")).id=v+"_lte_"+c,this.dummyDOM.querySelector("#"+v+s).appendChild(i),this.descriptions.labelElements[c]=this.dummyDOM.querySelector("#".concat(v).concat("_lte_").concat(c)),this.descriptions.labelElements[c].innerHTML=h)},E.default=e=f.default},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.replace":189}],248:[function(e,U,E){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.map"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.prototype._updateGridOutput=function(f){var o,a,d,u,p,s,r,i;this.dummyDOM.querySelector("#".concat(f,"_summary"))&&(o=this._accessibleOutputs[f],p=(a=function(p,s){var r,i="",c="",h=0;for(r in s){var y,v=0;for(y in s[r]){var x='<li id="'.concat(p,"shape").concat(h,'">').concat(s[r][y].color," ").concat(r,",");"line"===r?x+=" location = ".concat(s[r][y].pos,", length = ").concat(s[r][y].length," pixels"):(x+=" location = ".concat(s[r][y].pos),"point"!==r&&(x+=", area = ".concat(s[r][y].area," %")),x+="</li>"),i+=x,v++,h++}c=1<v?"".concat(c," ").concat(v," ").concat(r,"s"):"".concat(c," ").concat(v," ").concat(r)}return{numShapes:[h,c],details:i}}(f,this.ingredients.shapes)).numShapes,r=this.width,i=this.height,s="".concat(s=this.ingredients.colors.background," canvas, ").concat(r," by ").concat(i," pixels, contains ").concat(p[0]),d=s="".concat(s,1===p[0]?" shape: ":" shapes: ").concat(p[1]),u=function(p,s){var r,i,c,h=0,y="",v=Array.apply(null,Array(10)).map(function(){});for(r in v)v[r]=Array.apply(null,Array(10)).map(function(){});for(i in s)for(var x in s[i]){var w;w="line"!==i?'<a href="#'.concat(p,"shape").concat(h,'">').concat(s[i][x].color," ").concat(i,"</a>"):'<a href="#'.concat(p,"shape").concat(h,'">').concat(s[i][x].color," ").concat(i," midpoint</a>"),v[s[i][x].loc.locY][s[i][x].loc.locX]=v[s[i][x].loc.locY][s[i][x].loc.locX]?v[s[i][x].loc.locY][s[i][x].loc.locX]+"  "+w:w,h++}for(c in v){var C,N="<tr>";for(C in v[c])N+="<td>",void 0!==v[c][C]&&(N+=v[c][C]),N+="</td>";y=y+N+"</tr>"}return y}(f,this.ingredients.shapes),d!==o.summary.innerHTML&&(o.summary.innerHTML=d),u!==o.map.innerHTML&&(o.map.innerHTML=u),a.details!==o.shapeDetails.innerHTML&&(o.shapeDetails.innerHTML=a.details),this._accessibleOutputs[f]=o)},E.default=e=e.default},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.map":161}],249:[function(e,U,E){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.to-fixed"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(e=e("../core/main"))&&e.__esModule?e:{default:e};function o(d,u,p){return d[0]<.4*u?d[1]<.4*p?"top left":d[1]>.6*p?"bottom left":"mid left":d[0]>.6*u?d[1]<.4*p?"top right":d[1]>.6*p?"bottom right":"mid right":d[1]<.4*p?"top middle":d[1]>.6*p?"bottom middle":"middle"}function a(d,u,p){return 10===(u=Math.floor(d[0]/u*10))&&(u-=1),10===(d=Math.floor(d[1]/p*10))&&(d-=1),{locX:u,locY:d}}f.default.prototype.textOutput=function(d){f.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),d===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},f.default.prototype.gridOutput=function(d){f.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),d===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},f.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},f.default.prototype._createOutput=function(d,u){var p,s,r,i=this.canvas.id,c=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(i).parentNode),"");"Fallback"===u?(p=i+d,this.dummyDOM.querySelector("#".concat(s=i+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(i,"_Description"))?this.dummyDOM.querySelector("#".concat(i,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(s,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(i)).innerHTML='<div id="'.concat(s,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===u&&(p=i+d+(c=u),this.dummyDOM.querySelector("#".concat(s=i+"accessibleOutput"+u))||(this.dummyDOM.querySelector("#".concat(i,"_Label"))?this.dummyDOM.querySelector("#".concat(i,"_Label")):this.dummyDOM.querySelector("#".concat(i))).insertAdjacentHTML("afterend",'<div id="'.concat(s,'"></div>'))),this._accessibleOutputs[p]={},"textOutput"===d?(c="#".concat(i,"gridOutput").concat(c),r='<div id="'.concat(p,'">Text Output<div id="').concat(p,'Summary" aria-label="text output summary"><p id="').concat(p,'_summary"></p><ul id="').concat(p,'_list"></ul></div><table id="').concat(p,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(c)?this.dummyDOM.querySelector(c).insertAdjacentHTML("beforebegin",r):this.dummyDOM.querySelector("#".concat(s)).innerHTML=r,this._accessibleOutputs[p].list=this.dummyDOM.querySelector("#".concat(p,"_list"))):"gridOutput"===d&&(c="#".concat(i,"textOutput").concat(c),r='<div id="'.concat(p,'">Grid Output<p id="').concat(p,'_summary" aria-label="grid output summary"><table id="').concat(p,'_map" summary="grid output content"></table><ul id="').concat(p,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(c)?this.dummyDOM.querySelector(c).insertAdjacentHTML("afterend",r):this.dummyDOM.querySelector("#".concat(s)).innerHTML=r,this._accessibleOutputs[p].map=this.dummyDOM.querySelector("#".concat(p,"_map"))),this._accessibleOutputs[p].shapeDetails=this.dummyDOM.querySelector("#".concat(p,"_shapeDetails")),this._accessibleOutputs[p].summary=this.dummyDOM.querySelector("#".concat(p,"_summary"))},f.default.prototype._updateAccsOutput=function(){var d=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(d+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(d+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(d+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(d+"gridOutputLabel"))},f.default.prototype._accsBackground=function(d){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==d&&(this.ingredients.colors.backgroundRGBA=d,this.ingredients.colors.background=this._rgbColorName(d))},f.default.prototype._accsCanvasColors=function(d,u){"fill"===d?this.ingredients.colors.fillRGBA!==u&&(this.ingredients.colors.fillRGBA=u,this.ingredients.colors.fill=this._rgbColorName(u)):"stroke"===d&&this.ingredients.colors.strokeRGBA!==u&&(this.ingredients.colors.strokeRGBA=u,this.ingredients.colors.stroke=this._rgbColorName(u))},f.default.prototype._accsOutput=function(d,u){"ellipse"===d&&u[2]===u[3]?d="circle":"rectangle"===d&&u[2]===u[3]&&(d="square");var p,s,y,v,x,r={},i=!0,c=(v=u,y="rectangle"===(y=d)||"ellipse"===y||"arc"===y||"circle"===y||"square"===y?(x=Math.round(v[0]+v[2]/2),Math.round(v[1]+v[3]/2)):"triangle"===y?(x=(v[0]+v[2]+v[4])/3,(v[1]+v[3]+v[5])/3):"quadrilateral"===y?(x=(v[0]+v[2]+v[4]+v[6])/4,(v[1]+v[3]+v[5]+v[7])/4):"line"===y?(x=(v[0]+v[2])/2,(v[1]+v[3])/2):(x=v[0],v[1]),[x,y]);if("line"===d?(r.color=this.ingredients.colors.stroke,r.length=Math.round(this.dist(u[0],u[1],u[2],u[3])),p=o([u[0],[1]],this.width,this.height),s=o([u[2],[3]],this.width,this.height),r.loc=a(c,this.width,this.height),r.pos=p===s?"at ".concat(p):"from ".concat(p," to ").concat(s)):("point"===d?r.color=this.ingredients.colors.stroke:(r.color=this.ingredients.colors.fill,r.area=function(y,v,x,w){var N,M,F,j,B,G,ee,C=0;return"arc"===y?(C=(N=((v[5]-v[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*v[2]*v[3]/8,"open"!==v[6]&&"chord"!==v[6]||(ee=v[0],M=v[1],F=v[0]+v[2]/2*Math.cos(v[4]).toFixed(2),j=v[1]+v[3]/2*Math.sin(v[4]).toFixed(2),B=v[0]+v[2]/2*Math.cos(v[5]).toFixed(2),G=v[1]+v[3]/2*Math.sin(v[5]).toFixed(2),ee=Math.abs(ee*(j-G)+F*(G-M)+B*(M-j))/2,N>Math.PI?C+=ee:C-=ee)):"ellipse"===y||"circle"===y?C=3.14*v[2]/2*v[3]/2:"line"===y||"point"===y?C=0:"quadrilateral"===y?C=Math.abs((v[6]+v[0])*(v[7]-v[1])+(v[0]+v[2])*(v[1]-v[3])+(v[2]+v[4])*(v[3]-v[5])+(v[4]+v[6])*(v[5]-v[7]))/2:"rectangle"===y||"square"===y?C=v[2]*v[3]:"triangle"===y&&(C=Math.abs(v[0]*(v[3]-v[5])+v[2]*(v[5]-v[1])+v[4]*(v[1]-v[3]))/2),Math.round(100*C/(x*w))}(d,u,this.width,this.height)),r.pos=o(c,this.width,this.height),r.loc=a(c,this.width,this.height)),this.ingredients.shapes[d]){if(this.ingredients.shapes[d]!==[r]){for(var h in this.ingredients.shapes[d])JSON.stringify(this.ingredients.shapes[d][h])===JSON.stringify(r)&&(i=!1);!0===i&&this.ingredients.shapes[d].push(r)}}else this.ingredients.shapes[d]=[r]},E.default=e=f.default},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.map":161,"core-js/modules/es.number.to-fixed":171}],250:[function(e,U,E){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.concat"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.prototype._updateTextOutput=function(f){var o,a,d,u,p,s,r,i;this.dummyDOM.querySelector("#".concat(f,"_summary"))&&(o=this._accessibleOutputs[f],p=(a=function(p,s){var r,i="",c=0;for(r in s)for(var h in s[r]){var y='<li><a href="#'.concat(p,"shape").concat(c,'">').concat(s[r][h].color," ").concat(r,"</a>");"line"===r?y+=", ".concat(s[r][h].pos,", ").concat(s[r][h].length," pixels long.</li>"):(y+=", at ".concat(s[r][h].pos),"point"!==r&&(y+=", covering ".concat(s[r][h].area,"% of the canvas")),y+=".</li>"),i+=y,c++}return{numShapes:c,listShapes:i}}(f,this.ingredients.shapes)).numShapes,s=this.ingredients.colors.background,i=this.height,r="Your output is a, ".concat(r=this.width," by ").concat(i," pixels, ").concat(s," canvas containing the following"),d=r=1===p?"".concat(r," shape:"):"".concat(r," ").concat(p," shapes:"),u=function(p,s){var r,i="",c=0;for(r in s)for(var h in s[r]){var y='<tr id="'.concat(p,"shape").concat(c,'"><th>').concat(s[r][h].color," ").concat(r,"</th>");"line"===r?y+="<td>location = ".concat(s[r][h].pos,"</td><td>length = ").concat(s[r][h].length," pixels</td></tr>"):(y+="<td>location = ".concat(s[r][h].pos,"</td>"),"point"!==r&&(y+="<td> area = ".concat(s[r][h].area,"%</td>")),y+="</tr>"),i+=y,c++}return i}(f,this.ingredients.shapes),d!==o.summary.innerHTML&&(o.summary.innerHTML=d),a.listShapes!==o.list.innerHTML&&(o.list.innerHTML=a.listShapes),u!==o.shapeDetails.innerHTML&&(o.shapeDetails.innerHTML=u),this._accessibleOutputs[f]=o)},E.default=e=e.default},{"../core/main":267,"core-js/modules/es.array.concat":149}],251:[function(e,U,E){"use strict";var f=(f=e("./core/main"))&&f.__esModule?f:{default:f};e("./core/constants"),e("./core/environment"),e("./core/friendly_errors/stacktrace"),e("./core/friendly_errors/validate_params"),e("./core/friendly_errors/file_errors"),e("./core/friendly_errors/fes_core"),e("./core/friendly_errors/sketch_reader"),e("./core/helpers"),e("./core/legacy"),e("./core/preload"),e("./core/p5.Element"),e("./core/p5.Graphics"),e("./core/p5.Renderer"),e("./core/p5.Renderer2D"),e("./core/rendering"),e("./core/shim"),e("./core/structure"),e("./core/transform"),e("./core/shape/2d_primitives"),e("./core/shape/attributes"),e("./core/shape/curves"),e("./core/shape/vertex"),e("./accessibility/outputs"),e("./accessibility/textOutput"),e("./accessibility/gridOutput"),e("./accessibility/color_namer"),e("./color/color_conversion"),e("./color/creating_reading"),e("./color/p5.Color"),e("./color/setting"),e("./data/p5.TypedDict"),e("./data/local_storage.js"),e("./dom/dom"),e("./accessibility/describe"),e("./events/acceleration"),e("./events/keyboard"),e("./events/mouse"),e("./events/touch"),e("./image/filters"),e("./image/image"),e("./image/loading_displaying"),e("./image/p5.Image"),e("./image/pixels"),e("./io/files"),e("./io/p5.Table"),e("./io/p5.TableRow"),e("./io/p5.XML"),e("./math/calculation"),e("./math/math"),e("./math/noise"),e("./math/p5.Vector"),e("./math/random"),e("./math/trigonometry"),e("./typography/attributes"),e("./typography/loading_displaying"),e("./typography/p5.Font"),e("./utilities/array_functions"),e("./utilities/conversion"),e("./utilities/string_functions"),e("./utilities/time_date"),e("./webgl/3d_primitives"),e("./webgl/interaction"),e("./webgl/light"),e("./webgl/loading"),e("./webgl/material"),e("./webgl/p5.Camera"),e("./webgl/p5.Geometry"),e("./webgl/p5.Matrix"),e("./webgl/p5.RendererGL.Immediate"),e("./webgl/p5.RendererGL"),e("./webgl/p5.RendererGL.Retained"),e("./webgl/p5.Shader"),e("./webgl/p5.RenderBuffer"),e("./webgl/p5.Texture"),e("./webgl/text"),e("./core/init"),U.exports=f.default},{"./accessibility/color_namer":246,"./accessibility/describe":247,"./accessibility/gridOutput":248,"./accessibility/outputs":249,"./accessibility/textOutput":250,"./color/color_conversion":252,"./color/creating_reading":253,"./color/p5.Color":254,"./color/setting":255,"./core/constants":256,"./core/environment":257,"./core/friendly_errors/fes_core":258,"./core/friendly_errors/file_errors":259,"./core/friendly_errors/sketch_reader":260,"./core/friendly_errors/stacktrace":261,"./core/friendly_errors/validate_params":262,"./core/helpers":263,"./core/init":264,"./core/legacy":266,"./core/main":267,"./core/p5.Element":268,"./core/p5.Graphics":269,"./core/p5.Renderer":270,"./core/p5.Renderer2D":271,"./core/preload":272,"./core/rendering":273,"./core/shape/2d_primitives":274,"./core/shape/attributes":275,"./core/shape/curves":276,"./core/shape/vertex":277,"./core/shim":278,"./core/structure":279,"./core/transform":280,"./data/local_storage.js":281,"./data/p5.TypedDict":282,"./dom/dom":283,"./events/acceleration":284,"./events/keyboard":285,"./events/mouse":286,"./events/touch":287,"./image/filters":288,"./image/image":289,"./image/loading_displaying":290,"./image/p5.Image":291,"./image/pixels":292,"./io/files":293,"./io/p5.Table":294,"./io/p5.TableRow":295,"./io/p5.XML":296,"./math/calculation":297,"./math/math":298,"./math/noise":299,"./math/p5.Vector":300,"./math/random":301,"./math/trigonometry":302,"./typography/attributes":303,"./typography/loading_displaying":304,"./typography/p5.Font":305,"./utilities/array_functions":306,"./utilities/conversion":307,"./utilities/string_functions":308,"./utilities/time_date":309,"./webgl/3d_primitives":310,"./webgl/interaction":311,"./webgl/light":312,"./webgl/loading":313,"./webgl/material":314,"./webgl/p5.Camera":315,"./webgl/p5.Geometry":316,"./webgl/p5.Matrix":317,"./webgl/p5.RenderBuffer":318,"./webgl/p5.RendererGL":321,"./webgl/p5.RendererGL.Immediate":319,"./webgl/p5.RendererGL.Retained":320,"./webgl/p5.Shader":322,"./webgl/p5.Texture":323,"./webgl/text":324}],252:[function(e,U,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.ColorConversion={},e.default.ColorConversion._hsbaToHSLA=function(f){var a=f[1],d=f[2],u=(2-a)*d/2;return 0!=u&&(1==u?a=0:u<.5?a/=2-a:a=a*d/(2-2*u)),[f[0],a,u,f[3]]},e.default.ColorConversion._hsbaToRGBA=function(f){var o,a,d,u,p,s=6*f[0],r=f[1],i=f[2];return 0===r?[i,i,i,f[3]]:(a=i*(1-r),d=i*(1-r*(s-(o=Math.floor(s)))),r=i*(1-r*(1+o-s)),s=1===o?(u=d,p=i,a):2===o?(u=a,p=i,r):3===o?(u=a,p=d,i):4===o?(u=r,p=a,i):5===o?(u=i,p=a,d):(u=i,p=r,a),[u,p,s,f[3]])},e.default.ColorConversion._hslaToHSBA=function(f){var a=f[1],d=f[2],u=d<.5?(1+a)*d:d+a-d*a;return[f[0],a=2*(u-d)/u,u,f[3]]},e.default.ColorConversion._hslaToRGBA=function(f){var o,a=6*f[0],d=f[1],u=f[2];return 0===d?[u,u,u,f[3]]:[(o=function(p,s,r){return p<0?p+=6:6<=p&&(p-=6),p<1?s+(r-s)*p:p<3?r:p<4?s+(r-s)*(4-p):s})(2+a,d=2*u-(u=u<.5?(1+d)*u:u+d-u*d),u),o(a,d,u),o(a-2,d,u),f[3]]},e.default.ColorConversion._rgbaToHSBA=function(f){var o,a,d=f[0],u=f[1],p=f[2],s=Math.max(d,u,p),r=s-Math.min(d,u,p);return 0==r?a=o=0:(a=r/s,d===s?o=(u-p)/r:u===s?o=2+(p-d)/r:p===s&&(o=4+(d-u)/r),o<0?o+=6:6<=o&&(o-=6)),[o/6,a,s,f[3]]},e.default.ColorConversion._rgbaToHSLA=function(f){var o,a,i,d=f[0],u=f[1],p=f[2],s=Math.max(d,u,p),r=s+(i=Math.min(d,u,p));return 0==(i=s-i)?a=o=0:(a=r<1?i/r:i/(2-r),d===s?o=(u-p)/i:u===s?o=2+(p-d)/i:p===s&&(o=4+(d-u)/i),o<0?o+=6:6<=o&&(o-=6)),[o/6,a,r/2,f[3]]},E.default=e=e.default.ColorConversion},{"../core/main":267}],253:[function(e,U,E){"use strict";function f(s){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(s)}function o(s){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(r){return f(r)}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":f(r)})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.map"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=(p=e("../core/main"))&&p.__esModule?p:{default:p},d=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==o(s)&&"function"!=typeof s)return{default:s};var r=u();if(r&&r.has(s))return r.get(s);var i,c={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in s){var y;Object.prototype.hasOwnProperty.call(s,i)&&((y=h?Object.getOwnPropertyDescriptor(s,i):null)&&(y.get||y.set)?Object.defineProperty(c,i,y):c[i]=s[i])}return c.default=s,r&&r.set(s,c),c}(e("../core/constants"));function u(){var s;return"function"!=typeof WeakMap?null:(u=function(){return s},s=new WeakMap)}e("./p5.Color"),e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),a.default.prototype.alpha=function(s){return a.default._validateParameters("alpha",arguments),this.color(s)._getAlpha()},a.default.prototype.blue=function(s){return a.default._validateParameters("blue",arguments),this.color(s)._getBlue()},a.default.prototype.brightness=function(s){return a.default._validateParameters("brightness",arguments),this.color(s)._getBrightness()},a.default.prototype.color=function(){return a.default._validateParameters("color",arguments),arguments[0]instanceof a.default.Color?arguments[0]:new a.default.Color(this,arguments[0]instanceof Array?arguments[0]:arguments)},a.default.prototype.green=function(s){return a.default._validateParameters("green",arguments),this.color(s)._getGreen()},a.default.prototype.hue=function(s){return a.default._validateParameters("hue",arguments),this.color(s)._getHue()},a.default.prototype.lerpColor=function(s,r,i){a.default._validateParameters("lerpColor",arguments);var c,h,y,v=this._colorMode,x=this._colorMaxes;if(v===d.RGB)h=s.levels.map(function(w){return w/255}),y=r.levels.map(function(w){return w/255});else if(v===d.HSB)s._getBrightness(),r._getBrightness(),h=s.hsba,y=r.hsba;else{if(v!==d.HSL)throw new Error("".concat(v,"cannot be used for interpolation."));s._getLightness(),r._getLightness(),h=s.hsla,y=r.hsla}return i=Math.max(Math.min(i,1),0),void 0===this.lerp&&(this.lerp=function(w,C,N){return N*(C-w)+w}),s=this.lerp(h[0],y[0],i),r=this.lerp(h[1],y[1],i),c=this.lerp(h[2],y[2],i),h=this.lerp(h[3],y[3],i),this.color(s*=x[v][0],r*=x[v][1],c*=x[v][2],h*=x[v][3])},a.default.prototype.lightness=function(s){return a.default._validateParameters("lightness",arguments),this.color(s)._getLightness()},a.default.prototype.red=function(s){return a.default._validateParameters("red",arguments),this.color(s)._getRed()},a.default.prototype.saturation=function(s){return a.default._validateParameters("saturation",arguments),this.color(s)._getSaturation()};var p=a.default;E.default=p},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"./p5.Color":254,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],254:[function(i,U,E){"use strict";function f(x){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(x)}function o(x){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(w){return f(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":f(w)})(x)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.constructor"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.trim"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.constructor"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.trim"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=s(i("../core/main")),d=function(x){if(x&&x.__esModule)return x;if(null===x||"object"!==o(x)&&"function"!=typeof x)return{default:x};var w=p();if(w&&w.has(x))return w.get(x);var C,N={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in x){var F;Object.prototype.hasOwnProperty.call(x,C)&&((F=M?Object.getOwnPropertyDescriptor(x,C):null)&&(F.get||F.set)?Object.defineProperty(N,C,F):N[C]=x[C])}return N.default=x,w&&w.set(x,N),N}(i("../core/constants")),u=s(i("./color_conversion"));function p(){var x;return"function"!=typeof WeakMap?null:(p=function(){return x},x=new WeakMap)}function s(x){return x&&x.__esModule?x:{default:x}}a.default.Color=function(x,w){if(this._storeModeAndMaxes(x._colorMode,x._colorMaxes),this.mode!==d.RGB&&this.mode!==d.HSL&&this.mode!==d.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=a.default.Color._parseInputs.apply(this,w),this._calculateLevels(),this},a.default.Color.prototype.toString=function(x){var w=this.levels,C=this._array,N=C[3];switch(x){case"#rrggbb":return"#".concat(w[0]<16?"0".concat(w[0].toString(16)):w[0].toString(16),w[1]<16?"0".concat(w[1].toString(16)):w[1].toString(16),w[2]<16?"0".concat(w[2].toString(16)):w[2].toString(16));case"#rrggbbaa":return"#".concat(w[0]<16?"0".concat(w[0].toString(16)):w[0].toString(16),w[1]<16?"0".concat(w[1].toString(16)):w[1].toString(16),w[2]<16?"0".concat(w[2].toString(16)):w[2].toString(16),w[3]<16?"0".concat(w[3].toString(16)):w[3].toString(16));case"#rgb":return"#".concat(Math.round(15*C[0]).toString(16),Math.round(15*C[1]).toString(16),Math.round(15*C[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*C[0]).toString(16),Math.round(15*C[1]).toString(16),Math.round(15*C[2]).toString(16),Math.round(15*C[3]).toString(16));case"rgb":return"rgb(".concat(w[0],", ",w[1],", ",w[2],")");case"rgb%":return"rgb(".concat((100*C[0]).toPrecision(3),"%, ",(100*C[1]).toPrecision(3),"%, ",(100*C[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*C[0]).toPrecision(3),"%, ",(100*C[1]).toPrecision(3),"%, ",(100*C[2]).toPrecision(3),"%, ",(100*C[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[d.HSB][0],", ",this.hsba[1]*this.maxes[d.HSB][1],", ",this.hsba[2]*this.maxes[d.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[d.HSB][0],", ",this.hsba[1]*this.maxes[d.HSB][1],", ",this.hsba[2]*this.maxes[d.HSB][2],", ",N,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*N).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[d.HSL][0],", ",this.hsla[1]*this.maxes[d.HSL][1],", ",this.hsla[2]*this.maxes[d.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[d.HSL][0],", ",this.hsla[1]*this.maxes[d.HSL][1],", ",this.hsla[2]*this.maxes[d.HSL][2],", ",N,")");case"hsla%":return this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*N).toPrecision(3),"%)");default:return"rgba(".concat(w[0],",",w[1],",",w[2],",",N,")")}},a.default.Color.prototype.setRed=function(x){this._array[0]=x/this.maxes[d.RGB][0],this._calculateLevels()},a.default.Color.prototype.setGreen=function(x){this._array[1]=x/this.maxes[d.RGB][1],this._calculateLevels()},a.default.Color.prototype.setBlue=function(x){this._array[2]=x/this.maxes[d.RGB][2],this._calculateLevels()},a.default.Color.prototype.setAlpha=function(x){this._array[3]=x/this.maxes[this.mode][3],this._calculateLevels()},a.default.Color.prototype._calculateLevels=function(){for(var x=this._array,w=this.levels=new Array(x.length),C=x.length-1;0<=C;--C)w[C]=Math.round(255*x[C]);this.hsla=null,this.hsba=null},a.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},a.default.Color.prototype._storeModeAndMaxes=function(x,w){this.mode=x,this.maxes=w},a.default.Color.prototype._getMode=function(){return this.mode},a.default.Color.prototype._getMaxes=function(){return this.maxes},a.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[d.RGB][2]},a.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[d.HSB][2]},a.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[d.RGB][1]},a.default.Color.prototype._getHue=function(){return this.mode===d.HSB?(this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[d.HSB][0]):(this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[d.HSL][0])},a.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[d.HSL][2]},a.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[d.RGB][0]},a.default.Color.prototype._getSaturation=function(){return this.mode===d.HSB?(this.hsba||(this.hsba=u.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[d.HSB][1]):(this.hsla||(this.hsla=u.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[d.HSL][1])};var r={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},v=(i=/\s*/,/(\d{1,3})/),c=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,h=new RegExp("".concat(c.source,"%")),y={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",v.source,",",v.source,",",v.source,"\\)$"].join(i.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",h.source,",",h.source,",",h.source,"\\)$"].join(i.source),"i"),RGBA:new RegExp(["^rgba\\(",v.source,",",v.source,",",v.source,",",c.source,"\\)$"].join(i.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",h.source,",",h.source,",",h.source,",",c.source,"\\)$"].join(i.source),"i"),HSL:new RegExp(["^hsl\\(",v.source,",",h.source,",",h.source,"\\)$"].join(i.source),"i"),HSLA:new RegExp(["^hsla\\(",v.source,",",h.source,",",h.source,",",c.source,"\\)$"].join(i.source),"i"),HSB:new RegExp(["^hsb\\(",v.source,",",h.source,",",h.source,"\\)$"].join(i.source),"i"),HSBA:new RegExp(["^hsba\\(",v.source,",",h.source,",",h.source,",",c.source,"\\)$"].join(i.source),"i")};a.default.Color._parseInputs=function(x,w,C,N){var M,F=arguments.length,j=this.mode,B=this.maxes[j],G=[];if(3<=F){for(G[0]=x/B[0],G[1]=w/B[1],G[2]=C/B[2],G[3]="number"==typeof N?N/B[3]:1,M=G.length-1;0<=M;--M){var ee=G[M];ee<0?G[M]=0:1<ee&&(G[M]=1)}return j===d.HSL?u.default._hslaToRGBA(G):j===d.HSB?u.default._hsbaToRGBA(G):G}if(1===F&&"string"==typeof x){if(C=x.trim().toLowerCase(),r[C])return a.default.Color._parseInputs.call(this,r[C]);if(y.HEX3.test(C))return(G=y.HEX3.exec(C).slice(1).map(function($){return parseInt($+$,16)/255}))[3]=1,G;if(y.HEX6.test(C))return(G=y.HEX6.exec(C).slice(1).map(function($){return parseInt($,16)/255}))[3]=1,G;if(y.HEX4.test(C))return y.HEX4.exec(C).slice(1).map(function($){return parseInt($+$,16)/255});if(y.HEX8.test(C))return y.HEX8.exec(C).slice(1).map(function($){return parseInt($,16)/255});if(y.RGB.test(C))return(G=y.RGB.exec(C).slice(1).map(function($){return $/255}))[3]=1,G;if(y.RGB_PERCENT.test(C))return(G=y.RGB_PERCENT.exec(C).slice(1).map(function($){return parseFloat($)/100}))[3]=1,G;if(y.RGBA.test(C))return y.RGBA.exec(C).slice(1).map(function($,H){return 3===H?parseFloat($):$/255});if(y.RGBA_PERCENT.test(C))return y.RGBA_PERCENT.exec(C).slice(1).map(function($,H){return 3===H?parseFloat($):parseFloat($)/100});if(y.HSL.test(C)?(G=y.HSL.exec(C).slice(1).map(function($,H){return 0===H?parseInt($,10)/360:parseInt($,10)/100}))[3]=1:y.HSLA.test(C)&&(G=y.HSLA.exec(C).slice(1).map(function($,H){return 0===H?parseInt($,10)/360:3===H?parseFloat($):parseInt($,10)/100})),(G=G.map(function($){return Math.max(Math.min($,1),0)})).length)return u.default._hslaToRGBA(G);if(y.HSB.test(C)?(G=y.HSB.exec(C).slice(1).map(function($,H){return 0===H?parseInt($,10)/360:parseInt($,10)/100}))[3]=1:y.HSBA.test(C)&&(G=y.HSBA.exec(C).slice(1).map(function($,H){return 0===H?parseInt($,10)/360:3===H?parseFloat($):parseInt($,10)/100})),G.length){for(M=G.length-1;0<=M;--M)G[M]=Math.max(Math.min(G[M],1),0);return u.default._hsbaToRGBA(G)}G=[1,1,1,1]}else{if(1!==F&&2!==F||"number"!=typeof x)throw new Error("".concat(arguments,"is not a valid color representation."));G[0]=x/B[2],G[1]=x/B[2],G[2]=x/B[2],G[3]="number"==typeof w?w/B[3]:1,G=G.map(function($){return Math.max(Math.min($,1),0)})}return G},E.default=v=a.default.Color},{"../core/constants":256,"../core/main":267,"./color_conversion":252,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],255:[function(e,U,E){"use strict";function f(s){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(s)}function o(s){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(r){return f(r)}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":f(r)})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.fill"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=(p=e("../core/main"))&&p.__esModule?p:{default:p},d=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==o(s)&&"function"!=typeof s)return{default:s};var r=u();if(r&&r.has(s))return r.get(s);var i,c={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in s){var y;Object.prototype.hasOwnProperty.call(s,i)&&((y=h?Object.getOwnPropertyDescriptor(s,i):null)&&(y.get||y.set)?Object.defineProperty(c,i,y):c[i]=s[i])}return c.default=s,r&&r.set(s,c),c}(e("../core/constants"));function u(){var s;return"function"!=typeof WeakMap?null:(u=function(){return s},s=new WeakMap)}e("./p5.Color"),a.default.prototype.background=function(){var s;return(s=this._renderer).background.apply(s,arguments),this},a.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},a.default.prototype.colorMode=function(s,r,i,c,h){return a.default._validateParameters("colorMode",arguments),s!==d.RGB&&s!==d.HSB&&s!==d.HSL||(this._colorMode=s,s=this._colorMaxes[s],2===arguments.length?(s[0]=r,s[1]=r,s[2]=r,s[3]=r):4===arguments.length?(s[0]=r,s[1]=i,s[2]=c):5===arguments.length&&(s[0]=r,s[1]=i,s[2]=c,s[3]=h)),this},a.default.prototype.fill=function(){var s;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(s=this._renderer).fill.apply(s,arguments),this},a.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},a.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},a.default.prototype.stroke=function(){var s;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(s=this._renderer).stroke.apply(s,arguments),this},a.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this},a.default.prototype.noErase=function(){return this._renderer.noErase(),this};var p=a.default;E.default=p},{"../core/constants":256,"../core/main":267,"./p5.Color":254,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],256:[function(e,U,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.BEZIER=E.QUADRATIC=E.LINEAR=E._CTX_MIDDLE=E._DEFAULT_LEADMULT=E._DEFAULT_TEXT_FILL=E.WORD=E.CHAR=E.BOLDITALIC=E.BOLD=E.ITALIC=E.NORMAL=E.BLUR=E.ERODE=E.DILATE=E.POSTERIZE=E.INVERT=E.OPAQUE=E.GRAY=E.THRESHOLD=E.BURN=E.DODGE=E.SOFT_LIGHT=E.HARD_LIGHT=E.OVERLAY=E.REPLACE=E.SCREEN=E.MULTIPLY=E.EXCLUSION=E.SUBTRACT=E.DIFFERENCE=E.LIGHTEST=E.DARKEST=E.ADD=E.REMOVE=E.BLEND=E.UP_ARROW=E.TAB=E.SHIFT=E.RIGHT_ARROW=E.RETURN=E.OPTION=E.LEFT_ARROW=E.ESCAPE=E.ENTER=E.DOWN_ARROW=E.DELETE=E.CONTROL=E.BACKSPACE=E.ALT=E.AUTO=E.HSL=E.HSB=E.RGB=E.MITER=E.BEVEL=E.ROUND=E.SQUARE=E.PROJECT=E.PIE=E.CHORD=E.OPEN=E.CLOSE=E.TESS=E.QUAD_STRIP=E.QUADS=E.TRIANGLE_STRIP=E.TRIANGLE_FAN=E.TRIANGLES=E.LINE_LOOP=E.LINE_STRIP=E.LINES=E.POINTS=E.BASELINE=E.BOTTOM=E.TOP=E.CENTER=E.LEFT=E.RIGHT=E.RADIUS=E.CORNERS=E.CORNER=E.RAD_TO_DEG=E.DEG_TO_RAD=E.RADIANS=E.DEGREES=E.TWO_PI=E.TAU=E.QUARTER_PI=E.PI=E.HALF_PI=E.WAIT=E.TEXT=E.MOVE=E.HAND=E.CROSS=E.ARROW=E.WEBGL=E.P2D=E.VERSION=void 0,E.COVER=E.CONTAIN=E.FALLBACK=E.LABEL=E.AXES=E.GRID=E._DEFAULT_FILL=E._DEFAULT_STROKE=E.PORTRAIT=E.LANDSCAPE=E.MIRROR=E.CLAMP=E.REPEAT=E.NEAREST=E.IMAGE=E.IMMEDIATE=E.TEXTURE=E.FILL=E.STROKE=E.CURVE=void 0;var f=Math.PI,o=(E.VERSION="1.5.0",E.P2D="p2d",E.WEBGL="webgl",E.ARROW="default",E.CROSS="crosshair",E.HAND="pointer",E.MOVE="move",E.TEXT="text",E.WAIT="wait",f/2);E.HALF_PI=o,E.PI=o=f,E.QUARTER_PI=o=f/4,E.TAU=o=2*f,E.TWO_PI=o=2*f,E.DEGREES="degrees",E.RADIANS="radians",E.DEG_TO_RAD=o=f/180,E.RAD_TO_DEG=o=180/f,E.CORNER="corner",E.CORNERS="corners",E.RADIUS="radius",E.RIGHT="right",E.LEFT="left",E.CENTER="center",E.TOP="top",E.BOTTOM="bottom",E.BASELINE="alphabetic",E.POINTS=0,E.LINES=1,E.LINE_STRIP=3,E.LINE_LOOP=2,E.TRIANGLES=4,E.TRIANGLE_FAN=6,E.TRIANGLE_STRIP=5,E.QUADS="quads",E.QUAD_STRIP="quad_strip",E.TESS="tess",E.CLOSE="close",E.OPEN="open",E.CHORD="chord",E.PIE="pie",E.PROJECT="square",E.SQUARE="butt",E.ROUND="round",E.BEVEL="bevel",E.MITER="miter",E.RGB="rgb",E.HSB="hsb",E.HSL="hsl",E.AUTO="auto",E.ALT=18,E.BACKSPACE=8,E.CONTROL=17,E.DELETE=46,E.DOWN_ARROW=40,E.ENTER=13,E.ESCAPE=27,E.LEFT_ARROW=37,E.OPTION=18,E.RETURN=13,E.RIGHT_ARROW=39,E.SHIFT=16,E.TAB=9,E.UP_ARROW=38,E.BLEND="source-over",E.REMOVE="destination-out",E.ADD="lighter",E.DARKEST="darken",E.LIGHTEST="lighten",E.DIFFERENCE="difference",E.SUBTRACT="subtract",E.EXCLUSION="exclusion",E.MULTIPLY="multiply",E.SCREEN="screen",E.REPLACE="copy",E.OVERLAY="overlay",E.HARD_LIGHT="hard-light",E.SOFT_LIGHT="soft-light",E.DODGE="color-dodge",E.BURN="color-burn",E.THRESHOLD="threshold",E.GRAY="gray",E.OPAQUE="opaque",E.INVERT="invert",E.POSTERIZE="posterize",E.DILATE="dilate",E.ERODE="erode",E.BLUR="blur",E.NORMAL="normal",E.ITALIC="italic",E.BOLD="bold",E.BOLDITALIC="bold italic",E.CHAR="CHAR",E.WORD="WORD",E._DEFAULT_TEXT_FILL="#000000",E._DEFAULT_LEADMULT=1.25,E._CTX_MIDDLE="middle",E.LINEAR="linear",E.QUADRATIC="quadratic",E.BEZIER="bezier",E.CURVE="curve",E.STROKE="stroke",E.FILL="fill",E.TEXTURE="texture",E.IMMEDIATE="immediate",E.IMAGE="image",E.NEAREST="nearest",E.REPEAT="repeat",E.CLAMP="clamp",E.MIRROR="mirror",E.LANDSCAPE="landscape",E.PORTRAIT="portrait",E._DEFAULT_STROKE="#000000",E._DEFAULT_FILL="#FFFFFF",E.GRID="grid",E.AXES="axes",E.LABEL="label",E.FALLBACK="fallback",E.CONTAIN="contain",E.COVER="cover"},{}],257:[function(e,U,E){"use strict";function f(c){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function o(c){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(h){return f(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":f(h)})(c)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=(d=e("./main"))&&d.__esModule?d:{default:d},d=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==o(c)&&"function"!=typeof c)return{default:c};var h=u();if(h&&h.has(c))return h.get(c);var y,v={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in c){var w;Object.prototype.hasOwnProperty.call(c,y)&&((w=x?Object.getOwnPropertyDescriptor(c,y):null)&&(w.get||w.set)?Object.defineProperty(v,y,w):v[y]=c[y])}return v.default=c,h&&h.set(c,v),v}(e("./constants"));function u(){var c;return"function"!=typeof WeakMap?null:(u=function(){return c},c=new WeakMap)}var p=[d.ARROW,d.CROSS,d.HAND,d.MOVE,d.TEXT,d.WAIT],s=(a.default.prototype._frameRate=0,a.default.prototype._lastFrameTime=window.performance.now(),a.default.prototype._targetFrameRate=60,window.print);function r(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function i(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}a.default.prototype.print=function(){var c;arguments.length?(c=console).log.apply(c,arguments):s()},a.default.prototype.frameCount=0,a.default.prototype.deltaTime=0,a.default.prototype.focused=document.hasFocus(),a.default.prototype.cursor=function(c,h,y){var v,x="auto",w=this._curElement.elt;p.includes(c)?x=c:"string"==typeof c&&(v="",h&&y&&"number"==typeof h&&"number"==typeof y&&(v="".concat(h," ").concat(y)),x="http://"===c.substring(0,7)||"https://"===c.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(c)?"url(".concat(c,") ").concat(v,", auto"):c),w.style.cursor=x},a.default.prototype.frameRate=function(c){return a.default._validateParameters("frameRate",arguments),"number"!=typeof c||c<0?this._frameRate:(this._setProperty("_targetFrameRate",c),0===c&&this._setProperty("_frameRate",c),this)},a.default.prototype.getFrameRate=function(){return this.frameRate()},a.default.prototype.setFrameRate=function(c){return this.frameRate(c)},a.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},a.default.prototype.displayWidth=screen.width,a.default.prototype.displayHeight=screen.height,a.default.prototype.windowWidth=r(),a.default.prototype.windowHeight=i(),a.default.prototype._onresize=function(c){this._setProperty("windowWidth",r()),this._setProperty("windowHeight",i());var h=this._isGlobal?window:this;"function"!=typeof h.windowResized||void 0===(h=h.windowResized(c))||h||c.preventDefault()},a.default.prototype.width=0,a.default.prototype.height=0,a.default.prototype.fullscreen=function(c){if(a.default._validateParameters("fullscreen",arguments),void 0===c)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(c){if(c=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");c.requestFullscreen?c.requestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.webkitRequestFullscreen?c.webkitRequestFullscreen():c.msRequestFullscreen&&c.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},a.default.prototype.pixelDensity=function(c){var h;return a.default._validateParameters("pixelDensity",arguments),"number"==typeof c?(c!==this._pixelDensity&&(this._pixelDensity=c),(h=this).resizeCanvas(this.width,this.height,!0)):h=this._pixelDensity,h},a.default.prototype.displayDensity=function(){return window.devicePixelRatio},a.default.prototype.getURL=function(){return location.href},a.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(c){return""!==c})},a.default.prototype.getURLParams=function(){for(var c,h=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,y={};null!=(c=h.exec(location.search));)c.index===h.lastIndex&&h.lastIndex++,y[c[1]]=c[2];return y},E.default=e=a.default},{"./constants":256,"./main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],258:[function(e,U,E){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(p=e("../main"))&&p.__esModule?p:{default:p};function o(s,r){r=r||console.log.bind(console),a||u(),a.some(function(i){var c;if(s.message&&null!==s.message.match("\\W?".concat(i.name,"\\W")))return c="function"===i.type?"".concat(i.name,"()"):i.name,r("Did you just try to use p5.js's ".concat(c," ").concat(i.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(d)),!0})}e("../internationalization");var a=null,u=null,d=(f.default._friendlyError=f.default._checkForUserDefinedFunctions=f.default._fesErrorMonitor=function(){},a=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),p=(u=function(){function s(i){return Object.getOwnPropertyNames(i).filter(function(c){return"_"!==c[0]&&!(c in r)&&(r[c]=!0)}).map(function(c){var h="function"==typeof i[c]?"function":c===c.toUpperCase()?"constant":"variable";return{name:c,type:h}})}var r={};(a=[].concat(s(f.default.prototype),s(e("../constants")))).sort(function(i,c){return c.name.length-i.name.length})},f.default.prototype._helpForMisusedAtTopLevelCode=o,"complete"!==document.readyState&&(window.addEventListener("error",o,!1),window.addEventListener("load",function(){window.removeEventListener("error",o,!1)})),f.default);E.default=p},{"../constants":256,"../internationalization":265,"../main":267,"./browser_errors":void 0,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.function.name":165,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],259:[function(e,U,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(f=e("../main"))&&f.__esModule?f:{default:f};e("../internationalization"),f.default._friendlyFileLoadError=function(){},E.default=e=f.default},{"../internationalization":265,"../main":267}],260:[function(e,U,E){"use strict";function f(q){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(K){return typeof K}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K})(q)}function o(q){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(K){return f(K)}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":f(K)})(q)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=function te(q){return q&&q.__esModule?q:{default:q}}(e("../main"));function oe(){var q;return"function"!=typeof WeakMap?null:(oe=function(){return q},q=new WeakMap)}e("../internationalization"),function Q(q){if(q&&q.__esModule)return q;if(null===q||"object"!==o(q)&&"function"!=typeof q)return{default:q};var K=oe();if(K&&K.has(q))return K.get(q);var we,Fe,Te={},Ie=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in q)Object.prototype.hasOwnProperty.call(q,we)&&((Fe=Ie?Object.getOwnPropertyDescriptor(q,we):null)&&(Fe.get||Fe.set)?Object.defineProperty(Te,we,Fe):Te[we]=q[we]);return Te.default=q,K&&K.set(q,Te),Te}(e("../constants")),a.default._fesCodeReader=function(){},E.default=a.default},{"../constants":256,"../internationalization":265,"../main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],261:[function(e,U,E){"use strict";function f(){var o=/(^|@)\S+:\d+/,a=/^\s*at .*(\S+:\d+|\(native\))/m,d=/^(eval@)?(\[native code])?$/;return{parse:function(u){return void 0!==u.stacktrace||void 0!==u["opera#sourceloc"]?this.parseOpera(u):u.stack&&u.stack.match(a)?this.parseV8OrIE(u):u.stack?this.parseFFOrSafari(u):void 0},extractLocation:function(u){return-1===u.indexOf(":")?[u]:[(u=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(u.replace(/[()]/g,"")))[1],u[2]||void 0,u[3]||void 0]},parseV8OrIE:function(u){return u.stack.split("\n").filter(function(p){return!!p.match(a)},this).map(function(p){var r=(s=(p=-1<p.indexOf("(eval ")?p.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):p).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),s=(s=r?s.replace(r[0],""):s).split(/\s+/).slice(1);return r=this.extractLocation(r?r[1]:s.pop()),{functionName:s.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(r[0])?void 0:r[0],lineNumber:r[1],columnNumber:r[2],source:p}},this)},parseFFOrSafari:function(u){return u.stack.split("\n").filter(function(p){return!p.match(d)},this).map(function(p){var s,r;return-1===(p=-1<p.indexOf(" > eval")?p.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):p).indexOf("@")&&-1===p.indexOf(":")?{functionName:p}:{functionName:(r=p.match(s=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&r[1]?r[1]:void 0,fileName:(r=this.extractLocation(p.replace(s,"")))[0],lineNumber:r[1],columnNumber:r[2],source:p}},this)},parseOpera:function(u){return!u.stacktrace||-1<u.message.indexOf("\n")&&u.message.split("\n").length>u.stacktrace.split("\n").length?this.parseOpera9(u):u.stack?this.parseOpera11(u):this.parseOpera10(u)},parseOpera9:function(u){for(var p=/Line (\d+).*script (?:in )?(\S+)/i,s=u.message.split("\n"),r=[],i=2,c=s.length;i<c;i+=2){var h=p.exec(s[i]);h&&r.push({fileName:h[2],lineNumber:h[1],source:s[i]})}return r},parseOpera10:function(u){for(var p=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,s=u.stacktrace.split("\n"),r=[],i=0,c=s.length;i<c;i+=2){var h=p.exec(s[i]);h&&r.push({functionName:h[3]||void 0,fileName:h[2],lineNumber:h[1],source:s[i]})}return r},parseOpera11:function(u){return u.stack.split("\n").filter(function(p){return!!p.match(o)&&!p.match(/^Error created at/)},this).map(function(p){var s,i=p.split("@"),r=this.extractLocation(i.pop());return{functionName:(i=i.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(s=i.match(/\(([^)]*)\)/)?i.replace(/^[^(]+\(([^)]*)\)$/,"$1"):s)||"[arguments not available]"===s?void 0:s.split(","),fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:p}},this)}}}e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,(e=(e=e("../main"))&&e.__esModule?e:{default:e}).default._getErrorStackParser=function(){return new f},E.default=e=e.default},{"../main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191}],262:[function(e,U,E){"use strict";function f(u){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(u)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var o=(o=e("../main"))&&o.__esModule?o:{default:o};function a(){var u;return"function"!=typeof WeakMap?null:(a=function(){return u},u=new WeakMap)}function d(u){return(d="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(p){return f(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":f(p)})(u)}(function(u){if(!(u&&u.__esModule||null===u||"object"!==d(u)&&"function"!=typeof u)){var p=a();if(p&&p.has(u))return p.get(u);var s,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in u){var c;Object.prototype.hasOwnProperty.call(u,s)&&((c=i?Object.getOwnPropertyDescriptor(u,s):null)&&(c.get||c.set)?Object.defineProperty(r,s,c):r[s]=u[s])}r.default=u,p&&p.set(u,r)}})(e("../constants")),e("../internationalization"),o.default._validateParameters=o.default._clearValidateParamsCache=function(){},E.default=e=o.default},{"../../../docs/parameterData.json":void 0,"../constants":256,"../internationalization":265,"../main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.map":166,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],263:[function(e,U,E){"use strict";function f(u){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(u)}function o(u){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(p){return f(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":f(p)})(u)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==o(u)&&"function"!=typeof u)return{default:u};var p=d();if(p&&p.has(u))return p.get(u);var s,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in u){var c;Object.prototype.hasOwnProperty.call(u,s)&&((c=i?Object.getOwnPropertyDescriptor(u,s):null)&&(c.get||c.set)?Object.defineProperty(r,s,c):r[s]=u[s])}return r.default=u,p&&p.set(u,r),r}(e("./constants"));function d(){var u;return"function"!=typeof WeakMap?null:(d=function(){return u},u=new WeakMap)}E.default={modeAdjust:function(u,p,s,r,i){return i===a.CORNER?{x:u,y:p,w:s,h:r}:i===a.CORNERS?{x:u,y:p,w:s-u,h:r-p}:i===a.RADIUS?{x:u-s,y:p-r,w:2*s,h:2*r}:i===a.CENTER?{x:u-.5*s,y:p-.5*r,w:s,h:r}:void 0}}},{"./constants":256,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],264:[function(e,U,E){"use strict";e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var f=(o=e("../core/main"))&&o.__esModule?o:{default:o};e("./internationalization");var o=Promise.resolve();Promise.all([new Promise(function(a,d){"complete"===document.readyState?a():window.addEventListener("load",a,!1)}),o]).then(function(){void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!f.default.instance&&new f.default})},{"../core/main":267,"./internationalization":265,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/web.dom-collections.iterator":230}],265:[function(e,U,E){"use strict";e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.setTranslatorLanguage=E.currentTranslatorLanguage=E.availableTranslatorLanguages=E.initialize=E.translator=void 0;var f,a=u(e("i18next")),d=u(e("i18next-browser-languagedetector"));function u(r){return r&&r.__esModule?r:{default:r}}function p(r,i){for(var c=0;c<i.length;c++){var h=i[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(r,h.key,h)}}var s=function(){function r(y,v){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.init(y,v)}var i,c;return i=r,(c=[{key:"fetchWithTimeout",value:function(y,v){var x=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3;return Promise.race([fetch(y,v),new Promise(function(w,C){return setTimeout(function(){return C(new Error("timeout"))},x)})])}},{key:"init",value:function(y){var v=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.services=y,this.options=v}},{key:"read",value:function(y,v,x){var w=this.options.loadPath;y===this.options.fallback?x(null,f[y][v]):undefined.includes(y)?(w=this.services.interpolator.interpolate(w,{lng:y,ns:v}),this.loadUrl(w,x)):x("Not found",!1)}},{key:"loadUrl",value:function(y,v){this.fetchWithTimeout(y).then(function(x){if(x.ok)return x.json();throw new Error("failed loading ".concat(y))},function(){throw new Error("failed loading ".concat(y))}).then(function(x){return v(null,x)}).catch(v)}}])&&p(i.prototype,c),r}();s.type="backend",E.translator=function(r,i){console.debug("p5.js translator called before translations were loaded"),a.default.t(r,i)},E.initialize=function(){return a.default.use(d.default).use(s).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:f}).then(function(r){E.translator=r},function(r){return console.debug("Translations failed to load (".concat(r,")"))})},E.availableTranslatorLanguages=function(){return a.default.languages},E.currentTranslatorLanguage=function(r){return a.default.language},E.setTranslatorLanguage=function(r){return a.default.changeLanguage(r||void 0,function(i){return console.debug("Translations failed to load (".concat(i,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/web.dom-collections.iterator":230,i18next:3,"i18next-browser-languagedetector":3}],266:[function(e,U,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,(e=(e=e("./main"))&&e.__esModule?e:{default:e}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},e.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},e.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},e.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},E.default=e=e.default},{"./main":267}],267:[function(e,U,E){"use strict";function f(r){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(r)}function o(r){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(i){return f(i)}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":f(i)})(r)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,e("./shim");var a=function(r){if(r&&r.__esModule)return r;if(null===r||"object"!==o(r)&&"function"!=typeof r)return{default:r};var i=d();if(i&&i.has(r))return i.get(r);var c,h={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in r){var v;Object.prototype.hasOwnProperty.call(r,c)&&((v=y?Object.getOwnPropertyDescriptor(r,c):null)&&(v.get||v.set)?Object.defineProperty(h,c,v):h[c]=r[c])}return h.default=r,i&&i.set(r,h),h}(e("./constants"));function d(){var r;return"function"!=typeof WeakMap?null:(d=function(){return r},r=new WeakMap)}function u(r,i){for(var c=0;c<i.length;c++){var h=i[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(r,h.key,h)}}var p,s=function(){function r(y,C,x){var w=this;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=C,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},C=Object.getOwnPropertyNames(r.prototype._registeredMethods);var N=!0,M=!1,F=void 0;try{for(var j,B=C[Symbol.iterator]();!(N=(j=B.next()).done);N=!0){var G=j.value;this._registeredMethods[G]=r.prototype._registeredMethods[G].slice()}}catch(ce){M=!0,F=ce}finally{try{N||null==B.return||B.return()}finally{if(M)throw F}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){w._userNode&&"string"==typeof w._userNode&&(w._userNode=document.getElementById(w._userNode));var ce=w._isGlobal?window:w;if(ce.preload){var he,Ae=document.getElementById(w._loadingScreenId),A=(Ae||((Ae=document.createElement("div")).innerHTML="Loading...",Ae.style.position="absolute",Ae.id=w._loadingScreenId,(w._userNode||document.body).appendChild(Ae)),w._preloadMethods);for(he in A){A[he]=A[he]||r;var q=A[he];q!==r.prototype&&q!==r||(w._isGlobal&&(window[he]=w._wrapPreload(w,he)),q=w),w._registeredPreloadMethods[he]=q[he],q[he]=w._wrapPreload(q,he)}ce.preload(),w._runIfPreloadsAreDone()}else w._setup(),w._draw()},this._runIfPreloadsAreDone=function(){var ce,he=this._isGlobal?window:this;0===he._preloadCount&&((ce=document.getElementById(he._loadingScreenId))&&ce.parentNode.removeChild(ce),this._setupDone||(this._lastFrameTime=window.performance.now(),he._setup(),he._draw()))},this._decrementPreload=function(){var ce=this._isGlobal?window:this;ce._preloadDone||"function"!=typeof ce.preload||(ce._setProperty("_preloadCount",ce._preloadCount-1),ce._runIfPreloadsAreDone())},this._wrapPreload=function(ce,he){var Ae=this;return function(){Ae._incrementPreload();for(var A=arguments.length,q=new Array(A),K=0;K<A;K++)q[K]=arguments[K];return Ae._registeredPreloadMethods[he].apply(ce,q)}},this._incrementPreload=function(){var ce=this._isGlobal?window:this;ce._preloadDone||ce._setProperty("_preloadCount",ce._preloadCount+1)},this._setup=function(){w.createCanvas(w._defaultCanvasSize.width,w._defaultCanvasSize.height,"p2d");var ce=w._isGlobal?window:w;if("function"==typeof ce.preload)for(var he in w._preloadMethods)ce[he]=w._preloadMethods[he][he],ce[he]&&w&&(ce[he]=ce[he].bind(w));w._millisStart=window.performance.now(),ce._preloadDone=!0,"function"==typeof ce.setup&&ce.setup();var Ae=document.getElementsByTagName("canvas"),A=!0,q=!1,K=void 0;try{for(var we,Fe=Ae[Symbol.iterator]();!(A=(we=Fe.next()).done);A=!0){var Te=we.value;"true"===Te.dataset.hidden&&(Te.style.visibility="",delete Te.dataset.hidden)}}catch(Ie){q=!0,K=Ie}finally{try{A||null==Fe.return||Fe.return()}finally{if(q)throw K}}w._lastFrameTime=window.performance.now(),w._setupDone=!0,(w._accessibleOutputs.grid||w._accessibleOutputs.text)&&w._updateAccsOutput()},this._draw=function(){var ce=window.performance.now();(!w._loop||1e3/w._targetFrameRate-5<=ce-w._lastFrameTime)&&(w.redraw(),w._frameRate=1e3/(ce-w._lastFrameTime),w.deltaTime=ce-w._lastFrameTime,w._setProperty("deltaTime",w.deltaTime),w._lastFrameTime=ce,void 0!==w._updateMouseCoords&&(w._updateMouseCoords(),w._setProperty("movedX",0),w._setProperty("movedY",0))),w._loop&&(w._requestAnimId=window.requestAnimationFrame(w._draw))},this._setProperty=function(ce,he){w[ce]=he,w._isGlobal&&(window[ce]=he)},this.remove=function(){if((ce=document.getElementById(w._loadingScreenId))&&(ce.parentNode.removeChild(ce),w._incrementPreload()),w._curElement){for(var he in w._loop=!1,w._requestAnimId&&window.cancelAnimationFrame(w._requestAnimId),w._events)window.removeEventListener(he,w._events[he]);var Ae=!0,ce=!1,A=void 0;try{for(var q,K=w._elements[Symbol.iterator]();!(Ae=(q=K.next()).done);Ae=!0){var we,Fe=q.value;for(we in Fe.elt&&Fe.elt.parentNode&&Fe.elt.parentNode.removeChild(Fe.elt),Fe._events)Fe.elt.removeEventListener(we,Fe._events[we])}}catch(et){ce=!0,A=et}finally{try{Ae||null==K.return||K.return()}finally{if(ce)throw A}}var Te=w;w._registeredMethods.remove.forEach(function(et){void 0!==et&&et.call(Te)})}if(w._isGlobal){for(var Ie in r.prototype)try{delete window[Ie]}catch(Ue){window[Ie]=void 0}for(var Ve in w)if(w.hasOwnProperty(Ve))try{delete window[Ve]}catch(Ue){window[Ve]=void 0}r.instance=null}},this._registeredMethods.init.forEach(function(ce){void 0!==ce&&ce.call(this)},this),this._setupPromisePreloads();var ee,$,H=this._createFriendlyGlobalFunctionBinder();if(y)y(this),r._checkForUserDefinedFunctions(this);else{for(var Z in this._isGlobal=!0,r.instance=this,r.prototype)"function"==typeof r.prototype[Z]?(ee=Z.substring(2),this._events.hasOwnProperty(ee)||(Math.hasOwnProperty(Z)&&Math[Z]===r.prototype[Z]?H(Z,r.prototype[Z]):H(Z,r.prototype[Z].bind(this)))):H(Z,r.prototype[Z]);for(var oe in this)this.hasOwnProperty(oe)&&H(oe,this[oe])}for($ in this._events){var Q=this["_on".concat($)];Q&&(Q=Q.bind(this),window.addEventListener($,Q,{passive:!1}),this._events[$]=Q)}function te(){w._setProperty("focused",!0)}function me(){w._setProperty("focused",!1)}window.addEventListener("focus",te),window.addEventListener("blur",me),this.registerMethod("remove",function(){window.removeEventListener("focus",te),window.removeEventListener("blur",me)}),"complete"===document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)}var i,c;return i=r,(c=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=a.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(y,v){r.prototype._preloadMethods.hasOwnProperty(y)||(r.prototype._preloadMethods[y]=v)}},{key:"registerMethod",value:function(y,v){var x=this||r.prototype;x._registeredMethods.hasOwnProperty(y)||(x._registeredMethods[y]=[]),x._registeredMethods[y].push(v)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var y=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},v=y.globalObject||window;return y.log||console.log.bind(console),function(x,w){v[x]=w}}}])&&u(i.prototype,c),r}();for(p in s.instance=null,s.disableFriendlyErrors=!1,a)s.prototype[p]=a[p];s.VERSION=a.VERSION,s.prototype._preloadMethods={loadJSON:s.prototype,loadImage:s.prototype,loadStrings:s.prototype,loadXML:s.prototype,loadBytes:s.prototype,loadTable:s.prototype,loadFont:s.prototype,loadModel:s.prototype,loadShader:s.prototype},s.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},s.prototype._registeredPreloadMethods={},E.default=s},{"./constants":256,"./shim":278,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],268:[function(e,U,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(e=e("./main"))&&e.__esModule?e:{default:e};f.default.Element=function(o,a){this.elt=o,this._pInst=this._pixelsState=a,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},f.default.Element.prototype.parent=function(o){return void 0===o?this.elt.parentNode:("string"==typeof o?("#"===o[0]&&(o=o.substring(1)),o=document.getElementById(o)):o instanceof f.default.Element&&(o=o.elt),o.appendChild(this.elt),this)},f.default.Element.prototype.id=function(o){return void 0===o?this.elt.id:(this.elt.id=o,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},f.default.Element.prototype.class=function(o){return void 0===o?this.elt.className:(this.elt.className=o,this)},f.default.Element.prototype.mousePressed=function(o){return f.default.Element._adjustListener("mousedown",function(a){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(a),o.call(this,a)},this),this},f.default.Element.prototype.doubleClicked=function(o){return f.default.Element._adjustListener("dblclick",o,this),this},f.default.Element.prototype.mouseWheel=function(o){return f.default.Element._adjustListener("wheel",o,this),this},f.default.Element.prototype.mouseReleased=function(o){return f.default.Element._adjustListener("mouseup",o,this),this},f.default.Element.prototype.mouseClicked=function(o){return f.default.Element._adjustListener("click",o,this),this},f.default.Element.prototype.mouseMoved=function(o){return f.default.Element._adjustListener("mousemove",o,this),this},f.default.Element.prototype.mouseOver=function(o){return f.default.Element._adjustListener("mouseover",o,this),this},f.default.Element.prototype.mouseOut=function(o){return f.default.Element._adjustListener("mouseout",o,this),this},f.default.Element.prototype.touchStarted=function(o){return f.default.Element._adjustListener("touchstart",o,this),this},f.default.Element.prototype.touchMoved=function(o){return f.default.Element._adjustListener("touchmove",o,this),this},f.default.Element.prototype.touchEnded=function(o){return f.default.Element._adjustListener("touchend",o,this),this},f.default.Element.prototype.dragOver=function(o){return f.default.Element._adjustListener("dragover",o,this),this},f.default.Element.prototype.dragLeave=function(o){return f.default.Element._adjustListener("dragleave",o,this),this},f.default.Element._adjustListener=function(o,a,d){return!1===a?f.default.Element._detachListener(o,d):f.default.Element._attachListener(o,a,d),this},f.default.Element._attachListener=function(o,a,d){d._events[o]&&f.default.Element._detachListener(o,d),a=a.bind(d),d.elt.addEventListener(o,a,!1),d._events[o]=a},f.default.Element._detachListener=function(o,a){a.elt.removeEventListener(o,a._events[o],!1),a._events[o]=null},f.default.Element.prototype._setProperty=function(o,a){this[o]=a},E.default=e=f.default.Element},{"./main":267}],269:[function(e,U,E){"use strict";function f(s){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(s)}function o(s){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(r){return f(r)}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":f(r)})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.splice"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=(p=e("./main"))&&p.__esModule?p:{default:p},d=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==o(s)&&"function"!=typeof s)return{default:s};var r=u();if(r&&r.has(s))return r.get(s);var i,c={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in s){var y;Object.prototype.hasOwnProperty.call(s,i)&&((y=h?Object.getOwnPropertyDescriptor(s,i):null)&&(y.get||y.set)?Object.defineProperty(c,i,y):c[i]=s[i])}return c.default=s,r&&r.set(s,c),c}(e("./constants"));function u(){var s;return"function"!=typeof WeakMap?null:(u=function(){return s},s=new WeakMap)}a.default.Graphics=function(s,r,y,c){var h;for(h in y=y||d.P2D,this.canvas=document.createElement("canvas"),(c._userNode||document.body).appendChild(this.canvas),a.default.Element.call(this,this.canvas,c),a.default.prototype)this[h]||(this[h]="function"==typeof a.default.prototype[h]?a.default.prototype[h].bind(this):a.default.prototype[h]);return a.default.prototype._initializeInstanceVariables.apply(this),this.width=s,this.height=r,this._pixelDensity=c._pixelDensity,this._renderer=y===d.WEBGL?new a.default.RendererGL(this.canvas,this,!1):new a.default.Renderer2D(this.canvas,this,!1),c._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(s,r),this._renderer._applyDefaults(),this},a.default.Graphics.prototype=Object.create(a.default.Element.prototype),a.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},a.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var s,r=this._pInst._elements.indexOf(this);for(s in-1!==r&&this._pInst._elements.splice(r,1),this._events)this.elt.removeEventListener(s,this._events[s])};var p=a.default.Graphics;E.default=p},{"./constants":256,"./main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],270:[function(e,U,E){"use strict";function f(r){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(r)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var o=(s=e("./main"))&&s.__esModule?s:{default:s},a=function(r){if(r&&r.__esModule)return r;if(null===r||"object"!==u(r)&&"function"!=typeof r)return{default:r};var i=d();if(i&&i.has(r))return i.get(r);var c,h={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in r){var v;Object.prototype.hasOwnProperty.call(r,c)&&((v=y?Object.getOwnPropertyDescriptor(r,c):null)&&(v.get||v.set)?Object.defineProperty(h,c,v):h[c]=r[c])}return h.default=r,i&&i.set(r,h),h}(e("../core/constants"));function d(){var r;return"function"!=typeof WeakMap?null:(d=function(){return r},r=new WeakMap)}function u(r){return(u="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(i){return f(i)}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":f(i)})(r)}function p(r){var i=0,c=0;if(r.offsetParent)for(;i+=r.offsetLeft,c+=r.offsetTop,r=r.offsetParent;);else i+=r.offsetLeft,c+=r.offsetTop;return[i,c]}o.default.Renderer=function(r,i,c){o.default.Element.call(this,r,i),this.canvas=r,this._pixelsState=i,c?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=a.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=a.LEFT,this._textBaseline=a.BASELINE,this._textWrap=a.WORD,this._rectMode=a.CORNER,this._ellipseMode=a.CENTER,this._curveTightness=0,this._imageMode=a.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1,this._leadingSet=!1},o.default.Renderer.prototype=Object.create(o.default.Element.prototype),o.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}},o.default.Renderer.prototype.pop=function(r){r.properties&&Object.assign(this,r.properties)},o.default.Renderer.prototype.resize=function(r,i){this.width=r,this.height=i,this.elt.width=r*this._pInst._pixelDensity,this.elt.height=i*this._pInst._pixelDensity,this.elt.style.width="".concat(r,"px"),this.elt.style.height="".concat(i,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},o.default.Renderer.prototype.get=function(r,i,c,h){var y=this._pixelsState,v=y._pixelDensity,x=this.canvas;if(void 0===r&&void 0===i)r=i=0,c=y.width,h=y.height;else if(r*=v,i*=v,void 0===c&&void 0===h)return r<0||i<0||r>=x.width||i>=x.height?[0,0,0,0]:this._getPixel(r,i);return(y=new o.default.Image(c,h)).canvas.getContext("2d").drawImage(x,r,i,c*v,h*v,0,0,c,h),y},o.default.Renderer.prototype.textLeading=function(r){return"number"==typeof r?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",r),this._pInst):this._textLeading},o.default.Renderer.prototype.textSize=function(r){return"number"==typeof r?(this._setProperty("_textSize",r),this._leadingSet||this._setProperty("_textLeading",r*a._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},o.default.Renderer.prototype.textStyle=function(r){return r?(r!==a.NORMAL&&r!==a.ITALIC&&r!==a.BOLD&&r!==a.BOLDITALIC||this._setProperty("_textStyle",r),this._applyTextProperties()):this._textStyle},o.default.Renderer.prototype.textAscent=function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent},o.default.Renderer.prototype.textDescent=function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent},o.default.Renderer.prototype.textAlign=function(r,i){return void 0!==r?(this._setProperty("_textAlign",r),void 0!==i&&this._setProperty("_textBaseline",i),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},o.default.Renderer.prototype.textWrap=function(r){return this._setProperty("_textWrap",r),this._textWrap},o.default.Renderer.prototype.text=function(r,i,c,h,y){var v,x,w,C,N=this._pInst,M=this._textWrap,F=Number.MAX_VALUE,j=c;if((this._doFill||this._doStroke)&&void 0!==r){if(v=(r=(r="string"!=typeof r?r.toString():r).replace(/(\t)/g,"  ")).split("\n"),void 0!==h){switch(this._rectMode===a.CENTER&&(i-=h/2),this._textAlign){case a.CENTER:i+=h/2;break;case a.RIGHT:i+=h}if(void 0!==y){this._rectMode===a.CENTER&&(c-=y/2),r=c;var B=N.textAscent();switch(this._textBaseline){case a.BOTTOM:C=c+y,c=Math.max(C,c),j+=B;break;case a.CENTER:C=c+y/2,c=Math.max(C,c),j+=B/2}F=c+y-B,this._textBaseline===a.CENTER&&(F=r+y-B/2)}else{if(this._textBaseline===a.BOTTOM)return console.warn("textAlign(*, BOTTOM) requires x, y, width and height");if(this._textBaseline===a.CENTER)return console.warn("textAlign(*, CENTER) requires x, y, width and height")}if(M===a.WORD){for(var G=[],ee=0;ee<v.length;ee++){for(var $="",H=v[ee].split(" "),Z=0;Z<H.length;Z++)x="".concat($+H[Z])+" ",$=h<(w=this.textWidth(x))&&0<$.length?(G.push($),"".concat(H[Z])+" "):x;G.push($)}var oe=0;this._textBaseline===a.CENTER?oe=(G.length-1)*N.textLeading()/2:this._textBaseline===a.BOTTOM&&(oe=(G.length-1)*N.textLeading());for(var Q=0;Q<v.length;Q++){$="",H=v[Q].split(" ");for(var te=0;te<H.length;te++)x="".concat($+H[te])+" ",h<(w=this.textWidth(x))&&0<$.length?(this._renderText(N,$.trim(),i,c-oe,F,j),$="".concat(H[te])+" ",c+=N.textLeading()):$=x;this._renderText(N,$.trim(),i,c-oe,F,j),c+=N.textLeading()}}else{for(var me=[],ce=0;ce<v.length;ce++)for(var he=v[ce].split($=""),Ae=0;Ae<he.length;Ae++)x="".concat($+he[Ae]),(w=this.textWidth(x))<=h?$+=he[Ae]:h<w&&0<$.length&&(me.push($),$="".concat(he[Ae]));me.push($);var A=0;this._textBaseline===a.CENTER?A=(me.length-1)*N.textLeading()/2:this._textBaseline===a.BOTTOM&&(A=(me.length-1)*N.textLeading());for(var q=0;q<v.length;q++){he=v[q].split($="");for(var K=0;K<he.length;K++)x="".concat($+he[K]),(w=this.textWidth(x))<=h?$+=he[K]:h<w&&0<$.length&&(this._renderText(N,$.trim(),i,c-A,F,j),c+=N.textLeading(),$="".concat(he[K]))}this._renderText(N,$.trim(),i,c-A,F,j),c+=N.textLeading()}}else{var we=0;this._textBaseline===a.CENTER?we=(v.length-1)*N.textLeading()/2:this._textBaseline===a.BOTTOM&&(we=(v.length-1)*N.textLeading());for(var Fe=0;Fe<v.length;Fe++)this._renderText(N,v[Fe],i,c-we,F,j),c+=N.textLeading()}return N}},o.default.Renderer.prototype._applyDefaults=function(){return this},o.default.Renderer.prototype._isOpenType=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===u(r)&&r.font&&r.font.supported},o.default.Renderer.prototype._updateTextMetrics=function(){var r,i,c,h,y,v;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((r=document.createElement("span")).style.fontFamily=this._textFont,r.style.fontSize="".concat(this._textSize,"px"),r.innerHTML="ABCjgq|",(v=document.createElement("div")).style.display="inline-block",v.style.width="1px",v.style.height="0px",(i=document.createElement("div")).appendChild(r),i.appendChild(v),i.style.height="0px",i.style.overflow="hidden",document.body.appendChild(i),v.style.verticalAlign="baseline",h=p(v),y=p(r),c=h[1]-y[1],v.style.verticalAlign="bottom",h=p(v),y=p(r),v=h[1]-y[1]-c,document.body.removeChild(i),this._setProperty("_textAscent",c),this._setProperty("_textDescent",v)),this};var s=o.default.Renderer;E.default=s},{"../core/constants":256,"./main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],271:[function(e,U,E){"use strict";function f(r){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(r)}function o(r){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(i){return f(i)}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":f(i)})(r)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=(s=e("./main"))&&s.__esModule?s:{default:s},d=function(r){if(r&&r.__esModule)return r;if(null===r||"object"!==o(r)&&"function"!=typeof r)return{default:r};var i=u();if(i&&i.has(r))return i.get(r);var c,h={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in r){var v;Object.prototype.hasOwnProperty.call(r,c)&&((v=y?Object.getOwnPropertyDescriptor(r,c):null)&&(v.get||v.set)?Object.defineProperty(h,c,v):h[c]=r[c])}return h.default=r,i&&i.set(r,h),h}(e("./constants"));function u(){var r;return"function"!=typeof WeakMap?null:(u=function(){return r},r=new WeakMap)}e("./p5.Renderer");var p="rgba(0,0,0,0)",s=(a.default.Renderer2D=function(r,i,c){return a.default.Renderer.call(this,r,i,c),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},a.default.Renderer2D.prototype=Object.create(a.default.Renderer.prototype),a.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=d.BLEND,this._setFill(d._DEFAULT_FILL),this._setStroke(d._DEFAULT_STROKE),this.drawingContext.lineCap=d.ROUND,this.drawingContext.font="normal 12px sans-serif"},a.default.Renderer2D.prototype.resize=function(r,i){a.default.Renderer.prototype.resize.call(this,r,i),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},a.default.Renderer2D.prototype.background=function(){var r,i;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof a.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(r=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(r,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(r=this._getFill(),i=(i=this._pInst).color.apply(i,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(i.levels),i=i.toString(),this._setFill(i),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(r),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()},a.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},a.default.Renderer2D.prototype.fill=function(){var r=(r=this._pInst).color.apply(r,arguments);this._setFill(r.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",r.levels)},a.default.Renderer2D.prototype.stroke=function(){var r=(r=this._pInst).color.apply(r,arguments);this._setStroke(r.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",r.levels)},a.default.Renderer2D.prototype.erase=function(r,i){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,r=this._pInst.color(255,r).toString(),this.drawingContext.fillStyle=r,this._cachedStrokeStyle=this.drawingContext.strokeStyle,r=this._pInst.color(255,i).toString(),this.drawingContext.strokeStyle=r,i=this._cachedBlendMode,this.blendMode(d.REMOVE),this._cachedBlendMode=i,this._isErasing=!0)},a.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},a.default.Renderer2D.prototype.image=function(r,i,c,h,y,v,x,w,C){r.gifProperties&&r._animateGif(this._pInst);try{var N=(N=this._tint&&r.canvas?this._getTintedImageCanvas(r):N)||r.canvas||r.elt,M=1;r.width&&0<r.width&&(M=N.width/r.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(N,M*i,M*c,M*h,M*y,v,x,w,C),this._isErasing&&this._pInst.erase()}catch(F){if("NS_ERROR_NOT_AVAILABLE"!==F.name)throw F}},a.default.Renderer2D.prototype._getTintedImageCanvas=function(r){if(!r.canvas)return r;r.tintCanvas||(r.tintCanvas=document.createElement("canvas")),r.tintCanvas.width!==r.canvas.width&&(r.tintCanvas.width=r.canvas.width),r.tintCanvas.height!==r.canvas.height&&(r.tintCanvas.height=r.canvas.height);var i=r.tintCanvas.getContext("2d");return i.save(),i.clearRect(0,0,r.canvas.width,r.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(i.drawImage(r.canvas,0,0),i.globalCompositeOperation="luminosity",i.drawImage(r.canvas,0,0),i.globalCompositeOperation="color",i.drawImage(r.canvas,0,0),i.globalCompositeOperation="multiply",i.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),i.fillRect(0,0,r.canvas.width,r.canvas.height),i.globalCompositeOperation="destination-in"),i.globalAlpha=this._tint[3]/255,i.drawImage(r.canvas,0,0),i.restore(),r.tintCanvas},a.default.Renderer2D.prototype.blendMode=function(r){if(r===d.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(r!==d.BLEND&&r!==d.REMOVE&&r!==d.DARKEST&&r!==d.LIGHTEST&&r!==d.DIFFERENCE&&r!==d.MULTIPLY&&r!==d.EXCLUSION&&r!==d.SCREEN&&r!==d.REPLACE&&r!==d.OVERLAY&&r!==d.HARD_LIGHT&&r!==d.SOFT_LIGHT&&r!==d.DODGE&&r!==d.BURN&&r!==d.ADD)throw new Error("Mode ".concat(r," not recognized."));this._cachedBlendMode=r,this.drawingContext.globalCompositeOperation=r}},a.default.Renderer2D.prototype.blend=function(){for(var r=this.drawingContext.globalCompositeOperation,i=arguments.length,c=new Array(i),h=0;h<i;h++)c[h]=arguments[h];var y=c[c.length-1],v=Array.prototype.slice.call(c,0,c.length-1);this.drawingContext.globalCompositeOperation=y,a.default.prototype.copy.apply(this,v),this.drawingContext.globalCompositeOperation=r},a.default.Renderer2D.prototype._getPixel=function(r,i){return[(r=this.drawingContext.getImageData(r,i,1,1).data)[0],r[1],r[2],r[3]]},a.default.Renderer2D.prototype.loadPixels=function(){var i,r=this._pixelsState,c=this.drawingContext.getImageData(0,0,c=this.width*(i=r._pixelDensity),i*=this.height);r._setProperty("imageData",c),r._setProperty("pixels",c.data)},a.default.Renderer2D.prototype.set=function(r,i,c){r=Math.floor(r),i=Math.floor(i);var h=this._pixelsState;if(c instanceof a.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(h._pixelDensity,h._pixelDensity),this.drawingContext.clearRect(r,i,c.width,c.height),this.drawingContext.drawImage(c.canvas,r,i),this.drawingContext.restore();else{var y=0,v=0,x=0,w=0,C=4*(i*h._pixelDensity*(this.width*h._pixelDensity)+r*h._pixelDensity);if(h.imageData||h.loadPixels.call(h),"number"==typeof c)C<h.pixels.length&&(x=v=y=c,w=255);else if(c instanceof Array){if(c.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");C<h.pixels.length&&(y=c[0],v=c[1],x=c[2],w=c[3])}else c instanceof a.default.Color&&C<h.pixels.length&&(y=c.levels[0],v=c.levels[1],x=c.levels[2],w=c.levels[3]);for(var N=0;N<h._pixelDensity;N++)for(var M=0;M<h._pixelDensity;M++)h.pixels[C=4*((i*h._pixelDensity+M)*this.width*h._pixelDensity+(r*h._pixelDensity+N))]=y,h.pixels[C+1]=v,h.pixels[C+2]=x,h.pixels[C+3]=w}},a.default.Renderer2D.prototype.updatePixels=function(r,i,c,h){var y=this._pixelsState,v=y._pixelDensity;void 0===r&&void 0===i&&void 0===c&&void 0===h&&(i=r=0,c=this.width,h=this.height),r*=v,i*=v,c*=v,h*=v,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=y.imageData),this.drawingContext.putImageData(y.imageData,r,i,0,0,c,h)},a.default.Renderer2D.prototype._acuteArcToBezier=function(r,i){var v=i/2,c=Math.cos(v),w=Math.sin(v),h=1/Math.tan(v),y=(v=r+v,Math.cos(v)),x=(v=Math.sin(v),(4-c)/3);return w+=(c-x)*h,{ax:Math.cos(r).toFixed(7),ay:Math.sin(r).toFixed(7),bx:(x*y+w*v).toFixed(7),by:(x*v-w*y).toFixed(7),cx:(x*y-w*v).toFixed(7),cy:(x*v+w*y).toFixed(7),dx:Math.cos(r+i).toFixed(7),dy:Math.sin(r+i).toFixed(7)}},a.default.Renderer2D.prototype.arc=function(r,i,c,h,y,v,x){var w,C=this.drawingContext,N=c/2,M=h/2,F=[];for(r+=N,i+=M;1e-5<=v-y;)w=Math.min(v-y,d.HALF_PI),F.push(this._acuteArcToBezier(y,w)),y+=w;return this._doFill&&(C.beginPath(),F.forEach(function(j,B){0===B&&C.moveTo(r+j.ax*N,i+j.ay*M),C.bezierCurveTo(r+j.bx*N,i+j.by*M,r+j.cx*N,i+j.cy*M,r+j.dx*N,i+j.dy*M)}),x!==d.PIE&&null!=x||C.lineTo(r,i),C.closePath(),C.fill()),this._doStroke&&(C.beginPath(),F.forEach(function(j,B){0===B&&C.moveTo(r+j.ax*N,i+j.ay*M),C.bezierCurveTo(r+j.bx*N,i+j.by*M,r+j.cx*N,i+j.cy*M,r+j.dx*N,i+j.dy*M)}),x===d.PIE?(C.lineTo(r,i),C.closePath()):x===d.CHORD&&C.closePath(),C.stroke()),this},a.default.Renderer2D.prototype.ellipse=function(F){var i=this.drawingContext,c=this._doFill,h=this._doStroke,y=parseFloat(F[0]),v=parseFloat(F[1]),M=parseFloat(F[2]);if(F=parseFloat(F[3]),c&&!h){if(this._getFill()===p)return this}else if(!c&&h&&this._getStroke()===p)return this;var x=M/2*.5522847498,w=F/2*.5522847498,C=y+M,N=v+F;M=y+M/2,F=v+F/2,i.beginPath(),i.moveTo(y,F),i.bezierCurveTo(y,F-w,M-x,v,M,v),i.bezierCurveTo(M+x,v,C,F-w,C,F),i.bezierCurveTo(C,F+w,M+x,N,M,N),i.bezierCurveTo(M-x,N,y,F+w,y,F),c&&i.fill(),h&&i.stroke()},a.default.Renderer2D.prototype.line=function(r,i,c,h){var y=this.drawingContext;return this._doStroke&&this._getStroke()!==p&&(y.beginPath(),y.moveTo(r,i),y.lineTo(c,h),y.stroke()),this},a.default.Renderer2D.prototype.point=function(r,i){var c,h,y=this.drawingContext;return this._doStroke&&this._getStroke()!==p?(c=this._getStroke(),h=this._getFill(),this._setFill(c),y.beginPath(),y.arc(r,i,y.lineWidth/2,0,d.TWO_PI,!1),y.fill(),void this._setFill(h)):this},a.default.Renderer2D.prototype.quad=function(r,i,c,h,y,v,x,w){var C=this.drawingContext,N=this._doFill,M=this._doStroke;if(N&&!M){if(this._getFill()===p)return this}else if(!N&&M&&this._getStroke()===p)return this;return C.beginPath(),C.moveTo(r,i),C.lineTo(c,h),C.lineTo(y,v),C.lineTo(x,w),C.closePath(),N&&C.fill(),M&&C.stroke(),this},a.default.Renderer2D.prototype.rect=function(M){var i,c,h=M[0],y=M[1],v=M[2],x=M[3],w=M[4],C=M[5],N=M[6],F=(M=M[7],this.drawingContext),j=this._doFill,B=this._doStroke;if(j&&!B){if(this._getFill()===p)return this}else if(!j&&B&&this._getStroke()===p)return this;return F.beginPath(),void 0===w?F.rect(h,y,v,x):(void 0===C&&(C=w),void 0===N&&(N=C),void 0===M&&(M=N),B=(j=Math.abs(v))/2,c=(i=Math.abs(x))/2,i<2*(w=j<2*w?B:w)&&(w=c),i<2*(C=j<2*C?B:C)&&(C=c),i<2*(N=j<2*N?B:N)&&(N=c),i<2*(M=j<2*M?B:M)&&(M=c),F.beginPath(),F.moveTo(h+w,y),F.arcTo(h+v,y,h+v,y+x,C),F.arcTo(h+v,y+x,h,y+x,N),F.arcTo(h,y+x,h,y,M),F.arcTo(h,y,h+v,y,w),F.closePath()),this._doFill&&F.fill(),this._doStroke&&F.stroke(),this},a.default.Renderer2D.prototype.triangle=function(N){var i=this.drawingContext,c=this._doFill,h=this._doStroke,y=N[0],v=N[1],x=N[2],w=N[3],C=N[4];if(N=N[5],c&&!h){if(this._getFill()===p)return this}else if(!c&&h&&this._getStroke()===p)return this;i.beginPath(),i.moveTo(y,v),i.lineTo(x,w),i.lineTo(C,N),i.closePath(),c&&i.fill(),h&&i.stroke()},a.default.Renderer2D.prototype.endShape=function(r,i,c,h,y,v,x){if(0!==i.length&&(this._doStroke||this._doFill)){var w,C,N,M=r===d.CLOSE,F=(M&&!v&&i.push(i[0]),i.length);if(!c||x!==d.POLYGON&&null!==x)if(!h||x!==d.POLYGON&&null!==x)if(!y||x!==d.POLYGON&&null!==x)if(x===d.POINTS)for(C=0;C<F;C++)w=i[C],this._doStroke&&this._pInst.stroke(w[6]),this._pInst.point(w[0],w[1]);else if(x===d.LINES)for(C=0;C+1<F;C+=2)w=i[C],this._doStroke&&this._pInst.stroke(i[C+1][6]),this._pInst.line(w[0],w[1],i[C+1][0],i[C+1][1]);else if(x===d.TRIANGLES)for(C=0;C+2<F;C+=3)w=i[C],this.drawingContext.beginPath(),this.drawingContext.moveTo(w[0],w[1]),this.drawingContext.lineTo(i[C+1][0],i[C+1][1]),this.drawingContext.lineTo(i[C+2][0],i[C+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(i[C+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(i[C+2][6]),this.drawingContext.stroke());else if(x===d.TRIANGLE_STRIP)for(C=0;C+1<F;C++)w=i[C],this.drawingContext.beginPath(),this.drawingContext.moveTo(i[C+1][0],i[C+1][1]),this.drawingContext.lineTo(w[0],w[1]),this._doStroke&&this._pInst.stroke(i[C+1][6]),this._doFill&&this._pInst.fill(i[C+1][5]),C+2<F&&(this.drawingContext.lineTo(i[C+2][0],i[C+2][1]),this._doStroke&&this._pInst.stroke(i[C+2][6]),this._doFill&&this._pInst.fill(i[C+2][5])),this._doFillStrokeClose(M);else if(x===d.TRIANGLE_FAN){if(2<F){for(this.drawingContext.beginPath(),C=2;C<F;C++)w=i[C],this.drawingContext.moveTo(i[0][0],i[0][1]),this.drawingContext.lineTo(i[C-1][0],i[C-1][1]),this.drawingContext.lineTo(w[0],w[1]),this.drawingContext.lineTo(i[0][0],i[0][1]),C<F-1&&(this._doFill&&w[5]!==i[C+1][5]||this._doStroke&&w[6]!==i[C+1][6])&&(this._doFill&&(this._pInst.fill(w[5]),this.drawingContext.fill(),this._pInst.fill(i[C+1][5])),this._doStroke&&(this._pInst.stroke(w[6]),this.drawingContext.stroke(),this._pInst.stroke(i[C+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(M)}}else if(x===d.QUADS)for(C=0;C+3<F;C+=4){for(w=i[C],this.drawingContext.beginPath(),this.drawingContext.moveTo(w[0],w[1]),N=1;N<4;N++)this.drawingContext.lineTo(i[C+N][0],i[C+N][1]);this.drawingContext.lineTo(w[0],w[1]),this._doFill&&this._pInst.fill(i[C+3][5]),this._doStroke&&this._pInst.stroke(i[C+3][6]),this._doFillStrokeClose(M)}else if(x===d.QUAD_STRIP){if(3<F)for(C=0;C+1<F;C+=2)w=i[C],this.drawingContext.beginPath(),C+3<F?(this.drawingContext.moveTo(i[C+2][0],i[C+2][1]),this.drawingContext.lineTo(w[0],w[1]),this.drawingContext.lineTo(i[C+1][0],i[C+1][1]),this.drawingContext.lineTo(i[C+3][0],i[C+3][1]),this._doFill&&this._pInst.fill(i[C+3][5]),this._doStroke&&this._pInst.stroke(i[C+3][6])):(this.drawingContext.moveTo(w[0],w[1]),this.drawingContext.lineTo(i[C+1][0],i[C+1][1])),this._doFillStrokeClose(M)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(i[0][0],i[0][1]),C=1;C<F;C++)(w=i[C]).isVert&&(w.moveTo?this.drawingContext.moveTo(w[0],w[1]):this.drawingContext.lineTo(w[0],w[1]));this._doFillStrokeClose(M)}else{for(this.drawingContext.beginPath(),C=0;C<F;C++)i[C].isVert?i[C].moveTo?this.drawingContext.moveTo(i[C][0],i[C][1]):this.drawingContext.lineTo(i[C][0],i[C][1]):this.drawingContext.quadraticCurveTo(i[C][0],i[C][1],i[C][2],i[C][3]);this._doFillStrokeClose(M)}else{for(this.drawingContext.beginPath(),C=0;C<F;C++)i[C].isVert?i[C].moveTo?this.drawingContext.moveTo(i[C][0],i[C][1]):this.drawingContext.lineTo(i[C][0],i[C][1]):this.drawingContext.bezierCurveTo(i[C][0],i[C][1],i[C][2],i[C][3],i[C][4],i[C][5]);this._doFillStrokeClose(M)}else if(3<F){var j=[],B=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(i[1][0],i[1][1]),C=1;C+2<F;C++)j[0]=[(w=i[C])[0],w[1]],j[1]=[w[0]+(B*i[C+1][0]-B*i[C-1][0])/6,w[1]+(B*i[C+1][1]-B*i[C-1][1])/6],j[2]=[i[C+1][0]+(B*i[C][0]-B*i[C+2][0])/6,i[C+1][1]+(B*i[C][1]-B*i[C+2][1])/6],j[3]=[i[C+1][0],i[C+1][1]],this.drawingContext.bezierCurveTo(j[1][0],j[1][1],j[2][0],j[2][1],j[3][0],j[3][1]);M&&this.drawingContext.lineTo(i[C+1][0],i[C+1][1]),this._doFillStrokeClose(M)}v=y=h=c=!1,M&&i.pop()}return this},a.default.Renderer2D.prototype.strokeCap=function(r){return r!==d.ROUND&&r!==d.SQUARE&&r!==d.PROJECT||(this.drawingContext.lineCap=r),this},a.default.Renderer2D.prototype.strokeJoin=function(r){return r!==d.ROUND&&r!==d.BEVEL&&r!==d.MITER||(this.drawingContext.lineJoin=r),this},a.default.Renderer2D.prototype.strokeWeight=function(r){return this.drawingContext.lineWidth=void 0===r||0===r?1e-4:r,this},a.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},a.default.Renderer2D.prototype._setFill=function(r){r!==this._cachedFillStyle&&(this.drawingContext.fillStyle=r,this._cachedFillStyle=r)},a.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},a.default.Renderer2D.prototype._setStroke=function(r){r!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=r,this._cachedStrokeStyle=r)},a.default.Renderer2D.prototype.bezier=function(r,i,c,h,y,v,x,w){return this._pInst.beginShape(),this._pInst.vertex(r,i),this._pInst.bezierVertex(c,h,y,v,x,w),this._pInst.endShape(),this},a.default.Renderer2D.prototype.curve=function(r,i,c,h,y,v,x,w){return this._pInst.beginShape(),this._pInst.curveVertex(r,i),this._pInst.curveVertex(c,h),this._pInst.curveVertex(y,v),this._pInst.curveVertex(x,w),this._pInst.endShape(),this},a.default.Renderer2D.prototype._doFillStrokeClose=function(r){r&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},a.default.Renderer2D.prototype.applyMatrix=function(r,i,c,h,y,v){this.drawingContext.transform(r,i,c,h,y,v)},a.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},a.default.Renderer2D.prototype.rotate=function(r){this.drawingContext.rotate(r)},a.default.Renderer2D.prototype.scale=function(r,i){return this.drawingContext.scale(r,i),this},a.default.Renderer2D.prototype.translate=function(r,i){return r instanceof a.default.Vector&&(i=r.y,r=r.x),this.drawingContext.translate(r,i),this},a.default.Renderer2D.prototype.text=function(r,i,c,x,y){var v;return void 0!==x&&this.drawingContext.textBaseline===d.BASELINE&&(v=!0,this.drawingContext.textBaseline=d.TOP),x=a.default.Renderer.prototype.text.apply(this,arguments),v&&(this.drawingContext.textBaseline=d.BASELINE),x},a.default.Renderer2D.prototype._renderText=function(r,i,c,h,y,v){if(!(h<v||y<=h))return r.push(),this._isOpenType()?this._textFont._renderPath(i,c,h,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(i,c,h),this._doFill&&(this._fillSet||this._setFill(d._DEFAULT_TEXT_FILL),this.drawingContext.fillText(i,c,h))),r.pop(),r},a.default.Renderer2D.prototype.textWidth=function(r){return this._isOpenType()?this._textFont._textWidth(r,this._textSize):this.drawingContext.measureText(r).width},a.default.Renderer2D.prototype._applyTextProperties=function(){var r,i=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),r=this._textFont,this._isOpenType()&&(r=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(r||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this.drawingContext.textBaseline=this._textBaseline===d.CENTER?d._CTX_MIDDLE:this._textBaseline,i},a.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),a.default.Renderer.prototype.push.apply(this)},a.default.Renderer2D.prototype.pop=function(r){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,a.default.Renderer.prototype.pop.call(this,r)},a.default.Renderer2D);E.default=s},{"./constants":256,"./main":267,"./p5.Renderer":270,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],272:[function(e,U,E){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var f=(e=e("./main"))&&e.__esModule?e:{default:e};function o(){return{}}f.default.prototype._promisePreloads=[];var a=!(f.default.prototype.registerPromisePreload=function(d){f.default.prototype._promisePreloads.push(d)});f.default.prototype._setupPromisePreloads=function(){var d=!0,u=!1,p=void 0;try{for(var s,r=this._promisePreloads[Symbol.iterator]();!(d=(s=r.next()).done);d=!0){var i=s.value,c=this,h=i.method,y=i.addCallbacks,v=i.legacyPreloadSetup,x=i.target||this,w=x[h].bind(x);if(x===f.default.prototype){if(a)continue;c=null,w=x[h]}x[h]=this._wrapPromisePreload(c,w,y),v&&(x[v.method]=this._legacyPreloadGenerator(c,v,x[h]))}}catch(C){u=!0,p=C}finally{try{d||null==r.return||r.return()}finally{if(u)throw p}}a=!0},f.default.prototype._wrapPromisePreload=function(d,u,p){var s=function(){for(var r=this,i=(this._incrementPreload(),null),c=null,h=arguments.length,y=new Array(h),v=0;v<h;v++)y[v]=arguments[v];if(p)for(var x=y.length-1;0<=x&&!c&&"function"==typeof y[x];x--)c=i,i=y.pop();var w=Promise.resolve(u.apply(this,y));return i&&w.then(i),c&&w.catch(c),w.then(function(){return r._decrementPreload()}),w};return d?s.bind(d):s},f.default.prototype._legacyPreloadGenerator=function(d,r,p){var s=r.createBaseObject||o;return r=function(){var i=this,c=(this._incrementPreload(),s.apply(this,arguments));return p.apply(this,arguments).then(function(h){Object.assign(c,h),i._decrementPreload()}),c},d?r.bind(d):r}},{"./main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],273:[function(e,U,E){"use strict";function f(r){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(r)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var o=(s=e("./main"))&&s.__esModule?s:{default:s},a=function(r){if(r&&r.__esModule)return r;if(null===r||"object"!==u(r)&&"function"!=typeof r)return{default:r};var i=d();if(i&&i.has(r))return i.get(r);var c,h={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in r){var v;Object.prototype.hasOwnProperty.call(r,c)&&((v=y?Object.getOwnPropertyDescriptor(r,c):null)&&(v.get||v.set)?Object.defineProperty(h,c,v):h[c]=r[c])}return h.default=r,i&&i.set(r,h),h}(e("./constants"));function d(){var r;return"function"!=typeof WeakMap?null:(d=function(){return r},r=new WeakMap)}function u(r){return(u="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(i){return f(i)}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":f(i)})(r)}e("./p5.Graphics"),e("./p5.Renderer2D"),e("../webgl/p5.RendererGL");var p="defaultCanvas0",s=(o.default.prototype.createCanvas=function(r,i,x){var h,y,v;if(o.default._validateParameters("createCanvas",arguments),(x=x||a.P2D)===a.WEBGL)(y=document.getElementById(p))&&(y.parentNode.removeChild(y),h=this._renderer,this._elements=this._elements.filter(function(C){return C!==h})),(y=document.createElement("canvas")).id=p,y.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)y=this.canvas;else{y=document.createElement("canvas");for(var w=0;document.getElementById("defaultCanvas".concat(w));)w++;p="defaultCanvas".concat(w),y.id=p,y.classList.add("p5Canvas")}return this._setupDone||(y.dataset.hidden=!0,y.style.visibility="hidden"),(this._userNode||(0===document.getElementsByTagName("main").length&&(v=document.createElement("main"),document.body.appendChild(v)),document.getElementsByTagName("main")[0])).appendChild(y),x===a.WEBGL?(this._setProperty("_renderer",new o.default.RendererGL(y,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new o.default.Renderer2D(y,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(r,i),this._renderer._applyDefaults(),this._renderer},o.default.prototype.resizeCanvas=function(r,i,c){if(o.default._validateParameters("resizeCanvas",arguments),this._renderer){var h,y,v={};for(h in this.drawingContext){var x=this.drawingContext[h];"object"!==u(x)&&"function"!=typeof x&&(v[h]=x)}for(y in this._renderer.resize(r,i),this.width=r,this.height=i,v)try{this.drawingContext[y]=v[y]}catch(w){}c||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},o.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},o.default.prototype.createGraphics=function(r,i,c){return o.default._validateParameters("createGraphics",arguments),new o.default.Graphics(r,i,c,this)},o.default.prototype.blendMode=function(r){o.default._validateParameters("blendMode",arguments),r===a.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),r=a.BLEND),this._renderer.blendMode(r)},o.default);E.default=s},{"../webgl/p5.RendererGL":321,"./constants":256,"./main":267,"./p5.Graphics":269,"./p5.Renderer2D":271,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],274:[function(e,U,E){"use strict";function f(r){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(r)}function o(r){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(i){return f(i)}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":f(i)})(r)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.slice"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=s(e("../main")),d=function(r){if(r&&r.__esModule)return r;if(null===r||"object"!==o(r)&&"function"!=typeof r)return{default:r};var i=p();if(i&&i.has(r))return i.get(r);var c,h={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in r){var v;Object.prototype.hasOwnProperty.call(r,c)&&((v=y?Object.getOwnPropertyDescriptor(r,c):null)&&(v.get||v.set)?Object.defineProperty(h,c,v):h[c]=r[c])}return h.default=r,i&&i.set(r,h),h}(e("../constants")),u=s(e("../helpers"));function p(){var r;return"function"!=typeof WeakMap?null:(p=function(){return r},r=new WeakMap)}function s(r){return r&&r.__esModule?r:{default:r}}e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),a.default.prototype._normalizeArcAngles=function(r,i,c,h,y){var v;return r-=d.TWO_PI*Math.floor(r/d.TWO_PI),i-=d.TWO_PI*Math.floor(i/d.TWO_PI),v=Math.min(Math.abs(r-i),d.TWO_PI-Math.abs(r-i)),y&&(r=r<=d.HALF_PI?Math.atan(c/h*Math.tan(r)):r>d.HALF_PI&&r<=3*d.HALF_PI?Math.atan(c/h*Math.tan(r))+d.PI:Math.atan(c/h*Math.tan(r))+d.TWO_PI,i=i<=d.HALF_PI?Math.atan(c/h*Math.tan(i)):i>d.HALF_PI&&i<=3*d.HALF_PI?Math.atan(c/h*Math.tan(i))+d.PI:Math.atan(c/h*Math.tan(i))+d.TWO_PI),i<r&&(i+=d.TWO_PI),{start:r,stop:i,correspondToSamePoint:v<1e-5}},a.default.prototype.arc=function(r,i,c,h,y,v,x,w){return a.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&y!==v&&(y=this._toRadians(y),v=this._toRadians(v),c=Math.abs(c),h=Math.abs(h),r=u.default.modeAdjust(r,i,c,h,this._renderer._ellipseMode),(i=this._normalizeArcAngles(y,v,r.w,r.h,!0)).correspondToSamePoint?this._renderer.ellipse([r.x,r.y,r.w,r.h,w]):(this._renderer.arc(r.x,r.y,r.w,r.h,i.start,i.stop,x,w),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[r.x,r.y,r.w,r.h,i.start,i.stop,x]))),this},a.default.prototype.ellipse=function(r,i,c,h,y){return a.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},a.default.prototype.circle=function(){a.default._validateParameters("circle",arguments);var r=Array.prototype.slice.call(arguments,0,2);return r.push(arguments[2]),r.push(arguments[2]),this._renderEllipse.apply(this,r)},a.default.prototype._renderEllipse=function(r,i,c,h,y){return(this._renderer._doStroke||this._renderer._doFill)&&(c<0&&(c=Math.abs(c)),void 0===h?h=c:h<0&&(h=Math.abs(h)),r=u.default.modeAdjust(r,i,c,h,this._renderer._ellipseMode),this._renderer.ellipse([r.x,r.y,r.w,r.h,y]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[r.x,r.y,r.w,r.h])),this},a.default.prototype.line=function(){for(var r,i=arguments.length,c=new Array(i),h=0;h<i;h++)c[h]=arguments[h];return a.default._validateParameters("line",c),this._renderer._doStroke&&(r=this._renderer).line.apply(r,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",c),this},a.default.prototype.point=function(){for(var r,i=arguments.length,c=new Array(i),h=0;h<i;h++)c[h]=arguments[h];return a.default._validateParameters("point",c),this._renderer._doStroke&&(1===c.length&&c[0]instanceof a.default.Vector?this._renderer.point.call(this._renderer,c[0].x,c[0].y,c[0].z):((r=this._renderer).point.apply(r,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",c))),this},a.default.prototype.quad=function(){for(var r,i=arguments.length,c=new Array(i),h=0;h<i;h++)c[h]=arguments[h];return a.default._validateParameters("quad",c),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&c.length<=12?this._renderer.quad.call(this._renderer,c[0],c[1],0,c[2],c[3],0,c[4],c[5],0,c[6],c[7],0,c[8],c[9]):((r=this._renderer).quad.apply(r,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",c))),this},a.default.prototype.rect=function(){return a.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},a.default.prototype.square=function(r,i,c,h,y,v,x){return a.default._validateParameters("square",arguments),this._renderRect.call(this,r,i,c,c,h,y,v,x)},a.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var r=u.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),i=[r.x,r.y,r.w,r.h],c=4;c<arguments.length;c++)i[c]=arguments[c];this._renderer.rect(i),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[r.x,r.y,r.w,r.h])}return this},a.default.prototype.triangle=function(){for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return a.default._validateParameters("triangle",i),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(i),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",i),this},E.default=e=a.default},{"../constants":256,"../friendly_errors/fes_core":258,"../friendly_errors/file_errors":259,"../friendly_errors/validate_params":262,"../helpers":263,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],275:[function(e,U,E){"use strict";function f(s){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(s)}function o(s){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(r){return f(r)}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":f(r)})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=(p=e("../main"))&&p.__esModule?p:{default:p},d=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==o(s)&&"function"!=typeof s)return{default:s};var r=u();if(r&&r.has(s))return r.get(s);var i,c={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in s){var y;Object.prototype.hasOwnProperty.call(s,i)&&((y=h?Object.getOwnPropertyDescriptor(s,i):null)&&(y.get||y.set)?Object.defineProperty(c,i,y):c[i]=s[i])}return c.default=s,r&&r.set(s,c),c}(e("../constants"));function u(){var s;return"function"!=typeof WeakMap?null:(u=function(){return s},s=new WeakMap)}a.default.prototype.ellipseMode=function(s){return a.default._validateParameters("ellipseMode",arguments),s!==d.CORNER&&s!==d.CORNERS&&s!==d.RADIUS&&s!==d.CENTER||(this._renderer._ellipseMode=s),this},a.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},a.default.prototype.rectMode=function(s){return a.default._validateParameters("rectMode",arguments),s!==d.CORNER&&s!==d.CORNERS&&s!==d.RADIUS&&s!==d.CENTER||(this._renderer._rectMode=s),this},a.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},a.default.prototype.strokeCap=function(s){return a.default._validateParameters("strokeCap",arguments),s!==d.ROUND&&s!==d.SQUARE&&s!==d.PROJECT||this._renderer.strokeCap(s),this},a.default.prototype.strokeJoin=function(s){return a.default._validateParameters("strokeJoin",arguments),s!==d.ROUND&&s!==d.BEVEL&&s!==d.MITER||this._renderer.strokeJoin(s),this},a.default.prototype.strokeWeight=function(s){return a.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(s),this};var p=a.default;E.default=p},{"../constants":256,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],276:[function(e,U,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(o=e("../main"))&&o.__esModule?o:{default:o};e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),f.default.prototype.bezier=function(){for(var a,d=arguments.length,u=new Array(d),p=0;p<d;p++)u[p]=arguments[p];return f.default._validateParameters("bezier",u),(this._renderer._doStroke||this._renderer._doFill)&&(a=this._renderer).bezier.apply(a,u),this},f.default.prototype.bezierDetail=function(a){return f.default._validateParameters("bezierDetail",arguments),this._bezierDetail=a,this},f.default.prototype.bezierPoint=function(a,d,u,p,s){f.default._validateParameters("bezierPoint",arguments);var r=1-s;return Math.pow(r,3)*a+3*Math.pow(r,2)*s*d+3*r*Math.pow(s,2)*u+Math.pow(s,3)*p},f.default.prototype.bezierTangent=function(a,d,u,p,s){f.default._validateParameters("bezierTangent",arguments);var r=1-s;return 3*p*Math.pow(s,2)-3*u*Math.pow(s,2)+6*u*r*s-6*d*r*s+3*d*Math.pow(r,2)-3*a*Math.pow(r,2)},f.default.prototype.curve=function(){for(var a,d=arguments.length,u=new Array(d),p=0;p<d;p++)u[p]=arguments[p];return f.default._validateParameters("curve",u),this._renderer._doStroke&&(a=this._renderer).curve.apply(a,u),this},f.default.prototype.curveDetail=function(a){return f.default._validateParameters("curveDetail",arguments),this._curveDetail=a<3?3:a,this},f.default.prototype.curveTightness=function(a){return f.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=a,this},f.default.prototype.curvePoint=function(a,d,u,p,s){f.default._validateParameters("curvePoint",arguments);var r=s*s*s,i=s*s;return a*(-.5*r+i-.5*s)+d*(1.5*r-2.5*i+1)+u*(-1.5*r+2*i+.5*s)+p*(.5*r-.5*i)},f.default.prototype.curveTangent=function(a,d,u,p,s){f.default._validateParameters("curveTangent",arguments);var r=s*s;return a*(-3*r/2+2*s-.5)+d*(9*r/2-5*s)+u*(-9*r/2+4*s+.5)+p*(3*r/2-s)};var o=f.default;E.default=o},{"../friendly_errors/fes_core":258,"../friendly_errors/file_errors":259,"../friendly_errors/validate_params":262,"../main":267}],277:[function(e,U,E){"use strict";function f(w){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(w)}function o(w){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(C){return f(C)}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":f(C)})(w)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.slice"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=(x=e("../main"))&&x.__esModule?x:{default:x},d=function(w){if(w&&w.__esModule)return w;if(null===w||"object"!==o(w)&&"function"!=typeof w)return{default:w};var C=u();if(C&&C.has(w))return C.get(w);var N,M={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(N in w){var j;Object.prototype.hasOwnProperty.call(w,N)&&((j=F?Object.getOwnPropertyDescriptor(w,N):null)&&(j.get||j.set)?Object.defineProperty(M,N,j):M[N]=w[N])}return M.default=w,C&&C.set(w,M),M}(e("../constants"));function u(){var w;return"function"!=typeof WeakMap?null:(u=function(){return w},w=new WeakMap)}var p=null,s=[],r=[],i=!1,c=!1,h=!1,y=!1,v=!0,x=(a.default.prototype.beginContour=function(){return r=[],y=!0,this},a.default.prototype.beginShape=function(w){var C;return a.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(C=this._renderer).beginShape.apply(C,arguments):(p=w===d.POINTS||w===d.LINES||w===d.TRIANGLES||w===d.TRIANGLE_FAN||w===d.TRIANGLE_STRIP||w===d.QUADS||w===d.QUAD_STRIP?w:null,s=[],r=[]),this},a.default.prototype.bezierVertex=function(){for(var w,C=arguments.length,N=new Array(C),M=0;M<C;M++)N[M]=arguments[M];if(a.default._validateParameters("bezierVertex",N),this._renderer.isP3D)(w=this._renderer).bezierVertex.apply(w,N);else if(0===s.length)a.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{i=!0;for(var F=[],j=0;j<N.length;j++)F[j]=N[j];F.isVert=!1,(y?r:s).push(F)}return this},a.default.prototype.curveVertex=function(){for(var w,C=arguments.length,N=new Array(C),M=0;M<C;M++)N[M]=arguments[M];return a.default._validateParameters("curveVertex",N),this._renderer.isP3D?(w=this._renderer).curveVertex.apply(w,N):(c=!0,this.vertex(N[0],N[1])),this},a.default.prototype.endContour=function(){var w=r[0].slice();w.isVert=r[0].isVert,w.moveTo=!1,r.push(w),v&&(s.push(s[0]),v=!1);for(var C=0;C<r.length;C++)s.push(r[C]);return this},a.default.prototype.endShape=function(w){if(a.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(w,c,i,h,y,p);else{if(0===s.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var C=w===d.CLOSE;C&&!y&&s.push(s[0]),this._renderer.endShape(w,s,c,i,h,y,p),v=!(y=h=i=c=!1),C&&s.pop()}return this},a.default.prototype.quadraticVertex=function(){for(var w,C=arguments.length,N=new Array(C),M=0;M<C;M++)N[M]=arguments[M];if(a.default._validateParameters("quadraticVertex",N),this._renderer.isP3D)(w=this._renderer).quadraticVertex.apply(w,N);else{if(this._contourInited)return(w={}).x=N[0],w.y=N[1],w.x3=N[2],w.y3=N[3],w.type=d.QUADRATIC,this._contourVertices.push(w),this;if(0<s.length){h=!0;for(var F=[],j=0;j<N.length;j++)F[j]=N[j];F.isVert=!1,(y?r:s).push(F)}else a.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},a.default.prototype.vertex=function(w,C,N,M,F){var j;return this._renderer.isP3D?(j=this._renderer).vertex.apply(j,arguments):((j=[]).isVert=!0,j[0]=w,j[1]=C,j[2]=0,j[3]=0,j[4]=0,j[5]=this._renderer._getFill(),j[6]=this._renderer._getStroke(),N&&(j.moveTo=N),(y?(0===r.length&&(j.moveTo=!0),r):s).push(j)),this},a.default.prototype.normal=function(w,C,N){var M;return this._assert3d("normal"),a.default._validateParameters("normal",arguments),(M=this._renderer).normal.apply(M,arguments),this},a.default);E.default=x},{"../constants":256,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],278:[function(e,U,E){"use strict";function f(p){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(p)}function o(p){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(s){return f(s)}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":f(s)})(p)}var a,d,u;e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(p,s){window.setTimeout(p,1e3/60)},"undefined"==typeof Uint8ClampedArray||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(a=Object.keys,e=Object.defineProperty,d="function"==typeof Symbol&&"symbol"===o(Symbol()),u=Object.prototype.propertyIsEnumerable,e(Object,"assign",{value:function(p,s){if(null==p)throw new TypeError("target must be an object");for(var r,i,c,h=Object(p),y=1;y<arguments.length;++y)for(r=Object(arguments[y]),c=a(r),d&&Object.getOwnPropertySymbols&&c.push.apply(c,Object.getOwnPropertySymbols(r).filter(function(v){return function(x){return u.call(v,x)}}(r))),i=0;i<c.length;++i)h[c[i]]=r[c[i]];return h},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/web.dom-collections.iterator":230}],279:[function(e,U,E){"use strict";e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,(e=(e=e("./main"))&&e.__esModule?e:{default:e}).default.prototype.noLoop=function(){this._loop=!1},e.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},e.default.prototype.isLooping=function(){return this._loop},e.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},e.default.prototype.pop=function(){var f=this._styles.pop();f?(this._renderer.pop(f.renderer),Object.assign(this,f.props)):console.warn("pop() was called without matching push()")},e.default.prototype.redraw=function(f){if(!this._inUserDraw&&this._setupDone){var o=parseInt(f),a=((isNaN(o)||o<1)&&(o=1),this._isGlobal?window:this);if("function"==typeof a.draw){void 0===a.setup&&a.scale(a._pixelDensity,a._pixelDensity);for(var d=function(p){p.call(a)},u=0;u<o;u++){a.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),a._renderer.isP3D&&a._renderer._update(),a._setProperty("frameCount",a.frameCount+1),a._registeredMethods.pre.forEach(d),this._inUserDraw=!0;try{a.draw()}finally{this._inUserDraw=!1}a._registeredMethods.post.forEach(d)}}}},E.default=e=e.default},{"./main":267,"core-js/modules/es.array.for-each":154,"core-js/modules/es.object.assign":172,"core-js/modules/web.dom-collections.for-each":229}],280:[function(e,U,E){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(e=e("./main"))&&e.__esModule?e:{default:e};function o(a){return function(d){if(Array.isArray(d)){for(var u=0,p=new Array(d.length);u<d.length;u++)p[u]=d[u];return p}}(a)||function(d){if(Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d))return Array.from(d)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}f.default.prototype.applyMatrix=function(){var a=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||a?(a=this._renderer).applyMatrix.apply(a,o(arguments[0])):(a=this._renderer).applyMatrix.apply(a,arguments),this},f.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},f.default.prototype.rotate=function(a,d){return f.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(a),d),this},f.default.prototype.rotateX=function(a){return this._assert3d("rotateX"),f.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(a)),this},f.default.prototype.rotateY=function(a){return this._assert3d("rotateY"),f.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(a)),this},f.default.prototype.rotateZ=function(a){return this._assert3d("rotateZ"),f.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(a)),this},f.default.prototype.scale=function(a,d,u){var p;return f.default._validateParameters("scale",arguments),a instanceof f.default.Vector?(a=(p=a).x,d=p.y,u=p.z):a instanceof Array&&(a=(p=a)[0],d=p[1],u=p[2]||1),isNaN(d)?d=u=a:isNaN(u)&&(u=1),this._renderer.scale.call(this._renderer,a,d,u),this},f.default.prototype.shearX=function(a){return f.default._validateParameters("shearX",arguments),a=this._toRadians(a),this._renderer.applyMatrix(1,0,Math.tan(a),1,0,0),this},f.default.prototype.shearY=function(a){return f.default._validateParameters("shearY",arguments),a=this._toRadians(a),this._renderer.applyMatrix(1,Math.tan(a),0,1,0,0),this},f.default.prototype.translate=function(a,d,u){return f.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(a,d,u):this._renderer.translate(a,d),this},E.default=e=f.default},{"./main":267,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230}],281:[function(e,U,E){"use strict";function f(u){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(u)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var o=(e=e("../core/main"))&&e.__esModule?e:{default:e};function a(u){return function(p){if(Array.isArray(p)){for(var s=0,r=new Array(p.length);s<p.length;s++)r[s]=p[s];return r}}(u)||function(p){if(Symbol.iterator in Object(p)||"[object Arguments]"===Object.prototype.toString.call(p))return Array.from(p)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(u){return(d="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(p){return f(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":f(p)})(u)}o.default.prototype.storeItem=function(u,p){"string"!=typeof u&&console.log("The argument that you passed to storeItem() - ".concat(u," is not a string.")),u.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(u," must not end with 'p5TypeID'.")),void 0===p&&console.log("You cannot store undefined variables using storeItem().");var s=d(p);switch(s){case"number":case"boolean":p=p.toString();break;case"object":p instanceof o.default.Color?s="p5.Color":p instanceof o.default.Vector&&(s="p5.Vector",p=[p.x,p.y,p.z]),p=JSON.stringify(p)}localStorage.setItem(u,p),u="".concat(u,"p5TypeID"),localStorage.setItem(u,s)},o.default.prototype.getItem=function(u){var p=localStorage.getItem(u),s=localStorage.getItem("".concat(u,"p5TypeID"));if(void 0===s)console.log("Unable to determine type of item stored under ".concat(u,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==p)switch(s){case"number":p=parseFloat(p);break;case"boolean":p="true"===p;break;case"object":p=JSON.parse(p);break;case"p5.Color":p=JSON.parse(p),p=this.color.apply(this,a(p.levels));break;case"p5.Vector":p=JSON.parse(p),p=this.createVector.apply(this,a(p))}return p},o.default.prototype.clearStorage=function(){localStorage.clear()},o.default.prototype.removeItem=function(u){"string"!=typeof u&&console.log("The argument that you passed to removeItem() - ".concat(u," is not a string.")),localStorage.removeItem(u),localStorage.removeItem("".concat(u,"p5TypeID"))}},{"../core/main":267,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],282:[function(e,U,E){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.string.sub"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.string.sub"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(e=e("../core/main"))&&e.__esModule?e:{default:e};f.default.prototype.createStringDict=function(o,a){return f.default._validateParameters("createStringDict",arguments),new f.default.StringDict(o,a)},f.default.prototype.createNumberDict=function(o,a){return f.default._validateParameters("createNumberDict",arguments),new f.default.NumberDict(o,a)},f.default.TypedDict=function(o,a){return o instanceof Object?this.data=o:(this.data={},this.data[o]=a),this},f.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},f.default.TypedDict.prototype.hasKey=function(o){return this.data.hasOwnProperty(o)},f.default.TypedDict.prototype.get=function(o){if(this.data.hasOwnProperty(o))return this.data[o];console.log("".concat(o," does not exist in this Dictionary"))},f.default.TypedDict.prototype.set=function(o,a){this._validate(a)?this.data[o]=a:console.log("Those values dont work for this dictionary type.")},f.default.TypedDict.prototype._addObj=function(o){for(var a in o)this.set(a,o[a])},f.default.TypedDict.prototype.create=function(o,a){o instanceof Object&&void 0===a?this._addObj(o):void 0!==o?this.set(o,a):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},f.default.TypedDict.prototype.clear=function(){this.data={}},f.default.TypedDict.prototype.remove=function(o){if(!this.data.hasOwnProperty(o))throw new Error("".concat(o," does not exist in this Dictionary"));delete this.data[o]},f.default.TypedDict.prototype.print=function(){for(var o in this.data)console.log("key:".concat(o," value:").concat(this.data[o]))},f.default.TypedDict.prototype.saveTable=function(o){var a,d="";for(a in this.data)d+="".concat(a,",").concat(this.data[a],"\n");var u=new Blob([d],{type:"text/csv"});f.default.prototype.downloadFile(u,o||"mycsv","csv")},f.default.TypedDict.prototype.saveJSON=function(o,a){f.default.prototype.saveJSON(this.data,o,a)},f.default.TypedDict.prototype._validate=function(o){return!0},f.default.StringDict=function(){for(var o=arguments.length,a=new Array(o),d=0;d<o;d++)a[d]=arguments[d];f.default.TypedDict.apply(this,a)},f.default.StringDict.prototype=Object.create(f.default.TypedDict.prototype),f.default.StringDict.prototype._validate=function(o){return"string"==typeof o},f.default.NumberDict=function(){for(var o=arguments.length,a=new Array(o),d=0;d<o;d++)a[d]=arguments[d];f.default.TypedDict.apply(this,a)},f.default.NumberDict.prototype=Object.create(f.default.TypedDict.prototype),f.default.NumberDict.prototype._validate=function(o){return"number"==typeof o},f.default.NumberDict.prototype.add=function(o,a){this.data.hasOwnProperty(o)?this.data[o]+=a:console.log("The key - ".concat(o," does not exist in this dictionary."))},f.default.NumberDict.prototype.sub=function(o,a){this.add(o,-a)},f.default.NumberDict.prototype.mult=function(o,a){this.data.hasOwnProperty(o)?this.data[o]*=a:console.log("The key - ".concat(o," does not exist in this dictionary."))},f.default.NumberDict.prototype.div=function(o,a){this.data.hasOwnProperty(o)?this.data[o]/=a:console.log("The key - ".concat(o," does not exist in this dictionary."))},f.default.NumberDict.prototype._valueTest=function(o){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var a,d=this.data[Object.keys(this.data)[0]];for(a in this.data)this.data[a]*o<d*o&&(d=this.data[a]);return d},f.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},f.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},f.default.NumberDict.prototype._keyTest=function(o){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var a=Object.keys(this.data)[0],d=1;d<Object.keys(this.data).length;d++)Object.keys(this.data)[d]*o<a*o&&(a=Object.keys(this.data)[d]);return a},f.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},f.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)},E.default=e=f.default.TypedDict},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.object.keys":176,"core-js/modules/es.string.sub":192}],283:[function(e,U,E){"use strict";function f(s){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var o=(e=e("../core/main"))&&e.__esModule?e:{default:e};function a(s){return(a="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(r){return f(r)}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":f(r)})(s)}function d(s,r,i){return(r._userNode||document.body).appendChild(s),i=new(i?o.default.MediaElement:o.default.Element)(s,r),r._elements.push(i),i}function u(s,v,i,c){var h=document.createElement(v),y=("string"==typeof(i=i||"")&&(i=[i]),!0),x=void(v=!1);try{for(var w,C=i[Symbol.iterator]();!(y=(w=C.next()).done);y=!0){var N=w.value,M=document.createElement("source");M.setAttribute("src",N),h.appendChild(M)}}catch(j){v=!0,x=j}finally{try{y||null==C.return||C.return()}finally{if(v)throw x}}"function"==typeof c&&h.addEventListener("canplaythrough",function j(){c(),h.removeEventListener("canplaythrough",j)});var F=d(h,s,!0);return F.loadedmetadata=!1,h.addEventListener("loadedmetadata",function(){F.width=h.videoWidth,F.height=h.videoHeight,0===F.elt.width&&(F.elt.width=h.videoWidth),0===F.elt.height&&(F.elt.height=h.videoHeight),F.presetPlaybackRate&&(F.elt.playbackRate=F.presetPlaybackRate,delete F.presetPlaybackRate),F.loadedmetadata=!0}),F}function p(s,r,i,c){this.callback=s,this.time=r,this.id=i,this.val=c}o.default.prototype.select=function(s,r){return o.default._validateParameters("select",arguments),(r=this._getContainer(r).querySelector(s))?this._wrapElement(r):null},o.default.prototype.selectAll=function(s,r){o.default._validateParameters("selectAll",arguments);var i=[],c=this._getContainer(r).querySelectorAll(s);if(c)for(var h=0;h<c.length;h++){var y=this._wrapElement(c[h]);i.push(y)}return i},o.default.prototype._getContainer=function(s){var r=document;return"string"==typeof s?r=document.querySelector(s)||document:s instanceof o.default.Element?r=s.elt:s instanceof HTMLElement&&(r=s),r},o.default.prototype._wrapElement=function(s){var r,i=Array.prototype.slice.call(s.children);return"INPUT"===s.tagName&&"checkbox"===s.type?((r=new o.default.Element(s,this)).checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!!arguments[0],this)},r):"VIDEO"===s.tagName||"AUDIO"===s.tagName?new o.default.MediaElement(s,this):"SELECT"===s.tagName?this.createSelect(new o.default.Element(s,this)):0<i.length&&i.every(function(c){return"INPUT"===c.tagName||"LABEL"===c.tagName})?this.createRadio(new o.default.Element(s,this)):new o.default.Element(s,this)},o.default.prototype.removeElements=function(s){o.default._validateParameters("removeElements",arguments),this._elements.filter(function(r){return!(r.elt instanceof HTMLCanvasElement)}).map(function(r){return r.remove()})},o.default.Element.prototype.changed=function(s){return o.default.Element._adjustListener("change",s,this),this},o.default.Element.prototype.input=function(s){return o.default.Element._adjustListener("input",s,this),this},o.default.prototype.createDiv=function(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",r=document.createElement("div");return r.innerHTML=s,d(r,this)},o.default.prototype.createP=function(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",r=document.createElement("p");return r.innerHTML=s,d(r,this)},o.default.prototype.createSpan=function(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",r=document.createElement("span");return r.innerHTML=s,d(r,this)},o.default.prototype.createImg=function(){o.default._validateParameters("createImg",arguments);var s,r=document.createElement("img"),i=arguments;return 1<i.length&&"string"==typeof i[1]&&(r.alt=i[1]),2<i.length&&"string"==typeof i[2]&&(r.crossOrigin=i[2]),r.src=i[0],s=d(r,this),r.addEventListener("load",function(){s.width=r.offsetWidth||r.width,s.height=r.offsetHeight||r.height;var c=i[i.length-1];"function"==typeof c&&c(s)}),s},o.default.prototype.createA=function(s,r,i){o.default._validateParameters("createA",arguments);var c=document.createElement("a");return c.href=s,c.innerHTML=r,i&&(c.target=i),d(c,this)},o.default.prototype.createSlider=function(s,r,i,c){o.default._validateParameters("createSlider",arguments);var h=document.createElement("input");return h.type="range",h.min=s,h.max=r,0===c?h.step=1e-18:c&&(h.step=c),"number"==typeof i&&(h.value=i),d(h,this)},o.default.prototype.createButton=function(s,r){o.default._validateParameters("createButton",arguments);var i=document.createElement("button");return i.innerHTML=s,r&&(i.value=r),d(i,this)},o.default.prototype.createCheckbox=function(){o.default._validateParameters("createCheckbox",arguments);var s=document.createElement("div"),r=document.createElement("input"),i=(r.type="checkbox",document.createElement("label")),c=(i.appendChild(r),s.appendChild(i),d(s,this));return c.checked=function(){var h=c.elt.firstElementChild.getElementsByTagName("input")[0];if(h){if(0===arguments.length)return h.checked;h.checked=!!arguments[0]}return c},this.value=function(h){return c.value=h,this},arguments[0]&&(c.value(arguments[0]),(s=document.createElement("span")).innerHTML=arguments[0],i.appendChild(s)),arguments[1]&&(r.checked=!0),c},o.default.prototype.createSelect=function(){o.default._validateParameters("createSelect",arguments);var s,r,i=arguments[0];return i instanceof o.default.Element&&i.elt instanceof HTMLSelectElement?this.elt=(s=i).elt:i instanceof HTMLSelectElement?(s=d(i,this),this.elt=i):(r=document.createElement("select"),i&&"boolean"==typeof i&&r.setAttribute("multiple","true"),s=d(r,this),this.elt=r),s.option=function(c,h){var y;if(void 0!==c){for(var v,x=0;x<this.elt.length;x+=1)if(this.elt[x].textContent===c){y=x;break}void 0!==y?!1===h?this.elt.remove(y):this.elt[y].value=h:((v=document.createElement("option")).textContent=c,v.value=void 0===h?c:h,this.elt.appendChild(v),this._pInst._elements.push(v))}},s.selected=function(c){if(void 0!==c){for(var h=0;h<this.elt.length;h+=1)this.elt[h].value.toString()===c.toString()&&(this.elt.selectedIndex=h);return this}if(this.elt.getAttribute("multiple")){var y=[],v=!0,x=!1,w=void 0;try{for(var C,N=this.elt.selectedOptions[Symbol.iterator]();!(v=(C=N.next()).done);v=!0)y.push(C.value.value)}catch(F){x=!0,w=F}finally{try{v||null==N.return||N.return()}finally{if(x)throw w}}return y}return this.elt.value},s.disable=function(c){if("string"==typeof c)for(var h=0;h<this.elt.length;h++)this.elt[h].value.toString()===c&&(this.elt[h].disabled=!0,this.elt[h].selected=!1);else this.elt.disabled=!0;return this},s},o.default.prototype.createRadio=function(){function s(v){return v instanceof HTMLInputElement&&"radio"===v.type}function r(v){return v instanceof HTMLLabelElement}var i,c,h,y=arguments[0];return y instanceof o.default.Element&&(y.elt instanceof HTMLDivElement||y.elt instanceof HTMLSpanElement)?(i=y,this.elt=y.elt):y instanceof HTMLDivElement||y instanceof HTMLSpanElement?(i=d(y,this),c=this.elt=y,"string"==typeof arguments[1]&&(h=arguments[1])):("string"==typeof y&&(h=y),c=document.createElement("div"),i=d(c,this),this.elt=c),i._name=h||"radioOption",i._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(v){return s(v)||r(v)&&s(v.firstElementChild)}).map(function(v){return s(v)?v:v.firstElementChild})},i.option=function(v,x){var w,C,N,M=!0,F=!1,j=void 0;try{for(var B,G=i._getOptionsArray()[Symbol.iterator]();!(M=(B=G.next()).done);M=!0){var ee=B.value;if(ee.value===v){w=ee;break}}}catch($){F=!0,j=$}finally{try{M||null==G.return||G.return()}finally{if(F)throw j}}return void 0===w&&((w=document.createElement("input")).setAttribute("type","radio"),w.setAttribute("value",v)),w.setAttribute("name",i._name),r(w.parentElement)?C=w.parentElement:(C=document.createElement("label")).insertAdjacentElement("afterbegin",w),C.lastElementChild instanceof HTMLSpanElement?N=C.lastElementChild:(N=document.createElement("span"),w.insertAdjacentElement("afterend",N)),N.innerHTML=void 0===x?v:x,this.elt.appendChild(C),w},i.remove=function(v){var x=!0,w=!1,C=void 0;try{for(var N,M=i._getOptionsArray()[Symbol.iterator]();!(x=(N=M.next()).done);x=!0){var F=N.value;if(F.value===v)return void(r(F.parentElement)?F.parentElement:F).remove()}}catch(j){w=!0,C=j}finally{try{x||null==M.return||M.return()}finally{if(w)throw C}}},i.value=function(){var v="",x=!0,w=!1,C=void 0;try{for(var N,M=i._getOptionsArray()[Symbol.iterator]();!(x=(N=M.next()).done);x=!0){var F=N.value;if(F.checked){v=F.value;break}}}catch(j){w=!0,C=j}finally{try{x||null==M.return||M.return()}finally{if(w)throw C}}return v},i.selected=function(v){var x=null;if(void 0===v){var w=!0,C=!1,N=void 0;try{for(var M,F=i._getOptionsArray()[Symbol.iterator]();!(w=(M=F.next()).done);w=!0){var j=M.value;if(j.checked){x=j;break}}}catch(H){C=!0,N=H}finally{try{w||null==F.return||F.return()}finally{if(C)throw N}}}else{i._getOptionsArray().forEach(function(oe){oe.checked=!1,oe.removeAttribute("checked")});var B=!0;C=!1,N=void 0;try{for(var G,ee=i._getOptionsArray()[Symbol.iterator]();!(B=(G=ee.next()).done);B=!0){var $=G.value;$.value===v&&($.setAttribute("checked",!0),$.checked=!0,x=$)}}catch(oe){C=!0,N=oe}finally{try{B||null==ee.return||ee.return()}finally{if(C)throw N}}}return x},i.disable=function(){var v=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],x=!0,w=!1,C=void 0;try{for(var N,M=i._getOptionsArray()[Symbol.iterator]();!(x=(N=M.next()).done);x=!0)N.value.setAttribute("disabled",v)}catch(F){w=!0,C=F}finally{try{x||null==M.return||M.return()}finally{if(w)throw C}}},i},o.default.prototype.createColorPicker=function(s){o.default._validateParameters("createColorPicker",arguments);var r=document.createElement("input");return r.type="color",s?s instanceof o.default.Color?r.value=s.toString("#rrggbb"):(o.default.prototype._colorMode="rgb",o.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},r.value=o.default.prototype.color(s).toString("#rrggbb")):r.value="#000000",(r=d(r,this)).color=function(){return s&&(s.mode&&(o.default.prototype._colorMode=s.mode),s.maxes&&(o.default.prototype._colorMaxes=s.maxes)),o.default.prototype.color(this.elt.value)},r},o.default.prototype.createInput=function(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",i=(o.default._validateParameters("createInput",arguments),document.createElement("input"));return i.setAttribute("value",s),i.setAttribute("type",r),d(i,this)},o.default.prototype.createFileInput=function(s){var r,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(o.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(r=document.createElement("input")).setAttribute("type","file"),i&&r.setAttribute("multiple",!0),r.addEventListener("change",function(c){var h=!0,y=!1,v=void 0;try{for(var x,w=c.target.files[Symbol.iterator]();!(h=(x=w.next()).done);h=!0)o.default.File._load(x.value,s)}catch(N){y=!0,v=N}finally{try{h||null==w.return||w.return()}finally{if(y)throw v}}},!1),d(r,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},o.default.prototype.createVideo=function(s,r){return o.default._validateParameters("createVideo",arguments),u(this,"video",s,r)},o.default.prototype.createAudio=function(s,r){return o.default._validateParameters("createAudio",arguments),u(this,"audio",s,r)},o.default.prototype.VIDEO="video",o.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(s){var r=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return r?new Promise(function(i,c){r.call(navigator,s,i,c)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),o.default.prototype.createCapture=function(){if(o.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var s,r=!0,i=!0,c=!0,h=!1,y=void 0;try{for(var v,x=arguments[Symbol.iterator]();!(c=(v=x.next()).done);c=!0){var w=v.value;w===o.default.prototype.VIDEO?i=!1:w===o.default.prototype.AUDIO?r=!1:"object"===a(w)?C=w:"function"==typeof w&&(s=w)}}catch(F){h=!0,y=F}finally{try{c||null==x.return||x.return()}finally{if(h)throw y}}var C=C||{video:r,audio:i},N=document.createElement("video"),M=(N.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(C).then(function(F){try{"srcObject"in N?N.srcObject=F:N.src=window.URL.createObjectURL(F)}catch(j){N.src=F}},console.log),d(N,this,!0));return M.loadedmetadata=!1,N.addEventListener("loadedmetadata",function(){N.play(),N.width?(M.width=N.width,M.height=N.height):(M.width=M.elt.width=N.videoWidth,M.height=M.elt.height=N.videoHeight),M.loadedmetadata=!0,s&&s(N.srcObject)}),M},o.default.prototype.createElement=function(s,r){return o.default._validateParameters("createElement",arguments),s=document.createElement(s),void 0!==r&&(s.innerHTML=r),d(s,this)},o.default.Element.prototype.addClass=function(s){return this.elt.className?this.hasClass(s)||(this.elt.className=this.elt.className+" "+s):this.elt.className=s,this},o.default.Element.prototype.removeClass=function(s){return this.elt.classList.remove(s),this},o.default.Element.prototype.hasClass=function(s){return this.elt.classList.contains(s)},o.default.Element.prototype.toggleClass=function(s){return this.elt.classList.contains(s)?this.elt.classList.remove(s):this.elt.classList.add(s),this},o.default.Element.prototype.child=function(s){return void 0===s?this.elt.childNodes:("string"==typeof s?("#"===s[0]&&(s=s.substring(1)),s=document.getElementById(s)):s instanceof o.default.Element&&(s=s.elt),s instanceof HTMLElement&&this.elt.appendChild(s),this)},o.default.Element.prototype.center=function(s){var r=this.elt.style.display,i="none"===this.elt.style.display,c="none"===this.parent().style.display,h={x:this.elt.offsetLeft,y:this.elt.offsetTop},y=(i&&this.show(),c&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),v=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===s||void 0===s?this.position(y/2+this.parent().offsetLeft,v/2+this.parent().offsetTop):"horizontal"===s?this.position(y/2+this.parent().offsetLeft,h.y):"vertical"===s&&this.position(h.x,v/2+this.parent().offsetTop),this.style("display",r),i&&this.hide(),c&&this.parent().hide(),this},o.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},o.default.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="static"!==arguments[2]&&"fixed"!==arguments[2]&&"relative"!==arguments[2]&&"sticky"!==arguments[2]&&"initial"!==arguments[2]&&"inherit"!==arguments[2]?"absolute":arguments[2],this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this)},o.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var s="";return this.elt.style.transform&&(s=(s=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":arguments[3]+"px"),this.elt.style.transform+=s,this},o.default.Element.prototype._rotate=function(){var s="";return this.elt.style.transform&&(s=(s=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+arguments[0]+"deg)":2===arguments.length?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=s,this},o.default.Element.prototype.style=function(s,r){if(void 0===(r=r instanceof o.default.Color?"rgba("+r.levels[0]+","+r.levels[1]+","+r.levels[2]+","+r.levels[3]/255+")":r)){if(-1===s.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(s);for(var i=s.split(";"),c=0;c<i.length;c++){var h=i[c].split(":");h[0]&&h[1]&&(this.elt.style[h[0].trim()]=h[1].trim())}}else this.elt.style[s]=r,"width"!==s&&"height"!==s&&"left"!==s&&"top"!==s||(r=window.getComputedStyle(this.elt).getPropertyValue(s).replace(/[^\d.]/g,""),this[s]=Math.round(parseFloat(r,10)));return this},o.default.Element.prototype.attribute=function(s,r){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===r?this.elt.getAttribute(s):(this.elt.setAttribute(s,r),this);if(void 0===r)return this.elt.firstChild.getAttribute(s);for(var i=0;i<this.elt.childNodes.length;i++)this.elt.childNodes[i].setAttribute(s,r)},o.default.Element.prototype.removeAttribute=function(s){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var r=0;r<this.elt.childNodes.length;r++)this.elt.childNodes[r].removeAttribute(s);return this.elt.removeAttribute(s),this},o.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},o.default.Element.prototype.show=function(){return this.elt.style.display="block",this},o.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},o.default.Element.prototype.size=function(s,r){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var i=s,c=r,h=o.default.prototype.AUTO;if(i!==h||c!==h){if(i===h?i=r*this.width/this.height:c===h&&(c=s*this.height/this.width),this.elt instanceof HTMLCanvasElement){var y,v={},x=this.elt.getContext("2d");for(y in x)v[y]=x[y];for(y in this.elt.setAttribute("width",i*this._pInst._pixelDensity),this.elt.setAttribute("height",c*this._pInst._pixelDensity),this.elt.style.width=i+"px",this.elt.style.height=c+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),v)this.elt.getContext("2d")[y]=v[y]}else this.elt.style.width=i+"px",this.elt.style.height=c+"px",this.elt.width=i,this.elt.height=c;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},o.default.Element.prototype.remove=function(){this instanceof o.default.MediaElement&&(this.stop(),null!==(r=this.elt.srcObject)&&r.getTracks().forEach(function(i){i.stop()}));var s,r=this._pInst._elements.indexOf(this);for(s in-1!==r&&this._pInst._elements.splice(r,1),this._events)this.elt.removeEventListener(s,this._events[s]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},o.default.Element.prototype.drop=function(s,r){var i;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",i=function(c){c.preventDefault()}),this.elt.addEventListener("dragleave",i)),o.default.Element._attachListener("drop",function(c){c.preventDefault(),"function"==typeof r&&r.call(this,c);for(var h=c.dataTransfer.files,y=0;y<h.length;y++)o.default.File._load(h[y],s)},this)):console.log("The File APIs are not fully supported in this browser."),this},o.default.MediaElement=function(s,r){o.default.Element.call(this,s,r);var i=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(i,"src",{get:function(){var c=i.elt.children[0].src,h=i.elt.src===window.location.href?"":i.elt.src;return c===window.location.href?h:c},set:function(c){for(var h=0;h<i.elt.children.length;h++)i.elt.removeChild(i.elt.children[h]);var y=document.createElement("source");y.src=c,s.appendChild(y),i.elt.src=c,i.modified=!0}}),i._onended=function(){},i.elt.onended=function(){i._onended(i)}},o.default.MediaElement.prototype=Object.create(o.default.Element.prototype),o.default.MediaElement.prototype.play=function(){var s,r=this;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(s=this.elt.play())&&s.catch&&s.catch(function(i){"NotAllowedError"===i.name?o.default._friendlyAutoplayError(r.src):console.error("Media play method encountered an unexpected error",i)}),this},o.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},o.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},o.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},o.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},o.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var s=this,r=setTimeout(function(){return o.default._friendlyAutoplayError(s.src)},500);this.elt.addEventListener("play",function(){return clearTimeout(r)},{passive:!0,once:!0})},o.default.MediaElement.prototype.autoplay=function(s){var r=this,i=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",s),s&&!i&&(s=function(){return r._setupAutoplayFailDetection()},4===this.elt.readyState?s():this.elt.addEventListener("canplay",s,{passive:!0,once:!0})),this},o.default.MediaElement.prototype.volume=function(s){if(void 0===s)return this.elt.volume;this.elt.volume=s},o.default.MediaElement.prototype.speed=function(s){if(void 0===s)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=s:this.presetPlaybackRate=s},o.default.MediaElement.prototype.time=function(s){return void 0===s?this.elt.currentTime:(this.elt.currentTime=s,this)},o.default.MediaElement.prototype.duration=function(){return this.elt.duration},o.default.MediaElement.prototype.pixels=[],o.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},o.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),o.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},o.default.MediaElement.prototype.updatePixels=function(s,r,i,c){return this.loadedmetadata&&(this._ensureCanvas(),o.default.Renderer2D.prototype.updatePixels.call(this,s,r,i,c)),this.setModified(!0),this},o.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),o.default.Renderer2D.prototype.get.apply(this,arguments)},o.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),o.default.Renderer2D.prototype._getPixel.apply(this,arguments)},o.default.MediaElement.prototype.set=function(s,r,i){this.loadedmetadata&&(this._ensureCanvas(),o.default.Renderer2D.prototype.set.call(this,s,r,i),this.setModified(!0))},o.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),o.default.prototype.copy.apply(this,arguments)},o.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),o.default.Image.prototype.mask.apply(this,arguments)},o.default.MediaElement.prototype.isModified=function(){return this._modified},o.default.MediaElement.prototype.setModified=function(s){this._modified=s},o.default.MediaElement.prototype.onended=function(s){return this._onended=s,this},o.default.MediaElement.prototype.connect=function(s){var r,i;if("function"==typeof o.default.prototype.getAudioContext)r=o.default.prototype.getAudioContext(),i=o.default.soundOut.input;else try{i=(r=s.context).destination}catch(c){throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=r.createMediaElementSource(this.elt),this.audioSourceNode.connect(i)),this.audioSourceNode.connect(s?s.input?s.input:s:i)},o.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},o.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},o.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1},o.default.MediaElement.prototype.addCue=function(s,h,i){var c=this._cueIDCounter++;return h=new p(h,s,c,i),this._cues.push(h),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),c},o.default.MediaElement.prototype.removeCue=function(s){for(var r=0;r<this._cues.length;r++)this._cues[r].id===s&&(console.log(s),this._cues.splice(r,1));0===this._cues.length&&(this.elt.ontimeupdate=null)},o.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},o.default.MediaElement.prototype._onTimeUpdate=function(){for(var s=this.time(),r=0;r<this._cues.length;r++){var i=this._cues[r].time;this._prevTime<i&&i<=s&&this._cues[r].callback(this._cues[r].val)}this._prevTime=s},o.default.File=function(s,r){this.file=s,this._pInst=r,r=s.type.split("/"),this.type=r[0],this.subtype=r[1],this.name=s.name,this.size=s.size,this.data=void 0},o.default.File._createLoader=function(s,r){var i=new FileReader;return i.onload=function(c){var h,y=new o.default.File(s);"application/json"===y.file.type?y.data=JSON.parse(c.target.result):"text/xml"===y.file.type?(h=(new DOMParser).parseFromString(c.target.result,"text/xml"),y.data=new o.default.XML(h.documentElement)):y.data=c.target.result,r(y)},i},o.default.File._load=function(s,r){var i;/^text\//.test(s.type)||"application/json"===s.type?o.default.File._createLoader(s,r).readAsText(s):/^(video|audio)\//.test(s.type)?((i=new o.default.File(s)).data=URL.createObjectURL(s),r(i)):o.default.File._createLoader(s,r).readAsDataURL(s)},E.default=e=o.default},{"../core/main":267,"core-js/modules/es.array.every":151,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230,"core-js/modules/web.url":232}],284:[function(e,U,E){"use strict";function f(w){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(w)}function o(w){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(C){return f(C)}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":f(C)})(w)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=(x=e("../core/main"))&&x.__esModule?x:{default:x},d=function(w){if(w&&w.__esModule)return w;if(null===w||"object"!==o(w)&&"function"!=typeof w)return{default:w};var C=u();if(C&&C.has(w))return C.get(w);var N,M={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(N in w){var j;Object.prototype.hasOwnProperty.call(w,N)&&((j=F?Object.getOwnPropertyDescriptor(w,N):null)&&(j.get||j.set)?Object.defineProperty(M,N,j):M[N]=w[N])}return M.default=w,C&&C.set(w,M),M}(e("../core/constants"));function u(){var w;return"function"!=typeof WeakMap?null:(u=function(){return w},w=new WeakMap)}a.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",a.default.prototype.accelerationX=0,a.default.prototype.accelerationY=0,a.default.prototype.accelerationZ=0,a.default.prototype.pAccelerationX=0,a.default.prototype.pAccelerationY=0,a.default.prototype.pAccelerationZ=0,a.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},a.default.prototype.rotationX=0,a.default.prototype.rotationY=0,a.default.prototype.rotationZ=0,a.default.prototype.pRotationX=0,a.default.prototype.pRotationY=0;var p=a.default.prototype.pRotationZ=0,s=0,r=0,i="clockwise",c="clockwise",h="clockwise",y=(a.default.prototype.pRotateDirectionX=void 0,a.default.prototype.pRotateDirectionY=void 0,a.default.prototype.pRotateDirectionZ=void 0,a.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},a.default.prototype.turnAxis=void 0,.5),v=30,x=(a.default.prototype.setMoveThreshold=function(w){a.default._validateParameters("setMoveThreshold",arguments),y=w},a.default.prototype.setShakeThreshold=function(w){a.default._validateParameters("setShakeThreshold",arguments),v=w},a.default.prototype._ondeviceorientation=function(w){this._updatePRotations(),this._angleMode===d.radians&&(w.beta=w.beta*(_PI/180),w.gamma=w.gamma*(_PI/180),w.alpha=w.alpha*(_PI/180)),this._setProperty("rotationX",w.beta),this._setProperty("rotationY",w.gamma),this._setProperty("rotationZ",w.alpha),this._handleMotion()},a.default.prototype._ondevicemotion=function(w){this._updatePAccelerations(),this._setProperty("accelerationX",2*w.acceleration.x),this._setProperty("accelerationY",2*w.acceleration.y),this._setProperty("accelerationZ",2*w.acceleration.z),this._handleMotion()},a.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var w,C,N,M,F,j=this._isGlobal?window:this;"function"==typeof j.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>y||Math.abs(this.accelerationY-this.pAccelerationY)>y||Math.abs(this.accelerationZ-this.pAccelerationZ)>y)&&j.deviceMoved(),"function"==typeof j.deviceTurned&&(N=p+180,0<(C=this.rotationX+180)-(w=this.pRotationX+180)&&C-w<270||C-w<-270?i="clockwise":(C-w<0||270<C-w)&&(i="counter-clockwise"),i!==this.pRotateDirectionX&&(N=C),90<Math.abs(C-N)&&Math.abs(C-N)<270&&(N=C,this._setProperty("turnAxis","X"),j.deviceTurned()),this.pRotateDirectionX=i,p=N-180,N=s+180,0<(w=this.rotationY+180)-(C=this.pRotationY+180)&&w-C<270||w-C<-270?c="clockwise":(w-C<0||270<w-this.pRotationY)&&(c="counter-clockwise"),c!==this.pRotateDirectionY&&(N=w),90<Math.abs(w-N)&&Math.abs(w-N)<270&&(N=w,this._setProperty("turnAxis","Y"),j.deviceTurned()),this.pRotateDirectionY=c,s=N-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?h="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(h="counter-clockwise"),h!==this.pRotateDirectionZ&&(r=this.rotationZ),90<Math.abs(this.rotationZ-r)&&Math.abs(this.rotationZ-r)<270&&(r=this.rotationZ,this._setProperty("turnAxis","Z"),j.deviceTurned()),this.pRotateDirectionZ=h,this._setProperty("turnAxis",void 0)),"function"==typeof j.deviceShaken&&(null!==this.pAccelerationX&&(M=Math.abs(this.accelerationX-this.pAccelerationX),F=Math.abs(this.accelerationY-this.pAccelerationY)),v<M+F&&j.deviceShaken())},a.default);E.default=x},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],285:[function(e,U,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(e=e("../core/main"))&&e.__esModule?e:{default:e};f.default.prototype.isKeyPressed=!1,f.default.prototype.keyIsPressed=!1,f.default.prototype.key="",f.default.prototype.keyCode=0,f.default.prototype._onkeydown=function(o){var a;this._downKeys[o.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",o.which),this._downKeys[o.which]=!0,this._setProperty("key",o.key||String.fromCharCode(o.which)||o.which),"function"!=typeof(a=this._isGlobal?window:this).keyPressed||o.charCode||!1===a.keyPressed(o)&&o.preventDefault())},f.default.prototype._onkeyup=function(o){this._downKeys[o.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",o.key||String.fromCharCode(o.which)||o.which),this._setProperty("keyCode",o.which);var a=this._isGlobal?window:this;"function"==typeof a.keyReleased&&!1===a.keyReleased(o)&&o.preventDefault()},f.default.prototype._onkeypress=function(o){var a;o.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",o.which),this._setProperty("key",o.key||String.fromCharCode(o.which)||o.which),"function"==typeof(a=this._isGlobal?window:this).keyTyped&&!1===a.keyTyped(o)&&o.preventDefault())},f.default.prototype._onblur=function(o){this._downKeys={}},f.default.prototype.keyIsDown=function(o){return f.default._validateParameters("keyIsDown",arguments),this._downKeys[o]||!1},f.default.prototype._areDownKeys=function(){for(var o in this._downKeys)if(this._downKeys.hasOwnProperty(o)&&!0===this._downKeys[o])return!0;return!1},E.default=e=f.default},{"../core/main":267}],286:[function(e,U,E){"use strict";function f(p){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(p)}function o(p){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(s){return f(s)}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":f(s)})(p)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=(a=e("../core/main"))&&a.__esModule?a:{default:a},d=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==o(p)&&"function"!=typeof p)return{default:p};var s=u();if(s&&s.has(p))return s.get(p);var r,i={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in p){var h;Object.prototype.hasOwnProperty.call(p,r)&&((h=c?Object.getOwnPropertyDescriptor(p,r):null)&&(h.get||h.set)?Object.defineProperty(i,r,h):i[r]=p[r])}return i.default=p,s&&s.set(p,i),i}(e("../core/constants"));function u(){var p;return"function"!=typeof WeakMap?null:(u=function(){return p},p=new WeakMap)}a.default.prototype.movedX=0,a.default.prototype.movedY=0,a.default.prototype._hasMouseInteracted=!1,a.default.prototype.mouseX=0,a.default.prototype.mouseY=0,a.default.prototype.pmouseX=0,a.default.prototype.pmouseY=0,a.default.prototype.winMouseX=0,a.default.prototype.winMouseY=0,a.default.prototype.pwinMouseX=0,a.default.prototype.pwinMouseY=0,a.default.prototype.mouseButton=0,a.default.prototype.mouseIsPressed=!1,a.default.prototype._updateNextMouseCoords=function(p){var s,r,i,c,h;null!==this._curElement&&(!p.touches||0<p.touches.length)&&(r=this.width,i=this.height,(c=p)&&!c.clientX&&(c.touches?c=c.touches[0]:c.changedTouches&&(c=c.changedTouches[0])),h=(s=this._curElement.elt).getBoundingClientRect(),i={x:(c.clientX-h.left)/(r=s.scrollWidth/r||1),y:(c.clientY-h.top)/(s=s.scrollHeight/i||1),winX:c.clientX,winY:c.clientY,id:c.identifier},this._setProperty("movedX",p.movementX),this._setProperty("movedY",p.movementY),this._setProperty("mouseX",i.x),this._setProperty("mouseY",i.y),this._setProperty("winMouseX",i.winX),this._setProperty("winMouseY",i.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},a.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},a.default.prototype._setMouseButton=function(p){this._setProperty("mouseButton",1===p.button?d.CENTER:2===p.button?d.RIGHT:d.LEFT)},a.default.prototype._onmousemove=function(p){var s=this._isGlobal?window:this;this._updateNextMouseCoords(p),this.mouseIsPressed?"function"==typeof s.mouseDragged?!1===s.mouseDragged(p)&&p.preventDefault():"function"==typeof s.touchMoved&&!1===s.touchMoved(p)&&p.preventDefault():"function"==typeof s.mouseMoved&&!1===s.mouseMoved(p)&&p.preventDefault()},a.default.prototype._onmousedown=function(p){var s=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(p),this._updateNextMouseCoords(p),"function"==typeof s.mousePressed?!1===s.mousePressed(p)&&p.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof s.touchStarted&&!1===s.touchStarted(p)&&p.preventDefault()},a.default.prototype._onmouseup=function(p){var s=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),"function"==typeof s.mouseReleased?!1===s.mouseReleased(p)&&p.preventDefault():"function"==typeof s.touchEnded&&!1===s.touchEnded(p)&&p.preventDefault()},a.default.prototype._ondragend=a.default.prototype._onmouseup,a.default.prototype._ondragover=a.default.prototype._onmousemove,a.default.prototype._onclick=function(p){var s=this._isGlobal?window:this;"function"==typeof s.mouseClicked&&!1===s.mouseClicked(p)&&p.preventDefault()},a.default.prototype._ondblclick=function(p){var s=this._isGlobal?window:this;"function"==typeof s.doubleClicked&&!1===s.doubleClicked(p)&&p.preventDefault()},a.default.prototype._mouseWheelDeltaY=0,a.default.prototype._pmouseWheelDeltaY=0,a.default.prototype._onwheel=function(p){var s=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",p.deltaY),"function"==typeof s.mouseWheel&&(p.delta=p.deltaY,!1===s.mouseWheel(p)&&p.preventDefault())},a.default.prototype.requestPointerLock=function(){var p=this._curElement.elt;return p.requestPointerLock=p.requestPointerLock||p.mozRequestPointerLock,p.requestPointerLock?(p.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},a.default.prototype.exitPointerLock=function(){document.exitPointerLock()},E.default=e=a.default},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],287:[function(e,U,E){"use strict";e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.prototype.touches=[],e.default.prototype._updateTouchCoords=function(f){if(null!==this._curElement){for(var o=[],a=0;a<f.touches.length;a++)o[a]=function(h,c,y,s){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=h.getBoundingClientRect();return c=h.scrollWidth/c||1,h=h.scrollHeight/y||1,{x:((y=s.touches[r]||s.changedTouches[r]).clientX-i.left)/c,y:(y.clientY-i.top)/h,winX:y.clientX,winY:y.clientY,id:y.identifier}}(this._curElement.elt,this.width,this.height,f,a);this._setProperty("touches",o)}},e.default.prototype._ontouchstart=function(f){var o=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(f),this._updateNextMouseCoords(f),this._updateMouseCoords(),"function"==typeof o.touchStarted?!1===o.touchStarted(f)&&f.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof o.mousePressed&&!1===o.mousePressed(f)&&f.preventDefault()},e.default.prototype._ontouchmove=function(f){var o=this._isGlobal?window:this;this._updateTouchCoords(f),this._updateNextMouseCoords(f),"function"==typeof o.touchMoved?!1===o.touchMoved(f)&&f.preventDefault():"function"==typeof o.mouseDragged&&!1===o.mouseDragged(f)&&f.preventDefault()},e.default.prototype._ontouchend=function(f){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(f),this._updateNextMouseCoords(f);var o=this._isGlobal?window:this;"function"==typeof o.touchEnded?!1===o.touchEnded(f)&&f.preventDefault():"function"==typeof o.mouseReleased&&!1===o.mouseReleased(f)&&f.preventDefault()},E.default=e=e.default},{"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],288:[function(e,U,E){"use strict";e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.int32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.int32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f,o,a,d,u={};u._toPixels=function(s){var r,i;return s instanceof ImageData?s.data:s.getContext("2d")?s.getContext("2d").getImageData(0,0,s.width,s.height).data:s.getContext("webgl")?(i=(r=s.getContext("webgl")).drawingBufferWidth*r.drawingBufferHeight*4,i=new Uint8Array(i),r.readPixels(0,0,s.width,s.height,r.RGBA,r.UNSIGNED_BYTE,i),i):void 0},u._getARGB=function(s,r){return s[3+(r*=4)]<<24&4278190080|s[r]<<16&16711680|s[1+r]<<8&65280|255&s[2+r]},u._setPixels=function(s,r){for(var i,c=0,h=s.length;c<h;c++)s[0+(i=4*c)]=(16711680&r[c])>>>16,s[1+i]=(65280&r[c])>>>8,s[2+i]=255&r[c],s[3+i]=(4278190080&r[c])>>>24},u._toImageData=function(s){return s instanceof ImageData?s:s.getContext("2d").getImageData(0,0,s.width,s.height)},u._createImageData=function(s,r){return u._tmpCanvas=document.createElement("canvas"),u._tmpCtx=u._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(s,r)},u.apply=function(s,y,i){var c=s.getContext("2d"),h=c.getImageData(0,0,s.width,s.height);(y=y(h,i))instanceof ImageData?c.putImageData(y,0,0,0,0,s.width,s.height):c.putImageData(h,0,0,0,0,s.width,s.height)},u.threshold=function(s,r){for(var i=u._toPixels(s),c=(void 0===r&&(r=.5),Math.floor(255*r)),h=0;h<i.length;h+=4)i[h]=i[h+1]=i[h+2]=c<=.2126*i[h]+.7152*i[h+1]+.0722*i[h+2]?255:0},u.gray=function(s){for(var r=u._toPixels(s),i=0;i<r.length;i+=4)r[i]=r[i+1]=r[i+2]=.2126*r[i]+.7152*r[i+1]+.0722*r[i+2]},u.opaque=function(s){for(var r=u._toPixels(s),i=0;i<r.length;i+=4)r[i+3]=255;return r},u.invert=function(s){for(var r=u._toPixels(s),i=0;i<r.length;i+=4)r[i]=255-r[i],r[i+1]=255-r[i+1],r[i+2]=255-r[i+2]},u.posterize=function(s,r){var i=u._toPixels(s);if(r<2||255<r)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var c=r-1,h=0;h<i.length;h+=4){var v=i[h+1],x=i[h+2];i[h]=255*(i[h]*r>>8)/c,i[h+1]=255*(v*r>>8)/c,i[h+2]=255*(x*r>>8)/c}},u.dilate=function(s){for(var r,i,c,h,y,v,x,w,C,N=u._toPixels(s),M=0,F=N.length?N.length/4:0,j=new Int32Array(F);M<F;)for(i=(r=M)+s.width;M<i;)h=c=u._getARGB(N,M),(C=M-1)<r&&(C=M),i<=(w=M+1)&&(w=M),(y=M-s.width)<0&&(y=0),F<=(v=M+s.width)&&(v=M),y=u._getARGB(N,y),C=u._getARGB(N,C),v=u._getARGB(N,v),(h=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))<(x=77*(C>>16&255)+151*(C>>8&255)+28*(255&C))&&(c=C,h=x),h<(x=77*((C=u._getARGB(N,w))>>16&255)+151*(C>>8&255)+28*(255&C))&&(c=C,h=x),h<(w=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))&&(c=y,h=w),h<(C=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))&&(c=v,h=C),j[M++]=c;u._setPixels(N,j)},u.erode=function(s){for(var r,i,c,h,y,v,x,w,C,N=u._toPixels(s),M=0,F=N.length?N.length/4:0,j=new Int32Array(F);M<F;)for(i=(r=M)+s.width;M<i;)h=c=u._getARGB(N,M),(C=M-1)<r&&(C=M),i<=(w=M+1)&&(w=M),(y=M-s.width)<0&&(y=0),F<=(v=M+s.width)&&(v=M),y=u._getARGB(N,y),C=u._getARGB(N,C),v=u._getARGB(N,v),(x=77*(C>>16&255)+151*(C>>8&255)+28*(255&C))<(h=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))&&(c=C,h=x),(x=77*((C=u._getARGB(N,w))>>16&255)+151*(C>>8&255)+28*(255&C))<h&&(c=C,h=x),(w=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))<h&&(c=y,h=w),(C=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))<h&&(c=v,h=C),j[M++]=c;u._setPixels(N,j)},u.blur=function(s,r){!function p(s,r){for(var i,c,h,y,v,x,w,C,N,M,F=u._toPixels(s),j=s.width,B=s.height,G=j*B,ee=new Int32Array(G),$=0;$<G;$++)ee[$]=u._getARGB(F,$);var H,Z,oe,Q=new Int32Array(G),te=new Int32Array(G),me=new Int32Array(G),ce=new Int32Array(G),he=0,Ae=3.5*r|0;if(f!==(Ae=Ae<1?1:Ae<248?Ae:248)){o=1+(f=Ae)<<1,a=new Int32Array(o),d=new Array(o);for(var A,q,K=0;K<o;K++)d[K]=new Int32Array(256);for(var we=1,Fe=Ae-1;we<Ae;we++){a[Ae+we]=a[Fe]=q=Fe*Fe;for(var Te=d[Ae+we],Ie=d[Fe--],Ve=0;Ve<256;Ve++)Te[Ve]=Ie[Ve]=q*Ve}A=a[Ae]=Ae*Ae,Te=d[Ae];for(var Ue=0;Ue<256;Ue++)Te[Ue]=A*Ue}for(Z=0;Z<B;Z++){for(H=0;H<j;H++){if(y=h=c=v=i=0,(x=H-f)<0)M=-x,x=0;else{if(j<=x)break;M=0}for(oe=M;oe<o&&!(j<=x);oe++){var et,mt=ee[x+he];v+=(et=d[oe])[(-16777216&mt)>>>24],c+=et[(16711680&mt)>>16],h+=et[(65280&mt)>>8],y+=et[255&mt],i+=a[oe],x++}Q[w=he+H]=v/i,te[w]=c/i,me[w]=h/i,ce[w]=y/i}he+=j}for(N=(C=-f)*j,Z=he=0;Z<B;Z++){for(H=0;H<j;H++){if(C<(y=h=c=v=i=0))M=w=-C,x=H;else{if(B<=C)break;M=0,w=C,x=H+N}for(oe=M;oe<o&&!(B<=w);oe++)v+=(et=d[oe])[Q[x]],c+=et[te[x]],h+=et[me[x]],y+=et[ce[x]],i+=a[oe],w++,x+=j;ee[H+he]=v/i<<24|c/i<<16|h/i<<8|y/i}he+=j,N+=j,C++}u._setPixels(F,ee)}(s,r)},E.default=u},{"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int32-array":209,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],289:[function(e,U,E){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=a(e("../core/main")),o=a(e("omggif"));function a(u){return u&&u.__esModule?u:{default:u}}function d(u){return function(p){if(Array.isArray(p)){for(var s=0,r=new Array(p.length);s<p.length;s++)r[s]=p[s];return r}}(u)||function(p){if(Symbol.iterator in Object(p)||"[object Arguments]"===Object.prototype.toString.call(p))return Array.from(p)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}f.default.prototype.createImage=function(u,p){return f.default._validateParameters("createImage",arguments),new f.default.Image(u,p)},f.default.prototype.saveCanvas=function(){f.default._validateParameters("saveCanvas",arguments);var u,p,s,r,i=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(u=arguments[0],i.shift()):arguments[0]instanceof f.default.Element?(u=arguments[0].elt,i.shift()):u=this._curElement&&this._curElement.elt,1<=i.length&&(p=i[0]),s=(s=2<=i.length?i[1]:s)||f.default.prototype._checkFileExtension(p,s)[1]||"png"){default:r="image/png";break;case"jpeg":case"jpg":r="image/jpeg"}u.toBlob(function(c){f.default.prototype.downloadFile(c,p,s)},r)},f.default.prototype.encodeAndDownloadGif=function(u,p){for(var s=u.gifProperties,i=(1===(r=s.loopLimit)?r=null:null===r&&(r=0),new Uint8Array(u.width*u.height*s.numFrames)),c=[],h={},y=0;y<s.numFrames;y++){for(var v=new Set,x=s.frames[y].image.data,w=x.length,C=new Uint32Array(u.width*u.height),N=0,M=0;N<w;N+=4,M++){var F=x[N+0]<<16|x[N+1]<<8|x[N+2]<<0;v.add(F),C[M]=F}var j=d(v).sort().toString();void 0===h[j]?h[j]={freq:1,frames:[y]}:(h[j].freq+=1,h[j].frames.push(y)),c.push(C)}for(var ee=[],B=Object.keys(h).sort(function(A,q){return h[q].freq-h[A].freq}),G=B[0].split(",").map(function(A){return parseInt(A)}),$=(ee=ee.concat(h[G].frames),new Set(G)),H=1;H<B.length;H++){var Z=B[H].split(",").map(function(A){return parseInt(A)}).filter(function(A){return!$.has(A)});if(G.length+Z.length<=256){for(var oe=0;oe<Z.length;oe++)G.push(Z[oe]),$.add(Z[oe]);ee=ee.concat(h[B[H]].frames)}}ee=new Set(ee);for(var Q={},te=0;te<G.length;te++)Q[G[te]]||(Q[G[te]]=te);for(var me=1;me<G.length;)me<<=1;G.length=me;for(var r={loop:r,palette:new Uint32Array(G)},ce=new o.default.GifWriter(i,u.width,u.height,r),he={},Ae=0;Ae<s.numFrames;Ae++)!function(q){for(var K=!ee.has(q),we=K?[]:G,Fe=new Uint8Array(u.width*u.height),Te={},Ie=new Set,Ve=0;Ve<c[q].length;Ve++){var Ue=c[q][Ve];K?(void 0===Te[Ue]&&(Te[Ue]=we.length,we.push(Ue)),Fe[Ve]=Te[Ue]):Fe[Ve]=Q[Ue],0<q&&c[q-1][Ve]!==Ue&&Ie.add(Ue)}var et={};if(0<(mt=we.filter(function(ft){return!Ie.has(ft)})).length){var mt,Re=(K?Te:Q)[mt=mt[0]];if(0<q){for(var ot=0;ot<c[q].length;ot++)c[q-1][ot]===c[q][ot]&&(Fe[ot]=Re);et.transparent=Re,he.frameOpts.disposal=1}}if(et.delay=s.frames[q].delay/10,K){for(var ut=1;ut<we.length;)ut<<=1;we.length=ut,et.palette=new Uint32Array(we)}0<q&&ce.addFrame(0,0,u.width,u.height,he.pixelPaletteIndex,he.frameOpts),he={pixelPaletteIndex:Fe,frameOpts:et}}(Ae);he.frameOpts.disposal=1,ce.addFrame(0,0,u.width,u.height,he.pixelPaletteIndex,he.frameOpts),r=new Blob([i.slice(0,ce.end())],{type:"image/gif"}),f.default.prototype.downloadFile(r,p,"gif")},f.default.prototype.saveFrames=function(u,p,s,c,i){f.default._validateParameters("saveFrames",arguments),s=f.default.prototype.constrain(s=s||3,0,15),s*=1e3,c=f.default.prototype.constrain(c||15,0,22);var h=0,y=f.default.prototype._makeFrame,v=this._curElement.elt,x=[],w=setInterval(function(){x.push(y(u+h,p,v)),h++},1e3/c);setTimeout(function(){if(clearInterval(w),i)i(x);else{var C=!0,N=!1,M=void 0;try{for(var F,j=x[Symbol.iterator]();!(C=(F=j.next()).done);C=!0){var B=F.value;f.default.prototype.downloadFile(B.imageData,B.filename,B.ext)}}catch(G){N=!0,M=G}finally{try{C||null==j.return||j.return()}finally{if(N)throw M}}}x=[]},.01+s)},f.default.prototype._makeFrame=function(u,p,i){var r;if(i=this?this._curElement.elt:i,p)switch(p.toLowerCase()){case"png":default:r="image/png";break;case"jpeg":case"jpg":r="image/jpeg"}else p="png",r="image/png";i=(i=i.toDataURL(r)).replace(r,"image/octet-stream");var c={};return c.imageData=i,c.filename=u,c.ext=p,c},E.default=e=f.default},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230,omggif:240}],290:[function(e,U,E){"use strict";function f(v){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(v)}function o(v){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(x){return f(x)}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":f(x)})(v)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.copy-within"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.copy-within"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,e("regenerator-runtime/runtime");var a=i(e("../core/main")),d=i(e("../core/helpers")),u=function(v){if(v&&v.__esModule)return v;if(null===v||"object"!==o(v)&&"function"!=typeof v)return{default:v};var x=r();if(x&&x.has(v))return x.get(v);var w,C={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in v){var M;Object.prototype.hasOwnProperty.call(v,w)&&((M=N?Object.getOwnPropertyDescriptor(v,w):null)&&(M.get||M.set)?Object.defineProperty(C,w,M):C[w]=v[w])}return C.default=v,x&&x.set(v,C),C}(e("../core/constants")),p=i(e("omggif")),s=e("gifenc");function r(){var v;return"function"!=typeof WeakMap?null:(r=function(){return v},v=new WeakMap)}function i(v){return v&&v.__esModule?v:{default:v}}function c(v,x,w,C,N,M,F){try{var j=v[M](F),B=j.value}catch(G){return void w(G)}j.done?x(B):Promise.resolve(B).then(C,N)}function h(v,x,w,C,N,M,F,j,B,G,ee){var $,H,Z,oe,Q,te,me,ce,he;return v===u.COVER&&($=x,Z=w,me=M,ce=F,te=j,he=B,H=G,oe=ee,me/=Q=Math.max(me/H,ce/oe),ce/=Q,Q=te,te=he,$===u.CENTER?Q+=(H-me)/2:$===u.RIGHT&&(Q+=H-me),Z===u.CENTER?te+=(oe-ce)/2:Z===u.BOTTOM&&(te+=oe-ce),j=(he={x:Q,y:te,w:me,h:ce}).x,B=he.y,G=he.w,ee=he.h),v===u.CONTAIN&&($=x,H=w,Z=C,oe=N,Q=M,te=F,me=G,ce=ee,me/=he=Math.max(me/Q,ce/te),ce/=he,he=Z,Z=oe,$===u.CENTER?he+=(Q-me)/2:$===u.RIGHT&&(he+=Q-me),H===u.CENTER?Z+=(te-ce)/2:H===u.BOTTOM&&(Z+=te-ce),C=(v={x:he,y:Z,w:me,h:ce}).x,N=v.y,M=v.w,F=v.h),{sx:j,sy:B,sw:G,sh:ee,dx:C,dy:N,dw:M,dh:F}}function y(v,x){return 0<v&&v<x?v:x}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),a.default.prototype.loadImage=function(v,x,w){a.default._validateParameters("loadImage",arguments);var C=new a.default.Image(1,1,this),N=this,M=new Request(v,{method:"GET",mode:"cors"});return fetch(v,M).then(function(F){var j,B=F.headers.get("content-type");null===B&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),B&&B.includes("image/gif")?F.arrayBuffer().then(function(G){if(G){G=new Uint8Array(G);var ee=C,$=x,H=w,Z=function(K){N._decrementPreload()}.bind(N),oe=new p.default.GifReader(G),Q=(ee.width=ee.canvas.width=oe.width,ee.height=ee.canvas.height=oe.height,[]),te=oe.numFrames(),me=new Uint8ClampedArray(ee.width*ee.height*4);if(1<te){for(var ce=0;ce<te;ce++){var he=oe.frameInfo(ce),Ae=ee.drawingContext.getImageData(0,0,ee.width,ee.height),A=(me=Ae.data.slice(),function(K,we){try{we.decodeAndBlitFrameRGBA(K,me)}catch(Fe){a.default._friendlyFileLoadError(8,ee.src),"function"==typeof H?H(Fe):console.error(Fe)}}(ce,oe),new ImageData(me,ee.width,ee.height));0===(ee.drawingContext.putImageData(A,0,0),A=he.delay)&&(A=10),Q.push({image:ee.drawingContext.getImageData(0,0,ee.width,ee.height),delay:10*A}),2===he.disposal?ee.drawingContext.clearRect(he.x,he.y,he.width,he.height):3===he.disposal&&ee.drawingContext.putImageData(Ae,0,0,he.x,he.y,he.width,he.height)}null===(G=oe.loopCount())?G=1:0===G&&(G=null),ee.drawingContext.putImageData(Q[0].image,0,0),ee.gifProperties={displayIndex:0,loopLimit:G,loopCount:0,frames:Q,numFrames:te,playing:!0,timeDisplayed:0,lastChangeTime:0}}"function"==typeof $&&$(ee),Z()}},function(G){"function"==typeof w?w(G):console.error(G)}):((j=new Image).onload=function(){C.width=C.canvas.width=j.width,C.height=C.canvas.height=j.height,C.drawingContext.drawImage(j,0,0),C.modified=!0,"function"==typeof x&&x(C),N._decrementPreload()},j.onerror=function(G){a.default._friendlyFileLoadError(0,j.src),"function"==typeof w?w(G):console.error(G)},0!==v.indexOf("data:image/")&&(j.crossOrigin="Anonymous"),j.src=v),C.modified=!0}).catch(function(F){a.default._friendlyFileLoadError(0,v),"function"==typeof w?w(F):console.error(F)}),C},a.default.prototype.saveGif=function(){v=m.mark(function w(C,N){var M,F,j,B,G,ee,$,H,Z,oe,Q,te,me,ce,he,Ae,A,q,K,Te,Ie,Ue,et=arguments;return m.wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:if(M=2<et.length&&void 0!==et[2]?et[2]:{delay:0,units:"seconds"},"string"!=typeof C)throw TypeError("fileName parameter must be a string");mt.next=3;break;case 3:if("number"!=typeof N)throw TypeError("Duration parameter must be a number");mt.next=5;break;case 5:if("number"!=typeof M.delay)throw TypeError("Delay parameter must be a number");mt.next=7;break;case 7:if("seconds"!==M.units&&"frames"!==M.units)throw TypeError('Units parameter must be either "frames" or "seconds"');mt.next=9;break;case 9:G=M.delay,F=(F=1/(B=(B=this._targetFrameRate)!==1/0&&void 0!==B&&0!==B?B:60)*1e3)<20?20:F,B=(j="seconds"===(ee=M.units)?N*B:N)+(ee="seconds"===ee?G*B:G),this.frameCount=G=ee,ee=this._pixelDensity,this.pixelDensity(1),$=[],H="p5.gif.progressBar",null!==document.getElementById(H)&&document.getElementById(H).remove(),(H=this.createP("")).id("progressBar"),H.style("font-size","16px"),H.style("font-family","Montserrat"),H.style("background-color","#ffffffa0"),H.style("padding","8px"),H.style("border-radius","10px"),H.position(0,0),this.drawingContext instanceof WebGLRenderingContext&&(oe=document.getElementById("defaultCanvas0").getContext("webgl"),Z=new Uint8Array(oe.drawingBufferWidth*oe.drawingBufferHeight*4)),this.noLoop();case 35:if(G<B)return this.redraw(),he=void 0,he=this.drawingContext instanceof WebGLRenderingContext?(Z=new Uint8Array(oe.drawingBufferWidth*oe.drawingBufferHeight*4),oe.readPixels(0,0,oe.drawingBufferWidth,oe.drawingBufferHeight,oe.RGBA,oe.UNSIGNED_BYTE,Z),function(Re){for(var ot=parseInt(height/2),ut=4*width,ft=new Uint8Array(4*width),Qe=0;Qe<ot;++Qe){var jt=Qe*ut,At=(height-Qe-1)*ut;ft.set(Re.subarray(jt,jt+ut)),Re.copyWithin(jt,At,At+ut),Re.set(ft,At)}return Re}(Z)):this.drawingContext.getImageData(0,0,this.width,this.height).data,$.push(he),G++,H.html("Saved frame <b>"+$.length.toString()+"</b> out of "+j.toString()),mt.next=44,new Promise(function(Re){return setTimeout(Re,0)});mt.next=46;break;case 44:mt.next=35;break;case 46:H.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(ee),Q=(0,s.GIFEncoder)(),te=function(Re){for(var ot=new Uint8Array(Re.length*Re[0].length),ut=0;ut<Re.length;ut++)ot.set(Re[0],ut*Re[0].length);var ft=(0,s.quantize)(ot,256,{format:"rgba444",oneBitAlpha:!0});return 256===ft.length?ft[ft.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:ft.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),ft}($),me=te.length-1,ce=0;case 53:if(ce<$.length){if(0===ce)return he=(0,s.applyPalette)($[ce],te,{format:"rgba4444"}),Q.writeFrame(he,this.width,this.height,{palette:te,delay:F,dispose:1}),mt.abrupt("continue",68);mt.next=58}else mt.next=71;break;case 58:for(Ae=$[ce],A=$[ce-1],q=[],K=0;K<Ae.length;K+=4)!function(Re,ot){return Array.isArray(Re)&&Array.isArray(ot)&&Re.length===ot.length&&Re.every(function(ut,ft){return ut===ot[ft]})}([Ae[K],Ae[K+1],Ae[K+2],Ae[K+3]],[A[K],A[K+1],A[K+2],A[K+3]])||q.push(K/4);for(Te=(0,s.applyPalette)(Ae,te,{format:"rgba4444"}),Ie=0;Ie<q.length;Ie++)Te[q[Ie]]=me;return Q.writeFrame(Te,this.width,this.height,{delay:F,transparent:!0,transparentIndex:me,dispose:1}),H.html("Rendered frame <b>"+ce.toString()+"</b> out of "+j.toString()),mt.next=68,new Promise(function(Re){return setTimeout(Re,0)});case 68:ce++,mt.next=53;break;case 71:Q.finish(),Ue=Q.bytesView(),Ue=new Blob([Ue],{type:"image/gif"}),$=[],this.loop(),H.html("Done. Downloading your gif!\u{1f338}"),a.default.prototype.downloadFile(Ue,C,"gif");case 79:case"end":return mt.stop()}},w,this)});var v,x=function(){var w=this,C=arguments;return new Promise(function(N,M){var F=v.apply(w,C);function j(G){c(F,N,M,j,B,"next",G)}function B(G){c(F,N,M,j,B,"throw",G)}j(void 0)})};return function(w,C){return x.apply(this,arguments)}}(),a.default.prototype.image=function(v,x,w,C,oe,Q,te,me,he,G,ee,$){a.default._validateParameters("image",arguments);var ce=v.width,H=v.height,Z=($=$||u.CENTER,ee=ee||u.CENTER,v.elt&&v.elt.videoWidth&&!v.canvas&&(ce=v.elt.videoWidth,H=v.elt.videoHeight),C||ce);oe=oe||H,Q=Q||0,te=te||0,me=y(me||ce,ce),ce=y(he||H,H),he=1,v.elt&&!v.canvas&&v.elt.style.width&&(he=v.elt.videoWidth&&!C?v.elt.videoWidth:v.elt.width,he/=parseInt(v.elt.style.width,10)),Q*=he,te*=he,ce*=he,me*=he,H=h(G,ee,$,(H=d.default.modeAdjust(x,w,Z,oe,this._renderer._imageMode)).x,H.y,H.w,H.h,Q,te,me,ce),this._renderer.image(v,H.sx,H.sy,H.sw,H.sh,H.dx,H.dy,H.dw,H.dh)},a.default.prototype.tint=function(){for(var v=arguments.length,x=new Array(v),w=0;w<v;w++)x[w]=arguments[w];a.default._validateParameters("tint",x);var C=this.color.apply(this,x);this._renderer._tint=C.levels},a.default.prototype.noTint=function(){this._renderer._tint=null},a.default.prototype._getTintedImageCanvas=a.default.Renderer2D.prototype._getTintedImageCanvas,a.default.prototype.imageMode=function(v){a.default._validateParameters("imageMode",arguments),v!==u.CORNER&&v!==u.CORNERS&&v!==u.CENTER||(this._renderer._imageMode=v)},E.default=e=a.default},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/helpers":263,"../core/main":267,"core-js/modules/es.array.copy-within":150,"core-js/modules/es.array.every":151,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,gifenc:237,omggif:240,"regenerator-runtime/runtime":244}],291:[function(e,U,E){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=a(e("../core/main")),o=a(e("./filters"));function a(d){return d&&d.__esModule?d:{default:d}}f.default.Image=function(d,u){this.width=d,this.height=u,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},f.default.Image.prototype._animateGif=function(s){var u,p=this.gifProperties;s=s._lastFrameTime,0===p.lastChangeTime&&(p.lastChangeTime=s),p.playing&&(p.timeDisplayed=s-p.lastChangeTime,p.timeDisplayed>=(u=p.frames[p.displayIndex].delay)&&(u=Math.floor(p.timeDisplayed/u),p.timeDisplayed=0,p.lastChangeTime=s,p.displayIndex+=u,p.loopCount=Math.floor(p.displayIndex/p.numFrames),null!==p.loopLimit&&p.loopCount>=p.loopLimit?p.playing=!1:(this.drawingContext.putImageData(p.frames[s=p.displayIndex%p.numFrames].image,0,0),p.displayIndex=s,this.setModified(!0))))},f.default.Image.prototype._setProperty=function(d,u){this[d]=u,this.setModified(!0)},f.default.Image.prototype.loadPixels=function(){f.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},f.default.Image.prototype.updatePixels=function(d,u,p,s){f.default.Renderer2D.prototype.updatePixels.call(this,d,u,p,s),this.setModified(!0)},f.default.Image.prototype.get=function(d,u,p,s){return f.default._validateParameters("p5.Image.get",arguments),f.default.Renderer2D.prototype.get.apply(this,arguments)},f.default.Image.prototype._getPixel=f.default.Renderer2D.prototype._getPixel,f.default.Image.prototype.set=function(d,u,p){f.default.Renderer2D.prototype.set.call(this,d,u,p),this.setModified(!0)},f.default.Image.prototype.resize=function(d,u){0===d&&0===u?(d=this.canvas.width,u=this.canvas.height):0===d?d=this.canvas.width*u/this.canvas.height:0===u&&(u=this.canvas.height*d/this.canvas.width),d=Math.floor(d),u=Math.floor(u);var p=document.createElement("canvas");if(p.width=d,p.height=u,this.gifProperties)for(var s=this.gifProperties,r=0;r<s.numFrames;r++){for(var i=this.drawingContext.createImageData(d,u),c=(w=w=x=v=y=void 0,s.frames[r].image),h=i,y=0,v=0;v<h.height;v++)for(var x=0;x<h.width;x++){var w=Math.floor(x*c.width/h.width);w=4*(Math.floor(v*c.height/h.height)*c.width+w),h.data[y++]=c.data[w++],h.data[y++]=c.data[w++],h.data[y++]=c.data[w++],h.data[y++]=c.data[+w]}s.frames[r].image=i}p.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,p.width,p.height),this.canvas.width=this.width=d,this.canvas.height=this.height=u,this.drawingContext.drawImage(p,0,0,d,u,0,0,d,u),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},f.default.Image.prototype.copy=function(){for(var d=arguments.length,u=new Array(d),p=0;p<d;p++)u[p]=arguments[p];f.default.prototype.copy.apply(this,u)},f.default.Image.prototype.mask=function(d){var u=this.drawingContext.globalCompositeOperation,p=1,s=[d=void 0===d?this:d,0,0,(p=d instanceof f.default.Renderer?d._pInst._pixelDensity:p)*d.width,p*d.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var r=0;r<this.gifProperties.frames.length;r++)this.drawingContext.putImageData(this.gifProperties.frames[r].image,0,0),f.default.Image.prototype.copy.apply(this,s),this.gifProperties.frames[r].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else f.default.Image.prototype.copy.apply(this,s);this.drawingContext.globalCompositeOperation=u,this.setModified(!0)},f.default.Image.prototype.filter=function(d,u){o.default.apply(this.canvas,o.default[d],u),this.setModified(!0)},f.default.Image.prototype.blend=function(){for(var d=arguments.length,u=new Array(d),p=0;p<d;p++)u[p]=arguments[p];f.default._validateParameters("p5.Image.blend",arguments),f.default.prototype.blend.apply(this,u),this.setModified(!0)},f.default.Image.prototype.setModified=function(d){this._modified=d},f.default.Image.prototype.isModified=function(){return this._modified},f.default.Image.prototype.save=function(d,u){this.gifProperties?f.default.prototype.encodeAndDownloadGif(this,d):f.default.prototype.saveCanvas(this.canvas,d,u)},f.default.Image.prototype.reset=function(){var d;this.gifProperties&&((d=this.gifProperties).playing=!0,d.timeSinceStart=0,d.timeDisplayed=0,d.lastChangeTime=0,d.loopCount=0,d.displayIndex=0,this.drawingContext.putImageData(d.frames[0].image,0,0))},f.default.Image.prototype.getCurrentFrame=function(){var d;if(this.gifProperties)return(d=this.gifProperties).displayIndex%d.numFrames},f.default.Image.prototype.setFrame=function(d){var u;this.gifProperties&&(d<(u=this.gifProperties).numFrames&&0<=d?(u.timeDisplayed=0,u.lastChangeTime=0,u.displayIndex=d,this.drawingContext.putImageData(u.frames[d].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))},f.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},f.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},f.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},f.default.Image.prototype.delay=function(d,u){if(this.gifProperties){var p=this.gifProperties;if(u<p.numFrames&&0<=u)p.frames[u].delay=d;else{var s=!0,r=void(u=!1);try{for(var i,c=p.frames[Symbol.iterator]();!(s=(i=c.next()).done);s=!0)i.value.delay=d}catch(y){u=!0,r=y}finally{try{s||null==c.return||c.return()}finally{if(u)throw r}}}}},E.default=e=f.default.Image},{"../core/main":267,"./filters":288,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],292:[function(e,U,E){"use strict";e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.filter"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=a(e("../core/main")),o=a(e("./filters"));function a(d){return d&&d.__esModule?d:{default:d}}e("../color/p5.Color"),f.default.prototype.pixels=[],f.default.prototype.blend=function(){for(var d,u=arguments.length,p=new Array(u),s=0;s<u;s++)p[s]=arguments[s];f.default._validateParameters("blend",p),this._renderer?(d=this._renderer).blend.apply(d,p):f.default.Renderer2D.prototype.blend.apply(this,p)},f.default.prototype.copy=function(){for(var d,u,p,s,r,i,c,h,y,v=arguments.length,x=new Array(v),w=0;w<v;w++)x[w]=arguments[w];if(f.default._validateParameters("copy",x),9===x.length)d=x[0],u=x[1],p=x[2],s=x[3],r=x[4],i=x[5],c=x[6],h=x[7],y=x[8];else{if(8!==x.length)throw new Error("Signature not supported");d=this,u=x[0],p=x[1],s=x[2],r=x[3],i=x[4],c=x[5],h=x[6],y=x[7]}f.default.prototype._copyHelper(this,d,u,p,s,r,i,c,h,y)},f.default.prototype._copyHelper=function(d,u,p,s,r,i,c,h,y,v){u.loadPixels();var x=u.canvas.width/u.width,w=0,C=0;u._renderer&&u._renderer.isP3D&&(w=u.width/2,C=u.height/2),d._renderer&&d._renderer.isP3D?f.default.RendererGL.prototype.image.call(d._renderer,u,p+w,s+C,r,i,c,h,y,v):d.drawingContext.drawImage(u.canvas,x*(p+w),x*(s+C),x*r,x*i,c,h,y,v)},f.default.prototype.filter=function(d,u){f.default._validateParameters("filter",arguments),o.default.apply(void 0!==this.canvas?this.canvas:this.elt,o.default[d],u)},f.default.prototype.get=function(d,u,p,s){var r;return f.default._validateParameters("get",arguments),(r=this._renderer).get.apply(r,arguments)},f.default.prototype.loadPixels=function(){for(var d=arguments.length,u=new Array(d),p=0;p<d;p++)u[p]=arguments[p];f.default._validateParameters("loadPixels",u),this._renderer.loadPixels()},f.default.prototype.set=function(d,u,p){this._renderer.set(d,u,p)},f.default.prototype.updatePixels=function(d,u,p,s){f.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(d,u,p,s)},E.default=e=f.default},{"../color/p5.Color":254,"../core/main":267,"./filters":288,"core-js/modules/es.array.filter":153}],293:[function(e,U,E){"use strict";function f(i){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var o=u(e("../core/main")),a=(e("whatwg-fetch"),e("es6-promise/auto"),u(e("fetch-jsonp"))),d=u(e("file-saver"));function u(i){return i&&i.__esModule?i:{default:i}}function p(i){return(p="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(c){return f(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":f(c)})(i)}function s(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function r(i,c){c&&!0!==c&&"true"!==c||(c="");var h="";return(i=i||"untitled")&&i.includes(".")&&(h=i.split(".").pop()),c&&h!==c&&(h=c,i="".concat(i,".").concat(h)),[i,h]}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),o.default.prototype.loadJSON=function(){for(var i=arguments.length,c=new Array(i),h=0;h<i;h++)c[h]=arguments[h];o.default._validateParameters("loadJSON",c);for(var y,v,x,w=c[0],C={},N="json",M=1;M<c.length;M++){var F=c[M];"string"==typeof F?"jsonp"!==F&&"json"!==F||(N=F):"function"==typeof F?y?v=F:y=F:"object"===p(F)&&(F.hasOwnProperty("jsonpCallback")||F.hasOwnProperty("jsonpCallbackFunction"))&&(N="jsonp",x=F)}var j=this;return this.httpDo(w,"GET",x,N,function(B){for(var G in B)C[G]=B[G];void 0!==y&&y(B),j._decrementPreload()},function(B){if(o.default._friendlyFileLoadError(5,w),!v)throw B;v(B)}),C},o.default.prototype.loadStrings=function(){for(var i=arguments.length,c=new Array(i),h=0;h<i;h++)c[h]=arguments[h];o.default._validateParameters("loadStrings",c);for(var y,v,x=[],w=1;w<c.length;w++){var C=c[w];"function"==typeof C&&(void 0===y?y=C:void 0===v&&(v=C))}var N=this;return o.default.prototype.httpDo.call(this,c[0],"GET","text",function(M){for(var F=M.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),j=0,B=F.length;j<B;j+=32768)Array.prototype.push.apply(x,F.slice(j,Math.min(j+32768,B)));void 0!==y&&y(x),N._decrementPreload()},function(M){if(o.default._friendlyFileLoadError(3,M),!v)throw M;v(M)}),x},o.default.prototype.loadTable=function(i){var c,h,y,v=[],x=!1,w=i.substring(i.lastIndexOf(".")+1,i.length);"csv"===w?y=",":"ssv"===w?y=";":"tsv"===w&&(y="\t");for(var C=1;C<arguments.length;C++)"function"==typeof arguments[C]?void 0===c?c=arguments[C]:void 0===h&&(h=arguments[C]):"string"==typeof arguments[C]&&(v.push(arguments[C]),"header"===arguments[C]&&(x=!0),"csv"===arguments[C]?y=",":"ssv"===arguments[C]?y=";":"tsv"===arguments[C]&&(y="\t"));var N=new o.default.Table,M=this;return this.httpDo(i,"GET","table",function(F){for(var j,B,G={},$=[],H=0,Z=null,oe=function(){G.currentState=0,G.token=""},Q=function(){Z.push(G.token),oe()},te=function(){G.currentState=4,$.push(Z),Z=null};;){if(null==(j=F[H++])){if(G.escaped)throw new Error("Unclosed quote in file.");if(Z){Q(),te();break}}if(null===Z&&(G.escaped=!1,Z=[],oe()),0===G.currentState){if('"'===j){G.escaped=!0,G.currentState=1;continue}G.currentState=1}if(1===G.currentState&&G.escaped)if('"'===j)'"'===F[H]?(G.token+='"',H++):(G.escaped=!1,G.currentState=2);else{if("\r"===j)continue;G.token+=j}else"\r"===j?("\n"===F[H]&&H++,Q(),te()):"\n"===j?(Q(),te()):j===y?Q():1===G.currentState&&(G.token+=j)}if(x)N.columns=$.shift();else for(var me=0;me<$[0].length;me++)N.columns[me]="null";for(var ce=0;ce<$.length;ce++)(1!==$[ce].length||"undefined"!==$[ce][0]&&""!==$[ce][0])&&((B=new o.default.TableRow).arr=$[ce],B.obj=function(he,Ae){var A={};if(void 0===(Ae=Ae||[]))for(var q=0;q<he.length;q++)Ae[q.toString()]=q;for(var K=0;K<Ae.length;K++)A[Ae[K]]=he[K];return A}($[ce],N.columns),N.addRow(B));"function"==typeof c&&c(N),M._decrementPreload()},function(F){o.default._friendlyFileLoadError(2,i),h?h(F):console.error(F)}),N},o.default.prototype.loadXML=function(){for(var i=arguments.length,c=new Array(i),h=0;h<i;h++)c[h]=arguments[h];for(var y,v,x=new o.default.XML,w=1;w<c.length;w++){var C=c[w];"function"==typeof C&&(void 0===y?y=C:void 0===v&&(v=C))}var N=this;return this.httpDo(c[0],"GET","xml",function(M){for(var F in M)x[F]=M[F];void 0!==y&&y(x),N._decrementPreload()},function(M){if(o.default._friendlyFileLoadError(1,M),!v)throw M;v(M)}),x},o.default.prototype.loadBytes=function(i,c,h){var y={},v=this;return this.httpDo(i,"GET","arrayBuffer",function(x){y.bytes=new Uint8Array(x),"function"==typeof c&&c(y),v._decrementPreload()},function(x){if(o.default._friendlyFileLoadError(6,i),!h)throw x;h(x)}),y},o.default.prototype.httpGet=function(){o.default._validateParameters("httpGet",arguments);var i=Array.prototype.slice.call(arguments);return i.splice(1,0,"GET"),o.default.prototype.httpDo.apply(this,i)},o.default.prototype.httpPost=function(){o.default._validateParameters("httpPost",arguments);var i=Array.prototype.slice.call(arguments);return i.splice(1,0,"POST"),o.default.prototype.httpDo.apply(this,i)},o.default.prototype.httpDo=function(){for(var i,c,h,y={},v=0,x="text/plain",w=arguments.length-1;0<w&&"function"==typeof(w<0||arguments.length<=w?void 0:arguments[w]);w--)v++;var N=arguments.length<=0?void 0:arguments[0];if(2==(C=arguments.length-v)&&"string"==typeof N&&"object"===p(arguments.length<=1?void 0:arguments[1]))ee=new Request(N,arguments.length<=1?void 0:arguments[1]),c=arguments.length<=2?void 0:arguments[2],h=arguments.length<=3?void 0:arguments[3];else{for(var M,F="GET",j=1;j<arguments.length;j++){var B=j<0||arguments.length<=j?void 0:arguments[j];if("string"==typeof B)"GET"===B||"POST"===B||"PUT"===B||"DELETE"===B?F=B:"json"===B||"jsonp"===B||"binary"===B||"arrayBuffer"===B||"xml"===B||"text"===B||"table"===B?i=B:M=B;else if("number"==typeof B)M=B.toString();else if("object"===p(B))if(B.hasOwnProperty("jsonpCallback")||B.hasOwnProperty("jsonpCallbackFunction"))for(var G in B)y[G]=B[G];else x=B instanceof o.default.XML?(M=B.serialize(),"application/xml"):(M=JSON.stringify(B),"application/json");else"function"==typeof B&&(c?h=B:c=B)}var C="GET"===F?new Headers:new Headers({"Content-Type":x}),ee=new Request(N,{method:F,mode:"cors",body:M,headers:C})}return(C=(C="jsonp"===(i=i||(N.includes("json")?"json":N.includes("xml")?"xml":"text"))?(0,a.default)(N,y):fetch(ee)).then(function($){if(!$.ok)throw(H=new Error($.body)).status=$.status,H.ok=!1,H;var H=0;switch((H="jsonp"!==i?$.headers.get("content-length"):H)&&64e6<H&&o.default._friendlyFileLoadError(7,N),i){case"json":case"jsonp":return $.json();case"binary":return $.blob();case"arrayBuffer":return $.arrayBuffer();case"xml":return $.text().then(function(Z){return Z=(new DOMParser).parseFromString(Z,"text/xml"),new o.default.XML(Z.documentElement)});default:return $.text()}})).then(c||function(){}),C.catch(h||console.error),C},window.URL=window.URL||window.webkitURL,o.default.prototype._pWriters=[],o.default.prototype.createWriter=function(i,c){var h,y;for(y in o.default.prototype._pWriters)if(o.default.prototype._pWriters[y].name===i)return h=new o.default.PrintWriter(i+this.millis(),c),o.default.prototype._pWriters.push(h),h;return h=new o.default.PrintWriter(i,c),o.default.prototype._pWriters.push(h),h},o.default.PrintWriter=function(i,c){var h=this;this.name=i,this.content="",this.write=function(y){this.content+=y},this.print=function(y){this.content+="".concat(y,"\n")},this.clear=function(){this.content=""},this.close=function(){var y,v=[];for(y in v.push(this.content),o.default.prototype.writeFile(v,i,c),o.default.prototype._pWriters)o.default.prototype._pWriters[y].name===this.name&&o.default.prototype._pWriters.splice(y,1);h.clear(),h={}}},o.default.prototype.save=function(i,c,h){var y=arguments,v=(this._curElement||this).elt;if(0===y.length)o.default.prototype.saveCanvas(v);else if(y[0]instanceof o.default.Renderer||y[0]instanceof o.default.Graphics)o.default.prototype.saveCanvas(y[0].elt,y[1],y[2]);else if(1===y.length&&"string"==typeof y[0])o.default.prototype.saveCanvas(v,y[0]);else switch(r(y[1],y[2])[1]){case"json":return void o.default.prototype.saveJSON(y[0],y[1],y[2]);case"txt":return void o.default.prototype.saveStrings(y[0],y[1],y[2]);default:y[0]instanceof Array?o.default.prototype.saveStrings(y[0],y[1],y[2]):y[0]instanceof o.default.Table?o.default.prototype.saveTable(y[0],y[1],y[2]):y[0]instanceof o.default.Image?o.default.prototype.saveCanvas(y[0].canvas,y[1]):y[0]instanceof o.default.SoundFile&&o.default.prototype.saveSound(y[0],y[1],y[2],y[3])}},o.default.prototype.saveJSON=function(i,c,h){o.default._validateParameters("saveJSON",arguments),h=h?JSON.stringify(i):JSON.stringify(i,void 0,2),this.saveStrings(h.split("\n"),c,"json")},o.default.prototype.saveJSONObject=o.default.prototype.saveJSON,o.default.prototype.saveJSONArray=o.default.prototype.saveJSON,o.default.prototype.saveStrings=function(i,c,h,y){o.default._validateParameters("saveStrings",arguments);for(var v=this.createWriter(c,h||"txt"),x=0;x<i.length;x++)v.write(y?i[x]+"\r\n":i[x]+"\n");v.close(),v.clear()},o.default.prototype.saveTable=function(i,c,h){o.default._validateParameters("saveTable",arguments),y=void 0===h?c.substring(c.lastIndexOf(".")+1,c.length):h;var y,v=this.createWriter(c,y),x=i.columns,w="tsv"===y?"\t":",";if("html"!==y){if("0"!==x[0]){for(var C=0;C<x.length;C++)v.write(C<x.length-1?x[C]+w:x[C]);v.write("\n")}for(var N=0;N<i.rows.length;N++){var M=void 0;for(M=0;M<i.rows[N].arr.length;M++)M<i.rows[N].arr.length-1?"csv"===y&&String(i.rows[N].arr[M]).includes(",")?v.write('"'+i.rows[N].arr[M]+'"'+w):v.write(i.rows[N].arr[M]+w):"csv"===y&&String(i.rows[N].arr[M]).includes(",")?v.write('"'+i.rows[N].arr[M]+'"'):v.write(i.rows[N].arr[M]);v.write("\n")}}else{if(v.print("<html>"),v.print("<head>"),v.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),v.print("</head>"),v.print("<body>"),v.print("  <table>"),"0"!==x[0]){v.print("    <tr>");for(var F=0;F<x.length;F++){var j=s(x[F]);v.print("      <td>".concat(j)),v.print("      </td>")}v.print("    </tr>")}for(var B=0;B<i.rows.length;B++){v.print("    <tr>");for(var G=0;G<i.columns.length;G++){var ee=s(i.rows[B].getString(G));v.print("      <td>".concat(ee)),v.print("      </td>")}v.print("    </tr>")}v.print("  </table>"),v.print("</body>"),v.print("</html>")}v.close(),v.clear()},o.default.prototype.writeFile=function(v,c,h){var y="application/octet-stream";o.default.prototype._isSafari()&&(y="text/plain"),v=new Blob(v,{type:y}),o.default.prototype.downloadFile(v,c,h)},o.default.prototype.downloadFile=function(i,v,x){var y;x=(v=r(v,x))[0],i instanceof Blob?d.default.saveAs(i,x):((y=document.createElement("a")).href=i,y.download=x,y.onclick=function(w){document.body.removeChild(w.target),w.stopPropagation()},y.style.display="none",document.body.appendChild(y),o.default.prototype._isSafari()&&(i=(i='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+'3. Name it with this extension: ."'.concat(v[1],'"'),alert(i)),y.click())},o.default.prototype._checkFileExtension=r,o.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},E.default=e=o.default},{"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230,"core-js/modules/web.url":232,"es6-promise/auto":233,"fetch-jsonp":235,"file-saver":236,"whatwg-fetch":245}],294:[function(e,U,E){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.trim"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(e=e("../core/main"))&&e.__esModule?e:{default:e};f.default.Table=function(o){this.columns=[],this.rows=[]},f.default.Table.prototype.addRow=function(o){if(void 0===(o=o||new f.default.TableRow).arr||void 0===o.obj)throw new Error("invalid TableRow: ".concat(o));return(o.table=this).rows.push(o),o},f.default.Table.prototype.removeRow=function(o){this.rows[o].table=null,o=this.rows.splice(o+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(o)},f.default.Table.prototype.getRow=function(o){return this.rows[o]},f.default.Table.prototype.getRows=function(){return this.rows},f.default.Table.prototype.findRow=function(o,a){if("string"==typeof a){for(var d=0;d<this.rows.length;d++)if(this.rows[d].obj[a]===o)return this.rows[d]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].arr[a]===o)return this.rows[u];return null},f.default.Table.prototype.findRows=function(o,a){var d=[];if("string"==typeof a)for(var u=0;u<this.rows.length;u++)this.rows[u].obj[a]===o&&d.push(this.rows[u]);else for(var p=0;p<this.rows.length;p++)this.rows[p].arr[a]===o&&d.push(this.rows[p]);return d},f.default.Table.prototype.matchRow=function(o,a){if("number"==typeof a){for(var d=0;d<this.rows.length;d++)if(this.rows[d].arr[a].match(o))return this.rows[d]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].obj[a].match(o))return this.rows[u];return null},f.default.Table.prototype.matchRows=function(o,a){var d=[];if("number"==typeof a)for(var u=0;u<this.rows.length;u++)this.rows[u].arr[a].match(o)&&d.push(this.rows[u]);else for(var p=0;p<this.rows.length;p++)this.rows[p].obj[a].match(o)&&d.push(this.rows[p]);return d},f.default.Table.prototype.getColumn=function(o){var a=[];if("string"==typeof o)for(var d=0;d<this.rows.length;d++)a.push(this.rows[d].obj[o]);else for(var u=0;u<this.rows.length;u++)a.push(this.rows[u].arr[o]);return a},f.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},f.default.Table.prototype.addColumn=function(o){this.columns.push(o||null)},f.default.Table.prototype.getColumnCount=function(){return this.columns.length},f.default.Table.prototype.getRowCount=function(){return this.rows.length},f.default.Table.prototype.removeTokens=function(o,a){for(var d=[],u=0;u<o.length;u++)d.push(o.charAt(u).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var p=new RegExp(d.join("|"),"g");if(void 0===a)for(var s=0;s<this.columns.length;s++)for(var r=0;r<this.rows.length;r++){var i=(i=this.rows[r].arr[s]).replace(p,"");this.rows[r].arr[s]=i,this.rows[r].obj[this.columns[s]]=i}else if("string"==typeof a)for(var c=0;c<this.rows.length;c++){var h=(h=this.rows[c].obj[a]).replace(p,""),y=(this.rows[c].obj[a]=h,this.columns.indexOf(a));this.rows[c].arr[y]=h}else for(var v=0;v<this.rows.length;v++){var x=(x=this.rows[v].arr[a]).replace(p,"");this.rows[v].arr[a]=x,this.rows[v].obj[this.columns[a]]=x}},f.default.Table.prototype.trim=function(o){var a=new RegExp(" ","g");if(void 0===o)for(var d=0;d<this.columns.length;d++)for(var u=0;u<this.rows.length;u++){var p=(p=this.rows[u].arr[d]).replace(a,"");this.rows[u].arr[d]=p,this.rows[u].obj[this.columns[d]]=p}else if("string"==typeof o)for(var s=0;s<this.rows.length;s++){var r=(r=this.rows[s].obj[o]).replace(a,""),i=(this.rows[s].obj[o]=r,this.columns.indexOf(o));this.rows[s].arr[i]=r}else for(var c=0;c<this.rows.length;c++){var h=(h=this.rows[c].arr[o]).replace(a,"");this.rows[c].arr[o]=h,this.rows[c].obj[this.columns[o]]=h}},f.default.Table.prototype.removeColumn=function(u){var a,d;"string"==typeof u?d=this.columns.indexOf(a=u):a=this.columns[d=u],u=this.columns.splice(d+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(u);for(var p=0;p<this.rows.length;p++){var s=this.rows[p].arr,r=s.splice(d+1,s.length);s.pop(),this.rows[p].arr=s.concat(r),delete this.rows[p].obj[a]}},f.default.Table.prototype.set=function(o,a,d){this.rows[o].set(a,d)},f.default.Table.prototype.setNum=function(o,a,d){this.rows[o].setNum(a,d)},f.default.Table.prototype.setString=function(o,a,d){this.rows[o].setString(a,d)},f.default.Table.prototype.get=function(o,a){return this.rows[o].get(a)},f.default.Table.prototype.getNum=function(o,a){return this.rows[o].getNum(a)},f.default.Table.prototype.getString=function(o,a){return this.rows[o].getString(a)},f.default.Table.prototype.getObject=function(o){for(var a,d={},u=0;u<this.rows.length;u++)if(a=this.rows[u].obj,"string"==typeof o){if(!(0<=this.columns.indexOf(o)))throw new Error('This table has no column named "'.concat(o,'"'));d[a[o]]=a}else d[u]=this.rows[u].obj;return d},f.default.Table.prototype.getArray=function(){for(var o=[],a=0;a<this.rows.length;a++)o.push(this.rows[a].arr);return o},E.default=e=f.default},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.splice":164,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.trim":193}],295:[function(e,U,E){"use strict";e("core-js/modules/es.array.index-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.TableRow=function(f,o){var a=[],d={};f&&(a=f.split(o=o||","));for(var u=0;u<a.length;u++)d[u]=a[u];this.arr=a,this.obj=d,this.table=null},e.default.TableRow.prototype.set=function(f,o){if("string"==typeof f){var a=this.table.columns.indexOf(f);if(!(0<=a))throw new Error('This table has no column named "'.concat(f,'"'));this.obj[f]=o,this.arr[a]=o}else{if(!(f<this.table.columns.length))throw new Error("Column #".concat(f," is out of the range of this table"));this.arr[f]=o,this.obj[a=this.table.columns[f]]=o}},e.default.TableRow.prototype.setNum=function(f,o){o=parseFloat(o),this.set(f,o)},e.default.TableRow.prototype.setString=function(f,o){o=o.toString(),this.set(f,o)},e.default.TableRow.prototype.get=function(f){return("string"==typeof f?this.obj:this.arr)[f]},e.default.TableRow.prototype.getNum=function(f){var o=parseFloat("string"==typeof f?this.obj[f]:this.arr[f]);if("NaN"===o.toString())throw"Error: ".concat(this.obj[f]," is NaN (Not a Number)");return o},e.default.TableRow.prototype.getString=function(f){return("string"==typeof f?this.obj:this.arr)[f].toString()},E.default=e=e.default},{"../core/main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],296:[function(e,U,E){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(e=e("../core/main"))&&e.__esModule?e:{default:e};f.default.XML=function(a){a?this.DOM=a:(a=document.implementation.createDocument(null,"doc"),this.DOM=a.createElement("root"))},f.default.XML.prototype.getParent=function(){return new f.default.XML(this.DOM.parentElement)},f.default.XML.prototype.getName=function(){return this.DOM.tagName},f.default.XML.prototype.setName=function(a){var d=this.DOM.innerHTML,u=this.DOM.attributes,p=document.implementation.createDocument(null,"default").createElement(a);p.innerHTML=d;for(var s=0;s<u.length;s++)p.setAttribute(u[s].nodeName,u.nodeValue);this.DOM=p},f.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},f.default.XML.prototype.listChildren=function(){for(var a=[],d=0;d<this.DOM.childNodes.length;d++)a.push(this.DOM.childNodes[d].nodeName);return a},f.default.XML.prototype.getChildren=function(a){return function o(a){for(var d=[],u=0;u<a.length;u++)d.push(new f.default.XML(a[u]));return d}(a?this.DOM.getElementsByTagName(a):this.DOM.children)},f.default.XML.prototype.getChild=function(a){if("string"!=typeof a)return new f.default.XML(this.DOM.children[a]);var d=!0,u=!1,p=void 0;try{for(var s,r=this.DOM.children[Symbol.iterator]();!(d=(s=r.next()).done);d=!0){var i=s.value;if(i.tagName===a)return new f.default.XML(i)}}catch(c){u=!0,p=c}finally{try{d||null==r.return||r.return()}finally{if(u)throw p}}},f.default.XML.prototype.addChild=function(a){a instanceof f.default.XML&&this.DOM.appendChild(a.DOM)},f.default.XML.prototype.removeChild=function(a){var d=-1;if("string"==typeof a){for(var u=0;u<this.DOM.children.length;u++)if(this.DOM.children[u].tagName===a){d=u;break}}else d=a;-1!==d&&this.DOM.removeChild(this.DOM.children[d])},f.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},f.default.XML.prototype.listAttributes=function(){var a=[],d=!0,u=!1,p=void 0;try{for(var s,r=this.DOM.attributes[Symbol.iterator]();!(d=(s=r.next()).done);d=!0)a.push(s.value.nodeName)}catch(c){u=!0,p=c}finally{try{d||null==r.return||r.return()}finally{if(u)throw p}}return a},f.default.XML.prototype.hasAttribute=function(a){var d={},u=!0,p=!1,s=void 0;try{for(var r,i=this.DOM.attributes[Symbol.iterator]();!(u=(r=i.next()).done);u=!0){var c=r.value;d[c.nodeName]=c.nodeValue}}catch(h){p=!0,s=h}finally{try{u||null==i.return||i.return()}finally{if(p)throw s}}return!!d[a]},f.default.XML.prototype.getNum=function(a,d){var u={},p=!0,s=!1,r=void 0;try{for(var i,c=this.DOM.attributes[Symbol.iterator]();!(p=(i=c.next()).done);p=!0){var h=i.value;u[h.nodeName]=h.nodeValue}}catch(y){s=!0,r=y}finally{try{p||null==c.return||c.return()}finally{if(s)throw r}}return Number(u[a])||d||0},f.default.XML.prototype.getString=function(a,d){var u={},p=!0,s=!1,r=void 0;try{for(var i,c=this.DOM.attributes[Symbol.iterator]();!(p=(i=c.next()).done);p=!0){var h=i.value;u[h.nodeName]=h.nodeValue}}catch(y){s=!0,r=y}finally{try{p||null==c.return||c.return()}finally{if(s)throw r}}return u[a]?String(u[a]):d||null},f.default.XML.prototype.setAttribute=function(a,d){this.DOM.setAttribute(a,d)},f.default.XML.prototype.getContent=function(a){var d=this.DOM.textContent;return(d=d.replace(/\s\s+/g,","))||a||null},f.default.XML.prototype.setContent=function(a){this.DOM.children.length||(this.DOM.textContent=a)},f.default.XML.prototype.serialize=function(){return(new XMLSerializer).serializeToString(this.DOM)},E.default=e=f.default},{"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],297:[function(e,U,E){"use strict";e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.string.includes"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(e=e("../core/main"))&&e.__esModule?e:{default:e};function o(){if("function"==typeof Math.hypot)return Math.hypot.apply(null,arguments);for(var a=arguments.length,d=[],u=0,p=0;p<a;p++){var s=arguments[p];if((s=+s)==1/0||s===-1/0)return 1/0;u<(s=Math.abs(s))&&(u=s),d[p]=s}0===u&&(u=1);for(var y=0,h=0,r=0;r<a;r++){var i,c=y+(i=(i=d[r]/u)*i-h);h=c-y-i,y=c}return Math.sqrt(y)*u}f.default.prototype.abs=Math.abs,f.default.prototype.ceil=Math.ceil,f.default.prototype.constrain=function(a,d,u){return f.default._validateParameters("constrain",arguments),Math.max(Math.min(a,u),d)},f.default.prototype.dist=function(){for(var a=arguments.length,d=new Array(a),u=0;u<a;u++)d[u]=arguments[u];return f.default._validateParameters("dist",d),4===d.length?o(d[2]-d[0],d[3]-d[1]):6===d.length?o(d[3]-d[0],d[4]-d[1],d[5]-d[2]):void 0},f.default.prototype.exp=Math.exp,f.default.prototype.floor=Math.floor,f.default.prototype.lerp=function(a,d,u){return f.default._validateParameters("lerp",arguments),u*(d-a)+a},f.default.prototype.log=Math.log,f.default.prototype.mag=function(a,d){return f.default._validateParameters("mag",arguments),o(a,d)},f.default.prototype.map=function(a,d,u,p,s,r){return f.default._validateParameters("map",arguments),a=(a-d)/(u-d)*(s-p)+p,r?p<s?this.constrain(a,p,s):this.constrain(a,s,p):a},f.default.prototype.max=function(){for(var a=arguments.length,d=new Array(a),u=0;u<a;u++)d[u]=arguments[u];return d[0]instanceof Array?Math.max.apply(null,d[0]):Math.max.apply(null,d)},f.default.prototype.min=function(){for(var a=arguments.length,d=new Array(a),u=0;u<a;u++)d[u]=arguments[u];return d[0]instanceof Array?Math.min.apply(null,d[0]):Math.min.apply(null,d)},f.default.prototype.norm=function(a,d,u){return f.default._validateParameters("norm",arguments),this.map(a,d,u,0,1)},f.default.prototype.pow=Math.pow,f.default.prototype.round=function(a,d){return d?(d=Math.pow(10,d),Math.round(a*d)/d):Math.round(a)},f.default.prototype.sq=function(a){return a*a},f.default.prototype.sqrt=Math.sqrt,f.default.prototype.fract=function(p){f.default._validateParameters("fract",arguments);var d,u=0;return p=Number(p),isNaN(p)||Math.abs(p)===1/0?p:(p<0&&(p=-p,u=1),String(p).includes(".")&&!String(p).includes("e")?(d=String(p),d=Number("0"+d.slice(d.indexOf("."))),Math.abs(u-d)):p<1?Math.abs(u-p):0)},E.default=e=f.default},{"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":167,"core-js/modules/es.number.constructor":169,"core-js/modules/es.string.includes":185}],298:[function(e,U,E){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(e=e("../core/main"))&&e.__esModule?e:{default:e};function o(d,u,p){return(o=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(s){}}}()?Reflect.construct:function(s,r,i){var c=[null];return c.push.apply(c,r),r=new(Function.bind.apply(s,c)),i&&a(r,i.prototype),r}).apply(null,arguments)}function a(d,u){return(a=Object.setPrototypeOf||function(p,s){return p.__proto__=s,p})(d,u)}f.default.prototype.createVector=function(d,u,p){return this instanceof f.default?o(f.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new f.default.Vector(d,u,p)},E.default=e=f.default},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.to-string":182}],299:[function(p,U,E){"use strict";function f(s){return.5*(1-Math.cos(s*Math.PI))}Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,p=(p=p("../core/main"))&&p.__esModule?p:{default:p};var o,a=4095,d=4,u=.5;p.default.prototype.noise=function(s){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==o){o=new Array(4096);for(var c=0;c<4096;c++)o[c]=Math.random()}s<0&&(s=-s),r<0&&(r=-r),i<0&&(i=-i);for(var h,y,v=Math.floor(s),x=Math.floor(r),w=Math.floor(i),C=s-v,N=r-x,M=i-w,F=0,j=.5,B=0;B<d;B++){var G=v+(x<<4)+(w<<8),ee=f(C),$=f(N),H=o[G&a];H+=ee*(o[G+1&a]-H),h=o[G+16&a],H+=$*((h+=ee*(o[G+16+1&a]-h))-H),h=o[(G+=256)&a],h+=ee*(o[G+1&a]-h),y=o[G+16&a],h+=$*((y+=ee*(o[G+16+1&a]-y))-h),F+=(H+=f(M)*(h-H))*j,j*=u,v<<=1,x<<=1,w<<=1,1<=(C*=2)&&(v++,C--),1<=(N*=2)&&(x++,N--),1<=(M*=2)&&(w++,M--)}return F},p.default.prototype.noiseDetail=function(s,r){0<s&&(d=s),0<r&&(u=r)},p.default.prototype.noiseSeed=function(s){c=4294967296;var i,c,h_rand=function(){return(i=(1664525*i+1013904223)%c)/c};(function(v){i=(null==v?Math.random()*c:v)>>>0})(s),o=new Array(4096);for(var y=0;y<4096;y++)o[y]=h_rand()},E.default=p=p.default},{"../core/main":267}],300:[function(e,U,E){"use strict";function f(i){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function o(i){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(c){return f(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":f(c)})(i)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.number.is-finite"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.sub"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.number.is-finite"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.sub"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=(r=e("../core/main"))&&r.__esModule?r:{default:r},d=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==o(i)&&"function"!=typeof i)return{default:i};var c=u();if(c&&c.has(i))return c.get(i);var h,y={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in i){var x;Object.prototype.hasOwnProperty.call(i,h)&&((x=v?Object.getOwnPropertyDescriptor(i,h):null)&&(x.get||x.set)?Object.defineProperty(y,h,x):y[h]=i[h])}return y.default=i,c&&c.set(i,y),y}(e("../core/constants"));function u(){var i;return"function"!=typeof WeakMap?null:(u=function(){return i},i=new WeakMap)}function p(i,c){return 0!==i&&(this.x=this.x%i),0!==c&&(this.y=this.y%c),this}function s(i,c,h){return 0!==i&&(this.x=this.x%i),0!==c&&(this.y=this.y%c),0!==h&&(this.z=this.z%h),this}a.default.Vector=function(){var i,c,h="[object Function]"==={}.toString.call(arguments[0])?(this.isPInst=!0,this._fromRadians=arguments[0],this._toRadians=arguments[1],i=arguments[2]||0,c=arguments[3]||0,arguments[4]||0):(i=arguments[0]||0,c=arguments[1]||0,arguments[2]||0);this.x=i,this.y=c,this.z=h},a.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},a.default.Vector.prototype.set=function(i,c,h){return i instanceof a.default.Vector?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0):i instanceof Array?(this.x=i[0]||0,this.y=i[1]||0,this.z=i[2]||0):(this.x=i||0,this.y=c||0,this.z=h||0),this},a.default.Vector.prototype.copy=function(){return this.isPInst?new a.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new a.default.Vector(this.x,this.y,this.z)},a.default.Vector.prototype.add=function(i,c,h){return i instanceof a.default.Vector?(this.x+=i.x||0,this.y+=i.y||0,this.z+=i.z||0):i instanceof Array?(this.x+=i[0]||0,this.y+=i[1]||0,this.z+=i[2]||0):(this.x+=i||0,this.y+=c||0,this.z+=h||0),this},a.default.Vector.prototype.rem=function(i,c,h){var y;if(i instanceof a.default.Vector){if(Number.isFinite(i.x)&&Number.isFinite(i.y)&&Number.isFinite(i.z))return v=parseFloat(i.x),x=parseFloat(i.y),y=parseFloat(i.z),s.call(this,v,x,y)}else if(i instanceof Array){if(i.every(function(w){return Number.isFinite(w)}))return 2===i.length?p.call(this,i[0],i[1]):3===i.length?s.call(this,i[0],i[1],i[2]):void 0}else if(1===arguments.length){if(Number.isFinite(i)&&0!==i)return this.x=this.x%i,this.y=this.y%i,this.z=this.z%i,this}else if(2===arguments.length){var v=Array.prototype.slice.call(arguments);if(v.every(function(w){return Number.isFinite(w)})&&2===v.length)return p.call(this,v[0],v[1])}else if(3===arguments.length){var x=Array.prototype.slice.call(arguments);if(x.every(function(w){return Number.isFinite(w)})&&3===x.length)return s.call(this,x[0],x[1],x[2])}},a.default.Vector.prototype.sub=function(i,c,h){return i instanceof a.default.Vector?(this.x-=i.x||0,this.y-=i.y||0,this.z-=i.z||0):i instanceof Array?(this.x-=i[0]||0,this.y-=i[1]||0,this.z-=i[2]||0):(this.x-=i||0,this.y-=c||0,this.z-=h||0),this},a.default.Vector.prototype.mult=function(i,c,h){var y;return i instanceof a.default.Vector?Number.isFinite(i.x)&&Number.isFinite(i.y)&&Number.isFinite(i.z)&&"number"==typeof i.x&&"number"==typeof i.y&&"number"==typeof i.z?(this.x*=i.x,this.y*=i.y,this.z*=i.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):i instanceof Array?i.every(function(v){return Number.isFinite(v)})&&i.every(function(v){return"number"==typeof v})?1===i.length?(this.x*=i[0],this.y*=i[0],this.z*=i[0]):2===i.length?(this.x*=i[0],this.y*=i[1]):3===i.length&&(this.x*=i[0],this.y*=i[1],this.z*=i[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(y=Array.prototype.slice.call(arguments)).every(function(v){return Number.isFinite(v)})&&y.every(function(v){return"number"==typeof v})?(1===arguments.length&&(this.x*=i,this.y*=i,this.z*=i),2===arguments.length&&(this.x*=i,this.y*=c),3===arguments.length&&(this.x*=i,this.y*=c,this.z*=h)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},a.default.Vector.prototype.div=function(i,c,h){if(i instanceof a.default.Vector)if(Number.isFinite(i.x)&&Number.isFinite(i.y)&&Number.isFinite(i.z)&&"number"==typeof i.x&&"number"==typeof i.y&&"number"==typeof i.z){if(0===i.x||0===i.y||0===i.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=i.x,this.y/=i.y,this.z/=i.z}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(i instanceof Array)if(i.every(function(v){return Number.isFinite(v)})&&i.every(function(v){return"number"==typeof v})){if(i.some(function(v){return 0===v}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===i.length?(this.x/=i[0],this.y/=i[0],this.z/=i[0]):2===i.length?(this.x/=i[0],this.y/=i[1]):3===i.length&&(this.x/=i[0],this.y/=i[1],this.z/=i[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else{var y=Array.prototype.slice.call(arguments);if(y.every(function(v){return Number.isFinite(v)})&&y.every(function(v){return"number"==typeof v})){if(y.some(function(v){return 0===v}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===arguments.length&&(this.x/=i,this.y/=i,this.z/=i),2===arguments.length&&(this.x/=i,this.y/=c),3===arguments.length&&(this.x/=i,this.y/=c,this.z/=h)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number")}return this},a.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},a.default.Vector.prototype.magSq=function(){var i=this.x,c=this.y,h=this.z;return i*i+c*c+h*h},a.default.Vector.prototype.dot=function(i,c,h){return i instanceof a.default.Vector?this.dot(i.x,i.y,i.z):this.x*(i||0)+this.y*(c||0)+this.z*(h||0)},a.default.Vector.prototype.cross=function(y){var c=this.y*y.z-this.z*y.y,h=this.z*y.x-this.x*y.z;return y=this.x*y.y-this.y*y.x,this.isPInst?new a.default.Vector(this._fromRadians,this._toRadians,c,h,y):new a.default.Vector(c,h,y)},a.default.Vector.prototype.dist=function(i){return i.copy().sub(this).mag()},a.default.Vector.prototype.normalize=function(){var i=this.mag();return 0!==i&&this.mult(1/i),this},a.default.Vector.prototype.limit=function(i){var c=this.magSq();return i*i<c&&this.div(Math.sqrt(c)).mult(i),this},a.default.Vector.prototype.setMag=function(i){return this.normalize().mult(i)},a.default.Vector.prototype.heading=function(){var i=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(i):i},a.default.Vector.prototype.setHeading=function(i){this.isPInst&&(i=this._toRadians(i));var c=this.mag();return this.x=c*Math.cos(i),this.y=c*Math.sin(i),this},a.default.Vector.prototype.rotate=function(c){c=this.heading()+c;var h=(this.isPInst&&(c=this._toRadians(c)),this.mag());return this.x=Math.cos(c)*h,this.y=Math.sin(c)*h,this},a.default.Vector.prototype.angleBetween=function(i){var c=this.dot(i)/(this.mag()*i.mag());return c=Math.acos(Math.min(1,Math.max(-1,c))),c*=Math.sign(this.cross(i).z||1),this.isPInst?this._fromRadians(c):c},a.default.Vector.prototype.lerp=function(i,c,h,y){return i instanceof a.default.Vector?this.lerp(i.x,i.y,i.z,c):(this.x+=(i-this.x)*y||0,this.y+=(c-this.y)*y||0,this.z+=(h-this.z)*y||0,this)},a.default.Vector.prototype.reflect=function(i){return i.normalize(),this.sub(i.mult(2*this.dot(i)))},a.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},a.default.Vector.prototype.equals=function(x,c,h){var y,v;return x=x instanceof a.default.Vector?(y=x.x||0,v=x.y||0,x.z||0):x instanceof Array?(y=x[0]||0,v=x[1]||0,x[2]||0):(y=x||0,v=c||0,h||0),this.x===y&&this.y===v&&this.z===x},a.default.Vector.fromAngle=function(i,c){return new a.default.Vector((c=void 0===c?1:c)*Math.cos(i),c*Math.sin(i),0)},a.default.Vector.fromAngles=function(w,v,h){void 0===h&&(h=1);var y=Math.cos(v),x=(v=Math.sin(v),Math.cos(w));return w=Math.sin(w),new a.default.Vector(h*w*v,-h*x,h*w*y)},a.default.Vector.random2D=function(){return this.fromAngle(Math.random()*d.TWO_PI)},a.default.Vector.random3D=function(){var i=Math.random()*d.TWO_PI,c=2*Math.random()-1,h=(y=Math.sqrt(1-c*c))*Math.cos(i),y=y*Math.sin(i);return new a.default.Vector(h,y,c)},a.default.Vector.add=function(i,c,h){return h?h.set(i):(h=i.copy(),3===arguments.length&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),h.add(c),h},a.default.Vector.rem=function(i,c){if(i instanceof a.default.Vector&&c instanceof a.default.Vector)return(i=i.copy()).rem(c),i},a.default.Vector.sub=function(i,c,h){return h?h.set(i):(h=i.copy(),3===arguments.length&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),h.sub(c),h},a.default.Vector.mult=function(i,c,h){return h?h.set(i):(h=i.copy(),3===arguments.length&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),h.mult(c),h},a.default.Vector.rotate=function(i,c,h){return 2===arguments.length?h=i.copy():(h instanceof a.default.Vector||a.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),h.set(i)),h.rotate(c),h},a.default.Vector.div=function(i,c,h){return h?h.set(i):(h=i.copy(),3===arguments.length&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),h.div(c),h},a.default.Vector.dot=function(i,c){return i.dot(c)},a.default.Vector.cross=function(i,c){return i.cross(c)},a.default.Vector.dist=function(i,c){return i.dist(c)},a.default.Vector.lerp=function(i,c,h,y){return y?y.set(i):(y=i.copy(),4===arguments.length&&a.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),y.lerp(c,h),y},a.default.Vector.mag=function(y){var c=y.x,h=y.y;return y=y.z,Math.sqrt(c*c+h*h+y*y)},a.default.Vector.normalize=function(i,c){return arguments.length<2?c=i.copy():(c instanceof a.default.Vector||a.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),c.set(i)),c.normalize()};var r=a.default.Vector;E.default=r},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.every":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.math.sign":168,"core-js/modules/es.number.constructor":169,"core-js/modules/es.number.is-finite":170,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],301:[function(u,U,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(u=u("../core/main"))&&u.__esModule?u:{default:u},o="_lcg_random_state",a=4294967296,d=0;f.default.prototype._lcg=function(p){return this[p]=(1664525*this[p]+1013904223)%a,this[p]/a},f.default.prototype._lcgSetSeed=function(p,s){this[p]=(null==s?Math.random()*a:s)>>>0},f.default.prototype.randomSeed=function(p){this._lcgSetSeed(o,p),this._gaussian_previous=!1},f.default.prototype.random=function(p,s){var r,i;return f.default._validateParameters("random",arguments),r=null!=this[o]?this._lcg(o):Math.random(),void 0===p?r:void 0===s?p instanceof Array?p[Math.floor(r*p.length)]:r*p:(s<p&&(i=p,p=s,s=i),r*(s-p)+p)},f.default.prototype.randomGaussian=function(p){var s,r,i,c,h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)s=d,this._gaussian_previous=!1;else{for(;1<=(c=(r=this.random(2)-1)*r+(i=this.random(2)-1)*i););s=r*(c=Math.sqrt(-2*Math.log(c)/c)),d=i*c,this._gaussian_previous=!0}return s*h+(p||0)},E.default=u=f.default},{"../core/main":267}],302:[function(e,U,E){"use strict";function f(s){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(s)}function o(s){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(r){return f(r)}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":f(r)})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=(p=e("../core/main"))&&p.__esModule?p:{default:p},d=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==o(s)&&"function"!=typeof s)return{default:s};var r=u();if(r&&r.has(s))return r.get(s);var i,c={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in s){var y;Object.prototype.hasOwnProperty.call(s,i)&&((y=h?Object.getOwnPropertyDescriptor(s,i):null)&&(y.get||y.set)?Object.defineProperty(c,i,y):c[i]=s[i])}return c.default=s,r&&r.set(s,c),c}(e("../core/constants"));function u(){var s;return"function"!=typeof WeakMap?null:(u=function(){return s},s=new WeakMap)}a.default.prototype._angleMode=d.RADIANS,a.default.prototype.acos=function(s){return this._fromRadians(Math.acos(s))},a.default.prototype.asin=function(s){return this._fromRadians(Math.asin(s))},a.default.prototype.atan=function(s){return this._fromRadians(Math.atan(s))},a.default.prototype.atan2=function(s,r){return this._fromRadians(Math.atan2(s,r))},a.default.prototype.cos=function(s){return Math.cos(this._toRadians(s))},a.default.prototype.sin=function(s){return Math.sin(this._toRadians(s))},a.default.prototype.tan=function(s){return Math.tan(this._toRadians(s))},a.default.prototype.degrees=function(s){return s*d.RAD_TO_DEG},a.default.prototype.radians=function(s){return s*d.DEG_TO_RAD},a.default.prototype.angleMode=function(s){if(a.default._validateParameters("angleMode",arguments),void 0===s)return this._angleMode;s!==d.DEGREES&&s!==d.RADIANS||(this._angleMode=s)},a.default.prototype._toRadians=function(s){return this._angleMode===d.DEGREES?s*d.DEG_TO_RAD:s},a.default.prototype._toDegrees=function(s){return this._angleMode===d.RADIANS?s*d.RAD_TO_DEG:s},a.default.prototype._fromRadians=function(s){return this._angleMode===d.DEGREES?s*d.RAD_TO_DEG:s};var p=a.default;E.default=p},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],303:[function(e,U,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(e=e("../core/main"))&&e.__esModule?e:{default:e};f.default.prototype.textAlign=function(o,a){var d;return f.default._validateParameters("textAlign",arguments),(d=this._renderer).textAlign.apply(d,arguments)},f.default.prototype.textLeading=function(o){var a;return f.default._validateParameters("textLeading",arguments),(a=this._renderer).textLeading.apply(a,arguments)},f.default.prototype.textSize=function(o){var a;return f.default._validateParameters("textSize",arguments),(a=this._renderer).textSize.apply(a,arguments)},f.default.prototype.textStyle=function(o){var a;return f.default._validateParameters("textStyle",arguments),(a=this._renderer).textStyle.apply(a,arguments)},f.default.prototype.textWidth=function(){for(var o,a=arguments.length,d=new Array(a),u=0;u<a;u++)d[u]=arguments[u];return d[0]+="",f.default._validateParameters("textWidth",d),0===d[0].length?0:(o=this._renderer).textWidth.apply(o,d)},f.default.prototype.textAscent=function(){for(var o=arguments.length,a=new Array(o),d=0;d<o;d++)a[d]=arguments[d];return f.default._validateParameters("textAscent",a),this._renderer.textAscent()},f.default.prototype.textDescent=function(){for(var o=arguments.length,a=new Array(o),d=0;d<o;d++)a[d]=arguments[d];return f.default._validateParameters("textDescent",a),this._renderer.textDescent()},f.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},f.default.prototype.textWrap=function(o){if("WORD"!==o&&"CHAR"!==o)throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(o)},E.default=e=f.default},{"../core/main":267}],304:[function(e,U,E){"use strict";function f(i){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function o(i){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(c){return f(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":f(c)})(i)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=(r=e("../core/main"))&&r.__esModule?r:{default:r},d=s(e("../core/constants")),u=s(e("opentype.js"));function p(){var i;return"function"!=typeof WeakMap?null:(p=function(){return i},i=new WeakMap)}function s(i){if(i&&i.__esModule)return i;if(null===i||"object"!==o(i)&&"function"!=typeof i)return{default:i};var c=p();if(c&&c.has(i))return c.get(i);var h,y,v={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in i)Object.prototype.hasOwnProperty.call(i,h)&&((y=x?Object.getOwnPropertyDescriptor(i,h):null)&&(y.get||y.set)?Object.defineProperty(v,h,y):v[h]=i[h]);return v.default=i,c&&c.set(i,v),v}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),a.default.prototype.loadFont=function(i,c,h){a.default._validateParameters("loadFont",arguments);var y=new a.default.Font(this),v=this;return u.load(i,function(C,N){if(C)return a.default._friendlyFileLoadError(4,i),void 0!==h?h(C):void console.error(C,i);y.font=N,void 0!==c&&c(y),v._decrementPreload();var M=(N=(C=i.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:C.slice(N+1);["ttf","otf","woff","woff2"].includes(M)&&(M=C.slice(0,-1!==N?N:0),(C=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(M,";\nsrc: url(").concat(i,");\n}\n"))),document.head.appendChild(C))}),y},a.default.prototype.text=function(i,c,h,y,v){var x;return a.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(x=this._renderer).text.apply(x,arguments):this},a.default.prototype.textFont=function(i,c){if(a.default._validateParameters("textFont",arguments),arguments.length){if(i)return this._renderer._setProperty("_textFont",i),c&&(this._renderer._setProperty("_textSize",c),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",c*d._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var r=a.default;E.default=r},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,"opentype.js":241}],305:[function(e,U,E){"use strict";function f(M){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(M)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var o=(o=e("../core/main"))&&o.__esModule?o:{default:o},a=function(M){if(M&&M.__esModule)return M;if(null===M||"object"!==u(M)&&"function"!=typeof M)return{default:M};var F=d();if(F&&F.has(M))return F.get(M);var j,B={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in M){var ee;Object.prototype.hasOwnProperty.call(M,j)&&((ee=G?Object.getOwnPropertyDescriptor(M,j):null)&&(ee.get||ee.set)?Object.defineProperty(B,j,ee):B[j]=M[j])}return B.default=M,F&&F.set(M,B),B}(e("../core/constants"));function d(){var M;return"function"!=typeof WeakMap?null:(d=function(){return M},M=new WeakMap)}function u(M){return(u="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(F){return f(F)}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":f(F)})(M)}function p(M,F){var j=M.length;return M[F<0?F%j+j:F%j]}function s(M,F,j,B){var G,ee,$;return B?(void 0===s.tmpPoint1&&(s.tmpPoint1=[],s.tmpPoint2=[]),$=s.tmpPoint2,(ee=s.tmpPoint1).x=F.x-M.x,ee.y=F.y-M.y,$.x=j.x-F.x,$.y=j.y-F.y,G=ee.x*$.x+ee.y*$.y,ee=Math.sqrt(ee.x*ee.x+ee.y*ee.y),$=Math.sqrt($.x*$.x+$.y*$.y),Math.acos(G/(ee*$))<B):(F[0]-M[0])*(j[1]-M[1])-(j[0]-M[0])*(F[1]-M[1])==0}function r(A,K,q,we,Fe,ee,$,H,Z){var oe=1-Z,Q=(te=Math.pow(oe,3))*A+3*(me=Math.pow(oe,2))*Z*q+3*oe*Z*Z*Fe+(ce=(Ae=Z*Z)*Z)*$,te=te*K+3*me*Z*we+3*oe*Z*Z*ee+ce*H,me=A+2*Z*(q-A)+Ae*(Fe-2*q+A),ce=K+2*Z*(we-K)+Ae*(ee-2*we+K),he=q+2*Z*(Fe-q)+Ae*($-2*Fe+q),Ae=we+2*Z*(ee-we)+Ae*(H-2*ee+we);return A=oe*A+Z*q,q=oe*K+Z*we,K=oe*Fe+Z*$,we=oe*ee+Z*H,Fe=90-180*Math.atan2(me-he,ce-Ae)/Math.PI,(he<me||ce<Ae)&&(Fe+=180),{x:Q,y:te,m:{x:me,y:ce},n:{x:he,y:Ae},start:{x:A,y:q},end:{x:K,y:we},alpha:Fe}}function i(M,F,j,B,G,ee,$,H,Z){return null==Z?C(M,F,j,B,G,ee,$,H):r(M,F,j,B,G,ee,$,H,function(oe,Q,te,me,ce,he,Ae,A,q){if(!(q<0||C(oe,Q,te,me,ce,he,Ae,A)<q)){var K,we=.5,Fe=1-we;for(K=C(oe,Q,te,me,ce,he,Ae,A,Fe);.01<Math.abs(K-q);)K=C(oe,Q,te,me,ce,he,Ae,A,Fe+=(K<q?1:-1)*(we/=2));return Fe}}(M,F,j,B,G,ee,$,H,Z))}function c(M,F,j){for(var B,G,ee,$,H,Z=0,oe=0,Q=(M=function(te,me){function ce(ft,Qe,jt){var At,$t;if(!ft)return["C",Qe.x,Qe.y,Qe.x,Qe.y,Qe.x,Qe.y];switch(ft[0]in{T:1,Q:1}||(Qe.qx=Qe.qy=null),ft[0]){case"M":Qe.X=ft[1],Qe.Y=ft[2];break;case"A":ft=["C"].concat(y.apply(0,[Qe.x,Qe.y].concat(ft.slice(1))));break;case"S":$t="C"===jt||"S"===jt?(At=2*Qe.x-Qe.bx,2*Qe.y-Qe.by):(At=Qe.x,Qe.y),ft=["C",At,$t].concat(ft.slice(1));break;case"T":"Q"===jt||"T"===jt?(Qe.qx=2*Qe.x-Qe.qx,Qe.qy=2*Qe.y-Qe.qy):(Qe.qx=Qe.x,Qe.qy=Qe.y),ft=["C"].concat(w(Qe.x,Qe.y,Qe.qx,Qe.qy,ft[1],ft[2]));break;case"Q":Qe.qx=ft[1],Qe.qy=ft[2],ft=["C"].concat(w(Qe.x,Qe.y,ft[1],ft[2],ft[3],ft[4]));break;case"L":ft=["C"].concat(x(Qe.x,Qe.y,ft[1],ft[2]));break;case"H":ft=["C"].concat(x(Qe.x,Qe.y,ft[1],Qe.y));break;case"V":ft=["C"].concat(x(Qe.x,Qe.y,Qe.x,ft[1]));break;case"Z":ft=["C"].concat(x(Qe.x,Qe.y,Qe.X,Qe.Y))}return ft}function he(ft,Qe){if(7<ft[Qe].length){ft[Qe].shift();for(var jt=ft[Qe];jt.length;)Te[Qe]="A",K&&(Ie[Qe]="A"),ft.splice(Qe++,0,["C"].concat(jt.splice(0,6)));ft.splice(Qe,1),A=Math.max(q.length,K&&K.length||0)}}function Ae(ft,Qe,jt,At,$t){ft&&Qe&&"M"===ft[$t][0]&&"M"!==Qe[$t][0]&&(Qe.splice($t,0,["M",At.x,At.y]),jt.bx=0,jt.by=0,jt.x=ft[$t][1],jt.y=ft[$t][2],A=Math.max(q.length,K&&K.length||0))}var A,q=h(te),K=undefined,we={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Fe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Te=[],Ie=[],Ve="",Ue="";A=Math.max(q.length,K&&K.length||0);for(var et=0;et<A;et++){"C"!==(Ve=q[et]?q[et][0]:Ve)&&(Te[et]=Ve,et&&(Ue=Te[et-1])),q[et]=ce(q[et],we,Ue),"A"!==Te[et]&&"C"===Ve&&(Te[et]="C"),he(q,et),K&&("C"!==(Ve=K[et]?K[et][0]:Ve)&&(Ie[et]=Ve,et&&(Ue=Ie[et-1])),K[et]=ce(K[et],Fe,Ue),"A"!==Ie[et]&&"C"===Ve&&(Ie[et]="C"),he(K,et)),Ae(q,K,we,Fe,et),Ae(K,q,Fe,we,et);var mt=q[et],Re=K&&K[et],ot=mt.length,ut=K&&Re.length;we.x=mt[ot-2],we.y=mt[ot-1],we.bx=parseFloat(mt[ot-4])||we.x,we.by=parseFloat(mt[ot-3])||we.y,Fe.bx=K&&(parseFloat(Re[ut-4])||Fe.x),Fe.by=K&&(parseFloat(Re[ut-3])||Fe.y),Fe.x=K&&Re[ut-2],Fe.y=K&&Re[ut-1]}return K?[q,K]:q}(M)).length;oe<Q;oe++){if("M"===(ee=M[oe])[0])B=+ee[1],G=+ee[2];else{if(F<Z+($=i(B,G,ee[1],ee[2],ee[3],ee[4],ee[5],ee[6]))&&!j)return{x:(H=i(B,G,ee[1],ee[2],ee[3],ee[4],ee[5],ee[6],F-Z)).x,y:H.y,alpha:H.alpha};Z+=$,B=+ee[5],G=+ee[6]}ee.shift()}return(H=j?Z:r(B,G,ee[0],ee[1],ee[2],ee[3],ee[4],ee[5],1)).alpha?{x:H.x,y:H.y,alpha:H.alpha}:H}function h(M){var F=[],j=0,B=0,G=0,ee=0,$=0;if(M){"M"===M[0][0]&&(G=j=+M[0][1],ee=B=+M[0][2],$++,F[0]=["M",j,B]);for(var H,Z,oe=3===M.length&&"M"===M[0][0]&&"R"===M[1][0].toUpperCase()&&"Z"===M[2][0].toUpperCase(),Q=$,te=M.length;Q<te;Q++){if(F.push(H=[]),(Z=M[Q])[0]!==String.prototype.toUpperCase.call(Z[0]))switch(H[0]=String.prototype.toUpperCase.call(Z[0]),H[0]){case"A":H[1]=Z[1],H[2]=Z[2],H[3]=Z[3],H[4]=Z[4],H[5]=Z[5],H[6]=+(Z[6]+j),H[7]=+(Z[7]+B);break;case"V":H[1]=+Z[1]+B;break;case"H":H[1]=+Z[1]+j;break;case"R":for(var me,ce=2,he=(me=[j,B].concat(Z.slice(1))).length;ce<he;ce++)me[ce]=+me[ce]+j,me[++ce]=+me[ce]+B;F.pop(),F=F.concat(v(me,oe));break;case"M":G=+Z[1]+j,ee=+Z[2]+B;break;default:for(var Ae=1,A=Z.length;Ae<A;Ae++)H[Ae]=+Z[Ae]+(Ae%2?j:B)}else if("R"===Z[0])me=[j,B].concat(Z.slice(1)),F.pop(),F=F.concat(v(me,oe)),H=["R"].concat(Z.slice(-2));else for(var q=0,K=Z.length;q<K;q++)H[q]=Z[q];switch(H[0]){case"Z":j=G,B=ee;break;case"H":j=H[1];break;case"V":B=H[1];break;case"M":G=H[H.length-2],ee=H[H.length-1];break;default:j=H[H.length-2],B=H[H.length-1]}}}return F}function y(M,F,j,B,K,Te,we,H,Z,oe){function Q(ut,ft,Qe){return{x:ut*Math.cos(Qe)-ft*Math.sin(Qe),y:ut*Math.sin(Qe)+ft*Math.cos(Qe)}}var te,q=120*(A=Math.PI)/180,me=A/180*(+K||0),ce=[],he=(oe?(et=oe[0],te=oe[1],Ve=oe[2],Ue=oe[3]):(M=(Fe=Q(M,F,-me)).x,F=Fe.y,1<(he=(Ae=(M-(H=(Fe=Q(H,Z,-me)).x))/2)*Ae/(j*j)+(Fe=(F-(Z=Fe.y))/2)*Fe/(B*B))&&(j*=he=Math.sqrt(he),B*=he),he=j*j,Ie=B*B,Ve=(Te=(Te===we?-1:1)*Math.sqrt(Math.abs((he*Ie-he*Fe*Fe-Ie*Ae*Ae)/(he*Fe*Fe+Ie*Ae*Ae))))*j*Fe/B+(M+H)/2,Ue=Te*-B*Ae/j+(F+Z)/2,et=Math.asin(((F-Ue)/B).toFixed(9)),te=Math.asin(((Z-Ue)/B).toFixed(9)),(et=M<Ve?A-et:et)<0&&(et=2*A+et),(te=H<Ve?A-te:te)<0&&(te=2*A+te),we&&te<et&&(et-=2*A),!we&&et<te&&(te-=2*A)),te-et),Ae=(Math.abs(he)>q&&(Ie=te,Fe=H,Te=Z,te=et+q*(we&&et<te?1:-1),ce=y(H=Ve+j*Math.cos(te),Z=Ue+B*Math.sin(te),j,B,K,0,we,Fe,Te,[te,Ie,Ve,Ue])),he=te-et,Math.cos(et)),A=Math.sin(et),Fe=(q=Math.cos(te),K=Math.sin(te),4/3*j*(we=Math.tan(he/4))),Ie=[M,F],Ve=[M+Fe*A,F-(Te=4/3*B*we)*Ae],Ue=[H+Fe*K,Z-Te*q],et=[H,Z];if(Ve[0]=2*Ie[0]-Ve[0],Ve[1]=2*Ie[1]-Ve[1],oe)return[Ve,Ue,et].concat(ce);for(var mt=[],Re=0,ot=(ce=[Ve,Ue,et].concat(ce).join().split(",")).length;Re<ot;Re++)mt[Re]=Re%2?Q(ce[Re-1],ce[Re],me).y:Q(ce[Re],ce[Re+1],me).x;return mt}function v(M,F){for(var j=[],B=0,G=M.length;B<G-2*!F;B+=2){var ee=[{x:+M[B-2],y:+M[B-1]},{x:+M[B],y:+M[B+1]},{x:+M[B+2],y:+M[B+3]},{x:+M[B+4],y:+M[B+5]}];F?B?G-4===B?ee[3]={x:+M[0],y:+M[1]}:G-2===B&&(ee[2]={x:+M[0],y:+M[1]},ee[3]={x:+M[2],y:+M[3]}):ee[0]={x:+M[G-2],y:+M[G-1]}:G-4===B?ee[3]=ee[2]:B||(ee[0]={x:+M[B],y:+M[B+1]}),j.push(["C",(6*ee[1].x-ee[0].x+ee[2].x)/6,(6*ee[1].y-ee[0].y+ee[2].y)/6,(ee[1].x+6*ee[2].x-ee[3].x)/6,(ee[1].y+6*ee[2].y-ee[3].y)/6,ee[2].x,ee[2].y])}return j}function x(M,F,j,B){return[M,F,j,B,j,B]}function w(M,F,j,B,G,ee){return[1/3*M+2/3*j,1/3*F+2/3*B,1/3*G+2/3*j,1/3*ee+2/3*B,G,ee]}function C(M,F,j,B,G,ee,$,H,Z){for(var oe=(Z=1<(Z=null==Z?1:Z)?1:Z<0?0:Z)/2,Q=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],te=0,me=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],ce=0;ce<12;ce++){var he=N(Ae=oe*Q[ce]+oe,M,j,G,$),Ae=N(Ae,F,B,ee,H);te+=me[ce]*Math.sqrt(he*he+Ae*Ae)}return oe*te}function N(M,F,j,B,G){return M*(M*(-3*F+9*j-9*B+3*G)+6*F-12*j+6*B)-3*F+3*j}o.default.Font=function(M){this.parent=M,this.cache={},this.font=void 0},o.default.Font.prototype.textBounds=function(M){var F=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,j=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,B=4<arguments.length?arguments[4]:void 0,G=B&&B.renderer&&B.renderer._pInst||this.parent,ee=G._renderer.drawingContext,$=($=3<arguments.length?arguments[3]:void 0)||G._renderer._textSize;if(!q){for(var H=[],Z=[],oe=[],Q=(oe[0]=[],[]),te=this._scale($),me=G._renderer.textLeading(),ce=0,he=(this.font.forEachGlyph(M,F,j,$,B,function(Fe,Te,Ie,Ve){var Ue=Fe.getMetrics();0===Fe.index||10===Fe.index?oe[ce+=1]=[]:(oe[ce].push(Te+Ue.xMin*te),oe[ce].push(Te+Ue.xMax*te),Q.push(Ie+ce*me+-Ue.yMin*te),Q.push(Ie+ce*me+-Ue.yMax*te))}),0<oe[ce].length&&(H[ce]=Math.min.apply(null,oe[ce]),Z[ce]=Math.max.apply(null,oe[ce])),0),Ae=0;Ae<=ce;Ae++){H[Ae]=Math.min.apply(null,oe[Ae]),Z[Ae]=Math.max.apply(null,oe[Ae]);var A=Z[Ae]-H[Ae];he<A&&(he=A)}var q={x:ee=Math.min.apply(null,H),y:j=Math.min.apply(null,Q),h:Math.max.apply(null,Q)-j,w:he,advance:ee-F};$=this._handleAlignment(G._renderer,M,q.x,q.y,q.w+q.advance),q.x=$.x,q.y=$.y}return q},o.default.Font.prototype.textToPoints=function(M,F,j,B,G){var ee=0,$=[],H=this._getGlyphs(M);B=B||this.parent._renderer._textSize;for(var Z,oe=0;oe<H.length;oe++){if(!(H[Z=oe].name&&"space"===H[Z].name||M.length===H.length&&" "===M[Z]))for(var Q=function(he){for(var Ae,A=[],q=0;q<he.length;q++)"M"===he[q].type&&(Ae&&A.push(Ae),Ae=[]),Ae.push((we=void 0,we=[(K=he[q]).type],"M"===K.type||"L"===K.type?we.push(K.x,K.y):"C"===K.type?we.push(K.x1,K.y1,K.x2,K.y2,K.x,K.y):"Q"===K.type&&we.push(K.x1,K.y1,K.x,K.y),we));var K,we;return A.push(Ae),A}(H[oe].getPath(F,j,B).commands),te=0;te<Q.length;te++)for(var me=function(he,Ae){Ae=function(Te,Ie){if("object"!==u(Te))Te=Ie;else for(var Ve in Ie)void 0===Te[Ve]&&(Te[Ve]=Ie[Ve]);return Te}(Ae,{sampleFactor:.1,simplifyThreshold:0});for(var A=c(he,0,1),q=A/(A*Ae.sampleFactor),K=[],we=0;we<A;we+=q)K.push(c(he,we));return Ae.simplifyThreshold&&function(Fe){for(var Te=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,Ve=Fe.length-1;3<Fe.length&&0<=Ve;--Ve)s(p(Fe,Ve-1),p(Fe,Ve),p(Fe,Ve+1),Te)&&Fe.splice(Ve%Fe.length,1)}(K,Ae.simplifyThreshold),K}(Q[te],G),ce=0;ce<me.length;ce++)me[ce].x+=ee,$.push(me[ce]);ee+=H[oe].advanceWidth*this._scale(B)}return $},o.default.Font.prototype._getGlyphs=function(M){return this.font.stringToGlyphs(M)},o.default.Font.prototype._getPath=function(M,ee,j,B){var G=(B&&B.renderer&&B.renderer._pInst||this.parent)._renderer;return ee=this._handleAlignment(G,M,ee,j),this.font.getPath(M,ee.x,ee.y,G._textSize,B)},o.default.Font.prototype._getPathData=function(M,F,j,B){var G=3;return"string"==typeof M&&2<arguments.length?M=this._getPath(M,F,j,B):"object"===u(F)&&(B=F),B&&"number"==typeof B.decimals&&(G=B.decimals),M.toPathData(G)},o.default.Font.prototype._getSVG=function(M,F,j,B){var G=3;return"string"==typeof M&&2<arguments.length?M=this._getPath(M,F,j,B):"object"===u(F)&&(B=F),B&&("number"==typeof B.decimals&&(G=B.decimals),"number"==typeof B.strokeWidth&&(M.strokeWidth=B.strokeWidth),void 0!==B.fill&&(M.fill=B.fill),void 0!==B.stroke&&(M.stroke=B.stroke)),M.toSVG(G)},o.default.Font.prototype._renderPath=function($,Z,oe,B){var G=B&&B.renderer||this.parent._renderer,ee=G.drawingContext,H=($=("object"===u($)&&$.commands?$:this._getPath($,Z,oe,B)).commands,ee.beginPath(),!0);Z=!1,oe=void 0;try{for(var Q,te=$[Symbol.iterator]();!(H=(Q=te.next()).done);H=!0){var me=Q.value;"M"===me.type?ee.moveTo(me.x,me.y):"L"===me.type?ee.lineTo(me.x,me.y):"C"===me.type?ee.bezierCurveTo(me.x1,me.y1,me.x2,me.y2,me.x,me.y):"Q"===me.type?ee.quadraticCurveTo(me.x1,me.y1,me.x,me.y):"Z"===me.type&&ee.closePath()}}catch(ce){Z=!0,oe=ce}finally{try{H||null==te.return||te.return()}finally{if(Z)throw oe}}return G._doStroke&&G._strokeSet&&ee.stroke(),G._doFill&&(G._fillSet||G._setFill(a._DEFAULT_TEXT_FILL),ee.fill()),this},o.default.Font.prototype._textWidth=function(M,F){return this.font.getAdvanceWidth(M,F)},o.default.Font.prototype._textAscent=function(M){return this.font.ascender*this._scale(M)},o.default.Font.prototype._textDescent=function(M){return-this.font.descender*this._scale(M)},o.default.Font.prototype._scale=function(M){return 1/this.font.unitsPerEm*(M||this.parent._renderer._textSize)},o.default.Font.prototype._handleAlignment=function(M,F,j,B,G){var ee=M._textSize;switch(void 0===G&&(G=this._textWidth(F,ee)),M._textAlign){case a.CENTER:j-=G/2;break;case a.RIGHT:j-=G}switch(M._textBaseline){case a.TOP:B+=this._textAscent(ee);break;case a.CENTER:B+=this._textAscent(ee)/2;break;case a.BOTTOM:B-=this._textDescent(ee)}return{x:j,y:B}},E.default=e=o.default},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],306:[function(e,U,E){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.array-buffer.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.array-buffer.constructor"),e("core-js/modules/es.object.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.prototype.append=function(f,o){return f.push(o),f},e.default.prototype.arrayCopy=function(f,o,a,d,u){var p,s;f=void 0!==u?(s=Math.min(u,f.length),p=d,f.slice(o,s+o)):(s=void 0!==a?(s=a,Math.min(s,f.length)):f.length,a=o,f.slice(p=0,s)),Array.prototype.splice.apply(a,[p,s].concat(f))},e.default.prototype.concat=function(f,o){return f.concat(o)},e.default.prototype.reverse=function(f){return f.reverse()},e.default.prototype.shorten=function(f){return f.pop(),f},e.default.prototype.shuffle=function(f,o){for(var a,d,u=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(f),p=(f=o||u?f:f.slice()).length;1<p;)a=this.random(0,1)*p|0,d=f[--p],f[p]=f[a],f[a]=d;return f},e.default.prototype.sort=function(f,d){var a=d?f.slice(0,Math.min(d,f.length)):f;return d=d?f.slice(Math.min(d,f.length)):[],(a="string"==typeof a[0]?a.sort():a.sort(function(u,p){return u-p})).concat(d)},e.default.prototype.splice=function(f,o,a){return Array.prototype.splice.apply(f,[a,0].concat(o)),f},e.default.prototype.subset=function(f,o,a){return f.slice(o,void 0!==a?o+a:f.length)},E.default=e=e.default},{"../core/main":267,"core-js/modules/es.array-buffer.constructor":148,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177}],307:[function(e,U,E){"use strict";e("core-js/modules/es.array.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.repeat"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.repeat"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(e=e("../core/main"))&&e.__esModule?e:{default:e};f.default.prototype.float=function(o){return o instanceof Array?o.map(parseFloat):parseFloat(o)},f.default.prototype.int=function(o){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return o===1/0||"Infinity"===o?1/0:o===-1/0||"-Infinity"===o?-1/0:"string"==typeof o?parseInt(o,a):"number"==typeof o?0|o:"boolean"==typeof o?o?1:0:o instanceof Array?o.map(function(d){return f.default.prototype.int(d,a)}):void 0},f.default.prototype.str=function(o){return o instanceof Array?o.map(f.default.prototype.str):String(o)},f.default.prototype.boolean=function(o){return"number"==typeof o?0!==o:"string"==typeof o?"true"===o.toLowerCase():"boolean"==typeof o?o:o instanceof Array?o.map(f.default.prototype.boolean):void 0},f.default.prototype.byte=function(o){return"number"==typeof(o=f.default.prototype.int(o,10))?(o+128)%256-128:o instanceof Array?o.map(f.default.prototype.byte):void 0},f.default.prototype.char=function(o){return"number"!=typeof o||isNaN(o)?o instanceof Array?o.map(f.default.prototype.char):"string"==typeof o?f.default.prototype.char(parseInt(o,10)):void 0:String.fromCharCode(o)},f.default.prototype.unchar=function(o){return"string"==typeof o&&1===o.length?o.charCodeAt(0):o instanceof Array?o.map(f.default.prototype.unchar):void 0},f.default.prototype.hex=function(o,a){if(a=null==a?8:a,o instanceof Array)return o.map(function(u){return f.default.prototype.hex(u,a)});if(o===1/0||o===-1/0)return(o===1/0?"F":"0").repeat(a);if("number"==typeof o){o<0&&(o=4294967295+o+1);for(var d=Number(o).toString(16).toUpperCase();d.length<a;)d="0".concat(d);return d.length>=a?d.substring(d.length-a,d.length):d}},f.default.prototype.unhex=function(o){return o instanceof Array?o.map(f.default.prototype.unhex):parseInt("0x".concat(o),16)},E.default=e=f.default},{"../core/main":267,"core-js/modules/es.array.map":161,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.repeat":188}],308:[function(e,U,E){"use strict";e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(p=e("../core/main"))&&p.__esModule?p:{default:p};function o(h,r,i){var c=h<0,y=(h=c?h.toString().substring(1):h.toString()).indexOf("."),v=-1!==y?h.substring(0,y):h,x=-1!==y?h.substring(y+1):"",w=c?"-":"";if(void 0!==i){c="",(-1!==y||0<i-x.length)&&(c="."),x.length>i&&(x=x.substring(0,i));for(var C=0;C<r-v.length;C++)w+="0";w=(w+=v)+c+x;for(var N=0;N<i-x.length;N++)w+="0";return w}for(var M=0;M<Math.max(r-v.length,0);M++)w+="0";return w+h}function a(h,r){var i=(h=h.toString()).indexOf("."),c=-1!==i?h.substring(i):"";if(h=(h=-1!==i?h.substring(0,i):h).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===r)c="";else if(void 0!==r)if(r>c.length)for(var y=r-(c+=-1===i?".":"").length+1,v=0;v<y;v++)c+="0";else c=c.substring(0,r+1);return h+c}function d(s){return 0<parseFloat(s)?"+".concat(s.toString()):s.toString()}function u(s){return 0<=parseFloat(s)?" ".concat(s.toString()):s.toString()}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),f.default.prototype.join=function(s,r){return f.default._validateParameters("join",arguments),s.join(r)},f.default.prototype.match=function(s,r){return f.default._validateParameters("match",arguments),s.match(r)},f.default.prototype.matchAll=function(s,r){f.default._validateParameters("matchAll",arguments);for(var i=new RegExp(r,"g"),c=i.exec(s),h=[];null!==c;)h.push(c),c=i.exec(s);return h},f.default.prototype.nf=function(s,r,i){return f.default._validateParameters("nf",arguments),s instanceof Array?s.map(function(c){return o(c,r,i)}):"[object Arguments]"===Object.prototype.toString.call(s)?3===s.length?this.nf(s[0],s[1],s[2]):2===s.length?this.nf(s[0],s[1]):this.nf(s[0]):o(s,r,i)},f.default.prototype.nfc=function(s,r){return f.default._validateParameters("nfc",arguments),s instanceof Array?s.map(function(i){return a(i,r)}):a(s,r)},f.default.prototype.nfp=function(){for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];f.default._validateParameters("nfp",r);var c=f.default.prototype.nf.apply(this,r);return c instanceof Array?c.map(d):d(c)},f.default.prototype.nfs=function(){for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];f.default._validateParameters("nfs",r);var c=f.default.prototype.nf.apply(this,r);return c instanceof Array?c.map(u):u(c)},f.default.prototype.split=function(s,r){return f.default._validateParameters("split",arguments),s.split(r)},f.default.prototype.splitTokens=function(s,r){var i,c;return f.default._validateParameters("splitTokens",arguments),c=void 0!==r?(c=/\]/g.exec(r=r),(i=/\[/g.exec(r))&&c?(r=r.slice(0,c.index)+r.slice(c.index+1),i=/\[/g.exec(r),r=r.slice(0,i.index)+r.slice(i.index+1),new RegExp("[\\[".concat(r,"\\]]"),"g")):c?(r=r.slice(0,c.index)+r.slice(c.index+1),new RegExp("[".concat(r,"\\]]"),"g")):i?(r=r.slice(0,i.index)+r.slice(i.index+1),new RegExp("[".concat(r,"\\[]"),"g")):new RegExp("[".concat(r,"]"),"g")):/\s/g,s.split(c).filter(function(h){return h})},f.default.prototype.trim=function(s){return f.default._validateParameters("trim",arguments),s instanceof Array?s.map(this.trim):s.trim()};var p=f.default;E.default=p},{"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],309:[function(e,U,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.prototype.day=function(){return(new Date).getDate()},e.default.prototype.hour=function(){return(new Date).getHours()},e.default.prototype.minute=function(){return(new Date).getMinutes()},e.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},e.default.prototype.month=function(){return(new Date).getMonth()+1},e.default.prototype.second=function(){return(new Date).getSeconds()},e.default.prototype.year=function(){return(new Date).getFullYear()},E.default=e=e.default},{"../core/main":267}],310:[function(e,U,E){"use strict";function f(r){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(r)}function o(r){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(i){return f(i)}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":f(i)})(r)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=(s=e("../core/main"))&&s.__esModule?s:{default:s},d=(e("./p5.Geometry"),function(r){if(r&&r.__esModule)return r;if(null===r||"object"!==o(r)&&"function"!=typeof r)return{default:r};var i=u();if(i&&i.has(r))return i.get(r);var c,h={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in r){var v;Object.prototype.hasOwnProperty.call(r,c)&&((v=y?Object.getOwnPropertyDescriptor(r,c):null)&&(v.get||v.set)?Object.defineProperty(h,c,v):h[c]=r[c])}return h.default=r,i&&i.set(r,h),h}(e("../core/constants")));function u(){var r;return"function"!=typeof WeakMap?null:(u=function(){return r},r=new WeakMap)}function p(r,i,c,h,y,v,x){r=r<=0?1:r,i=i<0?0:i,c=c<=0?r:c,h=h<3?3:h;for(var w,C,N=(v=void 0===v||v)?-2:0,M=(y=y<1?1:y)+((x=void 0===x?0!==i:x)?2:0),F=Math.atan2(r-i,c),j=Math.sin(F),B=Math.cos(F),G=N;G<=M;++G){var ee=G/y,$=c*ee,H=void 0;for(H=G<0?(ee=$=0,r):y<G?($=c,ee=1,i):r+(i-r)*ee,-2!==G&&G!==y+2||(H=0),$-=c/2,w=0;w<h;++w){var Z=w/(h-1),Q=2*Math.PI*Z,oe=Math.sin(Q),te=(Q=Math.cos(Q),this.vertices.push(new a.default.Vector(oe*H,$,Q*H)));te=G<0?new a.default.Vector(0,-1,0):y<G&&i?new a.default.Vector(0,1,0):new a.default.Vector(oe*B,j,Q*B),this.vertexNormals.push(te),this.uvs.push(Z,ee)}}var me=0;if(v){for(C=0;C<h;++C)this.faces.push([me+C,me+h+(C+1)%h,me+h+C]);me+=2*h}for(G=0;G<y;++G){for(w=0;w<h;++w){var ce=(w+1)%h;this.faces.push([me+w,me+ce,me+h+ce]),this.faces.push([me+w,me+h+ce,me+h+w])}me+=h}if(x)for(me+=h,w=0;w<h;++w)this.faces.push([me+w,me+(w+1)%h,me+h])}a.default.prototype.plane=function(r,i,c,h){this._assert3d("plane"),a.default._validateParameters("plane",arguments),void 0===r&&(r=50),void 0===i&&(i=r),void 0===h&&(h=1);var y,v="plane|".concat(c=void 0===c?1:c,"|").concat(h);return this._renderer.geometryInHash(v)||((y=new a.default.Geometry(c,h,function(){for(var x,w,C=0;C<=this.detailY;C++)for(var N=C/this.detailY,M=0;M<=this.detailX;M++)w=new a.default.Vector((x=M/this.detailX)-.5,N-.5,0),this.vertices.push(w),this.uvs.push(x,N)})).computeFaces().computeNormals(),c<=1&&h<=1?y._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(v,y)),this._renderer.drawBuffersScaled(v,r,i,1),this},a.default.prototype.box=function(r,i,c,h,y){this._assert3d("box"),a.default._validateParameters("box",arguments),void 0===r&&(r=50),void 0===i&&(i=r),void 0===c&&(c=i);var v,x=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return void 0===y&&(y=x?1:4),x="box|".concat(h=void 0===h?x?1:4:h,"|").concat(y),this._renderer.geometryInHash(x)||((v=new a.default.Geometry(h,y,function(){var w=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var C=0;C<w.length;C++){for(var N=w[C],M=4*C,F=0;F<4;F++){var j=new a.default.Vector((2*(1&(j=N[F]))-1)/2,((2&j)-1)/2,((4&j)/2-1)/2);this.vertices.push(j),this.uvs.push(1&F,(2&F)/2)}this.faces.push([M,1+M,2+M]),this.faces.push([2+M,1+M,3+M])}})).computeNormals(),h<=4&&y<=4?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(x,v)),this._renderer.drawBuffersScaled(x,r,i,c),this},a.default.prototype.sphere=function(r,i,c){return this._assert3d("sphere"),a.default._validateParameters("sphere",arguments),this.ellipsoid(r=void 0===r?50:r,r,r,i=void 0===i?24:i,c=void 0===c?16:c),this},a.default.prototype.cylinder=function(r,i,c,h,y,v){this._assert3d("cylinder"),a.default._validateParameters("cylinder",arguments),void 0===r&&(r=50),void 0===i&&(i=r),void 0===h&&(h=1),void 0===v&&(v=!0),void 0===y&&(y=!0);var x,w="cylinder|".concat(c=void 0===c?24:c,"|").concat(h,"|").concat(y,"|").concat(v);return this._renderer.geometryInHash(w)||(x=new a.default.Geometry(c,h),p.call(x,1,1,1,c,h,y,v),c<=24&&h<=16?x._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,x)),this._renderer.drawBuffersScaled(w,r,i,r),this},a.default.prototype.cone=function(r,i,c,h,y){this._assert3d("cone"),a.default._validateParameters("cone",arguments),void 0===r&&(r=50),void 0===i&&(i=r),void 0===h&&(h=1),void 0===y&&(y=!0);var v,x="cone|".concat(c=void 0===c?24:c,"|").concat(h,"|").concat(y);return this._renderer.geometryInHash(x)||(v=new a.default.Geometry(c,h),p.call(v,1,0,1,c,h,y,!1),c<=24&&h<=16?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(x,v)),this._renderer.drawBuffersScaled(x,r,i,r),this},a.default.prototype.ellipsoid=function(r,i,c,h,y){this._assert3d("ellipsoid"),a.default._validateParameters("ellipsoid",arguments),void 0===r&&(r=50),void 0===i&&(i=r),void 0===c&&(c=r),void 0===y&&(y=16);var v,x="ellipsoid|".concat(h=void 0===h?24:h,"|").concat(y);return this._renderer.geometryInHash(x)||((v=new a.default.Geometry(h,y,function(){for(var w=0;w<=this.detailY;w++)for(var C=w/this.detailY,N=Math.PI*C-Math.PI/2,M=Math.cos(N),F=Math.sin(N),j=0;j<=this.detailX;j++){var B=j/this.detailX,ee=2*Math.PI*B,G=Math.cos(ee);ee=Math.sin(ee),ee=new a.default.Vector(M*ee,F,M*G),this.vertices.push(ee),this.vertexNormals.push(ee),this.uvs.push(B,C)}})).computeFaces(),h<=24&&y<=24?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(x,v)),this._renderer.drawBuffersScaled(x,r,i,c),this},a.default.prototype.torus=function(r,x,c,h){if(this._assert3d("torus"),a.default._validateParameters("torus",arguments),void 0===r)r=50;else if(!r)return;if(void 0===x)x=10;else if(!x)return;void 0===c&&(c=24),void 0===h&&(h=16);var y,v=(x/r).toPrecision(4);return x="torus|".concat(v,"|").concat(c,"|").concat(h),this._renderer.geometryInHash(x)||((y=new a.default.Geometry(c,h,function(){for(var w=0;w<=this.detailY;w++)for(var C=w/this.detailY,N=2*Math.PI*C,M=Math.cos(N),F=Math.sin(N),j=1+v*M,B=0;B<=this.detailX;B++){var G=B/this.detailX,ee=2*Math.PI*G,H=Math.cos(ee),$=(ee=Math.sin(ee),new a.default.Vector(j*H,j*ee,v*F));H=new a.default.Vector(M*H,M*ee,F),this.vertices.push($),this.vertexNormals.push(H),this.uvs.push(G,C)}})).computeFaces(),c<=24&&h<=16?y._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(x,y)),this._renderer.drawBuffersScaled(x,r,r,r),this},a.default.RendererGL.prototype.point=function(r,i,c){var h=[];return h.push(new a.default.Vector(r,i,c=void 0===c?0:c)),this._drawPoints(h,this.immediateMode.buffers.point),this},a.default.RendererGL.prototype.triangle=function(x){var i=x[0],c=x[1],h=x[2],y=x[3],v=x[4],w=(x=x[5],this.geometryInHash("tri")||((w=new a.default.Geometry(1,1,function(){var N=[];N.push(new a.default.Vector(0,0,0)),N.push(new a.default.Vector(0,1,0)),N.push(new a.default.Vector(1,0,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=N,this.faces=[[0,1,2]],this.uvs=[0,0,0,1,1,1]}))._makeTriangleEdges()._edgesToVertices(),w.computeNormals(),this.createBuffers("tri",w)),this.uMVMatrix.copy());try{var C=new a.default.Matrix([h-i,y-c,0,0,v-i,x-c,0,0,0,0,1,0,i,c,0,1]).mult(this.uMVMatrix);this.uMVMatrix=C,this.drawBuffers("tri")}finally{this.uMVMatrix=w}return this},a.default.RendererGL.prototype.ellipse=function(r){this.arc(r[0],r[1],r[2],r[3],0,d.TWO_PI,d.OPEN,r[4])},a.default.RendererGL.prototype.arc=function(r){var i,c=arguments[1],h=arguments[2],y=arguments[3],v=arguments[4],x=arguments[5],w=arguments[6],C=arguments[7]||25,N=(Math.abs(x-v)>=d.TWO_PI?"".concat(M="ellipse","|"):"".concat(M="arc","|").concat(v,"|").concat(x,"|").concat(w,"|")).concat(C,"|"),M=(this.geometryInHash(N)||((i=new a.default.Geometry(C,1,function(){if(this.strokeIndices=[],v.toFixed(10)!==x.toFixed(10)){w!==d.PIE&&void 0!==w||(this.vertices.push(new a.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var F=0;F<=C;F++){var B=F/C*(x-v)+v,j=.5+Math.cos(B)/2;B=.5+Math.sin(B)/2,this.vertices.push(new a.default.Vector(j,B,0)),this.uvs.push([j,B]),F<C-1&&(this.faces.push([0,F+1,F+2]),this.strokeIndices.push([F+1,F+2]))}switch(w){case d.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case d.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case d.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),C<=50?i._makeTriangleEdges()._edgesToVertices(i):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(M," with more than 50 detail")),this.createBuffers(N,i)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([r,c,0]),this.uMVMatrix.scale(h,y,1),this.drawBuffers(N)}finally{this.uMVMatrix=M}return this},a.default.RendererGL.prototype.rect=function(r){var i=r[0],c=r[1],h=r[2],y=r[3];if(void 0===r[4]){var w=this._pInst._glAttributes.perPixelLighting,v=r[4]||(w?1:24),x=r[5]||(w?1:16),C=(w="rect|".concat(v,"|").concat(x),this.geometryInHash(w)||((C=new a.default.Geometry(v,x,function(){for(var te=0;te<=this.detailY;te++)for(var me=te/this.detailY,ce=0;ce<=this.detailX;ce++){var he=ce/this.detailX,Ae=new a.default.Vector(he,me,0);this.vertices.push(Ae),this.uvs.push(he,me)}0<v&&0<x&&(this.strokeIndices=[[0,v],[v,(v+1)*(x+1)-1],[(v+1)*(x+1)-1,(v+1)*x],[(v+1)*x,0]])})).computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(w,C)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([i,c,0]),this.uMVMatrix.scale(h,y,1),this.drawBuffers(w)}finally{this.uMVMatrix=C}}else{w=r[4],C=void 0===r[5]?w:r[5];var N=void 0===r[6]?C:r[6],ee=(r=void 0===r[7]?N:r[7],h),M=y,F=((ee+=i)<i&&(B=i,i=ee,ee=B),(M+=c)<c&&(B=c,c=M,M=B),(B=Math.min((ee-i)/2,(M-c)/2))<w&&(w=B),B<C&&(C=B),B<N&&(N=B),B<r&&(r=B),i),j=c,B=ee,G=(i=M,this.beginShape(),0!==C?(this.vertex(B-C,j),this.quadraticVertex(B,j,B,j+C)):this.vertex(B,j),0!==N?(this.vertex(B,i-N),this.quadraticVertex(B,i,B-N,i)):this.vertex(B,i),0!==r?(this.vertex(F+r,i),this.quadraticVertex(F,i,F,i-r)):this.vertex(F,i),0!==w?(this.vertex(F,j+w),this.quadraticVertex(F,j,F+w,j)):this.vertex(F,j),!(this.immediateMode.geometry.uvs.length=0));c=!1,ee=void 0;try{for(var $,H=this.immediateMode.geometry.vertices[Symbol.iterator]();!(G=($=H.next()).done);G=!0){var Z=$.value;this.immediateMode.geometry.uvs.push((Z.x-F)/h,(Z.y-j)/y)}}catch(A){c=!0,ee=A}finally{try{G||null==H.return||H.return()}finally{if(c)throw ee}}this.endShape(d.CLOSE)}return this},a.default.RendererGL.prototype.quad=function(r,i,c,h,y,v,x,w,C,N,M,F,j,B){void 0===j&&(j=2),void 0===B&&(B=2);var G="quad|".concat(r,"|").concat(i,"|").concat(c,"|").concat(h,"|").concat(y,"|").concat(v,"|").concat(x,"|").concat(w,"|").concat(C,"|").concat(N,"|").concat(M,"|").concat(F,"|").concat(j,"|").concat(B);if(!this.geometryInHash(G)){var ee=new a.default.Geometry(j,B,function(){for(var te=1/(this.detailX-1),me=1/(this.detailY-1),ce=0;ce<this.detailY;ce++)for(var he=0;he<this.detailX;he++){var Ae=he*te,A=ce*me;this.vertices.push(new a.default.Vector((1-Ae)*((1-A)*r+A*N)+Ae*((1-A)*h+A*x),(1-Ae)*((1-A)*i+A*M)+Ae*((1-A)*y+A*w),(1-Ae)*((1-A)*c+A*F)+Ae*((1-A)*v+A*C))),this.uvs.push([Ae,A])}});ee.faces=[];for(var $=0;$<B-1;$++)for(var H=0;H<j-1;H++){var Z=H+$*j,oe=H+1+($+1)*j,Q=H+($+1)*j;ee.faces.push([Z,H+1+$*j,oe]),ee.faces.push([Z,oe,Q])}ee.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(G,ee)}return this.drawBuffers(G),this},a.default.RendererGL.prototype.bezier=function(r,i,c,h,y,v,x,w,C,N,M,F){8===arguments.length&&(M=w,N=x,w=v,x=y,y=h,h=c,c=v=C=F=0);var j=this._pInst._bezierDetail||20;this.beginShape();for(var B=0;B<=j;B++){var G=Math.pow(1-B/j,3),ee=B/j*3*Math.pow(1-B/j,2),$=3*Math.pow(B/j,2)*(1-B/j),H=Math.pow(B/j,3);this.vertex(r*G+h*ee+x*$+N*H,i*G+y*ee+w*$+M*H,c*G+v*ee+C*$+F*H)}return this.endShape(),this},a.default.RendererGL.prototype.curve=function(r,i,c,h,y,v,x,w,C,N,M,F){8===arguments.length&&(N=x,M=w,x=y,w=h,y=h=c,c=v=C=F=0);var j=this._pInst._curveDetail;this.beginShape();for(var B=0;B<=j;B++){var G=.5*Math.pow(B/j,3),ee=.5*Math.pow(B/j,2),$=B/j*.5;this.vertex(G*(3*h-r-3*x+N)+ee*(2*r-5*h+4*x-N)+$*(-r+x)+2*h*.5,G*(3*y-i-3*w+M)+ee*(2*i-5*y+4*w-M)+$*(-i+w)+2*y*.5,G*(3*v-c-3*C+F)+ee*(2*c-5*v+4*C-F)+$*(-c+C)+2*v*.5)}return this.endShape(),this},a.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(d.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(d.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},a.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var r,y,v,x=[],w=[],C=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var N=1/this._lutBezierDetail,M=0,F=1,j=0;M<1;){if(v=parseFloat(M.toFixed(6)),this._lookUpTableBezier[j]=this._bezierCoefficients(v),F.toFixed(6)===N.toFixed(6)){v=parseFloat(F.toFixed(6))+parseFloat(M.toFixed(6)),++j,this._lookUpTableBezier[j]=this._bezierCoefficients(v);break}M+=N,F-=N,++j}}var B=this._lookUpTableBezier.length;if(6===C){for(this.isBezier=!0,x=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],w=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],y=0;y<B;y++)this.vertex(x[0]*this._lookUpTableBezier[y][0]+x[1]*this._lookUpTableBezier[y][1]+x[2]*this._lookUpTableBezier[y][2]+x[3]*this._lookUpTableBezier[y][3],w[0]*this._lookUpTableBezier[y][0]+w[1]*this._lookUpTableBezier[y][1]+w[2]*this._lookUpTableBezier[y][2]+w[3]*this._lookUpTableBezier[y][3]);this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===C){for(this.isBezier=!0,x=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],w=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]],r=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],y=0;y<B;y++)this.vertex(x[0]*this._lookUpTableBezier[y][0]+x[1]*this._lookUpTableBezier[y][1]+x[2]*this._lookUpTableBezier[y][2]+x[3]*this._lookUpTableBezier[y][3],w[0]*this._lookUpTableBezier[y][0]+w[1]*this._lookUpTableBezier[y][1]+w[2]*this._lookUpTableBezier[y][2]+w[3]*this._lookUpTableBezier[y][3],r[0]*this._lookUpTableBezier[y][0]+r[1]*this._lookUpTableBezier[y][1]+r[2]*this._lookUpTableBezier[y][2]+r[3]*this._lookUpTableBezier[y][3]);this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},a.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var r,y,v,x=[],w=[],C=arguments.length;if(0===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var N=1/this._lutQuadraticDetail,M=0,F=1,j=0;M<1;){if(v=parseFloat(M.toFixed(6)),this._lookUpTableQuadratic[j]=this._quadraticCoefficients(v),F.toFixed(6)===N.toFixed(6)){v=parseFloat(F.toFixed(6))+parseFloat(M.toFixed(6)),++j,this._lookUpTableQuadratic[j]=this._quadraticCoefficients(v);break}M+=N,F-=N,++j}}var B=this._lookUpTableQuadratic.length;if(4===C){for(this.isQuadratic=!0,x=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],w=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],y=0;y<B;y++)this.vertex(x[0]*this._lookUpTableQuadratic[y][0]+x[1]*this._lookUpTableQuadratic[y][1]+x[2]*this._lookUpTableQuadratic[y][2],w[0]*this._lookUpTableQuadratic[y][0]+w[1]*this._lookUpTableQuadratic[y][1]+w[2]*this._lookUpTableQuadratic[y][2]);this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===C){for(this.isQuadratic=!0,x=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],w=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]],r=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],y=0;y<B;y++)this.vertex(x[0]*this._lookUpTableQuadratic[y][0]+x[1]*this._lookUpTableQuadratic[y][1]+x[2]*this._lookUpTableQuadratic[y][2],w[0]*this._lookUpTableQuadratic[y][0]+w[1]*this._lookUpTableQuadratic[y][1]+w[2]*this._lookUpTableQuadratic[y][2],r[0]*this._lookUpTableQuadratic[y][0]+r[1]*this._lookUpTableQuadratic[y][1]+r[2]*this._lookUpTableQuadratic[y][2]);this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},a.default.RendererGL.prototype.curveVertex=function(){var r,y,v,x=[],w=[],C=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var N=1/this._lutBezierDetail,M=0,F=1,j=0;M<1;){if(v=parseFloat(M.toFixed(6)),this._lookUpTableBezier[j]=this._bezierCoefficients(v),F.toFixed(6)===N.toFixed(6)){v=parseFloat(F.toFixed(6))+parseFloat(M.toFixed(6)),++j,this._lookUpTableBezier[j]=this._bezierCoefficients(v);break}M+=N,F-=N,++j}}var B=this._lookUpTableBezier.length;if(2===C){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,x=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),w=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),y=0;y<B;y++)this.vertex(x[0]*this._lookUpTableBezier[y][0]+x[1]*this._lookUpTableBezier[y][1]+x[2]*this._lookUpTableBezier[y][2]+x[3]*this._lookUpTableBezier[y][3],w[0]*this._lookUpTableBezier[y][0]+w[1]*this._lookUpTableBezier[y][1]+w[2]*this._lookUpTableBezier[y][2]+w[3]*this._lookUpTableBezier[y][3]);for(y=0;y<C;y++)this.immediateMode._curveVertex.shift()}}else if(3===C&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,x=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),w=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),r=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),y=0;y<B;y++)this.vertex(x[0]*this._lookUpTableBezier[y][0]+x[1]*this._lookUpTableBezier[y][1]+x[2]*this._lookUpTableBezier[y][2]+x[3]*this._lookUpTableBezier[y][3],w[0]*this._lookUpTableBezier[y][0]+w[1]*this._lookUpTableBezier[y][1]+w[2]*this._lookUpTableBezier[y][2]+w[3]*this._lookUpTableBezier[y][3],r[0]*this._lookUpTableBezier[y][0]+r[1]*this._lookUpTableBezier[y][1]+r[2]*this._lookUpTableBezier[y][2]+r[3]*this._lookUpTableBezier[y][3]);for(y=0;y<C;y++)this.immediateMode._curveVertex.shift()}},a.default.RendererGL.prototype.image=function(r,F,c,j,y,v,x,w,C){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.texture(r),this._pInst.textureMode(d.NORMAL);var N=0,M=(F<=r.width&&(N=F/r.width),1);F+j<=r.width&&(M=(F+j)/r.width),F=0,c<=r.height&&(F=c/r.height),j=1,c+y<=r.height&&(j=(c+y)/r.height),this.beginShape(),this.vertex(v,x,0,N,F),this.vertex(v+w,x,0,M,F),this.vertex(v+w,x+C,0,M,j),this.vertex(v,x+C,0,N,j),this.endShape(d.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(d.REMOVE)};var s=a.default;E.default=s},{"../core/constants":256,"../core/main":267,"./p5.Geometry":316,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],311:[function(e,U,E){"use strict";function f(s){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(s)}function o(s){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(r){return f(r)}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":f(r)})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=(p=e("../core/main"))&&p.__esModule?p:{default:p},d=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==o(s)&&"function"!=typeof s)return{default:s};var r=u();if(r&&r.has(s))return r.get(s);var i,c={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in s){var y;Object.prototype.hasOwnProperty.call(s,i)&&((y=h?Object.getOwnPropertyDescriptor(s,i):null)&&(y.get||y.set)?Object.defineProperty(c,i,y):c[i]=s[i])}return c.default=s,r&&r.set(s,c),c}(e("../core/constants"));function u(){var s;return"function"!=typeof WeakMap?null:(u=function(){return s},s=new WeakMap)}a.default.prototype.orbitControl=function(s,r,i){var c,h;if(this._assert3d("orbitControl"),a.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY)return c=this._renderer._curCamera,void 0===s&&(s=1),void 0===r&&(r=s),void 0===i&&(i=.5),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0)),h=this.height<this.width?this.height:this.width,this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&this._renderer._curCamera._orbit(0,0,0<this._mouseWheelDeltaY?i*h:-i*h),this.mouseIsPressed&&(this.mouseButton===this.LEFT?this._renderer._curCamera._orbit(i=-s*(this.mouseX-this.pmouseX)/h,h=r*(this.mouseY-this.pmouseY)/h,0):this.mouseButton===this.RIGHT&&(i=c._getLocalAxes(),0!==(h=Math.sqrt(i.x[0]*i.x[0]+i.x[2]*i.x[2]))&&(i.x[0]/=h,i.x[2]/=h),0!==(h=Math.sqrt(i.y[0]*i.y[0]+i.y[2]*i.y[2]))&&(i.y[0]/=h,i.y[2]/=h),c.setPosition(c.eyeX+(h=-1*s*(this.mouseX-this.pmouseX))*i.x[0]+(s=-1*r*(this.mouseY-this.pmouseY))*i.z[0],c.eyeY,c.eyeZ+h*i.x[2]+s*i.z[2]))),this},a.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];a.default._validateParameters("debugMode",r);for(var c=this._registeredMethods.post.length-1;0<=c;c--)this._registeredMethods.post[c].toString()!==this._grid().toString()&&this._registeredMethods.post[c].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(c,1);r[0]===d.GRID?this.registerMethod("post",this._grid.call(this,r[1],r[2],r[3],r[4],r[5])):r[0]===d.AXES?this.registerMethod("post",this._axesIcon.call(this,r[1],r[2],r[3],r[4])):(this.registerMethod("post",this._grid.call(this,r[0],r[1],r[2],r[3],r[4])),this.registerMethod("post",this._axesIcon.call(this,r[5],r[6],r[7],r[8])))},a.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var s=this._registeredMethods.post.length-1;0<=s;s--)this._registeredMethods.post[s].toString()!==this._grid().toString()&&this._registeredMethods.post[s].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(s,1)},a.default.prototype._grid=function(s,r,i,c,h){void 0===s&&(s=this.width/2),void 0===r&&(r=Math.round(s/30)<4?4:Math.round(s/30)),void 0===i&&(i=0),void 0===c&&(c=0),void 0===h&&(h=0);var y=s/r,v=s/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var x=0;x<=r;x++)this.beginShape(this.LINES),this.vertex(-v+i,c,x*y-v+h),this.vertex(v+i,c,x*y-v+h),this.endShape();for(var w=0;w<=r;w++)this.beginShape(this.LINES),this.vertex(w*y-v+i,c,-v+h),this.vertex(w*y-v+i,c,v+h),this.endShape();this.pop()}},a.default.prototype._axesIcon=function(s,r,i,c){return void 0===s&&(s=40<this.width/20?this.width/20:40),void 0===r&&(r=-this.width/4),void 0===i&&(i=r),void 0===c&&(c=r),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(r,i,c),this.vertex(r+s,i,c),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(r,i,c),this.vertex(r,i+s,c),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(r,i,c),this.vertex(r,i,c+s),this.endShape(),this.pop()}};var p=a.default;E.default=p},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],312:[function(e,U,E){"use strict";function f(s){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(s)}function o(s){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(r){return f(r)}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":f(r)})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=(p=e("../core/main"))&&p.__esModule?p:{default:p},d=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==o(s)&&"function"!=typeof s)return{default:s};var r=u();if(r&&r.has(s))return r.get(s);var i,c={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in s){var y;Object.prototype.hasOwnProperty.call(s,i)&&((y=h?Object.getOwnPropertyDescriptor(s,i):null)&&(y.get||y.set)?Object.defineProperty(c,i,y):c[i]=s[i])}return c.default=s,r&&r.set(s,c),c}(e("../core/constants"));function u(){var s;return"function"!=typeof WeakMap?null:(u=function(){return s},s=new WeakMap)}a.default.prototype.ambientLight=function(s,r,i,c){this._assert3d("ambientLight"),a.default._validateParameters("ambientLight",arguments);var h=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(h._array[0],h._array[1],h._array[2]),this._renderer._enableLighting=!0,this},a.default.prototype.specularColor=function(s,r,i){this._assert3d("specularColor"),a.default._validateParameters("specularColor",arguments);var c=this.color.apply(this,arguments);return this._renderer.specularColors=[c._array[0],c._array[1],c._array[2]],this},a.default.prototype.directionalLight=function(s,C,w,c,h,y){var v,x;return this._assert3d("directionalLight"),a.default._validateParameters("directionalLight",arguments),s=s instanceof a.default.Color?s:this.color(s,C,w),w="number"==typeof(C=arguments[arguments.length-1])?(v=arguments[arguments.length-3],x=arguments[arguments.length-2],arguments[arguments.length-1]):(v=C.x,x=C.y,C.z),C=Math.sqrt(v*v+x*x+w*w),this._renderer.directionalLightDirections.push(v/C,x/C,w/C),this._renderer.directionalLightDiffuseColors.push(s._array[0],s._array[1],s._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},a.default.prototype.pointLight=function(s,w,C,c,h,y){var v,x;return this._assert3d("pointLight"),a.default._validateParameters("pointLight",arguments),s=s instanceof a.default.Color?s:this.color(s,w,C),C="number"==typeof(w=arguments[arguments.length-1])?(v=arguments[arguments.length-3],x=arguments[arguments.length-2],arguments[arguments.length-1]):(v=w.x,x=w.y,w.z),this._renderer.pointLightPositions.push(v,x,C),this._renderer.pointLightDiffuseColors.push(s._array[0],s._array[1],s._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},a.default.prototype.lights=function(){var s;return this._assert3d("lights"),this._colorMode===d.RGB?(this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1)):(this.ambientLight(0,0,s=this._colorMaxes[this._colorMode][2]),this.directionalLight(0,0,s,0,0,-1)),this},a.default.prototype.lightFalloff=function(s,r,i){return this._assert3d("lightFalloff"),a.default._validateParameters("lightFalloff",arguments),s<0&&(s=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),r<0&&(r=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),i<0&&(i=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===s&&0===r&&0===i&&(s=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=s,this._renderer.linearAttenuation=r,this._renderer.quadraticAttenuation=i,this},a.default.prototype.spotLight=function(s,r,i,c,h,y,v,x,w,C,N){this._assert3d("spotLight"),a.default._validateParameters("spotLight",arguments);var M,F,j,B=arguments.length;switch(B){case 11:case 10:M=this.color(s,r,i),F=new a.default.Vector(c,h,y),j=new a.default.Vector(v,x,w);break;case 9:s instanceof a.default.Color?(M=s,F=new a.default.Vector(r,i,c),j=new a.default.Vector(h,y,v),C=x,N=w):c instanceof a.default.Vector?(M=this.color(s,r,i),F=c,j=new a.default.Vector(h,y,v),C=x,N=w):v instanceof a.default.Vector?(M=this.color(s,r,i),F=new a.default.Vector(c,h,y),j=v,C=x,N=w):(M=this.color(s,r,i),F=new a.default.Vector(c,h,y),j=new a.default.Vector(v,x,w));break;case 8:j=s instanceof a.default.Color?(M=s,F=new a.default.Vector(r,i,c),new a.default.Vector(h,y,v)):c instanceof a.default.Vector?(M=this.color(s,r,i),F=c,new a.default.Vector(h,y,v)):(M=this.color(s,r,i),F=new a.default.Vector(c,h,y),v),C=x;break;case 7:s instanceof a.default.Color&&r instanceof a.default.Vector?(M=s,F=r,j=new a.default.Vector(i,c,h),C=y,N=v):s instanceof a.default.Color&&h instanceof a.default.Vector?(M=s,F=new a.default.Vector(r,i,c),j=h,C=y,N=v):c instanceof a.default.Vector&&h instanceof a.default.Vector?(M=this.color(s,r,i),F=c,j=h,C=y,N=v):j=s instanceof a.default.Color?(M=s,F=new a.default.Vector(r,i,c),new a.default.Vector(h,y,v)):c instanceof a.default.Vector?(M=this.color(s,r,i),F=c,new a.default.Vector(h,y,v)):(M=this.color(s,r,i),F=new a.default.Vector(c,h,y),v);break;case 6:c instanceof a.default.Vector&&h instanceof a.default.Vector?(M=this.color(s,r,i),F=c,j=h,C=y):s instanceof a.default.Color&&h instanceof a.default.Vector?(M=s,F=new a.default.Vector(r,i,c),j=h,C=y):s instanceof a.default.Color&&r instanceof a.default.Vector&&(M=s,F=r,j=new a.default.Vector(i,c,h),C=y);break;case 5:s instanceof a.default.Color&&r instanceof a.default.Vector&&i instanceof a.default.Vector?(M=s,F=r,j=i,C=c,N=h):c instanceof a.default.Vector&&h instanceof a.default.Vector?(M=this.color(s,r,i),F=c,j=h):s instanceof a.default.Color&&h instanceof a.default.Vector?(M=s,F=new a.default.Vector(r,i,c),j=h):s instanceof a.default.Color&&r instanceof a.default.Vector&&(M=s,F=r,j=new a.default.Vector(i,c,h));break;case 4:M=s,F=r,j=i,C=c;break;case 3:M=s,F=r,j=i;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(B<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(M._array[0],M._array[1],M._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(F.x,F.y,F.z),j.normalize(),this._renderer.spotLightDirections.push(j.x,j.y,j.z),void 0===C&&(C=Math.PI/3),void 0!==N&&N<1?(N=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===N&&(N=100),C=this._renderer._pInst._toRadians(C),this._renderer.spotLightAngle.push(Math.cos(C)),this._renderer.spotLightConc.push(N),this._renderer._enableLighting=!0,this},a.default.prototype.noLights=function(){return this._assert3d("noLights"),a.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this};var p=a.default;E.default=p},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],313:[function(e,U,E){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(o=e("../core/main"))&&o.__esModule?o:{default:o};e("./p5.Geometry"),f.default.prototype.loadModel=function(a){f.default._validateParameters("loadModel",arguments);var d,u,p,s=a.slice(-4),r=("boolean"==typeof arguments[1]?(d=arguments[1],u=arguments[2],p=arguments[3],void 0!==arguments[4]&&(s=arguments[4])):(d=!1,u=arguments[1],p=arguments[2],void 0!==arguments[3]&&(s=arguments[3])),new f.default.Geometry),i=(r.gid="".concat(a,"|").concat(d),this);return s.match(/\.stl$/i)?this.httpDo(a,"GET","arrayBuffer",function(c){(function(h,y){if(function(v){for(var x=new DataView(v),w=[115,111,108,105,100],C=0;C<5;C++)if(function(N,M,F){for(var j=0,B=N.length;j<B;j++)if(N[j]!==M.getUint8(F+j,!1))return;return 1}(w,x,C))return;return 1}(y))!function(v,x){for(var w,C,N,M,F,j,B,G=new DataView(x),ee=G.getUint32(80,!0),$=!1,H=0;H<70;H++)1129270351===G.getUint32(H,!1)&&82===G.getUint8(H+4)&&61===G.getUint8(H+5)&&($=!0,M=[],F=G.getUint8(H+6)/255,j=G.getUint8(H+7)/255,B=G.getUint8(H+8)/255);for(var Z=0;Z<ee;Z++){for(var oe,Q=84+50*Z,te=G.getFloat32(Q,!0),me=G.getFloat32(4+Q,!0),ce=G.getFloat32(8+Q,!0),he=($&&(N=0==(32768&(oe=G.getUint16(48+Q,!0)))?(w=(31&oe)/31,C=(oe>>5&31)/31,(oe>>10&31)/31):(w=F,C=j,B)),new f.default.Vector(te,me,ce)),Ae=1;Ae<=3;Ae++){var A=new f.default.Vector(G.getFloat32(A=Q+12*Ae,!0),G.getFloat32(4+A,!0),G.getFloat32(8+A,!0));v.vertices.push(A),v.vertexNormals.push(he),$&&M.push(w,C,N)}v.faces.push([3*Z,3*Z+1,3*Z+2]),v.uvs.push([0,0],[0,0],[0,0])}}(h,y);else{if(y=new DataView(y),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");!function(v,x){for(var w,C,N="",M=[],F=0;F<x.length;++F){for(var j=x[F].trim(),B=j.split(" "),G=0;G<B.length;++G)""===B[G]&&B.splice(G,1);if(0!==B.length)switch(N){case"":if("solid"!==B[0])return console.error(j),console.error('Invalid state "'.concat(B[0],'", should be "solid"'));N="solid";break;case"solid":if("facet"!==B[0]||"normal"!==B[1])return console.error(j),console.error('Invalid state "'.concat(B[0],'", should be "facet normal"'));w=new f.default.Vector(parseFloat(B[2]),parseFloat(B[3]),parseFloat(B[4])),v.vertexNormals.push(w,w,w),N="facet normal";break;case"facet normal":if("outer"!==B[0]||"loop"!==B[1])return console.error(j),console.error('Invalid state "'.concat(B[0],'", should be "outer loop"'));N="vertex";break;case"vertex":if("vertex"===B[0])C=new f.default.Vector(parseFloat(B[1]),parseFloat(B[2]),parseFloat(B[3])),v.vertices.push(C),v.uvs.push([0,0]),M.push(v.vertices.indexOf(C));else{if("endloop"!==B[0])return console.error(j),console.error('Invalid state "'.concat(B[0],'", should be "vertex" or "endloop"'));v.faces.push(M),M=[],N="endloop"}break;case"endloop":if("endfacet"!==B[0])return console.error(j),console.error('Invalid state "'.concat(B[0],'", should be "endfacet"'));N="endfacet";break;case"endfacet":if("endsolid"!==B[0]){if("facet"!==B[0]||"normal"!==B[1])return console.error(j),console.error('Invalid state "'.concat(B[0],'", should be "endsolid" or "facet normal"'));w=new f.default.Vector(parseFloat(B[2]),parseFloat(B[3]),parseFloat(B[4])),v.vertexNormals.push(w,w,w),N="facet normal"}break;default:console.error('Invalid state "'.concat(N,'"'))}}}(h,y=new TextDecoder("utf-8").decode(y).split("\n"))}})(r,c),d&&r.normalize(),i._decrementPreload(),"function"==typeof u&&u(r)},p):s.match(/\.obj$/i)?this.loadStrings(a,function(c){for(var h=r,y=c,v={v:[],vt:[],vn:[]},x={},w=0;w<y.length;++w){var C=y[w].trim().split(/\b\s+/);if(0<C.length)if("v"===C[0]||"vn"===C[0]){var N=new f.default.Vector(parseFloat(C[1]),parseFloat(C[2]),parseFloat(C[3]));v[C[0]].push(N)}else if("vt"===C[0])N=[parseFloat(C[1]),1-parseFloat(C[2])],v[C[0]].push(N);else if("f"===C[0])for(var M=3;M<C.length;++M){for(var F=[],j=[1,M-1,M],B=0;B<j.length;++B){var G=C[j[B]],ee=0;if(void 0!==x[G])ee=x[G];else{for(var $=G.split("/"),H=0;H<$.length;H++)$[H]=parseInt($[H])-1;ee=x[G]=h.vertices.length,h.vertices.push(v.v[$[0]].copy()),h.uvs.push(v.vt[$[1]]?v.vt[$[1]].slice():[0,0]),v.vn[$[2]]&&h.vertexNormals.push(v.vn[$[2]].copy())}F.push(ee)}F[0]!==F[1]&&F[0]!==F[2]&&F[1]!==F[2]&&h.faces.push(F)}}0===h.vertexNormals.length&&h.computeNormals(),d&&r.normalize(),i._decrementPreload(),"function"==typeof u&&u(r)},p):(f.default._friendlyFileLoadError(3,a),p?p():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),r},f.default.prototype.model=function(a){this._assert3d("model"),f.default._validateParameters("model",arguments),0<a.vertices.length&&(this._renderer.geometryInHash(a.gid)||(a._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(a.gid,a)),this._renderer.drawBuffers(a.gid))};var o=f.default;E.default=o},{"../core/main":267,"./p5.Geometry":316,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],314:[function(e,U,E){"use strict";function f(s){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(s)}function o(s){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(r){return f(r)}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":f(r)})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.join"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=(p=e("../core/main"))&&p.__esModule?p:{default:p},d=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==o(s)&&"function"!=typeof s)return{default:s};var r=u();if(r&&r.has(s))return r.get(s);var i,c={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in s){var y;Object.prototype.hasOwnProperty.call(s,i)&&((y=h?Object.getOwnPropertyDescriptor(s,i):null)&&(y.get||y.set)?Object.defineProperty(c,i,y):c[i]=s[i])}return c.default=s,r&&r.set(s,c),c}(e("../core/constants"));function u(){var s;return"function"!=typeof WeakMap?null:(u=function(){return s},s=new WeakMap)}e("./p5.Texture"),a.default.prototype.loadShader=function(s,r,i,c){function h(){v._decrementPreload(),i&&i(y)}a.default._validateParameters("loadShader",arguments),c=c||console.error;var y=new a.default.Shader,v=this,x=!1,w=!1;return this.loadStrings(s,function(C){y._vertSrc=C.join("\n"),w=!0,x&&h()},c),this.loadStrings(r,function(C){y._fragSrc=C.join("\n"),x=!0,w&&h()},c),y},a.default.prototype.createShader=function(s,r){return this._assert3d("createShader"),a.default._validateParameters("createShader",arguments),new a.default.Shader(this._renderer,s,r)},a.default.prototype.shader=function(s){return this._assert3d("shader"),a.default._validateParameters("shader",arguments),void 0===s._renderer&&(s._renderer=this._renderer),s.init(),s.isStrokeShader()?this._renderer.userStrokeShader=s:(this._renderer.userFillShader=s,this._renderer._useNormalMaterial=!1),this},a.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},a.default.prototype.texture=function(s){return this._assert3d("texture"),a.default._validateParameters("texture",arguments),s.gifProperties&&s._animateGif(this),this._renderer.drawMode=d.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=s,this._renderer._setProperty("_doFill",!0),this},a.default.prototype.textureMode=function(s){s!==d.IMAGE&&s!==d.NORMAL?console.warn("You tried to set ".concat(s," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=s},a.default.prototype.textureWrap=function(s){for(var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s,i=(this._renderer.textureWrapX=s,this._renderer.textureWrapY=r,this._renderer.textures),c=0;c<i.length;c++)i[c].setWrapMode(s,r)},a.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return a.default._validateParameters("normalMaterial",r),this._renderer.drawMode=d.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},a.default.prototype.ambientMaterial=function(s,r,i){this._assert3d("ambientMaterial"),a.default._validateParameters("ambientMaterial",arguments);var c=a.default.prototype.color.apply(this,arguments);return this._renderer.curAmbientColor=c._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this._renderer._setProperty("_doFill",!0),this},a.default.prototype.emissiveMaterial=function(s,r,i,c){this._assert3d("emissiveMaterial"),a.default._validateParameters("emissiveMaterial",arguments);var h=a.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=h._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},a.default.prototype.specularMaterial=function(s,r,i,c){this._assert3d("specularMaterial"),a.default._validateParameters("specularMaterial",arguments);var h=a.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=h._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},a.default.prototype.shininess=function(s){return this._assert3d("shininess"),a.default._validateParameters("shininess",arguments),this._renderer._useShininess=s=s<1?1:s,this},a.default.RendererGL.prototype._applyColorBlend=function(s){var r=this.GL,i=this.drawMode===d.TEXTURE||this.curBlendMode!==d.BLEND||s[s.length-1]<1||this._isErasing;return i!==this._isBlending&&(i||this.curBlendMode!==d.BLEND&&this.curBlendMode!==d.ADD?r.enable(r.BLEND):r.disable(r.BLEND),r.depthMask(!0),this._isBlending=i),this._applyBlendMode(),s},a.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var s=this.GL;switch(this.curBlendMode){case d.BLEND:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA);break;case d.ADD:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.SRC_ALPHA,s.ONE);break;case d.REMOVE:s.blendEquation(s.FUNC_REVERSE_SUBTRACT),s.blendFunc(s.SRC_ALPHA,s.DST_ALPHA);break;case d.MULTIPLY:s.blendEquationSeparate(s.FUNC_ADD,s.FUNC_ADD),s.blendFuncSeparate(s.ZERO,s.SRC_COLOR,s.ONE,s.ONE);break;case d.SCREEN:s.blendEquationSeparate(s.FUNC_ADD,s.FUNC_ADD),s.blendFuncSeparate(s.ONE_MINUS_DST_COLOR,s.ONE,s.ONE,s.ONE);break;case d.EXCLUSION:s.blendEquationSeparate(s.FUNC_ADD,s.FUNC_ADD),s.blendFuncSeparate(s.ONE_MINUS_DST_COLOR,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE);break;case d.REPLACE:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ZERO);break;case d.SUBTRACT:s.blendEquationSeparate(s.FUNC_REVERSE_SUBTRACT,s.FUNC_ADD),s.blendFuncSeparate(s.SRC_ALPHA,s.ONE,s.ONE,s.ONE);break;case d.DARKEST:this.blendExt?(s.blendEquationSeparate(this.blendExt.MIN_EXT,s.FUNC_ADD),s.blendFuncSeparate(s.ONE,s.ONE,s.ONE,s.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case d.LIGHTEST:this.blendExt?(s.blendEquationSeparate(this.blendExt.MAX_EXT,s.FUNC_ADD),s.blendFuncSeparate(s.ONE,s.ONE,s.ONE,s.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var p=a.default;E.default=p},{"../core/constants":256,"../core/main":267,"./p5.Texture":323,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],315:[function(e,U,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(e=e("../core/main"))&&e.__esModule?e:{default:e};f.default.prototype.camera=function(){var o;this._assert3d("camera");for(var a=arguments.length,d=new Array(a),u=0;u<a;u++)d[u]=arguments[u];return f.default._validateParameters("camera",d),(o=this._renderer._curCamera).camera.apply(o,d),this},f.default.prototype.perspective=function(){var o;this._assert3d("perspective");for(var a=arguments.length,d=new Array(a),u=0;u<a;u++)d[u]=arguments[u];return f.default._validateParameters("perspective",d),(o=this._renderer._curCamera).perspective.apply(o,d),this},f.default.prototype.ortho=function(){var o;this._assert3d("ortho");for(var a=arguments.length,d=new Array(a),u=0;u<a;u++)d[u]=arguments[u];return f.default._validateParameters("ortho",d),(o=this._renderer._curCamera).ortho.apply(o,d),this},f.default.prototype.frustum=function(){var o;this._assert3d("frustum");for(var a=arguments.length,d=new Array(a),u=0;u<a;u++)d[u]=arguments[u];return f.default._validateParameters("frustum",d),(o=this._renderer._curCamera).frustum.apply(o,d),this},f.default.prototype.createCamera=function(){this._assert3d("createCamera");var o=new f.default.Camera(this._renderer);return o._computeCameraDefaultSettings(),o._setDefaultCamera(),this._renderer._curCamera=o},f.default.Camera=function(o){this._renderer=o,this.cameraType="default",this.cameraMatrix=new f.default.Matrix,this.projMatrix=new f.default.Matrix},f.default.Camera.prototype.perspective=function(p,a,d,u){this.cameraType=0<arguments.length?"custom":"default",this.cameraFOV=void 0===p?p=this.defaultCameraFOV:this._renderer._pInst._toRadians(p),void 0===a&&(a=this.defaultAspectRatio),void 0===d&&(d=this.defaultCameraNear),void 0===u&&(u=this.defaultCameraFar),d<=1e-4&&(d=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),u<d&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=a,this.cameraNear=d,this.cameraFar=u,this.projMatrix=f.default.Matrix.identity(),p=1/Math.tan(this.cameraFOV/2);var s=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(p/a,0,0,0,0,-p,0,0,0,0,(u+d)*s,-1,0,0,2*u*d*s,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},f.default.Camera.prototype.ortho=function(x,v,d,u,p,s){void 0===x&&(x=-this._renderer.width/2),void 0===v&&(v=+this._renderer.width/2),void 0===d&&(d=-this._renderer.height/2),void 0===p&&(p=0);var w=v-x,r=(u=void 0===u?+this._renderer.height/2:u)-d,i=(s=void 0===s?Math.max(this._renderer.width,this._renderer.height):s)-p,c=2/w,h=2/r,y=-2/i;v=-(v+x)/w,x=-(u+d)/r,w=-(s+p)/i,this.projMatrix=f.default.Matrix.identity(),this.projMatrix.set(c,0,0,0,0,-h,0,0,0,0,y,0,v,x,w,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},f.default.Camera.prototype.frustum=function(x,v,d,u,p,s){void 0===x&&(x=-this._renderer.width/2),void 0===v&&(v=+this._renderer.width/2),void 0===d&&(d=-this._renderer.height/2),void 0===p&&(p=0);var w=v-x,r=(u=void 0===u?+this._renderer.height/2:u)-d,i=(s=void 0===s?Math.max(this._renderer.width,this._renderer.height):s)-p,c=2*p/w,h=2*p/r,y=-2*s*p/i;v=(v+x)/w,x=(u+d)/r,w=-(s+p)/i,this.projMatrix=f.default.Matrix.identity(),this.projMatrix.set(c,0,0,0,0,h,0,0,v,x,w,-1,0,0,y,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},f.default.Camera.prototype._rotateView=function(c,a,d,u){var p=this.centerX,s=this.centerY,r=this.centerZ,i=(p-=this.eyeX,s-=this.eyeY,r-=this.eyeZ,f.default.Matrix.identity(this._renderer._pInst));(i.rotate(this._renderer._pInst._toRadians(c),a,d,u),c=[p*i.mat4[0]+s*i.mat4[4]+r*i.mat4[8],p*i.mat4[1]+s*i.mat4[5]+r*i.mat4[9],p*i.mat4[2]+s*i.mat4[6]+r*i.mat4[10]])[0]+=this.eyeX,c[1]+=this.eyeY,c[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,c[0],c[1],c[2],this.upX,this.upY,this.upZ)},f.default.Camera.prototype.pan=function(o){var a=this._getLocalAxes();this._rotateView(o,a.y[0],a.y[1],a.y[2])},f.default.Camera.prototype.tilt=function(o){var a=this._getLocalAxes();this._rotateView(o,a.x[0],a.x[1],a.x[2])},f.default.Camera.prototype.lookAt=function(o,a,d){this.camera(this.eyeX,this.eyeY,this.eyeZ,o,a,d,this.upX,this.upY,this.upZ)},f.default.Camera.prototype.camera=function(o,a,d,u,p,s,r,i,c){return void 0===o&&(d=this.defaultEyeZ,u=o=this.defaultEyeX,p=a=this.defaultEyeY,i=1,c=r=s=0),this.eyeX=o,this.eyeY=a,this.eyeZ=d,void 0!==u&&(this.centerX=u,this.centerY=p,this.centerZ=s),void 0!==r&&(this.upX=r,this.upY=i,this.upZ=c),u=this._getLocalAxes(),this.cameraMatrix.set(u.x[0],u.y[0],u.z[0],0,u.x[1],u.y[1],u.z[1],0,u.x[2],u.y[2],u.z[2],0,0,0,0,1),this.cameraMatrix.translate([p=-o,-a,-d]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},f.default.Camera.prototype.move=function(u,p,d){var s=this._getLocalAxes();this.camera(this.eyeX+(u=[s.x[0]*u,s.x[1]*u,s.x[2]*u])[0]+(p=[s.y[0]*p,s.y[1]*p,s.y[2]*p])[0]+(s=[s.z[0]*d,s.z[1]*d,s.z[2]*d])[0],this.eyeY+u[1]+p[1]+s[1],this.eyeZ+u[2]+p[2]+s[2],this.centerX+u[0]+p[0]+s[0],this.centerY+u[1]+p[1]+s[1],this.centerZ+u[2]+p[2]+s[2],0,1,0)},f.default.Camera.prototype.setPosition=function(o,a,d){this.camera(o,a,d,this.centerX+(o-this.eyeX),this.centerY+(a-this.eyeY),this.centerZ+(d-this.eyeZ),0,1,0)},f.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},f.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},f.default.Camera.prototype._resize=function(){"default"===this.cameraType?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},f.default.Camera.prototype.copy=function(){var o=new f.default.Camera(this._renderer);return o.cameraFOV=this.cameraFOV,o.aspectRatio=this.aspectRatio,o.eyeX=this.eyeX,o.eyeY=this.eyeY,o.eyeZ=this.eyeZ,o.centerX=this.centerX,o.centerY=this.centerY,o.centerZ=this.centerZ,o.cameraNear=this.cameraNear,o.cameraFar=this.cameraFar,o.cameraType=this.cameraType,o.cameraMatrix=this.cameraMatrix.copy(),o.projMatrix=this.projMatrix.copy(),o},f.default.Camera.prototype._getLocalAxes=function(){var h,o=this.eyeX-this.centerX,a=this.eyeY-this.centerY,d=this.eyeZ-this.centerZ,r=(0!==(r=Math.sqrt(o*o+a*a+d*d))&&(o/=r,a/=r,d/=r),this.upX),u=(i=this.upY)*d-(c=this.upZ)*a,p=-r*d+c*o,s=r*a-i*o,i=(r=a*s-d*p,-o*s+d*u),c=o*p-a*u;return 0!==(0!==(h=Math.sqrt(u*u+p*p+s*s))&&(u/=h,p/=h,s/=h),h=Math.sqrt(r*r+i*i+c*c))&&(r/=h,i/=h,c/=h),{x:[u,p,s],y:[r,i,c],z:[o,a,d]}},f.default.Camera.prototype._orbit=function(i,a,c){var p=this.eyeX-this.centerX,r=this.eyeY-this.centerY,s=this.eyeZ-this.centerZ,u=Math.sqrt(p*p+r*r+s*s);p=Math.atan2(p,s),s=Math.acos(Math.max(-1,Math.min(1,r/u))),p+=i,(u+=c)<0&&(u=.1),(s+=a)>Math.PI?s=Math.PI:s<=0&&(s=.001),r=Math.sin(s)*u*Math.sin(p),i=Math.cos(s)*u,c=Math.sin(s)*u*Math.cos(p),this.camera(r+this.centerX,i+this.centerY,c+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},f.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},f.default.prototype.setCamera=function(o){this._renderer._curCamera=o,this._renderer.uPMatrix.set(o.projMatrix.mat4[0],o.projMatrix.mat4[1],o.projMatrix.mat4[2],o.projMatrix.mat4[3],o.projMatrix.mat4[4],o.projMatrix.mat4[5],o.projMatrix.mat4[6],o.projMatrix.mat4[7],o.projMatrix.mat4[8],o.projMatrix.mat4[9],o.projMatrix.mat4[10],o.projMatrix.mat4[11],o.projMatrix.mat4[12],o.projMatrix.mat4[13],o.projMatrix.mat4[14],o.projMatrix.mat4[15])},E.default=e=f.default.Camera},{"../core/main":267}],316:[function(e,U,E){"use strict";e("core-js/modules/es.string.sub"),e("core-js/modules/es.string.sub"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(e=e("../core/main"))&&e.__esModule?e:{default:e};f.default.Geometry=function(o,a,d){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.detailX=void 0!==o?o:1,this.detailY=void 0!==a?a:1,this.dirtyFlags={},d instanceof Function&&d.call(this),this},f.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineNormals.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},f.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var o,a,d,u=this.detailX+1,p=0;p<this.detailY;p++)for(var s=0;s<this.detailX;s++)a=(p+1)*u+s+1,this.faces.push([p*u+s,o=p*u+s+1,d=(p+1)*u+s]),this.faces.push([d,o,a]);return this},f.default.Geometry.prototype._getFaceNormal=function(a){var d=this.vertices[(a=this.faces[a])[0]],p=this.vertices[a[1]],u=(a=this.vertices[a[2]],p=f.default.Vector.sub(p,d),a=f.default.Vector.sub(a,d),d=f.default.Vector.cross(p,a),f.default.Vector.mag(d));return 0==(p=u/(f.default.Vector.mag(p)*f.default.Vector.mag(a)))||isNaN(p)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),d):(1<p&&(p=1),d.mult(Math.asin(p)/u))},f.default.Geometry.prototype.computeNormals=function(){for(var o=this.vertexNormals,a=this.vertices,d=this.faces,u=o.length=0;u<a.length;++u)o.push(new f.default.Vector);for(var p=0;p<d.length;++p)for(var s=d[p],r=this._getFaceNormal(p),i=0;i<3;++i)o[s[i]].add(r);for(u=0;u<a.length;++u)o[u].normalize();return this},f.default.Geometry.prototype.averageNormals=function(){for(var o=0;o<=this.detailY;o++){var a=this.detailX+1,d=f.default.Vector.add(this.vertexNormals[o*a],this.vertexNormals[o*a+this.detailX]);d=f.default.Vector.div(d,2),this.vertexNormals[o*a]=d,this.vertexNormals[o*a+this.detailX]=d}return this},f.default.Geometry.prototype.averagePoleNormals=function(){for(var o=new f.default.Vector(0,0,0),a=0;a<this.detailX;a++)o.add(this.vertexNormals[a]);o=f.default.Vector.div(o,this.detailX);for(var d=0;d<this.detailX;d++)this.vertexNormals[d]=o;o=new f.default.Vector(0,0,0);for(var u=this.vertices.length-1;u>this.vertices.length-1-this.detailX;u--)o.add(this.vertexNormals[u]);o=f.default.Vector.div(o,this.detailX);for(var p=this.vertices.length-1;p>this.vertices.length-1-this.detailX;p--)this.vertexNormals[p]=o;return this},f.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var o=0,a=this.strokeIndices.length;o<a;o++)this.edges.push(this.strokeIndices[o]);else for(var d=0;d<this.faces.length;d++)this.edges.push([this.faces[d][0],this.faces[d][1]]),this.edges.push([this.faces[d][1],this.faces[d][2]]),this.edges.push([this.faces[d][2],this.faces[d][0]]);return this},f.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0;for(var o=this.lineNormals.length=0;o<this.edges.length;o++){var d=this.vertices[this.edges[o][0]],r=(p=this.vertices[this.edges[o][1]]).copy().sub(d).normalize(),a=d.array(),u=(d=d.array(),p.array()),p=p.array(),s=r.array();r=r.array(),s.push(1),r.push(-1),this.lineNormals.push(s,r,s,s,r,r),this.lineVertices.push(a,d,u,u,d,p)}return this},f.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var o=this.vertices[0].copy(),a=this.vertices[0].copy(),d=0;d<this.vertices.length;d++)o.x=Math.max(o.x,this.vertices[d].x),a.x=Math.min(a.x,this.vertices[d].x),o.y=Math.max(o.y,this.vertices[d].y),a.y=Math.min(a.y,this.vertices[d].y),o.z=Math.max(o.z,this.vertices[d].z),a.z=Math.min(a.z,this.vertices[d].z);for(var u=f.default.Vector.lerp(o,a,.5),p=f.default.Vector.sub(o,a),s=200/Math.max(Math.max(p.x,p.y),p.z),r=0;r<this.vertices.length;r++)this.vertices[r].sub(u),this.vertices[r].mult(s)}return this},E.default=e=f.default.Geometry},{"../core/main":267,"core-js/modules/es.string.sub":192}],317:[function(d,U,E){"use strict";d("core-js/modules/es.array.iterator"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.typed-array.float32-array"),d("core-js/modules/es.typed-array.copy-within"),d("core-js/modules/es.typed-array.every"),d("core-js/modules/es.typed-array.fill"),d("core-js/modules/es.typed-array.filter"),d("core-js/modules/es.typed-array.find"),d("core-js/modules/es.typed-array.find-index"),d("core-js/modules/es.typed-array.for-each"),d("core-js/modules/es.typed-array.includes"),d("core-js/modules/es.typed-array.index-of"),d("core-js/modules/es.typed-array.iterator"),d("core-js/modules/es.typed-array.join"),d("core-js/modules/es.typed-array.last-index-of"),d("core-js/modules/es.typed-array.map"),d("core-js/modules/es.typed-array.reduce"),d("core-js/modules/es.typed-array.reduce-right"),d("core-js/modules/es.typed-array.reverse"),d("core-js/modules/es.typed-array.set"),d("core-js/modules/es.typed-array.slice"),d("core-js/modules/es.typed-array.some"),d("core-js/modules/es.typed-array.sort"),d("core-js/modules/es.typed-array.subarray"),d("core-js/modules/es.typed-array.to-locale-string"),d("core-js/modules/es.typed-array.to-string"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.typed-array.float32-array"),d("core-js/modules/es.typed-array.copy-within"),d("core-js/modules/es.typed-array.every"),d("core-js/modules/es.typed-array.fill"),d("core-js/modules/es.typed-array.filter"),d("core-js/modules/es.typed-array.find"),d("core-js/modules/es.typed-array.find-index"),d("core-js/modules/es.typed-array.for-each"),d("core-js/modules/es.typed-array.includes"),d("core-js/modules/es.typed-array.index-of"),d("core-js/modules/es.typed-array.iterator"),d("core-js/modules/es.typed-array.join"),d("core-js/modules/es.typed-array.last-index-of"),d("core-js/modules/es.typed-array.map"),d("core-js/modules/es.typed-array.reduce"),d("core-js/modules/es.typed-array.reduce-right"),d("core-js/modules/es.typed-array.reverse"),d("core-js/modules/es.typed-array.set"),d("core-js/modules/es.typed-array.slice"),d("core-js/modules/es.typed-array.some"),d("core-js/modules/es.typed-array.sort"),d("core-js/modules/es.typed-array.subarray"),d("core-js/modules/es.typed-array.to-locale-string"),d("core-js/modules/es.typed-array.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(d=d("../core/main"))&&d.__esModule?d:{default:d},o=Array,a=function(u){return u instanceof Array};"undefined"!=typeof Float32Array&&(o=Float32Array,a=function(u){return u instanceof Array||u instanceof Float32Array}),f.default.Matrix=function(){for(var u=new Array(arguments.length),p=0;p<u.length;++p)u[p]=arguments[p];return u.length&&u[u.length-1]instanceof f.default&&(this.p5=u[u.length-1]),"mat3"===u[0]?this.mat3=Array.isArray(u[1])?u[1]:new o([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(u[0])?u[0]:new o([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},f.default.Matrix.prototype.set=function(u){return u instanceof f.default.Matrix?this.mat4=u.mat4:a(u)?this.mat4=u:16===arguments.length&&(this.mat4[0]=u,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},f.default.Matrix.prototype.get=function(){return new f.default.Matrix(this.mat4,this.p5)},f.default.Matrix.prototype.copy=function(){var u=new f.default.Matrix(this.p5);return u.mat4[0]=this.mat4[0],u.mat4[1]=this.mat4[1],u.mat4[2]=this.mat4[2],u.mat4[3]=this.mat4[3],u.mat4[4]=this.mat4[4],u.mat4[5]=this.mat4[5],u.mat4[6]=this.mat4[6],u.mat4[7]=this.mat4[7],u.mat4[8]=this.mat4[8],u.mat4[9]=this.mat4[9],u.mat4[10]=this.mat4[10],u.mat4[11]=this.mat4[11],u.mat4[12]=this.mat4[12],u.mat4[13]=this.mat4[13],u.mat4[14]=this.mat4[14],u.mat4[15]=this.mat4[15],u},f.default.Matrix.identity=function(u){return new f.default.Matrix(u)},f.default.Matrix.prototype.transpose=function(u){var p,s,r,i,c,h;return u instanceof f.default.Matrix?(p=u.mat4[1],s=u.mat4[2],r=u.mat4[3],i=u.mat4[6],c=u.mat4[7],h=u.mat4[11],this.mat4[0]=u.mat4[0],this.mat4[1]=u.mat4[4],this.mat4[2]=u.mat4[8],this.mat4[3]=u.mat4[12],this.mat4[4]=p,this.mat4[5]=u.mat4[5],this.mat4[6]=u.mat4[9],this.mat4[7]=u.mat4[13],this.mat4[8]=s,this.mat4[9]=i,this.mat4[10]=u.mat4[10],this.mat4[11]=u.mat4[14],this.mat4[12]=r,this.mat4[13]=c,this.mat4[14]=h,this.mat4[15]=u.mat4[15]):a(u)&&(p=u[1],s=u[2],r=u[3],i=u[6],c=u[7],h=u[11],this.mat4[0]=u[0],this.mat4[1]=u[4],this.mat4[2]=u[8],this.mat4[3]=u[12],this.mat4[4]=p,this.mat4[5]=u[5],this.mat4[6]=u[9],this.mat4[7]=u[13],this.mat4[8]=s,this.mat4[9]=i,this.mat4[10]=u[10],this.mat4[11]=u[14],this.mat4[12]=r,this.mat4[13]=c,this.mat4[14]=h,this.mat4[15]=u[15]),this},f.default.Matrix.prototype.invert=function(G){G instanceof f.default.Matrix?(p=G.mat4[0],s=G.mat4[1],r=G.mat4[2],i=G.mat4[3],c=G.mat4[4],h=G.mat4[5],y=G.mat4[6],v=G.mat4[7],x=G.mat4[8],w=G.mat4[9],C=G.mat4[10],N=G.mat4[11],M=G.mat4[12],F=G.mat4[13],j=G.mat4[14],B=G.mat4[15]):a(G)&&(p=G[0],s=G[1],r=G[2],i=G[3],c=G[4],h=G[5],y=G[6],v=G[7],x=G[8],w=G[9],C=G[10],N=G[11],M=G[12],F=G[13],j=G[14],B=G[15]);var p,s,r,i,c,h,y,v,x,w,C,N,M,F,j,B,ee=p*y-r*c,$=p*v-i*c,H=s*y-r*h,Z=s*v-i*h,oe=r*v-i*y,Q=x*F-w*M,te=x*j-C*M,me=x*B-N*M,ce=w*j-C*F,he=w*B-N*F,Ae=C*B-N*j,A=(G=p*h-s*c)*Ae-ee*he+$*ce+H*me-Z*te+oe*Q;return A?(this.mat4[0]=(h*Ae-y*he+v*ce)*(A=1/A),this.mat4[1]=(r*he-s*Ae-i*ce)*A,this.mat4[2]=(F*oe-j*Z+B*H)*A,this.mat4[3]=(C*Z-w*oe-N*H)*A,this.mat4[4]=(y*me-c*Ae-v*te)*A,this.mat4[5]=(p*Ae-r*me+i*te)*A,this.mat4[6]=(j*$-M*oe-B*ee)*A,this.mat4[7]=(x*oe-C*$+N*ee)*A,this.mat4[8]=(c*he-h*me+v*Q)*A,this.mat4[9]=(s*me-p*he-i*Q)*A,this.mat4[10]=(M*Z-F*$+B*G)*A,this.mat4[11]=(w*$-x*Z-N*G)*A,this.mat4[12]=(h*te-c*ce-y*Q)*A,this.mat4[13]=(p*ce-s*te+r*Q)*A,this.mat4[14]=(F*ee-M*H-j*G)*A,this.mat4[15]=(x*H-w*ee+C*G)*A,this):null},f.default.Matrix.prototype.invert3x3=function(){var u=this.mat3[0],p=this.mat3[1],s=this.mat3[2],r=this.mat3[3],i=this.mat3[4],c=this.mat3[5],h=this.mat3[6],y=this.mat3[7],v=this.mat3[8],x=v*i-c*y,w=-v*r+c*h,C=y*r-i*h,N=u*x+p*w+s*C;return N?(this.mat3[0]=x*(N=1/N),this.mat3[1]=(-v*p+s*y)*N,this.mat3[2]=(c*p-s*i)*N,this.mat3[3]=w*N,this.mat3[4]=(v*u-s*h)*N,this.mat3[5]=(-c*u+s*r)*N,this.mat3[6]=C*N,this.mat3[7]=(-y*u+p*h)*N,this.mat3[8]=(i*u-p*r)*N,this):null},f.default.Matrix.prototype.transpose3x3=function(u){var p=u[1],s=u[2],r=u[5];return this.mat3[1]=u[3],this.mat3[2]=u[6],this.mat3[3]=p,this.mat3[5]=u[7],this.mat3[6]=s,this.mat3[7]=r,this},f.default.Matrix.prototype.inverseTranspose=function(u){if(void 0===this.mat3?console.error("sorry, this function only works with mat3"):(this.mat3[0]=u.mat4[0],this.mat3[1]=u.mat4[1],this.mat3[2]=u.mat4[2],this.mat3[3]=u.mat4[4],this.mat3[4]=u.mat4[5],this.mat3[5]=u.mat4[6],this.mat3[6]=u.mat4[8],this.mat3[7]=u.mat4[9],this.mat3[8]=u.mat4[10]),u=this.invert3x3())u.transpose3x3(this.mat3);else for(var p=0;p<9;p++)this.mat3[p]=0;return this},f.default.Matrix.prototype.determinant=function(){return(this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])},f.default.Matrix.prototype.mult=function(s){var p;if(s===this||s===this.mat4)p=this.copy().mat4;else if(s instanceof f.default.Matrix)p=s.mat4;else if(a(s))p=s;else{if(16!==arguments.length)return;p=arguments}var r=this.mat4[1],i=this.mat4[2],c=this.mat4[3];return this.mat4[0]=(s=this.mat4[0])*p[0]+r*p[4]+i*p[8]+c*p[12],this.mat4[1]=s*p[1]+r*p[5]+i*p[9]+c*p[13],this.mat4[2]=s*p[2]+r*p[6]+i*p[10]+c*p[14],this.mat4[3]=s*p[3]+r*p[7]+i*p[11]+c*p[15],this.mat4[4]=(s=this.mat4[4])*p[0]+(r=this.mat4[5])*p[4]+(i=this.mat4[6])*p[8]+(c=this.mat4[7])*p[12],this.mat4[5]=s*p[1]+r*p[5]+i*p[9]+c*p[13],this.mat4[6]=s*p[2]+r*p[6]+i*p[10]+c*p[14],this.mat4[7]=s*p[3]+r*p[7]+i*p[11]+c*p[15],this.mat4[8]=(s=this.mat4[8])*p[0]+(r=this.mat4[9])*p[4]+(i=this.mat4[10])*p[8]+(c=this.mat4[11])*p[12],this.mat4[9]=s*p[1]+r*p[5]+i*p[9]+c*p[13],this.mat4[10]=s*p[2]+r*p[6]+i*p[10]+c*p[14],this.mat4[11]=s*p[3]+r*p[7]+i*p[11]+c*p[15],this.mat4[12]=(s=this.mat4[12])*p[0]+(r=this.mat4[13])*p[4]+(i=this.mat4[14])*p[8]+(c=this.mat4[15])*p[12],this.mat4[13]=s*p[1]+r*p[5]+i*p[9]+c*p[13],this.mat4[14]=s*p[2]+r*p[6]+i*p[10]+c*p[14],this.mat4[15]=s*p[3]+r*p[7]+i*p[11]+c*p[15],this},f.default.Matrix.prototype.apply=function(s){var p;if(s===this||s===this.mat4)p=this.copy().mat4;else if(s instanceof f.default.Matrix)p=s.mat4;else if(a(s))p=s;else{if(16!==arguments.length)return;p=arguments}var i,c,h,r=((s=this.mat4)[0]=p[0]*(r=s[0])+p[1]*(i=s[4])+p[2]*(c=s[8])+p[3]*(h=s[12]),s[4]=p[4]*r+p[5]*i+p[6]*c+p[7]*h,s[8]=p[8]*r+p[9]*i+p[10]*c+p[11]*h,s[12]=p[12]*r+p[13]*i+p[14]*c+p[15]*h,s[1]);return s[1]=p[0]*r+p[1]*(i=s[5])+p[2]*(c=s[9])+p[3]*(h=s[13]),s[5]=p[4]*r+p[5]*i+p[6]*c+p[7]*h,s[9]=p[8]*r+p[9]*i+p[10]*c+p[11]*h,s[13]=p[12]*r+p[13]*i+p[14]*c+p[15]*h,s[2]=p[0]*(r=s[2])+p[1]*(i=s[6])+p[2]*(c=s[10])+p[3]*(h=s[14]),s[6]=p[4]*r+p[5]*i+p[6]*c+p[7]*h,s[10]=p[8]*r+p[9]*i+p[10]*c+p[11]*h,s[14]=p[12]*r+p[13]*i+p[14]*c+p[15]*h,s[3]=p[0]*(r=s[3])+p[1]*(i=s[7])+p[2]*(c=s[11])+p[3]*(h=s[15]),s[7]=p[4]*r+p[5]*i+p[6]*c+p[7]*h,s[11]=p[8]*r+p[9]*i+p[10]*c+p[11]*h,s[15]=p[12]*r+p[13]*i+p[14]*c+p[15]*h,this},f.default.Matrix.prototype.scale=function(u,p,s){return u instanceof f.default.Vector?(p=u.y,s=u.z,u=u.x):u instanceof Array&&(p=u[1],s=u[2],u=u[0]),this.mat4[0]*=u,this.mat4[1]*=u,this.mat4[2]*=u,this.mat4[3]*=u,this.mat4[4]*=p,this.mat4[5]*=p,this.mat4[6]*=p,this.mat4[7]*=p,this.mat4[8]*=s,this.mat4[9]*=s,this.mat4[10]*=s,this.mat4[11]*=s,this},f.default.Matrix.prototype.rotate=function(G,he,ce,r){he instanceof f.default.Vector?(ce=he.y,r=he.z,he=he.x):he instanceof Array&&(ce=he[1],r=he[2],he=he[0]);var i=(he*=1/(i=Math.sqrt(he*he+ce*ce+r*r)),ce*=1/i,r*=1/i,this.mat4[0]),c=this.mat4[1],h=this.mat4[2],y=this.mat4[3],v=this.mat4[4],x=this.mat4[5],w=this.mat4[6],C=this.mat4[7],N=this.mat4[8],M=this.mat4[9],F=this.mat4[10],j=this.mat4[11],B=Math.sin(G),ee=1-(G=Math.cos(G)),$=he*he*ee+G,H=ce*he*ee+r*B,Z=r*he*ee-ce*B,oe=he*ce*ee-r*B,Q=ce*ce*ee+G,te=r*ce*ee+he*B,me=he*r*ee+ce*B;return ce=ce*r*ee-he*B,he=r*r*ee+G,this.mat4[0]=i*$+v*H+N*Z,this.mat4[1]=c*$+x*H+M*Z,this.mat4[2]=h*$+w*H+F*Z,this.mat4[3]=y*$+C*H+j*Z,this.mat4[4]=i*oe+v*Q+N*te,this.mat4[5]=c*oe+x*Q+M*te,this.mat4[6]=h*oe+w*Q+F*te,this.mat4[7]=y*oe+C*Q+j*te,this.mat4[8]=i*me+v*ce+N*he,this.mat4[9]=c*me+x*ce+M*he,this.mat4[10]=h*me+w*ce+F*he,this.mat4[11]=y*me+C*ce+j*he,this},f.default.Matrix.prototype.translate=function(r){var p=r[0],s=r[1];this.mat4[12]+=this.mat4[0]*p+this.mat4[4]*s+this.mat4[8]*(r=r[2]||0),this.mat4[13]+=this.mat4[1]*p+this.mat4[5]*s+this.mat4[9]*r,this.mat4[14]+=this.mat4[2]*p+this.mat4[6]*s+this.mat4[10]*r,this.mat4[15]+=this.mat4[3]*p+this.mat4[7]*s+this.mat4[11]*r},f.default.Matrix.prototype.rotateX=function(u){this.rotate(u,1,0,0)},f.default.Matrix.prototype.rotateY=function(u){this.rotate(u,0,1,0)},f.default.Matrix.prototype.rotateZ=function(u){this.rotate(u,0,0,1)},f.default.Matrix.prototype.perspective=function(i,p,s,r){i=1/Math.tan(i/2);var c=1/(s-r);return this.mat4[0]=i/p,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=i,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(r+s)*c,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*r*s*c,this.mat4[15]=0,this},f.default.Matrix.prototype.ortho=function(u,p,s,r,i,c){var h=1/(u-p),y=1/(s-r),v=1/(i-c);return this.mat4[0]=-2*h,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*y,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*v,this.mat4[11]=0,this.mat4[12]=(u+p)*h,this.mat4[13]=(r+s)*y,this.mat4[14]=(c+i)*v,this.mat4[15]=1,this},E.default=d=f.default.Matrix},{"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223}],318:[function(e,U,E){"use strict";e("core-js/modules/es.array.map"),e("core-js/modules/es.array.map"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.RenderBuffer=function(f,o,a,d,u,p){this.size=f,this.src=o,this.dst=a,this.attr=d,this._renderer=u,this.map=p},e.default.RenderBuffer.prototype._prepareBuffer=function(f,o){var a,d,u,r,p=this._renderer.GL,s=f.model||f;(r=(r=o.attributes)[this.attr])&&(a=f[this.dst],0<(d=s[this.src]).length&&((u=!a)&&(f[this.dst]=a=p.createBuffer()),p.bindBuffer(p.ARRAY_BUFFER,a),!u&&!1===s.dirtyFlags[this.src]||(u=(f=this.map)?f(d):d,this._renderer._bindBuffer(a,p.ARRAY_BUFFER,u),s.dirtyFlags[this.src]=!1),o.enableAttrib(r,this.size)))},E.default=e=e.default.RenderBuffer},{"../core/main":267,"core-js/modules/es.array.map":161}],319:[function(e,U,E){"use strict";function f(i){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(i)}function o(i){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(c){return f(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":f(c)})(i)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=(r=e("../core/main"))&&r.__esModule?r:{default:r},d=function(i){if(i&&i.__esModule)return i;if(null===i||"object"!==o(i)&&"function"!=typeof i)return{default:i};var c=u();if(c&&c.has(i))return c.get(i);var h,y={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in i){var x;Object.prototype.hasOwnProperty.call(i,h)&&((x=v?Object.getOwnPropertyDescriptor(i,h):null)&&(x.get||x.set)?Object.defineProperty(y,h,x):y[h]=i[h])}return y.default=i,c&&c.set(i,y),y}(e("../core/constants"));function u(){var i;return"function"!=typeof WeakMap?null:(u=function(){return i},i=new WeakMap)}function p(i){return function(c){if(Array.isArray(c)){for(var h=0,y=new Array(c.length);h<c.length;h++)y[h]=c[h];return y}}(i)||function(c){if(Symbol.iterator in Object(c)||"[object Arguments]"===Object.prototype.toString.call(c))return Array.from(c)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e("./p5.RenderBuffer"),a.default.RendererGL.prototype.beginShape=function(i){return this.immediateMode.shapeMode=void 0!==i?i:d.TRIANGLE_FAN,this.immediateMode.geometry.reset(),this};var s={vertices:1,vertexNormals:1,vertexColors:4,uvs:2},r=(a.default.RendererGL.prototype.vertex=function(i,c){if(this.immediateMode.shapeMode===d.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var h in s){var y=s[h];(h=this.immediateMode.geometry[h]).push.apply(h,p(h.slice(h.length-3*y,h.length-2*y)).concat(p(h.slice(h.length-y,h.length))))}var v,x,w=v=x=0,C=(3===arguments.length?w=arguments[2]:4===arguments.length?(v=arguments[2],x=arguments[3]):5===arguments.length&&(w=arguments[2],v=arguments[3],x=arguments[4]),new a.default.Vector(i,c,w));return this.immediateMode.geometry.vertices.push(C),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.immediateMode.geometry.vertexColors.push((C=this.curFillColor||[.5,.5,.5,1])[0],C[1],C[2],C[3]),this.textureMode===d.IMAGE&&(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(v/=this._tex.width,x/=this._tex.height):null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(v,x),this.immediateMode._bezierVertex[0]=i,this.immediateMode._bezierVertex[1]=c,this.immediateMode._bezierVertex[2]=w,this.immediateMode._quadraticVertex[0]=i,this.immediateMode._quadraticVertex[1]=c,this.immediateMode._quadraticVertex[2]=w,this},a.default.RendererGL.prototype.normal=function(i,c,h){return this._currentNormal=i instanceof a.default.Vector?i:new a.default.Vector(i,c,h),this},a.default.RendererGL.prototype.endShape=function(i,c,h,y,v,x){return this.immediateMode.shapeMode===d.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this._processVertices.apply(this,arguments),this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},a.default.RendererGL.prototype._processVertices=function(i){var c;0!==this.immediateMode.geometry.vertices.length&&(i=i===d.CLOSE,this._doStroke&&this.drawMode!==d.TEXTURE&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,i),this.immediateMode.geometry._edgesToVertices()),c=this.immediateMode.shapeMode===d.TESS,(this.isBezier||this.isQuadratic||this.isCurve||c)&&this.immediateMode.shapeMode!==d.LINES&&this._tesselateShape())},a.default.RendererGL.prototype._calculateEdges=function(i,c,h){var y=[],v=0;switch(i){case d.TRIANGLE_STRIP:for(v=0;v<c.length-2;v++)y.push([v,v+1]),y.push([v,v+2]);y.push([v,v+1]);break;case d.TRIANGLES:for(v=0;v<c.length-2;v+=3)y.push([v,v+1]),y.push([v+1,v+2]),y.push([v+2,v]);break;case d.LINES:for(v=0;v<c.length-1;v+=2)y.push([v,v+1]);break;case d.QUADS:for(v=0;v<c.length-5;v+=6)y.push([v,v+1]),y.push([v+1,v+2]),y.push([v+3,v+5]),y.push([v+4,v+5]);break;case d.QUAD_STRIP:for(v=0;v<c.length-2;v+=2)y.push([v,v+1]),y.push([v,v+2]),y.push([v+1,v+3]);y.push([v,v+1]);break;default:for(v=0;v<c.length-1;v++)y.push([v,v+1])}return h&&y.push([c.length-1,0]),y},a.default.RendererGL.prototype._tesselateShape=function(){for(var i=this,c=(this.immediateMode.shapeMode=d.TRIANGLES,[this._flatten(this.immediateMode.geometry.vertices.map(function(w,C){return[w.x,w.y,w.z,i.immediateMode.geometry.uvs[2*C],i.immediateMode.geometry.uvs[2*C+1],i.immediateMode.geometry.vertexColors[4*C],i.immediateMode.geometry.vertexColors[4*C+1],i.immediateMode.geometry.vertexColors[4*C+2],i.immediateMode.geometry.vertexColors[4*C+3],i.immediateMode.geometry.vertexNormals[C].x,i.immediateMode.geometry.vertexNormals[C].y,i.immediateMode.geometry.vertexNormals[C].z]}))]),h=this._triangulate(c),y=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),v=0,x=h.length;v<x;v+=12)y.push.apply(y,p(h.slice(v+5,v+9))),this.normal.apply(this,p(h.slice(v+9,v+12))),this.vertex.apply(this,p(h.slice(v,v+5)));this.immediateMode.geometry.vertexColors=y},a.default.RendererGL.prototype._drawImmediateFill=function(){var i=this.GL,c=this._getImmediateFillShader(),h=(this._setFillUniforms(c),!0),y=!1,v=void 0;try{for(var x,w=this.immediateMode.buffers.fill[Symbol.iterator]();!(h=(x=w.next()).done);h=!0)x.value._prepareBuffer(this.immediateMode.geometry,c)}catch(C){y=!0,v=C}finally{try{h||null==w.return||w.return()}finally{if(y)throw v}}this.immediateMode.shapeMode!==d.LINE_STRIP&&this.immediateMode.shapeMode!==d.LINES||(this.immediateMode.shapeMode=d.TRIANGLE_FAN),this.immediateMode.shapeMode===d.QUADS?this.immediateMode.shapeMode=d.TRIANGLES:this.immediateMode.shapeMode===d.QUAD_STRIP&&(this.immediateMode.shapeMode=d.TRIANGLE_STRIP),this._applyColorBlend(this.curFillColor),i.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),c.unbindShader()},a.default.RendererGL.prototype._drawImmediateStroke=function(){var i=this.GL,c=this._getImmediateStrokeShader(),h=(this._setStrokeUniforms(c),!0),y=!1,v=void 0;try{for(var x,w=this.immediateMode.buffers.stroke[Symbol.iterator]();!(h=(x=w.next()).done);h=!0)x.value._prepareBuffer(this.immediateMode.geometry,c)}catch(C){y=!0,v=C}finally{try{h||null==w.return||w.return()}finally{if(y)throw v}}this._applyColorBlend(this.curStrokeColor),i.drawArrays(i.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),c.unbindShader()},a.default.RendererGL);E.default=r},{"../core/constants":256,"../core/main":267,"./p5.RenderBuffer":318,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],320:[function(e,U,E){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.some"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.some"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(a=e("../core/main"))&&a.__esModule?a:{default:a};e("./p5.RendererGL"),e("./p5.RenderBuffer");var o=0,a=(f.default.RendererGL.prototype._initBufferDefaults=function(d){var u;return this._freeBuffers(d),1e3<++o&&(u=Object.keys(this.retainedMode.geometry)[0],delete this.retainedMode.geometry[u],o--),this.retainedMode.geometry[d]={}},f.default.RendererGL.prototype._freeBuffers=function(d){var u,p=this.retainedMode.geometry[d];function s(r){var i=!0,c=!1,h=void 0;try{for(var y,v=r[Symbol.iterator]();!(i=(y=v.next()).done);i=!0){var x=y.value;p[x.dst]&&(u.deleteBuffer(p[x.dst]),p[x.dst]=null)}}catch(w){c=!0,h=w}finally{try{i||null==v.return||v.return()}finally{if(c)throw h}}}p&&(delete this.retainedMode.geometry[d],o--,u=this.GL,p.indexBuffer&&u.deleteBuffer(p.indexBuffer),s(this.retainedMode.buffers.stroke),s(this.retainedMode.buffers.fill))},f.default.RendererGL.prototype.createBuffers=function(c,u){var p,s,r,i=this.GL,h=((c=this._initBufferDefaults(c)).model=u,c.indexBuffer);return u.faces.length?(h=h||(c.indexBuffer=i.createBuffer()),r=(s=(p=f.default.RendererGL.prototype._flatten(u.faces)).some(function(y){return 65535<y}))?Uint32Array:Uint16Array,this._bindBuffer(h,i.ELEMENT_ARRAY_BUFFER,p,r),c.indexBufferType=s?i.UNSIGNED_INT:i.UNSIGNED_SHORT,c.vertexCount=3*u.faces.length):(h&&(i.deleteBuffer(h),c.indexBuffer=null),c.vertexCount=u.vertices?u.vertices.length:0),c.lineVertexCount=u.lineVertices?u.lineVertices.length:0,c},f.default.RendererGL.prototype.drawBuffers=function(d){var u=this.GL,p=this.retainedMode.geometry[d];if(this._doStroke&&0<p.lineVertexCount){var s=this._getRetainedStrokeShader(),r=(this._setStrokeUniforms(s),!0),i=!1,c=void 0;try{for(var h,y=this.retainedMode.buffers.stroke[Symbol.iterator]();!(r=(h=y.next()).done);r=!0)h.value._prepareBuffer(p,s)}catch(N){i=!0,c=N}finally{try{r||null==y.return||y.return()}finally{if(i)throw c}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(u.TRIANGLES,d),s.unbindShader()}if(this._doFill){var v=this._getRetainedFillShader(),x=(this._setFillUniforms(v),!0);i=!1,c=void 0;try{for(var w,C=this.retainedMode.buffers.fill[Symbol.iterator]();!(x=(w=C.next()).done);x=!0)w.value._prepareBuffer(p,v)}catch(F){i=!0,c=F}finally{try{x||null==C.return||C.return()}finally{if(i)throw c}}p.indexBuffer&&this._bindBuffer(p.indexBuffer,u.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(u.TRIANGLES,d),v.unbindShader()}return this},f.default.RendererGL.prototype.drawBuffersScaled=function(d,u,p,s){var r=this.uMVMatrix.copy();try{this.uMVMatrix.scale(u,p,s),this.drawBuffers(d)}finally{this.uMVMatrix=r}},f.default.RendererGL.prototype._drawArrays=function(d,u){return this.GL.drawArrays(d,0,this.retainedMode.geometry[u].lineVertexCount),this},f.default.RendererGL.prototype._drawElements=function(d,p){var s=this.GL;if((p=this.retainedMode.geometry[p]).indexBuffer){if(p.indexBufferType===s.UNSIGNED_INT&&!s.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");s.drawElements(s.TRIANGLES,p.vertexCount,p.indexBufferType,0)}else s.drawArrays(d||s.TRIANGLES,0,p.vertexCount)},f.default.RendererGL.prototype._drawPoints=function(d,u){var p=this.GL,s=this._getImmediatePointShader();this._setPointUniforms(s),this._bindBuffer(u,p.ARRAY_BUFFER,this._vToNArray(d),Float32Array,p.STATIC_DRAW),s.enableAttrib(s.attributes.aPosition,3),p.drawArrays(p.Points,0,d.length),s.unbindShader()},f.default.RendererGL);E.default=a},{"../core/main":267,"./p5.RenderBuffer":318,"./p5.RendererGL":321,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.some":163,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/web.dom-collections.iterator":230}],321:[function(c,U,E){"use strict";function f(h){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(h)}function o(h){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(y){return f(y)}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":f(y)})(h)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.typed-array.float32-array"),c("core-js/modules/es.typed-array.float64-array"),c("core-js/modules/es.typed-array.int16-array"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.uint16-array"),c("core-js/modules/es.typed-array.uint32-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.typed-array.float32-array"),c("core-js/modules/es.typed-array.float64-array"),c("core-js/modules/es.typed-array.int16-array"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.uint16-array"),c("core-js/modules/es.typed-array.uint32-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=s(c("../core/main")),d=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==o(h)&&"function"!=typeof h)return{default:h};var y=p();if(y&&y.has(h))return y.get(h);var v,x={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in h){var C;Object.prototype.hasOwnProperty.call(h,v)&&((C=w?Object.getOwnPropertyDescriptor(h,v):null)&&(C.get||C.set)?Object.defineProperty(x,v,C):x[v]=h[v])}return x.default=h,y&&y.set(h,x),x}(c("../core/constants")),u=s(c("libtess"));function p(){var h;return"function"!=typeof WeakMap?null:(p=function(){return h},h=new WeakMap)}function s(h){return h&&h.__esModule?h:{default:h}}function r(h){return function(y){if(Array.isArray(y)){for(var v=0,x=new Array(y.length);v<y.length;v++)x[v]=y[v];return x}}(h)||function(y){if(Symbol.iterator in Object(y)||"[object Arguments]"===Object.prototype.toString.call(y))return Array.from(y)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}c("./p5.Shader"),c("./p5.Camera"),c("../core/p5.Renderer"),c("./p5.Matrix"),c("path");var i={immediateVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nvarying vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vColor;\n}",normalVert:"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying vec3 vVertexNormal;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n}\n",normalFrag:"precision mediump float;\nvarying vec3 vVertexNormal;\nvoid main(void) {\n  gl_FragColor = vec4(vVertexNormal, 1.0);\n}",basicFrag:"precision mediump float;\nuniform vec4 uMaterialColor;\nvoid main(void) {\n  gl_FragColor = uMaterialColor;\n}",lightVert:(c="precision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\n\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  if (uSpecular)\n    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);\n  lr.diffuse = _lambertDiffuse(lightDir, normal);\n  return lr;\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n")+"// include lighting.glgl\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n}\n",lightTextureFrag:"precision highp float;\n\nuniform vec4 uMaterialColor;\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    gl_FragColor = uMaterialColor;\n  }\n  else {\n    gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;\n    gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;\n  }\n}",phongVert:"precision highp float;\nprecision highp int;\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n}\n",phongFrag:c+"// include lighting.glsl\nprecision highp float;\nprecision highp int;\n\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uMaterialColor;\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;\n  gl_FragColor.rgb = diffuse * gl_FragColor.rgb + \n                    vAmbientColor * uAmbientMatColor.rgb + \n                    specular * uSpecularMatColor.rgb + \n                    uEmissiveMatColor.rgb;\n}",fontVert:"precision mediump float;\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nvarying vec2 vTexCoord;\nvarying float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord;\n  w = gl_Position.w;\n}\n",fontFrag:"#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nvarying vec2 vTexCoord;\n\n// some helper functions\nint round(float v) { return ifloor(v + 0.5); }\nivec2 round(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = round(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  gl_FragColor = uMaterialColor;\n  gl_FragColor.a *= saturate(max(antialias, cover));\n}",lineVert:"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\n\nattribute vec4 aPosition;\nattribute vec4 aDirection;\n  \nvoid main() {\n  // using a scale <1 moves the lines towards the camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  vec3 scale = vec3(0.9995);\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posq.xyz = posq.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 q = uProjectionMatrix * posq;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);\n\n  // flip tangent to normal (it's already normalized)\n  vec2 normal = vec2(-tangent.y, tangent.x);\n\n  float thickness = aDirection.w * uStrokeWeight;\n  vec2 offset = normal * thickness / 2.0;\n\n  vec2 curPerspScale;\n\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n    // invert Y, projections in Processing invert Y\n    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n}\n",lineFrag:"precision mediump float;\nprecision mediump int;\n\nuniform vec4 uMaterialColor;\n\nvoid main() {\n  gl_FragColor = uMaterialColor;\n}",pointVert:"attribute vec3 aPosition;\nuniform float uPointSize;\nvarying float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}",pointFrag:"precision mediump float;\nprecision mediump int;\nuniform vec4 uMaterialColor;\nvarying float vStrokeWeight;\n\nvoid main(){\n\tfloat mask = 0.0;\n\n\t// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n\tmask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n\t// if strokeWeight is 1 or less lets just draw a square\n\t// this prevents weird artifacting from carving circles when our points are really small\n\t// if strokeWeight is larger than 1, we just use it as is\n\n\tmask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n\t// throw away the borders of the mask\n    // otherwise we get weird alpha blending issues\n\n\tif(mask > 0.98){\n      discard;\n  \t}\n\n  \tgl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;\n}"};a.default.RendererGL=function(h,y,v,x){return a.default.Renderer.call(this,h,y,v),this._setAttributeDefaults(y),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=d.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curAmbientColor=this._cachedFillStyle=[0,0,0,0],this.curSpecularColor=this._cachedFillStyle=[0,0,0,0],this.curEmissiveColor=this._cachedFillStyle=[0,0,0,0],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=d.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new a.default.Matrix,this.uPMatrix=new a.default.Matrix,this.uNMatrix=new a.default.Matrix("mat3"),this._currentNormal=new a.default.Vector(0,0,1),this._curCamera=new a.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new a.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new a.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],fill:[new a.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new a.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new a.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new a.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new a.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new a.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new a.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new a.default.Geometry,shapeMode:d.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new a.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new a.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new a.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new a.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new a.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new a.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new a.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.textures=[],this.textureMode=d.IMAGE,this.textureWrapX=d.CLAMP,this.textureWrapY=d.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},a.default.RendererGL.prototype=Object.create(a.default.Renderer.prototype),a.default.RendererGL.prototype._setAttributeDefaults=function(h){var y={alpha:!1,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!1,preserveDrawingBuffer:!0,perPixelLighting:!0};h._glAttributes=null===h._glAttributes?y:Object.assign(y,h._glAttributes)},a.default.RendererGL.prototype._initContext=function(){if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),null===this.drawingContext)throw new Error("Error creating webgl context");var h=this.drawingContext;h.enable(h.DEPTH_TEST),h.depthFunc(h.LEQUAL),h.viewport(0,0,h.drawingBufferWidth,h.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)},a.default.RendererGL.prototype._resetContext=function(h,y){var v,x=this.width,w=this.height,N=this.canvas.id,C=this._pInst instanceof a.default.Graphics;C?((v=this._pInst).canvas.parentNode.removeChild(v.canvas),v.canvas=document.createElement("canvas"),(v._pInst._userNode||document.body).appendChild(v.canvas),a.default.Element.call(v,v.canvas,v._pInst),v.width=x,v.height=w):((v=this.canvas)&&v.parentNode.removeChild(v),(v=document.createElement("canvas")).id=N,(this._pInst._userNode||document.body).appendChild(v),this._pInst.canvas=v,this.canvas=v),N=new a.default.RendererGL(this._pInst.canvas,this._pInst,!C),this._pInst._setProperty("_renderer",N),N.resize(x,w),N._applyDefaults(),C||this._pInst._elements.push(N),"function"==typeof y&&setTimeout(function(){y.apply(window._renderer,h)},0)},a.default.prototype.setAttributes=function(h,y){if(void 0===this._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var v=!0;if(void 0!==y?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[h]!==y&&(this._glAttributes[h]=y,v=!1)):h instanceof Object&&this._glAttributes!==h&&(this._glAttributes=h,v=!1),this._renderer.isP3D&&!v){if(!this._setupDone)for(var x in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(x))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},a.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},a.default.RendererGL.prototype.background=function(){var x=(x=this._pInst).color.apply(x,arguments);this.GL.clearColor(x.levels[0]/255,x.levels[1]/255,x.levels[2]/255,x=x.levels[3]/255),this.GL.clear(this.GL.COLOR_BUFFER_BIT)},a.default.RendererGL.prototype.fill=function(h,y,v,x){var w=a.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=w._array,this.drawMode=d.FILL,this._useNormalMaterial=!1,this._tex=null},a.default.RendererGL.prototype.stroke=function(h,y,v,x){arguments[3]=255;var w=a.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=w._array},a.default.RendererGL.prototype.strokeCap=function(h){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")},a.default.RendererGL.prototype.strokeJoin=function(h){console.error("Sorry, strokeJoin() is not yet implemented in WEBGL mode")},a.default.RendererGL.prototype.filter=function(h){console.error("filter() does not work in WEBGL mode")},a.default.RendererGL.prototype.blendMode=function(h){h===d.DARKEST||h===d.LIGHTEST||h===d.ADD||h===d.BLEND||h===d.SUBTRACT||h===d.SCREEN||h===d.EXCLUSION||h===d.REPLACE||h===d.MULTIPLY||h===d.REMOVE?this.curBlendMode=h:h!==d.BURN&&h!==d.OVERLAY&&h!==d.HARD_LIGHT&&h!==d.SOFT_LIGHT&&h!==d.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},a.default.RendererGL.prototype.erase=function(h,y){this._isErasing||(this._applyBlendMode(d.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,h/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,y/255])},a.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},a.default.RendererGL.prototype.strokeWeight=function(h){this.curStrokeWeight!==h&&(this.pointSize=h,this.curStrokeWeight=h)},a.default.RendererGL.prototype._getPixel=function(h,y){var v=new Uint8Array(4);return this.drawingContext.readPixels(h,y,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,v),[v[0],v[1],v[2],v[3]]},a.default.RendererGL.prototype.loadPixels=function(){var h,y=this._pixelsState;!0!==this._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(h=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4,(y=y.pixels)instanceof Uint8Array&&y.length===h||(y=new Uint8Array(h),this._pixelsState._setProperty("pixels",y)),this.GL.readPixels(0,0,this.width*(h=this._pInst._pixelDensity),this.height*h,this.GL.RGBA,this.GL.UNSIGNED_BYTE,y))},a.default.RendererGL.prototype.geometryInHash=function(h){return void 0!==this.retainedMode.geometry[h]},a.default.RendererGL.prototype.resize=function(h,y){a.default.Renderer.prototype.resize.call(this,h,y),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize(),void 0!==(h=this._pixelsState).pixels&&h._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},a.default.RendererGL.prototype.clear=function(){this.GL.clearColor((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},a.default.RendererGL.prototype.applyMatrix=function(h,y,v,x,w,C){16===arguments.length?a.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([h,y,0,0,v,x,0,0,0,0,1,0,w,C,0,1])},a.default.RendererGL.prototype.translate=function(h,y,v){return h instanceof a.default.Vector&&(v=h.z,y=h.y,h=h.x),this.uMVMatrix.translate([h,y,v]),this},a.default.RendererGL.prototype.scale=function(h,y,v){return this.uMVMatrix.scale(h,y,v),this},a.default.RendererGL.prototype.rotate=function(h,y){return void 0===y?this.rotateZ(h):(a.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},a.default.RendererGL.prototype.rotateX=function(h){return this.rotate(h,1,0,0),this},a.default.RendererGL.prototype.rotateY=function(h){return this.rotate(h,0,1,0),this},a.default.RendererGL.prototype.rotateZ=function(h){return this.rotate(h,0,0,1),this},a.default.RendererGL.prototype.push=function(){var h=a.default.Renderer.prototype.push.apply(this),y=h.properties;return y.uMVMatrix=this.uMVMatrix.copy(),y.uPMatrix=this.uPMatrix.copy(),y._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),y.ambientLightColors=this.ambientLightColors.slice(),y.specularColors=this.specularColors.slice(),y.directionalLightDirections=this.directionalLightDirections.slice(),y.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),y.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),y.pointLightPositions=this.pointLightPositions.slice(),y.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),y.pointLightSpecularColors=this.pointLightSpecularColors.slice(),y.spotLightPositions=this.spotLightPositions.slice(),y.spotLightDirections=this.spotLightDirections.slice(),y.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),y.spotLightSpecularColors=this.spotLightSpecularColors.slice(),y.spotLightAngle=this.spotLightAngle.slice(),y.spotLightConc=this.spotLightConc.slice(),y.userFillShader=this.userFillShader,y.userStrokeShader=this.userStrokeShader,y.userPointShader=this.userPointShader,y.pointSize=this.pointSize,y.curStrokeWeight=this.curStrokeWeight,y.curStrokeColor=this.curStrokeColor,y.curFillColor=this.curFillColor,y.curAmbientColor=this.curAmbientColor,y.curSpecularColor=this.curSpecularColor,y.curEmissiveColor=this.curEmissiveColor,y._useSpecularMaterial=this._useSpecularMaterial,y._useEmissiveMaterial=this._useEmissiveMaterial,y._useShininess=this._useShininess,y.constantAttenuation=this.constantAttenuation,y.linearAttenuation=this.linearAttenuation,y.quadraticAttenuation=this.quadraticAttenuation,y._enableLighting=this._enableLighting,y._useNormalMaterial=this._useNormalMaterial,y._tex=this._tex,y.drawMode=this.drawMode,y._currentNormal=this._currentNormal,y.curBlendMode=this.curBlendMode,h},a.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=a.default.Matrix.identity(this._pInst),this},a.default.RendererGL.prototype._getImmediateStrokeShader=function(){var h=this.userStrokeShader;return h&&h.isStrokeShader()?h:this._getLineShader()},a.default.RendererGL.prototype._getRetainedStrokeShader=a.default.RendererGL.prototype._getImmediateStrokeShader,a.default.RendererGL.prototype._getImmediateFillShader=function(){var h=this.userFillShader;if(this._useNormalMaterial&&(!h||!h.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!h||!h.isLightShader())return this._getLightShader()}else if(this._tex){if(!h||!h.isTextureShader())return this._getLightShader()}else if(!h)return this._getImmediateModeShader();return h},a.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var h=this.userFillShader;if(this._enableLighting){if(!h||!h.isLightShader())return this._getLightShader()}else if(this._tex){if(!h||!h.isTextureShader())return this._getLightShader()}else if(!h)return this._getColorShader();return h},a.default.RendererGL.prototype._getImmediatePointShader=function(){var h=this.userPointShader;return h&&h.isPointShader()?h:this._getPointShader()},a.default.RendererGL.prototype._getRetainedLineShader=a.default.RendererGL.prototype._getImmediateLineShader,a.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._defaultLightShader=this._pInst._glAttributes.perPixelLighting?new a.default.Shader(this,i.phongVert,i.phongFrag):new a.default.Shader(this,i.lightVert,i.lightTextureFrag)),this._defaultLightShader},a.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new a.default.Shader(this,i.immediateVert,i.vertexColorFrag)),this._defaultImmediateModeShader},a.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new a.default.Shader(this,i.normalVert,i.normalFrag)),this._defaultNormalShader},a.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new a.default.Shader(this,i.normalVert,i.basicFrag)),this._defaultColorShader},a.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new a.default.Shader(this,i.pointVert,i.pointFrag)),this._defaultPointShader},a.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new a.default.Shader(this,i.lineVert,i.lineFrag)),this._defaultLineShader},a.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new a.default.Shader(this,i.fontVert,i.fontFrag)),this._defaultFontShader},a.default.RendererGL.prototype._getEmptyTexture=function(){var h;return this._emptyTexture||((h=new a.default.Image(1,1)).set(0,0,255),this._emptyTexture=new a.default.Texture(this,h)),this._emptyTexture},a.default.RendererGL.prototype.getTexture=function(h){var y=this.textures,v=!0,x=!1,w=void 0;try{for(var C,N=y[Symbol.iterator]();!(v=(C=N.next()).done);v=!0){var M=C.value;if(M.src===h)return M}}catch(F){x=!0,w=F}finally{try{v||null==N.return||N.return()}finally{if(x)throw w}}return x=new a.default.Texture(this,h),y.push(x),x},a.default.RendererGL.prototype._setStrokeUniforms=function(h){h.bindShader(),h.setUniform("uMaterialColor",this.curStrokeColor),h.setUniform("uStrokeWeight",this.curStrokeWeight)},a.default.RendererGL.prototype._setFillUniforms=function(h){h.bindShader(),h.setUniform("uMaterialColor",this.curFillColor),h.setUniform("isTexture",!!this._tex),this._tex&&h.setUniform("uSampler",this._tex),h.setUniform("uTint",this._tint),h.setUniform("uAmbientMatColor",this.curAmbientColor),h.setUniform("uSpecularMatColor",this.curSpecularColor),h.setUniform("uEmissiveMatColor",this.curEmissiveColor),h.setUniform("uSpecular",this._useSpecularMaterial),h.setUniform("uEmissive",this._useEmissiveMaterial),h.setUniform("uShininess",this._useShininess),h.setUniform("uUseLighting",this._enableLighting);var y=(h.setUniform("uPointLightCount",y=this.pointLightDiffuseColors.length/3),h.setUniform("uPointLightLocation",this.pointLightPositions),h.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),h.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3);h.setUniform("uDirectionalLightCount",y),h.setUniform("uLightingDirection",this.directionalLightDirections),h.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),h.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),h.setUniform("uAmbientLightCount",y=this.ambientLightColors.length/3),h.setUniform("uAmbientColor",this.ambientLightColors),h.setUniform("uSpotLightCount",y=this.spotLightDiffuseColors.length/3),h.setUniform("uSpotLightAngle",this.spotLightAngle),h.setUniform("uSpotLightConc",this.spotLightConc),h.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),h.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),h.setUniform("uSpotLightLocation",this.spotLightPositions),h.setUniform("uSpotLightDirection",this.spotLightDirections),h.setUniform("uConstantAttenuation",this.constantAttenuation),h.setUniform("uLinearAttenuation",this.linearAttenuation),h.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),h.bindTextures()},a.default.RendererGL.prototype._setPointUniforms=function(h){h.bindShader(),h.setUniform("uMaterialColor",this.curStrokeColor),h.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},a.default.RendererGL.prototype._bindBuffer=function(h,y,v,x,w){this.GL.bindBuffer(y=y||this.GL.ARRAY_BUFFER,h),void 0!==v&&(h=new(x||Float32Array)(v),this.GL.bufferData(y,h,w||this.GL.STATIC_DRAW))},a.default.RendererGL.prototype._arraysEqual=function(h,y){var v=h.length;if(v!==y.length)return!1;for(var x=0;x<v;x++)if(h[x]!==y[x])return!1;return!0},a.default.RendererGL.prototype._isTypedArray=function(h){return Float32Array,Float64Array,Int16Array,Uint16Array,h instanceof Uint32Array},a.default.RendererGL.prototype._flatten=function(h){if(0===h.length)return[];var y;if(2e4<h.length){for(var v=Object.prototype.toString,x=[],w=h.slice(),C=w.pop();"[object Array]"===v.call(C)?w.push.apply(w,r(C)):x.push(C),w.length&&void 0!==(C=w.pop()););return x.reverse(),x}return(y=[]).concat.apply(y,r(h))},a.default.RendererGL.prototype._vToNArray=function(h){var y=[],v=!0,x=!1,w=void 0;try{for(var C,N=h[Symbol.iterator]();!(v=(C=N.next()).done);v=!0){var M=C.value;y.push(M.x,M.y,M.z)}}catch(F){x=!0,w=F}finally{try{v||null==N.return||N.return()}finally{if(x)throw w}}return y},a.default.prototype._assert3d=function(h){if(!this._renderer.isP3D)throw new Error("".concat(h,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},a.default.RendererGL.prototype._initTessy=function(){var h=new u.default.GluTesselator;return h.gluTessCallback(u.default.gluEnum.GLU_TESS_VERTEX_DATA,function(y,v){for(var x=0;x<y.length;x++)v[v.length]=y[x]}),h.gluTessCallback(u.default.gluEnum.GLU_TESS_BEGIN,function(y){y!==u.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(y))}),h.gluTessCallback(u.default.gluEnum.GLU_TESS_ERROR,function(y){console.log("error callback"),console.log("error number: ".concat(y))}),h.gluTessCallback(u.default.gluEnum.GLU_TESS_COMBINE,function(y,v,x){for(var w=[0,0,0,0,0,0,0,0,0,0,0,0],C=0;C<x.length;C++)for(var N=0;N<w.length;N++)0!==x[C]&&v[C]&&(w[N]+=v[C][N]*x[C]);return w}),h.gluTessCallback(u.default.gluEnum.GLU_TESS_EDGE_FLAG,function(y){}),h},a.default.RendererGL.prototype._triangulate=function(h){this._tessy.gluTessNormal(0,0,1);var y=[];this._tessy.gluTessBeginPolygon(y);for(var v=0;v<h.length;v++){this._tessy.gluTessBeginContour();for(var x=h[v],w=0;w<x.length;w+=12){var C=x.slice(w,w+12);this._tessy.gluTessVertex(C,C)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),y},a.default.RendererGL.prototype._bezierCoefficients=function(h){var y=h*h,v=1-h,x=v*v;return[x*v,3*x*h,3*v*y,y*h]},a.default.RendererGL.prototype._quadraticCoefficients=function(h){var y=1-h;return[y*y,2*y*h,h*h]},a.default.RendererGL.prototype._bezierToCatmull=function(h){return[h[1],h[1]+(h[2]-h[0])/this._curveTightness,h[2]-(h[3]-h[1])/this._curveTightness,h[2]]},E.default=c=a.default.RendererGL},{"../core/constants":256,"../core/main":267,"../core/p5.Renderer":270,"./p5.Camera":315,"./p5.Matrix":317,"./p5.Shader":322,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.float64-array":204,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int16-array":208,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,libtess:239,path:242}],322:[function(e,U,E){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(e=e("../core/main"))&&e.__esModule?e:{default:e};f.default.Shader=function(o,a,d){this._renderer=o,this._vertSrc=a,this._fragSrc=d,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},f.default.Shader.prototype.init=function(){if(0===this._glProgram){var o=this._renderer.GL;if(this._vertShader=o.createShader(o.VERTEX_SHADER),o.shaderSource(this._vertShader,this._vertSrc),o.compileShader(this._vertShader),!o.getShaderParameter(this._vertShader,o.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(o.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=o.createShader(o.FRAGMENT_SHADER),o.shaderSource(this._fragShader,this._fragSrc),o.compileShader(this._fragShader),!o.getShaderParameter(this._fragShader,o.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(o.getShaderInfoLog(this._fragShader))),null;this._glProgram=o.createProgram(),o.attachShader(this._glProgram,this._vertShader),o.attachShader(this._glProgram,this._fragShader),o.linkProgram(this._glProgram),o.getProgramParameter(this._glProgram,o.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(o.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},f.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var o=this._renderer.GL,a=o.getProgramParameter(this._glProgram,o.ACTIVE_ATTRIBUTES),d=0;d<a;++d){var u=o.getActiveAttrib(this._glProgram,d),p=u.name,s=o.getAttribLocation(this._glProgram,p),r={};r.name=p,r.location=s,r.index=d,r.type=u.type,r.size=u.size,this.attributes[p]=r}this._loadedAttributes=!0}},f.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var o=this._renderer.GL,a=o.getProgramParameter(this._glProgram,o.ACTIVE_UNIFORMS),d=0,u=0;u<a;++u){var p=o.getActiveUniform(this._glProgram,u),s={},r=(s.location=o.getUniformLocation(this._glProgram,p.name),s.size=p.size,p.name);1<p.size&&(r=r.substring(0,r.indexOf("[0]"))),s.name=r,s.type=p.type,s._cachedData=void 0,s.type===o.SAMPLER_2D&&(s.samplerIndex=d,d++,this.samplers.push(s)),s.isArray=1<p.size||s.type===o.FLOAT_MAT3||s.type===o.FLOAT_MAT4||s.type===o.FLOAT_VEC2||s.type===o.FLOAT_VEC3||s.type===o.FLOAT_VEC4||s.type===o.INT_VEC2||s.type===o.INT_VEC4||s.type===o.INT_VEC3,this.uniforms[r]=s}this._loadedUniforms=!0}},f.default.Shader.prototype.compile=function(){},f.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},f.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},f.default.Shader.prototype.bindTextures=function(){var o=this._renderer.GL,a=!0,d=!1,u=void 0;try{for(var p,s=this.samplers[Symbol.iterator]();!(a=(p=s.next()).done);a=!0){var r=p.value,i=r.texture;void 0===i&&(i=this._renderer._getEmptyTexture()),o.activeTexture(o.TEXTURE0+r.samplerIndex),i.bindTexture(),i.update(),o.uniform1i(r.location,r.samplerIndex)}}catch(c){d=!0,u=c}finally{try{a||null==s.return||s.return()}finally{if(d)throw u}}},f.default.Shader.prototype.updateTextures=function(){var o=!0,a=!1,d=void 0;try{for(var u,p=this.samplers[Symbol.iterator]();!(o=(u=p.next()).done);o=!0){var s=u.value.texture;s&&s.update()}}catch(r){a=!0,d=r}finally{try{o||null==p.return||p.return()}finally{if(a)throw d}}},f.default.Shader.prototype.unbindTextures=function(){},f.default.Shader.prototype._setMatrixUniforms=function(){var o=this._renderer._curCamera.cameraMatrix,a=this._renderer.uPMatrix,d=this._renderer.uMVMatrix,u=d.copy();u.mult(a),this.isStrokeShader()&&this.setUniform("uPerspective","default"===this._renderer._curCamera.cameraType?1:0),this.setUniform("uViewMatrix",o.mat4),this.setUniform("uProjectionMatrix",a.mat4),this.setUniform("uModelViewMatrix",d.mat4),this.setUniform("uModelViewProjectionMatrix",u.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},f.default.Shader.prototype.useProgram=function(){return this._renderer._curShader!==this&&(this._renderer.GL.useProgram(this._glProgram),this._renderer._curShader=this),this},f.default.Shader.prototype.setUniform=function(o,a){var d=this.uniforms[o];if(d){var u=this._renderer.GL;if(d.isArray){if(d._cachedData&&this._renderer._arraysEqual(d._cachedData,a))return;d._cachedData=a.slice(0)}else{if(d._cachedData&&d._cachedData===a)return;d._cachedData=Array.isArray(a)?a.slice(0):a}var p=d.location;switch(this.useProgram(),d.type){case u.BOOL:u.uniform1i(p,!0===a?1:0);break;case u.INT:1<d.size?a.length&&u.uniform1iv(p,a):u.uniform1i(p,a);break;case u.FLOAT:1<d.size?a.length&&u.uniform1fv(p,a):u.uniform1f(p,a);break;case u.FLOAT_MAT3:u.uniformMatrix3fv(p,!1,a);break;case u.FLOAT_MAT4:u.uniformMatrix4fv(p,!1,a);break;case u.FLOAT_VEC2:1<d.size?a.length&&u.uniform2fv(p,a):u.uniform2f(p,a[0],a[1]);break;case u.FLOAT_VEC3:1<d.size?a.length&&u.uniform3fv(p,a):u.uniform3f(p,a[0],a[1],a[2]);break;case u.FLOAT_VEC4:1<d.size?a.length&&u.uniform4fv(p,a):u.uniform4f(p,a[0],a[1],a[2],a[3]);break;case u.INT_VEC2:1<d.size?a.length&&u.uniform2iv(p,a):u.uniform2i(p,a[0],a[1]);break;case u.INT_VEC3:1<d.size?a.length&&u.uniform3iv(p,a):u.uniform3i(p,a[0],a[1],a[2]);break;case u.INT_VEC4:1<d.size?a.length&&u.uniform4iv(p,a):u.uniform4i(p,a[0],a[1],a[2],a[3]);break;case u.SAMPLER_2D:u.activeTexture(u.TEXTURE0+d.samplerIndex),d.texture=a instanceof f.default.Texture?a:this._renderer.getTexture(a),u.uniform1i(p,d.samplerIndex)}return this}},f.default.Shader.prototype.isLightShader=function(){return void 0!==this.attributes.aNormal||void 0!==this.uniforms.uUseLighting||void 0!==this.uniforms.uAmbientLightCount||void 0!==this.uniforms.uDirectionalLightCount||void 0!==this.uniforms.uPointLightCount||void 0!==this.uniforms.uAmbientColor||void 0!==this.uniforms.uDirectionalDiffuseColors||void 0!==this.uniforms.uDirectionalSpecularColors||void 0!==this.uniforms.uPointLightLocation||void 0!==this.uniforms.uPointLightDiffuseColors||void 0!==this.uniforms.uPointLightSpecularColors||void 0!==this.uniforms.uLightingDirection||void 0!==this.uniforms.uSpecular},f.default.Shader.prototype.isNormalShader=function(){return void 0!==this.attributes.aNormal},f.default.Shader.prototype.isTextureShader=function(){return 0<this.samplers.length},f.default.Shader.prototype.isColorShader=function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor},f.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},f.default.Shader.prototype.isStrokeShader=function(){return void 0!==this.uniforms.uStrokeWeight},f.default.Shader.prototype.enableAttrib=function(o,a,d,u,p,s){var r,i;return o&&-1!==(r=o.location)&&(i=this._renderer.GL,o.enabled||(i.enableVertexAttribArray(r),o.enabled=!0),this._renderer.GL.vertexAttribPointer(r,a,d||i.FLOAT,u||!1,p||0,s||0)),this},E.default=e=f.default.Shader},{"../core/main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],323:[function(e,U,E){"use strict";function f(s){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(s)}function o(s){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(r){return f(r)}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":f(r)})(s)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var a=(p=e("../core/main"))&&p.__esModule?p:{default:p},d=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==o(s)&&"function"!=typeof s)return{default:s};var r=u();if(r&&r.has(s))return r.get(s);var i,c={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in s){var y;Object.prototype.hasOwnProperty.call(s,i)&&((y=h?Object.getOwnPropertyDescriptor(s,i):null)&&(y.get||y.set)?Object.defineProperty(c,i,y):c[i]=s[i])}return c.default=s,r&&r.set(s,c),c}(e("../core/constants"));function u(){var s;return"function"!=typeof WeakMap?null:(u=function(){return s},s=new WeakMap)}a.default.Texture=function(s,r,i){return this._renderer=s,(i=i||{}).dataType===(s=this._renderer.GL).FLOAT&&(s.getExtension("OES_texture_float")||console.log("Oh no, your device doesn't support floating point textures!"),s.getExtension("OES_texture_float_linear")||console.log("Ack! Your device doesn't support linear filtering for floating point textures")),this.src=r,this.glTex=void 0,this.glTarget=s.TEXTURE_2D,this.glFormat=i.format||s.RGBA,this.mipmaps=!1,this.glMinFilter=i.minFilter||s.LINEAR,this.glMagFilter=i.magFilter||s.LINEAR,this.glWrapS=i.wrapS||s.CLAMP_TO_EDGE,this.glWrapT=i.wrapT||s.CLAMP_TO_EDGE,this.glDataType=i.dataType||s.UNSIGNED_BYTE,this.isSrcMediaElement=void 0!==a.default.MediaElement&&r instanceof a.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==a.default.Element&&r instanceof a.default.Element&&!(r instanceof a.default.Graphics)&&!(r instanceof a.default.Renderer),this.isSrcP5Image=r instanceof a.default.Image,this.isSrcP5Graphics=r instanceof a.default.Graphics,this.isSrcP5Renderer=r instanceof a.default.Renderer,this.isImageData="undefined"!=typeof ImageData&&r instanceof ImageData,i=this._getTextureDataFromSource(),this.width=i.width,this.height=i.height,this.init(i),this},a.default.Texture.prototype._getTextureDataFromSource=function(){var s;return this.isSrcP5Image?s=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?s=this.src.elt:this.isImageData&&(s=this.src),s},a.default.Texture.prototype.init=function(s){var r,i=this._renderer.GL;this.glTex=i.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,this.glMagFilter),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.glMinFilter),0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata?(r=new Uint8Array([1,1,1,1]),i.texImage2D(this.glTarget,0,i.RGBA,1,1,0,this.glFormat,this.glDataType,r)):i.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,s)},a.default.Texture.prototype.update=function(){var s,r,i,c=this.src;return 0!==c.width&&0!==c.height&&(s=this._getTextureDataFromSource(),r=!1,i=this._renderer.GL,s.width!==this.width||s.height!==this.height?(r=!0,this.width=s.width,this.height=s.height,this.isSrcP5Image?c.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&c.setModified(!0)):this.isSrcP5Image?c.isModified()&&c.setModified(!(r=!0)):this.isSrcMediaElement?c.isModified()?c.setModified(!(r=!0)):c.loadedmetadata&&this._videoPrevUpdateTime!==c.time()&&(this._videoPrevUpdateTime=c.time(),r=!0):this.isImageData?c._dirty&&(r=!(c._dirty=!1)):r=!0,r&&(this.bindTexture(),i.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,s)),r)},a.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},a.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},a.default.Texture.prototype.setInterpolation=function(s,r){var i=this._renderer.GL;this.glMinFilter=s===d.NEAREST?i.NEAREST:i.LINEAR,this.glMagFilter=r===d.NEAREST?i.NEAREST:i.LINEAR,this.bindTexture(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.glMinFilter),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},a.default.Texture.prototype.setWrapMode=function(s,r){function i(v){return 0==(v&v-1)}var c=this._renderer.GL,h=i(this.width),y=i(this.height);s===d.REPEAT?h&&y?this.glWrapS=c.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=c.CLAMP_TO_EDGE):s===d.MIRROR?h&&y?this.glWrapS=c.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=c.CLAMP_TO_EDGE):this.glWrapS=c.CLAMP_TO_EDGE,r===d.REPEAT?h&&y?this.glWrapT=c.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=c.CLAMP_TO_EDGE):r===d.MIRROR?h&&y?this.glWrapT=c.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=c.CLAMP_TO_EDGE):this.glWrapT=c.CLAMP_TO_EDGE,this.bindTexture(),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,this.glWrapS),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()};var p=a.default.Texture;E.default=p},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],324:[function(e,U,E){"use strict";function f(h){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(h)}function o(h){return(o="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(y){return f(y)}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":f(y)})(h)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.sub"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.sub"),e("core-js/modules/web.dom-collections.iterator");var a,d=(a=e("../core/main"))&&a.__esModule?a:{default:a},u=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==o(h)&&"function"!=typeof h)return{default:h};var y=p();if(y&&y.has(h))return y.get(h);var v,x={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in h){var C;Object.prototype.hasOwnProperty.call(h,v)&&((C=w?Object.getOwnPropertyDescriptor(h,v):null)&&(C.get||C.set)?Object.defineProperty(x,v,C):x[v]=h[v])}return x.default=h,y&&y.set(h,x),x}(e("../core/constants"));function p(){var h;return"function"!=typeof WeakMap?null:(p=function(){return h},h=new WeakMap)}function s(h,y){this.width=h,this.height=y,this.infos=[],this.findImage=function(v){var x,w,C=this.width*this.height;if(C<v)throw new Error("font is too complex to render in 3D");for(var N=this.infos.length-1;0<=N;--N){var M=this.infos[N];if(M.index+v<C){w=(x=M).imageData;break}}if(!x){try{w=new ImageData(this.width,this.height)}catch(G){var F=document.getElementsByTagName("canvas")[0],j=!F,B=(F||((F=document.createElement("canvas")).style.display="none",document.body.appendChild(F)),F.getContext("2d"));B&&(w=B.createImageData(this.width,this.height)),j&&document.body.removeChild(F)}this.infos.push(x={index:0,imageData:w})}return B=x.index,x.index+=v,w._dirty=!0,{imageData:w,index:B}}}function r(N,y,v,x,w){var C=N.imageData.data;N=4*N.index++,C[N++]=y,C[N++]=v,C[N++]=x,C[+N]=w}function i(h){this.font=h,this.strokeImageInfos=new s(64,64),this.colDimImageInfos=new s(64,64),this.rowDimImageInfos=new s(64,64),this.colCellImageInfos=new s(64,64),this.rowCellImageInfos=new s(64,64),this.glyphInfos={},this.getGlyphInfo=function(y){var v=this.glyphInfos[y.index];if(!v){var x=y.getBoundingBox(),w=x.x1,C=x.y1,N=x.x2-w,M=x.y2-C,F=y.path.commands;if(0==N||0==M||!F.length)return this.glyphInfos[y.index]={};for(var j,B,G,ee,$=[],H=[],Z=[],oe=8;0<=oe;--oe)Z.push([]);for(oe=8;0<=oe;--oe)H.push([]);var Q=!0,te=!1,me=void 0;try{for(var ce,he=F[Symbol.iterator]();!(Q=(ce=he.next()).done);Q=!0){var Ae=ce.value,A=(Ae.x-w)/N,q=(Ae.y-C)/M;if(!jt(j,B,A,q)){switch(Ae.type){case"M":G=A,ee=q;break;case"L":Qe(j,B,A,q);break;case"Q":var K=(Ae.x1-w)/N,we=(Ae.y1-C)/M;ot([j,A,K],[B,q,we],{x:j,y:B,cx:K,cy:we});break;case"Z":jt(j,B,G,ee)?$.push({x:j,y:B}):(Qe(j,B,G,ee),$.push({x:G,y:ee}));break;case"C":for(var Fe=function(yt,Me,$e,It,Je,at,je,We){yt=new ft(new d.default.Vector(yt,Me),new d.default.Vector($e,It),new d.default.Vector(Je,at),new d.default.Vector(je,We)).splitInflections();var lt=[],ke=30/c,Be=!0;Me=!1,$e=void 0;try{for(var wt,xt=yt[Symbol.iterator]();!(Be=(wt=xt.next()).done);Be=!0){for(var Lt=wt.value,Kt=[],cn=void 0;!(.125<=(cn=ke/Lt.quadError()));){var nn=Math.pow(cn,.3333333333333333),Wt=Lt.split(nn),bn=Lt.split(1-nn/(1-nn));lt.push(Wt),Kt.push(Lt),Lt=bn}cn<1&&lt.push(Lt.split(.5)),lt.push(Lt),Array.prototype.push.apply(lt,Kt.reverse())}}catch(W){Me=!0,$e=W}finally{try{Be||null==xt.return||xt.return()}finally{if(Me)throw $e}}return lt}(j,B,(Ae.x1-w)/N,(Ae.y1-C)/M,(Ae.x2-w)/N,(Ae.y2-C)/M,A,q),Te=0;Te<Fe.length;Te++){var Ie=Fe[Te].toQuadratic();ot([Ie.x,Ie.x1,Ie.cx],[Ie.y,Ie.y1,Ie.cy],Ie)}break;default:throw new Error("unknown command type: ".concat(Ae.type))}j=A,B=q}}}catch($t){te=!0,me=$t}finally{try{Q||null==he.return||he.return()}finally{if(te)throw me}}for(var Ve=$.length,Ue=this.strokeImageInfos.findImage(Ve),et=Ue.index,mt=0;mt<Ve;++mt){var Re=$[mt];r(Ue,ut(Re.x),ut(Re.y),ut(Re.cx),ut(Re.cy))}(v=this.glyphInfos[y.index]={glyph:y,uGlyphRect:[x.x1,-x.y1,x.x2,-x.y2],strokeImageInfo:Ue,strokes:$,colInfo:At(Z,this.colDimImageInfos,this.colCellImageInfos),rowInfo:At(H,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[v.colInfo.dimOffset,v.rowInfo.dimOffset]}return v;function ot($t,Ot,tn){var It=$.length;function Je(lt,ke,Be){for(var Me=lt.length;0<Me--;){var $e=lt[Me];$e<ke&&(ke=$e),Be<$e&&(Be=$e)}return{min:ke,max:Be}}$.push(tn),tn=Je($t,1,0),$t=Math.max(Math.floor(9*tn.min),0);for(var at=Math.min(Math.ceil(9*tn.max),9),je=$t;je<at;++je)Z[je].push(It);tn=Je(Ot,1,0),$t=Math.max(Math.floor(9*tn.min),0);for(var We=Math.min(Math.ceil(9*tn.max),9),yt=$t;yt<We;++yt)H[yt].push(It)}function ut($t){return($t=255*$t)<0?0:255<$t?255:$t}function ft($t,Ot,tn,It){this.p0=$t,this.c0=Ot,this.c1=tn,this.p1=It,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return d.default.Vector.sub(d.default.Vector.sub(this.p1,this.p0),d.default.Vector.mult(d.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(yt){var at=d.default.Vector.lerp(this.p0,this.c0,yt),We=d.default.Vector.lerp(this.c0,this.c1,yt),je=d.default.Vector.lerp(at,We,yt);return this.c1=d.default.Vector.lerp(this.c1,this.p1,yt),this.c0=d.default.Vector.lerp(We,this.c1,yt),We=d.default.Vector.lerp(je,this.c0,yt),yt=new ft(this.p0,at,je,We),this.p0=We,yt},this.splitInflections=function(){var Je=d.default.Vector.sub(this.c0,this.p0),at=d.default.Vector.sub(d.default.Vector.sub(this.c1,this.c0),Je),je=d.default.Vector.sub(d.default.Vector.sub(d.default.Vector.sub(this.p1,this.c1),Je),d.default.Vector.mult(at,2)),We=[],yt=at.x*je.y-at.y*je.x;return 0!==yt&&0<=(Je=(je=Je.x*je.y-Je.y*je.x)*je-4*yt*(Je.x*at.y-Je.y*at.x))&&(yt<0&&(yt=-yt,je=-je),Je=(-je+(at=Math.sqrt(Je)))/(2*yt),0<(je=(-je-at)/(2*yt))&&je<1&&(We.push(this.split(je)),Je=1-(1-Je)/(1-je)),0<Je&&Je<1&&We.push(this.split(Je))),We.push(this),We}}function Qe($t,Ot,tn,It){ot([$t,tn],[Ot,It],{x:$t,y:Ot,cx:($t+tn)/2,cy:(Ot+It)/2})}function jt($t,Ot,tn,It){return Math.abs(tn-$t)<1e-5&&Math.abs(It-Ot)<1e-5}function At($t,Ot,tn){for(var It=$t.length,Je=Ot.findImage(It),at=(Ot=Je.index,0),je=0;je<It;++je)at+=$t[je].length;for(var We=tn.findImage(at),yt=0;yt<It;++yt){var lt=$t[yt],ke=lt.length,Be=We.index;r(Je,Be>>7,127&Be,ke>>7,127&ke);for(var Me=0;Me<ke;++Me){var $e=lt[Me]+et;r(We,$e>>7,127&$e,0,0)}}return{cellImageInfo:We,dimOffset:Ot,dimImageInfo:Je}}}}e("./p5.Shader"),e("./p5.RendererGL.Retained"),d.default.RendererGL.prototype._applyTextProperties=function(){},d.default.RendererGL.prototype.textWidth=function(h){return this._isOpenType()?this._textFont._textWidth(h,this._textSize):0};var c=Math.sqrt(3);d.default.RendererGL.prototype._renderText=function(h,y,v,x,w){if(this._textFont&&"string"!=typeof this._textFont){if(!(w<=x)&&this._doFill){if(this._isOpenType()){h.push(),w=this._doStroke;var C=this.drawMode,N=(this._doStroke=!1,this.drawMode=u.TEXTURE,this._textFont.font),M=(M=this._textFont._fontInfo)||(this._textFont._fontInfo=new i(N)),F=(v=this._textFont._handleAlignment(this,y,v,x),x=this._textSize/N.unitsPerEm,this.translate(v.x,v.y,0),this.scale(x,x,1),this.GL),j=(v=!this._defaultFontShader,this._getFontShader()),B=(j.init(),j.bindShader(),v&&(j.setUniform("uGridImageSize",[64,64]),j.setUniform("uCellsImageSize",[64,64]),j.setUniform("uStrokeImageSize",[64,64]),j.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),G=(B||((x=this._textGeom=new d.default.Geometry(1,1,function(){for(var Ie=0;Ie<=1;Ie++)for(var Ve=0;Ve<=1;Ve++)this.vertices.push(new d.default.Vector(Ve,Ie,0)),this.uvs.push(Ve,Ie)})).computeFaces().computeNormals(),B=this.createBuffers("glyph",x)),!0);v=!1,x=void 0;try{for(var ee,$=this.retainedMode.buffers.text[Symbol.iterator]();!(G=(ee=$.next()).done);G=!0)ee.value._prepareBuffer(B,j)}catch(Ie){v=!0,x=Ie}finally{try{G||null==$.return||$.return()}finally{if(v)throw x}}this._bindBuffer(B.indexBuffer,F.ELEMENT_ARRAY_BUFFER),j.setUniform("uMaterialColor",this.curFillColor);try{var H=0,Z=null,oe=N.stringToGlyphs(y),Q=!0,te=!1,me=void 0;try{for(var ce,he=oe[Symbol.iterator]();!(Q=(ce=he.next()).done);Q=!0){var Ae,A,q=ce.value,K=(Z&&(H+=N.getKerningValue(Z,q)),M.getGlyphInfo(q));K.uGlyphRect&&(Ae=K.rowInfo,A=K.colInfo,j.setUniform("uSamplerStrokes",K.strokeImageInfo.imageData),j.setUniform("uSamplerRowStrokes",Ae.cellImageInfo.imageData),j.setUniform("uSamplerRows",Ae.dimImageInfo.imageData),j.setUniform("uSamplerColStrokes",A.cellImageInfo.imageData),j.setUniform("uSamplerCols",A.dimImageInfo.imageData),j.setUniform("uGridOffset",K.uGridOffset),j.setUniform("uGlyphRect",K.uGlyphRect),j.setUniform("uGlyphOffset",H),j.bindTextures(),F.drawElements(F.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),H+=q.advanceWidth,Z=q}}catch(Ie){te=!0,me=Ie}finally{try{Q||null==he.return||he.return()}finally{if(te)throw me}}}finally{j.unbindShader(),this._doStroke=w,this.drawMode=C,h.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return h}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":256,"../core/main":267,"./p5.RendererGL.Retained":320,"./p5.Shader":322,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}]},{},[251])(251)},358:(hn,Mt,se)=>{function m(s){this.mode=Xe.MODE_8BIT_BYTE,this.data=s,this.parsedData=[];for(var r=0,i=this.data.length;r<i;r++){var c=[],h=this.data.charCodeAt(r);h>65536?(c[0]=240|(1835008&h)>>>18,c[1]=128|(258048&h)>>>12,c[2]=128|(4032&h)>>>6,c[3]=128|63&h):h>2048?(c[0]=224|(61440&h)>>>12,c[1]=128|(4032&h)>>>6,c[2]=128|63&h):h>128?(c[0]=192|(1984&h)>>>6,c[1]=128|63&h):c[0]=h,this.parsedData.push(c)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function ye(s,r){this.typeNumber=s,this.errorCorrectLevel=r,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}m.prototype={getLength:function(s){return this.parsedData.length},write:function(s){for(var r=0,i=this.parsedData.length;r<i;r++)s.put(this.parsedData[r],8)}},ye.prototype={addData:function(s){var r=new m(s);this.dataList.push(r),this.dataCache=null},isDark:function(s,r){if(s<0||this.moduleCount<=s||r<0||this.moduleCount<=r)throw new Error(s+","+r);return this.modules[s][r]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(s,r){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++)this.modules[i][c]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(s,r),this.typeNumber>=7&&this.setupTypeNumber(s),null==this.dataCache&&(this.dataCache=ye.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)},setupPositionProbePattern:function(s,r){for(var i=-1;i<=7;i++)if(!(s+i<=-1||this.moduleCount<=s+i))for(var c=-1;c<=7;c++)r+c<=-1||this.moduleCount<=r+c||(this.modules[s+i][r+c]=0<=i&&i<=6&&(0==c||6==c)||0<=c&&c<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=c&&c<=4)},getBestMaskPattern:function(){for(var s=0,r=0,i=0;i<8;i++){this.makeImpl(!0,i);var c=U.getLostPoint(this);(0==i||s>c)&&(s=c,r=i)}return r},createMovieClip:function(s,r,i){var c=s.createEmptyMovieClip(r,i);this.make();for(var y=0;y<this.modules.length;y++)for(var v=1*y,x=0;x<this.modules[y].length;x++){var w=1*x;this.modules[y][x]&&(c.beginFill(0,100),c.moveTo(w,v),c.lineTo(w+1,v),c.lineTo(w+1,v+1),c.lineTo(w,v+1),c.endFill())}return c},setupTimingPattern:function(){for(var s=8;s<this.moduleCount-8;s++)null==this.modules[s][6]&&(this.modules[s][6]=s%2==0);for(var r=8;r<this.moduleCount-8;r++)null==this.modules[6][r]&&(this.modules[6][r]=r%2==0)},setupPositionAdjustPattern:function(){for(var s=U.getPatternPosition(this.typeNumber),r=0;r<s.length;r++)for(var i=0;i<s.length;i++){var c=s[r],h=s[i];if(null==this.modules[c][h])for(var y=-2;y<=2;y++)for(var v=-2;v<=2;v++)this.modules[c+y][h+v]=-2==y||2==y||-2==v||2==v||0==y&&0==v}},setupTypeNumber:function(s){for(var r=U.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var c=!s&&1==(r>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=c}for(i=0;i<18;i++)c=!s&&1==(r>>i&1),this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=c},setupTypeInfo:function(s,r){for(var c=U.getBCHTypeInfo(this.errorCorrectLevel<<3|r),h=0;h<15;h++){var y=!s&&1==(c>>h&1);h<6?this.modules[h][8]=y:h<8?this.modules[h+1][8]=y:this.modules[this.moduleCount-15+h][8]=y}for(h=0;h<15;h++)y=!s&&1==(c>>h&1),h<8?this.modules[8][this.moduleCount-h-1]=y:h<9?this.modules[8][15-h-1+1]=y:this.modules[8][15-h-1]=y;this.modules[this.moduleCount-8][8]=!s},mapData:function(s,r){for(var i=-1,c=this.moduleCount-1,h=7,y=0,v=this.moduleCount-1;v>0;v-=2)for(6==v&&v--;;){for(var x=0;x<2;x++)if(null==this.modules[c][v-x]){var w=!1;y<s.length&&(w=1==(s[y]>>>h&1)),U.getMask(r,c,v-x)&&(w=!w),this.modules[c][v-x]=w,-1==--h&&(y++,h=7)}if((c+=i)<0||this.moduleCount<=c){c-=i,i=-i;break}}}},ye.PAD0=236,ye.PAD1=17,ye.createData=function(s,r,i){for(var c=a.getRSBlocks(s,r),h=new d,y=0;y<i.length;y++){var v=i[y];h.put(v.mode,4),h.put(v.getLength(),U.getLengthInBits(v.mode,s)),v.write(h)}var x=0;for(y=0;y<c.length;y++)x+=c[y].dataCount;if(h.getLengthInBits()>8*x)throw new Error("code length overflow. ("+h.getLengthInBits()+">"+8*x+")");for(h.getLengthInBits()+4<=8*x&&h.put(0,4);h.getLengthInBits()%8!=0;)h.putBit(!1);for(;!(h.getLengthInBits()>=8*x||(h.put(ye.PAD0,8),h.getLengthInBits()>=8*x));)h.put(ye.PAD1,8);return ye.createBytes(h,c)},ye.createBytes=function(s,r){for(var i=0,c=0,h=0,y=new Array(r.length),v=new Array(r.length),x=0;x<r.length;x++){var w=r[x].dataCount,C=r[x].totalCount-w;c=Math.max(c,w),h=Math.max(h,C),y[x]=new Array(w);for(var N=0;N<y[x].length;N++)y[x][N]=255&s.buffer[N+i];i+=w;var M=U.getErrorCorrectPolynomial(C),j=new o(y[x],M.getLength()-1).mod(M);for(v[x]=new Array(M.getLength()-1),N=0;N<v[x].length;N++){var B=N+j.getLength()-v[x].length;v[x][N]=B>=0?j.get(B):0}}var G=0;for(N=0;N<r.length;N++)G+=r[N].totalCount;var ee=new Array(G),$=0;for(N=0;N<c;N++)for(x=0;x<r.length;x++)N<y[x].length&&(ee[$++]=y[x][N]);for(N=0;N<h;N++)for(x=0;x<r.length;x++)N<v[x].length&&(ee[$++]=v[x][N]);return ee};for(var Xe={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},xe={L:1,M:0,Q:3,H:2},e={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},U={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var r=s<<10;U.getBCHDigit(r)-U.getBCHDigit(U.G15)>=0;)r^=U.G15<<U.getBCHDigit(r)-U.getBCHDigit(U.G15);return(s<<10|r)^U.G15_MASK},getBCHTypeNumber:function(s){for(var r=s<<12;U.getBCHDigit(r)-U.getBCHDigit(U.G18)>=0;)r^=U.G18<<U.getBCHDigit(r)-U.getBCHDigit(U.G18);return s<<12|r},getBCHDigit:function(s){for(var r=0;0!=s;)r++,s>>>=1;return r},getPatternPosition:function(s){return U.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,r,i){switch(s){case e.PATTERN000:return(r+i)%2==0;case e.PATTERN001:return r%2==0;case e.PATTERN010:return i%3==0;case e.PATTERN011:return(r+i)%3==0;case e.PATTERN100:return(Math.floor(r/2)+Math.floor(i/3))%2==0;case e.PATTERN101:return r*i%2+r*i%3==0;case e.PATTERN110:return(r*i%2+r*i%3)%2==0;case e.PATTERN111:return(r*i%3+(r+i)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var r=new o([1],0),i=0;i<s;i++)r=r.multiply(new o([1,E.gexp(i)],0));return r},getLengthInBits:function(s,r){if(1<=r&&r<10)switch(s){case Xe.MODE_NUMBER:return 10;case Xe.MODE_ALPHA_NUM:return 9;case Xe.MODE_8BIT_BYTE:case Xe.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(r<27)switch(s){case Xe.MODE_NUMBER:return 12;case Xe.MODE_ALPHA_NUM:return 11;case Xe.MODE_8BIT_BYTE:return 16;case Xe.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else{if(!(r<41))throw new Error("type:"+r);switch(s){case Xe.MODE_NUMBER:return 14;case Xe.MODE_ALPHA_NUM:return 13;case Xe.MODE_8BIT_BYTE:return 16;case Xe.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}}},getLostPoint:function(s){for(var r=s.getModuleCount(),i=0,c=0;c<r;c++)for(var h=0;h<r;h++){for(var y=0,v=s.isDark(c,h),x=-1;x<=1;x++)if(!(c+x<0||r<=c+x))for(var w=-1;w<=1;w++)h+w<0||r<=h+w||0==x&&0==w||v==s.isDark(c+x,h+w)&&y++;y>5&&(i+=3+y-5)}for(c=0;c<r-1;c++)for(h=0;h<r-1;h++){var C=0;s.isDark(c,h)&&C++,s.isDark(c+1,h)&&C++,s.isDark(c,h+1)&&C++,s.isDark(c+1,h+1)&&C++,(0==C||4==C)&&(i+=3)}for(c=0;c<r;c++)for(h=0;h<r-6;h++)s.isDark(c,h)&&!s.isDark(c,h+1)&&s.isDark(c,h+2)&&s.isDark(c,h+3)&&s.isDark(c,h+4)&&!s.isDark(c,h+5)&&s.isDark(c,h+6)&&(i+=40);for(h=0;h<r;h++)for(c=0;c<r-6;c++)s.isDark(c,h)&&!s.isDark(c+1,h)&&s.isDark(c+2,h)&&s.isDark(c+3,h)&&s.isDark(c+4,h)&&!s.isDark(c+5,h)&&s.isDark(c+6,h)&&(i+=40);var N=0;for(h=0;h<r;h++)for(c=0;c<r;c++)s.isDark(c,h)&&N++;return i+Math.abs(100*N/r/r-50)/5*10}},E={glog:function(s){if(s<1)throw new Error("glog("+s+")");return E.LOG_TABLE[s]},gexp:function(s){for(;s<0;)s+=255;for(;s>=256;)s-=255;return E.EXP_TABLE[s]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},f=0;f<8;f++)E.EXP_TABLE[f]=1<<f;for(f=8;f<256;f++)E.EXP_TABLE[f]=E.EXP_TABLE[f-4]^E.EXP_TABLE[f-5]^E.EXP_TABLE[f-6]^E.EXP_TABLE[f-8];for(f=0;f<255;f++)E.LOG_TABLE[E.EXP_TABLE[f]]=f;function o(s,r){if(null==s.length)throw new Error(s.length+"/"+r);for(var i=0;i<s.length&&0==s[i];)i++;this.num=new Array(s.length-i+r);for(var c=0;c<s.length-i;c++)this.num[c]=s[c+i]}function a(s,r){this.totalCount=s,this.dataCount=r}function d(){this.buffer=[],this.length=0}o.prototype={get:function(s){return this.num[s]},getLength:function(){return this.num.length},multiply:function(s){for(var r=new Array(this.getLength()+s.getLength()-1),i=0;i<this.getLength();i++)for(var c=0;c<s.getLength();c++)r[i+c]^=E.gexp(E.glog(this.get(i))+E.glog(s.get(c)));return new o(r,0)},mod:function(s){if(this.getLength()-s.getLength()<0)return this;for(var r=E.glog(this.get(0))-E.glog(s.get(0)),i=new Array(this.getLength()),c=0;c<this.getLength();c++)i[c]=this.get(c);for(c=0;c<s.getLength();c++)i[c]^=E.gexp(E.glog(s.get(c))+r);return new o(i,0).mod(s)}},a.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],a.getRSBlocks=function(s,r){var i=a.getRsBlockTable(s,r);if(null==i)throw new Error("bad rs block @ typeNumber:"+s+"/errorCorrectLevel:"+r);for(var c=i.length/3,h=[],y=0;y<c;y++)for(var v=i[3*y+0],x=i[3*y+1],w=i[3*y+2],C=0;C<v;C++)h.push(new a(x,w));return h},a.getRsBlockTable=function(s,r){switch(r){case xe.L:return a.RS_BLOCK_TABLE[4*(s-1)+0];case xe.M:return a.RS_BLOCK_TABLE[4*(s-1)+1];case xe.Q:return a.RS_BLOCK_TABLE[4*(s-1)+2];case xe.H:return a.RS_BLOCK_TABLE[4*(s-1)+3];default:return}},d.prototype={get:function(s){var r=Math.floor(s/8);return 1==(this.buffer[r]>>>7-s%8&1)},put:function(s,r){for(var i=0;i<r;i++)this.putBit(1==(s>>>r-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(s){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),s&&(this.buffer[r]|=128>>>this.length%8),this.length++}};var u=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function p(s){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof s&&(s={content:s}),s)for(var i in s)this.options[i]=s[i];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var v=this.options.content,x=function h(C,N){for(var M=function y(C){var N=encodeURI(C).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return N.length+(N.length!=C?3:0)}(C),F=1,j=0,B=0,G=u.length;B<=G;B++){var ee=u[B];if(!ee)throw new Error("Content too long: expected "+j+" but got "+M);switch(N){case"L":j=ee[0];break;case"M":j=ee[1];break;case"Q":j=ee[2];break;case"H":j=ee[3];break;default:throw new Error("Unknwon error correction level: "+N)}if(M<=j)break;F++}if(F>u.length)throw new Error("Content too long");return F}(v,this.options.ecl),w=function c(C){switch(C){case"L":return xe.L;case"M":return xe.M;case"Q":return xe.Q;case"H":return xe.H;default:throw new Error("Unknwon error correction level: "+C)}}(this.options.ecl);this.qrcode=new ye(x,w),this.qrcode.addData(v),this.qrcode.make()}p.prototype.svg=function(s){var r=this.options||{},i=this.qrcode.modules;void 0===s&&(s={container:r.container||"svg"});for(var c=void 0===r.pretty||!!r.pretty,h=c?"  ":"",y=c?"\r\n":"",v=r.width,x=r.height,w=i.length,C=v/(w+2*r.padding),N=x/(w+2*r.padding),M=void 0!==r.join&&!!r.join,F=void 0!==r.swap&&!!r.swap,j=void 0===r.xmlDeclaration||!!r.xmlDeclaration,B=void 0!==r.predefined&&!!r.predefined,G=B?h+'<defs><path id="qrmodule" d="M0 0 h'+N+" v"+C+' H0 z" style="fill:'+r.color+';shape-rendering:crispEdges;" /></defs>'+y:"",ee=h+'<rect x="0" y="0" width="'+v+'" height="'+x+'" style="fill:'+r.background+';shape-rendering:crispEdges;"/>'+y,$="",H="",Z=0;Z<w;Z++)for(var oe=0;oe<w;oe++)if(i[oe][Z]){var te=oe*C+r.padding*C,me=Z*N+r.padding*N;if(F){var ce=te;te=me,me=ce}if(M){var he=C+te,Ae=N+me;te=Number.isInteger(te)?Number(te):te.toFixed(2),me=Number.isInteger(me)?Number(me):me.toFixed(2),he=Number.isInteger(he)?Number(he):he.toFixed(2),H+="M"+te+","+me+" V"+(Ae=Number.isInteger(Ae)?Number(Ae):Ae.toFixed(2))+" H"+he+" V"+me+" H"+te+" Z "}else $+=B?h+'<use x="'+te.toString()+'" y="'+me.toString()+'" href="#qrmodule" />'+y:h+'<rect x="'+te.toString()+'" y="'+me.toString()+'" width="'+C+'" height="'+N+'" style="fill:'+r.color+';shape-rendering:crispEdges;"/>'+y}M&&($=h+'<path x="0" y="0" style="fill:'+r.color+';shape-rendering:crispEdges;" d="'+H+'" />');var A="";switch(s.container){case"svg":j&&(A+='<?xml version="1.0" standalone="yes"?>'+y),A+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+v+'" height="'+x+'">'+y,A+=G+ee+$,A+="</svg>";break;case"svg-viewbox":j&&(A+='<?xml version="1.0" standalone="yes"?>'+y),A+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+v+" "+x+'">'+y,A+=G+ee+$,A+="</svg>";break;case"g":A+='<g width="'+v+'" height="'+x+'">'+y,A+=G+ee+$,A+="</g>";break;default:A+=(G+ee+$).replace(/^\s+/,"")}return A},p.prototype.save=function(s,r){var i=this.svg();"function"!=typeof r&&(r=function(h,y){});try{se(Object(function(){var y=new Error("Cannot find module 'fs'");throw y.code="MODULE_NOT_FOUND",y}())).writeFile(s,i,r)}catch(h){r(h)}},hn.exports=p},7854:hn=>{var Mt=function(se){"use strict";var Xe,m=Object.prototype,ye=m.hasOwnProperty,xe="function"==typeof Symbol?Symbol:{},e=xe.iterator||"@@iterator",U=xe.asyncIterator||"@@asyncIterator",E=xe.toStringTag||"@@toStringTag";function f(H,Z,oe){return Object.defineProperty(H,Z,{value:oe,enumerable:!0,configurable:!0,writable:!0}),H[Z]}try{f({},"")}catch(H){f=function(Z,oe,Q){return Z[oe]=Q}}function o(H,Z,oe,Q){var me=Object.create((Z&&Z.prototype instanceof i?Z:i).prototype),ce=new G(Q||[]);return me._invoke=function M(H,Z,oe){var Q=d;return function(me,ce){if(Q===p)throw new Error("Generator is already running");if(Q===s){if("throw"===me)throw ce;return $()}for(oe.method=me,oe.arg=ce;;){var he=oe.delegate;if(he){var Ae=F(he,oe);if(Ae){if(Ae===r)continue;return Ae}}if("next"===oe.method)oe.sent=oe._sent=oe.arg;else if("throw"===oe.method){if(Q===d)throw Q=s,oe.arg;oe.dispatchException(oe.arg)}else"return"===oe.method&&oe.abrupt("return",oe.arg);Q=p;var A=a(H,Z,oe);if("normal"===A.type){if(Q=oe.done?s:u,A.arg===r)continue;return{value:A.arg,done:oe.done}}"throw"===A.type&&(Q=s,oe.method="throw",oe.arg=A.arg)}}}(H,oe,ce),me}function a(H,Z,oe){try{return{type:"normal",arg:H.call(Z,oe)}}catch(Q){return{type:"throw",arg:Q}}}se.wrap=o;var d="suspendedStart",u="suspendedYield",p="executing",s="completed",r={};function i(){}function c(){}function h(){}var y={};f(y,e,function(){return this});var v=Object.getPrototypeOf,x=v&&v(v(ee([])));x&&x!==m&&ye.call(x,e)&&(y=x);var w=h.prototype=i.prototype=Object.create(y);function C(H){["next","throw","return"].forEach(function(Z){f(H,Z,function(oe){return this._invoke(Z,oe)})})}function N(H,Z){function oe(me,ce,he,Ae){var A=a(H[me],H,ce);if("throw"!==A.type){var q=A.arg,K=q.value;return K&&"object"==typeof K&&ye.call(K,"__await")?Z.resolve(K.__await).then(function(we){oe("next",we,he,Ae)},function(we){oe("throw",we,he,Ae)}):Z.resolve(K).then(function(we){q.value=we,he(q)},function(we){return oe("throw",we,he,Ae)})}Ae(A.arg)}var Q;this._invoke=function te(me,ce){function he(){return new Z(function(Ae,A){oe(me,ce,Ae,A)})}return Q=Q?Q.then(he,he):he()}}function F(H,Z){var oe=H.iterator[Z.method];if(oe===Xe){if(Z.delegate=null,"throw"===Z.method){if(H.iterator.return&&(Z.method="return",Z.arg=Xe,F(H,Z),"throw"===Z.method))return r;Z.method="throw",Z.arg=new TypeError("The iterator does not provide a 'throw' method")}return r}var Q=a(oe,H.iterator,Z.arg);if("throw"===Q.type)return Z.method="throw",Z.arg=Q.arg,Z.delegate=null,r;var te=Q.arg;return te?te.done?(Z[H.resultName]=te.value,Z.next=H.nextLoc,"return"!==Z.method&&(Z.method="next",Z.arg=Xe),Z.delegate=null,r):te:(Z.method="throw",Z.arg=new TypeError("iterator result is not an object"),Z.delegate=null,r)}function j(H){var Z={tryLoc:H[0]};1 in H&&(Z.catchLoc=H[1]),2 in H&&(Z.finallyLoc=H[2],Z.afterLoc=H[3]),this.tryEntries.push(Z)}function B(H){var Z=H.completion||{};Z.type="normal",delete Z.arg,H.completion=Z}function G(H){this.tryEntries=[{tryLoc:"root"}],H.forEach(j,this),this.reset(!0)}function ee(H){if(H){var Z=H[e];if(Z)return Z.call(H);if("function"==typeof H.next)return H;if(!isNaN(H.length)){var oe=-1,Q=function te(){for(;++oe<H.length;)if(ye.call(H,oe))return te.value=H[oe],te.done=!1,te;return te.value=Xe,te.done=!0,te};return Q.next=Q}}return{next:$}}function $(){return{value:Xe,done:!0}}return c.prototype=h,f(w,"constructor",h),f(h,"constructor",c),c.displayName=f(h,E,"GeneratorFunction"),se.isGeneratorFunction=function(H){var Z="function"==typeof H&&H.constructor;return!!Z&&(Z===c||"GeneratorFunction"===(Z.displayName||Z.name))},se.mark=function(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,h):(H.__proto__=h,f(H,E,"GeneratorFunction")),H.prototype=Object.create(w),H},se.awrap=function(H){return{__await:H}},C(N.prototype),f(N.prototype,U,function(){return this}),se.AsyncIterator=N,se.async=function(H,Z,oe,Q,te){void 0===te&&(te=Promise);var me=new N(o(H,Z,oe,Q),te);return se.isGeneratorFunction(Z)?me:me.next().then(function(ce){return ce.done?ce.value:me.next()})},C(w),f(w,E,"Generator"),f(w,e,function(){return this}),f(w,"toString",function(){return"[object Generator]"}),se.keys=function(H){var Z=[];for(var oe in H)Z.push(oe);return Z.reverse(),function Q(){for(;Z.length;){var te=Z.pop();if(te in H)return Q.value=te,Q.done=!1,Q}return Q.done=!0,Q}},se.values=ee,G.prototype={constructor:G,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=Xe,this.done=!1,this.delegate=null,this.method="next",this.arg=Xe,this.tryEntries.forEach(B),!H)for(var Z in this)"t"===Z.charAt(0)&&ye.call(this,Z)&&!isNaN(+Z.slice(1))&&(this[Z]=Xe)},stop:function(){this.done=!0;var Z=this.tryEntries[0].completion;if("throw"===Z.type)throw Z.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var Z=this;function oe(Ae,A){return me.type="throw",me.arg=H,Z.next=Ae,A&&(Z.method="next",Z.arg=Xe),!!A}for(var Q=this.tryEntries.length-1;Q>=0;--Q){var te=this.tryEntries[Q],me=te.completion;if("root"===te.tryLoc)return oe("end");if(te.tryLoc<=this.prev){var ce=ye.call(te,"catchLoc"),he=ye.call(te,"finallyLoc");if(ce&&he){if(this.prev<te.catchLoc)return oe(te.catchLoc,!0);if(this.prev<te.finallyLoc)return oe(te.finallyLoc)}else if(ce){if(this.prev<te.catchLoc)return oe(te.catchLoc,!0)}else{if(!he)throw new Error("try statement without catch or finally");if(this.prev<te.finallyLoc)return oe(te.finallyLoc)}}}},abrupt:function(H,Z){for(var oe=this.tryEntries.length-1;oe>=0;--oe){var Q=this.tryEntries[oe];if(Q.tryLoc<=this.prev&&ye.call(Q,"finallyLoc")&&this.prev<Q.finallyLoc){var te=Q;break}}te&&("break"===H||"continue"===H)&&te.tryLoc<=Z&&Z<=te.finallyLoc&&(te=null);var me=te?te.completion:{};return me.type=H,me.arg=Z,te?(this.method="next",this.next=te.finallyLoc,r):this.complete(me)},complete:function(H,Z){if("throw"===H.type)throw H.arg;return"break"===H.type||"continue"===H.type?this.next=H.arg:"return"===H.type?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):"normal"===H.type&&Z&&(this.next=Z),r},finish:function(H){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var oe=this.tryEntries[Z];if(oe.finallyLoc===H)return this.complete(oe.completion,oe.afterLoc),B(oe),r}},catch:function(H){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var oe=this.tryEntries[Z];if(oe.tryLoc===H){var Q=oe.completion;if("throw"===Q.type){var te=Q.arg;B(oe)}return te}}throw new Error("illegal catch attempt")},delegateYield:function(H,Z,oe){return this.delegate={iterator:ee(H),resultName:Z,nextLoc:oe},"next"===this.method&&(this.arg=Xe),r}},se}(hn.exports);try{regeneratorRuntime=Mt}catch(se){"object"==typeof globalThis?globalThis.regeneratorRuntime=Mt:Function("r","regeneratorRuntime = r")(Mt)}},591:(hn,Mt,se)=>{"use strict";se.d(Mt,{X:()=>Xe});var m=se(5529),ye=se(5279);class Xe extends m.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const U=super._subscribe(e);return U&&!U.closed&&e.next(this._value),U}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ye.N;return this._value}next(e){super.next(this._value=e)}}},2916:(hn,Mt,se)=>{"use strict";se.d(Mt,{y:()=>d});var m=se(3489),Xe=se(7668),xe=se(3292),U=se(3821),E=se(5379);var a=se(2830);let d=(()=>{class p{constructor(r){this._isScalar=!1,r&&(this._subscribe=r)}lift(r){const i=new p;return i.source=this,i.operator=r,i}subscribe(r,i,c){const{operator:h}=this,y=function e(p,s,r){if(p){if(p instanceof m.L)return p;if(p[Xe.b])return p[Xe.b]()}return p||s||r?new m.L(p,s,r):new m.L(xe.c)}(r,i,c);if(y.add(h?h.call(y,this.source):this.source||a.v.useDeprecatedSynchronousErrorHandling&&!y.syncErrorThrowable?this._subscribe(y):this._trySubscribe(y)),a.v.useDeprecatedSynchronousErrorHandling&&y.syncErrorThrowable&&(y.syncErrorThrowable=!1,y.syncErrorThrown))throw y.syncErrorValue;return y}_trySubscribe(r){try{return this._subscribe(r)}catch(i){a.v.useDeprecatedSynchronousErrorHandling&&(r.syncErrorThrown=!0,r.syncErrorValue=i),function ye(p){for(;p;){const{closed:s,destination:r,isStopped:i}=p;if(s||i)return!1;p=r&&r instanceof m.L?r:null}return!0}(r)?r.error(i):console.warn(i)}}forEach(r,i){return new(i=u(i))((c,h)=>{let y;y=this.subscribe(v=>{try{r(v)}catch(x){h(x),y&&y.unsubscribe()}},h,c)})}_subscribe(r){const{source:i}=this;return i&&i.subscribe(r)}[U.L](){return this}pipe(...r){return 0===r.length?this:function o(p){return 0===p.length?E.y:1===p.length?p[0]:function(r){return p.reduce((i,c)=>c(i),r)}}(r)(this)}toPromise(r){return new(r=u(r))((i,c)=>{let h;this.subscribe(y=>h=y,y=>c(y),()=>i(h))})}}return p.create=s=>new p(s),p})();function u(p){if(p||(p=a.v.Promise||Promise),!p)throw new Error("no Promise impl found");return p}},3292:(hn,Mt,se)=>{"use strict";se.d(Mt,{c:()=>Xe});var m=se(2830),ye=se(2782);const Xe={closed:!0,next(xe){},error(xe){if(m.v.useDeprecatedSynchronousErrorHandling)throw xe;(0,ye.z)(xe)},complete(){}}},5529:(hn,Mt,se)=>{"use strict";se.d(Mt,{xQ:()=>f,Yc:()=>E});var m=se(2916),ye=se(3489),Xe=se(2654),xe=se(5279);class e extends Xe.w{constructor(d,u){super(),this.subject=d,this.subscriber=u,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const d=this.subject,u=d.observers;if(this.subject=null,!u||0===u.length||d.isStopped||d.closed)return;const p=u.indexOf(this.subscriber);-1!==p&&u.splice(p,1)}}var U=se(7668);class E extends ye.L{constructor(d){super(d),this.destination=d}}let f=(()=>{class a extends m.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[U.b](){return new E(this)}lift(u){const p=new o(this,this);return p.operator=u,p}next(u){if(this.closed)throw new xe.N;if(!this.isStopped){const{observers:p}=this,s=p.length,r=p.slice();for(let i=0;i<s;i++)r[i].next(u)}}error(u){if(this.closed)throw new xe.N;this.hasError=!0,this.thrownError=u,this.isStopped=!0;const{observers:p}=this,s=p.length,r=p.slice();for(let i=0;i<s;i++)r[i].error(u);this.observers.length=0}complete(){if(this.closed)throw new xe.N;this.isStopped=!0;const{observers:u}=this,p=u.length,s=u.slice();for(let r=0;r<p;r++)s[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(u){if(this.closed)throw new xe.N;return super._trySubscribe(u)}_subscribe(u){if(this.closed)throw new xe.N;return this.hasError?(u.error(this.thrownError),Xe.w.EMPTY):this.isStopped?(u.complete(),Xe.w.EMPTY):(this.observers.push(u),new e(this,u))}asObservable(){const u=new m.y;return u.source=this,u}}return a.create=(d,u)=>new o(d,u),a})();class o extends f{constructor(d,u){super(),this.destination=d,this.source=u}next(d){const{destination:u}=this;u&&u.next&&u.next(d)}error(d){const{destination:u}=this;u&&u.error&&this.destination.error(d)}complete(){const{destination:d}=this;d&&d.complete&&this.destination.complete()}_subscribe(d){const{source:u}=this;return u?this.source.subscribe(d):Xe.w.EMPTY}}},3489:(hn,Mt,se)=>{"use strict";se.d(Mt,{L:()=>E});var m=se(7043),ye=se(3292),Xe=se(2654),xe=se(7668),e=se(2830),U=se(2782);class E extends Xe.w{constructor(a,d,u){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ye.c;break;case 1:if(!a){this.destination=ye.c;break}if("object"==typeof a){a instanceof E?(this.syncErrorThrowable=a.syncErrorThrowable,this.destination=a,a.add(this)):(this.syncErrorThrowable=!0,this.destination=new f(this,a));break}default:this.syncErrorThrowable=!0,this.destination=new f(this,a,d,u)}}[xe.b](){return this}static create(a,d,u){const p=new E(a,d,u);return p.syncErrorThrowable=!1,p}next(a){this.isStopped||this._next(a)}error(a){this.isStopped||(this.isStopped=!0,this._error(a))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(a){this.destination.next(a)}_error(a){this.destination.error(a),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:a}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=a,this}}class f extends E{constructor(a,d,u,p){super(),this._parentSubscriber=a;let s,r=this;(0,m.m)(d)?s=d:d&&(s=d.next,u=d.error,p=d.complete,d!==ye.c&&(r=Object.create(d),(0,m.m)(r.unsubscribe)&&this.add(r.unsubscribe.bind(r)),r.unsubscribe=this.unsubscribe.bind(this))),this._context=r,this._next=s,this._error=u,this._complete=p}next(a){if(!this.isStopped&&this._next){const{_parentSubscriber:d}=this;e.v.useDeprecatedSynchronousErrorHandling&&d.syncErrorThrowable?this.__tryOrSetError(d,this._next,a)&&this.unsubscribe():this.__tryOrUnsub(this._next,a)}}error(a){if(!this.isStopped){const{_parentSubscriber:d}=this,{useDeprecatedSynchronousErrorHandling:u}=e.v;if(this._error)u&&d.syncErrorThrowable?(this.__tryOrSetError(d,this._error,a),this.unsubscribe()):(this.__tryOrUnsub(this._error,a),this.unsubscribe());else if(d.syncErrorThrowable)u?(d.syncErrorValue=a,d.syncErrorThrown=!0):(0,U.z)(a),this.unsubscribe();else{if(this.unsubscribe(),u)throw a;(0,U.z)(a)}}}complete(){if(!this.isStopped){const{_parentSubscriber:a}=this;if(this._complete){const d=()=>this._complete.call(this._context);e.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable?(this.__tryOrSetError(a,d),this.unsubscribe()):(this.__tryOrUnsub(d),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(a,d){try{a.call(this._context,d)}catch(u){if(this.unsubscribe(),e.v.useDeprecatedSynchronousErrorHandling)throw u;(0,U.z)(u)}}__tryOrSetError(a,d,u){if(!e.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{d.call(this._context,u)}catch(p){return e.v.useDeprecatedSynchronousErrorHandling?(a.syncErrorValue=p,a.syncErrorThrown=!0,!0):((0,U.z)(p),!0)}return!1}_unsubscribe(){const{_parentSubscriber:a}=this;this._context=null,this._parentSubscriber=null,a.unsubscribe()}}},2654:(hn,Mt,se)=>{"use strict";se.d(Mt,{w:()=>U});var m=se(6688),ye=se(7830),Xe=se(7043);const e=(()=>{function f(o){return Error.call(this),this.message=o?`${o.length} errors occurred during unsubscription:\n${o.map((a,d)=>`${d+1}) ${a.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=o,this}return f.prototype=Object.create(Error.prototype),f})();class U{constructor(o){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,o&&(this._ctorUnsubscribe=!0,this._unsubscribe=o)}unsubscribe(){let o;if(this.closed)return;let{_parentOrParents:a,_ctorUnsubscribe:d,_unsubscribe:u,_subscriptions:p}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof U)a.remove(this);else if(null!==a)for(let s=0;s<a.length;++s)a[s].remove(this);if((0,Xe.m)(u)){d&&(this._unsubscribe=void 0);try{u.call(this)}catch(s){o=s instanceof e?E(s.errors):[s]}}if((0,m.k)(p)){let s=-1,r=p.length;for(;++s<r;){const i=p[s];if((0,ye.K)(i))try{i.unsubscribe()}catch(c){o=o||[],c instanceof e?o=o.concat(E(c.errors)):o.push(c)}}}if(o)throw new e(o)}add(o){let a=o;if(!o)return U.EMPTY;switch(typeof o){case"function":a=new U(o);case"object":if(a===this||a.closed||"function"!=typeof a.unsubscribe)return a;if(this.closed)return a.unsubscribe(),a;if(!(a instanceof U)){const p=a;a=new U,a._subscriptions=[p]}break;default:throw new Error("unrecognized teardown "+o+" added to Subscription.")}let{_parentOrParents:d}=a;if(null===d)a._parentOrParents=this;else if(d instanceof U){if(d===this)return a;a._parentOrParents=[d,this]}else{if(-1!==d.indexOf(this))return a;d.push(this)}const u=this._subscriptions;return null===u?this._subscriptions=[a]:u.push(a),a}remove(o){const a=this._subscriptions;if(a){const d=a.indexOf(o);-1!==d&&a.splice(d,1)}}}var f;function E(f){return f.reduce((o,a)=>o.concat(a instanceof e?a.errors:a),[])}U.EMPTY=((f=new U).closed=!0,f)},2830:(hn,Mt,se)=>{"use strict";se.d(Mt,{v:()=>ye});let m=!1;const ye={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Xe){if(Xe){const xe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+xe.stack)}else m&&console.log("RxJS: Back to a better error behavior. Thank you. <3");m=Xe},get useDeprecatedSynchronousErrorHandling(){return m}}},1177:(hn,Mt,se)=>{"use strict";se.d(Mt,{IY:()=>xe,Ds:()=>U,ft:()=>f});var m=se(3489),ye=se(2916),Xe=se(9249);class xe extends m.L{constructor(a){super(),this.parent=a}_next(a){this.parent.notifyNext(a)}_error(a){this.parent.notifyError(a),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class U extends m.L{notifyNext(a){this.destination.next(a)}notifyError(a){this.destination.error(a)}notifyComplete(){this.destination.complete()}}function f(o,a){if(a.closed)return;if(o instanceof ye.y)return o.subscribe(a);let d;try{d=(0,Xe.s)(o)(a)}catch(u){a.error(u)}return d}},1762:(hn,Mt,se)=>{"use strict";se.d(Mt,{c:()=>e,N:()=>U});var m=se(5529),ye=se(2916),Xe=se(2654),xe=se(4327);class e extends ye.y{constructor(d,u){super(),this.source=d,this.subjectFactory=u,this._refCount=0,this._isComplete=!1}_subscribe(d){return this.getSubject().subscribe(d)}getSubject(){const d=this._subject;return(!d||d.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let d=this._connection;return d||(this._isComplete=!1,d=this._connection=new Xe.w,d.add(this.source.subscribe(new E(this.getSubject(),this))),d.closed&&(this._connection=null,d=Xe.w.EMPTY)),d}refCount(){return(0,xe.x)()(this)}}const U=(()=>{const a=e.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:a._subscribe},_isComplete:{value:a._isComplete,writable:!0},getSubject:{value:a.getSubject},connect:{value:a.connect},refCount:{value:a.refCount}}})();class E extends m.Yc{constructor(d,u){super(d),this.connectable=u}_error(d){this._unsubscribe(),super._error(d)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const d=this.connectable;if(d){this.connectable=null;const u=d._connection;d._refCount=0,d._subject=null,d._connection=null,u&&u.unsubscribe()}}}},1221:(hn,Mt,se)=>{"use strict";se.d(Mt,{z:()=>xe});var m=se(1086),ye=se(9146);function xe(...e){return function Xe(){return(0,ye.J)(1)}()((0,m.of)(...e))}},8514:(hn,Mt,se)=>{"use strict";se.d(Mt,{P:()=>xe});var m=se(2916),ye=se(5254),Xe=se(8896);function xe(e){return new m.y(U=>{let E;try{E=e()}catch(o){return void U.error(o)}return(E?(0,ye.D)(E):(0,Xe.c)()).subscribe(U)})}},8896:(hn,Mt,se)=>{"use strict";se.d(Mt,{E:()=>ye,c:()=>Xe});var m=se(2916);const ye=new m.y(e=>e.complete());function Xe(e){return e?function xe(e){return new m.y(U=>e.schedule(()=>U.complete()))}(e):ye}},5254:(hn,Mt,se)=>{"use strict";se.d(Mt,{D:()=>r});var m=se(2916),ye=se(9249),Xe=se(2654),xe=se(3821),E=se(6454),f=se(5430),d=se(8955),u=se(8515);function r(i,c){return c?function s(i,c){if(null!=i){if(function a(i){return i&&"function"==typeof i[xe.L]}(i))return function e(i,c){return new m.y(h=>{const y=new Xe.w;return y.add(c.schedule(()=>{const v=i[xe.L]();y.add(v.subscribe({next(x){y.add(c.schedule(()=>h.next(x)))},error(x){y.add(c.schedule(()=>h.error(x)))},complete(){y.add(c.schedule(()=>h.complete()))}}))})),y})}(i,c);if((0,d.t)(i))return function U(i,c){return new m.y(h=>{const y=new Xe.w;return y.add(c.schedule(()=>i.then(v=>{y.add(c.schedule(()=>{h.next(v),y.add(c.schedule(()=>h.complete()))}))},v=>{y.add(c.schedule(()=>h.error(v)))}))),y})}(i,c);if((0,u.z)(i))return(0,E.r)(i,c);if(function p(i){return i&&"function"==typeof i[f.hZ]}(i)||"string"==typeof i)return function o(i,c){if(!i)throw new Error("Iterable cannot be null");return new m.y(h=>{const y=new Xe.w;let v;return y.add(()=>{v&&"function"==typeof v.return&&v.return()}),y.add(c.schedule(()=>{v=i[f.hZ](),y.add(c.schedule(function(){if(h.closed)return;let x,w;try{const C=v.next();x=C.value,w=C.done}catch(C){return void h.error(C)}w?h.complete():(h.next(x),this.schedule())}))})),y})}(i,c)}throw new TypeError((null!==i&&typeof i||i)+" is not observable")}(i,c):i instanceof m.y?i:new m.y((0,ye.s)(i))}},3009:(hn,Mt,se)=>{"use strict";se.d(Mt,{n:()=>xe});var m=se(2916),ye=se(3650),Xe=se(6454);function xe(e,U){return U?(0,Xe.r)(e,U):new m.y((0,ye.V)(e))}},3753:(hn,Mt,se)=>{"use strict";se.d(Mt,{R:()=>U});var m=se(2916),ye=se(6688),Xe=se(7043),xe=se(4850);function U(d,u,p,s){return(0,Xe.m)(p)&&(s=p,p=void 0),s?U(d,u,p).pipe((0,xe.U)(r=>(0,ye.k)(r)?s(...r):s(r))):new m.y(r=>{E(d,u,function i(c){r.next(arguments.length>1?Array.prototype.slice.call(arguments):c)},r,p)})}function E(d,u,p,s,r){let i;if(function a(d){return d&&"function"==typeof d.addEventListener&&"function"==typeof d.removeEventListener}(d)){const c=d;d.addEventListener(u,p,r),i=()=>c.removeEventListener(u,p,r)}else if(function o(d){return d&&"function"==typeof d.on&&"function"==typeof d.off}(d)){const c=d;d.on(u,p),i=()=>c.off(u,p)}else if(function f(d){return d&&"function"==typeof d.addListener&&"function"==typeof d.removeListener}(d)){const c=d;d.addListener(u,p),i=()=>c.removeListener(u,p)}else{if(!d||!d.length)throw new TypeError("Invalid event target");for(let c=0,h=d.length;c<h;c++)E(d[c],u,p,s,r)}s.add(i)}},6787:(hn,Mt,se)=>{"use strict";se.d(Mt,{T:()=>e});var m=se(2916),ye=se(2866),Xe=se(9146),xe=se(3009);function e(...U){let E=Number.POSITIVE_INFINITY,f=null,o=U[U.length-1];return(0,ye.K)(o)?(f=U.pop(),U.length>1&&"number"==typeof U[U.length-1]&&(E=U.pop())):"number"==typeof o&&(E=U.pop()),null===f&&1===U.length&&U[0]instanceof m.y?U[0]:(0,Xe.J)(E)((0,xe.n)(U,f))}},1086:(hn,Mt,se)=>{"use strict";se.d(Mt,{of:()=>xe});var m=se(2866),ye=se(3009),Xe=se(6454);function xe(...e){let U=e[e.length-1];return(0,m.K)(U)?(e.pop(),(0,Xe.r)(e,U)):(0,ye.n)(e)}},1737:(hn,Mt,se)=>{"use strict";se.d(Mt,{_:()=>ye});var m=se(2916);function ye(xe,e){return new m.y(e?U=>e.schedule(Xe,0,{error:xe,subscriber:U}):U=>U.error(xe))}function Xe({error:xe,subscriber:e}){e.error(xe)}},2198:(hn,Mt,se)=>{"use strict";se.d(Mt,{h:()=>ye});var m=se(3489);function ye(e,U){return function(f){return f.lift(new Xe(e,U))}}class Xe{constructor(U,E){this.predicate=U,this.thisArg=E}call(U,E){return E.subscribe(new xe(U,this.predicate,this.thisArg))}}class xe extends m.L{constructor(U,E,f){super(U),this.predicate=E,this.thisArg=f,this.count=0}_next(U){let E;try{E=this.predicate.call(this.thisArg,U,this.count++)}catch(f){return void this.destination.error(f)}E&&this.destination.next(U)}}},4850:(hn,Mt,se)=>{"use strict";se.d(Mt,{U:()=>ye});var m=se(3489);function ye(e,U){return function(f){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return f.lift(new Xe(e,U))}}class Xe{constructor(U,E){this.project=U,this.thisArg=E}call(U,E){return E.subscribe(new xe(U,this.project,this.thisArg))}}class xe extends m.L{constructor(U,E,f){super(U),this.project=E,this.count=0,this.thisArg=f||this}_next(U){let E;try{E=this.project.call(this.thisArg,U,this.count++)}catch(f){return void this.destination.error(f)}this.destination.next(E)}}},9146:(hn,Mt,se)=>{"use strict";se.d(Mt,{J:()=>Xe});var m=se(1709),ye=se(5379);function Xe(xe=Number.POSITIVE_INFINITY){return(0,m.zg)(ye.y,xe)}},1709:(hn,Mt,se)=>{"use strict";se.d(Mt,{zg:()=>xe});var m=se(4850),ye=se(5254),Xe=se(1177);function xe(f,o,a=Number.POSITIVE_INFINITY){return"function"==typeof o?d=>d.pipe(xe((u,p)=>(0,ye.D)(f(u,p)).pipe((0,m.U)((s,r)=>o(u,s,p,r))),a)):("number"==typeof o&&(a=o),d=>d.lift(new e(f,a)))}class e{constructor(o,a=Number.POSITIVE_INFINITY){this.project=o,this.concurrent=a}call(o,a){return a.subscribe(new U(o,this.project,this.concurrent))}}class U extends Xe.Ds{constructor(o,a,d=Number.POSITIVE_INFINITY){super(o),this.project=a,this.concurrent=d,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(o){this.active<this.concurrent?this._tryNext(o):this.buffer.push(o)}_tryNext(o){let a;const d=this.index++;try{a=this.project(o,d)}catch(u){return void this.destination.error(u)}this.active++,this._innerSub(a)}_innerSub(o){const a=new Xe.IY(this),d=this.destination;d.add(a);const u=(0,Xe.ft)(o,a);u!==a&&d.add(u)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(o){this.destination.next(o)}notifyComplete(){const o=this.buffer;this.active--,o.length>0?this._next(o.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2536:(hn,Mt,se)=>{"use strict";se.d(Mt,{O:()=>ye});var m=se(1762);function ye(xe,e){return function(E){let f;if(f="function"==typeof xe?xe:function(){return xe},"function"==typeof e)return E.lift(new Xe(f,e));const o=Object.create(E,m.N);return o.source=E,o.subjectFactory=f,o}}class Xe{constructor(e,U){this.subjectFactory=e,this.selector=U}call(e,U){const{selector:E}=this,f=this.subjectFactory(),o=E(f).subscribe(e);return o.add(U.subscribe(f)),o}}},4327:(hn,Mt,se)=>{"use strict";se.d(Mt,{x:()=>ye});var m=se(3489);function ye(){return function(U){return U.lift(new Xe(U))}}class Xe{constructor(U){this.connectable=U}call(U,E){const{connectable:f}=this;f._refCount++;const o=new xe(U,f),a=E.subscribe(o);return o.closed||(o.connection=f.connect()),a}}class xe extends m.L{constructor(U,E){super(U),this.connectable=E}_unsubscribe(){const{connectable:U}=this;if(!U)return void(this.connection=null);this.connectable=null;const E=U._refCount;if(E<=0)return void(this.connection=null);if(U._refCount=E-1,E>1)return void(this.connection=null);const{connection:f}=this,o=U._connection;this.connection=null,o&&(!f||o===f)&&o.unsubscribe()}}},7545:(hn,Mt,se)=>{"use strict";se.d(Mt,{w:()=>xe});var m=se(4850),ye=se(5254),Xe=se(1177);function xe(E,f){return"function"==typeof f?o=>o.pipe(xe((a,d)=>(0,ye.D)(E(a,d)).pipe((0,m.U)((u,p)=>f(a,u,d,p))))):o=>o.lift(new e(E))}class e{constructor(f){this.project=f}call(f,o){return o.subscribe(new U(f,this.project))}}class U extends Xe.Ds{constructor(f,o){super(f),this.project=o,this.index=0}_next(f){let o;const a=this.index++;try{o=this.project(f,a)}catch(d){return void this.destination.error(d)}this._innerSub(o)}_innerSub(f){const o=this.innerSubscription;o&&o.unsubscribe();const a=new Xe.IY(this),d=this.destination;d.add(a),this.innerSubscription=(0,Xe.ft)(f,a),this.innerSubscription!==a&&d.add(this.innerSubscription)}_complete(){const{innerSubscription:f}=this;(!f||f.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(f){this.destination.next(f)}}},2986:(hn,Mt,se)=>{"use strict";se.d(Mt,{q:()=>xe});var m=se(3489),ye=se(4231),Xe=se(8896);function xe(E){return f=>0===E?(0,Xe.c)():f.lift(new e(E))}class e{constructor(f){if(this.total=f,this.total<0)throw new ye.W}call(f,o){return o.subscribe(new U(f,this.total))}}class U extends m.L{constructor(f,o){super(f),this.total=o,this.count=0}_next(f){const o=this.total,a=++this.count;a<=o&&(this.destination.next(f),a===o&&(this.destination.complete(),this.unsubscribe()))}}},2994:(hn,Mt,se)=>{"use strict";se.d(Mt,{b:()=>xe});var m=se(3489),ye=se(7876),Xe=se(7043);function xe(E,f,o){return function(d){return d.lift(new e(E,f,o))}}class e{constructor(f,o,a){this.nextOrObserver=f,this.error=o,this.complete=a}call(f,o){return o.subscribe(new U(f,this.nextOrObserver,this.error,this.complete))}}class U extends m.L{constructor(f,o,a,d){super(f),this._tapNext=ye.Z,this._tapError=ye.Z,this._tapComplete=ye.Z,this._tapError=a||ye.Z,this._tapComplete=d||ye.Z,(0,Xe.m)(o)?(this._context=this,this._tapNext=o):o&&(this._context=o,this._tapNext=o.next||ye.Z,this._tapError=o.error||ye.Z,this._tapComplete=o.complete||ye.Z)}_next(f){try{this._tapNext.call(this._context,f)}catch(o){return void this.destination.error(o)}this.destination.next(f)}_error(f){try{this._tapError.call(this._context,f)}catch(o){return void this.destination.error(o)}this.destination.error(f)}_complete(){try{this._tapComplete.call(this._context)}catch(f){return void this.destination.error(f)}return this.destination.complete()}}},6454:(hn,Mt,se)=>{"use strict";se.d(Mt,{r:()=>Xe});var m=se(2916),ye=se(2654);function Xe(xe,e){return new m.y(U=>{const E=new ye.w;let f=0;return E.add(e.schedule(function(){f!==xe.length?(U.next(xe[f++]),U.closed||E.add(this.schedule())):U.complete()})),E})}},5430:(hn,Mt,se)=>{"use strict";se.d(Mt,{hZ:()=>ye});const ye=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(hn,Mt,se)=>{"use strict";se.d(Mt,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(hn,Mt,se)=>{"use strict";se.d(Mt,{b:()=>m});const m="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(hn,Mt,se)=>{"use strict";se.d(Mt,{W:()=>ye});const ye=(()=>{function Xe(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return Xe.prototype=Object.create(Error.prototype),Xe})()},5279:(hn,Mt,se)=>{"use strict";se.d(Mt,{N:()=>ye});const ye=(()=>{function Xe(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Xe.prototype=Object.create(Error.prototype),Xe})()},2782:(hn,Mt,se)=>{"use strict";function m(ye){setTimeout(()=>{throw ye},0)}se.d(Mt,{z:()=>m})},5379:(hn,Mt,se)=>{"use strict";function m(ye){return ye}se.d(Mt,{y:()=>m})},6688:(hn,Mt,se)=>{"use strict";se.d(Mt,{k:()=>m});const m=Array.isArray||(ye=>ye&&"number"==typeof ye.length)},8515:(hn,Mt,se)=>{"use strict";se.d(Mt,{z:()=>m});const m=ye=>ye&&"number"==typeof ye.length&&"function"!=typeof ye},7043:(hn,Mt,se)=>{"use strict";function m(ye){return"function"==typeof ye}se.d(Mt,{m:()=>m})},7830:(hn,Mt,se)=>{"use strict";function m(ye){return null!==ye&&"object"==typeof ye}se.d(Mt,{K:()=>m})},8955:(hn,Mt,se)=>{"use strict";function m(ye){return!!ye&&"function"!=typeof ye.subscribe&&"function"==typeof ye.then}se.d(Mt,{t:()=>m})},2866:(hn,Mt,se)=>{"use strict";function m(ye){return ye&&"function"==typeof ye.schedule}se.d(Mt,{K:()=>m})},7876:(hn,Mt,se)=>{"use strict";function m(){}se.d(Mt,{Z:()=>m})},9249:(hn,Mt,se)=>{"use strict";se.d(Mt,{s:()=>d});var m=se(3650),ye=se(2782),xe=se(5430),U=se(3821),f=se(8515),o=se(8955),a=se(7830);const d=u=>{if(u&&"function"==typeof u[U.L])return(u=>p=>{const s=u[U.L]();if("function"!=typeof s.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return s.subscribe(p)})(u);if((0,f.z)(u))return(0,m.V)(u);if((0,o.t)(u))return(u=>p=>(u.then(s=>{p.closed||(p.next(s),p.complete())},s=>p.error(s)).then(null,ye.z),p))(u);if(u&&"function"==typeof u[xe.hZ])return(u=>p=>{const s=u[xe.hZ]();for(;;){let r;try{r=s.next()}catch(i){return p.error(i),p}if(r.done){p.complete();break}if(p.next(r.value),p.closed)break}return"function"==typeof s.return&&p.add(()=>{s.return&&s.return()}),p})(u);{const s=`You provided ${(0,a.K)(u)?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(s)}}},3650:(hn,Mt,se)=>{"use strict";se.d(Mt,{V:()=>m});const m=ye=>Xe=>{for(let xe=0,e=ye.length;xe<e&&!Xe.closed;xe++)Xe.next(ye[xe]);Xe.complete()}},7757:(hn,Mt,se)=>{hn.exports=se(7854)},863:(hn,Mt,se)=>{var m={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,8592,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8592,5652],"./ion-card_5.entry.js":[388,8592,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,8592,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime_3.entry.js":[4959,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[1283,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,8592,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[3545,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,8592,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,8592,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function ye(Xe){if(!se.o(m,Xe))return Promise.resolve().then(()=>{var U=new Error("Cannot find module '"+Xe+"'");throw U.code="MODULE_NOT_FOUND",U});var xe=m[Xe],e=xe[0];return Promise.all(xe.slice(1).map(se.e)).then(()=>se(e))}ye.keys=()=>Object.keys(m),ye.id=863,hn.exports=ye},655:(hn,Mt,se)=>{"use strict";se.d(Mt,{ZT:()=>ye,gn:()=>e,mG:()=>f});var m=function(j,B){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,ee){G.__proto__=ee}||function(G,ee){for(var $ in ee)Object.prototype.hasOwnProperty.call(ee,$)&&(G[$]=ee[$])})(j,B)};function ye(j,B){if("function"!=typeof B&&null!==B)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function G(){this.constructor=j}m(j,B),j.prototype=null===B?Object.create(B):(G.prototype=B.prototype,new G)}function e(j,B,G,ee){var Z,$=arguments.length,H=$<3?B:null===ee?ee=Object.getOwnPropertyDescriptor(B,G):ee;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(j,B,G,ee);else for(var oe=j.length-1;oe>=0;oe--)(Z=j[oe])&&(H=($<3?Z(H):$>3?Z(B,G,H):Z(B,G))||H);return $>3&&H&&Object.defineProperty(B,G,H),H}function f(j,B,G,ee){return new(G||(G=Promise))(function(H,Z){function oe(me){try{te(ee.next(me))}catch(ce){Z(ce)}}function Q(me){try{te(ee.throw(me))}catch(ce){Z(ce)}}function te(me){me.done?H(me.value):function $(H){return H instanceof G?H:new G(function(Z){Z(H)})}(me.value).then(oe,Q)}te((ee=ee.apply(j,B||[])).next())})}},9808:(hn,Mt,se)=>{"use strict";se.d(Mt,{mr:()=>y,ez:()=>Nr,K0:()=>E,Do:()=>x,V_:()=>a,Ye:()=>w,S$:()=>c,sg:()=>sr,O5:()=>Ge,tP:()=>Cn,b0:()=>v,lw:()=>f,EM:()=>vi,JF:()=>Wr,NF:()=>zr,w_:()=>U,bD:()=>mi,q:()=>Xe,Mx:()=>$n,HT:()=>e});var m=se(9863);let ye=null;function Xe(){return ye}function e(Se){ye||(ye=Se)}class U{}const E=new m.OlP("DocumentToken");let f=(()=>{class Se{historyGo(Ce){throw new Error("Not implemented")}}return Se.\u0275fac=function(Ce){return new(Ce||Se)},Se.\u0275prov=m.Yz7({token:Se,factory:function(){return function o(){return(0,m.LFG)(d)}()},providedIn:"platform"}),Se})();const a=new m.OlP("Location Initialized");let d=(()=>{class Se extends f{constructor(Ce){super(),this._doc=Ce,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xe().getBaseHref(this._doc)}onPopState(Ce){const Ke=Xe().getGlobalEventTarget(this._doc,"window");return Ke.addEventListener("popstate",Ce,!1),()=>Ke.removeEventListener("popstate",Ce)}onHashChange(Ce){const Ke=Xe().getGlobalEventTarget(this._doc,"window");return Ke.addEventListener("hashchange",Ce,!1),()=>Ke.removeEventListener("hashchange",Ce)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(Ce){this.location.pathname=Ce}pushState(Ce,Ke,Ct){u()?this._history.pushState(Ce,Ke,Ct):this.location.hash=Ct}replaceState(Ce,Ke,Ct){u()?this._history.replaceState(Ce,Ke,Ct):this.location.hash=Ct}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ce=0){this._history.go(Ce)}getState(){return this._history.state}}return Se.\u0275fac=function(Ce){return new(Ce||Se)(m.LFG(E))},Se.\u0275prov=m.Yz7({token:Se,factory:function(){return function p(){return new d((0,m.LFG)(E))}()},providedIn:"platform"}),Se})();function u(){return!!window.history.pushState}function s(Se,Ye){if(0==Se.length)return Ye;if(0==Ye.length)return Se;let Ce=0;return Se.endsWith("/")&&Ce++,Ye.startsWith("/")&&Ce++,2==Ce?Se+Ye.substring(1):1==Ce?Se+Ye:Se+"/"+Ye}function r(Se){const Ye=Se.match(/#|\?|$/),Ce=Ye&&Ye.index||Se.length;return Se.slice(0,Ce-("/"===Se[Ce-1]?1:0))+Se.slice(Ce)}function i(Se){return Se&&"?"!==Se[0]?"?"+Se:Se}let c=(()=>{class Se{historyGo(Ce){throw new Error("Not implemented")}}return Se.\u0275fac=function(Ce){return new(Ce||Se)},Se.\u0275prov=m.Yz7({token:Se,factory:function(){return function h(Se){const Ye=(0,m.LFG)(E).location;return new v((0,m.LFG)(f),Ye&&Ye.origin||"")}()},providedIn:"root"}),Se})();const y=new m.OlP("appBaseHref");let v=(()=>{class Se extends c{constructor(Ce,Ke){if(super(),this._platformLocation=Ce,this._removeListenerFns=[],null==Ke&&(Ke=this._platformLocation.getBaseHrefFromDOM()),null==Ke)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Ke}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ce){this._removeListenerFns.push(this._platformLocation.onPopState(Ce),this._platformLocation.onHashChange(Ce))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ce){return s(this._baseHref,Ce)}path(Ce=!1){const Ke=this._platformLocation.pathname+i(this._platformLocation.search),Ct=this._platformLocation.hash;return Ct&&Ce?`${Ke}${Ct}`:Ke}pushState(Ce,Ke,Ct,zt){const O=this.prepareExternalUrl(Ct+i(zt));this._platformLocation.pushState(Ce,Ke,O)}replaceState(Ce,Ke,Ct,zt){const O=this.prepareExternalUrl(Ct+i(zt));this._platformLocation.replaceState(Ce,Ke,O)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(Ce=0){var Ke,Ct;null===(Ct=(Ke=this._platformLocation).historyGo)||void 0===Ct||Ct.call(Ke,Ce)}}return Se.\u0275fac=function(Ce){return new(Ce||Se)(m.LFG(f),m.LFG(y,8))},Se.\u0275prov=m.Yz7({token:Se,factory:Se.\u0275fac}),Se})(),x=(()=>{class Se extends c{constructor(Ce,Ke){super(),this._platformLocation=Ce,this._baseHref="",this._removeListenerFns=[],null!=Ke&&(this._baseHref=Ke)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ce){this._removeListenerFns.push(this._platformLocation.onPopState(Ce),this._platformLocation.onHashChange(Ce))}getBaseHref(){return this._baseHref}path(Ce=!1){let Ke=this._platformLocation.hash;return null==Ke&&(Ke="#"),Ke.length>0?Ke.substring(1):Ke}prepareExternalUrl(Ce){const Ke=s(this._baseHref,Ce);return Ke.length>0?"#"+Ke:Ke}pushState(Ce,Ke,Ct,zt){let O=this.prepareExternalUrl(Ct+i(zt));0==O.length&&(O=this._platformLocation.pathname),this._platformLocation.pushState(Ce,Ke,O)}replaceState(Ce,Ke,Ct,zt){let O=this.prepareExternalUrl(Ct+i(zt));0==O.length&&(O=this._platformLocation.pathname),this._platformLocation.replaceState(Ce,Ke,O)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(Ce=0){var Ke,Ct;null===(Ct=(Ke=this._platformLocation).historyGo)||void 0===Ct||Ct.call(Ke,Ce)}}return Se.\u0275fac=function(Ce){return new(Ce||Se)(m.LFG(f),m.LFG(y,8))},Se.\u0275prov=m.Yz7({token:Se,factory:Se.\u0275fac}),Se})(),w=(()=>{class Se{constructor(Ce,Ke){this._subject=new m.vpe,this._urlChangeListeners=[],this._platformStrategy=Ce;const Ct=this._platformStrategy.getBaseHref();this._platformLocation=Ke,this._baseHref=r(M(Ct)),this._platformStrategy.onPopState(zt=>{this._subject.emit({url:this.path(!0),pop:!0,state:zt.state,type:zt.type})})}path(Ce=!1){return this.normalize(this._platformStrategy.path(Ce))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(Ce,Ke=""){return this.path()==this.normalize(Ce+i(Ke))}normalize(Ce){return Se.stripTrailingSlash(function N(Se,Ye){return Se&&Ye.startsWith(Se)?Ye.substring(Se.length):Ye}(this._baseHref,M(Ce)))}prepareExternalUrl(Ce){return Ce&&"/"!==Ce[0]&&(Ce="/"+Ce),this._platformStrategy.prepareExternalUrl(Ce)}go(Ce,Ke="",Ct=null){this._platformStrategy.pushState(Ct,"",Ce,Ke),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ce+i(Ke)),Ct)}replaceState(Ce,Ke="",Ct=null){this._platformStrategy.replaceState(Ct,"",Ce,Ke),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ce+i(Ke)),Ct)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(Ce=0){var Ke,Ct;null===(Ct=(Ke=this._platformStrategy).historyGo)||void 0===Ct||Ct.call(Ke,Ce)}onUrlChange(Ce){this._urlChangeListeners.push(Ce),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Ke=>{this._notifyUrlChangeListeners(Ke.url,Ke.state)}))}_notifyUrlChangeListeners(Ce="",Ke){this._urlChangeListeners.forEach(Ct=>Ct(Ce,Ke))}subscribe(Ce,Ke,Ct){return this._subject.subscribe({next:Ce,error:Ke,complete:Ct})}}return Se.normalizeQueryParams=i,Se.joinWithSlash=s,Se.stripTrailingSlash=r,Se.\u0275fac=function(Ce){return new(Ce||Se)(m.LFG(c),m.LFG(f))},Se.\u0275prov=m.Yz7({token:Se,factory:function(){return function C(){return new w((0,m.LFG)(c),(0,m.LFG)(f))}()},providedIn:"root"}),Se})();function M(Se){return Se.replace(/\/index.html$/,"")}function $n(Se,Ye){Ye=encodeURIComponent(Ye);for(const Ce of Se.split(";")){const Ke=Ce.indexOf("="),[Ct,zt]=-1==Ke?[Ce,""]:[Ce.slice(0,Ke),Ce.slice(Ke+1)];if(Ct.trim()===Ye)return decodeURIComponent(zt)}return null}class Kn{constructor(Ye,Ce,Ke,Ct){this.$implicit=Ye,this.ngForOf=Ce,this.index=Ke,this.count=Ct}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let sr=(()=>{class Se{constructor(Ce,Ke,Ct){this._viewContainer=Ce,this._template=Ke,this._differs=Ct,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(Ce){this._ngForOf=Ce,this._ngForOfDirty=!0}set ngForTrackBy(Ce){this._trackByFn=Ce}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(Ce){Ce&&(this._template=Ce)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ce=this._ngForOf;!this._differ&&Ce&&(this._differ=this._differs.find(Ce).create(this.ngForTrackBy))}if(this._differ){const Ce=this._differ.diff(this._ngForOf);Ce&&this._applyChanges(Ce)}}_applyChanges(Ce){const Ke=this._viewContainer;Ce.forEachOperation((Ct,zt,O)=>{if(null==Ct.previousIndex)Ke.createEmbeddedView(this._template,new Kn(Ct.item,this._ngForOf,-1,-1),null===O?void 0:O);else if(null==O)Ke.remove(null===zt?void 0:zt);else if(null!==zt){const Ee=Ke.get(zt);Ke.move(Ee,O),Qn(Ee,Ct)}});for(let Ct=0,zt=Ke.length;Ct<zt;Ct++){const Ee=Ke.get(Ct).context;Ee.index=Ct,Ee.count=zt,Ee.ngForOf=this._ngForOf}Ce.forEachIdentityChange(Ct=>{Qn(Ke.get(Ct.currentIndex),Ct)})}static ngTemplateContextGuard(Ce,Ke){return!0}}return Se.\u0275fac=function(Ce){return new(Ce||Se)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},Se.\u0275dir=m.lG2({type:Se,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Se})();function Qn(Se,Ye){Se.context.$implicit=Ye.item}let Ge=(()=>{class Se{constructor(Ce,Ke){this._viewContainer=Ce,this._context=new st,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ke}set ngIf(Ce){this._context.$implicit=this._context.ngIf=Ce,this._updateView()}set ngIfThen(Ce){Tt("ngIfThen",Ce),this._thenTemplateRef=Ce,this._thenViewRef=null,this._updateView()}set ngIfElse(Ce){Tt("ngIfElse",Ce),this._elseTemplateRef=Ce,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ce,Ke){return!0}}return Se.\u0275fac=function(Ce){return new(Ce||Se)(m.Y36(m.s_b),m.Y36(m.Rgc))},Se.\u0275dir=m.lG2({type:Se,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Se})();class st{constructor(){this.$implicit=null,this.ngIf=null}}function Tt(Se,Ye){if(Ye&&!Ye.createEmbeddedView)throw new Error(`${Se} must be a TemplateRef, but received '${(0,m.AaK)(Ye)}'.`)}let Cn=(()=>{class Se{constructor(Ce){this._viewContainerRef=Ce,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(Ce){if(Ce.ngTemplateOutlet){const Ke=this._viewContainerRef;this._viewRef&&Ke.remove(Ke.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?Ke.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&Ce.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return Se.\u0275fac=function(Ce){return new(Ce||Se)(m.Y36(m.s_b))},Se.\u0275dir=m.lG2({type:Se,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[m.TTD]}),Se})(),Nr=(()=>{class Se{}return Se.\u0275fac=function(Ce){return new(Ce||Se)},Se.\u0275mod=m.oAB({type:Se}),Se.\u0275inj=m.cJS({}),Se})();const mi="browser";function zr(Se){return Se===mi}let vi=(()=>{class Se{}return Se.\u0275prov=(0,m.Yz7)({token:Se,providedIn:"root",factory:()=>new Kr((0,m.LFG)(E),window)}),Se})();class Kr{constructor(Ye,Ce){this.document=Ye,this.window=Ce,this.offset=()=>[0,0]}setOffset(Ye){this.offset=Array.isArray(Ye)?()=>Ye:Ye}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Ye){this.supportsScrolling()&&this.window.scrollTo(Ye[0],Ye[1])}scrollToAnchor(Ye){if(!this.supportsScrolling())return;const Ce=function Si(Se,Ye){const Ce=Se.getElementById(Ye)||Se.getElementsByName(Ye)[0];if(Ce)return Ce;if("function"==typeof Se.createTreeWalker&&Se.body&&(Se.body.createShadowRoot||Se.body.attachShadow)){const Ke=Se.createTreeWalker(Se.body,NodeFilter.SHOW_ELEMENT);let Ct=Ke.currentNode;for(;Ct;){const zt=Ct.shadowRoot;if(zt){const O=zt.getElementById(Ye)||zt.querySelector(`[name="${Ye}"]`);if(O)return O}Ct=Ke.nextNode()}}return null}(this.document,Ye);Ce&&(this.scrollToElement(Ce),Ce.focus())}setHistoryScrollRestoration(Ye){if(this.supportScrollRestoration()){const Ce=this.window.history;Ce&&Ce.scrollRestoration&&(Ce.scrollRestoration=Ye)}}scrollToElement(Ye){const Ce=Ye.getBoundingClientRect(),Ke=Ce.left+this.window.pageXOffset,Ct=Ce.top+this.window.pageYOffset,zt=this.offset();this.window.scrollTo(Ke-zt[0],Ct-zt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Ye=_i(this.window.history)||_i(Object.getPrototypeOf(this.window.history));return!(!Ye||!Ye.writable&&!Ye.set)}catch(Ye){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Ye){return!1}}}function _i(Se){return Object.getOwnPropertyDescriptor(Se,"scrollRestoration")}class Wr{}},9863:(hn,Mt,se)=>{"use strict";se.d(Mt,{deG:()=>hr,tb:()=>sm,AFp:()=>tm,ip1:()=>em,CZH:()=>zu,hGG:()=>$1,z2F:()=>Qu,sBO:()=>T1,Sil:()=>l1,_Vd:()=>ja,EJc:()=>o1,SBq:()=>Vo,qLn:()=>ca,vpe:()=>Zi,tBr:()=>sa,XFs:()=>Qe,OlP:()=>Vn,zs3:()=>ji,ZZ4:()=>ic,aQg:()=>sc,soG:()=>Yu,YKP:()=>gp,h0i:()=>no,PXZ:()=>b1,R0b:()=>Ni,FiY:()=>wo,Lbi:()=>im,g9A:()=>rm,Qsj:()=>K0,FYo:()=>hp,JOm:()=>zi,q3G:()=>kr,tp0:()=>xo,Rgc:()=>zo,dDg:()=>um,GfV:()=>fp,s_b:()=>La,ifc:()=>We,eFA:()=>hm,G48:()=>S1,Gpc:()=>s,_c5:()=>G1,VLi:()=>y1,c2e:()=>om,zSh:()=>Jl,wAp:()=>Un,vHH:()=>h,EiD:()=>Vc,mCW:()=>Co,qzn:()=>js,JVY:()=>og,pB0:()=>cg,eBb:()=>lg,L6k:()=>ag,LAX:()=>ug,cg1:()=>xu,kL8:()=>Lf,yhl:()=>jc,dqk:()=>Me,sIi:()=>jo,CqO:()=>Uh,QGY:()=>mu,F4k:()=>Bh,RDi:()=>Wr,AaK:()=>d,z3N:()=>Xi,qOj:()=>tu,TTD:()=>Or,_Bn:()=>up,xp6:()=>bd,uIk:()=>iu,ekj:()=>vu,Suo:()=>jp,Xpm:()=>S,lG2:()=>tt,Yz7:()=>we,cJS:()=>Te,oAB:()=>V,Yjl:()=>dt,Y36:()=>Ro,_UZ:()=>du,GkF:()=>pu,qZA:()=>Ca,TgZ:()=>Ea,EpF:()=>Nh,n5z:()=>X,LFG:()=>Yr,$8M:()=>be,$Z:()=>Fh,NdJ:()=>gu,CRH:()=>kp,oxw:()=>Hh,Hsn:()=>Wh,F$t:()=>zh,Q6J:()=>uu,MGl:()=>Da,DdM:()=>bp,iGM:()=>Ip,CHM:()=>D,LSH:()=>dl,Akn:()=>Ri,YNc:()=>Sh,_uU:()=>yf,Oqu:()=>bu,hij:()=>Ta,AsE:()=>wu,Gf:()=>Op});var m=se(5529),ye=se(2654),Xe=se(2916),xe=se(6787),e=se(2536),U=se(4327);function E(){return new m.xQ}function o(t){for(let n in t)if(t[n]===o)return n;throw Error("Could not find renamed property on target object.")}function a(t,n){for(const l in n)n.hasOwnProperty(l)&&!t.hasOwnProperty(l)&&(t[l]=n[l])}function d(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(d).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const l=n.indexOf("\n");return-1===l?n:n.substring(0,l)}function u(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const p=o({__forward_ref__:o});function s(t){return t.__forward_ref__=s,t.toString=function(){return d(this())},t}function r(t){return i(t)?t():t}function i(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===s}class h extends Error{constructor(n,l){super(function y(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,l)),this.code=n}}function v(t){return"string"==typeof t?t:null==t?"":String(t)}function x(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():v(t)}function M(t,n){const l=n?` in ${n}`:"";throw new h(-201,`No provider for ${x(t)} found${l}`)}function he(t,n){null==t&&function Ae(t,n,l,g){throw new Error(`ASSERTION ERROR: ${t}`+(null==g?"":` [Expected=> ${l} ${g} ${n} <=Actual]`))}(n,t,null,"!=")}function we(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Te(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ie(t){return Ve(t,Re)||Ve(t,ut)}function Ve(t,n){return t.hasOwnProperty(n)?t[n]:null}function mt(t){return t&&(t.hasOwnProperty(ot)||t.hasOwnProperty(ft))?t[ot]:null}const Re=o({\u0275prov:o}),ot=o({\u0275inj:o}),ut=o({ngInjectableDef:o}),ft=o({ngInjectorDef:o});var Qe=(()=>((Qe=Qe||{})[Qe.Default=0]="Default",Qe[Qe.Host=1]="Host",Qe[Qe.Self=2]="Self",Qe[Qe.SkipSelf=4]="SkipSelf",Qe[Qe.Optional=8]="Optional",Qe))();let jt;function $t(t){const n=jt;return jt=t,n}function Ot(t,n,l){const g=Ie(t);return g&&"root"==g.providedIn?void 0===g.value?g.value=g.factory():g.value:l&Qe.Optional?null:void 0!==n?n:void M(d(t),"Injector")}function It(t){return{toString:t}.toString()}var Je=(()=>((Je=Je||{})[Je.OnPush=0]="OnPush",Je[Je.Default=1]="Default",Je))(),We=(()=>{return(t=We||(We={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",We;var t})();const yt="undefined"!=typeof globalThis&&globalThis,lt="undefined"!=typeof window&&window,ke="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Me=yt||"undefined"!=typeof global&&global||lt||ke,xt={},Lt=[],Kt=o({\u0275cmp:o}),cn=o({\u0275dir:o}),nn=o({\u0275pipe:o}),Wt=o({\u0275mod:o}),bn=o({\u0275fac:o}),W=o({__NG_ELEMENT_ID__:o});let le=0;function S(t){return It(()=>{const l={},g={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Je.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Lt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||We.Emulated,id:"c",styles:t.styles||Lt,_:null,setInput:null,schemas:t.schemas||null,tView:null},b=t.directives,T=t.features,z=t.pipes;return g.id+=le++,g.inputs=ue(t.inputs,l),g.outputs=ue(t.outputs),T&&T.forEach(ie=>ie(g)),g.directiveDefs=b?()=>("function"==typeof b?b():b).map(J):null,g.pipeDefs=z?()=>("function"==typeof z?z():z).map(de):null,g})}function J(t){return kt(t)||function pn(t){return t[cn]||null}(t)}function de(t){return function Ln(t){return t[nn]||null}(t)}const ne={};function V(t){return It(()=>{const n={type:t.type,bootstrap:t.bootstrap||Lt,declarations:t.declarations||Lt,imports:t.imports||Lt,exports:t.exports||Lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(ne[t.id]=t.type),n})}function ue(t,n){if(null==t)return xt;const l={};for(const g in t)if(t.hasOwnProperty(g)){let b=t[g],T=b;Array.isArray(b)&&(T=b[1],b=b[0]),l[b]=g,n&&(n[b]=T)}return l}const tt=S;function dt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function kt(t){return t[Kt]||null}function Zn(t,n){const l=t[Wt]||null;if(!l&&!0===n)throw new Error(`Type ${d(t)} does not have '\u0275mod' property.`);return l}function Xt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Zt(t){return Array.isArray(t)&&!0===t[1]}function on(t){return 0!=(8&t.flags)}function _n(t){return 2==(2&t.flags)}function Cn(t){return 1==(1&t.flags)}function Mn(t){return null!==t.template}function Gn(t){return 0!=(512&t[2])}function Dr(t,n){return t.hasOwnProperty(bn)?t[bn]:null}class Fr{constructor(n,l,g){this.previousValue=n,this.currentValue=l,this.firstChange=g}isFirstChange(){return this.firstChange}}function Or(){return Nr}function Nr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Hr),mi}function mi(){const t=Qr(this),n=null==t?void 0:t.current;if(n){const l=t.previous;if(l===xt)t.previous=n;else for(let g in n)l[g]=n[g];t.current=null,this.ngOnChanges(n)}}function Hr(t,n,l,g){const b=Qr(t)||function zr(t,n){return t[ui]=n}(t,{previous:xt,current:null}),T=b.current||(b.current={}),z=b.previous,ie=this.declaredInputs[l],pe=z[ie];T[ie]=new Fr(pe&&pe.currentValue,n,z===xt),t[g]=n}Or.ngInherit=!0;const ui="__ngSimpleChanges__";function Qr(t){return t[ui]||null}let ci;function Wr(t){ci=t}function Ce(t){return!!t.listen}const Ke={createRenderer:(t,n)=>function Se(){return void 0!==ci?ci:"undefined"!=typeof document?document:void 0}()};function zt(t){for(;Array.isArray(t);)t=t[0];return t}function L(t,n){return zt(n[t])}function _e(t,n){return zt(n[t.index])}function Bt(t,n){return t.data[n]}function gn(t,n){const l=n[t];return Xt(l)?l:l[0]}function jn(t){return 4==(4&t[2])}function Jn(t){return 128==(128&t[2])}function zn(t,n){return null==n?null:t[n]}function vr(t){t[18]=0}function Pe(t,n){t[5]+=n;let l=t,g=t[3];for(;null!==g&&(1===n&&1===l[5]||-1===n&&0===l[5]);)g[5]+=n,l=g,g=g[3]}const fe={lFrame:ei(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function _r(){return fe.bindingsEnabled}function dn(){return fe.lFrame.lView}function _(){return fe.lFrame.tView}function D(t){return fe.lFrame.contextLView=t,t[8]}function P(){let t=R();for(;null!==t&&64===t.type;)t=t.parent;return t}function R(){return fe.lFrame.currentTNode}function ve(t,n){const l=fe.lFrame;l.currentTNode=t,l.isParent=n}function De(){return fe.lFrame.isParent}function ze(){fe.lFrame.isParent=!1}function Et(){return fe.isInCheckNoChangesMode}function Nt(t){fe.isInCheckNoChangesMode=t}function Ht(){return fe.lFrame.bindingIndex++}function Yt(t){const n=fe.lFrame,l=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,l}function An(t,n){const l=fe.lFrame;l.bindingIndex=l.bindingRootIndex=t,Sn(n)}function Sn(t){fe.lFrame.currentDirectiveIndex=t}function Wn(){return fe.lFrame.currentQueryIndex}function dr(t){fe.lFrame.currentQueryIndex=t}function xr(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function Cr(t,n,l){if(l&Qe.SkipSelf){let b=n,T=t;for(;!(b=b.parent,null!==b||l&Qe.Host||(b=xr(T),null===b||(T=T[15],10&b.type))););if(null===b)return!1;n=b,t=T}const g=fe.lFrame=jr();return g.currentTNode=n,g.lView=t,!0}function Ar(t){const n=jr(),l=t[1];fe.lFrame=n,n.currentTNode=l.firstChild,n.lView=t,n.tView=l,n.contextLView=t,n.bindingIndex=l.bindingStartIndex,n.inI18n=!1}function jr(){const t=fe.lFrame,n=null===t?null:t.child;return null===n?ei(t):n}function ei(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ar(){const t=fe.lFrame;return fe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const pr=ar;function rr(){const t=ar();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ir(){return fe.lFrame.selectedIndex}function er(t){fe.lFrame.selectedIndex=t}function qn(){const t=fe.lFrame;return Bt(t.tView,t.selectedIndex)}function _s(t,n){for(let l=n.directiveStart,g=n.directiveEnd;l<g;l++){const T=t.data[l].type.prototype,{ngAfterContentInit:z,ngAfterContentChecked:ie,ngAfterViewInit:pe,ngAfterViewChecked:Le,ngOnDestroy:He}=T;z&&(t.contentHooks||(t.contentHooks=[])).push(-l,z),ie&&((t.contentHooks||(t.contentHooks=[])).push(l,ie),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(l,ie)),pe&&(t.viewHooks||(t.viewHooks=[])).push(-l,pe),Le&&((t.viewHooks||(t.viewHooks=[])).push(l,Le),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(l,Le)),null!=He&&(t.destroyHooks||(t.destroyHooks=[])).push(l,He)}}function bs(t,n,l){ws(t,n,3,l)}function os(t,n,l,g){(3&t[2])===l&&ws(t,n,l,g)}function so(t,n){let l=t[2];(3&l)===n&&(l&=2047,l+=1,t[2]=l)}function ws(t,n,l,g){const T=null!=g?g:-1,z=n.length-1;let ie=0;for(let pe=void 0!==g?65535&t[18]:0;pe<z;pe++)if("number"==typeof n[pe+1]){if(ie=n[pe],null!=g&&ie>=g)break}else n[pe]<0&&(t[18]+=65536),(ie<T||-1==T)&&(qo(t,l,n,pe),t[18]=(4294901760&t[18])+pe+2),pe++}function qo(t,n,l,g){const b=l[g]<0,T=l[g+1],ie=t[b?-l[g]:l[g]];if(b){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{T.call(ie)}finally{}}}else try{T.call(ie)}finally{}}class as{constructor(n,l,g){this.factory=n,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=g}}function xs(t,n,l){const g=Ce(t);let b=0;for(;b<l.length;){const T=l[b];if("number"==typeof T){if(0!==T)break;b++;const z=l[b++],ie=l[b++],pe=l[b++];g?t.setAttribute(n,ie,pe,z):n.setAttributeNS(z,ie,pe)}else{const z=T,ie=l[++b];lo(z)?g&&t.setProperty(n,z,ie):g?t.setAttribute(n,z,ie):n.setAttribute(z,ie),b++}}return b}function Zr(t){return 3===t||4===t||6===t}function lo(t){return 64===t.charCodeAt(0)}function us(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let l=-1;for(let g=0;g<n.length;g++){const b=n[g];"number"==typeof b?l=b:0===l||cs(t,l,b,null,-1===l||2===l?n[++g]:null)}}return t}function cs(t,n,l,g,b){let T=0,z=t.length;if(-1===n)z=-1;else for(;T<t.length;){const ie=t[T++];if("number"==typeof ie){if(ie===n){z=-1;break}if(ie>n){z=T-1;break}}}for(;T<t.length;){const ie=t[T];if("number"==typeof ie)break;if(ie===l){if(null===g)return void(null!==b&&(t[T+1]=b));if(g===t[T+1])return void(t[T+2]=b)}T++,null!==g&&T++,null!==b&&T++}-1!==z&&(t.splice(z,0,n),T=z+1),t.splice(T++,0,l),null!==g&&t.splice(T++,0,g),null!==b&&t.splice(T++,0,b)}function Es(t){return-1!==t}function bi(t){return 32767&t}function es(t,n){let l=function Ya(t){return t>>16}(t),g=n;for(;l>0;)g=g[15],l--;return g}let Cs=!0;function ds(t){const n=Cs;return Cs=t,n}let gc=0;function ts(t,n){const l=ho(t,n);if(-1!==l)return l;const g=n[1];g.firstCreatePass&&(t.injectorIndex=n.length,co(g.data,t),co(n,null),co(g.blueprint,null));const b=Ss(t,n),T=t.injectorIndex;if(Es(b)){const z=bi(b),ie=es(b,n),pe=ie[1].data;for(let Le=0;Le<8;Le++)n[T+Le]=ie[z+Le]|pe[z+Le]}return n[T+8]=b,T}function co(t,n){t.push(0,0,0,0,0,0,0,0,n)}function ho(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Ss(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let l=0,g=null,b=n;for(;null!==b;){const T=b[1],z=T.type;if(g=2===z?T.declTNode:1===z?b[6]:null,null===g)return-1;if(l++,b=b[15],-1!==g.injectorIndex)return g.injectorIndex|l<<16}return-1}function Ts(t,n,l){!function Ji(t,n,l){let g;"string"==typeof l?g=l.charCodeAt(0)||0:l.hasOwnProperty(W)&&(g=l[W]),null==g&&(g=l[W]=gc++);const b=255&g;n.data[t+(b>>5)]|=1<<b}(t,n,l)}function Jo(t,n,l){if(l&Qe.Optional)return t;M(n,"NodeInjector")}function fo(t,n,l,g){if(l&Qe.Optional&&void 0===g&&(g=null),0==(l&(Qe.Self|Qe.Host))){const b=t[9],T=$t(void 0);try{return b?b.get(n,g,l&Qe.Optional):Ot(n,g,l&Qe.Optional)}finally{$t(T)}}return Jo(g,n,l)}function Xo(t,n,l,g=Qe.Default,b){if(null!==t){const T=function Ko(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(W)?t[W]:void 0;return"number"==typeof n?n>=0?255&n:Ja:n}(l);if("function"==typeof T){if(!Cr(n,t,g))return g&Qe.Host?Jo(b,l,g):fo(n,l,g,b);try{const z=T(g);if(null!=z||g&Qe.Optional)return z;M(l)}finally{pr()}}else if("number"==typeof T){let z=null,ie=ho(t,n),pe=-1,Le=g&Qe.Host?n[16][6]:null;for((-1===ie||g&Qe.SkipSelf)&&(pe=-1===ie?Ss(t,n):n[ie+8],-1!==pe&&Xa(g,!1)?(z=n[1],ie=bi(pe),n=es(pe,n)):ie=-1);-1!==ie;){const He=n[1];if(ea(T,ie,He.data)){const ht=po(ie,n,l,z,g,Le);if(ht!==Qo)return ht}pe=n[ie+8],-1!==pe&&Xa(g,n[1].data[ie+8]===Le)&&ea(T,ie,n)?(z=He,ie=bi(pe),n=es(pe,n)):ie=-1}}}return fo(n,l,g,b)}const Qo={};function Ja(){return new ae(P(),dn())}function po(t,n,l,g,b,T){const z=n[1],ie=z.data[t+8],He=Ms(ie,z,l,null==g?_n(ie)&&Cs:g!=z&&0!=(3&ie.type),b&Qe.Host&&T===ie);return null!==He?hs(n,z,He,ie):Qo}function Ms(t,n,l,g,b){const T=t.providerIndexes,z=n.data,ie=1048575&T,pe=t.directiveStart,He=T>>20,Dt=b?ie+He:t.directiveEnd;for(let Vt=g?ie:ie+He;Vt<Dt;Vt++){const an=z[Vt];if(Vt<pe&&l===an||Vt>=pe&&an.type===l)return Vt}if(b){const Vt=z[pe];if(Vt&&Mn(Vt)&&Vt.type===l)return pe}return null}function hs(t,n,l,g){let b=t[l];const T=n.data;if(function oo(t){return t instanceof as}(b)){const z=b;z.resolving&&function w(t,n){const l=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new h(-200,`Circular dependency in DI detected for ${t}${l}`)}(x(T[l]));const ie=ds(z.canSeeViewProviders);z.resolving=!0;const pe=z.injectImpl?$t(z.injectImpl):null;Cr(t,g,Qe.Default);try{b=t[l]=z.factory(void 0,T,t,g),n.firstCreatePass&&l>=g.directiveStart&&function $a(t,n,l){const{ngOnChanges:g,ngOnInit:b,ngDoCheck:T}=n.type.prototype;if(g){const z=Nr(n);(l.preOrderHooks||(l.preOrderHooks=[])).push(t,z),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(t,z)}b&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-t,b),T&&((l.preOrderHooks||(l.preOrderHooks=[])).push(t,T),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(t,T))}(l,T[l],n)}finally{null!==pe&&$t(pe),ds(ie),z.resolving=!1,pr()}}return b}function ea(t,n,l){return!!(l[n+(t>>5)]&1<<t)}function Xa(t,n){return!(t&Qe.Self||t&Qe.Host&&n)}class ae{constructor(n,l){this._tNode=n,this._lView=l}get(n,l,g){return Xo(this._tNode,this._lView,n,g,l)}}function X(t){return It(()=>{const n=t.prototype.constructor,l=n[bn]||Y(n),g=Object.prototype;let b=Object.getPrototypeOf(t.prototype).constructor;for(;b&&b!==g;){const T=b[bn]||Y(b);if(T&&T!==l)return T;b=Object.getPrototypeOf(b)}return T=>new T})}function Y(t){return i(t)?()=>{const n=Y(r(t));return n&&n()}:Dr(t)}function be(t){return function Za(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const l=t.attrs;if(l){const g=l.length;let b=0;for(;b<g;){const T=l[b];if(Zr(T))break;if(0===T)b+=2;else if("number"==typeof T)for(b++;b<g&&"string"==typeof l[b];)b++;else{if(T===n)return l[b+1];b+=2}}}return null}(P(),t)}const qe="__parameters__";function En(t,n,l){return It(()=>{const g=function rn(t){return function(...l){if(t){const g=t(...l);for(const b in g)this[b]=g[b]}}}(n);function b(...T){if(this instanceof b)return g.apply(this,T),this;const z=new b(...T);return ie.annotation=z,ie;function ie(pe,Le,He){const ht=pe.hasOwnProperty(qe)?pe[qe]:Object.defineProperty(pe,qe,{value:[]})[qe];for(;ht.length<=He;)ht.push(null);return(ht[He]=ht[He]||[]).push(z),pe}}return l&&(b.prototype=Object.create(l.prototype)),b.prototype.ngMetadataName=t,b.annotationCls=b,b})}class Vn{constructor(n,l){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=we({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const hr=new Vn("AnalyzeForEntryComponents");function Ti(t,n){void 0===n&&(n=t);for(let l=0;l<t.length;l++){let g=t[l];Array.isArray(g)?(n===t&&(n=t.slice(0,l)),Ti(g,n)):n!==t&&n.push(g)}return n}function Gi(t,n){t.forEach(l=>Array.isArray(l)?Gi(l,n):n(l))}function vc(t,n,l){n>=t.length?t.push(l):t.splice(n,0,l)}function na(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function yo(t,n){const l=[];for(let g=0;g<t;g++)l.push(n);return l}function wi(t,n,l){let g=As(t,n);return g>=0?t[1|g]=l:(g=~g,function Am(t,n,l,g){let b=t.length;if(b==n)t.push(l,g);else if(1===b)t.push(g,t[0]),t[0]=l;else{for(b--,t.push(t[b-1],t[b]);b>n;)t[b]=t[b-2],b--;t[n]=l,t[n+1]=g}}(t,g,n,l)),g}function el(t,n){const l=As(t,n);if(l>=0)return t[1|l]}function As(t,n){return function wc(t,n,l){let g=0,b=t.length>>l;for(;b!==g;){const T=g+(b-g>>1),z=t[T<<l];if(n===z)return T<<l;z>n?b=T:g=T+1}return~(b<<l)}(t,n,1)}const vo={},nl="__NG_DI_FLAG__",ia="ngTempTokenPath",Fm=/\n/gm,Ec="__source",Bm=o({provide:String,useValue:o});let _o;function Cc(t){const n=_o;return _o=t,n}function Um(t,n=Qe.Default){if(void 0===_o)throw new h(203,"");return null===_o?Ot(t,void 0,n):_o.get(t,n&Qe.Optional?null:void 0,n)}function Yr(t,n=Qe.Default){return(function At(){return jt}()||Um)(r(t),n)}const Vm=Yr;function rl(t){const n=[];for(let l=0;l<t.length;l++){const g=r(t[l]);if(Array.isArray(g)){if(0===g.length)throw new h(900,"");let b,T=Qe.Default;for(let z=0;z<g.length;z++){const ie=g[z],pe=Gm(ie);"number"==typeof pe?-1===pe?b=ie.token:T|=pe:b=ie}n.push(Yr(b,T))}else n.push(Yr(g))}return n}function bo(t,n){return t[nl]=n,t.prototype[nl]=n,t}function Gm(t){return t[nl]}const sa=bo(En("Inject",t=>({token:t})),-1),wo=bo(En("Optional"),8),xo=bo(En("SkipSelf"),4);let aa;function Os(t){var n;return(null===(n=function sl(){if(void 0===aa&&(aa=null,Me.trustedTypes))try{aa=Me.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return aa}())||void 0===n?void 0:n.createHTML(t))||t}class fs{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class tg extends fs{getTypeName(){return"HTML"}}class ng extends fs{getTypeName(){return"Style"}}class rg extends fs{getTypeName(){return"Script"}}class ig extends fs{getTypeName(){return"URL"}}class sg extends fs{getTypeName(){return"ResourceURL"}}function Xi(t){return t instanceof fs?t.changingThisBreaksApplicationSecurity:t}function js(t,n){const l=jc(t);if(null!=l&&l!==n){if("ResourceURL"===l&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===n}function jc(t){return t instanceof fs&&t.getTypeName()||null}function og(t){return new tg(t)}function ag(t){return new ng(t)}function lg(t){return new rg(t)}function ug(t){return new ig(t)}function cg(t){return new sg(t)}class dg{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const l=(new window.DOMParser).parseFromString(Os(n),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(n):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class hg{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const g=this.inertDocument.createElement("body");l.appendChild(g)}}getInertBodyElement(n){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Os(n),l;const g=this.inertDocument.createElement("body");return g.innerHTML=Os(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(g),g}stripCustomNsAttrs(n){const l=n.attributes;for(let b=l.length-1;0<b;b--){const z=l.item(b).name;("xmlns:ns1"===z||0===z.indexOf("ns1:"))&&n.removeAttribute(z)}let g=n.firstChild;for(;g;)g.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(g),g=g.nextSibling}}const pg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,mg=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Co(t){return(t=String(t)).match(pg)||t.match(mg)?t:"unsafe:"+t}function $i(t){const n={};for(const l of t.split(","))n[l]=!0;return n}function Do(...t){const n={};for(const l of t)for(const g in l)l.hasOwnProperty(g)&&(n[g]=!0);return n}const Lc=$i("area,br,col,hr,img,wbr"),Fc=$i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Nc=$i("rp,rt"),al=Do(Lc,Do(Fc,$i("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Do(Nc,$i("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Do(Nc,Fc)),ll=$i("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ul=$i("srcset"),Bc=Do(ll,ul,$i("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$i("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gg=$i("script,style,template");class yg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let l=n.firstChild,g=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?g=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,g&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let b=this.checkClobberedElement(l,l.nextSibling);if(b){l=b;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(n){const l=n.nodeName.toLowerCase();if(!al.hasOwnProperty(l))return this.sanitizedSomething=!0,!gg.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const g=n.attributes;for(let b=0;b<g.length;b++){const T=g.item(b),z=T.name,ie=z.toLowerCase();if(!Bc.hasOwnProperty(ie)){this.sanitizedSomething=!0;continue}let pe=T.value;ll[ie]&&(pe=Co(pe)),ul[ie]&&(t=pe,pe=(t=String(t)).split(",").map(n=>Co(n.trim())).join(", ")),this.buf.push(" ",z,'="',Uc(pe),'"')}var t;return this.buf.push(">"),!0}endElement(n){const l=n.nodeName.toLowerCase();al.hasOwnProperty(l)&&!Lc.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(n){this.buf.push(Uc(n))}checkClobberedElement(n,l){if(l&&(n.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return l}}const vg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_g=/([^\#-~ |!])/g;function Uc(t){return t.replace(/&/g,"&amp;").replace(vg,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(_g,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ua;function Vc(t,n){let l=null;try{ua=ua||function kc(t){const n=new hg(t);return function fg(){try{return!!(new window.DOMParser).parseFromString(Os(""),"text/html")}catch(t){return!1}}()?new dg(n):n}(t);let g=n?String(n):"";l=ua.getInertBodyElement(g);let b=5,T=g;do{if(0===b)throw new Error("Failed to sanitize html because the input is unstable");b--,g=T,T=l.innerHTML,l=ua.getInertBodyElement(g)}while(g!==T);return Os((new yg).sanitizeChildren(cl(l)||l))}finally{if(l){const g=cl(l)||l;for(;g.firstChild;)g.removeChild(g.firstChild)}}}function cl(t){return"content"in t&&function bg(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var kr=(()=>((kr=kr||{})[kr.NONE=0]="NONE",kr[kr.HTML=1]="HTML",kr[kr.STYLE=2]="STYLE",kr[kr.SCRIPT=3]="SCRIPT",kr[kr.URL=4]="URL",kr[kr.RESOURCE_URL=5]="RESOURCE_URL",kr))();function dl(t){const n=function So(){const t=dn();return t&&t[12]}();return n?n.sanitize(kr.URL,t)||"":js(t,"URL")?Xi(t):Co(v(t))}const Hc="__ngContext__";function ti(t,n){t[Hc]=n}function fl(t){const n=function To(t){return t[Hc]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function ml(t){return t.ngOriginalError}function Fg(t,...n){t.error(...n)}class ca{constructor(){this._console=console}handleError(n){const l=this._findOriginalError(n),g=function Lg(t){return t&&t.ngErrorLogger||Fg}(n);g(this._console,"ERROR",n),l&&g(this._console,"ORIGINAL ERROR",l)}_findOriginalError(n){let l=n&&ml(n);for(;l&&ml(l);)l=ml(l);return l||null}}const Yg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Me))();function Hi(t){return t instanceof Function?t():t}var zi=(()=>((zi=zi||{})[zi.Important=1]="Important",zi[zi.DashCase=2]="DashCase",zi))();function yl(t,n){return undefined(t,n)}function Mo(t){const n=t[3];return Zt(n)?n[3]:n}function vl(t){return Kc(t[13])}function _l(t){return Kc(t[4])}function Kc(t){for(;null!==t&&!Zt(t);)t=t[4];return t}function Rs(t,n,l,g,b){if(null!=g){let T,z=!1;Zt(g)?T=g:Xt(g)&&(z=!0,g=g[0]);const ie=zt(g);0===t&&null!==l?null==b?sd(n,l,ie):ps(n,l,ie,b||null,!0):1===t&&null!==l?ps(n,l,ie,b||null,!0):2===t?function hd(t,n,l){const g=da(t,n);g&&function ay(t,n,l,g){Ce(t)?t.removeChild(n,l,g):n.removeChild(l)}(t,g,n,l)}(n,ie,z):3===t&&n.destroyNode(ie),null!=T&&function cy(t,n,l,g,b){const T=l[7];T!==zt(l)&&Rs(n,t,g,T,b);for(let ie=10;ie<l.length;ie++){const pe=l[ie];Po(pe[1],pe,t,n,g,T)}}(n,t,T,l,b)}}function wl(t,n,l){if(Ce(t))return t.createElement(n,l);{const g=null!==l?function Si(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(l):null;return null===g?t.createElement(n):t.createElementNS(g,n)}}function td(t,n){const l=t[9],g=l.indexOf(n),b=n[3];1024&n[2]&&(n[2]&=-1025,Pe(b,-1)),l.splice(g,1)}function xl(t,n){if(t.length<=10)return;const l=10+n,g=t[l];if(g){const b=g[17];null!==b&&b!==t&&td(b,g),n>0&&(t[l-1][4]=g[4]);const T=na(t,10+n);!function Kg(t,n){Po(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(g[1],g);const z=T[19];null!==z&&z.detachView(T[1]),g[3]=null,g[4]=null,g[2]&=-129}return g}function nd(t,n){if(!(256&n[2])){const l=n[11];Ce(l)&&l.destroyNode&&Po(t,n,l,3,null,null),function ny(t){let n=t[13];if(!n)return El(t[1],t);for(;n;){let l=null;if(Xt(n))l=n[13];else{const g=n[10];g&&(l=g)}if(!l){for(;n&&!n[4]&&n!==t;)Xt(n)&&El(n[1],n),n=n[3];null===n&&(n=t),Xt(n)&&El(n[1],n),l=n&&n[4]}n=l}}(n)}}function El(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function oy(t,n){let l;if(null!=t&&null!=(l=t.destroyHooks))for(let g=0;g<l.length;g+=2){const b=n[l[g]];if(!(b instanceof as)){const T=l[g+1];if(Array.isArray(T))for(let z=0;z<T.length;z+=2){const ie=b[T[z]],pe=T[z+1];try{pe.call(ie)}finally{}}else try{T.call(b)}finally{}}}}(t,n),function sy(t,n){const l=t.cleanup,g=n[7];let b=-1;if(null!==l)for(let T=0;T<l.length-1;T+=2)if("string"==typeof l[T]){const z=l[T+1],ie="function"==typeof z?z(n):zt(n[z]),pe=g[b=l[T+2]],Le=l[T+3];"boolean"==typeof Le?ie.removeEventListener(l[T],pe,Le):Le>=0?g[b=Le]():g[b=-Le].unsubscribe(),T+=2}else{const z=g[b=l[T+1]];l[T].call(z)}if(null!==g){for(let T=b+1;T<g.length;T++)g[T]();n[7]=null}}(t,n),1===n[1].type&&Ce(n[11])&&n[11].destroy();const l=n[17];if(null!==l&&Zt(n[3])){l!==n[3]&&td(l,n);const g=n[19];null!==g&&g.detachView(t)}}}function rd(t,n,l){return function id(t,n,l){let g=n;for(;null!==g&&40&g.type;)g=(n=g).parent;if(null===g)return l[0];if(2&g.flags){const b=t.data[g.directiveStart].encapsulation;if(b===We.None||b===We.Emulated)return null}return _e(g,l)}(t,n.parent,l)}function ps(t,n,l,g,b){Ce(t)?t.insertBefore(n,l,g,b):n.insertBefore(l,g,b)}function sd(t,n,l){Ce(t)?t.appendChild(n,l):n.appendChild(l)}function od(t,n,l,g,b){null!==g?ps(t,n,l,g,b):sd(t,n,l)}function da(t,n){return Ce(t)?t.parentNode(n):n.parentNode}function ad(t,n,l){return ud(t,n,l)}let ud=function ld(t,n,l){return 40&t.type?_e(t,l):null};function ha(t,n,l,g){const b=rd(t,g,n),T=n[11],ie=ad(g.parent||n[6],g,n);if(null!=b)if(Array.isArray(l))for(let pe=0;pe<l.length;pe++)od(T,b,l[pe],ie,!1);else od(T,b,l,ie,!1)}function fa(t,n){if(null!==n){const l=n.type;if(3&l)return _e(n,t);if(4&l)return Dl(-1,t[n.index]);if(8&l){const g=n.child;if(null!==g)return fa(t,g);{const b=t[n.index];return Zt(b)?Dl(-1,b):zt(b)}}if(32&l)return yl(n,t)()||zt(t[n.index]);{const g=dd(t,n);return null!==g?Array.isArray(g)?g[0]:fa(Mo(t[16]),g):fa(t,n.next)}}return null}function dd(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Dl(t,n){const l=10+t+1;if(l<n.length){const g=n[l],b=g[1].firstChild;if(null!==b)return fa(g,b)}return n[7]}function Sl(t,n,l,g,b,T,z){for(;null!=l;){const ie=g[l.index],pe=l.type;if(z&&0===n&&(ie&&ti(zt(ie),g),l.flags|=4),64!=(64&l.flags))if(8&pe)Sl(t,n,l.child,g,b,T,!1),Rs(n,t,b,ie,T);else if(32&pe){const Le=yl(l,g);let He;for(;He=Le();)Rs(n,t,b,He,T);Rs(n,t,b,ie,T)}else 16&pe?fd(t,n,g,l,b,T):Rs(n,t,b,ie,T);l=z?l.projectionNext:l.next}}function Po(t,n,l,g,b,T){Sl(l,g,t.firstChild,n,b,T,!1)}function fd(t,n,l,g,b,T){const z=l[16],pe=z[6].projection[g.projection];if(Array.isArray(pe))for(let Le=0;Le<pe.length;Le++)Rs(n,t,b,pe[Le],T);else Sl(t,n,pe,z[3],b,T,!0)}function pd(t,n,l){Ce(t)?t.setAttribute(n,"style",l):n.style.cssText=l}function Tl(t,n,l){Ce(t)?""===l?t.removeAttribute(n,"class"):t.setAttribute(n,"class",l):n.className=l}function md(t,n,l){let g=t.length;for(;;){const b=t.indexOf(n,l);if(-1===b)return b;if(0===b||t.charCodeAt(b-1)<=32){const T=n.length;if(b+T===g||t.charCodeAt(b+T)<=32)return b}l=b+1}}const gd="ng-template";function hy(t,n,l){let g=0;for(;g<t.length;){let b=t[g++];if(l&&"class"===b){if(b=t[g],-1!==md(b.toLowerCase(),n,0))return!0}else if(1===b){for(;g<t.length&&"string"==typeof(b=t[g++]);)if(b.toLowerCase()===n)return!0;return!1}}return!1}function yd(t){return 4===t.type&&t.value!==gd}function fy(t,n,l){return n===(4!==t.type||l?t.value:gd)}function py(t,n,l){let g=4;const b=t.attrs||[],T=function yy(t){for(let n=0;n<t.length;n++)if(Zr(t[n]))return n;return t.length}(b);let z=!1;for(let ie=0;ie<n.length;ie++){const pe=n[ie];if("number"!=typeof pe){if(!z)if(4&g){if(g=2|1&g,""!==pe&&!fy(t,pe,l)||""===pe&&1===n.length){if(Ii(g))return!1;z=!0}}else{const Le=8&g?pe:n[++ie];if(8&g&&null!==t.attrs){if(!hy(t.attrs,Le,l)){if(Ii(g))return!1;z=!0}continue}const ht=my(8&g?"class":pe,b,yd(t),l);if(-1===ht){if(Ii(g))return!1;z=!0;continue}if(""!==Le){let Dt;Dt=ht>T?"":b[ht+1].toLowerCase();const Vt=8&g?Dt:null;if(Vt&&-1!==md(Vt,Le,0)||2&g&&Le!==Dt){if(Ii(g))return!1;z=!0}}}}else{if(!z&&!Ii(g)&&!Ii(pe))return!1;if(z&&Ii(pe))continue;z=!1,g=pe|1&g}}return Ii(g)||z}function Ii(t){return 0==(1&t)}function my(t,n,l,g){if(null===n)return-1;let b=0;if(g||!l){let T=!1;for(;b<n.length;){const z=n[b];if(z===t)return b;if(3===z||6===z)T=!0;else{if(1===z||2===z){let ie=n[++b];for(;"string"==typeof ie;)ie=n[++b];continue}if(4===z)break;if(0===z){b+=4;continue}}b+=T?1:2}return-1}return function vy(t,n){let l=t.indexOf(4);if(l>-1)for(l++;l<t.length;){const g=t[l];if("number"==typeof g)return-1;if(g===n)return l;l++}return-1}(n,t)}function vd(t,n,l=!1){for(let g=0;g<n.length;g++)if(py(t,n[g],l))return!0;return!1}function _y(t,n){e:for(let l=0;l<n.length;l++){const g=n[l];if(t.length===g.length){for(let b=0;b<t.length;b++)if(t[b]!==g[b])continue e;return!0}}return!1}function _d(t,n){return t?":not("+n.trim()+")":n}function by(t){let n=t[0],l=1,g=2,b="",T=!1;for(;l<t.length;){let z=t[l];if("string"==typeof z)if(2&g){const ie=t[++l];b+="["+z+(ie.length>0?'="'+ie+'"':"")+"]"}else 8&g?b+="."+z:4&g&&(b+=" "+z);else""!==b&&!Ii(z)&&(n+=_d(T,b),b=""),g=z,T=T||!Ii(g);l++}return""!==b&&(n+=_d(T,b)),n}const Yn={};function bd(t){wd(_(),dn(),ir()+t,Et())}function wd(t,n,l,g){if(!g)if(3==(3&n[2])){const T=t.preOrderCheckHooks;null!==T&&bs(n,T,l)}else{const T=t.preOrderHooks;null!==T&&os(n,T,0,l)}er(l)}function pa(t,n){return t<<17|n<<2}function Oi(t){return t>>17&32767}function Ml(t){return 2|t}function Qi(t){return(131068&t)>>2}function Pl(t,n){return-131069&t|n<<2}function Al(t){return 1|t}function Od(t,n){const l=t.contentQueries;if(null!==l)for(let g=0;g<l.length;g+=2){const b=l[g],T=l[g+1];if(-1!==T){const z=t.data[T];dr(b),z.contentQueries(2,n[T],T)}}}function Ao(t,n,l,g,b,T,z,ie,pe,Le){const He=n.blueprint.slice();return He[0]=b,He[2]=140|g,vr(He),He[3]=He[15]=t,He[8]=l,He[10]=z||t&&t[10],He[11]=ie||t&&t[11],He[12]=pe||t&&t[12]||null,He[9]=Le||t&&t[9]||null,He[6]=T,He[16]=2==n.type?t[16]:He,He}function Ls(t,n,l,g,b){let T=t.data[n];if(null===T)T=function Bl(t,n,l,g,b){const T=R(),z=De(),pe=t.data[n]=function Ny(t,n,l,g,b,T){return{type:l,index:g,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:b,attrs:T,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,z?T:T&&T.parent,l,n,g,b);return null===t.firstChild&&(t.firstChild=pe),null!==T&&(z?null==T.child&&null!==pe.parent&&(T.child=pe):null===T.next&&(T.next=pe)),pe}(t,n,l,g,b),function Ut(){return fe.lFrame.inI18n}()&&(T.flags|=64);else if(64&T.type){T.type=l,T.value=g,T.attrs=b;const z=function re(){const t=fe.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();T.injectorIndex=null===z?-1:z.injectorIndex}return ve(T,!0),T}function Fs(t,n,l,g){if(0===l)return-1;const b=n.length;for(let T=0;T<l;T++)n.push(g),t.blueprint.push(g),t.data.push(null);return b}function Io(t,n,l){Ar(n);try{const g=t.viewQuery;null!==g&&ql(1,g,l);const b=t.template;null!==b&&jd(t,n,b,1,l),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Od(t,n),t.staticViewQueries&&ql(2,t.viewQuery,l);const T=t.components;null!==T&&function Ry(t,n){for(let l=0;l<n.length;l++)nv(t,n[l])}(n,T)}catch(g){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),g}finally{n[2]&=-5,rr()}}function Ns(t,n,l,g){const b=n[2];if(256==(256&b))return;Ar(n);const T=Et();try{vr(n),function ln(t){return fe.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==l&&jd(t,n,l,2,g);const z=3==(3&b);if(!T)if(z){const Le=t.preOrderCheckHooks;null!==Le&&bs(n,Le,null)}else{const Le=t.preOrderHooks;null!==Le&&os(n,Le,0,null),so(n,0)}if(function ev(t){for(let n=vl(t);null!==n;n=_l(n)){if(!n[2])continue;const l=n[9];for(let g=0;g<l.length;g++){const b=l[g],T=b[3];0==(1024&b[2])&&Pe(T,1),b[2]|=1024}}}(n),function Ky(t){for(let n=vl(t);null!==n;n=_l(n))for(let l=10;l<n.length;l++){const g=n[l],b=g[1];Jn(g)&&Ns(b,g,b.template,g[8])}}(n),null!==t.contentQueries&&Od(t,n),!T)if(z){const Le=t.contentCheckHooks;null!==Le&&bs(n,Le)}else{const Le=t.contentHooks;null!==Le&&os(n,Le,1),so(n,1)}!function jy(t,n){const l=t.hostBindingOpCodes;if(null!==l)try{for(let g=0;g<l.length;g++){const b=l[g];if(b<0)er(~b);else{const T=b,z=l[++g],ie=l[++g];An(z,T),ie(2,n[T])}}}finally{er(-1)}}(t,n);const ie=t.components;null!==ie&&function ky(t,n){for(let l=0;l<n.length;l++)tv(t,n[l])}(n,ie);const pe=t.viewQuery;if(null!==pe&&ql(2,pe,g),!T)if(z){const Le=t.viewCheckHooks;null!==Le&&bs(n,Le)}else{const Le=t.viewHooks;null!==Le&&os(n,Le,2),so(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),T||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,Pe(n[3],-1))}finally{rr()}}function Ly(t,n,l,g){const b=n[10],T=!Et(),z=jn(n);try{T&&!z&&b.begin&&b.begin(),z&&Io(t,n,g),Ns(t,n,l,g)}finally{T&&!z&&b.end&&b.end()}}function jd(t,n,l,g,b){const T=ir(),z=2&g;try{er(-1),z&&n.length>20&&wd(t,n,20,Et()),l(g,b)}finally{er(T)}}function kd(t,n,l){if(on(n)){const b=n.directiveEnd;for(let T=n.directiveStart;T<b;T++){const z=t.data[T];z.contentQueries&&z.contentQueries(1,l[T],T)}}}function Ul(t,n,l){!_r()||(function zy(t,n,l,g){const b=l.directiveStart,T=l.directiveEnd;t.firstCreatePass||ts(l,n),ti(g,n);const z=l.initialInputs;for(let ie=b;ie<T;ie++){const pe=t.data[ie],Le=Mn(pe);Le&&Jy(n,l,pe);const He=hs(n,t,ie,l);ti(He,n),null!==z&&Xy(0,ie-b,He,pe,0,z),Le&&(gn(l.index,n)[8]=He)}}(t,n,l,_e(l,n)),128==(128&l.flags)&&function Wy(t,n,l){const g=l.directiveStart,b=l.directiveEnd,z=l.index,ie=function Bn(){return fe.lFrame.currentDirectiveIndex}();try{er(z);for(let pe=g;pe<b;pe++){const Le=t.data[pe],He=n[pe];Sn(pe),(null!==Le.hostBindings||0!==Le.hostVars||null!==Le.hostAttrs)&&Gd(Le,He)}}finally{er(-1),Sn(ie)}}(t,n,l))}function Vl(t,n,l=_e){const g=n.localNames;if(null!==g){let b=n.index+1;for(let T=0;T<g.length;T+=2){const z=g[T+1],ie=-1===z?l(n,t):t[z];t[b++]=ie}}}function Rd(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=ya(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function ya(t,n,l,g,b,T,z,ie,pe,Le){const He=20+g,ht=He+b,Dt=function Fy(t,n){const l=[];for(let g=0;g<n;g++)l.push(g<t?null:Yn);return l}(He,ht),Vt="function"==typeof Le?Le():Le;return Dt[1]={type:t,blueprint:Dt,template:l,queries:null,viewQuery:ie,declTNode:n,data:Dt.slice().fill(null,He),bindingStartIndex:He,expandoStartIndex:ht,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof T?T():T,pipeRegistry:"function"==typeof z?z():z,firstChild:null,schemas:pe,consts:Vt,incompleteFirstPass:!1}}function Nd(t,n,l,g){const b=qd(n);null===l?b.push(g):(b.push(l),t.firstCreatePass&&Zd(t).push(g,b.length-1))}function Bd(t,n,l){for(let g in t)if(t.hasOwnProperty(g)){const b=t[g];(l=null===l?{}:l).hasOwnProperty(g)?l[g].push(n,b):l[g]=[n,b]}return l}function xi(t,n,l,g,b,T,z,ie){const pe=_e(n,l);let He,Le=n.inputs;!ie&&null!=Le&&(He=Le[g])?(Qd(t,l,He,g,b),_n(n)&&function Vy(t,n){const l=gn(n,t);16&l[2]||(l[2]|=64)}(l,n.index)):3&n.type&&(g=function Uy(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(g),b=null!=z?z(b,n.value||"",g):b,Ce(T)?T.setProperty(pe,g,b):lo(g)||(pe.setProperty?pe.setProperty(g,b):pe[g]=b))}function Gl(t,n,l,g){let b=!1;if(_r()){const T=function Yy(t,n,l){const g=t.directiveRegistry;let b=null;if(g)for(let T=0;T<g.length;T++){const z=g[T];vd(l,z.selectors,!1)&&(b||(b=[]),Ts(ts(l,n),t,z.type),Mn(z)?($d(t,l),b.unshift(z)):b.push(z))}return b}(t,n,l),z=null===g?null:{"":-1};if(null!==T){b=!0,Hd(l,t.data.length,T.length);for(let He=0;He<T.length;He++){const ht=T[He];ht.providersResolver&&ht.providersResolver(ht)}let ie=!1,pe=!1,Le=Fs(t,n,T.length,null);for(let He=0;He<T.length;He++){const ht=T[He];l.mergedAttrs=us(l.mergedAttrs,ht.hostAttrs),zd(t,l,n,Le,ht),Zy(Le,ht,z),null!==ht.contentQueries&&(l.flags|=8),(null!==ht.hostBindings||null!==ht.hostAttrs||0!==ht.hostVars)&&(l.flags|=128);const Dt=ht.type.prototype;!ie&&(Dt.ngOnChanges||Dt.ngOnInit||Dt.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(l.index),ie=!0),!pe&&(Dt.ngOnChanges||Dt.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(l.index),pe=!0),Le++}!function By(t,n){const g=n.directiveEnd,b=t.data,T=n.attrs,z=[];let ie=null,pe=null;for(let Le=n.directiveStart;Le<g;Le++){const He=b[Le],ht=He.inputs,Dt=null===T||yd(n)?null:Qy(ht,T);z.push(Dt),ie=Bd(ht,Le,ie),pe=Bd(He.outputs,Le,pe)}null!==ie&&(ie.hasOwnProperty("class")&&(n.flags|=16),ie.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=z,n.inputs=ie,n.outputs=pe}(t,l)}z&&function qy(t,n,l){if(n){const g=t.localNames=[];for(let b=0;b<n.length;b+=2){const T=l[n[b+1]];if(null==T)throw new h(-301,!1);g.push(n[b],T)}}}(l,g,z)}return l.mergedAttrs=us(l.mergedAttrs,l.attrs),b}function Vd(t,n,l,g,b,T){const z=T.hostBindings;if(z){let ie=t.hostBindingOpCodes;null===ie&&(ie=t.hostBindingOpCodes=[]);const pe=~n.index;(function Hy(t){let n=t.length;for(;n>0;){const l=t[--n];if("number"==typeof l&&l<0)return l}return 0})(ie)!=pe&&ie.push(pe),ie.push(g,b,z)}}function Gd(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function $d(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function Zy(t,n,l){if(l){if(n.exportAs)for(let g=0;g<n.exportAs.length;g++)l[n.exportAs[g]]=t;Mn(n)&&(l[""]=t)}}function Hd(t,n,l){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+l,t.providerIndexes=n}function zd(t,n,l,g,b){t.data[g]=b;const T=b.factory||(b.factory=Dr(b.type)),z=new as(T,Mn(b),null);t.blueprint[g]=z,l[g]=z,Vd(t,n,0,g,Fs(t,l,b.hostVars,Yn),b)}function Jy(t,n,l){const g=_e(n,t),b=Rd(l),T=t[10],z=va(t,Ao(t,b,null,l.onPush?64:16,g,n,T,T.createRenderer(g,l),null,null));t[n.index]=z}function Wi(t,n,l,g,b,T){const z=_e(t,n);!function $l(t,n,l,g,b,T,z){if(null==T)Ce(t)?t.removeAttribute(n,b,l):n.removeAttribute(b);else{const ie=null==z?v(T):z(T,g||"",b);Ce(t)?t.setAttribute(n,b,ie,l):l?n.setAttributeNS(l,b,ie):n.setAttribute(b,ie)}}(n[11],z,T,t.value,l,g,b)}function Xy(t,n,l,g,b,T){const z=T[n];if(null!==z){const ie=g.setInput;for(let pe=0;pe<z.length;){const Le=z[pe++],He=z[pe++],ht=z[pe++];null!==ie?g.setInput(l,ht,Le,He):l[He]=ht}}}function Qy(t,n){let l=null,g=0;for(;g<n.length;){const b=n[g];if(0!==b)if(5!==b){if("number"==typeof b)break;t.hasOwnProperty(b)&&(null===l&&(l=[]),l.push(b,t[b],n[g+1])),g+=2}else g+=2;else g+=4}return l}function Wd(t,n,l,g){return new Array(t,!0,!1,n,null,0,g,l,null,null)}function tv(t,n){const l=gn(n,t);if(Jn(l)){const g=l[1];80&l[2]?Ns(g,l,g.template,l[8]):l[5]>0&&Hl(l)}}function Hl(t){for(let g=vl(t);null!==g;g=_l(g))for(let b=10;b<g.length;b++){const T=g[b];if(1024&T[2]){const z=T[1];Ns(z,T,z.template,T[8])}else T[5]>0&&Hl(T)}const l=t[1].components;if(null!==l)for(let g=0;g<l.length;g++){const b=gn(l[g],t);Jn(b)&&b[5]>0&&Hl(b)}}function nv(t,n){const l=gn(n,t),g=l[1];(function rv(t,n){for(let l=n.length;l<t.blueprint.length;l++)n.push(t.blueprint[l])})(g,l),Io(g,l,l[8])}function va(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function zl(t){for(;t;){t[2]|=64;const n=Mo(t);if(Gn(t)&&!n)return t;t=n}return null}function Yl(t,n,l){const g=n[10];g.begin&&g.begin();try{Ns(t,n,t.template,l)}catch(b){throw Xd(n,b),b}finally{g.end&&g.end()}}function Yd(t){!function Wl(t){for(let n=0;n<t.components.length;n++){const l=t.components[n],g=fl(l),b=g[1];Ly(b,g,b.template,l)}}(t[8])}function ql(t,n,l){dr(0),n(t,l)}const av=(()=>Promise.resolve(null))();function qd(t){return t[7]||(t[7]=[])}function Zd(t){return t.cleanup||(t.cleanup=[])}function Xd(t,n){const l=t[9],g=l?l.get(ca,null):null;g&&g.handleError(n)}function Qd(t,n,l,g,b){for(let T=0;T<l.length;){const z=l[T++],ie=l[T++],pe=n[z],Le=t.data[z];null!==Le.setInput?Le.setInput(pe,b,g,ie):pe[ie]=b}}function Ki(t,n,l){const g=L(n,t);!function ed(t,n,l){Ce(t)?t.setValue(n,l):n.textContent=l}(t[11],g,l)}function _a(t,n,l){let g=l?t.styles:null,b=l?t.classes:null,T=0;if(null!==n)for(let z=0;z<n.length;z++){const ie=n[z];"number"==typeof ie?T=ie:1==T?b=u(b,ie):2==T&&(g=u(g,ie+": "+n[++z]+";"))}l?t.styles=g:t.stylesWithoutHost=g,l?t.classes=b:t.classesWithoutHost=b}const Zl=new Vn("INJECTOR",-1);class Kd{get(n,l=vo){if(l===vo){const g=new Error(`NullInjectorError: No provider for ${d(n)}!`);throw g.name="NullInjectorError",g}return l}}const Jl=new Vn("Set Injector scope."),Oo={},cv={};let Xl;function eh(){return void 0===Xl&&(Xl=new Kd),Xl}function th(t,n=null,l=null,g){const b=nh(t,n,l,g);return b._resolveInjectorDefTypes(),b}function nh(t,n=null,l=null,g){return new dv(t,l,n||eh(),g)}class dv{constructor(n,l,g,b=null){this.parent=g,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const T=[];l&&Gi(l,ie=>this.processProvider(ie,n,l)),Gi([n],ie=>this.processInjectorType(ie,[],T)),this.records.set(Zl,Bs(void 0,this));const z=this.records.get(Jl);this.scope=null!=z?z.value:null,this.source=b||("object"==typeof n?null:d(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,l=vo,g=Qe.Default){this.assertNotDestroyed();const b=Cc(this),T=$t(void 0);try{if(!(g&Qe.SkipSelf)){let ie=this.records.get(n);if(void 0===ie){const pe=function _v(t){return"function"==typeof t||"object"==typeof t&&t instanceof Vn}(n)&&Ie(n);ie=pe&&this.injectableDefInScope(pe)?Bs(Ql(n),Oo):null,this.records.set(n,ie)}if(null!=ie)return this.hydrate(n,ie)}return(g&Qe.Self?eh():this.parent).get(n,l=g&Qe.Optional&&l===vo?null:l)}catch(z){if("NullInjectorError"===z.name){if((z[ia]=z[ia]||[]).unshift(d(n)),b)throw z;return function $m(t,n,l,g){const b=t[ia];throw n[Ec]&&b.unshift(n[Ec]),t.message=function Hm(t,n,l,g=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let b=d(n);if(Array.isArray(n))b=n.map(d).join(" -> ");else if("object"==typeof n){let T=[];for(let z in n)if(n.hasOwnProperty(z)){let ie=n[z];T.push(z+":"+("string"==typeof ie?JSON.stringify(ie):d(ie)))}b=`{${T.join(", ")}}`}return`${l}${g?"("+g+")":""}[${b}]: ${t.replace(Fm,"\n  ")}`}("\n"+t.message,b,l,g),t.ngTokenPath=b,t[ia]=null,t}(z,n,"R3InjectorError",this.source)}throw z}finally{$t(T),Cc(b)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((g,b)=>n.push(d(b))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new h(205,!1)}processInjectorType(n,l,g){if(!(n=r(n)))return!1;let b=mt(n);const T=null==b&&n.ngModule||void 0,z=void 0===T?n:T,ie=-1!==g.indexOf(z);if(void 0!==T&&(b=mt(T)),null==b)return!1;if(null!=b.imports&&!ie){let He;g.push(z);try{Gi(b.imports,ht=>{this.processInjectorType(ht,l,g)&&(void 0===He&&(He=[]),He.push(ht))})}finally{}if(void 0!==He)for(let ht=0;ht<He.length;ht++){const{ngModule:Dt,providers:Vt}=He[ht];Gi(Vt,an=>this.processProvider(an,Dt,Vt||Lt))}}this.injectorDefTypes.add(z);const pe=Dr(z)||(()=>new z);this.records.set(z,Bs(pe,Oo));const Le=b.providers;if(null!=Le&&!ie){const He=n;Gi(Le,ht=>this.processProvider(ht,He,Le))}return void 0!==T&&void 0!==n.providers}processProvider(n,l,g){let b=Us(n=r(n))?n:r(n&&n.provide);const T=function fv(t,n,l){return ih(t)?Bs(void 0,t.useValue):Bs(rh(t),Oo)}(n);if(Us(n)||!0!==n.multi)this.records.get(b);else{let z=this.records.get(b);z||(z=Bs(void 0,Oo,!0),z.factory=()=>rl(z.multi),this.records.set(b,z)),b=n,z.multi.push(n)}this.records.set(b,T)}hydrate(n,l){return l.value===Oo&&(l.value=cv,l.value=l.factory()),"object"==typeof l.value&&l.value&&function vv(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(n){if(!n.providedIn)return!1;const l=r(n.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function Ql(t){const n=Ie(t),l=null!==n?n.factory:Dr(t);if(null!==l)return l;if(t instanceof Vn)throw new h(204,!1);if(t instanceof Function)return function hv(t){const n=t.length;if(n>0)throw yo(n,"?"),new h(204,!1);const l=function Ue(t){const n=t&&(t[Re]||t[ut]);if(n){const l=function et(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),n}return null}(t);return null!==l?()=>l.factory(t):()=>new t}(t);throw new h(204,!1)}function rh(t,n,l){let g;if(Us(t)){const b=r(t);return Dr(b)||Ql(b)}if(ih(t))g=()=>r(t.useValue);else if(function mv(t){return!(!t||!t.useFactory)}(t))g=()=>t.useFactory(...rl(t.deps||[]));else if(function pv(t){return!(!t||!t.useExisting)}(t))g=()=>Yr(r(t.useExisting));else{const b=r(t&&(t.useClass||t.provide));if(!function yv(t){return!!t.deps}(t))return Dr(b)||Ql(b);g=()=>new b(...rl(t.deps))}return g}function Bs(t,n,l=!1){return{factory:t,value:n,multi:l?[]:void 0}}function ih(t){return null!==t&&"object"==typeof t&&Bm in t}function Us(t){return"function"==typeof t}let ji=(()=>{class t{static create(l,g){var b;if(Array.isArray(l))return th({name:""},g,l,"");{const T=null!==(b=l.name)&&void 0!==b?b:"";return th({name:T},l.parent,l.providers,T)}}}return t.THROW_IF_NOT_FOUND=vo,t.NULL=new Kd,t.\u0275prov=we({token:t,providedIn:"any",factory:()=>Yr(Zl)}),t.__NG_ELEMENT_ID__=-1,t})();function Tv(t,n){_s(fl(t)[1],P())}function tu(t){let n=function gh(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),l=!0;const g=[t];for(;n;){let b;if(Mn(t))b=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new h(903,"");b=n.\u0275dir}if(b){if(l){g.push(b);const z=t;z.inputs=nu(t.inputs),z.declaredInputs=nu(t.declaredInputs),z.outputs=nu(t.outputs);const ie=b.hostBindings;ie&&Iv(t,ie);const pe=b.viewQuery,Le=b.contentQueries;if(pe&&Pv(t,pe),Le&&Av(t,Le),a(t.inputs,b.inputs),a(t.declaredInputs,b.declaredInputs),a(t.outputs,b.outputs),Mn(b)&&b.data.animation){const He=t.data;He.animation=(He.animation||[]).concat(b.data.animation)}}const T=b.features;if(T)for(let z=0;z<T.length;z++){const ie=T[z];ie&&ie.ngInherit&&ie(t),ie===tu&&(l=!1)}}n=Object.getPrototypeOf(n)}!function Mv(t){let n=0,l=null;for(let g=t.length-1;g>=0;g--){const b=t[g];b.hostVars=n+=b.hostVars,b.hostAttrs=us(b.hostAttrs,l=us(l,b.hostAttrs))}}(g)}function nu(t){return t===xt?{}:t===Lt?[]:t}function Pv(t,n){const l=t.viewQuery;t.viewQuery=l?(g,b)=>{n(g,b),l(g,b)}:n}function Av(t,n){const l=t.contentQueries;t.contentQueries=l?(g,b,T)=>{n(g,b,T),l(g,b,T)}:n}function Iv(t,n){const l=t.hostBindings;t.hostBindings=l?(g,b)=>{n(g,b),l(g,b)}:n}let ba=null;function Vs(){if(!ba){const t=Me.Symbol;if(t&&t.iterator)ba=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<n.length;++l){const g=n[l];"entries"!==g&&"size"!==g&&Map.prototype[g]===Map.prototype.entries&&(ba=g)}}}return ba}function jo(t){return!!ru(t)&&(Array.isArray(t)||!(t instanceof Map)&&Vs()in t)}function ru(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ni(t,n,l){return!Object.is(t[n],l)&&(t[n]=l,!0)}function iu(t,n,l,g){const b=dn();return ni(b,Ht(),n)&&(_(),Wi(qn(),b,t,n,l,g)),iu}function $s(t,n,l,g){return ni(t,Ht(),l)?n+v(l)+g:Yn}function Hs(t,n,l,g,b,T){const ie=function ms(t,n,l,g){const b=ni(t,n,l);return ni(t,n+1,g)||b}(t,function gt(){return fe.lFrame.bindingIndex}(),l,b);return Yt(2),ie?n+v(l)+g+v(b)+T:Yn}function Sh(t,n,l,g,b,T,z,ie){const pe=dn(),Le=_(),He=t+20,ht=Le.firstCreatePass?function Nv(t,n,l,g,b,T,z,ie,pe){const Le=n.consts,He=Ls(n,t,4,z||null,zn(Le,ie));Gl(n,l,He,zn(Le,pe)),_s(n,He);const ht=He.tViews=ya(2,He,g,b,T,n.directiveRegistry,n.pipeRegistry,null,n.schemas,Le);return null!==n.queries&&(n.queries.template(n,He),ht.queries=n.queries.embeddedTView(He)),He}(He,Le,pe,n,l,g,b,T,z):Le.data[He];ve(ht,!1);const Dt=pe[11].createComment("");ha(Le,pe,Dt,ht),ti(Dt,pe),va(pe,pe[He]=Wd(Dt,pe,Dt,ht)),Cn(ht)&&Ul(Le,pe,ht),null!=z&&Vl(pe,ht,ie)}function Ro(t,n=Qe.Default){const l=dn();return null===l?Yr(t,n):Xo(P(),l,r(t),n)}function Fh(){throw new Error("invalid")}function uu(t,n,l){const g=dn();return ni(g,Ht(),n)&&xi(_(),qn(),g,t,n,g[11],l,!1),uu}function cu(t,n,l,g,b){const z=b?"class":"style";Qd(t,l,n.inputs[z],z,g)}function Ea(t,n,l,g){const b=dn(),T=_(),z=20+t,ie=b[11],pe=b[z]=wl(ie,n,function Ga(){return fe.lFrame.currentNamespace}()),Le=T.firstCreatePass?function o_(t,n,l,g,b,T,z){const ie=n.consts,Le=Ls(n,t,2,b,zn(ie,T));return Gl(n,l,Le,zn(ie,z)),null!==Le.attrs&&_a(Le,Le.attrs,!1),null!==Le.mergedAttrs&&_a(Le,Le.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,Le),Le}(z,T,b,0,n,l,g):T.data[z];ve(Le,!0);const He=Le.mergedAttrs;null!==He&&xs(ie,pe,He);const ht=Le.classes;null!==ht&&Tl(ie,pe,ht);const Dt=Le.styles;return null!==Dt&&pd(ie,pe,Dt),64!=(64&Le.flags)&&ha(T,b,pe,Le),0===function Ze(){return fe.lFrame.elementDepthCount}()&&ti(pe,b),function en(){fe.lFrame.elementDepthCount++}(),Cn(Le)&&(Ul(T,b,Le),kd(T,Le,b)),null!==g&&Vl(b,Le),Ea}function Ca(){let t=P();De()?ze():(t=t.parent,ve(t,!1));const n=t;!function Pn(){fe.lFrame.elementDepthCount--}();const l=_();return l.firstCreatePass&&(_s(l,t),on(t)&&l.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Ha(t){return 0!=(16&t.flags)}(n)&&cu(l,n,dn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function za(t){return 0!=(32&t.flags)}(n)&&cu(l,n,dn(),n.stylesWithoutHost,!1),Ca}function du(t,n,l,g){return Ea(t,n,l,g),Ca(),du}function hu(t,n,l){const g=dn(),b=_(),T=t+20,z=b.firstCreatePass?function a_(t,n,l,g,b){const T=n.consts,z=zn(T,g),ie=Ls(n,t,8,"ng-container",z);return null!==z&&_a(ie,z,!0),Gl(n,l,ie,zn(T,b)),null!==n.queries&&n.queries.elementStart(n,ie),ie}(T,b,g,n,l):b.data[T];ve(z,!0);const ie=g[T]=g[11].createComment("");return ha(b,g,ie,z),ti(ie,g),Cn(z)&&(Ul(b,g,z),kd(b,z,g)),null!=l&&Vl(g,z),hu}function fu(){let t=P();const n=_();return De()?ze():(t=t.parent,ve(t,!1)),n.firstCreatePass&&(_s(n,t),on(t)&&n.queries.elementEnd(t)),fu}function pu(t,n,l){return hu(t,n,l),fu(),pu}function Nh(){return dn()}function mu(t){return!!t&&"function"==typeof t.then}function Bh(t){return!!t&&"function"==typeof t.subscribe}const Uh=Bh;function gu(t,n,l,g){const b=dn(),T=_(),z=P();return function Gh(t,n,l,g,b,T,z,ie){const pe=Cn(g),He=t.firstCreatePass&&Zd(t),ht=n[8],Dt=qd(n);let Vt=!0;if(3&g.type||ie){const wn=_e(g,n),Tn=ie?ie(wn):wn,fn=Dt.length,Nn=ie?nr=>ie(zt(nr[g.index])):g.index;if(Ce(l)){let nr=null;if(!ie&&pe&&(nr=function l_(t,n,l,g){const b=t.cleanup;if(null!=b)for(let T=0;T<b.length-1;T+=2){const z=b[T];if(z===l&&b[T+1]===g){const ie=n[7],pe=b[T+2];return ie.length>pe?ie[pe]:null}"string"==typeof z&&(T+=2)}return null}(t,n,b,g.index)),null!==nr)(nr.__ngLastListenerFn__||nr).__ngNextListenerFn__=T,nr.__ngLastListenerFn__=T,Vt=!1;else{T=yu(g,n,ht,T,!1);const mr=l.listen(Tn,b,T);Dt.push(T,mr),He&&He.push(b,Nn,fn,fn+1)}}else T=yu(g,n,ht,T,!0),Tn.addEventListener(b,T,z),Dt.push(T),He&&He.push(b,Nn,fn,z)}else T=yu(g,n,ht,T,!1);const an=g.outputs;let vn;if(Vt&&null!==an&&(vn=an[b])){const wn=vn.length;if(wn)for(let Tn=0;Tn<wn;Tn+=2){const Ei=n[vn[Tn]][vn[Tn+1]].subscribe(T),vs=Dt.length;Dt.push(T,Ei),He&&He.push(b,g.index,vs,-(vs+1))}}}(T,b,b[11],z,t,n,!!l,g),gu}function $h(t,n,l,g){try{return!1!==l(g)}catch(b){return Xd(t,b),!1}}function yu(t,n,l,g,b){return function T(z){if(z===Function)return g;const ie=2&t.flags?gn(t.index,n):n;0==(32&n[2])&&zl(ie);let pe=$h(n,0,g,z),Le=T.__ngNextListenerFn__;for(;Le;)pe=$h(n,0,Le,z)&&pe,Le=Le.__ngNextListenerFn__;return b&&!1===pe&&(z.preventDefault(),z.returnValue=!1),pe}}function Hh(t=1){return function Lr(t){return(fe.lFrame.contextLView=function br(t,n){for(;t>0;)n=n[15],t--;return n}(t,fe.lFrame.contextLView))[8]}(t)}function u_(t,n){let l=null;const g=function gy(t){const n=t.attrs;if(null!=n){const l=n.indexOf(5);if(0==(1&l))return n[l+1]}return null}(t);for(let b=0;b<n.length;b++){const T=n[b];if("*"!==T){if(null===g?vd(t,T,!0):_y(g,T))return b}else l=b}return l}function zh(t){const n=dn()[16][6];if(!n.projection){const g=n.projection=yo(t?t.length:1,null),b=g.slice();let T=n.child;for(;null!==T;){const z=t?u_(T,t):0;null!==z&&(b[z]?b[z].projectionNext=T:g[z]=T,b[z]=T),T=T.next}}}function Wh(t,n=0,l){const g=dn(),b=_(),T=Ls(b,20+t,16,null,l||null);null===T.projection&&(T.projection=n),ze(),64!=(64&T.flags)&&function uy(t,n,l){fd(n[11],0,n,l,rd(t,l,n),ad(l.parent||n[6],l,n))}(b,g,T)}function Da(t,n,l,g,b){const T=dn(),z=$s(T,n,l,g);return z!==Yn&&xi(_(),qn(),T,t,z,T[11],b,!1),Da}function nf(t,n,l,g,b){const T=t[l+1],z=null===n;let ie=g?Oi(T):Qi(T),pe=!1;for(;0!==ie&&(!1===pe||z);){const He=t[ie+1];h_(t[ie],n)&&(pe=!0,t[ie+1]=g?Al(He):Ml(He)),ie=g?Oi(He):Qi(He)}pe&&(t[l+1]=g?Ml(T):Al(T))}function h_(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&As(t,n)>=0}const Vr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rf(t){return t.substring(Vr.key,Vr.keyEnd)}function f_(t){return t.substring(Vr.value,Vr.valueEnd)}function of(t,n){const l=Vr.textEnd;let g=Vr.key=Qs(t,n,l);return l===g?-1:(g=Vr.keyEnd=function y_(t,n,l){let g;for(;n<l&&(45===(g=t.charCodeAt(n))||95===g||(-33&g)>=65&&(-33&g)<=90||g>=48&&g<=57);)n++;return n}(t,g,l),g=lf(t,g,l),g=Vr.value=Qs(t,g,l),g=Vr.valueEnd=function v_(t,n,l){let g=-1,b=-1,T=-1,z=n,ie=z;for(;z<l;){const pe=t.charCodeAt(z++);if(59===pe)return ie;34===pe||39===pe?ie=z=uf(t,pe,z,l):n===z-4&&85===T&&82===b&&76===g&&40===pe?ie=z=uf(t,41,z,l):pe>32&&(ie=z),T=b,b=g,g=-33&pe}return ie}(t,g,l),lf(t,g,l))}function Qs(t,n,l){for(;n<l&&t.charCodeAt(n)<=32;)n++;return n}function lf(t,n,l,g){return(n=Qs(t,n,l))<l&&n++,n}function uf(t,n,l,g){let b=-1,T=l;for(;T<g;){const z=t.charCodeAt(T++);if(z==n&&92!==b)return T;b=92==z&&92===b?0:z}throw new Error}function vu(t,n){return function Li(t,n,l,g){const b=dn(),T=_(),z=Yt(2);T.firstUpdatePass&&hf(T,t,z,g),n!==Yn&&ni(b,z,n)&&pf(T,T.data[ir()],b,b[11],t,b[z+1]=function T_(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=d(Xi(t)))),t}(n,l),g,z)}(t,n,null,!0),vu}function Ri(t){!function Fi(t,n,l,g){const b=_(),T=Yt(2);b.firstUpdatePass&&hf(b,null,T,g);const z=dn();if(l!==Yn&&ni(z,T,l)){const ie=b.data[ir()];if(gf(ie,g)&&!df(b,T)){let pe=g?ie.classesWithoutHost:ie.stylesWithoutHost;null!==pe&&(l=u(pe,l||"")),cu(b,ie,z,l,g)}else!function S_(t,n,l,g,b,T,z,ie){b===Yn&&(b=Lt);let pe=0,Le=0,He=0<b.length?b[0]:null,ht=0<T.length?T[0]:null;for(;null!==He||null!==ht;){const Dt=pe<b.length?b[pe+1]:void 0,Vt=Le<T.length?T[Le+1]:void 0;let vn,an=null;He===ht?(pe+=2,Le+=2,Dt!==Vt&&(an=ht,vn=Vt)):null===ht||null!==He&&He<ht?(pe+=2,an=He):(Le+=2,an=ht,vn=Vt),null!==an&&pf(t,n,l,g,an,vn,z,ie),He=pe<b.length?b[pe]:null,ht=Le<T.length?T[Le]:null}}(b,ie,z,z[11],z[T+1],z[T+1]=function D_(t,n,l){if(null==l||""===l)return Lt;const g=[],b=Xi(l);if(Array.isArray(b))for(let T=0;T<b.length;T++)t(g,b[T],!0);else if("object"==typeof b)for(const T in b)b.hasOwnProperty(T)&&t(g,T,b[T]);else"string"==typeof b&&n(g,b);return g}(t,n,l),g,T)}}(ff,__,t,!1)}function __(t,n){for(let l=function m_(t){return function af(t){Vr.key=0,Vr.keyEnd=0,Vr.value=0,Vr.valueEnd=0,Vr.textEnd=t.length}(t),of(t,Qs(t,0,Vr.textEnd))}(n);l>=0;l=of(n,l))ff(t,rf(n),f_(n))}function df(t,n){return n>=t.expandoStartIndex}function hf(t,n,l,g){const b=t.data;if(null===b[l+1]){const T=b[ir()],z=df(t,l);gf(T,g)&&null===n&&!z&&(n=!1),n=function w_(t,n,l,g){const b=function In(t){const n=fe.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let T=g?n.residualClasses:n.residualStyles;if(null===b)0===(g?n.classBindings:n.styleBindings)&&(l=Lo(l=_u(null,t,n,l,g),n.attrs,g),T=null);else{const z=n.directiveStylingLast;if(-1===z||t[z]!==b)if(l=_u(b,t,n,l,g),null===T){let pe=function x_(t,n,l){const g=l?n.classBindings:n.styleBindings;if(0!==Qi(g))return t[Oi(g)]}(t,n,g);void 0!==pe&&Array.isArray(pe)&&(pe=_u(null,t,n,pe[1],g),pe=Lo(pe,n.attrs,g),function E_(t,n,l,g){t[Oi(l?n.classBindings:n.styleBindings)]=g}(t,n,g,pe))}else T=function C_(t,n,l){let g;const b=n.directiveEnd;for(let T=1+n.directiveStylingLast;T<b;T++)g=Lo(g,t[T].hostAttrs,l);return Lo(g,n.attrs,l)}(t,n,g)}return void 0!==T&&(g?n.residualClasses=T:n.residualStyles=T),l}(b,T,n,g),function c_(t,n,l,g,b,T){let z=T?n.classBindings:n.styleBindings,ie=Oi(z),pe=Qi(z);t[g]=l;let He,Le=!1;if(Array.isArray(l)){const ht=l;He=ht[1],(null===He||As(ht,He)>0)&&(Le=!0)}else He=l;if(b)if(0!==pe){const Dt=Oi(t[ie+1]);t[g+1]=pa(Dt,ie),0!==Dt&&(t[Dt+1]=Pl(t[Dt+1],g)),t[ie+1]=function Ey(t,n){return 131071&t|n<<17}(t[ie+1],g)}else t[g+1]=pa(ie,0),0!==ie&&(t[ie+1]=Pl(t[ie+1],g)),ie=g;else t[g+1]=pa(pe,0),0===ie?ie=g:t[pe+1]=Pl(t[pe+1],g),pe=g;Le&&(t[g+1]=Ml(t[g+1])),nf(t,He,g,!0),nf(t,He,g,!1),function d_(t,n,l,g,b){const T=b?t.residualClasses:t.residualStyles;null!=T&&"string"==typeof n&&As(T,n)>=0&&(l[g+1]=Al(l[g+1]))}(n,He,t,g,T),z=pa(ie,pe),T?n.classBindings=z:n.styleBindings=z}(b,T,n,l,z,g)}}function _u(t,n,l,g,b){let T=null;const z=l.directiveEnd;let ie=l.directiveStylingLast;for(-1===ie?ie=l.directiveStart:ie++;ie<z&&(T=n[ie],g=Lo(g,T.hostAttrs,b),T!==t);)ie++;return null!==t&&(l.directiveStylingLast=ie),g}function Lo(t,n,l){const g=l?1:2;let b=-1;if(null!==n)for(let T=0;T<n.length;T++){const z=n[T];"number"==typeof z?b=z:b===g&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),wi(t,z,!!l||n[++T]))}return void 0===t?null:t}function ff(t,n,l){wi(t,n,Xi(l))}function pf(t,n,l,g,b,T,z,ie){if(!(3&n.type))return;const pe=t.data,Le=pe[ie+1];Sa(function Cd(t){return 1==(1&t)}(Le)?mf(pe,n,l,b,Qi(Le),z):void 0)||(Sa(T)||function Ed(t){return 2==(2&t)}(Le)&&(T=mf(pe,null,l,b,ie,z)),function dy(t,n,l,g,b){const T=Ce(t);if(n)b?T?t.addClass(l,g):l.classList.add(g):T?t.removeClass(l,g):l.classList.remove(g);else{let z=-1===g.indexOf("-")?void 0:zi.DashCase;if(null==b)T?t.removeStyle(l,g,z):l.style.removeProperty(g);else{const ie="string"==typeof b&&b.endsWith("!important");ie&&(b=b.slice(0,-10),z|=zi.Important),T?t.setStyle(l,g,b,z):l.style.setProperty(g,b,ie?"important":"")}}}(g,z,L(ir(),l),b,T))}function mf(t,n,l,g,b,T){const z=null===n;let ie;for(;b>0;){const pe=t[b],Le=Array.isArray(pe),He=Le?pe[1]:pe,ht=null===He;let Dt=l[b+1];Dt===Yn&&(Dt=ht?Lt:void 0);let Vt=ht?el(Dt,g):He===g?Dt:void 0;if(Le&&!Sa(Vt)&&(Vt=el(pe,g)),Sa(Vt)&&(ie=Vt,z))return ie;const an=t[b+1];b=z?Oi(an):Qi(an)}if(null!==n){let pe=T?n.residualClasses:n.residualStyles;null!=pe&&(ie=el(pe,g))}return ie}function Sa(t){return void 0!==t}function gf(t,n){return 0!=(t.flags&(n?16:32))}function yf(t,n=""){const l=dn(),g=_(),b=t+20,T=g.firstCreatePass?Ls(g,b,1,n,null):g.data[b],z=l[b]=function bl(t,n){return Ce(t)?t.createText(n):t.createTextNode(n)}(l[11],n);ha(g,l,z,T),ve(T,!1)}function bu(t){return Ta("",t,""),bu}function Ta(t,n,l){const g=dn(),b=$s(g,t,n,l);return b!==Yn&&Ki(g,ir(),b),Ta}function wu(t,n,l,g,b){const T=dn(),z=Hs(T,t,n,l,g,b);return z!==Yn&&Ki(T,ir(),z),wu}const gs=void 0;var Y_=["en",[["a","p"],["AM","PM"],gs],[["AM","PM"],gs,gs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gs,"{1} 'at' {0}",gs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function W_(t){const l=Math.floor(Math.abs(t)),g=t.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===g?1:5}];let Ks={};function xu(t){const n=function q_(t){return t.toLowerCase().replace(/_/g,"-")}(t);let l=Ff(n);if(l)return l;const g=n.split("-")[0];if(l=Ff(g),l)return l;if("en"===g)return Y_;throw new Error(`Missing locale data for the locale "${t}".`)}function Lf(t){return xu(t)[Un.PluralCase]}function Ff(t){return t in Ks||(Ks[t]=Me.ng&&Me.ng.common&&Me.ng.common.locales&&Me.ng.common.locales[t]),Ks[t]}var Un=(()=>((Un=Un||{})[Un.LocaleId=0]="LocaleId",Un[Un.DayPeriodsFormat=1]="DayPeriodsFormat",Un[Un.DayPeriodsStandalone=2]="DayPeriodsStandalone",Un[Un.DaysFormat=3]="DaysFormat",Un[Un.DaysStandalone=4]="DaysStandalone",Un[Un.MonthsFormat=5]="MonthsFormat",Un[Un.MonthsStandalone=6]="MonthsStandalone",Un[Un.Eras=7]="Eras",Un[Un.FirstDayOfWeek=8]="FirstDayOfWeek",Un[Un.WeekendRange=9]="WeekendRange",Un[Un.DateFormat=10]="DateFormat",Un[Un.TimeFormat=11]="TimeFormat",Un[Un.DateTimeFormat=12]="DateTimeFormat",Un[Un.NumberSymbols=13]="NumberSymbols",Un[Un.NumberFormats=14]="NumberFormats",Un[Un.CurrencyCode=15]="CurrencyCode",Un[Un.CurrencySymbol=16]="CurrencySymbol",Un[Un.CurrencyName=17]="CurrencyName",Un[Un.Currencies=18]="Currencies",Un[Un.Directionality=19]="Directionality",Un[Un.PluralCase=20]="PluralCase",Un[Un.ExtraData=21]="ExtraData",Un))();const Ma="en-US";let Nf=Ma;function Du(t,n,l,g,b){if(t=r(t),Array.isArray(t))for(let T=0;T<t.length;T++)Du(t[T],n,l,g,b);else{const T=_(),z=dn();let ie=Us(t)?t:r(t.provide),pe=rh(t);const Le=P(),He=1048575&Le.providerIndexes,ht=Le.directiveStart,Dt=Le.providerIndexes>>20;if(Us(t)||!t.multi){const Vt=new as(pe,b,Ro),an=Tu(ie,n,b?He:He+Dt,ht);-1===an?(Ts(ts(Le,z),T,ie),Su(T,t,n.length),n.push(ie),Le.directiveStart++,Le.directiveEnd++,b&&(Le.providerIndexes+=1048576),l.push(Vt),z.push(Vt)):(l[an]=Vt,z[an]=Vt)}else{const Vt=Tu(ie,n,He+Dt,ht),an=Tu(ie,n,He,He+Dt),vn=Vt>=0&&l[Vt],wn=an>=0&&l[an];if(b&&!wn||!b&&!vn){Ts(ts(Le,z),T,ie);const Tn=function Y0(t,n,l,g,b){const T=new as(t,l,Ro);return T.multi=[],T.index=n,T.componentProviders=0,lp(T,b,g&&!l),T}(b?W0:z0,l.length,b,g,pe);!b&&wn&&(l[an].providerFactory=Tn),Su(T,t,n.length,0),n.push(ie),Le.directiveStart++,Le.directiveEnd++,b&&(Le.providerIndexes+=1048576),l.push(Tn),z.push(Tn)}else Su(T,t,Vt>-1?Vt:an,lp(l[b?an:Vt],pe,!b&&g));!b&&g&&wn&&l[an].componentProviders++}}}function Su(t,n,l,g){const b=Us(n),T=function gv(t){return!!t.useClass}(n);if(b||T){const pe=(T?r(n.useClass):n).prototype.ngOnDestroy;if(pe){const Le=t.destroyHooks||(t.destroyHooks=[]);if(!b&&n.multi){const He=Le.indexOf(l);-1===He?Le.push(l,[g,pe]):Le[He+1].push(g,pe)}else Le.push(l,pe)}}}function lp(t,n,l){return l&&t.componentProviders++,t.multi.push(n)-1}function Tu(t,n,l,g){for(let b=l;b<g;b++)if(n[b]===t)return b;return-1}function z0(t,n,l,g){return Mu(this.multi,[])}function W0(t,n,l,g){const b=this.multi;let T;if(this.providerFactory){const z=this.providerFactory.componentProviders,ie=hs(l,l[1],this.providerFactory.index,g);T=ie.slice(0,z),Mu(b,T);for(let pe=z;pe<ie.length;pe++)T.push(ie[pe])}else T=[],Mu(b,T);return T}function Mu(t,n){for(let l=0;l<t.length;l++)n.push((0,t[l])());return n}function up(t,n=[]){return l=>{l.providersResolver=(g,b)=>function H0(t,n,l){const g=_();if(g.firstCreatePass){const b=Mn(t);Du(l,g.data,g.blueprint,b,!0),Du(n,g.data,g.blueprint,b,!1)}}(g,b?b(t):t,n)}}class cp{}class J0{resolveComponentFactory(n){throw function Z0(t){const n=Error(`No component factory found for ${d(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let ja=(()=>{class t{}return t.NULL=new J0,t})();function X0(){return to(P(),dn())}function to(t,n){return new Vo(_e(t,n))}let Vo=(()=>{class t{constructor(l){this.nativeElement=l}}return t.__NG_ELEMENT_ID__=X0,t})();function Q0(t){return t instanceof Vo?t.nativeElement:t}class hp{}let K0=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function tb(){const t=dn(),l=gn(P().index,t);return function eb(t){return t[11]}(Xt(l)?l:t)}(),t})(),nb=(()=>{class t{}return t.\u0275prov=we({token:t,providedIn:"root",factory:()=>null}),t})();class fp{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const rb=new fp("13.2.7"),Pu={};function ka(t,n,l,g,b=!1){for(;null!==l;){const T=n[l.index];if(null!==T&&g.push(zt(T)),Zt(T))for(let ie=10;ie<T.length;ie++){const pe=T[ie],Le=pe[1].firstChild;null!==Le&&ka(pe[1],pe,Le,g)}const z=l.type;if(8&z)ka(t,n,l.child,g);else if(32&z){const ie=yl(l,n);let pe;for(;pe=ie();)g.push(pe)}else if(16&z){const ie=dd(n,l);if(Array.isArray(ie))g.push(...ie);else{const pe=Mo(n[16]);ka(pe[1],pe,ie,g,!0)}}l=b?l.projectionNext:l.next}return g}class Go{constructor(n,l){this._lView=n,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,l=n[1];return ka(l,n,l.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Zt(n)){const l=n[8],g=l?l.indexOf(this):-1;g>-1&&(xl(n,g),na(l,g))}this._attachedToViewContainer=!1}nd(this._lView[1],this._lView)}onDestroy(n){Nd(this._lView[1],this._lView,null,n)}markForCheck(){zl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yl(this._lView[1],this._lView,this.context)}checkNoChanges(){!function sv(t,n,l){Nt(!0);try{Yl(t,n,l)}finally{Nt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new h(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ty(t,n){Po(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new h(902,"");this._appRef=n}}class ib extends Go{constructor(n){super(n),this._view=n}detectChanges(){Yd(this._view)}checkNoChanges(){!function ov(t){Nt(!0);try{Yd(t)}finally{Nt(!1)}}(this._view)}get context(){return null}}class pp extends ja{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const l=kt(n);return new Au(l,this.ngModule)}}function mp(t){const n=[];for(let l in t)t.hasOwnProperty(l)&&n.push({propName:t[l],templateName:l});return n}class Au extends cp{constructor(n,l){super(),this.componentDef=n,this.ngModule=l,this.componentType=n.type,this.selector=function wy(t){return t.map(by).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return mp(this.componentDef.inputs)}get outputs(){return mp(this.componentDef.outputs)}create(n,l,g,b){const T=(b=b||this.ngModule)?function ob(t,n){return{get:(l,g,b)=>{const T=t.get(l,Pu,b);return T!==Pu||g===Pu?T:n.get(l,g,b)}}}(n,b.injector):n,z=T.get(hp,Ke),ie=T.get(nb,null),pe=z.createRenderer(null,this.componentDef),Le=this.componentDef.selectors[0][0]||"div",He=g?function Fd(t,n,l){if(Ce(t))return t.selectRootElement(n,l===We.ShadowDom);let g="string"==typeof n?t.querySelector(n):n;return g.textContent="",g}(pe,g,this.componentDef.encapsulation):wl(z.createRenderer(null,this.componentDef),Le,function sb(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Le)),ht=this.componentDef.onPush?576:528,Dt=function mh(t,n){return{components:[],scheduler:t||Yg,clean:av,playerHandler:n||null,flags:0}}(),Vt=ya(0,null,null,1,0,null,null,null,null,null),an=Ao(null,Vt,Dt,ht,null,null,z,pe,ie,T);let vn,wn;Ar(an);try{const Tn=function fh(t,n,l,g,b,T){const z=l[1];l[20]=t;const pe=Ls(z,20,2,"#host",null),Le=pe.mergedAttrs=n.hostAttrs;null!==Le&&(_a(pe,Le,!0),null!==t&&(xs(b,t,Le),null!==pe.classes&&Tl(b,t,pe.classes),null!==pe.styles&&pd(b,t,pe.styles)));const He=g.createRenderer(t,n),ht=Ao(l,Rd(n),null,n.onPush?64:16,l[20],pe,g,He,T||null,null);return z.firstCreatePass&&(Ts(ts(pe,l),z,n.type),$d(z,pe),Hd(pe,l.length,1)),va(l,ht),l[20]=ht}(He,this.componentDef,an,z,pe);if(He)if(g)xs(pe,He,["ng-version",rb.full]);else{const{attrs:fn,classes:Nn}=function xy(t){const n=[],l=[];let g=1,b=2;for(;g<t.length;){let T=t[g];if("string"==typeof T)2===b?""!==T&&n.push(T,t[++g]):8===b&&l.push(T);else{if(!Ii(b))break;b=T}g++}return{attrs:n,classes:l}}(this.componentDef.selectors[0]);fn&&xs(pe,He,fn),Nn&&Nn.length>0&&Tl(pe,He,Nn.join(" "))}if(wn=Bt(Vt,20),void 0!==l){const fn=wn.projection=[];for(let Nn=0;Nn<this.ngContentSelectors.length;Nn++){const nr=l[Nn];fn.push(null!=nr?Array.from(nr):null)}}vn=function ph(t,n,l,g,b){const T=l[1],z=function $y(t,n,l){const g=P();t.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),zd(t,g,n,Fs(t,n,1,null),l));const b=hs(n,t,g.directiveStart,g);ti(b,n);const T=_e(g,n);return T&&ti(T,n),b}(T,l,n);if(g.components.push(z),t[8]=z,b&&b.forEach(pe=>pe(z,n)),n.contentQueries){const pe=P();n.contentQueries(1,z,pe.directiveStart)}const ie=P();return!T.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(er(ie.index),Vd(l[1],ie,0,ie.directiveStart,ie.directiveEnd,n),Gd(n,z)),z}(Tn,this.componentDef,an,Dt,[Tv]),Io(Vt,an,null)}finally{rr()}return new lb(this.componentType,vn,to(wn,an),an,wn)}}class lb extends class q0{}{constructor(n,l,g,b,T){super(),this.location=g,this._rootLView=b,this._tNode=T,this.instance=l,this.hostView=this.changeDetectorRef=new ib(b),this.componentType=n}get injector(){return new ae(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class no{}class gp{}const ro=new Map;class _p extends no{constructor(n,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new pp(this);const g=Zn(n);this._bootstrapComponents=Hi(g.bootstrap),this._r3Injector=nh(n,l,[{provide:no,useValue:this},{provide:ja,useValue:this.componentFactoryResolver}],d(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,l=ji.THROW_IF_NOT_FOUND,g=Qe.Default){return n===ji||n===no||n===Zl?this:this._r3Injector.get(n,l,g)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Iu extends gp{constructor(n){super(),this.moduleType=n,null!==Zn(n)&&function cb(t){const n=new Set;!function l(g){const b=Zn(g,!0),T=b.id;null!==T&&(function yp(t,n,l){if(n&&n!==l)throw new Error(`Duplicate module registered for ${t} - ${d(n)} vs ${d(n.name)}`)}(T,ro.get(T),g),ro.set(T,g));const z=Hi(b.imports);for(const ie of z)n.has(ie)||(n.add(ie),l(ie))}(t)}(n)}create(n){return new _p(this.moduleType,n)}}function bp(t,n,l){const g=function Pt(){const t=fe.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}()+t,b=dn();return b[g]===Yn?function Yi(t,n,l){return t[n]=l}(b,g,l?n.call(l):n()):function ko(t,n){return t[n]}(b,g)}function Ou(t){return n=>{setTimeout(t,void 0,n)}}const Zi=class Tb extends m.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,l,g){var b,T,z;let ie=n,pe=l||(()=>null),Le=g;if(n&&"object"==typeof n){const ht=n;ie=null===(b=ht.next)||void 0===b?void 0:b.bind(ht),pe=null===(T=ht.error)||void 0===T?void 0:T.bind(ht),Le=null===(z=ht.complete)||void 0===z?void 0:z.bind(ht)}this.__isAsync&&(pe=Ou(pe),ie&&(ie=Ou(ie)),Le&&(Le=Ou(Le)));const He=super.subscribe({next:ie,error:pe,complete:Le});return n instanceof ye.w&&n.add(He),He}};function Mb(){return this._results[Vs()]()}class ju{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Vs(),g=ju.prototype;g[l]||(g[l]=Mb)}get changes(){return this._changes||(this._changes=new Zi)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,l){return this._results.reduce(n,l)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,l){const g=this;g.dirty=!1;const b=Ti(n);(this._changesDetected=!function Mm(t,n,l){if(t.length!==n.length)return!1;for(let g=0;g<t.length;g++){let b=t[g],T=n[g];if(l&&(b=l(b),T=l(T)),T!==b)return!1}return!0}(g._results,b,l))&&(g._results=b,g.length=b.length,g.last=b[this.length-1],g.first=b[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let zo=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ib,t})();const Pb=zo,Ab=class extends Pb{constructor(n,l,g){super(),this._declarationLView=n,this._declarationTContainer=l,this.elementRef=g}createEmbeddedView(n){const l=this._declarationTContainer.tViews,g=Ao(this._declarationLView,l,n,16,null,l.declTNode,null,null,null,null);g[17]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[19];return null!==T&&(g[19]=T.createEmbeddedView(l)),Io(l,g,n),new Go(g)}};function Ib(){return Ra(P(),dn())}function Ra(t,n){return 4&t.type?new Ab(n,t,to(t,n)):null}let La=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ob,t})();function Ob(){return Mp(P(),dn())}const jb=La,Sp=class extends jb{constructor(n,l,g){super(),this._lContainer=n,this._hostTNode=l,this._hostLView=g}get element(){return to(this._hostTNode,this._hostLView)}get injector(){return new ae(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ss(this._hostTNode,this._hostLView);if(Es(n)){const l=es(n,this._hostLView),g=bi(n);return new ae(l[1].data[g+8],l)}return new ae(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const l=Tp(this._lContainer);return null!==l&&l[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,l,g){const b=n.createEmbeddedView(l||{});return this.insert(b,g),b}createComponent(n,l,g,b,T){const z=n&&!function go(t){return"function"==typeof t}(n);let ie;if(z)ie=l;else{const ht=l||{};ie=ht.index,g=ht.injector,b=ht.projectableNodes,T=ht.ngModuleRef}const pe=z?n:new Au(kt(n)),Le=g||this.parentInjector;if(!T&&null==pe.ngModule){const Dt=(z?Le:this.parentInjector).get(no,null);Dt&&(T=Dt)}const He=pe.create(Le,b,void 0,T);return this.insert(He.hostView,ie),He}insert(n,l){const g=n._lView,b=g[1];if(function kn(t){return Zt(t[3])}(g)){const He=this.indexOf(n);if(-1!==He)this.detach(He);else{const ht=g[3],Dt=new Sp(ht,ht[6],ht[3]);Dt.detach(Dt.indexOf(n))}}const T=this._adjustIndex(l),z=this._lContainer;!function ry(t,n,l,g){const b=10+g,T=l.length;g>0&&(l[b-1][4]=n),g<T-10?(n[4]=l[b],vc(l,10+g,n)):(l.push(n),n[4]=null),n[3]=l;const z=n[17];null!==z&&l!==z&&function iy(t,n){const l=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===l?t[9]=[n]:l.push(n)}(z,n);const ie=n[19];null!==ie&&ie.insertView(t),n[2]|=128}(b,g,z,T);const ie=Dl(T,z),pe=g[11],Le=da(pe,z[7]);return null!==Le&&function ey(t,n,l,g,b,T){g[0]=b,g[6]=n,Po(t,g,l,1,b,T)}(b,z[6],pe,g,Le,ie),n.attachToViewContainerRef(),vc(ku(z),T,n),n}move(n,l){return this.insert(n,l)}indexOf(n){const l=Tp(this._lContainer);return null!==l?l.indexOf(n):-1}remove(n){const l=this._adjustIndex(n,-1),g=xl(this._lContainer,l);g&&(na(ku(this._lContainer),l),nd(g[1],g))}detach(n){const l=this._adjustIndex(n,-1),g=xl(this._lContainer,l);return g&&null!=na(ku(this._lContainer),l)?new Go(g):null}_adjustIndex(n,l=0){return null==n?this.length+l:n}};function Tp(t){return t[8]}function ku(t){return t[8]||(t[8]=[])}function Mp(t,n){let l;const g=n[t.index];if(Zt(g))l=g;else{let b;if(8&t.type)b=zt(g);else{const T=n[11];b=T.createComment("");const z=_e(t,n);ps(T,da(T,z),b,function ly(t,n){return Ce(t)?t.nextSibling(n):n.nextSibling}(T,z),!1)}n[t.index]=l=Wd(g,n,b,t),va(n,l)}return new Sp(l,t,n)}class Ru{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ru(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lu{constructor(n=[]){this.queries=n}createEmbeddedView(n){const l=n.queries;if(null!==l){const g=null!==n.contentQueries?n.contentQueries[0]:l.length,b=[];for(let T=0;T<g;T++){const z=l.getByIndex(T);b.push(this.queries[z.indexInDeclarationView].clone())}return new Lu(b)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let l=0;l<this.queries.length;l++)null!==Fp(n,l).matches&&this.queries[l].setDirty()}}class Pp{constructor(n,l,g=null){this.predicate=n,this.flags=l,this.read=g}}class Fu{constructor(n=[]){this.queries=n}elementStart(n,l){for(let g=0;g<this.queries.length;g++)this.queries[g].elementStart(n,l)}elementEnd(n){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(n)}embeddedTView(n){let l=null;for(let g=0;g<this.length;g++){const b=null!==l?l.length:0,T=this.getByIndex(g).embeddedTView(n,b);T&&(T.indexInDeclarationView=g,null!==l?l.push(T):l=[T])}return null!==l?new Fu(l):null}template(n,l){for(let g=0;g<this.queries.length;g++)this.queries[g].template(n,l)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Nu{constructor(n,l=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(n,l){this.isApplyingToNode(l)&&this.matchTNode(n,l)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,l){this.elementStart(n,l)}embeddedTView(n,l){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,l),new Nu(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let g=n.parent;for(;null!==g&&8&g.type&&g.index!==l;)g=g.parent;return l===(null!==g?g.index:-1)}return this._appliesToNextNode}matchTNode(n,l){const g=this.metadata.predicate;if(Array.isArray(g))for(let b=0;b<g.length;b++){const T=g[b];this.matchTNodeWithReadOption(n,l,Lb(l,T)),this.matchTNodeWithReadOption(n,l,Ms(l,n,T,!1,!1))}else g===zo?4&l.type&&this.matchTNodeWithReadOption(n,l,-1):this.matchTNodeWithReadOption(n,l,Ms(l,n,g,!1,!1))}matchTNodeWithReadOption(n,l,g){if(null!==g){const b=this.metadata.read;if(null!==b)if(b===Vo||b===La||b===zo&&4&l.type)this.addMatch(l.index,-2);else{const T=Ms(l,n,b,!1,!1);null!==T&&this.addMatch(l.index,T)}else this.addMatch(l.index,g)}}addMatch(n,l){null===this.matches?this.matches=[n,l]:this.matches.push(n,l)}}function Lb(t,n){const l=t.localNames;if(null!==l)for(let g=0;g<l.length;g+=2)if(l[g]===n)return l[g+1];return null}function Nb(t,n,l,g){return-1===l?function Fb(t,n){return 11&t.type?to(t,n):4&t.type?Ra(t,n):null}(n,t):-2===l?function Bb(t,n,l){return l===Vo?to(n,t):l===zo?Ra(n,t):l===La?Mp(n,t):void 0}(t,n,g):hs(t,t[1],l,n)}function Ap(t,n,l,g){const b=n[19].queries[g];if(null===b.matches){const T=t.data,z=l.matches,ie=[];for(let pe=0;pe<z.length;pe+=2){const Le=z[pe];ie.push(Le<0?null:Nb(n,T[Le],z[pe+1],l.metadata.read))}b.matches=ie}return b.matches}function Bu(t,n,l,g){const b=t.queries.getByIndex(l),T=b.matches;if(null!==T){const z=Ap(t,n,b,l);for(let ie=0;ie<T.length;ie+=2){const pe=T[ie];if(pe>0)g.push(z[ie/2]);else{const Le=T[ie+1],He=n[-pe];for(let ht=10;ht<He.length;ht++){const Dt=He[ht];Dt[17]===Dt[3]&&Bu(Dt[1],Dt,Le,g)}if(null!==He[9]){const ht=He[9];for(let Dt=0;Dt<ht.length;Dt++){const Vt=ht[Dt];Bu(Vt[1],Vt,Le,g)}}}}}return g}function Ip(t){const n=dn(),l=_(),g=Wn();dr(g+1);const b=Fp(l,g);if(t.dirty&&jn(n)===(2==(2&b.metadata.flags))){if(null===b.matches)t.reset([]);else{const T=b.crossesNgTemplate?Bu(l,n,g,[]):Ap(l,n,b,g);t.reset(T,Q0),t.notifyOnChanges()}return!0}return!1}function Op(t,n,l){const g=_();g.firstCreatePass&&(Lp(g,new Pp(t,n,l),-1),2==(2&n)&&(g.staticViewQueries=!0)),Rp(g,dn(),n)}function jp(t,n,l,g){const b=_();if(b.firstCreatePass){const T=P();Lp(b,new Pp(n,l,g),T.index),function Vb(t,n){const l=t.contentQueries||(t.contentQueries=[]);n!==(l.length?l[l.length-1]:-1)&&l.push(t.queries.length-1,n)}(b,t),2==(2&l)&&(b.staticContentQueries=!0)}Rp(b,dn(),l)}function kp(){return function Ub(t,n){return t[19].queries[n].queryList}(dn(),Wn())}function Rp(t,n,l){const g=new ju(4==(4&l));Nd(t,n,g,g.destroy),null===n[19]&&(n[19]=new Lu),n[19].queries.push(new Ru(g))}function Lp(t,n,l){null===t.queries&&(t.queries=new Fu),t.queries.track(new Nu(n,l))}function Fp(t,n){return t.queries.getByIndex(n)}function Ba(...t){}const em=new Vn("Application Initializer");let zu=(()=>{class t{constructor(l){this.appInits=l,this.resolve=Ba,this.reject=Ba,this.initialized=!1,this.done=!1,this.donePromise=new Promise((g,b)=>{this.resolve=g,this.reject=b})}runInitializers(){if(this.initialized)return;const l=[],g=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let b=0;b<this.appInits.length;b++){const T=this.appInits[b]();if(mu(T))l.push(T);else if(Uh(T)){const z=new Promise((ie,pe)=>{T.subscribe({complete:ie,error:pe})});l.push(z)}}Promise.all(l).then(()=>{g()}).catch(b=>{this.reject(b)}),0===l.length&&g(),this.initialized=!0}}return t.\u0275fac=function(l){return new(l||t)(Yr(em,8))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const tm=new Vn("AppId",{providedIn:"root",factory:function nm(){return`${Wu()}${Wu()}${Wu()}`}});function Wu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rm=new Vn("Platform Initializer"),im=new Vn("Platform ID"),sm=new Vn("appBootstrapListener");let om=(()=>{class t{log(l){console.log(l)}warn(l){console.warn(l)}}return t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac}),t})();const Yu=new Vn("LocaleId",{providedIn:"root",factory:()=>Vm(Yu,Qe.Optional|Qe.SkipSelf)||function s1(){return"undefined"!=typeof $localize&&$localize.locale||Ma}()}),o1=new Vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class a1{constructor(n,l){this.ngModuleFactory=n,this.componentFactories=l}}let l1=(()=>{class t{compileModuleSync(l){return new Iu(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const g=this.compileModuleSync(l),T=Hi(Zn(l).declarations).reduce((z,ie)=>{const pe=kt(ie);return pe&&z.push(new Au(pe)),z},[]);return new a1(g,T)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const c1=(()=>Promise.resolve(0))();function qu(t){"undefined"==typeof Zone?c1.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ni{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:g=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zi(!1),this.onMicrotaskEmpty=new Zi(!1),this.onStable=new Zi(!1),this.onError=new Zi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const b=this;b._nesting=0,b._outer=b._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(b._inner=b._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(b._inner=b._inner.fork(Zone.longStackTraceZoneSpec)),b.shouldCoalesceEventChangeDetection=!g&&l,b.shouldCoalesceRunChangeDetection=g,b.lastRequestAnimationFrameId=-1,b.nativeRequestAnimationFrame=function d1(){let t=Me.requestAnimationFrame,n=Me.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const l=t[Zone.__symbol__("OriginalDelegate")];l&&(t=l);const g=n[Zone.__symbol__("OriginalDelegate")];g&&(n=g)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function p1(t){const n=()=>{!function f1(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Me,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ju(t),t.isCheckStableRunning=!0,Zu(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ju(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,g,b,T,z,ie)=>{try{return am(t),l.invokeTask(b,T,z,ie)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===T.type||t.shouldCoalesceRunChangeDetection)&&n(),lm(t)}},onInvoke:(l,g,b,T,z,ie,pe)=>{try{return am(t),l.invoke(b,T,z,ie,pe)}finally{t.shouldCoalesceRunChangeDetection&&n(),lm(t)}},onHasTask:(l,g,b,T)=>{l.hasTask(b,T),g===b&&("microTask"==T.change?(t._hasPendingMicrotasks=T.microTask,Ju(t),Zu(t)):"macroTask"==T.change&&(t.hasPendingMacrotasks=T.macroTask))},onHandleError:(l,g,b,T)=>(l.handleError(b,T),t.runOutsideAngular(()=>t.onError.emit(T)),!1)})}(b)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ni.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ni.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,l,g){return this._inner.run(n,l,g)}runTask(n,l,g,b){const T=this._inner,z=T.scheduleEventTask("NgZoneEvent: "+b,n,h1,Ba,Ba);try{return T.runTask(z,l,g)}finally{T.cancelTask(z)}}runGuarded(n,l,g){return this._inner.runGuarded(n,l,g)}runOutsideAngular(n){return this._outer.run(n)}}const h1={};function Zu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ju(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function am(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lm(t){t._nesting--,Zu(t)}class m1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zi,this.onMicrotaskEmpty=new Zi,this.onStable=new Zi,this.onError=new Zi}run(n,l,g){return n.apply(l,g)}runGuarded(n,l,g){return n.apply(l,g)}runOutsideAngular(n){return n()}runTask(n,l,g,b){return n.apply(l,g)}}let um=(()=>{class t{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ni.assertNotInAngularZone(),qu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())qu(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(l)||(clearTimeout(g.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,g,b){let T=-1;g&&g>0&&(T=setTimeout(()=>{this._callbacks=this._callbacks.filter(z=>z.timeoutId!==T),l(this._didWork,this.getPendingTasks())},g)),this._callbacks.push({doneCb:l,timeoutId:T,updateCb:b})}whenStable(l,g,b){if(b&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,g,b),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,g,b){return[]}}return t.\u0275fac=function(l){return new(l||t)(Yr(Ni))},t.\u0275prov=we({token:t,factory:t.\u0275fac}),t})(),cm=(()=>{class t{constructor(){this._applications=new Map,Xu.addToWindow(this)}registerApplication(l,g){this._applications.set(l,g)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,g=!0){return Xu.findTestabilityInTree(this,l,g)}}return t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac}),t})();class g1{addToWindow(n){}findTestabilityInTree(n,l,g){return null}}function y1(t){Xu=t}let Bi,Xu=new g1;const dm=new Vn("AllowMultipleToken");class b1{constructor(n,l){this.name=n,this.token=l}}function hm(t,n,l=[]){const g=`Platform: ${n}`,b=new Vn(g);return(T=[])=>{let z=fm();if(!z||z.injector.get(dm,!1))if(t)t(l.concat(T).concat({provide:b,useValue:!0}));else{const ie=l.concat(T).concat({provide:b,useValue:!0},{provide:Jl,useValue:"platform"});!function w1(t){if(Bi&&!Bi.destroyed&&!Bi.injector.get(dm,!1))throw new h(400,"");Bi=t.get(pm);const n=t.get(rm,null);n&&n.forEach(l=>l())}(ji.create({providers:ie,name:g}))}return function x1(t){const n=fm();if(!n)throw new h(401,"");return n}()}}function fm(){return Bi&&!Bi.destroyed?Bi:null}let pm=(()=>{class t{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,g){const ie=function E1(t,n){let l;return l="noop"===t?new m1:("zone.js"===t?void 0:t)||new Ni({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),l}(g?g.ngZone:void 0,{ngZoneEventCoalescing:g&&g.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:g&&g.ngZoneRunCoalescing||!1}),pe=[{provide:Ni,useValue:ie}];return ie.run(()=>{const Le=ji.create({providers:pe,parent:this.injector,name:l.moduleType.name}),He=l.create(Le),ht=He.injector.get(ca,null);if(!ht)throw new h(402,"");return ie.runOutsideAngular(()=>{const Dt=ie.onError.subscribe({next:Vt=>{ht.handleError(Vt)}});He.onDestroy(()=>{Ku(this._modules,He),Dt.unsubscribe()})}),function C1(t,n,l){try{const g=l();return mu(g)?g.catch(b=>{throw n.runOutsideAngular(()=>t.handleError(b)),b}):g}catch(g){throw n.runOutsideAngular(()=>t.handleError(g)),g}}(ht,ie,()=>{const Dt=He.injector.get(zu);return Dt.runInitializers(),Dt.donePromise.then(()=>(function Q_(t){he(t,"Expected localeId to be defined"),"string"==typeof t&&(Nf=t.toLowerCase().replace(/_/g,"-"))}(He.injector.get(Yu,Ma)||Ma),this._moduleDoBootstrap(He),He))})})}bootstrapModule(l,g=[]){const b=mm({},g);return function v1(t,n,l){const g=new Iu(l);return Promise.resolve(g)}(0,0,l).then(T=>this.bootstrapModuleFactory(T,b))}_moduleDoBootstrap(l){const g=l.injector.get(Qu);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(b=>g.bootstrap(b));else{if(!l.instance.ngDoBootstrap)throw new h(403,"");l.instance.ngDoBootstrap(g)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new h(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(l){return new(l||t)(Yr(ji))},t.\u0275prov=we({token:t,factory:t.\u0275fac}),t})();function mm(t,n){return Array.isArray(n)?n.reduce(mm,t):Object.assign(Object.assign({},t),n)}let Qu=(()=>{class t{constructor(l,g,b,T,z){this._zone=l,this._injector=g,this._exceptionHandler=b,this._componentFactoryResolver=T,this._initStatus=z,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const ie=new Xe.y(Le=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Le.next(this._stable),Le.complete()})}),pe=new Xe.y(Le=>{let He;this._zone.runOutsideAngular(()=>{He=this._zone.onStable.subscribe(()=>{Ni.assertNotInAngularZone(),qu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Le.next(!0))})})});const ht=this._zone.onUnstable.subscribe(()=>{Ni.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Le.next(!1)}))});return()=>{He.unsubscribe(),ht.unsubscribe()}});this.isStable=(0,xe.T)(ie,pe.pipe(function f(){return t=>(0,U.x)()((0,e.O)(E)(t))}()))}bootstrap(l,g){if(!this._initStatus.done)throw new h(405,"");let b;b=l instanceof cp?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(b.componentType);const T=function _1(t){return t.isBoundToModule}(b)?void 0:this._injector.get(no),ie=b.create(ji.NULL,[],g||b.selector,T),pe=ie.location.nativeElement,Le=ie.injector.get(um,null),He=Le&&ie.injector.get(cm);return Le&&He&&He.registerApplication(pe,Le),ie.onDestroy(()=>{this.detachView(ie.hostView),Ku(this.components,ie),He&&He.unregisterApplication(pe)}),this._loadComponent(ie),ie}tick(){if(this._runningTick)throw new h(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const g=l;this._views.push(g),g.attachToAppRef(this)}detachView(l){const g=l;Ku(this._views,g),g.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(sm,[]).concat(this._bootstrapListeners).forEach(b=>b(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(l){return new(l||t)(Yr(Ni),Yr(ji),Yr(ca),Yr(ja),Yr(zu))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ku(t,n){const l=t.indexOf(n);l>-1&&t.splice(l,1)}let ym=!0;function S1(){ym=!1}let T1=(()=>{class t{}return t.__NG_ELEMENT_ID__=M1,t})();function M1(t){return function P1(t,n,l){if(_n(t)&&!l){const g=gn(t.index,n);return new Go(g,g)}return 47&t.type?new Go(n[16],n):null}(P(),dn(),16==(16&t))}class xm{constructor(){}supports(n){return jo(n)}create(n){return new R1(n)}}const k1=(t,n)=>n;class R1{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||k1}forEachItem(n){let l;for(l=this._itHead;null!==l;l=l._next)n(l)}forEachOperation(n){let l=this._itHead,g=this._removalsHead,b=0,T=null;for(;l||g;){const z=!g||l&&l.currentIndex<Cm(g,b,T)?l:g,ie=Cm(z,b,T),pe=z.currentIndex;if(z===g)b--,g=g._nextRemoved;else if(l=l._next,null==z.previousIndex)b++;else{T||(T=[]);const Le=ie-b,He=pe-b;if(Le!=He){for(let Dt=0;Dt<Le;Dt++){const Vt=Dt<T.length?T[Dt]:T[Dt]=0,an=Vt+Dt;He<=an&&an<Le&&(T[Dt]=Vt+1)}T[z.previousIndex]=He-Le}}ie!==pe&&n(z,ie,pe)}}forEachPreviousItem(n){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)n(l)}forEachAddedItem(n){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)n(l)}forEachMovedItem(n){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)n(l)}forEachRemovedItem(n){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)n(l)}forEachIdentityChange(n){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)n(l)}diff(n){if(null==n&&(n=[]),!jo(n))throw new h(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let b,T,z,l=this._itHead,g=!1;if(Array.isArray(n)){this.length=n.length;for(let ie=0;ie<this.length;ie++)T=n[ie],z=this._trackByFn(ie,T),null!==l&&Object.is(l.trackById,z)?(g&&(l=this._verifyReinsertion(l,T,z,ie)),Object.is(l.item,T)||this._addIdentityChange(l,T)):(l=this._mismatch(l,T,z,ie),g=!0),l=l._next}else b=0,function Fv(t,n){if(Array.isArray(t))for(let l=0;l<t.length;l++)n(t[l]);else{const l=t[Vs()]();let g;for(;!(g=l.next()).done;)n(g.value)}}(n,ie=>{z=this._trackByFn(b,ie),null!==l&&Object.is(l.trackById,z)?(g&&(l=this._verifyReinsertion(l,ie,z,b)),Object.is(l.item,ie)||this._addIdentityChange(l,ie)):(l=this._mismatch(l,ie,z,b),g=!0),l=l._next,b++}),this.length=b;return this._truncate(l),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,l,g,b){let T;return null===n?T=this._itTail:(T=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null))?(Object.is(n.item,l)||this._addIdentityChange(n,l),this._reinsertAfter(n,T,b)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(g,b))?(Object.is(n.item,l)||this._addIdentityChange(n,l),this._moveAfter(n,T,b)):n=this._addAfter(new L1(l,g),T,b),n}_verifyReinsertion(n,l,g,b){let T=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null);return null!==T?n=this._reinsertAfter(T,n._prev,b):n.currentIndex!=b&&(n.currentIndex=b,this._addToMoves(n,b)),n}_truncate(n){for(;null!==n;){const l=n._next;this._addToRemovals(this._unlink(n)),n=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,l,g){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const b=n._prevRemoved,T=n._nextRemoved;return null===b?this._removalsHead=T:b._nextRemoved=T,null===T?this._removalsTail=b:T._prevRemoved=b,this._insertAfter(n,l,g),this._addToMoves(n,g),n}_moveAfter(n,l,g){return this._unlink(n),this._insertAfter(n,l,g),this._addToMoves(n,g),n}_addAfter(n,l,g){return this._insertAfter(n,l,g),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,l,g){const b=null===l?this._itHead:l._next;return n._next=b,n._prev=l,null===b?this._itTail=n:b._prev=n,null===l?this._itHead=n:l._next=n,null===this._linkedRecords&&(this._linkedRecords=new Em),this._linkedRecords.put(n),n.currentIndex=g,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const l=n._prev,g=n._next;return null===l?this._itHead=g:l._next=g,null===g?this._itTail=l:g._prev=l,n}_addToMoves(n,l){return n.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Em),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,l){return n.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class L1{constructor(n,l){this.item=n,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class F1{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,l){let g;for(g=this._head;null!==g;g=g._nextDup)if((null===l||l<=g.currentIndex)&&Object.is(g.trackById,n))return g;return null}remove(n){const l=n._prevDup,g=n._nextDup;return null===l?this._head=g:l._nextDup=g,null===g?this._tail=l:g._prevDup=l,null===this._head}}class Em{constructor(){this.map=new Map}put(n){const l=n.trackById;let g=this.map.get(l);g||(g=new F1,this.map.set(l,g)),g.add(n)}get(n,l){const b=this.map.get(n);return b?b.get(n,l):null}remove(n){const l=n.trackById;return this.map.get(l).remove(n)&&this.map.delete(l),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cm(t,n,l){const g=t.previousIndex;if(null===g)return g;let b=0;return l&&g<l.length&&(b=l[g]),g+n+b}class Dm{constructor(){}supports(n){return n instanceof Map||ru(n)}create(){return new N1}}class N1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let l;for(l=this._mapHead;null!==l;l=l._next)n(l)}forEachPreviousItem(n){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)n(l)}forEachChangedItem(n){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)n(l)}forEachAddedItem(n){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)n(l)}forEachRemovedItem(n){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)n(l)}diff(n){if(n){if(!(n instanceof Map||ru(n)))throw new h(900,"")}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(n,(g,b)=>{if(l&&l.key===b)this._maybeAddToChanges(l,g),this._appendAfter=l,l=l._next;else{const T=this._getOrCreateRecordForKey(b,g);l=this._insertBeforeOrAppend(l,T)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let g=l;null!==g;g=g._nextRemoved)g===this._mapHead&&(this._mapHead=null),this._records.delete(g.key),g._nextRemoved=g._next,g.previousValue=g.currentValue,g.currentValue=null,g._prev=null,g._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,l){if(n){const g=n._prev;return l._next=n,l._prev=g,n._prev=l,g&&(g._next=l),n===this._mapHead&&(this._mapHead=l),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(n,l){if(this._records.has(n)){const b=this._records.get(n);this._maybeAddToChanges(b,l);const T=b._prev,z=b._next;return T&&(T._next=z),z&&(z._prev=T),b._next=null,b._prev=null,b}const g=new B1(n);return this._records.set(n,g),g.currentValue=l,this._addToAdditions(g),g}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,l){Object.is(l,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=l,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,l){n instanceof Map?n.forEach(l):Object.keys(n).forEach(g=>l(n[g],g))}}class B1{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Sm(){return new ic([new xm])}let ic=(()=>{class t{constructor(l){this.factories=l}static create(l,g){if(null!=g){const b=g.factories.slice();l=l.concat(b)}return new t(l)}static extend(l){return{provide:t,useFactory:g=>t.create(l,g||Sm()),deps:[[t,new xo,new wo]]}}find(l){const g=this.factories.find(b=>b.supports(l));if(null!=g)return g;throw new h(901,"")}}return t.\u0275prov=we({token:t,providedIn:"root",factory:Sm}),t})();function Tm(){return new sc([new Dm])}let sc=(()=>{class t{constructor(l){this.factories=l}static create(l,g){if(g){const b=g.factories.slice();l=l.concat(b)}return new t(l)}static extend(l){return{provide:t,useFactory:g=>t.create(l,g||Tm()),deps:[[t,new xo,new wo]]}}find(l){const g=this.factories.find(T=>T.supports(l));if(g)return g;throw new h(901,"")}}return t.\u0275prov=we({token:t,providedIn:"root",factory:Tm}),t})();const G1=hm(null,"core",[{provide:im,useValue:"unknown"},{provide:pm,deps:[ji]},{provide:cm,deps:[]},{provide:om,deps:[]}]);let $1=(()=>{class t{constructor(l){}}return t.\u0275fac=function(l){return new(l||t)(Yr(Qu))},t.\u0275mod=V({type:t}),t.\u0275inj=Te({}),t})()},4182:(hn,Mt,se)=>{"use strict";se.d(Mt,{Fj:()=>h,u5:()=>jn,JU:()=>u,a5:()=>Re,JJ:()=>jt,On:()=>Cn});var m=se(9863),ye=se(9808),Xe=se(2916),xe=se(6688),e=se(4850),U=se(7830),E=se(5254);function o(Pe,fe){return new Xe.y(ge=>{const Ze=Pe.length;if(0===Ze)return void ge.complete();const en=new Array(Ze);let Pn=0,_r=0;for(let Pr=0;Pr<Ze;Pr++){const cr=(0,E.D)(Pe[Pr]);let dn=!1;ge.add(cr.subscribe({next:_=>{dn||(dn=!0,_r++),en[Pr]=_},error:_=>ge.error(_),complete:()=>{Pn++,(Pn===Ze||!dn)&&(_r===Ze&&ge.next(fe?fe.reduce((_,D,P)=>(_[D]=en[P],_),{}):en),ge.complete())}}))}})}let a=(()=>{class Pe{constructor(ge,Ze){this._renderer=ge,this._elementRef=Ze,this.onChange=en=>{},this.onTouched=()=>{}}setProperty(ge,Ze){this._renderer.setProperty(this._elementRef.nativeElement,ge,Ze)}registerOnTouched(ge){this.onTouched=ge}registerOnChange(ge){this.onChange=ge}setDisabledState(ge){this.setProperty("disabled",ge)}}return Pe.\u0275fac=function(ge){return new(ge||Pe)(m.Y36(m.Qsj),m.Y36(m.SBq))},Pe.\u0275dir=m.lG2({type:Pe}),Pe})(),d=(()=>{class Pe extends a{}return Pe.\u0275fac=function(){let fe;return function(Ze){return(fe||(fe=m.n5z(Pe)))(Ze||Pe)}}(),Pe.\u0275dir=m.lG2({type:Pe,features:[m.qOj]}),Pe})();const u=new m.OlP("NgValueAccessor"),r={provide:u,useExisting:(0,m.Gpc)(()=>h),multi:!0},c=new m.OlP("CompositionEventMode");let h=(()=>{class Pe extends a{constructor(ge,Ze,en){super(ge,Ze),this._compositionMode=en,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function i(){const Pe=(0,ye.q)()?(0,ye.q)().getUserAgent():"";return/android (\d+)/.test(Pe.toLowerCase())}())}writeValue(ge){this.setProperty("value",null==ge?"":ge)}_handleInput(ge){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ge)}_compositionStart(){this._composing=!0}_compositionEnd(ge){this._composing=!1,this._compositionMode&&this.onChange(ge)}}return Pe.\u0275fac=function(ge){return new(ge||Pe)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(c,8))},Pe.\u0275dir=m.lG2({type:Pe,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ge,Ze){1&ge&&m.NdJ("input",function(Pn){return Ze._handleInput(Pn.target.value)})("blur",function(){return Ze.onTouched()})("compositionstart",function(){return Ze._compositionStart()})("compositionend",function(Pn){return Ze._compositionEnd(Pn.target.value)})},features:[m._Bn([r]),m.qOj]}),Pe})();const x=new m.OlP("NgValidators"),w=new m.OlP("NgAsyncValidators");function oe(Pe){return null!=Pe}function Q(Pe){const fe=(0,m.QGY)(Pe)?(0,E.D)(Pe):Pe;return(0,m.CqO)(fe),fe}function te(Pe){let fe={};return Pe.forEach(ge=>{fe=null!=ge?Object.assign(Object.assign({},fe),ge):fe}),0===Object.keys(fe).length?null:fe}function me(Pe,fe){return fe.map(ge=>ge(Pe))}function he(Pe){return Pe.map(fe=>function ce(Pe){return!Pe.validate}(fe)?fe:ge=>fe.validate(ge))}function A(Pe){return null!=Pe?function Ae(Pe){if(!Pe)return null;const fe=Pe.filter(oe);return 0==fe.length?null:function(ge){return te(me(ge,fe))}}(he(Pe)):null}function K(Pe){return null!=Pe?function q(Pe){if(!Pe)return null;const fe=Pe.filter(oe);return 0==fe.length?null:function(ge){return function f(...Pe){if(1===Pe.length){const fe=Pe[0];if((0,xe.k)(fe))return o(fe,null);if((0,U.K)(fe)&&Object.getPrototypeOf(fe)===Object.prototype){const ge=Object.keys(fe);return o(ge.map(Ze=>fe[Ze]),ge)}}if("function"==typeof Pe[Pe.length-1]){const fe=Pe.pop();return o(Pe=1===Pe.length&&(0,xe.k)(Pe[0])?Pe[0]:Pe,null).pipe((0,e.U)(ge=>fe(...ge)))}return o(Pe,null)}(me(ge,fe).map(Q)).pipe((0,e.U)(te))}}(he(Pe)):null}function we(Pe,fe){return null===Pe?[fe]:Array.isArray(Pe)?[...Pe,fe]:[Pe,fe]}function Ie(Pe){return Pe?Array.isArray(Pe)?Pe:[Pe]:[]}function Ve(Pe,fe){return Array.isArray(Pe)?Pe.includes(fe):Pe===fe}function Ue(Pe,fe){const ge=Ie(fe);return Ie(Pe).forEach(en=>{Ve(ge,en)||ge.push(en)}),ge}function et(Pe,fe){return Ie(fe).filter(ge=>!Ve(Pe,ge))}class mt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(fe){this._rawValidators=fe||[],this._composedValidatorFn=A(this._rawValidators)}_setAsyncValidators(fe){this._rawAsyncValidators=fe||[],this._composedAsyncValidatorFn=K(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(fe){this._onDestroyCallbacks.push(fe)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(fe=>fe()),this._onDestroyCallbacks=[]}reset(fe){this.control&&this.control.reset(fe)}hasError(fe,ge){return!!this.control&&this.control.hasError(fe,ge)}getError(fe,ge){return this.control?this.control.getError(fe,ge):null}}class Re extends mt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ot extends mt{get formDirective(){return null}get path(){return null}}let jt=(()=>{class Pe extends class ut{constructor(fe){this._cd=fe}is(fe){var ge,Ze,en;return"submitted"===fe?!!(null===(ge=this._cd)||void 0===ge?void 0:ge.submitted):!!(null===(en=null===(Ze=this._cd)||void 0===Ze?void 0:Ze.control)||void 0===en?void 0:en[fe])}}{constructor(ge){super(ge)}}return Pe.\u0275fac=function(ge){return new(ge||Pe)(m.Y36(Re,2))},Pe.\u0275dir=m.lG2({type:Pe,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ge,Ze){2&ge&&m.ekj("ng-untouched",Ze.is("untouched"))("ng-touched",Ze.is("touched"))("ng-pristine",Ze.is("pristine"))("ng-dirty",Ze.is("dirty"))("ng-valid",Ze.is("valid"))("ng-invalid",Ze.is("invalid"))("ng-pending",Ze.is("pending"))},features:[m.qOj]}),Pe})();function Kt(Pe,fe){(function bn(Pe,fe){const ge=function Fe(Pe){return Pe._rawValidators}(Pe);null!==fe.validator?Pe.setValidators(we(ge,fe.validator)):"function"==typeof ge&&Pe.setValidators([ge]);const Ze=function Te(Pe){return Pe._rawAsyncValidators}(Pe);null!==fe.asyncValidator?Pe.setAsyncValidators(we(Ze,fe.asyncValidator)):"function"==typeof Ze&&Pe.setAsyncValidators([Ze]);const en=()=>Pe.updateValueAndValidity();nn(fe._rawValidators,en),nn(fe._rawAsyncValidators,en)})(Pe,fe),fe.valueAccessor.writeValue(Pe.value),function le(Pe,fe){fe.valueAccessor.registerOnChange(ge=>{Pe._pendingValue=ge,Pe._pendingChange=!0,Pe._pendingDirty=!0,"change"===Pe.updateOn&&I(Pe,fe)})}(Pe,fe),function J(Pe,fe){const ge=(Ze,en)=>{fe.valueAccessor.writeValue(Ze),en&&fe.viewToModelUpdate(Ze)};Pe.registerOnChange(ge),fe._registerOnDestroy(()=>{Pe._unregisterOnChange(ge)})}(Pe,fe),function S(Pe,fe){fe.valueAccessor.registerOnTouched(()=>{Pe._pendingTouched=!0,"blur"===Pe.updateOn&&Pe._pendingChange&&I(Pe,fe),"submit"!==Pe.updateOn&&Pe.markAsTouched()})}(Pe,fe),function Wt(Pe,fe){if(fe.valueAccessor.setDisabledState){const ge=Ze=>{fe.valueAccessor.setDisabledState(Ze)};Pe.registerOnDisabledChange(ge),fe._registerOnDestroy(()=>{Pe._unregisterOnDisabledChange(ge)})}}(Pe,fe)}function nn(Pe,fe){Pe.forEach(ge=>{ge.registerOnValidatorChange&&ge.registerOnValidatorChange(fe)})}function I(Pe,fe){Pe._pendingDirty&&Pe.markAsDirty(),Pe.setValue(Pe._pendingValue,{emitModelToViewChange:!1}),fe.viewToModelUpdate(Pe._pendingValue),Pe._pendingChange=!1}function Zn(Pe,fe){const ge=Pe.indexOf(fe);ge>-1&&Pe.splice(ge,1)}const fr="VALID",Xn="INVALID",pt="PENDING",Jt="DISABLED";function qt(Pe){return(sn(Pe)?Pe.validators:Pe)||null}function ct(Pe){return Array.isArray(Pe)?A(Pe):Pe||null}function _t(Pe,fe){return(sn(fe)?fe.asyncValidators:Pe)||null}function un(Pe){return Array.isArray(Pe)?K(Pe):Pe||null}function sn(Pe){return null!=Pe&&!Array.isArray(Pe)&&"object"==typeof Pe}const Qt=Pe=>Pe instanceof sr;function On(Pe){return(Pe=>Pe instanceof Kn)(Pe)?Pe.value:Pe.getRawValue()}function $n(Pe,fe){const ge=Qt(Pe),Ze=Pe.controls;if(!(ge?Object.keys(Ze):Ze).length)throw new m.vHH(1e3,"");if(!Ze[fe])throw new m.vHH(1001,"")}function Hn(Pe,fe){Qt(Pe),Pe._forEachChild((Ze,en)=>{if(void 0===fe[en])throw new m.vHH(1002,"")})}class Dn{constructor(fe,ge){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=fe,this._rawAsyncValidators=ge,this._composedValidatorFn=ct(this._rawValidators),this._composedAsyncValidatorFn=un(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(fe){this._rawValidators=this._composedValidatorFn=fe}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(fe){this._rawAsyncValidators=this._composedAsyncValidatorFn=fe}get parent(){return this._parent}get valid(){return this.status===fr}get invalid(){return this.status===Xn}get pending(){return this.status==pt}get disabled(){return this.status===Jt}get enabled(){return this.status!==Jt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(fe){this._rawValidators=fe,this._composedValidatorFn=ct(fe)}setAsyncValidators(fe){this._rawAsyncValidators=fe,this._composedAsyncValidatorFn=un(fe)}addValidators(fe){this.setValidators(Ue(fe,this._rawValidators))}addAsyncValidators(fe){this.setAsyncValidators(Ue(fe,this._rawAsyncValidators))}removeValidators(fe){this.setValidators(et(fe,this._rawValidators))}removeAsyncValidators(fe){this.setAsyncValidators(et(fe,this._rawAsyncValidators))}hasValidator(fe){return Ve(this._rawValidators,fe)}hasAsyncValidator(fe){return Ve(this._rawAsyncValidators,fe)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(fe={}){this.touched=!0,this._parent&&!fe.onlySelf&&this._parent.markAsTouched(fe)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(fe=>fe.markAllAsTouched())}markAsUntouched(fe={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(ge=>{ge.markAsUntouched({onlySelf:!0})}),this._parent&&!fe.onlySelf&&this._parent._updateTouched(fe)}markAsDirty(fe={}){this.pristine=!1,this._parent&&!fe.onlySelf&&this._parent.markAsDirty(fe)}markAsPristine(fe={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(ge=>{ge.markAsPristine({onlySelf:!0})}),this._parent&&!fe.onlySelf&&this._parent._updatePristine(fe)}markAsPending(fe={}){this.status=pt,!1!==fe.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!fe.onlySelf&&this._parent.markAsPending(fe)}disable(fe={}){const ge=this._parentMarkedDirty(fe.onlySelf);this.status=Jt,this.errors=null,this._forEachChild(Ze=>{Ze.disable(Object.assign(Object.assign({},fe),{onlySelf:!0}))}),this._updateValue(),!1!==fe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},fe),{skipPristineCheck:ge})),this._onDisabledChange.forEach(Ze=>Ze(!0))}enable(fe={}){const ge=this._parentMarkedDirty(fe.onlySelf);this.status=fr,this._forEachChild(Ze=>{Ze.enable(Object.assign(Object.assign({},fe),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:fe.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},fe),{skipPristineCheck:ge})),this._onDisabledChange.forEach(Ze=>Ze(!1))}_updateAncestors(fe){this._parent&&!fe.onlySelf&&(this._parent.updateValueAndValidity(fe),fe.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(fe){this._parent=fe}updateValueAndValidity(fe={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fr||this.status===pt)&&this._runAsyncValidator(fe.emitEvent)),!1!==fe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!fe.onlySelf&&this._parent.updateValueAndValidity(fe)}_updateTreeValidity(fe={emitEvent:!0}){this._forEachChild(ge=>ge._updateTreeValidity(fe)),this.updateValueAndValidity({onlySelf:!0,emitEvent:fe.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jt:fr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(fe){if(this.asyncValidator){this.status=pt,this._hasOwnPendingAsyncValidator=!0;const ge=Q(this.asyncValidator(this));this._asyncValidationSubscription=ge.subscribe(Ze=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Ze,{emitEvent:fe})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(fe,ge={}){this.errors=fe,this._updateControlsErrors(!1!==ge.emitEvent)}get(fe){return function mn(Pe,fe,ge){if(null==fe||(Array.isArray(fe)||(fe=fe.split(ge)),Array.isArray(fe)&&0===fe.length))return null;let Ze=Pe;return fe.forEach(en=>{Ze=Qt(Ze)?Ze.controls.hasOwnProperty(en)?Ze.controls[en]:null:(Pe=>Pe instanceof Qn)(Ze)&&Ze.at(en)||null}),Ze}(this,fe,".")}getError(fe,ge){const Ze=ge?this.get(ge):this;return Ze&&Ze.errors?Ze.errors[fe]:null}hasError(fe,ge){return!!this.getError(fe,ge)}get root(){let fe=this;for(;fe._parent;)fe=fe._parent;return fe}_updateControlsErrors(fe){this.status=this._calculateStatus(),fe&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(fe)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?Jt:this.errors?Xn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pt)?pt:this._anyControlsHaveStatus(Xn)?Xn:fr}_anyControlsHaveStatus(fe){return this._anyControls(ge=>ge.status===fe)}_anyControlsDirty(){return this._anyControls(fe=>fe.dirty)}_anyControlsTouched(){return this._anyControls(fe=>fe.touched)}_updatePristine(fe={}){this.pristine=!this._anyControlsDirty(),this._parent&&!fe.onlySelf&&this._parent._updatePristine(fe)}_updateTouched(fe={}){this.touched=this._anyControlsTouched(),this._parent&&!fe.onlySelf&&this._parent._updateTouched(fe)}_isBoxedValue(fe){return"object"==typeof fe&&null!==fe&&2===Object.keys(fe).length&&"value"in fe&&"disabled"in fe}_registerOnCollectionChange(fe){this._onCollectionChange=fe}_setUpdateStrategy(fe){sn(fe)&&null!=fe.updateOn&&(this._updateOn=fe.updateOn)}_parentMarkedDirty(fe){return!fe&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Kn extends Dn{constructor(fe=null,ge,Ze){super(qt(ge),_t(Ze,ge)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(fe),this._setUpdateStrategy(ge),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sn(ge)&&ge.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(fe)?fe.value:fe)}setValue(fe,ge={}){this.value=this._pendingValue=fe,this._onChange.length&&!1!==ge.emitModelToViewChange&&this._onChange.forEach(Ze=>Ze(this.value,!1!==ge.emitViewToModelChange)),this.updateValueAndValidity(ge)}patchValue(fe,ge={}){this.setValue(fe,ge)}reset(fe=this.defaultValue,ge={}){this._applyFormState(fe),this.markAsPristine(ge),this.markAsUntouched(ge),this.setValue(this.value,ge),this._pendingChange=!1}_updateValue(){}_anyControls(fe){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(fe){this._onChange.push(fe)}_unregisterOnChange(fe){Zn(this._onChange,fe)}registerOnDisabledChange(fe){this._onDisabledChange.push(fe)}_unregisterOnDisabledChange(fe){Zn(this._onDisabledChange,fe)}_forEachChild(fe){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(fe){this._isBoxedValue(fe)?(this.value=this._pendingValue=fe.value,fe.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=fe}}class sr extends Dn{constructor(fe,ge,Ze){super(qt(ge),_t(Ze,ge)),this.controls=fe,this._initObservables(),this._setUpdateStrategy(ge),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(fe,ge){return this.controls[fe]?this.controls[fe]:(this.controls[fe]=ge,ge.setParent(this),ge._registerOnCollectionChange(this._onCollectionChange),ge)}addControl(fe,ge,Ze={}){this.registerControl(fe,ge),this.updateValueAndValidity({emitEvent:Ze.emitEvent}),this._onCollectionChange()}removeControl(fe,ge={}){this.controls[fe]&&this.controls[fe]._registerOnCollectionChange(()=>{}),delete this.controls[fe],this.updateValueAndValidity({emitEvent:ge.emitEvent}),this._onCollectionChange()}setControl(fe,ge,Ze={}){this.controls[fe]&&this.controls[fe]._registerOnCollectionChange(()=>{}),delete this.controls[fe],ge&&this.registerControl(fe,ge),this.updateValueAndValidity({emitEvent:Ze.emitEvent}),this._onCollectionChange()}contains(fe){return this.controls.hasOwnProperty(fe)&&this.controls[fe].enabled}setValue(fe,ge={}){Hn(this,fe),Object.keys(fe).forEach(Ze=>{$n(this,Ze),this.controls[Ze].setValue(fe[Ze],{onlySelf:!0,emitEvent:ge.emitEvent})}),this.updateValueAndValidity(ge)}patchValue(fe,ge={}){null!=fe&&(Object.keys(fe).forEach(Ze=>{this.controls[Ze]&&this.controls[Ze].patchValue(fe[Ze],{onlySelf:!0,emitEvent:ge.emitEvent})}),this.updateValueAndValidity(ge))}reset(fe={},ge={}){this._forEachChild((Ze,en)=>{Ze.reset(fe[en],{onlySelf:!0,emitEvent:ge.emitEvent})}),this._updatePristine(ge),this._updateTouched(ge),this.updateValueAndValidity(ge)}getRawValue(){return this._reduceChildren({},(fe,ge,Ze)=>(fe[Ze]=On(ge),fe))}_syncPendingControls(){let fe=this._reduceChildren(!1,(ge,Ze)=>!!Ze._syncPendingControls()||ge);return fe&&this.updateValueAndValidity({onlySelf:!0}),fe}_forEachChild(fe){Object.keys(this.controls).forEach(ge=>{const Ze=this.controls[ge];Ze&&fe(Ze,ge)})}_setUpControls(){this._forEachChild(fe=>{fe.setParent(this),fe._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(fe){for(const ge of Object.keys(this.controls)){const Ze=this.controls[ge];if(this.contains(ge)&&fe(Ze))return!0}return!1}_reduceValue(){return this._reduceChildren({},(fe,ge,Ze)=>((ge.enabled||this.disabled)&&(fe[Ze]=ge.value),fe))}_reduceChildren(fe,ge){let Ze=fe;return this._forEachChild((en,Pn)=>{Ze=ge(Ze,en,Pn)}),Ze}_allControlsDisabled(){for(const fe of Object.keys(this.controls))if(this.controls[fe].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Qn extends Dn{constructor(fe,ge,Ze){super(qt(ge),_t(Ze,ge)),this.controls=fe,this._initObservables(),this._setUpdateStrategy(ge),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(fe){return this.controls[fe]}push(fe,ge={}){this.controls.push(fe),this._registerControl(fe),this.updateValueAndValidity({emitEvent:ge.emitEvent}),this._onCollectionChange()}insert(fe,ge,Ze={}){this.controls.splice(fe,0,ge),this._registerControl(ge),this.updateValueAndValidity({emitEvent:Ze.emitEvent})}removeAt(fe,ge={}){this.controls[fe]&&this.controls[fe]._registerOnCollectionChange(()=>{}),this.controls.splice(fe,1),this.updateValueAndValidity({emitEvent:ge.emitEvent})}setControl(fe,ge,Ze={}){this.controls[fe]&&this.controls[fe]._registerOnCollectionChange(()=>{}),this.controls.splice(fe,1),ge&&(this.controls.splice(fe,0,ge),this._registerControl(ge)),this.updateValueAndValidity({emitEvent:Ze.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(fe,ge={}){Hn(this,fe),fe.forEach((Ze,en)=>{$n(this,en),this.at(en).setValue(Ze,{onlySelf:!0,emitEvent:ge.emitEvent})}),this.updateValueAndValidity(ge)}patchValue(fe,ge={}){null!=fe&&(fe.forEach((Ze,en)=>{this.at(en)&&this.at(en).patchValue(Ze,{onlySelf:!0,emitEvent:ge.emitEvent})}),this.updateValueAndValidity(ge))}reset(fe=[],ge={}){this._forEachChild((Ze,en)=>{Ze.reset(fe[en],{onlySelf:!0,emitEvent:ge.emitEvent})}),this._updatePristine(ge),this._updateTouched(ge),this.updateValueAndValidity(ge)}getRawValue(){return this.controls.map(fe=>On(fe))}clear(fe={}){this.controls.length<1||(this._forEachChild(ge=>ge._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:fe.emitEvent}))}_syncPendingControls(){let fe=this.controls.reduce((ge,Ze)=>!!Ze._syncPendingControls()||ge,!1);return fe&&this.updateValueAndValidity({onlySelf:!0}),fe}_forEachChild(fe){this.controls.forEach((ge,Ze)=>{fe(ge,Ze)})}_updateValue(){this.value=this.controls.filter(fe=>fe.enabled||this.disabled).map(fe=>fe.value)}_anyControls(fe){return this.controls.some(ge=>ge.enabled&&fe(ge))}_setUpControls(){this._forEachChild(fe=>this._registerControl(fe))}_allControlsDisabled(){for(const fe of this.controls)if(fe.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(fe){fe.setParent(this),fe._registerOnCollectionChange(this._onCollectionChange)}}const on={provide:Re,useExisting:(0,m.Gpc)(()=>Cn)},_n=(()=>Promise.resolve(null))();let Cn=(()=>{class Pe extends Re{constructor(ge,Ze,en,Pn,_r){super(),this._changeDetectorRef=_r,this.control=new Kn,this._registered=!1,this.update=new m.vpe,this._parent=ge,this._setValidators(Ze),this._setAsyncValidators(en),this.valueAccessor=function Ln(Pe,fe){if(!fe)return null;let ge,Ze,en;return Array.isArray(fe),fe.forEach(Pn=>{Pn.constructor===h?ge=Pn:function kt(Pe){return Object.getPrototypeOf(Pe.constructor)===d}(Pn)?Ze=Pn:en=Pn}),en||Ze||ge||null}(0,Pn)}ngOnChanges(ge){if(this._checkForErrors(),!this._registered||"name"in ge){if(this._registered&&(this._checkName(),this.formDirective)){const Ze=ge.name.previousValue;this.formDirective.removeControl({name:Ze,path:this._getPath(Ze)})}this._setUpControl()}"isDisabled"in ge&&this._updateDisabled(ge),function dt(Pe,fe){if(!Pe.hasOwnProperty("model"))return!1;const ge=Pe.model;return!!ge.isFirstChange()||!Object.is(fe,ge.currentValue)}(ge,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ge){this.viewModel=ge,this.update.emit(ge)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Kt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ge){_n.then(()=>{var Ze;this.control.setValue(ge,{emitViewToModelChange:!1}),null===(Ze=this._changeDetectorRef)||void 0===Ze||Ze.markForCheck()})}_updateDisabled(ge){const Ze=ge.isDisabled.currentValue,en=""===Ze||Ze&&"false"!==Ze;_n.then(()=>{var Pn;en&&!this.control.disabled?this.control.disable():!en&&this.control.disabled&&this.control.enable(),null===(Pn=this._changeDetectorRef)||void 0===Pn||Pn.markForCheck()})}_getPath(ge){return this._parent?function Lt(Pe,fe){return[...fe.path,Pe]}(ge,this._parent):[ge]}}return Pe.\u0275fac=function(ge){return new(ge||Pe)(m.Y36(ot,9),m.Y36(x,10),m.Y36(w,10),m.Y36(u,10),m.Y36(m.sBO,8))},Pe.\u0275dir=m.lG2({type:Pe,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([on]),m.qOj,m.TTD]}),Pe})(),Gr=(()=>{class Pe{}return Pe.\u0275fac=function(ge){return new(ge||Pe)},Pe.\u0275mod=m.oAB({type:Pe}),Pe.\u0275inj=m.cJS({}),Pe})(),gn=(()=>{class Pe{}return Pe.\u0275fac=function(ge){return new(ge||Pe)},Pe.\u0275mod=m.oAB({type:Pe}),Pe.\u0275inj=m.cJS({imports:[[Gr]]}),Pe})(),jn=(()=>{class Pe{}return Pe.\u0275fac=function(ge){return new(ge||Pe)},Pe.\u0275mod=m.oAB({type:Pe}),Pe.\u0275inj=m.cJS({imports:[gn]}),Pe})()},2313:(hn,Mt,se)=>{"use strict";se.d(Mt,{b2:()=>mt,H7:()=>S,Dx:()=>Qe,q6:()=>Ue});var m=se(9808),ye=se(9863);class Xe extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xe extends Xe{static makeCurrent(){(0,m.HT)(new xe)}onAndCancel(V,k,ue){return V.addEventListener(k,ue,!1),()=>{V.removeEventListener(k,ue,!1)}}dispatchEvent(V,k){V.dispatchEvent(k)}remove(V){V.parentNode&&V.parentNode.removeChild(V)}createElement(V,k){return(k=k||this.getDefaultDocument()).createElement(V)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(V){return V.nodeType===Node.ELEMENT_NODE}isShadowRoot(V){return V instanceof DocumentFragment}getGlobalEventTarget(V,k){return"window"===k?window:"document"===k?V:"body"===k?V.body:null}getBaseHref(V){const k=function U(){return e=e||document.querySelector("base"),e?e.getAttribute("href"):null}();return null==k?null:function f(ne){E=E||document.createElement("a"),E.setAttribute("href",ne);const V=E.pathname;return"/"===V.charAt(0)?V:`/${V}`}(k)}resetBaseElement(){e=null}getUserAgent(){return window.navigator.userAgent}getCookie(V){return(0,m.Mx)(document.cookie,V)}}let E,e=null;const o=new ye.OlP("TRANSITION_ID"),d=[{provide:ye.ip1,useFactory:function a(ne,V,k){return()=>{k.get(ye.CZH).donePromise.then(()=>{const ue=(0,m.q)(),tt=V.querySelectorAll(`style[ng-transition="${ne}"]`);for(let dt=0;dt<tt.length;dt++)ue.remove(tt[dt])})}},deps:[o,m.K0,ye.zs3],multi:!0}];class u{static init(){(0,ye.VLi)(new u)}addToWindow(V){ye.dqk.getAngularTestability=(ue,tt=!0)=>{const dt=V.findTestabilityInTree(ue,tt);if(null==dt)throw new Error("Could not find testability for element.");return dt},ye.dqk.getAllAngularTestabilities=()=>V.getAllTestabilities(),ye.dqk.getAllAngularRootElements=()=>V.getAllRootElements(),ye.dqk.frameworkStabilizers||(ye.dqk.frameworkStabilizers=[]),ye.dqk.frameworkStabilizers.push(ue=>{const tt=ye.dqk.getAllAngularTestabilities();let dt=tt.length,kt=!1;const pn=function(Ln){kt=kt||Ln,dt--,0==dt&&ue(kt)};tt.forEach(function(Ln){Ln.whenStable(pn)})})}findTestabilityInTree(V,k,ue){if(null==k)return null;const tt=V.getTestability(k);return null!=tt?tt:ue?(0,m.q)().isShadowRoot(k)?this.findTestabilityInTree(V,k.host,!0):this.findTestabilityInTree(V,k.parentElement,!0):null}}let p=(()=>{class ne{build(){return new XMLHttpRequest}}return ne.\u0275fac=function(k){return new(k||ne)},ne.\u0275prov=ye.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const s=new ye.OlP("EventManagerPlugins");let r=(()=>{class ne{constructor(k,ue){this._zone=ue,this._eventNameToPlugin=new Map,k.forEach(tt=>tt.manager=this),this._plugins=k.slice().reverse()}addEventListener(k,ue,tt){return this._findPluginFor(ue).addEventListener(k,ue,tt)}addGlobalEventListener(k,ue,tt){return this._findPluginFor(ue).addGlobalEventListener(k,ue,tt)}getZone(){return this._zone}_findPluginFor(k){const ue=this._eventNameToPlugin.get(k);if(ue)return ue;const tt=this._plugins;for(let dt=0;dt<tt.length;dt++){const kt=tt[dt];if(kt.supports(k))return this._eventNameToPlugin.set(k,kt),kt}throw new Error(`No event manager plugin found for event ${k}`)}}return ne.\u0275fac=function(k){return new(k||ne)(ye.LFG(s),ye.LFG(ye.R0b))},ne.\u0275prov=ye.Yz7({token:ne,factory:ne.\u0275fac}),ne})();class i{constructor(V){this._doc=V}addGlobalEventListener(V,k,ue){const tt=(0,m.q)().getGlobalEventTarget(this._doc,V);if(!tt)throw new Error(`Unsupported event target ${tt} for event ${k}`);return this.addEventListener(tt,k,ue)}}let c=(()=>{class ne{constructor(){this._stylesSet=new Set}addStyles(k){const ue=new Set;k.forEach(tt=>{this._stylesSet.has(tt)||(this._stylesSet.add(tt),ue.add(tt))}),this.onStylesAdded(ue)}onStylesAdded(k){}getAllStyles(){return Array.from(this._stylesSet)}}return ne.\u0275fac=function(k){return new(k||ne)},ne.\u0275prov=ye.Yz7({token:ne,factory:ne.\u0275fac}),ne})(),h=(()=>{class ne extends c{constructor(k){super(),this._doc=k,this._hostNodes=new Map,this._hostNodes.set(k.head,[])}_addStylesToHost(k,ue,tt){k.forEach(dt=>{const kt=this._doc.createElement("style");kt.textContent=dt,tt.push(ue.appendChild(kt))})}addHost(k){const ue=[];this._addStylesToHost(this._stylesSet,k,ue),this._hostNodes.set(k,ue)}removeHost(k){const ue=this._hostNodes.get(k);ue&&ue.forEach(y),this._hostNodes.delete(k)}onStylesAdded(k){this._hostNodes.forEach((ue,tt)=>{this._addStylesToHost(k,tt,ue)})}ngOnDestroy(){this._hostNodes.forEach(k=>k.forEach(y))}}return ne.\u0275fac=function(k){return new(k||ne)(ye.LFG(m.K0))},ne.\u0275prov=ye.Yz7({token:ne,factory:ne.\u0275fac}),ne})();function y(ne){(0,m.q)().remove(ne)}const v={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},x=/%COMP%/g,C="%COMP%",N=`_nghost-${C}`,M=`_ngcontent-${C}`;function B(ne,V,k){for(let ue=0;ue<V.length;ue++){let tt=V[ue];Array.isArray(tt)?B(ne,tt,k):(tt=tt.replace(x,ne),k.push(tt))}return k}function G(ne){return V=>{if("__ngUnwrap__"===V)return ne;!1===ne(V)&&(V.preventDefault(),V.returnValue=!1)}}let $=(()=>{class ne{constructor(k,ue,tt){this.eventManager=k,this.sharedStylesHost=ue,this.appId=tt,this.rendererByCompId=new Map,this.defaultRenderer=new H(k)}createRenderer(k,ue){if(!k||!ue)return this.defaultRenderer;switch(ue.encapsulation){case ye.ifc.Emulated:{let tt=this.rendererByCompId.get(ue.id);return tt||(tt=new Q(this.eventManager,this.sharedStylesHost,ue,this.appId),this.rendererByCompId.set(ue.id,tt)),tt.applyToHost(k),tt}case 1:case ye.ifc.ShadowDom:return new te(this.eventManager,this.sharedStylesHost,k,ue);default:if(!this.rendererByCompId.has(ue.id)){const tt=B(ue.id,ue.styles,[]);this.sharedStylesHost.addStyles(tt),this.rendererByCompId.set(ue.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ne.\u0275fac=function(k){return new(k||ne)(ye.LFG(r),ye.LFG(h),ye.LFG(ye.AFp))},ne.\u0275prov=ye.Yz7({token:ne,factory:ne.\u0275fac}),ne})();class H{constructor(V){this.eventManager=V,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(V,k){return k?document.createElementNS(v[k]||k,V):document.createElement(V)}createComment(V){return document.createComment(V)}createText(V){return document.createTextNode(V)}appendChild(V,k){V.appendChild(k)}insertBefore(V,k,ue){V&&V.insertBefore(k,ue)}removeChild(V,k){V&&V.removeChild(k)}selectRootElement(V,k){let ue="string"==typeof V?document.querySelector(V):V;if(!ue)throw new Error(`The selector "${V}" did not match any elements`);return k||(ue.textContent=""),ue}parentNode(V){return V.parentNode}nextSibling(V){return V.nextSibling}setAttribute(V,k,ue,tt){if(tt){k=tt+":"+k;const dt=v[tt];dt?V.setAttributeNS(dt,k,ue):V.setAttribute(k,ue)}else V.setAttribute(k,ue)}removeAttribute(V,k,ue){if(ue){const tt=v[ue];tt?V.removeAttributeNS(tt,k):V.removeAttribute(`${ue}:${k}`)}else V.removeAttribute(k)}addClass(V,k){V.classList.add(k)}removeClass(V,k){V.classList.remove(k)}setStyle(V,k,ue,tt){tt&(ye.JOm.DashCase|ye.JOm.Important)?V.style.setProperty(k,ue,tt&ye.JOm.Important?"important":""):V.style[k]=ue}removeStyle(V,k,ue){ue&ye.JOm.DashCase?V.style.removeProperty(k):V.style[k]=""}setProperty(V,k,ue){V[k]=ue}setValue(V,k){V.nodeValue=k}listen(V,k,ue){return"string"==typeof V?this.eventManager.addGlobalEventListener(V,k,G(ue)):this.eventManager.addEventListener(V,k,G(ue))}}class Q extends H{constructor(V,k,ue,tt){super(V),this.component=ue;const dt=B(tt+"-"+ue.id,ue.styles,[]);k.addStyles(dt),this.contentAttr=function F(ne){return M.replace(x,ne)}(tt+"-"+ue.id),this.hostAttr=function j(ne){return N.replace(x,ne)}(tt+"-"+ue.id)}applyToHost(V){super.setAttribute(V,this.hostAttr,"")}createElement(V,k){const ue=super.createElement(V,k);return super.setAttribute(ue,this.contentAttr,""),ue}}class te extends H{constructor(V,k,ue,tt){super(V),this.sharedStylesHost=k,this.hostEl=ue,this.shadowRoot=ue.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const dt=B(tt.id,tt.styles,[]);for(let kt=0;kt<dt.length;kt++){const pn=document.createElement("style");pn.textContent=dt[kt],this.shadowRoot.appendChild(pn)}}nodeOrShadowRoot(V){return V===this.hostEl?this.shadowRoot:V}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(V,k){return super.appendChild(this.nodeOrShadowRoot(V),k)}insertBefore(V,k,ue){return super.insertBefore(this.nodeOrShadowRoot(V),k,ue)}removeChild(V,k){return super.removeChild(this.nodeOrShadowRoot(V),k)}parentNode(V){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(V)))}}let me=(()=>{class ne extends i{constructor(k){super(k)}supports(k){return!0}addEventListener(k,ue,tt){return k.addEventListener(ue,tt,!1),()=>this.removeEventListener(k,ue,tt)}removeEventListener(k,ue,tt){return k.removeEventListener(ue,tt)}}return ne.\u0275fac=function(k){return new(k||ne)(ye.LFG(m.K0))},ne.\u0275prov=ye.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const ce=["alt","control","meta","shift"],Ae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},A={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},q={alt:ne=>ne.altKey,control:ne=>ne.ctrlKey,meta:ne=>ne.metaKey,shift:ne=>ne.shiftKey};let K=(()=>{class ne extends i{constructor(k){super(k)}supports(k){return null!=ne.parseEventName(k)}addEventListener(k,ue,tt){const dt=ne.parseEventName(ue),kt=ne.eventCallback(dt.fullKey,tt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(k,dt.domEventName,kt))}static parseEventName(k){const ue=k.toLowerCase().split("."),tt=ue.shift();if(0===ue.length||"keydown"!==tt&&"keyup"!==tt)return null;const dt=ne._normalizeKey(ue.pop());let kt="";if(ce.forEach(Ln=>{const Zn=ue.indexOf(Ln);Zn>-1&&(ue.splice(Zn,1),kt+=Ln+".")}),kt+=dt,0!=ue.length||0===dt.length)return null;const pn={};return pn.domEventName=tt,pn.fullKey=kt,pn}static getEventFullKey(k){let ue="",tt=function we(ne){let V=ne.key;if(null==V){if(V=ne.keyIdentifier,null==V)return"Unidentified";V.startsWith("U+")&&(V=String.fromCharCode(parseInt(V.substring(2),16)),3===ne.location&&A.hasOwnProperty(V)&&(V=A[V]))}return Ae[V]||V}(k);return tt=tt.toLowerCase()," "===tt?tt="space":"."===tt&&(tt="dot"),ce.forEach(dt=>{dt!=tt&&q[dt](k)&&(ue+=dt+".")}),ue+=tt,ue}static eventCallback(k,ue,tt){return dt=>{ne.getEventFullKey(dt)===k&&tt.runGuarded(()=>ue(dt))}}static _normalizeKey(k){return"esc"===k?"escape":k}}return ne.\u0275fac=function(k){return new(k||ne)(ye.LFG(m.K0))},ne.\u0275prov=ye.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const Ue=(0,ye.eFA)(ye._c5,"browser",[{provide:ye.Lbi,useValue:m.bD},{provide:ye.g9A,useValue:function Fe(){xe.makeCurrent(),u.init()},multi:!0},{provide:m.K0,useFactory:function Ie(){return(0,ye.RDi)(document),document},deps:[]}]),et=[{provide:ye.zSh,useValue:"root"},{provide:ye.qLn,useFactory:function Te(){return new ye.qLn},deps:[]},{provide:s,useClass:me,multi:!0,deps:[m.K0,ye.R0b,ye.Lbi]},{provide:s,useClass:K,multi:!0,deps:[m.K0]},{provide:$,useClass:$,deps:[r,h,ye.AFp]},{provide:ye.FYo,useExisting:$},{provide:c,useExisting:h},{provide:h,useClass:h,deps:[m.K0]},{provide:ye.dDg,useClass:ye.dDg,deps:[ye.R0b]},{provide:r,useClass:r,deps:[s,ye.R0b]},{provide:m.JF,useClass:p,deps:[]}];let mt=(()=>{class ne{constructor(k){if(k)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(k){return{ngModule:ne,providers:[{provide:ye.AFp,useValue:k.appId},{provide:o,useExisting:ye.AFp},d]}}}return ne.\u0275fac=function(k){return new(k||ne)(ye.LFG(ne,12))},ne.\u0275mod=ye.oAB({type:ne}),ne.\u0275inj=ye.cJS({providers:et,imports:[m.ez,ye.hGG]}),ne})(),Qe=(()=>{class ne{constructor(k){this._doc=k}getTitle(){return this._doc.title}setTitle(k){this._doc.title=k||""}}return ne.\u0275fac=function(k){return new(k||ne)(ye.LFG(m.K0))},ne.\u0275prov=ye.Yz7({token:ne,factory:function(k){let ue=null;return ue=k?new k:function ft(){return new Qe((0,ye.LFG)(m.K0))}(),ue},providedIn:"root"}),ne})();"undefined"!=typeof window&&window;let S=(()=>{class ne{}return ne.\u0275fac=function(k){return new(k||ne)},ne.\u0275prov=ye.Yz7({token:ne,factory:function(k){let ue=null;return ue=k?new(k||ne):ye.LFG(J),ue},providedIn:"root"}),ne})(),J=(()=>{class ne extends S{constructor(k){super(),this._doc=k}sanitize(k,ue){if(null==ue)return null;switch(k){case ye.q3G.NONE:return ue;case ye.q3G.HTML:return(0,ye.qzn)(ue,"HTML")?(0,ye.z3N)(ue):(0,ye.EiD)(this._doc,String(ue)).toString();case ye.q3G.STYLE:return(0,ye.qzn)(ue,"Style")?(0,ye.z3N)(ue):ue;case ye.q3G.SCRIPT:if((0,ye.qzn)(ue,"Script"))return(0,ye.z3N)(ue);throw new Error("unsafe value used in a script context");case ye.q3G.URL:return(0,ye.yhl)(ue),(0,ye.qzn)(ue,"URL")?(0,ye.z3N)(ue):(0,ye.mCW)(String(ue));case ye.q3G.RESOURCE_URL:if((0,ye.qzn)(ue,"ResourceURL"))return(0,ye.z3N)(ue);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${k} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(k){return(0,ye.JVY)(k)}bypassSecurityTrustStyle(k){return(0,ye.L6k)(k)}bypassSecurityTrustScript(k){return(0,ye.eBb)(k)}bypassSecurityTrustUrl(k){return(0,ye.LAX)(k)}bypassSecurityTrustResourceUrl(k){return(0,ye.pB0)(k)}}return ne.\u0275fac=function(k){return new(k||ne)(ye.LFG(m.K0))},ne.\u0275prov=ye.Yz7({token:ne,factory:function(k){let ue=null;return ue=k?new k:function I(ne){return new J(ne.get(m.K0))}(ye.LFG(ye.zs3)),ue},providedIn:"root"}),ne})()},9705:(hn,Mt,se)=>{"use strict";se.d(Mt,{gz:()=>gr,y6:()=>_e,OD:()=>Je,eC:()=>Wt,wm:()=>ds,wN:()=>qo,F0:()=>Zr,rH:()=>cs,Bz:()=>Ss,Hx:()=>Qt});var m=se(9863),ye=se(2866),Xe=se(6688),xe=se(3489);class e extends xe.L{notifyNext(X,Y,be,Oe,qe){this.destination.next(Y)}notifyError(X,Y){this.destination.error(X)}notifyComplete(X){this.destination.complete()}}class U extends xe.L{constructor(X,Y,be){super(),this.parent=X,this.outerValue=Y,this.outerIndex=be,this.index=0}_next(X){this.parent.notifyNext(this.outerValue,X,this.outerIndex,this.index++,this)}_error(X){this.parent.notifyError(X,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var E=se(9249),f=se(2916);function o(ae,X,Y,be,Oe=new U(ae,Y,be)){if(!Oe.closed)return X instanceof f.y?X.subscribe(Oe):(0,E.s)(X)(Oe)}var a=se(3009);const d={};class p{constructor(X){this.resultSelector=X}call(X,Y){return Y.subscribe(new s(X,this.resultSelector))}}class s extends e{constructor(X,Y){super(X),this.resultSelector=Y,this.active=0,this.values=[],this.observables=[]}_next(X){this.values.push(d),this.observables.push(X)}_complete(){const X=this.observables,Y=X.length;if(0===Y)this.destination.complete();else{this.active=Y,this.toRespond=Y;for(let be=0;be<Y;be++)this.add(o(this,X[be],void 0,be))}}notifyComplete(X){0==(this.active-=1)&&this.destination.complete()}notifyNext(X,Y,be){const Oe=this.values,vt=this.toRespond?Oe[be]===d?--this.toRespond:this.toRespond:0;Oe[be]=Y,0===vt&&(this.resultSelector?this._tryResultSelector(Oe):this.destination.next(Oe.slice()))}_tryResultSelector(X){let Y;try{Y=this.resultSelector.apply(this,X)}catch(be){return void this.destination.error(be)}this.destination.next(Y)}}const i=(()=>{function ae(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return ae.prototype=Object.create(Error.prototype),ae})();var c=se(5254),h=se(1086),y=se(591),v=se(1737),x=se(1221),w=se(8514),C=se(8896),N=se(1762),M=se(5529);function j(ae,X){let Y=!1;return arguments.length>=2&&(Y=!0),function(Oe){return Oe.lift(new B(ae,X,Y))}}class B{constructor(X,Y,be=!1){this.accumulator=X,this.seed=Y,this.hasSeed=be}call(X,Y){return Y.subscribe(new G(X,this.accumulator,this.seed,this.hasSeed))}}class G extends xe.L{constructor(X,Y,be,Oe){super(X),this.accumulator=Y,this._seed=be,this.hasSeed=Oe,this.index=0}get seed(){return this._seed}set seed(X){this.hasSeed=!0,this._seed=X}_next(X){if(this.hasSeed)return this._tryNext(X);this.seed=X,this.destination.next(X)}_tryNext(X){const Y=this.index++;let be;try{be=this.accumulator(this.seed,X,Y)}catch(Oe){this.destination.error(Oe)}this.seed=be,this.destination.next(be)}}var ee=se(1177);function $(ae){return function(Y){const be=new H(ae),Oe=Y.lift(be);return be.caught=Oe}}class H{constructor(X){this.selector=X}call(X,Y){return Y.subscribe(new Z(X,this.selector,this.caught))}}class Z extends ee.Ds{constructor(X,Y,be){super(X),this.selector=Y,this.caught=be}error(X){if(!this.isStopped){let Y;try{Y=this.selector(X,this.caught)}catch(qe){return void super.error(qe)}this._unsubscribeAndRecycle();const be=new ee.IY(this);this.add(be);const Oe=(0,ee.ft)(Y,be);Oe!==be&&this.add(Oe)}}}var oe=se(1709);function Q(ae,X){return(0,oe.zg)(ae,X,1)}var te=se(2198),me=se(4231);function ce(ae){return function(Y){return 0===ae?(0,C.c)():Y.lift(new he(ae))}}class he{constructor(X){if(this.total=X,this.total<0)throw new me.W}call(X,Y){return Y.subscribe(new Ae(X,this.total))}}class Ae extends xe.L{constructor(X,Y){super(X),this.total=Y,this.ring=new Array,this.count=0}_next(X){const Y=this.ring,be=this.total,Oe=this.count++;Y.length<be?Y.push(X):Y[Oe%be]=X}_complete(){const X=this.destination;let Y=this.count;if(Y>0){const be=this.count>=this.total?this.total:this.count,Oe=this.ring;for(let qe=0;qe<be;qe++){const vt=Y++%be;X.next(Oe[vt])}}X.complete()}}function A(ae=we){return X=>X.lift(new q(ae))}class q{constructor(X){this.errorFactory=X}call(X,Y){return Y.subscribe(new K(X,this.errorFactory))}}class K extends xe.L{constructor(X,Y){super(X),this.errorFactory=Y,this.hasValue=!1}_next(X){this.hasValue=!0,this.destination.next(X)}_complete(){if(this.hasValue)return this.destination.complete();{let X;try{X=this.errorFactory()}catch(Y){X=Y}this.destination.error(X)}}}function we(){return new i}function Fe(ae=null){return X=>X.lift(new Te(ae))}class Te{constructor(X){this.defaultValue=X}call(X,Y){return Y.subscribe(new Ie(X,this.defaultValue))}}class Ie extends xe.L{constructor(X,Y){super(X),this.defaultValue=Y,this.isEmpty=!0}_next(X){this.isEmpty=!1,this.destination.next(X)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ve=se(5379),et=se(2986);function mt(ae,X){const Y=arguments.length>=2;return be=>be.pipe(ae?(0,te.h)((Oe,qe)=>ae(Oe,qe,be)):Ve.y,(0,et.q)(1),Y?Fe(X):A(()=>new i))}var Re=se(2654);class ut{constructor(X){this.callback=X}call(X,Y){return Y.subscribe(new ft(X,this.callback))}}class ft extends xe.L{constructor(X,Y){super(X),this.add(new Re.w(Y))}}var Qe=se(4850),jt=se(7545),At=se(2994),$t=se(4327),Ot=se(9146),tn=se(9808);class It{constructor(X,Y){this.id=X,this.url=Y}}class Je extends It{constructor(X,Y,be="imperative",Oe=null){super(X,Y),this.navigationTrigger=be,this.restoredState=Oe}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class at extends It{constructor(X,Y,be){super(X,Y),this.urlAfterRedirects=be}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class je extends It{constructor(X,Y,be){super(X,Y),this.reason=be}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class We extends It{constructor(X,Y,be){super(X,Y),this.error=be}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yt extends It{constructor(X,Y,be,Oe){super(X,Y),this.urlAfterRedirects=be,this.state=Oe}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lt extends It{constructor(X,Y,be,Oe){super(X,Y),this.urlAfterRedirects=be,this.state=Oe}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ke extends It{constructor(X,Y,be,Oe,qe){super(X,Y),this.urlAfterRedirects=be,this.state=Oe,this.shouldActivate=qe}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Be extends It{constructor(X,Y,be,Oe){super(X,Y),this.urlAfterRedirects=be,this.state=Oe}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me extends It{constructor(X,Y,be,Oe){super(X,Y),this.urlAfterRedirects=be,this.state=Oe}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $e{constructor(X){this.route=X}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wt{constructor(X){this.route=X}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xt{constructor(X){this.snapshot=X}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lt{constructor(X){this.snapshot=X}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kt{constructor(X){this.snapshot=X}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cn{constructor(X){this.snapshot=X}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nn{constructor(X,Y,be){this.routerEvent=X,this.position=Y,this.anchor=be}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Wt="primary";class bn{constructor(X){this.params=X||{}}has(X){return Object.prototype.hasOwnProperty.call(this.params,X)}get(X){if(this.has(X)){const Y=this.params[X];return Array.isArray(Y)?Y[0]:Y}return null}getAll(X){if(this.has(X)){const Y=this.params[X];return Array.isArray(Y)?Y:[Y]}return[]}get keys(){return Object.keys(this.params)}}function W(ae){return new bn(ae)}const le="ngNavigationCancelingError";function S(ae){const X=Error("NavigationCancelingError: "+ae);return X[le]=!0,X}function J(ae,X,Y){const be=Y.path.split("/");if(be.length>ae.length||"full"===Y.pathMatch&&(X.hasChildren()||be.length<ae.length))return null;const Oe={};for(let qe=0;qe<be.length;qe++){const vt=be[qe],St=ae[qe];if(vt.startsWith(":"))Oe[vt.substring(1)]=St;else if(vt!==St.path)return null}return{consumed:ae.slice(0,be.length),posParams:Oe}}function ne(ae,X){const Y=ae?Object.keys(ae):void 0,be=X?Object.keys(X):void 0;if(!Y||!be||Y.length!=be.length)return!1;let Oe;for(let qe=0;qe<Y.length;qe++)if(Oe=Y[qe],!V(ae[Oe],X[Oe]))return!1;return!0}function V(ae,X){if(Array.isArray(ae)&&Array.isArray(X)){if(ae.length!==X.length)return!1;const Y=[...ae].sort(),be=[...X].sort();return Y.every((Oe,qe)=>be[qe]===Oe)}return ae===X}function k(ae){return Array.prototype.concat.apply([],ae)}function ue(ae){return ae.length>0?ae[ae.length-1]:null}function dt(ae,X){for(const Y in ae)ae.hasOwnProperty(Y)&&X(ae[Y],Y)}function kt(ae){return(0,m.CqO)(ae)?ae:(0,m.QGY)(ae)?(0,c.D)(Promise.resolve(ae)):(0,h.of)(ae)}const Ln={exact:function fr(ae,X,Y){if(!sn(ae.segments,X.segments)||!mn(ae.segments,X.segments,Y)||ae.numberOfChildren!==X.numberOfChildren)return!1;for(const be in X.children)if(!ae.children[be]||!fr(ae.children[be],X.children[be],Y))return!1;return!0},subset:pt},Zn={exact:function Er(ae,X){return ne(ae,X)},subset:function Xn(ae,X){return Object.keys(X).length<=Object.keys(ae).length&&Object.keys(X).every(Y=>V(ae[Y],X[Y]))},ignored:()=>!0};function yr(ae,X,Y){return Ln[Y.paths](ae.root,X.root,Y.matrixParams)&&Zn[Y.queryParams](ae.queryParams,X.queryParams)&&!("exact"===Y.fragment&&ae.fragment!==X.fragment)}function pt(ae,X,Y){return Jt(ae,X,X.segments,Y)}function Jt(ae,X,Y,be){if(ae.segments.length>Y.length){const Oe=ae.segments.slice(0,Y.length);return!(!sn(Oe,Y)||X.hasChildren()||!mn(Oe,Y,be))}if(ae.segments.length===Y.length){if(!sn(ae.segments,Y)||!mn(ae.segments,Y,be))return!1;for(const Oe in X.children)if(!ae.children[Oe]||!pt(ae.children[Oe],X.children[Oe],be))return!1;return!0}{const Oe=Y.slice(0,ae.segments.length),qe=Y.slice(ae.segments.length);return!!(sn(ae.segments,Oe)&&mn(ae.segments,Oe,be)&&ae.children[Wt])&&Jt(ae.children[Wt],X,qe,be)}}function mn(ae,X,Y){return X.every((be,Oe)=>Zn[Y](ae[Oe].parameters,be.parameters))}class qt{constructor(X,Y,be){this.root=X,this.queryParams=Y,this.fragment=be}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=W(this.queryParams)),this._queryParamMap}toString(){return On.serialize(this)}}class ct{constructor(X,Y){this.segments=X,this.children=Y,this.parent=null,dt(Y,(be,Oe)=>be.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $n(this)}}class _t{constructor(X,Y){this.path=X,this.parameters=Y}get parameterMap(){return this._parameterMap||(this._parameterMap=W(this.parameters)),this._parameterMap}toString(){return st(this)}}function sn(ae,X){return ae.length===X.length&&ae.every((Y,be)=>Y.path===X[be].path)}class Qt{}class Fn{parse(X){const Y=new _n(X);return new qt(Y.parseRootSegment(),Y.parseQueryParams(),Y.parseFragment())}serialize(X){const Y=`/${Hn(X.root,!0)}`,be=function Rt(ae){const X=Object.keys(ae).map(Y=>{const be=ae[Y];return Array.isArray(be)?be.map(Oe=>`${Kn(Y)}=${Kn(Oe)}`).join("&"):`${Kn(Y)}=${Kn(be)}`}).filter(Y=>!!Y);return X.length?`?${X.join("&")}`:""}(X.queryParams);return`${Y}${be}${"string"==typeof X.fragment?`#${function sr(ae){return encodeURI(ae)}(X.fragment)}`:""}`}}const On=new Fn;function $n(ae){return ae.segments.map(X=>st(X)).join("/")}function Hn(ae,X){if(!ae.hasChildren())return $n(ae);if(X){const Y=ae.children[Wt]?Hn(ae.children[Wt],!1):"",be=[];return dt(ae.children,(Oe,qe)=>{qe!==Wt&&be.push(`${qe}:${Hn(Oe,!1)}`)}),be.length>0?`${Y}(${be.join("//")})`:Y}{const Y=function xn(ae,X){let Y=[];return dt(ae.children,(be,Oe)=>{Oe===Wt&&(Y=Y.concat(X(be,Oe)))}),dt(ae.children,(be,Oe)=>{Oe!==Wt&&(Y=Y.concat(X(be,Oe)))}),Y}(ae,(be,Oe)=>Oe===Wt?[Hn(ae.children[Wt],!1)]:[`${Oe}:${Hn(be,!1)}`]);return 1===Object.keys(ae.children).length&&null!=ae.children[Wt]?`${$n(ae)}/${Y[0]}`:`${$n(ae)}/(${Y.join("//")})`}}function Dn(ae){return encodeURIComponent(ae).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kn(ae){return Dn(ae).replace(/%3B/gi,";")}function Qn(ae){return Dn(ae).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wr(ae){return decodeURIComponent(ae)}function Ge(ae){return wr(ae.replace(/\+/g,"%20"))}function st(ae){return`${Qn(ae.path)}${function Tt(ae){return Object.keys(ae).map(X=>`;${Qn(X)}=${Qn(ae[X])}`).join("")}(ae.parameters)}`}const nt=/^[^\/()?;=#]+/;function bt(ae){const X=ae.match(nt);return X?X[0]:""}const Ft=/^[^=?&#]+/,Zt=/^[^&#]+/;class _n{constructor(X){this.url=X,this.remaining=X}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ct([],{}):new ct([],this.parseChildren())}parseQueryParams(){const X={};if(this.consumeOptional("?"))do{this.parseQueryParam(X)}while(this.consumeOptional("&"));return X}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const X=[];for(this.peekStartsWith("(")||X.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),X.push(this.parseSegment());let Y={};this.peekStartsWith("/(")&&(this.capture("/"),Y=this.parseParens(!0));let be={};return this.peekStartsWith("(")&&(be=this.parseParens(!1)),(X.length>0||Object.keys(Y).length>0)&&(be[Wt]=new ct(X,Y)),be}parseSegment(){const X=bt(this.remaining);if(""===X&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(X),new _t(wr(X),this.parseMatrixParams())}parseMatrixParams(){const X={};for(;this.consumeOptional(";");)this.parseParam(X);return X}parseParam(X){const Y=bt(this.remaining);if(!Y)return;this.capture(Y);let be="";if(this.consumeOptional("=")){const Oe=bt(this.remaining);Oe&&(be=Oe,this.capture(be))}X[wr(Y)]=wr(be)}parseQueryParam(X){const Y=function Xt(ae){const X=ae.match(Ft);return X?X[0]:""}(this.remaining);if(!Y)return;this.capture(Y);let be="";if(this.consumeOptional("=")){const vt=function on(ae){const X=ae.match(Zt);return X?X[0]:""}(this.remaining);vt&&(be=vt,this.capture(be))}const Oe=Ge(Y),qe=Ge(be);if(X.hasOwnProperty(Oe)){let vt=X[Oe];Array.isArray(vt)||(vt=[vt],X[Oe]=vt),vt.push(qe)}else X[Oe]=qe}parseParens(X){const Y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const be=bt(this.remaining),Oe=this.remaining[be.length];if("/"!==Oe&&")"!==Oe&&";"!==Oe)throw new Error(`Cannot parse url '${this.url}'`);let qe;be.indexOf(":")>-1?(qe=be.substr(0,be.indexOf(":")),this.capture(qe),this.capture(":")):X&&(qe=Wt);const vt=this.parseChildren();Y[qe]=1===Object.keys(vt).length?vt[Wt]:new ct([],vt),this.consumeOptional("//")}return Y}peekStartsWith(X){return this.remaining.startsWith(X)}consumeOptional(X){return!!this.peekStartsWith(X)&&(this.remaining=this.remaining.substring(X.length),!0)}capture(X){if(!this.consumeOptional(X))throw new Error(`Expected "${X}".`)}}class Cn{constructor(X){this._root=X}get root(){return this._root.value}parent(X){const Y=this.pathFromRoot(X);return Y.length>1?Y[Y.length-2]:null}children(X){const Y=Mn(X,this._root);return Y?Y.children.map(be=>be.value):[]}firstChild(X){const Y=Mn(X,this._root);return Y&&Y.children.length>0?Y.children[0].value:null}siblings(X){const Y=Gn(X,this._root);return Y.length<2?[]:Y[Y.length-2].children.map(Oe=>Oe.value).filter(Oe=>Oe!==X)}pathFromRoot(X){return Gn(X,this._root).map(Y=>Y.value)}}function Mn(ae,X){if(ae===X.value)return X;for(const Y of X.children){const be=Mn(ae,Y);if(be)return be}return null}function Gn(ae,X){if(ae===X.value)return[X];for(const Y of X.children){const be=Gn(ae,Y);if(be.length)return be.unshift(X),be}return[]}class or{constructor(X,Y){this.value=X,this.children=Y}toString(){return`TreeNode(${this.value})`}}function lr(ae){const X={};return ae&&ae.children.forEach(Y=>X[Y.value.outlet]=Y),X}class ur extends Cn{constructor(X,Y){super(X),this.snapshot=Y,pi(this,X)}toString(){return this.snapshot.toString()}}function Gr(ae,X){const Y=function di(ae,X){const vt=new $r([],{},{},"",{},Wt,X,null,ae.root,-1,{});return new fi("",new or(vt,[]))}(ae,X),be=new y.X([new _t("",{})]),Oe=new y.X({}),qe=new y.X({}),vt=new y.X({}),St=new y.X(""),rn=new gr(be,Oe,vt,St,qe,Wt,X,Y.root);return rn.snapshot=Y.root,new ur(new or(rn,[]),Y)}class gr{constructor(X,Y,be,Oe,qe,vt,St,rn){this.url=X,this.params=Y,this.queryParams=be,this.fragment=Oe,this.data=qe,this.outlet=vt,this.component=St,this._futureSnapshot=rn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qe.U)(X=>W(X)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qe.U)(X=>W(X)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hi(ae,X="emptyOnly"){const Y=ae.pathFromRoot;let be=0;if("always"!==X)for(be=Y.length-1;be>=1;){const Oe=Y[be],qe=Y[be-1];if(Oe.routeConfig&&""===Oe.routeConfig.path)be--;else{if(qe.component)break;be--}}return function Ci(ae){return ae.reduce((X,Y)=>({params:Object.assign(Object.assign({},X.params),Y.params),data:Object.assign(Object.assign({},X.data),Y.data),resolve:Object.assign(Object.assign({},X.resolve),Y._resolvedData)}),{params:{},data:{},resolve:{}})}(Y.slice(be))}class $r{constructor(X,Y,be,Oe,qe,vt,St,rn,En,tr,Rn){this.url=X,this.params=Y,this.queryParams=be,this.fragment=Oe,this.data=qe,this.outlet=vt,this.component=St,this.routeConfig=rn,this._urlSegment=En,this._lastPathIndex=tr,this._resolve=Rn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=W(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=W(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(be=>be.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fi extends Cn{constructor(X,Y){super(Y),this.url=X,pi(this,Y)}toString(){return qr(this._root)}}function pi(ae,X){X.value._routerState=ae,X.children.forEach(Y=>pi(ae,Y))}function qr(ae){const X=ae.children.length>0?` { ${ae.children.map(qr).join(", ")} } `:"";return`${ae.value}${X}`}function Rr(ae){if(ae.snapshot){const X=ae.snapshot,Y=ae._futureSnapshot;ae.snapshot=Y,ne(X.queryParams,Y.queryParams)||ae.queryParams.next(Y.queryParams),X.fragment!==Y.fragment&&ae.fragment.next(Y.fragment),ne(X.params,Y.params)||ae.params.next(Y.params),function de(ae,X){if(ae.length!==X.length)return!1;for(let Y=0;Y<ae.length;++Y)if(!ne(ae[Y],X[Y]))return!1;return!0}(X.url,Y.url)||ae.url.next(Y.url),ne(X.data,Y.data)||ae.data.next(Y.data)}else ae.snapshot=ae._futureSnapshot,ae.data.next(ae._futureSnapshot.data)}function Di(ae,X){const Y=ne(ae.params,X.params)&&function un(ae,X){return sn(ae,X)&&ae.every((Y,be)=>ne(Y.parameters,X[be].parameters))}(ae.url,X.url);return Y&&!(!ae.parent!=!X.parent)&&(!ae.parent||Di(ae.parent,X.parent))}function ri(ae,X,Y){if(Y&&ae.shouldReuseRoute(X.value,Y.value.snapshot)){const be=Y.value;be._futureSnapshot=X.value;const Oe=function Jr(ae,X,Y){return X.children.map(be=>{for(const Oe of Y.children)if(ae.shouldReuseRoute(be.value,Oe.value.snapshot))return ri(ae,be,Oe);return ri(ae,be)})}(ae,X,Y);return new or(be,Oe)}{if(ae.shouldAttach(X.value)){const qe=ae.retrieve(X.value);if(null!==qe){const vt=qe.route;return vt.value._futureSnapshot=X.value,vt.children=X.children.map(St=>ri(ae,St)),vt}}const be=function ai(ae){return new gr(new y.X(ae.url),new y.X(ae.params),new y.X(ae.queryParams),new y.X(ae.fragment),new y.X(ae.data),ae.outlet,ae.component,ae)}(X.value),Oe=X.children.map(qe=>ri(ae,qe));return new or(be,Oe)}}function Xr(ae){return"object"==typeof ae&&null!=ae&&!ae.outlets&&!ae.segmentPath}function Sr(ae){return"object"==typeof ae&&null!=ae&&ae.outlets}function Tr(ae,X,Y,be,Oe){let qe={};if(be&&dt(be,(St,rn)=>{qe[rn]=Array.isArray(St)?St.map(En=>`${En}`):`${St}`}),ae===X)return new qt(Y,qe,Oe);const vt=Dr(ae,X,Y);return new qt(vt,qe,Oe)}function Dr(ae,X,Y){const be={};return dt(ae.children,(Oe,qe)=>{be[qe]=Oe===X?Y:Dr(Oe,X,Y)}),new ct(ae.segments,be)}class Fr{constructor(X,Y,be){if(this.isAbsolute=X,this.numberOfDoubleDots=Y,this.commands=be,X&&be.length>0&&Xr(be[0]))throw new Error("Root segment cannot have matrix parameters");const Oe=be.find(Sr);if(Oe&&Oe!==ue(be))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nr{constructor(X,Y,be){this.segmentGroup=X,this.processChildren=Y,this.index=be}}function Qr(ae,X,Y){if(ae||(ae=new ct([],{})),0===ae.segments.length&&ae.hasChildren())return zr(ae,X,Y);const be=function gi(ae,X,Y){let be=0,Oe=X;const qe={match:!1,pathIndex:0,commandIndex:0};for(;Oe<ae.segments.length;){if(be>=Y.length)return qe;const vt=ae.segments[Oe],St=Y[be];if(Sr(St))break;const rn=`${St}`,En=be<Y.length-1?Y[be+1]:null;if(Oe>0&&void 0===rn)break;if(rn&&En&&"object"==typeof En&&void 0===En.outlets){if(!vi(rn,En,vt))return qe;be+=2}else{if(!vi(rn,{},vt))return qe;be++}Oe++}return{match:!0,pathIndex:Oe,commandIndex:be}}(ae,X,Y),Oe=Y.slice(be.commandIndex);if(be.match&&be.pathIndex<ae.segments.length){const qe=new ct(ae.segments.slice(0,be.pathIndex),{});return qe.children[Wt]=new ct(ae.segments.slice(be.pathIndex),ae.children),zr(qe,0,Oe)}return be.match&&0===Oe.length?new ct(ae.segments,{}):be.match&&!ae.hasChildren()?yi(ae,X,Y):be.match?zr(ae,0,Oe):yi(ae,X,Y)}function zr(ae,X,Y){if(0===Y.length)return new ct(ae.segments,{});{const be=function ui(ae){return Sr(ae[0])?ae[0].outlets:{[Wt]:ae}}(Y),Oe={};return dt(be,(qe,vt)=>{"string"==typeof qe&&(qe=[qe]),null!==qe&&(Oe[vt]=Qr(ae.children[vt],X,qe))}),dt(ae.children,(qe,vt)=>{void 0===be[vt]&&(Oe[vt]=qe)}),new ct(ae.segments,Oe)}}function yi(ae,X,Y){const be=ae.segments.slice(0,X);let Oe=0;for(;Oe<Y.length;){const qe=Y[Oe];if(Sr(qe)){const rn=Mr(qe.outlets);return new ct(be,rn)}if(0===Oe&&Xr(Y[0])){be.push(new _t(ae.segments[X].path,Br(Y[0]))),Oe++;continue}const vt=Sr(qe)?qe.outlets[Wt]:`${qe}`,St=Oe<Y.length-1?Y[Oe+1]:null;vt&&St&&Xr(St)?(be.push(new _t(vt,Br(St))),Oe+=2):(be.push(new _t(vt,{})),Oe++)}return new ct(be,{})}function Mr(ae){const X={};return dt(ae,(Y,be)=>{"string"==typeof Y&&(Y=[Y]),null!==Y&&(X[be]=yi(new ct([],{}),0,Y))}),X}function Br(ae){const X={};return dt(ae,(Y,be)=>X[be]=`${Y}`),X}function vi(ae,X,Y){return ae==Y.path&&ne(X,Y.parameters)}class _i{constructor(X,Y,be,Oe){this.routeReuseStrategy=X,this.futureState=Y,this.currState=be,this.forwardEvent=Oe}activate(X){const Y=this.futureState._root,be=this.currState?this.currState._root:null;this.deactivateChildRoutes(Y,be,X),Rr(this.futureState.root),this.activateChildRoutes(Y,be,X)}deactivateChildRoutes(X,Y,be){const Oe=lr(Y);X.children.forEach(qe=>{const vt=qe.value.outlet;this.deactivateRoutes(qe,Oe[vt],be),delete Oe[vt]}),dt(Oe,(qe,vt)=>{this.deactivateRouteAndItsChildren(qe,be)})}deactivateRoutes(X,Y,be){const Oe=X.value,qe=Y?Y.value:null;if(Oe===qe)if(Oe.component){const vt=be.getContext(Oe.outlet);vt&&this.deactivateChildRoutes(X,Y,vt.children)}else this.deactivateChildRoutes(X,Y,be);else qe&&this.deactivateRouteAndItsChildren(Y,be)}deactivateRouteAndItsChildren(X,Y){X.value.component&&this.routeReuseStrategy.shouldDetach(X.value.snapshot)?this.detachAndStoreRouteSubtree(X,Y):this.deactivateRouteAndOutlet(X,Y)}detachAndStoreRouteSubtree(X,Y){const be=Y.getContext(X.value.outlet),Oe=be&&X.value.component?be.children:Y,qe=lr(X);for(const vt of Object.keys(qe))this.deactivateRouteAndItsChildren(qe[vt],Oe);if(be&&be.outlet){const vt=be.outlet.detach(),St=be.children.onOutletDeactivated();this.routeReuseStrategy.store(X.value.snapshot,{componentRef:vt,route:X,contexts:St})}}deactivateRouteAndOutlet(X,Y){const be=Y.getContext(X.value.outlet),Oe=be&&X.value.component?be.children:Y,qe=lr(X);for(const vt of Object.keys(qe))this.deactivateRouteAndItsChildren(qe[vt],Oe);be&&be.outlet&&(be.outlet.deactivate(),be.children.onOutletDeactivated(),be.attachRef=null,be.resolver=null,be.route=null)}activateChildRoutes(X,Y,be){const Oe=lr(Y);X.children.forEach(qe=>{this.activateRoutes(qe,Oe[qe.value.outlet],be),this.forwardEvent(new cn(qe.value.snapshot))}),X.children.length&&this.forwardEvent(new Lt(X.value.snapshot))}activateRoutes(X,Y,be){const Oe=X.value,qe=Y?Y.value:null;if(Rr(Oe),Oe===qe)if(Oe.component){const vt=be.getOrCreateContext(Oe.outlet);this.activateChildRoutes(X,Y,vt.children)}else this.activateChildRoutes(X,Y,be);else if(Oe.component){const vt=be.getOrCreateContext(Oe.outlet);if(this.routeReuseStrategy.shouldAttach(Oe.snapshot)){const St=this.routeReuseStrategy.retrieve(Oe.snapshot);this.routeReuseStrategy.store(Oe.snapshot,null),vt.children.onOutletReAttached(St.contexts),vt.attachRef=St.componentRef,vt.route=St.route.value,vt.outlet&&vt.outlet.attach(St.componentRef,St.route.value),Rr(St.route.value),this.activateChildRoutes(X,null,vt.children)}else{const St=function Si(ae){for(let X=ae.parent;X;X=X.parent){const Y=X.routeConfig;if(Y&&Y._loadedConfig)return Y._loadedConfig;if(Y&&Y.component)return null}return null}(Oe.snapshot),rn=St?St.module.componentFactoryResolver:null;vt.attachRef=null,vt.route=Oe,vt.resolver=rn,vt.outlet&&vt.outlet.activateWith(Oe,rn),this.activateChildRoutes(X,null,vt.children)}}else this.activateChildRoutes(X,null,be)}}class ci{constructor(X,Y){this.routes=X,this.module=Y}}function Wr(ae){return"function"==typeof ae}function Ye(ae){return ae instanceof qt}const O=Symbol("INITIAL_VALUE");function Ee(){return(0,jt.w)(ae=>function u(...ae){let X,Y;return(0,ye.K)(ae[ae.length-1])&&(Y=ae.pop()),"function"==typeof ae[ae.length-1]&&(X=ae.pop()),1===ae.length&&(0,Xe.k)(ae[0])&&(ae=ae[0]),(0,a.n)(ae,Y).lift(new p(X))}(ae.map(X=>X.pipe((0,et.q)(1),function F(...ae){const X=ae[ae.length-1];return(0,ye.K)(X)?(ae.pop(),Y=>(0,x.z)(ae,Y,X)):Y=>(0,x.z)(ae,Y)}(O)))).pipe(j((X,Y)=>{let be=!1;return Y.reduce((Oe,qe,vt)=>Oe!==O?Oe:(qe===O&&(be=!0),be||!1!==qe&&vt!==Y.length-1&&!Ye(qe)?Oe:qe),X)},O),(0,te.h)(X=>X!==O),(0,Qe.U)(X=>Ye(X)?X:!0===X),(0,et.q)(1)))}class L{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new _e,this.attachRef=null}}class _e{constructor(){this.contexts=new Map}onChildOutletCreated(X,Y){const be=this.getOrCreateContext(X);be.outlet=Y,this.contexts.set(X,be)}onChildOutletDestroyed(X){const Y=this.getContext(X);Y&&(Y.outlet=null,Y.attachRef=null)}onOutletDeactivated(){const X=this.contexts;return this.contexts=new Map,X}onOutletReAttached(X){this.contexts=X}getOrCreateContext(X){let Y=this.getContext(X);return Y||(Y=new L,this.contexts.set(X,Y)),Y}getContext(X){return this.contexts.get(X)||null}}let Ne=(()=>{class ae{constructor(Y,be,Oe,qe,vt){this.parentContexts=Y,this.location=be,this.resolver=Oe,this.changeDetector=vt,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.name=qe||Wt,Y.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const Y=this.parentContexts.getContext(this.name);Y&&Y.route&&(Y.attachRef?this.attach(Y.attachRef,Y.route):this.activateWith(Y.route,Y.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const Y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(Y.instance),Y}attach(Y,be){this.activated=Y,this._activatedRoute=be,this.location.insert(Y.hostView),this.attachEvents.emit(Y.instance)}deactivate(){if(this.activated){const Y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Y)}}activateWith(Y,be){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=Y;const vt=(be=be||this.resolver).resolveComponentFactory(Y._futureSnapshot.routeConfig.component),St=this.parentContexts.getOrCreateContext(this.name).children,rn=new Bt(Y,St,this.location.injector);this.activated=this.location.createComponent(vt,this.location.length,rn),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return ae.\u0275fac=function(Y){return new(Y||ae)(m.Y36(_e),m.Y36(m.s_b),m.Y36(m._Vd),m.$8M("name"),m.Y36(m.sBO))},ae.\u0275dir=m.lG2({type:ae,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),ae})();class Bt{constructor(X,Y,be){this.route=X,this.childContexts=Y,this.parent=be}get(X,Y){return X===gr?this.route:X===_e?this.childContexts:this.parent.get(X,Y)}}let yn=(()=>{class ae{}return ae.\u0275fac=function(Y){return new(Y||ae)},ae.\u0275cmp=m.Xpm({type:ae,selectors:[["ng-component"]],decls:1,vars:0,template:function(Y,be){1&Y&&m._UZ(0,"router-outlet")},directives:[Ne],encapsulation:2}),ae})();function gn(ae,X=""){for(let Y=0;Y<ae.length;Y++){const be=ae[Y];jn(be,Jn(X,be))}}function jn(ae,X){ae.children&&gn(ae.children,X)}function Jn(ae,X){return X?ae||X.path?ae&&!X.path?`${ae}/`:!ae&&X.path?X.path:`${ae}/${X.path}`:"":ae}function kn(ae){const X=ae.children&&ae.children.map(kn),Y=X?Object.assign(Object.assign({},ae),{children:X}):Object.assign({},ae);return!Y.component&&(X||Y.loadChildren)&&Y.outlet&&Y.outlet!==Wt&&(Y.component=yn),Y}function zn(ae){return ae.outlet||Wt}function vr(ae,X){const Y=ae.filter(be=>zn(be)===X);return Y.push(...ae.filter(be=>zn(be)!==X)),Y}const Pe={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fe(ae,X,Y){var be;if(""===X.path)return"full"===X.pathMatch&&(ae.hasChildren()||Y.length>0)?Object.assign({},Pe):{matched:!0,consumedSegments:[],remainingSegments:Y,parameters:{},positionalParamSegments:{}};const qe=(X.matcher||J)(Y,ae,X);if(!qe)return Object.assign({},Pe);const vt={};dt(qe.posParams,(rn,En)=>{vt[En]=rn.path});const St=qe.consumed.length>0?Object.assign(Object.assign({},vt),qe.consumed[qe.consumed.length-1].parameters):vt;return{matched:!0,consumedSegments:qe.consumed,remainingSegments:Y.slice(qe.consumed.length),parameters:St,positionalParamSegments:null!==(be=qe.posParams)&&void 0!==be?be:{}}}function ge(ae,X,Y,be,Oe="corrected"){if(Y.length>0&&function Pn(ae,X,Y){return Y.some(be=>Pr(ae,X,be)&&zn(be)!==Wt)}(ae,Y,be)){const vt=new ct(X,function en(ae,X,Y,be){const Oe={};Oe[Wt]=be,be._sourceSegment=ae,be._segmentIndexShift=X.length;for(const qe of Y)if(""===qe.path&&zn(qe)!==Wt){const vt=new ct([],{});vt._sourceSegment=ae,vt._segmentIndexShift=X.length,Oe[zn(qe)]=vt}return Oe}(ae,X,be,new ct(Y,ae.children)));return vt._sourceSegment=ae,vt._segmentIndexShift=X.length,{segmentGroup:vt,slicedSegments:[]}}if(0===Y.length&&function _r(ae,X,Y){return Y.some(be=>Pr(ae,X,be))}(ae,Y,be)){const vt=new ct(ae.segments,function Ze(ae,X,Y,be,Oe,qe){const vt={};for(const St of be)if(Pr(ae,Y,St)&&!Oe[zn(St)]){const rn=new ct([],{});rn._sourceSegment=ae,rn._segmentIndexShift="legacy"===qe?ae.segments.length:X.length,vt[zn(St)]=rn}return Object.assign(Object.assign({},Oe),vt)}(ae,X,Y,be,ae.children,Oe));return vt._sourceSegment=ae,vt._segmentIndexShift=X.length,{segmentGroup:vt,slicedSegments:Y}}const qe=new ct(ae.segments,ae.children);return qe._sourceSegment=ae,qe._segmentIndexShift=X.length,{segmentGroup:qe,slicedSegments:Y}}function Pr(ae,X,Y){return(!(ae.hasChildren()||X.length>0)||"full"!==Y.pathMatch)&&""===Y.path}function cr(ae,X,Y,be){return!!(zn(ae)===be||be!==Wt&&Pr(X,Y,ae))&&("**"===ae.path||fe(X,ae,Y).matched)}function dn(ae,X,Y){return 0===X.length&&!ae.children[Y]}class _{constructor(X){this.segmentGroup=X||null}}class D{constructor(X){this.urlTree=X}}function P(ae){return(0,v._)(new _(ae))}function R(ae){return(0,v._)(new D(ae))}class ze{constructor(X,Y,be,Oe,qe){this.configLoader=Y,this.urlSerializer=be,this.urlTree=Oe,this.config=qe,this.allowRedirects=!0,this.ngModule=X.get(m.h0i)}apply(){const X=ge(this.urlTree.root,[],[],this.config).segmentGroup,Y=new ct(X.segments,X.children);return this.expandSegmentGroup(this.ngModule,this.config,Y,Wt).pipe((0,Qe.U)(qe=>this.createUrlTree(rt(qe),this.urlTree.queryParams,this.urlTree.fragment))).pipe($(qe=>{if(qe instanceof D)return this.allowRedirects=!1,this.match(qe.urlTree);throw qe instanceof _?this.noMatchError(qe):qe}))}match(X){return this.expandSegmentGroup(this.ngModule,this.config,X.root,Wt).pipe((0,Qe.U)(Oe=>this.createUrlTree(rt(Oe),X.queryParams,X.fragment))).pipe($(Oe=>{throw Oe instanceof _?this.noMatchError(Oe):Oe}))}noMatchError(X){return new Error(`Cannot match any routes. URL Segment: '${X.segmentGroup}'`)}createUrlTree(X,Y,be){const Oe=X.segments.length>0?new ct([],{[Wt]:X}):X;return new qt(Oe,Y,be)}expandSegmentGroup(X,Y,be,Oe){return 0===be.segments.length&&be.hasChildren()?this.expandChildren(X,Y,be).pipe((0,Qe.U)(qe=>new ct([],qe))):this.expandSegment(X,be,Y,be.segments,Oe,!0)}expandChildren(X,Y,be){const Oe=[];for(const qe of Object.keys(be.children))"primary"===qe?Oe.unshift(qe):Oe.push(qe);return(0,c.D)(Oe).pipe(Q(qe=>{const vt=be.children[qe],St=vr(Y,qe);return this.expandSegmentGroup(X,St,vt,qe).pipe((0,Qe.U)(rn=>({segment:rn,outlet:qe})))}),j((qe,vt)=>(qe[vt.outlet]=vt.segment,qe),{}),function Ue(ae,X){const Y=arguments.length>=2;return be=>be.pipe(ae?(0,te.h)((Oe,qe)=>ae(Oe,qe,be)):Ve.y,ce(1),Y?Fe(X):A(()=>new i))}())}expandSegment(X,Y,be,Oe,qe,vt){return(0,c.D)(be).pipe(Q(St=>this.expandSegmentAgainstRoute(X,Y,be,St,Oe,qe,vt).pipe($(En=>{if(En instanceof _)return(0,h.of)(null);throw En}))),mt(St=>!!St),$((St,rn)=>{if(St instanceof i||"EmptyError"===St.name)return dn(Y,Oe,qe)?(0,h.of)(new ct([],{})):P(Y);throw St}))}expandSegmentAgainstRoute(X,Y,be,Oe,qe,vt,St){return cr(Oe,Y,qe,vt)?void 0===Oe.redirectTo?this.matchSegmentAgainstRoute(X,Y,Oe,qe,vt):St&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(X,Y,be,Oe,qe,vt):P(Y):P(Y)}expandSegmentAgainstRouteUsingRedirect(X,Y,be,Oe,qe,vt){return"**"===Oe.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(X,be,Oe,vt):this.expandRegularSegmentAgainstRouteUsingRedirect(X,Y,be,Oe,qe,vt)}expandWildCardWithParamsAgainstRouteUsingRedirect(X,Y,be,Oe){const qe=this.applyRedirectCommands([],be.redirectTo,{});return be.redirectTo.startsWith("/")?R(qe):this.lineralizeSegments(be,qe).pipe((0,oe.zg)(vt=>{const St=new ct(vt,{});return this.expandSegment(X,St,Y,vt,Oe,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(X,Y,be,Oe,qe,vt){const{matched:St,consumedSegments:rn,remainingSegments:En,positionalParamSegments:tr}=fe(Y,Oe,qe);if(!St)return P(Y);const Rn=this.applyRedirectCommands(rn,Oe.redirectTo,tr);return Oe.redirectTo.startsWith("/")?R(Rn):this.lineralizeSegments(Oe,Rn).pipe((0,oe.zg)(Vn=>this.expandSegment(X,Y,be,Vn.concat(En),vt,!1)))}matchSegmentAgainstRoute(X,Y,be,Oe,qe){if("**"===be.path)return be.loadChildren?(be._loadedConfig?(0,h.of)(be._loadedConfig):this.configLoader.load(X.injector,be)).pipe((0,Qe.U)(Rn=>(be._loadedConfig=Rn,new ct(Oe,{})))):(0,h.of)(new ct(Oe,{}));const{matched:vt,consumedSegments:St,remainingSegments:rn}=fe(Y,be,Oe);return vt?this.getChildConfig(X,be,Oe).pipe((0,oe.zg)(tr=>{const Rn=tr.module,Vn=tr.routes,{segmentGroup:hr,slicedSegments:Ai}=ge(Y,St,rn,Vn),ns=new ct(hr.segments,hr.children);if(0===Ai.length&&ns.hasChildren())return this.expandChildren(Rn,Vn,ns).pipe((0,Qe.U)(yc=>new ct(St,yc)));if(0===Vn.length&&0===Ai.length)return(0,h.of)(new ct(St,{}));const ta=zn(be)===qe;return this.expandSegment(Rn,ns,Vn,Ai,ta?Wt:qe,!0).pipe((0,Qe.U)(Ps=>new ct(St.concat(Ps.segments),Ps.children)))})):P(Y)}getChildConfig(X,Y,be){return Y.children?(0,h.of)(new ci(Y.children,X)):Y.loadChildren?void 0!==Y._loadedConfig?(0,h.of)(Y._loadedConfig):this.runCanLoadGuards(X.injector,Y,be).pipe((0,oe.zg)(Oe=>Oe?this.configLoader.load(X.injector,Y).pipe((0,Qe.U)(qe=>(Y._loadedConfig=qe,qe))):function ve(ae){return(0,v._)(S(`Cannot load children because the guard of the route "path: '${ae.path}'" returned false`))}(Y))):(0,h.of)(new ci([],X))}runCanLoadGuards(X,Y,be){const Oe=Y.canLoad;if(!Oe||0===Oe.length)return(0,h.of)(!0);const qe=Oe.map(vt=>{const St=X.get(vt);let rn;if(function Ce(ae){return ae&&Wr(ae.canLoad)}(St))rn=St.canLoad(Y,be);else{if(!Wr(St))throw new Error("Invalid CanLoad guard");rn=St(Y,be)}return kt(rn)});return(0,h.of)(qe).pipe(Ee(),(0,At.b)(vt=>{if(!Ye(vt))return;const St=S(`Redirecting to "${this.urlSerializer.serialize(vt)}"`);throw St.url=vt,St}),(0,Qe.U)(vt=>!0===vt))}lineralizeSegments(X,Y){let be=[],Oe=Y.root;for(;;){if(be=be.concat(Oe.segments),0===Oe.numberOfChildren)return(0,h.of)(be);if(Oe.numberOfChildren>1||!Oe.children[Wt])return(0,v._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${X.redirectTo}'`));Oe=Oe.children[Wt]}}applyRedirectCommands(X,Y,be){return this.applyRedirectCreatreUrlTree(Y,this.urlSerializer.parse(Y),X,be)}applyRedirectCreatreUrlTree(X,Y,be,Oe){const qe=this.createSegmentGroup(X,Y.root,be,Oe);return new qt(qe,this.createQueryParams(Y.queryParams,this.urlTree.queryParams),Y.fragment)}createQueryParams(X,Y){const be={};return dt(X,(Oe,qe)=>{if("string"==typeof Oe&&Oe.startsWith(":")){const St=Oe.substring(1);be[qe]=Y[St]}else be[qe]=Oe}),be}createSegmentGroup(X,Y,be,Oe){const qe=this.createSegments(X,Y.segments,be,Oe);let vt={};return dt(Y.children,(St,rn)=>{vt[rn]=this.createSegmentGroup(X,St,be,Oe)}),new ct(qe,vt)}createSegments(X,Y,be,Oe){return Y.map(qe=>qe.path.startsWith(":")?this.findPosParam(X,qe,Oe):this.findOrReturn(qe,be))}findPosParam(X,Y,be){const Oe=be[Y.path.substring(1)];if(!Oe)throw new Error(`Cannot redirect to '${X}'. Cannot find '${Y.path}'.`);return Oe}findOrReturn(X,Y){let be=0;for(const Oe of Y){if(Oe.path===X.path)return Y.splice(be),Oe;be++}return X}}function rt(ae){const X={};for(const be of Object.keys(ae.children)){const qe=rt(ae.children[be]);(qe.segments.length>0||qe.hasChildren())&&(X[be]=qe)}return function it(ae){if(1===ae.numberOfChildren&&ae.children[Wt]){const X=ae.children[Wt];return new ct(ae.segments.concat(X.segments),X.children)}return ae}(new ct(ae.segments,X))}class Nt{constructor(X){this.path=X,this.route=this.path[this.path.length-1]}}class Pt{constructor(X,Y){this.component=X,this.route=Y}}function gt(ae,X,Y){const be=ae._root;return Ut(be,X?X._root:null,Y,[be.value])}function Ht(ae,X,Y){const be=function Yt(ae){if(!ae)return null;for(let X=ae.parent;X;X=X.parent){const Y=X.routeConfig;if(Y&&Y._loadedConfig)return Y._loadedConfig}return null}(X);return(be?be.module.injector:Y).get(ae)}function Ut(ae,X,Y,be,Oe={canDeactivateChecks:[],canActivateChecks:[]}){const qe=lr(X);return ae.children.forEach(vt=>{(function Gt(ae,X,Y,be,Oe={canDeactivateChecks:[],canActivateChecks:[]}){const qe=ae.value,vt=X?X.value:null,St=Y?Y.getContext(ae.value.outlet):null;if(vt&&qe.routeConfig===vt.routeConfig){const rn=function An(ae,X,Y){if("function"==typeof Y)return Y(ae,X);switch(Y){case"pathParamsChange":return!sn(ae.url,X.url);case"pathParamsOrQueryParamsChange":return!sn(ae.url,X.url)||!ne(ae.queryParams,X.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Di(ae,X)||!ne(ae.queryParams,X.queryParams);default:return!Di(ae,X)}}(vt,qe,qe.routeConfig.runGuardsAndResolvers);rn?Oe.canActivateChecks.push(new Nt(be)):(qe.data=vt.data,qe._resolvedData=vt._resolvedData),Ut(ae,X,qe.component?St?St.children:null:Y,be,Oe),rn&&St&&St.outlet&&St.outlet.isActivated&&Oe.canDeactivateChecks.push(new Pt(St.outlet.component,vt))}else vt&&Bn(X,St,Oe),Oe.canActivateChecks.push(new Nt(be)),Ut(ae,null,qe.component?St?St.children:null:Y,be,Oe)})(vt,qe[vt.value.outlet],Y,be.concat([vt.value]),Oe),delete qe[vt.value.outlet]}),dt(qe,(vt,St)=>Bn(vt,Y.getContext(St),Oe)),Oe}function Bn(ae,X,Y){const be=lr(ae),Oe=ae.value;dt(be,(qe,vt)=>{Bn(qe,Oe.component?X?X.children.getContext(vt):null:X,Y)}),Y.canDeactivateChecks.push(new Pt(Oe.component&&X&&X.outlet&&X.outlet.isActivated?X.outlet.component:null,Oe))}class ei{}function ar(ae){return new f.y(X=>X.error(ae))}class rr{constructor(X,Y,be,Oe,qe,vt){this.rootComponentType=X,this.config=Y,this.urlTree=be,this.url=Oe,this.paramsInheritanceStrategy=qe,this.relativeLinkResolution=vt}recognize(){const X=ge(this.urlTree.root,[],[],this.config.filter(vt=>void 0===vt.redirectTo),this.relativeLinkResolution).segmentGroup,Y=this.processSegmentGroup(this.config,X,Wt);if(null===Y)return null;const be=new $r([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Wt,this.rootComponentType,null,this.urlTree.root,-1,{}),Oe=new or(be,Y),qe=new fi(this.url,Oe);return this.inheritParamsAndData(qe._root),qe}inheritParamsAndData(X){const Y=X.value,be=hi(Y,this.paramsInheritanceStrategy);Y.params=Object.freeze(be.params),Y.data=Object.freeze(be.data),X.children.forEach(Oe=>this.inheritParamsAndData(Oe))}processSegmentGroup(X,Y,be){return 0===Y.segments.length&&Y.hasChildren()?this.processChildren(X,Y):this.processSegment(X,Y,Y.segments,be)}processChildren(X,Y){const be=[];for(const qe of Object.keys(Y.children)){const vt=Y.children[qe],St=vr(X,qe),rn=this.processSegmentGroup(St,vt,qe);if(null===rn)return null;be.push(...rn)}const Oe=er(be);return function Lr(ae){ae.sort((X,Y)=>X.value.outlet===Wt?-1:Y.value.outlet===Wt?1:X.value.outlet.localeCompare(Y.value.outlet))}(Oe),Oe}processSegment(X,Y,be,Oe){for(const qe of X){const vt=this.processSegmentAgainstRoute(qe,Y,be,Oe);if(null!==vt)return vt}return dn(Y,be,Oe)?[]:null}processSegmentAgainstRoute(X,Y,be,Oe){if(X.redirectTo||!cr(X,Y,be,Oe))return null;let qe,vt=[],St=[];if("**"===X.path){const hr=be.length>0?ue(be).parameters:{};qe=new $r(be,hr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ss(X),zn(X),X.component,X,Ui(Y),Pi(Y)+be.length,Yo(X))}else{const hr=fe(Y,X,be);if(!hr.matched)return null;vt=hr.consumedSegments,St=hr.remainingSegments,qe=new $r(vt,hr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ss(X),zn(X),X.component,X,Ui(Y),Pi(Y)+vt.length,Yo(X))}const rn=function br(ae){return ae.children?ae.children:ae.loadChildren?ae._loadedConfig.routes:[]}(X),{segmentGroup:En,slicedSegments:tr}=ge(Y,vt,St,rn.filter(hr=>void 0===hr.redirectTo),this.relativeLinkResolution);if(0===tr.length&&En.hasChildren()){const hr=this.processChildren(rn,En);return null===hr?null:[new or(qe,hr)]}if(0===rn.length&&0===tr.length)return[new or(qe,[])];const Rn=zn(X)===Oe,Vn=this.processSegment(rn,En,tr,Rn?Wt:Oe);return null===Vn?null:[new or(qe,Vn)]}}function ir(ae){const X=ae.value.routeConfig;return X&&""===X.path&&void 0===X.redirectTo}function er(ae){const X=[],Y=new Set;for(const be of ae){if(!ir(be)){X.push(be);continue}const Oe=X.find(qe=>be.value.routeConfig===qe.value.routeConfig);void 0!==Oe?(Oe.children.push(...be.children),Y.add(Oe)):X.push(be)}for(const be of Y){const Oe=er(be.children);X.push(new or(be.value,Oe))}return X.filter(be=>!Y.has(be))}function Ui(ae){let X=ae;for(;X._sourceSegment;)X=X._sourceSegment;return X}function Pi(ae){let X=ae,Y=X._segmentIndexShift?X._segmentIndexShift:0;for(;X._sourceSegment;)X=X._sourceSegment,Y+=X._segmentIndexShift?X._segmentIndexShift:0;return Y-1}function ss(ae){return ae.data||{}}function Yo(ae){return ae.resolve||{}}function os(ae){return[...Object.keys(ae),...Object.getOwnPropertySymbols(ae)]}function ws(ae){return(0,jt.w)(X=>{const Y=ae(X);return Y?(0,c.D)(Y).pipe((0,Qe.U)(()=>X)):(0,h.of)(X)})}class qo{}class as extends class Vi{shouldDetach(X){return!1}store(X,Y){}shouldAttach(X){return!1}retrieve(X){return null}shouldReuseRoute(X,Y){return X.routeConfig===Y.routeConfig}}{}const oo=new m.OlP("ROUTES");class Zo{constructor(X,Y,be,Oe){this.injector=X,this.compiler=Y,this.onLoadStartListener=be,this.onLoadEndListener=Oe}load(X,Y){if(Y._loader$)return Y._loader$;this.onLoadStartListener&&this.onLoadStartListener(Y);const Oe=this.loadModuleFactory(Y.loadChildren).pipe((0,Qe.U)(qe=>{this.onLoadEndListener&&this.onLoadEndListener(Y);const vt=qe.create(X);return new ci(k(vt.injector.get(oo,void 0,m.XFs.Self|m.XFs.Optional)).map(kn),vt)}),$(qe=>{throw Y._loader$=void 0,qe}));return Y._loader$=new N.c(Oe,()=>new M.xQ).pipe((0,$t.x)()),Y._loader$}loadModuleFactory(X){return kt(X()).pipe((0,oe.zg)(Y=>Y instanceof m.YKP?(0,h.of)(Y):(0,c.D)(this.compiler.compileModuleAsync(Y))))}}class ao{shouldProcessUrl(X){return!0}extract(X){return X}merge(X,Y){return X}}function Ha(ae){throw ae}function za(ae,X,Y){return X.parse("/")}function Wa(ae,X){return(0,h.of)(null)}const mc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zr=(()=>{class ae{constructor(Y,be,Oe,qe,vt,St,rn){this.rootComponentType=Y,this.urlSerializer=be,this.rootContexts=Oe,this.location=qe,this.config=rn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new M.xQ,this.errorHandler=Ha,this.malformedUriErrorHandler=za,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Wa,afterPreactivation:Wa},this.urlHandlingStrategy=new ao,this.routeReuseStrategy=new as,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=vt.get(m.h0i),this.console=vt.get(m.c2e);const Rn=vt.get(m.R0b);this.isNgZoneEnabled=Rn instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(rn),this.currentUrlTree=function pn(){return new qt(new ct([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Zo(vt,St,Vn=>this.triggerEvent(new $e(Vn)),Vn=>this.triggerEvent(new wt(Vn))),this.routerState=Gr(this.currentUrlTree,this.rootComponentType),this.transitions=new y.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var Y;return null===(Y=this.location.getState())||void 0===Y?void 0:Y.\u0275routerPageId}setupNavigations(Y){const be=this.events;return Y.pipe((0,te.h)(Oe=>0!==Oe.id),(0,Qe.U)(Oe=>Object.assign(Object.assign({},Oe),{extractedUrl:this.urlHandlingStrategy.extract(Oe.rawUrl)})),(0,jt.w)(Oe=>{let qe=!1,vt=!1;return(0,h.of)(Oe).pipe((0,At.b)(St=>{this.currentNavigation={id:St.id,initialUrl:St.currentRawUrl,extractedUrl:St.extractedUrl,trigger:St.source,extras:St.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,jt.w)(St=>{const rn=this.browserUrlTree.toString(),En=!this.navigated||St.extractedUrl.toString()!==rn||rn!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||En)&&this.urlHandlingStrategy.shouldProcessUrl(St.rawUrl))return us(St.source)&&(this.browserUrlTree=St.extractedUrl),(0,h.of)(St).pipe((0,jt.w)(Rn=>{const Vn=this.transitions.getValue();return be.next(new Je(Rn.id,this.serializeUrl(Rn.extractedUrl),Rn.source,Rn.restoredState)),Vn!==this.transitions.getValue()?C.E:Promise.resolve(Rn)}),function Et(ae,X,Y,be){return(0,jt.w)(Oe=>function De(ae,X,Y,be,Oe){return new ze(ae,X,Y,be,Oe).apply()}(ae,X,Y,Oe.extractedUrl,be).pipe((0,Qe.U)(qe=>Object.assign(Object.assign({},Oe),{urlAfterRedirects:qe}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,At.b)(Rn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Rn.urlAfterRedirects})}),function Ga(ae,X,Y,be,Oe){return(0,oe.zg)(qe=>function pr(ae,X,Y,be,Oe="emptyOnly",qe="legacy"){try{const vt=new rr(ae,X,Y,be,Oe,qe).recognize();return null===vt?ar(new ei):(0,h.of)(vt)}catch(vt){return ar(vt)}}(ae,X,qe.urlAfterRedirects,Y(qe.urlAfterRedirects),be,Oe).pipe((0,Qe.U)(vt=>Object.assign(Object.assign({},qe),{targetSnapshot:vt}))))}(this.rootComponentType,this.config,Rn=>this.serializeUrl(Rn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,At.b)(Rn=>{if("eager"===this.urlUpdateStrategy){if(!Rn.extras.skipLocationChange){const hr=this.urlHandlingStrategy.merge(Rn.urlAfterRedirects,Rn.rawUrl);this.setBrowserUrl(hr,Rn)}this.browserUrlTree=Rn.urlAfterRedirects}const Vn=new yt(Rn.id,this.serializeUrl(Rn.extractedUrl),this.serializeUrl(Rn.urlAfterRedirects),Rn.targetSnapshot);be.next(Vn)}));if(En&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Vn,extractedUrl:hr,source:Ai,restoredState:ns,extras:ta}=St,Qa=new Je(Vn,this.serializeUrl(hr),Ai,ns);be.next(Qa);const Ps=Gr(hr,this.rootComponentType).snapshot;return(0,h.of)(Object.assign(Object.assign({},St),{targetSnapshot:Ps,urlAfterRedirects:hr,extras:Object.assign(Object.assign({},ta),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=St.rawUrl,St.resolve(null),C.E}),ws(St=>{const{targetSnapshot:rn,id:En,extractedUrl:tr,rawUrl:Rn,extras:{skipLocationChange:Vn,replaceUrl:hr}}=St;return this.hooks.beforePreactivation(rn,{navigationId:En,appliedUrlTree:tr,rawUrlTree:Rn,skipLocationChange:!!Vn,replaceUrl:!!hr})}),(0,At.b)(St=>{const rn=new lt(St.id,this.serializeUrl(St.extractedUrl),this.serializeUrl(St.urlAfterRedirects),St.targetSnapshot);this.triggerEvent(rn)}),(0,Qe.U)(St=>Object.assign(Object.assign({},St),{guards:gt(St.targetSnapshot,St.currentSnapshot,this.rootContexts)})),function Sn(ae,X){return(0,oe.zg)(Y=>{const{targetSnapshot:be,currentSnapshot:Oe,guards:{canActivateChecks:qe,canDeactivateChecks:vt}}=Y;return 0===vt.length&&0===qe.length?(0,h.of)(Object.assign(Object.assign({},Y),{guardsResult:!0})):function In(ae,X,Y,be){return(0,c.D)(ae).pipe((0,oe.zg)(Oe=>function jr(ae,X,Y,be,Oe){const qe=X&&X.routeConfig?X.routeConfig.canDeactivate:null;if(!qe||0===qe.length)return(0,h.of)(!0);const vt=qe.map(St=>{const rn=Ht(St,X,Oe);let En;if(function zt(ae){return ae&&Wr(ae.canDeactivate)}(rn))En=kt(rn.canDeactivate(ae,X,Y,be));else{if(!Wr(rn))throw new Error("Invalid CanDeactivate guard");En=kt(rn(ae,X,Y,be))}return En.pipe(mt())});return(0,h.of)(vt).pipe(Ee())}(Oe.component,Oe.route,Y,X,be)),mt(Oe=>!0!==Oe,!0))}(vt,be,Oe,ae).pipe((0,oe.zg)(St=>St&&function Se(ae){return"boolean"==typeof ae}(St)?function Wn(ae,X,Y,be){return(0,c.D)(X).pipe(Q(Oe=>(0,x.z)(function xr(ae,X){return null!==ae&&X&&X(new xt(ae)),(0,h.of)(!0)}(Oe.route.parent,be),function dr(ae,X){return null!==ae&&X&&X(new Kt(ae)),(0,h.of)(!0)}(Oe.route,be),function Ar(ae,X,Y){const be=X[X.length-1],qe=X.slice(0,X.length-1).reverse().map(vt=>function ln(ae){const X=ae.routeConfig?ae.routeConfig.canActivateChild:null;return X&&0!==X.length?{node:ae,guards:X}:null}(vt)).filter(vt=>null!==vt).map(vt=>(0,w.P)(()=>{const St=vt.guards.map(rn=>{const En=Ht(rn,vt.node,Y);let tr;if(function Ct(ae){return ae&&Wr(ae.canActivateChild)}(En))tr=kt(En.canActivateChild(be,ae));else{if(!Wr(En))throw new Error("Invalid CanActivateChild guard");tr=kt(En(be,ae))}return tr.pipe(mt())});return(0,h.of)(St).pipe(Ee())}));return(0,h.of)(qe).pipe(Ee())}(ae,Oe.path,Y),function Cr(ae,X,Y){const be=X.routeConfig?X.routeConfig.canActivate:null;if(!be||0===be.length)return(0,h.of)(!0);const Oe=be.map(qe=>(0,w.P)(()=>{const vt=Ht(qe,X,Y);let St;if(function Ke(ae){return ae&&Wr(ae.canActivate)}(vt))St=kt(vt.canActivate(X,ae));else{if(!Wr(vt))throw new Error("Invalid CanActivate guard");St=kt(vt(X,ae))}return St.pipe(mt())}));return(0,h.of)(Oe).pipe(Ee())}(ae,Oe.route,Y))),mt(Oe=>!0!==Oe,!0))}(be,qe,ae,X):(0,h.of)(St)),(0,Qe.U)(St=>Object.assign(Object.assign({},Y),{guardsResult:St})))})}(this.ngModule.injector,St=>this.triggerEvent(St)),(0,At.b)(St=>{if(Ye(St.guardsResult)){const En=S(`Redirecting to "${this.serializeUrl(St.guardsResult)}"`);throw En.url=St.guardsResult,En}const rn=new ke(St.id,this.serializeUrl(St.extractedUrl),this.serializeUrl(St.urlAfterRedirects),St.targetSnapshot,!!St.guardsResult);this.triggerEvent(rn)}),(0,te.h)(St=>!!St.guardsResult||(this.restoreHistory(St),this.cancelNavigationTransition(St,""),!1)),ws(St=>{if(St.guards.canActivateChecks.length)return(0,h.of)(St).pipe((0,At.b)(rn=>{const En=new Be(rn.id,this.serializeUrl(rn.extractedUrl),this.serializeUrl(rn.urlAfterRedirects),rn.targetSnapshot);this.triggerEvent(En)}),(0,jt.w)(rn=>{let En=!1;return(0,h.of)(rn).pipe(function $a(ae,X){return(0,oe.zg)(Y=>{const{targetSnapshot:be,guards:{canActivateChecks:Oe}}=Y;if(!Oe.length)return(0,h.of)(Y);let qe=0;return(0,c.D)(Oe).pipe(Q(vt=>function _s(ae,X,Y,be){return function bs(ae,X,Y,be){const Oe=os(ae);if(0===Oe.length)return(0,h.of)({});const qe={};return(0,c.D)(Oe).pipe((0,oe.zg)(vt=>function so(ae,X,Y,be){const Oe=Ht(ae,X,be);return kt(Oe.resolve?Oe.resolve(X,Y):Oe(X,Y))}(ae[vt],X,Y,be).pipe((0,At.b)(St=>{qe[vt]=St}))),ce(1),(0,oe.zg)(()=>os(qe).length===Oe.length?(0,h.of)(qe):C.E))}(ae._resolve,ae,X,be).pipe((0,Qe.U)(qe=>(ae._resolvedData=qe,ae.data=Object.assign(Object.assign({},ae.data),hi(ae,Y).resolve),null)))}(vt.route,be,ae,X)),(0,At.b)(()=>qe++),ce(1),(0,oe.zg)(vt=>qe===Oe.length?(0,h.of)(Y):C.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,At.b)({next:()=>En=!0,complete:()=>{En||(this.restoreHistory(rn),this.cancelNavigationTransition(rn,"At least one route resolver didn't emit any value."))}}))}),(0,At.b)(rn=>{const En=new Me(rn.id,this.serializeUrl(rn.extractedUrl),this.serializeUrl(rn.urlAfterRedirects),rn.targetSnapshot);this.triggerEvent(En)}))}),ws(St=>{const{targetSnapshot:rn,id:En,extractedUrl:tr,rawUrl:Rn,extras:{skipLocationChange:Vn,replaceUrl:hr}}=St;return this.hooks.afterPreactivation(rn,{navigationId:En,appliedUrlTree:tr,rawUrlTree:Rn,skipLocationChange:!!Vn,replaceUrl:!!hr})}),(0,Qe.U)(St=>{const rn=function oi(ae,X,Y){const be=ri(ae,X._root,Y?Y._root:void 0);return new ur(be,X)}(this.routeReuseStrategy,St.targetSnapshot,St.currentRouterState);return Object.assign(Object.assign({},St),{targetRouterState:rn})}),(0,At.b)(St=>{this.currentUrlTree=St.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(St.urlAfterRedirects,St.rawUrl),this.routerState=St.targetRouterState,"deferred"===this.urlUpdateStrategy&&(St.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,St),this.browserUrlTree=St.urlAfterRedirects)}),((ae,X,Y)=>(0,Qe.U)(be=>(new _i(X,be.targetRouterState,be.currentRouterState,Y).activate(ae),be)))(this.rootContexts,this.routeReuseStrategy,St=>this.triggerEvent(St)),(0,At.b)({next(){qe=!0},complete(){qe=!0}}),function ot(ae){return X=>X.lift(new ut(ae))}(()=>{var St;qe||vt||this.cancelNavigationTransition(Oe,`Navigation ID ${Oe.id} is not equal to the current navigation id ${this.navigationId}`),(null===(St=this.currentNavigation)||void 0===St?void 0:St.id)===Oe.id&&(this.currentNavigation=null)}),$(St=>{if(vt=!0,function I(ae){return ae&&ae[le]}(St)){const rn=Ye(St.url);rn||(this.navigated=!0,this.restoreHistory(Oe,!0));const En=new je(Oe.id,this.serializeUrl(Oe.extractedUrl),St.message);be.next(En),rn?setTimeout(()=>{const tr=this.urlHandlingStrategy.merge(St.url,this.rawUrlTree),Rn={skipLocationChange:Oe.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||us(Oe.source)};this.scheduleNavigation(tr,"imperative",null,Rn,{resolve:Oe.resolve,reject:Oe.reject,promise:Oe.promise})},0):Oe.resolve(!1)}else{this.restoreHistory(Oe,!0);const rn=new We(Oe.id,this.serializeUrl(Oe.extractedUrl),St);be.next(rn);try{Oe.resolve(this.errorHandler(St))}catch(En){Oe.reject(En)}}return C.E}))}))}resetRootComponentType(Y){this.rootComponentType=Y,this.routerState.root.component=this.rootComponentType}setTransition(Y){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),Y))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(Y=>{const be="popstate"===Y.type?"popstate":"hashchange";"popstate"===be&&setTimeout(()=>{var Oe;const qe={replaceUrl:!0},vt=(null===(Oe=Y.state)||void 0===Oe?void 0:Oe.navigationId)?Y.state:null;if(vt){const rn=Object.assign({},vt);delete rn.navigationId,delete rn.\u0275routerPageId,0!==Object.keys(rn).length&&(qe.state=rn)}const St=this.parseUrl(Y.url);this.scheduleNavigation(St,be,vt,qe)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(Y){this.events.next(Y)}resetConfig(Y){gn(Y),this.config=Y.map(kn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(Y,be={}){const{relativeTo:Oe,queryParams:qe,fragment:vt,queryParamsHandling:St,preserveFragment:rn}=be,En=Oe||this.routerState.root,tr=rn?this.currentUrlTree.fragment:vt;let Rn=null;switch(St){case"merge":Rn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),qe);break;case"preserve":Rn=this.currentUrlTree.queryParams;break;default:Rn=qe||null}return null!==Rn&&(Rn=this.removeEmptyProps(Rn)),function li(ae,X,Y,be,Oe){if(0===Y.length)return Tr(X.root,X.root,X.root,be,Oe);const qe=function Or(ae){if("string"==typeof ae[0]&&1===ae.length&&"/"===ae[0])return new Fr(!0,0,ae);let X=0,Y=!1;const be=ae.reduce((Oe,qe,vt)=>{if("object"==typeof qe&&null!=qe){if(qe.outlets){const St={};return dt(qe.outlets,(rn,En)=>{St[En]="string"==typeof rn?rn.split("/"):rn}),[...Oe,{outlets:St}]}if(qe.segmentPath)return[...Oe,qe.segmentPath]}return"string"!=typeof qe?[...Oe,qe]:0===vt?(qe.split("/").forEach((St,rn)=>{0==rn&&"."===St||(0==rn&&""===St?Y=!0:".."===St?X++:""!=St&&Oe.push(St))}),Oe):[...Oe,qe]},[]);return new Fr(Y,X,be)}(Y);if(qe.toRoot())return Tr(X.root,X.root,new ct([],{}),be,Oe);const vt=function mi(ae,X,Y){if(ae.isAbsolute)return new Nr(X.root,!0,0);if(-1===Y.snapshot._lastPathIndex){const qe=Y.snapshot._urlSegment;return new Nr(qe,qe===X.root,0)}const be=Xr(ae.commands[0])?0:1;return function Hr(ae,X,Y){let be=ae,Oe=X,qe=Y;for(;qe>Oe;){if(qe-=Oe,be=be.parent,!be)throw new Error("Invalid number of '../'");Oe=be.segments.length}return new Nr(be,!1,Oe-qe)}(Y.snapshot._urlSegment,Y.snapshot._lastPathIndex+be,ae.numberOfDoubleDots)}(qe,X,ae),St=vt.processChildren?zr(vt.segmentGroup,vt.index,qe.commands):Qr(vt.segmentGroup,vt.index,qe.commands);return Tr(X.root,vt.segmentGroup,St,be,Oe)}(En,this.currentUrlTree,Y,Rn,null!=tr?tr:null)}navigateByUrl(Y,be={skipLocationChange:!1}){const Oe=Ye(Y)?Y:this.parseUrl(Y),qe=this.urlHandlingStrategy.merge(Oe,this.rawUrlTree);return this.scheduleNavigation(qe,"imperative",null,be)}navigate(Y,be={skipLocationChange:!1}){return function lo(ae){for(let X=0;X<ae.length;X++){const Y=ae[X];if(null==Y)throw new Error(`The requested path contains ${Y} segment at index ${X}`)}}(Y),this.navigateByUrl(this.createUrlTree(Y,be),be)}serializeUrl(Y){return this.urlSerializer.serialize(Y)}parseUrl(Y){let be;try{be=this.urlSerializer.parse(Y)}catch(Oe){be=this.malformedUriErrorHandler(Oe,this.urlSerializer,Y)}return be}isActive(Y,be){let Oe;if(Oe=!0===be?Object.assign({},mc):!1===be?Object.assign({},xs):be,Ye(Y))return yr(this.currentUrlTree,Y,Oe);const qe=this.parseUrl(Y);return yr(this.currentUrlTree,qe,Oe)}removeEmptyProps(Y){return Object.keys(Y).reduce((be,Oe)=>{const qe=Y[Oe];return null!=qe&&(be[Oe]=qe),be},{})}processNavigations(){this.navigations.subscribe(Y=>{this.navigated=!0,this.lastSuccessfulId=Y.id,this.currentPageId=Y.targetPageId,this.events.next(new at(Y.id,this.serializeUrl(Y.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,Y.resolve(!0)},Y=>{this.console.warn(`Unhandled Navigation Error: ${Y}`)})}scheduleNavigation(Y,be,Oe,qe,vt){var St,rn;if(this.disposed)return Promise.resolve(!1);let En,tr,Rn;vt?(En=vt.resolve,tr=vt.reject,Rn=vt.promise):Rn=new Promise((Ai,ns)=>{En=Ai,tr=ns});const Vn=++this.navigationId;let hr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Oe=this.location.getState()),hr=Oe&&Oe.\u0275routerPageId?Oe.\u0275routerPageId:qe.replaceUrl||qe.skipLocationChange?null!==(St=this.browserPageId)&&void 0!==St?St:0:(null!==(rn=this.browserPageId)&&void 0!==rn?rn:0)+1):hr=0,this.setTransition({id:Vn,targetPageId:hr,source:be,restoredState:Oe,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:Y,extras:qe,resolve:En,reject:tr,promise:Rn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Rn.catch(Ai=>Promise.reject(Ai))}setBrowserUrl(Y,be){const Oe=this.urlSerializer.serialize(Y),qe=Object.assign(Object.assign({},be.extras.state),this.generateNgRouterState(be.id,be.targetPageId));this.location.isCurrentPathEqualTo(Oe)||be.extras.replaceUrl?this.location.replaceState(Oe,"",qe):this.location.go(Oe,"",qe)}restoreHistory(Y,be=!1){var Oe,qe;if("computed"===this.canceledNavigationResolution){const vt=this.currentPageId-Y.targetPageId;"popstate"!==Y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(Oe=this.currentNavigation)||void 0===Oe?void 0:Oe.finalUrl)||0===vt?this.currentUrlTree===(null===(qe=this.currentNavigation)||void 0===qe?void 0:qe.finalUrl)&&0===vt&&(this.resetState(Y),this.browserUrlTree=Y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(vt)}else"replace"===this.canceledNavigationResolution&&(be&&this.resetState(Y),this.resetUrlToCurrentUrlTree())}resetState(Y){this.routerState=Y.currentRouterState,this.currentUrlTree=Y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(Y,be){const Oe=new je(Y.id,this.serializeUrl(Y.extractedUrl),be);this.triggerEvent(Oe),Y.resolve(!1)}generateNgRouterState(Y,be){return"computed"===this.canceledNavigationResolution?{navigationId:Y,\u0275routerPageId:be}:{navigationId:Y}}}return ae.\u0275fac=function(Y){m.$Z()},ae.\u0275prov=m.Yz7({token:ae,factory:ae.\u0275fac}),ae})();function us(ae){return"imperative"!==ae}let cs=(()=>{class ae{constructor(Y,be,Oe,qe,vt){this.router=Y,this.route=be,this.tabIndexAttribute=Oe,this.renderer=qe,this.el=vt,this.commands=null,this.onChanges=new M.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(Y){if(null!=this.tabIndexAttribute)return;const be=this.renderer,Oe=this.el.nativeElement;null!==Y?be.setAttribute(Oe,"tabindex",Y):be.removeAttribute(Oe,"tabindex")}ngOnChanges(Y){this.onChanges.next(this)}set routerLink(Y){null!=Y?(this.commands=Array.isArray(Y)?Y:[Y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const Y={skipLocationChange:bi(this.skipLocationChange),replaceUrl:bi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Y),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:bi(this.preserveFragment)})}}return ae.\u0275fac=function(Y){return new(Y||ae)(m.Y36(Zr),m.Y36(gr),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq))},ae.\u0275dir=m.lG2({type:ae,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(Y,be){1&Y&&m.NdJ("click",function(){return be.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[m.TTD]}),ae})();function bi(ae){return""===ae||!!ae}class Cs{}class ds{preload(X,Y){return Y().pipe($(()=>(0,h.of)(null)))}}class qa{preload(X,Y){return(0,h.of)(null)}}let uo=(()=>{class ae{constructor(Y,be,Oe,qe){this.router=Y,this.injector=Oe,this.preloadingStrategy=qe,this.loader=new Zo(Oe,be,rn=>Y.triggerEvent(new $e(rn)),rn=>Y.triggerEvent(new wt(rn)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,te.h)(Y=>Y instanceof at),Q(()=>this.preload())).subscribe(()=>{})}preload(){const Y=this.injector.get(m.h0i);return this.processRoutes(Y,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Y,be){const Oe=[];for(const qe of be)if(qe.loadChildren&&!qe.canLoad&&qe._loadedConfig){const vt=qe._loadedConfig;Oe.push(this.processRoutes(vt.module,vt.routes))}else qe.loadChildren&&!qe.canLoad?Oe.push(this.preloadConfig(Y,qe)):qe.children&&Oe.push(this.processRoutes(Y,qe.children));return(0,c.D)(Oe).pipe((0,Ot.J)(),(0,Qe.U)(qe=>{}))}preloadConfig(Y,be){return this.preloadingStrategy.preload(be,()=>(be._loadedConfig?(0,h.of)(be._loadedConfig):this.loader.load(Y.injector,be)).pipe((0,oe.zg)(qe=>(be._loadedConfig=qe,this.processRoutes(qe.module,qe.routes)))))}}return ae.\u0275fac=function(Y){return new(Y||ae)(m.LFG(Zr),m.LFG(m.Sil),m.LFG(m.zs3),m.LFG(Cs))},ae.\u0275prov=m.Yz7({token:ae,factory:ae.\u0275fac}),ae})(),Ds=(()=>{class ae{constructor(Y,be,Oe={}){this.router=Y,this.viewportScroller=be,this.options=Oe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Oe.scrollPositionRestoration=Oe.scrollPositionRestoration||"disabled",Oe.anchorScrolling=Oe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(Y=>{Y instanceof Je?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Y.navigationTrigger,this.restoredId=Y.restoredState?Y.restoredState.navigationId:0):Y instanceof at&&(this.lastId=Y.id,this.scheduleScrollEvent(Y,this.router.parseUrl(Y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(Y=>{Y instanceof nn&&(Y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Y.position):Y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Y,be){this.router.triggerEvent(new nn(Y,"popstate"===this.lastSource?this.store[this.restoredId]:null,be))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return ae.\u0275fac=function(Y){m.$Z()},ae.\u0275prov=m.Yz7({token:ae,factory:ae.\u0275fac}),ae})();const Ji=new m.OlP("ROUTER_CONFIGURATION"),ts=new m.OlP("ROUTER_FORROOT_GUARD"),co=[tn.Ye,{provide:Qt,useClass:Fn},{provide:Zr,useFactory:function Xo(ae,X,Y,be,Oe,qe,vt={},St,rn){const En=new Zr(null,ae,X,Y,be,Oe,k(qe));return St&&(En.urlHandlingStrategy=St),rn&&(En.routeReuseStrategy=rn),function Qo(ae,X){ae.errorHandler&&(X.errorHandler=ae.errorHandler),ae.malformedUriErrorHandler&&(X.malformedUriErrorHandler=ae.malformedUriErrorHandler),ae.onSameUrlNavigation&&(X.onSameUrlNavigation=ae.onSameUrlNavigation),ae.paramsInheritanceStrategy&&(X.paramsInheritanceStrategy=ae.paramsInheritanceStrategy),ae.relativeLinkResolution&&(X.relativeLinkResolution=ae.relativeLinkResolution),ae.urlUpdateStrategy&&(X.urlUpdateStrategy=ae.urlUpdateStrategy),ae.canceledNavigationResolution&&(X.canceledNavigationResolution=ae.canceledNavigationResolution)}(vt,En),vt.enableTracing&&En.events.subscribe(tr=>{var Rn,Vn;null===(Rn=console.group)||void 0===Rn||Rn.call(console,`Router Event: ${tr.constructor.name}`),console.log(tr.toString()),console.log(tr),null===(Vn=console.groupEnd)||void 0===Vn||Vn.call(console)}),En},deps:[Qt,_e,tn.Ye,m.zs3,m.Sil,oo,Ji,[class ls{},new m.FiY],[qo,new m.FiY]]},_e,{provide:gr,useFactory:function Ja(ae){return ae.routerState.root},deps:[Zr]},uo,qa,ds,{provide:Ji,useValue:{enableTracing:!1}}];function ho(){return new m.PXZ("Router",Zr)}let Ss=(()=>{class ae{constructor(Y,be){}static forRoot(Y,be){return{ngModule:ae,providers:[co,fo(Y),{provide:ts,useFactory:Jo,deps:[[Zr,new m.FiY,new m.tp0]]},{provide:Ji,useValue:be||{}},{provide:tn.S$,useFactory:Za,deps:[tn.lw,[new m.tBr(tn.mr),new m.FiY],Ji]},{provide:Ds,useFactory:Ts,deps:[Zr,tn.EM,Ji]},{provide:Cs,useExisting:be&&be.preloadingStrategy?be.preloadingStrategy:qa},{provide:m.PXZ,multi:!0,useFactory:ho},[po,{provide:m.ip1,multi:!0,useFactory:Ms,deps:[po]},{provide:Ko,useFactory:hs,deps:[po]},{provide:m.tb,multi:!0,useExisting:Ko}]]}}static forChild(Y){return{ngModule:ae,providers:[fo(Y)]}}}return ae.\u0275fac=function(Y){return new(Y||ae)(m.LFG(ts,8),m.LFG(Zr,8))},ae.\u0275mod=m.oAB({type:ae}),ae.\u0275inj=m.cJS({}),ae})();function Ts(ae,X,Y){return Y.scrollOffset&&X.setOffset(Y.scrollOffset),new Ds(ae,X,Y)}function Za(ae,X,Y={}){return Y.useHash?new tn.Do(ae,X):new tn.b0(ae,X)}function Jo(ae){return"guarded"}function fo(ae){return[{provide:m.deG,multi:!0,useValue:ae},{provide:oo,multi:!0,useValue:ae}]}let po=(()=>{class ae{constructor(Y){this.injector=Y,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new M.xQ}appInitializer(){return this.injector.get(tn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let be=null;const Oe=new Promise(St=>be=St),qe=this.injector.get(Zr),vt=this.injector.get(Ji);return"disabled"===vt.initialNavigation?(qe.setUpLocationChangeListener(),be(!0)):"enabled"===vt.initialNavigation||"enabledBlocking"===vt.initialNavigation?(qe.hooks.afterPreactivation=()=>this.initNavigation?(0,h.of)(null):(this.initNavigation=!0,be(!0),this.resultOfPreactivationDone),qe.initialNavigation()):be(!0),Oe})}bootstrapListener(Y){const be=this.injector.get(Ji),Oe=this.injector.get(uo),qe=this.injector.get(Ds),vt=this.injector.get(Zr),St=this.injector.get(m.z2F);Y===St.components[0]&&(("enabledNonBlocking"===be.initialNavigation||void 0===be.initialNavigation)&&vt.initialNavigation(),Oe.setUpPreloading(),qe.init(),vt.resetRootComponentType(St.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return ae.\u0275fac=function(Y){return new(Y||ae)(m.LFG(m.zs3))},ae.\u0275prov=m.Yz7({token:ae,factory:ae.\u0275fac}),ae})();function Ms(ae){return ae.appInitializer.bind(ae)}function hs(ae){return ae.bootstrapListener.bind(ae)}const Ko=new m.OlP("Router Initializer")},3260:(hn,Mt,se)=>{"use strict";se.d(Mt,{Z:()=>Xe});var m=se(5861);const ye={};ye.write=function(){var xe=(0,m.Z)(function*(e){yield navigator.clipboard.writeText(e)});return function(e){return xe.apply(this,arguments)}}(),ye.read=(0,m.Z)(function*(){return navigator.clipboard.readText()}),ye.readSync=()=>{throw new Error("`.readSync()` is not supported in browsers!")},ye.writeSync=()=>{throw new Error("`.writeSync()` is not supported in browsers!")};const Xe=ye},5861:(hn,Mt,se)=>{"use strict";function m(Xe,xe,e,U,E,f,o){try{var a=Xe[f](o),d=a.value}catch(u){return void e(u)}a.done?xe(d):Promise.resolve(d).then(U,E)}function ye(Xe){return function(){var xe=this,e=arguments;return new Promise(function(U,E){var f=Xe.apply(xe,e);function o(d){m(f,U,E,o,a,"next",d)}function a(d){m(f,U,E,o,a,"throw",d)}o(void 0)})}}se.d(Mt,{Z:()=>ye})}},hn=>{hn(hn.s=6511)}]);