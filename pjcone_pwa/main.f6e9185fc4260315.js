(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1590],{1028:(fn,Pt,me)=>{"use strict";me.d(Pt,{Y:()=>_e});var b=me(1316),we=me(3080),nt=me(4496),_e=function(r){function W(){return null!==r&&r.apply(this,arguments)||this}return(0,b.ct)(W,r),W.prototype.enable=function(){return(0,we.AN)(this,"enable",{sync:!0},arguments)},W.prototype.disable=function(){return(0,we.AN)(this,"disable",{sync:!0},arguments)},W.prototype.setEnabled=function(S){return(0,we.AN)(this,"setEnabled",{sync:!0},arguments)},W.prototype.fireEvent=function(S){for(var v=[],_=1;_<arguments.length;_++)v[_-1]=arguments[_];return(0,we.AN)(this,"fireEvent",{sync:!0},arguments)},W.prototype.isEnabled=function(){return(0,we.AN)(this,"isEnabled",{sync:!0},arguments)},W.prototype.isActive=function(){return(0,we.AN)(this,"isActive",{sync:!0},arguments)},W.prototype.setDefaults=function(S){return(0,we.AN)(this,"setDefaults",{platforms:["Android"]},arguments)},W.prototype.configure=function(S){return(0,we.AN)(this,"configure",{platforms:["Android"],sync:!0},arguments)},W.prototype.on=function(S){return(0,we.AN)(this,"on",{observable:!0,clearFunction:"un",clearWithArgs:!0},arguments)},W.prototype.un=function(S,v){return(0,we.AN)(this,"un",{},arguments)},W.prototype.moveToBackground=function(){return(0,we.AN)(this,"moveToBackground",{platforms:["Android"],sync:!0},arguments)},W.prototype.disableWebViewOptimizations=function(){return(0,we.AN)(this,"disableWebViewOptimizations",{platforms:["Android"],sync:!0},arguments)},W.prototype.moveToForeground=function(){return(0,we.AN)(this,"moveToForeground",{platforms:["Android"],sync:!0},arguments)},W.prototype.overrideBackButton=function(){return(0,we.AN)(this,"overrideBackButton",{platforms:["Android"],sync:!0},arguments)},W.prototype.excludeFromTaskList=function(){return(0,we.AN)(this,"excludeFromTaskList",{platforms:["Android"],sync:!0},arguments)},W.prototype.isScreenOff=function(S){return(0,we.AN)(this,"isScreenOff",{platforms:["Android"]},arguments)},W.prototype.wakeUp=function(){return(0,we.AN)(this,"wakeUp",{platforms:["Android"],sync:!0},arguments)},W.prototype.unlock=function(){return(0,we.AN)(this,"unlock",{platforms:["Android"],sync:!0},arguments)},W.prototype.disableBatteryOptimizations=function(){return(0,we.AN)(this,"disableBatteryOptimizations",{platforms:["Android"],sync:!0},arguments)},W.\u0275fac=(()=>{let S;return function(_){return(S||(S=nt.otF(W)))(_||W)}})(),W.\u0275prov=nt.wxM({token:W,factory:W.\u0275fac}),W.pluginName="BackgroundMode",W.plugin="cordova-plugin-background-mode",W.pluginRef="cordova.plugins.backgroundMode",W.repo="https://github.com/katzer/cordova-plugin-background-mode",W.platforms=["AmazonFire OS","Android","Browser","iOS","Windows"],W=(0,b.UN)([],W)}(we.SM)},7756:(fn,Pt,me)=>{"use strict";me.d(Pt,{_:()=>_e});var b=me(1316),we=me(3080),nt=me(4496),_e=function(r){function W(){return null!==r&&r.apply(this,arguments)||this}return(0,b.ct)(W,r),W.prototype.copy=function(S){return(0,we.AN)(this,"copy",{},arguments)},W.prototype.paste=function(){return(0,we.AN)(this,"paste",{},arguments)},W.prototype.clear=function(){return(0,we.AN)(this,"clear",{},arguments)},W.\u0275fac=(()=>{let S;return function(_){return(S||(S=nt.otF(W)))(_||W)}})(),W.\u0275prov=nt.wxM({token:W,factory:W.\u0275fac}),W.pluginName="Clipboard",W.plugin="cordova-clipboard",W.pluginRef="cordova.plugins.clipboard",W.repo="https://github.com/ihadeed/cordova-clipboard",W.platforms=["Android","iOS","Windows Phone 8"],W=(0,b.UN)([],W)}(we.SM)},3080:(fn,Pt,me)=>{"use strict";me.d(Pt,{SM:()=>$,sp:()=>h,AN:()=>N,qE:()=>k,QN:()=>E,Ce:()=>W});var we=me(3252),nt=me(800),_e={error:"cordova_not_available"},r={error:"plugin_not_installed"};function W(T){if(typeof window<"u"&&window.angular){var X=window.document,z=window.angular.element(X.querySelector("[ng-app]")||X.body).injector();if(z)return z.get("$q")(function(J,q){T(J,q)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(J,q){T(J,q)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function h(T,H,X){var z,te;"string"==typeof T?z=T:(z=T.constructor.getPluginRef(),X=T.constructor.getPluginName(),te=T.constructor.getPluginInstallName());var J=d(z);return!(!J||H&&typeof J[H]>"u")||(typeof window>"u"||!window.cordova?(function s(T,H){typeof process>"u"&&console.warn(H?"Native: tried calling "+T+"."+H+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+T+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(X,H),_e):(function c(T,H,X){console.warn(X?"Native: tried calling "+T+"."+X+", but the "+T+" plugin is not installed.":"Native: tried accessing the "+T+" plugin but it's not installed."),H&&console.warn("Install the "+T+" plugin: 'ionic cordova plugin add "+H+"'")}(X,te,H),r))}function a(T,H,X,z,te,J){void 0===z&&(z={}),X=function w(T,H,X,z){if(void 0===H&&(H={}),H.sync)return T;if("reverse"===H.callbackOrder)T.unshift(z),T.unshift(X);else if("node"===H.callbackStyle)T.push(function(ne,de){ne?z(ne):X(de)});else if("object"===H.callbackStyle&&H.successName&&H.errorName){var te={};te[H.successName]=X,te[H.errorName]=z,T.push(te)}else if(typeof H.successIndex<"u"||typeof H.errorIndex<"u"){var J=function(){H.successIndex>T.length?T[H.successIndex]=X:T.splice(H.successIndex,0,X)},q=function(){H.errorIndex>T.length?T[H.errorIndex]=z:T.splice(H.errorIndex,0,z)};H.successIndex>H.errorIndex?(q(),J()):(J(),q())}else T.push(X),T.push(z);return T}(X,z,te,J);var q=h(T,H);if(!0===q){var ne=d(T.constructor.getPluginRef());return ne[H].apply(ne,X)}return q}function d(T){return typeof window<"u"?u(window,T):null}function u(T,H){for(var X=H.split("."),z=T,te=0;te<X.length;te++){if(!z)return null;z=z[X[te]]}return z}var m=function(T,H,X){return void 0===X&&(X={}),function(){for(var z=[],te=0;te<arguments.length;te++)z[te]=arguments[te];return X.sync?a(T,H,z,X):X.observable?function _(T,H,X,z){return void 0===z&&(z={}),new we._(function(te){var J;return J=z.destruct?a(T,H,X,z,function(){for(var q=[],ne=0;ne<arguments.length;ne++)q[ne]=arguments[ne];return te.next(q)},function(){for(var q=[],ne=0;ne<arguments.length;ne++)q[ne]=arguments[ne];return te.error(q)}):a(T,H,X,z,te.next.bind(te),te.error.bind(te)),J&&J.error&&(te.error(J.error),te.complete()),function(){try{if(z.clearFunction)return z.clearWithArgs?a(T,z.clearFunction,X,z,te.next.bind(te),te.error.bind(te)):a(T,z.clearFunction,[])}catch(q){console.warn("Unable to clear the previous observable watch for",T.constructor.getPluginName(),H),console.warn(q)}}})}(T,H,z,X):X.eventObservable&&X.event?function f(T,H){return H=typeof window<"u"&&H?u(window,H):H||(typeof window<"u"?window:{}),(0,nt.w)(H,T)}(X.event,X.element):X.otherPromise?function v(T,H,X,z){return void 0===z&&(z={}),W(function(te,J){var q=a(T,H,X,z);q?q.error?J(q.error):q.then&&q.then(te).catch(J):J({error:"unexpected_error"})})}(T,H,z,X):function S(T,H,X,z){void 0===z&&(z={});var te,J,q=W(function(ne,de){te=z.destruct?a(T,H,X,z,function(){for(var De=[],Y=0;Y<arguments.length;Y++)De[Y]=arguments[Y];return ne(De)},function(){for(var De=[],Y=0;Y<arguments.length;Y++)De[Y]=arguments[Y];return de(De)}):a(T,H,X,z,ne,de),J=de});return te&&te.error&&(q.catch(function(){}),"function"==typeof J&&J(te.error)),q}(T,H,z,X)}},$=function(){function T(){}return T.installed=function(){return!0===h(this.pluginRef)},T.getPlugin=function(){return typeof window<"u"?function y(T,H){for(var X=H.split("."),z=T,te=0;te<X.length;te++){if(!z)return null;z=z[X[te]]}return z}(window,this.pluginRef):null},T.getPluginName=function(){return this.pluginName},T.getPluginRef=function(){return this.pluginRef},T.getPluginInstallName=function(){return this.plugin},T.getSupportedPlatforms=function(){return this.platforms},T.pluginName="",T.pluginRef="",T.plugin="",T.repo="",T.platforms=[],T.install="",T}();function N(T,H,X,z){return m(T,H,X).apply(this,z)}function k(T,H){return!0===h(T,H)?d(T.constructor.getPluginRef())[H]:null}function E(T,H,X){!0===h(T,H)&&(d(T.constructor.getPluginRef())[H]=X)}!function b(){if(typeof process>"u"){var T=typeof window<"u"?window:{},X=Date.now(),z=!1;T.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-X)+" ms"),z=!0}),setTimeout(function(){!z&&T.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},8268:(fn,Pt,me)=>{"use strict";me.d(Pt,{G:()=>_e});var b=me(1316),we=me(3080),nt=me(4496),_e=function(r){function W(){return null!==r&&r.apply(this,arguments)||this}return(0,b.ct)(W,r),Object.defineProperty(W.prototype,"cordova",{get:function(){return(0,we.qE)(this,"cordova")},set:function(S){(0,we.QN)(this,"cordova",S)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"model",{get:function(){return(0,we.qE)(this,"model")},set:function(S){(0,we.QN)(this,"model",S)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"platform",{get:function(){return(0,we.qE)(this,"platform")},set:function(S){(0,we.QN)(this,"platform",S)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"uuid",{get:function(){return(0,we.qE)(this,"uuid")},set:function(S){(0,we.QN)(this,"uuid",S)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"version",{get:function(){return(0,we.qE)(this,"version")},set:function(S){(0,we.QN)(this,"version",S)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"manufacturer",{get:function(){return(0,we.qE)(this,"manufacturer")},set:function(S){(0,we.QN)(this,"manufacturer",S)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"isVirtual",{get:function(){return(0,we.qE)(this,"isVirtual")},set:function(S){(0,we.QN)(this,"isVirtual",S)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"serial",{get:function(){return(0,we.qE)(this,"serial")},set:function(S){(0,we.QN)(this,"serial",S)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"sdkVersion",{get:function(){return(0,we.qE)(this,"sdkVersion")},set:function(S){(0,we.QN)(this,"sdkVersion",S)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"isiOSAppOnMac",{get:function(){return(0,we.qE)(this,"isiOSAppOnMac")},set:function(S){(0,we.QN)(this,"isiOSAppOnMac",S)},enumerable:!1,configurable:!0}),W.\u0275fac=(()=>{let S;return function(_){return(S||(S=nt.otF(W)))(_||W)}})(),W.\u0275prov=nt.wxM({token:W,factory:W.\u0275fac}),W.pluginName="Device",W.plugin="cordova-plugin-device",W.pluginRef="device",W.repo="https://github.com/apache/cordova-plugin-device",W.platforms=["Android","Browser","iOS","macOS","Windows"],W=(0,b.UN)([],W)}(we.SM)},544:(fn,Pt,me)=>{"use strict";me.d(Pt,{S:()=>_e});var b=me(1316),we=me(3080),nt=me(4496),_e=function(r){function W(){var S=null!==r&&r.apply(this,arguments)||this;return S.cordovaFileError={1:"NOT_FOUND_ERR",2:"SECURITY_ERR",3:"ABORT_ERR",4:"NOT_READABLE_ERR",5:"ENCODING_ERR",6:"NO_MODIFICATION_ALLOWED_ERR",7:"INVALID_STATE_ERR",8:"SYNTAX_ERR",9:"INVALID_MODIFICATION_ERR",10:"QUOTA_EXCEEDED_ERR",11:"TYPE_MISMATCH_ERR",12:"PATH_EXISTS_ERR",13:"WRONG_ENTRY_TYPE",14:"DIR_READ_ERR"},S}return(0,b.ct)(W,r),W.prototype.getFreeDiskSpace=function(){var S=this;return function(){if(!0===(0,we.sp)(S))return(0,we.Ce)(function(v,_){cordova.exec(v,_,"File","getFreeDiskSpace",[])})}()},W.prototype.checkDir=function(S,v){var _=this;return function(){if(!0===(0,we.sp)(_)){if(/^\//.test(v)){var f=new FileError(5);return f.message="directory cannot start with /",Promise.reject(f)}return _.resolveDirectoryUrl(S+v).then(function(){return!0})}}()},W.prototype.createDir=function(S,v,_){var f=this;return function(){if(!0===(0,we.sp)(f)){if(/^\//.test(v)){var h=new FileError(5);return h.message="directory cannot start with /",Promise.reject(h)}var x={create:!0};return _||(x.exclusive=!0),f.resolveDirectoryUrl(S).then(function(w){return f.getDirectory(w,v,x)})}}()},W.prototype.removeDir=function(S,v){var _=this;return function(){if(!0===(0,we.sp)(_)){if(/^\//.test(v)){var f=new FileError(5);return f.message="directory cannot start with /",Promise.reject(f)}return _.resolveDirectoryUrl(S).then(function(h){return _.getDirectory(h,v,{create:!1})}).then(function(h){return _.remove(h)})}}()},W.prototype.moveDir=function(S,v,_,f){var h=this;return function(){if(!0===(0,we.sp)(h)){if(/^\//.test(f=f||v)){var x=new FileError(5);return x.message="directory cannot start with /",Promise.reject(x)}return h.resolveDirectoryUrl(S).then(function(w){return h.getDirectory(w,v,{create:!1})}).then(function(w){return h.resolveDirectoryUrl(_).then(function(a){return h.move(w,a,f)})})}}()},W.prototype.copyDir=function(S,v,_,f){var h=this;return function(){if(!0===(0,we.sp)(h)){if(/^\//.test(f)){var x=new FileError(5);return x.message="directory cannot start with /",Promise.reject(x)}return h.resolveDirectoryUrl(S).then(function(w){return h.getDirectory(w,v,{create:!1})}).then(function(w){return h.resolveDirectoryUrl(_).then(function(a){return h.copy(w,a,f)})})}}()},W.prototype.listDir=function(S,v){var _=this;return function(){if(!0===(0,we.sp)(_)){if(/^\//.test(v)){var f=new FileError(5);return f.message="directory cannot start with /",Promise.reject(f)}return _.resolveDirectoryUrl(S).then(function(h){return _.getDirectory(h,v,{create:!1,exclusive:!1})}).then(function(h){var x=h.createReader();return _.readEntries(x)})}}()},W.prototype.removeRecursively=function(S,v){var _=this;return function(){if(!0===(0,we.sp)(_)){if(/^\//.test(v)){var f=new FileError(5);return f.message="directory cannot start with /",Promise.reject(f)}return _.resolveDirectoryUrl(S).then(function(h){return _.getDirectory(h,v,{create:!1})}).then(function(h){return _.rimraf(h)})}}()},W.prototype.checkFile=function(S,v){var _=this;return function(){if(!0===(0,we.sp)(_)){if(/^\//.test(v)){var f=new FileError(5);return f.message="file cannot start with /",Promise.reject(f)}return _.resolveLocalFilesystemUrl(S+v).then(function(h){if(h.isFile)return!0;var x=new FileError(13);return x.message="input is not a file",Promise.reject(x)})}}()},W.prototype.createFile=function(S,v,_){var f=this;return function(){if(!0===(0,we.sp)(f)){if(/^\//.test(v)){var h=new FileError(5);return h.message="file-name cannot start with /",Promise.reject(h)}var x={create:!0};return _||(x.exclusive=!0),f.resolveDirectoryUrl(S).then(function(w){return f.getFile(w,v,x)})}}()},W.prototype.removeFile=function(S,v){var _=this;return function(){if(!0===(0,we.sp)(_)){if(/^\//.test(v)){var f=new FileError(5);return f.message="file-name cannot start with /",Promise.reject(f)}return _.resolveDirectoryUrl(S).then(function(h){return _.getFile(h,v,{create:!1})}).then(function(h){return _.remove(h)})}}()},W.prototype.writeFile=function(S,v,_,f){var h=this;return void 0===f&&(f={}),function(){if(!0===(0,we.sp)(h)){if(/^\//.test(v)){var x=new FileError(5);return x.message="file-name cannot start with /",Promise.reject(x)}var w={create:!f.append,exclusive:!f.replace};return h.resolveDirectoryUrl(S).then(function(a){return h.getFile(a,v,w)}).then(function(a){return h.writeFileEntry(a,_,f)})}}()},W.prototype.writeFileEntry=function(S,v,_){var f=this;return this.createWriter(S).then(function(h){return _.append&&h.seek(h.length),_.truncate&&h.truncate(_.truncate),f.write(h,v)}).then(function(){return S})},W.prototype.writeExistingFile=function(S,v,_){var f=this;return function(){if(!0===(0,we.sp)(f))return f.writeFile(S,v,_,{replace:!0})}()},W.prototype.readAsText=function(S,v){var _=this;return function(){if(!0===(0,we.sp)(_))return _.readFile(S,v,"Text")}()},W.prototype.readAsDataURL=function(S,v){var _=this;return function(){if(!0===(0,we.sp)(_))return _.readFile(S,v,"DataURL")}()},W.prototype.readAsBinaryString=function(S,v){var _=this;return function(){if(!0===(0,we.sp)(_))return _.readFile(S,v,"BinaryString")}()},W.prototype.readAsArrayBuffer=function(S,v){var _=this;return function(){if(!0===(0,we.sp)(_))return _.readFile(S,v,"ArrayBuffer")}()},W.prototype.moveFile=function(S,v,_,f){var h=this;return function(){if(!0===(0,we.sp)(h)){if(/^\//.test(f=f||v)){var x=new FileError(5);return x.message="file name cannot start with /",Promise.reject(x)}return h.resolveDirectoryUrl(S).then(function(w){return h.getFile(w,v,{create:!1})}).then(function(w){return h.resolveDirectoryUrl(_).then(function(a){return h.move(w,a,f)})})}}()},W.prototype.copyFile=function(S,v,_,f){var h=this;return function(){if(!0===(0,we.sp)(h)){if(/^\//.test(f=f||v)){var x=new FileError(5);return x.message="file name cannot start with /",Promise.reject(x)}return h.resolveDirectoryUrl(S).then(function(w){return h.getFile(w,v,{create:!1})}).then(function(w){return h.resolveDirectoryUrl(_).then(function(a){return h.copy(w,a,f)})})}}()},W.prototype.fillErrorMessage=function(S){try{S.message=this.cordovaFileError[S.code]}catch{}},W.prototype.resolveLocalFilesystemUrl=function(S){var v=this;return function(){if(!0===(0,we.sp)(v))return(0,we.Ce)(function(_,f){try{window.resolveLocalFileSystemURL(S,function(h){_(h)},function(h){v.fillErrorMessage(h),f(h)})}catch(h){v.fillErrorMessage(h),f(h)}})}()},W.prototype.resolveDirectoryUrl=function(S){var v=this;return function(){if(!0===(0,we.sp)(v))return v.resolveLocalFilesystemUrl(S).then(function(_){if(_.isDirectory)return _;var f=new FileError(13);return f.message="input is not a directory",Promise.reject(f)})}()},W.prototype.getDirectory=function(S,v,_){var f=this;return function(){if(!0===(0,we.sp)(f))return new Promise(function(h,x){try{S.getDirectory(v,_,function(w){h(w)},function(w){f.fillErrorMessage(w),x(w)})}catch(w){f.fillErrorMessage(w),x(w)}})}()},W.prototype.getFile=function(S,v,_){var f=this;return function(){if(!0===(0,we.sp)(f))return new Promise(function(h,x){try{S.getFile(v,_,h,function(w){f.fillErrorMessage(w),x(w)})}catch(w){f.fillErrorMessage(w),x(w)}})}()},W.prototype.readFile=function(S,v,_){var f=this;if(/^\//.test(v)){var h=new FileError(5);return h.message="file-name cannot start with /",Promise.reject(h)}return this.resolveDirectoryUrl(S).then(function(x){return f.getFile(x,v,{create:!1})}).then(function(x){var w=new FileReader;return(0,we.Ce)(function(a,l){w.onloadend=function(){void 0!==w.result||null!==w.result?a(w.result):l(void 0!==w.error||null!==w.error?w.error:{code:null,message:"READER_ONLOADEND_ERR"})},x.file(function(d){w["readAs"+_].call(w,d)},function(d){l(d)})})})},W.prototype.remove=function(S){var v=this;return new Promise(function(_,f){S.remove(function(){_({success:!0,fileRemoved:S})},function(h){v.fillErrorMessage(h),f(h)})})},W.prototype.move=function(S,v,_){var f=this;return new Promise(function(h,x){S.moveTo(v,_,function(w){h(w)},function(w){f.fillErrorMessage(w),x(w)})})},W.prototype.copy=function(S,v,_){var f=this;return new Promise(function(h,x){S.copyTo(v,_,function(w){h(w)},function(w){f.fillErrorMessage(w),x(w)})})},W.prototype.readEntries=function(S){var v=this;return new Promise(function(_,f){S.readEntries(function(h){_(h)},function(h){v.fillErrorMessage(h),f(h)})})},W.prototype.rimraf=function(S){var v=this;return new Promise(function(_,f){S.removeRecursively(function(){_({success:!0,fileRemoved:S})},function(h){v.fillErrorMessage(h),f(h)})})},W.prototype.createWriter=function(S){var v=this;return new Promise(function(_,f){S.createWriter(function(h){_(h)},function(h){v.fillErrorMessage(h),f(h)})})},W.prototype.write=function(S,v){return v instanceof Blob?this.writeFileInChunks(S,v):new Promise(function(_,f){S.onwriteend=function(h){S.error?f(S.error):_(h)},S.write(v)})},W.prototype.writeFileInChunks=function(S,v){var f=0;function h(){var x=Math.min(1048576,v.size-f),w=v.slice(f,f+x);f+=x,S.write(w)}return(0,we.Ce)(function(x,w){S.onerror=w,S.onwrite=function(){f<v.size?h():x()},h()})},Object.defineProperty(W.prototype,"applicationDirectory",{get:function(){return(0,we.qE)(this,"applicationDirectory")},set:function(S){(0,we.QN)(this,"applicationDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"applicationStorageDirectory",{get:function(){return(0,we.qE)(this,"applicationStorageDirectory")},set:function(S){(0,we.QN)(this,"applicationStorageDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"dataDirectory",{get:function(){return(0,we.qE)(this,"dataDirectory")},set:function(S){(0,we.QN)(this,"dataDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"cacheDirectory",{get:function(){return(0,we.qE)(this,"cacheDirectory")},set:function(S){(0,we.QN)(this,"cacheDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"externalApplicationStorageDirectory",{get:function(){return(0,we.qE)(this,"externalApplicationStorageDirectory")},set:function(S){(0,we.QN)(this,"externalApplicationStorageDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"externalDataDirectory",{get:function(){return(0,we.qE)(this,"externalDataDirectory")},set:function(S){(0,we.QN)(this,"externalDataDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"externalCacheDirectory",{get:function(){return(0,we.qE)(this,"externalCacheDirectory")},set:function(S){(0,we.QN)(this,"externalCacheDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"externalRootDirectory",{get:function(){return(0,we.qE)(this,"externalRootDirectory")},set:function(S){(0,we.QN)(this,"externalRootDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"tempDirectory",{get:function(){return(0,we.qE)(this,"tempDirectory")},set:function(S){(0,we.QN)(this,"tempDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"syncedDataDirectory",{get:function(){return(0,we.qE)(this,"syncedDataDirectory")},set:function(S){(0,we.QN)(this,"syncedDataDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"documentsDirectory",{get:function(){return(0,we.qE)(this,"documentsDirectory")},set:function(S){(0,we.QN)(this,"documentsDirectory",S)},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"sharedDirectory",{get:function(){return(0,we.qE)(this,"sharedDirectory")},set:function(S){(0,we.QN)(this,"sharedDirectory",S)},enumerable:!1,configurable:!0}),W.\u0275fac=(()=>{let S;return function(_){return(S||(S=nt.otF(W)))(_||W)}})(),W.\u0275prov=nt.wxM({token:W,factory:W.\u0275fac}),W.pluginName="File",W.plugin="cordova-plugin-file",W.pluginRef="cordova.file",W.repo="https://github.com/apache/cordova-plugin-file",W.platforms=["Android","Browser","iOS","macOS","Windows"],W=(0,b.UN)([],W)}(we.SM)},6928:(fn,Pt,me)=>{"use strict";me.d(Pt,{G8:()=>W,kZ:()=>r});var b=me(1316),we=me(3080),nt=me(4496),r=function(S){return S.INPUT="input",S.BUTTON="button",S}(r||{}),W=function(S){function v(){return null!==S&&S.apply(this,arguments)||this}return(0,b.ct)(v,S),v.prototype.hasPermission=function(){return(0,we.AN)(this,"hasPermission",{},arguments)},v.prototype.requestPermission=function(){return(0,we.AN)(this,"requestPermission",{},arguments)},v.prototype.schedule=function(_){return(0,we.AN)(this,"schedule",{sync:!0},arguments)},v.prototype.update=function(_){return(0,we.AN)(this,"update",{sync:!0},arguments)},v.prototype.clear=function(_){return(0,we.AN)(this,"clear",{},arguments)},v.prototype.clearAll=function(){return(0,we.AN)(this,"clearAll",{},arguments)},v.prototype.cancel=function(_){return(0,we.AN)(this,"cancel",{},arguments)},v.prototype.cancelAll=function(){return(0,we.AN)(this,"cancelAll",{},arguments)},v.prototype.isPresent=function(_){return(0,we.AN)(this,"isPresent",{},arguments)},v.prototype.isScheduled=function(_){return(0,we.AN)(this,"isScheduled",{},arguments)},v.prototype.isTriggered=function(_){return(0,we.AN)(this,"isTriggered",{},arguments)},v.prototype.hasType=function(_,f){return(0,we.AN)(this,"hasType",{},arguments)},v.prototype.getType=function(_){return(0,we.AN)(this,"getType",{},arguments)},v.prototype.getIds=function(){return(0,we.AN)(this,"getIds",{},arguments)},v.prototype.getScheduledIds=function(){return(0,we.AN)(this,"getScheduledIds",{},arguments)},v.prototype.getTriggeredIds=function(){return(0,we.AN)(this,"getTriggeredIds",{},arguments)},v.prototype.get=function(_){return(0,we.AN)(this,"get",{},arguments)},v.prototype.getAll=function(){return(0,we.AN)(this,"getAll",{},arguments)},v.prototype.getScheduled=function(_){return(0,we.AN)(this,"getScheduled",{},arguments)},v.prototype.getTriggered=function(_){return(0,we.AN)(this,"getTriggered",{},arguments)},v.prototype.addActions=function(_,f){return(0,we.AN)(this,"addActions",{},arguments)},v.prototype.removeActions=function(_){return(0,we.AN)(this,"removeActions",{},arguments)},v.prototype.hasActions=function(_){return(0,we.AN)(this,"hasActions",{},arguments)},v.prototype.getDefaults=function(){return(0,we.AN)(this,"getDefaults",{sync:!0},arguments)},v.prototype.setDefaults=function(_){return(0,we.AN)(this,"setDefaults",{sync:!0},arguments)},v.prototype.getAllScheduled=function(){return(0,we.AN)(this,"getAllScheduled",{},arguments)},v.prototype.getAllTriggered=function(){return(0,we.AN)(this,"getAllTriggered",{},arguments)},v.prototype.on=function(_){return(0,we.AN)(this,"on",{observable:!0,clearFunction:"un",clearWithArgs:!0},arguments)},v.prototype.fireEvent=function(_,f){return(0,we.AN)(this,"fireEvent",{sync:!0},arguments)},v.prototype.fireQueuedEvents=function(){return(0,we.AN)(this,"fireQueuedEvents",{},arguments)},v.\u0275fac=(()=>{let _;return function(h){return(_||(_=nt.otF(v)))(h||v)}})(),v.\u0275prov=nt.wxM({token:v,factory:v.\u0275fac}),v.pluginName="LocalNotifications",v.plugin="cordova-plugin-local-notification",v.pluginRef="cordova.plugins.notification.local",v.repo="https://github.com/katzer/cordova-plugin-local-notifications",v.platforms=["Android","iOS","Windows"],v=(0,b.UN)([],v)}(we.SM)},9312:(fn,Pt,me)=>{"use strict";me.d(Pt,{G:()=>b});var b=function(we){return we.NOT_REQUIRED="NOT_REQUIRED",we.OBTAINED="OBTAINED",we.REQUIRED="REQUIRED",we.UNKNOWN="UNKNOWN",we}(b||{})},3428:(fn,Pt,me)=>{"use strict";me.d(Pt,{i8:()=>f,iK:()=>S});var b=me(6400),S=function(h){return h.Loaded="onRewardedVideoAdLoaded",h.FailedToLoad="onRewardedVideoAdFailedToLoad",h.Showed="onRewardedVideoAdShowed",h.FailedToShow="onRewardedVideoAdFailedToShow",h.Dismissed="onRewardedVideoAdDismissed",h.Rewarded="onRewardedVideoAdReward",h}(S||{});me(9312);const f=(0,b.C_)("AdMob",{web:()=>me.e(9192).then(me.bind(me,9192)).then(h=>new h.AdMobWeb)})},6400:(fn,Pt,me)=>{"use strict";me.d(Pt,{C_:()=>a,Yr:()=>_,io:()=>P,w8:()=>u});var b=me(1528);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var v=function(k){return k.Unimplemented="UNIMPLEMENTED",k.Unavailable="UNAVAILABLE",k}(v||{});class _ extends Error{constructor(E,T,H){super(E),this.message=E,this.code=T,this.data=H}}const h=k=>{var E,T,H,X,z;const te=k.CapacitorCustomPlatform||null,J=k.Capacitor||{},q=J.Plugins=J.Plugins||{},ne=k.CapacitorPlatforms,De=(null===(E=null==ne?void 0:ne.currentPlatform)||void 0===E?void 0:E.getPlatform)||(()=>null!==te?te.name:(k=>{var E,T;return null!=k&&k.androidBridge?"android":null!==(T=null===(E=null==k?void 0:k.webkit)||void 0===E?void 0:E.messageHandlers)&&void 0!==T&&T.bridge?"ios":"web"})(k)),R=(null===(T=null==ne?void 0:ne.currentPlatform)||void 0===T?void 0:T.isNativePlatform)||(()=>"web"!==De()),pe=(null===(H=null==ne?void 0:ne.currentPlatform)||void 0===H?void 0:H.isPluginAvailable)||(Oe=>{const Ze=Ae.get(Oe);return!!(null!=Ze&&Ze.platforms.has(De())||Ne(Oe))}),Ne=(null===(X=null==ne?void 0:ne.currentPlatform)||void 0===X?void 0:X.getPluginHeader)||(Oe=>{var Ze;return null===(Ze=J.PluginHeaders)||void 0===Ze?void 0:Ze.find(Qe=>Qe.name===Oe)}),Ae=new Map,Fe=(null===(z=null==ne?void 0:ne.currentPlatform)||void 0===z?void 0:z.registerPlugin)||((Oe,Ze={})=>{const Qe=Ae.get(Oe);if(Qe)return console.warn(`Capacitor plugin "${Oe}" already registered. Cannot register plugins twice.`),Qe.proxy;const vt=De(),ht=Ne(Oe);let ft;const kt=function(){var Jt=(0,b.c)(function*(){return!ft&&vt in Ze?ft=ft="function"==typeof Ze[vt]?yield Ze[vt]():Ze[vt]:null!==te&&!ft&&"web"in Ze&&(ft=ft="function"==typeof Ze.web?yield Ze.web():Ze.web),ft});return function(){return Jt.apply(this,arguments)}}(),Lt=Jt=>{let bt;const zt=(...Et)=>{const Pe=kt().then(Ge=>{const Ie=((Jt,bt)=>{var zt,Et;if(!ht){if(Jt)return null===(Et=Jt[bt])||void 0===Et?void 0:Et.bind(Jt);throw new _(`"${Oe}" plugin is not implemented on ${vt}`,v.Unimplemented)}{const Pe=null==ht?void 0:ht.methods.find(Ge=>bt===Ge.name);if(Pe)return"promise"===Pe.rtype?Ge=>J.nativePromise(Oe,bt.toString(),Ge):(Ge,Ie)=>J.nativeCallback(Oe,bt.toString(),Ge,Ie);if(Jt)return null===(zt=Jt[bt])||void 0===zt?void 0:zt.bind(Jt)}})(Ge,Jt);if(Ie){const ze=Ie(...Et);return bt=null==ze?void 0:ze.remove,ze}throw new _(`"${Oe}.${Jt}()" is not implemented on ${vt}`,v.Unimplemented)});return"addListener"===Jt&&(Pe.remove=(0,b.c)(function*(){return bt()})),Pe};return zt.toString=()=>`${Jt.toString()}() { [capacitor code] }`,Object.defineProperty(zt,"name",{value:Jt,writable:!1,configurable:!1}),zt},ln=Lt("addListener"),sn=Lt("removeListener"),Ht=(Jt,bt)=>{const zt=ln({eventName:Jt},bt),Et=function(){var Ge=(0,b.c)(function*(){const Ie=yield zt;sn({eventName:Jt,callbackId:Ie},bt)});return function(){return Ge.apply(this,arguments)}}(),Pe=new Promise(Ge=>zt.then(()=>Ge({remove:Et})));return Pe.remove=(0,b.c)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Et()}),Pe},Tt=new Proxy({},{get(Jt,bt){switch(bt){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return ht?Ht:ln;case"removeListener":return sn;default:return Lt(bt)}}});return q[Oe]=Tt,Ae.set(Oe,{name:Oe,proxy:Tt,platforms:new Set([...Object.keys(Ze),...ht?[vt]:[]])}),Tt});return J.convertFileSrc||(J.convertFileSrc=Oe=>Oe),J.getPlatform=De,J.handleError=Oe=>k.console.error(Oe),J.isNativePlatform=R,J.isPluginAvailable=pe,J.pluginMethodNoop=(Oe,Ze,Qe)=>Promise.reject(`${Qe} does not have an implementation of "${Ze}".`),J.registerPlugin=Fe,J.Exception=_,J.DEBUG=!!J.DEBUG,J.isLoggingEnabled=!!J.isLoggingEnabled,J.platform=J.getPlatform(),J.isNative=J.isNativePlatform(),J},w=(k=>k.Capacitor=h(k))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),a=w.registerPlugin;class u{constructor(E){this.listeners={},this.windowListeners={},E&&(console.warn(`Capacitor WebPlugin "${E.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=E)}addListener(E,T){var H=this;this.listeners[E]||(this.listeners[E]=[]),this.listeners[E].push(T);const z=this.windowListeners[E];z&&!z.registered&&this.addWindowListener(z);const te=function(){var q=(0,b.c)(function*(){return H.removeListener(E,T)});return function(){return q.apply(this,arguments)}}(),J=Promise.resolve({remove:te});return Object.defineProperty(J,"remove",{value:(q=(0,b.c)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield te()}),function(){return q.apply(this,arguments)})}),J;var q}removeAllListeners(){var E=this;return(0,b.c)(function*(){E.listeners={};for(const T in E.windowListeners)E.removeWindowListener(E.windowListeners[T]);E.windowListeners={}})()}notifyListeners(E,T){const H=this.listeners[E];H&&H.forEach(X=>X(T))}hasListeners(E){return!!this.listeners[E].length}registerWindowListener(E,T){this.windowListeners[T]={registered:!1,windowEventName:E,pluginEventName:T,handler:H=>{this.notifyListeners(T,H)}}}unimplemented(E="not implemented"){return new w.Exception(E,v.Unimplemented)}unavailable(E="not available"){return new w.Exception(E,v.Unavailable)}removeListener(E,T){var H=this;return(0,b.c)(function*(){const X=H.listeners[E];if(!X)return;const z=X.indexOf(T);H.listeners[E].splice(z,1),H.listeners[E].length||H.removeWindowListener(H.windowListeners[E])})()}addWindowListener(E){window.addEventListener(E.windowEventName,E.handler),E.registered=!0}removeWindowListener(E){E&&(window.removeEventListener(E.windowEventName,E.handler),E.registered=!1)}}const s=k=>encodeURIComponent(k).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),m=k=>k.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class p extends u{getCookies(){return(0,b.c)(function*(){const E=document.cookie,T={};return E.split(";").forEach(H=>{if(H.length<=0)return;let[X,z]=H.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");X=m(X).trim(),z=m(z).trim(),T[X]=z}),T})()}setCookie(E){return(0,b.c)(function*(){try{const T=s(E.key),H=s(E.value),X=`; expires=${(E.expires||"").replace("expires=","")}`,z=(E.path||"/").replace("path=",""),te=null!=E.url&&E.url.length>0?`domain=${E.url}`:"";document.cookie=`${T}=${H||""}${X}; path=${z}; ${te};`}catch(T){return Promise.reject(T)}})()}deleteCookie(E){return(0,b.c)(function*(){try{document.cookie=`${E.key}=; Max-Age=0`}catch(T){return Promise.reject(T)}})()}clearCookies(){return(0,b.c)(function*(){try{const E=document.cookie.split(";")||[];for(const T of E)document.cookie=T.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(E){return Promise.reject(E)}})()}clearAllCookies(){var E=this;return(0,b.c)(function*(){try{yield E.clearCookies()}catch(T){return Promise.reject(T)}})()}}a("CapacitorCookies",{web:()=>new p});const O=function(){var k=(0,b.c)(function*(E){return new Promise((T,H)=>{const X=new FileReader;X.onload=()=>{const z=X.result;T(z.indexOf(",")>=0?z.split(",")[1]:z)},X.onerror=z=>H(z),X.readAsDataURL(E)})});return function(T){return k.apply(this,arguments)}}(),P=(k,E={})=>{const T=Object.assign({method:k.method||"GET",headers:k.headers},E),X=((k={})=>{const E=Object.keys(k);return Object.keys(k).map(X=>X.toLocaleLowerCase()).reduce((X,z,te)=>(X[z]=k[E[te]],X),{})})(k.headers)["content-type"]||"";if("string"==typeof k.data)T.body=k.data;else if(X.includes("application/x-www-form-urlencoded")){const z=new URLSearchParams;for(const[te,J]of Object.entries(k.data||{}))z.set(te,J);T.body=z.toString()}else if(X.includes("multipart/form-data")||k.data instanceof FormData){const z=new FormData;if(k.data instanceof FormData)k.data.forEach((J,q)=>{z.append(q,J)});else for(const J of Object.keys(k.data))z.append(J,k.data[J]);T.body=z;const te=new Headers(T.headers);te.delete("content-type"),T.headers=te}else(X.includes("application/json")||"object"==typeof k.data)&&(T.body=JSON.stringify(k.data));return T};class j extends u{request(E){return(0,b.c)(function*(){const T=P(E,E.webFetchExtra),H=((k,E=!0)=>k?Object.entries(k).reduce((H,X)=>{const[z,te]=X;let J,q;return Array.isArray(te)?(q="",te.forEach(ne=>{J=E?encodeURIComponent(ne):ne,q+=`${z}=${J}&`}),q.slice(0,-1)):(J=E?encodeURIComponent(te):te,q=`${z}=${J}`),`${H}&${q}`},"").substr(1):null)(E.params,E.shouldEncodeUrlParams),X=H?`${E.url}?${H}`:E.url,z=yield fetch(X,T),te=z.headers.get("content-type")||"";let q,ne,{responseType:J="text"}=z.ok?E:{};switch(te.includes("application/json")&&(J="json"),J){case"arraybuffer":case"blob":ne=yield z.blob(),q=yield O(ne);break;case"json":q=yield z.json();break;default:q=yield z.text()}const de={};return z.headers.forEach((De,Y)=>{de[Y]=De}),{data:q,headers:de,status:z.status,url:z.url}})()}get(E){var T=this;return(0,b.c)(function*(){return T.request(Object.assign(Object.assign({},E),{method:"GET"}))})()}post(E){var T=this;return(0,b.c)(function*(){return T.request(Object.assign(Object.assign({},E),{method:"POST"}))})()}put(E){var T=this;return(0,b.c)(function*(){return T.request(Object.assign(Object.assign({},E),{method:"PUT"}))})()}patch(E){var T=this;return(0,b.c)(function*(){return T.request(Object.assign(Object.assign({},E),{method:"PATCH"}))})()}delete(E){var T=this;return(0,b.c)(function*(){return T.request(Object.assign(Object.assign({},E),{method:"DELETE"}))})()}}a("CapacitorHttp",{web:()=>new j})},9248:(fn,Pt,me)=>{"use strict";me.d(Pt,{c:()=>nt,r:()=>h});const nt=(N,P)=>{N.componentOnReady?N.componentOnReady().then(j=>P(j)):h(()=>P(N))},h=N=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(N):"function"==typeof requestAnimationFrame?requestAnimationFrame(N):setTimeout(N)},1896:(fn,Pt,me)=>{"use strict";me.d(Pt,{L:()=>b,a:()=>we,b:()=>nt,c:()=>_e,d:()=>r,g:()=>N});const b="ionViewWillEnter",we="ionViewDidEnter",nt="ionViewWillLeave",_e="ionViewDidLeave",r="ionViewWillUnload",N=P=>P.classList.contains("ion-page")?P:P.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||P},388:(fn,Pt,me)=>{"use strict";me.d(Pt,{c:()=>d});var b=me(4829),we=me(6384);let nt;const r=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W=u=>(void 0===nt&&(nt=void 0===u.style.animationName&&void 0!==u.style.webkitAnimationName?"-webkit-":""),nt),S=(u,c,s)=>{const m=c.startsWith("animation")?W(u):"";u.style.setProperty(m+c,s)},v=(u,c)=>{const s=c.startsWith("animation")?W(u):"";u.style.removeProperty(s+c)},h=[],l=(u=[],c)=>{if(void 0!==c){const s=Array.isArray(c)?c:[c];return[...u,...s]}return u},d=u=>{let c,s,m,p,y,O,V,J,q,ne,de,se,pe,$=[],N=[],P=[],j=!1,k={},E=[],T=[],H={},X=0,z=!1,te=!1,De=!0,Y=!1,R=!0,Ee=!1;const Ne=u,We=[],et=[],Ae=[],Be=[],Fe=[],Oe=[],Ze=[],Qe=[],vt=[],ht=[],ft=[],kt="function"==typeof AnimationEffect||void 0!==b.w&&"function"==typeof b.w.AnimationEffect,qt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&kt,ln=()=>ft,bt=(At,je)=>{const He=je.findIndex(Mt=>Mt.c===At);He>-1&&je.splice(He,1)},Et=(At,je)=>((null!=je&&je.oneTimeCallback?et:We).push({c:At,o:je}),pe),Ge=()=>{if(qt)ft.forEach(At=>{At.cancel()}),ft.length=0;else{const At=Be.slice();(0,we.r)(()=>{At.forEach(je=>{v(je,"animation-name"),v(je,"animation-duration"),v(je,"animation-timing-function"),v(je,"animation-iteration-count"),v(je,"animation-delay"),v(je,"animation-play-state"),v(je,"animation-fill-mode"),v(je,"animation-direction")})})}},Ie=()=>{Oe.forEach(At=>{null!=At&&At.parentNode&&At.parentNode.removeChild(At)}),Oe.length=0},Ct=()=>void 0!==y?y:V?V.getFill():"both",rn=()=>void 0!==q?q:void 0!==O?O:V?V.getDirection():"normal",qe=()=>z?"linear":void 0!==m?m:V?V.getEasing():"linear",yt=()=>te?0:void 0!==ne?ne:void 0!==s?s:V?V.getDuration():0,Nt=()=>void 0!==p?p:V?V.getIterations():1,Ft=()=>void 0!==de?de:void 0!==c?c:V?V.getDelay():0,D=()=>{0!==X&&(X--,0===X&&((()=>{Hn(),vt.forEach(Rt=>Rt()),ht.forEach(Rt=>Rt());const At=De?1:0,je=E,He=T,Mt=H;Be.forEach(Rt=>{const Vt=Rt.classList;je.forEach(ie=>Vt.add(ie)),He.forEach(ie=>Vt.remove(ie));for(const ie in Mt)Mt.hasOwnProperty(ie)&&S(Rt,ie,Mt[ie])}),ne=void 0,q=void 0,de=void 0,We.forEach(Rt=>Rt.c(At,pe)),et.forEach(Rt=>Rt.c(At,pe)),et.length=0,R=!0,De&&(Y=!0),De=!0})(),V&&V.animationFinish()))},F=(At=!0)=>{Ie();const je=(u=>(u.forEach(c=>{for(const s in c)if(c.hasOwnProperty(s)){const m=c[s];if("easing"===s)c["animation-timing-function"]=m,delete c[s];else{const p=r(s);p!==s&&(c[p]=m,delete c[s])}}}),u))($);Be.forEach(He=>{if(je.length>0){const Mt=((u=[])=>u.map(c=>{const s=c.offset,m=[];for(const p in c)c.hasOwnProperty(p)&&"offset"!==p&&m.push(`${p}: ${c[p]};`);return`${100*s}% { ${m.join(" ")} }`}).join(" "))(je);se=void 0!==u?u:(u=>{let c=h.indexOf(u);return c<0&&(c=h.push(u)-1),`ion-animation-${c}`})(Mt);const Rt=((u,c,s)=>{var m;const p=(u=>{const c=void 0!==u.getRootNode?u.getRootNode():u;return c.head||c})(s),y=W(s),O=p.querySelector("#"+u);if(O)return O;const $=(null!==(m=s.ownerDocument)&&void 0!==m?m:document).createElement("style");return $.id=u,$.textContent=`@${y}keyframes ${u} { ${c} } @${y}keyframes ${u}-alt { ${c} }`,p.appendChild($),$})(se,Mt,He);Oe.push(Rt),S(He,"animation-duration",`${yt()}ms`),S(He,"animation-timing-function",qe()),S(He,"animation-delay",`${Ft()}ms`),S(He,"animation-fill-mode",Ct()),S(He,"animation-direction",rn());const Vt=Nt()===1/0?"infinite":Nt().toString();S(He,"animation-iteration-count",Vt),S(He,"animation-play-state","paused"),At&&S(He,"animation-name",`${Rt.id}-alt`),(0,we.r)(()=>{S(He,"animation-name",Rt.id||null)})}})},ee=(At=!0)=>{(()=>{Ze.forEach(Mt=>Mt()),Qe.forEach(Mt=>Mt());const At=N,je=P,He=k;Be.forEach(Mt=>{const Rt=Mt.classList;At.forEach(Vt=>Rt.add(Vt)),je.forEach(Vt=>Rt.remove(Vt));for(const Vt in He)He.hasOwnProperty(Vt)&&S(Mt,Vt,He[Vt])})})(),$.length>0&&(qt?(Be.forEach(At=>{const je=At.animate($,{id:Ne,delay:Ft(),duration:yt(),easing:qe(),iterations:Nt(),fill:Ct(),direction:rn()});je.pause(),ft.push(je)}),ft.length>0&&(ft[0].onfinish=()=>{D()})):F(At)),j=!0},re=At=>{if(At=Math.min(Math.max(At,0),.9999),qt)ft.forEach(je=>{je.currentTime=je.effect.getComputedTiming().delay+yt()*At,je.pause()});else{const je=`-${yt()*At}ms`;Be.forEach(He=>{$.length>0&&(S(He,"animation-delay",je),S(He,"animation-play-state","paused"))})}},Q=At=>{ft.forEach(je=>{je.effect.updateTiming({delay:Ft(),duration:yt(),easing:qe(),iterations:Nt(),fill:Ct(),direction:rn()})}),void 0!==At&&re(At)},he=(At=!0,je)=>{(0,we.r)(()=>{Be.forEach(He=>{S(He,"animation-name",se||null),S(He,"animation-duration",`${yt()}ms`),S(He,"animation-timing-function",qe()),S(He,"animation-delay",void 0!==je?`-${je*yt()}ms`:`${Ft()}ms`),S(He,"animation-fill-mode",Ct()||null),S(He,"animation-direction",rn()||null);const Mt=Nt()===1/0?"infinite":Nt().toString();S(He,"animation-iteration-count",Mt),At&&S(He,"animation-name",`${se}-alt`),(0,we.r)(()=>{S(He,"animation-name",se||null)})})})},Re=(At=!1,je=!0,He)=>(At&&Fe.forEach(Mt=>{Mt.update(At,je,He)}),qt?Q(He):he(je,He),pe),un=()=>{j&&(qt?ft.forEach(At=>{At.pause()}):Be.forEach(At=>{S(At,"animation-play-state","paused")}),Ee=!0)},Rn=()=>{J=void 0,D()},Hn=()=>{J&&clearTimeout(J)},$e=At=>new Promise(je=>{null!=At&&At.sync&&(te=!0,Et(()=>te=!1,{oneTimeCallback:!0})),j||ee(),Y&&(qt?(re(0),Q()):he(),Y=!1),R&&(X=Fe.length+1,R=!1);const He=()=>{bt(Mt,et),je()},Mt=()=>{bt(He,Ae),je()};Et(Mt,{oneTimeCallback:!0}),((At,je)=>{Ae.push({c:At,o:{oneTimeCallback:!0}})})(He),Fe.forEach(Rt=>{Rt.play()}),qt?(ft.forEach(At=>{At.play()}),(0===$.length||0===Be.length)&&D()):(()=>{if(Hn(),(0,we.r)(()=>{Be.forEach(At=>{$.length>0&&S(At,"animation-play-state","running")})}),0===$.length||0===Be.length)D();else{const At=Ft()||0,je=yt()||0,He=Nt()||1;isFinite(He)&&(J=setTimeout(Rn,At+je*He+100)),((u,c)=>{let s;const m={passive:!0},y=O=>{u===O.target&&(s&&s(),Hn(),(0,we.r)(()=>{Be.forEach(At=>{v(At,"animation-duration"),v(At,"animation-delay"),v(At,"animation-play-state")}),(0,we.r)(D)}))};u&&(u.addEventListener("webkitAnimationEnd",y,m),u.addEventListener("animationend",y,m),s=()=>{u.removeEventListener("webkitAnimationEnd",y,m),u.removeEventListener("animationend",y,m)})})(Be[0])}})(),Ee=!1}),Ut=(At,je)=>{const He=$[0];return void 0===He||void 0!==He.offset&&0!==He.offset?$=[{offset:0,[At]:je},...$]:He[At]=je,pe};return pe={parentAnimation:V,elements:Be,childAnimations:Fe,id:Ne,animationFinish:D,from:Ut,to:(At,je)=>{const He=$[$.length-1];return void 0===He||void 0!==He.offset&&1!==He.offset?$=[...$,{offset:1,[At]:je}]:He[At]=je,pe},fromTo:(At,je,He)=>Ut(At,je).to(At,He),parent:At=>(V=At,pe),play:$e,pause:()=>(Fe.forEach(At=>{At.pause()}),un(),pe),stop:()=>{Fe.forEach(At=>{At.stop()}),j&&(Ge(),j=!1),z=!1,te=!1,R=!0,q=void 0,ne=void 0,de=void 0,X=0,Y=!1,De=!0,Ee=!1,Ae.forEach(At=>At.c(0,pe)),Ae.length=0},destroy:At=>(Fe.forEach(je=>{je.destroy(At)}),(At=>{Ge(),At&&Ie()})(At),Be.length=0,Fe.length=0,$.length=0,We.length=0,et.length=0,j=!1,R=!0,pe),keyframes:At=>{const je=$!==At;return $=At,je&&(At=>{qt?ln().forEach(je=>{const He=je.effect;if(He.setKeyframes)He.setKeyframes(At);else{const Mt=new KeyframeEffect(He.target,At,He.getTiming());je.effect=Mt}}):F()})($),pe},addAnimation:At=>{if(null!=At)if(Array.isArray(At))for(const je of At)je.parent(pe),Fe.push(je);else At.parent(pe),Fe.push(At);return pe},addElement:At=>{if(null!=At)if(1===At.nodeType)Be.push(At);else if(At.length>=0)for(let je=0;je<At.length;je++)Be.push(At[je]);else console.error("Invalid addElement value");return pe},update:Re,fill:At=>(y=At,Re(!0),pe),direction:At=>(O=At,Re(!0),pe),iterations:At=>(p=At,Re(!0),pe),duration:At=>(!qt&&0===At&&(At=1),s=At,Re(!0),pe),easing:At=>(m=At,Re(!0),pe),delay:At=>(c=At,Re(!0),pe),getWebAnimations:ln,getKeyframes:()=>$,getFill:Ct,getDirection:rn,getDelay:Ft,getIterations:Nt,getEasing:qe,getDuration:yt,afterAddRead:At=>(vt.push(At),pe),afterAddWrite:At=>(ht.push(At),pe),afterClearStyles:(At=[])=>{for(const je of At)H[je]="";return pe},afterStyles:(At={})=>(H=At,pe),afterRemoveClass:At=>(T=l(T,At),pe),afterAddClass:At=>(E=l(E,At),pe),beforeAddRead:At=>(Ze.push(At),pe),beforeAddWrite:At=>(Qe.push(At),pe),beforeClearStyles:(At=[])=>{for(const je of At)k[je]="";return pe},beforeStyles:(At={})=>(k=At,pe),beforeRemoveClass:At=>(P=l(P,At),pe),beforeAddClass:At=>(N=l(N,At),pe),onFinish:Et,isRunning:()=>0!==X&&!Ee,progressStart:(At=!1,je)=>(Fe.forEach(He=>{He.progressStart(At,je)}),un(),z=At,j||ee(),Re(!1,!0,je),pe),progressStep:At=>(Fe.forEach(je=>{je.progressStep(At)}),re(At),pe),progressEnd:(At,je,He)=>(z=!1,Fe.forEach(Mt=>{Mt.progressEnd(At,je,He)}),void 0!==He&&(ne=He),Y=!1,De=!0,0===At?(q="reverse"===rn()?"normal":"reverse","reverse"===q&&(De=!1),qt?(Re(),re(1-je)):(de=(1-je)*yt()*-1,Re(!1,!1))):1===At&&(qt?(Re(),re(je)):(de=je*yt()*-1,Re(!1,!1))),void 0!==At&&!V&&$e(),pe)}}},9637:(fn,Pt,me)=>{"use strict";me.d(Pt,{E:()=>f,I:()=>S,a:()=>b,s:()=>v});const b=h=>{try{if(h instanceof S)return h.value;if(!_e()||"string"!=typeof h||""===h)return h;if(h.includes("onload="))return"";const x=document.createDocumentFragment(),w=document.createElement("div");x.appendChild(w),w.innerHTML=h,W.forEach(u=>{const c=x.querySelectorAll(u);for(let s=c.length-1;s>=0;s--){const m=c[s];m.parentNode?m.parentNode.removeChild(m):x.removeChild(m);const p=nt(m);for(let y=0;y<p.length;y++)we(p[y])}});const a=nt(x);for(let u=0;u<a.length;u++)we(a[u]);const l=document.createElement("div");l.appendChild(x);const d=l.querySelector("div");return null!==d?d.innerHTML:l.innerHTML}catch(x){return console.error(x),""}},we=h=>{if(h.nodeType&&1!==h.nodeType)return;if(typeof NamedNodeMap<"u"&&!(h.attributes instanceof NamedNodeMap))return void h.remove();for(let w=h.attributes.length-1;w>=0;w--){const a=h.attributes.item(w),l=a.name;if(!r.includes(l.toLowerCase())){h.removeAttribute(l);continue}const d=a.value,u=h[l];(null!=d&&d.toLowerCase().includes("javascript:")||null!=u&&u.toLowerCase().includes("javascript:"))&&h.removeAttribute(l)}const x=nt(h);for(let w=0;w<x.length;w++)we(x[w])},nt=h=>null!=h.children?h.children:h.childNodes,_e=()=>{var h;const x=window,w=null===(h=null==x?void 0:x.Ionic)||void 0===h?void 0:h.config;return!w||(w.get?w.get("sanitizerEnabled",!0):!0===w.sanitizerEnabled||void 0===w.sanitizerEnabled)},r=["class","id","href","src","name","slot"],W=["script","style","iframe","meta","link","object","embed"];class S{constructor(x){this.value=x}}const v=h=>{const x=window,w=x.Ionic;if(!w||!w.config||"Object"===w.config.constructor.name)return x.Ionic=x.Ionic||{},x.Ionic.config=Object.assign(Object.assign({},x.Ionic.config),h),x.Ionic.config},f=!1},495:(fn,Pt,me)=>{"use strict";me.d(Pt,{C:()=>r,a:()=>nt,d:()=>_e});var b=me(1528),we=me(6384);const nt=function(){var W=(0,b.c)(function*(S,v,_,f,h,x){var w;if(S)return S.attachViewToDom(v,_,h,f);if(!(x||"string"==typeof _||_ instanceof HTMLElement))throw new Error("framework delegate is missing");const a="string"==typeof _?null===(w=v.ownerDocument)||void 0===w?void 0:w.createElement(_):_;return f&&f.forEach(l=>a.classList.add(l)),h&&Object.assign(a,h),v.appendChild(a),yield new Promise(l=>(0,we.c)(a,l)),a});return function(v,_,f,h,x,w){return W.apply(this,arguments)}}(),_e=(W,S)=>{if(S){if(W)return W.removeViewFromDom(S.parentElement,S);S.remove()}return Promise.resolve()},r=()=>{let W,S;return{attachViewToDom:function(){var f=(0,b.c)(function*(h,x,w={},a=[]){var l,d;let u;if(W=h,x){const s="string"==typeof x?null===(l=W.ownerDocument)||void 0===l?void 0:l.createElement(x):x;a.forEach(m=>s.classList.add(m)),Object.assign(s,w),W.appendChild(s),u=s,yield new Promise(m=>(0,we.c)(s,m))}else if(W.children.length>0&&("ION-MODAL"===W.tagName||"ION-POPOVER"===W.tagName)&&!(u=W.children[0]).classList.contains("ion-delegate-host")){const m=null===(d=W.ownerDocument)||void 0===d?void 0:d.createElement("div");m.classList.add("ion-delegate-host"),a.forEach(p=>m.classList.add(p)),m.append(...W.children),W.appendChild(m),u=m}const c=document.querySelector("ion-app")||document.body;return S=document.createComment("ionic teleport"),W.parentNode.insertBefore(S,W),c.appendChild(W),null!=u?u:W});return function(x,w){return f.apply(this,arguments)}}(),removeViewFromDom:()=>(W&&S&&(S.parentNode.insertBefore(W,S),S.remove()),Promise.resolve())}}},6560:(fn,Pt,me)=>{"use strict";me.d(Pt,{G:()=>r});class we{constructor(S,v,_,f,h){this.id=v,this.name=_,this.disableScroll=h,this.priority=1e6*f+v,this.ctrl=S}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const S=this.ctrl.capture(this.name,this.id,this.priority);return S&&this.disableScroll&&this.ctrl.disableScroll(this.id),S}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class nt{constructor(S,v,_,f){this.id=v,this.disable=_,this.disableScroll=f,this.ctrl=S}block(){if(this.ctrl){if(this.disable)for(const S of this.disable)this.ctrl.disableGesture(S,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const S of this.disable)this.ctrl.enableGesture(S,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const _e="backdrop-no-scroll",r=new class b{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(S){var v;return new we(this,this.newID(),S.name,null!==(v=S.priority)&&void 0!==v?v:0,!!S.disableScroll)}createBlocker(S={}){return new nt(this,this.newID(),S.disable,!!S.disableScroll)}start(S,v,_){return this.canStart(S)?(this.requestedStart.set(v,_),!0):(this.requestedStart.delete(v),!1)}capture(S,v,_){if(!this.start(S,v,_))return!1;const f=this.requestedStart;let h=-1e4;if(f.forEach(x=>{h=Math.max(h,x)}),h===_){this.capturedId=v,f.clear();const x=new CustomEvent("ionGestureCaptured",{detail:{gestureName:S}});return document.dispatchEvent(x),!0}return f.delete(v),!1}release(S){this.requestedStart.delete(S),this.capturedId===S&&(this.capturedId=void 0)}disableGesture(S,v){let _=this.disabledGestures.get(S);void 0===_&&(_=new Set,this.disabledGestures.set(S,_)),_.add(v)}enableGesture(S,v){const _=this.disabledGestures.get(S);void 0!==_&&_.delete(v)}disableScroll(S){this.disabledScroll.add(S),1===this.disabledScroll.size&&document.body.classList.add(_e)}enableScroll(S){this.disabledScroll.delete(S),0===this.disabledScroll.size&&document.body.classList.remove(_e)}canStart(S){return!(void 0!==this.capturedId||this.isDisabled(S))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(S){const v=this.disabledGestures.get(S);return!!(v&&v.size>0)}newID(){return this.gestureId++,this.gestureId}}},136:(fn,Pt,me)=>{"use strict";me.r(Pt),me.d(Pt,{MENU_BACK_BUTTON_PRIORITY:()=>_,OVERLAY_BACK_BUTTON_PRIORITY:()=>v,blockHardwareBackButton:()=>W,shoudUseCloseWatcher:()=>r,startHardwareBackButton:()=>S});var b=me(1528),we=me(4829),nt=me(1780);me(3716);const r=()=>nt.c.get("experimentalCloseWatcher",!1)&&void 0!==we.w&&"CloseWatcher"in we.w,W=()=>{document.addEventListener("backbutton",()=>{})},S=()=>{const f=document;let h=!1;const x=()=>{if(h)return;let w=0,a=[];const l=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(c,s){a.push({priority:c,handler:s,id:w++})}}});f.dispatchEvent(l);const d=function(){var c=(0,b.c)(function*(s){try{if(null!=s&&s.handler){const m=s.handler(u);null!=m&&(yield m)}}catch(m){console.error(m)}});return function(m){return c.apply(this,arguments)}}(),u=()=>{if(a.length>0){let c={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};a.forEach(s=>{s.priority>=c.priority&&(c=s)}),h=!0,a=a.filter(s=>s.id!==c.id),d(c).then(()=>h=!1)}};u()};if(r()){let w;const a=()=>{null==w||w.destroy(),w=new we.w.CloseWatcher,w.onclose=()=>{x(),a()}};a()}else f.addEventListener("backbutton",x)},v=100,_=99},6384:(fn,Pt,me)=>{"use strict";me.d(Pt,{a:()=>v,b:()=>_,c:()=>nt,d:()=>d,e:()=>l,f:()=>a,g:()=>f,h:()=>w,i:()=>S,j:()=>y,k:()=>r,l:()=>u,m:()=>_e,n:()=>x,o:()=>c,p:()=>p,q:()=>O,r:()=>h,s:()=>$,t:()=>b,u:()=>s,v:()=>m});const b=(N,P=0)=>new Promise(j=>{we(N,P,j)}),we=(N,P=0,j)=>{let V,k;const E={passive:!0},H=()=>{V&&V()},X=z=>{(void 0===z||N===z.target)&&(H(),j(z))};return N&&(N.addEventListener("webkitTransitionEnd",X,E),N.addEventListener("transitionend",X,E),k=setTimeout(X,P+500),V=()=>{void 0!==k&&(clearTimeout(k),k=void 0),N.removeEventListener("webkitTransitionEnd",X,E),N.removeEventListener("transitionend",X,E)}),H},nt=(N,P)=>{N.componentOnReady?N.componentOnReady().then(j=>P(j)):h(()=>P(N))},_e=N=>void 0!==N.componentOnReady,r=(N,P=[])=>{const j={};return P.forEach(V=>{N.hasAttribute(V)&&(null!==N.getAttribute(V)&&(j[V]=N.getAttribute(V)),N.removeAttribute(V))}),j},W=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],S=(N,P)=>{let j=W;return P&&P.length>0&&(j=j.filter(V=>!P.includes(V))),r(N,j)},v=(N,P,j,V)=>{var k;if(typeof window<"u"){const E=window,T=null===(k=null==E?void 0:E.Ionic)||void 0===k?void 0:k.config;if(T){const H=T.get("_ael");if(H)return H(N,P,j,V);if(T._ael)return T._ael(N,P,j,V)}}return N.addEventListener(P,j,V)},_=(N,P,j,V)=>{var k;if(typeof window<"u"){const E=window,T=null===(k=null==E?void 0:E.Ionic)||void 0===k?void 0:k.config;if(T){const H=T.get("_rel");if(H)return H(N,P,j,V);if(T._rel)return T._rel(N,P,j,V)}}return N.removeEventListener(P,j,V)},f=(N,P=N)=>N.shadowRoot||P,h=N=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(N):"function"==typeof requestAnimationFrame?requestAnimationFrame(N):setTimeout(N),x=N=>!!N.shadowRoot&&!!N.attachShadow,w=N=>{const P=N.closest("ion-item");return P?P.querySelector("ion-label"):null},a=N=>{if(N.focus(),N.classList.contains("ion-focusable")){const P=N.closest("ion-app");P&&P.setFocus([N])}},l=(N,P)=>{let j;const V=N.getAttribute("aria-labelledby"),k=N.id;let E=null!==V&&""!==V.trim()?V:P+"-lbl",T=null!==V&&""!==V.trim()?document.getElementById(V):w(N);return T?(null===V&&(T.id=E),j=T.textContent,T.setAttribute("aria-hidden","true")):""!==k.trim()&&(T=document.querySelector(`label[for="${k}"]`),T&&(""!==T.id?E=T.id:T.id=E=`${k}-lbl`,j=T.textContent)),{label:T,labelId:E,labelText:j}},d=(N,P,j,V,k)=>{if(N||x(P)){let E=P.querySelector("input.aux-input");E||(E=P.ownerDocument.createElement("input"),E.type="hidden",E.classList.add("aux-input"),P.appendChild(E)),E.disabled=k,E.name=j,E.value=V||""}},u=(N,P,j)=>Math.max(N,Math.min(P,j)),c=(N,P)=>{if(!N){const j="ASSERT: "+P;throw console.error(j),new Error(j)}},s=N=>N.timeStamp||Date.now(),m=N=>{if(N){const P=N.changedTouches;if(P&&P.length>0){const j=P[0];return{x:j.clientX,y:j.clientY}}if(void 0!==N.pageX)return{x:N.pageX,y:N.pageY}}return{x:0,y:0}},p=N=>{const P="rtl"===document.dir;switch(N){case"start":return P;case"end":return!P;default:throw new Error(`"${N}" is not a valid value for [side]. Use "start" or "end" instead.`)}},y=(N,P)=>{const j=N._original||N;return{_original:N,emit:O(j.emit.bind(j),P)}},O=(N,P=0)=>{let j;return(...V)=>{clearTimeout(j),j=setTimeout(N,P,...V)}},$=(N,P)=>{if(null!=N||(N={}),null!=P||(P={}),N===P)return!0;const j=Object.keys(N);if(j.length!==Object.keys(P).length)return!1;for(const V of j)if(!(V in P)||N[V]!==P[V])return!1;return!0}},2528:(fn,Pt,me)=>{"use strict";me.r(Pt),me.d(Pt,{GESTURE_CONTROLLER:()=>b.G,createGesture:()=>_});var b=me(6560);const we=(w,a,l,d)=>{const u=nt(w)?{capture:!!d.capture,passive:!!d.passive}:!!d.capture;let c,s;return w.__zone_symbol__addEventListener?(c="__zone_symbol__addEventListener",s="__zone_symbol__removeEventListener"):(c="addEventListener",s="removeEventListener"),w[c](a,l,u),()=>{w[s](a,l,u)}},nt=w=>{if(void 0===_e)try{const a=Object.defineProperty({},"passive",{get:()=>{_e=!0}});w.addEventListener("optsTest",()=>{},a)}catch{_e=!1}return!!_e};let _e;const S=w=>w instanceof Document?w:w.ownerDocument,_=w=>{let a=!1,l=!1,d=!0,u=!1;const c=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},w),s=c.canStart,m=c.onWillStart,p=c.onStart,y=c.onEnd,O=c.notCaptured,$=c.onMove,N=c.threshold,P=c.passive,j=c.blurOnStart,V={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},k=((w,a,l)=>{const d=l*(Math.PI/180),u="x"===w,c=Math.cos(d),s=a*a;let m=0,p=0,y=!1,O=0;return{start($,N){m=$,p=N,O=0,y=!0},detect($,N){if(!y)return!1;const P=$-m,j=N-p,V=P*P+j*j;if(V<s)return!1;const k=Math.sqrt(V),E=(u?P:j)/k;return O=E>c?1:E<-c?-1:0,y=!1,!0},isGesture:()=>0!==O,getDirection:()=>O}})(c.direction,c.threshold,c.maxAngle),E=b.G.createGesture({name:w.gestureName,priority:w.gesturePriority,disableScroll:w.disableScroll}),X=()=>{a&&(u=!1,$&&$(V))},z=()=>!!E.capture()&&(a=!0,d=!1,V.startX=V.currentX,V.startY=V.currentY,V.startTime=V.currentTime,m?m(V).then(J):J(),!0),J=()=>{j&&(()=>{if(typeof document<"u"){const Y=document.activeElement;null!=Y&&Y.blur&&Y.blur()}})(),p&&p(V),d=!0},q=()=>{a=!1,l=!1,u=!1,d=!0,E.release()},ne=Y=>{const R=a,se=d;if(q(),se){if(f(V,Y),R)return void(y&&y(V));O&&O(V)}},de=((w,a,l,d,u)=>{let c,s,m,p,y,O,$,N=0;const P=te=>{N=Date.now()+2e3,a(te)&&(!s&&l&&(s=we(w,"touchmove",l,u)),m||(m=we(te.target,"touchend",V,u)),p||(p=we(te.target,"touchcancel",V,u)))},j=te=>{N>Date.now()||a(te)&&(!O&&l&&(O=we(S(w),"mousemove",l,u)),$||($=we(S(w),"mouseup",k,u)))},V=te=>{E(),d&&d(te)},k=te=>{T(),d&&d(te)},E=()=>{s&&s(),m&&m(),p&&p(),s=m=p=void 0},T=()=>{O&&O(),$&&$(),O=$=void 0},H=()=>{E(),T()},X=(te=!0)=>{te?(c||(c=we(w,"touchstart",P,u)),y||(y=we(w,"mousedown",j,u))):(c&&c(),y&&y(),c=y=void 0,H())};return{enable:X,stop:H,destroy:()=>{X(!1),d=l=a=void 0}}})(c.el,Y=>{const R=x(Y);return!(l||!d||(h(Y,V),V.startX=V.currentX,V.startY=V.currentY,V.startTime=V.currentTime=R,V.velocityX=V.velocityY=V.deltaX=V.deltaY=0,V.event=Y,s&&!1===s(V))||(E.release(),!E.start()))&&(l=!0,0===N?z():(k.start(V.startX,V.startY),!0))},Y=>{a?!u&&d&&(u=!0,f(V,Y),requestAnimationFrame(X)):(f(V,Y),k.detect(V.currentX,V.currentY)&&(!k.isGesture()||!z())&&De())},ne,{capture:!1,passive:P}),De=()=>{q(),de.stop(),O&&O(V)};return{enable(Y=!0){Y||(a&&ne(void 0),q()),de.enable(Y)},destroy(){E.destroy(),de.destroy()}}},f=(w,a)=>{if(!a)return;const l=w.currentX,d=w.currentY,u=w.currentTime;h(a,w);const c=w.currentX,s=w.currentY,p=(w.currentTime=x(a))-u;if(p>0&&p<100){const O=(s-d)/p;w.velocityX=(c-l)/p*.7+.3*w.velocityX,w.velocityY=.7*O+.3*w.velocityY}w.deltaX=c-w.startX,w.deltaY=s-w.startY,w.event=a},h=(w,a)=>{let l=0,d=0;if(w){const u=w.changedTouches;if(u&&u.length>0){const c=u[0];l=c.clientX,d=c.clientY}else void 0!==w.pageX&&(l=w.pageX,d=w.pageY)}a.currentX=l,a.currentY=d},x=w=>w.timeStamp||Date.now()},2032:(fn,Pt,me)=>{"use strict";me.d(Pt,{a:()=>we,b:()=>nt,p:()=>b});const b=(_e,...r)=>console.warn(`[Ionic Warning]: ${_e}`,...r),we=(_e,...r)=>console.error(`[Ionic Error]: ${_e}`,...r),nt=(_e,...r)=>console.error(`<${_e.tagName.toLowerCase()}> must be used inside ${r.join(" or ")}.`)},3716:(fn,Pt,me)=>{"use strict";me.d(Pt,{B:()=>x,H:()=>z,a:()=>bn,b:()=>tr,c:()=>se,d:()=>We,e:()=>An,f:()=>Ne,g:()=>pe,h:()=>H,i:()=>Ct,j:()=>w,r:()=>F,w:()=>At});var b=me(1528);let _e,r,W,S=!1,v=!1,_=!1,f=!1,h=!1;const x={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},w=je=>{const He=new URL(je,un.$resourcesUrl$);return He.origin!==_t.location.origin?He.href:He.pathname},m="s-id",p="sty-id",y="c-id",$="slot-fb{display:contents}slot-fb[hidden]{display:none}",N="http://www.w3.org/1999/xlink",P={},E=je=>"object"==(je=typeof je)||"function"===je;function T(je){var He,Mt,Rt;return null!==(Rt=null===(Mt=null===(He=je.head)||void 0===He?void 0:He.querySelector('meta[name="csp-nonce"]'))||void 0===Mt?void 0:Mt.getAttribute("content"))&&void 0!==Rt?Rt:void 0}const H=(je,He,...Mt)=>{let Rt=null,Vt=null,ie=null,Le=!1,ve=!1;const Ve=[],mt=Dn=>{for(let On=0;On<Dn.length;On++)Rt=Dn[On],Array.isArray(Rt)?mt(Rt):null!=Rt&&"boolean"!=typeof Rt&&((Le="function"!=typeof je&&!E(Rt))&&(Rt=String(Rt)),Le&&ve?Ve[Ve.length-1].$text$+=Rt:Ve.push(Le?X(null,Rt):Rt),ve=Le)};if(mt(Mt),He){He.key&&(Vt=He.key),He.name&&(ie=He.name);{const Dn=He.className||He.class;Dn&&(He.class="object"!=typeof Dn?Dn:Object.keys(Dn).filter(On=>Dn[On]).join(" "))}}if("function"==typeof je)return je(null===He?{}:He,Ve,J);const Zt=X(je,null);return Zt.$attrs$=He,Ve.length>0&&(Zt.$children$=Ve),Zt.$key$=Vt,Zt.$name$=ie,Zt},X=(je,He)=>({$flags$:0,$tag$:je,$text$:He,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),z={},J={forEach:(je,He)=>je.map(q).forEach(He),map:(je,He)=>je.map(q).map(He).map(ne)},q=je=>({vattrs:je.$attrs$,vchildren:je.$children$,vkey:je.$key$,vname:je.$name$,vtag:je.$tag$,vtext:je.$text$}),ne=je=>{if("function"==typeof je.vtag){const Mt=Object.assign({},je.vattrs);return je.vkey&&(Mt.key=je.vkey),je.vname&&(Mt.name=je.vname),H(je.vtag,Mt,...je.vchildren||[])}const He=X(je.vtag,je.vtext);return He.$attrs$=je.vattrs,He.$children$=je.vchildren,He.$key$=je.vkey,He.$name$=je.vname,He},De=(je,He,Mt,Rt,Vt,ie,Le)=>{let ve,Ve,mt,Zt;if(1===ie.nodeType){for(ve=ie.getAttribute(y),ve&&(Ve=ve.split("."),(Ve[0]===Le||"0"===Ve[0])&&(mt={$flags$:0,$hostId$:Ve[0],$nodeId$:Ve[1],$depth$:Ve[2],$index$:Ve[3],$tag$:ie.tagName.toLowerCase(),$elm$:ie,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},He.push(mt),ie.removeAttribute(y),je.$children$||(je.$children$=[]),je.$children$[mt.$index$]=mt,je=mt,Rt&&"0"===mt.$depth$&&(Rt[mt.$index$]=mt.$elm$))),Zt=ie.childNodes.length-1;Zt>=0;Zt--)De(je,He,Mt,Rt,Vt,ie.childNodes[Zt],Le);if(ie.shadowRoot)for(Zt=ie.shadowRoot.childNodes.length-1;Zt>=0;Zt--)De(je,He,Mt,Rt,Vt,ie.shadowRoot.childNodes[Zt],Le)}else if(8===ie.nodeType)Ve=ie.nodeValue.split("."),(Ve[1]===Le||"0"===Ve[1])&&(ve=Ve[0],mt={$flags$:0,$hostId$:Ve[1],$nodeId$:Ve[2],$depth$:Ve[3],$index$:Ve[4],$elm$:ie,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===ve?(mt.$elm$=ie.nextSibling,mt.$elm$&&3===mt.$elm$.nodeType&&(mt.$text$=mt.$elm$.textContent,He.push(mt),ie.remove(),je.$children$||(je.$children$=[]),je.$children$[mt.$index$]=mt,Rt&&"0"===mt.$depth$&&(Rt[mt.$index$]=mt.$elm$))):mt.$hostId$===Le&&("s"===ve?(mt.$tag$="slot",ie["s-sn"]=Ve[5]?mt.$name$=Ve[5]:"",ie["s-sr"]=!0,Rt&&(mt.$elm$=Xt.createElement(mt.$tag$),mt.$name$&&mt.$elm$.setAttribute("name",mt.$name$),ie.parentNode.insertBefore(mt.$elm$,ie),ie.remove(),"0"===mt.$depth$&&(Rt[mt.$index$]=mt.$elm$)),Mt.push(mt),je.$children$||(je.$children$=[]),je.$children$[mt.$index$]=mt):"r"===ve&&(Rt?ie.remove():(Vt["s-cr"]=ie,ie["s-cn"]=!0))));else if(je&&"style"===je.$tag$){const Dn=X(null,ie.textContent);Dn.$elm$=ie,Dn.$index$="0",je.$children$=[Dn]}},Y=(je,He)=>{if(1===je.nodeType){let Mt=0;for(;Mt<je.childNodes.length;Mt++)Y(je.childNodes[Mt],He);if(je.shadowRoot)for(Mt=0;Mt<je.shadowRoot.childNodes.length;Mt++)Y(je.shadowRoot.childNodes[Mt],He)}else if(8===je.nodeType){const Mt=je.nodeValue.split(".");"o"===Mt[0]&&(He.set(Mt[1]+"."+Mt[2],je),je.nodeValue="",je["s-en"]=Mt[3])}},se=je=>rt.push(je),pe=je=>D(je).$modeName$,Ne=je=>D(je).$hostElement$,We=(je,He,Mt)=>{const Rt=Ne(je);return{emit:Vt=>et(Rt,He,{bubbles:!!(4&Mt),composed:!!(2&Mt),cancelable:!!(1&Mt),detail:Vt})}},et=(je,He,Mt)=>{const Rt=un.ce(He,Mt);return je.dispatchEvent(Rt),Rt},Ae=new WeakMap,Be=(je,He,Mt)=>{let Rt=Re.get(je);rr&&Mt?(Rt=Rt||new CSSStyleSheet,"string"==typeof Rt?Rt=He:Rt.replaceSync(He)):Rt=He,Re.set(je,Rt)},Fe=(je,He,Mt)=>{var Rt;const Vt=Ze(He,Mt),ie=Re.get(Vt);if(je=11===je.nodeType?je:Xt,ie)if("string"==typeof ie){let ve,Le=Ae.get(je=je.head||je);if(Le||Ae.set(je,Le=new Set),!Le.has(Vt)){if(je.host&&(ve=je.querySelector(`[${p}="${Vt}"]`)))ve.innerHTML=ie;else{ve=Xt.createElement("style"),ve.innerHTML=ie;const Ve=null!==(Rt=un.$nonce$)&&void 0!==Rt?Rt:T(Xt);null!=Ve&&ve.setAttribute("nonce",Ve),je.insertBefore(ve,je.querySelector("link"))}4&He.$flags$&&(ve.innerHTML+=$),Le&&Le.add(Vt)}}else je.adoptedStyleSheets.includes(ie)||(je.adoptedStyleSheets=[...je.adoptedStyleSheets,ie]);return Vt},Ze=(je,He)=>"sc-"+(He&&32&je.$flags$?je.$tagName$+"-"+He:je.$tagName$),Qe=je=>je.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),vt=(je,He,Mt,Rt,Vt,ie)=>{if(Mt!==Rt){let Le=ee(je,He),ve=He.toLowerCase();if("class"===He){const Ve=je.classList,mt=ft(Mt),Zt=ft(Rt);Ve.remove(...mt.filter(Dn=>Dn&&!Zt.includes(Dn))),Ve.add(...Zt.filter(Dn=>Dn&&!mt.includes(Dn)))}else if("style"===He){for(const Ve in Mt)(!Rt||null==Rt[Ve])&&(Ve.includes("-")?je.style.removeProperty(Ve):je.style[Ve]="");for(const Ve in Rt)(!Mt||Rt[Ve]!==Mt[Ve])&&(Ve.includes("-")?je.style.setProperty(Ve,Rt[Ve]):je.style[Ve]=Rt[Ve])}else if("key"!==He)if("ref"===He)Rt&&Rt(je);else if(Le||"o"!==He[0]||"n"!==He[1]){const Ve=E(Rt);if((Le||Ve&&null!==Rt)&&!Vt)try{if(je.tagName.includes("-"))je[He]=Rt;else{const Zt=null==Rt?"":Rt;"list"===He?Le=!1:(null==Mt||je[He]!=Zt)&&(je[He]=Zt)}}catch{}let mt=!1;ve!==(ve=ve.replace(/^xlink\:?/,""))&&(He=ve,mt=!0),null==Rt||!1===Rt?(!1!==Rt||""===je.getAttribute(He))&&(mt?je.removeAttributeNS(N,He):je.removeAttribute(He)):(!Le||4&ie||Vt)&&!Ve&&(Rt=!0===Rt?"":Rt,mt?je.setAttributeNS(N,He,Rt):je.setAttribute(He,Rt))}else if(He="-"===He[2]?He.slice(3):ee(_t,ve)?ve.slice(2):ve[2]+He.slice(3),Mt||Rt){const Ve=He.endsWith(kt);He=He.replace(qt,""),Mt&&un.rel(je,He,Mt,Ve),Rt&&un.ael(je,He,Rt,Ve)}}},ht=/\s/,ft=je=>je?je.split(ht):[],kt="Capture",qt=new RegExp(kt+"$"),Lt=(je,He,Mt,Rt)=>{const Vt=11===He.$elm$.nodeType&&He.$elm$.host?He.$elm$.host:He.$elm$,ie=je&&je.$attrs$||P,Le=He.$attrs$||P;for(Rt in ie)Rt in Le||vt(Vt,Rt,ie[Rt],void 0,Mt,He.$flags$);for(Rt in Le)vt(Vt,Rt,ie[Rt],Le[Rt],Mt,He.$flags$)},ln=(je,He,Mt,Rt)=>{const Vt=He.$children$[Mt];let Le,ve,Ve,ie=0;if(S||(_=!0,"slot"===Vt.$tag$&&(_e&&Rt.classList.add(_e+"-s"),Vt.$flags$|=Vt.$children$?2:1)),null!==Vt.$text$)Le=Vt.$elm$=Xt.createTextNode(Vt.$text$);else if(1&Vt.$flags$)Le=Vt.$elm$=Xt.createTextNode("");else{if(f||(f="svg"===Vt.$tag$),Le=Vt.$elm$=Xt.createElementNS(f?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Vt.$flags$?"slot-fb":Vt.$tag$),f&&"foreignObject"===Vt.$tag$&&(f=!1),Lt(null,Vt,f),(je=>null!=je)(_e)&&Le["s-si"]!==_e&&Le.classList.add(Le["s-si"]=_e),Vt.$children$)for(ie=0;ie<Vt.$children$.length;++ie)ve=ln(je,Vt,ie,Le),ve&&Le.appendChild(ve);"svg"===Vt.$tag$?f=!1:"foreignObject"===Le.tagName&&(f=!0)}return Le["s-hn"]=W,3&Vt.$flags$&&(Le["s-sr"]=!0,Le["s-cr"]=r,Le["s-sn"]=Vt.$name$||"",Ve=je&&je.$children$&&je.$children$[Mt],Ve&&Ve.$tag$===Vt.$tag$&&je.$elm$&&sn(je.$elm$,!1)),Le},sn=(je,He)=>{un.$flags$|=1;const Mt=je.childNodes;for(let Rt=Mt.length-1;Rt>=0;Rt--){const Vt=Mt[Rt];Vt["s-hn"]!==W&&Vt["s-ol"]&&(Et(Vt).insertBefore(Vt,zt(Vt)),Vt["s-ol"].remove(),Vt["s-ol"]=void 0,Vt["s-sh"]=void 0,_=!0),He&&sn(Vt,He)}un.$flags$&=-2},Ht=(je,He,Mt,Rt,Vt,ie)=>{let ve,Le=je["s-cr"]&&je["s-cr"].parentNode||je;for(Le.shadowRoot&&Le.tagName===W&&(Le=Le.shadowRoot);Vt<=ie;++Vt)Rt[Vt]&&(ve=ln(null,Mt,Vt,je),ve&&(Rt[Vt].$elm$=ve,Le.insertBefore(ve,zt(He))))},Tt=(je,He,Mt)=>{for(let Rt=He;Rt<=Mt;++Rt){const Vt=je[Rt];if(Vt){const ie=Vt.$elm$;jt(Vt),ie&&(v=!0,ie["s-ol"]?ie["s-ol"].remove():sn(ie,!0),ie.remove())}}},bt=(je,He,Mt=!1)=>je.$tag$===He.$tag$&&("slot"===je.$tag$?je.$name$===He.$name$:!!Mt||je.$key$===He.$key$),zt=je=>je&&je["s-ol"]||je,Et=je=>(je["s-ol"]?je["s-ol"]:je).parentNode,Pe=(je,He,Mt=!1)=>{const Rt=He.$elm$=je.$elm$,Vt=je.$children$,ie=He.$children$,Le=He.$tag$,ve=He.$text$;let Ve;null===ve?(f="svg"===Le||"foreignObject"!==Le&&f,"slot"===Le&&!S||Lt(je,He,f),null!==Vt&&null!==ie?((je,He,Mt,Rt,Vt=!1)=>{let jr,Ar,ie=0,Le=0,ve=0,Ve=0,mt=He.length-1,Zt=He[0],Dn=He[mt],On=Rt.length-1,zn=Rt[0],Xn=Rt[On];for(;ie<=mt&&Le<=On;)if(null==Zt)Zt=He[++ie];else if(null==Dn)Dn=He[--mt];else if(null==zn)zn=Rt[++Le];else if(null==Xn)Xn=Rt[--On];else if(bt(Zt,zn,Vt))Pe(Zt,zn,Vt),Zt=He[++ie],zn=Rt[++Le];else if(bt(Dn,Xn,Vt))Pe(Dn,Xn,Vt),Dn=He[--mt],Xn=Rt[--On];else if(bt(Zt,Xn,Vt))("slot"===Zt.$tag$||"slot"===Xn.$tag$)&&sn(Zt.$elm$.parentNode,!1),Pe(Zt,Xn,Vt),je.insertBefore(Zt.$elm$,Dn.$elm$.nextSibling),Zt=He[++ie],Xn=Rt[--On];else if(bt(Dn,zn,Vt))("slot"===Zt.$tag$||"slot"===Xn.$tag$)&&sn(Dn.$elm$.parentNode,!1),Pe(Dn,zn,Vt),je.insertBefore(Dn.$elm$,Zt.$elm$),Dn=He[--mt],zn=Rt[++Le];else{for(ve=-1,Ve=ie;Ve<=mt;++Ve)if(He[Ve]&&null!==He[Ve].$key$&&He[Ve].$key$===zn.$key$){ve=Ve;break}ve>=0?(Ar=He[ve],Ar.$tag$!==zn.$tag$?jr=ln(He&&He[Le],Mt,ve,je):(Pe(Ar,zn,Vt),He[ve]=void 0,jr=Ar.$elm$),zn=Rt[++Le]):(jr=ln(He&&He[Le],Mt,Le,je),zn=Rt[++Le]),jr&&Et(Zt.$elm$).insertBefore(jr,zt(Zt.$elm$))}ie>mt?Ht(je,null==Rt[On+1]?null:Rt[On+1].$elm$,Mt,Rt,Le,On):Le>On&&Tt(He,ie,mt)})(Rt,Vt,He,ie,Mt):null!==ie?(null!==je.$text$&&(Rt.textContent=""),Ht(Rt,null,He,ie,0,ie.length-1)):null!==Vt&&Tt(Vt,0,Vt.length-1),f&&"svg"===Le&&(f=!1)):(Ve=Rt["s-cr"])?Ve.parentNode.textContent=ve:je.$text$!==ve&&(Rt.data=ve)},Ge=je=>{const He=je.childNodes;for(const Mt of He)if(1===Mt.nodeType){if(Mt["s-sr"]){const Rt=Mt["s-sn"];Mt.hidden=!1;for(const Vt of He)if(Vt!==Mt)if(Vt["s-hn"]!==Mt["s-hn"]||""!==Rt){if(1===Vt.nodeType&&(Rt===Vt.getAttribute("slot")||Rt===Vt["s-sn"])){Mt.hidden=!0;break}}else if(1===Vt.nodeType||3===Vt.nodeType&&""!==Vt.textContent.trim()){Mt.hidden=!0;break}}Ge(Mt)}},Ie=[],ze=je=>{let He,Mt,Rt;for(const Vt of je.childNodes){if(Vt["s-sr"]&&(He=Vt["s-cr"])&&He.parentNode){Mt=He.parentNode.childNodes;const ie=Vt["s-sn"];for(Rt=Mt.length-1;Rt>=0;Rt--)if(He=Mt[Rt],!He["s-cn"]&&!He["s-nr"]&&He["s-hn"]!==Vt["s-hn"])if(wt(He,ie)){let Le=Ie.find(ve=>ve.$nodeToRelocate$===He);v=!0,He["s-sn"]=He["s-sn"]||ie,Le?(Le.$nodeToRelocate$["s-sh"]=Vt["s-hn"],Le.$slotRefNode$=Vt):(He["s-sh"]=Vt["s-hn"],Ie.push({$slotRefNode$:Vt,$nodeToRelocate$:He})),He["s-sr"]&&Ie.map(ve=>{wt(ve.$nodeToRelocate$,He["s-sn"])&&(Le=Ie.find(Ve=>Ve.$nodeToRelocate$===He),Le&&!ve.$slotRefNode$&&(ve.$slotRefNode$=Le.$slotRefNode$))})}else Ie.some(Le=>Le.$nodeToRelocate$===He)||Ie.push({$nodeToRelocate$:He})}1===Vt.nodeType&&ze(Vt)}},wt=(je,He)=>1===je.nodeType?null===je.getAttribute("slot")&&""===He||je.getAttribute("slot")===He:je["s-sn"]===He||""===He,jt=je=>{je.$attrs$&&je.$attrs$.ref&&je.$attrs$.ref(null),je.$children$&&je.$children$.map(jt)},an=(je,He)=>{He&&!je.$onRenderResolve$&&He["s-p"]&&He["s-p"].push(new Promise(Mt=>je.$onRenderResolve$=Mt))},_n=(je,He)=>{if(je.$flags$|=16,!(4&je.$flags$))return an(je,je.$ancestorComponent$),At(()=>wn(je,He));je.$flags$|=512},wn=(je,He)=>{const Rt=je.$lazyInstance$;let Vt;return He&&(je.$flags$|=256,je.$queuedListeners$&&(je.$queuedListeners$.map(([ie,Le])=>qe(Rt,ie,Le)),je.$queuedListeners$=void 0),Vt=qe(Rt,"componentWillLoad")),Vt=Dt(Vt,()=>qe(Rt,"componentWillRender")),Dt(Vt,()=>ot(je,Rt,He))},Dt=(je,He)=>xt(je)?je.then(He):He(),xt=je=>je instanceof Promise||je&&je.then&&"function"==typeof je.then,ot=function(){var je=(0,b.c)(function*(He,Mt,Rt){var Vt;const ie=He.$hostElement$,ve=ie["s-rc"];Rt&&(je=>{const He=je.$cmpMeta$,Mt=je.$hostElement$,Rt=He.$flags$,ie=Fe(Mt.shadowRoot?Mt.shadowRoot:Mt.getRootNode(),He,je.$modeName$);10&Rt&&(Mt["s-sc"]=ie,Mt.classList.add(ie+"-h"),2&Rt&&Mt.classList.add(ie+"-s"))})(He);Ye(He,Mt,ie,Rt),ve&&(ve.map(mt=>mt()),ie["s-rc"]=void 0);{const mt=null!==(Vt=ie["s-p"])&&void 0!==Vt?Vt:[],Zt=()=>ct(He);0===mt.length?Zt():(Promise.all(mt).then(Zt),He.$flags$|=4,mt.length=0)}});return function(Mt,Rt,Vt){return je.apply(this,arguments)}}(),Ye=(je,He,Mt,Rt)=>{try{He=He.render&&He.render(),je.$flags$&=-17,je.$flags$|=2,((je,He,Mt=!1)=>{var Rt,Vt,ie,Le;const ve=je.$hostElement$,Ve=je.$cmpMeta$,mt=je.$vnode$||X(null,null),Zt=(je=>je&&je.$tag$===z)(He)?He:H(null,null,He);if(W=ve.tagName,Ve.$attrsToReflect$&&(Zt.$attrs$=Zt.$attrs$||{},Ve.$attrsToReflect$.map(([Dn,On])=>Zt.$attrs$[On]=ve[Dn])),Mt&&Zt.$attrs$)for(const Dn of Object.keys(Zt.$attrs$))ve.hasAttribute(Dn)&&!["key","ref","style","class"].includes(Dn)&&(Zt.$attrs$[Dn]=ve[Dn]);if(Zt.$tag$=null,Zt.$flags$|=4,je.$vnode$=Zt,Zt.$elm$=mt.$elm$=ve.shadowRoot||ve,_e=ve["s-sc"],S=0!=(1&Ve.$flags$),r=ve["s-cr"],v=!1,Pe(mt,Zt,Mt),un.$flags$|=1,_){ze(Zt.$elm$);for(const Dn of Ie){const On=Dn.$nodeToRelocate$;if(!On["s-ol"]){const zn=Xt.createTextNode("");zn["s-nr"]=On,On.parentNode.insertBefore(On["s-ol"]=zn,On)}}for(const Dn of Ie){const On=Dn.$nodeToRelocate$,zn=Dn.$slotRefNode$;if(zn){const Xn=zn.parentNode;let jr=zn.nextSibling;{let Ar=null===(Rt=On["s-ol"])||void 0===Rt?void 0:Rt.previousSibling;for(;Ar;){let Rr=null!==(Vt=Ar["s-nr"])&&void 0!==Vt?Vt:null;if(Rr&&Rr["s-sn"]===On["s-sn"]&&Xn===Rr.parentNode&&(Rr=Rr.nextSibling,!Rr||!Rr["s-nr"])){jr=Rr;break}Ar=Ar.previousSibling}}(!jr&&Xn!==On.parentNode||On.nextSibling!==jr)&&On!==jr&&(!On["s-hn"]&&On["s-ol"]&&(On["s-hn"]=On["s-ol"].parentNode.nodeName),Xn.insertBefore(On,jr),1===On.nodeType&&(On.hidden=null!==(ie=On["s-ih"])&&void 0!==ie&&ie))}else 1===On.nodeType&&(Mt&&(On["s-ih"]=null!==(Le=On.hidden)&&void 0!==Le&&Le),On.hidden=!0)}}v&&Ge(Zt.$elm$),un.$flags$&=-2,Ie.length=0,r=void 0})(je,He,Rt)}catch(Vt){re(Vt,je.$hostElement$)}return null},ct=je=>{const Mt=je.$hostElement$,Vt=je.$lazyInstance$,ie=je.$ancestorComponent$;qe(Vt,"componentDidRender"),64&je.$flags$?qe(Vt,"componentDidUpdate"):(je.$flags$|=64,yt(Mt),qe(Vt,"componentDidLoad"),je.$onReadyResolve$(Mt),ie||rn()),je.$onInstanceResolve$(Mt),je.$onRenderResolve$&&(je.$onRenderResolve$(),je.$onRenderResolve$=void 0),512&je.$flags$&&dn(()=>_n(je,!1)),je.$flags$&=-517},Ct=je=>{{const He=D(je),Mt=He.$hostElement$.isConnected;return Mt&&2==(18&He.$flags$)&&_n(He,!1),Mt}},rn=je=>{yt(Xt.documentElement),dn(()=>et(_t,"appload",{detail:{namespace:"ionic"}}))},qe=(je,He,Mt)=>{if(je&&je[He])try{return je[He](Mt)}catch(Rt){re(Rt)}},yt=je=>je.classList.add("hydrated"),$t=(je,He,Mt)=>{var Rt;const Vt=je.prototype;if(He.$members$){je.watchers&&(He.$watchers$=je.watchers);const ie=Object.entries(He.$members$);if(ie.map(([Le,[ve]])=>{31&ve||2&Mt&&32&ve?Object.defineProperty(Vt,Le,{get(){return((je,He)=>D(this).$instanceValues$.get(He))(0,Le)},set(Ve){((je,He,Mt,Rt)=>{const Vt=D(je),ie=Vt.$hostElement$,Le=Vt.$instanceValues$.get(He),ve=Vt.$flags$,Ve=Vt.$lazyInstance$;Mt=((je,He)=>null==je||E(je)?je:4&He?"false"!==je&&(""===je||!!je):2&He?parseFloat(je):1&He?String(je):je)(Mt,Rt.$members$[He][0]);const mt=Number.isNaN(Le)&&Number.isNaN(Mt);if((!(8&ve)||void 0===Le)&&Mt!==Le&&!mt&&(Vt.$instanceValues$.set(He,Mt),Ve)){if(Rt.$watchers$&&128&ve){const Dn=Rt.$watchers$[He];Dn&&Dn.map(On=>{try{Ve[On](Mt,Le,He)}catch(zn){re(zn,ie)}})}2==(18&ve)&&_n(Vt,!1)}})(this,Le,Ve,He)},configurable:!0,enumerable:!0}):1&Mt&&64&ve&&Object.defineProperty(Vt,Le,{value(...Ve){var mt;const Zt=D(this);return null===(mt=null==Zt?void 0:Zt.$onInstancePromise$)||void 0===mt?void 0:mt.then(()=>{var Dn;return null===(Dn=Zt.$lazyInstance$)||void 0===Dn?void 0:Dn[Le](...Ve)})}})}),1&Mt){const Le=new Map;Vt.attributeChangedCallback=function(ve,Ve,mt){un.jmp(()=>{var Zt;const Dn=Le.get(ve);if(this.hasOwnProperty(Dn))mt=this[Dn],delete this[Dn];else{if(Vt.hasOwnProperty(Dn)&&"number"==typeof this[Dn]&&this[Dn]==mt)return;if(null==Dn){const On=D(this),zn=null==On?void 0:On.$flags$;if(zn&&!(8&zn)&&128&zn&&mt!==Ve){const Xn=On.$lazyInstance$,jr=null===(Zt=He.$watchers$)||void 0===Zt?void 0:Zt[ve];null==jr||jr.forEach(Ar=>{null!=Xn[Ar]&&Xn[Ar].call(Xn,mt,Ve,ve)})}return}}this[Dn]=(null!==mt||"boolean"!=typeof this[Dn])&&mt})},je.observedAttributes=Array.from(new Set([...Object.keys(null!==(Rt=He.$watchers$)&&void 0!==Rt?Rt:{}),...ie.filter(([ve,Ve])=>15&Ve[0]).map(([ve,Ve])=>{var mt;const Zt=Ve[1]||ve;return Le.set(Zt,ve),512&Ve[0]&&(null===(mt=He.$attrsToReflect$)||void 0===mt||mt.push([ve,Zt])),Zt})]))}}return je},hn=function(){var je=(0,b.c)(function*(He,Mt,Rt,Vt){let ie;if(!(32&Mt.$flags$)){Mt.$flags$|=32;{if(ie=he(Rt),ie.then){const mt=()=>{};ie=yield ie,mt()}ie.isProxied||(Rt.$watchers$=ie.watchers,$t(ie,Rt,2),ie.isProxied=!0);const Ve=()=>{};Mt.$flags$|=8;try{new ie(Mt)}catch(mt){re(mt)}Mt.$flags$&=-9,Mt.$flags$|=128,Ve(),yn(Mt.$lazyInstance$)}if(ie.style){let Ve=ie.style;"string"!=typeof Ve&&(Ve=Ve[Mt.$modeName$=(je=>rt.map(He=>He(je)).find(He=>!!He))(He)]);const mt=Ze(Rt,Mt.$modeName$);if(!Re.has(mt)){const Zt=()=>{};Be(mt,Ve,!!(1&Rt.$flags$)),Zt()}}}const Le=Mt.$ancestorComponent$,ve=()=>_n(Mt,!0);Le&&Le["s-rc"]?Le["s-rc"].push(ve):ve()});return function(Mt,Rt,Vt,ie){return je.apply(this,arguments)}}(),yn=je=>{qe(je,"connectedCallback")},Sn=je=>{const He=je["s-cr"]=Xt.createComment("");He["s-cn"]=!0,je.insertBefore(He,je.firstChild)},Cn=je=>{qe(je,"disconnectedCallback")},Zn=function(){var je=(0,b.c)(function*(He){if(!(1&un.$flags$)){const Mt=D(He);Mt.$rmListeners$&&(Mt.$rmListeners$.map(Rt=>Rt()),Mt.$rmListeners$=void 0),null!=Mt&&Mt.$lazyInstance$?Cn(Mt.$lazyInstance$):null!=Mt&&Mt.$onReadyPromise$&&Mt.$onReadyPromise$.then(()=>Cn(Mt.$lazyInstance$))}});return function(Mt){return je.apply(this,arguments)}}(),tr=(je,He={})=>{var Mt;const Vt=[],ie=He.exclude||[],Le=_t.customElements,ve=Xt.head,Ve=ve.querySelector("meta[charset]"),mt=Xt.createElement("style"),Zt=[],Dn=Xt.querySelectorAll(`[${p}]`);let On,zn=!0,Xn=0;for(Object.assign(un,He),un.$resourcesUrl$=new URL(He.resourcesUrl||"./",Xt.baseURI).href,un.$flags$|=2;Xn<Dn.length;Xn++)Be(Dn[Xn].getAttribute(p),Qe(Dn[Xn].innerHTML),!0);let jr=!1;if(je.map(Ar=>{Ar[1].map(Rr=>{var Bo;const Br={$flags$:Rr[0],$tagName$:Rr[1],$members$:Rr[2],$listeners$:Rr[3]};4&Br.$flags$&&(jr=!0),Br.$members$=Rr[2],Br.$listeners$=Rr[3],Br.$attrsToReflect$=[],Br.$watchers$=null!==(Bo=Rr[4])&&void 0!==Bo?Bo:{};const mr=Br.$tagName$,Tn=class extends HTMLElement{constructor(Fn){super(Fn),L(Fn=this,Br),1&Br.$flags$&&Fn.attachShadow({mode:"open",delegatesFocus:!!(16&Br.$flags$)})}connectedCallback(){On&&(clearTimeout(On),On=null),zn?Zt.push(this):un.jmp(()=>(je=>{if(!(1&un.$flags$)){const He=D(je),Mt=He.$cmpMeta$,Rt=()=>{};if(1&He.$flags$)lr(je,He,Mt.$listeners$),null!=He&&He.$lazyInstance$?yn(He.$lazyInstance$):null!=He&&He.$onReadyPromise$&&He.$onReadyPromise$.then(()=>yn(He.$lazyInstance$));else{let Vt;if(He.$flags$|=1,Vt=je.getAttribute(m),Vt){if(1&Mt.$flags$){const ie=Fe(je.shadowRoot,Mt,je.getAttribute("s-mode"));je.classList.remove(ie+"-h",ie+"-s")}((je,He,Mt,Rt)=>{const ie=je.shadowRoot,Le=[],Ve=ie?[]:null,mt=Rt.$vnode$=X(He,null);un.$orgLocNodes$||Y(Xt.body,un.$orgLocNodes$=new Map),je[m]=Mt,je.removeAttribute(m),De(mt,Le,[],Ve,je,je,Mt),Le.map(Zt=>{const Dn=Zt.$hostId$+"."+Zt.$nodeId$,On=un.$orgLocNodes$.get(Dn),zn=Zt.$elm$;On&&Rn&&""===On["s-en"]&&On.parentNode.insertBefore(zn,On.nextSibling),ie||(zn["s-hn"]=He,On&&(zn["s-ol"]=On,zn["s-ol"]["s-nr"]=zn)),un.$orgLocNodes$.delete(Dn)}),ie&&Ve.map(Zt=>{Zt&&ie.appendChild(Zt)})})(je,Mt.$tagName$,Vt,He)}Vt||12&Mt.$flags$&&Sn(je);{let ie=je;for(;ie=ie.parentNode||ie.host;)if(1===ie.nodeType&&ie.hasAttribute("s-id")&&ie["s-p"]||ie["s-p"]){an(He,He.$ancestorComponent$=ie);break}}Mt.$members$&&Object.entries(Mt.$members$).map(([ie,[Le]])=>{if(31&Le&&je.hasOwnProperty(ie)){const ve=je[ie];delete je[ie],je[ie]=ve}}),hn(je,He,Mt)}Rt()}})(this))}disconnectedCallback(){un.jmp(()=>Zn(this))}componentOnReady(){return D(this).$onReadyPromise$}};Br.$lazyBundleId$=Ar[0],!ie.includes(mr)&&!Le.get(mr)&&(Vt.push(mr),Le.define(mr,$t(Tn,Br,1)))})}),Vt.length>0&&(jr&&(mt.textContent+=$),mt.textContent+=Vt+"{visibility:hidden}.hydrated{visibility:inherit}",mt.innerHTML.length)){mt.setAttribute("data-styles","");const Ar=null!==(Mt=un.$nonce$)&&void 0!==Mt?Mt:T(Xt);null!=Ar&&mt.setAttribute("nonce",Ar),ve.insertBefore(mt,Ve?Ve.nextSibling:ve.firstChild)}zn=!1,Zt.length?Zt.map(Ar=>Ar.connectedCallback()):un.jmp(()=>On=setTimeout(rn,30))},lr=(je,He,Mt,Rt)=>{Mt&&Mt.map(([Vt,ie,Le])=>{const ve=Wn(je,Vt),Ve=Pn(He,Le),mt=G(Vt);un.ael(ve,ie,Ve,mt),(He.$rmListeners$=He.$rmListeners$||[]).push(()=>un.rel(ve,ie,Ve,mt))})},Pn=(je,He)=>Mt=>{try{256&je.$flags$?je.$lazyInstance$[He](Mt):(je.$queuedListeners$=je.$queuedListeners$||[]).push([He,Mt])}catch(Rt){re(Rt)}},Wn=(je,He)=>4&He?Xt:8&He?_t:16&He?Xt.body:je,G=je=>Hn?{passive:0!=(1&je),capture:0!=(2&je)}:0!=(2&je),Se=new WeakMap,D=je=>Se.get(je),F=(je,He)=>Se.set(He.$lazyInstance$=je,He),L=(je,He)=>{const Mt={$flags$:0,$hostElement$:je,$cmpMeta$:He,$instanceValues$:new Map};return Mt.$onInstancePromise$=new Promise(Rt=>Mt.$onInstanceResolve$=Rt),Mt.$onReadyPromise$=new Promise(Rt=>Mt.$onReadyResolve$=Rt),je["s-p"]=[],je["s-rc"]=[],lr(je,Mt,He.$listeners$),Se.set(je,Mt)},ee=(je,He)=>He in je,re=(je,He)=>(0,console.error)(je,He),Q=new Map,he=(je,He,Mt)=>{const Rt=je.$tagName$.replace(/-/g,"_"),Vt=je.$lazyBundleId$,ie=Q.get(Vt);return ie?ie[Rt]:me(1480)(`./${Vt}.entry.js`).then(Le=>(Q.set(Vt,Le),Le[Rt]),re)},Re=new Map,rt=[],_t=typeof window<"u"?window:{},Xt=_t.document||{head:{}},un={$flags$:0,$resourcesUrl$:"",jmp:je=>je(),raf:je=>requestAnimationFrame(je),ael:(je,He,Mt,Rt)=>je.addEventListener(He,Mt,Rt),rel:(je,He,Mt,Rt)=>je.removeEventListener(He,Mt,Rt),ce:(je,He)=>new CustomEvent(je,He)},bn=je=>{Object.assign(un,je)},Rn=!0,Hn=(()=>{let je=!1;try{Xt.addEventListener("e",null,Object.defineProperty({},"passive",{get(){je=!0}}))}catch{}return je})(),rr=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),at=[],ut=[],$e=(je,He)=>Mt=>{je.push(Mt),h||(h=!0,He&&4&un.$flags$?dn(Ut):un.raf(Ut))},lt=je=>{for(let He=0;He<je.length;He++)try{je[He](performance.now())}catch(Mt){re(Mt)}je.length=0},Ut=()=>{lt(at),lt(ut),(h=at.length>0)&&un.raf(Ut)},dn=je=>Promise.resolve(void 0).then(je),An=$e(at,!1),At=$e(ut,!0)},148:(fn,Pt,me)=>{"use strict";me.d(Pt,{m:()=>w});var b=me(1528),we=me(4829),nt=me(136),_e=me(2032),r=me(6384),W=me(1780),S=me(388);const v=a=>(0,S.c)().duration(a?400:300),_=a=>{let l,d;const u=a.width+8,c=(0,S.c)(),s=(0,S.c)();a.isEndSide?(l=u+"px",d="0px"):(l=-u+"px",d="0px"),c.addElement(a.menuInnerEl).fromTo("transform",`translateX(${l})`,`translateX(${d})`);const p="ios"===(0,W.b)(a),y=p?.2:.25;return s.addElement(a.backdropEl).fromTo("opacity",.01,y),v(p).addAnimation([c,s])},f=a=>{let l,d;const u=(0,W.b)(a),c=a.width;a.isEndSide?(l=-c+"px",d=c+"px"):(l=c+"px",d=-c+"px");const s=(0,S.c)().addElement(a.menuInnerEl).fromTo("transform",`translateX(${d})`,"translateX(0px)"),m=(0,S.c)().addElement(a.contentEl).fromTo("transform","translateX(0px)",`translateX(${l})`),p=(0,S.c)().addElement(a.backdropEl).fromTo("opacity",.01,.32);return v("ios"===u).addAnimation([s,m,p])},h=a=>{const l=(0,W.b)(a),d=a.width*(a.isEndSide?-1:1)+"px",u=(0,S.c)().addElement(a.contentEl).fromTo("transform","translateX(0px)",`translateX(${d})`);return v("ios"===l).addAnimation(u)},w=(()=>{const a=new Map,l=[],d=function(){var q=(0,b.c)(function*(ne){const de=yield O(ne,!0);return!!de&&de.open()});return function(de){return q.apply(this,arguments)}}(),u=function(){var q=(0,b.c)(function*(ne){const de=yield void 0!==ne?O(ne,!0):$();return void 0!==de&&de.close()});return function(de){return q.apply(this,arguments)}}(),c=function(){var q=(0,b.c)(function*(ne){const de=yield O(ne,!0);return!!de&&de.toggle()});return function(de){return q.apply(this,arguments)}}(),s=function(){var q=(0,b.c)(function*(ne,de){const De=yield O(de);return De&&(De.disabled=!ne),De});return function(de,De){return q.apply(this,arguments)}}(),m=function(){var q=(0,b.c)(function*(ne,de){const De=yield O(de);return De&&(De.swipeGesture=ne),De});return function(de,De){return q.apply(this,arguments)}}(),p=function(){var q=(0,b.c)(function*(ne){if(null!=ne){const de=yield O(ne);return void 0!==de&&de.isOpen()}return void 0!==(yield $())});return function(de){return q.apply(this,arguments)}}(),y=function(){var q=(0,b.c)(function*(ne){const de=yield O(ne);return!!de&&!de.disabled});return function(de){return q.apply(this,arguments)}}(),O=function(){var q=(0,b.c)(function*(ne,de=!1){if(yield J(),"start"===ne||"end"===ne){const Y=l.filter(se=>se.side===ne&&!se.disabled);if(Y.length>=1)return Y.length>1&&de&&(0,_e.p)(`menuController queried for a menu on the "${ne}" side, but ${Y.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Y.map(se=>se.el)),Y[0].el;const R=l.filter(se=>se.side===ne);if(R.length>=1)return R.length>1&&de&&(0,_e.p)(`menuController queried for a menu on the "${ne}" side, but ${R.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,R.map(se=>se.el)),R[0].el}else if(null!=ne)return te(Y=>Y.menuId===ne);return te(Y=>!Y.disabled)||(l.length>0?l[0].el:void 0)});return function(de){return q.apply(this,arguments)}}(),$=function(){var q=(0,b.c)(function*(){return yield J(),H()});return function(){return q.apply(this,arguments)}}(),N=function(){var q=(0,b.c)(function*(){return yield J(),X()});return function(){return q.apply(this,arguments)}}(),P=function(){var q=(0,b.c)(function*(){return yield J(),z()});return function(){return q.apply(this,arguments)}}(),j=(q,ne)=>{a.set(q,ne)},E=function(){var q=(0,b.c)(function*(ne,de,De){if(z())return!1;if(de){const Y=yield $();Y&&ne.el!==Y&&(yield Y.setOpen(!1,!1))}return ne._setOpen(de,De)});return function(de,De,Y){return q.apply(this,arguments)}}(),H=()=>te(q=>q._isOpen),X=()=>l.map(q=>q.el),z=()=>l.some(q=>q.isAnimating),te=q=>{const ne=l.find(q);if(void 0!==ne)return ne.el},J=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(q=>new Promise(ne=>(0,r.c)(q,ne))));return j("reveal",h),j("push",f),j("overlay",_),null==we.d||we.d.addEventListener("ionBackButton",q=>{const ne=H();ne&&q.detail.register(nt.MENU_BACK_BUTTON_PRIORITY,()=>ne.close())}),{registerAnimation:j,get:O,getMenus:N,getOpen:$,isEnabled:y,swipeGesture:m,isAnimating:P,isOpen:p,enable:s,toggle:c,close:u,open:d,_getOpenSync:H,_createAnimation:(q,ne)=>{const de=a.get(q);if(!de)throw new Error("animation not registered");return de(ne)},_register:q=>{l.indexOf(q)<0&&l.push(q)},_unregister:q=>{const ne=l.indexOf(q);ne>-1&&l.splice(ne,1)},_setOpen:E}})()},4829:(fn,Pt,me)=>{"use strict";me.d(Pt,{d:()=>we,w:()=>b});const b=typeof window<"u"?window:void 0,we=typeof document<"u"?document:void 0},968:(fn,Pt,me)=>{"use strict";me.d(Pt,{b:()=>W,c:()=>S,d:()=>v,e:()=>N,g:()=>V,l:()=>O,s:()=>P,t:()=>h,w:()=>$});var b=me(1528),we=me(3716),nt=me(6384);const W="ionViewWillLeave",S="ionViewDidLeave",v="ionViewWillUnload",h=k=>new Promise((E,T)=>{(0,we.w)(()=>{x(k),w(k).then(H=>{H.animation&&H.animation.destroy(),a(k),E(H)},H=>{a(k),T(H)})})}),x=k=>{const E=k.enteringEl,T=k.leavingEl;j(E,T,k.direction),k.showGoBack?E.classList.add("can-go-back"):E.classList.remove("can-go-back"),P(E,!1),E.style.setProperty("pointer-events","none"),T&&(P(T,!1),T.style.setProperty("pointer-events","none"))},w=function(){var k=(0,b.c)(function*(E){const T=yield l(E);return T&&we.B.isBrowser?d(T,E):u(E)});return function(T){return k.apply(this,arguments)}}(),a=k=>{const E=k.enteringEl,T=k.leavingEl;E.classList.remove("ion-page-invisible"),E.style.removeProperty("pointer-events"),void 0!==T&&(T.classList.remove("ion-page-invisible"),T.style.removeProperty("pointer-events"))},l=function(){var k=(0,b.c)(function*(E){return E.leavingEl&&E.animated&&0!==E.duration?E.animationBuilder?E.animationBuilder:"ios"===E.mode?(yield Promise.resolve().then(me.bind(me,3760))).iosTransitionAnimation:(yield Promise.resolve().then(me.bind(me,2976))).mdTransitionAnimation:void 0});return function(T){return k.apply(this,arguments)}}(),d=function(){var k=(0,b.c)(function*(E,T){yield c(T,!0);const H=E(T.baseEl,T);p(T.enteringEl,T.leavingEl);const X=yield m(H,T);return T.progressCallback&&T.progressCallback(void 0),X&&y(T.enteringEl,T.leavingEl),{hasCompleted:X,animation:H}});return function(T,H){return k.apply(this,arguments)}}(),u=function(){var k=(0,b.c)(function*(E){const T=E.enteringEl,H=E.leavingEl;return yield c(E,!1),p(T,H),y(T,H),{hasCompleted:!0}});return function(T){return k.apply(this,arguments)}}(),c=function(){var k=(0,b.c)(function*(E,T){(void 0!==E.deepWait?E.deepWait:T)&&(yield Promise.all([N(E.enteringEl),N(E.leavingEl)])),yield s(E.viewIsReady,E.enteringEl)});return function(T,H){return k.apply(this,arguments)}}(),s=function(){var k=(0,b.c)(function*(E,T){E&&(yield E(T))});return function(T,H){return k.apply(this,arguments)}}(),m=(k,E)=>{const T=E.progressCallback,H=new Promise(X=>{k.onFinish(z=>X(1===z))});return T?(k.progressStart(!0),T(k)):k.play(),H},p=(k,E)=>{O(E,W),O(k,"ionViewWillEnter")},y=(k,E)=>{O(k,"ionViewDidEnter"),O(E,S)},O=(k,E)=>{if(k){const T=new CustomEvent(E,{bubbles:!1,cancelable:!1});k.dispatchEvent(T)}},$=()=>new Promise(k=>(0,nt.r)(()=>(0,nt.r)(()=>k()))),N=function(){var k=(0,b.c)(function*(E){const T=E;if(T){if(null!=T.componentOnReady){if(null!=(yield T.componentOnReady()))return}else if(null!=T.__registerHost)return void(yield new Promise(X=>(0,nt.r)(X)));yield Promise.all(Array.from(T.children).map(N))}});return function(T){return k.apply(this,arguments)}}(),P=(k,E)=>{E?(k.setAttribute("aria-hidden","true"),k.classList.add("ion-page-hidden")):(k.hidden=!1,k.removeAttribute("aria-hidden"),k.classList.remove("ion-page-hidden"))},j=(k,E,T)=>{void 0!==k&&(k.style.zIndex="back"===T?"99":"101"),void 0!==E&&(E.style.zIndex="100")},V=k=>k.classList.contains("ion-page")?k:k.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||k},4708:(fn,Pt,me)=>{"use strict";me.d(Pt,{AF:()=>S.I,KQ:()=>_.l,MZ:()=>_e.mdTransitionAnimation,W4:()=>_.a,cp:()=>S.s,kT:()=>_.m,oz:()=>_.c,uw:()=>nt.iosTransitionAnimation}),me(388),me(968);var nt=me(3760),_e=me(2976),S=(me(2528),me(1780),me(9637)),_=(me(148),me(5820));me(4829),me(3716),me(6560),me(136)},1780:(fn,Pt,me)=>{"use strict";me.d(Pt,{a:()=>h,b:()=>X,c:()=>nt,i:()=>z});var b=me(3716);class we{constructor(){this.m=new Map}reset(J){this.m=new Map(Object.entries(J))}get(J,q){const ne=this.m.get(J);return void 0!==ne?ne:q}getBoolean(J,q=!1){const ne=this.m.get(J);return void 0===ne?q:"string"==typeof ne?"true"===ne:!!ne}getNumber(J,q){const ne=parseFloat(this.m.get(J));return isNaN(ne)?void 0!==q?q:NaN:ne}set(J,q){this.m.set(J,q)}}const nt=new we,v="ionic:",_="ionic-persist-config",h=(te,J)=>("string"==typeof te&&(J=te,te=void 0),(te=>x(te))(te).includes(J)),x=(te=window)=>{if(typeof te>"u")return[];te.Ionic=te.Ionic||{};let J=te.Ionic.platforms;return null==J&&(J=te.Ionic.platforms=w(te),J.forEach(q=>te.document.documentElement.classList.add(`plt-${q}`))),J},w=te=>{const J=nt.get("platform");return Object.keys(T).filter(q=>{const ne=null==J?void 0:J[q];return"function"==typeof ne?ne(te):T[q](te)})},l=te=>!!(k(te,/iPad/i)||k(te,/Macintosh/i)&&y(te)),c=te=>k(te,/android|sink/i),y=te=>E(te,"(any-pointer:coarse)"),$=te=>N(te)||P(te),N=te=>!!(te.cordova||te.phonegap||te.PhoneGap),P=te=>{const J=te.Capacitor;return!(null==J||!J.isNative)},k=(te,J)=>J.test(te.navigator.userAgent),E=(te,J)=>{var q;return null===(q=te.matchMedia)||void 0===q?void 0:q.call(te,J).matches},T={ipad:l,iphone:te=>k(te,/iPhone/i),ios:te=>k(te,/iPhone|iPod/i)||l(te),android:c,phablet:te=>{const J=te.innerWidth,q=te.innerHeight,ne=Math.min(J,q),de=Math.max(J,q);return ne>390&&ne<520&&de>620&&de<800},tablet:te=>{const J=te.innerWidth,q=te.innerHeight,ne=Math.min(J,q),de=Math.max(J,q);return l(te)||(te=>c(te)&&!k(te,/mobile/i))(te)||ne>460&&ne<820&&de>780&&de<1400},cordova:N,capacitor:P,electron:te=>k(te,/electron/i),pwa:te=>{var J;return!!(null!==(J=te.matchMedia)&&void 0!==J&&J.call(te,"(display-mode: standalone)").matches||te.navigator.standalone)},mobile:y,mobileweb:te=>y(te)&&!$(te),desktop:te=>!y(te),hybrid:$};let H;const X=te=>te&&(0,b.g)(te)||H,z=(te={})=>{if(typeof window>"u")return;const J=window.document,q=window,ne=q.Ionic=q.Ionic||{},de={};te._ael&&(de.ael=te._ael),te._rel&&(de.rel=te._rel),te._ce&&(de.ce=te._ce),(0,b.a)(de);const De=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(te=>{try{const J=te.sessionStorage.getItem(_);return null!==J?JSON.parse(J):{}}catch{return{}}})(q)),{persistConfig:!1}),ne.config),(te=>{const J={};return te.location.search.slice(1).split("&").map(q=>q.split("=")).map(([q,ne])=>[decodeURIComponent(q),decodeURIComponent(ne)]).filter(([q])=>((te,J)=>te.substr(0,J.length)===J)(q,v)).map(([q,ne])=>[q.slice(6),ne]).forEach(([q,ne])=>{J[q]=ne}),J})(q)),te);nt.reset(De),nt.getBoolean("persistConfig")&&((te,J)=>{try{te.sessionStorage.setItem(_,JSON.stringify(J))}catch{return}})(q,De),x(q),ne.config=nt,ne.mode=H=nt.get("mode",J.documentElement.getAttribute("mode")||(h(q,"ios")?"ios":"md")),nt.set("mode",H),J.documentElement.setAttribute("mode",H),J.documentElement.classList.add(H),nt.getBoolean("_testing")&&nt.set("animated",!1);const Y=se=>{var pe;return null===(pe=se.tagName)||void 0===pe?void 0:pe.startsWith("ION-")},R=se=>["ios","md"].includes(se);(0,b.c)(se=>{for(;se;){const pe=se.mode||se.getAttribute("mode");if(pe){if(R(pe))return pe;Y(se)&&console.warn('Invalid ionic mode: "'+pe+'", expected: "ios" or "md"')}se=se.parentElement}return H})}},3760:(fn,Pt,me)=>{"use strict";me.r(Pt),me.d(Pt,{iosTransitionAnimation:()=>w,shadow:()=>S});var b=me(388),we=me(968);me(4829),me(3716);const W=l=>document.querySelector(`${l}.ion-cloned-element`),S=l=>l.shadowRoot||l,v=l=>{const d="ION-TABS"===l.tagName?l:l.querySelector("ion-tabs"),u="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=d){const c=d.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=c?c.querySelector(u):null}return l.querySelector(u)},_=(l,d)=>{const u="ION-TABS"===l.tagName?l:l.querySelector("ion-tabs");let c=[];if(null!=u){const s=u.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=s&&(c=s.querySelectorAll("ion-buttons"))}else c=l.querySelectorAll("ion-buttons");for(const s of c){const m=s.closest("ion-header"),p=m&&!m.classList.contains("header-collapse-condense-inactive"),y=s.querySelector("ion-back-button"),O=s.classList.contains("buttons-collapse");if(null!==y&&("start"===s.slot||""===s.slot)&&(O&&p&&d||!O))return y}return null},h=(l,d,u,c,s,m,p,y,O)=>{var $,N;const P=d?`calc(100% - ${s.right+4}px)`:s.left-4+"px",j=d?"right":"left",V=d?"left":"right",k=d?"right":"left",E=(null===($=m.textContent)||void 0===$?void 0:$.trim())===(null===(N=y.textContent)||void 0===N?void 0:N.trim()),H=(O.height-a)/p.height,X=E?`scale(${O.width/p.width}, ${H})`:`scale(${H})`,z="scale(1)",J=S(c).querySelector("ion-icon").getBoundingClientRect(),q=d?J.width/2-(J.right-s.right)+"px":s.left-J.width/2+"px",ne=d?`-${window.innerWidth-s.right}px`:`${s.left}px`,de=`${O.top}px`,De=`${s.top}px`,se=u?[{offset:0,transform:`translate3d(${ne}, ${De}, 0)`},{offset:1,transform:`translate3d(${q}, ${de}, 0)`}]:[{offset:0,transform:`translate3d(${q}, ${de}, 0)`},{offset:1,transform:`translate3d(${ne}, ${De}, 0)`}],Ne=u?[{offset:0,opacity:1,transform:z},{offset:1,opacity:0,transform:X}]:[{offset:0,opacity:0,transform:X},{offset:1,opacity:1,transform:z}],Ae=u?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Be=(0,b.c)(),Fe=(0,b.c)(),Oe=(0,b.c)(),Ze=W("ion-back-button"),Qe=S(Ze).querySelector(".button-text"),vt=S(Ze).querySelector("ion-icon");Ze.text=c.text,Ze.mode=c.mode,Ze.icon=c.icon,Ze.color=c.color,Ze.disabled=c.disabled,Ze.style.setProperty("display","block"),Ze.style.setProperty("position","fixed"),Fe.addElement(vt),Be.addElement(Qe),Oe.addElement(Ze),Oe.beforeStyles({position:"absolute",top:"0px",[k]:"0px"}).keyframes(se),Be.beforeStyles({"transform-origin":`${j} top`}).beforeAddWrite(()=>{c.style.setProperty("display","none"),Ze.style.setProperty(j,P)}).afterAddWrite(()=>{c.style.setProperty("display",""),Ze.style.setProperty("display","none"),Ze.style.removeProperty(j)}).keyframes(Ne),Fe.beforeStyles({"transform-origin":`${V} center`}).keyframes(Ae),l.addAnimation([Be,Fe,Oe])},x=(l,d,u,c,s,m,p,y)=>{var O,$;const N=d?"right":"left",P=d?`calc(100% - ${s.right}px)`:`${s.left}px`,V=`${s.top}px`,E=d?`-${window.innerWidth-y.right-8}px`:y.x-8+"px",H=y.y-2+"px",X=(null===(O=p.textContent)||void 0===O?void 0:O.trim())===(null===($=c.textContent)||void 0===$?void 0:$.trim()),te=y.height/(m.height-a),J="scale(1)",q=X?`scale(${y.width/m.width}, ${te})`:`scale(${te})`,De=u?[{offset:0,opacity:0,transform:`translate3d(${E}, ${H}, 0) ${q}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${V}, 0) ${J}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${V}, 0) ${J}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${E}, ${H}, 0) ${q}`}],Y=W("ion-title"),R=(0,b.c)();Y.innerText=c.innerText,Y.size=c.size,Y.color=c.color,R.addElement(Y),R.beforeStyles({"transform-origin":`${N} top`,height:`${s.height}px`,display:"",position:"relative",[N]:P}).beforeAddWrite(()=>{c.style.setProperty("opacity","0")}).afterAddWrite(()=>{c.style.setProperty("opacity",""),Y.style.setProperty("display","none")}).keyframes(De),l.addAnimation(R)},w=(l,d)=>{var u;try{const c="cubic-bezier(0.32,0.72,0,1)",s="opacity",m="transform",p="0%",O="rtl"===l.ownerDocument.dir,$=O?"-99.5%":"99.5%",N=O?"33%":"-33%",P=d.enteringEl,j=d.leavingEl,V="back"===d.direction,k=P.querySelector(":scope > ion-content"),E=P.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),T=P.querySelectorAll(":scope > ion-header > ion-toolbar"),H=(0,b.c)(),X=(0,b.c)();if(H.addElement(P).duration((null!==(u=d.duration)&&void 0!==u?u:0)||540).easing(d.easing||c).fill("both").beforeRemoveClass("ion-page-invisible"),j&&null!=l){const q=(0,b.c)();q.addElement(l),H.addAnimation(q)}if(k||0!==T.length||0!==E.length?(X.addElement(k),X.addElement(E)):X.addElement(P.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),H.addAnimation(X),V?X.beforeClearStyles([s]).fromTo("transform",`translateX(${N})`,`translateX(${p})`).fromTo(s,.8,1):X.beforeClearStyles([s]).fromTo("transform",`translateX(${$})`,`translateX(${p})`),k){const q=S(k).querySelector(".transition-effect");if(q){const ne=q.querySelector(".transition-cover"),de=q.querySelector(".transition-shadow"),De=(0,b.c)(),Y=(0,b.c)(),R=(0,b.c)();De.addElement(q).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Y.addElement(ne).beforeClearStyles([s]).fromTo(s,0,.1),R.addElement(de).beforeClearStyles([s]).fromTo(s,.03,.7),De.addAnimation([Y,R]),X.addAnimation([De])}}const z=P.querySelector("ion-header.header-collapse-condense"),{forward:te,backward:J}=((l,d,u,c,s)=>{const m=_(c,u),p=v(s),y=v(c),O=_(s,u),$=null!==m&&null!==p&&!u,N=null!==y&&null!==O&&u;if($){const P=p.getBoundingClientRect(),j=m.getBoundingClientRect(),V=S(m).querySelector(".button-text"),k=V.getBoundingClientRect(),T=S(p).querySelector(".toolbar-title").getBoundingClientRect();x(l,d,u,p,P,T,V,k),h(l,d,u,m,j,V,k,p,T)}else if(N){const P=y.getBoundingClientRect(),j=O.getBoundingClientRect(),V=S(O).querySelector(".button-text"),k=V.getBoundingClientRect(),T=S(y).querySelector(".toolbar-title").getBoundingClientRect();x(l,d,u,y,P,T,V,k),h(l,d,u,O,j,V,k,y,T)}return{forward:$,backward:N}})(H,O,V,P,j);if(T.forEach(q=>{const ne=(0,b.c)();ne.addElement(q),H.addAnimation(ne);const de=(0,b.c)();de.addElement(q.querySelector("ion-title"));const De=(0,b.c)(),Y=Array.from(q.querySelectorAll("ion-buttons,[menuToggle]")),R=q.closest("ion-header"),se=null==R?void 0:R.classList.contains("header-collapse-condense-inactive");let pe;pe=Y.filter(V?Ae=>{const Be=Ae.classList.contains("buttons-collapse");return Be&&!se||!Be}:Ae=>!Ae.classList.contains("buttons-collapse")),De.addElement(pe);const Ee=(0,b.c)();Ee.addElement(q.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ne=(0,b.c)();Ne.addElement(S(q).querySelector(".toolbar-background"));const We=(0,b.c)(),et=q.querySelector("ion-back-button");if(et&&We.addElement(et),ne.addAnimation([de,De,Ee,Ne,We]),De.fromTo(s,.01,1),Ee.fromTo(s,.01,1),V)se||de.fromTo("transform",`translateX(${N})`,`translateX(${p})`).fromTo(s,.01,1),Ee.fromTo("transform",`translateX(${N})`,`translateX(${p})`),We.fromTo(s,.01,1);else if(z||de.fromTo("transform",`translateX(${$})`,`translateX(${p})`).fromTo(s,.01,1),Ee.fromTo("transform",`translateX(${$})`,`translateX(${p})`),Ne.beforeClearStyles([s,"transform"]),(null==R?void 0:R.translucent)?Ne.fromTo("transform",O?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ne.fromTo(s,.01,"var(--opacity)"),te||We.fromTo(s,.01,1),et&&!te){const Be=(0,b.c)();Be.addElement(S(et).querySelector(".button-text")).fromTo("transform",O?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ne.addAnimation(Be)}}),j){const q=(0,b.c)(),ne=j.querySelector(":scope > ion-content"),de=j.querySelectorAll(":scope > ion-header > ion-toolbar"),De=j.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ne||0!==de.length||0!==De.length?(q.addElement(ne),q.addElement(De)):q.addElement(j.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),H.addAnimation(q),V){q.beforeClearStyles([s]).fromTo("transform",`translateX(${p})`,O?"translateX(-100%)":"translateX(100%)");const Y=(0,we.g)(j);H.afterAddWrite(()=>{"normal"===H.getDirection()&&Y.style.setProperty("display","none")})}else q.fromTo("transform",`translateX(${p})`,`translateX(${N})`).fromTo(s,1,.8);if(ne){const Y=S(ne).querySelector(".transition-effect");if(Y){const R=Y.querySelector(".transition-cover"),se=Y.querySelector(".transition-shadow"),pe=(0,b.c)(),Ee=(0,b.c)(),Ne=(0,b.c)();pe.addElement(Y).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ee.addElement(R).beforeClearStyles([s]).fromTo(s,.1,0),Ne.addElement(se).beforeClearStyles([s]).fromTo(s,.7,.03),pe.addAnimation([Ee,Ne]),q.addAnimation([pe])}}de.forEach(Y=>{const R=(0,b.c)();R.addElement(Y);const se=(0,b.c)();se.addElement(Y.querySelector("ion-title"));const pe=(0,b.c)(),Ee=Y.querySelectorAll("ion-buttons,[menuToggle]"),Ne=Y.closest("ion-header"),We=null==Ne?void 0:Ne.classList.contains("header-collapse-condense-inactive"),et=Array.from(Ee).filter(Qe=>{const vt=Qe.classList.contains("buttons-collapse");return vt&&!We||!vt});pe.addElement(et);const Ae=(0,b.c)(),Be=Y.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Be.length>0&&Ae.addElement(Be);const Fe=(0,b.c)();Fe.addElement(S(Y).querySelector(".toolbar-background"));const Oe=(0,b.c)(),Ze=Y.querySelector("ion-back-button");if(Ze&&Oe.addElement(Ze),R.addAnimation([se,pe,Ae,Oe,Fe]),H.addAnimation(R),Oe.fromTo(s,.99,0),pe.fromTo(s,.99,0),Ae.fromTo(s,.99,0),V){if(We||se.fromTo("transform",`translateX(${p})`,O?"translateX(-100%)":"translateX(100%)").fromTo(s,.99,0),Ae.fromTo("transform",`translateX(${p})`,O?"translateX(-100%)":"translateX(100%)"),Fe.beforeClearStyles([s,"transform"]),(null==Ne?void 0:Ne.translucent)?Fe.fromTo("transform","translateX(0px)",O?"translateX(-100%)":"translateX(100%)"):Fe.fromTo(s,"var(--opacity)",0),Ze&&!J){const vt=(0,b.c)();vt.addElement(S(Ze).querySelector(".button-text")).fromTo("transform",`translateX(${p})`,`translateX(${(O?-124:124)+"px"})`),R.addAnimation(vt)}}else We||se.fromTo("transform",`translateX(${p})`,`translateX(${N})`).fromTo(s,.99,0).afterClearStyles([m,s]),Ae.fromTo("transform",`translateX(${p})`,`translateX(${N})`).afterClearStyles([m,s]),Oe.afterClearStyles([s]),se.afterClearStyles([s]),pe.afterClearStyles([s])})}return H}catch(c){throw c}},a=10},2976:(fn,Pt,me)=>{"use strict";me.r(Pt),me.d(Pt,{mdTransitionAnimation:()=>r});var b=me(388),we=me(968);me(4829),me(3716);const r=(W,S)=>{var v,_,f;const h="40px",w="back"===S.direction,l=S.leavingEl,d=(0,we.g)(S.enteringEl),u=d.querySelector("ion-toolbar"),c=(0,b.c)();if(c.addElement(d).fill("both").beforeRemoveClass("ion-page-invisible"),w?c.duration((null!==(v=S.duration)&&void 0!==v?v:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):c.duration((null!==(_=S.duration)&&void 0!==_?_:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${h})`,"translateY(0px)").fromTo("opacity",.01,1),u){const s=(0,b.c)();s.addElement(u),c.addAnimation(s)}if(l&&w){c.duration((null!==(f=S.duration)&&void 0!==f?f:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const s=(0,b.c)();s.addElement((0,we.g)(l)).onFinish(m=>{1===m&&s.elements.length>0&&s.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${h})`).fromTo("opacity",1,0),c.addAnimation(s)}return c}},5820:(fn,Pt,me)=>{"use strict";me.d(Pt,{B:()=>pe,G:()=>Ee,O:()=>Ne,a:()=>x,b:()=>w,c:()=>u,d:()=>We,e:()=>et,f:()=>z,g:()=>J,h:()=>de,i:()=>Y,j:()=>s,k:()=>m,l:()=>a,m:()=>l,n:()=>$,o:()=>H,s:()=>se});var b=me(1528),we=me(4829),nt=me(136),_e=me(1780),r=me(495),W=me(6384),S=me(2032);let v=0,_=0;const f=new WeakMap,h=Ae=>({create:Be=>p(Ae,Be),dismiss:(Be,Fe,Oe)=>k(document,Be,Fe,Ae,Oe),getTop:()=>(0,b.c)(function*(){return H(document,Ae)})()}),x=h("ion-alert"),w=h("ion-action-sheet"),a=h("ion-loading"),l=h("ion-modal"),u=h("ion-popover"),s=Ae=>{typeof document<"u"&&V(document);const Be=v++;Ae.overlayIndex=Be},m=Ae=>(Ae.hasAttribute("id")||(Ae.id="ion-overlay-"+ ++_),Ae.id),p=(Ae,Be)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ae).then(()=>{const Fe=document.createElement(Ae);return Fe.classList.add("overlay-hidden"),Object.assign(Fe,Object.assign(Object.assign({},Be),{hasController:!0})),q(document).appendChild(Fe),new Promise(Oe=>(0,W.c)(Fe,Oe))}):Promise.resolve(),y='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',$=(Ae,Be)=>{const Fe=Ae.querySelector(y);P(Fe,Be)},N=(Ae,Be)=>{const Fe=Array.from(Ae.querySelectorAll(y));P(Fe.length>0?Fe[Fe.length-1]:null,Be)},P=(Ae,Be)=>{let Fe=Ae;const Oe=null==Ae?void 0:Ae.shadowRoot;Oe&&(Fe=Oe.querySelector(y)||Ae),Fe?(0,W.f)(Fe):Be.focus()},V=Ae=>{0===v&&(v=1,Ae.addEventListener("focus",Be=>{((Ae,Be)=>{const Fe=H(Be,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Oe=Ae.target;Fe&&Oe&&!Fe.classList.contains("ion-disable-focus-trap")&&(Fe.shadowRoot?(()=>{if(Fe.contains(Oe))Fe.lastFocus=Oe;else if("ION-TOAST"===Oe.tagName)P(Fe.lastFocus,Fe);else{const vt=Fe.lastFocus;$(Fe,Fe),vt===Be.activeElement&&N(Fe,Fe),Fe.lastFocus=Be.activeElement}})():(()=>{if(Fe===Oe)Fe.lastFocus=void 0;else if("ION-TOAST"===Oe.tagName)P(Fe.lastFocus,Fe);else{const vt=(0,W.g)(Fe);if(!vt.contains(Oe))return;const ht=vt.querySelector(".ion-overlay-wrapper");if(!ht)return;if(ht.contains(Oe)||Oe===vt.querySelector("ion-backdrop"))Fe.lastFocus=Oe;else{const ft=Fe.lastFocus;$(ht,Fe),ft===Be.activeElement&&N(ht,Fe),Fe.lastFocus=Be.activeElement}}})())})(Be,Ae)},!0),Ae.addEventListener("ionBackButton",Be=>{const Fe=H(Ae);null!=Fe&&Fe.backdropDismiss&&Be.detail.register(nt.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Fe.dismiss(void 0,pe)})}),(0,nt.shoudUseCloseWatcher)()||Ae.addEventListener("keydown",Be=>{if("Escape"===Be.key){const Fe=H(Ae);null!=Fe&&Fe.backdropDismiss&&Fe.dismiss(void 0,pe)}}))},k=(Ae,Be,Fe,Oe,Ze)=>{const Qe=H(Ae,Oe,Ze);return Qe?Qe.dismiss(Be,Fe):Promise.reject("overlay does not exist")},T=(Ae,Be)=>((Ae,Be)=>(void 0===Be&&(Be="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ae.querySelectorAll(Be)).filter(Fe=>Fe.overlayIndex>0)))(Ae,Be).filter(Fe=>!(Ae=>Ae.classList.contains("overlay-hidden"))(Fe)),H=(Ae,Be,Fe)=>{const Oe=T(Ae,Be);return void 0===Fe?Oe[Oe.length-1]:Oe.find(Ze=>Ze.id===Fe)},X=(Ae=!1)=>{const Fe=q(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Fe&&(Ae?Fe.setAttribute("aria-hidden","true"):Fe.removeAttribute("aria-hidden"))},z=function(){var Ae=(0,b.c)(function*(Be,Fe,Oe,Ze,Qe){var vt,ht;if(Be.presented)return;X(!0),void 0!==we.d&&T(we.d).forEach(ln=>ln.setAttribute("aria-hidden","true")),Be.presented=!0,Be.willPresent.emit(),null===(vt=Be.willPresentShorthand)||void 0===vt||vt.emit();const ft=(0,_e.b)(Be),kt=Be.enterAnimation?Be.enterAnimation:_e.c.get(Fe,"ios"===ft?Oe:Ze);(yield ne(Be,kt,Be.el,Qe))&&(Be.didPresent.emit(),null===(ht=Be.didPresentShorthand)||void 0===ht||ht.emit()),"ION-TOAST"!==Be.el.tagName&&te(Be.el),Be.keyboardClose&&(null===document.activeElement||!Be.el.contains(document.activeElement))&&Be.el.focus(),Be.el.removeAttribute("aria-hidden")});return function(Fe,Oe,Ze,Qe,vt){return Ae.apply(this,arguments)}}(),te=function(){var Ae=(0,b.c)(function*(Be){let Fe=document.activeElement;if(!Fe)return;const Oe=null==Fe?void 0:Fe.shadowRoot;Oe&&(Fe=Oe.querySelector(y)||Fe),yield Be.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Fe.focus()});return function(Fe){return Ae.apply(this,arguments)}}(),J=function(){var Ae=(0,b.c)(function*(Be,Fe,Oe,Ze,Qe,vt,ht){var ft,kt,qt;if(!Be.presented)return!1;void 0!==we.d&&1===T(we.d).length&&X(!1),Be.presented=!1;try{Be.el.style.setProperty("pointer-events","none"),Be.willDismiss.emit({data:Fe,role:Oe}),null===(ft=Be.willDismissShorthand)||void 0===ft||ft.emit({data:Fe,role:Oe});const Lt=(0,_e.b)(Be),ln=Be.leaveAnimation?Be.leaveAnimation:_e.c.get(Ze,"ios"===Lt?Qe:vt);Oe!==Ee&&(yield ne(Be,ln,Be.el,ht)),Be.didDismiss.emit({data:Fe,role:Oe}),null===(kt=Be.didDismissShorthand)||void 0===kt||kt.emit({data:Fe,role:Oe}),(f.get(Be)||[]).forEach(Ht=>Ht.destroy()),f.delete(Be),Be.el.classList.add("overlay-hidden"),Be.el.style.removeProperty("pointer-events"),void 0!==Be.el.lastFocus&&(Be.el.lastFocus=void 0)}catch(Lt){console.error(Lt)}return Be.el.remove(),void 0!==we.d&&(null===(qt=H(we.d))||void 0===qt||qt.removeAttribute("aria-hidden")),!0});return function(Fe,Oe,Ze,Qe,vt,ht,ft){return Ae.apply(this,arguments)}}(),q=Ae=>Ae.querySelector("ion-app")||Ae.body,ne=function(){var Ae=(0,b.c)(function*(Be,Fe,Oe,Ze){Oe.classList.remove("overlay-hidden");const vt=Fe(Be.el,Ze);(!Be.animated||!_e.c.getBoolean("animated",!0))&&vt.duration(0),Be.keyboardClose&&vt.beforeAddWrite(()=>{const ft=Oe.ownerDocument.activeElement;null!=ft&&ft.matches("input,ion-input, ion-textarea")&&ft.blur()});const ht=f.get(Be)||[];return f.set(Be,[...ht,vt]),yield vt.play(),!0});return function(Fe,Oe,Ze,Qe){return Ae.apply(this,arguments)}}(),de=(Ae,Be)=>{let Fe;const Oe=new Promise(Ze=>Fe=Ze);return De(Ae,Be,Ze=>{Fe(Ze.detail)}),Oe},De=(Ae,Be,Fe)=>{const Oe=Ze=>{(0,W.b)(Ae,Be,Oe),Fe(Ze)};(0,W.a)(Ae,Be,Oe)},Y=Ae=>"cancel"===Ae||Ae===pe,R=Ae=>Ae(),se=(Ae,Be)=>{if("function"==typeof Ae)return _e.c.get("_zoneGate",R)(()=>{try{return Ae(Be)}catch(Oe){throw Oe}})},pe="backdrop",Ee="gesture",Ne=39,We=Ae=>{let Fe,Be=!1;const Oe=(0,r.C)(),Ze=(ht=!1)=>{if(Fe&&!ht)return{delegate:Fe,inline:Be};const{el:ft,hasController:kt,delegate:qt}=Ae;return Be=null!==ft.parentNode&&!kt,Fe=Be?qt||Oe:qt,{inline:Be,delegate:Fe}};return{attachViewToDom:function(){var ht=(0,b.c)(function*(ft){const{delegate:kt}=Ze(!0);if(kt)return yield kt.attachViewToDom(Ae.el,ft);const{hasController:qt}=Ae;if(qt&&void 0!==ft)throw new Error("framework delegate is missing");return null});return function(kt){return ht.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:ht}=Ze();ht&&void 0!==Ae.el&&ht.removeViewFromDom(Ae.el.parentElement,Ae.el)}}},et=()=>{let Ae;const Be=()=>{Ae&&(Ae(),Ae=void 0)};return{addClickListener:(Oe,Ze)=>{Be();const Qe=void 0!==Ze?document.getElementById(Ze):null;Qe?Ae=((ht,ft)=>{const kt=()=>{ft.present()};return ht.addEventListener("click",kt),()=>{ht.removeEventListener("click",kt)}})(Qe,Oe):(0,S.p)(`A trigger element with the ID "${Ze}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Oe)},removeClickListener:Be}}},8637:(fn,Pt,me)=>{"use strict";me.d(Pt,{H:()=>c,b:()=>qt,c:()=>y,f:()=>Ae,g:()=>p,h:()=>d,p:()=>_n,r:()=>zt});var b=me(1528);let nt,_e,r=!1,W=!1;const f={},a=qe=>"object"==(qe=typeof qe)||"function"===qe;function l(qe){var yt,Nt,Ft;return null!==(Ft=null===(Nt=null===(yt=qe.head)||void 0===yt?void 0:yt.querySelector('meta[name="csp-nonce"]'))||void 0===Nt?void 0:Nt.getAttribute("content"))&&void 0!==Ft?Ft:void 0}const d=(qe,yt,...Nt)=>{let Ft=null,$t=!1,hn=!1;const yn=[],En=Cn=>{for(let Zn=0;Zn<Cn.length;Zn++)Ft=Cn[Zn],Array.isArray(Ft)?En(Ft):null!=Ft&&"boolean"!=typeof Ft&&(($t="function"!=typeof qe&&!a(Ft))&&(Ft=String(Ft)),$t&&hn?yn[yn.length-1].$text$+=Ft:yn.push($t?u(null,Ft):Ft),hn=$t)};if(En(Nt),yt){const Cn=yt.className||yt.class;Cn&&(yt.class="object"!=typeof Cn?Cn:Object.keys(Cn).filter(Zn=>Cn[Zn]).join(" "))}const Sn=u(qe,null);return Sn.$attrs$=yt,yn.length>0&&(Sn.$children$=yn),Sn},u=(qe,yt)=>({$flags$:0,$tag$:qe,$text$:yt,$elm$:null,$children$:null,$attrs$:null}),c={},p=qe=>bt(qe).$hostElement$,y=(qe,yt,Nt)=>{const Ft=p(qe);return{emit:$t=>O(Ft,yt,{bubbles:!!(4&Nt),composed:!!(2&Nt),cancelable:!!(1&Nt),detail:$t})}},O=(qe,yt,Nt)=>{const Ft=an.ce(yt,Nt);return qe.dispatchEvent(Ft),Ft},$=new WeakMap,V=(qe,yt)=>"sc-"+qe.$tagName$,k=(qe,yt,Nt,Ft,$t,hn)=>{if(Nt!==Ft){let yn=Pe(qe,yt),En=yt.toLowerCase();if("class"===yt){const Sn=qe.classList,Cn=T(Nt),Zn=T(Ft);Sn.remove(...Cn.filter(tr=>tr&&!Zn.includes(tr))),Sn.add(...Zn.filter(tr=>tr&&!Cn.includes(tr)))}else if("style"===yt){for(const Sn in Nt)(!Ft||null==Ft[Sn])&&(Sn.includes("-")?qe.style.removeProperty(Sn):qe.style[Sn]="");for(const Sn in Ft)(!Nt||Ft[Sn]!==Nt[Sn])&&(Sn.includes("-")?qe.style.setProperty(Sn,Ft[Sn]):qe.style[Sn]=Ft[Sn])}else if("ref"===yt)Ft&&Ft(qe);else if(yn||"o"!==yt[0]||"n"!==yt[1]){const Sn=a(Ft);if((yn||Sn&&null!==Ft)&&!$t)try{if(qe.tagName.includes("-"))qe[yt]=Ft;else{const Cn=null==Ft?"":Ft;"list"===yt?yn=!1:(null==Nt||qe[yt]!=Cn)&&(qe[yt]=Cn)}}catch{}null==Ft||!1===Ft?(!1!==Ft||""===qe.getAttribute(yt))&&qe.removeAttribute(yt):(!yn||4&hn||$t)&&!Sn&&qe.setAttribute(yt,Ft=!0===Ft?"":Ft)}else yt="-"===yt[2]?yt.slice(3):Pe(jt,En)?En.slice(2):En[2]+yt.slice(3),Nt&&an.rel(qe,yt,Nt,!1),Ft&&an.ael(qe,yt,Ft,!1)}},E=/\s/,T=qe=>qe?qe.split(E):[],H=(qe,yt,Nt,Ft)=>{const $t=11===yt.$elm$.nodeType&&yt.$elm$.host?yt.$elm$.host:yt.$elm$,hn=qe&&qe.$attrs$||f,yn=yt.$attrs$||f;for(Ft in hn)Ft in yn||k($t,Ft,hn[Ft],void 0,Nt,yt.$flags$);for(Ft in yn)k($t,Ft,hn[Ft],yn[Ft],Nt,yt.$flags$)},X=(qe,yt,Nt,Ft)=>{const $t=yt.$children$[Nt];let yn,En,hn=0;if(null!==$t.$text$)yn=$t.$elm$=Gt.createTextNode($t.$text$);else{if(r||(r="svg"===$t.$tag$),yn=$t.$elm$=Gt.createElementNS(r?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",$t.$tag$),r&&"foreignObject"===$t.$tag$&&(r=!1),H(null,$t,r),(qe=>null!=qe)(nt)&&yn["s-si"]!==nt&&yn.classList.add(yn["s-si"]=nt),$t.$children$)for(hn=0;hn<$t.$children$.length;++hn)En=X(qe,$t,hn),En&&yn.appendChild(En);"svg"===$t.$tag$?r=!1:"foreignObject"===yn.tagName&&(r=!0)}return yn},z=(qe,yt,Nt,Ft,$t,hn)=>{let En,yn=qe;for(yn.shadowRoot&&yn.tagName===_e&&(yn=yn.shadowRoot);$t<=hn;++$t)Ft[$t]&&(En=X(null,Nt,$t),En&&(Ft[$t].$elm$=En,yn.insertBefore(En,yt)))},te=(qe,yt,Nt)=>{for(let Ft=yt;Ft<=Nt;++Ft){const $t=qe[Ft];if($t){const hn=$t.$elm$;de($t),hn&&hn.remove()}}},q=(qe,yt)=>qe.$tag$===yt.$tag$,ne=(qe,yt)=>{const Nt=yt.$elm$=qe.$elm$,Ft=qe.$children$,$t=yt.$children$,hn=yt.$tag$,yn=yt.$text$;null===yn?(r="svg"===hn||"foreignObject"!==hn&&r,H(qe,yt,r),null!==Ft&&null!==$t?((qe,yt,Nt,Ft)=>{let lr,$t=0,hn=0,yn=yt.length-1,En=yt[0],Sn=yt[yn],Cn=Ft.length-1,Zn=Ft[0],tr=Ft[Cn];for(;$t<=yn&&hn<=Cn;)null==En?En=yt[++$t]:null==Sn?Sn=yt[--yn]:null==Zn?Zn=Ft[++hn]:null==tr?tr=Ft[--Cn]:q(En,Zn)?(ne(En,Zn),En=yt[++$t],Zn=Ft[++hn]):q(Sn,tr)?(ne(Sn,tr),Sn=yt[--yn],tr=Ft[--Cn]):q(En,tr)?(ne(En,tr),qe.insertBefore(En.$elm$,Sn.$elm$.nextSibling),En=yt[++$t],tr=Ft[--Cn]):q(Sn,Zn)?(ne(Sn,Zn),qe.insertBefore(Sn.$elm$,En.$elm$),Sn=yt[--yn],Zn=Ft[++hn]):(lr=X(yt&&yt[hn],Nt,hn),Zn=Ft[++hn],lr&&En.$elm$.parentNode.insertBefore(lr,En.$elm$));$t>yn?z(qe,null==Ft[Cn+1]?null:Ft[Cn+1].$elm$,Nt,Ft,hn,Cn):hn>Cn&&te(yt,$t,yn)})(Nt,Ft,yt,$t):null!==$t?(null!==qe.$text$&&(Nt.textContent=""),z(Nt,null,yt,$t,0,$t.length-1)):null!==Ft&&te(Ft,0,Ft.length-1),r&&"svg"===hn&&(r=!1)):qe.$text$!==yn&&(Nt.data=yn)},de=qe=>{qe.$attrs$&&qe.$attrs$.ref&&qe.$attrs$.ref(null),qe.$children$&&qe.$children$.map(de)},Y=(qe,yt)=>{yt&&!qe.$onRenderResolve$&&yt["s-p"]&&yt["s-p"].push(new Promise(Nt=>qe.$onRenderResolve$=Nt))},R=(qe,yt)=>{if(qe.$flags$|=16,!(4&qe.$flags$))return Y(qe,qe.$ancestorComponent$),rn(()=>se(qe,yt));qe.$flags$|=512},se=(qe,yt)=>{const Ft=qe.$lazyInstance$;return yt&&(qe.$flags$|=256,qe.$queuedListeners$&&(qe.$queuedListeners$.map(([hn,yn])=>Fe(Ft,hn,yn)),qe.$queuedListeners$=void 0)),pe(void 0,()=>Ne(qe,Ft,yt))},pe=(qe,yt)=>Ee(qe)?qe.then(yt):yt(),Ee=qe=>qe instanceof Promise||qe&&qe.then&&"function"==typeof qe.then,Ne=function(){var qe=(0,b.c)(function*(yt,Nt,Ft){var $t;const hn=yt.$hostElement$,En=hn["s-rc"];Ft&&(qe=>{const yt=qe.$cmpMeta$,Nt=qe.$hostElement$,Ft=yt.$flags$,hn=((qe,yt,Nt,Ft)=>{var $t;let hn=V(yt);const yn=wt.get(hn);if(qe=11===qe.nodeType?qe:Gt,yn)if("string"==typeof yn){let Sn,En=$.get(qe=qe.head||qe);if(En||$.set(qe,En=new Set),!En.has(hn)){{Sn=Gt.createElement("style"),Sn.innerHTML=yn;const Cn=null!==($t=an.$nonce$)&&void 0!==$t?$t:l(Gt);null!=Cn&&Sn.setAttribute("nonce",Cn),qe.insertBefore(Sn,qe.querySelector("link"))}En&&En.add(hn)}}else qe.adoptedStyleSheets.includes(yn)||(qe.adoptedStyleSheets=[...qe.adoptedStyleSheets,yn]);return hn})(Nt.shadowRoot?Nt.shadowRoot:Nt.getRootNode(),yt);10&Ft&&(Nt["s-sc"]=hn,Nt.classList.add(hn+"-h"))})(yt);We(yt,Nt),En&&(En.map(Cn=>Cn()),hn["s-rc"]=void 0);{const Cn=null!==($t=hn["s-p"])&&void 0!==$t?$t:[],Zn=()=>et(yt);0===Cn.length?Zn():(Promise.all(Cn).then(Zn),yt.$flags$|=4,Cn.length=0)}});return function(Nt,Ft,$t){return qe.apply(this,arguments)}}(),We=(qe,yt,Nt)=>{try{yt=yt.render(),qe.$flags$&=-17,qe.$flags$|=2,((qe,yt)=>{const Nt=qe.$hostElement$,Ft=qe.$vnode$||u(null,null),$t=(qe=>qe&&qe.$tag$===c)(yt)?yt:d(null,null,yt);_e=Nt.tagName,$t.$tag$=null,$t.$flags$|=4,qe.$vnode$=$t,$t.$elm$=Ft.$elm$=Nt.shadowRoot||Nt,nt=Nt["s-sc"],ne(Ft,$t)})(qe,yt)}catch(Ft){Ge(Ft,qe.$hostElement$)}return null},et=qe=>{const Nt=qe.$hostElement$,$t=qe.$lazyInstance$,hn=qe.$ancestorComponent$;64&qe.$flags$||(qe.$flags$|=64,Oe(Nt),Fe($t,"componentDidLoad"),qe.$onReadyResolve$(Nt),hn||Be()),qe.$onInstanceResolve$(Nt),qe.$onRenderResolve$&&(qe.$onRenderResolve$(),qe.$onRenderResolve$=void 0),512&qe.$flags$&&Ct(()=>R(qe,!1)),qe.$flags$&=-517},Ae=qe=>{{const yt=bt(qe),Nt=yt.$hostElement$.isConnected;return Nt&&2==(18&yt.$flags$)&&R(yt,!1),Nt}},Be=qe=>{Oe(Gt.documentElement),Ct(()=>O(jt,"appload",{detail:{namespace:"ionicpwaelements"}}))},Fe=(qe,yt,Nt)=>{if(qe&&qe[yt])try{return qe[yt](Nt)}catch(Ft){Ge(Ft)}},Oe=qe=>qe.classList.add("hydrated"),vt=(qe,yt,Nt)=>{if(yt.$members$){const Ft=Object.entries(yt.$members$),$t=qe.prototype;if(Ft.map(([hn,[yn]])=>{31&yn||2&Nt&&32&yn?Object.defineProperty($t,hn,{get(){return((qe,yt)=>bt(this).$instanceValues$.get(yt))(0,hn)},set(En){((qe,yt,Nt,Ft)=>{const $t=bt(qe),hn=$t.$instanceValues$.get(yt),yn=$t.$flags$,En=$t.$lazyInstance$;Nt=((qe,yt)=>null==qe||a(qe)?qe:4&yt?"false"!==qe&&(""===qe||!!qe):2&yt?parseFloat(qe):1&yt?String(qe):qe)(Nt,Ft.$members$[yt][0]);const Sn=Number.isNaN(hn)&&Number.isNaN(Nt);(!(8&yn)||void 0===hn)&&Nt!==hn&&!Sn&&($t.$instanceValues$.set(yt,Nt),En&&2==(18&yn)&&R($t,!1))})(this,hn,En,yt)},configurable:!0,enumerable:!0}):1&Nt&&64&yn&&Object.defineProperty($t,hn,{value(...En){const Sn=bt(this);return Sn.$onInstancePromise$.then(()=>Sn.$lazyInstance$[hn](...En))}})}),1&Nt){const hn=new Map;$t.attributeChangedCallback=function(yn,En,Sn){an.jmp(()=>{const Cn=hn.get(yn);if(this.hasOwnProperty(Cn))Sn=this[Cn],delete this[Cn];else if($t.hasOwnProperty(Cn)&&"number"==typeof this[Cn]&&this[Cn]==Sn)return;this[Cn]=(null!==Sn||"boolean"!=typeof this[Cn])&&Sn})},qe.observedAttributes=Ft.filter(([yn,En])=>15&En[0]).map(([yn,En])=>{const Sn=En[1]||yn;return hn.set(Sn,yn),Sn})}}return qe},ht=function(){var qe=(0,b.c)(function*(yt,Nt,Ft,$t,hn){if(!(32&Nt.$flags$)){Nt.$flags$|=32;{if((hn=ze(Ft)).then){const Cn=()=>{};hn=yield hn,Cn()}hn.isProxied||(vt(hn,Ft,2),hn.isProxied=!0);const Sn=()=>{};Nt.$flags$|=8;try{new hn(Nt)}catch(Cn){Ge(Cn)}Nt.$flags$&=-9,Sn()}if(hn.style){let Sn=hn.style;const Cn=V(Ft);if(!wt.has(Cn)){const Zn=()=>{};((qe,yt,Nt)=>{let Ft=wt.get(qe);wn&&Nt?(Ft=Ft||new CSSStyleSheet,"string"==typeof Ft?Ft=yt:Ft.replaceSync(yt)):Ft=yt,wt.set(qe,Ft)})(Cn,Sn,!!(1&Ft.$flags$)),Zn()}}}const yn=Nt.$ancestorComponent$,En=()=>R(Nt,!0);yn&&yn["s-rc"]?yn["s-rc"].push(En):En()});return function(Nt,Ft,$t,hn,yn){return qe.apply(this,arguments)}}(),qt=(qe,yt={})=>{var Nt;const $t=[],hn=yt.exclude||[],yn=jt.customElements,En=Gt.head,Sn=En.querySelector("meta[charset]"),Cn=Gt.createElement("style"),Zn=[];let tr,lr=!0;Object.assign(an,yt),an.$resourcesUrl$=new URL(yt.resourcesUrl||"./",Gt.baseURI).href,qe.map(Pn=>{Pn[1].map(Wn=>{const G={$flags$:Wn[0],$tagName$:Wn[1],$members$:Wn[2],$listeners$:Wn[3]};G.$members$=Wn[2],G.$listeners$=Wn[3];const ye=G.$tagName$,Se=class extends HTMLElement{constructor(D){super(D),Et(D=this,G),1&G.$flags$&&D.attachShadow({mode:"open"})}connectedCallback(){tr&&(clearTimeout(tr),tr=null),lr?Zn.push(this):an.jmp(()=>(qe=>{if(!(1&an.$flags$)){const yt=bt(qe),Nt=yt.$cmpMeta$,Ft=()=>{};if(1&yt.$flags$)Lt(qe,yt,Nt.$listeners$);else{yt.$flags$|=1;{let $t=qe;for(;$t=$t.parentNode||$t.host;)if($t["s-p"]){Y(yt,yt.$ancestorComponent$=$t);break}}Nt.$members$&&Object.entries(Nt.$members$).map(([$t,[hn]])=>{if(31&hn&&qe.hasOwnProperty($t)){const yn=qe[$t];delete qe[$t],qe[$t]=yn}}),ht(qe,yt,Nt)}Ft()}})(this))}disconnectedCallback(){an.jmp(()=>(qe=>{if(!(1&an.$flags$)){const yt=bt(this),Nt=yt.$lazyInstance$;yt.$rmListeners$&&(yt.$rmListeners$.map(Ft=>Ft()),yt.$rmListeners$=void 0),Fe(Nt,"disconnectedCallback")}})())}componentOnReady(){return bt(this).$onReadyPromise$}};G.$lazyBundleId$=Pn[0],!hn.includes(ye)&&!yn.get(ye)&&($t.push(ye),yn.define(ye,vt(Se,G,1)))})});{Cn.innerHTML=$t+"{visibility:hidden}.hydrated{visibility:inherit}",Cn.setAttribute("data-styles","");const Pn=null!==(Nt=an.$nonce$)&&void 0!==Nt?Nt:l(Gt);null!=Pn&&Cn.setAttribute("nonce",Pn),En.insertBefore(Cn,Sn?Sn.nextSibling:En.firstChild)}lr=!1,Zn.length?Zn.map(Pn=>Pn.connectedCallback()):an.jmp(()=>tr=setTimeout(Be,30))},Lt=(qe,yt,Nt,Ft)=>{Nt&&Nt.map(([$t,hn,yn])=>{const En=sn(qe,$t),Sn=ln(yt,yn),Cn=Ht($t);an.ael(En,hn,Sn,Cn),(yt.$rmListeners$=yt.$rmListeners$||[]).push(()=>an.rel(En,hn,Sn,Cn))})},ln=(qe,yt)=>Nt=>{try{256&qe.$flags$?qe.$lazyInstance$[yt](Nt):(qe.$queuedListeners$=qe.$queuedListeners$||[]).push([yt,Nt])}catch(Ft){Ge(Ft)}},sn=(qe,yt)=>16&yt?Gt.body:qe,Ht=qe=>0!=(2&qe),Jt=new WeakMap,bt=qe=>Jt.get(qe),zt=(qe,yt)=>Jt.set(yt.$lazyInstance$=qe,yt),Et=(qe,yt)=>{const Nt={$flags$:0,$hostElement$:qe,$cmpMeta$:yt,$instanceValues$:new Map};return Nt.$onInstancePromise$=new Promise(Ft=>Nt.$onInstanceResolve$=Ft),Nt.$onReadyPromise$=new Promise(Ft=>Nt.$onReadyResolve$=Ft),qe["s-p"]=[],qe["s-rc"]=[],Lt(qe,Nt,yt.$listeners$),Jt.set(qe,Nt)},Pe=(qe,yt)=>yt in qe,Ge=(qe,yt)=>(0,console.error)(qe,yt),Ie=new Map,ze=(qe,yt,Nt)=>{const Ft=qe.$tagName$.replace(/-/g,"_"),$t=qe.$lazyBundleId$,hn=Ie.get($t);if(hn)return hn[Ft];if(!Nt||!BUILD.hotModuleReplacement){const yn=En=>(Ie.set($t,En),En[Ft]);switch($t){case"pwa-action-sheet":return me.e(2152).then(me.bind(me,2152)).then(yn,Ge);case"pwa-camera-modal":return me.e(6056).then(me.bind(me,6056)).then(yn,Ge);case"pwa-toast":return me.e(3276).then(me.bind(me,3276)).then(yn,Ge);case"pwa-camera-modal-instance":return me.e(1148).then(me.bind(me,1148)).then(yn,Ge);case"pwa-camera":return me.e(580).then(me.bind(me,580)).then(yn,Ge)}}return me(996)(`./${$t}.entry.js`).then(yn=>(Ie.set($t,yn),yn[Ft]),Ge)},wt=new Map,jt=typeof window<"u"?window:{},Gt=jt.document||{head:{}},an={$flags$:0,$resourcesUrl$:"",jmp:qe=>qe(),raf:qe=>requestAnimationFrame(qe),ael:(qe,yt,Nt,Ft)=>qe.addEventListener(yt,Nt,Ft),rel:(qe,yt,Nt,Ft)=>qe.removeEventListener(yt,Nt,Ft),ce:(qe,yt)=>new CustomEvent(qe,yt)},_n=qe=>Promise.resolve(qe),wn=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Dt=[],xt=[],ot=(qe,yt)=>Nt=>{qe.push(Nt),W||(W=!0,yt&&4&an.$flags$?Ct(ct):an.raf(ct))},Ye=qe=>{for(let yt=0;yt<qe.length;yt++)try{qe[yt](performance.now())}catch(Nt){Ge(Nt)}qe.length=0},ct=()=>{Ye(Dt),Ye(xt),(W=Dt.length>0)&&an.raf(ct)},Ct=qe=>_n().then(qe),rn=ot(xt,!0)},5193:(fn,Pt,me)=>{"use strict";me.d(Pt,{a0:()=>O,uM:()=>y,O$:()=>p,s1:()=>m});var b=me(1528),we=me(6400);const nt=(0,we.C_)("App",{web:()=>me.e(4736).then(me.bind(me,4736)).then($=>new $.AppWeb)});var _e=me(4708),r=me(6124),W=me(3428);const v=(0,we.C_)("LocalNotifications",{web:()=>me.e(1208).then(me.bind(me,1208)).then($=>new $.LocalNotificationsWeb)});var _=me(9352),f=me(4496),h=me(9240),x=me(5624),w=me(3332),a=me(6819),l=me(1028),d=me(7136),u=me(4668),c=me(4500),s=me(5020),m="DesktopPWA",p=!1;const y="https://is2you2.github.io/";window.p5=_;let O=(()=>{var $;class N{constructor(j,V,k,E,T,H,X,z,te,J,q){this.platform=j,this.nakama=H,this.modalCtrl=z,this.lang=J,j.is("desktop")?m="DesktopPWA":j.is("mobileweb")?m="MobilePWA":j.is("android")?m="Android":j.is("iphone")&&(m="iOS"),p=j.is("electron"),X.initialize(()=>{let ne=q.CatchGETs(location.href)||{};q.initialize(),H.AddressToQRCodeAct(ne),E.initialize(),"Android"==m&&v.checkPermissions().then(function(){var de=(0,b.c)(function*(De){"granted"!=De.display&&(yield v.requestPermissions())});return function(De){return de.apply(this,arguments)}}()),E.load_settings(),X.GetFileListFromDB("tmp_files",de=>{de.forEach(De=>X.removeFileFromUserPath(De))})}),J.Callback_nakama=()=>{H.initialize(),H.check_if_online(),J.isFirstTime=!1},this.init_admob(),("Android"==m||"iOS"==m)&&nt.addListener("appUrlOpen",ne=>{k.run(()=>{const de=ne.url.split(".app").pop();de&&V.navigateByUrl(de)})}),E.SetListener("click",ne=>{try{let de,Y,De=ne.data.page.componentProps;switch(ne.data.page.component){case"ChatRoomPage":Y=De.info.noti_id;break;case"MinimalChatPage":de=r._,Y=De.noti_id;break;case"AddTodoMenuPage":De={data:De.data},Y=JSON.parse(De.data).id;break;case"NakamaReqContTitle":let R=H.servers[De.data.isOfficial][De.data.Target],se="";return se+=`${J.text.Nakama.ReqContServer}: ${De.data.serverName}<br>`,se+=`${J.text.Nakama.ReqContUserName}: ${De.data.userName}`,void te.create({header:J.text.Nakama.ReqContTitle,message:se,buttons:[{text:J.text.Nakama.ReqContAccept,handler:()=>{R.client.addGroupUsers(R.session,De.data.group_id,[De.data.user_id]).then(pe=>{pe||console.warn("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),R.client.deleteNotifications(R.session,[De.data.noti_id]).then(Ee=>{Ee?H.update_notifications(De.data.isOfficial,De.data.Target):console.warn("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",Ee)})})}},{text:J.text.Nakama.ReqContReject,handler:()=>{R.client.kickGroupUsers(R.session,De.data.group_id,[De.data.user_id]).then(pe=>{pe||console.warn("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),R.client.deleteNotifications(R.session,[De.data.noti_id]),H.update_notifications(De.data.isOfficial,De.data.Target)})},cssClass:"redfont"}]}).then(pe=>pe.present());case"AllUserNotification":break;default:console.warn("\uc900\ube44\ub41c \ud398\uc774\uc9c0\uac00 \uc544\ub2d8: ",ne.data.page.component)}if(Y==E.Current)return;this.waiting_open_page(ne,de,De)}catch{if("AllUserNotification"===ne.data.type){let Y=`<div>${ne.data.body}</div>`;te.create({header:ne.data.title,message:new _e.AF(ne.data.image?`<img *ngIf="${ne.data.image}" src="${ne.data.image}" alt="noti_image" style="border-radius: 8px">`+Y:Y),buttons:[{text:J.text.Nakama.LocalNotiOK,handler:()=>{H.servers[ne.data.isOfficial][ne.data.target].client.deleteNotifications(H.servers[ne.data.isOfficial][ne.data.target].session,[ne.data.noti_id])}}]}).then(se=>se.present())}else console.log("\uc900\ube44\ub41c \uc54c\ub9bc \ud589\ub3d9 \uc5c6\uc74c: ",ne.data)}}),T.enable(),H.on_socket_connected.connection_check=()=>{H.check_if_online()},H.on_socket_disconnected.connection_check=()=>{H.check_if_online()}}waiting_open_page(j,V,k){var E=this;return(0,b.c)(function*(){try{let T=yield E.modalCtrl.create({component:V,componentProps:k});switch(j.data.page.component){case"ChatRoomPage":if(!E.lang.text.ChatRoom.YouReadHereLast)throw"ChatRoomPage \ubc88\uc5ed \uc900\ube44\uc911";if(k.info.noti_id)throw k={info:E.nakama.channels_orig[k.info.isOfficial][k.info.target][k.info.id]},"ChatRoomPage props \uc7ac\uc815\ube44";E.nakama.go_to_chatroom_without_admob_act(k.info);break;case"MinimalChatPage":if(!E.lang.text.MinimalChat.leave_chat_group)throw"MinimalChatPage \ubc88\uc5ed \uc900\ube44\uc911";T.present();break;case"AddTodoMenuPage":if(!E.lang.text.TodoDetail.ToggleWorkers)throw"AddTodoMenuPage \ubc88\uc5ed \uc900\ube44\uc911";E.nakama.open_add_todo_page(k.data);break;default:console.warn("\uc900\ube44\ub41c \ud398\uc774\uc9c0 \ud589\ub3d9 \uc5c6\uc74c: ",j.data.page.component),T.present()}}catch(T){console.log("retry open notification clicked because... : ",T),setTimeout(()=>{E.waiting_open_page(j,V,k)},200)}})()}init_admob(){this.platform.ready().then(()=>{W.i8.initialize({testingDevices:["1bc3817e4873fd6f"],initializeForTesting:!0})})}}return($=N).\u0275fac=function(j){return new(j||$)(f.GI1(h.WU),f.GI1(w.E5),f.GI1(f.WW2),f.GI1(a.s),f.GI1(l.Y),f.GI1(d.h),f.GI1(u.k),f.GI1(x.qS),f.GI1(x.iW),f.GI1(c.o),f.GI1(s.A1))},$.\u0275cmp=f.In1({type:$,selectors:[["app-root"]],decls:2,vars:0,template:function(j,V){1&j&&(f.I0R(0,"ion-app"),f.wR5(1,"ion-router-outlet"),f.C$Y())},dependencies:[x.qk,x.Cg]}),N})()},5020:(fn,Pt,me)=>{"use strict";me.d(Pt,{A1:()=>a,KY:()=>w,Mp:()=>x});var b=me(1528),we=me(4972),_e=me(9352),W=me(4496),S=me(3824),v=me(4500),_=me(4476),f=me(4668),h=me(5624),x=!1;const w=8e4;let a=(()=>{var l;class d{constructor(c,s,m,p,y){this.p5toast=c,this.lang=s,this.sanitizer=m,this.indexed=p,this.loadingCtrl=y,x=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}initialize(){this.p5key=new _e(c=>{c.setup=()=>{c.noCanvas(),c.noLoop(),c.KeyShortCut={}},c.keyPressed=s=>{switch(s.code){case"Backquote":c.KeyShortCut.Backquote&&c.KeyShortCut.Backquote();break;case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":case"Digit0":if(c.KeyShortCut.Digit){let m=(Number(s.code.slice(-1))-1+10)%10;c.KeyShortCut.Digit(m)}break;case"KeyQ":case"KeyW":case"KeyE":case"KeyR":c.KeyShortCut.BottomTab&&c.KeyShortCut.BottomTab(s.code.slice(-1));break;case"KeyA":c.KeyShortCut.AddAct&&c.KeyShortCut.AddAct();break;case"KeyS":c.KeyShortCut.SKeyAct&&c.KeyShortCut.SKeyAct();break;case"KeyD":c.KeyShortCut.DeleteAct&&c.KeyShortCut.DeleteAct();break;case"KeyF":c.KeyShortCut.FKeyAct&&c.KeyShortCut.FKeyAct();break;case"Enter":c.KeyShortCut.EnterAct&&c.KeyShortCut.EnterAct();break;case"Escape":c.KeyShortCut.Escape&&c.KeyShortCut.Escape();break;case"KeyZ":case"KeyX":case"KeyC":case"KeyV":c.KeyShortCut.HistoryAct&&c.KeyShortCut.HistoryAct(s.code.slice(-1))}}})}UpdateIsDarkMode(c){x=c}GetExactDarkMode(){return x=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}CatchGETs(c){const s=c.split("?");if(s.length>1){const m=s[1].split("&");let p={};for(let y=0,O=m.length;y<O;y++){const $=m[y].split("=");p[$[0]]||(p[$[0]]=[]),p[$[0]].push(decodeURIComponent($[1]))}return p}}readasQRCodeFromId(c){try{let s=new we({content:`[${JSON.stringify(c)}]`,padding:4,width:8,height:8,color:x?"#bbb":"#444",background:x?"#111":"#fff",ecl:"M"}).svg();return this.sanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${btoa(s)}`)}catch(s){console.log("readasQRCodeFromId: ",s),this.p5toast.show({text:`${this.lang.text.GlobalAct.failed_to_gen_qr}: ${s}`})}}readasQRCodeFromString(c){try{let s=new we({content:c,padding:4,width:8,height:8,color:x?"#bbb":"#444",background:x?"#111":"#fff",ecl:"M"}).svg();return this.sanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${btoa(s)}`)}catch(s){console.log("readasQRCodeFromString: ",s),this.p5toast.show({text:`${this.lang.text.GlobalAct.failed_to_gen_qr}: ${s}`})}}CreateGodotIFrame(c,s,m="",p=!1){var y=this;let O=!1;return new Promise(function(){var $=(0,b.c)(function*(N){let P=function(){var E=(0,b.c)(function*(){try{if("godot"!=window.godot)throw"No godot";if(m&&!y.godot_window[m])throw"No act ready";O=!0,yield y.indexed.GetGodotIndexedDB(),N()}catch{setTimeout(()=>{P()},1e3)}});return function(){return E.apply(this,arguments)}}();y.godot_window&&y.godot_window.quit_godot&&y.godot_window.quit_godot(),y.godot_splash&&y.godot_splash.remove(),y.godot&&y.godot.remove(),window.godot="";let j=document.createElement("iframe");j.id="godot",j.setAttribute("src","assets/html/index.html"),j.setAttribute("frameborder","0"),j.setAttribute("class","full_screen"),j.setAttribute("allow","fullscreen; encrypted-media"),j.setAttribute("scrolling","no"),j.setAttribute("withCredentials","true"),"content_viewer_canvas"==c&&(s.create_thumbnail_p5=function(){var E=(0,b.c)(function*(T,H=void 0){new _e(X=>{X.setup=()=>{X.noCanvas(),X.pixelDensity(1),X.loadImage("data:image/png;base64,"+T,function(){var z=(0,b.c)(function*(te){let J=X.createCanvas(te.width,te.height);X.image(te,0,0),X.textSize(16),X.textWrap(X.CHAR);let q=X.height/24;X.push(),X.translate(q/6,q/6),X.fill(0),X.text(y.godot_window.filename,q,q,X.width-2*q,X.height-2*q),X.filter(X.BLUR,3,!1),X.pop(),X.fill(255),X.text(y.godot_window.filename,q,q,X.width-2*q,X.height-2*q);let ne=J.elt.toDataURL("image/png").replace("image/png","image/octet-stream");try{yield y.indexed.saveBase64ToUserPath(ne,`${s.alt_path||s.path}_thumbnail.png`),y.modulate_thumbnail(H,"")}catch(de){console.log("p.saveFrames: ",de)}X.remove()});return function(te){return z.apply(this,arguments)}}(),z=>{console.error("create_thumbnail_load thumbnail failed: ",z),X.remove()})}})});return function(T){return E.apply(this,arguments)}}());let V=document.getElementById(c);V.appendChild(j),y.godot_window=j.contentWindow||j.contentDocument,Object.keys(s).forEach(E=>y.godot_window[E]=s[E]),y.godot=j,p||(y.godot_splash=new _e(E=>{let T,H,J,q;E.setup=()=>{let se=E.createCanvas(V.clientWidth,V.clientHeight);se.parent(V),se.style("position: fixed;"),E.imageMode(E.CENTER),E.rectMode(E.CENTER),E.noStroke(),E.CurrentLoaded=0,E.LoadLength=1,y.godot_window.update_load=(pe,Ee)=>{E.CurrentLoaded=pe,E.LoadLength=Ee},E.loadImage("assets/icon/favicon.png",pe=>{T=pe}),E.pixelDensity(1),s.background&&E.loadImage(s.background,pe=>{H=pe,pe.width>pe.height?(q=E.height,J=pe.width/pe.height*E.height):(J=E.width,q=pe.height/pe.width*E.width)})};let ne=2,de=0,De=x?80:200,Y=x?200:80,R=x?40:160;E.draw=()=>{E.clear(255,255,255,255);let se=E.constrain(255*ne,0,255);E.background(De),E.tint(255,se),H&&E.image(H,E.width/2,E.height/2,J,q),T&&E.image(T,E.width/2,E.height/2),E.push(),E.translate(E.width/2,E.height/2+80),de+=.07,E.rotate(de),E.fill(Y,E.constrain(255*ne,0,255)),E.push(),E.translate(-6,-6),E.rotate(2*-de),E.rect(0,0,8,8,2),E.pop(),E.push(),E.translate(6,-6),E.rotate(2*-de),E.rect(0,0,8,8,2),E.pop(),E.push(),E.translate(-6,6),E.rotate(2*-de),E.rect(0,0,8,8,2),E.pop(),E.push(),E.translate(6,6),E.rotate(2*-de),E.rect(0,0,8,8,2),E.pop(),E.pop(),E.push(),E.translate(E.width/2,E.height/2+120),E.stroke(R,se),E.strokeWeight(3),E.line(-30,0,30,0),E.stroke(Y,se),E.line(-30,0,E.lerp(-30,30,E.CurrentLoaded/E.LoadLength),0),E.pop(),O&&(ne-=.04,ne<=0&&E.remove())},E.windowResized=()=>{E.resizeCanvas(V.clientWidth,V.clientHeight)}})),yield P()});return function(N){return $.apply(this,arguments)}}())}req_file_info(c,s){var m=this;return(0,b.c)(function*(){return new Promise(function(){var p=(0,b.c)(function*(y){y(yield m.indexed.GetFileInfoFromDB(c,void 0,s))});return function(y){return p.apply(this,arguments)}}())})()}req_file_part_base64(c,s,m,p){for(var y="",O=new Uint8Array(c.contents.slice(s*w,(s+1)*w)),$=0,N=O.byteLength;$<N;$++)y+=String.fromCharCode(O[$]);let P=btoa(y);return this.indexed.saveTextFileToUserPath(JSON.stringify({type:"upload",index:s}),`${m}.history`,void 0,p),P}save_file_part(c,s,m,p){this.indexed.saveBase64ToUserPath(","+m,`${c}_part/${s}.part`,void 0,p),this.indexed.saveTextFileToUserPath(JSON.stringify({type:"download",index:s}),`${c}.history`,void 0,p)}remove_req_file_info(c,s){delete c.content.transfer_index,this.indexed.removeFileFromUserPath(`${s}.history`)}modulate_thumbnail(c,s){var m=this;return(0,b.c)(function*(){try{let p=yield m.indexed.loadBlobFromUserPath(`${c.path}_thumbnail.png`,"image/png"),y=URL.createObjectURL(p);return c.thumbnail=m.sanitizer.bypassSecurityTrustUrl(y),void setTimeout(()=>{URL.revokeObjectURL(y),s&&URL.revokeObjectURL(s)},100)}catch{}switch(c.viewer){case"image":c.thumbnail=c.url?c.url:m.sanitizer.bypassSecurityTrustUrl(s);break;case"text":if(c.url){let p=yield fetch(c.url).then(y=>y.text());c.text=p.split("\n")}else new _e(p=>{p.setup=()=>{p.noCanvas(),p.loadStrings(s,y=>{c.text=y,URL.revokeObjectURL(s),p.remove()},y=>{console.log("\ud14d\uc2a4\ud2b8 \uc5f4\ub78c \ubd88\uac00: ",y),c.text=[m.lang.text.ChatRoom.downloaded],URL.revokeObjectURL(s),p.remove()})}})}s&&setTimeout(()=>{URL.revokeObjectURL(s)},100)})()}set_viewer_category(c){try{if(this.set_viewer_category_from_ext(c),"disabled"==c.viewer)if(0==c.type.indexOf("image/"))c.viewer="image";else if(0==c.type.indexOf("audio/"))c.viewer="audio";else if(0==c.type.indexOf("video/"))c.viewer="video";else{if(0!=c.type.indexOf("text/"))throw"\uc790\ub3d9\uc9c0\uc815\ub418\uc9c0 \uc54a\uc740 \ud0c0\uc785";c.viewer="text"}}catch(s){console.log("\ubd88\ud655\uc2e4\ud55c \ud0c0\uc785 \uc9c0\uc815: ",s)}}set_viewer_category_from_ext(c){switch(c.file_ext){case"blend":c.viewer="blender";break;case"pck":c.viewer="godot";break;case"png":case"jpeg":case"jpg":case"webp":case"gif":case"svg":c.viewer="image";break;case"wav":case"ogg":case"mp3":case"aac":c.viewer="audio";break;case"mp4":case"ogv":c.viewer="video";break;case"webm":c.type?0==c.type.indexOf("audio/")?c.viewer="audio":0==c.type.indexOf("video/")&&(c.viewer="video"):c.viewer="disabled";break;case"cs":case"c":case"ts":case"js":case"cc":case"php":case"h":case"cpp":case"rs":case"java":case"gd":case"shader":case"py":case"ino":case"pde":case"asm":case"bas":case"pas":case"asp":case"html":case"css":case"pl":case"scss":c.viewer="code";break;case"md":case"csv":case"prop":case"conf":case"log":case"txt":case"yml":case"gitignore":case"json":c.viewer="text";break;default:c.viewer="disabled"}}GetBase64ThroughFileReader(c){return new Promise((s,m)=>{var p;let y=new FileReader;y=null!==(p=y._realReader)&&void 0!==p?p:y,y.onload=O=>{s(O.target.result.replace(/"|\\|=/g,""))},y.onerror=O=>{m(O)},y.readAsDataURL(c)})}Base64ToBlob(c,s=""){let m=atob(c.split(",")[1]),p=new ArrayBuffer(m.length),y=new Int8Array(p);for(let $=0,N=m.length;$<N;$++)y[$]=m.charCodeAt($);return new Blob([y],{type:s})}upload_file_to_storage(c,s,m,p,y){var O=this;return(0,b.c)(function*(){let $=yield O.loadingCtrl.create({message:O.lang.text.Settings.TryToFallbackFS});$.present();let N=new FormData,P=(new Date).getTime(),j=c.filename.split(".")[0],V=`${s}_${j}_${P}.${c.file_ext}`,k=new File([c.blob],V);N.append("files",k);let T,E=!1;y&&(T=yield O.try_upload_to_user_custom_fs(c,s,N,$)),$.message=O.lang.text.GlobalAct.CheckCdnServer;try{if(T)throw E=!0,"\uc0ac\uc6a9\uc790 \uc9c0\uc815\uc11c\ubc84\uc5d0\uc11c \uc774\ubbf8 \uc131\uacf5\ud568";T=`${m}//${p}:9002/cdn/${V}`;let H=new Headers;H.append("Access-Control-Allow-Origin","*"),H.append("Access-Control-Allow-Method","*"),H.append("Access-Control-Allow-Headers","*");const X=new AbortController,z=setTimeout(()=>{O.p5toast.show({text:O.lang.text.GlobalAct.UploadFailed}),X.abort()},6e3);yield fetch(`${m}//${p}:9001/${V}`,{method:"POST",headers:H,body:N,signal:X.signal}),clearTimeout(z),(yield fetch(T)).ok&&(E=!0)}catch(H){$.message=O.lang.text.GlobalAct.CancelingUpload,console.warn("cdn \ud30c\uc77c \uc5c5\ub85c\ub4dc \ub2e8\uacc4 \uc2e4\ud328:",H)}return $.dismiss(),E?T:void 0})()}remove_file_from_storage(c){var s=this;return(0,b.c)(function*(){let m=c.split("/cdn/"),p=m.pop(),y=m.shift(),O=y.lastIndexOf(":");O>5&&(y=y.substring(0,O));let $=new Headers;$.append("Access-Control-Allow-Origin","*"),$.append("Access-Control-Allow-Method","*"),$.append("Access-Control-Allow-Headers","*");const N=new AbortController,P=setTimeout(()=>{s.p5toast.show({text:s.lang.text.GlobalAct.UploadFailed}),N.abort()},6e3);yield fetch(`${y}:9001/remove/${p}`,{method:"POST",headers:$,signal:N.signal}),clearTimeout(P)})()}try_upload_to_user_custom_fs(c,s,m,p){var y=this;return(0,b.c)(function*(){let O;O=p||(yield y.loadingCtrl.create({message:y.lang.text.Settings.TryToFallbackFS}));let $=(new Date).getTime(),N=c.filename.split(".")[0],P=`${s}_${N}_${$}.${c.file_ext}`;if(!m){m=new FormData;let k=new File([c.blob],P);m.append("files",k)}let j,V=localStorage.getItem("fallback_fs");try{if(!V)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let k=V.split(":"),T=k[0].replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")?"https:":"http:";j=`${T}//${k[0]}:${k[1]||9002}/cdn/${P}`;let H=new Headers;H.append("Access-Control-Allow-Origin","*"),H.append("Access-Control-Allow-Method","*"),H.append("Access-Control-Allow-Headers","*");const X=new AbortController,z=setTimeout(()=>{y.p5toast.show({text:y.lang.text.GlobalAct.FFSFailed}),X.abort()},1500);yield fetch(`${T}//${k[0]}:9001/${P}`,{method:"POST",headers:H,body:m,signal:X.signal}),clearTimeout(z);let te=yield fetch(j);if(p||O.dismiss(),te.ok)return j}catch{return void(p||O.dismiss())}})()}}return(l=d).\u0275fac=function(c){return new(c||l)(W.CoB(S.O),W.CoB(v.o),W.CoB(_.mI),W.CoB(f.k),W.CoB(h.Kg))},l.\u0275prov=W.wxM({token:l,factory:l.\u0275fac,providedIn:"root"}),d})()},4668:(fn,Pt,me)=>{"use strict";me.d(Pt,{k:()=>r});var b=me(1528),we=me(4496),nt=me(3824),_e=me(4500);let r=(()=>{var W;class S{constructor(_,f){this.p5toast=_,this.lang=f}initialize(_=(()=>{})){if(this.ionicDB)return;let f=indexedDB.open("/ionicfs",10);f.onsuccess=h=>{h.target.result.close(),indexedDB.open("/ionicfs",11).onsuccess=a=>{this.ionicDB=a.target.result,_()}},f.onupgradeneeded=h=>{h.target.result.createObjectStore("FILE_DATA")},f.onerror=h=>{indexedDB.open("/ionicfs",11).onsuccess=w=>{this.ionicDB=w.target.result,_()}}}GetGodotIndexedDB(){var _=this;return(0,b.c)(function*(){if(!_.godotDB)return new Promise((f,h)=>{let x=indexedDB.open("/userfs",21);x.onsuccess=w=>{_.godotDB=x.result,f(void 0)},x.onerror=w=>{console.error("IndexedDB initialized failed: ",w),h(w)}})})()}createRecursiveDirectory(_,f=this.ionicDB){let h=_.lastIndexOf("/"),x=_.substring(0,h);x&&this.checkIfFileExist(x,w=>{let a=f.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${x}`);a.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",_),this.createRecursiveDirectory(x,f)},a.onerror=l=>{console.error("IndexedDB createRecursiveDirectory failed: ",l)}})}createDirectory(_){return new Promise((f,h)=>{this.checkIfFileExist(_,x=>{let w=this.ionicDB.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${_}`);w.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",_),f(void 0)},w.onerror=a=>{console.error("IndexedDB createRecursiveDirectory failed: ",a),h(a)}})})}saveTextFileToUserPath(_,f,h=(w=>{}),x=this.ionicDB){return this.createRecursiveDirectory(f,x),new Promise((w,a)=>{let l=x.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:(new TextEncoder).encode(_)},`/userfs/${f}`);l.onsuccess=d=>{"success"!=d.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),h(d),w(d)},l.onerror=d=>{a(d)}})}saveBase64ToUserPath(_,f,h=(w=>{}),x=this.ionicDB){return new Promise((w,a)=>{let l=atob(_.split(",")[1]),d=new ArrayBuffer(l.length),u=new Int8Array(d);for(let s=0,m=l.length;s<m;s++)u[s]=l.charCodeAt(s);this.createRecursiveDirectory(f,x);let c=x.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:u},`/userfs/${f}`);c.onsuccess=s=>{"success"!=s.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),h(u),w(u)},c.onerror=s=>{a(s)}})}saveInt8ArrayToUserPath(_,f,h=this.ionicDB){return new Promise((x,w)=>{this.createRecursiveDirectory(f,h);let a=h.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:_},`/userfs/${f}`);a.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),x()},a.onerror=l=>{w(l)}})}saveBlobToUserPath(_,f,h=(w=>{}),x=this.ionicDB){var w=this;return new Promise(function(){var a=(0,b.c)(function*(l,d){let u;try{let s=yield _.arrayBuffer();u=new Int8Array(s)}catch(s){d(s)}w.createRecursiveDirectory(f,x);let c=x.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:u},`/userfs/${f}`);c.onsuccess=s=>{"success"!=s.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),h(u),l(u)},c.onerror=s=>{d(s)}});return function(l,d){return a.apply(this,arguments)}}())}saveFileToUserPath(_,f,h=(w=>{}),x=this.ionicDB){return this.createRecursiveDirectory(f,x),new Promise((w,a)=>{let l=x.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put(_,`/userfs/${f}`);l.onsuccess=d=>{"success"!=d.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",f),h(d),w(d)},l.onerror=d=>{a(d)}})}checkIfFileExist(_,f=(x=>{}),h=this.ionicDB){return new Promise((x,w)=>{let a=h.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").count(`/userfs/${_}`);a.onsuccess=l=>{let d=l.target.result;f(d),x(d)},a.onerror=l=>{w(l)}})}GetFileListFromDB(_,f=(x=>{}),h=this.ionicDB){let x=h.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").getAllKeys();return new Promise((w,a)=>{x.onsuccess=l=>{const d=l.target.result;for(let u=d.length-1;u>=0;u--)d[u].includes(_)?d[u]=d[u].substring(8):d.splice(u,1);f(d),w(d)},x.onerror=l=>{a(l)}})}GetFileInfoFromDB(_,f=(x=>{}),h=this.ionicDB){let x=h.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${_}`);return new Promise((w,a)=>{x.onsuccess=l=>{const d=l.target.result;f(d),w(d)},x.onerror=l=>{a(l)}})}loadTextFromUserPath(_,f=((x,w)=>{}),h=this.ionicDB){return new Promise(x=>{let w=h.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${_}`);w.onsuccess=a=>{if(a.target.result){let l=(new TextDecoder).decode(a.target.result.contents);f(!0,l),x(l)}else f(!1,`No file: , ${_}`),x(void 0)},w.onerror=a=>{console.error("IndexedDB loadTextFromUserPath failed: ",a),x(void 0)}})}loadBlobFromUserPath(_,f,h=(w=>{}),x=this.ionicDB){let w=x.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${_}`);return new Promise((a,l)=>{w.onsuccess=d=>{try{let u=new Blob([d.target.result.contents],{type:f});h(u),a(u)}catch(u){l(u)}},w.onerror=d=>{l(d)}})}DownloadFileFromUserPath(_,f,h,x=this.ionicDB){let w=x.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${_}`);w.onsuccess=a=>{try{let l=new Blob([a.target.result.contents],{type:f}),d=URL.createObjectURL(l),u=document.createElement("a");u.download=h,u.href=d,document.body.appendChild(u),u.click(),document.body.removeChild(u),u.remove(),URL.revokeObjectURL(d),this.p5toast.show({text:this.lang.text.ContentViewer.fileSaved})}catch(l){console.error("DownloadFileFromUserPath: ",l),this.p5toast.show({text:`${this.lang.text.IndexedDB.FailedToDownloadFile}: ${l}`})}},w.onerror=a=>{console.error("IndexedDB DownloadFileFromUserPath failed: ",a)}}removeFileFromUserPath(_,f=(x=>{}),h=this.ionicDB){let x=h.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").delete(`/userfs/${_}`);return new Promise((w,a)=>{x.onsuccess=l=>{f(l),w(l)},x.onerror=l=>{a(l)}})}}return(W=S).\u0275fac=function(_){return new(_||W)(we.CoB(nt.O),we.CoB(_e.o))},W.\u0275prov=we.wxM({token:W,factory:W.\u0275fac,providedIn:"root"}),S})()},4500:(fn,Pt,me)=>{"use strict";me.d(Pt,{o:()=>_e});var b=me(9352),nt=me(4496);let _e=(()=>{var r;class W{constructor(){this.text={Front:{},Portal:{},Main:{},Subscribes:{},ChatRoom:{},Profile:{},GroupServer:{},Settings:{},Community:{}},this.isFirstTime=!0,this.lang=navigator.language.split("-")[0];let v=localStorage.getItem("lang");v&&(this.lang=v),setTimeout(()=>{this.load_selected_lang()},0)}load_selected_lang(){new b(v=>{v.setup=()=>{v.noCanvas(),v.loadTable("assets/data/translate.csv","csv","header",_=>{let f;_.columns.includes(this.lang)||(this.lang="en"),localStorage.setItem("lang",this.lang);for(let h=0,x=_.rows.length;h<x;h++)"#"==_.rows[h].obj["#"].charAt(0)?(f=_.rows[h].obj["#"].substring(3),this.text[f]||(this.text[f]={})):this.text[f][_.rows[h].obj["#"]]=_.rows[h].obj[this.lang];this.isFirstTime&&this.Callback_nakama(),v.remove()},_=>{console.error("\ub0b4\ubd80 \ubb38\uc11c \uc77d\uae30 \uc2e4\ud328: ",_),v.remove()})}})}}return(r=W).\u0275fac=function(v){return new(v||r)},r.\u0275prov=nt.wxM({token:r,factory:r.\u0275fac,providedIn:"root"}),W})()},6884:(fn,Pt,me)=>{"use strict";me.d(Pt,{a:()=>nt});var b=me(5193),we=me(4496);let nt=(()=>{var _e;class r{constructor(){this.users={},this.funcs={onStart:S=>console.warn("onStart \ud568\uc218 \uc5c6\uc74c: ",S),onCheck:S=>console.warn("onCheck \ud568\uc218 \uc5c6\uc74c: ",S),onFailed:S=>console.error("onFailed \ud568\uc218 \uc5c6\uc74c: ",S)}}initialize(){"DesktopPWA"!=b.s1&&"MobilePWA"!=b.s1?(this.server||(this.server=cordova.plugins.wsserver),this.server.start(12011,{onFailure:(v,_,f)=>{this.funcs.onFailed(`Stopped listening on ${v}:${_}. Reason: ${f}`)},onOpen:v=>{this.users[v.uuid]={address:this.users[v.remoteAddr]},Object.keys(this.users).forEach(_=>{this.send_to(_,`Counter:${Object.keys(this.users).length}`)})},onMessage:(v,_)=>{try{let f=JSON.parse(_);"join"==f.type&&(this.users[v.uuid].uid=f.uid,this.users[v.uuid].name=f.name)}catch(f){console.error(`json \ubcc0\ud658 \uc624\ub958_${_}: ${f}`)}Object.keys(this.users).forEach(f=>{this.send_to(f,_)})},onClose:(v,_,f,h)=>{let x=this.users[v.uuid].uid,w=this.users[v.uuid].name;delete this.users[v.uuid];let a={uid:x,name:w,type:"leave",count:Object.keys(this.users).length},l=JSON.stringify(a);Object.keys(this.users).forEach(d=>{this.send_to(d,l)})},origins:[],protocols:[],tcpNoDelay:!0},(v,_)=>{this.funcs.onStart("")},v=>{this.funcs.onFailed(`Did not start. Reason: ${v}`)})):this.funcs.onFailed("Did not start. Reason: \ud50c\ub7ab\ud3fc \ubd88\uc77c\uce58: \uc0ac\uc124 \uc11c\ubc84 \uad6c\ucd95 \ucde8\uc18c")}check_addresses(){"DesktopPWA"!=b.s1&&"MobilePWA"!=b.s1&&(this.server||(this.server=cordova.plugins.wsserver),this.server.getInterfaces(S=>{this.funcs.onCheck(S)}))}disconnect_peer(S,v=4e3,_="EMPTY"){this.server.close({uuid:S},v,_)}stop(){"DesktopPWA"!=b.s1&&"MobilePWA"!=b.s1&&this.server.stop((S,v)=>{this.funcs.onFailed(`Stopped listening on ${v}`)})}send_to(S,v){this.server.send({uuid:S},v)}}return(_e=r).\u0275fac=function(S){return new(S||_e)},_e.\u0275prov=we.wxM({token:_e,factory:_e.\u0275fac,providedIn:"root"}),r})()},6819:(fn,Pt,me)=>{"use strict";me.d(Pt,{s:()=>S});var b=me(1528),we=me(5193),nt=me(4496),_e=me(6928),r=me(1028),W=me(4668);let S=(()=>{var v;class _{constructor(h,x,w){this.noti=h,this.bgmode=x,this.indexed=w,this.settings={silent:{icon_mono:!0,diychat:!0,simplechat:!0,todo:!0,engineppt:!0},vibrate:!1},this.WebNoties={},this.listeners={}}change_silent_settings(h){this.settings.silent[h]=!this.settings.silent[h],this.indexed.saveTextFileToUserPath(JSON.stringify(this.settings),"notification_settings.json")}load_settings(){this.indexed.loadTextFromUserPath("notification_settings.json",(h,x)=>{h&&x&&(this.settings=JSON.parse(x)),"boolean"==typeof this.settings.silent&&(this.settings.silent={icon_mono:this.settings.silent,diychat:this.settings.silent,simplechat:this.settings.silent,todo:this.settings.silent,engineppt:this.settings.silent})})}initialize(){return(0,b.c)(function*(){("DesktopPWA"==we.s1||"MobilePWA"==we.s1)&&("Notification"in window||console.error("Notification \ubbf8\uc9c0\uc6d0 \ube0c\ub77c\uc6b0\uc800\uc785\ub2c8\ub2e4"),Notification.requestPermission().then(h=>{"granted"!=h&&console.log("\uc54c\ub9bc \uac70\uc808",h)},h=>{console.error("\uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ube0c\ub77c\uc6b0\uc800:",h)}))})()}PushLocal(h,x="favicon",w=(()=>{})){if("DesktopPWA"==we.s1||"MobilePWA"==we.s1){if(document.hasFocus()&&this.Current==x||h.triggerWhen_ln)return;const a={badge:`${h.badge}`,body:h.body,icon:`assets/icon/${h.icon||h.smallIcon_ln||x||"favicon"}.png`,image:h.image,lang:h.lang_wn,silent:!this.settings.silent[h.icon||h.smallIcon_ln]||!1,tag:h.tag_wn,actions:h.actions_wn,data:h.data_wn,renotify:h.renotify_wn,requireInteraction:h.requireInteraction_wn,dir:h.dir_wn};if("DesktopPWA"==we.s1)this.WebNoties[h.id]&&(this.WebNoties[h.id].close(),delete this.WebNoties[h.id]),this.WebNoties[h.id]=new Notification(h.title,{...a}),this.WebNoties[h.id].onclick=()=>{w(),window.focus(),this.WebNoties[h.id].close()};else if(window.swReg&&window.swReg.active){if(this.WebNoties[h.id]){try{this.WebNoties[h.id].close()}catch{}delete this.WebNoties[h.id]}try{this.WebNoties[h.id]=window.swReg.showNotification(h.title,{...a})}catch{}try{this.WebNoties[h.id].onclick=()=>{w(),window.focus(),this.WebNoties[h.id].close()}}catch{}}}else{if(!this.bgmode.isActive()&&this.Current==x)return;let a={};a.id=h.id,a.title=h.title,h.body&&(a.text=h.body),h.actions_ln&&(a.actions=h.actions_ln),h.autoCancel_ln&&(a.autoClear=h.autoCancel_ln),h.launch_ln&&(a.launch=h.launch_ln),h.badge&&(a.badge=h.badge),h.image&&(a.attachments=[h.image]),h.clock_ln&&(a.clock=h.clock_ln),h.iconColor_ln&&(a.color=h.iconColor_ln||"ffd94e"),h.extra_ln&&(a.data=h.extra_ln),h.group_ln&&(a.group=h.group_ln),h.groupSummary_ln&&(a.groupSummary=h.groupSummary_ln),h.groupSummaryText_ln&&(a.summary=h.groupSummaryText_ln),h.led_ln&&(a.led=h.led_ln),h.lockscreen_ln&&(a.lockscreen=h.lockscreen_ln),h.mediaSesion_ln&&(a.mediaSession=h.mediaSesion_ln),h.number_ln&&(a.number=h.number_ln),h.progressBar_ln&&(a.progressBar=h.progressBar_ln),h.priority_ln&&(a.priority=h.priority_ln),a.silent=!this.settings.silent[h.smallIcon_ln]||!1,h.timeoutAfter_ln&&(a.timeoutAfter=h.timeoutAfter_ln),h.wakeup_ln&&(a.wakeup=h.wakeup_ln),h.ongoing_ln&&(a.sticky=h.ongoing_ln),h.triggerWhen_ln&&(a.trigger=h.triggerWhen_ln),h.vibrate_ln&&(a.vibrate=h.vibrate_ln),h.icon&&(a.icon=h.icon),a.smallIcon=`res://${h.smallIcon_ln||x||"icon_mono"}`,a.sound=`res://${h.sound_ln||"platform_default"}`,a.foreground=!0,this.noti.schedule(a)}}GetNotificationIds(h=(x=>{})){"DesktopPWA"==we.s1||"MobilePWA"==we.s1||this.noti.getScheduledIds().then(x=>{h(x)})}ClearNoti(h){"DesktopPWA"==we.s1?this.WebNoties[h]&&this.WebNoties[h].close():"MobilePWA"!=we.s1&&this.noti.clear(h)}SetListener(h,x=((w,a)=>console.warn(`${h}: ${w}/${a}`))){"DesktopPWA"==we.s1||"MobilePWA"==we.s1||(this.listeners[h]=(w,a)=>{x(w,a)},cordova.plugins.notification.local.on(h,this.listeners[h]))}RemoveListener(h){"DesktopPWA"==we.s1||"MobilePWA"==we.s1||(cordova.plugins.notification.local.un(h,this.listeners[h]),delete this.listeners[h])}}return(v=_).\u0275fac=function(h){return new(h||v)(nt.CoB(_e.G8),nt.CoB(r.Y),nt.CoB(W.k))},v.\u0275prov=nt.wxM({token:v,factory:v.\u0275fac,providedIn:"root"}),_})()},6124:(fn,Pt,me)=>{"use strict";me.d(Pt,{_:()=>T});var b=me(6928),we=me(5193),nt=me(5020),_e=me(4496);let r=(()=>{var H;class X{constructor(){this.client={},this.status={dedicated_groupchat:"idle",community_ranchat:"idle"},this.userInput={dedicated_groupchat:{logs:[],text:"",last_message:{}},community_ranchat:{logs:[],text:"",last_message:{}}},this.ConnectedNow={dedicated_groupchat:0,community_ranchat:0},this.funcs={dedicated_groupchat:{onopen:te=>console.warn("OnOpen \uc124\uc815 \uc548\ub428: ",te),onclose:te=>console.warn("OnClose \uc124\uc815 \uc548\ub428: ",te),onmessage:te=>console.warn("OnMessage \uc124\uc815 \uc548\ub428: ",te)},community_ranchat:{onopen:te=>console.warn("OnOpen \uc124\uc815 \uc548\ub428: ",te),onclose:te=>console.warn("OnClose \uc124\uc815 \uc548\ub428: ",te),onmessage:te=>console.warn("OnMessage \uc124\uc815 \uc548\ub428: ",te)}}}initialize(te,J){this.client[te]=new WebSocket(`${J}:12011`),this.client[te].onopen=ne=>{this.funcs[te].onopen(ne)},this.client[te].onclose=ne=>{this.funcs[te].onclose(ne)},this.client[te].onerror=ne=>{console.error("\uc624\ub958 \ubc1c\uc0dd: ",ne)},this.client[te].onmessage=ne=>{"string"==typeof ne.data?this.funcs[te].onmessage(ne.data):ne.data.text().then(de=>{this.funcs[te].onmessage(de)})}}send(te,J){this.client?this.client[te].send(J):console.warn("client \uc5f0\uacb0\ub418\uc5b4\uc788\uc9c0 \uc54a\uc74c: \uba54\uc2dc\uc9c0 \ubc1c\uc1a1 \ucde8\uc18c: ",J)}disconnect(te,J=1e3,q="user_close"){this.client&&this.client[te].close(J,q)}}return(H=X).\u0275fac=function(te){return new(te||H)},H.\u0275prov=_e.wxM({token:H,factory:H.\u0275fac,providedIn:"root"}),X})();var W=me(5624),S=me(9240),v=me(8268),_=me(6819),f=me(4476),h=me(4180),x=me(4500),w=me(7136),a=me(6884),l=me(1368),d=me(4716);const u=["minimalchat_input"];function c(H,X){if(1&H&&(_e.I0R(0,"ion-select-option"),_e.OEk(1),_e.C$Y()),2&H){const z=X.$implicit;_e.yG2(),_e.oRS("",z.key+" ("+z.address+")"," ")}}function s(H,X){if(1&H){const z=_e.KQA();_e.I0R(0,"ion-select",14),_e.qCj("ionChange",function(J){_e.usT(z);const q=_e.GaO(2);return _e.CGJ(q.SelectOtherAddress(J))}),_e.yuY(1,c,2,1,"ion-select-option",9),_e.C$Y()}if(2&H){const z=_e.GaO(2);_e.E7m("label",z.lang.text.MinimalChat.shareAddress)("placeholder",z.lang.text.MinimalChat.selectNetwork),_e.yG2(),_e.E7m("ngForOf",z.addresses)}}function m(H,X){if(1&H&&_e.wR5(0,"img",15),2&H){const z=_e.GaO(2);_e.E7m("src",z.QRCodeSRC,_e.K6U)}}function p(H,X){if(1&H&&(_e.I0R(0,"div")(1,"ion-item-divider"),_e.yuY(2,s,2,3,"ion-select",12),_e.C$Y(),_e.yuY(3,m,1,1,"img",13),_e.C$Y()),2&H){const z=_e.GaO();_e.yG2(2),_e.E7m("ngIf",z.isLocalAddress&&z.isMobileApp),_e.yG2(),_e.E7m("ngIf",z.QRCodeSRC)}}function y(H,X){if(1&H&&(_e.I0R(0,"font",18),_e.OEk(1),_e.C$Y()),2&H){const z=_e.GaO().$implicit;_e.CI5("color","#",z.color,""),_e.yG2(),_e.cNF(z.text)}}function O(H,X){if(1&H&&(_e.I0R(0,"b"),_e.OEk(1),_e.C$Y()),2&H){const z=_e.GaO(2).$implicit;_e.yG2(),_e.oRS("",z.target,":")}}function $(H,X){if(1&H&&(_e.I0R(0,"font",19)(1,"font",18),_e.yuY(2,O,2,1,"b",8),_e.C$Y(),_e.OEk(3),_e.C$Y()),2&H){const z=_e.GaO().$implicit;_e.yG2(),_e.CI5("color","#",z.color,""),_e.yG2(),_e.E7m("ngIf",z.target),_e.yG2(),_e.oRS(" "," "+z.text," ")}}function N(H,X){if(1&H&&(_e.I0R(0,"p"),_e.yuY(1,y,2,2,"font",16)(2,$,4,3,"font",17),_e.C$Y()),2&H){const z=X.$implicit;_e.yG2(),_e.E7m("ngIf",!z.target),_e.yG2(),_e.E7m("ngIf",z.target)}}function P(H,X){if(1&H){const z=_e.KQA();_e.I0R(0,"td")(1,"ion-button",20),_e.qCj("click",function(){_e.usT(z);const J=_e.GaO();return _e.CGJ(J.join_ranchat())}),_e.OEk(2),_e.C$Y()()}if(2&H){const z=_e.GaO();_e.yG2(2),_e.oRS(" ",z.lang.text.MinimalChat.start_chat," ")}}function j(H,X){if(1&H){const z=_e.KQA();_e.I0R(0,"td")(1,"ion-button",21),_e.qCj("click",function(){_e.usT(z);const J=_e.GaO();return _e.CGJ(J.join_ranchat())}),_e.OEk(2),_e.C$Y()()}if(2&H){const z=_e.GaO();_e.yG2(),_e.E7m("disabled",z.req_refreshed),_e.yG2(),_e.oRS(" ",z.lang.text.MinimalChat.new_chat," ")}}function V(H,X){if(1&H){const z=_e.KQA();_e.I0R(0,"td")(1,"ion-button",22),_e.qCj("click",function(){_e.usT(z);const J=_e.GaO();return _e.CGJ(J.quit_chat())}),_e.wR5(2,"ion-icon",23),_e.C$Y()()}}function k(H,X){if(1&H){const z=_e.KQA();_e.I0R(0,"td",24)(1,"ion-input",25,26),_e.qCj("ionFocus",function(){_e.usT(z);const J=_e.GaO();return _e.CGJ(J.focus_on_input(120))})("keyup.enter",function(){_e.usT(z);const J=_e.GaO();return _e.CGJ(J.send())}),_e.iHE("ngModelChange",function(J){_e.usT(z);const q=_e.GaO();return _e.kNx(q.client.userInput[q.target].text,J)||(q.client.userInput[q.target].text=J),_e.CGJ(J)}),_e.C$Y()()}if(2&H){const z=_e.GaO();_e.yG2(),_e.E7m("placeholder",z.lang.text.MinimalChat.input_placeholder),_e.OKB("ngModel",z.client.userInput[z.target].text)}}function E(H,X){if(1&H){const z=_e.KQA();_e.I0R(0,"td")(1,"ion-button",22),_e.qCj("click",function(){_e.usT(z);const J=_e.GaO();return _e.CGJ(J.send())}),_e.wR5(2,"ion-icon",27),_e.C$Y()()}}let T=(()=>{var H;class X{constructor(te,J,q,ne,de,De,Y,R,se,pe,Ee){this.client=te,this.modalCtrl=J,this.device=q,this.noti=ne,this.title=de,this.params=De,this.statusBar=Y,this.lang=R,this.nakama=se,this.local_server=pe,this.global=Ee,this.uuid=this.device.uuid,this.Header="ranchat",this.iconColor="d8d8d8",this.lnId=11,this.req_refreshed=!1,this.isCustomDedicated=!1,this.isLocalAddress=!1,this.isMobileApp=!1,this.open_this=Ne=>{Ne.id==this.lnId&&this.modalCtrl.create({component:X,componentProps:{address:this.params.get("address"),name:this.params.get("name")}}).then(We=>We.present())},this.target="community_ranchat",this.BackButtonPressed=!1}SelectOtherAddress(te){let J=te.detail.value,q=J.substring(J.indexOf("(")+1,J.indexOf(")"));this.QRCodeSRC=this.global.readasQRCodeFromString(`${we.uM}pjcone_pwa/?group_dedi=ws://${q}`)}InitBrowserBackButtonOverride(){window.history.replaceState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}ngOnInit(){this.InitBrowserBackButtonOverride(),this.isMobileApp="Android"==we.s1||"iOS"==we.s1,this.local_server.funcs.onCheck=ne=>{let de=Object.keys(ne),De=[];de.forEach(Y=>{ne[Y].ipv4Addresses.length&&ne[Y].ipv4Addresses.forEach(R=>{De.push({address:R,key:Y})}),this.addresses=De})},this.local_server.check_addresses(),this.header_title=this.lang.text.MinimalChat.header_title_ranchat;let te=this.params.get("address"),J=this.params.get("name");if(te&&(this.target="dedicated_groupchat",this.lnId=12,this.header_title=this.lang.text.MinimalChat.header_title_group,this.client.status[this.target]="custom",this.Header="simplechat",this.isCustomDedicated=!0,this.isLocalAddress="ws://127.0.0.1"==te,this.isLocalAddress||(this.QRCodeSRC=this.global.readasQRCodeFromId({type:"group_dedi",value:{address:te}}))),this.noti.RemoveListener(`send${this.target}`),this.noti.RemoveListener(`reconn${this.target}`),this.noti.RemoveListener(`exit${this.target}`),this.noti.ClearNoti(this.lnId),this.title.setTitle(te?this.lang.text.MinimalChat.WebTitle_group:this.lang.text.MinimalChat.WebTitle_ran),this.noti.Current=this.Header,this.minimal_chat_log=document.getElementById("minimal_chat_div"),this.minimal_chat_log.onscroll=ne=>{this.minimal_chat_log.scrollHeight==this.minimal_chat_log.scrollTop+this.minimal_chat_log.clientHeight&&this.scroll_down()},document.getElementById("favicon").setAttribute("href","assets/icon/simplechat.png"),!this.client.client[this.target]||this.client.client[this.target].readyState!=this.client.client[this.target].OPEN){this.noti.SetListener(`send${this.target}`,(de,De)=>{this.noti.ClearNoti(de.id),this.send(De.text)}),this.noti.SetListener(`reconn${this.target}`,de=>{this.noti.ClearNoti(de.id),this.join_ranchat()}),this.noti.SetListener(`exit${this.target}`,de=>{this.noti.ClearNoti(de.id),this.quit_chat()}),this.reply_act=[{id:`send${this.target}`,type:b.kZ.INPUT,title:this.lang.text.MinimalChat.Noti_Reply}],te||this.reply_act.push({id:`reconn${this.target}`,title:this.lang.text.MinimalChat.new_chat,launch:!1}),this.client.userInput[this.target].logs.length=0;let ne={color:nt.Mp?"bbb":"444",text:"custom"==this.client.status[this.target]?this.lang.text.MinimalChat.joinChat_group:this.lang.text.MinimalChat.joinChat_ran};this.client.userInput[this.target].logs.push(ne),this.client.userInput[this.target].last_message=ne,this.client.initialize(this.target,te)}this.client.funcs[this.target].onmessage=ne=>{try{let de=JSON.parse(ne),Y=this.uuid==de.uid?J||this.lang.text.MinimalChat.name_me:de.name||("custom"==this.client.status[this.target]?this.lang.text.MinimalChat.name_stranger_group:this.lang.text.MinimalChat.name_stranger_ran),R=de.uid?(de.uid.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6):nt.Mp?"888":"444";if(de.msg){let pe={color:R,text:de.msg,target:Y};this.client.userInput[this.target].logs.push(pe),this.client.userInput[this.target].last_message=pe}else if(de.type)if("join"==de.type){let pe={color:R,text:this.lang.text.MinimalChat.user_join_comment,target:Y};this.client.userInput[this.target].logs.push(pe),this.client.userInput[this.target].last_message=pe}else{let pe={color:R,text:this.lang.text.MinimalChat.user_out_comment,target:Y};this.client.userInput[this.target].logs.push(pe),this.client.userInput[this.target].last_message=pe}let se="certified";if(de.count&&(this.client.ConnectedNow[this.target]=de.count),de.msg)this.noti.PushLocal({id:this.lnId,title:Y,body:de.msg,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},smallIcon_ln:"simplechat",iconColor_ln:this.iconColor,autoCancel_ln:!0},this.Header,this.open_this);else if(de.type){let pe="join"==de.type;pe||(se="pending"),this.noti.PushLocal({id:this.lnId,title:pe?this.lang.text.MinimalChat.user_join:this.lang.text.MinimalChat.user_out,body:Y+` | ${pe?this.lang.text.MinimalChat.user_join_comment:this.lang.text.MinimalChat.user_out_comment}`,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},smallIcon_ln:"simplechat",iconColor_ln:this.iconColor,autoCancel_ln:!0},this.Header,this.open_this)}this.statusBar.settings[this.target]=se,setTimeout(()=>{this.statusBar.settings[this.target]==se&&(this.statusBar.settings[this.target]="online")},250)}catch{switch(ne){case"GOT_MATCHED":this.statusBar.settings[this.target]="certified",setTimeout(()=>{"certified"==this.statusBar.settings[this.target]&&(this.statusBar.settings[this.target]="online")},250),this.client.userInput[this.target].logs.length=0;let De={color:nt.Mp?"8bb":"488",text:this.lang.text.MinimalChat.meet_someone};this.client.userInput[this.target].logs.push(De),this.client.userInput[this.target].last_message=De,this.client.status[this.target]="linked",this.noti.PushLocal({id:this.lnId,title:this.lang.text.MinimalChat.meet_someone,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this);break;case"PARTNER_OUT":this.statusBar.settings[this.target]="pending",setTimeout(()=>{"pending"==this.statusBar.settings[this.target]&&(this.statusBar.settings[this.target]="online")},250);let Y={color:nt.Mp?"b88":"844",text:this.lang.text.MinimalChat.leave_someone};this.client.userInput[this.target].logs.push(Y),this.client.userInput[this.target].last_message=Y,this.client.status[this.target]="unlinked",this.noti.PushLocal({id:this.lnId,title:this.lang.text.MinimalChat.leave_someone,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this);break;default:let R=ne.split(":");this.client.ConnectedNow[this.target]=parseInt(R[1])}}this.focus_on_input()},this.client.funcs[this.target].onclose=ne=>{this.statusBar.settings[this.target]="missing",setTimeout(()=>{this.statusBar.settings[this.target]="offline"},1500);let de={color:"faa",text:this.lang.text.MinimalChat.failed_to_join};this.client.userInput[this.target].logs.push(de),this.client.userInput[this.target].last_message=de,this.focus_on_input(),this.noti.PushLocal({id:this.lnId,title:this.lang.text.MinimalChat.failed_to_join,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this)},this.client.funcs[this.target].onopen=ne=>{this.statusBar.settings[this.target]="online",te&&this.client.send(this.target,JSON.stringify({uid:this.uuid,name:J,type:"join"})),this.client.funcs[this.target].onclose=de=>{this.statusBar.settings[this.target]="missing",setTimeout(()=>{this.statusBar.settings[this.target]="offline"},1500);let De=this.lang.text.MinimalChat.cannot_join,Y={color:"faa",text:De};this.client.userInput[this.target].logs.push(Y),this.client.userInput[this.target].last_message=Y,this.focus_on_input(),this.noti.PushLocal({id:this.lnId,title:De,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this)}}}ionViewDidEnter(){setTimeout(()=>{this.scroll_down()},0)}scroll_down(){this.minimal_chat_log.scrollTo({top:this.minimal_chat_log.scrollHeight,behavior:"smooth"})}join_ranchat(){if(this.client.client[this.target].readyState==this.client.client[this.target].OPEN){this.client.send(this.target,"REQ_REGROUPING"),this.client.status[this.target]="unlinked",this.client.userInput[this.target].logs.length=0;let te={color:nt.Mp?"bbb":"444",text:this.lang.text.MinimalChat.waiting_someone};this.client.userInput[this.target].logs.push(te),this.client.userInput[this.target].last_message=te,this.minimal_chat_log.scrollTo({top:this.minimal_chat_log.scrollHeight,behavior:"smooth"}),this.focus_on_input(),this.req_refreshed=!0,setTimeout(()=>{this.req_refreshed=!1},1e3)}else{let te=this.lang.text.MinimalChat.cannot_start,J={color:"faa",text:te};this.client.userInput[this.target].logs.push(J),this.client.userInput[this.target].last_message=J,this.focus_on_input(),this.noti.PushLocal({id:this.lnId,title:te,group_ln:"simplechat",extra_ln:{page:{component:"MinimalChatPage",componentProps:{address:this.params.get("address"),name:this.params.get("name"),noti_id:this.Header}}},autoCancel_ln:!0,smallIcon_ln:"simplechat",iconColor_ln:this.iconColor},this.Header,this.open_this)}}focus_on_input(te){this.minimalchat_input.setFocus(),setTimeout(()=>{let J=this.minimal_chat_log.scrollHeight;J<this.minimal_chat_log.scrollTop+this.minimal_chat_log.clientHeight+120&&this.minimal_chat_log.scrollTo({top:J,behavior:"smooth"})},te||0)}send(te){this.statusBar.settings[this.target]="certified",setTimeout(()=>{"certified"==this.statusBar.settings[this.target]&&(this.statusBar.settings[this.target]="online")},250);let J={uid:this.uuid,msg:te||this.client.userInput[this.target].text};if(!J.msg.trim())return;let q=this.params.get("name");q&&(J.name=q),this.client.send(this.target,JSON.stringify(J)),this.client.userInput[this.target].text="",this.focus_on_input()}quit_chat(){this.client.funcs[this.target].onclose=()=>{this.statusBar.settings[this.target]="missing",setTimeout(()=>{this.statusBar.settings[this.target]="offline"},1500);let te={color:nt.Mp?"ffa":"884",text:"custom"==this.client.status[this.target]?this.lang.text.MinimalChat.leave_chat_group:this.lang.text.MinimalChat.leave_chat_ran};this.client.userInput[this.target].logs.push(te),this.client.userInput[this.target].last_message=te,this.minimal_chat_log.scrollTo({top:this.minimal_chat_log.scrollHeight,behavior:"smooth"})},this.noti.RemoveListener(`send${this.target}`),this.noti.RemoveListener(`reconn${this.target}`),this.noti.RemoveListener(`exit${this.target}`),this.noti.ClearNoti(this.lnId),this.client.disconnect(this.target),"ws://127.0.0.1"==this.params.get("address")&&this.local_server.stop(),this.modalCtrl.dismiss()}ionViewWillLeave(){this.title.setTitle("Project: Cone"),document.getElementById("favicon").setAttribute("href","assets/icon/favicon.png"),this.noti.Current=void 0}}return(H=X).\u0275fac=function(te){return new(te||H)(_e.GI1(r),_e.GI1(W.qS),_e.GI1(v.G),_e.GI1(_.s),_e.GI1(f.OY),_e.GI1(S.a6),_e.GI1(h.Y),_e.GI1(x.o),_e.GI1(w.h),_e.GI1(a.a),_e.GI1(nt.A1))},H.\u0275cmp=_e.In1({type:H,selectors:[["app-minimal-chat"]],viewQuery:function(te,J){if(1&te&&_e.CC$(u,5),2&te){let q;_e.wto(q=_e.Gqi())&&(J.minimalchat_input=q.first)}},decls:23,vars:10,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["slot","end",2,"margin","8px 16px"],["id","main_table",2,"width","100%","height","100%"],[2,"height","100%"],[2,"vertical-align","top"],["id","minimal_chat_div",1,"main",2,"max-width","100vw"],[4,"ngIf"],[4,"ngFor","ngForOf"],["id","input_table",2,"width","100%"],["style","width: 100%;",4,"ngIf"],[3,"label","placeholder","ionChange",4,"ngIf"],["style","width: 100%; height: auto; cursor: copy;","alt","Loading",3,"src",4,"ngIf"],[3,"label","placeholder","ionChange"],["alt","Loading",2,"width","100%","height","auto","cursor","copy",3,"src"],[3,"color",4,"ngIf"],["class","default_text",4,"ngIf"],[3,"color"],[1,"default_text"],["expand","block",3,"click"],["expand","block",3,"disabled","click"],["expand","block","fill","clear",3,"click"],["name","exit"],[2,"width","100%"],["id","minimalchat_input","type","text",3,"placeholder","ngModel","ionFocus","keyup.enter","ngModelChange"],["minimalchat_input",""],["name","send"]],template:function(te,J){1&te&&(_e.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),_e.qCj("click",function(){return J.modalCtrl.dismiss()}),_e.wR5(3,"ion-back-button",2),_e.C$Y(),_e.I0R(4,"ion-title"),_e.OEk(5),_e.C$Y(),_e.I0R(6,"div",3),_e.OEk(7),_e.C$Y()()(),_e.I0R(8,"ion-content")(9,"table",4)(10,"tr",5)(11,"td",6)(12,"div",7),_e.yuY(13,p,4,2,"div",8)(14,N,3,2,"p",9),_e.C$Y()()()()(),_e.I0R(15,"ion-footer")(16,"table",10)(17,"tr"),_e.yuY(18,P,3,1,"td",8)(19,j,3,2,"td",8)(20,V,3,0,"td",8)(21,k,3,2,"td",11)(22,E,3,0,"td",8),_e.C$Y()()()),2&te&&(_e.yG2(5),_e.cNF(J.header_title),_e.yG2(2),_e.CAO("",J.lang.text.MinimalChat.concurrent_users,": ",J.client.ConnectedNow[J.target],""),_e.yG2(6),_e.E7m("ngIf",J.isCustomDedicated&&(!J.isLocalAddress||J.isMobileApp)),_e.yG2(),_e.E7m("ngForOf",J.client.userInput[J.target].logs),_e.yG2(4),_e.E7m("ngIf","idle"==J.client.status[J.target]),_e.yG2(),_e.E7m("ngIf","linked"==J.client.status[J.target]||"unlinked"==J.client.status[J.target]),_e.yG2(),_e.E7m("ngIf","unlinked"==J.client.status[J.target]||"idle"==J.client.status[J.target]||"custom"==J.client.status[J.target]),_e.yG2(),_e.E7m("ngIf","linked"==J.client.status[J.target]||"custom"==J.client.status[J.target]),_e.yG2(),_e.E7m("ngIf","linked"==J.client.status[J.target]||"custom"==J.client.status[J.target]))},dependencies:[l.ay,l.u_,d.ue,d._G,W.sn,W.GS,W._i,W.eV,W.wB,W.Ko,W.A5,W.S8,W.Cy,W.gd,W.tM,W.Md,W.IT,W.qG,W.Im],styles:[".main[_ngcontent-%COMP%]{width:100%;height:100%;padding:8px;overflow-x:hidden;overflow-y:auto;scroll-behavior:smooth}p[_ngcontent-%COMP%]{margin:8px 0 0}.default_text[_ngcontent-%COMP%]{color:var(--miniranchat-default-text)}.bottom_thumbnail[_ngcontent-%COMP%]{width:100%;max-width:100vw;height:-moz-fit-content;height:fit-content;max-height:96px;transform:translateY(-100%);position:absolute;background:var(--chatroom-last-msg-viewer-bg);padding:8px;overflow:hidden}"]}),X})()},7136:(fn,Pt,me)=>{"use strict";me.d(Pt,{i:()=>Pn,h:()=>Wn});var x,w,b=me(1528),we=Object.defineProperty,nt=Object.getOwnPropertySymbols,_e=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,W=(G,ye,Se)=>ye in G?we(G,ye,{enumerable:!0,configurable:!0,writable:!0,value:Se}):G[ye]=Se,S=(G,ye)=>{for(var Se in ye||(ye={}))_e.call(ye,Se)&&W(G,Se,ye[Se]);if(nt)for(var Se of nt(ye))r.call(ye,Se)&&W(G,Se,ye[Se]);return G},v=(G,ye,Se)=>new Promise((D,F)=>{var L=Q=>{try{re(Se.next(Q))}catch(he){F(he)}},ee=Q=>{try{re(Se.throw(Q))}catch(he){F(he)}},re=Q=>Q.done?D(Q.value):Promise.resolve(Q.value).then(L,ee);re((Se=Se.apply(G,ye)).next())}),_=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof _<"u"&&_,f_searchParams="URLSearchParams"in _,f_iterable="Symbol"in _&&"iterator"in Symbol,f_blob="FileReader"in _&&"Blob"in _&&function(){try{return new Blob,!0}catch{return!1}}(),f_formData="FormData"in _,f_arrayBuffer="ArrayBuffer"in _;function a(G){if("string"!=typeof G&&(G=String(G)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(G)||""===G)throw new TypeError('Invalid character in header field name: "'+G+'"');return G.toLowerCase()}function l(G){return"string"!=typeof G&&(G=String(G)),G}function d(G){var ye={next:function(){var Se=G.shift();return{done:void 0===Se,value:Se}}};return f_iterable&&(ye[Symbol.iterator]=function(){return ye}),ye}function u(G){this.map={},G instanceof u?G.forEach(function(ye,Se){this.append(Se,ye)},this):Array.isArray(G)?G.forEach(function(ye){this.append(ye[0],ye[1])},this):G&&Object.getOwnPropertyNames(G).forEach(function(ye){this.append(ye,G[ye])},this)}function c(G){if(G.bodyUsed)return Promise.reject(new TypeError("Already read"));G.bodyUsed=!0}function s(G){return new Promise(function(ye,Se){G.onload=function(){ye(G.result)},G.onerror=function(){Se(G.error)}})}function m(G){var ye=new FileReader,Se=s(ye);return ye.readAsArrayBuffer(G),Se}function O(G){if(G.slice)return G.slice(0);var ye=new Uint8Array(G.byteLength);return ye.set(new Uint8Array(G)),ye.buffer}function $(){return this.bodyUsed=!1,this._initBody=function(G){this.bodyUsed=this.bodyUsed,this._bodyInit=G,G?"string"==typeof G?this._bodyText=G:f_blob&&Blob.prototype.isPrototypeOf(G)?this._bodyBlob=G:f_formData&&FormData.prototype.isPrototypeOf(G)?this._bodyFormData=G:f_searchParams&&URLSearchParams.prototype.isPrototypeOf(G)?this._bodyText=G.toString():f_arrayBuffer&&f_blob&&function h(G){return G&&DataView.prototype.isPrototypeOf(G)}(G)?(this._bodyArrayBuffer=O(G.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(G)||w(G))?this._bodyArrayBuffer=O(G):this._bodyText=G=Object.prototype.toString.call(G):this._bodyText="",this.headers.get("content-type")||("string"==typeof G?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f_searchParams&&URLSearchParams.prototype.isPrototypeOf(G)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f_blob&&(this.blob=function(){var G=c(this);if(G)return G;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(m)}),this.text=function(){var G=c(this);if(G)return G;if(this._bodyBlob)return function p(G){var ye=new FileReader,Se=s(ye);return ye.readAsText(G),Se}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function y(G){for(var ye=new Uint8Array(G),Se=new Array(ye.length),D=0;D<ye.length;D++)Se[D]=String.fromCharCode(ye[D]);return Se.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f_formData&&(this.formData=function(){return this.text().then(V)}),this.json=function(){return this.text().then(JSON.parse)},this}f_arrayBuffer&&(x=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=ArrayBuffer.isView||function(G){return G&&x.indexOf(Object.prototype.toString.call(G))>-1}),u.prototype.append=function(G,ye){G=a(G),ye=l(ye);var Se=this.map[G];this.map[G]=Se?Se+", "+ye:ye},u.prototype.delete=function(G){delete this.map[a(G)]},u.prototype.get=function(G){return G=a(G),this.has(G)?this.map[G]:null},u.prototype.has=function(G){return this.map.hasOwnProperty(a(G))},u.prototype.set=function(G,ye){this.map[a(G)]=l(ye)},u.prototype.forEach=function(G,ye){for(var Se in this.map)this.map.hasOwnProperty(Se)&&G.call(ye,this.map[Se],Se,this)},u.prototype.keys=function(){var G=[];return this.forEach(function(ye,Se){G.push(Se)}),d(G)},u.prototype.values=function(){var G=[];return this.forEach(function(ye){G.push(ye)}),d(G)},u.prototype.entries=function(){var G=[];return this.forEach(function(ye,Se){G.push([Se,ye])}),d(G)},f_iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var N=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function j(G,ye){if(!(this instanceof j))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var Se=(ye=ye||{}).body;if(G instanceof j){if(G.bodyUsed)throw new TypeError("Already read");this.url=G.url,this.credentials=G.credentials,ye.headers||(this.headers=new u(G.headers)),this.method=G.method,this.mode=G.mode,this.signal=G.signal,!Se&&null!=G._bodyInit&&(Se=G._bodyInit,G.bodyUsed=!0)}else this.url=String(G);if(this.credentials=ye.credentials||this.credentials||"same-origin",(ye.headers||!this.headers)&&(this.headers=new u(ye.headers)),this.method=function P(G){var ye=G.toUpperCase();return N.indexOf(ye)>-1?ye:G}(ye.method||this.method||"GET"),this.mode=ye.mode||this.mode||null,this.signal=ye.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&Se)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Se),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==ye.cache&&"no-cache"!==ye.cache)){var D=/([?&])_=[^&]*/;D.test(this.url)?this.url=this.url.replace(D,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function V(G){var ye=new FormData;return G.trim().split("&").forEach(function(Se){if(Se){var D=Se.split("="),F=D.shift().replace(/\+/g," "),L=D.join("=").replace(/\+/g," ");ye.append(decodeURIComponent(F),decodeURIComponent(L))}}),ye}function k(G){var ye=new u;return G.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(D){return 0===D.indexOf("\n")?D.substr(1,D.length):D}).forEach(function(D){var F=D.split(":"),L=F.shift().trim();if(L){var ee=F.join(":").trim();ye.append(L,ee)}}),ye}function E(G,ye){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');ye||(ye={}),this.type="default",this.status=void 0===ye.status?200:ye.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===ye.statusText?"":""+ye.statusText,this.headers=new u(ye.headers),this.url=ye.url||"",this._initBody(G)}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})},$.call(j.prototype),$.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},E.error=function(){var G=new E(null,{status:0,statusText:""});return G.type="error",G};var T=[301,302,303,307,308];E.redirect=function(G,ye){if(-1===T.indexOf(ye))throw new RangeError("Invalid status code");return new E(null,{status:ye,headers:{location:G}})};var H=_.DOMException;try{new H}catch{(H=function(ye,Se){this.message=ye,this.name=Se;var D=Error(ye);this.stack=D.stack}).prototype=Object.create(Error.prototype),H.prototype.constructor=H}function X(G,ye){return new Promise(function(Se,D){var F=new j(G,ye);if(F.signal&&F.signal.aborted)return D(new H("Aborted","AbortError"));var L=new XMLHttpRequest;function ee(){L.abort()}L.onload=function(){var Q={status:L.status,statusText:L.statusText,headers:k(L.getAllResponseHeaders()||"")};Q.url="responseURL"in L?L.responseURL:Q.headers.get("X-Request-URL");var he="response"in L?L.response:L.responseText;setTimeout(function(){Se(new E(he,Q))},0)},L.onerror=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},L.ontimeout=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},L.onabort=function(){setTimeout(function(){D(new H("Aborted","AbortError"))},0)},L.open(F.method,function re(Q){try{return""===Q&&_.location.href?_.location.href:Q}catch{return Q}}(F.url),!0),"include"===F.credentials?L.withCredentials=!0:"omit"===F.credentials&&(L.withCredentials=!1),"responseType"in L&&(f_blob?L.responseType="blob":f_arrayBuffer&&F.headers.get("Content-Type")&&-1!==F.headers.get("Content-Type").indexOf("application/octet-stream")&&(L.responseType="arraybuffer")),!ye||"object"!=typeof ye.headers||ye.headers instanceof u?F.headers.forEach(function(Q,he){L.setRequestHeader(he,Q)}):Object.getOwnPropertyNames(ye.headers).forEach(function(Q){L.setRequestHeader(Q,l(ye.headers[Q]))}),F.signal&&(F.signal.addEventListener("abort",ee),L.onreadystatechange=function(){4===L.readyState&&F.signal.removeEventListener("abort",ee)}),L.send(typeof F._bodyInit>"u"?null:F._bodyInit)})}X.polyfill=!0,_.fetch||(_.fetch=X,_.Headers=u,_.Request=j,_.Response=E);var z="function"==typeof atob,te="function"==typeof btoa,J="function"==typeof Buffer,q="function"==typeof TextDecoder?new TextDecoder:void 0,ne="function"==typeof TextEncoder?new TextEncoder:void 0,De=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Y=(G=>{let ye={};return G.forEach((Se,D)=>ye[Se]=D),ye})(De),R=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,se=String.fromCharCode.bind(String),pe="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):G=>new Uint8Array(Array.prototype.slice.call(G,0)),Ne=G=>G.replace(/[^A-Za-z0-9\+\/]/g,""),et=te?G=>btoa(G):J?G=>Buffer.from(G,"binary").toString("base64"):G=>{let ye,Se,D,F,L="";const ee=G.length%3;for(let re=0;re<G.length;){if((Se=G.charCodeAt(re++))>255||(D=G.charCodeAt(re++))>255||(F=G.charCodeAt(re++))>255)throw new TypeError("invalid character found");ye=Se<<16|D<<8|F,L+=De[ye>>18&63]+De[ye>>12&63]+De[ye>>6&63]+De[63&ye]}return ee?L.slice(0,ee-3)+"===".substring(ee):L},Ae=J?G=>Buffer.from(G).toString("base64"):G=>{let Se=[];for(let D=0,F=G.length;D<F;D+=4096)Se.push(se.apply(null,G.subarray(D,D+4096)));return et(Se.join(""))},Be=G=>{if(G.length<2)return(ye=G.charCodeAt(0))<128?G:ye<2048?se(192|ye>>>6)+se(128|63&ye):se(224|ye>>>12&15)+se(128|ye>>>6&63)+se(128|63&ye);var ye=65536+1024*(G.charCodeAt(0)-55296)+(G.charCodeAt(1)-56320);return se(240|ye>>>18&7)+se(128|ye>>>12&63)+se(128|ye>>>6&63)+se(128|63&ye)},Fe=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Ze=J?G=>Buffer.from(G,"utf8").toString("base64"):ne?G=>Ae(ne.encode(G)):G=>et((G=>G.replace(Fe,Be))(G)),Qe=(G,ye=!1)=>ye?(G=>G.replace(/=/g,"").replace(/[+\/]/g,ye=>"+"==ye?"-":"_"))(Ze(G)):Ze(G),vt=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,ht=G=>{switch(G.length){case 4:var Se=((7&G.charCodeAt(0))<<18|(63&G.charCodeAt(1))<<12|(63&G.charCodeAt(2))<<6|63&G.charCodeAt(3))-65536;return se(55296+(Se>>>10))+se(56320+(1023&Se));case 3:return se((15&G.charCodeAt(0))<<12|(63&G.charCodeAt(1))<<6|63&G.charCodeAt(2));default:return se((31&G.charCodeAt(0))<<6|63&G.charCodeAt(1))}},qt=z?G=>atob(Ne(G)):J?G=>Buffer.from(G,"base64").toString("binary"):G=>{if(G=G.replace(/\s+/g,""),!R.test(G))throw new TypeError("malformed base64.");G+="==".slice(2-(3&G.length));let ye,D,F,Se="";for(let L=0;L<G.length;)ye=Y[G.charAt(L++)]<<18|Y[G.charAt(L++)]<<12|(D=Y[G.charAt(L++)])<<6|(F=Y[G.charAt(L++)]),Se+=64===D?se(ye>>16&255):64===F?se(ye>>16&255,ye>>8&255):se(ye>>16&255,ye>>8&255,255&ye);return Se},Lt=J?G=>pe(Buffer.from(G,"base64")):G=>pe(qt(G).split("").map(ye=>ye.charCodeAt(0))),ln=J?G=>Buffer.from(G,"base64").toString("utf8"):q?G=>q.decode(Lt(G)):G=>(G=>G.replace(vt,ht))(qt(G)),Ht=G=>ln((G=>Ne(G.replace(/[-_]/g,ye=>"-"==ye?"+":"/")))(G));function Tt(G,ye,Se){const D=S(S({},{method:G}),ye);if(D.headers=S({},ye.headers),typeof XMLHttpRequest<"u"){const F=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"withCredentials");null!=F&&F.set||(D.credentials="cocos-ignore")}return Object.keys(D.headers).includes("Accept")||(D.headers.Accept="application/json"),Object.keys(D.headers).includes("Content-Type")||(D.headers["Content-Type"]="application/json"),Object.keys(D.headers).forEach(F=>{D.headers[F]||delete D.headers[F]}),Se&&(D.body=Se),D}var Jt=class{constructor(G,ye,Se){this.serverKey=G,this.basePath=ye,this.timeoutMs=Se}healthcheck(G,ye={}){const L=this.buildFullUrl(this.basePath,"/healthcheck",new Map),ee=Tt("GET",ye,"");return G&&(ee.headers.Authorization="Bearer "+G),Promise.race([fetch(L,ee).then(re=>{if(204==re.status)return re;if(re.status>=200&&re.status<300)return re.json();throw re}),new Promise((re,Q)=>setTimeout(Q,this.timeoutMs,"Request timed out."))])}getAccount(G,ye={}){const L=this.buildFullUrl(this.basePath,"/v2/account",new Map),ee=Tt("GET",ye,"");return G&&(ee.headers.Authorization="Bearer "+G),Promise.race([fetch(L,ee).then(re=>{if(204==re.status)return re;if(re.status>=200&&re.status<300)return re.json();throw re}),new Promise((re,Q)=>setTimeout(Q,this.timeoutMs,"Request timed out."))])}updateAccount(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/account",F),re=Tt("PUT",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}authenticateApple(G,ye,Se,D,F,L={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const re=new Map;re.set("create",D),re.set("username",F);let Q="";Q=JSON.stringify(Se||{});const he=this.buildFullUrl(this.basePath,"/v2/account/authenticate/apple",re),Re=Tt("POST",L,Q);return Re.headers.Authorization="Basic "+Qe(G+":"+ye),Promise.race([fetch(he,Re).then(rt=>{if(204==rt.status)return rt;if(rt.status>=200&&rt.status<300)return rt.json();throw rt}),new Promise((rt,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}authenticateCustom(G,ye,Se,D,F,L={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const re=new Map;re.set("create",D),re.set("username",F);let Q="";Q=JSON.stringify(Se||{});const he=this.buildFullUrl(this.basePath,"/v2/account/authenticate/custom",re),Re=Tt("POST",L,Q);return Re.headers.Authorization="Basic "+Qe(G+":"+ye),Promise.race([fetch(he,Re).then(rt=>{if(204==rt.status)return rt;if(rt.status>=200&&rt.status<300)return rt.json();throw rt}),new Promise((rt,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}authenticateDevice(G,ye,Se,D,F,L={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const re=new Map;re.set("create",D),re.set("username",F);let Q="";Q=JSON.stringify(Se||{});const he=this.buildFullUrl(this.basePath,"/v2/account/authenticate/device",re),Re=Tt("POST",L,Q);return Re.headers.Authorization="Basic "+Qe(G+":"+ye),Promise.race([fetch(he,Re).then(rt=>{if(204==rt.status)return rt;if(rt.status>=200&&rt.status<300)return rt.json();throw rt}),new Promise((rt,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}authenticateEmail(G,ye,Se,D,F,L={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const re=new Map;re.set("create",D),re.set("username",F);let Q="";Q=JSON.stringify(Se||{});const he=this.buildFullUrl(this.basePath,"/v2/account/authenticate/email",re),Re=Tt("POST",L,Q);return Re.headers.Authorization="Basic "+Qe(G+":"+ye),Promise.race([fetch(he,Re).then(rt=>{if(204==rt.status)return rt;if(rt.status>=200&&rt.status<300)return rt.json();throw rt}),new Promise((rt,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}authenticateFacebook(G,ye,Se,D,F,L,ee={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const Q=new Map;Q.set("create",D),Q.set("username",F),Q.set("sync",L);let he="";he=JSON.stringify(Se||{});const Re=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebook",Q),rt=Tt("POST",ee,he);return rt.headers.Authorization="Basic "+Qe(G+":"+ye),Promise.race([fetch(Re,rt).then(_t=>{if(204==_t.status)return _t;if(_t.status>=200&&_t.status<300)return _t.json();throw _t}),new Promise((_t,Xt)=>setTimeout(Xt,this.timeoutMs,"Request timed out."))])}authenticateFacebookInstantGame(G,ye,Se,D,F,L={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const re=new Map;re.set("create",D),re.set("username",F);let Q="";Q=JSON.stringify(Se||{});const he=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebookinstantgame",re),Re=Tt("POST",L,Q);return Re.headers.Authorization="Basic "+Qe(G+":"+ye),Promise.race([fetch(he,Re).then(rt=>{if(204==rt.status)return rt;if(rt.status>=200&&rt.status<300)return rt.json();throw rt}),new Promise((rt,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}authenticateGameCenter(G,ye,Se,D,F,L={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const re=new Map;re.set("create",D),re.set("username",F);let Q="";Q=JSON.stringify(Se||{});const he=this.buildFullUrl(this.basePath,"/v2/account/authenticate/gamecenter",re),Re=Tt("POST",L,Q);return Re.headers.Authorization="Basic "+Qe(G+":"+ye),Promise.race([fetch(he,Re).then(rt=>{if(204==rt.status)return rt;if(rt.status>=200&&rt.status<300)return rt.json();throw rt}),new Promise((rt,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}authenticateGoogle(G,ye,Se,D,F,L={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const re=new Map;re.set("create",D),re.set("username",F);let Q="";Q=JSON.stringify(Se||{});const he=this.buildFullUrl(this.basePath,"/v2/account/authenticate/google",re),Re=Tt("POST",L,Q);return Re.headers.Authorization="Basic "+Qe(G+":"+ye),Promise.race([fetch(he,Re).then(rt=>{if(204==rt.status)return rt;if(rt.status>=200&&rt.status<300)return rt.json();throw rt}),new Promise((rt,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}authenticateSteam(G,ye,Se,D,F,L,ee={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const Q=new Map;Q.set("create",D),Q.set("username",F),Q.set("sync",L);let he="";he=JSON.stringify(Se||{});const Re=this.buildFullUrl(this.basePath,"/v2/account/authenticate/steam",Q),rt=Tt("POST",ee,he);return rt.headers.Authorization="Basic "+Qe(G+":"+ye),Promise.race([fetch(Re,rt).then(_t=>{if(204==_t.status)return _t;if(_t.status>=200&&_t.status<300)return _t.json();throw _t}),new Promise((_t,Xt)=>setTimeout(Xt,this.timeoutMs,"Request timed out."))])}linkApple(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/account/link/apple",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}linkCustom(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/account/link/custom",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}linkDevice(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/account/link/device",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}linkEmail(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/account/link/email",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}linkFacebook(G,ye,Se,D={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const L=new Map;L.set("sync",Se);let ee="";ee=JSON.stringify(ye||{});const re=this.buildFullUrl(this.basePath,"/v2/account/link/facebook",L),Q=Tt("POST",D,ee);return G&&(Q.headers.Authorization="Bearer "+G),Promise.race([fetch(re,Q).then(he=>{if(204==he.status)return he;if(he.status>=200&&he.status<300)return he.json();throw he}),new Promise((he,Re)=>setTimeout(Re,this.timeoutMs,"Request timed out."))])}linkFacebookInstantGame(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/account/link/facebookinstantgame",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}linkGameCenter(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/account/link/gamecenter",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}linkGoogle(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/account/link/google",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}linkSteam(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/account/link/steam",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}sessionRefresh(G,ye,Se,D={}){if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const L=new Map;let ee="";ee=JSON.stringify(Se||{});const re=this.buildFullUrl(this.basePath,"/v2/account/session/refresh",L),Q=Tt("POST",D,ee);return Q.headers.Authorization="Basic "+Qe(G+":"+ye),Promise.race([fetch(re,Q).then(he=>{if(204==he.status)return he;if(he.status>=200&&he.status<300)return he.json();throw he}),new Promise((he,Re)=>setTimeout(Re,this.timeoutMs,"Request timed out."))])}unlinkApple(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/account/unlink/apple",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}unlinkCustom(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/account/unlink/custom",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}unlinkDevice(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/account/unlink/device",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}unlinkEmail(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/account/unlink/email",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}unlinkFacebook(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebook",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}unlinkFacebookInstantGame(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebookinstantgame",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}unlinkGameCenter(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/account/unlink/gamecenter",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}unlinkGoogle(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/account/unlink/google",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}unlinkSteam(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/account/unlink/steam",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}listChannelMessages(G,ye,Se,D,F,L={}){if(null==ye)throw new Error("'channelId' is a required parameter but is null or undefined.");const ee="/v2/channel/{channelId}".replace("{channelId}",encodeURIComponent(String(ye))),re=new Map;re.set("limit",Se),re.set("forward",D),re.set("cursor",F);const he=this.buildFullUrl(this.basePath,ee,re),Re=Tt("GET",L,"");return G&&(Re.headers.Authorization="Bearer "+G),Promise.race([fetch(he,Re).then(rt=>{if(204==rt.status)return rt;if(rt.status>=200&&rt.status<300)return rt.json();throw rt}),new Promise((rt,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}event(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/event",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}deleteFriends(G,ye,Se,D={}){const L=new Map;L.set("ids",ye),L.set("usernames",Se);const re=this.buildFullUrl(this.basePath,"/v2/friend",L),Q=Tt("DELETE",D,"");return G&&(Q.headers.Authorization="Bearer "+G),Promise.race([fetch(re,Q).then(he=>{if(204==he.status)return he;if(he.status>=200&&he.status<300)return he.json();throw he}),new Promise((he,Re)=>setTimeout(Re,this.timeoutMs,"Request timed out."))])}listFriends(G,ye,Se,D,F={}){const ee=new Map;ee.set("limit",ye),ee.set("state",Se),ee.set("cursor",D);const Q=this.buildFullUrl(this.basePath,"/v2/friend",ee),he=Tt("GET",F,"");return G&&(he.headers.Authorization="Bearer "+G),Promise.race([fetch(Q,he).then(Re=>{if(204==Re.status)return Re;if(Re.status>=200&&Re.status<300)return Re.json();throw Re}),new Promise((Re,rt)=>setTimeout(rt,this.timeoutMs,"Request timed out."))])}addFriends(G,ye,Se,D={}){const L=new Map;L.set("ids",ye),L.set("usernames",Se);const re=this.buildFullUrl(this.basePath,"/v2/friend",L),Q=Tt("POST",D,"");return G&&(Q.headers.Authorization="Bearer "+G),Promise.race([fetch(re,Q).then(he=>{if(204==he.status)return he;if(he.status>=200&&he.status<300)return he.json();throw he}),new Promise((he,Re)=>setTimeout(Re,this.timeoutMs,"Request timed out."))])}blockFriends(G,ye,Se,D={}){const L=new Map;L.set("ids",ye),L.set("usernames",Se);const re=this.buildFullUrl(this.basePath,"/v2/friend/block",L),Q=Tt("POST",D,"");return G&&(Q.headers.Authorization="Bearer "+G),Promise.race([fetch(re,Q).then(he=>{if(204==he.status)return he;if(he.status>=200&&he.status<300)return he.json();throw he}),new Promise((he,Re)=>setTimeout(Re,this.timeoutMs,"Request timed out."))])}importFacebookFriends(G,ye,Se,D={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const L=new Map;L.set("reset",Se);let ee="";ee=JSON.stringify(ye||{});const re=this.buildFullUrl(this.basePath,"/v2/friend/facebook",L),Q=Tt("POST",D,ee);return G&&(Q.headers.Authorization="Bearer "+G),Promise.race([fetch(re,Q).then(he=>{if(204==he.status)return he;if(he.status>=200&&he.status<300)return he.json();throw he}),new Promise((he,Re)=>setTimeout(Re,this.timeoutMs,"Request timed out."))])}importSteamFriends(G,ye,Se,D={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const L=new Map;L.set("reset",Se);let ee="";ee=JSON.stringify(ye||{});const re=this.buildFullUrl(this.basePath,"/v2/friend/steam",L),Q=Tt("POST",D,ee);return G&&(Q.headers.Authorization="Bearer "+G),Promise.race([fetch(re,Q).then(he=>{if(204==he.status)return he;if(he.status>=200&&he.status<300)return he.json();throw he}),new Promise((he,Re)=>setTimeout(Re,this.timeoutMs,"Request timed out."))])}listGroups(G,ye,Se,D,F,L,ee,re={}){const he=new Map;he.set("name",ye),he.set("cursor",Se),he.set("limit",D),he.set("lang_tag",F),he.set("members",L),he.set("open",ee);const rt=this.buildFullUrl(this.basePath,"/v2/group",he),_t=Tt("GET",re,"");return G&&(_t.headers.Authorization="Bearer "+G),Promise.race([fetch(rt,_t).then(Xt=>{if(204==Xt.status)return Xt;if(Xt.status>=200&&Xt.status<300)return Xt.json();throw Xt}),new Promise((Xt,un)=>setTimeout(un,this.timeoutMs,"Request timed out."))])}createGroup(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/group",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}deleteGroup(G,ye,Se={}){if(null==ye)throw new Error("'groupId' is a required parameter but is null or undefined.");const D="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(ye))),ee=this.buildFullUrl(this.basePath,D,new Map),re=Tt("DELETE",Se,"");return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}updateGroup(G,ye,Se,D={}){if(null==ye)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const F="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(ye))),L=new Map;let ee="";ee=JSON.stringify(Se||{});const re=this.buildFullUrl(this.basePath,F,L),Q=Tt("PUT",D,ee);return G&&(Q.headers.Authorization="Bearer "+G),Promise.race([fetch(re,Q).then(he=>{if(204==he.status)return he;if(he.status>=200&&he.status<300)return he.json();throw he}),new Promise((he,Re)=>setTimeout(Re,this.timeoutMs,"Request timed out."))])}addGroupUsers(G,ye,Se,D={}){if(null==ye)throw new Error("'groupId' is a required parameter but is null or undefined.");const F="/v2/group/{groupId}/add".replace("{groupId}",encodeURIComponent(String(ye))),L=new Map;L.set("user_ids",Se);const re=this.buildFullUrl(this.basePath,F,L),Q=Tt("POST",D,"");return G&&(Q.headers.Authorization="Bearer "+G),Promise.race([fetch(re,Q).then(he=>{if(204==he.status)return he;if(he.status>=200&&he.status<300)return he.json();throw he}),new Promise((he,Re)=>setTimeout(Re,this.timeoutMs,"Request timed out."))])}banGroupUsers(G,ye,Se,D={}){if(null==ye)throw new Error("'groupId' is a required parameter but is null or undefined.");const F="/v2/group/{groupId}/ban".replace("{groupId}",encodeURIComponent(String(ye))),L=new Map;L.set("user_ids",Se);const re=this.buildFullUrl(this.basePath,F,L),Q=Tt("POST",D,"");return G&&(Q.headers.Authorization="Bearer "+G),Promise.race([fetch(re,Q).then(he=>{if(204==he.status)return he;if(he.status>=200&&he.status<300)return he.json();throw he}),new Promise((he,Re)=>setTimeout(Re,this.timeoutMs,"Request timed out."))])}demoteGroupUsers(G,ye,Se,D={}){if(null==ye)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'userIds' is a required parameter but is null or undefined.");const F="/v2/group/{groupId}/demote".replace("{groupId}",encodeURIComponent(String(ye))),L=new Map;L.set("user_ids",Se);const re=this.buildFullUrl(this.basePath,F,L),Q=Tt("POST",D,"");return G&&(Q.headers.Authorization="Bearer "+G),Promise.race([fetch(re,Q).then(he=>{if(204==he.status)return he;if(he.status>=200&&he.status<300)return he.json();throw he}),new Promise((he,Re)=>setTimeout(Re,this.timeoutMs,"Request timed out."))])}joinGroup(G,ye,Se={}){if(null==ye)throw new Error("'groupId' is a required parameter but is null or undefined.");const D="/v2/group/{groupId}/join".replace("{groupId}",encodeURIComponent(String(ye))),ee=this.buildFullUrl(this.basePath,D,new Map),re=Tt("POST",Se,"");return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}kickGroupUsers(G,ye,Se,D={}){if(null==ye)throw new Error("'groupId' is a required parameter but is null or undefined.");const F="/v2/group/{groupId}/kick".replace("{groupId}",encodeURIComponent(String(ye))),L=new Map;L.set("user_ids",Se);const re=this.buildFullUrl(this.basePath,F,L),Q=Tt("POST",D,"");return G&&(Q.headers.Authorization="Bearer "+G),Promise.race([fetch(re,Q).then(he=>{if(204==he.status)return he;if(he.status>=200&&he.status<300)return he.json();throw he}),new Promise((he,Re)=>setTimeout(Re,this.timeoutMs,"Request timed out."))])}leaveGroup(G,ye,Se={}){if(null==ye)throw new Error("'groupId' is a required parameter but is null or undefined.");const D="/v2/group/{groupId}/leave".replace("{groupId}",encodeURIComponent(String(ye))),ee=this.buildFullUrl(this.basePath,D,new Map),re=Tt("POST",Se,"");return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}promoteGroupUsers(G,ye,Se,D={}){if(null==ye)throw new Error("'groupId' is a required parameter but is null or undefined.");const F="/v2/group/{groupId}/promote".replace("{groupId}",encodeURIComponent(String(ye))),L=new Map;L.set("user_ids",Se);const re=this.buildFullUrl(this.basePath,F,L),Q=Tt("POST",D,"");return G&&(Q.headers.Authorization="Bearer "+G),Promise.race([fetch(re,Q).then(he=>{if(204==he.status)return he;if(he.status>=200&&he.status<300)return he.json();throw he}),new Promise((he,Re)=>setTimeout(Re,this.timeoutMs,"Request timed out."))])}listGroupUsers(G,ye,Se,D,F,L={}){if(null==ye)throw new Error("'groupId' is a required parameter but is null or undefined.");const ee="/v2/group/{groupId}/user".replace("{groupId}",encodeURIComponent(String(ye))),re=new Map;re.set("limit",Se),re.set("state",D),re.set("cursor",F);const he=this.buildFullUrl(this.basePath,ee,re),Re=Tt("GET",L,"");return G&&(Re.headers.Authorization="Bearer "+G),Promise.race([fetch(he,Re).then(rt=>{if(204==rt.status)return rt;if(rt.status>=200&&rt.status<300)return rt.json();throw rt}),new Promise((rt,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}validatePurchaseApple(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/iap/purchase/apple",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}validatePurchaseGoogle(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/iap/purchase/google",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}validatePurchaseHuawei(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/iap/purchase/huawei",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}deleteLeaderboardRecord(G,ye,Se={}){if(null==ye)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const D="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(ye))),ee=this.buildFullUrl(this.basePath,D,new Map),re=Tt("DELETE",Se,"");return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}listLeaderboardRecords(G,ye,Se,D,F,L,ee={}){if(null==ye)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const re="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(ye))),Q=new Map;Q.set("owner_ids",Se),Q.set("limit",D),Q.set("cursor",F),Q.set("expiry",L);const Re=this.buildFullUrl(this.basePath,re,Q),rt=Tt("GET",ee,"");return G&&(rt.headers.Authorization="Bearer "+G),Promise.race([fetch(Re,rt).then(_t=>{if(204==_t.status)return _t;if(_t.status>=200&&_t.status<300)return _t.json();throw _t}),new Promise((_t,Xt)=>setTimeout(Xt,this.timeoutMs,"Request timed out."))])}writeLeaderboardRecord(G,ye,Se,D={}){if(null==ye)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const F="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(ye))),L=new Map;let ee="";ee=JSON.stringify(Se||{});const re=this.buildFullUrl(this.basePath,F,L),Q=Tt("POST",D,ee);return G&&(Q.headers.Authorization="Bearer "+G),Promise.race([fetch(re,Q).then(he=>{if(204==he.status)return he;if(he.status>=200&&he.status<300)return he.json();throw he}),new Promise((he,Re)=>setTimeout(Re,this.timeoutMs,"Request timed out."))])}listLeaderboardRecordsAroundOwner(G,ye,Se,D,F,L={}){if(null==ye)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'ownerId' is a required parameter but is null or undefined.");const ee="/v2/leaderboard/{leaderboardId}/owner/{ownerId}".replace("{leaderboardId}",encodeURIComponent(String(ye))).replace("{ownerId}",encodeURIComponent(String(Se))),re=new Map;re.set("limit",D),re.set("expiry",F);const he=this.buildFullUrl(this.basePath,ee,re),Re=Tt("GET",L,"");return G&&(Re.headers.Authorization="Bearer "+G),Promise.race([fetch(he,Re).then(rt=>{if(204==rt.status)return rt;if(rt.status>=200&&rt.status<300)return rt.json();throw rt}),new Promise((rt,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}listMatches(G,ye,Se,D,F,L,ee,re={}){const he=new Map;he.set("limit",ye),he.set("authoritative",Se),he.set("label",D),he.set("min_size",F),he.set("max_size",L),he.set("query",ee);const rt=this.buildFullUrl(this.basePath,"/v2/match",he),_t=Tt("GET",re,"");return G&&(_t.headers.Authorization="Bearer "+G),Promise.race([fetch(rt,_t).then(Xt=>{if(204==Xt.status)return Xt;if(Xt.status>=200&&Xt.status<300)return Xt.json();throw Xt}),new Promise((Xt,un)=>setTimeout(un,this.timeoutMs,"Request timed out."))])}deleteNotifications(G,ye,Se={}){const F=new Map;F.set("ids",ye);const ee=this.buildFullUrl(this.basePath,"/v2/notification",F),re=Tt("DELETE",Se,"");return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}listNotifications(G,ye,Se,D={}){const L=new Map;L.set("limit",ye),L.set("cacheable_cursor",Se);const re=this.buildFullUrl(this.basePath,"/v2/notification",L),Q=Tt("GET",D,"");return G&&(Q.headers.Authorization="Bearer "+G),Promise.race([fetch(re,Q).then(he=>{if(204==he.status)return he;if(he.status>=200&&he.status<300)return he.json();throw he}),new Promise((he,Re)=>setTimeout(Re,this.timeoutMs,"Request timed out."))])}rpcFunc2(G,ye,Se,D,F={}){if(null==ye)throw new Error("'id' is a required parameter but is null or undefined.");const L="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(ye))),ee=new Map;ee.set("payload",Se),ee.set("http_key",D);const Q=this.buildFullUrl(this.basePath,L,ee),he=Tt("GET",F,"");return G&&(he.headers.Authorization="Bearer "+G),Promise.race([fetch(Q,he).then(Re=>{if(204==Re.status)return Re;if(Re.status>=200&&Re.status<300)return Re.json();throw Re}),new Promise((Re,rt)=>setTimeout(rt,this.timeoutMs,"Request timed out."))])}rpcFunc(G,ye,Se,D,F={}){if(null==ye)throw new Error("'id' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const L="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(ye))),ee=new Map;ee.set("http_key",D);let re="";re=JSON.stringify(Se||{});const Q=this.buildFullUrl(this.basePath,L,ee),he=Tt("POST",F,re);return G&&(he.headers.Authorization="Bearer "+G),Promise.race([fetch(Q,he).then(Re=>{if(204==Re.status)return Re;if(Re.status>=200&&Re.status<300)return Re.json();throw Re}),new Promise((Re,rt)=>setTimeout(rt,this.timeoutMs,"Request timed out."))])}sessionLogout(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/session/logout",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}readStorageObjects(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/storage",F),re=Tt("POST",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}writeStorageObjects(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/storage",F),re=Tt("PUT",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}deleteStorageObjects(G,ye,Se={}){if(null==ye)throw new Error("'body' is a required parameter but is null or undefined.");const F=new Map;let L="";L=JSON.stringify(ye||{});const ee=this.buildFullUrl(this.basePath,"/v2/storage/delete",F),re=Tt("PUT",Se,L);return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}listStorageObjects(G,ye,Se,D,F,L={}){if(null==ye)throw new Error("'collection' is a required parameter but is null or undefined.");const ee="/v2/storage/{collection}".replace("{collection}",encodeURIComponent(String(ye))),re=new Map;re.set("user_id",Se),re.set("limit",D),re.set("cursor",F);const he=this.buildFullUrl(this.basePath,ee,re),Re=Tt("GET",L,"");return G&&(Re.headers.Authorization="Bearer "+G),Promise.race([fetch(he,Re).then(rt=>{if(204==rt.status)return rt;if(rt.status>=200&&rt.status<300)return rt.json();throw rt}),new Promise((rt,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}listStorageObjects2(G,ye,Se,D,F,L={}){if(null==ye)throw new Error("'collection' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'userId' is a required parameter but is null or undefined.");const ee="/v2/storage/{collection}/{userId}".replace("{collection}",encodeURIComponent(String(ye))).replace("{userId}",encodeURIComponent(String(Se))),re=new Map;re.set("limit",D),re.set("cursor",F);const he=this.buildFullUrl(this.basePath,ee,re),Re=Tt("GET",L,"");return G&&(Re.headers.Authorization="Bearer "+G),Promise.race([fetch(he,Re).then(rt=>{if(204==rt.status)return rt;if(rt.status>=200&&rt.status<300)return rt.json();throw rt}),new Promise((rt,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}listTournaments(G,ye,Se,D,F,L,ee,re={}){const he=new Map;he.set("category_start",ye),he.set("category_end",Se),he.set("start_time",D),he.set("end_time",F),he.set("limit",L),he.set("cursor",ee);const rt=this.buildFullUrl(this.basePath,"/v2/tournament",he),_t=Tt("GET",re,"");return G&&(_t.headers.Authorization="Bearer "+G),Promise.race([fetch(rt,_t).then(Xt=>{if(204==Xt.status)return Xt;if(Xt.status>=200&&Xt.status<300)return Xt.json();throw Xt}),new Promise((Xt,un)=>setTimeout(un,this.timeoutMs,"Request timed out."))])}listTournamentRecords(G,ye,Se,D,F,L,ee={}){if(null==ye)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const re="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(ye))),Q=new Map;Q.set("owner_ids",Se),Q.set("limit",D),Q.set("cursor",F),Q.set("expiry",L);const Re=this.buildFullUrl(this.basePath,re,Q),rt=Tt("GET",ee,"");return G&&(rt.headers.Authorization="Bearer "+G),Promise.race([fetch(Re,rt).then(_t=>{if(204==_t.status)return _t;if(_t.status>=200&&_t.status<300)return _t.json();throw _t}),new Promise((_t,Xt)=>setTimeout(Xt,this.timeoutMs,"Request timed out."))])}writeTournamentRecord2(G,ye,Se,D={}){if(null==ye)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const F="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(ye))),L=new Map;let ee="";ee=JSON.stringify(Se||{});const re=this.buildFullUrl(this.basePath,F,L),Q=Tt("POST",D,ee);return G&&(Q.headers.Authorization="Bearer "+G),Promise.race([fetch(re,Q).then(he=>{if(204==he.status)return he;if(he.status>=200&&he.status<300)return he.json();throw he}),new Promise((he,Re)=>setTimeout(Re,this.timeoutMs,"Request timed out."))])}writeTournamentRecord(G,ye,Se,D={}){if(null==ye)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'body' is a required parameter but is null or undefined.");const F="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(ye))),L=new Map;let ee="";ee=JSON.stringify(Se||{});const re=this.buildFullUrl(this.basePath,F,L),Q=Tt("PUT",D,ee);return G&&(Q.headers.Authorization="Bearer "+G),Promise.race([fetch(re,Q).then(he=>{if(204==he.status)return he;if(he.status>=200&&he.status<300)return he.json();throw he}),new Promise((he,Re)=>setTimeout(Re,this.timeoutMs,"Request timed out."))])}joinTournament(G,ye,Se={}){if(null==ye)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const D="/v2/tournament/{tournamentId}/join".replace("{tournamentId}",encodeURIComponent(String(ye))),ee=this.buildFullUrl(this.basePath,D,new Map),re=Tt("POST",Se,"");return G&&(re.headers.Authorization="Bearer "+G),Promise.race([fetch(ee,re).then(Q=>{if(204==Q.status)return Q;if(Q.status>=200&&Q.status<300)return Q.json();throw Q}),new Promise((Q,he)=>setTimeout(he,this.timeoutMs,"Request timed out."))])}listTournamentRecordsAroundOwner(G,ye,Se,D,F,L={}){if(null==ye)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Se)throw new Error("'ownerId' is a required parameter but is null or undefined.");const ee="/v2/tournament/{tournamentId}/owner/{ownerId}".replace("{tournamentId}",encodeURIComponent(String(ye))).replace("{ownerId}",encodeURIComponent(String(Se))),re=new Map;re.set("limit",D),re.set("expiry",F);const he=this.buildFullUrl(this.basePath,ee,re),Re=Tt("GET",L,"");return G&&(Re.headers.Authorization="Bearer "+G),Promise.race([fetch(he,Re).then(rt=>{if(204==rt.status)return rt;if(rt.status>=200&&rt.status<300)return rt.json();throw rt}),new Promise((rt,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}getUsers(G,ye,Se,D,F={}){const ee=new Map;ee.set("ids",ye),ee.set("usernames",Se),ee.set("facebook_ids",D);const Q=this.buildFullUrl(this.basePath,"/v2/user",ee),he=Tt("GET",F,"");return G&&(he.headers.Authorization="Bearer "+G),Promise.race([fetch(Q,he).then(Re=>{if(204==Re.status)return Re;if(Re.status>=200&&Re.status<300)return Re.json();throw Re}),new Promise((Re,rt)=>setTimeout(rt,this.timeoutMs,"Request timed out."))])}listUserGroups(G,ye,Se,D,F,L={}){if(null==ye)throw new Error("'userId' is a required parameter but is null or undefined.");const ee="/v2/user/{userId}/group".replace("{userId}",encodeURIComponent(String(ye))),re=new Map;re.set("limit",Se),re.set("state",D),re.set("cursor",F);const he=this.buildFullUrl(this.basePath,ee,re),Re=Tt("GET",L,"");return G&&(Re.headers.Authorization="Bearer "+G),Promise.race([fetch(he,Re).then(rt=>{if(204==rt.status)return rt;if(rt.status>=200&&rt.status<300)return rt.json();throw rt}),new Promise((rt,_t)=>setTimeout(_t,this.timeoutMs,"Request timed out."))])}buildFullUrl(G,ye,Se){let D=G+ye+"?";for(let[F,L]of Se)L instanceof Array?D+=L.reduce((ee,re)=>ee+encodeURIComponent(F)+"="+encodeURIComponent(re)+"&",""):null!=L&&(D+=encodeURIComponent(F)+"="+encodeURIComponent(L)+"&");return D}},bt=class{constructor(G,ye,Se){this.created=Se,this.token=G,this.refresh_token=ye,this.created_at=Math.floor((new Date).getTime()/1e3),this.update(G,ye)}isexpired(G){return this.expires_at-G<0}isrefreshexpired(G){return this.refresh_expires_at-G<0}update(G,ye){const Se=G.split(".");if(3!=Se.length)throw"jwt is not valid.";const D=JSON.parse(qt(Se[1])),F=Math.floor(parseInt(D.exp));if(ye){const L=ye.split(".");if(3!=L.length)throw"refresh jwt is not valid.";const ee=JSON.parse(qt(L[1])),re=Math.floor(parseInt(ee.exp));this.refresh_expires_at=re,this.refresh_token=ye}this.token=G,this.expires_at=F,this.username=D.usn,this.user_id=D.uid,this.vars=D.vrs}static restore(G,ye){return new bt(G,ye,!1)}},zt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Et=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Pe=0;Pe<64;Pe++)Et[zt.charCodeAt(Pe)]=Pe;var Pe,Ge=function(G){var Se,ye=new Uint8Array(G),D=ye.length,F="";for(Se=0;Se<D;Se+=3)F+=zt[ye[Se]>>2],F+=zt[(3&ye[Se])<<4|ye[Se+1]>>4],F+=zt[(15&ye[Se+1])<<2|ye[Se+2]>>6],F+=zt[63&ye[Se+2]];return D%3==2?F=F.substring(0,F.length-1)+"=":D%3==1&&(F=F.substring(0,F.length-2)+"=="),F},Ie=function(G){var D,L,ee,re,Q,ye=.75*G.length,Se=G.length,F=0;"="===G[G.length-1]&&(ye--,"="===G[G.length-2]&&ye--);var he=new ArrayBuffer(ye),Re=new Uint8Array(he);for(D=0;D<Se;D+=4)L=Et[G.charCodeAt(D)],ee=Et[G.charCodeAt(D+1)],re=Et[G.charCodeAt(D+2)],Q=Et[G.charCodeAt(D+3)],Re[F++]=L<<2|ee>>4,Re[F++]=(15&ee)<<4|re>>2,Re[F++]=(3&re)<<6|63&Q;return he},ze=class{get onClose(){return this._socket.onclose}set onClose(G){this._socket.onclose=G}get onError(){return this._socket.onerror}set onError(G){this._socket.onerror=G}get onMessage(){return this._socket.onmessage}set onMessage(G){G?this._socket.onmessage=ye=>{const Se=JSON.parse(ye.data);Se.match_data&&Se.match_data.data?Se.match_data.data=new Uint8Array(Ie(Se.match_data.data)):Se.party_data&&Se.party_data.data&&(Se.party_data.data=new Uint8Array(Ie(Se.party_data.data))),G(Se)}:G=null}get onOpen(){return this._socket.onopen}set onOpen(G){this._socket.onopen=G}isOpen(){var G;return(null==(G=this._socket)?void 0:G.readyState)==WebSocket.OPEN}connect(G,ye,Se,D,F){const L=`${G}${ye}:${Se}/ws?lang=en&status=${encodeURIComponent(D.toString())}&token=${encodeURIComponent(F)}`;this._socket=new WebSocket(L)}close(){this._socket.close(),this._socket=void 0}send(G){if(G.match_data_send){G.match_data_send.op_code=G.match_data_send.op_code.toString();let ye=G.match_data_send.data;ye&&ye instanceof Uint8Array?G.match_data_send.data=Ge(ye.buffer):ye&&(G.match_data_send.data=et(ye))}else if(G.party_data_send){G.party_data_send.op_code=G.party_data_send.op_code.toString();let ye=G.party_data_send.data;ye&&ye instanceof Uint8Array?G.party_data_send.data=Ge(ye.buffer):ye&&(G.party_data_send.data=et(ye))}this._socket.send(JSON.stringify(G))}},wt=class{constructor(G,ye,Se=!1,D=!1,F=new ze,L=wt.DefaultSendTimeoutMs){this.host=G,this.port=ye,this.useSSL=Se,this.verbose=D,this.adapter=F,this.sendTimeoutMs=L,this.cIds={},this.nextCid=1,this._heartbeatTimeoutMs=wt.DefaultHeartbeatTimeoutMs}generatecid(){const G=this.nextCid.toString();return++this.nextCid,G}connect(G,ye=!1,Se=wt.DefaultConnectTimeoutMs){return this.adapter.isOpen()?Promise.resolve(G):(this.adapter.connect(this.useSSL?"wss://":"ws://",this.host,this.port,ye,G.token),this.adapter.onClose=F=>{this.ondisconnect(F)},this.adapter.onError=F=>{this.onerror(F)},this.adapter.onMessage=F=>{if(this.verbose&&window&&window.console&&console.log("Response: %o",JSON.stringify(F)),F.cid){const L=this.cIds[F.cid];if(!L)return void(this.verbose&&window&&window.console&&console.error("No promise executor for message: %o",F));delete this.cIds[F.cid],F.error?L.reject(F.error):L.resolve(F)}else F.notifications?F.notifications.notifications.forEach(L=>{L.content=L.content?JSON.parse(L.content):void 0,this.onnotification(L)}):F.match_data?(F.match_data.op_code=parseInt(F.match_data.op_code),this.onmatchdata(F.match_data)):F.match_presence_event?this.onmatchpresence(F.match_presence_event):F.matchmaker_ticket?this.onmatchmakerticket(F.matchmaker_ticket):F.matchmaker_matched?this.onmatchmakermatched(F.matchmaker_matched):F.status_presence_event?this.onstatuspresence(F.status_presence_event):F.stream_presence_event?this.onstreampresence(F.stream_presence_event):F.stream_data?this.onstreamdata(F.stream_data):F.channel_message?(F.channel_message.content=JSON.parse(F.channel_message.content),this.onchannelmessage(F.channel_message)):F.channel_presence_event?this.onchannelpresence(F.channel_presence_event):F.party_data?(F.party_data.op_code=parseInt(F.party_data.op_code),this.onpartydata(F.party_data)):F.party_close?this.onpartyclose(F.party_close):F.party_join_request?this.onpartyjoinrequest(F.party_join_request):F.party_leader?this.onpartyleader(F.party_leader):F.party_matchmaker_ticket?this.onpartymatchmakerticket(F.party_matchmaker_ticket):F.party_presence_event?this.onpartypresence(F.party_presence_event):F.party?this.onparty(F.party):this.verbose&&window&&window.console&&console.log("Unrecognized message received: %o",F)},new Promise((F,L)=>{this.adapter.onOpen=ee=>{this.verbose&&window&&window.console&&console.log(ee),this.pingPong(),F(G)},this.adapter.onError=ee=>{L(ee),this.adapter.close()},setTimeout(()=>{L("The socket timed out when trying to connect.")},Se)}))}disconnect(G=!0){this.adapter.isOpen()&&this.adapter.close(),G&&this.ondisconnect({})}setHeartbeatTimeoutMs(G){this._heartbeatTimeoutMs=G}getHeartbeatTimeoutMs(){return this._heartbeatTimeoutMs}ondisconnect(G){this.verbose&&window&&window.console&&console.log(G)}onerror(G){this.verbose&&window&&window.console&&console.log(G)}onchannelmessage(G){this.verbose&&window&&window.console&&console.log(G)}onchannelpresence(G){this.verbose&&window&&window.console&&console.log(G)}onnotification(G){this.verbose&&window&&window.console&&console.log(G)}onmatchdata(G){this.verbose&&window&&window.console&&console.log(G)}onmatchpresence(G){this.verbose&&window&&window.console&&console.log(G)}onmatchmakerticket(G){this.verbose&&window&&window.console&&console.log(G)}onmatchmakermatched(G){this.verbose&&window&&window.console&&console.log(G)}onparty(G){this.verbose&&window&&window.console&&console.log(G)}onpartyclose(G){this.verbose&&window&&window.console&&console.log("Party closed: "+G)}onpartyjoinrequest(G){this.verbose&&window&&window.console&&console.log(G)}onpartydata(G){this.verbose&&window&&window.console&&console.log(G)}onpartyleader(G){this.verbose&&window&&window.console&&console.log(G)}onpartymatchmakerticket(G){this.verbose&&window&&window.console&&console.log(G)}onpartypresence(G){this.verbose&&window&&window.console&&console.log(G)}onstatuspresence(G){this.verbose&&window&&window.console&&console.log(G)}onstreampresence(G){this.verbose&&window&&window.console&&console.log(G)}onstreamdata(G){this.verbose&&window&&window.console&&console.log(G)}onheartbeattimeout(){this.verbose&&window&&window.console&&console.log("Heartbeat timeout.")}send(G,ye=wt.DefaultSendTimeoutMs){const Se=G;return new Promise((D,F)=>{if(this.adapter.isOpen())if(Se.match_data_send)this.adapter.send(Se),D();else if(Se.party_data_send)this.adapter.send(Se),D();else{Se.channel_message_send?Se.channel_message_send.content=JSON.stringify(Se.channel_message_send.content):Se.channel_message_update&&(Se.channel_message_update.content=JSON.stringify(Se.channel_message_update.content));const L=this.generatecid();this.cIds[L]={resolve:D,reject:F},setTimeout(()=>{F("The socket timed out while waiting for a response.")},ye),Se.cid=L,this.adapter.send(Se)}else F("Socket connection has not been established yet.");if(this.verbose&&window&&window.console){const L=S({},Se);L.match_data_send&&L.match_data_send.data?L.match_data_send.data=Ht(L.match_data_send.data):L.party_data_send&&L.party_data_send.data&&(L.party_data_send.data=Ht(L.party_data_send.data)),console.log("Sent message: %o",JSON.stringify(L))}})}acceptPartyMember(G,ye){return this.send({party_accept:{party_id:G,presence:ye}})}addMatchmaker(G,ye,Se,D,F){return v(this,null,function*(){return(yield this.send({matchmaker_add:{min_count:ye,max_count:Se,query:G,string_properties:D,numeric_properties:F}})).matchmaker_ticket})}addMatchmakerParty(G,ye,Se,D,F,L){return v(this,null,function*(){return(yield this.send({party_matchmaker_add:{party_id:G,min_count:Se,max_count:D,query:ye,string_properties:F,numeric_properties:L}})).party_matchmaker_ticket})}closeParty(G){return v(this,null,function*(){return yield this.send({party_close:{party_id:G}})})}createMatch(G){return v(this,null,function*(){return(yield this.send({match_create:{name:G}})).match})}createParty(G,ye){return v(this,null,function*(){return(yield this.send({party_create:{open:G,max_size:ye}})).party})}followUsers(G){return v(this,null,function*(){return(yield this.send({status_follow:{user_ids:G}})).status})}joinChat(G,ye,Se,D){return v(this,null,function*(){return(yield this.send({channel_join:{target:G,type:ye,persistence:Se,hidden:D}})).channel})}joinMatch(G,ye,Se){return v(this,null,function*(){const D={match_join:{metadata:Se}};return ye?D.match_join.token=ye:D.match_join.match_id=G,(yield this.send(D)).match})}joinParty(G){return v(this,null,function*(){return yield this.send({party_join:{party_id:G}})})}leaveChat(G){return this.send({channel_leave:{channel_id:G}})}leaveMatch(G){return this.send({match_leave:{match_id:G}})}leaveParty(G){return this.send({party_leave:{party_id:G}})}listPartyJoinRequests(G){return v(this,null,function*(){return(yield this.send({party_join_request_list:{party_id:G}})).party_join_request})}promotePartyMember(G,ye){return v(this,null,function*(){return(yield this.send({party_promote:{party_id:G,presence:ye}})).party_leader})}removeChatMessage(G,ye){return v(this,null,function*(){return(yield this.send({channel_message_remove:{channel_id:G,message_id:ye}})).channel_message_ack})}removeMatchmaker(G){return this.send({matchmaker_remove:{ticket:G}})}removeMatchmakerParty(G,ye){return this.send({party_matchmaker_remove:{party_id:G,ticket:ye}})}removePartyMember(G,ye){return v(this,null,function*(){return this.send({party_remove:{party_id:G,presence:ye}})})}rpc(G,ye,Se){return v(this,null,function*(){return(yield this.send({rpc:{id:G,payload:ye,http_key:Se}})).rpc})}sendMatchState(G,ye,Se,D,F){return v(this,null,function*(){return this.send({match_data_send:{match_id:G,op_code:ye,data:Se,presences:null!=D?D:[],reliable:F}})})}sendPartyData(G,ye,Se){return this.send({party_data_send:{party_id:G,op_code:ye,data:Se}})}unfollowUsers(G){return this.send({status_unfollow:{user_ids:G}})}updateChatMessage(G,ye,Se){return v(this,null,function*(){return(yield this.send({channel_message_update:{channel_id:G,message_id:ye,content:Se}})).channel_message_ack})}updateStatus(G){return this.send({status_update:{status:G}})}writeChatMessage(G,ye){return v(this,null,function*(){return(yield this.send({channel_message_send:{channel_id:G,content:ye}})).channel_message_ack})}pingPong(){return v(this,null,function*(){if(this.adapter.isOpen()){try{yield this.send({ping:{}},this._heartbeatTimeoutMs)}catch{return void(this.adapter.isOpen()&&(window&&window.console&&console.error("Server unreachable from heartbeat."),this.onheartbeattimeout(),this.adapter.close()))}setTimeout(()=>this.pingPong(),this._heartbeatTimeoutMs)}})}},jt=wt;jt.DefaultHeartbeatTimeoutMs=1e4,jt.DefaultSendTimeoutMs=1e4,jt.DefaultConnectTimeoutMs=3e4;var xt=class{constructor(G="defaultkey",ye="127.0.0.1",Se="7350",D=!1,F=7e3,L=!0){this.serverkey=G,this.host=ye,this.port=Se,this.useSSL=D,this.timeout=F,this.autoRefreshSession=L,this.expiredTimespanMs=3e5,this.apiClient=new Jt(G,`${D?"https://":"http://"}${ye}:${Se}`,F)}addGroupUsers(G,ye,Se){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.addGroupUsers(G.token,ye,Se).then(D=>void 0!==D)})}addFriends(G,ye,Se){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.addFriends(G.token,ye,Se).then(D=>void 0!==D)})}authenticateApple(G,ye,Se){return v(this,arguments,function*(D,F,L,ee={},re={}){return this.apiClient.authenticateApple(this.serverkey,"",{token:D,vars:ee},F,L,re).then(he=>new bt(he.token||"",he.refresh_token||"",he.created||!1))})}authenticateCustom(G,ye,Se,D={},F={}){return this.apiClient.authenticateCustom(this.serverkey,"",{id:G,vars:D},ye,Se,F).then(ee=>new bt(ee.token||"",ee.refresh_token||"",ee.created||!1))}authenticateDevice(G,ye,Se,D){return this.apiClient.authenticateDevice(this.serverkey,"",{id:G,vars:D},ye,Se).then(L=>new bt(L.token||"",L.refresh_token||"",L.created||!1))}authenticateEmail(G,ye,Se,D,F){return this.apiClient.authenticateEmail(this.serverkey,"",{email:G,password:ye,vars:F},Se,D).then(ee=>new bt(ee.token||"",ee.refresh_token||"",ee.created||!1))}authenticateFacebookInstantGame(G,ye,Se,D,F={}){const L={signed_player_info:G,vars:D};return this.apiClient.authenticateFacebookInstantGame(this.serverkey,"",{signed_player_info:L.signed_player_info,vars:L.vars},ye,Se,F).then(ee=>new bt(ee.token||"",ee.refresh_token||"",ee.created||!1))}authenticateFacebook(G,ye,Se,D,F,L={}){return this.apiClient.authenticateFacebook(this.serverkey,"",{token:G,vars:F},ye,Se,D,L).then(re=>new bt(re.token||"",re.refresh_token||"",re.created||!1))}authenticateGoogle(G,ye,Se,D){return v(this,arguments,function*(F,L,ee,re,Q={}){const he={token:F,vars:re},Re=yield this.apiClient.authenticateGoogle(this.serverkey,"",he,L,ee,Q);return new bt(Re.token||"",Re.refresh_token||"",Re.created||!1)})}authenticateGameCenter(G,ye,Se,D,F,L,ee,re,Q){return v(this,arguments,function*(he,Re,rt,_t,Xt,un,bn,Rn,Hn,dr={}){const rr={bundle_id:he,player_id:Re,public_key_url:rt,salt:_t,signature:Xt,timestamp_seconds:un,vars:Hn},at=yield this.apiClient.authenticateGameCenter(this.serverkey,"",rr,Rn,bn,dr);return new bt(at.token||"",at.refresh_token||"",at.created||!1)})}authenticateSteam(G,ye,Se,D,F){return v(this,null,function*(){return this.apiClient.authenticateSteam(this.serverkey,"",{token:G,vars:F,sync:D},ye,Se).then(ee=>new bt(ee.token||"",ee.refresh_token||"",ee.created||!1))})}banGroupUsers(G,ye,Se){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.banGroupUsers(G.token,ye,Se).then(D=>void 0!==D)})}blockFriends(G,ye,Se){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.blockFriends(G.token,ye,Se).then(D=>Promise.resolve(null!=D))})}createGroup(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.createGroup(G.token,ye).then(Se=>Promise.resolve({avatar_url:Se.avatar_url,create_time:Se.create_time,creator_id:Se.creator_id,description:Se.description,edge_count:Se.edge_count?Number(Se.edge_count):0,id:Se.id,lang_tag:Se.lang_tag,max_count:Se.max_count?Number(Se.max_count):0,metadata:Se.metadata?JSON.parse(Se.metadata):void 0,name:Se.name,open:Se.open,update_time:Se.update_time}))})}createSocket(G=!1,ye=!1,Se=new ze,D=jt.DefaultSendTimeoutMs){return new jt(this.host,this.port,G,ye,Se,D)}deleteFriends(G,ye,Se){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.deleteFriends(G.token,ye,Se).then(D=>void 0!==D)})}deleteGroup(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.deleteGroup(G.token,ye).then(Se=>void 0!==Se)})}deleteNotifications(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.deleteNotifications(G.token,ye).then(Se=>Promise.resolve(null!=Se))})}deleteStorageObjects(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.deleteStorageObjects(G.token,ye).then(Se=>Promise.resolve(null!=Se))})}demoteGroupUsers(G,ye,Se){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.demoteGroupUsers(G.token,ye,Se).then(D=>Promise.resolve(null!=D))})}emitEvent(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.event(G.token,ye).then(Se=>Promise.resolve(null!=Se))})}getAccount(G){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.getAccount(G.token)})}importFacebookFriends(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.importFacebookFriends(G.token,ye).then(Se=>void 0!==Se)})}importSteamFriends(G,ye,Se){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.importSteamFriends(G.token,ye,Se).then(D=>void 0!==D)})}getUsers(G,ye,Se,D){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.getUsers(G.token,ye,Se,D).then(F=>{var L={users:[]};return null==F.users||F.users.forEach(ee=>{L.users.push({avatar_url:ee.avatar_url,create_time:ee.create_time,display_name:ee.display_name,edge_count:ee.edge_count?Number(ee.edge_count):0,facebook_id:ee.facebook_id,gamecenter_id:ee.gamecenter_id,google_id:ee.google_id,id:ee.id,lang_tag:ee.lang_tag,location:ee.location,online:ee.online,steam_id:ee.steam_id,timezone:ee.timezone,update_time:ee.update_time,username:ee.username,metadata:ee.metadata?JSON.parse(ee.metadata):void 0})}),Promise.resolve(L)})})}joinGroup(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.joinGroup(G.token,ye,{}).then(Se=>void 0!==Se)})}joinTournament(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.joinTournament(G.token,ye,{}).then(Se=>void 0!==Se)})}kickGroupUsers(G,ye,Se){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.kickGroupUsers(G.token,ye,Se).then(D=>Promise.resolve(null!=D))})}leaveGroup(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.leaveGroup(G.token,ye,{}).then(Se=>void 0!==Se)})}listChannelMessages(G,ye,Se,D,F){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listChannelMessages(G.token,ye,Se,D,F).then(L=>{var ee={messages:[],next_cursor:L.next_cursor,prev_cursor:L.prev_cursor,cacheable_cursor:L.cacheable_cursor};return null==L.messages||L.messages.forEach(re=>{ee.messages.push({channel_id:re.channel_id,code:re.code?Number(re.code):0,create_time:re.create_time,message_id:re.message_id,persistent:re.persistent,sender_id:re.sender_id,update_time:re.update_time,username:re.username,content:re.content?JSON.parse(re.content):void 0,group_id:re.group_id,room_name:re.room_name,user_id_one:re.user_id_one,user_id_two:re.user_id_two})}),Promise.resolve(ee)})})}listGroupUsers(G,ye,Se,D,F){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listGroupUsers(G.token,ye,D,Se,F).then(L=>{var ee={group_users:[],cursor:L.cursor};return null==L.group_users||L.group_users.forEach(re=>{ee.group_users.push({user:{avatar_url:re.user.avatar_url,create_time:re.user.create_time,display_name:re.user.display_name,edge_count:re.user.edge_count?Number(re.user.edge_count):0,facebook_id:re.user.facebook_id,gamecenter_id:re.user.gamecenter_id,google_id:re.user.google_id,id:re.user.id,lang_tag:re.user.lang_tag,location:re.user.location,online:re.user.online,steam_id:re.user.steam_id,timezone:re.user.timezone,update_time:re.user.update_time,username:re.user.username,metadata:re.user.metadata?JSON.parse(re.user.metadata):void 0},state:re.state?Number(re.state):0})}),Promise.resolve(ee)})})}listUserGroups(G,ye,Se,D,F){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listUserGroups(G.token,ye,Se,D,F).then(L=>{var ee={user_groups:[],cursor:L.cursor};return null==L.user_groups||L.user_groups.forEach(re=>{ee.user_groups.push({group:{avatar_url:re.group.avatar_url,create_time:re.group.create_time,creator_id:re.group.creator_id,description:re.group.description,edge_count:re.group.edge_count?Number(re.group.edge_count):0,id:re.group.id,lang_tag:re.group.lang_tag,max_count:re.group.max_count,metadata:re.group.metadata?JSON.parse(re.group.metadata):void 0,name:re.group.name,open:re.group.open,update_time:re.group.update_time},state:re.state?Number(re.state):0})}),Promise.resolve(ee)})})}listGroups(G,ye,Se,D){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listGroups(G.token,ye,Se,D).then(F=>{var L={groups:[]};return null==F.groups||(L.cursor=F.cursor,F.groups.forEach(ee=>{L.groups.push({avatar_url:ee.avatar_url,create_time:ee.create_time,creator_id:ee.creator_id,description:ee.description,edge_count:ee.edge_count?Number(ee.edge_count):0,id:ee.id,lang_tag:ee.lang_tag,max_count:ee.max_count,metadata:ee.metadata?JSON.parse(ee.metadata):void 0,name:ee.name,open:ee.open,update_time:ee.update_time})})),Promise.resolve(L)})})}linkApple(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.linkApple(G.token,ye).then(Se=>void 0!==Se)})}linkCustom(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.linkCustom(G.token,ye).then(Se=>void 0!==Se)})}linkDevice(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.linkDevice(G.token,ye).then(Se=>void 0!==Se)})}linkEmail(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.linkEmail(G.token,ye).then(Se=>void 0!==Se)})}linkFacebook(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.linkFacebook(G.token,ye).then(Se=>void 0!==Se)})}linkFacebookInstantGame(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.linkFacebookInstantGame(G.token,ye).then(Se=>void 0!==Se)})}linkGoogle(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.linkGoogle(G.token,ye).then(Se=>void 0!==Se)})}linkGameCenter(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.linkGameCenter(G.token,ye).then(Se=>void 0!==Se)})}linkSteam(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.linkSteam(G.token,ye).then(Se=>void 0!==Se)})}listFriends(G,ye,Se,D){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listFriends(G.token,Se,ye,D).then(F=>{var L={friends:[],cursor:F.cursor};return null==F.friends||F.friends.forEach(ee=>{L.friends.push({user:{avatar_url:ee.user.avatar_url,create_time:ee.user.create_time,display_name:ee.user.display_name,edge_count:ee.user.edge_count?Number(ee.user.edge_count):0,facebook_id:ee.user.facebook_id,gamecenter_id:ee.user.gamecenter_id,google_id:ee.user.google_id,id:ee.user.id,lang_tag:ee.user.lang_tag,location:ee.user.location,online:ee.user.online,steam_id:ee.user.steam_id,timezone:ee.user.timezone,update_time:ee.user.update_time,username:ee.user.username,metadata:ee.user.metadata?JSON.parse(ee.user.metadata):void 0,facebook_instant_game_id:ee.user.facebook_instant_game_id},state:ee.state})}),Promise.resolve(L)})})}listLeaderboardRecords(G,ye,Se,D,F,L){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listLeaderboardRecords(G.token,ye,Se,D,F,L).then(ee=>{var re={next_cursor:ee.next_cursor,prev_cursor:ee.prev_cursor,owner_records:[],records:[]};return null!=ee.owner_records&&ee.owner_records.forEach(Q=>{re.owner_records.push({expiry_time:Q.expiry_time,leaderboard_id:Q.leaderboard_id,metadata:Q.metadata?JSON.parse(Q.metadata):void 0,num_score:Q.num_score?Number(Q.num_score):0,owner_id:Q.owner_id,rank:Q.rank?Number(Q.rank):0,score:Q.score?Number(Q.score):0,subscore:Q.subscore?Number(Q.subscore):0,update_time:Q.update_time,username:Q.username,max_num_score:Q.max_num_score?Number(Q.max_num_score):0})}),null!=ee.records&&ee.records.forEach(Q=>{re.records.push({expiry_time:Q.expiry_time,leaderboard_id:Q.leaderboard_id,metadata:Q.metadata?JSON.parse(Q.metadata):void 0,num_score:Q.num_score?Number(Q.num_score):0,owner_id:Q.owner_id,rank:Q.rank?Number(Q.rank):0,score:Q.score?Number(Q.score):0,subscore:Q.subscore?Number(Q.subscore):0,update_time:Q.update_time,username:Q.username,max_num_score:Q.max_num_score?Number(Q.max_num_score):0})}),Promise.resolve(re)})})}listLeaderboardRecordsAroundOwner(G,ye,Se,D,F){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listLeaderboardRecordsAroundOwner(G.token,ye,Se,D,F).then(L=>{var ee={next_cursor:L.next_cursor,prev_cursor:L.prev_cursor,owner_records:[],records:[]};return null!=L.owner_records&&L.owner_records.forEach(re=>{ee.owner_records.push({expiry_time:re.expiry_time,leaderboard_id:re.leaderboard_id,metadata:re.metadata?JSON.parse(re.metadata):void 0,num_score:re.num_score?Number(re.num_score):0,owner_id:re.owner_id,rank:re.rank?Number(re.rank):0,score:re.score?Number(re.score):0,subscore:re.subscore?Number(re.subscore):0,update_time:re.update_time,username:re.username,max_num_score:re.max_num_score?Number(re.max_num_score):0})}),null!=L.records&&L.records.forEach(re=>{ee.records.push({expiry_time:re.expiry_time,leaderboard_id:re.leaderboard_id,metadata:re.metadata?JSON.parse(re.metadata):void 0,num_score:re.num_score?Number(re.num_score):0,owner_id:re.owner_id,rank:re.rank?Number(re.rank):0,score:re.score?Number(re.score):0,subscore:re.subscore?Number(re.subscore):0,update_time:re.update_time,username:re.username,max_num_score:re.max_num_score?Number(re.max_num_score):0})}),Promise.resolve(ee)})})}listMatches(G,ye,Se,D,F,L,ee){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listMatches(G.token,ye,Se,D,F,L,ee)})}listNotifications(G,ye,Se){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listNotifications(G.token,ye,Se).then(D=>{var F={cacheable_cursor:D.cacheable_cursor,notifications:[]};return null==D.notifications||D.notifications.forEach(L=>{F.notifications.push({code:L.code?Number(L.code):0,create_time:L.create_time,id:L.id,persistent:L.persistent,sender_id:L.sender_id,subject:L.subject,content:L.content?JSON.parse(L.content):void 0})}),Promise.resolve(F)})})}listStorageObjects(G,ye,Se,D,F){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listStorageObjects(G.token,ye,Se,D,F).then(L=>{var ee={objects:[],cursor:L.cursor};return null==L.objects||L.objects.forEach(re=>{ee.objects.push({collection:re.collection,key:re.key,permission_read:re.permission_read?Number(re.permission_read):0,permission_write:re.permission_write?Number(re.permission_write):0,value:re.value?JSON.parse(re.value):void 0,version:re.version,user_id:re.user_id,create_time:re.create_time,update_time:re.update_time})}),Promise.resolve(ee)})})}listTournaments(G,ye,Se,D,F,L,ee){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listTournaments(G.token,ye,Se,D,F,L,ee).then(re=>{var Q={cursor:re.cursor,tournaments:[]};return null!=re.tournaments&&re.tournaments.forEach(he=>{Q.tournaments.push({id:he.id,title:he.title,description:he.description,duration:he.duration?Number(he.duration):0,category:he.category?Number(he.category):0,sort_order:he.sort_order?Number(he.sort_order):0,size:he.size?Number(he.size):0,max_size:he.max_size?Number(he.max_size):0,max_num_score:he.max_num_score?Number(he.max_num_score):0,can_enter:he.can_enter,end_active:he.end_active?Number(he.end_active):0,next_reset:he.next_reset?Number(he.next_reset):0,metadata:he.metadata?JSON.parse(he.metadata):void 0,create_time:he.create_time,start_time:he.start_time,end_time:he.end_time,start_active:he.start_active})}),Promise.resolve(Q)})})}listTournamentRecords(G,ye,Se,D,F,L){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listTournamentRecords(G.token,ye,Se,D,F,L).then(ee=>{var re={next_cursor:ee.next_cursor,prev_cursor:ee.prev_cursor,owner_records:[],records:[]};return null!=ee.owner_records&&ee.owner_records.forEach(Q=>{re.owner_records.push({expiry_time:Q.expiry_time,leaderboard_id:Q.leaderboard_id,metadata:Q.metadata?JSON.parse(Q.metadata):void 0,num_score:Q.num_score?Number(Q.num_score):0,owner_id:Q.owner_id,rank:Q.rank?Number(Q.rank):0,score:Q.score?Number(Q.score):0,subscore:Q.subscore?Number(Q.subscore):0,update_time:Q.update_time,username:Q.username,max_num_score:Q.max_num_score?Number(Q.max_num_score):0})}),null!=ee.records&&ee.records.forEach(Q=>{re.records.push({expiry_time:Q.expiry_time,leaderboard_id:Q.leaderboard_id,metadata:Q.metadata?JSON.parse(Q.metadata):void 0,num_score:Q.num_score?Number(Q.num_score):0,owner_id:Q.owner_id,rank:Q.rank?Number(Q.rank):0,score:Q.score?Number(Q.score):0,subscore:Q.subscore?Number(Q.subscore):0,update_time:Q.update_time,username:Q.username,max_num_score:Q.max_num_score?Number(Q.max_num_score):0})}),Promise.resolve(re)})})}listTournamentRecordsAroundOwner(G,ye,Se,D,F){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.listTournamentRecordsAroundOwner(G.token,ye,Se,D,F).then(L=>{var ee={next_cursor:L.next_cursor,prev_cursor:L.prev_cursor,owner_records:[],records:[]};return null!=L.owner_records&&L.owner_records.forEach(re=>{ee.owner_records.push({expiry_time:re.expiry_time,leaderboard_id:re.leaderboard_id,metadata:re.metadata?JSON.parse(re.metadata):void 0,num_score:re.num_score?Number(re.num_score):0,owner_id:re.owner_id,rank:re.rank?Number(re.rank):0,score:re.score?Number(re.score):0,subscore:re.subscore?Number(re.subscore):0,update_time:re.update_time,username:re.username,max_num_score:re.max_num_score?Number(re.max_num_score):0})}),null!=L.records&&L.records.forEach(re=>{ee.records.push({expiry_time:re.expiry_time,leaderboard_id:re.leaderboard_id,metadata:re.metadata?JSON.parse(re.metadata):void 0,num_score:re.num_score?Number(re.num_score):0,owner_id:re.owner_id,rank:re.rank?Number(re.rank):0,score:re.score?Number(re.score):0,subscore:re.subscore?Number(re.subscore):0,update_time:re.update_time,username:re.username,max_num_score:re.max_num_score?Number(re.max_num_score):0})}),Promise.resolve(ee)})})}promoteGroupUsers(G,ye,Se){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.promoteGroupUsers(G.token,ye,Se)})}readStorageObjects(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.readStorageObjects(G.token,ye).then(Se=>{var D={objects:[]};return null==Se.objects||Se.objects.forEach(F=>{D.objects.push({collection:F.collection,key:F.key,permission_read:F.permission_read?Number(F.permission_read):0,permission_write:F.permission_write?Number(F.permission_write):0,value:F.value?JSON.parse(F.value):void 0,version:F.version,user_id:F.user_id,create_time:F.create_time,update_time:F.update_time})}),Promise.resolve(D)})})}rpc(G,ye,Se){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.rpcFunc(G.token,ye,JSON.stringify(Se)).then(D=>Promise.resolve({id:D.id,payload:D.payload?JSON.parse(D.payload):void 0}))})}rpcHttpKey(G,ye,Se){return v(this,null,function*(){return this.apiClient.rpcFunc2("",ye,Se&&JSON.stringify(Se)||"",G).then(D=>Promise.resolve({id:D.id,payload:D.payload?JSON.parse(D.payload):void 0})).catch(D=>{throw D})})}sessionLogout(G,ye,Se){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.sessionLogout(G.token,{refresh_token:Se,token:ye}).then(D=>void 0!==D)})}sessionRefresh(G){return v(this,arguments,function*(ye,Se={}){if(!ye)return console.error("Cannot refresh a null session."),ye;ye.created&&ye.expires_at-ye.created_at<70&&console.warn("Session lifetime too short, please set '--session.token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session"),ye.created&&ye.refresh_expires_at-ye.created_at<3700&&console.warn("Session refresh lifetime too short, please set '--session.refresh_token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session");const D=yield this.apiClient.sessionRefresh(this.serverkey,"",{token:ye.refresh_token,vars:Se});return ye.update(D.token,D.refresh_token),ye})}unlinkApple(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.unlinkApple(G.token,ye).then(Se=>void 0!==Se)})}unlinkCustom(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.unlinkCustom(G.token,ye).then(Se=>void 0!==Se)})}unlinkDevice(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.unlinkDevice(G.token,ye).then(Se=>void 0!==Se)})}unlinkEmail(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.unlinkEmail(G.token,ye).then(Se=>void 0!==Se)})}unlinkFacebook(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.unlinkFacebook(G.token,ye).then(Se=>void 0!==Se)})}unlinkFacebookInstantGame(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.unlinkFacebookInstantGame(G.token,ye).then(Se=>void 0!==Se)})}unlinkGoogle(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.unlinkGoogle(G.token,ye).then(Se=>void 0!==Se)})}unlinkGameCenter(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.unlinkGameCenter(G.token,ye).then(Se=>void 0!==Se)})}unlinkSteam(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.unlinkSteam(G.token,ye).then(Se=>void 0!==Se)})}updateAccount(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.updateAccount(G.token,ye).then(Se=>void 0!==Se)})}updateGroup(G,ye,Se){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.updateGroup(G.token,ye,Se).then(D=>void 0!==D)})}validatePurchaseApple(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.validatePurchaseApple(G.token,{receipt:ye})})}validatePurchaseGoogle(G,ye){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.validatePurchaseGoogle(G.token,{purchase:ye})})}validatePurchaseHuawei(G,ye,Se){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.validatePurchaseHuawei(G.token,{purchase:ye,signature:Se})})}writeLeaderboardRecord(G,ye,Se){return v(this,null,function*(){return this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G)),this.apiClient.writeLeaderboardRecord(G.token,ye,{metadata:Se.metadata?JSON.stringify(Se.metadata):void 0,score:Se.score,subscore:Se.subscore}).then(D=>Promise.resolve({expiry_time:D.expiry_time,leaderboard_id:D.leaderboard_id,metadata:D.metadata?JSON.parse(D.metadata):void 0,num_score:D.num_score?Number(D.num_score):0,owner_id:D.owner_id,score:D.score?Number(D.score):0,subscore:D.subscore?Number(D.subscore):0,update_time:D.update_time,username:D.username,max_num_score:D.max_num_score?Number(D.max_num_score):0,rank:D.rank?Number(D.rank):0}))})}writeStorageObjects(G,ye){return v(this,null,function*(){this.autoRefreshSession&&G.refresh_token&&G.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(G));var Se={objects:[]};return ye.forEach(D=>{Se.objects.push({collection:D.collection,key:D.key,permission_read:D.permission_read,permission_write:D.permission_write,value:JSON.stringify(D.value),version:D.version})}),this.apiClient.writeStorageObjects(G.token,Se)})}writeTournamentRecord(G,ye,Se){return v(this,null,function*(){return this.apiClient.writeTournamentRecord(G.token,ye,{metadata:Se.metadata?JSON.stringify(Se.metadata):void 0,score:Se.score,subscore:Se.subscore}).then(D=>Promise.resolve({expiry_time:D.expiry_time,leaderboard_id:D.leaderboard_id,metadata:D.metadata?JSON.parse(D.metadata):void 0,num_score:D.num_score?Number(D.num_score):0,owner_id:D.owner_id,score:D.score?Number(D.score):0,subscore:D.subscore?Number(D.subscore):0,update_time:D.update_time,username:D.username,max_num_score:D.max_num_score?Number(D.max_num_score):0,rank:D.rank?Number(D.rank):0}))})}},ot=me(5193),Ye=me(9352),ct=me(4708),Ct=me(6756),rn=me(3428),qe=me(5020),yt=me(6124),Nt=me(9404),Ft=me(1052),$t=me(4496),hn=me(3824),yn=me(4180),En=me(4668),Sn=me(6819),Cn=me(5624),Zn=me(9240),tr=me(4500),lr=me(1028),Pn=function(G){return G[G.MANAGE_TODO=10]="MANAGE_TODO",G[G.EDIT_PROFILE=11]="EDIT_PROFILE",G[G.ADD_CHANNEL=14]="ADD_CHANNEL",G[G.WEBRTC_INIT_REQ_SIGNAL=20]="WEBRTC_INIT_REQ_SIGNAL",G[G.WEBRTC_REPLY_INIT_SIGNAL=21]="WEBRTC_REPLY_INIT_SIGNAL",G[G.WEBRTC_RECEIVE_ANSWER=22]="WEBRTC_RECEIVE_ANSWER",G[G.WEBRTC_ICE_CANDIDATES=23]="WEBRTC_ICE_CANDIDATES",G[G.WEBRTC_NEGOCIATENEEDED=24]="WEBRTC_NEGOCIATENEEDED",G[G.WEBRTC_RECEIVED_CALL_SELF=25]="WEBRTC_RECEIVED_CALL_SELF",G[G.WEBRTC_HANGUP=30]="WEBRTC_HANGUP",G}(Pn||{});let Wn=(()=>{var G;class ye{constructor(D,F,L,ee,re,Q,he,Re,rt,_t,Xt,un,bn){this.p5toast=D,this.statusBar=F,this.indexed=L,this.noti=ee,this.modalCtrl=re,this.alertCtrl=Q,this.lang=he,this.global=Re,this.bgmode=rt,this.navCtrl=_t,this.ngZone=Xt,this.loadingCtrl=un,this.nav=bn,this.profile={content:{type:void 0,path:void 0}},this.servers={official:{},unofficial:{}},this.showServer=!1,this.TogglingSession=!1,this.isRewardAdsUsed=!1,this.noti_origin={},this.AfterLoginActDone=!1,this.AfterLoginAct=[],this.self_match={},this.RemoteTodoCounter={},this.users={self:{},deleted:{},official:{},unofficial:{}},this.notifications_rearrange=[],this.groups={official:{},unofficial:{}},this.channels_orig={official:{},unofficial:{}},this.noti_id=2e3,this.web_noti_id={},this.registered_id=[],this.channels=[],this.after_rearrange_group={},this.socket_reactive={},this.on_socket_connected={},this.on_socket_disconnected={},this.match_act={},this.opened_page_info={},this.subscribe_lock=!1,this.has_new_channel_msg=!1,this.is_post_lock=!1,this.has_new_post=!1,this.posts_orig={local:{target:{me:{}}},official:{},unofficial:{}},this.posts=[],this.OnTransfer={},this.OnTransferMessage={}}initialize(){var D=this;return(0,b.c)(function*(){D.noti.GetNotificationIds(Re=>{D.registered_id=Re}),yield D.set_all_todo_notification();let F=yield D.indexed.loadTextFromUserPath("servers/self/profile.json");F&&(D.users.self=JSON.parse(F));try{let Re=(yield D.indexed.loadTextFromUserPath("servers/self/profile.img")).replace(/"|\\|=/g,"");Re&&(D.users.self.img=Re)}catch{}let L=yield D.indexed.loadTextFromUserPath("servers/list_detail.csv");if(L)L.split("\n").forEach(rt=>{let _t=rt.split(","),Xt={isOfficial:_t[1],name:_t[2],target:_t[3],address:_t[4],port:+_t[5],useSSL:"true"==_t[6]};D.servers[Xt.isOfficial][Xt.target]={},D.servers[Xt.isOfficial][Xt.target].info=Xt,D.init_server(Xt)});else{let Re=location.href.split("?").length>1;(D.users.self.online||Re)&&D.toggle_all_session()}D.catch_group_server_header("offline");let ee=yield D.indexed.loadTextFromUserPath("servers/groups.json");ee&&(D.groups=JSON.parse(ee)),D.rearrange_group_list().forEach(function(){var Re=(0,b.c)(function*(rt){let _t=yield D.indexed.loadTextFromUserPath(`servers/${rt.server.isOfficial}/${rt.server.target}/groups/${rt.id}.img`);if(_t&&(rt.img=_t.replace(/"|=|\\/g,"")),"missing"!=rt.status){delete rt.status;let Xt=rt.server.isOfficial,un=rt.server.target;if(rt.users)for(let bn=0,Rn=rt.users.length;bn<Rn;bn++)rt.users[bn].is_me||(rt.users[bn].user=D.load_other_user(rt.users[bn].user.id,Xt,un))}});return function(rt){return Re.apply(this,arguments)}}()),yield D.load_channel_list();let Q=yield D.indexed.loadTextFromUserPath("servers/list.json");Q&&(D.statusBar.groupServer=JSON.parse(Q)),Object.keys(D.statusBar.groupServer).forEach(Re=>{D.servers[Re]?Object.keys(D.statusBar.groupServer[Re]).forEach(_t=>{D.servers[Re][_t]||delete D.statusBar.groupServer[Re][_t]}):delete D.statusBar.groupServer[Re]}),D.users.self.online&&D.init_all_sessions(),D.showServer=!!localStorage.getItem("showServer")})()}set_all_todo_notification(){var D=this;return(0,b.c)(function*(){let F=yield D.indexed.GetFileListFromDB("info.todo");for(let L=0,ee=F.length;L<ee;L++){let re=yield D.indexed.loadTextFromUserPath(F[L]);if(re){let Q=JSON.parse(re);D.registered_id.push(Q.noti_id),D.set_todo_notification(Q)}}})()}getGodotDBRecursive(){var D=this;return(0,b.c)(function*(){try{if(void 0===D.indexed.godotDB)throw"Retry catch godotDB";return}catch{return yield new Promise(L=>{setTimeout(()=>{L(void 0)},100)}),yield D.getGodotDBRecursive()}})()}open_add_todo_page(D=""){this.AddTodoLinkAct?this.AddTodoLinkAct(D):this.ngZone.run(()=>{this.navCtrl.navigateForward("add-todo-menu",{animation:ct.MZ,state:{data:D}})})}set_todo_notification(D){var F=this;return(0,b.c)(function*(){let L=D.startFrom||D.limit;if("DesktopPWA"==ot.s1||"MobilePWA"==ot.s1){let ee=new Date(L).getTime()-(new Date).getTime();if(ee>0&&ee<2e9){let re=setTimeout(()=>{F.noti.PushLocal({id:D.noti_id,title:D.title,body:D.description},void 0,Q=>{F.open_add_todo_page(JSON.stringify(D))})},ee);F.web_noti_id[D.noti_id]=re}}else{let ee=new Date(L).getTime();for(let re=0,Q=F.registered_id.length;re<Q;re++)if(F.registered_id[re]==D.id){if(F.registered_id.splice(re,1),D.id=F.get_noti_id(),!D.done&&D.remote){let he=D.remote.isOfficial,Re=D.remote.target;try{yield F.servers[he][Re].client.writeStorageObjects(F.servers[he][Re].session,[{collection:"server_todo",key:D.id,permission_read:2,permission_write:1,value:D}]).then(function(){var rt=(0,b.c)(function*(_t){yield F.servers[he][Re].socket.sendMatchState(F.self_match[he][Re].match_id,Pn.MANAGE_TODO,encodeURIComponent(`add,${_t.acks[0].collection},${_t.acks[0].key}`))});return function(_t){return rt.apply(this,arguments)}}())}catch(rt){console.log("\uc11c\ubc84 \uc54c\ub9bc \uc7ac\ub4f1\ub85d \uc2e4\ud328: ",rt)}}break}if(!D.done&&ee>(new Date).getTime()){let re="58a192";switch(D.importance){case"1":re="ddbb41";break;case"2":re="b95437"}D.custom_color&&(re=D.custom_color),F.noti.PushLocal({id:D.noti_id,title:D.title,body:D.description,smallIcon_ln:"todo",iconColor_ln:re,group_ln:"todo",triggerWhen_ln:{at:new Date(L)},extra_ln:{page:{component:"AddTodoMenuPage",componentProps:{data:JSON.stringify(D)}}}})}}})()}init_server(D){this.servers[D.isOfficial][D.target]||(this.servers[D.isOfficial][D.target]={}),this.servers[D.isOfficial][D.target].client=new xt(D.key||"defaultkey",D.address,(D.port||7350).toString(),D.useSSL||!1)}go_to_chatroom_without_admob_act(D,F){this.has_new_channel_msg=!1,this.rearrange_channels(),this.ChatroomLinkAct?this.ChatroomLinkAct(D,F):this.ngZone.run(()=>{this.navCtrl.navigateForward("chat-room",{animation:ct.MZ,state:{info:D,file:F}})})}init_all_sessions(){var D=this;return(0,b.c)(function*(){let F=Object.keys(D.servers.official);for(let ee=0,re=F.length;ee<re;ee++)yield D.init_session(D.servers.official[F[ee]].info);let L=Object.keys(D.servers.unofficial);for(let ee=0,re=L.length;ee<re;ee++)yield D.init_session(D.servers.unofficial[L[ee]].info);return F.length+L.length})()}logout_all_server(){let D=Object.keys(this.statusBar.groupServer);for(let F=0,L=D.length;F<L;F++){let ee=Object.keys(this.statusBar.groupServer[D[F]]);for(let re=0,Q=ee.length;re<Q;re++)"online"==this.statusBar.groupServer[D[F]][ee[re]]&&(this.servers[D[F]][ee[re]].socket?this.servers[D[F]][ee[re]].socket.disconnect(!0):this.link_group(D[F],ee[re],!1))}}toggle_all_session(D=!1){var F=this;return(0,b.c)(function*(){if(!F.TogglingSession){if(F.TogglingSession=!0,"online"==F.statusBar.settings.groupServer)F.logout_all_server(),F.p5toast.show({text:F.lang.text.Nakama.SessionLogout});else{F.p5toast.show({text:F.lang.text.Nakama.PendingLogin});try{(yield F.init_all_sessions())||(F.p5toast.show({text:F.lang.text.Subscribes.Disconnected}),D&&F.nav.navigateForward("portal/settings/group-server"))}catch{}}F.TogglingSession=!1}})()}WatchAdsAndGetDevServerInfo(D=!1){var F=this;return(0,b.c)(function*(){let L=F.get_all_server_info(!0);if(!F.isRewardAdsUsed&&!L.length||D){const ee={adId:"ca-app-pub-6577630868247944/4325703911"};let re=yield F.loadingCtrl.create({message:F.lang.text.TodoDetail.WIP});re.present();try{if(!(yield fetch(`${ot.uM}pjcone_ads/admob.txt`)).ok)throw"\uc900\ube44\ub41c \uad11\uace0\uac00 \uc5c6\uc2b5\ub2c8\ub2e4";yield rn.i8.prepareRewardVideoAd(ee),re.dismiss(),yield rn.i8.showRewardVideoAd(),"Android"==ot.s1?(F.bgmode.disable(),rn.i8.addListener(rn.iK.Dismissed,()=>{F.bgmode.enable()}),rn.i8.addListener(rn.iK.Rewarded,function(){var he=(0,b.c)(function*(Re){0!=Re.amount&&(yield F.AccessToOfficialTestServer())});return function(Re){return he.apply(this,arguments)}}())):(console.log("\ube0c\ub77c\uc6b0\uc800\uc2dd \ubcf4\uc0c1\ud615 \uad11\uace0 \uc900\ube44\uc911"),yield F.AccessToOfficialTestServer())}catch(Q){console.log(Q),yield F.AccessToOfficialTestServer(),re.dismiss()}return!0}return!1})()}AccessToOfficialTestServer(){var D=this;return(0,b.c)(function*(){let L=(yield(yield fetch(`${ot.uM}assets/data/WSAddress.txt`)).text()).split("\n")[0];yield D.add_group_server({isOfficial:"official",address:L,name:D.lang.text.Nakama.DevTestServer,target:"DevTestServer",useSSL:!0}),D.isRewardAdsUsed=!0;let ee=Object.keys(D.servers.official);for(let re=0,Q=ee.length;re<Q;re++)yield D.init_session(D.servers.official[ee[re]].info);"online"==D.statusBar.settings.groupServer&&D.p5toast.show({text:D.lang.text.Nakama.AccessTestServer})})()}link_group(D,F,L="offline"==this.statusBar.groupServer[D][F]){var ee=this;return(0,b.c)(function*(){if(L)ee.statusBar.groupServer[D][F]="pending",ee.catch_group_server_header("pending"),ee.users.self.online&&(yield ee.init_session(ee.servers[D][F].info));else{if(ee.channels_orig[D]&&ee.channels_orig[D][F]&&(Object.keys(ee.channels_orig[D][F]).forEach(Q=>{"missing"!=ee.channels_orig[D][F][Q].status&&delete ee.channels_orig[D][F][Q].status}),ee.rearrange_channels()),ee.groups[D]&&ee.groups[D][F]&&Object.keys(ee.groups[D][F]).forEach(Q=>{"missing"!=ee.groups[D][F][Q].status&&(ee.groups[D][F][Q].status="offline")}),ee.set_group_statusBar("offline",D,F),ee.statusBar.groupServer[D][F]="offline",ee.catch_group_server_header("offline"),ee.servers[D][F].session){try{yield ee.servers[D][F].client.sessionLogout(ee.servers[D][F].session,ee.servers[D][F].session.token,ee.servers[D][F].session.refresh_token)}catch{}ee.noti_origin[D]&&ee.noti_origin[D][F]&&delete ee.noti_origin[D][F],ee.rearrange_notifications()}ee.channels_orig[D]&&ee.channels_orig[D][F]&&Object.keys(ee.channels_orig[D][F]).forEach(Q=>{"missing"!=ee.channels_orig[D][F][Q].status&&delete ee.channels_orig[D][F][Q].status})}ee.indexed.saveTextFileToUserPath(JSON.stringify(ee.statusBar.groupServer),"servers/list.json")})()}get_all_online_server(){let D=[];return Object.keys(this.servers.official).forEach(ee=>{"online"==this.statusBar.groupServer.official[ee]&&D.push(this.servers.official[ee])}),Object.keys(this.servers.unofficial).forEach(ee=>{"online"==this.statusBar.groupServer.unofficial[ee]&&D.push(this.servers.unofficial[ee])}),D}get_all_server_info(D=!1,F=!1){let L=[],ee=Object.keys(this.servers.official);return D&&ee.forEach(Q=>{F?("online"==this.statusBar.groupServer.official[Q]||"pending"==this.statusBar.groupServer.official[Q])&&L.push(this.servers.official[Q].info):this.servers.official[Q]&&L.push(this.servers.official[Q].info)}),Object.keys(this.servers.unofficial).forEach(Q=>{F?("online"==this.statusBar.groupServer.unofficial[Q]||"pending"==this.statusBar.groupServer.unofficial[Q])&&L.push(this.servers.unofficial[Q].info):this.servers.unofficial[Q]&&L.push(this.servers.unofficial[Q].info)}),L}add_group_server(D,F=(()=>{})){var L=this;if(this.statusBar.groupServer.unofficial[D.target||D.name])return void this.p5toast.show({text:`${this.lang.text.Nakama.AlreadyHaveTargetName}: ${D.target||D.name}`});D.target=D.target||D.name,D.address=D.address||"192.168.0.1",D.port=D.port||7350,D.useSSL=D.useSSL||!1,D.isOfficial=D.isOfficial||"unofficial",D.key=D.key||"defaultkey",this.groups[D.isOfficial]||(this.groups[D.isOfficial]={}),this.groups[D.isOfficial][D.target]||(this.groups[D.isOfficial][D.target]={}),this.channels_orig[D.isOfficial]||(this.channels_orig[D.isOfficial]={}),this.channels_orig[D.isOfficial][D.target]||(this.channels_orig[D.isOfficial][D.target]={});let ee=(new Date).getTime().toString();return ee+=`,${D.isOfficial}`,ee+=`,${D.name}`,ee+=`,${D.target}`,ee+=`,${D.address}`,ee+=`,${D.port}`,ee+=`,${D.useSSL}`,new Promise(function(){var re=(0,b.c)(function*(Q){{let he={urls:[`stun:${D.address}:3478`,`turn:${D.address}:3478`],username:"username",credential:"password"};yield L.SaveWebRTCServer(he)}"official"!=D.isOfficial?L.indexed.loadTextFromUserPath("servers/list_detail.csv",function(){var he=(0,b.c)(function*(Re,rt){let _t=[];Re&&rt&&(_t=rt.split("\n")),_t.push(ee),L.indexed.saveTextFileToUserPath(_t.join("\n"),"servers/list_detail.csv",Xt=>{L.init_server(D),L.servers[D.isOfficial][D.target].info={...D},F()}),L.statusBar.groupServer[D.isOfficial][D.target]="offline",yield L.indexed.saveTextFileToUserPath(JSON.stringify(L.statusBar.groupServer),"servers/list.json"),Q()});return function(Re,rt){return he.apply(this,arguments)}}()):(L.init_server(D),L.servers[D.isOfficial][D.target].info={...D},L.statusBar.groupServer[D.isOfficial][D.target]="offline",Q())});return function(Q){return re.apply(this,arguments)}}())}SaveWebRTCServer(D){var F=this;return(0,b.c)(function*(){let L=(yield F.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",ee=JSON.parse(L),re=!1;for(let he=0,Re=Object.keys(ee).length;he<Re;he++)if(F.catch_address_from_rtc_server_address(D)==F.catch_address_from_rtc_server_address(ee[he])){re=!0;break}re||ee.push(D),yield F.indexed.saveTextFileToUserPath(JSON.stringify(ee),"servers/webrtc_server.json")})()}RemoveWebRTCServer(D){var F=this;return(0,b.c)(function*(){let L=(yield F.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",ee=JSON.parse(L);for(let Q=0,he=Object.keys(ee).length;Q<he;Q++){let Re=F.catch_address_from_rtc_server_address(ee[Q]);D==Re&&ee.splice(Q,1)}yield F.indexed.saveTextFileToUserPath(JSON.stringify(ee),"servers/webrtc_server.json")})()}catch_address_from_rtc_server_address(D){let F;try{let L=D.urls[0];(L.indexOf("stun:")>=0||L.indexOf("turn:")>=0)&&(L=L.substring(5));let ee=L.lastIndexOf(":");F=L.substring(0,ee)}catch(L){console.error("webrtc \uc11c\ubc84 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",L)}return F}catch_group_server_header(D){let F=D;this.statusBar.settings.groupServer=D,setTimeout(()=>{Object.keys(this.statusBar.groupServer.official).forEach(ee=>{switch(this.statusBar.groupServer.official[ee]){case"online":F="online";break;case"pending":"online"!=F&&(F="pending");break;case"missing":case"offline":"online"!=F&&"pending"!=F&&(F="offline")}}),"online"!=F&&Object.keys(this.statusBar.groupServer.unofficial).forEach(re=>{switch(this.statusBar.groupServer.unofficial[re]){case"online":F="online";break;case"pending":"online"!=F&&(F="pending");break;case"missing":case"offline":"online"!=F&&"pending"!=F&&(F="offline")}}),this.statusBar.settings.groupServer=F},1500)}init_session(D){var F=this;return(0,b.c)(function*(){F.TogglingSession=!0;try{F.servers[D.isOfficial][D.target].session=yield F.servers[D.isOfficial][D.target].client.authenticateEmail(F.users.self.email,F.users.self.password,!1),yield F.after_login(D.isOfficial,D.target,D.useSSL)}catch(L){switch(L.status){case 400:F.p5toast.show({text:F.lang.text.Nakama.NeedLoginInfo}),F.nav.navigateForward("portal/settings/group-server"),F.users.self.online=!1,delete F.users.self.password,F.set_group_statusBar("offline",D.isOfficial,D.target);break;case 401:F.p5toast.show({text:F.lang.text.Nakama.NeedAccountReset}),F.users.self.online=!1,delete F.users.self.password,F.set_group_statusBar("offline",D.isOfficial,D.target);break;case 404:if(F.servers[D.isOfficial][D.target].session=yield F.servers[D.isOfficial][D.target].client.authenticateEmail(F.users.self.email,F.users.self.password,!0),F.users.self.display_name&&F.servers[D.isOfficial][D.target].client.updateAccount(F.servers[D.isOfficial][D.target].session,{display_name:F.users.self.display_name,lang_tag:navigator.language.split("-")[0]||F.lang.lang}),F.p5toast.show({text:`${F.lang.text.Nakama.RegisterUserSucc}: ${D.name}`,lateable:!0}),F.users.self.img)try{let re=yield F.servers[D.isOfficial][D.target].client.writeStorageObjects(F.servers[D.isOfficial][D.target].session,[{collection:"user_public",key:"profile_image",permission_read:2,permission_write:1,value:{img:F.users.self.img}}]);F.servers[D.isOfficial][D.target].client.updateAccount(F.servers[D.isOfficial][D.target].session,{avatar_url:re.acks[0].version})}catch(re){console.error("\uc774\ubbf8\uc9c0 \ubc84\uc804 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",re)}(yield F.indexed.checkIfFileExist("servers/self/content.pck"))&&F.sync_save_file({path:"servers/self/content.pck"},D.isOfficial,D.target,"user_public","main_content"),yield F.after_login(D.isOfficial,D.target,D.useSSL);break;default:F.p5toast.show({text:`(${D.name}) ${F.lang.text.Nakama.UnexpectedLoginErr}: ${L}`}),F.set_group_statusBar("offline",D.isOfficial,D.target)}}F.TogglingSession=!1})()}after_login(D,F,L){var ee=this;return(0,b.c)(function*(){ee.set_group_statusBar("pending",D,F),ee.servers[D][F].socket=ee.servers[D][F].client.createSocket(L);try{let Q=yield ee.servers[D][F].client.getAccount(ee.servers[D][F].session),he=JSON.parse(Q.user.metadata);ee.servers[D][F].info.is_admin=he.is_admin,Object.keys(Q.user).forEach(rt=>{"display_name"==rt?ee.users.self[rt]=Q.user[rt]:ee.users.self.display_name||(ee.users.self[rt]=Q.user[rt])}),ee.save_self_profile()}catch{}try{let Q=yield ee.servers[D][F].client.readStorageObjects(ee.servers[D][F].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:ee.servers[D][F].session.user_id}]});Q.objects.length&&(ee.socket_reactive.profile?ee.socket_reactive.profile(Q.objects[0].value.img):(ee.users.self.img=Q.objects[0].value.img,ee.indexed.saveTextFileToUserPath(JSON.stringify(ee.users.self.img),"servers/self/profile.img")))}catch{}yield ee.SyncTodoCounter(D,F),yield ee.load_server_todo(D,F),yield ee.RemoteTodoSelfCheck(D,F);let re=yield ee.connect_to(D,F);ee.set_group_statusBar("online",D,F),yield ee.get_group_list_from_server(D,F),yield ee.redirect_channel(D,F),ee.noti_origin[D]||(ee.noti_origin[D]={}),ee.noti_origin[D][F]||(ee.noti_origin[D][F]={}),yield ee.update_notifications(D,F);try{let Q=yield ee.servers[D][F].client.readStorageObjects(ee.servers[D][F].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:ee.servers[D][F].session.user_id}]});try{return ee.self_match[D]||(ee.self_match[D]={}),ee.self_match[D][F]||(ee.self_match[D][F]=void 0),void(ee.self_match[D][F]=yield re.joinMatch(Q.objects[0].value.match_id))}catch{let Re=yield re.createMatch();ee.self_match[D][F]=Re,ee.servers[D][F].client.writeStorageObjects(ee.servers[D][F].session,[{collection:"self_share",key:"private_match",permission_read:2,permission_write:1,value:{match_id:Re.match_id}}])}}catch{}ee.rearrange_channels(),ee.rearrange_group_list();for(let Q=0,he=ee.AfterLoginAct.length;Q<he;Q++)try{yield ee.AfterLoginAct[Q]()}catch(Re){console.error("\uc9c4\uc785 \ub3d9\uc791 \uc624\ub958: ",Re)}ee.AfterLoginAct.length=0,ee.AfterLoginActDone=!0})()}load_server_todo(D,F){var L=this;return(0,b.c)(function*(){try{let ee=L.RemoteTodoCounter[D][F];L.RemoteTodoCounter[D]||(L.RemoteTodoCounter[D]={});for(let re=ee.length-1;re>=0;re--)try{let Q=`RemoteTodo_${L.servers[D][F].session.user_id}_${ee[re]}`,he=yield L.servers[D][F].client.readStorageObjects(L.servers[D][F].session,{object_ids:[{collection:"server_todo",key:Q,user_id:L.servers[D][F].session.user_id}]});if(he.objects.length)L.modify_remote_info_as_local(he.objects[0].value,D,F);else try{L.RemoteTodoCounter[D][F].splice(re,1);let Re=yield L.indexed.loadTextFromUserPath(`todo/${Q}/info.todo`),rt=JSON.parse(Re);L.deleteTodoFromStorage(!0,rt)}catch{}}catch(Q){console.log("\uc11c\ubc84 \ud574\uc57c\ud560 \uc77c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Q)}}catch(ee){console.log("\uc6d0\uaca9 \ud560 \uc77c\uc758 \uc218 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",ee)}})()}RemoteTodoSelfCheck(D,F){var L=this;return(0,b.c)(function*(){let ee=yield L.indexed.GetFileListFromDB("todo/RemoteTodo_");for(let re=0,Q=ee.length;re<Q;re++)if(ee[re].indexOf("info.todo")>=0){let he=yield L.indexed.loadTextFromUserPath(ee[re]),Re=JSON.parse(he);Re.remote.isOfficial==D&&Re.remote.target==F&&((yield L.servers[D][F].client.readStorageObjects(L.servers[D][F].session,{object_ids:[{collection:"server_todo",key:Re.id,user_id:L.servers[D][F].session.user_id}]})).objects.length||((yield L.indexed.GetFileListFromDB(`todo/${Re.id}`)).forEach(Xt=>L.indexed.removeFileFromUserPath(Xt)),Re.noti_id&&("DesktopPWA"==ot.s1||"MobilePWA"==ot.s1)&&(clearTimeout(L.web_noti_id[Re.noti_id]),delete L.web_noti_id[Re.noti_id]),L.noti.ClearNoti(Re.id),L.global.p5todo&&L.global.p5todo.remove_todo&&L.global.p5todo.remove_todo(he)))}})()}getRemoteTodoCounter(D,F){var L=this;return(0,b.c)(function*(){try{L.RemoteTodoCounter[D][F].sort((Q,he)=>Q-he);let ee=L.RemoteTodoCounter[D][F].length;if(!ee)throw"\uc815\ud574\uc9c4 \uac12\uc774 \uc5c6\uc5b4?";let re=L.RemoteTodoCounter[D][F][ee-1]+1;return L.RemoteTodoCounter[D][F].push(re),re}catch{let re=yield L.SyncTodoCounter(D,F),Q=0;return re&&re.objects.length&&re.objects[0].value.data.length?Q=re.objects[0].value.data.pop()+1:(L.RemoteTodoCounter[D]||(L.RemoteTodoCounter[D]={}),L.RemoteTodoCounter[D][F]=[0]),Q}})()}SyncTodoCounter(D,F){var L=this;return(0,b.c)(function*(){try{let ee=yield L.servers[D][F].client.readStorageObjects(L.servers[D][F].session,{object_ids:[{collection:"server_todo",key:"RemoteTodo_Counter",user_id:L.servers[D][F].session.user_id}]});return L.RemoteTodoCounter[D]||(L.RemoteTodoCounter[D]={}),L.RemoteTodoCounter[D][F]=ee.objects[0].value.data,ee}catch{}})()}removeRemoteTodoCounter(D,F,L){var ee=this;return(0,b.c)(function*(){try{let re=ee.RemoteTodoCounter[D][F].indexOf(L);re>=0&&ee.RemoteTodoCounter[D][F].splice(re,1)}catch{ee.RemoteTodoCounter[D]||(ee.RemoteTodoCounter[D]={}),ee.RemoteTodoCounter[D][F]||(ee.RemoteTodoCounter[D][F]=[])}yield ee.updateRemoteCounter(D,F)})()}updateRemoteCounter(D,F){var L=this;return(0,b.c)(function*(){if(L.RemoteTodoCounter[D][F].length){for(let ee=L.RemoteTodoCounter[D][F].length-1;ee>=0;ee--)(void 0===L.RemoteTodoCounter[D][F][ee]||null==L.RemoteTodoCounter[D][F][ee])&&L.RemoteTodoCounter[D][F].splice(ee,1);L.RemoteTodoCounter[D][F].sort((ee,re)=>ee-re);for(let ee=L.RemoteTodoCounter[D][F].length-2;ee>=0;ee--)L.RemoteTodoCounter[D][F][ee+1]==L.RemoteTodoCounter[D][F][ee]&&L.RemoteTodoCounter[D][F].splice(ee,1)}yield L.servers[D][F].client.writeStorageObjects(L.servers[D][F].session,[{collection:"server_todo",key:"RemoteTodo_Counter",permission_read:2,permission_write:1,value:{data:L.RemoteTodoCounter[D][F]}}])})()}modify_remote_info_as_local(D,F,L){D.remote.name=this.servers[F][L].info.name,D.remote.isOfficial=F,D.remote.target=L,D.remote.type=`${F}/${L}`,this.set_todo_notification(D),this.global.p5todo&&this.global.p5todo.add_todo&&this.global.p5todo.add_todo(JSON.stringify(D)),this.indexed.saveTextFileToUserPath(JSON.stringify(D),`todo/${D.id}/info.todo`)}doneTodo(D){var F=this;return(0,b.c)(function*(){if(D.done=!0,F.global.p5todo&&F.global.p5todo.add_todo&&F.global.p5todo.add_todo(JSON.stringify(D)),D.remote){let L=yield F.loadingCtrl.create({message:F.lang.text.TodoDetail.WIP});L.present(),F.servers[D.remote.isOfficial][D.remote.target]&&(yield F.servers[D.remote.isOfficial][D.remote.target].socket.sendMatchState(F.self_match[D.remote.isOfficial][D.remote.target].match_id,Pn.MANAGE_TODO,encodeURIComponent(`done,${D.id}`))),L.dismiss()}yield F.deleteTodoFromStorage(!1,D),F.navCtrl.pop()})()}deleteTodoFromStorage(D,F){var L=this;return(0,b.c)(function*(){let ee=yield L.loadingCtrl.create({message:L.lang.text.TodoDetail.WIP});if(ee.present(),F.remote)try{if(!L.servers[F.remote.isOfficial][F.remote.target])throw"Server deleted.";try{let Q=F.remote.isOfficial,he=F.remote.target;yield L.servers[Q][he].client.deleteStorageObjects(L.servers[Q][he].session,{object_ids:[{collection:"server_todo",key:F.id}]});for(let Re=0,rt=F.attach.length;Re<rt;Re++)yield L.sync_remove_file(F.attach[Re].path,Q,he,"todo_attach");D&&(yield L.servers[Q][he].socket.sendMatchState(L.self_match[Q][he].match_id,Pn.MANAGE_TODO,encodeURIComponent(`delete,${F.id}`)))}catch(Q){console.error("\ud574\uc57c\ud560 \uc77c \uc0ad\uc81c \uc694\uccad\uc774 \uc11c\ubc84\uc5d0 \uc804\uc1a1\ub418\uc9c0 \uc54a\uc74c: ",Q)}try{if(F.remote.creator_id!=L.servers[F.remote.isOfficial][F.remote.target].session.user_id){let Q=(new Date).getTime();try{yield L.servers[F.remote.isOfficial][F.remote.target].client.rpc(L.servers[F.remote.isOfficial][F.remote.target].session,"manage_todo_done_fn",{id:F.id,creator_id:F.remote.creator_id,user_id:L.servers[F.remote.isOfficial][F.remote.target].session.user_id,timestamp:Q,isDelete:D})}catch{}try{let he=yield L.servers[F.remote.isOfficial][F.remote.target].client.readStorageObjects(L.servers[F.remote.isOfficial][F.remote.target].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:F.remote.creator_id}]});he.objects.length&&(yield L.servers[F.remote.isOfficial][F.remote.target].socket.joinMatch(he.objects[0].value.match_id),yield L.servers[F.remote.isOfficial][F.remote.target].socket.sendMatchState(he.objects[0].value.match_id,Pn.MANAGE_TODO,encodeURIComponent(`worker,${F.id},${L.servers[F.remote.isOfficial][F.remote.target].session.user_id},${D},${Q}`)),yield L.servers[F.remote.isOfficial][F.remote.target].socket.leaveMatch(he.objects[0].value.match_id))}catch{}}}catch{}if(F.workers){try{yield L.servers[F.remote.isOfficial][F.remote.target].client.rpc(L.servers[F.remote.isOfficial][F.remote.target].session,"manage_todo_delete_fn",{id:F.id,workers:F.workers})}catch{}for(let Q=0,he=F.workers.length;Q<he;Q++)try{let Re=yield L.servers[F.remote.isOfficial][F.remote.target].client.readStorageObjects(L.servers[F.remote.isOfficial][F.remote.target].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:F.workers[Q].id}]});Re.objects.length&&(yield L.servers[F.remote.isOfficial][F.remote.target].socket.joinMatch(Re.objects[0].value.match_id),yield L.servers[F.remote.isOfficial][F.remote.target].socket.sendMatchState(Re.objects[0].value.match_id,Pn.MANAGE_TODO,encodeURIComponent(D?`delete,${F.id}`:`done,${F.id}`)),yield L.servers[F.remote.isOfficial][F.remote.target].socket.leaveMatch(Re.objects[0].value.match_id))}catch{}}yield L.removeRemoteTodoCounter(F.remote.isOfficial,F.remote.target,Number(F.id.split("_").pop()))}catch(Q){console.log("\uc11c\ubc84 \uc815\ubcf4 \uc5c6\uc74c, \ub85c\uceec\uc5d0\uc11c \ud589\ub3d9: ",Q)}(yield L.indexed.GetFileListFromDB(`todo/${F.id}`)).forEach(Q=>L.indexed.removeFileFromUserPath(Q)),F.noti_id&&("Android"==ot.s1||"iOS"==ot.s1||(clearTimeout(L.web_noti_id[F.noti_id]),delete L.web_noti_id[F.noti_id])),L.removeRegisteredId(F.noti_id),L.noti.ClearNoti(F.noti_id),D&&L.global.p5todo&&L.global.p5todo.remove_todo(JSON.stringify(F)),ee.dismiss()})()}load_groups(D,F,L){var ee=this;return(0,b.c)(function*(){let re=ee.groups[D][F][L].channel_id;try{if("missing"!=ee.groups[D][F][L].status){let Q=yield ee.servers[D][F].client.listGroupUsers(ee.servers[D][F].session,L);if(Q.group_users.length){let he=!0;for(let Re=0,rt=Q.group_users.length;Re<rt;Re++)if(Q.group_users[Re].user.id==ee.servers[D][F].session.user_id){switch(Q.group_users[Re].state){case 0:case 1:case 2:ee.groups[D][F][L].status="online";break;case 3:ee.groups[D][F][L].status="pending";break;default:console.log("\uc774\ud574\ud560 \uc218 \uc5c6\ub294 \ucf54\ub4dc \ubc18\ud658: ",Q.group_users[Re].state),ee.groups[D][F][L].status="missing"}he=!1,Q.group_users[Re].is_me=!0;break}he&&(ee.groups[D][F][L].status="missing",re&&(ee.channels_orig[D][F][re].status="missing"),ee.save_channels_with_less_info())}else ee.groups[D][F][L].status="missing",ee.channels_orig[D][F][re].status="missing",ee.save_channels_with_less_info();Q.group_users.length&&(ee.groups[D][F][L].users=Q.group_users);for(let he=0,Re=Q.group_users.length;he<Re;he++)if(Q.group_users[he].is_me)Q.group_users[he].user=ee.users.self;else try{let rt=yield ee.servers[D][F].client.readStorageObjects(ee.servers[D][F].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:Q.group_users[he].user.id}]});rt.objects.length?Q.group_users[he].user.img=rt.objects[0].value.img:delete Q.group_users[he].user.img,ee.save_other_user(Q.group_users[he].user,D,F)}catch(rt){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \uc774\ubbf8\uc9c0 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",rt),ee.save_other_user(Q.group_users[he].user,D,F)}ee.save_groups_with_less_info()}}catch(Q){console.log("load_groups_error: ",Q)}})()}save_self_profile(){let D={...this.users.self};delete D.img,this.indexed.saveTextFileToUserPath(JSON.stringify(D),"servers/self/profile.json")}rearrange_all_user(){let D=[];return Object.keys(this.users).forEach(L=>{"self"!=L&&Object.keys(this.users[L]).forEach(re=>{Object.keys(this.users[L][re]).forEach(he=>{D.push(this.users[L][re][he])})})}),D}load_other_user(D,F,L,ee=(re=>{})){try{if(this.servers[F][L].session.user_id==D)return this.users.self}catch{}let re=!1;return this.users[F][L]||(this.users[F][L]={}),this.users[F][L][D]||(this.users[F][L][D]={},this.indexed.loadTextFromUserPath(`servers/${F}/${L}/users/${D}/profile.json`,(Q,he)=>{if(Q&&he){let Re=JSON.parse(he);Object.keys(Re).forEach(_t=>this.users[F][L][D][_t]=Re[_t]),re||(ee(this.users[F][L][D]),re=!0)}else try{this.servers[F][L].client.getUsers(this.servers[F][L].session,[D]).then(Re=>{Re.users.length?(Object.keys(Re.users[0]).forEach(_t=>this.users[F][L][D][_t]=Re.users[0][_t]),re||(ee(this.users[F][L][D]),re=!0),this.users[F][L][D].img||(this.users[F][L][D].img=null),this.save_other_user(this.users[F][L][D],F,L)):(this.indexed.removeFileFromUserPath(`${F}/${L}/users/${D}`),this.indexed.removeFileFromUserPath(`${F}/${L}/users/${D}/profile.json`),this.indexed.removeFileFromUserPath(`${F}/${L}/users/${D}/profile.img`))})}catch{}}),this.users[F][L][D].img?this.save_other_user(this.users[F][L][D],F,L):this.indexed.loadTextFromUserPath(`servers/${F}/${L}/users/${D}/profile.img`,(Q,he)=>{if(Q&&he)this.users[F][L][D].img=he.replace(/"|=|\\/g,"");else if(this.users[F][L][D].avatar_url)try{"online"==this.statusBar.groupServer[F][L]&&this.servers[F][L].client.readStorageObjects(this.servers[F][L].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:D}]}).then(Re=>{Re.objects.length?this.users[F][L][D].img=Re.objects[0].value.img:delete this.users[F][L][D].avatar_url,re||(ee(this.users[F][L][D]),re=!0),this.save_other_user(this.users[F][L][D],F,L)}).catch(Re=>{this.users[F][L][D].img&&(delete this.users[F][L][D].img,re||(ee(this.users[F][L][D]),re=!0),this.save_other_user(this.users[F][L][D],F,L))})}catch{}})),this.users[F][L][D]}save_other_user(D,F,L){if(this.servers[F][L].session.user_id==D.id)return;let ee=JSON.parse(JSON.stringify(D));D.id!=this.servers[F][L].session.user_id&&(delete ee.img,delete ee.online,delete ee.todo_checked,delete ee.todo_done,this.users[F][L]||(this.users[F][L]={}),this.users[F][L][D.id]||(this.users[F][L][D.id]={}),Object.keys(D).forEach(Q=>this.users[F][L][D.id][Q]=D[Q]),this.indexed.saveTextFileToUserPath(JSON.stringify(ee),`servers/${F}/${L}/users/${ee.id}/profile.json`),D.img?this.indexed.saveTextFileToUserPath(D.img,`servers/${F}/${L}/users/${D.id}/profile.img`):void 0===D.img&&this.indexed.removeFileFromUserPath(`servers/${F}/${L}/users/${D.id}/profile.img`))}update_notifications(D,F){var L=this;return(0,b.c)(function*(){let ee=yield L.servers[D][F].client.listNotifications(L.servers[D][F].session,1);L.noti_origin[D][F]={};for(let re=0,Q=ee.notifications.length;re<Q;re++)L.act_on_notification(ee.notifications[re],D,F);L.rearrange_notifications()})()}rearrange_notifications(){let D=[];return Object.keys(this.noti_origin).forEach(L=>{Object.keys(this.noti_origin[L]).forEach(re=>{Object.keys(this.noti_origin[L][re]).forEach(he=>{D.push(this.noti_origin[L][re][he])})})}),D.sort((L,ee)=>L.create_time<ee.create_time?1:L.create_time>ee.create_time?-1:0),this.notifications_rearrange=D,D}add_channels(D,F,L){var ee=this;return(0,b.c)(function*(){if(!ee.channels_orig[F][L][D.id]){switch(ee.channels_orig[F][L][D.id]={},Object.keys(D).forEach(Q=>ee.channels_orig[F][L][D.id][Q]=D[Q]),ee.channels_orig[F][L][D.id].cnoti_id||(ee.channels_orig[F][L][D.id].cnoti_id=ee.get_noti_id()),ee.channels_orig[F][L][D.id].redirect.type){case 2:let Q=ee.channels_orig[F][L][D.id].redirect.id;ee.channels_orig[F][L][D.id].color=(Q.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6);let he=ee.load_other_user(Q,F,L).online?"online":"pending";ee.channels_orig[F][L][D.id].status=he;break;case 3:try{let Re=ee.channels_orig[F][L][D.id].redirect.id;ee.channels_orig[F][L][D.id].color=(Re.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6);let rt=yield ee.servers[F][L].client.listGroupUsers(ee.servers[F][L].session,Re);ee.groups[F][L][Re].users||(ee.groups[F][L][Re].users=[]),rt.group_users.forEach(_t=>{_t.user.id!=ee.servers[F][L].session.user_id&&(ee.users[F][L][_t.user.id]||ee.save_other_user(_t.user,F,L)),_t.user.id==ee.servers[F][L].session.user_id?_t.user.is_me=!0:ee.users[F][L][_t.user.id]||ee.save_other_user(_t.user,F,L),_t.user=ee.load_other_user(_t.user.id,F,L),ee.add_group_user_without_duplicate(_t,Re,F,L)})}catch(Re){console.error("\uadf8\ub8f9 \ucc44\ub110 \uc0dd\uc131 \uc624\ub958: ",Re)}ee.count_channel_online_member(ee.channels_orig[F][L][D.id],F,L);break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc885\ub958: ",ee.channels_orig[F][L][D.id])}ee.rearrange_channels(),ee.servers[F][L].socket.sendMatchState(ee.self_match[F][L].match_id,Pn.ADD_CHANNEL,encodeURIComponent(""))}})()}add_group_user_without_duplicate(D,F,L,ee){let re=!1;this.groups[L][ee][F].users||(this.groups[L][ee][F].users=[]);for(let Q=0,he=this.groups[L][ee][F].users.length;Q<he;Q++)if(this.groups[L][ee][F].users[Q].user.id==D.user.id){re=!0;break}re||this.groups[L][ee][F].users.push(D)}load_channel_list(){var D=this;return(0,b.c)(function*(){let F=yield D.indexed.loadTextFromUserPath("servers/channels.json");F&&(D.channels_orig=JSON.parse(F),Object.keys(D.channels_orig).forEach(ee=>{Object.keys(D.channels_orig[ee]).forEach(Q=>{Object.keys(D.channels_orig[ee][Q]).forEach(Re=>{2==D.channels_orig[ee][Q][Re].redirect.type&&(D.channels_orig[ee][Q][Re].info=D.load_other_user(D.channels_orig[ee][Q][Re].redirect.id,ee,Q)),"missing"!=D.channels_orig[ee][Q][Re].status&&delete D.channels_orig[ee][Q][Re].status,0==D.channels_orig[ee][Q][Re].redirect.type&&(D.channels_orig[ee][Q][Re].status="online"),D.channels_orig[ee][Q][Re].is_new&&!D.subscribe_lock&&(D.has_new_channel_msg=!0)})})})),D.rearrange_channels()})()}get_noti_id(){return this.noti_id=this.check_If_RegisteredId(this.noti_id+1),this.registered_id.push(this.noti_id),this.noti_id}check_If_RegisteredId(D){let F=!1;for(let L=0,ee=this.registered_id.length;L<ee;L++)if(this.registered_id[L]==D){F=!0;break}return F?this.check_If_RegisteredId(D+1):D}removeRegisteredId(D){for(let F=0,L=this.registered_id.length;F<L;F++)if(this.registered_id[F]==D){this.registered_id.splice(F,1);break}}redirect_channel(D,F){var L=this;return(0,b.c)(function*(){if(L.channels_orig[D][F]){let ee=Object.keys(L.channels_orig[D][F]);for(let re=0,Q=ee.length;re<Q;re++)if("missing"!=L.channels_orig[D][F][ee[re]].status)try{switch(yield L.servers[D][F].socket.joinChat(L.channels_orig[D][F][ee[re]].redirect.id,L.channels_orig[D][F][ee[re]].redirect.type,L.channels_orig[D][F][ee[re]].redirect.persistence,!1),L.channels_orig[D][F][ee[re]].cnoti_id||(L.channels_orig[D][F][ee[re]].cnoti_id=L.get_noti_id()),L.channels_orig[D][F][ee[re]].color=(L.channels_orig[D][F][ee[re]].info.id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),L.channels_orig[D][F][ee[re]].redirect.type){case 2:try{let he=yield L.servers[D][F].client.readStorageObjects(L.servers[D][F].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:L.channels_orig[D][F][ee[re]].redirect.id}]}),Re=L.load_other_user(L.channels_orig[D][F][ee[re]].redirect.id,D,F);Re.img=he.objects.length?he.objects[0].value.img:void 0,L.save_other_user(Re,D,F)}catch{}case 3:if(!L.channels_orig[D][F][ee[re]].update){let he=yield L.servers[D][F].client.listChannelMessages(L.servers[D][F].session,ee[re],1,!1);he.messages.length&&L.update_from_channel_msg(he.messages[0],D,F)}L.count_channel_online_member(L.channels_orig[D][F][ee[re]],D,F);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub9ac\ub2e4\uc774\ub809\uc158 \ud0c0\uc785: ",L.channels_orig[D][F][ee[re]].redirect.type)}}catch{L.channels_orig[D][F][ee[re]].status="missing"}L.rearrange_channels()}})()}rearrange_channels(){let D=[];return Object.keys(this.channels_orig).forEach(L=>{Object.keys(this.channels_orig[L]).forEach(re=>{Object.keys(this.channels_orig[L][re]).forEach(he=>{this.channels_orig[L][re][he].server={isOfficial:L,target:re};try{this.channels_orig[L][re][he].server.name=this.servers[L][re].info.name}catch{this.channels_orig[L][re][he].server.name=this.lang.text.Nakama.DeletedServer}switch(this.channels_orig[L][re][he].redirect.type){case 1:break;case 2:this.channels_orig[L][re][he].info=this.load_other_user(this.channels_orig[L][re][he].redirect.id,L,re),this.channels_orig[L][re][he].title=this.channels_orig[L][re][he].info.display_name;break;case 3:"missing"!=this.channels_orig[L][re][he].status&&(this.groups[L][re]&&this.groups[L][re][this.channels_orig[L][re][he].redirect.id]?(this.channels_orig[L][re][he].info=this.groups[L][re][this.channels_orig[L][re][he].redirect.id],this.channels_orig[L][re][he].title=this.groups[L][re][this.channels_orig[L][re][he].redirect.id].name,"missing"==this.groups[L][re][this.channels_orig[L][re][he].redirect.id].status&&(this.channels_orig[L][re][he].status=this.groups[L][re][this.channels_orig[L][re][he].redirect.id].status)):this.channels_orig[L][re][he].status="missing");break;case 0:this.channels_orig[L][re][he].info||(this.channels_orig[L][re][he].info={}),this.channels_orig[L][re][he].info.name=this.channels_orig[L][re][he].title,this.channels_orig[L][re][he].info.img||this.indexed.loadTextFromUserPath(`servers/${L}/${re}/groups/${he}.img`,(Re,rt)=>{Re&&rt&&(this.channels_orig[L][re][he].info.img=rt)});break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \uc54a\uc740 \ub300\ud654\ud615\uc2dd: ",this.channels_orig[L][re][he])}D.push(this.channels_orig[L][re][he])})})}),D.sort((L,ee)=>{let re=new Date(L.last_comment_time||0).getTime(),Q=new Date(ee.last_comment_time||0).getTime();return re<Q?1:re>Q?-1:0}),D.sort((L,ee)=>L.is_new?ee.is_new?0:-1:ee.is_new?1:0),this.channels=D,this.MakeChannelHaveContextMenuAct(),this.save_channels_with_less_info(),D}MakeChannelHaveContextMenuAct(){var D=this;setTimeout(()=>{for(let F=0,L=this.channels.length;F<L;F++){let ee=document.getElementById(`${this.channels[F].server.isOfficial}_${this.channels[F].server.target}_${this.channels[F].id}`);ee&&null==ee.oncontextmenu&&(ee.oncontextmenu=()=>{let re;for(let rt=0,_t=this.channels.length;rt<_t;rt++)if(`${this.channels[rt].server.isOfficial}_${this.channels[rt].server.target}_${this.channels[rt].id}`==ee.id){re=rt;break}let Q=this.channels[re].server.isOfficial,he=this.channels[re].server.target,Re=this.channels[re].info.name||this.channels[re].info.display_name;switch(Re=2==this.channels[re].redirect.type?Re||this.lang.text.Profile.noname_user:Re||this.lang.text.ChatRoom.noname_chatroom,this.channels[re].redirect.type){case 3:if("online"==this.channels[re].status||"pending"==this.channels[re].status){this.modalCtrl.create({component:Ct.q,componentProps:{info:this.groups[Q][he][this.channels[re].group_id],server:{isOfficial:Q,target:he}}}).then(rt=>{let _t=this.global.p5key.KeyShortCut;this.global.p5key.KeyShortCut={},rt.onDidDismiss().then(()=>{this.global.p5key.KeyShortCut=_t}),rt.present()});break}case 2:"online"==this.channels[re].status||"pending"==this.channels[re].status?this.alertCtrl.create({header:Re,message:this.lang.text.ChatRoom.UnlinkChannel,buttons:[{text:this.lang.text.ChatRoom.LogOut,handler:(rt=(0,b.c)(function*(){try{yield D.servers[Q][he].socket.leaveChat(D.channels[re].id),D.channels_orig[Q][he][D.channels[re].id].status="missing"}catch(_t){console.error("\ucc44\ub110\uc5d0\uc11c \ub098\uc624\uae30 \uc2e4\ud328: ",_t)}D.rearrange_channels()}),function(){return rt.apply(this,arguments)}),cssClass:"redfont"}]}).then(rt=>rt.present()):this.alertCtrl.create({header:Re,message:this.lang.text.ChatRoom.RemoveChannelLogs,buttons:[{text:this.lang.text.ChatRoom.Delete,handler:function(){var rt=(0,b.c)(function*(){let _t=yield D.loadingCtrl.create({message:D.lang.text.TodoDetail.WIP});_t.present(),D.remove_group_list(D.channels_orig[Q][he][D.channels[re].id].info,Q,he,!0),delete D.channels_orig[Q][he][D.channels[re].id],D.remove_channel_files(Q,he,D.channels[re].id);let Xt=yield D.indexed.GetFileListFromDB(`servers/${Q}/${he}/channels/${D.channels[re].id}`);for(let un=0,bn=Xt.length;un<bn;un++)_t.message=`${D.lang.text.UserFsDir.DeleteFile}: ${bn-un}`,yield D.indexed.removeFileFromUserPath(Xt[un]);_t.dismiss(),D.rearrange_channels()});return function(){return rt.apply(this,arguments)}}(),cssClass:"redfont"}]}).then(rt=>rt.present());break;case 0:this.alertCtrl.create({header:Re,message:this.lang.text.ChatRoom.RemoveChannelLogs,buttons:[{text:this.lang.text.ChatRoom.Delete,handler:function(){var rt=(0,b.c)(function*(){let _t=yield D.loadingCtrl.create({message:D.lang.text.TodoDetail.WIP});_t.present(),delete D.channels_orig[Q][he][D.channels[re].id];try{yield D.indexed.removeFileFromUserPath(`servers/${Q}/${he}/groups/${D.channels[re].id}.img`)}catch(un){console.log("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uc0ad\uc81c \uc624\ub958: ",un)}D.remove_channel_files(Q,he,D.channels[re].id,!0),D.save_groups_with_less_info();let Xt=yield D.indexed.GetFileListFromDB(`servers/${Q}/${he}/channels/${D.channels[re].id}`);for(let un=0,bn=Xt.length;un<bn;un++)_t.message=`${D.lang.text.UserFsDir.DeleteFile}: ${bn-un}`,yield D.indexed.removeFileFromUserPath(Xt[un]);_t.dismiss(),D.rearrange_channels()});return function(){return rt.apply(this,arguments)}}(),cssClass:"redfont"}]}).then(rt=>rt.present())}var rt;return!1})}},100)}save_channels_with_less_info(){let D=JSON.parse(JSON.stringify(this.channels_orig));Object.keys(D).forEach(L=>{Object.keys(D[L]).forEach(re=>{let Q=Object.keys(D[L][re]);Q.forEach(he=>{delete D[L][re][he].img,delete D[L][re][he].group,delete D[L][re][he].info,delete D[L][re][he].update,delete D[L][re][he].presences,delete D[L][re][he].cnoti_id,delete D[L][re][he].status,delete D[L][re][he].color,D[L][re][he].is_new||delete D[L][re][he].is_new}),Q.length||delete D[L][re]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(D),"servers/channels.json")}limit_image_size(D,F=(L=>{})){new Ye(ee=>{ee.setup=()=>{ee.noCanvas(),ee.loadImage(D,Q=>{Q.resize(window.innerWidth,window.innerWidth*Q.height/Q.width),Q.canvas.toDataURL().length>245e3&&re(Q),F(Q),ee.remove()},Q=>{this.p5toast.show({text:this.lang.text.Nakama.CannotOpenImg}),ee.remove()})};let re=Q=>{Q.resize(.95*Q.width,.95*Q.height),Q.canvas.toDataURL().length>245e3&&re(Q)}})}try_add_group(D){var F=this;return new Promise(function(){var L=(0,b.c)(function*(ee,re){let Q=F.get_all_online_server();for(let he=0,Re=Q.length;he<Re;he++)try{let rt=yield Q[he].client.joinGroup(Q[he].session,D.id);if(!rt)return void console.log("\uadf8\ub8f9 join \uc2e4\ud328... \ubca4 \ub2f9\ud588\uc744 \ub54c\uc778\ub4ef? \ud5a5\ud6c4\uc5d0 \uac80\ud1a0 \ud544");rt=yield Q[he].client.listGroups(Q[he].session,decodeURIComponent(D.name));for(let _t=0,Xt=rt.groups.length;_t<Xt;_t++)if(rt.groups[_t].id==D.id){let un=rt.groups[_t];un.status=un.open?"online":"pending",un.server=F.servers[Q[he].info.isOfficial][Q[he].info.target].info;try{let bn=yield F.servers[Q[he].info.isOfficial][Q[he].info.target].client.listGroupUsers(F.servers[Q[he].info.isOfficial][Q[he].info.target].session,rt.groups[_t].id);un.users=bn.group_users,bn.group_users.forEach(Rn=>{Rn.user.id==F.servers[Q[he].info.isOfficial][Q[he].info.target].session.user_id?Rn.is_me=!0:F.save_other_user(Rn.user,Q[he].info.isOfficial,Q[he].info.target)})}catch(bn){console.error("\uadf8\ub8f9 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",bn)}try{let bn=yield F.servers[Q[he].info.isOfficial][Q[he].info.target].client.readStorageObjects(F.servers[Q[he].info.isOfficial][Q[he].info.target].session,{object_ids:[{collection:"group_public",key:`group_${rt.groups[_t].id}`,user_id:rt.groups[_t].creator_id}]});bn.objects.length&&(un.img=bn.objects[0].value.img)}catch(bn){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \ud655\uc778 \uc624\ub958: ",bn)}if(F.save_group_info(un,Q[he].info.isOfficial,Q[he].info.target),yield Q[he].socket.sendMatchState(F.self_match[Q[he].info.isOfficial][Q[he].info.target].match_id,Pn.ADD_CHANNEL,encodeURIComponent("")),un.open){let bn=yield F.join_chat_with_modulation(un.id,3,Q[he].info.isOfficial,Q[he].info.target);if(!F.opened_page_info.channel||F.opened_page_info.channel.isOfficial!=Q[he].info.isOfficial||F.opened_page_info.channel.target!=Q[he].info.target||F.opened_page_info.channel.id!=bn.id)try{let Rn=yield F.servers[Q[he].info.isOfficial][Q[he].info.target].client.listChannelMessages(F.servers[Q[he].info.isOfficial][Q[he].info.target].session,bn.id,1,!1);Rn.messages.length&&F.update_from_channel_msg(Rn.messages[0],Q[he].info.isOfficial,Q[he].info.target),F.save_group_info(un,Q[he].info.isOfficial,Q[he].info.target),F.go_to_chatroom_without_admob_act(bn)}catch(Rn){console.error("\ucc44\ub110 \uc815\ubcf4 \ucd94\uac00 \uc624\ub958: ",Rn)}}ee();break}}catch(rt){switch(rt.status){case 400:let _t=yield Q[he].client.listGroups(Q[he].session,decodeURIComponent(D.name));for(let Xt=0,un=_t.groups.length;Xt<un;Xt++)if(_t.groups[Xt].id==D.id){try{let bn=_t.groups[Xt],Rn=yield F.servers[Q[Xt].info.isOfficial][Q[Xt].info.target].client.listGroupUsers(F.servers[Q[Xt].info.isOfficial][Q[Xt].info.target].session,_t.groups[Xt].id);bn.users=Rn.group_users,Rn.group_users.forEach(Hn=>{Hn.user.id==F.servers[Q[Xt].info.isOfficial][Q[Xt].info.target].session.user_id?Hn.is_me=!0:F.save_other_user(Hn.user,Q[Xt].info.isOfficial,Q[Xt].info.target)}),F.save_group_info(bn,Q[Xt].info.isOfficial,Q[Xt].info.target)}catch(bn){console.error("\uadf8\ub8f9 \uc815\ubcf4 \uc911\ubcf5 \uc815\ubcf4: ",bn)}break}break;case 404:break;default:console.error("\uadf8\ub8f9 \ucd94\uac00 \uc624\ub958: ",rt)}}re(F.lang.text.Nakama.GroupAllListDone)});return function(ee,re){return L.apply(this,arguments)}}())}save_group_info(D,F,L){this.groups[F][L]||(this.groups[F][L]={}),this.groups[F][L][D.id]=D,this.save_groups_with_less_info(),this.indexed.saveTextFileToUserPath(D.img,`servers/${F}/${L}/groups/${D.id}.img`),D.owner==this.servers[F][L].session.user_id&&D.img&&this.servers[F][L].client.writeStorageObjects(this.servers[F][L].session,[{collection:"group_public",key:`group_${D.id}`,value:{img:D.img},permission_read:2,permission_write:1}])}save_groups_with_less_info(D=(()=>{})){let F=JSON.parse(JSON.stringify(this.groups));Object.keys(F).forEach(ee=>{Object.keys(F[ee]).forEach(Q=>{let he=Object.keys(F[ee][Q]);he.forEach(Re=>{if(delete F[ee][Q][Re].server,delete F[ee][Q][Re].img,F[ee][Q][Re].users)for(let rt=0,_t=F[ee][Q][Re].users.length;rt<_t;rt++)if(F[ee][Q][Re].users[rt]){delete F[ee][Q][Re].users[rt].state;try{F[ee][Q][Re].users[rt].user.id?(F[ee][Q][Re].users[rt].user={id:F[ee][Q][Re].users[rt].user.id},this.servers[ee][Q]&&this.servers[ee][Q].session&&F[ee][Q][Re].users[rt].user.id==this.servers[ee][Q].session.user_id&&(F[ee][Q][Re].users[rt].is_me=!0)):F[ee][Q][Re].users[rt].is_me||F[ee][Q][Re].users.splice(rt,1)}catch{}}}),he.length||delete F[ee][Q]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(F),"servers/groups.json",()=>{D()}),this.MakeChannelHaveContextMenuAct()}remove_group_list(D,F,L,ee=!1){var re=this;return(0,b.c)(function*(){try{let Q=D.creator_id==re.servers[F][L].session.user_id;if(!re.servers[F][L]||!Q)throw"not a group creator";(yield re.servers[F][L].client.deleteGroup(re.servers[F][L].session,D.id))||console.log("\uadf8\ub8f9 \uc0ad\uc81c \uc624\ub958 \uac80\ud1a0 \ud544\uc694"),re.remove_channel_files(F,L,D.channel_id,Q);try{throw yield re.servers[F][L].client.deleteStorageObjects(re.servers[F][L].session,{object_ids:[{collection:"group_public",key:`group_${D.id}`}]}),"Remove group image well"}catch{throw"No group image found"}}catch{}try{ee&&(yield re.indexed.removeFileFromUserPath(`servers/${F}/${L}/groups/${D.id}.img`))}catch{}})()}remove_channel_files(D,F,L,ee){try{this.servers[D][F].client.rpc(this.servers[D][F].session,"remove_channel_file",{collection:`file_${L.replace(/[.]/g,"_")}`,is_creator:ee}).catch(re=>{})}catch{}}get_group_list_from_server(D,F){var L=this;return(0,b.c)(function*(){L.groups[D]||(L.groups[D]={}),L.groups[D][F]||(L.groups[D][F]={});try{let ee=yield L.servers[D][F].client.listUserGroups(L.servers[D][F].session,L.servers[D][F].session.user_id);for(let re=0,Q=ee.user_groups.length;re<Q;re++){if(!L.groups[D][F][ee.user_groups[re].group.id]){L.groups[D][F][ee.user_groups[re].group.id]={};try{let he=yield L.servers[D][F].client.readStorageObjects(L.servers[D][F].session,{object_ids:[{collection:"group_public",key:`group_${ee.user_groups[re].group.id}`,user_id:ee.user_groups[re].group.creator_id}]});he.objects.length&&(L.groups[D][F][ee.user_groups[re].group.id].img=he.objects[0].value.img,L.indexed.saveTextFileToUserPath(he.objects[0].value.img,`servers/${D}/${F}/groups/${ee.user_groups[re].group.id}.img`))}catch(he){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",he)}}L.groups[D][F][ee.user_groups[re].group.id]={...L.groups[D][F][ee.user_groups[re].group.id],...ee.user_groups[re].group},L.groups[D][F][ee.user_groups[re].group.id].status="online";try{let he=yield L.servers[D][F].client.listGroupUsers(L.servers[D][F].session,ee.user_groups[re].group.id);for(let Re=0,rt=he.group_users.length;Re<rt;Re++)he.group_users[Re].user.id==L.servers[D][F].session.user_id?he.group_users[Re].user.is_me=!0:(he.group_users[Re].user.img=null,L.save_other_user(he.group_users[Re].user,D,F)),he.group_users[Re].user=L.load_other_user(he.group_users[Re].user.id,D,F),L.add_group_user_without_duplicate(he.group_users[Re],ee.user_groups[re].group.id,D,F)}catch(he){console.error("\uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uac00\uc838\uc624\uae30 \uc624\ub958: ",he)}try{yield L.join_chat_with_modulation(ee.user_groups[re].group.id,3,D,F)}catch{}}L.save_groups_with_less_info()}catch(ee){console.error("\uc0ac\uc6a9\uc790 \uadf8\ub8f9 \uac00\uc838\uc624\uae30 \uc624\ub958: ",ee)}})()}rearrange_group_list(){let D=[];return Object.keys(this.groups).forEach(ee=>{Object.keys(this.groups[ee]).forEach(Q=>{Object.keys(this.groups[ee][Q]).forEach(Re=>{try{this.groups[ee][Q][Re].server=this.servers[ee][Q].info}catch{this.groups[ee][Q][Re].server={name:this.lang.text.Nakama.DeletedServer,isOfficial:ee,target:Q}}D.push(this.groups[ee][Q][Re])})})}),Object.keys(this.after_rearrange_group).forEach(ee=>this.after_rearrange_group[ee](D)),D}set_group_statusBar(D,F,L){this.statusBar.groupServer[F][L]&&(this.statusBar.groupServer[F][L]=D),this.catch_group_server_header(D)}count_channel_online_member(D,F,L){var ee=this;return(0,b.c)(function*(){let re="pending";try{if("offline"==ee.statusBar.groupServer[F][L])throw"\uc11c\ubc84 \uc624\ud504\ub77c\uc778";if(D.group_id){if(ee.groups[F][L][D.group_id]&&ee.groups[F][L][D.group_id].users){let Q=ee.groups[F][L][D.group_id].users.length;if(1==Q)re=ee.users.self.online?"online":"offline";else for(let he=0;he<Q;he++){let Re=ee.groups[F][L][D.group_id].users[he].user.id||ee.servers[F][L].session.user_id;if(Re!=ee.servers[F][L].session.user_id&&ee.load_other_user(Re,F,L).online){re="online";break}}}}else if(D.user_id_one)if(ee.channels_orig[F][L][D.channel_id||D.id]){let Q=ee.channels_orig[F][L][D.channel_id||D.id].redirect.id,he=yield ee.servers[F][L].client.getUsers(ee.servers[F][L].session,[Q]);Object.keys(he.users[0]).forEach(rt=>{ee.users[F][L][Q][rt]=he.users[0][rt]}),re=ee.load_other_user(Q,F,L).online?"online":"pending"}else try{let Q=yield ee.join_chat_with_modulation(D.user_id_one!=ee.servers[F][L].session.user_id?D.user_id_one:D.user_id_two,2,F,L);re=ee.load_other_user(ee.channels_orig[F][L][Q.id].redirect.id,F,L).online?"online":"pending"}catch(Q){console.error(Q)}}catch{re="offline"==ee.statusBar.groupServer[F][L]?"offline":"missing"}ee.channels_orig[F][L][D.channel_id||D.id]||(ee.channels_orig[F][L][D.channel_id||D.id]={}),"missing"!=ee.channels_orig[F][L][D.channel_id||D.id].status&&(ee.channels_orig[F][L][D.channel_id||D.id].status=re)})()}remove_server(D,F){var L=this;return(0,b.c)(function*(){let ee=yield L.loadingCtrl.create({message:L.lang.text.TodoDetail.WIP});ee.present(),ee.message=L.lang.text.Nakama.RemovingAccount;try{L.servers[D][F].client.rpc(L.servers[D][F].session,"remove_account_fn",{user_id:L.servers[D][F].session.user_id}).catch(he=>{})}catch{}if(ee.message=L.lang.text.Nakama.LogoutAccount,"online"==L.statusBar.groupServer[D][F])try{L.servers[D][F].socket.disconnect(!0)}catch{L.link_group(D,F,!1)}ee.message=L.lang.text.Nakama.RemovingNotification;try{delete L.noti_origin[D][F]}catch{}L.rearrange_notifications(),ee.message=L.lang.text.Nakama.MissingChannels;try{let he=Object.keys(L.channels_orig[D][F]);L.channels_orig.deleted||(L.channels_orig.deleted={}),L.channels_orig.deleted[F]||(L.channels_orig.deleted[F]={}),he.forEach(Re=>{L.channels_orig[D][F][Re].info.status="missing",L.channels_orig[D][F][Re].status="missing",L.channels_orig.deleted[F][Re]=JSON.parse(JSON.stringify(L.channels_orig[D][F][Re]))}),delete L.channels_orig[D][F]}catch{}L.rearrange_channels();let re=yield L.indexed.GetFileListFromDB(`servers/unofficial/${F}`);for(let he=0,Re=re.length;he<Re;he++){let rt=yield L.indexed.GetFileInfoFromDB(re[he]),_t=re[he].replace("/official/","/deleted/").replace("/unofficial/","/deleted/");yield L.indexed.saveFileToUserPath(rt,_t),yield L.indexed.removeFileFromUserPath(re[he]),ee.message=`${L.lang.text.Nakama.MissingChannelFiles}: ${re[he]}`,("Android"==ot.s1||"iOS"==ot.s1)&&L.noti.noti.schedule({id:9,title:`${L.lang.text.Nakama.MissingChannelFiles}: ${Re-he}`,progressBar:{value:he,maxValue:Re},sound:null,smallIcon:"res://icon_mono",color:"b0b0b0"})}ee.message=L.lang.text.Nakama.MissingGroups;try{L.groups.deleted||(L.groups.deleted={}),L.groups.deleted[F]||(L.groups.deleted[F]={}),L.groups.deleted[F]=JSON.parse(JSON.stringify(L.groups[D][F])),Object.keys(L.groups.deleted[F]).forEach(Re=>{L.groups.deleted[F][Re].server.name=L.lang.text.Nakama.DeletedServer,L.groups.deleted[F][Re].server.isOfficial="deleted",L.groups.deleted[F][Re].status="missing",L.groups.deleted[F][Re]=JSON.parse(JSON.stringify(L.groups[D][F][Re]))}),delete L.groups[D][F]}catch{}ee.message=L.lang.text.Nakama.DeletingServerInfo,L.set_group_statusBar("offline",D,F),delete L.statusBar.groupServer[D][F],L.RemoveWebRTCServer(L.servers[D][F].info.address),delete L.servers[D][F],L.save_groups_with_less_info(),L.indexed.saveTextFileToUserPath(JSON.stringify(L.statusBar.groupServer),"servers/list.json");let Q=yield L.indexed.loadTextFromUserPath("servers/list_detail.csv");if(Q){let he=Q.split("\n");for(let Re=0,rt=he.length;Re<rt;Re++)if(he[Re].split(",")[3]==F){he.splice(Re,1);break}L.indexed.saveTextFileToUserPath(he.join("\n"),"servers/list_detail.csv")}setTimeout(()=>{L.noti.ClearNoti(9)},100),ee.dismiss()})()}check_if_online(){this.get_all_server_info(!0,!0).length?(this.bgmode.setDefaults({title:this.lang.text.GlobalAct.OnlineMode,text:this.lang.text.GlobalAct.OnlineMode_text,icon:"icon_mono",color:"ffd94e"}),this.bgmode.configure({title:this.lang.text.GlobalAct.OnlineMode,text:this.lang.text.GlobalAct.OnlineMode_text,icon:"icon_mono",color:"ffd94e"})):(this.bgmode.setDefaults({title:this.lang.text.GlobalAct.OfflineMode,text:this.lang.text.GlobalAct.OfflineMode_text,icon:"icon_mono",color:"ffd94e"}),this.bgmode.configure({title:this.lang.text.GlobalAct.OfflineMode,text:this.lang.text.GlobalAct.OfflineMode_text,icon:"icon_mono",color:"ffd94e"}))}connect_to(D="official",F="default"){var L=this;return(0,b.c)(function*(){yield L.servers[D][F].socket.connect(L.servers[D][F].session,!0);let ee=L.servers[D][F].socket;return Object.keys(L.on_socket_connected).forEach(Q=>L.on_socket_connected[Q]()),ee.onnotification=Q=>{L.act_on_notification(Q,D,F),L.rearrange_notifications()},ee.onchannelpresence=Q=>{if(void 0!==Q.joins)Q.joins.forEach(he=>{L.servers[D][F].session.user_id!=he.user_id&&(L.load_other_user(he.user_id,D,F).online=!0)}),L.count_channel_online_member(Q,D,F);else if(void 0!==Q.leaves){let he=[];Q.leaves.forEach(Re=>{L.servers[D][F].session.user_id!=Re.user_id&&(delete L.load_other_user(Re.user_id,D,F).online,he.push(Re.user_id))}),he.forEach(Re=>L.load_other_user(Re,D,F)),L.count_channel_online_member(Q,D,F)}L.socket_reactive["others-online"]&&L.socket_reactive["others-online"]()},ee.onmatchdata=function(){var Q=(0,b.c)(function*(he){switch(he.data_str=decodeURIComponent((new TextDecoder).decode(he.data)),he.op_code){case Pn.MANAGE_TODO:{let Re=he.data_str.split(",");switch(Re[0]){case"add":L.servers[D][F].client.readStorageObjects(L.servers[D][F].session,{object_ids:[{collection:Re[1],key:Re[2],user_id:L.servers[D][F].session.user_id}]}).then(function(){var Xt=(0,b.c)(function*(un){if(un.objects.length){try{let Rn=un.objects[0].value,Hn=yield L.indexed.loadTextFromUserPath(`todo/${Rn.id}/info.todo`),dr=JSON.parse(Hn);L.removeRegisteredId(dr.noti_id),L.noti.ClearNoti(dr.noti_id)}catch{}L.modify_remote_info_as_local(un.objects[0].value,D,F);let bn=un.objects[0].value;L.noti.ClearNoti(bn.noti_id),L.set_todo_notification(bn),L.p5toast.show({text:`${L.lang.text.Main.RequestTodo}: ${bn.title}`})}});return function(un){return Xt.apply(this,arguments)}}());break;case"done":L.indexed.loadTextFromUserPath(`todo/${Re[1]}/info.todo`,(Xt,un)=>{if(Xt&&un){let bn=JSON.parse(un);bn.done=!0,L.modify_remote_info_as_local(bn,D,F),L.indexed.GetFileListFromDB(`todo/${Re[1]}`,Rn=>{Rn.forEach(Hn=>L.indexed.removeFileFromUserPath(Hn)),bn.noti_id&&("DesktopPWA"==ot.s1||"MobilePWA"==ot.s1)&&(clearTimeout(L.web_noti_id[bn.noti_id]),delete L.web_noti_id[bn.noti_id]),L.removeRegisteredId(bn.noti_id),L.noti.ClearNoti(bn.noti_id),L.SyncTodoCounter(D,F)})}});break;case"delete":L.indexed.loadTextFromUserPath(`todo/${Re[1]}/info.todo`,(Xt,un)=>{if(Xt&&un){let bn=JSON.parse(un);L.indexed.GetFileListFromDB(`todo/${Re[1]}`,Rn=>{Rn.forEach(Hn=>L.indexed.removeFileFromUserPath(Hn)),bn.noti_id&&("DesktopPWA"==ot.s1||"MobilePWA"==ot.s1)&&(clearTimeout(L.web_noti_id[bn.noti_id]),delete L.web_noti_id[bn.noti_id]),L.removeRegisteredId(bn.noti_id),L.noti.ClearNoti(bn.noti_id),L.global.p5todo&&L.global.p5todo.remove_todo&&L.global.p5todo.remove_todo(JSON.stringify(bn))}),L.SyncTodoCounter(D,F)}});break;case"worker":let rt="true"==Re[3];L.AddTodoManageUpdateAct&&L.AddTodoManageUpdateAct(Re[1],Re[2],rt,Number(Re[4])),L.p5toast.show({text:`${rt?L.lang.text.Main.WorkerAbandon:L.lang.text.Main.WorkerDone}: ${L.users[D][F][Re[2]].display_name}`}),L.indexed.loadTextFromUserPath(`todo/${Re[1]}/info.todo`,(Xt,un)=>{if(Xt&&un){let bn=JSON.parse(un);for(let Rn=0,Hn=bn.workers.length;Rn<Hn;Rn++)if((bn.workers[Rn].user_id||bn.workers[Rn].id)==Re[2]){bn.workers[Rn].isDelete="true"==Re[3],bn.workers[Rn].timestamp=Number(Re[4]);break}L.modify_remote_info_as_local(bn,D,F),L.SyncTodoCounter(D,F)}});break;default:console.log("\ub4f1\ub85d\ub418\uc9c0 \uc54a\uc740 \ud560 \uc77c \ud589\ub3d9: ",he)}L.SyncTodoCounter(D,F)}break;case Pn.EDIT_PROFILE:switch(he.data_str){case"info":L.servers[D][F].client.getAccount(L.servers[D][F].session).then(Re=>{Object.keys(Re.user).forEach(_t=>L.users.self[_t]=Re.user[_t]),L.save_self_profile()});break;case"image":L.servers[D][F].client.readStorageObjects(L.servers[D][F].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:L.servers[D][F].session.user_id}]}).then(Re=>{Re.objects.length?(L.indexed.saveTextFileToUserPath(JSON.stringify(Re.objects[0].value.img),"servers/self/profile.img"),L.users.self.img=Re.objects[0].value.img.replace(/"|=|\\/g,"")):L.indexed.removeFileFromUserPath("servers/self/profile.img")});break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ud504\ub85c\ud544 \ub3d9\uae30\ud654 \uc815\ubcf4: ",he)}break;case Pn.ADD_CHANNEL:L.get_group_list_from_server(D,F);break;case Pn.WEBRTC_INIT_REQ_SIGNAL:L.servers[D][F].session.user_id!=he.presence.user_id&&L.socket_reactive.WEBRTC_INIT_REQ_SIGNAL&&L.socket_reactive.WEBRTC_INIT_REQ_SIGNAL();break;case Pn.WEBRTC_REPLY_INIT_SIGNAL:L.servers[D][F].session.user_id!=he.presence.user_id&&L.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL&&L.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL(he.data_str);break;case Pn.WEBRTC_RECEIVE_ANSWER:L.servers[D][F].session.user_id!=he.presence.user_id&&L.socket_reactive.WEBRTC_RECEIVE_ANSWER&&L.socket_reactive.WEBRTC_RECEIVE_ANSWER(he.data_str);break;case Pn.WEBRTC_ICE_CANDIDATES:L.servers[D][F].session.user_id!=he.presence.user_id&&L.socket_reactive.WEBRTC_ICE_CANDIDATES&&L.socket_reactive.WEBRTC_ICE_CANDIDATES(he.data_str);break;case Pn.WEBRTC_NEGOCIATENEEDED:L.servers[D][F].session.user_id!=he.presence.user_id&&L.socket_reactive.WEBRTC_NEGOCIATENEEDED&&L.socket_reactive.WEBRTC_NEGOCIATENEEDED(he.data_str);break;case Pn.WEBRTC_RECEIVED_CALL_SELF:L.socket_reactive.WEBRTC_RECEIVED_CALL_SELF&&L.socket_reactive.WEBRTC_RECEIVED_CALL_SELF();break;case Pn.WEBRTC_HANGUP:L.servers[D][F].session.user_id!=he.presence.user_id&&L.WebRTCService&&(yield L.WebRTCService.close_webrtc());break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub3d9\uae30\ud654 \uc815\ubcf4: ",he)}});return function(he){return Q.apply(this,arguments)}}(),ee.onchannelmessage=Q=>{L.channels_orig[D][F][Q.channel_id]?(L.update_from_channel_msg(Q,D,F),Q.content.match&&Q.sender_id!=L.servers[D][F].session.user_id&&L.JoinWebRTCMatch(Q,D,F,L.channels_orig[D][F][Q.channel_id])):Q.user_id_one?L.join_chat_with_modulation(Q.sender_id,2,D,F):Q.group_id&&L.join_chat_with_modulation(Q.group_id,3,D,F)},ee.ondisconnect=Q=>{L.OnSocketDisconnect(D,F)},ee})()}OnSocketDisconnect(D,F){this.link_group(D,F,!1),Object.keys(this.on_socket_disconnected).forEach(ee=>this.on_socket_disconnected[ee]())}saveListedMessage(D,F,L,ee){let re={},Q=JSON.parse(JSON.stringify(D));for(;Q.length;){re.target!=Q[0].msgDate&&(re.msg&&this.saveMessageByDate(re,F,L,ee),re.target=Q[0].msgDate,re.msg=[]);let he=Q.shift();delete he.content.text,delete he.content.img,delete he.content.local_comp,delete he.content.path,delete he.msgDate,delete he.displayDate,delete he.msgTime,delete he.isLastRead,delete he.showInfo,re.msg.push(he)}this.saveMessageByDate(re,F,L,ee)}saveMessageByDate(D,F,L,ee){if(!D.msg||!D.msg.length)return;let re=JSON.parse(JSON.stringify(D)),Q=re.target.split("-");this.indexed.loadTextFromUserPath(`servers/${L}/${ee}/channels/${F.id}/chats/${Q[0]}/${Q[1]}/${Q[2]}`,(he,Re)=>{let rt=[],_t=[];he&&Re&&(rt=JSON.parse(Re)),re.msg.forEach(un=>{let bn=!1;for(let Rn=0,Hn=rt.length;Rn<Hn;Rn++)if(rt[Rn].message_id==un.message_id){bn=!0,rt[Rn]=un;break}bn||_t.push(un)});let Xt=[...rt,..._t];Xt.sort((un,bn)=>un.create_time<bn.create_time?-1:un.create_time>bn.create_time?1:0),this.indexed.saveTextFileToUserPath(JSON.stringify(Xt),`servers/${L}/${ee}/channels/${F.id}/chats/${Q[0]}/${Q[1]}/${Q[2]}`)})}ModulateTimeDate(D){let F=new Date(D.create_time),L=F.toLocaleDateString(this.lang.lang);D.displayDate=L,D.msgDate=`${F.getFullYear()}-${("00"+(F.getMonth()+1)).slice(-2)}-${("00"+F.getDate()).slice(-2)}`,D.msgTime=`${("00"+F.getHours()).slice(-2)}:${("00"+F.getMinutes()).slice(-2)}`}join_chat_with_modulation(D,F,L,ee,re=!1){var Q=this;return(0,b.c)(function*(){Q.channels_orig[L][ee]||(Q.channels_orig[L][ee]={});let he=yield Q.servers[L][ee].socket.joinChat(D,F,!0,!1);try{switch(he.redirect={id:D,type:F,persistence:!0},he.server={isOfficial:L,target:ee},F){case 2:he.title=Q.load_other_user(D,L,ee).display_name,he.info=Q.load_other_user(D,L,ee);break;case 3:he.title=Q.groups[L][ee][D].name,he.info=Q.groups[L][ee][D],Q.groups[L][ee][D].channel_id=he.id,Q.save_groups_with_less_info();break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc815\ubcf4: ",F)}try{Q.channels_orig[L][ee][he.id].status="offline"}catch{}if(yield Q.add_channels(he,L,ee),!Q.opened_page_info.channel||Q.opened_page_info.channel.isOfficial!=L||Q.opened_page_info.channel.target!=ee||Q.opened_page_info.channel.id!=he.id)try{let Re=yield Q.servers[L][ee].client.listChannelMessages(Q.servers[L][ee].session,he.id,1,!1);Re.messages.length&&Q.update_from_channel_msg(Re.messages[0],L,ee,re)}catch(Re){console.error("\ub9c8\uc9c0\ub9c9 \uba54\uc2dc\uc9c0 \ubc1b\uc544\uc11c \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",Re)}return Q.count_channel_online_member(he,L,ee),Q.save_groups_with_less_info(),he}catch(Re){let rt="";throw rt=3===Re.code?Q.lang.text.Nakama.AddChannelFailed_Code3:Re.message,Q.p5toast.show({text:`${Q.lang.text.Nakama.AddChannelFailed}: ${rt}`}),`${Q.lang.text.Nakama.AddChannelFailed}: ${rt}`}})()}update_from_channel_msg(D,F,L,ee=!1){var re=this;return(0,b.c)(function*(){let Q=D.sender_id==re.servers[F][L].session.user_id,he=D.message_id!=re.channels_orig[F][L][D.channel_id].last_comment_id,Re=re.modulation_channel_message(D,F,L);if(!Q&&he){let Xt={id:re.channels_orig[F][L][D.channel_id].cnoti_id,title:re.channels_orig[F][L][D.channel_id].info.name||re.channels_orig[F][L][D.channel_id].info.display_name||re.channels_orig[F][L][D.channel_id].title||re.lang.text.Subscribes.noTitiedChat,body:Re.content.msg||Re.content.noti||(Re.content.match?re.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||`(${re.lang.text.ChatRoom.attachments})`,extra_ln:{page:{component:"ChatRoomPage",componentProps:{info:{id:D.channel_id,isOfficial:F,target:L,noti_id:re.channels_orig[F][L][D.channel_id].cnoti_id}}}},group_ln:"diychat",smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"};Re.content.url&&0==Re.content.type.indexOf("image/")&&(Xt.image=Re.content.url),re.noti.PushLocal(Xt,re.channels_orig[F][L][D.channel_id].cnoti_id,un=>{re.go_to_chatroom_without_admob_act(re.channels_orig[F][L][D.channel_id])})}switch(Q&&re.noti.ClearNoti(re.channels_orig[F][L][D.channel_id].cnoti_id),Re.code){case 0:Re.content.gupdate&&re.update_group_info(Re,F,L),Re.content.user_update&&re.update_group_user_info(Re,F,L),he&&(re.channels_orig[F][L][D.channel_id].is_new=!Q,re.subscribe_lock||(re.has_new_channel_msg=!Q));break;case 1:case 2:break;case 3:case 4:case 5:case 6:if(re.socket_reactive.group_detail&&re.socket_reactive.group_detail.update_GroupUsersList(F,L),3==Re.code||4==Re.code)break;if(re.noti_origin[F]&&re.noti_origin[F][L]){let Xt=Object.keys(re.noti_origin[F][L]),un=[];Xt.forEach(bn=>{-5==re.noti_origin[F][L][bn].code&&re.noti_origin[F][L][bn].sender_id==Re.sender_id&&un.push(bn)});try{(yield re.servers[F][L].client.deleteNotifications(re.servers[F][L].session,un))||console.log("\uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \uc54c\ub9bc \uc0ad\uc81c \ud6c4 \uc624\ub958"),re.update_notifications(F,L)}catch(bn){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",bn)}}Q&&(re.channels_orig[F][L][Re.channel_id].status="missing",delete re.channels_orig[F][L][Re.channel_id].info);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",Re)}re.ModulateTimeDate(Re),re.check_sender_and_show_name(Re,F,L);let rt=D.content.msg;re.content_to_hyperlink(Re),re.channels_orig[F][L][D.channel_id].last_comment_time=D.update_time,re.channels_orig[F][L][Re.channel_id].last_comment_id=Re.message_id,!ee&&re.channels_orig[F][L][Re.channel_id].update&&re.channels_orig[F][L][Re.channel_id].update(Re),re.saveListedMessage([Re],re.channels_orig[F][L][Re.channel_id],F,L),re.channels_orig[F][L][Re.channel_id].last_comment=(Re.content.filename?`(${re.lang.text.ChatRoom.attachments}) `:"")+(rt||Re.content.noti||(Re.content.match?re.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||""),re.rearrange_channels()})()}rearrange_posts(){this.posts.length=0;let D=Object.keys(this.posts_orig);for(let F=0,L=D.length;F<L;F++){let ee=Object.keys(this.posts_orig[D[F]]);for(let re=0,Q=ee.length;re<Q;re++){let he=Object.keys(this.posts_orig[D[F]][ee[re]]);for(let Re=0,rt=he.length;Re<rt;Re++){let _t=Object.keys(this.posts_orig[D[F]][ee[re]][he[Re]]);for(let Xt=0,un=_t.length;Xt<un;Xt++)this.posts.push(this.posts_orig[D[F]][ee[re]][he[Re]][_t[Xt]])}}}this.posts.sort((F,L)=>F.create_time<L.create_time?1:F.create_time>L.create_time?-1:0),this.MakeContextMenuOnPost()}MakeContextMenuOnPost(){setTimeout(()=>{for(let D=0,F=this.posts.length;D<F;D++){let L=document.getElementById(this.posts[D].id);L&&null==L.oncontextmenu&&(L.oncontextmenu=()=>{let ee;for(let re=0,Q=this.posts.length;re<Q;re++)if(this.posts[re].id==L.id){ee=re;break}return this.alertCtrl.create({header:this.posts[ee].title,message:this.posts[ee].content,buttons:[{text:this.lang.text.ChatRoom.EditChat,handler:()=>{this.EditPost(this.posts[ee])}},{text:this.lang.text.TodoDetail.remove,handler:()=>{this.RemovePost(this.posts[ee])},cssClass:"redfont"}]}).then(re=>re.present()),!1})}},100)}EditPost(D){this.CommunityGoToEditPost&&this.CommunityGoToEditPost(D)}RemovePost(D,F=!1){var L=this;return(0,b.c)(function*(){let ee;if(F||(ee=yield L.loadingCtrl.create({message:L.lang.text.PostViewer.RemovePost})),"local"==D.creator_id){let re=yield L.indexed.GetFileListFromDB(`servers/local/target/posts/${D.id}`);ee&&ee.present();for(let Q=0,he=re.length;Q<he;Q++)ee&&(ee.message=`${L.lang.text.PostViewer.RemovePost}: ${re[Q]}`),yield L.indexed.removeFileFromUserPath(re[Q]);delete L.posts_orig.local.target.me[D.id]}for(let re=0,Q=D.attachments.length;re<Q;re++)try{D.attachments[re].url&&(ee&&(ee.message=`${L.lang.text.PostViewer.RemovePost}: ${D.attachments[re].filename}`),yield L.global.remove_file_from_storage(D.attachments[re].url))}catch{}ee&&ee.dismiss(),L.rearrange_posts()})()}JoinWebRTCMatch(D,F,L,ee){var re=this;return(0,b.c)(function*(){try{try{re.WebRTCService.CurrentMatch=yield re.servers[F][L].socket.joinMatch(D.content.match)}catch(Q){throw Q}re.WebRTCService&&(yield re.WebRTCService.initialize("audio",void 0,{isOfficial:F,target:L,channel_id:ee.id,user_id:ee.info.id||ee.info.user_id},!1)),yield re.servers[F][L].socket.sendMatchState(D.content.match,Pn.WEBRTC_INIT_REQ_SIGNAL,encodeURIComponent(""))}catch(Q){4===Q.code?re.p5toast.show({text:re.lang.text.ChatRoom.MatchExpiration}):(console.log("\ucc38\uc5ec \uc2e4\ud328: ",Q),re.p5toast.show({text:`${re.lang.text.ChatRoom.JoinMatchFailed}: ${Q}`}))}})()}content_to_hyperlink(D){if(!D.content.msg||"object"==typeof D.content.msg)return;let F=D.content.msg.split("\n");D.content.msg=[],F.forEach(L=>{let ee={text:L};L&&D.content.msg.push([ee]);try{let re=ee.text.match(/[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6DC}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1F9FF}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA88}\u{1FA90}-\u{1FABD}\u{1FABF}-\u{1FAC5}\u{1FACE}-\u{1FADB}\u{1FAE0}-\u{1FAE8}\u{1FAF0}-\u{1FAF8}]+/gu)[0].replace(/[0-9]/g,"");ee.text.length==re.length&&(ee.size=48)}catch{}});for(let L=0,ee=D.content.msg.length;L<ee;L++)if(D.content.msg[L][0].text){let re=D.content.msg[L][0].text.indexOf("http://");if(re<0&&(re=D.content.msg[L][0].text.indexOf("https://")),re>=0){let he,Q=[];0!=re&&(he=D.content.msg[L][0].text.substring(0,re),Q.push({text:he}));let _t,Xt,Re=D.content.msg[L][0].text.substring(re),rt=Re.indexOf(" ");rt<0?(_t=Re,Q.push({text:_t,href:!0})):(_t=Re.substring(0,rt),Q.push({text:_t,href:!0}),Xt=Re.substring(rt),Q.push({text:Xt})),D.content.msg[L]=Q}}}check_sender_and_show_name(D,F,L){try{D.color=(D.sender_id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),D.sender_id==this.servers[F][L].session.user_id?(D.user_display_name=this.users.self.display_name,D.is_me=!0):D.user_display_name=this.load_other_user(D.sender_id,F,L).display_name,D.user_display_name=D.user_display_name||this.lang.text.Profile.noname_user}catch(ee){console.log("\ubc1c\uc2e0\uc790 \uccb4\ud06c \uc624\ub958: ",ee)}}modulation_channel_message(D,F,L){this.translate_updates(D);let re,ee=!1;try{ee=D.sender_id==this.servers[F][L].session.user_id}catch{ee=D.content.user_update}try{re=ee?this.users.self:this.load_other_user(D.sender_id,F,L)}catch{re=this.users.self}switch(D.code){case 0:if(D.content.filename){try{D.content.transfer_index=this.OnTransfer[F][L][D.channel_id][D.message_id]}catch{}try{this.OnTransferMessage[D.message_id]=D}catch{}}break;case 1:case 2:break;case 3:case 4:D.content.user_update=re,D.content.noti=`${this.lang.text.Nakama.GroupUserJoin}: ${re.display_name}`,setTimeout(()=>{this.count_channel_online_member(D,F,L)},50);break;case 5:D.content.user_update=re,D.content.noti=`${this.lang.text.Nakama.GroupUserOut}: ${re.display_name}`,setTimeout(()=>{this.count_channel_online_member(D,F,L)},50);break;case 6:D.content.user_update=re,D.content.noti=`${this.lang.text.Nakama.GroupUserKick}: ${re.display_name}`,setTimeout(()=>{this.count_channel_online_member(D,F,L)},50);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",D)}return D}update_group_info(D,F,L){switch(this.translate_updates(D),D.content.gupdate){case"remove":case"force_remove":this.groups[F][L][D.group_id].status="missing",this.save_groups_with_less_info(),this.channels_orig[F][L][D.channel_id].status="missing",this.servers[F][L].socket.leaveChat(D.channel_id);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",D)}}translate_updates(D){if(D.content.user_update)switch(D.content.user_update){case"modify_data":D.content.noti=`${this.lang.text.Profile.user_profile_changed}${D.content.noti_form}`;break;case"modify_img":D.content.noti=`${this.lang.text.Profile.user_image_changed}${D.content.noti_form}`}if(D.content.gupdate)switch(D.content.gupdate){case"remove":D.content.noti=this.lang.text.GroupDetail.GroupRemoved;break;case"force_remove":D.content.noti=this.lang.text.GroupDetail.GroupForceRemoved}}update_group_user_info(D,F,L){var ee=this;return(0,b.c)(function*(){if(ee.translate_updates(D),ee.servers[F][L].session.user_id!=D.sender_id)switch(D.content.user_update){case"modify_data":try{let re=yield ee.servers[F][L].client.getUsers(ee.servers[F][L].session,[D.sender_id]);re.users.length?ee.save_other_user(re.users[0],F,L):(delete ee.users[F][L][D.sender_id],ee.indexed.removeFileFromUserPath(`servers/${F}/${L}/users/${D.sender_id}/profile.json`))}catch(re){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc815\ubcf4 \ubcc0\uacbd \uc624\ub958: ",re)}break;case"modify_img":try{let re=yield ee.servers[F][L].client.readStorageObjects(ee.servers[F][L].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:D.sender_id}]});re.objects.length?(ee.load_other_user(D.sender_id,F,L).img=re.objects[0].value.img.replace(/"|\\|=/g,""),ee.indexed.saveTextFileToUserPath(ee.users[F][L][D.sender_id].img,`servers/${F}/${L}/users/${D.sender_id}/profile.img`)):(delete ee.users[F][L][D.sender_id].img,ee.indexed.removeFileFromUserPath(`servers/${F}/${L}/users/${D.sender_id}/profile.img`))}catch(re){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd \uc624\ub958: ",re)}break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \ud589\ub3d9: ",D)}})()}check_notifications(D,F,L){var ee=this;return(0,b.c)(function*(){let re=ee.servers[F][L];switch(D.code){case 0:case-2:break;case 1:case-1:case-3:case-4:case-6:ee.noti.RemoveListener(`check${D.code}`),ee.noti.ClearNoti(D.code);try{(yield re.client.deleteNotifications(re.session,[D.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),ee.update_notifications(F,L)}catch(Q){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Q)}break;case-5:try{let Q=yield re.client.getUsers(re.session,[D.sender_id]);if(Q.users.length){let he="";he+=`${ee.lang.text.Nakama.ReqContServer}: ${D.server.name}<br>`,he+=`${ee.lang.text.Nakama.ReqContUserName}: ${Q.users[0].display_name}`,ee.alertCtrl.create({header:ee.lang.text.Nakama.ReqContTitle,message:he,buttons:[{text:ee.lang.text.Nakama.ReqContAccept,handler:(Re=(0,b.c)(function*(){try{(yield re.client.addGroupUsers(re.session,D.content.group_id,[Q.users[0].id]))||console.log("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),ee.noti.RemoveListener(`check${D.code}`),ee.noti.ClearNoti(D.code);try{let _t=yield re.client.deleteNotifications(re.session,[D.id]);_t?ee.update_notifications(F,L):console.log("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",_t)}catch(_t){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",_t)}}catch(rt){console.error("\uadf8\ub8f9\uc5d0 \uc0ac\uc6a9\uc790 \ucd94\uac00 \uc624\ub958: ",rt)}}),function(){return Re.apply(this,arguments)})},{text:ee.lang.text.Nakama.ReqContReject,handler:function(){var Re=(0,b.c)(function*(){try{(yield re.client.kickGroupUsers(re.session,D.content.group_id,[Q.users[0].id]))||console.log("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),re.client.deleteNotifications(re.session,[D.id]),ee.update_notifications(F,L)}catch(rt){console.error("\uc0ac\uc6a9\uc790 \uac15\ud1f4 \uc624\ub958: ",rt)}});return function(){return Re.apply(this,arguments)}}(),cssClass:"redfont"}]}).then(Re=>Re.present())}else try{(yield re.client.deleteNotifications(re.session,[D.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),ee.p5toast.show({text:ee.lang.text.Nakama.UserNotFound}),ee.update_notifications(F,L)}catch(he){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",he)}}catch(Q){console.error("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \ubc1b\uc544\uc624\uae30 \uc624\ub958: ",Q)}break;case-7:ee.LoginAgain(ee.noti_origin,F,L);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \uad6c\ubd84: ",D.code)}var Re})()}act_on_notification(D,F,L){var ee=this;return(0,b.c)(function*(){let re=!1;switch(D.server=ee.servers[F][L].info,D.code){case 404:ee.remove_server(F,L);break;case 1:try{(yield ee.servers[F][L].client.deleteNotifications(ee.servers[F][L].session,[D.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),ee.update_notifications(F,L)}catch(_t){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",_t)}let Q=decodeURIComponent(D.content.msg),he=decodeURIComponent(D.content.uri);ee.noti.PushLocal({id:D.code,title:ee.servers[F][L].info.name,body:Q,image:he,extra_ln:{type:"AllUserNotification",title:ee.servers[F][L].info.name,body:Q,image:he,isOfficial:F,target:L,noti_id:D.id},smallIcon_ln:"diychat",group_ln:"all_user_noti",iconColor_ln:"b95437"},"global_noti_all",_t=>{let un=`<div>${Q}</div>`;ee.alertCtrl.create({header:ee.servers[F][L].info.name,message:new ct.AF(he?`<img src="${he}" alt="noti_image" style="border-radius: 2px">`+un:un),buttons:[{text:ee.lang.text.Nakama.LocalNotiOK,handler:()=>{ee.servers[F][L].client.deleteNotifications(ee.servers[F][L].session,[D.id])}}]}).then(Rn=>Rn.present())});break;case 0:D.request=`${D.code}-${D.subject}`;break;case-1:let Re;D.request=`${D.code}-${D.subject}`,2===(D.content&&D.content.username&&(Re=2),Re)?ee.join_chat_with_modulation(D.sender_id,Re,F,L):(console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ud589\ub3d9\ucc98\ub9ac: ",D,Re),D.request=`${D.code}-${D.subject}`),re=!0;try{(yield ee.servers[F][L].client.deleteNotifications(ee.servers[F][L].session,[D.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),ee.update_notifications(F,L)}catch(_t){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",_t)}break;case-2:case-3:D.request=`${D.code}-${D.subject}`;break;case-4:ee.socket_reactive.group_detail&&ee.socket_reactive.group_detail.info.id==D.content.group_id&&ee.socket_reactive.group_detail.update_from_notification(D),ee.groups[F][L][D.content.group_id].status="online",D.request=`${D.code}-${D.subject}`,ee.noti.RemoveListener(`check${D.code}`),ee.noti.SetListener(`check${D.code}`,_t=>{ee.noti.ClearNoti(_t.id),ee.noti.RemoveListener(`check${D.code}`),ee.check_notifications(D,F,L)});try{let _t=yield ee.servers[F][L].client.readStorageObjects(ee.servers[F][L].session,{object_ids:[{collection:"group_public",key:`group_${D.content.group_id}`,user_id:ee.groups[F][L][D.content.group_id].creator_id}]});_t.objects.length&&(ee.groups[F][L][D.content.group_id].img=_t.objects[0].value.img,ee.indexed.saveTextFileToUserPath(_t.objects[0].value.img,`servers/${F}/${L}/groups/${D.content.group_id}.img`))}catch(_t){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",_t)}try{let _t=yield ee.servers[F][L].client.listGroupUsers(ee.servers[F][L].session,D.content.group_id);_t.group_users.length&&_t.group_users.forEach(Xt=>{ee.load_other_user(Xt.user.id,F,L)})}catch(_t){console.error("\uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uac00\uc838\uc624\uae30 \uc624\ub958: ",_t)}ee.join_chat_with_modulation(D.content.group_id,3,F,L),ee.noti.PushLocal({id:D.code,title:`${ee.groups[F][L][D.content.group_id].name}: ${ee.lang.text.Nakama.LocalNotiTitle}`,body:D.subject,group_ln:"diychat",icon:ee.groups[F][L][D.content.group_id.img],smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},void 0,_t=>{ee.check_notifications(D,F,L)});break;case-5:let rt=ee.groups[F][L][D.content.group_id];if(rt)D.request=`${ee.lang.text.Nakama.ReqContTitle}: ${rt.name}`;else{re=!0;try{let _t=yield ee.servers[F][L].client.deleteNotifications(ee.servers[F][L].session,[D.id]);_t?ee.update_notifications(F,L):console.log("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",_t)}catch(_t){console.error("\uc54c\ub9bc \uc81c\uac70 \uc624\ub958: ",_t)}}ee.socket_reactive.group_detail&&ee.socket_reactive.group_detail.info.id==D.content.group_id&&ee.socket_reactive.group_detail.update_from_notification(D),ee.noti.RemoveListener(`check${D.code}`),ee.noti.SetListener(`check${D.code}`,_t=>{ee.noti.ClearNoti(_t.id),ee.noti.RemoveListener(`check${D.code}`),!ee.socket_reactive.group_detail&&ee.modalCtrl.create({component:Ct.q,componentProps:{info:ee.groups[F][L][D.content.group_id],server:ee.servers[F][L].info}}).then(Xt=>Xt.present())}),ee.noti.PushLocal({id:D.code,title:`${ee.groups[F][L][D.content.group_id].name}: ${ee.lang.text.Nakama.ReqContTitle}`,group_ln:"diychat",icon:ee.groups[F][L][D.content.group_id].img,extra_ln:{page:{component:"NakamaReqContTitle",componentProps:{data:{noti_id:D.id,serverName:ee.servers[F][L].info.name,userName:ee.load_other_user(D.sender_id,F,L).display_name,group_id:D.content.group_id,user_id:D.sender_id,isOfficial:F,Target:L}}}},smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},void 0,_t=>{ee.socket_reactive.group_detail.info.id!=D.content.group_id&&ee.modalCtrl.create({component:Ct.q,componentProps:{info:ee.groups[F][L][D.content.group_id]}}).then(Xt=>Xt.present())});break;case-6:D.request=`${D.code}-${D.subject}`;break;case-7:D.request=`${ee.servers[F][L].info.name}: ${ee.lang.text.Nakama.SessionLogout}`,ee.LoginAgain(D,F,L);break;default:console.log("\ud655\uc778\ub418\uc9c0 \uc54a\uc740 \uc2e4\uc2dc\uac04 \uc54c\ub9bc_nakama_noti: ",D),D.request=`${D.code}-${D.subject}`}re||(ee.noti_origin[F]||(ee.noti_origin[F]={}),ee.noti_origin[F][L]||(ee.noti_origin[F][L]={}),ee.noti_origin[F][L][D.id]=D)})()}LoginAgain(D,F,L){this.alertCtrl.create({header:this.servers[F][L].info.name,message:this.lang.text.Nakama.LoginAgain,buttons:[{text:this.lang.text.Profile.login_toggle,handler:()=>{try{delete this.noti_origin[F][L][D.id]}catch{}this.rearrange_notifications(),this.link_group(F,L,!0)}}]}).then(ee=>ee.present())}WriteStorage_From_channel(D,F,L,ee,re=0){var Q=this;return(0,b.c)(function*(){let he=JSON.parse(JSON.stringify(D)),Re=yield Q.global.req_file_info(F),rt=Math.ceil(Re.contents.length/qe.KY);if(Q.OnTransfer[L]||(Q.OnTransfer[L]={}),Q.OnTransfer[L][ee]||(Q.OnTransfer[L][ee]={}),Q.OnTransfer[L][ee][D.channel_id]||(Q.OnTransfer[L][ee][D.channel_id]={}),Q.OnTransfer[L][ee][D.channel_id][D.message_id]||(Q.OnTransfer[L][ee][D.channel_id][D.message_id]={index:rt}),!Q.OnTransfer[L][ee][D.channel_id][D.message_id].OnTransfer){D.content.transfer_index||(D.content.transfer_index=Q.OnTransfer[L][ee][D.channel_id][D.message_id]);for(let _t=re;_t<rt;_t++)try{let Xt=Q.global.req_file_part_base64(Re,_t,F);yield Q.servers[L][ee].client.writeStorageObjects(Q.servers[L][ee].session,[{collection:`file_${he.channel_id.replace(/[.]/g,"_")}`,key:`msg_${he.message_id}_${_t}`,permission_read:2,permission_write:1,value:{data:Xt}}]),Q.OnTransfer[L][ee][D.channel_id][D.message_id].index=rt-1-_t,Q.OnTransfer[L][ee][D.channel_id][D.message_id].OnTransfer="upload"}catch(Xt){console.log("WriteStorage_From_channel: ",Xt),Q.p5toast.show({text:`${Q.lang.text.Nakama.FailedUpload}: ${Xt}`});break}setTimeout(()=>{delete Q.OnTransfer[L][ee][D.channel_id][D.message_id],Q.global.remove_req_file_info(D,F),Q.p5toast.show({text:`${Q.lang.text.ChatRoom.SendFile}: ${he.content.filename}`})},100)}})()}ReadStorage_From_channel(D,F,L,ee,re=0){var Q=this;return(0,b.c)(function*(){let he=JSON.parse(JSON.stringify(D));if(Q.OnTransfer[L]||(Q.OnTransfer[L]={}),Q.OnTransfer[L][ee]||(Q.OnTransfer[L][ee]={}),Q.OnTransfer[L][ee][D.channel_id]||(Q.OnTransfer[L][ee][D.channel_id]={}),Q.OnTransfer[L][ee][D.channel_id][D.message_id]||(Q.OnTransfer[L][ee][D.channel_id][D.message_id]={index:he.content.partsize}),Q.OnTransfer[L][ee][D.channel_id][D.message_id].OnTransfer)return;D.content.transfer_index||(D.content.transfer_index=Q.OnTransfer[L][ee][D.channel_id][D.message_id]);let Re=!0;for(let rt=re,_t=he.content.partsize;rt<_t;rt++)try{let Xt=yield Q.servers[L][ee].client.readStorageObjects(Q.servers[L][ee].session,{object_ids:[{collection:`file_${he.channel_id.replace(/[.]/g,"_")}`,key:`msg_${he.message_id}_${rt}`,user_id:he.sender_id}]});Q.global.save_file_part(F,rt,Xt.objects[0].value.data),Q.OnTransfer[L][ee][D.channel_id][D.message_id].index=_t-1-rt,Q.OnTransfer[L][ee][D.channel_id][D.message_id].OnTransfer="download"}catch(Xt){console.log("ReadStorage_From_channel: ",Xt),Re=!1,Q.p5toast.show({text:`${Q.lang.text.Nakama.FailedDownload}: ${Xt}`});break}if(Re){if(D.content.url)D.content.thumbnail=D.content.url;else{D.content.text=[Q.lang.text.ChatRoom.SavingFile],delete D.content.transfer_index,delete Q.OnTransfer[L][ee][he.channel_id][he.message_id].index,Q.p5toast.show({text:`${Q.lang.text.ChatRoom.SavingFile}: ${he.content.filename}`}),("Android"==ot.s1||"iOS"==ot.s1)&&Q.noti.noti.schedule({id:8,title:`${Q.lang.text.ContentViewer.SavingFile}: ${D.content.filename}`,progressBar:{indeterminate:!0},sound:null,smallIcon:"res://diychat",color:"b0b0b0"});let _t=[],Xt=0;yield new Promise(function(){var un=(0,b.c)(function*(bn){for(let Rn=0,Hn=he.content.partsize;Rn<Hn;Rn++)try{let dr=yield Q.indexed.GetFileInfoFromDB(`${F}_part/${Rn}.part`);Xt+=dr.contents.length,_t[Rn]=dr}catch(dr){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",dr);break}try{let Rn=new Int8Array(Xt),Hn=0;for(let dr=0,rr=_t.length;dr<rr;dr++)Rn.set(_t[dr].contents,Hn),Hn+=_t[dr].contents.length;yield Q.indexed.saveInt8ArrayToUserPath(Rn,F);for(let dr=0,rr=he.content.partsize;dr<rr;dr++)Q.indexed.removeFileFromUserPath(`${F}_part/${dr}.part`);yield Q.indexed.removeFileFromUserPath(`${F}_part`),Q.global.remove_req_file_info(he,F),D.content.text=[Q.lang.text.ChatRoom.FileSaved]}catch(Rn){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",Rn)}bn(void 0)});return function(bn){return un.apply(this,arguments)}}()),Q.noti.ClearNoti(8)}let rt;if(he.content.path=F,"godot"!=he.content.viewer){let _t=yield Q.indexed.loadBlobFromUserPath(F,D.content.type||"");rt=URL.createObjectURL(_t)}yield Q.global.modulate_thumbnail((Q.OnTransferMessage[he.message_id]||D).content,rt),delete Q.OnTransfer[L][ee][he.channel_id][he.message_id],delete Q.OnTransferMessage[he.message_id]}return Re})()}sync_save_file(D,F,L,ee,re=""){var Q=this;return(0,b.c)(function*(){try{D.blob.size&&(yield Q.indexed.saveBlobToUserPath(D.blob,D.path));let he=yield Q.global.req_file_info(D.path);D.partsize=Math.ceil((D.filesize||he.contents.length)/qe.KY),delete D.blob,yield Q.servers[F][L].client.writeStorageObjects(Q.servers[F][L].session,[{collection:ee,key:re||D.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),permission_read:2,permission_write:1,value:D}]);for(let Re=0;Re<D.partsize;Re++){let rt=Q.global.req_file_part_base64(he,Re,D.path);yield Q.servers[F][L].client.writeStorageObjects(Q.servers[F][L].session,[{collection:ee,key:re?`${re}_${Re}`:D.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${Re}`,permission_read:2,permission_write:1,value:{data:rt}}])}Q.indexed.removeFileFromUserPath(`${D.path}.history`)}catch(he){console.log("SyncSaveFailed: ",he)}})()}sync_load_file(D,F,L,ee,re="",Q=""){var he=this;return(0,b.c)(function*(){try{return yield he.indexed.loadBlobFromUserPath(D.path,D.type||"")}catch{try{let _t=(yield he.servers[F][L].client.readStorageObjects(he.servers[F][L].session,{object_ids:[{collection:ee,key:Q||D.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:re||he.servers[F][L].session.user_id}]})).objects[0].value,Xt=!0;for(let un=0;un<_t.partsize;un++)try{let bn=yield he.servers[F][L].client.readStorageObjects(he.servers[F][L].session,{object_ids:[{collection:ee,key:Q?`${Q}_${un}`:_t.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${un}`,user_id:re||he.servers[F][L].session.user_id}]});he.global.save_file_part(_t.path,un,bn.objects[0].value.data)}catch(bn){console.log("ReadStorage_From_channel: ",bn),Xt=!1,he.p5toast.show({text:`${he.lang.text.Nakama.FailedDownload}: ${bn}`});break}if(Xt)if(D.url)D.thumbnail=D.url;else{D.text=[he.lang.text.ChatRoom.SavingFile],he.p5toast.show({text:`${he.lang.text.ChatRoom.SavingFile}: ${_t.filename}`}),("Android"==ot.s1||"iOS"==ot.s1)&&he.noti.noti.schedule({id:8,title:`${he.lang.text.ContentViewer.SavingFile}: ${_t.filename}`,progressBar:{indeterminate:!0},sound:null,smallIcon:"res://diychat",color:"b0b0b0"});let un=[],bn=0;yield new Promise(function(){var Rn=(0,b.c)(function*(Hn,dr){for(let rr=0,at=_t.partsize;rr<at;rr++)try{let ut=yield he.indexed.GetFileInfoFromDB(`${_t.path}_part/${rr}.part`);bn+=ut.contents.length,un[rr]=ut}catch(ut){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",ut);break}try{let rr=new Int8Array(bn),at=0;for(let ut=0,$e=un.length;ut<$e;ut++)rr.set(un[ut].contents,at),at+=un[ut].contents.length;yield he.indexed.saveInt8ArrayToUserPath(rr,_t.path);for(let ut=0,$e=_t.partsize;ut<$e;ut++)he.indexed.removeFileFromUserPath(`${_t.path}_part/${ut}.part`);yield he.indexed.removeFileFromUserPath(`${_t.path}_part`)}catch(rr){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",rr),dr()}Hn(void 0)});return function(Hn,dr){return Rn.apply(this,arguments)}}()),he.noti.ClearNoti(8),he.indexed.removeFileFromUserPath(`${_t.path}.history`)}return yield he.indexed.loadBlobFromUserPath(_t.path,_t.type||"")}catch{return null}}})()}sync_remove_file(D,F,L,ee,re=""){var Q=this;return(0,b.c)(function*(){try{yield Q.indexed.removeFileFromUserPath(D);let Re=(yield Q.servers[F][L].client.readStorageObjects(Q.servers[F][L].session,{object_ids:[{collection:ee,key:D.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:re||Q.servers[F][L].session.user_id}]})).objects[0].value;try{Q.servers[F][L].client.rpc(Q.servers[F][L].session,"remove_channel_file",{collection:ee,key:Re.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+"_"})}catch{}yield Q.servers[F][L].client.deleteStorageObjects(Q.servers[F][L].session,{object_ids:[{collection:ee,key:Re.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)}]})}catch(he){console.log("SyncRemoveFailed: ",he)}})()}AddressToQRCodeAct(D,F=!1){var L=this;return(0,b.c)(function*(){let ee=[];if(D.open_profile&&ee.push({type:"open_profile"}),D.tmp_user){let re=D.tmp_user[0].split(",");L.users.self.email=re[0],L.users.self.password=re[1],L.users.self.display_name=re[2],L.users.self.online=!0,L.save_self_profile()}if(D.server)for(let re=0,Q=D.server.length;re<Q;re++){let he=D.server[re].split(",");ee.push({type:"server",value:{name:he[0]||"No named server",target:he[0]||"No named server",address:he[1]||"192.168.0.1",useSSL:he[2]||!1,port:he[3]||7350,key:he[4]||"defaultkey",isOfficial:"unofficial"}})}if(D.group)for(let re=0,Q=D.group.length;re<Q;re++){let he=D.group[re].split(",");ee.push({type:"group",name:he[0],id:he[1]})}if(D.group_dedi&&"http:"==window.location.protocol&&ee.push({type:"group_dedi",value:{address:`ws://${D.group_dedi[0]}`}}),D.open_prv_channel){let re=D.open_prv_channel[0].split(",");ee.push({type:"open_prv_channel",user_id:re[0],isOfficial:re[1]||"official",target:re[2]||"DevTestServer"})}if(D.open_channel){let re=D.open_channel[0].split(",");ee.push({type:"open_channel",group_id:re[0],isOfficial:re[1],target:re[2]})}if(D.rtcserver)for(let re=0,Q=D.rtcserver.length;re<Q;re++){let he=D.rtcserver[re].split("]"),Re=he[0].split("[")[1],rt=he[1].split(",");ee.push({type:"rtcserver",value:{urls:Re.split(","),username:rt[1],credential:rt[2]}})}if(D.voidDraw)for(let re=0,Q=D.voidDraw.length;re<Q;re++){let Re=D.voidDraw[re].split("]")[0].split("[")[1];ee.push({type:"voidDraw",addresses:Re.split(",")})}if(F)return ee;yield L.act_from_QRInfo(ee)})()}act_from_QRInfo(D){var F=this;return(0,b.c)(function*(){for(let L=0,ee=D.length;L<ee;L++)switch(D[L].type){case"open_profile":F.nav.navigateForward("portal/settings/group-server");break;case"tmp_user":break;case"server":if(F.statusBar.groupServer.unofficial[D[L].value.name])F.p5toast.show({text:`${F.lang.text.Nakama.AlreadyHaveTargetName}: ${D[L].value.name}`}),delete D[L].value.name,yield F.modalCtrl.create({component:Nt.E,componentProps:{data:D[L].value}}).then(he=>he.present());else{let he={name:decodeURIComponent(D[L].value.name),target:decodeURIComponent(D[L].value.target),address:decodeURIComponent(D[L].value.address),port:D[L].value.port,useSSL:D[L].value.useSSL,isOfficial:D[L].value.isOfficial,key:decodeURIComponent(D[L].value.key)};yield F.add_group_server(he),F.init_session(he)}break;case"group_dedi":yield F.modalCtrl.create({component:yt._,componentProps:{address:D[L].value.address,name:F.users.self.display_name}}).then(he=>{he.present()});break;case"group":F.AfterLoginActDone?yield F.try_add_group(D[L]):F.AfterLoginAct.push((0,b.c)(function*(){return yield F.try_add_group(D[L])}));break;case"open_prv_channel":if(F.AfterLoginActDone){let he=yield F.join_chat_with_modulation(D[L].user_id,2,D[L].isOfficial,D[L].target,!0);F.go_to_chatroom_without_admob_act(he)}else F.AfterLoginAct.push((0,b.c)(function*(){let he=yield F.join_chat_with_modulation(D[L].user_id,2,D[L].isOfficial,D[L].target,!0);F.go_to_chatroom_without_admob_act(he)}));yield F.AutoConnectServer();break;case"open_channel":if(F.AfterLoginActDone){let he=yield F.join_chat_with_modulation(D[L].group_id,3,D[L].isOfficial,D[L].target,!0);F.go_to_chatroom_without_admob_act(he)}else F.AfterLoginAct.push((0,b.c)(function*(){let he=yield F.join_chat_with_modulation(D[L].group_id,3,D[L].isOfficial,D[L].target,!0);F.go_to_chatroom_without_admob_act(he)}));yield F.AutoConnectServer();break;case"rtcserver":let Q=[];try{if(!F.lang.text.WebRTCDevManager.NoRegServer)throw"\ubc88\uc5ed \uc900\ube44 \uc548\ub428";let he=yield F.indexed.loadTextFromUserPath("servers/webrtc_server.json");Q=JSON.parse(he)}catch{}Q.push(D[L].value),yield F.indexed.saveTextFileToUserPath(JSON.stringify(Q),"servers/webrtc_server.json");break;case"voidDraw":F.AfterLoginActDone?F.modalCtrl.create({component:Ft.S,componentProps:{addresses:D[L].addresses},cssClass:"fullscreen"}).then(he=>he.present()):F.AfterLoginAct.push((0,b.c)(function*(){F.modalCtrl.create({component:Ft.S,componentProps:{addresses:D[L].addresses},cssClass:"fullscreen"}).then(he=>he.present())}));break;default:throw"\uc9c0\uc815\ub41c \ud2c0 \uc544\ub2d8"}})()}AutoConnectServer(){var D=this;return(0,b.c)(function*(){D.get_all_server_info().length||(yield D.WatchAdsAndGetDevServerInfo(!0))})()}load_local_post_with_id(D){var F=this;return(0,b.c)(function*(){let L=yield F.indexed.loadTextFromUserPath(`servers/local/target/posts/${D}/info.json`);try{let ee=JSON.parse(L);if(ee.mainImage)if(ee.mainImage.url)ee.mainImage.thumbnail=ee.mainImage.url;else{let re=yield F.indexed.loadBlobFromUserPath(ee.mainImage.path,ee.mainImage.type);ee.mainImage.blob=re;let Q=URL.createObjectURL(re);ee.mainImage.thumbnail=Q,setTimeout(()=>{URL.revokeObjectURL(Q)},100)}return F.posts_orig.local.target.me[ee.id]=ee,!0}catch{return!1}})()}}return(G=ye).\u0275fac=function(D){return new(D||G)($t.CoB(hn.O),$t.CoB(yn.Y),$t.CoB(En.k),$t.CoB(Sn.s),$t.CoB(Cn.qS),$t.CoB(Cn.iW),$t.CoB(tr.o),$t.CoB(qe.A1),$t.CoB(lr.Y),$t.CoB(Zn.wX),$t.CoB($t.WW2),$t.CoB(Cn.Kg),$t.CoB(Zn.wX))},G.\u0275prov=$t.wxM({token:G,factory:G.\u0275fac,providedIn:"root"}),ye})()},4428:(fn,Pt,me)=>{"use strict";me.d(Pt,{y:()=>c});var b=me(1528),we=me(9352),_e=me(2272),r=me(4496),W=me(5624),S=me(9240),v=me(7136),_=me(4180),f=me(3824),h=me(4500),x=me(7756),w=me(1368);function a(s,m){if(1&s){const p=r.KQA();r.I0R(0,"td")(1,"ion-button",9),r.qCj("click",function(){r.usT(p);const O=r.GaO(2);return r.CGJ(O.notification_react(-5))}),r.OEk(2),r.C$Y()()}if(2&s){const p=r.GaO(2);r.yG2(2),r.oRS(" ",p.lang.text.OtherProfile.add_to_group," ")}}function l(s,m){if(1&s){const p=r.KQA();r.I0R(0,"td")(1,"ion-button",9),r.qCj("click",function(){r.usT(p);const O=r.GaO(2);return r.CGJ(O.notification_react(-2))}),r.OEk(2),r.C$Y()()}if(2&s){const p=r.GaO(2);r.yG2(2),r.oRS(" ",p.lang.text.OtherProfile.add_friend," ")}}function d(s,m){if(1&s){const p=r.KQA();r.I0R(0,"td")(1,"ion-button",10),r.qCj("click",function(){r.usT(p);const O=r.GaO(2);return r.CGJ(O.kick_user_from_group())}),r.OEk(2),r.C$Y()()}if(2&s){const p=r.GaO(2);r.yG2(2),r.oRS(" ",p.lang.text.OtherProfile.kick_from_group," ")}}function u(s,m){if(1&s){const p=r.KQA();r.I0R(0,"div",5)(1,"table",6)(2,"tr"),r.yuY(3,a,3,1,"td",7)(4,l,3,1,"td",7),r.I0R(5,"td")(6,"ion-button",8),r.qCj("click",function(){r.usT(p);const O=r.GaO();return r.CGJ(O.create_chat())}),r.OEk(7),r.C$Y()(),r.yuY(8,d,3,1,"td",7),r.C$Y()()()}if(2&s){const p=r.GaO();r.yG2(3),r.E7m("ngIf",p.has_admin&&p.additional_buttons[-5]),r.yG2(),r.E7m("ngIf",p.additional_buttons[-2]),r.yG2(2),r.E7m("disabled",p.lock_create_chat),r.yG2(),r.oRS(" ",p.lang.text.OtherProfile.privacy_chat," "),r.yG2(),r.E7m("ngIf",p.has_admin)}}let c=(()=>{var s;class m{constructor(y,O,$,N,P,j,V){this.modalCtrl=y,this.navParams=O,this.nakama=$,this.statusBar=N,this.p5toast=P,this.lang=j,this.mClipboard=V,this.info={},this.group_info={},this.additional_buttons={},this.has_admin=!1,this.BackButtonPressed=!1,this.onDismissData={},this.lock_create_chat=!1}InitBrowserBackButtonOverride(){window.history.replaceState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}ngOnInit(){var y=this;return(0,b.c)(function*(){y.InitBrowserBackButtonOverride(),y.info=y.navParams.get("info"),y.has_admin=y.navParams.get("has_admin"),y.group_info=y.navParams.get("group"),y.isOfficial=y.group_info.server.isOfficial,y.target=y.group_info.server.target,y.nakama.load_other_user(y.info.user.id,y.isOfficial,y.target),y.nakama.socket_reactive["others-profile"]=O=>{y.p5canvas.ChangeImageSmooth(O)},y.nakama.socket_reactive["others-online"]=()=>{y.p5canvas.loop()},y.catch_user_noties()})()}ionViewWillEnter(){this.OtherCanvasDiv=document.getElementById("OtherUserCanvasDiv"),this.p5canvas=new we(y=>{let $,N,P,V,j=1,k="0, 0, 0",E=0;y.setup=()=>{let T=y.color(`#${(this.info.user.id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6)}`);k=`${y.red(T)}, ${y.green(T)}, ${y.blue(T)}`,V=y.createDiv(),V.style("width","100%"),V.style("height","100%"),V.style("background-image",`linear-gradient(to top, rgba(${k}, 0), rgba(${k}, 0))`),V.parent(this.OtherCanvasDiv),y.noCanvas(),y.pixelDensity(1);let H=y.createDiv();const X="156px";H.style("width",X),H.style("height",X),H.style("position","absolute"),H.style("top","120px"),H.style("left","50%"),H.style("transform","translateX(-50%)"),H.style("border-radius",X),H.style("background-image","url(assets/data/avatar.svg)"),H.style("background-position","center"),H.style("background-repeat","no-repeat"),H.style("background-size","cover"),H.parent(this.OtherCanvasDiv);let z=y.createDiv();const te="36px";z.style("background-color",this.info.user.online?this.statusBar.colors.online:this.statusBar.colors.offline),z.style("width",te),z.style("height",te),z.style("position","absolute"),z.style("top","128px"),z.style("left",this.OtherCanvasDiv.clientWidth/2+38+"px"),setTimeout(()=>{z.style("left",this.OtherCanvasDiv.clientWidth/2+38+"px")},0),z.style("border-radius",te),z.parent(this.OtherCanvasDiv),y.OnlineLamp=z,N=y.createImg(this.info.user.img,"profile_img"),N.style("width",X),N.style("height",X),N.style("border-radius",X),N.style("position","absolute"),N.style("object-fit","cover"),this.info.user.img||N.hide(),N.parent(H),P=y.createImg(void 0,"before_img"),P.style("width",X),P.style("height",X),P.style("border-radius",X),P.style("position","absolute"),P.style("object-fit","cover"),P.hide(),P.parent(H),y.ChangeImageSmooth=de=>{de?(P.elt.src=void 0,P.hide()):(P.elt.src=N.elt.src,P.show()),N.elt.src=de,j=1,y.loop(),this.info.user.img=de,de?N.show():N.hide()};let q=y.createDiv();q.style("width","100%"),q.style("position","absolute"),q.style("top","330px"),q.style("display","flex"),q.style("flex-direction","column"),q.parent(this.OtherCanvasDiv),$=y.createDiv(this.info.user.display_name||this.lang.text.Profile.noname_user),$.style("font-size","36px"),$.style("font-weight","bold"),$.style("align-self","center"),$.style("width","80%"),$.style("text-align","center"),$.parent(q);let ne=y.createDiv(this.info.user.id);ne.style("color","var(--ion-color-medium)"),ne.style("align-self","center"),ne.style("margin-top","36px"),ne.style("width","80%"),ne.style("text-align","center"),ne.style("cursor","copy"),ne.parent(q),ne.elt.onclick=()=>{this.copy_id()}},y.draw=()=>{j>0&&(j-=.025,P.style("opacity",`${j}`),N.style("opacity",""+(1-j))),this.info.user.online?this.lerpVal<1?this.lerpVal+=.025:this.lerpVal=1:this.lerpVal>0?this.lerpVal-=.025:this.lerpVal=0,E<1&&(E+=.025),N.style("filter",`grayscale(${y.lerp(.9,0,this.lerpVal)}) contrast(${y.lerp(1.4,1,this.lerpVal)})`),P.style("filter",`grayscale(${y.lerp(.9,0,this.lerpVal)}) contrast(${y.lerp(1.4,1,this.lerpVal)})`),V.style("background-image",`linear-gradient(to top, rgba(${k}, ${y.min(1,E)/2}), rgba(${k}, 0))`),j<=0&&(this.lerpVal>=1||this.lerpVal<=0)&&E>=1&&(this.p5canvas.OnlineLamp.style("background-color",this.info.user.online?this.statusBar.colors.online:this.statusBar.colors.offline),y.noLoop())},y.windowResized=()=>{y.OnlineLamp.style("left",this.OtherCanvasDiv.clientWidth/2+38+"px")}})}catch_user_noties(){this.nakama.noti_origin[this.isOfficial]&&this.nakama.noti_origin[this.isOfficial][this.target]&&Object.keys(this.nakama.noti_origin[this.isOfficial][this.target]).forEach($=>{this.nakama.noti_origin[this.isOfficial][this.target][$].sender_id==this.info.user.id&&(this.additional_buttons[this.nakama.noti_origin[this.isOfficial][this.target][$].code.toString()]=$)})}notification_react(y){switch(y){case 0:case-1:case-2:break;case-5:this.nakama.servers[this.isOfficial][this.target].client.addGroupUsers(this.nakama.servers[this.isOfficial][this.target].session,this.group_info.group_id||this.group_info.id,[this.info.user.id]).then(O=>{O||console.warn("\ubc34 \uc720\uc800\uc5d0 \ub300\ud55c\uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),this.p5toast.show({text:`${this.lang.text.OtherProfile.added_to_group}: ${this.info.user.display_name||this.lang.text.Profile.noname_user}`}),this.nakama.servers[this.isOfficial][this.target].client.deleteNotifications(this.nakama.servers[this.isOfficial][this.target].session,[this.additional_buttons[y.toString()]]).then($=>{$||console.warn("\uc54c\ub9bc \ubd80\uc815 \uac80\ud1a0 \ud544\uc694"),delete this.additional_buttons[y.toString()],this.nakama.update_notifications(this.isOfficial,this.target),this.onDismissData={id:this.info.user.id,act:"accept_join"},this.info.status="online",this.p5canvas.loop()})});break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ubc18\uc751: ",y)}}create_chat(){var y=this;return(0,b.c)(function*(){if(!y.lock_create_chat){y.lock_create_chat=!0;try{let O=yield y.nakama.join_chat_with_modulation(y.info.user.id,2,y.isOfficial,y.target,!0);y.nakama.go_to_chatroom_without_admob_act(O),y.lock_create_chat=!1,y.modalCtrl.dismiss({dismiss:!0})}catch(O){y.lock_create_chat=!1,console.error(O)}}})()}kick_user_from_group(){switch(this.info.state){case 0:case 1:case 2:this.after_announce_kick();break;case 3:this.nakama.servers[this.isOfficial][this.target].client.deleteNotifications(this.nakama.servers[this.isOfficial][this.target].session,[this.additional_buttons[-5]]).then(y=>{y||console.warn("\uc54c\ub9bc \ubd80\uc815 \uac80\ud1a0 \ud544\uc694"),this.after_announce_kick(),delete this.additional_buttons[-5],this.nakama.update_notifications(this.isOfficial,this.target),this.info.status="missing",this.p5canvas.loop()});break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uc0c1\ud0dc: ",this.info)}}after_announce_kick(){this.nakama.servers[this.isOfficial][this.target].client.kickGroupUsers(this.nakama.servers[this.isOfficial][this.target].session,this.group_info.group_id||this.group_info.id,[this.info.user.id]).then(y=>{this.p5toast.show({text:`${this.lang.text.OtherProfile.kicked_from_group}: ${this.info.user.display_name||this.lang.text.Profile.noname_user}`}),this.modalCtrl.dismiss({id:this.info.user.id,act:"kick"})})}copy_id(){this.mClipboard.copy(this.info.user.id).catch(y=>_e.c.write(this.info.user.id))}ionViewDidLeave(){delete this.nakama.socket_reactive["others-profile"],delete this.nakama.socket_reactive["others-online"],this.p5canvas.remove()}}return(s=m).\u0275fac=function(y){return new(y||s)(r.GI1(W.qS),r.GI1(S.a6),r.GI1(v.h),r.GI1(_.Y),r.GI1(f.O),r.GI1(h.o),r.GI1(x._))},s.\u0275cmp=r.In1({type:s,selectors:[["app-others-profile"]],decls:9,vars:2,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["id","OtherUserCanvasDiv",2,"position","absolute","width","100%","height","100%","display","flex"],["style","width: 100%; position: absolute; bottom: 0;",4,"ngIf"],[2,"width","100%","position","absolute","bottom","0"],["id","input_table",2,"width","100%","background-color","black"],[4,"ngIf"],["expand","block",3,"disabled","click"],["expand","block",3,"click"],["color","danger","expand","block",3,"click"]],template:function(y,O){1&y&&(r.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),r.OEk(3),r.C$Y(),r.I0R(4,"ion-buttons",1),r.qCj("click",function(){return O.modalCtrl.dismiss(O.onDismissData)}),r.wR5(5,"ion-back-button",2),r.C$Y()()(),r.I0R(6,"ion-content"),r.wR5(7,"div",3),r.yuY(8,u,9,5,"div",4),r.C$Y()),2&y&&(r.yG2(3),r.cNF(O.lang.text.OtherProfile.Title),r.yG2(5),r.E7m("ngIf","online"==O.statusBar.groupServer[O.isOfficial][O.target]))},dependencies:[w.u_,W.sn,W.GS,W._i,W.wB,W.tM,W.Md,W.Im],styles:[".fore-gradient[_ngcontent-%COMP%]{position:relative;background-image:linear-gradient(to top,#000,#0000);width:100%;height:100%}.content_size[_ngcontent-%COMP%]{height:360px}"]}),m})()},3824:(fn,Pt,me)=>{"use strict";me.d(Pt,{O:()=>W});var b=me(9352),nt=me(5020),_e=me(4496),r=function(S){return S[S.Idle=0]="Idle",S[S.DivFadeIn=1]="DivFadeIn",S[S.BorderAlert=2]="BorderAlert",S[S.Reading=3]="Reading",S[S.FadeOut=4]="FadeOut",S}(r||{});let W=(()=>{var S;class v{constructor(){this.isShowing=!1,this.stack=[],this.alert=[],this.status=r.Idle}show(f){let h;f.time=(new Date).getTime(),f.lateable||(this.AlertNow=f,this.status=r.DivFadeIn),this.alert.length&&(h=this.alert[this.alert.length-1]),this.AlertNow&&this.AlertNow.text==f.text?this.status=r.DivFadeIn:h&&h.text==f.text||this.alert.push(f),this.isShowing?this.status==r.FadeOut&&(this.status=r.DivFadeIn):(this.CurrentToast=new b(w=>{let a,l,d,u=0,c=0,s=0;w.setup=()=>{w.noCanvas(),a=w.createDiv(),a.style("position: absolute; left: 0; top: 0; z-index: 1"),a.style("width: 100%; height: fit-content"),a.style("padding: 32px;"),a.style("display: flex; justify-content: center;"),a.style("pointer-events: none"),m(),d=w.createDiv(),d.parent(a),d.style("display: flex; justify-content: center;"),d.style("width: fit-content; height: fit-content"),d.style("border-radius: 24px"),d.style("background: #"+(nt.Mp?"30564e88":"b9543788")),d.style("padding: 4px"),l=w.createDiv(),l.parent(d),l.style("display: flex; justify-content: center;"),l.style("width: fit-content; height: fit-content"),l.style("word-break: break-all"),l.style("background: #"+(nt.Mp?"30564e88":"b9543788")),l.style("border-radius: 20px"),l.style("padding: 12px"),l.style("color: white"),this.AlertNow||(this.AlertNow=this.alert.shift()),l.html(this.AlertNow.text),p(),this.status=r.DivFadeIn},w.draw=()=>{switch(this.status){case r.DivFadeIn:u<1?u+=1:(u=1,c=1,this.status=r.BorderAlert,l.html(this.AlertNow.text));break;case r.BorderAlert:if(c>0)c-=.03;else{let O;c=0,O=this.AlertNow.duration?1e3*this.AlertNow.duration:24*(new TextEncoder).encode(this.AlertNow.text).length,s=w.millis()+O+960,this.status=r.Reading}break;case r.Reading:w.millis()>s&&(this.alert.length?(this.stack.push(this.AlertNow),this.AlertNow=this.alert.shift(),l.html(this.AlertNow.text),this.status=r.DivFadeIn):this.status=r.FadeOut);break;case r.FadeOut:u>0?u-=.04:y()}m(),p()};let m=()=>{a.style(`opacity: ${u}`)},p=()=>{let O=w.lerpColor(w.color("#"+(nt.Mp?"30564e88":"b9543788")),w.color("#ffd94ebb"),c).levels;d.style(`padding: ${4*c}px`),l.style(`padding: ${w.lerp(16,12,c)}px`),l.style(`border-radius: ${w.lerp(24,20,c)}px`),d.style(`background: rgba(${O[0]}, ${O[1]}, ${O[2]}, ${O[3]/255})`)},y=()=>{this.stack=[...this.stack,this.AlertNow,...this.alert],this.AlertNow=void 0,this.alert.length=0,this.isShowing=!1,this.CurrentToast.remove()}}),this.isShowing=!0)}hide(){this.status=r.FadeOut}}return(S=v).\u0275fac=function(f){return new(f||S)},S.\u0275prov=_e.wxM({token:S,factory:S.\u0275fac,providedIn:"root"}),v})()},6756:(fn,Pt,me)=>{"use strict";me.d(Pt,{q:()=>P});var b=me(1528),we=me(4428),nt=me(340),_e=me(2272),r=me(5193),W=me(4496),S=me(9240),v=me(5624),_=me(7136),f=me(4180),h=me(4668),x=me(4500),w=me(5020),a=me(3824),l=me(7756),d=me(1368),u=me(4716);function c(j,V){if(1&j){const k=W.KQA();W.I0R(0,"img",21),W.qCj("click",function(){W.usT(k);const T=W.GaO(2);return W.CGJ(T.copy_startup_address())}),W.C$Y()}if(2&j){const k=W.GaO(2);W.E7m("src",k.QRCodeSRC,W.K6U)}}function s(j,V){if(1&j&&(W.I0R(0,"div"),W.yuY(1,c,1,1,"img",20),W.C$Y()),2&j){const k=W.GaO();W.yG2(),W.E7m("ngIf",k.QRCodeSRC)}}function m(j,V){if(1&j&&(W.I0R(0,"ion-item",22)(1,"ion-label",23),W.OEk(2),W.C$Y()()),2&j){const k=W.GaO();W.yG2(2),W.cNF(k.lang.text.GroupDetail.NotAcceptYet)}}function p(j,V){if(1&j&&(W.I0R(0,"ion-item",22)(1,"ion-label",23),W.OEk(2),W.C$Y()()),2&j){const k=W.GaO();W.yG2(2),W.cNF(k.lang.text.GroupDetail.MissedGroup)}}function y(j,V){if(1&j&&(W.I0R(0,"ion-item-divider")(1,"ion-label"),W.OEk(2),W.C$Y()()),2&j){const k=W.GaO();W.yG2(2),W.oRS("",k.lang.text.GroupDetail.Members+" ("+k.info.users.length+"/"+k.info.max_count+")"," ")}}function O(j,V){if(1&j){const k=W.KQA();W.I0R(0,"ion-item",7),W.qCj("click",function(){const H=W.usT(k).$implicit,X=W.GaO();return W.CGJ(X.open_user_profile(H))}),W.wR5(1,"div",8),W.I0R(2,"div",9),W.wR5(3,"img",10),W.C$Y(),W.I0R(4,"ion-label",11),W.OEk(5),W.C$Y()()}if(2&j){const k=V.$implicit,E=W.GaO();W.yG2(),W.m_g("background-color: "+E.statusBar.colors[k.user.online?"online":"offline"]),W.yG2(2),W.m_g("filter: "+(k.user.online?"grayscale(0) contrast(1);":"grayscale(.9) contrast(1.4);")),W.E7m("src",k.user.img,W.K6U),W.yG2(2),W.cNF(k.user.display_name||E.lang.text.Profile.noname_user)}}function $(j,V){if(1&j){const k=W.KQA();W.I0R(0,"ion-item",7),W.qCj("click",function(){W.usT(k);const T=W.GaO();return W.CGJ(T.remove_group())}),W.I0R(1,"ion-label",24),W.OEk(2),W.C$Y()()}if(2&j){const k=W.GaO();W.yG2(2),W.cNF(k.lang.text.GroupDetail.BreakupGroup)}}function N(j,V){if(1&j){const k=W.KQA();W.I0R(0,"ion-item",7),W.qCj("click",function(){W.usT(k);const T=W.GaO();return W.CGJ(T.leave_group())}),W.I0R(1,"ion-label",24),W.OEk(2),W.C$Y()()}if(2&j){const k=W.GaO();W.yG2(2),W.cNF(k.lang.text.GroupDetail.LeaveGroup)}}let P=(()=>{var j;class V{constructor(E,T,H,X,z,te,J,q,ne){this.navParams=E,this.nakama=T,this.modalCtrl=H,this.statusBar=X,this.indexed=z,this.lang=te,this.global=J,this.p5toast=q,this.mClipboard=ne,this.has_admin=!1,this.BackButtonPressed=!1,this.file_sel_id="",this.need_edit=!1,this.lock_modal_open=!1}InitBrowserBackButtonOverride(){window.history.replaceState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}ngOnInit(){var E=this;return(0,b.c)(function*(){E.InitBrowserBackButtonOverride(),E.info=E.navParams.get("info"),E.file_sel_id=`group_detail_${E.info.id}_${(new Date).getTime()}}`,E.info_orig=JSON.parse(JSON.stringify(E.navParams.get("info"))),E.nakama.socket_reactive.group_detail=E,E.QRCodeSRC=E.global.readasQRCodeFromString(`${r.uM}pjcone_pwa/?group=${E.info.name},${E.info.id}`),E.info.server||(E.info.server=E.navParams.get("server")),E.isOfficial=E.info.server.isOfficial,E.target=E.info.server.target;try{E.has_admin=E.info.creator_id==E.nakama.servers[E.isOfficial][E.target].session.user_id}catch(T){console.log("check is admin failed: ",T),E.has_admin=!1}if(E.info.users&&E.info.users.length)for(let T=0,H=E.info.users.length;T<H;T++)E.info.users[T].is_me?(E.info.users[T].user=E.nakama.users.self,E.indexed.loadTextFromUserPath("servers/self/profile.img",(X,z)=>{X&&z&&(E.nakama.users.self.img=z.replace(/"|\\|=/g,""))})):E.info.users[T].user.id?E.info.users[T].user=E.nakama.load_other_user(E.info.users[T].user.id,E.isOfficial,E.target):E.info.users.splice(T,1);try{E.nakama.servers[E.isOfficial][E.target].client.readStorageObjects(E.nakama.servers[E.isOfficial][E.target].session,{object_ids:[{collection:"group_public",key:`group_${E.info.id}`,user_id:E.info.creator_id}]}).then(T=>{T.objects.length?(E.nakama.groups[E.isOfficial][E.target][E.info.id].img=T.objects[0].value.img.replace(/"|=|\\/g,""),E.indexed.saveTextFileToUserPath(T.objects[0].value.img,`servers/${E.isOfficial}/${E.target}/groups/${E.info.id}.img`)):E.info.status&&(delete E.nakama.groups[E.isOfficial][E.target][E.info.id].img,E.indexed.removeFileFromUserPath(`servers/${E.isOfficial}/${E.target}/groups/${E.info.id}.img`))})}catch(T){console.log(T)}})()}update_from_notification(E){switch(E.code){case-4:case-5:this.update_GroupUsersList(E.server.isOfficial,E.server.target);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",E)}}update_GroupUsersList(E,T){this.nakama.servers[E][T].client.listGroupUsers(this.nakama.servers[E][T].session,this.info.id).then(H=>{let X=[];for(let z=0,te=H.group_users.length;z<te;z++)if(H.group_users[z].user.id==this.nakama.servers[E][T].session.user_id)X.push({state:H.group_users[z].state,user:this.nakama.users.self});else{let J=this.nakama.load_other_user(H.group_users[z].user.id,E,T);this.nakama.save_other_user(H.group_users[z].user,E,T),X.push({state:H.group_users[z].state,user:J})}this.info.users=X})}buttonClickInputFile(){var E=this;return(0,b.c)(function*(){if(E.has_admin)if(E.info.img)E.info.img=void 0,E.nakama.servers[E.info.server.isOfficial][E.info.server.target].client.deleteStorageObjects(E.nakama.servers[E.info.server.isOfficial][E.info.server.target].session,{object_ids:[{collection:"group_public",key:`group_${E.info.id}`}]}).then(T=>{E.indexed.removeFileFromUserPath(`servers/${E.info.server.isOfficial}/${E.info.server.target}/groups/${E.info.id}.img`)});else try{let T=yield _e.c.read();yield E.check_if_clipboard_available(T)}catch{try{let H=yield E.mClipboard.paste();yield E.check_if_clipboard_available(H)}catch{document.getElementById(E.file_sel_id).click()}}})()}inputImageSelected(E){var T=this;return(0,b.c)(function*(){let H=yield T.global.GetBase64ThroughFileReader(E.target.files[0]);T.nakama.limit_image_size(H,z=>{T.info.img=z.canvas.toDataURL(),T.announce_update_group_image(T.info.img)}),document.getElementById(T.file_sel_id).value=""})()}announce_update_group_image(E){this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.writeStorageObjects(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,[{collection:"group_public",key:`group_${this.info.id}`,value:{img:E},permission_read:2,permission_write:1}]).then(T=>{this.indexed.saveTextFileToUserPath(JSON.stringify(E),`servers/${this.info.server.isOfficial}/${this.info.server.target}/groups/${this.info.id}.img`)})}check_if_clipboard_available(E){var T=this;return(0,b.c)(function*(){try{if(0!=E.indexOf("http"))throw"URL \uc8fc\uc18c\uac00 \uc544\ub2d8";yield new Promise((H,X)=>{let z=document.createElement("img");z.src=E,z.onload=()=>{T.info.img=E,T.announce_update_group_image(E),z.remove(),H(void 0)},z.onerror=()=>{z.remove(),X()}})}catch{try{if(0!=E.indexOf("data:image"))throw"DataURL \uc8fc\uc18c\uac00 \uc544\ub2d8";T.nakama.limit_image_size(E,X=>{T.info.img=X.canvas.toDataURL(),T.announce_update_group_image(T.info.img)})}catch{throw"\uc0ac\uc6a9\ubd88\uac00 \uc774\ubbf8\uc9c0"}}})()}remove_group(){var E=this;this.need_edit=!1;try{if(this.nakama.servers[this.info.server.isOfficial][this.info.server.target]){if(this.info.creator_id!=this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session.user_id)throw this.lang.text.GroupDetail.YouAreNotCreator;"online"==this.info.status?this.nakama.servers[this.info.server.isOfficial][this.info.server.target].socket.writeChatMessage(this.info.channel_id,{gupdate:"remove"}).then(function(){var T=(0,b.c)(function*(H){let X=yield E.nakama.servers[E.info.server.isOfficial][E.info.server.target].client.getAccount(E.nakama.servers[E.info.server.isOfficial][E.info.server.target].session),z=JSON.parse(X.user.metadata);for(let te=0,J=z.is_manager.length;te<J;te++)if(z.is_manager[te]==E.info.id){z.is_manager.splice(te,1);break}z.is_manager.length||delete z.is_manager;try{yield E.nakama.servers[E.info.server.isOfficial][E.info.server.target].client.rpc(E.nakama.servers[E.info.server.isOfficial][E.info.server.target].session,"update_user_metadata_fn",{user_id:E.nakama.servers[E.info.server.isOfficial][E.info.server.target].session.user_id,metadata:z})}catch(te){console.log("\uadf8\ub8f9 \uc0ad\uc81c\uc2dc \uc0dd\uc131\uc790\uc758 \ub9e4\ub2c8\uc800 \uad8c\ud55c \ubc15\ud0c8 \ub3d9\uae30\ud654 \uc624\ub958: ",te)}E.after_remove_group()});return function(H){return T.apply(this,arguments)}}()):this.after_remove_group()}else this.nakama.remove_group_list(this.info,this.info.server.isOfficial,this.info.server.target),this.modalCtrl.dismiss({remove:!0})}catch(T){console.log("remove_group: ",T),this.p5toast.show({text:T})}}after_remove_group(){this.leave_channel(),this.nakama.remove_group_list(this.info,this.info.server.isOfficial,this.info.server.target),this.modalCtrl.dismiss({remove:!0})}edit_group(){"online"==this.statusBar.groupServer[this.info.server.isOfficial][this.info.server.target]&&"missing"!=this.info.status&&this.has_admin&&this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.updateGroup(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,this.info.id,{name:this.info.name,lang_tag:this.info.lang_tag,description:this.info.description,open:this.info.open}),this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id]=this.info,this.nakama.save_groups_with_less_info()}open_user_profile(E){this.lock_modal_open||(this.lock_modal_open=!0,E.is_me?this.modalCtrl.create({component:nt.w,componentProps:{isOfficial:this.info.server.isOfficial,target:this.info.server.target}}).then(T=>{T.present(),this.lock_modal_open=!1}):this.modalCtrl.create({component:we.y,componentProps:{info:E,group:this.info,has_admin:this.has_admin}}).then(T=>{T.onDidDismiss().then(H=>{if(H.data){if(H.data.id)for(let X=0,z=this.info.users.length;X<z;X++)if(this.info.users[X].user.id==H.data.id){switch(H.data.act){case"accept_join":this.info.users[X].status="online";break;case"kick":this.info.users.splice(X,1);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc0c1\ub300\ubc29 \uc815\ubcf4: ",H)}break}H.data.dismiss&&this.modalCtrl.dismiss()}}),T.present(),this.lock_modal_open=!1}))}leave_group(){this.need_edit=!1,"online"==this.info.status?this.after_leave_group(()=>{this.leave_channel(),this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id].status="missing",this.nakama.save_groups_with_less_info(()=>this.modalCtrl.dismiss({leave:!0}))}):"pending"==this.info.status&&this.after_leave_group(()=>{this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id].status="missing",this.nakama.save_groups_with_less_info(()=>this.modalCtrl.dismiss({leave:!0}))})}after_leave_group(E=(()=>console.warn("after_leave_group_announce Func Null"))){this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.leaveGroup(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,this.info.id).then(T=>{T&&E(),this.nakama.remove_channel_files(this.info.server.isOfficial,this.info.server.target,this.info.channel_id)})}leave_channel(){this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target]&&this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id]&&"missing"!=this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].status&&(this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].status="missing")}copy_id(){this.mClipboard.copy(this.info.id).catch(E=>_e.c.write(this.info.id))}copy_startup_address(){let E=`https://is2you2.github.io/pjcone_pwa/?group=${this.info.name},${this.info.id}`;this.mClipboard.copy(E).catch(T=>_e.c.write(E))}ionViewWillLeave(){delete this.nakama.socket_reactive.group_detail,this.need_edit=this.info.description!=this.info_orig.description,this.need_edit&&this.edit_group()}}return(j=V).\u0275fac=function(E){return new(E||j)(W.GI1(S.a6),W.GI1(_.h),W.GI1(v.qS),W.GI1(f.Y),W.GI1(h.k),W.GI1(x.o),W.GI1(w.A1),W.GI1(a.O),W.GI1(l._))},j.\u0275cmp=W.In1({type:j,selectors:[["app-group-detail"]],decls:39,vars:24,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],[4,"ngIf"],["color","warning",4,"ngIf"],[2,"cursor","copy",3,"click"],["text-wrap","","color","medium",1,"ion-text-center"],["button","",3,"click"],[1,"additional_form","status_bar_single"],[1,"additional_form","bg_img_form"],[1,"profile_img",3,"src"],[1,"form_margin"],[1,"server_target"],[1,"form_margin","content"],["hidden","","type","file","accept","image/*",3,"id","change"],[1,"infobox",3,"disabled","ngModel","placeholder","ngModelChange"],[2,"pointer-events","none"],[2,"pointer-events","none",3,"ngModel","ngModelChange"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click",4,"ngIf"],["style","width: 100%; height: auto; cursor: copy;","alt","Loading",3,"src","click",4,"ngIf"],["alt","Loading",2,"width","100%","height","auto","cursor","copy",3,"src","click"],["color","warning"],[1,"ion-text-center"],["color","danger",1,"ion-text-center"]],template:function(E,T){1&E&&(W.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),W.OEk(3),W.C$Y(),W.I0R(4,"ion-buttons",1),W.qCj("click",function(){return T.modalCtrl.dismiss()}),W.wR5(5,"ion-back-button",2),W.C$Y()()(),W.I0R(6,"ion-content"),W.yuY(7,s,2,1,"div",3)(8,m,3,1,"ion-item",4)(9,p,3,1,"ion-item",4),W.I0R(10,"ion-item",5),W.qCj("click",function(){return T.copy_id()}),W.I0R(11,"ion-label",6),W.OEk(12),W.C$Y()(),W.I0R(13,"ion-item",7),W.qCj("click",function(){return T.buttonClickInputFile()}),W.wR5(14,"div",8),W.I0R(15,"div",9),W.wR5(16,"img",10),W.C$Y(),W.I0R(17,"ion-label",11)(18,"div")(19,"table")(20,"tr")(21,"td"),W.OEk(22),W.C$Y(),W.I0R(23,"td",12),W.OEk(24),W.C$Y()()()(),W.I0R(25,"div",13),W.OEk(26),W.C$Y()()(),W.I0R(27,"input",14),W.qCj("change",function(X){return T.inputImageSelected(X)}),W.C$Y(),W.I0R(28,"ion-item-divider")(29,"ion-label"),W.OEk(30),W.C$Y()(),W.I0R(31,"textarea",15),W.iHE("ngModelChange",function(X){return W.kNx(T.info.description,X)||(T.info.description=X),X}),W.C$Y(),W.I0R(32,"ion-item",16)(33,"ion-toggle",17),W.iHE("ngModelChange",function(X){return W.kNx(T.info.open,X)||(T.info.open=X),X}),W.OEk(34),W.C$Y()(),W.yuY(35,y,3,1,"ion-item-divider",3)(36,O,6,6,"ion-item",18)(37,$,3,1,"ion-item",19)(38,N,3,1,"ion-item",19),W.C$Y()),2&E&&(W.yG2(3),W.cNF(T.lang.text.GroupDetail.Title),W.yG2(4),W.E7m("ngIf","missing"!=T.info.status),W.yG2(),W.E7m("ngIf","pending"==T.info.status),W.yG2(),W.E7m("ngIf","missing"==T.info.status),W.yG2(3),W.cNF(T.info.id),W.yG2(2),W.m_g("background-color: "+T.statusBar.colors[T.info.status||"offline"]),W.yG2(2),W.m_g("filter: "+("online"==T.info.status?"grayscale(0) contrast(1);":"grayscale(.9) contrast(1.4);")),W.E7m("src",T.info.img,W.K6U),W.yG2(6),W.oRS(" ",T.info.name||T.info.title||T.info.display_name," "),W.yG2(2),W.oRS(" ","("+(T.info.server.name||T.info.server.target)+")"," "),W.yG2(2),W.oRS(" ",T.lang.text.AddGroup.ClicktoChangeGroupImg," "),W.yG2(),W.E7m("id",T.file_sel_id),W.yG2(3),W.cNF(T.lang.text.AddGroup.GroupDetail_placeholder),W.yG2(),W.E7m("disabled",!T.has_admin),W.OKB("ngModel",T.info.description),W.E7m("placeholder",T.lang.text.GroupDetail.NoDetailGroup),W.yG2(2),W.OKB("ngModel",T.info.open),W.yG2(),W.cNF(T.lang.text.GroupDetail.IsOpen),W.yG2(),W.E7m("ngIf",T.info.users&&T.info.users.length),W.yG2(),W.E7m("ngForOf",T.info.users),W.yG2(),W.E7m("ngIf",("online"==T.info.status||"pending"==T.info.status)&&T.has_admin),W.yG2(),W.E7m("ngIf",("online"==T.info.status||"pending"==T.info.status)&&!T.has_admin))},dependencies:[d.ay,d.u_,u.ot,u.ue,u._G,v.GS,v._i,v.wB,v.Yb,v.S8,v.QR,v.tM,v.E$,v.Md,v.UJ,v.Im],styles:[".content[_ngcontent-%COMP%]{color:#888;height:24px;display:table-cell;vertical-align:middle}.server_target[_ngcontent-%COMP%]{color:#888;padding-left:4px}"]}),V})()},340:(fn,Pt,me)=>{"use strict";me.d(Pt,{w:()=>P});var b=me(1528),we=me(7136),nt=me(2272),_e=me(5193),r=me(9352),S=me(4496),v=me(3824),_=me(4180),f=me(4668),h=me(4500),x=me(5020),w=me(7756),a=me(9240),l=me(5624),d=me(1368),u=me(4716);const c=["RegisterNewServer"];function s(j,V){if(1&j){const k=S.KQA();S.I0R(0,"ion-item",14),S.qCj("click",function(){S.usT(k);const T=S.GaO(2);return S.CGJ(T.add_dev_test_server())}),S.I0R(1,"ion-label",17),S.OEk(2),S.C$Y()()}if(2&j){const k=S.GaO(2);S.yG2(2),S.cNF(k.lang.text.GroupServer.UseDevTestServer)}}function m(j,V){if(1&j&&(S.I0R(0,"p"),S.OEk(1),S.C$Y()),2&j){const k=S.GaO().$implicit,E=S.GaO(2);S.yG2(),S.cNF(k.useSSL?E.lang.text.GroupServer.useSSL:E.lang.text.GroupServer.NotuseSSL)}}function p(j,V){if(1&j){const k=S.KQA();S.I0R(0,"ion-button",22),S.qCj("click",function(){S.usT(k);const T=S.GaO().$implicit,H=S.GaO(2);return S.CGJ(H.remove_server(T.isOfficial,T.target))}),S.OEk(1),S.C$Y()}if(2&j){const k=S.GaO().$implicit,E=S.GaO(2);S.yG2(),S.oRS(" ","online"==E.statusBar.groupServer[k.isOfficial][k.target]?E.lang.text.GroupServer.RemoveAccount:E.lang.text.GroupServer.RemoveUnofficial," ")}}function y(j,V){if(1&j){const k=S.KQA();S.I0R(0,"ion-item",14),S.qCj("click",function(){const H=S.usT(k).$implicit,X=S.GaO(2);return S.CGJ(X.link_group(H.isOfficial,H.target))}),S.wR5(1,"div",18),S.I0R(2,"ion-label",19)(3,"h2"),S.OEk(4),S.C$Y(),S.yuY(5,m,2,1,"p",20),S.C$Y(),S.yuY(6,p,2,1,"ion-button",21),S.C$Y()}if(2&j){const k=V.$implicit,E=S.GaO(2);S.yG2(),S.m_g("background-color: "+E.statusBar.colors[E.statusBar.groupServer[k.isOfficial][k.target]||"offline"]),S.yG2(3),S.cNF(k.name),S.yG2(),S.E7m("ngIf","official"!=k.isOfficial),S.yG2(),S.E7m("ngIf","official"!=k.isOfficial)}}function O(j,V){if(1&j){const k=S.KQA();S.I0R(0,"div",8)(1,"ion-accordion-group")(2,"ion-accordion",9)(3,"ion-item",10)(4,"ion-label"),S.OEk(5),S.C$Y()(),S.I0R(6,"div",11),S.yuY(7,s,3,1,"ion-item",12)(8,y,7,5,"ion-item",13),S.I0R(9,"ion-item",14),S.qCj("click",function(){S.usT(k);const T=S.GaO();return S.CGJ(T.OpenNewServerForm())}),S.I0R(10,"ion-label",15),S.OEk(11),S.C$Y()()()()(),S.I0R(12,"ion-item",14),S.qCj("click",function(){S.usT(k);const T=S.GaO();return S.CGJ(T.toggle_online())}),S.I0R(13,"ion-label",16),S.OEk(14),S.C$Y()()()}if(2&j){const k=S.GaO();S.yG2(5),S.cNF(k.lang.text.GroupServer.JoinedServerList),S.yG2(2),S.E7m("ngIf",k.CanAddTestServer),S.yG2(),S.E7m("ngForOf",k.servers),S.yG2(3),S.cNF(k.lang.text.GroupServer.RegisterServer),S.yG2(3),S.cNF(k.lang.text.Profile.LogOut)}}function $(j,V){if(1&j){const k=S.KQA();S.I0R(0,"ion-content")(1,"ion-item")(2,"ion-label",15),S.OEk(3),S.C$Y()(),S.I0R(4,"ion-item",23)(5,"ion-input",24),S.iHE("ngModelChange",function(T){S.usT(k);const H=S.GaO();return S.kNx(H.dedicated_info.name,T)||(H.dedicated_info.name=T),S.CGJ(T)}),S.C$Y()(),S.I0R(6,"ion-item",23)(7,"ion-input",25),S.iHE("ngModelChange",function(T){S.usT(k);const H=S.GaO();return S.kNx(H.dedicated_info.address,T)||(H.dedicated_info.address=T),S.CGJ(T)}),S.C$Y()(),S.I0R(8,"ion-item",23)(9,"ion-input",26),S.iHE("ngModelChange",function(T){S.usT(k);const H=S.GaO();return S.kNx(H.dedicated_info.key,T)||(H.dedicated_info.key=T),S.CGJ(T)}),S.C$Y()(),S.I0R(10,"ion-item",27),S.qCj("click",function(){S.usT(k);const T=S.GaO();return S.CGJ(T.add_custom_dedicated())}),S.I0R(11,"ion-label",15),S.OEk(12),S.C$Y()()()}if(2&j){const k=S.GaO();S.yG2(3),S.cNF(k.lang.text.GroupServer.RegisterServer),S.yG2(),S.E7m("disabled",k.add_custom_tog),S.yG2(),S.E7m("label",k.lang.text.GroupServer.DisplayName),S.OKB("ngModel",k.dedicated_info.name),S.E7m("placeholder",k.lang.text.GroupServer.DisplayName_placeholder),S.yG2(),S.E7m("disabled",k.add_custom_tog),S.yG2(),S.E7m("label",k.lang.text.GroupServer.Address),S.OKB("ngModel",k.dedicated_info.address),S.yG2(),S.E7m("disabled",k.add_custom_tog),S.yG2(),S.E7m("label",k.lang.text.GroupServer.Key),S.OKB("ngModel",k.dedicated_info.key),S.yG2(),S.E7m("disabled",k.add_custom_tog),S.yG2(2),S.cNF(k.lang.text.GroupServer.submit)}}const N=()=>[.4,.6];let P=(()=>{var j;class V{constructor(E,T,H,X,z,te,J,q,ne,de){this.nakama=E,this.p5toast=T,this.statusBar=H,this.indexed=X,this.lang=z,this.global=te,this.mClipboard=J,this.navCtrl=q,this.navParams=ne,this.modalCtrl=de,this.session_uid="",this.BackButtonPressed=!1,this.isMobilePWA=!1,this.CanAddTestServer=!1,this.OnlineToggle=!1,this.ShowServerList=!1,this.dedicated_info={name:void 0,address:void 0,target:void 0,port:void 0,useSSL:void 0,isOfficial:void 0,key:void 0},this.add_custom_tog=!1,this.isOverrideButtonPressed=!1,this.announce_update_profile=!1,this.original_profile={},this.file_sel_id="",this.can_auto_modified=!1}ngOnInit(){if(window.history.pushState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.navCtrl.back())},this.servers=this.nakama.get_all_server_info(!0),this.file_sel_id=`self_profile_${(new Date).getTime()}`,this.original_profile=JSON.parse(JSON.stringify(this.nakama.users.self)),this.nakama.users.self.img||this.indexed.loadTextFromUserPath("servers/self/profile.img",(E,T)=>{E&&T&&(this.nakama.users.self.img=T.replace(/"|\\|=/g,""))}),this.nakama.socket_reactive.profile=E=>{this.p5canvas.ChangeImageSmooth(E)},this.navParams.data.target){let E=this.navParams.get("isOfficial"),T=this.navParams.get("target");try{this.session_uid=this.nakama.servers[E][T].session.user_id}catch{}}}ionViewWillEnter(){this.gsCanvasDiv=document.getElementById("GroupServerCanvasDiv"),this.OnlineToggle=this.nakama.users.self.online,this.p5canvas=new r(E=>{let H,X,z,te,q,J=1,ne="0, 0, 0",de=0,De=!!this.session_uid;E.setup=()=>{if(De){let Fe=E.color(`#${(this.session_uid.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6)}`);ne=`${E.red(Fe)}, ${E.green(Fe)}, ${E.blue(Fe)}`,q=E.createDiv(),q.style("width","100%"),q.style("height","100%"),q.style("background-image",`linear-gradient(to top, rgba(${ne}, 0), rgba(${ne}, 0))`),q.parent(this.gsCanvasDiv)}E.noCanvas(),E.pixelDensity(1);let Y=E.createDiv();const R="156px";Y.style("width",R),Y.style("height",R),Y.style("position","absolute"),Y.style("top","120px"),Y.style("left","50%"),Y.style("transform","translateX(-50%)"),Y.style("border-radius",R),Y.style("background-image","url(assets/data/avatar.svg)"),Y.style("background-position","center"),Y.style("background-repeat","no-repeat"),Y.style("background-size","cover"),Y.style("cursor","pointer"),Y.parent(this.gsCanvasDiv),Y.elt.onclick=()=>{this.change_img_from_file()};let se=E.createDiv();const pe="36px";se.style("background-color",this.OnlineToggle?this.statusBar.colors.online:this.statusBar.colors.offline),se.style("width",pe),se.style("height",pe),se.style("position","absolute"),se.style("top","128px"),se.style("left",this.gsCanvasDiv.clientWidth/2+38+"px"),setTimeout(()=>{se.style("left",this.gsCanvasDiv.clientWidth/2+38+"px")},0),se.style("border-radius",pe),se.style("cursor","pointer"),se.parent(this.gsCanvasDiv),se.elt.onclick=()=>{this.toggle_online()},E.OnlineLamp=se,z=E.createImg(this.nakama.users.self.img,"profile_img"),z.style("width",R),z.style("height",R),z.style("border-radius",R),z.style("position","absolute"),z.style("object-fit","cover"),this.nakama.users.self.img||z.hide(),z.parent(Y),te=E.createImg(void 0,"before_img"),te.style("width",R),te.style("height",R),te.style("border-radius",R),te.style("position","absolute"),te.style("object-fit","cover"),te.hide(),te.parent(Y),E.ChangeImageSmooth=Fe=>{Fe?(te.elt.src=void 0,te.hide()):(te.elt.src=z.elt.src,te.show()),z.elt.src=Fe,J=1,E.loop(),this.nakama.users.self.img=Fe,this.sync_to_all_server(),document.getElementById(this.file_sel_id).value="",Fe?z.show():z.hide()};let Ee=E.createDiv();if(Ee.style("width","100%"),Ee.style("position","absolute"),Ee.style("top","330px"),Ee.style("display","flex"),Ee.style("flex-direction","column"),Ee.parent(this.gsCanvasDiv),H=E.createDiv(this.nakama.users.self.display_name||this.lang.text.Profile.noname_user),H.style("font-size","36px"),H.style("font-weight","bold"),H.style("align-self","center"),H.style("width","80%"),H.style("text-align","center"),H.parent(Ee),H.elt.onclick=()=>{X.value(this.nakama.users.self.display_name?H.html():""),X.show(),H.hide(),X.elt.focus()},X=E.createInput(),X.style("font-size","36px"),X.style("font-weight","bold"),X.style("align-self","center"),X.style("width","80%"),X.style("text-align","center"),X.attribute("placeholder",this.lang.text.Profile.name_placeholder),H.style("text-align","center"),X.parent(Ee),X.hide(),X.elt.addEventListener("focusout",()=>{this.nakama.users.self.display_name=X.value(),H.html(`${X.value()||this.lang.text.Profile.noname_user}`),X.hide(),H.show()}),this.session_uid){let Fe=E.createDiv(this.session_uid);Fe.style("margin-top","36px"),Fe.style("color","var(--ion-color-medium)"),Fe.style("width","80%"),Fe.style("text-align","center"),Fe.style("align-self","center"),Fe.style("cursor","copy"),Fe.parent(Ee),Fe.elt.onclick=()=>{this.copy_id()}}let We=E.createDiv();We.style("margin-top","60px"),We.style("width","80%"),We.style("align-self","center"),We.style("max-width","384px"),We.style("height","180px"),We.style("background-color","#8888"),We.style("text-align","center"),We.style("border-radius","24px"),We.style("display","flex"),We.style("flex-direction","column"),We.parent(Ee),E.InputForm=We,this.OnlineToggle&&We.hide();let et=E.createInput(this.nakama.users.self.email);et.style("align-self","center"),et.style("margin-top","24px"),et.style("width","50%"),et.style("text-align","center"),et.attribute("placeholder","test@example.com"),et.parent(We),et.elt.onchange=()=>{this.nakama.users.self.email=et.value(),this.email_modified()},et.elt.onkeypress=Fe=>{"Enter"==Fe.key&&Ae.elt.focus()},this.nakama.users.self.email||et.elt.focus();let Ae=E.createInput();Ae.style("margin-top","10px"),Ae.style("align-self","center"),Ae.style("width","50%"),Ae.style("text-align","center"),Ae.attribute("type","password"),Ae.attribute("placeholder",this.lang.text.Profile.at_least),Ae.parent(We),Ae.elt.onchange=()=>{this.nakama.users.self.password=Ae.value()},Ae.elt.onkeypress=Fe=>{"Enter"==Fe.key&&(this.nakama.users.self.password=Ae.value(),Be.elt.disabled=!0,this.toggle_online())},E.PasswordInput=Ae;let Be=E.createButton(this.OnlineToggle?this.lang.text.Profile.LogOut:this.lang.text.Profile.login_toggle);Be.style("margin-top","17px"),Be.style("align-self","center"),Be.style("text-align","center"),Be.style("font-size","24px"),Be.style("border-radius","16px"),Be.style("padding","12px 30px"),Be.parent(We),Be.elt.onclick=()=>{Be.elt.disabled=!0,this.toggle_online()},E.LoginButton=Be},E.draw=()=>{J>0&&(J-=.025,te.style("opacity",`${J}`),z.style("opacity",""+(1-J))),this.nakama.users.self.online?this.lerpVal<1?this.lerpVal+=.025:this.lerpVal=1:this.lerpVal>0?this.lerpVal-=.025:this.lerpVal=0,De&&de<1&&(de+=.025),z.style("filter",`grayscale(${E.lerp(.9,0,this.lerpVal)}) contrast(${E.lerp(1.4,1,this.lerpVal)})`),te.style("filter",`grayscale(${E.lerp(.9,0,this.lerpVal)}) contrast(${E.lerp(1.4,1,this.lerpVal)})`),De&&q.style("background-image",`linear-gradient(to top, rgba(${ne}, ${E.min(1,de)/2}), rgba(${ne}, 0))`),J<=0&&(this.lerpVal>=1||this.lerpVal<=0)&&(!De||de>=1)&&(this.OnlineToggle=this.lerpVal>=1,this.OnlineToggle?(this.p5canvas.InputForm.hide(),E.LoginButton.html(this.lang.text.Profile.LogOut),E.OnlineLamp.style("background-color",this.statusBar.colors.online)):(this.p5canvas.InputForm.show(),this.p5canvas.InputForm.style("display","flex"),E.LoginButton.html(this.lang.text.Profile.login_toggle),E.OnlineLamp.style("background-color",this.statusBar.colors.offline)),this.nakama.users.self.display_name&&(H.html(this.nakama.users.self.display_name),X.value(this.nakama.users.self.display_name)),this.ShowServerList=this.OnlineToggle,this.p5canvas.PasswordInput.value(""),E.LoginButton.elt.disabled=!1,E.noLoop())},E.windowResized=()=>{E.OnlineLamp.style("left",this.gsCanvasDiv.clientWidth/2+38+"px")}}),this.ShowServerList=this.OnlineToggle,this.CanAddTestServer=0==Object.keys(this.nakama.servers.official).length,this.isMobilePWA="MobilePWA"==_e.s1}add_dev_test_server(){var E=this;return(0,b.c)(function*(){E.CanAddTestServer=!(yield E.nakama.WatchAdsAndGetDevServerInfo(!0)),E.servers=E.nakama.get_all_server_info(!0)})()}link_group(E,T){var H=this;return(0,b.c)(function*(){if(H.isOverrideButtonPressed)H.isOverrideButtonPressed=!1;else if("offline"==H.statusBar.groupServer[E][T])yield H.nakama.link_group(E,T),H.original_profile=JSON.parse(JSON.stringify(H.nakama.users.self));else try{H.nakama.servers[E][T].socket.disconnect(!0)}catch{H.nakama.OnSocketDisconnect(E,T)}})()}add_custom_dedicated(){if(this.add_custom_tog)return;if(!this.dedicated_info.name)return void this.p5toast.show({text:this.lang.text.GroupServer.NeedSetDIsplayName});this.add_custom_tog=!0;let E=(this.dedicated_info.address||"192.168.0.1").split(":");this.dedicated_info.address=E[0],this.dedicated_info.port=Number(E[1])||7350,this.dedicated_info.useSSL="https:"==window.location.protocol&&!_e.O$,this.dedicated_info.useSSL=this.dedicated_info.useSSL||!!this.dedicated_info.address.replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,""),this.dedicated_info.key=this.dedicated_info.key||"defaultkey",this.nakama.add_group_server(this.dedicated_info,()=>{this.servers=this.nakama.get_all_server_info(!0),this.link_group(this.dedicated_info.isOfficial,this.dedicated_info.target),this.dedicated_info.name=void 0,this.dedicated_info.address=void 0,this.dedicated_info.target=void 0,this.dedicated_info.port=void 0,this.dedicated_info.key=void 0,this.dedicated_info.useSSL=void 0,this.dedicated_info.isOfficial=void 0}),this.RegisterNewServer.dismiss(),setTimeout(()=>{this.add_custom_tog=!1},1e3)}remove_server(E,T){var H=this;return(0,b.c)(function*(){H.isOverrideButtonPressed=!0;try{yield H.nakama.remove_server(E,T)}catch(X){console.log("\uc11c\ubc84 \uc0ad\uc81c \uc624\ub958: ",X)}H.servers=H.nakama.get_all_server_info(!0)})()}ionViewWillLeave(){var E=this;return(0,b.c)(function*(){delete E.global.p5key.KeyShortCut.Escape,E.nakama.on_socket_disconnected.group_unlink_by_user&&delete E.nakama.on_socket_disconnected.group_unlink_by_user,delete E.nakama.socket_reactive.profile;let T=Object.keys(E.nakama.users.self),H=!1;for(let X=0,z=T.length;X<z;X++)if("img"!=T[X]&&E.nakama.users.self[T[X]]!=E.original_profile[T[X]]){H=!0;break}if(E.nakama.users.self.img=E.tmp_img||E.nakama.users.self.img,H){let X=E.nakama.get_all_online_server();for(let z=0,te=X.length;z<te;z++){if(E.nakama.users.self.display_name!=E.original_profile.display_name)try{yield X[z].client.updateAccount(X[z].session,{display_name:E.nakama.users.self.display_name});try{yield X[z].socket.sendMatchState(E.nakama.self_match[X[z].info.isOfficial][X[z].info.target].match_id,we.i.EDIT_PROFILE,encodeURIComponent("info"))}catch{}}catch{}if(E.nakama.channels_orig[X[z].info.isOfficial][X[z].info.target]){let J=Object.keys(E.nakama.channels_orig[X[z].info.isOfficial][X[z].info.target]);J&&J.forEach(q=>{X[z].socket.writeChatMessage(q,{user_update:"modify_data",noti_form:E.original_profile.display_name==E.nakama.users.self.display_name?`: ${E.original_profile.display_name}`:`: ${E.original_profile.display_name} -> ${E.nakama.users.self.display_name}`})})}}E.nakama.save_self_profile()}E.p5canvas.remove(),E.nakama.MakeChannelHaveContextMenuAct()})()}sync_to_all_server(){var E=this;return(0,b.c)(function*(){let T=E.nakama.get_all_online_server();E.nakama.save_self_profile(),E.indexed.saveTextFileToUserPath(JSON.stringify(E.nakama.users.self.img),"servers/self/profile.img"),E.tmp_img="";for(let H=0,X=T.length;H<X;H++){if(E.nakama.users.self.img)try{let te=yield T[H].client.writeStorageObjects(T[H].session,[{collection:"user_public",key:"profile_image",value:{img:E.nakama.users.self.img},permission_read:2,permission_write:1}]);yield T[H].socket.sendMatchState(E.nakama.self_match[T[H].info.isOfficial][T[H].info.target].match_id,we.i.EDIT_PROFILE,encodeURIComponent("image")),yield T[H].client.updateAccount(T[H].session,{avatar_url:te.acks[0].version})}catch(te){console.error("inputImageSelected_err: ",te)}else try{yield T[H].client.deleteStorageObjects(T[H].session,{object_ids:[{collection:"user_public",key:"profile_image"}]}),yield T[H].socket.sendMatchState(E.nakama.self_match[T[H].info.isOfficial][T[H].info.target].match_id,we.i.EDIT_PROFILE,encodeURIComponent("image")),yield T[H].client.updateAccount(T[H].session,{avatar_url:""})}catch(te){console.error("inputImageSelected_err: ",te)}let z=Object.keys(E.nakama.channels_orig[T[H].info.isOfficial][T[H].info.target]);z&&(z.forEach(te=>{E.announce_update_profile&&T[H].socket.writeChatMessage(te,{user_update:"modify_img",noti_form:`: ${E.nakama.users.self.display_name}`})}),E.announce_update_profile=!1)}})()}change_img_from_file(){var E=this;return(0,b.c)(function*(){if(E.announce_update_profile=!0,E.nakama.users.self.img)E.p5canvas.ChangeImageSmooth();else try{let T=yield nt.c.read();yield E.check_if_clipboard_available(T)}catch{try{let H=yield E.mClipboard.paste();yield E.check_if_clipboard_available(H)}catch{document.getElementById(E.file_sel_id).click()}}})()}inputImageSelected(E){var T=this;return(0,b.c)(function*(){let H=setInterval(()=>{},110);setTimeout(()=>{clearInterval(H)},1500);let X=yield T.global.GetBase64ThroughFileReader(E.target.files[0]);T.nakama.limit_image_size(X,te=>{T.p5canvas.ChangeImageSmooth(te.canvas.toDataURL())}),document.getElementById(T.file_sel_id).value=""})()}ionViewDidEnter(){this.can_auto_modified=!0,this.global.p5key.KeyShortCut.Escape=()=>{this.navCtrl.pop()}}email_modified(){this.can_auto_modified&&(this.nakama.users.self.online&&this.toggle_online(),this.nakama.users.self.online=!1,delete this.nakama.users.self.password,this.p5canvas.PasswordInput.value(""))}toggle_online(){var E=this;return(0,b.c)(function*(){if(E.OnlineToggle=!E.OnlineToggle,E.nakama.users.self.online=E.OnlineToggle,E.OnlineToggle){E.announce_update_profile=!1;try{if(!E.nakama.users.self.email)throw E.p5toast.show({text:E.lang.text.Profile.need_email}),"\uc774\uba54\uc77c \uacf5\ubc31";if(!E.nakama.users.self.password)throw E.p5toast.show({text:E.lang.text.Profile.need_password}),"\ube44\ubc00\ubc88\ud638 \uacf5\ubc31";E.nakama.save_self_profile(),yield E.nakama.init_all_sessions(),E.original_profile=JSON.parse(JSON.stringify(E.nakama.users.self))}catch{E.nakama.users.self.online=!1,E.OnlineToggle=!1}}else E.nakama.logout_all_server(),delete E.nakama.users.self.password,E.nakama.save_groups_with_less_info(),E.nakama.channels_orig.official={},E.nakama.channels_orig.unofficial={},E.nakama.rearrange_channels();E.p5canvas.loop()})()}check_if_clipboard_available(E){var T=this;return(0,b.c)(function*(){try{if(0!=E.indexOf("http"))throw"URL \uc8fc\uc18c\uac00 \uc544\ub2d8";yield new Promise((H,X)=>{let z=document.createElement("img");z.src=E,z.onload=()=>{T.p5canvas.ChangeImageSmooth(E),z.remove(),H(void 0)},z.onerror=()=>{z.remove(),X()}})}catch{try{if(0!=E.indexOf("data:image"))throw"DataURL \uc8fc\uc18c\uac00 \uc544\ub2d8";T.nakama.limit_image_size(E,X=>T.p5canvas.ChangeImageSmooth(X.canvas.toDataURL()))}catch{throw"\uc0ac\uc6a9\ubd88\uac00 \uc774\ubbf8\uc9c0"}}})()}OpenNewServerForm(){this.RegisterNewServer.present()}copy_id(){this.mClipboard.copy(this.session_uid).catch(E=>nt.c.write(this.session_uid))}go_back(){var E=this;return(0,b.c)(function*(){try{yield E.modalCtrl.dismiss()}catch{}})()}}return(j=V).\u0275fac=function(E){return new(E||j)(S.GI1(we.h),S.GI1(v.O),S.GI1(_.Y),S.GI1(f.k),S.GI1(h.o),S.GI1(x.A1),S.GI1(w._),S.GI1(a.wX),S.GI1(a.a6),S.GI1(l.qS))},j.\u0275cmp=S.In1({type:j,selectors:[["app-group-server"]],viewQuery:function(E,T){if(1&E&&S.CC$(c,5),2&E){let H;S.wto(H=S.Gqi())&&(T.RegisterNewServer=H.first)}},decls:13,vars:6,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["id","GroupServerCanvasDiv",2,"position","absolute","width","100%","height","100%","display","flex"],["style","position: absolute; bottom: 0; width: 100%;",4,"ngIf"],["hidden","","type","file","accept","image/*",3,"id","change"],[3,"initialBreakpoint","breakpoints"],["RegisterNewServer",""],[2,"position","absolute","bottom","0","width","100%"],["value","open"],["button","","slot","header"],["slot","content"],["button","",3,"click",4,"ngIf"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],[1,"ion-text-center"],["color","tertiary",1,"ion-text-center"],["color","secondary"],[1,"additional_form","status_bar_single"],[1,"form_margin"],[4,"ngIf"],[3,"click",4,"ngIf"],[3,"click"],["button","",3,"disabled"],[1,"ion-text-right",3,"label","ngModel","placeholder","ngModelChange"],["placeholder","192.168.0.1",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["placeholder","defaultkey",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["button","",3,"disabled","click"]],template:function(E,T){1&E&&(S.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),S.OEk(3),S.C$Y(),S.I0R(4,"ion-buttons",1),S.qCj("click",function(){return T.go_back()}),S.wR5(5,"ion-back-button",2),S.C$Y()()(),S.I0R(6,"ion-content"),S.wR5(7,"div",3),S.yuY(8,O,15,5,"div",4),S.I0R(9,"input",5),S.qCj("change",function(X){return T.inputImageSelected(X)}),S.C$Y(),S.I0R(10,"ion-modal",6,7),S.yuY(12,$,13,13,"ng-template"),S.C$Y()()),2&E&&(S.yG2(3),S.cNF(T.lang.text.Settings.groupServer),S.yG2(5),S.E7m("ngIf",T.ShowServerList),S.yG2(),S.E7m("id",T.file_sel_id),S.yG2(),S.E7m("initialBreakpoint",T.isMobilePWA?.6:.4)("breakpoints",S.q4q(5,N)))},dependencies:[d.ay,d.u_,u.ue,u._G,l.cm,l.qU,l.sn,l.GS,l._i,l.wB,l.A5,l.Yb,l.QR,l.tM,l.Md,l.yc,l.qG,l.Im],styles:[".fore-gradient[_ngcontent-%COMP%]{position:relative;background-image:linear-gradient(to top,#000,#0000);width:100%;height:100%}.content_size[_ngcontent-%COMP%]{height:360px}"]}),V})()},9404:(fn,Pt,me)=>{"use strict";me.d(Pt,{E:()=>c});var b=me(1528),we=me(2272),nt=me(5193),_e=me(4496),r=me(5624),W=me(9240),S=me(4500),v=me(3824),_=me(4180),f=me(4668),h=me(7136),x=me(5020),w=me(7756),a=me(1368),l=me(4716);const d=["ServerDetailuseSSL"];function u(s,m){if(1&s){const p=_e.KQA();_e.I0R(0,"img",14),_e.qCj("click",function(){_e.usT(p);const O=_e.GaO();return _e.CGJ(O.copy_startup_address())}),_e.C$Y()}if(2&s){const p=_e.GaO();_e.E7m("src",p.QRCodeSRC,_e.K6U)}}let c=(()=>{var s;class m{constructor(y,O,$,N,P,j,V,k,E){this.modalCtrl=y,this.navParams=O,this.lang=$,this.p5toast=N,this.statusBar=P,this.indexed=j,this.nakama=V,this.global=k,this.mClipboard=E,this.isTargetAlreadyExist=!0,this.index=0}ngOnInit(){this.dedicated_info=this.navParams.get("data");let y={name:this.dedicated_info.name,address:this.dedicated_info.address,port:this.dedicated_info.port,key:this.dedicated_info.key,useSSL:this.dedicated_info.useSSL};"192.168.0.1"==this.dedicated_info.address&&delete y.address,"defaultkey"==this.dedicated_info.key&&delete y.key,7350==this.dedicated_info.port&&delete y.port,this.dedicated_info.useSSL||delete y.useSSL,this.QRCodeSRC=this.global.readasQRCodeFromString(`${nt.uM}pjcone_pwa/?server=${y.name||""},${y.address||""},${y.useSSL?"true":""},${y.port||7350},${y.key||""}`),this.isTargetAlreadyExist=!!this.statusBar.groupServer.unofficial[this.dedicated_info.target]}ionViewDidEnter(){this.ServerDetailuseSSL.checked=this.dedicated_info.useSSL}copy_startup_address(){let y=`https://is2you2.github.io/pjcone_pwa/?server=${this.dedicated_info.name||""},${this.dedicated_info.address||""},${this.dedicated_info.useSSL||""},${this.dedicated_info.port||""},${this.dedicated_info.key||""}&open_profile=true`;this.mClipboard.copy(y).catch(O=>we.c.write(y))}apply_changed_info(){var y=this;return(0,b.c)(function*(){if(!y.dedicated_info.name)return void y.p5toast.show({text:y.lang.text.GroupServer.NeedSetDIsplayName});y.dedicated_info.target=y.dedicated_info.target||y.dedicated_info.name,y.dedicated_info.address=y.dedicated_info.address||"192.168.0.1",y.dedicated_info.port=y.dedicated_info.port||7350,y.dedicated_info.useSSL=y.ServerDetailuseSSL.checked||!1,y.dedicated_info.isOfficial=y.dedicated_info.isOfficial||"unofficial",y.dedicated_info.key=y.dedicated_info.key||"defaultkey";let O=(new Date).getTime().toString();O+=`,${y.dedicated_info.isOfficial}`,O+=`,${y.dedicated_info.name}`,O+=`,${y.dedicated_info.target}`,O+=`,${y.dedicated_info.address}`,O+=`,${y.dedicated_info.port}`,O+=`,${y.dedicated_info.useSSL}`;let $=yield y.indexed.loadTextFromUserPath("servers/list_detail.csv"),N=[];if($&&(N=$.split("\n")),y.isTargetAlreadyExist)for(let P=0,j=N.length;P<j;P++)if(N[P].split(",")[3]==y.dedicated_info.target){N.splice(P,1);break}N.push(O),yield y.indexed.saveTextFileToUserPath(N.join("\n"),"servers/list_detail.csv"),y.nakama.init_server(y.dedicated_info),y.nakama.servers[y.dedicated_info.isOfficial][y.dedicated_info.target].info={...y.dedicated_info};try{y.nakama.servers[y.dedicated_info.isOfficial][y.dedicated_info.target].socket.disconnect(!0)}catch{}y.modalCtrl.dismiss()})()}}return(s=m).\u0275fac=function(y){return new(y||s)(_e.GI1(r.qS),_e.GI1(W.a6),_e.GI1(S.o),_e.GI1(v.O),_e.GI1(_.Y),_e.GI1(f.k),_e.GI1(h.h),_e.GI1(x.A1),_e.GI1(w._))},s.\u0275cmp=_e.In1({type:s,selectors:[["app-server-detail"]],viewQuery:function(y,O){if(1&y&&_e.CC$(d,5),2&y){let $;_e.wto($=_e.Gqi())&&(O.ServerDetailuseSSL=$.first)}},decls:31,vars:19,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["style","width: 100%; height: auto; cursor: copy;","alt","Loading",3,"src","click",4,"ngIf"],["button",""],[1,"ion-text-right",3,"label","ngModel","placeholder","ngModelChange"],["button","",3,"disabled"],["placeholder","192.168.0.1",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["placeholder","defaultkey",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["type","number","placeholder","7350",1,"ion-text-right",3,"label","ngModel","ngModelChange"],["button","",3,"click"],[2,"pointer-events","none",3,"ngModel","ngModelChange"],["ServerDetailuseSSL",""],[1,"ion-text-center"],["alt","Loading",2,"width","100%","height","auto","cursor","copy",3,"src","click"]],template:function(y,O){1&y&&(_e.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),_e.OEk(3),_e.C$Y(),_e.I0R(4,"ion-buttons",1),_e.qCj("click",function(){return O.modalCtrl.dismiss()}),_e.wR5(5,"ion-back-button",2),_e.C$Y()()(),_e.I0R(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),_e.OEk(9),_e.C$Y()(),_e.yuY(10,u,1,1,"img",3),_e.I0R(11,"ion-item-divider")(12,"ion-label"),_e.OEk(13,"\uc11c\ubc84 \uc124\uc815"),_e.C$Y()(),_e.I0R(14,"ion-item",4)(15,"ion-input",5),_e.iHE("ngModelChange",function(N){return _e.kNx(O.dedicated_info.name,N)||(O.dedicated_info.name=N),N}),_e.C$Y()(),_e.I0R(16,"ion-item",6)(17,"ion-input",5),_e.iHE("ngModelChange",function(N){return _e.kNx(O.dedicated_info.target,N)||(O.dedicated_info.target=N),N}),_e.C$Y()(),_e.I0R(18,"ion-item",4)(19,"ion-input",7),_e.iHE("ngModelChange",function(N){return _e.kNx(O.dedicated_info.address,N)||(O.dedicated_info.address=N),N}),_e.C$Y()(),_e.I0R(20,"ion-item",4)(21,"ion-input",8),_e.iHE("ngModelChange",function(N){return _e.kNx(O.dedicated_info.key,N)||(O.dedicated_info.key=N),N}),_e.C$Y()(),_e.I0R(22,"ion-item",4)(23,"ion-input",9),_e.iHE("ngModelChange",function(N){return _e.kNx(O.dedicated_info.port,N)||(O.dedicated_info.port=N),N}),_e.C$Y()(),_e.I0R(24,"ion-item",10),_e.qCj("click",function(){return O.dedicated_info.useSSL=!O.dedicated_info.useSSL}),_e.I0R(25,"ion-toggle",11,12),_e.iHE("ngModelChange",function(N){return _e.kNx(O.dedicated_info.useSSL,N)||(O.dedicated_info.useSSL=N),N}),_e.OEk(27),_e.C$Y()(),_e.I0R(28,"ion-item",10),_e.qCj("click",function(){return O.apply_changed_info()}),_e.I0R(29,"ion-label",13),_e.OEk(30),_e.C$Y()()()),2&y&&(_e.yG2(3),_e.cNF(O.lang.text.GroupServer.ServerDetail),_e.yG2(6),_e.cNF(O.lang.text.ServerDetail.copy_scan_below),_e.yG2(),_e.E7m("ngIf",O.QRCodeSRC),_e.yG2(5),_e.E7m("label",O.lang.text.GroupServer.DisplayName),_e.OKB("ngModel",O.dedicated_info.name),_e.E7m("placeholder",O.lang.text.GroupServer.DisplayName_placeholder),_e.yG2(),_e.E7m("disabled",O.isTargetAlreadyExist),_e.yG2(),_e.E7m("label",O.lang.text.GroupServer.DivisionName),_e.OKB("ngModel",O.dedicated_info.target),_e.E7m("placeholder",O.dedicated_info.name||O.lang.text.GroupServer.DivisionName_placeholder),_e.yG2(2),_e.E7m("label",O.lang.text.GroupServer.Address),_e.OKB("ngModel",O.dedicated_info.address),_e.yG2(2),_e.E7m("label",O.lang.text.GroupServer.Key),_e.OKB("ngModel",O.dedicated_info.key),_e.yG2(2),_e.E7m("label",O.lang.text.GroupServer.Port),_e.OKB("ngModel",O.dedicated_info.port),_e.yG2(2),_e.OKB("ngModel",O.dedicated_info.useSSL),_e.yG2(2),_e.cNF(O.lang.text.GroupServer.isSSL),_e.yG2(3),_e.cNF(O.lang.text.ServerDetail.ApplyChangeServerInfo))},dependencies:[a.u_,l.ue,l._G,r.GS,r._i,r.wB,r.A5,r.Yb,r.S8,r.QR,r.tM,r.E$,r.Md,r.UJ,r.Ch,r.qG,r.Im],styles:[".icon_style[_ngcontent-%COMP%]{width:22px;height:22px;transform:translateY(2px);margin-left:4px;margin-right:4px}"]}),m})()},1052:(fn,Pt,me)=>{"use strict";me.d(Pt,{S:()=>x});var b=me(1528),we=me(9352),_e=me(5193),r=me(4496),W=me(4500),S=me(5624),v=me(9240),_=me(5020),f=me(4668),h=me(3824);let x=(()=>{var w;class a{constructor(d,u,c,s,m,p,y,O){this.lang=d,this.modalCtrl=u,this.alertCtrl=c,this.loadingCtrl=s,this.global=m,this.navParams=p,this.indexed=y,this.p5toast=O,this.BackButtonPressed=!1,this.EventListenerAct=$=>{$.detail.register(130,N=>{})},this.isMobile=!1,this.isCropMode=!1,this.WithoutSave=!0}InitBrowserBackButtonOverride(){window.history.replaceState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}ngOnInit(){this.InitBrowserBackButtonOverride()}ionViewDidEnter(){var d=this;return(0,b.c)(function*(){d.AddShortCut(),document.addEventListener("ionBackButton",d.EventListenerAct),d.mainLoading=yield d.loadingCtrl.create({message:d.lang.text.voidDraw.UseThisImage}),d.create_new_canvas({width:d.navParams.data.width,height:d.navParams.data.height,path:d.navParams.data.path}),d.isMobile="DesktopPWA"!=_e.s1})()}AddShortCut(){delete this.global.p5key.KeyShortCut.Digit,this.global.p5key.KeyShortCut.HistoryAct=d=>{switch(d){case"Z":this.p5voidDraw.history_act(-1);break;case"X":this.p5voidDraw.history_act(1);break;case"C":this.isCropMode?this.p5voidDraw.apply_crop():this.p5voidDraw.change_color();break;case"V":this.p5voidDraw.set_line_weight()}},this.global.p5key.KeyShortCut.AddAct=()=>{this.p5toast.show({text:this.lang.text.voidDraw.Preparing})},this.global.p5key.KeyShortCut.SKeyAct=()=>{this.open_crop_tool()},this.global.p5key.KeyShortCut.DeleteAct=()=>{this.isCropMode?this.p5voidDraw.apply_crop():this.dismiss_draw()},this.global.p5key.KeyShortCut.FKeyAct=()=>{}}create_new_canvas(d){var u=this;return(0,b.c)(function*(){d.width=d.width||432,d.height=d.height||432,u.p5voidDraw&&u.p5voidDraw.remove(),u.create_p5voidDraw(d)})()}waiting(d){return new Promise(u=>setTimeout(()=>{u(void 0)},d))}create_p5voidDraw(d){var u=this;let c=document.getElementById("voidDraw");this.isCropMode=!1,this.p5voidDraw=new we(s=>{let m,p,y,O,$,N,P,j,V=s.createColorPicker("#000"),k=Math.min(d.width,d.height)/100,E=1;s.setup=(0,b.c)(function*(){s.pixelDensity(1),s.noLoop(),s.noFill(),s.imageMode(s.CENTER),O=s.createCanvas(c.clientWidth,c.clientHeight),O.parent(c),H.x=s.width/2,H.y=s.height/2,s.set_line_weight=()=>{u.alertCtrl.create({header:u.lang.text.voidDraw.changeWeight,inputs:[{label:u.lang.text.voidDraw.weight,name:"weight",placeholder:`${E}`,type:"number"}],buttons:[{text:u.lang.text.voidDraw.apply,handler:ze=>{ze.weight&&(E=Number(ze.weight))}}]}).then(ze=>{qt=!1,ze.onWillDismiss().then(()=>{qt=!0}),ze.present()})},s.change_color=()=>{V.elt.click()},s.save_image=()=>{new we(ze=>{ze.setup=()=>{let wt=ze.createCanvas(m.width,m.height);ze.pixelDensity(1),y&&ze.image(y,0,0),m&&ze.image(m,0,0);let jt=wt.elt.toDataURL("image/png").replace("image/png","image/octet-stream");u.modalCtrl.dismiss({name:`voidDraw_${ze.year()}-${ze.nf(ze.month(),2)}-${ze.nf(ze.day(),2)}_${ze.nf(ze.hour(),2)}-${ze.nf(ze.minute(),2)}-${ze.nf(ze.second(),2)}.png`,img:jt,loadingCtrl:u.mainLoading}),ze.remove()}})},s.history_act=ze=>{switch(ne=s.min(s.max(0,ne+ze),s.DrawingStack.length),ze){case 1:s.DrawingStack.length&&(P.style.fill="var(--ion-color-dark)"),ne==s.DrawingStack.length&&(j.style.fill="var(--ion-color-medium)"),De(m,s.DrawingStack[ne-1]);break;case-1:s.DrawingStack.length&&(j.style.fill="var(--ion-color-dark)"),ne<1?(P.style.fill="var(--ion-color-medium)",m.clear(255,255,255,255),s.redraw()):de()}},s.open_crop_tool=()=>{u.isCropMode?(u.isCropMode=!1,s.redraw()):(u.isCropMode=!0,q.x=m.width,q.y=m.height,J.x=0,J.y=0,s.redraw())},s.apply_crop=()=>{u.isMobile&&J.div(X),m.resizeCanvas(q.x,q.y),p=s.createVector(m.width/2,m.height/2),te.sub(J),de(),y.resizeCanvas(q.x,q.y),y.push(),y.background(u.navParams.data.isDarkMode?26:255),y.translate(te),s.BaseImage&&y.image(s.BaseImage,0,0),y.pop(),y.redraw(),u.isCropMode=!1,s.SetCanvasViewportInit()},$=s.createElement("table"),$.style("position: absolute; top: 0px;"),$.style(`width: 100%; height: ${R}px;`),$.style("background-color: var(--voidDraw-menu-background);"),$.parent(c);let Ht=$.elt.insertRow(0),Tt=Ht.insertCell(0);Tt.innerHTML='<ion-icon id="AddTextIcon" style="width: 27px; height: 27px" name="text"></ion-icon>',document.getElementById("AddTextIcon").style.fill="var(--ion-color-medium)",Tt.style.textAlign="center",Tt.style.cursor="pointer",Tt.onclick=()=>{u.p5toast.show({text:u.lang.text.voidDraw.Preparing})};let Jt=Ht.insertCell(1);Jt.innerHTML='<ion-icon style="width: 27px; height: 27px" name="crop"></ion-icon>',Jt.style.textAlign="center",Jt.style.cursor="pointer",Jt.onclick=()=>{u.open_crop_tool()};let bt=Ht.insertCell(2);bt.innerHTML='<ion-icon style="width: 27px; height: 27px" name="checkmark"></ion-icon>',bt.style.textAlign="center",bt.style.cursor="pointer",bt.onclick=()=>{u.dismiss_draw()},N=s.createElement("table"),N.style("position: absolute; bottom: 0px;"),N.style(`width: 100%; height: ${R}px;`),N.style("background-color: var(--voidDraw-menu-background);"),N.parent(c);let zt=N.elt.insertRow(0),Et=zt.insertCell(0);Et.innerHTML='<ion-icon id="undoIcon" style="width: 27px; height: 27px" name="arrow-undo"></ion-icon>',P=document.getElementById("undoIcon"),P.style.fill="var(--ion-color-medium)",Et.style.textAlign="center",Et.style.cursor="pointer",Et.onclick=()=>{u.p5voidDraw.history_act(-1)};let Pe=zt.insertCell(1);Pe.innerHTML='<ion-icon id="redoIcon" style="width: 27px; height: 27px" name="arrow-redo"></ion-icon>',j=document.getElementById("redoIcon"),j.style.fill="var(--ion-color-medium)",Pe.style.textAlign="center",Pe.style.cursor="pointer",Pe.onclick=()=>{u.p5voidDraw.history_act(1)};let Ge=zt.insertCell(2);V.parent(Ge),Ge.style.textAlign="center",Ge.style.cursor="pointer",Ge.onclick=()=>{V.elt.click()};let Ie=zt.insertCell(3);if(Ie.innerHTML='<ion-icon style="width: 27px; height: 27px" name="pencil"></ion-icon>',Ie.style.textAlign="center",Ie.style.cursor="pointer",Ie.onclick=()=>{u.change_line_weight()},s.SetCanvasViewportInit=()=>{O.hide(),s.resizeCanvas(c.clientWidth,c.clientHeight),z.x=s.width/2,z.y=s.height/2,H.x=0,H.y=0;let ze=c.clientHeight-112;X=c.clientWidth/ze<m.width/m.height?c.clientWidth/m.width:ze/m.height,O.show(),s.redraw()},m=s.createGraphics(d.width,d.height),p=s.createVector(m.width/2,m.height/2),m.pixelDensity(1),m.noLoop(),m.noFill(),s.ActualCanvas=m,y=s.createGraphics(d.width,d.height),y.pixelDensity(1),y.noLoop(),y.noFill(),y.background(u.navParams.data.isDarkMode?26:255),s.ImageCanvas=y,d.path){let ze=yield u.indexed.loadBlobFromUserPath(d.path,""),wt=URL.createObjectURL(ze);s.loadImage(wt,jt=>{s.BaseImage=jt,y.image(s.BaseImage,0,0),y.redraw(),URL.revokeObjectURL(wt),s.SetCanvasViewportInit()},jt=>{console.error("\uadf8\ub9bc\ud310 \ubc30\uacbd \uc774\ubbf8\uc9c0 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",jt),y.redraw(),URL.revokeObjectURL(wt),s.SetCanvasViewportInit()})}else y.redraw(),s.SetCanvasViewportInit();d.width<d.height&&(k/=X)});let H=s.createVector(),X=1,z=s.createVector(0,0),te=s.createVector(),J=s.createVector(),q=s.createVector();s.draw=()=>{if(s.clear(255,255,255,255),s.push(),s.translate(z),s.scale(X),s.translate(H),s.image(y,0,0),s.image(y,0,0),m&&s.image(y,0,0),m&&s.image(m,0,0),this.isCropMode)s.push(),s.translate(-m.width/2,-m.height/2),s.translate(J),s.noStroke(),s.fill(0,100),s.rect(0,0,q.x,q.y),s.stroke(255,0,0),s.strokeWeight(8),s.beginShape(s.LINES),s.vertex(0,0),s.vertex(q.x,0),s.vertex(q.x,0),s.vertex(q.x,.8*q.y),s.vertex(0,0),s.vertex(0,q.y),s.vertex(0,q.y),s.vertex(.8*q.x,q.y),s.stroke(255,255,0),s.vertex(.8*q.x,q.y),s.vertex(q.x,q.y),s.vertex(q.x,.8*q.y),s.vertex(q.x,q.y),s.endShape(),s.pop();else if(Y&&Y.pos&&Y.pos.length){s.push(),s.translate(te),s.stroke(Y.color),s.strokeWeight(Y.weight),s.beginShape();for(let Ht=0,Tt=Y.pos.length;Ht<Tt;Ht++)s.curveVertex(Y.pos[Ht].x-p.x,Y.pos[Ht].y-p.y);s.endShape(),s.pop()}s.pop()},s.DrawingStack=[];let ne=0,de=()=>{m.clear(255,255,255,255);for(let Ht=0;Ht<ne;Ht++)De(m,s.DrawingStack[Ht])},De=(Ht,Tt=Y)=>{if(Tt.color){Ht.push(),Ht.translate(te),Ht.stroke(Tt.color),Ht.strokeWeight(Tt.weight),Ht.beginShape();for(let Jt=0,bt=Tt.pos.length;Jt<bt;Jt++)Ht.curveVertex(Tt.pos[Jt].x,Tt.pos[Jt].y);Ht.endShape(),Ht.pop(),Ht.redraw(),s.redraw()}};s.windowResized=()=>{setTimeout(()=>{s.SetCanvasViewportInit()},0)};let Y={};const R=56;let se,pe,Ee,Ne,et,Ae,Fe,We=0,Be=!1,Oe=!1;s.mousePressed=Ht=>{if(qt){if(s.mouseY<R||s.mouseY>s.height-R)return void(Oe=!0);switch(Ht.which){case 1:this.isCropMode?Ze():Qe();break;case 3:pe=s.createVector(s.mouseX,s.mouseY),Ae=H.copy(),se=s.createVector(s.mouseX,s.mouseY);break;case 2:s.SetCanvasViewportInit()}}};let Ze=(Ht,Tt)=>{let Jt=ht(Ht,Tt),bt=J.copy().add(q).sub(s.createVector(m.width/2,m.height/2)),zt=Jt.dist(bt),Et=.2*s.max(q.x,q.y);Be=zt<Et,Be?(Ne=s.createVector(s.mouseX,s.mouseY),Fe=q.copy()):Ee=s.createVector(s.mouseX,s.mouseY).sub(J.mult(X))},Qe=(Ht,Tt)=>{P.style.fill="var(--ion-color-dark)",j.style.fill="var(--ion-color-medium)";let Jt=ht(Ht,Tt);Jt.sub(te),Jt.add(p);let bt={x:Jt.x,y:Jt.y},zt=V.color().levels,Et=`#${s.hex(zt[0],2)}${s.hex(zt[1],2)}${s.hex(zt[2],2)}`;Y={pos:[],color:Et,weight:k*E},Y.pos.push(bt),Y.pos.push(bt),s.redraw()};s.mouseDragged=Ht=>{if(qt)switch(Ht.which){case 1:if(this.isCropMode&&!Oe){let Tt=s.createVector(s.mouseX,s.mouseY);Be?q=Fe.copy().add(Ne.copy().sub(Tt).div(-X)):J=Ee.copy().sub(Tt).div(-X),s.redraw()}else{let Tt=ht();Tt.sub(te),Tt.add(p),Y&&Y.pos&&Y.pos.push({x:Tt.x,y:Tt.y}),s.redraw()}break;case 3:se=s.createVector(s.mouseX,s.mouseY),H=Ae.copy().add(se.sub(pe).div(X)),s.redraw()}},s.mouseWheel=Ht=>{qt&&(s.mouseY<R||s.mouseY>s.height-R?Oe=!0:(vt(ht()),X*=Ht.deltaY<0?1.1:.9,s.redraw()))},s.mouseReleased=Ht=>{if(qt){if(1===Ht.which&&!this.isCropMode&&!Oe){let Tt=ht();Tt.sub(te),Tt.add(p);let Jt={x:Tt.x,y:Tt.y};Y&&(Y.pos.push(Jt),Y.pos.push(Jt)),sn()}Oe=!1}};let vt=Ht=>{z=s.createVector(s.mouseX,s.mouseY),H=Ht.mult(-1)},ht=(Ht,Tt)=>{let Jt=s.createVector(Ht||s.mouseX,Tt||s.mouseY);return Jt.sub(z),Jt.div(X),Jt.sub(H),Jt},ft=[],kt=!1,qt=!0;s.touchStarted=Ht=>{if(qt){if(ft=Ht.touches,Ht.changedTouches[0].clientY<R||Ht.changedTouches[0].clientY>s.height-R)return void(Oe=!0);switch(kt=!0,ft.length){case 1:this.isCropMode?Ze(Ht.changedTouches[0].clientX,Ht.changedTouches[0].clientY-R):Qe(Ht.changedTouches[0].clientX,Ht.changedTouches[0].clientY-R);break;case 2:let Tt=s.createVector(ft[0].clientX,ft[0].clientY-56),Jt=s.createVector(ft[1].clientX,ft[1].clientY-56);We=Tt.dist(Jt),pe=Tt.copy().add(Jt).div(2),Ae=H.copy(),et=X,Y=void 0;break;default:kt=!1,s.SetCanvasViewportInit()}}},s.touchMoved=Ht=>{if(qt&&kt){switch(ft=Ht.touches,ft.length){case 1:if(this.isCropMode&&!Oe){let Tt=s.createVector(Ht.changedTouches[0].clientX,Ht.changedTouches[0].clientY-R);Be?q=Fe.copy().add(Ne.copy().sub(Tt).div(-X)):J=Ee.copy().sub(Tt).div(-X),s.redraw()}else{let Tt=ht(Ht.changedTouches[0].clientX,Ht.changedTouches[0].clientY-R);Tt.sub(te),Tt.add(p),Y&&Y.pos&&Y.pos.push({x:Tt.x,y:Tt.y}),s.redraw()}break;case 2:{let Tt=s.createVector(ft[0].clientX,ft[0].clientY-56),Jt=s.createVector(ft[1].clientX,ft[1].clientY-56),bt=Tt.copy().add(Jt).div(2);X=Tt.dist(Jt)/We*et,H=Ae.copy().add(bt.sub(pe).div(X)),s.redraw()}}return!1}},s.touchEnded=Ht=>{if(qt&&Ht.changedTouches){switch(ft=Ht.touches,kt=!1,ft.length){case 0:if(!this.isCropMode&&!Oe&&Y){let Tt=ht(Ht.changedTouches[0].clientX,Ht.changedTouches[0].clientY-R);Tt.sub(te),Tt.add(p);let Jt={x:Tt.x,y:Tt.y};Y.pos.push(Jt),Y.pos.push(Jt),sn()}break;case 1:if(!kt)return;ln(),We=0,Y=void 0}Oe=!1}};let ln=()=>{pe=s.createVector(ft[0].clientX,ft[0].clientY-56),Ae=H.copy()},sn=()=>{s.DrawingStack.length=ne,Y&&(s.DrawingStack.push(Y),De(m,Y)),ne=s.DrawingStack.length,pe=void 0,Oe=!1,Y=void 0,s.redraw()}})}new_image(){this.alertCtrl.create({header:this.lang.text.voidDraw.newDraw,inputs:[{name:"width",type:"number",placeholder:`${this.lang.text.voidDraw.width} (${this.lang.text.voidDraw.default_size}: 432)`},{name:"height",type:"number",placeholder:`${this.lang.text.voidDraw.height} (${this.lang.text.voidDraw.default_size}: 432)`}],buttons:[{text:this.lang.text.voidDraw.CreateNew,handler:u=>{u.width=u.width?Number(u.width):432,u.height=u.height?Number(u.height):432,this.create_new_canvas(u)}}]}).then(u=>u.present())}change_line_weight(){this.p5voidDraw.set_line_weight()}open_crop_tool(){this.p5voidDraw.open_crop_tool()}dismiss_draw(){this.isCropMode?this.p5voidDraw.apply_crop():(this.mainLoading.present(),this.WithoutSave=!1,this.p5voidDraw.save_image())}RemoveShortCut(){delete this.global.p5key.KeyShortCut.HistoryAct,delete this.global.p5key.KeyShortCut.AddAct,delete this.global.p5key.KeyShortCut.DeleteAct,delete this.global.p5key.KeyShortCut.SKeyAct,delete this.global.p5key.KeyShortCut.FKeyAct}ionViewWillLeave(){this.RemoveShortCut(),this.p5voidDraw&&this.p5voidDraw.remove()}ionViewDidLeave(){document.removeEventListener("ionBackButton",this.EventListenerAct),this.WithoutSave&&this.mainLoading.remove()}}return(w=a).\u0275fac=function(d){return new(d||w)(r.GI1(W.o),r.GI1(S.qS),r.GI1(S.iW),r.GI1(S.Kg),r.GI1(_.A1),r.GI1(v.a6),r.GI1(f.k),r.GI1(h.O))},w.\u0275cmp=r.In1({type:w,selectors:[["app-void-draw"]],decls:8,vars:1,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["oncontextmenu","return false;"],["id","voidDraw",1,"full_screen",2,"display","flex","overflow","hidden","background-color","black"]],template:function(d,u){1&d&&(r.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),r.OEk(3),r.C$Y(),r.I0R(4,"ion-buttons",1),r.qCj("click",function(){return u.modalCtrl.dismiss()}),r.wR5(5,"ion-back-button",2),r.C$Y()()(),r.I0R(6,"ion-content",3),r.wR5(7,"div",4),r.C$Y()),2&d&&(r.yG2(3),r.cNF(u.lang.text.ChatRoom.voidDraw))},dependencies:[S.GS,S._i,S.wB,S.tM,S.Md,S.Im]}),a})()},4180:(fn,Pt,me)=>{"use strict";me.d(Pt,{Y:()=>we});var b=me(4496);let we=(()=>{var nt;class _e{constructor(){this.colors={offline:"#888",missing:"#880000",pending:"#dddd0c",online:"#4ff14f",certified:"#00ffff"},this.chatroom={},this.project={},this.task={},this.settings={groupServer:"offline",dedicatedServer:"offline",community_ranchat:"offline",dedicated_groupchat:"offline"},this.tools={},this.groupServer={official:{default:"offline"},unofficial:{}},this.dedicated={official:{groupchat:"offline"},unofficial:{}},setInterval(()=>{},350)}}return(nt=_e).\u0275fac=function(W){return new(W||nt)},nt.\u0275prov=b.wxM({token:nt,factory:nt.\u0275fac,providedIn:"root"}),_e})()},5788:(fn,Pt,me)=>{"use strict";var b=me(4476),we=me(4496),nt=me(3332),_e=me(9240),r=me(5624),W=me(5193);const S=[{path:"",loadChildren:()=>me.e(5504).then(me.bind(me,5504)).then(ot=>ot.FrontPageModule)},{path:"minimal-chat",loadChildren:()=>me.e(8668).then(me.bind(me,8668)).then(ot=>ot.MinimalChatPageModule)},{path:"others-profile",loadChildren:()=>me.e(732).then(me.bind(me,732)).then(ot=>ot.OthersProfilePageModule)},{path:"user-fs-dir",loadChildren:()=>Promise.all([me.e(8744),me.e(7048),me.e(7988)]).then(me.bind(me,7988)).then(ot=>ot.UserFsDirPageModule)},{path:"add-todo-menu",loadChildren:()=>Promise.all([me.e(8744),me.e(7048),me.e(3872),me.e(4712)]).then(me.bind(me,3872)).then(ot=>ot.AddTodoMenuPageModule)},{path:"chat-room",loadChildren:()=>Promise.all([me.e(8744),me.e(9596),me.e(8696),me.e(5929)]).then(me.bind(me,5929)).then(ot=>ot.ChatRoomPageModule)},{path:"share-content-to-other",loadChildren:()=>me.e(3116).then(me.bind(me,3116)).then(ot=>ot.ShareContentToOtherPageModule)},{path:"webrtc-manage-io-dev",loadChildren:()=>Promise.all([me.e(9596),me.e(8080)]).then(me.bind(me,8080)).then(ot=>ot.WebrtcManageIoDevPageModule)},{path:"portal",loadChildren:()=>Promise.all([me.e(9596),me.e(8696),me.e(516)]).then(me.bind(me,516)).then(ot=>ot.PortalPageModule)}];let v=(()=>{var ot;class Ye{}return(ot=Ye).\u0275fac=function(Ct){return new(Ct||ot)},ot.\u0275mod=we.a4G({type:ot}),ot.\u0275inj=we.s3X({imports:[nt.qQ.forRoot(S,{preloadingStrategy:nt.eu}),nt.qQ]}),Ye})();var _=me(8268),f=me(1028),h=me(6928),x=me(1368),w=me(1424),a=me(3800),l=me(800),d=me(2700),u=me(7228),c=me(5657),s=me(3252),m=me(308);const p=new s._(m.K);var O=me(267),$=me(560),N=me(8960),P=me(6624),j=me(2115);function V(...ot){const Ye=(0,P.e_)(ot),ct=(0,P._8)(ot,1/0),Ct=ot;return Ct.length?1===Ct.length?(0,$.Uv)(Ct[0]):(0,O.u)(ct)((0,j.Q)(Ct,Ye)):N.k}var k=me(4704),E=me(6684),T=me(7368),H=me(2376),X=me(8880),z=me(5448);const J={connector:()=>new c.E};function q(ot,Ye=J){const{connector:ct}=Ye;return(0,z.i)((Ct,rn)=>{const qe=ct();(0,$.Uv)(ot(function te(ot){return new s._(Ye=>ot.subscribe(Ye))}(qe))).subscribe(rn),rn.add(Ct.subscribe(qe))})}var De=me(3992),Y=me(9212),R=me(4548);class se extends R.wH{constructor(Ye,ct){super()}schedule(Ye,ct=0){return this}}const pe={setInterval(ot,Ye,...ct){const{delegate:Ct}=pe;return null!=Ct&&Ct.setInterval?Ct.setInterval(ot,Ye,...ct):setInterval(ot,Ye,...ct)},clearInterval(ot){const{delegate:Ye}=pe;return((null==Ye?void 0:Ye.clearInterval)||clearInterval)(ot)},delegate:void 0};var Ee=me(1248);const We={now:()=>(We.delegate||Date).now(),delegate:void 0};class et{constructor(Ye,ct=et.now){this.schedulerActionCtor=Ye,this.now=ct}schedule(Ye,ct=0,Ct){return new this.schedulerActionCtor(this,Ye).schedule(Ct,ct)}}et.now=We.now;const Be=new class Ae extends et{constructor(Ye,ct=et.now){super(Ye,ct),this.actions=[],this._active=!1}flush(Ye){const{actions:ct}=this;if(this._active)return void ct.push(Ye);let Ct;this._active=!0;do{if(Ct=Ye.execute(Ye.state,Ye.delay))break}while(Ye=ct.shift());if(this._active=!1,Ct){for(;Ye=ct.shift();)Ye.unsubscribe();throw Ct}}}(class Ne extends se{constructor(Ye,ct){super(Ye,ct),this.scheduler=Ye,this.work=ct,this.pending=!1}schedule(Ye,ct=0){var Ct;if(this.closed)return this;this.state=Ye;const rn=this.id,qe=this.scheduler;return null!=rn&&(this.id=this.recycleAsyncId(qe,rn,ct)),this.pending=!0,this.delay=ct,this.id=null!==(Ct=this.id)&&void 0!==Ct?Ct:this.requestAsyncId(qe,this.id,ct),this}requestAsyncId(Ye,ct,Ct=0){return pe.setInterval(Ye.flush.bind(Ye,this),Ct)}recycleAsyncId(Ye,ct,Ct=0){if(null!=Ct&&this.delay===Ct&&!1===this.pending)return ct;null!=ct&&pe.clearInterval(ct)}execute(Ye,ct){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ct=this._execute(Ye,ct);if(Ct)return Ct;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ye,ct){let rn,Ct=!1;try{this.work(Ye)}catch(qe){Ct=!0,rn=qe||new Error("Scheduled action threw falsy error")}if(Ct)return this.unsubscribe(),rn}unsubscribe(){if(!this.closed){const{id:Ye,scheduler:ct}=this,{actions:Ct}=ct;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ee.k)(Ct,this),null!=Ye&&(this.id=this.recycleAsyncId(ct,Ye,null)),this.delay=null,super.unsubscribe()}}}),Fe=Be;var Oe=me(7773),Qe=me(320),vt=me(7400);function ht(ot,Ye){return Ye?ct=>(0,u.W)(Ye.pipe((0,De.U)(1),function Ze(){return(0,z.i)((ot,Ye)=>{ot.subscribe((0,Oe.e)(Ye,m.K))})}()),ct.pipe(ht(ot))):(0,vt.O)((ct,Ct)=>(0,$.Uv)(ot(ct,Ct)).pipe((0,De.U)(1),(0,Qe.e)(ct)))}var ft=me(3048);const ln="Service workers are disabled or not supported by this browser";class Ht{constructor(Ye){if(this.serviceWorker=Ye,Ye){const Ct=(0,l.w)(Ye,"controllerchange").pipe((0,k.k)(()=>Ye.controller)),rn=(0,w.Q)(()=>(0,d.of)(Ye.controller)),qe=(0,u.W)(rn,Ct);this.worker=qe.pipe((0,E.I)(hn=>!!hn)),this.registration=this.worker.pipe((0,T.G)(()=>Ye.getRegistration()));const $t=(0,l.w)(Ye,"message").pipe((0,k.k)(hn=>hn.data)).pipe((0,E.I)(hn=>hn&&hn.type)).pipe(function de(ot){return ot?Ye=>q(ot)(Ye):Ye=>function ne(ot,Ye){const ct=(0,X.m)(ot)?ot:()=>ot;return(0,X.m)(Ye)?q(Ye,{connector:ct}):Ct=>new H.C(Ct,ct)}(new c.E)(Ye)}());$t.connect(),this.events=$t}else this.worker=this.events=this.registration=function sn(ot){return(0,w.Q)(()=>(0,a.c)(new Error(ot)))}(ln)}postMessage(Ye,ct){return this.worker.pipe((0,De.U)(1),(0,Y.y)(Ct=>{Ct.postMessage({action:Ye,...ct})})).toPromise().then(()=>{})}postMessageWithOperation(Ye,ct,Ct){const rn=this.waitForOperationCompleted(Ct),qe=this.postMessage(Ye,ct);return Promise.all([qe,rn]).then(([,yt])=>yt)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Ye){let ct;return ct="string"==typeof Ye?Ct=>Ct.type===Ye:Ct=>Ye.includes(Ct.type),this.events.pipe((0,E.I)(ct))}nextEventOfType(Ye){return this.eventsOfType(Ye).pipe((0,De.U)(1))}waitForOperationCompleted(Ye){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,E.I)(ct=>ct.nonce===Ye),(0,De.U)(1),(0,k.k)(ct=>{if(void 0!==ct.result)return ct.result;throw new Error(ct.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Tt=(()=>{var ot;class Ye{get isEnabled(){return this.sw.isEnabled}constructor(Ct){if(this.sw=Ct,this.pushManager=null,this.subscriptionChanges=new c.E,!Ct.isEnabled)return this.messages=p,this.notificationClicks=p,void(this.subscription=p);this.messages=this.sw.eventsOfType("PUSH").pipe((0,k.k)(qe=>qe.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,k.k)(qe=>qe.data)),this.pushManager=this.sw.registration.pipe((0,k.k)(qe=>qe.pushManager));const rn=this.pushManager.pipe((0,T.G)(qe=>qe.getSubscription()));this.subscription=V(rn,this.subscriptionChanges)}requestSubscription(Ct){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(ln));const rn={userVisibleOnly:!0};let qe=this.decodeBase64(Ct.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),yt=new Uint8Array(new ArrayBuffer(qe.length));for(let Nt=0;Nt<qe.length;Nt++)yt[Nt]=qe.charCodeAt(Nt);return rn.applicationServerKey=yt,this.pushManager.pipe((0,T.G)(Nt=>Nt.subscribe(rn)),(0,De.U)(1)).toPromise().then(Nt=>(this.subscriptionChanges.next(Nt),Nt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,De.U)(1),(0,T.G)(rn=>{if(null===rn)throw new Error("Not subscribed to push notifications.");return rn.unsubscribe().then(qe=>{if(!qe)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ln))}decodeBase64(Ct){return atob(Ct)}}return(ot=Ye).\u0275fac=function(Ct){return new(Ct||ot)(we.CoB(Ht))},ot.\u0275prov=we.wxM({token:ot,factory:ot.\u0275fac}),Ye})(),Jt=(()=>{var ot;class Ye{get isEnabled(){return this.sw.isEnabled}constructor(Ct){if(this.sw=Ct,!Ct.isEnabled)return this.versionUpdates=p,void(this.unrecoverable=p);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ln));const Ct=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:Ct},Ct)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ln));const Ct=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:Ct},Ct)}}return(ot=Ye).\u0275fac=function(Ct){return new(Ct||ot)(we.CoB(Ht))},ot.\u0275prov=we.wxM({token:ot,factory:ot.\u0275fac}),Ye})();const bt=new we.UbH("");function zt(ot,Ye,ct,Ct){return()=>{if(!(0,x.c0)(Ct)||!("serviceWorker"in navigator)||!1===ct.enabled)return;let rn;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof ct.registrationStrategy)rn=ct.registrationStrategy();else{const[yt,...Nt]=(ct.registrationStrategy||"registerWhenStable:30000").split(":");switch(yt){case"registerImmediately":rn=(0,d.of)(null);break;case"registerWithDelay":rn=Et(+Nt[0]||0);break;case"registerWhenStable":rn=Nt[0]?V(Pe(ot),Et(+Nt[0])):Pe(ot);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${ct.registrationStrategy}`)}}ot.get(we.WW2).runOutsideAngular(()=>rn.pipe((0,De.U)(1)).subscribe(()=>navigator.serviceWorker.register(Ye,{scope:ct.scope}).catch(yt=>console.error("Service worker registration failed with:",yt))))}}function Et(ot){return(0,d.of)(null).pipe(function Lt(ot,Ye=Be){const ct=function qt(ot=0,Ye,ct=Fe){let Ct=-1;return null!=Ye&&((0,ft.G)(Ye)?ct=Ye:Ct=Ye),new s._(rn=>{let qe=function kt(ot){return ot instanceof Date&&!isNaN(ot)}(ot)?+ot-ct.now():ot;qe<0&&(qe=0);let yt=0;return ct.schedule(function(){rn.closed||(rn.next(yt++),0<=Ct?this.schedule(void 0,Ct):rn.complete())},qe)})}(ot,Ye);return ht(()=>ct)}(ot))}function Pe(ot){return ot.get(we.Swk).isStable.pipe((0,E.I)(ct=>ct))}function Ge(ot,Ye){return new Ht((0,x.c0)(Ye)&&!1!==ot.enabled?navigator.serviceWorker:void 0)}class Ie{}function ze(ot,Ye={}){return(0,we.AFj)([Tt,Jt,{provide:bt,useValue:ot},{provide:Ie,useValue:Ye},{provide:Ht,useFactory:Ge,deps:[Ie,we.AHE]},{provide:we.kZF,useFactory:zt,deps:[we.zZn,bt,Ie,we.AHE],multi:!0}])}let wt=(()=>{var ot;class Ye{static register(Ct,rn={}){return{ngModule:Ye,providers:[ze(Ct,rn)]}}}return(ot=Ye).\u0275fac=function(Ct){return new(Ct||ot)},ot.\u0275mod=we.a4G({type:ot}),ot.\u0275inj=we.s3X({providers:[Tt,Jt]}),Ye})();var Gt=me(544),an=me(7756);let _n=(()=>{var ot;class Ye{}return(ot=Ye).\u0275fac=function(Ct){return new(Ct||ot)},ot.\u0275mod=we.a4G({type:ot,bootstrap:[W.a0]}),ot.\u0275inj=we.s3X({providers:[{provide:nt.XE,useClass:_e.um},_.G,Gt.S,f.Y,_e.a6,h.G8,an._],imports:[b.iE,r.wZ.forRoot({innerHTMLTemplatesEnabled:!0,experimentalCloseWatcher:!0,hardwareBackButton:!0}),v,wt.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]}),Ye})();var wn=me(8637);(0,we.agy)(),b.o_().bootstrapModule(_n).catch(ot=>console.log(ot)),window,typeof window>"u"?Promise.resolve():(0,wn.p)().then(()=>(0,wn.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],undefined))},9352:(fn,Pt,me)=>{var b=me(3248);fn.exports=function r(W,S,v){function _(x,w){if(!S[x]){if(!W[x]){var a=void 0;if(!w&&a)return require(x,!0);if(f)return f(x,!0);throw(w=new Error("Cannot find module '"+x+"'")).code="MODULE_NOT_FOUND",w}a=S[x]={exports:{}},W[x][0].call(a.exports,function(l){return _(W[x][1][l]||l)},a,a.exports,r,W,S,v)}return S[x].exports}for(var f=void 0,h=0;h<v.length;h++)_(v[h]);return _}({1:[function(r,W,S){"use strict";S.byteLength=function(u){return 3*((u=a(u))[0]+(u=u[1]))/4-u},S.toByteArray=function(l){var d,u,s,$,c=(s=a(l))[0],m=new f(3*(c+($=s=s[1]))/4-$),p=0,y=0<s?c-4:c;for(u=0;u<y;u+=4)d=_[l.charCodeAt(u)]<<18|_[l.charCodeAt(u+1)]<<12|_[l.charCodeAt(u+2)]<<6|_[l.charCodeAt(u+3)],m[p++]=d>>16&255,m[p++]=d>>8&255,m[p++]=255&d;return 2===s&&(d=_[l.charCodeAt(u)]<<2|_[l.charCodeAt(u+1)]>>4,m[p++]=255&d),1===s&&(d=_[l.charCodeAt(u)]<<10|_[l.charCodeAt(u+1)]<<4|_[l.charCodeAt(u+2)]>>2,m[p++]=d>>8&255,m[p++]=255&d),m},S.fromByteArray=function(l){for(var d,u=l.length,c=u%3,s=[],m=0,p=u-c;m<p;m+=16383)s.push(function(y,O,$){for(var P=[],j=O;j<$;j+=3)P.push(v[(V=(y[j]<<16&16711680)+(y[j+1]<<8&65280)+(255&y[j+2]))>>18&63]+v[V>>12&63]+v[V>>6&63]+v[63&V]);var V;return P.join("")}(l,m,p<m+16383?p:m+16383));return 1==c?s.push(v[(d=l[u-1])>>2]+v[d<<4&63]+"=="):2==c&&s.push(v[(d=(l[u-2]<<8)+l[u-1])>>10]+v[d>>4&63]+v[d<<2&63]+"="),s.join("")};for(var v=[],_=[],f=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=0;x<64;++x)v[x]=h[x],_[h.charCodeAt(x)]=x;function a(l){var d=l.length;if(0<d%4)throw new Error("Invalid string. Length must be a multiple of 4");return d=(l=-1===(l=l.indexOf("="))?d:l)===d?0:4-l%4,[l,d]}_[45]=62,_[95]=63},{}],2:[function(r,W,S){},{}],3:[function(r,W,S){},{}],4:[function(r,W,S){(function(a){"use strict";var _=r("base64-js"),f=r("ieee754"),h="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,x=(S.Buffer=a,S.SlowBuffer=function(Y){return+Y!=Y&&(Y=0),a.alloc(+Y)},S.INSPECT_MAX_BYTES=50,2147483647);function w(Y){if(x<Y)throw new RangeError('The value "'+Y+'" is invalid for option "size"');return Y=new Uint8Array(Y),Object.setPrototypeOf(Y,a.prototype),Y}function a(Y,R,se){if("number"!=typeof Y)return l(Y,R,se);if("string"==typeof R)throw new TypeError('The "string" argument must be of type string. Received type number');return u(Y)}function l(Y,R,se){if("string"==typeof Y){var pe=Y,Ee=R;if(a.isEncoding(Ee="string"==typeof Ee&&""!==Ee?Ee:"utf8"))return(pe=(We=w(Ne=0|m(pe,Ee))).write(pe,Ee))!==Ne?We.slice(0,pe):We;throw new TypeError("Unknown encoding: "+Ee)}if(ArrayBuffer.isView(Y))return c(Y);if(null!=Y){if(ne(Y,ArrayBuffer)||Y&&ne(Y.buffer,ArrayBuffer)){var Ne=Y,We=se;if((pe=R)<0||Ne.byteLength<pe)throw new RangeError('"offset" is outside of buffer bounds');if(Ne.byteLength<pe+(We||0))throw new RangeError('"length" is outside of buffer bounds');return Ne=void 0===pe&&void 0===We?new Uint8Array(Ne):void 0===We?new Uint8Array(Ne,pe):new Uint8Array(Ne,pe,We),Object.setPrototypeOf(Ne,a.prototype),Ne}if("number"==typeof Y)throw new TypeError('The "value" argument must not be of type number. Received type number');if(null!=(Ee=Y.valueOf&&Y.valueOf())&&Ee!==Y)return a.from(Ee,R,se);var et=a.isBuffer(Ae=Y)?(0!==(Fe=w(Be=0|s(Ae.length))).length&&Ae.copy(Fe,0,0,Be),Fe):void 0!==Ae.length?"number"!=typeof Ae.length||de(Ae.length)?w(0):c(Ae):"Buffer"===Ae.type&&Array.isArray(Ae.data)?c(Ae.data):void 0;if(et)return et;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof Y[Symbol.toPrimitive])return a.from(Y[Symbol.toPrimitive]("string"),R,se)}var Ae,Be,Fe;throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y)}function d(Y){if("number"!=typeof Y)throw new TypeError('"size" argument must be of type number');if(Y<0)throw new RangeError('The value "'+Y+'" is invalid for option "size"')}function u(Y){return d(Y),w(Y<0?0:0|s(Y))}function c(Y){for(var R=Y.length<0?0:0|s(Y.length),se=w(R),pe=0;pe<R;pe+=1)se[pe]=255&Y[pe];return se}function s(Y){if(x<=Y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+x.toString(16)+" bytes");return 0|Y}function m(Y,R){if(a.isBuffer(Y))return Y.length;if(ArrayBuffer.isView(Y)||ne(Y,ArrayBuffer))return Y.byteLength;if("string"!=typeof Y)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Y);var se=Y.length,pe=2<arguments.length&&!0===arguments[2];if(!pe&&0===se)return 0;for(var Ee=!1;;)switch(R){case"ascii":case"latin1":case"binary":return se;case"utf8":case"utf-8":return te(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*se;case"hex":return se>>>1;case"base64":return J(Y).length;default:if(Ee)return pe?-1:te(Y).length;R=(""+R).toLowerCase(),Ee=!0}}function p(Y,R,se){var pe,Ee=!1;if((R=void 0===R||R<0?0:R)>this.length||(se=void 0===se||se>this.length?this.length:se)<=0||(se>>>=0)<=(R>>>=0))return"";for(Y=Y||"utf8";;)switch(Y){case"hex":var We=se,Fe=this.length;(!We||We<0||Fe<We)&&(We=Fe);for(var et="",Ae=ht=!(ht=R)||ht<0?0:ht;Ae<We;++Ae)et+=De[this[Ae]];return et;case"utf8":case"utf-8":return j(this,R,se);case"ascii":var Oe=(Fe=R,se),Ze="";Oe=Math.min(this.length,Oe);for(var Qe=Fe;Qe<Oe;++Qe)Ze+=String.fromCharCode(127&this[Qe]);return Ze;case"latin1":case"binary":var ht=R,ft=se,kt="";ft=Math.min(this.length,ft);for(var qt=ht;qt<ft;++qt)kt+=String.fromCharCode(this[qt]);return kt;case"base64":return Lt=this,pe=se,0===(ln=R)&&pe===Lt.length?_.fromByteArray(Lt):_.fromByteArray(Lt.slice(ln,pe));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Lt=R,ln=se,sn=this.slice(Lt,ln),Ht="",Tt=0;Tt<sn.length;Tt+=2)Ht+=String.fromCharCode(sn[Tt]+256*sn[Tt+1]);return Ht;default:if(Ee)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),Ee=!0}}function y(Y,R,se){var pe=Y[R];Y[R]=Y[se],Y[se]=pe}function O(Y,R,se,pe,Ee){if(0===Y.length)return-1;if("string"==typeof se?(pe=se,se=0):2147483647<se?se=2147483647:se<-2147483648&&(se=-2147483648),(se=(se=de(se=+se)?Ee?0:Y.length-1:se)<0?Y.length+se:se)>=Y.length){if(Ee)return-1;se=Y.length-1}else if(se<0){if(!Ee)return-1;se=0}if("string"==typeof R&&(R=a.from(R,pe)),a.isBuffer(R))return 0===R.length?-1:$(Y,R,se,pe,Ee);if("number"==typeof R)return R&=255,"function"==typeof Uint8Array.prototype.indexOf?(Ee?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(Y,R,se):$(Y,[R],se,pe,Ee);throw new TypeError("val must be string, number or Buffer")}function $(Y,R,se,pe,Ee){var Ne=1,We=Y.length,et=R.length;if(void 0!==pe&&("ucs2"===(pe=String(pe).toLowerCase())||"ucs-2"===pe||"utf16le"===pe||"utf-16le"===pe)){if(Y.length<2||R.length<2)return-1;We/=Ne=2,et/=2,se/=2}function Ae(Qe,vt){return 1===Ne?Qe[vt]:Qe.readUInt16BE(vt*Ne)}if(Ee)for(var Be=-1,Fe=se;Fe<We;Fe++)if(Ae(Y,Fe)===Ae(R,-1===Be?0:Fe-Be)){if(Fe-(Be=-1===Be?Fe:Be)+1===et)return Be*Ne}else-1!==Be&&(Fe-=Fe-Be),Be=-1;else for(Fe=se=We<se+et?We-et:se;0<=Fe;Fe--){for(var Oe=!0,Ze=0;Ze<et;Ze++)if(Ae(Y,Fe+Ze)!==Ae(R,Ze)){Oe=!1;break}if(Oe)return Fe}return-1}function N(Y,R,se,pe){return q(function(Ee){for(var Ne=[],We=0;We<Ee.length;++We)Ne.push(255&Ee.charCodeAt(We));return Ne}(R),Y,se,pe)}function P(Y,R,se,pe){return q(function(Ee,Ne){for(var We,et,Ae=[],Be=0;Be<Ee.length&&!((Ne-=2)<0);++Be)We=(et=Ee.charCodeAt(Be))>>8,Ae.push(et%=256),Ae.push(We);return Ae}(R,Y.length-se),Y,se,pe)}function j(Y,R,se){se=Math.min(Y.length,se);for(var pe=[],Ee=R;Ee<se;){var Ne,We,et,Ae,Be=Y[Ee],Fe=null,Oe=239<Be?4:223<Be?3:191<Be?2:1;if(Ee+Oe<=se)switch(Oe){case 1:Be<128&&(Fe=Be);break;case 2:128==(192&(Ne=Y[Ee+1]))&&127<(Ae=(31&Be)<<6|63&Ne)&&(Fe=Ae);break;case 3:We=Y[Ee+2],128==(192&(Ne=Y[Ee+1]))&&128==(192&We)&&2047<(Ae=(15&Be)<<12|(63&Ne)<<6|63&We)&&(Ae<55296||57343<Ae)&&(Fe=Ae);break;case 4:We=Y[Ee+2],et=Y[Ee+3],128==(192&(Ne=Y[Ee+1]))&&128==(192&We)&&128==(192&et)&&65535<(Ae=(15&Be)<<18|(63&Ne)<<12|(63&We)<<6|63&et)&&Ae<1114112&&(Fe=Ae)}null===Fe?(Fe=65533,Oe=1):65535<Fe&&(pe.push((Fe-=65536)>>>10&1023|55296),Fe=56320|1023&Fe),pe.push(Fe),Ee+=Oe}var Ze=pe,Qe=Ze.length;if(Qe<=V)return String.fromCharCode.apply(String,Ze);for(var vt="",ht=0;ht<Qe;)vt+=String.fromCharCode.apply(String,Ze.slice(ht,ht+=V));return vt}S.kMaxLength=x,(a.TYPED_ARRAY_SUPPORT=function(){try{var Y=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(Y,R),42===Y.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=l,Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(Y,R,se){return d(Y),Y<=0||void 0===R?w(Y):"string"==typeof se?w(Y).fill(R,se):w(Y).fill(R)},a.allocUnsafe=u,a.allocUnsafeSlow=u,a.isBuffer=function(Y){return null!=Y&&!0===Y._isBuffer&&Y!==a.prototype},a.compare=function(Y,R){if(ne(Y,Uint8Array)&&(Y=a.from(Y,Y.offset,Y.byteLength)),ne(R,Uint8Array)&&(R=a.from(R,R.offset,R.byteLength)),!a.isBuffer(Y)||!a.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Y===R)return 0;for(var se=Y.length,pe=R.length,Ee=0,Ne=Math.min(se,pe);Ee<Ne;++Ee)if(Y[Ee]!==R[Ee]){se=Y[Ee],pe=R[Ee];break}return se<pe?-1:pe<se?1:0},a.isEncoding=function(Y){switch(String(Y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(Y,R){if(!Array.isArray(Y))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Y.length)return a.alloc(0);if(void 0===R)for(Ee=R=0;Ee<Y.length;++Ee)R+=Y[Ee].length;for(var se=a.allocUnsafe(R),pe=0,Ee=0;Ee<Y.length;++Ee){var Ne=Y[Ee];if(ne(Ne,Uint8Array)&&(Ne=a.from(Ne)),!a.isBuffer(Ne))throw new TypeError('"list" argument must be an Array of Buffers');Ne.copy(se,pe),pe+=Ne.length}return se},a.byteLength=m,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var Y=this.length;if(Y%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<Y;R+=2)y(this,R,R+1);return this},a.prototype.swap32=function(){var Y=this.length;if(Y%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<Y;R+=4)y(this,R,R+3),y(this,R+1,R+2);return this},a.prototype.swap64=function(){var Y=this.length;if(Y%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<Y;R+=8)y(this,R,R+7),y(this,R+1,R+6),y(this,R+2,R+5),y(this,R+3,R+4);return this},a.prototype.toLocaleString=a.prototype.toString=function(){var Y=this.length;return 0===Y?"":0===arguments.length?j(this,0,Y):p.apply(this,arguments)},a.prototype.equals=function(Y){if(a.isBuffer(Y))return this===Y||0===a.compare(this,Y);throw new TypeError("Argument must be a Buffer")},a.prototype.inspect=function(){var R="",Y=S.INSPECT_MAX_BYTES;return R=this.toString("hex",0,Y).replace(/(.{2})/g,"$1 ").trim(),this.length>Y&&(R+=" ... "),"<Buffer "+R+">"},h&&(a.prototype[h]=a.prototype.inspect),a.prototype.compare=function(Y,R,se,pe,Ee){if(ne(Y,Uint8Array)&&(Y=a.from(Y,Y.offset,Y.byteLength)),!a.isBuffer(Y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Y);if(void 0===se&&(se=Y?Y.length:0),void 0===pe&&(pe=0),void 0===Ee&&(Ee=this.length),(R=void 0===R?0:R)<0||se>Y.length||pe<0||Ee>this.length)throw new RangeError("out of range index");if(Ee<=pe&&se<=R)return 0;if(Ee<=pe)return-1;if(se<=R)return 1;if(this===Y)return 0;for(var Ne=(Ee>>>=0)-(pe>>>=0),We=(se>>>=0)-(R>>>=0),et=Math.min(Ne,We),Ae=this.slice(pe,Ee),Be=Y.slice(R,se),Fe=0;Fe<et;++Fe)if(Ae[Fe]!==Be[Fe]){Ne=Ae[Fe],We=Be[Fe];break}return Ne<We?-1:We<Ne?1:0},a.prototype.includes=function(Y,R,se){return-1!==this.indexOf(Y,R,se)},a.prototype.indexOf=function(Y,R,se){return O(this,Y,R,se,!0)},a.prototype.lastIndexOf=function(Y,R,se){return O(this,Y,R,se,!1)},a.prototype.write=function(Y,R,se,pe){if(void 0===R)pe="utf8",se=this.length,R=0;else if(void 0===se&&"string"==typeof R)pe=R,se=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(se)?(se>>>=0,void 0===pe&&(pe="utf8")):(pe=se,se=void 0)}var Ee=this.length-R;if((void 0===se||Ee<se)&&(se=Ee),0<Y.length&&(se<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe=pe||"utf8";for(var Ne,We,et,Ae=!1;;)switch(pe){case"hex":var Fe=Y,Oe=R,Ze=se,Qe=(Oe=Number(Oe)||0,this.length-Oe);(!Ze||Qe<(Ze=Number(Ze)))&&(Ze=Qe),(Qe=Fe.length)/2<Ze&&(Ze=Qe/2);for(var vt=0;vt<Ze;++vt){var ht=parseInt(Fe.substr(2*vt,2),16);if(de(ht))return vt;this[Oe+vt]=ht}return vt;case"utf8":case"utf-8":return et=se,q(te(Y,(We=this).length-(Qe=R)),We,Qe,et);case"ascii":case"latin1":case"binary":return N(this,Y,R,se);case"base64":return We=this,et=R,Ne=se,q(J(Y),We,et,Ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,Y,R,se);default:if(Ae)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),Ae=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var V=4096;function k(Y,R,se){if(Y%1!=0||Y<0)throw new RangeError("offset is not uint");if(se<Y+R)throw new RangeError("Trying to access beyond buffer length")}function E(Y,R,se,pe,Ee,Ne){if(!a.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ee<R||R<Ne)throw new RangeError('"value" argument is out of bounds');if(se+pe>Y.length)throw new RangeError("Index out of range")}function T(Y,R,se,pe){if(se+pe>Y.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("Index out of range")}function H(Y,R,se,pe,Ee){return R=+R,se>>>=0,Ee||T(Y,0,se,4),f.write(Y,R,se,pe,23,4),se+4}function X(Y,R,se,pe,Ee){return R=+R,se>>>=0,Ee||T(Y,0,se,8),f.write(Y,R,se,pe,52,8),se+8}a.prototype.slice=function(Y,R){var se=this.length;return(Y=~~Y)<0?(Y+=se)<0&&(Y=0):se<Y&&(Y=se),(R=void 0===R?se:~~R)<0?(R+=se)<0&&(R=0):se<R&&(R=se),R<Y&&(R=Y),se=this.subarray(Y,R),Object.setPrototypeOf(se,a.prototype),se},a.prototype.readUIntLE=function(Y,R,se){Y>>>=0,R>>>=0,se||k(Y,R,this.length);for(var pe=this[Y],Ee=1,Ne=0;++Ne<R&&(Ee*=256);)pe+=this[Y+Ne]*Ee;return pe},a.prototype.readUIntBE=function(Y,R,se){Y>>>=0,R>>>=0,se||k(Y,R,this.length);for(var pe=this[Y+--R],Ee=1;0<R&&(Ee*=256);)pe+=this[Y+--R]*Ee;return pe},a.prototype.readUInt8=function(Y,R){return Y>>>=0,R||k(Y,1,this.length),this[Y]},a.prototype.readUInt16LE=function(Y,R){return Y>>>=0,R||k(Y,2,this.length),this[Y]|this[Y+1]<<8},a.prototype.readUInt16BE=function(Y,R){return Y>>>=0,R||k(Y,2,this.length),this[Y]<<8|this[Y+1]},a.prototype.readUInt32LE=function(Y,R){return Y>>>=0,R||k(Y,4,this.length),(this[Y]|this[Y+1]<<8|this[Y+2]<<16)+16777216*this[Y+3]},a.prototype.readUInt32BE=function(Y,R){return Y>>>=0,R||k(Y,4,this.length),16777216*this[Y]+(this[Y+1]<<16|this[Y+2]<<8|this[Y+3])},a.prototype.readIntLE=function(Y,R,se){Y>>>=0,R>>>=0,se||k(Y,R,this.length);for(var pe=this[Y],Ee=1,Ne=0;++Ne<R&&(Ee*=256);)pe+=this[Y+Ne]*Ee;return(Ee*=128)<=pe&&(pe-=Math.pow(2,8*R)),pe},a.prototype.readIntBE=function(Y,R,se){Y>>>=0,R>>>=0,se||k(Y,R,this.length);for(var pe=R,Ee=1,Ne=this[Y+--pe];0<pe&&(Ee*=256);)Ne+=this[Y+--pe]*Ee;return(Ee*=128)<=Ne&&(Ne-=Math.pow(2,8*R)),Ne},a.prototype.readInt8=function(Y,R){return Y>>>=0,R||k(Y,1,this.length),128&this[Y]?-1*(255-this[Y]+1):this[Y]},a.prototype.readInt16LE=function(Y,R){return Y>>>=0,R||k(Y,2,this.length),32768&(R=this[Y]|this[Y+1]<<8)?4294901760|R:R},a.prototype.readInt16BE=function(Y,R){return Y>>>=0,R||k(Y,2,this.length),32768&(R=this[Y+1]|this[Y]<<8)?4294901760|R:R},a.prototype.readInt32LE=function(Y,R){return Y>>>=0,R||k(Y,4,this.length),this[Y]|this[Y+1]<<8|this[Y+2]<<16|this[Y+3]<<24},a.prototype.readInt32BE=function(Y,R){return Y>>>=0,R||k(Y,4,this.length),this[Y]<<24|this[Y+1]<<16|this[Y+2]<<8|this[Y+3]},a.prototype.readFloatLE=function(Y,R){return Y>>>=0,R||k(Y,4,this.length),f.read(this,Y,!0,23,4)},a.prototype.readFloatBE=function(Y,R){return Y>>>=0,R||k(Y,4,this.length),f.read(this,Y,!1,23,4)},a.prototype.readDoubleLE=function(Y,R){return Y>>>=0,R||k(Y,8,this.length),f.read(this,Y,!0,52,8)},a.prototype.readDoubleBE=function(Y,R){return Y>>>=0,R||k(Y,8,this.length),f.read(this,Y,!1,52,8)},a.prototype.writeUIntLE=function(Y,R,se,pe){Y=+Y,R>>>=0,se>>>=0,pe||E(this,Y,R,se,Math.pow(2,8*se)-1,0);var Ee=1,Ne=0;for(this[R]=255&Y;++Ne<se&&(Ee*=256);)this[R+Ne]=Y/Ee&255;return R+se},a.prototype.writeUIntBE=function(Y,R,se,pe){Y=+Y,R>>>=0,se>>>=0,pe||E(this,Y,R,se,Math.pow(2,8*se)-1,0);var Ee=se-1,Ne=1;for(this[R+Ee]=255&Y;0<=--Ee&&(Ne*=256);)this[R+Ee]=Y/Ne&255;return R+se},a.prototype.writeUInt8=function(Y,R,se){return Y=+Y,R>>>=0,se||E(this,Y,R,1,255,0),this[R]=255&Y,R+1},a.prototype.writeUInt16LE=function(Y,R,se){return Y=+Y,R>>>=0,se||E(this,Y,R,2,65535,0),this[R]=255&Y,this[R+1]=Y>>>8,R+2},a.prototype.writeUInt16BE=function(Y,R,se){return Y=+Y,R>>>=0,se||E(this,Y,R,2,65535,0),this[R]=Y>>>8,this[R+1]=255&Y,R+2},a.prototype.writeUInt32LE=function(Y,R,se){return Y=+Y,R>>>=0,se||E(this,Y,R,4,4294967295,0),this[R+3]=Y>>>24,this[R+2]=Y>>>16,this[R+1]=Y>>>8,this[R]=255&Y,R+4},a.prototype.writeUInt32BE=function(Y,R,se){return Y=+Y,R>>>=0,se||E(this,Y,R,4,4294967295,0),this[R]=Y>>>24,this[R+1]=Y>>>16,this[R+2]=Y>>>8,this[R+3]=255&Y,R+4},a.prototype.writeIntLE=function(Y,R,se,pe){Y=+Y,R>>>=0,pe||E(this,Y,R,se,(pe=Math.pow(2,8*se-1))-1,-pe);var Ee=0,Ne=1,We=0;for(this[R]=255&Y;++Ee<se&&(Ne*=256);)Y<0&&0===We&&0!==this[R+Ee-1]&&(We=1),this[R+Ee]=(Y/Ne>>0)-We&255;return R+se},a.prototype.writeIntBE=function(Y,R,se,pe){Y=+Y,R>>>=0,pe||E(this,Y,R,se,(pe=Math.pow(2,8*se-1))-1,-pe);var Ee=se-1,Ne=1,We=0;for(this[R+Ee]=255&Y;0<=--Ee&&(Ne*=256);)Y<0&&0===We&&0!==this[R+Ee+1]&&(We=1),this[R+Ee]=(Y/Ne>>0)-We&255;return R+se},a.prototype.writeInt8=function(Y,R,se){return Y=+Y,R>>>=0,se||E(this,Y,R,1,127,-128),this[R]=255&(Y=Y<0?255+Y+1:Y),R+1},a.prototype.writeInt16LE=function(Y,R,se){return Y=+Y,R>>>=0,se||E(this,Y,R,2,32767,-32768),this[R]=255&Y,this[R+1]=Y>>>8,R+2},a.prototype.writeInt16BE=function(Y,R,se){return Y=+Y,R>>>=0,se||E(this,Y,R,2,32767,-32768),this[R]=Y>>>8,this[R+1]=255&Y,R+2},a.prototype.writeInt32LE=function(Y,R,se){return Y=+Y,R>>>=0,se||E(this,Y,R,4,2147483647,-2147483648),this[R]=255&Y,this[R+1]=Y>>>8,this[R+2]=Y>>>16,this[R+3]=Y>>>24,R+4},a.prototype.writeInt32BE=function(Y,R,se){return Y=+Y,R>>>=0,se||E(this,Y,R,4,2147483647,-2147483648),this[R]=(Y=Y<0?4294967295+Y+1:Y)>>>24,this[R+1]=Y>>>16,this[R+2]=Y>>>8,this[R+3]=255&Y,R+4},a.prototype.writeFloatLE=function(Y,R,se){return H(this,Y,R,!0,se)},a.prototype.writeFloatBE=function(Y,R,se){return H(this,Y,R,!1,se)},a.prototype.writeDoubleLE=function(Y,R,se){return X(this,Y,R,!0,se)},a.prototype.writeDoubleBE=function(Y,R,se){return X(this,Y,R,!1,se)},a.prototype.copy=function(Y,R,se,pe){if(!a.isBuffer(Y))throw new TypeError("argument should be a Buffer");if(se=se||0,pe||0===pe||(pe=this.length),R>=Y.length&&(R=Y.length),(pe=0<pe&&pe<se?se:pe)===se||0===Y.length||0===this.length)return 0;if((R=R||0)<0)throw new RangeError("targetStart out of bounds");if(se<0||se>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length);var Ee=(pe=Y.length-R<pe-se?Y.length-R+se:pe)-se;if(this===Y&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(R,se,pe);else if(this===Y&&se<R&&R<pe)for(var Ne=Ee-1;0<=Ne;--Ne)Y[Ne+R]=this[Ne+se];else Uint8Array.prototype.set.call(Y,this.subarray(se,pe),R);return Ee},a.prototype.fill=function(Y,R,se,pe){if("string"==typeof Y){if("string"==typeof R?(pe=R,R=0,se=this.length):"string"==typeof se&&(pe=se,se=this.length),void 0!==pe&&"string"!=typeof pe)throw new TypeError("encoding must be a string");if("string"==typeof pe&&!a.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);var Ee;1===Y.length&&(Ee=Y.charCodeAt(0),("utf8"===pe&&Ee<128||"latin1"===pe)&&(Y=Ee))}else"number"==typeof Y?Y&=255:"boolean"==typeof Y&&(Y=Number(Y));if(R<0||this.length<R||this.length<se)throw new RangeError("Out of range index");var Ne;if(!(se<=R))if(R>>>=0,se=void 0===se?this.length:se>>>0,"number"==typeof(Y=Y||0))for(Ne=R;Ne<se;++Ne)this[Ne]=Y;else{var We=a.isBuffer(Y)?Y:a.from(Y,pe),et=We.length;if(0===et)throw new TypeError('The value "'+Y+'" is invalid for argument "value"');for(Ne=0;Ne<se-R;++Ne)this[Ne+R]=We[Ne%et]}return this};var z=/[^+/0-9A-Za-z-_]/g;function te(Y,R){R=R||1/0;for(var se,pe=Y.length,Ee=null,Ne=[],We=0;We<pe;++We){if(55295<(se=Y.charCodeAt(We))&&se<57344){if(!Ee){if(56319<se){-1<(R-=3)&&Ne.push(239,191,189);continue}if(We+1===pe){-1<(R-=3)&&Ne.push(239,191,189);continue}Ee=se;continue}if(se<56320){-1<(R-=3)&&Ne.push(239,191,189),Ee=se;continue}se=65536+(Ee-55296<<10|se-56320)}else Ee&&-1<(R-=3)&&Ne.push(239,191,189);if(Ee=null,se<128){if(--R<0)break;Ne.push(se)}else if(se<2048){if((R-=2)<0)break;Ne.push(se>>6|192,63&se|128)}else if(se<65536){if((R-=3)<0)break;Ne.push(se>>12|224,se>>6&63|128,63&se|128)}else{if(!(se<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;Ne.push(se>>18|240,se>>12&63|128,se>>6&63|128,63&se|128)}}return Ne}function J(Y){return _.toByteArray(function(R){if((R=(R=R.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R}(Y))}function q(Y,R,se,pe){for(var Ee=0;Ee<pe&&!(Ee+se>=R.length||Ee>=Y.length);++Ee)R[Ee+se]=Y[Ee];return Ee}function ne(Y,R){return Y instanceof R||null!=Y&&null!=Y.constructor&&null!=Y.constructor.name&&Y.constructor.name===R.name}function de(Y){return Y!=Y}var De=function(){for(var Y="0123456789abcdef",R=new Array(256),se=0;se<16;++se)for(var pe=16*se,Ee=0;Ee<16;++Ee)R[pe+Ee]=Y[se]+Y[Ee];return R}()}).call(this,r("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:251}],5:[function(r,W,S){W.exports=function(v){if("function"!=typeof v)throw TypeError(String(v)+" is not a function");return v}},{}],6:[function(r,W,S){var v=r("../internals/is-object");W.exports=function(_){if(v(_)||null===_)return _;throw TypeError("Can't set "+String(_)+" as a prototype")}},{"../internals/is-object":75}],7:[function(f,W,S){var v=f("../internals/well-known-symbol"),_=f("../internals/object-create"),h=(f=f("../internals/object-define-property"),v("unscopables")),x=Array.prototype;null==x[h]&&f.f(x,h,{configurable:!0,value:_(null)}),W.exports=function(w){x[h][w]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],8:[function(r,W,S){"use strict";var v=r("../internals/string-multibyte").charAt;W.exports=function(_,f,h){return f+(h?v(_,f).length:1)}},{"../internals/string-multibyte":124}],9:[function(r,W,S){W.exports=function(v,_,f){if(v instanceof _)return v;throw TypeError("Incorrect "+(f?f+" ":"")+"invocation")}},{}],10:[function(r,W,S){var v=r("../internals/is-object");W.exports=function(_){if(v(_))return _;throw TypeError(String(_)+" is not an object")}},{"../internals/is-object":75}],11:[function(r,W,S){W.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(T,W,S){"use strict";function v(X){return w(X)&&a(H,l(X))}var _,f=T("../internals/array-buffer-native"),h=T("../internals/descriptors"),x=T("../internals/global"),w=T("../internals/is-object"),a=T("../internals/has"),l=T("../internals/classof"),d=T("../internals/create-non-enumerable-property"),u=T("../internals/redefine"),c=T("../internals/object-define-property").f,s=T("../internals/object-get-prototype-of"),m=T("../internals/object-set-prototype-of"),V=T("../internals/well-known-symbol"),p=(T=T("../internals/uid"),x.Int8Array),y=p&&p.prototype,O=(O=x.Uint8ClampedArray)&&O.prototype,$=p&&s(p),N=y&&s(y),P=Object.prototype,j=P.isPrototypeOf,k=(V=V("toStringTag"),T("TYPED_ARRAY_TAG")),E=f&&!!m&&"Opera"!==l(x.opera),H=(T=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(_ in H)x[_]||(E=!1);if((!E||"function"!=typeof $||$===Function.prototype)&&($=function(){throw TypeError("Incorrect invocation")},E))for(_ in H)x[_]&&m(x[_],$);if((!E||!N||N===P)&&(N=$.prototype,E))for(_ in H)x[_]&&m(x[_].prototype,N);if(E&&s(O)!==N&&m(O,N),h&&!a(N,V))for(_ in T=!0,c(N,V,{get:function(){return w(this)?this[k]:void 0}}),H)x[_]&&d(x[_],k,_);W.exports={NATIVE_ARRAY_BUFFER_VIEWS:E,TYPED_ARRAY_TAG:T&&k,aTypedArray:function(X){if(v(X))return X;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(X){if(m){if(j.call($,X))return X}else for(var z in H)if(a(H,_)&&(z=x[z])&&(X===z||j.call(z,X)))return X;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(X,z,te){if(h){if(te)for(var J in H)(J=x[J])&&a(J.prototype,X)&&delete J.prototype[X];N[X]&&!te||u(N,X,!te&&E&&y[X]||z)}},exportTypedArrayStaticMethod:function(X,z,te){var J,q;if(h){if(m){if(te)for(J in H)(q=x[J])&&a(q,X)&&delete q[X];if($[X]&&!te)return;try{return u($,X,!te&&E&&p[X]||z)}catch{}}for(J in H)!(q=x[J])||q[X]&&!te||u(q,X,z)}},isView:function(X){return"DataView"===(X=l(X))||a(H,X)},isTypedArray:v,TypedArray:$,TypedArrayPrototype:N}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":109,"../internals/uid":146,"../internals/well-known-symbol":149}],13:[function(se,W,S){"use strict";function v(Oe){return[255&Oe]}function _(Oe){return[255&Oe,Oe>>8&255]}function f(Oe){return[255&Oe,Oe>>8&255,Oe>>16&255,Oe>>24&255]}function h(Oe){return Oe[3]<<24|Oe[2]<<16|Oe[1]<<8|Oe[0]}function x(Oe){return Ne(Oe,23,4)}function w(Oe){return Ne(Oe,52,8)}function a(Oe,Ze){T(Oe[ne],Ze,{get:function(){return z(this)[Ze]}})}function l(kt,Ze,ft,vt){if((ft=P(ft))+Ze>(kt=z(kt)).byteLength)throw Ee(de);return kt=z(kt.buffer).bytes.slice(ft+=kt.byteOffset,ft+Ze),vt?kt:kt.reverse()}function d(Oe,Ze,Qe,vt,ht,ft){if((Qe=P(Qe))+Ze>(Oe=z(Oe)).byteLength)throw Ee(de);for(var kt=z(Oe.buffer).bytes,qt=Qe+Oe.byteOffset,Lt=vt(+ht),ln=0;ln<Ze;ln++)kt[qt+ln]=Lt[ft?ln:Ze-ln-1]}var u=se("../internals/global"),c=se("../internals/descriptors"),s=se("../internals/array-buffer-native"),m=se("../internals/create-non-enumerable-property"),p=se("../internals/redefine-all"),y=se("../internals/fails"),O=se("../internals/an-instance"),$=se("../internals/to-integer"),N=se("../internals/to-length"),P=se("../internals/to-index"),j=se("../internals/ieee754"),V=se("../internals/object-get-prototype-of"),k=se("../internals/object-set-prototype-of"),E=se("../internals/object-get-own-property-names").f,T=se("../internals/object-define-property").f,H=se("../internals/array-fill"),X=se("../internals/set-to-string-tag"),z=(se=se("../internals/internal-state")).get,te=se.set,J="ArrayBuffer",q="DataView",ne="prototype",de="Wrong index",De=u[J],Y=De,R=u[q],pe=(se=R&&R[ne],Object.prototype),Ee=u.RangeError,Ne=j.pack,We=j.unpack;if(s){if(!y(function(){De(1)})||!y(function(){new De(-1)})||y(function(){return new De,new De(1.5),new De(NaN),De.name!=J})){u=(Y=function(Qe){return O(this,Y),new De(P(Qe))})[ne]=De[ne];for(var et,Ae=E(De),Be=0;Ae.length>Be;)(et=Ae[Be++])in Y||m(Y,et,De[et]);u.constructor=Y}k&&V(se)!==pe&&k(se,pe),j=new R(new Y(2));var Fe=se.setInt8;j.setInt8(0,2147483648),j.setInt8(1,2147483649),!j.getInt8(0)&&j.getInt8(1)||p(se,{setInt8:function(Ze,Qe){Fe.call(this,Ze,Qe<<24>>24)},setUint8:function(Ze,Qe){Fe.call(this,Ze,Qe<<24>>24)}},{unsafe:!0})}else Y=function(Oe){O(this,Y,J),Oe=P(Oe),te(this,{bytes:H.call(new Array(Oe),0),byteLength:Oe}),c||(this.byteLength=Oe)},R=function(Oe,ht,Qe){O(this,R,q),O(Oe,Y,q);var vt=z(Oe).byteLength;if((ht=$(ht))<0||vt<ht)throw Ee("Wrong offset");if(vt<ht+(Qe=void 0===Qe?vt-ht:N(Qe)))throw Ee("Wrong length");te(this,{buffer:Oe,byteLength:Qe,byteOffset:ht}),c||(this.buffer=Oe,this.byteLength=Qe,this.byteOffset=ht)},c&&(a(Y,"byteLength"),a(R,"buffer"),a(R,"byteLength"),a(R,"byteOffset")),p(R[ne],{getInt8:function(Oe){return l(this,1,Oe)[0]<<24>>24},getUint8:function(Oe){return l(this,1,Oe)[0]},getInt16:function(Oe){return((Oe=l(this,2,Oe,1<arguments.length?arguments[1]:void 0))[1]<<8|Oe[0])<<16>>16},getUint16:function(Oe){return(Oe=l(this,2,Oe,1<arguments.length?arguments[1]:void 0))[1]<<8|Oe[0]},getInt32:function(Oe){return h(l(this,4,Oe,1<arguments.length?arguments[1]:void 0))},getUint32:function(Oe){return h(l(this,4,Oe,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(Oe){return We(l(this,4,Oe,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(Oe){return We(l(this,8,Oe,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(Oe,Ze){d(this,1,Oe,v,Ze)},setUint8:function(Oe,Ze){d(this,1,Oe,v,Ze)},setInt16:function(Oe,Ze){d(this,2,Oe,_,Ze,2<arguments.length?arguments[2]:void 0)},setUint16:function(Oe,Ze){d(this,2,Oe,_,Ze,2<arguments.length?arguments[2]:void 0)},setInt32:function(Oe,Ze){d(this,4,Oe,f,Ze,2<arguments.length?arguments[2]:void 0)},setUint32:function(Oe,Ze){d(this,4,Oe,f,Ze,2<arguments.length?arguments[2]:void 0)},setFloat32:function(Oe,Ze){d(this,4,Oe,x,Ze,2<arguments.length?arguments[2]:void 0)},setFloat64:function(Oe,Ze){d(this,8,Oe,w,Ze,2<arguments.length?arguments[2]:void 0)}});X(Y,J),X(R,q),W.exports={ArrayBuffer:Y,DataView:R}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":108,"../internals/set-to-string-tag":118,"../internals/to-index":134,"../internals/to-integer":136,"../internals/to-length":137}],14:[function(r,W,S){"use strict";var v=r("../internals/to-object"),_=r("../internals/to-absolute-index"),f=r("../internals/to-length"),h=Math.min;W.exports=[].copyWithin||function(c,w){var a=v(this),l=f(a.length),d=_(c,l),u=_(w,l),s=h((void 0===(c=2<arguments.length?arguments[2]:void 0)?l:_(c,l))-u,l-d),m=1;for(u<d&&d<u+s&&(m=-1,u+=s-1,d+=s-1);0<s--;)u in a?a[d]=a[u]:delete a[d],d+=m,u+=m;return a}},{"../internals/to-absolute-index":133,"../internals/to-length":137,"../internals/to-object":138}],15:[function(r,W,S){"use strict";var v=r("../internals/to-object"),_=r("../internals/to-absolute-index"),f=r("../internals/to-length");W.exports=function(h){for(var l,x=v(this),w=f(x.length),a=_(1<(l=arguments.length)?arguments[1]:void 0,w),d=void 0===(l=2<l?arguments[2]:void 0)?w:_(l,w);a<d;)x[a++]=h;return x}},{"../internals/to-absolute-index":133,"../internals/to-length":137,"../internals/to-object":138}],16:[function(f,W,S){"use strict";var v=f("../internals/array-iteration").forEach,_=f("../internals/array-method-is-strict");f=f("../internals/array-method-uses-to-length"),_=_("forEach"),f=f("forEach"),W.exports=_&&f?[].forEach:function(h){return v(this,h,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(r,W,S){"use strict";var v=r("../internals/function-bind-context"),_=r("../internals/to-object"),f=r("../internals/call-with-safe-iteration-closing"),h=r("../internals/is-array-iterator-method"),x=r("../internals/to-length"),w=r("../internals/create-property"),a=r("../internals/get-iterator-method");W.exports=function(O){var d,u,c,s,m,p,y=_(O),$=(O="function"==typeof this?this:Array,arguments.length),N=1<$?arguments[1]:void 0,P=void 0!==N,j=a(y),V=0;if(P&&(N=v(N,2<$?arguments[2]:void 0,2)),null==j||O==Array&&h(j))for(u=new O(d=x(y.length));V<d;V++)p=P?N(y[V],V):y[V],w(u,V,p);else for(m=(s=j.call(y)).next,u=new O;!(c=m.call(s)).done;V++)p=P?f(s,N,[c.value,V],!0):c.value,w(u,V,p);return u.length=V,u}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137,"../internals/to-object":138}],18:[function(r,W,S){function v(x){return function(w,a,l){var d,u=_(w),c=f(u.length),s=h(l,c);if(x&&a!=a){for(;s<c;)if((d=u[s++])!=d)return!0}else for(;s<c;s++)if((x||s in u)&&u[s]===a)return x||s||0;return!x&&-1}}var _=r("../internals/to-indexed-object"),f=r("../internals/to-length"),h=r("../internals/to-absolute-index");W.exports={includes:v(!0),indexOf:v(!1)}},{"../internals/to-absolute-index":133,"../internals/to-indexed-object":135,"../internals/to-length":137}],19:[function(r,W,S){function v(l){var d=1==l,u=2==l,c=3==l,s=4==l,m=6==l,p=5==l||m;return function(y,O,$,N){for(var P,j,V=h(y),k=f(V),E=_(O,$,3),T=x(k.length),H=0,X=(O=N||w,d?O(y,T):u?O(y,0):void 0);H<T;H++)if((p||H in k)&&(j=E(P=k[H],H,V),l))if(d)X[H]=j;else if(j)switch(l){case 3:return!0;case 5:return P;case 6:return H;case 2:a.call(X,P)}else if(s)return!1;return m?-1:c||s?s:X}}var _=r("../internals/function-bind-context"),f=r("../internals/indexed-object"),h=r("../internals/to-object"),x=r("../internals/to-length"),w=r("../internals/array-species-create"),a=[].push;W.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":137,"../internals/to-object":138}],20:[function(l,W,S){"use strict";var v=l("../internals/to-indexed-object"),_=l("../internals/to-integer"),f=l("../internals/to-length"),a=l("../internals/array-method-is-strict"),h=(l=l("../internals/array-method-uses-to-length"),Math.min),x=[].lastIndexOf,w=!!x&&1/[1].lastIndexOf(1,-0)<0;a=a("lastIndexOf"),l=l("indexOf",{ACCESSORS:!0,1:0}),W.exports=!w&&a&&l?x:function(d){if(w)return x.apply(this,arguments)||0;var u=v(this),c=f(u.length),s=c-1;for((s=1<arguments.length?h(s,_(arguments[1])):s)<0&&(s=c+s);0<=s;s--)if(s in u&&u[s]===d)return s||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":135,"../internals/to-integer":136,"../internals/to-length":137}],21:[function(r,W,S){var v=r("../internals/fails"),_=r("../internals/well-known-symbol"),f=r("../internals/engine-v8-version"),h=_("species");W.exports=function(x){return 51<=f||!v(function(){var w=[];return(w.constructor={})[h]=function(){return{foo:1}},1!==w[x](Boolean).foo})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":149}],22:[function(r,W,S){"use strict";var v=r("../internals/fails");W.exports=function(_,f){var h=[][_];return!!h&&v(function(){h.call(null,f||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(r,W,S){function v(a){throw a}var _=r("../internals/descriptors"),f=r("../internals/fails"),h=r("../internals/has"),x=Object.defineProperty,w={};W.exports=function(a,l){var d,u,c,s;return h(w,a)?w[a]:(d=[][a],u=!!h(l=l||{},"ACCESSORS")&&l.ACCESSORS,c=h(l,0)?l[0]:v,s=h(l,1)?l[1]:void 0,w[a]=!!d&&!f(function(){if(u&&!_)return!0;var m={length:-1};u?x(m,1,{enumerable:!0,get:v}):m[1]=1,d.call(m,c,s)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(r,W,S){function v(w){return function(a,l,d,u){_(l);var c=f(a),s=h(c),m=x(c.length),p=w?m-1:0,y=w?-1:1;if(d<2)for(;;){if(p in s){u=s[p],p+=y;break}if(p+=y,w?p<0:m<=p)throw TypeError("Reduce of empty array with no initial value")}for(;w?0<=p:p<m;p+=y)p in s&&(u=l(u,s[p],p,c));return u}}var _=r("../internals/a-function"),f=r("../internals/to-object"),h=r("../internals/indexed-object"),x=r("../internals/to-length");W.exports={left:v(!1),right:v(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":137,"../internals/to-object":138}],25:[function(r,W,S){var v=r("../internals/is-object"),_=r("../internals/is-array"),f=r("../internals/well-known-symbol")("species");W.exports=function(h,x){var w;return new(void 0===(w=_(h)&&("function"==typeof(w=h.constructor)&&(w===Array||_(w.prototype))||v(w)&&null===(w=w[f]))?void 0:w)?Array:w)(0===x?0:x)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":149}],26:[function(r,W,S){var v=r("../internals/an-object");W.exports=function(_,f,h,x){try{return x?f(v(h)[0],h[1]):f(h)}catch(w){throw void 0!==(x=_.return)&&v(x.call(_)),w}}},{"../internals/an-object":10}],27:[function(r,W,S){var v=r("../internals/well-known-symbol")("iterator"),_=!1;try{var f=0,h={next:function(){return{done:!!f++}},return:function(){_=!0}};h[v]=function(){return this},Array.from(h,function(){throw 2})}catch{}W.exports=function(x,w){if(!w&&!_)return!1;var a=!1;try{var l={};l[v]=function(){return{next:function(){return{done:a=!0}}}},x(l)}catch{}return a}},{"../internals/well-known-symbol":149}],28:[function(r,W,S){var v={}.toString;W.exports=function(_){return v.call(_).slice(8,-1)}},{}],29:[function(r,W,S){var v=r("../internals/to-string-tag-support"),_=r("../internals/classof-raw"),f=r("../internals/well-known-symbol")("toStringTag"),h="Arguments"==_(function(){return arguments}());W.exports=v?_:function(x){var w;return void 0===x?"Undefined":null===x?"Null":"string"==typeof(w=function(a,l){try{return a[l]}catch{}}(x=Object(x),f))?w:h?_(x):"Object"==(w=_(x))&&"function"==typeof x.callee?"Arguments":w}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":142,"../internals/well-known-symbol":149}],30:[function(c,W,S){"use strict";var v=c("../internals/object-define-property").f,_=c("../internals/object-create"),f=c("../internals/redefine-all"),h=c("../internals/function-bind-context"),x=c("../internals/an-instance"),w=c("../internals/iterate"),a=c("../internals/define-iterator"),l=c("../internals/set-species"),d=c("../internals/descriptors"),u=c("../internals/internal-metadata").fastKey,s=(c=c("../internals/internal-state")).set,m=c.getterFor;W.exports={getConstructor:function(p,y,O,$){function N(k,E,T){var H,X=V(k),z=P(k,E);return z?z.value=T:(X.last=z={index:H=u(E,!0),key:E,value:T,previous:E=X.last,next:void 0,removed:!1},X.first||(X.first=z),E&&(E.next=z),d?X.size++:k.size++,"F"!==H&&(X.index[H]=z)),k}function P(H,E){H=V(H);var T,X=u(E);if("F"!==X)return H.index[X];for(T=H.first;T;T=T.next)if(T.key==E)return T}var j=p(function(k,E){x(k,j,y),s(k,{type:y,index:_(null),first:void 0,last:void 0,size:0}),d||(k.size=0),null!=E&&w(E,k[$],k,O)}),V=m(y);return f(j.prototype,{clear:function(){for(var k=V(this),E=k.index,T=k.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=void 0),delete E[T.index],T=T.next;k.first=k.last=void 0,d?k.size=0:this.size=0},delete:function(X){var E,T,H=V(this);return(X=P(this,X))&&(E=X.next,T=X.previous,delete H.index[X.index],X.removed=!0,T&&(T.next=E),E&&(E.previous=T),H.first==X&&(H.first=E),H.last==X&&(H.last=T),d?H.size--:this.size--),!!X},forEach:function(k){for(var E,T=V(this),H=h(k,1<arguments.length?arguments[1]:void 0,3);E=E?E.next:T.first;)for(H(E.value,E.key,this);E&&E.removed;)E=E.previous},has:function(k){return!!P(this,k)}}),f(j.prototype,O?{get:function(k){return(k=P(this,k))&&k.value},set:function(k,E){return N(this,0===k?0:k,E)}}:{add:function(k){return N(this,k=0===k?0:k,k)}}),d&&v(j.prototype,"size",{get:function(){return V(this).size}}),j},setStrong:function(p,y,O){var $=y+" Iterator",N=m(y),P=m($);a(p,y,function(j,V){s(this,{type:$,target:j,state:N(j),kind:V,last:void 0})},function(){for(var j=P(this),V=j.kind,k=j.last;k&&k.removed;)k=k.previous;return j.target&&(j.last=k=k?k.next:j.state.first)?"keys"==V?{value:k.key,done:!1}:"values"==V?{value:k.value,done:!1}:{value:[k.key,k.value],done:!1}:{value:j.target=void 0,done:!0}},O?"entries":"values",!O,!0),l(y)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":108,"../internals/set-species":117}],31:[function(s,W,S){"use strict";function v(N){return N.frozen||(N.frozen=new _)}function _(){this.entries=[]}function f(N,P){return y(N.entries,function(j){return j[0]===P})}var h=s("../internals/redefine-all"),x=s("../internals/internal-metadata").getWeakData,w=s("../internals/an-object"),a=s("../internals/is-object"),l=s("../internals/an-instance"),d=s("../internals/iterate"),u=s("../internals/array-iteration"),c=s("../internals/has"),m=(s=s("../internals/internal-state")).set,p=s.getterFor,y=u.find,O=u.findIndex,$=0;_.prototype={get:function(N){if(N=f(this,N))return N[1]},has:function(N){return!!f(this,N)},set:function(N,P){var j=f(this,N);j?j[1]=P:this.entries.push([N,P])},delete:function(N){var P=O(this.entries,function(j){return j[0]===N});return~P&&this.entries.splice(P,1),!!~P}},W.exports={getConstructor:function(N,P,j,V){function k(H,X,z){var te=T(H),J=x(w(X),!0);return!0===J?v(te).set(X,z):J[te.id]=z,H}var E=N(function(H,X){l(H,E,P),m(H,{type:P,id:$++,frozen:void 0}),null!=X&&d(X,H[V],H,j)}),T=p(P);return h(E.prototype,{delete:function(H){var X,z=T(this);return!!a(H)&&(!0===(X=x(H))?v(z).delete(H):X&&c(X,z.id)&&delete X[z.id])},has:function(H){var X,z=T(this);return!!a(H)&&(!0===(X=x(H))?v(z).has(H):X&&c(X,z.id))}}),h(E.prototype,j?{get:function(H){var X,z=T(this);if(a(H))return!0===(X=x(H))?v(z).get(H):X?X[z.id]:void 0},set:function(H,X){return k(this,H,X)}}:{add:function(H){return k(this,H,!0)}}),E}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":108}],32:[function(r,W,S){"use strict";var v=r("../internals/export"),_=r("../internals/global"),f=r("../internals/is-forced"),h=r("../internals/redefine"),x=r("../internals/internal-metadata"),w=r("../internals/iterate"),a=r("../internals/an-instance"),l=r("../internals/is-object"),d=r("../internals/fails"),u=r("../internals/check-correctness-of-iteration"),c=r("../internals/set-to-string-tag"),s=r("../internals/inherit-if-required");W.exports=function(m,p,y){function O(J){var q=X[J];h(X,J,"add"==J?function(ne){return q.call(this,0===ne?0:ne),this}:"delete"==J?function(ne){return!(E&&!l(ne))&&q.call(this,0===ne?0:ne)}:"get"==J?function(ne){return E&&!l(ne)?void 0:q.call(this,0===ne?0:ne)}:"has"==J?function(ne){return!(E&&!l(ne))&&q.call(this,0===ne?0:ne)}:function(ne,de){return q.call(this,0===ne?0:ne,de),this})}var $,N,P,j,V,k=-1!==m.indexOf("Map"),E=-1!==m.indexOf("Weak"),T=k?"set":"add",H=_[m],X=H&&H.prototype,z=H,te={};return f(m,"function"!=typeof H||!(E||X.forEach&&!d(function(){(new H).entries().next()})))?(z=y.getConstructor(p,m,k,T),x.REQUIRED=!0):f(m,!0)&&(N=($=new z)[T](E?{}:-0,1)!=$,P=d(function(){$.has(1)}),j=u(function(J){new H(J)}),V=!E&&d(function(){for(var J=new H,q=5;q--;)J[T](q,q);return!J.has(-0)}),j||(((z=p(function(J,q){return a(J,z,m),J=s(new H,J,z),null!=q&&w(q,J[T],J,k),J})).prototype=X).constructor=z),(P||V)&&(O("delete"),O("has"),k&&O("get")),(V||N)&&O(T),E&&X.clear&&delete X.clear),te[m]=z,v({global:!0,forced:z!=H},te),c(z,m),E||y.setStrong(z,m,k),z}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":109,"../internals/set-to-string-tag":118}],33:[function(r,W,S){var v=r("../internals/has"),_=r("../internals/own-keys"),f=r("../internals/object-get-own-property-descriptor"),h=r("../internals/object-define-property");W.exports=function(x,w){for(var a=_(w),l=h.f,d=f.f,u=0;u<a.length;u++){var c=a[u];v(x,c)||l(x,c,d(w,c))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":104}],34:[function(r,W,S){var v=r("../internals/well-known-symbol")("match");W.exports=function(_){var f=/./;try{"/./"[_](f)}catch{try{return f[v]=!1,"/./"[_](f)}catch{}}return!1}},{"../internals/well-known-symbol":149}],35:[function(r,W,S){r=r("../internals/fails"),W.exports=!r(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype})},{"../internals/fails":51}],36:[function(r,W,S){var v=r("../internals/require-object-coercible"),_=/"/g;W.exports=function(a,h,x,w){a=String(v(a));var l="<"+h;return""!==x&&(l+=" "+x+'="'+String(w).replace(_,"&quot;")+'"'),l+">"+a+"</"+h+">"}},{"../internals/require-object-coercible":114}],37:[function(r,W,S){"use strict";function v(){return this}var _=r("../internals/iterators-core").IteratorPrototype,f=r("../internals/object-create"),h=r("../internals/create-property-descriptor"),x=r("../internals/set-to-string-tag"),w=r("../internals/iterators");W.exports=function(a,l,d){return l+=" Iterator",a.prototype=f(_,{next:h(1,d)}),x(a,l,!1,!0),w[l]=v,a}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":118}],38:[function(r,W,S){var v=r("../internals/descriptors"),_=r("../internals/object-define-property"),f=r("../internals/create-property-descriptor");W.exports=v?function(h,x,w){return _.f(h,x,f(1,w))}:function(h,x,w){return h[x]=w,h}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(r,W,S){W.exports=function(v,_){return{enumerable:!(1&v),configurable:!(2&v),writable:!(4&v),value:_}}},{}],40:[function(r,W,S){"use strict";var v=r("../internals/to-primitive"),_=r("../internals/object-define-property"),f=r("../internals/create-property-descriptor");W.exports=function(h,x,w){(x=v(x))in h?_.f(h,x,f(0,w)):h[x]=w}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":141}],41:[function(s,W,S){"use strict";function v(){return this}var _=s("../internals/export"),f=s("../internals/create-iterator-constructor"),h=s("../internals/object-get-prototype-of"),x=s("../internals/object-set-prototype-of"),w=s("../internals/set-to-string-tag"),a=s("../internals/create-non-enumerable-property"),l=s("../internals/redefine"),d=s("../internals/well-known-symbol"),u=s("../internals/is-pure"),c=s("../internals/iterators"),m=(s=s("../internals/iterators-core")).IteratorPrototype,p=s.BUGGY_SAFARI_ITERATORS,y=d("iterator"),O="values",$="entries";W.exports=function(N,P,j,te,k,E,T){function H(Y){if(Y===k&&de)return de;if(!p&&Y in q)return q[Y];switch(Y){case"keys":case O:case $:return function(){return new j(this,Y)}}return function(){return new j(this)}}f(j,P,te),te=P+" Iterator";var X,z,J=!1,q=N.prototype,ne=q[y]||q["@@iterator"]||k&&q[k],de=!p&&ne||H(k),De="Array"==P&&q.entries||ne;if(De&&(De=h(De.call(new N)),m!==Object.prototype&&De.next&&(u||h(De)===m||(x?x(De,m):"function"!=typeof De[y]&&a(De,y,v)),w(De,te,!0,!0),u&&(c[te]=v))),k==O&&ne&&ne.name!==O&&(J=!0,de=function(){return ne.call(this)}),u&&!T||q[y]===de||a(q,y,de),c[P]=de,k)if(X={values:H(O),keys:E?de:H("keys"),entries:H($)},T)for(z in X)!p&&!J&&z in q||l(q,z,X[z]);else _({target:P,proto:!0,forced:p||J},X);return X}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/well-known-symbol":149}],42:[function(r,W,S){var v=r("../internals/path"),_=r("../internals/has"),f=r("../internals/well-known-symbol-wrapped"),h=r("../internals/object-define-property").f;W.exports=function(x){var w=v.Symbol||(v.Symbol={});_(w,x)||h(w,x,{value:f.f(x)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":105,"../internals/well-known-symbol-wrapped":148}],43:[function(r,W,S){r=r("../internals/fails"),W.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":51}],44:[function(_,W,S){var v=_("../internals/global"),f=(_=_("../internals/is-object"),v.document),h=_(f)&&_(f.createElement);W.exports=function(x){return h?f.createElement(x):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(r,W,S){W.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(r,W,S){r=r("../internals/engine-user-agent"),W.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},{"../internals/engine-user-agent":47}],47:[function(r,W,S){r=r("../internals/get-built-in"),W.exports=r("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(f,W,S){var v,_,h=f("../internals/global");f=f("../internals/engine-user-agent"),(h=(h=(h=h.process)&&h.versions)&&h.v8)?_=(v=h.split("."))[0]+v[1]:f&&(!(v=f.match(/Edge\/(\d+)/))||74<=v[1])&&(v=f.match(/Chrome\/(\d+)/))&&(_=v[1]),W.exports=_&&+_},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(r,W,S){W.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(r,W,S){var v=r("../internals/global"),_=r("../internals/object-get-own-property-descriptor").f,f=r("../internals/create-non-enumerable-property"),h=r("../internals/redefine"),x=r("../internals/set-global"),w=r("../internals/copy-constructor-properties"),a=r("../internals/is-forced");W.exports=function(l,d){var u,c,s,m=l.target,p=l.global,y=l.stat,O=p?v:y?v[m]||x(m,{}):(v[m]||{}).prototype;if(O)for(u in d){if(c=d[u],s=l.noTargetGet?(s=_(O,u))&&s.value:O[u],!a(p?u:m+(y?".":"#")+u,l.forced)&&void 0!==s){if(typeof c==typeof s)continue;w(c,s)}(l.sham||s&&s.sham)&&f(c,"sham",!0),h(O,u,c,l)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":109,"../internals/set-global":116}],51:[function(r,W,S){W.exports=function(v){try{return!!v()}catch{return!0}}},{}],52:[function(d,W,S){"use strict";d("../modules/es.regexp.exec");var v=d("../internals/redefine"),_=d("../internals/fails"),f=d("../internals/well-known-symbol"),h=d("../internals/regexp-exec"),x=d("../internals/create-non-enumerable-property"),w=f("species"),a=!_(function(){var s=/./;return s.exec=function(){var m=[];return m.groups={a:"7"},m},"7"!=="".replace(s,"$<a>")}),l="$0"==="a".replace(/./,"$0"),u=!!/./[d=f("replace")]&&""===/./[d]("a","$0"),c=!_(function(){var s=(m=/(?:)/).exec,m=(m.exec=function(){return s.apply(this,arguments)},"ab".split(m));return 2!==m.length||"a"!==m[0]||"b"!==m[1]});W.exports=function(s,m,p,y){var O,$,N=f(s),P=!_(function(){var V={};return V[N]=function(){return 7},7!=""[s](V)}),j=P&&!_(function(){var V=!1,k=/a/;return"split"===s&&((k={constructor:{}}).constructor[w]=function(){return k},k.flags="",k[N]=/./[N]),k.exec=function(){return V=!0,null},k[N](""),!V});P&&j&&("replace"!==s||a&&l&&!u)&&("split"!==s||c)||(O=/./[N],p=(j=p(N,""[s],function(V,k,E,T,H){return k.exec===h?P&&!H?{done:!0,value:O.call(k,E,T)}:{done:!0,value:V.call(E,k,T)}:{done:!1}},{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:u}))[0],$=j[1],v(String.prototype,s,p),v(RegExp.prototype,N,2==m?function(V,k){return $.call(V,this,k)}:function(V){return $.call(V,this)})),y&&x(RegExp.prototype[N],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":109,"../internals/regexp-exec":111,"../internals/well-known-symbol":149,"../modules/es.regexp.exec":192}],53:[function(r,W,S){"use strict";var _=r("../internals/is-array"),f=r("../internals/to-length"),h=r("../internals/function-bind-context");W.exports=function v(x,w,a,l,d,u,c,s){for(var m,p=d,y=0,O=!!c&&h(c,s,3);y<l;){if(y in a){if(m=O?O(a[y],y,w):a[y],0<u&&_(m))p=v(x,w,m,f(m.length),p,u-1)-1;else{if(9007199254740991<=p)throw TypeError("Exceed the acceptable array length");x[p]=m}p++}y++}return p}},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":137}],54:[function(r,W,S){r=r("../internals/fails"),W.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(r,W,S){var v=r("../internals/a-function");W.exports=function(_,f,h){if(v(_),void 0===f)return _;switch(h){case 0:return function(){return _.call(f)};case 1:return function(x){return _.call(f,x)};case 2:return function(x,w){return _.call(f,x,w)};case 3:return function(x,w,a){return _.call(f,x,w,a)}}return function(){return _.apply(f,arguments)}}},{"../internals/a-function":5}],56:[function(r,W,S){"use strict";var v=r("../internals/a-function"),_=r("../internals/is-object"),f=[].slice,h={};W.exports=Function.bind||function(x){var w=v(this),a=f.call(arguments,1),l=function(){var d=a.concat(f.call(arguments));if(this instanceof l){var u=w,c=d.length,s=d;if(!(c in h)){for(var m=[],p=0;p<c;p++)m[p]="a["+p+"]";h[c]=Function("C,a","return new C("+m.join(",")+")")}return h[c](u,s)}return w.apply(x,d)};return _(w.prototype)&&(l.prototype=w.prototype),l}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(r,W,S){function v(h){return"function"==typeof h?h:void 0}var _=r("../internals/path"),f=r("../internals/global");W.exports=function(h,x){return arguments.length<2?v(_[h])||v(f[h]):_[h]&&_[h][x]||f[h]&&f[h][x]}},{"../internals/global":60,"../internals/path":105}],58:[function(r,W,S){var v=r("../internals/classof"),_=r("../internals/iterators"),f=r("../internals/well-known-symbol")("iterator");W.exports=function(h){if(null!=h)return h[f]||h["@@iterator"]||_[v(h)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":149}],59:[function(r,W,S){var v=r("../internals/an-object"),_=r("../internals/get-iterator-method");W.exports=function(f){var h=_(f);if("function"!=typeof h)throw TypeError(String(f)+" is not iterable");return v(h.call(f))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(r,W,S){(function(v){function _(f){return f&&f.Math==Math&&f}W.exports=_("object"==typeof globalThis&&globalThis)||_("object"==typeof window&&window)||_("object"==typeof self&&self)||_("object"==typeof v&&v)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(r,W,S){var v={}.hasOwnProperty;W.exports=function(_,f){return v.call(_,f)}},{}],62:[function(r,W,S){W.exports={}},{}],63:[function(r,W,S){var v=r("../internals/global");W.exports=function(_,f){var h=v.console;h&&h.error&&(1===arguments.length?h.error(_):h.error(_,f))}},{"../internals/global":60}],64:[function(r,W,S){r=r("../internals/get-built-in"),W.exports=r("document","documentElement")},{"../internals/get-built-in":57}],65:[function(r,W,S){var v=r("../internals/descriptors"),_=r("../internals/fails"),f=r("../internals/document-create-element");W.exports=!v&&!_(function(){return 7!=Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(r,W,S){var v=Math.abs,_=Math.pow,f=Math.floor,h=Math.log,x=Math.LN2;W.exports={pack:function(w,a,p){var d,u,c,s=new Array(p),m=8*p-a-1,y=(p=(1<<m)-1)>>1,O=23===a?_(2,-24)-_(2,-77):0,$=w<0||0===w&&1/w<0?1:0,N=0;for((w=v(w))!=w||w===1/0?(u=w!=w?1:0,d=p):(d=f(h(w)/x),w*(c=_(2,-d))<1&&(d--,c*=2),2<=(w+=1<=d+y?O/c:O*_(2,1-y))*c&&(d++,c/=2),p<=d+y?(u=0,d=p):1<=d+y?(u=(w*c-1)*_(2,a),d+=y):(u=w*_(2,y-1)*_(2,a),d=0));8<=a;s[N++]=255&u,u/=256,a-=8);for(d=d<<a|u,m+=a;0<m;s[N++]=255&d,d/=256,m-=8);return s[--N]|=128*$,s},unpack:function(w,a){var l,p,d=w.length,u=(1<<(p=8*d-a-1))-1,c=u>>1,s=p-7,m=d-1,y=127&(p=w[m--]);for(p>>=7;0<s;y=256*y+w[m],m--,s-=8);for(l=y&(1<<-s)-1,y>>=-s,s+=a;0<s;l=256*l+w[m],m--,s-=8);if(0===y)y=1-c;else{if(y===u)return l?NaN:p?-1/0:1/0;l+=_(2,a),y-=c}return(p?-1:1)*l*_(2,y-a)}}},{}],67:[function(r,W,S){var v=r("../internals/fails"),_=r("../internals/classof-raw"),f="".split;W.exports=v(function(){return!Object("z").propertyIsEnumerable(0)})?function(h){return"String"==_(h)?f.call(h,""):Object(h)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(r,W,S){var v=r("../internals/is-object"),_=r("../internals/object-set-prototype-of");W.exports=function(f,h,x){return _&&"function"==typeof(h=h.constructor)&&h!==x&&v(h=h.prototype)&&h!==x.prototype&&_(f,h),f}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(v,W,S){v=v("../internals/shared-store");var _=Function.toString;"function"!=typeof v.inspectSource&&(v.inspectSource=function(f){return _.call(f)}),W.exports=v.inspectSource},{"../internals/shared-store":120}],70:[function(r,W,S){function v(s){x(s,l,{value:{objectID:"O"+ ++d,weakData:{}}})}var _=r("../internals/hidden-keys"),f=r("../internals/is-object"),h=r("../internals/has"),x=r("../internals/object-define-property").f,w=r("../internals/uid"),a=r("../internals/freezing"),l=w("meta"),d=0,u=Object.isExtensible||function(){return!0},c=W.exports={REQUIRED:!1,fastKey:function(s,m){if(!f(s))return"symbol"==typeof s?s:("string"==typeof s?"S":"P")+s;if(!h(s,l)){if(!u(s))return"F";if(!m)return"E";v(s)}return s[l].objectID},getWeakData:function(s,m){if(!h(s,l)){if(!u(s))return!0;if(!m)return!1;v(s)}return s[l].weakData},onFreeze:function(s){return a&&c.REQUIRED&&u(s)&&!h(s,l)&&v(s),s}};_[l]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":146}],71:[function(p,W,S){var v,_,f,h,x,w,a,l,d=p("../internals/native-weak-map"),y=p("../internals/global"),u=p("../internals/is-object"),c=p("../internals/create-non-enumerable-property"),s=p("../internals/has"),m=p("../internals/shared-key");p=p("../internals/hidden-keys"),y=y.WeakMap,a=d?(v=new y,_=v.get,f=v.has,h=v.set,x=function(O,$){return h.call(v,O,$),$},w=function(O){return _.call(v,O)||{}},function(O){return f.call(v,O)}):(p[l=m("state")]=!0,x=function(O,$){return c(O,l,$),$},w=function(O){return s(O,l)?O[l]:{}},function(O){return s(O,l)}),W.exports={set:x,get:w,has:a,enforce:function(O){return a(O)?w(O):x(O,{})},getterFor:function(O){return function($){if(u($)&&($=w($)).type===O)return $;throw TypeError("Incompatible receiver, "+O+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":119}],72:[function(r,W,S){var v=r("../internals/well-known-symbol"),_=r("../internals/iterators"),f=v("iterator"),h=Array.prototype;W.exports=function(x){return void 0!==x&&(_.Array===x||h[f]===x)}},{"../internals/iterators":80,"../internals/well-known-symbol":149}],73:[function(r,W,S){var v=r("../internals/classof-raw");W.exports=Array.isArray||function(_){return"Array"==v(_)}},{"../internals/classof-raw":28}],74:[function(r,W,S){function v(l,d){return(l=x[h(l)])==a||l!=w&&("function"==typeof d?_(d):!!d)}var _=r("../internals/fails"),f=/#|\.prototype\./,h=v.normalize=function(l){return String(l).replace(f,".").toLowerCase()},x=v.data={},w=v.NATIVE="N",a=v.POLYFILL="P";W.exports=v},{"../internals/fails":51}],75:[function(r,W,S){W.exports=function(v){return"object"==typeof v?null!==v:"function"==typeof v}},{}],76:[function(r,W,S){W.exports=!1},{}],77:[function(r,W,S){var v=r("../internals/is-object"),_=r("../internals/classof-raw"),f=r("../internals/well-known-symbol")("match");W.exports=function(h){var x;return v(h)&&(void 0!==(x=h[f])?!!x:"RegExp"==_(h))}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":149}],78:[function(r,W,S){function v(l,d){this.stopped=l,this.result=d}var _=r("../internals/an-object"),f=r("../internals/is-array-iterator-method"),h=r("../internals/to-length"),x=r("../internals/function-bind-context"),w=r("../internals/get-iterator-method"),a=r("../internals/call-with-safe-iteration-closing");(W.exports=function(l,d,u,c,s){var m,p,y,O,$,N,P=x(d,u,c?2:1);if(s)m=l;else{if("function"!=typeof(d=w(l)))throw TypeError("Target is not iterable");if(f(d)){for(p=0,y=h(l.length);p<y;p++)if((O=c?P(_(N=l[p])[0],N[1]):P(l[p]))&&O instanceof v)return O;return new v(!1)}m=d.call(l)}for($=m.next;!(N=$.call(m)).done;)if("object"==typeof(O=a(m,P,N.value,c))&&O&&O instanceof v)return O;return new v(!1)}).stop=function(l){return new v(!0,l)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137}],79:[function(w,W,S){"use strict";var v,_,f=w("../internals/object-get-prototype-of"),h=w("../internals/create-non-enumerable-property"),x=w("../internals/has"),a=w("../internals/well-known-symbol"),l=(w=w("../internals/is-pure"),a=a("iterator"),!1);[].keys&&("next"in(_=[].keys())?(f=f(f(_)))!==Object.prototype&&(v=f):l=!0),null==v&&(v={}),w||x(v,a)||h(v,a,function(){return this}),W.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:l}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":149}],80:[function(r,W,S){W.exports={}},{}],81:[function(r,W,S){W.exports=Math.sign||function(v){return 0==(v=+v)||v!=v?v:v<0?-1:1}},{}],82:[function(c,W,S){var v,_,f,h,x,w,a,l,d=c("../internals/global"),$=c("../internals/object-get-own-property-descriptor").f,O=c("../internals/classof-raw"),u=c("../internals/task").set,s=(c=c("../internals/engine-is-ios"),d.MutationObserver||d.WebKitMutationObserver),m=d.process,p=d.Promise,y="process"==O(m);O=$(d,"queueMicrotask"),($=O&&O.value)||(v=function(){var N,P;for(y&&(N=m.domain)&&N.exit();_;){P=_.fn,_=_.next;try{P()}catch(j){throw _?h():f=void 0,j}}f=void 0,N&&N.enter()},h=y?function(){m.nextTick(v)}:s&&!c?(x=!0,w=document.createTextNode(""),new s(v).observe(w,{characterData:!0}),function(){w.data=x=!x}):p&&p.resolve?(a=p.resolve(void 0),l=a.then,function(){l.call(a,v)}):function(){u.call(d,v)}),W.exports=$||function(N){N={fn:N,next:void 0},f&&(f.next=N),_||(_=N,h()),f=N}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":131}],83:[function(r,W,S){r=r("../internals/global"),W.exports=r.Promise},{"../internals/global":60}],84:[function(r,W,S){r=r("../internals/fails"),W.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(r,W,S){var v=r("../internals/fails"),_=r("../internals/well-known-symbol"),f=r("../internals/is-pure"),h=_("iterator");W.exports=!v(function(){var x=new URL("b?a=1&b=2&c=3","http://a"),w=x.searchParams,a="";return x.pathname="c%20d",w.forEach(function(l,d){w.delete("b"),a+=d+l}),f&&!x.toJSON||!w.sort||"http://a/c%20d?a=1&c=3"!==x.href||"3"!==w.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!w[h]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":149}],86:[function(v,W,S){var _=v("../internals/global");v=v("../internals/inspect-source"),W.exports="function"==typeof(_=_.WeakMap)&&/native code/.test(v(_))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(r,W,S){"use strict";function v(f){var h,x;this.promise=new f(function(w,a){if(void 0!==h||void 0!==x)throw TypeError("Bad Promise constructor");h=w,x=a}),this.resolve=_(h),this.reject=_(x)}var _=r("../internals/a-function");W.exports.f=function(f){return new v(f)}},{"../internals/a-function":5}],88:[function(r,W,S){var v=r("../internals/is-regexp");W.exports=function(_){if(v(_))throw TypeError("The method doesn't accept regular expressions");return _}},{"../internals/is-regexp":77}],89:[function(r,W,S){var v=r("../internals/global").isFinite;W.exports=Number.isFinite||function(_){return"number"==typeof _&&v(_)}},{"../internals/global":60}],90:[function(r,W,S){"use strict";var v=r("../internals/descriptors"),_=r("../internals/fails"),f=r("../internals/object-keys"),h=r("../internals/object-get-own-property-symbols"),x=r("../internals/object-property-is-enumerable"),w=r("../internals/to-object"),a=r("../internals/indexed-object"),l=Object.assign,d=Object.defineProperty;W.exports=!l||_(function(){var u,c,s,m;return!(!v||1===l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(c={},m="abcdefghijklmnopqrst",(u={})[s=Symbol()]=7,m.split("").forEach(function(p){c[p]=p}),7!=l({},u)[s]||f(l({},c)).join("")!=m)})?function(u,c){for(var s=w(u),m=arguments.length,p=1,y=h.f,O=x.f;p<m;)for(var $,N=a(arguments[p++]),P=y?f(N).concat(y(N)):f(N),j=P.length,V=0;V<j;)$=P[V++],v&&!O.call(N,$)||(s[$]=N[$]);return s}:l},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":138}],91:[function(d,W,S){function v(){}var _,f=d("../internals/an-object"),h=d("../internals/object-define-properties"),x=d("../internals/enum-bug-keys"),w=d("../internals/hidden-keys"),a=d("../internals/html"),l=d("../internals/document-create-element"),u=(d=d("../internals/shared-key"),"prototype"),c="script",s=d("IE_PROTO"),m=function(y){return"<"+c+">"+y+"</"+c+">"},p=function(){try{_=document.domain&&new ActiveXObject("htmlfile")}catch{}p=_?((y=_).write(m("")),y.close(),O=y.parentWindow.Object,y=null,O):(y=l("iframe"),O="java"+c+":",y.style.display="none",a.appendChild(y),y.src=String(O),(O=y.contentWindow.document).open(),O.write(m("document.F=Object")),O.close(),O.F);for(var y,O,$=x.length;$--;)delete p[u][x[$]];return p()};w[s]=!0,W.exports=Object.create||function(y,O){var $;return null!==y?(v[u]=f(y),$=new v,v[u]=null,$[s]=y):$=p(),void 0===O?$:h($,O)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":119}],92:[function(r,W,S){var v=r("../internals/descriptors"),_=r("../internals/object-define-property"),f=r("../internals/an-object"),h=r("../internals/object-keys");W.exports=v?Object.defineProperties:function(x,w){f(x);for(var a,l=h(w),d=l.length,u=0;u<d;)_.f(x,a=l[u++],w[a]);return x}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(r,W,S){var v=r("../internals/descriptors"),_=r("../internals/ie8-dom-define"),f=r("../internals/an-object"),h=r("../internals/to-primitive"),x=Object.defineProperty;S.f=v?x:function(w,a,l){if(f(w),a=h(a,!0),f(l),_)try{return x(w,a,l)}catch{}if("get"in l||"set"in l)throw TypeError("Accessors not supported");return"value"in l&&(w[a]=l.value),w}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":141}],94:[function(r,W,S){var v=r("../internals/descriptors"),_=r("../internals/object-property-is-enumerable"),f=r("../internals/create-property-descriptor"),h=r("../internals/to-indexed-object"),x=r("../internals/to-primitive"),w=r("../internals/has"),a=r("../internals/ie8-dom-define"),l=Object.getOwnPropertyDescriptor;S.f=v?l:function(d,u){if(d=h(d),u=x(u,!0),a)try{return l(d,u)}catch{}if(w(d,u))return f(!_.f.call(d,u),d[u])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":135,"../internals/to-primitive":141}],95:[function(r,W,S){var v=r("../internals/to-indexed-object"),_=r("../internals/object-get-own-property-names").f,f={}.toString,h="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];W.exports.f=function(x){if(!h||"[object Window]"!=f.call(x))return _(v(x));try{return _(x)}catch{return h.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":135}],96:[function(r,W,S){var v=r("../internals/object-keys-internal"),_=r("../internals/enum-bug-keys").concat("length","prototype");S.f=Object.getOwnPropertyNames||function(f){return v(f,_)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(r,W,S){S.f=Object.getOwnPropertySymbols},{}],98:[function(h,W,S){var v=h("../internals/has"),_=h("../internals/to-object"),f=h("../internals/shared-key"),x=(h=h("../internals/correct-prototype-getter"),f("IE_PROTO")),w=Object.prototype;W.exports=h?Object.getPrototypeOf:function(a){return a=_(a),v(a,x)?a[x]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?w:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":119,"../internals/to-object":138}],99:[function(r,W,S){var v=r("../internals/has"),_=r("../internals/to-indexed-object"),f=r("../internals/array-includes").indexOf,h=r("../internals/hidden-keys");W.exports=function(x,w){var a,l=_(x),d=0,u=[];for(a in l)!v(h,a)&&v(l,a)&&u.push(a);for(;w.length>d;)!v(l,a=w[d++])||~f(u,a)||u.push(a);return u}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":135}],100:[function(r,W,S){var v=r("../internals/object-keys-internal"),_=r("../internals/enum-bug-keys");W.exports=Object.keys||function(f){return v(f,_)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(r,W,S){"use strict";var v={}.propertyIsEnumerable,_=Object.getOwnPropertyDescriptor,f=_&&!v.call({1:2},1);S.f=f?function(h){return!!(h=_(this,h))&&h.enumerable}:v},{}],102:[function(r,W,S){var v=r("../internals/an-object"),_=r("../internals/a-possible-prototype");W.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var f,h=!1,x={};try{(f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(x,[]),h=x instanceof Array}catch{}return function(w,a){return v(w),_(a),h?f.call(w,a):w.__proto__=a,w}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(r,W,S){"use strict";var v=r("../internals/to-string-tag-support"),_=r("../internals/classof");W.exports=v?{}.toString:function(){return"[object "+_(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":142}],104:[function(r,W,S){var v=r("../internals/get-built-in"),_=r("../internals/object-get-own-property-names"),f=r("../internals/object-get-own-property-symbols"),h=r("../internals/an-object");W.exports=v("Reflect","ownKeys")||function(x){var w=_.f(h(x)),a=f.f;return a?w.concat(a(x)):w}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],105:[function(r,W,S){r=r("../internals/global"),W.exports=r},{"../internals/global":60}],106:[function(r,W,S){W.exports=function(v){try{return{error:!1,value:v()}}catch(_){return{error:!0,value:_}}}},{}],107:[function(r,W,S){var v=r("../internals/an-object"),_=r("../internals/is-object"),f=r("../internals/new-promise-capability");W.exports=function(h,x){return v(h),_(x)&&x.constructor===h?x:((0,(h=f.f(h)).resolve)(x),h.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],108:[function(r,W,S){var v=r("../internals/redefine");W.exports=function(_,f,h){for(var x in f)v(_,x,f[x],h);return _}},{"../internals/redefine":109}],109:[function(w,W,S){var v=w("../internals/global"),_=w("../internals/create-non-enumerable-property"),f=w("../internals/has"),h=w("../internals/set-global"),x=w("../internals/inspect-source"),a=(w=w("../internals/internal-state")).get,l=w.enforce,d=String(String).split("String");(W.exports=function(u,c,s,O){var p=!!O&&!!O.unsafe,y=!!O&&!!O.enumerable;O=!!O&&!!O.noTargetGet,"function"==typeof s&&("string"!=typeof c||f(s,"name")||_(s,"name",c),l(s).source=d.join("string"==typeof c?c:"")),u===v?y?u[c]=s:h(c,s):(p?!O&&u[c]&&(y=!0):delete u[c],y?u[c]=s:_(u,c,s))})(Function.prototype,"toString",function(){return"function"==typeof this&&a(this).source||x(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":116}],110:[function(r,W,S){var v=r("./classof-raw"),_=r("./regexp-exec");W.exports=function(f,h){var x=f.exec;if("function"==typeof x){if("object"!=typeof(x=x.call(f,h)))throw TypeError("RegExp exec method returned something other than an Object or null");return x}if("RegExp"!==v(f))throw TypeError("RegExp#exec called on incompatible receiver");return _.call(f,h)}},{"./classof-raw":28,"./regexp-exec":111}],111:[function(h,W,S){"use strict";var v,_,f=h("./regexp-flags"),x=(h=h("./regexp-sticky-helpers"),RegExp.prototype.exec),w=String.prototype.replace,a=x,l=(_=/b*/g,x.call(v=/a/,"a"),x.call(_,"a"),0!==v.lastIndex||0!==_.lastIndex),d=h.UNSUPPORTED_Y||h.BROKEN_CARET,u=void 0!==/()??/.exec("")[1];W.exports=a=l||u||d?function(c){var s,m,p,y,O=this,$=d&&O.sticky,N=f.call(O),P=O.source,j=0,V=c;return $&&(-1===(N=N.replace("y","")).indexOf("g")&&(N+="g"),V=String(c).slice(O.lastIndex),0<O.lastIndex&&(!O.multiline||O.multiline&&"\n"!==c[O.lastIndex-1])&&(P="(?: "+P+")",V=" "+V,j++),m=new RegExp("^(?:"+P+")",N)),u&&(m=new RegExp("^"+P+"$(?!\\s)",N)),l&&(s=O.lastIndex),p=x.call($?m:O,V),$?p?(p.input=p.input.slice(j),p[0]=p[0].slice(j),p.index=O.lastIndex,O.lastIndex+=p[0].length):O.lastIndex=0:l&&p&&(O.lastIndex=O.global?p.index+p[0].length:s),u&&p&&1<p.length&&w.call(p[0],m,function(){for(y=1;y<arguments.length-2;y++)void 0===arguments[y]&&(p[y]=void 0)}),p}:a},{"./regexp-flags":112,"./regexp-sticky-helpers":113}],112:[function(r,W,S){"use strict";var v=r("../internals/an-object");W.exports=function(){var _=v(this),f="";return _.global&&(f+="g"),_.ignoreCase&&(f+="i"),_.multiline&&(f+="m"),_.dotAll&&(f+="s"),_.unicode&&(f+="u"),_.sticky&&(f+="y"),f}},{"../internals/an-object":10}],113:[function(r,W,S){"use strict";function v(_,f){return RegExp(_,f)}r=r("./fails"),S.UNSUPPORTED_Y=r(function(){var _=v("a","y");return _.lastIndex=2,null!=_.exec("abcd")}),S.BROKEN_CARET=r(function(){var _=v("^r","gy");return _.lastIndex=2,null!=_.exec("str")})},{"./fails":51}],114:[function(r,W,S){W.exports=function(v){if(null==v)throw TypeError("Can't call method on "+v);return v}},{}],115:[function(r,W,S){W.exports=Object.is||function(v,_){return v===_?0!==v||1/v==1/_:v!=v&&_!=_}},{}],116:[function(r,W,S){var v=r("../internals/global"),_=r("../internals/create-non-enumerable-property");W.exports=function(f,h){try{_(v,f,h)}catch{v[f]=h}return h}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],117:[function(r,W,S){"use strict";var v=r("../internals/get-built-in"),_=r("../internals/object-define-property"),f=r("../internals/well-known-symbol"),h=r("../internals/descriptors"),x=f("species");W.exports=function(a){a=v(a),h&&a&&!a[x]&&(0,_.f)(a,x,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],118:[function(r,W,S){var v=r("../internals/object-define-property").f,_=r("../internals/has"),f=r("../internals/well-known-symbol")("toStringTag");W.exports=function(h,x,w){h&&!_(h=w?h:h.prototype,f)&&v(h,f,{configurable:!0,value:x})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],119:[function(r,W,S){var v=r("../internals/shared"),_=r("../internals/uid"),f=v("keys");W.exports=function(h){return f[h]||(f[h]=_(h))}},{"../internals/shared":121,"../internals/uid":146}],120:[function(v,W,S){var f=v("../internals/global"),_=(v=v("../internals/set-global"),"__core-js_shared__");f=f[_]||v(_,{}),W.exports=f},{"../internals/global":60,"../internals/set-global":116}],121:[function(r,W,S){var v=r("../internals/is-pure"),_=r("../internals/shared-store");(W.exports=function(f,h){return _[f]||(_[f]=void 0!==h?h:{})})("versions",[]).push({version:"3.6.5",mode:v?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":120}],122:[function(r,W,S){var v=r("../internals/an-object"),_=r("../internals/a-function"),f=r("../internals/well-known-symbol")("species");W.exports=function(w,x){return void 0===(w=v(w).constructor)||null==(w=v(w)[f])?x:_(w)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":149}],123:[function(r,W,S){var v=r("../internals/fails");W.exports=function(_){return v(function(){var f=""[_]('"');return f!==f.toLowerCase()||3<f.split('"').length})}},{"../internals/fails":51}],124:[function(r,W,S){function v(h){return function(l,d){l=String(f(l)),d=_(d);var a,u=l.length;return d<0||u<=d?h?"":void 0:(a=l.charCodeAt(d))<55296||56319<a||d+1===u||(u=l.charCodeAt(d+1))<56320||57343<u?h?l.charAt(d):a:h?l.slice(d,d+2):u-56320+(a-55296<<10)+65536}}var _=r("../internals/to-integer"),f=r("../internals/require-object-coercible");W.exports={codeAt:v(!1),charAt:v(!0)}},{"../internals/require-object-coercible":114,"../internals/to-integer":136}],125:[function(r,W,S){r=r("../internals/engine-user-agent"),W.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},{"../internals/engine-user-agent":47}],126:[function(r,W,S){function v(w){return function(u,m,s){var c=(u=String(h(u))).length;return s=void 0===s?" ":String(s),(m=_(m))<=c||""==s?u:((c=f.call(s,x((m-=c)/s.length))).length>m&&(c=c.slice(0,m)),w?u+c:c+u)}}var _=r("../internals/to-length"),f=r("../internals/string-repeat"),h=r("../internals/require-object-coercible"),x=Math.ceil;W.exports={start:v(!1),end:v(!0)}},{"../internals/require-object-coercible":114,"../internals/string-repeat":128,"../internals/to-length":137}],127:[function(r,W,S){"use strict";function v(p){return p+22+75*(p<26)}function _(p){var y,O=[],$=(p=function(ne){for(var de=[],De=0,Y=ne.length;De<Y;){var R,se=ne.charCodeAt(De++);55296<=se&&se<=56319&&De<Y?56320==(64512&(R=ne.charCodeAt(De++)))?de.push(((1023&se)<<10)+(1023&R)+65536):(de.push(se),De--):de.push(se)}return de}(p)).length,N=128,P=0,j=72;for(T=0;T<p.length;T++)(y=p[T])<128&&O.push(m(y));var V=O.length,k=V;for(V&&O.push("-");k<$;){for(var E=f,T=0;T<p.length;T++)N<=(y=p[T])&&y<E&&(E=y);var H=k+1;if(E-N>s((f-P)/H))throw RangeError(u);for(P+=(E-N)*H,N=E,T=0;T<p.length;T++){if((y=p[T])<N&&++P>f)throw RangeError(u);if(y==N){for(var X=P,z=h;;z+=h){var te=z<=j?1:j+x<=z?x:z-j;if(X<te)break;var J=X-te,q=h-te;O.push(m(v(te+J%q))),X=s(J/q)}O.push(m(v(X))),j=function(ne,de,De){var Y=0;for(ne=De?s(ne/a):ne>>1,ne+=s(ne/de);c*x>>1<ne;Y+=h)ne=s(ne/c);return s(Y+(c+1)*ne/(ne+w))}(P,H,k==V),P=0,++k}}++P,++N}return O.join("")}var f=2147483647,h=36,x=26,w=38,a=700,l=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,u="Overflow: input needs wider integers to process",c=h-1,s=Math.floor,m=String.fromCharCode;W.exports=function(p){for(var y,O=[],$=p.toLowerCase().replace(d,".").split("."),N=0;N<$.length;N++)O.push(l.test(y=$[N])?"xn--"+_(y):y);return O.join(".")}},{}],128:[function(r,W,S){"use strict";var v=r("../internals/to-integer"),_=r("../internals/require-object-coercible");W.exports="".repeat||function(f){var h=String(_(this)),x="",w=v(f);if(w<0||w==1/0)throw RangeError("Wrong number of repetitions");for(;0<w;(w>>>=1)&&(h+=h))1&w&&(x+=h);return x}},{"../internals/require-object-coercible":114,"../internals/to-integer":136}],129:[function(r,W,S){var v=r("../internals/fails"),_=r("../internals/whitespaces");W.exports=function(f){return v(function(){return!!_[f]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[f]()||_[f].name!==f})}},{"../internals/fails":51,"../internals/whitespaces":150}],130:[function(f,W,S){function v(w){return function(a){return a=String(_(a)),1&w&&(a=a.replace(h,"")),2&w?a.replace(x,""):a}}var _=f("../internals/require-object-coercible"),h=(f="["+f("../internals/whitespaces")+"]",RegExp("^"+f+f+"*")),x=RegExp(f+f+"*$");W.exports={start:v(1),end:v(2),trim:v(3)}},{"../internals/require-object-coercible":114,"../internals/whitespaces":150}],131:[function(c,W,S){function v(k){return function(){V(k)}}function _(k){V(k.data)}function f(k){x.postMessage(k+"",s.protocol+"//"+s.host)}var h,x=c("../internals/global"),w=c("../internals/fails"),a=c("../internals/classof-raw"),l=c("../internals/function-bind-context"),d=c("../internals/html"),u=c("../internals/document-create-element"),s=(c=c("../internals/engine-is-ios"),x.location),m=x.setImmediate,p=x.clearImmediate,y=x.process,O=x.MessageChannel,$=x.Dispatch,N=0,P={},j="onreadystatechange",V=function(k){var E;P.hasOwnProperty(k)&&(E=P[k],delete P[k],E())};m&&p||(m=function(k){for(var E=[],T=1;T<arguments.length;)E.push(arguments[T++]);return P[++N]=function(){("function"==typeof k?k:Function(k)).apply(void 0,E)},h(N),N},p=function(k){delete P[k]},"process"==a(y)?h=function(k){y.nextTick(v(k))}:$&&$.now?h=function(k){$.now(v(k))}:O&&!c?(c=(a=new O).port2,a.port1.onmessage=_,h=l(c.postMessage,c,1)):!x.addEventListener||"function"!=typeof postMessage||x.importScripts||w(f)||"file:"===s.protocol?h=j in u("script")?function(k){d.appendChild(u("script"))[j]=function(){d.removeChild(this),V(k)}}:function(k){setTimeout(v(k),0)}:(h=f,x.addEventListener("message",_,!1))),W.exports={set:m,clear:p}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],132:[function(r,W,S){var v=r("../internals/classof-raw");W.exports=function(_){if("number"!=typeof _&&"Number"!=v(_))throw TypeError("Incorrect invocation");return+_}},{"../internals/classof-raw":28}],133:[function(r,W,S){var v=r("../internals/to-integer"),_=Math.max,f=Math.min;W.exports=function(h,x){return(h=v(h))<0?_(h+x,0):f(h,x)}},{"../internals/to-integer":136}],134:[function(r,W,S){var v=r("../internals/to-integer"),_=r("../internals/to-length");W.exports=function(h){if(void 0===h)return 0;h=v(h);var x=_(h);if(h!==x)throw RangeError("Wrong length or index");return x}},{"../internals/to-integer":136,"../internals/to-length":137}],135:[function(r,W,S){var v=r("../internals/indexed-object"),_=r("../internals/require-object-coercible");W.exports=function(f){return v(_(f))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":114}],136:[function(r,W,S){var v=Math.ceil,_=Math.floor;W.exports=function(f){return isNaN(f=+f)?0:(0<f?_:v)(f)}},{}],137:[function(r,W,S){var v=r("../internals/to-integer"),_=Math.min;W.exports=function(f){return 0<f?_(v(f),9007199254740991):0}},{"../internals/to-integer":136}],138:[function(r,W,S){var v=r("../internals/require-object-coercible");W.exports=function(_){return Object(v(_))}},{"../internals/require-object-coercible":114}],139:[function(r,W,S){var v=r("../internals/to-positive-integer");W.exports=function(_,f){if((_=v(_))%f)throw RangeError("Wrong offset");return _}},{"../internals/to-positive-integer":140}],140:[function(r,W,S){var v=r("../internals/to-integer");W.exports=function(_){if((_=v(_))<0)throw RangeError("The argument can't be less than 0");return _}},{"../internals/to-integer":136}],141:[function(r,W,S){var v=r("../internals/is-object");W.exports=function(_,f){if(!v(_))return _;var h,x;if(f&&"function"==typeof(h=_.toString)&&!v(x=h.call(_))||"function"==typeof(h=_.valueOf)&&!v(x=h.call(_))||!f&&"function"==typeof(h=_.toString)&&!v(x=h.call(_)))return x;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],142:[function(r,W,S){var v={};v[r("../internals/well-known-symbol")("toStringTag")]="z",W.exports="[object z]"===String(v)},{"../internals/well-known-symbol":149}],143:[function(r,W,S){"use strict";function v(ht,ft){for(var kt=0,qt=ft.length,Lt=new(Oe(ht))(qt);kt<qt;)Lt[kt]=ft[kt++];return Lt}function _(ht,ft){R(ht,ft,{get:function(){return De(this)[ft]}})}function f(ht){return ht instanceof Ne||"ArrayBuffer"==(ht=V(ht))||"SharedArrayBuffer"==ht}function h(ht,ft){return Ze(ht)&&"symbol"!=typeof ft&&ft in ht&&String(+ft)==String(ft)}function x(ht,ft){return h(ht,ft=P(ft,!0))?p(2,ht[ft]):se(ht,ft)}function w(ht,ft,kt){return!(h(ht,ft=P(ft,!0))&&k(kt)&&j(kt,"value"))||j(kt,"get")||j(kt,"set")||kt.configurable||j(kt,"writable")&&!kt.writable||j(kt,"enumerable")&&!kt.enumerable?R(ht,ft,kt):(ht[ft]=kt.value,ht)}var a=r("../internals/export"),l=r("../internals/global"),d=r("../internals/descriptors"),u=r("../internals/typed-array-constructors-require-wrappers"),c=r("../internals/array-buffer-view-core"),s=r("../internals/array-buffer"),m=r("../internals/an-instance"),p=r("../internals/create-property-descriptor"),y=r("../internals/create-non-enumerable-property"),O=r("../internals/to-length"),$=r("../internals/to-index"),N=r("../internals/to-offset"),P=r("../internals/to-primitive"),j=r("../internals/has"),V=r("../internals/classof"),k=r("../internals/is-object"),E=r("../internals/object-create"),T=r("../internals/object-set-prototype-of"),H=r("../internals/object-get-own-property-names").f,X=r("../internals/typed-array-from"),z=r("../internals/array-iteration").forEach,te=r("../internals/set-species"),J=r("../internals/object-define-property"),q=r("../internals/object-get-own-property-descriptor"),ne=r("../internals/internal-state"),de=r("../internals/inherit-if-required"),De=ne.get,Y=ne.set,R=J.f,se=q.f,pe=Math.round,Ee=l.RangeError,Ne=s.ArrayBuffer,We=s.DataView,et=c.NATIVE_ARRAY_BUFFER_VIEWS,Ae=c.TYPED_ARRAY_TAG,Be=c.TypedArray,Fe=c.TypedArrayPrototype,Oe=c.aTypedArrayConstructor,Ze=c.isTypedArray,Qe="BYTES_PER_ELEMENT",vt="Wrong length";d?(et||(q.f=x,J.f=w,_(Fe,"buffer"),_(Fe,"byteOffset"),_(Fe,"byteLength"),_(Fe,"length")),a({target:"Object",stat:!0,forced:!et},{getOwnPropertyDescriptor:x,defineProperty:w}),W.exports=function(bt,ft,kt){function qt(Et,Pe){R(Et,Pe,{get:function(){var Ge=this,Ie=Pe;return(Ge=De(Ge)).view[sn](Ie*Lt+Ge.byteOffset,!0)},set:function(Ge){var Ie=this,ze=Pe;Ie=De(Ie),kt&&(Ge=(Ge=pe(Ge))<0?0:255<Ge?255:255&Ge),Ie.view[Ht](ze*Lt+Ie.byteOffset,Ge,!0)},enumerable:!0})}var Lt=bt.match(/\d+$/)[0]/8,ln=bt+(kt?"Clamped":"")+"Array",sn="get"+bt,Ht="set"+bt,Tt=l[ln],Jt=Tt,zt=(bt=Jt&&Jt.prototype,{});et?u&&(Jt=ft(function(Et,Pe,Ge,Ie){return m(Et,Jt,ln),de(k(Pe)?f(Pe)?void 0!==Ie?new Tt(Pe,N(Ge,Lt),Ie):void 0!==Ge?new Tt(Pe,N(Ge,Lt)):new Tt(Pe):Ze(Pe)?v(Jt,Pe):X.call(Jt,Pe):new Tt($(Pe)),Et,Jt)}),T&&T(Jt,Be),z(H(Tt),function(Et){Et in Jt||y(Jt,Et,Tt[Et])}),Jt.prototype=bt):(Jt=ft(function(Et,Pe,Ge,Ie){m(Et,Jt,ln);var ze,wt,jt=0,Gt=0;if(k(Pe)){if(!f(Pe))return Ze(Pe)?v(Jt,Pe):X.call(Jt,Pe);var an=Pe;if(Gt=N(Ge,Lt),Ge=Pe.byteLength,void 0===Ie){if(Ge%Lt||(ze=Ge-Gt)<0)throw Ee(vt)}else if(Ge<(ze=O(Ie)*Lt)+Gt)throw Ee(vt);wt=ze/Lt}else wt=$(Pe),an=new Ne(ze=wt*Lt);for(Y(Et,{buffer:an,byteOffset:Gt,byteLength:ze,length:wt,view:new We(an)});jt<wt;)qt(Et,jt++)}),T&&T(Jt,Be),bt=Jt.prototype=E(Fe)),bt.constructor!==Jt&&y(bt,"constructor",Jt),Ae&&y(bt,Ae,ln),zt[ln]=Jt,a({global:!0,forced:Jt!=Tt,sham:!et},zt),Qe in Jt||y(Jt,Qe,Lt),Qe in bt||y(bt,Qe,Lt),te(ln)}):W.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":117,"../internals/to-index":134,"../internals/to-length":137,"../internals/to-offset":139,"../internals/to-primitive":141,"../internals/typed-array-constructors-require-wrappers":144,"../internals/typed-array-from":145}],144:[function(h,W,S){var v=h("../internals/global"),_=h("../internals/fails"),f=h("../internals/check-correctness-of-iteration"),x=(h=h("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,v.ArrayBuffer),w=v.Int8Array;W.exports=!h||!_(function(){w(1)})||!_(function(){new w(-1)})||!f(function(a){new w,new w(null),new w(1.5),new w(a)},!0)||_(function(){return 1!==new w(new x(2),1,void 0).length})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],145:[function(r,W,S){var v=r("../internals/to-object"),_=r("../internals/to-length"),f=r("../internals/get-iterator-method"),h=r("../internals/is-array-iterator-method"),x=r("../internals/function-bind-context"),w=r("../internals/array-buffer-view-core").aTypedArrayConstructor;W.exports=function(a){var l,d,u,c,s,m,p=v(a),y=arguments.length,O=1<y?arguments[1]:void 0,$=void 0!==O,N=f(p);if(null!=N&&!h(N))for(m=(s=N.call(p)).next,p=[];!(c=m.call(s)).done;)p.push(c.value);for($&&2<y&&(O=x(O,arguments[2],2)),d=_(p.length),u=new(w(this))(d),l=0;l<d;l++)u[l]=$?O(p[l],l):p[l];return u}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137,"../internals/to-object":138}],146:[function(r,W,S){var v=0,_=Math.random();W.exports=function(f){return"Symbol("+String(void 0===f?"":f)+")_"+(++v+_).toString(36)}},{}],147:[function(r,W,S){r=r("../internals/native-symbol"),W.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":84}],148:[function(r,W,S){r=r("../internals/well-known-symbol"),S.f=r},{"../internals/well-known-symbol":149}],149:[function(w,W,S){var v=w("../internals/global"),_=w("../internals/shared"),f=w("../internals/has"),h=w("../internals/uid"),x=w("../internals/native-symbol"),a=(w=w("../internals/use-symbol-as-uid"),_("wks")),l=v.Symbol,d=w?l:l&&l.withoutSetter||h;W.exports=function(u){return f(a,u)||(a[u]=x&&f(l,u)?l[u]:d("Symbol."+u)),a[u]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":121,"../internals/uid":146,"../internals/use-symbol-as-uid":147}],150:[function(r,W,S){W.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],151:[function(f,W,S){"use strict";var v=f("../internals/export"),_=f("../internals/global"),x=f("../internals/array-buffer"),h=(f=f("../internals/set-species"),"ArrayBuffer");v({global:!0,forced:_[h]!==(x=x[h])},{ArrayBuffer:x}),f(h)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":117}],152:[function(p,W,S){"use strict";var v=p("../internals/export"),_=p("../internals/fails"),f=p("../internals/is-array"),h=p("../internals/is-object"),x=p("../internals/to-object"),w=p("../internals/to-length"),a=p("../internals/create-property"),l=p("../internals/array-species-create"),d=p("../internals/array-method-has-species-support"),m=p("../internals/well-known-symbol"),u=(p=p("../internals/engine-v8-version"),m("isConcatSpreadable")),c=9007199254740991,s="Maximum allowed index exceeded";m=51<=p||!_(function(){var y=[];return y[u]=!1,y.concat()[0]!==y}),p=d("concat"),v({target:"Array",proto:!0,forced:!m||!p},{concat:function(y){for(var O,$,N,P,j,V=x(this),k=l(V,0),E=0,T=-1,H=arguments.length;T<H;T++)if(j=void 0,h(P=N=-1===T?V:arguments[T])&&(void 0!==(j=P[u])?j:f(P))){if($=w(N.length),c<E+$)throw TypeError(s);for(O=0;O<$;O++,E++)O in N&&a(k,E,N[O])}else{if(c<=E)throw TypeError(s);a(k,E++,N)}return k.length=E,k}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":137,"../internals/to-object":138,"../internals/well-known-symbol":149}],153:[function(f,W,S){var v=f("../internals/export"),_=f("../internals/array-copy-within");f=f("../internals/add-to-unscopables"),v({target:"Array",proto:!0},{copyWithin:_}),f("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],154:[function(h,W,S){"use strict";var v=h("../internals/export"),_=h("../internals/array-iteration").every,f=h("../internals/array-method-is-strict");h=h("../internals/array-method-uses-to-length"),f=f("every"),h=h("every"),v({target:"Array",proto:!0,forced:!f||!h},{every:function(x){return _(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],155:[function(f,W,S){var v=f("../internals/export"),_=f("../internals/array-fill");f=f("../internals/add-to-unscopables"),v({target:"Array",proto:!0},{fill:_}),f("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],156:[function(h,W,S){"use strict";var v=h("../internals/export"),_=h("../internals/array-iteration").filter,f=h("../internals/array-method-has-species-support");h=h("../internals/array-method-uses-to-length"),f=f("filter"),h=h("filter"),v({target:"Array",proto:!0,forced:!f||!h},{filter:function(x){return _(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(w,W,S){"use strict";var v=w("../internals/export"),_=w("../internals/array-iteration").findIndex,f=w("../internals/add-to-unscopables"),h=(w=w("../internals/array-method-uses-to-length"),"findIndex"),x=!0;w=w(h),h in[]&&Array(1)[h](function(){x=!1}),v({target:"Array",proto:!0,forced:x||!w},{findIndex:function(a){return _(this,a,1<arguments.length?arguments[1]:void 0)}}),f(h)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(r,W,S){"use strict";var v=r("../internals/export"),_=r("../internals/flatten-into-array"),f=r("../internals/to-object"),h=r("../internals/to-length"),x=r("../internals/a-function"),w=r("../internals/array-species-create");v({target:"Array",proto:!0},{flatMap:function(a){var l,d=f(this),u=h(d.length);return x(a),(l=w(d,0)).length=_(l,d,d,u,0,1,a,1<arguments.length?arguments[1]:void 0),l}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":137,"../internals/to-object":138}],159:[function(r,W,S){"use strict";var v=r("../internals/export"),_=r("../internals/flatten-into-array"),f=r("../internals/to-object"),h=r("../internals/to-length"),x=r("../internals/to-integer"),w=r("../internals/array-species-create");v({target:"Array",proto:!0},{flat:function(){var a=arguments.length?arguments[0]:void 0,l=f(this),d=h(l.length),u=w(l,0);return u.length=_(u,l,l,d,0,void 0===a?1:x(a)),u}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],160:[function(_,W,S){"use strict";var v=_("../internals/export");_=_("../internals/array-for-each"),v({target:"Array",proto:!0,forced:[].forEach!=_},{forEach:_})},{"../internals/array-for-each":16,"../internals/export":50}],161:[function(r,W,S){var v=r("../internals/export"),_=r("../internals/array-from");v({target:"Array",stat:!0,forced:!r("../internals/check-correctness-of-iteration")(function(f){Array.from(f)})},{from:_})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],162:[function(r,W,S){"use strict";var v=r("../internals/export"),_=r("../internals/array-includes").includes,f=r("../internals/add-to-unscopables");v({target:"Array",proto:!0,forced:!r("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(h){return _(this,h,1<arguments.length?arguments[1]:void 0)}}),f("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],163:[function(w,W,S){"use strict";var v=w("../internals/export"),_=w("../internals/array-includes").indexOf,x=w("../internals/array-method-is-strict"),f=(w=w("../internals/array-method-uses-to-length"),[].indexOf),h=!!f&&1/[1].indexOf(1,-0)<0;x=x("indexOf"),w=w("indexOf",{ACCESSORS:!0,1:0}),v({target:"Array",proto:!0,forced:h||!x||!w},{indexOf:function(a){return h?f.apply(this,arguments)||0:_(this,a,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(x,W,S){"use strict";var v=x("../internals/to-indexed-object"),_=x("../internals/add-to-unscopables"),f=x("../internals/iterators"),h=x("../internals/internal-state"),w=(x=x("../internals/define-iterator"),"Array Iterator"),a=h.set,l=h.getterFor(w);W.exports=x(Array,"Array",function(d,u){a(this,{type:w,target:v(d),index:0,kind:u})},function(){var d=l(this),u=d.target,c=d.kind,s=d.index++;return!u||s>=u.length?{value:d.target=void 0,done:!0}:"keys"==c?{value:s,done:!1}:"values"==c?{value:u[s],done:!1}:{value:[s,u[s]],done:!1}},"values"),f.Arguments=f.Array,_("keys"),_("values"),_("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":135}],165:[function(x,W,S){"use strict";var v=x("../internals/export"),h=x("../internals/indexed-object"),_=x("../internals/to-indexed-object"),f=(x=x("../internals/array-method-is-strict"),[].join);h=h!=Object,x=x("join",","),v({target:"Array",proto:!0,forced:h||!x},{join:function(w){return f.call(_(this),void 0===w?",":w)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":135}],166:[function(_,W,S){_("../internals/export")({target:"Array",proto:!0,forced:(_=_("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:_})},{"../internals/array-last-index-of":20,"../internals/export":50}],167:[function(h,W,S){"use strict";var v=h("../internals/export"),_=h("../internals/array-iteration").map,f=h("../internals/array-method-has-species-support");h=h("../internals/array-method-uses-to-length"),f=f("map"),h=h("map"),v({target:"Array",proto:!0,forced:!f||!h},{map:function(x){return _(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],168:[function(u,W,S){"use strict";var v=u("../internals/export"),_=u("../internals/is-object"),f=u("../internals/is-array"),h=u("../internals/to-absolute-index"),x=u("../internals/to-length"),w=u("../internals/to-indexed-object"),a=u("../internals/create-property"),l=u("../internals/well-known-symbol"),d=u("../internals/array-method-has-species-support"),c=(u=u("../internals/array-method-uses-to-length"),d=d("slice"),u=u("slice",{ACCESSORS:!0,0:0,1:2}),l("species")),s=[].slice,m=Math.max;v({target:"Array",proto:!0,forced:!d||!u},{slice:function(p,y){var O,$,N,P=w(this),j=x(P.length),V=h(p,j),k=h(void 0===y?j:y,j);if(f(P)&&((O="function"==typeof(O=P.constructor)&&(O===Array||f(O.prototype))||_(O)&&null===(O=O[c])?void 0:O)===Array||void 0===O))return s.call(P,V,k);for($=new(void 0===O?Array:O)(m(k-V,0)),N=0;V<k;V++,N++)V in P&&a($,N,P[V]);return $.length=N,$}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":133,"../internals/to-indexed-object":135,"../internals/to-length":137,"../internals/well-known-symbol":149}],169:[function(h,W,S){"use strict";var v=h("../internals/export"),_=h("../internals/array-iteration").some,f=h("../internals/array-method-is-strict");h=h("../internals/array-method-uses-to-length"),f=f("some"),h=h("some"),v({target:"Array",proto:!0,forced:!f||!h},{some:function(x){return _(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],170:[function(d,W,S){"use strict";var v=d("../internals/export"),_=d("../internals/to-absolute-index"),f=d("../internals/to-integer"),h=d("../internals/to-length"),x=d("../internals/to-object"),w=d("../internals/array-species-create"),a=d("../internals/create-property"),l=d("../internals/array-method-has-species-support"),u=(d=d("../internals/array-method-uses-to-length"),l=l("splice"),d=d("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),c=Math.min;v({target:"Array",proto:!0,forced:!l||!d},{splice:function(E,m){var p,y,O,$,N,P,j=x(this),V=h(j.length),k=_(E,V);if(0===(E=arguments.length)?p=y=0:y=1===E?(p=0,V-k):(p=E-2,c(u(f(m),0),V-k)),9007199254740991<V+p-y)throw TypeError("Maximum allowed length exceeded");for(O=w(j,y),$=0;$<y;$++)(N=k+$)in j&&a(O,$,j[N]);if(p<(O.length=y)){for($=k;$<V-y;$++)P=$+p,(N=$+y)in j?j[P]=j[N]:delete j[P];for($=V;V-y+p<$;$--)delete j[$-1]}else if(y<p)for($=V-y;k<$;$--)P=$+p-1,(N=$+y-1)in j?j[P]=j[N]:delete j[P];for($=0;$<p;$++)j[$+k]=arguments[$+2];return j.length=V-y+p,O}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":133,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],171:[function(r,W,S){r("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],172:[function(r,W,S){r("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],173:[function(_,W,S){var v=_("../internals/descriptors"),f=(_=_("../internals/object-define-property").f,Function.prototype),h=f.toString,x=/^\s*function ([^ (]*)/;!v||"name"in f||_(f,"name",{configurable:!0,get:function(){try{return h.call(this).match(x)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],174:[function(_,W,S){"use strict";var v=_("../internals/collection");_=_("../internals/collection-strong"),W.exports=v("Map",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},_)},{"../internals/collection":32,"../internals/collection-strong":30}],175:[function(v,W,S){v=v("../internals/export");var _=Math.hypot,f=Math.abs,h=Math.sqrt;v({target:"Math",stat:!0,forced:!!_&&_(1/0,NaN)!==1/0},{hypot:function(x,w){for(var a,l,d=0,u=0,c=arguments.length,s=0;u<c;)s<(a=f(arguments[u++]))?(d=d*(l=s/a)*l+1,s=a):d+=0<a?(l=a/s)*l:a;return s===1/0?1/0:s*h(d)}})},{"../internals/export":50}],176:[function(v,W,S){v=v("../internals/export");var _=Math.log,f=Math.LN2;v({target:"Math",stat:!0},{log2:function(h){return _(h)/f}})},{"../internals/export":50}],177:[function(r,W,S){r("../internals/export")({target:"Math",stat:!0},{sign:r("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],178:[function(r,W,S){"use strict";function v(T){var H,X,z,te,J,q,ne,de=d(T,!1);if("string"==typeof de&&2<de.length)if(43===(T=(de=y(de)).charCodeAt(0))||45===T){if(88===(H=de.charCodeAt(2))||120===H)return NaN}else if(48===T){switch(de.charCodeAt(1)){case 66:case 98:X=2,z=49;break;case 79:case 111:X=8,z=55;break;default:return+de}for(J=(te=de.slice(2)).length,q=0;q<J;q++)if((ne=te.charCodeAt(q))<48||z<ne)return NaN;return parseInt(te,X)}return+de}var _=r("../internals/descriptors"),f=r("../internals/global"),h=r("../internals/is-forced"),x=r("../internals/redefine"),w=r("../internals/has"),a=r("../internals/classof-raw"),l=r("../internals/inherit-if-required"),d=r("../internals/to-primitive"),u=r("../internals/fails"),c=r("../internals/object-create"),s=r("../internals/object-get-own-property-names").f,m=r("../internals/object-get-own-property-descriptor").f,p=r("../internals/object-define-property").f,y=r("../internals/string-trim").trim,O="Number",$=f[O],N=$.prototype,P=a(c(N))==O;if(h(O,!$(" 0o1")||!$("0b1")||$("+0x1"))){for(var j,V=function(H){H=arguments.length<1?0:H;var X=this;return X instanceof V&&(P?u(function(){N.valueOf.call(X)}):a(X)!=O)?l(new $(v(H)),X,V):v(H)},k=_?s($):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;k.length>E;E++)w($,j=k[E])&&!w(V,j)&&p(V,j,m($,j));(V.prototype=N).constructor=V,x(f,O,V)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":109,"../internals/string-trim":130,"../internals/to-primitive":141}],179:[function(r,W,S){r("../internals/export")({target:"Number",stat:!0},{isFinite:r("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],180:[function(w,W,S){"use strict";function v(d,u,c){return 0===u?c:u%2==1?v(d,u-1,c*d):v(d*d,u/2,c)}var _=w("../internals/export"),f=w("../internals/to-integer"),h=w("../internals/this-number-value"),x=w("../internals/string-repeat"),a=(w=w("../internals/fails"),1..toFixed),l=Math.floor;_({target:"Number",proto:!0,forced:a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!w(function(){a.call({})})},{toFixed:function(O){function u(j,V){for(var k=-1,E=V;++k<6;)$[k]=(E+=j*$[k])%1e7,E=l(E/1e7)}function c(j){for(var V=6,k=0;0<=--V;)$[V]=l((k+=$[V])/j),k=k%j*1e7}function s(){for(var j,V=6,k="";0<=--V;)""===k&&0!==V&&0===$[V]||(j=String($[V]),k=""===k?j:k+x.call("0",7-j.length)+j);return k}var m,p,y=h(this),$=(O=f(O),[0,0,0,0,0,0]),N="",P="0";if(O<0||20<O)throw RangeError("Incorrect fraction digits");if(y!=y)return"NaN";if(y<=-1e21||1e21<=y)return String(y);if(y<0&&(N="-",y=-y),1e-21<y)if(y=(m=function(j){for(var V=0,k=j;4096<=k;)V+=12,k/=4096;for(;2<=k;)V+=1,k/=2;return V}(y*v(2,69,1))-69)<0?y*v(2,-m,1):y/v(2,m,1),y*=4503599627370496,0<(m=52-m)){for(u(0,y),p=O;7<=p;)u(1e7,0),p-=7;for(u(v(10,p,1),0),p=m-1;23<=p;)c(1<<23),p-=23;c(1<<p),u(1,1),c(2),P=s()}else u(0,y),u(1<<-m,0),P=s()+x.call("0",O);return 0<O?N+((y=P.length)<=O?"0."+x.call("0",O-y)+P:P.slice(0,y-O)+"."+P.slice(y-O)):N+P}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":128,"../internals/this-number-value":132,"../internals/to-integer":136}],181:[function(_,W,S){var v=_("../internals/export");_=_("../internals/object-assign"),v({target:"Object",stat:!0,forced:Object.assign!==_},{assign:_})},{"../internals/export":50,"../internals/object-assign":90}],182:[function(r,W,S){var v=r("../internals/export"),_=r("../internals/iterate"),f=r("../internals/create-property");v({target:"Object",stat:!0},{fromEntries:function(h){var x={};return _(h,function(w,a){f(x,w,a)},void 0,!0),x}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],183:[function(h,W,S){var v=h("../internals/export"),x=h("../internals/fails"),_=h("../internals/to-indexed-object"),f=h("../internals/object-get-own-property-descriptor").f;h=h("../internals/descriptors"),x=x(function(){f(1)}),v({target:"Object",stat:!0,forced:!h||x,sham:!h},{getOwnPropertyDescriptor:function(w,a){return f(_(w),a)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":135}],184:[function(f,W,S){var v=f("../internals/export"),_=f("../internals/fails");f=f("../internals/object-get-own-property-names-external").f,v({target:"Object",stat:!0,forced:_(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:f})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],185:[function(x,W,S){var v=x("../internals/export"),_=x("../internals/fails"),f=x("../internals/to-object"),h=x("../internals/object-get-prototype-of");x=x("../internals/correct-prototype-getter"),v({target:"Object",stat:!0,forced:_(function(){h(1)}),sham:!x},{getPrototypeOf:function(w){return h(f(w))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":138}],186:[function(r,W,S){var v=r("../internals/export"),_=r("../internals/to-object"),f=r("../internals/object-keys");v({target:"Object",stat:!0,forced:r("../internals/fails")(function(){f(1)})},{keys:function(h){return f(_(h))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":138}],187:[function(f,W,S){var v=f("../internals/to-string-tag-support"),_=f("../internals/redefine");f=f("../internals/object-to-string"),v||_(Object.prototype,"toString",f,{unsafe:!0})},{"../internals/object-to-string":103,"../internals/redefine":109,"../internals/to-string-tag-support":142}],188:[function(kt,W,S){"use strict";var v,_,f,h,x=kt("../internals/export"),w=kt("../internals/is-pure"),a=kt("../internals/global"),l=kt("../internals/get-built-in"),d=kt("../internals/native-promise-constructor"),u=kt("../internals/redefine"),c=kt("../internals/redefine-all"),s=kt("../internals/set-to-string-tag"),m=kt("../internals/set-species"),p=kt("../internals/is-object"),y=kt("../internals/a-function"),O=kt("../internals/an-instance"),$=kt("../internals/classof-raw"),N=kt("../internals/inspect-source"),P=kt("../internals/iterate"),j=kt("../internals/check-correctness-of-iteration"),V=kt("../internals/species-constructor"),k=kt("../internals/task").set,E=kt("../internals/microtask"),T=kt("../internals/promise-resolve"),H=kt("../internals/host-report-errors"),X=kt("../internals/new-promise-capability"),z=kt("../internals/perform"),te=kt("../internals/internal-state"),J=kt("../internals/is-forced"),qt=kt("../internals/well-known-symbol"),q=kt("../internals/engine-v8-version"),ne=qt("species"),de="Promise",De=te.get,Y=te.set,R=te.getterFor(de),se=d,pe=a.TypeError,Ee=a.document,Ne=a.process,We=l("fetch"),et=X.f,Ae=et,Be="process"==$(Ne),Fe=!!(Ee&&Ee.createEvent&&a.dispatchEvent),Oe="unhandledrejection",Lt=(qt=(kt=J(de,function(){var zt,Et;return N(se)===String(se)&&(66===q||!Be&&"function"!=typeof PromiseRejectionEvent)||!((!w||se.prototype.finally)&&(51<=q&&/native code/.test(se)||(Et=function(Pe){Pe(function(){},function(){})},((zt=se.resolve(1)).constructor={})[ne]=Et,zt.then(function(){})instanceof Et)))}))||!j(function(zt){se.all(zt).catch(function(){})}),function(zt){var Et;return!(!p(zt)||"function"!=typeof(Et=zt.then))&&Et}),ln=function(zt,Et,Pe){var Ge;Et.notified||(Et.notified=!0,Ge=Et.reactions,E(function(){for(var Ie,ze,wt=Et.value,jt=1==Et.state,Gt=0;Ge.length>Gt;){var an,_n,wn,Dt=Ge[Gt++],xt=jt?Dt.ok:Dt.fail,ot=Dt.resolve,Ye=Dt.reject,ct=Dt.domain;try{xt?(jt||(2===Et.rejection&&function(Ct,rn){k.call(a,function(){Be?Ne.emit("rejectionHandled",Ct):sn("rejectionhandled",Ct,rn.value)})}(zt,Et),Et.rejection=1),!0===xt?an=wt:(ct&&ct.enter(),an=xt(wt),ct&&(ct.exit(),wn=!0)),an===Dt.promise?Ye(pe("Promise-chain cycle")):(_n=Lt(an))?_n.call(an,ot,Ye):ot(an)):Ye(wt)}catch(Ct){ct&&!wn&&ct.exit(),Ye(Ct)}}Et.reactions=[],Et.notified=!1,Pe&&!Et.rejection&&(Ie=zt,ze=Et,k.call(a,function(){var Ct=ze.value,rn=Ht(ze);if(rn&&(rn=z(function(){Be?Ne.emit("unhandledRejection",Ct,Ie):sn(Oe,Ie,Ct)}),ze.rejection=Be||Ht(ze)?2:1,rn.error))throw rn.value}))}))},sn=function(zt,Et,Pe){var Ge;Fe?((Ge=Ee.createEvent("Event")).promise=Et,Ge.reason=Pe,Ge.initEvent(zt,!1,!0),a.dispatchEvent(Ge)):Ge={promise:Et,reason:Pe},(Et=a["on"+zt])?Et(Ge):zt===Oe&&H("Unhandled promise rejection",Pe)},Ht=function(zt){return 1!==zt.rejection&&!zt.parent},Tt=function(zt,Et,Pe,Ge){return function(Ie){zt(Et,Pe,Ie,Ge)}},Jt=function(zt,Et,Pe,Ge){Et.done||(Et.done=!0,(Et=Ge||Et).value=Pe,Et.state=2,ln(zt,Et,!0))},bt=function(zt,Et,Pe,Ge){if(!Et.done){Et.done=!0,Ge&&(Et=Ge);try{if(zt===Pe)throw pe("Promise can't be resolved itself");var Ie=Lt(Pe);Ie?E(function(){var ze={done:!1};try{Ie.call(Pe,Tt(bt,zt,ze,Et),Tt(Jt,zt,ze,Et))}catch(wt){Jt(zt,ze,wt,Et)}}):(Et.value=Pe,Et.state=1,ln(zt,Et,!1))}catch(ze){Jt(zt,{done:!1},ze,Et)}}};kt&&(se=function(zt){O(this,se,de),y(zt),v.call(this);var Et=De(this);try{zt(Tt(bt,this,Et),Tt(Jt,this,Et))}catch(Pe){Jt(this,Et,Pe)}},(v=function(zt){Y(this,{type:de,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=c(se.prototype,{then:function(zt,Et){var Pe=R(this),Ge=et(V(this,se));return Ge.ok="function"!=typeof zt||zt,Ge.fail="function"==typeof Et&&Et,Ge.domain=Be?Ne.domain:void 0,Pe.parent=!0,Pe.reactions.push(Ge),0!=Pe.state&&ln(this,Pe,!1),Ge.promise},catch:function(zt){return this.then(void 0,zt)}}),_=function(){var zt=new v,Et=De(zt);this.promise=zt,this.resolve=Tt(bt,zt,Et),this.reject=Tt(Jt,zt,Et)},X.f=et=function(zt){return zt===se||zt===f?new _:Ae(zt)},w||"function"!=typeof d||(h=d.prototype.then,u(d.prototype,"then",function(zt,Et){var Pe=this;return new se(function(Ge,Ie){h.call(Pe,Ge,Ie)}).then(zt,Et)},{unsafe:!0}),"function"==typeof We&&x({global:!0,enumerable:!0,forced:!0},{fetch:function(zt){return T(se,We.apply(a,arguments))}}))),x({global:!0,wrap:!0,forced:kt},{Promise:se}),s(se,de,!1,!0),m(de),f=l(de),x({target:de,stat:!0,forced:kt},{reject:function(zt){var Et=et(this);return Et.reject.call(void 0,zt),Et.promise}}),x({target:de,stat:!0,forced:w||kt},{resolve:function(zt){return T(w&&this===f?se:this,zt)}}),x({target:de,stat:!0,forced:qt},{all:function(zt){var Et=this,Pe=et(Et),Ge=Pe.resolve,Ie=Pe.reject,ze=z(function(){var wt=y(Et.resolve),jt=[],Gt=0,an=1;P(zt,function(_n){var wn=Gt++,Dt=!1;jt.push(void 0),an++,wt.call(Et,_n).then(function(xt){Dt||(Dt=!0,jt[wn]=xt,--an||Ge(jt))},Ie)}),--an||Ge(jt)});return ze.error&&Ie(ze.value),Pe.promise},race:function(zt){var Et=this,Pe=et(Et),Ge=Pe.reject,Ie=z(function(){var ze=y(Et.resolve);P(zt,function(wt){ze.call(Et,wt).then(Pe.resolve,Ge)})});return Ie.error&&Ge(Ie.value),Pe.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":106,"../internals/promise-resolve":107,"../internals/redefine":109,"../internals/redefine-all":108,"../internals/set-species":117,"../internals/set-to-string-tag":118,"../internals/species-constructor":122,"../internals/task":131,"../internals/well-known-symbol":149}],189:[function(a,W,S){var v=a("../internals/export"),c=a("../internals/get-built-in"),_=a("../internals/a-function"),f=a("../internals/an-object"),h=a("../internals/is-object"),x=a("../internals/object-create"),w=a("../internals/function-bind"),l=(a=a("../internals/fails"),c("Reflect","construct")),d=a(function(){function s(){}return!(l(function(){},[],s)instanceof s)}),u=!a(function(){l(function(){})});v({target:"Reflect",stat:!0,forced:c=d||u,sham:c},{construct:function(s,m){_(s),f(m);var p=arguments.length<3?s:_(arguments[2]);if(u&&!d)return l(s,m,p);if(s==p){switch(m.length){case 0:return new s;case 1:return new s(m[0]);case 2:return new s(m[0],m[1]);case 3:return new s(m[0],m[1],m[2]);case 4:return new s(m[0],m[1],m[2],m[3])}var y=[null];return y.push.apply(y,m),new(w.apply(s,y))}return p=x(h(y=p.prototype)?y:Object.prototype),y=Function.apply.call(s,p,m),h(y)?y:p}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],190:[function(r,W,S){var v=r("../internals/export"),_=r("../internals/is-object"),f=r("../internals/an-object"),h=r("../internals/has"),x=r("../internals/object-get-own-property-descriptor"),w=r("../internals/object-get-prototype-of");v({target:"Reflect",stat:!0},{get:function a(l,d){var u,c=arguments.length<3?l:arguments[2];return f(l)===c?l[d]:(u=x.f(l,d))?h(u,"value")?u.value:void 0===u.get?void 0:u.get.call(c):_(u=w(l))?a(u,d,c):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],191:[function(r,W,S){var v=r("../internals/descriptors"),_=r("../internals/global"),f=r("../internals/is-forced"),h=r("../internals/inherit-if-required"),x=r("../internals/object-define-property").f,w=r("../internals/object-get-own-property-names").f,a=r("../internals/is-regexp"),l=r("../internals/regexp-flags"),d=r("../internals/regexp-sticky-helpers"),u=r("../internals/redefine"),c=r("../internals/fails"),s=r("../internals/internal-state").set,m=r("../internals/set-species"),p=r("../internals/well-known-symbol")("match"),y=_.RegExp,O=y.prototype,$=/a/g,N=/a/g,P=new y($)!==$,j=d.UNSUPPORTED_Y;if(v&&f("RegExp",!P||j||c(function(){return N[p]=!1,y($)!=$||y(N)==N||"/a/i"!=y($,"i")}))){for(var V=function(T,H){var X,z=this instanceof V,te=a(T),J=void 0===H;return!z&&te&&T.constructor===V&&J?T:(P?te&&!J&&(T=T.source):T instanceof V&&(J&&(H=l.call(T)),T=T.source),j&&(X=!!H&&-1<H.indexOf("y"))&&(H=H.replace(/y/g,"")),te=h(P?new y(T,H):y(T,H),z?this:O,V),j&&X&&s(te,{sticky:X}),te)},k=w(y),E=0;k.length>E;)!function(T){T in V||x(V,T,{configurable:!0,get:function(){return y[T]},set:function(H){y[T]=H}})}(k[E++]);(O.constructor=V).prototype=O,u(_,"RegExp",V)}m("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":109,"../internals/regexp-flags":112,"../internals/regexp-sticky-helpers":113,"../internals/set-species":117,"../internals/well-known-symbol":149}],192:[function(_,W,S){"use strict";var v=_("../internals/export");_=_("../internals/regexp-exec"),v({target:"RegExp",proto:!0,forced:/./.exec!==_},{exec:_})},{"../internals/export":50,"../internals/regexp-exec":111}],193:[function(h,W,S){"use strict";var v=h("../internals/redefine"),_=h("../internals/an-object"),a=h("../internals/fails"),f=h("../internals/regexp-flags"),x=(h="toString",RegExp.prototype),w=x[h];((a=a(function(){return"/a/b"!=w.call({source:"a",flags:"b"})}))||w.name!=h)&&v(RegExp.prototype,h,function(){var d=_(this),u=String(d.source),c=d.flags;return"/"+u+"/"+String(void 0===c&&d instanceof RegExp&&!("flags"in x)?f.call(d):c)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":109,"../internals/regexp-flags":112}],194:[function(_,W,S){"use strict";var v=_("../internals/collection");_=_("../internals/collection-strong"),W.exports=v("Set",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},_)},{"../internals/collection":32,"../internals/collection-strong":30}],195:[function(w,W,S){"use strict";var v=w("../internals/export"),_=w("../internals/object-get-own-property-descriptor").f,f=w("../internals/to-length"),h=w("../internals/not-a-regexp"),x=w("../internals/require-object-coercible"),d=w("../internals/correct-is-regexp-logic"),a=(w=w("../internals/is-pure"),"".endsWith),l=Math.min;d=d("endsWith"),v({target:"String",proto:!0,forced:!(!w&&!d&&(v=_(String.prototype,"endsWith"))&&!v.writable||d)},{endsWith:function(u){var c=String(x(this)),s=(h(u),1<arguments.length?arguments[1]:void 0),m=f(c.length);return s=void 0===s?m:l(f(s),m),m=String(u),a?a.call(c,m,s):c.slice(s-m.length,s)===m}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":114,"../internals/to-length":137}],196:[function(r,W,S){"use strict";var v=r("../internals/export"),_=r("../internals/not-a-regexp"),f=r("../internals/require-object-coercible");v({target:"String",proto:!0,forced:!r("../internals/correct-is-regexp-logic")("includes")},{includes:function(h){return!!~String(f(this)).indexOf(_(h),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":114}],197:[function(f,W,S){"use strict";var v=f("../internals/string-multibyte").charAt,_=f("../internals/internal-state"),h=(f=f("../internals/define-iterator"),"String Iterator"),x=_.set,w=_.getterFor(h);f(String,"String",function(a){x(this,{type:h,string:String(a),index:0})},function(){var a=w(this),l=a.string,d=a.index;return d>=l.length?{value:void 0,done:!0}:(l=v(l,d),a.index+=l.length,{value:l,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":124}],198:[function(r,W,S){"use strict";var v=r("../internals/fix-regexp-well-known-symbol-logic"),_=r("../internals/an-object"),f=r("../internals/to-length"),h=r("../internals/require-object-coercible"),x=r("../internals/advance-string-index"),w=r("../internals/regexp-exec-abstract");v("match",1,function(a,l,d){return[function(u){var c=h(this),s=null==u?void 0:u[a];return void 0!==s?s.call(u,c):new RegExp(u)[a](String(c))},function(u){var c=d(l,u,this);if(c.done)return c.value;var s=_(u),m=String(this);if(!s.global)return w(s,m);for(var p=s.unicode,y=[],O=s.lastIndex=0;null!==($=w(s,m));){var $=String($[0]);""===(y[O]=$)&&(s.lastIndex=x(m,f(s.lastIndex),p)),O++}return 0===O?null:y}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/to-length":137}],199:[function(r,W,S){"use strict";var v=r("../internals/export"),_=r("../internals/string-pad").start;v({target:"String",proto:!0,forced:r("../internals/string-pad-webkit-bug")},{padStart:function(f){return _(this,f,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":126,"../internals/string-pad-webkit-bug":125}],200:[function(r,W,S){r("../internals/export")({target:"String",proto:!0},{repeat:r("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":128}],201:[function(r,W,S){"use strict";var v=r("../internals/fix-regexp-well-known-symbol-logic"),_=r("../internals/an-object"),f=r("../internals/to-object"),h=r("../internals/to-length"),x=r("../internals/to-integer"),w=r("../internals/require-object-coercible"),a=r("../internals/advance-string-index"),l=r("../internals/regexp-exec-abstract"),d=Math.max,u=Math.min,c=Math.floor,s=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;v("replace",2,function(p,y,O,$){var N=$.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,P=$.REPLACE_KEEPS_$0,j=N?"$":"$0";return[function(V,k){var E=w(this),T=null==V?void 0:V[p];return void 0!==T?T.call(V,E,k):y.call(String(E),V,k)},function(V,k){if(!N&&P||"string"==typeof k&&-1===k.indexOf(j)){var E=O(y,V,this,k);if(E.done)return E.value}for(var T,H=_(V),X=String(this),z="function"==typeof k,te=(z||(k=String(k)),H.global),J=(te&&(T=H.unicode,H.lastIndex=0),[]);null!==(Y=l(H,X))&&(J.push(Y),te);)""===String(Y[0])&&(H.lastIndex=a(X,h(H.lastIndex),T));for(var q,ne="",de=0,De=0;De<J.length;De++){for(var Y=J[De],R=String(Y[0]),se=d(u(x(Y.index),X.length),0),pe=[],Ee=1;Ee<Y.length;Ee++)pe.push(void 0===(q=Y[Ee])?q:String(q));var Ne=Y.groups,We=z?(We=[R].concat(pe,se,X),void 0!==Ne&&We.push(Ne),String(k.apply(void 0,We))):function(et,Ae,Be,Fe,Oe,Ze){var Qe=Be+et.length,vt=Fe.length,ht=m;return void 0!==Oe&&(Oe=f(Oe),ht=s),y.call(Ze,ht,function(ft,kt){var qt;switch(kt.charAt(0)){case"$":return"$";case"&":return et;case"`":return Ae.slice(0,Be);case"'":return Ae.slice(Qe);case"<":qt=Oe[kt.slice(1,-1)];break;default:var Lt,ln=+kt;if(0==ln)return ft;if(vt<ln)return 0!==(Lt=c(ln/10))&&Lt<=vt?void 0===Fe[Lt-1]?kt.charAt(1):Fe[Lt-1]+kt.charAt(1):ft;qt=Fe[ln-1]}return void 0===qt?"":qt})}(R,X,se,pe,Ne,k);de<=se&&(ne+=X.slice(de,se)+We,de=se+R.length)}return ne+X.slice(de)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],202:[function(r,W,S){"use strict";var v=r("../internals/fix-regexp-well-known-symbol-logic"),_=r("../internals/an-object"),f=r("../internals/require-object-coercible"),h=r("../internals/same-value"),x=r("../internals/regexp-exec-abstract");v("search",1,function(w,a,l){return[function(d){var u=f(this),c=null==d?void 0:d[w];return void 0!==c?c.call(d,u):new RegExp(d)[w](String(u))},function(d){var u,c=l(a,d,this);return c.done?c.value:(c=_(d),d=String(this),h(u=c.lastIndex,0)||(c.lastIndex=0),d=x(c,d),h(c.lastIndex,u)||(c.lastIndex=u),null===d?-1:d.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/same-value":115}],203:[function(u,W,S){"use strict";var v=u("../internals/fix-regexp-well-known-symbol-logic"),_=u("../internals/is-regexp"),f=u("../internals/an-object"),h=u("../internals/require-object-coercible"),x=u("../internals/species-constructor"),w=u("../internals/advance-string-index"),a=u("../internals/to-length"),l=u("../internals/regexp-exec-abstract"),d=u("../internals/regexp-exec"),c=(u=u("../internals/fails"),[].push),s=Math.min,m=4294967295,p=!u(function(){return!RegExp(m,"y")});v("split",2,function(y,O,$){var N="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(P,j){var V=String(h(this)),k=void 0===j?m:j>>>0;if(0==k)return[];if(void 0===P)return[V];if(!_(P))return O.call(V,P,k);for(var E,T,H,X=[],z=(j=(P.ignoreCase?"i":"")+(P.multiline?"m":"")+(P.unicode?"u":"")+(P.sticky?"y":""),0),te=new RegExp(P.source,j+"g");(E=d.call(te,V))&&!(z<(T=te.lastIndex)&&(X.push(V.slice(z,E.index)),1<E.length&&E.index<V.length&&c.apply(X,E.slice(1)),H=E[0].length,z=T,X.length>=k));)te.lastIndex===E.index&&te.lastIndex++;return z===V.length?!H&&te.test("")||X.push(""):X.push(V.slice(z)),X.length>k?X.slice(0,k):X}:"0".split(void 0,0).length?function(P,j){return void 0===P&&0===j?[]:O.call(this,P,j)}:O;return[function(P,j){var V=h(this),k=null==P?void 0:P[y];return void 0!==k?k.call(P,V,j):N.call(String(V),P,j)},function(E,j){if((V=$(N,E,this,j,N!==O)).done)return V.value;var V=f(E),k=String(this),T=(E=x(V,RegExp),V.unicode),X=new E(p?V:"^(?:"+V.source+")",(V.ignoreCase?"i":"")+(V.multiline?"m":"")+(V.unicode?"u":"")+(p?"y":"g")),z=void 0===j?m:j>>>0;if(0==z)return[];if(0===k.length)return null===l(X,k)?[k]:[];for(var te=0,J=0,q=[];J<k.length;){X.lastIndex=p?J:0;var ne,de=l(X,p?k:k.slice(J));if(null===de||(ne=s(a(X.lastIndex+(p?0:J)),k.length))===te)J=w(k,J,T);else{if(q.push(k.slice(te,J)),q.length===z)return q;for(var De=1;De<=de.length-1;De++)if(q.push(de[De]),q.length===z)return q;J=te=ne}}return q.push(k.slice(te)),q}]},!p)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":111,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/species-constructor":122,"../internals/to-length":137}],204:[function(w,W,S){"use strict";var v=w("../internals/export"),_=w("../internals/object-get-own-property-descriptor").f,f=w("../internals/to-length"),h=w("../internals/not-a-regexp"),x=w("../internals/require-object-coercible"),d=w("../internals/correct-is-regexp-logic"),a=(w=w("../internals/is-pure"),"".startsWith),l=Math.min;d=d("startsWith"),v({target:"String",proto:!0,forced:!(!w&&!d&&(v=_(String.prototype,"startsWith"))&&!v.writable||d)},{startsWith:function(m){var c=String(x(this)),s=(h(m),f(l(1<arguments.length?arguments[1]:void 0,c.length)));return m=String(m),a?a.call(c,m,s):c.slice(s,s+m.length)===m}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":114,"../internals/to-length":137}],205:[function(r,W,S){"use strict";var v=r("../internals/export"),_=r("../internals/create-html");v({target:"String",proto:!0,forced:r("../internals/string-html-forced")("sub")},{sub:function(){return _(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":123}],206:[function(r,W,S){"use strict";var v=r("../internals/export"),_=r("../internals/string-trim").trim;v({target:"String",proto:!0,forced:r("../internals/string-trim-forced")("trim")},{trim:function(){return _(this)}})},{"../internals/export":50,"../internals/string-trim":130,"../internals/string-trim-forced":129}],207:[function(s,W,S){"use strict";var v,_,f,h,x,w=s("../internals/export"),a=s("../internals/descriptors"),l=s("../internals/global"),d=s("../internals/has"),u=s("../internals/is-object"),c=s("../internals/object-define-property").f,m=(s=s("../internals/copy-constructor-properties"),l.Symbol);!a||"function"!=typeof m||"description"in m.prototype&&void 0===m().description||(v={},s(_=function(){var p=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),y=this instanceof _?new m(p):void 0===p?m():m(p);return""===p&&(v[y]=!0),y},m),(l=_.prototype=m.prototype).constructor=_,f=l.toString,h="Symbol(test)"==String(m("test")),x=/^Symbol\((.*)\)[^)]+$/,c(l,"description",{configurable:!0,get:function(){var p=u(this)?this.valueOf():this,y=f.call(p);return d(v,p)?"":""===(p=h?y.slice(7,-1):y.replace(x,"$1"))?void 0:p}}),w({global:!0,forced:!0},{Symbol:_}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],208:[function(r,W,S){r("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],209:[function(Ae,W,S){"use strict";function v(Ie,ze){var wt=qt[Ie]=V(Ze[et]);return Be(wt,{type:We,tag:Ie,description:ze}),d||(wt.description=ze),wt}function _(Ie,jt){O(Ie);var wt=N(jt);return jt=k(wt).concat(Ge(wt)),Ee(jt,function(Gt){d&&!Pe.call(wt,Gt)||Et(Ie,Gt,wt[Gt])}),Ie}function f(jt,Gt){var wt;if(jt=N(jt),Gt=P(Gt,!0),jt!==Oe||!m(qt,Gt)||m(Lt,Gt))return!(wt=vt(jt,Gt))||!m(qt,Gt)||m(jt,Ne)&&jt[Ne][Gt]||(wt.enumerable=!0),wt}function h(ze){ze=ft(N(ze));var wt=[];return Ee(ze,function(jt){m(qt,jt)||m(de,jt)||wt.push(jt)}),wt}var x=Ae("../internals/export"),w=Ae("../internals/global"),a=Ae("../internals/get-built-in"),l=Ae("../internals/is-pure"),d=Ae("../internals/descriptors"),u=Ae("../internals/native-symbol"),c=Ae("../internals/use-symbol-as-uid"),s=Ae("../internals/fails"),m=Ae("../internals/has"),p=Ae("../internals/is-array"),y=Ae("../internals/is-object"),O=Ae("../internals/an-object"),$=Ae("../internals/to-object"),N=Ae("../internals/to-indexed-object"),P=Ae("../internals/to-primitive"),j=Ae("../internals/create-property-descriptor"),V=Ae("../internals/object-create"),k=Ae("../internals/object-keys"),E=Ae("../internals/object-get-own-property-names"),T=Ae("../internals/object-get-own-property-names-external"),H=Ae("../internals/object-get-own-property-symbols"),X=Ae("../internals/object-get-own-property-descriptor"),z=Ae("../internals/object-define-property"),te=Ae("../internals/object-property-is-enumerable"),J=Ae("../internals/create-non-enumerable-property"),q=Ae("../internals/redefine"),ne=Ae("../internals/shared"),Ht=Ae("../internals/shared-key"),de=Ae("../internals/hidden-keys"),De=Ae("../internals/uid"),Y=Ae("../internals/well-known-symbol"),R=Ae("../internals/well-known-symbol-wrapped"),se=Ae("../internals/define-well-known-symbol"),pe=Ae("../internals/set-to-string-tag"),Tt=Ae("../internals/internal-state"),Ee=Ae("../internals/array-iteration").forEach,Ne=Ht("hidden"),We="Symbol",et="prototype",Be=(Ae=Y("toPrimitive"),Tt.set),Fe=Tt.getterFor(We),Oe=Object[et],Ze=w.Symbol,Qe=a("JSON","stringify"),vt=X.f,ht=z.f,ft=T.f,kt=te.f,qt=ne("symbols"),Lt=ne("op-symbols"),ln=ne("string-to-symbol-registry"),sn=ne("symbol-to-string-registry"),Jt=(Ht=ne("wks"),!(Tt=w.QObject)||!Tt[et]||!Tt[et].findChild),bt=d&&s(function(){return 7!=V(ht({},"a",{get:function(){return ht(this,"a",{value:7}).a}})).a})?function(Ie,ze,wt){var jt=vt(Oe,ze);jt&&delete Oe[ze],ht(Ie,ze,wt),jt&&Ie!==Oe&&ht(Oe,ze,jt)}:ht,zt=c?function(Ie){return"symbol"==typeof Ie}:function(Ie){return Object(Ie)instanceof Ze},Et=function(Ie,ze,wt){return Ie===Oe&&Et(Lt,ze,wt),O(Ie),ze=P(ze,!0),O(wt),(m(qt,ze)?(wt.enumerable?(m(Ie,Ne)&&Ie[Ne][ze]&&(Ie[Ne][ze]=!1),wt=V(wt,{enumerable:j(0,!1)})):(m(Ie,Ne)||ht(Ie,Ne,j(1,{})),Ie[Ne][ze]=!0),bt):ht)(Ie,ze,wt)},Pe=function(ze){ze=P(ze,!0);var wt=kt.call(this,ze);return!(this===Oe&&m(qt,ze)&&!m(Lt,ze))&&(!(wt||!m(this,ze)||!m(qt,ze)||m(this,Ne)&&this[Ne][ze])||wt)},Ge=function(wt){var ze=wt===Oe,jt=(wt=ft(ze?Lt:N(wt)),[]);return Ee(wt,function(Gt){!m(qt,Gt)||ze&&!m(Oe,Gt)||jt.push(qt[Gt])}),jt};u||(q((Ze=function(){if(this instanceof Ze)throw TypeError("Symbol is not a constructor");var Ie=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,ze=De(Ie),wt=function(jt){this===Oe&&wt.call(Lt,jt),m(this,Ne)&&m(this[Ne],ze)&&(this[Ne][ze]=!1),bt(this,ze,j(1,jt))};return d&&Jt&&bt(Oe,ze,{configurable:!0,set:wt}),v(ze,Ie)})[et],"toString",function(){return Fe(this).tag}),q(Ze,"withoutSetter",function(Ie){return v(De(Ie),Ie)}),te.f=Pe,z.f=Et,X.f=f,E.f=T.f=h,H.f=Ge,R.f=function(Ie){return v(Y(Ie),Ie)},d&&(ht(Ze[et],"description",{configurable:!0,get:function(){return Fe(this).description}}),l||q(Oe,"propertyIsEnumerable",Pe,{unsafe:!0}))),x({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Ze}),Ee(k(Ht),function(Ie){se(Ie)}),x({target:We,stat:!0,forced:!u},{for:function(wt){var ze;return wt=String(wt),m(ln,wt)?ln[wt]:(ze=Ze(wt),ln[wt]=ze,sn[ze]=wt,ze)},keyFor:function(Ie){if(!zt(Ie))throw TypeError(Ie+" is not a symbol");if(m(sn,Ie))return sn[Ie]},useSetter:function(){Jt=!0},useSimple:function(){Jt=!1}}),x({target:"Object",stat:!0,forced:!u,sham:!d},{create:function(Ie,ze){return void 0===ze?V(Ie):_(V(Ie),ze)},defineProperty:Et,defineProperties:_,getOwnPropertyDescriptor:f}),x({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:h,getOwnPropertySymbols:Ge}),x({target:"Object",stat:!0,forced:s(function(){H.f(1)})},{getOwnPropertySymbols:function(Ie){return H.f($(Ie))}}),Qe&&x({target:"JSON",stat:!0,forced:!u||s(function(){var Ie=Ze();return"[null]"!=Qe([Ie])||"{}"!=Qe({a:Ie})||"{}"!=Qe(Object(Ie))})},{stringify:function(Ie,ze,wt){for(var jt,Gt=[Ie],an=1;an<arguments.length;)Gt.push(arguments[an++]);if((y(jt=ze)||void 0!==Ie)&&!zt(Ie))return p(ze)||(ze=function(_n,wn){if("function"==typeof jt&&(wn=jt.call(this,_n,wn)),!zt(wn))return wn}),Gt[1]=ze,Qe.apply(null,Gt)}}),Ze[et][Ae]||J(Ze[et],Ae,Ze[et].valueOf),pe(Ze,We),de[Ne]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/shared":121,"../internals/shared-key":119,"../internals/to-indexed-object":135,"../internals/to-object":138,"../internals/to-primitive":141,"../internals/uid":146,"../internals/use-symbol-as-uid":147,"../internals/well-known-symbol":149,"../internals/well-known-symbol-wrapped":148}],210:[function(r,W,S){"use strict";var v=r("../internals/array-buffer-view-core"),_=r("../internals/array-copy-within"),f=v.aTypedArray;(0,v.exportTypedArrayMethod)("copyWithin",function(h,x){return _.call(f(this),h,x,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],211:[function(r,W,S){"use strict";var v=r("../internals/array-buffer-view-core"),_=r("../internals/array-iteration").every,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("every",function(h){return _(f(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],212:[function(r,W,S){"use strict";var v=r("../internals/array-buffer-view-core"),_=r("../internals/array-fill"),f=v.aTypedArray;(0,v.exportTypedArrayMethod)("fill",function(h){return _.apply(f(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],213:[function(r,W,S){"use strict";var v=r("../internals/array-buffer-view-core"),_=r("../internals/array-iteration").filter,f=r("../internals/species-constructor"),h=v.aTypedArray,x=v.aTypedArrayConstructor;(0,v.exportTypedArrayMethod)("filter",function(w){for(var a=_(h(this),w,1<arguments.length?arguments[1]:void 0),l=(w=f(this,this.constructor),0),d=a.length,u=new(x(w))(d);l<d;)u[l]=a[l++];return u})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":122}],214:[function(r,W,S){"use strict";var v=r("../internals/array-buffer-view-core"),_=r("../internals/array-iteration").findIndex,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("findIndex",function(h){return _(f(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(r,W,S){"use strict";var v=r("../internals/array-buffer-view-core"),_=r("../internals/array-iteration").find,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("find",function(h){return _(f(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],216:[function(r,W,S){r("../internals/typed-array-constructor")("Float32",function(v){return function(_,f,h){return v(this,_,f,h)}})},{"../internals/typed-array-constructor":143}],217:[function(r,W,S){r("../internals/typed-array-constructor")("Float64",function(v){return function(_,f,h){return v(this,_,f,h)}})},{"../internals/typed-array-constructor":143}],218:[function(r,W,S){"use strict";var v=r("../internals/array-buffer-view-core"),_=r("../internals/array-iteration").forEach,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("forEach",function(h){_(f(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(r,W,S){"use strict";var v=r("../internals/array-buffer-view-core"),_=r("../internals/array-includes").includes,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("includes",function(h){return _(f(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],220:[function(r,W,S){"use strict";var v=r("../internals/array-buffer-view-core"),_=r("../internals/array-includes").indexOf,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("indexOf",function(h){return _(f(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],221:[function(r,W,S){r("../internals/typed-array-constructor")("Int16",function(v){return function(_,f,h){return v(this,_,f,h)}})},{"../internals/typed-array-constructor":143}],222:[function(r,W,S){r("../internals/typed-array-constructor")("Int32",function(v){return function(_,f,h){return v(this,_,f,h)}})},{"../internals/typed-array-constructor":143}],223:[function(_,W,S){"use strict";function v(){return f.call(w(this))}var d=_("../internals/global"),l=_("../internals/array-buffer-view-core"),a=_("../modules/es.array.iterator"),f=(_=_("../internals/well-known-symbol")("iterator"),a.values),h=a.keys,x=a.entries,w=l.aTypedArray;a=l.exportTypedArrayMethod,d=!!(l=(d=d.Uint8Array)&&d.prototype[_])&&("values"==l.name||null==l.name),a("entries",function(){return x.call(w(this))}),a("keys",function(){return h.call(w(this))}),a("values",v,!d),a(_,v,!d)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],224:[function(_,W,S){"use strict";var v=(_=_("../internals/array-buffer-view-core")).aTypedArray,f=[].join;(_=_.exportTypedArrayMethod)("join",function(h){return f.apply(v(this),arguments)})},{"../internals/array-buffer-view-core":12}],225:[function(r,W,S){"use strict";var v=r("../internals/array-buffer-view-core"),_=r("../internals/array-last-index-of"),f=v.aTypedArray;(0,v.exportTypedArrayMethod)("lastIndexOf",function(h){return _.apply(f(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],226:[function(r,W,S){"use strict";var v=r("../internals/array-buffer-view-core"),_=r("../internals/array-iteration").map,f=r("../internals/species-constructor"),h=v.aTypedArray,x=v.aTypedArrayConstructor;(0,v.exportTypedArrayMethod)("map",function(w){return _(h(this),w,1<arguments.length?arguments[1]:void 0,function(a,l){return new(x(f(a,a.constructor)))(l)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":122}],227:[function(r,W,S){"use strict";var v=r("../internals/array-buffer-view-core"),_=r("../internals/array-reduce").right,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("reduceRight",function(h){return _(f(this),h,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],228:[function(r,W,S){"use strict";var v=r("../internals/array-buffer-view-core"),_=r("../internals/array-reduce").left,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("reduce",function(h){return _(f(this),h,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],229:[function(_,W,S){"use strict";var v=(_=_("../internals/array-buffer-view-core")).aTypedArray,f=(_=_.exportTypedArrayMethod,Math.floor);_("reverse",function(){for(var h,x=v(this).length,w=f(x/2),a=0;a<w;)h=this[a],this[a++]=this[--x],this[x]=h;return this})},{"../internals/array-buffer-view-core":12}],230:[function(x,W,S){"use strict";var v=x("../internals/array-buffer-view-core"),_=x("../internals/to-length"),f=x("../internals/to-offset"),h=x("../internals/to-object"),w=(x=x("../internals/fails"),v.aTypedArray);(0,v.exportTypedArrayMethod)("set",function(a){w(this);var l=f(1<arguments.length?arguments[1]:void 0,1),d=this.length,u=h(a),c=_(u.length),s=0;if(d<c+l)throw RangeError("Wrong length");for(;s<c;)this[l+s]=u[s++]},x(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":137,"../internals/to-object":138,"../internals/to-offset":139}],231:[function(_,W,S){"use strict";var x=_("../internals/array-buffer-view-core"),v=_("../internals/species-constructor"),f=(_=_("../internals/fails"),x.aTypedArray),h=x.aTypedArrayConstructor,w=[].slice;(x=x.exportTypedArrayMethod)("slice",function(a,l){for(var d=w.call(f(this),a,l),u=(a=v(this,this.constructor),0),c=d.length,s=new(h(a))(c);u<c;)s[u]=d[u++];return s},_(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":122}],232:[function(r,W,S){"use strict";var v=r("../internals/array-buffer-view-core"),_=r("../internals/array-iteration").some,f=v.aTypedArray;(0,v.exportTypedArrayMethod)("some",function(h){return _(f(this),h,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],233:[function(_,W,S){"use strict";var v=(_=_("../internals/array-buffer-view-core")).aTypedArray,f=[].sort;(_=_.exportTypedArrayMethod)("sort",function(h){return f.call(v(this),h)})},{"../internals/array-buffer-view-core":12}],234:[function(r,W,S){"use strict";var v=r("../internals/array-buffer-view-core"),_=r("../internals/to-length"),f=r("../internals/to-absolute-index"),h=r("../internals/species-constructor"),x=v.aTypedArray;(0,v.exportTypedArrayMethod)("subarray",function(u,a){var l=x(this),d=l.length;return u=f(u,d),new(h(l,l.constructor))(l.buffer,l.byteOffset+u*l.BYTES_PER_ELEMENT,_((void 0===a?d:f(a,d))-u))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":122,"../internals/to-absolute-index":133,"../internals/to-length":137}],235:[function(_,W,S){"use strict";var x=_("../internals/global"),v=_("../internals/array-buffer-view-core"),f=(_=_("../internals/fails"),x.Int8Array),h=v.aTypedArray,w=(x=v.exportTypedArrayMethod,[].toLocaleString),a=[].slice,l=!!f&&_(function(){w.call(new f(1))});x("toLocaleString",function(){return w.apply(l?a.call(h(this)):h(this),arguments)},_(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!_(function(){f.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],236:[function(_,W,S){"use strict";var v=_("../internals/array-buffer-view-core").exportTypedArrayMethod,x=_("../internals/fails"),f=(_=(_=_("../internals/global").Uint8Array)&&_.prototype||{},[].toString),h=[].join;x(function(){f.call({})})&&(f=function(){return h.call(this)}),v("toString",f,x=_.toString!=f)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],237:[function(r,W,S){r("../internals/typed-array-constructor")("Uint16",function(v){return function(_,f,h){return v(this,_,f,h)}})},{"../internals/typed-array-constructor":143}],238:[function(r,W,S){r("../internals/typed-array-constructor")("Uint32",function(v){return function(_,f,h){return v(this,_,f,h)}})},{"../internals/typed-array-constructor":143}],239:[function(r,W,S){r("../internals/typed-array-constructor")("Uint8",function(v){return function(_,f,h){return v(this,_,f,h)}})},{"../internals/typed-array-constructor":143}],240:[function(r,W,S){r("../internals/typed-array-constructor")("Uint8",function(v){return function(_,f,h){return v(this,_,f,h)}},!0)},{"../internals/typed-array-constructor":143}],241:[function(m,O,S){"use strict";function v($){return function(){return $(this,arguments.length?arguments[0]:void 0)}}var _,f,h,x,w,p=m("../internals/global"),a=m("../internals/redefine-all"),l=m("../internals/internal-metadata"),d=m("../internals/collection"),u=m("../internals/collection-weak"),c=m("../internals/is-object"),s=m("../internals/internal-state").enforce,y=(m=m("../internals/native-weak-map"),p=!p.ActiveXObject&&"ActiveXObject"in p,Object.isExtensible);O=O.exports=d("WeakMap",v,u),m&&p&&(_=u.getConstructor(v,"WeakMap",!0),l.REQUIRED=!0,f=(d=O.prototype).delete,h=d.has,x=d.get,w=d.set,a(d,{delete:function($){var N;return c($)&&!y($)?((N=s(this)).frozen||(N.frozen=new _),f.call(this,$)||N.frozen.delete($)):f.call(this,$)},has:function($){var N;return c($)&&!y($)?((N=s(this)).frozen||(N.frozen=new _),h.call(this,$)||N.frozen.has($)):h.call(this,$)},get:function($){var N;return!c($)||y($)||((N=s(this)).frozen||(N.frozen=new _),h.call(this,$))?x.call(this,$):N.frozen.get($)},set:function($,N){var P;return!c($)||y($)||((P=s(this)).frozen||(P.frozen=new _),h.call(this,$))?w.call(this,$,N):P.frozen.set($,N),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":108}],242:[function(r,W,S){var v,_=r("../internals/global"),f=r("../internals/dom-iterables"),h=r("../internals/array-for-each"),x=r("../internals/create-non-enumerable-property");for(v in f){var w;if((w=(w=_[v])&&w.prototype)&&w.forEach!==h)try{x(w,"forEach",h)}catch{w.forEach=h}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],243:[function(w,W,S){var v,_=w("../internals/global"),f=w("../internals/dom-iterables"),h=w("../modules/es.array.iterator"),x=w("../internals/create-non-enumerable-property"),a=(w=w("../internals/well-known-symbol"))("iterator"),l=w("toStringTag"),d=h.values;for(v in f){var u=_[v],c=u&&u.prototype;if(c){if(c[a]!==d)try{x(c,a,d)}catch{c[a]=d}if(c[l]||x(c,l,v),f[v])for(var s in h)if(c[s]!==h[s])try{x(c,s,h[s])}catch{c[s]=h[s]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],244:[function(Ne,W,S){"use strict";function v(We){try{return decodeURIComponent(We)}catch{return We}}function _(We){return se[We]}function f(We){return encodeURIComponent(We).replace(R,_)}function h(We){this.entries.length=0,pe(this.entries,We)}function x(We,et){if(We<et)throw TypeError("Not enough arguments")}function w(){p(this,w,z);var We,et,Ae,Be,Fe,Oe,Ze,Qe,vt=0<arguments.length?arguments[0]:void 0,ht=[];if(J(this,{type:z,entries:ht,updateURL:function(){},updateSearchParams:h}),void 0!==vt)if(P(vt))if("function"==typeof(We=E(vt)))for(Ae=(et=We.call(vt)).next;!(Be=Ae.call(et)).done;){if((Oe=(Fe=(Be=k(N(Be.value))).next).call(Be)).done||(Ze=Fe.call(Be)).done||!Fe.call(Be).done)throw TypeError("Expected sequence with length 2");ht.push({key:Oe.value+"",value:Ze.value+""})}else for(Qe in vt)y(vt,Qe)&&ht.push({key:Qe,value:vt[Qe]+""});else pe(ht,"string"==typeof vt?"?"===vt.charAt(0)?vt.slice(1):vt:vt+"")}Ne("../modules/es.array.iterator");var a=Ne("../internals/export"),X=Ne("../internals/get-built-in"),l=Ne("../internals/native-url"),d=Ne("../internals/redefine"),u=Ne("../internals/redefine-all"),c=Ne("../internals/set-to-string-tag"),s=Ne("../internals/create-iterator-constructor"),m=Ne("../internals/internal-state"),p=Ne("../internals/an-instance"),y=Ne("../internals/has"),O=Ne("../internals/function-bind-context"),$=Ne("../internals/classof"),N=Ne("../internals/an-object"),P=Ne("../internals/is-object"),j=Ne("../internals/object-create"),V=Ne("../internals/create-property-descriptor"),k=Ne("../internals/get-iterator"),E=Ne("../internals/get-iterator-method"),T=(Ne=Ne("../internals/well-known-symbol"),X("fetch")),H=X("Headers"),z=(X=Ne("iterator"),"URLSearchParams"),te=z+"Iterator",J=m.set,q=m.getterFor(z),ne=m.getterFor(te),de=/\+/g,De=Array(4),Y=function(We){var et,Ae=We.replace(de," "),Be=4;try{return decodeURIComponent(Ae)}catch{for(;Be;)Ae=Ae.replace((et=Be--,De[et-1]||(De[et-1]=RegExp("((?:%[\\da-f]{2}){"+et+"})","gi"))),v);return Ae}},R=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},pe=function(We,et){if(et)for(var Ae,Be=et.split("&"),Fe=0;Fe<Be.length;)(Ae=Be[Fe++]).length&&(Ae=Ae.split("="),We.push({key:Y(Ae.shift()),value:Y(Ae.join("="))}))},Ee=s(function(We,et){J(this,{type:te,iterator:k(q(We).entries),kind:et})},"Iterator",function(){var et,We=(et=ne(this)).kind,Ae=(et=et.iterator.next()).value;return et.done||(et.value="keys"===We?Ae.key:"values"===We?Ae.value:[Ae.key,Ae.value]),et});u(Ne=w.prototype,{append:function(We,et){x(arguments.length,2);var Ae=q(this);Ae.entries.push({key:We+"",value:et+""}),Ae.updateURL()},delete:function(We){x(arguments.length,1);for(var et=q(this),Ae=et.entries,Be=We+"",Fe=0;Fe<Ae.length;)Ae[Fe].key===Be?Ae.splice(Fe,1):Fe++;et.updateURL()},get:function(We){x(arguments.length,1);for(var et=q(this).entries,Ae=We+"",Be=0;Be<et.length;Be++)if(et[Be].key===Ae)return et[Be].value;return null},getAll:function(We){x(arguments.length,1);for(var et=q(this).entries,Ae=We+"",Be=[],Fe=0;Fe<et.length;Fe++)et[Fe].key===Ae&&Be.push(et[Fe].value);return Be},has:function(We){x(arguments.length,1);for(var et=q(this).entries,Ae=We+"",Be=0;Be<et.length;)if(et[Be++].key===Ae)return!0;return!1},set:function(We,et){x(arguments.length,1);for(var Ae,Be=q(this),Fe=Be.entries,Oe=!1,Ze=We+"",Qe=et+"",vt=0;vt<Fe.length;vt++)(Ae=Fe[vt]).key===Ze&&(Oe?Fe.splice(vt--,1):(Oe=!0,Ae.value=Qe));Oe||Fe.push({key:Ze,value:Qe}),Be.updateURL()},sort:function(){for(var We,et,Ae=q(this),Be=Ae.entries,Fe=Be.slice(),Oe=Be.length=0;Oe<Fe.length;Oe++){for(We=Fe[Oe],et=0;et<Oe;et++)if(Be[et].key>We.key){Be.splice(et,0,We);break}et===Oe&&Be.push(We)}Ae.updateURL()},forEach:function(We){for(var et,Ae=q(this).entries,Be=O(We,1<arguments.length?arguments[1]:void 0,3),Fe=0;Fe<Ae.length;)Be((et=Ae[Fe++]).value,et.key,this)},keys:function(){return new Ee(this,"keys")},values:function(){return new Ee(this,"values")},entries:function(){return new Ee(this,"entries")}},{enumerable:!0}),d(Ne,X,Ne.entries),d(Ne,"toString",function(){for(var We,et=q(this).entries,Ae=[],Be=0;Be<et.length;)We=et[Be++],Ae.push(f(We.key)+"="+f(We.value));return Ae.join("&")},{enumerable:!0}),c(w,z),a({global:!0,forced:!l},{URLSearchParams:w}),l||"function"!=typeof T||"function"!=typeof H||a({global:!0,enumerable:!0,forced:!0},{fetch:function(Fe){var et,Ae,Be;return Fe=[Fe],1<arguments.length&&(P(et=arguments[1])&&$(Ae=et.body)===z&&((Be=et.headers?new H(et.headers):new H).has("content-type")||Be.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),et=j(et,{body:V(0,String(Ae)),headers:V(0,Be)})),Fe.push(et)),T.apply(this,Fe)}}),W.exports={URLSearchParams:w,getState:q}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":109,"../internals/redefine-all":108,"../internals/set-to-string-tag":118,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],245:[function(k,W,S){"use strict";function v(G){var ye,Se,D,F;if("number"==typeof G){for(ye=[],Se=0;Se<4;Se++)ye.unshift(G%256),G=te(G/256);return ye.join(".")}if("object"!=typeof G)return G;for(ye="",D=Ze(G),Se=0;Se<8;Se++)F&&0===G[Se]||(F=F&&!1,D===Se?(ye+=Se?":":"::",F=!0):(ye+=G[Se].toString(16),Se<7&&(ye+=":")));return"["+ye+"]"}function _(G){return!G.host||G.cannotBeABaseURL||"file"==G.scheme}function f(G,ye,Se,D){var F,L,ee,re=Se||zt,Q=0,he="",Re=!1,rt=!1,_t=!1;for(Se||(G.scheme="",G.username="",G.password="",G.host=null,G.port=null,G.path=[],G.query=null,G.fragment=null,G.cannotBeABaseURL=!1,ye=ye.replace(Be,"")),ye=ye.replace(Fe,""),F=$(ye);Q<=F.length;){switch(L=F[Q],re){case zt:if(!L||!Y.test(L)){if(Se)return ne;re=Pe;continue}he+=L.toLowerCase(),re=Et;break;case Et:if(L&&(R.test(L)||"+"==L||"-"==L||"."==L))he+=L.toLowerCase();else{if(":"!=L){if(Se)return ne;he="",re=Pe,Q=0;continue}if(Se&&(Lt(G)!=y(qt,he)||"file"==he&&(ln(G)||null!==G.port)||"file"==G.scheme&&!G.host))return;if(G.scheme=he,Se)return void(Lt(G)&&qt[G.scheme]==G.port&&(G.port=null));he="","file"==G.scheme?re=xt:Lt(G)&&D&&D.scheme==G.scheme?re=Ge:Lt(G)?re=jt:"/"==F[Q+1]?(re=Ie,Q++):(G.cannotBeABaseURL=!0,G.path.push(""),re=rn)}break;case Pe:if(!D||D.cannotBeABaseURL&&"#"!=L)return ne;if(D.cannotBeABaseURL&&"#"==L){G.scheme=D.scheme,G.path=D.path.slice(),G.query=D.query,G.fragment="",G.cannotBeABaseURL=!0,re=yt;break}re="file"==D.scheme?xt:ze;continue;case Ge:if("/"!=L||"/"!=F[Q+1]){re=ze;continue}re=Gt,Q++;break;case Ie:if("/"==L){re=an;break}re=Ct;continue;case ze:if(G.scheme=D.scheme,L==w)G.username=D.username,G.password=D.password,G.host=D.host,G.port=D.port,G.path=D.path.slice(),G.query=D.query;else if("/"==L||"\\"==L&&Lt(G))re=wt;else if("?"==L)G.username=D.username,G.password=D.password,G.host=D.host,G.port=D.port,G.path=D.path.slice(),G.query="",re=qe;else{if("#"!=L){G.username=D.username,G.password=D.password,G.host=D.host,G.port=D.port,G.path=D.path.slice(),G.path.pop(),re=Ct;continue}G.username=D.username,G.password=D.password,G.host=D.host,G.port=D.port,G.path=D.path.slice(),G.query=D.query,G.fragment="",re=yt}break;case wt:if(!Lt(G)||"/"!=L&&"\\"!=L){if("/"!=L){G.username=D.username,G.password=D.password,G.host=D.host,G.port=D.port,re=Ct;continue}re=an}else re=Gt;break;case jt:if(re=Gt,"/"!=L||"/"!=he.charAt(Q+1))continue;Q++;break;case Gt:if("/"==L||"\\"==L)break;re=an;continue;case an:if("@"==L){Re&&(he="%40"+he),Re=!0;for(var Xt=$(he),un=0;un<Xt.length;un++){var bn=Xt[un];":"!=bn||_t?(bn=kt(bn,ft),_t?G.password+=bn:G.username+=bn):_t=!0}he=""}else if(L==w||"/"==L||"?"==L||"#"==L||"\\"==L&&Lt(G)){if(Re&&""==he)return q;Q-=$(he).length+1,he="",re=_n}else he+=L;break;case _n:case wn:if(Se&&"file"==G.scheme){re=Ye;continue}if(":"!=L||rt){if(L==w||"/"==L||"?"==L||"#"==L||"\\"==L&&Lt(G)){if(Lt(G)&&""==he)return de;if(Se&&""==he&&(ln(G)||null!==G.port))return;if(ee=Oe(G,he))return ee;if(he="",re=ct,Se)return;continue}"["==L?rt=!0:"]"==L&&(rt=!1),he+=L}else{if(""==he)return de;if(ee=Oe(G,he))return ee;if(he="",re=Dt,Se==wn)return}break;case Dt:if(!se.test(L)){if(L==w||"/"==L||"?"==L||"#"==L||"\\"==L&&Lt(G)||Se){if(""!=he){var Rn=parseInt(he,10);if(65535<Rn)return De;G.port=Lt(G)&&Rn===qt[G.scheme]?null:Rn,he=""}if(Se)return;re=ct;continue}return De}he+=L;break;case xt:if(G.scheme="file","/"==L||"\\"==L)re=ot;else{if(!D||"file"!=D.scheme){re=Ct;continue}if(L==w)G.host=D.host,G.path=D.path.slice(),G.query=D.query;else if("?"==L)G.host=D.host,G.path=D.path.slice(),G.query="",re=qe;else{if("#"!=L){Ht(F.slice(Q).join(""))||(G.host=D.host,G.path=D.path.slice(),Tt(G)),re=Ct;continue}G.host=D.host,G.path=D.path.slice(),G.query=D.query,G.fragment="",re=yt}}break;case ot:if("/"==L||"\\"==L){re=Ye;break}D&&"file"==D.scheme&&!Ht(F.slice(Q).join(""))&&(sn(D.path[0],!0)?G.path.push(D.path[0]):G.host=D.host),re=Ct;continue;case Ye:if(L==w||"/"==L||"\\"==L||"?"==L||"#"==L){if(!Se&&sn(he))re=Ct;else{if(""==he){if(G.host="",Se)return}else{if(ee=Oe(G,he))return ee;if("localhost"==G.host&&(G.host=""),Se)return;he=""}re=ct}continue}he+=L;break;case ct:if(Lt(G)){if(re=Ct,"/"!=L&&"\\"!=L)continue}else if(Se||"?"!=L)if(Se||"#"!=L){if(L!=w&&(re=Ct,"/"!=L))continue}else G.fragment="",re=yt;else G.query="",re=qe;break;case Ct:if(L==w||"/"==L||"\\"==L&&Lt(G)||!Se&&("?"==L||"#"==L)){if(bt(he)?(Tt(G),"/"==L||"\\"==L&&Lt(G)||G.path.push("")):Jt(he)?"/"==L||"\\"==L&&Lt(G)||G.path.push(""):("file"==G.scheme&&!G.path.length&&sn(he)&&(G.host&&(G.host=""),he=he.charAt(0)+":"),G.path.push(he)),he="","file"==G.scheme&&(L==w||"?"==L||"#"==L))for(;1<G.path.length&&""===G.path[0];)G.path.shift();"?"==L?(G.query="",re=qe):"#"==L&&(G.fragment="",re=yt)}else he+=kt(L,ht);break;case rn:"?"==L?(G.query="",re=qe):"#"==L?(G.fragment="",re=yt):L!=w&&(G.path[0]+=kt(L,Qe));break;case qe:Se||"#"!=L?L!=w&&("'"==L&&Lt(G)?G.query+="%27":G.query+="#"==L?"%23":kt(L,Qe)):(G.fragment="",re=yt);break;case yt:L!=w&&(G.fragment+=kt(L,vt))}Q++}}function h(L){var ye,Se,D=p(this,h,"URL"),F=1<arguments.length?arguments[1]:void 0,ee=(L=String(L),X(D,{type:"URL"}));if(void 0!==F)if(F instanceof h)ye=z(F);else if(Se=f(ye={},String(F)))throw TypeError(Se);if(Se=f(ee,L,null,ye))throw TypeError(Se);var re=ee.searchParams=new T;(F=H(re)).updateSearchParams(ee.query),F.updateURL=function(){ee.query=String(re)||null},u||(D.href=Ft.call(D),D.origin=$t.call(D),D.protocol=hn.call(D),D.username=yn.call(D),D.password=En.call(D),D.host=Sn.call(D),D.hostname=Cn.call(D),D.port=Zn.call(D),D.pathname=tr.call(D),D.search=lr.call(D),D.searchParams=Pn.call(D),D.hash=Wn.call(D))}function x(G,ye){return{get:G,set:ye,configurable:!0,enumerable:!0}}k("../modules/es.string.iterator");var w,a,l,d=k("../internals/export"),u=k("../internals/descriptors"),c=k("../internals/native-url"),Nt=k("../internals/global"),s=k("../internals/object-define-properties"),m=k("../internals/redefine"),p=k("../internals/an-instance"),y=k("../internals/has"),O=k("../internals/object-assign"),$=k("../internals/array-from"),N=k("../internals/string-multibyte").codeAt,P=k("../internals/string-punycode-to-ascii"),j=k("../internals/set-to-string-tag"),V=k("../modules/web.url-search-params"),E=(k=k("../internals/internal-state"),Nt.URL),T=V.URLSearchParams,H=V.getState,X=k.set,z=k.getterFor("URL"),te=Math.floor,J=Math.pow,q="Invalid authority",ne="Invalid scheme",de="Invalid host",De="Invalid port",Y=/[A-Za-z]/,R=/[\d+-.A-Za-z]/,se=/\d/,pe=/^(0x|0X)/,Ee=/^[0-7]+$/,Ne=/^\d+$/,We=/^[\dA-Fa-f]+$/,et=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Ae=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Be=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Fe=/[\u0009\u000A\u000D]/g,Oe=function(G,ye){var Se,D,F;if("["==ye.charAt(0))return"]"==ye.charAt(ye.length-1)&&(Se=function(L){var Re,rt,_t,Xt,un,bn,Rn,ee=[0,0,0,0,0,0,0,0],re=0,Q=null,he=0,Hn=function(){return L.charAt(he)};if(":"==Hn()){if(":"!=L.charAt(1))return;he+=2,Q=++re}for(;Hn();){if(8==re)return;if(":"!=Hn()){for(Re=rt=0;rt<4&&We.test(Hn());)Re=16*Re+parseInt(Hn(),16),he++,rt++;if("."==Hn()){if(0==rt||(he-=rt,re>6))return;for(_t=0;Hn();){if(Xt=null,_t>0){if(!("."==Hn()&&_t<4))return;he++}if(!se.test(Hn()))return;for(;se.test(Hn());){if(un=parseInt(Hn(),10),null===Xt)Xt=un;else{if(0==Xt)return;Xt=10*Xt+un}if(Xt>255)return;he++}ee[re]=256*ee[re]+Xt,(2==++_t||4==_t)&&re++}if(4!=_t)return;break}if(":"==Hn()){if(he++,!Hn())return}else if(Hn())return;ee[re++]=Re}else{if(null!==Q)return;he++,Q=++re}}if(null!==Q)for(bn=re-Q,re=7;0!=re&&bn>0;)Rn=ee[re],ee[re--]=ee[Q+bn-1],ee[Q+--bn]=Rn;else if(8!=re)return;return ee}(ye.slice(1,-1)))?void(G.host=Se):de;if(Lt(G))return ye=P(ye),et.test(ye)||null===(Se=function(L){var re,Q,he,Re,rt,_t,Xt,ee=L.split(".");if(ee.length&&""==ee[ee.length-1]&&ee.pop(),(re=ee.length)>4)return L;for(Q=[],he=0;he<re;he++){if(""==(Re=ee[he]))return L;if(rt=10,Re.length>1&&"0"==Re.charAt(0)&&(rt=pe.test(Re)?16:8,Re=Re.slice(8==rt?1:2)),""===Re)_t=0;else{if(!(10==rt?Ne:8==rt?Ee:We).test(Re))return L;_t=parseInt(Re,rt)}Q.push(_t)}for(he=0;he<re;he++)if(_t=Q[he],he==re-1){if(_t>=J(256,5-re))return null}else if(_t>255)return null;for(Xt=Q.pop(),he=0;he<Q.length;he++)Xt+=Q[he]*J(256,3-he);return Xt}(ye))?de:void(G.host=Se);if(Ae.test(ye))return de;for(Se="",D=$(ye),F=0;F<D.length;F++)Se+=kt(D[F],Qe);G.host=Se},Ze=function(G){for(var ye=null,Se=1,D=null,F=0,L=0;L<8;L++)0!==G[L]?(Se<F&&(ye=D,Se=F),D=null,F=0):(null===D&&(D=L),++F);return Se<F&&(ye=D,Se=F),ye},Qe={},vt=O({},Qe,{" ":1,'"':1,"<":1,">":1,"`":1}),ht=O({},vt,{"#":1,"?":1,"{":1,"}":1}),ft=O({},ht,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),kt=function(G,ye){var Se=N(G,0);return 32<Se&&Se<127&&!y(ye,G)?G:encodeURIComponent(G)},qt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Lt=function(G){return y(qt,G.scheme)},ln=function(G){return""!=G.username||""!=G.password},sn=function(G,ye){return 2==G.length&&Y.test(G.charAt(0))&&(":"==(G=G.charAt(1))||!ye&&"|"==G)},Ht=function(G){return 1<G.length&&sn(G.slice(0,2))&&(2==G.length||"/"===(G=G.charAt(2))||"\\"===G||"?"===G||"#"===G)},Tt=function(G){var ye=G.path,Se=ye.length;!Se||"file"==G.scheme&&1==Se&&sn(ye[0],!0)||ye.pop()},Jt=function(G){return"."===G||"%2e"===G.toLowerCase()},bt=function(G){return".."===(G=G.toLowerCase())||"%2e."===G||".%2e"===G||"%2e%2e"===G},zt={},Et={},Pe={},Ge={},Ie={},ze={},wt={},jt={},Gt={},an={},_n={},wn={},Dt={},xt={},ot={},Ye={},ct={},Ct={},rn={},qe={},yt={},Ft=(Nt=h.prototype,function(){var G=z(this),ye=G.scheme,Se=G.username,D=G.password,F=G.host,L=G.port,ee=G.path,re=G.query,Q=G.fragment,he=ye+":";return null!==F?(he+="//",ln(G)&&(he+=Se+(D?":"+D:"")+"@"),he+=v(F),null!==L&&(he+=":"+L)):"file"==ye&&(he+="//"),he+=G.cannotBeABaseURL?ee[0]:ee.length?"/"+ee.join("/"):"",null!==re&&(he+="?"+re),null!==Q&&(he+="#"+Q),he}),$t=function(){var G=z(this),ye=G.scheme,Se=G.port;if("blob"==ye)try{return new URL(ye.path[0]).origin}catch{return"null"}return"file"!=ye&&Lt(G)?ye+"://"+v(G.host)+(null!==Se?":"+Se:""):"null"},hn=function(){return z(this).scheme+":"},yn=function(){return z(this).username},En=function(){return z(this).password},Sn=function(){var G=(ye=z(this)).host,ye=ye.port;return null===G?"":null===ye?v(G):v(G)+":"+ye},Cn=function(){var G=z(this).host;return null===G?"":v(G)},Zn=function(){var G=z(this).port;return null===G?"":String(G)},tr=function(){var G=z(this),ye=G.path;return G.cannotBeABaseURL?ye[0]:ye.length?"/"+ye.join("/"):""},lr=function(){var G=z(this).query;return G?"?"+G:""},Pn=function(){return z(this).searchParams},Wn=function(){var G=z(this).fragment;return G?"#"+G:""};u&&s(Nt,{href:x(Ft,function(Se){var ye=z(this);if(Se=f(ye,Se=String(Se)))throw TypeError(Se);H(ye.searchParams).updateSearchParams(ye.query)}),origin:x($t),protocol:x(hn,function(G){f(z(this),String(G)+":",zt)}),username:x(yn,function(G){var ye=z(this),Se=$(String(G));if(!_(ye)){ye.username="";for(var D=0;D<Se.length;D++)ye.username+=kt(Se[D],ft)}}),password:x(En,function(G){var ye=z(this),Se=$(String(G));if(!_(ye)){ye.password="";for(var D=0;D<Se.length;D++)ye.password+=kt(Se[D],ft)}}),host:x(Sn,function(G){var ye=z(this);ye.cannotBeABaseURL||f(ye,String(G),_n)}),hostname:x(Cn,function(G){var ye=z(this);ye.cannotBeABaseURL||f(ye,String(G),wn)}),port:x(Zn,function(G){var ye=z(this);_(ye)||(""==(G=String(G))?ye.port=null:f(ye,G,Dt))}),pathname:x(tr,function(G){var ye=z(this);ye.cannotBeABaseURL||(ye.path=[],f(ye,G+"",ct))}),search:x(lr,function(G){var ye=z(this);""==(G=String(G))?ye.query=null:("?"==G.charAt(0)&&(G=G.slice(1)),ye.query="",f(ye,G,qe)),H(ye.searchParams).updateSearchParams(ye.query)}),searchParams:x(Pn),hash:x(Wn,function(G){var ye=z(this);""==(G=String(G))?ye.fragment=null:("#"==G.charAt(0)&&(G=G.slice(1)),ye.fragment="",f(ye,G,yt))})}),m(Nt,"toJSON",function(){return Ft.call(this)},{enumerable:!0}),m(Nt,"toString",function(){return Ft.call(this)},{enumerable:!0}),E&&(l=E.revokeObjectURL,(a=E.createObjectURL)&&m(h,"createObjectURL",function(G){return a.apply(E,arguments)}),l&&m(h,"revokeObjectURL",function(G){return l.apply(E,arguments)})),j(h,"URL"),d({global:!0,forced:!c,sham:!u},{URL:h})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/string-multibyte":124,"../internals/string-punycode-to-ascii":127,"../modules/es.string.iterator":197,"../modules/web.url-search-params":244}],246:[function(r,W,S){"use strict";W.exports=r("./").polyfill()},{"./":247}],247:[function(r,W,S){(function(v,_){var h;h=function(){"use strict";function x(Oe){return"function"==typeof Oe}var w=Array.isArray||function(Oe){return"[object Array]"===Object.prototype.toString.call(Oe)},a=0,l=void 0,d=void 0,u=function(Oe,Ze){O[a]=Oe,O[a+1]=Ze,2===(a+=2)&&(d?d($):T())},c=typeof window<"u"?window:void 0,s=(s=c||{}).MutationObserver||s.WebKitMutationObserver,m=typeof self>"u"&&void 0!==v&&"[object process]"==={}.toString.call(v),p=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function y(){var Oe=setTimeout;return function(){return Oe($,1)}}var O=new Array(1e3);function $(){for(var Oe=0;Oe<a;Oe+=2)(0,O[Oe])(O[Oe+1]),O[Oe]=void 0,O[Oe+1]=void 0;a=0}var P,j,V,T=void 0;function k(Oe,Ze){var Qe,vt=this,ht=new this.constructor(X),ft=(void 0===ht[H]&&We(ht),vt._state);return ft?(Qe=arguments[ft-1],u(function(){return Ee(ft,ht,Qe,vt._result)})):se(vt,ht,Oe,Ze),ht}function E(Oe){var Ze;return Oe&&"object"==typeof Oe&&Oe.constructor===this?Oe:(de(Ze=new this(X),Oe),Ze)}T=m?function(){return v.nextTick($)}:s?(j=0,m=new s($),V=document.createTextNode(""),m.observe(V,{characterData:!0}),function(){V.data=j=++j%2}):p?((P=new MessageChannel).port1.onmessage=$,function(){return P.port2.postMessage(0)}):(void 0===c&&"function"==typeof r?function N(){try{var Oe=Function("return this")().require("vertx");return void 0!==(l=Oe.runOnLoop||Oe.runOnContext)?function(){l($)}:y()}catch{return y()}}:y)();var H=Math.random().toString(36).substring(2);function X(){}var z=void 0,te=1,J=2;function q(Oe,Ze,Qe){u(function(vt){var ht=!1,ft=function(kt,qt,Lt,ln){try{kt.call(qt,function(kt){ht||(ht=!0,(Ze!==kt?de:Y)(vt,kt))},function(kt){ht||(ht=!0,R(vt,kt))})}catch(sn){return sn}}(Qe,Ze);!ht&&ft&&(ht=!0,R(vt,ft))},Oe)}function ne(Oe,Ze,Qe){var vt,ht;Ze.constructor===Oe.constructor&&Qe===k&&Ze.constructor.resolve===E?(vt=Oe,(ht=Ze)._state===te?Y(vt,ht._result):ht._state===J?R(vt,ht._result):se(ht,void 0,function(ft){return de(vt,ft)},function(ft){return R(vt,ft)})):void 0!==Qe&&x(Qe)?q(Oe,Ze,Qe):Y(Oe,Ze)}function de(Oe,Ze){if(Oe===Ze)R(Oe,new TypeError("You cannot resolve a promise with itself"));else if(Qe=typeof Ze,null===Ze||"object"!=Qe&&"function"!=Qe)Y(Oe,Ze);else{Qe=void 0;try{Qe=Ze.then}catch(vt){return void R(Oe,vt)}ne(Oe,Ze,Qe)}var Qe}function De(Oe){Oe._onerror&&Oe._onerror(Oe._result),pe(Oe)}function Y(Oe,Ze){Oe._state===z&&(Oe._result=Ze,Oe._state=te,0!==Oe._subscribers.length&&u(pe,Oe))}function R(Oe,Ze){Oe._state===z&&(Oe._state=J,Oe._result=Ze,u(De,Oe))}function se(Oe,Ze,Qe,vt){var ht=Oe._subscribers,ft=ht.length;Oe._onerror=null,ht[ft]=Ze,ht[ft+te]=Qe,ht[ft+J]=vt,0===ft&&Oe._state&&u(pe,Oe)}function pe(Oe){var Ze=Oe._subscribers,Qe=Oe._state;if(0!==Ze.length){for(var vt,ht=void 0,ft=Oe._result,kt=0;kt<Ze.length;kt+=3)ht=Ze[kt+Qe],(vt=Ze[kt])?Ee(Qe,vt,ht,ft):ht(ft);Oe._subscribers.length=0}}function Ee(Oe,Ze,Qe,vt){var ht=x(Qe),ft=void 0,kt=void 0,qt=!0;if(ht){try{ft=Qe(vt)}catch(Lt){qt=!1,kt=Lt}if(Ze===ft)return void R(Ze,new TypeError("A promises callback cannot return that same promise."))}else ft=vt;Ze._state===z&&(ht&&qt?de(Ze,ft):!1===qt?R(Ze,kt):Oe===te?Y(Ze,ft):Oe===J&&R(Ze,ft))}var Ne=0;function We(Oe){Oe[H]=Ne++,Oe._state=void 0,Oe._result=void 0,Oe._subscribers=[]}Ae.prototype._enumerate=function(Oe){for(var Ze=0;this._state===z&&Ze<Oe.length;Ze++)this._eachEntry(Oe[Ze],Ze)},Ae.prototype._eachEntry=function(Oe,Ze){var Qe=this._instanceConstructor,vt=Qe.resolve;if(vt===E){var ht,ft=void 0,kt=void 0,qt=!1;try{ft=Oe.then}catch(Lt){qt=!0,kt=Lt}ft===k&&Oe._state!==z?this._settledAt(Oe._state,Ze,Oe._result):"function"!=typeof ft?(this._remaining--,this._result[Ze]=Oe):Qe===Be?(ht=new Qe(X),qt?R(ht,kt):ne(ht,Oe,ft),this._willSettleAt(ht,Ze)):this._willSettleAt(new Qe(function(Lt){return Lt(Oe)}),Ze)}else this._willSettleAt(vt(Oe),Ze)},Ae.prototype._settledAt=function(Oe,Ze,Qe){var vt=this.promise;vt._state===z&&(this._remaining--,Oe===J?R(vt,Qe):this._result[Ze]=Qe),0===this._remaining&&Y(vt,this._result)},Ae.prototype._willSettleAt=function(Oe,Ze){var Qe=this;se(Oe,void 0,function(vt){return Qe._settledAt(te,Ze,vt)},function(vt){return Qe._settledAt(J,Ze,vt)})};var et=Ae;function Ae(Oe,Ze){this._instanceConstructor=Oe,this.promise=new Oe(X),this.promise[H]||We(this.promise),w(Ze)?(this.length=Ze.length,this._remaining=Ze.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(Ze),0!==this._remaining)||Y(this.promise,this._result)):R(this.promise,new Error("Array Methods must be provided an Array"))}Fe.prototype.catch=function(Oe){return this.then(null,Oe)},Fe.prototype.finally=function(Oe){var Ze=this.constructor;return x(Oe)?this.then(function(Qe){return Ze.resolve(Oe()).then(function(){return Qe})},function(Qe){return Ze.resolve(Oe()).then(function(){throw Qe})}):this.then(Oe,Oe)};var Be=Fe;function Fe(Oe){if(this[H]=Ne++,this._result=this._state=void 0,this._subscribers=[],X!==Oe){if("function"!=typeof Oe)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof Fe))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var Ze=this;try{Oe(function(Qe){de(Ze,Qe)},function(Qe){R(Ze,Qe)})}catch(Qe){R(Ze,Qe)}}}return Be.prototype.then=k,Be.all=function(Oe){return new et(this,Oe).promise},Be.race=function(Oe){var Ze=this;return w(Oe)?new Ze(function(Qe,vt){for(var ht=Oe.length,ft=0;ft<ht;ft++)Ze.resolve(Oe[ft]).then(Qe,vt)}):new Ze(function(Qe,vt){return vt(new TypeError("You must pass an array to race."))})},Be.resolve=E,Be.reject=function(Oe){var Ze=new this(X);return R(Ze,Oe),Ze},Be._setScheduler=function(Oe){d=Oe},Be._setAsap=function(Oe){u=Oe},Be._asap=u,Be.polyfill=function(){var Oe=void 0;if(void 0!==_)Oe=_;else if(typeof self<"u")Oe=self;else try{Oe=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Ze=Oe.Promise;if(Ze){var Qe=null;try{Qe=Object.prototype.toString.call(Ze.resolve())}catch{}if("[object Promise]"===Qe&&!Ze.cast)return}Oe.Promise=Be},Be.Promise=Be},"object"==typeof S&&void 0!==W?W.exports=h():this.ES6Promise=h()}).call(this,r("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:256}],248:[function(r,W,S){var _;_=function(f,h){"use strict";function a(d){try{delete window[d]}catch{window[d]=void 0}}function l(d){(d=document.getElementById(d))&&document.getElementsByTagName("head")[0].removeChild(d)}h.exports=function(d){var u=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=d,s=u.timeout||5e3,m=u.jsonpCallback||"callback",p=void 0;return new Promise(function(y,O){var $=u.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),N=m+"_"+$,P=(window[$]=function(j){y({ok:!0,json:function(){return Promise.resolve(j)}}),p&&clearTimeout(p),l(N),a($)},c+=-1===c.indexOf("?")?"?":"&",document.createElement("script"));P.setAttribute("src",""+c+m+"="+$),u.charset&&P.setAttribute("charset",u.charset),P.id=N,document.getElementsByTagName("head")[0].appendChild(P),p=setTimeout(function(){O(new Error("JSONP request to "+d+" timed out")),a($),l(N),window[$]=function(){a($)}},s),P.onerror=function(){O(new Error("JSONP request to "+d+" failed")),a($),l(N),p&&clearTimeout(p)}})}},void 0!==S&&void 0!==W?_(0,W):(_(_={exports:{}},_),this.fetchJsonp=_.exports)},{}],249:[function(r,W,S){var v=function(_){"use strict";var f,h,x,w,a,l,u,c,s,m;if(!(void 0===_||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return f=function(){return _.URL||_.webkitURL||_},h=(m=_.document).createElementNS("http://www.w3.org/1999/xhtml","a"),x="download"in h,w=/constructor/i.test(_.HTMLElement)||_.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(p){(_.setImmediate||_.setTimeout)(function(){throw p},0)},4e4,u=function(p){setTimeout(function(){"string"==typeof p?f().revokeObjectURL(p):p.remove()},4e4)},c=function(p){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\ufeff",p],{type:p.type}):p},m=(s=function(p,y,j){j||(p=c(p));var $,N,P=this,V=(j="application/octet-stream"===p.type,function(){for(var k=P,E="writestart progress write writeend".split(" "),H=(E=[].concat(E)).length;H--;){var X=k["on"+E[H]];if("function"==typeof X)try{X.call(k,k)}catch(z){l(z)}}});P.readyState=P.INIT,x?($=f().createObjectURL(p),setTimeout(function(){var k,E;h.href=$,h.download=y,k=h,E=new MouseEvent("click"),k.dispatchEvent(E),V(),u($),P.readyState=P.DONE})):(a||j&&w)&&_.FileReader?((N=new FileReader).onloadend=function(){var k=a?N.result:N.result.replace(/^data:[^;]*;/,"data:attachment/file;");_.open(k,"_blank")||(_.location.href=k),k=void 0,P.readyState=P.DONE,V()},N.readAsDataURL(p),P.readyState=P.INIT):($=$||f().createObjectURL(p),!j&&_.open($,"_blank")||(_.location.href=$),P.readyState=P.DONE,V(),u($))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(p,y,O){return y=y||p.name||"download",O||(p=c(p)),navigator.msSaveOrOpenBlob(p,y)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,function(p,y,O){return new s(p,y||p.name||"download",O)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);void 0!==W&&W.exports&&(W.exports.saveAs=v)},{}],250:[function(r,W,S){var v,_=Object.defineProperty,f=(_(S,"__esModule",{value:!0}),S),h={GIFEncoder:()=>V,applyPalette:()=>function(z,te,J="rgb565"){if(!z||!z.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(z instanceof Uint8Array||z instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<te.length)throw new Error("applyPalette() only works with 256 colors or less");const q=new Uint32Array(z.buffer),ne=q.length,de="rgb444"===J?4096:65536,De=new Uint8Array(ne),Y=new Array(de);if("rgba4444"===J)for(let Fe=0;Fe<ne;Fe++){var Ee,R=(Ee=q[Fe])>>24&255,se=Ee>>16&255,pe=Ee>>8&255,Ne=(Ne=u(Ee&=255,pe,se,R))in Y?Y[Ne]:Y[Ne]=function(Oe,Ze,Qe,vt,ht){let ft=0,kt=1e100;for(let sn=0;sn<ht.length;sn++){var Lt=ht[sn],ln=N(Lt[3]-vt);ln>kt||(ln+=N(Lt[0]-Oe))>kt||(ln+=N(Lt[1]-Ze))>kt||(ln+=N(Lt[2]-Qe))>kt||(kt=ln,ft=sn)}return ft}(Ee,pe,se,R,te);De[Fe]=Ne}else{const Fe="rgb444"===J?c:d;for(let Oe=0;Oe<ne;Oe++){var Ae,We=(Ae=q[Oe])>>16&255,et=Ae>>8&255,Be=(Be=Fe(Ae&=255,et,We))in Y?Y[Be]:Y[Be]=function(Ze,Qe,vt,ht){let ft=0,kt=1e100;for(let sn=0;sn<ht.length;sn++){var Lt=ht[sn],ln=N(Lt[0]-Ze);ln>kt||(ln+=N(Lt[1]-Qe))>kt||(ln+=N(Lt[2]-vt))>kt||(kt=ln,ft=sn)}return ft}(Ae,et,We,te);De[Oe]=Be}}return De},default:()=>X,nearestColor:()=>function(z,te,J=O){return z[P(z,te,J)]},nearestColorIndex:()=>P,nearestColorIndexWithDistance:()=>j,prequantize:()=>function(z,{roundRGB:te=5,roundAlpha:J=10,oneBitAlpha:q=null}={}){const ne=new Uint32Array(z.buffer);for(let se=0;se<ne.length;se++){let pe=(R=ne[se])>>24&255;var De=R>>16&255,Y=R>>8&255,R=255&R;pe=$(pe,J),q&&(pe=pe<=("number"==typeof q?q:127)?0:255),R=$(R,te),Y=$(Y,te),De=$(De,te),ne[se]=pe<<24|De<<16|Y<<8|R<<0}},quantize:()=>function(z,te,J={}){var{format:q="rgb565",clearAlpha:ne=!0,clearAlphaColor:de=0,clearAlphaThreshold:De=0,oneBitAlpha:Y=!1}=J;if(!z||!z.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(z instanceof Uint8Array||z instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");z=new Uint32Array(z.buffer);let R=!1!==J.useSqrt;const se="rgba4444"===q,pe=function(Ht,Tt){const bt=new Array("rgb444"===Tt?4096:65536),zt=Ht.length;if("rgba4444"===Tt)for(let ot=0;ot<zt;++ot){var Ie,Et=(Ie=Ht[ot])>>24&255,Pe=Ie>>16&255,Ge=Ie>>8&255,ze=u(Ie&=255,Ge,Pe,Et);let Ye=ze in bt?bt[ze]:bt[ze]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Ye.rc+=Ie,Ye.gc+=Ge,Ye.bc+=Pe,Ye.ac+=Et,Ye.cnt++}else if("rgb444"===Tt)for(let ot=0;ot<zt;++ot){var Gt,wt=(Gt=Ht[ot])>>16&255,jt=Gt>>8&255,an=c(Gt&=255,jt,wt);let Ye=an in bt?bt[an]:bt[an]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Ye.rc+=Gt,Ye.gc+=jt,Ye.bc+=wt,Ye.cnt++}else for(let ot=0;ot<zt;++ot){var Dt,_n=(Dt=Ht[ot])>>16&255,wn=Dt>>8&255,xt=d(Dt&=255,wn,_n);let Ye=xt in bt?bt[xt]:bt[xt]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Ye.rc+=Dt,Ye.gc+=wn,Ye.bc+=_n,Ye.cnt++}return bt}(z,q),Ee=pe.length,Ne=Ee-1,We=new Uint32Array(Ee+1);for(var et=0,Ae=0;Ae<Ee;++Ae){const Ht=pe[Ae];null!=Ht&&(Lt=1/Ht.cnt,se&&(Ht.ac*=Lt),Ht.rc*=Lt,Ht.gc*=Lt,Ht.bc*=Lt,pe[et++]=Ht)}var Be,Fe,Oe;for(m(te)/et<.022&&(R=!1),Ae=0;Ae<et-1;++Ae)pe[Ae].fw=Ae+1,pe[Ae+1].bk=Ae,R&&(pe[Ae].cnt=Math.sqrt(pe[Ae].cnt));for(R&&(pe[Ae].cnt=Math.sqrt(pe[Ae].cnt)),Ae=0;Ae<et;++Ae){p(pe,Ae,!1);var Ze=pe[Ae].err;for(Fe=++We[0];1<Fe&&!(pe[Be=We[Oe=Fe>>1]].err<=Ze);Fe=Oe)We[Fe]=Be;We[Fe]=Ae}var Qe,vt=et-te;for(Ae=0;Ae<vt;){for(;;){var ht=We[1];if((Qe=pe[ht]).tm>=Qe.mtm&&pe[Qe.nn].mtm<=Qe.tm)break;for(Qe.mtm==Ne?ht=We[1]=We[We[0]--]:(p(pe,ht,!1),Qe.tm=Ae),Ze=pe[ht].err,Fe=1;(Oe=Fe+Fe)<=We[0]&&(Oe<We[0]&&pe[We[Oe]].err>pe[We[Oe+1]].err&&Oe++,!(Ze<=pe[Be=We[Oe]].err));Fe=Oe)We[Fe]=Be;We[Fe]=ht}var ft=pe[Qe.nn],kt=Qe.cnt,qt=ft.cnt,Lt=1/(kt+qt);se&&(Qe.ac=Lt*(kt*Qe.ac+qt*ft.ac)),Qe.rc=Lt*(kt*Qe.rc+qt*ft.rc),Qe.gc=Lt*(kt*Qe.gc+qt*ft.gc),Qe.bc=Lt*(kt*Qe.bc+qt*ft.bc),Qe.cnt+=ft.cnt,Qe.mtm=++Ae,pe[ft.bk].fw=ft.fw,pe[ft.fw].bk=ft.bk,ft.mtm=Ne}let ln=[];for(Ae=0;;0){let Ht=s(Math.round(pe[Ae].rc),0,255),Tt=s(Math.round(pe[Ae].gc),0,255),Jt=s(Math.round(pe[Ae].bc),0,255),bt=255;se&&(bt=s(Math.round(pe[Ae].ac),0,255),Y&&(bt=bt<=(sn="number"==typeof Y?Y:127)?0:255),ne&&bt<=De&&(Ht=Tt=Jt=de,bt=0));var sn=se?[Ht,Tt,Jt,bt]:[Ht,Tt,Jt];if(function(zt,Et){for(let Ie=0;Ie<zt.length;Ie++){var Pe=(Ge=zt[Ie])[0]===Et[0]&&Ge[1]===Et[1]&&Ge[2]===Et[2],Ge=!(4<=Ge.length&&4<=Et.length)||Ge[3]===Et[3];if(Pe&&Ge)return!0}return!1}(ln,sn)||ln.push(sn),0==(Ae=pe[Ae].fw))break}return ln},snapColorsToPalette:()=>function(z,te,J=5){if(z.length&&te.length){var q=z.map(R=>R.slice(0,3)),ne=J*J,de=z[0].length;for(let R=0;R<te.length;R++){let se=te[R];se=se.length<de?[se[0],se[1],se[2],255]:se.length>de?se.slice(0,3):se.slice();var Y,De=(Y=j(q,se.slice(0,3),O))[0];0<(Y=Y[1])&&Y<=ne&&(z[De]=se)}}}};for(v in h)_(f,v,{get:h[v],enumerable:!0});var x={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function w(z=256){let te=0,J=new Uint8Array(z);return{get buffer(){return J.buffer},reset(){te=0},bytesView:()=>J.subarray(0,te),bytes:()=>J.slice(0,te),writeByte(ne){q(te+1),J[te]=ne,te++},writeBytes(ne,de=0,De=ne.length){q(te+De);for(let Y=0;Y<De;Y++)J[te++]=ne[Y+de]},writeBytesView(ne,de=0,De=ne.byteLength){q(te+De),J.set(ne.subarray(de,de+De),te),te+=De}};function q(ne){var de=J.length;if(!(ne<=de)){ne=Math.max(ne,de*(de<1048576?2:1.125)>>>0),0!=de&&(ne=Math.max(ne,256));const De=J;J=new Uint8Array(ne),0<te&&J.set(De.subarray(0,te),0)}}}var a=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],l=function(z,te,J,se,ne=w(512),de=new Uint8Array(256),De=new Int32Array(5003),Y=new Int32Array(5003)){var R=De.length;se=Math.max(2,se),de.fill(0),Y.fill(0),De.fill(-1);let pe=0,Ee=0;var Ne=se+1;const We=Ne;let et=!1,Ae=We,Be=(1<<Ae)-1;var Fe=1<<Ne-1;const Oe=1+Fe;let Ze=2+Fe,Qe=0,vt=J[0],ht=0;for(let sn=R;sn<65536;sn*=2)++ht;ht=8-ht,ne.writeByte(se),ln(Fe);var ft=J.length;for(let sn=1;sn<ft;sn++)e:{var kt=J[sn],qt=(kt<<12)+vt;let Ht=kt<<ht^vt;if(De[Ht]===qt)vt=Y[Ht];else{for(var Lt=0===Ht?1:R-Ht;0<=De[Ht];)if((Ht-=Lt)<0&&(Ht+=R),De[Ht]===qt){vt=Y[Ht];break e}ln(vt),vt=kt,Ze<4096?(Y[Ht]=Ze++,De[Ht]=qt):(De.fill(-1),Ze=2+Fe,et=!0,ln(Fe))}}return ln(vt),ln(Oe),ne.writeByte(0),ne.bytesView();function ln(sn){for(pe&=a[Ee],0<Ee?pe|=sn<<Ee:pe=sn,Ee+=Ae;8<=Ee;)de[Qe++]=255&pe,254<=Qe&&(ne.writeByte(Qe),ne.writeBytesView(de,0,Qe),Qe=0),pe>>=8,Ee-=8;if((Ze>Be||et)&&(et?(Ae=We,Be=(1<<Ae)-1,et=!1):(++Ae,Be=12===Ae?1<<Ae:(1<<Ae)-1)),sn==Oe){for(;0<Ee;)de[Qe++]=255&pe,254<=Qe&&(ne.writeByte(Qe),ne.writeBytesView(de,0,Qe),Qe=0),pe>>=8,Ee-=8;0<Qe&&(ne.writeByte(Qe),ne.writeBytesView(de,0,Qe),Qe=0)}}};function d(z,te,J){return z<<8&63488|te<<2&992|J>>3}function u(z,te,J,q){return z>>4|240&te|(240&J)<<4|(240&q)<<8}function c(z,te,J){return z>>4<<8|240&te|J>>4}function s(z,te,J){return z<te?te:J<z?J:z}function m(z){return z*z}function p(z,te,J){var q=0,ne=1e100;const de=z[te];for(var De=de.cnt,Y=de.ac,R=de.rc,se=de.gc,pe=de.bc,Ee=de.fw;0!=Ee;Ee=z[Ee].fw){var Ne,et,We=z[Ee];ne<=(et=De*(et=We.cnt)/(De+et))||(Ne=0,J&&ne<=(Ne+=et*m(We.ac-Y))||ne<=(Ne+=et*m(We.rc-R))||ne<=(Ne+=et*m(We.gc-se))||ne<=(Ne+=et*m(We.bc-pe))||(ne=Ne,q=Ee))}de.err=ne,de.nn=q}function O(z,te){for(var J=0,q=0;q<z.length;q++){var ne=z[q]-te[q];J+=ne*ne}return J}function $(z,te){return 1<te?Math.round(z/te)*te:z}function N(z){return z*z}function P(z,te,J=O){let q=1/0,ne=-1;for(let De=0;De<z.length;De++){var de=J(te,z[De]);de<q&&(q=de,ne=De)}return ne}function j(z,te,J=O){let q=1/0,ne=-1;for(let De=0;De<z.length;De++){var de=J(te,z[De]);de<q&&(q=de,ne=De)}return[ne,q]}function V(z={}){const{initialCapacity:te=4096,auto:J=!0}=z,q=w(te),ne=new Uint8Array(256),de=new Int32Array(5003),De=new Int32Array(5003);let Y=!1;return{reset(){q.reset(),Y=!1},finish(){q.writeByte(x.trailer)},bytes:()=>q.bytes(),bytesView:()=>q.bytesView(),get buffer(){return q.buffer},get stream(){return q},writeHeader:R,writeFrame(se,pe,Ee,vt={}){var{transparent:We=!1,transparentIndex:et=0,delay:Lt=0,palette:Ae=null,repeat:ft=0,colorDepth:Be=8,dispose:Fe=-1}=vt;let Oe=!1;if(J?Y||(Oe=!0,R(),Y=!0):Oe=!!vt.first,pe=Math.max(0,Math.floor(pe)),Ee=Math.max(0,Math.floor(Ee)),Oe){if(!Ae)throw new Error("First frame must include a { palette } option");var[vt,kt,Qe,qt,ht=8]=[q,pe,Ee,Ae,Be];ht=128|ht-1<<4|(qt=H(qt.length)-1),E(vt,kt),E(vt,Qe),vt.writeBytes([ht,0,0]),k(q,Ae),0<=ft&&(kt=ft,(qt=q).writeByte(33),qt.writeByte(255),qt.writeByte(11),T(qt,"NETSCAPE2.0"),qt.writeByte(3),qt.writeByte(1),E(qt,kt),qt.writeByte(0))}var Ze,Qe,ht=Fe,ft=Qe=Math.round(Lt/10),kt=We,qt=et,Lt=((vt=q).writeByte(33),vt.writeByte(249),vt.writeByte(4),qt<0&&(qt=0,kt=!1),kt=kt?(Ze=1,2):Ze=0,0<=ht&&(kt=7&ht),vt.writeByte(0|(kt<<=2)|Ze),E(vt,ft),vt.writeByte(qt||0),vt.writeByte(0),!!Ae&&!Oe);We=pe,et=Ee,Ze=Lt?Ae:null,(Fe=q).writeByte(44),E(Fe,0),E(Fe,0),E(Fe,We),E(Fe,et),Ze?(We=H(Ze.length)-1,Fe.writeByte(128|We)):Fe.writeByte(0),Lt&&k(q,Ae),[ft,vt,et,We,Fe=8,Lt,Ae,se]=[q,se,pe,Ee,Be,ne,de,De],l(et,We,vt,Fe,ft,Lt,Ae,se)}};function R(){T(q,"GIF89a")}}function k(z,te){var J=1<<H(te.length);for(let q=0;q<J;q++){let ne=[0,0,0];q<te.length&&(ne=te[q]),z.writeByte(ne[0]),z.writeByte(ne[1]),z.writeByte(ne[2])}}function E(z,te){z.writeByte(255&te),z.writeByte(te>>8&255)}function T(z,te){for(var J=0;J<te.length;J++)z.writeByte(te.charCodeAt(J))}function H(z){return Math.max(Math.ceil(Math.log2(z)),1)}var X=V},{}],251:[function(r,W,S){S.read=function(v,_,f,h,p){var w,a,l=8*p-h-1,d=(1<<l)-1,u=d>>1,c=-7,s=f?p-1:0,m=f?-1:1;for(p=v[_+s],s+=m,w=p&(1<<-c)-1,p>>=-c,c+=l;0<c;w=256*w+v[_+s],s+=m,c-=8);for(a=w&(1<<-c)-1,w>>=-c,c+=h;0<c;a=256*a+v[_+s],s+=m,c-=8);if(0===w)w=1-u;else{if(w===d)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,h),w-=u}return(p?-1:1)*a*Math.pow(2,w-h)},S.write=function(v,_,f,h,x,y){var a,l,d=8*y-x-1,u=(1<<d)-1,c=u>>1,s=23===x?Math.pow(2,-24)-Math.pow(2,-77):0,m=h?0:y-1,p=h?1:-1;for(y=_<0||0===_&&1/_<0?1:0,_=Math.abs(_),isNaN(_)||_===1/0?(l=isNaN(_)?1:0,a=u):(a=Math.floor(Math.log(_)/Math.LN2),_*(h=Math.pow(2,-a))<1&&(a--,h*=2),2<=(_+=1<=a+c?s/h:s*Math.pow(2,1-c))*h&&(a++,h/=2),u<=a+c?(l=0,a=u):1<=a+c?(l=(_*h-1)*Math.pow(2,x),a+=c):(l=_*Math.pow(2,c-1)*Math.pow(2,x),a=0));8<=x;v[f+m]=255&l,m+=p,l/=256,x-=8);for(a=a<<x|l,d+=x;0<d;v[f+m]=255&a,m+=p,a/=256,d-=8);v[f+m-p]|=128*y}},{}],252:[function(r,W,S){"use strict";var v;function _(Pe,Ge){return Pe.b===Ge.b&&Pe.a===Ge.a}function f(Pe,Ge){return Pe.b<Ge.b||Pe.b===Ge.b&&Pe.a<=Ge.a}function h(Pe,Ge,Ie){var ze=Ge.b-Pe.b,wt=Ie.b-Ge.b;return 0<ze+wt?ze<wt?Ge.a-Pe.a+ze/(ze+wt)*(Pe.a-Ie.a):Ge.a-Ie.a+wt/(ze+wt)*(Ie.a-Pe.a):0}function x(Pe,Ge,Ie){var ze=Ge.b-Pe.b,wt=Ie.b-Ge.b;return 0<ze+wt?(Ge.a-Ie.a)*ze+(Ge.a-Pe.a)*wt:0}function w(Pe,Ge){return Pe.a<Ge.a||Pe.a===Ge.a&&Pe.b<=Ge.b}function a(Pe,Ge,Ie){var ze=Ge.a-Pe.a,wt=Ie.a-Ge.a;return 0<ze+wt?ze<wt?Ge.b-Pe.b+ze/(ze+wt)*(Pe.b-Ie.b):Ge.b-Ie.b+wt/(ze+wt)*(Ie.b-Pe.b):0}function l(Pe,Ge,Ie){var ze=Ge.a-Pe.a,wt=Ie.a-Ge.a;return 0<ze+wt?(Ge.b-Ie.b)*ze+(Ge.b-Pe.b)*wt:0}function d(Pe,Ge,Ie,ze){return(Pe=Pe<0?0:Pe)<=(Ie=Ie<0?0:Ie)?0===Ie?(Ge+ze)/2:Ge+Pe/(Pe+Ie)*(ze-Ge):ze+Ie/(Pe+Ie)*(Ge-ze)}function u(Pe){var Ge=y(Pe.b);return $(Ge,Pe.c),$(Ge.b,Pe.c),N(Ge,Pe.a),Ge}function c(Pe,Ge){var Ie=!1,ze=!1;Pe!==Ge&&(Ge.a!==Pe.a&&(ze=!0,j(Ge.a,Pe.a)),Ge.d!==Pe.d&&(Ie=!0,V(Ge.d,Pe.d)),O(Ge,Pe),ze||($(Ge,Pe.a),Pe.a.c=Pe),Ie||(N(Ge,Pe.d),Pe.d.a=Pe))}function s(Pe){var Ge=Pe.b,Ie=!1;Pe.d!==Pe.b.d&&(Ie=!0,V(Pe.d,Pe.b.d)),Pe.c===Pe?j(Pe.a,null):(Pe.b.d.a=Pe.b.e,Pe.a.c=Pe.c,O(Pe,Pe.b.e),Ie||N(Pe,Pe.d)),Ge.c===Ge?(j(Ge.a,null),V(Ge.d,null)):(Pe.d.a=Ge.b.e,Ge.a.c=Ge.c,O(Ge,Ge.b.e)),P(Pe)}function m(Pe){var Ge=y(Pe),Ie=Ge.b;return O(Ge,Pe.e),Ge.a=Pe.b.a,$(Ie,Ge.a),Ge.d=Ie.d=Pe.d,Ge=Ge.b,O(Pe.b,Pe.b.b.e),O(Pe.b,Ge),Pe.b.a=Ge.a,Ge.b.a.c=Ge.b,Ge.b.d=Pe.b.d,Ge.f=Pe.f,Ge.b.f=Pe.b.f,Ge}function p(Pe,Ge){var Ie=!1,ze=y(Pe),wt=ze.b;return Ge.d!==Pe.d&&(Ie=!0,V(Ge.d,Pe.d)),O(ze,Pe.e),O(wt,Ge),ze.a=Pe.b.a,wt.a=Ge.a,ze.d=wt.d=Pe.d,Pe.d.a=wt,Ie||N(ze,Pe.d),ze}function y(Pe){var Ge=new Qe,Ie=new Qe;return(((Ie.h=Pe.b.h).b.h=Ge).h=Pe).b.h=Ie,Ge.b=Ie,((Ge.c=Ge).e=Ie).b=Ge,(Ie.c=Ie).e=Ge}function O(Pe,Ge){var Ie=Pe.c,ze=Ge.c;Ie.b.e=Ge,(ze.b.e=Pe).c=ze,Ge.c=Ie}function $(Pe,Ge){var Ie=Ge.f,ze=new ht(Ge,Ie);for(Ie.e=ze,Ie=(Ge.f=ze).c=Pe;Ie.a=ze,(Ie=Ie.c)!==Pe;);}function N(Pe,Ge){var Ie=Ge.d,ze=new Ze(Ge,Ie);for(Ie.b=ze,(Ge.d=ze).a=Pe,ze.c=Ge.c,Ie=Pe;Ie.d=ze,(Ie=Ie.e)!==Pe;);}function P(Pe){var Ge=Pe.h;(Ge.b.h=Pe=Pe.b.h).b.h=Ge}function j(Pe,Ge){for(var Ie=Pe.c,ze=Ie;ze.a=Ge,(ze=ze.c)!==Ie;);((ze=Pe.e).f=Ie=Pe.f).e=ze}function V(Pe,Ge){for(var Ie=Pe.a,ze=Ie;ze.d=Ge,(ze=ze.e)!==Ie;);((ze=Pe.b).d=Ie=Pe.d).b=ze}function k(Pe){var Ge=0;return Math.abs(Pe[1])>Math.abs(Pe[0])&&(Ge=1),Math.abs(Pe[2])>Math.abs(Pe[Ge])?2:Ge}function E(Pe,Ge){Pe.f+=Ge.f,Pe.b.f+=Ge.b.f}function T(Pe,Ge,Ie){return Ie=Ie.a,(Ge=Ge.a).b.a===(Pe=Pe.a)?Ie.b.a===Pe?f(Ge.a,Ie.a)?x(Ie.b.a,Ge.a,Ie.a)<=0:0<=x(Ge.b.a,Ie.a,Ge.a):x(Ie.b.a,Pe,Ie.a)<=0:Ie.b.a===Pe?0<=x(Ge.b.a,Pe,Ge.a):(Ge=h(Ge.b.a,Pe,Ge.a),(Pe=h(Ie.b.a,Pe,Ie.a))<=Ge)}function H(Pe){Pe.a.i=null;var Ge=Pe.e;Ge.a.c=Ge.c,Ge.c.a=Ge.a,Pe.e=null}function X(Pe,Ge){s(Pe.a),Pe.c=!1,(Pe.a=Ge).i=Pe}function z(Pe){for(var Ge=Pe.a.a;(Pe=Et(Pe)).a.a===Ge;);return Pe.c&&(X(Pe,Ge=p(zt(Pe).a.b,Pe.a.e)),Pe=Et(Pe)),Pe}function te(Pe,Ge,Ie){var ze=new bt;return ze.a=Ie,ze.e=et(Pe.f,Ge.e,ze),Ie.i=ze}function J(Pe,Ge){switch(Pe.s){case 100130:return 0!=(1&Ge);case 100131:return 0!==Ge;case 100132:return 0<Ge;case 100133:return Ge<0;case 100134:return 2<=Ge||Ge<=-2}return!1}function q(Pe){var Ge=Pe.a,Ie=Ge.d;Ie.c=Pe.d,Ie.a=Ge,H(Pe)}function ne(Pe,Ge,Ie){for(Ge=(Pe=Ge).a;Pe!==Ie;){Pe.c=!1;var ze=zt(Pe),wt=ze.a;if(wt.a!==Ge.a){if(!ze.c){q(Pe);break}X(ze,wt=p(Ge.c.b,wt.b))}Ge.c!==wt&&(c(wt.b.e,wt),c(Ge,wt)),q(Pe),Ge=ze.a,Pe=ze}return Ge}function de(Pe,Ge,Ie,ze,wt,jt){for(var Gt=!0;te(Pe,Ge,Ie.b),(Ie=Ie.c)!==ze;);for(null===wt&&(wt=zt(Ge).a.b.c);(Ie=(ze=zt(Ge)).a.b).a===wt.a;)Ie.c!==wt&&(c(Ie.b.e,Ie),c(wt.b.e,Ie)),ze.f=Ge.f-Ie.f,ze.d=J(Pe,ze.f),Ge.b=!0,!Gt&&se(Pe,Ge)&&(E(Ie,wt),H(Ge),s(wt)),Gt=!1,Ge=ze,wt=Ie;Ge.b=!0,jt&&Ee(Pe,Ge)}function De(Pe,Ge,Ie,ze,wt){var jt=[Ge.g[0],Ge.g[1],Ge.g[2]];Ge.d=null,Ge.d=Pe.o&&Pe.o(jt,Ie,ze,Pe.c)||null,null===Ge.d&&(wt?Pe.n||(Oe(Pe,100156),Pe.n=!0):Ge.d=Ie[0])}function Y(Pe,Ge,Ie){var ze=[null,null,null,null];ze[0]=Ge.a.d,ze[1]=Ie.a.d,De(Pe,Ge.a,ze,[.5,.5,0,0],!1),c(Ge,Ie)}function R(Pe,Ge,Ie,ze,wt){var jt=Math.abs(Ge.b-Pe.b)+Math.abs(Ge.a-Pe.a),Gt=Math.abs(Ie.b-Pe.b)+Math.abs(Ie.a-Pe.a),an=wt+1;ze[wt]=.5*Gt/(jt+Gt),ze[an]=.5*jt/(jt+Gt),Pe.g[0]+=ze[wt]*Ge.g[0]+ze[an]*Ie.g[0],Pe.g[1]+=ze[wt]*Ge.g[1]+ze[an]*Ie.g[1],Pe.g[2]+=ze[wt]*Ge.g[2]+ze[an]*Ie.g[2]}function se(Pe,Ge){var Ie=zt(Ge),ze=Ge.a,wt=Ie.a;if(f(ze.a,wt.a)){if(0<x(wt.b.a,ze.a,wt.a))return;if(_(ze.a,wt.a)){if(ze.a!==wt.a){Ie=Pe.e;var jt=ze.a.h;if(0<=jt){var Gt=(Ie=Ie.b).d,an=Ie.e,_n=Ie.c,wn=_n[jt];Gt[wn]=Gt[Ie.a],(_n[Gt[wn]]=wn)<=--Ie.a&&(wn<=1||f(an[Gt[wn>>1]],an[Gt[wn]])?Tt:Jt)(Ie,wn),an[jt]=null,_n[jt]=Ie.b,Ie.b=jt}else for(Ie.c[-(jt+1)]=null;0<Ie.a&&null===Ie.c[Ie.d[Ie.a-1]];)--Ie.a;Y(Pe,wt.b.e,ze)}}else m(wt.b),c(ze,wt.b.e),Ge.b=Ie.b=!0}else{if(x(ze.b.a,wt.a,ze.a)<0)return;Et(Ge).b=Ge.b=!0,m(ze.b),c(wt.b.e,ze)}return 1}function pe(Pe,Ge){var Ie=zt(Ge),ze=Ge.a,wt=Ie.a,jt=ze.a,Gt=wt.a,an=ze.b.a,_n=wt.b.a,wn=new ht;if(x(an,Pe.a,jt),x(_n,Pe.a,Gt),!(jt===Gt||Math.min(jt.a,an.a)>Math.max(Gt.a,_n.a))){if(f(jt,Gt)){if(0<x(_n,jt,Gt))return}else if(x(an,Gt,jt)<0)return;var Dt,xt,ot=an,Ye=jt,ct=_n,Ct=Gt;if(f(ot,Ye)||(Dt=ot,ot=Ye,Ye=Dt),f(ct,Ct)||(Dt=ct,ct=Ct,Ct=Dt),f(ot,ct)||(Dt=ot,ot=ct,ct=Dt,Dt=Ye,Ye=Ct,Ct=Dt),f(ct,Ye)?f(Ye,Ct)?((Dt=h(ot,ct,Ye))+(xt=h(ct,Ye,Ct))<0&&(Dt=-Dt,xt=-xt),wn.b=d(Dt,ct.b,xt,Ye.b)):((Dt=x(ot,ct,Ye))+(xt=-x(ot,Ct,Ye))<0&&(Dt=-Dt,xt=-xt),wn.b=d(Dt,ct.b,xt,Ct.b)):wn.b=(ct.b+Ye.b)/2,w(ot,Ye)||(Dt=ot,ot=Ye,Ye=Dt),w(ct,Ct)||(Dt=ct,ct=Ct,Ct=Dt),w(ot,ct)||(Dt=ot,ot=ct,ct=Dt,Dt=Ye,Ye=Ct,Ct=Dt),w(ct,Ye)?w(Ye,Ct)?((Dt=a(ot,ct,Ye))+(xt=a(ct,Ye,Ct))<0&&(Dt=-Dt,xt=-xt),wn.a=d(Dt,ct.a,xt,Ye.a)):((Dt=l(ot,ct,Ye))+(xt=-l(ot,Ct,Ye))<0&&(Dt=-Dt,xt=-xt),wn.a=d(Dt,ct.a,xt,Ct.a)):wn.a=(ct.a+Ye.a)/2,f(wn,Pe.a)&&(wn.b=Pe.a.b,wn.a=Pe.a.a),ot=f(jt,Gt)?jt:Gt,f(ot,wn)&&(wn.b=ot.b,wn.a=ot.a),_(wn,jt)||_(wn,Gt))return se(Pe,Ge),0;if(!_(an,Pe.a)&&0<=x(an,Pe.a,wn)||!_(_n,Pe.a)&&x(_n,Pe.a,wn)<=0){if(_n===Pe.a)m(ze.b),c(wt.b,ze),ze=zt(Ge=z(Ge)).a,ne(Pe,zt(Ge),Ie),de(Pe,Ge,ze.b.e,ze,ze,!0);else{if(an!==Pe.a)return 0<=x(an,Pe.a,wn)&&(Et(Ge).b=Ge.b=!0,m(ze.b),ze.a.b=Pe.a.b,ze.a.a=Pe.a.a),void(x(_n,Pe.a,wn)<=0&&(Ge.b=Ie.b=!0,m(wt.b),wt.a.b=Pe.a.b,wt.a.a=Pe.a.a));for(m(wt.b),c(ze.e,wt.b.e),Gt=(jt=Ie=Ge).a.b.a;(jt=Et(jt)).a.b.a===Gt;);jt=zt(Ge=jt).a.b.c,Ie.a=wt.b.e,de(Pe,Ge,(wt=ne(Pe,Ie,null)).c,ze.b.c,jt,!0)}return 1}m(ze.b),m(wt.b),c(wt.b.e,ze),ze.a.b=wn.b,ze.a.a=wn.a,ze.a.h=kt(Pe.e,ze.a),wt=[0,0,0,0],wn=[jt.d,an.d,Gt.d,_n.d],(ze=ze.a).g[0]=ze.g[1]=ze.g[2]=0,R(ze,jt,an,wt,0),R(ze,Gt,_n,wt,2),De(Pe,ze,wn,wt,!0),Et(Ge).b=Ge.b=Ie.b=!0}}function Ee(Pe,Ge){for(var Ie=zt(Ge);;){for(;Ie.b;)Ie=zt(Ge=Ie);if(!(Ge.b||null!==(Ge=Et(Ie=Ge))&&Ge.b))break;Ge.b=!1;var ze=Ge.a,wt=Ie.a;if(jt=ze.b.a!==wt.b.a)e:{var jt,Gt=zt(jt=Ge),an=jt.a,_n=Gt.a,wn=void 0;if(f(an.b.a,_n.b.a)){if(x(an.b.a,_n.b.a,an.a)<0){jt=!1;break e}Et(jt).b=jt.b=!0,wn=m(an),c(_n.b,wn),wn.d.c=jt.d}else{if(0<x(_n.b.a,an.b.a,_n.a)){jt=!1;break e}jt.b=Gt.b=!0,wn=m(_n),c(an.e,_n.b),wn.b.d.c=jt.d}jt=!0}if(jt&&(Ie.c?(H(Ie),s(wt),wt=(Ie=zt(Ge)).a):Ge.c&&(H(Ge),s(ze),ze=(Ge=Et(Ie)).a)),ze.a!==wt.a)if(ze.b.a===wt.b.a||Ge.c||Ie.c||ze.b.a!==Pe.a&&wt.b.a!==Pe.a)se(Pe,Ge);else if(pe(Pe,Ge))break;ze.a===wt.a&&ze.b.a===wt.b.a&&(E(wt,ze),H(Ge),s(ze),Ge=Et(Ie))}}function Ne(Pe,Ge){var Ie=new bt,ze=u(Pe.b);ze.a.b=4e150,ze.a.a=Ge,ze.b.a.b=-4e150,ze.b.a.a=Ge,Pe.a=ze.b.a,Ie.a=ze,Ie.f=0,Ie.d=!1,Ie.c=!1,Ie.h=!0,Ie.b=!1,ze=et(ze=Pe.f,ze.a,Ie),Ie.e=ze}function We(Pe){this.a=new Ae,this.b=Pe,this.c=T}function et(Pe,Ge,Ie){for(;null!==(Ge=Ge.c).b&&!Pe.c(Pe.b,Ge.b,Ie););return Pe=new Ae(Ie,Ge.a,Ge),Ge.a.c=Pe,Ge.a=Pe}function Ae(Pe,Ge,Ie){this.b=Pe||null,this.a=Ge||this,this.c=Ie||this}function Be(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function Fe(Pe,Ge){if(Pe.d!==Ge)for(;Pe.d!==Ge;)if(Pe.d<Ge)switch(Pe.d){case 0:Oe(Pe,100151),Pe.u(null);break;case 1:Oe(Pe,100152),Pe.t()}else switch(Pe.d){case 2:Oe(Pe,100154),Pe.v();break;case 1:Oe(Pe,100153),Pe.w()}}function Oe(Pe,Ge){Pe.p&&Pe.p(Ge,Pe.c)}function Ze(Pe,Ge){this.b=Pe||this,this.d=Ge||this,this.a=null,this.c=!1}function Qe(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function vt(){this.c=new ht,this.a=new Ze,this.b=new Qe,this.d=new Qe,this.b.b=this.d,this.d.b=this.b}function ht(Pe,Ge){this.e=Pe||this,this.f=Ge||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function ft(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Lt}function kt(Pe,Ge){var Ie,ze,wt;return Pe.e?(2*(ze=++(Ie=Pe.b).a)>Ie.f&&(Ie.f*=2,Ie.c=ln(Ie.c,Ie.f+1)),0===Ie.b?wt=ze:(wt=Ie.b,Ie.b=Ie.c[Ie.b]),Ie.e[wt]=Ge,Ie.c[wt]=ze,Ie.d[ze]=wt,Ie.h&&Jt(Ie,ze),wt):(Ie=Pe.a++,Pe.c[Ie]=Ge,-(Ie+1))}function qt(Pe){if(0===Pe.a)return Ht(Pe.b);var Ge=Pe.c[Pe.d[Pe.a-1]];if(0!==Pe.b.a&&f(sn(Pe.b),Ge))return Ht(Pe.b);for(;--Pe.a,0<Pe.a&&null===Pe.c[Pe.d[Pe.a-1]];);return Ge}function Lt(){this.d=ln([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function ln(Pe,Ge){for(var Ie=Array(Ge),ze=0;ze<Pe.length;ze++)Ie[ze]=Pe[ze];for(;ze<Ge;ze++)Ie[ze]=0;return Ie}function sn(Pe){return Pe.e[Pe.d[1]]}function Ht(Pe){var Ge=Pe.d,Ie=Pe.e,ze=Pe.c,wt=Ge[1],jt=Ie[wt];return 0<Pe.a&&(Ge[1]=Ge[Pe.a],ze[Ge[1]]=1,Ie[wt]=null,ze[wt]=Pe.b,Pe.b=wt,0<--Pe.a&&Tt(Pe,1)),jt}function Tt(Pe,Ge){for(var Ie=Pe.d,ze=Pe.e,wt=Pe.c,jt=Ge,Gt=Ie[jt];;){var an=jt<<1,_n=(an<Pe.a&&f(ze[Ie[an+1]],ze[Ie[an]])&&(an+=1),Ie[an]);if(an>Pe.a||f(ze[Gt],ze[_n])){wt[Ie[jt]=Gt]=jt;break}wt[Ie[jt]=_n]=jt,jt=an}}function Jt(Pe,Ge){for(var Ie=Pe.d,ze=Pe.e,wt=Pe.c,jt=Ge,Gt=Ie[jt];;){var an=jt>>1,_n=Ie[an];if(0==an||f(ze[_n],ze[Gt])){wt[Ie[jt]=Gt]=jt;break}wt[Ie[jt]=_n]=jt,jt=an}}function bt(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function zt(Pe){return Pe.e.c.b}function Et(Pe){return Pe.e.a.b}(v=Be.prototype).x=function(){Fe(this,0)},v.B=function(Pe,Ge){switch(Pe){case 100142:return;case 100140:switch(Ge){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=Ge)}break;case 100141:return void(this.m=!!Ge);default:return void Oe(this,100900)}Oe(this,100901)},v.y=function(Pe){switch(Pe){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Oe(this,100900)}return!1},v.A=function(Pe,Ge,Ie){this.j[0]=Pe,this.j[1]=Ge,this.j[2]=Ie},v.z=function(Pe,Ge){var Ie=Ge||null;switch(Pe){case 100100:case 100106:this.h=Ie;break;case 100104:case 100110:this.l=Ie;break;case 100101:case 100107:this.k=Ie;break;case 100102:case 100108:this.i=Ie;break;case 100103:case 100109:this.p=Ie;break;case 100105:case 100111:this.o=Ie;break;case 100112:this.r=Ie;break;default:Oe(this,100900)}},v.C=function(Pe,Ge){var Ie=!1,ze=[0,0,0];Fe(this,2);for(var wt=0;wt<3;++wt){var jt=Pe[wt];jt<-1e150&&(jt=-1e150,Ie=!0),1e150<jt&&(jt=1e150,Ie=!0),ze[wt]=jt}Ie&&Oe(this,100155),null===(Ie=this.q)?c(Ie=u(this.b),Ie.b):(m(Ie),Ie=Ie.e),Ie.a.d=Ge,Ie.a.g[0]=ze[0],Ie.a.g[1]=ze[1],Ie.a.g[2]=ze[2],Ie.f=1,Ie.b.f=-1,this.q=Ie},v.u=function(Pe){Fe(this,0),this.d=1,this.b=new vt,this.c=Pe},v.t=function(){Fe(this,1),this.d=2,this.q=null},v.v=function(){Fe(this,2),this.d=1},v.w=function(){Fe(this,1),this.d=0;var Pe,Ge,jt=!1,Gt=[Ie=this.j[0],ze=this.j[1],wt=this.j[2]];if(0===Ie&&0===ze&&0===wt){for(var ze=[-2e150,-2e150,-2e150],an=[2e150,2e150,2e150],wt=[],_n=[],Ie=(jt=this.b.c).e;Ie!==jt;Ie=Ie.e)for(var wn=0;wn<3;++wn){var Dt=Ie.g[wn];Dt<an[wn]&&(an[wn]=Dt,_n[wn]=Ie),Dt>ze[wn]&&(ze[wn]=Dt,wt[wn]=Ie)}if(ze[1]-an[1]>ze[Ie=0]-an[0]&&(Ie=1),an[Ie=ze[2]-an[2]>ze[Ie]-an[Ie]?2:Ie]>=ze[Ie])Gt[0]=0,Gt[1]=0,Gt[2]=1;else{for(an=_n[Ie],_n=[ze=0,0,0],an=[an.g[0]-(wt=wt[Ie]).g[0],an.g[1]-wt.g[1],an.g[2]-wt.g[2]],wn=[0,0,0],Ie=jt.e;Ie!==jt;Ie=Ie.e)wn[0]=Ie.g[0]-wt.g[0],wn[1]=Ie.g[1]-wt.g[1],wn[2]=Ie.g[2]-wt.g[2],_n[0]=an[1]*wn[2]-an[2]*wn[1],_n[1]=an[2]*wn[0]-an[0]*wn[2],_n[2]=an[0]*wn[1]-an[1]*wn[0],ze<(Dt=_n[0]*_n[0]+_n[1]*_n[1]+_n[2]*_n[2])&&(ze=Dt,Gt[0]=_n[0],Gt[1]=_n[1],Gt[2]=_n[2]);ze<=0&&(Gt[0]=Gt[1]=Gt[2]=0,Gt[k(an)]=1)}jt=!0}for(ze=((_n=k(Gt))+1)%3,wt=(_n+2)%3,_n=0<Gt[_n]?1:-1,Gt=(Ie=this.b.c).e;Gt!==Ie;Gt=Gt.e)Gt.b=Gt.g[ze],Gt.a=_n*Gt.g[wt];if(jt){for(Gt=0,Ie=(jt=this.b.a).b;Ie!==jt;Ie=Ie.b)if(!((ze=Ie.a).f<=0))for(;Gt+=(ze.a.b-ze.b.a.b)*(ze.a.a+ze.b.a.a),(ze=ze.e)!==Ie.a;);if(Gt<0)for(jt=(Gt=this.b.c).e;jt!==Gt;jt=jt.e)jt.a=-jt.a}for(this.n=!1,Ie=(Gt=this.b.b).h;Ie!==Gt;Ie=jt)jt=Ie.h,ze=Ie.e,_(Ie.a,Ie.b.a)&&Ie.e.e!==Ie&&(Y(this,ze,Ie),s(Ie),ze=(Ie=ze).e),ze.e===Ie&&(ze!==Ie&&(ze!==jt&&ze!==jt.b||(jt=jt.h),s(ze)),Ie!==jt&&Ie!==jt.b||(jt=jt.h),s(Ie));for(this.e=Gt=new ft,Ie=(jt=this.b.c).e;Ie!==jt;Ie=Ie.e)Ie.h=kt(Gt,Ie);var xt=Gt;xt.d=[];for(var ot=0;ot<xt.a;ot++)xt.d[ot]=ot;xt.d.sort(function(Ct){return function(rn,qe){return f(Ct[rn],Ct[qe])?1:-1}}(xt.c)),xt.e=!0;for(var Ye=xt.b,ct=Ye.a;1<=ct;--ct)Tt(Ye,ct);for(Ye.h=!0,this.f=new We(this),Ne(this,-4e150),Ne(this,4e150);null!==(Gt=qt(this.e));){for(;;){e:if(0===(Ie=this.e).a)jt=sn(Ie.b);else if(jt=Ie.c[Ie.d[Ie.a-1]],0!==Ie.b.a&&f(Ie=sn(Ie.b),jt)){jt=Ie;break e}if(null===jt||!_(jt,Gt))break;jt=qt(this.e),Y(this,Gt.c,jt.c)}!function Ct(rn,qe){for(var yt,Nt=(rn.a=qe).c;null===Nt.i;)if((Nt=Nt.c)===qe.c){Nt=rn;var Ft=qe;(En=new bt).a=Ft.c.b;for(var Sn=($t=Nt.f).a;null!==(Sn=Sn.a).b&&!$t.c($t.b,En,Sn.b););var $t,hn,yn=zt($t=Sn.b),En=$t.a;return Sn=yn.a,void(0===x(En.b.a,Ft,En.a)?_((En=$t.a).a,Ft)||_(En.b.a,Ft)||(m(En.b),$t.c&&(s(En.c),$t.c=!1),c(Ft.c,En),Ct(Nt,Ft)):(hn=f(Sn.b.a,En.b.a)?$t:yn,yn=void 0,$t.d||hn.c?(yn=hn===$t?p(Ft.c.b,En.e):p(Sn.b.c.b,Ft.c).b,hn.c?X(hn,yn):(($t=te(En=Nt,$t,yn)).f=Et($t).f+$t.a.f,$t.d=J(En,$t.f)),Ct(Nt,Ft)):de(Nt,$t,Ft.c,Ft.c,null,!0)))}$t=(En=zt(Nt=z(Nt.i))).a,(En=ne(rn,En,null)).c===$t?(En=($t=En).c,Sn=zt(Nt),yt=!1,(yn=Nt.a).b.a!==(hn=Sn.a).b.a&&pe(rn,Nt),_(yn.a,rn.a)&&(c(En.b.e,yn),En=zt(Nt=z(Nt)).a,ne(rn,zt(Nt),Sn),yt=!0),_(hn.a,rn.a)&&(c($t,hn.b.e),$t=ne(rn,Sn,null),yt=!0),yt?de(rn,Nt,$t.c,En,En,!0):(Ft=f(hn.a,yn.a)?hn.b.e:yn,de(rn,Nt,Ft=p($t.c.b,Ft),Ft.c,Ft.c,!1),Ft.b.i.c=!0,Ee(rn,Nt))):de(rn,Nt,En.c,$t,$t,!0)}(this,Gt)}for(this.a=this.f.a.a.b.a.a,Gt=0;null!==(jt=this.f.a.a.b);)jt.h||++Gt,H(jt);for(this.f=null,(Gt=this.e).b=null,Gt.d=null,this.e=Gt.c=null,Ie=(Gt=this.b).a.b;Ie!==Gt.a;Ie=jt)jt=Ie.b,(Ie=Ie.a).e.e===Ie&&(E(Ie.c,Ie),s(Ie));if(!this.n){if(Gt=this.b,this.m)for(Ie=Gt.b.h;Ie!==Gt.b;Ie=jt)jt=Ie.h,Ie.b.d.c!==Ie.d.c?Ie.f=Ie.d.c?1:-1:s(Ie);else for(Ie=Gt.a.b;Ie!==Gt.a;Ie=jt)if(jt=Ie.b,Ie.c){for(Ie=Ie.a;f(Ie.b.a,Ie.a);Ie=Ie.c.b);for(;f(Ie.a,Ie.b.a);Ie=Ie.e);for(ze=Ie.c.b,wt=void 0;Ie.e!==ze;)if(f(Ie.b.a,ze.a)){for(;ze.e!==Ie&&(f((Ge=ze.e).b.a,Ge.a)||x(ze.a,ze.b.a,ze.e.b.a)<=0);)ze=(wt=p(ze.e,ze)).b;ze=ze.c.b}else{for(;ze.e!==Ie&&(f((Pe=Ie.c.b).a,Pe.b.a)||0<=x(Ie.b.a,Ie.a,Ie.c.b.a));)Ie=(wt=p(Ie,Ie.c.b)).b;Ie=Ie.e}for(;ze.e.e!==Ie;)ze=(wt=p(ze.e,ze)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(jt=(Gt=this.b).a.b;jt!==Gt.a;jt=jt.b)if(jt.c){for(this.h&&this.h(2,this.c),Ie=jt.a;this.k&&this.k(Ie.a.d,this.c),(Ie=Ie.e)!==jt.a;);this.i&&this.i(this.c)}}else{for(jt=!!this.l,Ie=!1,ze=-1,wt=(Gt=this.b).a.d;wt!==Gt.a;wt=wt.d)if(wt.c)for(Ie||(this.h&&this.h(4,this.c),Ie=!0),_n=wt.a;jt&&ze!==(an=_n.b.d.c?0:1)&&(ze=an,this.l&&this.l(!!ze,this.c)),this.k&&this.k(_n.a.d,this.c),(_n=_n.e)!==wt.a;);Ie&&this.i&&this.i(this.c)}if(this.r){for(Ie=(Gt=this.b).a.b;Ie!==Gt.a;Ie=jt)if(jt=Ie.b,!Ie.c){for(wt=(ze=Ie.a).e,_n=void 0;wt=(_n=wt).e,(_n.d=null)===_n.b.d&&(_n.c===_n?j(_n.a,null):(_n.a.c=_n.c,O(_n,_n.b.e)),(an=_n.b).c===an?j(an.a,null):(an.a.c=an.c,O(an,an.b.e)),P(_n)),_n!==ze;);ze=Ie.d,((Ie=Ie.b).d=ze).b=Ie}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:Be,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},Be.prototype.gluDeleteTess=Be.prototype.x,Be.prototype.gluTessProperty=Be.prototype.B,Be.prototype.gluGetTessProperty=Be.prototype.y,Be.prototype.gluTessNormal=Be.prototype.A,Be.prototype.gluTessCallback=Be.prototype.z,Be.prototype.gluTessVertex=Be.prototype.C,Be.prototype.gluTessBeginPolygon=Be.prototype.u,Be.prototype.gluTessBeginContour=Be.prototype.t,Be.prototype.gluTessEndContour=Be.prototype.v,Be.prototype.gluTessEndPolygon=Be.prototype.w,void 0!==W&&(W.exports=this.libtess)},{}],253:[function(r,W,S){"use strict";function _(f,h,x,w){for(var a=f[h++],l=1<<a,d=1+l,u=1+d,c=a+1,s=(1<<c)-1,m=0,p=0,y=0,O=f[h++],$=new Int32Array(4096),N=null;;){for(;m<16&&0!==O;)p|=f[h++]<<m,m+=8,1===O?O=f[h++]:--O;if(m<c)break;var P=p&s;if(p>>=c,m-=c,P==l)u=1+d,s=(1<<(c=a+1))-1,N=null;else{if(P==d)break;for(var j=P<u?P:N,V=0,k=j;l<k;)k=$[k]>>8,++V;var E=k;if(w<y+V+(j!==P?1:0))return void console.log("Warning, gif stream longer than expected.");x[y++]=E;var T=y+=V;for(j!==P&&(x[y++]=E),k=j;V--;)x[--T]=255&(k=$[k]),k>>=8;null!==N&&u<4096&&($[u++]=N<<8|E,s+1<=u&&c<12&&(++c,s=s<<1|1)),N=P}}y!==w&&console.log("Warning, gif stream shorter than expected.")}try{S.GifWriter=function v(f,h,x,w){var a=0,l=void 0===(w=void 0===w?{}:w).loop?null:w.loop,d=void 0===w.palette?null:w.palette;if(h<=0||x<=0||65535<h||65535<x)throw new Error("Width/Height invalid.");function u(N){if((N=N.length)<2||256<N||N&N-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return N}f[a++]=71,f[a++]=73,f[a++]=70,f[a++]=56,f[a++]=57,f[a++]=97;var c=0,s=0;if(null!==d){for(var m=u(d);m>>=1;)++c;if(m=1<<c,--c,void 0!==w.background){if(m<=(s=w.background))throw new Error("Background index out of range.");if(0===s)throw new Error("Background index explicitly passed as 0.")}}if(f[a++]=255&h,f[a++]=h>>8&255,f[a++]=255&x,f[a++]=x>>8&255,f[a++]=(null!==d?128:0)|c,f[a++]=s,f[a++]=0,null!==d)for(var p=0,y=d.length;p<y;++p){var O=d[p];f[a++]=O>>16&255,f[a++]=O>>8&255,f[a++]=255&O}if(null!==l){if(l<0||65535<l)throw new Error("Loop count invalid.");f[a++]=33,f[a++]=255,f[a++]=11,f[a++]=78,f[a++]=69,f[a++]=84,f[a++]=83,f[a++]=67,f[a++]=65,f[a++]=80,f[a++]=69,f[a++]=50,f[a++]=46,f[a++]=48,f[a++]=3,f[a++]=1,f[a++]=255&l,f[a++]=l>>8&255,f[a++]=0}var $=!1;this.addFrame=function(N,P,j,V,k,E){if(!0===$&&(--a,$=!1),E=void 0===E?{}:E,N<0||P<0||65535<N||65535<P)throw new Error("x/y invalid.");if(j<=0||V<=0||65535<j||65535<V)throw new Error("Width/Height invalid.");if(k.length<j*V)throw new Error("Not enough pixels for the frame size.");var T=!0,H=E.palette;if(null==H&&(T=!1,H=d),null==H)throw new Error("Must supply either a local or global palette.");for(var z=u(H),X=0;z>>=1;)++X;z=1<<X;var te=void 0===E.delay?0:E.delay,J=void 0===E.disposal?0:E.disposal;if(J<0||3<J)throw new Error("Disposal out of range.");var q=!1,ne=0;if(null!=E.transparent&&(q=!0,(ne=E.transparent)<0||z<=ne))throw new Error("Transparent color index.");if(0===J&&!q&&0===te||(f[a++]=33,f[a++]=249,f[a++]=4,f[a++]=J<<2|(!0===q?1:0),f[a++]=255&te,f[a++]=te>>8&255,f[a++]=ne,f[a++]=0),f[a++]=44,f[a++]=255&N,f[a++]=N>>8&255,f[a++]=255&P,f[a++]=P>>8&255,f[a++]=255&j,f[a++]=j>>8&255,f[a++]=255&V,f[a++]=V>>8&255,f[a++]=!0===T?128|X-1:0,!0===T)for(var de=0,De=H.length;de<De;++de){var Y=H[de];f[a++]=Y>>16&255,f[a++]=Y>>8&255,f[a++]=255&Y}return a=function(R,se,pe,Ee){R[se++]=pe;var Ne=se++,We=1<<pe,et=We-1,Ae=1+We,Be=1+Ae,Fe=pe+1,Oe=0,Ze=0;function Qe(Ht){for(;Ht<=Oe;)R[se++]=255&Ze,Ze>>=8,Oe-=8,se===Ne+256&&(R[Ne]=255,Ne=se++)}function vt(Ht){Ze|=Ht<<Oe,Oe+=Fe,Qe(8)}var ht=Ee[0]&et,ft={};vt(We);for(var kt=1,qt=Ee.length;kt<qt;++kt){var Lt=Ee[kt]&et,ln=ht<<8|Lt,sn=ft[ln];if(void 0===sn){for(Ze|=ht<<Oe,Oe+=Fe;8<=Oe;)R[se++]=255&Ze,Ze>>=8,Oe-=8,se===Ne+256&&(R[Ne]=255,Ne=se++);4096===Be?(vt(We),Be=1+Ae,Fe=pe+1,ft={}):(1<<Fe<=Be&&++Fe,ft[ln]=Be++),ht=Lt}else ht=sn}return vt(ht),vt(Ae),Qe(1),Ne+1===se?R[Ne]=0:(R[Ne]=se-Ne-1,R[se++]=0),se}(f,a,X<2?2:X,k)},this.end=function(){return!1===$&&(f[a++]=59,$=!0),a},this.getOutputBuffer=function(){return f},this.setOutputBuffer=function(N){f=N},this.getOutputBufferPosition=function(){return a},this.setOutputBufferPosition=function(N){a=N}},S.GifReader=function(f){var h=0;if(71!==f[h++]||73!==f[h++]||70!==f[h++]||56!==f[h++]||56!=(f[h++]+1&253)||97!==f[h++])throw new Error("Invalid GIF 87a/89a header.");var x=f[h++]|f[h++]<<8,w=f[h++]|f[h++]<<8,a=f[h++],d=(h++,h++,null),u=null,c=(a>>7&&(d=h,h+=3*(u=1<<1+(7&a))),!0),s=[],m=0,p=null,y=0,O=null;for(this.width=x,this.height=w;c&&h<f.length;)switch(f[h++]){case 33:switch(f[h++]){case 255:if(11!==f[h]||78==f[h+1]&&69==f[h+2]&&84==f[h+3]&&83==f[h+4]&&67==f[h+5]&&65==f[h+6]&&80==f[h+7]&&69==f[h+8]&&50==f[h+9]&&46==f[h+10]&&48==f[h+11]&&3==f[h+12]&&1==f[h+13]&&0==f[h+16])h+=14,O=f[h++]|f[h++]<<8,h++;else for(h+=12;;){if(!(0<=(N=f[h++])))throw Error("Invalid block size");if(0===N)break;h+=N}break;case 249:if(4!==f[h++]||0!==f[h+4])throw new Error("Invalid graphics extension block.");var $=f[h++];m=f[h++]|f[h++]<<8,p=f[h++],!(1&$)&&(p=null),y=$>>2&7,h++;break;case 254:for(;;){if(!(0<=(N=f[h++])))throw Error("Invalid block size");if(0===N)break;h+=N}break;default:throw new Error("Unknown graphic control label: 0x"+f[h-1].toString(16))}break;case 44:var N,P=f[h++]|f[h++]<<8,j=f[h++]|f[h++]<<8,V=f[h++]|f[h++]<<8,k=f[h++]|f[h++]<<8,E=(te=f[h++])>>6&1,H=d,X=u,z=!1,te=(te>>7&&(z=!0,H=h,h+=3*(X=1<<1+(7&te))),h);for(h++;;){if(!(0<=(N=f[h++])))throw Error("Invalid block size");if(0===N)break;h+=N}s.push({x:P,y:j,width:V,height:k,has_local_palette:z,palette_offset:H,palette_size:X,data_offset:te,data_length:h-te,transparent_index:p,interlaced:!!E,delay:m,disposal:y});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+f[h-1].toString(16))}this.numFrames=function(){return s.length},this.loopCount=function(){return O},this.frameInfo=function(J){if(J<0||J>=s.length)throw new Error("Frame index out of range.");return s[J]},this.decodeAndBlitFrameBGRA=function(J,q){for(var ne=(J=this.frameInfo(J)).width*J.height,de=new Uint8Array(ne),De=(_(f,J.data_offset,de,ne),J.palette_offset),Y=J.transparent_index,R=(null===Y&&(Y=256),J.width),se=x-R,pe=R,Ee=4*(J.y*x+J.x),Ne=4*((J.y+J.height)*x+J.x),We=Ee,et=4*se,Ae=(!0===J.interlaced&&(et+=4*x*7),8),Be=0,Fe=de.length;Be<Fe;++Be){var Oe,Ze,Qe=de[Be];0===pe&&(pe=R,Ne<=(We+=et)&&(et=4*se+4*x*(Ae-1),We=Ee+(R+se)*(Ae<<1),Ae>>=1)),Qe===Y?We+=4:(Oe=f[De+3*Qe],Ze=f[De+3*Qe+1],q[We++]=Qe=f[De+3*Qe+2],q[We++]=Ze,q[We++]=Oe,q[We++]=255),--pe}},this.decodeAndBlitFrameRGBA=function(J,q){for(var ne=(J=this.frameInfo(J)).width*J.height,de=new Uint8Array(ne),De=(_(f,J.data_offset,de,ne),J.palette_offset),Y=J.transparent_index,R=(null===Y&&(Y=256),J.width),se=x-R,pe=R,Ee=4*(J.y*x+J.x),Ne=4*((J.y+J.height)*x+J.x),We=Ee,et=4*se,Ae=(!0===J.interlaced&&(et+=4*x*7),8),Be=0,Fe=de.length;Be<Fe;++Be){var Oe,Ze,Qe=de[Be];0===pe&&(pe=R,Ne<=(We+=et)&&(et=4*se+4*x*(Ae-1),We=Ee+(R+se)*(Ae<<1),Ae>>=1)),Qe===Y?We+=4:(Oe=f[De+3*Qe],Ze=f[De+3*Qe+1],Qe=f[De+3*Qe+2],q[We++]=Oe,q[We++]=Ze,q[We++]=Qe,q[We++]=255),--pe}}}}catch{}},{}],254:[function(r,W,S){(function(v){var f;f=function(h){"use strict";function x(Z){if(null==this)throw TypeError();var B,I=String(this),M=I.length;if(!((Z=(Z=Z?Number(Z):0)!=Z?0:Z)<0||M<=Z))return 55296<=(B=I.charCodeAt(Z))&&B<=56319&&Z+1<M&&56320<=(M=I.charCodeAt(Z+1))&&M<=57343?1024*(B-55296)+M-56320+65536:B}String.prototype.codePointAt||((w=function(){try{var C={},B=Object.defineProperty,I=B(C,C,C)&&B}catch{}return I}())?w(String.prototype,"codePointAt",{value:x,configurable:!0,writable:!0}):String.prototype.codePointAt=x);var w;function d(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function u(C,B){this.source=C,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=B,this.destLen=0,this.ltree=new d,this.dtree=new d}var c=new d,s=new d,m=new Uint8Array(30),p=new Uint16Array(30),y=new Uint8Array(30),O=new Uint16Array(30),$=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),N=new d,P=new Uint8Array(320);function j(C,B,I,M){for(var Z,K=0;K<I;++K)C[K]=0;for(K=0;K<30-I;++K)C[K+I]=K/I|0;for(Z=M,K=0;K<30;++K)B[K]=Z,Z+=1<<C[K]}var V=new Uint16Array(16);function k(C,B,I,M){for(var Z,K=0;K<16;++K)C.table[K]=0;for(K=0;K<M;++K)C.table[B[I+K]]++;for(K=Z=C.table[0]=0;K<16;++K)V[K]=Z,Z+=C.table[K];for(K=0;K<M;++K)B[I+K]&&(C.trans[V[B[I+K]]++]=K)}function E(C,B,I){if(!B)return I;for(;C.bitcount<24;)C.tag|=C.source[C.sourceIndex++]<<C.bitcount,C.bitcount+=8;var M=C.tag&65535>>>16-B;return C.tag>>>=B,C.bitcount-=B,M+I}function T(C,B){for(;C.bitcount<24;)C.tag|=C.source[C.sourceIndex++]<<C.bitcount,C.bitcount+=8;for(var I=0,M=0,Z=0,K=C.tag;M=2*M+(1&K),K>>>=1,I+=B.table[++Z],0<=(M-=B.table[Z]););return C.tag=K,C.bitcount-=Z,B.trans[I+M]}function H(C,B,I){for(;;){if(256===(M=T(C,B)))return 0;if(M<256)C.dest[C.destLen++]=M;else for(var Z,K=E(C,m[M-=257],p[M]),M=T(C,I),le=Z=C.destLen-E(C,y[M],O[M]);le<Z+K;++le)C.dest[C.destLen++]=C.dest[le]}}for(var X=c,z=s,te=0;te<7;++te)X.table[te]=0;for(X.table[7]=24,X.table[8]=152,X.table[9]=112,te=0;te<24;++te)X.trans[te]=256+te;for(te=0;te<144;++te)X.trans[24+te]=te;for(te=0;te<8;++te)X.trans[168+te]=280+te;for(te=0;te<112;++te)X.trans[176+te]=144+te;for(te=0;te<5;++te)z.table[te]=0;for(z.table[5]=32,te=0;te<32;++te)z.trans[te]=te;j(m,p,4,3),j(y,O,2,1),m[28]=0,p[28]=258;var J=function(C,B){var I,M,Z,K=new u(C,B);do{switch(void 0,(M=K).bitcount--||(M.tag=M.source[M.sourceIndex++],M.bitcount=7),Z=1&M.tag,M.tag>>>=1,M=Z,E(K,2,0)){case 0:I=function(Kt){for(var Bn,Gn;8<Kt.bitcount;)Kt.sourceIndex--,Kt.bitcount-=8;if((Bn=256*Kt.source[Kt.sourceIndex+1]+Kt.source[Kt.sourceIndex])!==(65535&~(256*Kt.source[Kt.sourceIndex+3]+Kt.source[Kt.sourceIndex+2])))return-3;for(Kt.sourceIndex+=4,Gn=Bn;Gn;--Gn)Kt.dest[Kt.destLen++]=Kt.source[Kt.sourceIndex++];return Kt.bitcount=0,0}(K);break;case 1:I=H(K,c,s);break;case 2:on=tn=gn=Qt=le=gt=void 0;for(var le,ke=K,Ke=K.ltree,it=K.dtree,It=E(ke,5,257),Wt=E(ke,5,1),Bt=E(ke,4,4),gt=0;gt<19;++gt)P[gt]=0;for(gt=0;gt<Bt;++gt){var gn=E(ke,3,0);P[$[gt]]=gn}for(k(N,P,0,19),le=0;le<It+Wt;){var tn=T(ke,N);switch(tn){case 16:for(var on=P[le-1],Qt=E(ke,2,3);Qt;--Qt)P[le++]=on;break;case 17:for(Qt=E(ke,3,3);Qt;--Qt)P[le++]=0;break;case 18:for(Qt=E(ke,7,11);Qt;--Qt)P[le++]=0;break;default:P[le++]=tn}}k(Ke,P,0,It),k(it,P,It,Wt),I=H(K,K.ltree,K.dtree);break;default:I=-3}if(0!==I)throw new Error("Data error")}while(!M);return K.destLen<K.dest.length?"function"==typeof K.dest.slice?K.dest.slice(0,K.destLen):K.dest.subarray(0,K.destLen):K.dest};function q(C,B,I,M,Z){return Math.pow(1-Z,3)*C+3*Math.pow(1-Z,2)*Z*B+3*(1-Z)*Math.pow(Z,2)*I+Math.pow(Z,3)*M}function ne(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function de(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function De(C){throw new Error(C)}function Y(C,B){C||De(B)}ne.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},ne.prototype.addPoint=function(C,B){"number"==typeof C&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=C,this.x2=C),C<this.x1&&(this.x1=C),C>this.x2&&(this.x2=C)),"number"==typeof B&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=B,this.y2=B),B<this.y1&&(this.y1=B),B>this.y2&&(this.y2=B))},ne.prototype.addX=function(C){this.addPoint(C,null)},ne.prototype.addY=function(C){this.addPoint(null,C)},ne.prototype.addBezier=function(C,B,I,M,Z,K,le,ke){var Ke=[C,B],it=[I,M],It=[Z,K],Wt=[le,ke];this.addPoint(C,B),this.addPoint(le,ke);for(var Bt=0;Bt<=1;Bt++){var gt,gn=6*Ke[Bt]-12*it[Bt]+6*It[Bt],tn=-3*Ke[Bt]+9*it[Bt]-9*It[Bt]+3*Wt[Bt],on=3*it[Bt]-3*Ke[Bt];0==tn?0==gn||0<(gt=-on/gn)&&gt<1&&(0===Bt&&this.addX(q(Ke[Bt],it[Bt],It[Bt],Wt[Bt],gt)),1===Bt&&this.addY(q(Ke[Bt],it[Bt],It[Bt],Wt[Bt],gt))):(gt=Math.pow(gn,2)-4*on*tn)<0||(0<(on=(-gn+Math.sqrt(gt))/(2*tn))&&on<1&&(0===Bt&&this.addX(q(Ke[Bt],it[Bt],It[Bt],Wt[Bt],on)),1===Bt&&this.addY(q(Ke[Bt],it[Bt],It[Bt],Wt[Bt],on))),0<(on=(-gn-Math.sqrt(gt))/(2*tn))&&on<1&&(0===Bt&&this.addX(q(Ke[Bt],it[Bt],It[Bt],Wt[Bt],on)),1===Bt&&this.addY(q(Ke[Bt],it[Bt],It[Bt],Wt[Bt],on))))}},ne.prototype.addQuad=function(C,B,I,M,Z,K){this.addBezier(C,B,I=C+2/3*(I-C),M=B+2/3*(M-B),I+1/3*(Z-C),M+1/3*(K-B),Z,K)},de.prototype.moveTo=function(C,B){this.commands.push({type:"M",x:C,y:B})},de.prototype.lineTo=function(C,B){this.commands.push({type:"L",x:C,y:B})},de.prototype.curveTo=de.prototype.bezierCurveTo=function(C,B,I,M,Z,K){this.commands.push({type:"C",x1:C,y1:B,x2:I,y2:M,x:Z,y:K})},de.prototype.quadTo=de.prototype.quadraticCurveTo=function(C,B,I,M){this.commands.push({type:"Q",x1:C,y1:B,x:I,y:M})},de.prototype.close=de.prototype.closePath=function(){this.commands.push({type:"Z"})},de.prototype.extend=function(C){var B;if(C.commands)C=C.commands;else if(C instanceof ne)return this.moveTo((B=C).x1,B.y1),this.lineTo(B.x2,B.y1),this.lineTo(B.x2,B.y2),this.lineTo(B.x1,B.y2),void this.close();Array.prototype.push.apply(this.commands,C)},de.prototype.getBoundingBox=function(){for(var C=new ne,B=0,I=0,M=0,Z=0,K=0;K<this.commands.length;K++){var le=this.commands[K];switch(le.type){case"M":C.addPoint(le.x,le.y),B=M=le.x,I=Z=le.y;break;case"L":C.addPoint(le.x,le.y),M=le.x,Z=le.y;break;case"Q":C.addQuad(M,Z,le.x1,le.y1,le.x,le.y),M=le.x,Z=le.y;break;case"C":C.addBezier(M,Z,le.x1,le.y1,le.x2,le.y2,le.x,le.y),M=le.x,Z=le.y;break;case"Z":M=B,Z=I;break;default:throw new Error("Unexpected path command "+le.type)}}return C.isEmpty()&&C.addPoint(0,0),C},de.prototype.draw=function(C){C.beginPath();for(var B=0;B<this.commands.length;B+=1){var I=this.commands[B];"M"===I.type?C.moveTo(I.x,I.y):"L"===I.type?C.lineTo(I.x,I.y):"C"===I.type?C.bezierCurveTo(I.x1,I.y1,I.x2,I.y2,I.x,I.y):"Q"===I.type?C.quadraticCurveTo(I.x1,I.y1,I.x,I.y):"Z"===I.type&&C.closePath()}this.fill&&(C.fillStyle=this.fill,C.fill()),this.stroke&&(C.strokeStyle=this.stroke,C.lineWidth=this.strokeWidth,C.stroke())},de.prototype.toPathData=function(C){function B(){for(var K=arguments,le="",ke=0;ke<arguments.length;ke+=1){var Ke=K[ke];0<=Ke&&0<ke&&(le+=" "),le+=Math.round(Ke)===Ke?""+Math.round(Ke):Ke.toFixed(C)}return le}C=void 0!==C?C:2;for(var I="",M=0;M<this.commands.length;M+=1){var Z=this.commands[M];"M"===Z.type?I+="M"+B(Z.x,Z.y):"L"===Z.type?I+="L"+B(Z.x,Z.y):"C"===Z.type?I+="C"+B(Z.x1,Z.y1,Z.x2,Z.y2,Z.x,Z.y):"Q"===Z.type?I+="Q"+B(Z.x1,Z.y1,Z.x,Z.y):"Z"===Z.type&&(I+="Z")}return I},de.prototype.toSVG=function(C){var B=(B='<path d="')+this.toPathData(C)+'"';return this.fill&&"black"!==this.fill&&(B+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(B+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),B+"/>"},de.prototype.toDOMElement=function(B){B=this.toPathData(B);var I=document.createElementNS("http://www.w3.org/2000/svg","path");return I.setAttribute("d",B),I};var R={fail:De,argument:Y,assert:Y},se={},pe={},Ee={};function Ne(C){return function(){return C}}pe.BYTE=function(C){return R.argument(0<=C&&C<=255,"Byte value should be between 0 and 255."),[C]},Ee.BYTE=Ne(1),pe.CHAR=function(C){return[C.charCodeAt(0)]},Ee.CHAR=Ne(1),pe.CHARARRAY=function(C){for(var B=[],I=0;I<C.length;I+=1)B[I]=C.charCodeAt(I);return B},Ee.CHARARRAY=function(C){return C.length},pe.USHORT=function(C){return[C>>8&255,255&C]},Ee.USHORT=Ne(2),pe.SHORT=function(C){return[(C=32768<=C?-(65536-C):C)>>8&255,255&C]},Ee.SHORT=Ne(2),pe.UINT24=function(C){return[C>>16&255,C>>8&255,255&C]},Ee.UINT24=Ne(3),pe.ULONG=function(C){return[C>>24&255,C>>16&255,C>>8&255,255&C]},Ee.ULONG=Ne(4),pe.LONG=function(C){return[(C=2147483648<=C?-(4294967296-C):C)>>24&255,C>>16&255,C>>8&255,255&C]},Ee.LONG=Ne(4),pe.FIXED=pe.ULONG,Ee.FIXED=Ee.ULONG,pe.FWORD=pe.SHORT,Ee.FWORD=Ee.SHORT,pe.UFWORD=pe.USHORT,Ee.UFWORD=Ee.USHORT,pe.LONGDATETIME=function(C){return[0,0,0,0,C>>24&255,C>>16&255,C>>8&255,255&C]},Ee.LONGDATETIME=Ne(8),pe.TAG=function(C){return R.argument(4===C.length,"Tag should be exactly 4 ASCII characters."),[C.charCodeAt(0),C.charCodeAt(1),C.charCodeAt(2),C.charCodeAt(3)]},Ee.TAG=Ne(4),pe.Card8=pe.BYTE,Ee.Card8=Ee.BYTE,pe.Card16=pe.USHORT,Ee.Card16=Ee.USHORT,pe.OffSize=pe.BYTE,Ee.OffSize=Ee.BYTE,pe.SID=pe.USHORT,Ee.SID=Ee.USHORT,pe.NUMBER=function(C){return-107<=C&&C<=107?[C+139]:108<=C&&C<=1131?[247+((C-=108)>>8),255&C]:-1131<=C&&C<=-108?[251+((C=-C-108)>>8),255&C]:-32768<=C&&C<=32767?pe.NUMBER16(C):pe.NUMBER32(C)},Ee.NUMBER=function(C){return pe.NUMBER(C).length},pe.NUMBER16=function(C){return[28,C>>8&255,255&C]},Ee.NUMBER16=Ne(3),pe.NUMBER32=function(C){return[29,C>>24&255,C>>16&255,C>>8&255,255&C]},Ee.NUMBER32=Ne(5),pe.REAL=function(C){for(var B=C.toString(),I=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(B),M=(I&&(I=parseFloat("1e"+((I[2]?+I[2]:0)+I[1].length)),B=(Math.round(C*I)/I).toString()),""),Z=0,K=B.length;Z<K;Z+=1){var le=B[Z];M+="e"===le?"-"===B[++Z]?"c":"b":"."===le?"a":"-"===le?"e":le}for(var ke=[30],Ke=0,it=(M+=1&M.length?"f":"ff").length;Ke<it;Ke+=2)ke.push(parseInt(M.substr(Ke,2),16));return ke},Ee.REAL=function(C){return pe.REAL(C).length},pe.NAME=pe.CHARARRAY,Ee.NAME=Ee.CHARARRAY,pe.STRING=pe.CHARARRAY,Ee.STRING=Ee.CHARARRAY,se.UTF8=function(C,B,I){for(var M=[],Z=I,K=0;K<Z;K++,B+=1)M[K]=C.getUint8(B);return String.fromCharCode.apply(null,M)},se.UTF16=function(C,B,I){for(var M=[],Z=I/2,K=0;K<Z;K++,B+=2)M[K]=C.getUint16(B);return String.fromCharCode.apply(null,M)},pe.UTF16=function(C){for(var B=[],I=0;I<C.length;I+=1){var M=C.charCodeAt(I);B[B.length]=M>>8&255,B[B.length]=255&M}return B},Ee.UTF16=function(C){return 2*C.length};var We,et={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"},Ae=(se.MACSTRING=function(C,B,I,M){var Z=et[M];if(void 0!==Z){for(var K="",le=0;le<I;le++){var ke=C.getUint8(B+le);K+=ke<=127?String.fromCharCode(ke):Z[127&ke]}return K}},"function"==typeof WeakMap&&new WeakMap);function Be(C){return-128<=C&&C<=127}pe.MACSTRING=function(C,B){var I=function(le){if(!We)for(var ke in We={},et)We[ke]=new String(ke);var Ke=We[le];if(void 0!==Ke){if(Ae){var it=Ae.get(Ke);if(void 0!==it)return it}var It=et[le];if(void 0!==It){for(var Wt={},Bt=0;Bt<It.length;Bt++)Wt[It.charCodeAt(Bt)]=Bt+128;return Ae&&Ae.set(Ke,Wt),Wt}}}(B);if(void 0!==I){for(var M=[],Z=0;Z<C.length;Z++){var K=C.charCodeAt(Z);if(128<=K&&void 0===(K=I[K]))return;M[Z]=K}return M}},Ee.MACSTRING=function(C,B){return void 0!==(C=pe.MACSTRING(C,B))?C.length:0},pe.VARDELTAS=function(C){for(var M=0,B=[];M<C.length;){var I=C[M];M=(0===I?function(Z,K,le){for(var ke=0,Ke=Z.length;K<Ke&&ke<64&&0===Z[K];)++K,++ke;return le.push(128|ke-1),K}:-128<=I&&I<=127?function(Z,K,le){for(var ke=0,Ke=Z.length,it=K;it<Ke&&ke<64;){var It=Z[it];if(!Be(It)||0===It&&it+1<Ke&&0===Z[it+1])break;++it,++ke}le.push(ke-1);for(var Wt=K;Wt<it;++Wt)le.push(Z[Wt]+256&255);return it}:function(Z,K,le){for(var ke=0,Ke=Z.length,it=K;it<Ke&&ke<64;){var It=Z[it];if(0===It||Be(It)&&it+1<Ke&&Be(Z[it+1]))break;++it,++ke}le.push(64|ke-1);for(var Wt=K;Wt<it;++Wt){var Bt=Z[Wt];le.push(Bt+65536>>8&255,Bt+256&255)}return it})(C,M,B)}return B},pe.INDEX=function(C){for(var B=1,I=[B],M=[],Z=0;Z<C.length;Z+=1){var K=pe.OBJECT(C[Z]);Array.prototype.push.apply(M,K),I.push(B+=K.length)}if(0===M.length)return[0,0];for(var le=[],ke=1+Math.floor(Math.log(B)/Math.log(2))/8|0,Ke=[void 0,pe.BYTE,pe.USHORT,pe.UINT24,pe.ULONG][ke],it=0;it<I.length;it+=1){var It=Ke(I[it]);Array.prototype.push.apply(le,It)}return Array.prototype.concat(pe.Card16(C.length),pe.OffSize(ke),le,M)},Ee.INDEX=function(C){return pe.INDEX(C).length},pe.DICT=function(C){for(var B=[],I=Object.keys(C),M=I.length,Z=0;Z<M;Z+=1){var K=parseInt(I[Z],0),le=C[K];B=(B=B.concat(pe.OPERAND(le.value,le.type))).concat(pe.OPERATOR(K))}return B},Ee.DICT=function(C){return pe.DICT(C).length},pe.OPERATOR=function(C){return C<1200?[C]:[12,C-1200]},pe.OPERAND=function(C,B){var I=[];if(Array.isArray(B))for(var M=0;M<B.length;M+=1)R.argument(C.length===B.length,"Not enough arguments given for type"+B),I=I.concat(pe.OPERAND(C[M],B[M]));else if("SID"===B)I=I.concat(pe.NUMBER(C));else if("offset"===B)I=I.concat(pe.NUMBER32(C));else if("number"===B)I=I.concat(pe.NUMBER(C));else{if("real"!==B)throw new Error("Unknown operand type "+B);I=I.concat(pe.REAL(C))}return I},pe.OP=pe.BYTE,Ee.OP=Ee.BYTE;var Fe="function"==typeof WeakMap&&new WeakMap;function Oe(C,B,I){for(var M=0;M<B.length;M+=1){var Z=B[M];this[Z.name]=Z.value}if(this.tableName=C,this.fields=B,I)for(var K=Object.keys(I),le=0;le<K.length;le+=1){var ke=K[le];void 0!==this[ke]&&(this[ke]=I[ke])}}function Ze(C,B,I){void 0===I&&(I=B.length);var M=new Array(B.length+1);M[0]={name:C+"Count",type:"USHORT",value:I};for(var Z=0;Z<B.length;Z++)M[Z+1]={name:C+Z,type:"USHORT",value:B[Z]};return M}function Qe(C,B,I){var M=B.length,Z=new Array(M+1);Z[0]={name:C+"Count",type:"USHORT",value:M};for(var K=0;K<M;K++)Z[K+1]={name:C+K,type:"TABLE",value:I(B[K],K)};return Z}function vt(C,B,I){var M=B.length,Z=[];Z[0]={name:C+"Count",type:"USHORT",value:M};for(var K=0;K<M;K++)Z=Z.concat(I(B[K],K));return Z}function ht(C){1===C.format?Oe.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Ze("glyph",C.glyphs))):R.assert(!1,"Can't create coverage table format 2 yet.")}function ft(C){Oe.call(this,"scriptListTable",vt("scriptRecord",C,function(B,I){var M=B.script,Z=M.defaultLangSys;return R.assert(!!Z,"Unable to write GSUB: script "+B.tag+" has no default language system."),[{name:"scriptTag"+I,type:"TAG",value:B.tag},{name:"script"+I,type:"TABLE",value:new Oe("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Oe("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Z.reqFeatureIndex}].concat(Ze("featureIndex",Z.featureIndexes)))}].concat(vt("langSys",M.langSysRecords,function(K,le){var ke=K.langSys;return[{name:"langSysTag"+le,type:"TAG",value:K.tag},{name:"langSys"+le,type:"TABLE",value:new Oe("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ke.reqFeatureIndex}].concat(Ze("featureIndex",ke.featureIndexes)))}]})))}]}))}function kt(C){Oe.call(this,"featureListTable",vt("featureRecord",C,function(B,I){var M=B.feature;return[{name:"featureTag"+I,type:"TAG",value:B.tag},{name:"feature"+I,type:"TABLE",value:new Oe("featureTable",[{name:"featureParams",type:"USHORT",value:M.featureParams}].concat(Ze("lookupListIndex",M.lookupListIndexes)))}]}))}function qt(C,B){Oe.call(this,"lookupListTable",Qe("lookup",C,function(I){var M=B[I.lookupType];return R.assert(!!M,"Unable to write GSUB lookup type "+I.lookupType+" tables."),new Oe("lookupTable",[{name:"lookupType",type:"USHORT",value:I.lookupType},{name:"lookupFlag",type:"USHORT",value:I.lookupFlag}].concat(Qe("subtable",I.subtables,M)))}))}pe.CHARSTRING=function(C){if(Fe){var B=Fe.get(C);if(void 0!==B)return B}for(var K=[],I=C.length,M=0;M<I;M+=1){var Z=C[M];K=K.concat(pe[Z.type](Z.value))}return Fe&&Fe.set(C,K),K},Ee.CHARSTRING=function(C){return pe.CHARSTRING(C).length},pe.OBJECT=function(C){var B=pe[C.type];return R.argument(void 0!==B,"No encoding function for type "+C.type),B(C.value)},Ee.OBJECT=function(C){var B=Ee[C.type];return R.argument(void 0!==B,"No sizeOf function for type "+C.type),B(C.value)},pe.TABLE=function(C){for(var B=[],I=C.fields.length,M=[],Z=[],K=0;K<I;K+=1){var le=C.fields[K],ke=(R.argument(void 0!==(Ke=pe[le.type]),"No encoding function for field type "+le.type+" ("+le.name+")"),C[le.name]),Ke=Ke(ke=void 0===ke?le.value:ke);"TABLE"===le.type?(Z.push(B.length),B=B.concat([0,0]),M.push(Ke)):B=B.concat(Ke)}for(var it=0;it<M.length;it+=1){var It=Z[it],Wt=B.length;R.argument(Wt<65536,"Table "+C.tableName+" too big."),B[It]=Wt>>8,B[It+1]=255&Wt,B=B.concat(M[it])}return B},Ee.TABLE=function(C){for(var B=0,I=C.fields.length,M=0;M<I;M+=1){var Z=C.fields[M],K=Ee[Z.type],le=(R.argument(void 0!==K,"No sizeOf function for field type "+Z.type+" ("+Z.name+")"),C[Z.name]);B+=K(le=void 0===le?Z.value:le),"TABLE"===Z.type&&(B+=2)}return B},pe.RECORD=pe.TABLE,Ee.RECORD=Ee.TABLE,pe.LITERAL=function(C){return C},Ee.LITERAL=function(C){return C.length},Oe.prototype.encode=function(){return pe.TABLE(this)},Oe.prototype.sizeOf=function(){return Ee.TABLE(this)};var Lt={Table:Oe,Record:Oe,Coverage:(ht.prototype=Object.create(Oe.prototype)).constructor=ht,ScriptList:(ft.prototype=Object.create(Oe.prototype)).constructor=ft,FeatureList:(kt.prototype=Object.create(Oe.prototype)).constructor=kt,LookupList:(qt.prototype=Object.create(Oe.prototype)).constructor=qt,ushortList:Ze,tableList:Qe,recordList:vt};function ln(C,B){return C.getUint8(B)}function sn(C,B){return C.getUint16(B,!1)}function Ht(C,B){return C.getUint32(B,!1)}function Tt(C,B){return C.getInt16(B,!1)+C.getUint16(B+2,!1)/65535}var Jt={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function bt(C,B){this.data=C,this.offset=B,this.relativeOffset=0}bt.prototype.parseByte=function(){var C=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,C},bt.prototype.parseChar=function(){var C=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,C},bt.prototype.parseCard8=bt.prototype.parseByte,bt.prototype.parseCard16=bt.prototype.parseUShort=function(){var C=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,C},bt.prototype.parseSID=bt.prototype.parseUShort,bt.prototype.parseOffset16=bt.prototype.parseUShort,bt.prototype.parseShort=function(){var C=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,C},bt.prototype.parseF2Dot14=function(){var C=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,C},bt.prototype.parseOffset32=bt.prototype.parseULong=function(){var C=Ht(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,C},bt.prototype.parseFixed=function(){var C=Tt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,C},bt.prototype.parseString=function(C){var B=this.data,I=this.offset+this.relativeOffset,M="";this.relativeOffset+=C;for(var Z=0;Z<C;Z++)M+=String.fromCharCode(B.getUint8(I+Z));return M},bt.prototype.parseTag=function(){return this.parseString(4)},bt.prototype.parseLongDateTime=function(){var C=Ht(this.data,this.offset+this.relativeOffset+4);return C-=2082844800,this.relativeOffset+=8,C},bt.prototype.parseVersion=function(C){var B=sn(this.data,this.offset+this.relativeOffset),I=sn(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,B+I/(C=void 0===C?4096:C)/10},bt.prototype.skip=function(C,B){this.relativeOffset+=Jt[C]*(B=void 0===B?1:B)},bt.prototype.parseULongList=function(C){void 0===C&&(C=this.parseULong());for(var B=new Array(C),I=this.data,M=this.offset+this.relativeOffset,Z=0;Z<C;Z++)B[Z]=I.getUint32(M),M+=4;return this.relativeOffset+=4*C,B},bt.prototype.parseOffset16List=bt.prototype.parseUShortList=function(C){void 0===C&&(C=this.parseUShort());for(var B=new Array(C),I=this.data,M=this.offset+this.relativeOffset,Z=0;Z<C;Z++)B[Z]=I.getUint16(M),M+=2;return this.relativeOffset+=2*C,B},bt.prototype.parseShortList=function(C){for(var B=new Array(C),I=this.data,M=this.offset+this.relativeOffset,Z=0;Z<C;Z++)B[Z]=I.getInt16(M),M+=2;return this.relativeOffset+=2*C,B},bt.prototype.parseByteList=function(C){for(var B=new Array(C),I=this.data,M=this.offset+this.relativeOffset,Z=0;Z<C;Z++)B[Z]=I.getUint8(M++);return this.relativeOffset+=C,B},bt.prototype.parseList=function(C,B){B||(B=C,C=this.parseUShort());for(var I=new Array(C),M=0;M<C;M++)I[M]=B.call(this);return I},bt.prototype.parseList32=function(C,B){B||(B=C,C=this.parseULong());for(var I=new Array(C),M=0;M<C;M++)I[M]=B.call(this);return I},bt.prototype.parseRecordList=function(C,B){B||(B=C,C=this.parseUShort());for(var I=new Array(C),M=Object.keys(B),Z=0;Z<C;Z++){for(var K={},le=0;le<M.length;le++){var ke=M[le];K[ke]=B[ke].call(this)}I[Z]=K}return I},bt.prototype.parseRecordList32=function(C,B){B||(B=C,C=this.parseULong());for(var I=new Array(C),M=Object.keys(B),Z=0;Z<C;Z++){for(var K={},le=0;le<M.length;le++){var ke=M[le];K[ke]=B[ke].call(this)}I[Z]=K}return I},bt.prototype.parseStruct=function(C){if("function"==typeof C)return C.call(this);for(var B=Object.keys(C),I={},M=0;M<B.length;M++){var Z=B[M];I[Z]=C[Z].call(this)}return I},bt.prototype.parseValueRecord=function(C){var B;if(0!==(C=void 0===C?this.parseUShort():C))return B={},1&C&&(B.xPlacement=this.parseShort()),2&C&&(B.yPlacement=this.parseShort()),4&C&&(B.xAdvance=this.parseShort()),8&C&&(B.yAdvance=this.parseShort()),16&C&&(B.xPlaDevice=void 0,this.parseShort()),32&C&&(B.yPlaDevice=void 0,this.parseShort()),64&C&&(B.xAdvDevice=void 0,this.parseShort()),128&C&&(B.yAdvDevice=void 0,this.parseShort()),B},bt.prototype.parseValueRecordList=function(){for(var C=this.parseUShort(),B=this.parseUShort(),I=new Array(B),M=0;M<B;M++)I[M]=this.parseValueRecord(C);return I},bt.prototype.parsePointer=function(C){var B=this.parseOffset16();if(0<B)return new bt(this.data,this.offset+B).parseStruct(C)},bt.prototype.parsePointer32=function(C){var B=this.parseOffset32();if(0<B)return new bt(this.data,this.offset+B).parseStruct(C)},bt.prototype.parseListOfLists=function(C){for(var B=this.parseOffset16List(),I=B.length,M=this.relativeOffset,Z=new Array(I),K=0;K<I;K++){var le=B[K];if(0===le)Z[K]=void 0;else if(this.relativeOffset=le,C){for(var ke=this.parseOffset16List(),Ke=new Array(ke.length),it=0;it<ke.length;it++)this.relativeOffset=le+ke[it],Ke[it]=C.call(this);Z[K]=Ke}else Z[K]=this.parseUShortList()}return this.relativeOffset=M,Z},bt.prototype.parseCoverage=function(){var C=this.offset+this.relativeOffset,B=this.parseUShort(),I=this.parseUShort();if(1===B)return{format:1,glyphs:this.parseUShortList(I)};if(2!==B)throw new Error("0x"+C.toString(16)+": Coverage format must be 1 or 2.");for(var M=new Array(I),Z=0;Z<I;Z++)M[Z]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:M}},bt.prototype.parseClassDef=function(){var C=this.offset+this.relativeOffset,B=this.parseUShort();if(1===B)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===B)return{format:2,ranges:this.parseRecordList({start:bt.uShort,end:bt.uShort,classId:bt.uShort})};throw new Error("0x"+C.toString(16)+": ClassDef format must be 1 or 2.")},bt.list=function(C,B){return function(){return this.parseList(C,B)}},bt.list32=function(C,B){return function(){return this.parseList32(C,B)}},bt.recordList=function(C,B){return function(){return this.parseRecordList(C,B)}},bt.recordList32=function(C,B){return function(){return this.parseRecordList32(C,B)}},bt.pointer=function(C){return function(){return this.parsePointer(C)}},bt.pointer32=function(C){return function(){return this.parsePointer32(C)}},bt.tag=bt.prototype.parseTag,bt.byte=bt.prototype.parseByte,bt.uShort=bt.offset16=bt.prototype.parseUShort,bt.uShortList=bt.prototype.parseUShortList,bt.uLong=bt.offset32=bt.prototype.parseULong,bt.uLongList=bt.prototype.parseULongList,bt.struct=bt.prototype.parseStruct,bt.coverage=bt.prototype.parseCoverage,bt.classDef=bt.prototype.parseClassDef;var zt={reserved:bt.uShort,reqFeatureIndex:bt.uShort,featureIndexes:bt.uShortList},Et=(bt.prototype.parseScriptList=function(){return this.parsePointer(bt.recordList({tag:bt.tag,script:bt.pointer({defaultLangSys:bt.pointer(zt),langSysRecords:bt.recordList({tag:bt.tag,langSys:bt.pointer(zt)})})}))||[]},bt.prototype.parseFeatureList=function(){return this.parsePointer(bt.recordList({tag:bt.tag,feature:bt.pointer({featureParams:bt.offset16,lookupListIndexes:bt.uShortList})}))||[]},bt.prototype.parseLookupList=function(C){return this.parsePointer(bt.list(bt.pointer(function(){var B=this.parseUShort(),I=(R.argument(1<=B&&B<=9,"GPOS/GSUB lookup type "+B+" unknown."),this.parseUShort()),M=16&I;return{lookupType:B,lookupFlag:I,subtables:this.parseList(bt.pointer(C[B])),markFilteringSet:M?this.parseUShort():void 0}})))||[]},bt.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var C=this.parseUShort(),B=this.parseUShort();return R.argument(1===C&&B<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:bt.offset32,featureTableSubstitutionOffset:bt.offset32})})||[]},{getByte:ln,getCard8:ln,getUShort:sn,getCard16:sn,getShort:function(C,B){return C.getInt16(B,!1)},getULong:Ht,getFixed:Tt,getTag:function(C,B){for(var I="",M=B;M<B+4;M+=1)I+=String.fromCharCode(C.getInt8(M));return I},getOffset:function(C,B,I){for(var M=0,Z=0;Z<I;Z+=1)M=(M<<=8)+C.getUint8(B+Z);return M},getBytes:function(C,B,I){for(var M=[],Z=B;Z<I;Z+=1)M.push(C.getUint8(Z));return M},bytesToString:function(C){for(var B="",I=0;I<C.length;I+=1)B+=String.fromCharCode(C[I]);return B},Parser:bt}),Pe_parse=function(C,B){for(var I={},M=(I.version=Et.getUShort(C,B),R.argument(0===I.version,"cmap table version should be 0."),I.numTables=Et.getUShort(C,B+2),-1),Z=I.numTables-1;0<=Z;--Z){var K=Et.getUShort(C,B+4+8*Z),le=Et.getUShort(C,B+4+8*Z+2);if(3===K&&(0===le||1===le||10===le)||0===K&&(0===le||1===le||2===le||3===le||4===le)){M=Et.getULong(C,B+4+8*Z+4);break}}if(-1===M)throw new Error("No valid cmap sub-tables found.");var ke=new Et.Parser(C,B+M);if(I.format=ke.parseUShort(),12===I.format){var Ke,it=I,It=ke;It.parseUShort(),it.length=It.parseULong(),it.language=It.parseULong(),it.groupCount=Ke=It.parseULong(),it.glyphIndexMap={};for(var Wt=0;Wt<Ke;Wt+=1)for(var Bt=It.parseULong(),gt=It.parseULong(),gn=It.parseULong(),tn=Bt;tn<=gt;tn+=1)it.glyphIndexMap[tn]=gn,gn++}else{if(4!==I.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+I.format+").");var on=I,Qt=C,Kt=B,Bn=M;on.length=ke.parseUShort(),on.language=ke.parseUShort(),on.segCount=Gn=ke.parseUShort()>>1,ke.skip("uShort",3),on.glyphIndexMap={};for(var Gn,$n=new Et.Parser(Qt,Kt+Bn+14),Un=new Et.Parser(Qt,Kt+Bn+16+2*Gn),Qn=new Et.Parser(Qt,Kt+Bn+16+4*Gn),er=new Et.Parser(Qt,Kt+Bn+16+6*Gn),Ur=Kt+Bn+16+8*Gn,Kr=0;Kr<Gn-1;Kr+=1)for(var Qr=void 0,Jr=$n.parseUShort(),ho=Un.parseUShort(),Er=Qn.parseShort(),Mr=er.parseUShort(),yr=ho;yr<=Jr;yr+=1)0!==Mr?(Ur=(Ur=er.offset+er.relativeOffset-2)+Mr+2*(yr-ho),0!==(Qr=Et.getUShort(Qt,Ur))&&(Qr=Qr+Er&65535)):Qr=yr+Er&65535,on.glyphIndexMap[yr]=Qr}return I},Pe_make=function(C){for(var B=!0,I=C.length-1;0<I;--I)if(65535<C.get(I).unicode){console.log("Adding CMAP format 12 (needed!)"),B=!1;break}var M,Z,K=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:B?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:B?12:20}],le=(K=(K=B?K:K.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Lt.Table("cmap",K));for(le.segments=[],I=0;I<C.length;I+=1){for(var ke=C.get(I),Ke=0;Ke<ke.unicodes.length;Ke+=1)le.segments.push({end:M=ke.unicodes[Ke],start:M,delta:-(M-(Z=I)),offset:0,glyphIndex:Z});le.segments=le.segments.sort(function(Kt,Bn){return Kt.start-Bn.start})}le.segments.push({end:65535,start:65535,delta:1,offset:0});var it=le.segments.length,It=0,Wt=[],Bt=[],gt=[],gn=[],tn=[],on=[];for(I=0;I<it;I+=1){var Qt=le.segments[I];Qt.end<=65535&&Qt.start<=65535?(Wt=Wt.concat({name:"end_"+I,type:"USHORT",value:Qt.end}),Bt=Bt.concat({name:"start_"+I,type:"USHORT",value:Qt.start}),gt=gt.concat({name:"idDelta_"+I,type:"SHORT",value:Qt.delta}),gn=gn.concat({name:"idRangeOffset_"+I,type:"USHORT",value:Qt.offset}),void 0!==Qt.glyphId&&(tn=tn.concat({name:"glyph_"+I,type:"USHORT",value:Qt.glyphId}))):It+=1,B||void 0===Qt.glyphIndex||(on=(on=(on=on.concat({name:"cmap12Start_"+I,type:"ULONG",value:Qt.start})).concat({name:"cmap12End_"+I,type:"ULONG",value:Qt.end})).concat({name:"cmap12Glyph_"+I,type:"ULONG",value:Qt.glyphIndex}))}return le.segCountX2=2*(it-It),le.searchRange=2*Math.pow(2,Math.floor(Math.log(it-It)/Math.log(2))),le.entrySelector=Math.log(le.searchRange/2)/Math.log(2),le.rangeShift=le.segCountX2-le.searchRange,le.fields=le.fields.concat(Wt),le.fields.push({name:"reservedPad",type:"USHORT",value:0}),le.fields=le.fields.concat(Bt),le.fields=le.fields.concat(gt),le.fields=le.fields.concat(gn),le.fields=le.fields.concat(tn),le.cmap4Length=14+2*Wt.length+2+2*Bt.length+2*gt.length+2*gn.length+2*tn.length,B||(K=16+4*on.length,le.cmap12Offset=20+le.cmap4Length,le.fields=le.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:K},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:on.length/3}]),le.fields=le.fields.concat(on)),le},Ge=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Ie=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ze=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],wt=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function jt(C){this.font=C}function Gt(C){this.cmap=C}function an(C,B){this.encoding=C,this.charset=B}function _n(C){switch(C.version){case 1:this.names=wt.slice();break;case 2:this.names=new Array(C.numberOfGlyphs);for(var B=0;B<C.numberOfGlyphs;B++)this.names[B]=C.glyphNameIndex[B]<wt.length?wt[C.glyphNameIndex[B]]:C.names[C.glyphNameIndex[B]-wt.length];break;case 2.5:this.names=new Array(C.numberOfGlyphs);for(var I=0;I<C.numberOfGlyphs;I++)this.names[I]=wt[I+C.glyphNameIndex[I]];break;default:this.names=[]}}jt.prototype.charToGlyphIndex=function(C){var B=C.codePointAt(0),I=this.font.glyphs;if(I)for(var M=0;M<I.length;M+=1)for(var Z=I.get(M),K=0;K<Z.unicodes.length;K+=1)if(Z.unicodes[K]===B)return M;return null},Gt.prototype.charToGlyphIndex=function(C){return this.cmap.glyphIndexMap[C.codePointAt(0)]||0},an.prototype.charToGlyphIndex=function(C){return C=C.codePointAt(0),this.charset.indexOf(C=this.encoding[C])},_n.prototype.nameToGlyphIndex=function(C){return this.names.indexOf(C)},_n.prototype.glyphIndexToName=function(C){return this.names[C]};var wn_line=function(C,B,I,M,Z){C.beginPath(),C.moveTo(B,I),C.lineTo(M,Z),C.stroke()};function Dt(C){this.bindConstructorValues(C)}function xt(C,B,I){Object.defineProperty(C,B,{get:function(){return C[I]},set:function(M){C[I]=M},enumerable:!0,configurable:!0})}function ot(C,B){if(this.font=C,this.glyphs={},Array.isArray(B))for(var I=0;I<B.length;I++)this.glyphs[I]=B[I];this.length=B&&B.length||0}Dt.prototype.bindConstructorValues=function(C){var B;this.index=C.index||0,this.name=C.name||null,this.unicode=C.unicode||void 0,this.unicodes=C.unicodes||void 0!==C.unicode?[C.unicode]:[],C.xMin&&(this.xMin=C.xMin),C.yMin&&(this.yMin=C.yMin),C.xMax&&(this.xMax=C.xMax),C.yMax&&(this.yMax=C.yMax),C.advanceWidth&&(this.advanceWidth=C.advanceWidth),Object.defineProperty(this,"path",(B=(C=C.path)||new de,{configurable:!0,get:function(){return B="function"==typeof B?B():B},set:function(I){B=I}}))},Dt.prototype.addUnicode=function(C){0===this.unicodes.length&&(this.unicode=C),this.unicodes.push(C)},Dt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Dt.prototype.getPath=function(C,B,I,M,Z){C=void 0!==C?C:0,B=void 0!==B?B:0,I=void 0!==I?I:72;for(var K,le,ke=(M=M||{}).xScale,Ke=M.yScale,it=((K=M.hinting&&Z&&Z.hinting?this.path&&Z.hinting.exec(this,I):K)?(le=Z.hinting.getCommands(K),C=Math.round(C),B=Math.round(B),ke=Ke=1):(le=this.path.commands,M=1/this.path.unitsPerEm*I,void 0===ke&&(ke=M),void 0===Ke&&(Ke=M)),new de),It=0;It<le.length;It+=1){var Wt=le[It];"M"===Wt.type?it.moveTo(C+Wt.x*ke,B+-Wt.y*Ke):"L"===Wt.type?it.lineTo(C+Wt.x*ke,B+-Wt.y*Ke):"Q"===Wt.type?it.quadraticCurveTo(C+Wt.x1*ke,B+-Wt.y1*Ke,C+Wt.x*ke,B+-Wt.y*Ke):"C"===Wt.type?it.curveTo(C+Wt.x1*ke,B+-Wt.y1*Ke,C+Wt.x2*ke,B+-Wt.y2*Ke,C+Wt.x*ke,B+-Wt.y*Ke):"Z"===Wt.type&&it.closePath()}return it},Dt.prototype.getContours=function(){if(void 0===this.points)return[];for(var C=[],B=[],I=0;I<this.points.length;I+=1){var M=this.points[I];B.push(M),M.lastPointOfContour&&(C.push(B),B=[])}return R.argument(0===B.length,"There are still points left in the current contour."),C},Dt.prototype.getMetrics=function(){for(var C=this.path.commands,B=[],I=[],M=0;M<C.length;M+=1){var Z=C[M];"Z"!==Z.type&&(B.push(Z.x),I.push(Z.y)),"Q"!==Z.type&&"C"!==Z.type||(B.push(Z.x1),I.push(Z.y1)),"C"===Z.type&&(B.push(Z.x2),I.push(Z.y2))}var K={xMin:Math.min.apply(null,B),yMin:Math.min.apply(null,I),xMax:Math.max.apply(null,B),yMax:Math.max.apply(null,I),leftSideBearing:this.leftSideBearing};return isFinite(K.xMin)||(K.xMin=0),isFinite(K.xMax)||(K.xMax=this.advanceWidth),isFinite(K.yMin)||(K.yMin=0),isFinite(K.yMax)||(K.yMax=0),K.rightSideBearing=this.advanceWidth-K.leftSideBearing-(K.xMax-K.xMin),K},Dt.prototype.draw=function(C,B,I,M,Z){this.getPath(B,I,M,Z).draw(C)},Dt.prototype.drawPoints=function(C,B,I,M){function Z(It,Wt,Bt,gt){var gn=2*Math.PI;C.beginPath();for(var tn=0;tn<It.length;tn+=1)C.moveTo(Wt+It[tn].x*gt,Bt+It[tn].y*gt),C.arc(Wt+It[tn].x*gt,Bt+It[tn].y*gt,2,0,gn,!1);C.closePath(),C.fill()}B=void 0!==B?B:0,I=void 0!==I?I:0,M=1/this.path.unitsPerEm*(M=void 0!==M?M:24);for(var K=[],le=[],ke=this.path,Ke=0;Ke<ke.commands.length;Ke+=1){var it=ke.commands[Ke];void 0!==it.x&&K.push({x:it.x,y:-it.y}),void 0!==it.x1&&le.push({x:it.x1,y:-it.y1}),void 0!==it.x2&&le.push({x:it.x2,y:-it.y2})}C.fillStyle="blue",Z(K,B,I,M),C.fillStyle="red",Z(le,B,I,M)},Dt.prototype.drawMetrics=function(C,B,I,M){B=void 0!==B?B:0,I=void 0!==I?I:0,M=1/this.path.unitsPerEm*(M=void 0!==M?M:24),C.lineWidth=1,C.strokeStyle="black",wn_line(C,B,-1e4,B,1e4),wn_line(C,-1e4,I,1e4,I);var Z=this.xMin||0,K=this.yMin||0,le=this.xMax||0,ke=this.yMax||0,Ke=this.advanceWidth||0;C.strokeStyle="blue",wn_line(C,B+Z*M,-1e4,B+Z*M,1e4),wn_line(C,B+le*M,-1e4,B+le*M,1e4),wn_line(C,-1e4,I+-K*M,1e4,I+-K*M),wn_line(C,-1e4,I+-ke*M,1e4,I+-ke*M),C.strokeStyle="green",wn_line(C,B+Ke*M,-1e4,B+Ke*M,1e4)},ot.prototype.get=function(C){return"function"==typeof this.glyphs[C]&&(this.glyphs[C]=this.glyphs[C]()),this.glyphs[C]},ot.prototype.push=function(C,B){this.glyphs[C]=B,this.length++};var Ye={GlyphSet:ot,glyphLoader:function(C,B){return new Dt({index:B,font:C})},ttfGlyphLoader:function(C,B,I,M,Z,K){return function(){var le=new Dt({index:B,font:C});return le.path=function(){I(le,M,Z);var ke=K(C.glyphs,le);return ke.unitsPerEm=C.unitsPerEm,ke},xt(le,"xMin","_xMin"),xt(le,"xMax","_xMax"),xt(le,"yMin","_yMin"),xt(le,"yMax","_yMax"),le}},cffGlyphLoader:function(C,B,I,M){return function(){var Z=new Dt({index:B,font:C});return Z.path=function(){var K=I(C,Z,M);return K.unitsPerEm=C.unitsPerEm,K},Z}}};function ct(C){return C.length<1240?107:C.length<33900?1131:32768}function Ct(C,B,I){var M,Z=[],K=[],le=Et.getCard16(C,B);if(0!==le){for(var ke=Et.getByte(C,B+2),Ke=B+(le+1)*ke+2,it=B+3,It=0;It<le+1;It+=1)Z.push(Et.getOffset(C,it,ke)),it+=ke;M=Ke+Z[le]}else M=B+2;for(var Wt=0;Wt<Z.length-1;Wt+=1){var Bt=Et.getBytes(C,Ke+Z[Wt],Ke+Z[Wt+1]);I&&(Bt=I(Bt)),K.push(Bt)}return{objects:K,startOffset:B,endOffset:M}}function rn(C,B){if(28===B)return C.parseByte()<<8|C.parseByte();if(29===B)return C.parseByte()<<24|C.parseByte()<<16|C.parseByte()<<8|C.parseByte();if(30===B){for(var I=C,M="",Z=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var K=(le=I.parseByte())>>4,le=15&le;if(15==K||(M+=Z[K],15==le))break;M+=Z[le]}return parseFloat(M)}if(32<=B&&B<=246)return B-139;if(247<=B&&B<=250)return 256*(B-247)+C.parseByte()+108;if(251<=B&&B<=254)return 256*-(B-251)-C.parseByte()-108;throw new Error("Invalid b0 "+B)}function qe(C,B,I){var M=new Et.Parser(C,B=void 0!==B?B:0),Z=[],K=[];for(I=void 0!==I?I:C.length;M.relativeOffset<I;){var le=M.parseByte();le<=21?(12===le&&(le=1200+M.parseByte()),Z.push([le,K]),K=[]):K.push(rn(M,le))}for(var ke=Z,Ke={},it=0;it<ke.length;it+=1){var Bt,It=ke[it][0],Wt=ke[it][1];if(Bt=1===Wt.length?Wt[0]:Wt,Ke.hasOwnProperty(It)&&!isNaN(Ke[It]))throw new Error("Object "+Ke+" already has key "+It);Ke[It]=Bt}return Ke}function yt(C,B){return B<=390?Ge[B]:C[B-391]}function Nt(C,B,I){for(var M,Z={},K=0;K<B.length;K+=1){var le=B[K];if(Array.isArray(le.type)){var ke=[];ke.length=le.type.length;for(var Ke=0;Ke<le.type.length;Ke++)void 0===(M=void 0!==C[le.op]?C[le.op][Ke]:void 0)&&(M=void 0!==le.value&&void 0!==le.value[Ke]?le.value[Ke]:null),"SID"===le.type[Ke]&&(M=yt(I,M)),ke[Ke]=M;Z[le.name]=ke}else void 0===(M=C[le.op])&&(M=void 0!==le.value?le.value:null),"SID"===le.type&&(M=yt(I,M)),Z[le.name]=M}return Z}var Ft=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],$t=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function hn(C,B,I,M){return Nt(qe(C,B,I),$t,M)}function yn(C,B,I,M){for(var Z=[],K=0;K<I.length;K+=1){var le,ke=((ke=M,le=Nt(qe(le=new DataView(new Uint8Array(I[K]).buffer),0,le.byteLength),Ft,ke))._subrs=[],le._subrsBias=0,le.private[0]),Ke=le.private[1];0!==ke&&0!==Ke&&(ke=hn(C,Ke+B,ke,M),le._defaultWidthX=ke.defaultWidthX,le._nominalWidthX=ke.nominalWidthX,0!==ke.subrs&&(Ke=Ct(C,Ke+ke.subrs+B),le._subrs=Ke.objects,le._subrsBias=ct(le._subrs)),le._privateDict=ke),Z.push(le)}return Z}function En(C,B,I){var M,Z,K,le,ke,Ke,it,It,Wt,Bt=new de,gt=[],gn=0,tn=!1,on=!1,Qt=0,Kt=0,Bn=(Wt=(C.isCIDFont?(ke=C.tables.cff.topDict._fdSelect[B.index],ke=C.tables.cff.topDict._fdArray[ke],Ke=ke._subrs,it=ke._subrsBias,It=ke._defaultWidthX,ke):(Ke=C.tables.cff.topDict._subrs,it=C.tables.cff.topDict._subrsBias,It=C.tables.cff.topDict._defaultWidthX,C.tables.cff.topDict))._nominalWidthX,It);function Gn(Un,Qn){on&&Bt.closePath(),Bt.moveTo(Un,Qn),on=!0}function $n(){gt.length%2==0||tn||(Bn=gt.shift()+Wt),gn+=gt.length>>1,gt.length=0,tn=!0}return function Un(Qn){for(var er,Ur,Kr,Qr,Jr,ho,Er,Mr,yr,kr,Nn,to,Nr=0;Nr<Qn.length;){var no=Qn[Nr];switch(Nr+=1,no){case 1:case 3:case 18:case 23:$n();break;case 4:1<gt.length&&!tn&&(Bn=gt.shift()+Wt,tn=!0),Kt+=gt.pop(),Gn(Qt,Kt);break;case 5:for(;0<gt.length;)Qt+=gt.shift(),Kt+=gt.shift(),Bt.lineTo(Qt,Kt);break;case 6:for(;0<gt.length&&(Qt+=gt.shift(),Bt.lineTo(Qt,Kt),0!==gt.length);)Kt+=gt.shift(),Bt.lineTo(Qt,Kt);break;case 7:for(;0<gt.length&&(Kt+=gt.shift(),Bt.lineTo(Qt,Kt),0!==gt.length);)Qt+=gt.shift(),Bt.lineTo(Qt,Kt);break;case 8:for(;0<gt.length;)M=Qt+gt.shift(),Z=Kt+gt.shift(),K=M+gt.shift(),le=Z+gt.shift(),Qt=K+gt.shift(),Kt=le+gt.shift(),Bt.curveTo(M,Z,K,le,Qt,Kt);break;case 10:Jr=gt.pop()+it,(ho=Ke[Jr])&&Un(ho);break;case 11:return;case 12:switch(no=Qn[Nr],Nr+=1,no){case 35:M=Qt+gt.shift(),Z=Kt+gt.shift(),K=M+gt.shift(),le=Z+gt.shift(),Er=K+gt.shift(),Mr=le+gt.shift(),yr=Er+gt.shift(),kr=Mr+gt.shift(),Nn=yr+gt.shift(),to=kr+gt.shift(),Qt=Nn+gt.shift(),Kt=to+gt.shift(),gt.shift(),Bt.curveTo(M,Z,K,le,Er,Mr),Bt.curveTo(yr,kr,Nn,to,Qt,Kt);break;case 34:M=Qt+gt.shift(),Z=Kt,K=M+gt.shift(),le=Z+gt.shift(),Er=K+gt.shift(),Mr=le,yr=Er+gt.shift(),kr=le,Nn=yr+gt.shift(),to=Kt,Qt=Nn+gt.shift(),Bt.curveTo(M,Z,K,le,Er,Mr),Bt.curveTo(yr,kr,Nn,to,Qt,Kt);break;case 36:M=Qt+gt.shift(),Z=Kt+gt.shift(),K=M+gt.shift(),le=Z+gt.shift(),Er=K+gt.shift(),Mr=le,yr=Er+gt.shift(),kr=le,Nn=yr+gt.shift(),to=kr+gt.shift(),Qt=Nn+gt.shift(),Bt.curveTo(M,Z,K,le,Er,Mr),Bt.curveTo(yr,kr,Nn,to,Qt,Kt);break;case 37:M=Qt+gt.shift(),Z=Kt+gt.shift(),K=M+gt.shift(),le=Z+gt.shift(),Er=K+gt.shift(),Mr=le+gt.shift(),yr=Er+gt.shift(),kr=Mr+gt.shift(),Nn=yr+gt.shift(),to=kr+gt.shift(),Math.abs(Nn-Qt)>Math.abs(to-Kt)?Qt=Nn+gt.shift():Kt=to+gt.shift(),Bt.curveTo(M,Z,K,le,Er,Mr),Bt.curveTo(yr,kr,Nn,to,Qt,Kt);break;default:console.log("Glyph "+B.index+": unknown operator 1200"+no),gt.length=0}break;case 14:0<gt.length&&!tn&&(Bn=gt.shift()+Wt,tn=!0),on&&(Bt.closePath(),on=!1);break;case 19:case 20:$n(),Nr+=gn+7>>3;break;case 21:2<gt.length&&!tn&&(Bn=gt.shift()+Wt,tn=!0),Kt+=gt.pop(),Gn(Qt+=gt.pop(),Kt);break;case 22:1<gt.length&&!tn&&(Bn=gt.shift()+Wt,tn=!0),Gn(Qt+=gt.pop(),Kt);break;case 24:for(;2<gt.length;)M=Qt+gt.shift(),Z=Kt+gt.shift(),K=M+gt.shift(),le=Z+gt.shift(),Qt=K+gt.shift(),Kt=le+gt.shift(),Bt.curveTo(M,Z,K,le,Qt,Kt);Qt+=gt.shift(),Kt+=gt.shift(),Bt.lineTo(Qt,Kt);break;case 25:for(;6<gt.length;)Qt+=gt.shift(),Kt+=gt.shift(),Bt.lineTo(Qt,Kt);M=Qt+gt.shift(),Z=Kt+gt.shift(),K=M+gt.shift(),le=Z+gt.shift(),Qt=K+gt.shift(),Kt=le+gt.shift(),Bt.curveTo(M,Z,K,le,Qt,Kt);break;case 26:for(gt.length%2&&(Qt+=gt.shift());0<gt.length;)M=Qt,Z=Kt+gt.shift(),K=M+gt.shift(),le=Z+gt.shift(),Qt=K,Kt=le+gt.shift(),Bt.curveTo(M,Z,K,le,Qt,Kt);break;case 27:for(gt.length%2&&(Kt+=gt.shift());0<gt.length;)M=Qt+gt.shift(),Z=Kt,K=M+gt.shift(),le=Z+gt.shift(),Qt=K+gt.shift(),Bt.curveTo(M,Z,K,le,Qt,Kt=le);break;case 28:gt.push(((er=Qn[Nr])<<24|(Ur=Qn[Nr+1])<<16)>>16),Nr+=2;break;case 29:Jr=gt.pop()+C.gsubrsBias,(ho=C.gsubrs[Jr])&&Un(ho);break;case 30:for(;0<gt.length&&(M=Qt,Z=Kt+gt.shift(),K=M+gt.shift(),le=Z+gt.shift(),Qt=K+gt.shift(),Kt=le+(1===gt.length?gt.shift():0),Bt.curveTo(M,Z,K,le,Qt,Kt),0!==gt.length);)M=Qt+gt.shift(),Z=Kt,K=M+gt.shift(),le=Z+gt.shift(),Kt=le+gt.shift(),Qt=K+(1===gt.length?gt.shift():0),Bt.curveTo(M,Z,K,le,Qt,Kt);break;case 31:for(;0<gt.length&&(M=Qt+gt.shift(),Z=Kt,K=M+gt.shift(),le=Z+gt.shift(),Kt=le+gt.shift(),Qt=K+(1===gt.length?gt.shift():0),Bt.curveTo(M,Z,K,le,Qt,Kt),0!==gt.length);)M=Qt,Z=Kt+gt.shift(),K=M+gt.shift(),le=Z+gt.shift(),Qt=K+gt.shift(),Kt=le+(1===gt.length?gt.shift():0),Bt.curveTo(M,Z,K,le,Qt,Kt);break;default:no<32?console.log("Glyph "+B.index+": unknown operator "+no):no<247?gt.push(no-139):no<251?(er=Qn[Nr],Nr+=1,gt.push(256*(no-247)+er+108)):no<255?(er=Qn[Nr],Nr+=1,gt.push(256*-(no-251)-er-108)):(er=Qn[Nr],Ur=Qn[Nr+1],Kr=Qn[Nr+2],Qr=Qn[Nr+3],Nr+=4,gt.push((er<<24|Ur<<16|Kr<<8|Qr)/65536))}}}(I),B.advanceWidth=Bn,Bt}function Sn(C,B){var I,M=Ge.indexOf(C);return 0<=M&&(I=M),0<=(M=B.indexOf(C))?I=M+Ge.length:(I=Ge.length+B.length,B.push(C)),I}function Cn(C,B,I){for(var M={},Z=0;Z<C.length;Z+=1){var K=C[Z],le=B[K.name];void 0===le||function ke(Ke,it){if(Ke===it)return 1;if(Array.isArray(Ke)&&Array.isArray(it)&&Ke.length===it.length){for(var It=0;It<Ke.length;It+=1)if(!ke(Ke[It],it[It]))return;return 1}}(le,K.value)||("SID"===K.type&&(le=Sn(le,I)),M[K.op]={name:K.name,type:K.type,value:le})}return M}function Zn(C,B){var I=new Lt.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return I.dict=Cn(Ft,C,B),I}function tr(C){var B=new Lt.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return B.topDicts=[{name:"topDict_0",type:"TABLE",value:C}],B}var Pn_parse=function(C,B,I){I.tables.cff={},(Z={}).formatMajor=Et.getCard8(ke=C,M=B),Z.formatMinor=Et.getCard8(ke,M+1),Z.size=Et.getCard8(ke,M+2),Z.offsetSize=Et.getCard8(ke,M+3),Z.startOffset=M,Z.endOffset=M+4;var ke=Ct(C,Z.endOffset,Et.bytesToString),M=Ct(C,ke.endOffset),Z=Ct(C,M.endOffset,Et.bytesToString);if(ke=Ct(C,Z.endOffset),I.gsubrs=ke.objects,I.gsubrsBias=ct(I.gsubrs),1!==(ke=yn(C,B,M.objects,Z.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+ke.length);if((I.tables.cff.topDict=M=ke[0])._privateDict&&(I.defaultWidthX=M._privateDict.defaultWidthX,I.nominalWidthX=M._privateDict.nominalWidthX),void 0!==M.ros[0]&&void 0!==M.ros[1]&&(I.isCIDFont=!0),I.isCIDFont){var K=M.fdSelect;if(0===(ke=M.fdArray)||0===K)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");ke=yn(C,B,Ct(C,ke+=B).objects,Z.objects),M._fdArray=ke,M._fdSelect=function(Bt,gt,gn,tn){var on,Qt=[],Kt=new Et.Parser(Bt,gt);if(0===(Bt=Kt.parseCard8()))for(var Bn=0;Bn<gn;Bn++){if(tn<=(on=Kt.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+on+" (FD count "+tn+")");Qt.push(on)}else{if(3!==Bt)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Bt);var Gn,$n=Kt.parseCard16(),Un=Kt.parseCard16();if(0!==Un)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Un);for(var Qn=0;Qn<$n;Qn++){if(on=Kt.parseCard8(),Gn=Kt.parseCard16(),tn<=on)throw new Error("CFF table CID Font FDSelect has bad FD index value "+on+" (FD count "+tn+")");if(gn<Gn)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Gn);for(;Un<Gn;Un++)Qt.push(on);Un=Gn}if(Gn!==gn)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Gn)}return Qt}(C,K+=B,I.numGlyphs,ke.length)}ke=hn(C,K=B+M.private[1],M.private[0],Z.objects);var le=(I.defaultWidthX=ke.defaultWidthX,I.nominalWidthX=ke.nominalWidthX,0!==ke.subrs?(K=Ct(C,K+ke.subrs),I.subrs=K.objects,I.subrsBias=ct(I.subrs)):(I.subrs=[],I.subrsBias=0),Ct(C,B+M.charStrings));I.nGlyphs=le.objects.length,ke=function(It,Wt,Bt,gt){var gn=new Et.Parser(It,Wt),tn=(--Bt,[".notdef"]);if(0===(It=gn.parseCard8()))for(var on=0;on<Bt;on+=1)Qt=gn.parseSID(),tn.push(yt(gt,Qt));else if(1===It)for(;tn.length<=Bt;)for(var Qt=gn.parseSID(),Kt=gn.parseCard8(),Bn=0;Bn<=Kt;Bn+=1)tn.push(yt(gt,Qt)),Qt+=1;else{if(2!==It)throw new Error("Unknown charset format "+It);for(;tn.length<=Bt;){Qt=gn.parseSID(),Kt=gn.parseCard16();for(var Gn=0;Gn<=Kt;Gn+=1)tn.push(yt(gt,Qt)),Qt+=1}}return tn}(C,B+M.charset,I.nGlyphs,Z.objects),I.cffEncoding=0===M.encoding?new an(Ie,ke):1===M.encoding?new an(ze,ke):function(It,Wt,Bt){var gt={},gn=new Et.Parser(It,Wt);if(0===(It=gn.parseCard8()))for(var tn=gn.parseCard8(),on=0;on<tn;on+=1)gt[Kt=gn.parseCard8()]=on;else{if(1!==It)throw new Error("Unknown encoding format "+It);for(var Qt=gn.parseCard8(),Kt=1,Bn=0;Bn<Qt;Bn+=1)for(var Gn=gn.parseCard8(),$n=gn.parseCard8(),Un=Gn;Un<=Gn+$n;Un+=1)gt[Un]=Kt,Kt+=1}return new an(gt,Bt)}(C,B+M.encoding,ke),I.encoding=I.encoding||I.cffEncoding,I.glyphs=new Ye.GlyphSet(I);for(var Ke=0;Ke<I.nGlyphs;Ke+=1)I.glyphs.push(Ke,Ye.cffGlyphLoader(I,Ke,En,le.objects[Ke]))},Pn_make=function(C,It){for(var I,M=new Lt.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),Z={version:It.version,fullName:It.fullName,familyName:It.familyName,weight:It.weightName,fontBBox:It.fontBBox||[0,0,0,0],fontMatrix:[Z=1/It.unitsPerEm,0,0,Z,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},K=[],le=1;le<C.length;le+=1)I=C.get(le),K.push(I.name);var ke,Ke,it=[],Wt=(M.header=new Lt.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),M.nameIndex=function(Bt){var gt=new Lt.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);gt.names=[];for(var gn=0;gn<Bt.length;gn+=1)gt.names.push({name:"name_"+gn,type:"NAME",value:Bt[gn]});return gt}([It.postScriptName]),It=Zn(Z,it),M.topDictIndex=tr(It),M.globalSubrIndex=new Lt.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),M.charsets=function(Bt,gt){for(var gn=new Lt.Record("Charsets",[{name:"format",type:"Card8",value:0}]),tn=0;tn<Bt.length;tn+=1){var on=Sn(Bt[tn],gt);gn.fields.push({name:"glyph_"+tn,type:"SID",value:on})}return gn}(K,it),M.charStringsIndex=function lr(C){for(var B=new Lt.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),I=0;I<C.length;I+=1){var M=C.get(I),Z=function(K){for(var le=[],ke=K.path,Ke=(le.push({name:"width",type:"NUMBER",value:K.advanceWidth}),0),it=0,It=0;It<ke.commands.length;It+=1){var Wt,Bt,gt,gn,tn=void 0,on=void 0,Qt=ke.commands[It];"M"===(Qt="Q"===Qt.type?{type:"C",x:Qt.x,y:Qt.y,x1:1/3*Ke+2/3*Qt.x1,y1:1/3*it+2/3*Qt.y1,x2:1/3*Qt.x+2/3*Qt.x1,y2:1/3*Qt.y+2/3*Qt.y1}:Qt).type?(tn=Math.round(Qt.x-Ke),on=Math.round(Qt.y-it),le.push({name:"dx",type:"NUMBER",value:tn}),le.push({name:"dy",type:"NUMBER",value:on}),le.push({name:"rmoveto",type:"OP",value:21}),Ke=Math.round(Qt.x),it=Math.round(Qt.y)):"L"===Qt.type?(tn=Math.round(Qt.x-Ke),on=Math.round(Qt.y-it),le.push({name:"dx",type:"NUMBER",value:tn}),le.push({name:"dy",type:"NUMBER",value:on}),le.push({name:"rlineto",type:"OP",value:5}),Ke=Math.round(Qt.x),it=Math.round(Qt.y)):"C"===Qt.type&&(Wt=Math.round(Qt.x1-Ke),Bt=Math.round(Qt.y1-it),gt=Math.round(Qt.x2-Qt.x1),gn=Math.round(Qt.y2-Qt.y1),tn=Math.round(Qt.x-Qt.x2),on=Math.round(Qt.y-Qt.y2),le.push({name:"dx1",type:"NUMBER",value:Wt}),le.push({name:"dy1",type:"NUMBER",value:Bt}),le.push({name:"dx2",type:"NUMBER",value:gt}),le.push({name:"dy2",type:"NUMBER",value:gn}),le.push({name:"dx",type:"NUMBER",value:tn}),le.push({name:"dy",type:"NUMBER",value:on}),le.push({name:"rrcurveto",type:"OP",value:8}),Ke=Math.round(Qt.x),it=Math.round(Qt.y))}return le.push({name:"endchar",type:"OP",value:14}),le}(M);B.charStrings.push({name:M.name,type:"CHARSTRING",value:Z})}return B}(C),M.privateDict=(Wt={},ke=it,(Ke=new Lt.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Cn($t,Wt,ke),Ke),M.stringIndex=function(Bt){var gt=new Lt.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);gt.strings=[];for(var gn=0;gn<Bt.length;gn+=1)gt.strings.push({name:"string_"+gn,type:"STRING",value:Bt[gn]});return gt}(it),M.header.sizeOf()+M.nameIndex.sizeOf()+M.topDictIndex.sizeOf()+M.stringIndex.sizeOf()+M.globalSubrIndex.sizeOf());return Z.charset=Wt,Z.encoding=0,Z.charStrings=Z.charset+M.charsets.sizeOf(),Z.private[1]=Z.charStrings+M.charStringsIndex.sizeOf(),It=Zn(Z,it),M.topDictIndex=tr(It),M},Wn_parse=function(M,B){var I={};return M=new Et.Parser(M,B),I.version=M.parseVersion(),I.fontRevision=Math.round(1e3*M.parseFixed())/1e3,I.checkSumAdjustment=M.parseULong(),I.magicNumber=M.parseULong(),R.argument(1594834165===I.magicNumber,"Font header has wrong magic number."),I.flags=M.parseUShort(),I.unitsPerEm=M.parseUShort(),I.created=M.parseLongDateTime(),I.modified=M.parseLongDateTime(),I.xMin=M.parseShort(),I.yMin=M.parseShort(),I.xMax=M.parseShort(),I.yMax=M.parseShort(),I.macStyle=M.parseUShort(),I.lowestRecPPEM=M.parseUShort(),I.fontDirectionHint=M.parseShort(),I.indexToLocFormat=M.parseShort(),I.glyphDataFormat=M.parseShort(),I},Wn_make=function(C){var B=Math.round((new Date).getTime()/1e3)+2082844800,I=B;return C.createdTimestamp&&(I=C.createdTimestamp+2082844800),new Lt.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:I},{name:"modified",type:"LONGDATETIME",value:B},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],C)},G_parse=function(M,B){var I={};return M=new Et.Parser(M,B),I.version=M.parseVersion(),I.ascender=M.parseShort(),I.descender=M.parseShort(),I.lineGap=M.parseShort(),I.advanceWidthMax=M.parseUShort(),I.minLeftSideBearing=M.parseShort(),I.minRightSideBearing=M.parseShort(),I.xMaxExtent=M.parseShort(),I.caretSlopeRise=M.parseShort(),I.caretSlopeRun=M.parseShort(),I.caretOffset=M.parseShort(),M.relativeOffset+=8,I.metricDataFormat=M.parseShort(),I.numberOfHMetrics=M.parseUShort(),I},G_make=function(C){return new Lt.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],C)},ye_parse=function(C,B,I,M,Z){for(var K,le,ke=new Et.Parser(C,B),Ke=0;Ke<M;Ke+=1){Ke<I&&(K=ke.parseUShort(),le=ke.parseShort());var it=Z.get(Ke);it.advanceWidth=K,it.leftSideBearing=le}},ye_make=function(C){for(var B=new Lt.Table("hmtx",[]),I=0;I<C.length;I+=1){var M=(Z=C.get(I)).advanceWidth||0,Z=Z.leftSideBearing||0;B.fields.push({name:"advanceWidth_"+I,type:"USHORT",value:M}),B.fields.push({name:"leftSideBearing_"+I,type:"SHORT",value:Z})}return B},Se_make=function(C){for(var B=new Lt.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:C.length}]),I="",M=12+4*C.length,Z=0;Z<C.length;++Z){var K=I.indexOf(C[Z]);K<0&&(K=I.length,I+=C[Z]),B.fields.push({name:"offset "+Z,type:"USHORT",value:M+K}),B.fields.push({name:"length "+Z,type:"USHORT",value:C[Z].length})}return B.fields.push({name:"stringPool",type:"CHARARRAY",value:I}),B},Se_parse=function(C,B){for(var I=new Et.Parser(C,B),M=I.parseULong(),Z=(R.argument(1===M,"Unsupported ltag table version."),I.skip("uLong",1),I.parseULong()),K=[],le=0;le<Z;le++){for(var ke="",Ke=B+I.parseUShort(),it=I.parseUShort(),It=Ke;It<Ke+it;++It)ke+=String.fromCharCode(C.getInt8(It));K.push(ke)}return K},D_parse=function(M,B){var I={};return M=new Et.Parser(M,B),I.version=M.parseVersion(),I.numGlyphs=M.parseUShort(),1===I.version&&(I.maxPoints=M.parseUShort(),I.maxContours=M.parseUShort(),I.maxCompositePoints=M.parseUShort(),I.maxCompositeContours=M.parseUShort(),I.maxZones=M.parseUShort(),I.maxTwilightPoints=M.parseUShort(),I.maxStorage=M.parseUShort(),I.maxFunctionDefs=M.parseUShort(),I.maxInstructionDefs=M.parseUShort(),I.maxStackElements=M.parseUShort(),I.maxSizeOfInstructions=M.parseUShort(),I.maxComponentElements=M.parseUShort(),I.maxComponentDepth=M.parseUShort()),I},D_make=function(C){return new Lt.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:C}])},F=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],L={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},ee={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},re={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Q="utf-16",he={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Re={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function rt(C,B,I){switch(C){case 0:return Q;case 1:return Re[I]||he[B];case 3:if(1===B||10===B)return Q}}function _t(C){var B,I={};for(B in C)I[C[B]]=parseInt(B);return I}function Xt(C,B,I,M,Z,K){return new Lt.Record("NameRecord",[{name:"platformID",type:"USHORT",value:C},{name:"encodingID",type:"USHORT",value:B},{name:"languageID",type:"USHORT",value:I},{name:"nameID",type:"USHORT",value:M},{name:"length",type:"USHORT",value:Z},{name:"offset",type:"USHORT",value:K}])}function un(C,B){if((I=function(K,le){var ke=K.length,Ke=le.length-ke+1;e:for(var it=0;it<Ke;it++)for(;it<Ke;it++){for(var It=0;It<ke;It++)if(le[it+It]!==K[It])continue e;return it}return-1}(C,B))<0)for(var I=B.length,M=0,Z=C.length;M<Z;++M)B.push(C[M]);return I}var bn_parse=function(C,B,I){for(var M={},Z=new Et.Parser(C,B),K=(B=Z.parseUShort(),Z.parseUShort()),le=Z.offset+Z.parseUShort(),ke=0;ke<K;ke++){var gn=Z.parseUShort(),Ke=Z.parseUShort(),it=Z.parseUShort(),It=Z.parseUShort(),Wt=(It=F[It]||It,Z.parseUShort()),Bt=Z.parseUShort(),gt=function(on,Qt,Kt){switch(on){case 0:if(65535===Qt)return"und";if(Kt)return Kt[Qt];break;case 1:return L[Qt];case 3:return re[Qt]}}(gn,it,I);void 0!==(gn=rt(gn,Ke,it))&&void 0!==gt&&(Ke=void 0,(Ke=gn===Q?se.UTF16(C,le+Bt,Wt):se.MACSTRING(C,le+Bt,Wt,gn))&&((it=void 0===(it=M[It])?M[It]={}:it)[gt]=Ke))}return 1===B&&Z.parseUShort(),M},bn_make=function(C,B){var I,M=[],Z={},K=_t(F);for(I in C){var le=K[I];if(void 0===le&&(le=I),Bt=parseInt(le),isNaN(Bt))throw new Error('Name table entry "'+I+'" does not exist, see nameTableNames for complete list.');Z[Bt]=C[I],M.push(Bt)}for(var ke=_t(L),Ke=_t(re),it=[],It=[],Wt=0;Wt<M.length;Wt++){var Bt,gt,gn=Z[Bt=M[Wt]];for(gt in gn){var Gn,tn=gn[gt],on=ke[gt],Qt=ee[on],Kt=rt(Gn=1,Qt,on),Bn=(void 0===(Kt=pe.MACSTRING(tn,Kt))&&(Gn=0,(on=B.indexOf(gt))<0&&(on=B.length,B.push(gt)),Qt=4,Kt=pe.UTF16(tn)),un(Kt,It));void 0!==(it.push(Xt(Gn,Qt,on,Bt,Kt.length,Bn)),Gn=Ke[gt])&&(on=un(Qt=pe.UTF16(tn),It),it.push(Xt(3,1,Gn,Bt,Qt.length,on)))}}it.sort(function(Qn,er){return Qn.platformID-er.platformID||Qn.encodingID-er.encodingID||Qn.languageID-er.languageID||Qn.nameID-er.nameID});for(var $n=new Lt.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:it.length},{name:"stringOffset",type:"USHORT",value:6+12*it.length}]),Un=0;Un<it.length;Un++)$n.fields.push({name:"record_"+Un,type:"RECORD",value:it[Un]});return $n.fields.push({name:"strings",type:"LITERAL",value:It}),$n},Rn=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Hn_parse=function(C,B){var I={},M=new Et.Parser(C,B);I.version=M.parseUShort(),I.xAvgCharWidth=M.parseShort(),I.usWeightClass=M.parseUShort(),I.usWidthClass=M.parseUShort(),I.fsType=M.parseUShort(),I.ySubscriptXSize=M.parseShort(),I.ySubscriptYSize=M.parseShort(),I.ySubscriptXOffset=M.parseShort(),I.ySubscriptYOffset=M.parseShort(),I.ySuperscriptXSize=M.parseShort(),I.ySuperscriptYSize=M.parseShort(),I.ySuperscriptXOffset=M.parseShort(),I.ySuperscriptYOffset=M.parseShort(),I.yStrikeoutSize=M.parseShort(),I.yStrikeoutPosition=M.parseShort(),I.sFamilyClass=M.parseShort(),I.panose=[];for(var Z=0;Z<10;Z++)I.panose[Z]=M.parseByte();return I.ulUnicodeRange1=M.parseULong(),I.ulUnicodeRange2=M.parseULong(),I.ulUnicodeRange3=M.parseULong(),I.ulUnicodeRange4=M.parseULong(),I.achVendID=String.fromCharCode(M.parseByte(),M.parseByte(),M.parseByte(),M.parseByte()),I.fsSelection=M.parseUShort(),I.usFirstCharIndex=M.parseUShort(),I.usLastCharIndex=M.parseUShort(),I.sTypoAscender=M.parseShort(),I.sTypoDescender=M.parseShort(),I.sTypoLineGap=M.parseShort(),I.usWinAscent=M.parseUShort(),I.usWinDescent=M.parseUShort(),1<=I.version&&(I.ulCodePageRange1=M.parseULong(),I.ulCodePageRange2=M.parseULong()),2<=I.version&&(I.sxHeight=M.parseShort(),I.sCapHeight=M.parseShort(),I.usDefaultChar=M.parseUShort(),I.usBreakChar=M.parseUShort(),I.usMaxContent=M.parseUShort()),I},Hn_make=function(C){return new Lt.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],C)},Hn_getUnicodeRange=function(C){for(var B=0;B<Rn.length;B+=1){var I=Rn[B];if(C>=I.begin&&C<I.end)return B}return-1},dr_parse=function(C,B){var I={},M=new Et.Parser(C,B);switch(I.version=M.parseVersion(),I.italicAngle=M.parseFixed(),I.underlinePosition=M.parseShort(),I.underlineThickness=M.parseShort(),I.isFixedPitch=M.parseULong(),I.minMemType42=M.parseULong(),I.maxMemType42=M.parseULong(),I.minMemType1=M.parseULong(),I.maxMemType1=M.parseULong(),I.version){case 1:I.names=wt.slice();break;case 2:I.numberOfGlyphs=M.parseUShort(),I.glyphNameIndex=new Array(I.numberOfGlyphs);for(var Z=0;Z<I.numberOfGlyphs;Z++)I.glyphNameIndex[Z]=M.parseUShort();I.names=[];for(var K,le=0;le<I.numberOfGlyphs;le++)I.glyphNameIndex[le]>=wt.length&&(K=M.parseChar(),I.names.push(M.parseString(K)));break;case 2.5:I.numberOfGlyphs=M.parseUShort(),I.offset=new Array(I.numberOfGlyphs);for(var ke=0;ke<I.numberOfGlyphs;ke++)I.offset[ke]=M.parseChar()}return I},dr_make=function(){return new Lt.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},rr=new Array(9),at=(rr[1]=function(){var C=this.offset+this.relativeOffset,B=this.parseUShort();return 1===B?{substFormat:1,coverage:this.parsePointer(bt.coverage),deltaGlyphId:this.parseUShort()}:2===B?{substFormat:2,coverage:this.parsePointer(bt.coverage),substitute:this.parseOffset16List()}:void R.assert(!1,"0x"+C.toString(16)+": lookup type 1 format must be 1 or 2.")},rr[2]=function(){var C=this.parseUShort();return R.argument(1===C,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:C,coverage:this.parsePointer(bt.coverage),sequences:this.parseListOfLists()}},rr[3]=function(){var C=this.parseUShort();return R.argument(1===C,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:C,coverage:this.parsePointer(bt.coverage),alternateSets:this.parseListOfLists()}},rr[4]=function(){var C=this.parseUShort();return R.argument(1===C,"GSUB ligature table identifier-format must be 1"),{substFormat:C,coverage:this.parsePointer(bt.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:bt.uShort,lookupListIndex:bt.uShort});rr[5]=function(){var C,B,I=this.offset+this.relativeOffset,M=this.parseUShort();return 1===M?{substFormat:M,coverage:this.parsePointer(bt.coverage),ruleSets:this.parseListOfLists(function(){var Z=this.parseUShort(),K=this.parseUShort();return{input:this.parseUShortList(Z-1),lookupRecords:this.parseRecordList(K,at)}})}:2===M?{substFormat:M,coverage:this.parsePointer(bt.coverage),classDef:this.parsePointer(bt.classDef),classSets:this.parseListOfLists(function(){var Z=this.parseUShort(),K=this.parseUShort();return{classes:this.parseUShortList(Z-1),lookupRecords:this.parseRecordList(K,at)}})}:3===M?(C=this.parseUShort(),B=this.parseUShort(),{substFormat:M,coverages:this.parseList(C,bt.pointer(bt.coverage)),lookupRecords:this.parseRecordList(B,at)}):void R.assert(!1,"0x"+I.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},rr[6]=function(){var C=this.offset+this.relativeOffset,B=this.parseUShort();return 1===B?{substFormat:1,coverage:this.parsePointer(bt.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(at)}})}:2===B?{substFormat:2,coverage:this.parsePointer(bt.coverage),backtrackClassDef:this.parsePointer(bt.classDef),inputClassDef:this.parsePointer(bt.classDef),lookaheadClassDef:this.parsePointer(bt.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(at)}})}:3===B?{substFormat:3,backtrackCoverage:this.parseList(bt.pointer(bt.coverage)),inputCoverage:this.parseList(bt.pointer(bt.coverage)),lookaheadCoverage:this.parseList(bt.pointer(bt.coverage)),lookupRecords:this.parseRecordList(at)}:void R.assert(!1,"0x"+C.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},rr[7]=function(){var C=this.parseUShort(),B=(R.argument(1===C,"GSUB Extension Substitution subtable identifier-format must be 1"),C=this.parseUShort(),new bt(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:C,extension:rr[C].call(B)}},rr[8]=function(){var C=this.parseUShort();return R.argument(1===C,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:C,coverage:this.parsePointer(bt.coverage),backtrackCoverage:this.parseList(bt.pointer(bt.coverage)),lookaheadCoverage:this.parseList(bt.pointer(bt.coverage)),substitutes:this.parseUShortList()}};var ut=new Array(9);ut[1]=function(C){return new Lt.Table("substitutionTable",1===C.substFormat?[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Lt.Coverage(C.coverage)},{name:"deltaGlyphID",type:"USHORT",value:C.deltaGlyphId}]:[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Lt.Coverage(C.coverage)}].concat(Lt.ushortList("substitute",C.substitute)))},ut[3]=function(C){return R.assert(1===C.substFormat,"Lookup type 3 substFormat must be 1."),new Lt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Lt.Coverage(C.coverage)}].concat(Lt.tableList("altSet",C.alternateSets,function(B){return new Lt.Table("alternateSetTable",Lt.ushortList("alternate",B))})))},ut[4]=function(C){return R.assert(1===C.substFormat,"Lookup type 4 substFormat must be 1."),new Lt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Lt.Coverage(C.coverage)}].concat(Lt.tableList("ligSet",C.ligatureSets,function(B){return new Lt.Table("ligatureSetTable",Lt.tableList("ligature",B,function(I){return new Lt.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:I.ligGlyph}].concat(Lt.ushortList("component",I.components,I.components.length+1)))}))})))};var $e_parse=function(C,B){return B=(C=new bt(C,B=B||0)).parseVersion(1),R.argument(1===B||1.1===B,"Unsupported GSUB table version."),1===B?{version:B,scripts:C.parseScriptList(),features:C.parseFeatureList(),lookups:C.parseLookupList(rr)}:{version:B,scripts:C.parseScriptList(),features:C.parseFeatureList(),lookups:C.parseLookupList(rr),variations:C.parseFeatureVariationsList()}},$e_make=function(C){return new Lt.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Lt.ScriptList(C.scripts)},{name:"features",type:"TABLE",value:new Lt.FeatureList(C.features)},{name:"lookups",type:"TABLE",value:new Lt.LookupList(C.lookups,ut)}])},lt_parse=function(C,B){for(var I=new Et.Parser(C,B),M=I.parseULong(),Z=(R.argument(1===M,"Unsupported META table version."),I.parseULong(),I.parseULong(),I.parseULong()),K={},le=0;le<Z;le++){var ke=I.parseTag(),it=I.parseULong(),Ke=I.parseULong();it=se.UTF8(C,B+it,Ke),K[ke]=it}return K},lt_make=function(C){var B,I=Object.keys(C).length,M="",Z=16+12*I,K=new Lt.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:Z},{name:"numTags",type:"ULONG",value:I}]);for(B in C){var le=M.length;M+=C[B],K.fields.push({name:"tag "+B,type:"TAG",value:B}),K.fields.push({name:"offset "+B,type:"ULONG",value:Z+le}),K.fields.push({name:"length "+B,type:"ULONG",value:C[B].length})}return K.fields.push({name:"stringPool",type:"CHARARRAY",value:M}),K};function Ut(C){return Math.log(C)/Math.log(2)|0}function dn(C){for(;C.length%4!=0;)C.push(0);for(var B=0,I=0;I<C.length;I+=4)B+=(C[I]<<24)+(C[I+1]<<16)+(C[I+2]<<8)+C[I+3];return B%Math.pow(2,32)}function An(C,B,I,M){return new Lt.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==C?C:""},{name:"checkSum",type:"ULONG",value:void 0!==B?B:0},{name:"offset",type:"ULONG",value:void 0!==I?I:0},{name:"length",type:"ULONG",value:void 0!==M?M:0}])}function At(C){for(var B=new Lt.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),I=(B.tables=C,B.numTables=C.length,Math.pow(2,Ut(B.numTables))),M=(B.searchRange=16*I,B.entrySelector=Ut(I),B.rangeShift=16*B.numTables-B.searchRange,[]),Z=[],K=B.sizeOf()+An().sizeOf()*B.numTables;K%4!=0;)K+=1,Z.push({name:"padding",type:"BYTE",value:0});for(var le=0;le<C.length;le+=1){var ke=C[le],Ke=(R.argument(4===ke.tableName.length,"Table name"+ke.tableName+" is invalid."),ke.sizeOf()),it=An(ke.tableName,dn(ke.encode()),K,Ke);for(M.push({name:it.tag+" Table Record",type:"RECORD",value:it}),Z.push({name:ke.tableName+" table",type:"RECORD",value:ke}),K+=Ke,R.argument(!isNaN(K),"Something went wrong calculating the offset.");K%4!=0;)K+=1,Z.push({name:"padding",type:"BYTE",value:0})}return M.sort(function(It,Wt){return It.value.tag>Wt.value.tag?1:-1}),B.fields=B.fields.concat(M),B.fields=B.fields.concat(Z),B}function je(C,B,I){for(var M=0;M<B.length;M+=1){var Z=C.charToGlyphIndex(B[M]);if(0<Z)return C.glyphs.get(Z).getMetrics()}return I}var He_fontToTable=function(C){for(var B,I=[],M=[],Z=[],K=[],le=[],ke=[],Ke=[],it=0,It=0,Wt=0,Bt=0,gt=0,gn=0;gn<C.glyphs.length;gn+=1){var tn=C.glyphs.get(gn),on=0|tn.unicode;if(isNaN(tn.advanceWidth))throw new Error("Glyph "+tn.name+" ("+gn+"): advanceWidth is not a number.");if((on<B||void 0===B)&&0<on&&(B=on),it<on&&(it=on),(on=Hn_getUnicodeRange(on))<32)It|=1<<on;else if(on<64)Wt|=1<<on-32;else if(on<96)Bt|=1<<on-64;else{if(!(on<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");gt|=1<<on-96}".notdef"!==tn.name&&(on=tn.getMetrics(),I.push(on.xMin),M.push(on.yMin),Z.push(on.xMax),K.push(on.yMax),ke.push(on.leftSideBearing),Ke.push(on.rightSideBearing),le.push(tn.advanceWidth))}var Qt,Kt={xMin:Math.min.apply(null,I),yMin:Math.min.apply(null,M),xMax:Math.max.apply(null,Z),yMax:Math.max.apply(null,K),advanceWidthMax:Math.max.apply(null,le),advanceWidthAvg:function(no){for(var Jo=0,ci=0;ci<no.length;ci+=1)Jo+=no[ci];return Jo/no.length}(le),minLeftSideBearing:Math.min.apply(null,ke),maxLeftSideBearing:Math.max.apply(null,ke),minRightSideBearing:Math.min.apply(null,Ke)},Bn=(Kt.ascender=C.ascender,Kt.descender=C.descender,Wn_make({flags:3,unitsPerEm:C.unitsPerEm,xMin:Kt.xMin,yMin:Kt.yMin,xMax:Kt.xMax,yMax:Kt.yMax,lowestRecPPEM:3,createdTimestamp:C.createdTimestamp})),Gn=G_make({ascender:Kt.ascender,descender:Kt.descender,advanceWidthMax:Kt.advanceWidthMax,minLeftSideBearing:Kt.minLeftSideBearing,minRightSideBearing:Kt.minRightSideBearing,xMaxExtent:Kt.maxLeftSideBearing+(Kt.xMax-Kt.xMin),numberOfHMetrics:C.glyphs.length}),$n=D_make(C.glyphs.length),Un=Hn_make({xAvgCharWidth:Math.round(Kt.advanceWidthAvg),usWeightClass:C.tables.os2.usWeightClass,usWidthClass:C.tables.os2.usWidthClass,usFirstCharIndex:B,usLastCharIndex:it,ulUnicodeRange1:It,ulUnicodeRange2:Wt,ulUnicodeRange3:Bt,ulUnicodeRange4:gt,fsSelection:C.tables.os2.fsSelection,sTypoAscender:Kt.ascender,sTypoDescender:Kt.descender,sTypoLineGap:0,usWinAscent:Kt.yMax,usWinDescent:Math.abs(Kt.yMin),ulCodePageRange1:1,sxHeight:je(C,"xyvw",{yMax:Math.round(Kt.ascender/2)}).yMax,sCapHeight:je(C,"HIKLEFJMNTZBDPRAGOQSUVWXY",Kt).yMax,usDefaultChar:C.hasChar(" ")?32:0,usBreakChar:C.hasChar(" ")?32:0}),Qn=ye_make(C.glyphs),er=Pe_make(C.glyphs),Er=(Mr=C.getEnglishName("fontFamily"))+" "+(yr=C.getEnglishName("fontSubfamily")),Ur=(Ur=C.getEnglishName("postScriptName"))||Mr.replace(/\s/g,"")+"-"+yr,Kr={};for(Qt in C.names)Kr[Qt]=C.names[Qt];Kr.uniqueID||(Kr.uniqueID={en:C.getEnglishName("manufacturer")+":"+Er}),Kr.postScriptName||(Kr.postScriptName={en:Ur}),Kr.preferredFamily||(Kr.preferredFamily=C.names.fontFamily),Kr.preferredSubfamily||(Kr.preferredSubfamily=C.names.fontSubfamily);var Qr=bn_make(Kr,Jr=[]),Jr=0<Jr.length?Se_make(Jr):void 0,ho=dr_make(),Mr=(Er=Pn_make(C.glyphs,{version:C.getEnglishName("version"),fullName:Er,familyName:Mr,weightName:yr,postScriptName:Ur,unitsPerEm:C.unitsPerEm,fontBBox:[0,Kt.yMin,Kt.ascender,Kt.advanceWidthMax]}),C.metas&&0<Object.keys(C.metas).length?lt_make(C.metas):void 0),yr=[Bn,Gn,$n,Un,Qr,er,ho,Er,Qn];Jr&&yr.push(Jr),C.tables.gsub&&yr.push($e_make(C.tables.gsub)),Mr&&yr.push(Mr);for(var kr=dn((Ur=At(yr)).encode()),Nn=Ur.fields,to=!1,Nr=0;Nr<Nn.length;Nr+=1)if("head table"===Nn[Nr].name){Nn[Nr].value.checkSumAdjustment=2981146554-kr,to=!0;break}if(to)return Ur;throw new Error("Could not find head table with checkSum to adjust.")};function Mt(C,B){for(var I=0,M=C.length-1;I<=M;){var Z=I+M>>>1,K=C[Z].tag;if(K===B)return Z;K<B?I=1+Z:M=Z-1}return-I-1}function Rt(C,B){for(var I=0,M=C.length-1;I<=M;){var Z=I+M>>>1,K=C[Z];if(K===B)return Z;K<B?I=1+Z:M=Z-1}return-I-1}function Vt(C,B){for(var I=0,M=C.length-1;I<=M;){var Z,K=I+M>>>1,le=(Z=C[K]).start;if(le===B)return Z;le<B?I=1+K:M=K-1}if(0<I)return B>(Z=C[I-1]).end?0:Z}function ie(C,B){this.font=C,this.tableName=B}function Le(C){ie.call(this,C,"gpos")}function ve(C){ie.call(this,C,"gsub")}function Ve(C,B,I){for(var M=C.subtables,Z=0;Z<M.length;Z++){var K=M[Z];if(K.substFormat===B)return K}if(I)return M.push(I),I}function mt(C){for(var B=new ArrayBuffer(C.length),I=new Uint8Array(B),M=0;M<C.length;++M)I[M]=C[M];return B}function Zt(C,B){if(!C)throw B}function Dn(C,B,I,M,Z){var K=0<(B&M)?(K=C.parseByte(),I+(K=B&Z?K:-K)):0<(B&Z)?I:I+C.parseShort();return K}function On(C,B,I){var M,Z=new Et.Parser(B,I);if(C.numberOfContours=Z.parseShort(),C._xMin=Z.parseShort(),C._yMin=Z.parseShort(),C._xMax=Z.parseShort(),C._yMax=Z.parseShort(),0<C.numberOfContours){for(var K=C.endPointIndices=[],le=0;le<C.numberOfContours;le+=1)K.push(Z.parseUShort());C.instructionLength=Z.parseUShort(),C.instructions=[];for(var ke=0;ke<C.instructionLength;ke+=1)C.instructions.push(Z.parseByte());for(var Ke=K[K.length-1]+1,it=[],It=0;It<Ke;It+=1)if(M=Z.parseByte(),it.push(M),0<(8&M))for(var Wt=Z.parseByte(),Bt=0;Bt<Wt;Bt+=1)it.push(M),It+=1;if(R.argument(it.length===Ke,"Bad flags."),0<K.length){var gt,gn=[];if(0<Ke){for(var tn=0;tn<Ke;tn+=1)(gt={}).onCurve=!!(1&(M=it[tn])),gt.lastPointOfContour=0<=K.indexOf(tn),gn.push(gt);for(var on=0,Qt=0;Qt<Ke;Qt+=1)(gt=gn[Qt]).x=Dn(Z,M=it[Qt],on,2,16),on=gt.x;for(var Kt=0,Bn=0;Bn<Ke;Bn+=1)(gt=gn[Bn]).y=Dn(Z,M=it[Bn],Kt,4,32),Kt=gt.y}C.points=gn}else C.points=[]}else if(0===C.numberOfContours)C.points=[];else{C.isComposite=!0,C.points=[],C.components=[];for(var Gn=!0;Gn;){it=Z.parseUShort();var $n={glyphIndex:Z.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&it)?0<(2&it)?($n.dx=Z.parseShort(),$n.dy=Z.parseShort()):$n.matchedPoints=[Z.parseUShort(),Z.parseUShort()]:0<(2&it)?($n.dx=Z.parseChar(),$n.dy=Z.parseChar()):$n.matchedPoints=[Z.parseByte(),Z.parseByte()],0<(8&it)?$n.xScale=$n.yScale=Z.parseF2Dot14():0<(64&it)?($n.xScale=Z.parseF2Dot14(),$n.yScale=Z.parseF2Dot14()):0<(128&it)&&($n.xScale=Z.parseF2Dot14(),$n.scale01=Z.parseF2Dot14(),$n.scale10=Z.parseF2Dot14(),$n.yScale=Z.parseF2Dot14()),C.components.push($n),Gn=!!(32&it)}if(256&it){C.instructionLength=Z.parseUShort(),C.instructions=[];for(var Un=0;Un<C.instructionLength;Un+=1)C.instructions.push(Z.parseByte())}}}function zn(C,B){for(var I=[],M=0;M<C.length;M+=1){var Z;I.push(Z={x:B.xScale*(Z=C[M]).x+B.scale01*Z.y+B.dx,y:B.scale10*Z.x+B.yScale*Z.y+B.dy,onCurve:Z.onCurve,lastPointOfContour:Z.lastPointOfContour})}return I}function Xn(C){var B=new de;if(C)for(var I=function(Wt){for(var Bt=[],gt=[],gn=0;gn<Wt.length;gn+=1){var tn=Wt[gn];gt.push(tn),tn.lastPointOfContour&&(Bt.push(gt),gt=[])}return R.argument(0===gt.length,"There are still points left in the current contour."),Bt}(C),M=0;M<I.length;++M){var Z,K=I[M],ke=K[0];(le=K[K.length-1]).onCurve?B.moveTo(le.x,le.y):ke.onCurve?B.moveTo(ke.x,ke.y):B.moveTo((Z={x:.5*(le.x+ke.x),y:.5*(le.y+ke.y)}).x,Z.y);for(var Ke=0;Ke<K.length;++Ke){var it,le=ke;ke=K[(Ke+1)%K.length],le.onCurve?B.lineTo(le.x,le.y):(it=ke,ke.onCurve||(it={x:.5*(le.x+ke.x),y:.5*(le.y+ke.y)}),B.quadraticCurveTo(le.x,le.y,it.x,it.y))}B.closePath()}return B}function jr(C,B){if(B.isComposite)for(var I=0;I<B.components.length;I+=1){var Z=C.get((M=B.components[I]).glyphIndex);if(Z.getPath(),Z.points){var K=void 0;if(void 0===M.matchedPoints)K=zn(Z.points,M);else{if(M.matchedPoints[0]>B.points.length-1||M.matchedPoints[1]>Z.points.length-1)throw Error("Matched points out of range in "+B.name);var M,le=B.points[M.matchedPoints[0]],ke=zn([ke=Z.points[M.matchedPoints[1]]],M={xScale:M.xScale,scale01:M.scale01,scale10:M.scale10,yScale:M.yScale,dx:0,dy:0})[0];M.dx=le.x-ke.x,M.dy=le.y-ke.y,K=zn(Z.points,M)}B.points=B.points.concat(K)}}return Xn(B.points)}(Le.prototype=ie.prototype={searchTag:Mt,binSearch:Rt,getTable:function(C){var B=this.font.tables[this.tableName];return!B&&C?this.font.tables[this.tableName]=this.createDefaultTable():B},getScriptNames:function(){var C=this.getTable();return C?C.scripts.map(function(B){return B.tag}):[]},getDefaultScriptName:function(){var C=this.getTable();if(C){for(var B=!1,I=0;I<C.scripts.length;I++){var M=C.scripts[I].tag;if("DFLT"===M)return M;"latn"===M&&(B=!0)}return B?"latn":void 0}},getScriptTable:function(C,B){var I,M=this.getTable(B);if(M)return I=M.scripts,0<=(M=Mt(M.scripts,C=C||"DFLT"))?I[M].script:B?(I.splice(-1-M,0,B={tag:C,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),B.script):void 0},getLangSysTable:function(Z,B,I){var M;if(Z=this.getScriptTable(Z,I))return B&&"dflt"!==B&&"DFLT"!==B?0<=(M=Mt(Z.langSysRecords,B))?Z.langSysRecords[M].langSys:I?(Z.langSysRecords.splice(-1-M,0,I={tag:B,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),I.langSys):void 0:Z.defaultLangSys},getFeatureTable:function(C,B,I,M){if(C=this.getLangSysTable(C,B,M)){for(var Z,K=C.featureIndexes,le=this.font.tables[this.tableName].features,ke=0;ke<K.length;ke++)if((Z=le[K[ke]]).tag===I)return Z.feature;if(M)return R.assert(0===(B=le.length)||I>=le[B-1].tag,"Features must be added in alphabetical order."),le.push(Z={tag:I,feature:{params:0,lookupListIndexes:[]}}),K.push(B),Z.feature}},getLookupTables:function(K,B,I,M,Z){var le=[];if(K=this.getFeatureTable(K,B,I,Z)){for(var ke,Ke=K.lookupListIndexes,it=this.font.tables[this.tableName].lookups,It=0;It<Ke.length;It++)(ke=it[Ke[It]]).lookupType===M&&le.push(ke);if(0===le.length&&Z)return B=it.length,it.push(ke={lookupType:M,lookupFlag:0,subtables:[],markFilteringSet:void 0}),Ke.push(B),[ke]}return le},getGlyphClass:function(C,B){switch(C.format){case 1:return C.startGlyph<=B&&B<C.startGlyph+C.classes.length?C.classes[B-C.startGlyph]:0;case 2:var I=Vt(C.ranges,B);return I?I.classId:0}},getCoverageIndex:function(C,B){switch(C.format){case 1:var I=Rt(C.glyphs,B);return 0<=I?I:-1;case 2:return(I=Vt(C.ranges,B))?I.index+B-I.start:-1}},expandCoverage:function(C){if(1===C.format)return C.glyphs;for(var B=[],I=C.ranges,M=0;M<I.length;M++)for(var Z=I[M],le=Z.end,ke=Z.start;ke<=le;ke++)B.push(ke);return B}}).init=function(){var C=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(C)},Le.prototype.getKerningValue=function(C,B,I){for(var M=0;M<C.length;M++)for(var Z=C[M].subtables,K=0;K<Z.length;K++){var le=Z[K],ke=this.getCoverageIndex(le.coverage,B);if(!(ke<0))switch(le.posFormat){case 1:for(var Ke=le.pairSets[ke],it=0;it<Ke.length;it++){var It=Ke[it];if(It.secondGlyph===I)return It.value1&&It.value1.xAdvance||0}break;case 2:var Bt=this.getGlyphClass(le.classDef1,B),Wt=this.getGlyphClass(le.classDef2,I);return(Bt=le.classRecords[Bt][Wt]).value1&&Bt.value1.xAdvance||0}}return 0},Le.prototype.getKerningTables=function(C,B){if(this.font.tables.gpos)return this.getLookupTables(C,B,"kern",2)},(ve.prototype=ie.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},ve.prototype.getSingle=function(C,B,I){for(var M=[],Z=this.getLookupTables(B,I,C,1),K=0;K<Z.length;K++)for(var le=Z[K].subtables,ke=0;ke<le.length;ke++){var Ke=le[ke],it=this.expandCoverage(Ke.coverage),It=void 0;if(1===Ke.substFormat){var Wt=Ke.deltaGlyphId;for(It=0;It<it.length;It++){var Bt=it[It];M.push({sub:Bt,by:Bt+Wt})}}else{var gt=Ke.substitute;for(It=0;It<it.length;It++)M.push({sub:it[It],by:gt[It]})}}return M},ve.prototype.getAlternates=function(C,B,I){for(var M=[],Z=this.getLookupTables(B,I,C,3),K=0;K<Z.length;K++)for(var le=Z[K].subtables,ke=0;ke<le.length;ke++)for(var Ke=le[ke],it=this.expandCoverage(Ke.coverage),It=Ke.alternateSets,Wt=0;Wt<it.length;Wt++)M.push({sub:it[Wt],by:It[Wt]});return M},ve.prototype.getLigatures=function(C,B,I){for(var M=[],Z=this.getLookupTables(B,I,C,4),K=0;K<Z.length;K++)for(var le=Z[K].subtables,ke=0;ke<le.length;ke++)for(var Ke=le[ke],it=this.expandCoverage(Ke.coverage),It=Ke.ligatureSets,Wt=0;Wt<it.length;Wt++)for(var Bt=it[Wt],gt=It[Wt],gn=0;gn<gt.length;gn++){var tn=gt[gn];M.push({sub:[Bt].concat(tn.components),by:tn.ligGlyph})}return M},ve.prototype.addSingle=function(C,B,I,M){I=Ve(this.getLookupTables(I,M,C,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),R.assert(1===I.coverage.format,"Ligature: unable to modify coverage table format "+I.coverage.format),(C=this.binSearch(I.coverage.glyphs,M=B.sub))<0&&(I.coverage.glyphs.splice(C=-1-C,0,M),I.substitute.splice(C,0,0)),I.substitute[C]=B.by},ve.prototype.addAlternate=function(C,B,I,M){I=Ve(this.getLookupTables(I,M,C,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),R.assert(1===I.coverage.format,"Ligature: unable to modify coverage table format "+I.coverage.format),(C=this.binSearch(I.coverage.glyphs,M=B.sub))<0&&(I.coverage.glyphs.splice(C=-1-C,0,M),I.alternateSets.splice(C,0,0)),I.alternateSets[C]=B.by},ve.prototype.addLigature=function(K,Ke,ke,Z){(Z=(ke=this.getLookupTables(ke,Z,K,4,!0)[0]).subtables[0])||(ke.subtables[0]=Z={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),R.assert(1===Z.coverage.format,"Ligature: unable to modify coverage table format "+Z.coverage.format),K=Ke.sub[0];var le=Ke.sub.slice(1);if(ke={ligGlyph:Ke.by,components:le},0<=(Ke=this.binSearch(Z.coverage.glyphs,K))){for(var it=Z.ligatureSets[Ke],It=0;It<it.length;It++)if(function(Wt,Bt){var gt=Wt.length;if(gt===Bt.length){for(var gn=0;gn<gt;gn++)if(Wt[gn]!==Bt[gn])return;return 1}}(it[It].components,le))return;it.push(ke)}else Z.coverage.glyphs.splice(Ke=-1-Ke,0,K),Z.ligatureSets.splice(Ke,0,[ke])},ve.prototype.getFeature=function(C,B,I){if(/ss\d\d/.test(C))return this.getSingle(C,B,I);switch(C){case"aalt":case"salt":return this.getSingle(C,B,I).concat(this.getAlternates(C,B,I));case"dlig":case"liga":case"rlig":return this.getLigatures(C,B,I)}},ve.prototype.add=function(C,B,I,M){if(/ss\d\d/.test(C))return this.addSingle(C,B,I,M);switch(C){case"aalt":case"salt":return"number"==typeof B.by?this.addSingle(C,B,I,M):this.addAlternate(C,B,I,M);case"dlig":case"liga":case"rlig":return this.addLigature(C,B,I,M)}};var Ar={getPath:Xn,parse:function(C,B,I,M){for(var Z=new Ye.GlyphSet(M),K=0;K<I.length-1;K+=1){var le=I[K];Z.push(K,le!==I[K+1]?Ye.ttfGlyphLoader(M,K,On,C,B+le,jr):Ye.glyphLoader(M,K))}return Z}};function Rr(C){this.font=C,this.getCommands=function(B){return Ar.getPath(B).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Bo(C){return C}function Br(C){return Math.sign(C)*Math.round(Math.abs(C))}function mr(C){return Math.sign(C)*Math.round(Math.abs(2*C))/2}function Tn(C){return Math.sign(C)*(Math.round(Math.abs(C)+.5)-.5)}function Fn(C){return Math.sign(C)*Math.ceil(Math.abs(C))}function fr(C){return Math.sign(C)*Math.floor(Math.abs(C))}function Yr(C){var B=this.srPeriod,I=this.srPhase,M=1;return C<0&&(C=-C,M=-1),C+=this.srThreshold-I,C=Math.trunc(C/B)*B,(C+=I)<0?I*M:C*M}var xr={x:1,y:0,axis:"x",distance:function(C,B,I,M){return(I?C.xo:C.x)-(M?B.xo:B.x)},interpolate:function(C,B,I,M){var Z,K,le,ke,Ke,it,It;if(!M||M===this)return Z=C.xo-B.xo,K=C.xo-I.xo,Ke=B.x-B.xo,it=I.x-I.xo,0===(It=(le=Math.abs(Z))+(ke=Math.abs(K)))?void(C.x=C.xo+(Ke+it)/2):void(C.x=C.xo+(Ke*ke+it*le)/It);Z=M.distance(C,B,!0,!0),K=M.distance(C,I,!0,!0),Ke=M.distance(B,B,!1,!0),it=M.distance(I,I,!1,!0),0===(It=(le=Math.abs(Z))+(ke=Math.abs(K)))?xr.setRelative(C,C,(Ke+it)/2,M,!0):xr.setRelative(C,C,(Ke*ke+it*le)/It,M,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(C,B,I,M,Z){var K,le;M&&M!==this?(K=Z?B.xo:B.x,le=Z?B.yo:B.y,C.x=(K+=I*M.x)+(C.y-(le+=I*M.y))/M.normalSlope):C.x=(Z?B.xo:B.x)+I},slope:0,touch:function(C){C.xTouched=!0},touched:function(C){return C.xTouched},untouch:function(C){C.xTouched=!1}},Lr={x:0,y:1,axis:"y",distance:function(C,B,I,M){return(I?C.yo:C.y)-(M?B.yo:B.y)},interpolate:function(C,B,I,M){var Z,K,le,ke,Ke,it,It;if(!M||M===this)return Z=C.yo-B.yo,K=C.yo-I.yo,Ke=B.y-B.yo,it=I.y-I.yo,0===(It=(le=Math.abs(Z))+(ke=Math.abs(K)))?void(C.y=C.yo+(Ke+it)/2):void(C.y=C.yo+(Ke*ke+it*le)/It);Z=M.distance(C,B,!0,!0),K=M.distance(C,I,!0,!0),Ke=M.distance(B,B,!1,!0),it=M.distance(I,I,!1,!0),0===(It=(le=Math.abs(Z))+(ke=Math.abs(K)))?Lr.setRelative(C,C,(Ke+it)/2,M,!0):Lr.setRelative(C,C,(Ke*ke+it*le)/It,M,!0)},normalSlope:0,setRelative:function(C,B,I,M,Z){var K,le;M&&M!==this?(K=Z?B.xo:B.x,le=Z?B.yo:B.y,C.y=(le+=I*M.y)+M.normalSlope*(C.x-(K+=I*M.x))):C.y=(Z?B.yo:B.y)+I},slope:Number.POSITIVE_INFINITY,touch:function(C){C.yTouched=!0},touched:function(C){return C.yTouched},untouch:function(C){C.yTouched=!1}};function uo(C,B){this.x=C,this.y=B,this.axis=void 0,this.slope=B/C,this.normalSlope=-C/B,Object.freeze(this)}function ur(C,B){var I=Math.sqrt(C*C+B*B);return B/=I,1==(C/=I)&&0===B?xr:0===C&&1===B?Lr:new uo(C,B)}function vr(C,B,I,M){this.x=this.xo=Math.round(64*C)/64,this.y=this.yo=Math.round(64*B)/64,this.lastPointOfContour=I,this.onCurve=M,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(xr),Object.freeze(Lr),uo.prototype.distance=function(C,B,I,M){return this.x*xr.distance(C,B,I,M)+this.y*Lr.distance(C,B,I,M)},uo.prototype.interpolate=function(C,Z,K,M){var le=M.distance(C,Z,!0,!0),ke=M.distance(C,K,!0,!0),Ke=(Z=M.distance(Z,Z,!1,!0),K=M.distance(K,K,!1,!0),(le=Math.abs(le))+(ke=Math.abs(ke)));this.setRelative(C,C,0===Ke?(Z+K)/2:(Z*ke+K*le)/Ke,M,!0)},uo.prototype.setRelative=function(C,K,Ke,it,ke){var le=ke?K.xo:K.x,It=(ke=ke?K.yo:K.y,K=le+Ke*(it=it||this).x,le=ke+Ke*it.y,ke=it.normalSlope,C.y);C.x=((Ke=this.slope)*(it=C.x)-ke*K+le-It)/(Ke-ke),C.y=Ke*(C.x-it)+It},uo.prototype.touch=function(C){C.xTouched=!0,C.yTouched=!0},vr.prototype.nextTouched=function(C){for(var B=this.nextPointOnContour;!C.touched(B)&&B!==this;)B=B.nextPointOnContour;return B},vr.prototype.prevTouched=function(C){for(var B=this.prevPointOnContour;!C.touched(B)&&B!==this;)B=B.prevPointOnContour;return B};var $r=Object.freeze(new vr(0,0)),qn={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function ro(C,B){switch(this.env=C,this.stack=[],this.prog=B,C){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=xr,this.round=Br}}function zo(C){for(var B=C.tZone=new Array(C.gZone.length),I=0;I<B.length;I++)B[I]=new vr(0,0)}function xo(C,B){var I,M=C.prog,Z=C.ip,K=1;do{if(88===(I=M[++Z]))K++;else if(89===I)K--;else if(64===I)Z+=M[Z+1]+1;else if(65===I)Z+=2*M[Z+1]+1;else if(176<=I&&I<=183)Z+=I-176+1;else if(184<=I&&I<=191)Z+=2*(I-184+1);else if(B&&1===K&&27===I)break}while(0<K);C.ip=Z}function Dr(C,B){h.DEBUG&&console.log(B.step,"SVTCA["+C.axis+"]"),B.fv=B.pv=B.dpv=C}function So(C,B){h.DEBUG&&console.log(B.step,"SPVTCA["+C.axis+"]"),B.pv=B.dpv=C}function To(C,B){h.DEBUG&&console.log(B.step,"SFVTCA["+C.axis+"]"),B.fv=C}function fo(C,B){var I,M=(Z=B.stack).pop(),Z=Z.pop(),K=B.z2[M],le=B.z1[Z];h.DEBUG&&console.log("SPVTL["+C+"]",M,Z),M=C?(I=K.y-le.y,le.x-K.x):(I=le.x-K.x,le.y-K.y),B.pv=B.dpv=ur(I,M)}function po(C,B){var I,M=(Z=B.stack).pop(),Z=Z.pop(),K=B.z2[M],le=B.z1[Z];h.DEBUG&&console.log("SFVTL["+C+"]",M,Z),M=C?(I=K.y-le.y,le.x-K.x):(I=le.x-K.x,le.y-K.y),B.fv=ur(I,M)}function qo(C){h.DEBUG&&console.log(C.step,"POP[]"),C.stack.pop()}function Po(C,B){var I=B.stack.pop(),M=B.z0[I],Z=B.fv,K=B.pv,le=(h.DEBUG&&console.log(B.step,"MDAP["+C+"]",I),K.distance(M,$r));C&&(le=B.round(le)),Z.setRelative(M,$r,le,K),Z.touch(M),B.rp0=B.rp1=I}function mo(C,B){var I,M,Z,K=B.z2,le=K.length-2;h.DEBUG&&console.log(B.step,"IUP["+C.axis+"]");for(var ke=0;ke<le;ke++)C.touched(I=K[ke])||(M=I.prevTouched(C))!==I&&(M===(Z=I.nextTouched(C))&&C.setRelative(I,I,C.distance(M,M,!1,!0),C,!0),C.interpolate(I,M,Z,C))}function ko(C,B){for(var I=B.stack,Z=(C?B.z0:B.z1)[C?B.rp1:B.rp2],K=B.fv,le=B.pv,ke=B.loop,Ke=B.z2;ke--;){var it=I.pop(),It=Ke[it],Wt=le.distance(Z,Z,!1,!0);K.setRelative(It,It,Wt,le),K.touch(It),h.DEBUG&&console.log(B.step,(1<B.loop?"loop "+(B.loop-ke)+": ":"")+"SHP["+(C?"rp1":"rp2")+"]",it)}B.loop=1}function Yn(C,B){for(var M=(C?B.z0:B.z1)[C?B.rp1:B.rp2],Z=B.fv,K=B.pv,le=B.stack.pop(),ke=B.z2[B.contours[le]],Ke=ke,it=(h.DEBUG&&console.log(B.step,"SHC["+C+"]",le),K.distance(M,M,!1,!0));Ke!==M&&Z.setRelative(Ke,Ke,it,K),(Ke=Ke.nextPointOnContour)!==ke;);}function Uo(C,B){var I,M,Z=(C?B.z0:B.z1)[Z=C?B.rp1:B.rp2],K=B.fv,le=B.pv,ke=(ke=B.stack).pop();switch(h.DEBUG&&console.log(B.step,"SHZ["+C+"]",ke),ke){case 0:I=B.tZone;break;case 1:I=B.gZone;break;default:throw new Error("Invalid zone")}for(var Ke=le.distance(Z,Z,!1,!0),it=I.length-2,It=0;It<it;It++)K.setRelative(M=I[It],M,Ke,le)}function oo(C,B){var I=(M=B.stack).pop()/64,M=M.pop(),Z=B.z1[M],le=B.fv;le.setRelative(Z,B.z0[B.rp0],I,B.pv),le.touch(Z),h.DEBUG&&console.log(B.step,"MSIRP["+C+"]",I,M),B.rp1=B.rp0,B.rp2=M,C&&(B.rp0=M)}function co(C,B){var ke=(I=B.stack).pop(),I=I.pop(),M=B.z0[I],Z=B.fv,K=B.pv,le=B.cvt[ke];h.DEBUG&&console.log(B.step,"MIAP["+C+"]",ke,"(",le,")",I),ke=K.distance(M,$r),C&&(Math.abs(ke-le)<B.cvCutIn&&(ke=le),ke=B.round(ke)),Z.setRelative(M,$r,ke,K),0===B.zp0&&(M.xo=M.x,M.yo=M.y),Z.touch(M),B.rp0=B.rp1=I}function Ro(C,B){var I=B.stack,M=I.pop(),Z=B.z2[M];h.DEBUG&&console.log(B.step,"GC["+C+"]",M),I.push(64*B.dpv.distance(Z,$r,C,!1))}function Lo(C,B){var I=(M=B.stack).pop(),M=M.pop(),K=B.dpv.distance(K=B.z0[M],B.z1[I],C,C);h.DEBUG&&console.log(B.step,"MD["+C+"]",I,M,"->",K),B.stack.push(Math.round(64*K))}function br(C,B){var I=B.stack,M=I.pop(),Z=B.fv,K=B.pv,le=B.ppem,ke=B.deltaBase+16*(C-1),Ke=B.deltaShift,it=B.z0;h.DEBUG&&console.log(B.step,"DELTAP["+C+"]",M,I);for(var It=0;It<M;It++){var Wt=I.pop(),Bt=I.pop();ke+((240&Bt)>>4)===le&&(0<=(Bt=(15&Bt)-8)&&Bt++,h.DEBUG&&console.log(B.step,"DELTAPFIX",Wt,"by",Bt*Ke),Z.setRelative(Wt=it[Wt],Wt,Bt*Ke,K))}}function Yo(C,B){var I=B.stack,M=I.pop();h.DEBUG&&console.log(B.step,"ROUND[]"),I.push(64*B.round(M/64))}function Vr(C,B){var I=B.stack,M=I.pop(),Z=B.ppem,K=B.deltaBase+16*(C-1),le=B.deltaShift;h.DEBUG&&console.log(B.step,"DELTAC["+C+"]",M,I);for(var ke=0;ke<M;ke++){var Ke=I.pop(),it=I.pop();K+((240&it)>>4)===Z&&(0<=(it=(15&it)-8)&&it++,it*=le,h.DEBUG&&console.log(B.step,"DELTACFIX",Ke,"by",it),B.cvt[Ke]+=it)}}function Hr(C,B){var I,M=(Z=B.stack).pop(),Z=Z.pop(),K=B.z2[M],le=B.z1[Z];h.DEBUG&&console.log(B.step,"SDPVTL["+C+"]",M,Z),M=C?(I=K.y-le.y,le.x-K.x):(I=le.x-K.x,le.y-K.y),B.dpv=ur(I,M)}function Eo(C,B){var I=B.stack,M=B.prog,Z=B.ip;h.DEBUG&&console.log(B.step,"PUSHB["+C+"]");for(var K=0;K<C;K++)I.push(M[++Z]);B.ip=Z}function Xr(C,B){var I=B.ip,M=B.prog,Z=B.stack;h.DEBUG&&console.log(B.ip,"PUSHW["+C+"]");for(var K=0;K<C;K++){var le=M[++I]<<8|M[++I];32768&le&&(le=-(1+(65535^le))),Z.push(le)}B.ip=I}function Ln(C,B,I,M,Z,K){var le,ke,It,it=K.stack,Ke=C&&it.pop(),Wt=(it=it.pop(),K.z1[it]),Bt=K.minDis,gt=K.fv,gn=K.dpv,tn=le=gn.distance(Wt,It=K.z0[It=K.rp0],!0,!0),on=0<=tn?1:-1;tn=Math.abs(tn),C&&(ke=K.cvt[Ke],M&&Math.abs(tn-ke)<K.cvCutIn&&(tn=ke)),I&&tn<Bt&&(tn=Bt),M&&(tn=K.round(tn)),gt.setRelative(Wt,It,on*tn,gn),gt.touch(Wt),h.DEBUG&&console.log(K.step,(C?"MIRP[":"MDRP[")+(B?"M":"m")+(I?">":"_")+(M?"R":"_")+(0===Z?"Gr":1===Z?"Bl":2===Z?"Wh":"")+"]",C?Ke+"("+K.cvt[Ke]+","+ke+")":"",it,"(d =",le,"->",on*tn,")"),K.rp1=K.rp0,K.rp2=it,B&&(K.rp0=it)}Rr.prototype.exec=function(C,B){if("number"!=typeof B)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var I=this.font,M=this._prepState;if(!M||M.ppem!==B){var Z=this._fpgmState;if(!Z){ro.prototype=qn,(Z=this._fpgmState=new ro("fpgm",I.tables.fpgm)).funcs=[],Z.font=I,h.DEBUG&&(console.log("---EXEC FPGM---"),Z.step=-1);try{Go(Z)}catch(it){return console.log("Hinting error in FPGM:"+it),void(this._errorState=3)}}ro.prototype=Z,(M=this._prepState=new ro("prep",I.tables.prep)).ppem=B;var K=I.tables.cvt;if(K)for(var le=M.cvt=new Array(K.length),ke=B/I.unitsPerEm,Ke=0;Ke<K.length;Ke++)le[Ke]=K[Ke]*ke;else M.cvt=[];h.DEBUG&&(console.log("---EXEC PREP---"),M.step=-1);try{Go(M)}catch(it){this._errorState<2&&console.log("Hinting error in PREP:"+it),this._errorState=2}}if(!(1<this._errorState))try{return Do(C,M)}catch(it){this._errorState<1&&(console.log("Hinting error:"+it),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Do=function(C,B){var I=B.ppem/B.font.unitsPerEm,M=I,Z=C.components;if(ro.prototype=B,Z){for(var K=B.font,le=[],ke=[],Ke=0;Ke<Z.length;Ke++){var it=Z[Ke],It=K.glyphs.get(it.glyphIndex),Wt=new ro("glyf",It.instructions);h.DEBUG&&(console.log("---EXEC COMP "+Ke+"---"),Wt.step=-1),Xo(It,Wt,I,M);for(var Bt=Math.round(it.dx*I),gt=Math.round(it.dy*M),gn=Wt.gZone,tn=Wt.contours,on=0;on<gn.length;on++){var Qt=gn[on];Qt.xTouched=Qt.yTouched=!1,Qt.xo=Qt.x=Qt.x+Bt,Qt.yo=Qt.y=Qt.y+gt}var Kt=le.length;le.push.apply(le,gn);for(var Bn=0;Bn<tn.length;Bn++)ke.push(tn[Bn]+Kt)}C.instructions&&!Wt.inhibitGridFit&&((Wt=new ro("glyf",C.instructions)).gZone=Wt.z0=Wt.z1=Wt.z2=le,Wt.contours=ke,le.push(new vr(0,0),new vr(Math.round(C.advanceWidth*I),0)),h.DEBUG&&(console.log("---EXEC COMPOSITE---"),Wt.step=-1),Go(Wt),le.length-=2)}else Wt=new ro("glyf",C.instructions),h.DEBUG&&(console.log("---EXEC GLYPH---"),Wt.step=-1),Xo(C,Wt,I,M),le=Wt.gZone;return le},Xo=function(C,B,I,M){for(var Z,K,ke=C.points||[],Ke=ke.length,it=B.gZone=B.z0=B.z1=B.z2=[],It=B.contours=[],Wt=0;Wt<Ke;Wt++)it[Wt]=new vr((Z=ke[Wt]).x*I,Z.y*M,Z.lastPointOfContour,Z.onCurve);for(var Bt=0;Bt<Ke;Bt++)Z=it[Bt],K||(K=Z,It.push(Bt)),Z.lastPointOfContour?((Z.nextPointOnContour=K).prevPointOnContour=Z,K=void 0):(Z.nextPointOnContour=it[Bt+1]).prevPointOnContour=Z;if(!B.inhibitGridFit){if(h.DEBUG){console.log("PROCESSING GLYPH",B.stack);for(var gt=0;gt<Ke;gt++)console.log(gt,it[gt].x,it[gt].y)}if(it.push(new vr(0,0),new vr(Math.round(C.advanceWidth*I),0)),Go(B),it.length-=2,h.DEBUG){console.log("FINISHED GLYPH",B.stack);for(var gn=0;gn<Ke;gn++)console.log(gn,it[gn].x,it[gn].y)}}},Go=function(C){var B=C.prog;if(B){var I,M=B.length;for(C.ip=0;C.ip<M;C.ip++){if(h.DEBUG&&C.step++,!(I=li[B[C.ip]]))throw new Error("unknown instruction: 0x"+Number(B[C.ip]).toString(16));I(C)}}},li=[Dr.bind(void 0,Lr),Dr.bind(void 0,xr),So.bind(void 0,Lr),So.bind(void 0,xr),To.bind(void 0,Lr),To.bind(void 0,xr),fo.bind(void 0,0),fo.bind(void 0,1),po.bind(void 0,0),po.bind(void 0,1),function(C){var B=(I=C.stack).pop(),I=I.pop();h.DEBUG&&console.log(C.step,"SPVFS[]",B,I),C.pv=C.dpv=ur(I,B)},function(C){var B=(I=C.stack).pop(),I=I.pop();h.DEBUG&&console.log(C.step,"SPVFS[]",B,I),C.fv=ur(I,B)},function(C){var B=C.stack,I=C.pv;h.DEBUG&&console.log(C.step,"GPV[]"),B.push(16384*I.x),B.push(16384*I.y)},function(C){var B=C.stack,I=C.fv;h.DEBUG&&console.log(C.step,"GFV[]"),B.push(16384*I.x),B.push(16384*I.y)},function(C){C.fv=C.pv,h.DEBUG&&console.log(C.step,"SFVTPV[]")},function(B){var I=(le=B.stack).pop(),M=le.pop(),Z=le.pop(),K=le.pop(),le=le.pop(),ke=(Ke=B.z0)[I],Ke=Ke[M],it=(It=B.z1)[Z],It=It[K],Wt=(B=B.z2[le],h.DEBUG&&console.log("ISECT[], ",I,M,Z,K,le),I=ke.x,M=ke.y,ke=it.y,I*(K=Ke.y)-M*(Z=Ke.x)),Bt=(le=it.x)*(it=It.y)-ke*(Ke=It.x);B.x=(Wt*(le-Ke)-Bt*(I-Z))/(It=(I-Z)*(ke-it)-(M-K)*(le-Ke)),B.y=(Wt*(ke-it)-Bt*(M-K))/It},function(C){C.rp0=C.stack.pop(),h.DEBUG&&console.log(C.step,"SRP0[]",C.rp0)},function(C){C.rp1=C.stack.pop(),h.DEBUG&&console.log(C.step,"SRP1[]",C.rp1)},function(C){C.rp2=C.stack.pop(),h.DEBUG&&console.log(C.step,"SRP2[]",C.rp2)},function(C){var B=C.stack.pop();switch(h.DEBUG&&console.log(C.step,"SZP0[]",B),C.zp0=B){case 0:C.tZone||zo(C),C.z0=C.tZone;break;case 1:C.z0=C.gZone;break;default:throw new Error("Invalid zone pointer")}},function(C){var B=C.stack.pop();switch(h.DEBUG&&console.log(C.step,"SZP1[]",B),C.zp1=B){case 0:C.tZone||zo(C),C.z1=C.tZone;break;case 1:C.z1=C.gZone;break;default:throw new Error("Invalid zone pointer")}},function(C){var B=C.stack.pop();switch(h.DEBUG&&console.log(C.step,"SZP2[]",B),C.zp2=B){case 0:C.tZone||zo(C),C.z2=C.tZone;break;case 1:C.z2=C.gZone;break;default:throw new Error("Invalid zone pointer")}},function(C){var B=C.stack.pop();switch(h.DEBUG&&console.log(C.step,"SZPS[]",B),C.zp0=C.zp1=C.zp2=B){case 0:C.tZone||zo(C),C.z0=C.z1=C.z2=C.tZone;break;case 1:C.z0=C.z1=C.z2=C.gZone;break;default:throw new Error("Invalid zone pointer")}},function(C){C.loop=C.stack.pop(),h.DEBUG&&console.log(C.step,"SLOOP[]",C.loop)},function(C){h.DEBUG&&console.log(C.step,"RTG[]"),C.round=Br},function(C){h.DEBUG&&console.log(C.step,"RTHG[]"),C.round=Tn},function(C){var B=C.stack.pop();h.DEBUG&&console.log(C.step,"SMD[]",B),C.minDis=B/64},function(C){h.DEBUG&&console.log(C.step,"ELSE[]"),xo(C,!1)},function(C){var B=C.stack.pop();h.DEBUG&&console.log(C.step,"JMPR[]",B),C.ip+=B-1},function(C){var B=C.stack.pop();h.DEBUG&&console.log(C.step,"SCVTCI[]",B),C.cvCutIn=B/64},void 0,void 0,function(C){var B=C.stack;h.DEBUG&&console.log(C.step,"DUP[]"),B.push(B[B.length-1])},qo,function(C){h.DEBUG&&console.log(C.step,"CLEAR[]"),C.stack.length=0},function(C){var B=C.stack,I=B.pop(),M=B.pop();h.DEBUG&&console.log(C.step,"SWAP[]"),B.push(I),B.push(M)},function(C){var B=C.stack;h.DEBUG&&console.log(C.step,"DEPTH[]"),B.push(B.length)},function(C){var B=C.stack,I=B.pop();h.DEBUG&&console.log(C.step,"CINDEX[]",I),B.push(B[B.length-I])},function(C){var B=C.stack,I=B.pop();h.DEBUG&&console.log(C.step,"MINDEX[]",I),B.push(B.splice(B.length-I,1)[0])},void 0,void 0,void 0,function(C){var B=(M=C.stack).pop(),I=M.pop(),M=(h.DEBUG&&console.log(C.step,"LOOPCALL[]",B,I),C.ip),Z=C.prog;C.prog=C.funcs[B];for(var K=0;K<I;K++)Go(C),h.DEBUG&&console.log(++C.step,K+1<I?"next loopcall":"done loopcall",K);C.ip=M,C.prog=Z},function(C){var B=C.stack.pop(),I=(h.DEBUG&&console.log(C.step,"CALL[]",B),C.ip),M=C.prog;C.prog=C.funcs[B],Go(C),C.ip=I,C.prog=M,h.DEBUG&&console.log(++C.step,"returning from",B)},function(C){if("fpgm"!==C.env)throw new Error("FDEF not allowed here");var B=C.prog,I=C.ip,M=(M=C.stack).pop(),Z=I;for(h.DEBUG&&console.log(C.step,"FDEF[]",M);45!==B[++I];);C.ip=I,C.funcs[M]=B.slice(Z+1,I)},void 0,Po.bind(void 0,0),Po.bind(void 0,1),mo.bind(void 0,Lr),mo.bind(void 0,xr),ko.bind(void 0,0),ko.bind(void 0,1),Yn.bind(void 0,0),Yn.bind(void 0,1),Uo.bind(void 0,0),Uo.bind(void 0,1),function(C){for(var B=C.stack,I=C.loop,M=C.fv,Z=B.pop()/64,K=C.z2;I--;){var le=B.pop(),ke=K[le];h.DEBUG&&console.log(C.step,(1<C.loop?"loop "+(C.loop-I)+": ":"")+"SHPIX[]",le,Z),M.setRelative(ke,ke,Z),M.touch(ke)}C.loop=1},function(C){for(var B=C.stack,I=C.rp1,M=C.rp2,Z=C.loop,K=C.z0[I],le=C.z1[M],ke=C.fv,Ke=C.dpv,it=C.z2;Z--;){var It=B.pop(),Wt=it[It];h.DEBUG&&console.log(C.step,(1<C.loop?"loop "+(C.loop-Z)+": ":"")+"IP[]",It,I,"<->",M),ke.interpolate(Wt,K,le,Ke),ke.touch(Wt)}C.loop=1},oo.bind(void 0,0),oo.bind(void 0,1),function(C){for(var B=C.stack,M=C.z0[C.rp0],Z=C.loop,K=C.fv,le=C.pv,ke=C.z1;Z--;){var Ke=B.pop(),it=ke[Ke];h.DEBUG&&console.log(C.step,(1<C.loop?"loop "+(C.loop-Z)+": ":"")+"ALIGNRP[]",Ke),K.setRelative(it,M,0,le),K.touch(it)}C.loop=1},function(C){h.DEBUG&&console.log(C.step,"RTDG[]"),C.round=mr},co.bind(void 0,0),co.bind(void 0,1),function(C){var B=C.prog,I=C.ip,M=C.stack,Z=B[++I];h.DEBUG&&console.log(C.step,"NPUSHB[]",Z);for(var K=0;K<Z;K++)M.push(B[++I]);C.ip=I},function(C){var B=C.ip,I=C.prog,M=C.stack,Z=I[++B];h.DEBUG&&console.log(C.step,"NPUSHW[]",Z);for(var K=0;K<Z;K++){var le=I[++B]<<8|I[++B];32768&le&&(le=-(1+(65535^le))),M.push(le)}C.ip=B},function(C){var M=C.stack,B=(B=C.store)||(C.store=[]),I=M.pop();M=M.pop(),h.DEBUG&&console.log(C.step,"WS",I,M),B[M]=I},function(Z){var B=Z.stack,I=Z.store,M=B.pop();h.DEBUG&&console.log(Z.step,"RS",M),B.push(Z=I&&I[M]||0)},function(C){var B=(I=C.stack).pop(),I=I.pop();h.DEBUG&&console.log(C.step,"WCVTP",B,I),C.cvt[I]=B/64},function(C){var B=C.stack,I=B.pop();h.DEBUG&&console.log(C.step,"RCVT",I),B.push(64*C.cvt[I])},Ro.bind(void 0,0),Ro.bind(void 0,1),void 0,Lo.bind(void 0,0),Lo.bind(void 0,1),function(C){h.DEBUG&&console.log(C.step,"MPPEM[]"),C.stack.push(C.ppem)},void 0,function(C){h.DEBUG&&console.log(C.step,"FLIPON[]"),C.autoFlip=!0},void 0,void 0,function(C){var B=C.stack,I=B.pop(),M=B.pop();h.DEBUG&&console.log(C.step,"LT[]",I,M),B.push(M<I?1:0)},function(C){var B=C.stack,I=B.pop(),M=B.pop();h.DEBUG&&console.log(C.step,"LTEQ[]",I,M),B.push(M<=I?1:0)},function(C){var B=C.stack,I=B.pop(),M=B.pop();h.DEBUG&&console.log(C.step,"GT[]",I,M),B.push(I<M?1:0)},function(C){var B=C.stack,I=B.pop(),M=B.pop();h.DEBUG&&console.log(C.step,"GTEQ[]",I,M),B.push(I<=M?1:0)},function(C){var B=C.stack,I=B.pop(),M=B.pop();h.DEBUG&&console.log(C.step,"EQ[]",I,M),B.push(I===M?1:0)},function(C){var B=C.stack,I=B.pop(),M=B.pop();h.DEBUG&&console.log(C.step,"NEQ[]",I,M),B.push(I!==M?1:0)},function(C){var B=C.stack,I=B.pop();h.DEBUG&&console.log(C.step,"ODD[]",I),B.push(Math.trunc(I)%2?1:0)},function(C){var B=C.stack,I=B.pop();h.DEBUG&&console.log(C.step,"EVEN[]",I),B.push(Math.trunc(I)%2?0:1)},function(C){var B=C.stack.pop();h.DEBUG&&console.log(C.step,"IF[]",B),B||(xo(C,!0),h.DEBUG&&console.log(C.step,"EIF[]"))},function(C){h.DEBUG&&console.log(C.step,"EIF[]")},function(C){var B=C.stack,I=B.pop(),M=B.pop();h.DEBUG&&console.log(C.step,"AND[]",I,M),B.push(I&&M?1:0)},function(C){var B=C.stack,I=B.pop(),M=B.pop();h.DEBUG&&console.log(C.step,"OR[]",I,M),B.push(I||M?1:0)},function(C){var B=C.stack,I=B.pop();h.DEBUG&&console.log(C.step,"NOT[]",I),B.push(I?0:1)},br.bind(void 0,1),function(C){var B=C.stack.pop();h.DEBUG&&console.log(C.step,"SDB[]",B),C.deltaBase=B},function(C){var B=C.stack.pop();h.DEBUG&&console.log(C.step,"SDS[]",B),C.deltaShift=Math.pow(.5,B)},function(C){var B=C.stack,I=B.pop(),M=B.pop();h.DEBUG&&console.log(C.step,"ADD[]",I,M),B.push(M+I)},function(C){var B=C.stack,I=B.pop(),M=B.pop();h.DEBUG&&console.log(C.step,"SUB[]",I,M),B.push(M-I)},function(C){var B=C.stack,I=B.pop(),M=B.pop();h.DEBUG&&console.log(C.step,"DIV[]",I,M),B.push(64*M/I)},function(C){var B=C.stack,I=B.pop(),M=B.pop();h.DEBUG&&console.log(C.step,"MUL[]",I,M),B.push(M*I/64)},function(C){var B=C.stack,I=B.pop();h.DEBUG&&console.log(C.step,"ABS[]",I),B.push(Math.abs(I))},function(C){var B=C.stack,I=B.pop();h.DEBUG&&console.log(C.step,"NEG[]",I),B.push(-I)},function(C){var B=C.stack,I=B.pop();h.DEBUG&&console.log(C.step,"FLOOR[]",I),B.push(64*Math.floor(I/64))},function(C){var B=C.stack,I=B.pop();h.DEBUG&&console.log(C.step,"CEILING[]",I),B.push(64*Math.ceil(I/64))},Yo.bind(void 0,0),Yo.bind(void 0,1),Yo.bind(void 0,2),Yo.bind(void 0,3),void 0,void 0,void 0,void 0,function(C){var B=(I=C.stack).pop(),I=I.pop();h.DEBUG&&console.log(C.step,"WCVTF[]",B,I),C.cvt[I]=B*C.ppem/C.font.unitsPerEm},br.bind(void 0,2),br.bind(void 0,3),Vr.bind(void 0,1),Vr.bind(void 0,2),Vr.bind(void 0,3),function(C){var B,I=C.stack.pop();switch(h.DEBUG&&console.log(C.step,"SROUND[]",I),C.round=Yr,192&I){case 0:B=.5;break;case 64:B=1;break;case 128:B=2;break;default:throw new Error("invalid SROUND value")}switch(C.srPeriod=B,48&I){case 0:C.srPhase=0;break;case 16:C.srPhase=.25*B;break;case 32:C.srPhase=.5*B;break;case 48:C.srPhase=.75*B;break;default:throw new Error("invalid SROUND value")}C.srThreshold=0==(I&=15)?0:(I/8-.5)*B},function(C){var B,I=C.stack.pop();switch(h.DEBUG&&console.log(C.step,"S45ROUND[]",I),C.round=Yr,192&I){case 0:B=Math.sqrt(2)/2;break;case 64:B=Math.sqrt(2);break;case 128:B=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(C.srPeriod=B,48&I){case 0:C.srPhase=0;break;case 16:C.srPhase=.25*B;break;case 32:C.srPhase=.5*B;break;case 48:C.srPhase=.75*B;break;default:throw new Error("invalid S45ROUND value")}C.srThreshold=0==(I&=15)?0:(I/8-.5)*B},void 0,void 0,function(C){h.DEBUG&&console.log(C.step,"ROFF[]"),C.round=Bo},void 0,function(C){h.DEBUG&&console.log(C.step,"RUTG[]"),C.round=Fn},function(C){h.DEBUG&&console.log(C.step,"RDTG[]"),C.round=fr},qo,qo,void 0,void 0,void 0,void 0,void 0,function(C){var B=C.stack.pop();h.DEBUG&&console.log(C.step,"SCANCTRL[]",B)},Hr.bind(void 0,0),Hr.bind(void 0,1),function(C){var B=C.stack,I=B.pop(),M=0;h.DEBUG&&console.log(C.step,"GETINFO[]",I),1&I&&(M=35),32&I&&(M|=4096),B.push(M)},void 0,function(C){var B=C.stack,I=B.pop(),M=B.pop(),Z=B.pop();h.DEBUG&&console.log(C.step,"ROLL[]"),B.push(M),B.push(I),B.push(Z)},function(C){var B=C.stack,I=B.pop(),M=B.pop();h.DEBUG&&console.log(C.step,"MAX[]",I,M),B.push(Math.max(M,I))},function(C){var B=C.stack,I=B.pop(),M=B.pop();h.DEBUG&&console.log(C.step,"MIN[]",I,M),B.push(Math.min(M,I))},function(C){var B=C.stack.pop();h.DEBUG&&console.log(C.step,"SCANTYPE[]",B)},function(C){var B=C.stack.pop(),I=C.stack.pop();switch(h.DEBUG&&console.log(C.step,"INSTCTRL[]",B,I),B){case 1:return void(C.inhibitGridFit=!!I);case 2:return void(C.ignoreCvt=!!I);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Eo.bind(void 0,1),Eo.bind(void 0,2),Eo.bind(void 0,3),Eo.bind(void 0,4),Eo.bind(void 0,5),Eo.bind(void 0,6),Eo.bind(void 0,7),Eo.bind(void 0,8),Xr.bind(void 0,1),Xr.bind(void 0,2),Xr.bind(void 0,3),Xr.bind(void 0,4),Xr.bind(void 0,5),Xr.bind(void 0,6),Xr.bind(void 0,7),Xr.bind(void 0,8),Ln.bind(void 0,0,0,0,0,0),Ln.bind(void 0,0,0,0,0,1),Ln.bind(void 0,0,0,0,0,2),Ln.bind(void 0,0,0,0,0,3),Ln.bind(void 0,0,0,0,1,0),Ln.bind(void 0,0,0,0,1,1),Ln.bind(void 0,0,0,0,1,2),Ln.bind(void 0,0,0,0,1,3),Ln.bind(void 0,0,0,1,0,0),Ln.bind(void 0,0,0,1,0,1),Ln.bind(void 0,0,0,1,0,2),Ln.bind(void 0,0,0,1,0,3),Ln.bind(void 0,0,0,1,1,0),Ln.bind(void 0,0,0,1,1,1),Ln.bind(void 0,0,0,1,1,2),Ln.bind(void 0,0,0,1,1,3),Ln.bind(void 0,0,1,0,0,0),Ln.bind(void 0,0,1,0,0,1),Ln.bind(void 0,0,1,0,0,2),Ln.bind(void 0,0,1,0,0,3),Ln.bind(void 0,0,1,0,1,0),Ln.bind(void 0,0,1,0,1,1),Ln.bind(void 0,0,1,0,1,2),Ln.bind(void 0,0,1,0,1,3),Ln.bind(void 0,0,1,1,0,0),Ln.bind(void 0,0,1,1,0,1),Ln.bind(void 0,0,1,1,0,2),Ln.bind(void 0,0,1,1,0,3),Ln.bind(void 0,0,1,1,1,0),Ln.bind(void 0,0,1,1,1,1),Ln.bind(void 0,0,1,1,1,2),Ln.bind(void 0,0,1,1,1,3),Ln.bind(void 0,1,0,0,0,0),Ln.bind(void 0,1,0,0,0,1),Ln.bind(void 0,1,0,0,0,2),Ln.bind(void 0,1,0,0,0,3),Ln.bind(void 0,1,0,0,1,0),Ln.bind(void 0,1,0,0,1,1),Ln.bind(void 0,1,0,0,1,2),Ln.bind(void 0,1,0,0,1,3),Ln.bind(void 0,1,0,1,0,0),Ln.bind(void 0,1,0,1,0,1),Ln.bind(void 0,1,0,1,0,2),Ln.bind(void 0,1,0,1,0,3),Ln.bind(void 0,1,0,1,1,0),Ln.bind(void 0,1,0,1,1,1),Ln.bind(void 0,1,0,1,1,2),Ln.bind(void 0,1,0,1,1,3),Ln.bind(void 0,1,1,0,0,0),Ln.bind(void 0,1,1,0,0,1),Ln.bind(void 0,1,1,0,0,2),Ln.bind(void 0,1,1,0,0,3),Ln.bind(void 0,1,1,0,1,0),Ln.bind(void 0,1,1,0,1,1),Ln.bind(void 0,1,1,0,1,2),Ln.bind(void 0,1,1,0,1,3),Ln.bind(void 0,1,1,1,0,0),Ln.bind(void 0,1,1,1,0,1),Ln.bind(void 0,1,1,1,0,2),Ln.bind(void 0,1,1,1,0,3),Ln.bind(void 0,1,1,1,1,0),Ln.bind(void 0,1,1,1,1,1),Ln.bind(void 0,1,1,1,1,2),Ln.bind(void 0,1,1,1,1,3)],go=Array.from||function(C){return C.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function _r(C){(C=C||{}).empty||(Zt(C.familyName,"When creating a new Font object, familyName is required."),Zt(C.styleName,"When creating a new Font object, styleName is required."),Zt(C.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Zt(C.ascender,"When creating a new Font object, ascender is required."),Zt(C.descender,"When creating a new Font object, descender is required."),Zt(C.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:C.familyName||" "},fontSubfamily:{en:C.styleName||" "},fullName:{en:C.fullName||C.familyName+" "+C.styleName},postScriptName:{en:C.postScriptName||(C.familyName+C.styleName).replace(/\s/g,"")},designer:{en:C.designer||" "},designerURL:{en:C.designerURL||" "},manufacturer:{en:C.manufacturer||" "},manufacturerURL:{en:C.manufacturerURL||" "},license:{en:C.license||" "},licenseURL:{en:C.licenseURL||" "},version:{en:C.version||"Version 0.1"},description:{en:C.description||" "},copyright:{en:C.copyright||" "},trademark:{en:C.trademark||" "}},this.unitsPerEm=C.unitsPerEm||1e3,this.ascender=C.ascender,this.descender=C.descender,this.createdTimestamp=C.createdTimestamp,this.tables={os2:{usWeightClass:C.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:C.widthClass||this.usWidthClasses.MEDIUM,fsSelection:C.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Ye.GlyphSet(this,C.glyphs||[]),this.encoding=new jt(this),this.position=new Le(this),this.substitution=new ve(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||("truetype"===this.outlinesFormat?this._hinting=new Rr(this):void 0)}})}_r.prototype.hasChar=function(C){return null!==this.encoding.charToGlyphIndex(C)},_r.prototype.charToGlyphIndex=function(C){return this.encoding.charToGlyphIndex(C)},_r.prototype.charToGlyph=function(C){return C=this.charToGlyphIndex(C),this.glyphs.get(C)||this.glyphs.get(0)},_r.prototype.stringToGlyphs=function(C,B){B=B||this.defaultRenderOptions;for(var I=go(C),M=[],Z=0;Z<I.length;Z+=1)M.push(this.charToGlyphIndex(I[Z]));var le=M.length;if(B.features){C=B.script||this.substitution.getDefaultScriptName();var ke=[];B.features.liga&&(ke=ke.concat(this.substitution.getFeature("liga",C,B.language))),B.features.rlig&&(ke=ke.concat(this.substitution.getFeature("rlig",C,B.language)));for(var Ke=0;Ke<le;Ke+=1)for(var it=0;it<ke.length;it++){for(var It=ke[it],Wt=It.sub,Bt=Wt.length,gt=0;gt<Bt&&Wt[gt]===M[Ke+gt];)gt++;gt===Bt&&(M.splice(Ke,Bt,It.by),le=le-Bt+1)}}for(var gn=new Array(le),tn=this.glyphs.get(0),on=0;on<le;on+=1)gn[on]=this.glyphs.get(M[on])||tn;return gn},_r.prototype.nameToGlyphIndex=function(C){return this.glyphNames.nameToGlyphIndex(C)},_r.prototype.nameToGlyph=function(C){return C=this.nameToGlyphIndex(C),this.glyphs.get(C)||this.glyphs.get(0)},_r.prototype.glyphIndexToName=function(C){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(C):""},_r.prototype.getKerningValue=function(C,B){C=C.index||C,B=B.index||B;var I=this.position.defaultKerningTables;return I?this.position.getKerningValue(I,C,B):this.kerningPairs[C+","+B]||0},_r.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},_r.prototype.forEachGlyph=function(C,B,I,M,Z,K){B=void 0!==B?B:0,I=void 0!==I?I:0;var le,ke=1/this.unitsPerEm*(M=void 0!==M?M:72),Ke=this.stringToGlyphs(C,Z=Z||this.defaultRenderOptions);Z.kerning&&(C=Z.script||this.position.getDefaultScriptName(),le=this.position.getKerningTables(C,Z.language));for(var it=0;it<Ke.length;it+=1){var It=Ke[it];K.call(this,It,B,I,M,Z),It.advanceWidth&&(B+=It.advanceWidth*ke),Z.kerning&&it<Ke.length-1&&(B+=(le?this.position.getKerningValue(le,It.index,Ke[it+1].index):this.getKerningValue(It,Ke[it+1]))*ke),Z.letterSpacing?B+=Z.letterSpacing*M:Z.tracking&&(B+=Z.tracking/1e3*M)}return B},_r.prototype.getPath=function(C,B,I,M,Z){var K=new de;return this.forEachGlyph(C,B,I,M,Z,function(le,ke,Ke,it){le=le.getPath(ke,Ke,it,Z,this),K.extend(le)}),K},_r.prototype.getPaths=function(C,B,I,M,Z){var K=[];return this.forEachGlyph(C,B,I,M,Z,function(le,ke,Ke,it){le=le.getPath(ke,Ke,it,Z,this),K.push(le)}),K},_r.prototype.getAdvanceWidth=function(C,B,I){return this.forEachGlyph(C,0,0,B,I,function(){})},_r.prototype.draw=function(C,B,I,M,Z,K){this.getPath(B,I,M,Z,K).draw(C)},_r.prototype.drawPoints=function(C,B,I,M,Z,K){this.forEachGlyph(B,I,M,Z,K,function(le,ke,Ke,it){le.drawPoints(C,ke,Ke,it)})},_r.prototype.drawMetrics=function(C,B,I,M,Z,K){this.forEachGlyph(B,I,M,Z,K,function(le,ke,Ke,it){le.drawMetrics(C,ke,Ke,it)})},_r.prototype.getEnglishName=function(C){if(C=this.names[C])return C.en},_r.prototype.validate=function(){var C=this;function B(I){(I=C.getEnglishName(I))&&I.trim()}B("fontFamily"),B("weightName"),B("manufacturer"),B("copyright"),B("version")},_r.prototype.toTables=function(){return He_fontToTable(this)},_r.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},_r.prototype.toArrayBuffer=function(){for(var C=this.toTables().encode(),B=new ArrayBuffer(C.length),I=new Uint8Array(B),M=0;M<C.length;M++)I[M]=C[M];return B},_r.prototype.download=function(C){var B=this.getEnglishName("fontFamily"),I=this.getEnglishName("fontSubfamily"),M=(C=C||B.replace(/\s/g,"")+"-"+I+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,M.byteLength,function(Z){Z.root.getFile(C,{create:!0},function(K){K.createWriter(function(le){var ke=new DataView(M);ke=new Blob([ke],{type:"font/opentype"}),le.write(ke),le.addEventListener("writeend",function(){location.href=K.toURL()},!1)})})},function(Z){throw new Error(Z.name+": "+Z.message)})):(B=r("fs"),I=function(Z){for(var K=new v(Z.byteLength),le=new Uint8Array(Z),ke=0;ke<K.length;++ke)K[ke]=le[ke];return K}(M),B.writeFileSync(C,I))},_r.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},_r.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},_r.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Ci_parse=function(C,B,I){for(var M,K,le,ke=new Et.Parser(C,B),Ke=ke.parseULong(),it=(R.argument(65536===Ke,"Unsupported fvar table version."),ke.parseOffset16()),It=(ke.skip("uShort",1),ke.parseUShort()),Wt=ke.parseUShort(),Bt=ke.parseUShort(),gt=ke.parseUShort(),gn=[],tn=0;tn<It;tn++)gn.push((K=I,le={},M=new Et.Parser(M=C,B+it+tn*Wt),le.tag=M.parseTag(),le.minValue=M.parseFixed(),le.defaultValue=M.parseFixed(),le.maxValue=M.parseFixed(),M.skip("uShort",1),le.name=K[M.parseUShort()]||{},le));for(var on=[],Qt=B+it+It*Wt,Kt=0;Kt<Bt;Kt++)on.push(function(Bn,Gn,$n,Un){var Qn={},er=new Et.Parser(Bn,Gn);Qn.name=Un[er.parseUShort()]||{},er.skip("uShort",1),Qn.coordinates={};for(var Ur=0;Ur<$n.length;++Ur)Qn.coordinates[$n[Ur].tag]=er.parseFixed();return Qn}(C,Qt+Kt*gt,gn,I));return{axes:gn,instances:on}},Ao=new Array(10);Ao[1]=function(){var C=this.offset+this.relativeOffset,B=this.parseUShort();return 1===B?{posFormat:1,coverage:this.parsePointer(bt.coverage),value:this.parseValueRecord()}:2===B?{posFormat:2,coverage:this.parsePointer(bt.coverage),values:this.parseValueRecordList()}:void R.assert(!1,"0x"+C.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Ao[2]=function(){var C,B,I,M,K=this.offset+this.relativeOffset,Z=this.parseUShort(),le=(R.assert(1===Z||2===Z,"0x"+K.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),K=this.parsePointer(bt.coverage),this.parseUShort()),ke=this.parseUShort();return 1===Z?{posFormat:Z,coverage:K,valueFormat1:le,valueFormat2:ke,pairSets:this.parseList(bt.pointer(bt.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(le),value2:this.parseValueRecord(ke)}})))}:2===Z?(C=this.parsePointer(bt.classDef),B=this.parsePointer(bt.classDef),I=this.parseUShort(),M=this.parseUShort(),{posFormat:Z,coverage:K,valueFormat1:le,valueFormat2:ke,classDef1:C,classDef2:B,class1Count:I,class2Count:M,classRecords:this.parseList(I,bt.list(M,function(){return{value1:this.parseValueRecord(le),value2:this.parseValueRecord(ke)}}))}):void 0},Ao[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Ao[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Ao[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Ao[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Ao[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Ao[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Ao[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var Si_parse=function(C,B){return B=(C=new bt(C,B=B||0)).parseVersion(1),R.argument(1===B||1.1===B,"Unsupported GPOS table version "+B),1===B?{version:B,scripts:C.parseScriptList(),features:C.parseFeatureList(),lookups:C.parseLookupList(Ao)}:{version:B,scripts:C.parseScriptList(),features:C.parseFeatureList(),lookups:C.parseLookupList(Ao),variations:C.parseFeatureVariationsList()}},mi_parse=function(C,B){if(0===(B=(C=new Et.Parser(C,B)).parseUShort())){var I=C,M={},Wt=(I.skip("uShort"),I.parseUShort()),Z=(R.argument(0===Wt,"Unsupported kern sub-table version."),I.skip("uShort",2),I.parseUShort());I.skip("uShort",3);for(var K=0;K<Z;K+=1){var le=I.parseUShort(),ke=I.parseUShort(),Ke=I.parseShort();M[le+","+ke]=Ke}return M}if(1!==B)throw new Error("Unsupported kern table version ("+B+").");var it=C,It={};if(it.skip("uShort"),1<it.parseULong()&&console.warn("Only the first kern subtable is supported."),it.skip("uLong"),Wt=255&it.parseUShort(),it.skip("uShort"),0==Wt){var Bt=it.parseUShort();it.skip("uShort",3);for(var gt=0;gt<Bt;gt+=1){var gn=it.parseUShort(),tn=it.parseUShort(),on=it.parseShort();It[gn+","+tn]=on}}return It},Qi_parse=function(C,B,I,M){for(var Z=new Et.Parser(C,B),K=M?Z.parseUShort:Z.parseULong,le=[],ke=0;ke<I+1;ke+=1){var Ke=K.call(Z);M&&(Ke*=2),le.push(Ke)}return le};function bs(C,B){r("fs").readFile(C,function(I,M){if(I)return B(I.message);B(null,mt(M))})}function ui(C,B){var I=new XMLHttpRequest;I.open("get",C,!0),I.responseType="arraybuffer",I.onload=function(){return I.response?B(null,I.response):B("Font could not be loaded: "+I.statusText)},I.onerror=function(){B("Font could not be loaded")},I.send()}function oi(C,B){for(var I=[],M=12,Z=0;Z<B;Z+=1){var K=Et.getTag(C,M),le=Et.getULong(C,M+4),ke=Et.getULong(C,M+8),Ke=Et.getULong(C,M+12);I.push({tag:K,checksum:le,offset:ke,length:Ke,compression:!1}),M+=16}return I}function Wr(I,B){if("WOFF"!==B.compression)return{data:I,offset:B.offset};I=new Uint8Array(I.buffer,B.offset+2,B.compressedLength-2);var M=new Uint8Array(B.length);if(J(I,M),M.byteLength!==B.length)throw new Error("Decompression error: "+B.tag+" decompressed length doesn't match recorded length");return{data:new DataView(M.buffer,0),offset:0}}function Di(Kt){var B,I,M,Z,K,le,ke,Ke,it,It,Wt,Bt,gt,gn,tn=new _r({empty:!0}),on=new DataView(Kt,0),Qt=[];if("\0\x01\0\0"===(Kt=Et.getTag(on,0))||"true"===Kt||"typ1"===Kt)tn.outlinesFormat="truetype",Qt=oi(on,M=Et.getUShort(on,4));else if("OTTO"===Kt)tn.outlinesFormat="cff",Qt=oi(on,M=Et.getUShort(on,4));else{if("wOFF"!==Kt)throw new Error("Unsupported OpenType signature "+Kt);if("\0\x01\0\0"===(Bn=Et.getTag(on,4)))tn.outlinesFormat="truetype";else{if("OTTO"!==Bn)throw new Error("Unsupported OpenType flavor "+Kt);tn.outlinesFormat="cff"}Qt=function(Mr,yr){for(var kr=[],Nn=44,to=0;to<yr;to+=1){var Nr=Et.getTag(Mr,Nn),no=Et.getULong(Mr,Nn+4),Jo=Et.getULong(Mr,Nn+8),ci=Et.getULong(Mr,Nn+12);kr.push({tag:Nr,offset:no,compression:Jo<ci&&"WOFF",compressedLength:Jo,length:ci}),Nn+=20}return kr}(on,M=Et.getUShort(on,12))}for(var Gn=0;Gn<M;Gn+=1){var $n=Qt[Gn],Un=void 0;switch($n.tag){case"cmap":Un=Wr(on,$n),tn.tables.cmap=Pe_parse(Un.data,Un.offset),tn.encoding=new Gt(tn.tables.cmap);break;case"cvt ":Un=Wr(on,$n),gn=new Et.Parser(Un.data,Un.offset),tn.tables.cvt=gn.parseShortList($n.length/2);break;case"fvar":K=$n;break;case"fpgm":Un=Wr(on,$n),gn=new Et.Parser(Un.data,Un.offset),tn.tables.fpgm=gn.parseByteList($n.length);break;case"head":Un=Wr(on,$n),tn.tables.head=Wn_parse(Un.data,Un.offset),tn.unitsPerEm=tn.tables.head.unitsPerEm,B=tn.tables.head.indexToLocFormat;break;case"hhea":Un=Wr(on,$n),tn.tables.hhea=G_parse(Un.data,Un.offset),tn.ascender=tn.tables.hhea.ascender,tn.descender=tn.tables.hhea.descender,tn.numberOfHMetrics=tn.tables.hhea.numberOfHMetrics;break;case"hmtx":it=$n;break;case"ltag":Un=Wr(on,$n),I=Se_parse(Un.data,Un.offset);break;case"maxp":Un=Wr(on,$n),tn.tables.maxp=D_parse(Un.data,Un.offset),tn.numGlyphs=tn.tables.maxp.numGlyphs;break;case"name":Bt=$n;break;case"OS/2":Un=Wr(on,$n),tn.tables.os2=Hn_parse(Un.data,Un.offset);break;case"post":Un=Wr(on,$n),tn.tables.post=dr_parse(Un.data,Un.offset),tn.glyphNames=new _n(tn.tables.post);break;case"prep":Un=Wr(on,$n),gn=new Et.Parser(Un.data,Un.offset),tn.tables.prep=gn.parseByteList($n.length);break;case"glyf":le=$n;break;case"loca":Wt=$n;break;case"CFF ":Z=$n;break;case"kern":It=$n;break;case"GPOS":ke=$n;break;case"GSUB":Ke=$n;break;case"meta":gt=$n}}if(Bn=Wr(on,Bt),tn.tables.name=bn_parse(Bn.data,Bn.offset,I),tn.names=tn.tables.name,le&&Wt)Kt=0===B,Bn=Wr(on,Wt),Bn=Qi_parse(Bn.data,Bn.offset,tn.numGlyphs,Kt),Kt=Wr(on,le),tn.glyphs=Ar.parse(Kt.data,Kt.offset,Bn,tn);else{if(!Z)throw new Error("Font doesn't contain TrueType or CFF outlines.");Kt=Wr(on,Z),Pn_parse(Kt.data,Kt.offset,tn)}for(var Bn=Wr(on,it),Qn=(ye_parse(Bn.data,Bn.offset,tn.numberOfHMetrics,tn.numGlyphs,tn.glyphs),tn),er=Qn.tables.cmap.glyphIndexMap,Ur=Object.keys(er),Kr=0;Kr<Ur.length;Kr+=1){var Qr,Jr=Ur[Kr];(Qr=Qn.glyphs.get(er[Jr])).addUnicode(parseInt(Jr))}for(var Er=0;Er<Qn.glyphs.length;Er+=1)Qr=Qn.glyphs.get(Er),Qn.cffEncoding?Qr.name=Qn.isCIDFont?"gid"+Er:Qn.cffEncoding.charset[Er]:Qn.glyphNames.names&&(Qr.name=Qn.glyphNames.glyphIndexToName(Er));return It?(Kt=Wr(on,It),tn.kerningPairs=mi_parse(Kt.data,Kt.offset)):tn.kerningPairs={},ke&&(Bn=Wr(on,ke),tn.tables.gpos=Si_parse(Bn.data,Bn.offset),tn.position.init()),Ke&&(Kt=Wr(on,Ke),tn.tables.gsub=$e_parse(Kt.data,Kt.offset)),K&&(Bn=Wr(on,K),tn.tables.fvar=Ci_parse(Bn.data,Bn.offset,tn.names)),gt&&(Kt=Wr(on,gt),tn.tables.meta=lt_parse(Kt.data,Kt.offset),tn.metas=tn.tables.meta),tn}h.Font=_r,h.Glyph=Dt,h.Path=de,h.BoundingBox=ne,h._parse=Et,h.parse=Di,h.load=function(C,B){(typeof window>"u"?bs:ui)(C,function(I,M){if(I)return B(I);var Z;try{Z=Di(M)}catch(K){return B(K,null)}return B(null,Z)})},h.loadSync=function(C){return Di(mt(r("fs").readFileSync(C)))},Object.defineProperty(h,"__esModule",{value:!0})},f("object"==typeof S&&void 0!==W?S:this.opentype={})}).call(this,r("buffer").Buffer)},{buffer:4,fs:2}],255:[function(r,W,S){(function(v){function _(x,w){for(var a=0,l=x.length-1;0<=l;l--){var d=x[l];"."===d?x.splice(l,1):".."===d?(x.splice(l,1),a++):a&&(x.splice(l,1),a--)}if(w)for(;a--;)x.unshift("..");return x}function f(x,w){if(x.filter)return x.filter(w);for(var a=[],l=0;l<x.length;l++)w(x[l],l,x)&&a.push(x[l]);return a}S.resolve=function(){for(var x="",w=!1,a=arguments.length-1;-1<=a&&!w;a--){var l=0<=a?arguments[a]:v.cwd();if("string"!=typeof l)throw new TypeError("Arguments to path.resolve must be strings");l&&(x=l+"/"+x,w="/"===l.charAt(0))}return(w?"/":"")+(x=_(f(x.split("/"),function(d){return!!d}),!w).join("/"))||"."},S.normalize=function(x){var w=S.isAbsolute(x),a="/"===h(x,-1);return(x=(x=_(f(x.split("/"),function(l){return!!l}),!w).join("/"))||w?x:".")&&a&&(x+="/"),(w?"/":"")+x},S.isAbsolute=function(x){return"/"===x.charAt(0)},S.join=function(){var x=Array.prototype.slice.call(arguments,0);return S.normalize(f(x,function(w,a){if("string"!=typeof w)throw new TypeError("Arguments to path.join must be strings");return w}).join("/"))},S.relative=function(x,w){function a(p){for(var y=0;y<p.length&&""===p[y];y++);for(var O=p.length-1;0<=O&&""===p[O];O--);return O<y?[]:p.slice(y,O-y+1)}x=S.resolve(x).substr(1),w=S.resolve(w).substr(1);for(var l=a(x.split("/")),d=a(w.split("/")),u=Math.min(l.length,d.length),c=u,s=0;s<u;s++)if(l[s]!==d[s]){c=s;break}var m=[];for(s=c;s<l.length;s++)m.push("..");return(m=m.concat(d.slice(c))).join("/")},S.sep="/",S.delimiter=":",S.dirname=function(x){if("string"!=typeof x&&(x+=""),0===x.length)return".";for(var w=47===x.charCodeAt(0),a=-1,l=!0,d=x.length-1;1<=d;--d)if(47===x.charCodeAt(d)){if(!l){a=d;break}}else l=!1;return-1===a?w?"/":".":w&&1===a?"/":x.slice(0,a)},S.basename=function(x,w){return x=function(a){"string"!=typeof a&&(a+="");for(var l=0,d=-1,u=!0,c=a.length-1;0<=c;--c)if(47===a.charCodeAt(c)){if(!u){l=c+1;break}}else-1===d&&(u=!1,d=c+1);return-1===d?"":a.slice(l,d)}(x),w&&x.substr(-1*w.length)===w?x.substr(0,x.length-w.length):x},S.extname=function(x){"string"!=typeof x&&(x+="");for(var w=-1,a=0,l=-1,d=!0,u=0,c=x.length-1;0<=c;--c){var s=x.charCodeAt(c);if(47===s){if(d)continue;a=c+1;break}-1===l&&(d=!1,l=c+1),46===s?-1===w?w=c:1!==u&&(u=1):-1!==w&&(u=-1)}return-1===w||-1===l||0===u||1===u&&w===l-1&&w===a+1?"":x.slice(w,l)};var h=function(x,w,a){return x.substr(w,a)}}).call(this,r("_process"))},{_process:256}],256:[function(r,f,S){var v,_;function h(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}f=f.exports={};try{v="function"==typeof setTimeout?setTimeout:h}catch{v=h}try{_="function"==typeof clearTimeout?clearTimeout:x}catch{_=x}function w(y){if(v===setTimeout)return setTimeout(y,0);if((v===h||!v)&&setTimeout)return(v=setTimeout)(y,0);try{return v(y,0)}catch{try{return v.call(null,y,0)}catch{return v.call(this,y,0)}}}var a,l=[],d=!1,u=-1;function c(){d&&a&&(d=!1,a.length?l=a.concat(l):u=-1,l.length&&s())}function s(){if(!d){for(var y=w(c),O=(d=!0,l.length);O;){for(a=l,l=[];++u<O;)a&&a[u].run();u=-1,O=l.length}a=null,d=!1,function($){if(_===clearTimeout)return clearTimeout($);if((_===x||!_)&&clearTimeout)return(_=clearTimeout)($);try{_($)}catch{try{return _.call(null,$)}catch{return _.call(this,$)}}}(y)}}function m(y,O){this.fun=y,this.array=O}function p(){}f.nextTick=function(y){var O=new Array(arguments.length-1);if(1<arguments.length)for(var $=1;$<arguments.length;$++)O[$-1]=arguments[$];l.push(new m(y,O)),1!==l.length||d||w(s)},m.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=p,f.addListener=p,f.once=p,f.off=p,f.removeListener=p,f.removeAllListeners=p,f.emit=p,f.prependListener=p,f.prependOnceListener=p,f.listeners=function(y){return[]},f.binding=function(y){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(y){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],257:[function(r,W,S){W=function(v){"use strict";var _,f=Object.prototype,h=f.hasOwnProperty,x=(N="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",w=N.asyncIterator||"@@asyncIterator",a=N.toStringTag||"@@toStringTag";function l(te,se,q,pe){var de,De,Y,R;return se=se&&se.prototype instanceof y?se:y,se=Object.create(se.prototype),pe=new H(pe||[]),se._invoke=(de=te,De=q,Y=pe,R=u,function(Ee,Ne){if(R===s)throw new Error("Generator is already running");if(R===m){if("throw"===Ee)throw Ne;return z()}for(Y.method=Ee,Y.arg=Ne;;){var We=Y.delegate;if(We&&(We=function et(Ae,Be){var Fe=Ae.iterator[Be.method];if(Fe===_){if(Be.delegate=null,"throw"===Be.method){if(Ae.iterator.return&&(Be.method="return",Be.arg=_,et(Ae,Be),"throw"===Be.method))return p;Be.method="throw",Be.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}return"throw"===(Fe=d(Fe,Ae.iterator,Be.arg)).type?(Be.method="throw",Be.arg=Fe.arg,Be.delegate=null,p):(Fe=Fe.arg)?Fe.done?(Be[Ae.resultName]=Fe.value,Be.next=Ae.nextLoc,"return"!==Be.method&&(Be.method="next",Be.arg=_),Be.delegate=null,p):Fe:(Be.method="throw",Be.arg=new TypeError("iterator result is not an object"),Be.delegate=null,p)}(We,Y))){if(We===p)continue;return We}if("next"===Y.method)Y.sent=Y._sent=Y.arg;else if("throw"===Y.method){if(R===u)throw R=m,Y.arg;Y.dispatchException(Y.arg)}else"return"===Y.method&&Y.abrupt("return",Y.arg);if(R=s,"normal"===(We=d(de,De,Y)).type){if(R=Y.done?m:c,We.arg!==p)return{value:We.arg,done:Y.done}}else"throw"===We.type&&(R=m,Y.method="throw",Y.arg=We.arg)}}),se}function d(te,J,q){try{return{type:"normal",arg:te.call(J,q)}}catch(ne){return{type:"throw",arg:ne}}}v.wrap=l;var u="suspendedStart",c="suspendedYield",s="executing",m="completed",p={};function y(){}function O(){}function $(){}var N,P,j=((N={})[x]=function(){return this},(P=(P=Object.getPrototypeOf)&&P(P(X([]))))&&P!==f&&h.call(P,x)&&(N=P),$.prototype=y.prototype=Object.create(N));function V(te){["next","throw","return"].forEach(function(J){te[J]=function(q){return this._invoke(J,q)}})}function k(te){var J;this._invoke=function(q,ne){function de(){return new Promise(function(De,Y){!function R(et,pe,Ee,Ne){var We;if("throw"!==(et=d(te[et],te,pe)).type)return(pe=(We=et.arg).value)&&"object"==typeof pe&&h.call(pe,"__await")?Promise.resolve(pe.__await).then(function(Ae){R("next",Ae,Ee,Ne)},function(Ae){R("throw",Ae,Ee,Ne)}):Promise.resolve(pe).then(function(Ae){We.value=Ae,Ee(We)},function(Ae){return R("throw",Ae,Ee,Ne)});Ne(et.arg)}(q,ne,De,Y)})}return J=J?J.then(de,de):de()}}function E(te){var J={tryLoc:te[0]};1 in te&&(J.catchLoc=te[1]),2 in te&&(J.finallyLoc=te[2],J.afterLoc=te[3]),this.tryEntries.push(J)}function T(te){var J=te.completion||{};J.type="normal",delete J.arg,te.completion=J}function H(te){this.tryEntries=[{tryLoc:"root"}],te.forEach(E,this),this.reset(!0)}function X(te){if(te){var J,q=te[x];if(q)return q.call(te);if("function"==typeof te.next)return te;if(!isNaN(te.length))return J=-1,(q=function ne(){for(;++J<te.length;)if(h.call(te,J))return ne.value=te[J],ne.done=!1,ne;return ne.value=_,ne.done=!0,ne}).next=q}return{next:z}}function z(){return{value:_,done:!0}}return(O.prototype=j.constructor=$).constructor=O,$[a]=O.displayName="GeneratorFunction",v.isGeneratorFunction=function(te){return!!(te="function"==typeof te&&te.constructor)&&(te===O||"GeneratorFunction"===(te.displayName||te.name))},v.mark=function(te){return Object.setPrototypeOf?Object.setPrototypeOf(te,$):(te.__proto__=$,a in te||(te[a]="GeneratorFunction")),te.prototype=Object.create(j),te},v.awrap=function(te){return{__await:te}},V(k.prototype),k.prototype[w]=function(){return this},v.AsyncIterator=k,v.async=function(te,J,q,ne){var de=new k(l(te,J,q,ne));return v.isGeneratorFunction(J)?de:de.next().then(function(De){return De.done?De.value:de.next()})},V(j),j[a]="Generator",j[x]=function(){return this},j.toString=function(){return"[object Generator]"},v.keys=function(te){var J,q=[];for(J in te)q.push(J);return q.reverse(),function ne(){for(;q.length;){var de=q.pop();if(de in te)return ne.value=de,ne.done=!1,ne}return ne.done=!0,ne}},v.values=X,H.prototype={constructor:H,reset:function(te){if(this.prev=0,this.next=0,this.sent=this._sent=_,this.done=!1,this.delegate=null,this.method="next",this.arg=_,this.tryEntries.forEach(T),!te)for(var J in this)"t"===J.charAt(0)&&h.call(this,J)&&!isNaN(+J.slice(1))&&(this[J]=_)},stop:function(){this.done=!0;var te=this.tryEntries[0].completion;if("throw"===te.type)throw te.arg;return this.rval},dispatchException:function(te){if(this.done)throw te;var J=this;function q(se,pe){return De.type="throw",De.arg=te,J.next=se,pe&&(J.method="next",J.arg=_),!!pe}for(var ne=this.tryEntries.length-1;0<=ne;--ne){var de=this.tryEntries[ne],De=de.completion;if("root"===de.tryLoc)return q("end");if(de.tryLoc<=this.prev){var Y=h.call(de,"catchLoc"),R=h.call(de,"finallyLoc");if(Y&&R){if(this.prev<de.catchLoc)return q(de.catchLoc,!0);if(this.prev<de.finallyLoc)return q(de.finallyLoc)}else if(Y){if(this.prev<de.catchLoc)return q(de.catchLoc,!0)}else{if(!R)throw new Error("try statement without catch or finally");if(this.prev<de.finallyLoc)return q(de.finallyLoc)}}}},abrupt:function(te,J){for(var q=this.tryEntries.length-1;0<=q;--q){var ne=this.tryEntries[q];if(ne.tryLoc<=this.prev&&h.call(ne,"finallyLoc")&&this.prev<ne.finallyLoc){var de=ne;break}}var De=(de=de&&("break"===te||"continue"===te)&&de.tryLoc<=J&&J<=de.finallyLoc?null:de)?de.completion:{};return De.type=te,De.arg=J,de?(this.method="next",this.next=de.finallyLoc,p):this.complete(De)},complete:function(te,J){if("throw"===te.type)throw te.arg;return"break"===te.type||"continue"===te.type?this.next=te.arg:"return"===te.type?(this.rval=this.arg=te.arg,this.method="return",this.next="end"):"normal"===te.type&&J&&(this.next=J),p},finish:function(te){for(var J=this.tryEntries.length-1;0<=J;--J){var q=this.tryEntries[J];if(q.finallyLoc===te)return this.complete(q.completion,q.afterLoc),T(q),p}},catch:function(te){for(var J=this.tryEntries.length-1;0<=J;--J){var q,ne,de=this.tryEntries[J];if(de.tryLoc===te)return"throw"===(q=de.completion).type&&(ne=q.arg,T(de)),ne}throw new Error("illegal catch attempt")},delegateYield:function(te,J,q){return this.delegate={iterator:X(te),resultName:J,nextLoc:q},"next"===this.method&&(this.arg=_),p}},v}("object"==typeof W?W.exports:{});try{regeneratorRuntime=W}catch{Function("r","regeneratorRuntime = r")(W)}},{}],258:[function(r,W,S){!function(v){"use strict";var _,f,h,x,w,a,l,d,u,c;function s(T){if("string"!=typeof T&&(T=String(T)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(T))throw new TypeError("Invalid character in header field name");return T.toLowerCase()}function m(T){return"string"!=typeof T?String(T):T}function p(T){var H={next:function(){var X=T.shift();return{done:void 0===X,value:X}}};return f&&(H[Symbol.iterator]=function(){return H}),H}function y(T){this.map={},T instanceof y?T.forEach(function(H,X){this.append(X,H)},this):Array.isArray(T)?T.forEach(function(H){this.append(H[0],H[1])},this):T&&Object.getOwnPropertyNames(T).forEach(function(H){this.append(H,T[H])},this)}function O(T){if(T.bodyUsed)return Promise.reject(new TypeError("Already read"));T.bodyUsed=!0}function $(T){return new Promise(function(H,X){T.onload=function(){H(T.result)},T.onerror=function(){X(T.error)}})}function N(T){var H=new FileReader,X=$(H);return H.readAsArrayBuffer(T),X}function P(T){var H;return T.slice?T.slice(0):((H=new Uint8Array(T.byteLength)).set(new Uint8Array(T)),H.buffer)}function j(){return this.bodyUsed=!1,this._initBody=function(T){if(this._bodyInit=T)if("string"==typeof T)this._bodyText=T;else if(h&&Blob.prototype.isPrototypeOf(T))this._bodyBlob=T;else if(x&&FormData.prototype.isPrototypeOf(T))this._bodyFormData=T;else if(_&&URLSearchParams.prototype.isPrototypeOf(T))this._bodyText=T.toString();else if(w&&h&&l(T))this._bodyArrayBuffer=P(T.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!w||!ArrayBuffer.prototype.isPrototypeOf(T)&&!d(T))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=P(T)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof T?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_&&URLSearchParams.prototype.isPrototypeOf(T)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h&&(this.blob=function(){var T=O(this);if(T)return T;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?O(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(N)}),this.text=function(){var T,H,X=O(this);if(X)return X;if(this._bodyBlob)return X=this._bodyBlob,H=$(T=new FileReader),T.readAsText(X),H;if(this._bodyArrayBuffer)return Promise.resolve(function(z){for(var te=new Uint8Array(z),J=new Array(te.length),q=0;q<te.length;q++)J[q]=String.fromCharCode(te[q]);return J.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},x&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}function V(T,H){var X,z=(H=H||{}).body;if(T instanceof V){if(T.bodyUsed)throw new TypeError("Already read");this.url=T.url,this.credentials=T.credentials,H.headers||(this.headers=new y(T.headers)),this.method=T.method,this.mode=T.mode,z||null==T._bodyInit||(z=T._bodyInit,T.bodyUsed=!0)}else this.url=String(T);if(this.credentials=H.credentials||this.credentials||"omit",!H.headers&&this.headers||(this.headers=new y(H.headers)),this.method=(X=(T=H.method||this.method||"GET").toUpperCase(),-1<u.indexOf(X)?X:T),this.mode=H.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&z)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(z)}function k(T){var H=new FormData;return T.trim().split("&").forEach(function(X){var z;X&&(z=(X=X.split("=")).shift().replace(/\+/g," "),X=X.join("=").replace(/\+/g," "),H.append(decodeURIComponent(z),decodeURIComponent(X)))}),H}function E(T,H){H=H||{},this.type="default",this.status=void 0===H.status?200:H.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in H?H.statusText:"OK",this.headers=new y(H.headers),this.url=H.url||"",this._initBody(T)}v.fetch||(_="URLSearchParams"in v,f="Symbol"in v&&"iterator"in Symbol,h="FileReader"in v&&"Blob"in v&&function(){try{return new Blob,!0}catch{return!1}}(),x="FormData"in v,(w="ArrayBuffer"in v)&&(a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=function(T){return T&&DataView.prototype.isPrototypeOf(T)},d=ArrayBuffer.isView||function(T){return T&&-1<a.indexOf(Object.prototype.toString.call(T))}),y.prototype.append=function(T,H){T=s(T),H=m(H);var X=this.map[T];this.map[T]=X?X+","+H:H},y.prototype.delete=function(T){delete this.map[s(T)]},y.prototype.get=function(T){return T=s(T),this.has(T)?this.map[T]:null},y.prototype.has=function(T){return this.map.hasOwnProperty(s(T))},y.prototype.set=function(T,H){this.map[s(T)]=m(H)},y.prototype.forEach=function(T,H){for(var X in this.map)this.map.hasOwnProperty(X)&&T.call(H,this.map[X],X,this)},y.prototype.keys=function(){var T=[];return this.forEach(function(H,X){T.push(X)}),p(T)},y.prototype.values=function(){var T=[];return this.forEach(function(H){T.push(H)}),p(T)},y.prototype.entries=function(){var T=[];return this.forEach(function(H,X){T.push([X,H])}),p(T)},f&&(y.prototype[Symbol.iterator]=y.prototype.entries),u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],V.prototype.clone=function(){return new V(this,{body:this._bodyInit})},j.call(V.prototype),j.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},E.error=function(){var T=new E(null,{status:0,statusText:""});return T.type="error",T},c=[301,302,303,307,308],E.redirect=function(T,H){if(-1===c.indexOf(H))throw new RangeError("Invalid status code");return new E(null,{status:H,headers:{location:T}})},v.Headers=y,v.Request=V,v.Response=E,v.fetch=function(T,H){return new Promise(function(X,z){var te=new V(T,H),J=new XMLHttpRequest;J.onload=function(){var q,ne={status:J.status,statusText:J.statusText,headers:(ne=J.getAllResponseHeaders()||"",q=new y,ne.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Y){var R=(Y=Y.split(":")).shift().trim();R&&(Y=Y.join(":").trim(),q.append(R,Y))}),q)},de=(ne.url="responseURL"in J?J.responseURL:ne.headers.get("X-Request-URL"),"response"in J?J.response:J.responseText);X(new E(de,ne))},J.onerror=function(){z(new TypeError("Network request failed"))},J.ontimeout=function(){z(new TypeError("Network request failed"))},J.open(te.method,te.url,!0),"include"===te.credentials?J.withCredentials=!0:"omit"===te.credentials&&(J.withCredentials=!1),"responseType"in J&&h&&(J.responseType="blob"),te.headers.forEach(function(q,ne){J.setRequestHeader(ne,q)}),J.send(void 0===te._bodyInit?null:te._bodyInit)})},v.fetch.polyfill=!0)}(typeof self<"u"?self:this)},{}],259:[function(r,W,S){"use strict";r("core-js/modules/es.function.name"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.split"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v,_=h(r("../core/main")),f=h(r("../color/color_conversion"));function h(a){return a&&a.__esModule?a:{default:a}}var x=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],w=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];_.default.prototype._rgbColorName=function(u){u=f.default._rgbaToHSBA(u);var l,d,c=[(v=u)[0],u[1],u[2]];0!==c[0]&&(c[0]=Math.round(100*c[0]),(u=c[0].toString().split(""))[d=u.length-1]=parseInt(u[d]),u[d]<2.5?u[d]=0:2.5<=u[d]&&u[d]<7.5&&(u[d]=5),2===u.length?(u[0]=parseInt(u[0]),7.5<=u[d]&&(u[d]=0,u[0]=u[0]+1),c[0]=10*u[0]+u[1]):c[0]=7.5<=u[d]?10:u[d]),c[2]=c[2]/255;for(var s=c.length-1;1<=s;s--)c[s]=c[s]<=.25?0:.25<c[s]&&c[s]<.75?.5:1;if(0===c[0]&&0===c[1]&&1===c[2]){for(var m=2;0<=m;m--)v[m]=Math.round(1e4*v[m])/1e4;for(var p=0;p<x.length;p++){if(x[p].h===v[0]&&x[p].s===v[1]&&x[p].b===v[2]){l=x[p].name;break}l="white"}}else for(var y=0;y<w.length;y++)if(w[y].h===c[0]&&w[y].s===c[1]&&w[y].b===c[2]){l=w[y].name;break}return l},S.default=r=_.default},{"../color/color_conversion":265,"../core/main":280,"core-js/modules/es.function.name":173,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.split":203}],260:[function(r,W,S){"use strict";r("core-js/modules/es.array.concat"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.ends-with"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.ends-with"),r("core-js/modules/es.string.replace"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(r=r("../core/main"))&&r.__esModule?r:{default:r},_="_Description",f="_fallbackDesc",h="_fallbackTable",x="_Label",w="_labelDesc",a="_labelTable";function l(d){if("label"===d||"fallback"===d)throw new Error("description should not be LABEL or FALLBACK");return d.endsWith(".")||d.endsWith(";")||d.endsWith(",")||d.endsWith("?")||d.endsWith("!")||(d+="."),d}v.default.prototype.describe=function(d,u){var c;v.default._validateParameters("describe",arguments),"string"==typeof d&&(c=this.canvas.id,d=l(d),this.dummyDOM||(this.dummyDOM=document.getElementById(c).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==d&&(this.descriptions.fallback.innerHTML=d):this._describeHTML("fallback",d),u===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==d&&(this.descriptions.label.innerHTML=d):this._describeHTML("label",d)))},v.default.prototype.describeElement=function(d,u,c){var s,m;v.default._validateParameters("describeElement",arguments),"string"==typeof u&&"string"==typeof d&&(s=this.canvas.id,u=l(u),m=function(p){if("label"===p||"fallback"===p)throw new Error("element name should not be LABEL or FALLBACK");return p.endsWith(".")||p.endsWith(";")||p.endsWith(",")?p=p.replace(/.$/,":"):p.endsWith(":")||(p+=":"),p}(d),d=d.replace(/[^a-zA-Z0-9]/g,""),m='<th scope="row">'.concat(m,"</th><td>").concat(u,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(s).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[d]?this.descriptions.fallbackElements[d].innerHTML!==m&&(this.descriptions.fallbackElements[d].innerHTML=m):this._describeElementHTML("fallback",d,m),c===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[d]?this.descriptions.labelElements[d].innerHTML!==m&&(this.descriptions.labelElements[d].innerHTML=m):this._describeElementHTML("label",d,m)))},v.default.prototype._describeHTML=function(d,u){var c,s=this.canvas.id;"fallback"===d?(this.dummyDOM.querySelector("#".concat(s+_))?this.dummyDOM.querySelector("#"+s+h).insertAdjacentHTML("beforebegin",'<p id="'.concat(s+f,'"></p>')):(c='<div id="'.concat(s).concat(_,'" role="region" aria-label="Canvas Description"><p id="').concat(s).concat(f,'"></p></div>'),this.dummyDOM.querySelector("#".concat(s,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(s,"accessibleOutput")).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#".concat(s)).innerHTML=c),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(s).concat(f)),this.descriptions.fallback.innerHTML=u):"label"===d&&(this.dummyDOM.querySelector("#".concat(s+x))?this.dummyDOM.querySelector("#".concat(s+a))&&this.dummyDOM.querySelector("#".concat(s+a)).insertAdjacentHTML("beforebegin",'<p id="'.concat(s).concat(w,'"></p>')):(c='<div id="'.concat(s).concat(x,'" class="p5Label"><p id="').concat(s).concat(w,'"></p></div>'),this.dummyDOM.querySelector("#".concat(s,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(s,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#"+s).insertAdjacentHTML("afterend",c)),this.descriptions.label=this.dummyDOM.querySelector("#"+s+w),this.descriptions.label.innerHTML=u)},v.default.prototype._describeElementHTML=function(d,u,c){var s,m=this.canvas.id;"fallback"===d?(this.dummyDOM.querySelector("#".concat(m+_))?this.dummyDOM.querySelector("#"+m+h)||this.dummyDOM.querySelector("#"+m+f).insertAdjacentHTML("afterend",'<table id="'.concat(m).concat(h,'"><caption>Canvas elements and their descriptions</caption></table>')):(s='<div id="'.concat(m).concat(_,'" role="region" aria-label="Canvas Description"><table id="').concat(m).concat(h,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(m,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(m,"accessibleOutput")).insertAdjacentHTML("beforebegin",s):this.dummyDOM.querySelector("#"+m).innerHTML=s),(s=document.createElement("tr")).id=m+"_fte_"+u,this.dummyDOM.querySelector("#"+m+h).appendChild(s),this.descriptions.fallbackElements[u]=this.dummyDOM.querySelector("#".concat(m).concat("_fte_").concat(u)),this.descriptions.fallbackElements[u].innerHTML=c):"label"===d&&(this.dummyDOM.querySelector("#".concat(m+x))?this.dummyDOM.querySelector("#".concat(m+a))||this.dummyDOM.querySelector("#"+m+w).insertAdjacentHTML("afterend",'<table id="'.concat(m+a,'"></table>')):(s='<div id="'.concat(m).concat(x,'" class="p5Label"><table id="').concat(m).concat(a,'"></table></div>'),this.dummyDOM.querySelector("#".concat(m,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(m,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",s):this.dummyDOM.querySelector("#"+m).insertAdjacentHTML("afterend",s)),(d=document.createElement("tr")).id=m+"_lte_"+u,this.dummyDOM.querySelector("#"+m+a).appendChild(d),this.descriptions.labelElements[u]=this.dummyDOM.querySelector("#".concat(m).concat("_lte_").concat(u)),this.descriptions.labelElements[u].innerHTML=c)},S.default=r=v.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.ends-with":195,"core-js/modules/es.string.replace":201}],261:[function(r,W,S){"use strict";r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.map"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.map"),r("core-js/modules/es.string.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.prototype._updateGridOutput=function(v){var _,f,h,x,w,a,l,d;this.dummyDOM.querySelector("#".concat(v,"_summary"))&&(_=this._accessibleOutputs[v],w=(f=function(w,a){var l,d="",u="",c=0;for(l in a){var s,m=0;for(s in a[l]){var p='<li id="'.concat(w,"shape").concat(c,'">').concat(a[l][s].color," ").concat(l,",");"line"===l?p+=" location = ".concat(a[l][s].pos,", length = ").concat(a[l][s].length," pixels"):(p+=" location = ".concat(a[l][s].pos),"point"!==l&&(p+=", area = ".concat(a[l][s].area," %")),p+="</li>"),d+=p,m++,c++}u=1<m?"".concat(u," ").concat(m," ").concat(l,"s"):"".concat(u," ").concat(m," ").concat(l)}return{numShapes:[c,u],details:d}}(v,this.ingredients.shapes)).numShapes,l=this.width,d=this.height,a="".concat(a=this.ingredients.colors.background," canvas, ").concat(l," by ").concat(d," pixels, contains ").concat(w[0]),h=a="".concat(a,1===w[0]?" shape: ":" shapes: ").concat(w[1]),x=function(w,a){var l,d,u=0,c="",s=Array.from(Array(10),function(){return Array(10)});for(l in a)for(var m in a[l]){var p;p="line"!==l?'<a href="#'.concat(w,"shape").concat(u,'">').concat(a[l][m].color," ").concat(l,"</a>"):'<a href="#'.concat(w,"shape").concat(u,'">').concat(a[l][m].color," ").concat(l," midpoint</a>"),s[a[l][m].loc.locY][a[l][m].loc.locX]=s[a[l][m].loc.locY][a[l][m].loc.locX]?s[a[l][m].loc.locY][a[l][m].loc.locX]+"  "+p:p,u++}for(d in s){var y,O="<tr>";for(y in s[d])O+="<td>",void 0!==s[d][y]&&(O+=s[d][y]),O+="</td>";c=c+O+"</tr>"}return c}(v,this.ingredients.shapes),h!==_.summary.innerHTML&&(_.summary.innerHTML=h),x!==_.map.innerHTML&&(_.map.innerHTML=x),f.details!==_.shapeDetails.innerHTML&&(_.shapeDetails.innerHTML=f.details),this._accessibleOutputs[v]=_)},S.default=r=r.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.from":161,"core-js/modules/es.array.map":167,"core-js/modules/es.string.iterator":197}],262:[function(r,W,S){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.map"),r("core-js/modules/es.number.to-fixed"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(r=r("../core/main"))&&r.__esModule?r:{default:r};function f(h,x,w){return 10===(x=Math.floor(h[0]/x*10))&&(x-=1),10===(h=Math.floor(h[1]/w*10))&&(h-=1),{locX:x,locY:h}}v.default.prototype.textOutput=function(h){v.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),h===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},v.default.prototype.gridOutput=function(h){v.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),h===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},v.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},v.default.prototype._createOutput=function(h,x){var w,a,l,d=this.canvas.id,u=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(d).parentNode),"");"Fallback"===x?(w=d+h,this.dummyDOM.querySelector("#".concat(a=d+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(d,"_Description"))?this.dummyDOM.querySelector("#".concat(d,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(a,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(d)).innerHTML='<div id="'.concat(a,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===x&&(w=d+h+(u=x),this.dummyDOM.querySelector("#".concat(a=d+"accessibleOutput"+x))||(this.dummyDOM.querySelector("#".concat(d,"_Label"))?this.dummyDOM.querySelector("#".concat(d,"_Label")):this.dummyDOM.querySelector("#".concat(d))).insertAdjacentHTML("afterend",'<div id="'.concat(a,'"></div>'))),this._accessibleOutputs[w]={},"textOutput"===h?(u="#".concat(d,"gridOutput").concat(u),l='<div id="'.concat(w,'">Text Output<div id="').concat(w,'Summary" aria-label="text output summary"><p id="').concat(w,'_summary"></p><ul id="').concat(w,'_list"></ul></div><table id="').concat(w,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(u)?this.dummyDOM.querySelector(u).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#".concat(a)).innerHTML=l,this._accessibleOutputs[w].list=this.dummyDOM.querySelector("#".concat(w,"_list"))):"gridOutput"===h&&(u="#".concat(d,"textOutput").concat(u),l='<div id="'.concat(w,'">Grid Output<p id="').concat(w,'_summary" aria-label="grid output summary"><table id="').concat(w,'_map" summary="grid output content"></table><ul id="').concat(w,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(u)?this.dummyDOM.querySelector(u).insertAdjacentHTML("afterend",l):this.dummyDOM.querySelector("#".concat(a)).innerHTML=l,this._accessibleOutputs[w].map=this.dummyDOM.querySelector("#".concat(w,"_map"))),this._accessibleOutputs[w].shapeDetails=this.dummyDOM.querySelector("#".concat(w,"_shapeDetails")),this._accessibleOutputs[w].summary=this.dummyDOM.querySelector("#".concat(w,"_summary"))},v.default.prototype._updateAccsOutput=function(){var h=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(h+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(h+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(h+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(h+"gridOutputLabel"))},v.default.prototype._accsBackground=function(h){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==h&&(this.ingredients.colors.backgroundRGBA=h,this.ingredients.colors.background=this._rgbColorName(h))},v.default.prototype._accsCanvasColors=function(h,x){"fill"===h?this.ingredients.colors.fillRGBA!==x&&(this.ingredients.colors.fillRGBA=x,this.ingredients.colors.fill=this._rgbColorName(x)):"stroke"===h&&this.ingredients.colors.strokeRGBA!==x&&(this.ingredients.colors.strokeRGBA=x,this.ingredients.colors.stroke=this._rgbColorName(x))},v.default.prototype._accsOutput=function(h,x){"ellipse"===h&&x[2]===x[3]?h="circle":"rectangle"===h&&x[2]===x[3]&&(h="square");var w,a,s,m,p,l={},d=!0,u=(m=x,s="rectangle"===(s=h)||"ellipse"===s||"arc"===s||"circle"===s||"square"===s?(p=Math.round(m[0]+m[2]/2),Math.round(m[1]+m[3]/2)):"triangle"===s?(p=(m[0]+m[2]+m[4])/3,(m[1]+m[3]+m[5])/3):"quadrilateral"===s?(p=(m[0]+m[2]+m[4]+m[6])/4,(m[1]+m[3]+m[5]+m[7])/4):"line"===s?(p=(m[0]+m[2])/2,(m[1]+m[3])/2):(p=m[0],m[1]),[p,s]);if("line"===h?(l.color=this.ingredients.colors.stroke,l.length=Math.round(this.dist(x[0],x[1],x[2],x[3])),w=this._getPos(x[0],[1]),a=this._getPos(x[2],[3]),l.loc=f(u,this.width,this.height),l.pos=w===a?"at ".concat(w):"from ".concat(w," to ").concat(a)):("point"===h?l.color=this.ingredients.colors.stroke:(l.color=this.ingredients.colors.fill,l.area=this._getArea(h,x)),l.pos=this._getPos.apply(this,function _(h){return function(x){if(Array.isArray(x)){for(var w=0,a=new Array(x.length);w<x.length;w++)a[w]=x[w];return a}}(h)||function(x){if(Symbol.iterator in Object(x)||"[object Arguments]"===Object.prototype.toString.call(x))return Array.from(x)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(u)),l.loc=f(u,this.width,this.height)),this.ingredients.shapes[h]){if(this.ingredients.shapes[h]!==[l]){for(var c in this.ingredients.shapes[h])JSON.stringify(this.ingredients.shapes[h][c])===JSON.stringify(l)&&(d=!1);!0===d&&this.ingredients.shapes[h].push(l)}}else this.ingredients.shapes[h]=[l]},v.default.prototype._getPos=function(a,w){a=new DOMPointReadOnly(a,w),w=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),w=(a=a.matrixTransform(w)).x,a=a.y;var l=this.width*this._pixelDensity,d=this.height*this._pixelDensity;return w<.4*l?a<.4*d?"top left":.6*d<a?"bottom left":"mid left":.6*l<w?a<.4*d?"top right":.6*d<a?"bottom right":"mid right":a<.4*d?"top middle":.6*d<a?"bottom middle":"middle"},v.default.prototype._getArea=function(h,x){var w,a,l=0,d=("arc"===h?(l=(w=((x[5]-x[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*x[2]*x[3]/8,"open"!==x[6]&&"chord"!==x[6]||(a=x[0],m=x[1],d=x[0]+x[2]/2*Math.cos(x[4]).toFixed(2),p=x[1]+x[3]/2*Math.sin(x[4]).toFixed(2),c=x[0]+x[2]/2*Math.cos(x[5]).toFixed(2),u=x[1]+x[3]/2*Math.sin(x[5]).toFixed(2),a=Math.abs(a*(p-u)+d*(u-m)+c*(m-p))/2,w>Math.PI?l+=a:l-=a)):"ellipse"===h||"circle"===h?l=3.14*x[2]/2*x[3]/2:"line"===h||"point"===h?l=0:"quadrilateral"===h?l=Math.abs((x[6]+x[0])*(x[7]-x[1])+(x[0]+x[2])*(x[1]-x[3])+(x[2]+x[4])*(x[3]-x[5])+(x[4]+x[6])*(x[5]-x[7]))/2:"rectangle"===h||"square"===h?l=x[2]*x[3]:"triangle"===h&&(l=Math.abs(x[0]*(x[3]-x[5])+x[2]*(x[5]-x[1])+x[4]*(x[1]-x[3]))/2),this.width*this._pixelDensity),u=this.height*this._pixelDensity,c=[new DOMPoint(0,0),new DOMPoint(d,0),new DOMPoint(d,u),new DOMPoint(0,u)],s=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),m=c.map(function(y){return y.matrixTransform(s)}),p=Math.abs((m[3].x+m[0].x)*(m[3].y-m[0].y)+(m[0].x+m[1].x)*(m[0].y-m[1].y)+(m[1].x+m[2].x)*(m[1].y-m[2].y)+(m[2].x+m[3].x)*(m[2].y-m[3].y))/2;return Math.round(100*l/p)},S.default=r=v.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],263:[function(r,W,S){"use strict";r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.concat"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.prototype._updateTextOutput=function(v){var _,f,h,x,w,a,l,d;this.dummyDOM.querySelector("#".concat(v,"_summary"))&&(_=this._accessibleOutputs[v],w=(f=function(w,a){var l,d="",u=0;for(l in a)for(var c in a[l]){var s='<li><a href="#'.concat(w,"shape").concat(u,'">').concat(a[l][c].color," ").concat(l,"</a>");"line"===l?s+=", ".concat(a[l][c].pos,", ").concat(a[l][c].length," pixels long.</li>"):(s+=", at ".concat(a[l][c].pos),"point"!==l&&(s+=", covering ".concat(a[l][c].area,"% of the canvas")),s+=".</li>"),d+=s,u++}return{numShapes:u,listShapes:d}}(v,this.ingredients.shapes)).numShapes,a=this.ingredients.colors.background,d=this.height,l="Your output is a, ".concat(l=this.width," by ").concat(d," pixels, ").concat(a," canvas containing the following"),h=l=1===w?"".concat(l," shape:"):"".concat(l," ").concat(w," shapes:"),x=function(w,a){var l,d="",u=0;for(l in a)for(var c in a[l]){var s='<tr id="'.concat(w,"shape").concat(u,'"><th>').concat(a[l][c].color," ").concat(l,"</th>");"line"===l?s+="<td>location = ".concat(a[l][c].pos,"</td><td>length = ").concat(a[l][c].length," pixels</td></tr>"):(s+="<td>location = ".concat(a[l][c].pos,"</td>"),"point"!==l&&(s+="<td> area = ".concat(a[l][c].area,"%</td>")),s+="</tr>"),d+=s,u++}return d}(v,this.ingredients.shapes),h!==_.summary.innerHTML&&(_.summary.innerHTML=h),f.listShapes!==_.list.innerHTML&&(_.list.innerHTML=f.listShapes),x!==_.shapeDetails.innerHTML&&(_.shapeDetails.innerHTML=x),this._accessibleOutputs[v]=_)},S.default=r=r.default},{"../core/main":280,"core-js/modules/es.array.concat":152}],264:[function(r,W,S){"use strict";var v=(v=r("./core/main"))&&v.__esModule?v:{default:v};r("./core/constants"),r("./core/environment"),r("./core/friendly_errors/stacktrace"),r("./core/friendly_errors/validate_params"),r("./core/friendly_errors/file_errors"),r("./core/friendly_errors/fes_core"),r("./core/friendly_errors/sketch_reader"),r("./core/helpers"),r("./core/legacy"),r("./core/preload"),r("./core/p5.Element"),r("./core/p5.Graphics"),r("./core/p5.Renderer"),r("./core/p5.Renderer2D"),r("./core/rendering"),r("./core/shim"),r("./core/structure"),r("./core/transform"),r("./core/shape/2d_primitives"),r("./core/shape/attributes"),r("./core/shape/curves"),r("./core/shape/vertex"),r("./accessibility/outputs"),r("./accessibility/textOutput"),r("./accessibility/gridOutput"),r("./accessibility/color_namer"),r("./color/color_conversion"),r("./color/creating_reading"),r("./color/p5.Color"),r("./color/setting"),r("./data/p5.TypedDict"),r("./data/local_storage.js"),r("./dom/dom"),r("./accessibility/describe"),r("./events/acceleration"),r("./events/keyboard"),r("./events/mouse"),r("./events/touch"),r("./image/filters"),r("./image/image"),r("./image/loading_displaying"),r("./image/p5.Image"),r("./image/pixels"),r("./io/files"),r("./io/p5.Table"),r("./io/p5.TableRow"),r("./io/p5.XML"),r("./math/calculation"),r("./math/math"),r("./math/noise"),r("./math/p5.Vector"),r("./math/random"),r("./math/trigonometry"),r("./typography/attributes"),r("./typography/loading_displaying"),r("./typography/p5.Font"),r("./utilities/array_functions"),r("./utilities/conversion"),r("./utilities/string_functions"),r("./utilities/time_date"),r("./webgl/3d_primitives"),r("./webgl/interaction"),r("./webgl/light"),r("./webgl/loading"),r("./webgl/material"),r("./webgl/p5.Camera"),r("./webgl/p5.DataArray"),r("./webgl/p5.Geometry"),r("./webgl/p5.Matrix"),r("./webgl/p5.RendererGL.Immediate"),r("./webgl/p5.RendererGL"),r("./webgl/p5.RendererGL.Retained"),r("./webgl/p5.Framebuffer"),r("./webgl/p5.Shader"),r("./webgl/p5.RenderBuffer"),r("./webgl/p5.Texture"),r("./webgl/text"),r("./core/init"),W.exports=v.default},{"./accessibility/color_namer":259,"./accessibility/describe":260,"./accessibility/gridOutput":261,"./accessibility/outputs":262,"./accessibility/textOutput":263,"./color/color_conversion":265,"./color/creating_reading":266,"./color/p5.Color":267,"./color/setting":268,"./core/constants":269,"./core/environment":270,"./core/friendly_errors/fes_core":271,"./core/friendly_errors/file_errors":272,"./core/friendly_errors/sketch_reader":273,"./core/friendly_errors/stacktrace":274,"./core/friendly_errors/validate_params":275,"./core/helpers":276,"./core/init":277,"./core/legacy":279,"./core/main":280,"./core/p5.Element":281,"./core/p5.Graphics":282,"./core/p5.Renderer":283,"./core/p5.Renderer2D":284,"./core/preload":285,"./core/rendering":286,"./core/shape/2d_primitives":287,"./core/shape/attributes":288,"./core/shape/curves":289,"./core/shape/vertex":290,"./core/shim":291,"./core/structure":292,"./core/transform":293,"./data/local_storage.js":294,"./data/p5.TypedDict":295,"./dom/dom":296,"./events/acceleration":297,"./events/keyboard":298,"./events/mouse":299,"./events/touch":300,"./image/filters":301,"./image/image":302,"./image/loading_displaying":303,"./image/p5.Image":304,"./image/pixels":305,"./io/files":306,"./io/p5.Table":307,"./io/p5.TableRow":308,"./io/p5.XML":309,"./math/calculation":310,"./math/math":311,"./math/noise":312,"./math/p5.Vector":313,"./math/random":314,"./math/trigonometry":315,"./typography/attributes":316,"./typography/loading_displaying":317,"./typography/p5.Font":318,"./utilities/array_functions":319,"./utilities/conversion":320,"./utilities/string_functions":321,"./utilities/time_date":322,"./webgl/3d_primitives":323,"./webgl/interaction":325,"./webgl/light":326,"./webgl/loading":327,"./webgl/material":328,"./webgl/p5.Camera":329,"./webgl/p5.DataArray":330,"./webgl/p5.Framebuffer":331,"./webgl/p5.Geometry":332,"./webgl/p5.Matrix":333,"./webgl/p5.RenderBuffer":334,"./webgl/p5.RendererGL":337,"./webgl/p5.RendererGL.Immediate":335,"./webgl/p5.RendererGL.Retained":336,"./webgl/p5.Shader":338,"./webgl/p5.Texture":339,"./webgl/text":340}],265:[function(r,W,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.ColorConversion={_hsbaToHSLA:function(v){var f=v[1],h=v[2],x=(2-f)*h/2;return 0!=x&&(1==x?f=0:x<.5?f/=2-f:f=f*h/(2-2*x)),[v[0],f,x,v[3]]},_hsbaToRGBA:function(v){var _,f,h,x,w,a=6*v[0],l=v[1],d=v[2];return 0===l?[d,d,d,v[3]]:(f=d*(1-l),h=d*(1-l*(a-(_=Math.floor(a)))),l=d*(1-l*(1+_-a)),a=1===_?(x=h,w=d,f):2===_?(x=f,w=d,l):3===_?(x=f,w=h,d):4===_?(x=l,w=f,d):5===_?(x=d,w=f,h):(x=d,w=l,f),[x,w,a,v[3]])},_hslaToHSBA:function(v){var f=v[1],h=v[2],x=h<.5?(1+f)*h:h+f-h*f;return[v[0],f=2*(x-h)/x,x,v[3]]},_hslaToRGBA:function(v){var _,f=6*v[0],h=v[1],x=v[2];return 0===h?[x,x,x,v[3]]:[(_=function(w,a,l){return w<0?w+=6:6<=w&&(w-=6),w<1?a+(l-a)*w:w<3?l:w<4?a+(l-a)*(4-w):a})(2+f,h=2*x-(x=x<.5?(1+h)*x:x+h-x*h),x),_(f,h,x),_(f-2,h,x),v[3]]},_rgbaToHSBA:function(v){var _,f,h=v[0],x=v[1],w=v[2],a=Math.max(h,x,w),l=a-Math.min(h,x,w);return 0==l?f=_=0:(f=l/a,h===a?_=(x-w)/l:x===a?_=2+(w-h)/l:w===a&&(_=4+(h-x)/l),_<0?_+=6:6<=_&&(_-=6)),[_/6,f,a,v[3]]},_rgbaToHSLA:function(v){var _,f,d,h=v[0],x=v[1],w=v[2],a=Math.max(h,x,w),l=a+(d=Math.min(h,x,w));return 0==(d=a-d)?f=_=0:(f=l<1?d/l:d/(2-l),h===a?_=(x-w)/d:x===a?_=2+(w-h)/d:w===a&&(_=4+(h-x)/d),_<0?_+=6:6<=_&&(_-=6)),[_/6,f,l/2,v[3]]}},S.default=r=r.default.ColorConversion},{"../core/main":280}],266:[function(r,W,S){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(a)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.map"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(w=r("../core/main"))&&w.__esModule?w:{default:w},h=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var l=x();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(r("../core/constants"));function x(){var a;return"function"!=typeof WeakMap?null:(x=function(){return a},a=new WeakMap)}r("./p5.Color"),r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),f.default.prototype.alpha=function(a){return f.default._validateParameters("alpha",arguments),this.color(a)._getAlpha()},f.default.prototype.blue=function(a){return f.default._validateParameters("blue",arguments),this.color(a)._getBlue()},f.default.prototype.brightness=function(a){return f.default._validateParameters("brightness",arguments),this.color(a)._getBrightness()},f.default.prototype.color=function(){for(var a,l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];return f.default._validateParameters("color",d),d[0]instanceof f.default.Color?d[0]:(a=Array.isArray(d[0])?d[0]:d,new f.default.Color(this,a))},f.default.prototype.green=function(a){return f.default._validateParameters("green",arguments),this.color(a)._getGreen()},f.default.prototype.hue=function(a){return f.default._validateParameters("hue",arguments),this.color(a)._getHue()},f.default.prototype.lerpColor=function(a,l,d){f.default._validateParameters("lerpColor",arguments);var u,c,s,m=this._colorMode,p=this._colorMaxes;if(m===h.RGB)c=a.levels.map(function(y){return y/255}),s=l.levels.map(function(y){return y/255});else if(m===h.HSB)a._getBrightness(),l._getBrightness(),c=a.hsba,s=l.hsba;else{if(m!==h.HSL)throw new Error("".concat(m," cannot be used for interpolation."));a._getLightness(),l._getLightness(),c=a.hsla,s=l.hsla}return d=Math.max(Math.min(d,1),0),void 0===this.lerp&&(this.lerp=function(y,O,$){return $*(O-y)+y}),m===h.RGB?u=this.lerp(c[0],s[0],d):(.5<Math.abs(c[0]-s[0])&&(c[0]>s[0]?s[0]+=1:c[0]+=1),1<=(u=this.lerp(c[0],s[0],d))&&--u),a=this.lerp(c[1],s[1],d),l=this.lerp(c[2],s[2],d),c=this.lerp(c[3],s[3],d),this.color(u*=p[m][0],a*=p[m][1],l*=p[m][2],c*=p[m][3])},f.default.prototype.lightness=function(a){return f.default._validateParameters("lightness",arguments),this.color(a)._getLightness()},f.default.prototype.red=function(a){return f.default._validateParameters("red",arguments),this.color(a)._getRed()},f.default.prototype.saturation=function(a){return f.default._validateParameters("saturation",arguments),this.color(a)._getSaturation()};var w=f.default;S.default=w},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"./p5.Color":267,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],267:[function(u,W,S){"use strict";function v(y){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(y)}function _(y){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(O){return v(O)}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":v(O)})(y)}u("core-js/modules/es.symbol"),u("core-js/modules/es.symbol.description"),u("core-js/modules/es.symbol.iterator"),u("core-js/modules/es.array.includes"),u("core-js/modules/es.array.iterator"),u("core-js/modules/es.array.join"),u("core-js/modules/es.array.map"),u("core-js/modules/es.array.slice"),u("core-js/modules/es.object.get-own-property-descriptor"),u("core-js/modules/es.object.to-string"),u("core-js/modules/es.regexp.constructor"),u("core-js/modules/es.regexp.exec"),u("core-js/modules/es.regexp.to-string"),u("core-js/modules/es.string.includes"),u("core-js/modules/es.string.iterator"),u("core-js/modules/es.string.trim"),u("core-js/modules/es.weak-map"),u("core-js/modules/web.dom-collections.iterator"),u("core-js/modules/es.array.includes"),u("core-js/modules/es.array.join"),u("core-js/modules/es.array.map"),u("core-js/modules/es.array.slice"),u("core-js/modules/es.object.to-string"),u("core-js/modules/es.regexp.constructor"),u("core-js/modules/es.regexp.exec"),u("core-js/modules/es.regexp.to-string"),u("core-js/modules/es.string.includes"),u("core-js/modules/es.string.trim"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=a(u("../core/main")),h=function(y){if(y&&y.__esModule)return y;if(null===y||"object"!==_(y)&&"function"!=typeof y)return{default:y};var O=w();if(O&&O.has(y))return O.get(y);var $,N={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for($ in y){var j;Object.prototype.hasOwnProperty.call(y,$)&&((j=P?Object.getOwnPropertyDescriptor(y,$):null)&&(j.get||j.set)?Object.defineProperty(N,$,j):N[$]=y[$])}return N.default=y,O&&O.set(y,N),N}(u("../core/constants")),x=a(u("./color_conversion"));function w(){var y;return"function"!=typeof WeakMap?null:(w=function(){return y},y=new WeakMap)}function a(y){return y&&y.__esModule?y:{default:y}}function l(y,O){for(var $=0;$<O.length;$++){var N=O[$];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(y,N.key,N)}}var d={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},p=(u=/\s*/,/(\d{1,3})/),c=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,s=new RegExp("".concat(c.source,"%")),m={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",p.source,",",p.source,",",p.source,"\\)$"].join(u.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",s.source,",",s.source,",",s.source,"\\)$"].join(u.source),"i"),RGBA:new RegExp(["^rgba\\(",p.source,",",p.source,",",p.source,",",c.source,"\\)$"].join(u.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",s.source,",",s.source,",",s.source,",",c.source,"\\)$"].join(u.source),"i"),HSL:new RegExp(["^hsl\\(",p.source,",",s.source,",",s.source,"\\)$"].join(u.source),"i"),HSLA:new RegExp(["^hsla\\(",p.source,",",s.source,",",s.source,",",c.source,"\\)$"].join(u.source),"i"),HSB:new RegExp(["^hsb\\(",p.source,",",s.source,",",s.source,"\\)$"].join(u.source),"i"),HSBA:new RegExp(["^hsba\\(",p.source,",",s.source,",",s.source,",",c.source,"\\)$"].join(u.source),"i")};f.default.Color=function(){function y(P,j){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(P._colorMode,P._colorMaxes),![h.RGB,h.HSL,h.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=y._parseInputs.apply(this,j),this._calculateLevels()}var O,$,N;return O=y,N=[{key:"_parseInputs",value:function(P,j,V,k){var E,T=arguments.length,H=this.mode,X=this.maxes[H],z=[];if(3<=T){for(z[0]=P/X[0],z[1]=j/X[1],z[2]=V/X[2],z[3]="number"==typeof k?k/X[3]:1,E=z.length-1;0<=E;--E){var te=z[E];te<0?z[E]=0:1<te&&(z[E]=1)}return H===h.HSL?x.default._hslaToRGBA(z):H===h.HSB?x.default._hsbaToRGBA(z):z}if(1===T&&"string"==typeof P){if(V=P.trim().toLowerCase(),d[V])return y._parseInputs.call(this,d[V]);if(m.HEX3.test(V))return(z=m.HEX3.exec(V).slice(1).map(function(J){return parseInt(J+J,16)/255}))[3]=1,z;if(m.HEX6.test(V))return(z=m.HEX6.exec(V).slice(1).map(function(J){return parseInt(J,16)/255}))[3]=1,z;if(m.HEX4.test(V))return m.HEX4.exec(V).slice(1).map(function(J){return parseInt(J+J,16)/255});if(m.HEX8.test(V))return m.HEX8.exec(V).slice(1).map(function(J){return parseInt(J,16)/255});if(m.RGB.test(V))return(z=m.RGB.exec(V).slice(1).map(function(J){return J/255}))[3]=1,z;if(m.RGB_PERCENT.test(V))return(z=m.RGB_PERCENT.exec(V).slice(1).map(function(J){return parseFloat(J)/100}))[3]=1,z;if(m.RGBA.test(V))return m.RGBA.exec(V).slice(1).map(function(J,q){return 3===q?parseFloat(J):J/255});if(m.RGBA_PERCENT.test(V))return m.RGBA_PERCENT.exec(V).slice(1).map(function(J,q){return 3===q?parseFloat(J):parseFloat(J)/100});if(m.HSL.test(V)?(z=m.HSL.exec(V).slice(1).map(function(J,q){return 0===q?parseInt(J,10)/360:parseInt(J,10)/100}))[3]=1:m.HSLA.test(V)&&(z=m.HSLA.exec(V).slice(1).map(function(J,q){return 0===q?parseInt(J,10)/360:3===q?parseFloat(J):parseInt(J,10)/100})),(z=z.map(function(J){return Math.max(Math.min(J,1),0)})).length)return x.default._hslaToRGBA(z);if(m.HSB.test(V)?(z=m.HSB.exec(V).slice(1).map(function(J,q){return 0===q?parseInt(J,10)/360:parseInt(J,10)/100}))[3]=1:m.HSBA.test(V)&&(z=m.HSBA.exec(V).slice(1).map(function(J,q){return 0===q?parseInt(J,10)/360:3===q?parseFloat(J):parseInt(J,10)/100})),z.length){for(E=z.length-1;0<=E;--E)z[E]=Math.max(Math.min(z[E],1),0);return x.default._hsbaToRGBA(z)}z=[1,1,1,1]}else{if(1!==T&&2!==T||"number"!=typeof P)throw new Error("".concat(arguments,"is not a valid color representation."));z[0]=P/X[2],z[1]=P/X[2],z[2]=P/X[2],z[3]="number"==typeof j?j/X[3]:1,z=z.map(function(J){return Math.max(Math.min(J,1),0)})}return z}}],($=[{key:"toString",value:function(P){var j=this.levels,V=this._array,k=V[3];switch(P){case"#rrggbb":return"#".concat(j[0]<16?"0".concat(j[0].toString(16)):j[0].toString(16),j[1]<16?"0".concat(j[1].toString(16)):j[1].toString(16),j[2]<16?"0".concat(j[2].toString(16)):j[2].toString(16));case"#rrggbbaa":return"#".concat(j[0]<16?"0".concat(j[0].toString(16)):j[0].toString(16),j[1]<16?"0".concat(j[1].toString(16)):j[1].toString(16),j[2]<16?"0".concat(j[2].toString(16)):j[2].toString(16),j[3]<16?"0".concat(j[3].toString(16)):j[3].toString(16));case"#rgb":return"#".concat(Math.round(15*V[0]).toString(16),Math.round(15*V[1]).toString(16),Math.round(15*V[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*V[0]).toString(16),Math.round(15*V[1]).toString(16),Math.round(15*V[2]).toString(16),Math.round(15*V[3]).toString(16));case"rgb":return"rgb(".concat(j[0],", ",j[1],", ",j[2],")");case"rgb%":return"rgb(".concat((100*V[0]).toPrecision(3),"%, ",(100*V[1]).toPrecision(3),"%, ",(100*V[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*V[0]).toPrecision(3),"%, ",(100*V[1]).toPrecision(3),"%, ",(100*V[2]).toPrecision(3),"%, ",(100*V[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[h.HSB][0],", ",this.hsba[1]*this.maxes[h.HSB][1],", ",this.hsba[2]*this.maxes[h.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[h.HSB][0],", ",this.hsba[1]*this.maxes[h.HSB][1],", ",this.hsba[2]*this.maxes[h.HSB][2],", ",k,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*k).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[h.HSL][0],", ",this.hsla[1]*this.maxes[h.HSL][1],", ",this.hsla[2]*this.maxes[h.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[h.HSL][0],", ",this.hsla[1]*this.maxes[h.HSL][1],", ",this.hsla[2]*this.maxes[h.HSL][2],", ",k,")");case"hsla%":return this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*k).toPrecision(3),"%)");default:return"rgba(".concat(j[0],",",j[1],",",j[2],",",k,")")}}},{key:"setRed",value:function(P){this._array[0]=P/this.maxes[h.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(P){this._array[1]=P/this.maxes[h.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(P){this._array[2]=P/this.maxes[h.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(P){this._array[3]=P/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var P=this._array,j=this.levels=new Array(P.length),V=P.length-1;0<=V;--V)j[V]=Math.round(255*P[V]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(P,j){this.mode=P,this.maxes=j}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[h.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[h.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[h.RGB][1]}},{key:"_getHue",value:function(){return this.mode===h.HSB?(this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[h.HSB][0]):(this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[h.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[h.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[h.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===h.HSB?(this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[h.HSB][1]):(this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[h.HSL][1])}}])&&l(O.prototype,$),N&&l(O,N),y}(),S.default=p=f.default.Color},{"../core/constants":269,"../core/main":280,"./color_conversion":265,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],268:[function(r,W,S){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(a)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.fill"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(w=r("../core/main"))&&w.__esModule?w:{default:w},h=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var l=x();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(r("../core/constants"));function x(){var a;return"function"!=typeof WeakMap?null:(x=function(){return a},a=new WeakMap)}r("./p5.Color"),f.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},f.default.prototype.endClip=function(){this._renderer.endClip()},f.default.prototype.clip=function(a,l){this._renderer.beginClip(l),a(),this._renderer.endClip(l)},f.default.prototype.background=function(){var a;return(a=this._renderer).background.apply(a,arguments),this},f.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},f.default.prototype.colorMode=function(a,l,d,u,c){return f.default._validateParameters("colorMode",arguments),a!==h.RGB&&a!==h.HSB&&a!==h.HSL||(this._colorMode=a,a=this._colorMaxes[a],2===arguments.length?(a[0]=l,a[1]=l,a[2]=l,a[3]=l):4===arguments.length?(a[0]=l,a[1]=d,a[2]=u):5===arguments.length&&(a[0]=l,a[1]=d,a[2]=u,a[3]=c)),this},f.default.prototype.fill=function(){var a;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(a=this._renderer).fill.apply(a,arguments),this},f.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},f.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},f.default.prototype.stroke=function(){var a;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(a=this._renderer).stroke.apply(a,arguments),this},f.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this},f.default.prototype.noErase=function(){return this._renderer.noErase(),this};var w=f.default;S.default=w},{"../core/constants":269,"../core/main":280,"./p5.Color":267,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],269:[function(r,W,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.QUADRATIC=S.LINEAR=S._CTX_MIDDLE=S._DEFAULT_LEADMULT=S._DEFAULT_TEXT_FILL=S.WORD=S.CHAR=S.BOLDITALIC=S.BOLD=S.ITALIC=S.NORMAL=S.BLUR=S.ERODE=S.DILATE=S.POSTERIZE=S.INVERT=S.OPAQUE=S.GRAY=S.THRESHOLD=S.BURN=S.DODGE=S.SOFT_LIGHT=S.HARD_LIGHT=S.OVERLAY=S.REPLACE=S.SCREEN=S.MULTIPLY=S.EXCLUSION=S.SUBTRACT=S.DIFFERENCE=S.LIGHTEST=S.DARKEST=S.ADD=S.REMOVE=S.BLEND=S.UP_ARROW=S.TAB=S.SHIFT=S.RIGHT_ARROW=S.RETURN=S.OPTION=S.LEFT_ARROW=S.ESCAPE=S.ENTER=S.DOWN_ARROW=S.DELETE=S.CONTROL=S.BACKSPACE=S.ALT=S.AUTO=S.HSL=S.HSB=S.RGB=S.MITER=S.BEVEL=S.ROUND=S.SQUARE=S.PROJECT=S.PIE=S.CHORD=S.OPEN=S.CLOSE=S.TESS=S.QUAD_STRIP=S.QUADS=S.TRIANGLE_STRIP=S.TRIANGLE_FAN=S.TRIANGLES=S.LINE_LOOP=S.LINE_STRIP=S.LINES=S.POINTS=S.BASELINE=S.BOTTOM=S.TOP=S.CENTER=S.LEFT=S.RIGHT=S.RADIUS=S.CORNERS=S.CORNER=S.RAD_TO_DEG=S.DEG_TO_RAD=S.RADIANS=S.DEGREES=S.TWO_PI=S.TAU=S.QUARTER_PI=S.PI=S.HALF_PI=S.WAIT=S.TEXT=S.MOVE=S.HAND=S.CROSS=S.ARROW=S.WEBGL2=S.WEBGL=S.P2D=S.VERSION=void 0,S.RGBA=S.HALF_FLOAT=S.FLOAT=S.UNSIGNED_INT=S.UNSIGNED_BYTE=S.COVER=S.CONTAIN=S.FALLBACK=S.LABEL=S.AXES=S.GRID=S._DEFAULT_FILL=S._DEFAULT_STROKE=S.PORTRAIT=S.LANDSCAPE=S.SMOOTH=S.FLAT=S.MIRROR=S.CLAMP=S.REPEAT=S.NEAREST=S.IMAGE=S.IMMEDIATE=S.TEXTURE=S.FILL=S.STROKE=S.CURVE=S.BEZIER=void 0;var v=Math.PI,_=(S.VERSION="1.9.2",S.P2D="p2d",S.WEBGL="webgl",S.WEBGL2="webgl2",S.ARROW="default",S.CROSS="crosshair",S.HAND="pointer",S.MOVE="move",S.TEXT="text",S.WAIT="wait",v/2);S.HALF_PI=_,S.PI=_=v,S.QUARTER_PI=_=v/4,S.TAU=_=2*v,S.TWO_PI=_=2*v,S.DEGREES="degrees",S.RADIANS="radians",S.DEG_TO_RAD=_=v/180,S.RAD_TO_DEG=_=180/v,S.CORNER="corner",S.CORNERS="corners",S.RADIUS="radius",S.RIGHT="right",S.LEFT="left",S.CENTER="center",S.TOP="top",S.BOTTOM="bottom",S.BASELINE="alphabetic",S.POINTS=0,S.LINES=1,S.LINE_STRIP=3,S.LINE_LOOP=2,S.TRIANGLES=4,S.TRIANGLE_FAN=6,S.TRIANGLE_STRIP=5,S.QUADS="quads",S.QUAD_STRIP="quad_strip",S.TESS="tess",S.CLOSE="close",S.OPEN="open",S.CHORD="chord",S.PIE="pie",S.PROJECT="square",S.SQUARE="butt",S.ROUND="round",S.BEVEL="bevel",S.MITER="miter",S.RGB="rgb",S.HSB="hsb",S.HSL="hsl",S.AUTO="auto",S.ALT=18,S.BACKSPACE=8,S.CONTROL=17,S.DELETE=46,S.DOWN_ARROW=40,S.ENTER=13,S.ESCAPE=27,S.LEFT_ARROW=37,S.OPTION=18,S.RETURN=13,S.RIGHT_ARROW=39,S.SHIFT=16,S.TAB=9,S.UP_ARROW=38,S.BLEND="source-over",S.REMOVE="destination-out",S.ADD="lighter",S.DARKEST="darken",S.LIGHTEST="lighten",S.DIFFERENCE="difference",S.SUBTRACT="subtract",S.EXCLUSION="exclusion",S.MULTIPLY="multiply",S.SCREEN="screen",S.REPLACE="copy",S.OVERLAY="overlay",S.HARD_LIGHT="hard-light",S.SOFT_LIGHT="soft-light",S.DODGE="color-dodge",S.BURN="color-burn",S.THRESHOLD="threshold",S.GRAY="gray",S.OPAQUE="opaque",S.INVERT="invert",S.POSTERIZE="posterize",S.DILATE="dilate",S.ERODE="erode",S.BLUR="blur",S.NORMAL="normal",S.ITALIC="italic",S.BOLD="bold",S.BOLDITALIC="bold italic",S.CHAR="CHAR",S.WORD="WORD",S._DEFAULT_TEXT_FILL="#000000",S._DEFAULT_LEADMULT=1.25,S._CTX_MIDDLE="middle",S.LINEAR="linear",S.QUADRATIC="quadratic",S.BEZIER="bezier",S.CURVE="curve",S.STROKE="stroke",S.FILL="fill",S.TEXTURE="texture",S.IMMEDIATE="immediate",S.IMAGE="image",S.NEAREST="nearest",S.REPEAT="repeat",S.CLAMP="clamp",S.MIRROR="mirror",S.FLAT="flat",S.SMOOTH="smooth",S.LANDSCAPE="landscape",S.PORTRAIT="portrait",S._DEFAULT_STROKE="#000000",S._DEFAULT_FILL="#FFFFFF",S.GRID="grid",S.AXES="axes",S.LABEL="label",S.FALLBACK="fallback",S.CONTAIN="contain",S.COVER="cover",S.UNSIGNED_BYTE="unsigned-byte",S.UNSIGNED_INT="unsigned-int",S.FLOAT="float",S.HALF_FLOAT="half-float",S.RGBA="rgba"},{}],270:[function(r,W,S){"use strict";function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(c)}function _(c){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(s){return v(s)}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":v(s)})(c)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.search"),r("core-js/modules/es.string.split"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.search"),r("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(h=r("./main"))&&h.__esModule?h:{default:h},h=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==_(c)&&"function"!=typeof c)return{default:c};var s=x();if(s&&s.has(c))return s.get(c);var m,p={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in c){var O;Object.prototype.hasOwnProperty.call(c,m)&&((O=y?Object.getOwnPropertyDescriptor(c,m):null)&&(O.get||O.set)?Object.defineProperty(p,m,O):p[m]=c[m])}return p.default=c,s&&s.set(c,p),p}(r("./constants"));function x(){var c;return"function"!=typeof WeakMap?null:(x=function(){return c},c=new WeakMap)}var w=[h.ARROW,h.CROSS,h.HAND,h.MOVE,h.TEXT,h.WAIT],a=(f.default.prototype._frameRate=0,f.default.prototype._lastFrameTime=window.performance.now(),f.default.prototype._targetFrameRate=60,window.print),l=!1;function d(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function u(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}f.default.prototype.print=function(){var c;arguments.length?(c=console).log.apply(c,arguments):l||(a(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(l=!0))},f.default.prototype.frameCount=0,f.default.prototype.deltaTime=0,f.default.prototype.focused=document.hasFocus(),f.default.prototype.cursor=function(c,s,m){var p,y="auto",O=this._curElement.elt;w.includes(c)?y=c:"string"==typeof c&&(p="",s&&m&&"number"==typeof s&&"number"==typeof m&&(p="".concat(s," ").concat(m)),y="http://"===c.substring(0,7)||"https://"===c.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(c)?"url(".concat(c,") ").concat(p,", auto"):c),O.style.cursor=y},f.default.prototype.frameRate=function(c){return f.default._validateParameters("frameRate",arguments),"number"!=typeof c||c<0?this._frameRate:(this._setProperty("_targetFrameRate",c),0===c&&this._setProperty("_frameRate",c),this)},f.default.prototype.getFrameRate=function(){return this.frameRate()},f.default.prototype.setFrameRate=function(c){return this.frameRate(c)},f.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},f.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},f.default.prototype.webglVersion=h.P2D,f.default.prototype.displayWidth=screen.width,f.default.prototype.displayHeight=screen.height,f.default.prototype.windowWidth=d(),f.default.prototype.windowHeight=u(),f.default.prototype._onresize=function(c){this._setProperty("windowWidth",d()),this._setProperty("windowHeight",u());var s=this._isGlobal?window:this;"function"!=typeof s.windowResized||void 0===(s=s.windowResized(c))||s||c.preventDefault()},f.default.prototype.width=0,f.default.prototype.height=0,f.default.prototype.fullscreen=function(c){if(f.default._validateParameters("fullscreen",arguments),void 0===c)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(c){if(c=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");c.requestFullscreen?c.requestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.webkitRequestFullscreen?c.webkitRequestFullscreen():c.msRequestFullscreen&&c.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},f.default.prototype.pixelDensity=function(c){var s;return f.default._validateParameters("pixelDensity",arguments),"number"==typeof c?(c!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=c),(s=this).resizeCanvas(this.width,this.height,!0)):s=this._pixelDensity,s},f.default.prototype.displayDensity=function(){return window.devicePixelRatio},f.default.prototype.getURL=function(){return location.href},f.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(c){return""!==c})},f.default.prototype.getURLParams=function(){for(var c,s=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,m={};null!=(c=s.exec(location.search));)c.index===s.lastIndex&&s.lastIndex++,m[c[1]]=c[2];return m},S.default=r=f.default},{"./constants":269,"./main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.search":202,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],271:[function(r,W,S){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-own-property-names"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.starts-with"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-own-property-names"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.starts-with"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(w=r("../main"))&&w.__esModule?w:{default:w};function _(a,l){l=l||console.log.bind(console),f||x(),f.some(function(d){var u;if(a.message&&null!==a.message.match("\\W?".concat(d.name,"\\W")))return u="function"===d.type?"".concat(d.name,"()"):d.name,l("Did you just try to use p5.js's ".concat(u," ").concat(d.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(h)),!0})}r("../internationalization");var f=null,x=null,h=(v.default._friendlyError=v.default._checkForUserDefinedFunctions=v.default._fesErrorMonitor=function(){},f=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),w=(x=function(){function a(d){return Object.getOwnPropertyNames(d).filter(function(u){return"_"!==u[0]&&!(u in l)&&(l[u]=!0)}).map(function(u){var c="function"==typeof d[u]?"function":u===u.toUpperCase()?"constant":"variable";return{name:u,type:c}})}var l={};(f=[].concat(a(v.default.prototype),a(r("../constants")))).sort(function(d,u){return u.name.length-d.name.length})},v.default.prototype._helpForMisusedAtTopLevelCode=_,"complete"!==document.readyState&&(window.addEventListener("error",_,!1),window.addEventListener("load",function(){window.removeEventListener("error",_,!1)})),v.default);S.default=w},{"../constants":269,"../internationalization":278,"../main":280,"./browser_errors":void 0,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.function.name":173,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-names":184,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.starts-with":204,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],272:[function(r,W,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(v=r("../main"))&&v.__esModule?v:{default:v};r("../internationalization"),v.default._friendlyFileLoadError=function(){},S.default=r=v.default},{"../internationalization":278,"../main":280}],273:[function(r,W,S){"use strict";function v(R){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(se){return typeof se}:function(se){return se&&"function"==typeof Symbol&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se})(R)}function _(R){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(se){return v(se)}:function(se){return se&&"function"==typeof Symbol&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":v(se)})(R)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=function J(R){return R&&R.__esModule?R:{default:R}}(r("../main"));function z(){var R;return"function"!=typeof WeakMap?null:(z=function(){return R},R=new WeakMap)}r("../internationalization"),function te(R){if(R&&R.__esModule)return R;if(null===R||"object"!==_(R)&&"function"!=typeof R)return{default:R};var se=z();if(se&&se.has(R))return se.get(R);var pe,Ee,Ne={},We=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(pe in R)Object.prototype.hasOwnProperty.call(R,pe)&&((Ee=We?Object.getOwnPropertyDescriptor(R,pe):null)&&(Ee.get||Ee.set)?Object.defineProperty(Ne,pe,Ee):Ne[pe]=R[pe]);return Ne.default=R,se&&se.set(R,Ne),Ne}(r("../constants")),f.default._fesCodeReader=function(){},S.default=f.default},{"../constants":269,"../internationalization":278,"../main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],274:[function(r,W,S){"use strict";function v(){var _=/(^|@)\S+:\d+/,f=/^\s*at .*(\S+:\d+|\(native\))/m,h=/^(eval@)?(\[native code])?$/;return{parse:function(x){return void 0!==x.stacktrace||void 0!==x["opera#sourceloc"]?this.parseOpera(x):x.stack&&x.stack.match(f)?this.parseV8OrIE(x):x.stack?this.parseFFOrSafari(x):void 0},extractLocation:function(x){return-1===x.indexOf(":")?[x]:[(x=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(x.replace(/[()]/g,"")))[1],x[2]||void 0,x[3]||void 0]},parseV8OrIE:function(x){return x.stack.split("\n").filter(function(w){return!!w.match(f)},this).map(function(w){var l=(a=(w=-1<w.indexOf("(eval ")?w.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):w).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),a=(a=l?a.replace(l[0],""):a).split(/\s+/).slice(1);return l=this.extractLocation(l?l[1]:a.pop()),{functionName:a.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(l[0])?void 0:l[0],lineNumber:l[1],columnNumber:l[2],source:w}},this)},parseFFOrSafari:function(x){return x.stack.split("\n").filter(function(w){return!w.match(h)},this).map(function(w){var a,l;return-1===(w=-1<w.indexOf(" > eval")?w.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):w).indexOf("@")&&-1===w.indexOf(":")?{functionName:w}:{functionName:(l=w.match(a=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&l[1]?l[1]:void 0,fileName:(l=this.extractLocation(w.replace(a,"")))[0],lineNumber:l[1],columnNumber:l[2],source:w}},this)},parseOpera:function(x){return!x.stacktrace||-1<x.message.indexOf("\n")&&x.message.split("\n").length>x.stacktrace.split("\n").length?this.parseOpera9(x):x.stack?this.parseOpera11(x):this.parseOpera10(x)},parseOpera9:function(x){for(var w=/Line (\d+).*script (?:in )?(\S+)/i,a=x.message.split("\n"),l=[],d=2,u=a.length;d<u;d+=2){var c=w.exec(a[d]);c&&l.push({fileName:c[2],lineNumber:c[1],source:a[d]})}return l},parseOpera10:function(x){for(var w=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,a=x.stacktrace.split("\n"),l=[],d=0,u=a.length;d<u;d+=2){var c=w.exec(a[d]);c&&l.push({functionName:c[3]||void 0,fileName:c[2],lineNumber:c[1],source:a[d]})}return l},parseOpera11:function(x){return x.stack.split("\n").filter(function(w){return!!w.match(_)&&!w.match(/^Error created at/)},this).map(function(w){var a,d=w.split("@"),l=this.extractLocation(d.pop());return{functionName:(d=d.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(a=d.match(/\(([^)]*)\)/)?d.replace(/^[^(]+\(([^)]*)\)$/,"$1"):a)||"[arguments not available]"===a?void 0:a.split(","),fileName:l[0],lineNumber:l[1],columnNumber:l[2],source:w}},this)}}}r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(r=(r=r("../main"))&&r.__esModule?r:{default:r}).default._getErrorStackParser=function(){return new v},S.default=r=r.default},{"../main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203}],275:[function(r,W,S){"use strict";function v(x){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(x)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=(_=r("../main"))&&_.__esModule?_:{default:_};function f(){var x;return"function"!=typeof WeakMap?null:(f=function(){return x},x=new WeakMap)}function h(x){return(h="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(w){return v(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":v(w)})(x)}(function(x){if(!(x&&x.__esModule||null===x||"object"!==h(x)&&"function"!=typeof x)){var w=f();if(w&&w.has(x))return w.get(x);var a,l={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in x){var u;Object.prototype.hasOwnProperty.call(x,a)&&((u=d?Object.getOwnPropertyDescriptor(x,a):null)&&(u.get||u.set)?Object.defineProperty(l,a,u):l[a]=x[a])}l.default=x,w&&w.set(x,l)}})(r("../constants")),r("../internationalization"),_.default._validateParameters=_.default._clearValidateParamsCache=function(){},S.default=r=_.default},{"../../../docs/parameterData.json":void 0,"../constants":269,"../internationalization":278,"../main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.function.name":173,"core-js/modules/es.map":174,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],276:[function(r,W,S){"use strict";function v(x){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(x)}function _(x){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(w){return v(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":v(w)})(x)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=function(x){if(x&&x.__esModule)return x;if(null===x||"object"!==_(x)&&"function"!=typeof x)return{default:x};var w=h();if(w&&w.has(x))return w.get(x);var a,l={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in x){var u;Object.prototype.hasOwnProperty.call(x,a)&&((u=d?Object.getOwnPropertyDescriptor(x,a):null)&&(u.get||u.set)?Object.defineProperty(l,a,u):l[a]=x[a])}return l.default=x,w&&w.set(x,l),l}(r("./constants"));function h(){var x;return"function"!=typeof WeakMap?null:(h=function(){return x},x=new WeakMap)}S.default={modeAdjust:function(x,w,a,l,d){return d===f.CORNER?{x,y:w,w:a,h:l}:d===f.CORNERS?{x,y:w,w:a-x,h:l-w}:d===f.RADIUS?{x:x-a,y:w-l,w:2*a,h:2*l}:d===f.CENTER?{x:x-.5*a,y:w-.5*l,w:a,h:l}:void 0}}},{"./constants":269,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],277:[function(r,W,S){"use strict";r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator");var v=(_=r("../core/main"))&&_.__esModule?_:{default:_};r("./internationalization");var _=Promise.resolve();Promise.all([new Promise(function(f,h){"complete"===document.readyState?f():window.addEventListener("load",f,!1)}),_]).then(function(){void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!v.default.instance&&new v.default})},{"../core/main":280,"./internationalization":278,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.string.iterator":197,"core-js/modules/web.dom-collections.iterator":243}],278:[function(r,W,S){"use strict";r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.setTranslatorLanguage=S.currentTranslatorLanguage=S.availableTranslatorLanguages=S.initialize=S.translator=void 0;var v,f=x(r("i18next")),h=x(r("i18next-browser-languagedetector"));function x(l){return l&&l.__esModule?l:{default:l}}function w(l,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}var a=function(){function l(s,m){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.init(s,m)}var d,u;return d=l,(u=[{key:"fetchWithTimeout",value:function(s,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3;return Promise.race([fetch(s,m),new Promise(function(y,O){return setTimeout(function(){return O(new Error("timeout"))},p)})])}},{key:"init",value:function(s){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.services=s,this.options=m}},{key:"read",value:function(s,m,p){var y=this.options.loadPath;s===this.options.fallback?p(null,v[s][m]):undefined.includes(s)?(y=this.services.interpolator.interpolate(y,{lng:s,ns:m}),this.loadUrl(y,p)):p("Not found",!1)}},{key:"loadUrl",value:function(s,m){this.fetchWithTimeout(s).then(function(p){if(p.ok)return p.json();throw new Error("failed loading ".concat(s))},function(){throw new Error("failed loading ".concat(s))}).then(function(p){return m(null,p)}).catch(m)}}])&&w(d.prototype,u),l}();a.type="backend",S.translator=function(l,d){console.debug("p5.js translator called before translations were loaded"),f.default.t(l,d)},S.initialize=function(){return f.default.use(h.default).use(a).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:v}).then(function(l){S.translator=l},function(l){return console.debug("Translations failed to load (".concat(l,")"))})},S.availableTranslatorLanguages=function(){return f.default.languages},S.currentTranslatorLanguage=function(l){return f.default.language},S.setTranslatorLanguage=function(l){return f.default.changeLanguage(l||void 0,function(d){return console.debug("Translations failed to load (".concat(d,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/web.dom-collections.iterator":243,i18next:3,"i18next-browser-languagedetector":3}],279:[function(r,W,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(r=(r=r("./main"))&&r.__esModule?r:{default:r}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},r.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},r.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},r.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},S.default=r=r.default},{"./main":280}],280:[function(r,W,S){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function _(l){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(l)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-own-property-names"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.get-own-property-names"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,r("./shim");var f=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==_(l)&&"function"!=typeof l)return{default:l};var d=h();if(d&&d.has(l))return d.get(l);var u,c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var m;Object.prototype.hasOwnProperty.call(l,u)&&((m=s?Object.getOwnPropertyDescriptor(l,u):null)&&(m.get||m.set)?Object.defineProperty(c,u,m):c[u]=l[u])}return c.default=l,d&&d.set(l,c),c}(r("./constants"));function h(){var l;return"function"!=typeof WeakMap?null:(h=function(){return l},l=new WeakMap)}function x(l,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}var w,a=function(){function l(s,y){var p=this;if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=y,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},y=Object.getOwnPropertyNames(l.prototype._registeredMethods);var O=!0,$=!1,N=void 0;try{for(var P,j=y[Symbol.iterator]();!(O=(P=j.next()).done);O=!0){var V=P.value;this._registeredMethods[V]=l.prototype._registeredMethods[V].slice()}}catch(q){$=!0,N=q}finally{try{O||null==j.return||j.return()}finally{if($)throw N}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),l.prototype.callRegisteredHooksFor=function(q){var ne=this||l.prototype,de=this._isGlobal?window:this;if(ne._registeredMethods.hasOwnProperty(q)){ne=ne._registeredMethods[q];var De=!0,Y=void(q=!1);try{for(var R,se=ne[Symbol.iterator]();!(De=(R=se.next()).done);De=!0){var pe=R.value;"function"==typeof pe&&pe.call(de)}}catch(We){q=!0,Y=We}finally{try{De||null==se.return||se.return()}finally{if(q)throw Y}}}},this._start=function(){p._userNode&&"string"==typeof p._userNode&&(p._userNode=document.getElementById(p._userNode));var q=p._isGlobal?window:p;if(q.preload){p.callRegisteredHooksFor("beforePreload");var ne,de=document.getElementById(p._loadingScreenId),De=(de||((de=document.createElement("div")).innerHTML="Loading...",de.style.position="absolute",de.id=p._loadingScreenId,(p._userNode||document.body).appendChild(de)),p._preloadMethods);for(ne in De){De[ne]=De[ne]||l;var Y=De[ne];Y!==l.prototype&&Y!==l||(p._isGlobal&&(window[ne]=p._wrapPreload(p,ne)),Y=p),p._registeredPreloadMethods[ne]=Y[ne],Y[ne]=p._wrapPreload(Y,ne)}q.preload(),p._runIfPreloadsAreDone()}else p._setup(),p._recording||p._draw()},this._runIfPreloadsAreDone=function(){var q,ne=this._isGlobal?window:this;0===ne._preloadCount&&((q=document.getElementById(ne._loadingScreenId))&&q.parentNode.removeChild(q),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),ne._setup(),this._recording||ne._draw()))},this._decrementPreload=function(){var q=this._isGlobal?window:this;q._preloadDone||"function"!=typeof q.preload||(q._setProperty("_preloadCount",q._preloadCount-1),q._runIfPreloadsAreDone())},this._wrapPreload=function(q,ne){var de=this;return function(){de._incrementPreload();for(var De=arguments.length,Y=new Array(De),R=0;R<De;R++)Y[R]=arguments[R];return de._registeredPreloadMethods[ne].apply(q,Y)}},this._incrementPreload=function(){var q=this._isGlobal?window:this;q._preloadDone||q._setProperty("_preloadCount",q._preloadCount+1)},this._setup=function(){p.callRegisteredHooksFor("beforeSetup"),p.createCanvas(p._defaultCanvasSize.width,p._defaultCanvasSize.height,"p2d");var q=p._isGlobal?window:p;if("function"==typeof q.preload)for(var ne in p._preloadMethods)q[ne]=p._preloadMethods[ne][ne],q[ne]&&p&&(q[ne]=q[ne].bind(p));p._millisStart=window.performance.now(),q._preloadDone=!0,"function"==typeof q.setup&&q.setup();var de=document.getElementsByTagName("canvas"),De=!0,Y=!1,R=void 0;try{for(var se,pe=de[Symbol.iterator]();!(De=(se=pe.next()).done);De=!0){var Ee=se.value;"true"===Ee.dataset.hidden&&(Ee.style.visibility="",delete Ee.dataset.hidden)}}catch(Ne){Y=!0,R=Ne}finally{try{De||null==pe.return||pe.return()}finally{if(Y)throw R}}p._lastTargetFrameTime=window.performance.now(),p._lastRealFrameTime=window.performance.now(),p._setupDone=!0,(p._accessibleOutputs.grid||p._accessibleOutputs.text)&&p._updateAccsOutput(),p.callRegisteredHooksFor("afterSetup")},this._draw=function(){var q=window.performance.now(),de=1e3/p._targetFrameRate;(!p._loop||de-5<=q-p._lastTargetFrameTime)&&(p.deltaTime=q-p._lastRealFrameTime,p._setProperty("deltaTime",p.deltaTime),p._frameRate=1e3/p.deltaTime,p.redraw(),p._lastTargetFrameTime=Math.max(p._lastTargetFrameTime+de,q),p._lastRealFrameTime=q,void 0!==p._updateMouseCoords&&(p._updateMouseCoords(),p._setProperty("movedX",0),p._setProperty("movedY",0))),p._loop&&(p._requestAnimId=window.requestAnimationFrame(p._draw))},this._setProperty=function(q,ne){p[q]=ne,p._isGlobal&&(window[q]=ne)},this.remove=function(){if(p._startListener&&window.removeEventListener("load",p._startListener,!1),(q=document.getElementById(p._loadingScreenId))&&(q.parentNode.removeChild(q),p._incrementPreload()),p._curElement){for(var ne in p._loop=!1,p._requestAnimId&&window.cancelAnimationFrame(p._requestAnimId),p._events)window.removeEventListener(ne,p._events[ne]);var de=!0,q=!1,De=void 0;try{for(var Y,R=p._elements[Symbol.iterator]();!(de=(Y=R.next()).done);de=!0){var se,pe=Y.value;for(se in pe.elt&&pe.elt.parentNode&&pe.elt.parentNode.removeChild(pe.elt),pe._events)pe.elt.removeEventListener(se,pe._events[se])}}catch(Ae){q=!0,De=Ae}finally{try{de||null==R.return||R.return()}finally{if(q)throw De}}var Ee=p;p._registeredMethods.remove.forEach(function(Ae){void 0!==Ae&&Ae.call(Ee)})}if(p._isGlobal){for(var Ne in l.prototype)try{delete window[Ne]}catch{window[Ne]=void 0}for(var We in p)if(p.hasOwnProperty(We))try{delete window[We]}catch{window[We]=void 0}l.instance=null}},this._registeredMethods.init.forEach(function(q){void 0!==q&&q.call(this)},this),this._setupPromisePreloads();var k,E,T=this._createFriendlyGlobalFunctionBinder();if(s)s(this),l._checkForUserDefinedFunctions(this);else{for(var H in this._isGlobal=!0,l.instance=this,l.prototype)"function"==typeof l.prototype[H]?(k=H.substring(2),this._events.hasOwnProperty(k)||(Math.hasOwnProperty(H)&&Math[H]===l.prototype[H]?T(H,l.prototype[H]):T(H,l.prototype[H].bind(this)))):T(H,l.prototype[H]);for(var X in this)this.hasOwnProperty(X)&&T(X,this[X])}for(E in this._events){var z=this["_on".concat(E)];z&&(z=z.bind(this),window.addEventListener(E,z,{passive:!1}),this._events[E]=z)}function te(){p._setProperty("focused",!0)}function J(){p._setProperty("focused",!1)}window.addEventListener("focus",te),window.addEventListener("blur",J),this.registerMethod("remove",function(){window.removeEventListener("focus",te),window.removeEventListener("blur",J)}),"complete"===document.readyState?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var d,u;return d=l,(u=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=f.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(s,m){l.prototype._preloadMethods.hasOwnProperty(s)||(l.prototype._preloadMethods[s]=m)}},{key:"registerMethod",value:function(s,m){var p=this||l.prototype;p._registeredMethods.hasOwnProperty(s)||(p._registeredMethods[s]=[]),p._registeredMethods[s].push(m)}},{key:"unregisterMethod",value:function(s,m){var p=this||l.prototype;if(p._registeredMethods.hasOwnProperty(s)){for(var y=p._registeredMethods[s],O=[],$=0;$<y.length;$++)y[$]===m&&O.push($);for(var N=O.length-1;0<=N;N--)y.splice(O[N],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},m=s.globalObject||window;return s.log||console.log.bind(console),function(p,y){m[p]=y}}}])&&x(d.prototype,u),l}();for(w in a.instance=null,a.disableFriendlyErrors=!1,f)a.prototype[w]=f[w];a.VERSION=f.VERSION,a.prototype._preloadMethods={loadJSON:a.prototype,loadImage:a.prototype,loadStrings:a.prototype,loadXML:a.prototype,loadBytes:a.prototype,loadTable:a.prototype,loadFont:a.prototype,loadModel:a.prototype,loadShader:a.prototype},a.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},a.prototype._registeredPreloadMethods={},S.default=a},{"./constants":269,"./shim":291,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-own-property-names":184,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],281:[function(r,W,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(r=r("./main"))&&r.__esModule?r:{default:r};function _(f,h){for(var x=0;x<h.length;x++){var w=h[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}v.default.Element=function(){function f(a,l){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.elt=a,this._pInst=this._pixelsState=l,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var h,x,w;return h=f,w=[{key:"_adjustListener",value:function(a,l,d){return!1===l?v.default.Element._detachListener(a,d):v.default.Element._attachListener(a,l,d),this}},{key:"_attachListener",value:function(a,l,d){d._events[a]&&v.default.Element._detachListener(a,d),l=l.bind(d),d.elt.addEventListener(a,l,!1),d._events[a]=l}},{key:"_detachListener",value:function(a,l){l.elt.removeEventListener(a,l._events[a],!1),l._events[a]=null}}],(x=[{key:"parent",value:function(a){return void 0===a?this.elt.parentNode:("string"==typeof a?("#"===a[0]&&(a=a.substring(1)),a=document.getElementById(a)):a instanceof v.default.Element&&(a=a.elt),a.appendChild(this.elt),this)}},{key:"id",value:function(a){return void 0===a?this.elt.id:(this.elt.id=a,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(a){return void 0===a?this.elt.className:(this.elt.className=a,this)}},{key:"mousePressed",value:function(a){return v.default.Element._adjustListener("mousedown",function(l){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(l),a.call(this,l)},this),this}},{key:"doubleClicked",value:function(a){return v.default.Element._adjustListener("dblclick",a,this),this}},{key:"mouseWheel",value:function(a){return v.default.Element._adjustListener("wheel",a,this),this}},{key:"mouseReleased",value:function(a){return v.default.Element._adjustListener("mouseup",a,this),this}},{key:"mouseClicked",value:function(a){return v.default.Element._adjustListener("click",a,this),this}},{key:"mouseMoved",value:function(a){return v.default.Element._adjustListener("mousemove",a,this),this}},{key:"mouseOver",value:function(a){return v.default.Element._adjustListener("mouseover",a,this),this}},{key:"mouseOut",value:function(a){return v.default.Element._adjustListener("mouseout",a,this),this}},{key:"touchStarted",value:function(a){return v.default.Element._adjustListener("touchstart",a,this),this}},{key:"touchMoved",value:function(a){return v.default.Element._adjustListener("touchmove",a,this),this}},{key:"touchEnded",value:function(a){return v.default.Element._adjustListener("touchend",a,this),this}},{key:"dragOver",value:function(a){return v.default.Element._adjustListener("dragover",a,this),this}},{key:"dragLeave",value:function(a){return v.default.Element._adjustListener("dragleave",a,this),this}},{key:"_setProperty",value:function(a,l){this[a]=l}}])&&_(h.prototype,x),w&&_(h,w),f}(),S.default=r=v.default.Element},{"./main":280}],282:[function(r,W,S){"use strict";function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}function _(m){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(p){return v(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":v(p)})(m)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(s=r("./main"))&&s.__esModule?s:{default:s},h=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==_(m)&&"function"!=typeof m)return{default:m};var p=x();if(p&&p.has(m))return p.get(m);var y,O={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in m){var N;Object.prototype.hasOwnProperty.call(m,y)&&((N=$?Object.getOwnPropertyDescriptor(m,y):null)&&(N.get||N.set)?Object.defineProperty(O,y,N):O[y]=m[y])}return O.default=m,p&&p.set(m,O),O}(r("./constants"));function x(){var m;return"function"!=typeof WeakMap?null:(x=function(){return m},m=new WeakMap)}function w(m,p){for(var y=0;y<p.length;y++){var O=p[y];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}function a(m,p){return(a=Object.setPrototypeOf||function(y,O){return y.__proto__=O,y})(m,p)}function d(m,p){return!p||"object"!==_(p)&&"function"!=typeof p?u(m):p}function u(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function c(m){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(m)}f.default.Graphics=function(m){var p=$;if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),m&&a(p,m);var O=function l(m){return function(){var p,y=c(m);return d(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=c(this).constructor,Reflect.construct(y,arguments,p)):y.apply(this,arguments))}}($);function $(N,P,X,V,k){var E;if(!(this instanceof $))throw new TypeError("Cannot call a class as a function");H=k||document.createElement("canvas"),(E=O.call(this,H,V)).canvas=H;var T,H=X||h.P2D;for(T in X=V._userNode||document.body,k||X.appendChild(E.canvas),f.default.prototype)E[T]||(E[T]="function"==typeof f.default.prototype[T]?f.default.prototype[T].bind(u(E)):f.default.prototype[T]);return f.default.prototype._initializeInstanceVariables.apply(u(E)),E.width=N,E.height=P,E._pixelDensity=V._pixelDensity,H===h.WEBGL?(E._renderer=new f.default.RendererGL(E.canvas,u(E),!1),N=(k=E._renderer._adjustDimensions(N,P)).adjustedWidth,P=k.adjustedHeight):E._renderer=new f.default.Renderer2D(E.canvas,u(E),!1),V._elements.push(u(E)),Object.defineProperty(u(E),"deltaTime",{get:function(){return this._pInst.deltaTime}}),E._renderer.resize(N,P),E._renderer._applyDefaults(),d(E,u(E))}return p=$,(m=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var N,P=this._pInst._elements.indexOf(this);for(N in-1!==P&&this._pInst._elements.splice(P,1),this._events)this.elt.removeEventListener(N,this._events[N])}},{key:"createFramebuffer",value:function(N){return new f.default.Framebuffer(this,N)}}])&&w(p.prototype,m),$}(f.default.Element);var s=f.default.Graphics;S.default=s},{"./constants":269,"./main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],283:[function(r,W,S){"use strict";function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=(c=r("./main"))&&c.__esModule?c:{default:c},f=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==x(m)&&"function"!=typeof m)return{default:m};var p=h();if(p&&p.has(m))return p.get(m);var y,O={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in m){var N;Object.prototype.hasOwnProperty.call(m,y)&&((N=$?Object.getOwnPropertyDescriptor(m,y):null)&&(N.get||N.set)?Object.defineProperty(O,y,N):O[y]=m[y])}return O.default=m,p&&p.set(m,O),O}(r("../core/constants"));function h(){var m;return"function"!=typeof WeakMap?null:(h=function(){return m},m=new WeakMap)}function x(m){return(x="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(p){return v(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":v(p)})(m)}function w(m,p){for(var y=0;y<p.length;y++){var O=p[y];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}function a(m,p){return(a=Object.setPrototypeOf||function(y,O){return y.__proto__=O,y})(m,p)}function d(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function u(m){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(m)}var c=function(m){var p=$;if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),m&&a(p,m);var O=function l(m){return function(){var p,y,O=u(m);return p=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(p=u(this).constructor,Reflect.construct(O,arguments,p)):O.apply(this,arguments),O=this,!(y=p)||"object"!==x(y)&&"function"!=typeof y?d(O):y}}($);function $(N,P,j){var V;if(this instanceof $)return(V=O.call(this,N,P)).canvas=N,V._pixelsState=P,j?(V._isMainCanvas=!0,V._pInst._setProperty("_curElement",d(V)),V._pInst._setProperty("canvas",V.canvas),V._pInst._setProperty("width",V.width),V._pInst._setProperty("height",V.height)):(V.canvas.style.display="none",V._styles=[]),V._clipping=!1,V._clipInvert=!1,V._textSize=12,V._textLeading=15,V._textFont="sans-serif",V._textStyle=f.NORMAL,V._textAscent=null,V._textDescent=null,V._textAlign=f.LEFT,V._textBaseline=f.BASELINE,V._textWrap=f.WORD,V._rectMode=f.CORNER,V._ellipseMode=f.CENTER,V._curveTightness=0,V._imageMode=f.CORNER,V._tint=null,V._doStroke=!0,V._doFill=!0,V._strokeSet=!1,V._fillSet=!1,V._leadingSet=!1,V._pushPopDepth=0,V;throw new TypeError("Cannot call a class as a function")}return p=$,(m=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(N){this._pushPopDepth--,N.properties&&Object.assign(this,N.properties)}},{key:"beginClip",value:function(){var N=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=N.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(N,P){this.width=N,this.height=P,this.elt.width=N*this._pInst._pixelDensity,this.elt.height=P*this._pInst._pixelDensity,this.elt.style.width="".concat(N,"px"),this.elt.style.height="".concat(P,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(N,P,j,V){var k=this._pixelsState,E=k._pixelDensity,T=this.canvas;if(void 0===N&&void 0===P)N=P=0,j=k.width,V=k.height;else if(N*=E,P*=E,void 0===j&&void 0===V)return N<0||P<0||N>=T.width||P>=T.height?[0,0,0,0]:this._getPixel(N,P);return(k=new _.default.Image(j*E,V*E)).pixelDensity(E),k.canvas.getContext("2d").drawImage(T,N,P,j*E,V*E,0,0,j*E,V*E),k}},{key:"textLeading",value:function(N){return"number"==typeof N?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",N),this._pInst):this._textLeading}},{key:"textStyle",value:function(N){return N?(N!==f.NORMAL&&N!==f.ITALIC&&N!==f.BOLD&&N!==f.BOLDITALIC||this._setProperty("_textStyle",N),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(N,P){return void 0!==N?(this._setProperty("_textAlign",N),void 0!==P&&this._setProperty("_textBaseline",P),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(N){return this._setProperty("_textWrap",N),this._textWrap}},{key:"text",value:function(N,P,j,V,k){var E,T,H,X,z=this._pInst,te=this._textWrap,J=Number.MAX_VALUE,q=j;if((this._doFill||this._doStroke)&&void 0!==N){if(E=(N=(N="string"!=typeof N?N.toString():N).replace(/(\t)/g,"  ")).split("\n"),void 0!==V){switch(this._rectMode===f.CENTER&&(P-=V/2),this._textAlign){case f.CENTER:P+=V/2;break;case f.RIGHT:P+=V}if(void 0!==k){this._rectMode===f.CENTER&&(j-=k/2,q-=k/2),N=j;var ne=z.textAscent();switch(this._textBaseline){case f.BOTTOM:X=j+k,j=Math.max(X,j),q+=ne;break;case f.CENTER:X=j+k/2,j=Math.max(X,j),q+=ne/2}J=j+k-ne,this._textBaseline===f.CENTER&&(J=N+k-ne/2)}else this._textBaseline!==f.BOTTOM&&this._textBaseline!==f.CENTER||(q=j-(N=z.textSize()*this._textLeading)/2,J=j+N/2);if(te===f.WORD){for(var de=[],De=0;De<E.length;De++){for(var Y="",R=E[De].split(" "),se=0;se<R.length;se++)T="".concat(Y+R[se])+" ",Y=V<(H=this.textWidth(T))&&0<Y.length?(de.push(Y),"".concat(R[se])+" "):T;de.push(Y)}var pe=0;this._textBaseline===f.CENTER?pe=(de.length-1)*z.textLeading()/2:this._textBaseline===f.BOTTOM&&(pe=(de.length-1)*z.textLeading());for(var Ee=0;Ee<E.length;Ee++){Y="",R=E[Ee].split(" ");for(var Ne=0;Ne<R.length;Ne++)T="".concat(Y+R[Ne])+" ",V<(H=this.textWidth(T))&&0<Y.length?(this._renderText(z,Y.trim(),P,j-pe,J,q),Y="".concat(R[Ne])+" ",j+=z.textLeading()):Y=T;this._renderText(z,Y.trim(),P,j-pe,J,q),j+=z.textLeading()}}else{for(var We=[],et=0;et<E.length;et++)for(var Ae=E[et].split(Y=""),Be=0;Be<Ae.length;Be++)T="".concat(Y+Ae[Be]),(H=this.textWidth(T))<=V?Y+=Ae[Be]:V<H&&0<Y.length&&(We.push(Y),Y="".concat(Ae[Be]));We.push(Y);var Fe=0;this._textBaseline===f.CENTER?Fe=(We.length-1)*z.textLeading()/2:this._textBaseline===f.BOTTOM&&(Fe=(We.length-1)*z.textLeading());for(var Oe=0;Oe<E.length;Oe++){Ae=E[Oe].split(Y="");for(var Ze=0;Ze<Ae.length;Ze++)T="".concat(Y+Ae[Ze]),(H=this.textWidth(T))<=V?Y+=Ae[Ze]:V<H&&0<Y.length&&(this._renderText(z,Y.trim(),P,j-Fe,J,q),j+=z.textLeading(),Y="".concat(Ae[Ze]))}this._renderText(z,Y.trim(),P,j-Fe,J,q),j+=z.textLeading()}}else{var Qe=0;this._textBaseline===f.CENTER?Qe=(E.length-1)*z.textLeading()/2:this._textBaseline===f.BOTTOM&&(Qe=(E.length-1)*z.textLeading());for(var vt=0;vt<E.length;vt++)this._renderText(z,E[vt],P,j-Qe,J,q-Qe),j+=z.textLeading()}return z}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var N=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===x(N)&&N.font&&N.font.supported}},{key:"_updateTextMetrics",value:function(){var N,P,j,V,k,E;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((N=document.createElement("span")).style.fontFamily=this._textFont,N.style.fontSize="".concat(this._textSize,"px"),N.innerHTML="ABCjgq|",(E=document.createElement("div")).style.display="inline-block",E.style.width="1px",E.style.height="0px",(P=document.createElement("div")).appendChild(N),P.appendChild(E),P.style.height="0px",P.style.overflow="hidden",document.body.appendChild(P),E.style.verticalAlign="baseline",V=s(E),k=s(N),j=V[1]-k[1],E.style.verticalAlign="bottom",V=s(E),k=s(N),E=V[1]-k[1]-j,document.body.removeChild(P),this._setProperty("_textAscent",j),this._setProperty("_textDescent",E)),this}}])&&w(p.prototype,m),$}(_.default.Element);function s(m){var p=0,y=0;if(m.offsetParent)for(;p+=m.offsetLeft,y+=m.offsetTop,m=m.offsetParent;);else p+=m.offsetLeft,y+=m.offsetTop;return[p,y]}c.prototype.textSize=function(m){return"number"==typeof m?(this._setProperty("_textSize",m),this._leadingSet||this._setProperty("_textLeading",m*f._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},_.default.Renderer=c,S.default=r=_.default.Renderer},{"../core/constants":269,"./main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],284:[function(m,W,S){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}function _(p){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(y){return v(y)}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":v(y)})(p)}m("core-js/modules/es.symbol"),m("core-js/modules/es.symbol.description"),m("core-js/modules/es.symbol.iterator"),m("core-js/modules/es.array.concat"),m("core-js/modules/es.array.fill"),m("core-js/modules/es.array.for-each"),m("core-js/modules/es.array.iterator"),m("core-js/modules/es.array.join"),m("core-js/modules/es.array.slice"),m("core-js/modules/es.function.name"),m("core-js/modules/es.number.to-fixed"),m("core-js/modules/es.object.get-own-property-descriptor"),m("core-js/modules/es.object.get-prototype-of"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.reflect.construct"),m("core-js/modules/es.reflect.get"),m("core-js/modules/es.regexp.exec"),m("core-js/modules/es.regexp.to-string"),m("core-js/modules/es.string.iterator"),m("core-js/modules/es.weak-map"),m("core-js/modules/web.dom-collections.iterator"),m("core-js/modules/es.array.concat"),m("core-js/modules/es.array.fill"),m("core-js/modules/es.array.for-each"),m("core-js/modules/es.array.join"),m("core-js/modules/es.array.slice"),m("core-js/modules/es.function.name"),m("core-js/modules/es.number.to-fixed"),m("core-js/modules/es.object.get-prototype-of"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.regexp.exec"),m("core-js/modules/es.regexp.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(s=m("./main"))&&s.__esModule?s:{default:s},h=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==_(p)&&"function"!=typeof p)return{default:p};var y=x();if(y&&y.has(p))return y.get(p);var O,$={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in p){var P;Object.prototype.hasOwnProperty.call(p,O)&&((P=N?Object.getOwnPropertyDescriptor(p,O):null)&&(P.get||P.set)?Object.defineProperty($,O,P):$[O]=p[O])}return $.default=p,y&&y.set(p,$),$}(m("./constants"));function x(){var p;return"function"!=typeof WeakMap?null:(x=function(){return p},p=new WeakMap)}function w(p,y){for(var O=0;O<y.length;O++){var $=y[O];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(p,$.key,$)}}function a(p,y,O){return(a=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(j,N,P){if(j=function(V,k){for(;!Object.prototype.hasOwnProperty.call(V,k)&&null!==(V=u(V)););return V}(j,N))return(j=Object.getOwnPropertyDescriptor(j,N)).get?j.get.call(P):j.value})(p,y,O||p)}function l(p,y){return(l=Object.setPrototypeOf||function(O,$){return O.__proto__=$,O})(p,y)}function u(p){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(p)}m("./p5.Renderer");var c="rgba(0,0,0,0)",s=function(p){var y=N;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),p&&l(y,p);var $=function d(p){return function(){var y,O=u(p);if(y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(y=u(this).constructor,Reflect.construct(O,arguments,y)):O.apply(this,arguments),O=this,!y||"object"!==_(y)&&"function"!=typeof y){if(void 0!==O)return O;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return y}}(N);function N(P,j,V){if(this instanceof N)return(P=$.call(this,P,j,V)).drawingContext=P.canvas.getContext("2d"),P._pInst._setProperty("drawingContext",P.drawingContext),P;throw new TypeError("Cannot call a class as a function")}return y=N,(p=[{key:"getFilterGraphicsLayer",value:function(){return this.filterGraphicsLayer||(this.filterGraphicsLayer=new f.default.Graphics(this.width,this.height,h.WEBGL,(this._pInst instanceof f.default.Graphics?this._pInst:this)._pInst)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=h.BLEND,this._setFill(h._DEFAULT_FILL),this._setStroke(h._DEFAULT_STROKE),this.drawingContext.lineCap=h.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(P,j){a(u(N.prototype),"resize",this).call(this,P,j),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var P,j;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof f.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(P=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(P,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(P=this._getFill(),j=(j=this._pInst).color.apply(j,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(j.levels),j=j.toString(),this._setFill(j),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(P),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var P=(P=this._pInst).color.apply(P,arguments);this._setFill(P.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",P.levels)}},{key:"stroke",value:function(){var P=(P=this._pInst).color.apply(P,arguments);this._setStroke(P.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",P.levels)}},{key:"erase",value:function(P,j){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,P=this._pInst.color(255,P).toString(),this.drawingContext.fillStyle=P,this._cachedStrokeStyle=this.drawingContext.strokeStyle,P=this._pInst.color(255,j).toString(),this.drawingContext.strokeStyle=P,j=this._cachedBlendMode,this.blendMode(h.REMOVE),this._cachedBlendMode=j,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var P=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(u(N.prototype),"beginClip",this).call(this,P),this._cachedFillStyle=this.drawingContext.fillStyle,P=this._pInst.color(255,0).toString(),this.drawingContext.fillStyle=P,this._cachedStrokeStyle=this.drawingContext.strokeStyle,P=this._pInst.color(255,0).toString(),this.drawingContext.strokeStyle=P,P=this._cachedBlendMode,this.blendMode(h.BLEND),this._cachedBlendMode=P,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),a(u(N.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(P,j,V,k,E,T,H,X,z){P.gifProperties&&P._animateGif(this._pInst);try{f.default.MediaElement&&P instanceof f.default.MediaElement&&P._ensureCanvas();var te=(te=this._tint&&P.canvas?this._getTintedImageCanvas(P):te)||P.canvas||P.elt,J=1;P.width&&0<P.width&&(J=te.width/P.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(te,J*j,J*V,J*k,J*E,T,H,X,z),this._isErasing&&this._pInst.erase()}catch(q){if("NS_ERROR_NOT_AVAILABLE"!==q.name)throw q}}},{key:"_getTintedImageCanvas",value:function(P){if(!P.canvas)return P;P.tintCanvas||(P.tintCanvas=document.createElement("canvas")),P.tintCanvas.width!==P.canvas.width&&(P.tintCanvas.width=P.canvas.width),P.tintCanvas.height!==P.canvas.height&&(P.tintCanvas.height=P.canvas.height);var j=P.tintCanvas.getContext("2d");return j.save(),j.clearRect(0,0,P.canvas.width,P.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(j.drawImage(P.canvas,0,0),j.globalCompositeOperation="luminosity",j.drawImage(P.canvas,0,0),j.globalCompositeOperation="color",j.drawImage(P.canvas,0,0),j.globalCompositeOperation="multiply",j.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),j.fillRect(0,0,P.canvas.width,P.canvas.height),j.globalCompositeOperation="destination-in"),j.globalAlpha=this._tint[3]/255,j.drawImage(P.canvas,0,0),j.restore(),P.tintCanvas}},{key:"blendMode",value:function(P){if(P===h.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(P!==h.BLEND&&P!==h.REMOVE&&P!==h.DARKEST&&P!==h.LIGHTEST&&P!==h.DIFFERENCE&&P!==h.MULTIPLY&&P!==h.EXCLUSION&&P!==h.SCREEN&&P!==h.REPLACE&&P!==h.OVERLAY&&P!==h.HARD_LIGHT&&P!==h.SOFT_LIGHT&&P!==h.DODGE&&P!==h.BURN&&P!==h.ADD)throw new Error("Mode ".concat(P," not recognized."));this._cachedBlendMode=P,this.drawingContext.globalCompositeOperation=P}}},{key:"blend",value:function(){for(var P=this.drawingContext.globalCompositeOperation,j=arguments.length,V=new Array(j),k=0;k<j;k++)V[k]=arguments[k];var E=V[V.length-1],T=Array.prototype.slice.call(V,0,V.length-1);this.drawingContext.globalCompositeOperation=E,f.default.prototype.copy.apply(this,T),this.drawingContext.globalCompositeOperation=P}},{key:"_getPixel",value:function(P,j){return[(P=this.drawingContext.getImageData(P,j,1,1).data)[0],P[1],P[2],P[3]]}},{key:"loadPixels",value:function(){var j,P=this._pixelsState,V=this.drawingContext.getImageData(0,0,V=this.width*(j=P._pixelDensity),j*=this.height);P._setProperty("imageData",V),P._setProperty("pixels",V.data)}},{key:"set",value:function(P,j,V){P=Math.floor(P),j=Math.floor(j);var k=this._pixelsState;if(V instanceof f.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(k._pixelDensity,k._pixelDensity),this.drawingContext.clearRect(P,j,V.width,V.height),this.drawingContext.drawImage(V.canvas,P,j),this.drawingContext.restore();else{var E=0,T=0,H=0,X=0,z=4*(j*k._pixelDensity*(this.width*k._pixelDensity)+P*k._pixelDensity);if(k.imageData||k.loadPixels(),"number"==typeof V)z<k.pixels.length&&(H=T=E=V,X=255);else if(Array.isArray(V)){if(V.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");z<k.pixels.length&&(E=V[0],T=V[1],H=V[2],X=V[3])}else V instanceof f.default.Color&&z<k.pixels.length&&(E=V.levels[0],T=V.levels[1],H=V.levels[2],X=V.levels[3]);for(var te=0;te<k._pixelDensity;te++)for(var J=0;J<k._pixelDensity;J++)k.pixels[z=4*((j*k._pixelDensity+J)*this.width*k._pixelDensity+(P*k._pixelDensity+te))]=E,k.pixels[z+1]=T,k.pixels[z+2]=H,k.pixels[z+3]=X}}},{key:"updatePixels",value:function(P,j,V,k){var E=this._pixelsState,T=E._pixelDensity;void 0===P&&void 0===j&&void 0===V&&void 0===k&&(j=P=0,V=this.width,k=this.height),P*=T,j*=T,V*=T,k*=T,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=E.imageData),this.drawingContext.putImageData(E.imageData,P,j,0,0,V,k)}},{key:"_acuteArcToBezier",value:function(P,j){var T=j/2,V=Math.cos(T),X=Math.sin(T),k=1/Math.tan(T),E=(T=P+T,Math.cos(T)),H=(T=Math.sin(T),(4-V)/3);return X+=(V-H)*k,{ax:Math.cos(P).toFixed(7),ay:Math.sin(P).toFixed(7),bx:(H*E+X*T).toFixed(7),by:(H*T-X*E).toFixed(7),cx:(H*E-X*T).toFixed(7),cy:(H*T+X*E).toFixed(7),dx:Math.cos(P+j).toFixed(7),dy:Math.sin(P+j).toFixed(7)}}},{key:"arc",value:function(P,j,V,k,E,T,H){var X,z=this.drawingContext,te=V/2,J=k/2,q=[];for(P+=te,j+=J;1e-5<=T-E;)X=Math.min(T-E,h.HALF_PI),q.push(this._acuteArcToBezier(E,X)),E+=X;return this._doFill&&(this._clipping||z.beginPath(),q.forEach(function(ne,de){0===de&&z.moveTo(P+ne.ax*te,j+ne.ay*J),z.bezierCurveTo(P+ne.bx*te,j+ne.by*J,P+ne.cx*te,j+ne.cy*J,P+ne.dx*te,j+ne.dy*J)}),H!==h.PIE&&null!=H||z.lineTo(P,j),z.closePath(),this._clipping||z.fill()),this._doStroke&&(this._clipping||z.beginPath(),q.forEach(function(ne,de){0===de&&z.moveTo(P+ne.ax*te,j+ne.ay*J),z.bezierCurveTo(P+ne.bx*te,j+ne.by*J,P+ne.cx*te,j+ne.cy*J,P+ne.dx*te,j+ne.dy*J)}),H===h.PIE?(z.lineTo(P,j),z.closePath()):H===h.CHORD&&z.closePath(),this._clipping||z.stroke()),this}},{key:"ellipse",value:function(X){var j=this.drawingContext,V=this._doFill,k=this._doStroke,E=parseFloat(X[0]),T=parseFloat(X[1]),H=parseFloat(X[2]);if(X=parseFloat(X[3]),V&&!k){if(this._getFill()===c)return this}else if(!V&&k&&this._getStroke()===c)return this;E+=H/2,T+=X/2,H/=2,X/=2,this._clipping||j.beginPath(),j.ellipse(E,T,H,X,0,0,2*Math.PI),!this._clipping&&V&&j.fill(),!this._clipping&&k&&j.stroke()}},{key:"line",value:function(P,j,V,k){var E=this.drawingContext;return this._doStroke&&this._getStroke()!==c&&(this._clipping||E.beginPath(),E.moveTo(P,j),E.lineTo(V,k),E.stroke()),this}},{key:"point",value:function(P,j){var V,k,E=this.drawingContext;return this._doStroke&&this._getStroke()!==c?(V=this._getStroke(),k=this._getFill(),this._clipping||this._setFill(V),this._clipping||E.beginPath(),E.arc(P,j,E.lineWidth/2,0,h.TWO_PI,!1),void(this._clipping||(E.fill(),this._setFill(k)))):this}},{key:"quad",value:function(P,j,V,k,E,T,H,X){var z=this.drawingContext,te=this._doFill,J=this._doStroke;if(te&&!J){if(this._getFill()===c)return this}else if(!te&&J&&this._getStroke()===c)return this;return this._clipping||z.beginPath(),z.moveTo(P,j),z.lineTo(V,k),z.lineTo(E,T),z.lineTo(H,X),z.closePath(),!this._clipping&&te&&z.fill(),!this._clipping&&J&&z.stroke(),this}},{key:"rect",value:function(J){var j,V,k=J[0],E=J[1],T=J[2],H=J[3],X=J[4],z=J[5],te=J[6],q=(J=J[7],this.drawingContext),ne=this._doFill,de=this._doStroke;if(ne&&!de){if(this._getFill()===c)return this}else if(!ne&&de&&this._getStroke()===c)return this;return this._clipping||q.beginPath(),void 0===X?q.rect(k,E,T,H):(void 0===z&&(z=X),void 0===te&&(te=z),void 0===J&&(J=te),de=(ne=Math.abs(T))/2,V=(j=Math.abs(H))/2,j<2*(X=ne<2*X?de:X)&&(X=V),j<2*(z=ne<2*z?de:z)&&(z=V),j<2*(te=ne<2*te?de:te)&&(te=V),j<2*(J=ne<2*J?de:J)&&(J=V),this._clipping||q.beginPath(),q.moveTo(k+X,E),q.arcTo(k+T,E,k+T,E+H,z),q.arcTo(k+T,E+H,k,E+H,te),q.arcTo(k,E+H,k,E,J),q.arcTo(k,E,k+T,E,X),q.closePath()),!this._clipping&&this._doFill&&q.fill(),!this._clipping&&this._doStroke&&q.stroke(),this}},{key:"triangle",value:function(te){var j=this.drawingContext,V=this._doFill,k=this._doStroke,E=te[0],T=te[1],H=te[2],X=te[3],z=te[4];if(te=te[5],V&&!k){if(this._getFill()===c)return this}else if(!V&&k&&this._getStroke()===c)return this;this._clipping||j.beginPath(),j.moveTo(E,T),j.lineTo(H,X),j.lineTo(z,te),j.closePath(),!this._clipping&&V&&j.fill(),!this._clipping&&k&&j.stroke()}},{key:"endShape",value:function(P,j,V,k,E,T,H){if(0!==j.length&&(this._doStroke||this._doFill)){var X,z,te,J=P===h.CLOSE,q=(J&&!T&&j.push(j[0]),j.length);if(V&&null===H){if(3<q){var ne=[],de=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(j[1][0],j[1][1]),z=1;z+2<q;z++)ne[0]=[(X=j[z])[0],X[1]],ne[1]=[X[0]+(de*j[z+1][0]-de*j[z-1][0])/6,X[1]+(de*j[z+1][1]-de*j[z-1][1])/6],ne[2]=[j[z+1][0]+(de*j[z][0]-de*j[z+2][0])/6,j[z+1][1]+(de*j[z][1]-de*j[z+2][1])/6],ne[3]=[j[z+1][0],j[z+1][1]],this.drawingContext.bezierCurveTo(ne[1][0],ne[1][1],ne[2][0],ne[2][1],ne[3][0],ne[3][1]);J&&this.drawingContext.lineTo(j[z+1][0],j[z+1][1]),this._doFillStrokeClose(J)}}else if(k&&null===H){for(this._clipping||this.drawingContext.beginPath(),z=0;z<q;z++)j[z].isVert?j[z].moveTo?this.drawingContext.moveTo(j[z][0],j[z][1]):this.drawingContext.lineTo(j[z][0],j[z][1]):this.drawingContext.bezierCurveTo(j[z][0],j[z][1],j[z][2],j[z][3],j[z][4],j[z][5]);this._doFillStrokeClose(J)}else if(E&&null===H){for(this._clipping||this.drawingContext.beginPath(),z=0;z<q;z++)j[z].isVert?j[z].moveTo?this.drawingContext.moveTo(j[z][0],j[z][1]):this.drawingContext.lineTo(j[z][0],j[z][1]):this.drawingContext.quadraticCurveTo(j[z][0],j[z][1],j[z][2],j[z][3]);this._doFillStrokeClose(J)}else if(H===h.POINTS)for(z=0;z<q;z++)X=j[z],this._doStroke&&this._pInst.stroke(X[6]),this._pInst.point(X[0],X[1]);else if(H===h.LINES)for(z=0;z+1<q;z+=2)X=j[z],this._doStroke&&this._pInst.stroke(j[z+1][6]),this._pInst.line(X[0],X[1],j[z+1][0],j[z+1][1]);else if(H===h.TRIANGLES)for(z=0;z+2<q;z+=3)X=j[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(X[0],X[1]),this.drawingContext.lineTo(j[z+1][0],j[z+1][1]),this.drawingContext.lineTo(j[z+2][0],j[z+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(j[z+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(j[z+2][6]),this.drawingContext.stroke());else if(H===h.TRIANGLE_STRIP)for(z=0;z+1<q;z++)X=j[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(j[z+1][0],j[z+1][1]),this.drawingContext.lineTo(X[0],X[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(j[z+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(j[z+1][5]),z+2<q&&(this.drawingContext.lineTo(j[z+2][0],j[z+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(j[z+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(j[z+2][5])),this._doFillStrokeClose(J);else if(H===h.TRIANGLE_FAN){if(2<q){for(this._clipping||this.drawingContext.beginPath(),z=2;z<q;z++)X=j[z],this.drawingContext.moveTo(j[0][0],j[0][1]),this.drawingContext.lineTo(j[z-1][0],j[z-1][1]),this.drawingContext.lineTo(X[0],X[1]),this.drawingContext.lineTo(j[0][0],j[0][1]),z<q-1&&(this._doFill&&X[5]!==j[z+1][5]||this._doStroke&&X[6]!==j[z+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(X[5]),this.drawingContext.fill(),this._pInst.fill(j[z+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(X[6]),this.drawingContext.stroke(),this._pInst.stroke(j[z+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(J)}}else if(H===h.QUADS)for(z=0;z+3<q;z+=4){for(X=j[z],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(X[0],X[1]),te=1;te<4;te++)this.drawingContext.lineTo(j[z+te][0],j[z+te][1]);this.drawingContext.lineTo(X[0],X[1]),!this._clipping&&this._doFill&&this._pInst.fill(j[z+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(j[z+3][6]),this._doFillStrokeClose(J)}else if(H===h.QUAD_STRIP){if(3<q)for(z=0;z+1<q;z+=2)X=j[z],this._clipping||this.drawingContext.beginPath(),z+3<q?(this.drawingContext.moveTo(j[z+2][0],j[z+2][1]),this.drawingContext.lineTo(X[0],X[1]),this.drawingContext.lineTo(j[z+1][0],j[z+1][1]),this.drawingContext.lineTo(j[z+3][0],j[z+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(j[z+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(j[z+3][6])):(this.drawingContext.moveTo(X[0],X[1]),this.drawingContext.lineTo(j[z+1][0],j[z+1][1])),this._doFillStrokeClose(J)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(j[0][0],j[0][1]),z=1;z<q;z++)(X=j[z]).isVert&&(X.moveTo?(J&&this.drawingContext.closePath(),this.drawingContext.moveTo(X[0],X[1])):this.drawingContext.lineTo(X[0],X[1]));this._doFillStrokeClose(J)}T=E=k=V=!1,J&&j.pop()}return this}},{key:"strokeCap",value:function(P){return P!==h.ROUND&&P!==h.SQUARE&&P!==h.PROJECT||(this.drawingContext.lineCap=P),this}},{key:"strokeJoin",value:function(P){return P!==h.ROUND&&P!==h.BEVEL&&P!==h.MITER||(this.drawingContext.lineJoin=P),this}},{key:"strokeWeight",value:function(P){return this.drawingContext.lineWidth=void 0===P||0===P?1e-4:P,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(P){P!==this._cachedFillStyle&&(this.drawingContext.fillStyle=P,this._cachedFillStyle=P)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(P){P!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=P,this._cachedStrokeStyle=P)}},{key:"bezier",value:function(P,j,V,k,E,T,H,X){return this._pInst.beginShape(),this._pInst.vertex(P,j),this._pInst.bezierVertex(V,k,E,T,H,X),this._pInst.endShape(),this}},{key:"curve",value:function(P,j,V,k,E,T,H,X){return this._pInst.beginShape(),this._pInst.curveVertex(P,j),this._pInst.curveVertex(V,k),this._pInst.curveVertex(E,T),this._pInst.curveVertex(H,X),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(P){P&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(P,j,V,k,E,T){this.drawingContext.transform(P,j,V,k,E,T)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(P){this.drawingContext.rotate(P)}},{key:"scale",value:function(P,j){return this.drawingContext.scale(P,j),this}},{key:"translate",value:function(P,j){return P instanceof f.default.Vector&&(j=P.y,P=P.x),this.drawingContext.translate(P,j),this}},{key:"_renderText",value:function(P,j,V,k,E,T){if(!(k<T||E<=k))return P.push(),this._isOpenType()?this._textFont._renderPath(j,V,k,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(j,V,k),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(h._DEFAULT_TEXT_FILL),this.drawingContext.fillText(j,V,k))),P.pop(),P}},{key:"textWidth",value:function(P){return this._isOpenType()?this._textFont._textWidth(P,this._textSize):this.drawingContext.measureText(P).width}},{key:"_applyTextProperties",value:function(){var P=this._pInst,j=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),j=this._textFont,this._isOpenType()&&(j=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),j||"sans-serif");return/\s/.exec(j)&&(j='"'.concat(j,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(j),this.drawingContext.textAlign=this._textAlign,this.drawingContext.textBaseline=this._textBaseline===h.CENTER?h._CTX_MIDDLE:this._textBaseline,P}},{key:"push",value:function(){return this.drawingContext.save(),a(u(N.prototype),"push",this).call(this)}},{key:"pop",value:function(P){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,a(u(N.prototype),"pop",this).call(this,P)}}])&&w(y.prototype,p),N}(f.default.Renderer);s.prototype.text=function(p,y,O,j,N){var P;return void 0!==j&&this.drawingContext.textBaseline===h.BASELINE&&(P=!0,this.drawingContext.textBaseline=h.TOP),j=f.default.Renderer.prototype.text.apply(this,arguments),P&&(this.drawingContext.textBaseline=h.BASELINE),j},f.default.Renderer2D=s,S.default=m=f.default.Renderer2D},{"./constants":269,"./main":280,"./p5.Renderer":283,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.function.name":173,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],285:[function(r,W,S){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator");var v=(r=r("./main"))&&r.__esModule?r:{default:r};function _(){return{}}v.default.prototype._promisePreloads=[];var f=!(v.default.prototype.registerPromisePreload=function(h){v.default.prototype._promisePreloads.push(h)});v.default.prototype._setupPromisePreloads=function(){var h=!0,x=!1,w=void 0;try{for(var a,l=this._promisePreloads[Symbol.iterator]();!(h=(a=l.next()).done);h=!0){var d=a.value,u=this,c=d.method,s=d.addCallbacks,m=d.legacyPreloadSetup,p=d.target||this,y=p[c].bind(p);if(p===v.default.prototype){if(f)continue;u=null,y=p[c]}p[c]=this._wrapPromisePreload(u,y,s),m&&(p[m.method]=this._legacyPreloadGenerator(u,m,p[c]))}}catch(O){x=!0,w=O}finally{try{h||null==l.return||l.return()}finally{if(x)throw w}}f=!0},v.default.prototype._wrapPromisePreload=function(h,x,w){var a=function(){for(var l=this,d=(this._incrementPreload(),null),u=null,c=arguments.length,s=new Array(c),m=0;m<c;m++)s[m]=arguments[m];if(w)for(var p=s.length-1;0<=p&&!u&&"function"==typeof s[p];p--)u=d,d=s.pop();var y=Promise.resolve(x.apply(this,s));return d&&y.then(d),u&&y.catch(u),y.then(function(){return l._decrementPreload()}),y};return h?a.bind(h):a},v.default.prototype._legacyPreloadGenerator=function(h,l,w){var a=l.createBaseObject||_;return l=function(){var d=this;this._incrementPreload();for(var u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];var m=a.apply(this,c);return w.apply(this,c).then(function(p){Object.assign(m,p),d._decrementPreload()}),m},h?l.bind(h):l}},{"./main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],286:[function(r,W,S){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=(a=r("./main"))&&a.__esModule?a:{default:a},f=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==x(l)&&"function"!=typeof l)return{default:l};var d=h();if(d&&d.has(l))return d.get(l);var u,c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var m;Object.prototype.hasOwnProperty.call(l,u)&&((m=s?Object.getOwnPropertyDescriptor(l,u):null)&&(m.get||m.set)?Object.defineProperty(c,u,m):c[u]=l[u])}return c.default=l,d&&d.set(l,c),c}(r("./constants"));function h(){var l;return"function"!=typeof WeakMap?null:(h=function(){return l},l=new WeakMap)}function x(l){return(x="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(l)}r("./p5.Graphics"),r("./p5.Renderer2D"),r("../webgl/p5.RendererGL");var w="defaultCanvas0",a=(_.default.prototype.createCanvas=function(l,d,u,c){var s,m,p;if(_.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(u=f.P2D,c=arguments[2]):s=u||f.P2D,c)(p=document.getElementById(w))&&p.parentNode.removeChild(p),p=c,this._defaultGraphicsCreated=!1;else{if(s===f.WEBGL)(p=document.getElementById(w))&&(p.parentNode.removeChild(p),m=this._renderer,this._elements=this._elements.filter(function(O){return O!==m})),(p=document.createElement("canvas")).id=w,p.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)p=this.canvas;else{p=c||document.createElement("canvas");for(var y=0;document.getElementById("defaultCanvas".concat(y));)y++;w="defaultCanvas".concat(y),p.id=w,p.classList.add("p5Canvas")}this._setupDone||(p.dataset.hidden=!0,p.style.visibility="hidden"),(this._userNode||(0===document.getElementsByTagName("main").length&&(u=document.createElement("main"),document.body.appendChild(u)),document.getElementsByTagName("main")[0])).appendChild(p)}return s===f.WEBGL?(this._setProperty("_renderer",new _.default.RendererGL(p,this,!0)),this._elements.push(this._renderer),l=(c=this._renderer._adjustDimensions(l,d)).adjustedWidth,d=c.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new _.default.Renderer2D(p,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(l,d),this._renderer._applyDefaults(),this._renderer},_.default.prototype.resizeCanvas=function(l,d,u){if(_.default._validateParameters("resizeCanvas",arguments),this._renderer){var c,s,m,p={};for(c in this.drawingContext){var y=this.drawingContext[c];"object"!==x(y)&&"function"!=typeof y&&(p[c]=y)}for(m in this._renderer instanceof _.default.RendererGL&&(l=(s=this._renderer._adjustDimensions(l,d)).adjustedWidth,d=s.adjustedHeight),this.width=l,this.height=d,this._renderer.resize(l,d),p)try{this.drawingContext[m]=p[m]}catch{}u||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},_.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},_.default.prototype.createGraphics=function(l,d){for(var u=arguments.length,c=new Array(2<u?u-2:0),s=2;s<u;s++)c[s-2]=arguments[s];return c[0]instanceof HTMLCanvasElement&&(c[1]=c[0],c[0]=f.P2D),_.default._validateParameters("createGraphics",arguments),new _.default.Graphics(l,d,c[0],this,c[1])},_.default.prototype.createFramebuffer=function(l){return new _.default.Framebuffer(this,l)},_.default.prototype.clearDepth=function(l){this._assert3d("clearDepth"),this._renderer.clearDepth(l)},_.default.prototype.blendMode=function(l){_.default._validateParameters("blendMode",arguments),l===f.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),l=f.BLEND),this._renderer.blendMode(l)},_.default);S.default=a},{"../webgl/p5.RendererGL":337,"./constants":269,"./main":280,"./p5.Graphics":282,"./p5.Renderer2D":284,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],287:[function(r,W,S){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(d)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.slice"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=a(r("../main")),h=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var u=w();if(u&&u.has(d))return u.get(d);var c,s={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in d){var p;Object.prototype.hasOwnProperty.call(d,c)&&((p=m?Object.getOwnPropertyDescriptor(d,c):null)&&(p.get||p.set)?Object.defineProperty(s,c,p):s[c]=d[c])}return s.default=d,u&&u.set(d,s),s}(r("../constants")),x=a(r("../helpers"));function w(){var d;return"function"!=typeof WeakMap?null:(w=function(){return d},d=new WeakMap)}function a(d){return d&&d.__esModule?d:{default:d}}r("../friendly_errors/fes_core"),r("../friendly_errors/file_errors"),r("../friendly_errors/validate_params"),f.default.prototype._normalizeArcAngles=function(d,u,c,s,m){var p;return d-=h.TWO_PI*Math.floor(d/h.TWO_PI),u-=h.TWO_PI*Math.floor(u/h.TWO_PI),p=Math.min(Math.abs(d-u),h.TWO_PI-Math.abs(d-u)),m&&(d=d<=h.HALF_PI?Math.atan(c/s*Math.tan(d)):d>h.HALF_PI&&d<=3*h.HALF_PI?Math.atan(c/s*Math.tan(d))+h.PI:Math.atan(c/s*Math.tan(d))+h.TWO_PI,u=u<=h.HALF_PI?Math.atan(c/s*Math.tan(u)):u>h.HALF_PI&&u<=3*h.HALF_PI?Math.atan(c/s*Math.tan(u))+h.PI:Math.atan(c/s*Math.tan(u))+h.TWO_PI),u<d&&(u+=h.TWO_PI),{start:d,stop:u,correspondToSamePoint:p<1e-5}},f.default.prototype.arc=function(d,u,c,s,m,p,y,O){return f.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&m!==p&&(m=this._toRadians(m),p=this._toRadians(p),c=Math.abs(c),s=Math.abs(s),d=x.default.modeAdjust(d,u,c,s,this._renderer._ellipseMode),(u=this._normalizeArcAngles(m,p,d.w,d.h,!0)).correspondToSamePoint?this._renderer.ellipse([d.x,d.y,d.w,d.h,O]):(this._renderer.arc(d.x,d.y,d.w,d.h,u.start,u.stop,y,O),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[d.x,d.y,d.w,d.h,u.start,u.stop,y]))),this},f.default.prototype.ellipse=function(d,u,c,s,m){return f.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},f.default.prototype.circle=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];f.default._validateParameters("circle",u);var s=u.slice(0,2);return s.push(u[2],u[2]),this._renderEllipse.apply(this,function l(d){return function(u){if(Array.isArray(u)){for(var c=0,s=new Array(u.length);c<u.length;c++)s[c]=u[c];return s}}(d)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(s))},f.default.prototype._renderEllipse=function(d,u,c,s,m){return(this._renderer._doStroke||this._renderer._doFill)&&(c<0&&(c=Math.abs(c)),void 0===s?s=c:s<0&&(s=Math.abs(s)),d=x.default.modeAdjust(d,u,c,s,this._renderer._ellipseMode),this._renderer.ellipse([d.x,d.y,d.w,d.h,m]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[d.x,d.y,d.w,d.h])),this},f.default.prototype.line=function(){for(var d,u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return f.default._validateParameters("line",c),this._renderer._doStroke&&(d=this._renderer).line.apply(d,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",c),this},f.default.prototype.point=function(){for(var d,u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return f.default._validateParameters("point",c),this._renderer._doStroke&&(1===c.length&&c[0]instanceof f.default.Vector?this._renderer.point.call(this._renderer,c[0].x,c[0].y,c[0].z):((d=this._renderer).point.apply(d,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",c))),this},f.default.prototype.quad=function(){for(var d,u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return f.default._validateParameters("quad",c),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&c.length<12?this._renderer.quad.call(this._renderer,c[0],c[1],0,c[2],c[3],0,c[4],c[5],0,c[6],c[7],0,c[8],c[9]):((d=this._renderer).quad.apply(d,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",c))),this},f.default.prototype.rect=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];return f.default._validateParameters("rect",u),this._renderRect.apply(this,u)},f.default.prototype.square=function(d,u,c,s,m,p,y){return f.default._validateParameters("square",arguments),this._renderRect.call(this,d,u,c,c,s,m,p,y)},f.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var d=x.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),u=[d.x,d.y,d.w,d.h],c=4;c<arguments.length;c++)u[c]=arguments[c];this._renderer.rect(u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[d.x,d.y,d.w,d.h])}return this},f.default.prototype.triangle=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];return f.default._validateParameters("triangle",u),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",u),this},S.default=r=f.default},{"../constants":269,"../friendly_errors/fes_core":271,"../friendly_errors/file_errors":272,"../friendly_errors/validate_params":275,"../helpers":276,"../main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],288:[function(r,W,S){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(a)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(w=r("../main"))&&w.__esModule?w:{default:w},h=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var l=x();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(r("../constants"));function x(){var a;return"function"!=typeof WeakMap?null:(x=function(){return a},a=new WeakMap)}f.default.prototype.ellipseMode=function(a){return f.default._validateParameters("ellipseMode",arguments),a!==h.CORNER&&a!==h.CORNERS&&a!==h.RADIUS&&a!==h.CENTER||(this._renderer._ellipseMode=a),this},f.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},f.default.prototype.rectMode=function(a){return f.default._validateParameters("rectMode",arguments),a!==h.CORNER&&a!==h.CORNERS&&a!==h.RADIUS&&a!==h.CENTER||(this._renderer._rectMode=a),this},f.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},f.default.prototype.strokeCap=function(a){return f.default._validateParameters("strokeCap",arguments),a!==h.ROUND&&a!==h.SQUARE&&a!==h.PROJECT||this._renderer.strokeCap(a),this},f.default.prototype.strokeJoin=function(a){return f.default._validateParameters("strokeJoin",arguments),a!==h.ROUND&&a!==h.BEVEL&&a!==h.MITER||this._renderer.strokeJoin(a),this},f.default.prototype.strokeWeight=function(a){return f.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(a),this};var w=f.default;S.default=w},{"../constants":269,"../main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],289:[function(r,W,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(_=r("../main"))&&_.__esModule?_:{default:_};r("../friendly_errors/fes_core"),r("../friendly_errors/file_errors"),r("../friendly_errors/validate_params"),v.default.prototype.bezier=function(){for(var f,h=arguments.length,x=new Array(h),w=0;w<h;w++)x[w]=arguments[w];return v.default._validateParameters("bezier",x),(this._renderer._doStroke||this._renderer._doFill)&&(f=this._renderer).bezier.apply(f,x),this},v.default.prototype.bezierDetail=function(f){return v.default._validateParameters("bezierDetail",arguments),this._bezierDetail=f,this},v.default.prototype.bezierPoint=function(f,h,x,w,a){v.default._validateParameters("bezierPoint",arguments);var l=1-a;return Math.pow(l,3)*f+3*Math.pow(l,2)*a*h+3*l*Math.pow(a,2)*x+Math.pow(a,3)*w},v.default.prototype.bezierTangent=function(f,h,x,w,a){v.default._validateParameters("bezierTangent",arguments);var l=1-a;return 3*w*Math.pow(a,2)-3*x*Math.pow(a,2)+6*x*l*a-6*h*l*a+3*h*Math.pow(l,2)-3*f*Math.pow(l,2)},v.default.prototype.curve=function(){for(var f,h=arguments.length,x=new Array(h),w=0;w<h;w++)x[w]=arguments[w];return v.default._validateParameters("curve",x),this._renderer._doStroke&&(f=this._renderer).curve.apply(f,x),this},v.default.prototype.curveDetail=function(f){return v.default._validateParameters("curveDetail",arguments),this._curveDetail=f<3?3:f,this},v.default.prototype.curveTightness=function(f){return v.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=f,this},v.default.prototype.curvePoint=function(f,h,x,w,a){v.default._validateParameters("curvePoint",arguments);var l=this._renderer._curveTightness,d=a*a*a,u=a*a;return f*((l-1)/2*d+(1-l)*u+(l-1)/2*a)+h*((l+3)/2*d+(-5-l)/2*u+1)+x*((-3-l)/2*d+(l+2)*u+(1-l)/2*a)+w*((1-l)/2*d+(l-1)/2*u)},v.default.prototype.curveTangent=function(f,h,x,w,u){v.default._validateParameters("curveTangent",arguments);var l=this._renderer._curveTightness,d=u*u*3;return f*((l-1)/2*d+(1-l)*(u*=2)+(l-1)/2)+h*((l+3)/2*d+(-5-l)/2*u)+x*((-3-l)/2*d+(l+2)*u+(1-l)/2)+w*((1-l)/2*d+(l-1)/2*u)};var _=v.default;S.default=_},{"../friendly_errors/fes_core":271,"../friendly_errors/file_errors":272,"../friendly_errors/validate_params":275,"../main":280}],290:[function(r,W,S){"use strict";function v(y){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(y)}function _(y){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(O){return v(O)}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":v(O)})(y)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.slice"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(p=r("../main"))&&p.__esModule?p:{default:p},h=function(y){if(y&&y.__esModule)return y;if(null===y||"object"!==_(y)&&"function"!=typeof y)return{default:y};var O=x();if(O&&O.has(y))return O.get(y);var $,N={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for($ in y){var j;Object.prototype.hasOwnProperty.call(y,$)&&((j=P?Object.getOwnPropertyDescriptor(y,$):null)&&(j.get||j.set)?Object.defineProperty(N,$,j):N[$]=y[$])}return N.default=y,O&&O.set(y,N),N}(r("../constants"));function x(){var y;return"function"!=typeof WeakMap?null:(x=function(){return y},y=new WeakMap)}var w=null,a=[],l=[],d=!1,u=!1,c=!1,s=!1,m=!0,p=(f.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(l=[],s=!0),this},f.default.prototype.beginShape=function(y){var O;return f.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(O=this._renderer).beginShape.apply(O,arguments):(w=y===h.POINTS||y===h.LINES||y===h.TRIANGLES||y===h.TRIANGLE_FAN||y===h.TRIANGLE_STRIP||y===h.QUADS||y===h.QUAD_STRIP?y:null,a=[],l=[]),this},f.default.prototype.bezierVertex=function(){for(var y,O=arguments.length,$=new Array(O),N=0;N<O;N++)$[N]=arguments[N];if(f.default._validateParameters("bezierVertex",$),this._renderer.isP3D)(y=this._renderer).bezierVertex.apply(y,$);else if(0===a.length)f.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{d=!0;for(var P=[],j=0;j<$.length;j++)P[j]=$[j];P.isVert=!1,(s?l:a).push(P)}return this},f.default.prototype.curveVertex=function(){for(var y,O=arguments.length,$=new Array(O),N=0;N<O;N++)$[N]=arguments[N];return f.default._validateParameters("curveVertex",$),this._renderer.isP3D?(y=this._renderer).curveVertex.apply(y,$):(u=!0,this.vertex($[0],$[1])),this},f.default.prototype.endContour=function(){if(!this._renderer.isP3D){var y=l[0].slice();y.isVert=l[0].isVert,y.moveTo=!1,l.push(y),m&&(a.push(a[0]),m=!1);for(var O=0;O<l.length;O++)a.push(l[O])}return this},f.default.prototype.endShape=function(y){var O=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(f.default._validateParameters("endShape",arguments),O<1&&(console.log("\u{1f338} p5.js says: You can not have less than one instance"),O=1),this._renderer.isP3D)this._renderer.endShape(y,u,d,c,s,w,O);else{if(1!==O&&console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode"),0===a.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;(O=y===h.CLOSE)&&!s&&a.push(a[0]),this._renderer.endShape(y,a,u,d,c,s,w),m=!(s=c=d=u=!1),O&&a.pop()}return this},f.default.prototype.quadraticVertex=function(){for(var y,O=arguments.length,$=new Array(O),N=0;N<O;N++)$[N]=arguments[N];if(f.default._validateParameters("quadraticVertex",$),this._renderer.isP3D)(y=this._renderer).quadraticVertex.apply(y,$);else{if(this._contourInited)return(y={}).x=$[0],y.y=$[1],y.x3=$[2],y.y3=$[3],y.type=h.QUADRATIC,this._contourVertices.push(y),this;if(0<a.length){c=!0;for(var P=[],j=0;j<$.length;j++)P[j]=$[j];P.isVert=!1,(s?l:a).push(P)}else f.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},f.default.prototype.vertex=function(y,O,$,N,P){var j;return this._renderer.isP3D?(j=this._renderer).vertex.apply(j,arguments):((j=[]).isVert=!0,j[0]=y,j[1]=O,j[2]=0,j[3]=0,j[4]=0,j[5]=this._renderer._getFill(),j[6]=this._renderer._getStroke(),$&&(j.moveTo=$),(s?(0===l.length&&(j.moveTo=!0),l):a).push(j)),this},f.default.prototype.normal=function(y,O,$){var N;return this._assert3d("normal"),f.default._validateParameters("normal",arguments),(N=this._renderer).normal.apply(N,arguments),this},f.default);S.default=p},{"../constants":269,"../main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],291:[function(r,W,S){},{}],292:[function(r,W,S){"use strict";r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.assign"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(r=(r=r("./main"))&&r.__esModule?r:{default:r}).default.prototype.noLoop=function(){this._loop=!1},r.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},r.default.prototype.isLooping=function(){return this._loop},r.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},r.default.prototype.pop=function(){var v=this._styles.pop();v?(this._renderer.pop(v.renderer),Object.assign(this,v.props)):console.warn("pop() was called without matching push()")},r.default.prototype.redraw=function(v){if(!this._inUserDraw&&this._setupDone){var _=parseInt(v),f=((isNaN(_)||_<1)&&(_=1),this._isGlobal?window:this);if("function"==typeof f.draw){void 0===f.setup&&f.scale(f._pixelDensity,f._pixelDensity);for(var h=0;h<_;h++){f.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),f._renderer.isP3D&&f._renderer._update(),f._setProperty("frameCount",f.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{f.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},S.default=r=r.default},{"./main":280,"core-js/modules/es.object.assign":181}],293:[function(r,W,S){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(r=r("./main"))&&r.__esModule?r:{default:r};v.default.prototype.applyMatrix=function(){var f=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||f?(f=this._renderer).applyMatrix.apply(f,function _(f){return function(h){if(Array.isArray(h)){for(var x=0,w=new Array(h.length);x<h.length;x++)w[x]=h[x];return w}}(f)||function(h){if(Symbol.iterator in Object(h)||"[object Arguments]"===Object.prototype.toString.call(h))return Array.from(h)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(arguments.length<=0?void 0:arguments[0])):(f=this._renderer).applyMatrix.apply(f,arguments),this},v.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},v.default.prototype.rotate=function(f,h){return v.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(f),h),this},v.default.prototype.rotateX=function(f){return this._assert3d("rotateX"),v.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(f)),this},v.default.prototype.rotateY=function(f){return this._assert3d("rotateY"),v.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(f)),this},v.default.prototype.rotateZ=function(f){return this._assert3d("rotateZ"),v.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(f)),this},v.default.prototype.scale=function(f,h,x){var w;return v.default._validateParameters("scale",arguments),f instanceof v.default.Vector?(f=(w=f).x,h=w.y,x=w.z):Array.isArray(f)&&(f=(w=f)[0],h=w[1],x=w[2]||1),isNaN(h)?h=x=f:isNaN(x)&&(x=1),this._renderer.scale(f,h,x),this},v.default.prototype.shearX=function(f){return v.default._validateParameters("shearX",arguments),f=this._toRadians(f),this._renderer.applyMatrix(1,0,Math.tan(f),1,0,0),this},v.default.prototype.shearY=function(f){return v.default._validateParameters("shearY",arguments),f=this._toRadians(f),this._renderer.applyMatrix(1,Math.tan(f),0,1,0,0),this},v.default.prototype.translate=function(f,h,x){return v.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(f,h,x):this._renderer.translate(f,h),this},S.default=r=v.default},{"./main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.iterator":243}],294:[function(r,W,S){"use strict";function v(x){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(x)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.ends-with"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.ends-with"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator");var _=(r=r("../core/main"))&&r.__esModule?r:{default:r};function f(x){return function(w){if(Array.isArray(w)){for(var a=0,l=new Array(w.length);a<w.length;a++)l[a]=w[a];return l}}(x)||function(w){if(Symbol.iterator in Object(w)||"[object Arguments]"===Object.prototype.toString.call(w))return Array.from(w)}(x)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(x){return(h="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(w){return v(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":v(w)})(x)}_.default.prototype.storeItem=function(x,w){"string"!=typeof x&&console.log("The argument that you passed to storeItem() - ".concat(x," is not a string.")),x.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(x," must not end with 'p5TypeID'.")),void 0===w&&console.log("You cannot store undefined variables using storeItem().");var a=h(w);switch(a){case"number":case"boolean":w=w.toString();break;case"object":w instanceof _.default.Color?a="p5.Color":w instanceof _.default.Vector&&(a="p5.Vector",w=[w.x,w.y,w.z]),w=JSON.stringify(w)}localStorage.setItem(x,w),x="".concat(x,"p5TypeID"),localStorage.setItem(x,a)},_.default.prototype.getItem=function(x){var w=localStorage.getItem(x),a=localStorage.getItem("".concat(x,"p5TypeID"));if(void 0===a)console.log("Unable to determine type of item stored under ".concat(x,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==w)switch(a){case"number":w=parseFloat(w);break;case"boolean":w="true"===w;break;case"object":w=JSON.parse(w);break;case"p5.Color":w=JSON.parse(w),w=this.color.apply(this,f(w.levels));break;case"p5.Vector":w=JSON.parse(w),w=this.createVector.apply(this,f(w))}return w},_.default.prototype.clearStorage=function(){localStorage.clear()},_.default.prototype.removeItem=function(x){"string"!=typeof x&&console.log("The argument that you passed to removeItem() - ".concat(x," is not a string.")),localStorage.removeItem(x),localStorage.removeItem("".concat(x,"p5TypeID"))}},{"../core/main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.ends-with":195,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],295:[function(r,W,S){"use strict";function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(c)}function _(c){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(s){return v(s)}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":v(s)})(c)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.object.keys"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(r=r("../core/main"))&&r.__esModule?r:{default:r};function h(c,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(s&&s.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),s&&x(c,s)}function x(c,s){return(x=Object.setPrototypeOf||function(m,p){return m.__proto__=p,m})(c,s)}function w(c){return function(){var s,m=a(c);if(s=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(s=a(this).constructor,Reflect.construct(m,arguments,s)):m.apply(this,arguments),m=this,!s||"object"!==_(s)&&"function"!=typeof s){if(void 0!==m)return m;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return s}}function a(c){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)})(c)}function l(c,s){if(!(c instanceof s))throw new TypeError("Cannot call a class as a function")}function d(c,s){for(var m=0;m<s.length;m++){var p=s[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}function u(c,s,m){s&&d(c.prototype,s),m&&d(c,m)}f.default.prototype.createStringDict=function(c,s){return f.default._validateParameters("createStringDict",arguments),new f.default.StringDict(c,s)},f.default.prototype.createNumberDict=function(c,s){return f.default._validateParameters("createNumberDict",arguments),new f.default.NumberDict(c,s)},f.default.TypedDict=function(){function c(s,m){return l(this,c),s instanceof Object?this.data=s:(this.data={},this.data[s]=m),this}return u(c,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(s){return this.data.hasOwnProperty(s)}},{key:"get",value:function(s){if(this.data.hasOwnProperty(s))return this.data[s];console.log("".concat(s," does not exist in this Dictionary"))}},{key:"set",value:function(s,m){this._validate(m)?this.data[s]=m:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(s){for(var m in s)this.set(m,s[m])}},{key:"create",value:function(s,m){s instanceof Object&&void 0===m?this._addObj(s):void 0!==s?this.set(s,m):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(s){if(!this.data.hasOwnProperty(s))throw new Error("".concat(s," does not exist in this Dictionary"));delete this.data[s]}},{key:"print",value:function(){for(var s in this.data)console.log("key:".concat(s," value:").concat(this.data[s]))}},{key:"saveTable",value:function(s){var m,p="";for(m in this.data)p+="".concat(m,",").concat(this.data[m],"\n");var y=new Blob([p],{type:"text/csv"});f.default.prototype.downloadFile(y,s||"mycsv","csv")}},{key:"saveJSON",value:function(s,m){f.default.prototype.saveJSON(this.data,s,m)}},{key:"_validate",value:function(s){return!0}}]),c}(),f.default.StringDict=function(){h(s,f.default.TypedDict);var c=w(s);function s(){l(this,s);for(var m=arguments.length,p=new Array(m),y=0;y<m;y++)p[y]=arguments[y];return c.call.apply(c,[this].concat(p))}return u(s,[{key:"_validate",value:function(m){return"string"==typeof m}}]),s}(),f.default.NumberDict=function(){h(s,f.default.TypedDict);var c=w(s);function s(){l(this,s);for(var m=arguments.length,p=new Array(m),y=0;y<m;y++)p[y]=arguments[y];return c.call.apply(c,[this].concat(p))}return u(s,[{key:"_validate",value:function(m){return"number"==typeof m}},{key:"add",value:function(m,p){this.data.hasOwnProperty(m)?this.data[m]+=p:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"sub",value:function(m,p){this.add(m,-p)}},{key:"mult",value:function(m,p){this.data.hasOwnProperty(m)?this.data[m]*=p:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"div",value:function(m,p){this.data.hasOwnProperty(m)?this.data[m]/=p:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"_valueTest",value:function(m){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var p,y=this.data[Object.keys(this.data)[0]];for(p in this.data)this.data[p]*m<y*m&&(y=this.data[p]);return y}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(m){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var p=Object.keys(this.data)[0],y=1;y<Object.keys(this.data).length;y++)Object.keys(this.data)[y]*m<p*m&&(p=Object.keys(this.data)[y]);return p}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),s}(),S.default=r=f.default.TypedDict},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],296:[function(r,W,S){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/web.url"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/web.url"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=(r=r("../core/main"))&&r.__esModule?r:{default:r};function f(p,y){for(var O=0;O<y.length;O++){var $=y[O];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(p,$.key,$)}}function h(p,y,O){y&&f(p.prototype,y),O&&f(p,O)}function x(p,y){return(x=Object.setPrototypeOf||function(O,$){return O.__proto__=$,O})(p,y)}function a(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function l(p){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(p)}function d(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function u(p){return(u="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(y){return v(y)}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":v(y)})(p)}function c(p,y,O){return(y._userNode||document.body).appendChild(p),O=new(O?_.default.MediaElement:_.default.Element)(p,y),y._elements.push(O),O}function s(p,j,O,$){var N=document.createElement(j),P=("string"==typeof(O=O||"")&&(O=[O]),!0),V=void(j=!1);try{for(var k,E=O[Symbol.iterator]();!(P=(k=E.next()).done);P=!0){var T=k.value,H=document.createElement("source");H.setAttribute("src",T),N.appendChild(H)}}catch(z){j=!0,V=z}finally{try{P||null==E.return||E.return()}finally{if(j)throw V}}"function"==typeof $&&N.addEventListener("canplaythrough",function z(){$(),N.removeEventListener("canplaythrough",z)});var X=c(N,p,!0);return X.loadedmetadata=!1,N.addEventListener("loadedmetadata",function(){X.width=N.videoWidth,X.height=N.videoHeight,0===X.elt.width&&(X.elt.width=N.videoWidth),0===X.elt.height&&(X.elt.height=N.videoHeight),X.presetPlaybackRate&&(X.elt.playbackRate=X.presetPlaybackRate,delete X.presetPlaybackRate),X.loadedmetadata=!0}),X}function m(p,y,O,$){d(this,m),this.callback=p,this.time=y,this.id=O,this.val=$}_.default.prototype.select=function(p,y){return _.default._validateParameters("select",arguments),(y=this._getContainer(y).querySelector(p))?this._wrapElement(y):null},_.default.prototype.selectAll=function(p,y){_.default._validateParameters("selectAll",arguments);var O=[],$=this._getContainer(y).querySelectorAll(p);if($)for(var N=0;N<$.length;N++){var P=this._wrapElement($[N]);O.push(P)}return O},_.default.prototype._getContainer=function(p){var y=document;return"string"==typeof p?y=document.querySelector(p)||document:p instanceof _.default.Element?y=p.elt:p instanceof HTMLElement&&(y=p),y},_.default.prototype._wrapElement=function(p){var y,O=Array.prototype.slice.call(p.children);return"INPUT"===p.tagName&&"checkbox"===p.type?((y=new _.default.Element(p,this)).checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},y):"VIDEO"===p.tagName||"AUDIO"===p.tagName?new _.default.MediaElement(p,this):"SELECT"===p.tagName?this.createSelect(new _.default.Element(p,this)):0<O.length&&O.every(function($){return"INPUT"===$.tagName||"LABEL"===$.tagName})?this.createRadio(new _.default.Element(p,this)):new _.default.Element(p,this)},_.default.prototype.removeElements=function(p){_.default._validateParameters("removeElements",arguments),this._elements.filter(function(y){return!(y.elt instanceof HTMLCanvasElement)}).map(function(y){return y.remove()})},_.default.Element.prototype.changed=function(p){return _.default.Element._adjustListener("change",p,this),this},_.default.Element.prototype.input=function(p){return _.default.Element._adjustListener("input",p,this),this},_.default.prototype.createDiv=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",y=document.createElement("div");return y.innerHTML=p,c(y,this)},_.default.prototype.createP=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",y=document.createElement("p");return y.innerHTML=p,c(y,this)},_.default.prototype.createSpan=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",y=document.createElement("span");return y.innerHTML=p,c(y,this)},_.default.prototype.createImg=function(){_.default._validateParameters("createImg",arguments);var p,y=document.createElement("img"),O=arguments;return 1<O.length&&"string"==typeof O[1]&&(y.alt=O[1]),2<O.length&&"string"==typeof O[2]&&(y.crossOrigin=O[2]),y.src=O[0],p=c(y,this),y.addEventListener("load",function(){p.width=y.offsetWidth||y.width,p.height=y.offsetHeight||y.height;var $=O[O.length-1];"function"==typeof $&&$(p)}),p},_.default.prototype.createA=function(p,y,O){_.default._validateParameters("createA",arguments);var $=document.createElement("a");return $.href=p,$.innerHTML=y,O&&($.target=O),c($,this)},_.default.prototype.createSlider=function(p,y,O,$){_.default._validateParameters("createSlider",arguments);var N=document.createElement("input");return N.type="range",N.min=p,N.max=y,0===$?N.step=1e-18:$&&(N.step=$),"number"==typeof O&&(N.value=O),c(N,this)},_.default.prototype.createButton=function(p,y){_.default._validateParameters("createButton",arguments);var O=document.createElement("button");return O.innerHTML=p,y&&(O.value=y),c(O,this)},_.default.prototype.createCheckbox=function(){for(var p=arguments.length,y=new Array(p),O=0;O<p;O++)y[O]=arguments[O];_.default._validateParameters("createCheckbox",y);var $=document.createElement("div"),N=document.createElement("input"),P=(N.type="checkbox",document.createElement("label")),j=(P.appendChild(N),$.appendChild(P),c($,this));return j.checked=function(){var V=j.elt.firstElementChild.getElementsByTagName("input")[0];if(V){if(0===arguments.length)return V.checked;V.checked=!(arguments.length<=0||!arguments[0])}return j},this.value=function(V){return j.value=V,this},y[0]&&(j.value(y[0]),($=document.createElement("span")).innerHTML=y[0],P.appendChild($)),y[1]&&(N.checked=!0),j},_.default.prototype.createSelect=function(){for(var p,y=arguments.length,O=new Array(y),$=0;$<y;$++)O[$]=arguments[$];_.default._validateParameters("createSelect",O);var N,P=O[0];return P instanceof _.default.Element&&P.elt instanceof HTMLSelectElement?this.elt=(p=P).elt:P instanceof HTMLSelectElement?(p=c(P,this),this.elt=P):(N=document.createElement("select"),P&&"boolean"==typeof P&&N.setAttribute("multiple","true"),p=c(N,this),this.elt=N),p.option=function(j,V){var k;if(void 0!==j){for(var E,T=0;T<this.elt.length;T+=1)if(this.elt[T].textContent===j){k=T;break}void 0!==k?!1===V?this.elt.remove(k):this.elt[k].value=V:((E=document.createElement("option")).textContent=j,E.value=void 0===V?j:V,this.elt.appendChild(E),this._pInst._elements.push(E))}},p.selected=function(j){if(void 0!==j){for(var V=0;V<this.elt.length;V+=1)this.elt[V].value.toString()===j.toString()&&(this.elt.selectedIndex=V);return this}if(this.elt.getAttribute("multiple")){var k=[],E=!0,T=!1,H=void 0;try{for(var X,z=this.elt.selectedOptions[Symbol.iterator]();!(E=(X=z.next()).done);E=!0)k.push(X.value.value)}catch(J){T=!0,H=J}finally{try{E||null==z.return||z.return()}finally{if(T)throw H}}return k}return this.elt.value},p.disable=function(j){if("string"==typeof j)for(var V=0;V<this.elt.length;V++)this.elt[V].value.toString()===j&&(this.elt[V].disabled=!0,this.elt[V].selected=!1);else this.elt.disabled=!0;return this},p.enable=function(j){if("string"==typeof j)for(var V=0;V<this.elt.length;V++)this.elt[V].value.toString()===j&&(this.elt[V].disabled=!1,this.elt[V].selected=!1);else{this.elt.disabled=!1;for(var k=0;k<this.elt.length;k++)this.elt[k].disabled=!1,this.elt[k].selected=!1}return this},p},_.default.prototype.createRadio=function(){function p(j){return j instanceof HTMLInputElement&&"radio"===j.type}function y(j){return j instanceof HTMLLabelElement}var O,$,N,P=arguments.length<=0?void 0:arguments[0];return P instanceof _.default.Element&&(P.elt instanceof HTMLDivElement||P.elt instanceof HTMLSpanElement)?(O=P,this.elt=P.elt):P instanceof HTMLDivElement||P instanceof HTMLSpanElement?(O=c(P,this),$=this.elt=P,"string"==typeof(arguments.length<=1?void 0:arguments[1])&&(N=arguments.length<=1?void 0:arguments[1])):("string"==typeof P&&(N=P),$=document.createElement("div"),O=c($,this),this.elt=$),O._name=N||"radioOption",O._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(j){return p(j)||y(j)&&p(j.firstElementChild)}).map(function(j){return p(j)?j:j.firstElementChild})},O.option=function(j,V){var k,E,T,H=!0,X=!1,z=void 0;try{for(var te,J=O._getOptionsArray()[Symbol.iterator]();!(H=(te=J.next()).done);H=!0){var q=te.value;if(q.value===j){k=q;break}}}catch(ne){X=!0,z=ne}finally{try{H||null==J.return||J.return()}finally{if(X)throw z}}return void 0===k&&((k=document.createElement("input")).setAttribute("type","radio"),k.setAttribute("value",j)),k.setAttribute("name",O._name),y(k.parentElement)?E=k.parentElement:(E=document.createElement("label")).insertAdjacentElement("afterbegin",k),E.lastElementChild instanceof HTMLSpanElement?T=E.lastElementChild:(T=document.createElement("span"),k.insertAdjacentElement("afterend",T)),T.innerHTML=void 0===V?j:V,this.elt.appendChild(E),k},O.remove=function(j){var V=!0,k=!1,E=void 0;try{for(var T,H=O._getOptionsArray()[Symbol.iterator]();!(V=(T=H.next()).done);V=!0){var X=T.value;if(X.value===j)return void(y(X.parentElement)?X.parentElement:X).remove()}}catch(z){k=!0,E=z}finally{try{V||null==H.return||H.return()}finally{if(k)throw E}}},O.value=function(){var j="",V=!0,k=!1,E=void 0;try{for(var T,H=O._getOptionsArray()[Symbol.iterator]();!(V=(T=H.next()).done);V=!0){var X=T.value;if(X.checked){j=X.value;break}}}catch(z){k=!0,E=z}finally{try{V||null==H.return||H.return()}finally{if(k)throw E}}return j},O.selected=function(j){var V=null;if(void 0===j){var k=!0,E=!1,T=void 0;try{for(var H,X=O._getOptionsArray()[Symbol.iterator]();!(k=(H=X.next()).done);k=!0){var z=H.value;if(z.checked){V=z;break}}}catch(de){E=!0,T=de}finally{try{k||null==X.return||X.return()}finally{if(E)throw T}}}else{O._getOptionsArray().forEach(function(Y){Y.checked=!1,Y.removeAttribute("checked")});var te=!0;E=!1,T=void 0;try{for(var J,q=O._getOptionsArray()[Symbol.iterator]();!(te=(J=q.next()).done);te=!0){var ne=J.value;ne.value===j&&(ne.setAttribute("checked",!0),ne.checked=!0,V=ne)}}catch(Y){E=!0,T=Y}finally{try{te||null==q.return||q.return()}finally{if(E)throw T}}}return V},O.disable=function(){var j=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],V=!0,k=!1,E=void 0;try{for(var T,H=O._getOptionsArray()[Symbol.iterator]();!(V=(T=H.next()).done);V=!0)T.value.setAttribute("disabled",j)}catch(X){k=!0,E=X}finally{try{V||null==H.return||H.return()}finally{if(k)throw E}}},O},_.default.prototype.createColorPicker=function(p){_.default._validateParameters("createColorPicker",arguments);var y=document.createElement("input");return y.type="color",p?p instanceof _.default.Color?y.value=p.toString("#rrggbb"):(_.default.prototype._colorMode="rgb",_.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},y.value=_.default.prototype.color(p).toString("#rrggbb")):y.value="#000000",(y=c(y,this)).color=function(){return p&&(p.mode&&(_.default.prototype._colorMode=p.mode),p.maxes&&(_.default.prototype._colorMaxes=p.maxes)),_.default.prototype.color(this.elt.value)},y},_.default.prototype.createInput=function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",O=(_.default._validateParameters("createInput",arguments),document.createElement("input"));return O.setAttribute("value",p),O.setAttribute("type",y),c(O,this)},_.default.prototype.createFileInput=function(p){var y,O=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(_.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(y=document.createElement("input")).setAttribute("type","file"),O&&y.setAttribute("multiple",!0),y.addEventListener("change",function($){var N=!0,P=!1,j=void 0;try{for(var V,k=$.target.files[Symbol.iterator]();!(N=(V=k.next()).done);N=!0)_.default.File._load(V.value,p)}catch(T){P=!0,j=T}finally{try{N||null==k.return||k.return()}finally{if(P)throw j}}},!1),c(y,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},_.default.prototype.createVideo=function(p,y){return _.default._validateParameters("createVideo",arguments),s(this,"video",p,y)},_.default.prototype.createAudio=function(p,y){return _.default._validateParameters("createAudio",arguments),s(this,"audio",p,y)},_.default.prototype.VIDEO="video",_.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(p){var y=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return y?new Promise(function(O,$){y.call(navigator,p,O,$)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),_.default.prototype.createCapture=function(){for(var p=arguments.length,y=new Array(p),O=0;O<p;O++)y[O]=arguments[O];if(_.default._validateParameters("createCapture",y),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var $,N=!0,P=!0,j=!1,V=0,k=y;V<k.length;V++){var E=k[V];E===_.default.prototype.VIDEO?P=!1:E===_.default.prototype.AUDIO?N=!1:"object"===u(E)?(void 0!==E.flipped&&(j=E.flipped,delete E.flipped),T=Object.assign({},T,E)):"function"==typeof E&&($=E)}var T=Object.assign({},{video:N,audio:P},T),H=document.createElement("video"),X=(H.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(T).then(function(z){try{"srcObject"in H?H.srcObject=z:H.src=window.URL.createObjectURL(z)}catch{H.src=z}},console.error),c(H,this,!0));return X.loadedmetadata=!1,H.addEventListener("loadedmetadata",function(){H.play(),H.width?(X.width=H.width,X.height=H.height,j&&(X.elt.style.transform="scaleX(-1)")):(X.width=X.elt.width=H.videoWidth,X.height=X.elt.height=H.videoHeight),X.loadedmetadata=!0,$&&$(H.srcObject)}),X.flipped=j,X},_.default.prototype.createElement=function(p,y){return _.default._validateParameters("createElement",arguments),p=document.createElement(p),void 0!==y&&(p.innerHTML=y),c(p,this)},_.default.Element.prototype.addClass=function(p){return this.elt.className?this.hasClass(p)||(this.elt.className=this.elt.className+" "+p):this.elt.className=p,this},_.default.Element.prototype.removeClass=function(p){return this.elt.classList.remove(p),this},_.default.Element.prototype.hasClass=function(p){return this.elt.classList.contains(p)},_.default.Element.prototype.toggleClass=function(p){return this.elt.classList.contains(p)?this.elt.classList.remove(p):this.elt.classList.add(p),this},_.default.Element.prototype.child=function(p){return void 0===p?this.elt.childNodes:("string"==typeof p?("#"===p[0]&&(p=p.substring(1)),p=document.getElementById(p)):p instanceof _.default.Element&&(p=p.elt),p instanceof HTMLElement&&this.elt.appendChild(p),this)},_.default.Element.prototype.center=function(p){var y=this.elt.style.display,O="none"===this.elt.style.display,$="none"===this.parent().style.display,N={x:this.elt.offsetLeft,y:this.elt.offsetTop},P=(O&&this.show(),$&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),j=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===p||void 0===p?this.position(P/2+this.parent().offsetLeft,j/2+this.parent().offsetTop):"horizontal"===p?this.position(P/2+this.parent().offsetLeft,N.y):"vertical"===p&&this.position(N.x,j/2+this.parent().offsetTop),this.style("display",y),O&&this.hide(),$&&this.parent().hide(),this},_.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},_.default.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="static"!==(arguments.length<=2?void 0:arguments[2])&&"fixed"!==(arguments.length<=2?void 0:arguments[2])&&"relative"!==(arguments.length<=2?void 0:arguments[2])&&"sticky"!==(arguments.length<=2?void 0:arguments[2])&&"initial"!==(arguments.length<=2?void 0:arguments[2])&&"inherit"!==(arguments.length<=2?void 0:arguments[2])?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},_.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var p="";return this.elt.style.transform&&(p=(p=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=p,this},_.default.Element.prototype._rotate=function(){var p="";return this.elt.style.transform&&(p=(p=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":2===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=p,this},_.default.Element.prototype.style=function(p,y){if(void 0===(y=y instanceof _.default.Color?"rgba("+y.levels[0]+","+y.levels[1]+","+y.levels[2]+","+y.levels[3]/255+")":y)){if(-1===p.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(p);for(var O=p.split(";"),$=0;$<O.length;$++){var N=O[$].split(":");N[0]&&N[1]&&(this.elt.style[N[0].trim()]=N[1].trim())}}else this.elt.style[p]=y,"width"!==p&&"height"!==p&&"left"!==p&&"top"!==p||(y=window.getComputedStyle(this.elt).getPropertyValue(p).replace(/[^\d.]/g,""),this[p]=Math.round(parseFloat(y,10)));return this},_.default.Element.prototype.attribute=function(p,y){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===y?this.elt.getAttribute(p):(this.elt.setAttribute(p,y),this);if(void 0===y)return this.elt.firstChild.getAttribute(p);for(var O=0;O<this.elt.childNodes.length;O++)this.elt.childNodes[O].setAttribute(p,y)},_.default.Element.prototype.removeAttribute=function(p){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var y=0;y<this.elt.childNodes.length;y++)this.elt.childNodes[y].removeAttribute(p);return this.elt.removeAttribute(p),this},_.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},_.default.Element.prototype.show=function(){return this.elt.style.display="block",this},_.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},_.default.Element.prototype.size=function(p,y){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var O=p,$=y,N=_.default.prototype.AUTO;if(O!==N||$!==N){if(O===N?O=y*this.width/this.height:$===N&&($=p*this.height/this.width),this.elt instanceof HTMLCanvasElement){var P,j={},V=this.elt.getContext("2d");for(P in V)j[P]=V[P];for(P in this.elt.setAttribute("width",O*this._pInst._pixelDensity),this.elt.setAttribute("height",$*this._pInst._pixelDensity),this.elt.style.width=O+"px",this.elt.style.height=$+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),j)this.elt.getContext("2d")[P]=j[P]}else this.elt.style.width=O+"px",this.elt.style.height=$+"px",this.elt.width=O,this.elt.height=$;this.width=O,this.height=$,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",O),this._pInst._setProperty("height",$))}return this},_.default.Element.prototype.remove=function(){this instanceof _.default.MediaElement&&(this.stop(),null!==(y=this.elt.srcObject)&&y.getTracks().forEach(function(O){O.stop()}));var p,y=this._pInst._elements.indexOf(this);for(p in-1!==y&&this._pInst._elements.splice(y,1),this._events)this.elt.removeEventListener(p,this._events[p]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},_.default.Element.prototype.drop=function(p,y){var O;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",O=function($){$.preventDefault()}),this.elt.addEventListener("dragleave",O)),_.default.Element._attachListener("drop",function(N){N.preventDefault(),"function"==typeof y&&y.call(this,N),N=N.dataTransfer.files;var P=!0,j=!1,V=void 0;try{for(var k,E=N[Symbol.iterator]();!(P=(k=E.next()).done);P=!0)_.default.File._load(k.value,p)}catch(H){j=!0,V=H}finally{try{P||null==E.return||E.return()}finally{if(j)throw V}}},this)):console.log("The File APIs are not fully supported in this browser."),this},_.default.Element.prototype.draggable=function(p){var y,O="ontouchstart"in window,$=0,N=0,P=0,j=0,V=O?"touchend":"mouseup",k=O?"touchmove":"mousemove";function E(H){var X;H=H||window.event,j=O?(X=H.changedTouches,$=P-parseInt(X[0].clientX),N=j-parseInt(X[0].clientY),P=parseInt(X[0].clientX),parseInt(X[0].clientY)):($=P-parseInt(H.clientX),N=j-parseInt(H.clientY),P=parseInt(H.clientX),parseInt(H.clientY)),p.style.left=p.offsetLeft-$+"px",p.style.top=p.offsetTop-N+"px"}function T(){document.removeEventListener(V,T,!1),document.removeEventListener(k,E,!1)}return void 0===p?y=p=this.elt:p!==this.elt&&p.elt!==this.elt&&(p=p.elt,y=this.elt),y.addEventListener(O?"touchstart":"mousedown",function(H){var X;return H=H||window.event,j=O?(X=H.changedTouches,P=parseInt(X[0].clientX),parseInt(X[0].clientY)):(P=parseInt(H.clientX),parseInt(H.clientY)),document.addEventListener(V,T,!1),document.addEventListener(k,E,!1),!1},!1),y.style.cursor="move",this},r=function(p){var y=$;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),p&&x(y,p);var O=function w(p){return function(){var y,O,$=l(p);return y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(y=l(this).constructor,Reflect.construct($,arguments,y)):$.apply(this,arguments),$=this,!(O=y)||"object"!==u(O)&&"function"!=typeof O?a($):O}}($);function $(N,P){d(this,$);var j=a(P=O.call(this,N,P));return P.elt.crossOrigin="anonymous",P._prevTime=0,P._cueIDCounter=0,P._cues=[],P.pixels=[],P._pixelsState=a(P),P._pixelDensity=1,P._modified=!1,P._frameOnCanvas=-1,Object.defineProperty(j,"src",{get:function(){var V=j.elt.children[0].src,k=j.elt.src===window.location.href?"":j.elt.src;return V===window.location.href?k:V},set:function(V){for(var k=0;k<j.elt.children.length;k++)j.elt.removeChild(j.elt.children[k]);var E=document.createElement("source");E.src=V,N.appendChild(E),j.elt.src=V,j.modified=!0}}),j._onended=function(){},j.elt.onended=function(){j._onended(j)},P}return h($,[{key:"play",value:function(){var N;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(N=this.elt.play())&&N.catch&&N.catch(function(P){"NotAllowedError"===P.name?console.error(P):console.error("Media play method encountered an unexpected error",P)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var N=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(N)},{passive:!0,once:!0})}},{key:"autoplay",value:function(N){var P=this,j=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",N),N&&!j&&(N=function(){return P._setupAutoplayFailDetection()},4===this.elt.readyState?N():this.elt.addEventListener("canplay",N,{passive:!0,once:!0})),this}},{key:"volume",value:function(N){if(void 0===N)return this.elt.volume;this.elt.volume=N}},{key:"speed",value:function(N){if(void 0===N)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=N:this.presetPlaybackRate=N}},{key:"time",value:function(N){return void 0===N?this.elt.currentTime:(this.elt.currentTime=N,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&this._frameOnCanvas!==this._pInst.frameCount&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var N=arguments.length,P=new Array(N),j=0;j<N;j++)P[j]=arguments[j];return _.default.Renderer2D.prototype.loadPixels.apply(this,P)}},{key:"updatePixels",value:function(N,P,j,V){return this.loadedmetadata&&(this._ensureCanvas(),_.default.Renderer2D.prototype.updatePixels.call(this,N,P,j,V)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var N=arguments.length,P=new Array(N),j=0;j<N;j++)P[j]=arguments[j];return _.default.Renderer2D.prototype.get.apply(this,P)}},{key:"_getPixel",value:function(){this.loadPixels();for(var N=arguments.length,P=new Array(N),j=0;j<N;j++)P[j]=arguments[j];return _.default.Renderer2D.prototype._getPixel.apply(this,P)}},{key:"set",value:function(N,P,j){this.loadedmetadata&&(this._ensureCanvas(),_.default.Renderer2D.prototype.set.call(this,N,P,j),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var N=arguments.length,P=new Array(N),j=0;j<N;j++)P[j]=arguments[j];_.default.prototype.copy.apply(this,P)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var N=arguments.length,P=new Array(N),j=0;j<N;j++)P[j]=arguments[j];_.default.Image.prototype.mask.apply(this,P)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(N){this._modified=N}},{key:"onended",value:function(N){return this._onended=N,this}},{key:"connect",value:function(N){var P,j;if("function"==typeof _.default.prototype.getAudioContext)P=_.default.prototype.getAudioContext(),j=_.default.soundOut.input;else try{j=(P=N.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=P.createMediaElementSource(this.elt),this.audioSourceNode.connect(j)),this.audioSourceNode.connect(N?N.input?N.input:N:j)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(N,k,j){var V=this._cueIDCounter++;return k=new m(k,N,V,j),this._cues.push(k),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),V}},{key:"removeCue",value:function(N){for(var P=0;P<this._cues.length;P++)this._cues[P].id===N&&(console.log(N),this._cues.splice(P,1));0===this._cues.length&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var N=this.time(),P=0;P<this._cues.length;P++){var j=this._cues[P].time;this._prevTime<j&&j<=N&&this._cues[P].callback(this._cues[P].val)}this._prevTime=N}}]),$}(_.default.Element),_.default.MediaElement=r,r=function(){function p(y,O){d(this,p),this.file=y,this._pInst=O,O=y.type.split("/"),this.type=O[0],this.subtype=O[1],this.name=y.name,this.size=y.size,this.data=void 0}return h(p,null,[{key:"_createLoader",value:function(y,O){var $=new FileReader;return $.onload=function(N){var P,j=new _.default.File(y);"application/json"===j.file.type?j.data=JSON.parse(N.target.result):"text/xml"===j.file.type?(P=(new DOMParser).parseFromString(N.target.result,"text/xml"),j.data=new _.default.XML(P.documentElement)):j.data=N.target.result,O(j)},$}},{key:"_load",value:function(y,O){var $;/^text\//.test(y.type)||"application/json"===y.type?_.default.File._createLoader(y,O).readAsText(y):/^(video|audio)\//.test(y.type)?(($=new _.default.File(y)).data=URL.createObjectURL(y),O($)):_.default.File._createLoader(y,O).readAsDataURL(y)}}]),p}(),_.default.File=r,S.default=r=_.default},{"../core/main":280,"core-js/modules/es.array.every":154,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243,"core-js/modules/web.url":245}],297:[function(u,W,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(u=u("../core/main"))&&u.__esModule?u:{default:u};v.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",v.default.prototype.accelerationX=0,v.default.prototype.accelerationY=0,v.default.prototype.accelerationZ=0,v.default.prototype.pAccelerationX=0,v.default.prototype.pAccelerationY=0,v.default.prototype.pAccelerationZ=0,v.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},v.default.prototype.rotationX=0,v.default.prototype.rotationY=0,v.default.prototype.rotationZ=0,v.default.prototype.pRotationX=0,v.default.prototype.pRotationY=0;var _=v.default.prototype.pRotationZ=0,f=0,h=0,x="clockwise",w="clockwise",a="clockwise",l=(v.default.prototype.pRotateDirectionX=void 0,v.default.prototype.pRotateDirectionY=void 0,v.default.prototype.pRotateDirectionZ=void 0,v.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},v.default.prototype.turnAxis=void 0,.5),d=30;v.default.prototype.setMoveThreshold=function(c){v.default._validateParameters("setMoveThreshold",arguments),l=c},v.default.prototype.setShakeThreshold=function(c){v.default._validateParameters("setShakeThreshold",arguments),d=c},v.default.prototype._ondeviceorientation=function(c){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(c.beta)),this._setProperty("rotationY",this._fromDegrees(c.gamma)),this._setProperty("rotationZ",this._fromDegrees(c.alpha)),this._handleMotion()},v.default.prototype._ondevicemotion=function(c){this._updatePAccelerations(),this._setProperty("accelerationX",2*c.acceleration.x),this._setProperty("accelerationY",2*c.acceleration.y),this._setProperty("accelerationZ",2*c.acceleration.z),this._handleMotion()},v.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var c,s,m,p,y,O=this._isGlobal?window:this;"function"==typeof O.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>l||Math.abs(this.accelerationY-this.pAccelerationY)>l||Math.abs(this.accelerationZ-this.pAccelerationZ)>l)&&O.deviceMoved(),"function"==typeof O.deviceTurned&&(s=this._toDegrees(this.rotationX)+180,m=this._toDegrees(this.pRotationX)+180,c=_+180,0<s-m&&s-m<270||s-m<-270?x="clockwise":(s-m<0||270<s-m)&&(x="counter-clockwise"),x!==this.pRotateDirectionX&&(c=s),90<Math.abs(s-c)&&Math.abs(s-c)<270&&(c=s,this._setProperty("turnAxis","X"),O.deviceTurned()),this.pRotateDirectionX=x,_=c-180,m=this._toDegrees(this.rotationY)+180,s=this._toDegrees(this.pRotationY)+180,c=f+180,0<m-s&&m-s<270||m-s<-270?w="clockwise":(m-s<0||270<m-this.pRotationY)&&(w="counter-clockwise"),w!==this.pRotateDirectionY&&(c=m),90<Math.abs(m-c)&&Math.abs(m-c)<270&&(c=m,this._setProperty("turnAxis","Y"),O.deviceTurned()),this.pRotateDirectionY=w,f=c-180,0<(s=this._toDegrees(this.rotationZ))-(m=this._toDegrees(this.pRotationZ))&&s-m<270||s-m<-270?a="clockwise":(s-m<0||270<s-m)&&(a="counter-clockwise"),a!==this.pRotateDirectionZ&&(h=s),90<Math.abs(s-h)&&Math.abs(s-h)<270&&(h=s,this._setProperty("turnAxis","Z"),O.deviceTurned()),this.pRotateDirectionZ=a,this._setProperty("turnAxis",void 0)),"function"==typeof O.deviceShaken&&(null!==this.pAccelerationX&&(p=Math.abs(this.accelerationX-this.pAccelerationX),y=Math.abs(this.accelerationY-this.pAccelerationY)),d<p+y&&O.deviceShaken())},S.default=u=v.default},{"../core/main":280}],298:[function(r,W,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(r=r("../core/main"))&&r.__esModule?r:{default:r};v.default.prototype.isKeyPressed=!1,v.default.prototype.keyIsPressed=!1,v.default.prototype.key="",v.default.prototype.keyCode=0,v.default.prototype._onkeydown=function(_){var f;this._downKeys[_.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",_.which),this._downKeys[_.which]=!0,this._setProperty("key",_.key||String.fromCharCode(_.which)||_.which),"function"!=typeof(f=this._isGlobal?window:this).keyPressed||_.charCode||!1===f.keyPressed(_)&&_.preventDefault())},v.default.prototype._onkeyup=function(_){this._downKeys[_.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",_.key||String.fromCharCode(_.which)||_.which),this._setProperty("keyCode",_.which);var f=this._isGlobal?window:this;"function"==typeof f.keyReleased&&!1===f.keyReleased(_)&&_.preventDefault()},v.default.prototype._onkeypress=function(_){var f;_.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",_.which),this._setProperty("key",_.key||String.fromCharCode(_.which)||_.which),"function"==typeof(f=this._isGlobal?window:this).keyTyped&&!1===f.keyTyped(_)&&_.preventDefault())},v.default.prototype._onblur=function(_){this._downKeys={}},v.default.prototype.keyIsDown=function(_){return v.default._validateParameters("keyIsDown",arguments),this._downKeys[_]||!1},v.default.prototype._areDownKeys=function(){for(var _ in this._downKeys)if(this._downKeys.hasOwnProperty(_)&&!0===this._downKeys[_])return!0;return!1},S.default=r=v.default},{"../core/main":280}],299:[function(r,W,S){"use strict";function v(w){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(w)}function _(w){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(w)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(f=r("../core/main"))&&f.__esModule?f:{default:f},h=function(w){if(w&&w.__esModule)return w;if(null===w||"object"!==_(w)&&"function"!=typeof w)return{default:w};var a=x();if(a&&a.has(w))return a.get(w);var l,d={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in w){var c;Object.prototype.hasOwnProperty.call(w,l)&&((c=u?Object.getOwnPropertyDescriptor(w,l):null)&&(c.get||c.set)?Object.defineProperty(d,l,c):d[l]=w[l])}return d.default=w,a&&a.set(w,d),d}(r("../core/constants"));function x(){var w;return"function"!=typeof WeakMap?null:(x=function(){return w},w=new WeakMap)}f.default.prototype.movedX=0,f.default.prototype.movedY=0,f.default.prototype._hasMouseInteracted=!1,f.default.prototype.mouseX=0,f.default.prototype.mouseY=0,f.default.prototype.pmouseX=0,f.default.prototype.pmouseY=0,f.default.prototype.winMouseX=0,f.default.prototype.winMouseY=0,f.default.prototype.pwinMouseX=0,f.default.prototype.pwinMouseY=0,f.default.prototype.mouseButton=0,f.default.prototype.mouseIsPressed=!1,f.default.prototype._updateNextMouseCoords=function(w){var a,l,d,u,c;null!==this._curElement&&(!w.touches||0<w.touches.length)&&(l=this.width,d=this.height,(u=w)&&!u.clientX&&(u.touches?u=u.touches[0]:u.changedTouches&&(u=u.changedTouches[0])),c=(a=this._curElement.elt).getBoundingClientRect(),d={x:(u.clientX-c.left)/(l=a.scrollWidth/l||1),y:(u.clientY-c.top)/(a=a.scrollHeight/d||1),winX:u.clientX,winY:u.clientY,id:u.identifier},this._setProperty("movedX",w.movementX),this._setProperty("movedY",w.movementY),this._setProperty("mouseX",d.x),this._setProperty("mouseY",d.y),this._setProperty("winMouseX",d.winX),this._setProperty("winMouseY",d.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},f.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},f.default.prototype._setMouseButton=function(w){this._setProperty("mouseButton",1===w.button?h.CENTER:2===w.button?h.RIGHT:h.LEFT)},f.default.prototype._onmousemove=function(w){var a=this._isGlobal?window:this;this._updateNextMouseCoords(w),this.mouseIsPressed?"function"==typeof a.mouseDragged?!1===a.mouseDragged(w)&&w.preventDefault():"function"==typeof a.touchMoved&&!1===a.touchMoved(w)&&w.preventDefault():"function"==typeof a.mouseMoved&&!1===a.mouseMoved(w)&&w.preventDefault()},f.default.prototype._onmousedown=function(w){var a=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(w),this._updateNextMouseCoords(w),this.touchstart||("function"==typeof a.mousePressed?!1===a.mousePressed(w)&&w.preventDefault():"function"==typeof a.touchStarted&&!1===a.touchStarted(w)&&w.preventDefault(),this.touchstart=!1)},f.default.prototype._onmouseup=function(w){var a=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||("function"==typeof a.mouseReleased?!1===a.mouseReleased(w)&&w.preventDefault():"function"==typeof a.touchEnded&&!1===a.touchEnded(w)&&w.preventDefault(),this.touchend=!1)},f.default.prototype._ondragend=f.default.prototype._onmouseup,f.default.prototype._ondragover=f.default.prototype._onmousemove,f.default.prototype._onclick=function(w){var a=this._isGlobal?window:this;"function"==typeof a.mouseClicked&&!1===a.mouseClicked(w)&&w.preventDefault()},f.default.prototype._ondblclick=function(w){var a=this._isGlobal?window:this;"function"==typeof a.doubleClicked&&!1===a.doubleClicked(w)&&w.preventDefault()},f.default.prototype._mouseWheelDeltaY=0,f.default.prototype._pmouseWheelDeltaY=0,f.default.prototype._onwheel=function(w){var a=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",w.deltaY),"function"==typeof a.mouseWheel&&(w.delta=w.deltaY,!1===a.mouseWheel(w)&&w.preventDefault())},f.default.prototype.requestPointerLock=function(){var w=this._curElement.elt;return w.requestPointerLock=w.requestPointerLock||w.mozRequestPointerLock,w.requestPointerLock?(w.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},f.default.prototype.exitPointerLock=function(){document.exitPointerLock()},S.default=r=f.default},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],300:[function(r,W,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.prototype.touches=[],r.default.prototype._updateTouchCoords=function(v){if(null!==this._curElement){for(var _=[],f=0;f<v.touches.length;f++)_[f]=function(c,u,s,a){var l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,d=c.getBoundingClientRect();return u=c.scrollWidth/u||1,c=c.scrollHeight/s||1,{x:((s=a.touches[l]||a.changedTouches[l]).clientX-d.left)/u,y:(s.clientY-d.top)/c,winX:s.clientX,winY:s.clientY,id:s.identifier}}(this._curElement.elt,this.width,this.height,v,f);this._setProperty("touches",_)}},r.default.prototype._ontouchstart=function(v){var _=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(v),this._updateNextMouseCoords(v),this._updateMouseCoords(),"function"==typeof _.touchStarted&&(!1===_.touchStarted(v)&&v.preventDefault(),this.touchstart=!0)},r.default.prototype._ontouchmove=function(v){var _=this._isGlobal?window:this;this._updateTouchCoords(v),this._updateNextMouseCoords(v),"function"==typeof _.touchMoved?!1===_.touchMoved(v)&&v.preventDefault():"function"==typeof _.mouseDragged&&!1===_.mouseDragged(v)&&v.preventDefault()},r.default.prototype._ontouchend=function(v){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(v),this._updateNextMouseCoords(v);var _=this._isGlobal?window:this;"function"==typeof _.touchEnded&&(!1===_.touchEnded(v)&&v.preventDefault(),this.touchend=!0)},S.default=r=r.default},{"../core/main":280}],301:[function(r,W,S){"use strict";r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.int32-array"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.int32-array"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v,_,f,h,x={_toPixels:function(w){var a,l;return w instanceof ImageData?w.data:w.getContext("2d")?w.getContext("2d").getImageData(0,0,w.width,w.height).data:w.getContext("webgl")?(l=(a=w.getContext("webgl")).drawingBufferWidth*a.drawingBufferHeight*4,l=new Uint8Array(l),a.readPixels(0,0,w.width,w.height,a.RGBA,a.UNSIGNED_BYTE,l),l):void 0},_getARGB:function(w,a){return w[3+(a*=4)]<<24&4278190080|w[a]<<16&16711680|w[1+a]<<8&65280|255&w[2+a]},_setPixels:function(w,a){for(var l,d=0,u=w.length;d<u;d++)w[0+(l=4*d)]=(16711680&a[d])>>>16,w[1+l]=(65280&a[d])>>>8,w[2+l]=255&a[d],w[3+l]=(4278190080&a[d])>>>24},_toImageData:function(w){return w instanceof ImageData?w:w.getContext("2d").getImageData(0,0,w.width,w.height)},_createImageData:function(w,a){return x._tmpCanvas=document.createElement("canvas"),x._tmpCtx=x._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(w,a)},apply:function(w,c,l){var d=w.getContext("2d"),u=d.getImageData(0,0,w.width,w.height);(c=c(u,l))instanceof ImageData?d.putImageData(c,0,0,0,0,w.width,w.height):d.putImageData(u,0,0,0,0,w.width,w.height)},threshold:function(w){for(var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.5,l=x._toPixels(w),d=Math.floor(255*a),u=0;u<l.length;u+=4)l[u]=l[u+1]=l[u+2]=d<=.2126*l[u]+.7152*l[u+1]+.0722*l[u+2]?255:0},gray:function(w){for(var a=x._toPixels(w),l=0;l<a.length;l+=4)a[l]=a[l+1]=a[l+2]=.2126*a[l]+.7152*a[l+1]+.0722*a[l+2]},opaque:function(w){for(var a=x._toPixels(w),l=0;l<a.length;l+=4)a[l+3]=255;return a},invert:function(w){for(var a=x._toPixels(w),l=0;l<a.length;l+=4)a[l]=255-a[l],a[l+1]=255-a[l+1],a[l+2]=255-a[l+2]},posterize:function(w){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,l=x._toPixels(w);if(a<2||255<a)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var d=a-1,u=0;u<l.length;u+=4){var s=l[u+1],m=l[u+2];l[u]=255*(l[u]*a>>8)/d,l[u+1]=255*(s*a>>8)/d,l[u+2]=255*(m*a>>8)/d}},dilate:function(w){for(var a,l,d,u,c,s,m,p,y,O=x._toPixels(w),$=0,N=O.length?O.length/4:0,P=new Int32Array(N);$<N;)for(l=(a=$)+w.width;$<l;)u=d=x._getARGB(O,$),(y=$-1)<a&&(y=$),l<=(p=$+1)&&(p=$),(c=$-w.width)<0&&(c=0),N<=(s=$+w.width)&&(s=$),c=x._getARGB(O,c),y=x._getARGB(O,y),s=x._getARGB(O,s),(u=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))<(m=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))&&(d=y,u=m),u<(m=77*((y=x._getARGB(O,p))>>16&255)+151*(y>>8&255)+28*(255&y))&&(d=y,u=m),u<(p=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(d=c,u=p),u<(y=77*(s>>16&255)+151*(s>>8&255)+28*(255&s))&&(d=s,u=y),P[$++]=d;x._setPixels(O,P)},erode:function(w){for(var a,l,d,u,c,s,m,p,y,O=x._toPixels(w),$=0,N=O.length?O.length/4:0,P=new Int32Array(N);$<N;)for(l=(a=$)+w.width;$<l;)u=d=x._getARGB(O,$),(y=$-1)<a&&(y=$),l<=(p=$+1)&&(p=$),(c=$-w.width)<0&&(c=0),N<=(s=$+w.width)&&(s=$),c=x._getARGB(O,c),y=x._getARGB(O,y),s=x._getARGB(O,s),(m=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))<(u=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))&&(d=y,u=m),(m=77*((y=x._getARGB(O,p))>>16&255)+151*(y>>8&255)+28*(255&y))<u&&(d=y,u=m),(p=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))<u&&(d=c,u=p),(y=77*(s>>16&255)+151*(s>>8&255)+28*(255&s))<u&&(d=s,u=y),P[$++]=d;x._setPixels(O,P)},blur:function(w,a){for(var l,d,u,c,s,m,p,y,O,$,N=x._toPixels(w),P=w.width,j=w.height,V=P*j,k=new Int32Array(V),E=0;E<V;E++)k[E]=x._getARGB(N,E);var T,H,X,z,te,J,q,ne,de=new Int32Array(V),De=new Int32Array(V),Y=new Int32Array(V),R=new Int32Array(V),se=0,pe=3.5*a|0;if(v!==(pe=pe<1?1:pe<248?pe:248)){_=1+(v=pe)<<1,f=new Int32Array(_),h=new Array(_);for(var Ee=0;Ee<_;Ee++)h[Ee]=new Int32Array(256);for(var Ne=1,We=pe-1;Ne<pe;Ne++){f[pe+Ne]=f[We]=J=We*We,q=h[pe+Ne],ne=h[We--];for(var et=0;et<256;et++)q[et]=ne[et]=J*et}te=f[pe]=pe*pe,q=h[pe];for(var Ae=0;Ae<256;Ae++)q[Ae]=te*Ae}for(H=0;H<j;H++){for(T=0;T<P;T++){if(c=u=d=s=l=0,(m=T-v)<0)$=-m,m=0;else{if(P<=m)break;$=0}for(X=$;X<_&&!(P<=m);X++){var Be=k[m+se];s+=(z=h[X])[(-16777216&Be)>>>24],d+=z[(16711680&Be)>>16],u+=z[(65280&Be)>>8],c+=z[255&Be],l+=f[X],m++}de[p=se+T]=s/l,De[p]=d/l,Y[p]=u/l,R[p]=c/l}se+=P}for(O=(y=-v)*P,H=se=0;H<j;H++){for(T=0;T<P;T++){if(c=u=d=s=l=0,y<0)$=p=-y,m=T;else{if(j<=y)break;$=0,p=y,m=T+O}for(X=$;X<_&&!(j<=p);X++)s+=(z=h[X])[de[m]],d+=z[De[m]],u+=z[Y[m]],c+=z[R[m]],l+=f[X],p++,m+=P;k[T+se]=s/l<<24|d/l<<16|u/l<<8|c/l}se+=P,O+=P,y++}x._setPixels(N,k)}};S.default=x},{"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.int32-array":222,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239}],302:[function(r,W,S){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=f(r("../core/main")),_=f(r("omggif"));function f(x){return x&&x.__esModule?x:{default:x}}function h(x){return function(w){if(Array.isArray(w)){for(var a=0,l=new Array(w.length);a<w.length;a++)l[a]=w[a];return l}}(x)||function(w){if(Symbol.iterator in Object(w)||"[object Arguments]"===Object.prototype.toString.call(w))return Array.from(w)}(x)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}v.default.prototype.createImage=function(x,w){return v.default._validateParameters("createImage",arguments),new v.default.Image(x,w)},v.default.prototype.saveCanvas=function(){for(var x,w,a,l,d,u,c=arguments.length,s=new Array(c),m=0;m<c;m++)s[m]=arguments[m];switch(v.default._validateParameters("saveCanvas",s),s[0]instanceof HTMLCanvasElement?(x=s[0],s.shift()):s[0]instanceof v.default.Element?(x=s[0].elt,s.shift()):s[0]instanceof v.default.Framebuffer?((d=this.createGraphics((l=s[0]).width,l.height)).pixelDensity(pixelDensity()),l.loadPixels(),d.loadPixels(),d.pixels.set(l.pixels),d.updatePixels(),x=d.elt,s.shift()):x=this._curElement&&this._curElement.elt,1<=s.length&&(w=s[0]),a=(a=2<=s.length?s[1]:a)||v.default.prototype._checkFileExtension(w,a)[1]||"png"){default:u="image/png";break;case"jpeg":case"jpg":u="image/jpeg"}x.toBlob(function(p){v.default.prototype.downloadFile(p,w,a),d&&d.remove()},u)},v.default.prototype.encodeAndDownloadGif=function(x,w){for(var a=x.gifProperties,d=(1===(l=a.loopLimit)?l=null:null===l&&(l=0),new Uint8Array(x.width*x.height*a.numFrames)),u=[],c={},s=0;s<a.numFrames;s++){for(var m=new Set,p=a.frames[s].image.data,y=p.length,O=new Uint32Array(x.width*x.height),$=0,N=0;$<y;$+=4,N++){var P=p[$+0]<<16|p[$+1]<<8|p[$+2]<<0;m.add(P),O[N]=P}var j=h(m).sort().toString();void 0===c[j]?c[j]={freq:1,frames:[s]}:(c[j].freq+=1,c[j].frames.push(s)),u.push(O)}for(var E=[],V=Object.keys(c).sort(function(Y,R){return c[R].freq-c[Y].freq}),k=V[0].split(",").map(function(Y){return parseInt(Y)}),T=(E=E.concat(c[k].frames),new Set(k)),H=1;H<V.length;H++){var X=V[H].split(",").map(function(Y){return parseInt(Y)}).filter(function(Y){return!T.has(Y)});if(k.length+X.length<=256){for(var z=0;z<X.length;z++)k.push(X[z]),T.add(X[z]);E=E.concat(c[V[H]].frames)}}E=new Set(E);for(var te={},J=0;J<k.length;J++)te[k[J]]||(te[k[J]]=J);for(var q=1;q<k.length;)q<<=1;k.length=q;for(var l={loop:l,palette:new Uint32Array(k)},ne=new _.default.GifWriter(d,x.width,x.height,l),de={},De=0;De<a.numFrames;De++)!function(R){var se=!E.has(R),pe=se?[]:k,Ee=new Uint8Array(x.width*x.height),Ne={},We=new Set,et=(u[R].forEach(function(Ze,Qe){se?(void 0===Ne[Ze]&&(Ne[Ze]=pe.length,pe.push(Ze)),Ee[Qe]=Ne[Ze]):Ee[Qe]=te[Ze],0<R&&u[R-1][Qe]!==Ze&&We.add(Ze)}),{});if(0<(Ae=pe.filter(function(Ze){return!We.has(Ze)})).length){var Ae,Be=(se?Ne:te)[Ae=Ae[0]];if(0<R){for(var Fe=0;Fe<u[R].length;Fe++)u[R-1][Fe]===u[R][Fe]&&(Ee[Fe]=Be);et.transparent=Be,de.frameOpts.disposal=1}}if(et.delay=a.frames[R].delay/10,se){for(var Oe=1;Oe<pe.length;)Oe<<=1;pe.length=Oe,et.palette=new Uint32Array(pe)}0<R&&ne.addFrame(0,0,x.width,x.height,de.pixelPaletteIndex,de.frameOpts),de={pixelPaletteIndex:Ee,frameOpts:et}}(De);de.frameOpts.disposal=1,ne.addFrame(0,0,x.width,x.height,de.pixelPaletteIndex,de.frameOpts),l=new Blob([d.slice(0,ne.end())],{type:"image/gif"}),v.default.prototype.downloadFile(l,w,"gif")},v.default.prototype.saveFrames=function(x,w,a,u,d){v.default._validateParameters("saveFrames",arguments),a=v.default.prototype.constrain(a=a||3,0,15),a*=1e3,u=v.default.prototype.constrain(u||15,0,22);var c=0,s=v.default.prototype._makeFrame,m=this._curElement.elt,p=[],y=setInterval(function(){p.push(s(x+c,w,m)),c++},1e3/u);setTimeout(function(){if(clearInterval(y),d)d(p);else for(var O=0,$=p;O<$.length;O++){var N=$[O];v.default.prototype.downloadFile(N.imageData,N.filename,N.ext)}p=[]},.01+a)},v.default.prototype._makeFrame=function(x,w,d){var l;if(d=this?this._curElement.elt:d,w)switch(w.toLowerCase()){case"png":default:l="image/png";break;case"jpeg":case"jpg":l="image/jpeg"}else w="png",l="image/png";d=(d=d.toDataURL(l)).replace(l,"image/octet-stream");var u={};return u.imageData=d,u.filename=x,u.ext=w,u},S.default=r=v.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243,omggif:253}],303:[function(r,W,S){"use strict";function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(m)}function _(m){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(p){return v(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":v(p)})(m)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.copy-within"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint8-clamped-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.copy-within"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.uint8-clamped-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,r("regenerator-runtime/runtime");var f=d(r("../core/main")),h=d(r("../core/helpers")),x=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==_(m)&&"function"!=typeof m)return{default:m};var p=l();if(p&&p.has(m))return p.get(m);var y,O={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in m){var N;Object.prototype.hasOwnProperty.call(m,y)&&((N=$?Object.getOwnPropertyDescriptor(m,y):null)&&(N.get||N.set)?Object.defineProperty(O,y,N):O[y]=m[y])}return O.default=m,p&&p.set(m,O),O}(r("../core/constants")),w=d(r("omggif")),a=r("gifenc");function l(){var m;return"function"!=typeof WeakMap?null:(l=function(){return m},m=new WeakMap)}function d(m){return m&&m.__esModule?m:{default:m}}function u(m,p,y,O,$,N,P){try{var j=m[N](P),V=j.value}catch(k){return void y(k)}j.done?p(V):Promise.resolve(V).then(O,$)}function s(m,p){return 0<m&&m<p?m:p}r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),f.default.prototype.loadImage=function(m,p,y){f.default._validateParameters("loadImage",arguments);var O=new f.default.Image(1,1,this),$=this,N=new Request(m,{method:"GET",mode:"cors"});return fetch(m,N).then(function(P){var j,V=P.headers.get("content-type");null===V&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),V&&V.includes("image/gif")?P.arrayBuffer().then(function(k){if(k){k=new Uint8Array(k);for(var E=O,T=p,H=y,X=function(se){$._decrementPreload()}.bind($),z=new w.default.GifReader(k),te=(E.width=E.canvas.width=z.width,E.height=E.canvas.height=z.height,[]),J=z.numFrames(),q=new Uint8ClampedArray(E.width*E.height*4),ne=0;ne<J;ne++){var de=z.frameInfo(ne),De=E.drawingContext.getImageData(0,0,E.width,E.height),Y=(q=De.data.slice(),function(se,pe){try{pe.decodeAndBlitFrameRGBA(se,q)}catch(Ee){f.default._friendlyFileLoadError(8,E.src),"function"==typeof H?H(Ee):console.error(Ee)}}(ne,z),new ImageData(q,E.width,E.height));0===(E.drawingContext.putImageData(Y,0,0),Y=de.delay)&&(Y=10),te.push({image:E.drawingContext.getImageData(0,0,E.width,E.height),delay:10*Y}),2===de.disposal?E.drawingContext.clearRect(de.x,de.y,de.width,de.height):3===de.disposal&&E.drawingContext.putImageData(De,0,0,de.x,de.y,de.width,de.height)}null===(k=z.loopCount())?k=1:0===k&&(k=null),E.drawingContext.putImageData(te[0].image,0,0),1<te.length&&(E.gifProperties={displayIndex:0,loopLimit:k,loopCount:0,frames:te,numFrames:J,playing:!0,timeDisplayed:0,lastChangeTime:0}),"function"==typeof T&&T(E),X()}},function(k){"function"==typeof y?(y(k),$._decrementPreload()):console.error(k)}):((j=new Image).onload=function(){O.width=O.canvas.width=j.width,O.height=O.canvas.height=j.height,O.drawingContext.drawImage(j,0,0),O.modified=!0,"function"==typeof p&&p(O),$._decrementPreload()},j.onerror=function(k){f.default._friendlyFileLoadError(0,j.src),"function"==typeof y?(y(k),$._decrementPreload()):console.error(k)},0!==m.indexOf("data:image/")&&(j.crossOrigin="Anonymous"),j.src=m),O.modified=!0}).catch(function(P){f.default._friendlyFileLoadError(0,m),"function"==typeof y?(y(P),$._decrementPreload()):console.error(P)}),O},f.default.prototype.saveGif=function(){m=b.mark(function y(O,$){var N,P,j,V,k,E,T,H,X,z,te,J,q,ne,de,De,Y,R,se,pe,Ee,Ne,We,et,Ae,Be,Fe=arguments;return b.wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(N=2<Fe.length&&void 0!==Fe[2]?Fe[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},"string"!=typeof O)throw TypeError("fileName parameter must be a string");Oe.next=3;break;case 3:if("number"!=typeof $)throw TypeError("Duration parameter must be a number");Oe.next=5;break;case 5:if(j=N&&N.units||"seconds",V=N&&N.silent||!1,k=N&&N.notificationDuration||0,E=N&&N.notificationID||"progressBar","number"!=typeof(P=N&&N.delay||0))throw TypeError("Delay parameter must be a number");Oe.next=12;break;case 12:if("seconds"!==j&&"frames"!==j)throw TypeError('Units parameter must be either "frames" or "seconds"');Oe.next=14;break;case 14:if("boolean"!=typeof V)throw TypeError("Silent parameter must be a boolean");Oe.next=16;break;case 16:if("number"!=typeof k)throw TypeError("Notification duration parameter must be a number");Oe.next=18;break;case 18:if("string"!=typeof E)throw TypeError("Notification ID parameter must be a string");Oe.next=20;break;case 20:return this._recording=!0,T=(T=1/(z=(z=this._targetFrameRate)!==1/0&&void 0!==z&&0!==z?z:60)*1e3)<20?20:T,X=(H="seconds"===j?$*z:$)+(z="seconds"===j?P*z:P),this.frameCount=z,te=this._pixelDensity,this.pixelDensity(1),J=[],null!==document.getElementById(E)&&document.getElementById(E).remove(),V||((q=this.createP("")).id(E),q.style("font-size","16px"),q.style("font-family","Montserrat"),q.style("background-color","#ffffffa0"),q.style("padding","8px"),q.style("border-radius","10px"),q.position(0,0)),this._renderer instanceof f.default.RendererGL&&(de=this.drawingContext,ne=new Uint8Array(de.drawingBufferWidth*de.drawingBufferHeight*4)),this.noLoop(),Oe.next=39,Promise.resolve();case 39:if(z<X)return this.redraw(),et=void 0,et=this._renderer instanceof f.default.RendererGL?(ne=new Uint8Array(de.drawingBufferWidth*de.drawingBufferHeight*4),de.readPixels(0,0,de.drawingBufferWidth,de.drawingBufferHeight,de.RGBA,de.UNSIGNED_BYTE,ne),function(Ze,Qe,vt){for(var ht=parseInt(vt/2),ft=4*Qe,kt=new Uint8Array(4*Qe),qt=0;qt<ht;++qt){var Lt=qt*ft,ln=(vt-qt-1)*ft;kt.set(Ze.subarray(Lt,Lt+ft)),Ze.copyWithin(Lt,ln,ln+ft),Ze.set(kt,ln)}return Ze}(ne,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,J.push(et),z++,V||q.html("Saved frame <b>"+J.length.toString()+"</b> out of "+H.toString()),Oe.next=48,new Promise(function(Ze){return setTimeout(Ze,0)});Oe.next=50;break;case 48:Oe.next=39;break;case 50:V||q.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(te),De=(0,a.GIFEncoder)(),Y=function(Ze){for(var Qe=new Uint8Array(Ze.length*Ze[0].length),vt=0;vt<Ze.length;vt++)Qe.set(Ze[vt],vt*Ze[0].length);var ht=(0,a.quantize)(Qe,256,{format:"rgba4444",oneBitAlpha:!0});return 256===ht.length?ht[ht.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:ht.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),ht}(J),R={},se=function(Ze){for(var Qe=Ze.length/4,vt=new Uint8Array(Qe),ht=0;ht<Qe;ht++){var ft=Ze[4*ht]<<24|Ze[4*ht+1]<<16|Ze[4*ht+2]<<8|Ze[4*ht+3];void 0===R[ft]&&(R[ft]=(0,a.nearestColorIndex)(Y,Ze.slice(4*ht,4*(ht+1)))),vt[ht]=R[ft]}return vt},pe=Y.length-1,Ee=[],Ne=0;case 60:if(!(Ne<J.length)){Oe.next=71;break}if(We=se(J[Ne]),et=We.slice(),0===Ne)De.writeFrame(We,this.width,this.height,{palette:Y,delay:T,dispose:1});else{for(Ae=0;Ae<We.length;Ae++)We[Ae]===Ee[Ae]&&(We[Ae]=pe);De.writeFrame(We,this.width,this.height,{delay:T,transparent:!0,transparentIndex:pe,dispose:1})}return Ee=et,V||q.html("Rendered frame <b>"+Ne.toString()+"</b> out of "+H.toString()),Oe.next=68,new Promise(function(Ze){return setTimeout(Ze,0)});case 68:Ne++,Oe.next=60;break;case 71:De.finish(),Be=De.bytesView(),Be=new Blob([Be],{type:"image/gif"}),J=[],this._recording=!1,this.loop(),V||(q.html("Done. Downloading your gif!\u{1f338}"),0<k&&setTimeout(function(){return q.remove()},1e3*k)),f.default.prototype.downloadFile(Be,O,"gif");case 80:case"end":return Oe.stop()}},y,this)});var m,p=function(){var y=this,O=arguments;return new Promise(function($,N){var P=m.apply(y,O);function j(k){u(P,$,N,j,V,"next",k)}function V(k){u(P,$,N,j,V,"throw",k)}j(void 0)})};return function(y,O){return p.apply(this,arguments)}}(),f.default.prototype.image=function(m,p,y,O,z,te,J,q,de,k,E,T){f.default._validateParameters("image",arguments);var ne=m.width,H=m.height,X=(T=T||x.CENTER,E=E||x.CENTER,m.elt&&(ne=void 0!==ne?ne:m.elt.width,H=void 0!==H?H:m.elt.height),m.elt&&m.elt.videoWidth&&!m.canvas&&(ne=void 0!==ne?ne:m.elt.videoWidth,H=void 0!==H?H:m.elt.videoHeight),O||ne);z=z||H,te=te||0,J=J||0,q=s(void 0!==q?q:ne,ne),ne=s(void 0!==de?de:H,H),de=1,m.elt&&!m.canvas&&m.elt.style.width&&(de=m.elt.videoWidth&&!O?m.elt.videoWidth:m.elt.width,de/=parseInt(m.elt.style.width,10)),te*=de,J*=de,ne*=de,q*=de,H=function c(m,p,y,O,$,N,P,j,V,k,E){var T,H,X,z,te,J,q,ne,de;return m===x.COVER&&(T=p,X=y,q=N,ne=P,J=j,de=V,H=k,z=E,q/=te=Math.max(q/H,ne/z),ne/=te,te=J,J=de,T===x.CENTER?te+=(H-q)/2:T===x.RIGHT&&(te+=H-q),X===x.CENTER?J+=(z-ne)/2:X===x.BOTTOM&&(J+=z-ne),j=(de={x:te,y:J,w:q,h:ne}).x,V=de.y,k=de.w,E=de.h),m===x.CONTAIN&&(T=p,H=y,X=O,z=$,te=N,J=P,q=k,ne=E,q/=de=Math.max(q/te,ne/J),ne/=de,de=X,X=z,T===x.CENTER?de+=(te-q)/2:T===x.RIGHT&&(de+=te-q),H===x.CENTER?X+=(J-ne)/2:H===x.BOTTOM&&(X+=J-ne),O=(m={x:de,y:X,w:q,h:ne}).x,$=m.y,N=m.w,P=m.h),{sx:j,sy:V,sw:k,sh:E,dx:O,dy:$,dw:N,dh:P}}(k,E,T,(H=h.default.modeAdjust(p,y,X,z,this._renderer._imageMode)).x,H.y,H.w,H.h,te,J,q,ne),this._renderer.image(m,H.sx,H.sy,H.sw,H.sh,H.dx,H.dy,H.dw,H.dh)},f.default.prototype.tint=function(){for(var m=arguments.length,p=new Array(m),y=0;y<m;y++)p[y]=arguments[y];f.default._validateParameters("tint",p);var O=this.color.apply(this,p);this._renderer._tint=O.levels},f.default.prototype.noTint=function(){this._renderer._tint=null},f.default.prototype._getTintedImageCanvas=f.default.Renderer2D.prototype._getTintedImageCanvas,f.default.prototype.imageMode=function(m){f.default._validateParameters("imageMode",arguments),m!==x.CORNER&&m!==x.CORNERS&&m!==x.CENTER||(this._renderer._imageMode=m)},S.default=r=f.default},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/helpers":276,"../core/main":280,"core-js/modules/es.array.copy-within":153,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.typed-array.uint8-clamped-array":240,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,gifenc:250,omggif:253,"regenerator-runtime/runtime":257}],304:[function(r,W,S){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=f(r("../core/main")),_=f(r("./filters"));function f(x){return x&&x.__esModule?x:{default:x}}function h(x,w){for(var a=0;a<w.length;a++){var l=w[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(x,l.key,l)}}v.default.Image=function(){function x(d,u){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");this.width=d,this.height=u,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var w,a;return w=x,(a=[{key:"pixelDensity",value:function(d){return void 0!==d?(d<=0&&(v.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),d=1),this._pixelDensity=d,this.width/=d,this.height/=d,this):this._pixelDensity}},{key:"_animateGif",value:function(s){var u,c=this.gifProperties;s=s._lastRealFrameTime,0===c.lastChangeTime&&(c.lastChangeTime=s),c.playing&&(c.timeDisplayed=s-c.lastChangeTime,c.timeDisplayed>=(u=c.frames[c.displayIndex].delay)&&(u=Math.floor(c.timeDisplayed/u),c.timeDisplayed=0,c.lastChangeTime=s,c.displayIndex+=u,c.loopCount=Math.floor(c.displayIndex/c.numFrames),null!==c.loopLimit&&c.loopCount>=c.loopLimit?c.playing=!1:(this.drawingContext.putImageData(c.frames[s=c.displayIndex%c.numFrames].image,0,0),c.displayIndex=s,this.setModified(!0))))}},{key:"_setProperty",value:function(d,u){this[d]=u,this.setModified(!0)}},{key:"loadPixels",value:function(){v.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(d,u,c,s){v.default.Renderer2D.prototype.updatePixels.call(this,d,u,c,s),this.setModified(!0)}},{key:"get",value:function(d,u,c,s){return v.default._validateParameters("p5.Image.get",arguments),v.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];return v.default.Renderer2D.prototype._getPixel.apply(this,u)}},{key:"set",value:function(d,u,c){v.default.Renderer2D.prototype.set.call(this,d,u,c),this.setModified(!0)}},{key:"resize",value:function(d,u){0===d&&0===u?(d=this.canvas.width,u=this.canvas.height):0===d?d=this.canvas.width*u/this.canvas.height:0===u&&(u=this.canvas.height*d/this.canvas.width),d=Math.floor(d),u=Math.floor(u);var c=document.createElement("canvas");if(c.width=d,c.height=u,this.gifProperties)for(var s=this.gifProperties,m=0;m<s.numFrames;m++){for(var p=this.drawingContext.createImageData(d,u),y=(j=j=P=N=$=void 0,s.frames[m].image),O=p,$=0,N=0;N<O.height;N++)for(var P=0;P<O.width;P++){var j=Math.floor(P*y.width/O.width);j=4*(Math.floor(N*y.height/O.height)*y.width+j),O.data[$++]=y.data[j++],O.data[$++]=y.data[j++],O.data[$++]=y.data[j++],O.data[$++]=y.data[+j]}s.frames[m].image=p}c.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,c.width,c.height),this.canvas.width=this.width=d,this.canvas.height=this.height=u,this.drawingContext.drawImage(c,0,0,d,u,0,0,d,u),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];v.default.prototype.copy.apply(this,u)}},{key:"mask",value:function(d){var u=this.drawingContext.globalCompositeOperation,c=1,s=[d=void 0===d?this:d,0,0,(c=d instanceof v.default.Renderer?d._pInst._pixelDensity:c)*d.width,c*d.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var m=0;m<this.gifProperties.frames.length;m++)this.drawingContext.putImageData(this.gifProperties.frames[m].image,0,0),this.copy.apply(this,s),this.gifProperties.frames[m].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,s);this.drawingContext.globalCompositeOperation=u,this.setModified(!0)}},{key:"filter",value:function(d,u){_.default.apply(this.canvas,_.default[d],u),this.setModified(!0)}},{key:"blend",value:function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];v.default._validateParameters("p5.Image.blend",arguments),v.default.prototype.blend.apply(this,u),this.setModified(!0)}},{key:"setModified",value:function(d){this._modified=d}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(d,u){this.gifProperties?v.default.prototype.encodeAndDownloadGif(this,d):v.default.prototype.saveCanvas(this.canvas,d,u)}},{key:"reset",value:function(){var d;this.gifProperties&&((d=this.gifProperties).playing=!0,d.timeSinceStart=0,d.timeDisplayed=0,d.lastChangeTime=0,d.loopCount=0,d.displayIndex=0,this.drawingContext.putImageData(d.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var d;if(this.gifProperties)return(d=this.gifProperties).displayIndex%d.numFrames}},{key:"setFrame",value:function(d){var u;this.gifProperties&&(d<(u=this.gifProperties).numFrames&&0<=d?(u.timeDisplayed=0,u.lastChangeTime=0,u.displayIndex=d,this.drawingContext.putImageData(u.frames[d].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(d,u){if(this.gifProperties){var c=this.gifProperties;if(u<c.numFrames&&0<=u)c.frames[u].delay=d;else{var s=!0,m=void(u=!1);try{for(var p,y=c.frames[Symbol.iterator]();!(s=(p=y.next()).done);s=!0)p.value.delay=d}catch($){u=!0,m=$}finally{try{s||null==y.return||y.return()}finally{if(u)throw m}}}}}}])&&h(w.prototype,a),x}(),S.default=r=v.default.Image},{"../core/main":280,"./filters":301,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],305:[function(r,W,S){"use strict";r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.filter"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=f(r("../core/main")),_=f(r("./filters"));function f(h){return h&&h.__esModule?h:{default:h}}r("../color/p5.Color"),v.default.prototype.pixels=[],v.default.prototype.blend=function(){for(var h,x=arguments.length,w=new Array(x),a=0;a<x;a++)w[a]=arguments[a];v.default._validateParameters("blend",w),this._renderer?(h=this._renderer).blend.apply(h,w):v.default.Renderer2D.prototype.blend.apply(this,w)},v.default.prototype.copy=function(){for(var h,x,w,a,l,d,u,c,s,m=arguments.length,p=new Array(m),y=0;y<m;y++)p[y]=arguments[y];if(v.default._validateParameters("copy",p),9===p.length)h=p[0],x=p[1],w=p[2],a=p[3],l=p[4],d=p[5],u=p[6],c=p[7],s=p[8];else{if(8!==p.length)throw new Error("Signature not supported");h=this,x=p[0],w=p[1],a=p[2],l=p[3],d=p[4],u=p[5],c=p[6],s=p[7]}v.default.prototype._copyHelper(this,h,x,w,a,l,d,u,c,s)},v.default.prototype._copyHelper=function(h,x,w,a,l,d,u,c,s,m){var p=x.canvas.width/x.width,y=0,O=0;x._renderer&&x._renderer.isP3D&&(y=x.width/2,O=x.height/2),h._renderer&&h._renderer.isP3D?(h.push(),h.resetMatrix(),h.noLights(),h.blendMode(h.BLEND),h.imageMode(h.CORNER),v.default.RendererGL.prototype.image.call(h._renderer,x,w+y,a+O,l,d,u,c,s,m),h.pop()):h.drawingContext.drawImage(x.canvas,p*(w+y),p*(a+O),p*l,p*d,u,c,s,m)},v.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},v.default.prototype.filter=function(){for(var h=arguments.length,x=new Array(h),w=0;w<h;w++)x[w]=arguments[w];v.default._validateParameters("filter",x);var u=function(){var c,s={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof v.default.Shader?s.shader=arguments.length<=0?void 0:arguments[0]:(s.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&"number"==typeof(arguments.length<=1?void 0:arguments[1])&&(s.value=arguments.length<=1?void 0:arguments[1]),!1===((c=arguments.length-1)<0||arguments.length<=c?void 0:arguments[c])&&(s.useWebGL=!1)),s}.apply(void 0,x),a=u.shader,l=u.operation,d=u.value;u=u.useWebGL,this._renderer.isP3D&&a?v.default.RendererGL.prototype.filter.call(this._renderer,a):u||this._renderer.isP3D?(!u&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?v.default.RendererGL.prototype.filter.call(this._renderer,l,d):((a=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),a.filter.apply(a,x),this.copy(a._renderer,0,0,this.width,this.height,0,0,this.width,this.height),a.clear())):_.default.apply(void 0!==this.canvas?this.canvas:this.elt,_.default[l],d)},v.default.prototype.get=function(h,x,w,a){var l;return v.default._validateParameters("get",arguments),(l=this._renderer).get.apply(l,arguments)},v.default.prototype.loadPixels=function(){for(var h=arguments.length,x=new Array(h),w=0;w<h;w++)x[w]=arguments[w];v.default._validateParameters("loadPixels",x),this._renderer.loadPixels()},v.default.prototype.set=function(h,x,w){this._renderer.set(h,x,w)},v.default.prototype.updatePixels=function(h,x,w,a){v.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(h,x,w,a)},S.default=r=v.default},{"../color/p5.Color":267,"../core/main":280,"./filters":301,"core-js/modules/es.array.filter":156}],306:[function(r,W,S){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.from-entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/web.url"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.from-entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/web.url"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=x(r("../core/main")),f=(r("whatwg-fetch"),r("es6-promise/auto"),x(r("fetch-jsonp"))),h=x(r("file-saver"));function x(d){return d&&d.__esModule?d:{default:d}}function w(d){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(d)}function a(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function l(d,u){u&&!0!==u&&"true"!==u||(u="");var c="";return(d=d||"untitled")&&d.includes(".")&&(c=d.split(".").pop()),u&&c!==u&&(c=u,d="".concat(d,".").concat(c)),[d,c]}r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),_.default.prototype.loadJSON=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];_.default._validateParameters("loadJSON",u);for(var s,m,p,y=u[0],O={},$="json",N=1;N<u.length;N++){var P=u[N];"string"==typeof P?"jsonp"!==P&&"json"!==P||($=P):"function"==typeof P?s?m=P:s=P:"object"===w(P)&&(P.hasOwnProperty("jsonpCallback")||P.hasOwnProperty("jsonpCallbackFunction"))&&($="jsonp",p=P)}var j=this;return this.httpDo(y,"GET",p,$,function(V){for(var k in V)O[k]=V[k];void 0!==s&&s(V),j._decrementPreload()},function(V){if(_.default._friendlyFileLoadError(5,y),!m)throw V;m(V)}),O},_.default.prototype.loadStrings=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];_.default._validateParameters("loadStrings",u);for(var s,m,p=[],y=1;y<u.length;y++){var O=u[y];"function"==typeof O&&(void 0===s?s=O:void 0===m&&(m=O))}var $=this;return _.default.prototype.httpDo.call(this,u[0],"GET","text",function(N){for(var P=N.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),j=0,V=P.length;j<V;j+=32768)Array.prototype.push.apply(p,P.slice(j,Math.min(j+32768,V)));void 0!==s&&s(p),$._decrementPreload()},function(N){if(_.default._friendlyFileLoadError(3,N),!m)throw N;m(N)}),p},_.default.prototype.loadTable=function(d){var u,c,s,m=[],p=!1,y=d.substring(d.lastIndexOf(".")+1,d.length);"csv"===y?s=",":"ssv"===y?s=";":"tsv"===y&&(s="\t");for(var O=1;O<arguments.length;O++)"function"==typeof arguments[O]?void 0===u?u=arguments[O]:void 0===c&&(c=arguments[O]):"string"==typeof arguments[O]&&(m.push(arguments[O]),"header"===arguments[O]&&(p=!0),"csv"===arguments[O]?s=",":"ssv"===arguments[O]?s=";":"tsv"===arguments[O]&&(s="\t"));var $=new _.default.Table,N=this;return this.httpDo(d,"GET","table",function(P){for(var j,V,k={},T=[],H=0,X=null,z=function(){k.currentState=0,k.token=""},te=function(){X.push(k.token),z()},J=function(){k.currentState=4,T.push(X),X=null};;){if(null==(j=P[H++])){if(k.escaped)throw new Error("Unclosed quote in file.");if(X){te(),J();break}}if(null===X&&(k.escaped=!1,X=[],z()),0===k.currentState){if('"'===j){k.escaped=!0,k.currentState=1;continue}k.currentState=1}if(1===k.currentState&&k.escaped)if('"'===j)'"'===P[H]?(k.token+='"',H++):(k.escaped=!1,k.currentState=2);else{if("\r"===j)continue;k.token+=j}else"\r"===j?("\n"===P[H]&&H++,te(),J()):"\n"===j?(te(),J()):j===s?te():1===k.currentState&&(k.token+=j)}if(p)$.columns=T.shift();else for(var q=0;q<T[0].length;q++)$.columns[q]="null";for(var ne=0;ne<T.length;ne++)(1!==T[ne].length||"undefined"!==T[ne][0]&&""!==T[ne][0])&&((V=new _.default.TableRow).arr=T[ne],V.obj=function(de,De){if(void 0===(De=De||[]))for(var Y=0;Y<de.length;Y++)De[Y.toString()]=Y;return Object.fromEntries(De.map(function(R,se){return[R,de[se]]}))}(T[ne],$.columns),$.addRow(V));"function"==typeof u&&u($),N._decrementPreload()},function(P){_.default._friendlyFileLoadError(2,d),c?c(P):console.error(P)}),$},_.default.prototype.loadXML=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];for(var s,m,p=new _.default.XML,y=1;y<u.length;y++){var O=u[y];"function"==typeof O&&(void 0===s?s=O:void 0===m&&(m=O))}var $=this;return this.httpDo(u[0],"GET","xml",function(N){for(var P in N)p[P]=N[P];void 0!==s&&s(p),$._decrementPreload()},function(N){if(_.default._friendlyFileLoadError(1,N),!m)throw N;m(N)}),p},_.default.prototype.loadBytes=function(d,u,c){var s={},m=this;return this.httpDo(d,"GET","arrayBuffer",function(p){s.bytes=new Uint8Array(p),"function"==typeof u&&u(s),m._decrementPreload()},function(p){if(_.default._friendlyFileLoadError(6,d),!c)throw p;c(p)}),s},_.default.prototype.httpGet=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];return _.default._validateParameters("httpGet",u),u.splice(1,0,"GET"),_.default.prototype.httpDo.apply(this,u)},_.default.prototype.httpPost=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];return _.default._validateParameters("httpPost",u),u.splice(1,0,"POST"),_.default.prototype.httpDo.apply(this,u)},_.default.prototype.httpDo=function(){for(var d,u,c,s={},m=0,p="text/plain",y=arguments.length-1;0<y&&"function"==typeof(y<0||arguments.length<=y?void 0:arguments[y]);y--)m++;var $=arguments.length<=0?void 0:arguments[0];if(2==(O=arguments.length-m)&&"string"==typeof $&&"object"===w(arguments.length<=1?void 0:arguments[1]))E=new Request($,arguments.length<=1?void 0:arguments[1]),u=arguments.length<=2?void 0:arguments[2],c=arguments.length<=3?void 0:arguments[3];else{for(var N,P="GET",j=1;j<arguments.length;j++){var V=j<0||arguments.length<=j?void 0:arguments[j];if("string"==typeof V)"GET"===V||"POST"===V||"PUT"===V||"DELETE"===V?P=V:"json"===V||"jsonp"===V||"binary"===V||"arrayBuffer"===V||"xml"===V||"text"===V||"table"===V?d=V:N=V;else if("number"==typeof V)N=V.toString();else if("object"===w(V))if(V.hasOwnProperty("jsonpCallback")||V.hasOwnProperty("jsonpCallbackFunction"))for(var k in V)s[k]=V[k];else p=V instanceof _.default.XML?(N=V.serialize(),"application/xml"):(N=JSON.stringify(V),"application/json");else"function"==typeof V&&(u?c=V:u=V)}var O="GET"===P?new Headers:new Headers({"Content-Type":p}),E=new Request($,{method:P,mode:"cors",body:N,headers:O})}return(O=(O="jsonp"===(d=d||($.includes("json")?"json":$.includes("xml")?"xml":"text"))?(0,f.default)($,s):fetch(E)).then(function(T){if(!T.ok)throw(H=new Error(T.body)).status=T.status,H.ok=!1,H;var H=0;switch((H="jsonp"!==d?T.headers.get("content-length"):H)&&64e6<H&&_.default._friendlyFileLoadError(7,$),d){case"json":case"jsonp":return T.json();case"binary":return T.blob();case"arrayBuffer":return T.arrayBuffer();case"xml":return T.text().then(function(X){return X=(new DOMParser).parseFromString(X,"text/xml"),new _.default.XML(X.documentElement)});default:return T.text()}})).then(u||function(){}),O.catch(c||console.error),O},window.URL=window.URL||window.webkitURL,_.default.prototype._pWriters=[],_.default.prototype.createWriter=function(d,u){var c,s;for(s in _.default.prototype._pWriters)if(_.default.prototype._pWriters[s].name===d)return c=new _.default.PrintWriter(d+this.millis(),u),_.default.prototype._pWriters.push(c),c;return c=new _.default.PrintWriter(d,u),_.default.prototype._pWriters.push(c),c},_.default.PrintWriter=function(d,u){var c=this;this.name=d,this.content="",this.write=function(s){this.content+=s},this.print=function(s){this.content+="".concat(s,"\n")},this.clear=function(){this.content=""},this.close=function(){var s,m=[];for(s in m.push(this.content),_.default.prototype.writeFile(m,d,u),_.default.prototype._pWriters)_.default.prototype._pWriters[s].name===this.name&&_.default.prototype._pWriters.splice(s,1);c.clear(),c={}}},_.default.prototype.save=function(d,u,c){var s=arguments,m=(this._curElement||this).elt;if(0===s.length)_.default.prototype.saveCanvas(m);else if(s[0]instanceof _.default.Renderer||s[0]instanceof _.default.Graphics)_.default.prototype.saveCanvas(s[0].elt,s[1],s[2]);else if(1===s.length&&"string"==typeof s[0])_.default.prototype.saveCanvas(m,s[0]);else switch(l(s[1],s[2])[1]){case"json":return void _.default.prototype.saveJSON(s[0],s[1],s[2]);case"txt":return void _.default.prototype.saveStrings(s[0],s[1],s[2]);default:s[0]instanceof Array?_.default.prototype.saveStrings(s[0],s[1],s[2]):s[0]instanceof _.default.Table?_.default.prototype.saveTable(s[0],s[1],s[2]):s[0]instanceof _.default.Image?_.default.prototype.saveCanvas(s[0].canvas,s[1]):s[0]instanceof _.default.SoundFile&&_.default.prototype.saveSound(s[0],s[1],s[2],s[3])}},_.default.prototype.saveJSON=function(d,u,c){_.default._validateParameters("saveJSON",arguments),c=c?JSON.stringify(d):JSON.stringify(d,void 0,2),this.saveStrings(c.split("\n"),u,"json")},_.default.prototype.saveJSONObject=_.default.prototype.saveJSON,_.default.prototype.saveJSONArray=_.default.prototype.saveJSON,_.default.prototype.saveStrings=function(d,u,c,s){_.default._validateParameters("saveStrings",arguments);for(var m=this.createWriter(u,c||"txt"),p=0;p<d.length;p++)m.write(s?d[p]+"\r\n":d[p]+"\n");m.close(),m.clear()},_.default.prototype.saveTable=function(d,u,c){_.default._validateParameters("saveTable",arguments),s=void 0===c?u.substring(u.lastIndexOf(".")+1,u.length):c;var s,m=this.createWriter(u,s),p=d.columns,y="tsv"===s?"\t":",";if("html"!==s){if("0"!==p[0]){for(var O=0;O<p.length;O++)m.write(O<p.length-1?p[O]+y:p[O]);m.write("\n")}for(var $=0;$<d.rows.length;$++){var N=void 0;for(N=0;N<d.rows[$].arr.length;N++)N<d.rows[$].arr.length-1?"csv"===s&&String(d.rows[$].arr[N]).includes(",")?m.write('"'+d.rows[$].arr[N]+'"'+y):m.write(d.rows[$].arr[N]+y):"csv"===s&&String(d.rows[$].arr[N]).includes(",")?m.write('"'+d.rows[$].arr[N]+'"'):m.write(d.rows[$].arr[N]);m.write("\n")}}else{if(m.print("<html>"),m.print("<head>"),m.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),m.print("</head>"),m.print("<body>"),m.print("  <table>"),"0"!==p[0]){m.print("    <tr>");for(var P=0;P<p.length;P++){var j=a(p[P]);m.print("      <td>".concat(j)),m.print("      </td>")}m.print("    </tr>")}for(var V=0;V<d.rows.length;V++){m.print("    <tr>");for(var k=0;k<d.columns.length;k++){var E=a(d.rows[V].getString(k));m.print("      <td>".concat(E)),m.print("      </td>")}m.print("    </tr>")}m.print("  </table>"),m.print("</body>"),m.print("</html>")}m.close(),m.clear()},_.default.prototype.writeFile=function(m,u,c){var s="application/octet-stream";_.default.prototype._isSafari()&&(s="text/plain"),m=new Blob(m,{type:s}),_.default.prototype.downloadFile(m,u,c)},_.default.prototype.downloadFile=function(d,m,p){var s;p=(m=l(m,p))[0],d instanceof Blob?h.default.saveAs(d,p):((s=document.createElement("a")).href=d,s.download=p,s.onclick=function(y){document.body.removeChild(y.target),y.stopPropagation()},s.style.display="none",document.body.appendChild(s),_.default.prototype._isSafari()&&(d=(d='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+'3. Name it with this extension: ."'.concat(m[1],'"'),alert(d)),s.click())},_.default.prototype._checkFileExtension=l,_.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},S.default=r=_.default},{"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.object.from-entries":182,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.iterator":243,"core-js/modules/web.url":245,"es6-promise/auto":246,"fetch-jsonp":248,"file-saver":249,"whatwg-fetch":258}],307:[function(r,W,S){"use strict";r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.replace"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(r=r("../core/main"))&&r.__esModule?r:{default:r};function _(f,h){for(var x=0;x<h.length;x++){var w=h[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}v.default.Table=function(){function f(a){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}var h,x;return h=f,(x=[{key:"addRow",value:function(a){if(void 0===(a=a||new v.default.TableRow).arr||void 0===a.obj)throw new Error("invalid TableRow: ".concat(a));return(a.table=this).rows.push(a),a}},{key:"removeRow",value:function(a){this.rows[a].table=null,a=this.rows.splice(a+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(a)}},{key:"getRow",value:function(a){return this.rows[a]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(a,l){if("string"==typeof l){for(var d=0;d<this.rows.length;d++)if(this.rows[d].obj[l]===a)return this.rows[d]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].arr[l]===a)return this.rows[u];return null}},{key:"findRows",value:function(a,l){var d=[];if("string"==typeof l)for(var u=0;u<this.rows.length;u++)this.rows[u].obj[l]===a&&d.push(this.rows[u]);else for(var c=0;c<this.rows.length;c++)this.rows[c].arr[l]===a&&d.push(this.rows[c]);return d}},{key:"matchRow",value:function(a,l){if("number"==typeof l){for(var d=0;d<this.rows.length;d++)if(this.rows[d].arr[l].match(a))return this.rows[d]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].obj[l].match(a))return this.rows[u];return null}},{key:"matchRows",value:function(a,l){var d=[];if("number"==typeof l)for(var u=0;u<this.rows.length;u++)this.rows[u].arr[l].match(a)&&d.push(this.rows[u]);else for(var c=0;c<this.rows.length;c++)this.rows[c].obj[l].match(a)&&d.push(this.rows[c]);return d}},{key:"getColumn",value:function(a){var l=[];if("string"==typeof a)for(var d=0;d<this.rows.length;d++)l.push(this.rows[d].obj[a]);else for(var u=0;u<this.rows.length;u++)l.push(this.rows[u].arr[a]);return l}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(a){this.columns.push(a||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(a,l){for(var d=[],u=0;u<a.length;u++)d.push(a.charAt(u).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var c=new RegExp(d.join("|"),"g");if(void 0===l)for(var s=0;s<this.columns.length;s++)for(var m=0;m<this.rows.length;m++){var p=(p=this.rows[m].arr[s]).replace(c,"");this.rows[m].arr[s]=p,this.rows[m].obj[this.columns[s]]=p}else if("string"==typeof l)for(var y=0;y<this.rows.length;y++){var O=(O=this.rows[y].obj[l]).replace(c,""),$=(this.rows[y].obj[l]=O,this.columns.indexOf(l));this.rows[y].arr[$]=O}else for(var N=0;N<this.rows.length;N++){var P=(P=this.rows[N].arr[l]).replace(c,"");this.rows[N].arr[l]=P,this.rows[N].obj[this.columns[l]]=P}}},{key:"trim",value:function(a){var l=new RegExp(" ","g");if(void 0===a)for(var d=0;d<this.columns.length;d++)for(var u=0;u<this.rows.length;u++){var c=(c=this.rows[u].arr[d]).replace(l,"");this.rows[u].arr[d]=c,this.rows[u].obj[this.columns[d]]=c}else if("string"==typeof a)for(var s=0;s<this.rows.length;s++){var m=(m=this.rows[s].obj[a]).replace(l,""),p=(this.rows[s].obj[a]=m,this.columns.indexOf(a));this.rows[s].arr[p]=m}else for(var y=0;y<this.rows.length;y++){var O=(O=this.rows[y].arr[a]).replace(l,"");this.rows[y].arr[a]=O,this.rows[y].obj[this.columns[a]]=O}}},{key:"removeColumn",value:function(u){var l,d;"string"==typeof u?d=this.columns.indexOf(l=u):l=this.columns[d=u],u=this.columns.splice(d+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(u);for(var c=0;c<this.rows.length;c++){var s=this.rows[c].arr,m=s.splice(d+1,s.length);s.pop(),this.rows[c].arr=s.concat(m),delete this.rows[c].obj[l]}}},{key:"set",value:function(a,l,d){this.rows[a].set(l,d)}},{key:"setNum",value:function(a,l,d){this.rows[a].setNum(l,d)}},{key:"setString",value:function(a,l,d){this.rows[a].setString(l,d)}},{key:"get",value:function(a,l){return this.rows[a].get(l)}},{key:"getNum",value:function(a,l){return this.rows[a].getNum(l)}},{key:"getString",value:function(a,l){return this.rows[a].getString(l)}},{key:"getObject",value:function(a){for(var l,d={},u=0;u<this.rows.length;u++)if(l=this.rows[u].obj,"string"==typeof a){if(!(0<=this.columns.indexOf(a)))throw new Error('This table has no column named "'.concat(a,'"'));d[l[a]]=l}else d[u]=this.rows[u].obj;return d}},{key:"getArray",value:function(){for(var a=[],l=0;l<this.rows.length;l++)a.push(this.rows[l].arr);return a}}])&&_(h.prototype,x),f}(),S.default=r=v.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.join":165,"core-js/modules/es.array.splice":170,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201}],308:[function(r,W,S){"use strict";function v(_,f){for(var h=0;h<f.length;h++){var x=f[h];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(_,x.key,x)}}r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.from-entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.from-entries"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.TableRow=function(){function _(w,a){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");var l=[];w&&(l=w.split(a=a||",")),this.arr=l,this.obj=Object.fromEntries(l.entries()),this.table=null}var f,h;return f=_,(h=[{key:"set",value:function(w,a){if("string"==typeof w){var l=this.table.columns.indexOf(w);if(!(0<=l))throw new Error('This table has no column named "'.concat(w,'"'));this.obj[w]=a,this.arr[l]=a}else{if(!(w<this.table.columns.length))throw new Error("Column #".concat(w," is out of the range of this table"));this.arr[w]=a,this.obj[l=this.table.columns[w]]=a}}},{key:"setNum",value:function(w,a){a=parseFloat(a),this.set(w,a)}},{key:"setString",value:function(w,a){a=a.toString(),this.set(w,a)}},{key:"get",value:function(w){return("string"==typeof w?this.obj:this.arr)[w]}},{key:"getNum",value:function(w){var a=parseFloat("string"==typeof w?this.obj[w]:this.arr[w]);if("NaN"===a.toString())throw"Error: ".concat(this.obj[w]," is NaN (Not a Number)");return a}},{key:"getString",value:function(w){return("string"==typeof w?this.obj:this.arr)[w].toString()}}])&&v(f.prototype,h),_}(),S.default=r=r.default},{"../core/main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.from-entries":182,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.split":203,"core-js/modules/web.dom-collections.iterator":243}],309:[function(r,W,S){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(r=r("../core/main"))&&r.__esModule?r:{default:r};function _(h,x){for(var w=0;w<x.length;w++){var a=x[w];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(h,a.key,a)}}v.default.XML=function(){function h(l){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");l?this.DOM=l:(l=document.implementation.createDocument(null,"doc"),this.DOM=l.createElement("root"))}var x,w;return x=h,(w=[{key:"getParent",value:function(){return new v.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(l){var d=this.DOM.innerHTML,u=this.DOM.attributes,c=document.implementation.createDocument(null,"default").createElement(l);c.innerHTML=d;for(var s=0;s<u.length;s++)c.setAttribute(u[s].nodeName,u.nodeValue);this.DOM=c}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var l=[],d=0;d<this.DOM.childNodes.length;d++)l.push(this.DOM.childNodes[d].nodeName);return l}},{key:"getChildren",value:function(l){return function f(h){for(var x=[],w=0;w<h.length;w++)x.push(new v.default.XML(h[w]));return x}(l?this.DOM.getElementsByTagName(l):this.DOM.children)}},{key:"getChild",value:function(l){if("string"!=typeof l)return new v.default.XML(this.DOM.children[l]);var d=!0,u=!1,c=void 0;try{for(var s,m=this.DOM.children[Symbol.iterator]();!(d=(s=m.next()).done);d=!0){var p=s.value;if(p.tagName===l)return new v.default.XML(p)}}catch(y){u=!0,c=y}finally{try{d||null==m.return||m.return()}finally{if(u)throw c}}}},{key:"addChild",value:function(l){l instanceof v.default.XML&&this.DOM.appendChild(l.DOM)}},{key:"removeChild",value:function(l){var d=-1;if("string"==typeof l){for(var u=0;u<this.DOM.children.length;u++)if(this.DOM.children[u].tagName===l){d=u;break}}else d=l;-1!==d&&this.DOM.removeChild(this.DOM.children[d])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var l=[],d=!0,u=!1,c=void 0;try{for(var s,m=this.DOM.attributes[Symbol.iterator]();!(d=(s=m.next()).done);d=!0)l.push(s.value.nodeName)}catch(y){u=!0,c=y}finally{try{d||null==m.return||m.return()}finally{if(u)throw c}}return l}},{key:"hasAttribute",value:function(l){var d={},u=!0,c=!1,s=void 0;try{for(var m,p=this.DOM.attributes[Symbol.iterator]();!(u=(m=p.next()).done);u=!0){var y=m.value;d[y.nodeName]=y.nodeValue}}catch(O){c=!0,s=O}finally{try{u||null==p.return||p.return()}finally{if(c)throw s}}return!!d[l]}},{key:"getNum",value:function(l,d){var u={},c=!0,s=!1,m=void 0;try{for(var p,y=this.DOM.attributes[Symbol.iterator]();!(c=(p=y.next()).done);c=!0){var O=p.value;u[O.nodeName]=O.nodeValue}}catch($){s=!0,m=$}finally{try{c||null==y.return||y.return()}finally{if(s)throw m}}return Number(u[l])||d||0}},{key:"getString",value:function(l,d){var u={},c=!0,s=!1,m=void 0;try{for(var p,y=this.DOM.attributes[Symbol.iterator]();!(c=(p=y.next()).done);c=!0){var O=p.value;u[O.nodeName]=O.nodeValue}}catch($){s=!0,m=$}finally{try{c||null==y.return||y.return()}finally{if(s)throw m}}return u[l]?String(u[l]):d||null}},{key:"setAttribute",value:function(l,d){this.DOM.setAttribute(l,d)}},{key:"getContent",value:function(l){var d=this.DOM.textContent;return(d=d.replace(/\s\s+/g,","))||l||null}},{key:"setContent",value:function(l){this.DOM.children.length||(this.DOM.textContent=l)}},{key:"serialize",value:function(){return(new XMLSerializer).serializeToString(this.DOM)}}])&&_(x.prototype,w),h}(),S.default=r=v.default},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],310:[function(r,W,S){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.string.includes"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(r=r("../core/main"))&&r.__esModule?r:{default:r};function _(f){return function(h){if(Array.isArray(h)){for(var x=0,w=new Array(h.length);x<h.length;x++)w[x]=h[x];return w}}(f)||function(h){if(Symbol.iterator in Object(h)||"[object Arguments]"===Object.prototype.toString.call(h))return Array.from(h)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}v.default.prototype.abs=Math.abs,v.default.prototype.ceil=Math.ceil,v.default.prototype.constrain=function(f,h,x){return v.default._validateParameters("constrain",arguments),Math.max(Math.min(f,x),h)},v.default.prototype.dist=function(){for(var f=arguments.length,h=new Array(f),x=0;x<f;x++)h[x]=arguments[x];return v.default._validateParameters("dist",h),4===h.length?Math.hypot(h[2]-h[0],h[3]-h[1]):6===h.length?Math.hypot(h[3]-h[0],h[4]-h[1],h[5]-h[2]):void 0},v.default.prototype.exp=Math.exp,v.default.prototype.floor=Math.floor,v.default.prototype.lerp=function(f,h,x){return v.default._validateParameters("lerp",arguments),x*(h-f)+f},v.default.prototype.log=Math.log,v.default.prototype.mag=function(f,h){return v.default._validateParameters("mag",arguments),Math.hypot(f,h)},v.default.prototype.map=function(f,h,x,w,a,l){return v.default._validateParameters("map",arguments),f=(f-h)/(x-h)*(a-w)+w,l?w<a?this.constrain(f,w,a):this.constrain(f,a,w):f},v.default.prototype.max=function(){for(var f=function(a){return Math.max.apply(Math,_(a))},h=arguments.length,x=new Array(h),w=0;w<h;w++)x[w]=arguments[w];return Array.isArray(x[0])?f(x[0]):f(x)},v.default.prototype.min=function(){for(var f=function(a){return Math.min.apply(Math,_(a))},h=arguments.length,x=new Array(h),w=0;w<h;w++)x[w]=arguments[w];return Array.isArray(x[0])?f(x[0]):f(x)},v.default.prototype.norm=function(f,h,x){return v.default._validateParameters("norm",arguments),this.map(f,h,x,0,1)},v.default.prototype.pow=Math.pow,v.default.prototype.round=function(f,h){return h?(h=Math.pow(10,h),Math.round(f*h)/h):Math.round(f)},v.default.prototype.sq=function(f){return f*f},v.default.prototype.sqrt=Math.sqrt,v.default.prototype.fract=function(w){v.default._validateParameters("fract",arguments);var h,x=0;return w=Number(w),isNaN(w)||Math.abs(w)===1/0?w:(w<0&&(w=-w,x=1),String(w).includes(".")&&!String(w).includes("e")?(h=+("0"+(h=String(w)).slice(h.indexOf("."))),Math.abs(x-h)):w<1?Math.abs(x-w):0)},S.default=r=v.default},{"../core/main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],311:[function(r,W,S){"use strict";r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.slice"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(r=r("../core/main"))&&r.__esModule?r:{default:r};function _(h,x,w){return(_=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(a,l,d){var u=[null];return u.push.apply(u,l),l=new(Function.bind.apply(a,u)),d&&f(l,d.prototype),l}).apply(null,arguments)}function f(h,x){return(f=Object.setPrototypeOf||function(w,a){return w.__proto__=a,w})(h,x)}v.default.prototype.createVector=function(h,x,w){return this instanceof v.default?_(v.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new v.default.Vector(h,x,w)},S.default=r=v.default},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193}],312:[function(w,W,S){"use strict";function v(a){return.5*(1-Math.cos(a*Math.PI))}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,w=(w=w("../core/main"))&&w.__esModule?w:{default:w};var _,f=4095,h=4,x=.5;w.default.prototype.noise=function(a){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==_){_=new Array(4096);for(var u=0;u<4096;u++)_[u]=Math.random()}a<0&&(a=-a),l<0&&(l=-l),d<0&&(d=-d);for(var c,s,m=Math.floor(a),p=Math.floor(l),y=Math.floor(d),O=a-m,$=l-p,N=d-y,P=0,j=.5,V=0;V<h;V++){var k=m+(p<<4)+(y<<8),E=v(O),T=v($),H=_[k&f];H+=E*(_[k+1&f]-H),c=_[k+16&f],H+=T*((c+=E*(_[k+16+1&f]-c))-H),c=_[(k+=256)&f],c+=E*(_[k+1&f]-c),s=_[k+16&f],c+=T*((s+=E*(_[k+16+1&f]-s))-c),P+=(H+=v(N)*(c-H))*j,j*=x,m<<=1,p<<=1,y<<=1,1<=(O*=2)&&(m++,O--),1<=($*=2)&&(p++,$--),1<=(N*=2)&&(y++,N--)}return P},w.default.prototype.noiseDetail=function(a,l){0<a&&(h=a),0<l&&(x=l)},w.default.prototype.noiseSeed=function(a){u=4294967296;var d,u,c_rand=function(){return(d=(1664525*d+1013904223)%u)/u};(function(m){d=(null==m?Math.random()*u:m)>>>0})(a),_=new Array(4096);for(var s=0;s<4096;s++)_[s]=c_rand()},S.default=w=w.default},{"../core/main":280}],313:[function(r,W,S){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function _(l){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(l)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.number.is-finite"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.sub"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.number.is-finite"),r("core-js/modules/es.string.sub"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(a=r("../core/main"))&&a.__esModule?a:{default:a},h=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==_(l)&&"function"!=typeof l)return{default:l};var d=x();if(d&&d.has(l))return d.get(l);var u,c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var m;Object.prototype.hasOwnProperty.call(l,u)&&((m=s?Object.getOwnPropertyDescriptor(l,u):null)&&(m.get||m.set)?Object.defineProperty(c,u,m):c[u]=l[u])}return c.default=l,d&&d.set(l,c),c}(r("../core/constants"));function x(){var l;return"function"!=typeof WeakMap?null:(x=function(){return l},l=new WeakMap)}function w(l,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}f.default.Vector=function(){function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");var m,p,y="function"==typeof(arguments.length<=0?void 0:arguments[0])?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],m=(arguments.length<=2?void 0:arguments[2])||0,p=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(m=(arguments.length<=0?void 0:arguments[0])||0,p=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=m,this.y=p,this.z=y}var d,u,c;return d=l,c=[{key:"fromAngle",value:function(s,m){return new f.default.Vector((m=void 0===m?1:m)*Math.cos(s),m*Math.sin(s),0)}},{key:"fromAngles",value:function(N,O,p){void 0===p&&(p=1);var y=Math.cos(O),$=(O=Math.sin(O),Math.cos(N));return N=Math.sin(N),new f.default.Vector(p*N*O,-p*$,p*N*y)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*h.TWO_PI)}},{key:"random3D",value:function(){var s=Math.random()*h.TWO_PI,m=2*Math.random()-1,p=(y=Math.sqrt(1-m*m))*Math.cos(s),y=y*Math.sin(s);return new f.default.Vector(p,y,m)}},{key:"copy",value:function(s){return s.copy(s)}},{key:"add",value:function(s,m,p){return p?p.set(s):(p=s.copy(),3===arguments.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),p.add(m),p}},{key:"rem",value:function(s,m){if(s instanceof f.default.Vector&&m instanceof f.default.Vector)return(s=s.copy()).rem(m),s}},{key:"sub",value:function(s,m,p){return p?p.set(s):(p=s.copy(),3===arguments.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),p.sub(m),p}},{key:"mult",value:function(s,m,p){return p?p.set(s):(p=s.copy(),3===arguments.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),p.mult(m),p}},{key:"rotate",value:function(s,m,p){return 2===arguments.length?p=s.copy():(p instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),p.set(s)),p.rotate(m),p}},{key:"div",value:function(s,m,p){return p?p.set(s):(p=s.copy(),3===arguments.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),p.div(m),p}},{key:"dot",value:function(s,m){return s.dot(m)}},{key:"cross",value:function(s,m){return s.cross(m)}},{key:"dist",value:function(s,m){return s.dist(m)}},{key:"lerp",value:function(s,m,p,y){return y?y.set(s):(y=s.copy(),4===arguments.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),y.lerp(m,p),y}},{key:"slerp",value:function(s,m,p,y){return y?y.set(s):(y=s.copy(),4===arguments.length&&f.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),y.slerp(m,p),y}},{key:"mag",value:function(s){return s.mag()}},{key:"magSq",value:function(s){return s.magSq()}},{key:"normalize",value:function(s,m){return arguments.length<2?m=s.copy():(m instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),m.set(s)),m.normalize()}},{key:"limit",value:function(s,m,p){return arguments.length<3?p=s.copy():(p instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),p.set(s)),p.limit(m)}},{key:"setMag",value:function(s,m,p){return arguments.length<3?p=s.copy():(p instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),p.set(s)),p.setMag(m)}},{key:"heading",value:function(s){return s.heading()}},{key:"angleBetween",value:function(s,m){return s.angleBetween(m)}},{key:"reflect",value:function(s,m,p){return arguments.length<3?p=s.copy():(p instanceof f.default.Vector||f.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),p.set(s)),p.reflect(m)}},{key:"array",value:function(s){return s.array()}},{key:"equals",value:function(s,m){var p;return s instanceof f.default.Vector?p=s:Array.isArray(s)?p=(new f.default.Vector).set(s):f.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),p.equals(m)}}],(u=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(s,m,p){return s instanceof f.default.Vector?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):Array.isArray(s)?(this.x=s[0]||0,this.y=s[1]||0,this.z=s[2]||0):(this.x=s||0,this.y=m||0,this.z=p||0),this}},{key:"copy",value:function(){return this.isPInst?new f.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new f.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(s,m,p){return s instanceof f.default.Vector?(this.x+=s.x||0,this.y+=s.y||0,this.z+=s.z||0):Array.isArray(s)?(this.x+=s[0]||0,this.y+=s[1]||0,this.z+=s[2]||0):(this.x+=s||0,this.y+=m||0,this.z+=p||0),this}},{key:"calculateRemainder2D",value:function(s,m){return 0!==s&&(this.x=this.x%s),0!==m&&(this.y=this.y%m),this}},{key:"calculateRemainder3D",value:function(s,m,p){return 0!==s&&(this.x=this.x%s),0!==m&&(this.y=this.y%m),0!==p&&(this.z=this.z%p),this}},{key:"rem",value:function(s,m,p){var y;if(s instanceof f.default.Vector){if([s.x,s.y,s.z].every(Number.isFinite))return O=parseFloat(s.x),$=parseFloat(s.y),y=parseFloat(s.z),this.calculateRemainder3D(O,$,y)}else if(Array.isArray(s)){if(s.every(function(N){return Number.isFinite(N)}))return 2===s.length?this.calculateRemainder2D(s[0],s[1]):3===s.length?this.calculateRemainder3D(s[0],s[1],s[2]):void 0}else if(1===arguments.length){if(Number.isFinite(s)&&0!==s)return this.x=this.x%s,this.y=this.y%s,this.z=this.z%s,this}else if(2===arguments.length){var O=Array.prototype.slice.call(arguments);if(O.every(function(N){return Number.isFinite(N)})&&2===O.length)return this.calculateRemainder2D(O[0],O[1])}else if(3===arguments.length){var $=Array.prototype.slice.call(arguments);if($.every(function(N){return Number.isFinite(N)})&&3===$.length)return this.calculateRemainder3D($[0],$[1],$[2])}}},{key:"sub",value:function(s,m,p){return s instanceof f.default.Vector?(this.x-=s.x||0,this.y-=s.y||0,this.z-=s.z||0):Array.isArray(s)?(this.x-=s[0]||0,this.y-=s[1]||0,this.z-=s[2]||0):(this.x-=s||0,this.y-=m||0,this.z-=p||0),this}},{key:"mult",value:function(s,m,p){var y;return s instanceof f.default.Vector?Number.isFinite(s.x)&&Number.isFinite(s.y)&&Number.isFinite(s.z)&&"number"==typeof s.x&&"number"==typeof s.y&&"number"==typeof s.z?(this.x*=s.x,this.y*=s.y,this.z*=s.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(s)?s.every(function(O){return Number.isFinite(O)})&&s.every(function(O){return"number"==typeof O})?1===s.length?(this.x*=s[0],this.y*=s[0],this.z*=s[0]):2===s.length?(this.x*=s[0],this.y*=s[1]):3===s.length&&(this.x*=s[0],this.y*=s[1],this.z*=s[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(y=Array.prototype.slice.call(arguments)).every(function(O){return Number.isFinite(O)})&&y.every(function(O){return"number"==typeof O})?(1===arguments.length&&(this.x*=s,this.y*=s,this.z*=s),2===arguments.length&&(this.x*=s,this.y*=m),3===arguments.length&&(this.x*=s,this.y*=m,this.z*=p)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(s,m,p){if(s instanceof f.default.Vector)if(Number.isFinite(s.x)&&Number.isFinite(s.y)&&Number.isFinite(s.z)&&"number"==typeof s.x&&"number"==typeof s.y&&"number"==typeof s.z){var y=0===s.z&&0===this.z;if(0===s.x||0===s.y||!y&&0===s.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=s.x,this.y/=s.y,y||(this.z/=s.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(s))if(s.every(function(O){return Number.isFinite(O)})&&s.every(function(O){return"number"==typeof O})){if(s.some(function(O){return 0===O}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===s.length?(this.x/=s[0],this.y/=s[0],this.z/=s[0]):2===s.length?(this.x/=s[0],this.y/=s[1]):3===s.length&&(this.x/=s[0],this.y/=s[1],this.z/=s[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if((y=Array.prototype.slice.call(arguments)).every(function(O){return Number.isFinite(O)})&&y.every(function(O){return"number"==typeof O})){if(y.some(function(O){return 0===O}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===arguments.length&&(this.x/=s,this.y/=s,this.z/=s),2===arguments.length&&(this.x/=s,this.y/=m),3===arguments.length&&(this.x/=s,this.y/=m,this.z/=p)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var s=this.x,m=this.y,p=this.z;return s*s+m*m+p*p}},{key:"dot",value:function(s,m,p){return s instanceof f.default.Vector?this.dot(s.x,s.y,s.z):this.x*(s||0)+this.y*(m||0)+this.z*(p||0)}},{key:"cross",value:function(y){var m=this.y*y.z-this.z*y.y,p=this.z*y.x-this.x*y.z;return y=this.x*y.y-this.y*y.x,this.isPInst?new f.default.Vector(this._fromRadians,this._toRadians,m,p,y):new f.default.Vector(m,p,y)}},{key:"dist",value:function(s){return s.copy().sub(this).mag()}},{key:"normalize",value:function(){var s=this.mag();return 0!==s&&this.mult(1/s),this}},{key:"limit",value:function(s){var m=this.magSq();return s*s<m&&this.div(Math.sqrt(m)).mult(s),this}},{key:"setMag",value:function(s){return this.normalize().mult(s)}},{key:"heading",value:function(){var s=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(s):s}},{key:"setHeading",value:function(s){this.isPInst&&(s=this._toRadians(s));var m=this.mag();return this.x=m*Math.cos(s),this.y=m*Math.sin(s),this}},{key:"rotate",value:function(m){m=this.heading()+m;var p=(this.isPInst&&(m=this._toRadians(m)),this.mag());return this.x=Math.cos(m)*p,this.y=Math.sin(m)*p,this}},{key:"angleBetween",value:function(s){var m;return this.magSq()*s.magSq()==0?NaN:(m=this.cross(s),s=Math.atan2(m.mag(),this.dot(s))*Math.sign(m.z||1),this.isPInst?this._fromRadians(s):s)}},{key:"lerp",value:function(s,m,p,y){return s instanceof f.default.Vector?this.lerp(s.x,s.y,s.z,m):(this.x+=(s-this.x)*y||0,this.y+=(m-this.y)*y||0,this.z+=(p-this.z)*y||0,this)}},{key:"slerp",value:function(s,m){if(0!==m){if(1===m)return this.set(s);var p=this.mag(),y=s.mag();if(p*y==0)this.mult(1-m).add(s.x*m,s.y*m,s.z*m);else{var O=this.cross(s),$=O.mag(),N=Math.atan2($,this.dot(s));if(0<$)O.x/=$,O.y/=$,O.z/=$;else{if(N<.5*Math.PI)return this.mult(1-m).add(s.x*m,s.y*m,s.z*m),this;0===this.z&&0===s.z?O.set(0,0,1):0!==this.x?O.set(this.y,-this.x,0).normalize():O.set(1,0,0)}$=O.cross(this),O=(s=1-m+m*y/p)*Math.cos(m*N),y=s*Math.sin(m*N),this.x=this.x*O+$.x*y,this.y=this.y*O+$.y*y,this.z=this.z*O+$.z*y}}return this}},{key:"reflect",value:function(s){return s.normalize(),this.sub(s.mult(2*this.dot(s)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function($,m,p){var y,O;return $=$ instanceof f.default.Vector?(y=$.x||0,O=$.y||0,$.z||0):Array.isArray($)?(y=$[0]||0,O=$[1]||0,$[2]||0):(y=$||0,O=m||0,p||0),this.x===y&&this.y===O&&this.z===$}}])&&w(d.prototype,u),c&&w(d,c),l}();var a=f.default.Vector;S.default=a},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.every":154,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.math.sign":177,"core-js/modules/es.number.constructor":178,"core-js/modules/es.number.is-finite":179,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],314:[function(x,W,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(x=x("../core/main"))&&x.__esModule?x:{default:x},_="_lcg_random_state",f=4294967296,h=0;v.default.prototype._lcg=function(w){return this[w]=(1664525*this[w]+1013904223)%f,this[w]/f},v.default.prototype._lcgSetSeed=function(w,a){this[w]=(null==a?Math.random()*f:a)>>>0},v.default.prototype.randomSeed=function(w){this._lcgSetSeed(_,w),this._gaussian_previous=!1},v.default.prototype.random=function(w,a){var l,d;return v.default._validateParameters("random",arguments),l=null!=this[_]?this._lcg(_):Math.random(),void 0===w?l:void 0===a?Array.isArray(w)?w[Math.floor(l*w.length)]:l*w:(a<w&&(d=w,w=a,a=d),l*(a-w)+w)},v.default.prototype.randomGaussian=function(w){var a,l,d,u,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)a=h,this._gaussian_previous=!1;else{for(;1<=(u=(l=this.random(2)-1)*l+(d=this.random(2)-1)*d););a=l*(u=Math.sqrt(-2*Math.log(u)/u)),h=d*u,this._gaussian_previous=!0}return a*c+(w||0)},S.default=x=v.default},{"../core/main":280}],315:[function(r,W,S){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(a)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(w=r("../core/main"))&&w.__esModule?w:{default:w},h=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var l=x();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(r("../core/constants"));function x(){var a;return"function"!=typeof WeakMap?null:(x=function(){return a},a=new WeakMap)}f.default.prototype._angleMode=h.RADIANS,f.default.prototype.acos=function(a){return this._fromRadians(Math.acos(a))},f.default.prototype.asin=function(a){return this._fromRadians(Math.asin(a))},f.default.prototype.atan=function(a){return this._fromRadians(Math.atan(a))},f.default.prototype.atan2=function(a,l){return this._fromRadians(Math.atan2(a,l))},f.default.prototype.cos=function(a){return Math.cos(this._toRadians(a))},f.default.prototype.sin=function(a){return Math.sin(this._toRadians(a))},f.default.prototype.tan=function(a){return Math.tan(this._toRadians(a))},f.default.prototype.degrees=function(a){return a*h.RAD_TO_DEG},f.default.prototype.radians=function(a){return a*h.DEG_TO_RAD},f.default.prototype.angleMode=function(a){if(f.default._validateParameters("angleMode",arguments),void 0===a)return this._angleMode;a!==h.DEGREES&&a!==h.RADIANS||a!==this._angleMode&&(a===h.RADIANS?(this._setProperty("pRotationX",this.pRotationX*h.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*h.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*h.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*h.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*h.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*h.RAD_TO_DEG)),this._angleMode=a)},f.default.prototype._toRadians=function(a){return this._angleMode===h.DEGREES?a*h.DEG_TO_RAD:a},f.default.prototype._toDegrees=function(a){return this._angleMode===h.RADIANS?a*h.RAD_TO_DEG:a},f.default.prototype._fromRadians=function(a){return this._angleMode===h.DEGREES?a*h.RAD_TO_DEG:a},f.default.prototype._fromDegrees=function(a){return this._angleMode===h.RADIANS?a*h.DEG_TO_RAD:a};var w=f.default;S.default=w},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],316:[function(r,W,S){"use strict";r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(r=r("../core/main"))&&r.__esModule?r:{default:r};v.default.prototype.textAlign=function(_,f){var h;return v.default._validateParameters("textAlign",arguments),(h=this._renderer).textAlign.apply(h,arguments)},v.default.prototype.textLeading=function(_){var f;return v.default._validateParameters("textLeading",arguments),(f=this._renderer).textLeading.apply(f,arguments)},v.default.prototype.textSize=function(_){var f;return v.default._validateParameters("textSize",arguments),(f=this._renderer).textSize.apply(f,arguments)},v.default.prototype.textStyle=function(_){var f;return v.default._validateParameters("textStyle",arguments),(f=this._renderer).textStyle.apply(f,arguments)},v.default.prototype.textWidth=function(){for(var _=arguments.length,f=new Array(_),h=0;h<_;h++)f[h]=arguments[h];if(f[0]+="",v.default._validateParameters("textWidth",f),0===f[0].length)return 0;for(var x=f[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),w=[],a=0;a<x.length;a++)w.push(this._renderer.textWidth(x[a]));return Math.max.apply(Math,w)},v.default.prototype.textAscent=function(){for(var _=arguments.length,f=new Array(_),h=0;h<_;h++)f[h]=arguments[h];return v.default._validateParameters("textAscent",f),this._renderer.textAscent()},v.default.prototype.textDescent=function(){for(var _=arguments.length,f=new Array(_),h=0;h<_;h++)f[h]=arguments[h];return v.default._validateParameters("textDescent",f),this._renderer.textDescent()},v.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},v.default.prototype.textWrap=function(_){if("WORD"!==_&&"CHAR"!==_)throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(_)},S.default=r=v.default},{"../core/main":280,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203}],317:[function(r,W,S){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(d)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.last-index-of"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.split"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(l=r("../core/main"))&&l.__esModule?l:{default:l},h=a(r("../core/constants")),x=a(r("opentype.js"));function w(){var d;return"function"!=typeof WeakMap?null:(w=function(){return d},d=new WeakMap)}function a(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var u=w();if(u&&u.has(d))return u.get(d);var c,s,m={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&((s=p?Object.getOwnPropertyDescriptor(d,c):null)&&(s.get||s.set)?Object.defineProperty(m,c,s):m[c]=d[c]);return m.default=d,u&&u.set(d,m),m}r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),f.default.prototype.loadFont=function(d,u,c){f.default._validateParameters("loadFont",arguments);var s=new f.default.Font(this),m=this;return x.load(d,function(O,$){if(O)return f.default._friendlyFileLoadError(4,d),void 0!==c?c(O):void console.error(O,d);s.font=$,void 0!==u&&u(s),m._decrementPreload();var N=($=(O=d.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:O.slice($+1);["ttf","otf","woff","woff2"].includes(N)&&(N=O.slice(0,-1!==$?$:0),(O=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(N,";\nsrc: url(").concat(d,");\n}\n"))),document.head.appendChild(O))}),s},f.default.prototype.text=function(d,u,c,s,m){var p;return f.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(p=this._renderer).text.apply(p,arguments):this},f.default.prototype.textFont=function(d,u){if(f.default._validateParameters("textFont",arguments),arguments.length){if(d)return this._renderer._setProperty("_textFont",d),u&&(this._renderer._setProperty("_textSize",u),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",u*h._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var l=f.default;S.default=l},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,"opentype.js":254}],318:[function(r,W,S){"use strict";function v(P){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(P)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.function.name"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=(_=r("../core/main"))&&_.__esModule?_:{default:_},f=function(P){if(P&&P.__esModule)return P;if(null===P||"object"!==x(P)&&"function"!=typeof P)return{default:P};var j=h();if(j&&j.has(P))return j.get(P);var V,k={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(V in P){var T;Object.prototype.hasOwnProperty.call(P,V)&&((T=E?Object.getOwnPropertyDescriptor(P,V):null)&&(T.get||T.set)?Object.defineProperty(k,V,T):k[V]=P[V])}return k.default=P,j&&j.set(P,k),k}(r("../core/constants"));function h(){var P;return"function"!=typeof WeakMap?null:(h=function(){return P},P=new WeakMap)}function x(P){return(x="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(j){return v(j)}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":v(j)})(P)}function w(P,j){for(var V=0;V<j.length;V++){var k=j[V];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(P,k.key,k)}}function a(P,j){var V=P.length;return P[j<0?j%V+V:j%V]}function l(P,j,V,k){var E,T,H;return k?(void 0===l.tmpPoint1&&(l.tmpPoint1=[],l.tmpPoint2=[]),H=l.tmpPoint2,(T=l.tmpPoint1).x=j.x-P.x,T.y=j.y-P.y,H.x=V.x-j.x,H.y=V.y-j.y,E=T.x*H.x+T.y*H.y,T=Math.sqrt(T.x*T.x+T.y*T.y),H=Math.sqrt(H.x*H.x+H.y*H.y),Math.acos(E/(T*H))<k):(j[0]-P[0])*(V[1]-P[1])-(V[0]-P[0])*(j[1]-P[1])==0}function d(R,pe,se,Ee,Ne,T,H,X,z){var te=1-z,J=(q=Math.pow(te,3))*R+3*(ne=Math.pow(te,2))*z*se+3*te*z*z*Ne+(de=(Y=z*z)*z)*H,q=q*pe+3*ne*z*Ee+3*te*z*z*T+de*X,ne=R+2*z*(se-R)+Y*(Ne-2*se+R),de=pe+2*z*(Ee-pe)+Y*(T-2*Ee+pe),De=se+2*z*(Ne-se)+Y*(H-2*Ne+se),Y=Ee+2*z*(T-Ee)+Y*(X-2*T+Ee);return R=te*R+z*se,se=te*pe+z*Ee,pe=te*Ne+z*H,Ee=te*T+z*X,Ne=90-180*Math.atan2(ne-De,de-Y)/Math.PI,(De<ne||de<Y)&&(Ne+=180),{x:J,y:q,m:{x:ne,y:de},n:{x:De,y:Y},start:{x:R,y:se},end:{x:pe,y:Ee},alpha:Ne}}function u(P,j,V,k,E,T,H,X,z){return null==z?$(P,j,V,k,E,T,H,X):d(P,j,V,k,E,T,H,X,function(te,J,q,ne,de,De,Y,R,se){if(!(se<0||$(te,J,q,ne,de,De,Y,R)<se)){var pe,Ee=.5,Ne=1-Ee;for(pe=$(te,J,q,ne,de,De,Y,R,Ne);.01<Math.abs(pe-se);)pe=$(te,J,q,ne,de,De,Y,R,Ne+=(pe<se?1:-1)*(Ee/=2));return Ne}}(P,j,V,k,E,T,H,X,z))}function c(P,j,V){for(var k,E,T,H,X,z=0,te=0,J=(P=function(q,ne){function de(ht,ft,kt){var qt,Lt;if(!ht)return["C",ft.x,ft.y,ft.x,ft.y,ft.x,ft.y];switch(ht[0]in{T:1,Q:1}||(ft.qx=ft.qy=null),ht[0]){case"M":ft.X=ht[1],ft.Y=ht[2];break;case"A":ht=["C"].concat(m.apply(0,[ft.x,ft.y].concat(ht.slice(1))));break;case"S":Lt="C"===kt||"S"===kt?(qt=2*ft.x-ft.bx,2*ft.y-ft.by):(qt=ft.x,ft.y),ht=["C",qt,Lt].concat(ht.slice(1));break;case"T":"Q"===kt||"T"===kt?(ft.qx=2*ft.x-ft.qx,ft.qy=2*ft.y-ft.qy):(ft.qx=ft.x,ft.qy=ft.y),ht=["C"].concat(O(ft.x,ft.y,ft.qx,ft.qy,ht[1],ht[2]));break;case"Q":ft.qx=ht[1],ft.qy=ht[2],ht=["C"].concat(O(ft.x,ft.y,ht[1],ht[2],ht[3],ht[4]));break;case"L":ht=["C"].concat(y(ft.x,ft.y,ht[1],ht[2]));break;case"H":ht=["C"].concat(y(ft.x,ft.y,ht[1],ft.y));break;case"V":ht=["C"].concat(y(ft.x,ft.y,ft.x,ht[1]));break;case"Z":ht=["C"].concat(y(ft.x,ft.y,ft.X,ft.Y))}return ht}function De(ht,ft){if(7<ht[ft].length){ht[ft].shift();for(var kt=ht[ft];kt.length;)We[ft]="A",pe&&(et[ft]="A"),ht.splice(ft++,0,["C"].concat(kt.splice(0,6)));ht.splice(ft,1),R=Math.max(se.length,pe&&pe.length||0)}}function Y(ht,ft,kt,qt,Lt){ht&&ft&&"M"===ht[Lt][0]&&"M"!==ft[Lt][0]&&(ft.splice(Lt,0,["M",qt.x,qt.y]),kt.bx=0,kt.by=0,kt.x=ht[Lt][1],kt.y=ht[Lt][2],R=Math.max(se.length,pe&&pe.length||0))}var R,se=s(q),pe=undefined,Ee={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ne={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},We=[],et=[],Ae="",Be="";R=Math.max(se.length,pe&&pe.length||0);for(var Fe=0;Fe<R;Fe++){"C"!==(Ae=se[Fe]?se[Fe][0]:Ae)&&(We[Fe]=Ae,Fe&&(Be=We[Fe-1])),se[Fe]=de(se[Fe],Ee,Be),"A"!==We[Fe]&&"C"===Ae&&(We[Fe]="C"),De(se,Fe),pe&&("C"!==(Ae=pe[Fe]?pe[Fe][0]:Ae)&&(et[Fe]=Ae,Fe&&(Be=et[Fe-1])),pe[Fe]=de(pe[Fe],Ne,Be),"A"!==et[Fe]&&"C"===Ae&&(et[Fe]="C"),De(pe,Fe)),Y(se,pe,Ee,Ne,Fe),Y(pe,se,Ne,Ee,Fe);var Oe=se[Fe],Ze=pe&&pe[Fe],Qe=Oe.length,vt=pe&&Ze.length;Ee.x=Oe[Qe-2],Ee.y=Oe[Qe-1],Ee.bx=parseFloat(Oe[Qe-4])||Ee.x,Ee.by=parseFloat(Oe[Qe-3])||Ee.y,Ne.bx=pe&&(parseFloat(Ze[vt-4])||Ne.x),Ne.by=pe&&(parseFloat(Ze[vt-3])||Ne.y),Ne.x=pe&&Ze[vt-2],Ne.y=pe&&Ze[vt-1]}return pe?[se,pe]:se}(P)).length;te<J;te++){if("M"===(T=P[te])[0])k=+T[1],E=+T[2];else{if(j<z+(H=u(k,E,T[1],T[2],T[3],T[4],T[5],T[6]))&&!V)return{x:(X=u(k,E,T[1],T[2],T[3],T[4],T[5],T[6],j-z)).x,y:X.y,alpha:X.alpha};z+=H,k=+T[5],E=+T[6]}T.shift()}return(X=V?z:d(k,E,T[0],T[1],T[2],T[3],T[4],T[5],1)).alpha?{x:X.x,y:X.y,alpha:X.alpha}:X}function s(P){var j=[],V=0,k=0,E=0,T=0,H=0;if(P){"M"===P[0][0]&&(E=V=+P[0][1],T=k=+P[0][2],H++,j[0]=["M",V,k]);for(var X,z,te=3===P.length&&"M"===P[0][0]&&"R"===P[1][0].toUpperCase()&&"Z"===P[2][0].toUpperCase(),J=H,q=P.length;J<q;J++){if(j.push(X=[]),(z=P[J])[0]!==z[0].toUpperCase())switch(X[0]=z[0].toUpperCase(),X[0]){case"A":X[1]=z[1],X[2]=z[2],X[3]=z[3],X[4]=z[4],X[5]=z[5],X[6]=+(z[6]+V),X[7]=+(z[7]+k);break;case"V":X[1]=+z[1]+k;break;case"H":X[1]=+z[1]+V;break;case"R":for(var ne,de=2,De=(ne=[V,k].concat(z.slice(1))).length;de<De;de++)ne[de]=+ne[de]+V,ne[++de]=+ne[de]+k;j.pop(),j=j.concat(p(ne,te));break;case"M":E=+z[1]+V,T=+z[2]+k;break;default:for(var Y=1,R=z.length;Y<R;Y++)X[Y]=+z[Y]+(Y%2?V:k)}else if("R"===z[0])ne=[V,k].concat(z.slice(1)),j.pop(),j=j.concat(p(ne,te)),X=["R"].concat(z.slice(-2));else for(var se=0,pe=z.length;se<pe;se++)X[se]=z[se];switch(X[0]){case"Z":V=E,k=T;break;case"H":V=X[1];break;case"V":k=X[1];break;case"M":E=X[X.length-2],T=X[X.length-1];break;default:V=X[X.length-2],k=X[X.length-1]}}}return j}function m(P,j,V,k,pe,We,Ee,X,z,te){function J(vt,ht,ft){return{x:vt*Math.cos(ft)-ht*Math.sin(ft),y:vt*Math.sin(ft)+ht*Math.cos(ft)}}var q,se=120*(R=Math.PI)/180,ne=R/180*(+pe||0),de=[],De=(te?(Fe=te[0],q=te[1],Ae=te[2],Be=te[3]):(P=(Ne=J(P,j,-ne)).x,j=Ne.y,1<(De=(Y=(P-(X=(Ne=J(X,z,-ne)).x))/2)*Y/(V*V)+(Ne=(j-(z=Ne.y))/2)*Ne/(k*k))&&(V*=De=Math.sqrt(De),k*=De),De=V*V,et=k*k,Ae=(We=(We===Ee?-1:1)*Math.sqrt(Math.abs((De*et-De*Ne*Ne-et*Y*Y)/(De*Ne*Ne+et*Y*Y))))*V*Ne/k+(P+X)/2,Be=We*-k*Y/V+(j+z)/2,Fe=Math.asin(((j-Be)/k).toFixed(9)),q=Math.asin(((z-Be)/k).toFixed(9)),(Fe=P<Ae?R-Fe:Fe)<0&&(Fe=2*R+Fe),(q=X<Ae?R-q:q)<0&&(q=2*R+q),Ee&&q<Fe&&(Fe-=2*R),!Ee&&Fe<q&&(q-=2*R)),q-Fe),Y=(Math.abs(De)>se&&(et=q,Ne=X,We=z,q=Fe+se*(Ee&&Fe<q?1:-1),de=m(X=Ae+V*Math.cos(q),z=Be+k*Math.sin(q),V,k,pe,0,Ee,Ne,We,[q,et,Ae,Be])),De=q-Fe,Math.cos(Fe)),R=Math.sin(Fe),Ne=(se=Math.cos(q),pe=Math.sin(q),4/3*V*(Ee=Math.tan(De/4))),et=[P,j],Ae=[P+Ne*R,j-(We=4/3*k*Ee)*Y],Be=[X+Ne*pe,z-We*se],Fe=[X,z];if(Ae[0]=2*et[0]-Ae[0],Ae[1]=2*et[1]-Ae[1],te)return[Ae,Be,Fe].concat(de);for(var Oe=[],Ze=0,Qe=(de=[Ae,Be,Fe].concat(de).join().split(",")).length;Ze<Qe;Ze++)Oe[Ze]=Ze%2?J(de[Ze-1],de[Ze],ne).y:J(de[Ze],de[Ze+1],ne).x;return Oe}function p(P,j){for(var V=[],k=0,E=P.length;k<E-2*!j;k+=2){var T=[{x:+P[k-2],y:+P[k-1]},{x:+P[k],y:+P[k+1]},{x:+P[k+2],y:+P[k+3]},{x:+P[k+4],y:+P[k+5]}];j?k?E-4===k?T[3]={x:+P[0],y:+P[1]}:E-2===k&&(T[2]={x:+P[0],y:+P[1]},T[3]={x:+P[2],y:+P[3]}):T[0]={x:+P[E-2],y:+P[E-1]}:E-4===k?T[3]=T[2]:k||(T[0]={x:+P[k],y:+P[k+1]}),V.push(["C",(6*T[1].x-T[0].x+T[2].x)/6,(6*T[1].y-T[0].y+T[2].y)/6,(T[1].x+6*T[2].x-T[3].x)/6,(T[1].y+6*T[2].y-T[3].y)/6,T[2].x,T[2].y])}return V}function y(P,j,V,k){return[P,j,V,k,V,k]}function O(P,j,V,k,E,T){return[1/3*P+2/3*V,1/3*j+2/3*k,1/3*E+2/3*V,1/3*T+2/3*k,E,T]}function $(P,j,V,k,E,T,H,X,z){for(var te=(z=1<(z=null==z?1:z)?1:z<0?0:z)/2,J=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],q=0,ne=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],de=0;de<12;de++){var De=N(Y=te*J[de]+te,P,V,E,H),Y=N(Y,j,k,T,X);q+=ne[de]*Math.sqrt(De*De+Y*Y)}return te*q}function N(P,j,V,k,E){return P*(P*(-3*j+9*V-9*k+3*E)+6*j-12*V+6*k)-3*j+3*V}_.default.Font=function(){function P(E){if(!(this instanceof P))throw new TypeError("Cannot call a class as a function");this.parent=E,this.cache={},this.font=void 0}var j,V;return j=P,(V=[{key:"textBounds",value:function(E){var T=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,H=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,X=4<arguments.length?arguments[4]:void 0,z=X&&X.renderer&&X.renderer._pInst||this.parent,te=z._renderer.drawingContext,J=(J=3<arguments.length?arguments[3]:void 0)||z._renderer._textSize;if(!We){for(var q=[],ne=[],de=[],De=(de[0]=[],[]),Y=this._scale(J),R=z._renderer.textLeading(),se=0,pe=(this.font.forEachGlyph(E,T,H,J,X,function(Be,Fe,Oe,Ze){var Qe=Be.getMetrics();0===Be.index?de[se+=1]=[]:(de[se].push(Fe+Qe.xMin*Y),de[se].push(Fe+Qe.xMax*Y),De.push(Oe+se*R+-Qe.yMin*Y),De.push(Oe+se*R+-Qe.yMax*Y))}),0<de[se].length&&(q[se]=Math.min.apply(null,de[se]),ne[se]=Math.max.apply(null,de[se])),0),Ee=0;Ee<=se;Ee++){q[Ee]=Math.min.apply(null,de[Ee]),ne[Ee]=Math.max.apply(null,de[Ee]);var Ne=ne[Ee]-q[Ee];pe<Ne&&(pe=Ne)}var We={x:te=Math.min.apply(null,q),y:H=Math.min.apply(null,De),h:Math.max.apply(null,De)-H,w:pe,advance:te-T};J=this._handleAlignment(z._renderer,E,We.x,We.y,We.w+We.advance),We.x=J.x,We.y=J.y}return We}},{key:"textToPoints",value:function(E,T,H,X,z){var te=T,J=[],q=E.split(/\r?\n|\r|\n/g);X=X||this.parent._renderer._textSize;for(var ne,de,De,Y=0;Y<q.length;Y++){var R=0;T=te;for(var se=(se=q[Y]).replace("\t","  "),pe=this._getGlyphs(se),Ee=0;Ee<pe.length;Ee++){if(de=se,!((De=pe)[ne=Ee].name&&"space"===De[ne].name||de.length===De.length&&" "===de[ne]))for(var Ne=function(Be){for(var Fe,Oe=[],Ze=0;Ze<Be.length;Ze++)"M"===Be[Ze].type&&(Fe&&Oe.push(Fe),Fe=[]),Fe.push((vt=void 0,vt=[(Qe=Be[Ze]).type],"M"===Qe.type||"L"===Qe.type?vt.push(Qe.x,Qe.y):"C"===Qe.type?vt.push(Qe.x1,Qe.y1,Qe.x2,Qe.y2,Qe.x,Qe.y):"Q"===Qe.type&&vt.push(Qe.x1,Qe.y1,Qe.x,Qe.y),vt));var Qe,vt;return Oe.push(Fe),Oe}(pe[Ee].getPath(T,H,X).commands),We=0;We<Ne.length;We++)for(var et=function(Be,Fe){Fe=function(ft,kt){if("object"!==x(ft))ft=kt;else for(var qt in kt)void 0===ft[qt]&&(ft[qt]=kt[qt]);return ft}(Fe,{sampleFactor:.1,simplifyThreshold:0});for(var Oe=c(Be,0,1),Ze=Oe/(Oe*Fe.sampleFactor),Qe=[],vt=0;vt<Oe;vt+=Ze)Qe.push(c(Be,vt));return Fe.simplifyThreshold&&function(ht){for(var ft=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,qt=ht.length-1;3<ht.length&&0<=qt;--qt)l(a(ht,qt-1),a(ht,qt),a(ht,qt+1),ft)&&ht.splice(qt%ht.length,1)}(Qe,Fe.simplifyThreshold),Qe}(Ne[We],z),Ae=0;Ae<et.length;Ae++)et[Ae].x+=R,J.push(et[Ae]);R+=pe[Ee].advanceWidth*this._scale(X)}H+=this.parent._renderer._textLeading}return J}},{key:"_getGlyphs",value:function(E){return this.font.stringToGlyphs(E)}},{key:"_getPath",value:function(E,te,H,X){var z=(X&&X.renderer&&X.renderer._pInst||this.parent)._renderer;return te=this._handleAlignment(z,E,te,H),this.font.getPath(E,te.x,te.y,z._textSize,X)}},{key:"_getPathData",value:function(E,T,H,X){var z=3;return"string"==typeof E&&2<arguments.length?E=this._getPath(E,T,H,X):"object"===x(T)&&(X=T),X&&"number"==typeof X.decimals&&(z=X.decimals),E.toPathData(z)}},{key:"_getSVG",value:function(E,T,H,X){var z=3;return"string"==typeof E&&2<arguments.length?E=this._getPath(E,T,H,X):"object"===x(T)&&(X=T),X&&("number"==typeof X.decimals&&(z=X.decimals),"number"==typeof X.strokeWidth&&(E.strokeWidth=X.strokeWidth),void 0!==X.fill&&(E.fill=X.fill),void 0!==X.stroke&&(E.stroke=X.stroke)),E.toSVG(z)}},{key:"_renderPath",value:function(J,ne,de,X){var z=X&&X.renderer||this.parent._renderer,te=z.drawingContext,q=(J=("object"===x(J)&&J.commands?J:this._getPath(J,ne,de,X)).commands,te.beginPath(),!0);ne=!1,de=void 0;try{for(var De,Y=J[Symbol.iterator]();!(q=(De=Y.next()).done);q=!0){var R=De.value;"M"===R.type?te.moveTo(R.x,R.y):"L"===R.type?te.lineTo(R.x,R.y):"C"===R.type?te.bezierCurveTo(R.x1,R.y1,R.x2,R.y2,R.x,R.y):"Q"===R.type?te.quadraticCurveTo(R.x1,R.y1,R.x,R.y):"Z"===R.type&&te.closePath()}}catch(se){ne=!0,de=se}finally{try{q||null==Y.return||Y.return()}finally{if(ne)throw de}}return z._doStroke&&z._strokeSet&&!z._clipping&&te.stroke(),z._doFill&&!z._clipping&&(z._fillSet||z._setFill(f._DEFAULT_TEXT_FILL),te.fill()),this}},{key:"_textWidth",value:function(E,T){return this.font.getAdvanceWidth(E,T)}},{key:"_textAscent",value:function(E){return this.font.ascender*this._scale(E)}},{key:"_textDescent",value:function(E){return-this.font.descender*this._scale(E)}},{key:"_scale",value:function(E){return 1/this.font.unitsPerEm*(E||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(E,T,H,X,z){var te=E._textSize;switch(void 0===z&&(z=this._textWidth(T,te)),E._textAlign){case f.CENTER:H-=z/2;break;case f.RIGHT:H-=z}switch(E._textBaseline){case f.TOP:X+=this._textAscent(te);break;case f.CENTER:X+=this._textAscent(te)/2;break;case f.BOTTOM:X-=this._textDescent(te)}return{x:H,y:X}}}])&&w(j.prototype,V),P}(),S.default=r=_.default},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],319:[function(r,W,S){"use strict";r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.array-buffer.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.array-buffer.constructor"),r("core-js/modules/es.object.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.prototype.append=function(v,_){return v.push(_),v},r.default.prototype.arrayCopy=function(v,_,f,h,x){var w,a;v=void 0!==x?(a=Math.min(x,v.length),w=h,v.slice(_,a+_)):(a=void 0!==f?(a=f,Math.min(a,v.length)):v.length,f=_,v.slice(w=0,a)),Array.prototype.splice.apply(f,[w,a].concat(v))},r.default.prototype.concat=function(v,_){return v.concat(_)},r.default.prototype.reverse=function(v){return v.reverse()},r.default.prototype.shorten=function(v){return v.pop(),v},r.default.prototype.shuffle=function(v,_){for(var f,h,x=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v),w=(v=_||x?v:v.slice()).length;1<w;)f=this.random(0,1)*w|0,h=v[--w],v[w]=v[f],v[f]=h;return v},r.default.prototype.sort=function(v,h){var f=h?v.slice(0,Math.min(h,v.length)):v;return h=h?v.slice(Math.min(h,v.length)):[],(f="string"==typeof f[0]?f.sort():f.sort(function(x,w){return x-w})).concat(h)},r.default.prototype.splice=function(v,_,f){return Array.prototype.splice.apply(v,[f,0].concat(_)),v},r.default.prototype.subset=function(v,_,f){return v.slice(_,void 0!==f?_+f:v.length)},S.default=r=r.default},{"../core/main":280,"core-js/modules/es.array-buffer.constructor":151,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.to-string":187}],320:[function(r,W,S){"use strict";r("core-js/modules/es.array.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.repeat"),r("core-js/modules/es.array.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.repeat"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(r=r("../core/main"))&&r.__esModule?r:{default:r};v.default.prototype.float=function(_){return _ instanceof Array?_.map(parseFloat):parseFloat(_)},v.default.prototype.int=function(_){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return _===1/0||"Infinity"===_?1/0:_===-1/0||"-Infinity"===_?-1/0:"string"==typeof _?parseInt(_,f):"number"==typeof _?0|_:"boolean"==typeof _?_?1:0:_ instanceof Array?_.map(function(h){return v.default.prototype.int(h,f)}):void 0},v.default.prototype.str=function(_){return _ instanceof Array?_.map(v.default.prototype.str):String(_)},v.default.prototype.boolean=function(_){return"number"==typeof _?0!==_:"string"==typeof _?"true"===_.toLowerCase():"boolean"==typeof _?_:_ instanceof Array?_.map(v.default.prototype.boolean):void 0},v.default.prototype.byte=function(_){return"number"==typeof(_=v.default.prototype.int(_,10))?(_+128)%256-128:_ instanceof Array?_.map(v.default.prototype.byte):void 0},v.default.prototype.char=function(_){return"number"!=typeof _||isNaN(_)?_ instanceof Array?_.map(v.default.prototype.char):"string"==typeof _?v.default.prototype.char(parseInt(_,10)):void 0:String.fromCharCode(_)},v.default.prototype.unchar=function(_){return"string"==typeof _&&1===_.length?_.charCodeAt(0):_ instanceof Array?_.map(v.default.prototype.unchar):void 0},v.default.prototype.hex=function(_,f){if(f=null==f?8:f,_ instanceof Array)return _.map(function(x){return v.default.prototype.hex(x,f)});if(_===1/0||_===-1/0)return(_===1/0?"F":"0").repeat(f);if("number"==typeof _){_<0&&(_=4294967295+_+1);for(var h=Number(_).toString(16).toUpperCase();h.length<f;)h="0".concat(h);return h.length>=f?h.substring(h.length-f,h.length):h}},v.default.prototype.unhex=function(_){return _ instanceof Array?_.map(v.default.prototype.unhex):parseInt("0x".concat(_),16)},S.default=r=v.default},{"../core/main":280,"core-js/modules/es.array.map":167,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.repeat":200}],321:[function(r,W,S){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.pad-start"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.constructor"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.pad-start"),r("core-js/modules/es.string.replace"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(a=r("../core/main"))&&a.__esModule?a:{default:a};function _(l,d){return function(u){if(Array.isArray(u))return u}(l)||function(u,c){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u)){var s=[],m=!0,p=!1,y=void 0;try{for(var O,$=u[Symbol.iterator]();!(m=(O=$.next()).done)&&(s.push(O.value),!c||s.length!==c);m=!0);}catch(N){p=!0,y=N}finally{try{m||null==$.return||$.return()}finally{if(p)throw y}}return s}}(l,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(l,d,u){var c=(s=_(l.toString().split("."),2))[0],s=s[1];return void 0===u?(c=c.padStart(d,"0"),s?c+"."+s:c):(c=(l=_(l.toFixed(u).toString().split("."),2))[0],s=l[1],c=c.padStart(d,"0"),void 0===s?c:c+"."+s)}function h(s,d){var u=(s=s.toString()).indexOf("."),c=-1!==u?s.substring(u):"";if(s=(s=-1!==u?s.substring(0,u):s).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===d)c="";else if(void 0!==d)if(d>c.length)for(var m=d-(c+=-1===u?".":"").length+1,p=0;p<m;p++)c+="0";else c=c.substring(0,d+1);return s+c}function x(l){return 0<parseFloat(l)?"+".concat(l.toString()):l.toString()}function w(l){return 0<=parseFloat(l)?" ".concat(l.toString()):l.toString()}r("../core/friendly_errors/validate_params"),r("../core/friendly_errors/file_errors"),r("../core/friendly_errors/fes_core"),v.default.prototype.join=function(l,d){return v.default._validateParameters("join",arguments),l.join(d)},v.default.prototype.match=function(l,d){return v.default._validateParameters("match",arguments),l.match(d)},v.default.prototype.matchAll=function(l,d){v.default._validateParameters("matchAll",arguments);for(var u=new RegExp(d,"g"),c=u.exec(l),s=[];null!==c;)s.push(c),c=u.exec(l);return s},v.default.prototype.nf=function(l,d,u){return v.default._validateParameters("nf",arguments),l instanceof Array?l.map(function(c){return f(c,d,u)}):"[object Arguments]"===Object.prototype.toString.call(l)?3===l.length?this.nf(l[0],l[1],l[2]):2===l.length?this.nf(l[0],l[1]):this.nf(l[0]):f(l,d,u)},v.default.prototype.nfc=function(l,d){return v.default._validateParameters("nfc",arguments),l instanceof Array?l.map(function(u){return h(u,d)}):h(l,d)},v.default.prototype.nfp=function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];v.default._validateParameters("nfp",d);var c=v.default.prototype.nf.apply(this,d);return c instanceof Array?c.map(x):x(c)},v.default.prototype.nfs=function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];v.default._validateParameters("nfs",d);var c=v.default.prototype.nf.apply(this,d);return c instanceof Array?c.map(w):w(c)},v.default.prototype.split=function(l,d){return v.default._validateParameters("split",arguments),l.split(d)},v.default.prototype.splitTokens=function(l,d){var u,c;return v.default._validateParameters("splitTokens",arguments),c=void 0!==d?(c=/\]/g.exec(d),(u=/\[/g.exec(d))&&c?(d=d.slice(0,c.index)+d.slice(c.index+1),u=/\[/g.exec(d),d=d.slice(0,u.index)+d.slice(u.index+1),new RegExp("[\\[".concat(d,"\\]]"),"g")):c?(d=d.slice(0,c.index)+d.slice(c.index+1),new RegExp("[".concat(d,"\\]]"),"g")):u?(d=d.slice(0,u.index)+d.slice(u.index+1),new RegExp("[".concat(d,"\\[]"),"g")):new RegExp("[".concat(d,"]"),"g")):/\s/g,l.split(c).filter(function(s){return s})},v.default.prototype.trim=function(l){return v.default._validateParameters("trim",arguments),l instanceof Array?l.map(this.trim):l.trim()};var a=v.default;S.default=a},{"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.pad-start":199,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],322:[function(r,W,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.prototype.day=function(){return(new Date).getDate()},r.default.prototype.hour=function(){return(new Date).getHours()},r.default.prototype.minute=function(){return(new Date).getMinutes()},r.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},r.default.prototype.month=function(){return(new Date).getMonth()+1},r.default.prototype.second=function(){return(new Date).getSeconds()},r.default.prototype.year=function(){return(new Date).getFullYear()},S.default=r=r.default},{"../core/main":280}],323:[function(r,W,S){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function _(l){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(l)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.number.to-fixed"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(a=r("../core/main"))&&a.__esModule?a:{default:a},h=(r("./p5.Geometry"),function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==_(l)&&"function"!=typeof l)return{default:l};var d=x();if(d&&d.has(l))return d.get(l);var u,c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in l){var m;Object.prototype.hasOwnProperty.call(l,u)&&((m=s?Object.getOwnPropertyDescriptor(l,u):null)&&(m.get||m.set)?Object.defineProperty(c,u,m):c[u]=l[u])}return c.default=l,d&&d.set(l,c),c}(r("../core/constants")));function x(){var l;return"function"!=typeof WeakMap?null:(x=function(){return l},l=new WeakMap)}function w(l,d,u,c,s,m,p){l=l<=0?1:l,d=d<0?0:d,u=u<=0?l:u,c=c<3?3:c;for(var y,O,$=(m=void 0===m||m)?-2:0,N=(s=s<1?1:s)+((p=void 0===p?0!==d:p)?2:0),P=Math.atan2(l-d,u),j=Math.sin(P),V=Math.cos(P),k=$;k<=N;++k){var E=k/s,T=u*E,H=void 0;for(H=k<0?(E=T=0,l):s<k?(T=u,E=1,d):l+(d-l)*E,-2!==k&&k!==s+2||(H=0),T-=u/2,y=0;y<c;++y){var X=y/(c-1),te=2*Math.PI*X,z=Math.sin(te),J=(te=Math.cos(te),this.vertices.push(new f.default.Vector(z*H,T,te*H)));J=k<0?new f.default.Vector(0,-1,0):s<k&&d?new f.default.Vector(0,1,0):new f.default.Vector(z*V,j,te*V),this.vertexNormals.push(J),this.uvs.push(X,E)}}var q=0;if(m){for(O=0;O<c;++O)this.faces.push([q+O,q+c+(O+1)%c,q+c+O]);q+=2*c}for(k=0;k<s;++k){for(y=0;y<c;++y){var ne=(y+1)%c;this.faces.push([q+y,q+ne,q+c+ne]),this.faces.push([q+y,q+c+ne,q+c+y])}q+=c}if(p)for(q+=c,y=0;y<c;++y)this.faces.push([q+y,q+(y+1)%c,q+c])}f.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},f.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},f.default.prototype.buildGeometry=function(l){return this._renderer.buildGeometry(l)},f.default.prototype.freeGeometry=function(l){this._renderer._freeBuffers(l.gid)},f.default.prototype.plane=function(){var l,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=(this._assert3d("plane"),f.default._validateParameters("plane",arguments),"plane|".concat(c,"|").concat(s));return this._renderer.geometryInHash(m)||((l=new f.default.Geometry(c,s,function(){for(var p,y,O=0;O<=this.detailY;O++)for(var $=O/this.detailY,N=0;N<=this.detailX;N++)y=new f.default.Vector((p=N/this.detailX)-.5,$-.5,0),this.vertices.push(y),this.uvs.push(p,$)})).computeFaces().computeNormals(),c<=1&&s<=1?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(m,l)),this._renderer.drawBuffersScaled(m,d,u,1),this},f.default.prototype.box=function(l,d,u,c,s){this._assert3d("box"),f.default._validateParameters("box",arguments),void 0===l&&(l=50),void 0===d&&(d=l),void 0===u&&(u=d);var m,p=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return void 0===s&&(s=p?1:4),p="box|".concat(c=void 0===c?p?1:4:c,"|").concat(s),this._renderer.geometryInHash(p)||((m=new f.default.Geometry(c,s,function(){var y=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(O,$){$*=4;for(var N=0;N<4;N++){var P=new f.default.Vector((2*(1&(P=O[N]))-1)/2,((2&P)-1)/2,((4&P)/2-1)/2);y.vertices.push(P),y.uvs.push(1&N,(2&N)/2)}y.faces.push([$,1+$,2+$]),y.faces.push([2+$,1+$,3+$])})})).computeNormals(),c<=4&&s<=4?m._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(p,m)),this._renderer.drawBuffersScaled(p,l,d,u),this},f.default.prototype.sphere=function(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:24,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16;return this._assert3d("sphere"),f.default._validateParameters("sphere",arguments),this.ellipsoid(l,l,l,d,u),this},f.default.prototype.cylinder=function(){var l,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],p=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],y=(this._assert3d("cylinder"),f.default._validateParameters("cylinder",arguments),"cylinder|".concat(c,"|").concat(s,"|").concat(m,"|").concat(p));return this._renderer.geometryInHash(y)||(l=new f.default.Geometry(c,s),w.call(l,1,1,1,c,s,m,p),c<=24&&s<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(y,l)),this._renderer.drawBuffersScaled(y,d,u,d),this},f.default.prototype.cone=function(){var l,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],p=(this._assert3d("cone"),f.default._validateParameters("cone",arguments),"cone|".concat(c,"|").concat(s,"|").concat(m));return this._renderer.geometryInHash(p)||(l=new f.default.Geometry(c,s),w.call(l,1,0,1,c,s,m,!1),c<=24&&s<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,l)),this._renderer.drawBuffersScaled(p,d,u,d),this},f.default.prototype.ellipsoid=function(){var l,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:d,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:24,m=4<arguments.length&&void 0!==arguments[4]?arguments[4]:16,p=(this._assert3d("ellipsoid"),f.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(s,"|").concat(m));return this._renderer.geometryInHash(p)||((l=new f.default.Geometry(s,m,function(){for(var y=0;y<=this.detailY;y++)for(var O=y/this.detailY,$=Math.PI*O-Math.PI/2,N=Math.cos($),P=Math.sin($),j=0;j<=this.detailX;j++){var V=j/this.detailX,E=2*Math.PI*V,k=Math.cos(E);E=Math.sin(E),E=new f.default.Vector(N*E,P,N*k),this.vertices.push(E),this.vertexNormals.push(E),this.uvs.push(V,O)}})).computeFaces(),s<=24&&m<=24?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(p,l)),this._renderer.drawBuffersScaled(p,d,u,c),this},f.default.prototype.torus=function(l,p,u,c){if(this._assert3d("torus"),f.default._validateParameters("torus",arguments),void 0===l)l=50;else if(!l)return;if(void 0===p)p=10;else if(!p)return;void 0===u&&(u=24),void 0===c&&(c=16);var s,m=(p/l).toPrecision(4);return p="torus|".concat(m,"|").concat(u,"|").concat(c),this._renderer.geometryInHash(p)||((s=new f.default.Geometry(u,c,function(){for(var y=0;y<=this.detailY;y++)for(var O=y/this.detailY,$=2*Math.PI*O,N=Math.cos($),P=Math.sin($),j=1+m*N,V=0;V<=this.detailX;V++){var k=V/this.detailX,E=2*Math.PI*k,H=Math.cos(E),T=(E=Math.sin(E),new f.default.Vector(j*H,j*E,m*P));H=new f.default.Vector(N*H,N*E,P),this.vertices.push(T),this.vertexNormals.push(H),this.uvs.push(k,O)}})).computeFaces(),u<=24&&c<=16?s._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,s)),this._renderer.drawBuffersScaled(p,l,l,l),this},f.default.RendererGL.prototype.point=function(l,d){var u=[];return u.push(new f.default.Vector(l,d,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)),this._drawPoints(u,this.immediateMode.buffers.point),this},f.default.RendererGL.prototype.triangle=function(p){var d=p[0],u=p[1],c=p[2],s=p[3],m=p[4],y=(p=p[5],this.geometryInHash("tri")||((y=new f.default.Geometry(1,1,function(){var N=[];N.push(new f.default.Vector(0,0,0)),N.push(new f.default.Vector(1,0,0)),N.push(new f.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=N,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),y.computeNormals(),this.createBuffers("tri",y)),this.uMVMatrix.copy());try{var O=Math.sign(d*s-c*u+c*p-m*s+m*u-d*p),$=new f.default.Matrix([c-d,s-u,0,0,m-d,p-u,0,0,0,0,O,0,d,u,0,1]).mult(this.uMVMatrix);this.uMVMatrix=$,this.drawBuffers("tri")}finally{this.uMVMatrix=y}return this},f.default.RendererGL.prototype.ellipse=function(l){this.arc(l[0],l[1],l[2],l[3],0,h.TWO_PI,h.OPEN,l[4])},f.default.RendererGL.prototype.arc=function(){var l,d=arguments.length<=0?void 0:arguments[0],u=arguments.length<=1?void 0:arguments[1],c=arguments.length<=2?void 0:arguments[2],s=arguments.length<=3?void 0:arguments[3],m=arguments.length<=4?void 0:arguments[4],p=arguments.length<=5?void 0:arguments[5],y=arguments.length<=6?void 0:arguments[6],O=(arguments.length<=7?void 0:arguments[7])||25,$=(Math.abs(p-m)>=h.TWO_PI?"".concat(N="ellipse","|"):"".concat(N="arc","|").concat(m,"|").concat(p,"|").concat(y,"|")).concat(O,"|"),N=(this.geometryInHash($)||((l=new f.default.Geometry(O,1,function(){if(m.toFixed(10)!==p.toFixed(10)){y!==h.PIE&&void 0!==y||(this.vertices.push(new f.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var P=0;P<=O;P++){var V=P/O*(p-m)+m,j=.5+Math.cos(V)/2;V=.5+Math.sin(V)/2,this.vertices.push(new f.default.Vector(j,V,0)),this.uvs.push([j,V]),P<O-1&&(this.faces.push([0,P+1,P+2]),this.edges.push([P+1,P+2]))}switch(y){case h.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case h.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case h.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),O<=50?l._edgesToVertices(l):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(N," with more than 50 detail")),this.createBuffers($,l)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([d,u,0]),this.uMVMatrix.scale(c,s,1),this.drawBuffers($)}finally{this.uMVMatrix=N}return this},f.default.RendererGL.prototype.rect=function(l){var d=l[0],u=l[1],c=l[2],s=l[3];if(void 0===l[4]){var y=this._pInst._glAttributes.perPixelLighting,m=l[4]||(y?1:24),p=l[5]||(y?1:16),O=(y="rect|".concat(m,"|").concat(p),this.geometryInHash(y)||((O=new f.default.Geometry(m,p,function(){for(var J=0;J<=this.detailY;J++)for(var q=J/this.detailY,ne=0;ne<=this.detailX;ne++){var de=ne/this.detailX,De=new f.default.Vector(de,q,0);this.vertices.push(De),this.uvs.push(de,q)}0<m&&0<p&&(this.edges=[[0,m],[m,(m+1)*(p+1)-1],[(m+1)*(p+1)-1,(m+1)*p],[(m+1)*p,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(y,O)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([d,u,0]),this.uMVMatrix.scale(c,s,1),this.drawBuffers(y)}finally{this.uMVMatrix=O}}else{y=l[4],O=void 0===l[5]?y:l[5];var $=void 0===l[6]?O:l[6],E=(l=void 0===l[7]?$:l[7],c),N=s,P=((E+=d)<d&&(V=d,d=E,E=V),(N+=u)<u&&(V=u,u=N,N=V),(V=Math.min((E-d)/2,(N-u)/2))<y&&(y=V),V<O&&(O=V),V<$&&($=V),V<l&&(l=V),d),j=u,V=E,k=(d=N,this.beginShape(),0!==O?(this.vertex(V-O,j),this.quadraticVertex(V,j,V,j+O)):this.vertex(V,j),0!==$?(this.vertex(V,d-$),this.quadraticVertex(V,d,V-$,d)):this.vertex(V,d),0!==l?(this.vertex(P+l,d),this.quadraticVertex(P,d,P,d-l)):this.vertex(P,d),0!==y?(this.vertex(P,j+y),this.quadraticVertex(P,j,P+y,j)):this.vertex(P,j),!(this.immediateMode.geometry.uvs.length=0));u=!1,E=void 0;try{for(var T,H=this.immediateMode.geometry.vertices[Symbol.iterator]();!(k=(T=H.next()).done);k=!0){var X=T.value;this.immediateMode.geometry.uvs.push((X.x-P)/c,(X.y-j)/s)}}catch(Y){u=!0,E=Y}finally{try{k||null==H.return||H.return()}finally{if(u)throw E}}this.endShape(h.CLOSE)}return this},f.default.RendererGL.prototype.quad=function(l,d,u,c,s,m,p,y,O,$,N,P){var j=12<arguments.length&&void 0!==arguments[12]?arguments[12]:2,V=13<arguments.length&&void 0!==arguments[13]?arguments[13]:2,k="quad|".concat(l,"|").concat(d,"|").concat(u,"|").concat(c,"|").concat(s,"|").concat(m,"|").concat(p,"|").concat(y,"|").concat(O,"|").concat($,"|").concat(N,"|").concat(P,"|").concat(j,"|").concat(V);if(!this.geometryInHash(k)){var E=new f.default.Geometry(j,V,function(){for(var ne=1/(this.detailX-1),de=1/(this.detailY-1),De=0;De<this.detailY;De++)for(var Y=0;Y<this.detailX;Y++){var R=Y*ne,se=De*de;this.vertices.push(new f.default.Vector((1-R)*((1-se)*l+se*$)+R*((1-se)*c+se*p),(1-R)*((1-se)*d+se*N)+R*((1-se)*s+se*y),(1-R)*((1-se)*u+se*P)+R*((1-se)*m+se*O))),this.uvs.push([R,se])}});E.faces=[];for(var T=0;T<V-1;T++)for(var H=0;H<j-1;H++){var X=H+T*j,z=H+1+(T+1)*j,te=H+(T+1)*j;E.faces.push([X,H+1+T*j,z]),E.faces.push([X,z,te])}E.computeNormals();for(var J=[E.edges.length=0,2,3,1],q=0;q<J.length;q++)E.edges.push([J[q],J[(q+1)%J.length]]);E._edgesToVertices(),this.createBuffers(k,E)}return this.drawBuffers(k),this},f.default.RendererGL.prototype.bezier=function(l,d,u,c,s,m,p,y,O,$,N,P){8===arguments.length&&(N=y,$=p,y=m,p=s,s=c,c=u,u=m=O=P=0);var j=this._pInst._bezierDetail||20;this.beginShape();for(var V=0;V<=j;V++){var k=Math.pow(1-V/j,3),E=V/j*3*Math.pow(1-V/j,2),T=3*Math.pow(V/j,2)*(1-V/j),H=Math.pow(V/j,3);this.vertex(l*k+c*E+p*T+$*H,d*k+s*E+y*T+N*H,u*k+m*E+O*T+P*H)}return this.endShape(),this},f.default.RendererGL.prototype.curve=function(l,d,u,c,s,m,p,y,O,$,N,P){8===arguments.length&&($=p,N=y,p=s,y=c,s=c=u,u=m=O=P=0);var j=this._pInst._curveDetail;this.beginShape();for(var V=0;V<=j;V++){var k=.5*Math.pow(V/j,3),E=.5*Math.pow(V/j,2),T=V/j*.5;this.vertex(k*(3*c-l-3*p+$)+E*(2*l-5*c+4*p-$)+T*(-l+p)+2*c*.5,k*(3*s-d-3*y+N)+E*(2*d-5*s+4*y-N)+T*(-d+y)+2*s*.5,k*(3*m-u-3*O+P)+E*(2*u-5*m+4*O-P)+T*(-u+O)+2*m*.5)}return this.endShape(),this},f.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(h.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(h.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},f.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var l,d,u,c,s,m,p=[],y=[],O=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var $=1/this._lutBezierDetail,N=0,P=1,j=0;N<1;){if(m=parseFloat(N.toFixed(6)),this._lookUpTableBezier[j]=this._bezierCoefficients(m),P.toFixed(6)===$.toFixed(6)){m=parseFloat(P.toFixed(6))+parseFloat(N.toFixed(6)),++j,this._lookUpTableBezier[j]=this._bezierCoefficients(m);break}N+=$,P-=$,++j}}for(var V=this._lookUpTableBezier.length,k=[],E=0;E<4;E++)k.push([]);k[0]=this.immediateMode.geometry.vertexColors.slice(-4),k[3]=this.curFillColor.slice();var T=[];for(E=0;E<4;E++)T.push([]);if(T[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),T[3]=this.curStrokeColor.slice(),6===O){this.isBezier=!0,p=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],y=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var H=Math.hypot(p[0]-p[1],y[0]-y[1]),z=Math.hypot(p[1]-p[2],y[1]-y[2]),X=Math.hypot(p[2]-p[3],y[2]-y[3]);for(H/=z=H+z+X,X/=z,s=0;s<4;s++)k[1].push(k[0][s]*(1-H)+k[3][s]*H),k[2].push(k[0][s]*X+k[3][s]*(1-X)),T[1].push(T[0][s]*(1-H)+T[3][s]*H),T[2].push(T[0][s]*X+T[3][s]*(1-X));for(c=0;c<V;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],E=l=d=0;E<4;E++){for(s=0;s<4;s++)this.curFillColor[s]+=this._lookUpTableBezier[c][E]*k[E][s],this.curStrokeColor[s]+=this._lookUpTableBezier[c][E]*T[E][s];l+=p[E]*this._lookUpTableBezier[c][E],d+=y[E]*this._lookUpTableBezier[c][E]}this.vertex(l,d)}this.curFillColor=k[3],this.curStrokeColor=T[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===O){this.isBezier=!0,p=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],y=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var te=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],J=Math.hypot(p[0]-p[1],y[0]-y[1],te[0]-te[1]),q=(z=Math.hypot(p[1]-p[2],y[1]-y[2],te[1]-te[2]),Math.hypot(p[2]-p[3],y[2]-y[3],te[2]-te[3]));for(J/=O=J+z+q,q/=O,s=0;s<4;s++)k[1].push(k[0][s]*(1-J)+k[3][s]*J),k[2].push(k[0][s]*q+k[3][s]*(1-q)),T[1].push(T[0][s]*(1-J)+T[3][s]*J),T[2].push(T[0][s]*q+T[3][s]*(1-q));for(c=0;c<V;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],E=l=d=u=0;E<4;E++){for(s=0;s<4;s++)this.curFillColor[s]+=this._lookUpTableBezier[c][E]*k[E][s],this.curStrokeColor[s]+=this._lookUpTableBezier[c][E]*T[E][s];l+=p[E]*this._lookUpTableBezier[c][E],d+=y[E]*this._lookUpTableBezier[c][E],u+=te[E]*this._lookUpTableBezier[c][E]}this.vertex(l,d,u)}this.curFillColor=k[3],this.curStrokeColor=T[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},f.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var l,d,u,c,s,m,p=[],y=[],O=arguments.length;if(0===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var $=1/this._lutQuadraticDetail,N=0,P=1,j=0;N<1;){if(m=parseFloat(N.toFixed(6)),this._lookUpTableQuadratic[j]=this._quadraticCoefficients(m),P.toFixed(6)===$.toFixed(6)){m=parseFloat(P.toFixed(6))+parseFloat(N.toFixed(6)),++j,this._lookUpTableQuadratic[j]=this._quadraticCoefficients(m);break}N+=$,P-=$,++j}}for(var V=this._lookUpTableQuadratic.length,k=[],E=0;E<3;E++)k.push([]);k[0]=this.immediateMode.geometry.vertexColors.slice(-4),k[2]=this.curFillColor.slice();var T=[];for(E=0;E<3;E++)T.push([]);if(T[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),T[2]=this.curStrokeColor.slice(),4===O){this.isQuadratic=!0,p=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],y=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var H=Math.hypot(p[0]-p[1],y[0]-y[1]);for(H/=H+Math.hypot(p[1]-p[2],y[1]-y[2]),s=0;s<4;s++)k[1].push(k[0][s]*(1-H)+k[2][s]*H),T[1].push(T[0][s]*(1-H)+T[2][s]*H);for(c=0;c<V;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],E=l=d=0;E<3;E++){for(s=0;s<4;s++)this.curFillColor[s]+=this._lookUpTableQuadratic[c][E]*k[E][s],this.curStrokeColor[s]+=this._lookUpTableQuadratic[c][E]*T[E][s];l+=p[E]*this._lookUpTableQuadratic[c][E],d+=y[E]*this._lookUpTableQuadratic[c][E]}this.vertex(l,d)}this.curFillColor=k[2],this.curStrokeColor=T[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===O){this.isQuadratic=!0,p=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],y=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var X=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],z=Math.hypot(p[0]-p[1],y[0]-y[1],X[0]-X[1]);for(z/=z+Math.hypot(p[1]-p[2],y[1]-y[2],X[1]-X[2]),s=0;s<4;s++)k[1].push(k[0][s]*(1-z)+k[2][s]*z),T[1].push(T[0][s]*(1-z)+T[2][s]*z);for(c=0;c<V;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],E=l=d=u=0;E<3;E++){for(s=0;s<4;s++)this.curFillColor[s]+=this._lookUpTableQuadratic[c][E]*k[E][s],this.curStrokeColor[s]+=this._lookUpTableQuadratic[c][E]*T[E][s];l+=p[E]*this._lookUpTableQuadratic[c][E],d+=y[E]*this._lookUpTableQuadratic[c][E],u+=X[E]*this._lookUpTableQuadratic[c][E]}this.vertex(l,d,u)}this.curFillColor=k[2],this.curStrokeColor=T[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},f.default.RendererGL.prototype.curveVertex=function(){var l,s,m,p=[],y=[],O=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var $=1/this._lutBezierDetail,N=0,P=1,j=0;N<1;){if(m=parseFloat(N.toFixed(6)),this._lookUpTableBezier[j]=this._bezierCoefficients(m),P.toFixed(6)===$.toFixed(6)){m=parseFloat(P.toFixed(6))+parseFloat(N.toFixed(6)),++j,this._lookUpTableBezier[j]=this._bezierCoefficients(m);break}N+=$,P-=$,++j}}var V=this._lookUpTableBezier.length;if(2===O){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,p=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),y=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),s=0;s<V;s++)this.vertex(p[0]*this._lookUpTableBezier[s][0]+p[1]*this._lookUpTableBezier[s][1]+p[2]*this._lookUpTableBezier[s][2]+p[3]*this._lookUpTableBezier[s][3],y[0]*this._lookUpTableBezier[s][0]+y[1]*this._lookUpTableBezier[s][1]+y[2]*this._lookUpTableBezier[s][2]+y[3]*this._lookUpTableBezier[s][3]);for(s=0;s<O;s++)this.immediateMode._curveVertex.shift()}}else if(3===O&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,p=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),y=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),l=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),s=0;s<V;s++)this.vertex(p[0]*this._lookUpTableBezier[s][0]+p[1]*this._lookUpTableBezier[s][1]+p[2]*this._lookUpTableBezier[s][2]+p[3]*this._lookUpTableBezier[s][3],y[0]*this._lookUpTableBezier[s][0]+y[1]*this._lookUpTableBezier[s][1]+y[2]*this._lookUpTableBezier[s][2]+y[3]*this._lookUpTableBezier[s][3],l[0]*this._lookUpTableBezier[s][0]+l[1]*this._lookUpTableBezier[s][1]+l[2]*this._lookUpTableBezier[s][2]+l[3]*this._lookUpTableBezier[s][3]);for(s=0;s<O;s++)this.immediateMode._curveVertex.shift()}},f.default.RendererGL.prototype.image=function(l,P,u,j,s,m,p,y,O){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(l),this._pInst.textureMode(h.NORMAL);var $=0,N=(P<=l.width&&($=P/l.width),1);P+j<=l.width&&(N=(P+j)/l.width),P=0,u<=l.height&&(P=u/l.height),j=1,u+s<=l.height&&(j=(u+s)/l.height),this.beginShape(),this.vertex(m,p,0,$,P),this.vertex(m+y,p,0,N,P),this.vertex(m+y,p+O,0,N,j),this.vertex(m,p+O,0,$,j),this.endShape(h.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(h.REMOVE)};var a=f.default;S.default=a},{"../core/constants":269,"../core/main":280,"./p5.Geometry":332,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.math.sign":177,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],324:[function(r,W,S){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(d)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.every"),r("core-js/modules/es.array.map"),r("core-js/modules/es.object.assign"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(l=r("../core/main"))&&l.__esModule?l:{default:l},h=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var u=x();if(u&&u.has(d))return u.get(d);var c,s={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in d){var p;Object.prototype.hasOwnProperty.call(d,c)&&((p=m?Object.getOwnPropertyDescriptor(d,c):null)&&(p.get||p.set)?Object.defineProperty(s,c,p):s[c]=d[c])}return s.default=d,u&&u.set(d,s),s}(r("../core/constants"));function x(){var d;return"function"!=typeof WeakMap?null:(x=function(){return d},d=new WeakMap)}function w(d){return function(u){if(Array.isArray(u)){for(var c=0,s=new Array(u.length);c<u.length;c++)s[c]=u[c];return s}}(d)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(d,u){for(var c=0;c<u.length;c++){var s=u[c];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(d,s.key,s)}}var l=function(){function d(m){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");(this.renderer=m)._pInst.push(),this.identityMatrix=new f.default.Matrix,m.uMVMatrix=new f.default.Matrix,this.geometry=new f.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(d.nextGeometryId),d.nextGeometryId++,this.hasTransform=!1}var u,c;return u=d,(c=[{key:"transformVertices",value:function(m){var p=this;return this.hasTransform?m.map(function(y){return p.renderer.uMVMatrix.multiplyPoint(y)}):m}},{key:"transformNormals",value:function(m){var p=this;return this.hasTransform?m.map(function(y){return p.renderer.uNMatrix.multiplyVec3(y)}):m}},{key:"addGeometry",value:function(m){for(var p,y=this,O=(this.hasTransform=!this.renderer.uMVMatrix.mat4.every(function(N,P){return N===y.identityMatrix.mat4[P]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uMVMatrix),this.geometry.vertices.length),$=((p=this.geometry.vertices).push.apply(p,w(this.transformVertices(m.vertices))),(p=this.geometry.vertexNormals).push.apply(p,w(this.transformNormals(m.vertexNormals))),(p=this.geometry.uvs).push.apply(p,w(m.uvs)),this.renderer._doFill&&(p=this.geometry.faces).push.apply(p,w(m.faces.map(function(N){return N.map(function(P){return P+O})}))),this.renderer._doStroke&&(p=this.geometry.edges).push.apply(p,w(m.edges.map(function(N){return N.map(function(P){return P+O})}))),w(m.vertexColors));$.length<4*m.vertices.length;)$.push.apply($,w(this.renderer.curFillColor));(p=this.geometry.vertexColors).push.apply(p,w($))}},{key:"addImmediate",value:function(){var m=this.renderer.immediateMode.geometry,p=this.renderer.immediateMode.shapeMode,y=[];if(this.renderer._doFill)if(p===h.TRIANGLE_STRIP||p===h.QUAD_STRIP)for(var O=2;O<m.vertices.length;O++)y.push(O%2==0?[O,O-1,O-2]:[O,O-2,O-1]);else if(p===h.TRIANGLE_FAN)for(var $=2;$<m.vertices.length;$++)y.push([0,$-1,$]);else for(var N=0;N<m.vertices.length;N+=3)y.push([N,N+1,N+2]);this.addGeometry(Object.assign({},m,{faces:y}))}},{key:"addRetained",value:function(m){this.addGeometry(m.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&a(u.prototype,c),d}();l.nextGeometryId=0,S.default=l},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.every":154,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],325:[function(r,W,S){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.math.sign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var _=(w=r("../core/main"))&&w.__esModule?w:{default:w},f=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==x(a)&&"function"!=typeof a)return{default:a};var l=h();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(r("../core/constants"));function h(){var a;return"function"!=typeof WeakMap?null:(h=function(){return a},a=new WeakMap)}function x(a){return(x="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(a)}_.default.prototype.orbitControl=function(a,l,d,O){var c=this,s=(this._assert3d("orbitControl"),_.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);void 0===a&&(a=1),void 0===l&&(l=a),void 0===d&&(d=1),"object"!==x(O)&&(O={}),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var N=O.disableTouchActions;!0===this.touchActionsDisabled||void 0!==N&&!N||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0)),O=void 0!==(N=O.freeRotation)&&N;var m,p,y,$=[],P=(this.touches.forEach(function(H){c._renderer.prevTouches.forEach(function(X){H.id===X.id&&$.push(X={x:H.x,y:H.y,px:X.x,py:X.y})})}),this._renderer.prevTouches=this.touches,N=0,0),j=0,V=0,k=0,E=this.height<this.width?this.height:this.width,T=!1;return 0<$.length?(T=0<$[0].x&&$[0].x<this.width&&0<$[0].y&&$[0].y<this.height,1===$.length?(P=-a*((m=$[0]).x-m.px)/E,j=l*(m.y-m.py)/E):(m=$[0],p=$[1],N=-(Math.hypot(m.x-p.x,m.y-p.y)-Math.hypot(m.px-p.px,m.py-p.py))*d*4e-4,V=.5*(m.x+p.x)-.5*(m.px+p.px),k=.5*(m.y+p.y)-.5*(m.py+p.py)),0<this.touches.length?T&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(T=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,0!==this._mouseWheelDeltaY?(N=Math.sign(this._mouseWheelDeltaY)*d,N*=.01,this._mouseWheelDeltaY=0,T&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(P=-a*this.movedX/E,j=l*this.movedY/E):this.mouseButton===this.RIGHT&&(V=this.movedX,k=this.movedY*s.yScale),T&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),0!==N&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=N),.001<Math.abs(this._renderer.zoomVelocity)?(O?s._orbitFree(0,0,this._renderer.zoomVelocity):s._orbit(0,0,this._renderer.zoomVelocity),0!==s.projMatrix.mat4[15]&&(s.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),s.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=s.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=s.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,0===P&&0===j||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*P,.6*j),1e-6<this._renderer.rotateVelocity.magSq()?(O?s._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):s._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),0===V&&0===k||!this._renderer.executeRotateAndMove||this._renderer.moveVelocity.add(.15*(m=2*V/this.width),.15*(p=2*-k/this.height)),1e-6<this._renderer.moveVelocity.magSq()?(d=s._getLocalAxes(),a=s.eyeX-s.centerX,l=s.eyeY-s.centerY,E=s.eyeZ-s.centerZ,T=Math.sqrt(a*a+l*l+E*E),N=new _.default.Vector(s.centerX,s.centerY,s.centerZ),N=s.cameraMatrix.multiplyPoint(N),(N=this._renderer.uPMatrix.multiplyAndNormalizePoint(N)).x-=this._renderer.moveVelocity.x,N.y-=this._renderer.moveVelocity.y,j=0===(P=this._renderer.uPMatrix.mat4)[15]?(y=(P[8]+N.x)/P[0]*T,(P[9]+N.y)/P[5]*T):(y=(N.x-P[12])/P[0],(N.y-P[13])/P[5]),s.setPosition(s.eyeX+y*d.x[0]+j*d.y[0],s.eyeY+y*d.x[1]+j*d.y[1],s.eyeZ+y*d.x[2]+j*d.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},_.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var a=arguments.length,l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];_.default._validateParameters("debugMode",l);for(var u=this._registeredMethods.post.length-1;0<=u;u--)this._registeredMethods.post[u].toString()!==this._grid().toString()&&this._registeredMethods.post[u].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(u,1);l[0]===f.GRID?this.registerMethod("post",this._grid(l[1],l[2],l[3],l[4],l[5])):l[0]===f.AXES?this.registerMethod("post",this._axesIcon(l[1],l[2],l[3],l[4])):(this.registerMethod("post",this._grid(l[0],l[1],l[2],l[3],l[4])),this.registerMethod("post",this._axesIcon(l[5],l[6],l[7],l[8])))},_.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var a=this._registeredMethods.post.length-1;0<=a;a--)this._registeredMethods.post[a].toString()!==this._grid().toString()&&this._registeredMethods.post[a].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(a,1)},_.default.prototype._grid=function(a,l,d,u,c){void 0===a&&(a=this.width/2),void 0===l&&(l=Math.round(a/30)<4?4:Math.round(a/30)),void 0===d&&(d=0),void 0===u&&(u=0),void 0===c&&(c=0);var s=a/l,m=a/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix);for(var p=0;p<=l;p++)this.beginShape(this.LINES),this.vertex(-m+d,u,p*s-m+c),this.vertex(m+d,u,p*s-m+c),this.endShape();for(var y=0;y<=l;y++)this.beginShape(this.LINES),this.vertex(y*s-m+d,u,-m+c),this.vertex(y*s-m+d,u,m+c),this.endShape();this.pop()}},_.default.prototype._axesIcon=function(a,l,d,u){return void 0===a&&(a=40<this.width/20?this.width/20:40),void 0===l&&(l=-this.width/4),void 0===d&&(d=l),void 0===u&&(u=l),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(l,d,u),this.vertex(l+a,d,u),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(l,d,u),this.vertex(l,d+a,u),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(l,d,u),this.vertex(l,d,u+a),this.endShape(),this.pop()}};var w=_.default;S.default=w},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.splice":170,"core-js/modules/es.math.hypot":175,"core-js/modules/es.math.sign":177,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],326:[function(r,W,S){"use strict";r("core-js/modules/es.array.filter"),r("core-js/modules/es.array.filter"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(r=r("../core/main"))&&r.__esModule?r:{default:r};v.default.prototype.ambientLight=function(_,f,h,x){this._assert3d("ambientLight"),v.default._validateParameters("ambientLight",arguments);var w=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(w._array[0],w._array[1],w._array[2]),this._renderer._enableLighting=!0,this},v.default.prototype.specularColor=function(_,f,h){this._assert3d("specularColor"),v.default._validateParameters("specularColor",arguments);var x=this.color.apply(this,arguments);return this._renderer.specularColors=[x._array[0],x._array[1],x._array[2]],this},v.default.prototype.directionalLight=function(_,c,u,x,w,a){var l,d;return this._assert3d("directionalLight"),v.default._validateParameters("directionalLight",arguments),_=_ instanceof v.default.Color?_:this.color(_,c,u),u="number"==typeof(c=arguments[arguments.length-1])?(l=arguments[arguments.length-3],d=arguments[arguments.length-2],arguments[arguments.length-1]):(l=c.x,d=c.y,c.z),c=Math.sqrt(l*l+d*d+u*u),this._renderer.directionalLightDirections.push(l/c,d/c,u/c),this._renderer.directionalLightDiffuseColors.push(_._array[0],_._array[1],_._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},v.default.prototype.pointLight=function(_,u,c,x,w,a){var l,d;return this._assert3d("pointLight"),v.default._validateParameters("pointLight",arguments),_=_ instanceof v.default.Color?_:this.color(_,u,c),c="number"==typeof(u=arguments[arguments.length-1])?(l=arguments[arguments.length-3],d=arguments[arguments.length-2],arguments[arguments.length-1]):(l=u.x,d=u.y,u.z),this._renderer.pointLightPositions.push(l,d,c),this._renderer.pointLightDiffuseColors.push(_._array[0],_._array[1],_._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},v.default.prototype.imageLight=function(_){this._renderer.activeImageLight=_,this._renderer._enableLighting=!0},v.default.prototype.panorama=function(_){this.filter(this._renderer._getSphereMapping(_))},v.default.prototype.lights=function(){this._assert3d("lights");var _=this.color("rgb(128,128,128)");return this.ambientLight(_),this.directionalLight(_,0,0,-1),this},v.default.prototype.lightFalloff=function(_,f,h){return this._assert3d("lightFalloff"),v.default._validateParameters("lightFalloff",arguments),_<0&&(_=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),f<0&&(f=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),h<0&&(h=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===_&&0===f&&0===h&&(_=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=_,this._renderer.linearAttenuation=f,this._renderer.quadraticAttenuation=h,this},v.default.prototype.spotLight=function(_,f,h,x,w,a,l,d,u,c,s){this._assert3d("spotLight"),v.default._validateParameters("spotLight",arguments);var m,p,y,O=arguments.length;switch(O){case 11:case 10:m=this.color(_,f,h),p=new v.default.Vector(x,w,a),y=new v.default.Vector(l,d,u);break;case 9:_ instanceof v.default.Color?(m=_,p=new v.default.Vector(f,h,x),y=new v.default.Vector(w,a,l),c=d,s=u):x instanceof v.default.Vector?(m=this.color(_,f,h),p=x,y=new v.default.Vector(w,a,l),c=d,s=u):l instanceof v.default.Vector?(m=this.color(_,f,h),p=new v.default.Vector(x,w,a),y=l,c=d,s=u):(m=this.color(_,f,h),p=new v.default.Vector(x,w,a),y=new v.default.Vector(l,d,u));break;case 8:y=_ instanceof v.default.Color?(m=_,p=new v.default.Vector(f,h,x),new v.default.Vector(w,a,l)):x instanceof v.default.Vector?(m=this.color(_,f,h),p=x,new v.default.Vector(w,a,l)):(m=this.color(_,f,h),p=new v.default.Vector(x,w,a),l),c=d;break;case 7:_ instanceof v.default.Color&&f instanceof v.default.Vector?(m=_,p=f,y=new v.default.Vector(h,x,w),c=a,s=l):_ instanceof v.default.Color&&w instanceof v.default.Vector?(m=_,p=new v.default.Vector(f,h,x),y=w,c=a,s=l):x instanceof v.default.Vector&&w instanceof v.default.Vector?(m=this.color(_,f,h),p=x,y=w,c=a,s=l):y=_ instanceof v.default.Color?(m=_,p=new v.default.Vector(f,h,x),new v.default.Vector(w,a,l)):x instanceof v.default.Vector?(m=this.color(_,f,h),p=x,new v.default.Vector(w,a,l)):(m=this.color(_,f,h),p=new v.default.Vector(x,w,a),l);break;case 6:x instanceof v.default.Vector&&w instanceof v.default.Vector?(m=this.color(_,f,h),p=x,y=w,c=a):_ instanceof v.default.Color&&w instanceof v.default.Vector?(m=_,p=new v.default.Vector(f,h,x),y=w,c=a):_ instanceof v.default.Color&&f instanceof v.default.Vector&&(m=_,p=f,y=new v.default.Vector(h,x,w),c=a);break;case 5:_ instanceof v.default.Color&&f instanceof v.default.Vector&&h instanceof v.default.Vector?(m=_,p=f,y=h,c=x,s=w):x instanceof v.default.Vector&&w instanceof v.default.Vector?(m=this.color(_,f,h),p=x,y=w):_ instanceof v.default.Color&&w instanceof v.default.Vector?(m=_,p=new v.default.Vector(f,h,x),y=w):_ instanceof v.default.Color&&f instanceof v.default.Vector&&(m=_,p=f,y=new v.default.Vector(h,x,w));break;case 4:m=_,p=f,y=h,c=x;break;case 3:m=_,p=f,y=h;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(O<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(m._array[0],m._array[1],m._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(p.x,p.y,p.z),y.normalize(),this._renderer.spotLightDirections.push(y.x,y.y,y.z),void 0===c&&(c=Math.PI/3),void 0!==s&&s<1?(s=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===s&&(s=100),c=this._renderer._pInst._toRadians(c),this._renderer.spotLightAngle.push(Math.cos(c)),this._renderer.spotLightConc.push(s),this._renderer._enableLighting=!0,this},v.default.prototype.noLights=function(){this._assert3d("noLights");for(var _=arguments.length,f=new Array(_),h=0;h<_;h++)f[h]=arguments[h];return v.default._validateParameters("noLights",f),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},S.default=r=v.default},{"../core/main":280,"core-js/modules/es.array.filter":156}],327:[function(r,W,S){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.splice"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.promise"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.set"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.match"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.trim"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,r("regenerator-runtime/runtime");var _=(a=r("../core/main"))&&a.__esModule?a:{default:a};function f(l){return function(d){if(Array.isArray(d)){for(var u=0,c=new Array(d.length);u<d.length;u++)c[u]=d[u];return c}}(l)||function(d){if(Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d))return Array.from(d)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(l,d,u,c,s,m,p){try{var y=l[m](p),O=y.value}catch($){return void u($)}y.done?d(O):Promise.resolve(O).then(c,s)}function x(l){return function(){var d=this,u=arguments;return new Promise(function(c,s){var m=l.apply(d,u);function p(O){h(m,c,s,p,y,"next",O)}function y(O){h(m,c,s,p,y,"throw",O)}p(void 0)})}}function w(l){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(l)}r("./p5.Geometry"),_.default.prototype.loadModel=function(l,d){_.default._validateParameters("loadModel",arguments);var u,c,j,s=!1,m=!1,p=!1,y=l.slice(-4),O=(d&&"object"===w(d)?(s=d.normalize||!1,u=d.successCallback,c=d.failureCallback,y=d.fileType||y,m=d.flipU||!1,p=d.flipV||!1):"boolean"==typeof d?(s=d,u=arguments[2],c=arguments[3],void 0!==arguments[4]&&(y=arguments[4])):(u="function"==typeof d?d:void 0,c=arguments[2],void 0!==arguments[3]&&(y=arguments[3])),new _.default.Geometry),$=(O.gid="".concat(l,"|").concat(s),this);function N(){return(N=x(b.mark(function j(V){var k,E,T,H;return b.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:for(k=[],E=0;E<V.length;E++)(T=V[E].match(/^mtllib (.+)/))&&function(){var z,te=T[1],J=l.split("/");z=1<J.length?(J.pop(),J.join("/")+"/"+te):te,k.push(function(){return P.apply(this,arguments)}(z).then(function(q){return q?(ne=$,de=z,new Promise(function(De,Y){var R=null,se={};ne.loadStrings(de,function(pe){for(var Ee=0;Ee<pe.length;++Ee){var We=pe[Ee].trim().split(/\s+/);"newmtl"===We[0]?se[R=We[1]]={}:"Kd"===We[0]?se[R].diffuseColor=[parseFloat(We[1]),parseFloat(We[2]),parseFloat(We[3])]:"Ka"===We[0]?se[R].ambientColor=[parseFloat(We[1]),parseFloat(We[2]),parseFloat(We[3])]:"Ks"===We[0]?se[R].specularColor=[parseFloat(We[1]),parseFloat(We[2]),parseFloat(We[3])]:"map_Kd"===We[0]&&(se[R].texturePath=We[1])}De(se)},Y)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(z)),{});var ne,de}).catch(function(q){return console.warn("Error loading MTL file: ".concat(z),q),{}}))}();return X.prev=2,X.next=5,Promise.all(k);case 5:return H=X.sent,H=Object.assign.apply(Object,[{}].concat(f(H))),X.abrupt("return",H);case 10:return X.prev=10,X.t0=X.catch(2),X.abrupt("return",{});case 13:case"end":return X.stop()}},j,null,[[2,10]])}))).apply(this,arguments)}function P(){return(P=x(b.mark(function j(V){return b.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.prev=0,E.next=3,fetch(V,{method:"HEAD"});case 3:return E.abrupt("return",E.sent.ok);case 7:return E.prev=7,E.t0=E.catch(0),E.abrupt("return",!1);case 10:case"end":return E.stop()}},j,null,[[0,7]])}))).apply(this,arguments)}return y.match(/\.stl$/i)?this.httpDo(l,"GET","arrayBuffer",function(j){(function(V,k){if(function(E){for(var T=new DataView(E),H=[115,111,108,105,100],X=0;X<5;X++)if(function(z,te,J){for(var q=0,ne=z.length;q<ne;q++)if(z[q]!==te.getUint8(J+q,!1))return;return 1}(H,T,X))return;return 1}(k))!function(E,T){for(var H,X,z,te,J,q,ne,de=new DataView(T),De=de.getUint32(80,!0),Y=!1,R=0;R<70;R++)1129270351===de.getUint32(R,!1)&&82===de.getUint8(R+4)&&61===de.getUint8(R+5)&&(Y=!0,te=[],J=de.getUint8(R+6)/255,q=de.getUint8(R+7)/255,ne=de.getUint8(R+8)/255);for(var se=0;se<De;se++){for(var pe,Ee=84+50*se,Ne=de.getFloat32(Ee,!0),We=de.getFloat32(4+Ee,!0),et=de.getFloat32(8+Ee,!0),Ae=(Y&&(z=32768&(pe=de.getUint16(48+Ee,!0))?(H=J,X=q,ne):(H=(31&pe)/31,X=(pe>>5&31)/31,(pe>>10&31)/31)),new _.default.Vector(Ne,We,et)),Be=1;Be<=3;Be++){var Fe=new _.default.Vector(de.getFloat32(Fe=Ee+12*Be,!0),de.getFloat32(4+Fe,!0),de.getFloat32(8+Fe,!0));E.vertices.push(Fe),E.vertexNormals.push(Ae),Y&&te.push(H,X,z)}E.faces.push([3*se,3*se+1,3*se+2]),E.uvs.push([0,0],[0,0],[0,0])}}(V,k);else{if(k=new DataView(k),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");!function(E,T){for(var H,X,z="",te=[],J=0;J<T.length;++J){for(var q=T[J].trim(),ne=q.split(" "),de=0;de<ne.length;++de)""===ne[de]&&ne.splice(de,1);if(0!==ne.length)switch(z){case"":if("solid"!==ne[0])return console.error(q),console.error('Invalid state "'.concat(ne[0],'", should be "solid"'));z="solid";break;case"solid":if("facet"!==ne[0]||"normal"!==ne[1])return console.error(q),console.error('Invalid state "'.concat(ne[0],'", should be "facet normal"'));H=new _.default.Vector(parseFloat(ne[2]),parseFloat(ne[3]),parseFloat(ne[4])),E.vertexNormals.push(H,H,H),z="facet normal";break;case"facet normal":if("outer"!==ne[0]||"loop"!==ne[1])return console.error(q),console.error('Invalid state "'.concat(ne[0],'", should be "outer loop"'));z="vertex";break;case"vertex":if("vertex"===ne[0])X=new _.default.Vector(parseFloat(ne[1]),parseFloat(ne[2]),parseFloat(ne[3])),E.vertices.push(X),E.uvs.push([0,0]),te.push(E.vertices.indexOf(X));else{if("endloop"!==ne[0])return console.error(q),console.error('Invalid state "'.concat(ne[0],'", should be "vertex" or "endloop"'));E.faces.push(te),te=[],z="endloop"}break;case"endloop":if("endfacet"!==ne[0])return console.error(q),console.error('Invalid state "'.concat(ne[0],'", should be "endfacet"'));z="endfacet";break;case"endfacet":if("endsolid"!==ne[0]){if("facet"!==ne[0]||"normal"!==ne[1])return console.error(q),console.error('Invalid state "'.concat(ne[0],'", should be "endsolid" or "facet normal"'));H=new _.default.Vector(parseFloat(ne[2]),parseFloat(ne[3]),parseFloat(ne[4])),E.vertexNormals.push(H,H,H),z="facet normal"}break;default:console.error('Invalid state "'.concat(z,'"'))}}}(V,k=new TextDecoder("utf-8").decode(k).split("\n"))}})(O,j),s&&O.normalize(),m&&O.flipU(),p&&O.flipV(),$._decrementPreload(),"function"==typeof u&&u(O)},c):y.match(/\.obj$/i)?this.loadStrings(l,(j=x(b.mark(function V(k){return b.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.prev=0,T.next=3,function(){return N.apply(this,arguments)}(k);case 3:(function(H,X){for(var z=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},te={v:[],vt:[],vn:[]},J={},q=null,ne=new Set,de=!1,De=!1,Y=0;Y<X.length;++Y){var R=X[Y].trim().split(/\b\s+/);if(0<R.length)if("usemtl"===R[0])q=R[1];else if("v"===R[0]||"vn"===R[0]){var se=new _.default.Vector(parseFloat(R[1]),parseFloat(R[2]),parseFloat(R[3]));te[R[0]].push(se)}else if("vt"===R[0])se=[parseFloat(R[1]),1-parseFloat(R[2])],te[R[0]].push(se);else if("f"===R[0])for(var pe=3;pe<R.length;++pe){for(var Ee=[],Ne=[1,pe-1,pe],We=0;We<Ne.length;++We){for(var et,Ae=R[Ne[We]].split("/"),Be=0;Be<Ae.length;Be++)Ae[Be]=parseInt(Ae[Be])-1;J[Ae[0]]||(J[Ae[0]]={}),void 0===J[Ae[0]][q]?(et=H.vertices.length,H.vertices.push(te.v[Ae[0]].copy()),H.uvs.push(te.vt[Ae[1]]?te.vt[Ae[1]].slice():[0,0]),H.vertexNormals.push(te.vn[Ae[2]]?te.vn[Ae[2]].copy():new _.default.Vector),J[Ae[0]][q]=et,Ee.push(et),q&&z[q]&&z[q].diffuseColor&&ne.add(te.v[Ae[0]])):Ee.push(J[Ae[0]][q])}if(Ee[0]!==Ee[1]&&Ee[0]!==Ee[2]&&Ee[1]!==Ee[2])if(H.faces.push(Ee),q&&z[q]&&z[q].diffuseColor){de=de=!0;for(var Fe=z[q].diffuseColor,Oe=0;Oe<Ee.length;Oe++)H.vertexColors.push(Fe[0]),H.vertexColors.push(Fe[1]),H.vertexColors.push(Fe[2])}else De=!0}}if(0===H.vertexNormals.length&&H.computeNormals(),de===De)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")})(O,k,T.sent),T.next=11;break;case 7:return T.prev=7,T.t0=T.catch(0),c?c(T.t0):_.default._friendlyError("Error during parsing: "+T.t0.message),T.abrupt("return");case 11:return T.prev=11,s&&O.normalize(),m&&O.flipU(),p&&O.flipV(),$._decrementPreload(),"function"==typeof u&&u(O),T.finish(11);case 18:case"end":return T.stop()}},V,null,[[0,7,11,18]])})),function(V){return j.apply(this,arguments)}),c):(_.default._friendlyFileLoadError(3,l),c?c():_.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),O},_.default.prototype.model=function(l){this._assert3d("model"),_.default._validateParameters("model",arguments),0<l.vertices.length&&(this._renderer.geometryInHash(l.gid)||(0===l.edges.length&&l._makeTriangleEdges(),l._edgesToVertices(),this._renderer.createBuffers(l.gid,l)),this._renderer.drawBuffers(l.gid))};var a=_.default;S.default=a},{"../core/main":280,"./p5.Geometry":332,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.from":161,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243,"regenerator-runtime/runtime":257}],328:[function(r,W,S){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(a)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.join"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(w=r("../core/main"))&&w.__esModule?w:{default:w},h=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var l=x();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(r("../core/constants"));function x(){var a;return"function"!=typeof WeakMap?null:(x=function(){return a},a=new WeakMap)}r("./p5.Texture"),f.default.prototype.loadShader=function(a,l,d,u){function c(){m._decrementPreload(),d&&d(s)}f.default._validateParameters("loadShader",arguments),u=u||console.error;var s=new f.default.Shader,m=this,p=!1,y=!1;return this.loadStrings(a,function(O){s._vertSrc=O.join("\n"),y=!0,p&&c()},u),this.loadStrings(l,function(O){s._fragSrc=O.join("\n"),p=!0,y&&c()},u),s},f.default.prototype.createShader=function(a,l){return f.default._validateParameters("createShader",arguments),new f.default.Shader(this._renderer,a,l)},f.default.prototype.createFilterShader=function(a){f.default._validateParameters("createFilterShader",arguments);var l=a.includes("#version 300 es")?"#version 300 es\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    in vec3 aPosition;\n    in vec2 aTexCoord;\n    out vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ":"\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    attribute vec3 aPosition;\n    // texcoords only come from p5 to vertex shader\n    // so pass texcoords on to the fragment shader in a varying variable\n    attribute vec2 aTexCoord;\n    varying vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ";return(l=new f.default.Shader(this._renderer,l,a)).ensureCompiledOnContext(this._renderer.GL?this:this._renderer.getFilterGraphicsLayer()),l},f.default.prototype.shader=function(a){return this._assert3d("shader"),f.default._validateParameters("shader",arguments),a.ensureCompiledOnContext(this),a.isStrokeShader()?this._renderer.userStrokeShader=a:(this._renderer.userFillShader=a,this._renderer._useNormalMaterial=!1),this},f.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},f.default.prototype.texture=function(a){return this._assert3d("texture"),f.default._validateParameters("texture",arguments),a.gifProperties&&a._animateGif(this),this._renderer.drawMode=h.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=a,this._renderer._setProperty("_doFill",!0),this},f.default.prototype.textureMode=function(a){a!==h.IMAGE&&a!==h.NORMAL?console.warn("You tried to set ".concat(a," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=a},f.default.prototype.textureWrap=function(a){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,d=(this._renderer.textureWrapX=a,this._renderer.textureWrapY=l,!0),u=!1,c=void 0;try{for(var s,m=this._renderer.textures.values()[Symbol.iterator]();!(d=(s=m.next()).done);d=!0)s.value.setWrapMode(a,l)}catch(p){u=!0,c=p}finally{try{d||null==m.return||m.return()}finally{if(u)throw c}}},f.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var a=arguments.length,l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];return f.default._validateParameters("normalMaterial",l),this._renderer.drawMode=h.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},f.default.prototype.ambientMaterial=function(a,l,d){this._assert3d("ambientMaterial"),f.default._validateParameters("ambientMaterial",arguments);var u=f.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=u._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},f.default.prototype.emissiveMaterial=function(a,l,d,u){this._assert3d("emissiveMaterial"),f.default._validateParameters("emissiveMaterial",arguments);var c=f.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=c._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},f.default.prototype.specularMaterial=function(a,l,d,u){this._assert3d("specularMaterial"),f.default._validateParameters("specularMaterial",arguments);var c=f.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=c._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},f.default.prototype.shininess=function(a){return this._assert3d("shininess"),f.default._validateParameters("shininess",arguments),this._renderer._useShininess=a=a<1?1:a,this},f.default.prototype.metalness=function(a){return this._assert3d("metalness"),a=1-Math.exp(-a/100),this._renderer._useMetalness=a,this},f.default.RendererGL.prototype._applyColorBlend=function(a,c){var d=this.GL;return(c=c||this.userFillShader||this.userStrokeShader||this.userPointShader||this.drawMode===h.TEXTURE||this.curBlendMode!==h.BLEND||a[a.length-1]<1||this._isErasing)!==this._isBlending&&(c||this.curBlendMode!==h.BLEND&&this.curBlendMode!==h.ADD?d.enable(d.BLEND):d.disable(d.BLEND),d.depthMask(!0),this._isBlending=c),this._applyBlendMode(),a},f.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var a=this.GL;switch(this.curBlendMode){case h.BLEND:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case h.ADD:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ONE);break;case h.REMOVE:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.ONE_MINUS_SRC_ALPHA);break;case h.MULTIPLY:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA);break;case h.SCREEN:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_COLOR);break;case h.EXCLUSION:a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE_MINUS_DST_COLOR,a.ONE_MINUS_SRC_COLOR,a.ONE,a.ONE);break;case h.REPLACE:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ZERO);break;case h.SUBTRACT:a.blendEquationSeparate(a.FUNC_REVERSE_SUBTRACT,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case h.DARKEST:this.blendExt?(a.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case h.LIGHTEST:this.blendExt?(a.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var w=f.default;S.default=w},{"../core/constants":269,"../core/main":280,"./p5.Texture":339,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],329:[function(r,W,S){"use strict";r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.string.sub"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.hypot"),r("core-js/modules/es.string.sub"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(r=r("../core/main"))&&r.__esModule?r:{default:r};function _(f,h){for(var x=0;x<h.length;x++){var w=h[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}v.default.prototype.camera=function(){var f;this._assert3d("camera");for(var h=arguments.length,x=new Array(h),w=0;w<h;w++)x[w]=arguments[w];return v.default._validateParameters("camera",x),(f=this._renderer._curCamera).camera.apply(f,x),this},v.default.prototype.perspective=function(){var f;this._assert3d("perspective");for(var h=arguments.length,x=new Array(h),w=0;w<h;w++)x[w]=arguments[w];return v.default._validateParameters("perspective",x),(f=this._renderer._curCamera).perspective.apply(f,x),this},v.default.prototype.linePerspective=function(f){if(v.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof v.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(void 0===f)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=f},v.default.prototype.ortho=function(){var f;this._assert3d("ortho");for(var h=arguments.length,x=new Array(h),w=0;w<h;w++)x[w]=arguments[w];return v.default._validateParameters("ortho",x),(f=this._renderer._curCamera).ortho.apply(f,x),this},v.default.prototype.frustum=function(){var f;this._assert3d("frustum");for(var h=arguments.length,x=new Array(h),w=0;w<h;w++)x[w]=arguments[w];return v.default._validateParameters("frustum",x),(f=this._renderer._curCamera).frustum.apply(f,x),this},v.default.prototype.createCamera=function(){this._assert3d("createCamera");var f=new v.default.Camera(this._renderer);return f._computeCameraDefaultSettings(),f._setDefaultCamera(),this._renderer._curCamera=f},v.default.Camera=function(){function f(a){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._renderer=a,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new v.default.Matrix,this.projMatrix=new v.default.Matrix,this.yScale=1}var h,x;return h=f,(x=[{key:"perspective",value:function(c,l,d,u){this.cameraType=0<arguments.length?"custom":"default",this.cameraFOV=void 0===c?c=this.defaultCameraFOV:this._renderer._pInst._toRadians(c),void 0===l&&(l=this.defaultAspectRatio),void 0===d&&(d=this.defaultCameraNear),void 0===u&&(u=this.defaultCameraFar),d<=1e-4&&(d=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),u<d&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=l,this.cameraNear=d,this.cameraFar=u,this.projMatrix=v.default.Matrix.identity(),c=1/Math.tan(this.cameraFOV/2);var s=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(c/l,0,0,0,0,-c*this.yScale,0,0,0,0,(u+d)*s,-1,0,0,2*u*d*s,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(P,N,d,u,c,s){void 0===P&&(P=-this._renderer.width/2),void 0===N&&(N=+this._renderer.width/2),void 0===d&&(d=-this._renderer.height/2),void 0===u&&(u=+this._renderer.height/2),void 0===c&&(c=0),void 0===s&&(s=Math.max(this._renderer.width,this._renderer.height)+800),this.cameraNear=c;var j=N-P,m=u-d,p=(this.cameraFar=s)-c,y=2/j,O=2/m*this.yScale,$=-2/p;N=-(N+P)/j,P=-(u+d)/m,j=-(s+c)/p,this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(y,0,0,0,0,-O,0,0,0,0,$,0,N,P,j,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(P,N,d,u,c,s){void 0===P&&(P=.05*-this._renderer.width),void 0===N&&(N=.05*+this._renderer.width),void 0===d&&(d=.05*+this._renderer.height),void 0===u&&(u=.05*-this._renderer.height),void 0===c&&(c=this.defaultCameraNear),void 0===s&&(s=this.defaultCameraFar),this.cameraNear=c;var j=N-P,m=u-d,p=(this.cameraFar=s)-c,y=2*c/j,O=2*c/m*this.yScale,$=-2*s*c/p;N=(N+P)/j,P=(u+d)/m,j=-(s+c)/p,this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(y,0,0,0,0,-O,0,0,N,P,j,-1,0,0,$,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(y,l,d,u){var c=this.centerX,s=this.centerY,m=this.centerZ,p=(c-=this.eyeX,s-=this.eyeY,m-=this.eyeZ,v.default.Matrix.identity(this._renderer._pInst));(p.rotate(this._renderer._pInst._toRadians(y),l,d,u),y=[c*p.mat4[0]+s*p.mat4[4]+m*p.mat4[8],c*p.mat4[1]+s*p.mat4[5]+m*p.mat4[9],c*p.mat4[2]+s*p.mat4[6]+m*p.mat4[10]])[0]+=this.eyeX,y[1]+=this.eyeY,y[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,y[0],y[1],y[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(a){var l=this._getLocalAxes();this._rotateView(a,l.y[0],l.y[1],l.y[2])}},{key:"tilt",value:function(a){var l=this._getLocalAxes();this._rotateView(a,l.x[0],l.x[1],l.x[2])}},{key:"lookAt",value:function(a,l,d){this.camera(this.eyeX,this.eyeY,this.eyeZ,a,l,d,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(a,l,d,u,c,s,m,p,y){return void 0===a&&(d=this.defaultEyeZ,u=a=this.defaultEyeX,c=l=this.defaultEyeY,p=1,y=m=s=0),this.eyeX=a,this.eyeY=l,this.eyeZ=d,void 0!==u&&(this.centerX=u,this.centerY=c,this.centerZ=s),void 0!==m&&(this.upX=m,this.upY=p,this.upZ=y),u=this._getLocalAxes(),this.cameraMatrix.set(u.x[0],u.y[0],u.z[0],0,u.x[1],u.y[1],u.z[1],0,u.x[2],u.y[2],u.z[2],0,0,0,0,1),this.cameraMatrix.translate([c=-a,-l,-d]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(u,c,d){var s=this._getLocalAxes();this.camera(this.eyeX+(u=[s.x[0]*u,s.x[1]*u,s.x[2]*u])[0]+(c=[s.y[0]*c,s.y[1]*c,s.y[2]*c])[0]+(s=[s.z[0]*d,s.z[1]*d,s.z[2]*d])[0],this.eyeY+u[1]+c[1]+s[1],this.eyeZ+u[2]+c[2]+s[2],this.centerX+u[0]+c[0]+s[0],this.centerY+u[1]+c[1]+s[1],this.centerZ+u[2]+c[2]+s[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(a,l,d){this.camera(a,l,d,this.centerX+(a-this.eyeX),this.centerY+(l-this.eyeY),this.centerZ+(d-this.eyeZ),this.upX,this.upY,this.upZ)}},{key:"set",value:function(a){for(var l=0,d=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];l<d.length;l++){var u=d[l];this[u]=a[u]}this.cameraMatrix=a.cameraMatrix.copy(),this.projMatrix=a.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(a,l,d){var u,c,s,m,p,y,O,$,N,P,j,V,k,E,T,H,X,z;0===d?this.set(a):1===d?this.set(l):(0!==this.projMatrix.mat4[15]&&(this.projMatrix.mat4[0]=a.projMatrix.mat4[0]*Math.pow(l.projMatrix.mat4[0]/a.projMatrix.mat4[0],d),this.projMatrix.mat4[5]=a.projMatrix.mat4[5]*Math.pow(l.projMatrix.mat4[5]/a.projMatrix.mat4[5],d),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),m=new v.default.Vector(a.eyeX,a.eyeY,a.eyeZ),p=new v.default.Vector(l.eyeX,l.eyeY,l.eyeZ),H=new v.default.Vector(a.centerX,a.centerY,a.centerZ),z=new v.default.Vector(l.centerX,l.centerY,l.centerZ),s=v.default.Vector.dist(m,H),u=v.default.Vector.dist(p,z),u=s*Math.pow(u/s,d),s=v.default.Vector.sub(m,p),c=1,1e-6<(X=(E=m.copy().sub(p).sub(H).add(z)).magSq())&&(c=v.default.Vector.dot(s,E)/X,c=Math.max(0,Math.min(c,1))),s=v.default.Vector.lerp(v.default.Vector.lerp(m,H,c),v.default.Vector.lerp(p,z,c),d),E=a.cameraMatrix.createSubMatrix3x3(),X=l.cameraMatrix.createSubMatrix3x3(),m=E.row(2),H=X.row(2),p=E.row(1),z=X.row(1),a=new v.default.Vector,l=new v.default.Vector,y=new v.default.Vector,O=new v.default.Vector,1-($=.5*((E=(X=X.mult3x3(E.copy().transpose3x3())).diagonal())[0]+E[1]+E[2]-1))<1e-7?(a.set(v.default.Vector.lerp(m,H,d)).normalize(),y.set(a).mult(c*u).add(s),O.set(a).mult((c-1)*u).add(s),l.set(v.default.Vector.lerp(p,z,d)).normalize()):(H=1/(1-$),z=Math.max(E[0],E[1],E[2]),V=X.mat3[1]+X.mat3[3],k=X.mat3[2]+X.mat3[6],T=X.mat3[5]+X.mat3[7],z=z===E[0]?(P=.5*V*(H/=N=Math.sqrt((E[0]-$)*H)),j=.5*k*H,.5*(X.mat3[7]-X.mat3[5])/N):z===E[1]?(j=.5*T*(H/=P=Math.sqrt((E[1]-$)*H)),N=.5*V*H,.5*(X.mat3[2]-X.mat3[6])/P):(N=.5*k*(H/=j=Math.sqrt((E[2]-$)*H)),P=.5*T*H,.5*(X.mat3[3]-X.mat3[1])/j),V=d*Math.atan2(z,$),k=Math.cos(V),E=Math.sin(V),(z=new v.default.Matrix("mat3",[k+(T=1-k)*N*N,T*(H=N*P)+E*j,T*(X=j*N)-E*P,T*H-E*j,k+T*P*P,T*(d=P*j)+E*N,T*X+E*P,T*d-E*N,k+T*j*j])).multiplyVec3(m,a),y.set(a).mult(c*u).add(s),O.set(a).mult((c-1)*u).add(s),z.multiplyVec3(p,l)),this.camera(y.x,y.y,y.z,O.x,O.y,O.z,l.x,l.y,l.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){"default"===this.cameraType&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var a=new v.default.Camera(this._renderer);return a.cameraFOV=this.cameraFOV,a.aspectRatio=this.aspectRatio,a.eyeX=this.eyeX,a.eyeY=this.eyeY,a.eyeZ=this.eyeZ,a.centerX=this.centerX,a.centerY=this.centerY,a.centerZ=this.centerZ,a.upX=this.upX,a.upY=this.upY,a.upZ=this.upZ,a.cameraNear=this.cameraNear,a.cameraFar=this.cameraFar,a.cameraType=this.cameraType,a.cameraMatrix=this.cameraMatrix.copy(),a.projMatrix=this.projMatrix.copy(),a.yScale=this.yScale,a}},{key:"_getLocalAxes",value:function(){var O,a=this.eyeX-this.centerX,l=this.eyeY-this.centerY,d=this.eyeZ-this.centerZ,m=(0!==(m=Math.sqrt(a*a+l*l+d*d))&&(a/=m,l/=m,d/=m),this.upX),u=(p=this.upY)*d-(y=this.upZ)*l,c=-m*d+y*a,s=m*l-p*a,p=(m=l*s-d*c,-a*s+d*u),y=a*c-l*u;return 0!==(0!==(O=Math.sqrt(u*u+c*c+s*s))&&(u/=O,c/=O,s/=O),O=Math.sqrt(m*m+p*p+y*y))&&(m/=O,p/=O,y/=O),{x:[u,c,s],y:[m,p,y],z:[a,l,d]}}},{key:"_orbit",value:function(a,O,y){var c=this.eyeX-this.centerX,s=this.eyeY-this.centerY,m=this.eyeZ-this.centerZ,u=Math.hypot(c,s,m),p=(c=new v.default.Vector(c,s,m).normalize(),s=new v.default.Vector(this.upX,this.upY,this.upZ).normalize(),m=v.default.Vector.cross(s,c).normalize(),v.default.Vector.cross(m,s));(u=(u*=Math.pow(10,y))<this.cameraNear?this.cameraNear:u)>this.cameraFar&&(u=this.cameraFar),y=Math.acos(Math.max(-1,Math.min(1,v.default.Vector.dot(c,s))))+O,O=a,(y<=0||y>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),s.mult(Math.cos(y)),p.mult(Math.cos(O)*Math.sin(y)),m.mult(Math.sin(O)*Math.sin(y)),c.set(s).add(p).add(m),this.eyeX=u*c.x+this.centerX,this.eyeY=u*c.y+this.centerY,this.eyeZ=u*c.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(y,O,N){var c=this.eyeX-this.centerX,s=this.eyeY-this.centerY,m=this.eyeZ-this.centerZ,u=Math.hypot(c,s,m),p=(c=new v.default.Vector(c,s,m).normalize(),s=new v.default.Vector(this.upX,this.upY,this.upZ),m=v.default.Vector.cross(s,c).normalize(),v.default.Vector.cross(c,m)),P=Math.atan2(O,y),$=(p.mult(Math.sin(P)),m.mult(Math.cos(P)).add(p),P=Math.sqrt(y*y+O*O),p=v.default.Vector.cross(c,m),(u=(u*=Math.pow(10,N))<this.cameraNear?this.cameraNear:u)>this.cameraFar&&(u=this.cameraFar),y=Math.cos(P),O=Math.sin(P),(N=s.dot(c))*y+(P=s.dot(m))*O);N=-N*O+P*y,P=s.dot(p),s.x=$*c.x+N*m.x+P*p.x,s.y=$*c.y+N*m.y+P*p.y,s.z=$*c.z+N*m.z+P*p.z,m.mult(-O),c.mult(y).add(m).mult(u),this.camera(c.x+this.centerX,c.y+this.centerY,c.z+this.centerZ,this.centerX,this.centerY,this.centerZ,s.x,s.y,s.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&_(h.prototype,x),f}(),v.default.prototype.setCamera=function(f){this._renderer._curCamera=f,this._renderer.uPMatrix.set(f.projMatrix)},S.default=r=v.default.Camera},{"../core/main":280,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.string.sub":205}],330:[function(r,W,S){"use strict";function v(_,f){for(var h=0;h<f.length;h++){var x=f[h];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(_,x.key,x)}}r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.log2"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.math.log2"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.DataArray=function(){function _(){var w=0<arguments.length&&void 0!==arguments[0]?arguments[0]:128;if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(w),this.initialLength=w}var f,h;return f=_,(h=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var w;this.length<this.data.length/2&&(w=1<<Math.ceil(Math.log2(this.length)),(w=new Float32Array(w)).set(this.data.subarray(0,this.length),0),this.data=w)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var w=arguments.length,a=new Array(w),l=0;l<w;l++)a[l]=arguments[l];this.ensureLength(this.length+a.length),this.data.set(a,this.length),this.length+=a.length}},{key:"slice",value:function(w,a){return this.data.slice(w,Math.min(a,this.length))}},{key:"subArray",value:function(w,a){return this.data.subarray(w,Math.min(a,this.length))}},{key:"ensureLength",value:function(w){for(;this.data.length<w;){var a=new Float32Array(2*this.data.length);a.set(this.data,0),this.data=a}}}])&&v(f.prototype,h),_}(),S.default=r=r.default.DataArray},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.log2":176,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236}],331:[function(j,W,S){"use strict";function v(V){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(V)}function _(V){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(k){return v(k)}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":v(k)})(V)}j("core-js/modules/es.symbol"),j("core-js/modules/es.symbol.description"),j("core-js/modules/es.symbol.iterator"),j("core-js/modules/es.array.fill"),j("core-js/modules/es.array.includes"),j("core-js/modules/es.array.iterator"),j("core-js/modules/es.object.get-own-property-descriptor"),j("core-js/modules/es.object.get-prototype-of"),j("core-js/modules/es.object.to-string"),j("core-js/modules/es.reflect.construct"),j("core-js/modules/es.reflect.get"),j("core-js/modules/es.regexp.to-string"),j("core-js/modules/es.string.includes"),j("core-js/modules/es.string.iterator"),j("core-js/modules/es.typed-array.float32-array"),j("core-js/modules/es.typed-array.uint8-array"),j("core-js/modules/es.typed-array.uint8-clamped-array"),j("core-js/modules/es.typed-array.copy-within"),j("core-js/modules/es.typed-array.every"),j("core-js/modules/es.typed-array.fill"),j("core-js/modules/es.typed-array.filter"),j("core-js/modules/es.typed-array.find"),j("core-js/modules/es.typed-array.find-index"),j("core-js/modules/es.typed-array.for-each"),j("core-js/modules/es.typed-array.includes"),j("core-js/modules/es.typed-array.index-of"),j("core-js/modules/es.typed-array.iterator"),j("core-js/modules/es.typed-array.join"),j("core-js/modules/es.typed-array.last-index-of"),j("core-js/modules/es.typed-array.map"),j("core-js/modules/es.typed-array.reduce"),j("core-js/modules/es.typed-array.reduce-right"),j("core-js/modules/es.typed-array.reverse"),j("core-js/modules/es.typed-array.set"),j("core-js/modules/es.typed-array.slice"),j("core-js/modules/es.typed-array.some"),j("core-js/modules/es.typed-array.sort"),j("core-js/modules/es.typed-array.subarray"),j("core-js/modules/es.typed-array.to-locale-string"),j("core-js/modules/es.typed-array.to-string"),j("core-js/modules/es.weak-map"),j("core-js/modules/web.dom-collections.iterator"),j("core-js/modules/es.array.fill"),j("core-js/modules/es.array.includes"),j("core-js/modules/es.array.iterator"),j("core-js/modules/es.object.get-prototype-of"),j("core-js/modules/es.object.to-string"),j("core-js/modules/es.string.includes"),j("core-js/modules/es.typed-array.float32-array"),j("core-js/modules/es.typed-array.uint8-array"),j("core-js/modules/es.typed-array.uint8-clamped-array"),j("core-js/modules/es.typed-array.copy-within"),j("core-js/modules/es.typed-array.every"),j("core-js/modules/es.typed-array.fill"),j("core-js/modules/es.typed-array.filter"),j("core-js/modules/es.typed-array.find"),j("core-js/modules/es.typed-array.find-index"),j("core-js/modules/es.typed-array.for-each"),j("core-js/modules/es.typed-array.includes"),j("core-js/modules/es.typed-array.index-of"),j("core-js/modules/es.typed-array.iterator"),j("core-js/modules/es.typed-array.join"),j("core-js/modules/es.typed-array.last-index-of"),j("core-js/modules/es.typed-array.map"),j("core-js/modules/es.typed-array.reduce"),j("core-js/modules/es.typed-array.reduce-right"),j("core-js/modules/es.typed-array.reverse"),j("core-js/modules/es.typed-array.set"),j("core-js/modules/es.typed-array.slice"),j("core-js/modules/es.typed-array.some"),j("core-js/modules/es.typed-array.sort"),j("core-js/modules/es.typed-array.subarray"),j("core-js/modules/es.typed-array.to-locale-string"),j("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(P=j("../core/main"))&&P.__esModule?P:{default:P},h=function(V){if(V&&V.__esModule)return V;if(null===V||"object"!==_(V)&&"function"!=typeof V)return{default:V};var k=a();if(k&&k.has(V))return k.get(V);var E,T={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in V){var X;Object.prototype.hasOwnProperty.call(V,E)&&((X=H?Object.getOwnPropertyDescriptor(V,E):null)&&(X.get||X.set)?Object.defineProperty(T,E,X):T[E]=V[E])}return T.default=V,k&&k.set(V,T),T}(j("../core/constants")),x=j("./p5.Texture"),w=j("./p5.RendererGL");function a(){var V;return"function"!=typeof WeakMap?null:(a=function(){return V},V=new WeakMap)}function l(V,k){return function(E){if(Array.isArray(E))return E}(V)||function(E,T){if(Symbol.iterator in Object(E)||"[object Arguments]"===Object.prototype.toString.call(E)){var H=[],X=!0,z=!1,te=void 0;try{for(var J,q=E[Symbol.iterator]();!(X=(J=q.next()).done)&&(H.push(J.value),!T||H.length!==T);X=!0);}catch(ne){z=!0,te=ne}finally{try{X||null==q.return||q.return()}finally{if(z)throw te}}return H}}(V,k)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(V,k,E){return k in V?Object.defineProperty(V,k,{value:E,enumerable:!0,configurable:!0,writable:!0}):V[k]=E,V}function u(V,k){if(!(V instanceof k))throw new TypeError("Cannot call a class as a function")}function c(V,k){for(var E=0;E<k.length;E++){var T=k[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(V,T.key,T)}}function s(V,k,E){k&&c(V.prototype,k),E&&c(V,E)}function m(V,k,E){return(m=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(z,H,X){if(z=function(te,J){for(;!Object.prototype.hasOwnProperty.call(te,J)&&null!==(te=O(te)););return te}(z,H))return(z=Object.getOwnPropertyDescriptor(z,H)).get?z.get.call(X):z.value})(V,k,E||V)}function p(V,k){return(p=Object.setPrototypeOf||function(E,T){return E.__proto__=T,E})(V,k)}function O(V){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)})(V)}var $=function(V){var k=T;if("function"!=typeof V&&null!==V)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(V&&V.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),V&&p(k,V);var E=function y(V){return function(){var k,E=O(V);if(k=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(k=O(this).constructor,Reflect.construct(E,arguments,k)):E.apply(this,arguments),E=this,!k||"object"!==_(k)&&"function"!=typeof k){if(void 0!==E)return E;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return k}}(T);function T(H){var X;return u(this,T),(X=E.call(this,H.target._renderer)).fbo=H,X.yScale=-1,X}return s(T,[{key:"_computeCameraDefaultSettings",value:function(){m(O(T.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),T}(f.default.Camera),N=(f.default.FramebufferCamera=$,function(){function V(k,E){u(this,V),this.framebuffer=k,this.property=E}return s(V,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),V}()),P=(f.default.FramebufferTexture=N,function(){function V(k){var E=this,T=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},H=(u(this,V),this.target=k,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=T.format||h.UNSIGNED_BYTE,this.channels=T.channels||(k._renderer._pInst._glAttributes.alpha?h.RGBA:h.RGB),this.useDepth=void 0===T.depth||T.depth,this.depthFormat=T.depthFormat||h.FLOAT,this.textureFiltering=T.textureFiltering||h.LINEAR,this.antialiasSamples=void 0===T.antialias?k._renderer._pInst._glAttributes.antialias?2:0:"number"==typeof T.antialias?T.antialias:T.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&k.webglVersion!==h.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=T.density||k.pixelDensity(),k._renderer.GL);if(this.gl=H,T.width&&T.height?(X=k._renderer._adjustDimensions(T.width,T.height),this.width=X.adjustedWidth,this.height=X.adjustedHeight,this.autoSized=!1):(void 0===T.width!=(void 0===T.height)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=k.width,this.height=k.height,this.autoSized=!0),this._checkIfFormatsAvailable(),T.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(void 0===T.stencil||T.stencil),this.framebuffer=H.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=H.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var X=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=X,this.draw(function(){return E.target.clear()})}return s(V,[{key:"resize",value:function(k,E){this.autoSized=!1;var T=this.target._renderer._adjustDimensions(k,E);E=T.adjustedHeight,this.width=k=T.adjustedWidth,this.height=E,this._handleResize()}},{key:"pixelDensity",value:function(k){if(!k)return this.density;this.autoSized=!1,this.density=k,this._handleResize()}},{key:"autoSized",value:function(k){if(void 0===k)return this.autoSized;this.autoSized=k,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var k=this.gl;(this.useDepth&&this.target.webglVersion===h.WEBGL&&!k.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===h.WEBGL&&this.depthFormat===h.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=h.UNSIGNED_INT),[h.UNSIGNED_BYTE,h.FLOAT,h.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=h.UNSIGNED_BYTE),this.useDepth&&![h.UNSIGNED_INT,h.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=h.FLOAT),k=(0,x.checkWebGLCapabilities)(this.target._renderer)).float||this.format!==h.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=h.UNSIGNED_BYTE),this.useDepth&&!k.float&&this.depthFormat===h.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=h.UNSIGNED_INT),k.halfFloat||this.format!==h.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=h.UNSIGNED_BYTE),this.channels===h.RGB&&[h.FLOAT,h.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=h.RGBA)}},{key:"_recreateTextures",value:function(){var k=this.gl,E=(this._updateSize(),k.getParameter(k.TEXTURE_BINDING_2D)),T=k.getParameter(k.FRAMEBUFFER_BINDING);if(!(H=k.createTexture()))throw new Error("Unable to create color texture");k.bindTexture(k.TEXTURE_2D,H);var X=this._glColorFormat();if(k.texImage2D(k.TEXTURE_2D,0,X.internalFormat,this.width*this.density,this.height*this.density,0,X.format,X.type,null),this.colorTexture=H,k.bindFramebuffer(k.FRAMEBUFFER,this.framebuffer),k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,H,0),this.useDepth){var H;if(!(H=k.createTexture()))throw new Error("Unable to create depth texture");var z=this._glDepthFormat();k.bindTexture(k.TEXTURE_2D,H),k.texImage2D(k.TEXTURE_2D,0,z.internalFormat,this.width*this.density,this.height*this.density,0,z.format,z.type,null),k.framebufferTexture2D(k.FRAMEBUFFER,this.useStencil?k.DEPTH_STENCIL_ATTACHMENT:k.DEPTH_ATTACHMENT,k.TEXTURE_2D,H,0),this.depthTexture=H}this.antialias&&(this.colorRenderbuffer=k.createRenderbuffer(),k.bindRenderbuffer(k.RENDERBUFFER,this.colorRenderbuffer),k.renderbufferStorageMultisample(k.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,k.getParameter(k.MAX_SAMPLES))),X.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(z=this._glDepthFormat(),this.depthRenderbuffer=k.createRenderbuffer(),k.bindRenderbuffer(k.RENDERBUFFER,this.depthRenderbuffer),k.renderbufferStorageMultisample(k.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,k.getParameter(k.MAX_SAMPLES))),z.internalFormat,this.width*this.density,this.height*this.density)),k.bindFramebuffer(k.FRAMEBUFFER,this.aaFramebuffer),k.framebufferRenderbuffer(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&k.framebufferRenderbuffer(k.FRAMEBUFFER,this.useStencil?k.DEPTH_STENCIL_ATTACHMENT:k.DEPTH_ATTACHMENT,k.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new N(this,"depthTexture"),this.depthP5Texture=new f.default.Texture(this.target._renderer,this.depth,{minFilter:H=k.NEAREST,magFilter:H}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new N(this,"colorTexture"),this.colorP5Texture=new f.default.Texture(this.target._renderer,this.color,{minFilter:X=this.textureFiltering===h.LINEAR?k.LINEAR:k.NEAREST,magFilter:X}),this.target._renderer.textures.set(this.color,this.colorP5Texture),k.bindTexture(k.TEXTURE_2D,E),k.bindFramebuffer(k.FRAMEBUFFER,T)}},{key:"_glColorFormat",value:function(){var k,E,T=this.gl,H=this.format===h.FLOAT?T.FLOAT:this.format===h.HALF_FLOAT?this.target.webglVersion===h.WEBGL2?T.HALF_FLOAT:T.getExtension("OES_texture_half_float").HALF_FLOAT_OES:T.UNSIGNED_BYTE,X=this.channels===h.RGBA?T.RGBA:T.RGB;return{internalFormat:this.target.webglVersion===h.WEBGL2?(d(E={},T.FLOAT,d({},T.RGBA,T.RGBA32F)),d(E,T.HALF_FLOAT,d({},T.RGBA,T.RGBA16F)),d(E,T.UNSIGNED_BYTE,(d(k={},T.RGBA,T.RGBA8),d(k,T.RGB,T.RGB8),k)),E[H][X]):this.format===h.HALF_FLOAT?T.RGBA:X,format:X,type:H}}},{key:"_glDepthFormat",value:function(){var T=this.gl,k=this.useStencil?this.depthFormat===h.FLOAT?T.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===h.WEBGL2?T.UNSIGNED_INT_24_8:T.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===h.FLOAT?T.FLOAT:T.UNSIGNED_INT,E=this.useStencil?T.DEPTH_STENCIL:T.DEPTH_COMPONENT;return{internalFormat:T=this.useStencil?this.depthFormat===h.FLOAT?T.DEPTH32F_STENCIL8:this.target.webglVersion===h.WEBGL2?T.DEPTH24_STENCIL8:T.DEPTH_STENCIL:this.target.webglVersion===h.WEBGL2?this.depthFormat===h.FLOAT?T.DEPTH_COMPONENT32F:T.DEPTH_COMPONENT24:T.DEPTH_COMPONENT,format:E,type:k}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var k=this.depth,E=this.colorRenderbuffer,T=this.depthRenderbuffer,H=(this._deleteTexture(H=this.color),k&&this._deleteTexture(k),this.gl);E&&H.deleteRenderbuffer(E),T&&H.deleteRenderbuffer(T),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var k=new $(this);return k._computeCameraDefaultSettings(),k._setDefaultCamera(),this.target._renderer._curCamera=k}},{key:"_deleteTexture",value:function(k){this.gl.deleteTexture(k.rawTexture()),this.target._renderer.textures.delete(k)}},{key:"remove",value:function(){var k=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),k.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&k.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&k.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&k.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix)}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var k=this.gl;k.bindFramebuffer(k.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var k=this.gl,E=(k.bindFramebuffer(k.READ_FRAMEBUFFER,this.aaFramebuffer),k.bindFramebuffer(k.DRAW_FRAMEBUFFER,this.framebuffer),[[k.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&E.push([k.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var T=0,H=E;T<H.length;T++){var z=l(H[T],2);k.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,z[0],z=z[1])}}}},{key:"end",value:function(){var k=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(k.bindFramebuffer(k.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(k){this.begin(),k(),this.end()}},{key:"loadPixels",value:function(){var k=this.gl,E=this.target._renderer.activeFramebuffer(),T=(k.bindFramebuffer(k.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,w.readPixelsWebGL)(this.pixels,k,this.framebuffer,0,0,this.width*this.density,this.height*this.density,T.format,T.type),k.bindFramebuffer(k.FRAMEBUFFER,E?E._framebufferToBind():null)}},{key:"get",value:function(k,E,T,H){f.default._validateParameters("p5.Framebuffer.get",arguments);var X=this._glColorFormat();if(void 0===k&&void 0===E)E=k=0,T=this.width,H=this.height;else if(void 0===T&&void 0===H)return(k<0||E<0||k>=this.width||E>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),k=this.target.constrain(k,0,this.width-1),E=this.target.constrain(E,0,this.height-1)),(0,w.readPixelWebGL)(this.gl,this.framebuffer,k*this.density,E*this.density,X.format,X.type);k=this.target.constrain(k,0,this.width-1),E=this.target.constrain(E,0,this.height-1),T=this.target.constrain(T,1,this.width-k),H=this.target.constrain(H,1,this.height-E);for(var z=(0,w.readPixelsWebGL)(void 0,this.gl,this.framebuffer,k*this.density,E*this.density,T*this.density,H*this.density,X.format,X.type),te=new Uint8ClampedArray(T*H*this.density*this.density*4),J=(te.fill(255),X.type===this.gl.RGB?3:4),q=0;q<H*this.density;q++)for(var ne=0;ne<T*this.density;ne++)for(var de=0;de<4;de++){var Y=4*(q*T*this.density+ne)+de;de<J&&(te[Y]=z[4==J?Y:(q*T*this.density+ne)*J+de])}return(k=new f.default.Image(T*this.density,H*this.density)).imageData=k.canvas.getContext("2d").createImageData(k.width,k.height),k.imageData.data.set(te),k.pixels=k.imageData.data,k.updatePixels(),1!==this.density&&k.resize(T,H),k}},{key:"updatePixels",value:function(){var k=this.gl,E=(this.colorP5Texture.bindTexture(),this._glColorFormat()),T=this.width*this.height*this.density*this.density*(T=E.format===k.RGBA?4:3),H=E.type===k.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof H)||this.pixels.length!==T)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");k.texImage2D(k.TEXTURE_2D,0,E.internalFormat,this.width*this.density,this.height*this.density,0,E.format,E.type,this.pixels),this.colorP5Texture.unbindTexture(),H=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(k.clearDepth(1),k.clear(k.DEPTH_BUFFER_BIT)),this.end()):(k.bindFramebuffer(k.FRAMEBUFFER,this.framebuffer),this.useDepth&&(k.clearDepth(1),k.clear(k.DEPTH_BUFFER_BIT)),k.bindFramebuffer(k.FRAMEBUFFER,H?H._framebufferToBind():null))}}]),V}());j=f.default.Framebuffer=P,S.default=j},{"../core/constants":269,"../core/main":280,"./p5.RendererGL":337,"./p5.Texture":339,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.typed-array.uint8-clamped-array":240,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],332:[function(r,W,S){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(d)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.flat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.unscopables.flat"),r("core-js/modules/es.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.sub"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.flat"),r("core-js/modules/es.array.for-each"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.unscopables.flat"),r("core-js/modules/es.map"),r("core-js/modules/es.number.constructor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.set"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.sub"),r("core-js/modules/web.dom-collections.for-each"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(l=r("../core/main"))&&l.__esModule?l:{default:l},h=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var u=x();if(u&&u.has(d))return u.get(d);var c,s={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in d){var p;Object.prototype.hasOwnProperty.call(d,c)&&((p=m?Object.getOwnPropertyDescriptor(d,c):null)&&(p.get||p.set)?Object.defineProperty(s,c,p):s[c]=d[c])}return s.default=d,u&&u.set(d,s),s}(r("../core/constants"));function x(){var d;return"function"!=typeof WeakMap?null:(x=function(){return d},d=new WeakMap)}function w(d){return function(u){if(Array.isArray(u)){for(var c=0,s=new Array(u.length);c<u.length;c++)s[c]=u[c];return s}}(d)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(d,u){for(var c=0;c<u.length;c++){var s=u[c];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(d,s.key,s)}}f.default.Geometry=function(){function d(m,p,y){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new f.default.DataArray,this.lineTangentsIn=new f.default.DataArray,this.lineTangentsOut=new f.default.DataArray,this.lineSides=new f.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new f.default.DataArray,this.detailX=void 0!==m?m:1,this.detailY=void 0!==p?p:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,y instanceof Function&&y.call(this)}var u,c;return u=d,(c=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var m=new f.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),p=new f.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),y=0;y<this.vertices.length;y++){var O=this.vertices[y];m.x=Math.min(m.x,O.x),m.y=Math.min(m.y,O.y),m.z=Math.min(m.z,O.z),p.x=Math.max(p.x,O.x),p.y=Math.max(p.y,O.y),p.z=Math.max(p.z,O.z)}var $=new f.default.Vector(p.x-m.x,p.y-m.y,p.z-m.z),N=new f.default.Vector((m.x+p.x)/2,(m.y+p.y)/2,(m.z+p.z)/2);this.boundingBoxCache={min:m,max:p,size:$,offset:N}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(void 0===this._hasFillTransparency){this._hasFillTransparency=!1;for(var m=0;m<this.vertexColors.length;m+=4)if(this.vertexColors[m+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(void 0===this._hasStrokeTransparency){this._hasStrokeTransparency=!1;for(var m=0;m<this.lineVertexColors.length;m+=4)if(this.lineVertexColors[m+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(m,p){return p%2==0?1-m:m})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(m,p){return p%2==0?m:1-m})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var m,p,y,O=this.detailX+1,$=0;$<this.detailY;$++)for(var N=0;N<this.detailX;N++)p=($+1)*O+N+1,this.faces.push([$*O+N,m=$*O+N+1,y=($+1)*O+N]),this.faces.push([y,m,p]);return this}},{key:"_getFaceNormal",value:function(p){var y=this.vertices[(p=this.faces[p])[0]],$=this.vertices[p[1]],O=(p=this.vertices[p[2]],$=f.default.Vector.sub($,y),p=f.default.Vector.sub(p,y),y=f.default.Vector.cross($,p),f.default.Vector.mag(y));return 0==($=O/(f.default.Vector.mag($)*f.default.Vector.mag(p)))||isNaN($)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),y):(1<$&&($=1),y.mult(Math.asin($)/O))}},{key:"computeNormals",value:function(){var m,p=this,O=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).roundToPrecision,$=this.vertexNormals,N=this.vertices,P=this.faces;if((0<arguments.length&&void 0!==arguments[0]?arguments[0]:h.FLAT)===h.SMOOTH){for(var j={},V=[],k=Math.pow(10,void 0===O?3:O),E=function(te){return Math.round(te*k)/k},T=function(te){return"".concat(E(te.x),",").concat(E(te.y),",").concat(E(te.z))},H=0;H<N.length;H++){var X=N[H],z=T(X);void 0===j[z]&&(j[z]=V.length,V.push(X))}P.forEach(function(te){for(var J=0;J<3;++J){var q=T(q=N[q=te[J]]);te[J]=j[q]}}),this.edges.forEach(function(te){for(var J=0;J<2;++J){var q=T(q=N[q=te[J]]);te[J]=j[q]}}),this.vertices=N=V}for(m=$.length=0;m<N.length;++m)$.push(new f.default.Vector);for(P.forEach(function(te,J){for(var q=p._getFaceNormal(J),ne=0;ne<3;++ne)$[te[ne]].add(q)}),m=0;m<N.length;++m)$[m].normalize();return this}},{key:"averageNormals",value:function(){for(var m=0;m<=this.detailY;m++){var p=this.detailX+1,y=f.default.Vector.add(this.vertexNormals[m*p],this.vertexNormals[m*p+this.detailX]);y=f.default.Vector.div(y,2),this.vertexNormals[m*p]=y,this.vertexNormals[m*p+this.detailX]=y}return this}},{key:"averagePoleNormals",value:function(){for(var m=new f.default.Vector(0,0,0),p=0;p<this.detailX;p++)m.add(this.vertexNormals[p]);m=f.default.Vector.div(m,this.detailX);for(var y=0;y<this.detailX;y++)this.vertexNormals[y]=m;m=new f.default.Vector(0,0,0);for(var O=this.vertices.length-1;O>this.vertices.length-1-this.detailX;O--)m.add(this.vertexNormals[O]);m=f.default.Vector.div(m,this.detailX);for(var $=this.vertices.length-1;$>this.vertices.length-1-this.detailX;$--)this.vertexNormals[$]=m;return this}},{key:"_makeTriangleEdges",value:function(){for(var m=this.edges.length=0;m<this.faces.length;m++)this.edges.push([this.faces[m][0],this.faces[m][1]]),this.edges.push([this.faces[m][1],this.faces[m][2]]),this.edges.push([this.faces[m][2],this.faces[m][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var m,p=new Map,y=new Set,O=0;O<this.edges.length;O++){var $,N=this.edges[O-1],P=this.edges[O],j=this.vertices[P[0]],V=this.vertices[P[1]],k=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*P[0],4*(P[0]+1)):[0,0,0,0],E=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*P[1],4*(P[1]+1)):[0,0,0,0],T=V.copy().sub(j).normalize(),H=0<T.magSq();H&&this._addSegment(j,V,k,E,T),0<O&&N[1]===P[0]?y.has(P[0])||(y.add(P[0]),p.delete(P[0]),m&&H&&T.dot(m)<1-1e-8&&this._addJoin(j,m,T,k)):(H&&!y.has(P[0])&&(($=p.get(P[0]))?(this._addJoin(j,$.dir,T,k),p.delete(P[0]),y.add(P[0])):p.set(P[0],{point:j,dir:T.copy().mult(-1),color:k})),m&&!y.has(N[1])&&(($=p.get(N[1]))?(this._addJoin(this.vertices[N[1]],m,$.dir.copy().mult(-1),k),p.delete(N[1]),y.add(N[1])):p.set(N[1],{point:this.vertices[N[1]],dir:m,color:k}),m=void 0)),O!==this.edges.length-1||y.has(P[1])||((j=p.get(P[1]))?(this._addJoin(V,T,j.dir.copy().mult(-1),E),p.delete(P[1]),y.add(P[1])):p.set(P[1],{point:V,dir:T,color:E})),H&&(m=T)}var X=!0,z=!1,te=void 0;try{for(var J,q=p.values()[Symbol.iterator]();!(X=(J=q.next()).done);X=!0){var ne=J.value;this._addCap(ne.point,ne.dir,ne.color)}}catch(R){z=!0,te=R}finally{try{X||null==q.return||q.return()}finally{if(z)throw te}}return this}},{key:"_addSegment",value:function(N,P,y,O,$){N=N.array(),P=P.array();var j=$.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var V=0,k=[this.lineTangentsIn,this.lineTangentsOut];V<k.length;V++)for(var E=k[V],T=0;T<6;T++)E.push.apply(E,w(j));return($=this.lineVertices).push.apply($,w(N).concat(w(P),w(N),w(P),w(P),w(N))),($=this.lineVertexColors).push.apply($,w(y).concat(w(O),w(y),w(O),w(O),w(y))),this}},{key:"_addCap",value:function(m,p,y){for(var O,$=m.array(),N=p.array(),P=[0,0,0],j=0;j<6;j++)(O=this.lineVertices).push.apply(O,w($)),(O=this.lineTangentsIn).push.apply(O,w(N)),(O=this.lineTangentsOut).push.apply(O,P),(O=this.lineVertexColors).push.apply(O,w(y));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(m,p,y,O){for(var $,N=m.array(),P=p.array(),j=y.array(),V=0;V<12;V++)($=this.lineVertices).push.apply($,w(N)),($=this.lineTangentsIn).push.apply($,w(P)),($=this.lineTangentsOut).push.apply($,w(j)),($=this.lineVertexColors).push.apply($,w(O));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var m=this.vertices[0].copy(),p=this.vertices[0].copy(),y=0;y<this.vertices.length;y++)m.x=Math.max(m.x,this.vertices[y].x),p.x=Math.min(p.x,this.vertices[y].x),m.y=Math.max(m.y,this.vertices[y].y),p.y=Math.min(p.y,this.vertices[y].y),m.z=Math.max(m.z,this.vertices[y].z),p.z=Math.min(p.z,this.vertices[y].z);for(var O=f.default.Vector.lerp(m,p,.5),$=f.default.Vector.sub(m,p),N=200/Math.max(Math.max($.x,$.y),$.z),P=0;P<this.vertices.length;P++)this.vertices[P].sub(O),this.vertices[P].mult(N)}return this}}])&&a(u.prototype,c),d}();var l=f.default.Geometry;S.default=l},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.flat":159,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.unscopables.flat":172,"core-js/modules/es.map":174,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],333:[function(x,W,S){"use strict";x("core-js/modules/es.array.iterator"),x("core-js/modules/es.object.to-string"),x("core-js/modules/es.typed-array.float32-array"),x("core-js/modules/es.typed-array.copy-within"),x("core-js/modules/es.typed-array.every"),x("core-js/modules/es.typed-array.fill"),x("core-js/modules/es.typed-array.filter"),x("core-js/modules/es.typed-array.find"),x("core-js/modules/es.typed-array.find-index"),x("core-js/modules/es.typed-array.for-each"),x("core-js/modules/es.typed-array.includes"),x("core-js/modules/es.typed-array.index-of"),x("core-js/modules/es.typed-array.iterator"),x("core-js/modules/es.typed-array.join"),x("core-js/modules/es.typed-array.last-index-of"),x("core-js/modules/es.typed-array.map"),x("core-js/modules/es.typed-array.reduce"),x("core-js/modules/es.typed-array.reduce-right"),x("core-js/modules/es.typed-array.reverse"),x("core-js/modules/es.typed-array.set"),x("core-js/modules/es.typed-array.slice"),x("core-js/modules/es.typed-array.some"),x("core-js/modules/es.typed-array.sort"),x("core-js/modules/es.typed-array.subarray"),x("core-js/modules/es.typed-array.to-locale-string"),x("core-js/modules/es.typed-array.to-string"),x("core-js/modules/es.array.iterator"),x("core-js/modules/es.object.to-string"),x("core-js/modules/es.typed-array.float32-array"),x("core-js/modules/es.typed-array.copy-within"),x("core-js/modules/es.typed-array.every"),x("core-js/modules/es.typed-array.fill"),x("core-js/modules/es.typed-array.filter"),x("core-js/modules/es.typed-array.find"),x("core-js/modules/es.typed-array.find-index"),x("core-js/modules/es.typed-array.for-each"),x("core-js/modules/es.typed-array.includes"),x("core-js/modules/es.typed-array.index-of"),x("core-js/modules/es.typed-array.iterator"),x("core-js/modules/es.typed-array.join"),x("core-js/modules/es.typed-array.last-index-of"),x("core-js/modules/es.typed-array.map"),x("core-js/modules/es.typed-array.reduce"),x("core-js/modules/es.typed-array.reduce-right"),x("core-js/modules/es.typed-array.reverse"),x("core-js/modules/es.typed-array.set"),x("core-js/modules/es.typed-array.slice"),x("core-js/modules/es.typed-array.some"),x("core-js/modules/es.typed-array.sort"),x("core-js/modules/es.typed-array.subarray"),x("core-js/modules/es.typed-array.to-locale-string"),x("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(x=x("../core/main"))&&x.__esModule?x:{default:x};function _(w,a){for(var l=0;l<a.length;l++){var d=a[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(w,d.key,d)}}var f=Array,h=function(w){return Array.isArray(w)};typeof Float32Array<"u"&&(f=Float32Array,h=function(w){return Array.isArray(w)||w instanceof Float32Array}),v.default.Matrix=function(){function w(){var u=this,c=w;if(u instanceof c)return arguments.length&&((u=arguments.length-1)<0||arguments.length<=u?void 0:arguments[u])instanceof v.default&&(this.p5=(c=arguments.length-1)<0||arguments.length<=c?void 0:arguments[c]),"mat3"===(arguments.length<=0?void 0:arguments[0])?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new f([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new f([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var a,l,d;return a=w,d=[{key:"identity",value:function(u){return new v.default.Matrix(u)}}],(l=[{key:"set",value:function(u){var c=arguments;if(u instanceof v.default.Matrix?c=u.mat4:h(u)&&(c=u),16!==c.length)v.default._friendlyError("Expected 16 values but received ".concat(c.length,"."),"p5.Matrix.set");else for(var s=0;s<16;s++)this.mat4[s]=c[s];return this}},{key:"get",value:function(){return new v.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var u;return void 0!==this.mat3?((u=new v.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],u.mat3[1]=this.mat3[1],u.mat3[2]=this.mat3[2],u.mat3[3]=this.mat3[3],u.mat3[4]=this.mat3[4],u.mat3[5]=this.mat3[5],u.mat3[6]=this.mat3[6],u.mat3[7]=this.mat3[7],u.mat3[8]=this.mat3[8]):((u=new v.default.Matrix(this.p5)).mat4[0]=this.mat4[0],u.mat4[1]=this.mat4[1],u.mat4[2]=this.mat4[2],u.mat4[3]=this.mat4[3],u.mat4[4]=this.mat4[4],u.mat4[5]=this.mat4[5],u.mat4[6]=this.mat4[6],u.mat4[7]=this.mat4[7],u.mat4[8]=this.mat4[8],u.mat4[9]=this.mat4[9],u.mat4[10]=this.mat4[10],u.mat4[11]=this.mat4[11],u.mat4[12]=this.mat4[12],u.mat4[13]=this.mat4[13],u.mat4[14]=this.mat4[14],u.mat4[15]=this.mat4[15]),u}},{key:"transpose",value:function(u){var c,s,m,p,y,O;return u instanceof v.default.Matrix?(c=u.mat4[1],s=u.mat4[2],m=u.mat4[3],p=u.mat4[6],y=u.mat4[7],O=u.mat4[11],this.mat4[0]=u.mat4[0],this.mat4[1]=u.mat4[4],this.mat4[2]=u.mat4[8],this.mat4[3]=u.mat4[12],this.mat4[4]=c,this.mat4[5]=u.mat4[5],this.mat4[6]=u.mat4[9],this.mat4[7]=u.mat4[13],this.mat4[8]=s,this.mat4[9]=p,this.mat4[10]=u.mat4[10],this.mat4[11]=u.mat4[14],this.mat4[12]=m,this.mat4[13]=y,this.mat4[14]=O,this.mat4[15]=u.mat4[15]):h(u)&&(c=u[1],s=u[2],m=u[3],p=u[6],y=u[7],O=u[11],this.mat4[0]=u[0],this.mat4[1]=u[4],this.mat4[2]=u[8],this.mat4[3]=u[12],this.mat4[4]=c,this.mat4[5]=u[5],this.mat4[6]=u[9],this.mat4[7]=u[13],this.mat4[8]=s,this.mat4[9]=p,this.mat4[10]=u[10],this.mat4[11]=u[14],this.mat4[12]=m,this.mat4[13]=y,this.mat4[14]=O,this.mat4[15]=u[15]),this}},{key:"invert",value:function(z){z instanceof v.default.Matrix?(c=z.mat4[0],s=z.mat4[1],m=z.mat4[2],p=z.mat4[3],y=z.mat4[4],O=z.mat4[5],$=z.mat4[6],N=z.mat4[7],P=z.mat4[8],j=z.mat4[9],V=z.mat4[10],k=z.mat4[11],E=z.mat4[12],T=z.mat4[13],H=z.mat4[14],X=z.mat4[15]):h(z)&&(c=z[0],s=z[1],m=z[2],p=z[3],y=z[4],O=z[5],$=z[6],N=z[7],P=z[8],j=z[9],V=z[10],k=z[11],E=z[12],T=z[13],H=z[14],X=z[15]);var c,s,m,p,y,O,$,N,P,j,V,k,E,T,H,X,te=c*$-m*y,J=c*N-p*y,q=s*$-m*O,ne=s*N-p*O,de=m*N-p*$,De=P*T-j*E,Y=P*H-V*E,R=P*X-k*E,se=j*H-V*T,pe=j*X-k*T,Ee=V*X-k*H,Ne=(z=c*O-s*y)*Ee-te*pe+J*se+q*R-ne*Y+de*De;return Ne?(this.mat4[0]=(O*Ee-$*pe+N*se)*(Ne=1/Ne),this.mat4[1]=(m*pe-s*Ee-p*se)*Ne,this.mat4[2]=(T*de-H*ne+X*q)*Ne,this.mat4[3]=(V*ne-j*de-k*q)*Ne,this.mat4[4]=($*R-y*Ee-N*Y)*Ne,this.mat4[5]=(c*Ee-m*R+p*Y)*Ne,this.mat4[6]=(H*J-E*de-X*te)*Ne,this.mat4[7]=(P*de-V*J+k*te)*Ne,this.mat4[8]=(y*pe-O*R+N*De)*Ne,this.mat4[9]=(s*R-c*pe-p*De)*Ne,this.mat4[10]=(E*ne-T*J+X*z)*Ne,this.mat4[11]=(j*J-P*ne-k*z)*Ne,this.mat4[12]=(O*Y-y*se-$*De)*Ne,this.mat4[13]=(c*se-s*Y+m*De)*Ne,this.mat4[14]=(T*te-E*q-H*z)*Ne,this.mat4[15]=(P*q-j*te+V*z)*Ne,this):null}},{key:"invert3x3",value:function(){var u=this.mat3[0],c=this.mat3[1],s=this.mat3[2],m=this.mat3[3],p=this.mat3[4],y=this.mat3[5],O=this.mat3[6],$=this.mat3[7],N=this.mat3[8],P=N*p-y*$,j=-N*m+y*O,V=$*m-p*O,k=u*P+c*j+s*V;return k?(this.mat3[0]=P*(k=1/k),this.mat3[1]=(-N*c+s*$)*k,this.mat3[2]=(y*c-s*p)*k,this.mat3[3]=j*k,this.mat3[4]=(N*u-s*O)*k,this.mat3[5]=(-y*u+s*m)*k,this.mat3[6]=V*k,this.mat3[7]=(-$*u+c*O)*k,this.mat3[8]=(p*u-c*m)*k,this):null}},{key:"transpose3x3",value:function(u){var c=(u=void 0===u?this.mat3:u)[1],s=u[2],m=u[5];return this.mat3[0]=u[0],this.mat3[1]=u[3],this.mat3[2]=u[6],this.mat3[3]=c,this.mat3[4]=u[4],this.mat3[5]=u[7],this.mat3[6]=s,this.mat3[7]=m,this.mat3[8]=u[8],this}},{key:"inverseTranspose",value:function(u){if(u=u.mat4,void 0===this.mat3?v.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=u[0],this.mat3[1]=u[1],this.mat3[2]=u[2],this.mat3[3]=u[4],this.mat3[4]=u[5],this.mat3[5]=u[6],this.mat3[6]=u[8],this.mat3[7]=u[9],this.mat3[8]=u[10]),u=this.invert3x3())u.transpose3x3(this.mat3);else for(var c=0;c<9;c++)this.mat3[c]=0;return this}},{key:"determinant",value:function(){return(this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])}},{key:"mult",value:function(s){var c;if(s===this||s===this.mat4)c=this.copy().mat4;else if(s instanceof v.default.Matrix)c=s.mat4;else if(h(s))c=s;else{if(16!==arguments.length)return;c=arguments}var m=this.mat4[1],p=this.mat4[2],y=this.mat4[3];return this.mat4[0]=(s=this.mat4[0])*c[0]+m*c[4]+p*c[8]+y*c[12],this.mat4[1]=s*c[1]+m*c[5]+p*c[9]+y*c[13],this.mat4[2]=s*c[2]+m*c[6]+p*c[10]+y*c[14],this.mat4[3]=s*c[3]+m*c[7]+p*c[11]+y*c[15],this.mat4[4]=(s=this.mat4[4])*c[0]+(m=this.mat4[5])*c[4]+(p=this.mat4[6])*c[8]+(y=this.mat4[7])*c[12],this.mat4[5]=s*c[1]+m*c[5]+p*c[9]+y*c[13],this.mat4[6]=s*c[2]+m*c[6]+p*c[10]+y*c[14],this.mat4[7]=s*c[3]+m*c[7]+p*c[11]+y*c[15],this.mat4[8]=(s=this.mat4[8])*c[0]+(m=this.mat4[9])*c[4]+(p=this.mat4[10])*c[8]+(y=this.mat4[11])*c[12],this.mat4[9]=s*c[1]+m*c[5]+p*c[9]+y*c[13],this.mat4[10]=s*c[2]+m*c[6]+p*c[10]+y*c[14],this.mat4[11]=s*c[3]+m*c[7]+p*c[11]+y*c[15],this.mat4[12]=(s=this.mat4[12])*c[0]+(m=this.mat4[13])*c[4]+(p=this.mat4[14])*c[8]+(y=this.mat4[15])*c[12],this.mat4[13]=s*c[1]+m*c[5]+p*c[9]+y*c[13],this.mat4[14]=s*c[2]+m*c[6]+p*c[10]+y*c[14],this.mat4[15]=s*c[3]+m*c[7]+p*c[11]+y*c[15],this}},{key:"apply",value:function(s){var c;if(s===this||s===this.mat4)c=this.copy().mat4;else if(s instanceof v.default.Matrix)c=s.mat4;else if(h(s))c=s;else{if(16!==arguments.length)return;c=arguments}var p,y,O,m=((s=this.mat4)[0]=c[0]*(m=s[0])+c[1]*(p=s[4])+c[2]*(y=s[8])+c[3]*(O=s[12]),s[4]=c[4]*m+c[5]*p+c[6]*y+c[7]*O,s[8]=c[8]*m+c[9]*p+c[10]*y+c[11]*O,s[12]=c[12]*m+c[13]*p+c[14]*y+c[15]*O,s[1]);return s[1]=c[0]*m+c[1]*(p=s[5])+c[2]*(y=s[9])+c[3]*(O=s[13]),s[5]=c[4]*m+c[5]*p+c[6]*y+c[7]*O,s[9]=c[8]*m+c[9]*p+c[10]*y+c[11]*O,s[13]=c[12]*m+c[13]*p+c[14]*y+c[15]*O,s[2]=c[0]*(m=s[2])+c[1]*(p=s[6])+c[2]*(y=s[10])+c[3]*(O=s[14]),s[6]=c[4]*m+c[5]*p+c[6]*y+c[7]*O,s[10]=c[8]*m+c[9]*p+c[10]*y+c[11]*O,s[14]=c[12]*m+c[13]*p+c[14]*y+c[15]*O,s[3]=c[0]*(m=s[3])+c[1]*(p=s[7])+c[2]*(y=s[11])+c[3]*(O=s[15]),s[7]=c[4]*m+c[5]*p+c[6]*y+c[7]*O,s[11]=c[8]*m+c[9]*p+c[10]*y+c[11]*O,s[15]=c[12]*m+c[13]*p+c[14]*y+c[15]*O,this}},{key:"scale",value:function(u,c,s){return u instanceof v.default.Vector?(c=u.y,s=u.z,u=u.x):u instanceof Array&&(c=u[1],s=u[2],u=u[0]),this.mat4[0]*=u,this.mat4[1]*=u,this.mat4[2]*=u,this.mat4[3]*=u,this.mat4[4]*=c,this.mat4[5]*=c,this.mat4[6]*=c,this.mat4[7]*=c,this.mat4[8]*=s,this.mat4[9]*=s,this.mat4[10]*=s,this.mat4[11]*=s,this}},{key:"rotate",value:function(z,pe,se,m){pe instanceof v.default.Vector?(se=pe.y,m=pe.z,pe=pe.x):pe instanceof Array&&(se=pe[1],m=pe[2],pe=pe[0]);var p=(pe*=1/(p=Math.sqrt(pe*pe+se*se+m*m)),se*=1/p,m*=1/p,this.mat4[0]),y=this.mat4[1],O=this.mat4[2],$=this.mat4[3],N=this.mat4[4],P=this.mat4[5],j=this.mat4[6],V=this.mat4[7],k=this.mat4[8],E=this.mat4[9],T=this.mat4[10],H=this.mat4[11],X=Math.sin(z),te=1-(z=Math.cos(z)),J=pe*pe*te+z,q=se*pe*te+m*X,ne=m*pe*te-se*X,de=pe*se*te-m*X,De=se*se*te+z,Y=m*se*te+pe*X,R=pe*m*te+se*X;return se=se*m*te-pe*X,pe=m*m*te+z,this.mat4[0]=p*J+N*q+k*ne,this.mat4[1]=y*J+P*q+E*ne,this.mat4[2]=O*J+j*q+T*ne,this.mat4[3]=$*J+V*q+H*ne,this.mat4[4]=p*de+N*De+k*Y,this.mat4[5]=y*de+P*De+E*Y,this.mat4[6]=O*de+j*De+T*Y,this.mat4[7]=$*de+V*De+H*Y,this.mat4[8]=p*R+N*se+k*pe,this.mat4[9]=y*R+P*se+E*pe,this.mat4[10]=O*R+j*se+T*pe,this.mat4[11]=$*R+V*se+H*pe,this}},{key:"translate",value:function(m){var c=m[0],s=m[1];this.mat4[12]+=this.mat4[0]*c+this.mat4[4]*s+this.mat4[8]*(m=m[2]||0),this.mat4[13]+=this.mat4[1]*c+this.mat4[5]*s+this.mat4[9]*m,this.mat4[14]+=this.mat4[2]*c+this.mat4[6]*s+this.mat4[10]*m,this.mat4[15]+=this.mat4[3]*c+this.mat4[7]*s+this.mat4[11]*m}},{key:"rotateX",value:function(u){this.rotate(u,1,0,0)}},{key:"rotateY",value:function(u){this.rotate(u,0,1,0)}},{key:"rotateZ",value:function(u){this.rotate(u,0,0,1)}},{key:"perspective",value:function(p,c,s,m){p=1/Math.tan(p/2);var y=1/(s-m);return this.mat4[0]=p/c,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=p,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(m+s)*y,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*m*s*y,this.mat4[15]=0,this}},{key:"ortho",value:function(u,c,s,m,p,y){var O=1/(u-c),$=1/(s-m),N=1/(p-y);return this.mat4[0]=-2*O,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*$,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*N,this.mat4[11]=0,this.mat4[12]=(u+c)*O,this.mat4[13]=(m+s)*$,this.mat4[14]=(y+p)*N,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(u,c,s,m){var p=new Array(4),y=this.mat4;return p[0]=y[0]*u+y[4]*c+y[8]*s+y[12]*m,p[1]=y[1]*u+y[5]*c+y[9]*s+y[13]*m,p[2]=y[2]*u+y[6]*c+y[10]*s+y[14]*m,p[3]=y[3]*u+y[7]*c+y[11]*s+y[15]*m,p}},{key:"multiplyPoint",value:function(s){var m=this.multiplyVec4(m=s.x,s.y,s=s.z,1);return new v.default.Vector(m[0],m[1],m[2])}},{key:"multiplyAndNormalizePoint",value:function(s){var m;return(m=this.multiplyVec4(m=s.x,s.y,s=s.z,1))[0]/=m[3],m[1]/=m[3],m[2]/=m[3],new v.default.Vector(m[0],m[1],m[2])}},{key:"multiplyDirection",value:function(s){var m=this.multiplyVec4(m=s.x,s.y,s=s.z,0);return new v.default.Vector(m[0],m[1],m[2])}},{key:"mult3x3",value:function(s){var c;if(s===this||s===this.mat3)c=this.copy().mat3;else if(s instanceof v.default.Matrix)c=s.mat3;else if(h(s))c=s;else{if(9!==arguments.length)return;c=arguments}var m=this.mat3[1],p=this.mat3[2];return this.mat3[0]=(s=this.mat3[0])*c[0]+m*c[3]+p*c[6],this.mat3[1]=s*c[1]+m*c[4]+p*c[7],this.mat3[2]=s*c[2]+m*c[5]+p*c[8],this.mat3[3]=(s=this.mat3[3])*c[0]+(m=this.mat3[4])*c[3]+(p=this.mat3[5])*c[6],this.mat3[4]=s*c[1]+m*c[4]+p*c[7],this.mat3[5]=s*c[2]+m*c[5]+p*c[8],this.mat3[6]=(s=this.mat3[6])*c[0]+(m=this.mat3[7])*c[3]+(p=this.mat3[8])*c[6],this.mat3[7]=s*c[1]+m*c[4]+p*c[7],this.mat3[8]=s*c[2]+m*c[5]+p*c[8],this}},{key:"column",value:function(u){return new v.default.Vector(this.mat3[3*u],this.mat3[3*u+1],this.mat3[3*u+2])}},{key:"row",value:function(u){return new v.default.Vector(this.mat3[u],this.mat3[u+3],this.mat3[u+6])}},{key:"diagonal",value:function(){return void 0!==this.mat3?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(u,c){return(c=void 0===c?u.copy():c).x=this.row(0).dot(u),c.y=this.row(1).dot(u),c.z=this.row(2).dot(u),c}},{key:"createSubMatrix3x3",value:function(){var u=new v.default.Matrix("mat3");return u.mat3[0]=this.mat4[0],u.mat3[1]=this.mat4[1],u.mat3[2]=this.mat4[2],u.mat3[3]=this.mat4[4],u.mat3[4]=this.mat4[5],u.mat3[5]=this.mat4[6],u.mat3[6]=this.mat4[8],u.mat3[7]=this.mat4[9],u.mat3[8]=this.mat4[10],u}}])&&_(a.prototype,l),d&&_(a,d),w}(),S.default=x=v.default.Matrix},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236}],334:[function(r,W,S){"use strict";function v(_,f){for(var h=0;h<f.length;h++){var x=f[h];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(_,x.key,x)}}r("core-js/modules/es.array.map"),r("core-js/modules/es.array.map"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,(r=(r=r("../core/main"))&&r.__esModule?r:{default:r}).default.RenderBuffer=function(){function _(w,a,l,d,u,c){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");this.size=w,this.src=a,this.dst=l,this.attr=d,this._renderer=u,this.map=c}var f,h;return f=_,(h=[{key:"_prepareBuffer",value:function(w,a){var l,d,u,m,c=this._renderer.GL,s=w.model||w;(m=(m=a.attributes)[this.attr])&&(l=w[this.dst],0<(d=s[this.src]).length?((u=!l)&&(w[this.dst]=l=c.createBuffer()),c.bindBuffer(c.ARRAY_BUFFER,l),!u&&!1===s.dirtyFlags[this.src]||(u=(w=this.map)?w(d):d,this._renderer._bindBuffer(l,c.ARRAY_BUFFER,u),s.dirtyFlags[this.src]=!1),a.enableAttrib(m,this.size)):-1!==(w=m.location)&&this._renderer.registerEnabled.has(w)&&(c.disableVertexAttribArray(w),this._renderer.registerEnabled.delete(w)))}}])&&v(f.prototype,h),_}(),S.default=r=r.default.RenderBuffer},{"../core/main":280,"core-js/modules/es.array.map":167}],335:[function(r,W,S){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function _(d){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(d)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.find-index"),r("core-js/modules/es.array.from"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.map"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.concat"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.find-index"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.map"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.map"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(l=r("../core/main"))&&l.__esModule?l:{default:l},h=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==_(d)&&"function"!=typeof d)return{default:d};var u=x();if(u&&u.has(d))return u.get(d);var c,s={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in d){var p;Object.prototype.hasOwnProperty.call(d,c)&&((p=m?Object.getOwnPropertyDescriptor(d,c):null)&&(p.get||p.set)?Object.defineProperty(s,c,p):s[c]=d[c])}return s.default=d,u&&u.set(d,s),s}(r("../core/constants"));function x(){var d;return"function"!=typeof WeakMap?null:(x=function(){return d},d=new WeakMap)}function w(d){return function(u){if(Array.isArray(u)){for(var c=0,s=new Array(u.length);c<u.length;c++)s[c]=u[c];return s}}(d)||function(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r("./p5.RenderBuffer"),f.default.RendererGL.prototype.beginShape=function(d){return this.immediateMode.shapeMode=void 0!==d?d:h.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var a={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},l=(f.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==h.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},f.default.RendererGL.prototype.vertex=function(d,u){if(this.immediateMode.shapeMode===h.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var c in a){var s=a[c];(c=this.immediateMode.geometry[c]).push.apply(c,w(c.slice(c.length-3*s,c.length-2*s)).concat(w(c.slice(c.length-s,c.length))))}var m,p,y=m=p=0,O=(3===arguments.length?y=arguments[2]:4===arguments.length?(m=arguments[2],p=arguments[3]):5===arguments.length&&(y=arguments[2],m=arguments[3],p=arguments[4]),new f.default.Vector(d,u,y));return this.immediateMode.geometry.vertices.push(O),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.immediateMode.geometry.vertexColors.push((O=this.curFillColor||[.5,.5,.5,1])[0],O[1],O[2],O[3]),this.immediateMode.geometry.vertexStrokeColors.push((O=this.curStrokeColor||[.5,.5,.5,1])[0],O[1],O[2],O[3]),this.textureMode!==h.IMAGE||this.isProcessingVertices||(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(m/=this._tex.width,p/=this._tex.height):void 0===this.userFillShader&&void 0===this.userStrokeShader&&void 0===this.userPointShader&&null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(m,p),this.immediateMode._bezierVertex[0]=d,this.immediateMode._bezierVertex[1]=u,this.immediateMode._bezierVertex[2]=y,this.immediateMode._quadraticVertex[0]=d,this.immediateMode._quadraticVertex[1]=u,this.immediateMode._quadraticVertex[2]=y,this},f.default.RendererGL.prototype.normal=function(d,u,c){return this._currentNormal=d instanceof f.default.Vector?d:new f.default.Vector(d,u,c),this},f.default.RendererGL.prototype.endShape=function(d,u,c,s,m,p){var y,O=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1;return this.immediateMode.shapeMode===h.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),y=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==h.LINE_STRIP&&this.immediateMode.shapeMode!==h.LINES||(this.immediateMode.shapeMode=h.TRIANGLE_FAN,y=!0),this.immediateMode.shapeMode===h.QUADS?this.immediateMode.shapeMode=h.TRIANGLES:this.immediateMode.shapeMode===h.QUAD_STRIP&&(this.immediateMode.shapeMode=h.TRIANGLE_STRIP),this._doFill&&!y&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(O),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},f.default.RendererGL.prototype._processVertices=function(d){var u;0!==this.immediateMode.geometry.vertices.length&&(d=d===h.CLOSE,this._doStroke&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,d),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),u=this.immediateMode.shapeMode===h.TESS,d=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||u||d)&&this.immediateMode.shapeMode!==h.LINES&&this._tesselateShape())},f.default.RendererGL.prototype._calculateEdges=function(d,u,c){var s=[],m=0,p=this.immediateMode.contourIndices.slice(),y=0;switch(d){case h.TRIANGLE_STRIP:for(m=0;m<u.length-2;m++)s.push([m,m+1]),s.push([m,m+2]);s.push([m,m+1]);break;case h.TRIANGLE_FAN:for(m=1;m<u.length-1;m++)s.push([0,m]),s.push([m,m+1]);s.push([0,u.length-1]);break;case h.TRIANGLES:for(m=0;m<u.length-2;m+=3)s.push([m,m+1]),s.push([m+1,m+2]),s.push([m+2,m]);break;case h.LINES:for(m=0;m<u.length-1;m+=2)s.push([m,m+1]);break;case h.QUADS:for(m=0;m<u.length-5;m+=6)s.push([m,m+1]),s.push([m+1,m+2]),s.push([m+3,m+5]),s.push([m+4,m+5]);break;case h.QUAD_STRIP:for(m=0;m<u.length-2;m+=2)s.push([m,m+1]),s.push([m,m+2]),s.push([m+1,m+3]);s.push([m,m+1]);break;default:for(m=0;m<u.length;m++)m+1<u.length&&m+1!==p[0]?s.push([m,m+1]):((c||y)&&s.push([m,y]),0<p.length&&(y=p.shift()))}return d!==h.TESS&&c&&s.push([u.length-1,0]),s},f.default.RendererGL.prototype._tesselateShape=function(){for(var d=this,u=(this.immediateMode.shapeMode=h.TRIANGLES,[[]]),c=0;c<this.immediateMode.geometry.vertices.length;c++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===c&&(this.immediateMode.contourIndices.shift(),u.push([])),u[u.length-1].push(this.immediateMode.geometry.vertices[c].x,this.immediateMode.geometry.vertices[c].y,this.immediateMode.geometry.vertices[c].z,this.immediateMode.geometry.uvs[2*c],this.immediateMode.geometry.uvs[2*c+1],this.immediateMode.geometry.vertexColors[4*c],this.immediateMode.geometry.vertexColors[4*c+1],this.immediateMode.geometry.vertexColors[4*c+2],this.immediateMode.geometry.vertexColors[4*c+3],this.immediateMode.geometry.vertexNormals[c].x,this.immediateMode.geometry.vertexNormals[c].y,this.immediateMode.geometry.vertexNormals[c].z);for(var s,m=this._triangulate(u),p=this.immediateMode.geometry.vertices,y=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),O=0,$=m.length;O<$;O+=f.default.RendererGL.prototype.tessyVertexSize)y.push.apply(y,w(m.slice(O+5,O+9))),this.normal.apply(this,w(m.slice(O+9,O+12))),this.vertex.apply(this,w(m.slice(O,O+5)));this.geometryBuilder&&(s=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(N){return N.map(function(P){if(!s.has(P)){var j=p[P],V=d.immediateMode.geometry.vertices.findIndex(function(te){return j.x===te.x&&j.y===te.y&&j.z===te.z});if(-1===V){for(var k=1/0,E=0,T=0;T<d.immediateMode.geometry.vertices.length;T++){var X,z,H=j.y-(X=d.immediateMode.geometry.vertices[T]).y;(z=(z=j.x-X.x)*z+H*H+(X=j.z-X.z)*X)<k&&(k=z,E=T)}V=E}s.set(P,V)}return s.get(P)})})),this.immediateMode.geometry.vertexColors=y},f.default.RendererGL.prototype._drawImmediateFill=function(){var d,u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,c=this.GL,s=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,d=this._getImmediateFillShader(),this._setFillUniforms(d),!0),m=!1,p=void 0;try{for(var y,O=this.immediateMode.buffers.fill[Symbol.iterator]();!(s=(y=O.next()).done);s=!0)y.value._prepareBuffer(this.immediateMode.geometry,d)}catch($){m=!0,p=$}finally{try{s||null==O.return||O.return()}finally{if(m)throw p}}if(d.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),1===u)c.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{c.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,u)}catch{console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode")}d.unbindShader()},f.default.RendererGL.prototype._drawImmediateStroke=function(){var d=this.GL,u=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),c=(this._setStrokeUniforms(u),!0),s=!1,m=void 0;try{for(var p,y=this.immediateMode.buffers.stroke[Symbol.iterator]();!(c=(p=y.next()).done);c=!0)p.value._prepareBuffer(this.immediateMode.geometry,u)}catch(O){s=!0,m=O}finally{try{c||null==y.return||y.return()}finally{if(s)throw m}}u.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),d.drawArrays(d.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),u.unbindShader()},f.default.RendererGL);S.default=l},{"../core/constants":269,"../core/main":280,"./p5.RenderBuffer":334,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.find-index":157,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.map":174,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],336:[function(r,W,S){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function _(a){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(a)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.some"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.uint16-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.fill"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.some"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.float32-array"),r("core-js/modules/es.typed-array.uint16-array"),r("core-js/modules/es.typed-array.uint32-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var f=(w=r("../core/main"))&&w.__esModule?w:{default:w},h=(r("./p5.RendererGL"),r("./p5.RenderBuffer"),function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==_(a)&&"function"!=typeof a)return{default:a};var l=x();if(l&&l.has(a))return l.get(a);var d,u={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var s;Object.prototype.hasOwnProperty.call(a,d)&&((s=c?Object.getOwnPropertyDescriptor(a,d):null)&&(s.get||s.set)?Object.defineProperty(u,d,s):u[d]=a[d])}return u.default=a,l&&l.set(a,u),u}(r("../core/constants")));function x(){var a;return"function"!=typeof WeakMap?null:(x=function(){return a},a=new WeakMap)}f.default.RendererGL.prototype.freeGeometry=function(a){a.gid?this._freeBuffers(a.gid):console.warn("The model you passed to freeGeometry does not have an id!")},f.default.RendererGL.prototype._initBufferDefaults=function(a){var l;return this._freeBuffers(a),1e3<Object.keys(this.retainedMode.geometry).length&&(l=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(l)),this.retainedMode.geometry[a]={}},f.default.RendererGL.prototype._freeBuffers=function(a){var l,d=this.retainedMode.geometry[a];function u(c){var s=!0,m=!1,p=void 0;try{for(var y,O=c[Symbol.iterator]();!(s=(y=O.next()).done);s=!0){var $=y.value;d[$.dst]&&(l.deleteBuffer(d[$.dst]),d[$.dst]=null)}}catch(N){m=!0,p=N}finally{try{s||null==O.return||O.return()}finally{if(m)throw p}}}d&&(delete this.retainedMode.geometry[a],l=this.GL,d.indexBuffer&&l.deleteBuffer(d.indexBuffer),u(this.retainedMode.buffers.stroke),u(this.retainedMode.buffers.fill))},f.default.RendererGL.prototype.createBuffers=function(m,l){var d,u,c,s=this.GL,p=((m=this._initBufferDefaults(m)).model=l,m.indexBuffer);return l.faces.length?(p=p||(m.indexBuffer=s.createBuffer()),c=(u=(d=f.default.RendererGL.prototype._flatten(l.faces)).some(function(y){return 65535<y}))?Uint32Array:Uint16Array,this._bindBuffer(p,s.ELEMENT_ARRAY_BUFFER,d,c),m.indexBufferType=u?s.UNSIGNED_INT:s.UNSIGNED_SHORT,m.vertexCount=3*l.faces.length):(p&&(s.deleteBuffer(p),m.indexBuffer=null),m.vertexCount=l.vertices?l.vertices.length:0),m.lineVertexCount=l.lineVertices?l.lineVertices.length/3:0,m},f.default.RendererGL.prototype.drawBuffers=function(a){var l=this.GL,d=this.retainedMode.geometry[a];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[a].vertexCount){this._useVertexColor=0<d.model.vertexColors.length;var u=this._getRetainedFillShader(),c=(this._setFillUniforms(u),!0),s=!1,m=void 0;try{for(var p,y=this.retainedMode.buffers.fill[Symbol.iterator]();!(c=(p=y.next()).done);c=!0)p.value._prepareBuffer(d,u)}catch(j){s=!0,m=j}finally{try{c||null==y.return||y.return()}finally{if(s)throw m}}u.disableRemainingAttributes(),d.indexBuffer&&this._bindBuffer(d.indexBuffer,l.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,d.model.hasFillTransparency()),this._drawElements(l.TRIANGLES,a),u.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<d.lineVertexCount){this._useLineColor=0<d.model.vertexStrokeColors.length;var O=this._getRetainedStrokeShader(),$=(this._setStrokeUniforms(O),!0);s=!1,m=void 0;try{for(var N,P=this.retainedMode.buffers.stroke[Symbol.iterator]();!($=(N=P.next()).done);$=!0)N.value._prepareBuffer(d,O)}catch(k){s=!0,m=k}finally{try{$||null==P.return||P.return()}finally{if(s)throw m}}O.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,d.model.hasStrokeTransparency()),this._drawArrays(l.TRIANGLES,a),O.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(d),this},f.default.RendererGL.prototype.drawBuffersScaled=function(a,l,d,u){var c=this.uMVMatrix.copy();try{this.uMVMatrix.scale(l,d,u),this.drawBuffers(a)}finally{this.uMVMatrix=c}},f.default.RendererGL.prototype._drawArrays=function(a,l){return this.GL.drawArrays(a,0,this.retainedMode.geometry[l].lineVertexCount),this},f.default.RendererGL.prototype._drawElements=function(a,d){var u=this.GL;if((d=this.retainedMode.geometry[d]).indexBuffer){if(this._pInst.webglVersion!==h.WEBGL2&&d.indexBufferType===u.UNSIGNED_INT&&!u.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");u.drawElements(u.TRIANGLES,d.vertexCount,d.indexBufferType,0)}else u.drawArrays(a||u.TRIANGLES,0,d.vertexCount)},f.default.RendererGL.prototype._drawPoints=function(a,l){var d=this.GL,u=this._getImmediatePointShader();this._setPointUniforms(u),this._bindBuffer(l,d.ARRAY_BUFFER,this._vToNArray(a),Float32Array,d.STATIC_DRAW),u.enableAttrib(u.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),d.drawArrays(d.Points,0,a.length),u.unbindShader()};var w=f.default.RendererGL;S.default=w},{"../core/constants":269,"../core/main":280,"./p5.RenderBuffer":334,"./p5.RendererGL":337,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.some":169,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint16-array":237,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],337:[function(T,W,S){"use strict";function v(q){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ne){return typeof ne}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne})(q)}function _(q){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(ne){return v(ne)}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":v(ne)})(q)}T("core-js/modules/es.symbol"),T("core-js/modules/es.symbol.description"),T("core-js/modules/es.symbol.iterator"),T("core-js/modules/es.array.concat"),T("core-js/modules/es.array.copy-within"),T("core-js/modules/es.array.every"),T("core-js/modules/es.array.fill"),T("core-js/modules/es.array.flat"),T("core-js/modules/es.array.flat-map"),T("core-js/modules/es.array.from"),T("core-js/modules/es.array.includes"),T("core-js/modules/es.array.iterator"),T("core-js/modules/es.array.map"),T("core-js/modules/es.array.slice"),T("core-js/modules/es.array.some"),T("core-js/modules/es.array.unscopables.flat"),T("core-js/modules/es.array.unscopables.flat-map"),T("core-js/modules/es.map"),T("core-js/modules/es.object.assign"),T("core-js/modules/es.object.get-own-property-descriptor"),T("core-js/modules/es.object.get-prototype-of"),T("core-js/modules/es.object.to-string"),T("core-js/modules/es.reflect.construct"),T("core-js/modules/es.reflect.get"),T("core-js/modules/es.regexp.to-string"),T("core-js/modules/es.set"),T("core-js/modules/es.string.includes"),T("core-js/modules/es.string.iterator"),T("core-js/modules/es.typed-array.float32-array"),T("core-js/modules/es.typed-array.float64-array"),T("core-js/modules/es.typed-array.int16-array"),T("core-js/modules/es.typed-array.uint8-array"),T("core-js/modules/es.typed-array.uint16-array"),T("core-js/modules/es.typed-array.uint32-array"),T("core-js/modules/es.typed-array.copy-within"),T("core-js/modules/es.typed-array.every"),T("core-js/modules/es.typed-array.fill"),T("core-js/modules/es.typed-array.filter"),T("core-js/modules/es.typed-array.find"),T("core-js/modules/es.typed-array.find-index"),T("core-js/modules/es.typed-array.for-each"),T("core-js/modules/es.typed-array.includes"),T("core-js/modules/es.typed-array.index-of"),T("core-js/modules/es.typed-array.iterator"),T("core-js/modules/es.typed-array.join"),T("core-js/modules/es.typed-array.last-index-of"),T("core-js/modules/es.typed-array.map"),T("core-js/modules/es.typed-array.reduce"),T("core-js/modules/es.typed-array.reduce-right"),T("core-js/modules/es.typed-array.reverse"),T("core-js/modules/es.typed-array.set"),T("core-js/modules/es.typed-array.slice"),T("core-js/modules/es.typed-array.some"),T("core-js/modules/es.typed-array.sort"),T("core-js/modules/es.typed-array.subarray"),T("core-js/modules/es.typed-array.to-locale-string"),T("core-js/modules/es.typed-array.to-string"),T("core-js/modules/es.weak-map"),T("core-js/modules/web.dom-collections.iterator"),T("core-js/modules/es.symbol"),T("core-js/modules/es.symbol.description"),T("core-js/modules/es.symbol.iterator"),T("core-js/modules/es.array.concat"),T("core-js/modules/es.array.copy-within"),T("core-js/modules/es.array.every"),T("core-js/modules/es.array.fill"),T("core-js/modules/es.array.flat"),T("core-js/modules/es.array.flat-map"),T("core-js/modules/es.array.from"),T("core-js/modules/es.array.includes"),T("core-js/modules/es.array.iterator"),T("core-js/modules/es.array.map"),T("core-js/modules/es.array.slice"),T("core-js/modules/es.array.some"),T("core-js/modules/es.array.unscopables.flat"),T("core-js/modules/es.array.unscopables.flat-map"),T("core-js/modules/es.map"),T("core-js/modules/es.object.assign"),T("core-js/modules/es.object.to-string"),T("core-js/modules/es.set"),T("core-js/modules/es.string.includes"),T("core-js/modules/es.string.iterator"),T("core-js/modules/es.typed-array.float32-array"),T("core-js/modules/es.typed-array.float64-array"),T("core-js/modules/es.typed-array.int16-array"),T("core-js/modules/es.typed-array.uint8-array"),T("core-js/modules/es.typed-array.uint16-array"),T("core-js/modules/es.typed-array.uint32-array"),T("core-js/modules/es.typed-array.copy-within"),T("core-js/modules/es.typed-array.every"),T("core-js/modules/es.typed-array.fill"),T("core-js/modules/es.typed-array.filter"),T("core-js/modules/es.typed-array.find"),T("core-js/modules/es.typed-array.find-index"),T("core-js/modules/es.typed-array.for-each"),T("core-js/modules/es.typed-array.includes"),T("core-js/modules/es.typed-array.index-of"),T("core-js/modules/es.typed-array.iterator"),T("core-js/modules/es.typed-array.join"),T("core-js/modules/es.typed-array.last-index-of"),T("core-js/modules/es.typed-array.map"),T("core-js/modules/es.typed-array.reduce"),T("core-js/modules/es.typed-array.reduce-right"),T("core-js/modules/es.typed-array.reverse"),T("core-js/modules/es.typed-array.set"),T("core-js/modules/es.typed-array.slice"),T("core-js/modules/es.typed-array.some"),T("core-js/modules/es.typed-array.sort"),T("core-js/modules/es.typed-array.subarray"),T("core-js/modules/es.typed-array.to-locale-string"),T("core-js/modules/es.typed-array.to-string"),T("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.readPixelsWebGL=te,S.readPixelWebGL=J,S.default=void 0;var f=d(T("../core/main")),h=function(q){if(q&&q.__esModule)return q;if(null===q||"object"!==_(q)&&"function"!=typeof q)return{default:q};var ne=l();if(ne&&ne.has(q))return ne.get(q);var de,De={},Y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(de in q){var R;Object.prototype.hasOwnProperty.call(q,de)&&((R=Y?Object.getOwnPropertyDescriptor(q,de):null)&&(R.get||R.set)?Object.defineProperty(De,de,R):De[de]=q[de])}return De.default=q,ne&&ne.set(q,De),De}(T("../core/constants")),x=d(T("./GeometryBuilder")),w=d(T("libtess")),a=(T("./p5.Shader"),T("./p5.Camera"),T("../core/p5.Renderer"),T("./p5.Matrix"),T("./p5.Framebuffer"),T("path"),T("./p5.Texture"));function l(){var q;return"function"!=typeof WeakMap?null:(l=function(){return q},q=new WeakMap)}function d(q){return q&&q.__esModule?q:{default:q}}function u(q){return function(ne){if(Array.isArray(ne)){for(var de=0,De=new Array(ne.length);de<ne.length;de++)De[de]=ne[de];return De}}(q)||function(ne){if(Symbol.iterator in Object(ne)||"[object Arguments]"===Object.prototype.toString.call(ne))return Array.from(ne)}(q)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(q,ne){for(var de=0;de<ne.length;de++){var De=ne[de];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(q,De.key,De)}}function s(q,ne,de){return(s=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(se,Y,R){if(se=function(pe,Ee){for(;!Object.prototype.hasOwnProperty.call(pe,Ee)&&null!==(pe=O(pe)););return pe}(se,Y))return(se=Object.getOwnPropertyDescriptor(se,Y)).get?se.get.call(R):se.value})(q,ne,de||q)}function m(q,ne){return(m=Object.setPrototypeOf||function(de,De){return de.__proto__=De,de})(q,ne)}function y(q){if(void 0===q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function O(q){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(ne){return ne.__proto__||Object.getPrototypeOf(ne)})(q)}function $(q,ne,de){ne in q?Object.defineProperty(q,ne,{value:de,enumerable:!0,configurable:!0,writable:!0}):q[ne]=de}function N(q,ne){E+="#define STROKE_CAP_".concat(q," ").concat(ne,"\n"),V[h[q]]=ne}function P(q,ne){E+="#define STROKE_JOIN_".concat(q," ").concat(ne,"\n"),k[h[q]]=ne}var j,V={},k={},E="",H={sphereMappingFrag:"#define PI 3.141592\n\nprecision highp float;\n  \nuniform sampler2D uSampler;\nuniform mat3 uNewNormalMatrix;\nuniform float uFovY;\nuniform float uAspect;\n\nvarying vec2 vTexCoord;\n  \nvoid main() {\n    float uFovX = uFovY * uAspect; \n    vec4 newTexColor = texture2D(uSampler, vTexCoord);\n    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);\n    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);\n    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );\n    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);\n    vec2 suv;\n    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);\n    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;\n    newTexColor = texture2D(uSampler, suv.xy);\n    gl_FragColor = newTexColor;\n}\n",immediateVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nOUT vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",normalVert:"IN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec4 uMaterialColor;\nuniform bool uUseVertexColor;\n\nOUT vec3 vVertexNormal;\nOUT highp vec2 vVertTexCoord;\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",normalFrag:"IN vec3 vVertexNormal;\nvoid main(void) {\n  OUT_COLOR = vec4(vVertexNormal, 1.0);\n}\n",basicFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",lightVert:(N("ROUND",0),N("PROJECT",1),N("SQUARE",2),P("ROUND",0),P("MITER",1),P("BEVEL",2),(T='#define PI 3.141592\n\nprecision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\nuniform mat3 uCameraRotation;\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\nuniform float metallic;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\n// setting from  _setImageLightUniforms()\n// boolean to initiate the calculateImageDiffuse and calculateImageSpecular\nuniform bool uUseImageLight;\n// texture for use in calculateImageDiffuse\nuniform sampler2D environmentMapDiffused;\n// texture for use in calculateImageSpecular\nuniform sampler2D environmentMapSpecular;\n// roughness for use in calculateImageSpecular\nuniform float levelOfDetail;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  float specularIntensity = mix(1.0, 0.4, metallic);\n  float diffuseIntensity = mix(1.0, 0.1, metallic);\n  if (uSpecular)\n    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;\n    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;\n  return lr;\n}\n\n// converts the range of "value" from [min1 to max1] to [min2 to max2]\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nvec2 mapTextureToNormal( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );\n  return angles;\n}\n\n\nvec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){\n  // make 2 seperate builds \n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position\n  vec3 worldNormal = normalize(vNormal * uCameraRotation);\n  vec2 newTexCoor = mapTextureToNormal( worldNormal );\n  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);\n}\n\nvec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){\n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);\n  vec3 worldNormal = normalize(vNormal);\n  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );\n  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;\n  vec2 newTexCoor = mapTextureToNormal( R );\n#ifdef WEBGL2\n  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);\n#else\n  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);\n#endif\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(\n    pow(outColor.xyz, vec3(10)),\n    pow(outColor.xyz, vec3(1.2)),\n    metallic \n  );\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  if( uUseImageLight ){\n    totalDiffuse += calculateImageDiffuse(normal, modelPosition);\n    totalSpecular += calculateImageSpecular(normal, modelPosition);\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n')+"// include lighting.glgl\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT highp vec2 vVertTexCoord;\nOUT vec3 vDiffuseColor;\nOUT vec3 vSpecularColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n"),lightTextureFrag:"uniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nIN highp vec2 vVertTexCoord;\nIN vec3 vDiffuseColor;\nIN vec3 vSpecularColor;\nIN vec4 vColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    OUT_COLOR = vColor;\n  }\n  else {\n    vec4 baseColor = isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);\n  }\n}\n",phongVert:"precision highp int;\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT vec3 vNormal;\nOUT vec2 vTexCoord;\nOUT vec3 vViewPosition;\nOUT vec3 vAmbientColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",phongFrag:T+"// include lighting.glsl\nprecision highp int;\n\nuniform bool uHasSetAmbient;\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nIN vec3 vNormal;\nIN vec2 vTexCoord;\nIN vec3 vViewPosition;\nIN vec3 vAmbientColor;\nIN vec4 vColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  vec4 baseColor = isTexture\n    // Textures come in with premultiplied alpha. To apply tint and still have\n    // premultiplied alpha output, we need to multiply the RGB channels by the\n    // tint RGB, and all channels by the tint alpha.\n    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n    // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n    // channels by alpha to convert it to premultiplied alpha.\n    : vec4(vColor.rgb * vColor.a, vColor.a);\n  OUT_COLOR = vec4(diffuse * baseColor.rgb + \n                    vAmbientColor * (\n                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb\n                    ) + \n                    specular * uSpecularMatColor.rgb + \n                    uEmissiveMatColor.rgb, baseColor.a);\n}\n",fontVert:"IN vec3 aPosition;\nIN vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nOUT vec2 vTexCoord;\nOUT float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // Expand glyph bounding boxes by 1px on each side to give a bit of room\n  // for antialiasing\n  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;\n  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;\n  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;\n  vec2 pixelScale = vec2(\n    1. / length(newOrigin - newDX),\n    1. / length(newOrigin - newDY)\n  );\n  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);\n  vec2 textureOffset = offset * (1. / vec2(\n    uGlyphRect.z - uGlyphRect.x,\n    uGlyphRect.w - uGlyphRect.y\n  ));\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n\n  positionVec4.xy += offset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord + textureOffset;\n  w = gl_Position.w;\n}\n",fontFrag:"#ifndef WEBGL2\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nIN vec2 vTexCoord;\n\n// some helper functions\nint ROUND(float v) { return ifloor(v + 0.5); }\nivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = ROUND(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n  OUT_COLOR *= saturate(max(antialias, cover));\n}\n",lineVert:E+"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nprecision mediump int;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform bool uUseLineColor;\nuniform vec4 uMaterialColor;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\nuniform int uStrokeJoin;\n\nIN vec4 aPosition;\nIN vec3 aTangentIn;\nIN vec3 aTangentOut;\nIN float aSide;\nIN vec4 aVertexColor;\n\nOUT vec4 vColor;\nOUT vec2 vTangent;\nOUT vec2 vCenter;\nOUT vec2 vPosition;\nOUT float vMaxDist;\nOUT float vCap;\nOUT float vJoin;\n\nvec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {\n  // Rotate and translate so a starts at the origin and goes out to the right\n  bPoint -= aPoint;\n  vec2 rotatedBFrom = vec2(\n    bPoint.x*aDir.x + bPoint.y*aDir.y,\n    bPoint.y*aDir.x - bPoint.x*aDir.y\n  );\n  vec2 bTo = bPoint + bDir;\n  vec2 rotatedBTo = vec2(\n    bTo.x*aDir.x + bTo.y*aDir.y,\n    bTo.y*aDir.x - bTo.x*aDir.y\n  );\n  float intersectionDistance =\n    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /\n    (rotatedBTo.y - rotatedBFrom.y);\n  return aPoint + aDir * intersectionDistance;\n}\n\nvoid main() {\n  // Caps have one of either the in or out tangent set to 0\n  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))\n    ? 1. : 0.;\n\n  // Joins have two unique, defined tangents\n  vJoin = (\n    aTangentIn != vec3(0.) &&\n    aTangentOut != vec3(0.) &&\n    aTangentIn != aTangentOut\n  ) ? 1. : 0.;\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));\n  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));\n\n  float facingCamera = pow(\n    // The word space tangent's z value is 0 if it's facing the camera\n    abs(normalize(posqIn-posp).z),\n\n    // Using pow() here to ramp `facingCamera` up from 0 to 1 really quickly\n    // so most lines get scaled and don't get clipped\n    0.25\n  );\n\n  // using a scale <1 moves the lines towards the camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  float scale = mix(1., 0.995, facingCamera);\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posqIn.xyz = posqIn.xyz * scale;\n  posqOut.xyz = posqOut.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 qIn = uProjectionMatrix * posqIn;\n  vec4 qOut = uProjectionMatrix * posqOut;\n  vCenter = p.xy;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);\n  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);\n\n  vec2 curPerspScale;\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n\n    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.\n    // Multiplying again by its sign here negates the flip to get just the scale.\n    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  vec2 offset;\n  if (vJoin == 1.) {\n    vTangent = normalize(tangentIn + tangentOut);\n    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);\n    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);\n    float side = sign(aSide);\n    float sideEnum = abs(aSide);\n\n    // We generate vertices for joins on either side of the centerline, but\n    // the \"elbow\" side is the only one needing a join. By not setting the\n    // offset for the other side, all its vertices will end up in the same\n    // spot and not render, effectively discarding it.\n    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {\n      // Side enums:\n      //   1: the side going into the join\n      //   2: the middle of the join\n      //   3: the side going out of the join\n      if (sideEnum == 2.) {\n        // Calculate the position + tangent on either side of the join, and\n        // find where the lines intersect to find the elbow of the join\n        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;\n        vec2 intersection = lineIntersection(\n          c + (side * normalIn * uStrokeWeight / 2.),\n          tangentIn,\n          c + (side * normalOut * uStrokeWeight / 2.),\n          tangentOut\n        );\n        offset = (intersection - c);\n\n        // When lines are thick and the angle of the join approaches 180, the\n        // elbow might be really far from the center. We'll apply a limit to\n        // the magnitude to avoid lines going across the whole screen when this\n        // happens.\n        float mag = length(offset);\n        float maxMag = 3. * uStrokeWeight;\n        if (mag > maxMag) {\n          offset *= maxMag / mag;\n        }\n      } else if (sideEnum == 1.) {\n        offset = side * normalIn * uStrokeWeight / 2.;\n      } else if (sideEnum == 3.) {\n        offset = side * normalOut * uStrokeWeight / 2.;\n      }\n    }\n    if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);\n      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));\n    } else {\n      vMaxDist = uStrokeWeight / 2.;\n    }\n  } else {\n    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;\n    vTangent = tangent;\n    vec2 normal = vec2(-tangent.y, tangent.x);\n\n    float normalOffset = sign(aSide);\n    // Caps will have side values of -2 or 2 on the edge of the cap that\n    // extends out from the line\n    float tangentOffset = abs(aSide) - 1.;\n    offset = (normal * normalOffset + tangent * tangentOffset) *\n      uStrokeWeight * 0.5;\n    vMaxDist = uStrokeWeight / 2.;\n  }\n  vPosition = vCenter + offset;\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n  \n  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);\n}\n",lineFrag:E+"precision mediump int;\n\nuniform vec4 uMaterialColor;\nuniform int uStrokeCap;\nuniform int uStrokeJoin;\nuniform float uStrokeWeight;\n\nIN vec4 vColor;\nIN vec2 vTangent;\nIN vec2 vCenter;\nIN vec2 vPosition;\nIN float vMaxDist;\nIN float vCap;\nIN float vJoin;\n\nfloat distSquared(vec2 a, vec2 b) {\n  vec2 aToB = b - a;\n  return dot(aToB, aToB);\n}\n\nvoid main() {\n  if (vCap > 0.) {\n    if (\n      uStrokeCap == STROKE_CAP_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (\n      uStrokeCap == STROKE_CAP_SQUARE &&\n      dot(vPosition - vCenter, vTangent) > 0.\n    ) {\n      discard;\n    }\n    // Use full area for PROJECT\n  } else if (vJoin > 0.) {\n    if (\n      uStrokeJoin == STROKE_JOIN_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 normal = vec2(-vTangent.y, vTangent.x);\n      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {\n        discard;\n      }\n    }\n    // Use full area for MITER\n  }\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",pointVert:"IN vec3 aPosition;\nuniform float uPointSize;\nOUT float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}\n",pointFrag:"precision mediump int;\nuniform vec4 uMaterialColor;\nIN float vStrokeWeight;\n\nvoid main(){\n  float mask = 0.0;\n\n  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n  // if strokeWeight is 1 or less lets just draw a square\n  // this prevents weird artifacting from carving circles when our points are really small\n  // if strokeWeight is larger than 1, we just use it as is\n\n  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n  // throw away the borders of the mask\n  // otherwise we get weird alpha blending issues\n\n  if(mask > 0.98){\n    discard;\n  }\n\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n}\n",imageLightVert:"precision highp float;\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nvarying vec3 localPos;\nvarying vec3 vWorldNormal;\nvarying vec3 vWorldPosition;\nvarying vec2 vTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvoid main() {\n  // Multiply the position by the matrix.\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n  \n  // orient the normals and pass to the fragment shader\n  vWorldNormal = uNormalMatrix * aNormal;\n  \n  // send the view position to the fragment shader\n  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;\n  \n  localPos = vWorldPosition;\n  vTexCoord = aTexCoord;\n}\n\n\n/*\nin the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.\n*/\n",imageLightDiffusedFrag:"precision highp float;\nvarying vec3 localPos;\n\n// the HDR cubemap converted (can be from an equirectangular environment map.)\nuniform sampler2D environmentMap;\nvarying vec2 vTexCoord;\n\nconst float PI = 3.14159265359;\n\nvec2 nTOE( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( phi, theta );\n  return angles;\n}\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\nvoid main()\n{   \t \n\t// the sample direction equals the hemisphere's orientation\n  float phi = vTexCoord.x * 2.0 * PI;\n  float theta = vTexCoord.y * PI;\n  float x = sin(theta) * cos(phi);\n  float y = sin(theta) * sin(phi);\n  float z = cos(theta);\n  vec3 normal = vec3( x, y, z);\n\n\t// Discretely sampling the hemisphere given the integral's\n  // spherical coordinates translates to the following fragment code:\n\tvec3 irradiance = vec3(0.0);  \n\tvec3 up\t= vec3(0.0, 1.0, 0.0);\n\tvec3 right = normalize(cross(up, normal));\n\tup = normalize(cross(normal, right));\n\n\t//  We specify a fixed sampleDelta delta value to traverse\n  // the hemisphere; decreasing or increasing the sample delta\n  // will increase or decrease the accuracy respectively.\n\tconst float sampleDelta = 0.100;\n\tfloat nrSamples = 0.0;\n  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;\n\tfor(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)\n\t{\n    float phi = rawPhi + randomOffset;\n    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)\n    {\n      float theta = rawTheta + randomOffset;\n      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance\n      float x = sin(theta) * cos(phi);\n      float y = sin(theta) * sin(phi);\n      float z = cos(theta);\n      vec3 tangentSample = vec3( x, y, z);\n      \n      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;\n        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);\n      nrSamples++;\n    }\n\t}\n\t// divide by the total number of samples taken, giving us the average sampled irradiance.\n\tirradiance = PI * irradiance * (1.0 / float(nrSamples )) ;\n  \n \n\tgl_FragColor = vec4(irradiance, 1.0);\n}",imageLightSpecularFrag:"precision highp float;\r\nvarying vec3 localPos;\r\nvarying vec2 vTexCoord;\r\n\r\n// our texture\r\nuniform sampler2D environmentMap;\r\nuniform float roughness;\r\n\r\nconst float PI = 3.14159265359;\r\n\r\nfloat VanDerCorput(int bits);\r\nvec2 HammersleyNoBitOps(int i, int N);\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r\n\r\n\r\nvec2 nTOE( vec3 v ){\r\n  // x = r sin(phi) cos(theta)   \r\n  // y = r cos(phi)  \r\n  // z = r sin(phi) sin(theta)\r\n  float phi = acos( v.y );\r\n  // if phi is 0, then there are no x, z components\r\n  float theta = 0.0;\r\n  // else \r\n  theta = acos(v.x / sin(phi));\r\n  float sinTheta = v.z / sin(phi);\r\n  if (sinTheta < 0.0) {\r\n    // Turn it into -theta, but in the 0-2PI range\r\n    theta = 2.0 * PI - theta;\r\n  }\r\n  theta = theta / (2.0 * 3.14159);\r\n  phi = phi / 3.14159 ;\r\n  \r\n  vec2 angles = vec2( phi, theta );\r\n  return angles;\r\n}\r\n\r\n\r\nvoid main(){\r\n  const int SAMPLE_COUNT = 400; // 4096\r\n  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r\n  float totalWeight = 0.0;\r\n  vec3 prefilteredColor = vec3(0.0);\r\n  float phi = vTexCoord.x * 2.0 * PI;\r\n  float theta = vTexCoord.y * PI;\r\n  float x = sin(theta) * cos(phi);\r\n  float y = sin(theta) * sin(phi);\r\n  float z = cos(theta);\r\n  vec3 N = vec3(x,y,z);\r\n  vec3 V = N;\r\n  for (int i = 0; i < SAMPLE_COUNT; ++i)\r\n  {\r\n    // break at smaller sample numbers for low roughness levels\r\n    if(i == lowRoughnessLimit)\r\n    {\r\n      break;\r\n    }\r\n    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r\n    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r\n    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r\n\r\n    float NdotL = max(dot(N, L), 0.0);\r\n    if (NdotL > 0.0)\r\n    {\r\n      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r\n      totalWeight += NdotL;\r\n    }\r\n  }\r\n  prefilteredColor = prefilteredColor / totalWeight;\r\n\r\n  gl_FragColor = vec4(prefilteredColor, 1.0);\r\n}\r\n\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r\n  float a = roughness * roughness;\r\n\r\n  float phi = 2.0 * PI * Xi.x;\r\n  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r\n  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r\n  // from spherical coordinates to cartesian coordinates\r\n  vec3 H;\r\n  H.x = cos(phi) * sinTheta;\r\n  H.y = sin(phi) * sinTheta;\r\n  H.z = cosTheta;\r\n\r\n  // from tangent-space vector to world-space sample vector\r\n  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r\n  vec3 tangent = normalize(cross(up, N));\r\n  vec3 bitangent = cross(N, tangent);\r\n\r\n  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r\n  return normalize(sampleVec);\r\n}\r\n\r\n\r\nfloat VanDerCorput(int n, int base)\r\n{\r\n#ifdef WEBGL2\r\n\r\n    uint bits = uint(n);\r\n    bits = (bits << 16u) | (bits >> 16u);\r\n    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r\n    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r\n    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r\n    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r\n    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r\n\r\n#else\r\n\r\n  float invBase = 1.0 / float(base);\r\n  float denom = 1.0;\r\n  float result = 0.0;\r\n\r\n\r\n  for (int i = 0; i < 32; ++i)\r\n  {\r\n        if (n > 0)\r\n        {\r\n        denom = mod(float(n), 2.0);\r\n        result += denom * invBase;\r\n        invBase = invBase / 2.0;\r\n        n = int(float(n) / 2.0);\r\n        }\r\n  }\r\n\r\n\r\n  return result;\r\n\r\n#endif\r\n}\r\n\r\nvec2 HammersleyNoBitOps(int i, int N)\r\n{\r\n  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r\n}\r\n"},X=H.sphereMappingFrag;for(j in H)H[j]="#ifdef WEBGL2\n\n#define IN in\n#define OUT out\n\n#ifdef FRAGMENT_SHADER\nout vec4 outColor;\n#define OUT_COLOR outColor\n#endif\n#define TEXTURE texture\n\n#else\n\n#ifdef FRAGMENT_SHADER\n#define IN varying\n#else\n#define IN attribute\n#endif\n#define OUT varying\n#define TEXTURE texture2D\n\n#ifdef FRAGMENT_SHADER\n#define OUT_COLOR gl_FragColor\n#endif\n\n#endif\n"+H[j];$(T={},h.GRAY,"precision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 tex = texture2D(tex0, vTexCoord);\n  float gray = luma(tex.rgb);\n  gl_FragColor = vec4(gray, gray, gray, tex.a);\n}\n"),$(T,h.ERODE,"// Reduces the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the darkest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum < lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),$(T,h.DILATE,"// Increase the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the brightest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum > lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),$(T,h.BLUR,"precision highp float;\n\n// Two-pass blur filter, unweighted kernel.\n// See also a similar blur at Adam Ferriss' repo of shader examples:\n// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag\n\n\nuniform sampler2D tex0;\nvarying vec2 vTexCoord;\nuniform vec2 direction;\nuniform vec2 canvasSize;\nuniform float radius;\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\n// This isn't a real Gaussian weight, it's a quadratic weight. It's what the\n// CPU mode's blur uses though, so we also use it here to match.\nfloat quadWeight(float x, float e) {\n  return pow(e-abs(x), 2.);\n}\n\nvoid main(){\n  vec2 uv = vTexCoord;\n\n  // A reasonable maximum number of samples\n  const float maxSamples = 64.0;\n\n  float numSamples = floor(7. * radius);\n  if (fract(numSamples / 2.) == 0.) {\n    numSamples++;\n  }\n  vec4 avg = vec4(0.0);\n  float total = 0.0;\n\n  // Calculate the spacing to avoid skewing if numSamples > maxSamples\n  float spacing = 1.0;\n  if (numSamples > maxSamples) {\n    spacing = numSamples / maxSamples;\n    numSamples = maxSamples;\n  }\n\n  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));\n  for (float i = 0.0; i < maxSamples; i++) {\n    if (i >= numSamples) break;\n\n    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;\n    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;\n    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);\n\n    avg += weight * texture2D(tex0, sampleCoord);\n    total += weight;\n  }\n\n  avg /= total;\n  gl_FragColor = avg;\n}\n"),$(T,h.POSTERIZE,"// Limit color space for a stylized cartoon / poster effect\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nvec3 quantize(vec3 color, float n) {\n  // restrict values to N options/bins\n  // and floor each channel to nearest value\n  //\n  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0\n  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)\n\n  color = color * n;\n  color = floor(color);\n  color = color / (n - 1.0);\n  return color;\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n\n  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);\n\n  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);\n}\n"),$(T,h.OPAQUE,"// Set alpha channel to entirely opaque\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  gl_FragColor = vec4(color.rgb / color.a, 1.0);\n}\n"),$(T,h.INVERT,"// Set each pixel to inverse value\n// Note that original INVERT does not change the opacity, so this follows suit\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\nvec4 color = texture2D(tex0, vTexCoord);\nvec3 origColor = color.rgb / color.a;\nvec3 invertedColor = vec3(1.0) - origColor;\ngl_FragColor = vec4(invertedColor * color.a, color.a);\n}\n"),$(T,h.THRESHOLD,"// Convert pixels to either white or black, \n// depending on if their luma is above or below filterParameter\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float gray = luma(color.rgb / color.a);\n  // floor() used to match src/image/filters.js\n  float threshold = floor(filterParameter * 255.0) / 255.0;\n  float blackOrWhite = step(threshold, gray);\n  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);\n}\n");var z=T;function te(q,ne,et,De,Y,R,se,pe,Ee,Ne){var We=ne.getParameter(ne.FRAMEBUFFER_BINDING),Ae=R*se*(ne.bindFramebuffer(ne.FRAMEBUFFER,et),et=pe===ne.RGBA?4:3),Be=Ee===ne.UNSIGNED_BYTE?Uint8Array:Float32Array;if(q instanceof Be&&q.length===Ae||(q=new Be(Ae)),ne.readPixels(De,Ne?Ne-Y-se:Y,R,se,pe,Ee,q),ne.bindFramebuffer(ne.FRAMEBUFFER,We),Ne)for(var Fe=Math.floor(se/2),Oe=new Be(R*et),Ze=0;Ze<Fe;Ze++){var Qe=Ze*R*4,vt=(se-Ze-1)*R*4;Oe.set(q.subarray(Qe,Qe+4*R)),q.copyWithin(Qe,vt,vt+4*R),q.set(Oe,vt)}return q}function J(q,Ee,de,De,Y,R,se){var pe=q.getParameter(q.FRAMEBUFFER_BINDING);return q.bindFramebuffer(q.FRAMEBUFFER,Ee),Ee=Y===q.RGBA?4:3,Ee=new(R===q.UNSIGNED_BYTE?Uint8Array:Float32Array)(Ee),q.readPixels(de,se?se-De-1:De,1,1,Y,R,Ee),q.bindFramebuffer(q.FRAMEBUFFER,pe),Array.from(Ee)}f.default.prototype.setAttributes=function(q,ne){if(void 0===this._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var de=!0;if(void 0!==ne?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[q]!==ne&&(this._glAttributes[q]=ne,de=!1)):q instanceof Object&&this._glAttributes!==q&&(this._glAttributes=q,de=!1),this._renderer.isP3D&&!de){if(!this._setupDone)for(var De in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(De))return void f.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},f.default.RendererGL=function(q){var ne=Y;if("function"!=typeof q&&null!==q)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(q&&q.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),q&&m(ne,q);var De=function p(q){return function(){var ne,de,De=O(q);return ne=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(ne=O(this).constructor,Reflect.construct(De,arguments,ne)):De.apply(this,arguments),De=this,!(de=ne)||"object"!==_(de)&&"function"!=typeof de?y(De):de}}(Y);function Y(R,se,pe,Ee){if(this instanceof Y)return(R=De.call(this,R,se,pe))._setAttributeDefaults(se),R._initContext(),R.isP3D=!0,R.geometryBuilder=void 0,R.GL=R.drawingContext,R._pInst._setProperty("drawingContext",R.drawingContext),R._isErasing=!1,R._clipDepths=[],R._isClipApplied=!1,R._stencilTestOn=!1,R._enableLighting=!1,R.ambientLightColors=[],R.mixedAmbientLight=[],R.mixedSpecularColor=[],R.specularColors=[1,1,1],R.directionalLightDirections=[],R.directionalLightDiffuseColors=[],R.directionalLightSpecularColors=[],R.pointLightPositions=[],R.pointLightDiffuseColors=[],R.pointLightSpecularColors=[],R.spotLightPositions=[],R.spotLightDirections=[],R.spotLightDiffuseColors=[],R.spotLightSpecularColors=[],R.spotLightAngle=[],R.spotLightConc=[],R.activeImageLight=null,R.diffusedTextures=new Map,R.specularTextures=new Map,R.drawMode=h.FILL,R.curFillColor=R._cachedFillStyle=[1,1,1,1],R.curAmbientColor=R._cachedFillStyle=[1,1,1,1],R.curSpecularColor=R._cachedFillStyle=[0,0,0,0],R.curEmissiveColor=R._cachedFillStyle=[0,0,0,0],R.curStrokeColor=R._cachedStrokeStyle=[0,0,0,1],R.curBlendMode=h.BLEND,R.preEraseBlend=void 0,R._cachedBlendMode=void 0,R.blendExt=R.webglVersion===h.WEBGL2?R.GL:R.GL.getExtension("EXT_blend_minmax"),R._isBlending=!1,R._hasSetAmbient=!1,R._useSpecularMaterial=!1,R._useEmissiveMaterial=!1,R._useNormalMaterial=!1,R._useShininess=1,R._useMetalness=0,R._useLineColor=!1,R._useVertexColor=!1,R.registerEnabled=new Set,R._tint=[255,255,255,255],R.constantAttenuation=1,R.linearAttenuation=0,R.quadraticAttenuation=0,R.uMVMatrix=new f.default.Matrix,R.uPMatrix=new f.default.Matrix,R.uNMatrix=new f.default.Matrix("mat3"),R.curMatrix=new f.default.Matrix("mat3"),R._currentNormal=new f.default.Vector(0,0,1),R._curCamera=new f.default.Camera(y(R)),R._curCamera._computeCameraDefaultSettings(),R._curCamera._setDefaultCamera(),R.filterCamera=new f.default.Camera(y(R)),R.filterCamera._computeCameraDefaultSettings(),R.filterCamera._setDefaultCamera(),R.prevTouches=[],R.zoomVelocity=0,R.rotateVelocity=new f.default.Vector(0,0),R.moveVelocity=new f.default.Vector(0,0),R.executeZoom=!1,R.executeRotateAndMove=!1,R.specularShader=void 0,R.sphereMapping=void 0,R.diffusedShader=void 0,R._defaultLightShader=void 0,R._defaultImmediateModeShader=void 0,R._defaultNormalShader=void 0,R._defaultColorShader=void 0,R._defaultPointShader=void 0,R.userFillShader=void 0,R.userStrokeShader=void 0,R.userPointShader=void 0,R.retainedMode={geometry:{},buffers:{stroke:[new f.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",y(R)),new f.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",y(R)),new f.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",y(R)),new f.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",y(R)),new f.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",y(R))],fill:[new f.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",y(R),R._vToNArray),new f.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",y(R),R._vToNArray),new f.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",y(R)),new f.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",y(R)),new f.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",y(R),R._flatten)],text:[new f.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",y(R),R._vToNArray),new f.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",y(R),R._flatten)]}},R.immediateMode={geometry:new f.default.Geometry,shapeMode:h.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new f.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",y(R),R._vToNArray),new f.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",y(R),R._vToNArray),new f.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",y(R)),new f.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",y(R)),new f.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",y(R),R._flatten)],stroke:[new f.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",y(R)),new f.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",y(R)),new f.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",y(R)),new f.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",y(R)),new f.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",y(R))],point:R.GL.createBuffer()}},R.pointSize=5,R.curStrokeWeight=1,R.curStrokeCap=h.ROUND,R.curStrokeJoin=h.ROUND,R.textures=new Map,R.framebuffers=new Set,R.activeFramebuffers=[],R.filterShader=void 0,R.filterLayer=void 0,R.filterLayerTemp=void 0,R.defaultFilterShaders={},R.textureMode=h.IMAGE,R.textureWrapX=h.CLAMP,R.textureWrapY=h.CLAMP,R._tex=null,R._curveTightness=6,R._lookUpTableBezier=[],R._lookUpTableQuadratic=[],R._lutBezierDetail=0,R._lutQuadraticDetail=0,R.isProcessingVertices=!1,R._tessy=R._initTessy(),R.fontInfos={},R._curShader=void 0,R;throw new TypeError("Cannot call a class as a function")}return ne=Y,(q=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new x.default(this)}},{key:"endGeometry",value:function(){var R;if(this.geometryBuilder)return R=this.geometryBuilder.finish(),this.geometryBuilder=void 0,R;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(R){return this.beginGeometry(),R(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(R){var se={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};R._glAttributes=null===R._glAttributes?se:Object.assign(se,R._glAttributes)}},{key:"_initContext",value:function(){if(1!==this._pInst._glAttributes.version&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?h.WEBGL2:h.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),null===this.drawingContext)throw new Error("Error creating webgl context");var R=this.drawingContext;R.enable(R.DEPTH_TEST),R.depthFunc(R.LEQUAL),R.viewport(0,0,R.drawingBufferWidth,R.drawingBufferHeight),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var R=this.drawingContext;return R.getParameter(R.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(R,se){this._maxTextureSize||(this._maxTextureSize=this._getParam());var Ee=this._maxTextureSize,pe=(Ee=Math.floor(Ee/this.pixelDensity()),Math.min(R,Ee));return Ee=Math.min(se,Ee),pe===R&&Ee===se||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(pe,", height: ").concat(Ee,".")),{adjustedWidth:pe,adjustedHeight:Ee}}},{key:"_resetContext",value:function(R,se){var pe,Ee=this.width,Ne=this.height,et=this.canvas.id,We=this._pInst instanceof f.default.Graphics;We?((pe=this._pInst).canvas.parentNode.removeChild(pe.canvas),pe.canvas=document.createElement("canvas"),(pe._pInst._userNode||document.body).appendChild(pe.canvas),f.default.Element.call(pe,pe.canvas,pe._pInst),pe.width=Ee,pe.height=Ne):((pe=this.canvas)&&pe.parentNode.removeChild(pe),(pe=document.createElement("canvas")).id=et,(this._pInst._userNode||document.body).appendChild(pe),this._pInst.canvas=pe,this.canvas=pe),et=new f.default.RendererGL(this._pInst.canvas,this._pInst,!We),this._pInst._setProperty("_renderer",et),et.resize(Ee,Ne),et._applyDefaults(),We||this._pInst._elements.push(et),"function"==typeof se&&setTimeout(function(){se.apply(window._renderer,R)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var Ee=(Ee=this._pInst).color.apply(Ee,arguments);this.clear(Ee.levels[0]/255,Ee.levels[1]/255,Ee.levels[2]/255,Ee=Ee.levels[3]/255)}},{key:"fill",value:function(R,se,pe,Ee){var Ne=f.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=Ne._array,this.drawMode=h.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(R,se,pe,Ee){var Ne=f.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=Ne._array}},{key:"strokeCap",value:function(R){this.curStrokeCap=R}},{key:"strokeJoin",value:function(R){this.curStrokeJoin=R}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(R,se){R.width===se.width&&R.height===se.height||R.resize(se.width,se.height),R.pixelDensity()!==se.pixelDensity()&&R.pixelDensity(se.pixelDensity())}},{key:"filter",value:function(){var R,se,pe=this,Ee=this.getFilterLayer(),Ne=void 0,We=void 0,et=("string"==typeof(arguments.length<=0?void 0:arguments[0])?(We=arguments.length<=0?void 0:arguments[0],$(R={},h.BLUR,3),$(R,h.POSTERIZE,4),$(R,h.THRESHOLD,.5),Ne=We in R&&void 0===(arguments.length<=1?void 0:arguments[1])?R[We]:arguments.length<=1?void 0:arguments[1],We in this.defaultFilterShaders||(this.defaultFilterShaders[We]=new f.default.Shader(Ee._renderer,"uniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nattribute vec3 aPosition;\n// texcoords only come from p5 to vertex shader\n// so pass texcoords on to the fragment shader in a varying variable\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n  // transferring texcoords for the frag shader\n  vTexCoord = aTexCoord;\n\n  // copy position with a fourth coordinate for projection (1.0 is normal)\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n}\n",z[We])),this.filterShader=this.defaultFilterShaders[We]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),Ae=(this.matchSize(Ee,et),Ee.draw(function(){return pe._pInst.clear()}),[1/(et.width*et.pixelDensity()),1/(et.height*et.pixelDensity())]);We===h.BLUR?(se=this.getFilterLayerTemp(),this.matchSize(se,et),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(h.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",Ae),this.filterShader.setUniform("canvasSize",[et.width,et.height]),this.filterShader.setUniform("radius",Math.max(1,Ne)),se.draw(function(){pe.filterShader.setUniform("direction",[1,0]),pe.filterShader.setUniform("tex0",et),pe._pInst.clear(),pe._pInst.shader(pe.filterShader),pe._pInst.noLights(),pe._pInst.plane(et.width,et.height)}),Ee.draw(function(){pe.filterShader.setUniform("direction",[0,1]),pe.filterShader.setUniform("tex0",se),pe._pInst.clear(),pe._pInst.shader(pe.filterShader),pe._pInst.noLights(),pe._pInst.plane(et.width,et.height)}),this._pInst.pop()):Ee.draw(function(){pe._pInst.noStroke(),pe._pInst.blendMode(h.BLEND),pe._pInst.shader(pe.filterShader),pe.filterShader.setUniform("tex0",et),pe.filterShader.setUniform("texelSize",Ae),pe.filterShader.setUniform("canvasSize",[et.width,et.height]),pe.filterShader.setUniform("filterParameter",Ne),pe._pInst.noLights(),pe._pInst.plane(et.width,et.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(h.CORNER),this._pInst.blendMode(h.BLEND),et.filterCamera._resize(),this._pInst.setCamera(et.filterCamera),this._pInst.resetMatrix(),this._pInst.image(Ee,-et.width/2,-et.height/2,et.width,et.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(R){return R?this._pInst.pixelDensity(R):this._pInst.pixelDensity()}},{key:"blendMode",value:function(R){R===h.DARKEST||R===h.LIGHTEST||R===h.ADD||R===h.BLEND||R===h.SUBTRACT||R===h.SCREEN||R===h.EXCLUSION||R===h.REPLACE||R===h.MULTIPLY||R===h.REMOVE?this.curBlendMode=R:R!==h.BURN&&R!==h.OVERLAY&&R!==h.HARD_LIGHT&&R!==h.SOFT_LIGHT&&R!==h.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(R,se){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(h.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,R/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,se/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var R=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(s(O(Y.prototype),"beginClip",this).call(this,R),this.drawTarget()._isClipApplied=!0,R=this.GL).clearStencil(0),R.clear(R.STENCIL_BUFFER_BIT),R.enable(R.STENCIL_TEST),this._stencilTestOn=!0,R.stencilFunc(R.ALWAYS,1,255),R.stencilOp(R.KEEP,R.KEEP,R.REPLACE),R.disable(R.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var R=this.GL;R.stencilOp(R.KEEP,R.KEEP,R.KEEP),R.stencilFunc(this._clipInvert?R.EQUAL:R.NOTEQUAL,0,255),R.enable(R.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),s(O(Y.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(R){this.curStrokeWeight!==R&&(this.pointSize=R,this.curStrokeWeight=R)}},{key:"_getPixel",value:function(R,se){var pe=this.GL;return J(pe,null,R,se,pe.RGBA,pe.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var R,se,pe=this._pixelsState;!0!==this._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):pe._setProperty("pixels",te(pe.pixels,se=this.GL,null,0,0,this.width*(R=this._pInst._pixelDensity),this.height*R,se.RGBA,se.UNSIGNED_BYTE,this.height*R))}},{key:"updatePixels",value:function(){var R=this._getTempFramebuffer();R.pixels=this._pixelsState.pixels,R.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(h.CENTER),this._pInst.image(R,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:h.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:h.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(R){return void 0!==this.retainedMode.geometry[R]}},{key:"viewport",value:function(R,se){this._viewport=[0,0,R,se],this.GL.viewport(0,0,R,se)}},{key:"resize",value:function(Ne,Ee){f.default.Renderer.prototype.resize.call(this,Ne,Ee),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var pe=(void 0!==(Ne=this._pixelsState).pixels&&Ne._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);Ee=!1,Ne=void 0;try{for(var We,et=this.framebuffers[Symbol.iterator]();!(pe=(We=et.next()).done);pe=!0)We.value._canvasSizeChanged()}catch(Ae){Ee=!0,Ne=Ae}finally{try{pe||null==et.return||et.return()}finally{if(Ee)throw Ne}}}},{key:"clear",value:function(){var R=(arguments.length<=0?void 0:arguments[0])||0,se=(arguments.length<=1?void 0:arguments[1])||0,pe=(arguments.length<=2?void 0:arguments[2])||0,Ee=(arguments.length<=3?void 0:arguments[3])||0,Ne=this.activeFramebuffer();Ne&&Ne.format===h.UNSIGNED_BYTE&&!Ne.antialias&&0===Ee&&(Ee=1e-10),this.GL.clearColor(R*Ee,se*Ee,pe*Ee,Ee),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(R,se,pe,Ee,Ne,We){16===arguments.length?f.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([R,se,0,0,pe,Ee,0,0,0,0,1,0,Ne,We,0,1])}},{key:"translate",value:function(R,se,pe){return R instanceof f.default.Vector&&(pe=R.z,se=R.y,R=R.x),this.uMVMatrix.translate([R,se,pe]),this}},{key:"scale",value:function(R,se,pe){return this.uMVMatrix.scale(R,se,pe),this}},{key:"rotate",value:function(R,se){return void 0===se?this.rotateZ(R):(f.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(R){return this.rotate(R,1,0,0),this}},{key:"rotateY",value:function(R){return this.rotate(R,0,1,0),this}},{key:"rotateZ",value:function(R){return this.rotate(R,0,0,1),this}},{key:"push",value:function(){var R=f.default.Renderer.prototype.push.apply(this),se=R.properties;return se.uMVMatrix=this.uMVMatrix.copy(),se.uPMatrix=this.uPMatrix.copy(),se._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),se.ambientLightColors=this.ambientLightColors.slice(),se.specularColors=this.specularColors.slice(),se.directionalLightDirections=this.directionalLightDirections.slice(),se.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),se.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),se.pointLightPositions=this.pointLightPositions.slice(),se.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),se.pointLightSpecularColors=this.pointLightSpecularColors.slice(),se.spotLightPositions=this.spotLightPositions.slice(),se.spotLightDirections=this.spotLightDirections.slice(),se.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),se.spotLightSpecularColors=this.spotLightSpecularColors.slice(),se.spotLightAngle=this.spotLightAngle.slice(),se.spotLightConc=this.spotLightConc.slice(),se.userFillShader=this.userFillShader,se.userStrokeShader=this.userStrokeShader,se.userPointShader=this.userPointShader,se.pointSize=this.pointSize,se.curStrokeWeight=this.curStrokeWeight,se.curStrokeColor=this.curStrokeColor,se.curFillColor=this.curFillColor,se.curAmbientColor=this.curAmbientColor,se.curSpecularColor=this.curSpecularColor,se.curEmissiveColor=this.curEmissiveColor,se._hasSetAmbient=this._hasSetAmbient,se._useSpecularMaterial=this._useSpecularMaterial,se._useEmissiveMaterial=this._useEmissiveMaterial,se._useShininess=this._useShininess,se._useMetalness=this._useMetalness,se.constantAttenuation=this.constantAttenuation,se.linearAttenuation=this.linearAttenuation,se.quadraticAttenuation=this.quadraticAttenuation,se._enableLighting=this._enableLighting,se._useNormalMaterial=this._useNormalMaterial,se._tex=this._tex,se.drawMode=this.drawMode,se._currentNormal=this._currentNormal,se.curBlendMode=this.curBlendMode,se.activeImageLight=this.activeImageLight,R}},{key:"pop",value:function(){var R;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var se=arguments.length,pe=new Array(se),Ee=0;Ee<se;Ee++)pe[Ee]=arguments[Ee];(R=s(O(Y.prototype),"pop",this)).call.apply(R,[this].concat(pe)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var R=this.drawTarget();R._isClipApplied!==this._stencilTestOn&&(R._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var R=this.userStrokeShader;return R&&R.isStrokeShader()?R:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(R){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(X)),this.uNMatrix.inverseTranspose(this.uMVMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",R),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var R=this.userFillShader;if(this._useNormalMaterial&&(!R||!R.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!R||!R.isLightShader())return this._getLightShader()}else if(this._tex){if(!R||!R.isTextureShader())return this._getLightShader()}else if(!R)return this._getImmediateModeShader();return R}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var R=this.userFillShader;if(this._enableLighting){if(!R||!R.isLightShader())return this._getLightShader()}else if(this._tex){if(!R||!R.isTextureShader())return this._getLightShader()}else if(!R)return this._getColorShader();return R}},{key:"_getImmediatePointShader",value:function(){var R=this.userPointShader;return R&&R.isPointShader()?R:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._defaultLightShader=this._pInst._glAttributes.perPixelLighting?new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+H.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+H.phongFrag):new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+H.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+H.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+H.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+H.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+H.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+H.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+H.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+H.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+H.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+H.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+H.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+H.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===h.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new f.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+H.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+H.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(R,se){var pe="";return this.webglVersion===h.WEBGL2&&(pe+="#version 300 es\n#define WEBGL2\n"),"vert"===R?pe+="#define VERTEX_SHADER\n":"frag"===R&&(pe+="#define FRAGMENT_SHADER\n"),se&&(pe+="precision ".concat(se," float;\n")),pe}},{key:"_getEmptyTexture",value:function(){var R;return this._emptyTexture||((R=new f.default.Image(1,1)).set(0,0,255),this._emptyTexture=new f.default.Texture(this,R)),this._emptyTexture}},{key:"getTexture",value:function(R){R instanceof f.default.Framebuffer&&(R=R.color);var se=this.textures.get(R);return se||(se=new f.default.Texture(this,R),this.textures.set(R,se),se)}},{key:"getDiffusedTexture",value:function(R){var se,pe,Ee=this;return null!=this.diffusedTextures.get(R)?this.diffusedTextures.get(R):(se=Math.floor(R.height/R.width*200),pe=this._pInst.createFramebuffer({width:200,height:se,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(H.imageLightVert,H.imageLightDiffusedFrag)),pe.draw(function(){Ee._pInst.shader(Ee.diffusedShader),Ee.diffusedShader.setUniform("environmentMap",R),Ee._pInst.noStroke(),Ee._pInst.rectMode(h.CENTER),Ee._pInst.noLights(),Ee._pInst.rect(0,0,200,se)}),this.diffusedTextures.set(R,pe),pe)}},{key:"getSpecularTexture",value:function(R){var se=this;if(null!=this.specularTextures.get(R))return this.specularTextures.get(R);for(var pe,Ee=[],Ne=this._pInst.createFramebuffer({width:512,height:512,density:1}),We=Math.log(512)/Math.log(2),et=(this.specularShader||(this.specularShader=this._pInst.createShader(H.imageLightVert,H.imageLightSpecularFrag)),512);1<=et;et/=2)!function(Ae){Ne.resize(Ae,Ae);var Be=1-Math.log(Ae)/Math.log(2)/We;Ne.draw(function(){se._pInst.shader(se.specularShader),se._pInst.clear(),se.specularShader.setUniform("environmentMap",R),se.specularShader.setUniform("roughness",Be),se._pInst.noStroke(),se._pInst.noLights(),se._pInst.plane(Ae,Ae)}),Ee.push(Ne.get().drawingContext.getImageData(0,0,Ae,Ae))}(et);return Ne.remove(),pe=new a.MipmapTexture(this,Ee,{}),this.specularTextures.set(R,pe),pe}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(R){return new f.default.Framebuffer(this,R)}},{key:"_setStrokeUniforms",value:function(R){R.bindShader(),R.setUniform("uUseLineColor",this._useLineColor),R.setUniform("uMaterialColor",this.curStrokeColor),R.setUniform("uStrokeWeight",this.curStrokeWeight),R.setUniform("uStrokeCap",V[this.curStrokeCap]),R.setUniform("uStrokeJoin",k[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(R){var se=this,pe=(R.bindShader(),this.mixedSpecularColor=u(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(Ee,Ne){return se.curFillColor[Ne]*se._useMetalness+Ee*(1-se._useMetalness)})),R.setUniform("uUseVertexColor",this._useVertexColor),R.setUniform("uMaterialColor",this.curFillColor),R.setUniform("isTexture",!!this._tex),this._tex&&R.setUniform("uSampler",this._tex),R.setUniform("uTint",this._tint),R.setUniform("uHasSetAmbient",this._hasSetAmbient),R.setUniform("uAmbientMatColor",this.curAmbientColor),R.setUniform("uSpecularMatColor",this.mixedSpecularColor),R.setUniform("uEmissiveMatColor",this.curEmissiveColor),R.setUniform("uSpecular",this._useSpecularMaterial),R.setUniform("uEmissive",this._useEmissiveMaterial),R.setUniform("uShininess",this._useShininess),R.setUniform("metallic",this._useMetalness),this._setImageLightUniforms(R),R.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3);R.setUniform("uPointLightCount",pe),R.setUniform("uPointLightLocation",this.pointLightPositions),R.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),R.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),R.setUniform("uDirectionalLightCount",pe=this.directionalLightDiffuseColors.length/3),R.setUniform("uLightingDirection",this.directionalLightDirections),R.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),R.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),pe=this.ambientLightColors.length/3,this.mixedAmbientLight=u(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(Ee){return Math.max(0,Ee-=se._useMetalness)})),R.setUniform("uAmbientLightCount",pe),R.setUniform("uAmbientColor",this.mixedAmbientLight),R.setUniform("uSpotLightCount",pe=this.spotLightDiffuseColors.length/3),R.setUniform("uSpotLightAngle",this.spotLightAngle),R.setUniform("uSpotLightConc",this.spotLightConc),R.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),R.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),R.setUniform("uSpotLightLocation",this.spotLightPositions),R.setUniform("uSpotLightDirection",this.spotLightDirections),R.setUniform("uConstantAttenuation",this.constantAttenuation),R.setUniform("uLinearAttenuation",this.linearAttenuation),R.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),R.bindTextures()}},{key:"_setImageLightUniforms",value:function(R){var se;R.setUniform("uUseImageLight",null!=this.activeImageLight),this.activeImageLight&&(se=this.getDiffusedTexture(this.activeImageLight),R.setUniform("environmentMapDiffused",se),se=this.getSpecularTexture(this.activeImageLight),R.setUniform("levelOfDetail",20/this._useShininess*8),R.setUniform("environmentMapSpecular",se))}},{key:"_setPointUniforms",value:function(R){R.bindShader(),R.setUniform("uMaterialColor",this.curStrokeColor),R.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(R,se,pe,Ee,Ne){this.GL.bindBuffer(se=se||this.GL.ARRAY_BUFFER,R),void 0!==pe&&((R=pe)instanceof f.default.DataArray?R=pe.dataArray():R instanceof(Ee||Float32Array)||(R=new(Ee||Float32Array)(R)),this.GL.bufferData(se,R,Ne||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(R,se){return R.length===se.length&&R.every(function(pe,Ee){return pe===se[Ee]})}},{key:"_isTypedArray",value:function(R){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(se){return R instanceof se})}},{key:"_flatten",value:function(R){return R.flat()}},{key:"_vToNArray",value:function(R){return R.flatMap(function(se){return[se.x,se.y,se.z]})}},{key:"_bezierCoefficients",value:function(R){var se=R*R,pe=1-R,Ee=pe*pe;return[Ee*pe,3*Ee*R,3*pe*se,se*R]}},{key:"_quadraticCoefficients",value:function(R){var se=1-R;return[se*se,2*se*R,R*R]}},{key:"_bezierToCatmull",value:function(R){return[R[1],R[1]+(R[2]-R[0])/this._curveTightness,R[2]-(R[3]-R[1])/this._curveTightness,R[2]]}},{key:"_initTessy",value:function(){var R=new w.default.GluTesselator;return R.gluTessCallback(w.default.gluEnum.GLU_TESS_VERTEX_DATA,function(se,pe){var Ee=!0,Ne=!1,We=void 0;try{for(var et,Ae=se[Symbol.iterator]();!(Ee=(et=Ae.next()).done);Ee=!0)pe.push(et.value)}catch(Fe){Ne=!0,We=Fe}finally{try{Ee||null==Ae.return||Ae.return()}finally{if(Ne)throw We}}}),R.gluTessCallback(w.default.gluEnum.GLU_TESS_BEGIN,function(se){se!==w.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(se))}),R.gluTessCallback(w.default.gluEnum.GLU_TESS_ERROR,function(se){console.log("error callback"),console.log("error number: ".concat(se))}),R.gluTessCallback(w.default.gluEnum.GLU_TESS_COMBINE,function(se,pe,Ee){for(var Ne=new Array(f.default.RendererGL.prototype.tessyVertexSize).fill(0),We=0;We<Ee.length;We++)for(var et=0;et<Ne.length;et++)0!==Ee[We]&&pe[We]&&(Ne[et]+=pe[We][et]*Ee[We]);return Ne}),R.gluTessCallback(w.default.gluEnum.GLU_TESS_EDGE_FLAG,function(se){}),R.gluTessProperty(w.default.gluEnum.GLU_TESS_WINDING_RULE,w.default.windingRule.GLU_TESS_WINDING_NONZERO),R}},{key:"_triangulate",value:function(R){var se=R[0]?R[0][2]:void 0,pe=!0,Ee=!0,Be=!1,Oe=void 0;try{for(var Ne,We=R[Symbol.iterator]();!(Ee=(Ne=We.next()).done);Ee=!0)for(var et=Ne.value,Ae=0;Ae<et.length;Ae+=f.default.RendererGL.prototype.tessyVertexSize)if(et[Ae+2]!==se){pe=!1;break}}catch(qt){Be=!0,Oe=qt}finally{try{Ee||null==We.return||We.return()}finally{if(Be)throw Oe}}this._tessy.gluTessNormal(0,0,pe?1:0);var Fe=(this._tessy.gluTessBeginPolygon(Be=[]),!0),Ze=void(Oe=!1);try{for(var Qe,vt=R[Symbol.iterator]();!(Fe=(Qe=vt.next()).done);Fe=!0){var ht=Qe.value;this._tessy.gluTessBeginContour();for(var ft=0;ft<ht.length;ft+=f.default.RendererGL.prototype.tessyVertexSize){var kt=ht.slice(ft,ft+f.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(kt,kt)}this._tessy.gluTessEndContour()}}catch(qt){Oe=!0,Ze=qt}finally{try{Fe||null==vt.return||vt.return()}finally{if(Oe)throw Ze}}return this._tessy.gluTessEndPolygon(),Be}}])&&c(ne.prototype,q),Y}(f.default.Renderer),f.default.prototype._assert3d=function(q){if(!this._renderer.isP3D)throw new Error("".concat(q,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},f.default.RendererGL.prototype.tessyVertexSize=12,S.default=T=f.default.RendererGL},{"../core/constants":269,"../core/main":280,"../core/p5.Renderer":283,"./GeometryBuilder":324,"./p5.Camera":329,"./p5.Framebuffer":331,"./p5.Matrix":333,"./p5.Shader":338,"./p5.Texture":339,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.copy-within":153,"core-js/modules/es.array.every":154,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.flat":159,"core-js/modules/es.array.flat-map":158,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.array.unscopables.flat":172,"core-js/modules/es.array.unscopables.flat-map":171,"core-js/modules/es.map":174,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.float64-array":217,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.int16-array":221,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint16-array":237,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,libtess:252,path:255}],338:[function(r,W,S){"use strict";r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.index-of"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.slice"),r("core-js/modules/es.array.some"),r("core-js/modules/es.function.name"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var v=(r=r("../core/main"))&&r.__esModule?r:{default:r};function _(f,h){for(var x=0;x<h.length;x++){var w=h[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}v.default.Shader=function(){function f(a,l,d){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._renderer=a,this._vertSrc=l,this._fragSrc=d,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var h,x;return h=f,(x=[{key:"init",value:function(){if(0===this._glProgram){var a=this._renderer.GL;if(this._vertShader=a.createShader(a.VERTEX_SHADER),a.shaderSource(this._vertShader,this._vertSrc),a.compileShader(this._vertShader),!a.getShaderParameter(this._vertShader,a.COMPILE_STATUS))return v.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(a.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=a.createShader(a.FRAGMENT_SHADER),a.shaderSource(this._fragShader,this._fragSrc),a.compileShader(this._fragShader),!a.getShaderParameter(this._fragShader,a.COMPILE_STATUS))return v.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(a.getShaderInfoLog(this._fragShader))),null;this._glProgram=a.createProgram(),a.attachShader(this._glProgram,this._vertShader),a.attachShader(this._glProgram,this._fragShader),a.linkProgram(this._glProgram),a.getProgramParameter(this._glProgram,a.LINK_STATUS)||v.default._friendlyError("Snap! Error linking shader program: ".concat(a.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(a){var l=new v.default.Shader(a._renderer,this._vertSrc,this._fragSrc);return l.ensureCompiledOnContext(a),l}},{key:"ensureCompiledOnContext",value:function(a){if(0!==this._glProgram&&this._renderer!==a._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");0===this._glProgram&&(this._renderer=a._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var a=this._renderer.GL,l=a.getProgramParameter(this._glProgram,a.ACTIVE_ATTRIBUTES),d=0;d<l;++d){var u=a.getActiveAttrib(this._glProgram,d),c=u.name,s=a.getAttribLocation(this._glProgram,c),m={};m.name=c,m.location=s,m.index=d,m.type=u.type,m.size=u.size,this.attributes[c]=m}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var a=this._renderer.GL,l=a.getProgramParameter(this._glProgram,a.ACTIVE_UNIFORMS),d=0,u=0;u<l;++u){var c=a.getActiveUniform(this._glProgram,u),s={},m=(s.location=a.getUniformLocation(this._glProgram,c.name),s.size=c.size,c.name);1<c.size&&(m=m.substring(0,m.indexOf("[0]"))),s.name=m,s.type=c.type,s._cachedData=void 0,s.type===a.SAMPLER_2D&&(s.samplerIndex=d,d++,this.samplers.push(s)),s.isArray=1<c.size||s.type===a.FLOAT_MAT3||s.type===a.FLOAT_MAT4||s.type===a.FLOAT_VEC2||s.type===a.FLOAT_VEC3||s.type===a.FLOAT_VEC4||s.type===a.INT_VEC2||s.type===a.INT_VEC4||s.type===a.INT_VEC3,this.uniforms[m]=s}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var a=this._renderer.GL,l=!0,d=!1,u=void 0;try{for(var c,s=this.samplers[Symbol.iterator]();!(l=(c=s.next()).done);l=!0){var m=c.value,p=m.texture;void 0===p&&(p=this._renderer._getEmptyTexture()),a.activeTexture(a.TEXTURE0+m.samplerIndex),p.bindTexture(),p.update(),a.uniform1i(m.location,m.samplerIndex)}}catch(y){d=!0,u=y}finally{try{l||null==s.return||s.return()}finally{if(d)throw u}}}},{key:"updateTextures",value:function(){var a=!0,l=!1,d=void 0;try{for(var u,c=this.samplers[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var s=u.value.texture;s&&s.update()}}catch(m){l=!0,d=m}finally{try{a||null==c.return||c.return()}finally{if(l)throw d}}}},{key:"unbindTextures",value:function(){var a=!0,l=!1,d=void 0;try{for(var u,c=this.samplers[Symbol.iterator]();!(a=(u=c.next()).done);a=!0)this.setUniform(u.value.name,this._renderer._getEmptyTexture())}catch(m){l=!0,d=m}finally{try{a||null==c.return||c.return()}finally{if(l)throw d}}}},{key:"_setMatrixUniforms",value:function(){var a=this._renderer._curCamera.cameraMatrix,l=this._renderer.uPMatrix,d=this._renderer.uMVMatrix,u=d.copy();u.mult(l),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",a.mat4),this.setUniform("uProjectionMatrix",l.mat4),this.setUniform("uModelViewMatrix",d.mat4),this.setUniform("uModelViewProjectionMatrix",u.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer._curCamera.cameraMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){return this._renderer._curShader!==this&&(this._renderer.GL.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(a,l){var d=this.uniforms[a];if(d){var u=this._renderer.GL;if(d.isArray){if(d._cachedData&&this._renderer._arraysEqual(d._cachedData,l))return;d._cachedData=l.slice(0)}else{if(d._cachedData&&d._cachedData===l)return;d._cachedData=Array.isArray(l)?l.slice(0):l}var c=d.location;switch(this.useProgram(),d.type){case u.BOOL:u.uniform1i(c,!0===l?1:0);break;case u.INT:1<d.size?l.length&&u.uniform1iv(c,l):u.uniform1i(c,l);break;case u.FLOAT:1<d.size?l.length&&u.uniform1fv(c,l):u.uniform1f(c,l);break;case u.FLOAT_MAT3:u.uniformMatrix3fv(c,!1,l);break;case u.FLOAT_MAT4:u.uniformMatrix4fv(c,!1,l);break;case u.FLOAT_VEC2:1<d.size?l.length&&u.uniform2fv(c,l):u.uniform2f(c,l[0],l[1]);break;case u.FLOAT_VEC3:1<d.size?l.length&&u.uniform3fv(c,l):u.uniform3f(c,l[0],l[1],l[2]);break;case u.FLOAT_VEC4:1<d.size?l.length&&u.uniform4fv(c,l):u.uniform4f(c,l[0],l[1],l[2],l[3]);break;case u.INT_VEC2:1<d.size?l.length&&u.uniform2iv(c,l):u.uniform2i(c,l[0],l[1]);break;case u.INT_VEC3:1<d.size?l.length&&u.uniform3iv(c,l):u.uniform3i(c,l[0],l[1],l[2]);break;case u.INT_VEC4:1<d.size?l.length&&u.uniform4iv(c,l):u.uniform4i(c,l[0],l[1],l[2],l[3]);break;case u.SAMPLER_2D:u.activeTexture(u.TEXTURE0+d.samplerIndex),d.texture=l instanceof v.default.Texture?l:this._renderer.getTexture(l),u.uniform1i(c,d.samplerIndex),d.texture.src.gifProperties&&d.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(a){return void 0!==a})}},{key:"isNormalShader",value:function(){return void 0!==this.attributes.aNormal}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return void 0!==this.uniforms.uStrokeWeight}},{key:"enableAttrib",value:function(a,l,d,u,c,s){var m;return a&&-1!==(a=a.location)&&(m=this._renderer.GL,this._renderer.registerEnabled.has(a)||(m.enableVertexAttribArray(a),this._renderer.registerEnabled.add(a)),this._renderer.GL.vertexAttribPointer(a,l,d||m.FLOAT,u||!1,c||0,s||0)),this}},{key:"disableRemainingAttributes",value:function(){var a=this,l=!0,d=!1,u=void 0;try{for(var c,s=this._renderer.registerEnabled.values()[Symbol.iterator]();!(l=(c=s.next()).done);l=!0)!function(){var m=c.value;Object.keys(a.attributes).some(function(p){return a.attributes[p].location===m})||(a._renderer.GL.disableVertexAttribArray(m),a._renderer.registerEnabled.delete(m))}()}catch(m){d=!0,u=m}finally{try{l||null==s.return||s.return()}finally{if(d)throw u}}}}])&&_(h.prototype,x),f}(),S.default=r=v.default.Shader},{"../core/main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.function.name":173,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],339:[function(r,W,S){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}function _(p){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(y){return v(y)}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":v(y)})(p)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.get-prototype-of"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.reflect.construct"),r("core-js/modules/es.regexp.to-string"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.typed-array.uint8-array"),r("core-js/modules/es.typed-array.copy-within"),r("core-js/modules/es.typed-array.every"),r("core-js/modules/es.typed-array.fill"),r("core-js/modules/es.typed-array.filter"),r("core-js/modules/es.typed-array.find"),r("core-js/modules/es.typed-array.find-index"),r("core-js/modules/es.typed-array.for-each"),r("core-js/modules/es.typed-array.includes"),r("core-js/modules/es.typed-array.index-of"),r("core-js/modules/es.typed-array.iterator"),r("core-js/modules/es.typed-array.join"),r("core-js/modules/es.typed-array.last-index-of"),r("core-js/modules/es.typed-array.map"),r("core-js/modules/es.typed-array.reduce"),r("core-js/modules/es.typed-array.reduce-right"),r("core-js/modules/es.typed-array.reverse"),r("core-js/modules/es.typed-array.set"),r("core-js/modules/es.typed-array.slice"),r("core-js/modules/es.typed-array.some"),r("core-js/modules/es.typed-array.sort"),r("core-js/modules/es.typed-array.subarray"),r("core-js/modules/es.typed-array.to-locale-string"),r("core-js/modules/es.typed-array.to-string"),Object.defineProperty(S,"__esModule",{value:!0}),S.checkWebGLCapabilities=m,S.default=S.MipmapTexture=void 0;var f=(s=r("../core/main"))&&s.__esModule?s:{default:s},h=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==_(p)&&"function"!=typeof p)return{default:p};var y=x();if(y&&y.has(p))return y.get(p);var O,$={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in p){var P;Object.prototype.hasOwnProperty.call(p,O)&&((P=N?Object.getOwnPropertyDescriptor(p,O):null)&&(P.get||P.set)?Object.defineProperty($,O,P):$[O]=p[O])}return $.default=p,y&&y.set(p,$),$}(r("../core/constants"));function x(){var p;return"function"!=typeof WeakMap?null:(x=function(){return p},p=new WeakMap)}function w(p,y){return(w=Object.setPrototypeOf||function(O,$){return O.__proto__=$,O})(p,y)}function l(p){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(p)}function d(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function u(p,y){for(var O=0;O<y.length;O++){var $=y[O];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(p,$.key,$)}}function c(p,y,O){y&&u(p.prototype,y),O&&u(p,O)}f.default.Texture=function(){function p(j,O,P){d(this,p),this._renderer=j;var N=this._renderer.GL;return P=P||{},this.src=O,this.glTex=void 0,this.glTarget=N.TEXTURE_2D,this.glFormat=P.format||N.RGBA,this.mipmaps=!1,this.glMinFilter=P.minFilter||N.LINEAR,this.glMagFilter=P.magFilter||N.LINEAR,this.glWrapS=P.wrapS||N.CLAMP_TO_EDGE,this.glWrapT=P.wrapT||N.CLAMP_TO_EDGE,this.glDataType=P.dataType||N.UNSIGNED_BYTE,P=m(j),this.glFormat!==N.HALF_FLOAT||P.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=N.FLOAT),this.glFormat!==N.HALF_FLOAT||this.glMinFilter!==N.LINEAR&&this.glMagFilter!==N.LINEAR||P.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===N.LINEAR&&(this.glMinFilter=N.NEAREST),this.glMagFilter===N.LINEAR&&(this.glMagFilter=N.NEAREST)),this.glFormat!==N.FLOAT||P.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=N.UNSIGNED_BYTE),this.glFormat!==N.FLOAT||this.glMinFilter!==N.LINEAR&&this.glMagFilter!==N.LINEAR||P.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===N.LINEAR&&(this.glMinFilter=N.NEAREST),this.glMagFilter===N.LINEAR&&(this.glMagFilter=N.NEAREST)),this.isSrcMediaElement=void 0!==f.default.MediaElement&&O instanceof f.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==f.default.Element&&O instanceof f.default.Element&&!(O instanceof f.default.Graphics)&&!(O instanceof f.default.Renderer),this.isSrcP5Image=O instanceof f.default.Image,this.isSrcP5Graphics=O instanceof f.default.Graphics,this.isSrcP5Renderer=O instanceof f.default.Renderer,this.isImageData=typeof ImageData<"u"&&O instanceof ImageData,this.isFramebufferTexture=O instanceof f.default.FramebufferTexture,j=this._getTextureDataFromSource(),this.width=j.width,this.height=j.height,this.init(j),this}return c(p,[{key:"_getTextureDataFromSource",value:function(){var y;return this.isFramebufferTexture?y=this.src.rawTexture():this.isSrcP5Image?y=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?y=this.src.elt:this.isImageData&&(y=this.src),y}},{key:"init",value:function(y){var O,$=this._renderer.GL;this.isFramebufferTexture||(this.glTex=$.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,this.glMagFilter),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata?(O=new Uint8Array([1,1,1,1]),$.texImage2D(this.glTarget,0,$.RGBA,1,1,0,this.glFormat,this.glDataType,O)):$.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,y))}},{key:"update",value:function(){var y,O,$,N=this.src;return 0!==N.width&&0!==N.height&&!this.isFramebufferTexture&&(y=this._getTextureDataFromSource(),O=!1,$=this._renderer.GL,y.width!==this.width||y.height!==this.height?(O=!0,this.width=y.width||N.width,this.height=y.height||N.height,this.isSrcP5Image?N.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&N.setModified(!0)):this.isSrcP5Image?N.isModified()&&N.setModified(!(O=!0)):this.isSrcMediaElement?N.isModified()?N.setModified(!(O=!0)):N.loadedmetadata&&this._videoPrevUpdateTime!==N.time()&&(this._videoPrevUpdateTime=N.time(),O=!0):this.isImageData?N._dirty&&(O=!(N._dirty=!1)):O=!0,O&&(this.bindTexture(),$.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,y)),O)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(y,O){var $=this._renderer.GL;this.glMinFilter=this.glFilter(y),this.glMagFilter=this.glFilter(O),this.bindTexture(),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,this.glMinFilter),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(y){var O=this._renderer.GL;return y===h.NEAREST?O.NEAREST:O.LINEAR}},{key:"setWrapMode",value:function(y,O){function $(V){return 0==(V&V-1)}var N=this._renderer.GL,j=(j=this._getTextureDataFromSource()).naturalWidth&&j.naturalHeight?(P=j.naturalWidth,j.naturalHeight):(P=this.width,this.height),P=$(P);j=$(j),y===h.REPEAT?this._renderer.webglVersion===h.WEBGL2||P&&j?this.glWrapS=N.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=N.CLAMP_TO_EDGE):y===h.MIRROR?this._renderer.webglVersion===h.WEBGL2||P&&j?this.glWrapS=N.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=N.CLAMP_TO_EDGE):this.glWrapS=N.CLAMP_TO_EDGE,O===h.REPEAT?this._renderer.webglVersion===h.WEBGL2||P&&j?this.glWrapT=N.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=N.CLAMP_TO_EDGE):O===h.MIRROR?this._renderer.webglVersion===h.WEBGL2||P&&j?this.glWrapT=N.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=N.CLAMP_TO_EDGE):this.glWrapT=N.CLAMP_TO_EDGE,this.bindTexture(),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_S,this.glWrapS),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),p}();var s=function(p){var y=$;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),p&&w(y,p);var O=function a(p){return function(){var y,O=l(p);if(y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(y=l(this).constructor,Reflect.construct(O,arguments,y)):O.apply(this,arguments),O=this,!y||"object"!==_(y)&&"function"!=typeof y){if(void 0!==O)return O;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return y}}($);function $(N,P,j){return d(this,$),P=(N=O.call(this,N,P,j))._renderer.GL,N.glMinFilter===P.LINEAR&&(N.glMinFilter=P.LINEAR_MIPMAP_LINEAR),N}return c($,[{key:"glFilter",value:function(N){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(N){var P=this._renderer.GL;this.glTex=P.createTexture(),this.bindTexture();for(var j=0;j<N.length;j++)P.texImage2D(this.glTarget,j,this.glFormat,this.glFormat,this.glDataType,N[j]);this.glMinFilter=P.LINEAR_MIPMAP_LINEAR,P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,this.glMagFilter),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),$}(f.default.Texture);function m(N){var y=N.GL,O=(N=N.webglVersion)===h.WEBGL2?y.getExtension("EXT_color_buffer_float")&&y.getExtension("EXT_float_blend"):y.getExtension("OES_texture_float");return{float:O,floatLinear:O&&y.getExtension("OES_texture_float_linear"),halfFloat:N=y.getExtension(N===h.WEBGL2?"EXT_color_buffer_float":"OES_texture_half_float"),halfFloatLinear:N&&y.getExtension("OES_texture_half_float_linear")}}S.MipmapTexture=s,S.default=r=f.default.Texture},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],340:[function(r,W,S){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}function _(p){return(_="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(y){return v(y)}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":v(y)})(p)}r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.get-own-property-descriptor"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.sub"),r("core-js/modules/es.weak-map"),r("core-js/modules/web.dom-collections.iterator"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.description"),r("core-js/modules/es.symbol.iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.object.to-string"),r("core-js/modules/es.regexp.exec"),r("core-js/modules/es.string.iterator"),r("core-js/modules/es.string.split"),r("core-js/modules/es.string.sub"),r("core-js/modules/web.dom-collections.iterator");var f,h=(f=r("../core/main"))&&f.__esModule?f:{default:f},x=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==_(p)&&"function"!=typeof p)return{default:p};var y=w();if(y&&y.has(p))return y.get(p);var O,$={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in p){var P;Object.prototype.hasOwnProperty.call(p,O)&&((P=N?Object.getOwnPropertyDescriptor(p,O):null)&&(P.get||P.set)?Object.defineProperty($,O,P):$[O]=p[O])}return $.default=p,y&&y.set(p,$),$}(r("../core/constants"));function w(){var p;return"function"!=typeof WeakMap?null:(w=function(){return p},p=new WeakMap)}function a(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function l(p,y){for(var O=0;O<y.length;O++){var $=y[O];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(p,$.key,$)}}function d(p,y,O){y&&l(p.prototype,y),O&&l(p,O)}r("./p5.Shader"),r("./p5.RendererGL.Retained"),h.default.RendererGL.prototype._applyTextProperties=function(){},h.default.RendererGL.prototype.textWidth=function(p){return this._isOpenType()?this._textFont._textWidth(p,this._textSize):0};var u=function(){function p(y,O){a(this,p),this.width=y,this.height=O,this.infos=[]}return d(p,[{key:"findImage",value:function(y){var O,$,N=this.width*this.height;if(N<y)throw new Error("font is too complex to render in 3D");for(var P=this.infos.length-1;0<=P;--P){var j=this.infos[P];if(j.index+y<N){$=(O=j).imageData;break}}if(!O){try{$=new ImageData(this.width,this.height)}catch{var V=document.getElementsByTagName("canvas")[0],k=!V,E=(V||((V=document.createElement("canvas")).style.display="none",document.body.appendChild(V)),V.getContext("2d"));E&&($=E.createImageData(this.width,this.height)),k&&document.body.removeChild(V)}this.infos.push(O={index:0,imageData:$})}return E=O.index,O.index+=y,$._dirty=!0,{imageData:$,index:E}}}]),p}();function c(j,y,O,$,N){var P=j.imageData.data;j=4*j.index++,P[j++]=y,P[j++]=O,P[j++]=$,P[+j]=N}var s=Math.sqrt(3),m=function(){function p(y){a(this,p),this.font=y,this.strokeImageInfos=new u(64,64),this.colDimImageInfos=new u(64,64),this.rowDimImageInfos=new u(64,64),this.colCellImageInfos=new u(64,64),this.rowCellImageInfos=new u(64,64),this.glyphInfos={}}return d(p,[{key:"getGlyphInfo",value:function(y){var O=this.glyphInfos[y.index];if(!O){var $=y.getBoundingBox(),N=$.x1,P=$.y1,j=$.x2-N,V=$.y2-P,k=y.path.commands;if(0==j||0==V||!k.length)return this.glyphInfos[y.index]={};for(var E=[],T=[],H=[],X=8;0<=X;--X)H.push([]);for(X=8;0<=X;--X)T.push([]);var z,te,J,q,ne=function(){function sn(Ht,Tt,Jt,bt){a(this,sn),this.p0=Ht,this.c0=Tt,this.c1=Jt,this.p1=bt}return d(sn,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return h.default.Vector.sub(h.default.Vector.sub(this.p1,this.p0),h.default.Vector.mult(h.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(zt){var Tt=h.default.Vector.lerp(this.p0,this.c0,zt),bt=h.default.Vector.lerp(this.c0,this.c1,zt),Jt=h.default.Vector.lerp(Tt,bt,zt);return this.c1=h.default.Vector.lerp(this.c1,this.p1,zt),this.c0=h.default.Vector.lerp(bt,this.c1,zt),bt=h.default.Vector.lerp(Jt,this.c0,zt),zt=new sn(this.p0,Tt,Jt,bt),this.p0=bt,zt}},{key:"splitInflections",value:function(){var Ht=h.default.Vector.sub(this.c0,this.p0),Tt=h.default.Vector.sub(h.default.Vector.sub(this.c1,this.c0),Ht),Jt=h.default.Vector.sub(h.default.Vector.sub(h.default.Vector.sub(this.p1,this.c1),Ht),h.default.Vector.mult(Tt,2)),bt=[],zt=Tt.x*Jt.y-Tt.y*Jt.x;return 0!==zt&&0<=(Ht=(Jt=Ht.x*Jt.y-Ht.y*Jt.x)*Jt-4*zt*(Ht.x*Tt.y-Ht.y*Tt.x))&&(zt<0&&(zt=-zt,Jt=-Jt),Ht=(-Jt+(Tt=Math.sqrt(Ht)))/(2*zt),0<(Jt=(-Jt-Tt)/(2*zt))&&Jt<1&&(bt.push(this.split(Jt)),Ht=1-(1-Ht)/(1-Jt)),0<Ht&&Ht<1&&bt.push(this.split(Ht))),bt.push(this),bt}}]),sn}(),de=!0,De=!1,Y=void 0;try{for(var R,se=k[Symbol.iterator]();!(de=(R=se.next()).done);de=!0){var pe=R.value,Ee=(pe.x-N)/j,Ne=(pe.y-P)/V;if(!Lt(z,te,Ee,Ne)){switch(pe.type){case"M":J=Ee,q=Ne;break;case"L":qt(z,te,Ee,Ne);break;case"Q":var We=(pe.x1-N)/j,et=(pe.y1-P)/V;ft([z,Ee,We],[te,Ne,et],{x:z,y:te,cx:We,cy:et});break;case"Z":Lt(z,te,J,q)?E.push({x:z,y:te}):(qt(z,te,J,q),E.push({x:J,y:q}));break;case"C":for(var Ae=function(Ge,jt,Gt,Jt,bt,zt,Et,Pe){Ge=new ne(new h.default.Vector(Ge,jt),new h.default.Vector(Gt,Jt),new h.default.Vector(bt,zt),new h.default.Vector(Et,Pe)).splitInflections();var Ie=[],ze=30/s,wt=!0;jt=!1,Gt=void 0;try{for(var an,_n=Ge[Symbol.iterator]();!(wt=(an=_n.next()).done);wt=!0){for(var wn=an.value,Dt=[],xt=void 0;!(.125<=(xt=ze/wn.quadError()));){var ot=Math.pow(xt,.3333333333333333),Ye=wn.split(ot),ct=wn.split(1-ot/(1-ot));Ie.push(Ye),Dt.push(wn),wn=ct}xt<1&&Ie.push(wn.split(.5)),Ie.push(wn),Array.prototype.push.apply(Ie,Dt.reverse())}}catch(Ct){jt=!0,Gt=Ct}finally{try{wt||null==_n.return||_n.return()}finally{if(jt)throw Gt}}return Ie}(z,te,(pe.x1-N)/j,(pe.y1-P)/V,(pe.x2-N)/j,(pe.y2-P)/V,Ee,Ne),Be=0;Be<Ae.length;Be++){var Fe=Ae[Be].toQuadratic();ft([Fe.x,Fe.x1,Fe.cx],[Fe.y,Fe.y1,Fe.cy],Fe)}break;default:throw new Error("unknown command type: ".concat(pe.type))}z=Ee,te=Ne}}}catch(sn){De=!0,Y=sn}finally{try{de||null==se.return||se.return()}finally{if(De)throw Y}}for(var Oe=E.length,Ze=this.strokeImageInfos.findImage(Oe),Qe=Ze.index,vt=0;vt<Oe;++vt){var ht=E[vt];c(Ze,kt(ht.x),kt(ht.y),kt(ht.cx),kt(ht.cy))}(O=this.glyphInfos[y.index]={glyph:y,uGlyphRect:[$.x1,-$.y1,$.x2,-$.y2],strokeImageInfo:Ze,strokes:E,colInfo:ln(H,this.colDimImageInfos,this.colCellImageInfos),rowInfo:ln(T,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[O.colInfo.dimOffset,O.rowInfo.dimOffset]}return O;function ft(sn,Ht,Tt){var Jt=E.length;function bt(Ie,ze,wt){for(var jt=Ie.length;0<jt--;){var Gt=Ie[jt];Gt<ze&&(ze=Gt),wt<Gt&&(wt=Gt)}return{min:ze,max:wt}}E.push(Tt),Tt=bt(sn,1,0),sn=Math.max(Math.floor(9*Tt.min-.5),0);for(var zt=Math.min(Math.ceil(9*Tt.max+.5),9),Et=sn;Et<zt;++Et)H[Et].push(Jt);Tt=bt(Ht,1,0),sn=Math.max(Math.floor(9*Tt.min-.5),0);for(var Pe=Math.min(Math.ceil(9*Tt.max+.5),9),Ge=sn;Ge<Pe;++Ge)T[Ge].push(Jt)}function kt(sn){return(sn=255*sn)<0?0:255<sn?255:sn}function qt(sn,Ht,Tt,Jt){ft([sn,Tt],[Ht,Jt],{x:sn,y:Ht,cx:(sn+Tt)/2,cy:(Ht+Jt)/2})}function Lt(sn,Ht,Tt,Jt){return Math.abs(Tt-sn)<1e-5&&Math.abs(Jt-Ht)<1e-5}function ln(sn,Ht,Tt){for(var Jt=sn.length,bt=Ht.findImage(Jt),zt=(Ht=bt.index,0),Et=0;Et<Jt;++Et)zt+=sn[Et].length;for(var Pe=Tt.findImage(zt),Ge=0;Ge<Jt;++Ge){var Ie=sn[Ge],ze=Ie.length,wt=Pe.index;c(bt,wt>>7,127&wt,ze>>7,127&ze);for(var jt=0;jt<ze;++jt){var Gt=Ie[jt]+Qe;c(Pe,Gt>>7,127&Gt,0,0)}}return{cellImageInfo:Pe,dimOffset:Ht,dimImageInfo:bt}}}}]),p}();h.default.RendererGL.prototype._renderText=function(p,y,O,$,N){if(this._textFont&&"string"!=typeof this._textFont){if(!(N<=$)&&this._doFill){if(this._isOpenType()){p.push(),N=this._doStroke;var P=this.drawMode,j=(this._doStroke=!1,this.drawMode=x.TEXTURE,this._textFont.font),V=(V=this._textFont._fontInfo)||(this._textFont._fontInfo=new m(j)),k=(O=this._textFont._handleAlignment(this,y,O,$),$=this._textSize/j.unitsPerEm,this.translate(O.x,O.y,0),this.scale($,$,1),this.GL),E=(O=!this._defaultFontShader,this._getFontShader()),T=(E.init(),E.bindShader(),O&&(E.setUniform("uGridImageSize",[64,64]),E.setUniform("uCellsImageSize",[64,64]),E.setUniform("uStrokeImageSize",[64,64]),E.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),H=(T||(($=this._textGeom=new h.default.Geometry(1,1,function(){for(var Be=0;Be<=1;Be++)for(var Fe=0;Fe<=1;Fe++)this.vertices.push(new h.default.Vector(Fe,Be,0)),this.uvs.push(Fe,Be)})).computeFaces().computeNormals(),T=this.createBuffers("glyph",$)),!0);O=!1,$=void 0;try{for(var X,z=this.retainedMode.buffers.text[Symbol.iterator]();!(H=(X=z.next()).done);H=!0)X.value._prepareBuffer(T,E)}catch(Be){O=!0,$=Be}finally{try{H||null==z.return||z.return()}finally{if(O)throw $}}this._bindBuffer(T.indexBuffer,k.ELEMENT_ARRAY_BUFFER),E.setUniform("uMaterialColor",this.curFillColor),k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var te=0,J=null,q=j.stringToGlyphs(y),ne=!0,de=!1,De=void 0;try{for(var Y,R=q[Symbol.iterator]();!(ne=(Y=R.next()).done);ne=!0){var se,pe,Ee=Y.value,Ne=(J&&(te+=j.getKerningValue(J,Ee)),V.getGlyphInfo(Ee));Ne.uGlyphRect&&(se=Ne.rowInfo,pe=Ne.colInfo,E.setUniform("uSamplerStrokes",Ne.strokeImageInfo.imageData),E.setUniform("uSamplerRowStrokes",se.cellImageInfo.imageData),E.setUniform("uSamplerRows",se.dimImageInfo.imageData),E.setUniform("uSamplerColStrokes",pe.cellImageInfo.imageData),E.setUniform("uSamplerCols",pe.dimImageInfo.imageData),E.setUniform("uGridOffset",Ne.uGridOffset),E.setUniform("uGlyphRect",Ne.uGlyphRect),E.setUniform("uGlyphOffset",te),E.bindTextures(),k.drawElements(k.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),te+=Ee.advanceWidth,J=Ee}}catch(Be){de=!0,De=Be}finally{try{ne||null==R.return||R.return()}finally{if(de)throw De}}}finally{E.unbindShader(),this._doStroke=N,this.drawMode=P,k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),p.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return p}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":269,"../core/main":280,"./p5.RendererGL.Retained":336,"./p5.Shader":338,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}]},{},[264])(264)},4972:(fn,Pt,me)=>{function b(a){this.mode=nt.MODE_8BIT_BYTE,this.data=a,this.parsedData=[];for(var l=0,d=this.data.length;l<d;l++){var u=[],c=this.data.charCodeAt(l);c>65536?(u[0]=240|(1835008&c)>>>18,u[1]=128|(258048&c)>>>12,u[2]=128|(4032&c)>>>6,u[3]=128|63&c):c>2048?(u[0]=224|(61440&c)>>>12,u[1]=128|(4032&c)>>>6,u[2]=128|63&c):c>128?(u[0]=192|(1984&c)>>>6,u[1]=128|63&c):u[0]=c,this.parsedData.push(u)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function we(a,l){this.typeNumber=a,this.errorCorrectLevel=l,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}b.prototype={getLength:function(a){return this.parsedData.length},write:function(a){for(var l=0,d=this.parsedData.length;l<d;l++)a.put(this.parsedData[l],8)}},we.prototype={addData:function(a){var l=new b(a);this.dataList.push(l),this.dataCache=null},isDark:function(a,l){if(a<0||this.moduleCount<=a||l<0||this.moduleCount<=l)throw new Error(a+","+l);return this.modules[a][l]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,l){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var u=0;u<this.moduleCount;u++)this.modules[d][u]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,l),this.typeNumber>=7&&this.setupTypeNumber(a),null==this.dataCache&&(this.dataCache=we.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,l)},setupPositionProbePattern:function(a,l){for(var d=-1;d<=7;d++)if(!(a+d<=-1||this.moduleCount<=a+d))for(var u=-1;u<=7;u++)l+u<=-1||this.moduleCount<=l+u||(this.modules[a+d][l+u]=0<=d&&d<=6&&(0==u||6==u)||0<=u&&u<=6&&(0==d||6==d)||2<=d&&d<=4&&2<=u&&u<=4)},getBestMaskPattern:function(){for(var a=0,l=0,d=0;d<8;d++){this.makeImpl(!0,d);var u=W.getLostPoint(this);(0==d||a>u)&&(a=u,l=d)}return l},createMovieClip:function(a,l,d){var u=a.createEmptyMovieClip(l,d);this.make();for(var s=0;s<this.modules.length;s++)for(var m=1*s,p=0;p<this.modules[s].length;p++){var y=1*p;this.modules[s][p]&&(u.beginFill(0,100),u.moveTo(y,m),u.lineTo(y+1,m),u.lineTo(y+1,m+1),u.lineTo(y,m+1),u.endFill())}return u},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=a%2==0);for(var l=8;l<this.moduleCount-8;l++)null==this.modules[6][l]&&(this.modules[6][l]=l%2==0)},setupPositionAdjustPattern:function(){for(var a=W.getPatternPosition(this.typeNumber),l=0;l<a.length;l++)for(var d=0;d<a.length;d++){var u=a[l],c=a[d];if(null==this.modules[u][c])for(var s=-2;s<=2;s++)for(var m=-2;m<=2;m++)this.modules[u+s][c+m]=-2==s||2==s||-2==m||2==m||0==s&&0==m}},setupTypeNumber:function(a){for(var l=W.getBCHTypeNumber(this.typeNumber),d=0;d<18;d++){var u=!a&&1==(l>>d&1);this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=u}for(d=0;d<18;d++)u=!a&&1==(l>>d&1),this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=u},setupTypeInfo:function(a,l){for(var u=W.getBCHTypeInfo(this.errorCorrectLevel<<3|l),c=0;c<15;c++){var s=!a&&1==(u>>c&1);c<6?this.modules[c][8]=s:c<8?this.modules[c+1][8]=s:this.modules[this.moduleCount-15+c][8]=s}for(c=0;c<15;c++)s=!a&&1==(u>>c&1),c<8?this.modules[8][this.moduleCount-c-1]=s:c<9?this.modules[8][15-c-1+1]=s:this.modules[8][15-c-1]=s;this.modules[this.moduleCount-8][8]=!a},mapData:function(a,l){for(var d=-1,u=this.moduleCount-1,c=7,s=0,m=this.moduleCount-1;m>0;m-=2)for(6==m&&m--;;){for(var p=0;p<2;p++)if(null==this.modules[u][m-p]){var y=!1;s<a.length&&(y=1==(a[s]>>>c&1)),W.getMask(l,u,m-p)&&(y=!y),this.modules[u][m-p]=y,-1==--c&&(s++,c=7)}if((u+=d)<0||this.moduleCount<=u){u-=d,d=-d;break}}}},we.PAD0=236,we.PAD1=17,we.createData=function(a,l,d){for(var u=f.getRSBlocks(a,l),c=new h,s=0;s<d.length;s++){var m=d[s];c.put(m.mode,4),c.put(m.getLength(),W.getLengthInBits(m.mode,a)),m.write(c)}var p=0;for(s=0;s<u.length;s++)p+=u[s].dataCount;if(c.getLengthInBits()>8*p)throw new Error("code length overflow. ("+c.getLengthInBits()+">"+8*p+")");for(c.getLengthInBits()+4<=8*p&&c.put(0,4);c.getLengthInBits()%8!=0;)c.putBit(!1);for(;!(c.getLengthInBits()>=8*p||(c.put(we.PAD0,8),c.getLengthInBits()>=8*p));)c.put(we.PAD1,8);return we.createBytes(c,u)},we.createBytes=function(a,l){for(var d=0,u=0,c=0,s=new Array(l.length),m=new Array(l.length),p=0;p<l.length;p++){var y=l[p].dataCount,O=l[p].totalCount-y;u=Math.max(u,y),c=Math.max(c,O),s[p]=new Array(y);for(var $=0;$<s[p].length;$++)s[p][$]=255&a.buffer[$+d];d+=y;var N=W.getErrorCorrectPolynomial(O),j=new _(s[p],N.getLength()-1).mod(N);for(m[p]=new Array(N.getLength()-1),$=0;$<m[p].length;$++){var V=$+j.getLength()-m[p].length;m[p][$]=V>=0?j.get(V):0}}var k=0;for($=0;$<l.length;$++)k+=l[$].totalCount;var E=new Array(k),T=0;for($=0;$<u;$++)for(p=0;p<l.length;p++)$<s[p].length&&(E[T++]=s[p][$]);for($=0;$<c;$++)for(p=0;p<l.length;p++)$<m[p].length&&(E[T++]=m[p][$]);return E};for(var nt={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},_e={L:1,M:0,Q:3,H:2},r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},W={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var l=a<<10;W.getBCHDigit(l)-W.getBCHDigit(W.G15)>=0;)l^=W.G15<<W.getBCHDigit(l)-W.getBCHDigit(W.G15);return(a<<10|l)^W.G15_MASK},getBCHTypeNumber:function(a){for(var l=a<<12;W.getBCHDigit(l)-W.getBCHDigit(W.G18)>=0;)l^=W.G18<<W.getBCHDigit(l)-W.getBCHDigit(W.G18);return a<<12|l},getBCHDigit:function(a){for(var l=0;0!=a;)l++,a>>>=1;return l},getPatternPosition:function(a){return W.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,l,d){switch(a){case r.PATTERN000:return(l+d)%2==0;case r.PATTERN001:return l%2==0;case r.PATTERN010:return d%3==0;case r.PATTERN011:return(l+d)%3==0;case r.PATTERN100:return(Math.floor(l/2)+Math.floor(d/3))%2==0;case r.PATTERN101:return l*d%2+l*d%3==0;case r.PATTERN110:return(l*d%2+l*d%3)%2==0;case r.PATTERN111:return(l*d%3+(l+d)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var l=new _([1],0),d=0;d<a;d++)l=l.multiply(new _([1,S.gexp(d)],0));return l},getLengthInBits:function(a,l){if(1<=l&&l<10)switch(a){case nt.MODE_NUMBER:return 10;case nt.MODE_ALPHA_NUM:return 9;case nt.MODE_8BIT_BYTE:case nt.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(l<27)switch(a){case nt.MODE_NUMBER:return 12;case nt.MODE_ALPHA_NUM:return 11;case nt.MODE_8BIT_BYTE:return 16;case nt.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else{if(!(l<41))throw new Error("type:"+l);switch(a){case nt.MODE_NUMBER:return 14;case nt.MODE_ALPHA_NUM:return 13;case nt.MODE_8BIT_BYTE:return 16;case nt.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}}},getLostPoint:function(a){for(var l=a.getModuleCount(),d=0,u=0;u<l;u++)for(var c=0;c<l;c++){for(var s=0,m=a.isDark(u,c),p=-1;p<=1;p++)if(!(u+p<0||l<=u+p))for(var y=-1;y<=1;y++)c+y<0||l<=c+y||0==p&&0==y||m==a.isDark(u+p,c+y)&&s++;s>5&&(d+=3+s-5)}for(u=0;u<l-1;u++)for(c=0;c<l-1;c++){var O=0;a.isDark(u,c)&&O++,a.isDark(u+1,c)&&O++,a.isDark(u,c+1)&&O++,a.isDark(u+1,c+1)&&O++,(0==O||4==O)&&(d+=3)}for(u=0;u<l;u++)for(c=0;c<l-6;c++)a.isDark(u,c)&&!a.isDark(u,c+1)&&a.isDark(u,c+2)&&a.isDark(u,c+3)&&a.isDark(u,c+4)&&!a.isDark(u,c+5)&&a.isDark(u,c+6)&&(d+=40);for(c=0;c<l;c++)for(u=0;u<l-6;u++)a.isDark(u,c)&&!a.isDark(u+1,c)&&a.isDark(u+2,c)&&a.isDark(u+3,c)&&a.isDark(u+4,c)&&!a.isDark(u+5,c)&&a.isDark(u+6,c)&&(d+=40);var $=0;for(c=0;c<l;c++)for(u=0;u<l;u++)a.isDark(u,c)&&$++;return d+Math.abs(100*$/l/l-50)/5*10}},S={glog:function(a){if(a<1)throw new Error("glog("+a+")");return S.LOG_TABLE[a]},gexp:function(a){for(;a<0;)a+=255;for(;a>=256;)a-=255;return S.EXP_TABLE[a]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},v=0;v<8;v++)S.EXP_TABLE[v]=1<<v;for(v=8;v<256;v++)S.EXP_TABLE[v]=S.EXP_TABLE[v-4]^S.EXP_TABLE[v-5]^S.EXP_TABLE[v-6]^S.EXP_TABLE[v-8];for(v=0;v<255;v++)S.LOG_TABLE[S.EXP_TABLE[v]]=v;function _(a,l){if(null==a.length)throw new Error(a.length+"/"+l);for(var d=0;d<a.length&&0==a[d];)d++;this.num=new Array(a.length-d+l);for(var u=0;u<a.length-d;u++)this.num[u]=a[u+d]}function f(a,l){this.totalCount=a,this.dataCount=l}function h(){this.buffer=[],this.length=0}_.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var l=new Array(this.getLength()+a.getLength()-1),d=0;d<this.getLength();d++)for(var u=0;u<a.getLength();u++)l[d+u]^=S.gexp(S.glog(this.get(d))+S.glog(a.get(u)));return new _(l,0)},mod:function(a){if(this.getLength()-a.getLength()<0)return this;for(var l=S.glog(this.get(0))-S.glog(a.get(0)),d=new Array(this.getLength()),u=0;u<this.getLength();u++)d[u]=this.get(u);for(u=0;u<a.getLength();u++)d[u]^=S.gexp(S.glog(a.get(u))+l);return new _(d,0).mod(a)}},f.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],f.getRSBlocks=function(a,l){var d=f.getRsBlockTable(a,l);if(null==d)throw new Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+l);for(var u=d.length/3,c=[],s=0;s<u;s++)for(var m=d[3*s+0],p=d[3*s+1],y=d[3*s+2],O=0;O<m;O++)c.push(new f(p,y));return c},f.getRsBlockTable=function(a,l){switch(l){case _e.L:return f.RS_BLOCK_TABLE[4*(a-1)+0];case _e.M:return f.RS_BLOCK_TABLE[4*(a-1)+1];case _e.Q:return f.RS_BLOCK_TABLE[4*(a-1)+2];case _e.H:return f.RS_BLOCK_TABLE[4*(a-1)+3];default:return}},h.prototype={get:function(a){var l=Math.floor(a/8);return 1==(this.buffer[l]>>>7-a%8&1)},put:function(a,l){for(var d=0;d<l;d++)this.putBit(1==(a>>>l-d-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){var l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),a&&(this.buffer[l]|=128>>>this.length%8),this.length++}};var x=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function w(a){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof a&&(a={content:a}),a)for(var d in a)this.options[d]=a[d];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var m=this.options.content,p=function c(O,$){for(var N=function s(O){var $=encodeURI(O).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return $.length+($.length!=O?3:0)}(O),P=1,j=0,V=0,k=x.length;V<=k;V++){var E=x[V];if(!E)throw new Error("Content too long: expected "+j+" but got "+N);switch($){case"L":j=E[0];break;case"M":j=E[1];break;case"Q":j=E[2];break;case"H":j=E[3];break;default:throw new Error("Unknwon error correction level: "+$)}if(N<=j)break;P++}if(P>x.length)throw new Error("Content too long");return P}(m,this.options.ecl),y=function u(O){switch(O){case"L":return _e.L;case"M":return _e.M;case"Q":return _e.Q;case"H":return _e.H;default:throw new Error("Unknwon error correction level: "+O)}}(this.options.ecl);this.qrcode=new we(p,y),this.qrcode.addData(m),this.qrcode.make()}w.prototype.svg=function(a){var l=this.options||{},d=this.qrcode.modules;typeof a>"u"&&(a={container:l.container||"svg"});for(var u=!(typeof l.pretty<"u"&&!l.pretty),c=u?"  ":"",s=u?"\r\n":"",m=l.width,p=l.height,y=d.length,O=m/(y+2*l.padding),$=p/(y+2*l.padding),N=typeof l.join<"u"&&!!l.join,P=typeof l.swap<"u"&&!!l.swap,j=!(typeof l.xmlDeclaration<"u"&&!l.xmlDeclaration),V=typeof l.predefined<"u"&&!!l.predefined,k=V?c+'<defs><path id="qrmodule" d="M0 0 h'+$+" v"+O+' H0 z" style="fill:'+l.color+';shape-rendering:crispEdges;" /></defs>'+s:"",E=c+'<rect x="0" y="0" width="'+m+'" height="'+p+'" style="fill:'+l.background+';shape-rendering:crispEdges;"/>'+s,T="",H="",X=0;X<y;X++)for(var z=0;z<y;z++)if(d[z][X]){var J=z*O+l.padding*O,q=X*$+l.padding*$;if(P){var ne=J;J=q,q=ne}if(N){var de=O+J,De=$+q;J=Number.isInteger(J)?Number(J):J.toFixed(2),q=Number.isInteger(q)?Number(q):q.toFixed(2),de=Number.isInteger(de)?Number(de):de.toFixed(2),H+="M"+J+","+q+" V"+(De=Number.isInteger(De)?Number(De):De.toFixed(2))+" H"+de+" V"+q+" H"+J+" Z "}else T+=V?c+'<use x="'+J.toString()+'" y="'+q.toString()+'" href="#qrmodule" />'+s:c+'<rect x="'+J.toString()+'" y="'+q.toString()+'" width="'+O+'" height="'+$+'" style="fill:'+l.color+';shape-rendering:crispEdges;"/>'+s}N&&(T=c+'<path x="0" y="0" style="fill:'+l.color+';shape-rendering:crispEdges;" d="'+H+'" />');var Y="";switch(a.container){case"svg":j&&(Y+='<?xml version="1.0" standalone="yes"?>'+s),Y+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+m+'" height="'+p+'">'+s,Y+=k+E+T,Y+="</svg>";break;case"svg-viewbox":j&&(Y+='<?xml version="1.0" standalone="yes"?>'+s),Y+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+m+" "+p+'">'+s,Y+=k+E+T,Y+="</svg>";break;case"g":Y+='<g width="'+m+'" height="'+p+'">'+s,Y+=k+E+T,Y+="</g>";break;default:Y+=(k+E+T).replace(/^\s+/,"")}return Y},w.prototype.save=function(a,l){var d=this.svg();"function"!=typeof l&&(l=function(c,s){});try{me(Object(function(){var s=new Error("Cannot find module 'fs'");throw s.code="MODULE_NOT_FOUND",s}())).writeFile(a,d,l)}catch(c){l(c)}},fn.exports=w},6700:(fn,Pt,me)=>{"use strict";me.d(Pt,{g:()=>we});var b=me(5657);class we extends b.E{constructor(_e){super(),this._value=_e}get value(){return this.getValue()}_subscribe(_e){const r=super._subscribe(_e);return!r.closed&&_e.next(this._value),r}getValue(){const{hasError:_e,thrownError:r,_value:W}=this;if(_e)throw r;return this._throwIfClosed(),W}next(_e){super.next(this._value=_e)}}},3252:(fn,Pt,me)=>{"use strict";me.d(Pt,{_:()=>v});var b=me(1760),we=me(4548),nt=me(472),_e=me(3928),r=me(4491),W=me(8880),S=me(2075);let v=(()=>{class x{constructor(a){a&&(this._subscribe=a)}lift(a){const l=new x;return l.source=this,l.operator=a,l}subscribe(a,l,d){const u=function h(x){return x&&x instanceof b.yR||function f(x){return x&&(0,W.m)(x.next)&&(0,W.m)(x.error)&&(0,W.m)(x.complete)}(x)&&(0,we.GI)(x)}(a)?a:new b.ot(a,l,d);return(0,S.c)(()=>{const{operator:c,source:s}=this;u.add(c?c.call(u,s):s?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(a){try{return this._subscribe(a)}catch(l){a.error(l)}}forEach(a,l){return new(l=_(l))((d,u)=>{const c=new b.ot({next:s=>{try{a(s)}catch(m){u(m),c.unsubscribe()}},error:u,complete:d});this.subscribe(c)})}_subscribe(a){var l;return null===(l=this.source)||void 0===l?void 0:l.subscribe(a)}[nt.a](){return this}pipe(...a){return(0,_e.Y)(a)(this)}toPromise(a){return new(a=_(a))((l,d)=>{let u;this.subscribe(c=>u=c,c=>d(c),()=>l(u))})}}return x.create=w=>new x(w),x})();function _(x){var w;return null!==(w=null!=x?x:r.config.Promise)&&void 0!==w?w:Promise}},5657:(fn,Pt,me)=>{"use strict";me.d(Pt,{E:()=>S});var b=me(3252),we=me(4548);const _e=(0,me(4912).w)(_=>function(){_(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var r=me(1248),W=me(2075);let S=(()=>{class _ extends b._{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(h){const x=new v(this,this);return x.operator=h,x}_throwIfClosed(){if(this.closed)throw new _e}next(h){(0,W.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const x of this.currentObservers)x.next(h)}})}error(h){(0,W.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=h;const{observers:x}=this;for(;x.length;)x.shift().error(h)}})}complete(){(0,W.c)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:h}=this;for(;h.length;)h.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var h;return(null===(h=this.observers)||void 0===h?void 0:h.length)>0}_trySubscribe(h){return this._throwIfClosed(),super._trySubscribe(h)}_subscribe(h){return this._throwIfClosed(),this._checkFinalizedStatuses(h),this._innerSubscribe(h)}_innerSubscribe(h){const{hasError:x,isStopped:w,observers:a}=this;return x||w?we.au:(this.currentObservers=null,a.push(h),new we.wH(()=>{this.currentObservers=null,(0,r.k)(a,h)}))}_checkFinalizedStatuses(h){const{hasError:x,thrownError:w,isStopped:a}=this;x?h.error(w):a&&h.complete()}asObservable(){const h=new b._;return h.source=this,h}}return _.create=(f,h)=>new v(f,h),_})();class v extends S{constructor(f,h){super(),this.destination=f,this.source=h}next(f){var h,x;null===(x=null===(h=this.destination)||void 0===h?void 0:h.next)||void 0===x||x.call(h,f)}error(f){var h,x;null===(x=null===(h=this.destination)||void 0===h?void 0:h.error)||void 0===x||x.call(h,f)}complete(){var f,h;null===(h=null===(f=this.destination)||void 0===f?void 0:f.complete)||void 0===h||h.call(f)}_subscribe(f){var h,x;return null!==(x=null===(h=this.source)||void 0===h?void 0:h.subscribe(f))&&void 0!==x?x:we.au}}},1760:(fn,Pt,me)=>{"use strict";me.d(Pt,{ot:()=>d,yR:()=>x});var b=me(8880),we=me(4548),nt=me(4491),_e=me(1984),r=me(308);const W=_("C",void 0,void 0);function _(p,y,O){return{kind:p,value:y,error:O}}var f=me(3376),h=me(2075);class x extends we.wH{constructor(y){super(),this.isStopped=!1,y?(this.destination=y,(0,we.GI)(y)&&y.add(this)):this.destination=m}static create(y,O,$){return new d(y,O,$)}next(y){this.isStopped?s(function v(p){return _("N",p,void 0)}(y),this):this._next(y)}error(y){this.isStopped?s(function S(p){return _("E",void 0,p)}(y),this):(this.isStopped=!0,this._error(y))}complete(){this.isStopped?s(W,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(y){this.destination.next(y)}_error(y){try{this.destination.error(y)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const w=Function.prototype.bind;function a(p,y){return w.call(p,y)}class l{constructor(y){this.partialObserver=y}next(y){const{partialObserver:O}=this;if(O.next)try{O.next(y)}catch($){u($)}}error(y){const{partialObserver:O}=this;if(O.error)try{O.error(y)}catch($){u($)}else u(y)}complete(){const{partialObserver:y}=this;if(y.complete)try{y.complete()}catch(O){u(O)}}}class d extends x{constructor(y,O,$){let N;if(super(),(0,b.m)(y)||!y)N={next:null!=y?y:void 0,error:null!=O?O:void 0,complete:null!=$?$:void 0};else{let P;this&&nt.config.useDeprecatedNextContext?(P=Object.create(y),P.unsubscribe=()=>this.unsubscribe(),N={next:y.next&&a(y.next,P),error:y.error&&a(y.error,P),complete:y.complete&&a(y.complete,P)}):N=y}this.destination=new l(N)}}function u(p){nt.config.useDeprecatedSynchronousErrorHandling?(0,h.q)(p):(0,_e.U)(p)}function s(p,y){const{onStoppedNotification:O}=nt.config;O&&f.u.setTimeout(()=>O(p,y))}const m={closed:!0,next:r.K,error:function c(p){throw p},complete:r.K}},4548:(fn,Pt,me)=>{"use strict";me.d(Pt,{au:()=>W,wH:()=>r,GI:()=>S});var b=me(8880);const nt=(0,me(4912).w)(_=>function(h){_(this),this.message=h?`${h.length} errors occurred during unsubscription:\n${h.map((x,w)=>`${w+1}) ${x.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=h});var _e=me(1248);class r{constructor(f){this.initialTeardown=f,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let f;if(!this.closed){this.closed=!0;const{_parentage:h}=this;if(h)if(this._parentage=null,Array.isArray(h))for(const a of h)a.remove(this);else h.remove(this);const{initialTeardown:x}=this;if((0,b.m)(x))try{x()}catch(a){f=a instanceof nt?a.errors:[a]}const{_finalizers:w}=this;if(w){this._finalizers=null;for(const a of w)try{v(a)}catch(l){f=null!=f?f:[],l instanceof nt?f=[...f,...l.errors]:f.push(l)}}if(f)throw new nt(f)}}add(f){var h;if(f&&f!==this)if(this.closed)v(f);else{if(f instanceof r){if(f.closed||f._hasParent(this))return;f._addParent(this)}(this._finalizers=null!==(h=this._finalizers)&&void 0!==h?h:[]).push(f)}}_hasParent(f){const{_parentage:h}=this;return h===f||Array.isArray(h)&&h.includes(f)}_addParent(f){const{_parentage:h}=this;this._parentage=Array.isArray(h)?(h.push(f),h):h?[h,f]:f}_removeParent(f){const{_parentage:h}=this;h===f?this._parentage=null:Array.isArray(h)&&(0,_e.k)(h,f)}remove(f){const{_finalizers:h}=this;h&&(0,_e.k)(h,f),f instanceof r&&f._removeParent(this)}}r.EMPTY=(()=>{const _=new r;return _.closed=!0,_})();const W=r.EMPTY;function S(_){return _ instanceof r||_&&"closed"in _&&(0,b.m)(_.remove)&&(0,b.m)(_.add)&&(0,b.m)(_.unsubscribe)}function v(_){(0,b.m)(_)?_():_.unsubscribe()}},4491:(fn,Pt,me)=>{"use strict";me.d(Pt,{config:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2376:(fn,Pt,me)=>{"use strict";me.d(Pt,{C:()=>W});var b=me(3252),we=me(4548),nt=me(8084),_e=me(7773),r=me(5448);class W extends b._{constructor(v,_){super(),this.source=v,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,r.e)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,null==v||v.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new we.wH;const _=this.getSubject();v.add(this.source.subscribe((0,_e.e)(_,void 0,()=>{this._teardown(),_.complete()},f=>{this._teardown(),_.error(f)},()=>this._teardown()))),v.closed&&(this._connection=null,v=we.wH.EMPTY)}return v}refCount(){return(0,nt.O)()(this)}}},6040:(fn,Pt,me)=>{"use strict";me.d(Pt,{E:()=>f});var b=me(3252),we=me(4300),nt=me(2115),_e=me(528),r=me(4187),W=me(6624),S=me(7904),v=me(7773),_=me(9399);function f(...w){const a=(0,W.e_)(w),l=(0,W.yu)(w),{args:d,keys:u}=(0,we.Q)(w);if(0===d.length)return(0,nt.Q)([],a);const c=new b._(function h(w,a,l=_e.Z){return d=>{x(a,()=>{const{length:u}=w,c=new Array(u);let s=u,m=u;for(let p=0;p<u;p++)x(a,()=>{const y=(0,nt.Q)(w[p],a);let O=!1;y.subscribe((0,v.e)(d,$=>{c[p]=$,O||(O=!0,m--),m||d.next(l(c.slice()))},()=>{--s||d.complete()}))},d)},d)}}(d,a,u?s=>(0,S.q)(u,s):_e.Z));return l?c.pipe((0,r.j)(l)):c}function x(w,a,l){w?(0,_._)(l,w,a):a()}},7228:(fn,Pt,me)=>{"use strict";me.d(Pt,{W:()=>r});var b=me(267),nt=me(6624),_e=me(2115);function r(...W){return function we(){return(0,b.u)(1)}()((0,_e.Q)(W,(0,nt.e_)(W)))}},1424:(fn,Pt,me)=>{"use strict";me.d(Pt,{Q:()=>nt});var b=me(3252),we=me(560);function nt(_e){return new b._(r=>{(0,we.Uv)(_e()).subscribe(r)})}},8960:(fn,Pt,me)=>{"use strict";me.d(Pt,{k:()=>we});const we=new(me(3252)._)(r=>r.complete())},2115:(fn,Pt,me)=>{"use strict";me.d(Pt,{Q:()=>$});var b=me(560),we=me(9399),nt=me(5448),_e=me(7773);function r(N,P=0){return(0,nt.i)((j,V)=>{j.subscribe((0,_e.e)(V,k=>(0,we._)(V,N,()=>V.next(k),P),()=>(0,we._)(V,N,()=>V.complete(),P),k=>(0,we._)(V,N,()=>V.error(k),P)))})}function W(N,P=0){return(0,nt.i)((j,V)=>{V.add(N.schedule(()=>j.subscribe(V),P))})}var _=me(3252),h=me(3835),x=me(8880);function a(N,P){if(!N)throw new Error("Iterable cannot be null");return new _._(j=>{(0,we._)(j,P,()=>{const V=N[Symbol.asyncIterator]();(0,we._)(j,P,()=>{V.next().then(k=>{k.done?j.complete():j.next(k.value)})},0,!0)})})}var l=me(5099),d=me(5432),u=me(5428),c=me(1688),s=me(376),m=me(8272),p=me(5832);function $(N,P){return P?function O(N,P){if(null!=N){if((0,l.O)(N))return function S(N,P){return(0,b.Uv)(N).pipe(W(P),r(P))}(N,P);if((0,u.G)(N))return function f(N,P){return new _._(j=>{let V=0;return P.schedule(function(){V===N.length?j.complete():(j.next(N[V++]),j.closed||this.schedule())})})}(N,P);if((0,d.u)(N))return function v(N,P){return(0,b.Uv)(N).pipe(W(P),r(P))}(N,P);if((0,s.E)(N))return a(N,P);if((0,c.i)(N))return function w(N,P){return new _._(j=>{let V;return(0,we._)(j,P,()=>{V=N[h.w](),(0,we._)(j,P,()=>{let k,E;try{({value:k,done:E}=V.next())}catch(T){return void j.error(T)}E?j.complete():j.next(k)},0,!0)}),()=>(0,x.m)(null==V?void 0:V.return)&&V.return()})}(N,P);if((0,p.K)(N))return function y(N,P){return a((0,p._)(N),P)}(N,P)}throw(0,m.W)(N)}(N,P):(0,b.Uv)(N)}},800:(fn,Pt,me)=>{"use strict";me.d(Pt,{w:()=>f});var b=me(560),we=me(3252),nt=me(7400),_e=me(5428),r=me(8880),W=me(4187);const S=["addListener","removeListener"],v=["addEventListener","removeEventListener"],_=["on","off"];function f(l,d,u,c){if((0,r.m)(u)&&(c=u,u=void 0),c)return f(l,d,u).pipe((0,W.j)(c));const[s,m]=function a(l){return(0,r.m)(l.addEventListener)&&(0,r.m)(l.removeEventListener)}(l)?v.map(p=>y=>l[p](d,y,u)):function x(l){return(0,r.m)(l.addListener)&&(0,r.m)(l.removeListener)}(l)?S.map(h(l,d)):function w(l){return(0,r.m)(l.on)&&(0,r.m)(l.off)}(l)?_.map(h(l,d)):[];if(!s&&(0,_e.G)(l))return(0,nt.O)(p=>f(p,d,u))((0,b.Uv)(l));if(!s)throw new TypeError("Invalid event target");return new we._(p=>{const y=(...O)=>p.next(1<O.length?O:O[0]);return s(y),()=>m(y)})}function h(l,d){return u=>c=>l[u](d,c)}},560:(fn,Pt,me)=>{"use strict";me.d(Pt,{Uv:()=>w});var b=me(1316),we=me(5428),nt=me(5432),_e=me(3252),r=me(5099),W=me(376),S=me(8272),v=me(1688),_=me(5832),f=me(8880),h=me(1984),x=me(472);function w(p){if(p instanceof _e._)return p;if(null!=p){if((0,r.O)(p))return function a(p){return new _e._(y=>{const O=p[x.a]();if((0,f.m)(O.subscribe))return O.subscribe(y);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(p);if((0,we.G)(p))return function l(p){return new _e._(y=>{for(let O=0;O<p.length&&!y.closed;O++)y.next(p[O]);y.complete()})}(p);if((0,nt.u)(p))return function d(p){return new _e._(y=>{p.then(O=>{y.closed||(y.next(O),y.complete())},O=>y.error(O)).then(null,h.U)})}(p);if((0,W.E)(p))return c(p);if((0,v.i)(p))return function u(p){return new _e._(y=>{for(const O of p)if(y.next(O),y.closed)return;y.complete()})}(p);if((0,_.K)(p))return function s(p){return c((0,_._)(p))}(p)}throw(0,S.W)(p)}function c(p){return new _e._(y=>{(function m(p,y){var O,$,N,P;return(0,b.kH)(this,void 0,void 0,function*(){try{for(O=(0,b.mA)(p);!($=yield O.next()).done;)if(y.next($.value),y.closed)return}catch(j){N={error:j}}finally{try{$&&!$.done&&(P=O.return)&&(yield P.call(O))}finally{if(N)throw N.error}}y.complete()})})(p,y).catch(O=>y.error(O))})}},2700:(fn,Pt,me)=>{"use strict";me.d(Pt,{of:()=>nt});var b=me(6624),we=me(2115);function nt(..._e){const r=(0,b.e_)(_e);return(0,we.Q)(_e,r)}},3800:(fn,Pt,me)=>{"use strict";me.d(Pt,{c:()=>nt});var b=me(3252),we=me(8880);function nt(_e,r){const W=(0,we.m)(_e)?_e:()=>_e,S=v=>v.error(W());return new b._(r?v=>r.schedule(S,0,v):S)}},7773:(fn,Pt,me)=>{"use strict";me.d(Pt,{e:()=>we});var b=me(1760);function we(_e,r,W,S,v){return new nt(_e,r,W,S,v)}class nt extends b.yR{constructor(r,W,S,v,_,f){super(r),this.onFinalize=_,this.shouldUnsubscribe=f,this._next=W?function(h){try{W(h)}catch(x){r.error(x)}}:super._next,this._error=v?function(h){try{v(h)}catch(x){r.error(x)}finally{this.unsubscribe()}}:super._error,this._complete=S?function(){try{S()}catch(h){r.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:W}=this;super.unsubscribe(),!W&&(null===(r=this.onFinalize)||void 0===r||r.call(this))}}}},6684:(fn,Pt,me)=>{"use strict";me.d(Pt,{I:()=>nt});var b=me(5448),we=me(7773);function nt(_e,r){return(0,b.i)((W,S)=>{let v=0;W.subscribe((0,we.e)(S,_=>_e.call(r,_,v++)&&S.next(_)))})}},4704:(fn,Pt,me)=>{"use strict";me.d(Pt,{k:()=>nt});var b=me(5448),we=me(7773);function nt(_e,r){return(0,b.i)((W,S)=>{let v=0;W.subscribe((0,we.e)(S,_=>{S.next(_e.call(r,_,v++))}))})}},320:(fn,Pt,me)=>{"use strict";me.d(Pt,{e:()=>we});var b=me(4704);function we(nt){return(0,b.k)(()=>nt)}},267:(fn,Pt,me)=>{"use strict";me.d(Pt,{u:()=>nt});var b=me(7400),we=me(528);function nt(_e=1/0){return(0,b.O)(we.Z,_e)}},7400:(fn,Pt,me)=>{"use strict";me.d(Pt,{O:()=>v});var b=me(4704),we=me(560),nt=me(5448),_e=me(9399),r=me(7773),S=me(8880);function v(_,f,h=1/0){return(0,S.m)(f)?v((x,w)=>(0,b.k)((a,l)=>f(x,a,w,l))((0,we.Uv)(_(x,w))),h):("number"==typeof f&&(h=f),(0,nt.i)((x,w)=>function W(_,f,h,x,w,a,l,d){const u=[];let c=0,s=0,m=!1;const p=()=>{m&&!u.length&&!c&&f.complete()},y=$=>c<x?O($):u.push($),O=$=>{a&&f.next($),c++;let N=!1;(0,we.Uv)(h($,s++)).subscribe((0,r.e)(f,P=>{null==w||w(P),a?y(P):f.next(P)},()=>{N=!0},void 0,()=>{if(N)try{for(c--;u.length&&c<x;){const P=u.shift();l?(0,_e._)(f,l,()=>O(P)):O(P)}p()}catch(P){f.error(P)}}))};return _.subscribe((0,r.e)(f,y,()=>{m=!0,p()})),()=>{null==d||d()}}(x,w,_,h)))}},8084:(fn,Pt,me)=>{"use strict";me.d(Pt,{O:()=>nt});var b=me(5448),we=me(7773);function nt(){return(0,b.i)((_e,r)=>{let W=null;_e._refCount++;const S=(0,we.e)(r,void 0,void 0,void 0,()=>{if(!_e||_e._refCount<=0||0<--_e._refCount)return void(W=null);const v=_e._connection,_=W;W=null,v&&(!_||v===_)&&v.unsubscribe(),r.unsubscribe()});_e.subscribe(S),S.closed||(W=_e.connect())})}},7368:(fn,Pt,me)=>{"use strict";me.d(Pt,{G:()=>_e});var b=me(560),we=me(5448),nt=me(7773);function _e(r,W){return(0,we.i)((S,v)=>{let _=null,f=0,h=!1;const x=()=>h&&!_&&v.complete();S.subscribe((0,nt.e)(v,w=>{null==_||_.unsubscribe();let a=0;const l=f++;(0,b.Uv)(r(w,l)).subscribe(_=(0,nt.e)(v,d=>v.next(W?W(w,d,l,a++):d),()=>{_=null,x()}))},()=>{h=!0,x()}))})}},3992:(fn,Pt,me)=>{"use strict";me.d(Pt,{U:()=>_e});var b=me(8960),we=me(5448),nt=me(7773);function _e(r){return r<=0?()=>b.k:(0,we.i)((W,S)=>{let v=0;W.subscribe((0,nt.e)(S,_=>{++v<=r&&(S.next(_),r<=v&&S.complete())}))})}},9212:(fn,Pt,me)=>{"use strict";me.d(Pt,{y:()=>r});var b=me(8880),we=me(5448),nt=me(7773),_e=me(528);function r(W,S,v){const _=(0,b.m)(W)||S||v?{next:W,error:S,complete:v}:W;return _?(0,we.i)((f,h)=>{var x;null===(x=_.subscribe)||void 0===x||x.call(_);let w=!0;f.subscribe((0,nt.e)(h,a=>{var l;null===(l=_.next)||void 0===l||l.call(_,a),h.next(a)},()=>{var a;w=!1,null===(a=_.complete)||void 0===a||a.call(_),h.complete()},a=>{var l;w=!1,null===(l=_.error)||void 0===l||l.call(_,a),h.error(a)},()=>{var a,l;w&&(null===(a=_.unsubscribe)||void 0===a||a.call(_)),null===(l=_.finalize)||void 0===l||l.call(_)}))}):_e.Z}},3376:(fn,Pt,me)=>{"use strict";me.d(Pt,{u:()=>b});const b={setTimeout(we,nt,..._e){const{delegate:r}=b;return null!=r&&r.setTimeout?r.setTimeout(we,nt,..._e):setTimeout(we,nt,..._e)},clearTimeout(we){const{delegate:nt}=b;return((null==nt?void 0:nt.clearTimeout)||clearTimeout)(we)},delegate:void 0}},3835:(fn,Pt,me)=>{"use strict";me.d(Pt,{w:()=>we});const we=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},472:(fn,Pt,me)=>{"use strict";me.d(Pt,{a:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},6624:(fn,Pt,me)=>{"use strict";me.d(Pt,{_8:()=>W,e_:()=>r,yu:()=>_e});var b=me(8880),we=me(3048);function nt(S){return S[S.length-1]}function _e(S){return(0,b.m)(nt(S))?S.pop():void 0}function r(S){return(0,we.G)(nt(S))?S.pop():void 0}function W(S,v){return"number"==typeof nt(S)?S.pop():v}},4300:(fn,Pt,me)=>{"use strict";me.d(Pt,{Q:()=>r});const{isArray:b}=Array,{getPrototypeOf:we,prototype:nt,keys:_e}=Object;function r(S){if(1===S.length){const v=S[0];if(b(v))return{args:v,keys:null};if(function W(S){return S&&"object"==typeof S&&we(S)===nt}(v)){const _=_e(v);return{args:_.map(f=>v[f]),keys:_}}}return{args:S,keys:null}}},1248:(fn,Pt,me)=>{"use strict";function b(we,nt){if(we){const _e=we.indexOf(nt);0<=_e&&we.splice(_e,1)}}me.d(Pt,{k:()=>b})},4912:(fn,Pt,me)=>{"use strict";function b(we){const _e=we(r=>{Error.call(r),r.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}me.d(Pt,{w:()=>b})},7904:(fn,Pt,me)=>{"use strict";function b(we,nt){return we.reduce((_e,r,W)=>(_e[r]=nt[W],_e),{})}me.d(Pt,{q:()=>b})},2075:(fn,Pt,me)=>{"use strict";me.d(Pt,{c:()=>nt,q:()=>_e});var b=me(4491);let we=null;function nt(r){if(b.config.useDeprecatedSynchronousErrorHandling){const W=!we;if(W&&(we={errorThrown:!1,error:null}),r(),W){const{errorThrown:S,error:v}=we;if(we=null,S)throw v}}else r()}function _e(r){b.config.useDeprecatedSynchronousErrorHandling&&we&&(we.errorThrown=!0,we.error=r)}},9399:(fn,Pt,me)=>{"use strict";function b(we,nt,_e,r=0,W=!1){const S=nt.schedule(function(){_e(),W?we.add(this.schedule(null,r)):this.unsubscribe()},r);if(we.add(S),!W)return S}me.d(Pt,{_:()=>b})},528:(fn,Pt,me)=>{"use strict";function b(we){return we}me.d(Pt,{Z:()=>b})},5428:(fn,Pt,me)=>{"use strict";me.d(Pt,{G:()=>b});const b=we=>we&&"number"==typeof we.length&&"function"!=typeof we},376:(fn,Pt,me)=>{"use strict";me.d(Pt,{E:()=>we});var b=me(8880);function we(nt){return Symbol.asyncIterator&&(0,b.m)(null==nt?void 0:nt[Symbol.asyncIterator])}},8880:(fn,Pt,me)=>{"use strict";function b(we){return"function"==typeof we}me.d(Pt,{m:()=>b})},5099:(fn,Pt,me)=>{"use strict";me.d(Pt,{O:()=>nt});var b=me(472),we=me(8880);function nt(_e){return(0,we.m)(_e[b.a])}},1688:(fn,Pt,me)=>{"use strict";me.d(Pt,{i:()=>nt});var b=me(3835),we=me(8880);function nt(_e){return(0,we.m)(null==_e?void 0:_e[b.w])}},5432:(fn,Pt,me)=>{"use strict";me.d(Pt,{u:()=>we});var b=me(8880);function we(nt){return(0,b.m)(null==nt?void 0:nt.then)}},5832:(fn,Pt,me)=>{"use strict";me.d(Pt,{K:()=>_e,_:()=>nt});var b=me(1316),we=me(8880);function nt(r){return(0,b.o7)(this,arguments,function*(){const S=r.getReader();try{for(;;){const{value:v,done:_}=yield(0,b.U1)(S.read());if(_)return yield(0,b.U1)(void 0);yield yield(0,b.U1)(v)}}finally{S.releaseLock()}})}function _e(r){return(0,we.m)(null==r?void 0:r.getReader)}},3048:(fn,Pt,me)=>{"use strict";me.d(Pt,{G:()=>we});var b=me(8880);function we(nt){return nt&&(0,b.m)(nt.schedule)}},5448:(fn,Pt,me)=>{"use strict";me.d(Pt,{e:()=>we,i:()=>nt});var b=me(8880);function we(_e){return(0,b.m)(null==_e?void 0:_e.lift)}function nt(_e){return r=>{if(we(r))return r.lift(function(W){try{return _e(W,this)}catch(S){this.error(S)}});throw new TypeError("Unable to lift unknown Observable type")}}},4187:(fn,Pt,me)=>{"use strict";me.d(Pt,{j:()=>_e});var b=me(4704);const{isArray:we}=Array;function _e(r){return(0,b.k)(W=>function nt(r,W){return we(W)?r(...W):r(W)}(r,W))}},308:(fn,Pt,me)=>{"use strict";function b(){}me.d(Pt,{K:()=>b})},3928:(fn,Pt,me)=>{"use strict";me.d(Pt,{W:()=>we,Y:()=>nt});var b=me(528);function we(..._e){return nt(_e)}function nt(_e){return 0===_e.length?b.Z:1===_e.length?_e[0]:function(W){return _e.reduce((S,v)=>v(S),W)}}},1984:(fn,Pt,me)=>{"use strict";me.d(Pt,{U:()=>nt});var b=me(4491),we=me(3376);function nt(_e){we.u.setTimeout(()=>{const{onUnhandledError:r}=b.config;if(!r)throw _e;r(_e)})}},8272:(fn,Pt,me)=>{"use strict";function b(we){return new TypeError(`You provided ${null!==we&&"object"==typeof we?"an invalid object":`'${we}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}me.d(Pt,{W:()=>b})},1480:(fn,Pt,me)=>{var b={"./ion-accordion_2.entry.js":[8956,9312,8956],"./ion-action-sheet.entry.js":[6736,9312,6736],"./ion-alert.entry.js":[1644,9312,1644],"./ion-app_8.entry.js":[3936,9312,3936],"./ion-avatar_3.entry.js":[9428,9428],"./ion-back-button.entry.js":[6932,9312,6932],"./ion-backdrop.entry.js":[8019,8019],"./ion-breadcrumb_2.entry.js":[7752,9312,7752],"./ion-button_2.entry.js":[9580,9580],"./ion-card_5.entry.js":[1048,1048],"./ion-checkbox.entry.js":[3752,9312,3752],"./ion-chip.entry.js":[1492,1492],"./ion-col_3.entry.js":[9584,9584],"./ion-datetime-button.entry.js":[7864,8832,7864],"./ion-datetime_3.entry.js":[8048,8832,9312,8048],"./ion-fab_3.entry.js":[1812,9312,1812],"./ion-img.entry.js":[3296,3296],"./ion-infinite-scroll_2.entry.js":[1488,9312,1488],"./ion-input.entry.js":[3500,9312,3500],"./ion-item-option_3.entry.js":[2448,9312,2448],"./ion-item_8.entry.js":[8772,9312,8772],"./ion-loading.entry.js":[2948,9312,2948],"./ion-menu_3.entry.js":[7676,9312,7676],"./ion-modal.entry.js":[6824,9312,6824],"./ion-nav_2.entry.js":[2372,9312,2372],"./ion-picker-column-internal.entry.js":[8232,9312,8232],"./ion-picker-internal.entry.js":[4656,4656],"./ion-popover.entry.js":[4168,9312,4168],"./ion-progress-bar.entry.js":[3264,3264],"./ion-radio_2.entry.js":[7176,9312,7176],"./ion-range.entry.js":[3180,9312,3180],"./ion-refresher_2.entry.js":[2e3,9312,2e3],"./ion-reorder_2.entry.js":[3604,9312,3604],"./ion-ripple-effect.entry.js":[3667,3667],"./ion-route_4.entry.js":[4284,4284],"./ion-searchbar.entry.js":[2580,9312,2580],"./ion-segment_2.entry.js":[7528,9312,7528],"./ion-select_3.entry.js":[4272,9312,4272],"./ion-spinner.entry.js":[1172,9312,1172],"./ion-split-pane.entry.js":[2624,2624],"./ion-tab-bar_2.entry.js":[1708,9312,1708],"./ion-tab_2.entry.js":[5956,5956],"./ion-text.entry.js":[5828,5828],"./ion-textarea.entry.js":[9440,9312,9440],"./ion-toast.entry.js":[9836,9312,9836],"./ion-toggle.entry.js":[2776,9312,2776]};function we(nt){if(!me.o(b,nt))return Promise.resolve().then(()=>{var W=new Error("Cannot find module '"+nt+"'");throw W.code="MODULE_NOT_FOUND",W});var _e=b[nt],r=_e[0];return Promise.all(_e.slice(1).map(me.e)).then(()=>me(r))}we.keys=()=>Object.keys(b),we.id=1480,fn.exports=we},996:(fn,Pt,me)=>{var b={"./pwa-action-sheet.entry.js":[2152,2152],"./pwa-camera-modal-instance.entry.js":[1148,1148],"./pwa-camera-modal.entry.js":[6056,6056],"./pwa-camera.entry.js":[580,580],"./pwa-toast.entry.js":[3276,3276]};function we(nt){if(!me.o(b,nt))return Promise.resolve().then(()=>{var W=new Error("Cannot find module '"+nt+"'");throw W.code="MODULE_NOT_FOUND",W});var _e=b[nt],r=_e[0];return me.e(_e[1]).then(()=>me(r))}we.keys=()=>Object.keys(b),we.id=996,fn.exports=we},6636:(fn,Pt,me)=>{var b=me(9848).default;function we(){"use strict";fn.exports=we=function(){return _e},fn.exports.__esModule=!0,fn.exports.default=fn.exports;var nt,_e={},r=Object.prototype,W=r.hasOwnProperty,S=Object.defineProperty||function(te,J,q){te[J]=q.value},v="function"==typeof Symbol?Symbol:{},_=v.iterator||"@@iterator",f=v.asyncIterator||"@@asyncIterator",h=v.toStringTag||"@@toStringTag";function x(te,J,q){return Object.defineProperty(te,J,{value:q,enumerable:!0,configurable:!0,writable:!0}),te[J]}try{x({},"")}catch{x=function(q,ne,de){return q[ne]=de}}function w(te,J,q,ne){var De=Object.create((J&&J.prototype instanceof m?J:m).prototype),Y=new X(ne||[]);return S(De,"_invoke",{value:k(te,q,Y)}),De}function a(te,J,q){try{return{type:"normal",arg:te.call(J,q)}}catch(ne){return{type:"throw",arg:ne}}}_e.wrap=w;var l="suspendedStart",d="suspendedYield",u="executing",c="completed",s={};function m(){}function p(){}function y(){}var O={};x(O,_,function(){return this});var $=Object.getPrototypeOf,N=$&&$($(z([])));N&&N!==r&&W.call(N,_)&&(O=N);var P=y.prototype=m.prototype=Object.create(O);function j(te){["next","throw","return"].forEach(function(J){x(te,J,function(q){return this._invoke(J,q)})})}function V(te,J){function q(de,De,Y,R){var se=a(te[de],te,De);if("throw"!==se.type){var pe=se.arg,Ee=pe.value;return Ee&&"object"==b(Ee)&&W.call(Ee,"__await")?J.resolve(Ee.__await).then(function(Ne){q("next",Ne,Y,R)},function(Ne){q("throw",Ne,Y,R)}):J.resolve(Ee).then(function(Ne){pe.value=Ne,Y(pe)},function(Ne){return q("throw",Ne,Y,R)})}R(se.arg)}var ne;S(this,"_invoke",{value:function(De,Y){function R(){return new J(function(se,pe){q(De,Y,se,pe)})}return ne=ne?ne.then(R,R):R()}})}function k(te,J,q){var ne=l;return function(de,De){if(ne===u)throw new Error("Generator is already running");if(ne===c){if("throw"===de)throw De;return{value:nt,done:!0}}for(q.method=de,q.arg=De;;){var Y=q.delegate;if(Y){var R=E(Y,q);if(R){if(R===s)continue;return R}}if("next"===q.method)q.sent=q._sent=q.arg;else if("throw"===q.method){if(ne===l)throw ne=c,q.arg;q.dispatchException(q.arg)}else"return"===q.method&&q.abrupt("return",q.arg);ne=u;var se=a(te,J,q);if("normal"===se.type){if(ne=q.done?c:d,se.arg===s)continue;return{value:se.arg,done:q.done}}"throw"===se.type&&(ne=c,q.method="throw",q.arg=se.arg)}}}function E(te,J){var q=J.method,ne=te.iterator[q];if(ne===nt)return J.delegate=null,"throw"===q&&te.iterator.return&&(J.method="return",J.arg=nt,E(te,J),"throw"===J.method)||"return"!==q&&(J.method="throw",J.arg=new TypeError("The iterator does not provide a '"+q+"' method")),s;var de=a(ne,te.iterator,J.arg);if("throw"===de.type)return J.method="throw",J.arg=de.arg,J.delegate=null,s;var De=de.arg;return De?De.done?(J[te.resultName]=De.value,J.next=te.nextLoc,"return"!==J.method&&(J.method="next",J.arg=nt),J.delegate=null,s):De:(J.method="throw",J.arg=new TypeError("iterator result is not an object"),J.delegate=null,s)}function T(te){var J={tryLoc:te[0]};1 in te&&(J.catchLoc=te[1]),2 in te&&(J.finallyLoc=te[2],J.afterLoc=te[3]),this.tryEntries.push(J)}function H(te){var J=te.completion||{};J.type="normal",delete J.arg,te.completion=J}function X(te){this.tryEntries=[{tryLoc:"root"}],te.forEach(T,this),this.reset(!0)}function z(te){if(te||""===te){var J=te[_];if(J)return J.call(te);if("function"==typeof te.next)return te;if(!isNaN(te.length)){var q=-1,ne=function de(){for(;++q<te.length;)if(W.call(te,q))return de.value=te[q],de.done=!1,de;return de.value=nt,de.done=!0,de};return ne.next=ne}}throw new TypeError(b(te)+" is not iterable")}return p.prototype=y,S(P,"constructor",{value:y,configurable:!0}),S(y,"constructor",{value:p,configurable:!0}),p.displayName=x(y,h,"GeneratorFunction"),_e.isGeneratorFunction=function(te){var J="function"==typeof te&&te.constructor;return!!J&&(J===p||"GeneratorFunction"===(J.displayName||J.name))},_e.mark=function(te){return Object.setPrototypeOf?Object.setPrototypeOf(te,y):(te.__proto__=y,x(te,h,"GeneratorFunction")),te.prototype=Object.create(P),te},_e.awrap=function(te){return{__await:te}},j(V.prototype),x(V.prototype,f,function(){return this}),_e.AsyncIterator=V,_e.async=function(te,J,q,ne,de){void 0===de&&(de=Promise);var De=new V(w(te,J,q,ne),de);return _e.isGeneratorFunction(J)?De:De.next().then(function(Y){return Y.done?Y.value:De.next()})},j(P),x(P,h,"Generator"),x(P,_,function(){return this}),x(P,"toString",function(){return"[object Generator]"}),_e.keys=function(te){var J=Object(te),q=[];for(var ne in J)q.push(ne);return q.reverse(),function de(){for(;q.length;){var De=q.pop();if(De in J)return de.value=De,de.done=!1,de}return de.done=!0,de}},_e.values=z,X.prototype={constructor:X,reset:function(J){if(this.prev=0,this.next=0,this.sent=this._sent=nt,this.done=!1,this.delegate=null,this.method="next",this.arg=nt,this.tryEntries.forEach(H),!J)for(var q in this)"t"===q.charAt(0)&&W.call(this,q)&&!isNaN(+q.slice(1))&&(this[q]=nt)},stop:function(){this.done=!0;var J=this.tryEntries[0].completion;if("throw"===J.type)throw J.arg;return this.rval},dispatchException:function(J){if(this.done)throw J;var q=this;function ne(pe,Ee){return Y.type="throw",Y.arg=J,q.next=pe,Ee&&(q.method="next",q.arg=nt),!!Ee}for(var de=this.tryEntries.length-1;de>=0;--de){var De=this.tryEntries[de],Y=De.completion;if("root"===De.tryLoc)return ne("end");if(De.tryLoc<=this.prev){var R=W.call(De,"catchLoc"),se=W.call(De,"finallyLoc");if(R&&se){if(this.prev<De.catchLoc)return ne(De.catchLoc,!0);if(this.prev<De.finallyLoc)return ne(De.finallyLoc)}else if(R){if(this.prev<De.catchLoc)return ne(De.catchLoc,!0)}else{if(!se)throw new Error("try statement without catch or finally");if(this.prev<De.finallyLoc)return ne(De.finallyLoc)}}}},abrupt:function(J,q){for(var ne=this.tryEntries.length-1;ne>=0;--ne){var de=this.tryEntries[ne];if(de.tryLoc<=this.prev&&W.call(de,"finallyLoc")&&this.prev<de.finallyLoc){var De=de;break}}De&&("break"===J||"continue"===J)&&De.tryLoc<=q&&q<=De.finallyLoc&&(De=null);var Y=De?De.completion:{};return Y.type=J,Y.arg=q,De?(this.method="next",this.next=De.finallyLoc,s):this.complete(Y)},complete:function(J,q){if("throw"===J.type)throw J.arg;return"break"===J.type||"continue"===J.type?this.next=J.arg:"return"===J.type?(this.rval=this.arg=J.arg,this.method="return",this.next="end"):"normal"===J.type&&q&&(this.next=q),s},finish:function(J){for(var q=this.tryEntries.length-1;q>=0;--q){var ne=this.tryEntries[q];if(ne.finallyLoc===J)return this.complete(ne.completion,ne.afterLoc),H(ne),s}},catch:function(J){for(var q=this.tryEntries.length-1;q>=0;--q){var ne=this.tryEntries[q];if(ne.tryLoc===J){var de=ne.completion;if("throw"===de.type){var De=de.arg;H(ne)}return De}}throw new Error("illegal catch attempt")},delegateYield:function(J,q,ne){return this.delegate={iterator:z(J),resultName:q,nextLoc:ne},"next"===this.method&&(this.arg=nt),s}},_e}fn.exports=we,fn.exports.__esModule=!0,fn.exports.default=fn.exports},9848:fn=>{function Pt(me){return fn.exports=Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},fn.exports.__esModule=!0,fn.exports.default=fn.exports,Pt(me)}fn.exports=Pt,fn.exports.__esModule=!0,fn.exports.default=fn.exports},3248:(fn,Pt,me)=>{var b=me(6636)();fn.exports=b;try{regeneratorRuntime=b}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=b:Function("r","regeneratorRuntime = r")(b)}},1368:(fn,Pt,me)=>{"use strict";me.d(Pt,{MD:()=>xo,MP:()=>u,OM:()=>Ro,Qd:()=>a,Sg:()=>he,Ud:()=>S,XV:()=>Vt,YZ:()=>Yn,_k:()=>Dr,ay:()=>Rn,c0:()=>po,mQ:()=>_,mg:()=>r,oB:()=>c,uC:()=>d,u_:()=>rr,uf:()=>qo,ug:()=>_e,uy:()=>nt});var b=me(4496);let we=null;function nt(){return we}function _e(ce){var Te;null!==(Te=we)&&void 0!==Te||(we=ce)}class r{}const S=new b.UbH("");let v=(()=>{var ce;class Te{historyGo(Me){throw new Error("")}}return(ce=Te).\u0275fac=function(Me){return new(Me||ce)},ce.\u0275prov=b.wxM({token:ce,factory:()=>(0,b.uUt)(f),providedIn:"platform"}),Te})();const _=new b.UbH("");let f=(()=>{var ce;class Te extends v{constructor(){super(),this._doc=(0,b.uUt)(S),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nt().getBaseHref(this._doc)}onPopState(Me){const tt=nt().getGlobalEventTarget(this._doc,"window");return tt.addEventListener("popstate",Me,!1),()=>tt.removeEventListener("popstate",Me)}onHashChange(Me){const tt=nt().getGlobalEventTarget(this._doc,"window");return tt.addEventListener("hashchange",Me,!1),()=>tt.removeEventListener("hashchange",Me)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Me){this._location.pathname=Me}pushState(Me,tt,St){this._history.pushState(Me,tt,St)}replaceState(Me,tt,St){this._history.replaceState(Me,tt,St)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Me=0){this._history.go(Me)}getState(){return this._history.state}}return(ce=Te).\u0275fac=function(Me){return new(Me||ce)},ce.\u0275prov=b.wxM({token:ce,factory:()=>new ce,providedIn:"platform"}),Te})();function h(ce,Te){if(0==ce.length)return Te;if(0==Te.length)return ce;let dt=0;return ce.endsWith("/")&&dt++,Te.startsWith("/")&&dt++,2==dt?ce+Te.substring(1):1==dt?ce+Te:ce+"/"+Te}function x(ce){const Te=ce.match(/#|\?|$/),dt=Te&&Te.index||ce.length;return ce.slice(0,dt-("/"===ce[dt-1]?1:0))+ce.slice(dt)}function w(ce){return ce&&"?"!==ce[0]?"?"+ce:ce}let a=(()=>{var ce;class Te{historyGo(Me){throw new Error("")}}return(ce=Te).\u0275fac=function(Me){return new(Me||ce)},ce.\u0275prov=b.wxM({token:ce,factory:()=>(0,b.uUt)(d),providedIn:"root"}),Te})();const l=new b.UbH("");let d=(()=>{var ce;class Te extends a{constructor(Me,tt){var St,cn,In;super(),this._platformLocation=Me,this._removeListenerFns=[],this._baseHref=null!==(St=null!==(cn=null!=tt?tt:this._platformLocation.getBaseHrefFromDOM())&&void 0!==cn?cn:null===(In=(0,b.uUt)(S).location)||void 0===In?void 0:In.origin)&&void 0!==St?St:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Me){this._removeListenerFns.push(this._platformLocation.onPopState(Me),this._platformLocation.onHashChange(Me))}getBaseHref(){return this._baseHref}prepareExternalUrl(Me){return h(this._baseHref,Me)}path(Me=!1){const tt=this._platformLocation.pathname+w(this._platformLocation.search),St=this._platformLocation.hash;return St&&Me?`${tt}${St}`:tt}pushState(Me,tt,St,cn){const In=this.prepareExternalUrl(St+w(cn));this._platformLocation.pushState(Me,tt,In)}replaceState(Me,tt,St,cn){const In=this.prepareExternalUrl(St+w(cn));this._platformLocation.replaceState(Me,tt,In)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Me=0){var tt,St;null===(tt=(St=this._platformLocation).historyGo)||void 0===tt||tt.call(St,Me)}}return(ce=Te).\u0275fac=function(Me){return new(Me||ce)(b.CoB(v),b.CoB(l,8))},ce.\u0275prov=b.wxM({token:ce,factory:ce.\u0275fac,providedIn:"root"}),Te})(),u=(()=>{var ce;class Te extends a{constructor(Me,tt){super(),this._platformLocation=Me,this._baseHref="",this._removeListenerFns=[],null!=tt&&(this._baseHref=tt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Me){this._removeListenerFns.push(this._platformLocation.onPopState(Me),this._platformLocation.onHashChange(Me))}getBaseHref(){return this._baseHref}path(Me=!1){var tt;const St=null!==(tt=this._platformLocation.hash)&&void 0!==tt?tt:"#";return St.length>0?St.substring(1):St}prepareExternalUrl(Me){const tt=h(this._baseHref,Me);return tt.length>0?"#"+tt:tt}pushState(Me,tt,St,cn){let In=this.prepareExternalUrl(St+w(cn));0==In.length&&(In=this._platformLocation.pathname),this._platformLocation.pushState(Me,tt,In)}replaceState(Me,tt,St,cn){let In=this.prepareExternalUrl(St+w(cn));0==In.length&&(In=this._platformLocation.pathname),this._platformLocation.replaceState(Me,tt,In)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Me=0){var tt,St;null===(tt=(St=this._platformLocation).historyGo)||void 0===tt||tt.call(St,Me)}}return(ce=Te).\u0275fac=function(Me){return new(Me||ce)(b.CoB(v),b.CoB(l,8))},ce.\u0275prov=b.wxM({token:ce,factory:ce.\u0275fac}),Te})(),c=(()=>{var ce;class Te{constructor(Me){this._subject=new b._w7,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Me;const tt=this._locationStrategy.getBaseHref();this._basePath=function y(ce){if(new RegExp("^(https?:)?//").test(ce)){const[,dt]=ce.split(/\/\/[^\/]+/);return dt}return ce}(x(p(tt))),this._locationStrategy.onPopState(St=>{this._subject.emit({url:this.path(!0),pop:!0,state:St.state,type:St.type})})}ngOnDestroy(){var Me;null===(Me=this._urlChangeSubscription)||void 0===Me||Me.unsubscribe(),this._urlChangeListeners=[]}path(Me=!1){return this.normalize(this._locationStrategy.path(Me))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Me,tt=""){return this.path()==this.normalize(Me+w(tt))}normalize(Me){return Te.stripTrailingSlash(function m(ce,Te){if(!ce||!Te.startsWith(ce))return Te;const dt=Te.substring(ce.length);return""===dt||["/",";","?","#"].includes(dt[0])?dt:Te}(this._basePath,p(Me)))}prepareExternalUrl(Me){return Me&&"/"!==Me[0]&&(Me="/"+Me),this._locationStrategy.prepareExternalUrl(Me)}go(Me,tt="",St=null){this._locationStrategy.pushState(St,"",Me,tt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Me+w(tt)),St)}replaceState(Me,tt="",St=null){this._locationStrategy.replaceState(St,"",Me,tt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Me+w(tt)),St)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Me=0){var tt,St;null===(tt=(St=this._locationStrategy).historyGo)||void 0===tt||tt.call(St,Me)}onUrlChange(Me){var tt;return this._urlChangeListeners.push(Me),null!==(tt=this._urlChangeSubscription)&&void 0!==tt||(this._urlChangeSubscription=this.subscribe(St=>{this._notifyUrlChangeListeners(St.url,St.state)})),()=>{const St=this._urlChangeListeners.indexOf(Me);var cn;this._urlChangeListeners.splice(St,1),0===this._urlChangeListeners.length&&(null===(cn=this._urlChangeSubscription)||void 0===cn||cn.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Me="",tt){this._urlChangeListeners.forEach(St=>St(Me,tt))}subscribe(Me,tt,St){return this._subject.subscribe({next:Me,error:tt,complete:St})}}return(ce=Te).normalizeQueryParams=w,ce.joinWithSlash=h,ce.stripTrailingSlash=x,ce.\u0275fac=function(Me){return new(Me||ce)(b.CoB(a))},ce.\u0275prov=b.wxM({token:ce,factory:()=>function s(){return new c((0,b.CoB)(a))}(),providedIn:"root"}),Te})();function p(ce){return ce.replace(/\/index.html$/,"")}function he(ce,Te){Te=encodeURIComponent(Te);for(const dt of ce.split(";")){const Me=dt.indexOf("="),[tt,St]=-1==Me?[dt,""]:[dt.slice(0,Me),dt.slice(Me+1)];if(tt.trim()===Te)return decodeURIComponent(St)}return null}class bn{constructor(Te,dt,Me,tt){this.$implicit=Te,this.ngForOf=dt,this.index=Me,this.count=tt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rn=(()=>{var ce;class Te{set ngForOf(Me){this._ngForOf=Me,this._ngForOfDirty=!0}set ngForTrackBy(Me){this._trackByFn=Me}get ngForTrackBy(){return this._trackByFn}constructor(Me,tt,St){this._viewContainer=Me,this._template=tt,this._differs=St,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Me){Me&&(this._template=Me)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Me=this._ngForOf;!this._differ&&Me&&(this._differ=this._differs.find(Me).create(this.ngForTrackBy))}if(this._differ){const Me=this._differ.diff(this._ngForOf);Me&&this._applyChanges(Me)}}_applyChanges(Me){const tt=this._viewContainer;Me.forEachOperation((St,cn,In)=>{if(null==St.previousIndex)tt.createEmbeddedView(this._template,new bn(St.item,this._ngForOf,-1,-1),null===In?void 0:In);else if(null==In)tt.remove(null===cn?void 0:cn);else if(null!==cn){const or=tt.get(cn);tt.move(or,In),Hn(or,St)}});for(let St=0,cn=tt.length;St<cn;St++){const or=tt.get(St).context;or.index=St,or.count=cn,or.ngForOf=this._ngForOf}Me.forEachIdentityChange(St=>{Hn(tt.get(St.currentIndex),St)})}static ngTemplateContextGuard(Me,tt){return!0}}return(ce=Te).\u0275fac=function(Me){return new(Me||ce)(b.GI1(b.y8U),b.GI1(b.Yw2),b.GI1(b.Uj7))},ce.\u0275dir=b.Sc5({type:ce,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Te})();function Hn(ce,Te){ce.context.$implicit=Te.item}let rr=(()=>{var ce;class Te{constructor(Me,tt){this._viewContainer=Me,this._context=new at,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=tt}set ngIf(Me){this._context.$implicit=this._context.ngIf=Me,this._updateView()}set ngIfThen(Me){ut("ngIfThen",Me),this._thenTemplateRef=Me,this._thenViewRef=null,this._updateView()}set ngIfElse(Me){ut("ngIfElse",Me),this._elseTemplateRef=Me,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Me,tt){return!0}}return(ce=Te).\u0275fac=function(Me){return new(Me||ce)(b.GI1(b.y8U),b.GI1(b.Yw2))},ce.\u0275dir=b.Sc5({type:ce,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Te})();class at{constructor(){this.$implicit=null,this.ngIf=null}}function ut(ce,Te){if(Te&&!Te.createEmbeddedView)throw new Error(`${ce} must be a TemplateRef, but received '${(0,b.GEN)(Te)}'.`)}let Vt=(()=>{var ce;class Te{constructor(Me){this._viewContainerRef=Me,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Me){if(this._shouldRecreateView(Me)){var tt;const St=this._viewContainerRef;if(this._viewRef&&St.remove(St.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const cn=this._createContextForwardProxy();this._viewRef=St.createEmbeddedView(this.ngTemplateOutlet,cn,{injector:null!==(tt=this.ngTemplateOutletInjector)&&void 0!==tt?tt:void 0})}}_shouldRecreateView(Me){return!!Me.ngTemplateOutlet||!!Me.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Me,tt,St)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,tt,St),get:(Me,tt,St)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,tt,St)}})}}return(ce=Te).\u0275fac=function(Me){return new(Me||ce)(b.GI1(b.y8U))},ce.\u0275dir=b.Sc5({type:ce,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[b.SYr]}),Te})(),xo=(()=>{var ce;class Te{}return(ce=Te).\u0275fac=function(Me){return new(Me||ce)},ce.\u0275mod=b.a4G({type:ce}),ce.\u0275inj=b.s3X({}),Te})();const Dr="browser",So="server";function po(ce){return ce===Dr}function qo(ce){return ce===So}let Yn=(()=>{var ce;class Te{}return(ce=Te).\u0275prov=(0,b.wxM)({token:ce,providedIn:"root",factory:()=>po((0,b.uUt)(b.AHE))?new Uo((0,b.uUt)(S),window):new co}),Te})();class Uo{constructor(Te,dt){this.document=Te,this.window=dt,this.offset=()=>[0,0]}setOffset(Te){this.offset=Array.isArray(Te)?()=>Te:Te}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Te){this.window.scrollTo(Te[0],Te[1])}scrollToAnchor(Te){const dt=function oo(ce,Te){const dt=ce.getElementById(Te)||ce.getElementsByName(Te)[0];if(dt)return dt;if("function"==typeof ce.createTreeWalker&&ce.body&&"function"==typeof ce.body.attachShadow){const Me=ce.createTreeWalker(ce.body,NodeFilter.SHOW_ELEMENT);let tt=Me.currentNode;for(;tt;){const St=tt.shadowRoot;if(St){const cn=St.getElementById(Te)||St.querySelector(`[name="${Te}"]`);if(cn)return cn}tt=Me.nextNode()}}return null}(this.document,Te);dt&&(this.scrollToElement(dt),dt.focus())}setHistoryScrollRestoration(Te){this.window.history.scrollRestoration=Te}scrollToElement(Te){const dt=Te.getBoundingClientRect(),Me=dt.left+this.window.pageXOffset,tt=dt.top+this.window.pageYOffset,St=this.offset();this.window.scrollTo(Me-St[0],tt-St[1])}}class co{setOffset(Te){}getScrollPosition(){return[0,0]}scrollToPosition(Te){}scrollToAnchor(Te){}setHistoryScrollRestoration(Te){}}class Ro{}},4496:(fn,Pt,me)=>{"use strict";me.d(Pt,{qid:()=>ff,QHP:()=>fe,kZF:()=>L0,Ev2:()=>iM,Swk:()=>Xi,YND:()=>nn,kD9:()=>X0,ESV:()=>O2,ayF:()=>B2,syz:()=>is,GMv:()=>Bi,SIe:()=>di,eAe:()=>Vi,_w7:()=>Ht,_6O:()=>Et,UbH:()=>be,zZn:()=>ti,Uj7:()=>wf,YNh:()=>xf,KYU:()=>dc,obV:()=>kg,oF$:()=>hs,WW2:()=>io,T7N:()=>Xl,AHE:()=>st,crf:()=>Je,q87:()=>sx,O8F:()=>Vm,yzm:()=>bu,SI6:()=>us,Qfh:()=>Kl,Yw2:()=>al,G4X:()=>D2,eOv:()=>k0,a8Z:()=>M0,y8U:()=>Uu,K6R:()=>En,I44:()=>Km,cZD:()=>PM,kdu:()=>GM,SIz:()=>mh,Gk1:()=>lE,grM:()=>W0,agy:()=>H2,wd:()=>Sr,uUt:()=>wr,_Ap:()=>zn,AFj:()=>Zl,m4O:()=>oM,o9M:()=>$M,SMS:()=>n_,sRj:()=>RM,oPY:()=>I0,i4S:()=>Xc,GUM:()=>_a,g9Y:()=>ta,OBp:()=>Qe,aS5:()=>j0,Mn9:()=>P0,Y8L:()=>Ze,Om8:()=>Ap,ozE:()=>mu,K2p:()=>qs,GM_:()=>z_,u8n:()=>K_,ER9:()=>Y_,Vfw:()=>q_,Gc:()=>X_,iMv:()=>$h,G58:()=>vt,y02:()=>Ly,IHs:()=>Cn,K_M:()=>Af,Guz:()=>Wi,w5$:()=>df,gX2:()=>R0,auf:()=>Ic,GEN:()=>Pe,E2t:()=>Ri,eg9:()=>hh,Wk5:()=>Q,QJr:()=>Pg,SYr:()=>ed,M5G:()=>Xv,UHJ:()=>Kv,yG2:()=>lm,e48:()=>Dh,eAK:()=>jh,szK:()=>Cv,In1:()=>Rt,Sc5:()=>Ve,wxM:()=>Fr,s3X:()=>rs,a4G:()=>Le,UTH:()=>mt,GI1:()=>Ks,wR5:()=>Fh,C_f:()=>Gh,C$Y:()=>ec,I0R:()=>Qu,KQA:()=>Py,otF:()=>up,CoB:()=>Oo,gJ8:()=>ud,KEo:()=>cm,qCj:()=>Wh,Gqi:()=>Mv,GaO:()=>hv,_Xx:()=>pv,kPM:()=>fv,E7m:()=>Ah,CI5:()=>ic,q4q:()=>s0,wto:()=>Dv,Gew:()=>Iv,CGJ:()=>Aa,usT:()=>_s,K6U:()=>yd,YFg:()=>jp,m_g:()=>hi,yuY:()=>na,OEk:()=>Fv,cNF:()=>qh,oRS:()=>sc,CAO:()=>Yh,kNx:()=>qv,iHE:()=>Kh,OKB:()=>Xh,CC$:()=>Sv}),me(1528);let nt=null,r=1;const W=Symbol("SIGNAL");function S(t){const n=nt;return nt=t,n}function a(t){if((!$(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==r)){if(!t.producerMustRecompute(t)&&!m(t))return t.dirty=!1,void(t.lastCleanEpoch=r);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=r}}function m(t){N(t);for(let n=0;n<t.producerNode.length;n++){const o=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==o.version||(a(o),i!==o.version))return!0}return!1}function O(t,n){if(function P(t){var n,o;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(o=t.liveConsumerIndexOfThis)&&void 0!==o||(t.liveConsumerIndexOfThis=[])}(t),N(t),1===t.liveConsumerNode.length)for(let i=0;i<t.producerNode.length;i++)O(t.producerNode[i],t.producerIndexOfThis[i]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const i=t.liveConsumerIndexOfThis[n],g=t.liveConsumerNode[n];N(g),g.producerIndexOfThis[i]=n}}function $(t){var n,o;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(o=t.liveConsumerNode)||void 0===o?void 0:o.length)&&void 0!==n?n:0)>0}function N(t){var n,o,i;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(o=t.producerIndexOfThis)&&void 0!==o||(t.producerIndexOfThis=[]),null!==(i=t.producerLastReadVersion)&&void 0!==i||(t.producerLastReadVersion=[])}let X=null;var et=me(5657),Ae=me(4548),Be=me(6700),Fe=me(4704);const Ze="https://g.co/ng/security#xss";class Qe extends Error{constructor(n,o){super(vt(n,o)),this.code=n}}function vt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function sn(t){return n=>{setTimeout(t,void 0,n)}}const Ht=class ln extends et.E{constructor(n=!1){super(),this.__isAsync=n}emit(n){const o=S(null);try{super.next(n)}finally{S(o)}}subscribe(n,o,i){let g=n,A=o||(()=>null),U=i;if(n&&"object"==typeof n){var oe,ue,Ce;const Xe=n;g=null===(oe=Xe.next)||void 0===oe?void 0:oe.bind(Xe),A=null===(ue=Xe.error)||void 0===ue?void 0:ue.bind(Xe),U=null===(Ce=Xe.complete)||void 0===Ce?void 0:Ce.bind(Xe)}this.__isAsync&&(A=sn(A),g&&(g=sn(g)),U&&(U=sn(U)));const Ue=super.subscribe({next:g,error:A,complete:U});return n instanceof Ae.wH&&n.add(Ue),Ue}};var Et=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Et||{});function Pe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Pe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function Ge(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}var yn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(yn||{}),En=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(En||{});function Sn(t){return{toString:t}.toString()}const Cn=globalThis,lr={},Pn=[];function Wn(t){for(let n in t)if(t[n]===Wn)return n;throw Error("Could not find renamed property on target object.")}function G(t,n){for(const o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o])}const ye=Wn({\u0275cmp:Wn}),Se=Wn({\u0275dir:Wn}),D=Wn({\u0275pipe:Wn}),F=Wn({\u0275mod:Wn}),L=Wn({\u0275fac:Wn}),ee=Wn({__NG_ELEMENT_ID__:Wn}),re=Wn({__NG_ENV_ID__:Wn});var Q=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Q||{});function he(t,n,o){let i=t.length;for(;;){const g=t.indexOf(n,o);if(-1===g)return g;if(0===g||t.charCodeAt(g-1)<=32){const A=n.length;if(g+A===i||t.charCodeAt(g+A)<=32)return g}o=g+1}}function Re(t,n,o){let i=0;for(;i<o.length;){const g=o[i];if("number"==typeof g){if(0!==g)break;i++;const A=o[i++],U=o[i++],oe=o[i++];t.setAttribute(n,U,oe,A)}else{const A=g,U=o[++i];_t(A)?t.setProperty(n,A,U):t.setAttribute(n,A,U),i++}}return i}function rt(t){return 3===t||4===t||6===t}function _t(t){return 64===t.charCodeAt(0)}function Xt(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let o=-1;for(let i=0;i<n.length;i++){const g=n[i];"number"==typeof g?o=g:0===o||un(t,o,g,null,-1===o||2===o?n[++i]:null)}}return t}function un(t,n,o,i,g){let A=0,U=t.length;if(-1===n)U=-1;else for(;A<t.length;){const oe=t[A++];if("number"==typeof oe){if(oe===n){U=-1;break}if(oe>n){U=A-1;break}}}for(;A<t.length;){const oe=t[A];if("number"==typeof oe)break;if(oe===o){if(null===i)return void(null!==g&&(t[A+1]=g));if(i===t[A+1])return void(t[A+2]=g)}A++,null!==i&&A++,null!==g&&A++}-1!==U&&(t.splice(U,0,n),A=U+1),t.splice(A++,0,o),null!==i&&t.splice(A++,0,i),null!==g&&t.splice(A++,0,g)}const bn="ng-template";function Rn(t,n,o){let i=0,g=!0;for(;i<t.length;){let A=t[i++];if("string"==typeof A&&g){const U=t[i++];if(o&&"class"===A&&-1!==he(U.toLowerCase(),n,0))return!0}else{if(1===A){for(;i<t.length&&"string"==typeof(A=t[i++]);)if(A.toLowerCase()===n)return!0;return!1}"number"==typeof A&&(g=!1)}}return!1}function Hn(t){return 4===t.type&&t.value!==bn}function dr(t,n,o){return n===(4!==t.type||o?t.value:bn)}function rr(t,n,o){let i=4;const g=t.attrs||[],A=function Ut(t){for(let n=0;n<t.length;n++)if(rt(t[n]))return n;return t.length}(g);let U=!1;for(let oe=0;oe<n.length;oe++){const ue=n[oe];if("number"!=typeof ue){if(!U)if(4&i){if(i=2|1&i,""!==ue&&!dr(t,ue,o)||""===ue&&1===n.length){if(at(i))return!1;U=!0}}else{const Ce=8&i?ue:n[++oe];if(8&i&&null!==t.attrs){if(!Rn(t.attrs,Ce,o)){if(at(i))return!1;U=!0}continue}const Xe=ut(8&i?"class":ue,g,Hn(t),o);if(-1===Xe){if(at(i))return!1;U=!0;continue}if(""!==Ce){let pt;pt=Xe>A?"":g[Xe+1].toLowerCase();const Ot=8&i?pt:null;if(Ot&&-1!==he(Ot,Ce,0)||2&i&&Ce!==pt){if(at(i))return!1;U=!0}}}}else{if(!U&&!at(i)&&!at(ue))return!1;if(U&&at(ue))continue;U=!1,i=ue|1&i}}return at(i)||U}function at(t){return 0==(1&t)}function ut(t,n,o,i){if(null===n)return-1;let g=0;if(i||!o){let A=!1;for(;g<n.length;){const U=n[g];if(U===t)return g;if(3===U||6===U)A=!0;else{if(1===U||2===U){let oe=n[++g];for(;"string"==typeof oe;)oe=n[++g];continue}if(4===U)break;if(0===U){g+=4;continue}}g+=A?1:2}return-1}return function dn(t,n){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const i=t[o];if("number"==typeof i)return-1;if(i===n)return o;o++}return-1}(n,t)}function $e(t,n,o=!1){for(let i=0;i<n.length;i++)if(rr(t,n[i],o))return!0;return!1}function An(t,n){e:for(let o=0;o<n.length;o++){const i=n[o];if(t.length===i.length){for(let g=0;g<t.length;g++)if(t[g]!==i[g])continue e;return!0}}return!1}function At(t,n){return t?":not("+n.trim()+")":n}function je(t){let n=t[0],o=1,i=2,g="",A=!1;for(;o<t.length;){let U=t[o];if("string"==typeof U)if(2&i){const oe=t[++o];g+="["+U+(oe.length>0?'="'+oe+'"':"")+"]"}else 8&i?g+="."+U:4&i&&(g+=" "+U);else""!==g&&!at(U)&&(n+=At(A,g),g=""),i=U,A=A||!at(i);o++}return""!==g&&(n+=At(A,g)),n}function Rt(t){return Sn(()=>{var n;const o=jr(t),i={...o,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===yn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||En.Emulated,styles:t.styles||Pn,_:null,schemas:t.schemas||null,tView:null,id:""};Ar(i);const g=t.dependencies;return i.directiveDefs=Rr(g,!1),i.pipeDefs=Rr(g,!0),i.id=function Br(t){let n=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const g of o)n=Math.imul(31,n)+g.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(i),i})}function Vt(t){return Zt(t)||Dn(t)}function ie(t){return null!==t}function Le(t){return Sn(()=>({type:t.type,bootstrap:t.bootstrap||Pn,declarations:t.declarations||Pn,imports:t.imports||Pn,exports:t.exports||Pn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ve(t,n){if(null==t)return lr;const o={};for(const g in t)if(t.hasOwnProperty(g)){const A=t[g];let U,oe,ue=Q.None;var i;Array.isArray(A)?(ue=A[0],U=A[1],oe=null!==(i=A[2])&&void 0!==i?i:U):(U=A,oe=A),n?(o[U]=ue!==Q.None?[g,ue]:g,n[U]=oe):o[U]=g}return o}function Ve(t){return Sn(()=>{const n=jr(t);return Ar(n),n})}function mt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Zt(t){return t[ye]||null}function Dn(t){return t[Se]||null}function On(t){return t[D]||null}function zn(t){const n=Zt(t)||Dn(t)||On(t);return null!==n&&n.standalone}function Xn(t,n){const o=t[F]||null;if(!o&&!0===n)throw new Error(`Type ${Pe(t)} does not have '\u0275mod' property.`);return o}function jr(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||lr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Pn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ve(t.inputs,n),outputs:ve(t.outputs),debugInfo:null}}function Ar(t){var n;null===(n=t.features)||void 0===n||n.forEach(o=>o(t))}function Rr(t,n){if(!t)return null;const o=n?On:Vt;return()=>("function"==typeof t?t():t).map(i=>o(i)).filter(ie)}const mr=0,Tn=1,Fn=2,fr=3,Yr=4,xr=5,Lr=6,uo=7,ur=8,vr=9,$r=10,qn=11,ro=12,zo=13,xo=14,Dr=15,So=16,To=17,fo=18,po=19,qo=20,Po=21,mo=22,ko=23,Yn=25,Uo=1,co=7,Lo=9,br=10;var Yo=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Yo||{});function Vr(t){return Array.isArray(t)&&"object"==typeof t[Uo]}function Hr(t){return Array.isArray(t)&&!0===t[Uo]}function Eo(t){return 0!=(4&t.flags)}function Xr(t){return t.componentOffset>-1}function Ln(t){return 1==(1&t.flags)}function Do(t){return!!t.template}function Xo(t){return 0!=(512&t[Fn])}let It=!1;function gt(t){for(;Array.isArray(t);)t=t[mr];return t}function tn(t,n){return gt(n[t])}function on(t,n){return gt(n[t.index])}function Kt(t,n){return t.data[n]}function Gn(t,n){const o=n[t];return Vr(o)?o:o[mr]}function Un(t){return 128==(128&t[Fn])}function er(t,n){return null==n?null:t[n]}function Ur(t){t[To]=0}function Kr(t){1024&t[Fn]||(t[Fn]|=1024,Un(t)&&Er(t))}function Jr(t){var n;return!!(9216&t[Fn]||null!==(n=t[ko])&&void 0!==n&&n.dirty)}function ho(t){if(Jr(t))Er(t);else if(64&t[Fn])if(function Wt(){return It}())t[Fn]|=1024,Er(t);else{var n;null===(n=t[$r].changeDetectionScheduler)||void 0===n||n.notify()}}function Er(t){var n;null===(n=t[$r].changeDetectionScheduler)||void 0===n||n.notify();let o=kr(t);for(;null!==o&&!(8192&o[Fn])&&(o[Fn]|=8192,Un(o));)o=kr(o)}function Mr(t,n){if(256==(256&t[Fn]))throw new Qe(911,!1);null===t[Po]&&(t[Po]=[]),t[Po].push(n)}function kr(t){const n=t[fr];return Hr(n)?n[fr]:n}const Nn={lFrame:eo(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Fi(){return Nn.bindingsEnabled}function Mi(){return null!==Nn.skipHydrationRootTNode}function pn(){return Nn.lFrame.lView}function pr(){return Nn.lFrame.tView}function _s(t){return Nn.lFrame.contextLView=t,t[ur]}function Aa(t){return Nn.lFrame.contextLView=null,t}function Or(){let t=Oa();for(;null!==t&&64===t.type;)t=t.parent;return t}function Oa(){return Nn.lFrame.currentTNode}function Zo(t,n){const o=Nn.lFrame;o.currentTNode=t,o.isParent=n}function ws(){return Nn.lFrame.isParent}function xs(){Nn.lFrame.isParent=!1}function ce(){return Nn.lFrame.bindingIndex++}function Te(t){const n=Nn.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,o}function tt(t,n){const o=Nn.lFrame;o.bindingIndex=o.bindingRootIndex=t,cn(n)}function cn(t){Nn.lFrame.currentDirectiveIndex=t}function or(){return Nn.lFrame.currentQueryIndex}function ir(t){Nn.lFrame.currentQueryIndex=t}function Cr(t){const n=t[Tn];return 2===n.type?n.declTNode:1===n.type?t[xr]:null}function nr(t,n,o){if(o&Et.SkipSelf){let g=n,A=t;for(;!(g=g.parent,null!==g||o&Et.Host||(g=Cr(A),null===g||(A=A[xo],10&g.type))););if(null===g)return!1;n=g,t=A}const i=Nn.lFrame=Ir();return i.currentTNode=n,i.lView=t,!0}function Tr(t){const n=Ir(),o=t[Tn];Nn.lFrame=n,n.currentTNode=o.firstChild,n.lView=t,n.tView=o,n.contextLView=t,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function Ir(){const t=Nn.lFrame,n=null===t?null:t.child;return null===n?eo(t):n}function eo(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Qo(){const t=Nn.lFrame;return Nn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const yo=Qo;function ei(){const t=Qo();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function zr(){return Nn.lFrame.selectedIndex}function Co(t){Nn.lFrame.selectedIndex=t}function sr(){const t=Nn.lFrame;return Kt(t.tView,t.selectedIndex)}let Pa=!0;function Ss(){return Pa}function Ti(t){Pa=t}function wc(){return gi(Or(),pn())}function gi(t,n){return new Bi(on(t,n))}let Na,Bi=(()=>{class n{constructor(i){this.nativeElement=i}}return n.__NG_ELEMENT_ID__=wc,n})();function xc(t){return t instanceof Bi?t.nativeElement:t}function Ui(t,n){t.forEach(o=>Array.isArray(o)?Ui(o,n):n(o))}function Ec(t,n,o){n>=t.length?t.push(o):t.splice(n,0,o)}function ka(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function No(t,n,o){let i=Ai(t,n);return i>=0?t[1|i]=o:(i=~i,function Ms(t,n,o,i){let g=t.length;if(g==n)t.push(o,i);else if(1===g)t.push(i,t[0]),t[0]=o;else{for(g--,t.push(t[g-1],t[g]);g>n;)t[g]=t[g-2],g--;t[n]=o,t[n+1]=i}}(t,i,n,o)),i}function Fl(t,n){const o=Ai(t,n);if(o>=0)return t[1|o]}function Ai(t,n){return function Sc(t,n,o){let i=0,g=t.length>>o;for(;g!==i;){const A=i+(g-i>>1),U=t[A<<o];if(n===U)return A<<o;U>n?g=A:i=A+1}return~(g<<o)}(t,n,1)}function If(){return this._results[Symbol.iterator]()}class Bl{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new Ht}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const o=Bl.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=If)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){this.dirty=!1;const i=function Zr(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Nl(t,n,o){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let g=t[i],A=n[i];if(o&&(g=o(g),A=o(A)),A!==g)return!1}return!0}(this._results,i,o))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Is(t){return 128==(128&t.flags)}function Ic(t){Na=t}function Fr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function rs(t){return{providers:t.providers||[],imports:t.imports||[]}}function As(t){return Tc(t,Ba)||Tc(t,ae)}function Af(t){return null!==As(t)}function Tc(t,n){return t.hasOwnProperty(n)?t[n]:null}function Fa(t){return t&&(t.hasOwnProperty(Ul)||t.hasOwnProperty(ge))?t[Ul]:null}const Ba=Wn({\u0275prov:Wn}),Ul=Wn({\u0275inj:Wn}),ae=Wn({ngInjectableDef:Wn}),ge=Wn({ngInjectorDef:Wn});class be{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Fr({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const fe=new be("",{providedIn:"root",factory:()=>xe}),xe="ng",Je=new be(""),st=new be("",{providedIn:"platform",factory:()=>"unknown"}),nn=new be("",{providedIn:"root",factory:()=>{var t;return(null===(t=function yi(){if(void 0!==Na)return Na;if(typeof document<"u")return document;throw new Qe(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}}),qr=Wn({__forward_ref__:Wn});function Sr(t){return t.__forward_ref__=Sr,t.toString=function(){return Pe(this())},t}function Vn(t){return si(t)?t():t}function si(t){return"function"==typeof t&&t.hasOwnProperty(qr)&&t.__forward_ref__===Sr}function Oc(t){return t&&!!t.\u0275providers}function ar(t){return"string"==typeof t?t:null==t?"":String(t)}function jc(t,n){throw new Qe(-201,!1)}let Pc;function jf(){return Pc}function $o(t){const n=Pc;return Pc=t,n}function Pf(t,n,o){const i=As(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:o&Et.Optional?null:void 0!==n?n:void jc()}const Ua={},kc="__NG_DI_FLAG__",Gl="ngTempTokenPath",Tb=/\n/gm,kf="__source";let Os;function $i(t){const n=Os;return Os=t,n}function jb(t,n=Et.Default){if(void 0===Os)throw new Qe(-203,!1);return null===Os?Pf(t,void 0,n):Os.get(t,n&Et.Optional?null:void 0,n)}function Oo(t,n=Et.Default){return(jf()||jb)(Vn(t),n)}function wr(t,n=Et.Default){return Oo(t,$l(n))}function $l(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rc(t){const n=[];for(let o=0;o<t.length;o++){const i=Vn(t[o]);if(Array.isArray(i)){if(0===i.length)throw new Qe(900,!1);let g,A=Et.Default;for(let U=0;U<i.length;U++){const oe=i[U],ue=Pb(oe);"number"==typeof ue?-1===ue?g=oe.token:A|=ue:g=oe}n.push(Oo(g,A))}else n.push(Oo(i))}return n}function Ga(t,n){return t[kc]=n,t.prototype[kc]=n,t}function Pb(t){return t[kc]}let Lf=()=>null;function Uc(t,n,o=!1){return Lf(t,n,o)}const Ns="__parameters__";function Bs(t,n,o){return Sn(()=>{const i=function Hc(t){return function(...o){if(t){const i=t(...o);for(const g in i)this[g]=i[g]}}}(n);function g(...A){if(this instanceof g)return i.apply(this,A),this;const U=new g(...A);return oe.annotation=U,oe;function oe(ue,Ce,Ue){const Xe=ue.hasOwnProperty(Ns)?ue[Ns]:Object.defineProperty(ue,Ns,{value:[]})[Ns];for(;Xe.length<=Ue;)Xe.push(null);return(Xe[Ue]=Xe[Ue]||[]).push(U),ue}}return o&&(g.prototype=Object.create(o.prototype)),g.prototype.ngMetadataName=t,g.annotationCls=g,g})}const Xl=Ga(Bs("Optional"),8),Kl=Ga(Bs("SkipSelf"),4);function os(t,n){return t.hasOwnProperty(L)?t[L]:null}const is=new be(""),$f=new be("",-1),Wc=new be("");class Jl{get(n,o=Ua){if(o===Ua){const i=new Error(`NullInjectorError: No provider for ${Pe(n)}!`);throw i.name="NullInjectorError",i}return o}}function Zl(t){return{\u0275providers:t}}function qb(...t){return{\u0275providers:zc(0,t),\u0275fromNgModule:!0}}function zc(t,...n){const o=[],i=new Set;let g;const A=U=>{o.push(U)};return Ui(n,U=>{const oe=U;Ql(oe,A,[],i)&&(g||(g=[]),g.push(oe))}),void 0!==g&&Vf(g,A),o}function Vf(t,n){for(let o=0;o<t.length;o++){const{ngModule:i,providers:g}=t[o];qc(g,A=>{n(A,i)})}}function Ql(t,n,o,i){if(!(t=Vn(t)))return!1;let g=null,A=Fa(t);const U=!A&&Zt(t);if(A||U){if(U&&!U.standalone)return!1;g=t}else{const ue=t.ngModule;if(A=Fa(ue),!A)return!1;g=ue}const oe=i.has(g);if(U){if(oe)return!1;if(i.add(g),U.dependencies){const ue="function"==typeof U.dependencies?U.dependencies():U.dependencies;for(const Ce of ue)Ql(Ce,n,o,i)}}else{if(!A)return!1;{if(null!=A.imports&&!oe){let Ce;i.add(g);try{Ui(A.imports,Ue=>{Ql(Ue,n,o,i)&&(Ce||(Ce=[]),Ce.push(Ue))})}finally{}void 0!==Ce&&Vf(Ce,n)}if(!oe){const Ce=os(g)||(()=>new g);n({provide:g,useFactory:Ce,deps:Pn},g),n({provide:Wc,useValue:g,multi:!0},g),n({provide:is,useValue:()=>Oo(g),multi:!0},g)}const ue=A.providers;if(null!=ue&&!oe){const Ce=t;qc(ue,Ue=>{n(Ue,Ce)})}}}return g!==t&&void 0!==t.providers}function qc(t,n){for(let o of t)Oc(o)&&(o=o.\u0275providers),Array.isArray(o)?qc(o,n):n(o)}const Yb=Wn({provide:String,useValue:Wn});function Yc(t){return null!==t&&"object"==typeof t&&Yb in t}function ss(t){return"function"==typeof t}const Xc=new be(""),eu={},Kb={};let Kc;function tu(){return void 0===Kc&&(Kc=new Jl),Kc}class di{}class Us extends di{get destroyed(){return this._destroyed}constructor(n,o,i,g){super(),this.parent=o,this.source=i,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zc(n,U=>this.processProvider(U)),this.records.set($f,Gs(void 0,this)),g.has("environment")&&this.records.set(di,Gs(void 0,this));const A=this.records.get(Xc);null!=A&&"string"==typeof A.value&&this.scopes.add(A.value),this.injectorDefTypes=new Set(this.get(Wc,Pn,Et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=S(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of o)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),S(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const o=$i(this),i=$o(void 0);try{return n()}finally{$i(o),$o(i)}}get(n,o=Ua,i=Et.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(re))return n[re](this);i=$l(i);const A=$i(this),U=$o(void 0);try{if(!(i&Et.SkipSelf)){let ue=this.records.get(n);if(void 0===ue){const Ce=function t_(t){return"function"==typeof t||"object"==typeof t&&t instanceof be}(n)&&As(n);ue=Ce&&this.injectableDefInScope(Ce)?Gs(Jc(n),eu):null,this.records.set(n,ue)}if(null!=ue)return this.hydrate(n,ue)}return(i&Et.Self?tu():this.parent).get(n,o=i&Et.Optional&&o===Ua?null:o)}catch(oe){if("NullInjectorError"===oe.name){if((oe[Gl]=oe[Gl]||[]).unshift(Pe(n)),A)throw oe;return function kb(t,n,o,i){const g=t[Gl];throw n[kf]&&g.unshift(n[kf]),t.message=function Rb(t,n,o,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let g=Pe(n);if(Array.isArray(n))g=n.map(Pe).join(" -> ");else if("object"==typeof n){let A=[];for(let U in n)if(n.hasOwnProperty(U)){let oe=n[U];A.push(U+":"+("string"==typeof oe?JSON.stringify(oe):Pe(oe)))}g=`{${A.join(", ")}}`}return`${o}${i?"("+i+")":""}[${g}]: ${t.replace(Tb,"\n  ")}`}("\n"+t.message,g,o,i),t.ngTokenPath=g,t[Gl]=null,t}(oe,n,"R3InjectorError",this.source)}throw oe}finally{$o(U),$i(A)}}resolveInjectorInitializers(){const n=S(null),o=$i(this),i=$o(void 0);try{const A=this.get(is,Pn,Et.Self);for(const U of A)U()}finally{$i(o),$o(i),S(n)}}toString(){const n=[],o=this.records;for(const i of o.keys())n.push(Pe(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qe(205,!1)}processProvider(n){let o=ss(n=Vn(n))?n:Vn(n&&n.provide);const i=function Zb(t){return Yc(t)?Gs(void 0,t.useValue):Gs(zf(t),eu)}(n);if(!ss(n)&&!0===n.multi){let g=this.records.get(o);g||(g=Gs(void 0,eu,!0),g.factory=()=>Rc(g.multi),this.records.set(o,g)),o=n,g.multi.push(n)}this.records.set(o,i)}hydrate(n,o){const i=S(null);try{return o.value===eu&&(o.value=Kb,o.value=o.factory()),"object"==typeof o.value&&o.value&&function e_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{S(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;const o=Vn(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(n){const o=this._onDestroyHooks.indexOf(n);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Jc(t){const n=As(t),o=null!==n?n.factory:os(t);if(null!==o)return o;if(t instanceof be)throw new Qe(204,!1);if(t instanceof Function)return function Jb(t){if(t.length>0)throw new Qe(204,!1);const o=function Of(t){return t&&(t[Ba]||t[ae])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Qe(204,!1)}function zf(t,n,o){let i;if(ss(t)){const g=Vn(t);return os(g)||Jc(g)}if(Yc(t))i=()=>Vn(t.useValue);else if(function Wf(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...Rc(t.deps||[]));else if(function Hf(t){return!(!t||!t.useExisting)}(t))i=()=>Oo(Vn(t.useExisting));else{const g=Vn(t&&(t.useClass||t.provide));if(!function Qb(t){return!!t.deps}(t))return os(g)||Jc(g);i=()=>new g(...Rc(t.deps))}return i}function Gs(t,n,o=!1){return{factory:t,value:n,multi:o?[]:void 0}}function Zc(t,n){for(const o of t)Array.isArray(o)?Zc(o,n):o&&Oc(o)?Zc(o.\u0275providers,n):n(o)}function n_(t,n){t instanceof Us&&t.assertNotDestroyed();const i=$i(t),g=$o(void 0);try{return n()}finally{$i(i),$o(g)}}class h_{constructor(n,o,i){this.previousValue=n,this.currentValue=o,this.firstChange=i}isFirstChange(){return this.firstChange}}function Yf(t,n,o,i){null!==n?n.applyValueToInputSignal(n,i):t[o]=i}function ed(){return Xf}function Xf(t){return t.type.prototype.ngOnChanges&&(t.setInput=p_),f_}function f_(){const t=Jf(this),n=null==t?void 0:t.current;if(n){const o=t.previous;if(o===lr)t.previous=n;else for(let i in n)o[i]=n[i];t.current=null,this.ngOnChanges(n)}}function p_(t,n,o,i,g){const A=this.declaredInputs[i],U=Jf(t)||function m_(t,n){return t[Kf]=n}(t,{previous:lr,current:null}),oe=U.current||(U.current={}),ue=U.previous,Ce=ue[A];oe[A]=new h_(Ce&&Ce.currentValue,o,ue===lr),Yf(t,n,g,o)}ed.ngInherit=!0;const Kf="__ngSimpleChanges__";function Jf(t){return t[Kf]||null}const vi=function(t,n,o){};function ou(t,n){for(let Ce=n.directiveStart,Ue=n.directiveEnd;Ce<Ue;Ce++){const pt=t.data[Ce].type.prototype,{ngAfterContentInit:Ot,ngAfterContentChecked:en,ngAfterViewInit:mn,ngAfterViewChecked:Mn,ngOnDestroy:jn}=pt;var o,i,g,A,U,oe,ue;Ot&&(null!==(o=t.contentHooks)&&void 0!==o?o:t.contentHooks=[]).push(-Ce,Ot),en&&((null!==(i=t.contentHooks)&&void 0!==i?i:t.contentHooks=[]).push(Ce,en),(null!==(g=t.contentCheckHooks)&&void 0!==g?g:t.contentCheckHooks=[]).push(Ce,en)),mn&&(null!==(A=t.viewHooks)&&void 0!==A?A:t.viewHooks=[]).push(-Ce,mn),Mn&&((null!==(U=t.viewHooks)&&void 0!==U?U:t.viewHooks=[]).push(Ce,Mn),(null!==(oe=t.viewCheckHooks)&&void 0!==oe?oe:t.viewCheckHooks=[]).push(Ce,Mn)),null!=jn&&(null!==(ue=t.destroyHooks)&&void 0!==ue?ue:t.destroyHooks=[]).push(Ce,jn)}}function iu(t,n,o){Zf(t,n,3,o)}function su(t,n,o,i){(3&t[Fn])===o&&Zf(t,n,o,i)}function nd(t,n){let o=t[Fn];(3&o)===n&&(o&=16383,o+=1,t[Fn]=o)}function Zf(t,n,o,i){const A=null!=i?i:-1,U=n.length-1;let oe=0;for(let ue=void 0!==i?65535&t[To]:0;ue<U;ue++)if("number"==typeof n[ue+1]){if(oe=n[ue],null!=i&&oe>=i)break}else n[ue]<0&&(t[To]+=65536),(oe<A||-1==A)&&(v_(t,o,n,ue),t[To]=(4294901760&t[To])+ue+2),ue++}function Qf(t,n){vi(4,t,n);const o=S(null);try{n.call(t)}finally{S(o),vi(5,t,n)}}function v_(t,n,o,i){const g=o[i]<0,A=o[i+1],oe=t[g?-o[i]:o[i]];g?t[Fn]>>14<t[To]>>16&&(3&t[Fn])===n&&(t[Fn]+=16384,Qf(oe,A)):Qf(oe,A)}const Vs=-1;class qa{constructor(n,o,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=i}}function od(t){return t!==Vs}function Ya(t){return 32767&t}function Xa(t,n){let o=function E_(t){return t>>16}(t),i=n;for(;o>0;)i=i[xo],o--;return i}let id=!0;function au(t){const n=id;return id=t,n}const ep=255,tp=5;let C_=0;const bi={};function lu(t,n){const o=np(t,n);if(-1!==o)return o;const i=n[Tn];i.firstCreatePass&&(t.injectorIndex=n.length,sd(i.data,t),sd(n,null),sd(i.blueprint,null));const g=uu(t,n),A=t.injectorIndex;if(od(g)){const U=Ya(g),oe=Xa(g,n),ue=oe[Tn].data;for(let Ce=0;Ce<8;Ce++)n[A+Ce]=oe[U+Ce]|ue[U+Ce]}return n[A+8]=g,A}function sd(t,n){t.push(0,0,0,0,0,0,0,0,n)}function np(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function uu(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,i=null,g=n;for(;null!==g;){if(i=cp(g),null===i)return Vs;if(o++,g=g[xo],-1!==i.injectorIndex)return i.injectorIndex|o<<16}return Vs}function ad(t,n,o){!function S_(t,n,o){let i;"string"==typeof o?i=o.charCodeAt(0)||0:o.hasOwnProperty(ee)&&(i=o[ee]),null==i&&(i=o[ee]=C_++);const g=i&ep;n.data[t+(g>>tp)]|=1<<g}(t,n,o)}function rp(t,n,o){if(o&Et.Optional||void 0!==t)return t;jc()}function op(t,n,o,i){if(o&Et.Optional&&void 0===i&&(i=null),!(o&(Et.Self|Et.Host))){const g=t[vr],A=$o(void 0);try{return g?g.get(n,i,o&Et.Optional):Pf(n,i,o&Et.Optional)}finally{$o(A)}}return rp(i,0,o)}function ip(t,n,o,i=Et.Default,g){if(null!==t){if(2048&n[Fn]&&!(i&Et.Self)){const U=function A_(t,n,o,i,g){let A=t,U=n;for(;null!==A&&null!==U&&2048&U[Fn]&&!(512&U[Fn]);){const oe=sp(A,U,o,i|Et.Self,bi);if(oe!==bi)return oe;let ue=A.parent;if(!ue){const Ce=U[qo];if(Ce){const Ue=Ce.get(o,bi,i);if(Ue!==bi)return Ue}ue=cp(U),U=U[xo]}A=ue}return g}(t,n,o,i,bi);if(U!==bi)return U}const A=sp(t,n,o,i,bi);if(A!==bi)return A}return op(n,o,i,g)}function sp(t,n,o,i,g){const A=function I_(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(ee)?t[ee]:void 0;return"number"==typeof n?n>=0?n&ep:T_:n}(o);if("function"==typeof A){if(!nr(n,t,i))return i&Et.Host?rp(g,0,i):op(n,o,i,g);try{let U;if(U=A(i),null!=U||i&Et.Optional)return U;jc()}finally{yo()}}else if("number"==typeof A){let U=null,oe=np(t,n),ue=Vs,Ce=i&Et.Host?n[Dr][xr]:null;for((-1===oe||i&Et.SkipSelf)&&(ue=-1===oe?uu(t,n):n[oe+8],ue!==Vs&&lp(i,!1)?(U=n[Tn],oe=Ya(ue),n=Xa(ue,n)):oe=-1);-1!==oe;){const Ue=n[Tn];if(ap(A,oe,Ue.data)){const Xe=M_(oe,n,o,U,i,Ce);if(Xe!==bi)return Xe}ue=n[oe+8],ue!==Vs&&lp(i,n[Tn].data[oe+8]===Ce)&&ap(A,oe,n)?(U=Ue,oe=Ya(ue),n=Xa(ue,n)):oe=-1}}return g}function M_(t,n,o,i,g,A){const U=n[Tn],oe=U.data[t+8],Ue=cu(oe,U,o,null==i?Xr(oe)&&id:i!=U&&0!=(3&oe.type),g&Et.Host&&A===oe);return null!==Ue?as(n,U,Ue,oe):bi}function cu(t,n,o,i,g){const A=t.providerIndexes,U=n.data,oe=1048575&A,ue=t.directiveStart,Ue=A>>20,pt=g?oe+Ue:t.directiveEnd;for(let Ot=i?oe:oe+Ue;Ot<pt;Ot++){const en=U[Ot];if(Ot<ue&&o===en||Ot>=ue&&en.type===o)return Ot}if(g){const Ot=U[ue];if(Ot&&Do(Ot)&&Ot.type===o)return ue}return null}function as(t,n,o,i){let g=t[o];const A=n.data;if(function b_(t){return t instanceof qa}(g)){const U=g;U.resolving&&function Db(t,n){throw n&&n.join(" > "),new Qe(-200,t)}(function Pr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ar(t)}(A[o]));const oe=au(U.canSeeViewProviders);U.resolving=!0;const Ce=U.injectImpl?$o(U.injectImpl):null;nr(t,i,Et.Default);try{g=t[o]=U.factory(void 0,A,t,i),n.firstCreatePass&&o>=i.directiveStart&&function y_(t,n,o){const{ngOnChanges:i,ngOnInit:g,ngDoCheck:A}=n.type.prototype;if(i){var U,oe;const Xe=Xf(n);(null!==(U=o.preOrderHooks)&&void 0!==U?U:o.preOrderHooks=[]).push(t,Xe),(null!==(oe=o.preOrderCheckHooks)&&void 0!==oe?oe:o.preOrderCheckHooks=[]).push(t,Xe)}var ue,Ce,Ue;g&&(null!==(ue=o.preOrderHooks)&&void 0!==ue?ue:o.preOrderHooks=[]).push(0-t,g),A&&((null!==(Ce=o.preOrderHooks)&&void 0!==Ce?Ce:o.preOrderHooks=[]).push(t,A),(null!==(Ue=o.preOrderCheckHooks)&&void 0!==Ue?Ue:o.preOrderCheckHooks=[]).push(t,A))}(o,A[o],n)}finally{null!==Ce&&$o(Ce),au(oe),U.resolving=!1,yo()}}return g}function ap(t,n,o){return!!(o[n+(t>>tp)]&1<<t)}function lp(t,n){return!(t&Et.Self||t&Et.Host&&n)}class bo{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,i){return ip(this._tNode,this._lView,n,$l(i),o)}}function T_(){return new bo(Or(),pn())}function up(t){return Sn(()=>{const n=t.prototype.constructor,o=n[L]||ld(n),i=Object.prototype;let g=Object.getPrototypeOf(t.prototype).constructor;for(;g&&g!==i;){const A=g[L]||ld(g);if(A&&A!==o)return A;g=Object.getPrototypeOf(g)}return A=>new A})}function ld(t){return si(t)?()=>{const n=ld(Vn(t));return n&&n()}:os(t)}function cp(t){const n=t[Tn],o=n.type;return 2===o?n.declTNode:1===o?t[xr]:null}function ud(t){return function D_(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const o=t.attrs;if(o){const i=o.length;let g=0;for(;g<i;){const A=o[g];if(rt(A))break;if(0===A)g+=2;else if("number"==typeof A)for(g++;g<i&&"string"==typeof o[g];)g++;else{if(A===n)return o[g+1];g+=2}}}return null}(Or(),t)}function mp(t,n=null,o=null,i){const g=gp(t,n,o,i);return g.resolveInjectorInitializers(),g}function gp(t,n=null,o=null,i,g=new Set){const A=[o||Pn,qb(t)];return i=i||("object"==typeof t?void 0:Pe(t)),new Us(A,n||tu(),i||null,g)}let ti=(()=>{var t;class n{static create(i,g){if(Array.isArray(i))return mp({name:""},g,i,"");{var A;const U=null!==(A=i.name)&&void 0!==A?A:"";return mp({name:U},i.parent,i.providers,U)}}}return(t=n).THROW_IF_NOT_FOUND=Ua,t.NULL=new Jl,t.\u0275prov=Fr({token:t,providedIn:"any",factory:()=>Oo($f)}),t.__NG_ELEMENT_ID__=-1,n})();function dd(t){return t.ngOriginalError}class Vi{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&dd(n);for(;o&&dd(o);)o=dd(o);return o||null}}const vp=new be("",{providedIn:"root",factory:()=>wr(Vi).handleError.bind(void 0)}),_p=new be("",{providedIn:"root",factory:()=>!1});let fu,pu;function zs(t){var n;return(null===(n=function hd(){if(void 0===fu&&(fu=null,Cn.trustedTypes))try{fu=Cn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fu}())||void 0===n?void 0:n.createHTML(t))||t}function Ep(t){var n;return(null===(n=function fd(){if(void 0===pu&&(pu=null,Cn.trustedTypes))try{pu=Cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pu}())||void 0===n?void 0:n.createScriptURL(t))||t}class ls{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ze})`}}class U_ extends ls{getTypeName(){return"HTML"}}class G_ extends ls{getTypeName(){return"Style"}}class $_ extends ls{getTypeName(){return"Script"}}class V_ extends ls{getTypeName(){return"URL"}}class H_ extends ls{getTypeName(){return"ResourceURL"}}function Ri(t){return t instanceof ls?t.changingThisBreaksApplicationSecurity:t}function qs(t,n){const o=function W_(t){return t instanceof ls&&t.getTypeName()||null}(t);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see ${Ze})`)}return o===n}function z_(t){return new U_(t)}function q_(t){return new G_(t)}function Y_(t){return new $_(t)}function X_(t){return new V_(t)}function K_(t){return new H_(t)}class J_{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const o=(new window.DOMParser).parseFromString(zs(n),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(n):(o.removeChild(o.firstChild),o)}catch{return null}}}class Z_{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const o=this.inertDocument.createElement("template");return o.innerHTML=zs(n),o}}const e1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mu(t){return(t=String(t)).match(e1)?t:"unsafe:"+t}function Li(t){const n={};for(const o of t.split(","))n[o]=!0;return n}function Ka(...t){const n={};for(const o of t)for(const i in o)o.hasOwnProperty(i)&&(n[i]=!0);return n}const Sp=Li("area,br,col,hr,img,wbr"),Dp=Li("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mp=Li("rp,rt"),pd=Ka(Sp,Ka(Dp,Li("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ka(Mp,Li("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ka(Mp,Dp)),md=Li("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ip=Ka(md,Li("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Li("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),t1=Li("script,style,template");class n1{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let o=n.firstChild,i=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?i=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,i&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let g=this.checkClobberedElement(o,o.nextSibling);if(g){o=g;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(n){const o=n.nodeName.toLowerCase();if(!pd.hasOwnProperty(o))return this.sanitizedSomething=!0,!t1.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const i=n.attributes;for(let g=0;g<i.length;g++){const A=i.item(g),U=A.name,oe=U.toLowerCase();if(!Ip.hasOwnProperty(oe)){this.sanitizedSomething=!0;continue}let ue=A.value;md[oe]&&(ue=mu(ue)),this.buf.push(" ",U,'="',Tp(ue),'"')}return this.buf.push(">"),!0}endElement(n){const o=n.nodeName.toLowerCase();pd.hasOwnProperty(o)&&!Sp.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(n){this.buf.push(Tp(n))}checkClobberedElement(n,o){if(o&&(n.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return o}}const r1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o1=/([^\#-~ |!])/g;function Tp(t){return t.replace(/&/g,"&amp;").replace(r1,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(o1,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gu;function Ap(t,n){let o=null;try{gu=gu||function Cp(t){const n=new Z_(t);return function Q_(){try{return!!(new window.DOMParser).parseFromString(zs(""),"text/html")}catch{return!1}}()?new J_(n):n}(t);let i=n?String(n):"";o=gu.getInertBodyElement(i);let g=5,A=i;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,i=A,A=o.innerHTML,o=gu.getInertBodyElement(i)}while(i!==A);return zs((new n1).sanitizeChildren(gd(o)||o))}finally{if(o){const i=gd(o)||o;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function gd(t){return"content"in t&&function i1(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var us=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(us||{});function yd(t){const n=Ja();return n?n.sanitize(us.URL,t)||"":qs(t,"URL")?Ri(t):mu(ar(t))}function Op(t){const n=Ja();if(n)return Ep(n.sanitize(us.RESOURCE_URL,t)||"");if(qs(t,"ResourceURL"))return Ep(Ri(t));throw new Qe(904,!1)}function jp(t,n,o){return function d1(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Op:yd}(n,o)(t)}function Ja(){const t=pn();return t&&t[$r].sanitizer}const h1=/^>|^->|<!--|-->|--!>|<!-$/g,f1=/(<|>)/g,p1="\u200b$1\u200b";const vd=new Map;let b1=0;const _d="__ngContext__";function jo(t,n){Vr(n)?(t[_d]=n[po],function w1(t){vd.set(t[po],t)}(n)):t[_d]=n}function ni(t){return t instanceof Function?t():t}var bu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(bu||{});let Cd;function Sd(t,n){return Cd(t,n)}function Xs(t,n,o,i,g){if(null!=i){let A,U=!1;Hr(i)?A=i:Vr(i)&&(U=!0,i=i[mr]);const oe=gt(i);0===t&&null!==o?null==g?Jp(n,o,oe):cs(n,o,oe,g||null,!0):1===t&&null!==o?cs(n,o,oe,g||null,!0):2===t?function Su(t,n,o){const i=Eu(t,n);i&&function V1(t,n,o,i){t.removeChild(n,o,i)}(t,i,n,o)}(n,oe,U):3===t&&n.destroyNode(oe),null!=A&&function z1(t,n,o,i,g){const A=o[co];A!==gt(o)&&Xs(n,t,i,A,g);for(let oe=br;oe<o.length;oe++){const ue=o[oe];Du(ue[Tn],ue,t,n,i,A)}}(n,t,A,o,g)}}function Dd(t,n){return t.createComment(function Pp(t){return t.replace(h1,n=>n.replace(f1,p1))}(n))}function wu(t,n,o){return t.createElement(n,o)}function Yp(t,n){Du(t,n,n[qn],2,null,null)}function Xp(t,n){const o=t[Lo],i=o.indexOf(n);o.splice(i,1)}function Qa(t,n){if(t.length<=br)return;const o=br+n,i=t[o];if(i){const g=i[So];null!==g&&g!==t&&Xp(g,i),n>0&&(t[o-1][Yr]=i[Yr]);const A=ka(t,br+n);!function L1(t,n){Yp(t,n),n[mr]=null,n[xr]=null}(i[Tn],i);const U=A[fo];null!==U&&U.detachView(A[Tn]),i[fr]=null,i[Yr]=null,i[Fn]&=-129}return i}function xu(t,n){if(!(256&n[Fn])){const o=n[qn];o.destroyNode&&Du(t,n,o,3,null,null),function F1(t){let n=t[ro];if(!n)return Md(t[Tn],t);for(;n;){let o=null;if(Vr(n))o=n[ro];else{const i=n[br];i&&(o=i)}if(!o){for(;n&&!n[Yr]&&n!==t;)Vr(n)&&Md(n[Tn],n),n=n[fr];null===n&&(n=t),Vr(n)&&Md(n[Tn],n),o=n&&n[Yr]}n=o}}(n)}}function Md(t,n){if(256&n[Fn])return;const o=S(null);try{n[Fn]&=-129,n[Fn]|=256,n[ko]&&function p(t){if(N(t),$(t))for(let n=0;n<t.producerNode.length;n++)O(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[ko]),function $1(t,n){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let i=0;i<o.length;i+=2){const g=n[o[i]];if(!(g instanceof qa)){const A=o[i+1];if(Array.isArray(A))for(let U=0;U<A.length;U+=2){const oe=g[A[U]],ue=A[U+1];vi(4,oe,ue);try{ue.call(oe)}finally{vi(5,oe,ue)}}else{vi(4,g,A);try{A.call(g)}finally{vi(5,g,A)}}}}}(t,n),function G1(t,n){const o=t.cleanup,i=n[uo];if(null!==o)for(let A=0;A<o.length-1;A+=2)if("string"==typeof o[A]){const U=o[A+3];U>=0?i[U]():i[-U].unsubscribe(),A+=2}else o[A].call(i[o[A+1]]);null!==i&&(n[uo]=null);const g=n[Po];if(null!==g){n[Po]=null;for(let A=0;A<g.length;A++)(0,g[A])()}}(t,n),1===n[Tn].type&&n[qn].destroy();const i=n[So];if(null!==i&&Hr(n[fr])){i!==n[fr]&&Xp(i,n);const g=n[fo];null!==g&&g.detachView(t)}!function x1(t){vd.delete(t[po])}(n)}finally{S(o)}}function Id(t,n,o){return function Kp(t,n,o){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return o[mr];{const{componentOffset:g}=i;if(g>-1){const{encapsulation:A}=t.data[i.directiveStart+g];if(A===En.None||A===En.Emulated)return null}return on(i,o)}}(t,n.parent,o)}function cs(t,n,o,i,g){t.insertBefore(n,o,i,g)}function Jp(t,n,o){t.appendChild(n,o)}function Zp(t,n,o,i,g){null!==i?cs(t,n,o,i,g):Jp(t,n,o)}function Eu(t,n){return t.parentNode(n)}function Qp(t,n,o){return tm(t,n,o)}let Td,tm=function em(t,n,o){return 40&t.type?on(t,o):null};function Cu(t,n,o,i){const g=Id(t,i,n),A=n[qn],oe=Qp(i.parent||n[xr],i,n);if(null!=g)if(Array.isArray(o))for(let ue=0;ue<o.length;ue++)Zp(A,g,o[ue],oe,!1);else Zp(A,g,o,oe,!1);void 0!==Td&&Td(A,i,n,o,g)}function el(t,n){if(null!==n){const o=n.type;if(3&o)return on(n,t);if(4&o)return Ad(-1,t[n.index]);if(8&o){const i=n.child;if(null!==i)return el(t,i);{const g=t[n.index];return Hr(g)?Ad(-1,g):gt(g)}}if(32&o)return Sd(n,t)()||gt(t[n.index]);{const i=rm(t,n);return null!==i?Array.isArray(i)?i[0]:el(kr(t[Dr]),i):el(t,n.next)}}return null}function rm(t,n){return null!==n?t[Dr][xr].projection[n.projection]:null}function Ad(t,n){const o=br+t+1;if(o<n.length){const i=n[o],g=i[Tn].firstChild;if(null!==g)return el(i,g)}return n[co]}function Od(t,n,o,i,g,A,U){for(;null!=o;){const oe=i[o.index],ue=o.type;if(U&&0===n&&(oe&&jo(gt(oe),i),o.flags|=2),32!=(32&o.flags))if(8&ue)Od(t,n,o.child,i,g,A,!1),Xs(n,t,g,oe,A);else if(32&ue){const Ce=Sd(o,i);let Ue;for(;Ue=Ce();)Xs(n,t,g,Ue,A);Xs(n,t,g,oe,A)}else 16&ue?im(t,n,i,o,g,A):Xs(n,t,g,oe,A);o=U?o.projectionNext:o.next}}function Du(t,n,o,i,g,A){Od(o,i,t.firstChild,n,g,A,!1)}function im(t,n,o,i,g,A){const U=o[Dr],ue=U[xr].projection[i.projection];if(Array.isArray(ue))for(let Ce=0;Ce<ue.length;Ce++)Xs(n,t,g,ue[Ce],A);else{let Ce=ue;const Ue=U[fr];Is(i)&&(Ce.flags|=128),Od(t,n,Ce,Ue,g,A,!0)}}function sm(t,n,o){""===o?t.removeAttribute(n,"class"):t.setAttribute(n,"class",o)}function am(t,n,o){const{mergedAttrs:i,classes:g,styles:A}=o;null!==i&&Re(t,n,i),null!==g&&sm(t,n,g),null!==A&&function Y1(t,n,o){t.setAttribute(n,"style",o)}(t,n,A)}const cr={};function lm(t=1){um(pr(),pn(),zr()+t,!1)}function um(t,n,o,i){if(!i)if(3==(3&n[Fn])){const A=t.preOrderCheckHooks;null!==A&&iu(n,A,o)}else{const A=t.preOrderHooks;null!==A&&su(n,A,0,o)}Co(o)}function Ks(t,n=Et.Default){const o=pn();return null===o?Oo(t,n):ip(Or(),o,Vn(t),n)}function cm(){throw new Error("invalid")}function dm(t,n,o,i,g,A){const U=S(null);try{let oe=null;g&Q.SignalBased&&(oe=n[i][W]),null!==oe&&void 0!==oe.transformFn&&(A=oe.transformFn(A)),g&Q.HasDecoratorInputTransform&&(A=t.inputTransforms[i].call(n,A)),null!==t.setInput?t.setInput(n,oe,A,o,i):Yf(n,oe,i,A)}finally{S(U)}}function Mu(t,n,o,i,g,A,U,oe,ue,Ce,Ue){const Xe=n.blueprint.slice();return Xe[mr]=g,Xe[Fn]=204|i,(null!==Ce||t&&2048&t[Fn])&&(Xe[Fn]|=2048),Ur(Xe),Xe[fr]=Xe[xo]=t,Xe[ur]=o,Xe[$r]=U||t&&t[$r],Xe[qn]=oe||t&&t[qn],Xe[vr]=ue||t&&t[vr]||null,Xe[xr]=A,Xe[po]=function _1(){return b1++}(),Xe[Lr]=Ue,Xe[qo]=Ce,Xe[Dr]=2==n.type?t[Dr]:Xe,Xe}function Js(t,n,o,i,g){let A=t.data[n];if(null===A)A=function jd(t,n,o,i,g){const A=Oa(),U=ws(),ue=t.data[n]=function nw(t,n,o,i,g,A){let U=n?n.injectorIndex:-1,oe=0;return Mi()&&(oe|=128),{type:o,index:i,insertBeforeIndex:null,injectorIndex:U,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:oe,providerIndexes:0,value:g,attrs:A,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,U?A:A&&A.parent,o,n,i,g);return null===t.firstChild&&(t.firstChild=ue),null!==A&&(U?null==A.child&&null!==ue.parent&&(A.child=ue):null===A.next&&(A.next=ue,ue.prev=A)),ue}(t,n,o,i,g),function dt(){return Nn.lFrame.inI18n}()&&(A.flags|=32);else if(64&A.type){A.type=o,A.value=i,A.attrs=g;const U=function Ii(){const t=Nn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();A.injectorIndex=null===U?-1:U.injectorIndex}return Zo(A,!0),A}function tl(t,n,o,i){if(0===o)return-1;const g=n.length;for(let A=0;A<o;A++)n.push(i),t.blueprint.push(i),t.data.push(null);return g}function hm(t,n,o,i,g){const A=zr(),U=2&i;try{Co(-1),U&&n.length>Yn&&um(t,n,Yn,!1),vi(U?2:0,g),o(i,g)}finally{Co(A),vi(U?3:1,g)}}function Pd(t,n,o){if(Eo(n)){const i=S(null);try{const A=n.directiveEnd;for(let U=n.directiveStart;U<A;U++){const oe=t.data[U];oe.contentQueries&&oe.contentQueries(1,o[U],U)}}finally{S(i)}}}function kd(t,n,o){Fi()&&(function uw(t,n,o,i){const g=o.directiveStart,A=o.directiveEnd;Xr(o)&&function gw(t,n,o){const i=on(n,t),g=fm(o);let U=16;o.signals?U=4096:o.onPush&&(U=64);const oe=Iu(t,Mu(t,g,null,U,i,n,null,t[$r].rendererFactory.createRenderer(i,o),null,null,null));t[n.index]=oe}(n,o,t.data[g+o.componentOffset]),t.firstCreatePass||lu(o,n),jo(i,n);const U=o.initialInputs;for(let oe=g;oe<A;oe++){const ue=t.data[oe],Ce=as(n,t,oe,o);jo(Ce,n),null!==U&&yw(0,oe-g,Ce,ue,0,U),Do(ue)&&(Gn(o.index,n)[ur]=as(n,t,oe,o))}}(t,n,o,on(o,n)),64==(64&o.flags)&&vm(t,n,o))}function Rd(t,n,o=on){const i=n.localNames;if(null!==i){let g=n.index+1;for(let A=0;A<i.length;A+=2){const U=i[A+1],oe=-1===U?o(n,t):t[U];t[g++]=oe}}}function fm(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Ld(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Ld(t,n,o,i,g,A,U,oe,ue,Ce,Ue){const Xe=Yn+i,pt=Xe+g,Ot=function K1(t,n){const o=[];for(let i=0;i<n;i++)o.push(i<t?null:cr);return o}(Xe,pt),en="function"==typeof Ce?Ce():Ce;return Ot[Tn]={type:t,blueprint:Ot,template:o,queries:null,viewQuery:oe,declTNode:n,data:Ot.slice().fill(null,Xe),bindingStartIndex:Xe,expandoStartIndex:pt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof A?A():A,pipeRegistry:"function"==typeof U?U():U,firstChild:null,schemas:ue,consts:en,incompleteFirstPass:!1,ssrId:Ue}}let pm=()=>null;function mm(t,n,o,i,g){for(let U in n){var A;if(!n.hasOwnProperty(U))continue;const oe=n[U];if(void 0===oe)continue;null!==(A=i)&&void 0!==A||(i={});let ue,Ce=Q.None;Array.isArray(oe)?(ue=oe[0],Ce=oe[1]):ue=oe;let Ue=U;if(null!==g){if(!g.hasOwnProperty(U))continue;Ue=g[U]}0===t?gm(i,o,Ue,ue,Ce):gm(i,o,Ue,ue)}return i}function gm(t,n,o,i,g){let A;t.hasOwnProperty(o)?(A=t[o]).push(n,i):A=t[o]=[n,i],void 0!==g&&A.push(g)}function Ho(t,n,o,i,g,A,U,oe){const ue=on(n,o);let Ue,Ce=n.inputs;!oe&&null!=Ce&&(Ue=Ce[i])?(Gd(t,o,Ue,i,g),Xr(n)&&function iw(t,n){const o=Gn(n,t);16&o[Fn]||(o[Fn]|=64)}(o,n.index)):3&n.type&&(i=function ow(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),g=null!=U?U(g,n.value||"",i):g,A.setProperty(ue,i,g))}function Nd(t,n,o,i){if(Fi()){const g=null===i?null:{"":-1},A=function dw(t,n){const o=t.directiveRegistry;let i=null,g=null;if(o)for(let U=0;U<o.length;U++){const oe=o[U];if($e(n,oe.selectors,!1))if(i||(i=[]),Do(oe))if(null!==oe.findHostDirectiveDefs){const ue=[];g=g||new Map,oe.findHostDirectiveDefs(oe,ue,g),i.unshift(...ue,oe),Fd(t,n,ue.length)}else i.unshift(oe),Fd(t,n,0);else{var A;g=g||new Map,null===(A=oe.findHostDirectiveDefs)||void 0===A||A.call(oe,oe,i,g),i.push(oe)}}return null===i?null:[i,g]}(t,o);let U,oe;null===A?U=oe=null:[U,oe]=A,null!==U&&ym(t,n,o,U,g,oe),g&&function hw(t,n,o){if(n){const i=t.localNames=[];for(let g=0;g<n.length;g+=2){const A=o[n[g+1]];if(null==A)throw new Qe(-301,!1);i.push(n[g],A)}}}(o,i,g)}o.mergedAttrs=Xt(o.mergedAttrs,o.attrs)}function ym(t,n,o,i,g,A){for(let Xe=0;Xe<i.length;Xe++)ad(lu(o,n),t,i[Xe].type);!function pw(t,n,o){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+o,t.providerIndexes=n}(o,t.data.length,i.length);for(let Xe=0;Xe<i.length;Xe++){const pt=i[Xe];pt.providersResolver&&pt.providersResolver(pt)}let U=!1,oe=!1,ue=tl(t,n,i.length,null);for(let Xe=0;Xe<i.length;Xe++){const pt=i[Xe];o.mergedAttrs=Xt(o.mergedAttrs,pt.hostAttrs),mw(t,o,n,ue,pt),fw(ue,pt,g),null!==pt.contentQueries&&(o.flags|=4),(null!==pt.hostBindings||null!==pt.hostAttrs||0!==pt.hostVars)&&(o.flags|=64);const Ot=pt.type.prototype;var Ce,Ue;!U&&(Ot.ngOnChanges||Ot.ngOnInit||Ot.ngDoCheck)&&((null!==(Ce=t.preOrderHooks)&&void 0!==Ce?Ce:t.preOrderHooks=[]).push(o.index),U=!0),oe||!Ot.ngOnChanges&&!Ot.ngDoCheck||((null!==(Ue=t.preOrderCheckHooks)&&void 0!==Ue?Ue:t.preOrderCheckHooks=[]).push(o.index),oe=!0),ue++}!function rw(t,n,o){const g=n.directiveEnd,A=t.data,U=n.attrs,oe=[];let ue=null,Ce=null;for(let Ue=n.directiveStart;Ue<g;Ue++){const Xe=A[Ue],pt=o?o.get(Xe):null,en=pt?pt.outputs:null;ue=mm(0,Xe.inputs,Ue,ue,pt?pt.inputs:null),Ce=mm(1,Xe.outputs,Ue,Ce,en);const mn=null===ue||null===U||Hn(n)?null:vw(ue,Ue,U);oe.push(mn)}null!==ue&&(ue.hasOwnProperty("class")&&(n.flags|=8),ue.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=oe,n.inputs=ue,n.outputs=Ce}(t,o,A)}function vm(t,n,o){const i=o.directiveStart,g=o.directiveEnd,A=o.index,U=function St(){return Nn.lFrame.currentDirectiveIndex}();try{Co(A);for(let oe=i;oe<g;oe++){const ue=t.data[oe],Ce=n[oe];cn(oe),(null!==ue.hostBindings||0!==ue.hostVars||null!==ue.hostAttrs)&&cw(ue,Ce)}}finally{Co(-1),cn(U)}}function cw(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Fd(t,n,o){var i;n.componentOffset=o,(null!==(i=t.components)&&void 0!==i?i:t.components=[]).push(n.index)}function fw(t,n,o){if(o){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)o[n.exportAs[i]]=t;Do(n)&&(o[""]=t)}}function mw(t,n,o,i,g){t.data[i]=g;const A=g.factory||(g.factory=os(g.type)),U=new qa(A,Do(g),Ks);t.blueprint[i]=U,o[i]=U,function aw(t,n,o,i,g){const A=g.hostBindings;if(A){let U=t.hostBindingOpCodes;null===U&&(U=t.hostBindingOpCodes=[]);const oe=~n.index;(function lw(t){let n=t.length;for(;n>0;){const o=t[--n];if("number"==typeof o&&o<0)return o}return 0})(U)!=oe&&U.push(oe),U.push(o,i,A)}}(t,n,i,tl(t,o,g.hostVars,cr),g)}function _i(t,n,o,i,g,A){const U=on(t,n);!function Bd(t,n,o,i,g,A,U){if(null==A)t.removeAttribute(n,g,o);else{const oe=null==U?ar(A):U(A,i||"",g);t.setAttribute(n,g,oe,o)}}(n[qn],U,A,t.value,o,i,g)}function yw(t,n,o,i,g,A){const U=A[n];if(null!==U)for(let oe=0;oe<U.length;)dm(i,o,U[oe++],U[oe++],U[oe++],U[oe++])}function vw(t,n,o){let i=null,g=0;for(;g<o.length;){const A=o[g];if(0!==A)if(5!==A){if("number"==typeof A)break;if(t.hasOwnProperty(A)){null===i&&(i=[]);const U=t[A];for(let oe=0;oe<U.length;oe+=3)if(U[oe]===n){i.push(A,U[oe+1],U[oe+2],o[g+1]);break}}g+=2}else g+=2;else g+=4}return i}function bm(t,n,o,i){return[t,!0,0,n,null,i,null,o,null,null]}function _m(t,n){const o=t.contentQueries;if(null!==o){const i=S(null);try{for(let g=0;g<o.length;g+=2){const U=o[g+1];if(-1!==U){const oe=t.data[U];ir(o[g]),oe.contentQueries(2,n[U],U)}}}finally{S(i)}}}function Iu(t,n){return t[ro]?t[zo][Yr]=n:t[ro]=n,t[zo]=n,n}function Ud(t,n,o){ir(0);const i=S(null);try{n(t,o)}finally{S(i)}}function wm(t){return t[uo]||(t[uo]=[])}function xm(t){return t.cleanup||(t.cleanup=[])}function Tu(t,n){const o=t[vr],i=o?o.get(Vi,null):null;i&&i.handleError(n)}function Gd(t,n,o,i,g){for(let A=0;A<o.length;){const U=o[A++],oe=o[A++],ue=o[A++];dm(t.data[U],n[U],i,oe,ue,g)}}function Ni(t,n,o){const i=tn(n,t);!function qp(t,n,o){t.setValue(n,o)}(t[qn],i,o)}function bw(t,n){const o=Gn(n,t),i=o[Tn];!function _w(t,n){for(let o=n.length;o<t.blueprint.length;o++)n.push(t.blueprint[o])}(i,o);const g=o[mr];null!==g&&null===o[Lr]&&(o[Lr]=Uc(g,o[vr])),$d(i,o,o[ur])}function $d(t,n,o){Tr(n);try{var i;const g=t.viewQuery;null!==g&&Ud(1,g,o);const A=t.template;null!==A&&hm(t,n,A,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),null===(i=n[fo])||void 0===i||i.finishViewCreation(t),t.staticContentQueries&&_m(t,n),t.staticViewQueries&&Ud(2,t.viewQuery,o);const U=t.components;null!==U&&function ww(t,n){for(let o=0;o<n.length;o++)bw(t,n[o])}(n,U)}catch(g){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),g}finally{n[Fn]&=-5,ei()}}function Zs(t,n){return!n||null===n.firstChild||Is(t)}function rl(t,n,o,i=!0){const g=n[Tn];if(function B1(t,n,o,i){const g=br+i,A=o.length;i>0&&(o[g-1][Yr]=n),i<A-br?(n[Yr]=o[g],Ec(o,br+i,n)):(o.push(n),n[Yr]=null),n[fr]=o;const U=n[So];null!==U&&o!==U&&function U1(t,n){const o=t[Lo];n[Dr]!==n[fr][fr][Dr]&&(t[Fn]|=Yo.HasTransplantedViews),null===o?t[Lo]=[n]:o.push(n)}(U,n);const oe=n[fo];null!==oe&&oe.insertView(t),ho(n),n[Fn]|=128}(g,n,t,o),i){const U=Ad(o,t),oe=n[qn],ue=Eu(oe,t[co]);null!==ue&&function N1(t,n,o,i,g,A){i[mr]=g,i[xr]=n,Du(t,i,o,1,g,A)}(g,t[xr],oe,n,ue,U)}const A=n[Lr];null!==A&&null!==A.firstChild&&(A.firstChild=null)}function ol(t,n,o,i,g=!1){for(;null!==o;){const A=n[o.index];null!==A&&i.push(gt(A)),Hr(A)&&Sm(A,i);const U=o.type;if(8&U)ol(t,n,o.child,i);else if(32&U){const oe=Sd(o,n);let ue;for(;ue=oe();)i.push(ue)}else if(16&U){const oe=rm(n,o);if(Array.isArray(oe))i.push(...oe);else{const ue=kr(n[Dr]);ol(ue[Tn],ue,oe,i,!0)}}o=g?o.projectionNext:o.next}return i}function Sm(t,n){for(let o=br;o<t.length;o++){const i=t[o],g=i[Tn].firstChild;null!==g&&ol(i[Tn],i,g,n)}t[co]!==t[mr]&&n.push(t[co])}let Dm=[];const Sw={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Er(t.lView)},consumerOnSignalRead(){this.lView[ko]=this}};function Mm(t){return Tm(t[ro])}function Im(t){return Tm(t[Yr])}function Tm(t){for(;null!==t&&!Hr(t);)t=t[Yr];return t}function Au(t,n=!0,o=0){const i=t[$r],g=i.rendererFactory;var U;null===(U=g.begin)||void 0===U||U.call(g);try{!function Iw(t,n){Hd(t,n);let o=0;for(;Jr(t);){if(100===o)throw new Qe(103,!1);o++,Hd(t,1)}}(t,o)}catch(Ce){throw n&&Tu(t,Ce),Ce}finally{var oe,ue;null===(oe=g.end)||void 0===oe||oe.call(g),null===(ue=i.inlineEffectRunner)||void 0===ue||ue.flush()}}function Tw(t,n,o,i){var g;const A=n[Fn];if(256==(256&A))return;null===(g=n[$r].inlineEffectRunner)||void 0===g||g.flush(),Tr(n);let oe=null,ue=null;(function Aw(t){return 2!==t.type})(t)&&(ue=function xw(t){var n;return null!==(n=t[ko])&&void 0!==n?n:function Ew(t){var n;const o=null!==(n=Dm.pop())&&void 0!==n?n:Object.create(Sw);return o.lView=t,o}(t)}(n),oe=function c(t){return t&&(t.nextProducerIndex=0),S(t)}(ue));try{Ur(n),function es(t){return Nn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&hm(t,n,o,2,i);const Ce=3==(3&A);if(Ce){const pt=t.preOrderCheckHooks;null!==pt&&iu(n,pt,null)}else{const pt=t.preOrderHooks;null!==pt&&su(n,pt,0,null),nd(n,0)}if(function Ow(t){for(let n=Mm(t);null!==n;n=Im(n)){if(!(n[Fn]&Yo.HasTransplantedViews))continue;const o=n[Lo];for(let i=0;i<o.length;i++){Kr(o[i])}}}(n),Om(n,0),null!==t.contentQueries&&_m(t,n),Ce){const pt=t.contentCheckHooks;null!==pt&&iu(n,pt)}else{const pt=t.contentHooks;null!==pt&&su(n,pt,1),nd(n,1)}!function X1(t,n){const o=t.hostBindingOpCodes;if(null!==o)try{for(let i=0;i<o.length;i++){const g=o[i];if(g<0)Co(~g);else{const A=g,U=o[++i],oe=o[++i];tt(U,A),oe(2,n[A])}}}finally{Co(-1)}}(t,n);const Ue=t.components;null!==Ue&&Pm(n,Ue,0);const Xe=t.viewQuery;if(null!==Xe&&Ud(2,Xe,i),Ce){const pt=t.viewCheckHooks;null!==pt&&iu(n,pt)}else{const pt=t.viewHooks;null!==pt&&su(n,pt,2),nd(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[mo]){for(const pt of n[mo])pt();n[mo]=null}n[Fn]&=-73}catch(Ce){throw Er(n),Ce}finally{null!==ue&&(function s(t,n){if(S(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if($(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)O(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(ue,oe),function Cw(t){t.lView[ko]!==t&&(t.lView=null,Dm.push(t))}(ue)),ei()}}function Om(t,n){for(let o=Mm(t);null!==o;o=Im(o))for(let i=br;i<o.length;i++)jm(o[i],n)}function jw(t,n,o){jm(Gn(n,t),o)}function jm(t,n){Un(t)&&Hd(t,n)}function Hd(t,n){const i=t[Tn],g=t[Fn],A=t[ko];let U=!!(0===n&&16&g);if(U||(U=!!(64&g&&0===n)),U||(U=!!(1024&g)),U||(U=!(null==A||!A.dirty||!m(A))),A&&(A.dirty=!1),t[Fn]&=-9217,U)Tw(i,t,i.template,t[ur]);else if(8192&g){Om(t,1);const oe=i.components;null!==oe&&Pm(t,oe,1)}}function Pm(t,n,o){for(let i=0;i<n.length;i++)jw(t,n[i],o)}function il(t){var n;for(null===(n=t[$r].changeDetectionScheduler)||void 0===n||n.notify();t;){t[Fn]|=64;const o=kr(t);if(Xo(t)&&!o)return t;t=o}return null}class sl{get rootNodes(){const n=this._lView,o=n[Tn];return ol(o,n,o.firstChild,[])}constructor(n,o,i=!0){this._lView=n,this._cdRefInjectingView=o,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ur]}set context(n){this._lView[ur]=n}get destroyed(){return 256==(256&this._lView[Fn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[fr];if(Hr(n)){const o=n[8],i=o?o.indexOf(this):-1;i>-1&&(Qa(n,i),ka(o,i))}this._attachedToViewContainer=!1}xu(this._lView[Tn],this._lView)}onDestroy(n){Mr(this._lView,n)}markForCheck(){il(this._cdRefInjectingView||this._lView)}detach(){this._lView[Fn]&=-129}reattach(){ho(this._lView),this._lView[Fn]|=128}detectChanges(){this._lView[Fn]|=1024,Au(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Yp(this._lView[Tn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Qe(902,!1);this._appRef=n,ho(this._lView)}}let al=(()=>{class n{}return n.__NG_ELEMENT_ID__=Rw,n})();const Pw=al,kw=class extends Pw{constructor(n,o,i){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=i}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,i){const g=function nl(t,n,o,i){const g=S(null);try{var A,U;const oe=n.tView,Ue=Mu(t,oe,o,4096&t[Fn]?4096:16,null,n,null,null,null,null!==(A=null==i?void 0:i.injector)&&void 0!==A?A:null,null!==(U=null==i?void 0:i.dehydratedView)&&void 0!==U?U:null);Ue[So]=t[n.index];const pt=t[fo];return null!==pt&&(Ue[fo]=pt.createEmbeddedView(oe)),$d(oe,Ue,o),Ue}finally{S(g)}}(this._declarationLView,this._declarationTContainer,n,{injector:o,dehydratedView:i});return new sl(g)}};function Rw(){return Ou(Or(),pn())}function Ou(t,n){return 4&t.type?new kw(n,t,gi(t,n)):null}class Um{}class rx{}class Gm{}class ix{resolveComponentFactory(n){throw function ox(t){const n=Error(`No component factory found for ${Pe(t)}.`);return n.ngComponent=t,n}(n)}}let Lu=(()=>{class n{}return n.NULL=new ix,n})();class Vm{}let sx=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function ax(){const t=pn(),o=Gn(Or().index,t);return(Vr(o)?o:t)[qn]}(),n})(),lx=(()=>{var t;class n{}return(t=n).\u0275prov=Fr({token:t,providedIn:"root",factory:()=>null}),n})();const Kd={};let Nu=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=cx,t.__NG_ENV_ID__=o=>o,n})();class ux extends Nu{constructor(n){super(),this._lView=n}onDestroy(n){return Mr(this._lView,n),()=>function yr(t,n){if(null===t[Po])return;const o=t[Po].indexOf(n);-1!==o&&t[Po].splice(o,1)}(this._lView,n)}}function cx(){return new ux(pn())}const Hm=new Set;function wi(t){var n,o;Hm.has(t)||(Hm.add(t),null===(n=performance)||void 0===n||null===(o=n.mark)||void 0===o||o.call(n,"mark_feature_usage",{detail:{feature:t}}))}function Wm(...t){}class io{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ht(!1),this.onMicrotaskEmpty=new Ht(!1),this.onStable=new Ht(!1),this.onError=new Ht(!1),typeof Zone>"u")throw new Qe(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!i&&o,g.shouldCoalesceRunChangeDetection=i,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function dx(){const t="function"==typeof Cn.requestAnimationFrame;let n=Cn[t?"requestAnimationFrame":"setTimeout"],o=Cn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&o){const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);const g=o[Zone.__symbol__("OriginalDelegate")];g&&(o=g)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function px(t){const n=()=>{!function fx(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Cn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Zd(t),t.isCheckStableRunning=!0,Jd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Zd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,i,g,A,U,oe)=>{if(function mx(t){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(oe))return o.invokeTask(g,A,U,oe);try{return zm(t),o.invokeTask(g,A,U,oe)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===A.type||t.shouldCoalesceRunChangeDetection)&&n(),qm(t)}},onInvoke:(o,i,g,A,U,oe,ue)=>{try{return zm(t),o.invoke(g,A,U,oe,ue)}finally{t.shouldCoalesceRunChangeDetection&&n(),qm(t)}},onHasTask:(o,i,g,A)=>{o.hasTask(g,A),i===g&&("microTask"==A.change?(t._hasPendingMicrotasks=A.microTask,Zd(t),Jd(t)):"macroTask"==A.change&&(t.hasPendingMacrotasks=A.macroTask))},onHandleError:(o,i,g,A)=>(o.handleError(g,A),t.runOutsideAngular(()=>t.onError.emit(A)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!io.isInAngularZone())throw new Qe(909,!1)}static assertNotInAngularZone(){if(io.isInAngularZone())throw new Qe(909,!1)}run(n,o,i){return this._inner.run(n,o,i)}runTask(n,o,i,g){const A=this._inner,U=A.scheduleEventTask("NgZoneEvent: "+g,n,hx,Wm,Wm);try{return A.runTask(U,o,i)}finally{A.cancelTask(U)}}runGuarded(n,o,i){return this._inner.runGuarded(n,o,i)}runOutsideAngular(n){return this._outer.run(n)}}const hx={};function Jd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Zd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qm(t){t._nesting--,Jd(t)}class Ym{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ht,this.onMicrotaskEmpty=new Ht,this.onStable=new Ht,this.onError=new Ht}run(n,o,i){return n.apply(o,i)}runGuarded(n,o,i){return n.apply(o,i)}runOutsideAngular(n){return n()}runTask(n,o,i,g){return n.apply(o,i)}}var ds=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ds||{});const Xm={destroy(){}};function Km(t,n){var o,i,g;!n&&function nu(t){if(!jf()&&!function Ob(){return Os}())throw new Qe(-203,!1)}();const A=null!==(o=null==n?void 0:n.injector)&&void 0!==o?o:wr(ti);if(!function Hi(t){return"browser"===(null!=t?t:wr(ti)).get(st)}(A))return Xm;wi("NgAfterNextRender");const U=A.get(hl),oe=null!==(i=U.handler)&&void 0!==i?i:U.handler=new Zm,ue=null!==(g=null==n?void 0:n.phase)&&void 0!==g?g:ds.MixedReadWrite,Ce=()=>{oe.unregister(Xe),Ue()},Ue=A.get(Nu).onDestroy(Ce),Xe=new Jm(A,ue,()=>{Ce(),t()});return oe.register(Xe),{destroy:Ce}}class Jm{constructor(n,o,i){this.phase=o,this.callbackFn=i,this.zone=n.get(io),this.errorHandler=n.get(Vi,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(o){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(o)}}}class Zm{constructor(){this.executingCallbacks=!1,this.buckets={[ds.EarlyRead]:new Set,[ds.Write]:new Set,[ds.MixedReadWrite]:new Set,[ds.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const o of n)o.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let hl=(()=>{var t;class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var i;this.executeInternalCallbacks(),null===(i=this.handler)||void 0===i||i.execute()}executeInternalCallbacks(){const i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const g of i)g()}ngOnDestroy(){var i;null===(i=this.handler)||void 0===i||i.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=Fr({token:t,providedIn:"root",factory:()=>new t}),n})();function Wi(t){return!!Xn(t)}function Bu(t,n,o){let i=o?t.styles:null,g=o?t.classes:null,A=0;if(null!==n)for(let U=0;U<n.length;U++){const oe=n[U];"number"==typeof oe?A=oe:1==A?g=Ge(g,oe):2==A&&(i=Ge(i,oe+": "+n[++U]+";"))}o?t.styles=i:t.stylesWithoutHost=i,o?t.classes=g:t.classesWithoutHost=g}class tg extends Lu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=Zt(n);return new ml(o,this.ngModule)}}function ng(t){const n=[];for(const o in t){if(!t.hasOwnProperty(o))continue;const i=t[o];void 0!==i&&n.push({propName:Array.isArray(i)?i[0]:i,templateName:o})}return n}class wx{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,i){i=$l(i);const g=this.injector.get(n,Kd,i);return g!==Kd||o===Kd?g:this.parentInjector.get(n,o,i)}}class ml extends Gm{get inputs(){const n=this.componentDef,o=n.inputTransforms,i=ng(n.inputs);if(null!==o)for(const g of i)o.hasOwnProperty(g.propName)&&(g.transform=o[g.propName]);return i}get outputs(){return ng(this.componentDef.outputs)}constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function He(t){return t.map(je).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}create(n,o,i,g){const A=S(null);try{var oe;let ue=(g=g||this.ngModule)instanceof di?g:null===(oe=g)||void 0===oe?void 0:oe.injector;ue&&null!==this.componentDef.getStandaloneInjector&&(ue=this.componentDef.getStandaloneInjector(ue)||ue);const Ce=ue?new wx(n,ue):n,Ue=Ce.get(Vm,null);if(null===Ue)throw new Qe(407,!1);const Xe=Ce.get(lx,null),en={rendererFactory:Ue,sanitizer:Xe,inlineEffectRunner:null,afterRenderEventManager:Ce.get(hl,null),changeDetectionScheduler:Ce.get(Um,null)},mn=Ue.createRenderer(null,this.componentDef),Mn=this.componentDef.selectors[0][0]||"div",jn=i?function J1(t,n,o,i){const A=i.get(_p,!1)||o===En.ShadowDom,U=t.selectRootElement(n,A);return function Z1(t){pm(t)}(U),U}(mn,i,this.componentDef.encapsulation,Ce):wu(mn,Mn,function _x(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Mn));let vn=512;this.componentDef.signals?vn|=4096:this.componentDef.onPush||(vn|=16);let Kn=null;null!==jn&&(Kn=Uc(jn,Ce,!0));const hr=Ld(0,null,null,1,0,null,null,null,null,null,null),gr=Mu(null,hr,null,vn,null,null,en,mn,Ce,null,Kn);let Io,vs;Tr(gr);try{const Ji=this.componentDef;let Sa,Sf=null;Ji.findHostDirectiveDefs?(Sa=[],Sf=new Map,Ji.findHostDirectiveDefs(Ji,Sa,Sf),Sa.push(Ji)):Sa=[Ji];const VM=function Ex(t,n){const o=t[Tn],i=Yn;return t[i]=n,Js(o,i,2,"#host",null)}(gr,jn),HM=function Cx(t,n,o,i,g,A,U){const oe=g[Tn];!function Sx(t,n,o,i){for(const g of t)n.mergedAttrs=Xt(n.mergedAttrs,g.hostAttrs);null!==n.mergedAttrs&&(Bu(n,n.mergedAttrs,!0),null!==o&&am(i,o,n))}(i,t,n,U);let ue=null;null!==n&&(ue=Uc(n,g[vr]));const Ce=A.rendererFactory.createRenderer(n,o);let Ue=16;o.signals?Ue=4096:o.onPush&&(Ue=64);const Xe=Mu(g,fm(o),null,Ue,g[t.index],t,A,Ce,null,null,ue);return oe.firstCreatePass&&Fd(oe,t,i.length-1),Iu(g,Xe),g[t.index]=Xe}(VM,jn,Ji,Sa,gr,en,mn);vs=Kt(hr,Yn),jn&&function Mx(t,n,o,i){if(i)Re(t,o,["ng-version","17.2.4"]);else{const{attrs:g,classes:A}=function Mt(t){const n=[],o=[];let i=1,g=2;for(;i<t.length;){let A=t[i];if("string"==typeof A)2===g?""!==A&&n.push(A,t[++i]):8===g&&o.push(A);else{if(!at(g))break;g=A}i++}return{attrs:n,classes:o}}(n.selectors[0]);g&&Re(t,o,g),A&&A.length>0&&sm(t,o,A.join(" "))}}(mn,Ji,jn,i),void 0!==o&&function Ix(t,n,o){const i=t.projection=[];for(let g=0;g<n.length;g++){const A=o[g];i.push(null!=A?Array.from(A):null)}}(vs,this.ngContentSelectors,o),Io=function Dx(t,n,o,i,g,A){const U=Or(),oe=g[Tn],ue=on(U,g);ym(oe,g,U,o,null,i);for(let Ue=0;Ue<o.length;Ue++)jo(as(g,oe,U.directiveStart+Ue,U),g);vm(oe,g,U),ue&&jo(ue,g);const Ce=as(g,oe,U.directiveStart+U.componentOffset,U);if(t[ur]=g[ur]=Ce,null!==A)for(const Ue of A)Ue(Ce,n);return Pd(oe,U,g),Ce}(HM,Ji,Sa,Sf,gr,[Tx]),$d(hr,gr,null)}finally{ei()}return new xx(this.componentType,Io,gi(vs,gr),gr,vs)}finally{S(A)}}}class xx extends rx{constructor(n,o,i,g,A){super(),this.location=i,this._rootLView=g,this._tNode=A,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new sl(g,void 0,!1),this.componentType=n}setInput(n,o){const i=this._tNode.inputs;let g;if(null!==i&&(g=i[n])){var A;if(null!==(A=this.previousInputValues)&&void 0!==A||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),o))return;const U=this._rootLView;Gd(U[Tn],U,g,n,o),this.previousInputValues.set(n,o),il(Gn(this._tNode.index,U))}}get injector(){return new bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Tx(){const t=Or();ou(pn()[Tn],t)}let Uu=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ax,n})();function Ax(){return ig(Or(),pn())}const Ox=Uu,rg=class extends Ox{constructor(n,o,i){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=i}get element(){return gi(this._hostTNode,this._hostLView)}get injector(){return new bo(this._hostTNode,this._hostLView)}get parentInjector(){const n=uu(this._hostTNode,this._hostLView);if(od(n)){const o=Xa(n,this._hostLView),i=Ya(n);return new bo(o[Tn].data[i+8],o)}return new bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=og(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-br}createEmbeddedView(n,o,i){let g,A;"number"==typeof i?g=i:null!=i&&(g=i.index,A=i.injector);const oe=n.createEmbeddedViewImpl(o||{},A,null);return this.insertImpl(oe,g,Zs(this._hostTNode,null)),oe}createComponent(n,o,i,g,A){var U,ue;const Ce=n&&!function za(t){return"function"==typeof t}(n);let Ue;if(Ce)Ue=o;else{const jn=o||{};Ue=jn.index,i=jn.injector,g=jn.projectableNodes,A=jn.environmentInjector||jn.ngModuleRef}const Xe=Ce?n:new ml(Zt(n)),pt=i||this.parentInjector;if(!A&&null==Xe.ngModule){const vn=(Ce?pt:this.parentInjector).get(di,null);vn&&(A=vn)}const Ot=Zt(null!==(U=Xe.componentType)&&void 0!==U?U:{}),en=(null==Ot?void 0:Ot.id,null),mn=null!==(ue=null==en?void 0:en.firstChild)&&void 0!==ue?ue:null,Mn=Xe.create(pt,g,mn,A);return this.insertImpl(Mn.hostView,Ue,Zs(this._hostTNode,en)),Mn}insert(n,o){return this.insertImpl(n,o,!0)}insertImpl(n,o,i){const g=n._lView;if(function Qn(t){return Hr(t[fr])}(g)){const oe=this.indexOf(n);if(-1!==oe)this.detach(oe);else{const ue=g[fr],Ce=new rg(ue,ue[xr],ue[fr]);Ce.detach(Ce.indexOf(n))}}const A=this._adjustIndex(o),U=this._lContainer;return rl(U,g,A,i),n.attachToViewContainerRef(),Ec(nh(U),A,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=og(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),i=Qa(this._lContainer,o);i&&(ka(nh(this._lContainer),o),xu(i[Tn],i))}detach(n){const o=this._adjustIndex(n,-1),i=Qa(this._lContainer,o);return i&&null!=ka(nh(this._lContainer),o)?new sl(i):null}_adjustIndex(n,o=0){return null==n?this.length+o:n}};function og(t){return t[8]}function nh(t){return t[8]||(t[8]=[])}function ig(t,n){let o;const i=n[t.index];return Hr(i)?o=i:(o=bm(i,n,null,t),n[t.index]=o,Iu(n,o)),sg(o,n,t,i),new rg(o,t,n)}let sg=function lg(t,n,o,i){if(t[co])return;let g;g=8&o.type?gt(i):function jx(t,n){const o=t[qn],i=o.createComment(""),g=on(n,t);return cs(o,Eu(o,g),i,function H1(t,n){return t.nextSibling(n)}(o,g),!1),i}(n,o),t[co]=g},rh=()=>!1;class oh{constructor(n){this.queryList=n,this.matches=null}clone(){return new oh(this.queryList)}setDirty(){this.queryList.setDirty()}}class ih{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const i=null!==n.contentQueries?n.contentQueries[0]:o.length,g=[];for(let A=0;A<i;A++){const U=o.getByIndex(A);g.push(this.queries[U.indexInDeclarationView].clone())}return new ih(g)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==ch(n,o).matches&&this.queries[o].setDirty()}}class ug{constructor(n,o,i=null){this.flags=o,this.read=i,this.predicate="string"==typeof n?function Ux(t){return t.split(",").map(n=>n.trim())}(n):n}}class sh{constructor(n=[]){this.queries=n}elementStart(n,o){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let i=0;i<this.length;i++){const g=null!==o?o.length:0,A=this.getByIndex(i).embeddedTView(n,g);A&&(A.indexInDeclarationView=i,null!==o?o.push(A):o=[A])}return null!==o?new sh(o):null}template(n,o){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class ah{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new ah(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==o;)i=i.parent;return o===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const i=this.metadata.predicate;if(Array.isArray(i))for(let g=0;g<i.length;g++){const A=i[g];this.matchTNodeWithReadOption(n,o,Lx(o,A)),this.matchTNodeWithReadOption(n,o,cu(o,n,A,!1,!1))}else i===al?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,cu(o,n,i,!1,!1))}matchTNodeWithReadOption(n,o,i){if(null!==i){const g=this.metadata.read;if(null!==g)if(g===Bi||g===Uu||g===al&&4&o.type)this.addMatch(o.index,-2);else{const A=cu(o,n,g,!1,!1);null!==A&&this.addMatch(o.index,A)}else this.addMatch(o.index,i)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function Lx(t,n){const o=t.localNames;if(null!==o)for(let i=0;i<o.length;i+=2)if(o[i]===n)return o[i+1];return null}function Fx(t,n,o,i){return-1===o?function Nx(t,n){return 11&t.type?gi(t,n):4&t.type?Ou(t,n):null}(n,t):-2===o?function Bx(t,n,o){return o===Bi?gi(n,t):o===al?Ou(n,t):o===Uu?ig(n,t):void 0}(t,n,i):as(t,t[Tn],o,n)}function cg(t,n,o,i){const g=n[fo].queries[i];if(null===g.matches){const A=t.data,U=o.matches,oe=[];for(let ue=0;null!==U&&ue<U.length;ue+=2){const Ce=U[ue];oe.push(Ce<0?null:Fx(n,A[Ce],U[ue+1],o.metadata.read))}g.matches=oe}return g.matches}function lh(t,n,o,i){const g=t.queries.getByIndex(o),A=g.matches;if(null!==A){const U=cg(t,n,g,o);for(let oe=0;oe<A.length;oe+=2){const ue=A[oe];if(ue>0)i.push(U[oe/2]);else{const Ce=A[oe+1],Ue=n[-ue];for(let Xe=br;Xe<Ue.length;Xe++){const pt=Ue[Xe];pt[So]===pt[fr]&&lh(pt[Tn],pt,Ce,i)}if(null!==Ue[Lo]){const Xe=Ue[Lo];for(let pt=0;pt<Xe.length;pt++){const Ot=Xe[pt];lh(Ot[Tn],Ot,Ce,i)}}}}}return i}function dg(t,n,o){var i;const g=new Bl(4==(4&o));return function tw(t,n,o,i){const g=wm(n);g.push(o),t.firstCreatePass&&xm(t).push(i,g.length-1)}(t,n,g,g.destroy),(null!==(i=n[fo])&&void 0!==i?i:n[fo]=new ih).queries.push(new oh(g))-1}function pg(t,n,o){null===t.queries&&(t.queries=new sh),t.queries.track(new ah(n,o))}function ch(t,n){return t.queries.getByIndex(n)}function mg(t,n){const o=t[Tn],i=ch(o,n);return i.crossesNgTemplate?lh(o,t,n,[]):cg(o,t,i,n)}function vg(t){return function gg(t){return"function"==typeof t&&void 0!==t[W]}(t)&&"function"==typeof t.set}function hh(t){let n=function Tg(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const i=[t];for(;n;){let g;if(Do(t))g=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Qe(903,!1);g=n.\u0275dir}if(g){if(o){i.push(g);const U=t;U.inputs=$u(t.inputs),U.inputTransforms=$u(t.inputTransforms),U.declaredInputs=$u(t.declaredInputs),U.outputs=$u(t.outputs);const oe=g.hostBindings;oe&&nE(t,oe);const ue=g.viewQuery,Ce=g.contentQueries;if(ue&&eE(t,ue),Ce&&tE(t,Ce),Zx(t,g),G(t.outputs,g.outputs),Do(g)&&g.data.animation){const Ue=t.data;Ue.animation=(Ue.animation||[]).concat(g.data.animation)}}const A=g.features;if(A)for(let U=0;U<A.length;U++){const oe=A[U];oe&&oe.ngInherit&&oe(t),oe===hh&&(o=!1)}}n=Object.getPrototypeOf(n)}!function Qx(t){let n=0,o=null;for(let i=t.length-1;i>=0;i--){const g=t[i];g.hostVars=n+=g.hostVars,g.hostAttrs=Xt(g.hostAttrs,o=Xt(o,g.hostAttrs))}}(i)}function Zx(t,n){for(const i in n.inputs){if(!n.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;const g=n.inputs[i];if(void 0!==g&&(t.inputs[i]=g,t.declaredInputs[i]=n.declaredInputs[i],null!==n.inputTransforms)){var o;const A=Array.isArray(g)?g[0]:g;if(!n.inputTransforms.hasOwnProperty(A))continue;null!==(o=t.inputTransforms)&&void 0!==o||(t.inputTransforms={}),t.inputTransforms[A]=n.inputTransforms[A]}}}function $u(t){return t===lr?{}:t===Pn?[]:t}function eE(t,n){const o=t.viewQuery;t.viewQuery=o?(i,g)=>{n(i,g),o(i,g)}:n}function tE(t,n){const o=t.contentQueries;t.contentQueries=o?(i,g,A)=>{n(i,g,A),o(i,g,A)}:n}function nE(t,n){const o=t.hostBindings;t.hostBindings=o?(i,g)=>{n(i,g),o(i,g)}:n}function Pg(t){const n=t.inputConfig,o={};for(const i in n)if(n.hasOwnProperty(i)){const g=n[i];Array.isArray(g)&&g[3]&&(o[i]=g[3])}t.inputTransforms=o}class hs{}class kg{}function lE(t,n){return new fh(t,null!=n?n:null,[])}class fh extends hs{constructor(n,o,i){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tg(this);const g=Xn(n);this._bootstrapComponents=ni(g.bootstrap),this._r3Injector=gp(n,o,[{provide:hs,useValue:this},{provide:Lu,useValue:this.componentFactoryResolver},...i],Pe(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class ph extends kg{constructor(n){super(),this.moduleType=n}create(n){return new fh(this.moduleType,n,[])}}class Rg extends hs{constructor(n){super(),this.componentFactoryResolver=new tg(this),this.instance=null;const o=new Us([...n.providers,{provide:hs,useValue:this},{provide:Lu,useValue:this.componentFactoryResolver}],n.parent||tu(),n.debugName,new Set(["environment"]));this.injector=o,n.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function mh(t,n,o=null){return new Rg({providers:t,parent:n,debugName:o,runEnvironmentInitializers:!0}).injector}let ta=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Be.g(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function Hu(t){return!!gh(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function gh(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function so(t,n,o){return!Object.is(t[n],o)&&(t[n]=o,!0)}function na(t,n,o,i,g,A,U,oe){const ue=pn(),Ce=pr(),Ue=t+Yn,Xe=Ce.firstCreatePass?function mE(t,n,o,i,g,A,U,oe,ue){const Ce=n.consts,Ue=Js(n,t,4,U||null,er(Ce,oe));Nd(n,o,Ue,er(Ce,ue)),ou(n,Ue);const Xe=Ue.tView=Ld(2,Ue,i,g,A,n.directiveRegistry,n.pipeRegistry,null,n.schemas,Ce,null);return null!==n.queries&&(n.queries.template(n,Ue),Xe.queries=n.queries.embeddedTView(Ue)),Ue}(Ue,Ce,ue,n,o,i,g,A,U):Ce.data[Ue];Zo(Xe,!1);const pt=Lg(Ce,ue,Xe,t);Ss()&&Cu(Ce,ue,pt,Xe),jo(pt,ue);const Ot=bm(pt,ue,pt,Xe);return ue[Ue]=Ot,Iu(ue,Ot),function ag(t,n,o){return rh(t,n,o)}(Ot,Xe,ue),Ln(Xe)&&kd(Ce,ue,Xe),null!=U&&Rd(ue,Xe,oe),na}let Lg=function Ng(t,n,o,i){return Ti(!0),n[qn].createComment("")};function Dh(t,n,o,i){const g=pn();return so(g,ce(),n)&&(pr(),_i(sr(),g,t,n,o,i)),Dh}function ca(t,n,o,i){return so(t,ce(),o)?n+ar(o)+i:cr}function da(t,n,o,i,g,A){const oe=function fs(t,n,o,i){const g=so(t,n,o);return so(t,n+1,i)||g}(t,function Mo(){return Nn.lFrame.bindingIndex}(),o,g);return Te(2),oe?n+ar(o)+i+ar(g)+A:cr}function Ju(t,n){return t<<17|n<<2}function Yi(t){return t>>17&32767}function Mh(t){return 2|t}function ms(t){return(131068&t)>>2}function Ih(t,n){return-131069&t|n<<2}function Th(t){return 1|t}function py(t,n,o,i){const g=t[o+1],A=null===n;let U=i?Yi(g):ms(g),oe=!1;for(;0!==U&&(!1===oe||A);){const Ce=t[U+1];QE(t[U],n)&&(oe=!0,t[U+1]=i?Th(Ce):Mh(Ce)),U=i?Yi(Ce):ms(Ce)}oe&&(t[o+1]=i?Mh(g):Th(g))}function QE(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ai(t,n)>=0}const _o={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function my(t){return t.substring(_o.key,_o.keyEnd)}function eC(t){return t.substring(_o.value,_o.valueEnd)}function yy(t,n){const o=_o.textEnd;let i=_o.key=va(t,n,o);return o===i?-1:(i=_o.keyEnd=function oC(t,n,o){let i;for(;n<o&&(45===(i=t.charCodeAt(n))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)n++;return n}(t,i,o),i=by(t,i,o),i=_o.value=va(t,i,o),i=_o.valueEnd=function iC(t,n,o){let i=-1,g=-1,A=-1,U=n,oe=U;for(;U<o;){const ue=t.charCodeAt(U++);if(59===ue)return oe;34===ue||39===ue?oe=U=_y(t,ue,U,o):n===U-4&&85===A&&82===g&&76===i&&40===ue?oe=U=_y(t,41,U,o):ue>32&&(oe=U),A=g,g=i,i=-33&ue}return oe}(t,i,o),by(t,i,o))}function va(t,n,o){for(;n<o&&t.charCodeAt(n)<=32;)n++;return n}function by(t,n,o,i){return(n=va(t,n,o))<o&&n++,n}function _y(t,n,o,i){let g=-1,A=o;for(;A<i;){const U=t.charCodeAt(A++);if(U==n&&92!==g)return A;g=92==U&&92===g?0:U}throw new Error}function Ah(t,n,o){const i=pn();return so(i,ce(),n)&&Ho(pr(),sr(),i,t,n,i[qn],o,!1),Ah}function Oh(t,n,o,i,g){const U=g?"class":"style";Gd(t,o,n.inputs[U],U,i)}function jh(t,n){return function fi(t,n,o,i){const g=pn(),A=pr(),U=Te(2);A.firstUpdatePass&&Ey(A,t,U,i),n!==cr&&so(g,U,n)&&Sy(A,A.data[zr()],g,g[qn],t,g[U+1]=function mC(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Pe(Ri(t)))),t}(n,o),i,U)}(t,n,null,!0),jh}function hi(t){!function pi(t,n,o,i){const g=pr(),A=Te(2);g.firstUpdatePass&&Ey(g,null,A,i);const U=pn();if(o!==cr&&so(U,A,o)){const oe=g.data[zr()];if(My(oe,i)&&!xy(g,A)){let ue=i?oe.classesWithoutHost:oe.stylesWithoutHost;null!==ue&&(o=Ge(ue,o||"")),Oh(g,oe,U,o,i)}else!function pC(t,n,o,i,g,A,U,oe){g===cr&&(g=Pn);let ue=0,Ce=0,Ue=0<g.length?g[0]:null,Xe=0<A.length?A[0]:null;for(;null!==Ue||null!==Xe;){const pt=ue<g.length?g[ue+1]:void 0,Ot=Ce<A.length?A[Ce+1]:void 0;let mn,en=null;Ue===Xe?(ue+=2,Ce+=2,pt!==Ot&&(en=Xe,mn=Ot)):null===Xe||null!==Ue&&Ue<Xe?(ue+=2,en=Ue):(Ce+=2,en=Xe,mn=Ot),null!==en&&Sy(t,n,o,i,en,mn,U,oe),Ue=ue<g.length?g[ue]:null,Xe=Ce<A.length?A[Ce]:null}}(g,oe,U,U[qn],U[A+1],U[A+1]=function hC(t,n,o){if(null==o||""===o)return Pn;const i=[],g=Ri(o);if(Array.isArray(g))for(let A=0;A<g.length;A++)t(i,g[A],!0);else if("object"==typeof g)for(const A in g)g.hasOwnProperty(A)&&t(i,A,g[A]);else"string"==typeof g&&n(i,g);return i}(t,n,o),i,A)}}(Cy,sC,t,!1)}function sC(t,n){for(let o=function nC(t){return function vy(t){_o.key=0,_o.keyEnd=0,_o.value=0,_o.valueEnd=0,_o.textEnd=t.length}(t),yy(t,va(t,0,_o.textEnd))}(n);o>=0;o=yy(n,o))Cy(t,my(n),eC(n))}function xy(t,n){return n>=t.expandoStartIndex}function Ey(t,n,o,i){const g=t.data;if(null===g[o+1]){const A=g[zr()],U=xy(t,o);My(A,i)&&null===n&&!U&&(n=!1),n=function lC(t,n,o,i){const g=function In(t){const n=Nn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let A=i?n.residualClasses:n.residualStyles;if(null===g)0===(i?n.classBindings:n.styleBindings)&&(o=wl(o=Ph(null,t,n,o,i),n.attrs,i),A=null);else{const U=n.directiveStylingLast;if(-1===U||t[U]!==g)if(o=Ph(g,t,n,o,i),null===A){let ue=function uC(t,n,o){const i=o?n.classBindings:n.styleBindings;if(0!==ms(i))return t[Yi(i)]}(t,n,i);void 0!==ue&&Array.isArray(ue)&&(ue=Ph(null,t,n,ue[1],i),ue=wl(ue,n.attrs,i),function cC(t,n,o,i){t[Yi(o?n.classBindings:n.styleBindings)]=i}(t,n,i,ue))}else A=function dC(t,n,o){let i;const g=n.directiveEnd;for(let A=1+n.directiveStylingLast;A<g;A++)i=wl(i,t[A].hostAttrs,o);return wl(i,n.attrs,o)}(t,n,i)}return void 0!==A&&(i?n.residualClasses=A:n.residualStyles=A),o}(g,A,n,i),function JE(t,n,o,i,g,A){let U=A?n.classBindings:n.styleBindings,oe=Yi(U),ue=ms(U);t[i]=o;let Ue,Ce=!1;if(Array.isArray(o)?(Ue=o[1],(null===Ue||Ai(o,Ue)>0)&&(Ce=!0)):Ue=o,g)if(0!==ue){const pt=Yi(t[oe+1]);t[i+1]=Ju(pt,oe),0!==pt&&(t[pt+1]=Ih(t[pt+1],i)),t[oe+1]=function XE(t,n){return 131071&t|n<<17}(t[oe+1],i)}else t[i+1]=Ju(oe,0),0!==oe&&(t[oe+1]=Ih(t[oe+1],i)),oe=i;else t[i+1]=Ju(ue,0),0===oe?oe=i:t[ue+1]=Ih(t[ue+1],i),ue=i;Ce&&(t[i+1]=Mh(t[i+1])),py(t,Ue,i,!0),py(t,Ue,i,!1),function ZE(t,n,o,i,g){const A=g?t.residualClasses:t.residualStyles;null!=A&&"string"==typeof n&&Ai(A,n)>=0&&(o[i+1]=Th(o[i+1]))}(n,Ue,t,i,A),U=Ju(oe,ue),A?n.classBindings=U:n.styleBindings=U}(g,A,n,o,U,i)}}function Ph(t,n,o,i,g){let A=null;const U=o.directiveEnd;let oe=o.directiveStylingLast;for(-1===oe?oe=o.directiveStart:oe++;oe<U&&(A=n[oe],i=wl(i,A.hostAttrs,g),A!==t);)oe++;return null!==t&&(o.directiveStylingLast=oe),i}function wl(t,n,o){const i=o?1:2;let g=-1;if(null!==n)for(let A=0;A<n.length;A++){const U=n[A];"number"==typeof U?g=U:g===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),No(t,U,!!o||n[++A]))}return void 0===t?null:t}function Cy(t,n,o){No(t,n,Ri(o))}function Sy(t,n,o,i,g,A,U,oe){if(!(3&n.type))return;const ue=t.data,Ce=ue[oe+1],Ue=function KE(t){return 1==(1&t)}(Ce)?Dy(ue,n,o,g,ms(Ce),U):void 0;Zu(Ue)||(Zu(A)||function YE(t){return 2==(2&t)}(Ce)&&(A=Dy(ue,null,o,g,oe,U)),function q1(t,n,o,i,g){if(n)g?t.addClass(o,i):t.removeClass(o,i);else{let A=-1===i.indexOf("-")?void 0:bu.DashCase;null==g?t.removeStyle(o,i,A):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),A|=bu.Important),t.setStyle(o,i,g,A))}}(i,U,tn(zr(),o),g,A))}function Dy(t,n,o,i,g,A){const U=null===n;let oe;for(;g>0;){const ue=t[g],Ce=Array.isArray(ue),Ue=Ce?ue[1]:ue,Xe=null===Ue;let pt=o[g+1];pt===cr&&(pt=Xe?Pn:void 0);let Ot=Xe?Fl(pt,i):Ue===i?pt:void 0;if(Ce&&!Zu(Ot)&&(Ot=Fl(ue,i)),Zu(Ot)&&(oe=Ot,U))return oe;const en=t[g+1];g=U?Yi(en):ms(en)}if(null!==n){let ue=A?n.residualClasses:n.residualStyles;null!=ue&&(oe=Fl(ue,i))}return oe}function Zu(t){return void 0!==t}function My(t,n){return 0!=(t.flags&(n?8:16))}function Qu(t,n,o,i){const g=pn(),A=pr(),U=Yn+t,oe=g[qn],ue=A.firstCreatePass?function FC(t,n,o,i,g,A){const U=n.consts,ue=Js(n,t,2,i,er(U,g));return Nd(n,o,ue,er(U,A)),null!==ue.attrs&&Bu(ue,ue.attrs,!1),null!==ue.mergedAttrs&&Bu(ue,ue.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,ue),ue}(U,A,g,n,o,i):A.data[U],Ce=Oy(A,g,ue,oe,n,t);g[U]=Ce;const Ue=Ln(ue);return Zo(ue,!0),am(oe,Ce,ue),32!=(32&ue.flags)&&Ss()&&Cu(A,g,Ce,ue),0===function no(){return Nn.lFrame.elementDepthCount}()&&jo(Ce,g),function Jo(){Nn.lFrame.elementDepthCount++}(),Ue&&(kd(A,g,ue),Pd(A,ue,g)),null!==i&&Rd(g,ue),Qu}function ec(){let t=Or();ws()?xs():(t=t.parent,Zo(t,!1));const n=t;(function Da(t){return Nn.skipHydrationRootTNode===t})(n)&&function Ta(){Nn.skipHydrationRootTNode=null}(),function ci(){Nn.lFrame.elementDepthCount--}();const o=pr();return o.firstCreatePass&&(ou(o,t),Eo(t)&&o.queries.elementEnd(t)),null!=n.classesWithoutHost&&function w_(t){return 0!=(8&t.flags)}(n)&&Oh(o,n,pn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function x_(t){return 0!=(16&t.flags)}(n)&&Oh(o,n,pn(),n.stylesWithoutHost,!1),ec}function Fh(t,n,o,i){return Qu(t,n,o,i),ec(),Fh}let Oy=(t,n,o,i,g,A)=>(Ti(!0),wu(i,g,function Ll(){return Nn.lFrame.currentNamespace}()));function Bh(t,n,o){const i=pn(),g=pr(),A=t+Yn,U=g.firstCreatePass?function GC(t,n,o,i,g){const A=n.consts,U=er(A,i),oe=Js(n,t,8,"ng-container",U);return null!==U&&Bu(oe,U,!0),Nd(n,o,oe,er(A,g)),null!==n.queries&&n.queries.elementStart(n,oe),oe}(A,g,i,n,o):g.data[A];Zo(U,!0);const oe=jy(g,i,U,t);return i[A]=oe,Ss()&&Cu(g,i,oe,U),jo(oe,i),Ln(U)&&(kd(g,i,U),Pd(g,U,i)),null!=o&&Rd(i,U),Bh}function Uh(){let t=Or();const n=pr();return ws()?xs():(t=t.parent,Zo(t,!1)),n.firstCreatePass&&(ou(n,t),Eo(t)&&n.queries.elementEnd(t)),Uh}function Gh(t,n,o){return Bh(t,n,o),Uh(),Gh}let jy=(t,n,o,i)=>(Ti(!0),Dd(n[qn],""));function Py(){return pn()}const gs=void 0;var WC=["en",[["a","p"],["AM","PM"],gs],[["AM","PM"],gs,gs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gs,"{1} 'at' {0}",gs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function HC(t){const o=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===i?1:5}];let ba={};function $h(t){const n=function zC(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=Ny(n);if(o)return o;const i=n.split("-")[0];if(o=Ny(i),o)return o;if("en"===i)return WC;throw new Qe(701,!1)}function Ly(t){return $h(t)[_a.PluralCase]}function Ny(t){return t in ba||(ba[t]=Cn.ng&&Cn.ng.common&&Cn.ng.common.locales&&Cn.ng.common.locales[t]),ba[t]}var _a=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(_a||{});const wa="en-US";let Fy=wa;function Wh(t,n,o,i){const g=pn(),A=pr(),U=Or();return zh(A,g,g[qn],U,t,n,i),Wh}function zh(t,n,o,i,g,A,U){const oe=Ln(i),Ce=t.firstCreatePass&&xm(t),Ue=n[ur],Xe=wm(n);let pt=!0;if(3&i.type||U){const mn=on(i,n),Mn=U?U(mn):mn,jn=Xe.length,vn=U?hr=>U(gt(hr[i.index])):i.index;let Kn=null;if(!U&&oe&&(Kn=function US(t,n,o,i){const g=t.cleanup;if(null!=g)for(let A=0;A<g.length-1;A+=2){const U=g[A];if(U===o&&g[A+1]===i){const oe=n[uo],ue=g[A+2];return oe.length>ue?oe[ue]:null}"string"==typeof U&&(A+=2)}return null}(t,n,g,i.index)),null!==Kn)(Kn.__ngLastListenerFn__||Kn).__ngNextListenerFn__=A,Kn.__ngLastListenerFn__=A,pt=!1;else{A=dv(i,n,Ue,A,!1);const hr=o.listen(Mn,g,A);Xe.push(A,hr),Ce&&Ce.push(g,vn,jn,jn+1)}}else A=dv(i,n,Ue,A,!1);const Ot=i.outputs;let en;if(pt&&null!==Ot&&(en=Ot[g])){const mn=en.length;if(mn)for(let Mn=0;Mn<mn;Mn+=2){const gr=n[en[Mn]][en[Mn+1]].subscribe(A),Io=Xe.length;Xe.push(A,gr),Ce&&Ce.push(g,i.index,Io,"function"==typeof gr?Io+1:-(Io+1))}}}function cv(t,n,o,i){const g=S(null);try{return vi(6,n,o),!1!==o(i)}catch(A){return Tu(t,A),!1}finally{vi(7,n,o),S(g)}}function dv(t,n,o,i,g){return function A(U){if(U===Function)return i;il(t.componentOffset>-1?Gn(t.index,n):n);let ue=cv(n,o,i,U),Ce=A.__ngNextListenerFn__;for(;Ce;)ue=cv(n,o,Ce,U)&&ue,Ce=Ce.__ngNextListenerFn__;return g&&!1===ue&&U.preventDefault(),ue}}function hv(t=1){return function ii(t){return(Nn.lFrame.contextLView=function Qr(t,n){for(;t>0;)n=n[xo],t--;return n}(t,Nn.lFrame.contextLView))[ur]}(t)}function GS(t,n){let o=null;const i=function lt(t){const n=t.attrs;if(null!=n){const o=n.indexOf(5);if(!(1&o))return n[o+1]}return null}(t);for(let g=0;g<n.length;g++){const A=n[g];if("*"!==A){if(null===i?$e(t,A,!0):An(i,A))return g}else o=g}return o}function fv(t){const n=pn()[Dr][xr];if(!n.projection){const i=n.projection=function Ra(t,n){const o=[];for(let i=0;i<t;i++)o.push(n);return o}(t?t.length:1,null),g=i.slice();let A=n.child;for(;null!==A;){const U=t?GS(A,t):0;null!==U&&(g[U]?g[U].projectionNext=A:i[U]=A,g[U]=A),A=A.next}}}function pv(t,n=0,o){const i=pn(),g=pr(),A=Js(g,Yn+t,16,null,o||null);null===A.projection&&(A.projection=n),xs(),(!i[Lr]||Mi())&&32!=(32&A.flags)&&function W1(t,n,o){im(n[qn],0,n,o,Id(t,o,n),Qp(o.parent||n[xr],o,n))}(g,i,A)}function ic(t,n,o,i,g){const A=pn(),U=ca(A,n,o,i);return U!==cr&&Ho(pr(),sr(),A,t,U,A[qn],g,!1),ic}function Cv(t,n,o,i){!function fg(t,n,o,i){const g=pr();if(g.firstCreatePass){const A=Or();pg(g,new ug(n,o,i),A.index),function Gx(t,n){const o=t.contentQueries||(t.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,n)}(g,t),2==(2&o)&&(g.staticContentQueries=!0)}return dg(g,pn(),o)}(t,n,o,i)}function Sv(t,n,o){!function hg(t,n,o){const i=pr();return i.firstCreatePass&&(pg(i,new ug(t,n,o),-1),2==(2&n)&&(i.staticViewQueries=!0)),dg(i,pn(),n)}(t,n,o)}function Dv(t){const n=pn(),o=pr(),i=or();ir(i+1);const g=ch(o,i);if(t.dirty&&function $n(t){return 4==(4&t[Fn])}(n)===(2==(2&g.metadata.flags))){if(null===g.matches)t.reset([]);else{const A=mg(n,i);t.reset(A,xc),t.notifyOnChanges()}return!0}return!1}function Mv(){return function uh(t,n){return t[fo].queries[n].queryList}(pn(),or())}function Iv(t){return function Bn(t,n){return t[n]}(function Es(){return Nn.lFrame.contextLView}(),Yn+t)}function Fv(t,n=""){const o=pn(),i=pr(),g=t+Yn,A=i.firstCreatePass?Js(i,g,1,n,null):i.data[g],U=Bv(i,o,A,n,t);o[g]=U,Ss()&&Cu(i,o,U,A),Zo(A,!1)}let Bv=(t,n,o,i,g)=>(Ti(!0),function _u(t,n){return t.createText(n)}(n[qn],i));function qh(t){return sc("",t,""),qh}function sc(t,n,o){const i=pn(),g=ca(i,t,n,o);return g!==cr&&Ni(i,zr(),g),sc}function Yh(t,n,o,i,g){const A=pn(),U=da(A,t,n,o,i,g);return U!==cr&&Ni(A,zr(),U),Yh}function Xh(t,n,o){vg(n)&&(n=n());const i=pn();return so(i,ce(),n)&&Ho(pr(),sr(),i,t,n,i[qn],o,!1),Xh}function qv(t,n){const o=vg(t);return o&&t.set(n),o}function Kh(t,n){const o=pn(),i=pr(),g=Or();return zh(i,o,o[qn],g,t,n),Kh}function Jh(t,n,o,i,g){if(t=Vn(t),Array.isArray(t))for(let A=0;A<t.length;A++)Jh(t[A],n,o,i,g);else{const A=pr(),U=pn(),oe=Or();let ue=ss(t)?t:Vn(t.provide);const Ce=zf(t),Ue=1048575&oe.providerIndexes,Xe=oe.directiveStart,pt=oe.providerIndexes>>20;if(ss(t)||!t.multi){const Ot=new qa(Ce,g,Ks),en=Qh(ue,n,g?Ue:Ue+pt,Xe);-1===en?(ad(lu(oe,U),A,ue),Zh(A,t,n.length),n.push(ue),oe.directiveStart++,oe.directiveEnd++,g&&(oe.providerIndexes+=1048576),o.push(Ot),U.push(Ot)):(o[en]=Ot,U[en]=Ot)}else{const Ot=Qh(ue,n,Ue+pt,Xe),en=Qh(ue,n,Ue,Ue+pt),Mn=en>=0&&o[en];if(g&&!Mn||!g&&!(Ot>=0&&o[Ot])){ad(lu(oe,U),A,ue);const jn=function sD(t,n,o,i,g){const A=new qa(t,o,Ks);return A.multi=[],A.index=n,A.componentProviders=0,Yv(A,g,i&&!o),A}(g?iD:oD,o.length,g,i,Ce);!g&&Mn&&(o[en].providerFactory=jn),Zh(A,t,n.length,0),n.push(ue),oe.directiveStart++,oe.directiveEnd++,g&&(oe.providerIndexes+=1048576),o.push(jn),U.push(jn)}else Zh(A,t,Ot>-1?Ot:en,Yv(o[g?en:Ot],Ce,!g&&i));!g&&i&&Mn&&o[en].componentProviders++}}}function Zh(t,n,o,i){const g=ss(n),A=function Xb(t){return!!t.useClass}(n);if(g||A){const ue=(A?Vn(n.useClass):n).prototype.ngOnDestroy;if(ue){const Ce=t.destroyHooks||(t.destroyHooks=[]);if(!g&&n.multi){const Ue=Ce.indexOf(o);-1===Ue?Ce.push(o,[i,ue]):Ce[Ue+1].push(i,ue)}else Ce.push(o,ue)}}}function Yv(t,n,o){return o&&t.componentProviders++,t.multi.push(n)-1}function Qh(t,n,o,i){for(let g=o;g<i;g++)if(n[g]===t)return g;return-1}function oD(t,n,o,i){return ef(this.multi,[])}function iD(t,n,o,i){const g=this.multi;let A;if(this.providerFactory){const U=this.providerFactory.componentProviders,oe=as(o,o[Tn],this.providerFactory.index,i);A=oe.slice(0,U),ef(g,A);for(let ue=U;ue<oe.length;ue++)A.push(oe[ue])}else A=[],ef(g,A);return A}function ef(t,n){for(let o=0;o<t.length;o++)n.push((0,t[o])());return n}function Xv(t,n=[]){return o=>{o.providersResolver=(i,g)=>function rD(t,n,o){const i=pr();if(i.firstCreatePass){const g=Do(t);Jh(o,i.data,i.blueprint,g,!0),Jh(n,i.data,i.blueprint,g,!1)}}(i,g?g(t):t,n)}}let aD=(()=>{var t;class n{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const g=zc(0,i.type),A=g.length>0?mh([g],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,A)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=Fr({token:t,providedIn:"environment",factory:()=>new t(Oo(di))}),n})();function Kv(t){wi("NgStandalone"),t.getStandaloneInjector=n=>n.get(aD).getOrCreateStandaloneInjector(t)}function s0(t,n,o){const i=function Gr(){const t=Nn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}()+t,g=pn();return g[i]===cr?function xi(t,n,o){return t[n]=o}(g,i,o?n.call(o):n()):function yl(t,n){return t[n]}(g,i)}class M0{constructor(n){this.full=n;const o=n.split(".");this.major=o[0],this.minor=o[1],this.patch=o.slice(2).join(".")}}let I0=(()=>{var t;class n{log(i){console.log(i)}warn(i){console.warn(i)}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const j0=new be(""),P0=new be("");let cf,D2=(()=>{var t;class n{constructor(i,g,A){this._ngZone=i,this.registry=g,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,cf||(function M2(t){cf=t}(A),A.addToWindow(g)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{io.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(i)||(clearTimeout(g.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,g,A){let U=-1;g&&g>0&&(U=setTimeout(()=>{this._callbacks=this._callbacks.filter(oe=>oe.timeoutId!==U),i()},g)),this._callbacks.push({doneCb:i,timeoutId:U,updateCb:A})}whenStable(i,g,A){if(A&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,g,A),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,g,A){return[]}}return(t=n).\u0275fac=function(i){return new(i||t)(Oo(io),Oo(k0),Oo(P0))},t.\u0275prov=Fr({token:t,factory:t.\u0275fac}),n})(),k0=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(i,g){this._applications.set(i,g)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,g=!0){var A,U;return null!==(A=null===(U=cf)||void 0===U?void 0:U.findTestabilityInTree(this,i,g))&&void 0!==A?A:null}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function df(t){return!!t&&"function"==typeof t.then}function R0(t){return!!t&&"function"==typeof t.subscribe}const L0=new be("");let hf=(()=>{var t;class n{constructor(){var i;this.initialized=!1,this.done=!1,this.donePromise=new Promise((g,A)=>{this.resolve=g,this.reject=A}),this.appInits=null!==(i=wr(L0,{optional:!0}))&&void 0!==i?i:[]}runInitializers(){if(this.initialized)return;const i=[];for(const A of this.appInits){const U=A();if(df(U))i.push(U);else if(R0(U)){const oe=new Promise((ue,Ce)=>{U.subscribe({complete:ue,error:Ce})});i.push(oe)}}const g=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{g()}).catch(A=>{this.reject(A)}),0===i.length&&g(),this.initialized=!0}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const ff=new be("");function B0(t,n){return Array.isArray(n)?n.reduce(B0,t):{...t,...n}}let Xi=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=wr(vp),this.afterRenderEffectManager=wr(hl),this.componentTypes=[],this.components=[],this.isStable=wr(ta).hasPendingTasks.pipe((0,Fe.k)(i=>!i)),this._injector=wr(di)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,g){const A=i instanceof Gm;if(!this._injector.get(hf).done)throw!A&&zn(i),new Qe(405,!1);let oe;oe=A?i:this._injector.get(Lu).resolveComponentFactory(i),this.componentTypes.push(oe.componentType);const ue=function I2(t){return t.isBoundToModule}(oe)?void 0:this._injector.get(hs),Ue=oe.create(ti.NULL,[],g||oe.selector,ue),Xe=Ue.location.nativeElement,pt=Ue.injector.get(j0,null);return null==pt||pt.registerApplication(Xe),Ue.onDestroy(()=>{this.detachView(Ue.hostView),cc(this.components,Ue),null==pt||pt.unregisterApplication(Xe)}),this._loadComponent(Ue),Ue}tick(){if(this._runningTick)throw new Qe(101,!1);const i=S(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(g){this.internalErrorHandler(g)}finally{this._runningTick=!1,S(i)}}detectChangesInAttachedViews(){let i=0;const g=this.afterRenderEffectManager;for(;;){if(100===i)throw new Qe(103,!1);const A=0===i;for(let{_lView:U,notifyErrorHandler:oe}of this._views)!A&&!pf(U)||this.detectChangesInView(U,oe,A);if(i++,g.executeInternalCallbacks(),!this._views.some(({_lView:U})=>pf(U))&&(g.execute(),!this._views.some(({_lView:U})=>pf(U))))break}}detectChangesInView(i,g,A){let U;A?(U=0,i[Fn]|=1024):U=64&i[Fn]?0:1,Au(i,g,U)}attachView(i){const g=i;this._views.push(g),g.attachToAppRef(this)}detachView(i){const g=i;cc(this._views,g),g.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const g=this._injector.get(ff,[]);[...this._bootstrapListeners,...g].forEach(A=>A(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>cc(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Qe(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function cc(t,n){const o=t.indexOf(n);o>-1&&t.splice(o,1)}function pf(t){return Jr(t)}class A2{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let O2=(()=>{var t;class n{compileModuleSync(i){return new ph(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const g=this.compileModuleSync(i),U=ni(Xn(i).declarations).reduce((oe,ue)=>{const Ce=Zt(ue);return Ce&&oe.push(new ml(Ce)),oe},[]);return new A2(g,U)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),k2=(()=>{var t;class n{constructor(){this.zone=wr(io),this.applicationRef=wr(Xi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var i;null===(i=this._onMicrotaskEmptySubscription)||void 0===i||i.unsubscribe()}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function R2(){const t=wr(io),n=wr(Vi);return o=>t.runOutsideAngular(()=>n.handleError(o))}let N2=(()=>{var t;class n{constructor(){this.subscription=new Ae.wH,this.initialized=!1,this.zone=wr(io),this.pendingTasks=wr(ta)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{io.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var g;io.assertInAngularZone(),null!==(g=i)&&void 0!==g||(i=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const dc=new be("",{providedIn:"root",factory:()=>wr(dc,Et.Optional|Et.SkipSelf)||function F2(){return typeof $localize<"u"&&$localize.locale||wa}()}),B2=new be("",{providedIn:"root",factory:()=>"USD"}),mf=new be("");let V0=(()=>{var t;class n{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,g){const A=function gx(t="zone.js",n){return"noop"===t?new Ym:"zone.js"===t?new io(n):t}(null==g?void 0:g.ngZone,function $0(t){var n,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(o=null==t?void 0:t.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==g?void 0:g.ngZoneEventCoalescing,runCoalescing:null==g?void 0:g.ngZoneRunCoalescing}));return A.run(()=>{const U=function uE(t,n,o){return new fh(t,n,o)}(i.moduleType,this.injector,function G0(t){return[{provide:io,useFactory:t},{provide:is,multi:!0,useFactory:()=>{const n=wr(k2,{optional:!0});return()=>n.initialize()}},{provide:is,multi:!0,useFactory:()=>{const n=wr(N2);return()=>{n.initialize()}}},{provide:vp,useFactory:R2}]}(()=>A)),oe=U.injector.get(Vi,null);return A.runOutsideAngular(()=>{const ue=A.onError.subscribe({next:Ce=>{oe.handleError(Ce)}});U.onDestroy(()=>{cc(this._modules,U),ue.unsubscribe()})}),function F0(t,n,o){try{const i=o();return df(i)?i.catch(g=>{throw n.runOutsideAngular(()=>t.handleError(g)),g}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(oe,A,()=>{const ue=U.injector.get(hf);return ue.runInitializers(),ue.donePromise.then(()=>(function By(t){"string"==typeof t&&(Fy=t.toLowerCase().replace(/_/g,"-"))}(U.injector.get(dc,wa)||wa),this._moduleDoBootstrap(U),U))})})}bootstrapModule(i,g=[]){const A=B0({},g);return function P2(t,n,o){const i=new ph(o);return Promise.resolve(i)}(0,0,i).then(U=>this.bootstrapModuleFactory(U,A))}_moduleDoBootstrap(i){const g=i.injector.get(Xi);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(A=>g.bootstrap(A));else{if(!i.instance.ngDoBootstrap)throw new Qe(-403,!1);i.instance.ngDoBootstrap(g)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Qe(404,!1);this._modules.slice().forEach(g=>g.destroy()),this._destroyListeners.forEach(g=>g());const i=this._injector.get(mf,null);i&&(i.forEach(g=>g()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(i){return new(i||t)(Oo(ti))},t.\u0275prov=Fr({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),Ki=null;const H0=new be("");function W0(t,n,o=[]){const i=`Platform: ${n}`,g=new be(i);return(A=[])=>{let U=gf();if(!U||U.injector.get(H0,!1)){const oe=[...o,...A,{provide:g,useValue:!0}];t?t(oe):function G2(t){if(Ki&&!Ki.get(H0,!1))throw new Qe(400,!1);(function N0(){!function te(t){X=t}(()=>{throw new Qe(600,!1)})})(),Ki=t;const n=t.get(V0);(function q0(t){const n=t.get(Je,null);null==n||n.forEach(o=>o())})(t)}(function z0(t=[],n){return ti.create({name:n,providers:[{provide:Xc,useValue:"platform"},{provide:mf,useValue:new Set([()=>Ki=null])},...t]})}(oe,i))}return function $2(t){const n=gf();if(!n)throw new Qe(401,!1);return n}()}}function gf(){var t,n;return null!==(t=null===(n=Ki)||void 0===n?void 0:n.get(V0))&&void 0!==t?t:null}function H2(){}let X0=(()=>{class n{}return n.__NG_ELEMENT_ID__=W2,n})();function W2(t){return function z2(t,n,o){if(Xr(t)&&!o){const i=Gn(t.index,n);return new sl(i,i)}return 47&t.type?new sl(n[Dr],n):null}(Or(),pn(),16==(16&t))}class Q0{constructor(){}supports(n){return Hu(n)}create(n){return new J2(n)}}const K2=(t,n)=>n;class J2{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||K2}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,i=this._removalsHead,g=0,A=null;for(;o||i;){const U=!i||o&&o.currentIndex<tb(i,g,A)?o:i,oe=tb(U,g,A),ue=U.currentIndex;if(U===i)g--,i=i._nextRemoved;else if(o=o._next,null==U.previousIndex)g++;else{A||(A=[]);const Ce=oe-g,Ue=ue-g;if(Ce!=Ue){for(let pt=0;pt<Ce;pt++){const Ot=pt<A.length?A[pt]:A[pt]=0,en=Ot+pt;Ue<=en&&en<Ce&&(A[pt]=Ot+1)}A[U.previousIndex]=Ue-Ce}}oe!==ue&&n(U,oe,ue)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!Hu(n))throw new Qe(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let g,A,U,o=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let oe=0;oe<this.length;oe++)A=n[oe],U=this._trackByFn(oe,A),null!==o&&Object.is(o.trackById,U)?(i&&(o=this._verifyReinsertion(o,A,U,oe)),Object.is(o.item,A)||this._addIdentityChange(o,A)):(o=this._mismatch(o,A,U,oe),i=!0),o=o._next}else g=0,function fE(t,n){if(Array.isArray(t))for(let o=0;o<t.length;o++)n(t[o]);else{const o=t[Symbol.iterator]();let i;for(;!(i=o.next()).done;)n(i.value)}}(n,oe=>{U=this._trackByFn(g,oe),null!==o&&Object.is(o.trackById,U)?(i&&(o=this._verifyReinsertion(o,oe,U,g)),Object.is(o.item,oe)||this._addIdentityChange(o,oe)):(o=this._mismatch(o,oe,U,g),i=!0),o=o._next,g++}),this.length=g;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,i,g){let A;return null===n?A=this._itTail:(A=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,A,g)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,g))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,A,g)):n=this._addAfter(new Z2(o,i),A,g),n}_verifyReinsertion(n,o,i,g){let A=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==A?n=this._reinsertAfter(A,n._prev,g):n.currentIndex!=g&&(n.currentIndex=g,this._addToMoves(n,g)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const g=n._prevRemoved,A=n._nextRemoved;return null===g?this._removalsHead=A:g._nextRemoved=A,null===A?this._removalsTail=g:A._prevRemoved=g,this._insertAfter(n,o,i),this._addToMoves(n,i),n}_moveAfter(n,o,i){return this._unlink(n),this._insertAfter(n,o,i),this._addToMoves(n,i),n}_addAfter(n,o,i){return this._insertAfter(n,o,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,i){const g=null===o?this._itHead:o._next;return n._next=g,n._prev=o,null===g?this._itTail=n:g._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new eb),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,i=n._next;return null===o?this._itHead=i:o._next=i,null===i?this._itTail=o:i._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eb),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Z2{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Q2{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===o||o<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const o=n._prevDup,i=n._nextDup;return null===o?this._head=i:o._nextDup=i,null===i?this._tail=o:i._prevDup=o,null===this._head}}class eb{constructor(){this.map=new Map}put(n){const o=n.trackById;let i=this.map.get(o);i||(i=new Q2,this.map.set(o,i)),i.add(n)}get(n,o){const g=this.map.get(n);return g?g.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tb(t,n,o){const i=t.previousIndex;if(null===i)return i;let g=0;return o&&i<o.length&&(g=o[i]),i+n+g}class nb{constructor(){}supports(n){return n instanceof Map||gh(n)}create(){return new eM}}class eM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||gh(n)))throw new Qe(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,g)=>{if(o&&o.key===g)this._maybeAddToChanges(o,i),this._appendAfter=o,o=o._next;else{const A=this._getOrCreateRecordForKey(g,i);o=this._insertBeforeOrAppend(o,A)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let i=o;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const i=n._prev;return o._next=n,o._prev=i,n._prev=o,i&&(i._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const g=this._records.get(n);this._maybeAddToChanges(g,o);const A=g._prev,U=g._next;return A&&(A._next=U),U&&(U._prev=A),g._next=null,g._prev=null,g}const i=new tM(n);return this._records.set(n,i),i.currentValue=o,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(i=>o(n[i],i))}}class tM{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rb(){return new wf([new Q0])}let wf=(()=>{var t;class n{constructor(i){this.factories=i}static create(i,g){if(null!=g){const A=g.factories.slice();i=i.concat(A)}return new n(i)}static extend(i){return{provide:n,useFactory:g=>n.create(i,g||rb()),deps:[[n,new Kl,new Xl]]}}find(i){const g=this.factories.find(A=>A.supports(i));if(null!=g)return g;throw new Qe(901,!1)}}return(t=n).\u0275prov=Fr({token:t,providedIn:"root",factory:rb}),n})();function ob(){return new xf([new nb])}let xf=(()=>{var t;class n{constructor(i){this.factories=i}static create(i,g){if(g){const A=g.factories.slice();i=i.concat(A)}return new n(i)}static extend(i){return{provide:n,useFactory:g=>n.create(i,g||ob()),deps:[[n,new Kl,new Xl]]}}find(i){const g=this.factories.find(A=>A.supports(i));if(g)return g;throw new Qe(901,!1)}}return(t=n).\u0275prov=Fr({token:t,providedIn:"root",factory:ob}),n})();const oM=W0(null,"core",[]);let iM=(()=>{var t;class n{constructor(i){}}return(t=n).\u0275fac=function(i){return new(i||t)(Oo(Xi))},t.\u0275mod=Le({type:t}),t.\u0275inj=rs({}),n})();function PM(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function RM(t){const n=S(null);try{return t()}finally{S(n)}}function GM(t,n){const o=Zt(t),i=n.elementInjector||tu();return new ml(o).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}function $M(t){const n=Zt(t);if(!n)return null;const o=new ml(n);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},4716:(fn,Pt,me)=>{"use strict";me.d(Pt,{ot:()=>p,y:()=>C,_t:()=>Ro,Gu:()=>br,WM:()=>$,Y6:()=>l,eq:()=>ht,ue:()=>Lt,_G:()=>Dn});var b=me(4496),we=me(1368),nt=me(2115),_e=me(3252),r=me(4300),W=me(560),S=me(6624),v=me(7773),_=me(4187),f=me(7904),x=me(4704);let w=(()=>{var I;class M{constructor(K,le){this._renderer=K,this._elementRef=le,this.onChange=ke=>{},this.onTouched=()=>{}}setProperty(K,le){this._renderer.setProperty(this._elementRef.nativeElement,K,le)}registerOnTouched(K){this.onTouched=K}registerOnChange(K){this.onChange=K}setDisabledState(K){this.setProperty("disabled",K)}}return(I=M).\u0275fac=function(K){return new(K||I)(b.GI1(b.q87),b.GI1(b.GMv))},I.\u0275dir=b.Sc5({type:I}),M})(),a=(()=>{var I;class M extends w{}return(I=M).\u0275fac=(()=>{let Z;return function(le){return(Z||(Z=b.otF(I)))(le||I)}})(),I.\u0275dir=b.Sc5({type:I,features:[b.eg9]}),M})();const l=new b.UbH(""),c={provide:l,useExisting:(0,b.wd)(()=>p),multi:!0},m=new b.UbH("");let p=(()=>{var I;class M extends w{constructor(K,le,ke){super(K,le),this._compositionMode=ke,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function s(){const I=(0,we.uy)()?(0,we.uy)().getUserAgent():"";return/android (\d+)/.test(I.toLowerCase())}())}writeValue(K){this.setProperty("value",null==K?"":K)}_handleInput(K){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(K)}_compositionStart(){this._composing=!0}_compositionEnd(K){this._composing=!1,this._compositionMode&&this.onChange(K)}}return(I=M).\u0275fac=function(K){return new(K||I)(b.GI1(b.q87),b.GI1(b.GMv),b.GI1(m,8))},I.\u0275dir=b.Sc5({type:I,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(K,le){1&K&&b.qCj("input",function(Ke){return le._handleInput(Ke.target.value)})("blur",function(){return le.onTouched()})("compositionstart",function(){return le._compositionStart()})("compositionend",function(Ke){return le._compositionEnd(Ke.target.value)})},features:[b.M5G([c]),b.eg9]}),M})();function y(I){return null==I||("string"==typeof I||Array.isArray(I))&&0===I.length}const $=new b.UbH(""),N=new b.UbH("");function J(I){return null}function q(I){return null!=I}function ne(I){return(0,b.w5$)(I)?(0,nt.Q)(I):I}function de(I){let M={};return I.forEach(Z=>{M=null!=Z?{...M,...Z}:M}),0===Object.keys(M).length?null:M}function De(I,M){return M.map(Z=>Z(I))}function R(I){return I.map(M=>function Y(I){return!I.validate}(M)?M:Z=>M.validate(Z))}function pe(I){return null!=I?function se(I){if(!I)return null;const M=I.filter(q);return 0==M.length?null:function(Z){return de(De(Z,M))}}(R(I)):null}function Ne(I){return null!=I?function Ee(I){if(!I)return null;const M=I.filter(q);return 0==M.length?null:function(Z){return function h(...I){const M=(0,S.yu)(I),{args:Z,keys:K}=(0,r.Q)(I),le=new _e._(ke=>{const{length:Ke}=Z;if(!Ke)return void ke.complete();const it=new Array(Ke);let It=Ke,Wt=Ke;for(let Bt=0;Bt<Ke;Bt++){let gt=!1;(0,W.Uv)(Z[Bt]).subscribe((0,v.e)(ke,gn=>{gt||(gt=!0,Wt--),it[Bt]=gn},()=>It--,void 0,()=>{(!It||!gt)&&(Wt||ke.next(K?(0,f.q)(K,it):it),ke.complete())}))}});return M?le.pipe((0,_.j)(M)):le}(De(Z,M).map(ne)).pipe((0,x.k)(de))}}(R(I)):null}function We(I,M){return null===I?[M]:Array.isArray(I)?[...I,M]:[I,M]}function Be(I){return I?Array.isArray(I)?I:[I]:[]}function Fe(I,M){return Array.isArray(I)?I.includes(M):I===M}function Oe(I,M){const Z=Be(M);return Be(I).forEach(le=>{Fe(Z,le)||Z.push(le)}),Z}function Ze(I,M){return Be(M).filter(Z=>!Fe(I,Z))}class Qe{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=pe(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=Ne(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M=void 0){this.control&&this.control.reset(M)}hasError(M,Z){return!!this.control&&this.control.hasError(M,Z)}getError(M,Z){return this.control?this.control.getError(M,Z):null}}class vt extends Qe{get formDirective(){return null}get path(){return null}}class ht extends Qe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ft{constructor(M){this._cd=M}get isTouched(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.touched)}get isUntouched(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.untouched)}get isPristine(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.pristine)}get isDirty(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.dirty)}get isValid(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.valid)}get isInvalid(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.invalid)}get isPending(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.pending)}get isSubmitted(){var M;return!(null===(M=this._cd)||void 0===M||!M.submitted)}}let Lt=(()=>{var I;class M extends ft{constructor(K){super(K)}}return(I=M).\u0275fac=function(K){return new(K||I)(b.GI1(ht,2))},I.\u0275dir=b.Sc5({type:I,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(K,le){2&K&&b.eAK("ng-untouched",le.isUntouched)("ng-touched",le.isTouched)("ng-pristine",le.isPristine)("ng-dirty",le.isDirty)("ng-valid",le.isValid)("ng-invalid",le.isInvalid)("ng-pending",le.isPending)},features:[b.eg9]}),M})();const Dt="VALID",xt="INVALID",ot="PENDING",Ye="DISABLED";function yt(I){return null!=I&&!Array.isArray(I)&&"object"==typeof I}class $t{constructor(M,Z){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(M),this._assignAsyncValidators(Z)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get valid(){return this.status===Dt}get invalid(){return this.status===xt}get pending(){return this.status==ot}get disabled(){return this.status===Ye}get enabled(){return this.status!==Ye}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._assignValidators(M)}setAsyncValidators(M){this._assignAsyncValidators(M)}addValidators(M){this.setValidators(Oe(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(Oe(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(Ze(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(Ze(M,this._rawAsyncValidators))}hasValidator(M){return Fe(this._rawValidators,M)}hasAsyncValidator(M){return Fe(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){this.touched=!0,this._parent&&!M.onlySelf&&this._parent.markAsTouched(M)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(M=>M.markAllAsTouched())}markAsUntouched(M={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Z=>{Z.markAsUntouched({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}markAsDirty(M={}){this.pristine=!1,this._parent&&!M.onlySelf&&this._parent.markAsDirty(M)}markAsPristine(M={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Z=>{Z.markAsPristine({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}markAsPending(M={}){this.status=ot,!1!==M.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!M.onlySelf&&this._parent.markAsPending(M)}disable(M={}){const Z=this._parentMarkedDirty(M.onlySelf);this.status=Ye,this.errors=null,this._forEachChild(K=>{K.disable({...M,onlySelf:!0})}),this._updateValue(),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...M,skipPristineCheck:Z}),this._onDisabledChange.forEach(K=>K(!0))}enable(M={}){const Z=this._parentMarkedDirty(M.onlySelf);this.status=Dt,this._forEachChild(K=>{K.enable({...M,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors({...M,skipPristineCheck:Z}),this._onDisabledChange.forEach(K=>K(!1))}_updateAncestors(M){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(M){this._parent=M}getRawValue(){return this.value}updateValueAndValidity(M={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dt||this.status===ot)&&this._runAsyncValidator(M.emitEvent)),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity(M)}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(Z=>Z._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ye:Dt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M){if(this.asyncValidator){this.status=ot,this._hasOwnPendingAsyncValidator=!0;const Z=ne(this.asyncValidator(this));this._asyncValidationSubscription=Z.subscribe(K=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(K,{emitEvent:M})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(M,Z={}){this.errors=M,this._updateControlsErrors(!1!==Z.emitEvent)}get(M){let Z=M;return null==Z||(Array.isArray(Z)||(Z=Z.split(".")),0===Z.length)?null:Z.reduce((K,le)=>K&&K._find(le),this)}getError(M,Z){const K=Z?this.get(Z):this;return K&&K.errors?K.errors[M]:null}hasError(M,Z){return!!this.getError(M,Z)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(M)}_initObservables(){this.valueChanges=new b._w7,this.statusChanges=new b._w7}_calculateStatus(){return this._allControlsDisabled()?Ye:this.errors?xt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ot)?ot:this._anyControlsHaveStatus(xt)?xt:Dt}_anyControlsHaveStatus(M){return this._anyControls(Z=>Z.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M={}){this.pristine=!this._anyControlsDirty(),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}_updateTouched(M={}){this.touched=this._anyControlsTouched(),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){yt(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(M){return null}_assignValidators(M){this._rawValidators=Array.isArray(M)?M.slice():M,this._composedValidatorFn=function Ct(I){return Array.isArray(I)?pe(I):I||null}(this._rawValidators)}_assignAsyncValidators(M){this._rawAsyncValidators=Array.isArray(M)?M.slice():M,this._composedAsyncValidatorFn=function qe(I){return Array.isArray(I)?Ne(I):I||null}(this._rawAsyncValidators)}}const tr=new b.UbH("CallSetDisabledState",{providedIn:"root",factory:()=>lr}),lr="always";function Wn(I,M,Z=lr){var K,le;(function D(I,M){const Z=function et(I){return I._rawValidators}(I);null!==M.validator?I.setValidators(We(Z,M.validator)):"function"==typeof Z&&I.setValidators([Z]);const K=function Ae(I){return I._rawAsyncValidators}(I);null!==M.asyncValidator?I.setAsyncValidators(We(K,M.asyncValidator)):"function"==typeof K&&I.setAsyncValidators([K]);const le=()=>I.updateValueAndValidity();ye(M._rawValidators,le),ye(M._rawAsyncValidators,le)})(I,M),M.valueAccessor.writeValue(I.value),(I.disabled||"always"===Z)&&(null===(K=(le=M.valueAccessor).setDisabledState)||void 0===K||K.call(le,I.disabled)),function L(I,M){M.valueAccessor.registerOnChange(Z=>{I._pendingValue=Z,I._pendingChange=!0,I._pendingDirty=!0,"change"===I.updateOn&&re(I,M)})}(I,M),function Q(I,M){const Z=(K,le)=>{M.valueAccessor.writeValue(K),le&&M.viewToModelUpdate(K)};I.registerOnChange(Z),M._registerOnDestroy(()=>{I._unregisterOnChange(Z)})}(I,M),function ee(I,M){M.valueAccessor.registerOnTouched(()=>{I._pendingTouched=!0,"blur"===I.updateOn&&I._pendingChange&&re(I,M),"submit"!==I.updateOn&&I.markAsTouched()})}(I,M),function Se(I,M){if(M.valueAccessor.setDisabledState){const Z=K=>{M.valueAccessor.setDisabledState(K)};I.registerOnDisabledChange(Z),M._registerOnDestroy(()=>{I._unregisterOnDisabledChange(Z)})}}(I,M)}function ye(I,M){I.forEach(Z=>{Z.registerOnValidatorChange&&Z.registerOnValidatorChange(M)})}function re(I,M){I._pendingDirty&&I.markAsDirty(),I.setValue(I._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(I._pendingValue),I._pendingChange=!1}function dn(I,M){const Z=I.indexOf(M);Z>-1&&I.splice(Z,1)}function An(I){return"object"==typeof I&&null!==I&&2===Object.keys(I).length&&"value"in I&&"disabled"in I}Promise.resolve();const At=class extends $t{constructor(M=null,Z,K){super(function ct(I){return(yt(I)?I.validators:I)||null}(Z),function rn(I,M){return(yt(M)?M.asyncValidators:I)||null}(K,Z)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(M),this._setUpdateStrategy(Z),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yt(Z)&&(Z.nonNullable||Z.initialValueIsDefault)&&(this.defaultValue=An(M)?M.value:M)}setValue(M,Z={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==Z.emitModelToViewChange&&this._onChange.forEach(K=>K(this.value,!1!==Z.emitViewToModelChange)),this.updateValueAndValidity(Z)}patchValue(M,Z={}){this.setValue(M,Z)}reset(M=this.defaultValue,Z={}){this._applyFormState(M),this.markAsPristine(Z),this.markAsUntouched(Z),this.setValue(this.value,Z),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){dn(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){dn(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){An(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}},mt={provide:ht,useExisting:(0,b.wd)(()=>Dn)},Zt=Promise.resolve();let Dn=(()=>{var I;class M extends ht{constructor(K,le,ke,Ke,it,It){super(),this._changeDetectorRef=it,this.callSetDisabledState=It,this.control=new At,this._registered=!1,this.name="",this.update=new b._w7,this._parent=K,this._setValidators(le),this._setAsyncValidators(ke),this.valueAccessor=function rr(I,M){if(!M)return null;let Z,K,le;return Array.isArray(M),M.forEach(ke=>{ke.constructor===p?Z=ke:function Hn(I){return Object.getPrototypeOf(I.constructor)===a}(ke)?K=ke:le=ke}),le||K||Z||null}(0,Ke)}ngOnChanges(K){if(this._checkForErrors(),!this._registered||"name"in K){if(this._registered&&(this._checkName(),this.formDirective)){const le=K.name.previousValue;this.formDirective.removeControl({name:le,path:this._getPath(le)})}this._setUpControl()}"isDisabled"in K&&this._updateDisabled(K),function Rn(I,M){if(!I.hasOwnProperty("model"))return!1;const Z=I.model;return!!Z.isFirstChange()||!Object.is(M,Z.currentValue)}(K,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(K){this.viewModel=K,this.update.emit(K)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Wn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(K){Zt.then(()=>{var le;this.control.setValue(K,{emitViewToModelChange:!1}),null===(le=this._changeDetectorRef)||void 0===le||le.markForCheck()})}_updateDisabled(K){const le=K.isDisabled.currentValue,ke=0!==le&&(0,b.cZD)(le);Zt.then(()=>{var Ke;ke&&!this.control.disabled?this.control.disable():!ke&&this.control.disabled&&this.control.enable(),null===(Ke=this._changeDetectorRef)||void 0===Ke||Ke.markForCheck()})}_getPath(K){return this._parent?function Pn(I,M){return[...M.path,I]}(K,this._parent):[K]}}return(I=M).\u0275fac=function(K){return new(K||I)(b.GI1(vt,9),b.GI1($,10),b.GI1(N,10),b.GI1(l,10),b.GI1(b.kD9,8),b.GI1(tr,8))},I.\u0275dir=b.Sc5({type:I,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[b.Wk5.None,"disabled","isDisabled"],model:[b.Wk5.None,"ngModel","model"],options:[b.Wk5.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[b.M5G([mt]),b.eg9,b.SYr]}),M})();function Uo(I){return"number"==typeof I?I:parseFloat(I)}let oo=(()=>{var I;class M{constructor(){this._validator=J}ngOnChanges(K){if(this.inputName in K){const le=this.normalizeInput(K[this.inputName].currentValue);this._enabled=this.enabled(le),this._validator=this._enabled?this.createValidator(le):J,this._onChange&&this._onChange()}}validate(K){return this._validator(K)}registerOnValidatorChange(K){this._onChange=K}enabled(K){return null!=K}}return(I=M).\u0275fac=function(K){return new(K||I)},I.\u0275dir=b.Sc5({type:I,features:[b.SYr]}),M})();const co={provide:$,useExisting:(0,b.wd)(()=>Ro),multi:!0};let Ro=(()=>{var I;class M extends oo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=K=>Uo(K),this.createValidator=K=>function k(I){return M=>{if(y(M.value)||y(I))return null;const Z=parseFloat(M.value);return!isNaN(Z)&&Z>I?{max:{max:I,actual:M.value}}:null}}(K)}}return(I=M).\u0275fac=(()=>{let Z;return function(le){return(Z||(Z=b.otF(I)))(le||I)}})(),I.\u0275dir=b.Sc5({type:I,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(K,le){2&K&&b.e48("max",le._enabled?le.max:null)},inputs:{max:"max"},features:[b.M5G([co]),b.eg9]}),M})();const Lo={provide:$,useExisting:(0,b.wd)(()=>br),multi:!0};let br=(()=>{var I;class M extends oo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=K=>Uo(K),this.createValidator=K=>function V(I){return M=>{if(y(M.value)||y(I))return null;const Z=parseFloat(M.value);return!isNaN(Z)&&Z<I?{min:{min:I,actual:M.value}}:null}}(K)}}return(I=M).\u0275fac=(()=>{let Z;return function(le){return(Z||(Z=b.otF(I)))(le||I)}})(),I.\u0275dir=b.Sc5({type:I,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(K,le){2&K&&b.e48("min",le._enabled?le.min:null)},inputs:{min:"min"},features:[b.M5G([Lo]),b.eg9]}),M})(),Zi=(()=>{var I;class M{}return(I=M).\u0275fac=function(K){return new(K||I)},I.\u0275mod=b.a4G({type:I}),I.\u0275inj=b.s3X({}),M})(),C=(()=>{var I;class M{static withConfig(K){var le;return{ngModule:M,providers:[{provide:tr,useValue:null!==(le=K.callSetDisabledState)&&void 0!==le?le:lr}]}}}return(I=M).\u0275fac=function(K){return new(K||I)},I.\u0275mod=b.a4G({type:I}),I.\u0275inj=b.s3X({imports:[Zi]}),M})()},4476:(fn,Pt,me)=>{"use strict";me.d(Pt,{OY:()=>Ze,iE:()=>Be,mI:()=>Et,o_:()=>Ne});var b=me(4496),we=me(1368);class nt extends we.mg{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _e extends nt{static makeCurrent(){(0,we.ug)(new _e)}onAndCancel(xt,ot,Ye){return xt.addEventListener(ot,Ye),()=>{xt.removeEventListener(ot,Ye)}}dispatchEvent(xt,ot){xt.dispatchEvent(ot)}remove(xt){xt.parentNode&&xt.parentNode.removeChild(xt)}createElement(xt,ot){return(ot=ot||this.getDefaultDocument()).createElement(xt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(xt){return xt.nodeType===Node.ELEMENT_NODE}isShadowRoot(xt){return xt instanceof DocumentFragment}getGlobalEventTarget(xt,ot){return"window"===ot?window:"document"===ot?xt:"body"===ot?xt.body:null}getBaseHref(xt){const ot=function W(){return r=r||document.querySelector("base"),r?r.getAttribute("href"):null}();return null==ot?null:function S(Dt){return new URL(Dt,document.baseURI).pathname}(ot)}resetBaseElement(){r=null}getUserAgent(){return window.navigator.userAgent}getCookie(xt){return(0,we.Sg)(document.cookie,xt)}}let r=null,_=(()=>{var Dt;class xt{build(){return new XMLHttpRequest}}return(Dt=xt).\u0275fac=function(Ye){return new(Ye||Dt)},Dt.\u0275prov=b.wxM({token:Dt,factory:Dt.\u0275fac}),xt})();const f=new b.UbH("");let h=(()=>{var Dt;class xt{constructor(Ye,ct){this._zone=ct,this._eventNameToPlugin=new Map,Ye.forEach(Ct=>{Ct.manager=this}),this._plugins=Ye.slice().reverse()}addEventListener(Ye,ct,Ct){return this._findPluginFor(ct).addEventListener(Ye,ct,Ct)}getZone(){return this._zone}_findPluginFor(Ye){let ct=this._eventNameToPlugin.get(Ye);if(ct)return ct;if(ct=this._plugins.find(rn=>rn.supports(Ye)),!ct)throw new b.OBp(5101,!1);return this._eventNameToPlugin.set(Ye,ct),ct}}return(Dt=xt).\u0275fac=function(Ye){return new(Ye||Dt)(b.CoB(f),b.CoB(b.WW2))},Dt.\u0275prov=b.wxM({token:Dt,factory:Dt.\u0275fac}),xt})();class x{constructor(xt){this._doc=xt}}const w="ng-app-id";let a=(()=>{var Dt;class xt{constructor(Ye,ct,Ct,rn={}){this.doc=Ye,this.appId=ct,this.nonce=Ct,this.platformId=rn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,we.uf)(rn),this.resetHostNodes()}addStyles(Ye){for(const ct of Ye)1===this.changeUsageCount(ct,1)&&this.onStyleAdded(ct)}removeStyles(Ye){for(const ct of Ye)this.changeUsageCount(ct,-1)<=0&&this.onStyleRemoved(ct)}ngOnDestroy(){const Ye=this.styleNodesInDOM;Ye&&(Ye.forEach(ct=>ct.remove()),Ye.clear());for(const ct of this.getAllStyles())this.onStyleRemoved(ct);this.resetHostNodes()}addHost(Ye){this.hostNodes.add(Ye);for(const ct of this.getAllStyles())this.addStyleToHost(Ye,ct)}removeHost(Ye){this.hostNodes.delete(Ye)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Ye){for(const ct of this.hostNodes)this.addStyleToHost(ct,Ye)}onStyleRemoved(Ye){var ct;const Ct=this.styleRef;null===(ct=Ct.get(Ye))||void 0===ct||null===(ct=ct.elements)||void 0===ct||ct.forEach(rn=>rn.remove()),Ct.delete(Ye)}collectServerRenderedStyles(){var Ye;const ct=null===(Ye=this.doc.head)||void 0===Ye?void 0:Ye.querySelectorAll(`style[${w}="${this.appId}"]`);if(null!=ct&&ct.length){const Ct=new Map;return ct.forEach(rn=>{null!=rn.textContent&&Ct.set(rn.textContent,rn)}),Ct}return null}changeUsageCount(Ye,ct){const Ct=this.styleRef;if(Ct.has(Ye)){const rn=Ct.get(Ye);return rn.usage+=ct,rn.usage}return Ct.set(Ye,{usage:ct,elements:[]}),ct}getStyleElement(Ye,ct){const Ct=this.styleNodesInDOM,rn=null==Ct?void 0:Ct.get(ct);if((null==rn?void 0:rn.parentNode)===Ye)return Ct.delete(ct),rn.removeAttribute(w),rn;{const qe=this.doc.createElement("style");return this.nonce&&qe.setAttribute("nonce",this.nonce),qe.textContent=ct,this.platformIsServer&&qe.setAttribute(w,this.appId),Ye.appendChild(qe),qe}}addStyleToHost(Ye,ct){var Ct;const rn=this.getStyleElement(Ye,ct),qe=this.styleRef,yt=null===(Ct=qe.get(ct))||void 0===Ct?void 0:Ct.elements;yt?yt.push(rn):qe.set(ct,{elements:[rn],usage:1})}resetHostNodes(){const Ye=this.hostNodes;Ye.clear(),Ye.add(this.doc.head)}}return(Dt=xt).\u0275fac=function(Ye){return new(Ye||Dt)(b.CoB(we.Ud),b.CoB(b.QHP),b.CoB(b.YND,8),b.CoB(b.AHE))},Dt.\u0275prov=b.wxM({token:Dt,factory:Dt.\u0275fac}),xt})();const l={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},d=/%COMP%/g,u="%COMP%",c=`_nghost-${u}`,s=`_ngcontent-${u}`,p=new b.UbH("",{providedIn:"root",factory:()=>!0});function $(Dt,xt){return xt.map(ot=>ot.replace(d,Dt))}let N=(()=>{var Dt;class xt{constructor(Ye,ct,Ct,rn,qe,yt,Nt,Ft=null){this.eventManager=Ye,this.sharedStylesHost=ct,this.appId=Ct,this.removeStylesOnCompDestroy=rn,this.doc=qe,this.platformId=yt,this.ngZone=Nt,this.nonce=Ft,this.rendererByCompId=new Map,this.platformIsServer=(0,we.uf)(yt),this.defaultRenderer=new P(Ye,qe,Nt,this.platformIsServer)}createRenderer(Ye,ct){if(!Ye||!ct)return this.defaultRenderer;this.platformIsServer&&ct.encapsulation===b.K6R.ShadowDom&&(ct={...ct,encapsulation:b.K6R.Emulated});const Ct=this.getOrCreateRenderer(Ye,ct);return Ct instanceof H?Ct.applyToHost(Ye):Ct instanceof T&&Ct.applyStyles(),Ct}getOrCreateRenderer(Ye,ct){const Ct=this.rendererByCompId;let rn=Ct.get(ct.id);if(!rn){const qe=this.doc,yt=this.ngZone,Nt=this.eventManager,Ft=this.sharedStylesHost,$t=this.removeStylesOnCompDestroy,hn=this.platformIsServer;switch(ct.encapsulation){case b.K6R.Emulated:rn=new H(Nt,Ft,ct,this.appId,$t,qe,yt,hn);break;case b.K6R.ShadowDom:return new E(Nt,Ft,Ye,ct,qe,yt,this.nonce,hn);default:rn=new T(Nt,Ft,ct,$t,qe,yt,hn)}Ct.set(ct.id,rn)}return rn}ngOnDestroy(){this.rendererByCompId.clear()}}return(Dt=xt).\u0275fac=function(Ye){return new(Ye||Dt)(b.CoB(h),b.CoB(a),b.CoB(b.QHP),b.CoB(p),b.CoB(we.Ud),b.CoB(b.AHE),b.CoB(b.WW2),b.CoB(b.YND))},Dt.\u0275prov=b.wxM({token:Dt,factory:Dt.\u0275fac}),xt})();class P{constructor(xt,ot,Ye,ct){this.eventManager=xt,this.doc=ot,this.ngZone=Ye,this.platformIsServer=ct,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(xt,ot){return ot?this.doc.createElementNS(l[ot]||ot,xt):this.doc.createElement(xt)}createComment(xt){return this.doc.createComment(xt)}createText(xt){return this.doc.createTextNode(xt)}appendChild(xt,ot){(k(xt)?xt.content:xt).appendChild(ot)}insertBefore(xt,ot,Ye){xt&&(k(xt)?xt.content:xt).insertBefore(ot,Ye)}removeChild(xt,ot){xt&&xt.removeChild(ot)}selectRootElement(xt,ot){let Ye="string"==typeof xt?this.doc.querySelector(xt):xt;if(!Ye)throw new b.OBp(-5104,!1);return ot||(Ye.textContent=""),Ye}parentNode(xt){return xt.parentNode}nextSibling(xt){return xt.nextSibling}setAttribute(xt,ot,Ye,ct){if(ct){ot=ct+":"+ot;const Ct=l[ct];Ct?xt.setAttributeNS(Ct,ot,Ye):xt.setAttribute(ot,Ye)}else xt.setAttribute(ot,Ye)}removeAttribute(xt,ot,Ye){if(Ye){const ct=l[Ye];ct?xt.removeAttributeNS(ct,ot):xt.removeAttribute(`${Ye}:${ot}`)}else xt.removeAttribute(ot)}addClass(xt,ot){xt.classList.add(ot)}removeClass(xt,ot){xt.classList.remove(ot)}setStyle(xt,ot,Ye,ct){ct&(b.yzm.DashCase|b.yzm.Important)?xt.style.setProperty(ot,Ye,ct&b.yzm.Important?"important":""):xt.style[ot]=Ye}removeStyle(xt,ot,Ye){Ye&b.yzm.DashCase?xt.style.removeProperty(ot):xt.style[ot]=""}setProperty(xt,ot,Ye){null!=xt&&(xt[ot]=Ye)}setValue(xt,ot){xt.nodeValue=ot}listen(xt,ot,Ye){if("string"==typeof xt&&!(xt=(0,we.uy)().getGlobalEventTarget(this.doc,xt)))throw new Error(`Unsupported event target ${xt} for event ${ot}`);return this.eventManager.addEventListener(xt,ot,this.decoratePreventDefault(Ye))}decoratePreventDefault(xt){return ot=>{if("__ngUnwrap__"===ot)return xt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>xt(ot)):xt(ot))&&ot.preventDefault()}}}function k(Dt){return"TEMPLATE"===Dt.tagName&&void 0!==Dt.content}class E extends P{constructor(xt,ot,Ye,ct,Ct,rn,qe,yt){super(xt,Ct,rn,yt),this.sharedStylesHost=ot,this.hostEl=Ye,this.shadowRoot=Ye.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Nt=$(ct.id,ct.styles);for(const Ft of Nt){const $t=document.createElement("style");qe&&$t.setAttribute("nonce",qe),$t.textContent=Ft,this.shadowRoot.appendChild($t)}}nodeOrShadowRoot(xt){return xt===this.hostEl?this.shadowRoot:xt}appendChild(xt,ot){return super.appendChild(this.nodeOrShadowRoot(xt),ot)}insertBefore(xt,ot,Ye){return super.insertBefore(this.nodeOrShadowRoot(xt),ot,Ye)}removeChild(xt,ot){return super.removeChild(this.nodeOrShadowRoot(xt),ot)}parentNode(xt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(xt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class T extends P{constructor(xt,ot,Ye,ct,Ct,rn,qe,yt){super(xt,Ct,rn,qe),this.sharedStylesHost=ot,this.removeStylesOnCompDestroy=ct,this.styles=yt?$(yt,Ye.styles):Ye.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class H extends T{constructor(xt,ot,Ye,ct,Ct,rn,qe,yt){const Nt=ct+"-"+Ye.id;super(xt,ot,Ye,Ct,rn,qe,yt,Nt),this.contentAttr=function y(Dt){return s.replace(d,Dt)}(Nt),this.hostAttr=function O(Dt){return c.replace(d,Dt)}(Nt)}applyToHost(xt){this.applyStyles(),this.setAttribute(xt,this.hostAttr,"")}createElement(xt,ot){const Ye=super.createElement(xt,ot);return super.setAttribute(Ye,this.contentAttr,""),Ye}}let X=(()=>{var Dt;class xt extends x{constructor(Ye){super(Ye)}supports(Ye){return!0}addEventListener(Ye,ct,Ct){return Ye.addEventListener(ct,Ct,!1),()=>this.removeEventListener(Ye,ct,Ct)}removeEventListener(Ye,ct,Ct){return Ye.removeEventListener(ct,Ct)}}return(Dt=xt).\u0275fac=function(Ye){return new(Ye||Dt)(b.CoB(we.Ud))},Dt.\u0275prov=b.wxM({token:Dt,factory:Dt.\u0275fac}),xt})();const z=["alt","control","meta","shift"],te={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},J={alt:Dt=>Dt.altKey,control:Dt=>Dt.ctrlKey,meta:Dt=>Dt.metaKey,shift:Dt=>Dt.shiftKey};let q=(()=>{var Dt;class xt extends x{constructor(Ye){super(Ye)}supports(Ye){return null!=xt.parseEventName(Ye)}addEventListener(Ye,ct,Ct){const rn=xt.parseEventName(ct),qe=xt.eventCallback(rn.fullKey,Ct,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,we.uy)().onAndCancel(Ye,rn.domEventName,qe))}static parseEventName(Ye){const ct=Ye.toLowerCase().split("."),Ct=ct.shift();if(0===ct.length||"keydown"!==Ct&&"keyup"!==Ct)return null;const rn=xt._normalizeKey(ct.pop());let qe="",yt=ct.indexOf("code");if(yt>-1&&(ct.splice(yt,1),qe="code."),z.forEach(Ft=>{const $t=ct.indexOf(Ft);$t>-1&&(ct.splice($t,1),qe+=Ft+".")}),qe+=rn,0!=ct.length||0===rn.length)return null;const Nt={};return Nt.domEventName=Ct,Nt.fullKey=qe,Nt}static matchEventFullKeyCode(Ye,ct){let Ct=te[Ye.key]||Ye.key,rn="";return ct.indexOf("code.")>-1&&(Ct=Ye.code,rn="code."),!(null==Ct||!Ct)&&(Ct=Ct.toLowerCase()," "===Ct?Ct="space":"."===Ct&&(Ct="dot"),z.forEach(qe=>{qe!==Ct&&(0,J[qe])(Ye)&&(rn+=qe+".")}),rn+=Ct,rn===ct)}static eventCallback(Ye,ct,Ct){return rn=>{xt.matchEventFullKeyCode(rn,Ye)&&Ct.runGuarded(()=>ct(rn))}}static _normalizeKey(Ye){return"esc"===Ye?"escape":Ye}}return(Dt=xt).\u0275fac=function(Ye){return new(Ye||Dt)(b.CoB(we.Ud))},Dt.\u0275prov=b.wxM({token:Dt,factory:Dt.\u0275fac}),xt})();const Ne=(0,b.grM)(b.m4O,"browser",[{provide:b.AHE,useValue:we._k},{provide:b.crf,useValue:function R(){_e.makeCurrent()},multi:!0},{provide:we.Ud,useFactory:function pe(){return(0,b.auf)(document),document},deps:[]}]),We=new b.UbH(""),et=[{provide:b.Mn9,useClass:class v{addToWindow(xt){b.IHs.getAngularTestability=(Ye,ct=!0)=>{const Ct=xt.findTestabilityInTree(Ye,ct);if(null==Ct)throw new b.OBp(5103,!1);return Ct},b.IHs.getAllAngularTestabilities=()=>xt.getAllTestabilities(),b.IHs.getAllAngularRootElements=()=>xt.getAllRootElements(),b.IHs.frameworkStabilizers||(b.IHs.frameworkStabilizers=[]),b.IHs.frameworkStabilizers.push(Ye=>{const ct=b.IHs.getAllAngularTestabilities();let Ct=ct.length;const rn=function(){Ct--,0==Ct&&Ye()};ct.forEach(qe=>{qe.whenStable(rn)})})}findTestabilityInTree(xt,ot,Ye){if(null==ot)return null;const ct=xt.getTestability(ot);return null!=ct?ct:Ye?(0,we.uy)().isShadowRoot(ot)?this.findTestabilityInTree(xt,ot.host,!0):this.findTestabilityInTree(xt,ot.parentElement,!0):null}},deps:[]},{provide:b.aS5,useClass:b.G4X,deps:[b.WW2,b.eOv,b.Mn9]},{provide:b.G4X,useClass:b.G4X,deps:[b.WW2,b.eOv,b.Mn9]}],Ae=[{provide:b.i4S,useValue:"root"},{provide:b.eAe,useFactory:function se(){return new b.eAe},deps:[]},{provide:f,useClass:X,multi:!0,deps:[we.Ud,b.WW2,b.AHE]},{provide:f,useClass:q,multi:!0,deps:[we.Ud]},N,a,h,{provide:b.O8F,useExisting:N},{provide:we.OM,useClass:_,deps:[]},[]];let Be=(()=>{var Dt;class xt{constructor(Ye){}static withServerTransition(Ye){return{ngModule:xt,providers:[{provide:b.QHP,useValue:Ye.appId}]}}}return(Dt=xt).\u0275fac=function(Ye){return new(Ye||Dt)(b.CoB(We,12))},Dt.\u0275mod=b.a4G({type:Dt}),Dt.\u0275inj=b.s3X({providers:[...Ae,...et],imports:[we.MD,b.Ev2]}),xt})(),Ze=(()=>{var Dt;class xt{constructor(Ye){this._doc=Ye}getTitle(){return this._doc.title}setTitle(Ye){this._doc.title=Ye||""}}return(Dt=xt).\u0275fac=function(Ye){return new(Ye||Dt)(b.CoB(we.Ud))},Dt.\u0275prov=b.wxM({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),xt})(),Et=(()=>{var Dt;class xt{}return(Dt=xt).\u0275fac=function(Ye){return new(Ye||Dt)},Dt.\u0275prov=b.wxM({token:Dt,factory:function(Ye){let ct=null;return ct=Ye?new(Ye||Dt):b.CoB(Pe),ct},providedIn:"root"}),xt})(),Pe=(()=>{var Dt;class xt extends Et{constructor(Ye){super(),this._doc=Ye}sanitize(Ye,ct){if(null==ct)return null;switch(Ye){case b.SI6.NONE:return ct;case b.SI6.HTML:return(0,b.K2p)(ct,"HTML")?(0,b.E2t)(ct):(0,b.Om8)(this._doc,String(ct)).toString();case b.SI6.STYLE:return(0,b.K2p)(ct,"Style")?(0,b.E2t)(ct):ct;case b.SI6.SCRIPT:if((0,b.K2p)(ct,"Script"))return(0,b.E2t)(ct);throw new b.OBp(5200,!1);case b.SI6.URL:return(0,b.K2p)(ct,"URL")?(0,b.E2t)(ct):(0,b.ozE)(String(ct));case b.SI6.RESOURCE_URL:if((0,b.K2p)(ct,"ResourceURL"))return(0,b.E2t)(ct);throw new b.OBp(5201,!1);default:throw new b.OBp(5202,!1)}}bypassSecurityTrustHtml(Ye){return(0,b.GM_)(Ye)}bypassSecurityTrustStyle(Ye){return(0,b.Vfw)(Ye)}bypassSecurityTrustScript(Ye){return(0,b.ER9)(Ye)}bypassSecurityTrustUrl(Ye){return(0,b.Gc)(Ye)}bypassSecurityTrustResourceUrl(Ye){return(0,b.u8n)(Ye)}}return(Dt=xt).\u0275fac=function(Ye){return new(Ye||Dt)(b.CoB(we.Ud))},Dt.\u0275prov=b.wxM({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),xt})()},3332:(fn,Pt,me)=>{"use strict";me.d(Pt,{gV:()=>ur,O4:()=>Br,Qx:()=>Ut,gf:()=>Ae,eu:()=>Ss,XE:()=>nr,E5:()=>sr,ER:()=>Cs,qQ:()=>Ts,qd:()=>Gt});var b=me(4496),we=me(3252),nt=me(8880),r=me(2115),W=me(2700),S=me(6700),v=me(6040);const f=(0,me(4912).w)(ae=>function(){ae(this),this.name="EmptyError",this.message="no elements in sequence"});var h=me(7228),x=me(1424),w=me(3928),a=me(3800),l=me(8960),d=me(2376),u=me(5657),c=me(4548),s=me(1368),m=me(4704),p=me(7368),y=me(3992),O=me(6624),$=me(5448),P=me(6684),j=me(7400),V=me(7773);function k(ae){return(0,$.i)((ge,be)=>{let fe=!1;ge.subscribe((0,V.e)(be,xe=>{fe=!0,be.next(xe)},()=>{fe||be.next(ae),be.complete()}))})}function E(ae=T){return(0,$.i)((ge,be)=>{let fe=!1;ge.subscribe((0,V.e)(be,xe=>{fe=!0,be.next(xe)},()=>fe?be.complete():be.error(ae())))})}function T(){return new f}var H=me(528);function X(ae,ge){const be=arguments.length>=2;return fe=>fe.pipe(ae?(0,P.I)((xe,Je)=>ae(xe,Je,fe)):H.Z,(0,y.U)(1),be?k(ge):E(()=>new f))}function z(ae,ge){return(0,nt.m)(ge)?(0,j.O)(ae,ge,1):(0,j.O)(ae,1)}var te=me(9212),J=me(560);function q(ae){return(0,$.i)((ge,be)=>{let Je,fe=null,xe=!1;fe=ge.subscribe((0,V.e)(be,void 0,void 0,st=>{Je=(0,J.Uv)(ae(st,q(ae)(ge))),fe?(fe.unsubscribe(),fe=null,Je.subscribe(be)):xe=!0})),xe&&(fe.unsubscribe(),fe=null,Je.subscribe(be))})}function De(ae){return ae<=0?()=>l.k:(0,$.i)((ge,be)=>{let fe=[];ge.subscribe((0,V.e)(be,xe=>{fe.push(xe),ae<fe.length&&fe.shift()},()=>{for(const xe of fe)be.next(xe);be.complete()},void 0,()=>{fe=null}))})}var R=me(320);function se(ae){return(0,$.i)((ge,be)=>{try{ge.subscribe(be)}finally{be.add(ae)}})}var pe=me(8084),Ee=me(308),We=me(267),et=me(4476);const Ae="primary",Be=Symbol("RouteTitle");class Fe{constructor(ge){this.params=ge||{}}has(ge){return Object.prototype.hasOwnProperty.call(this.params,ge)}get(ge){if(this.has(ge)){const be=this.params[ge];return Array.isArray(be)?be[0]:be}return null}getAll(ge){if(this.has(ge)){const be=this.params[ge];return Array.isArray(be)?be:[be]}return[]}get keys(){return Object.keys(this.params)}}function Oe(ae){return new Fe(ae)}function Ze(ae,ge,be){const fe=be.path.split("/");if(fe.length>ae.length||"full"===be.pathMatch&&(ge.hasChildren()||fe.length<ae.length))return null;const xe={};for(let Je=0;Je<fe.length;Je++){const st=fe[Je],Yt=ae[Je];if(st.startsWith(":"))xe[st.substring(1)]=Yt;else if(st!==Yt.path)return null}return{consumed:ae.slice(0,fe.length),posParams:xe}}function vt(ae,ge){const be=ae?ht(ae):void 0,fe=ge?ht(ge):void 0;if(!be||!fe||be.length!=fe.length)return!1;let xe;for(let Je=0;Je<be.length;Je++)if(xe=be[Je],!ft(ae[xe],ge[xe]))return!1;return!0}function ht(ae){return[...Object.keys(ae),...Object.getOwnPropertySymbols(ae)]}function ft(ae,ge){if(Array.isArray(ae)&&Array.isArray(ge)){if(ae.length!==ge.length)return!1;const be=[...ae].sort(),fe=[...ge].sort();return be.every((xe,Je)=>fe[Je]===xe)}return ae===ge}function kt(ae){return ae.length>0?ae[ae.length-1]:null}function qt(ae){return function _e(ae){return!!ae&&(ae instanceof we._||(0,nt.m)(ae.lift)&&(0,nt.m)(ae.subscribe))}(ae)?ae:(0,b.w5$)(ae)?(0,r.Q)(Promise.resolve(ae)):(0,W.of)(ae)}const Lt={exact:function Tt(ae,ge,be){if(!wt(ae.segments,ge.segments)||!Et(ae.segments,ge.segments,be)||ae.numberOfChildren!==ge.numberOfChildren)return!1;for(const fe in ge.children)if(!ae.children[fe]||!Tt(ae.children[fe],ge.children[fe],be))return!1;return!0},subset:bt},ln={exact:function Ht(ae,ge){return vt(ae,ge)},subset:function Jt(ae,ge){return Object.keys(ge).length<=Object.keys(ae).length&&Object.keys(ge).every(be=>ft(ae[be],ge[be]))},ignored:()=>!0};function sn(ae,ge,be){return Lt[be.paths](ae.root,ge.root,be.matrixParams)&&ln[be.queryParams](ae.queryParams,ge.queryParams)&&!("exact"===be.fragment&&ae.fragment!==ge.fragment)}function bt(ae,ge,be){return zt(ae,ge,ge.segments,be)}function zt(ae,ge,be,fe){if(ae.segments.length>be.length){const xe=ae.segments.slice(0,be.length);return!(!wt(xe,be)||ge.hasChildren()||!Et(xe,be,fe))}if(ae.segments.length===be.length){if(!wt(ae.segments,be)||!Et(ae.segments,be,fe))return!1;for(const xe in ge.children)if(!ae.children[xe]||!bt(ae.children[xe],ge.children[xe],fe))return!1;return!0}{const xe=be.slice(0,ae.segments.length),Je=be.slice(ae.segments.length);return!!(wt(ae.segments,xe)&&Et(ae.segments,xe,fe)&&ae.children[Ae])&&zt(ae.children[Ae],ge,Je,fe)}}function Et(ae,ge,be){return ge.every((fe,xe)=>ln[be](ae[xe].parameters,fe.parameters))}class Pe{constructor(ge=new Ge([],{}),be={},fe=null){this.root=ge,this.queryParams=be,this.fragment=fe}get queryParamMap(){var ge;return null!==(ge=this._queryParamMap)&&void 0!==ge||(this._queryParamMap=Oe(this.queryParams)),this._queryParamMap}toString(){return _n.serialize(this)}}class Ge{constructor(ge,be){this.segments=ge,this.children=be,this.parent=null,Object.values(be).forEach(fe=>fe.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wn(this)}}class Ie{constructor(ge,be){this.path=ge,this.parameters=be}get parameterMap(){var ge;return null!==(ge=this._parameterMap)&&void 0!==ge||(this._parameterMap=Oe(this.parameters)),this._parameterMap}toString(){return qe(this)}}function wt(ae,ge){return ae.length===ge.length&&ae.every((be,fe)=>be.path===ge[fe].path)}let Gt=(()=>{var ae;class ge{}return(ae=ge).\u0275fac=function(fe){return new(fe||ae)},ae.\u0275prov=b.wxM({token:ae,factory:()=>new an,providedIn:"root"}),ge})();class an{parse(ge){const be=new tr(ge);return new Pe(be.parseRootSegment(),be.parseQueryParams(),be.parseFragment())}serialize(ge){const be=`/${Dt(ge.root,!0)}`,fe=function Nt(ae){const ge=Object.entries(ae).map(([be,fe])=>Array.isArray(fe)?fe.map(xe=>`${ot(be)}=${ot(xe)}`).join("&"):`${ot(be)}=${ot(fe)}`).filter(be=>be);return ge.length?`?${ge.join("&")}`:""}(ge.queryParams);return`${be}${fe}${"string"==typeof ge.fragment?`#${function Ye(ae){return encodeURI(ae)}(ge.fragment)}`:""}`}}const _n=new an;function wn(ae){return ae.segments.map(ge=>qe(ge)).join("/")}function Dt(ae,ge){if(!ae.hasChildren())return wn(ae);if(ge){const be=ae.children[Ae]?Dt(ae.children[Ae],!1):"",fe=[];return Object.entries(ae.children).forEach(([xe,Je])=>{xe!==Ae&&fe.push(`${xe}:${Dt(Je,!1)}`)}),fe.length>0?`${be}(${fe.join("//")})`:be}{const be=function jt(ae,ge){let be=[];return Object.entries(ae.children).forEach(([fe,xe])=>{fe===Ae&&(be=be.concat(ge(xe,fe)))}),Object.entries(ae.children).forEach(([fe,xe])=>{fe!==Ae&&(be=be.concat(ge(xe,fe)))}),be}(ae,(fe,xe)=>xe===Ae?[Dt(ae.children[Ae],!1)]:[`${xe}:${Dt(fe,!1)}`]);return 1===Object.keys(ae.children).length&&null!=ae.children[Ae]?`${wn(ae)}/${be[0]}`:`${wn(ae)}/(${be.join("//")})`}}function xt(ae){return encodeURIComponent(ae).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ot(ae){return xt(ae).replace(/%3B/gi,";")}function ct(ae){return xt(ae).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ct(ae){return decodeURIComponent(ae)}function rn(ae){return Ct(ae.replace(/\+/g,"%20"))}function qe(ae){return`${ct(ae.path)}${function yt(ae){return Object.entries(ae).map(([ge,be])=>`;${ct(ge)}=${ct(be)}`).join("")}(ae.parameters)}`}const Ft=/^[^\/()?;#]+/;function $t(ae){const ge=ae.match(Ft);return ge?ge[0]:""}const hn=/^[^\/()?;=#]+/,En=/^[^=?&#]+/,Cn=/^[^&#]+/;class tr{constructor(ge){this.url=ge,this.remaining=ge}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ge([],{}):new Ge([],this.parseChildren())}parseQueryParams(){const ge={};if(this.consumeOptional("?"))do{this.parseQueryParam(ge)}while(this.consumeOptional("&"));return ge}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const ge=[];for(this.peekStartsWith("(")||ge.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),ge.push(this.parseSegment());let be={};this.peekStartsWith("/(")&&(this.capture("/"),be=this.parseParens(!0));let fe={};return this.peekStartsWith("(")&&(fe=this.parseParens(!1)),(ge.length>0||Object.keys(be).length>0)&&(fe[Ae]=new Ge(ge,be)),fe}parseSegment(){const ge=$t(this.remaining);if(""===ge&&this.peekStartsWith(";"))throw new b.OBp(4009,!1);return this.capture(ge),new Ie(Ct(ge),this.parseMatrixParams())}parseMatrixParams(){const ge={};for(;this.consumeOptional(";");)this.parseParam(ge);return ge}parseParam(ge){const be=function yn(ae){const ge=ae.match(hn);return ge?ge[0]:""}(this.remaining);if(!be)return;this.capture(be);let fe="";if(this.consumeOptional("=")){const xe=$t(this.remaining);xe&&(fe=xe,this.capture(fe))}ge[Ct(be)]=Ct(fe)}parseQueryParam(ge){const be=function Sn(ae){const ge=ae.match(En);return ge?ge[0]:""}(this.remaining);if(!be)return;this.capture(be);let fe="";if(this.consumeOptional("=")){const st=function Zn(ae){const ge=ae.match(Cn);return ge?ge[0]:""}(this.remaining);st&&(fe=st,this.capture(fe))}const xe=rn(be),Je=rn(fe);if(ge.hasOwnProperty(xe)){let st=ge[xe];Array.isArray(st)||(st=[st],ge[xe]=st),st.push(Je)}else ge[xe]=Je}parseParens(ge){const be={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const fe=$t(this.remaining),xe=this.remaining[fe.length];if("/"!==xe&&")"!==xe&&";"!==xe)throw new b.OBp(4010,!1);let Je;fe.indexOf(":")>-1?(Je=fe.slice(0,fe.indexOf(":")),this.capture(Je),this.capture(":")):ge&&(Je=Ae);const st=this.parseChildren();be[Je]=1===Object.keys(st).length?st[Ae]:new Ge([],st),this.consumeOptional("//")}return be}peekStartsWith(ge){return this.remaining.startsWith(ge)}consumeOptional(ge){return!!this.peekStartsWith(ge)&&(this.remaining=this.remaining.substring(ge.length),!0)}capture(ge){if(!this.consumeOptional(ge))throw new b.OBp(4011,!1)}}function lr(ae){return ae.segments.length>0?new Ge([],{[Ae]:ae}):ae}function Pn(ae){const ge={};for(const[fe,xe]of Object.entries(ae.children)){const Je=Pn(xe);if(fe===Ae&&0===Je.segments.length&&Je.hasChildren())for(const[st,Yt]of Object.entries(Je.children))ge[st]=Yt;else(Je.segments.length>0||Je.hasChildren())&&(ge[fe]=Je)}return function Wn(ae){if(1===ae.numberOfChildren&&ae.children[Ae]){const ge=ae.children[Ae];return new Ge(ae.segments.concat(ge.segments),ge.children)}return ae}(new Ge(ae.segments,ge))}function G(ae){return ae instanceof Pe}function Se(ae){var ge;let be;const Je=lr(function fe(st){const Yt={};for(const nn of st.children){const kn=fe(nn);Yt[nn.outlet]=kn}const xn=new Ge(st.url,Yt);return st===ae&&(be=xn),xn}(ae.root));return null!==(ge=be)&&void 0!==ge?ge:Je}function D(ae,ge,be,fe){let xe=ae;for(;xe.parent;)xe=xe.parent;if(0===ge.length)return ee(xe,xe,xe,be,fe);const Je=function he(ae){if("string"==typeof ae[0]&&1===ae.length&&"/"===ae[0])return new Q(!0,0,ae);let ge=0,be=!1;const fe=ae.reduce((xe,Je,st)=>{if("object"==typeof Je&&null!=Je){if(Je.outlets){const Yt={};return Object.entries(Je.outlets).forEach(([xn,nn])=>{Yt[xn]="string"==typeof nn?nn.split("/"):nn}),[...xe,{outlets:Yt}]}if(Je.segmentPath)return[...xe,Je.segmentPath]}return"string"!=typeof Je?[...xe,Je]:0===st?(Je.split("/").forEach((Yt,xn)=>{0==xn&&"."===Yt||(0==xn&&""===Yt?be=!0:".."===Yt?ge++:""!=Yt&&xe.push(Yt))}),xe):[...xe,Je]},[]);return new Q(be,ge,fe)}(ge);if(Je.toRoot())return ee(xe,xe,new Ge([],{}),be,fe);const st=function rt(ae,ge,be){if(ae.isAbsolute)return new Re(ge,!0,0);if(!be)return new Re(ge,!1,NaN);if(null===be.parent)return new Re(be,!0,0);const fe=F(ae.commands[0])?0:1;return function _t(ae,ge,be){let fe=ae,xe=ge,Je=be;for(;Je>xe;){if(Je-=xe,fe=fe.parent,!fe)throw new b.OBp(4005,!1);xe=fe.segments.length}return new Re(fe,!1,xe-Je)}(be,be.segments.length-1+fe,ae.numberOfDoubleDots)}(Je,xe,ae),Yt=st.processChildren?bn(st.segmentGroup,st.index,Je.commands):un(st.segmentGroup,st.index,Je.commands);return ee(xe,st.segmentGroup,Yt,be,fe)}function F(ae){return"object"==typeof ae&&null!=ae&&!ae.outlets&&!ae.segmentPath}function L(ae){return"object"==typeof ae&&null!=ae&&ae.outlets}function ee(ae,ge,be,fe,xe){let st,Je={};fe&&Object.entries(fe).forEach(([xn,nn])=>{Je[xn]=Array.isArray(nn)?nn.map(kn=>`${kn}`):`${nn}`}),st=ae===ge?be:re(ae,ge,be);const Yt=lr(Pn(st));return new Pe(Yt,Je,xe)}function re(ae,ge,be){const fe={};return Object.entries(ae.children).forEach(([xe,Je])=>{fe[xe]=Je===ge?be:re(Je,ge,be)}),new Ge(ae.segments,fe)}class Q{constructor(ge,be,fe){if(this.isAbsolute=ge,this.numberOfDoubleDots=be,this.commands=fe,ge&&fe.length>0&&F(fe[0]))throw new b.OBp(4003,!1);const xe=fe.find(L);if(xe&&xe!==kt(fe))throw new b.OBp(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Re{constructor(ge,be,fe){this.segmentGroup=ge,this.processChildren=be,this.index=fe}}function un(ae,ge,be){var fe;if(null!==(fe=ae)&&void 0!==fe||(ae=new Ge([],{})),0===ae.segments.length&&ae.hasChildren())return bn(ae,ge,be);const xe=function Rn(ae,ge,be){let fe=0,xe=ge;const Je={match:!1,pathIndex:0,commandIndex:0};for(;xe<ae.segments.length;){if(fe>=be.length)return Je;const st=ae.segments[xe],Yt=be[fe];if(L(Yt))break;const xn=`${Yt}`,nn=fe<be.length-1?be[fe+1]:null;if(xe>0&&void 0===xn)break;if(xn&&nn&&"object"==typeof nn&&void 0===nn.outlets){if(!at(xn,nn,st))return Je;fe+=2}else{if(!at(xn,{},st))return Je;fe++}xe++}return{match:!0,pathIndex:xe,commandIndex:fe}}(ae,ge,be),Je=be.slice(xe.commandIndex);if(xe.match&&xe.pathIndex<ae.segments.length){const st=new Ge(ae.segments.slice(0,xe.pathIndex),{});return st.children[Ae]=new Ge(ae.segments.slice(xe.pathIndex),ae.children),bn(st,0,Je)}return xe.match&&0===Je.length?new Ge(ae.segments,{}):xe.match&&!ae.hasChildren()?Hn(ae,ge,be):xe.match?bn(ae,0,Je):Hn(ae,ge,be)}function bn(ae,ge,be){if(0===be.length)return new Ge(ae.segments,{});{const fe=function Xt(ae){return L(ae[0])?ae[0].outlets:{[Ae]:ae}}(be),xe={};if(Object.keys(fe).some(Je=>Je!==Ae)&&ae.children[Ae]&&1===ae.numberOfChildren&&0===ae.children[Ae].segments.length){const Je=bn(ae.children[Ae],ge,be);return new Ge(ae.segments,Je.children)}return Object.entries(fe).forEach(([Je,st])=>{"string"==typeof st&&(st=[st]),null!==st&&(xe[Je]=un(ae.children[Je],ge,st))}),Object.entries(ae.children).forEach(([Je,st])=>{void 0===fe[Je]&&(xe[Je]=st)}),new Ge(ae.segments,xe)}}function Hn(ae,ge,be){const fe=ae.segments.slice(0,ge);let xe=0;for(;xe<be.length;){const Je=be[xe];if(L(Je)){const xn=dr(Je.outlets);return new Ge(fe,xn)}if(0===xe&&F(be[0])){fe.push(new Ie(ae.segments[ge].path,rr(be[0]))),xe++;continue}const st=L(Je)?Je.outlets[Ae]:`${Je}`,Yt=xe<be.length-1?be[xe+1]:null;st&&Yt&&F(Yt)?(fe.push(new Ie(st,rr(Yt))),xe+=2):(fe.push(new Ie(st,{})),xe++)}return new Ge(fe,{})}function dr(ae){const ge={};return Object.entries(ae).forEach(([be,fe])=>{"string"==typeof fe&&(fe=[fe]),null!==fe&&(ge[be]=Hn(new Ge([],{}),0,fe))}),ge}function rr(ae){const ge={};return Object.entries(ae).forEach(([be,fe])=>ge[be]=`${fe}`),ge}function at(ae,ge,be){return ae==be.path&&vt(ge,be.parameters)}const ut="imperative";var $e=function(ae){return ae[ae.NavigationStart=0]="NavigationStart",ae[ae.NavigationEnd=1]="NavigationEnd",ae[ae.NavigationCancel=2]="NavigationCancel",ae[ae.NavigationError=3]="NavigationError",ae[ae.RoutesRecognized=4]="RoutesRecognized",ae[ae.ResolveStart=5]="ResolveStart",ae[ae.ResolveEnd=6]="ResolveEnd",ae[ae.GuardsCheckStart=7]="GuardsCheckStart",ae[ae.GuardsCheckEnd=8]="GuardsCheckEnd",ae[ae.RouteConfigLoadStart=9]="RouteConfigLoadStart",ae[ae.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",ae[ae.ChildActivationStart=11]="ChildActivationStart",ae[ae.ChildActivationEnd=12]="ChildActivationEnd",ae[ae.ActivationStart=13]="ActivationStart",ae[ae.ActivationEnd=14]="ActivationEnd",ae[ae.Scroll=15]="Scroll",ae[ae.NavigationSkipped=16]="NavigationSkipped",ae}($e||{});class lt{constructor(ge,be){this.id=ge,this.url=be}}class Ut extends lt{constructor(ge,be,fe="imperative",xe=null){super(ge,be),this.type=$e.NavigationStart,this.navigationTrigger=fe,this.restoredState=xe}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class dn extends lt{constructor(ge,be,fe){super(ge,be),this.urlAfterRedirects=fe,this.type=$e.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var An=function(ae){return ae[ae.Redirect=0]="Redirect",ae[ae.SupersededByNewNavigation=1]="SupersededByNewNavigation",ae[ae.NoDataFromResolver=2]="NoDataFromResolver",ae[ae.GuardRejected=3]="GuardRejected",ae}(An||{}),At=function(ae){return ae[ae.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",ae[ae.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",ae}(At||{});class je extends lt{constructor(ge,be,fe,xe){super(ge,be),this.reason=fe,this.code=xe,this.type=$e.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class He extends lt{constructor(ge,be,fe,xe){super(ge,be),this.reason=fe,this.code=xe,this.type=$e.NavigationSkipped}}class Mt extends lt{constructor(ge,be,fe,xe){super(ge,be),this.error=fe,this.target=xe,this.type=$e.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Rt extends lt{constructor(ge,be,fe,xe){super(ge,be),this.urlAfterRedirects=fe,this.state=xe,this.type=$e.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vt extends lt{constructor(ge,be,fe,xe){super(ge,be),this.urlAfterRedirects=fe,this.state=xe,this.type=$e.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ie extends lt{constructor(ge,be,fe,xe,Je){super(ge,be),this.urlAfterRedirects=fe,this.state=xe,this.shouldActivate=Je,this.type=$e.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Le extends lt{constructor(ge,be,fe,xe){super(ge,be),this.urlAfterRedirects=fe,this.state=xe,this.type=$e.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ve extends lt{constructor(ge,be,fe,xe){super(ge,be),this.urlAfterRedirects=fe,this.state=xe,this.type=$e.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ve{constructor(ge){this.route=ge,this.type=$e.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mt{constructor(ge){this.route=ge,this.type=$e.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zt{constructor(ge){this.snapshot=ge,this.type=$e.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dn{constructor(ge){this.snapshot=ge,this.type=$e.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class On{constructor(ge){this.snapshot=ge,this.type=$e.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zn{constructor(ge){this.snapshot=ge,this.type=$e.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xn{constructor(ge,be,fe){this.routerEvent=ge,this.position=be,this.anchor=fe,this.type=$e.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class jr{}class Ar{constructor(ge){this.url=ge}}class Bo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Br,this.attachRef=null}}let Br=(()=>{var ae;class ge{constructor(){this.contexts=new Map}onChildOutletCreated(fe,xe){const Je=this.getOrCreateContext(fe);Je.outlet=xe,this.contexts.set(fe,Je)}onChildOutletDestroyed(fe){const xe=this.getContext(fe);xe&&(xe.outlet=null,xe.attachRef=null)}onOutletDeactivated(){const fe=this.contexts;return this.contexts=new Map,fe}onOutletReAttached(fe){this.contexts=fe}getOrCreateContext(fe){let xe=this.getContext(fe);return xe||(xe=new Bo,this.contexts.set(fe,xe)),xe}getContext(fe){return this.contexts.get(fe)||null}}return(ae=ge).\u0275fac=function(fe){return new(fe||ae)},ae.\u0275prov=b.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ge})();class mr{constructor(ge){this._root=ge}get root(){return this._root.value}parent(ge){const be=this.pathFromRoot(ge);return be.length>1?be[be.length-2]:null}children(ge){const be=Tn(ge,this._root);return be?be.children.map(fe=>fe.value):[]}firstChild(ge){const be=Tn(ge,this._root);return be&&be.children.length>0?be.children[0].value:null}siblings(ge){const be=Fn(ge,this._root);return be.length<2?[]:be[be.length-2].children.map(xe=>xe.value).filter(xe=>xe!==ge)}pathFromRoot(ge){return Fn(ge,this._root).map(be=>be.value)}}function Tn(ae,ge){if(ae===ge.value)return ge;for(const be of ge.children){const fe=Tn(ae,be);if(fe)return fe}return null}function Fn(ae,ge){if(ae===ge.value)return[ge];for(const be of ge.children){const fe=Fn(ae,be);if(fe.length)return fe.unshift(ge),fe}return[]}class fr{constructor(ge,be){this.value=ge,this.children=be}toString(){return`TreeNode(${this.value})`}}function Yr(ae){const ge={};return ae&&ae.children.forEach(be=>ge[be.value.outlet]=be),ge}class xr extends mr{constructor(ge,be){super(ge),this.snapshot=be,ro(this,ge)}toString(){return this.snapshot.toString()}}function Lr(ae){const ge=function uo(ae){const Je=new $r([],{},{},"",{},Ae,ae,null,{});return new qn("",new fr(Je,[]))}(ae),be=new S.g([new Ie("",{})]),fe=new S.g({}),xe=new S.g({}),Je=new S.g({}),st=new S.g(""),Yt=new ur(be,fe,Je,st,xe,Ae,ae,ge.root);return Yt.snapshot=ge.root,new xr(new fr(Yt,[]),ge)}class ur{constructor(ge,be,fe,xe,Je,st,Yt,xn){var nn,kn;this.urlSubject=ge,this.paramsSubject=be,this.queryParamsSubject=fe,this.fragmentSubject=xe,this.dataSubject=Je,this.outlet=st,this.component=Yt,this._futureSnapshot=xn,this.title=null!==(nn=null===(kn=this.dataSubject)||void 0===kn?void 0:kn.pipe((0,m.k)(Jn=>Jn[Be])))&&void 0!==nn?nn:(0,W.of)(void 0),this.url=ge,this.params=be,this.queryParams=fe,this.fragment=xe,this.data=Je}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var ge;return null!==(ge=this._paramMap)&&void 0!==ge||(this._paramMap=this.params.pipe((0,m.k)(be=>Oe(be)))),this._paramMap}get queryParamMap(){var ge;return null!==(ge=this._queryParamMap)&&void 0!==ge||(this._queryParamMap=this.queryParams.pipe((0,m.k)(be=>Oe(be)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vr(ae,ge,be="emptyOnly"){var fe;let xe;const{routeConfig:Je}=ae;var st;return xe=null===ge||"always"!==be&&""!==(null==Je?void 0:Je.path)&&(ge.component||null!==(fe=ge.routeConfig)&&void 0!==fe&&fe.loadComponent)?{params:{...ae.params},data:{...ae.data},resolve:{...ae.data,...null!==(st=ae._resolvedData)&&void 0!==st?st:{}}}:{params:{...ge.params,...ae.params},data:{...ge.data,...ae.data},resolve:{...ae.data,...ge.data,...null==Je?void 0:Je.data,...ae._resolvedData}},Je&&So(Je)&&(xe.resolve[Be]=Je.title),xe}class $r{get title(){var ge;return null===(ge=this.data)||void 0===ge?void 0:ge[Be]}constructor(ge,be,fe,xe,Je,st,Yt,xn,nn){this.url=ge,this.params=be,this.queryParams=fe,this.fragment=xe,this.data=Je,this.outlet=st,this.component=Yt,this.routeConfig=xn,this._resolve=nn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var ge;return null!==(ge=this._paramMap)&&void 0!==ge||(this._paramMap=Oe(this.params)),this._paramMap}get queryParamMap(){var ge;return null!==(ge=this._queryParamMap)&&void 0!==ge||(this._queryParamMap=Oe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(fe=>fe.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qn extends mr{constructor(ge,be){super(be),this.url=ge,ro(this,be)}toString(){return zo(this._root)}}function ro(ae,ge){ge.value._routerState=ae,ge.children.forEach(be=>ro(ae,be))}function zo(ae){const ge=ae.children.length>0?` { ${ae.children.map(zo).join(", ")} } `:"";return`${ae.value}${ge}`}function xo(ae){if(ae.snapshot){const ge=ae.snapshot,be=ae._futureSnapshot;ae.snapshot=be,vt(ge.queryParams,be.queryParams)||ae.queryParamsSubject.next(be.queryParams),ge.fragment!==be.fragment&&ae.fragmentSubject.next(be.fragment),vt(ge.params,be.params)||ae.paramsSubject.next(be.params),function Qe(ae,ge){if(ae.length!==ge.length)return!1;for(let be=0;be<ae.length;++be)if(!vt(ae[be],ge[be]))return!1;return!0}(ge.url,be.url)||ae.urlSubject.next(be.url),vt(ge.data,be.data)||ae.dataSubject.next(be.data)}else ae.snapshot=ae._futureSnapshot,ae.dataSubject.next(ae._futureSnapshot.data)}function Dr(ae,ge){const be=vt(ae.params,ge.params)&&function ze(ae,ge){return wt(ae,ge)&&ae.every((be,fe)=>vt(be.parameters,ge[fe].parameters))}(ae.url,ge.url);return be&&!(!ae.parent!=!ge.parent)&&(!ae.parent||Dr(ae.parent,ge.parent))}function So(ae){return"string"==typeof ae.title||null===ae.title}let To=(()=>{var ae;class ge{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ae,this.activateEvents=new b._w7,this.deactivateEvents=new b._w7,this.attachEvents=new b._w7,this.detachEvents=new b._w7,this.parentContexts=(0,b.uUt)(Br),this.location=(0,b.uUt)(b.y8U),this.changeDetector=(0,b.uUt)(b.kD9),this.environmentInjector=(0,b.uUt)(b.SIe),this.inputBinder=(0,b.uUt)(po,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(fe){if(fe.name){const{firstChange:xe,previousValue:Je}=fe.name;if(xe)return;this.isTrackedInParentContexts(Je)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Je)),this.initializeOutletWithName()}}ngOnDestroy(){var fe;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(fe=this.inputBinder)||void 0===fe||fe.unsubscribeFromRouteData(this)}isTrackedInParentContexts(fe){var xe;return(null===(xe=this.parentContexts.getContext(fe))||void 0===xe?void 0:xe.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const fe=this.parentContexts.getContext(this.name);null!=fe&&fe.route&&(fe.attachRef?this.attach(fe.attachRef,fe.route):this.activateWith(fe.route,fe.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.OBp(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.OBp(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.OBp(4012,!1);this.location.detach();const fe=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(fe.instance),fe}attach(fe,xe){var Je;this.activated=fe,this._activatedRoute=xe,this.location.insert(fe.hostView),null===(Je=this.inputBinder)||void 0===Je||Je.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(fe.instance)}deactivate(){if(this.activated){const fe=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(fe)}}activateWith(fe,xe){var Je;if(this.isActivated)throw new b.OBp(4013,!1);this._activatedRoute=fe;const st=this.location,xn=fe.snapshot.component,nn=this.parentContexts.getOrCreateContext(this.name).children,kn=new fo(fe,nn,st.injector);this.activated=st.createComponent(xn,{index:st.length,injector:kn,environmentInjector:null!=xe?xe:this.environmentInjector}),this.changeDetector.markForCheck(),null===(Je=this.inputBinder)||void 0===Je||Je.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(ae=ge).\u0275fac=function(fe){return new(fe||ae)},ae.\u0275dir=b.Sc5({type:ae,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[b.SYr]}),ge})();class fo{constructor(ge,be,fe){this.route=ge,this.childContexts=be,this.parent=fe}get(ge,be){return ge===ur?this.route:ge===Br?this.childContexts:this.parent.get(ge,be)}}const po=new b.UbH("");let qo=(()=>{var ae;class ge{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(fe){this.unsubscribeFromRouteData(fe),this.subscribeToRouteData(fe)}unsubscribeFromRouteData(fe){var xe;null===(xe=this.outletDataSubscriptions.get(fe))||void 0===xe||xe.unsubscribe(),this.outletDataSubscriptions.delete(fe)}subscribeToRouteData(fe){const{activatedRoute:xe}=fe,Je=(0,v.E)([xe.queryParams,xe.params,xe.data]).pipe((0,p.G)(([st,Yt,xn],nn)=>(xn={...st,...Yt,...xn},0===nn?(0,W.of)(xn):Promise.resolve(xn)))).subscribe(st=>{if(!fe.isActivated||!fe.activatedComponentRef||fe.activatedRoute!==xe||null===xe.component)return void this.unsubscribeFromRouteData(fe);const Yt=(0,b.o9M)(xe.component);if(Yt)for(const{templateName:xn}of Yt.inputs)fe.activatedComponentRef.setInput(xn,st[xn]);else this.unsubscribeFromRouteData(fe)});this.outletDataSubscriptions.set(fe,Je)}}return(ae=ge).\u0275fac=function(fe){return new(fe||ae)},ae.\u0275prov=b.wxM({token:ae,factory:ae.\u0275fac}),ge})();function mo(ae,ge,be){if(be&&ae.shouldReuseRoute(ge.value,be.value.snapshot)){const fe=be.value;fe._futureSnapshot=ge.value;const xe=function ko(ae,ge,be){return ge.children.map(fe=>{for(const xe of be.children)if(ae.shouldReuseRoute(fe.value,xe.value.snapshot))return mo(ae,fe,xe);return mo(ae,fe)})}(ae,ge,be);return new fr(fe,xe)}{if(ae.shouldAttach(ge.value)){const Je=ae.retrieve(ge.value);if(null!==Je){const st=Je.route;return st.value._futureSnapshot=ge.value,st.children=ge.children.map(Yt=>mo(ae,Yt)),st}}const fe=function Yn(ae){return new ur(new S.g(ae.url),new S.g(ae.params),new S.g(ae.queryParams),new S.g(ae.fragment),new S.g(ae.data),ae.outlet,ae.component,ae)}(ge.value),xe=ge.children.map(Je=>mo(ae,Je));return new fr(fe,xe)}}const Uo="ngNavigationCancelingError";function oo(ae,ge){const{redirectTo:be,navigationBehaviorOptions:fe}=G(ge)?{redirectTo:ge,navigationBehaviorOptions:void 0}:ge,xe=co(!1,An.Redirect);return xe.url=be,xe.navigationBehaviorOptions=fe,xe}function co(ae,ge){const be=new Error(`NavigationCancelingError: ${ae||""}`);return be[Uo]=!0,be.cancellationCode=ge,be}function Lo(ae){return!!ae&&ae[Uo]}let br=(()=>{var ae;class ge{}return(ae=ge).\u0275fac=function(fe){return new(fe||ae)},ae.\u0275cmp=b.In1({type:ae,selectors:[["ng-component"]],standalone:!0,features:[b.UHJ],decls:1,vars:0,template:function(fe,xe){1&fe&&b.wR5(0,"router-outlet")},dependencies:[To],encapsulation:2}),ge})();function li(ae){const ge=ae.children&&ae.children.map(li),be=ge?{...ae,children:ge}:{...ae};return!be.component&&!be.loadComponent&&(ge||be.loadChildren)&&be.outlet&&be.outlet!==Ae&&(be.component=br),be}function go(ae){return ae.outlet||Ae}function Ko(ae){var ge;if(!ae)return null;if(null!==(ge=ae.routeConfig)&&void 0!==ge&&ge._injector)return ae.routeConfig._injector;for(let be=ae.parent;be;be=be.parent){const fe=be.routeConfig;if(null!=fe&&fe._loadedInjector)return fe._loadedInjector;if(null!=fe&&fe._injector)return fe._injector}return null}class Zi{constructor(ge,be,fe,xe,Je){this.routeReuseStrategy=ge,this.futureState=be,this.currState=fe,this.forwardEvent=xe,this.inputBindingEnabled=Je}activate(ge){const be=this.futureState._root,fe=this.currState?this.currState._root:null;this.deactivateChildRoutes(be,fe,ge),xo(this.futureState.root),this.activateChildRoutes(be,fe,ge)}deactivateChildRoutes(ge,be,fe){const xe=Yr(be);ge.children.forEach(Je=>{const st=Je.value.outlet;this.deactivateRoutes(Je,xe[st],fe),delete xe[st]}),Object.values(xe).forEach(Je=>{this.deactivateRouteAndItsChildren(Je,fe)})}deactivateRoutes(ge,be,fe){const xe=ge.value,Je=be?be.value:null;if(xe===Je)if(xe.component){const st=fe.getContext(xe.outlet);st&&this.deactivateChildRoutes(ge,be,st.children)}else this.deactivateChildRoutes(ge,be,fe);else Je&&this.deactivateRouteAndItsChildren(be,fe)}deactivateRouteAndItsChildren(ge,be){ge.value.component&&this.routeReuseStrategy.shouldDetach(ge.value.snapshot)?this.detachAndStoreRouteSubtree(ge,be):this.deactivateRouteAndOutlet(ge,be)}detachAndStoreRouteSubtree(ge,be){const fe=be.getContext(ge.value.outlet),xe=fe&&ge.value.component?fe.children:be,Je=Yr(ge);for(const st of Object.values(Je))this.deactivateRouteAndItsChildren(st,xe);if(fe&&fe.outlet){const st=fe.outlet.detach(),Yt=fe.children.onOutletDeactivated();this.routeReuseStrategy.store(ge.value.snapshot,{componentRef:st,route:ge,contexts:Yt})}}deactivateRouteAndOutlet(ge,be){const fe=be.getContext(ge.value.outlet),xe=fe&&ge.value.component?fe.children:be,Je=Yr(ge);for(const st of Object.values(Je))this.deactivateRouteAndItsChildren(st,xe);fe&&(fe.outlet&&(fe.outlet.deactivate(),fe.children.onOutletDeactivated()),fe.attachRef=null,fe.route=null)}activateChildRoutes(ge,be,fe){const xe=Yr(be);ge.children.forEach(Je=>{this.activateRoutes(Je,xe[Je.value.outlet],fe),this.forwardEvent(new zn(Je.value.snapshot))}),ge.children.length&&this.forwardEvent(new Dn(ge.value.snapshot))}activateRoutes(ge,be,fe){const xe=ge.value,Je=be?be.value:null;if(xo(xe),xe===Je)if(xe.component){const st=fe.getOrCreateContext(xe.outlet);this.activateChildRoutes(ge,be,st.children)}else this.activateChildRoutes(ge,be,fe);else if(xe.component){const st=fe.getOrCreateContext(xe.outlet);if(this.routeReuseStrategy.shouldAttach(xe.snapshot)){const Yt=this.routeReuseStrategy.retrieve(xe.snapshot);this.routeReuseStrategy.store(xe.snapshot,null),st.children.onOutletReAttached(Yt.contexts),st.attachRef=Yt.componentRef,st.route=Yt.route.value,st.outlet&&st.outlet.attach(Yt.componentRef,Yt.route.value),xo(Yt.route.value),this.activateChildRoutes(ge,null,st.children)}else{const Yt=Ko(xe.snapshot);st.attachRef=null,st.route=xe,st.injector=Yt,st.outlet&&st.outlet.activateWith(xe,st.injector),this.activateChildRoutes(ge,null,st.children)}}else this.activateChildRoutes(ge,null,fe)}}class Si{constructor(ge){this.path=ge,this.route=this.path[this.path.length-1]}}class mi{constructor(ge,be){this.component=ge,this.route=be}}function Qi(ae,ge,be){const fe=ae._root;return oi(fe,ge?ge._root:null,be,[fe.value])}function ui(ae,ge){const be=Symbol(),fe=ge.get(ae,be);return fe===be?"function"!=typeof ae||(0,b.K_M)(ae)?ge.get(ae):ae:fe}function oi(ae,ge,be,fe,xe={canDeactivateChecks:[],canActivateChecks:[]}){const Je=Yr(ge);return ae.children.forEach(st=>{(function Wr(ae,ge,be,fe,xe={canDeactivateChecks:[],canActivateChecks:[]}){const Je=ae.value,st=ge?ge.value:null,Yt=be?be.getContext(ae.value.outlet):null;if(st&&Je.routeConfig===st.routeConfig){const xn=function Di(ae,ge,be){if("function"==typeof be)return be(ae,ge);switch(be){case"pathParamsChange":return!wt(ae.url,ge.url);case"pathParamsOrQueryParamsChange":return!wt(ae.url,ge.url)||!vt(ae.queryParams,ge.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dr(ae,ge)||!vt(ae.queryParams,ge.queryParams);default:return!Dr(ae,ge)}}(st,Je,Je.routeConfig.runGuardsAndResolvers);xn?xe.canActivateChecks.push(new Si(fe)):(Je.data=st.data,Je._resolvedData=st._resolvedData),oi(ae,ge,Je.component?Yt?Yt.children:null:be,fe,xe),xn&&Yt&&Yt.outlet&&Yt.outlet.isActivated&&xe.canDeactivateChecks.push(new mi(Yt.outlet.component,st))}else st&&C(ge,Yt,xe),xe.canActivateChecks.push(new Si(fe)),oi(ae,null,Je.component?Yt?Yt.children:null:be,fe,xe)})(st,Je[st.value.outlet],be,fe.concat([st.value]),xe),delete Je[st.value.outlet]}),Object.entries(Je).forEach(([st,Yt])=>C(Yt,be.getContext(st),xe)),xe}function C(ae,ge,be){const fe=Yr(ae),xe=ae.value;Object.entries(fe).forEach(([Je,st])=>{C(st,xe.component?ge?ge.children.getContext(Je):null:ge,be)}),be.canDeactivateChecks.push(new mi(xe.component&&ge&&ge.outlet&&ge.outlet.isActivated?ge.outlet.component:null,xe))}function B(ae){return"function"==typeof ae}function Ke(ae){return ae instanceof f||"EmptyError"===(null==ae?void 0:ae.name)}const it=Symbol("INITIAL_VALUE");function It(){return(0,p.G)(ae=>(0,v.E)(ae.map(ge=>ge.pipe((0,y.U)(1),function N(...ae){const ge=(0,O.e_)(ae);return(0,$.i)((be,fe)=>{(ge?(0,h.W)(ae,be,ge):(0,h.W)(ae,be)).subscribe(fe)})}(it)))).pipe((0,m.k)(ge=>{for(const be of ge)if(!0!==be){if(be===it)return it;if(!1===be||be instanceof Pe)return be}return!0}),(0,P.I)(ge=>ge!==it),(0,y.U)(1)))}function Gn(ae){return(0,w.W)((0,te.y)(ge=>{if(G(ge))throw oo(0,ge)}),(0,m.k)(ge=>!0===ge))}class Un{constructor(ge){this.segmentGroup=ge||null}}class Qn extends Error{constructor(ge){super(),this.urlTree=ge}}function er(ae){return(0,a.c)(new Un(ae))}class Jr{constructor(ge,be){this.urlSerializer=ge,this.urlTree=be}lineralizeSegments(ge,be){let fe=[],xe=be.root;for(;;){if(fe=fe.concat(xe.segments),0===xe.numberOfChildren)return(0,W.of)(fe);if(xe.numberOfChildren>1||!xe.children[Ae])return(0,a.c)(new b.OBp(4e3,!1));xe=xe.children[Ae]}}applyRedirectCommands(ge,be,fe){const xe=this.applyRedirectCreateUrlTree(be,this.urlSerializer.parse(be),ge,fe);if(be.startsWith("/"))throw new Qn(xe);return xe}applyRedirectCreateUrlTree(ge,be,fe,xe){const Je=this.createSegmentGroup(ge,be.root,fe,xe);return new Pe(Je,this.createQueryParams(be.queryParams,this.urlTree.queryParams),be.fragment)}createQueryParams(ge,be){const fe={};return Object.entries(ge).forEach(([xe,Je])=>{if("string"==typeof Je&&Je.startsWith(":")){const Yt=Je.substring(1);fe[xe]=be[Yt]}else fe[xe]=Je}),fe}createSegmentGroup(ge,be,fe,xe){const Je=this.createSegments(ge,be.segments,fe,xe);let st={};return Object.entries(be.children).forEach(([Yt,xn])=>{st[Yt]=this.createSegmentGroup(ge,xn,fe,xe)}),new Ge(Je,st)}createSegments(ge,be,fe,xe){return be.map(Je=>Je.path.startsWith(":")?this.findPosParam(ge,Je,xe):this.findOrReturn(Je,fe))}findPosParam(ge,be,fe){const xe=fe[be.path.substring(1)];if(!xe)throw new b.OBp(4001,!1);return xe}findOrReturn(ge,be){let fe=0;for(const xe of be){if(xe.path===ge.path)return be.splice(fe),xe;fe++}return ge}}const ho={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Er(ae,ge,be,fe,xe){const Je=Mr(ae,ge,be);return Je.matched?(fe=function Yo(ae,ge){var be;return ae.providers&&!ae._injector&&(ae._injector=(0,b.SIz)(ae.providers,ge,`Route: ${ae.path}`)),null!==(be=ae._injector)&&void 0!==be?be:ge}(ge,fe),function $n(ae,ge,be,fe){const xe=ge.canMatch;if(!xe||0===xe.length)return(0,W.of)(!0);const Je=xe.map(st=>{const Yt=ui(st,ae);return qt(function ke(ae){return ae&&B(ae.canMatch)}(Yt)?Yt.canMatch(ge,be):(0,b.SMS)(ae,()=>Yt(ge,be)))});return(0,W.of)(Je).pipe(It(),Gn())}(fe,ge,be).pipe((0,m.k)(st=>!0===st?Je:{...ho}))):(0,W.of)(Je)}function Mr(ae,ge,be){var fe,xe;if("**"===ge.path)return function yr(ae){return{matched:!0,parameters:ae.length>0?kt(ae).parameters:{},consumedSegments:ae,remainingSegments:[],positionalParamSegments:{}}}(be);if(""===ge.path)return"full"===ge.pathMatch&&(ae.hasChildren()||be.length>0)?{...ho}:{matched:!0,consumedSegments:[],remainingSegments:be,parameters:{},positionalParamSegments:{}};const st=(ge.matcher||Ze)(be,ae,ge);if(!st)return{...ho};const Yt={};Object.entries(null!==(fe=st.posParams)&&void 0!==fe?fe:{}).forEach(([nn,kn])=>{Yt[nn]=kn.path});const xn=st.consumed.length>0?{...Yt,...st.consumed[st.consumed.length-1].parameters}:Yt;return{matched:!0,consumedSegments:st.consumed,remainingSegments:be.slice(st.consumed.length),parameters:xn,positionalParamSegments:null!==(xe=st.posParams)&&void 0!==xe?xe:{}}}function kr(ae,ge,be,fe){return be.length>0&&function Nr(ae,ge,be){return be.some(fe=>Jo(ae,ge,fe)&&go(fe)!==Ae)}(ae,be,fe)?{segmentGroup:new Ge(ge,to(fe,new Ge(be,ae.children))),slicedSegments:[]}:0===be.length&&function no(ae,ge,be){return be.some(fe=>Jo(ae,ge,fe))}(ae,be,fe)?{segmentGroup:new Ge(ae.segments,Nn(ae,be,fe,ae.children)),slicedSegments:be}:{segmentGroup:new Ge(ae.segments,ae.children),slicedSegments:be}}function Nn(ae,ge,be,fe){const xe={};for(const Je of be)if(Jo(ae,ge,Je)&&!fe[go(Je)]){const st=new Ge([],{});xe[go(Je)]=st}return{...fe,...xe}}function to(ae,ge){const be={};be[Ae]=ge;for(const fe of ae)if(""===fe.path&&go(fe)!==Ae){const xe=new Ge([],{});be[go(fe)]=xe}return be}function Jo(ae,ge,be){return(!(ae.hasChildren()||ge.length>0)||"full"!==be.pathMatch)&&""===be.path}class Mi{}class Ia{constructor(ge,be,fe,xe,Je,st,Yt){this.injector=ge,this.configLoader=be,this.rootComponentType=fe,this.config=xe,this.urlTree=Je,this.paramsInheritanceStrategy=st,this.urlSerializer=Yt,this.applyRedirects=new Jr(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(ge){return new b.OBp(4002,`'${ge.segmentGroup}'`)}recognize(){const ge=kr(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(ge).pipe((0,m.k)(be=>{const fe=new $r([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ae,this.rootComponentType,null,{}),xe=new fr(fe,be),Je=new qn("",xe),st=function ye(ae,ge,be=null,fe=null){return D(Se(ae),ge,be,fe)}(fe,[],this.urlTree.queryParams,this.urlTree.fragment);return st.queryParams=this.urlTree.queryParams,Je.url=this.urlSerializer.serialize(st),this.inheritParamsAndData(Je._root,null),{state:Je,tree:st}}))}match(ge){return this.processSegmentGroup(this.injector,this.config,ge,Ae).pipe(q(fe=>{if(fe instanceof Qn)return this.urlTree=fe.urlTree,this.match(fe.urlTree.root);throw fe instanceof Un?this.noMatchError(fe):fe}))}inheritParamsAndData(ge,be){const fe=ge.value,xe=vr(fe,be,this.paramsInheritanceStrategy);fe.params=Object.freeze(xe.params),fe.data=Object.freeze(xe.data),ge.children.forEach(Je=>this.inheritParamsAndData(Je,fe))}processSegmentGroup(ge,be,fe,xe){return 0===fe.segments.length&&fe.hasChildren()?this.processChildren(ge,be,fe):this.processSegment(ge,be,fe,fe.segments,xe,!0).pipe((0,m.k)(Je=>Je instanceof fr?[Je]:[]))}processChildren(ge,be,fe){const xe=[];for(const Je of Object.keys(fe.children))"primary"===Je?xe.unshift(Je):xe.push(Je);return(0,r.Q)(xe).pipe(z(Je=>{const st=fe.children[Je],Yt=function _r(ae,ge){const be=ae.filter(fe=>go(fe)===ge);return be.push(...ae.filter(fe=>go(fe)!==ge)),be}(be,Je);return this.processSegmentGroup(ge,Yt,st,Je)}),function de(ae,ge){return(0,$.i)(function ne(ae,ge,be,fe,xe){return(Je,st)=>{let Yt=be,xn=ge,nn=0;Je.subscribe((0,V.e)(st,kn=>{const Jn=nn++;xn=Yt?ae(xn,kn,Jn):(Yt=!0,kn),fe&&st.next(xn)},xe&&(()=>{Yt&&st.next(xn),st.complete()})))}}(ae,ge,arguments.length>=2,!0))}((Je,st)=>(Je.push(...st),Je)),k(null),function Y(ae,ge){const be=arguments.length>=2;return fe=>fe.pipe(ae?(0,P.I)((xe,Je)=>ae(xe,Je,fe)):H.Z,De(1),be?k(ge):E(()=>new f))}(),(0,j.O)(Je=>{if(null===Je)return er(fe);const st=pn(Je);return function kl(ae){ae.sort((ge,be)=>ge.value.outlet===Ae?-1:be.value.outlet===Ae?1:ge.value.outlet.localeCompare(be.value.outlet))}(st),(0,W.of)(st)}))}processSegment(ge,be,fe,xe,Je,st){return(0,r.Q)(be).pipe(z(Yt=>{var xn;return this.processSegmentAgainstRoute(null!==(xn=Yt._injector)&&void 0!==xn?xn:ge,be,Yt,fe,xe,Je,st).pipe(q(nn=>{if(nn instanceof Un)return(0,W.of)(null);throw nn}))}),X(Yt=>!!Yt),q(Yt=>{if(Ke(Yt))return function Fi(ae,ge,be){return 0===ge.length&&!ae.children[be]}(fe,xe,Je)?(0,W.of)(new Mi):er(fe);throw Yt}))}processSegmentAgainstRoute(ge,be,fe,xe,Je,st,Yt){return function ci(ae,ge,be,fe){return!!(go(ae)===fe||fe!==Ae&&Jo(ge,be,ae))&&Mr(ge,ae,be).matched}(fe,xe,Je,st)?void 0===fe.redirectTo?this.matchSegmentAgainstRoute(ge,xe,fe,Je,st):this.allowRedirects&&Yt?this.expandSegmentAgainstRouteUsingRedirect(ge,xe,be,fe,Je,st):er(xe):er(xe)}expandSegmentAgainstRouteUsingRedirect(ge,be,fe,xe,Je,st){const{matched:Yt,consumedSegments:xn,positionalParamSegments:nn,remainingSegments:kn}=Mr(be,xe,Je);if(!Yt)return er(be);xe.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Jn=this.applyRedirects.applyRedirectCommands(xn,xe.redirectTo,nn);return this.applyRedirects.lineralizeSegments(xe,Jn).pipe((0,j.O)(qr=>this.processSegment(ge,fe,be,qr.concat(kn),st,!1)))}matchSegmentAgainstRoute(ge,be,fe,xe,Je){const st=Er(be,fe,xe,ge);return"**"===fe.path&&(be.children={}),st.pipe((0,p.G)(Yt=>{var xn;return Yt.matched?(ge=null!==(xn=fe._injector)&&void 0!==xn?xn:ge,this.getChildConfig(ge,fe,xe).pipe((0,p.G)(({routes:nn})=>{var kn,Jn,qr;const Sr=null!==(kn=fe._loadedInjector)&&void 0!==kn?kn:ge,{consumedSegments:Vn,remainingSegments:si,parameters:Oi}=Yt,ji=new $r(Vn,Oi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function _s(ae){return ae.data||{}}(fe),go(fe),null!==(Jn=null!==(qr=fe.component)&&void 0!==qr?qr:fe._loadedComponent)&&void 0!==Jn?Jn:null,fe,function Aa(ae){return ae.resolve||{}}(fe)),{segmentGroup:Gi,slicedSegments:Pi}=kr(be,Vn,si,nn);if(0===Pi.length&&Gi.hasChildren())return this.processChildren(Sr,nn,Gi).pipe((0,m.k)(ki=>null===ki?null:new fr(ji,ki)));if(0===nn.length&&0===Pi.length)return(0,W.of)(new fr(ji,[]));const Ac=go(fe)===Je;return this.processSegment(Sr,nn,Gi,Pi,Ac?Ae:Je,!0).pipe((0,m.k)(ki=>new fr(ji,ki instanceof fr?[ki]:[])))}))):er(be)}))}getChildConfig(ge,be,fe){return be.children?(0,W.of)({routes:be.children,injector:ge}):be.loadChildren?void 0!==be._loadedRoutes?(0,W.of)({routes:be._loadedRoutes,injector:be._loadedInjector}):function Bn(ae,ge,be,fe){const xe=ge.canLoad;if(void 0===xe||0===xe.length)return(0,W.of)(!0);const Je=xe.map(st=>{const Yt=ui(st,ae);return qt(function M(ae){return ae&&B(ae.canLoad)}(Yt)?Yt.canLoad(ge,be):(0,b.SMS)(ae,()=>Yt(ge,be)))});return(0,W.of)(Je).pipe(It(),Gn())}(ge,be,fe).pipe((0,j.O)(xe=>xe?this.configLoader.loadChildren(ge,be).pipe((0,te.y)(Je=>{be._loadedRoutes=Je.routes,be._loadedInjector=Je.injector})):function Qr(ae){return(0,a.c)(co(!1,An.GuardRejected))}())):(0,W.of)({routes:[],injector:ge})}}function Ta(ae){const ge=ae.value.routeConfig;return ge&&""===ge.path}function pn(ae){const ge=[],be=new Set;for(const fe of ae){if(!Ta(fe)){ge.push(fe);continue}const xe=ge.find(Je=>fe.value.routeConfig===Je.value.routeConfig);void 0!==xe?(xe.children.push(...fe.children),be.add(xe)):ge.push(fe)}for(const fe of be){const xe=pn(fe.children);ge.push(new fr(fe.value,xe))}return ge.filter(fe=>!be.has(fe))}function Ii(ae){const ge=ae.children.map(be=>Ii(be)).flat();return[ae,...ge]}function Es(ae){return(0,p.G)(ge=>{const be=ae(ge);return be?(0,r.Q)(be).pipe((0,m.k)(()=>ge)):(0,W.of)(ge)})}let Rl=(()=>{var ae;class ge{buildTitle(fe){let xe,Je=fe.root;for(;void 0!==Je;){var st;xe=null!==(st=this.getResolvedTitleForRoute(Je))&&void 0!==st?st:xe,Je=Je.children.find(Yt=>Yt.outlet===Ae)}return xe}getResolvedTitleForRoute(fe){return fe.data[Be]}}return(ae=ge).\u0275fac=function(fe){return new(fe||ae)},ae.\u0275prov=b.wxM({token:ae,factory:()=>(0,b.uUt)(ja),providedIn:"root"}),ge})(),ja=(()=>{var ae;class ge extends Rl{constructor(fe){super(),this.title=fe}updateTitle(fe){const xe=this.buildTitle(fe);void 0!==xe&&this.title.setTitle(xe)}}return(ae=ge).\u0275fac=function(fe){return new(fe||ae)(b.CoB(et.OY))},ae.\u0275prov=b.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ge})();const Gr=new b.UbH("",{providedIn:"root",factory:()=>({})}),Mo=new b.UbH("");let es=(()=>{var ae;class ge{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,b.uUt)(b.ESV)}loadComponent(fe){if(this.componentLoaders.get(fe))return this.componentLoaders.get(fe);if(fe._loadedComponent)return(0,W.of)(fe._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(fe);const xe=qt(fe.loadComponent()).pipe((0,m.k)(dt),(0,te.y)(st=>{this.onLoadEndListener&&this.onLoadEndListener(fe),fe._loadedComponent=st}),se(()=>{this.componentLoaders.delete(fe)})),Je=new d.C(xe,()=>new u.E).pipe((0,pe.O)());return this.componentLoaders.set(fe,Je),Je}loadChildren(fe,xe){if(this.childrenLoaders.get(xe))return this.childrenLoaders.get(xe);if(xe._loadedRoutes)return(0,W.of)({routes:xe._loadedRoutes,injector:xe._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(xe);const st=function ce(ae,ge,be,fe){return qt(ae.loadChildren()).pipe((0,m.k)(dt),(0,j.O)(xe=>xe instanceof b.obV||Array.isArray(xe)?(0,W.of)(xe):(0,r.Q)(ge.compileModuleAsync(xe))),(0,m.k)(xe=>{fe&&fe(ae);let Je,st,Yt=!1;return Array.isArray(xe)?(st=xe,!0):(Je=xe.create(be).injector,st=Je.get(Mo,[],{optional:!0,self:!0}).flat()),{routes:st.map(li),injector:Je}}))}(xe,this.compiler,fe,this.onLoadEndListener).pipe(se(()=>{this.childrenLoaders.delete(xe)})),Yt=new d.C(st,()=>new u.E).pipe((0,pe.O)());return this.childrenLoaders.set(xe,Yt),Yt}}return(ae=ge).\u0275fac=function(fe){return new(fe||ae)},ae.\u0275prov=b.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ge})();function dt(ae){return function Te(ae){return ae&&"object"==typeof ae&&"default"in ae}(ae)?ae.default:ae}let Me=(()=>{var ae;class ge{}return(ae=ge).\u0275fac=function(fe){return new(fe||ae)},ae.\u0275prov=b.wxM({token:ae,factory:()=>(0,b.uUt)(tt),providedIn:"root"}),ge})(),tt=(()=>{var ae;class ge{shouldProcessUrl(fe){return!0}extract(fe){return fe}merge(fe,xe){return fe}}return(ae=ge).\u0275fac=function(fe){return new(fe||ae)},ae.\u0275prov=b.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ge})();const St=new b.UbH(""),cn=new b.UbH("");function In(ae,ge,be){const fe=ae.get(cn),xe=ae.get(s.Ud);return ae.get(b.WW2).runOutsideAngular(()=>{if(!xe.startViewTransition||fe.skipNextTransition)return fe.skipNextTransition=!1,Promise.resolve();let Je;const st=new Promise(nn=>{Je=nn}),Yt=xe.startViewTransition(()=>(Je(),function or(ae){return new Promise(ge=>{(0,b.I44)(ge,{injector:ae})})}(ae))),{onViewTransitionCreated:xn}=fe;return xn&&(0,b.SMS)(ae,()=>xn({transition:Yt,from:ge,to:be})),st})}let ir=(()=>{var ae;class ge{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new u.E,this.transitionAbortSubject=new u.E,this.configLoader=(0,b.uUt)(es),this.environmentInjector=(0,b.uUt)(b.SIe),this.urlSerializer=(0,b.uUt)(Gt),this.rootContexts=(0,b.uUt)(Br),this.location=(0,b.uUt)(s.oB),this.inputBindingEnabled=null!==(0,b.uUt)(po,{optional:!0}),this.titleStrategy=(0,b.uUt)(Rl),this.options=(0,b.uUt)(Gr,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,b.uUt)(Me),this.createViewTransition=(0,b.uUt)(St,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,W.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Je=>this.events.next(new mt(Je)),this.configLoader.onLoadStartListener=Je=>this.events.next(new Ve(Je))}complete(){var fe;null===(fe=this.transitions)||void 0===fe||fe.complete()}handleNavigationRequest(fe){var xe;const Je=++this.navigationId;null===(xe=this.transitions)||void 0===xe||xe.next({...this.transitions.value,...fe,id:Je})}setupNavigations(fe,xe,Je){return this.transitions=new S.g({id:0,currentUrlTree:xe,currentRawUrl:xe,extractedUrl:this.urlHandlingStrategy.extract(xe),urlAfterRedirects:this.urlHandlingStrategy.extract(xe),rawUrl:xe,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ut,restoredState:null,currentSnapshot:Je.snapshot,targetSnapshot:null,currentRouterState:Je,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,P.I)(st=>0!==st.id),(0,m.k)(st=>({...st,extractedUrl:this.urlHandlingStrategy.extract(st.rawUrl)})),(0,p.G)(st=>{this.currentTransition=st;let Yt=!1,xn=!1;return(0,W.of)(st).pipe((0,te.y)(nn=>{this.currentNavigation={id:nn.id,initialUrl:nn.rawUrl,extractedUrl:nn.extractedUrl,trigger:nn.source,extras:nn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,p.G)(nn=>{var kn;const Jn=!fe.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),qr=null!==(kn=nn.extras.onSameUrlNavigation)&&void 0!==kn?kn:fe.onSameUrlNavigation;if(!Jn&&"reload"!==qr){const Sr="";return this.events.next(new He(nn.id,this.urlSerializer.serialize(nn.rawUrl),Sr,At.IgnoredSameUrlNavigation)),nn.resolve(null),l.k}if(this.urlHandlingStrategy.shouldProcessUrl(nn.rawUrl))return(0,W.of)(nn).pipe((0,p.G)(Sr=>{var Vn,si;const Oi=null===(Vn=this.transitions)||void 0===Vn?void 0:Vn.getValue();return this.events.next(new Ut(Sr.id,this.urlSerializer.serialize(Sr.extractedUrl),Sr.source,Sr.restoredState)),Oi!==(null===(si=this.transitions)||void 0===si?void 0:si.getValue())?l.k:Promise.resolve(Sr)}),function Or(ae,ge,be,fe,xe,Je){return(0,j.O)(st=>function Da(ae,ge,be,fe,xe,Je,st="emptyOnly"){return new Ia(ae,ge,be,fe,xe,st,Je).recognize()}(ae,ge,be,fe,st.extractedUrl,xe,Je).pipe((0,m.k)(({state:Yt,tree:xn})=>({...st,targetSnapshot:Yt,urlAfterRedirects:xn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,fe.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,te.y)(Sr=>{st.targetSnapshot=Sr.targetSnapshot,st.urlAfterRedirects=Sr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Sr.urlAfterRedirects};const Vn=new Rt(Sr.id,this.urlSerializer.serialize(Sr.extractedUrl),this.urlSerializer.serialize(Sr.urlAfterRedirects),Sr.targetSnapshot);this.events.next(Vn)}));if(Jn&&this.urlHandlingStrategy.shouldProcessUrl(nn.currentRawUrl)){const{id:Sr,extractedUrl:Vn,source:si,restoredState:Oi,extras:ji}=nn,Gi=new Ut(Sr,this.urlSerializer.serialize(Vn),si,Oi);this.events.next(Gi);const Pi=Lr(this.rootComponentType).snapshot;return this.currentTransition=st={...nn,targetSnapshot:Pi,urlAfterRedirects:Vn,extras:{...ji,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Vn,(0,W.of)(st)}{const Sr="";return this.events.next(new He(nn.id,this.urlSerializer.serialize(nn.extractedUrl),Sr,At.IgnoredByUrlHandlingStrategy)),nn.resolve(null),l.k}}),(0,te.y)(nn=>{const kn=new Vt(nn.id,this.urlSerializer.serialize(nn.extractedUrl),this.urlSerializer.serialize(nn.urlAfterRedirects),nn.targetSnapshot);this.events.next(kn)}),(0,m.k)(nn=>(this.currentTransition=st={...nn,guards:Qi(nn.targetSnapshot,nn.currentSnapshot,this.rootContexts)},st)),function Wt(ae,ge){return(0,j.O)(be=>{const{targetSnapshot:fe,currentSnapshot:xe,guards:{canActivateChecks:Je,canDeactivateChecks:st}}=be;return 0===st.length&&0===Je.length?(0,W.of)({...be,guardsResult:!0}):function Bt(ae,ge,be,fe){return(0,r.Q)(ae).pipe((0,j.O)(xe=>function Kt(ae,ge,be,fe,xe){const Je=ge&&ge.routeConfig?ge.routeConfig.canDeactivate:null;if(!Je||0===Je.length)return(0,W.of)(!0);const st=Je.map(Yt=>{var xn;const nn=null!==(xn=Ko(ge))&&void 0!==xn?xn:xe,kn=ui(Yt,nn);return qt(function le(ae){return ae&&B(ae.canDeactivate)}(kn)?kn.canDeactivate(ae,ge,be,fe):(0,b.SMS)(nn,()=>kn(ae,ge,be,fe))).pipe(X())});return(0,W.of)(st).pipe(It())}(xe.component,xe.route,be,ge,fe)),X(xe=>!0!==xe,!0))}(st,fe,xe,ae).pipe((0,j.O)(Yt=>Yt&&function I(ae){return"boolean"==typeof ae}(Yt)?function gt(ae,ge,be,fe){return(0,r.Q)(ge).pipe(z(xe=>(0,h.W)(function tn(ae,ge){return null!==ae&&ge&&ge(new Zt(ae)),(0,W.of)(!0)}(xe.route.parent,fe),function gn(ae,ge){return null!==ae&&ge&&ge(new On(ae)),(0,W.of)(!0)}(xe.route,fe),function Qt(ae,ge,be){const fe=ge[ge.length-1],Je=ge.slice(0,ge.length-1).reverse().map(st=>function bs(ae){const ge=ae.routeConfig?ae.routeConfig.canActivateChild:null;return ge&&0!==ge.length?{node:ae,guards:ge}:null}(st)).filter(st=>null!==st).map(st=>(0,x.Q)(()=>{const Yt=st.guards.map(xn=>{var nn;const kn=null!==(nn=Ko(st.node))&&void 0!==nn?nn:be,Jn=ui(xn,kn);return qt(function K(ae){return ae&&B(ae.canActivateChild)}(Jn)?Jn.canActivateChild(fe,ae):(0,b.SMS)(kn,()=>Jn(fe,ae))).pipe(X())});return(0,W.of)(Yt).pipe(It())}));return(0,W.of)(Je).pipe(It())}(ae,xe.path,be),function on(ae,ge,be){const fe=ge.routeConfig?ge.routeConfig.canActivate:null;if(!fe||0===fe.length)return(0,W.of)(!0);const xe=fe.map(Je=>(0,x.Q)(()=>{var st;const Yt=null!==(st=Ko(ge))&&void 0!==st?st:be,xn=ui(Je,Yt);return qt(function Z(ae){return ae&&B(ae.canActivate)}(xn)?xn.canActivate(ge,ae):(0,b.SMS)(Yt,()=>xn(ge,ae))).pipe(X())}));return(0,W.of)(xe).pipe(It())}(ae,xe.route,be))),X(xe=>!0!==xe,!0))}(fe,Je,ae,ge):(0,W.of)(Yt)),(0,m.k)(Yt=>({...be,guardsResult:Yt})))})}(this.environmentInjector,nn=>this.events.next(nn)),(0,te.y)(nn=>{if(st.guardsResult=nn.guardsResult,G(nn.guardsResult))throw oo(0,nn.guardsResult);const kn=new ie(nn.id,this.urlSerializer.serialize(nn.extractedUrl),this.urlSerializer.serialize(nn.urlAfterRedirects),nn.targetSnapshot,!!nn.guardsResult);this.events.next(kn)}),(0,P.I)(nn=>!!nn.guardsResult||(this.cancelNavigationTransition(nn,"",An.GuardRejected),!1)),Es(nn=>{if(nn.guards.canActivateChecks.length)return(0,W.of)(nn).pipe((0,te.y)(kn=>{const Jn=new Le(kn.id,this.urlSerializer.serialize(kn.extractedUrl),this.urlSerializer.serialize(kn.urlAfterRedirects),kn.targetSnapshot);this.events.next(Jn)}),(0,p.G)(kn=>{let Jn=!1;return(0,W.of)(kn).pipe(function Oa(ae,ge){return(0,j.O)(be=>{const{targetSnapshot:fe,guards:{canActivateChecks:xe}}=be;if(!xe.length)return(0,W.of)(be);const Je=new Set(xe.map(xn=>xn.route)),st=new Set;for(const xn of Je)if(!st.has(xn))for(const nn of Ii(xn))st.add(nn);let Yt=0;return(0,r.Q)(st).pipe(z(xn=>Je.has(xn)?function Zo(ae,ge,be,fe){const xe=ae.routeConfig,Je=ae._resolve;return void 0!==(null==xe?void 0:xe.title)&&!So(xe)&&(Je[Be]=xe.title),function ws(ae,ge,be,fe){const xe=ht(ae);if(0===xe.length)return(0,W.of)({});const Je={};return(0,r.Q)(xe).pipe((0,j.O)(st=>function xs(ae,ge,be,fe){var xe;const Je=null!==(xe=Ko(ge))&&void 0!==xe?xe:fe,st=ui(ae,Je);return qt(st.resolve?st.resolve(ge,be):(0,b.SMS)(Je,()=>st(ge,be)))}(ae[st],ge,be,fe).pipe(X(),(0,te.y)(Yt=>{Je[st]=Yt}))),De(1),(0,R.e)(Je),q(st=>Ke(st)?l.k:(0,a.c)(st)))}(Je,ae,ge,fe).pipe((0,m.k)(st=>(ae._resolvedData=st,ae.data=vr(ae,ae.parent,be).resolve,null)))}(xn,fe,ae,ge):(xn.data=vr(xn,xn.parent,ae).resolve,(0,W.of)(void 0))),(0,te.y)(()=>Yt++),De(1),(0,j.O)(xn=>Yt===st.size?(0,W.of)(be):l.k))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,te.y)({next:()=>Jn=!0,complete:()=>{Jn||this.cancelNavigationTransition(kn,"",An.NoDataFromResolver)}}))}),(0,te.y)(kn=>{const Jn=new ve(kn.id,this.urlSerializer.serialize(kn.extractedUrl),this.urlSerializer.serialize(kn.urlAfterRedirects),kn.targetSnapshot);this.events.next(Jn)}))}),Es(nn=>{const kn=Jn=>{var qr;const Sr=[];null!==(qr=Jn.routeConfig)&&void 0!==qr&&qr.loadComponent&&!Jn.routeConfig._loadedComponent&&Sr.push(this.configLoader.loadComponent(Jn.routeConfig).pipe((0,te.y)(Vn=>{Jn.component=Vn}),(0,m.k)(()=>{})));for(const Vn of Jn.children)Sr.push(...kn(Vn));return Sr};return(0,v.E)(kn(nn.targetSnapshot.root)).pipe(k(null),(0,y.U)(1))}),Es(()=>this.afterPreactivation()),(0,p.G)(()=>{var nn;const{currentSnapshot:kn,targetSnapshot:Jn}=st,qr=null===(nn=this.createViewTransition)||void 0===nn?void 0:nn.call(this,this.environmentInjector,kn.root,Jn.root);return qr?(0,r.Q)(qr).pipe((0,m.k)(()=>st)):(0,W.of)(st)}),(0,m.k)(nn=>{const kn=function Po(ae,ge,be){const fe=mo(ae,ge._root,be?be._root:void 0);return new xr(fe,ge)}(fe.routeReuseStrategy,nn.targetSnapshot,nn.currentRouterState);return this.currentTransition=st={...nn,targetRouterState:kn},this.currentNavigation.targetRouterState=kn,st}),(0,te.y)(()=>{this.events.next(new jr)}),((ae,ge,be,fe)=>(0,m.k)(xe=>(new Zi(ge,xe.targetRouterState,xe.currentRouterState,be,fe).activate(ae),xe)))(this.rootContexts,fe.routeReuseStrategy,nn=>this.events.next(nn),this.inputBindingEnabled),(0,y.U)(1),(0,te.y)({next:nn=>{var kn;Yt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new dn(nn.id,this.urlSerializer.serialize(nn.extractedUrl),this.urlSerializer.serialize(nn.urlAfterRedirects))),null===(kn=this.titleStrategy)||void 0===kn||kn.updateTitle(nn.targetRouterState.snapshot),nn.resolve(!0)},complete:()=>{Yt=!0}}),function Ne(ae){return(0,$.i)((ge,be)=>{(0,J.Uv)(ae).subscribe((0,V.e)(be,()=>be.complete(),Ee.K)),!be.closed&&ge.subscribe(be)})}(this.transitionAbortSubject.pipe((0,te.y)(nn=>{throw nn}))),se(()=>{var nn;!Yt&&!xn&&this.cancelNavigationTransition(st,"",An.SupersededByNewNavigation),(null===(nn=this.currentTransition)||void 0===nn?void 0:nn.id)===st.id&&(this.currentNavigation=null,this.currentTransition=null)}),q(nn=>{if(xn=!0,Lo(nn))this.events.next(new je(st.id,this.urlSerializer.serialize(st.extractedUrl),nn.message,nn.cancellationCode)),function Ro(ae){return Lo(ae)&&G(ae.url)}(nn)?this.events.next(new Ar(nn.url)):st.resolve(!1);else{var kn;this.events.next(new Mt(st.id,this.urlSerializer.serialize(st.extractedUrl),nn,null!==(kn=st.targetSnapshot)&&void 0!==kn?kn:void 0));try{st.resolve(fe.errorHandler(nn))}catch(Jn){this.options.resolveNavigationPromiseOnError?st.resolve(!1):st.reject(Jn)}}return l.k}))}))}cancelNavigationTransition(fe,xe,Je){const st=new je(fe.id,this.urlSerializer.serialize(fe.extractedUrl),xe,Je);this.events.next(st),fe.resolve(!1)}isUpdatingInternalState(){var fe,xe;return(null===(fe=this.currentTransition)||void 0===fe?void 0:fe.extractedUrl.toString())!==(null===(xe=this.currentTransition)||void 0===xe?void 0:xe.currentUrlTree.toString())}isUpdatedBrowserUrl(){var fe,xe;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(fe=this.currentTransition)||void 0===fe?void 0:fe.extractedUrl.toString())&&!(null!==(xe=this.currentTransition)&&void 0!==xe&&xe.extras.skipLocationChange)}}return(ae=ge).\u0275fac=function(fe){return new(fe||ae)},ae.\u0275prov=b.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ge})();function Cr(ae){return ae!==ut}let nr=(()=>{var ae;class ge{}return(ae=ge).\u0275fac=function(fe){return new(fe||ae)},ae.\u0275prov=b.wxM({token:ae,factory:()=>(0,b.uUt)(Ir),providedIn:"root"}),ge})();class Tr{shouldDetach(ge){return!1}store(ge,be){}shouldAttach(ge){return!1}retrieve(ge){return null}shouldReuseRoute(ge,be){return ge.routeConfig===be.routeConfig}}let Ir=(()=>{var ae;class ge extends Tr{}return(ae=ge).\u0275fac=(()=>{let be;return function(xe){return(be||(be=b.otF(ae)))(xe||ae)}})(),ae.\u0275prov=b.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ge})(),eo=(()=>{var ae;class ge{}return(ae=ge).\u0275fac=function(fe){return new(fe||ae)},ae.\u0275prov=b.wxM({token:ae,factory:()=>(0,b.uUt)(Qo),providedIn:"root"}),ge})(),Qo=(()=>{var ae;class ge extends eo{constructor(){super(...arguments),this.location=(0,b.uUt)(s.oB),this.urlSerializer=(0,b.uUt)(Gt),this.options=(0,b.uUt)(Gr,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,b.uUt)(Me),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pe,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Lr(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var fe,xe;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(fe=null===(xe=this.restoredState())||void 0===xe?void 0:xe.\u0275routerPageId)&&void 0!==fe?fe:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(fe){return this.location.subscribe(xe=>{"popstate"===xe.type&&fe(xe.url,xe.state)})}handleRouterEvent(fe,xe){if(fe instanceof Ut)this.stateMemento=this.createStateMemento();else if(fe instanceof He)this.rawUrlTree=xe.initialUrl;else if(fe instanceof Rt){if("eager"===this.urlUpdateStrategy&&!xe.extras.skipLocationChange){const Je=this.urlHandlingStrategy.merge(xe.finalUrl,xe.initialUrl);this.setBrowserUrl(Je,xe)}}else fe instanceof jr?(this.currentUrlTree=xe.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(xe.finalUrl,xe.initialUrl),this.routerState=xe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(xe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,xe))):fe instanceof je&&(fe.code===An.GuardRejected||fe.code===An.NoDataFromResolver)?this.restoreHistory(xe):fe instanceof Mt?this.restoreHistory(xe,!0):fe instanceof dn&&(this.lastSuccessfulId=fe.id,this.currentPageId=this.browserPageId)}setBrowserUrl(fe,xe){const Je=this.urlSerializer.serialize(fe);if(this.location.isCurrentPathEqualTo(Je)||xe.extras.replaceUrl){const Yt={...xe.extras.state,...this.generateNgRouterState(xe.id,this.browserPageId)};this.location.replaceState(Je,"",Yt)}else{const st={...xe.extras.state,...this.generateNgRouterState(xe.id,this.browserPageId+1)};this.location.go(Je,"",st)}}restoreHistory(fe,xe=!1){if("computed"===this.canceledNavigationResolution){const st=this.currentPageId-this.browserPageId;0!==st?this.location.historyGo(st):this.currentUrlTree===fe.finalUrl&&0===st&&(this.resetState(fe),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(xe&&this.resetState(fe),this.resetUrlToCurrentUrlTree())}resetState(fe){var xe;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(xe=fe.finalUrl)&&void 0!==xe?xe:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(fe,xe){return"computed"===this.canceledNavigationResolution?{navigationId:fe,\u0275routerPageId:xe}:{navigationId:fe}}}return(ae=ge).\u0275fac=(()=>{let be;return function(xe){return(be||(be=b.otF(ae)))(xe||ae)}})(),ae.\u0275prov=b.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ge})();var yo=function(ae){return ae[ae.COMPLETE=0]="COMPLETE",ae[ae.FAILED=1]="FAILED",ae[ae.REDIRECTING=2]="REDIRECTING",ae}(yo||{});function ei(ae,ge){ae.events.pipe((0,P.I)(be=>be instanceof dn||be instanceof je||be instanceof Mt||be instanceof He),(0,m.k)(be=>be instanceof dn||be instanceof He?yo.COMPLETE:be instanceof je&&(be.code===An.Redirect||be.code===An.SupersededByNewNavigation)?yo.REDIRECTING:yo.FAILED),(0,P.I)(be=>be!==yo.REDIRECTING),(0,y.U)(1)).subscribe(()=>{ge()})}function ii(ae){throw ae}const zr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Co={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sr=(()=>{var ae;class ge{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var fe,xe;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,b.uUt)(b.oPY),this.stateManager=(0,b.uUt)(eo),this.options=(0,b.uUt)(Gr,{optional:!0})||{},this.pendingTasks=(0,b.uUt)(b.g9Y),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,b.uUt)(ir),this.urlSerializer=(0,b.uUt)(Gt),this.location=(0,b.uUt)(s.oB),this.urlHandlingStrategy=(0,b.uUt)(Me),this._events=new u.E,this.errorHandler=this.options.errorHandler||ii,this.navigated=!1,this.routeReuseStrategy=(0,b.uUt)(nr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(fe=null===(xe=(0,b.uUt)(Mo,{optional:!0}))||void 0===xe?void 0:xe.flat())&&void 0!==fe?fe:[],this.componentInputBindingEnabled=!!(0,b.uUt)(po,{optional:!0}),this.eventsSubscription=new c.wH,this.isNgZoneEnabled=(0,b.uUt)(b.WW2)instanceof b.WW2&&b.WW2.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:Je=>{this.console.warn(Je)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const fe=this.navigationTransitions.events.subscribe(xe=>{try{const Je=this.navigationTransitions.currentTransition,st=this.navigationTransitions.currentNavigation;if(null!==Je&&null!==st)if(this.stateManager.handleRouterEvent(xe,st),xe instanceof je&&xe.code!==An.Redirect&&xe.code!==An.SupersededByNewNavigation)this.navigated=!0;else if(xe instanceof dn)this.navigated=!0;else if(xe instanceof Ar){const Yt=this.urlHandlingStrategy.merge(xe.url,Je.currentRawUrl),xn={info:Je.extras.info,skipLocationChange:Je.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Cr(Je.source)};this.scheduleNavigation(Yt,ut,null,xn,{resolve:Je.resolve,reject:Je.reject,promise:Je.promise})}(function bc(ae){return!(ae instanceof jr||ae instanceof Ar)})(xe)&&this._events.next(xe)}catch(Je){this.navigationTransitions.transitionAbortSubject.next(Je)}});this.eventsSubscription.add(fe)}resetRootComponentType(fe){this.routerState.root.component=fe,this.navigationTransitions.rootComponentType=fe}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ut,this.stateManager.restoredState())}setUpLocationChangeListener(){var fe;null!==(fe=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==fe||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((xe,Je)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(xe,"popstate",Je)},0)}))}navigateToSyncWithBrowser(fe,xe,Je){const st={replaceUrl:!0},Yt=null!=Je&&Je.navigationId?Je:null;if(Je){const nn={...Je};delete nn.navigationId,delete nn.\u0275routerPageId,0!==Object.keys(nn).length&&(st.state=nn)}const xn=this.parseUrl(fe);this.scheduleNavigation(xn,xe,Yt,st)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(fe){this.config=fe.map(li),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(fe,xe={}){const{relativeTo:Je,queryParams:st,fragment:Yt,queryParamsHandling:xn,preserveFragment:nn}=xe,kn=nn?this.currentUrlTree.fragment:Yt;let qr,Jn=null;switch(xn){case"merge":Jn={...this.currentUrlTree.queryParams,...st};break;case"preserve":Jn=this.currentUrlTree.queryParams;break;default:Jn=st||null}null!==Jn&&(Jn=this.removeEmptyProps(Jn));try{qr=Se(Je?Je.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof fe[0]||!fe[0].startsWith("/"))&&(fe=[]),qr=this.currentUrlTree.root}return D(qr,fe,Jn,null!=kn?kn:null)}navigateByUrl(fe,xe={skipLocationChange:!1}){const Je=G(fe)?fe:this.parseUrl(fe),st=this.urlHandlingStrategy.merge(Je,this.rawUrlTree);return this.scheduleNavigation(st,ut,null,xe)}navigate(fe,xe={skipLocationChange:!1}){return function ts(ae){for(let ge=0;ge<ae.length;ge++)if(null==ae[ge])throw new b.OBp(4008,!1)}(fe),this.navigateByUrl(this.createUrlTree(fe,xe),xe)}serializeUrl(fe){return this.urlSerializer.serialize(fe)}parseUrl(fe){try{return this.urlSerializer.parse(fe)}catch{return this.urlSerializer.parse("/")}}isActive(fe,xe){let Je;if(Je=!0===xe?{...zr}:!1===xe?{...Co}:xe,G(fe))return sn(this.currentUrlTree,fe,Je);const st=this.parseUrl(fe);return sn(this.currentUrlTree,st,Je)}removeEmptyProps(fe){return Object.entries(fe).reduce((xe,[Je,st])=>(null!=st&&(xe[Je]=st),xe),{})}scheduleNavigation(fe,xe,Je,st,Yt){if(this.disposed)return Promise.resolve(!1);let xn,nn,kn;Yt?(xn=Yt.resolve,nn=Yt.reject,kn=Yt.promise):kn=new Promise((qr,Sr)=>{xn=qr,nn=Sr});const Jn=this.pendingTasks.add();return ei(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Jn))}),this.navigationTransitions.handleNavigationRequest({source:xe,restoredState:Je,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:fe,extras:st,resolve:xn,reject:nn,promise:kn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),kn.catch(qr=>Promise.reject(qr))}}return(ae=ge).\u0275fac=function(fe){return new(fe||ae)},ae.\u0275prov=b.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ge})(),Cs=(()=>{var ae;class ge{constructor(fe,xe,Je,st,Yt,xn){var nn;this.router=fe,this.route=xe,this.tabIndexAttribute=Je,this.renderer=st,this.el=Yt,this.locationStrategy=xn,this.href=null,this.commands=null,this.onChanges=new u.E,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const kn=null===(nn=Yt.nativeElement.tagName)||void 0===nn?void 0:nn.toLowerCase();this.isAnchorElement="a"===kn||"area"===kn,this.isAnchorElement?this.subscription=fe.events.subscribe(Jn=>{Jn instanceof dn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(fe){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",fe)}ngOnChanges(fe){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(fe){null!=fe?(this.commands=Array.isArray(fe)?fe:[fe],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(fe,xe,Je,st,Yt){const xn=this.urlTree;return!!(null===xn||this.isAnchorElement&&(0!==fe||xe||Je||st||Yt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(xn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var fe;null===(fe=this.subscription)||void 0===fe||fe.unsubscribe()}updateHref(){var fe;const xe=this.urlTree;this.href=null!==xe&&this.locationStrategy?null===(fe=this.locationStrategy)||void 0===fe?void 0:fe.prepareExternalUrl(this.router.serializeUrl(xe)):null;const Je=null===this.href?null:(0,b.YFg)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Je)}applyAttributeValue(fe,xe){const Je=this.renderer,st=this.el.nativeElement;null!==xe?Je.setAttribute(st,fe,xe):Je.removeAttribute(st,fe)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(ae=ge).\u0275fac=function(fe){return new(fe||ae)(b.GI1(sr),b.GI1(ur),b.gJ8("tabindex"),b.GI1(b.q87),b.GI1(b.GMv),b.GI1(s.Qd))},ae.\u0275dir=b.Sc5({type:ae,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(fe,xe){1&fe&&b.qCj("click",function(st){return xe.onClick(st.button,st.ctrlKey,st.shiftKey,st.altKey,st.metaKey)}),2&fe&&b.e48("target",xe.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[b.Wk5.HasDecoratorInputTransform,"preserveFragment","preserveFragment",b.cZD],skipLocationChange:[b.Wk5.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",b.cZD],replaceUrl:[b.Wk5.HasDecoratorInputTransform,"replaceUrl","replaceUrl",b.cZD],routerLink:"routerLink"},standalone:!0,features:[b.QJr,b.SYr]}),ge})();class Pa{}let Ss=(()=>{var ae;class ge{preload(fe,xe){return xe().pipe(q(()=>(0,W.of)(null)))}}return(ae=ge).\u0275fac=function(fe){return new(fe||ae)},ae.\u0275prov=b.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ge})(),wc=(()=>{var ae;class ge{constructor(fe,xe,Je,st,Yt){this.router=fe,this.injector=Je,this.preloadingStrategy=st,this.loader=Yt}setUpPreloading(){this.subscription=this.router.events.pipe((0,P.I)(fe=>fe instanceof dn),z(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(fe,xe){const Je=[];for(const nn of xe){var st,Yt;nn.providers&&!nn._injector&&(nn._injector=(0,b.SIz)(nn.providers,fe,`Route: ${nn.path}`));const kn=null!==(st=nn._injector)&&void 0!==st?st:fe,Jn=null!==(Yt=nn._loadedInjector)&&void 0!==Yt?Yt:kn;var xn;(nn.loadChildren&&!nn._loadedRoutes&&void 0===nn.canLoad||nn.loadComponent&&!nn._loadedComponent)&&Je.push(this.preloadConfig(kn,nn)),(nn.children||nn._loadedRoutes)&&Je.push(this.processRoutes(Jn,null!==(xn=nn.children)&&void 0!==xn?xn:nn._loadedRoutes))}return(0,r.Q)(Je).pipe((0,We.u)())}preloadConfig(fe,xe){return this.preloadingStrategy.preload(xe,()=>{let Je;Je=xe.loadChildren&&void 0===xe.canLoad?this.loader.loadChildren(fe,xe):(0,W.of)(null);const st=Je.pipe((0,j.O)(Yt=>{var xn;return null===Yt?(0,W.of)(void 0):(xe._loadedRoutes=Yt.routes,xe._loadedInjector=Yt.injector,this.processRoutes(null!==(xn=Yt.injector)&&void 0!==xn?xn:fe,Yt.routes))}));if(xe.loadComponent&&!xe._loadedComponent){const Yt=this.loader.loadComponent(xe);return(0,r.Q)([st,Yt]).pipe((0,We.u)())}return st})}}return(ae=ge).\u0275fac=function(fe){return new(fe||ae)(b.CoB(sr),b.CoB(b.ESV),b.CoB(b.SIe),b.CoB(Pa),b.CoB(es))},ae.\u0275prov=b.wxM({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ge})();const gi=new b.UbH("");let Bi=(()=>{var ae;class ge{constructor(fe,xe,Je,st,Yt={}){this.urlSerializer=fe,this.transitions=xe,this.viewportScroller=Je,this.zone=st,this.options=Yt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Yt.scrollPositionRestoration||(Yt.scrollPositionRestoration="disabled"),Yt.anchorScrolling||(Yt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(fe=>{fe instanceof Ut?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=fe.navigationTrigger,this.restoredId=fe.restoredState?fe.restoredState.navigationId:0):fe instanceof dn?(this.lastId=fe.id,this.scheduleScrollEvent(fe,this.urlSerializer.parse(fe.urlAfterRedirects).fragment)):fe instanceof He&&fe.code===At.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(fe,this.urlSerializer.parse(fe.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(fe=>{fe instanceof Xn&&(fe.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(fe.position):fe.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(fe.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(fe,xe){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xn(fe,"popstate"===this.lastSource?this.store[this.restoredId]:null,xe))})},0)})}ngOnDestroy(){var fe,xe;null===(fe=this.routerEventsSubscription)||void 0===fe||fe.unsubscribe(),null===(xe=this.scrollEventsSubscription)||void 0===xe||xe.unsubscribe()}}return(ae=ge).\u0275fac=function(fe){b.KEo()},ae.\u0275prov=b.wxM({token:ae,factory:ae.\u0275fac}),ge})();function Zr(ae,ge){return{\u0275kind:ae,\u0275providers:ge}}function Ds(){const ae=(0,b.uUt)(b.zZn);return ge=>{var be,fe;const xe=ae.get(b.Swk);if(ge!==xe.components[0])return;const Je=ae.get(sr),st=ae.get(Cc);1===ae.get(Ms)&&Je.initialNavigation(),null===(be=ae.get(Ai,null,b._6O.Optional))||void 0===be||be.setUpPreloading(),null===(fe=ae.get(gi,null,b._6O.Optional))||void 0===fe||fe.init(),Je.resetRootComponentType(xe.componentTypes[0]),st.closed||(st.next(),st.complete(),st.unsubscribe())}}const Cc=new b.UbH("",{factory:()=>new u.E}),Ms=new b.UbH("",{providedIn:"root",factory:()=>1}),Ai=new b.UbH("");function Mf(ae){return Zr(0,[{provide:Ai,useExisting:wc},{provide:Pa,useExisting:ae}])}function Dc(ae){return Zr(9,[{provide:St,useValue:In},{provide:cn,useValue:{skipNextTransition:!(null==ae||!ae.skipInitialTransition),...ae}}])}const La=new b.UbH("ROUTER_FORROOT_GUARD"),Is=[s.oB,{provide:Gt,useClass:an},sr,Br,{provide:ur,useFactory:function Nl(ae){return ae.routerState.root},deps:[sr]},es,[]];let Ts=(()=>{var ae;class ge{constructor(fe){}static forRoot(fe,xe){return{ngModule:ge,providers:[Is,[],{provide:Mo,multi:!0,useValue:fe},{provide:La,useFactory:Fr,deps:[[sr,new b.T7N,new b.Qfh]]},{provide:Gr,useValue:xe||{}},null!=xe&&xe.useHash?{provide:s.Qd,useClass:s.MP}:{provide:s.Qd,useClass:s.uC},{provide:gi,useFactory:()=>{const ae=(0,b.uUt)(s.YZ),ge=(0,b.uUt)(b.WW2),be=(0,b.uUt)(Gr),fe=(0,b.uUt)(ir),xe=(0,b.uUt)(Gt);return be.scrollOffset&&ae.setOffset(be.scrollOffset),new Bi(xe,fe,ae,ge,be)}},null!=xe&&xe.preloadingStrategy?Mf(xe.preloadingStrategy).\u0275providers:[],null!=xe&&xe.initialNavigation?Tf(xe):[],null!=xe&&xe.bindToComponentInputs?Zr(8,[qo,{provide:po,useExisting:qo}]).\u0275providers:[],null!=xe&&xe.enableViewTransitions?Dc().\u0275providers:[],[{provide:rs,useFactory:Ds},{provide:b.qid,multi:!0,useExisting:rs}]]}}static forChild(fe){return{ngModule:ge,providers:[{provide:Mo,multi:!0,useValue:fe}]}}}return(ae=ge).\u0275fac=function(fe){return new(fe||ae)(b.CoB(La,8))},ae.\u0275mod=b.a4G({type:ae}),ae.\u0275inj=b.s3X({}),ge})();function Fr(ae){return"guarded"}function Tf(ae){return["disabled"===ae.initialNavigation?Zr(3,[{provide:b.kZF,multi:!0,useFactory:()=>{const ge=(0,b.uUt)(sr);return()=>{ge.setUpLocationChangeListener()}}},{provide:Ms,useValue:2}]).\u0275providers:[],"enabledBlocking"===ae.initialNavigation?Zr(2,[{provide:Ms,useValue:0},{provide:b.kZF,multi:!0,deps:[b.zZn],useFactory:ge=>{const be=ge.get(s.mQ,Promise.resolve());return()=>be.then(()=>new Promise(fe=>{const xe=ge.get(sr),Je=ge.get(Cc);ei(xe,()=>{fe(!0)}),ge.get(ir).afterPreactivation=()=>(fe(!0),Je.closed?(0,W.of)(void 0):Je),xe.initialNavigation()}))}}]).\u0275providers:[]]}const rs=new b.UbH("")},9240:(fn,Pt,me)=>{"use strict";me.d(Pt,{kh:()=>Pe,_U:()=>Jt,m2:()=>bt,Im:()=>L,Qz:()=>qe,Ej:()=>Re,sW:()=>ct,Cg:()=>Pn,CE:()=>rt,um:()=>dr,wX:()=>ln,a6:()=>Et,gk:()=>rr,WU:()=>kt,g5:()=>ee,GY:()=>re,uU:()=>Xt,Al:()=>Se,cl:()=>_t,ag:()=>un});var b=me(1528),we=me(4496),nt=me(3332),_e=me(1368);class r{constructor(){this.m=new Map}reset(ut){this.m=new Map(Object.entries(ut))}get(ut,$e){const lt=this.m.get(ut);return void 0!==lt?lt:$e}getBoolean(ut,$e=!1){const lt=this.m.get(ut);return void 0===lt?$e:"string"==typeof lt?"true"===lt:!!lt}getNumber(ut,$e){const lt=parseFloat(this.m.get(ut));return isNaN(lt)?void 0!==$e?$e:NaN:lt}set(ut,$e){this.m.set(ut,$e)}}const W=new r,w=at=>l(at),l=(at=window)=>{if(typeof at>"u")return[];at.Ionic=at.Ionic||{};let ut=at.Ionic.platforms;return null==ut&&(ut=at.Ionic.platforms=d(at),ut.forEach($e=>at.document.documentElement.classList.add(`plt-${$e}`))),ut},d=at=>{const ut=W.get("platform");return Object.keys(z).filter($e=>{const lt=null==ut?void 0:ut[$e];return"function"==typeof lt?lt(at):z[$e](at)})},c=at=>!!(H(at,/iPad/i)||H(at,/Macintosh/i)&&N(at)),p=at=>H(at,/android|sink/i),N=at=>X(at,"(any-pointer:coarse)"),j=at=>V(at)||k(at),V=at=>!!(at.cordova||at.phonegap||at.PhoneGap),k=at=>{const ut=at.Capacitor;return!(null==ut||!ut.isNative)},H=(at,ut)=>ut.test(at.navigator.userAgent),X=(at,ut)=>{var $e;return null===($e=at.matchMedia)||void 0===$e?void 0:$e.call(at,ut).matches},z={ipad:c,iphone:at=>H(at,/iPhone/i),ios:at=>H(at,/iPhone|iPod/i)||c(at),android:p,phablet:at=>{const ut=at.innerWidth,$e=at.innerHeight,lt=Math.min(ut,$e),Ut=Math.max(ut,$e);return lt>390&&lt<520&&Ut>620&&Ut<800},tablet:at=>{const ut=at.innerWidth,$e=at.innerHeight,lt=Math.min(ut,$e),Ut=Math.max(ut,$e);return c(at)||(at=>p(at)&&!H(at,/mobile/i))(at)||lt>460&&lt<820&&Ut>780&&Ut<1400},cordova:V,capacitor:k,electron:at=>H(at,/electron/i),pwa:at=>{var ut;return!!(null!==(ut=at.matchMedia)&&void 0!==ut&&ut.call(at,"(display-mode: standalone)").matches||at.navigator.standalone)},mobile:N,mobileweb:at=>N(at)&&!j(at),desktop:at=>!N(at),hybrid:j};var ne=me(1896),de=me(9248),De=me(5657),Y=me(800),R=me(6700),se=me(6040),pe=me(2700),Ee=me(1316),Ne=me(6684),We=me(7368),et=me(528),Ae=me(5448),Be=me(7773);function Oe(at,ut){return at===ut}var Ze=me(4716);const Qe=["tabsInner"];let kt=(()=>{class at{constructor($e,lt){this.doc=$e,this.backButton=new De.E,this.keyboardDidShow=new De.E,this.keyboardDidHide=new De.E,this.pause=new De.E,this.resume=new De.E,this.resize=new De.E,lt.run(()=>{var Ut;let dn;this.win=$e.defaultView,this.backButton.subscribeWithPriority=function(An,At){return this.subscribe(je=>je.register(An,He=>lt.run(()=>At(He))))},Lt(this.pause,$e,"pause",lt),Lt(this.resume,$e,"resume",lt),Lt(this.backButton,$e,"ionBackButton",lt),Lt(this.resize,this.win,"resize",lt),Lt(this.keyboardDidShow,this.win,"ionKeyboardDidShow",lt),Lt(this.keyboardDidHide,this.win,"ionKeyboardDidHide",lt),this._readyPromise=new Promise(An=>{dn=An}),null!==(Ut=this.win)&&void 0!==Ut&&Ut.cordova?$e.addEventListener("deviceready",()=>{dn("cordova")},{once:!0}):dn("dom")})}is($e){return((at,ut)=>("string"==typeof at&&(ut=at,at=void 0),w(at).includes(ut)))(this.win,$e)}platforms(){return w(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam($e){return qt(this.win.location.href,$e)}isLandscape(){return!this.isPortrait()}isPortrait(){var $e,lt;return null===($e=(lt=this.win).matchMedia)||void 0===$e?void 0:$e.call(lt,"(orientation: portrait)").matches}testUserAgent($e){const lt=this.win.navigator;return!!(null!=lt&&lt.userAgent&&lt.userAgent.indexOf($e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return at.\u0275fac=function($e){return new($e||at)(we.CoB(_e.Ud),we.CoB(we.WW2))},at.\u0275prov=we.wxM({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();const qt=(at,ut)=>{ut=ut.replace(/[[\]\\]/g,"\\$&");const lt=new RegExp("[\\?&]"+ut+"=([^&#]*)").exec(at);return lt?decodeURIComponent(lt[1].replace(/\+/g," ")):null},Lt=(at,ut,$e,lt)=>{ut&&ut.addEventListener($e,Ut=>{lt.run(()=>{at.next(null!=Ut?Ut.detail:void 0)})})};let ln=(()=>{class at{constructor($e,lt,Ut,dn){this.location=lt,this.serializer=Ut,this.router=dn,this.direction=Ht,this.animated=Tt,this.guessDirection="forward",this.lastNavId=-1,dn&&dn.events.subscribe(An=>{if(An instanceof nt.Qx){const At=An.restoredState?An.restoredState.navigationId:An.id;this.guessDirection=At<this.lastNavId?"back":"forward",this.guessAnimation=An.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?An.id:At}}),$e.backButton.subscribeWithPriority(0,An=>{this.pop(),An()})}navigateForward($e,lt={}){return this.setDirection("forward",lt.animated,lt.animationDirection,lt.animation),this.navigate($e,lt)}navigateBack($e,lt={}){return this.setDirection("back",lt.animated,lt.animationDirection,lt.animation),this.navigate($e,lt)}navigateRoot($e,lt={}){return this.setDirection("root",lt.animated,lt.animationDirection,lt.animation),this.navigate($e,lt)}back($e={animated:!0,animationDirection:"back"}){return this.setDirection("back",$e.animated,$e.animationDirection,$e.animation),this.location.back()}pop(){var $e=this;return(0,b.c)(function*(){let lt=$e.topOutlet;for(;lt;){if(yield lt.pop())return!0;lt=lt.parentOutlet}return!1})()}setDirection($e,lt,Ut,dn){this.direction=$e,this.animated=sn($e,lt,Ut),this.animationBuilder=dn}setTopOutlet($e){this.topOutlet=$e}consumeTransition(){let lt,$e="root";const Ut=this.animationBuilder;return"auto"===this.direction?($e=this.guessDirection,lt=this.guessAnimation):(lt=this.animated,$e=this.direction),this.direction=Ht,this.animated=Tt,this.animationBuilder=void 0,{direction:$e,animation:lt,animationBuilder:Ut}}navigate($e,lt){if(Array.isArray($e))return this.router.navigate($e,lt);{const Ut=this.serializer.parse($e.toString());return void 0!==lt.queryParams&&(Ut.queryParams={...lt.queryParams}),void 0!==lt.fragment&&(Ut.fragment=lt.fragment),this.router.navigateByUrl(Ut,lt)}}}return at.\u0275fac=function($e){return new($e||at)(we.CoB(kt),we.CoB(_e.oB),we.CoB(nt.qd),we.CoB(nt.E5,8))},at.\u0275prov=we.wxM({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();const sn=(at,ut,$e)=>{if(!1!==ut){if(void 0!==$e)return $e;if("forward"===at||"back"===at)return at;if("root"===at&&!0===ut)return"forward"}},Ht="auto",Tt=void 0;let Jt=(()=>{class at{get($e,lt){const Ut=zt();return Ut?Ut.get($e,lt):null}getBoolean($e,lt){const Ut=zt();return!!Ut&&Ut.getBoolean($e,lt)}getNumber($e,lt){const Ut=zt();return Ut?Ut.getNumber($e,lt):0}}return at.\u0275fac=function($e){return new($e||at)},at.\u0275prov=we.wxM({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();const bt=new we.UbH("USERCONFIG"),zt=()=>{if(typeof window<"u"){const at=window.Ionic;if(null!=at&&at.config)return at.config}return null};class Et{constructor(ut={}){this.data=ut}get(ut){return this.data[ut]}}let Pe=(()=>{class at{constructor(){this.zone=(0,we.uUt)(we.WW2),this.applicationRef=(0,we.uUt)(we.Swk)}create($e,lt,Ut){return new Ge($e,lt,this.applicationRef,this.zone,Ut)}}return at.\u0275fac=function($e){return new($e||at)},at.\u0275prov=we.wxM({token:at,factory:at.\u0275fac}),at})();class Ge{constructor(ut,$e,lt,Ut,dn){this.environmentInjector=ut,this.injector=$e,this.applicationRef=lt,this.zone=Ut,this.elementReferenceKey=dn,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(ut,$e,lt,Ut){return this.zone.run(()=>new Promise(dn=>{const An={...lt};void 0!==this.elementReferenceKey&&(An[this.elementReferenceKey]=ut),dn(Ie(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,ut,$e,An,Ut,this.elementReferenceKey))}))}removeViewFromDom(ut,$e){return this.zone.run(()=>new Promise(lt=>{const Ut=this.elRefMap.get($e);if(Ut){Ut.destroy(),this.elRefMap.delete($e);const dn=this.elEventsMap.get($e);dn&&(dn(),this.elEventsMap.delete($e))}lt()}))}}const Ie=(at,ut,$e,lt,Ut,dn,An,At,je,He,Mt)=>{const Rt=we.zZn.create({providers:Gt(je),parent:$e}),Vt=(0,we.kdu)(At,{environmentInjector:ut,elementInjector:Rt}),ie=Vt.instance,Le=Vt.location.nativeElement;if(je&&(Mt&&void 0!==ie[Mt]&&console.error(`[Ionic Error]: ${Mt} is a reserved property when using ${An.tagName.toLowerCase()}. Rename or remove the "${Mt}" property from ${At.name}.`),Object.assign(ie,je)),He)for(const Ve of He)Le.classList.add(Ve);const ve=wt(at,ie,Le);return An.appendChild(Le),lt.attachView(Vt.hostView),Ut.set(Le,Vt),dn.set(Le,ve),Le},ze=[ne.L,ne.a,ne.b,ne.c,ne.d],wt=(at,ut,$e)=>at.run(()=>{const lt=ze.filter(Ut=>"function"==typeof ut[Ut]).map(Ut=>{const dn=An=>ut[Ut](An.detail);return $e.addEventListener(Ut,dn),()=>$e.removeEventListener(Ut,dn)});return()=>lt.forEach(Ut=>Ut())}),jt=new we.UbH("NavParamsToken"),Gt=at=>[{provide:jt,useValue:at},{provide:Et,useFactory:an,deps:[jt]}],an=at=>new Et(at),_n=(at,ut)=>{const $e=at.prototype;ut.forEach(lt=>{Object.defineProperty($e,lt,{get(){return this.el[lt]},set(Ut){this.z.runOutsideAngular(()=>this.el[lt]=Ut)}})})},wn=(at,ut)=>{const $e=at.prototype;ut.forEach(lt=>{$e[lt]=function(){const Ut=arguments;return this.z.runOutsideAngular(()=>this.el[lt].apply(this.el,Ut))}})},Dt=(at,ut,$e)=>{$e.forEach(lt=>at[lt]=(0,Y.w)(ut,lt))};function xt(at){return function($e){const{defineCustomElementFn:lt,inputs:Ut,methods:dn}=at;return void 0!==lt&&lt(),Ut&&_n($e,Ut),dn&&wn($e,dn),$e}}const ot=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Ye=["present","dismiss","onDidDismiss","onWillDismiss"];let ct=(()=>{let at=class{constructor($e,lt,Ut){this.z=Ut,this.isCmpOpen=!1,this.el=lt.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,$e.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,$e.detectChanges()}),Dt(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return at.\u0275fac=function($e){return new($e||at)(we.GI1(we.kD9),we.GI1(we.GMv),we.GI1(we.WW2))},at.\u0275dir=we.Sc5({type:at,selectors:[["ion-popover"]],contentQueries:function($e,lt,Ut){if(1&$e&&we.szK(Ut,we.Yw2,5),2&$e){let dn;we.wto(dn=we.Gqi())&&(lt.template=dn.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}}),at=(0,Ee.UN)([xt({inputs:ot,methods:Ye})],at),at})();const Ct=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],rn=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let qe=(()=>{let at=class{constructor($e,lt,Ut){this.z=Ut,this.isCmpOpen=!1,this.el=lt.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,$e.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,$e.detectChanges()}),Dt(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return at.\u0275fac=function($e){return new($e||at)(we.GI1(we.kD9),we.GI1(we.GMv),we.GI1(we.WW2))},at.\u0275dir=we.Sc5({type:at,selectors:[["ion-modal"]],contentQueries:function($e,lt,Ut){if(1&$e&&we.szK(Ut,we.Yw2,5),2&$e){let dn;we.wto(dn=we.Gqi())&&(lt.template=dn.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}}),at=(0,Ee.UN)([xt({inputs:Ct,methods:rn})],at),at})();const Nt=(at,ut)=>((at=at.filter($e=>$e.stackId!==ut.stackId)).push(ut),at),hn=(at,ut)=>{const $e=at.createUrlTree(["."],{relativeTo:ut});return at.serializeUrl($e)},yn=(at,ut)=>!ut||at.stackId!==ut.stackId,En=(at,ut)=>{if(!at)return;const $e=Sn(ut);for(let lt=0;lt<$e.length;lt++){if(lt>=at.length)return $e[lt];if($e[lt]!==at[lt])return}},Sn=at=>at.split("/").map(ut=>ut.trim()).filter(ut=>""!==ut),Cn=at=>{at&&(at.ref.destroy(),at.unlistenEvents())};class Zn{constructor(ut,$e,lt,Ut,dn,An){this.containerEl=$e,this.router=lt,this.navCtrl=Ut,this.zone=dn,this.location=An,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==ut?Sn(ut):void 0}createView(ut,$e){var lt;const Ut=hn(this.router,$e),dn=null==ut||null===(lt=ut.location)||void 0===lt?void 0:lt.nativeElement,An=wt(this.zone,ut.instance,dn);return{id:this.nextId++,stackId:En(this.tabsPrefix,Ut),unlistenEvents:An,element:dn,ref:ut,url:Ut}}getExistingView(ut){const $e=hn(this.router,ut),lt=this.views.find(Ut=>Ut.url===$e);return lt&&lt.ref.changeDetectorRef.reattach(),lt}setActive(ut){var $e,lt;const Ut=this.navCtrl.consumeTransition();let{direction:dn,animation:An,animationBuilder:At}=Ut;const je=this.activeView,He=yn(ut,je);He&&(dn="back",An=void 0);const Mt=this.views.slice();let Rt;const Vt=this.router;Vt.getCurrentNavigation?Rt=Vt.getCurrentNavigation():null!==($e=Vt.navigations)&&void 0!==$e&&$e.value&&(Rt=Vt.navigations.value),null!==(lt=Rt)&&void 0!==lt&&null!==(lt=lt.extras)&&void 0!==lt&&lt.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const ie=this.views.includes(ut),Le=this.insertView(ut,dn);ie||ut.ref.changeDetectorRef.detectChanges();const ve=ut.animationBuilder;return void 0===At&&"back"===dn&&!He&&void 0!==ve&&(At=ve),je&&(je.animationBuilder=At),this.zone.runOutsideAngular(()=>this.wait(()=>(je&&je.ref.changeDetectorRef.detach(),ut.ref.changeDetectorRef.reattach(),this.transition(ut,je,An,this.canGoBack(1),!1,At).then(()=>tr(ut,Le,Mt,this.location,this.zone)).then(()=>({enteringView:ut,direction:dn,animation:An,tabSwitch:He})))))}canGoBack(ut,$e=this.getActiveStackId()){return this.getStack($e).length>ut}pop(ut,$e=this.getActiveStackId()){return this.zone.run(()=>{const lt=this.getStack($e);if(lt.length<=ut)return Promise.resolve(!1);const Ut=lt[lt.length-ut-1];let dn=Ut.url;const An=Ut.savedData;if(An){var At;const He=An.get("primary");null!=He&&null!==(At=He.route)&&void 0!==At&&null!==(At=At._routerState)&&void 0!==At&&At.snapshot.url&&(dn=He.route._routerState.snapshot.url)}const{animationBuilder:je}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(dn,{...Ut.savedExtras,animation:je}).then(()=>!0)})}startBackTransition(){const ut=this.activeView;if(ut){const $e=this.getStack(ut.stackId),lt=$e[$e.length-2],Ut=lt.animationBuilder;return this.wait(()=>this.transition(lt,ut,"back",this.canGoBack(2),!0,Ut))}return Promise.resolve()}endBackTransition(ut){ut?(this.skipTransition=!0,this.pop(1)):this.activeView&&lr(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(ut){const $e=this.getStack(ut);return $e.length>0?$e[$e.length-1]:void 0}getRootUrl(ut){const $e=this.getStack(ut);return $e.length>0?$e[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Cn),this.activeView=void 0,this.views=[]}getStack(ut){return this.views.filter($e=>$e.stackId===ut)}insertView(ut,$e){return this.activeView=ut,this.views=((at,ut,$e)=>"root"===$e?Nt(at,ut):"forward"===$e?((at,ut)=>(at.indexOf(ut)>=0?at=at.filter(lt=>lt.stackId!==ut.stackId||lt.id<=ut.id):at.push(ut),at))(at,ut):((at,ut)=>at.indexOf(ut)>=0?at.filter(lt=>lt.stackId!==ut.stackId||lt.id<=ut.id):Nt(at,ut))(at,ut))(this.views,ut,$e),this.views.slice()}transition(ut,$e,lt,Ut,dn,An){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if($e===ut)return Promise.resolve(!1);const At=ut?ut.element:void 0,je=$e?$e.element:void 0,He=this.containerEl;return At&&At!==je&&(At.classList.add("ion-page"),At.classList.add("ion-page-invisible"),At.parentElement!==He&&He.appendChild(At),He.commit)?He.commit(At,je,{duration:void 0===lt?0:void 0,direction:lt,showGoBack:Ut,progressAnimation:dn,animationBuilder:An}):Promise.resolve(!1)}wait(ut){var $e=this;return(0,b.c)(function*(){void 0!==$e.runningTask&&(yield $e.runningTask,$e.runningTask=void 0);const lt=$e.runningTask=ut();return lt.finally(()=>$e.runningTask=void 0),lt})()}}const tr=(at,ut,$e,lt,Ut)=>"function"==typeof requestAnimationFrame?new Promise(dn=>{requestAnimationFrame(()=>{lr(at,ut,$e,lt,Ut),dn()})}):Promise.resolve(),lr=(at,ut,$e,lt,Ut)=>{Ut.run(()=>$e.filter(dn=>!ut.includes(dn)).forEach(Cn)),ut.forEach(dn=>{const At=lt.path().split("?")[0].split("#")[0];if(dn!==at&&dn.url!==At){const je=dn.element;je.setAttribute("aria-hidden","true"),je.classList.add("ion-page-hidden"),dn.ref.changeDetectorRef.detach()}})};let Pn=(()=>{class at{constructor($e,lt,Ut,dn,An,At,je,He){this.parentOutlet=He,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new R.g(null),this.activated=null,this._activatedRoute=null,this.name=nt.gf,this.stackWillChange=new we._w7,this.stackDidChange=new we._w7,this.activateEvents=new we._w7,this.deactivateEvents=new we._w7,this.parentContexts=(0,we.uUt)(nt.O4),this.location=(0,we.uUt)(we.y8U),this.environmentInjector=(0,we.uUt)(we.SIe),this.inputBinder=(0,we.uUt)(G,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,we.uUt)(Jt),this.navCtrl=(0,we.uUt)(ln),this.nativeEl=dn.nativeElement,this.name=$e||nt.gf,this.tabsPrefix="true"===lt?hn(An,je):void 0,this.stackCtrl=new Zn(this.tabsPrefix,this.nativeEl,An,this.navCtrl,At,Ut),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation($e){this.nativeEl.animation=$e}set animated($e){this.nativeEl.animated=$e}set swipeGesture($e){this._swipeGesture=$e,this.nativeEl.swipeHandler=$e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:lt=>this.stackCtrl.endBackTransition(lt)}:void 0}ngOnDestroy(){var $e;this.stackCtrl.destroy(),null===($e=this.inputBinder)||void 0===$e||$e.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const $e=this.getContext();null!=$e&&$e.route&&this.activateWith($e.route,$e.injector)}new Promise($e=>(0,de.c)(this.nativeEl,$e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach($e,lt){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const lt=this.getContext();this.activatedView.savedData=new Map(lt.children.contexts);const Ut=this.activatedView.savedData.get("primary");if(Ut&&lt.route&&(Ut.route={...lt.route}),this.activatedView.savedExtras={},lt.route){const dn=lt.route.snapshot;this.activatedView.savedExtras.queryParams=dn.queryParams,this.activatedView.savedExtras.fragment=dn.fragment}}const $e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit($e)}}activateWith($e,lt){var Ut;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=$e;let dn,An=this.stackCtrl.getExistingView($e);if(An){dn=this.activated=An.ref;const He=An.savedData;He&&(this.getContext().children.contexts=He),this.updateActivatedRouteProxy(dn.instance,$e)}else{var At;const He=$e._futureSnapshot,Mt=this.parentContexts.getOrCreateContext(this.name).children,Rt=new R.g(null),Vt=this.createActivatedRouteProxy(Rt,$e),ie=new Wn(Vt,Mt,this.location.injector),Le=null!==(At=He.routeConfig.component)&&void 0!==At?At:He.component;dn=this.activated=this.location.createComponent(Le,{index:this.location.length,injector:ie,environmentInjector:null!=lt?lt:this.environmentInjector}),Rt.next(dn.instance),An=this.stackCtrl.createView(this.activated,$e),this.proxyMap.set(dn.instance,Vt),this.currentActivatedRoute$.next({component:dn.instance,activatedRoute:$e})}null===(Ut=this.inputBinder)||void 0===Ut||Ut.bindActivatedRouteToOutletComponent(this),this.activatedView=An,this.navCtrl.setTopOutlet(this);const je=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:An,tabSwitch:yn(An,je)}),this.stackCtrl.setActive(An).then(He=>{this.activateEvents.emit(dn.instance),this.stackDidChange.emit(He)})}canGoBack($e=1,lt){return this.stackCtrl.canGoBack($e,lt)}pop($e=1,lt){return this.stackCtrl.pop($e,lt)}getLastUrl($e){const lt=this.stackCtrl.getLastUrl($e);return lt?lt.url:void 0}getLastRouteView($e){return this.stackCtrl.getLastUrl($e)}getRootView($e){return this.stackCtrl.getRootUrl($e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy($e,lt){const Ut=new nt.gV;return Ut._futureSnapshot=lt._futureSnapshot,Ut._routerState=lt._routerState,Ut.snapshot=lt.snapshot,Ut.outlet=lt.outlet,Ut.component=lt.component,Ut._paramMap=this.proxyObservable($e,"paramMap"),Ut._queryParamMap=this.proxyObservable($e,"queryParamMap"),Ut.url=this.proxyObservable($e,"url"),Ut.params=this.proxyObservable($e,"params"),Ut.queryParams=this.proxyObservable($e,"queryParams"),Ut.fragment=this.proxyObservable($e,"fragment"),Ut.data=this.proxyObservable($e,"data"),Ut}proxyObservable($e,lt){return $e.pipe((0,Ne.I)(Ut=>!!Ut),(0,We.G)(Ut=>this.currentActivatedRoute$.pipe((0,Ne.I)(dn=>null!==dn&&dn.component===Ut),(0,We.G)(dn=>dn&&dn.activatedRoute[lt]),function Fe(at,ut=et.Z){return at=null!=at?at:Oe,(0,Ae.i)(($e,lt)=>{let Ut,dn=!0;$e.subscribe((0,Be.e)(lt,An=>{const At=ut(An);(dn||!at(Ut,At))&&(dn=!1,Ut=At,lt.next(An))}))})}())))}updateActivatedRouteProxy($e,lt){const Ut=this.proxyMap.get($e);if(!Ut)throw new Error("Could not find activated route proxy for view");Ut._futureSnapshot=lt._futureSnapshot,Ut._routerState=lt._routerState,Ut.snapshot=lt.snapshot,Ut.outlet=lt.outlet,Ut.component=lt.component,this.currentActivatedRoute$.next({component:$e,activatedRoute:lt})}}return at.\u0275fac=function($e){return new($e||at)(we.gJ8("name"),we.gJ8("tabs"),we.GI1(_e.oB),we.GI1(we.GMv),we.GI1(nt.E5),we.GI1(we.WW2),we.GI1(nt.gV),we.GI1(at,12))},at.\u0275dir=we.Sc5({type:at,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),at})();class Wn{constructor(ut,$e,lt){this.route=ut,this.childContexts=$e,this.parent=lt}get(ut,$e){return ut===nt.gV?this.route:ut===nt.O4?this.childContexts:this.parent.get(ut,$e)}}const G=new we.UbH("");let ye=(()=>{class at{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent($e){this.unsubscribeFromRouteData($e),this.subscribeToRouteData($e)}unsubscribeFromRouteData($e){var lt;null===(lt=this.outletDataSubscriptions.get($e))||void 0===lt||lt.unsubscribe(),this.outletDataSubscriptions.delete($e)}subscribeToRouteData($e){const{activatedRoute:lt}=$e,Ut=(0,se.E)([lt.queryParams,lt.params,lt.data]).pipe((0,We.G)(([dn,An,At],je)=>(At={...dn,...An,...At},0===je?(0,pe.of)(At):Promise.resolve(At)))).subscribe(dn=>{if(!$e.isActivated||!$e.activatedComponentRef||$e.activatedRoute!==lt||null===lt.component)return void this.unsubscribeFromRouteData($e);const An=(0,we.o9M)(lt.component);if(An)for(const{templateName:At}of An.inputs)$e.activatedComponentRef.setInput(At,dn[At]);else this.unsubscribeFromRouteData($e)});this.outletDataSubscriptions.set($e,Ut)}}return at.\u0275fac=function($e){return new($e||at)},at.\u0275prov=we.wxM({token:at,factory:at.\u0275fac}),at})();const Se=()=>({provide:G,useFactory:D,deps:[nt.E5]});function D(at){return null!=at&&at.componentInputBindingEnabled?new ye:null}const F=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let L=(()=>{let at=class{constructor($e,lt,Ut,dn,An,At){this.routerOutlet=$e,this.navCtrl=lt,this.config=Ut,this.r=dn,this.z=An,At.detach(),this.el=this.r.nativeElement}onClick($e){var lt;const Ut=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(lt=this.routerOutlet)&&void 0!==lt&&lt.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),$e.preventDefault()):null!=Ut&&(this.navCtrl.navigateBack(Ut,{animation:this.routerAnimation}),$e.preventDefault())}};return at.\u0275fac=function($e){return new($e||at)(we.GI1(Pn,8),we.GI1(ln),we.GI1(Jt),we.GI1(we.GMv),we.GI1(we.WW2),we.GI1(we.kD9))},at.\u0275dir=we.Sc5({type:at,hostBindings:function($e,lt){1&$e&&we.qCj("click",function(dn){return lt.onClick(dn)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),at=(0,Ee.UN)([xt({inputs:F})],at),at})(),ee=(()=>{class at{constructor($e,lt,Ut,dn,An){this.locationStrategy=$e,this.navCtrl=lt,this.elementRef=Ut,this.router=dn,this.routerLink=An,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var $e;if(null!==($e=this.routerLink)&&void 0!==$e&&$e.urlTree){const lt=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=lt}}onClick($e){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),$e.preventDefault()}}return at.\u0275fac=function($e){return new($e||at)(we.GI1(_e.Qd),we.GI1(ln),we.GI1(we.GMv),we.GI1(nt.E5),we.GI1(nt.ER,8))},at.\u0275dir=we.Sc5({type:at,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function($e,lt){1&$e&&we.qCj("click",function(dn){return lt.onClick(dn)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[we.SYr]}),at})(),re=(()=>{class at{constructor($e,lt,Ut,dn,An){this.locationStrategy=$e,this.navCtrl=lt,this.elementRef=Ut,this.router=dn,this.routerLink=An,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var $e;if(null!==($e=this.routerLink)&&void 0!==$e&&$e.urlTree){const lt=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=lt}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return at.\u0275fac=function($e){return new($e||at)(we.GI1(_e.Qd),we.GI1(ln),we.GI1(we.GMv),we.GI1(nt.E5),we.GI1(nt.ER,8))},at.\u0275dir=we.Sc5({type:at,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function($e,lt){1&$e&&we.qCj("click",function(){return lt.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[we.SYr]}),at})();const Q=["animated","animation","root","rootParams","swipeGesture"],he=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Re=(()=>{let at=class{constructor($e,lt,Ut,dn,An,At){this.z=An,At.detach(),this.el=$e.nativeElement,$e.nativeElement.delegate=dn.create(lt,Ut),Dt(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return at.\u0275fac=function($e){return new($e||at)(we.GI1(we.GMv),we.GI1(we.SIe),we.GI1(we.zZn),we.GI1(Pe),we.GI1(we.WW2),we.GI1(we.kD9))},at.\u0275dir=we.Sc5({type:at,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),at=(0,Ee.UN)([xt({inputs:Q,methods:he})],at),at})(),rt=(()=>{class at{constructor($e){this.navCtrl=$e,this.ionTabsWillChange=new we._w7,this.ionTabsDidChange=new we._w7,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:$e,tabSwitch:lt}){const Ut=$e.stackId;lt&&void 0!==Ut&&this.ionTabsWillChange.emit({tab:Ut})}onStackDidChange({enteringView:$e,tabSwitch:lt}){const Ut=$e.stackId;lt&&void 0!==Ut&&(this.tabBar&&(this.tabBar.selectedTab=Ut),this.ionTabsDidChange.emit({tab:Ut}))}select($e){const lt="string"==typeof $e,Ut=lt?$e:$e.detail.tab,dn=this.outlet.getActiveStackId()===Ut,An=`${this.outlet.tabsPrefix}/${Ut}`;if(lt||$e.stopPropagation(),dn){const At=this.outlet.getActiveStackId(),je=this.outlet.getLastRouteView(At);if((null==je?void 0:je.url)===An)return;const He=this.outlet.getRootView(Ut);return this.navCtrl.navigateRoot(An,{...He&&An===He.url&&He.savedExtras,animated:!0,animationDirection:"back"})}{const At=this.outlet.getLastRouteView(Ut);return this.navCtrl.navigateRoot((null==At?void 0:At.url)||An,{...null==At?void 0:At.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach($e=>{const lt=$e.el.getAttribute("slot");lt!==this.tabBarSlot&&(this.tabBarSlot=lt,this.relocateTabBar())})}relocateTabBar(){const $e=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before($e):this.tabsInner.nativeElement.after($e)}}return at.\u0275fac=function($e){return new($e||at)(we.GI1(ln))},at.\u0275dir=we.Sc5({type:at,selectors:[["ion-tabs"]],viewQuery:function($e,lt){if(1&$e&&we.CC$(Qe,7,we.GMv),2&$e){let Ut;we.wto(Ut=we.Gqi())&&(lt.tabsInner=Ut.first)}},hostBindings:function($e,lt){1&$e&&we.qCj("ionTabButtonClick",function(dn){return lt.select(dn)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),at})();const _t=at=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(at):"function"==typeof requestAnimationFrame?requestAnimationFrame(at):setTimeout(at);let Xt=(()=>{class at{constructor($e,lt){this.injector=$e,this.elementRef=lt,this.onChange=()=>{},this.onTouched=()=>{}}writeValue($e){this.elementRef.nativeElement.value=this.lastValue=$e,un(this.elementRef)}handleValueChange($e,lt){$e===this.elementRef.nativeElement&&(lt!==this.lastValue&&(this.lastValue=lt,this.onChange(lt)),un(this.elementRef))}_handleBlurEvent($e){$e===this.elementRef.nativeElement&&(this.onTouched(),un(this.elementRef))}registerOnChange($e){this.onChange=$e}registerOnTouched($e){this.onTouched=$e}setDisabledState($e){this.elementRef.nativeElement.disabled=$e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let $e;try{$e=this.injector.get(Ze.eq)}catch{}if(!$e)return;$e.statusChanges&&(this.statusChanges=$e.statusChanges.subscribe(()=>un(this.elementRef)));const lt=$e.control;lt&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(dn=>{if(typeof lt[dn]<"u"){const An=lt[dn].bind(lt);lt[dn]=(...At)=>{An(...At),un(this.elementRef)}}})}}return at.\u0275fac=function($e){return new($e||at)(we.GI1(we.zZn),we.GI1(we.GMv))},at.\u0275dir=we.Sc5({type:at,hostBindings:function($e,lt){1&$e&&we.qCj("ionBlur",function(dn){return lt._handleBlurEvent(dn.target)})}}),at})();const un=at=>{_t(()=>{const ut=at.nativeElement,$e=null!=ut.value&&ut.value.toString().length>0,lt=bn(ut);Rn(ut,lt);const Ut=ut.closest("ion-item");Ut&&Rn(Ut,$e?[...lt,"item-has-value"]:lt)})},bn=at=>{const ut=at.classList,$e=[];for(let lt=0;lt<ut.length;lt++){const Ut=ut.item(lt);null!==Ut&&Hn(Ut,"ng-")&&$e.push(`ion-${Ut.substring(3)}`)}return $e},Rn=(at,ut)=>{const $e=at.classList;$e.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),$e.add(...ut)},Hn=(at,ut)=>at.substring(0,ut.length)===ut;class dr{shouldDetach(ut){return!1}shouldAttach(ut){return!1}store(ut,$e){}retrieve(ut){return null}shouldReuseRoute(ut,$e){if(ut.routeConfig!==$e.routeConfig)return!1;const lt=ut.params,Ut=$e.params,dn=Object.keys(lt),An=Object.keys(Ut);if(dn.length!==An.length)return!1;for(const At of dn)if(Ut[At]!==lt[At])return!1;return!0}}class rr{constructor(ut){this.ctrl=ut}create(ut){return this.ctrl.create(ut||{})}dismiss(ut,$e,lt){return this.ctrl.dismiss(ut,$e,lt)}getTop(){return this.ctrl.getTop()}}},5624:(fn,Pt,me)=>{"use strict";me.d(Pt,{iW:()=>rr,UJ:()=>p,cm:()=>T,qU:()=>H,qk:()=>te,O7:()=>J,Im:()=>he,Gi:()=>ne,sn:()=>Y,GS:()=>R,KC:()=>se,Gg:()=>pe,YY:()=>Ee,MN:()=>Ne,I7:()=>We,ew:()=>et,cz:()=>Ae,Kk:()=>Be,_i:()=>Fe,on:()=>Oe,eV:()=>ft,YP:()=>kt,wB:()=>qt,Ko:()=>Lt,A5:()=>Tt,Yb:()=>Jt,S8:()=>bt,QR:()=>Ie,OC:()=>ze,zz:()=>wt,W9:()=>dr,yc:()=>Xt,sW:()=>un,CS:()=>Ye,ue:()=>ct,Cg:()=>re,qo:()=>$t,Cy:()=>Sn,gd:()=>Cn,mx:()=>Pn,ej:()=>Wn,CE:()=>Q,tM:()=>D,E$:()=>L,Md:()=>ee,wZ:()=>Vt,Kg:()=>lt,qS:()=>dn,Ch:()=>y,Gv:()=>O,IT:()=>$,qG:()=>N});var b=me(4496),we=me(4716),nt=me(9240),_e=me(1316),r=me(800),W=me(1368),S=me(3332),v=me(4708),f=me(1528),h=me(3716);const w=me(1780).i,a=function(){var ie=(0,f.c)(function*(Le,ve){if(!(typeof window>"u"))return yield w(),(0,h.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"],"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),ve)});return function(ve,Ve){return ie.apply(this,arguments)}}(),l=["*"],d=["outlet"],u=[[["","slot","top"]],"*"],c=["[slot=top]","*"];function s(ie,Le){if(1&ie&&(b.I0R(0,"div",1),b.C_f(1,2),b.C$Y()),2&ie){const ve=b.GaO();b.yG2(),b.E7m("ngTemplateOutlet",ve.template)}}function m(ie,Le){if(1&ie&&b.C_f(0,1),2&ie){const ve=b.GaO();b.E7m("ngTemplateOutlet",ve.template)}}let p=(()=>{class ie extends nt.uU{constructor(ve,Ve){super(ve,Ve)}writeValue(ve){this.elementRef.nativeElement.checked=this.lastValue=ve,(0,nt.ag)(this.elementRef)}_handleIonChange(ve){this.handleValueChange(ve,ve.checked)}}return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.zZn),b.GI1(b.GMv))},ie.\u0275dir=b.Sc5({type:ie,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(ve,Ve){1&ve&&b.qCj("ionChange",function(Zt){return Ve._handleIonChange(Zt.target)})},features:[b.M5G([{provide:we.Y6,useExisting:ie,multi:!0}]),b.eg9]}),ie})(),y=(()=>{class ie extends nt.uU{constructor(ve,Ve){super(ve,Ve)}handleInputEvent(ve){this.handleValueChange(ve,ve.value)}registerOnChange(ve){super.registerOnChange(Ve=>{ve(""===Ve?null:parseFloat(Ve))})}}return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.zZn),b.GI1(b.GMv))},ie.\u0275dir=b.Sc5({type:ie,selectors:[["ion-input","type","number"]],hostBindings:function(ve,Ve){1&ve&&b.qCj("ionInput",function(Zt){return Ve.handleInputEvent(Zt.target)})},features:[b.M5G([{provide:we.Y6,useExisting:ie,multi:!0}]),b.eg9]}),ie})(),O=(()=>{class ie extends nt.uU{constructor(ve,Ve){super(ve,Ve)}_handleIonSelect(ve){this.handleValueChange(ve,ve.checked)}}return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.zZn),b.GI1(b.GMv))},ie.\u0275dir=b.Sc5({type:ie,selectors:[["ion-radio"]],hostBindings:function(ve,Ve){1&ve&&b.qCj("ionSelect",function(Zt){return Ve._handleIonSelect(Zt.target)})},features:[b.M5G([{provide:we.Y6,useExisting:ie,multi:!0}]),b.eg9]}),ie})(),$=(()=>{class ie extends nt.uU{constructor(ve,Ve){super(ve,Ve)}_handleChangeEvent(ve){this.handleValueChange(ve,ve.value)}}return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.zZn),b.GI1(b.GMv))},ie.\u0275dir=b.Sc5({type:ie,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(ve,Ve){1&ve&&b.qCj("ionChange",function(Zt){return Ve._handleChangeEvent(Zt.target)})},features:[b.M5G([{provide:we.Y6,useExisting:ie,multi:!0}]),b.eg9]}),ie})(),N=(()=>{class ie extends nt.uU{constructor(ve,Ve){super(ve,Ve)}_handleInputEvent(ve){this.handleValueChange(ve,ve.value)}}return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.zZn),b.GI1(b.GMv))},ie.\u0275dir=b.Sc5({type:ie,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(ve,Ve){1&ve&&b.qCj("ionInput",function(Zt){return Ve._handleInputEvent(Zt.target)})},features:[b.M5G([{provide:we.Y6,useExisting:ie,multi:!0}]),b.eg9]}),ie})();const P=(ie,Le)=>{const ve=ie.prototype;Le.forEach(Ve=>{Object.defineProperty(ve,Ve,{get(){return this.el[Ve]},set(mt){this.z.runOutsideAngular(()=>this.el[Ve]=mt)},configurable:!0})})},j=(ie,Le)=>{const ve=ie.prototype;Le.forEach(Ve=>{ve[Ve]=function(){const mt=arguments;return this.z.runOutsideAngular(()=>this.el[Ve].apply(this.el,mt))}})},V=(ie,Le,ve)=>{ve.forEach(Ve=>ie[Ve]=(0,r.w)(Le,Ve))};function E(ie){return function(ve){const{defineCustomElementFn:Ve,inputs:mt,methods:Zt}=ie;return void 0!==Ve&&Ve(),mt&&P(ve,mt),Zt&&j(ve,Zt),ve}}let T=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],ie),ie})(),H=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement,V(this,this.el,["ionChange"])}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],ie),ie})(),te=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-app"]],ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({})],ie),ie})(),J=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-avatar"]],ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({})],ie),ie})(),ne=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["color","mode"]})],ie),ie})(),Y=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement,V(this,this.el,["ionFocus","ionBlur"])}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],ie),ie})(),R=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["collapse"]})],ie),ie})(),se=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],ie),ie})(),pe=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["mode"]})],ie),ie})(),Ee=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["color","mode","translucent"]})],ie),ie})(),Ne=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["color","mode"]})],ie),ie})(),We=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["color","mode"]})],ie),ie})(),et=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement,V(this,this.el,["ionChange","ionFocus","ionBlur"])}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],ie),ie})(),Ae=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["color","disabled","mode","outline"]})],ie),ie})(),Be=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],ie),ie})(),Fe=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement,V(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],ie),ie})(),Oe=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement,V(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],ie),ie})(),ft=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["collapse","mode","translucent"]})],ie),ie})(),kt=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["fixed"]})],ie),ie})(),qt=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["collapse","mode","translucent"]})],ie),ie})(),Lt=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],ie),ie})(),Tt=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement,V(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],ie),ie})(),Jt=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],ie),ie})(),bt=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["color","mode","sticky"]})],ie),ie})(),Ie=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["color","mode","position"]})],ie),ie})(),ze=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],ie),ie})(),wt=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["color","lines","mode"]})],ie),ie})(),Ye=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement,V(this,this.el,["ionFocus","ionBlur"])}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["alignment","color","disabled","justify","labelPlacement","legacy","mode","name","value"]})],ie),ie})(),ct=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement,V(this,this.el,["ionChange"])}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",compareWith:"compareWith",name:"name",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["allowEmptySelection","compareWith","name","value"]})],ie),ie})(),$t=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-row"]],ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({})],ie),ie})(),Sn=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement,V(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],ie),ie})(),Cn=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["disabled","value"]})],ie),ie})(),Pn=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["color","mode","selectedTab","translucent"]})],ie),ie})(),Wn=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],ie),ie})(),D=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["color","size"]})],ie),ie})(),L=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement,V(this,this.el,["ionChange","ionFocus","ionBlur"])}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],ie),ie})(),ee=(()=>{let ie=class{constructor(ve,Ve,mt){this.z=mt,ve.detach(),this.el=Ve.nativeElement}};return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(b.kD9),b.GI1(b.GMv),b.GI1(b.WW2))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie=(0,_e.UN)([E({inputs:["color","mode"]})],ie),ie})(),re=(()=>{class ie extends nt.Cg{constructor(ve,Ve,mt,Zt,Dn,On,zn,Xn){super(ve,Ve,mt,Zt,Dn,On,zn,Xn),this.parentOutlet=Xn}}return ie.\u0275fac=function(ve){return new(ve||ie)(b.gJ8("name"),b.gJ8("tabs"),b.GI1(W.oB),b.GI1(b.GMv),b.GI1(S.E5),b.GI1(b.WW2),b.GI1(S.gV),b.GI1(ie,12))},ie.\u0275dir=b.Sc5({type:ie,selectors:[["ion-router-outlet"]],features:[b.eg9]}),ie})(),Q=(()=>{class ie extends nt.CE{}return ie.\u0275fac=(()=>{let Le;return function(Ve){return(Le||(Le=b.otF(ie)))(Ve||ie)}})(),ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-tabs"]],contentQueries:function(ve,Ve,mt){if(1&ve&&(b.szK(mt,Pn,5),b.szK(mt,Pn,4)),2&ve){let Zt;b.wto(Zt=b.Gqi())&&(Ve.tabBar=Zt.first),b.wto(Zt=b.Gqi())&&(Ve.tabBars=Zt)}},viewQuery:function(ve,Ve){if(1&ve&&b.CC$(d,5,re),2&ve){let mt;b.wto(mt=b.Gqi())&&(Ve.outlet=mt.first)}},features:[b.eg9],ngContentSelectors:c,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(ve,Ve){1&ve&&(b.kPM(u),b._Xx(0),b.I0R(1,"div",0,1)(3,"ion-router-outlet",2,3),b.qCj("stackWillChange",function(Zt){return Ve.onStackWillChange(Zt)})("stackDidChange",function(Zt){return Ve.onStackDidChange(Zt)}),b.C$Y()(),b._Xx(5,1))},dependencies:[re],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),ie})(),he=(()=>{class ie extends nt.Im{constructor(ve,Ve,mt,Zt,Dn,On){super(ve,Ve,mt,Zt,Dn,On)}}return ie.\u0275fac=function(ve){return new(ve||ie)(b.GI1(re,8),b.GI1(nt.wX),b.GI1(nt._U),b.GI1(b.GMv),b.GI1(b.WW2),b.GI1(b.kD9))},ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-back-button"]],features:[b.eg9],ngContentSelectors:l,decls:1,vars:0,template:function(ve,Ve){1&ve&&(b.kPM(),b._Xx(0))},encapsulation:2,changeDetection:0}),ie})(),Xt=(()=>{class ie extends nt.Qz{}return ie.\u0275fac=(()=>{let Le;return function(Ve){return(Le||(Le=b.otF(ie)))(Ve||ie)}})(),ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-modal"]],features:[b.eg9],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(ve,Ve){1&ve&&b.yuY(0,s,2,1,"div",0),2&ve&&b.E7m("ngIf",Ve.isCmpOpen||Ve.keepContentsMounted)},dependencies:[W.u_,W.XV],encapsulation:2,changeDetection:0}),ie})(),un=(()=>{class ie extends nt.sW{}return ie.\u0275fac=(()=>{let Le;return function(Ve){return(Le||(Le=b.otF(ie)))(Ve||ie)}})(),ie.\u0275cmp=b.In1({type:ie,selectors:[["ion-popover"]],features:[b.eg9],decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(ve,Ve){1&ve&&b.yuY(0,m,1,1,"ng-container",0),2&ve&&b.E7m("ngIf",Ve.isCmpOpen||Ve.keepContentsMounted)},dependencies:[W.u_,W.XV],encapsulation:2,changeDetection:0}),ie})();const bn={provide:we.WM,useExisting:(0,b.wd)(()=>Rn),multi:!0};let Rn=(()=>{class ie extends we._t{}return ie.\u0275fac=(()=>{let Le;return function(Ve){return(Le||(Le=b.otF(ie)))(Ve||ie)}})(),ie.\u0275dir=b.Sc5({type:ie,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(ve,Ve){2&ve&&b.e48("max",Ve._enabled?Ve.max:null)},features:[b.M5G([bn]),b.eg9]}),ie})();const Hn={provide:we.WM,useExisting:(0,b.wd)(()=>dr),multi:!0};let dr=(()=>{class ie extends we.Gu{}return ie.\u0275fac=(()=>{let Le;return function(Ve){return(Le||(Le=b.otF(ie)))(Ve||ie)}})(),ie.\u0275dir=b.Sc5({type:ie,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ve,Ve){2&ve&&b.e48("min",Ve._enabled?Ve.min:null)},features:[b.M5G([Hn]),b.eg9]}),ie})(),rr=(()=>{class ie extends nt.gk{constructor(){super(v.W4)}}return ie.\u0275fac=function(ve){return new(ve||ie)},ie.\u0275prov=b.wxM({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),lt=(()=>{class ie extends nt.gk{constructor(){super(v.KQ)}}return ie.\u0275fac=function(ve){return new(ve||ie)},ie.\u0275prov=b.wxM({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),dn=(()=>{class ie extends nt.gk{constructor(){super(v.kT),this.angularDelegate=(0,b.uUt)(nt.kh),this.injector=(0,b.uUt)(b.zZn),this.environmentInjector=(0,b.uUt)(b.SIe)}create(ve){return super.create({...ve,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return ie.\u0275fac=function(ve){return new(ve||ie)},ie.\u0275prov=b.wxM({token:ie,factory:ie.\u0275fac}),ie})();class At extends nt.gk{constructor(){super(v.oz),this.angularDelegate=(0,b.uUt)(nt.kh),this.injector=(0,b.uUt)(b.zZn),this.environmentInjector=(0,b.uUt)(b.SIe)}create(Le){return super.create({...Le,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const He=(ie,Le,ve)=>()=>{const Ve=Le.defaultView;if(Ve&&typeof window<"u"){(0,v.cp)({...ie,_zoneGate:Zt=>ve.run(Zt)});const mt="__zone_symbol__addEventListener"in Le.body?"__zone_symbol__addEventListener":"addEventListener";return function _(){var ie=[];if(typeof window<"u"){var Le=window;(!Le.customElements||Le.Element&&(!Le.Element.prototype.closest||!Le.Element.prototype.matches||!Le.Element.prototype.remove||!Le.Element.prototype.getRootNode))&&ie.push(me.e(4448).then(me.t.bind(me,812,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Le.NodeList&&!Le.NodeList.prototype.forEach||!Le.fetch||!function(){try{var Ve=new URL("b","http://a");return Ve.pathname="c%20d","http://a/c%20d"===Ve.href&&Ve.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&ie.push(me.e(488).then(me.t.bind(me,6304,23)))}return Promise.all(ie)}().then(()=>a(Ve,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:nt.cl,jmp:Zt=>ve.runOutsideAngular(Zt),ael(Zt,Dn,On,zn){Zt[mt](Dn,On,zn)},rel(Zt,Dn,On,zn){Zt.removeEventListener(Dn,On,zn)}}))}};let Vt=(()=>{class ie{static forRoot(ve){return{ngModule:ie,providers:[{provide:nt.m2,useValue:ve},{provide:b.kZF,useFactory:He,multi:!0,deps:[nt.m2,W.Ud,b.WW2]},(0,nt.Al)()]}}}return ie.\u0275fac=function(ve){return new(ve||ie)},ie.\u0275mod=b.a4G({type:ie}),ie.\u0275inj=b.s3X({providers:[nt.kh,dn,At],imports:[W.MD]}),ie})()},2272:(fn,Pt,me)=>{"use strict";me.d(Pt,{c:()=>nt});var b=me(1528);const we={};we.write=function(){var _e=(0,b.c)(function*(r){yield navigator.clipboard.writeText(r)});return function(r){return _e.apply(this,arguments)}}(),we.read=(0,b.c)(function*(){return navigator.clipboard.readText()}),we.readSync=()=>{throw new Error("`.readSync()` is not supported in browsers!")},we.writeSync=()=>{throw new Error("`.writeSync()` is not supported in browsers!")};const nt=we},1528:(fn,Pt,me)=>{"use strict";function b(nt,_e,r,W,S,v,_){try{var f=nt[v](_),h=f.value}catch(x){return void r(x)}f.done?_e(h):Promise.resolve(h).then(W,S)}function we(nt){return function(){var _e=this,r=arguments;return new Promise(function(W,S){var v=nt.apply(_e,r);function _(h){b(v,W,S,_,f,"next",h)}function f(h){b(v,W,S,_,f,"throw",h)}_(void 0)})}}me.d(Pt,{c:()=>we})},1316:(fn,Pt,me)=>{"use strict";me.d(Pt,{U1:()=>p,UN:()=>r,ct:()=>we,kH:()=>x,mA:()=>$,o7:()=>y});var b=function(J,q){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ne,de){ne.__proto__=de}||function(ne,de){for(var De in de)Object.prototype.hasOwnProperty.call(de,De)&&(ne[De]=de[De])})(J,q)};function we(J,q){if("function"!=typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function ne(){this.constructor=J}b(J,q),J.prototype=null===q?Object.create(q):(ne.prototype=q.prototype,new ne)}function r(J,q,ne,de){var R,De=arguments.length,Y=De<3?q:null===de?de=Object.getOwnPropertyDescriptor(q,ne):de;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Y=Reflect.decorate(J,q,ne,de);else for(var se=J.length-1;se>=0;se--)(R=J[se])&&(Y=(De<3?R(Y):De>3?R(q,ne,Y):R(q,ne))||Y);return De>3&&Y&&Object.defineProperty(q,ne,Y),Y}function x(J,q,ne,de){return new(ne||(ne=Promise))(function(Y,R){function se(Ne){try{Ee(de.next(Ne))}catch(We){R(We)}}function pe(Ne){try{Ee(de.throw(Ne))}catch(We){R(We)}}function Ee(Ne){Ne.done?Y(Ne.value):function De(Y){return Y instanceof ne?Y:new ne(function(R){R(Y)})}(Ne.value).then(se,pe)}Ee((de=de.apply(J,q||[])).next())})}function p(J){return this instanceof p?(this.v=J,this):new p(J)}function y(J,q,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,de=ne.apply(J,q||[]),Y=[];return De={},R("next"),R("throw"),R("return"),De[Symbol.asyncIterator]=function(){return this},De;function R(et){de[et]&&(De[et]=function(Ae){return new Promise(function(Be,Fe){Y.push([et,Ae,Be,Fe])>1||se(et,Ae)})})}function se(et,Ae){try{!function pe(et){et.value instanceof p?Promise.resolve(et.value.v).then(Ee,Ne):We(Y[0][2],et)}(de[et](Ae))}catch(Be){We(Y[0][3],Be)}}function Ee(et){se("next",et)}function Ne(et){se("throw",et)}function We(et,Ae){et(Ae),Y.shift(),Y.length&&se(Y[0][0],Y[0][1])}}function $(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,q=J[Symbol.asyncIterator];return q?q.call(J):(J=function d(J){var q="function"==typeof Symbol&&Symbol.iterator,ne=q&&J[q],de=0;if(ne)return ne.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&de>=J.length&&(J=void 0),{value:J&&J[de++],done:!J}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ne={},de("next"),de("throw"),de("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function de(Y){ne[Y]=J[Y]&&function(R){return new Promise(function(se,pe){!function De(Y,R,se,pe){Promise.resolve(pe).then(function(Ee){Y({value:Ee,done:se})},R)}(se,pe,(R=J[Y](R)).done,R.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},fn=>{fn(fn.s=5788)}]);