{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/home/home.ts","../../src/providers/firebase-js.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 108;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 108\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 149;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 149\n// module chunks = 0","import { Component } from '@angular/core';\nimport { AlertController, NavController } from 'ionic-angular';\nimport { FirebaseJs } from '../../providers/firebase-js';\n\ninterface SuggestionForm {\n  nickname?: string; // 빈 칸일 경우 \"익명\"\n  gender?: number // 0 모름 1 남자 2 여자\n  ages?: number; // 연령대, 실제 나이를 적지는 않음\n  content?: string; // 작성된 내용\n  date?: string; // 작성시각\n}\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n  constructor(public navCtrl: NavController,\n    private firebase: FirebaseJs,\n    private alertCont: AlertController,\n  ) {\n\n  }\n\n  ionViewDidLoad() {\n    setTimeout(() => {\n      this.init_action()\n    }, 0);\n  }\n\n  init_action() {\n    this.firebase.database_receive_once('/categories').then((v: string[]) => {\n      this.list_categories = v;\n      if (0) { // 특정 기간동안 이 카테고리로 작업을 우선 선택하도록 함\n        this.category = v[0];\n        this.get_category_log();\n      }\n    });\n    this.user_input = {};\n  }\n\n  category: string = '';\n  list_categories: string[] = [];\n  list_result: SuggestionForm[] = [];\n  user_input: SuggestionForm = {};\n\n  get_category_log() {\n    this.firebase.database_receive_once('/' + this.category + '/')\n      .then((v: { [id: string]: SuggestionForm }) => {\n        let tmp_array: SuggestionForm[] = [];\n        let keys = Object.keys(v).reverse();\n        for (let i = 0, j = keys.length; i < j; i++) {\n          v[keys[i]]['date'] = new Date(Number(keys[i].split('-')[0])).toLocaleString();\n          tmp_array.push(v[keys[i]]);\n        }\n        this.list_result = tmp_array;\n      });\n  }\n\n  commit() {\n    if (!this.category) {\n      this.alertCont.create({\n        title: 'No category',\n        message: 'Please select category',\n        buttons: ['OK']\n      }).present();\n      return;\n    }\n    if (!this.user_input['content']) {\n      this.alertCont.create({\n        title: 'Empty content',\n        message: 'You write nothing',\n        buttons: ['Oh, my'],\n      }).present()\n      return;\n    }\n    let content_id = new Date().getTime().toString();\n    content_id += '-' + this.user_input['nickname'] + '-'\n    const CHARS = '0123456789ABCDEF';\n    for (let i = 0; i < 6; i++)\n      content_id += CHARS.charAt(Math.random() * CHARS.length - 1);\n    this.firebase.database_send('/' + this.category + '/' + content_id, this.user_input)\n      .then((v: boolean) => {\n        if (v) {\n          this.alertCont.create({\n            title: 'Commit well !',\n            message: 'Thank you for your suggestion!',\n            buttons: ['You\\'re welcome :)']\n          }).present();\n          this.get_category_log();\n        }\n      }, e => {\n        console.error('Send data error:', e);\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Injectable } from '@angular/core';\ndeclare const firebaseEx;\n\n@Injectable()\nexport class FirebaseJs {\n  constructor() {\n  }\n  /**\n   * 데이터 등록\n   * @param _ref 보낼 주소\n   * @param _data 보낼 데이터\n   */\n  async database_send(_ref: string, _data: Object): Promise<any> {\n    return await firebaseEx.database().ref(_ref).update(_data).then(() => {\n      return true;\n    });\n  }\n  /**\n   * 데이터 받아오기\n   * @param _ref 받아올 주소\n   * @return 받아온 값\n   */\n  async database_receive_once(_ref: string): Promise<any> {\n    return await firebaseEx.database().ref(_ref).once('value')\n      .then((snapshot: any) => {\n        let result = snapshot.val();\n        return result;\n      }, (e: any) => {\n        console.error('자료받아오기 오류:' + e);\n        return null;\n      });\n  }\n  /**\n   * 데이터 삭제하기\n   * @param _ref 삭제할 주소\n   */\n  async database_remove(_ref: string): Promise<any> {\n    return firebaseEx.database().ref(_ref).remove().then(() => {\n      return true;\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/firebase-js.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { FirebaseJs } from '../providers/firebase-js';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage\n  ],\n  providers: [\n    StatusBar,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    FirebaseJs\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\n\nimport { HomePage } from '../pages/home/home';\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = HomePage;\n\n  constructor(platform: Platform, statusBar: StatusBar) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}