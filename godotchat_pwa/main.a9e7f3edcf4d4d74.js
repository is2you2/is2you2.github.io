(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1357:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{B:()=>ne});var j=fe(1635),ge=fe(1985),Ie=fe(3726),o={error:"cordova_not_available"},oe={error:"plugin_not_installed"};function H(V){if(typeof window<"u"&&window.angular){var U=window.document,F=window.angular.element(U.querySelector("[ng-app]")||U.body).injector();if(F)return F.get("$q")(function(ie,Te){V(ie,Te)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(ie,Te){V(ie,Te)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function C(V,X,U){var F,K;"string"==typeof V?F=V:(F=V.constructor.getPluginRef(),U=V.constructor.getPluginName(),K=V.constructor.getPluginInstallName());var ie=d(F);return!(!ie||X&&typeof ie[X]>"u")||(typeof window>"u"||!window.cordova?(function m(V,X){typeof process>"u"&&console.warn(X?"Native: tried calling "+V+"."+X+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+V+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(U,X),o):(function l(V,X,U){console.warn(U?"Native: tried calling "+V+"."+U+", but the "+V+" plugin is not installed.":"Native: tried accessing the "+V+" plugin but it's not installed."),X&&console.warn("Install the "+V+" plugin: 'ionic cordova plugin add "+X+"'")}(U,K,X),oe))}function u(V,X,U,F,K,ie){void 0===F&&(F={}),U=function s(V,X,U,F){if(void 0===X&&(X={}),X.sync)return V;if("reverse"===X.callbackOrder)V.unshift(F),V.unshift(U);else if("node"===X.callbackStyle)V.push(function(q,k){q?F(q):U(k)});else if("object"===X.callbackStyle&&X.successName&&X.errorName){var K={};K[X.successName]=U,K[X.errorName]=F,V.push(K)}else if(typeof X.successIndex<"u"||typeof X.errorIndex<"u"){var ie=function(){X.successIndex>V.length?V[X.successIndex]=U:V.splice(X.successIndex,0,U)},Te=function(){X.errorIndex>V.length?V[X.errorIndex]=F:V.splice(X.errorIndex,0,F)};X.successIndex>X.errorIndex?(Te(),ie()):(ie(),Te())}else V.push(U),V.push(F);return V}(U,F,K,ie);var Te=C(V,X);if(!0===Te){var q=d(V.constructor.getPluginRef());return q[X].apply(q,U)}return Te}function d(V){return typeof window<"u"?p(window,V):null}function p(V,X){for(var U=X.split("."),F=V,K=0;K<U.length;K++){if(!F)return null;F=F[U[K]]}return F}var x=function(){function V(){}return V.installed=function(){return!0===C(this.pluginRef)},V.getPlugin=function(){return typeof window<"u"?function _(V,X){for(var U=X.split("."),F=V,K=0;K<U.length;K++){if(!F)return null;F=F[U[K]]}return F}(window,this.pluginRef):null},V.getPluginName=function(){return this.pluginName},V.getPluginRef=function(){return this.pluginRef},V.getPluginInstallName=function(){return this.plugin},V.getSupportedPlatforms=function(){return this.platforms},V.pluginName="",V.pluginRef="",V.plugin="",V.repo="",V.platforms=[],V.install="",V}();function A(V,X,U,F){return function(V,X,U){return void 0===U&&(U={}),function(){for(var F=[],K=0;K<arguments.length;K++)F[K]=arguments[K];return U.sync?u(V,X,F,U):U.observable?function g(V,X,U,F){return void 0===F&&(F={}),new ge.c(function(K){var ie;return ie=F.destruct?u(V,X,U,F,function(){for(var Te=[],q=0;q<arguments.length;q++)Te[q]=arguments[q];return K.next(Te)},function(){for(var Te=[],q=0;q<arguments.length;q++)Te[q]=arguments[q];return K.error(Te)}):u(V,X,U,F,K.next.bind(K),K.error.bind(K)),ie&&ie.error&&(K.error(ie.error),K.complete()),function(){try{if(F.clearFunction)return F.clearWithArgs?u(V,F.clearFunction,U,F,K.next.bind(K),K.error.bind(K)):u(V,F.clearFunction,[])}catch(Te){console.warn("Unable to clear the previous observable watch for",V.constructor.getPluginName(),X),console.warn(Te)}}})}(V,X,F,U):U.eventObservable&&U.event?function y(V,X){return X=typeof window<"u"&&X?p(window,X):X||(typeof window<"u"?window:{}),(0,Ie.R)(X,V)}(U.event,U.element):U.otherPromise?function w(V,X,U,F){return void 0===F&&(F={}),H(function(K,ie){var Te=u(V,X,U,F);Te?Te.error?ie(Te.error):Te.then&&Te.then(K).catch(ie):ie({error:"unexpected_error"})})}(V,X,F,U):function v(V,X,U,F){void 0===F&&(F={});var K,ie,Te=H(function(q,k){K=F.destruct?u(V,X,U,F,function(){for(var ee=[],me=0;me<arguments.length;me++)ee[me]=arguments[me];return q(ee)},function(){for(var ee=[],me=0;me<arguments.length;me++)ee[me]=arguments[me];return k(ee)}):u(V,X,U,F,q,k),ie=k});return K&&K.error&&(Te.catch(function(){}),"function"==typeof ie&&ie(K.error)),Te}(V,X,F,U)}}(V,X,U).apply(this,F)}!function O(){if(typeof process>"u"){var V=typeof window<"u"?window:{},U=Date.now(),F=!1;V.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-U)+" ms"),F=!0}),setTimeout(function(){!F&&V.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}();var Q=fe(3953),ne=function(V){function X(){return null!==V&&V.apply(this,arguments)||this}return(0,j.C6)(X,V),X.prototype.copy=function(U){return A(this,"copy",{},arguments)},X.prototype.paste=function(){return A(this,"paste",{},arguments)},X.prototype.clear=function(){return A(this,"clear",{},arguments)},X.\u0275fac=(()=>{let U;return function(K){return(U||(U=Q.xGo(X)))(K||X)}})(),X.\u0275prov=Q.jDH({token:X,factory:X.\u0275fac}),X.pluginName="Clipboard",X.plugin="cordova-clipboard",X.pluginRef="cordova.plugins.clipboard",X.repo="https://github.com/ihadeed/cordova-clipboard",X.platforms=["Android","iOS","Windows Phone 8"],X=(0,j.Cg)([],X)}(x)},5083:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{E_:()=>d,F3:()=>s,I9:()=>w});var j=fe(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var v=function(I){return I.Unimplemented="UNIMPLEMENTED",I.Unavailable="UNAVAILABLE",I}(v||{});class w extends Error{constructor(z,R,Q){super(z),this.message=z,this.code=R,this.data=Q}}const y=I=>{var z,R,Q,ne,V;const X=I.CapacitorCustomPlatform||null,U=I.Capacitor||{},F=U.Plugins=U.Plugins||{},K=I.CapacitorPlatforms,Te=(null===(z=null==K?void 0:K.currentPlatform)||void 0===z?void 0:z.getPlatform)||(()=>null!==X?X.name:(I=>{var z,R;return null!=I&&I.androidBridge?"android":null!==(R=null===(z=null==I?void 0:I.webkit)||void 0===z?void 0:z.messageHandlers)&&void 0!==R&&R.bridge?"ios":"web"})(I)),k=(null===(R=null==K?void 0:K.currentPlatform)||void 0===R?void 0:R.isNativePlatform)||(()=>"web"!==Te()),me=(null===(Q=null==K?void 0:K.currentPlatform)||void 0===Q?void 0:Q.isPluginAvailable)||(Ve=>{const Qe=We.get(Ve);return!!(null!=Qe&&Qe.platforms.has(Te())||Ge(Ve))}),Ge=(null===(ne=null==K?void 0:K.currentPlatform)||void 0===ne?void 0:ne.getPluginHeader)||(Ve=>{var Qe;return null===(Qe=U.PluginHeaders)||void 0===Qe?void 0:Qe.find(Ze=>Ze.name===Ve)}),We=new Map,dt=(null===(V=null==K?void 0:K.currentPlatform)||void 0===V?void 0:V.registerPlugin)||((Ve,Qe={})=>{const Ze=We.get(Ve);if(Ze)return console.warn(`Capacitor plugin "${Ve}" already registered. Cannot register plugins twice.`),Ze.proxy;const at=Te(),et=Ge(Ve);let st;const Dt=function(){var hn=(0,j.A)(function*(){return!st&&at in Qe?st=st="function"==typeof Qe[at]?yield Qe[at]():Qe[at]:null!==X&&!st&&"web"in Qe&&(st=st="function"==typeof Qe.web?yield Qe.web():Qe.web),st});return function(){return hn.apply(this,arguments)}}(),Lt=hn=>{let At;const sn=(...$t)=>{const ze=Dt().then($e=>{const Pe=((hn,At)=>{var sn,$t;if(!et){if(hn)return null===($t=hn[At])||void 0===$t?void 0:$t.bind(hn);throw new w(`"${Ve}" plugin is not implemented on ${at}`,v.Unimplemented)}{const ze=null==et?void 0:et.methods.find($e=>At===$e.name);if(ze)return"promise"===ze.rtype?$e=>U.nativePromise(Ve,At.toString(),$e):($e,Pe)=>U.nativeCallback(Ve,At.toString(),$e,Pe);if(hn)return null===(sn=hn[At])||void 0===sn?void 0:sn.bind(hn)}})($e,hn);if(Pe){const qe=Pe(...$t);return At=null==qe?void 0:qe.remove,qe}throw new w(`"${Ve}.${hn}()" is not implemented on ${at}`,v.Unimplemented)});return"addListener"===hn&&(ze.remove=(0,j.A)(function*(){return At()})),ze};return sn.toString=()=>`${hn.toString()}() { [capacitor code] }`,Object.defineProperty(sn,"name",{value:hn,writable:!1,configurable:!1}),sn},an=Lt("addListener"),Bt=Lt("removeListener"),gn=(hn,At)=>{const sn=an({eventName:hn},At),$t=function(){var $e=(0,j.A)(function*(){const Pe=yield sn;Bt({eventName:hn,callbackId:Pe},At)});return function(){return $e.apply(this,arguments)}}(),ze=new Promise($e=>sn.then(()=>$e({remove:$t})));return ze.remove=(0,j.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield $t()}),ze},Yt=new Proxy({},{get(hn,At){switch(At){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return et?gn:an;case"removeListener":return Bt;default:return Lt(At)}}});return F[Ve]=Yt,We.set(Ve,{name:Ve,proxy:Yt,platforms:new Set([...Object.keys(Qe),...et?[at]:[]])}),Yt});return U.convertFileSrc||(U.convertFileSrc=Ve=>Ve),U.getPlatform=Te,U.handleError=Ve=>I.console.error(Ve),U.isNativePlatform=k,U.isPluginAvailable=me,U.pluginMethodNoop=(Ve,Qe,Ze)=>Promise.reject(`${Ze} does not have an implementation of "${Qe}".`),U.registerPlugin=dt,U.Exception=w,U.DEBUG=!!U.DEBUG,U.isLoggingEnabled=!!U.isLoggingEnabled,U.platform=U.getPlatform(),U.isNative=U.isNativePlatform(),U},E=(I=>I.Capacitor=y(I))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),s=E.registerPlugin;class d{constructor(z){this.listeners={},this.retainedEventArguments={},this.windowListeners={},z&&(console.warn(`Capacitor WebPlugin "${z.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=z)}addListener(z,R){var Q=this;let ne=!1;this.listeners[z]||(this.listeners[z]=[],ne=!0),this.listeners[z].push(R);const X=this.windowListeners[z];X&&!X.registered&&this.addWindowListener(X),ne&&this.sendRetainedArgumentsForEvent(z);const U=function(){var K=(0,j.A)(function*(){return Q.removeListener(z,R)});return function(){return K.apply(this,arguments)}}();return Promise.resolve({remove:U})}removeAllListeners(){var z=this;return(0,j.A)(function*(){z.listeners={};for(const R in z.windowListeners)z.removeWindowListener(z.windowListeners[R]);z.windowListeners={}})()}notifyListeners(z,R,Q){const ne=this.listeners[z];if(ne)ne.forEach(V=>V(R));else if(Q){let V=this.retainedEventArguments[z];V||(V=[]),V.push(R),this.retainedEventArguments[z]=V}}hasListeners(z){return!!this.listeners[z].length}registerWindowListener(z,R){this.windowListeners[R]={registered:!1,windowEventName:z,pluginEventName:R,handler:Q=>{this.notifyListeners(R,Q)}}}unimplemented(z="not implemented"){return new E.Exception(z,v.Unimplemented)}unavailable(z="not available"){return new E.Exception(z,v.Unavailable)}removeListener(z,R){var Q=this;return(0,j.A)(function*(){const ne=Q.listeners[z];if(!ne)return;const V=ne.indexOf(R);Q.listeners[z].splice(V,1),Q.listeners[z].length||Q.removeWindowListener(Q.windowListeners[z])})()}addWindowListener(z){window.addEventListener(z.windowEventName,z.handler),z.registered=!0}removeWindowListener(z){z&&(window.removeEventListener(z.windowEventName,z.handler),z.registered=!1)}sendRetainedArgumentsForEvent(z){const R=this.retainedEventArguments[z];R&&(delete this.retainedEventArguments[z],R.forEach(Q=>{this.notifyListeners(z,Q)}))}}const l=I=>encodeURIComponent(I).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),m=I=>I.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class c extends d{getCookies(){return(0,j.A)(function*(){const z=document.cookie,R={};return z.split(";").forEach(Q=>{if(Q.length<=0)return;let[ne,V]=Q.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");ne=m(ne).trim(),V=m(V).trim(),R[ne]=V}),R})()}setCookie(z){return(0,j.A)(function*(){try{const R=l(z.key),Q=l(z.value),ne=`; expires=${(z.expires||"").replace("expires=","")}`,V=(z.path||"/").replace("path=",""),X=null!=z.url&&z.url.length>0?`domain=${z.url}`:"";document.cookie=`${R}=${Q||""}${ne}; path=${V}; ${X};`}catch(R){return Promise.reject(R)}})()}deleteCookie(z){return(0,j.A)(function*(){try{document.cookie=`${z.key}=; Max-Age=0`}catch(R){return Promise.reject(R)}})()}clearCookies(){return(0,j.A)(function*(){try{const z=document.cookie.split(";")||[];for(const R of z)document.cookie=R.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(z){return Promise.reject(z)}})()}clearAllCookies(){var z=this;return(0,j.A)(function*(){try{yield z.clearCookies()}catch(R){return Promise.reject(R)}})()}}s("CapacitorCookies",{web:()=>new c});const _=function(){var I=(0,j.A)(function*(z){return new Promise((R,Q)=>{const ne=new FileReader;ne.onload=()=>{const V=ne.result;R(V.indexOf(",")>=0?V.split(",")[1]:V)},ne.onerror=V=>Q(V),ne.readAsDataURL(z)})});return function(R){return I.apply(this,arguments)}}();class T extends d{request(z){return(0,j.A)(function*(){const R=((I,z={})=>{const R=Object.assign({method:I.method||"GET",headers:I.headers},z),ne=((I={})=>{const z=Object.keys(I);return Object.keys(I).map(ne=>ne.toLocaleLowerCase()).reduce((ne,V,X)=>(ne[V]=I[z[X]],ne),{})})(I.headers)["content-type"]||"";if("string"==typeof I.data)R.body=I.data;else if(ne.includes("application/x-www-form-urlencoded")){const V=new URLSearchParams;for(const[X,U]of Object.entries(I.data||{}))V.set(X,U);R.body=V.toString()}else if(ne.includes("multipart/form-data")||I.data instanceof FormData){const V=new FormData;if(I.data instanceof FormData)I.data.forEach((U,F)=>{V.append(F,U)});else for(const U of Object.keys(I.data))V.append(U,I.data[U]);R.body=V;const X=new Headers(R.headers);X.delete("content-type"),R.headers=X}else(ne.includes("application/json")||"object"==typeof I.data)&&(R.body=JSON.stringify(I.data));return R})(z,z.webFetchExtra),Q=((I,z=!0)=>I?Object.entries(I).reduce((Q,ne)=>{const[V,X]=ne;let U,F;return Array.isArray(X)?(F="",X.forEach(K=>{U=z?encodeURIComponent(K):K,F+=`${V}=${U}&`}),F.slice(0,-1)):(U=z?encodeURIComponent(X):X,F=`${V}=${U}`),`${Q}&${F}`},"").substr(1):null)(z.params,z.shouldEncodeUrlParams),ne=Q?`${z.url}?${Q}`:z.url,V=yield fetch(ne,R),X=V.headers.get("content-type")||"";let F,K,{responseType:U="text"}=V.ok?z:{};switch(X.includes("application/json")&&(U="json"),U){case"arraybuffer":case"blob":K=yield V.blob(),F=yield _(K);break;case"json":F=yield V.json();break;default:F=yield V.text()}const ie={};return V.headers.forEach((Te,q)=>{ie[q]=Te}),{data:F,headers:ie,status:V.status,url:V.url}})()}get(z){var R=this;return(0,j.A)(function*(){return R.request(Object.assign(Object.assign({},z),{method:"GET"}))})()}post(z){var R=this;return(0,j.A)(function*(){return R.request(Object.assign(Object.assign({},z),{method:"POST"}))})()}put(z){var R=this;return(0,j.A)(function*(){return R.request(Object.assign(Object.assign({},z),{method:"PUT"}))})()}patch(z){var R=this;return(0,j.A)(function*(){return R.request(Object.assign(Object.assign({},z),{method:"PATCH"}))})()}delete(z){var R=this;return(0,j.A)(function*(){return R.request(Object.assign(Object.assign({},z),{method:"DELETE"}))})()}}s("CapacitorHttp",{web:()=>new T})},963:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{W:()=>ge});const ge=(0,fe(5083).F3)("LocalNotifications",{web:()=>fe.e(4224).then(fe.bind(fe,4224)).then(Ie=>new Ie.LocalNotificationsWeb)})},4442:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{L:()=>o,a:()=>oe,b:()=>H,c:()=>v,d:()=>w,g:()=>V}),fe(5531);const o="ionViewWillEnter",oe="ionViewDidEnter",H="ionViewWillLeave",v="ionViewDidLeave",w="ionViewWillUnload",V=X=>X.classList.contains("ion-page")?X:X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||X},5531:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{a:()=>g,c:()=>O,g:()=>w});class j{constructor(){this.m=new Map}reset(X){this.m=new Map(Object.entries(X))}get(X,U){const F=this.m.get(X);return void 0!==F?F:U}getBoolean(X,U=!1){const F=this.m.get(X);return void 0===F?U:"string"==typeof F?"true"===F:!!F}getNumber(X,U){const F=parseFloat(this.m.get(X));return isNaN(F)?void 0!==U?U:NaN:F}set(X,U){this.m.set(X,U)}}const O=new j,w=V=>y(V),g=(V,X)=>("string"==typeof V&&(X=V,V=void 0),w(V).includes(X)),y=(V=window)=>{if(typeof V>"u")return[];V.Ionic=V.Ionic||{};let X=V.Ionic.platforms;return null==X&&(X=V.Ionic.platforms=C(V),X.forEach(U=>V.document.documentElement.classList.add(`plt-${U}`))),X},C=V=>{const X=O.get("platform");return Object.keys(z).filter(U=>{const F=null==X?void 0:X[U];return"function"==typeof F?F(V):z[U](V)})},s=V=>!!(N(V,/iPad/i)||N(V,/Macintosh/i)&&c(V)),d=V=>N(V,/android|sink/i),c=V=>I(V,"(any-pointer:coarse)"),_=V=>M(V)||x(V),M=V=>!!(V.cordova||V.phonegap||V.PhoneGap),x=V=>{const X=V.Capacitor;return!(null==X||!X.isNative)},N=(V,X)=>X.test(V.navigator.userAgent),I=(V,X)=>{var U;return null===(U=V.matchMedia)||void 0===U?void 0:U.call(V,X).matches},z={ipad:s,iphone:V=>N(V,/iPhone/i),ios:V=>N(V,/iPhone|iPod/i)||s(V),android:d,phablet:V=>{const X=V.innerWidth,U=V.innerHeight,F=Math.min(X,U),K=Math.max(X,U);return F>390&&F<520&&K>620&&K<800},tablet:V=>{const X=V.innerWidth,U=V.innerHeight,F=Math.min(X,U),K=Math.max(X,U);return s(V)||(V=>d(V)&&!N(V,/mobile/i))(V)||F>460&&F<820&&K>780&&K<1400},cordova:M,capacitor:x,electron:V=>N(V,/electron/i),pwa:V=>{var X;return!!(null!==(X=V.matchMedia)&&void 0!==X&&X.call(V,"(display-mode: standalone)").matches||V.navigator.standalone)},mobile:c,mobileweb:V=>c(V)&&!_(V),desktop:V=>!c(V),hybrid:_}},9986:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{c:()=>oe});var j=fe(8476);let O;const Ie=(H,v,w)=>{const g=v.startsWith("animation")?(H=>(void 0===O&&(O=void 0===H.style.animationName&&void 0!==H.style.webkitAnimationName?"-webkit-":""),O))(H):"";H.style.setProperty(g+v,w)},o=(H=[],v)=>{if(void 0!==v){const w=Array.isArray(v)?v:[v];return[...H,...w]}return H},oe=H=>{let v,w,g,y,C,E,p,A,T,N,Q,s=[],u=[],a=[],d=!1,l={},m=[],c=[],h={},_=0,M=!1,x=!1,I=!0,z=!1,R=!0,ne=!1;const V=H,X=[],U=[],F=[],K=[],ie=[],Te=[],q=[],k=[],ee=[],me=[],xe=[],Ge="function"==typeof AnimationEffect||void 0!==j.w&&"function"==typeof j.w.AnimationEffect,Ye="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Ge,mt=()=>xe,Qe=(ce,ke)=>{const lt=ke.findIndex(Be=>Be.c===ce);lt>-1&&ke.splice(lt,1)},at=(ce,ke)=>((null!=ke&&ke.oneTimeCallback?U:X).push({c:ce,o:ke}),Q),st=()=>{Ye&&(xe.forEach(ce=>{ce.cancel()}),xe.length=0)},Dt=()=>{Te.forEach(ce=>{null!=ce&&ce.parentNode&&ce.parentNode.removeChild(ce)}),Te.length=0},Pe=()=>void 0!==C?C:p?p.getFill():"both",qe=()=>void 0!==A?A:void 0!==E?E:p?p.getDirection():"normal",Et=()=>M?"linear":void 0!==g?g:p?p.getEasing():"linear",Ft=()=>x?0:void 0!==T?T:void 0!==w?w:p?p.getDuration():0,Xt=()=>void 0!==y?y:p?p.getIterations():1,cn=()=>void 0!==N?N:void 0!==v?v:p?p.getDelay():0,fn=()=>{0!==_&&(_--,0===_&&((()=>{ee.forEach(ht=>ht()),me.forEach(ht=>ht());const ce=I?1:0,ke=m,lt=c,Be=h;K.forEach(ht=>{const Nt=ht.classList;ke.forEach(nn=>Nt.add(nn)),lt.forEach(nn=>Nt.remove(nn));for(const nn in Be)Be.hasOwnProperty(nn)&&Ie(ht,nn,Be[nn])}),T=void 0,A=void 0,N=void 0,X.forEach(ht=>ht.c(ce,Q)),U.forEach(ht=>ht.c(ce,Q)),U.length=0,R=!0,I&&(z=!0),I=!0})(),p&&p.animationFinish()))},Tn=()=>{(()=>{q.forEach(Be=>Be()),k.forEach(Be=>Be());const ce=u,ke=a,lt=l;K.forEach(Be=>{const ht=Be.classList;ce.forEach(Nt=>ht.add(Nt)),ke.forEach(Nt=>ht.remove(Nt));for(const Nt in lt)lt.hasOwnProperty(Nt)&&Ie(Be,Nt,lt[Nt])})})(),s.length>0&&Ye&&(K.forEach(ce=>{const ke=ce.animate(s,{id:V,delay:cn(),duration:Ft(),easing:Et(),iterations:Xt(),fill:Pe(),direction:qe()});ke.pause(),xe.push(ke)}),xe.length>0&&(xe[0].onfinish=()=>{fn()})),d=!0},An=ce=>{ce=Math.min(Math.max(ce,0),.9999),Ye&&xe.forEach(ke=>{ke.currentTime=ke.effect.getComputedTiming().delay+Ft()*ce,ke.pause()})},Ln=ce=>{xe.forEach(ke=>{ke.effect.updateTiming({delay:cn(),duration:Ft(),easing:Et(),iterations:Xt(),fill:Pe(),direction:qe()})}),void 0!==ce&&An(ce)},jn=(ce=!1,ke=!0,lt)=>(ce&&ie.forEach(Be=>{Be.update(ce,ke,lt)}),Ye&&Ln(lt),Q),Re=()=>{d&&(Ye?xe.forEach(ce=>{ce.pause()}):K.forEach(ce=>{Ie(ce,"animation-play-state","paused")}),ne=!0)},se=ce=>new Promise(ke=>{null!=ce&&ce.sync&&(x=!0,at(()=>x=!1,{oneTimeCallback:!0})),d||Tn(),z&&(Ye&&(An(0),Ln()),z=!1),R&&(_=ie.length+1,R=!1);const lt=()=>{Qe(Be,U),ke()},Be=()=>{Qe(lt,F),ke()};at(Be,{oneTimeCallback:!0}),((ce,ke)=>{F.push({c:ce,o:{oneTimeCallback:!0}})})(lt),ie.forEach(ht=>{ht.play()}),Ye?(xe.forEach(ce=>{ce.play()}),(0===s.length||0===K.length)&&fn()):fn(),ne=!1}),ye=(ce,ke)=>{const lt=s[0];return void 0===lt||void 0!==lt.offset&&0!==lt.offset?s=[{offset:0,[ce]:ke},...s]:lt[ce]=ke,Q};return Q={parentAnimation:p,elements:K,childAnimations:ie,id:V,animationFinish:fn,from:ye,to:(ce,ke)=>{const lt=s[s.length-1];return void 0===lt||void 0!==lt.offset&&1!==lt.offset?s=[...s,{offset:1,[ce]:ke}]:lt[ce]=ke,Q},fromTo:(ce,ke,lt)=>ye(ce,ke).to(ce,lt),parent:ce=>(p=ce,Q),play:se,pause:()=>(ie.forEach(ce=>{ce.pause()}),Re(),Q),stop:()=>{ie.forEach(ce=>{ce.stop()}),d&&(st(),d=!1),M=!1,x=!1,R=!0,A=void 0,T=void 0,N=void 0,_=0,z=!1,I=!0,ne=!1,F.forEach(ce=>ce.c(0,Q)),F.length=0},destroy:ce=>(ie.forEach(ke=>{ke.destroy(ce)}),(ce=>{st(),ce&&Dt()})(ce),K.length=0,ie.length=0,s.length=0,X.length=0,U.length=0,d=!1,R=!0,Q),keyframes:ce=>{const ke=s!==ce;return s=ce,ke&&(ce=>{Ye&&mt().forEach(ke=>{const lt=ke.effect;if(lt.setKeyframes)lt.setKeyframes(ce);else{const Be=new KeyframeEffect(lt.target,ce,lt.getTiming());ke.effect=Be}})})(s),Q},addAnimation:ce=>{if(null!=ce)if(Array.isArray(ce))for(const ke of ce)ke.parent(Q),ie.push(ke);else ce.parent(Q),ie.push(ce);return Q},addElement:ce=>{if(null!=ce)if(1===ce.nodeType)K.push(ce);else if(ce.length>=0)for(let ke=0;ke<ce.length;ke++)K.push(ce[ke]);else console.error("Invalid addElement value");return Q},update:jn,fill:ce=>(C=ce,jn(!0),Q),direction:ce=>(E=ce,jn(!0),Q),iterations:ce=>(y=ce,jn(!0),Q),duration:ce=>(!Ye&&0===ce&&(ce=1),w=ce,jn(!0),Q),easing:ce=>(g=ce,jn(!0),Q),delay:ce=>(v=ce,jn(!0),Q),getWebAnimations:mt,getKeyframes:()=>s,getFill:Pe,getDirection:qe,getDelay:cn,getIterations:Xt,getEasing:Et,getDuration:Ft,afterAddRead:ce=>(ee.push(ce),Q),afterAddWrite:ce=>(me.push(ce),Q),afterClearStyles:(ce=[])=>{for(const ke of ce)h[ke]="";return Q},afterStyles:(ce={})=>(h=ce,Q),afterRemoveClass:ce=>(c=o(c,ce),Q),afterAddClass:ce=>(m=o(m,ce),Q),beforeAddRead:ce=>(q.push(ce),Q),beforeAddWrite:ce=>(k.push(ce),Q),beforeClearStyles:(ce=[])=>{for(const ke of ce)l[ke]="";return Q},beforeStyles:(ce={})=>(l=ce,Q),beforeRemoveClass:ce=>(a=o(a,ce),Q),beforeAddClass:ce=>(u=o(u,ce),Q),onFinish:at,isRunning:()=>0!==_&&!ne,progressStart:(ce=!1,ke)=>(ie.forEach(lt=>{lt.progressStart(ce,ke)}),Re(),M=ce,d||Tn(),jn(!1,!0,ke),Q),progressStep:ce=>(ie.forEach(ke=>{ke.progressStep(ce)}),An(ce),Q),progressEnd:(ce,ke,lt)=>(M=!1,ie.forEach(Be=>{Be.progressEnd(ce,ke,lt)}),void 0!==lt&&(T=lt),z=!1,I=!0,0===ce?(A="reverse"===qe()?"normal":"reverse","reverse"===A&&(I=!1),Ye?(jn(),An(1-ke)):(N=(1-ke)*Ft()*-1,jn(!1,!1))):1===ce&&(Ye?(jn(),An(ke)):(N=ke*Ft()*-1,jn(!1,!1))),void 0!==ce&&!p&&se(),Q)}}},464:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{E:()=>g,I:()=>H,a:()=>j,s:()=>v});const j=y=>{try{if(y instanceof H)return y.value;if(!Ie()||"string"!=typeof y||""===y)return y;if(y.includes("onload="))return"";const C=document.createDocumentFragment(),E=document.createElement("div");C.appendChild(E),E.innerHTML=y,oe.forEach(d=>{const p=C.querySelectorAll(d);for(let l=p.length-1;l>=0;l--){const m=p[l];m.parentNode?m.parentNode.removeChild(m):C.removeChild(m);const c=ge(m);for(let h=0;h<c.length;h++)O(c[h])}});const s=ge(C);for(let d=0;d<s.length;d++)O(s[d]);const u=document.createElement("div");u.appendChild(C);const a=u.querySelector("div");return null!==a?a.innerHTML:u.innerHTML}catch(C){return console.error(C),""}},O=y=>{if(y.nodeType&&1!==y.nodeType)return;if(typeof NamedNodeMap<"u"&&!(y.attributes instanceof NamedNodeMap))return void y.remove();for(let E=y.attributes.length-1;E>=0;E--){const s=y.attributes.item(E),u=s.name;if(!o.includes(u.toLowerCase())){y.removeAttribute(u);continue}const a=s.value,d=y[u];(null!=a&&a.toLowerCase().includes("javascript:")||null!=d&&d.toLowerCase().includes("javascript:"))&&y.removeAttribute(u)}const C=ge(y);for(let E=0;E<C.length;E++)O(C[E])},ge=y=>null!=y.children?y.children:y.childNodes,Ie=()=>{var y;const C=window,E=null===(y=null==C?void 0:C.Ionic)||void 0===y?void 0:y.config;return!E||(E.get?E.get("sanitizerEnabled",!0):!0===E.sanitizerEnabled||void 0===E.sanitizerEnabled)},o=["class","id","href","src","name","slot"],oe=["script","style","iframe","meta","link","object","embed"];class H{constructor(C){this.value=C}}const v=y=>{const C=window,E=C.Ionic;if(!E||!E.config||"Object"===E.config.constructor.name)return C.Ionic=C.Ionic||{},C.Ionic.config=Object.assign(Object.assign({},C.Ionic.config),y),C.Ionic.config},g=!1},8621:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{C:()=>o,a:()=>ge,d:()=>Ie});var j=fe(467),O=fe(4920);const ge=function(){var oe=(0,j.A)(function*(H,v,w,g,y,C){var E;if(H)return H.attachViewToDom(v,w,y,g);if(!(C||"string"==typeof w||w instanceof HTMLElement))throw new Error("framework delegate is missing");const s="string"==typeof w?null===(E=v.ownerDocument)||void 0===E?void 0:E.createElement(w):w;return g&&g.forEach(u=>s.classList.add(u)),y&&Object.assign(s,y),v.appendChild(s),yield new Promise(u=>(0,O.c)(s,u)),s});return function(v,w,g,y,C,E){return oe.apply(this,arguments)}}(),Ie=(oe,H)=>{if(H){if(oe)return oe.removeViewFromDom(H.parentElement,H);H.remove()}return Promise.resolve()},o=()=>{let oe,H;return{attachViewToDom:function(){var g=(0,j.A)(function*(y,C,E={},s=[]){var u,a;let d;if(oe=y,C){const l="string"==typeof C?null===(u=oe.ownerDocument)||void 0===u?void 0:u.createElement(C):C;s.forEach(m=>l.classList.add(m)),Object.assign(l,E),oe.appendChild(l),d=l,yield new Promise(m=>(0,O.c)(l,m))}else if(oe.children.length>0&&("ION-MODAL"===oe.tagName||"ION-POPOVER"===oe.tagName)&&!(d=oe.children[0]).classList.contains("ion-delegate-host")){const m=null===(a=oe.ownerDocument)||void 0===a?void 0:a.createElement("div");m.classList.add("ion-delegate-host"),s.forEach(c=>m.classList.add(c)),m.append(...oe.children),oe.appendChild(m),d=m}const p=document.querySelector("ion-app")||document.body;return H=document.createComment("ionic teleport"),oe.parentNode.insertBefore(H,oe),p.appendChild(oe),null!=d?d:oe});return function(C,E){return g.apply(this,arguments)}}(),removeViewFromDom:()=>(oe&&H&&(H.parentNode.insertBefore(oe,H),H.remove()),Promise.resolve())}}},1970:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{B:()=>Ie,G:()=>o});class O{constructor(H,v,w,g,y){this.id=v,this.name=w,this.disableScroll=y,this.priority=1e6*g+v,this.ctrl=H}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const H=this.ctrl.capture(this.name,this.id,this.priority);return H&&this.disableScroll&&this.ctrl.disableScroll(this.id),H}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ge{constructor(H,v,w,g){this.id=v,this.disable=w,this.disableScroll=g,this.ctrl=H}block(){if(this.ctrl){if(this.disable)for(const H of this.disable)this.ctrl.disableGesture(H,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const H of this.disable)this.ctrl.enableGesture(H,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Ie="backdrop-no-scroll",o=new class j{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(H){var v;return new O(this,this.newID(),H.name,null!==(v=H.priority)&&void 0!==v?v:0,!!H.disableScroll)}createBlocker(H={}){return new ge(this,this.newID(),H.disable,!!H.disableScroll)}start(H,v,w){return this.canStart(H)?(this.requestedStart.set(v,w),!0):(this.requestedStart.delete(v),!1)}capture(H,v,w){if(!this.start(H,v,w))return!1;const g=this.requestedStart;let y=-1e4;if(g.forEach(C=>{y=Math.max(y,C)}),y===w){this.capturedId=v,g.clear();const C=new CustomEvent("ionGestureCaptured",{detail:{gestureName:H}});return document.dispatchEvent(C),!0}return g.delete(v),!1}release(H){this.requestedStart.delete(H),this.capturedId===H&&(this.capturedId=void 0)}disableGesture(H,v){let w=this.disabledGestures.get(H);void 0===w&&(w=new Set,this.disabledGestures.set(H,w)),w.add(v)}enableGesture(H,v){const w=this.disabledGestures.get(H);void 0!==w&&w.delete(v)}disableScroll(H){this.disabledScroll.add(H),1===this.disabledScroll.size&&document.body.classList.add(Ie)}enableScroll(H){this.disabledScroll.delete(H),0===this.disabledScroll.size&&document.body.classList.remove(Ie)}canStart(H){return!(void 0!==this.capturedId||this.isDisabled(H))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(H){const v=this.disabledGestures.get(H);return!!(v&&v.size>0)}newID(){return this.gestureId++,this.gestureId}}},8669:(wn,Wt,fe)=>{"use strict";fe.r(Wt),fe.d(Wt,{MENU_BACK_BUTTON_PRIORITY:()=>w,OVERLAY_BACK_BUTTON_PRIORITY:()=>v,blockHardwareBackButton:()=>oe,shouldUseCloseWatcher:()=>o,startHardwareBackButton:()=>H});var j=fe(467),O=fe(8476),ge=fe(4921);fe(8393);const o=()=>ge.c.get("experimentalCloseWatcher",!1)&&void 0!==O.w&&"CloseWatcher"in O.w,oe=()=>{document.addEventListener("backbutton",()=>{})},H=()=>{const g=document;let y=!1;const C=()=>{if(y)return;let E=0,s=[];const u=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(p,l){s.push({priority:p,handler:l,id:E++})}}});g.dispatchEvent(u);const a=function(){var p=(0,j.A)(function*(l){try{if(null!=l&&l.handler){const m=l.handler(d);null!=m&&(yield m)}}catch(m){console.error(m)}});return function(m){return p.apply(this,arguments)}}(),d=()=>{if(s.length>0){let p={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};s.forEach(l=>{l.priority>=p.priority&&(p=l)}),y=!0,s=s.filter(l=>l.id!==p.id),a(p).then(()=>y=!1)}};d()};if(o()){let E;const s=()=>{null==E||E.destroy(),E=new O.w.CloseWatcher,E.onclose=()=>{C(),s()}};s()}else g.addEventListener("backbutton",C)},v=100,w=99},4920:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{a:()=>v,b:()=>w,c:()=>ge,d:()=>s,e:()=>l,f:()=>E,g:()=>g,h:()=>o,i:()=>H,j:()=>u,k:()=>Ie,l:()=>C,m:()=>a,n:()=>p,o:()=>m,p:()=>d,r:()=>y,s:()=>c,t:()=>j});const j=(h,_=0)=>new Promise(M=>{O(h,_,M)}),O=(h,_=0,M)=>{let x,A;const T={passive:!0},I=()=>{x&&x()},z=R=>{(void 0===R||h===R.target)&&(I(),M(R))};return h&&(h.addEventListener("webkitTransitionEnd",z,T),h.addEventListener("transitionend",z,T),A=setTimeout(z,_+500),x=()=>{void 0!==A&&(clearTimeout(A),A=void 0),h.removeEventListener("webkitTransitionEnd",z,T),h.removeEventListener("transitionend",z,T)}),I},ge=(h,_)=>{h.componentOnReady?h.componentOnReady().then(M=>_(M)):y(()=>_(h))},Ie=h=>void 0!==h.componentOnReady,o=(h,_=[])=>{const M={};return _.forEach(x=>{h.hasAttribute(x)&&(null!==h.getAttribute(x)&&(M[x]=h.getAttribute(x)),h.removeAttribute(x))}),M},oe=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],H=(h,_)=>{let M=oe;return _&&_.length>0&&(M=M.filter(x=>!_.includes(x))),o(h,M)},v=(h,_,M,x)=>{var A;if(typeof window<"u"){const T=window,N=null===(A=null==T?void 0:T.Ionic)||void 0===A?void 0:A.config;if(N){const I=N.get("_ael");if(I)return I(h,_,M,x);if(N._ael)return N._ael(h,_,M,x)}}return h.addEventListener(_,M,x)},w=(h,_,M,x)=>{var A;if(typeof window<"u"){const T=window,N=null===(A=null==T?void 0:T.Ionic)||void 0===A?void 0:A.config;if(N){const I=N.get("_rel");if(I)return I(h,_,M,x);if(N._rel)return N._rel(h,_,M,x)}}return h.removeEventListener(_,M,x)},g=(h,_=h)=>h.shadowRoot||_,y=h=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(h):"function"==typeof requestAnimationFrame?requestAnimationFrame(h):setTimeout(h),C=h=>!!h.shadowRoot&&!!h.attachShadow,E=h=>{if(h.focus(),h.classList.contains("ion-focusable")){const _=h.closest("ion-app");_&&_.setFocus([h])}},s=(h,_,M,x,A)=>{if(h||C(_)){let T=_.querySelector("input.aux-input");T||(T=_.ownerDocument.createElement("input"),T.type="hidden",T.classList.add("aux-input"),_.appendChild(T)),T.disabled=A,T.name=M,T.value=x||""}},u=(h,_,M)=>Math.max(h,Math.min(_,M)),a=(h,_)=>{if(!h){const M="ASSERT: "+_;throw console.error(M),new Error(M)}},d=h=>{if(h){const _=h.changedTouches;if(_&&_.length>0){const M=_[0];return{x:M.clientX,y:M.clientY}}if(void 0!==h.pageX)return{x:h.pageX,y:h.pageY}}return{x:0,y:0}},p=h=>{const _="rtl"===document.dir;switch(h){case"start":return _;case"end":return!_;default:throw new Error(`"${h}" is not a valid value for [side]. Use "start" or "end" instead.`)}},l=(h,_)=>{const M=h._original||h;return{_original:h,emit:m(M.emit.bind(M),_)}},m=(h,_=0)=>{let M;return(...x)=>{clearTimeout(M),M=setTimeout(h,_,...x)}},c=(h,_)=>{if(null!=h||(h={}),null!=_||(_={}),h===_)return!0;const M=Object.keys(h);if(M.length!==Object.keys(_).length)return!1;for(const x of M)if(!(x in _)||h[x]!==_[x])return!1;return!0}},8607:(wn,Wt,fe)=>{"use strict";fe.r(Wt),fe.d(Wt,{GESTURE_CONTROLLER:()=>j.G,createGesture:()=>w});var j=fe(1970);const O=(E,s,u,a)=>{const d=ge(E)?{capture:!!a.capture,passive:!!a.passive}:!!a.capture;let p,l;return E.__zone_symbol__addEventListener?(p="__zone_symbol__addEventListener",l="__zone_symbol__removeEventListener"):(p="addEventListener",l="removeEventListener"),E[p](s,u,d),()=>{E[l](s,u,d)}},ge=E=>{if(void 0===Ie)try{const s=Object.defineProperty({},"passive",{get:()=>{Ie=!0}});E.addEventListener("optsTest",()=>{},s)}catch{Ie=!1}return!!Ie};let Ie;const H=E=>E instanceof Document?E:E.ownerDocument,w=E=>{let s=!1,u=!1,a=!0,d=!1;const p=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},E),l=p.canStart,m=p.onWillStart,c=p.onStart,h=p.onEnd,_=p.notCaptured,M=p.onMove,x=p.threshold,A=p.passive,T=p.blurOnStart,N={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},I=((E,s,u)=>{const a=u*(Math.PI/180),d="x"===E,p=Math.cos(a),l=s*s;let m=0,c=0,h=!1,_=0;return{start(M,x){m=M,c=x,_=0,h=!0},detect(M,x){if(!h)return!1;const A=M-m,T=x-c,N=A*A+T*T;if(N<l)return!1;const I=Math.sqrt(N),z=(d?A:T)/I;return _=z>p?1:z<-p?-1:0,h=!1,!0},isGesture:()=>0!==_,getDirection:()=>_}})(p.direction,p.threshold,p.maxAngle),z=j.G.createGesture({name:E.gestureName,priority:E.gesturePriority,disableScroll:E.disableScroll}),ne=()=>{s&&(d=!1,M&&M(N))},V=()=>!!z.capture()&&(s=!0,a=!1,N.startX=N.currentX,N.startY=N.currentY,N.startTime=N.currentTime,m?m(N).then(U):U(),!0),U=()=>{T&&(()=>{if(typeof document<"u"){const q=document.activeElement;null!=q&&q.blur&&q.blur()}})(),c&&c(N),a=!0},F=()=>{s=!1,u=!1,d=!1,a=!0,z.release()},K=q=>{const k=s,ee=a;if(F(),ee){if(g(N,q),k)return void(h&&h(N));_&&_(N)}},ie=((E,s,u,a,d)=>{let p,l,m,c,h,_,M,x=0;const A=X=>{x=Date.now()+2e3,s(X)&&(!l&&u&&(l=O(E,"touchmove",u,d)),m||(m=O(X.target,"touchend",N,d)),c||(c=O(X.target,"touchcancel",N,d)))},T=X=>{x>Date.now()||s(X)&&(!_&&u&&(_=O(H(E),"mousemove",u,d)),M||(M=O(H(E),"mouseup",I,d)))},N=X=>{z(),a&&a(X)},I=X=>{R(),a&&a(X)},z=()=>{l&&l(),m&&m(),c&&c(),l=m=c=void 0},R=()=>{_&&_(),M&&M(),_=M=void 0},Q=()=>{z(),R()},ne=(X=!0)=>{X?(p||(p=O(E,"touchstart",A,d)),h||(h=O(E,"mousedown",T,d))):(p&&p(),h&&h(),p=h=void 0,Q())};return{enable:ne,stop:Q,destroy:()=>{ne(!1),a=u=s=void 0}}})(p.el,q=>{const k=C(q);return!(u||!a||(y(q,N),N.startX=N.currentX,N.startY=N.currentY,N.startTime=N.currentTime=k,N.velocityX=N.velocityY=N.deltaX=N.deltaY=0,N.event=q,l&&!1===l(N))||(z.release(),!z.start()))&&(u=!0,0===x?V():(I.start(N.startX,N.startY),!0))},q=>{s?!d&&a&&(d=!0,g(N,q),requestAnimationFrame(ne)):(g(N,q),I.detect(N.currentX,N.currentY)&&(!I.isGesture()||!V())&&Te())},K,{capture:!1,passive:A}),Te=()=>{F(),ie.stop(),_&&_(N)};return{enable(q=!0){q||(s&&K(void 0),F()),ie.enable(q)},destroy(){z.destroy(),ie.destroy()}}},g=(E,s)=>{if(!s)return;const u=E.currentX,a=E.currentY,d=E.currentTime;y(s,E);const p=E.currentX,l=E.currentY,c=(E.currentTime=C(s))-d;if(c>0&&c<100){const _=(l-a)/c;E.velocityX=(p-u)/c*.7+.3*E.velocityX,E.velocityY=.7*_+.3*E.velocityY}E.deltaX=p-E.startX,E.deltaY=l-E.startY,E.event=s},y=(E,s)=>{let u=0,a=0;if(E){const d=E.changedTouches;if(d&&d.length>0){const p=d[0];u=p.clientX,a=p.clientY}else void 0!==E.pageX&&(u=E.pageX,a=E.pageY)}s.currentX=u,s.currentY=a},C=E=>E.timeStamp||Date.now()},6073:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{m:()=>E});var j=fe(467),O=fe(8476),ge=fe(8669),Ie=fe(4929),o=fe(4920),oe=fe(4921),H=fe(9986);const v=s=>(0,H.c)().duration(s?400:300),w=s=>{let u,a;const d=s.width+8,p=(0,H.c)(),l=(0,H.c)();s.isEndSide?(u=d+"px",a="0px"):(u=-d+"px",a="0px"),p.addElement(s.menuInnerEl).fromTo("transform",`translateX(${u})`,`translateX(${a})`);const c="ios"===(0,oe.b)(s),h=c?.2:.25;return l.addElement(s.backdropEl).fromTo("opacity",.01,h),v(c).addAnimation([p,l])},g=s=>{let u,a;const d=(0,oe.b)(s),p=s.width;s.isEndSide?(u=-p+"px",a=p+"px"):(u=p+"px",a=-p+"px");const l=(0,H.c)().addElement(s.menuInnerEl).fromTo("transform",`translateX(${a})`,"translateX(0px)"),m=(0,H.c)().addElement(s.contentEl).fromTo("transform","translateX(0px)",`translateX(${u})`),c=(0,H.c)().addElement(s.backdropEl).fromTo("opacity",.01,.32);return v("ios"===d).addAnimation([l,m,c])},y=s=>{const u=(0,oe.b)(s),a=s.width*(s.isEndSide?-1:1)+"px",d=(0,H.c)().addElement(s.contentEl).fromTo("transform","translateX(0px)",`translateX(${a})`);return v("ios"===u).addAnimation(d)},E=(()=>{const s=new Map,u=[],a=function(){var F=(0,j.A)(function*(K){const ie=yield _(K,!0);return!!ie&&ie.open()});return function(ie){return F.apply(this,arguments)}}(),d=function(){var F=(0,j.A)(function*(K){const ie=yield void 0!==K?_(K,!0):M();return void 0!==ie&&ie.close()});return function(ie){return F.apply(this,arguments)}}(),p=function(){var F=(0,j.A)(function*(K){const ie=yield _(K,!0);return!!ie&&ie.toggle()});return function(ie){return F.apply(this,arguments)}}(),l=function(){var F=(0,j.A)(function*(K,ie){const Te=yield _(ie);return Te&&(Te.disabled=!K),Te});return function(ie,Te){return F.apply(this,arguments)}}(),m=function(){var F=(0,j.A)(function*(K,ie){const Te=yield _(ie);return Te&&(Te.swipeGesture=K),Te});return function(ie,Te){return F.apply(this,arguments)}}(),c=function(){var F=(0,j.A)(function*(K){if(null!=K){const ie=yield _(K);return void 0!==ie&&ie.isOpen()}return void 0!==(yield M())});return function(ie){return F.apply(this,arguments)}}(),h=function(){var F=(0,j.A)(function*(K){const ie=yield _(K);return!!ie&&!ie.disabled});return function(ie){return F.apply(this,arguments)}}(),_=function(){var F=(0,j.A)(function*(K,ie=!1){if(yield U(),"start"===K||"end"===K){const q=u.filter(ee=>ee.side===K&&!ee.disabled);if(q.length>=1)return q.length>1&&ie&&(0,Ie.p)(`menuController queried for a menu on the "${K}" side, but ${q.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,q.map(ee=>ee.el)),q[0].el;const k=u.filter(ee=>ee.side===K);if(k.length>=1)return k.length>1&&ie&&(0,Ie.p)(`menuController queried for a menu on the "${K}" side, but ${k.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,k.map(ee=>ee.el)),k[0].el}else if(null!=K)return X(q=>q.menuId===K);return X(q=>!q.disabled)||(u.length>0?u[0].el:void 0)});return function(ie){return F.apply(this,arguments)}}(),M=function(){var F=(0,j.A)(function*(){return yield U(),Q()});return function(){return F.apply(this,arguments)}}(),x=function(){var F=(0,j.A)(function*(){return yield U(),ne()});return function(){return F.apply(this,arguments)}}(),A=function(){var F=(0,j.A)(function*(){return yield U(),V()});return function(){return F.apply(this,arguments)}}(),T=(F,K)=>{s.set(F,K)},z=function(){var F=(0,j.A)(function*(K,ie,Te){if(V())return!1;if(ie){const q=yield M();q&&K.el!==q&&(yield q.setOpen(!1,!1))}return K._setOpen(ie,Te)});return function(ie,Te,q){return F.apply(this,arguments)}}(),Q=()=>X(F=>F._isOpen),ne=()=>u.map(F=>F.el),V=()=>u.some(F=>F.isAnimating),X=F=>{const K=u.find(F);if(void 0!==K)return K.el},U=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(F=>new Promise(K=>(0,o.c)(F,K))));return T("reveal",y),T("push",g),T("overlay",w),null==O.d||O.d.addEventListener("ionBackButton",F=>{const K=Q();K&&F.detail.register(ge.MENU_BACK_BUTTON_PRIORITY,()=>K.close())}),{registerAnimation:T,get:_,getMenus:x,getOpen:M,isEnabled:h,swipeGesture:m,isAnimating:A,isOpen:c,enable:l,toggle:p,close:d,open:a,_getOpenSync:Q,_createAnimation:(F,K)=>{const ie=s.get(F);if(!ie)throw new Error("animation not registered");return ie(K)},_register:F=>{u.indexOf(F)<0&&u.push(F)},_unregister:F=>{const K=u.indexOf(F);K>-1&&u.splice(K,1)},_setOpen:z}})()},8393:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{B:()=>oe,a:()=>R,b:()=>Vi,c:()=>Pe,d:()=>Xt,e:()=>ee,f:()=>Bt,g:()=>qe,h:()=>Lt,i:()=>Ft,j:()=>vr,k:()=>xe,r:()=>w,w:()=>me});var j=fe(467);var Ie=Object.defineProperty,oe={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},H=new WeakMap,v=Ue=>H.get(Ue),w=(Ue,it)=>H.set(it.$lazyInstance$=Ue,it),y=(Ue,it)=>it in Ue,C=(Ue,it)=>(0,console.error)(Ue,it),E=new Map,u=new Map,a=[],c="s-id",h="sty-id",_="c-id",x="slot-fb{display:contents}slot-fb[hidden]{display:none}",A="http://www.w3.org/1999/xlink",T=typeof window<"u"?window:{},N=T.document||{head:{}},z={$flags$:0,$resourcesUrl$:"",jmp:Ue=>Ue(),raf:Ue=>requestAnimationFrame(Ue),ael:(Ue,it,Tt,Pt)=>Ue.addEventListener(it,Tt,Pt),rel:(Ue,it,Tt,Pt)=>Ue.removeEventListener(it,Tt,Pt),ce:(Ue,it)=>new CustomEvent(Ue,it)},R=Ue=>{Object.assign(z,Ue)},Q=!0,ne=(()=>{let Ue=!1;try{N.addEventListener("e",null,Object.defineProperty({},"passive",{get(){Ue=!0}}))}catch{}return Ue})(),X=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),U=!1,F=[],K=[],ie=(Ue,it)=>Tt=>{Ue.push(Tt),U||(U=!0,it&&4&z.$flags$?k(q):z.raf(q))},Te=Ue=>{for(let it=0;it<Ue.length;it++)try{Ue[it](performance.now())}catch(Tt){C(Tt)}Ue.length=0},q=()=>{Te(F),Te(K),(U=F.length>0)&&z.raf(q)},k=Ue=>Promise.resolve(void 0).then(Ue),ee=ie(F,!1),me=ie(K,!0),xe=Ue=>{const it=new URL(Ue,z.$resourcesUrl$);return it.origin!==T.location.origin?it.href:it.pathname},Ge={},ct=Ue=>"object"==(Ue=typeof Ue)||"function"===Ue;function dt(Ue){var it,Tt,Pt;return null!=(Pt=null==(Tt=null==(it=Ue.head)?void 0:it.querySelector('meta[name="csp-nonce"]'))?void 0:Tt.getAttribute("content"))?Pt:void 0}((Ue,it)=>{for(var Tt in it)Ie(Ue,Tt,{get:it[Tt],enumerable:!0})})({},{err:()=>Ze,map:()=>at,ok:()=>Qe,unwrap:()=>et,unwrapErr:()=>st});var Qe=Ue=>({isOk:!0,isErr:!1,value:Ue}),Ze=Ue=>({isOk:!1,isErr:!0,value:Ue});function at(Ue,it){if(Ue.isOk){const Tt=it(Ue.value);return Tt instanceof Promise?Tt.then(Pt=>Qe(Pt)):Qe(Tt)}if(Ue.isErr)return Ze(Ue.value);throw"should never get here"}var et=Ue=>{if(Ue.isOk)return Ue.value;throw Ue.value},st=Ue=>{if(Ue.isErr)return Ue.value;throw Ue.value},Lt=(Ue,it,...Tt)=>{let Pt=null,Zt=null,qt=null,mn=!1,_n=!1;const Cn=[],xn=Fn=>{for(let Gn=0;Gn<Fn.length;Gn++)Pt=Fn[Gn],Array.isArray(Pt)?xn(Pt):null!=Pt&&"boolean"!=typeof Pt&&((mn="function"!=typeof Ue&&!ct(Pt))&&(Pt=String(Pt)),mn&&_n?Cn[Cn.length-1].$text$+=Pt:Cn.push(mn?an(null,Pt):Pt),_n=mn)};if(xn(Tt),it){it.key&&(Zt=it.key),it.name&&(qt=it.name);{const Fn=it.className||it.class;Fn&&(it.class="object"!=typeof Fn?Fn:Object.keys(Fn).filter(Gn=>Fn[Gn]).join(" "))}}if("function"==typeof Ue)return Ue(null===it?{}:it,Cn,Yt);const Un=an(Ue,null);return Un.$attrs$=it,Cn.length>0&&(Un.$children$=Cn),Un.$key$=Zt,Un.$name$=qt,Un},an=(Ue,it)=>({$flags$:0,$tag$:Ue,$text$:it,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Bt={},Yt={forEach:(Ue,it)=>Ue.map(hn).forEach(it),map:(Ue,it)=>Ue.map(hn).map(it).map(At)},hn=Ue=>({vattrs:Ue.$attrs$,vchildren:Ue.$children$,vkey:Ue.$key$,vname:Ue.$name$,vtag:Ue.$tag$,vtext:Ue.$text$}),At=Ue=>{if("function"==typeof Ue.vtag){const Tt={...Ue.vattrs};return Ue.vkey&&(Tt.key=Ue.vkey),Ue.vname&&(Tt.name=Ue.vname),Lt(Ue.vtag,Tt,...Ue.vchildren||[])}const it=an(Ue.vtag,Ue.vtext);return it.$attrs$=Ue.vattrs,it.$children$=Ue.vchildren,it.$key$=Ue.vkey,it.$name$=Ue.vname,it},$t=(Ue,it,Tt,Pt,Zt,qt,mn)=>{let _n,Cn,xn,Un;if(1===qt.nodeType){for(_n=qt.getAttribute(_),_n&&(Cn=_n.split("."),(Cn[0]===mn||"0"===Cn[0])&&(xn={$flags$:0,$hostId$:Cn[0],$nodeId$:Cn[1],$depth$:Cn[2],$index$:Cn[3],$tag$:qt.tagName.toLowerCase(),$elm$:qt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},it.push(xn),qt.removeAttribute(_),Ue.$children$||(Ue.$children$=[]),Ue.$children$[xn.$index$]=xn,Ue=xn,Pt&&"0"===xn.$depth$&&(Pt[xn.$index$]=xn.$elm$))),Un=qt.childNodes.length-1;Un>=0;Un--)$t(Ue,it,Tt,Pt,Zt,qt.childNodes[Un],mn);if(qt.shadowRoot)for(Un=qt.shadowRoot.childNodes.length-1;Un>=0;Un--)$t(Ue,it,Tt,Pt,Zt,qt.shadowRoot.childNodes[Un],mn)}else if(8===qt.nodeType)Cn=qt.nodeValue.split("."),(Cn[1]===mn||"0"===Cn[1])&&(_n=Cn[0],xn={$flags$:0,$hostId$:Cn[1],$nodeId$:Cn[2],$depth$:Cn[3],$index$:Cn[4],$elm$:qt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===_n?(xn.$elm$=qt.nextSibling,xn.$elm$&&3===xn.$elm$.nodeType&&(xn.$text$=xn.$elm$.textContent,it.push(xn),qt.remove(),Ue.$children$||(Ue.$children$=[]),Ue.$children$[xn.$index$]=xn,Pt&&"0"===xn.$depth$&&(Pt[xn.$index$]=xn.$elm$))):xn.$hostId$===mn&&("s"===_n?(xn.$tag$="slot",qt["s-sn"]=Cn[5]?xn.$name$=Cn[5]:"",qt["s-sr"]=!0,Pt&&(xn.$elm$=N.createElement(xn.$tag$),xn.$name$&&xn.$elm$.setAttribute("name",xn.$name$),qt.parentNode.insertBefore(xn.$elm$,qt),qt.remove(),"0"===xn.$depth$&&(Pt[xn.$index$]=xn.$elm$)),Tt.push(xn),Ue.$children$||(Ue.$children$=[]),Ue.$children$[xn.$index$]=xn):"r"===_n&&(Pt?qt.remove():(Zt["s-cr"]=qt,qt["s-cn"]=!0))));else if(Ue&&"style"===Ue.$tag$){const Fn=an(null,qt.textContent);Fn.$elm$=qt,Fn.$index$="0",Ue.$children$=[Fn]}},ze=(Ue,it)=>{if(1===Ue.nodeType){let Tt=0;for(;Tt<Ue.childNodes.length;Tt++)ze(Ue.childNodes[Tt],it);if(Ue.shadowRoot)for(Tt=0;Tt<Ue.shadowRoot.childNodes.length;Tt++)ze(Ue.shadowRoot.childNodes[Tt],it)}else if(8===Ue.nodeType){const Tt=Ue.nodeValue.split(".");"o"===Tt[0]&&(it.set(Tt[1]+"."+Tt[2],Ue),Ue.nodeValue="",Ue["s-en"]=Tt[3])}},Pe=Ue=>a.push(Ue),qe=Ue=>v(Ue).$modeName$,Ft=Ue=>v(Ue).$hostElement$,Xt=(Ue,it,Tt)=>{const Pt=Ft(Ue);return{emit:Zt=>cn(Pt,it,{bubbles:!!(4&Tt),composed:!!(2&Tt),cancelable:!!(1&Tt),detail:Zt})}},cn=(Ue,it,Tt)=>{const Pt=z.ce(it,Tt);return Ue.dispatchEvent(Pt),Pt},Ut=new WeakMap,Vt=(Ue,it,Tt)=>{let Pt=u.get(Ue);X&&Tt?(Pt=Pt||new CSSStyleSheet,"string"==typeof Pt?Pt=it:Pt.replaceSync(it)):Pt=it,u.set(Ue,Pt)},Qt=(Ue,it,Tt)=>{var Pt;const Zt=ot(it,Tt),qt=u.get(Zt);if(Ue=11===Ue.nodeType?Ue:N,qt)if("string"==typeof qt){let _n,mn=Ut.get(Ue=Ue.head||Ue);if(mn||Ut.set(Ue,mn=new Set),!mn.has(Zt)){if(Ue.host&&(_n=Ue.querySelector(`[${h}="${Zt}"]`)))_n.innerHTML=qt;else{_n=N.createElement("style"),_n.innerHTML=qt;const Cn=null!=(Pt=z.$nonce$)?Pt:dt(N);null!=Cn&&_n.setAttribute("nonce",Cn),Ue.insertBefore(_n,Ue.querySelector("link"))}4&it.$flags$&&(_n.innerHTML+=x),mn&&mn.add(Zt)}}else Ue.adoptedStyleSheets.includes(qt)||(Ue.adoptedStyleSheets=[...Ue.adoptedStyleSheets,qt]);return Zt},ot=(Ue,it)=>"sc-"+(it&&32&Ue.$flags$?Ue.$tagName$+"-"+it:Ue.$tagName$),Ct=Ue=>Ue.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),vt=(Ue,it,Tt,Pt,Zt,qt)=>{if(Tt!==Pt){let mn=y(Ue,it),_n=it.toLowerCase();if("class"===it){const Cn=Ue.classList,xn=ln(Tt),Un=ln(Pt);Cn.remove(...xn.filter(Fn=>Fn&&!Un.includes(Fn))),Cn.add(...Un.filter(Fn=>Fn&&!xn.includes(Fn)))}else if("style"===it){for(const Cn in Tt)(!Pt||null==Pt[Cn])&&(Cn.includes("-")?Ue.style.removeProperty(Cn):Ue.style[Cn]="");for(const Cn in Pt)(!Tt||Pt[Cn]!==Tt[Cn])&&(Cn.includes("-")?Ue.style.setProperty(Cn,Pt[Cn]):Ue.style[Cn]=Pt[Cn])}else if("key"!==it)if("ref"===it)Pt&&Pt(Ue);else if(mn||"o"!==it[0]||"n"!==it[1]){const Cn=ct(Pt);if((mn||Cn&&null!==Pt)&&!Zt)try{if(Ue.tagName.includes("-"))Ue[it]=Pt;else{const Un=null==Pt?"":Pt;"list"===it?mn=!1:(null==Tt||Ue[it]!=Un)&&(Ue[it]=Un)}}catch{}let xn=!1;_n!==(_n=_n.replace(/^xlink\:?/,""))&&(it=_n,xn=!0),null==Pt||!1===Pt?(!1!==Pt||""===Ue.getAttribute(it))&&(xn?Ue.removeAttributeNS(A,it):Ue.removeAttribute(it)):(!mn||4&qt||Zt)&&!Cn&&(Pt=!0===Pt?"":Pt,xn?Ue.setAttributeNS(A,it,Pt):Ue.setAttribute(it,Pt))}else if(it="-"===it[2]?it.slice(3):y(T,_n)?_n.slice(2):_n[2]+it.slice(3),Tt||Pt){const Cn=it.endsWith(gt);it=it.replace(St,""),Tt&&z.rel(Ue,it,Tt,Cn),Pt&&z.ael(Ue,it,Pt,Cn)}}},Mt=/\s/,ln=Ue=>Ue?Ue.split(Mt):[],gt="Capture",St=new RegExp(gt+"$"),zt=(Ue,it,Tt)=>{const Pt=11===it.$elm$.nodeType&&it.$elm$.host?it.$elm$.host:it.$elm$,Zt=Ue&&Ue.$attrs$||Ge,qt=it.$attrs$||Ge;for(const mn of Rt(Object.keys(Zt)))mn in qt||vt(Pt,mn,Zt[mn],void 0,Tt,it.$flags$);for(const mn of Rt(Object.keys(qt)))vt(Pt,mn,Zt[mn],qt[mn],Tt,it.$flags$)};function Rt(Ue){return Ue.includes("ref")?[...Ue.filter(it=>"ref"!==it),"ref"]:Ue}var tn,fn,bn,Tn=!1,An=!1,Ln=!1,jn=!1,sr=(Ue,it,Tt,Pt)=>{var Zt;const qt=it.$children$[Tt];let _n,Cn,xn,mn=0;if(Tn||(Ln=!0,"slot"===qt.$tag$&&(tn&&Pt.classList.add(tn+"-s"),qt.$flags$|=qt.$children$?2:1)),null!==qt.$text$)_n=qt.$elm$=N.createTextNode(qt.$text$);else if(1&qt.$flags$)_n=qt.$elm$=N.createTextNode("");else{if(jn||(jn="svg"===qt.$tag$),_n=qt.$elm$=N.createElementNS(jn?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Tn&&2&qt.$flags$?"slot-fb":qt.$tag$),jn&&"foreignObject"===qt.$tag$&&(jn=!1),zt(null,qt,jn),(Ue=>null!=Ue)(tn)&&_n["s-si"]!==tn&&_n.classList.add(_n["s-si"]=tn),ht(_n,Pt),qt.$children$)for(mn=0;mn<qt.$children$.length;++mn)Cn=sr(Ue,qt,mn,_n),Cn&&_n.appendChild(Cn);"svg"===qt.$tag$?jn=!1:"foreignObject"===_n.tagName&&(jn=!0)}return _n["s-hn"]=bn,3&qt.$flags$&&(_n["s-sr"]=!0,_n["s-cr"]=fn,_n["s-sn"]=qt.$name$||"",_n["s-rf"]=null==(Zt=qt.$attrs$)?void 0:Zt.ref,xn=Ue&&Ue.$children$&&Ue.$children$[Tt],xn&&xn.$tag$===qt.$tag$&&Ue.$elm$&&Y(Ue.$elm$)),_n},Y=Ue=>{z.$flags$|=1;const it=Ue.closest(bn.toLowerCase());if(null!=it){const Tt=Array.from(it.childNodes).find(Zt=>Zt["s-cr"]),Pt=Array.from(Ue.childNodes);for(const Zt of Tt?Pt.reverse():Pt)null!=Zt["s-sh"]&&(lt(it,Zt,null!=Tt?Tt:null),Zt["s-sh"]=void 0,Ln=!0)}z.$flags$&=-2},be=(Ue,it)=>{z.$flags$|=1;const Tt=Array.from(Ue.childNodes);if(Ue["s-sr"]){let Pt=Ue;for(;Pt=Pt.nextSibling;)Pt&&Pt["s-sn"]===Ue["s-sn"]&&Pt["s-sh"]===bn&&Tt.push(Pt)}for(let Pt=Tt.length-1;Pt>=0;Pt--){const Zt=Tt[Pt];Zt["s-hn"]!==bn&&Zt["s-ol"]&&(lt(se(Zt),Zt,L(Zt)),Zt["s-ol"].remove(),Zt["s-ol"]=void 0,Zt["s-sh"]=void 0,Ln=!0),it&&be(Zt,it)}z.$flags$&=-2},Re=(Ue,it,Tt,Pt,Zt,qt)=>{let _n,mn=Ue["s-cr"]&&Ue["s-cr"].parentNode||Ue;for(mn.shadowRoot&&mn.tagName===bn&&(mn=mn.shadowRoot);Zt<=qt;++Zt)Pt[Zt]&&(_n=sr(null,Tt,Zt,Ue),_n&&(Pt[Zt].$elm$=_n,lt(mn,_n,L(it))))},b=(Ue,it,Tt)=>{for(let Pt=it;Pt<=Tt;++Pt){const Zt=Ue[Pt];if(Zt){const qt=Zt.$elm$;ke(Zt),qt&&(An=!0,qt["s-ol"]?qt["s-ol"].remove():be(qt,!0),qt.remove())}}},B=(Ue,it,Tt=!1)=>Ue.$tag$===it.$tag$&&("slot"===Ue.$tag$?Ue.$name$===it.$name$:!!Tt||Ue.$key$===it.$key$),L=Ue=>Ue&&Ue["s-ol"]||Ue,se=Ue=>(Ue["s-ol"]?Ue["s-ol"]:Ue).parentNode,W=(Ue,it,Tt=!1)=>{const Pt=it.$elm$=Ue.$elm$,Zt=Ue.$children$,qt=it.$children$,mn=it.$tag$,_n=it.$text$;let Cn;null===_n?(jn="svg"===mn||"foreignObject"!==mn&&jn,"slot"!==mn||Tn?zt(Ue,it,jn):Ue.$name$!==it.$name$&&(it.$elm$["s-sn"]=it.$name$||"",Y(it.$elm$.parentElement)),null!==Zt&&null!==qt?((Ue,it,Tt,Pt,Zt=!1)=>{let _r,wr,qt=0,mn=0,_n=0,Cn=0,xn=it.length-1,Un=it[0],Fn=it[xn],Gn=Pt.length-1,Yn=Pt[0],pr=Pt[Gn];for(;qt<=xn&&mn<=Gn;)if(null==Un)Un=it[++qt];else if(null==Fn)Fn=it[--xn];else if(null==Yn)Yn=Pt[++mn];else if(null==pr)pr=Pt[--Gn];else if(B(Un,Yn,Zt))W(Un,Yn,Zt),Un=it[++qt],Yn=Pt[++mn];else if(B(Fn,pr,Zt))W(Fn,pr,Zt),Fn=it[--xn],pr=Pt[--Gn];else if(B(Un,pr,Zt))("slot"===Un.$tag$||"slot"===pr.$tag$)&&be(Un.$elm$.parentNode,!1),W(Un,pr,Zt),lt(Ue,Un.$elm$,Fn.$elm$.nextSibling),Un=it[++qt],pr=Pt[--Gn];else if(B(Fn,Yn,Zt))("slot"===Un.$tag$||"slot"===pr.$tag$)&&be(Fn.$elm$.parentNode,!1),W(Fn,Yn,Zt),lt(Ue,Fn.$elm$,Un.$elm$),Fn=it[--xn],Yn=Pt[++mn];else{for(_n=-1,Cn=qt;Cn<=xn;++Cn)if(it[Cn]&&null!==it[Cn].$key$&&it[Cn].$key$===Yn.$key$){_n=Cn;break}_n>=0?(wr=it[_n],wr.$tag$!==Yn.$tag$?_r=sr(it&&it[mn],Tt,_n,Ue):(W(wr,Yn,Zt),it[_n]=void 0,_r=wr.$elm$),Yn=Pt[++mn]):(_r=sr(it&&it[mn],Tt,mn,Ue),Yn=Pt[++mn]),_r&&lt(se(Un.$elm$),_r,L(Un.$elm$))}qt>xn?Re(Ue,null==Pt[Gn+1]?null:Pt[Gn+1].$elm$,Tt,Pt,mn,Gn):mn>Gn&&b(it,qt,xn)})(Pt,Zt,it,qt,Tt):null!==qt?(null!==Ue.$text$&&(Pt.textContent=""),Re(Pt,null,it,qt,0,qt.length-1)):null!==Zt&&b(Zt,0,Zt.length-1),jn&&"svg"===mn&&(jn=!1)):(Cn=Pt["s-cr"])?Cn.parentNode.textContent=_n:Ue.$text$!==_n&&(Pt.data=_n)},ye=Ue=>{const it=Ue.childNodes;for(const Tt of it)if(1===Tt.nodeType){if(Tt["s-sr"]){const Pt=Tt["s-sn"];Tt.hidden=!1;for(const Zt of it)if(Zt!==Tt)if(Zt["s-hn"]!==Tt["s-hn"]||""!==Pt){if(1===Zt.nodeType&&(Pt===Zt.getAttribute("slot")||Pt===Zt["s-sn"])||3===Zt.nodeType&&Pt===Zt["s-sn"]){Tt.hidden=!0;break}}else if(1===Zt.nodeType||3===Zt.nodeType&&""!==Zt.textContent.trim()){Tt.hidden=!0;break}}ye(Tt)}},Me=[],Xe=Ue=>{let it,Tt,Pt;for(const Zt of Ue.childNodes){if(Zt["s-sr"]&&(it=Zt["s-cr"])&&it.parentNode){Tt=it.parentNode.childNodes;const qt=Zt["s-sn"];for(Pt=Tt.length-1;Pt>=0;Pt--)if(it=Tt[Pt],!(it["s-cn"]||it["s-nr"]||it["s-hn"]===Zt["s-hn"]||it["s-sh"]&&it["s-sh"]===Zt["s-hn"]))if(ce(it,qt)){let mn=Me.find(_n=>_n.$nodeToRelocate$===it);An=!0,it["s-sn"]=it["s-sn"]||qt,mn?(mn.$nodeToRelocate$["s-sh"]=Zt["s-hn"],mn.$slotRefNode$=Zt):(it["s-sh"]=Zt["s-hn"],Me.push({$slotRefNode$:Zt,$nodeToRelocate$:it})),it["s-sr"]&&Me.map(_n=>{ce(_n.$nodeToRelocate$,it["s-sn"])&&(mn=Me.find(Cn=>Cn.$nodeToRelocate$===it),mn&&!_n.$slotRefNode$&&(_n.$slotRefNode$=mn.$slotRefNode$))})}else Me.some(mn=>mn.$nodeToRelocate$===it)||Me.push({$nodeToRelocate$:it})}1===Zt.nodeType&&Xe(Zt)}},ce=(Ue,it)=>1===Ue.nodeType?null===Ue.getAttribute("slot")&&""===it||Ue.getAttribute("slot")===it:Ue["s-sn"]===it||""===it,ke=Ue=>{Ue.$attrs$&&Ue.$attrs$.ref&&Ue.$attrs$.ref(null),Ue.$children$&&Ue.$children$.map(ke)},lt=(Ue,it,Tt)=>{const Pt=null==Ue?void 0:Ue.insertBefore(it,Tt);return ht(it,Ue),Pt},Be=Ue=>{const it=[];return Ue&&it.push(...Ue["s-scs"]||[],Ue["s-si"],Ue["s-sc"],...Be(Ue.parentElement)),it},ht=(Ue,it,Tt=!1)=>{var Pt;if(Ue&&it&&1===Ue.nodeType){const Zt=new Set(Be(it).filter(Boolean));if(Zt.size&&(null==(Pt=Ue.classList)||Pt.add(...Ue["s-scs"]=[...Zt]),Ue["s-ol"]||Tt))for(const qt of Array.from(Ue.childNodes))ht(qt,Ue,!0)}},nn=(Ue,it)=>{it&&!Ue.$onRenderResolve$&&it["s-p"]&&it["s-p"].push(new Promise(Tt=>Ue.$onRenderResolve$=Tt))},dn=(Ue,it)=>{if(Ue.$flags$|=16,!(4&Ue.$flags$))return nn(Ue,Ue.$ancestorComponent$),me(()=>Sn(Ue,it));Ue.$flags$|=512},Sn=(Ue,it)=>{const Zt=Ue.$lazyInstance$;if(!Zt)throw new Error(`Can't render component <${Ue.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let qt;return it&&(Ue.$flags$|=256,Ue.$queuedListeners$&&(Ue.$queuedListeners$.map(([mn,_n])=>Sr(Zt,mn,_n)),Ue.$queuedListeners$=void 0),qt=Sr(Zt,"componentWillLoad")),qt=Wn(qt,()=>Sr(Zt,"componentWillRender")),Wn(qt,()=>yr(Ue,Zt,it))},Wn=(Ue,it)=>zn(Ue)?Ue.then(it).catch(Tt=>{console.error(Tt),it()}):it(),zn=Ue=>Ue instanceof Promise||Ue&&Ue.then&&"function"==typeof Ue.then,yr=function(){var Ue=(0,j.A)(function*(it,Tt,Pt){var Zt;const qt=it.$hostElement$,_n=qt["s-rc"];Pt&&(Ue=>{const it=Ue.$cmpMeta$,Tt=Ue.$hostElement$,Pt=it.$flags$,qt=Qt(Tt.shadowRoot?Tt.shadowRoot:Tt.getRootNode(),it,Ue.$modeName$);10&Pt&&(Tt["s-sc"]=qt,Tt.classList.add(qt+"-h"),2&Pt&&Tt.classList.add(qt+"-s"))})(it);Tr(it,Tt,qt,Pt),_n&&(_n.map(xn=>xn()),qt["s-rc"]=void 0);{const xn=null!=(Zt=qt["s-p"])?Zt:[],Un=()=>Jn(it);0===xn.length?Un():(Promise.all(xn).then(Un),it.$flags$|=4,xn.length=0)}});return function(Tt,Pt,Zt){return Ue.apply(this,arguments)}}(),Tr=(Ue,it,Tt,Pt)=>{try{it=it.render&&it.render(),Ue.$flags$&=-17,Ue.$flags$|=2,((Ue,it,Tt=!1)=>{var Pt,Zt,qt,mn,_n;const Cn=Ue.$hostElement$,xn=Ue.$cmpMeta$,Un=Ue.$vnode$||an(null,null),Fn=(Ue=>Ue&&Ue.$tag$===Bt)(it)?it:Lt(null,null,it);if(bn=Cn.tagName,xn.$attrsToReflect$&&(Fn.$attrs$=Fn.$attrs$||{},xn.$attrsToReflect$.map(([Gn,Yn])=>Fn.$attrs$[Yn]=Cn[Gn])),Tt&&Fn.$attrs$)for(const Gn of Object.keys(Fn.$attrs$))Cn.hasAttribute(Gn)&&!["key","ref","style","class"].includes(Gn)&&(Fn.$attrs$[Gn]=Cn[Gn]);if(Fn.$tag$=null,Fn.$flags$|=4,Ue.$vnode$=Fn,Fn.$elm$=Un.$elm$=Cn.shadowRoot||Cn,tn=Cn["s-sc"],Tn=!!(1&xn.$flags$),fn=Cn["s-cr"],An=!1,W(Un,Fn,Tt),z.$flags$|=1,Ln){Xe(Fn.$elm$);for(const Gn of Me){const Yn=Gn.$nodeToRelocate$;if(!Yn["s-ol"]){const pr=N.createTextNode("");pr["s-nr"]=Yn,lt(Yn.parentNode,Yn["s-ol"]=pr,Yn)}}for(const Gn of Me){const Yn=Gn.$nodeToRelocate$,pr=Gn.$slotRefNode$;if(pr){const _r=pr.parentNode;let wr=pr.nextSibling;if(wr&&1===wr.nodeType){let Fr=null==(Pt=Yn["s-ol"])?void 0:Pt.previousSibling;for(;Fr;){let Nr=null!=(Zt=Fr["s-nr"])?Zt:null;if(Nr&&Nr["s-sn"]===Yn["s-sn"]&&_r===Nr.parentNode){for(Nr=Nr.nextSibling;Nr===Yn||null!=Nr&&Nr["s-sr"];)Nr=null==Nr?void 0:Nr.nextSibling;if(!Nr||!Nr["s-nr"]){wr=Nr;break}}Fr=Fr.previousSibling}}(!wr&&_r!==Yn.parentNode||Yn.nextSibling!==wr)&&Yn!==wr&&(lt(_r,Yn,wr),1===Yn.nodeType&&(Yn.hidden=null!=(qt=Yn["s-ih"])&&qt)),Yn&&"function"==typeof pr["s-rf"]&&pr["s-rf"](Yn)}else 1===Yn.nodeType&&(Tt&&(Yn["s-ih"]=null!=(mn=Yn.hidden)&&mn),Yn.hidden=!0)}}if(An&&ye(Fn.$elm$),z.$flags$&=-2,Me.length=0,2&xn.$flags$)for(const Gn of Fn.$elm$.childNodes)Gn["s-hn"]!==bn&&!Gn["s-sh"]&&(Tt&&null==Gn["s-ih"]&&(Gn["s-ih"]=null!=(_n=Gn.hidden)&&_n),Gn.hidden=!0);fn=void 0})(Ue,it,Pt)}catch(Zt){C(Zt,Ue.$hostElement$)}return null},Jn=Ue=>{const Tt=Ue.$hostElement$,Zt=Ue.$lazyInstance$,qt=Ue.$ancestorComponent$;Sr(Zt,"componentDidRender"),64&Ue.$flags$?Sr(Zt,"componentDidUpdate"):(Ue.$flags$|=64,Lr(Tt),Sr(Zt,"componentDidLoad"),Ue.$onReadyResolve$(Tt),qt||Vr()),Ue.$onInstanceResolve$(Tt),Ue.$onRenderResolve$&&(Ue.$onRenderResolve$(),Ue.$onRenderResolve$=void 0),512&Ue.$flags$&&k(()=>dn(Ue,!1)),Ue.$flags$&=-517},vr=Ue=>{{const it=v(Ue),Tt=it.$hostElement$.isConnected;return Tt&&2==(18&it.$flags$)&&dn(it,!1),Tt}},Vr=Ue=>{Lr(N.documentElement),k(()=>cn(T,"appload",{detail:{namespace:"ionic"}}))},Sr=(Ue,it,Tt)=>{if(Ue&&Ue[it])try{return Ue[it](Tt)}catch(Pt){C(Pt)}},Lr=Ue=>Ue.classList.add(("hydrated","hydrated")),wo=(Ue,it,Tt)=>{var Pt,Zt;const qt=Ue.prototype;if(it.$members$||it.$watchers$||Ue.watchers){Ue.watchers&&!it.$watchers$&&(it.$watchers$=Ue.watchers);const mn=Object.entries(null!=(Pt=it.$members$)?Pt:{});if(mn.map(([_n,[Cn]])=>{31&Cn||2&Tt&&32&Cn?Object.defineProperty(qt,_n,{get(){return((Ue,it)=>v(this).$instanceValues$.get(it))(0,_n)},set(xn){((Ue,it,Tt,Pt)=>{const Zt=v(Ue);if(!Zt)throw new Error(`Couldn't find host element for "${Pt.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const qt=Zt.$hostElement$,mn=Zt.$instanceValues$.get(it),_n=Zt.$flags$,Cn=Zt.$lazyInstance$;Tt=((Ue,it)=>null==Ue||ct(Ue)?Ue:4&it?"false"!==Ue&&(""===Ue||!!Ue):2&it?parseFloat(Ue):1&it?String(Ue):Ue)(Tt,Pt.$members$[it][0]);const xn=Number.isNaN(mn)&&Number.isNaN(Tt);if((!(8&_n)||void 0===mn)&&Tt!==mn&&!xn&&(Zt.$instanceValues$.set(it,Tt),Cn)){if(Pt.$watchers$&&128&_n){const Fn=Pt.$watchers$[it];Fn&&Fn.map(Gn=>{try{Cn[Gn](Tt,mn,it)}catch(Yn){C(Yn,qt)}})}2==(18&_n)&&dn(Zt,!1)}})(this,_n,xn,it)},configurable:!0,enumerable:!0}):1&Tt&&64&Cn&&Object.defineProperty(qt,_n,{value(...xn){var Un;const Fn=v(this);return null==(Un=null==Fn?void 0:Fn.$onInstancePromise$)?void 0:Un.then(()=>{var Gn;return null==(Gn=Fn.$lazyInstance$)?void 0:Gn[_n](...xn)})}})}),1&Tt){const _n=new Map;qt.attributeChangedCallback=function(Cn,xn,Un){z.jmp(()=>{var Fn;const Gn=_n.get(Cn);if(this.hasOwnProperty(Gn))Un=this[Gn],delete this[Gn];else{if(qt.hasOwnProperty(Gn)&&"number"==typeof this[Gn]&&this[Gn]==Un)return;if(null==Gn){const Yn=v(this),pr=null==Yn?void 0:Yn.$flags$;if(pr&&!(8&pr)&&128&pr&&Un!==xn){const _r=Yn.$lazyInstance$,wr=null==(Fn=it.$watchers$)?void 0:Fn[Cn];null==wr||wr.forEach(Fr=>{null!=_r[Fr]&&_r[Fr].call(_r,Un,xn,Cn)})}return}}this[Gn]=(null!==Un||"boolean"!=typeof this[Gn])&&Un})},Ue.observedAttributes=Array.from(new Set([...Object.keys(null!=(Zt=it.$watchers$)?Zt:{}),...mn.filter(([Cn,xn])=>15&xn[0]).map(([Cn,xn])=>{var Un;const Fn=xn[1]||Cn;return _n.set(Fn,Cn),512&xn[0]&&(null==(Un=it.$attrsToReflect$)||Un.push([Cn,Fn])),Fn})]))}}return Ue},ko=function(){var Ue=(0,j.A)(function*(it,Tt,Pt,Zt){let qt;if(!(32&Tt.$flags$)){if(Tt.$flags$|=32,Pt.$lazyBundleId$){const xn=((Ue,it,Tt)=>{const Pt=Ue.$tagName$.replace(/-/g,"_"),Zt=Ue.$lazyBundleId$;if(!Zt)return;const qt=E.get(Zt);return qt?qt[Pt]:fe(8996)(`./${Zt}.entry.js`).then(mn=>(E.set(Zt,mn),mn[Pt]),C)})(Pt);if(xn&&"then"in xn){const Fn=()=>{};qt=yield xn,Fn()}else qt=xn;if(!qt)throw new Error(`Constructor for "${Pt.$tagName$}#${Tt.$modeName$}" was not found`);qt.isProxied||(Pt.$watchers$=qt.watchers,wo(qt,Pt,2),qt.isProxied=!0);const Un=()=>{};Tt.$flags$|=8;try{new qt(Tt)}catch(Fn){C(Fn)}Tt.$flags$&=-9,Tt.$flags$|=128,Un(),No(Tt.$lazyInstance$)}else qt=it.constructor,customElements.whenDefined(it.localName).then(()=>Tt.$flags$|=128);if(qt&&qt.style){let xn;"string"==typeof qt.style?xn=qt.style:"string"!=typeof qt.style&&(Tt.$modeName$=(Ue=>a.map(it=>it(Ue)).find(it=>!!it))(it),Tt.$modeName$&&(xn=qt.style[Tt.$modeName$]));const Un=ot(Pt,Tt.$modeName$);if(!u.has(Un)){const Fn=()=>{};Vt(Un,xn,!!(1&Pt.$flags$)),Fn()}}}const mn=Tt.$ancestorComponent$,_n=()=>dn(Tt,!0);mn&&mn["s-rc"]?mn["s-rc"].push(_n):_n()});return function(Tt,Pt,Zt,qt){return Ue.apply(this,arguments)}}(),No=Ue=>{Sr(Ue,"connectedCallback")},Wr=Ue=>{const it=Ue["s-cr"]=N.createComment("");it["s-cn"]=!0,lt(Ue,it,Ue.firstChild)},Vo=Ue=>{Sr(Ue,"disconnectedCallback")},oo=function(){var Ue=(0,j.A)(function*(it){if(!(1&z.$flags$)){const Tt=v(it);Tt.$rmListeners$&&(Tt.$rmListeners$.map(Pt=>Pt()),Tt.$rmListeners$=void 0),null!=Tt&&Tt.$lazyInstance$?Vo(Tt.$lazyInstance$):null!=Tt&&Tt.$onReadyPromise$&&Tt.$onReadyPromise$.then(()=>Vo(Tt.$lazyInstance$))}});return function(Tt){return Ue.apply(this,arguments)}}(),vi=Ue=>{const it=Ue.cloneNode;Ue.cloneNode=function(Tt){const Pt=this,Zt=Pt.shadowRoot&&Q,qt=it.call(Pt,!!Zt&&Tt);if(!Zt&&Tt){let _n,Cn,mn=0;const xn=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;mn<Pt.childNodes.length;mn++)_n=Pt.childNodes[mn]["s-nr"],Cn=xn.every(Un=>!Pt.childNodes[mn][Un]),_n&&(qt.__appendChild?qt.__appendChild(_n.cloneNode(!0)):qt.appendChild(_n.cloneNode(!0))),Cn&&qt.appendChild(Pt.childNodes[mn].cloneNode(!0))}return qt}},_e=Ue=>{Ue.__appendChild=Ue.appendChild,Ue.appendChild=function(it){const Tt=it["s-sn"]=Yo(it),Pt=Ai(this.childNodes,Tt,this.tagName);if(Pt){const Zt=Mi(Pt,Tt),qt=Zt[Zt.length-1],mn=lt(qt.parentNode,it,qt.nextSibling);return ye(this),mn}return this.__appendChild(it)}},Ke=Ue=>{Ue.__removeChild=Ue.removeChild,Ue.removeChild=function(it){if(it&&typeof it["s-sn"]<"u"){const Tt=Ai(this.childNodes,it["s-sn"],this.tagName);if(Tt){const Zt=Mi(Tt,it["s-sn"]).find(qt=>qt===it);if(Zt)return Zt.remove(),void ye(this)}}return this.__removeChild(it)}},pt=Ue=>{const it=Ue.prepend;Ue.prepend=function(...Tt){Tt.forEach(Pt=>{"string"==typeof Pt&&(Pt=this.ownerDocument.createTextNode(Pt));const Zt=Pt["s-sn"]=Yo(Pt),qt=Ai(this.childNodes,Zt,this.tagName);if(qt){const mn=document.createTextNode("");mn["s-nr"]=Pt,qt["s-cr"].parentNode.__appendChild(mn),Pt["s-ol"]=mn;const Cn=Mi(qt,Zt)[0];return lt(Cn.parentNode,Pt,Cn.nextSibling)}return 1===Pt.nodeType&&Pt.getAttribute("slot")&&(Pt.hidden=!0),it.call(this,Pt)})}},Se=Ue=>{Ue.append=function(...it){it.forEach(Tt=>{"string"==typeof Tt&&(Tt=this.ownerDocument.createTextNode(Tt)),this.appendChild(Tt)})}},yt=Ue=>{const it=Ue.insertAdjacentHTML;Ue.insertAdjacentHTML=function(Tt,Pt){if("afterbegin"!==Tt&&"beforeend"!==Tt)return it.call(this,Tt,Pt);const Zt=this.ownerDocument.createElement("_");let qt;if(Zt.innerHTML=Pt,"afterbegin"===Tt)for(;qt=Zt.firstChild;)this.prepend(qt);else if("beforeend"===Tt)for(;qt=Zt.firstChild;)this.append(qt)}},Jt=Ue=>{Ue.insertAdjacentText=function(it,Tt){this.insertAdjacentHTML(it,Tt)}},fr=Ue=>{const it=Ue.insertAdjacentElement;Ue.insertAdjacentElement=function(Tt,Pt){return"afterbegin"!==Tt&&"beforeend"!==Tt?it.call(this,Tt,Pt):"afterbegin"===Tt?(this.prepend(Pt),Pt):("beforeend"===Tt&&this.append(Pt),Pt)}},Gr=Ue=>{const it=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(Ue,"__textContent",it),Object.defineProperty(Ue,"textContent",{get(){return" "+ti(this.childNodes).map(Zt=>{var qt,mn;const _n=[];let Cn=Zt.nextSibling;for(;Cn&&Cn["s-sn"]===Zt["s-sn"];)(3===Cn.nodeType||1===Cn.nodeType)&&_n.push(null!=(mn=null==(qt=Cn.textContent)?void 0:qt.trim())?mn:""),Cn=Cn.nextSibling;return _n.filter(xn=>""!==xn).join(" ")}).filter(Zt=>""!==Zt).join(" ")+" "},set(Tt){ti(this.childNodes).forEach(Zt=>{let qt=Zt.nextSibling;for(;qt&&qt["s-sn"]===Zt["s-sn"];){const mn=qt;qt=qt.nextSibling,mn.remove()}if(""===Zt["s-sn"]){const mn=this.ownerDocument.createTextNode(Tt);mn["s-sn"]="",lt(Zt.parentElement,mn,Zt.nextSibling)}else Zt.remove()})}})},mo=(Ue,it)=>{class Tt extends Array{item(Zt){return this[Zt]}}if(8&it.$flags$){const Pt=Ue.__lookupGetter__("childNodes");Object.defineProperty(Ue,"children",{get(){return this.childNodes.map(Zt=>1===Zt.nodeType)}}),Object.defineProperty(Ue,"childElementCount",{get:()=>Ue.children.length}),Object.defineProperty(Ue,"childNodes",{get(){const Zt=Pt.call(this);if(!(1&z.$flags$)&&2&v(this).$flags$){const qt=new Tt;for(let mn=0;mn<Zt.length;mn++){const _n=Zt[mn]["s-nr"];_n&&qt.push(_n)}return qt}return Tt.from(Zt)}})}},ti=Ue=>{const it=[];for(const Tt of Array.from(Ue))Tt["s-sr"]&&it.push(Tt),it.push(...ti(Tt.childNodes));return it},Yo=Ue=>Ue["s-sn"]||1===Ue.nodeType&&Ue.getAttribute("slot")||"",Ai=(Ue,it,Tt)=>{let Zt,Pt=0;for(;Pt<Ue.length;Pt++)if(Zt=Ue[Pt],Zt["s-sr"]&&Zt["s-sn"]===it&&Zt["s-hn"]===Tt||(Zt=Ai(Zt.childNodes,it,Tt),Zt))return Zt;return null},Mi=(Ue,it)=>{const Tt=[Ue];for(;(Ue=Ue.nextSibling)&&Ue["s-sn"]===it;)Tt.push(Ue);return Tt},Vi=(Ue,it={})=>{var Tt;const Zt=[],qt=it.exclude||[],mn=T.customElements,_n=N.head,Cn=_n.querySelector("meta[charset]"),xn=N.createElement("style"),Un=[],Fn=N.querySelectorAll(`[${h}]`);let Gn,Yn=!0,pr=0;for(Object.assign(z,it),z.$resourcesUrl$=new URL(it.resourcesUrl||"./",N.baseURI).href,z.$flags$|=2;pr<Fn.length;pr++)Vt(Fn[pr].getAttribute(h),Ct(Fn[pr].innerHTML),!0);let _r=!1;if(Ue.map(wr=>{wr[1].map(Fr=>{var Nr;const Pn={$flags$:Fr[0],$tagName$:Fr[1],$members$:Fr[2],$listeners$:Fr[3]};4&Pn.$flags$&&(_r=!0),Pn.$members$=Fr[2],Pn.$listeners$=Fr[3],Pn.$attrsToReflect$=[],Pn.$watchers$=null!=(Nr=Fr[4])?Nr:{};const go=Pn.$tagName$,Lo=class extends HTMLElement{constructor(Rr){if(super(Rr),this.hasRegisteredEventListeners=!1,((Ue,it)=>{const Tt={$flags$:0,$hostElement$:Ue,$cmpMeta$:it,$instanceValues$:new Map};Tt.$onInstancePromise$=new Promise(Pt=>Tt.$onInstanceResolve$=Pt),Tt.$onReadyPromise$=new Promise(Pt=>Tt.$onReadyResolve$=Pt),Ue["s-p"]=[],Ue["s-rc"]=[],H.set(Ue,Tt)})(Rr=this,Pn),1&Pn.$flags$)if(Rr.shadowRoot){if("open"!==Rr.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Pn.$tagName$}! Mode is set to ${Rr.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Rr.attachShadow({mode:"open",delegatesFocus:!!(16&Pn.$flags$)})}connectedCallback(){const Rr=v(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Ii(this,Rr,Pn.$listeners$)),Gn&&(clearTimeout(Gn),Gn=null),Yn?Un.push(this):z.jmp(()=>(Ue=>{if(!(1&z.$flags$)){const it=v(Ue),Tt=it.$cmpMeta$,Pt=()=>{};if(1&it.$flags$)Ii(Ue,it,Tt.$listeners$),null!=it&&it.$lazyInstance$?No(it.$lazyInstance$):null!=it&&it.$onReadyPromise$&&it.$onReadyPromise$.then(()=>No(it.$lazyInstance$));else{let Zt;if(it.$flags$|=1,Zt=Ue.getAttribute(c),Zt){if(1&Tt.$flags$){const qt=Qt(Ue.shadowRoot,Tt,Ue.getAttribute("s-mode"));Ue.classList.remove(qt+"-h",qt+"-s")}((Ue,it,Tt,Pt)=>{const qt=Ue.shadowRoot,mn=[],Cn=qt?[]:null,xn=Pt.$vnode$=an(it,null);z.$orgLocNodes$||ze(N.body,z.$orgLocNodes$=new Map),Ue[c]=Tt,Ue.removeAttribute(c),$t(xn,mn,[],Cn,Ue,Ue,Tt),mn.map(Un=>{const Fn=Un.$hostId$+"."+Un.$nodeId$,Gn=z.$orgLocNodes$.get(Fn),Yn=Un.$elm$;Gn&&""===Gn["s-en"]&&Gn.parentNode.insertBefore(Yn,Gn.nextSibling),qt||(Yn["s-hn"]=it,Gn&&(Yn["s-ol"]=Gn,Yn["s-ol"]["s-nr"]=Yn)),z.$orgLocNodes$.delete(Fn)}),qt&&Cn.map(Un=>{Un&&qt.appendChild(Un)})})(Ue,Tt.$tagName$,Zt,it)}Zt||12&Tt.$flags$&&Wr(Ue);{let qt=Ue;for(;qt=qt.parentNode||qt.host;)if(1===qt.nodeType&&qt.hasAttribute("s-id")&&qt["s-p"]||qt["s-p"]){nn(it,it.$ancestorComponent$=qt);break}}Tt.$members$&&Object.entries(Tt.$members$).map(([qt,[mn]])=>{if(31&mn&&Ue.hasOwnProperty(qt)){const _n=Ue[qt];delete Ue[qt],Ue[qt]=_n}}),ko(Ue,it,Tt)}Pt()}})(this))}disconnectedCallback(){z.jmp(()=>oo(this))}componentOnReady(){return v(this).$onReadyPromise$}};2&Pn.$flags$&&((Ue,it)=>{vi(Ue),_e(Ue),Se(Ue),pt(Ue),fr(Ue),yt(Ue),Jt(Ue),Gr(Ue),mo(Ue,it),Ke(Ue)})(Lo.prototype,Pn),Pn.$lazyBundleId$=wr[0],!qt.includes(go)&&!mn.get(go)&&(Zt.push(go),mn.define(go,wo(Lo,Pn,1)))})}),Zt.length>0&&(_r&&(xn.textContent+=x),xn.textContent+=Zt.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",xn.innerHTML.length)){xn.setAttribute("data-styles","");const wr=null!=(Tt=z.$nonce$)?Tt:dt(N);null!=wr&&xn.setAttribute("nonce",wr),_n.insertBefore(xn,Cn?Cn.nextSibling:_n.firstChild)}Yn=!1,Un.length?Un.map(wr=>wr.connectedCallback()):z.jmp(()=>Gn=setTimeout(Vr,30))},Ii=(Ue,it,Tt,Pt)=>{Tt&&Tt.map(([Zt,qt,mn])=>{const _n=Ao(Ue,Zt),Cn=Eo(it,mn),xn=Yr(Zt);z.ael(_n,qt,Cn,xn),(it.$rmListeners$=it.$rmListeners$||[]).push(()=>z.rel(_n,qt,Cn,xn))})},Eo=(Ue,it)=>Tt=>{var Pt;try{256&Ue.$flags$?null==(Pt=Ue.$lazyInstance$)||Pt[it](Tt):(Ue.$queuedListeners$=Ue.$queuedListeners$||[]).push([it,Tt])}catch(Zt){C(Zt)}},Ao=(Ue,it)=>4&it?N:8&it?T:16&it?N.body:Ue,Yr=Ue=>ne?{passive:!!(1&Ue),capture:!!(2&Ue)}:!!(2&Ue)},1331:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{b:()=>v,c:()=>w,d:()=>g,e:()=>Q,g:()=>X,l:()=>z,s:()=>ne,t:()=>p,w:()=>R});var j=fe(467),O=fe(4921),ge=fe(8393),Ie=fe(4929),o=fe(4920);const v="ionViewWillLeave",w="ionViewDidLeave",g="ionViewWillUnload",y=U=>{U.tabIndex=-1,U.focus()},C=U=>null!==U.offsetParent,s="ion-last-focus",d_saveViewFocus=K=>{if(O.c.get("focusManagerPriority",!1)){const Te=document.activeElement;null!==Te&&null!=K&&K.contains(Te)&&Te.setAttribute(s,"true")}},d_setViewFocus=K=>{const ie=O.c.get("focusManagerPriority",!1);if(Array.isArray(ie)&&!K.contains(document.activeElement)){const Te=K.querySelector(`[${s}]`);if(Te&&C(Te))return void y(Te);for(const q of ie)switch(q){case"content":const k=K.querySelector('main, [role="main"]');if(k&&C(k))return void y(k);break;case"heading":const ee=K.querySelector('h1, [role="heading"][aria-level="1"]');if(ee&&C(ee))return void y(ee);break;case"banner":const me=K.querySelector('header, [role="banner"]');if(me&&C(me))return void y(me);break;default:(0,Ie.p)(`Unrecognized focus manager priority value ${q}`)}y(K)}},p=U=>new Promise((F,K)=>{(0,ge.w)(()=>{l(U),m(U).then(ie=>{ie.animation&&ie.animation.destroy(),c(U),F(ie)},ie=>{c(U),K(ie)})})}),l=U=>{const F=U.enteringEl,K=U.leavingEl;d_saveViewFocus(K),V(F,K,U.direction),U.showGoBack?F.classList.add("can-go-back"):F.classList.remove("can-go-back"),ne(F,!1),F.style.setProperty("pointer-events","none"),K&&(ne(K,!1),K.style.setProperty("pointer-events","none"))},m=function(){var U=(0,j.A)(function*(F){const K=yield h(F);return K&&ge.B.isBrowser?_(K,F):M(F)});return function(K){return U.apply(this,arguments)}}(),c=U=>{const F=U.enteringEl,K=U.leavingEl;F.classList.remove("ion-page-invisible"),F.style.removeProperty("pointer-events"),void 0!==K&&(K.classList.remove("ion-page-invisible"),K.style.removeProperty("pointer-events")),d_setViewFocus(F)},h=function(){var U=(0,j.A)(function*(F){return F.leavingEl&&F.animated&&0!==F.duration?F.animationBuilder?F.animationBuilder:"ios"===F.mode?(yield Promise.resolve().then(fe.bind(fe,9856))).iosTransitionAnimation:(yield Promise.resolve().then(fe.bind(fe,361))).mdTransitionAnimation:void 0});return function(K){return U.apply(this,arguments)}}(),_=function(){var U=(0,j.A)(function*(F,K){yield x(K,!0);const ie=F(K.baseEl,K);N(K.enteringEl,K.leavingEl);const Te=yield T(ie,K);return K.progressCallback&&K.progressCallback(void 0),Te&&I(K.enteringEl,K.leavingEl),{hasCompleted:Te,animation:ie}});return function(K,ie){return U.apply(this,arguments)}}(),M=function(){var U=(0,j.A)(function*(F){const K=F.enteringEl,ie=F.leavingEl,Te=O.c.get("focusManagerPriority",!1);return yield x(F,Te),N(K,ie),I(K,ie),{hasCompleted:!0}});return function(K){return U.apply(this,arguments)}}(),x=function(){var U=(0,j.A)(function*(F,K){(void 0!==F.deepWait?F.deepWait:K)&&(yield Promise.all([Q(F.enteringEl),Q(F.leavingEl)])),yield A(F.viewIsReady,F.enteringEl)});return function(K,ie){return U.apply(this,arguments)}}(),A=function(){var U=(0,j.A)(function*(F,K){F&&(yield F(K))});return function(K,ie){return U.apply(this,arguments)}}(),T=(U,F)=>{const K=F.progressCallback,ie=new Promise(Te=>{U.onFinish(q=>Te(1===q))});return K?(U.progressStart(!0),K(U)):U.play(),ie},N=(U,F)=>{z(F,v),z(U,"ionViewWillEnter")},I=(U,F)=>{z(U,"ionViewDidEnter"),z(F,w)},z=(U,F)=>{if(U){const K=new CustomEvent(F,{bubbles:!1,cancelable:!1});U.dispatchEvent(K)}},R=()=>new Promise(U=>(0,o.r)(()=>(0,o.r)(()=>U()))),Q=function(){var U=(0,j.A)(function*(F){const K=F;if(K){if(null!=K.componentOnReady){if(null!=(yield K.componentOnReady()))return}else if(null!=K.__registerHost)return void(yield new Promise(Te=>(0,o.r)(Te)));yield Promise.all(Array.from(K.children).map(Q))}});return function(K){return U.apply(this,arguments)}}(),ne=(U,F)=>{F?(U.setAttribute("aria-hidden","true"),U.classList.add("ion-page-hidden")):(U.hidden=!1,U.removeAttribute("aria-hidden"),U.classList.remove("ion-page-hidden"))},V=(U,F,K)=>{void 0!==U&&(U.style.zIndex="back"===K?"99":"101"),void 0!==F&&(F.style.zIndex="100")},X=U=>U.classList.contains("ion-page")?U:U.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||U},4929:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{a:()=>O,b:()=>ge,p:()=>j});const j=(Ie,...o)=>console.warn(`[Ionic Warning]: ${Ie}`,...o),O=(Ie,...o)=>console.error(`[Ionic Error]: ${Ie}`,...o),ge=(Ie,...o)=>console.error(`<${Ie.tagName.toLowerCase()}> must be used inside ${o.join(" or ")}.`)},8476:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{d:()=>O,w:()=>j});const j=typeof window<"u"?window:void 0,O=typeof document<"u"?document:void 0},617:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{FJ:()=>w.l,NC:()=>ge.iosTransitionAnimation,OZ:()=>w.m,QX:()=>H.s,TN:()=>w.a,V5:()=>Ie.mdTransitionAnimation,Vk:()=>H.I,mF:()=>w.c}),fe(9986),fe(1331);var ge=fe(9856),Ie=fe(361),H=(fe(8607),fe(4921),fe(464)),w=(fe(6073),fe(1070));fe(8476),fe(8393),fe(1970),fe(8669)},4921:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{a:()=>y,b:()=>ne,c:()=>ge,i:()=>V});var j=fe(8393);class O{constructor(){this.m=new Map}reset(U){this.m=new Map(Object.entries(U))}get(U,F){const K=this.m.get(U);return void 0!==K?K:F}getBoolean(U,F=!1){const K=this.m.get(U);return void 0===K?F:"string"==typeof K?"true"===K:!!K}getNumber(U,F){const K=parseFloat(this.m.get(U));return isNaN(K)?void 0!==F?F:NaN:K}set(U,F){this.m.set(U,F)}}const ge=new O,v="ionic:",w="ionic-persist-config",y=(X,U)=>("string"==typeof X&&(U=X,X=void 0),(X=>C(X))(X).includes(U)),C=(X=window)=>{if(typeof X>"u")return[];X.Ionic=X.Ionic||{};let U=X.Ionic.platforms;return null==U&&(U=X.Ionic.platforms=E(X),U.forEach(F=>X.document.documentElement.classList.add(`plt-${F}`))),U},E=X=>{const U=ge.get("platform");return Object.keys(R).filter(F=>{const K=null==U?void 0:U[F];return"function"==typeof K?K(X):R[F](X)})},u=X=>!!(I(X,/iPad/i)||I(X,/Macintosh/i)&&h(X)),p=X=>I(X,/android|sink/i),h=X=>z(X,"(any-pointer:coarse)"),M=X=>x(X)||A(X),x=X=>!!(X.cordova||X.phonegap||X.PhoneGap),A=X=>{const U=X.Capacitor;return!(null==U||!U.isNative)},I=(X,U)=>U.test(X.navigator.userAgent),z=(X,U)=>{var F;return null===(F=X.matchMedia)||void 0===F?void 0:F.call(X,U).matches},R={ipad:u,iphone:X=>I(X,/iPhone/i),ios:X=>I(X,/iPhone|iPod/i)||u(X),android:p,phablet:X=>{const U=X.innerWidth,F=X.innerHeight,K=Math.min(U,F),ie=Math.max(U,F);return K>390&&K<520&&ie>620&&ie<800},tablet:X=>{const U=X.innerWidth,F=X.innerHeight,K=Math.min(U,F),ie=Math.max(U,F);return u(X)||(X=>p(X)&&!I(X,/mobile/i))(X)||K>460&&K<820&&ie>780&&ie<1400},cordova:x,capacitor:A,electron:X=>I(X,/electron/i),pwa:X=>{var U;return!!(null!==(U=X.matchMedia)&&void 0!==U&&U.call(X,"(display-mode: standalone)").matches||X.navigator.standalone)},mobile:h,mobileweb:X=>h(X)&&!M(X),desktop:X=>!h(X),hybrid:M};let Q;const ne=X=>X&&(0,j.g)(X)||Q,V=(X={})=>{if(typeof window>"u")return;const U=window.document,F=window,K=F.Ionic=F.Ionic||{},ie={};X._ael&&(ie.ael=X._ael),X._rel&&(ie.rel=X._rel),X._ce&&(ie.ce=X._ce),(0,j.a)(ie);const Te=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(X=>{try{const U=X.sessionStorage.getItem(w);return null!==U?JSON.parse(U):{}}catch{return{}}})(F)),{persistConfig:!1}),K.config),(X=>{const U={};return X.location.search.slice(1).split("&").map(F=>F.split("=")).map(([F,K])=>{try{return[decodeURIComponent(F),decodeURIComponent(K)]}catch{return["",""]}}).filter(([F])=>((X,U)=>X.substr(0,U.length)===U)(F,v)).map(([F,K])=>[F.slice(6),K]).forEach(([F,K])=>{U[F]=K}),U})(F)),X);ge.reset(Te),ge.getBoolean("persistConfig")&&((X,U)=>{try{X.sessionStorage.setItem(w,JSON.stringify(U))}catch{return}})(F,Te),C(F),K.config=ge,K.mode=Q=ge.get("mode",U.documentElement.getAttribute("mode")||(y(F,"ios")?"ios":"md")),ge.set("mode",Q),U.documentElement.setAttribute("mode",Q),U.documentElement.classList.add(Q),ge.getBoolean("_testing")&&ge.set("animated",!1);const q=ee=>{var me;return null===(me=ee.tagName)||void 0===me?void 0:me.startsWith("ION-")},k=ee=>["ios","md"].includes(ee);(0,j.c)(ee=>{for(;ee;){const me=ee.mode||ee.getAttribute("mode");if(me){if(k(me))return me;q(ee)&&console.warn('Invalid ionic mode: "'+me+'", expected: "ios" or "md"')}ee=ee.parentElement}return Q})}},9856:(wn,Wt,fe)=>{"use strict";fe.r(Wt),fe.d(Wt,{iosTransitionAnimation:()=>s,shadow:()=>v});var j=fe(9986),O=fe(1331);fe(8476),fe(4921),fe(8393);const H=a=>document.querySelector(`${a}.ion-cloned-element`),v=a=>a.shadowRoot||a,w=a=>{const d="ION-TABS"===a.tagName?a:a.querySelector("ion-tabs"),p="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=d){const l=d.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=l?l.querySelector(p):null}return a.querySelector(p)},g=(a,d)=>{const p="ION-TABS"===a.tagName?a:a.querySelector("ion-tabs");let l=[];if(null!=p){const m=p.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=m&&(l=m.querySelectorAll("ion-buttons"))}else l=a.querySelectorAll("ion-buttons");for(const m of l){const c=m.closest("ion-header"),h=c&&!c.classList.contains("header-collapse-condense-inactive"),_=m.querySelector("ion-back-button"),M=m.classList.contains("buttons-collapse");if(null!==_&&("start"===m.slot||""===m.slot)&&(M&&h&&d||!M))return _}return null},C=(a,d,p,l,m,c,h,_,M)=>{var x,A;const T=d?`calc(100% - ${m.right+4}px)`:m.left-4+"px",N=d?"right":"left",I=d?"left":"right",z=d?"right":"left";let R=1,Q=1,ne=`scale(${Q})`;const V="scale(1)";if(c&&h){const et=(null===(x=c.textContent)||void 0===x?void 0:x.trim())===(null===(A=_.textContent)||void 0===A?void 0:A.trim());R=M.width/h.width,Q=(M.height-u)/h.height,ne=et?`scale(${R}, ${Q})`:`scale(${Q})`}const U=v(l).querySelector("ion-icon").getBoundingClientRect(),F=d?U.width/2-(U.right-m.right)+"px":m.left-U.width/2+"px",K=d?`-${window.innerWidth-m.right}px`:`${m.left}px`,ie=`${M.top}px`,Te=`${m.top}px`,ee=p?[{offset:0,transform:`translate3d(${K}, ${Te}, 0)`},{offset:1,transform:`translate3d(${F}, ${ie}, 0)`}]:[{offset:0,transform:`translate3d(${F}, ${ie}, 0)`},{offset:1,transform:`translate3d(${K}, ${Te}, 0)`}],Ge=p?[{offset:0,opacity:1,transform:V},{offset:1,opacity:0,transform:ne}]:[{offset:0,opacity:0,transform:ne},{offset:1,opacity:1,transform:V}],We=p?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],ct=(0,j.c)(),dt=(0,j.c)(),Ve=(0,j.c)(),Qe=H("ion-back-button"),Ze=v(Qe).querySelector(".button-text"),at=v(Qe).querySelector("ion-icon");Qe.text=l.text,Qe.mode=l.mode,Qe.icon=l.icon,Qe.color=l.color,Qe.disabled=l.disabled,Qe.style.setProperty("display","block"),Qe.style.setProperty("position","fixed"),dt.addElement(at),ct.addElement(Ze),Ve.addElement(Qe),Ve.beforeStyles({position:"absolute",top:"0px",[z]:"0px"}).beforeAddWrite(()=>{l.style.setProperty("display","none"),Qe.style.setProperty(N,T)}).afterAddWrite(()=>{l.style.setProperty("display",""),Qe.style.setProperty("display","none"),Qe.style.removeProperty(N)}).keyframes(ee),ct.beforeStyles({"transform-origin":`${N} top`}).keyframes(Ge),dt.beforeStyles({"transform-origin":`${I} center`}).keyframes(We),a.addAnimation([ct,dt,Ve])},E=(a,d,p,l,m,c,h,_,M)=>{var x,A;const T=d?"right":"left",N=d?`calc(100% - ${m.right}px)`:`${m.left}px`,z=`${m.top}px`;let Q=d?`-${window.innerWidth-h.right-8}px`:`${h.x+8}px`,ne=.5;const V="scale(1)";let X=`scale(${ne})`;if(_&&M){Q=d?`-${window.innerWidth-M.right-8}px`:M.x-8+"px";const me=(null===(x=_.textContent)||void 0===x?void 0:x.trim())===(null===(A=l.textContent)||void 0===A?void 0:A.trim());ne=M.height/(c.height-u),X=me?`scale(${M.width/c.width}, ${ne})`:`scale(${ne})`}const K=h.top+h.height/2-m.height*ne/2+"px",q=p?[{offset:0,opacity:0,transform:`translate3d(${Q}, ${K}, 0) ${X}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${z}, 0) ${V}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${z}, 0) ${V}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Q}, ${K}, 0) ${X}`}],k=H("ion-title"),ee=(0,j.c)();k.innerText=l.innerText,k.size=l.size,k.color=l.color,ee.addElement(k),ee.beforeStyles({"transform-origin":`${T} top`,height:`${m.height}px`,display:"",position:"relative",[T]:N}).beforeAddWrite(()=>{l.style.setProperty("opacity","0")}).afterAddWrite(()=>{l.style.setProperty("opacity",""),k.style.setProperty("display","none")}).keyframes(q),a.addAnimation(ee)},s=(a,d)=>{var p;try{const l="cubic-bezier(0.32,0.72,0,1)",m="opacity",c="transform",h="0%",M="rtl"===a.ownerDocument.dir,x=M?"-99.5%":"99.5%",A=M?"33%":"-33%",T=d.enteringEl,N=d.leavingEl,I="back"===d.direction,z=T.querySelector(":scope > ion-content"),R=T.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Q=T.querySelectorAll(":scope > ion-header > ion-toolbar"),ne=(0,j.c)(),V=(0,j.c)();if(ne.addElement(T).duration((null!==(p=d.duration)&&void 0!==p?p:0)||540).easing(d.easing||l).fill("both").beforeRemoveClass("ion-page-invisible"),N&&null!=a){const K=(0,j.c)();K.addElement(a),ne.addAnimation(K)}if(z||0!==Q.length||0!==R.length?(V.addElement(z),V.addElement(R)):V.addElement(T.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ne.addAnimation(V),I?V.beforeClearStyles([m]).fromTo("transform",`translateX(${A})`,`translateX(${h})`).fromTo(m,.8,1):V.beforeClearStyles([m]).fromTo("transform",`translateX(${x})`,`translateX(${h})`),z){const K=v(z).querySelector(".transition-effect");if(K){const ie=K.querySelector(".transition-cover"),Te=K.querySelector(".transition-shadow"),q=(0,j.c)(),k=(0,j.c)(),ee=(0,j.c)();q.addElement(K).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),k.addElement(ie).beforeClearStyles([m]).fromTo(m,0,.1),ee.addElement(Te).beforeClearStyles([m]).fromTo(m,.03,.7),q.addAnimation([k,ee]),V.addAnimation([q])}}const X=T.querySelector("ion-header.header-collapse-condense"),{forward:U,backward:F}=((a,d,p,l,m)=>{const c=g(l,p),h=w(m),_=w(l),M=g(m,p),x=null!==c&&null!==h&&!p,A=null!==_&&null!==M&&p;if(x){const T=h.getBoundingClientRect(),N=c.getBoundingClientRect(),I=v(c).querySelector(".button-text"),z=null==I?void 0:I.getBoundingClientRect(),Q=v(h).querySelector(".toolbar-title").getBoundingClientRect();E(a,d,p,h,T,Q,N,I,z),C(a,d,p,c,N,I,z,h,Q)}else if(A){const T=_.getBoundingClientRect(),N=M.getBoundingClientRect(),I=v(M).querySelector(".button-text"),z=null==I?void 0:I.getBoundingClientRect(),Q=v(_).querySelector(".toolbar-title").getBoundingClientRect();E(a,d,p,_,T,Q,N,I,z),C(a,d,p,M,N,I,z,_,Q)}return{forward:x,backward:A}})(ne,M,I,T,N);if(Q.forEach(K=>{const ie=(0,j.c)();ie.addElement(K),ne.addAnimation(ie);const Te=(0,j.c)();Te.addElement(K.querySelector("ion-title"));const q=(0,j.c)(),k=Array.from(K.querySelectorAll("ion-buttons,[menuToggle]")),ee=K.closest("ion-header"),me=null==ee?void 0:ee.classList.contains("header-collapse-condense-inactive");let xe;xe=k.filter(I?ct=>{const dt=ct.classList.contains("buttons-collapse");return dt&&!me||!dt}:ct=>!ct.classList.contains("buttons-collapse")),q.addElement(xe);const Ge=(0,j.c)();Ge.addElement(K.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ye=(0,j.c)();Ye.addElement(v(K).querySelector(".toolbar-background"));const mt=(0,j.c)(),We=K.querySelector("ion-back-button");if(We&&mt.addElement(We),ie.addAnimation([Te,q,Ge,Ye,mt]),q.fromTo(m,.01,1),Ge.fromTo(m,.01,1),I)me||Te.fromTo("transform",`translateX(${A})`,`translateX(${h})`).fromTo(m,.01,1),Ge.fromTo("transform",`translateX(${A})`,`translateX(${h})`),mt.fromTo(m,.01,1);else if(X||Te.fromTo("transform",`translateX(${x})`,`translateX(${h})`).fromTo(m,.01,1),Ge.fromTo("transform",`translateX(${x})`,`translateX(${h})`),Ye.beforeClearStyles([m,"transform"]),(null==ee?void 0:ee.translucent)?Ye.fromTo("transform",M?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ye.fromTo(m,.01,"var(--opacity)"),U||mt.fromTo(m,.01,1),We&&!U){const dt=(0,j.c)();dt.addElement(v(We).querySelector(".button-text")).fromTo("transform",M?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ie.addAnimation(dt)}}),N){const K=(0,j.c)(),ie=N.querySelector(":scope > ion-content"),Te=N.querySelectorAll(":scope > ion-header > ion-toolbar"),q=N.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ie||0!==Te.length||0!==q.length?(K.addElement(ie),K.addElement(q)):K.addElement(N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ne.addAnimation(K),I){K.beforeClearStyles([m]).fromTo("transform",`translateX(${h})`,M?"translateX(-100%)":"translateX(100%)");const k=(0,O.g)(N);ne.afterAddWrite(()=>{"normal"===ne.getDirection()&&k.style.setProperty("display","none")})}else K.fromTo("transform",`translateX(${h})`,`translateX(${A})`).fromTo(m,1,.8);if(ie){const k=v(ie).querySelector(".transition-effect");if(k){const ee=k.querySelector(".transition-cover"),me=k.querySelector(".transition-shadow"),xe=(0,j.c)(),Ge=(0,j.c)(),Ye=(0,j.c)();xe.addElement(k).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ge.addElement(ee).beforeClearStyles([m]).fromTo(m,.1,0),Ye.addElement(me).beforeClearStyles([m]).fromTo(m,.7,.03),xe.addAnimation([Ge,Ye]),K.addAnimation([xe])}}Te.forEach(k=>{const ee=(0,j.c)();ee.addElement(k);const me=(0,j.c)();me.addElement(k.querySelector("ion-title"));const xe=(0,j.c)(),Ge=k.querySelectorAll("ion-buttons,[menuToggle]"),Ye=k.closest("ion-header"),mt=null==Ye?void 0:Ye.classList.contains("header-collapse-condense-inactive"),We=Array.from(Ge).filter(at=>{const et=at.classList.contains("buttons-collapse");return et&&!mt||!et});xe.addElement(We);const ct=(0,j.c)(),dt=k.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");dt.length>0&&ct.addElement(dt);const Ve=(0,j.c)();Ve.addElement(v(k).querySelector(".toolbar-background"));const Qe=(0,j.c)(),Ze=k.querySelector("ion-back-button");if(Ze&&Qe.addElement(Ze),ee.addAnimation([me,xe,ct,Qe,Ve]),ne.addAnimation(ee),Qe.fromTo(m,.99,0),xe.fromTo(m,.99,0),ct.fromTo(m,.99,0),I){if(mt||me.fromTo("transform",`translateX(${h})`,M?"translateX(-100%)":"translateX(100%)").fromTo(m,.99,0),ct.fromTo("transform",`translateX(${h})`,M?"translateX(-100%)":"translateX(100%)"),Ve.beforeClearStyles([m,"transform"]),(null==Ye?void 0:Ye.translucent)?Ve.fromTo("transform","translateX(0px)",M?"translateX(-100%)":"translateX(100%)"):Ve.fromTo(m,"var(--opacity)",0),Ze&&!F){const et=(0,j.c)();et.addElement(v(Ze).querySelector(".button-text")).fromTo("transform",`translateX(${h})`,`translateX(${(M?-124:124)+"px"})`),ee.addAnimation(et)}}else mt||me.fromTo("transform",`translateX(${h})`,`translateX(${A})`).fromTo(m,.99,0).afterClearStyles([c,m]),ct.fromTo("transform",`translateX(${h})`,`translateX(${A})`).afterClearStyles([c,m]),Qe.afterClearStyles([m]),me.afterClearStyles([m]),xe.afterClearStyles([m])})}return ne}catch(l){throw l}},u=10},361:(wn,Wt,fe)=>{"use strict";fe.r(Wt),fe.d(Wt,{mdTransitionAnimation:()=>oe});var j=fe(9986),O=fe(1331);fe(8476),fe(4921),fe(8393);const oe=(H,v)=>{var w,g,y;const C="40px",s="back"===v.direction,a=v.leavingEl,d=(0,O.g)(v.enteringEl),p=d.querySelector("ion-toolbar"),l=(0,j.c)();if(l.addElement(d).fill("both").beforeRemoveClass("ion-page-invisible"),s?l.duration((null!==(w=v.duration)&&void 0!==w?w:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):l.duration((null!==(g=v.duration)&&void 0!==g?g:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${C})`,"translateY(0px)").fromTo("opacity",.01,1),p){const m=(0,j.c)();m.addElement(p),l.addAnimation(m)}if(a&&s){l.duration((null!==(y=v.duration)&&void 0!==y?y:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const m=(0,j.c)();m.addElement((0,O.g)(a)).onFinish(c=>{1===c&&m.elements.length>0&&m.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${C})`).fromTo("opacity",1,0),l.addAnimation(m)}return l}},1070:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{B:()=>Ge,F:()=>Qe,G:()=>Ye,O:()=>mt,a:()=>d,b:()=>p,c:()=>h,d:()=>We,e:()=>ct,f:()=>U,g:()=>K,h:()=>q,i:()=>ee,j:()=>M,k:()=>x,l:()=>l,m:()=>m,n:()=>g,o:()=>V,q:()=>y,s:()=>xe});var j=fe(467),O=fe(8476),ge=fe(4920),Ie=fe(8669),o=fe(4921),oe=fe(8621),H=fe(1970),v=fe(4929);const w='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',g=(Ze,at)=>{const et=Ze.querySelector(w);C(et,null!=at?at:Ze)},y=(Ze,at)=>{const et=Array.from(Ze.querySelectorAll(w));C(et.length>0?et[et.length-1]:null,null!=at?at:Ze)},C=(Ze,at)=>{let et=Ze;const st=null==Ze?void 0:Ze.shadowRoot;st&&(et=st.querySelector(w)||Ze),et?(0,ge.f)(et):at.focus()};let E=0,s=0;const u=new WeakMap,a=Ze=>({create:at=>A(Ze,at),dismiss:(at,et,st)=>R(document,at,et,Ze,st),getTop:()=>(0,j.A)(function*(){return V(document,Ze)})()}),d=a("ion-alert"),p=a("ion-action-sheet"),l=a("ion-loading"),m=a("ion-modal"),h=a("ion-popover"),M=Ze=>{typeof document<"u"&&z(document);const at=E++;Ze.overlayIndex=at},x=Ze=>(Ze.hasAttribute("id")||(Ze.id="ion-overlay-"+ ++s),Ze.id),A=(Ze,at)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ze).then(()=>{const et=document.createElement(Ze);return et.classList.add("overlay-hidden"),Object.assign(et,Object.assign(Object.assign({},at),{hasController:!0})),ie(document).appendChild(et),new Promise(st=>(0,ge.c)(et,st))}):Promise.resolve(),N=(Ze,at)=>{let et=Ze;const st=null==Ze?void 0:Ze.shadowRoot;st&&(et=st.querySelector(w)||Ze),et?(0,ge.f)(et):at.focus()},z=Ze=>{0===E&&(E=1,Ze.addEventListener("focus",at=>{((Ze,at)=>{const et=V(at,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),st=Ze.target;et&&st&&!et.classList.contains(Qe)&&(et.shadowRoot?(()=>{if(et.contains(st))et.lastFocus=st;else if("ION-TOAST"===st.tagName)N(et.lastFocus,et);else{const Lt=et.lastFocus;g(et),Lt===at.activeElement&&y(et),et.lastFocus=at.activeElement}})():(()=>{if(et===st)et.lastFocus=void 0;else if("ION-TOAST"===st.tagName)N(et.lastFocus,et);else{const Lt=(0,ge.g)(et);if(!Lt.contains(st))return;const an=Lt.querySelector(".ion-overlay-wrapper");if(!an)return;if(an.contains(st)||st===Lt.querySelector("ion-backdrop"))et.lastFocus=st;else{const Bt=et.lastFocus;g(an,et),Bt===at.activeElement&&y(an,et),et.lastFocus=at.activeElement}}})())})(at,Ze)},!0),Ze.addEventListener("ionBackButton",at=>{const et=V(Ze);null!=et&&et.backdropDismiss&&at.detail.register(Ie.OVERLAY_BACK_BUTTON_PRIORITY,()=>{et.dismiss(void 0,Ge)})}),(0,Ie.shouldUseCloseWatcher)()||Ze.addEventListener("keydown",at=>{if("Escape"===at.key){const et=V(Ze);null!=et&&et.backdropDismiss&&et.dismiss(void 0,Ge)}}))},R=(Ze,at,et,st,Dt)=>{const on=V(Ze,st,Dt);return on?on.dismiss(at,et):Promise.reject("overlay does not exist")},ne=(Ze,at)=>((Ze,at)=>(void 0===at&&(at="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Ze.querySelectorAll(at)).filter(et=>et.overlayIndex>0)))(Ze,at).filter(et=>!(Ze=>Ze.classList.contains("overlay-hidden"))(et)),V=(Ze,at,et)=>{const st=ne(Ze,at);return void 0===et?st[st.length-1]:st.find(Dt=>Dt.id===et)},X=(Ze=!1)=>{const et=ie(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");et&&(Ze?et.setAttribute("aria-hidden","true"):et.removeAttribute("aria-hidden"))},U=function(){var Ze=(0,j.A)(function*(at,et,st,Dt,on){var Lt,an;if(at.presented)return;X(!0),document.body.classList.add(H.B),dt(at.el),at.presented=!0,at.willPresent.emit(),null===(Lt=at.willPresentShorthand)||void 0===Lt||Lt.emit();const Bt=(0,o.b)(at),gn=at.enterAnimation?at.enterAnimation:o.c.get(et,"ios"===Bt?st:Dt);(yield Te(at,gn,at.el,on))&&(at.didPresent.emit(),null===(an=at.didPresentShorthand)||void 0===an||an.emit()),"ION-TOAST"!==at.el.tagName&&F(at.el),at.keyboardClose&&(null===document.activeElement||!at.el.contains(document.activeElement))&&at.el.focus(),at.el.removeAttribute("aria-hidden")});return function(et,st,Dt,on,Lt){return Ze.apply(this,arguments)}}(),F=function(){var Ze=(0,j.A)(function*(at){let et=document.activeElement;if(!et)return;const st=null==et?void 0:et.shadowRoot;st&&(et=st.querySelector(w)||et),yield at.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&et.focus()});return function(et){return Ze.apply(this,arguments)}}(),K=function(){var Ze=(0,j.A)(function*(at,et,st,Dt,on,Lt,an){var Bt,gn;if(!at.presented)return!1;void 0!==O.d&&1===ne(O.d).length&&(X(!1),document.body.classList.remove(H.B)),at.presented=!1;try{at.el.style.setProperty("pointer-events","none"),at.willDismiss.emit({data:et,role:st}),null===(Bt=at.willDismissShorthand)||void 0===Bt||Bt.emit({data:et,role:st});const hn=(0,o.b)(at),At=at.leaveAnimation?at.leaveAnimation:o.c.get(Dt,"ios"===hn?on:Lt);st!==Ye&&(yield Te(at,At,at.el,an)),at.didDismiss.emit({data:et,role:st}),null===(gn=at.didDismissShorthand)||void 0===gn||gn.emit({data:et,role:st}),(u.get(at)||[]).forEach($t=>$t.destroy()),u.delete(at),at.el.classList.add("overlay-hidden"),at.el.style.removeProperty("pointer-events"),void 0!==at.el.lastFocus&&(at.el.lastFocus=void 0)}catch(hn){console.error(hn)}return at.el.remove(),Ve(),!0});return function(et,st,Dt,on,Lt,an,Bt){return Ze.apply(this,arguments)}}(),ie=Ze=>Ze.querySelector("ion-app")||Ze.body,Te=function(){var Ze=(0,j.A)(function*(at,et,st,Dt){st.classList.remove("overlay-hidden");const Lt=et(at.el,Dt);(!at.animated||!o.c.getBoolean("animated",!0))&&Lt.duration(0),at.keyboardClose&&Lt.beforeAddWrite(()=>{const Bt=st.ownerDocument.activeElement;null!=Bt&&Bt.matches("input,ion-input, ion-textarea")&&Bt.blur()});const an=u.get(at)||[];return u.set(at,[...an,Lt]),yield Lt.play(),!0});return function(et,st,Dt,on){return Ze.apply(this,arguments)}}(),q=(Ze,at)=>{let et;const st=new Promise(Dt=>et=Dt);return k(Ze,at,Dt=>{et(Dt.detail)}),st},k=(Ze,at,et)=>{const st=Dt=>{(0,ge.b)(Ze,at,st),et(Dt)};(0,ge.a)(Ze,at,st)},ee=Ze=>"cancel"===Ze||Ze===Ge,me=Ze=>Ze(),xe=(Ze,at)=>{if("function"==typeof Ze)return o.c.get("_zoneGate",me)(()=>{try{return Ze(at)}catch(st){throw st}})},Ge="backdrop",Ye="gesture",mt=39,We=Ze=>{let et,at=!1;const st=(0,oe.C)(),Dt=(an=!1)=>{if(et&&!an)return{delegate:et,inline:at};const{el:Bt,hasController:gn,delegate:Yt}=Ze;return at=null!==Bt.parentNode&&!gn,et=at?Yt||st:Yt,{inline:at,delegate:et}};return{attachViewToDom:function(){var an=(0,j.A)(function*(Bt){const{delegate:gn}=Dt(!0);if(gn)return yield gn.attachViewToDom(Ze.el,Bt);const{hasController:Yt}=Ze;if(Yt&&void 0!==Bt)throw new Error("framework delegate is missing");return null});return function(gn){return an.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:an}=Dt();an&&void 0!==Ze.el&&an.removeViewFromDom(Ze.el.parentElement,Ze.el)}}},ct=()=>{let Ze;const at=()=>{Ze&&(Ze(),Ze=void 0)};return{addClickListener:(st,Dt)=>{at();const on=void 0!==Dt?document.getElementById(Dt):null;on?Ze=((an,Bt)=>{const gn=()=>{Bt.present()};return an.addEventListener("click",gn),()=>{an.removeEventListener("click",gn)}})(on,st):(0,v.p)(`A trigger element with the ID "${Dt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,st)},removeClickListener:at}},dt=Ze=>{var at;if(void 0===O.d)return;const et=ne(O.d);for(let st=et.length-1;st>=0;st--){const Dt=et[st],on=null!==(at=et[st+1])&&void 0!==at?at:Ze;(on.hasAttribute("aria-hidden")||"ION-TOAST"!==on.tagName)&&Dt.setAttribute("aria-hidden","true")}},Ve=()=>{if(void 0===O.d)return;const Ze=ne(O.d);for(let at=Ze.length-1;at>=0;at--){const et=Ze[at];if(et.removeAttribute("aria-hidden"),"ION-TOAST"!==et.tagName)break}},Qe="ion-disable-focus-trap"},1288:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{H:()=>p,b:()=>on,c:()=>h,f:()=>We,g:()=>c,h:()=>a,p:()=>Ut,r:()=>sn});var j=fe(467);let ge,Ie,o=!1,oe=!1;const g={},s=gt=>"object"==(gt=typeof gt)||"function"===gt;function u(gt){var St,zt,Rt;return null!==(Rt=null===(zt=null===(St=gt.head)||void 0===St?void 0:St.querySelector('meta[name="csp-nonce"]'))||void 0===zt?void 0:zt.getAttribute("content"))&&void 0!==Rt?Rt:void 0}const a=(gt,St,...zt)=>{let Rt=null,tn=!1,fn=!1;const bn=[],Tn=Ln=>{for(let jn=0;jn<Ln.length;jn++)Rt=Ln[jn],Array.isArray(Rt)?Tn(Rt):null!=Rt&&"boolean"!=typeof Rt&&((tn="function"!=typeof gt&&!s(Rt))&&(Rt=String(Rt)),tn&&fn?bn[bn.length-1].$text$+=Rt:bn.push(tn?d(null,Rt):Rt),fn=tn)};if(Tn(zt),St){const Ln=St.className||St.class;Ln&&(St.class="object"!=typeof Ln?Ln:Object.keys(Ln).filter(jn=>Ln[jn]).join(" "))}const An=d(gt,null);return An.$attrs$=St,bn.length>0&&(An.$children$=bn),An},d=(gt,St)=>({$flags$:0,$tag$:gt,$text$:St,$elm$:null,$children$:null,$attrs$:null}),p={},c=gt=>At(gt).$hostElement$,h=(gt,St,zt)=>{const Rt=c(gt);return{emit:tn=>_(Rt,St,{bubbles:!!(4&zt),composed:!!(2&zt),cancelable:!!(1&zt),detail:tn})}},_=(gt,St,zt)=>{const Rt=cn.ce(St,zt);return gt.dispatchEvent(Rt),Rt},M=new WeakMap,N=(gt,St)=>"sc-"+gt.$tagName$,I=(gt,St,zt,Rt,tn,fn)=>{if(zt!==Rt){let bn=ze(gt,St),Tn=St.toLowerCase();if("class"===St){const An=gt.classList,Ln=R(zt),jn=R(Rt);An.remove(...Ln.filter(sr=>sr&&!jn.includes(sr))),An.add(...jn.filter(sr=>sr&&!Ln.includes(sr)))}else if("style"===St){for(const An in zt)(!Rt||null==Rt[An])&&(An.includes("-")?gt.style.removeProperty(An):gt.style[An]="");for(const An in Rt)(!zt||Rt[An]!==zt[An])&&(An.includes("-")?gt.style.setProperty(An,Rt[An]):gt.style[An]=Rt[An])}else if("ref"===St)Rt&&Rt(gt);else if(bn||"o"!==St[0]||"n"!==St[1]){const An=s(Rt);if((bn||An&&null!==Rt)&&!tn)try{if(gt.tagName.includes("-"))gt[St]=Rt;else{const Ln=null==Rt?"":Rt;"list"===St?bn=!1:(null==zt||gt[St]!=Ln)&&(gt[St]=Ln)}}catch{}null==Rt||!1===Rt?(!1!==Rt||""===gt.getAttribute(St))&&gt.removeAttribute(St):(!bn||4&fn||tn)&&!An&&gt.setAttribute(St,Rt=!0===Rt?"":Rt)}else St="-"===St[2]?St.slice(3):ze(Ft,Tn)?Tn.slice(2):Tn[2]+St.slice(3),zt&&cn.rel(gt,St,zt,!1),Rt&&cn.ael(gt,St,Rt,!1)}},z=/\s/,R=gt=>gt?gt.split(z):[],Q=(gt,St,zt,Rt)=>{const tn=11===St.$elm$.nodeType&&St.$elm$.host?St.$elm$.host:St.$elm$,fn=gt&&gt.$attrs$||g,bn=St.$attrs$||g;for(Rt in fn)Rt in bn||I(tn,Rt,fn[Rt],void 0,zt,St.$flags$);for(Rt in bn)I(tn,Rt,fn[Rt],bn[Rt],zt,St.$flags$)},ne=(gt,St,zt,Rt)=>{const tn=St.$children$[zt];let bn,Tn,fn=0;if(null!==tn.$text$)bn=tn.$elm$=Xt.createTextNode(tn.$text$);else{if(o||(o="svg"===tn.$tag$),bn=tn.$elm$=Xt.createElementNS(o?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",tn.$tag$),o&&"foreignObject"===tn.$tag$&&(o=!1),Q(null,tn,o),(gt=>null!=gt)(ge)&&bn["s-si"]!==ge&&bn.classList.add(bn["s-si"]=ge),tn.$children$)for(fn=0;fn<tn.$children$.length;++fn)Tn=ne(gt,tn,fn),Tn&&bn.appendChild(Tn);"svg"===tn.$tag$?o=!1:"foreignObject"===bn.tagName&&(o=!0)}return bn},V=(gt,St,zt,Rt,tn,fn)=>{let Tn,bn=gt;for(bn.shadowRoot&&bn.tagName===Ie&&(bn=bn.shadowRoot);tn<=fn;++tn)Rt[tn]&&(Tn=ne(null,zt,tn),Tn&&(Rt[tn].$elm$=Tn,bn.insertBefore(Tn,St)))},X=(gt,St,zt)=>{for(let Rt=St;Rt<=zt;++Rt){const tn=gt[Rt];if(tn){const fn=tn.$elm$;ie(tn),fn&&fn.remove()}}},F=(gt,St)=>gt.$tag$===St.$tag$,K=(gt,St)=>{const zt=St.$elm$=gt.$elm$,Rt=gt.$children$,tn=St.$children$,fn=St.$tag$,bn=St.$text$;null===bn?(o="svg"===fn||"foreignObject"!==fn&&o,Q(gt,St,o),null!==Rt&&null!==tn?((gt,St,zt,Rt)=>{let Y,tn=0,fn=0,bn=St.length-1,Tn=St[0],An=St[bn],Ln=Rt.length-1,jn=Rt[0],sr=Rt[Ln];for(;tn<=bn&&fn<=Ln;)null==Tn?Tn=St[++tn]:null==An?An=St[--bn]:null==jn?jn=Rt[++fn]:null==sr?sr=Rt[--Ln]:F(Tn,jn)?(K(Tn,jn),Tn=St[++tn],jn=Rt[++fn]):F(An,sr)?(K(An,sr),An=St[--bn],sr=Rt[--Ln]):F(Tn,sr)?(K(Tn,sr),gt.insertBefore(Tn.$elm$,An.$elm$.nextSibling),Tn=St[++tn],sr=Rt[--Ln]):F(An,jn)?(K(An,jn),gt.insertBefore(An.$elm$,Tn.$elm$),An=St[--bn],jn=Rt[++fn]):(Y=ne(St&&St[fn],zt,fn),jn=Rt[++fn],Y&&Tn.$elm$.parentNode.insertBefore(Y,Tn.$elm$));tn>bn?V(gt,null==Rt[Ln+1]?null:Rt[Ln+1].$elm$,zt,Rt,fn,Ln):fn>Ln&&X(St,tn,bn)})(zt,Rt,St,tn):null!==tn?(null!==gt.$text$&&(zt.textContent=""),V(zt,null,St,tn,0,tn.length-1)):null!==Rt&&X(Rt,0,Rt.length-1),o&&"svg"===fn&&(o=!1)):gt.$text$!==bn&&(zt.data=bn)},ie=gt=>{gt.$attrs$&&gt.$attrs$.ref&&gt.$attrs$.ref(null),gt.$children$&&gt.$children$.map(ie)},q=(gt,St)=>{St&&!gt.$onRenderResolve$&&St["s-p"]&&St["s-p"].push(new Promise(zt=>gt.$onRenderResolve$=zt))},k=(gt,St)=>{if(gt.$flags$|=16,!(4&gt.$flags$))return q(gt,gt.$ancestorComponent$),ln(()=>ee(gt,St));gt.$flags$|=512},ee=(gt,St)=>{const Rt=gt.$lazyInstance$;return St&&(gt.$flags$|=256,gt.$queuedListeners$&&(gt.$queuedListeners$.map(([fn,bn])=>dt(Rt,fn,bn)),gt.$queuedListeners$=void 0)),me(void 0,()=>Ge(gt,Rt,St))},me=(gt,St)=>xe(gt)?gt.then(St):St(),xe=gt=>gt instanceof Promise||gt&&gt.then&&"function"==typeof gt.then,Ge=function(){var gt=(0,j.A)(function*(St,zt,Rt){var tn;const fn=St.$hostElement$,Tn=fn["s-rc"];Rt&&(gt=>{const St=gt.$cmpMeta$,zt=gt.$hostElement$,Rt=St.$flags$,fn=((gt,St,zt,Rt)=>{var tn;let fn=N(St);const bn=Et.get(fn);if(gt=11===gt.nodeType?gt:Xt,bn)if("string"==typeof bn){let An,Tn=M.get(gt=gt.head||gt);if(Tn||M.set(gt,Tn=new Set),!Tn.has(fn)){{An=Xt.createElement("style"),An.innerHTML=bn;const Ln=null!==(tn=cn.$nonce$)&&void 0!==tn?tn:u(Xt);null!=Ln&&An.setAttribute("nonce",Ln),gt.insertBefore(An,gt.querySelector("link"))}Tn&&Tn.add(fn)}}else gt.adoptedStyleSheets.includes(bn)||(gt.adoptedStyleSheets=[...gt.adoptedStyleSheets,bn]);return fn})(zt.shadowRoot?zt.shadowRoot:zt.getRootNode(),St);10&Rt&&(zt["s-sc"]=fn,zt.classList.add(fn+"-h"))})(St);Ye(St,zt),Tn&&(Tn.map(Ln=>Ln()),fn["s-rc"]=void 0);{const Ln=null!==(tn=fn["s-p"])&&void 0!==tn?tn:[],jn=()=>mt(St);0===Ln.length?jn():(Promise.all(Ln).then(jn),St.$flags$|=4,Ln.length=0)}});return function(zt,Rt,tn){return gt.apply(this,arguments)}}(),Ye=(gt,St,zt)=>{try{St=St.render(),gt.$flags$&=-17,gt.$flags$|=2,((gt,St)=>{const zt=gt.$hostElement$,Rt=gt.$vnode$||d(null,null),tn=(gt=>gt&&gt.$tag$===p)(St)?St:a(null,null,St);Ie=zt.tagName,tn.$tag$=null,tn.$flags$|=4,gt.$vnode$=tn,tn.$elm$=Rt.$elm$=zt.shadowRoot||zt,ge=zt["s-sc"],K(Rt,tn)})(gt,St)}catch(Rt){$e(Rt,gt.$hostElement$)}return null},mt=gt=>{const zt=gt.$hostElement$,tn=gt.$lazyInstance$,fn=gt.$ancestorComponent$;64&gt.$flags$||(gt.$flags$|=64,Ve(zt),dt(tn,"componentDidLoad"),gt.$onReadyResolve$(zt),fn||ct()),gt.$onInstanceResolve$(zt),gt.$onRenderResolve$&&(gt.$onRenderResolve$(),gt.$onRenderResolve$=void 0),512&gt.$flags$&&Mt(()=>k(gt,!1)),gt.$flags$&=-517},We=gt=>{{const St=At(gt),zt=St.$hostElement$.isConnected;return zt&&2==(18&St.$flags$)&&k(St,!1),zt}},ct=gt=>{Ve(Xt.documentElement),Mt(()=>_(Ft,"appload",{detail:{namespace:"ionicpwaelements"}}))},dt=(gt,St,zt)=>{if(gt&&gt[St])try{return gt[St](zt)}catch(Rt){$e(Rt)}},Ve=gt=>gt.classList.add("hydrated"),at=(gt,St,zt)=>{if(St.$members$){const Rt=Object.entries(St.$members$),tn=gt.prototype;if(Rt.map(([fn,[bn]])=>{31&bn||2&zt&&32&bn?Object.defineProperty(tn,fn,{get(){return((gt,St)=>At(this).$instanceValues$.get(St))(0,fn)},set(Tn){((gt,St,zt,Rt)=>{const tn=At(gt),fn=tn.$instanceValues$.get(St),bn=tn.$flags$,Tn=tn.$lazyInstance$;zt=((gt,St)=>null==gt||s(gt)?gt:4&St?"false"!==gt&&(""===gt||!!gt):2&St?parseFloat(gt):1&St?String(gt):gt)(zt,Rt.$members$[St][0]);const An=Number.isNaN(fn)&&Number.isNaN(zt);(!(8&bn)||void 0===fn)&&zt!==fn&&!An&&(tn.$instanceValues$.set(St,zt),Tn&&2==(18&bn)&&k(tn,!1))})(this,fn,Tn,St)},configurable:!0,enumerable:!0}):1&zt&&64&bn&&Object.defineProperty(tn,fn,{value(...Tn){const An=At(this);return An.$onInstancePromise$.then(()=>An.$lazyInstance$[fn](...Tn))}})}),1&zt){const fn=new Map;tn.attributeChangedCallback=function(bn,Tn,An){cn.jmp(()=>{const Ln=fn.get(bn);if(this.hasOwnProperty(Ln))An=this[Ln],delete this[Ln];else if(tn.hasOwnProperty(Ln)&&"number"==typeof this[Ln]&&this[Ln]==An)return;this[Ln]=(null!==An||"boolean"!=typeof this[Ln])&&An})},gt.observedAttributes=Rt.filter(([bn,Tn])=>15&Tn[0]).map(([bn,Tn])=>{const An=Tn[1]||bn;return fn.set(An,bn),An})}}return gt},et=function(){var gt=(0,j.A)(function*(St,zt,Rt,tn,fn){if(!(32&zt.$flags$)){zt.$flags$|=32;{if((fn=qe(Rt)).then){const Ln=()=>{};fn=yield fn,Ln()}fn.isProxied||(at(fn,Rt,2),fn.isProxied=!0);const An=()=>{};zt.$flags$|=8;try{new fn(zt)}catch(Ln){$e(Ln)}zt.$flags$&=-9,An()}if(fn.style){let An=fn.style;const Ln=N(Rt);if(!Et.has(Ln)){const jn=()=>{};((gt,St,zt)=>{let Rt=Et.get(gt);Vt&&zt?(Rt=Rt||new CSSStyleSheet,"string"==typeof Rt?Rt=St:Rt.replaceSync(St)):Rt=St,Et.set(gt,Rt)})(Ln,An,!!(1&Rt.$flags$)),jn()}}}const bn=zt.$ancestorComponent$,Tn=()=>k(zt,!0);bn&&bn["s-rc"]?bn["s-rc"].push(Tn):Tn()});return function(zt,Rt,tn,fn,bn){return gt.apply(this,arguments)}}(),on=(gt,St={})=>{var zt;const tn=[],fn=St.exclude||[],bn=Ft.customElements,Tn=Xt.head,An=Tn.querySelector("meta[charset]"),Ln=Xt.createElement("style"),jn=[];let sr,Y=!0;Object.assign(cn,St),cn.$resourcesUrl$=new URL(St.resourcesUrl||"./",Xt.baseURI).href,gt.map(be=>{be[1].map(Re=>{const b={$flags$:Re[0],$tagName$:Re[1],$members$:Re[2],$listeners$:Re[3]};b.$members$=Re[2],b.$listeners$=Re[3];const P=b.$tagName$,B=class extends HTMLElement{constructor(L){super(L),$t(L=this,b),1&b.$flags$&&L.attachShadow({mode:"open"})}connectedCallback(){sr&&(clearTimeout(sr),sr=null),Y?jn.push(this):cn.jmp(()=>(gt=>{if(!(1&cn.$flags$)){const St=At(gt),zt=St.$cmpMeta$,Rt=()=>{};if(1&St.$flags$)Lt(gt,St,zt.$listeners$);else{St.$flags$|=1;{let tn=gt;for(;tn=tn.parentNode||tn.host;)if(tn["s-p"]){q(St,St.$ancestorComponent$=tn);break}}zt.$members$&&Object.entries(zt.$members$).map(([tn,[fn]])=>{if(31&fn&&gt.hasOwnProperty(tn)){const bn=gt[tn];delete gt[tn],gt[tn]=bn}}),et(gt,St,zt)}Rt()}})(this))}disconnectedCallback(){cn.jmp(()=>(gt=>{if(!(1&cn.$flags$)){const St=At(this),zt=St.$lazyInstance$;St.$rmListeners$&&(St.$rmListeners$.map(Rt=>Rt()),St.$rmListeners$=void 0),dt(zt,"disconnectedCallback")}})())}componentOnReady(){return At(this).$onReadyPromise$}};b.$lazyBundleId$=be[0],!fn.includes(P)&&!bn.get(P)&&(tn.push(P),bn.define(P,at(B,b,1)))})});{Ln.innerHTML=tn+"{visibility:hidden}.hydrated{visibility:inherit}",Ln.setAttribute("data-styles","");const be=null!==(zt=cn.$nonce$)&&void 0!==zt?zt:u(Xt);null!=be&&Ln.setAttribute("nonce",be),Tn.insertBefore(Ln,An?An.nextSibling:Tn.firstChild)}Y=!1,jn.length?jn.map(be=>be.connectedCallback()):cn.jmp(()=>sr=setTimeout(ct,30))},Lt=(gt,St,zt,Rt)=>{zt&&zt.map(([tn,fn,bn])=>{const Tn=Bt(gt,tn),An=an(St,bn),Ln=gn(tn);cn.ael(Tn,fn,An,Ln),(St.$rmListeners$=St.$rmListeners$||[]).push(()=>cn.rel(Tn,fn,An,Ln))})},an=(gt,St)=>zt=>{try{256&gt.$flags$?gt.$lazyInstance$[St](zt):(gt.$queuedListeners$=gt.$queuedListeners$||[]).push([St,zt])}catch(Rt){$e(Rt)}},Bt=(gt,St)=>16&St?Xt.body:gt,gn=gt=>!!(2&gt),hn=new WeakMap,At=gt=>hn.get(gt),sn=(gt,St)=>hn.set(St.$lazyInstance$=gt,St),$t=(gt,St)=>{const zt={$flags$:0,$hostElement$:gt,$cmpMeta$:St,$instanceValues$:new Map};return zt.$onInstancePromise$=new Promise(Rt=>zt.$onInstanceResolve$=Rt),zt.$onReadyPromise$=new Promise(Rt=>zt.$onReadyResolve$=Rt),gt["s-p"]=[],gt["s-rc"]=[],Lt(gt,zt,St.$listeners$),hn.set(gt,zt)},ze=(gt,St)=>St in gt,$e=(gt,St)=>(0,console.error)(gt,St),Pe=new Map,qe=(gt,St,zt)=>{const Rt=gt.$tagName$.replace(/-/g,"_"),tn=gt.$lazyBundleId$,fn=Pe.get(tn);if(fn)return fn[Rt];if(!zt||!BUILD.hotModuleReplacement){const bn=Tn=>(Pe.set(tn,Tn),Tn[Rt]);switch(tn){case"pwa-action-sheet":return fe.e(6301).then(fe.bind(fe,6301)).then(bn,$e);case"pwa-camera-modal":return fe.e(2982).then(fe.bind(fe,2982)).then(bn,$e);case"pwa-toast":return fe.e(3574).then(fe.bind(fe,3574)).then(bn,$e);case"pwa-camera-modal-instance":return fe.e(5640).then(fe.bind(fe,5640)).then(bn,$e);case"pwa-camera":return fe.e(6086).then(fe.bind(fe,6086)).then(bn,$e)}}return fe(5235)(`./${tn}.entry.js`).then(bn=>(Pe.set(tn,bn),bn[Rt]),$e)},Et=new Map,Ft=typeof window<"u"?window:{},Xt=Ft.document||{head:{}},cn={$flags$:0,$resourcesUrl$:"",jmp:gt=>gt(),raf:gt=>requestAnimationFrame(gt),ael:(gt,St,zt,Rt)=>gt.addEventListener(St,zt,Rt),rel:(gt,St,zt,Rt)=>gt.removeEventListener(St,zt,Rt),ce:(gt,St)=>new CustomEvent(gt,St)},Ut=gt=>Promise.resolve(gt),Vt=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Qt=[],tt=[],ot=(gt,St)=>zt=>{gt.push(zt),oe||(oe=!0,St&&4&cn.$flags$?Mt(vt):cn.raf(vt))},Ct=gt=>{for(let St=0;St<gt.length;St++)try{gt[St](performance.now())}catch(zt){$e(zt)}gt.length=0},vt=()=>{Ct(Qt),Ct(tt),(oe=Qt.length>0)&&cn.raf(vt)},Mt=gt=>Ut().then(gt),ln=ot(tt,!0)},5402:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{R:()=>O});const O=(0,fe(5083).F3)("VoiceRecorder",{web:()=>fe.e(9888).then(fe.bind(fe,9888)).then(ge=>new ge.VoiceRecorderWeb)})},9349:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{ZL:()=>l,d2:()=>p,Yl:()=>d,aH:()=>a});var j=fe(467);const ge=(0,fe(5083).F3)("App",{web:()=>fe.e(9303).then(fe.bind(fe,9303)).then(m=>new m.AppWeb)});var Ie=fe(963),o=fe(8326),oe=fe(3953),H=fe(3656),v=fe(5374),w=fe(9858),g=fe(5547),y=fe(4237),C=fe(755),E=fe(9347),s=fe(4234),u=fe(482),a="DesktopPWA",d=!1;const p="https://is2you2.github.io/";window.p5=o;let l=(()=>{var m;class c{constructor(_,M,x,A,T,N,I,z,R){_.is("desktop")?a="DesktopPWA":_.is("mobileweb")?a="MobilePWA":_.is("android")?a="Android":_.is("iphone")&&(a="iOS"),d=_.is("electron"),N.initialize(()=>{let Q=R.CatchGETs(location.href)||{};R.initialize(),T.AddressToQRCodeAct(Q),A.initialize(),"Android"==a&&Ie.W.checkPermissions().then(function(){var ne=(0,j.A)(function*(V){"granted"!=V.display&&(yield Ie.W.requestPermissions())});return function(V){return ne.apply(this,arguments)}}()),A.load_settings(),N.GetFileListFromDB("tmp_files",ne=>{ne.forEach(V=>N.removeFileFromUserPath(V))})}),z.Callback_nakama=()=>{T.initialize(),T.check_if_online(),z.isFirstTime=!1,I.RegisterNotificationReact(),A.RegisterNofiticationActionType()},("Android"==a||"iOS"==a)&&ge.addListener("appUrlOpen",Q=>{x.run(()=>{const ne=Q.url.split(".app").pop();ne&&M.navigateByUrl(ne)})}),T.on_socket_connected.connection_check=()=>{T.check_if_online()},T.on_socket_disconnected.connection_check=()=>{T.check_if_online()}}}return(m=c).\u0275fac=function(_){return new(_||m)(oe.rXU(H.OD),oe.rXU(w.Ix),oe.rXU(oe.SKi),oe.rXU(g.r),oe.rXU(y.X),oe.rXU(C.n),oe.rXU(E.z),oe.rXU(s.y),oe.rXU(u.z3))},m.\u0275cmp=oe.VBU({type:m,selectors:[["app-root"]],decls:2,vars:0,template:function(_,M){1&_&&(oe.j41(0,"ion-app"),oe.nrm(1,"ion-router-outlet"),oe.k0s())},dependencies:[v.U1,v.Rg]}),c})()},482:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{xM:()=>l,z3:()=>m,ud:()=>p});var j=fe(467),O=fe(4023),ge=fe(8326),Ie=fe(9349),o=fe(5083),oe=function(c){return c.Prompt="PROMPT",c.Camera="CAMERA",c.Photos="PHOTOS",c}(oe||{}),H=function(c){return c.Rear="REAR",c.Front="FRONT",c}(H||{}),v=function(c){return c.Uri="uri",c.Base64="base64",c.DataUrl="dataUrl",c}(v||{});class w extends o.E_{getPhoto(h){var _=this;return(0,j.A)(function*(){return new Promise(function(){var M=(0,j.A)(function*(x,A){if(h.webUseInput||h.source===oe.Photos)_.fileInputExperience(h,x,A);else if(h.source===oe.Prompt){let T=document.querySelector("pwa-action-sheet");T||(T=document.createElement("pwa-action-sheet"),document.body.appendChild(T)),T.header=h.promptLabelHeader||"Photo",T.cancelable=!1,T.options=[{title:h.promptLabelPhoto||"From Photos"},{title:h.promptLabelPicture||"Take Picture"}],T.addEventListener("onSelection",function(){var N=(0,j.A)(function*(I){0===I.detail?_.fileInputExperience(h,x,A):_.cameraExperience(h,x,A)});return function(I){return N.apply(this,arguments)}}())}else _.cameraExperience(h,x,A)});return function(x,A){return M.apply(this,arguments)}}())})()}pickImages(h){var _=this;return(0,j.A)(function*(){return new Promise(function(){var M=(0,j.A)(function*(x,A){_.multipleFileInputExperience(x,A)});return function(x,A){return M.apply(this,arguments)}}())})()}cameraExperience(h,_,M){var x=this;return(0,j.A)(function*(){if(customElements.get("pwa-camera-modal")){const A=document.createElement("pwa-camera-modal");A.facingMode=h.direction===H.Front?"user":"environment",document.body.appendChild(A);try{yield A.componentOnReady(),A.addEventListener("onPhoto",function(){var T=(0,j.A)(function*(N){const I=N.detail;null===I?M(new o.I9("User cancelled photos app")):I instanceof Error?M(I):_(yield x._getCameraPhoto(I,h)),A.dismiss(),document.body.removeChild(A)});return function(N){return T.apply(this,arguments)}}()),A.present()}catch{x.fileInputExperience(h,_,M)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),x.fileInputExperience(h,_,M)})()}fileInputExperience(h,_,M){let x=document.querySelector("#_capacitor-camera-input");const A=()=>{var T;null===(T=x.parentNode)||void 0===T||T.removeChild(x)};x||(x=document.createElement("input"),x.id="_capacitor-camera-input",x.type="file",x.hidden=!0,document.body.appendChild(x),x.addEventListener("change",T=>{const N=x.files[0];let I="jpeg";if("image/png"===N.type?I="png":"image/gif"===N.type&&(I="gif"),"dataUrl"===h.resultType||"base64"===h.resultType){const z=new FileReader;z.addEventListener("load",()=>{if("dataUrl"===h.resultType)_({dataUrl:z.result,format:I});else if("base64"===h.resultType){const R=z.result.split(",")[1];_({base64String:R,format:I})}A()}),z.readAsDataURL(N)}else _({webPath:URL.createObjectURL(N),format:I}),A()}),x.addEventListener("cancel",T=>{M(new o.I9("User cancelled photos app")),A()})),x.accept="image/*",x.capture=!0,h.source===oe.Photos||h.source===oe.Prompt?x.removeAttribute("capture"):h.direction===H.Front?x.capture="user":h.direction===H.Rear&&(x.capture="environment"),x.click()}multipleFileInputExperience(h,_){let M=document.querySelector("#_capacitor-camera-input-multiple");const x=()=>{var A;null===(A=M.parentNode)||void 0===A||A.removeChild(M)};M||(M=document.createElement("input"),M.id="_capacitor-camera-input-multiple",M.type="file",M.hidden=!0,M.multiple=!0,document.body.appendChild(M),M.addEventListener("change",A=>{const T=[];for(let N=0;N<M.files.length;N++){const I=M.files[N];let z="jpeg";"image/png"===I.type?z="png":"image/gif"===I.type&&(z="gif"),T.push({webPath:URL.createObjectURL(I),format:z})}h({photos:T}),x()}),M.addEventListener("cancel",A=>{_(new o.I9("User cancelled photos app")),x()})),M.accept="image/*",M.click()}_getCameraPhoto(h,_){return new Promise((M,x)=>{const A=new FileReader,T=h.type.split("/")[1];"uri"===_.resultType?M({webPath:URL.createObjectURL(h),format:T,saved:!1}):(A.readAsDataURL(h),A.onloadend=()=>{const N=A.result;M("dataUrl"===_.resultType?{dataUrl:N,format:T,saved:!1}:{base64String:N.split(",")[1],format:T,saved:!1})},A.onerror=N=>{x(N)})})}checkPermissions(){var h=this;return(0,j.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw h.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw h.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var h=this;return(0,j.A)(function*(){throw h.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var h=this;return(0,j.A)(function*(){throw h.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var h=this;return(0,j.A)(function*(){throw h.unavailable("Not implemented on web.")})()}}new w;const y=(0,o.F3)("Camera",{web:()=>new w});var C=fe(3953),E=fe(5374),s=fe(9900),u=fe(4234),a=fe(345),d=fe(755),p=!1;const l=8e4;let m=(()=>{var c;class h{constructor(M,x,A,T,N,I){this.modalCtrl=M,this.p5toast=x,this.lang=A,this.sanitizer=T,this.indexed=N,this.loadingCtrl=I,p=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",z=>{p=!!z.matches})}initialize(){this.p5key=new ge(M=>{M.setup=()=>{M.noCanvas(),M.noLoop(),M.KeyShortCut={}},M.keyPressed=x=>{switch(x.code){case"Backquote":M.KeyShortCut.Backquote&&M.KeyShortCut.Backquote(x);break;case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":case"Digit0":case"Numpad1":case"Numpad2":case"Numpad3":case"Numpad4":case"Numpad5":case"Numpad6":case"Numpad7":case"Numpad8":case"Numpad9":case"Numpad0":if(M.KeyShortCut.Digit){let A=(Number(x.code.slice(-1))-1+10)%10;M.KeyShortCut.Digit(A)}break;case"KeyQ":case"KeyW":case"KeyE":case"KeyR":case"KeyT":M.KeyShortCut.BottomTab&&M.KeyShortCut.BottomTab(x.code.slice(-1));break;case"KeyA":M.KeyShortCut.AddAct&&M.KeyShortCut.AddAct();break;case"KeyS":M.KeyShortCut.SKeyAct&&M.KeyShortCut.SKeyAct();break;case"KeyD":M.KeyShortCut.DeleteAct&&M.KeyShortCut.DeleteAct();break;case"KeyF":M.KeyShortCut.FKeyAct&&M.KeyShortCut.FKeyAct();break;case"Escape":M.KeyShortCut.Escape&&M.KeyShortCut.Escape();break;case"KeyZ":case"KeyX":case"KeyC":case"KeyV":M.KeyShortCut.HistoryAct&&M.KeyShortCut.HistoryAct(x.code.slice(-1))}"Enter"===x.key&&M.KeyShortCut.EnterAct&&M.KeyShortCut.EnterAct(x)}})}RemoveAllModals(M=(()=>{})){var x=this;return(0,j.A)(function*(){let A="init";for(;A;)A=yield x.modalCtrl.getTop(),A&&(yield A.dismiss());M&&M()})()}CatchGETs(M){const x=M.split("?");if(x.length>1){const A=x[1].split("&");let T={};for(let N=0,I=A.length;N<I;N++){const z=A[N].split("=");T[z[0]]||(T[z[0]]=[]),T[z[0]].push(decodeURIComponent(z[1]))}return T}}readasQRCodeFromString(M){try{let x=new O({content:M,padding:4,width:8,height:8,color:p?"#bbb":"#444",background:p?"#111":"#fff",ecl:"M"}).svg();return this.sanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${btoa(x)}`)}catch(x){console.log("readasQRCodeFromString: ",x),this.p5toast.show({text:`${this.lang.text.GlobalAct.failed_to_gen_qr}: ${x}`})}}CreateGodotIFrame(M,x,A=""){var T=this;let N=!1;return new Promise(function(){var I=(0,j.A)(function*(z){let R=function(){var X=(0,j.A)(function*(){try{if("godot"!=window.godot)throw"No godot";if(A&&!T.godot_window[A])throw"No act ready";N=!0,yield T.indexed.GetGodotIndexedDB(),z()}catch{setTimeout(()=>{R()},1e3)}});return function(){return X.apply(this,arguments)}}();T.godot_window&&T.godot_window.quit_godot&&T.godot_window.quit_godot(),T.godot_splash&&T.godot_splash.remove(),T.godot&&T.godot.remove(),window.godot="";let Q=document.createElement("iframe");Q.id="godot",Q.setAttribute("src","assets/html/index.html"),Q.setAttribute("frameborder","0"),Q.setAttribute("class","full_screen"),Q.setAttribute("allow","fullscreen; encrypted-media"),Q.setAttribute("scrolling","no"),Q.setAttribute("withCredentials","true"),"content_viewer_canvas"==M&&(x.create_thumbnail_p5=function(){var X=(0,j.A)(function*(U,F=void 0){new ge(K=>{K.setup=()=>{K.noCanvas(),K.pixelDensity(1),K.loadImage("data:image/png;base64,"+U,function(){var ie=(0,j.A)(function*(Te){let q=K.createCanvas(Te.width,Te.height);K.image(Te,0,0),K.textSize(16),K.textWrap(K.CHAR);let k=K.height/24;K.push(),K.translate(k/6,k/6),K.fill(0),K.text(T.godot_window.filename,k,k,K.width-2*k,K.height-2*k),K.filter(K.BLUR,3,!1),K.pop(),K.fill(255),K.text(T.godot_window.filename,k,k,K.width-2*k,K.height-2*k);let ee=q.elt.toDataURL("image/png").replace("image/png","image/octet-stream");try{yield T.indexed.saveBase64ToUserPath(ee,`${x.alt_path||x.path}_thumbnail.png`),T.modulate_thumbnail(F,"")}catch(me){console.log("p.saveFrames: ",me)}K.remove()});return function(Te){return ie.apply(this,arguments)}}(),ie=>{console.error("create_thumbnail_load thumbnail failed: ",ie),K.remove()})}})});return function(U){return X.apply(this,arguments)}}()),document.getElementById(M).appendChild(Q),T.godot_window=Q.contentWindow||Q.contentDocument,Object.keys(x).forEach(X=>T.godot_window[X]=x[X]),T.godot=Q,yield R()});return function(z){return I.apply(this,arguments)}}())}req_file_info(M){var x=this;return(0,j.A)(function*(){return new Promise(function(){var A=(0,j.A)(function*(T){T(yield x.indexed.GetFileInfoFromDB(M))});return function(T){return A.apply(this,arguments)}}())})()}req_file_part_base64(M,x,A){let T="",N=new Uint8Array(M.contents.slice(x*l,(x+1)*l));for(let z=0,R=N.byteLength;z<R;z++)T+=String.fromCharCode(N[z]);let I=btoa(T);return this.indexed.saveTextFileToUserPath(JSON.stringify({type:"upload",index:x}),`${A}.history`),I}save_file_part(M,x,A){this.indexed.saveBase64ToUserPath(","+A,`${M}_part/${x}.part`),this.indexed.saveTextFileToUserPath(JSON.stringify({type:"download",index:x}),`${M}.history`)}remove_req_file_info(M,x){delete M.content.transfer_index,this.indexed.removeFileFromUserPath(`${x}.history`)}modulate_thumbnail(M,x,A){var T=this;return(0,j.A)(function*(){try{let N=yield T.indexed.loadBlobFromUserPath(`${M.path}_thumbnail.png`,"image/png"),I=URL.createObjectURL(N);return M.thumbnail=T.sanitizer.bypassSecurityTrustUrl(I),void setTimeout(()=>{URL.revokeObjectURL(I),x&&URL.revokeObjectURL(x)},100)}catch{}switch(M.viewer){case"image":try{if(!M.url)throw"No URL";if(!(yield fetch(M.url,{signal:null==A?void 0:A.signal})).ok)throw"Not ok";M.thumbnail=M.url}catch{x&&(M.thumbnail=T.sanitizer.bypassSecurityTrustUrl(x))}break;case"text":if(M.url){let N=yield fetch(M.url,{signal:null==A?void 0:A.signal}).then(I=>I.text());M.text=N.split("\n")}else new ge(N=>{N.setup=()=>{N.noCanvas(),N.loadStrings(x,I=>{M.text=I,URL.revokeObjectURL(x),N.remove()},I=>{console.log("\ud14d\uc2a4\ud2b8 \uc5f4\ub78c \ubd88\uac00: ",I),M.text=[T.lang.text.ChatRoom.downloaded],URL.revokeObjectURL(x),N.remove()})}})}x&&setTimeout(()=>{URL.revokeObjectURL(x)},100)})()}set_viewer_category(M){try{if(this.set_viewer_category_from_ext(M),"disabled"==M.viewer)if(0==M.type.indexOf("image/"))M.viewer="image";else if(0==M.type.indexOf("audio/"))M.viewer="audio";else if(0==M.type.indexOf("video/"))M.viewer="video";else{if(0!=M.type.indexOf("text/"))throw"\uc790\ub3d9\uc9c0\uc815\ub418\uc9c0 \uc54a\uc740 \ud0c0\uc785";M.viewer="text"}}catch(x){console.log("\ubd88\ud655\uc2e4\ud55c \ud0c0\uc785 \uc9c0\uc815: ",x,"/ type: ",M.type)}}set_viewer_category_from_ext(M){switch(M.file_ext){case"blend":M.viewer="blender";break;case"pck":M.viewer="godot";break;case"png":case"jpeg":case"jpg":case"webp":case"gif":case"svg":M.viewer="image";break;case"wav":case"ogg":case"mp3":case"aac":M.viewer="audio";break;case"mp4":case"ogv":M.viewer="video";break;case"webm":M.type?0==M.type.indexOf("audio/")?M.viewer="audio":0==M.type.indexOf("video/")&&(M.viewer="video"):M.viewer="disabled";break;case"sh":case"c":case"cs":case"ts":case"js":case"cc":case"php":case"h":case"cpp":case"rs":case"java":case"gd":case"shader":case"py":case"ino":case"pde":case"asm":case"bas":case"pas":case"asp":case"html":case"xml":case"css":case"scss":case"pl":case"md":case"prop":case"properties":case"json":case"yml":M.viewer="code";break;case"csv":case"conf":case"log":case"txt":case"gitignore":M.viewer="text";break;case"pdf":M.viewer="pdf";break;default:M.viewer="disabled"}}GetBase64ThroughFileReader(M){return new Promise((x,A)=>{var T;let N=new FileReader;N=null!==(T=N._realReader)&&void 0!==T?T:N,N.onload=I=>{x(I.target.result.replace(/"|\\|=/g,""))},N.onerror=I=>{A(I)},N.readAsDataURL(M)})}Base64ToBlob(M,x=""){let A=atob(M.split(",")[1]),T=new ArrayBuffer(A.length),N=new Int8Array(T);for(let z=0,R=A.length;z<R;z++)N[z]=A.charCodeAt(z);return new Blob([N],{type:x})}upload_file_to_storage(M,x,A,T,N,I){var z=this;return(0,j.A)(function*(){let R;R=I||(yield z.loadingCtrl.create({message:z.lang.text.Settings.TryToFallbackFS})),R.present();let ne,Q=!1;N&&(ne=yield z.try_upload_to_user_custom_fs(M,x,R)),R.message=z.lang.text.GlobalAct.CheckCdnServer;let V,X=new AbortController;try{if(ne)throw Q=!0,"\uc0ac\uc6a9\uc790 \uc9c0\uc815\uc11c\ubc84\uc5d0\uc11c \uc774\ubbf8 \uc131\uacf5\ud568";let U=(new Date).getTime(),F=M.filename.substring(0,M.filename.lastIndexOf(".")),K=`${x}_${F}_${U}.${M.file_ext}`;ne=`${A}//${T}:9002/cdn/${K}`,V=setInterval((0,j.A)(function*(){let ee=yield fetch(`${A}//${T}:9001/filesize/${K}`,{method:"POST",signal:X.signal}),me=Number(yield ee.text()),xe=Math.floor(me/M.size*100);R.message=`${M.filename}: ${xe}%`}),700);let ie=new FormData,Te=new File([M.blob],K);if(ie.append("files",Te),!(yield fetch(`${A}//${T}:9001/cdn/${K}`,{method:"POST",body:ie})).ok)throw"\uc5c5\ub85c\ub4dc \ub2e8\uacc4\uc5d0\uc11c \uc2e4\ud328";if(clearInterval(V),X.abort(),!(yield fetch(ne)).ok)throw"\uc694\uccad \uc2e4\ud328";Q=!0}catch(U){clearInterval(V),X.abort(),R.message=z.lang.text.GlobalAct.CancelingUpload,console.warn("cdn \ud30c\uc77c \uc5c5\ub85c\ub4dc \ub2e8\uacc4 \uc2e4\ud328:",U)}return R.dismiss(),Q?ne:void 0})()}remove_file_from_storage(M){return(0,j.A)(function*(){let x=M.split("/cdn/"),A=x.pop(),T=x.shift(),N=T.lastIndexOf(":");N>5&&(T=T.substring(0,N)),yield fetch(`${T}:9001/remove/${A}`,{method:"POST"})})()}remove_files_from_storage_with_key(M,x){return(0,j.A)(function*(){let A=M.lastIndexOf(":");A>5&&(M=M.substring(0,A)),yield fetch(`${M}:9001/remove_key/${x}`,{method:"POST"})})()}try_upload_to_user_custom_fs(M,x,A,T){var N=this;return(0,j.A)(function*(){let I;I=A||(yield N.loadingCtrl.create({message:N.lang.text.Settings.TryToFallbackFS}));let X,z=(new Date).getTime(),R=M.filename.substring(0,M.filename.lastIndexOf(".")),Q=`${x}_${R}_${z}.${M.file_ext}`,ne=new FormData,V=new File([M.blob],Q);ne.append("files",V),T||(T=localStorage.getItem("fallback_fs"));let U,F=new AbortController;try{if(!T)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let K=T.split("://"),ie=K.pop().split(":"),Te=K.pop();if(Te?Te+=":":Te=ie[0].replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")?"https:":"http:",X=`${Te}//${ie[0]}:${ie[1]||9002}/cdn/${Q}`,U=setInterval((0,j.A)(function*(){let ee=yield fetch(`${Te}//${ie}:9001/filesize/${Q}`,{method:"POST",signal:F.signal}),me=Number(yield ee.text()),xe=Math.floor(me/M.size*100);A.message=`${M.filename}: ${xe}%`}),700),!(yield fetch(`${Te}//${ie[0]}:9001/cdn/${Q}`,{method:"POST",body:ne})).ok)throw"\uc5c5\ub85c\ub4dc \ub2e8\uacc4\uc5d0\uc11c \uc2e4\ud328";clearInterval(U),F.abort();let k=yield fetch(X);if(A||I.dismiss(),k.ok)return X;throw"\uc694\uccad \uc2e4\ud328"}catch{return clearInterval(U),F.abort(),void(A||I.dismiss())}})()}load_blender_file(M,x,A,T,N,I){var z=this;return new ge(R=>{let U,Q=[],ne=[],X={};R.setup=(0,j.A)(function*(){let K,F=R.createCanvas(M.clientWidth,M.clientHeight,R.WEBGL);F.parent(M),R.canvas=F,R.textureMode(R.NORMAL),R.textureWrap(R.REPEAT),R.clear(255,255,255,0),R.pixelDensity(1);try{K=yield z.indexed.loadBlobFromUserPath(x.path,x.type||"")}catch{try{K=yield(yield fetch(x.url,{signal:null==I?void 0:I.signal})).blob()}catch(q){console.log("\ubdf0\uc5b4\uc5d0\uc11c \ud30c\uc77c \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",q),N()}}let ie=R.createElement("iframe");ie.elt.id="jsBlend",ie.elt.setAttribute("src","assets/js.blend/index.html"),ie.elt.setAttribute("frameborder","0"),ie.elt.setAttribute("class","full_screen"),ie.elt.setAttribute("allow","fullscreen; encrypted-media"),ie.elt.setAttribute("scrolling","no"),ie.elt.setAttribute("withCredentials","true"),ie.hide(),M.appendChild(ie.elt),ie.elt.contentWindow.TARGET_FILE=K,ie.elt.onload=(0,j.A)(function*(){if(!K)return z.p5toast.show({text:z.lang.text.ContentViewer.CannotOpenText}),void(A&&A.dismiss());U=R.createDiv(),U.parent(M),U.id("logDiv"),U.style("position","absolute"),U.style("top","0"),U.style("left","0"),U.style("width","100%"),U.style("height","100%"),U.style("max-height",`${M.clientHeight}px`),U.style("pointer-events","none");let Te=yield ie.elt.contentWindow.JSBLEND(K);const q=100;let k=Te.file.AB;if(Te.file.objects.PackedFile)for(let at=0,et=Te.file.objects.PackedFile.length;at<et;at++){let st=Te.file.objects.PackedFile[at],Dt=st.data.__data_address__,Lt=k.slice(Dt,Dt+st.size),an=new Blob([Lt]),Bt=URL.createObjectURL(an);R.loadImage(Bt,gn=>{X[st.data.__data_address__]=gn,URL.revokeObjectURL(Bt)},gn=>{console.log("\ud14d\uc2a4\uccd0 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",gn),URL.revokeObjectURL(Bt)})}let ee=Te.file.objects.vec2f,me=0,xe=Te.file.objects.Mesh,Ge=Te.file.objects.vec3f,Ye=0,mt=Te.file.objects.vec2i,We=0;for(let at=0,et=Te.file.objects.Object.length;at<et;at++){let st=Te.file.objects.Object[at];A&&(A.message=`${z.lang.text.ContentViewer.ReadObject}: ${st.aname}`);let Dt=R.createVector(-st.loc[0]*q,-st.loc[2]*q,st.loc[1]*q),on=R.createVector(st.rot[0],st.rot[2],-st.rot[1]);switch(st.type){case 1:{{let $e=["noimp","colonly","convcolonly","navmesh"],Pe=!1;for(let qe=0,Et=$e.length;qe<Et;qe++)if(-1!==st.aname.indexOf($e[qe],st.aname.length-$e[qe].length)){Pe=!0;break}if(Pe||(Pe=448==st.base_flag),Pe)continue}let an,Bt,gn,Yt,Lt=null;for(let $e=0,Pe=xe.length;$e<Pe;$e++)if(xe[$e].address==st.data.address){Lt=$e;break}try{let $e=-1;for(let Pe=0,qe=ee.length;Pe<qe;Pe++)if(ee[Pe].address&&($e++,$e==Lt)){me=Pe;break}}catch{}try{let $e=-1,Pe=!1,qe=Ge.length;for(let Et=0;Et<qe;Et++)if(Ge[Et].address){if($e++,Pe){an=Ge.slice(Ye,Et);break}$e==Lt&&(Ye=Et,Pe=!0)}an||(an=Ge.slice(Ye,qe))}catch{}try{let $e=-1,Pe=!1,qe=mt.length;for(let Et=0;Et<qe;Et++)if(mt[Et].address){if($e++,Pe){Bt=mt.slice(We,Et);break}$e==Lt&&(We=Et,Pe=!0)}Bt||(Bt=mt.slice(We,qe))}catch{}if(st.data.ldata.layers.length)for(let $e=0,Pe=st.data.ldata.layers.length;$e<Pe;$e++)11===st.data.ldata.layers[$e].type&&(Yt=st.data.ldata.layers[$e].data);else Yt=st.data.ldata.layers.data;R.beginGeometry(),R.push(),R.translate(Dt),R.scale(st.size[0],st.size[2],st.size[1]),st.rot[0]+st.rot[1]+st.rot[2]&&(U.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${st.aname}: ${z.lang.text.ContentViewer.MayGimbalLock}</div>`,R.rotate(R.HALF_PI,on));try{let $e=[];for(let Pe=0,qe=an.length;Pe<qe;Pe++)$e.push([]);for(let Pe=0,qe=Bt.length;Pe<qe;Pe++){var ct,dt;let Et=null!==(ct=Bt[Pe].x)&&void 0!==ct?ct:Bt[Pe].v1,Ft=null!==(dt=Bt[Pe].y)&&void 0!==dt?dt:Bt[Pe].v2;$e[Et].push(Ft),$e[Ft].push(Et)}for(let Et,Ft,qe=Yt.length-1;qe>=0;qe--){var Ve,Qe,Ze;let Xt=Yt[qe].i,cn=null!==(Ve=an[Xt].x)&&void 0!==Ve?Ve:an[Xt].co[0],Ut=null!==(Qe=an[Xt].y)&&void 0!==Qe?Qe:an[Xt].co[1],Vt=null!==(Ze=an[Xt].z)&&void 0!==Ze?Ze:an[Xt].co[2];if(void 0!==Ft){try{if(!$e[Ft].includes(Xt))throw"\ub9c8\uc9c0\ub9c9 \uc810\uc73c\ub85c\ubd80\ud130 \uadf8\ub9b4 \uc218 \uc5c6\uc74c";R.vertex(-cn*q,-Vt*q,Ut*q,ee[me+qe].x,-ee[me+qe].y);let tt=!1;if(Ft!=Et&&(tt=$e[Xt].includes(Et)),tt)throw"\ub3cc\uc544\uac08 \uc218 \uc788\ub294\ub370 \ub3cc\uc544\uac00\uc9c0 \uc54a\ub294\ub2e4\uba74 \uc0c8 \uc2dc\uc791\uc810\uc73c\ub85c \uc778\uc2dd"}catch{R.endShape(R.CLOSE),Ft=void 0;continue}Ft=Xt}else R.beginShape(),R.vertex(-cn*q,-Vt*q,Ut*q,ee[me+qe].x,-ee[me+qe].y),Et=Xt,Ft=Xt}}catch($e){console.log("\uba54\uc26c \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",$e),U.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${st.aname}: ${z.lang.text.ContentViewer.LoadMeshFailed}: ${$e}</div>`}R.pop(),gn=R.endGeometry();let At,sn,$t,ze=0;try{if(!st.data.mat.length)throw"no_mat";for(let $e=0,Pe=st.data.mat.length;$e<Pe;$e++){try{let qe=st.data.mat[$e].nodetree.nodes.first.next.inputs.first.default_value.value;sn=R.color(255*qe[0],255*qe[1],255*qe[2],255*qe[3])}catch(qe){console.log("\ubca0\uc774\uc2a4 \uc0c9\uc0c1 \uac00\uc838\uc624\uae30 \uc2e4\ud328: ",qe),U.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${st.aname}: ${z.lang.text.ContentViewer.FailedGetBaseColor}: ${qe}</div>`}try{let qe=st.data.mat[$e].nodetree.nodes.first.next.inputs.last.prev.default_value.value;ze=st.data.mat[$e].nodetree.nodes.first.next.inputs.last.default_value.value,$t=R.color(255*qe[0],255*qe[1],255*qe[2],255*qe[3])}catch(qe){U.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${st.aname}: ${z.lang.text.ContentViewer.FailedGetEmitColor}: ${qe}</div>`}if(st.data.mat[$e].nodetree.nodes.last.id){let qe=st.data.mat[$e].nodetree.nodes.last.id.packedfile;if(!qe)throw"unpacked";At=qe.data.__data_address__}}}catch($e){switch($e){case"unpacked":U.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${st.aname}: ${z.lang.text.ContentViewer.LinkedTexFile}</div>`;break;case"no_mat":U.elt.innerHTML+=`<div style="color: var(--ion-color-medium-shade)">${st.aname}: ${z.lang.text.ContentViewer.NoMaterial}</div>`;break;default:console.log(st.aname,"_\uc7ac\uc9c8 \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",$e),U.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${st.aname}: ${$e}</div>`}}gn.computeNormals(),ne.push({id:st.data.address,name:st.data.aname,color:sn,emissionColor:$t,emissionStrength:ze,texture:At,mesh:gn})}break;case 10:Q.length<5?(U.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${st.aname}: ${z.lang.text.ContentViewer.OnWorkReadLightMode}</div>`,Q.push({type:"point",loc:Dt,rot:on,color:R.color(255,255,255)})):U.elt.innerHTML+=`<div style="color: var(--ion-color-medium-shade)">${st.aname}: ${z.lang.text.ContentViewer.ReachLightLimit}</div>`}yield new Promise(Lt=>setTimeout(Lt,0))}A&&A.dismiss(),setTimeout(()=>{U.elt.remove()},8e3),T()}),R.camera(0,0,-R.height/2/R.tan(30*R.PI/180),0,0,0,0,1,0)}),R.draw=()=>{if(R.clear(255,255,255,0),R.orbitControl(),Q.length)for(let F=0,K=Q.length;F<K;F++)"point"===Q[F].type&&R.pointLight(Q[F].color,Q[F].loc);else R.directionalLight(128,128,128,-1,1,1);R.ambientLight(128);for(let F=0,K=ne.length;F<K;F++)R.push(),ne[F].texture?(R.noStroke(),X[ne[F].texture]&&R.texture(X[ne[F].texture])):ne[F].color&&(R.noStroke(),R.ambientMaterial(ne[F].color)),ne[F].emissionStrength&&(R.noStroke(),R.emissiveMaterial(ne[F].emissionColor)),R.model(ne[F].mesh),R.pop()},R.windowResized=()=>{setTimeout(()=>{M.style.maxHeight=window.innerHeight-56-45+"px",U&&U.style("max-height",`${M.clientHeight}px`),R.resizeCanvas(M.clientWidth,M.clientHeight)},50)}})}StoreShortCutAct(){this.CacheShortCut=this.p5key.KeyShortCut,this.p5key.KeyShortCut={}}RestoreShortCutAct(){this.p5key.KeyShortCut=this.CacheShortCut,this.CacheShortCut=void 0}from_camera(M,x){var A=this;return(0,j.A)(function*(){let T={},N=yield A.loadingCtrl.create({message:A.lang.text.TodoDetail.WIP});try{const I=yield y.getPhoto({quality:90,resultType:v.Base64,source:oe.Camera});N.present(),T.filename=`Camera_${(new Date).toLocaleString().replace(/[:|.|\/]/g,"_")}.${I.format}`,T.file_ext=I.format,T.base64="data:image/jpeg;base64,"+I.base64String,T.thumbnail=A.sanitizer.bypassSecurityTrustUrl(T.base64),T.type=`image/${I.format}`,T.typeheader="image",T.content_related_creator=[{user_id:x.user_id,timestamp:(new Date).getTime(),display_name:x.display_name,various:"camera"}],T.content_creator={user_id:x.user_id,timestamp:(new Date).getTime(),display_name:x.display_name,various:"camera"},T.path=`${M}${T.filename}`,T.viewer="image";let R=yield A.indexed.saveBase64ToUserPath(T.base64,T.path);T.blob=new Blob([R],{type:T.type}),T.size=T.blob.size}catch(I){console.log("\uce74\uba54\ub77c \ud589\ub3d9 \uc2e4\ud328: ",I),T=void 0}return N.dismiss(),T})()}selected_blobFile_callback_act(M,x,A,T="loaded",N=[]){let I={};return I.filename=M.name,I.file_ext=M.name.split(".").pop()||M.type||this.lang.text.ChatRoom.unknown_ext,I.size=M.size,I.type=M.type||M.type_override,I.path=`${x}${I.filename}`,I.blob=M,I.content_related_creator=[...N,{user_id:A.user_id,timestamp:(new Date).getTime(),display_name:A.display_name,various:T}],I.content_creator={user_id:A.user_id,timestamp:(new Date).getTime(),display_name:A.display_name,various:T},this.set_viewer_category(I),I}voidDraw_fileAct_callback(M,x,A,T){var N=this;return(0,j.A)(function*(){let I={};I.filename=M.data.name,I.file_ext="png",I.type="image/png",I.viewer="image",T?(I.content_related_creator=T,I.content_creator={user_id:A.user_id,timestamp:(new Date).getTime(),display_name:A.display_name,various:"voidDraw"}):(I.content_related_creator=[{user_id:A.user_id,timestamp:(new Date).getTime(),display_name:A.display_name,various:"voidDraw"}],I.content_creator={timestamp:(new Date).getTime(),display_name:N.CallbackNakama.users.self.display_name,various:"voidDraw"}),I.typeheader="image",I.path=`${x}${I.filename}`,I.thumbnail=N.sanitizer.bypassSecurityTrustUrl(M.data.img);let z=yield N.indexed.saveBase64ToUserPath(M.data.img,I.path),R=new Blob([z],{type:I.type});return I.blob=new File([R],M.data.name),I.size=I.blob.size,M.data.loadingCtrl.dismiss(),I})()}TextEditorNewFileName(){let M=new Date;return`texteditor_${M.getUTCFullYear()}-${("0"+(M.getMonth()+1)).slice(-2)}-${("0"+M.getDate()).slice(-2)}_${("0"+M.getHours()).slice(-2)}-${("0"+M.getMinutes()).slice(-2)}-${("0"+M.getSeconds()).slice(-2)}.txt`}TextEditorAfterAct(M,x){let A={};return A.content_creator={user_id:x.user_id,timestamp:(new Date).getTime(),display_name:x.display_name,various:"textedit"},A.content_related_creator=[],A.content_related_creator.push(A.content_creator),A.blob=M.blob,A.path=M.path,A.size=M.blob.size,A.filename=M.blob.name||this.TextEditorNewFileName(),A.file_ext=A.filename.split(".").pop(),A.type="text/plain",A.typeheader="text",A.viewer="text",A}open_custom_site(M){try{let x=M.split(":");if(x.length>2&&x.pop(),1==x.length){let A=M.replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"");x[0]="//"+x[0],x.unshift(A?"https":"http")}("DesktopPWA"==Ie.aH||"MobilePWA"==Ie.aH)&&window.open(x.join(":")+":9001","_blank")}catch{}}GetValueFromClipboard(){return(0,j.A)(function*(){const M=yield navigator.clipboard.read();let x={type:void 0,value:void 0};try{for(let A of M)for(let T of A.types){let N=yield A.getType(T);if("image/png"==T){x.type=T;let I=new File([N],"image.png");x.value=I;break}if("text/plain"==T){x.type=T,x.value=yield N.text();break}}return x}catch(A){throw console.error("\ud074\ub9bd\ubcf4\ub4dc\uc5d0\uc11c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",A),x.type="error",x.value=A,x}})()}WriteValueToClipboard(M,x,A){var T=this;return(0,j.A)(function*(){try{let N={},I=x;"text/plain"==M&&(I=new Blob([x],{type:M})),N[M]=I,yield navigator.clipboard.write([new ClipboardItem(N)]),"DesktopPWA"==Ie.aH&&T.p5toast.show({text:`${T.lang.text.GlobalAct.PCClipboard}: ${A||x}`})}catch(N){throw console.log("\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ud558\uae30 \uc624\ub958: ",N),T.p5toast.show({text:`${T.lang.text.GlobalAct.ClipboardFailed}: ${N}`}),N}})()}}return(c=h).\u0275fac=function(M){return new(M||c)(C.KVO(E.W3),C.KVO(s.G),C.KVO(u.y),C.KVO(a.up),C.KVO(d.n),C.KVO(E.Xi))},c.\u0275prov=C.jDH({token:c,factory:c.\u0275fac,providedIn:"root"}),h})()},755:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{n:()=>o});var j=fe(467),O=fe(3953),ge=fe(9900),Ie=fe(4234);let o=(()=>{var oe;class H{constructor(w,g){this.p5toast=w,this.lang=g}initialize(w=(()=>{})){if(this.ionicDB)return void w();let g=indexedDB.open("/ionicfs",10);g.onsuccess=y=>{y.target.result.close(),indexedDB.open("/ionicfs",11).onsuccess=s=>{this.ionicDB=s.target.result,w()}},g.onupgradeneeded=y=>{y.target.result.createObjectStore("FILE_DATA")},g.onerror=y=>{indexedDB.open("/ionicfs",11).onsuccess=E=>{this.ionicDB=E.target.result,w()}}}GetGodotIndexedDB(){var w=this;return(0,j.A)(function*(){if(!w.godotDB)return new Promise((g,y)=>{let C=indexedDB.open("/userfs",21);C.onsuccess=E=>{w.godotDB=C.result,g(void 0)},C.onerror=E=>{console.error("IndexedDB initialized failed: ",E),y(E)}})})()}createRecursiveDirectory(w,g=this.ionicDB){let y=w.lastIndexOf("/"),C=w.substring(0,y);C&&this.checkIfFileExist(C,E=>{let s=g.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${C}`);s.onsuccess=u=>{"success"!=u.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",w),this.createRecursiveDirectory(C,g)},s.onerror=u=>{console.error("IndexedDB createRecursiveDirectory failed: ",u)}})}createDirectory(w){return new Promise((g,y)=>{this.checkIfFileExist(w,C=>{let E=this.ionicDB.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${w}`);E.onsuccess=s=>{"success"!=s.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",w),g(void 0)},E.onerror=s=>{console.error("IndexedDB createRecursiveDirectory failed: ",s),y(s)}})})}saveTextFileToUserPath(w,g,y=(E=>{}),C=this.ionicDB){return this.createRecursiveDirectory(g,C),new Promise((E,s)=>{let u=C.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:(new TextEncoder).encode(w)},`/userfs/${g}`);u.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",g),y(a),E(a)},u.onerror=a=>{s(a)}})}saveBase64ToUserPath(w,g,y=(E=>{}),C=this.ionicDB){return new Promise((E,s)=>{let u=atob(w.split(",")[1]),a=new ArrayBuffer(u.length),d=new Int8Array(a);for(let l=0,m=u.length;l<m;l++)d[l]=u.charCodeAt(l);this.createRecursiveDirectory(g,C);let p=C.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:d},`/userfs/${g}`);p.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",g),y(d),E(d)},p.onerror=l=>{s(l)}})}saveInt8ArrayToUserPath(w,g,y=this.ionicDB){return new Promise((C,E)=>{this.createRecursiveDirectory(g,y);let s=y.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:w},`/userfs/${g}`);s.onsuccess=u=>{"success"!=u.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",g),C()},s.onerror=u=>{E(u)}})}saveBlobToUserPath(w,g,y=(E=>{}),C=this.ionicDB){var E=this;return new Promise(function(){var s=(0,j.A)(function*(u,a){let d;try{let l=yield w.arrayBuffer();d=new Int8Array(l)}catch(l){a(l)}E.createRecursiveDirectory(g,C);let p=C.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:d},`/userfs/${g}`);p.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",g),y(d),u(d)},p.onerror=l=>{a(l)}});return function(u,a){return s.apply(this,arguments)}}())}saveFileToUserPath(w,g,y=(E=>{}),C=this.ionicDB){return this.createRecursiveDirectory(g,C),new Promise((E,s)=>{let u=C.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put(w,`/userfs/${g}`);u.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",g),y(a),E(a)},u.onerror=a=>{s(a)}})}checkIfFileExist(w,g=(C=>{}),y=this.ionicDB){return new Promise((C,E)=>{let s=y.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").count(`/userfs/${w}`);s.onsuccess=u=>{let a=u.target.result;g(a),C(a)},s.onerror=u=>{E(u)}})}GetFileListFromDB(w,g=(C=>{}),y=this.ionicDB){let C=y.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").getAllKeys();return new Promise((E,s)=>{C.onsuccess=u=>{const a=u.target.result;for(let d=a.length-1;d>=0;d--)a[d].includes(w)?a[d]=a[d].substring(8):a.splice(d,1);g(a),E(a)},C.onerror=u=>{s(u)}})}GetFileInfoFromDB(w,g=(C=>{}),y=this.ionicDB){let C=y.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${w}`);return new Promise((E,s)=>{C.onsuccess=u=>{const a=u.target.result;g(a),E(a)},C.onerror=u=>{s(u)}})}loadTextFromUserPath(w,g=((C,E)=>{}),y=this.ionicDB){return new Promise(C=>{let E=y.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${w}`);E.onsuccess=s=>{if(s.target.result){let u=(new TextDecoder).decode(s.target.result.contents);g(!0,u),C(u)}else g(!1,`No file: , ${w}`),C(void 0)},E.onerror=s=>{console.error("IndexedDB loadTextFromUserPath failed: ",s),C(void 0)}})}loadBlobFromUserPath(w,g,y=(E=>{}),C=this.ionicDB){let E=C.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${w}`);return new Promise((s,u)=>{E.onsuccess=a=>{try{let d=new Blob([a.target.result.contents],{type:g});y(d),s(d)}catch(d){u(d)}},E.onerror=a=>{u(a)}})}DownloadFileFromUserPath(w,g,y,C=this.ionicDB){let E=C.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${w}`);E.onsuccess=s=>{try{let u=new Blob([s.target.result.contents],{type:g}),a=URL.createObjectURL(u),d=document.createElement("a");d.download=y,d.href=a,document.body.appendChild(d),d.click(),document.body.removeChild(d),d.remove(),URL.revokeObjectURL(a)}catch(u){console.error("DownloadFileFromUserPath: ",u),this.p5toast.show({text:`${this.lang.text.IndexedDB.FailedToDownloadFile}: ${u}`})}},E.onerror=s=>{console.error("IndexedDB DownloadFileFromUserPath failed: ",s)}}removeFileFromUserPath(w,g=(C=>{}),y=this.ionicDB){let C=y.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").delete(`/userfs/${w}`);return new Promise((E,s)=>{C.onsuccess=u=>{g(u),E(u)},C.onerror=u=>{s(u)}})}}return(oe=H).\u0275fac=function(w){return new(w||oe)(O.KVO(ge.G),O.KVO(Ie.y))},oe.\u0275prov=O.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),H})()},4234:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{y:()=>o});var j=fe(467),O=fe(8326),Ie=fe(3953);let o=(()=>{var oe;class H{constructor(){this.text={Front:{},Portal:{},Main:{},Arcade:{},Subscribes:{},ChatRoom:{},Profile:{},GroupServer:{},Settings:{},Community:{},MinimalChat:{},voidDraw:{},PostViewer:{},TodoDetail:{}},this.isFirstTime=!0,this.lang=navigator.language.split("-")[0];let w=localStorage.getItem("lang");w&&(this.lang=w),setTimeout(()=>{this.load_selected_lang()},0)}load_selected_lang(){var w=this;return(0,j.A)(function*(){return yield new Promise((g,y)=>{new O(C=>{C.setup=()=>{C.noCanvas(),C.loadTable("assets/data/translate.csv","csv","header",E=>{let s;E.columns.includes(w.lang)||(w.lang="en"),localStorage.setItem("lang",w.lang);for(let u=0,a=E.rows.length;u<a;u++)"#"==E.rows[u].obj["#"].charAt(0)?(s=E.rows[u].obj["#"].substring(3),w.text[s]||(w.text[s]={})):w.text[s][E.rows[u].obj["#"]]=E.rows[u].obj[w.lang];w.isFirstTime&&w.Callback_nakama(),g(void 0),C.remove()},E=>{console.error("\ub0b4\ubd80 \ubb38\uc11c \uc77d\uae30 \uc2e4\ud328: ",E),y(E),C.remove()})}})})})()}}return(oe=H).\u0275fac=function(w){return new(w||oe)},oe.\u0275prov=Ie.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"}),H})()},5547:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{r:()=>H});var j=fe(467),O=fe(9349),ge=fe(963),Ie=fe(3953),o=fe(755),oe=fe(4234);let H=(()=>{var v;class w{constructor(y,C){this.indexed=y,this.lang=C,this.settings={silent:{icon_mono:!0,diychat:!0,simplechat:!0,todo:!0,engineppt:!0},vibrate:!1},this.WebNoties={}}change_silent_settings(y){this.settings.silent[y]=!this.settings.silent[y],this.indexed.saveTextFileToUserPath(JSON.stringify(this.settings),"notification_settings.json")}load_settings(){this.indexed.loadTextFromUserPath("notification_settings.json",(y,C)=>{y&&C&&(this.settings=JSON.parse(C)),"boolean"==typeof this.settings.silent&&(this.settings.silent={icon_mono:this.settings.silent,diychat:this.settings.silent,simplechat:this.settings.silent,todo:this.settings.silent,engineppt:this.settings.silent})})}initialize(){var y=this;return(0,j.A)(function*(){y.ClearNoti(11),"serviceWorker"in navigator?(y.MobileSWReg=window.swReg,navigator.serviceWorker.addEventListener("message",C=>{if(C.data.reply){if("12"===C.data.data){let E={msg:C.data.reply};if(!E.msg.trim())return;E.name=y.Sq_client.MyUserName,y.Sq_client.send(JSON.stringify(E))}}else window.swRegListenerCallback[C.data.data]&&window.swRegListenerCallback[C.data.data](),delete window.swRegListenerCallback[C.data.data]})):console.log("Service Worker is not supported in this browser.")})()}RegisterNofiticationActionType(){"DesktopPWA"==O.aH||"MobilePWA"==O.aH||ge.W.registerActionTypes({types:[{id:"group_dedi",actions:[{id:"reply",title:this.lang.text.MinimalChat.Noti_Reply,input:!0}]},{id:"chatroom_reply",actions:[{id:"reply",title:this.lang.text.MinimalChat.Noti_Reply,input:!0}]}]})}PushLocal(y,C="favicon",E=(()=>{})){var s=this;return(0,j.A)(function*(){if("DesktopPWA"==O.aH||"MobilePWA"==O.aH){if(document.hasFocus()&&s.Current==C||!s.settings.silent[y.icon||y.smallIcon_ln||C||"icon_mono"]||y.triggerWhen_ln)return;const a={badge:`assets/badge/${y.icon||y.smallIcon_ln||C||"favicon"}.png`,body:y.body,icon:`assets/icon/${y.icon||y.smallIcon_ln||C||"favicon"}.png`,image:y.image,silent:!s.settings.silent[y.icon||y.smallIcon_ln]||!1,tag:`${y.id}`,actions:y.actions_wm,data:y.data_wm,requireInteraction:!!y.actions_wm};try{if(s.WebNoties[y.id]){try{s.WebNoties[y.id].close()}catch{}delete s.WebNoties[y.id]}yield s.MobileSWReg.showNotification(y.title,{...a});let d=yield s.MobileSWReg.getNotifications();for(let p=0,l=d.length;p<l;p++)if(d[p].tag==`${y.id}`){s.WebNoties[y.id]=d[p];break}window.swRegListenerCallback[y.id]=()=>{E(),window.focus(),s.WebNoties[y.id].close()}}catch{}}else{var u;if(s.Current==C||!s.settings.silent[y.icon||y.smallIcon_ln||C||"icon_mono"])return;let a={id:y.id,title:y.title,body:y.body,schedule:y.triggerWhen_ln,iconColor:`#${y.iconColor_ln||"ffd94e"}`,extra:y.extra_ln,autoCancel:y.autoCancel_ln,largeIcon:y.icon,smallIcon:y.smallIcon_ln||C||"icon_mono",group:y.group_ln,groupSummary:y.groupSummary_ln,summaryText:y.groupSummaryText_ln,ongoing:y.ongoing_ln,actionTypeId:null===(u=y.actions_ln)||void 0===u?void 0:u.shift()};y.image&&(a.attachments=[{id:"0",url:y.image}]);let d=Object.keys(a);for(let p=0,l=d.length;p<l;p++)void 0===a[d[p]]&&delete a[d[p]];ge.W.schedule({notifications:[a]})}})()}GetNotificationIds(y=(C=>{})){"DesktopPWA"==O.aH||"MobilePWA"==O.aH||ge.W.getPending().then(C=>{y(C.notifications)})}ClearNoti(y){"DesktopPWA"==O.aH||"MobilePWA"==O.aH?this.WebNoties[y]&&this.WebNoties[y].close():ge.W.cancel({notifications:[{id:y}]})}}return(v=w).\u0275fac=function(y){return new(y||v)(Ie.KVO(o.n),Ie.KVO(oe.y))},v.\u0275prov=Ie.jDH({token:v,factory:v.\u0275fac,providedIn:"root"}),w})()},9347:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{z:()=>u});var j=fe(467),O=fe(617),ge=fe(8326),o=fe(9349),oe=fe(963),H=fe(3953),v=fe(3656),w=fe(5374),g=fe(4237),y=fe(9900),C=fe(4234),E=fe(5547),s=fe(482);let u=(()=>{var a;class d{constructor(l,m,c,h,_,M,x,A){this.navCtrl=l,this.nakama=m,this.p5toast=c,this.lang=h,this.noti=_,this.alertCtrl=M,this.global=x,this.ngZone=A,this.status="idle",this.userInput={logs:[],text:"",last_message:{}},this.ConnectedNow=0,this.funcs={onopen:T=>console.warn("OnOpen \uc124\uc815 \uc548\ub428: ",T),onclose:T=>console.warn("OnClose \uc124\uc815 \uc548\ub428: ",T),onmessage:T=>console.warn("OnMessage \uc124\uc815 \uc548\ub428: ",T)},this.FFS_Urls=[],this.DownloadPartManager={},this.cacheAddress="",this.IsConnected=!1}initialize(l){if(this.cacheAddress=l,"https:"==location.protocol&&0==l.indexOf("ws://"))return this.p5toast.show({text:this.lang.text.MinimalChat.cannot_join}),void this.disconnect();this.client=new WebSocket(`${l}:12013`),this.client.onopen=c=>{this.funcs.onopen(c),this.IsConnected=!0},this.client.onclose=c=>{this.funcs.onclose(c),this.IsConnected=!1,this.status="idle"},this.client.onerror=c=>{if(console.error("MiniranchatClientService \uc624\ub958 \ubc1c\uc0dd: ",c),0==l.indexOf("wss://")&&("DesktopPWA"==o.aH||"MobilePWA"==o.aH)){let h=l.split("://");window.open(`https://${h.pop()}:9001`,"_blank")}this.disconnect()},this.client.onmessage=c=>{"string"==typeof c.data?this.funcs.onmessage(c.data):c.data.text().then(h=>{this.funcs.onmessage(h)})}}RegisterNotificationReact(){var l=this;this.noti.Sq_client=this,"DesktopPWA"!=o.aH&&"MobilePWA"!=o.aH&&oe.W.addListener("localNotificationActionPerformed",m=>{try{let c=m.notification.extra.type;switch(m.actionId){case"tap":switch(c){case"AllUserNotification":let _=`<img *ngIf="${m.notification.extra.image}" src="${m.notification.extra.image}" alt="noti_image" style="border-radius: 8px">`,M=`<div>${m.notification.extra.body}</div>`;this.alertCtrl.create({header:m.notification.extra.title,message:new O.Vk(m.notification.extra.image?_+M:M),backdropDismiss:!1,buttons:[{text:this.lang.text.Nakama.LocalNotiOK,handler:()=>{this.nakama.servers[m.notification.extra.isOfficial][m.notification.extra.target].client.deleteNotifications(this.nakama.servers[m.notification.extra.isOfficial][m.notification.extra.target].session,[m.notification.extra.noti_id])}}]}).then(R=>R.present());break;case"MinimalChatPage":this.RejoinGroupChat();break;case"ChatRoomPage":this.nakama.go_to_chatroom_without_admob_act(this.nakama.channels_orig[m.notification.extra.isOfficial][m.notification.extra.target][m.notification.extra.id]);break;case"AddTodoMenuPage":this.nakama.open_add_todo_page(m.notification.extra.data);break;case"NakamaReqContTitle":let I=this.nakama.servers[m.notification.extra.isOfficial][m.notification.extra.Target],z="";z+=`${this.lang.text.Nakama.ReqContServer}: ${m.notification.extra.serverName}<br>`,z+=`${this.lang.text.Nakama.ReqContUserName}: ${m.notification.extra.userName}`,this.alertCtrl.create({header:this.lang.text.Nakama.ReqContTitle,message:z,buttons:[{text:this.lang.text.Nakama.ReqContAccept,handler:()=>{I.client.addGroupUsers(I.session,m.notification.extra.group_id,[m.notification.extra.user_id]).then(R=>{R||console.warn("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),I.client.deleteNotifications(I.session,[m.notification.extra.noti_id]).then(Q=>{Q?this.nakama.update_notifications(m.notification.extra.isOfficial,m.notification.extra.Target):console.warn("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",Q)})})}},{text:this.lang.text.Nakama.ReqContReject,handler:()=>{I.client.kickGroupUsers(I.session,m.notification.extra.group_id,[m.notification.extra.user_id]).then(function(){var R=(0,j.A)(function*(Q){Q||console.warn("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),yield I.client.deleteNotifications(I.session,[m.notification.extra.noti_id]),l.nakama.update_notifications(m.notification.extra.isOfficial,m.notification.extra.Target)});return function(Q){return R.apply(this,arguments)}}())},cssClass:"redfont"}]}).then(R=>R.present())}break;case"reply":let h=m.inputValue;if("MinimalChatPage"===(this.noti.ClearNoti(m.notification.id),c)){let _={msg:h.trim()};_.name=this.MyUserName,this.send(JSON.stringify(_))}}}catch(c){console.warn("\uc54c\ub9bc \uc2e4\ud328\uc5d0 \ub300\ud574\uc11c: ",c)}})}send(l){this.client&&this.client.readyState==this.client.OPEN?this.client.send(l):this.disconnect()}CreateRejoinButton(){this.p5canvas&&this.p5canvas.remove(),this.p5canvas=new ge(l=>{l.noCanvas(),l.setup=()=>{let m=l.createDiv('<ion-icon style="width: 36px; height: 36px" name="chatbox-ellipses-outline"></ion-icon>');m.style("position: absolute; right: 0; bottom: 56px; z-index: 1"),m.style("width: 64px; height: 64px"),m.style("text-align: center; align-content: center"),m.style("cursor: pointer"),m.style("margin: 16px"),m.style("padding-top: 6px"),m.style("background-color: #8888"),m.style("border-radius: 24px"),l.OnDediMessage=c=>{m.style(`background-color: #${c}88`)},m.elt.onclick=()=>{this.RejoinGroupChat()}}})}RejoinGroupChat(){this.ngZone.run(()=>{this.global.RemoveAllModals(()=>{var l;this.navCtrl.navigateForward("minimal-chat",{animation:O.V5,state:{address:this.cacheAddress,name:null!==(l=this.MyUserName)&&void 0!==l?l:this.nakama.users.self.display_name}})})})}disconnect(l=1e3,m="user_close"){this.client&&this.client.close(l,m),this.IsConnected=!1,this.cacheAddress="",this.uuid=void 0,this.p5canvas&&this.p5canvas.remove(),this.client=void 0,this.JoinedChannel=void 0,this.status="idle"}}return(a=d).\u0275fac=function(l){return new(l||a)(H.KVO(v.q9),H.KVO(g.X),H.KVO(y.G),H.KVO(C.y),H.KVO(E.r),H.KVO(w.hG),H.KVO(s.z3),H.KVO(H.SKi))},a.\u0275prov=H.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),d})()},4237:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{I:()=>jn,X:()=>sr});var C,E,j=fe(467),O=Object.defineProperty,ge=Object.getOwnPropertySymbols,Ie=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,oe=(Y,be,Re)=>be in Y?O(Y,be,{enumerable:!0,configurable:!0,writable:!0,value:Re}):Y[be]=Re,H=(Y,be)=>{for(var Re in be||(be={}))Ie.call(be,Re)&&oe(Y,Re,be[Re]);if(ge)for(var Re of ge(be))o.call(be,Re)&&oe(Y,Re,be[Re]);return Y},v=(Y,be,Re)=>new Promise((b,P)=>{var B=W=>{try{se(Re.next(W))}catch(ye){P(ye)}},L=W=>{try{se(Re.throw(W))}catch(ye){P(ye)}},se=W=>W.done?b(W.value):Promise.resolve(W.value).then(B,L);se((Re=Re.apply(Y,be)).next())}),w=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof w<"u"&&w,g_searchParams="URLSearchParams"in w,g_iterable="Symbol"in w&&"iterator"in Symbol,g_blob="FileReader"in w&&"Blob"in w&&function(){try{return new Blob,!0}catch{return!1}}(),g_formData="FormData"in w,g_arrayBuffer="ArrayBuffer"in w;function s(Y){if("string"!=typeof Y&&(Y=String(Y)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(Y)||""===Y)throw new TypeError('Invalid character in header field name: "'+Y+'"');return Y.toLowerCase()}function u(Y){return"string"!=typeof Y&&(Y=String(Y)),Y}function a(Y){var be={next:function(){var Re=Y.shift();return{done:void 0===Re,value:Re}}};return g_iterable&&(be[Symbol.iterator]=function(){return be}),be}function d(Y){this.map={},Y instanceof d?Y.forEach(function(be,Re){this.append(Re,be)},this):Array.isArray(Y)?Y.forEach(function(be){this.append(be[0],be[1])},this):Y&&Object.getOwnPropertyNames(Y).forEach(function(be){this.append(be,Y[be])},this)}function p(Y){if(Y.bodyUsed)return Promise.reject(new TypeError("Already read"));Y.bodyUsed=!0}function l(Y){return new Promise(function(be,Re){Y.onload=function(){be(Y.result)},Y.onerror=function(){Re(Y.error)}})}function m(Y){var be=new FileReader,Re=l(be);return be.readAsArrayBuffer(Y),Re}function _(Y){if(Y.slice)return Y.slice(0);var be=new Uint8Array(Y.byteLength);return be.set(new Uint8Array(Y)),be.buffer}function M(){return this.bodyUsed=!1,this._initBody=function(Y){this.bodyUsed=this.bodyUsed,this._bodyInit=Y,Y?"string"==typeof Y?this._bodyText=Y:g_blob&&Blob.prototype.isPrototypeOf(Y)?this._bodyBlob=Y:g_formData&&FormData.prototype.isPrototypeOf(Y)?this._bodyFormData=Y:g_searchParams&&URLSearchParams.prototype.isPrototypeOf(Y)?this._bodyText=Y.toString():g_arrayBuffer&&g_blob&&function y(Y){return Y&&DataView.prototype.isPrototypeOf(Y)}(Y)?(this._bodyArrayBuffer=_(Y.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):g_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(Y)||E(Y))?this._bodyArrayBuffer=_(Y):this._bodyText=Y=Object.prototype.toString.call(Y):this._bodyText="",this.headers.get("content-type")||("string"==typeof Y?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g_searchParams&&URLSearchParams.prototype.isPrototypeOf(Y)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g_blob&&(this.blob=function(){var Y=p(this);if(Y)return Y;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(m)}),this.text=function(){var Y=p(this);if(Y)return Y;if(this._bodyBlob)return function c(Y){var be=new FileReader,Re=l(be);return be.readAsText(Y),Re}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function h(Y){for(var be=new Uint8Array(Y),Re=new Array(be.length),b=0;b<be.length;b++)Re[b]=String.fromCharCode(be[b]);return Re.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g_formData&&(this.formData=function(){return this.text().then(N)}),this.json=function(){return this.text().then(JSON.parse)},this}g_arrayBuffer&&(C=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],E=ArrayBuffer.isView||function(Y){return Y&&C.indexOf(Object.prototype.toString.call(Y))>-1}),d.prototype.append=function(Y,be){Y=s(Y),be=u(be);var Re=this.map[Y];this.map[Y]=Re?Re+", "+be:be},d.prototype.delete=function(Y){delete this.map[s(Y)]},d.prototype.get=function(Y){return Y=s(Y),this.has(Y)?this.map[Y]:null},d.prototype.has=function(Y){return this.map.hasOwnProperty(s(Y))},d.prototype.set=function(Y,be){this.map[s(Y)]=u(be)},d.prototype.forEach=function(Y,be){for(var Re in this.map)this.map.hasOwnProperty(Re)&&Y.call(be,this.map[Re],Re,this)},d.prototype.keys=function(){var Y=[];return this.forEach(function(be,Re){Y.push(Re)}),a(Y)},d.prototype.values=function(){var Y=[];return this.forEach(function(be){Y.push(be)}),a(Y)},d.prototype.entries=function(){var Y=[];return this.forEach(function(be,Re){Y.push([Re,be])}),a(Y)},g_iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function T(Y,be){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var Re=(be=be||{}).body;if(Y instanceof T){if(Y.bodyUsed)throw new TypeError("Already read");this.url=Y.url,this.credentials=Y.credentials,be.headers||(this.headers=new d(Y.headers)),this.method=Y.method,this.mode=Y.mode,this.signal=Y.signal,!Re&&null!=Y._bodyInit&&(Re=Y._bodyInit,Y.bodyUsed=!0)}else this.url=String(Y);if(this.credentials=be.credentials||this.credentials||"same-origin",(be.headers||!this.headers)&&(this.headers=new d(be.headers)),this.method=function A(Y){var be=Y.toUpperCase();return x.indexOf(be)>-1?be:Y}(be.method||this.method||"GET"),this.mode=be.mode||this.mode||null,this.signal=be.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&Re)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Re),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==be.cache&&"no-cache"!==be.cache)){var b=/([?&])_=[^&]*/;b.test(this.url)?this.url=this.url.replace(b,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function N(Y){var be=new FormData;return Y.trim().split("&").forEach(function(Re){if(Re){var b=Re.split("="),P=b.shift().replace(/\+/g," "),B=b.join("=").replace(/\+/g," ");be.append(decodeURIComponent(P),decodeURIComponent(B))}}),be}function I(Y){var be=new d;return Y.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(b){return 0===b.indexOf("\n")?b.substr(1,b.length):b}).forEach(function(b){var P=b.split(":"),B=P.shift().trim();if(B){var L=P.join(":").trim();be.append(B,L)}}),be}function z(Y,be){if(!(this instanceof z))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');be||(be={}),this.type="default",this.status=void 0===be.status?200:be.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===be.statusText?"":""+be.statusText,this.headers=new d(be.headers),this.url=be.url||"",this._initBody(Y)}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})},M.call(T.prototype),M.call(z.prototype),z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},z.error=function(){var Y=new z(null,{status:0,statusText:""});return Y.type="error",Y};var R=[301,302,303,307,308];z.redirect=function(Y,be){if(-1===R.indexOf(be))throw new RangeError("Invalid status code");return new z(null,{status:be,headers:{location:Y}})};var Q=w.DOMException;try{new Q}catch{(Q=function(be,Re){this.message=be,this.name=Re;var b=Error(be);this.stack=b.stack}).prototype=Object.create(Error.prototype),Q.prototype.constructor=Q}function ne(Y,be){return new Promise(function(Re,b){var P=new T(Y,be);if(P.signal&&P.signal.aborted)return b(new Q("Aborted","AbortError"));var B=new XMLHttpRequest;function L(){B.abort()}B.onload=function(){var W={status:B.status,statusText:B.statusText,headers:I(B.getAllResponseHeaders()||"")};W.url="responseURL"in B?B.responseURL:W.headers.get("X-Request-URL");var ye="response"in B?B.response:B.responseText;setTimeout(function(){Re(new z(ye,W))},0)},B.onerror=function(){setTimeout(function(){b(new TypeError("Network request failed"))},0)},B.ontimeout=function(){setTimeout(function(){b(new TypeError("Network request failed"))},0)},B.onabort=function(){setTimeout(function(){b(new Q("Aborted","AbortError"))},0)},B.open(P.method,function se(W){try{return""===W&&w.location.href?w.location.href:W}catch{return W}}(P.url),!0),"include"===P.credentials?B.withCredentials=!0:"omit"===P.credentials&&(B.withCredentials=!1),"responseType"in B&&(g_blob?B.responseType="blob":g_arrayBuffer&&P.headers.get("Content-Type")&&-1!==P.headers.get("Content-Type").indexOf("application/octet-stream")&&(B.responseType="arraybuffer")),!be||"object"!=typeof be.headers||be.headers instanceof d?P.headers.forEach(function(W,ye){B.setRequestHeader(ye,W)}):Object.getOwnPropertyNames(be.headers).forEach(function(W){B.setRequestHeader(W,u(be.headers[W]))}),P.signal&&(P.signal.addEventListener("abort",L),B.onreadystatechange=function(){4===B.readyState&&P.signal.removeEventListener("abort",L)}),B.send(typeof P._bodyInit>"u"?null:P._bodyInit)})}ne.polyfill=!0,w.fetch||(w.fetch=ne,w.Headers=d,w.Request=T,w.Response=z);var V="function"==typeof atob,X="function"==typeof btoa,U="function"==typeof Buffer,F="function"==typeof TextDecoder?new TextDecoder:void 0,K="function"==typeof TextEncoder?new TextEncoder:void 0,Te=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),q=(Y=>{let be={};return Y.forEach((Re,b)=>be[Re]=b),be})(Te),k=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,ee=String.fromCharCode.bind(String),me="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):Y=>new Uint8Array(Array.prototype.slice.call(Y,0)),Ge=Y=>Y.replace(/[^A-Za-z0-9\+\/]/g,""),mt=X?Y=>btoa(Y):U?Y=>Buffer.from(Y,"binary").toString("base64"):Y=>{let be,Re,b,P,B="";const L=Y.length%3;for(let se=0;se<Y.length;){if((Re=Y.charCodeAt(se++))>255||(b=Y.charCodeAt(se++))>255||(P=Y.charCodeAt(se++))>255)throw new TypeError("invalid character found");be=Re<<16|b<<8|P,B+=Te[be>>18&63]+Te[be>>12&63]+Te[be>>6&63]+Te[63&be]}return L?B.slice(0,L-3)+"===".substring(L):B},We=U?Y=>Buffer.from(Y).toString("base64"):Y=>{let Re=[];for(let b=0,P=Y.length;b<P;b+=4096)Re.push(ee.apply(null,Y.subarray(b,b+4096)));return mt(Re.join(""))},ct=Y=>{if(Y.length<2)return(be=Y.charCodeAt(0))<128?Y:be<2048?ee(192|be>>>6)+ee(128|63&be):ee(224|be>>>12&15)+ee(128|be>>>6&63)+ee(128|63&be);var be=65536+1024*(Y.charCodeAt(0)-55296)+(Y.charCodeAt(1)-56320);return ee(240|be>>>18&7)+ee(128|be>>>12&63)+ee(128|be>>>6&63)+ee(128|63&be)},dt=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Qe=U?Y=>Buffer.from(Y,"utf8").toString("base64"):K?Y=>We(K.encode(Y)):Y=>mt((Y=>Y.replace(dt,ct))(Y)),Ze=(Y,be=!1)=>be?(Y=>Y.replace(/=/g,"").replace(/[+\/]/g,be=>"+"==be?"-":"_"))(Qe(Y)):Qe(Y),at=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,et=Y=>{switch(Y.length){case 4:var Re=((7&Y.charCodeAt(0))<<18|(63&Y.charCodeAt(1))<<12|(63&Y.charCodeAt(2))<<6|63&Y.charCodeAt(3))-65536;return ee(55296+(Re>>>10))+ee(56320+(1023&Re));case 3:return ee((15&Y.charCodeAt(0))<<12|(63&Y.charCodeAt(1))<<6|63&Y.charCodeAt(2));default:return ee((31&Y.charCodeAt(0))<<6|63&Y.charCodeAt(1))}},on=V?Y=>atob(Ge(Y)):U?Y=>Buffer.from(Y,"base64").toString("binary"):Y=>{if(Y=Y.replace(/\s+/g,""),!k.test(Y))throw new TypeError("malformed base64.");Y+="==".slice(2-(3&Y.length));let be,b,P,Re="";for(let B=0;B<Y.length;)be=q[Y.charAt(B++)]<<18|q[Y.charAt(B++)]<<12|(b=q[Y.charAt(B++)])<<6|(P=q[Y.charAt(B++)]),Re+=64===b?ee(be>>16&255):64===P?ee(be>>16&255,be>>8&255):ee(be>>16&255,be>>8&255,255&be);return Re},Lt=U?Y=>me(Buffer.from(Y,"base64")):Y=>me(on(Y).split("").map(be=>be.charCodeAt(0))),an=U?Y=>Buffer.from(Y,"base64").toString("utf8"):F?Y=>F.decode(Lt(Y)):Y=>(Y=>Y.replace(at,et))(on(Y)),gn=Y=>an((Y=>Ge(Y.replace(/[-_]/g,be=>"-"==be?"+":"/")))(Y));function Yt(Y,be,Re){const b=H(H({},{method:Y}),be);if(b.headers=H({},be.headers),typeof XMLHttpRequest<"u"){const P=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"withCredentials");null!=P&&P.set||(b.credentials="cocos-ignore")}return Object.keys(b.headers).includes("Accept")||(b.headers.Accept="application/json"),Object.keys(b.headers).includes("Content-Type")||(b.headers["Content-Type"]="application/json"),Object.keys(b.headers).forEach(P=>{b.headers[P]||delete b.headers[P]}),Re&&(b.body=Re),b}var hn=class{constructor(Y,be,Re){this.serverKey=Y,this.basePath=be,this.timeoutMs=Re}healthcheck(Y,be={}){const B=this.buildFullUrl(this.basePath,"/healthcheck",new Map),L=Yt("GET",be,"");return Y&&(L.headers.Authorization="Bearer "+Y),Promise.race([fetch(B,L).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,W)=>setTimeout(W,this.timeoutMs,"Request timed out."))])}deleteAccount(Y,be={}){const B=this.buildFullUrl(this.basePath,"/v2/account",new Map),L=Yt("DELETE",be,"");return Y&&(L.headers.Authorization="Bearer "+Y),Promise.race([fetch(B,L).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,W)=>setTimeout(W,this.timeoutMs,"Request timed out."))])}getAccount(Y,be={}){const B=this.buildFullUrl(this.basePath,"/v2/account",new Map),L=Yt("GET",be,"");return Y&&(L.headers.Authorization="Bearer "+Y),Promise.race([fetch(B,L).then(se=>{if(204==se.status)return se;if(se.status>=200&&se.status<300)return se.json();throw se}),new Promise((se,W)=>setTimeout(W,this.timeoutMs,"Request timed out."))])}updateAccount(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/account",P),se=Yt("PUT",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}authenticateApple(Y,be,Re,b,P,B={}){if(null==Re)throw new Error("'account' is a required parameter but is null or undefined.");const se=new Map;se.set("create",b),se.set("username",P);let W="";W=JSON.stringify(Re||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/apple",se),Me=Yt("POST",B,W);return Y&&(Me.headers.Authorization="Basic "+Ze(Y+":"+be)),Promise.race([fetch(ye,Me).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,ce)=>setTimeout(ce,this.timeoutMs,"Request timed out."))])}authenticateCustom(Y,be,Re,b,P,B={}){if(null==Re)throw new Error("'account' is a required parameter but is null or undefined.");const se=new Map;se.set("create",b),se.set("username",P);let W="";W=JSON.stringify(Re||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/custom",se),Me=Yt("POST",B,W);return Y&&(Me.headers.Authorization="Basic "+Ze(Y+":"+be)),Promise.race([fetch(ye,Me).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,ce)=>setTimeout(ce,this.timeoutMs,"Request timed out."))])}authenticateDevice(Y,be,Re,b,P,B={}){if(null==Re)throw new Error("'account' is a required parameter but is null or undefined.");const se=new Map;se.set("create",b),se.set("username",P);let W="";W=JSON.stringify(Re||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/device",se),Me=Yt("POST",B,W);return Y&&(Me.headers.Authorization="Basic "+Ze(Y+":"+be)),Promise.race([fetch(ye,Me).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,ce)=>setTimeout(ce,this.timeoutMs,"Request timed out."))])}authenticateEmail(Y,be,Re,b,P,B={}){if(null==Re)throw new Error("'account' is a required parameter but is null or undefined.");const se=new Map;se.set("create",b),se.set("username",P);let W="";W=JSON.stringify(Re||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/email",se),Me=Yt("POST",B,W);return Y&&(Me.headers.Authorization="Basic "+Ze(Y+":"+be)),Promise.race([fetch(ye,Me).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,ce)=>setTimeout(ce,this.timeoutMs,"Request timed out."))])}authenticateFacebook(Y,be,Re,b,P,B,L={}){if(null==Re)throw new Error("'account' is a required parameter but is null or undefined.");const W=new Map;W.set("create",b),W.set("username",P),W.set("sync",B);let ye="";ye=JSON.stringify(Re||{});const Me=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebook",W),Xe=Yt("POST",L,ye);return Y&&(Xe.headers.Authorization="Basic "+Ze(Y+":"+be)),Promise.race([fetch(Me,Xe).then(ce=>{if(204==ce.status)return ce;if(ce.status>=200&&ce.status<300)return ce.json();throw ce}),new Promise((ce,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}authenticateFacebookInstantGame(Y,be,Re,b,P,B={}){if(null==Re)throw new Error("'account' is a required parameter but is null or undefined.");const se=new Map;se.set("create",b),se.set("username",P);let W="";W=JSON.stringify(Re||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebookinstantgame",se),Me=Yt("POST",B,W);return Y&&(Me.headers.Authorization="Basic "+Ze(Y+":"+be)),Promise.race([fetch(ye,Me).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,ce)=>setTimeout(ce,this.timeoutMs,"Request timed out."))])}authenticateGameCenter(Y,be,Re,b,P,B={}){if(null==Re)throw new Error("'account' is a required parameter but is null or undefined.");const se=new Map;se.set("create",b),se.set("username",P);let W="";W=JSON.stringify(Re||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/gamecenter",se),Me=Yt("POST",B,W);return Y&&(Me.headers.Authorization="Basic "+Ze(Y+":"+be)),Promise.race([fetch(ye,Me).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,ce)=>setTimeout(ce,this.timeoutMs,"Request timed out."))])}authenticateGoogle(Y,be,Re,b,P,B={}){if(null==Re)throw new Error("'account' is a required parameter but is null or undefined.");const se=new Map;se.set("create",b),se.set("username",P);let W="";W=JSON.stringify(Re||{});const ye=this.buildFullUrl(this.basePath,"/v2/account/authenticate/google",se),Me=Yt("POST",B,W);return Y&&(Me.headers.Authorization="Basic "+Ze(Y+":"+be)),Promise.race([fetch(ye,Me).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,ce)=>setTimeout(ce,this.timeoutMs,"Request timed out."))])}authenticateSteam(Y,be,Re,b,P,B,L={}){if(null==Re)throw new Error("'account' is a required parameter but is null or undefined.");const W=new Map;W.set("create",b),W.set("username",P),W.set("sync",B);let ye="";ye=JSON.stringify(Re||{});const Me=this.buildFullUrl(this.basePath,"/v2/account/authenticate/steam",W),Xe=Yt("POST",L,ye);return Y&&(Xe.headers.Authorization="Basic "+Ze(Y+":"+be)),Promise.race([fetch(Me,Xe).then(ce=>{if(204==ce.status)return ce;if(ce.status>=200&&ce.status<300)return ce.json();throw ce}),new Promise((ce,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}linkApple(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/account/link/apple",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkCustom(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/account/link/custom",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkDevice(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/account/link/device",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkEmail(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/account/link/email",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkFacebook(Y,be,Re,b={}){if(null==be)throw new Error("'account' is a required parameter but is null or undefined.");const B=new Map;B.set("sync",Re);let L="";L=JSON.stringify(be||{});const se=this.buildFullUrl(this.basePath,"/v2/account/link/facebook",B),W=Yt("POST",b,L);return Y&&(W.headers.Authorization="Bearer "+Y),Promise.race([fetch(se,W).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}linkFacebookInstantGame(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/account/link/facebookinstantgame",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkGameCenter(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/account/link/gamecenter",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkGoogle(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/account/link/google",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}linkSteam(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/account/link/steam",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}sessionRefresh(Y,be,Re,b={}){if(null==Re)throw new Error("'body' is a required parameter but is null or undefined.");const B=new Map;let L="";L=JSON.stringify(Re||{});const se=this.buildFullUrl(this.basePath,"/v2/account/session/refresh",B),W=Yt("POST",b,L);return Y&&(W.headers.Authorization="Basic "+Ze(Y+":"+be)),Promise.race([fetch(se,W).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}unlinkApple(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/account/unlink/apple",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkCustom(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/account/unlink/custom",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkDevice(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/account/unlink/device",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkEmail(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/account/unlink/email",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkFacebook(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebook",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkFacebookInstantGame(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebookinstantgame",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkGameCenter(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/account/unlink/gamecenter",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkGoogle(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/account/unlink/google",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}unlinkSteam(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/account/unlink/steam",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}listChannelMessages(Y,be,Re,b,P,B={}){if(null==be)throw new Error("'channelId' is a required parameter but is null or undefined.");const L="/v2/channel/{channelId}".replace("{channelId}",encodeURIComponent(String(be))),se=new Map;se.set("limit",Re),se.set("forward",b),se.set("cursor",P);const ye=this.buildFullUrl(this.basePath,L,se),Me=Yt("GET",B,"");return Y&&(Me.headers.Authorization="Bearer "+Y),Promise.race([fetch(ye,Me).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,ce)=>setTimeout(ce,this.timeoutMs,"Request timed out."))])}event(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/event",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}deleteFriends(Y,be,Re,b={}){const B=new Map;B.set("ids",be),B.set("usernames",Re);const se=this.buildFullUrl(this.basePath,"/v2/friend",B),W=Yt("DELETE",b,"");return Y&&(W.headers.Authorization="Bearer "+Y),Promise.race([fetch(se,W).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}listFriends(Y,be,Re,b,P={}){const L=new Map;L.set("limit",be),L.set("state",Re),L.set("cursor",b);const W=this.buildFullUrl(this.basePath,"/v2/friend",L),ye=Yt("GET",P,"");return Y&&(ye.headers.Authorization="Bearer "+Y),Promise.race([fetch(W,ye).then(Me=>{if(204==Me.status)return Me;if(Me.status>=200&&Me.status<300)return Me.json();throw Me}),new Promise((Me,Xe)=>setTimeout(Xe,this.timeoutMs,"Request timed out."))])}addFriends(Y,be,Re,b={}){const B=new Map;B.set("ids",be),B.set("usernames",Re);const se=this.buildFullUrl(this.basePath,"/v2/friend",B),W=Yt("POST",b,"");return Y&&(W.headers.Authorization="Bearer "+Y),Promise.race([fetch(se,W).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}blockFriends(Y,be,Re,b={}){const B=new Map;B.set("ids",be),B.set("usernames",Re);const se=this.buildFullUrl(this.basePath,"/v2/friend/block",B),W=Yt("POST",b,"");return Y&&(W.headers.Authorization="Bearer "+Y),Promise.race([fetch(se,W).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}importFacebookFriends(Y,be,Re,b={}){if(null==be)throw new Error("'account' is a required parameter but is null or undefined.");const B=new Map;B.set("reset",Re);let L="";L=JSON.stringify(be||{});const se=this.buildFullUrl(this.basePath,"/v2/friend/facebook",B),W=Yt("POST",b,L);return Y&&(W.headers.Authorization="Bearer "+Y),Promise.race([fetch(se,W).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}listFriendsOfFriends(Y,be,Re,b={}){const B=new Map;B.set("limit",be),B.set("cursor",Re);const se=this.buildFullUrl(this.basePath,"/v2/friend/friends",B),W=Yt("GET",b,"");return Y&&(W.headers.Authorization="Bearer "+Y),Promise.race([fetch(se,W).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}importSteamFriends(Y,be,Re,b={}){if(null==be)throw new Error("'account' is a required parameter but is null or undefined.");const B=new Map;B.set("reset",Re);let L="";L=JSON.stringify(be||{});const se=this.buildFullUrl(this.basePath,"/v2/friend/steam",B),W=Yt("POST",b,L);return Y&&(W.headers.Authorization="Bearer "+Y),Promise.race([fetch(se,W).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}listGroups(Y,be,Re,b,P,B,L,se={}){const ye=new Map;ye.set("name",be),ye.set("cursor",Re),ye.set("limit",b),ye.set("lang_tag",P),ye.set("members",B),ye.set("open",L);const Xe=this.buildFullUrl(this.basePath,"/v2/group",ye),ce=Yt("GET",se,"");return Y&&(ce.headers.Authorization="Bearer "+Y),Promise.race([fetch(Xe,ce).then(ke=>{if(204==ke.status)return ke;if(ke.status>=200&&ke.status<300)return ke.json();throw ke}),new Promise((ke,lt)=>setTimeout(lt,this.timeoutMs,"Request timed out."))])}createGroup(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/group",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}deleteGroup(Y,be,Re={}){if(null==be)throw new Error("'groupId' is a required parameter but is null or undefined.");const b="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(be))),L=this.buildFullUrl(this.basePath,b,new Map),se=Yt("DELETE",Re,"");return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}updateGroup(Y,be,Re,b={}){if(null==be)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==Re)throw new Error("'body' is a required parameter but is null or undefined.");const P="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(be))),B=new Map;let L="";L=JSON.stringify(Re||{});const se=this.buildFullUrl(this.basePath,P,B),W=Yt("PUT",b,L);return Y&&(W.headers.Authorization="Bearer "+Y),Promise.race([fetch(se,W).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}addGroupUsers(Y,be,Re,b={}){if(null==be)throw new Error("'groupId' is a required parameter but is null or undefined.");const P="/v2/group/{groupId}/add".replace("{groupId}",encodeURIComponent(String(be))),B=new Map;B.set("user_ids",Re);const se=this.buildFullUrl(this.basePath,P,B),W=Yt("POST",b,"");return Y&&(W.headers.Authorization="Bearer "+Y),Promise.race([fetch(se,W).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}banGroupUsers(Y,be,Re,b={}){if(null==be)throw new Error("'groupId' is a required parameter but is null or undefined.");const P="/v2/group/{groupId}/ban".replace("{groupId}",encodeURIComponent(String(be))),B=new Map;B.set("user_ids",Re);const se=this.buildFullUrl(this.basePath,P,B),W=Yt("POST",b,"");return Y&&(W.headers.Authorization="Bearer "+Y),Promise.race([fetch(se,W).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}demoteGroupUsers(Y,be,Re,b={}){if(null==be)throw new Error("'groupId' is a required parameter but is null or undefined.");const P="/v2/group/{groupId}/demote".replace("{groupId}",encodeURIComponent(String(be))),B=new Map;B.set("user_ids",Re);const se=this.buildFullUrl(this.basePath,P,B),W=Yt("POST",b,"");return Y&&(W.headers.Authorization="Bearer "+Y),Promise.race([fetch(se,W).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}joinGroup(Y,be,Re={}){if(null==be)throw new Error("'groupId' is a required parameter but is null or undefined.");const b="/v2/group/{groupId}/join".replace("{groupId}",encodeURIComponent(String(be))),L=this.buildFullUrl(this.basePath,b,new Map),se=Yt("POST",Re,"");return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}kickGroupUsers(Y,be,Re,b={}){if(null==be)throw new Error("'groupId' is a required parameter but is null or undefined.");const P="/v2/group/{groupId}/kick".replace("{groupId}",encodeURIComponent(String(be))),B=new Map;B.set("user_ids",Re);const se=this.buildFullUrl(this.basePath,P,B),W=Yt("POST",b,"");return Y&&(W.headers.Authorization="Bearer "+Y),Promise.race([fetch(se,W).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}leaveGroup(Y,be,Re={}){if(null==be)throw new Error("'groupId' is a required parameter but is null or undefined.");const b="/v2/group/{groupId}/leave".replace("{groupId}",encodeURIComponent(String(be))),L=this.buildFullUrl(this.basePath,b,new Map),se=Yt("POST",Re,"");return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}promoteGroupUsers(Y,be,Re,b={}){if(null==be)throw new Error("'groupId' is a required parameter but is null or undefined.");const P="/v2/group/{groupId}/promote".replace("{groupId}",encodeURIComponent(String(be))),B=new Map;B.set("user_ids",Re);const se=this.buildFullUrl(this.basePath,P,B),W=Yt("POST",b,"");return Y&&(W.headers.Authorization="Bearer "+Y),Promise.race([fetch(se,W).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}listGroupUsers(Y,be,Re,b,P,B={}){if(null==be)throw new Error("'groupId' is a required parameter but is null or undefined.");const L="/v2/group/{groupId}/user".replace("{groupId}",encodeURIComponent(String(be))),se=new Map;se.set("limit",Re),se.set("state",b),se.set("cursor",P);const ye=this.buildFullUrl(this.basePath,L,se),Me=Yt("GET",B,"");return Y&&(Me.headers.Authorization="Bearer "+Y),Promise.race([fetch(ye,Me).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,ce)=>setTimeout(ce,this.timeoutMs,"Request timed out."))])}validatePurchaseApple(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/iap/purchase/apple",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}validatePurchaseFacebookInstant(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/iap/purchase/facebookinstant",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}validatePurchaseGoogle(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/iap/purchase/google",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}validatePurchaseHuawei(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/iap/purchase/huawei",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}listSubscriptions(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/iap/subscription",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}validateSubscriptionApple(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/iap/subscription/apple",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}validateSubscriptionGoogle(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/iap/subscription/google",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}getSubscription(Y,be,Re={}){if(null==be)throw new Error("'productId' is a required parameter but is null or undefined.");const b="/v2/iap/subscription/{productId}".replace("{productId}",encodeURIComponent(String(be))),L=this.buildFullUrl(this.basePath,b,new Map),se=Yt("GET",Re,"");return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}deleteLeaderboardRecord(Y,be,Re={}){if(null==be)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const b="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(be))),L=this.buildFullUrl(this.basePath,b,new Map),se=Yt("DELETE",Re,"");return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}listLeaderboardRecords(Y,be,Re,b,P,B,L={}){if(null==be)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const se="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(be))),W=new Map;W.set("owner_ids",Re),W.set("limit",b),W.set("cursor",P),W.set("expiry",B);const Me=this.buildFullUrl(this.basePath,se,W),Xe=Yt("GET",L,"");return Y&&(Xe.headers.Authorization="Bearer "+Y),Promise.race([fetch(Me,Xe).then(ce=>{if(204==ce.status)return ce;if(ce.status>=200&&ce.status<300)return ce.json();throw ce}),new Promise((ce,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}writeLeaderboardRecord(Y,be,Re,b={}){if(null==be)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==Re)throw new Error("'record' is a required parameter but is null or undefined.");const P="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(be))),B=new Map;let L="";L=JSON.stringify(Re||{});const se=this.buildFullUrl(this.basePath,P,B),W=Yt("POST",b,L);return Y&&(W.headers.Authorization="Bearer "+Y),Promise.race([fetch(se,W).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}listLeaderboardRecordsAroundOwner(Y,be,Re,b,P,B,L={}){if(null==be)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==Re)throw new Error("'ownerId' is a required parameter but is null or undefined.");const se="/v2/leaderboard/{leaderboardId}/owner/{ownerId}".replace("{leaderboardId}",encodeURIComponent(String(be))).replace("{ownerId}",encodeURIComponent(String(Re))),W=new Map;W.set("limit",b),W.set("expiry",P),W.set("cursor",B);const Me=this.buildFullUrl(this.basePath,se,W),Xe=Yt("GET",L,"");return Y&&(Xe.headers.Authorization="Bearer "+Y),Promise.race([fetch(Me,Xe).then(ce=>{if(204==ce.status)return ce;if(ce.status>=200&&ce.status<300)return ce.json();throw ce}),new Promise((ce,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}listMatches(Y,be,Re,b,P,B,L,se={}){const ye=new Map;ye.set("limit",be),ye.set("authoritative",Re),ye.set("label",b),ye.set("min_size",P),ye.set("max_size",B),ye.set("query",L);const Xe=this.buildFullUrl(this.basePath,"/v2/match",ye),ce=Yt("GET",se,"");return Y&&(ce.headers.Authorization="Bearer "+Y),Promise.race([fetch(Xe,ce).then(ke=>{if(204==ke.status)return ke;if(ke.status>=200&&ke.status<300)return ke.json();throw ke}),new Promise((ke,lt)=>setTimeout(lt,this.timeoutMs,"Request timed out."))])}deleteNotifications(Y,be,Re={}){const P=new Map;P.set("ids",be);const L=this.buildFullUrl(this.basePath,"/v2/notification",P),se=Yt("DELETE",Re,"");return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}listNotifications(Y,be,Re,b={}){const B=new Map;B.set("limit",be),B.set("cacheable_cursor",Re);const se=this.buildFullUrl(this.basePath,"/v2/notification",B),W=Yt("GET",b,"");return Y&&(W.headers.Authorization="Bearer "+Y),Promise.race([fetch(se,W).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}rpcFunc2(Y,be,Re,b,P={}){if(null==be)throw new Error("'id' is a required parameter but is null or undefined.");const B="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(be))),L=new Map;L.set("payload",Re),L.set("http_key",b);const W=this.buildFullUrl(this.basePath,B,L),ye=Yt("GET",P,"");return Y&&(ye.headers.Authorization="Bearer "+Y),Promise.race([fetch(W,ye).then(Me=>{if(204==Me.status)return Me;if(Me.status>=200&&Me.status<300)return Me.json();throw Me}),new Promise((Me,Xe)=>setTimeout(Xe,this.timeoutMs,"Request timed out."))])}rpcFunc(Y,be,Re,b,P={}){if(null==be)throw new Error("'id' is a required parameter but is null or undefined.");if(null==Re)throw new Error("'body' is a required parameter but is null or undefined.");const B="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(be))),L=new Map;L.set("http_key",b);let se="";se=JSON.stringify(Re||{});const W=this.buildFullUrl(this.basePath,B,L),ye=Yt("POST",P,se);return Y&&(ye.headers.Authorization="Bearer "+Y),Promise.race([fetch(W,ye).then(Me=>{if(204==Me.status)return Me;if(Me.status>=200&&Me.status<300)return Me.json();throw Me}),new Promise((Me,Xe)=>setTimeout(Xe,this.timeoutMs,"Request timed out."))])}sessionLogout(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/session/logout",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}readStorageObjects(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/storage",P),se=Yt("POST",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}writeStorageObjects(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/storage",P),se=Yt("PUT",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}deleteStorageObjects(Y,be,Re={}){if(null==be)throw new Error("'body' is a required parameter but is null or undefined.");const P=new Map;let B="";B=JSON.stringify(be||{});const L=this.buildFullUrl(this.basePath,"/v2/storage/delete",P),se=Yt("PUT",Re,B);return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}listStorageObjects(Y,be,Re,b,P,B={}){if(null==be)throw new Error("'collection' is a required parameter but is null or undefined.");const L="/v2/storage/{collection}".replace("{collection}",encodeURIComponent(String(be))),se=new Map;se.set("user_id",Re),se.set("limit",b),se.set("cursor",P);const ye=this.buildFullUrl(this.basePath,L,se),Me=Yt("GET",B,"");return Y&&(Me.headers.Authorization="Bearer "+Y),Promise.race([fetch(ye,Me).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,ce)=>setTimeout(ce,this.timeoutMs,"Request timed out."))])}listStorageObjects2(Y,be,Re,b,P,B={}){if(null==be)throw new Error("'collection' is a required parameter but is null or undefined.");if(null==Re)throw new Error("'userId' is a required parameter but is null or undefined.");const L="/v2/storage/{collection}/{userId}".replace("{collection}",encodeURIComponent(String(be))).replace("{userId}",encodeURIComponent(String(Re))),se=new Map;se.set("limit",b),se.set("cursor",P);const ye=this.buildFullUrl(this.basePath,L,se),Me=Yt("GET",B,"");return Y&&(Me.headers.Authorization="Bearer "+Y),Promise.race([fetch(ye,Me).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,ce)=>setTimeout(ce,this.timeoutMs,"Request timed out."))])}listTournaments(Y,be,Re,b,P,B,L,se={}){const ye=new Map;ye.set("category_start",be),ye.set("category_end",Re),ye.set("start_time",b),ye.set("end_time",P),ye.set("limit",B),ye.set("cursor",L);const Xe=this.buildFullUrl(this.basePath,"/v2/tournament",ye),ce=Yt("GET",se,"");return Y&&(ce.headers.Authorization="Bearer "+Y),Promise.race([fetch(Xe,ce).then(ke=>{if(204==ke.status)return ke;if(ke.status>=200&&ke.status<300)return ke.json();throw ke}),new Promise((ke,lt)=>setTimeout(lt,this.timeoutMs,"Request timed out."))])}deleteTournamentRecord(Y,be,Re={}){if(null==be)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const b="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(be))),L=this.buildFullUrl(this.basePath,b,new Map),se=Yt("DELETE",Re,"");return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}listTournamentRecords(Y,be,Re,b,P,B,L={}){if(null==be)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const se="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(be))),W=new Map;W.set("owner_ids",Re),W.set("limit",b),W.set("cursor",P),W.set("expiry",B);const Me=this.buildFullUrl(this.basePath,se,W),Xe=Yt("GET",L,"");return Y&&(Xe.headers.Authorization="Bearer "+Y),Promise.race([fetch(Me,Xe).then(ce=>{if(204==ce.status)return ce;if(ce.status>=200&&ce.status<300)return ce.json();throw ce}),new Promise((ce,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}writeTournamentRecord2(Y,be,Re,b={}){if(null==be)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Re)throw new Error("'record' is a required parameter but is null or undefined.");const P="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(be))),B=new Map;let L="";L=JSON.stringify(Re||{});const se=this.buildFullUrl(this.basePath,P,B),W=Yt("POST",b,L);return Y&&(W.headers.Authorization="Bearer "+Y),Promise.race([fetch(se,W).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}writeTournamentRecord(Y,be,Re,b={}){if(null==be)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Re)throw new Error("'record' is a required parameter but is null or undefined.");const P="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(be))),B=new Map;let L="";L=JSON.stringify(Re||{});const se=this.buildFullUrl(this.basePath,P,B),W=Yt("PUT",b,L);return Y&&(W.headers.Authorization="Bearer "+Y),Promise.race([fetch(se,W).then(ye=>{if(204==ye.status)return ye;if(ye.status>=200&&ye.status<300)return ye.json();throw ye}),new Promise((ye,Me)=>setTimeout(Me,this.timeoutMs,"Request timed out."))])}joinTournament(Y,be,Re={}){if(null==be)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const b="/v2/tournament/{tournamentId}/join".replace("{tournamentId}",encodeURIComponent(String(be))),L=this.buildFullUrl(this.basePath,b,new Map),se=Yt("POST",Re,"");return Y&&(se.headers.Authorization="Bearer "+Y),Promise.race([fetch(L,se).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ye)=>setTimeout(ye,this.timeoutMs,"Request timed out."))])}listTournamentRecordsAroundOwner(Y,be,Re,b,P,B,L={}){if(null==be)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==Re)throw new Error("'ownerId' is a required parameter but is null or undefined.");const se="/v2/tournament/{tournamentId}/owner/{ownerId}".replace("{tournamentId}",encodeURIComponent(String(be))).replace("{ownerId}",encodeURIComponent(String(Re))),W=new Map;W.set("limit",b),W.set("expiry",P),W.set("cursor",B);const Me=this.buildFullUrl(this.basePath,se,W),Xe=Yt("GET",L,"");return Y&&(Xe.headers.Authorization="Bearer "+Y),Promise.race([fetch(Me,Xe).then(ce=>{if(204==ce.status)return ce;if(ce.status>=200&&ce.status<300)return ce.json();throw ce}),new Promise((ce,ke)=>setTimeout(ke,this.timeoutMs,"Request timed out."))])}getUsers(Y,be,Re,b,P={}){const L=new Map;L.set("ids",be),L.set("usernames",Re),L.set("facebook_ids",b);const W=this.buildFullUrl(this.basePath,"/v2/user",L),ye=Yt("GET",P,"");return Y&&(ye.headers.Authorization="Bearer "+Y),Promise.race([fetch(W,ye).then(Me=>{if(204==Me.status)return Me;if(Me.status>=200&&Me.status<300)return Me.json();throw Me}),new Promise((Me,Xe)=>setTimeout(Xe,this.timeoutMs,"Request timed out."))])}listUserGroups(Y,be,Re,b,P,B={}){if(null==be)throw new Error("'userId' is a required parameter but is null or undefined.");const L="/v2/user/{userId}/group".replace("{userId}",encodeURIComponent(String(be))),se=new Map;se.set("limit",Re),se.set("state",b),se.set("cursor",P);const ye=this.buildFullUrl(this.basePath,L,se),Me=Yt("GET",B,"");return Y&&(Me.headers.Authorization="Bearer "+Y),Promise.race([fetch(ye,Me).then(Xe=>{if(204==Xe.status)return Xe;if(Xe.status>=200&&Xe.status<300)return Xe.json();throw Xe}),new Promise((Xe,ce)=>setTimeout(ce,this.timeoutMs,"Request timed out."))])}buildFullUrl(Y,be,Re){let b=Y+be+"?";for(let[P,B]of Re)B instanceof Array?b+=B.reduce((L,se)=>L+encodeURIComponent(P)+"="+encodeURIComponent(se)+"&",""):null!=B&&(b+=encodeURIComponent(P)+"="+encodeURIComponent(B)+"&");return b}},At=class{constructor(Y,be,Re){this.created=Re,this.token=Y,this.refresh_token=be,this.created_at=Math.floor((new Date).getTime()/1e3),this.update(Y,be)}isexpired(Y){return this.expires_at-Y<0}isrefreshexpired(Y){return this.refresh_expires_at-Y<0}update(Y,be){const Re=Y.split(".");if(3!=Re.length)throw"jwt is not valid.";const b=JSON.parse(on(Re[1])),P=Math.floor(parseInt(b.exp));if(be){const B=be.split(".");if(3!=B.length)throw"refresh jwt is not valid.";const L=JSON.parse(on(B[1])),se=Math.floor(parseInt(L.exp));this.refresh_expires_at=se,this.refresh_token=be}this.token=Y,this.expires_at=P,this.username=b.usn,this.user_id=b.uid,this.vars=b.vrs}static restore(Y,be){return new At(Y,be,!1)}},sn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$t=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(ze=0;ze<64;ze++)$t[sn.charCodeAt(ze)]=ze;var ze,$e=function(Y){var Re,be=new Uint8Array(Y),b=be.length,P="";for(Re=0;Re<b;Re+=3)P+=sn[be[Re]>>2],P+=sn[(3&be[Re])<<4|be[Re+1]>>4],P+=sn[(15&be[Re+1])<<2|be[Re+2]>>6],P+=sn[63&be[Re+2]];return b%3==2?P=P.substring(0,P.length-1)+"=":b%3==1&&(P=P.substring(0,P.length-2)+"=="),P},Pe=function(Y){var b,B,L,se,W,be=.75*Y.length,Re=Y.length,P=0;"="===Y[Y.length-1]&&(be--,"="===Y[Y.length-2]&&be--);var ye=new ArrayBuffer(be),Me=new Uint8Array(ye);for(b=0;b<Re;b+=4)B=$t[Y.charCodeAt(b)],L=$t[Y.charCodeAt(b+1)],se=$t[Y.charCodeAt(b+2)],W=$t[Y.charCodeAt(b+3)],Me[P++]=B<<2|L>>4,Me[P++]=(15&L)<<4|se>>2,Me[P++]=(3&se)<<6|63&W;return ye},qe=class{get onClose(){return this._socket.onclose}set onClose(Y){this._socket.onclose=Y}get onError(){return this._socket.onerror}set onError(Y){this._socket.onerror=Y}get onMessage(){return this._socket.onmessage}set onMessage(Y){Y?this._socket.onmessage=be=>{const Re=JSON.parse(be.data);Re.match_data&&Re.match_data.data?Re.match_data.data=new Uint8Array(Pe(Re.match_data.data)):Re.party_data&&Re.party_data.data&&(Re.party_data.data=new Uint8Array(Pe(Re.party_data.data))),Y(Re)}:Y=null}get onOpen(){return this._socket.onopen}set onOpen(Y){this._socket.onopen=Y}isOpen(){var Y;return(null==(Y=this._socket)?void 0:Y.readyState)==WebSocket.OPEN}connect(Y,be,Re,b,P){const B=`${Y}${be}:${Re}/ws?lang=en&status=${encodeURIComponent(b.toString())}&token=${encodeURIComponent(P)}`;this._socket=new WebSocket(B)}close(){this._socket.close(),this._socket=void 0}send(Y){if(Y.match_data_send){Y.match_data_send.op_code=Y.match_data_send.op_code.toString();let be=Y.match_data_send.data;be&&be instanceof Uint8Array?Y.match_data_send.data=$e(be.buffer):be&&(Y.match_data_send.data=mt(be))}else if(Y.party_data_send){Y.party_data_send.op_code=Y.party_data_send.op_code.toString();let be=Y.party_data_send.data;be&&be instanceof Uint8Array?Y.party_data_send.data=$e(be.buffer):be&&(Y.party_data_send.data=mt(be))}this._socket.send(JSON.stringify(Y))}},Et=class{constructor(Y,be,Re=!1,b=!1,P=new qe,B=Et.DefaultSendTimeoutMs){this.host=Y,this.port=be,this.useSSL=Re,this.verbose=b,this.adapter=P,this.sendTimeoutMs=B,this.cIds={},this.nextCid=1,this._heartbeatTimeoutMs=Et.DefaultHeartbeatTimeoutMs}generatecid(){const Y=this.nextCid.toString();return++this.nextCid,Y}connect(Y,be=!1,Re=Et.DefaultConnectTimeoutMs){return this.adapter.isOpen()?Promise.resolve(Y):(this.adapter.connect(this.useSSL?"wss://":"ws://",this.host,this.port,be,Y.token),this.adapter.onClose=P=>{this.ondisconnect(P)},this.adapter.onError=P=>{this.onerror(P)},this.adapter.onMessage=P=>{if(this.verbose&&window&&window.console&&console.log("Response: %o",JSON.stringify(P)),P.cid){const B=this.cIds[P.cid];if(!B)return void(this.verbose&&window&&window.console&&console.error("No promise executor for message: %o",P));delete this.cIds[P.cid],P.error?B.reject(P.error):B.resolve(P)}else P.notifications?P.notifications.notifications.forEach(B=>{B.content=B.content?JSON.parse(B.content):void 0,this.onnotification(B)}):P.match_data?(P.match_data.op_code=parseInt(P.match_data.op_code),this.onmatchdata(P.match_data)):P.match_presence_event?this.onmatchpresence(P.match_presence_event):P.matchmaker_ticket?this.onmatchmakerticket(P.matchmaker_ticket):P.matchmaker_matched?this.onmatchmakermatched(P.matchmaker_matched):P.status_presence_event?this.onstatuspresence(P.status_presence_event):P.stream_presence_event?this.onstreampresence(P.stream_presence_event):P.stream_data?this.onstreamdata(P.stream_data):P.channel_message?(P.channel_message.content=JSON.parse(P.channel_message.content),this.onchannelmessage(P.channel_message)):P.channel_presence_event?this.onchannelpresence(P.channel_presence_event):P.party_data?(P.party_data.op_code=parseInt(P.party_data.op_code),this.onpartydata(P.party_data)):P.party_close?this.onpartyclose(P.party_close):P.party_join_request?this.onpartyjoinrequest(P.party_join_request):P.party_leader?this.onpartyleader(P.party_leader):P.party_matchmaker_ticket?this.onpartymatchmakerticket(P.party_matchmaker_ticket):P.party_presence_event?this.onpartypresence(P.party_presence_event):P.party?this.onparty(P.party):this.verbose&&window&&window.console&&console.log("Unrecognized message received: %o",P)},new Promise((P,B)=>{this.adapter.onOpen=L=>{this.verbose&&window&&window.console&&console.log(L),this.pingPong(),P(Y)},this.adapter.onError=L=>{B(L),this.adapter.close()},setTimeout(()=>{B("The socket timed out when trying to connect.")},Re)}))}disconnect(Y=!0){this.adapter.isOpen()&&this.adapter.close(),Y&&this.ondisconnect({})}setHeartbeatTimeoutMs(Y){this._heartbeatTimeoutMs=Y}getHeartbeatTimeoutMs(){return this._heartbeatTimeoutMs}ondisconnect(Y){this.verbose&&window&&window.console&&console.log(Y)}onerror(Y){this.verbose&&window&&window.console&&console.log(Y)}onchannelmessage(Y){this.verbose&&window&&window.console&&console.log(Y)}onchannelpresence(Y){this.verbose&&window&&window.console&&console.log(Y)}onnotification(Y){this.verbose&&window&&window.console&&console.log(Y)}onmatchdata(Y){this.verbose&&window&&window.console&&console.log(Y)}onmatchpresence(Y){this.verbose&&window&&window.console&&console.log(Y)}onmatchmakerticket(Y){this.verbose&&window&&window.console&&console.log(Y)}onmatchmakermatched(Y){this.verbose&&window&&window.console&&console.log(Y)}onparty(Y){this.verbose&&window&&window.console&&console.log(Y)}onpartyclose(Y){this.verbose&&window&&window.console&&console.log("Party closed: "+Y)}onpartyjoinrequest(Y){this.verbose&&window&&window.console&&console.log(Y)}onpartydata(Y){this.verbose&&window&&window.console&&console.log(Y)}onpartyleader(Y){this.verbose&&window&&window.console&&console.log(Y)}onpartymatchmakerticket(Y){this.verbose&&window&&window.console&&console.log(Y)}onpartypresence(Y){this.verbose&&window&&window.console&&console.log(Y)}onstatuspresence(Y){this.verbose&&window&&window.console&&console.log(Y)}onstreampresence(Y){this.verbose&&window&&window.console&&console.log(Y)}onstreamdata(Y){this.verbose&&window&&window.console&&console.log(Y)}onheartbeattimeout(){this.verbose&&window&&window.console&&console.log("Heartbeat timeout.")}send(Y,be=Et.DefaultSendTimeoutMs){const Re=Y;return new Promise((b,P)=>{if(this.adapter.isOpen())if(Re.match_data_send)this.adapter.send(Re),b();else if(Re.party_data_send)this.adapter.send(Re),b();else{Re.channel_message_send?Re.channel_message_send.content=JSON.stringify(Re.channel_message_send.content):Re.channel_message_update&&(Re.channel_message_update.content=JSON.stringify(Re.channel_message_update.content));const B=this.generatecid();this.cIds[B]={resolve:b,reject:P},setTimeout(()=>{P("The socket timed out while waiting for a response.")},be),Re.cid=B,this.adapter.send(Re)}else P("Socket connection has not been established yet.");if(this.verbose&&window&&window.console){const B=H({},Re);B.match_data_send&&B.match_data_send.data?B.match_data_send.data=gn(B.match_data_send.data):B.party_data_send&&B.party_data_send.data&&(B.party_data_send.data=gn(B.party_data_send.data)),console.log("Sent message: %o",JSON.stringify(B))}})}acceptPartyMember(Y,be){return this.send({party_accept:{party_id:Y,presence:be}})}addMatchmaker(Y,be,Re,b,P){return v(this,null,function*(){return(yield this.send({matchmaker_add:{min_count:be,max_count:Re,query:Y,string_properties:b,numeric_properties:P}})).matchmaker_ticket})}addMatchmakerParty(Y,be,Re,b,P,B){return v(this,null,function*(){return(yield this.send({party_matchmaker_add:{party_id:Y,min_count:Re,max_count:b,query:be,string_properties:P,numeric_properties:B}})).party_matchmaker_ticket})}closeParty(Y){return v(this,null,function*(){return yield this.send({party_close:{party_id:Y}})})}createMatch(Y){return v(this,null,function*(){return(yield this.send({match_create:{name:Y}})).match})}createParty(Y,be){return v(this,null,function*(){return(yield this.send({party_create:{open:Y,max_size:be}})).party})}followUsers(Y){return v(this,null,function*(){return(yield this.send({status_follow:{user_ids:Y}})).status})}joinChat(Y,be,Re,b){return v(this,null,function*(){return(yield this.send({channel_join:{target:Y,type:be,persistence:Re,hidden:b}})).channel})}joinMatch(Y,be,Re){return v(this,null,function*(){const b={match_join:{metadata:Re}};return be?b.match_join.token=be:b.match_join.match_id=Y,(yield this.send(b)).match})}joinParty(Y){return v(this,null,function*(){return yield this.send({party_join:{party_id:Y}})})}leaveChat(Y){return this.send({channel_leave:{channel_id:Y}})}leaveMatch(Y){return this.send({match_leave:{match_id:Y}})}leaveParty(Y){return this.send({party_leave:{party_id:Y}})}listPartyJoinRequests(Y){return v(this,null,function*(){return(yield this.send({party_join_request_list:{party_id:Y}})).party_join_request})}promotePartyMember(Y,be){return v(this,null,function*(){return(yield this.send({party_promote:{party_id:Y,presence:be}})).party_leader})}removeChatMessage(Y,be){return v(this,null,function*(){return(yield this.send({channel_message_remove:{channel_id:Y,message_id:be}})).channel_message_ack})}removeMatchmaker(Y){return this.send({matchmaker_remove:{ticket:Y}})}removeMatchmakerParty(Y,be){return this.send({party_matchmaker_remove:{party_id:Y,ticket:be}})}removePartyMember(Y,be){return v(this,null,function*(){return this.send({party_remove:{party_id:Y,presence:be}})})}rpc(Y,be,Re){return v(this,null,function*(){return(yield this.send({rpc:{id:Y,payload:be,http_key:Re}})).rpc})}sendMatchState(Y,be,Re,b,P){return v(this,null,function*(){return this.send({match_data_send:{match_id:Y,op_code:be,data:Re,presences:null!=b?b:[],reliable:P}})})}sendPartyData(Y,be,Re){return this.send({party_data_send:{party_id:Y,op_code:be,data:Re}})}unfollowUsers(Y){return this.send({status_unfollow:{user_ids:Y}})}updateChatMessage(Y,be,Re){return v(this,null,function*(){return(yield this.send({channel_message_update:{channel_id:Y,message_id:be,content:Re}})).channel_message_ack})}updateStatus(Y){return this.send({status_update:{status:Y}})}writeChatMessage(Y,be){return v(this,null,function*(){return(yield this.send({channel_message_send:{channel_id:Y,content:be}})).channel_message_ack})}pingPong(){return v(this,null,function*(){if(this.adapter.isOpen()){try{yield this.send({ping:{}},this._heartbeatTimeoutMs)}catch{return void(this.adapter.isOpen()&&(window&&window.console&&console.error("Server unreachable from heartbeat."),this.onheartbeattimeout(),this.adapter.close()))}setTimeout(()=>this.pingPong(),this._heartbeatTimeoutMs)}})}},Ft=Et;Ft.DefaultHeartbeatTimeoutMs=1e4,Ft.DefaultSendTimeoutMs=1e4,Ft.DefaultConnectTimeoutMs=3e4;var tt=class{constructor(Y="defaultkey",be="127.0.0.1",Re="7350",b=!1,P=7e3,B=!0){this.serverkey=Y,this.host=be,this.port=Re,this.useSSL=b,this.timeout=P,this.autoRefreshSession=B,this.expiredTimespanMs=3e5,this.apiClient=new hn(Y,`${b?"https://":"http://"}${be}:${Re}`,P)}addGroupUsers(Y,be,Re){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.addGroupUsers(Y.token,be,Re).then(b=>void 0!==b)})}addFriends(Y,be,Re){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.addFriends(Y.token,be,Re).then(b=>void 0!==b)})}authenticateApple(Y,be,Re){return v(this,arguments,function*(b,P,B,L={},se={}){return this.apiClient.authenticateApple(this.serverkey,"",{token:b,vars:L},P,B,se).then(ye=>new At(ye.token||"",ye.refresh_token||"",ye.created||!1))})}authenticateCustom(Y,be,Re,b={},P={}){return this.apiClient.authenticateCustom(this.serverkey,"",{id:Y,vars:b},be,Re,P).then(L=>new At(L.token||"",L.refresh_token||"",L.created||!1))}authenticateDevice(Y,be,Re,b){return this.apiClient.authenticateDevice(this.serverkey,"",{id:Y,vars:b},be,Re).then(B=>new At(B.token||"",B.refresh_token||"",B.created||!1))}authenticateEmail(Y,be,Re,b,P){return this.apiClient.authenticateEmail(this.serverkey,"",{email:Y,password:be,vars:P},Re,b).then(L=>new At(L.token||"",L.refresh_token||"",L.created||!1))}authenticateFacebookInstantGame(Y,be,Re,b,P={}){const B={signed_player_info:Y,vars:b};return this.apiClient.authenticateFacebookInstantGame(this.serverkey,"",{signed_player_info:B.signed_player_info,vars:B.vars},be,Re,P).then(L=>new At(L.token||"",L.refresh_token||"",L.created||!1))}authenticateFacebook(Y,be,Re,b,P,B={}){return this.apiClient.authenticateFacebook(this.serverkey,"",{token:Y,vars:P},be,Re,b,B).then(se=>new At(se.token||"",se.refresh_token||"",se.created||!1))}authenticateGoogle(Y,be,Re,b){return v(this,arguments,function*(P,B,L,se,W={}){const ye={token:P,vars:se},Me=yield this.apiClient.authenticateGoogle(this.serverkey,"",ye,B,L,W);return new At(Me.token||"",Me.refresh_token||"",Me.created||!1)})}authenticateGameCenter(Y,be,Re,b,P,B,L,se,W){return v(this,arguments,function*(ye,Me,Xe,ce,ke,lt,Be,ht,Nt,nn={}){const dn={bundle_id:ye,player_id:Me,public_key_url:Xe,salt:ce,signature:ke,timestamp_seconds:lt,vars:Nt},Sn=yield this.apiClient.authenticateGameCenter(this.serverkey,"",dn,ht,Be,nn);return new At(Sn.token||"",Sn.refresh_token||"",Sn.created||!1)})}authenticateSteam(Y,be,Re,b,P){return v(this,null,function*(){return this.apiClient.authenticateSteam(this.serverkey,"",{token:Y,vars:P,sync:b},be,Re).then(L=>new At(L.token||"",L.refresh_token||"",L.created||!1))})}banGroupUsers(Y,be,Re){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.banGroupUsers(Y.token,be,Re).then(b=>void 0!==b)})}blockFriends(Y,be,Re){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.blockFriends(Y.token,be,Re).then(b=>Promise.resolve(null!=b))})}createGroup(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.createGroup(Y.token,be).then(Re=>Promise.resolve({avatar_url:Re.avatar_url,create_time:Re.create_time,creator_id:Re.creator_id,description:Re.description,edge_count:Re.edge_count?Number(Re.edge_count):0,id:Re.id,lang_tag:Re.lang_tag,max_count:Re.max_count?Number(Re.max_count):0,metadata:Re.metadata?JSON.parse(Re.metadata):void 0,name:Re.name,open:Re.open,update_time:Re.update_time}))})}createSocket(Y=!1,be=!1,Re=new qe,b=Ft.DefaultSendTimeoutMs){return new Ft(this.host,this.port,Y,be,Re,b)}deleteAccount(Y){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.deleteAccount(Y.token).then(be=>void 0!==be)})}deleteFriends(Y,be,Re){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.deleteFriends(Y.token,be,Re).then(b=>void 0!==b)})}deleteGroup(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.deleteGroup(Y.token,be).then(Re=>void 0!==Re)})}deleteNotifications(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.deleteNotifications(Y.token,be).then(Re=>Promise.resolve(null!=Re))})}deleteStorageObjects(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.deleteStorageObjects(Y.token,be).then(Re=>Promise.resolve(null!=Re))})}deleteTournamentRecord(Y,be){return v(this,null,function*(){return this.apiClient.deleteTournamentRecord(Y.token,be)})}demoteGroupUsers(Y,be,Re){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.demoteGroupUsers(Y.token,be,Re).then(b=>Promise.resolve(null!=b))})}emitEvent(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.event(Y.token,be).then(Re=>Promise.resolve(null!=Re))})}getAccount(Y){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.getAccount(Y.token)})}getSubscription(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.getSubscription(Y.token,be)})}importFacebookFriends(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.importFacebookFriends(Y.token,be).then(Re=>void 0!==Re)})}importSteamFriends(Y,be,Re){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.importSteamFriends(Y.token,be,Re).then(b=>void 0!==b)})}getUsers(Y,be,Re,b){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.getUsers(Y.token,be,Re,b).then(P=>{var B={users:[]};return null==P.users||P.users.forEach(L=>{B.users.push({avatar_url:L.avatar_url,create_time:L.create_time,display_name:L.display_name,edge_count:L.edge_count?Number(L.edge_count):0,facebook_id:L.facebook_id,gamecenter_id:L.gamecenter_id,google_id:L.google_id,id:L.id,lang_tag:L.lang_tag,location:L.location,online:L.online,steam_id:L.steam_id,timezone:L.timezone,update_time:L.update_time,username:L.username,metadata:L.metadata?JSON.parse(L.metadata):void 0})}),Promise.resolve(B)})})}joinGroup(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.joinGroup(Y.token,be,{}).then(Re=>void 0!==Re)})}joinTournament(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.joinTournament(Y.token,be,{}).then(Re=>void 0!==Re)})}kickGroupUsers(Y,be,Re){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.kickGroupUsers(Y.token,be,Re).then(b=>Promise.resolve(null!=b))})}leaveGroup(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.leaveGroup(Y.token,be,{}).then(Re=>void 0!==Re)})}listChannelMessages(Y,be,Re,b,P){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.listChannelMessages(Y.token,be,Re,b,P).then(B=>{var L={messages:[],next_cursor:B.next_cursor,prev_cursor:B.prev_cursor,cacheable_cursor:B.cacheable_cursor};return null==B.messages||B.messages.forEach(se=>{L.messages.push({channel_id:se.channel_id,code:se.code?Number(se.code):0,create_time:se.create_time,message_id:se.message_id,persistent:se.persistent,sender_id:se.sender_id,update_time:se.update_time,username:se.username,content:se.content?JSON.parse(se.content):void 0,group_id:se.group_id,room_name:se.room_name,user_id_one:se.user_id_one,user_id_two:se.user_id_two})}),Promise.resolve(L)})})}listGroupUsers(Y,be,Re,b,P){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.listGroupUsers(Y.token,be,b,Re,P).then(B=>{var L={group_users:[],cursor:B.cursor};return null==B.group_users||B.group_users.forEach(se=>{L.group_users.push({user:{avatar_url:se.user.avatar_url,create_time:se.user.create_time,display_name:se.user.display_name,edge_count:se.user.edge_count?Number(se.user.edge_count):0,facebook_id:se.user.facebook_id,gamecenter_id:se.user.gamecenter_id,google_id:se.user.google_id,id:se.user.id,lang_tag:se.user.lang_tag,location:se.user.location,online:se.user.online,steam_id:se.user.steam_id,timezone:se.user.timezone,update_time:se.user.update_time,username:se.user.username,metadata:se.user.metadata?JSON.parse(se.user.metadata):void 0},state:se.state?Number(se.state):0})}),Promise.resolve(L)})})}listUserGroups(Y,be,Re,b,P){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.listUserGroups(Y.token,be,Re,b,P).then(B=>{var L={user_groups:[],cursor:B.cursor};return null==B.user_groups||B.user_groups.forEach(se=>{L.user_groups.push({group:{avatar_url:se.group.avatar_url,create_time:se.group.create_time,creator_id:se.group.creator_id,description:se.group.description,edge_count:se.group.edge_count?Number(se.group.edge_count):0,id:se.group.id,lang_tag:se.group.lang_tag,max_count:se.group.max_count,metadata:se.group.metadata?JSON.parse(se.group.metadata):void 0,name:se.group.name,open:se.group.open,update_time:se.group.update_time},state:se.state?Number(se.state):0})}),Promise.resolve(L)})})}listGroups(Y,be,Re,b){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.listGroups(Y.token,be,Re,b).then(P=>{var B={groups:[]};return null==P.groups||(B.cursor=P.cursor,P.groups.forEach(L=>{B.groups.push({avatar_url:L.avatar_url,create_time:L.create_time,creator_id:L.creator_id,description:L.description,edge_count:L.edge_count?Number(L.edge_count):0,id:L.id,lang_tag:L.lang_tag,max_count:L.max_count,metadata:L.metadata?JSON.parse(L.metadata):void 0,name:L.name,open:L.open,update_time:L.update_time})})),Promise.resolve(B)})})}linkApple(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.linkApple(Y.token,be).then(Re=>void 0!==Re)})}linkCustom(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.linkCustom(Y.token,be).then(Re=>void 0!==Re)})}linkDevice(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.linkDevice(Y.token,be).then(Re=>void 0!==Re)})}linkEmail(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.linkEmail(Y.token,be).then(Re=>void 0!==Re)})}linkFacebook(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.linkFacebook(Y.token,be).then(Re=>void 0!==Re)})}linkFacebookInstantGame(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.linkFacebookInstantGame(Y.token,be).then(Re=>void 0!==Re)})}linkGoogle(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.linkGoogle(Y.token,be).then(Re=>void 0!==Re)})}linkGameCenter(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.linkGameCenter(Y.token,be).then(Re=>void 0!==Re)})}linkSteam(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.linkSteam(Y.token,be).then(Re=>void 0!==Re)})}listFriends(Y,be,Re,b){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.listFriends(Y.token,Re,be,b).then(P=>{var B={friends:[],cursor:P.cursor};return null==P.friends||P.friends.forEach(L=>{B.friends.push({user:{avatar_url:L.user.avatar_url,create_time:L.user.create_time,display_name:L.user.display_name,edge_count:L.user.edge_count?Number(L.user.edge_count):0,facebook_id:L.user.facebook_id,gamecenter_id:L.user.gamecenter_id,google_id:L.user.google_id,id:L.user.id,lang_tag:L.user.lang_tag,location:L.user.location,online:L.user.online,steam_id:L.user.steam_id,timezone:L.user.timezone,update_time:L.user.update_time,username:L.user.username,metadata:L.user.metadata?JSON.parse(L.user.metadata):void 0,facebook_instant_game_id:L.user.facebook_instant_game_id},state:L.state})}),Promise.resolve(B)})})}listFriendsOfFriends(Y,be,Re){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.listFriendsOfFriends(Y.token,be,Re).then(b=>{var P={friends_of_friends:[],cursor:b.cursor};return null==b.friends_of_friends||b.friends_of_friends.forEach(B=>{P.friends_of_friends.push({referrer:B.referrer,user:{avatar_url:B.user.avatar_url,create_time:B.user.create_time,display_name:B.user.display_name,edge_count:B.user.edge_count?Number(B.user.edge_count):0,facebook_id:B.user.facebook_id,gamecenter_id:B.user.gamecenter_id,google_id:B.user.google_id,id:B.user.id,lang_tag:B.user.lang_tag,location:B.user.location,online:B.user.online,steam_id:B.user.steam_id,timezone:B.user.timezone,update_time:B.user.update_time,username:B.user.username,metadata:B.user.metadata?JSON.parse(B.user.metadata):void 0,facebook_instant_game_id:B.user.facebook_instant_game_id}})}),Promise.resolve(P)})})}listLeaderboardRecords(Y,be,Re,b,P,B){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.listLeaderboardRecords(Y.token,be,Re,b,P,B).then(L=>{var se={next_cursor:L.next_cursor,prev_cursor:L.prev_cursor,rank_count:L.rank_count?Number(L.rank_count):0,owner_records:[],records:[]};return null!=L.owner_records&&L.owner_records.forEach(W=>{se.owner_records.push({expiry_time:W.expiry_time,leaderboard_id:W.leaderboard_id,metadata:W.metadata?JSON.parse(W.metadata):void 0,num_score:W.num_score?Number(W.num_score):0,owner_id:W.owner_id,rank:W.rank?Number(W.rank):0,score:W.score?Number(W.score):0,subscore:W.subscore?Number(W.subscore):0,update_time:W.update_time,username:W.username,max_num_score:W.max_num_score?Number(W.max_num_score):0})}),null!=L.records&&L.records.forEach(W=>{se.records.push({expiry_time:W.expiry_time,leaderboard_id:W.leaderboard_id,metadata:W.metadata?JSON.parse(W.metadata):void 0,num_score:W.num_score?Number(W.num_score):0,owner_id:W.owner_id,rank:W.rank?Number(W.rank):0,score:W.score?Number(W.score):0,subscore:W.subscore?Number(W.subscore):0,update_time:W.update_time,username:W.username,max_num_score:W.max_num_score?Number(W.max_num_score):0})}),Promise.resolve(se)})})}listLeaderboardRecordsAroundOwner(Y,be,Re,b,P,B){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.listLeaderboardRecordsAroundOwner(Y.token,be,Re,b,P,B).then(L=>{var se={next_cursor:L.next_cursor,prev_cursor:L.prev_cursor,rank_count:L.rank_count?Number(L.rank_count):0,owner_records:[],records:[]};return null!=L.owner_records&&L.owner_records.forEach(W=>{se.owner_records.push({expiry_time:W.expiry_time,leaderboard_id:W.leaderboard_id,metadata:W.metadata?JSON.parse(W.metadata):void 0,num_score:W.num_score?Number(W.num_score):0,owner_id:W.owner_id,rank:W.rank?Number(W.rank):0,score:W.score?Number(W.score):0,subscore:W.subscore?Number(W.subscore):0,update_time:W.update_time,username:W.username,max_num_score:W.max_num_score?Number(W.max_num_score):0})}),null!=L.records&&L.records.forEach(W=>{se.records.push({expiry_time:W.expiry_time,leaderboard_id:W.leaderboard_id,metadata:W.metadata?JSON.parse(W.metadata):void 0,num_score:W.num_score?Number(W.num_score):0,owner_id:W.owner_id,rank:W.rank?Number(W.rank):0,score:W.score?Number(W.score):0,subscore:W.subscore?Number(W.subscore):0,update_time:W.update_time,username:W.username,max_num_score:W.max_num_score?Number(W.max_num_score):0})}),Promise.resolve(se)})})}listMatches(Y,be,Re,b,P,B,L){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.listMatches(Y.token,be,Re,b,P,B,L)})}listNotifications(Y,be,Re){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.listNotifications(Y.token,be,Re).then(b=>{var P={cacheable_cursor:b.cacheable_cursor,notifications:[]};return null==b.notifications||b.notifications.forEach(B=>{P.notifications.push({code:B.code?Number(B.code):0,create_time:B.create_time,id:B.id,persistent:B.persistent,sender_id:B.sender_id,subject:B.subject,content:B.content?JSON.parse(B.content):void 0})}),Promise.resolve(P)})})}listStorageObjects(Y,be,Re,b,P){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.listStorageObjects(Y.token,be,Re,b,P).then(B=>{var L={objects:[],cursor:B.cursor};return null==B.objects||B.objects.forEach(se=>{L.objects.push({collection:se.collection,key:se.key,permission_read:se.permission_read?Number(se.permission_read):0,permission_write:se.permission_write?Number(se.permission_write):0,value:se.value?JSON.parse(se.value):void 0,version:se.version,user_id:se.user_id,create_time:se.create_time,update_time:se.update_time})}),Promise.resolve(L)})})}listTournaments(Y,be,Re,b,P,B,L){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.listTournaments(Y.token,be,Re,b,P,B,L).then(se=>{var W={cursor:se.cursor,tournaments:[]};return null!=se.tournaments&&se.tournaments.forEach(ye=>{W.tournaments.push({id:ye.id,title:ye.title,description:ye.description,duration:ye.duration?Number(ye.duration):0,category:ye.category?Number(ye.category):0,sort_order:ye.sort_order?Number(ye.sort_order):0,size:ye.size?Number(ye.size):0,max_size:ye.max_size?Number(ye.max_size):0,max_num_score:ye.max_num_score?Number(ye.max_num_score):0,can_enter:ye.can_enter,end_active:ye.end_active?Number(ye.end_active):0,next_reset:ye.next_reset?Number(ye.next_reset):0,metadata:ye.metadata?JSON.parse(ye.metadata):void 0,create_time:ye.create_time,start_time:ye.start_time,end_time:ye.end_time,start_active:ye.start_active,authoritative:ye.authoritative})}),Promise.resolve(W)})})}listSubscriptions(Y,be,Re){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.listSubscriptions(Y.token,{cursor:be,limit:Re})})}listTournamentRecords(Y,be,Re,b,P,B){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.listTournamentRecords(Y.token,be,Re,b,P,B).then(L=>{var se={next_cursor:L.next_cursor,prev_cursor:L.prev_cursor,owner_records:[],records:[]};return null!=L.owner_records&&L.owner_records.forEach(W=>{se.owner_records.push({expiry_time:W.expiry_time,leaderboard_id:W.leaderboard_id,metadata:W.metadata?JSON.parse(W.metadata):void 0,num_score:W.num_score?Number(W.num_score):0,owner_id:W.owner_id,rank:W.rank?Number(W.rank):0,score:W.score?Number(W.score):0,subscore:W.subscore?Number(W.subscore):0,update_time:W.update_time,username:W.username,max_num_score:W.max_num_score?Number(W.max_num_score):0})}),null!=L.records&&L.records.forEach(W=>{se.records.push({expiry_time:W.expiry_time,leaderboard_id:W.leaderboard_id,metadata:W.metadata?JSON.parse(W.metadata):void 0,num_score:W.num_score?Number(W.num_score):0,owner_id:W.owner_id,rank:W.rank?Number(W.rank):0,score:W.score?Number(W.score):0,subscore:W.subscore?Number(W.subscore):0,update_time:W.update_time,username:W.username,max_num_score:W.max_num_score?Number(W.max_num_score):0})}),Promise.resolve(se)})})}listTournamentRecordsAroundOwner(Y,be,Re,b,P,B){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.listTournamentRecordsAroundOwner(Y.token,be,Re,b,P,B).then(L=>{var se={next_cursor:L.next_cursor,prev_cursor:L.prev_cursor,owner_records:[],records:[]};return null!=L.owner_records&&L.owner_records.forEach(W=>{se.owner_records.push({expiry_time:W.expiry_time,leaderboard_id:W.leaderboard_id,metadata:W.metadata?JSON.parse(W.metadata):void 0,num_score:W.num_score?Number(W.num_score):0,owner_id:W.owner_id,rank:W.rank?Number(W.rank):0,score:W.score?Number(W.score):0,subscore:W.subscore?Number(W.subscore):0,update_time:W.update_time,username:W.username,max_num_score:W.max_num_score?Number(W.max_num_score):0})}),null!=L.records&&L.records.forEach(W=>{se.records.push({expiry_time:W.expiry_time,leaderboard_id:W.leaderboard_id,metadata:W.metadata?JSON.parse(W.metadata):void 0,num_score:W.num_score?Number(W.num_score):0,owner_id:W.owner_id,rank:W.rank?Number(W.rank):0,score:W.score?Number(W.score):0,subscore:W.subscore?Number(W.subscore):0,update_time:W.update_time,username:W.username,max_num_score:W.max_num_score?Number(W.max_num_score):0})}),Promise.resolve(se)})})}promoteGroupUsers(Y,be,Re){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.promoteGroupUsers(Y.token,be,Re)})}readStorageObjects(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.readStorageObjects(Y.token,be).then(Re=>{var b={objects:[]};return null==Re.objects||Re.objects.forEach(P=>{b.objects.push({collection:P.collection,key:P.key,permission_read:P.permission_read?Number(P.permission_read):0,permission_write:P.permission_write?Number(P.permission_write):0,value:P.value?JSON.parse(P.value):void 0,version:P.version,user_id:P.user_id,create_time:P.create_time,update_time:P.update_time})}),Promise.resolve(b)})})}rpc(Y,be,Re){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.rpcFunc(Y.token,be,JSON.stringify(Re)).then(b=>Promise.resolve({id:b.id,payload:b.payload?JSON.parse(b.payload):void 0}))})}rpcHttpKey(Y,be,Re){return v(this,null,function*(){return this.apiClient.rpcFunc2("",be,Re&&JSON.stringify(Re)||"",Y).then(b=>Promise.resolve({id:b.id,payload:b.payload?JSON.parse(b.payload):void 0})).catch(b=>{throw b})})}sessionLogout(Y,be,Re){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.sessionLogout(Y.token,{refresh_token:Re,token:be}).then(b=>void 0!==b)})}sessionRefresh(Y){return v(this,arguments,function*(be,Re={}){if(!be)return console.error("Cannot refresh a null session."),be;be.created&&be.expires_at-be.created_at<70&&console.warn("Session lifetime too short, please set '--session.token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session"),be.created&&be.refresh_expires_at-be.created_at<3700&&console.warn("Session refresh lifetime too short, please set '--session.refresh_token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session");const b=yield this.apiClient.sessionRefresh(this.serverkey,"",{token:be.refresh_token,vars:Re});return be.update(b.token,b.refresh_token),be})}unlinkApple(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.unlinkApple(Y.token,be).then(Re=>void 0!==Re)})}unlinkCustom(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.unlinkCustom(Y.token,be).then(Re=>void 0!==Re)})}unlinkDevice(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.unlinkDevice(Y.token,be).then(Re=>void 0!==Re)})}unlinkEmail(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.unlinkEmail(Y.token,be).then(Re=>void 0!==Re)})}unlinkFacebook(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.unlinkFacebook(Y.token,be).then(Re=>void 0!==Re)})}unlinkFacebookInstantGame(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.unlinkFacebookInstantGame(Y.token,be).then(Re=>void 0!==Re)})}unlinkGoogle(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.unlinkGoogle(Y.token,be).then(Re=>void 0!==Re)})}unlinkGameCenter(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.unlinkGameCenter(Y.token,be).then(Re=>void 0!==Re)})}unlinkSteam(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.unlinkSteam(Y.token,be).then(Re=>void 0!==Re)})}updateAccount(Y,be){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.updateAccount(Y.token,be).then(Re=>void 0!==Re)})}updateGroup(Y,be,Re){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.updateGroup(Y.token,be,Re).then(b=>void 0!==b)})}validatePurchaseApple(Y,be,Re=!0){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.validatePurchaseApple(Y.token,{receipt:be,persist:Re})})}validatePurchaseFacebookInstant(Y,be,Re=!0){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.validatePurchaseFacebookInstant(Y.token,{signed_request:be,persist:Re})})}validatePurchaseGoogle(Y,be,Re=!0){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.validatePurchaseGoogle(Y.token,{purchase:be,persist:Re})})}validatePurchaseHuawei(Y,be,Re,b=!0){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.validatePurchaseHuawei(Y.token,{purchase:be,signature:Re,persist:b})})}validateSubscriptionApple(Y,be,Re=!0){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.validateSubscriptionApple(Y.token,{receipt:be,persist:Re})})}validateSubscriptionGoogle(Y,be,Re=!0){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.validateSubscriptionGoogle(Y.token,{receipt:be,persist:Re})})}writeLeaderboardRecord(Y,be,Re){return v(this,null,function*(){return this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y)),this.apiClient.writeLeaderboardRecord(Y.token,be,{metadata:Re.metadata?JSON.stringify(Re.metadata):void 0,score:Re.score,subscore:Re.subscore}).then(b=>Promise.resolve({expiry_time:b.expiry_time,leaderboard_id:b.leaderboard_id,metadata:b.metadata?JSON.parse(b.metadata):void 0,num_score:b.num_score?Number(b.num_score):0,owner_id:b.owner_id,score:b.score?Number(b.score):0,subscore:b.subscore?Number(b.subscore):0,update_time:b.update_time,username:b.username,max_num_score:b.max_num_score?Number(b.max_num_score):0,rank:b.rank?Number(b.rank):0}))})}writeStorageObjects(Y,be){return v(this,null,function*(){this.autoRefreshSession&&Y.refresh_token&&Y.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(Y));var Re={objects:[]};return be.forEach(b=>{Re.objects.push({collection:b.collection,key:b.key,permission_read:b.permission_read,permission_write:b.permission_write,value:JSON.stringify(b.value),version:b.version})}),this.apiClient.writeStorageObjects(Y.token,Re)})}writeTournamentRecord(Y,be,Re){return v(this,null,function*(){return this.apiClient.writeTournamentRecord(Y.token,be,{metadata:Re.metadata?JSON.stringify(Re.metadata):void 0,score:Re.score,subscore:Re.subscore}).then(b=>Promise.resolve({expiry_time:b.expiry_time,leaderboard_id:b.leaderboard_id,metadata:b.metadata?JSON.parse(b.metadata):void 0,num_score:b.num_score?Number(b.num_score):0,owner_id:b.owner_id,score:b.score?Number(b.score):0,subscore:b.subscore?Number(b.subscore):0,update_time:b.update_time,username:b.username,max_num_score:b.max_num_score?Number(b.max_num_score):0,rank:b.rank?Number(b.rank):0}))})}},ot=fe(9349),Ct=fe(8326),vt=fe(617),Mt=fe(9543),ln=fe(482),gt=fe(4437),St=fe(736),zt=fe(3953),Rt=fe(9900),tn=fe(8065),fn=fe(755),bn=fe(5547),Tn=fe(5374),An=fe(3656),Ln=fe(4234),jn=function(Y){return Y[Y.MANAGE_TODO=10]="MANAGE_TODO",Y[Y.EDIT_PROFILE=11]="EDIT_PROFILE",Y[Y.MANAGE_POST=12]="MANAGE_POST",Y[Y.ADD_CHANNEL=14]="ADD_CHANNEL",Y[Y.WEBRTC_INIT_REQ_SIGNAL=20]="WEBRTC_INIT_REQ_SIGNAL",Y[Y.WEBRTC_REPLY_INIT_SIGNAL=21]="WEBRTC_REPLY_INIT_SIGNAL",Y[Y.WEBRTC_RECEIVE_ANSWER=22]="WEBRTC_RECEIVE_ANSWER",Y[Y.WEBRTC_ICE_CANDIDATES=23]="WEBRTC_ICE_CANDIDATES",Y[Y.WEBRTC_NEGOCIATENEEDED=24]="WEBRTC_NEGOCIATENEEDED",Y[Y.WEBRTC_RECEIVED_CALL_SELF=25]="WEBRTC_RECEIVED_CALL_SELF",Y[Y.WEBRTC_HANGUP=30]="WEBRTC_HANGUP",Y[Y.VOIDDRAW_INIT=40]="VOIDDRAW_INIT",Y[Y.USER_PROFILE_CHANGED=100]="USER_PROFILE_CHANGED",Y[Y.USER_PROFILE_IMAGE_CHANGED=101]="USER_PROFILE_IMAGE_CHANGED",Y[Y.GROUP_DATA_CHANGED=200]="GROUP_DATA_CHANGED",Y[Y.GROUP_IMAGE_CHANGED=201]="GROUP_IMAGE_CHANGED",Y}(jn||{});let sr=(()=>{var Y;class be{constructor(b,P,B,L,se,W,ye,Me,Xe,ce,ke,lt){this.p5toast=b,this.statusBar=P,this.indexed=B,this.noti=L,this.modalCtrl=se,this.alertCtrl=W,this.lang=ye,this.global=Me,this.navCtrl=Xe,this.ngZone=ce,this.loadingCtrl=ke,this.nav=lt,this.profile={content:{type:void 0,path:void 0}},this.servers={official:{},unofficial:{}},this.showServer=!1,this.TogglingSession=!1,this.isRewardAdsUsed=!1,this.noti_origin={},this.AfterLoginActDone=!1,this.AfterLoginAct=[],this.self_match={},this.RemoteTodoCounter={},this.users={self:{},deleted:{},official:{},unofficial:{}},this.notifications_rearrange=[],this.groups={official:{},unofficial:{}},this.channels_orig={official:{},unofficial:{}},this.noti_id=2e3,this.web_noti_id={},this.registered_id=[],this.channels=[],this.socket_reactive={},this.on_socket_connected={},this.on_socket_disconnected={},this.match_act={},this.opened_page_info={},this.subscribe_lock=!1,this.has_new_channel_msg=!1,this.is_post_lock=!1,this.has_new_post=!1,this.posts_orig={local:{target:{me:{}}},official:{},unofficial:{}},this.posts=[],this.OnTransfer={},this.OnTransferMessage={},this.post_counter={local:{target:{me:0}},official:{},unofficial:{}},Me.CallbackNakama=this}initialize(){var b=this;return(0,j.A)(function*(){b.noti.GetNotificationIds(Me=>{let Xe=[];for(let ce=0,ke=Me.length;ce<ke;ce++)Xe.push(Me[ce].id);b.registered_id=Xe}),yield b.set_all_todo_notification();let P=yield b.indexed.loadTextFromUserPath("servers/self/profile.json");P&&(b.users.self=JSON.parse(P));try{let Me=(yield b.indexed.loadTextFromUserPath("servers/self/profile.img")).replace(/"|\\|=/g,"");Me&&(b.users.self.img=Me)}catch{}let B=yield b.indexed.loadTextFromUserPath("servers/list_detail.csv");if(B)B.split("\n").forEach(Xe=>{let ce=Xe.split(","),ke={isOfficial:ce[1],name:ce[2],target:ce[3],address:ce[4],port:+ce[5],useSSL:"true"==ce[6]};b.servers[ke.isOfficial][ke.target]={},b.servers[ke.isOfficial][ke.target].info=ke,b.init_server(ke)});else{let Me=location.href.split("?").length>1;(b.users.self.online||Me)&&b.toggle_all_session()}b.catch_group_server_header("offline");let L=yield b.indexed.loadTextFromUserPath("servers/groups.json");L&&(b.groups=JSON.parse(L)),b.rearrange_group_list().forEach(function(){var Me=(0,j.A)(function*(Xe){let ce=yield b.indexed.loadTextFromUserPath(`servers/${Xe.server.isOfficial}/${Xe.server.target}/groups/${Xe.id}.img`);if(ce&&(Xe.img=ce.replace(/"|=|\\/g,"")),"missing"!=Xe.status){delete Xe.status;let ke=Xe.server.isOfficial,lt=Xe.server.target;if(Xe.users)for(let Be=0,ht=Xe.users.length;Be<ht;Be++)Xe.users[Be].is_me||(Xe.users[Be].user=b.load_other_user(Xe.users[Be].user.id,ke,lt))}});return function(Xe){return Me.apply(this,arguments)}}()),yield b.load_channel_list();let W=yield b.indexed.loadTextFromUserPath("servers/list.json");W&&(b.statusBar.groupServer=JSON.parse(W)),Object.keys(b.statusBar.groupServer).forEach(Me=>{b.servers[Me]?Object.keys(b.statusBar.groupServer[Me]).forEach(ce=>{b.servers[Me][ce]||delete b.statusBar.groupServer[Me][ce]}):delete b.statusBar.groupServer[Me]}),b.users.self.online&&b.init_all_sessions(),b.showServer=!!localStorage.getItem("showServer")})()}set_all_todo_notification(){var b=this;return(0,j.A)(function*(){let P=yield b.indexed.GetFileListFromDB("info.todo");for(let B=0,L=P.length;B<L;B++){let se=yield b.indexed.loadTextFromUserPath(P[B]);if(se){let W=JSON.parse(se);b.registered_id.push(W.noti_id),b.set_todo_notification(W)}}})()}getGodotDBRecursive(){var b=this;return(0,j.A)(function*(){try{if(void 0===b.indexed.godotDB)throw"Retry catch godotDB";return}catch{return yield new Promise(B=>{setTimeout(()=>{B(void 0)},100)}),yield b.getGodotDBRecursive()}})()}open_add_todo_page(b=""){this.AddTodoLinkAct?this.AddTodoLinkAct(b):this.ngZone.run(()=>{this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("add-todo-menu",{animation:vt.V5,state:{data:b}})})})}set_todo_notification(b){var P=this;return(0,j.A)(function*(){let B=b.startFrom||b.limit;if("DesktopPWA"==ot.aH||"MobilePWA"==ot.aH){let L=new Date(B).getTime()-(new Date).getTime();if(L>0&&L<2e9){let se=setTimeout((0,j.A)(function*(){let W;for(let ye of b.attach)if("image"==ye.viewer){if(ye.url)W=ye.url;else{let Me=yield P.indexed.loadBlobFromUserPath(ye.path,ye.type);W=URL.createObjectURL(Me)}break}yield P.noti.PushLocal({id:b.noti_id,title:b.title,body:b.description,image:W,icon:"todo"},void 0,ye=>{P.open_add_todo_page(JSON.stringify(b))}),setTimeout(()=>{try{URL.revokeObjectURL(W)}catch{}},1e3)}),L);P.web_noti_id[b.noti_id]=se}}else{let L=new Date(B).getTime();for(let se=0,W=P.registered_id.length;se<W;se++)if(P.registered_id[se]==b.id){if(P.registered_id.splice(se,1),b.id=P.get_noti_id(),!b.done&&b.remote){let ye=b.remote.isOfficial,Me=b.remote.target;try{yield P.servers[ye][Me].client.writeStorageObjects(P.servers[ye][Me].session,[{collection:"server_todo",key:b.id,permission_read:2,permission_write:1,value:b}]).then(function(){var Xe=(0,j.A)(function*(ce){yield P.servers[ye][Me].socket.sendMatchState(P.self_match[ye][Me].match_id,jn.MANAGE_TODO,encodeURIComponent(`add,${ce.acks[0].collection},${ce.acks[0].key}`))});return function(ce){return Xe.apply(this,arguments)}}())}catch(Xe){console.log("\uc11c\ubc84 \uc54c\ub9bc \uc7ac\ub4f1\ub85d \uc2e4\ud328: ",Xe)}}break}if(!b.done&&L>(new Date).getTime()){let se="58a192";switch(b.importance){case"1":se="ddbb41";break;case"2":se="b95437"}b.custom_color&&(se=b.custom_color.replace("#","")),P.noti.PushLocal({id:b.noti_id,title:b.title,body:b.description,smallIcon_ln:"todo",iconColor_ln:se,group_ln:"todo",triggerWhen_ln:{at:new Date(B)},extra_ln:{type:"AddTodoMenuPage",data:JSON.stringify(b)}})}}})()}init_server(b){this.servers[b.isOfficial][b.target]||(this.servers[b.isOfficial][b.target]={}),this.servers[b.isOfficial][b.target].client=new tt(b.key||"defaultkey",b.address,(b.port||7350).toString(),b.useSSL||!1)}go_to_chatroom_without_admob_act(b,P){this.has_new_channel_msg=!1,this.rearrange_channels(),this.ChatroomLinkAct?this.ChatroomLinkAct(b,P):this.ngZone.run(()=>{this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("chat-room",{animation:vt.V5,state:{info:b,file:P}})})})}open_profile_page(b){this.ngZone.run(()=>{this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("group-server",{animation:vt.V5,state:b})})})}open_post(b,P){this.ngZone.run(()=>{this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("post-viewer",{animation:vt.V5,state:{data:b,index:P+1}})})})}init_all_sessions(){var b=this;return(0,j.A)(function*(){let P=Object.keys(b.servers.official);for(let L=0,se=P.length;L<se;L++)yield b.init_session(b.servers.official[P[L]].info);let B=Object.keys(b.servers.unofficial);for(let L=0,se=B.length;L<se;L++)yield b.init_session(b.servers.unofficial[B[L]].info);return P.length+B.length})()}logout_all_server(){let b=Object.keys(this.statusBar.groupServer);for(let P=0,B=b.length;P<B;P++){let L=Object.keys(this.statusBar.groupServer[b[P]]);for(let se=0,W=L.length;se<W;se++)"online"==this.statusBar.groupServer[b[P]][L[se]]&&(this.servers[b[P]][L[se]].socket?this.servers[b[P]][L[se]].socket.disconnect(!0):this.link_group(b[P],L[se],!1))}}toggle_all_session(){var b=this;return(0,j.A)(function*(){if(!b.TogglingSession){if(b.TogglingSession=!0,"online"==b.statusBar.settings.groupServer)b.logout_all_server(),b.p5toast.show({text:b.lang.text.Nakama.SessionLogout});else{b.p5toast.show({text:b.lang.text.Nakama.PendingLogin});try{(yield b.init_all_sessions())||b.AccessToOfficialTestServer()}catch{}}b.TogglingSession=!1}})()}WatchAdsAndGetDevServerInfo(b=!1){var P=this;return(0,j.A)(function*(){if(!P.isRewardAdsUsed||b){let B=yield P.loadingCtrl.create({message:P.lang.text.TodoDetail.WIP});return B.present(),yield P.AccessToOfficialTestServer(),B.dismiss(),!0}return!1})()}AccessToOfficialTestServer(){var b=this;return(0,j.A)(function*(){try{let B=(yield(yield fetch(`${ot.d2}assets/data/WSAddress.txt`)).text()).split("\n")[0];yield b.add_group_server({isOfficial:"official",address:B,name:b.lang.text.Nakama.DevTestServer,target:"DevTestServer",useSSL:!0}),b.isRewardAdsUsed=!0;let L=Object.keys(b.servers.official);for(let se=0,W=L.length;se<W;se++)yield b.init_session(b.servers.official[L[se]].info);"online"==b.statusBar.settings.groupServer&&b.p5toast.show({text:b.lang.text.Nakama.AccessTestServer})}catch(P){console.log("\uc8fc\uc18c\ubc1b\uae30 \uc2e4\ud328: ",P)}})()}link_group(b,P,B="offline"==this.statusBar.groupServer[b][P]){var L=this;return(0,j.A)(function*(){if(B)L.statusBar.groupServer[b][P]="pending",L.catch_group_server_header("pending"),L.users.self.online&&(yield L.init_session(L.servers[b][P].info));else{L.channels_orig[b]&&L.channels_orig[b][P]&&(Object.keys(L.channels_orig[b][P]).forEach(W=>{"missing"!=L.channels_orig[b][P][W].status&&delete L.channels_orig[b][P][W].status}),L.rearrange_channels()),L.groups[b]&&L.groups[b][P]&&Object.keys(L.groups[b][P]).forEach(W=>{"missing"!=L.groups[b][P][W].status&&(L.groups[b][P][W].status="offline")}),L.set_group_statusBar("offline",b,P),L.statusBar.groupServer[b][P]="offline",L.catch_group_server_header("offline");try{yield L.servers[b][P].client.sessionLogout(L.servers[b][P].session,L.servers[b][P].session.token,L.servers[b][P].session.refresh_token)}catch{}L.noti_origin[b]&&L.noti_origin[b][P]&&delete L.noti_origin[b][P],L.rearrange_notifications(),L.channels_orig[b]&&L.channels_orig[b][P]&&Object.keys(L.channels_orig[b][P]).forEach(W=>{"missing"!=L.channels_orig[b][P][W].status&&delete L.channels_orig[b][P][W].status})}L.indexed.saveTextFileToUserPath(JSON.stringify(L.statusBar.groupServer),"servers/list.json")})()}get_all_online_server(){let b=[];return Object.keys(this.servers.official).forEach(L=>{"online"==this.statusBar.groupServer.official[L]&&b.push(this.servers.official[L])}),Object.keys(this.servers.unofficial).forEach(L=>{"online"==this.statusBar.groupServer.unofficial[L]&&b.push(this.servers.unofficial[L])}),b}get_all_server_info(b=!1,P=!1){let B=[],L=Object.keys(this.servers.official);return b&&L.forEach(W=>{P?("online"==this.statusBar.groupServer.official[W]||"pending"==this.statusBar.groupServer.official[W])&&B.push(this.servers.official[W].info):this.servers.official[W]&&B.push(this.servers.official[W].info)}),Object.keys(this.servers.unofficial).forEach(W=>{P?("online"==this.statusBar.groupServer.unofficial[W]||"pending"==this.statusBar.groupServer.unofficial[W])&&B.push(this.servers.unofficial[W].info):this.servers.unofficial[W]&&B.push(this.servers.unofficial[W].info)}),B}add_group_server(b,P=(()=>{})){var B=this;if(this.statusBar.groupServer.unofficial[b.target||b.name])return void this.p5toast.show({text:`${this.lang.text.Nakama.AlreadyHaveTargetName}: ${b.target||b.name}`});b.target=b.target||b.name,b.address=b.address||"192.168.0.1",b.port=b.port||7350,b.useSSL=b.useSSL||!1,b.isOfficial=b.isOfficial||"unofficial",b.key=b.key||"defaultkey",this.groups[b.isOfficial]||(this.groups[b.isOfficial]={}),this.groups[b.isOfficial][b.target]||(this.groups[b.isOfficial][b.target]={}),this.channels_orig[b.isOfficial]||(this.channels_orig[b.isOfficial]={}),this.channels_orig[b.isOfficial][b.target]||(this.channels_orig[b.isOfficial][b.target]={});let L=(new Date).getTime().toString();return L+=`,${b.isOfficial}`,L+=`,${b.name}`,L+=`,${b.target}`,L+=`,${b.address}`,L+=`,${b.port}`,L+=`,${b.useSSL}`,new Promise(function(){var se=(0,j.A)(function*(W){{let ye={urls:[`stun:${b.address}:3478`,`turn:${b.address}:3478`],username:"username",credential:"password"};yield B.SaveWebRTCServer(ye)}"official"!=b.isOfficial?B.indexed.loadTextFromUserPath("servers/list_detail.csv",function(){var ye=(0,j.A)(function*(Me,Xe){let ce=[];Me&&Xe&&(ce=Xe.split("\n")),ce.push(L),B.indexed.saveTextFileToUserPath(ce.join("\n"),"servers/list_detail.csv",ke=>{B.init_server(b),B.servers[b.isOfficial][b.target].info={...b},P()}),B.statusBar.groupServer[b.isOfficial][b.target]="offline",yield B.indexed.saveTextFileToUserPath(JSON.stringify(B.statusBar.groupServer),"servers/list.json"),W()});return function(Me,Xe){return ye.apply(this,arguments)}}()):(B.init_server(b),B.servers[b.isOfficial][b.target].info={...b},B.statusBar.groupServer[b.isOfficial][b.target]="offline",W())});return function(W){return se.apply(this,arguments)}}())}SaveWebRTCServer(b){var P=this;return(0,j.A)(function*(){let B=(yield P.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",L=JSON.parse(B),se=!1;for(let ye=0,Me=Object.keys(L).length;ye<Me;ye++)if(P.catch_address_from_rtc_server_address(b)==P.catch_address_from_rtc_server_address(L[ye])){se=!0;break}se||L.push(b),yield P.indexed.saveTextFileToUserPath(JSON.stringify(L),"servers/webrtc_server.json")})()}RemoveWebRTCServer(b){var P=this;return(0,j.A)(function*(){let B=(yield P.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",L=JSON.parse(B);for(let W=0,ye=Object.keys(L).length;W<ye;W++){let Me=P.catch_address_from_rtc_server_address(L[W]);b==Me&&L.splice(W,1)}yield P.indexed.saveTextFileToUserPath(JSON.stringify(L),"servers/webrtc_server.json")})()}catch_address_from_rtc_server_address(b){let P;try{let B=b.urls[0];(B.indexOf("stun:")>=0||B.indexOf("turn:")>=0)&&(B=B.substring(5));let L=B.lastIndexOf(":");P=B.substring(0,L)}catch(B){console.error("webrtc \uc11c\ubc84 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",B)}return P}catch_group_server_header(b){let P=b;this.statusBar.settings.groupServer=b,setTimeout(()=>{Object.keys(this.statusBar.groupServer.official).forEach(L=>{switch(this.statusBar.groupServer.official[L]){case"online":P="online";break;case"pending":"online"!=P&&(P="pending");break;case"missing":case"offline":"online"!=P&&"pending"!=P&&(P="offline")}}),"online"!=P&&Object.keys(this.statusBar.groupServer.unofficial).forEach(se=>{switch(this.statusBar.groupServer.unofficial[se]){case"online":P="online";break;case"pending":"online"!=P&&(P="pending");break;case"missing":case"offline":"online"!=P&&"pending"!=P&&(P="offline")}}),this.statusBar.settings.groupServer=P},1500)}init_session(b){var P=this;return(0,j.A)(function*(){P.TogglingSession=!0;try{P.servers[b.isOfficial][b.target].session=yield P.servers[b.isOfficial][b.target].client.authenticateEmail(P.users.self.email,P.users.self.password,!1),yield P.after_login(b.isOfficial,b.target,b.useSSL)}catch(B){switch(B.status){case 400:P.p5toast.show({text:P.lang.text.Nakama.NeedLoginInfo}),P.nav.navigateForward("portal/settings/group-server"),P.users.self.online=!1,delete P.users.self.password,P.set_group_statusBar("offline",b.isOfficial,b.target);break;case 401:P.p5toast.show({text:P.lang.text.Nakama.NeedAccountReset}),P.users.self.online=!1,delete P.users.self.password,P.set_group_statusBar("offline",b.isOfficial,b.target);break;case 404:if(P.servers[b.isOfficial][b.target].session=yield P.servers[b.isOfficial][b.target].client.authenticateEmail(P.users.self.email,P.users.self.password,!0),P.users.self.display_name&&P.servers[b.isOfficial][b.target].client.updateAccount(P.servers[b.isOfficial][b.target].session,{display_name:P.users.self.display_name,lang_tag:navigator.language.split("-")[0]||P.lang.lang}),P.p5toast.show({text:`${P.lang.text.Nakama.RegisterUserSucc}: ${b.name}`,lateable:!0}),P.users.self.img)try{let se=yield P.servers[b.isOfficial][b.target].client.writeStorageObjects(P.servers[b.isOfficial][b.target].session,[{collection:"user_public",key:"profile_image",permission_read:2,permission_write:1,value:{img:P.users.self.img}}]);P.servers[b.isOfficial][b.target].client.updateAccount(P.servers[b.isOfficial][b.target].session,{avatar_url:se.acks[0].version})}catch(se){console.error("\uc774\ubbf8\uc9c0 \ubc84\uc804 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",se)}(yield P.indexed.checkIfFileExist("servers/self/content.pck"))&&P.sync_save_file({path:"servers/self/content.pck"},b.isOfficial,b.target,"user_public","main_content"),yield P.after_login(b.isOfficial,b.target,b.useSSL);break;default:P.p5toast.show({text:`(${b.name}) ${P.lang.text.Nakama.UnexpectedLoginErr}: ${B}`}),P.set_group_statusBar("offline",b.isOfficial,b.target)}}P.TogglingSession=!1})()}after_login(b,P,B){var L=this;return(0,j.A)(function*(){L.set_group_statusBar("pending",b,P),L.servers[b][P].socket=L.servers[b][P].client.createSocket(B),L.servers[b][P].client.getAccount(L.servers[b][P].session).then(se=>{let W=JSON.parse(se.user.metadata);L.servers[b][P].info.is_admin=W.is_admin,Object.keys(se.user).forEach(Me=>{"display_name"==Me?L.users.self[Me]=se.user[Me]:L.users.self.display_name||(L.users.self[Me]=se.user[Me])}),L.save_self_profile()}),L.servers[b][P].client.readStorageObjects(L.servers[b][P].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:L.servers[b][P].session.user_id}]}).then(se=>{se.objects.length?L.socket_reactive.profile?(L.users.self.img=se.objects[0].value.img,L.socket_reactive.profile(se.objects[0].value.img)):(L.users.self.img=se.objects[0].value.img,L.indexed.saveTextFileToUserPath(JSON.stringify(L.users.self.img),"servers/self/profile.img")):L.socket_reactive.profile("")}),L.connect_to(b,P,se=>{L.servers[b][P].client.readStorageObjects(L.servers[b][P].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:L.servers[b][P].session.user_id}]}).then(function(){var ye=(0,j.A)(function*(Me){try{L.self_match[b]||(L.self_match[b]={}),L.self_match[b][P]||(L.self_match[b][P]=void 0),L.self_match[b][P]=yield se.joinMatch(Me.objects[0].value.match_id)}catch{let ce=yield se.createMatch();L.self_match[b][P]=ce,L.servers[b][P].client.writeStorageObjects(L.servers[b][P].session,[{collection:"self_share",key:"private_match",permission_read:2,permission_write:1,value:{match_id:ce.match_id}}])}for(let Xe=0,ce=L.AfterLoginAct.length;Xe<ce;Xe++)try{yield L.AfterLoginAct[Xe]()}catch(ke){console.error("\uc9c4\uc785 \ub3d9\uc791 \uc624\ub958: ",ke)}L.AfterLoginAct.length=0,L.AfterLoginActDone=!0});return function(Me){return ye.apply(this,arguments)}}());let W=Object.keys(L.users[b][P]||{});L.servers[b][P].client.getUsers(L.servers[b][P].session,W).then(ye=>{for(let Me=0,Xe=ye.users.length;Me<Xe;Me++)L.save_other_user(ye.users[Me],b,P);L.redirect_channel(b,P),L.get_group_list_from_server(b,P)})}),yield L.SyncTodoCounter(b,P),L.load_server_todo(b,P),L.RemoteTodoSelfCheck(b,P),L.load_posts_counter(),L.noti_origin[b]||(L.noti_origin[b]={}),L.noti_origin[b][P]||(L.noti_origin[b][P]={}),L.update_notifications(b,P),L.rearrange_channels(),L.rearrange_group_list(),L.set_group_statusBar("online",b,P)})()}load_server_todo(b,P){var B=this;try{let L=this.RemoteTodoCounter[b][P];this.RemoteTodoCounter[b]||(this.RemoteTodoCounter[b]={});for(let se=L.length-1;se>=0;se--){let W=`RemoteTodo_${L[se]}`;this.servers[b][P].client.readStorageObjects(this.servers[b][P].session,{object_ids:[{collection:"server_todo",key:W,user_id:this.servers[b][P].session.user_id}]}).then(function(){var ye=(0,j.A)(function*(Me){if(Me.objects.length)yield B.modify_remote_info_as_local(Me.objects[0].value,b,P);else try{let Xe;B.RemoteTodoCounter[b][P].splice(se,1);try{Xe=`todo/${W}_${b}_${P}/info.todo`}catch{Xe=`todo/${W}/info.todo`}let ce=yield B.indexed.loadTextFromUserPath(Xe),ke=JSON.parse(ce);B.deleteTodoFromStorage(!0,ke,!0)}catch{}});return function(Me){return ye.apply(this,arguments)}}()).catch(ye=>{console.log("\uc11c\ubc84 \ud574\uc57c\ud560 \uc77c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",ye)})}}catch{}}RemoteTodoSelfCheck(b,P){var B=this;this.indexed.GetFileListFromDB("todo/RemoteTodo_").then(function(){var L=(0,j.A)(function*(se){for(let W=0,ye=se.length;W<ye;W++)try{if(se[W].indexOf("info.todo")>=0){let Me=yield B.indexed.loadTextFromUserPath(se[W]),Xe=JSON.parse(Me);Xe.remote.isOfficial==b&&Xe.remote.target==P&&((yield B.servers[b][P].client.readStorageObjects(B.servers[b][P].session,{object_ids:[{collection:"server_todo",key:Xe.id,user_id:B.servers[b][P].session.user_id}]})).objects.length||((yield B.indexed.GetFileListFromDB(`todo/${Xe.id}_${b}_${P}`)).forEach(lt=>B.indexed.removeFileFromUserPath(lt)),Xe.noti_id&&("DesktopPWA"==ot.aH||"MobilePWA"==ot.aH)&&(clearTimeout(B.web_noti_id[Xe.noti_id]),delete B.web_noti_id[Xe.noti_id]),B.noti.ClearNoti(Xe.id),B.global.p5todo&&B.global.p5todo.remove_todo&&B.global.p5todo.remove_todo(Me)))}}catch{}});return function(se){return L.apply(this,arguments)}}())}getRemoteTodoCounter(b,P){var B=this;return(0,j.A)(function*(){try{B.RemoteTodoCounter[b][P].sort((W,ye)=>W-ye);let L=B.RemoteTodoCounter[b][P].length;if(!L)throw"\uc815\ud574\uc9c4 \uac12\uc774 \uc5c6\uc5b4?";let se=B.RemoteTodoCounter[b][P][L-1]+1;return B.RemoteTodoCounter[b][P].push(se),se}catch{let se=yield B.SyncTodoCounter(b,P),W=0;return se&&se.objects.length&&se.objects[0].value.data.length?W=se.objects[0].value.data.pop()+1:(B.RemoteTodoCounter[b]||(B.RemoteTodoCounter[b]={}),B.RemoteTodoCounter[b][P]=[0]),W}})()}SyncTodoCounter(b,P){var B=this;return(0,j.A)(function*(){try{let L=yield B.servers[b][P].client.readStorageObjects(B.servers[b][P].session,{object_ids:[{collection:"server_todo",key:"RemoteTodo_Counter",user_id:B.servers[b][P].session.user_id}]});return B.RemoteTodoCounter[b]||(B.RemoteTodoCounter[b]={}),B.RemoteTodoCounter[b][P]=L.objects[0].value.data,L}catch{}})()}removeRemoteTodoCounter(b,P,B){var L=this;return(0,j.A)(function*(){try{let se=L.RemoteTodoCounter[b][P].indexOf(B);se>=0&&L.RemoteTodoCounter[b][P].splice(se,1)}catch{L.RemoteTodoCounter[b]||(L.RemoteTodoCounter[b]={}),L.RemoteTodoCounter[b][P]||(L.RemoteTodoCounter[b][P]=[])}yield L.updateRemoteCounter(b,P)})()}updateRemoteCounter(b,P){var B=this;return(0,j.A)(function*(){if(B.RemoteTodoCounter[b][P].length){for(let L=B.RemoteTodoCounter[b][P].length-1;L>=0;L--)(void 0===B.RemoteTodoCounter[b][P][L]||null==B.RemoteTodoCounter[b][P][L])&&B.RemoteTodoCounter[b][P].splice(L,1);B.RemoteTodoCounter[b][P].sort((L,se)=>L-se);for(let L=B.RemoteTodoCounter[b][P].length-2;L>=0;L--)B.RemoteTodoCounter[b][P][L+1]==B.RemoteTodoCounter[b][P][L]&&B.RemoteTodoCounter[b][P].splice(L,1)}yield B.servers[b][P].client.writeStorageObjects(B.servers[b][P].session,[{collection:"server_todo",key:"RemoteTodo_Counter",permission_read:2,permission_write:1,value:{data:B.RemoteTodoCounter[b][P]}}])})()}modify_remote_info_as_local(b,P,B){var L=this;return(0,j.A)(function*(){b.remote.name=L.servers[P][B].info.name,b.remote.isOfficial=P,b.remote.target=B,b.remote.type=`${P}/${B}`,L.set_todo_notification(b);try{b.is_me=b.remote.creator_id==L.servers[P][B].session.user_id}catch{}L.global.p5todo&&L.global.p5todo.add_todo&&L.global.p5todo.add_todo(JSON.stringify(b));let se=yield L.indexed.loadTextFromUserPath(`todo/${b.id}_${P}_${B}/info.todo`);if(se){let W=JSON.parse(se);if(b.create_at<=W.create_at&&W.modified){if(W.done)return void L.doneTodo(b,!0);if(W.removed)return void L.deleteTodoFromStorage(!0,W,!0);delete W.modified,yield L.indexed.saveTextFileToUserPath(JSON.stringify(W),`todo/${W.id}_${P}_${B}/info.todo`),yield L.servers[W.remote.isOfficial][W.remote.target].client.writeStorageObjects(L.servers[W.remote.isOfficial][W.remote.target].session,[{collection:"server_todo",key:W.id,permission_read:2,permission_write:1,value:W}]).then(function(){var ye=(0,j.A)(function*(Me){yield L.servers[W.remote.isOfficial][W.remote.target].socket.sendMatchState(L.self_match[W.remote.isOfficial][W.remote.target].match_id,jn.MANAGE_TODO,encodeURIComponent(`add,${Me.acks[0].collection},${Me.acks[0].key}`))});return function(Me){return ye.apply(this,arguments)}}())}else L.indexed.saveTextFileToUserPath(JSON.stringify(b),`todo/${b.id}_${P}_${B}/info.todo`)}else L.indexed.saveTextFileToUserPath(JSON.stringify(b),`todo/${b.id}_${P}_${B}/info.todo`)})()}doneTodo(b,P=!1){var B=this;return(0,j.A)(function*(){if(b.done=!0,B.global.p5todo&&B.global.p5todo.add_todo&&B.global.p5todo.add_todo(JSON.stringify(b)),b.remote){let L;P||(L=yield B.loadingCtrl.create({message:B.lang.text.TodoDetail.WIP}),L.present());try{B.servers[b.remote.isOfficial][b.remote.target]&&B.self_match[b.remote.isOfficial][b.remote.target]&&(yield B.servers[b.remote.isOfficial][b.remote.target].socket.sendMatchState(B.self_match[b.remote.isOfficial][b.remote.target].match_id,jn.MANAGE_TODO,encodeURIComponent(`done,${b.id}`))),P||L.dismiss()}catch{let W;b.modified=!0;try{W=`todo/${b.id}_${b.remote.isOfficial}_${b.remote.target}/info.todo`}catch{W=`todo/${b.id}/info.todo`}return yield B.indexed.saveTextFileToUserPath(JSON.stringify(b),W),P||L.dismiss(),void B.navCtrl.pop()}}yield B.deleteTodoFromStorage(!1,b,P),B.navCtrl.pop()})()}deleteTodoFromStorage(b,P,B=!1){var L=this;return(0,j.A)(function*(){let se,W;if(B||(se=yield L.loadingCtrl.create({message:L.lang.text.TodoDetail.WIP}),se.present()),P.attach&&P.attach.length)for(let Me=0,Xe=P.attach.length;Me<Xe;Me++)P.attach[Me].url&&(yield L.global.remove_file_from_storage(P.attach[Me].url));if(P.remote)try{if(!L.servers[P.remote.isOfficial][P.remote.target])throw"Server deleted.";try{let Me=P.remote.isOfficial,Xe=P.remote.target;if(yield L.servers[Me][Xe].client.deleteStorageObjects(L.servers[Me][Xe].session,{object_ids:[{collection:"server_todo",key:P.id}]}),P.attach)for(let ce=0,ke=P.attach.length;ce<ke;ce++)P.attach[ce].url?yield L.global.remove_file_from_storage(P.attach[ce].url):yield L.sync_remove_file(P.attach[ce].path,Me,Xe,"todo_attach");b&&(yield L.servers[Me][Xe].socket.sendMatchState(L.self_match[Me][Xe].match_id,jn.MANAGE_TODO,encodeURIComponent(`delete,${P.id}`)))}catch(Me){console.error("\ud574\uc57c\ud560 \uc77c \uc0ad\uc81c \uc694\uccad\uc774 \uc11c\ubc84\uc5d0 \uc804\uc1a1\ub418\uc9c0 \uc54a\uc74c: ",Me)}try{if(P.remote.creator_id!=L.servers[P.remote.isOfficial][P.remote.target].session.user_id){let Me=(new Date).getTime();try{yield L.servers[P.remote.isOfficial][P.remote.target].client.rpc(L.servers[P.remote.isOfficial][P.remote.target].session,"manage_todo_done_fn",{id:P.id,creator_id:P.remote.creator_id,user_id:L.servers[P.remote.isOfficial][P.remote.target].session.user_id,timestamp:Me,isDelete:b})}catch{}try{let Xe=yield L.servers[P.remote.isOfficial][P.remote.target].client.readStorageObjects(L.servers[P.remote.isOfficial][P.remote.target].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:P.remote.creator_id}]});Xe.objects.length&&(yield L.servers[P.remote.isOfficial][P.remote.target].socket.joinMatch(Xe.objects[0].value.match_id),yield L.servers[P.remote.isOfficial][P.remote.target].socket.sendMatchState(Xe.objects[0].value.match_id,jn.MANAGE_TODO,encodeURIComponent(`worker,${P.id},${L.servers[P.remote.isOfficial][P.remote.target].session.user_id},${b},${Me}`)),yield L.servers[P.remote.isOfficial][P.remote.target].socket.leaveMatch(Xe.objects[0].value.match_id))}catch{}}}catch{}if(P.workers){try{yield L.servers[P.remote.isOfficial][P.remote.target].client.rpc(L.servers[P.remote.isOfficial][P.remote.target].session,"manage_todo_delete_fn",{id:P.id,workers:P.workers})}catch{}for(let Me=0,Xe=P.workers.length;Me<Xe;Me++)try{let ce=yield L.servers[P.remote.isOfficial][P.remote.target].client.readStorageObjects(L.servers[P.remote.isOfficial][P.remote.target].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:P.workers[Me].id}]});ce.objects.length&&(yield L.servers[P.remote.isOfficial][P.remote.target].socket.joinMatch(ce.objects[0].value.match_id),yield L.servers[P.remote.isOfficial][P.remote.target].socket.sendMatchState(ce.objects[0].value.match_id,jn.MANAGE_TODO,encodeURIComponent(b?`delete,${P.id}`:`done,${P.id}`)),yield L.servers[P.remote.isOfficial][P.remote.target].socket.leaveMatch(ce.objects[0].value.match_id))}catch{}}yield L.removeRemoteTodoCounter(P.remote.isOfficial,P.remote.target,Number(P.id.split("_").pop()))}catch{let Xe;P.modified=!0,P.removed=!0;try{Xe=`todo/${P.id}_${P.remote.isOfficial}_${P.remote.target}/info.todo`}catch{Xe=`todo/${P.id}/info.todo`}return yield L.indexed.saveTextFileToUserPath(JSON.stringify(P),Xe),L.removeRegisteredId(P.noti_id),L.noti.ClearNoti(P.noti_id),b&&L.global.p5todo&&L.global.p5todo.remove_todo(JSON.stringify(P)),void(B||se.dismiss())}try{W=`todo/${P.id}_${P.remote.isOfficial}_${P.remote.target}`}catch{W=`todo/${P.id}`}(yield L.indexed.GetFileListFromDB(W)).forEach(Me=>L.indexed.removeFileFromUserPath(Me)),P.noti_id&&("Android"==ot.aH||"iOS"==ot.aH||(clearTimeout(L.web_noti_id[P.noti_id]),delete L.web_noti_id[P.noti_id])),L.removeRegisteredId(P.noti_id),L.noti.ClearNoti(P.noti_id),b&&L.global.p5todo&&L.global.p5todo.remove_todo(JSON.stringify(P)),B||se.dismiss()})()}load_groups(b,P,B){var L=this;return(0,j.A)(function*(){let se=L.groups[b][P][B].channel_id;try{if("missing"!=L.groups[b][P][B].status){let W=yield L.servers[b][P].client.listGroupUsers(L.servers[b][P].session,B);if(W.group_users.length){let ye=!0;for(let Me=0,Xe=W.group_users.length;Me<Xe;Me++)if(W.group_users[Me].user.id==L.servers[b][P].session.user_id){switch(W.group_users[Me].state){case 0:case 1:case 2:L.groups[b][P][B].status="online";break;case 3:L.groups[b][P][B].status="pending";break;default:console.log("\uc774\ud574\ud560 \uc218 \uc5c6\ub294 \ucf54\ub4dc \ubc18\ud658: ",W.group_users[Me].state),L.groups[b][P][B].status="missing"}ye=!1,W.group_users[Me].is_me=!0;break}ye&&(L.groups[b][P][B].status="missing",se&&(L.channels_orig[b][P][se].status="missing"),L.save_channels_with_less_info())}else L.groups[b][P][B].status="missing",L.channels_orig[b][P][se].status="missing",L.save_channels_with_less_info();W.group_users.length&&(L.groups[b][P][B].users=W.group_users);for(let ye=0,Me=W.group_users.length;ye<Me;ye++)if(W.group_users[ye].is_me)W.group_users[ye].user=L.users.self;else try{let Xe=yield L.servers[b][P].client.readStorageObjects(L.servers[b][P].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:W.group_users[ye].user.id}]});Xe.objects.length?W.group_users[ye].user.img=Xe.objects[0].value.img:delete W.group_users[ye].user.img,L.save_other_user(W.group_users[ye].user,b,P)}catch(Xe){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \uc774\ubbf8\uc9c0 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",Xe),L.save_other_user(W.group_users[ye].user,b,P)}L.save_groups_with_less_info()}}catch(W){console.log("load_groups_error: ",W)}})()}save_self_profile(){let b={...this.users.self};delete b.img,this.indexed.saveTextFileToUserPath(JSON.stringify(b),"servers/self/profile.json")}rearrange_all_user(){let b=[];return Object.keys(this.users).forEach(B=>{"self"!=B&&Object.keys(this.users[B]).forEach(se=>{Object.keys(this.users[B][se]).forEach(ye=>{b.push(this.users[B][se][ye])})})}),b}load_other_user(b,P,B,L=(se=>{})){try{if(this.servers[P][B].session.user_id==b)return this.users.self}catch{}let se=!1;return this.users[P][B]||(this.users[P][B]={}),this.users[P][B][b]||(this.users[P][B][b]={},this.indexed.loadTextFromUserPath(`servers/${P}/${B}/users/${b}/profile.json`,(W,ye)=>{if(W&&ye){let Me=JSON.parse(ye);Object.keys(Me).forEach(ce=>this.users[P][B][b][ce]=Me[ce]),se||(L(this.users[P][B][b]),se=!0)}else try{this.servers[P][B].client.getUsers(this.servers[P][B].session,[b]).then(Me=>{Me.users.length?(Object.keys(Me.users[0]).forEach(ce=>this.users[P][B][b][ce]=Me.users[0][ce]),se||(L(this.users[P][B][b]),se=!0),this.users[P][B][b].img||(this.users[P][B][b].img=null),this.save_other_user(this.users[P][B][b],P,B)):(this.indexed.removeFileFromUserPath(`${P}/${B}/users/${b}`),this.indexed.removeFileFromUserPath(`${P}/${B}/users/${b}/profile.json`),this.indexed.removeFileFromUserPath(`${P}/${B}/users/${b}/profile.img`))})}catch{}}),this.users[P][B][b].img?this.save_other_user(this.users[P][B][b],P,B):this.indexed.loadTextFromUserPath(`servers/${P}/${B}/users/${b}/profile.img`,(W,ye)=>{if(W&&ye)this.users[P][B][b].img=ye.replace(/"|=|\\/g,"");else if(this.users[P][B][b].avatar_url)try{"online"==this.statusBar.groupServer[P][B]&&this.servers[P][B].client.readStorageObjects(this.servers[P][B].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:b}]}).then(Me=>{Me.objects.length?this.users[P][B][b].img=Me.objects[0].value.img:delete this.users[P][B][b].avatar_url,se||(L(this.users[P][B][b]),se=!0),this.save_other_user(this.users[P][B][b],P,B)}).catch(Me=>{this.users[P][B][b].img&&(delete this.users[P][B][b].img,se||(L(this.users[P][B][b]),se=!0),this.save_other_user(this.users[P][B][b],P,B))})}catch{}})),this.users[P][B][b]}save_other_user(b,P,B){if(this.servers[P][B].session.user_id==b.id)return;let L=JSON.parse(JSON.stringify(b));b.id!=this.servers[P][B].session.user_id&&(delete L.img,delete L.online,delete L.todo_checked,delete L.todo_done,this.users[P][B]||(this.users[P][B]={}),this.users[P][B][b.id]||(this.users[P][B][b.id]={}),Object.keys(b).forEach(W=>this.users[P][B][b.id][W]=b[W]),this.indexed.saveTextFileToUserPath(JSON.stringify(L),`servers/${P}/${B}/users/${L.id}/profile.json`),b.img?this.indexed.saveTextFileToUserPath(b.img,`servers/${P}/${B}/users/${b.id}/profile.img`):void 0===b.img&&this.indexed.removeFileFromUserPath(`servers/${P}/${B}/users/${b.id}/profile.img`))}update_notifications(b,P){var B=this;return(0,j.A)(function*(){let L=yield B.servers[b][P].client.listNotifications(B.servers[b][P].session,1);B.noti_origin[b][P]={};for(let se=0,W=L.notifications.length;se<W;se++)B.act_on_notification(L.notifications[se],b,P);B.rearrange_notifications()})()}rearrange_notifications(){let b=[];return Object.keys(this.noti_origin).forEach(B=>{Object.keys(this.noti_origin[B]).forEach(se=>{Object.keys(this.noti_origin[B][se]).forEach(ye=>{b.push(this.noti_origin[B][se][ye])})})}),b.sort((B,L)=>B.create_time<L.create_time?1:B.create_time>L.create_time?-1:0),this.notifications_rearrange=b,b}add_channels(b,P,B){var L=this;return(0,j.A)(function*(){if(!L.channels_orig[P][B][b.id]){switch(L.channels_orig[P][B][b.id]={},Object.keys(b).forEach(W=>L.channels_orig[P][B][b.id][W]=b[W]),L.channels_orig[P][B][b.id].cnoti_id||(L.channels_orig[P][B][b.id].cnoti_id=L.get_noti_id()),L.channels_orig[P][B][b.id].redirect.type){case 2:let W=L.channels_orig[P][B][b.id].redirect.id;L.channels_orig[P][B][b.id].color=(W.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6);let ye=L.load_other_user(W,P,B).online?"online":"pending";L.channels_orig[P][B][b.id].status=ye;break;case 3:try{let Me=L.channels_orig[P][B][b.id].redirect.id;L.channels_orig[P][B][b.id].color=(Me.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6);let Xe=yield L.servers[P][B].client.listGroupUsers(L.servers[P][B].session,Me);L.groups[P][B][Me].users||(L.groups[P][B][Me].users=[]),Xe.group_users.forEach(ce=>{ce.user.id!=L.servers[P][B].session.user_id&&(L.users[P][B][ce.user.id]||L.save_other_user(ce.user,P,B)),ce.user.id==L.servers[P][B].session.user_id?ce.user.is_me=!0:L.users[P][B][ce.user.id]||L.save_other_user(ce.user,P,B),ce.user=L.load_other_user(ce.user.id,P,B),L.add_group_user_without_duplicate(ce,Me,P,B)})}catch(Me){console.error("\uadf8\ub8f9 \ucc44\ub110 \uc0dd\uc131 \uc624\ub958: ",Me)}L.count_channel_online_member(L.channels_orig[P][B][b.id],P,B);break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc885\ub958: ",L.channels_orig[P][B][b.id])}L.rearrange_channels();try{L.servers[P][B].socket.sendMatchState(L.self_match[P][B].match_id,jn.ADD_CHANNEL,encodeURIComponent(""))}catch{}}})()}add_group_user_without_duplicate(b,P,B,L){let se=!1;this.groups[B][L][P].users||(this.groups[B][L][P].users=[]);for(let W=0,ye=this.groups[B][L][P].users.length;W<ye;W++)if(this.groups[B][L][P].users[W].user.id==b.user.id){se=!0;break}se||this.groups[B][L][P].users.push(b)}load_channel_list(){var b=this;return(0,j.A)(function*(){let P=yield b.indexed.loadTextFromUserPath("servers/channels.json");P&&(b.channels_orig=JSON.parse(P),Object.keys(b.channels_orig).forEach(L=>{Object.keys(b.channels_orig[L]).forEach(W=>{Object.keys(b.channels_orig[L][W]).forEach(Me=>{2==b.channels_orig[L][W][Me].redirect.type&&(b.channels_orig[L][W][Me].info=b.load_other_user(b.channels_orig[L][W][Me].redirect.id,L,W)),"missing"!=b.channels_orig[L][W][Me].status&&delete b.channels_orig[L][W][Me].status,0==b.channels_orig[L][W][Me].redirect.type&&(b.channels_orig[L][W][Me].status="online"),b.channels_orig[L][W][Me].is_new&&!b.subscribe_lock&&(b.has_new_channel_msg=!0)})})})),b.rearrange_channels()})()}get_noti_id(){return this.noti_id=this.check_If_RegisteredId(this.noti_id+1),this.registered_id.push(this.noti_id),this.noti_id}check_If_RegisteredId(b){let P=!1;for(let B=0,L=this.registered_id.length;B<L;B++)if(this.registered_id[B]==b){P=!0;break}return P?this.check_If_RegisteredId(b+1):b}removeRegisteredId(b){for(let P=0,B=this.registered_id.length;P<B;P++)if(this.registered_id[P]==b){this.registered_id.splice(P,1);break}}redirect_channel(b,P){if(this.channels_orig[b][P]){let B=Object.keys(this.channels_orig[b][P]);for(let L=0,se=B.length;L<se;L++)"missing"!=this.channels_orig[b][P][B[L]].status&&this.servers[b][P].socket.joinChat(this.channels_orig[b][P][B[L]].redirect.id,this.channels_orig[b][P][B[L]].redirect.type,this.channels_orig[b][P][B[L]].redirect.persistence,!1).then(W=>{switch(this.channels_orig[b][P][B[L]].cnoti_id||(this.channels_orig[b][P][B[L]].cnoti_id=this.get_noti_id()),this.channels_orig[b][P][B[L]].color=(this.channels_orig[b][P][B[L]].info.id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),this.channels_orig[b][P][B[L]].redirect.type){case 2:this.servers[b][P].client.readStorageObjects(this.servers[b][P].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:this.channels_orig[b][P][B[L]].redirect.id}]}).then(ye=>{let Me=this.load_other_user(this.channels_orig[b][P][B[L]].redirect.id,b,P);Me.img=ye.objects.length?ye.objects[0].value.img:void 0,this.save_other_user(Me,b,P)});case 3:this.channels_orig[b][P][B[L]].update||this.servers[b][P].client.listChannelMessages(this.servers[b][P].session,B[L],1,!1).then(ye=>{ye.messages.length&&this.update_from_channel_msg(ye.messages[0],b,P)}),this.count_channel_online_member(this.channels_orig[b][P][B[L]],b,P);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub9ac\ub2e4\uc774\ub809\uc158 \ud0c0\uc785: ",this.channels_orig[b][P][B[L]].redirect.type)}}).catch(W=>{this.channels_orig[b][P][B[L]].status="missing"});this.rearrange_channels()}}rearrange_channels(){let b=[];return Object.keys(this.channels_orig).forEach(B=>{Object.keys(this.channels_orig[B]).forEach(se=>{Object.keys(this.channels_orig[B][se]).forEach(ye=>{this.channels_orig[B][se][ye].server={isOfficial:B,target:se};try{this.channels_orig[B][se][ye].server.name=this.servers[B][se].info.name}catch{this.channels_orig[B][se][ye].server.name=this.lang.text.Nakama.DeletedServer}try{switch(this.channels_orig[B][se][ye].redirect.type){case 1:break;case 2:this.channels_orig[B][se][ye].info=this.load_other_user(this.channels_orig[B][se][ye].redirect.id,B,se),this.channels_orig[B][se][ye].title=this.channels_orig[B][se][ye].info.display_name;break;case 3:"missing"!=this.channels_orig[B][se][ye].status&&(this.groups[B][se]&&this.groups[B][se][this.channels_orig[B][se][ye].redirect.id]?(this.channels_orig[B][se][ye].info=this.groups[B][se][this.channels_orig[B][se][ye].redirect.id],this.channels_orig[B][se][ye].title=this.groups[B][se][this.channels_orig[B][se][ye].redirect.id].name,"missing"==this.groups[B][se][this.channels_orig[B][se][ye].redirect.id].status&&(this.channels_orig[B][se][ye].status=this.groups[B][se][this.channels_orig[B][se][ye].redirect.id].status)):this.channels_orig[B][se][ye].status="missing");break;case 0:this.channels_orig[B][se][ye].info||(this.channels_orig[B][se][ye].info={}),this.channels_orig[B][se][ye].info.name=this.channels_orig[B][se][ye].title,this.channels_orig[B][se][ye].info.img||this.indexed.loadTextFromUserPath(`servers/${B}/${se}/groups/${ye}.img`,(Me,Xe)=>{Me&&Xe&&(this.channels_orig[B][se][ye].info.img=Xe)});break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \uc54a\uc740 \ub300\ud654\ud615\uc2dd: ",this.channels_orig[B][se][ye])}}catch{}this.channels_orig[B][se][ye].last_comment_time||(this.channels_orig[B][se][ye].last_comment_time=Date.now()),b.push(this.channels_orig[B][se][ye])})})}),b.sort((B,L)=>{let se=new Date(B.last_comment_time||0).getTime(),W=new Date(L.last_comment_time||0).getTime();return se<W?1:se>W?-1:0}),b.sort((B,L)=>B.is_new?L.is_new?0:-1:L.is_new?1:0),this.channels=b,this.save_channels_with_less_info(),b}save_channels_with_less_info(){let b=JSON.parse(JSON.stringify(this.channels_orig));Object.keys(b).forEach(B=>{Object.keys(b[B]).forEach(se=>{let W=Object.keys(b[B][se]);W.forEach(ye=>{delete b[B][se][ye].img,delete b[B][se][ye].group,delete b[B][se][ye].info,delete b[B][se][ye].update,delete b[B][se][ye].presences,delete b[B][se][ye].cnoti_id,delete b[B][se][ye].status,delete b[B][se][ye].color,b[B][se][ye].is_new||delete b[B][se][ye].is_new}),W.length||delete b[B][se]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(b),"servers/channels.json")}limit_image_size(b,P=(B=>{})){new Ct(L=>{L.setup=()=>{L.noCanvas(),L.loadImage(b,W=>{W.resize(window.innerWidth,window.innerWidth*W.height/W.width),W.canvas.toDataURL().length>245e3&&se(W),P(W),L.remove()},W=>{this.p5toast.show({text:this.lang.text.Nakama.CannotOpenImg}),L.remove()})};let se=W=>{W.resize(.95*W.width,.95*W.height),W.canvas.toDataURL().length>245e3&&se(W)}})}try_add_group(b){var P=this;return new Promise(function(){var B=(0,j.A)(function*(L,se){let W=P.get_all_online_server();for(let ye=0,Me=W.length;ye<Me;ye++)try{let Xe=yield W[ye].client.joinGroup(W[ye].session,b.id);if(!Xe)return void console.log("\uadf8\ub8f9 join \uc2e4\ud328... \ubca4 \ub2f9\ud588\uc744 \ub54c\uc778\ub4ef? \ud5a5\ud6c4\uc5d0 \uac80\ud1a0 \ud544");Xe=yield W[ye].client.listGroups(W[ye].session,decodeURIComponent(b.name));for(let ce=0,ke=Xe.groups.length;ce<ke;ce++)if(Xe.groups[ce].id==b.id){let lt=Xe.groups[ce];lt.status=lt.open?"online":"pending",lt.server=P.servers[W[ye].info.isOfficial][W[ye].info.target].info;try{let Be=yield P.servers[W[ye].info.isOfficial][W[ye].info.target].client.listGroupUsers(P.servers[W[ye].info.isOfficial][W[ye].info.target].session,Xe.groups[ce].id);lt.users=Be.group_users,Be.group_users.forEach(ht=>{ht.user.id==P.servers[W[ye].info.isOfficial][W[ye].info.target].session.user_id?ht.is_me=!0:P.save_other_user(ht.user,W[ye].info.isOfficial,W[ye].info.target)})}catch(Be){console.error("\uadf8\ub8f9 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",Be)}try{let Be=yield P.servers[W[ye].info.isOfficial][W[ye].info.target].client.readStorageObjects(P.servers[W[ye].info.isOfficial][W[ye].info.target].session,{object_ids:[{collection:"group_public",key:`group_${Xe.groups[ce].id}`,user_id:Xe.groups[ce].creator_id}]});Be.objects.length?lt.img=Be.objects[0].value.img:delete lt.img}catch(Be){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \ud655\uc778 \uc624\ub958: ",Be)}if(P.save_group_info(lt,W[ye].info.isOfficial,W[ye].info.target),yield W[ye].socket.sendMatchState(P.self_match[W[ye].info.isOfficial][W[ye].info.target].match_id,jn.ADD_CHANNEL,encodeURIComponent("")),lt.open){let Be=yield P.join_chat_with_modulation(lt.id,3,W[ye].info.isOfficial,W[ye].info.target);if(!P.opened_page_info.channel||P.opened_page_info.channel.isOfficial!=W[ye].info.isOfficial||P.opened_page_info.channel.target!=W[ye].info.target||P.opened_page_info.channel.id!=Be.id)try{let ht=yield P.servers[W[ye].info.isOfficial][W[ye].info.target].client.listChannelMessages(P.servers[W[ye].info.isOfficial][W[ye].info.target].session,Be.id,1,!1);ht.messages.length&&P.update_from_channel_msg(ht.messages[0],W[ye].info.isOfficial,W[ye].info.target),P.save_group_info(lt,W[ye].info.isOfficial,W[ye].info.target),P.go_to_chatroom_without_admob_act(Be)}catch(ht){console.error("\ucc44\ub110 \uc815\ubcf4 \ucd94\uac00 \uc624\ub958: ",ht)}}L();break}}catch(Xe){switch(Xe.status){case 400:console.log("\uc774\ubbf8 \uadf8\ub8f9\uc5d0 \uac00\uc785\ub418\uc5b4 \uc788\uc74c: 400");let ce=yield P.join_chat_with_modulation(b.id,3,W[ye].info.isOfficial,W[ye].info.target);try{let ke=yield P.servers[W[ye].info.isOfficial][W[ye].info.target].client.listChannelMessages(P.servers[W[ye].info.isOfficial][W[ye].info.target].session,ce.id,1,!1);ke.messages.length&&P.update_from_channel_msg(ke.messages[0],W[ye].info.isOfficial,W[ye].info.target),P.go_to_chatroom_without_admob_act(ce)}catch(ke){console.error("\ucc44\ub110 \uc815\ubcf4 \ucd94\uac00 \uc624\ub958: ",ke)}L();break;case 404:console.log("\uc774 \uc11c\ubc84\uc5d0 \uc5c6\ub294 \uadf8\ub8f9: 404");break;default:console.error("\uadf8\ub8f9 \ucd94\uac00 \uc624\ub958: ",Xe)}}se(P.lang.text.Nakama.GroupAllListDone)});return function(L,se){return B.apply(this,arguments)}}())}save_group_info(b,P,B){this.groups[P][B]||(this.groups[P][B]={}),this.groups[P][B][b.id]=b,this.save_groups_with_less_info(),this.indexed.saveTextFileToUserPath(b.img,`servers/${P}/${B}/groups/${b.id}.img`),b.owner==this.servers[P][B].session.user_id&&b.img&&this.servers[P][B].client.writeStorageObjects(this.servers[P][B].session,[{collection:"group_public",key:`group_${b.id}`,value:{img:b.img},permission_read:2,permission_write:1}])}save_groups_with_less_info(b=(()=>{})){let P=JSON.parse(JSON.stringify(this.groups));Object.keys(P).forEach(L=>{Object.keys(P[L]).forEach(W=>{let ye=Object.keys(P[L][W]);ye.forEach(Me=>{if(delete P[L][W][Me].server,delete P[L][W][Me].img,P[L][W][Me].users)for(let Xe=0,ce=P[L][W][Me].users.length;Xe<ce;Xe++)if(P[L][W][Me].users[Xe]){delete P[L][W][Me].users[Xe].state;try{P[L][W][Me].users[Xe].user.id?(P[L][W][Me].users[Xe].user={id:P[L][W][Me].users[Xe].user.id},this.servers[L][W]&&this.servers[L][W].session&&P[L][W][Me].users[Xe].user.id==this.servers[L][W].session.user_id&&(P[L][W][Me].users[Xe].is_me=!0)):P[L][W][Me].users[Xe].is_me||P[L][W][Me].users.splice(Xe,1)}catch{}}}),ye.length||delete P[L][W]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(P),"servers/groups.json",()=>{b()})}remove_group_list(b,P,B,L=!1){var se=this;return(0,j.A)(function*(){try{let W=b.creator_id==se.servers[P][B].session.user_id;if(!se.servers[P][B]||!W)throw"not a group creator";try{let Me=`${b.server.useSSL?"https":"http"}://${b.server.address}`;yield se.global.remove_files_from_storage_with_key(Me,b.id)}catch{}(yield se.servers[P][B].client.deleteGroup(se.servers[P][B].session,b.id))||console.log("\uadf8\ub8f9 \uc0ad\uc81c \uc624\ub958 \uac80\ud1a0 \ud544\uc694"),se.remove_channel_files(P,B,b.channel_id,W);try{throw yield se.servers[P][B].client.deleteStorageObjects(se.servers[P][B].session,{object_ids:[{collection:"group_public",key:`group_${b.id}`}]}),"Remove group image well"}catch{throw"No group image found"}}catch{try{delete se.groups[P][B][b.id],se.save_groups_with_less_info()}catch{}try{let ye=localStorage.getItem("fallback_fs");if(!ye)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let Me=ye.split("://"),Xe=Me.pop().split(":"),ce=Me.pop();ce?ce+=":":ce=Xe[0].replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")?"https:":"http:";let ke=`${ce}//${Xe[0]}:${Xe[1]||9002}/`;yield se.global.remove_files_from_storage_with_key(ke,`${b.id}_${se.servers[P][B].session.user_id}`)}catch{}try{let ye=`${b.server.useSSL?"https":"http"}://${b.server.address}`;yield se.global.remove_files_from_storage_with_key(ye,`${b.id}_${se.servers[P][B].session.user_id}`)}catch{}}try{L&&(yield se.indexed.removeFileFromUserPath(`servers/${P}/${B}/groups/${b.id}.img`))}catch{}})()}remove_channel_files(b,P,B,L){try{this.servers[b][P].client.rpc(this.servers[b][P].session,"remove_channel_file",{collection:`file_${B.replace(/[.]/g,"_")}`,is_creator:L}).catch(se=>{})}catch{}}get_group_list_from_server(b,P){this.groups[b]||(this.groups[b]={}),this.groups[b][P]||(this.groups[b][P]={}),this.servers[b][P].client.listUserGroups(this.servers[b][P].session,this.servers[b][P].session.user_id).then(B=>{for(let L=0,se=B.user_groups.length;L<se;L++)this.groups[b][P][B.user_groups[L].group.id]||(this.groups[b][P][B.user_groups[L].group.id]={},this.servers[b][P].client.readStorageObjects(this.servers[b][P].session,{object_ids:[{collection:"group_public",key:`group_${B.user_groups[L].group.id}`,user_id:B.user_groups[L].group.creator_id}]}).then(W=>{W.objects.length?(this.groups[b][P][B.user_groups[L].group.id].img=W.objects[0].value.img,this.indexed.saveTextFileToUserPath(W.objects[0].value.img,`servers/${b}/${P}/groups/${B.user_groups[L].group.id}.img`)):(delete this.groups[b][P][B.user_groups[L].group.id].img,this.indexed.removeFileFromUserPath(`servers/${b}/${P}/groups/${B.user_groups[L].group.id}.img`))}).catch(W=>{console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",W)}),this.groups[b][P][B.user_groups[L].group.id]={...this.groups[b][P][B.user_groups[L].group.id],...B.user_groups[L].group},this.groups[b][P][B.user_groups[L].group.id].status="online",this.servers[b][P].client.listGroupUsers(this.servers[b][P].session,B.user_groups[L].group.id).then(W=>{for(let ye=0,Me=W.group_users.length;ye<Me;ye++)W.group_users[ye].user.id==this.servers[b][P].session.user_id?W.group_users[ye].user.is_me=!0:(W.group_users[ye].user.img=null,this.save_other_user(W.group_users[ye].user,b,P)),W.group_users[ye].user=this.load_other_user(W.group_users[ye].user.id,b,P),this.add_group_user_without_duplicate(W.group_users[ye],B.user_groups[L].group.id,b,P)}).catch(W=>{console.error("\uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uac00\uc838\uc624\uae30 \uc624\ub958: ",W)})),this.join_chat_with_modulation(B.user_groups[L].group.id,3,b,P);this.save_groups_with_less_info()}).catch(B=>{console.error("\uc0ac\uc6a9\uc790 \uadf8\ub8f9 \uac00\uc838\uc624\uae30 \uc624\ub958: ",B)})}rearrange_group_list(b=!0){let P=[];return Object.keys(this.groups).forEach(L=>{Object.keys(this.groups[L]).forEach(W=>{Object.keys(this.groups[L][W]).forEach(Me=>{try{this.groups[L][W][Me].server=this.servers[L][W].info,P.push(this.groups[L][W][Me])}catch{this.groups[L][W][Me].server={name:this.lang.text.Nakama.DeletedServer,isOfficial:L,target:W},b&&P.push(this.groups[L][W][Me])}})})}),P}set_group_statusBar(b,P,B){this.statusBar.groupServer[P][B]&&(this.statusBar.groupServer[P][B]=b),this.catch_group_server_header(b),this.StatusBarChangedCallback&&this.StatusBarChangedCallback()}count_channel_online_member(b,P,B){var L=this;return(0,j.A)(function*(){let se="pending";try{if("offline"==L.statusBar.groupServer[P][B])throw"\uc11c\ubc84 \uc624\ud504\ub77c\uc778";if(b.group_id){if(L.groups[P][B][b.group_id]&&L.groups[P][B][b.group_id].users){let W=L.groups[P][B][b.group_id].users.length;if(1==W)se=L.users.self.online?"online":"offline";else for(let ye=0;ye<W;ye++){let Me=L.groups[P][B][b.group_id].users[ye].user.id||L.servers[P][B].session.user_id;if(Me!=L.servers[P][B].session.user_id&&L.load_other_user(Me,P,B).online){se="online";break}}}}else if(b.user_id_one)if(L.channels_orig[P][B][b.channel_id||b.id]){let W=L.channels_orig[P][B][b.channel_id||b.id].redirect.id,ye=yield L.servers[P][B].client.getUsers(L.servers[P][B].session,[W]);Object.keys(ye.users[0]).forEach(Xe=>{L.users[P][B][W][Xe]=ye.users[0][Xe]}),se=L.load_other_user(W,P,B).online?"online":"pending"}else try{let W=yield L.join_chat_with_modulation(b.user_id_one!=L.servers[P][B].session.user_id?b.user_id_one:b.user_id_two,2,P,B);se=L.load_other_user(L.channels_orig[P][B][W.id].redirect.id,P,B).online?"online":"pending"}catch(W){console.error(W)}}catch{se="offline"==L.statusBar.groupServer[P][B]?"offline":"missing"}L.channels_orig[P][B][b.channel_id||b.id]||(L.channels_orig[P][B][b.channel_id||b.id]={}),"missing"!=L.channels_orig[P][B][b.channel_id||b.id].status&&(L.channels_orig[P][B][b.channel_id||b.id].status=se)})()}remove_server(b,P){var B=this;return(0,j.A)(function*(){let L=yield B.loadingCtrl.create({message:B.lang.text.TodoDetail.WIP});L.present(),L.message=B.lang.text.Nakama.RemovingAccount;let se=B.servers[b][P].info;try{let Me=B.servers[b][P].session.user_id,Xe=`${se.useSSL?"https":"http"}://${se.address}`;try{yield B.global.remove_files_from_storage_with_key(Xe,Me)}catch{}try{let ce=localStorage.getItem("fallback_fs");if(!ce)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let ke=ce.split("://"),lt=ke.pop().split(":"),Be=ke.pop();Be?Be+=":":Be=lt[0].replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")?"https:":"http:";let ht=`${Be}//${lt[0]}:${lt[1]||9002}/`;yield B.global.remove_files_from_storage_with_key(ht,Me)}catch{}B.servers[b][P].client.rpc(B.servers[b][P].session,"remove_account_fn",{user_id:Me}).catch(ce=>{})}catch{}if(L.message=B.lang.text.Nakama.LogoutAccount,"online"==B.statusBar.groupServer[b][P])try{B.servers[b][P].socket.disconnect(!0)}catch{B.link_group(b,P,!1)}L.message=B.lang.text.Nakama.RemovingNotification;try{delete B.noti_origin[b][P]}catch{}B.rearrange_notifications(),L.message=B.lang.text.Nakama.MissingChannels;try{let Me=Object.keys(B.channels_orig[b][P]);B.channels_orig.deleted||(B.channels_orig.deleted={}),B.channels_orig.deleted[P]||(B.channels_orig.deleted[P]={}),Me.forEach(Xe=>{B.channels_orig[b][P][Xe].info.status="missing",B.channels_orig[b][P][Xe].status="missing",B.channels_orig.deleted[P][Xe]=JSON.parse(JSON.stringify(B.channels_orig[b][P][Xe]))}),delete B.channels_orig[b][P]}catch{}B.rearrange_channels();let W=yield B.indexed.GetFileListFromDB(`servers/${b}/${P}`);for(let Me=0,Xe=W.length;Me<Xe;Me++){let ce=yield B.indexed.GetFileInfoFromDB(W[Me]),ke=W[Me].replace("/official/","/deleted/").replace(`/${b}/`,"/deleted/");yield B.indexed.saveFileToUserPath(ce,ke),yield B.indexed.removeFileFromUserPath(W[Me]),L.message=`${B.lang.text.Nakama.MissingChannelFiles}: ${W[Me]}`}L.message=B.lang.text.Nakama.MissingGroups;try{B.groups.deleted||(B.groups.deleted={}),B.groups.deleted[P]||(B.groups.deleted[P]={}),B.groups.deleted[P]=JSON.parse(JSON.stringify(B.groups[b][P])),Object.keys(B.groups.deleted[P]).forEach(Xe=>{B.groups.deleted[P][Xe].server.name=B.lang.text.Nakama.DeletedServer,B.groups.deleted[P][Xe].server.isOfficial="deleted",B.groups.deleted[P][Xe].status="missing",B.groups.deleted[P][Xe]=JSON.parse(JSON.stringify(B.groups[b][P][Xe]))}),delete B.groups[b][P]}catch{}L.message=B.lang.text.Nakama.DeletingServerInfo,B.set_group_statusBar("offline",b,P),delete B.statusBar.groupServer[b][P],yield B.RemoveWebRTCServer(B.servers[b][P].info.address),delete B.servers[b][P],B.save_groups_with_less_info(),B.indexed.saveTextFileToUserPath(JSON.stringify(B.statusBar.groupServer),"servers/list.json");let ye=yield B.indexed.loadTextFromUserPath("servers/list_detail.csv");if(ye){let Me=ye.split("\n");for(let Xe=0,ce=Me.length;Xe<ce;Xe++)if(Me[Xe].split(",")[3]==P){Me.splice(Xe,1);break}B.indexed.saveTextFileToUserPath(Me.join("\n"),"servers/list_detail.csv")}B.noti.ClearNoti(9),L.dismiss()})()}check_if_online(){this.get_all_server_info(!0,!0)}connect_to(b="official",P="default",B){var L=this;this.servers[b][P].socket.connect(this.servers[b][P].session,!0).then(se=>{let W=this.servers[b][P].socket;Object.keys(this.on_socket_connected).forEach(Me=>this.on_socket_connected[Me]()),W.onnotification=Me=>{this.act_on_notification(Me,b,P),this.rearrange_notifications()},W.onmatchpresence=Me=>{void 0!==Me.joins?Me.joins.forEach(Xe=>{}):void 0!==Me.leaves&&Me.leaves.forEach(Xe=>{this.servers[b][P].session.user_id==Xe.user_id&&this.WebRTCService&&"data"==this.WebRTCService.TypeIn&&this.WebRTCService.close_webrtc(!1,!0)})},W.onchannelpresence=Me=>{if(void 0!==Me.joins)Me.joins.forEach(Xe=>{this.servers[b][P].session.user_id!=Xe.user_id&&(this.load_other_user(Xe.user_id,b,P).online=!0)}),this.count_channel_online_member(Me,b,P);else if(void 0!==Me.leaves){let Xe=[];Me.leaves.forEach(ce=>{this.servers[b][P].session.user_id!=ce.user_id&&this.servers[b][P].client.getUsers(this.servers[b][P].session,[ce.user_id]).then(ke=>{let lt=Object.keys(ke.users[0]);delete this.load_other_user(ce.user_id,b,P).online,lt.forEach(Be=>{this.users[b][P][ce.user_id][Be]=ke.users[0][Be]}),Xe.push(ce.user_id),Xe.forEach(Be=>this.load_other_user(Be,b,P)),this.count_channel_online_member(Me,b,P),this.socket_reactive.WEBRTC_CHECK_ONLINE&&this.socket_reactive.WEBRTC_CHECK_ONLINE(ce)})})}this.socket_reactive["others-online"]&&this.socket_reactive["others-online"]()},W.onmatchdata=function(){var Me=(0,j.A)(function*(Xe){switch(Xe.data_str=decodeURIComponent((new TextDecoder).decode(Xe.data)),Xe.op_code){case jn.MANAGE_TODO:{let ce=Xe.data_str.split(",");switch(ce[0]){case"add":L.servers[b][P].client.readStorageObjects(L.servers[b][P].session,{object_ids:[{collection:ce[1],key:ce[2],user_id:L.servers[b][P].session.user_id}]}).then(function(){var Be=(0,j.A)(function*(ht){if(ht.objects.length){try{let dn,nn=ht.objects[0].value;try{if(dn=yield L.indexed.loadTextFromUserPath(`todo/${nn.id}_${b}_${P}/info.todo`),!dn)throw"empty"}catch{dn=yield L.indexed.loadTextFromUserPath(`todo/${nn.id}/info.todo`)}let Sn=JSON.parse(dn);L.removeRegisteredId(Sn.noti_id),L.noti.ClearNoti(Sn.noti_id)}catch{}yield L.modify_remote_info_as_local(ht.objects[0].value,b,P);let Nt=ht.objects[0].value;L.noti.ClearNoti(Nt.noti_id),L.set_todo_notification(Nt),L.p5toast.show({text:`${L.lang.text.Main.RequestTodo}: ${Nt.title}`})}});return function(ht){return Be.apply(this,arguments)}}());break;case"done":L.indexed.loadTextFromUserPath(`todo/${ce[1]}_${b}_${P}/info.todo`,function(){var Be=(0,j.A)(function*(ht,Nt){if(ht&&Nt){let nn=JSON.parse(Nt);nn.done=!0,yield L.modify_remote_info_as_local(nn,b,P),L.indexed.GetFileListFromDB(`todo/${nn.id}`,dn=>{dn.forEach(Sn=>L.indexed.removeFileFromUserPath(Sn)),nn.noti_id&&("DesktopPWA"==ot.aH||"MobilePWA"==ot.aH)&&(clearTimeout(L.web_noti_id[nn.noti_id]),delete L.web_noti_id[nn.noti_id]),L.removeRegisteredId(nn.noti_id),L.noti.ClearNoti(nn.noti_id),L.SyncTodoCounter(b,P)})}else L.indexed.loadTextFromUserPath(`todo/${ce[1]}/info.todo`,function(){var nn=(0,j.A)(function*(dn,Sn){if(dn&&Sn){let Wn=JSON.parse(Sn);Wn.done=!0,yield L.modify_remote_info_as_local(Wn,b,P),L.indexed.GetFileListFromDB(`todo/${Wn.id}`,zn=>{zn.forEach(yr=>L.indexed.removeFileFromUserPath(yr)),Wn.noti_id&&("DesktopPWA"==ot.aH||"MobilePWA"==ot.aH)&&(clearTimeout(L.web_noti_id[Wn.noti_id]),delete L.web_noti_id[Wn.noti_id]),L.removeRegisteredId(Wn.noti_id),L.noti.ClearNoti(Wn.noti_id),L.SyncTodoCounter(b,P)})}});return function(dn,Sn){return nn.apply(this,arguments)}}())});return function(ht,Nt){return Be.apply(this,arguments)}}());break;case"delete":L.indexed.loadTextFromUserPath(`todo/${ce[1]}_${b}_${P}/info.todo`,(Be,ht)=>{if(Be&&ht){let Nt=JSON.parse(ht);L.indexed.GetFileListFromDB(`todo/${Nt.id}`,nn=>{nn.forEach(dn=>L.indexed.removeFileFromUserPath(dn)),Nt.noti_id&&("DesktopPWA"==ot.aH||"MobilePWA"==ot.aH)&&(clearTimeout(L.web_noti_id[Nt.noti_id]),delete L.web_noti_id[Nt.noti_id]),L.removeRegisteredId(Nt.noti_id),L.noti.ClearNoti(Nt.noti_id),L.global.p5todo&&L.global.p5todo.remove_todo&&L.global.p5todo.remove_todo(JSON.stringify(Nt))}),L.SyncTodoCounter(b,P)}else L.indexed.loadTextFromUserPath(`todo/${ce[1]}/info.todo`,(Nt,nn)=>{if(Nt&&nn){let dn=JSON.parse(nn);L.indexed.GetFileListFromDB(`todo/${dn.id}`,Sn=>{Sn.forEach(Wn=>L.indexed.removeFileFromUserPath(Wn)),dn.noti_id&&("DesktopPWA"==ot.aH||"MobilePWA"==ot.aH)&&(clearTimeout(L.web_noti_id[dn.noti_id]),delete L.web_noti_id[dn.noti_id]),L.removeRegisteredId(dn.noti_id),L.noti.ClearNoti(dn.noti_id),L.global.p5todo&&L.global.p5todo.remove_todo&&L.global.p5todo.remove_todo(JSON.stringify(dn))}),L.SyncTodoCounter(b,P)}})});break;case"worker":let ke="true"==ce[3];L.AddTodoManageUpdateAct&&L.AddTodoManageUpdateAct(ce[1],ce[2],ke,Number(ce[4])),L.p5toast.show({text:`${ke?L.lang.text.Main.WorkerAbandon:L.lang.text.Main.WorkerDone}: ${L.users[b][P][ce[2]].display_name}`}),L.indexed.loadTextFromUserPath(`todo/${ce[1]}_${b}_${P}/info.todo`,function(){var Be=(0,j.A)(function*(ht,Nt){if(ht&&Nt){let nn=JSON.parse(Nt);for(let dn=0,Sn=nn.workers.length;dn<Sn;dn++)if((nn.workers[dn].user_id||nn.workers[dn].id)==ce[2]){nn.workers[dn].isDelete="true"==ce[3],nn.workers[dn].timestamp=Number(ce[4]);break}yield L.modify_remote_info_as_local(nn,b,P),L.SyncTodoCounter(b,P)}else L.indexed.loadTextFromUserPath(`todo/${ce[1]}/info.todo`,function(){var nn=(0,j.A)(function*(dn,Sn){if(dn&&Sn){let Wn=JSON.parse(Sn);for(let zn=0,yr=Wn.workers.length;zn<yr;zn++)if((Wn.workers[zn].user_id||Wn.workers[zn].id)==ce[2]){Wn.workers[zn].isDelete="true"==ce[3],Wn.workers[zn].timestamp=Number(ce[4]);break}yield L.modify_remote_info_as_local(Wn,b,P),L.SyncTodoCounter(b,P)}});return function(dn,Sn){return nn.apply(this,arguments)}}())});return function(ht,Nt){return Be.apply(this,arguments)}}());break;default:console.log("\ub4f1\ub85d\ub418\uc9c0 \uc54a\uc740 \ud560 \uc77c \ud589\ub3d9: ",Xe)}L.SyncTodoCounter(b,P)}break;case jn.EDIT_PROFILE:switch(Xe.data_str){case"info":L.servers[b][P].client.getAccount(L.servers[b][P].session).then(ce=>{Object.keys(ce.user).forEach(lt=>L.users.self[lt]=ce.user[lt]),L.save_self_profile()});break;case"image":L.servers[b][P].client.readStorageObjects(L.servers[b][P].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:L.servers[b][P].session.user_id}]}).then(ce=>{ce.objects.length?(L.indexed.saveTextFileToUserPath(JSON.stringify(ce.objects[0].value.img),"servers/self/profile.img"),L.users.self.img=ce.objects[0].value.img.replace(/"|=|\\/g,"")):L.indexed.removeFileFromUserPath("servers/self/profile.img")});break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ud504\ub85c\ud544 \ub3d9\uae30\ud654 \uc815\ubcf4: ",Xe)}break;case jn.ADD_CHANNEL:L.get_group_list_from_server(b,P);break;case jn.WEBRTC_INIT_REQ_SIGNAL:(L.WebRTCService&&"data"==L.WebRTCService.TypeIn||L.servers[b][P].session.user_id!=Xe.presence.user_id)&&L.socket_reactive.WEBRTC_INIT_REQ_SIGNAL&&L.socket_reactive.WEBRTC_INIT_REQ_SIGNAL();break;case jn.WEBRTC_REPLY_INIT_SIGNAL:(L.WebRTCService&&"data"==L.WebRTCService.TypeIn||L.servers[b][P].session.user_id!=Xe.presence.user_id)&&L.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL&&L.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL(Xe.data_str);break;case jn.WEBRTC_RECEIVE_ANSWER:(L.WebRTCService&&"data"==L.WebRTCService.TypeIn||L.servers[b][P].session.user_id!=Xe.presence.user_id)&&L.socket_reactive.WEBRTC_RECEIVE_ANSWER&&L.socket_reactive.WEBRTC_RECEIVE_ANSWER(Xe.data_str);break;case jn.WEBRTC_ICE_CANDIDATES:(L.WebRTCService&&"data"==L.WebRTCService.TypeIn||L.servers[b][P].session.user_id!=Xe.presence.user_id)&&L.socket_reactive.WEBRTC_ICE_CANDIDATES&&L.socket_reactive.WEBRTC_ICE_CANDIDATES(Xe.data_str);break;case jn.WEBRTC_NEGOCIATENEEDED:(L.WebRTCService&&"data"==L.WebRTCService.TypeIn||L.servers[b][P].session.user_id!=Xe.presence.user_id)&&L.socket_reactive.WEBRTC_NEGOCIATENEEDED&&L.socket_reactive.WEBRTC_NEGOCIATENEEDED(Xe.data_str);break;case jn.WEBRTC_RECEIVED_CALL_SELF:L.WebRTCService&&"data"!=L.WebRTCService.TypeIn&&L.socket_reactive.WEBRTC_RECEIVED_CALL_SELF&&L.socket_reactive.WEBRTC_RECEIVED_CALL_SELF();break;case jn.WEBRTC_HANGUP:(L.WebRTCService&&"data"==L.WebRTCService.TypeIn||L.servers[b][P].session.user_id!=Xe.presence.user_id)&&L.WebRTCService&&(yield L.WebRTCService.close_webrtc(),L.VoidDrawInitCallBack=void 0);break;case jn.VOIDDRAW_INIT:(L.WebRTCService&&"data"==L.WebRTCService.TypeIn||L.servers[b][P].session.user_id!=Xe.presence.user_id)&&L.WebRTCService&&L.VoidDrawInitCallBack&&L.VoidDrawInitCallBack(JSON.parse(Xe.data_str));break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub3d9\uae30\ud654 \uc815\ubcf4: ",Xe)}});return function(Xe){return Me.apply(this,arguments)}}(),W.onchannelmessage=Me=>{this.channels_orig[b][P][Me.channel_id]?(this.update_from_channel_msg(Me,b,P),Me.content.match&&Me.sender_id!=this.servers[b][P].session.user_id&&this.JoinWebRTCMatch(Me,b,P,this.channels_orig[b][P][Me.channel_id])):Me.user_id_one?this.join_chat_with_modulation(Me.sender_id,2,b,P):Me.group_id&&this.join_chat_with_modulation(Me.group_id,3,b,P)},W.ondisconnect=Me=>{this.OnSocketDisconnect(b,P)},B(W)})}OnSocketDisconnect(b,P){this.link_group(b,P,!1),Object.keys(this.on_socket_disconnected).forEach(L=>this.on_socket_disconnected[L]())}saveListedMessage(b,P,B,L){let se={},W=JSON.parse(JSON.stringify(b));for(;W.length;){se.target!=W[0].msgDate&&(se.msg&&this.saveMessageByDate(se,P,B,L),se.target=W[0].msgDate,se.msg=[]);let ye=W.shift();delete ye.content.text,delete ye.content.img,delete ye.content.local_comp,delete ye.content.path,delete ye.msgDate,delete ye.displayDate,delete ye.msgTime,delete ye.isLastRead,delete ye.showInfo,se.msg.push(ye)}this.saveMessageByDate(se,P,B,L)}saveMessageByDate(b,P,B,L){if(!b.msg||!b.msg.length)return;let se=JSON.parse(JSON.stringify(b)),W=se.target.split("-");this.indexed.loadTextFromUserPath(`servers/${B}/${L}/channels/${P.id}/chats/${W[0]}/${W[1]}/${W[2]}`,(ye,Me)=>{let Xe=[],ce=[];ye&&Me&&(Xe=JSON.parse(Me)),se.msg.forEach(lt=>{let Be=!1;for(let ht=0,Nt=Xe.length;ht<Nt;ht++)if(Xe[ht].message_id==lt.message_id){Be=!0,Xe[ht]=lt;break}Be||ce.push(lt)});let ke=[...Xe,...ce];ke.sort((lt,Be)=>lt.create_time<Be.create_time?-1:lt.create_time>Be.create_time?1:0),this.indexed.saveTextFileToUserPath(JSON.stringify(ke),`servers/${B}/${L}/channels/${P.id}/chats/${W[0]}/${W[1]}/${W[2]}`)})}CatchQouteMsgUserName(b,P,B){if(b.content.qoute)try{if("local"==b.content.qoute.user_id)throw"\ub85c\uceec \uba54\uc2dc\uc9c0";b.content.qoute.username=this.users[P][B][b.content.qoute.user_id].display_name}catch{b.content.qoute.username=this.users.self.display_name}}ModulateTimeDate(b){let P=new Date(b.create_time),B=P.toLocaleDateString(this.lang.lang);b.displayDate=B,b.msgDate=`${P.getFullYear()}-${("00"+(P.getMonth()+1)).slice(-2)}-${("00"+P.getDate()).slice(-2)}`,b.msgTime=`${("00"+P.getHours()).slice(-2)}:${("00"+P.getMinutes()).slice(-2)}`}join_chat_with_modulation(b,P,B,L,se=!1){var W=this;return(0,j.A)(function*(){W.channels_orig[B][L]||(W.channels_orig[B][L]={});let ye=yield W.servers[B][L].socket.joinChat(b,P,!0,!1);try{switch(ye.redirect={id:b,type:P,persistence:!0},ye.server={isOfficial:B,target:L},P){case 2:ye.title=W.load_other_user(b,B,L).display_name,ye.info=W.load_other_user(b,B,L);break;case 3:ye.title=W.groups[B][L][b].name,ye.info=W.groups[B][L][b],W.groups[B][L][b].channel_id=ye.id,W.save_groups_with_less_info();break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc815\ubcf4: ",P)}try{W.channels_orig[B][L][ye.id].status="offline"}catch{}if(yield W.add_channels(ye,B,L),!W.opened_page_info.channel||W.opened_page_info.channel.isOfficial!=B||W.opened_page_info.channel.target!=L||W.opened_page_info.channel.id!=ye.id)try{let Me=yield W.servers[B][L].client.listChannelMessages(W.servers[B][L].session,ye.id,1,!1);Me.messages.length&&W.update_from_channel_msg(Me.messages[0],B,L,se)}catch(Me){console.error("\ub9c8\uc9c0\ub9c9 \uba54\uc2dc\uc9c0 \ubc1b\uc544\uc11c \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",Me)}return W.count_channel_online_member(ye,B,L),W.save_groups_with_less_info(),ye}catch(Me){let Xe="";throw Xe=3===Me.code?W.lang.text.Nakama.AddChannelFailed_Code3:Me.message,W.p5toast.show({text:`${W.lang.text.Nakama.AddChannelFailed}: ${Xe}`}),`${W.lang.text.Nakama.AddChannelFailed}: ${Xe}`}})()}update_from_channel_msg(b,P,B,L=!1){var se=this;return(0,j.A)(function*(){let W=b.sender_id==se.servers[P][B].session.user_id,ye=b.message_id!=se.channels_orig[P][B][b.channel_id].last_comment_id,Me=se.modulation_channel_message(b,P,B),Xe=!1;switch(Me.code){case 0:Me.content.gupdate&&(se.update_group_info(Me,P,B),Xe=!0),Me.content.user_update&&(se.update_group_user_info(Me,P,B),Xe=!0),ye&&!Xe&&(se.channels_orig[P][B][b.channel_id].is_new=!W,se.subscribe_lock||(se.has_new_channel_msg=!W));break;case 1:case 2:break;case 3:case 4:case 5:case 6:if(se.socket_reactive.group_detail&&se.socket_reactive.group_detail.update_GroupUsersList(P,B),3==Me.code||4==Me.code)break;if(se.noti_origin[P]&&se.noti_origin[P][B]){let ke=Object.keys(se.noti_origin[P][B]),lt=[];ke.forEach(Be=>{-5==se.noti_origin[P][B][Be].code&&se.noti_origin[P][B][Be].sender_id==Me.sender_id&&lt.push(Be)});try{(yield se.servers[P][B].client.deleteNotifications(se.servers[P][B].session,lt))||console.log("\uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \uc54c\ub9bc \uc0ad\uc81c \ud6c4 \uc624\ub958"),se.update_notifications(P,B)}catch(Be){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Be)}}W&&(se.channels_orig[P][B][Me.channel_id].status="missing",delete se.channels_orig[P][B][Me.channel_id].info);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",Me)}if(!W&&ye&&!Xe){let ke={id:se.channels_orig[P][B][b.channel_id].cnoti_id,title:se.channels_orig[P][B][b.channel_id].info.name||se.channels_orig[P][B][b.channel_id].info.display_name||se.channels_orig[P][B][b.channel_id].title||se.lang.text.Subscribes.noTitiedChat,body:Me.content.msg||Me.content.noti||(Me.content.match?se.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||`(${se.lang.text.ChatRoom.attachments})`,extra_ln:{type:"ChatRoomPage",id:b.channel_id,isOfficial:P,target:B},group_ln:"diychat",smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"};Me.content.url&&Me.content.type&&0==Me.content.type.indexOf("image/")&&(ke.image=Me.content.url),se.noti.PushLocal(ke,se.channels_orig[P][B][b.channel_id].cnoti_id,lt=>{se.go_to_chatroom_without_admob_act(se.channels_orig[P][B][b.channel_id])})}W&&se.noti.ClearNoti(se.channels_orig[P][B][b.channel_id].cnoti_id),se.ModulateTimeDate(Me),se.check_sender_and_show_name(Me,P,B);let ce=b.content.msg;se.content_to_hyperlink(Me),!L&&se.channels_orig[P][B][Me.channel_id].update&&se.channels_orig[P][B][Me.channel_id].update(Me),Xe||(se.channels_orig[P][B][b.channel_id].last_comment_time=b.update_time,se.channels_orig[P][B][Me.channel_id].last_comment_id=Me.message_id),se.saveListedMessage([Me],se.channels_orig[P][B][Me.channel_id],P,B),Xe||2!=Me.code&&(se.channels_orig[P][B][Me.channel_id].last_comment=(Me.content.filename?`(${se.lang.text.ChatRoom.attachments}) `:"")+(ce||Me.content.noti||(Me.content.match?se.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||"")),se.rearrange_channels()})()}rearrange_posts(){this.posts.length=0;let b=Object.keys(this.posts_orig);for(let P=0,B=b.length;P<B;P++){let L=Object.keys(this.posts_orig[b[P]]);for(let se=0,W=L.length;se<W;se++){let ye=Object.keys(this.posts_orig[b[P]][L[se]]);for(let Me=0,Xe=ye.length;Me<Xe;Me++){let ce=Object.keys(this.posts_orig[b[P]][L[se]][ye[Me]]);for(let ke=0,lt=ce.length;ke<lt;ke++)this.posts.push(this.posts_orig[b[P]][L[se]][ye[Me]][ce[ke]])}}}this.posts.sort((P,B)=>P.create_time<B.create_time?1:P.create_time>B.create_time?-1:0)}EditPost(b){this.CommunityGoToEditPost&&this.CommunityGoToEditPost(b),this.socket_reactive.try_load_post&&this.socket_reactive.try_load_post()}RemovePost(b,P=!1){var B=this;return(0,j.A)(function*(){let L,se=b.server.isOfficial,W=b.server.target;P||(L=yield B.loadingCtrl.create({message:B.lang.text.PostViewer.RemovePost}));let ye=yield B.indexed.GetFileListFromDB(`servers/${se}/${W}/posts/${b.creator_id}/${b.id}`);L&&L.present();for(let Me=0,Xe=ye.length;Me<Xe;Me++)L&&(L.message=`${B.lang.text.PostViewer.RemovePost}: ${ye[Me]}`),yield B.indexed.removeFileFromUserPath(ye[Me]);if(b.OutSource&&(yield B.global.remove_file_from_storage(b.OutSource)),b.attachments)for(let Me=0,Xe=b.attachments.length;Me<Xe;Me++)try{if(L&&(L.message=`${B.lang.text.PostViewer.RemovePost}: ${b.attachments[Me].filename}`),b.attachments[Me].url)yield B.global.remove_file_from_storage(b.attachments[Me].url);else try{b.server.local||(yield B.sync_remove_file(`${b.id}_attach_${Me}`,se,W,"server_post","",`${b.id}_attach_${Me}`))}catch{}}catch{}if(b.mainImage)try{if(b.mainImage.url)yield B.global.remove_file_from_storage(b.mainImage.url);else try{b.server.local||(yield B.sync_remove_file(`${b.id}_mainImage`,se,W,"server_post","",`${b.id}_mainImage`))}catch{}}catch{}try{b.server.local||(yield B.sync_remove_file(b.id,se,W,"server_post","",`${b.id}`))}catch{}L&&L.dismiss();try{delete B.posts_orig[se][W][b.creator_id][b.id]}catch{}if(B.rearrange_posts(),B.socket_reactive.try_load_post&&B.socket_reactive.try_load_post(),!P)try{yield B.servers[se][W].client.rpc(B.servers[se][W].session,"send_noti_all_fn",{noti_id:jn.MANAGE_POST,type:"remove",user_id:b.creator_id,post_id:b.id,persistent:!1})}catch{}})()}JoinWebRTCMatch(b,P,B,L){var se=this;return(0,j.A)(function*(){try{try{se.WebRTCService.CurrentMatch=yield se.servers[P][B].socket.joinMatch(b.content.match)}catch(W){throw W}se.WebRTCService&&(yield se.WebRTCService.initialize("audio",void 0,{isOfficial:P,target:B,channel_id:L.id,user_id:L.info.id||L.info.user_id},!1)),yield se.servers[P][B].socket.sendMatchState(b.content.match,jn.WEBRTC_INIT_REQ_SIGNAL,encodeURIComponent(""))}catch(W){4===W.code?se.p5toast.show({text:se.lang.text.ChatRoom.MatchExpiration}):(console.log("\ucc38\uc5ec \uc2e4\ud328: ",W),se.p5toast.show({text:`${se.lang.text.ChatRoom.JoinMatchFailed}: ${W}`}))}})()}content_to_hyperlink(b){if(!b.content.msg||"object"==typeof b.content.msg)return;let P=b.content.msg.split("\n");b.content.msg=[],P.forEach(B=>{let L={text:B};B&&b.content.msg.push([L]);try{let se=L.text.match(/[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6DC}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1F9FF}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA88}\u{1FA90}-\u{1FABD}\u{1FABF}-\u{1FAC5}\u{1FACE}-\u{1FADB}\u{1FAE0}-\u{1FAE8}\u{1FAF0}-\u{1FAF8}]+/gu)[0].replace(/[0-9]/g,"");L.text.length==se.length&&(L.size=48)}catch{}});for(let B=0,L=b.content.msg.length;B<L;B++)if(b.content.msg[B][0].text){let se=b.content.msg[B][0].text.indexOf("http://");if(se<0&&(se=b.content.msg[B][0].text.indexOf("https://")),se>=0){let ye,W=[];0!=se&&(ye=b.content.msg[B][0].text.substring(0,se),W.push({text:ye}));let ce,ke,Me=b.content.msg[B][0].text.substring(se),Xe=Me.indexOf(" ");Xe<0?(ce=Me,W.push({text:ce,href:!0})):(ce=Me.substring(0,Xe),W.push({text:ce,href:!0}),ke=Me.substring(Xe),W.push({text:ke})),b.content.msg[B]=W}}}check_sender_and_show_name(b,P,B){try{b.color=(b.sender_id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),b.sender_id==this.servers[P][B].session.user_id?(b.user_display_name=this.users.self.display_name,b.is_me=!0):b.user_display_name=this.load_other_user(b.sender_id,P,B).display_name,b.user_display_name=b.user_display_name||this.lang.text.Profile.noname_user}catch(L){console.log("\ubc1c\uc2e0\uc790 \uccb4\ud06c \uc624\ub958: ",L)}}modulation_channel_message(b,P,B){this.translate_updates(b);let se,L=!1;try{L=b.sender_id==this.servers[P][B].session.user_id}catch{L=b.content.user_update}try{se=L?this.users.self:this.load_other_user(b.sender_id,P,B)}catch{se=this.users.self}switch(b.code){case 0:if(b.content.filename){try{b.content.transfer_index=this.OnTransfer[P][B][b.channel_id][b.message_id]}catch{}try{this.OnTransferMessage[b.message_id]=b}catch{}}break;case 1:case 2:break;case 3:case 4:b.content.user_update=se,b.content.noti=`${this.lang.text.Nakama.GroupUserJoin}: ${se.display_name}`,setTimeout(()=>{this.count_channel_online_member(b,P,B)},50);break;case 5:b.content.user_update=se,b.content.noti=`${this.lang.text.Nakama.GroupUserOut}: ${se.display_name}`,setTimeout(()=>{this.count_channel_online_member(b,P,B)},50);break;case 6:b.content.user_update=se,b.content.noti=`${this.lang.text.Nakama.GroupUserKick}: ${se.display_name}`,setTimeout(()=>{this.count_channel_online_member(b,P,B)},50);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",b)}return b}update_group_info(b,P,B){switch(this.translate_updates(b),b.content.gupdate){case"remove":case"force_remove":this.groups[P][B][b.group_id].status="missing",this.save_groups_with_less_info(),this.channels_orig[P][B][b.channel_id].status="missing",this.servers[P][B].socket.leaveChat(b.channel_id);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",b)}}translate_updates(b){if(b.content.user_update)switch(b.content.user_update){case"modify_data":b.content.noti=`${this.lang.text.Profile.user_profile_changed}${b.content.noti_form}`;break;case"modify_img":b.content.noti=`${this.lang.text.Profile.user_image_changed}${b.content.noti_form}`}if(b.content.gupdate)switch(b.content.gupdate){case"remove":b.content.noti=this.lang.text.GroupDetail.GroupRemoved;break;case"force_remove":b.content.noti=this.lang.text.GroupDetail.GroupForceRemoved}}update_group_user_info(b,P,B){var L=this;return(0,j.A)(function*(){if(L.translate_updates(b),L.servers[P][B].session.user_id!=b.sender_id)switch(b.content.user_update){case"modify_data":try{let se=yield L.servers[P][B].client.getUsers(L.servers[P][B].session,[b.sender_id]);se.users.length?L.save_other_user(se.users[0],P,B):(delete L.users[P][B][b.sender_id],L.indexed.removeFileFromUserPath(`servers/${P}/${B}/users/${b.sender_id}/profile.json`))}catch(se){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc815\ubcf4 \ubcc0\uacbd \uc624\ub958: ",se)}break;case"modify_img":try{let se=yield L.servers[P][B].client.readStorageObjects(L.servers[P][B].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:b.sender_id}]});if(se.objects.length)try{if(L.servers[P][B].session.user_id==b.sender_id)throw"me";L.load_other_user(b.sender_id,P,B).img=se.objects[0].value.img.replace(/"|\\|=/g,""),L.indexed.saveTextFileToUserPath(L.users[P][B][b.sender_id].img,`servers/${P}/${B}/users/${b.sender_id}/profile.img`)}catch{L.users.self.img=se.objects[0].value.img.replace(/"|\\|=/g,""),yield L.indexed.saveTextFileToUserPath(L.users.self.img,"servers/self/profile.img")}else try{if(L.servers[P][B].session.user_id==b.sender_id)throw"me";delete L.users[P][B][b.sender_id].img,L.indexed.removeFileFromUserPath(`servers/${P}/${B}/users/${b.sender_id}/profile.img`)}catch{delete L.users.self.img}}catch(se){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd \uc624\ub958: ",se)}break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \ud589\ub3d9: ",b)}})()}check_notifications(b,P,B){var L=this;return(0,j.A)(function*(){let se=L.servers[P][B];switch(b.code){case 0:case-2:break;case 1:let W=`<img src="${decodeURIComponent(b.content.uri)}" alt="noti_image" style="border-radius: 2px">`,ye=`<div>${decodeURIComponent(b.content.msg)}</div>`;L.alertCtrl.create({header:L.servers[P][B].info.name,message:new vt.Vk(b.content.uri?W+ye:ye),buttons:[{text:L.lang.text.Nakama.LocalNotiOK,handler:(Xe=(0,j.A)(function*(){try{yield L.servers[P][B].client.deleteNotifications(L.servers[P][B].session,[b.id])}catch{}L.noti.ClearNoti(b.code),L.update_notifications(P,B)}),function(){return Xe.apply(this,arguments)})}]}).then(Xe=>Xe.present());break;case-1:case-3:case-4:case-6:L.noti.ClearNoti(b.code);try{(yield se.client.deleteNotifications(se.session,[b.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),L.update_notifications(P,B)}catch(Xe){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Xe)}break;case-5:try{let Xe=yield se.client.getUsers(se.session,[b.sender_id]);if(Xe.users.length){let ce="";ce+=`${L.lang.text.Nakama.ReqContServer}: ${b.server.name}<br>`,ce+=`${L.lang.text.Nakama.ReqContUserName}: ${Xe.users[0].display_name}`,L.alertCtrl.create({header:L.lang.text.Nakama.ReqContTitle,message:ce,buttons:[{text:L.lang.text.Nakama.ReqContAccept,handler:(ke=(0,j.A)(function*(){try{(yield se.client.addGroupUsers(se.session,b.content.group_id,[Xe.users[0].id]))||console.log("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),L.noti.ClearNoti(b.code);try{let Be=yield se.client.deleteNotifications(se.session,[b.id]);Be?L.update_notifications(P,B):console.log("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",Be)}catch(Be){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Be)}}catch(lt){console.error("\uadf8\ub8f9\uc5d0 \uc0ac\uc6a9\uc790 \ucd94\uac00 \uc624\ub958: ",lt)}}),function(){return ke.apply(this,arguments)})},{text:L.lang.text.Nakama.ReqContReject,handler:function(){var ke=(0,j.A)(function*(){try{(yield se.client.kickGroupUsers(se.session,b.content.group_id,[Xe.users[0].id]))||console.log("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),yield se.client.deleteNotifications(se.session,[b.id]),L.update_notifications(P,B)}catch(lt){console.error("\uc0ac\uc6a9\uc790 \uac15\ud1f4 \uc624\ub958: ",lt)}});return function(){return ke.apply(this,arguments)}}(),cssClass:"redfont"}]}).then(ke=>ke.present())}else try{(yield se.client.deleteNotifications(se.session,[b.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),L.p5toast.show({text:L.lang.text.Nakama.UserNotFound}),L.update_notifications(P,B)}catch(ce){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",ce)}}catch(Xe){console.error("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \ubc1b\uc544\uc624\uae30 \uc624\ub958: ",Xe)}break;case-7:L.LoginAgain(L.noti_origin,P,B);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \uad6c\ubd84: ",b.code);try{yield L.servers[P][B].client.deleteNotifications(L.servers[P][B].session,[b.id])}catch{}L.update_notifications(P,B)}var ke,Xe})()}act_on_notification(b,P,B){var L=this;return(0,j.A)(function*(){let se=!1;switch(b.server=L.servers[P][B].info,b.code){case 404:L.remove_server(P,B);break;case jn.USER_PROFILE_CHANGED:break;case jn.USER_PROFILE_IMAGE_CHANGED:try{if(!L.users[P][B][b.content.user_id])throw"\ubaa8\ub974\ub294 \uc0ac\ub78c";let ce=yield L.servers[P][B].client.readStorageObjects(L.servers[P][B].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:b.content.user_id}]});if(ce.objects.length)try{if(L.servers[P][B].session.user_id==b.content.user_id)throw"me";L.load_other_user(b.content.user_id,P,B).img=ce.objects[0].value.img.replace(/"|\\|=/g,""),L.indexed.saveTextFileToUserPath(L.users[P][B][b.content.user_id].img,`servers/${P}/${B}/users/${b.content.user_id}/profile.img`)}catch{L.users.self.img=ce.objects[0].value.img.replace(/"|\\|=/g,""),yield L.indexed.saveTextFileToUserPath(L.users.self.img,"servers/self/profile.img")}else try{if(L.servers[P][B].session.user_id==b.content.user_id)throw"me";delete L.users[P][B][b.content.user_id].img,L.indexed.removeFileFromUserPath(`servers/${P}/${B}/users/${b.content.user_id}/profile.img`)}catch{delete L.users.self.img}}catch(ce){console.log("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd \uc624\ub958: ",ce)}return;case jn.MANAGE_POST:switch(b.content.type){case"add":try{let ke=b.content.user_id==L.servers[P][B].session.user_id;if(!L.users[P][B][b.content.user_id]&&!ke)throw"\ubaa8\ub974\ub294 \uc0ac\ub78c";let lt=yield L.load_server_post_with_id(b.content.post_id,P,B,b.content.user_id,ke);L.rearrange_posts(),ke||(L.p5toast.show({text:`${L.lang.text.AddPost.Title}: ${lt.title}`}),L.has_new_post=!0)}catch{}break;case"remove":L.RemovePost({id:b.content.post_id,creator_id:b.content.user_id,attachments:[],server:{isOfficial:P,target:B}},!0)}return;case jn.GROUP_DATA_CHANGED:case jn.GROUP_IMAGE_CHANGED:break;case 1:b.request=`${L.lang.text.Nakama.ServerNoti}: ${decodeURIComponent(b.content.msg)}`;let W=decodeURIComponent(b.content.msg),ye=decodeURIComponent(b.content.uri);L.noti.PushLocal({id:b.code,title:L.servers[P][B].info.name,body:W,image:ye,extra_ln:{type:"AllUserNotification",title:L.servers[P][B].info.name,body:W,image:ye,isOfficial:P,target:B},smallIcon_ln:"diychat",group_ln:"all_user_noti",iconColor_ln:"b95437"},"global_noti_all",ce=>{let lt=`<div>${W}</div>`;var ht;L.alertCtrl.create({header:L.servers[P][B].info.name,message:new vt.Vk(ye?`<img src="${ye}" alt="noti_image" style="border-radius: 2px">`+lt:lt),buttons:[{text:L.lang.text.Nakama.LocalNotiOK,handler:(ht=(0,j.A)(function*(){try{yield L.servers[P][B].client.deleteNotifications(L.servers[P][B].session,[b.id])}catch{}L.noti.ClearNoti(b.code),L.update_notifications(P,B)}),function(){return ht.apply(this,arguments)})}]}).then(ht=>ht.present())});break;case 0:b.request=`${b.code}-${b.subject}`;break;case-1:let Me;b.request=`${b.code}-${b.subject}`,2===(b.content&&b.content.username&&(Me=2),Me)?L.join_chat_with_modulation(b.sender_id,Me,P,B):(console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ud589\ub3d9\ucc98\ub9ac: ",b,Me),b.request=`${b.code}-${b.subject}`),se=!0;try{(yield L.servers[P][B].client.deleteNotifications(L.servers[P][B].session,[b.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),L.update_notifications(P,B)}catch(ce){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",ce)}break;case-2:case-3:b.request=`${b.code}-${b.subject}`;break;case-4:L.socket_reactive.group_detail&&L.socket_reactive.group_detail.info.id==b.content.group_id&&L.socket_reactive.group_detail.update_from_notification(b),L.groups[P][B][b.content.group_id].status="online",b.request=`${b.code}-${b.subject}`;try{let ce=yield L.servers[P][B].client.readStorageObjects(L.servers[P][B].session,{object_ids:[{collection:"group_public",key:`group_${b.content.group_id}`,user_id:L.groups[P][B][b.content.group_id].creator_id}]});ce.objects.length&&(L.groups[P][B][b.content.group_id].img=ce.objects[0].value.img,L.indexed.saveTextFileToUserPath(ce.objects[0].value.img,`servers/${P}/${B}/groups/${b.content.group_id}.img`))}catch(ce){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",ce)}try{let ce=yield L.servers[P][B].client.listGroupUsers(L.servers[P][B].session,b.content.group_id);ce.group_users.length&&ce.group_users.forEach(ke=>{L.load_other_user(ke.user.id,P,B)})}catch(ce){console.error("\uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uac00\uc838\uc624\uae30 \uc624\ub958: ",ce)}L.join_chat_with_modulation(b.content.group_id,3,P,B),L.noti.PushLocal({id:b.code,title:`${L.groups[P][B][b.content.group_id].name}: ${L.lang.text.Nakama.LocalNotiTitle}`,body:b.subject,group_ln:"diychat",icon:L.groups[P][B][b.content.group_id.img],smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},void 0,ce=>{L.check_notifications(b,P,B)});break;case-5:let Xe=L.groups[P][B][b.content.group_id];if(Xe)b.request=`${L.lang.text.Nakama.ReqContTitle}: ${Xe.name}`;else{se=!0;try{let ce=yield L.servers[P][B].client.deleteNotifications(L.servers[P][B].session,[b.id]);ce?L.update_notifications(P,B):console.log("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",ce)}catch(ce){console.error("\uc54c\ub9bc \uc81c\uac70 \uc624\ub958: ",ce)}}L.socket_reactive.group_detail&&L.socket_reactive.group_detail.info.id==b.content.group_id&&L.socket_reactive.group_detail.update_from_notification(b),L.noti.PushLocal({id:b.code,title:`${L.groups[P][B][b.content.group_id].name}: ${L.lang.text.Nakama.ReqContTitle}`,group_ln:"diychat",icon:L.groups[P][B][b.content.group_id].img,extra_ln:{type:"NakamaReqContTitle",serverName:L.servers[P][B].info.name,userName:L.load_other_user(b.sender_id,P,B).display_name,group_id:b.content.group_id,user_id:b.sender_id,isOfficial:P,Target:B},smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},void 0,ce=>{L.socket_reactive.group_detail.info.id!=b.content.group_id&&L.modalCtrl.create({component:Mt.k,componentProps:{info:L.groups[P][B][b.content.group_id]}}).then(ke=>ke.present())});break;case-6:b.request=`${b.code}-${b.subject}`;break;case-7:b.request=`${L.servers[P][B].info.name}: ${L.lang.text.Nakama.SessionLogout}`,L.LoginAgain(b,P,B);break;default:console.log("\ud655\uc778\ub418\uc9c0 \uc54a\uc740 \uc2e4\uc2dc\uac04 \uc54c\ub9bc_nakama_noti: ",b),b.request=`${b.code}-${b.subject}`}se||(L.noti_origin[P]||(L.noti_origin[P]={}),L.noti_origin[P][B]||(L.noti_origin[P][B]={}),L.noti_origin[P][B][b.id]=b)})()}LoginAgain(b,P,B){this.alertCtrl.create({header:this.servers[P][B].info.name,message:this.lang.text.Nakama.LoginAgain,buttons:[{text:this.lang.text.Profile.login_toggle,handler:()=>{try{delete this.noti_origin[P][B][b.id]}catch{}this.rearrange_notifications(),this.link_group(P,B,!0)}}]}).then(L=>L.present())}WriteStorage_From_channel(b,P,B,L,se=0){var W=this;return(0,j.A)(function*(){let ye=JSON.parse(JSON.stringify(b)),Me=yield W.global.req_file_info(P),Xe=Math.ceil(Me.contents.length/ln.xM);if(W.OnTransfer[B]||(W.OnTransfer[B]={}),W.OnTransfer[B][L]||(W.OnTransfer[B][L]={}),W.OnTransfer[B][L][b.channel_id]||(W.OnTransfer[B][L][b.channel_id]={}),W.OnTransfer[B][L][b.channel_id][b.message_id]||(W.OnTransfer[B][L][b.channel_id][b.message_id]={index:Xe}),!W.OnTransfer[B][L][b.channel_id][b.message_id].OnTransfer){b.content.transfer_index||(b.content.transfer_index=W.OnTransfer[B][L][b.channel_id][b.message_id]);for(let ce=se;ce<Xe;ce++)try{let ke=W.global.req_file_part_base64(Me,ce,P);yield W.servers[B][L].client.writeStorageObjects(W.servers[B][L].session,[{collection:`file_${ye.channel_id.replace(/[.]/g,"_")}`,key:`msg_${ye.message_id}_${ce}`,permission_read:2,permission_write:1,value:{data:ke}}]),W.OnTransfer[B][L][b.channel_id][b.message_id].index=Xe-1-ce,W.OnTransfer[B][L][b.channel_id][b.message_id].OnTransfer="upload"}catch(ke){console.log("WriteStorage_From_channel: ",ke),W.p5toast.show({text:`${W.lang.text.Nakama.FailedUpload}: ${ke}`});break}setTimeout(()=>{delete W.OnTransfer[B][L][b.channel_id][b.message_id],W.global.remove_req_file_info(b,P),W.p5toast.show({text:`${W.lang.text.ChatRoom.forceSQL}: ${W.lang.text.ChatRoom.SendFile}: ${ye.content.filename}`})},100)}})()}ReadStorage_From_channel(b,P,B,L,se=0){var W=this;return(0,j.A)(function*(){let ye=JSON.parse(JSON.stringify(b));if(W.OnTransfer[B]||(W.OnTransfer[B]={}),W.OnTransfer[B][L]||(W.OnTransfer[B][L]={}),W.OnTransfer[B][L][b.channel_id]||(W.OnTransfer[B][L][b.channel_id]={}),W.OnTransfer[B][L][b.channel_id][b.message_id]||(W.OnTransfer[B][L][b.channel_id][b.message_id]={index:ye.content.partsize}),W.OnTransfer[B][L][b.channel_id][b.message_id].OnTransfer)return;b.content.transfer_index||(b.content.transfer_index=W.OnTransfer[B][L][b.channel_id][b.message_id]);let Me=!0;for(let Xe=se,ce=ye.content.partsize;Xe<ce;Xe++)try{let ke=yield W.servers[B][L].client.readStorageObjects(W.servers[B][L].session,{object_ids:[{collection:`file_${ye.channel_id.replace(/[.]/g,"_")}`,key:`msg_${ye.message_id}_${Xe}`,user_id:ye.sender_id}]});W.global.save_file_part(P,Xe,ke.objects[0].value.data),W.OnTransfer[B][L][b.channel_id][b.message_id].index=ce-1-Xe,W.OnTransfer[B][L][b.channel_id][b.message_id].OnTransfer="download"}catch(ke){console.log("ReadStorage_From_channel: ",ke),Me=!1,W.p5toast.show({text:`${W.lang.text.Nakama.FailedDownload}: ${ke}`});break}if(Me){if(b.content.url)b.content.thumbnail=b.content.url;else{b.content.text=[W.lang.text.ChatRoom.SavingFile],delete b.content.transfer_index,delete W.OnTransfer[B][L][ye.channel_id][ye.message_id].index,W.p5toast.show({text:`${W.lang.text.ChatRoom.forceSQL}: ${W.lang.text.ChatRoom.SavingFile}: ${ye.content.filename}`});let ce=[],ke=0;yield new Promise(function(){var lt=(0,j.A)(function*(Be){for(let ht=0,Nt=ye.content.partsize;ht<Nt;ht++)try{let nn=yield W.indexed.GetFileInfoFromDB(`${P}_part/${ht}.part`);ke+=nn.contents.length,ce[ht]=nn}catch(nn){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",nn);break}try{let ht=new Int8Array(ke),Nt=0;for(let nn=0,dn=ce.length;nn<dn;nn++)ht.set(ce[nn].contents,Nt),Nt+=ce[nn].contents.length;yield W.indexed.saveInt8ArrayToUserPath(ht,P);for(let nn=0,dn=ye.content.partsize;nn<dn;nn++)W.indexed.removeFileFromUserPath(`${P}_part/${nn}.part`);yield W.indexed.removeFileFromUserPath(`${P}_part`),W.global.remove_req_file_info(ye,P),b.content.text=[W.lang.text.ChatRoom.FileSaved]}catch(ht){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",ht)}Be(void 0)});return function(Be){return lt.apply(this,arguments)}}()),W.noti.ClearNoti(8)}let Xe;if(ye.content.path=P,"godot"!=ye.content.viewer){let ce=yield W.indexed.loadBlobFromUserPath(P,b.content.type||"");Xe=URL.createObjectURL(ce)}yield W.global.modulate_thumbnail((W.OnTransferMessage[ye.message_id]||b).content,Xe),delete W.OnTransfer[B][L][ye.channel_id][ye.message_id],delete W.OnTransferMessage[ye.message_id]}return Me})()}sync_save_file(b,P,B,L,se=""){var W=this;return(0,j.A)(function*(){try{b.blob.size&&(yield W.indexed.saveBlobToUserPath(b.blob,b.path));let ye=yield W.global.req_file_info(b.path);b.partsize=Math.ceil((b.filesize||ye.contents.length)/ln.xM),delete b.blob,yield W.servers[P][B].client.writeStorageObjects(W.servers[P][B].session,[{collection:L,key:se||b.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),permission_read:2,permission_write:1,value:b}]);for(let Me=0;Me<b.partsize;Me++){let Xe=W.global.req_file_part_base64(ye,Me,b.path);yield W.servers[P][B].client.writeStorageObjects(W.servers[P][B].session,[{collection:L,key:se?`${se}_${Me}`:b.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${Me}`,permission_read:2,permission_write:1,value:{data:Xe}}])}W.indexed.removeFileFromUserPath(`${b.path}.history`)}catch(ye){console.log("SyncSaveFailed: ",ye)}})()}sync_load_file(b,P,B,L,se="",W="",ye=!0){var Me=this;return(0,j.A)(function*(){try{return{from:"local",value:yield Me.indexed.loadBlobFromUserPath(b.alt_path||b.path,b.type||"")}}catch{try{let ke=(yield Me.servers[P][B].client.readStorageObjects(Me.servers[P][B].session,{object_ids:[{collection:L,key:W||b.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:se||Me.servers[P][B].session.user_id}]})).objects[0].value,lt=!0;for(let Be=0;Be<ke.partsize;Be++)try{let ht=yield Me.servers[P][B].client.readStorageObjects(Me.servers[P][B].session,{object_ids:[{collection:L,key:W?`${W}_${Be}`:b.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${Be}`,user_id:se||Me.servers[P][B].session.user_id}]});Me.global.save_file_part(b.alt_path||b.path,Be,ht.objects[0].value.data)}catch(ht){console.log("ReadStorage_From_channel: ",ht),lt=!1,Me.p5toast.show({text:`${Me.lang.text.Nakama.FailedDownload}: ${ht}`}),b.url&&(b.thumbnail=b.url);break}if(lt){delete b.url,b.text=[Me.lang.text.ChatRoom.SavingFile],ye&&Me.p5toast.show({text:`${Me.lang.text.ChatRoom.forceSQL}: ${Me.lang.text.ChatRoom.SavingFile}: ${ke.filename}`});let Be=[],ht=0;yield new Promise(function(){var Nt=(0,j.A)(function*(nn,dn){for(let Sn=0,Wn=ke.partsize;Sn<Wn;Sn++)try{let zn=yield Me.indexed.GetFileInfoFromDB(`${b.alt_path||b.path}_part/${Sn}.part`);ht+=zn.contents.length,Be[Sn]=zn}catch(zn){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",zn);break}try{let Sn=new Int8Array(ht),Wn=0;for(let zn=0,yr=Be.length;zn<yr;zn++)Sn.set(Be[zn].contents,Wn),Wn+=Be[zn].contents.length;yield Me.indexed.saveInt8ArrayToUserPath(Sn,b.alt_path||b.path);for(let zn=0,yr=ke.partsize;zn<yr;zn++)Me.indexed.removeFileFromUserPath(`${b.alt_path||b.path}_part/${zn}.part`);yield Me.indexed.removeFileFromUserPath(`${b.alt_path||b.path}_part`)}catch(Sn){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",Sn),dn()}nn(void 0)});return function(nn,dn){return Nt.apply(this,arguments)}}()),Me.noti.ClearNoti(8),Me.indexed.removeFileFromUserPath(`${b.alt_path||b.path}.history`)}return{from:"remote",value:yield Me.indexed.loadBlobFromUserPath(b.alt_path||b.path,ke.type||"")}}catch(ce){return{from:"failed",value:null,error:ce}}}})()}sync_remove_file(b,P,B,L,se="",W=""){var ye=this;return(0,j.A)(function*(){try{yield ye.indexed.removeFileFromUserPath(b)}catch{}try{let Xe=(yield ye.servers[P][B].client.readStorageObjects(ye.servers[P][B].session,{object_ids:[{collection:L,key:b.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:se||ye.servers[P][B].session.user_id}]})).objects[0].value;try{ye.servers[P][B].client.rpc(ye.servers[P][B].session,"remove_channel_file",{collection:L,key:(W||Xe.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120))+"_"})}catch{}yield ye.servers[P][B].client.deleteStorageObjects(ye.servers[P][B].session,{object_ids:[{collection:L,key:W||Xe.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)}]})}catch{}})()}AddressToQRCodeAct(b,P=!1){var B=this;return(0,j.A)(function*(){let L=[];if(b.open_profile&&L.push({type:"open_profile"}),b.tmp_user){let se=b.tmp_user[0].split(",");B.users.self.email=se[0],B.users.self.password=se[1],B.users.self.display_name=se[2],B.users.self.online=!0,B.save_self_profile()}if(b.server)for(let se=0,W=b.server.length;se<W;se++){let ye=b.server[se].split(",");L.push({type:"server",value:{name:ye[0]||"No named server",target:ye[0]||"No named server",address:ye[1]||"192.168.0.1",useSSL:ye[2]||!1,port:ye[3]||7350,key:ye[4]||"defaultkey",isOfficial:"unofficial"}})}if(b.group)for(let se=0,W=b.group.length;se<W;se++){let ye=b.group[se].split(",");L.push({type:"group",name:ye[0],id:ye[1]})}if(b.group_dedi){let se=b.group_dedi[0].split(",");L.push({type:"group_dedi",value:{address:se[0],channel:se[1]}})}if(b.open_prv_channel){let se=b.open_prv_channel[0].split(",");L.push({type:"open_prv_channel",user_id:se[0],isOfficial:se[1]||"official",target:se[2]||"DevTestServer"})}if(b.open_channel){let se=b.open_channel[0].split(",");L.push({type:"open_channel",group_id:se[0],isOfficial:se[1],target:se[2]})}if(b.rtcserver)for(let se=0,W=b.rtcserver.length;se<W;se++){let ye=b.rtcserver[se].split("]"),Me=ye[0].split("[")[1],Xe=ye[1].split(",");L.push({type:"rtcserver",value:{urls:Me.split(","),username:Xe[1],credential:Xe[2]}})}if(b.voidDraw&&"http:"==window.location.protocol){let se=b.voidDraw[0].split(",");L.push({type:"voidDraw",address:se[0],channel:se[1]})}if(b.postViewer&&L.push({type:"postViewer",address:b.postViewer[0]}),P)return L;yield B.act_from_QRInfo(L)})()}act_from_QRInfo(b){var P=this;return(0,j.A)(function*(){for(let B=0,L=b.length;B<L;B++)switch(b[B].type){case"open_profile":P.nav.navigateForward("portal/settings/group-server");break;case"tmp_user":break;case"server":if(P.statusBar.groupServer.unofficial[b[B].value.name])P.p5toast.show({text:`${P.lang.text.Nakama.AlreadyHaveTargetName}: ${b[B].value.name}`}),delete b[B].value.name,yield P.modalCtrl.create({component:gt.K,componentProps:{data:b[B].value}}).then(Xe=>{Xe.present()});else{let Xe={name:decodeURIComponent(b[B].value.name),target:decodeURIComponent(b[B].value.target),address:decodeURIComponent(b[B].value.address),port:b[B].value.port,useSSL:b[B].value.useSSL,isOfficial:b[B].value.isOfficial,key:decodeURIComponent(b[B].value.key)};yield P.add_group_server(Xe),yield P.init_session(Xe)}break;case"group_dedi":for(let Xe=0,ce=20;Xe<ce&&!P.lang.text.MinimalChat.leave_chat_group;Xe++)yield new Promise(ke=>setTimeout(ke,1e3));yield P.global.RemoveAllModals(),P.navCtrl.navigateForward("minimal-chat",{animation:vt.V5,state:{address:b[B].value.address,channel:b[B].value.channel,name:P.users.self.display_name}});break;case"group":P.AfterLoginActDone?yield P.try_add_group(b[B]):P.AfterLoginAct.push((0,j.A)(function*(){yield P.try_add_group(b[B])}));break;case"open_prv_channel":if(P.AfterLoginActDone){let Xe=yield P.join_chat_with_modulation(b[B].user_id,2,b[B].isOfficial,b[B].target,!0);P.go_to_chatroom_without_admob_act(Xe)}else P.AfterLoginAct.push((0,j.A)(function*(){let Xe=yield P.join_chat_with_modulation(b[B].user_id,2,b[B].isOfficial,b[B].target,!0);P.go_to_chatroom_without_admob_act(Xe)}));break;case"open_channel":if(P.AfterLoginActDone){let Xe=yield P.join_chat_with_modulation(b[B].group_id,3,b[B].isOfficial,b[B].target,!0);P.go_to_chatroom_without_admob_act(Xe)}else P.AfterLoginAct.push((0,j.A)(function*(){let Xe=yield P.join_chat_with_modulation(b[B].group_id,3,b[B].isOfficial,b[B].target,!0);P.go_to_chatroom_without_admob_act(Xe)}));break;case"rtcserver":let W=[];for(let Xe=0,ce=20;Xe<ce&&!P.lang.text.WebRTCDevManager.NoRegServer;Xe++)yield new Promise(ke=>setTimeout(ke,1e3));let ye=yield P.indexed.loadTextFromUserPath("servers/webrtc_server.json");W=JSON.parse(ye),W.push(b[B].value),yield P.indexed.saveTextFileToUserPath(JSON.stringify(W),"servers/webrtc_server.json");break;case"voidDraw":P.modalCtrl.create({component:St.c,componentProps:{remote:{address:b[B].address,channel:b[B].channel}}}).then(Xe=>Xe.present());break;case"postViewer":for(let Xe=0,ce=20;Xe<ce&&!P.lang.text.PostViewer.OpenFromViewer;Xe++)yield new Promise(ke=>setTimeout(ke,1e3));let Me=yield fetch(b[B].address);if(Me.ok){let Xe=yield Me.text(),ce=JSON.parse(Xe);P.open_post(ce,-2)}else P.p5toast.show({text:`${P.lang.text.AddPost.NoPostOutLink}: ${Me.statusText}`});break;default:throw"\uc9c0\uc815\ub41c \ud2c0 \uc544\ub2d8"}})()}load_local_post_with_id(b,P,B,L){var se=this;return(0,j.A)(function*(){let W=yield se.indexed.loadTextFromUserPath(`servers/${P}/${B}/posts/${L}/${b}/info.json`);try{try{if(se.posts_orig[P][B][L][b])throw"exist"}catch(Me){if("exist"==Me)throw"\uc774\ubbf8 \uc788\ub294 \uac8c\uc2dc\ubb3c"}let ye=JSON.parse(W);if(ye.server={name:se.lang.text.AddGroup.UseLocalStorage,isOfficial:"local",target:"target",local:!0},ye.mainImage)try{if(ye.mainImage.url)ye.mainImage.thumbnail=ye.mainImage.url;else{let Me=yield se.indexed.loadBlobFromUserPath(ye.mainImage.path,ye.mainImage.type);ye.mainImage.blob=Me;let Xe=URL.createObjectURL(Me);ye.mainImage.thumbnail=Xe,setTimeout(()=>{URL.revokeObjectURL(Xe)},5e3)}}catch{}return se.posts_orig[P][B][L][b]=ye,!0}catch{return!1}})()}load_server_post_with_id(b,P,B,L,se){var W=this;return(0,j.A)(function*(){try{let ye={path:`servers/${P}/${B}/posts/${L}/${b}/info.json`,type:"application/json"},Me=yield W.sync_load_file(ye,P,B,"server_post",L,b,!1),Xe=yield Me.value.text(),ce=JSON.parse(Xe);se&&(ce.is_me=!0);let ke=new Blob([JSON.stringify(ce)],{type:"application/json"});W.indexed.saveBlobToUserPath(ke,ye.path),ce.server={isOfficial:P,target:B};try{ce.server.name=W.servers[P][B].info.name}catch{ce.server.name=W.lang.text.Nakama.DeletedServer}if(ce.mainImage)if(ce.mainImage.url)ce.mainImage.thumbnail=ce.mainImage.url;else{let lt={path:ce.mainImage.path,alt_path:`servers/${P}/${B}/posts/${L}/${b}/mainImage.png`,type:"image/png"},Be=(yield W.sync_load_file(lt,P,B,"server_post",L,`${b}_mainImage`,!1)).value;ce.mainImage.blob=Be;let ht=URL.createObjectURL(Be);ce.mainImage.thumbnail=ht,setTimeout(()=>{URL.revokeObjectURL(ht)},5e3)}try{ce.creator_name=W.load_other_user(L,P,B).display_name||ce.creator_name}catch{}if(W.posts_orig[P][B]||(W.posts_orig[P][B]={}),W.posts_orig[P][B][L]||(W.posts_orig[P][B][L]={}),W.posts_orig[P][B][L][b]=ce,"local"==Me.from)try{if(!(yield W.servers[P][B].client.readStorageObjects(W.servers[P][B].session,{object_ids:[{collection:"server_post",key:b,user_id:L}]})).objects.length)throw"Not RemoteExist"}catch(lt){if("Not RemoteExist"==lt)throw"RemoveSelf"}return ce}catch(ye){return"RemoveSelf"==ye&&W.RemovePost(W.posts_orig[P][B][L][b],!0),!1}})()}load_posts_counter(){var b=this;return(0,j.A)(function*(){let P={};try{let se=yield b.indexed.loadTextFromUserPath("servers/post_counter.json"),W=JSON.parse(se);P=se,b.post_counter=W}catch{}let B=Number(yield b.indexed.loadTextFromUserPath("servers/local/target/posts/me/counter.txt"))||0;b.post_counter.local.target.me=B;let L=b.get_all_server_info(!0,!0);for(let se=0,W=L.length;se<W;se++){let ye=L[se].isOfficial,Me=L[se].target;b.post_counter[ye][Me]||(b.post_counter[ye][Me]={});try{let Xe=yield b.servers[ye][Me].client.readStorageObjects(b.servers[ye][Me].session,{object_ids:[{collection:"server_post",key:"Counter",user_id:b.servers[ye][Me].session.user_id}]}),ce=0;Xe.objects.length&&(ce=Xe.objects[0].value.counter),b.post_counter[ye][Me][b.servers[ye][Me].session.user_id]=ce}catch(Xe){console.log("\ub0b4 \uc11c\ubc84 \uac8c\uc2dc\ubb3c \uce74\uc6b4\ud130 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Xe)}if(b.users[ye][Me]){let Xe=Object.keys(b.users[ye][Me]);for(let ce=0,ke=Xe.length;ce<ke;ce++)try{let lt=yield b.servers[ye][Me].client.readStorageObjects(b.servers[ye][Me].session,{object_ids:[{collection:"server_post",key:"Counter",user_id:Xe[ce]}]}),Be=0;lt.objects.length&&(Be=lt.objects[0].value.counter),b.post_counter[ye][Me][Xe[ce]]=Be}catch(lt){console.log("\ub2e4\ub978 \uc0ac\ub78c\uc758 \uce74\uc6b4\ud130 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",lt)}}P!=JSON.stringify(b.post_counter)&&(yield b.indexed.saveTextFileToUserPath(JSON.stringify(b.post_counter),"servers/post_counter.json"),b.has_new_post=!0)}})()}}return(Y=be).\u0275fac=function(b){return new(b||Y)(zt.KVO(Rt.G),zt.KVO(tn.j),zt.KVO(fn.n),zt.KVO(bn.r),zt.KVO(Tn.W3),zt.KVO(Tn.hG),zt.KVO(Ln.y),zt.KVO(ln.z3),zt.KVO(An.q9),zt.KVO(zt.SKi),zt.KVO(Tn.Xi),zt.KVO(An.q9))},Y.\u0275prov=zt.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"}),be})()},4164:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{C:()=>p});var j=fe(467),O=fe(8326),Ie=fe(3953),o=fe(5374),oe=fe(3656),H=fe(4237),v=fe(8065),w=fe(9900),g=fe(4234),y=fe(1357),C=fe(482),E=fe(177);function s(l,m){if(1&l){const c=Ie.RV6();Ie.j41(0,"td")(1,"ion-button",9),Ie.bIt("click",function(){Ie.eBV(c);const _=Ie.XpG(2);return Ie.Njj(_.notification_react(-5))}),Ie.EFF(2),Ie.k0s()()}if(2&l){const c=Ie.XpG(2);Ie.R7$(2),Ie.SpI(" ",c.lang.text.OtherProfile.add_to_group," ")}}function u(l,m){if(1&l){const c=Ie.RV6();Ie.j41(0,"td")(1,"ion-button",9),Ie.bIt("click",function(){Ie.eBV(c);const _=Ie.XpG(2);return Ie.Njj(_.notification_react(-2))}),Ie.EFF(2),Ie.k0s()()}if(2&l){const c=Ie.XpG(2);Ie.R7$(2),Ie.SpI(" ",c.lang.text.OtherProfile.add_friend," ")}}function a(l,m){if(1&l){const c=Ie.RV6();Ie.j41(0,"td")(1,"ion-button",10),Ie.bIt("click",function(){Ie.eBV(c);const _=Ie.XpG(2);return Ie.Njj(_.kick_user_from_group())}),Ie.EFF(2),Ie.k0s()()}if(2&l){const c=Ie.XpG(2);Ie.R7$(2),Ie.SpI(" ",c.lang.text.OtherProfile.kick_from_group," ")}}function d(l,m){if(1&l){const c=Ie.RV6();Ie.j41(0,"div",5)(1,"table",6)(2,"tr"),Ie.DNE(3,s,3,1,"td",7)(4,u,3,1,"td",7),Ie.j41(5,"td")(6,"ion-button",8),Ie.bIt("click",function(){Ie.eBV(c);const _=Ie.XpG();return Ie.Njj(_.create_chat())}),Ie.EFF(7),Ie.k0s()(),Ie.DNE(8,a,3,1,"td",7),Ie.k0s()()()}if(2&l){const c=Ie.XpG();Ie.R7$(3),Ie.Y8G("ngIf",c.has_admin&&c.additional_buttons[-5]),Ie.R7$(),Ie.Y8G("ngIf",c.additional_buttons[-2]),Ie.R7$(2),Ie.Y8G("disabled",c.lock_create_chat),Ie.R7$(),Ie.SpI(" ",c.lang.text.OtherProfile.privacy_chat," "),Ie.R7$(),Ie.Y8G("ngIf",c.has_admin)}}let p=(()=>{var l;class m{constructor(h,_,M,x,A,T,N,I){this.modalCtrl=h,this.navParams=_,this.nakama=M,this.statusBar=x,this.p5toast=A,this.lang=T,this.mClipboard=N,this.global=I,this.info={},this.group_info={},this.additional_buttons={},this.has_admin=!1,this.BackButtonPressed=!1,this.onDismissData={},this.lock_create_chat=!1}InitBrowserBackButtonOverride(){try{window.history.replaceState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}catch(h){console.log("\ud0d0\uc0c9 \uae30\ub85d \ubcc0\uacbd\uc2dc \uc624\ub958 \ubc1c\uc0dd: ",h)}}ngOnInit(){var h=this;return(0,j.A)(function*(){h.InitBrowserBackButtonOverride(),h.info=h.navParams.get("info"),h.has_admin=h.navParams.get("has_admin"),h.group_info=h.navParams.get("group"),h.isOfficial=h.group_info.server.isOfficial,h.target=h.group_info.server.target,h.nakama.load_other_user(h.info.user.id,h.isOfficial,h.target),h.nakama.socket_reactive["others-profile"]=_=>{h.p5canvas.ChangeImageSmooth(_)},h.nakama.socket_reactive["others-online"]=()=>{h.p5canvas.loop()},h.catch_user_noties()})()}ionViewWillEnter(){this.OtherCanvasDiv=document.getElementById("OtherUserCanvasDiv"),this.p5canvas=new O(h=>{let M,x,A,N,R,T=1,I="0, 0, 0",z=0;h.setup=()=>{let Q=h.color(`#${(this.info.user.id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6)}`);I=`${h.red(Q)}, ${h.green(Q)}, ${h.blue(Q)}`,N=h.createDiv(),N.style("width","100%"),N.style("height","100%"),N.style("background-image",`linear-gradient(to top, rgba(${I}, 0), rgba(${I}, 0))`),N.parent(this.OtherCanvasDiv),h.noCanvas(),h.pixelDensity(1),R=h.createDiv();const ne="156px";R.style("width",ne),R.style("height",ne),R.style("position","absolute"),R.style("top","120px"),R.style("left","50%"),R.style("transform","translateX(-50%)"),R.style("border-radius",ne),R.style("background-image","url(assets/data/avatar.svg)"),R.style("background-position","center"),R.style("background-repeat","no-repeat"),R.style("background-size","cover"),R.parent(this.OtherCanvasDiv);let V=h.createDiv();const X="36px";V.style("background-color",this.info.user.online?this.statusBar.colors.online:this.statusBar.colors.offline),V.style("width",X),V.style("height",X),V.style("position","absolute"),V.style("top","128px"),V.style("left",this.OtherCanvasDiv.clientWidth/2+38+"px"),setTimeout(()=>{V.style("left",this.OtherCanvasDiv.clientWidth/2+38+"px")},0),V.style("border-radius",X),V.parent(this.OtherCanvasDiv),h.OnlineLamp=V,x=h.createImg(this.info.user.img,"profile_img"),x.style("width",ne),x.style("height",ne),x.style("border-radius",ne),x.style("position","absolute"),x.style("object-fit","cover"),this.info.user.img||x.hide(),x.parent(R),A=h.createImg(void 0,"before_img"),A.style("width",ne),A.style("height",ne),A.style("border-radius",ne),A.style("position","absolute"),A.style("object-fit","cover"),A.hide(),A.parent(R),h.ChangeImageSmooth=ie=>{R.style("background-image","url(assets/data/avatar.svg)"),ie?(A.elt.src=void 0,A.hide()):(A.elt.src=x.elt.src,A.show()),x.elt.src=ie,T=1,h.loop(),this.info.user.img=ie,ie?x.show():x.hide()};let F=h.createDiv();F.style("width","100%"),F.style("position","absolute"),F.style("top","330px"),F.style("display","flex"),F.style("flex-direction","column"),F.parent(this.OtherCanvasDiv),M=h.createDiv(this.info.user.display_name||this.lang.text.Profile.noname_user),M.style("font-size","36px"),M.style("font-weight","bold"),M.style("align-self","center"),M.style("width","80%"),M.style("text-align","center"),M.parent(F);let K=h.createDiv(this.info.user.id);K.style("color","var(--ion-color-medium)"),K.style("align-self","center"),K.style("margin-top","36px"),K.style("width","80%"),K.style("text-align","center"),K.style("cursor","copy"),K.parent(F),K.elt.onclick=()=>{this.copy_id()}},h.draw=()=>{T>0&&(T-=.025,A.style("opacity",`${T}`),x.style("opacity",""+(1-T))),this.info.user.online?this.lerpVal<1?this.lerpVal+=.025:this.lerpVal=1:this.lerpVal>0?this.lerpVal-=.025:this.lerpVal=0,z<1&&(z+=.025),x.style("filter",`grayscale(${h.lerp(.9,0,this.lerpVal)}) contrast(${h.lerp(1.4,1,this.lerpVal)})`),A.style("filter",`grayscale(${h.lerp(.9,0,this.lerpVal)}) contrast(${h.lerp(1.4,1,this.lerpVal)})`),N.style("background-image",`linear-gradient(to top, rgba(${I}, ${h.min(1,z)/2}), rgba(${I}, 0))`),T<=0&&(this.lerpVal>=1||this.lerpVal<=0)&&z>=1&&(this.info.user.img&&R.style("background-image",""),this.p5canvas.OnlineLamp.style("background-color",this.info.user.online?this.statusBar.colors.online:this.statusBar.colors.offline),h.noLoop())},h.windowResized=()=>{h.OnlineLamp.style("left",this.OtherCanvasDiv.clientWidth/2+38+"px")}})}catch_user_noties(){this.nakama.noti_origin[this.isOfficial]&&this.nakama.noti_origin[this.isOfficial][this.target]&&Object.keys(this.nakama.noti_origin[this.isOfficial][this.target]).forEach(M=>{this.nakama.noti_origin[this.isOfficial][this.target][M].sender_id==this.info.user.id&&(this.additional_buttons[this.nakama.noti_origin[this.isOfficial][this.target][M].code.toString()]=M)})}notification_react(h){switch(h){case 0:case-1:case-2:break;case-5:this.nakama.servers[this.isOfficial][this.target].client.addGroupUsers(this.nakama.servers[this.isOfficial][this.target].session,this.group_info.group_id||this.group_info.id,[this.info.user.id]).then(_=>{_||console.warn("\ubc34 \uc720\uc800\uc5d0 \ub300\ud55c\uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),this.p5toast.show({text:`${this.lang.text.OtherProfile.added_to_group}: ${this.info.user.display_name||this.lang.text.Profile.noname_user}`}),this.nakama.servers[this.isOfficial][this.target].client.deleteNotifications(this.nakama.servers[this.isOfficial][this.target].session,[this.additional_buttons[h.toString()]]).then(M=>{M||console.warn("\uc54c\ub9bc \ubd80\uc815 \uac80\ud1a0 \ud544\uc694"),delete this.additional_buttons[h.toString()],this.nakama.update_notifications(this.isOfficial,this.target),this.onDismissData={id:this.info.user.id,act:"accept_join"},this.info.status="online",this.p5canvas.loop()})});break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ubc18\uc751: ",h)}}create_chat(){var h=this;return(0,j.A)(function*(){if(!h.lock_create_chat){h.lock_create_chat=!0;try{let _=yield h.nakama.join_chat_with_modulation(h.info.user.id,2,h.isOfficial,h.target,!0);h.nakama.go_to_chatroom_without_admob_act(_),h.lock_create_chat=!1,h.modalCtrl.dismiss({dismiss:!0})}catch(_){h.lock_create_chat=!1,console.error(_)}}})()}kick_user_from_group(){switch(this.info.state){case 0:case 1:case 2:this.after_announce_kick();break;case 3:this.nakama.servers[this.isOfficial][this.target].client.deleteNotifications(this.nakama.servers[this.isOfficial][this.target].session,[this.additional_buttons[-5]]).then(h=>{h||console.warn("\uc54c\ub9bc \ubd80\uc815 \uac80\ud1a0 \ud544\uc694"),this.after_announce_kick(),delete this.additional_buttons[-5],this.nakama.update_notifications(this.isOfficial,this.target),this.info.status="missing",this.p5canvas.loop()});break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uc0c1\ud0dc: ",this.info)}}after_announce_kick(){this.nakama.servers[this.isOfficial][this.target].client.kickGroupUsers(this.nakama.servers[this.isOfficial][this.target].session,this.group_info.group_id||this.group_info.id,[this.info.user.id]).then(h=>{this.p5toast.show({text:`${this.lang.text.OtherProfile.kicked_from_group}: ${this.info.user.display_name||this.lang.text.Profile.noname_user}`}),this.modalCtrl.dismiss({id:this.info.user.id,act:"kick"})})}copy_id(){this.mClipboard.copy(this.info.user.id).catch(h=>{this.global.WriteValueToClipboard("text/plain",this.info.user.id)})}ngOnDestroy(){delete this.nakama.socket_reactive["others-profile"],delete this.nakama.socket_reactive["others-online"],this.p5canvas.remove()}}return(l=m).\u0275fac=function(h){return new(h||l)(Ie.rXU(o.W3),Ie.rXU(oe.y8),Ie.rXU(H.X),Ie.rXU(v.j),Ie.rXU(w.G),Ie.rXU(g.y),Ie.rXU(y.B),Ie.rXU(C.z3))},l.\u0275cmp=Ie.VBU({type:l,selectors:[["app-others-profile"]],decls:9,vars:2,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["id","OtherUserCanvasDiv",2,"position","absolute","width","100%","height","100%","display","flex"],["style","width: 100%; position: absolute; bottom: 0;",4,"ngIf"],[2,"width","100%","position","absolute","bottom","0"],["id","input_table",2,"width","100%","background-color","black"],[4,"ngIf"],["expand","block",3,"click","disabled"],["expand","block",3,"click"],["color","danger","expand","block",3,"click"]],template:function(h,_){1&h&&(Ie.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ie.EFF(3),Ie.k0s(),Ie.j41(4,"ion-buttons",1),Ie.bIt("click",function(){return _.modalCtrl.dismiss(_.onDismissData)}),Ie.nrm(5,"ion-back-button",2),Ie.k0s()()(),Ie.j41(6,"ion-content"),Ie.nrm(7,"div",3),Ie.DNE(8,d,9,5,"div",4),Ie.k0s()),2&h&&(Ie.R7$(3),Ie.JRh(_.lang.text.OtherProfile.Title),Ie.R7$(5),Ie.Y8G("ngIf","online"==_.statusBar.groupServer[_.isOfficial][_.target]))},dependencies:[E.bT,o.Jm,o.QW,o.W9,o.eU,o.BC,o.ai,o.el],styles:[".fore-gradient[_ngcontent-%COMP%]{position:relative;background-image:linear-gradient(to top,#000,#0000);width:100%;height:100%}.content_size[_ngcontent-%COMP%]{height:360px}"]}),m})()},9900:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{G:()=>oe});var j=fe(8326),ge=fe(482),Ie=fe(3953),o=function(H){return H[H.Idle=0]="Idle",H[H.DivFadeIn=1]="DivFadeIn",H[H.BorderAlert=2]="BorderAlert",H[H.Reading=3]="Reading",H[H.FadeOut=4]="FadeOut",H}(o||{});let oe=(()=>{var H;class v{constructor(){this.isShowing=!1,this.stack=[],this.alert=[],this.status=o.Idle}show(g){let y;g.time=(new Date).getTime(),g.lateable||(this.AlertNow=g,this.status=o.DivFadeIn),this.alert.length&&(y=this.alert[this.alert.length-1]),this.AlertNow&&this.AlertNow.text==g.text?this.status=o.DivFadeIn:y&&y.text==g.text||this.alert.push(g),this.isShowing?this.status==o.FadeOut&&(this.status=o.DivFadeIn):(this.CurrentToast=new j(E=>{let s,u,a,d=0,p=0,l=0;E.setup=()=>{E.noCanvas(),s=E.createDiv(),s.style("position: absolute; left: 0; top: 0; z-index: 1"),s.style("width: 100%; height: fit-content"),s.style("padding: 32px;"),s.style("display: flex; justify-content: center;"),s.style("pointer-events: none"),m(),a=E.createDiv(),a.parent(s),a.style("display: flex; justify-content: center;"),a.style("width: fit-content; height: fit-content"),a.style("border-radius: 24px"),a.style("background: #"+(ge.ud?"30564e88":"b9543788")),a.style("padding: 4px"),u=E.createDiv(),u.parent(a),u.style("display: flex; justify-content: center;"),u.style("width: fit-content; height: fit-content"),u.style("word-break: break-all"),u.style("background: #"+(ge.ud?"30564e88":"b9543788")),u.style("border-radius: 20px"),u.style("padding: 12px"),u.style("color: white"),this.AlertNow||(this.AlertNow=this.alert.shift()),u.html(this.AlertNow.text),c(),this.status=o.DivFadeIn},E.draw=()=>{switch(this.status){case o.DivFadeIn:d<1?d+=1:(d=1,p=1,this.status=o.BorderAlert,u.html(this.AlertNow.text));break;case o.BorderAlert:if(p>0)p-=.03;else{let _;p=0,_=this.AlertNow.duration?1e3*this.AlertNow.duration:24*(new TextEncoder).encode(this.AlertNow.text).length,l=E.millis()+_+960,this.status=o.Reading}break;case o.Reading:E.millis()>l&&(this.alert.length?(this.stack.push(this.AlertNow),this.AlertNow=this.alert.shift(),u.html(this.AlertNow.text),this.status=o.DivFadeIn):this.status=o.FadeOut);break;case o.FadeOut:d>0?d-=.04:h()}m(),c()};let m=()=>{s.style(`opacity: ${d}`)},c=()=>{let _=E.lerpColor(E.color("#"+(ge.ud?"30564e88":"b9543788")),E.color("#ffd94ebb"),p).levels;a.style(`padding: ${4*p}px`),u.style(`padding: ${E.lerp(16,12,p)}px`),u.style(`border-radius: ${E.lerp(24,20,p)}px`),a.style(`background: rgba(${_[0]}, ${_[1]}, ${_[2]}, ${_[3]/255})`)},h=()=>{this.stack=[...this.stack,this.AlertNow,...this.alert],this.AlertNow=void 0,this.alert.length=0,this.isShowing=!1,this.CurrentToast.remove()}}),this.isShowing=!0)}hide(){this.status=o.FadeOut}}return(H=v).\u0275fac=function(g){return new(g||H)},H.\u0275prov=Ie.jDH({token:H,factory:H.\u0275fac,providedIn:"root"}),v})()},9543:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{k:()=>M});var j=fe(467),O=fe(4164),ge=fe(9349),Ie=fe(3953),o=fe(3656),oe=fe(5374),H=fe(4237),v=fe(8065),w=fe(755),g=fe(4234),y=fe(482),C=fe(9900),E=fe(1357),s=fe(177),u=fe(4341);function a(x,A){if(1&x){const T=Ie.RV6();Ie.j41(0,"img",21),Ie.bIt("click",function(){Ie.eBV(T);const I=Ie.XpG(2);return Ie.Njj(I.copy_startup_address())}),Ie.k0s()}if(2&x){const T=Ie.XpG(2);Ie.Y8G("src",T.QRCodeSRC,Ie.B4B)}}function d(x,A){if(1&x&&(Ie.j41(0,"div"),Ie.DNE(1,a,1,1,"img",20),Ie.k0s()),2&x){const T=Ie.XpG();Ie.R7$(),Ie.Y8G("ngIf",T.QRCodeSRC)}}function p(x,A){if(1&x&&(Ie.j41(0,"ion-item",22)(1,"ion-label",23),Ie.EFF(2),Ie.k0s()()),2&x){const T=Ie.XpG();Ie.R7$(2),Ie.JRh(T.lang.text.GroupDetail.NotAcceptYet)}}function l(x,A){if(1&x&&(Ie.j41(0,"ion-item",22)(1,"ion-label",23),Ie.EFF(2),Ie.k0s()()),2&x){const T=Ie.XpG();Ie.R7$(2),Ie.JRh(T.lang.text.GroupDetail.MissedGroup)}}function m(x,A){if(1&x&&(Ie.j41(0,"ion-item-divider")(1,"ion-label"),Ie.EFF(2),Ie.k0s()()),2&x){const T=Ie.XpG();Ie.R7$(2),Ie.SpI("",T.lang.text.GroupDetail.Members+" ("+T.info.users.length+"/"+T.info.max_count+")"," ")}}function c(x,A){if(1&x){const T=Ie.RV6();Ie.j41(0,"ion-item",7),Ie.bIt("click",function(){const I=Ie.eBV(T).$implicit,z=Ie.XpG();return Ie.Njj(z.open_user_profile(I))}),Ie.nrm(1,"div",8),Ie.j41(2,"div",9),Ie.nrm(3,"img",10),Ie.k0s(),Ie.j41(4,"ion-label",11),Ie.EFF(5),Ie.k0s()()}if(2&x){const T=A.$implicit,N=Ie.XpG();Ie.R7$(),Ie.Aen("background-color: "+N.statusBar.colors[T.user.online?"online":"offline"]),Ie.R7$(2),Ie.Aen("filter: "+(T.user.online?"grayscale(0) contrast(1);":"grayscale(.9) contrast(1.4);")),Ie.Y8G("src",T.user.img,Ie.B4B),Ie.R7$(2),Ie.JRh(T.user.display_name||N.lang.text.Profile.noname_user)}}function h(x,A){if(1&x){const T=Ie.RV6();Ie.j41(0,"ion-item",7),Ie.bIt("click",function(){Ie.eBV(T);const I=Ie.XpG();return Ie.Njj(I.remove_group())}),Ie.j41(1,"ion-label",24),Ie.EFF(2),Ie.k0s()()}if(2&x){const T=Ie.XpG();Ie.R7$(2),Ie.JRh(T.lang.text.GroupDetail.BreakupGroup)}}function _(x,A){if(1&x){const T=Ie.RV6();Ie.j41(0,"ion-item",7),Ie.bIt("click",function(){Ie.eBV(T);const I=Ie.XpG();return Ie.Njj(I.leave_group())}),Ie.j41(1,"ion-label",24),Ie.EFF(2),Ie.k0s()()}if(2&x){const T=Ie.XpG();Ie.R7$(2),Ie.JRh(T.lang.text.GroupDetail.LeaveGroup)}}let M=(()=>{var x;class A{constructor(N,I,z,R,Q,ne,V,X,U){this.navParams=N,this.nakama=I,this.modalCtrl=z,this.statusBar=R,this.indexed=Q,this.lang=ne,this.global=V,this.p5toast=X,this.mClipboard=U,this.has_admin=!1,this.BackButtonPressed=!1,this.file_sel_id="",this.need_edit=!1,this.lock_modal_open=!1}InitBrowserBackButtonOverride(){try{window.history.replaceState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}catch(N){console.log("\ud0d0\uc0c9 \uae30\ub85d \ubcc0\uacbd\uc2dc \uc624\ub958 \ubc1c\uc0dd: ",N)}}ngOnInit(){var N=this;return(0,j.A)(function*(){N.InitBrowserBackButtonOverride(),N.info=N.navParams.get("info"),N.file_sel_id=`group_detail_${N.info.id}_${(new Date).getTime()}}`,N.info_orig=JSON.parse(JSON.stringify(N.navParams.get("info"))),N.nakama.socket_reactive.group_detail=N,N.QRCodeSRC=N.global.readasQRCodeFromString(`${ge.d2}godotchat_pwa/?group=${N.info.name},${N.info.id}`),N.info.server||(N.info.server=N.navParams.get("server")),N.isOfficial=N.info.server.isOfficial,N.target=N.info.server.target;try{N.has_admin=N.info.creator_id==N.nakama.servers[N.isOfficial][N.target].session.user_id}catch(I){console.log("check is admin failed: ",I),N.has_admin=!1}if(N.info.users&&N.info.users.length)for(let I=0,z=N.info.users.length;I<z;I++)N.info.users[I].is_me?(N.info.users[I].user=N.nakama.users.self,N.indexed.loadTextFromUserPath("servers/self/profile.img",(R,Q)=>{R&&Q&&(N.nakama.users.self.img=Q.replace(/"|\\|=/g,""))})):N.info.users[I].user.id?N.info.users[I].user=N.nakama.load_other_user(N.info.users[I].user.id,N.isOfficial,N.target):N.info.users.splice(I,1);try{N.nakama.servers[N.isOfficial][N.target].client.readStorageObjects(N.nakama.servers[N.isOfficial][N.target].session,{object_ids:[{collection:"group_public",key:`group_${N.info.id}`,user_id:N.info.creator_id}]}).then(I=>{I.objects.length?(N.nakama.groups[N.isOfficial][N.target][N.info.id].img=I.objects[0].value.img.replace(/"|=|\\/g,""),N.indexed.saveTextFileToUserPath(I.objects[0].value.img,`servers/${N.isOfficial}/${N.target}/groups/${N.info.id}.img`)):N.info.status&&(delete N.nakama.groups[N.isOfficial][N.target][N.info.id].img,N.indexed.removeFileFromUserPath(`servers/${N.isOfficial}/${N.target}/groups/${N.info.id}.img`))})}catch(I){console.log(I)}})()}update_from_notification(N){switch(N.code){case-4:case-5:this.update_GroupUsersList(N.server.isOfficial,N.server.target);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",N)}}update_GroupUsersList(N,I){this.nakama.servers[N][I].client.listGroupUsers(this.nakama.servers[N][I].session,this.info.id).then(z=>{let R=[];for(let Q=0,ne=z.group_users.length;Q<ne;Q++)if(z.group_users[Q].user.id==this.nakama.servers[N][I].session.user_id)R.push({state:z.group_users[Q].state,user:this.nakama.users.self});else{let V=this.nakama.load_other_user(z.group_users[Q].user.id,N,I);this.nakama.save_other_user(z.group_users[Q].user,N,I),R.push({state:z.group_users[Q].state,user:V})}this.info.users=R})}buttonClickInputFile(){var N=this;return(0,j.A)(function*(){if(N.has_admin)if(N.info.img)N.info.img=void 0,N.nakama.servers[N.info.server.isOfficial][N.info.server.target].client.deleteStorageObjects(N.nakama.servers[N.info.server.isOfficial][N.info.server.target].session,{object_ids:[{collection:"group_public",key:`group_${N.info.id}`}]}).then(I=>{N.indexed.removeFileFromUserPath(`servers/${N.info.server.isOfficial}/${N.info.server.target}/groups/${N.info.id}.img`)});else try{let I=yield N.global.GetValueFromClipboard();switch(I.type){case"text/plain":yield N.check_if_clipboard_available(I.value);break;case"image/png":return void N.inputImageSelected({target:{files:[I.value]}})}}catch{try{let z=yield N.mClipboard.paste();yield N.check_if_clipboard_available(z)}catch{document.getElementById(N.file_sel_id).click()}}})()}inputImageSelected(N){var I=this;return(0,j.A)(function*(){let z=yield I.global.GetBase64ThroughFileReader(N.target.files[0]);I.nakama.limit_image_size(z,Q=>{I.info.img=Q.canvas.toDataURL(),I.announce_update_group_image(I.info.img)}),document.getElementById(I.file_sel_id).value=""})()}announce_update_group_image(N){this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.writeStorageObjects(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,[{collection:"group_public",key:`group_${this.info.id}`,value:{img:N},permission_read:2,permission_write:1}]).then(I=>{this.indexed.saveTextFileToUserPath(JSON.stringify(N),`servers/${this.info.server.isOfficial}/${this.info.server.target}/groups/${this.info.id}.img`)})}check_if_clipboard_available(N){var I=this;return(0,j.A)(function*(){try{if(0!=N.indexOf("http"))throw"URL \uc8fc\uc18c\uac00 \uc544\ub2d8";yield new Promise((z,R)=>{let Q=document.createElement("img");Q.src=N,Q.onload=()=>{I.info.img=N,I.announce_update_group_image(N),Q.remove(),z(void 0)},Q.onerror=()=>{Q.remove(),R()}})}catch{try{if(0!=N.indexOf("data:image"))throw"DataURL \uc8fc\uc18c\uac00 \uc544\ub2d8";I.nakama.limit_image_size(N,R=>{I.info.img=R.canvas.toDataURL(),I.announce_update_group_image(I.info.img)})}catch{throw"\uc0ac\uc6a9\ubd88\uac00 \uc774\ubbf8\uc9c0"}}})()}remove_group(){var N=this;this.need_edit=!1;try{if(this.nakama.servers[this.info.server.isOfficial][this.info.server.target]){if(this.info.creator_id!=this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session.user_id)throw this.lang.text.GroupDetail.YouAreNotCreator;"online"==this.info.status?this.nakama.servers[this.info.server.isOfficial][this.info.server.target].socket.writeChatMessage(this.info.channel_id,{gupdate:"remove"}).then(function(){var I=(0,j.A)(function*(z){let R=yield N.nakama.servers[N.info.server.isOfficial][N.info.server.target].client.getAccount(N.nakama.servers[N.info.server.isOfficial][N.info.server.target].session),Q=JSON.parse(R.user.metadata);for(let ne=0,V=Q.is_manager.length;ne<V;ne++)if(Q.is_manager[ne]==N.info.id){Q.is_manager.splice(ne,1);break}Q.is_manager.length||delete Q.is_manager;try{yield N.nakama.servers[N.info.server.isOfficial][N.info.server.target].client.rpc(N.nakama.servers[N.info.server.isOfficial][N.info.server.target].session,"update_user_metadata_fn",{user_id:N.nakama.servers[N.info.server.isOfficial][N.info.server.target].session.user_id,metadata:Q})}catch(ne){console.log("\uadf8\ub8f9 \uc0ad\uc81c\uc2dc \uc0dd\uc131\uc790\uc758 \ub9e4\ub2c8\uc800 \uad8c\ud55c \ubc15\ud0c8 \ub3d9\uae30\ud654 \uc624\ub958: ",ne)}N.after_remove_group()});return function(z){return I.apply(this,arguments)}}()):this.after_remove_group()}else this.nakama.remove_group_list(this.info,this.info.server.isOfficial,this.info.server.target),this.modalCtrl.dismiss({remove:!0})}catch(I){console.log("remove_group: ",I),this.p5toast.show({text:I})}}after_remove_group(){this.leave_channel(),this.nakama.remove_group_list(this.info,this.info.server.isOfficial,this.info.server.target),this.modalCtrl.dismiss({remove:!0})}edit_group(){"online"==this.statusBar.groupServer[this.info.server.isOfficial][this.info.server.target]&&"missing"!=this.info.status&&this.has_admin&&this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.updateGroup(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,this.info.id,{name:this.info.name,lang_tag:this.info.lang_tag,description:this.info.description,open:this.info.open}),this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id]=this.info,this.nakama.save_groups_with_less_info()}open_user_profile(N){this.lock_modal_open||(this.lock_modal_open=!0,N.is_me?(this.nakama.open_profile_page({isOfficial:this.info.server.isOfficial,target:this.info.server.target}),this.lock_modal_open=!1):this.modalCtrl.create({component:O.C,componentProps:{info:N,group:this.info,has_admin:this.has_admin}}).then(I=>{I.onDidDismiss().then(z=>{if(z.data){if(z.data.id)for(let R=0,Q=this.info.users.length;R<Q;R++)if(this.info.users[R].user.id==z.data.id){switch(z.data.act){case"accept_join":this.info.users[R].status="online";break;case"kick":this.info.users.splice(R,1);break;default:console.warn("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc0c1\ub300\ubc29 \uc815\ubcf4: ",z)}break}z.data.dismiss&&this.modalCtrl.dismiss()}}),I.present(),this.lock_modal_open=!1}))}leave_group(){this.need_edit=!1,"online"==this.info.status?this.after_leave_group(()=>{this.leave_channel(),this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id].status="missing",this.nakama.save_groups_with_less_info(()=>this.modalCtrl.dismiss({leave:!0}))}):"pending"==this.info.status&&this.after_leave_group(()=>{this.nakama.groups[this.info.server.isOfficial][this.info.server.target][this.info.id].status="missing",this.nakama.save_groups_with_less_info(()=>this.modalCtrl.dismiss({leave:!0}))})}after_leave_group(N=(()=>console.warn("after_leave_group_announce Func Null"))){var I=this;this.nakama.servers[this.info.server.isOfficial][this.info.server.target].client.leaveGroup(this.nakama.servers[this.info.server.isOfficial][this.info.server.target].session,this.info.id).then(function(){var z=(0,j.A)(function*(R){R&&N(),I.nakama.remove_channel_files(I.info.server.isOfficial,I.info.server.target,I.info.channel_id);let Q=I.nakama.servers[I.info.server.isOfficial][I.info.server.target].info;try{let ne=localStorage.getItem("fallback_fs");if(!ne)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let V=ne.split("://"),X=V.pop().split(":"),U=V.pop();U?U+=":":U=X[0].replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")?"https:":"http:";let F=`${U}//${X[0]}:${X[1]||9002}/`;yield I.global.remove_files_from_storage_with_key(F,`${I.info.id}_${I.nakama.servers[Q.isOfficial][Q.target].session.user_id}`)}catch{}try{let ne=`${Q.useSSL?"https":"http"}://${Q.address}`;yield I.global.remove_files_from_storage_with_key(ne,`${I.info.id}_${I.nakama.servers[Q.isOfficial][Q.target].session.user_id}`)}catch{}});return function(R){return z.apply(this,arguments)}}())}leave_channel(){this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target]&&this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id]&&"missing"!=this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].status&&(this.nakama.channels_orig[this.info.server.isOfficial][this.info.server.target][this.info.channel_id].status="missing")}copy_id(){this.mClipboard.copy(this.info.id).catch(N=>{this.global.WriteValueToClipboard("text/plain",this.info.id)})}copy_startup_address(){let N=encodeURI(`https://is2you2.github.io/godotchat_pwa/?group=${this.info.name},${this.info.id}`);this.mClipboard.copy(N).catch(I=>{this.global.WriteValueToClipboard("text/plain",N)})}ionViewWillLeave(){delete this.nakama.socket_reactive.group_detail,this.need_edit=this.info.description!=this.info_orig.description,this.need_edit&&this.edit_group()}}return(x=A).\u0275fac=function(N){return new(N||x)(Ie.rXU(o.y8),Ie.rXU(H.X),Ie.rXU(oe.W3),Ie.rXU(v.j),Ie.rXU(w.n),Ie.rXU(g.y),Ie.rXU(y.z3),Ie.rXU(C.G),Ie.rXU(E.B))},x.\u0275cmp=Ie.VBU({type:x,selectors:[["app-group-detail"]],decls:39,vars:24,consts:[[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],[4,"ngIf"],["color","warning",4,"ngIf"],[2,"cursor","copy",3,"click"],["text-wrap","","color","medium",1,"ion-text-center"],["button","",3,"click"],[1,"additional_form","status_bar_single"],[1,"additional_form","bg_img_form"],[1,"profile_img",3,"src"],[1,"form_margin"],[1,"server_target"],[1,"form_margin","content"],["hidden","","type","file","accept","image/*",3,"change","id"],[1,"infobox",3,"ngModelChange","disabled","ngModel","placeholder"],[2,"pointer-events","none"],[2,"pointer-events","none",3,"ngModelChange","ngModel"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click",4,"ngIf"],["style","width: 100%; height: auto; cursor: copy;","alt","Loading",3,"src","click",4,"ngIf"],["alt","Loading",2,"width","100%","height","auto","cursor","copy",3,"click","src"],["color","warning"],[1,"ion-text-center"],["color","danger",1,"ion-text-center"]],template:function(N,I){1&N&&(Ie.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ie.EFF(3),Ie.k0s(),Ie.j41(4,"ion-buttons",1),Ie.bIt("click",function(){return I.modalCtrl.dismiss()}),Ie.nrm(5,"ion-back-button",2),Ie.k0s()()(),Ie.j41(6,"ion-content"),Ie.DNE(7,d,2,1,"div",3)(8,p,3,1,"ion-item",4)(9,l,3,1,"ion-item",4),Ie.j41(10,"ion-item",5),Ie.bIt("click",function(){return I.copy_id()}),Ie.j41(11,"ion-label",6),Ie.EFF(12),Ie.k0s()(),Ie.j41(13,"ion-item",7),Ie.bIt("click",function(){return I.buttonClickInputFile()}),Ie.nrm(14,"div",8),Ie.j41(15,"div",9),Ie.nrm(16,"img",10),Ie.k0s(),Ie.j41(17,"ion-label",11)(18,"div")(19,"table")(20,"tr")(21,"td"),Ie.EFF(22),Ie.k0s(),Ie.j41(23,"td",12),Ie.EFF(24),Ie.k0s()()()(),Ie.j41(25,"div",13),Ie.EFF(26),Ie.k0s()()(),Ie.j41(27,"input",14),Ie.bIt("change",function(R){return I.inputImageSelected(R)}),Ie.k0s(),Ie.j41(28,"ion-item-divider")(29,"ion-label"),Ie.EFF(30),Ie.k0s()(),Ie.j41(31,"textarea",15),Ie.mxI("ngModelChange",function(R){return Ie.DH7(I.info.description,R)||(I.info.description=R),R}),Ie.k0s(),Ie.j41(32,"ion-item",16)(33,"ion-toggle",17),Ie.mxI("ngModelChange",function(R){return Ie.DH7(I.info.open,R)||(I.info.open=R),R}),Ie.EFF(34),Ie.k0s()(),Ie.DNE(35,m,3,1,"ion-item-divider",3)(36,c,6,6,"ion-item",18)(37,h,3,1,"ion-item",19)(38,_,3,1,"ion-item",19),Ie.k0s()),2&N&&(Ie.R7$(3),Ie.JRh(I.lang.text.GroupDetail.Title),Ie.R7$(4),Ie.Y8G("ngIf","missing"!=I.info.status),Ie.R7$(),Ie.Y8G("ngIf","pending"==I.info.status),Ie.R7$(),Ie.Y8G("ngIf","missing"==I.info.status),Ie.R7$(3),Ie.JRh(I.info.id),Ie.R7$(2),Ie.Aen("background-color: "+I.statusBar.colors[I.info.status||"offline"]),Ie.R7$(2),Ie.Aen("filter: "+("online"==I.info.status?"grayscale(0) contrast(1);":"grayscale(.9) contrast(1.4);")),Ie.Y8G("src",I.info.img,Ie.B4B),Ie.R7$(6),Ie.SpI(" ",I.info.name||I.info.title||I.info.display_name," "),Ie.R7$(2),Ie.SpI(" ","("+(I.info.server.name||I.info.server.target)+")"," "),Ie.R7$(2),Ie.SpI(" ",I.lang.text.AddGroup.ClicktoChangeGroupImg," "),Ie.R7$(),Ie.Y8G("id",I.file_sel_id),Ie.R7$(3),Ie.JRh(I.lang.text.AddGroup.GroupDetail_placeholder),Ie.R7$(),Ie.Y8G("disabled",!I.has_admin),Ie.R50("ngModel",I.info.description),Ie.Y8G("placeholder",I.lang.text.GroupDetail.NoDetailGroup),Ie.R7$(2),Ie.R50("ngModel",I.info.open),Ie.R7$(),Ie.JRh(I.lang.text.GroupDetail.IsOpen),Ie.R7$(),Ie.Y8G("ngIf",I.info.users&&I.info.users.length),Ie.R7$(),Ie.Y8G("ngForOf",I.info.users),Ie.R7$(),Ie.Y8G("ngIf",("online"==I.info.status||"pending"==I.info.status)&&I.has_admin),Ie.R7$(),Ie.Y8G("ngIf",("online"==I.info.status||"pending"==I.info.status)&&!I.has_admin))},dependencies:[s.Sq,s.bT,u.me,u.BC,u.vS,oe.QW,oe.W9,oe.eU,oe.uz,oe.Dg,oe.he,oe.BC,oe.BY,oe.ai,oe.hB,oe.el],styles:[".content[_ngcontent-%COMP%]{color:#888;height:24px;display:table-cell;vertical-align:middle}"]}),A})()},4437:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{K:()=>d});var j=fe(467),O=fe(9349),ge=fe(3953),Ie=fe(5374),o=fe(3656),oe=fe(4234),H=fe(9900),v=fe(8065),w=fe(755),g=fe(4237),y=fe(482),C=fe(1357),E=fe(177),s=fe(4341);const u=["ServerDetailuseSSL"];function a(p,l){if(1&p){const m=ge.RV6();ge.j41(0,"img",14),ge.bIt("click",function(){ge.eBV(m);const h=ge.XpG();return ge.Njj(h.copy_startup_address())}),ge.k0s()}if(2&p){const m=ge.XpG();ge.Y8G("src",m.QRCodeSRC,ge.B4B)}}let d=(()=>{var p;class l{constructor(c,h,_,M,x,A,T,N,I){this.modalCtrl=c,this.navParams=h,this.lang=_,this.p5toast=M,this.statusBar=x,this.indexed=A,this.nakama=T,this.global=N,this.mClipboard=I,this.isTargetAlreadyExist=!0,this.index=0}ngOnInit(){this.dedicated_info=this.navParams.get("data");let c={name:this.dedicated_info.name,address:this.dedicated_info.address,port:this.dedicated_info.port,key:this.dedicated_info.key,useSSL:this.dedicated_info.useSSL};"192.168.0.1"==this.dedicated_info.address&&delete c.address,"defaultkey"==this.dedicated_info.key&&delete c.key,7350==this.dedicated_info.port&&delete c.port,this.dedicated_info.useSSL||delete c.useSSL,this.QRCodeSRC=this.global.readasQRCodeFromString(`${O.d2}godotchat_pwa/?server=${c.name||""},${c.address||""},${c.useSSL?"true":""},${c.port||7350},${c.key||""}`),this.isTargetAlreadyExist=!!this.statusBar.groupServer.unofficial[this.dedicated_info.target]}ionViewDidEnter(){this.ServerDetailuseSSL.checked=this.dedicated_info.useSSL}copy_startup_address(){let c=`https://is2you2.github.io/godotchat_pwa/?server=${this.dedicated_info.name||""},${this.dedicated_info.address||""},${this.dedicated_info.useSSL||""},${this.dedicated_info.port||""},${this.dedicated_info.key||""}&open_profile=true`;this.mClipboard.copy(c).catch(h=>{this.global.WriteValueToClipboard("text/plain",c)})}apply_changed_info(){var c=this;return(0,j.A)(function*(){if(!c.dedicated_info.name)return void c.p5toast.show({text:c.lang.text.GroupServer.NeedSetDIsplayName});c.dedicated_info.target=c.dedicated_info.target||c.dedicated_info.name,c.dedicated_info.address=c.dedicated_info.address||"192.168.0.1",c.dedicated_info.port=c.dedicated_info.port||7350,c.dedicated_info.useSSL=c.ServerDetailuseSSL.checked||!1,c.dedicated_info.isOfficial=c.dedicated_info.isOfficial||"unofficial",c.dedicated_info.key=c.dedicated_info.key||"defaultkey";let h=(new Date).getTime().toString();h+=`,${c.dedicated_info.isOfficial}`,h+=`,${c.dedicated_info.name}`,h+=`,${c.dedicated_info.target}`,h+=`,${c.dedicated_info.address}`,h+=`,${c.dedicated_info.port}`,h+=`,${c.dedicated_info.useSSL}`;let _=yield c.indexed.loadTextFromUserPath("servers/list_detail.csv"),M=[];if(_&&(M=_.split("\n")),c.isTargetAlreadyExist)for(let x=0,A=M.length;x<A;x++)if(M[x].split(",")[3]==c.dedicated_info.target){M.splice(x,1);break}M.push(h),yield c.indexed.saveTextFileToUserPath(M.join("\n"),"servers/list_detail.csv"),c.nakama.init_server(c.dedicated_info),c.nakama.servers[c.dedicated_info.isOfficial][c.dedicated_info.target].info={...c.dedicated_info};try{c.nakama.servers[c.dedicated_info.isOfficial][c.dedicated_info.target].socket.disconnect(!0)}catch{}c.modalCtrl.dismiss()})()}}return(p=l).\u0275fac=function(c){return new(c||p)(ge.rXU(Ie.W3),ge.rXU(o.y8),ge.rXU(oe.y),ge.rXU(H.G),ge.rXU(v.j),ge.rXU(w.n),ge.rXU(g.X),ge.rXU(y.z3),ge.rXU(C.B))},p.\u0275cmp=ge.VBU({type:p,selectors:[["app-server-detail"]],viewQuery:function(c,h){if(1&c&&ge.GBs(u,5),2&c){let _;ge.mGM(_=ge.lsd())&&(h.ServerDetailuseSSL=_.first)}},decls:31,vars:19,consts:[["ServerDetailuseSSL",""],[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["style","width: 100%; height: auto; cursor: copy;","alt","Loading",3,"src","click",4,"ngIf"],["button",""],[1,"ion-text-right",3,"ngModelChange","label","ngModel","placeholder"],["button","",3,"disabled"],["placeholder","192.168.0.1",1,"ion-text-right",3,"ngModelChange","label","ngModel"],["placeholder","defaultkey",1,"ion-text-right",3,"ngModelChange","label","ngModel"],["type","number","placeholder","7350",1,"ion-text-right",3,"ngModelChange","label","ngModel"],["button","",3,"click"],[2,"pointer-events","none",3,"ngModelChange","ngModel"],[1,"ion-text-center"],["alt","Loading",2,"width","100%","height","auto","cursor","copy",3,"click","src"]],template:function(c,h){if(1&c){const _=ge.RV6();ge.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),ge.EFF(3),ge.k0s(),ge.j41(4,"ion-buttons",2),ge.bIt("click",function(){return ge.eBV(_),ge.Njj(h.modalCtrl.dismiss())}),ge.nrm(5,"ion-back-button",3),ge.k0s()()(),ge.j41(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),ge.EFF(9),ge.k0s()(),ge.DNE(10,a,1,1,"img",4),ge.j41(11,"ion-item-divider")(12,"ion-label"),ge.EFF(13,"\uc11c\ubc84 \uc124\uc815"),ge.k0s()(),ge.j41(14,"ion-item",5)(15,"ion-input",6),ge.mxI("ngModelChange",function(x){return ge.eBV(_),ge.DH7(h.dedicated_info.name,x)||(h.dedicated_info.name=x),ge.Njj(x)}),ge.k0s()(),ge.j41(16,"ion-item",7)(17,"ion-input",6),ge.mxI("ngModelChange",function(x){return ge.eBV(_),ge.DH7(h.dedicated_info.target,x)||(h.dedicated_info.target=x),ge.Njj(x)}),ge.k0s()(),ge.j41(18,"ion-item",5)(19,"ion-input",8),ge.mxI("ngModelChange",function(x){return ge.eBV(_),ge.DH7(h.dedicated_info.address,x)||(h.dedicated_info.address=x),ge.Njj(x)}),ge.k0s()(),ge.j41(20,"ion-item",5)(21,"ion-input",9),ge.mxI("ngModelChange",function(x){return ge.eBV(_),ge.DH7(h.dedicated_info.key,x)||(h.dedicated_info.key=x),ge.Njj(x)}),ge.k0s()(),ge.j41(22,"ion-item",5)(23,"ion-input",10),ge.mxI("ngModelChange",function(x){return ge.eBV(_),ge.DH7(h.dedicated_info.port,x)||(h.dedicated_info.port=x),ge.Njj(x)}),ge.k0s()(),ge.j41(24,"ion-item",11),ge.bIt("click",function(){return ge.eBV(_),ge.Njj(h.dedicated_info.useSSL=!h.dedicated_info.useSSL)}),ge.j41(25,"ion-toggle",12,0),ge.mxI("ngModelChange",function(x){return ge.eBV(_),ge.DH7(h.dedicated_info.useSSL,x)||(h.dedicated_info.useSSL=x),ge.Njj(x)}),ge.EFF(27),ge.k0s()(),ge.j41(28,"ion-item",11),ge.bIt("click",function(){return ge.eBV(_),ge.Njj(h.apply_changed_info())}),ge.j41(29,"ion-label",13),ge.EFF(30),ge.k0s()()()}2&c&&(ge.R7$(3),ge.JRh(h.lang.text.GroupServer.ServerDetail),ge.R7$(6),ge.JRh(h.lang.text.ServerDetail.copy_scan_below),ge.R7$(),ge.Y8G("ngIf",h.QRCodeSRC),ge.R7$(5),ge.Y8G("label",h.lang.text.GroupServer.DisplayName),ge.R50("ngModel",h.dedicated_info.name),ge.Y8G("placeholder",h.lang.text.GroupServer.DisplayName_placeholder),ge.R7$(),ge.Y8G("disabled",h.isTargetAlreadyExist),ge.R7$(),ge.Y8G("label",h.lang.text.GroupServer.DivisionName),ge.R50("ngModel",h.dedicated_info.target),ge.Y8G("placeholder",h.dedicated_info.name||h.lang.text.GroupServer.DivisionName_placeholder),ge.R7$(2),ge.Y8G("label",h.lang.text.GroupServer.Address),ge.R50("ngModel",h.dedicated_info.address),ge.R7$(2),ge.Y8G("label",h.lang.text.GroupServer.Key),ge.R50("ngModel",h.dedicated_info.key),ge.R7$(2),ge.Y8G("label",h.lang.text.GroupServer.Port),ge.R50("ngModel",h.dedicated_info.port),ge.R7$(2),ge.R50("ngModel",h.dedicated_info.useSSL),ge.R7$(2),ge.JRh(h.lang.text.GroupServer.isSSL),ge.R7$(3),ge.JRh(h.lang.text.ServerDetail.ApplyChangeServerInfo))},dependencies:[E.bT,s.BC,s.vS,Ie.QW,Ie.W9,Ie.eU,Ie.$w,Ie.uz,Ie.Dg,Ie.he,Ie.BC,Ie.BY,Ie.ai,Ie.hB,Ie.su,Ie.Gw,Ie.el],styles:[".icon_style[_ngcontent-%COMP%]{width:22px;height:22px;transform:translateY(2px);margin-left:4px;margin-right:4px}"]}),l})()},6608:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{n:()=>g});var j=fe(467),O=fe(3953),ge=fe(482),Ie=fe(1357),o=fe(3656),oe=fe(5374),H=fe(4234),v=fe(177);function w(y,C){if(1&y){const E=O.RV6();O.j41(0,"img",5),O.bIt("click",function(){O.eBV(E);const u=O.XpG();return O.Njj(u.copy_address(u.SelectedAddress))}),O.k0s()}if(2&y){const E=O.XpG();O.Y8G("src",E.QRCodeSRC,O.B4B)}}let g=(()=>{var y;class C{constructor(s,u,a,d){this.global=s,this.mClipboard=u,this.navParams=a,this.lang=d}ngOnInit(){}ionViewWillEnter(){var s=this;return(0,j.A)(function*(){let u=s.navParams.data.address;try{let a=u.split("://").pop(),d=`${location.protocol}//${a}:8080/`;const p=new AbortController,l=setTimeout(()=>{p.abort()},500);let m=yield fetch(d,{signal:p.signal});if(clearTimeout(l),!m.ok)throw"\uc8fc\uc18c \uc5c6\uc74c";s.SelectedAddress=`${location.protocol}//${a}:8080/www/?voidDraw=${u},${s.navParams.data.channel}`}catch{s.SelectedAddress=`http://localhost:8080/www/?voidDraw=${u},${s.navParams.data.channel}`}s.QRCodeSRC=s.global.readasQRCodeFromString(s.SelectedAddress)})()}copy_address(s){this.mClipboard.copy(s).catch(u=>{this.global.WriteValueToClipboard("text/plain",s)})}}return(y=C).\u0275fac=function(s){return new(s||y)(O.rXU(ge.z3),O.rXU(Ie.B),O.rXU(o.y8),O.rXU(H.y))},y.\u0275cmp=O.VBU({type:y,selectors:[["app-link-qr"]],decls:7,vars:2,consts:[[2,"display","flex","justify-content","center","align-items","center","height","100%"],[2,"width","400px","height","455px","background-color","var(--chatroom-background)","text-align","center","padding","16px"],["style","width: 100%; height: auto; cursor: copy;","alt","QuickLink",3,"src","click",4,"ngIf"],["button","",3,"click"],[1,"ion-text-center"],["alt","QuickLink",2,"width","100%","height","auto","cursor","copy",3,"click","src"]],template:function(s,u){1&s&&(O.j41(0,"ion-content")(1,"div",0)(2,"div",1),O.DNE(3,w,1,1,"img",2),O.j41(4,"ion-item",3),O.bIt("click",function(){return u.copy_address(u.navParams.data.channel)}),O.j41(5,"ion-label",4),O.EFF(6),O.k0s()()()()()),2&s&&(O.R7$(3),O.Y8G("ngIf",u.QRCodeSRC),O.R7$(3),O.JRh(u.navParams.data.channel))},dependencies:[v.bT,oe.W9,oe.uz,oe.he],styles:["ion-content[_ngcontent-%COMP%]{--background: transparent}"]}),C})()},736:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{c:()=>p});var j=fe(467),O=fe(8326),Ie=fe(9349),o=fe(4237),oe=fe(6608),H=fe(3953),v=fe(4234),w=fe(5374),g=fe(3656),y=fe(482),C=fe(755),E=fe(9900),s=fe(4020),u=fe(177);const a=["RemoteDraw"];function d(l,m){if(1&l&&(H.j41(0,"ion-select-option",10),H.EFF(1),H.k0s()),2&l){const c=m.$implicit;H.Y8G("value",c),H.R7$(),H.JRh(c.info.name)}}let p=(()=>{var l;class m{constructor(h,_,M,x,A,T,N,I,z,R){this.lang=h,this.modalCtrl=_,this.alertCtrl=M,this.loadingCtrl=x,this.global=A,this.navParams=T,this.indexed=N,this.nakama=I,this.p5toast=z,this.webrtc=R,this.BackButtonPressed=!1,this.isMobile=!1,this.isCropMode=!1,this.ServerList=[],this.isDrawServerCreated=!1,this.ReadyToShareAct=!1,this.RemoteBackgroundImage="",this.WillLeaveHere=!1,this.WithoutSave=!0}InitBrowserBackButtonOverride(){try{window.history.replaceState(null,null,window.location.href),window.onpopstate=()=>{if(this.isDrawServerCreated)return this.CancelRemoteAct(),void this.InitBrowserBackButtonOverride();this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}catch(h){console.log("\ud0d0\uc0c9 \uae30\ub85d \ubcc0\uacbd\uc2dc \uc624\ub958 \ubc1c\uc0dd: ",h)}}ngOnInit(){this.InitBrowserBackButtonOverride()}ionViewDidEnter(){var h=this;return(0,j.A)(function*(){h.AddShortCut(),h.mainLoading=yield h.loadingCtrl.create({message:h.lang.text.voidDraw.UseThisImage}),h.isMobile="DesktopPWA"!=Ie.aH,h.create_new_canvas({width:h.navParams.data.width,height:h.navParams.data.height,path:h.navParams.data.path}),h.navParams.data.remote&&setTimeout(()=>{h.CreateRemoteLocalClient(h.navParams.data.remote.address,h.navParams.data.remote.channel)},1e3)})()}AddShortCut(){delete this.global.p5key.KeyShortCut.Digit,this.global.p5key.KeyShortCut.HistoryAct=h=>{switch(h){case"Z":this.p5voidDraw.history_act(-1);break;case"X":this.p5voidDraw.history_act(1);break;case"C":this.isCropMode?this.p5voidDraw.apply_crop():this.p5voidDraw.change_color();break;case"V":this.p5voidDraw.set_line_weight()}},this.global.p5key.KeyShortCut.AddAct=()=>{this.ClickRemoteAddButton()},this.global.p5key.KeyShortCut.SKeyAct=()=>{this.open_crop_tool()},this.global.p5key.KeyShortCut.DeleteAct=()=>{this.isCropMode?this.p5voidDraw.apply_crop():this.dismiss_draw()},this.global.p5key.KeyShortCut.FKeyAct=()=>{},this.global.p5key.KeyShortCut.Escape=()=>{this.isDrawServerCreated&&this.CancelRemoteAct()}}CancelRemoteAct(){this.ReadyToShareAct=!1,this.RemoteLoadingCtrl&&this.RemoteLoadingCtrl.dismiss(),this.isDrawServerCreated=!1,this.p5voidDraw.SetDrawable(!0),this.webrtc.close_webrtc(!1)}create_new_canvas(h){h.width=h.width||432,h.height=h.height||432,this.p5voidDraw&&this.p5voidDraw.remove(),this.create_p5voidDraw(h)}waiting(h){return new Promise(_=>setTimeout(()=>{_(void 0)},h))}create_p5voidDraw(h){var _=this;let M=document.getElementById("voidDraw");this.isCropMode=!1,this.p5voidDraw=new O(x=>{let A,T,N,I,z,R,Q,ne,V=x.createColorPicker("#000"),X=Math.min(h.width,h.height)/100,U=1;x.setup=(0,j.A)(function*(){x.pixelDensity(1),x.noLoop(),x.noFill(),x.imageMode(x.CENTER),I=x.createCanvas(M.clientWidth,M.clientHeight),I.parent(M),K.x=x.width/2,K.y=x.height/2,x.set_line_weight=()=>{_.alertCtrl.create({header:_.lang.text.voidDraw.changeWeight,inputs:[{label:_.lang.text.voidDraw.weight,name:"weight",placeholder:`${U}`,type:"number"}],buttons:[{text:_.lang.text.voidDraw.apply,handler:Rt=>{Rt.weight&&(U=Number(Rt.weight))}}]}).then(Rt=>{Xt=!1,Rt.onWillDismiss().then(()=>{Xt=!0}),Rt.present()})},x.change_color=()=>{V.elt.click()},x.save_image=()=>{new O(Rt=>{Rt.setup=()=>{let tn=Rt.createCanvas(A.width,A.height);Rt.pixelDensity(1),N&&Rt.image(N,0,0),A&&Rt.image(A,0,0);let fn=tn.elt.toDataURL("image/png").replace("image/png","image/octet-stream");_.modalCtrl.dismiss({name:`voidDraw_${Rt.year()}-${Rt.nf(Rt.month(),2)}-${Rt.nf(Rt.day(),2)}_${Rt.nf(Rt.hour(),2)}-${Rt.nf(Rt.minute(),2)}-${Rt.nf(Rt.second(),2)}.png`,img:fn,loadingCtrl:_.mainLoading}),Rt.remove()}})},x.history_act=(Rt,tn=!1)=>{switch(We=x.min(x.max(0,We+Rt),x.DrawingStack.length),Rt){case 1:x.DrawingStack.length&&(Q.style.fill="var(--ion-color-dark)"),We==x.DrawingStack.length&&(ne.style.fill="var(--ion-color-medium)"),dt(A,x.DrawingStack[We-1]);break;case-1:x.DrawingStack.length&&(ne.style.fill="var(--ion-color-dark)"),We<1?(Q.style.fill="var(--ion-color-medium)",A.clear(255,255,255,255),x.redraw()):ct()}!tn&&_.ReadyToShareAct&&_.webrtc.dataChannel.send(JSON.stringify({type:"same",act:"history_act",data:Rt}))},x.open_crop_tool=()=>{_.isCropMode?(_.isCropMode=!1,x.redraw()):(_.isCropMode=!0,ee.x=A.width,ee.y=A.height,k.x=0,k.y=0,x.redraw()),x.change_checkmark()},x.apply_crop=(Rt=!0)=>{if(Rt&&_.isMobile&&k.div(ie),A.resizeCanvas(ee.x,ee.y),T=x.createVector(A.width/2,A.height/2),Rt&&q.sub(k),ct(),N.resizeCanvas(ee.x,ee.y),N.push(),N.background(_.navParams.data.isDarkMode?26:255),N.translate(q),x.BaseImage&&N.image(x.BaseImage,0,0),N.pop(),N.redraw(),_.isCropMode=!1,x.change_checkmark(),x.SetCanvasViewportInit(),Rt&&_.ReadyToShareAct){let tn=_.p5voidDraw.getCropPos(),fn=_.p5voidDraw.getCropSize();_.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"crop",cropPX:tn.x,cropPY:tn.y,cropSX:fn.x,cropSY:fn.y}))}},x.SetDrawable=cn,z=x.createElement("table"),z.style("position: absolute; top: 0px;"),z.style(`width: 100%; height: ${Dt}px;`),z.style("background-color: var(--voidDraw-menu-background);"),z.parent(M);let tt=z.elt.insertRow(0),ot=tt.insertCell(0);ot.innerHTML='<ion-icon style="width: 27px; height: 27px" name="wifi-outline"></ion-icon>',ot.style.textAlign="center",ot.style.cursor="pointer",ot.onclick=()=>{_.ClickRemoteAddButton()};let Ct=tt.insertCell(1);Ct.innerHTML='<ion-icon style="width: 27px; height: 27px" name="crop"></ion-icon>',Ct.style.textAlign="center",Ct.style.cursor="pointer",Ct.onclick=()=>{_.open_crop_tool()};let vt=tt.insertCell(2);vt.innerHTML='<ion-icon style="width: 27px; height: 27px" name="checkmark"></ion-icon>',vt.style.textAlign="center",vt.style.cursor="pointer",vt.onclick=()=>{_.dismiss_draw()},x.change_checkmark=()=>{vt.innerHTML=_.isCropMode?'<ion-icon style="width: 27px; height: 27px" name="cut-sharp"></ion-icon>':'<ion-icon style="width: 27px; height: 27px" name="checkmark"></ion-icon>'},R=x.createElement("table"),R.style("position: absolute; bottom: 0px;"),R.style(`width: 100%; height: ${Dt}px;`),R.style("background-color: var(--voidDraw-menu-background);"),R.parent(M);let Mt=R.elt.insertRow(0),ln=Mt.insertCell(0);ln.innerHTML='<ion-icon id="undoIcon" style="width: 27px; height: 27px" name="arrow-undo"></ion-icon>',Q=document.getElementById("undoIcon"),Q.style.fill="var(--ion-color-medium)",ln.style.textAlign="center",ln.style.cursor="pointer",ln.onclick=()=>{_.p5voidDraw.history_act(-1)};let gt=Mt.insertCell(1);gt.innerHTML='<ion-icon id="redoIcon" style="width: 27px; height: 27px" name="arrow-redo"></ion-icon>',ne=document.getElementById("redoIcon"),ne.style.fill="var(--ion-color-medium)",gt.style.textAlign="center",gt.style.cursor="pointer",gt.onclick=()=>{_.p5voidDraw.history_act(1)};let St=Mt.insertCell(2);St.innerHTML='<ion-icon style="width: 27px; height: 27px" name="color-palette"></ion-icon>',V.style("width: 0px; height: 0px; opacity: 0;"),V.parent(St),V.elt.oninput=()=>{let Rt=V.color().levels,tn=`#${x.hex(Rt[0],2)}${x.hex(Rt[1],2)}${x.hex(Rt[2],2)}`;St.childNodes[0].style.color=tn},h.path&&(V.value("#ff0000"),V.elt.oninput()),St.style.textAlign="center",St.style.cursor="pointer",St.onclick=()=>{V.elt.click()};let zt=Mt.insertCell(3);if(zt.innerHTML='<ion-icon style="width: 27px; height: 27px" name="pencil"></ion-icon>',zt.style.textAlign="center",zt.style.cursor="pointer",zt.onclick=()=>{_.change_line_weight()},x.SetCanvasViewportInit=()=>{I.hide(),x.resizeCanvas(M.clientWidth,M.clientHeight),Te.x=x.width/2,Te.y=x.height/2,K.x=0,K.y=0;let Rt=M.clientHeight-112;ie=M.clientWidth/Rt<A.width/A.height?M.clientWidth/A.width:Rt/A.height,I.show(),x.redraw()},A=x.createGraphics(h.width,h.height),T=x.createVector(A.width/2,A.height/2),A.pixelDensity(1),A.noLoop(),A.noFill(),x.ActualCanvas=A,N=x.createGraphics(h.width,h.height),N.pixelDensity(1),N.noLoop(),N.noFill(),N.background(_.navParams.data.isDarkMode?26:255),x.ImageCanvas=N,h.path){let Rt=yield _.indexed.loadBlobFromUserPath(h.path,""),tn=URL.createObjectURL(Rt);x.loadImage(tn,fn=>{x.BaseImage=fn,N.image(x.BaseImage,0,0),N.redraw(),URL.revokeObjectURL(tn),x.SetCanvasViewportInit()},fn=>{console.error("\uadf8\ub9bc\ud310 \ubc30\uacbd \uc774\ubbf8\uc9c0 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",fn),N.redraw(),URL.revokeObjectURL(tn),x.SetCanvasViewportInit()})}else N.redraw(),x.SetCanvasViewportInit();h.width<h.height&&(X/=ie),x.getCropPos=me,x.setCropPos=Ge,x.getCropSize=xe,x.setCropSize=Ye,x.RemoteDrawStart=at,x.RemoteDrawing=et,x.RemoteDrawingEnd=st,x.updateRemoteCurve=Ve,x.CancelCurrentDraw=()=>{Ze=void 0,x.redraw()},_.navParams.data.scrollHeight&&Ge(0,-_.navParams.data.scrollHeight)});let K=x.createVector(),ie=1,Te=x.createVector(0,0),q=x.createVector(),k=x.createVector(),ee=x.createVector(),me=()=>q,xe=()=>ee,Ge=(tt,ot)=>{q.x=tt,q.y=ot,N.translate(tt,ot),x.redraw()},Ye=(tt,ot)=>{ee.x=tt,ee.y=ot,N.translate(tt,ot),x.redraw()};x.draw=()=>{if(x.clear(255,255,255,255),x.push(),x.translate(Te),x.scale(ie),x.translate(K),x.image(N,0,0),A&&x.image(A,0,0),this.isCropMode)x.push(),x.translate(-A.width/2,-A.height/2),x.translate(k),x.noStroke(),x.fill(0,100),x.rect(0,0,ee.x,ee.y),x.stroke(255,0,0),x.strokeWeight(8),x.beginShape(x.LINES),x.vertex(0,0),x.vertex(ee.x,0),x.vertex(ee.x,0),x.vertex(ee.x,.8*ee.y),x.vertex(0,0),x.vertex(0,ee.y),x.vertex(0,ee.y),x.vertex(.8*ee.x,ee.y),x.stroke(255,255,0),x.vertex(.8*ee.x,ee.y),x.vertex(ee.x,ee.y),x.vertex(ee.x,.8*ee.y),x.vertex(ee.x,ee.y),x.endShape(),x.pop();else{if(Qe&&Qe.pos&&Qe.pos.length){x.push(),x.translate(q),x.stroke(Qe.color),x.strokeWeight(Qe.weight),x.beginShape();for(let tt=0,ot=Qe.pos.length;tt<ot;tt++)x.curveVertex(Qe.pos[tt].x-T.x,Qe.pos[tt].y-T.y);x.endShape(),x.pop()}if(this.ReadyToShareAct&&Ze&&Ze.pos&&Ze.pos.length){x.push(),x.translate(q),x.stroke(Ze.color),x.strokeWeight(Ze.weight),x.beginShape();for(let tt=0,ot=Ze.pos.length;tt<ot;tt++)x.curveVertex(Ze.pos[tt].x-T.x,Ze.pos[tt].y-T.y);x.endShape(),x.pop()}}x.pop()},x.DrawingStack=[],x.ClearCurrentDraw=()=>{Qe={},x.DrawingStack.length=0,We=0,ct(),x.redraw()};let We=0,ct=()=>{A.clear(255,255,255,255);for(let tt=0;tt<We;tt++)dt(A,x.DrawingStack[tt])},dt=(tt,ot=Qe)=>{if(ot.color){tt.push(),tt.translate(q),tt.stroke(ot.color),tt.strokeWeight(ot.weight),tt.beginShape();for(let Ct=0,vt=ot.pos.length;Ct<vt;Ct++)tt.curveVertex(ot.pos[Ct].x,ot.pos[Ct].y);tt.endShape(),tt.pop(),tt.redraw(),x.redraw()}},Ve=tt=>{for(let ot=0,Ct=tt.length;ot<Ct;ot++)dt(A,tt[ot]);We=x.DrawingStack.length};x.windowResized=()=>{setTimeout(()=>{x.SetCanvasViewportInit()},0)};let Qe={},Ze={},at=tt=>{Ze=tt,x.redraw()},et=tt=>{Ze&&Ze.pos&&Ze.pos.push(tt),x.redraw()},st=tt=>{Ze.pos.push(tt),Ze.pos.push(tt),x.DrawingStack.length=We,Ze&&(x.DrawingStack.push(Ze),dt(A,Ze)),We=x.DrawingStack.length,Ze=void 0,x.redraw()};const Dt=56;let on,Lt,an,Bt,Yt,hn,sn,gn=0,At=!1,$t=!1;x.mousePressed=tt=>{if(Xt){if(x.mouseY<Dt||x.mouseY>x.height-Dt)return void($t=!0);switch(tt.which){case 1:this.isCropMode?ze():$e();break;case 3:Lt=x.createVector(x.mouseX,x.mouseY),hn=K.copy(),on=x.createVector(x.mouseX,x.mouseY);break;case 2:x.SetCanvasViewportInit()}}};let ze=(tt,ot)=>{let Ct=qe(tt,ot),vt=k.copy().add(ee).sub(x.createVector(A.width/2,A.height/2)),Mt=Ct.dist(vt),ln=.2*x.max(ee.x,ee.y);At=Mt<ln,At?(Bt=x.createVector(x.mouseX,x.mouseY),sn=ee.copy()):an=x.createVector(x.mouseX,x.mouseY).sub(k.mult(ie))},$e=(tt,ot)=>{Q.style.fill="var(--ion-color-dark)",ne.style.fill="var(--ion-color-medium)";let Ct=qe(tt,ot);Ct.sub(q),Ct.add(T);let vt={x:Ct.x,y:Ct.y},Mt=V.color().levels,ln=`#${x.hex(Mt[0],2)}${x.hex(Mt[1],2)}${x.hex(Mt[2],2)}`;Qe={pos:[],color:ln,weight:X*U},Qe.pos.push(vt),Qe.pos.push(vt),this.ReadyToShareAct&&this.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"start",data:Qe})),x.redraw()};x.mouseDragged=tt=>{if(Xt)switch(tt.which){case 1:if(this.isCropMode&&!$t){let ot=x.createVector(x.mouseX,x.mouseY);At?ee=sn.copy().add(Bt.copy().sub(ot).div(-ie)):k=an.copy().sub(ot).div(-ie),x.redraw()}else{let ot=qe();ot.sub(q),ot.add(T);let Ct={x:ot.x,y:ot.y};Qe&&Qe.pos&&Qe.pos.push(Ct),this.ReadyToShareAct&&this.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"moved",data:Ct})),x.redraw()}break;case 3:on=x.createVector(x.mouseX,x.mouseY),K=hn.copy().add(on.sub(Lt).div(ie)),x.redraw()}},x.mouseWheel=tt=>{Xt&&(x.mouseY<Dt||x.mouseY>x.height-Dt?$t=!0:(Pe(qe()),ie*=tt.deltaY<0?1.1:.9,x.redraw()))},x.mouseReleased=tt=>{if(Xt){if(1===tt.which&&!this.isCropMode&&!$t){let ot=qe();ot.sub(q),ot.add(T);let Ct={x:ot.x,y:ot.y};if(Qe)try{Qe.pos.push(Ct),Qe.pos.push(Ct),this.ReadyToShareAct&&this.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"end",data:Ct}))}catch{}Qt()}$t=!1}};let Pe=tt=>{Te=x.createVector(x.mouseX,x.mouseY),K=tt.mult(-1)},qe=(tt,ot)=>{let Ct=x.createVector(tt||x.mouseX,ot||x.mouseY);return Ct.sub(Te),Ct.div(ie),Ct.sub(K),Ct},Et=[],Ft=!1,Xt=!0,cn=tt=>{Xt=tt};x.touchStarted=tt=>{if(Xt){if(Et=tt.touches,tt.changedTouches[0].clientY<Dt||tt.changedTouches[0].clientY>x.height-Dt)return void($t=!0);switch(Ft=!0,Et.length){case 1:this.isCropMode?ze(tt.changedTouches[0].clientX,tt.changedTouches[0].clientY-Dt):$e(tt.changedTouches[0].clientX,tt.changedTouches[0].clientY-Dt);break;case 2:let ot=x.createVector(Et[0].clientX,Et[0].clientY-56),Ct=x.createVector(Et[1].clientX,Et[1].clientY-56);gn=ot.dist(Ct),Lt=ot.copy().add(Ct).div(2),hn=K.copy(),Yt=ie,Qe=void 0,this.ReadyToShareAct&&this.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"cancel"}));break;default:Ft=!1,x.SetCanvasViewportInit()}}},x.touchMoved=tt=>{if(Xt&&Ft){switch(Et=tt.touches,Et.length){case 1:if(this.isCropMode&&!$t){let ot=x.createVector(tt.changedTouches[0].clientX,tt.changedTouches[0].clientY-Dt);At?ee=sn.copy().add(Bt.copy().sub(ot).div(-ie)):k=an.copy().sub(ot).div(-ie),x.redraw()}else{let ot=qe(tt.changedTouches[0].clientX,tt.changedTouches[0].clientY-Dt);ot.sub(q),ot.add(T);let Ct={x:ot.x,y:ot.y};Qe&&Qe.pos&&Qe.pos.push(Ct),this.ReadyToShareAct&&this.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"moved",data:Ct})),x.redraw()}break;case 2:{let ot=x.createVector(Et[0].clientX,Et[0].clientY-56),Ct=x.createVector(Et[1].clientX,Et[1].clientY-56),vt=ot.copy().add(Ct).div(2);ie=ot.dist(Ct)/gn*Yt,K=hn.copy().add(vt.sub(Lt).div(ie)),x.redraw()}}return!1}},x.touchEnded=tt=>{if(Xt&&tt.changedTouches){switch(Et=tt.touches,Ft=!1,Et.length){case 0:if(!this.isCropMode&&!$t&&Qe){let ot=qe(tt.changedTouches[0].clientX,tt.changedTouches[0].clientY-Dt);ot.sub(q),ot.add(T);let Ct={x:ot.x,y:ot.y};Qe.pos.push(Ct),Qe.pos.push(Ct),this.ReadyToShareAct&&this.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"end",data:Ct})),Qt()}break;case 1:if(!Ft)return;Vt(),gn=0,Qe=void 0}$t=!1}};let Vt=()=>{Lt=x.createVector(Et[0].clientX,Et[0].clientY-56),hn=K.copy()},Qt=()=>{x.DrawingStack.length=We,Qe&&(x.DrawingStack.push(Qe),dt(A,Qe)),We=x.DrawingStack.length,Lt=void 0,$t=!1,Qe=void 0,x.redraw()}})}ClickRemoteAddButton(){this.isDrawServerCreated||(this.ServerList=this.nakama.get_all_online_server(),this.ServerList.length?(this.p5voidDraw.SetDrawable(!1),this.RemoteDraw.open()):this.RemoteBridgeServerSelected({detail:{value:"local"}}))}RemoteBridgeServerSelected(h){var _=this;return(0,j.A)(function*(){if(_.isDrawServerCreated)return;let M=h.detail.value;if("local"===M){let x;_.alertCtrl.create({header:_.lang.text.voidDraw.LocalAddrInput,inputs:[{type:"text",placeholder:"(wss://)0.0.0.0"},{type:"text",placeholder:_.lang.text.voidDraw.CreateChannel}],buttons:[{text:_.lang.text.voidDraw.Confirm,handler:N=>{N[0]?(_.InputCustomAddress=N[0],_.p5voidDraw.SetDrawable(!1),x=!0,_.isDrawServerCreated=!0,_.CreateOnMessageLink(),_.CreateOnOpenAct(!1,(0,j.A)(function*(){let I=_.p5voidDraw.getCropPos();_.nakama.VoidDrawInitCallBack=void 0,yield new Promise(z=>setTimeout(z,40)),_.IceWebRTCWsClient.send(JSON.stringify({type:"size",width:_.p5voidDraw.ActualCanvas.width,height:_.p5voidDraw.ActualCanvas.height,cropX:I.x,cropY:I.y}))})),_.CreateRemoteLocalClient(N[0],N[1])):_.p5toast.show({text:_.lang.text.voidDraw.InputAddress})}}]}).then(N=>{N.onDidDismiss().then(()=>{!x&&!_.WillLeaveHere&&_.global.RestoreShortCutAct()}),_.global.StoreShortCutAct(),N.present()})}else{_.RemoteLoadingCtrl=yield _.loadingCtrl.create({message:_.lang.text.voidDraw.WaitingConnection}),_.RemoteLoadingCtrl.present();let A=M.info.isOfficial,T=M.info.target;_.webrtc.CurrentMatch=_.nakama.self_match[A][T],_.isDrawServerCreated=!0,_.RemoteLoadingCtrl.message=_.lang.text.voidDraw.WebRTC_Init,_.webrtc.initialize("data",void 0,{isOfficial:A,target:T}).then((0,j.A)(function*(){_.CreateOnMessageLink(),_.CreateOnOpenAct(!1,(0,j.A)(function*(){let N=_.p5voidDraw.getCropPos();_.nakama.VoidDrawInitCallBack=void 0,yield _.nakama.servers[A][T].socket.sendMatchState(_.nakama.self_match[A][T].match_id,o.I.VOIDDRAW_INIT,encodeURIComponent(JSON.stringify({type:"size",width:_.p5voidDraw.ActualCanvas.width,height:_.p5voidDraw.ActualCanvas.height,cropX:N.x,cropY:N.y})))})),_.webrtc.CreateOffer(),_.nakama.VoidDrawInitCallBack=N=>{_.create_new_canvas({width:N.width,height:N.height}),_.p5voidDraw.setCropPos(N.cropX,N.cropY),_.p5voidDraw.redraw()},_.webrtc.InitReplyCallback=(0,j.A)(function*(){_.CreateOnOpenAct(!0),_.webrtc.CreateAnswer()}),yield _.nakama.servers[A][T].socket.sendMatchState(_.nakama.self_match[A][T].match_id,o.I.WEBRTC_INIT_REQ_SIGNAL,encodeURIComponent(""))}))}})()}CreateRemoteLocalClient(h,_){var M=this;let N,I,x=h.split("://"),A=x.pop().split(":"),T=x.pop();T?T+=":":T=A[0].replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")?"wss:":"ws:",this.IceWebRTCWsClient=new WebSocket(`${T}//${A[0]}:12013/`),this.AddShortCut(),this.isDrawServerCreated=!0,this.IceWebRTCWsClient.onopen=(0,j.A)(function*(){M.p5toast.show({text:`${M.lang.text.voidDraw.Connected}: ${A[0]}`}),_?(M.IceWebRTCWsClient.send(JSON.stringify({type:"join",channel:_})),yield new Promise(z=>setTimeout(z,40)),M.IceWebRTCWsClient.send(JSON.stringify({type:"size_req",channel:_})),M.RemoteLoadingCtrl=yield M.loadingCtrl.create({message:M.lang.text.voidDraw.WaitingConnection}),M.RemoteLoadingCtrl.present(),M.p5voidDraw.SetDrawable(!1)):M.IceWebRTCWsClient.send(JSON.stringify({type:"init"}))}),this.IceWebRTCWsClient.onmessage=function(){var z=(0,j.A)(function*(R){let Q,ne=JSON.parse(R.data);if(void 0===I)I=ne.uid;else if(I==ne.uid)return;switch(ne.type){case"init_id":N=yield M.modalCtrl.create({component:oe.n,componentProps:{address:h,channel:ne.id},cssClass:"transparent-modal"}),N.onWillDismiss().then(()=>{M.global.RestoreShortCutAct()}),M.global.StoreShortCutAct(),N.present(),M.IceWebRTCWsClient.send(JSON.stringify({type:"join",channel:ne.id})),Q=ne.id;break;case"init_req":M.p5voidDraw.SetDrawable(!1),M.RemoteLoadingCtrl.message=M.lang.text.voidDraw.WebRTC_Init,M.webrtc.initialize("data").then((0,j.A)(function*(){M.CreateOnMessageLink(),M.CreateOnOpenAct(!1,(0,j.A)(function*(){M.nakama.VoidDrawInitCallBack=void 0})),M.webrtc.CreateOffer(),yield new Promise(X=>setTimeout(X,40)),M.IceWebRTCWsClient.send(JSON.stringify({type:"socket_react",channel:Q,act:"WEBRTC_INIT_REQ_SIGNAL"}))}));break;case"size_req":N&&N.dismiss(),M.RemoteLoadingCtrl=yield M.loadingCtrl.create({message:M.lang.text.voidDraw.WaitingConnection}),M.RemoteLoadingCtrl.present();let V=M.p5voidDraw.getCropPos();M.IceWebRTCWsClient.send(JSON.stringify({type:"size",width:M.p5voidDraw.ActualCanvas.width,height:M.p5voidDraw.ActualCanvas.height,cropX:V.x,cropY:V.y,channel:Q}));break;case"socket_react":switch(ne.act){case"WEBRTC_REPLY_INIT_SIGNAL":M.RemoteLoadingCtrl.message=M.lang.text.voidDraw.WebRTC_Reply,M.nakama.socket_reactive[ne.act](ne.data_str),"EOL"==ne.data_str&&M.webrtc.CreateAnswer({client:M.IceWebRTCWsClient,channel:Q}),M.RemoteLoadingCtrl.message=M.lang.text.voidDraw.WebRTC_Ice;break;case"WEBRTC_ICE_CANDIDATES":M.nakama.socket_reactive[ne.act](ne.data_str,{client:M.IceWebRTCWsClient,channel:Q}),M.RemoteLoadingCtrl.dismiss(),M.p5voidDraw.SetDrawable(!0),M.IceWebRTCWsClient.send(JSON.stringify({type:"init_end",channel:Q}));break;case"WEBRTC_INIT_REQ_SIGNAL":M.nakama.socket_reactive[ne.act]({client:M.IceWebRTCWsClient,channel:Q});break;case"WEBRTC_RECEIVE_ANSWER":M.nakama.socket_reactive[ne.act](ne.data_str,{client:M.IceWebRTCWsClient,channel:Q})}break;case"size":M.create_new_canvas({width:ne.width,height:ne.height}),M.p5voidDraw.setCropPos(ne.cropX,ne.cropY),M.p5voidDraw.redraw(),M.webrtc.initialize("data").then(()=>{M.CreateOnOpenAct(!0),M.CreateOnMessageLink(),M.webrtc.CreateOffer(),M.IceWebRTCWsClient.send(JSON.stringify({type:"init_req"}))});break;case"init_end":M.p5voidDraw.SetDrawable(!0)}});return function(R){return z.apply(this,arguments)}}(),this.IceWebRTCWsClient.onerror=z=>{if(console.log("\uadf8\ub9bc\ud310 \uae30\ub2a5 \uacf5\uc720 \uc5f0\uacb0 \uc624\ub958: ",z),0==this.InputCustomAddress.indexOf("wss://")&&("DesktopPWA"==Ie.aH||"MobilePWA"==Ie.aH)){let R=this.InputCustomAddress.split("://");window.open(`https://${R.pop()}:9001`,"_blank"),this.InputCustomAddress=void 0}this.IceWebRTCWsClient.close(),this.p5toast.show({text:`${this.lang.text.TodoDetail.Disconnected}: ${z}`})},this.IceWebRTCWsClient.onclose=()=>{N&&N.dismiss(),this.isDrawServerCreated=!1,this.webrtc.close_webrtc(!1)}}CreateOnOpenAct(h=!1,_=(0,j.A)(function*(){})){var M=this;this.webrtc.dataChannelOpenAct=(0,j.A)(function*(){if(M.p5voidDraw.SetDrawable(!0),M.ReadyToShareAct=!0,M.RemoteLoadingCtrl&&M.RemoteLoadingCtrl.dismiss(),!h&&(_&&(yield _()),M.p5voidDraw.ClearCurrentDraw(),M.navParams.data.path)){let x=yield M.indexed.loadBlobFromUserPath(M.navParams.data.path,""),T=(yield M.global.GetBase64ThroughFileReader(x)).match(/(.{1,64})/g);for(let N=0,I=T.length;N<I;N++)yield M.webrtc.dataChannel.send(JSON.stringify({type:"background",act:"part",data:T[N]}));yield M.webrtc.dataChannel.send(JSON.stringify({type:"background",act:"EOF"}))}})}CreateOnMessageLink(){this.webrtc.dataChannelOnMsgAct=h=>{let _=JSON.parse(h);switch(_.type){case"drawline":this.p5voidDraw.DrawingStack=_.data,this.p5voidDraw.updateRemoteCurve(_.data),this.p5voidDraw.redraw();break;case"background":switch(_.act){case"part":this.RemoteBackgroundImage+=_.data;break;case"EOF":this.p5voidDraw.loadImage(this.RemoteBackgroundImage,M=>{this.p5voidDraw.BaseImage=M,this.p5voidDraw.ImageCanvas.image(this.p5voidDraw.BaseImage,0,0),this.p5voidDraw.ImageCanvas.redraw(),this.p5voidDraw.SetCanvasViewportInit(),this.RemoteBackgroundImage=""},M=>{console.error("\uadf8\ub9bc\ud310 \ubc30\uacbd \uc774\ubbf8\uc9c0 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",M),this.p5voidDraw.ImageCanvas.redraw(),this.p5voidDraw.SetCanvasViewportInit(),this.RemoteBackgroundImage=""})}break;case"draw":switch(_.act){case"start":this.p5voidDraw.RemoteDrawStart(_.data);break;case"moved":this.p5voidDraw.RemoteDrawing(_.data);break;case"cancel":this.p5voidDraw.CancelCurrentDraw();break;case"crop":this.p5voidDraw.setCropPos(_.cropPX,_.cropPY),this.p5voidDraw.setCropSize(_.cropSX,_.cropSY),this.isCropMode=!0,this.p5voidDraw.apply_crop(!1);break;case"end":this.p5voidDraw.RemoteDrawingEnd(_.data)}break;case"same":"history_act"===_.act&&this.p5voidDraw.history_act(_.data,!0)}},this.webrtc.dataChannelOnCloseAct=()=>{this.ReadyToShareAct=!1,this.isDrawServerCreated=!1,this.RemoteLoadingCtrl&&this.RemoteLoadingCtrl.dismiss(),this.p5voidDraw.SetDrawable(!0),this.p5toast.show({text:this.lang.text.TodoDetail.Disconnected}),this.nakama.VoidDrawInitCallBack=void 0}}change_line_weight(){this.p5voidDraw.set_line_weight()}open_crop_tool(){this.p5voidDraw.open_crop_tool()}dismiss_draw(){this.isCropMode?this.p5voidDraw.apply_crop():(this.mainLoading.present(),this.WithoutSave=!1,this.p5voidDraw.save_image())}ionSelectCancel(){this.p5voidDraw&&this.p5voidDraw.SetDrawable&&!this.isDrawServerCreated&&this.p5voidDraw.SetDrawable(!0)}RemoveShortCut(){this.p5voidDraw&&this.p5voidDraw.SetDrawable&&this.p5voidDraw.SetDrawable(!1),delete this.global.p5key.KeyShortCut.HistoryAct,delete this.global.p5key.KeyShortCut.AddAct,delete this.global.p5key.KeyShortCut.DeleteAct,delete this.global.p5key.KeyShortCut.SKeyAct,delete this.global.p5key.KeyShortCut.FKeyAct,delete this.global.p5key.KeyShortCut.Escape}ionViewWillLeave(){this.WillLeaveHere=!0,this.RemoveShortCut(),this.p5voidDraw&&this.p5voidDraw.remove(),this.IceWebRTCWsClient&&this.IceWebRTCWsClient.close(),this.CancelRemoteAct()}ionViewDidLeave(){this.WithoutSave&&this.mainLoading.remove()}}return(l=m).\u0275fac=function(h){return new(h||l)(H.rXU(v.y),H.rXU(w.W3),H.rXU(w.hG),H.rXU(w.Xi),H.rXU(y.z3),H.rXU(g.y8),H.rXU(C.n),H.rXU(o.X),H.rXU(E.G),H.rXU(s.j))},l.\u0275cmp=H.VBU({type:l,selectors:[["app-void-draw"]],viewQuery:function(h,_){if(1&h&&H.GBs(a,5),2&h){let M;H.mGM(M=H.lsd())&&(_.RemoteDraw=M.first)}},decls:14,vars:4,consts:[["RemoteDraw",""],[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["oncontextmenu","return false;"],["hidden",""],["value","local",3,"ionChange","ionCancel","label"],["value","local"],[3,"value",4,"ngFor","ngForOf"],["id","voidDraw",1,"full_screen",2,"display","flex","overflow","hidden","background-color","black"],[3,"value"]],template:function(h,_){if(1&h){const M=H.RV6();H.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),H.EFF(3),H.k0s(),H.j41(4,"ion-buttons",2),H.bIt("click",function(){return H.eBV(M),H.Njj(_.modalCtrl.dismiss())}),H.nrm(5,"ion-back-button",3),H.k0s()()(),H.j41(6,"ion-content",4)(7,"div",5)(8,"ion-select",6,0),H.bIt("ionChange",function(A){return H.eBV(M),H.Njj(_.RemoteBridgeServerSelected(A))})("ionCancel",function(){return H.eBV(M),H.Njj(_.ionSelectCancel())}),H.j41(10,"ion-select-option",7),H.EFF(11),H.k0s(),H.DNE(12,d,2,2,"ion-select-option",8),H.k0s()(),H.nrm(13,"div",9),H.k0s()}2&h&&(H.R7$(3),H.JRh(_.lang.text.ChatRoom.voidDraw),H.R7$(5),H.Y8G("label",_.lang.text.voidDraw.ConnectToAddress),H.R7$(3),H.JRh(_.lang.text.voidDraw.InternalConn),H.R7$(),H.Y8G("ngForOf",_.ServerList))},dependencies:[u.Sq,w.QW,w.W9,w.eU,w.Nm,w.Ip,w.BC,w.ai,w.Je,w.el]}),m})()},8065:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{j:()=>O});var j=fe(3953);let O=(()=>{var ge;class Ie{constructor(){this.colors={offline:"#888888",missing:"#880000",pending:"#dddd0c",online:"#4ff14f",certified:"#00ffff"},this.chatroom={},this.project={},this.task={},this.settings={groupServer:"offline",dedicatedServer:"offline",dedicated_groupchat:"offline"},this.tools={},this.groupServer={official:{default:"offline"},unofficial:{}},setInterval(()=>{},350)}}return(ge=Ie).\u0275fac=function(oe){return new(oe||ge)},ge.\u0275prov=j.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"}),Ie})()},2506:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{f:()=>z});var j=fe(467),O=fe(9349),ge=fe(3953),Ie=fe(3656),o=fe(5374),oe=fe(4234),H=fe(755),v=fe(482),w=fe(1357),g=fe(9900),y=fe(4237),C=fe(177),E=fe(4341);const s=["VideoIn"],u=["AudioIn"],a=["AudioOut"],d=["RegisterNewWebRTCServer"],p=()=>[.5,.6,.7,.8,.9,1];function l(R,Q){if(1&R&&(ge.j41(0,"ion-item")(1,"ion-label"),ge.EFF(2),ge.k0s(),ge.nrm(3,"ion-radio",15),ge.k0s()),2&R){const ne=Q.$implicit,V=Q.index;ge.R7$(2),ge.JRh(ne.label||ne.deviceId),ge.R7$(),ge.Y8G("value",V)}}function m(R,Q){if(1&R&&(ge.j41(0,"div")(1,"ion-item-divider")(2,"ion-label"),ge.EFF(3),ge.k0s()(),ge.j41(4,"ion-radio-group",13,2),ge.DNE(6,l,4,2,"ion-item",14),ge.k0s()()),2&R){const ne=ge.XpG();ge.R7$(3),ge.JRh(ne.lang.text.WebRTCDevManager.VideoIn),ge.R7$(3),ge.Y8G("ngForOf",ne.VideoInputs)}}function c(R,Q){if(1&R&&(ge.j41(0,"ion-item")(1,"ion-label"),ge.EFF(2),ge.k0s(),ge.nrm(3,"ion-radio",15),ge.k0s()),2&R){const ne=Q.$implicit,V=Q.index;ge.R7$(2),ge.JRh(ne.label||ne.deviceId),ge.R7$(),ge.Y8G("value",V)}}function h(R,Q){if(1&R&&(ge.j41(0,"div")(1,"ion-item-divider")(2,"ion-label"),ge.EFF(3),ge.k0s()(),ge.j41(4,"ion-radio-group",16,3),ge.DNE(6,c,4,2,"ion-item",14),ge.k0s()()),2&R){const ne=ge.XpG();ge.R7$(3),ge.JRh(ne.lang.text.WebRTCDevManager.AudioIn),ge.R7$(3),ge.Y8G("ngForOf",ne.AudioInputs)}}function _(R,Q){if(1&R){const ne=ge.RV6();ge.j41(0,"ion-item",10),ge.bIt("click",function(){ge.eBV(ne);const X=ge.XpG();return ge.Njj(X.saveSetup())}),ge.j41(1,"ion-label",11),ge.EFF(2),ge.k0s()()}if(2&R){const ne=ge.XpG();ge.R7$(2),ge.JRh(ne.lang.text.WebRTCDevManager.saveSetup)}}function M(R,Q){if(1&R){const ne=ge.RV6();ge.j41(0,"img",21),ge.bIt("click",function(){ge.eBV(ne);const X=ge.XpG().index,U=ge.XpG();return ge.Njj(U.copy_info(X))}),ge.k0s()}if(2&R){const ne=ge.XpG().index,V=ge.XpG();ge.Y8G("src",V.QRCodes[ne],ge.B4B)}}function x(R,Q){if(1&R){const ne=ge.RV6();ge.j41(0,"ion-accordion",15)(1,"ion-item",17)(2,"ion-label"),ge.EFF(3),ge.k0s()(),ge.j41(4,"div",18),ge.DNE(5,M,1,1,"img",19),ge.j41(6,"ion-item",10),ge.bIt("click",function(){const X=ge.eBV(ne).index,U=ge.XpG();return ge.Njj(U.RemoveServer(X))}),ge.j41(7,"ion-label",20),ge.EFF(8),ge.k0s()()()()}if(2&R){const ne=Q.$implicit,V=Q.index,X=ge.XpG();ge.Y8G("value",V),ge.R7$(3),ge.JRh(ne.urls[0]),ge.R7$(2),ge.Y8G("ngIf",X.QRCodes[V]),ge.R7$(3),ge.JRh(X.lang.text.WebRTCDevManager.Remove)}}function A(R,Q){if(1&R){const ne=ge.RV6();ge.j41(0,"ion-icon",27),ge.bIt("click",function(){ge.eBV(ne);const X=ge.XpG(3);return ge.Njj(X.AddServerUrl())}),ge.k0s()}}function T(R,Q){if(1&R){const ne=ge.RV6();ge.j41(0,"ion-icon",28),ge.bIt("click",function(){ge.eBV(ne);const X=ge.XpG().$implicit,U=ge.XpG(2);return ge.Njj(U.SubtractServerUrl(X))}),ge.k0s()}}function N(R,Q){if(1&R){const ne=ge.RV6();ge.j41(0,"ion-item")(1,"ion-input",24),ge.mxI("ngModelChange",function(X){const U=ge.eBV(ne).$implicit,F=ge.XpG(2);return ge.DH7(F.userInput.urls[U],X)||(F.userInput.urls[U]=X),ge.Njj(X)}),ge.k0s(),ge.DNE(2,A,1,0,"ion-icon",25)(3,T,1,0,"ion-icon",26),ge.k0s()}if(2&R){const ne=Q.$implicit,V=ge.XpG(2);ge.R7$(),ge.Y8G("label",0==ne?V.lang.text.WebRTCDevManager.Urls:""),ge.R50("ngModel",V.userInput.urls[ne]),ge.R7$(),ge.Y8G("ngIf",0==ne),ge.R7$(),ge.Y8G("ngIf",0!=ne)}}function I(R,Q){if(1&R){const ne=ge.RV6();ge.j41(0,"ion-content")(1,"ion-item-divider")(2,"ion-label"),ge.EFF(3),ge.k0s()(),ge.DNE(4,N,4,4,"ion-item",14),ge.j41(5,"ion-item")(6,"ion-input",22),ge.mxI("ngModelChange",function(X){ge.eBV(ne);const U=ge.XpG();return ge.DH7(U.userInput.username,X)||(U.userInput.username=X),ge.Njj(X)}),ge.k0s()(),ge.j41(7,"ion-item")(8,"ion-input",23),ge.mxI("ngModelChange",function(X){ge.eBV(ne);const U=ge.XpG();return ge.DH7(U.userInput.credential,X)||(U.userInput.credential=X),ge.Njj(X)}),ge.k0s()(),ge.j41(9,"ion-item",10),ge.bIt("click",function(){ge.eBV(ne);const X=ge.XpG();return ge.Njj(X.SaveServer())}),ge.j41(10,"ion-label",11),ge.EFF(11),ge.k0s()()()}if(2&R){const ne=ge.XpG();ge.R7$(3),ge.JRh(ne.lang.text.WebRTCDevManager.ServerInfo),ge.R7$(),ge.Y8G("ngForOf",ne.UserInputUrlsLength),ge.R7$(2),ge.Y8G("label",ne.lang.text.WebRTCDevManager.Username),ge.R50("ngModel",ne.userInput.username),ge.R7$(2),ge.Y8G("label",ne.lang.text.WebRTCDevManager.Credential),ge.R50("ngModel",ne.userInput.credential),ge.R7$(3),ge.JRh(ne.lang.text.WebRTCDevManager.Save)}}let z=(()=>{var R;class Q{constructor(V,X,U,F,K,ie,Te,q){this.navParams=V,this.modalCtrl=X,this.lang=U,this.indexed=F,this.global=K,this.mClipboard=ie,this.p5toast=Te,this.nakama=q,this.InOut=[],this.VideoInputs=[],this.AudioInputs=[],this.AudioOutputs=[],this.ServerInfos=[],this.QRCodes=[],this.userInput={urls:[""],username:"",credential:""},this.UserInputUrlsLength=[0],this.BackButtonPressed=!1}InitBrowserBackButtonOverride(){try{window.history.replaceState(null,null,window.location.href),window.onpopstate=()=>{this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}catch(V){console.log("\ud0d0\uc0c9 \uae30\ub85d \ubcc0\uacbd\uc2dc \uc624\ub958 \ubc1c\uc0dd: ",V)}}ngOnInit(){this.InitBrowserBackButtonOverride(),this.InOut=this.navParams.get("list")||[];for(let V=0,X=this.InOut.length;V<X;V++)this.InOut[V].kind.indexOf("videoinput")>=0&&this.VideoInputs.push(this.InOut[V]),this.InOut[V].kind.indexOf("audioinput")>=0&&this.AudioInputs.push(this.InOut[V]),this.InOut[V].kind.indexOf("audiooutput")>=0&&this.AudioOutputs.push(this.InOut[V])}ionViewWillEnter(){var V=this;return(0,j.A)(function*(){try{let X=yield V.indexed.loadTextFromUserPath("servers/webrtc_server.json");V.ServerInfos=JSON.parse(X);for(let U=0,F=V.ServerInfos.length;U<F;U++){let ie=V.global.readasQRCodeFromString(`${O.d2}godotchat_pwa/?rtcserver=[${V.ServerInfos[U].urls}],${V.ServerInfos[U].username},${V.ServerInfos[U].credential}`);V.QRCodes[U]=ie}}catch{}try{let X=localStorage.getItem("VideoInputDev");V.VideoInput.value=Number(X)||0}catch{}try{let X=localStorage.getItem("AudioInputDev");V.AudioInput.value=Number(X)||0}catch{}})()}ionViewDidEnter(){this.global.p5key.KeyShortCut.AddAct=()=>{this.OpenNewWebRTCServerForm()}}saveSetup(){let V={};this.VideoInput&&void 0!==this.VideoInput.value&&(V.videoinput=this.VideoInputs[this.VideoInput.value],localStorage.setItem("VideoInputDev",this.VideoInput.value)),this.AudioInput&&void 0!==this.AudioInput.value&&(V.audioinput=this.AudioInputs[this.AudioInput.value],localStorage.setItem("AudioInputDev",this.AudioInput.value)),this.AudioOutput&&void 0!==this.AudioOutput.value&&(V.audiooutput=this.AudioOutputs[this.AudioOutput.value]),this.modalCtrl.dismiss(V)}AddServerUrl(){this.userInput.urls.push(""),this.UserInputUrlsLength.push(this.UserInputUrlsLength.length)}SubtractServerUrl(V){this.userInput.urls.splice(V,1),this.UserInputUrlsLength.pop()}OpenNewWebRTCServerForm(){this.RegisterServer.present()}SaveServer(){var V=this;return(0,j.A)(function*(){V.userInput.urls.filter(F=>F);for(let F=V.userInput.urls.length-1;F>=0;F--)V.userInput.urls[F].trim()||V.userInput.urls.splice(F,1);if(!V.userInput.urls.length)return void V.p5toast.show({text:V.lang.text.WebRTCDevManager.IgnoreSave});yield V.nakama.SaveWebRTCServer(V.userInput);let U=V.global.readasQRCodeFromString(`${O.d2}godotchat_pwa/?rtcserver=[${V.userInput.urls}],${V.userInput.username},${V.userInput.credential}`);V.QRCodes.push(U),V.ServerInfos.push(V.userInput),V.userInput={urls:[""],username:"",credential:""},V.UserInputUrlsLength.length=0,V.UserInputUrlsLength.push(0),V.RegisterServer.dismiss()})()}copy_info(V){let X=`${O.d2}godotchat_pwa/?rtcserver=[${this.ServerInfos[V].urls}],${this.ServerInfos[V].username},${this.ServerInfos[V].credential}`;this.mClipboard.copy(X).catch(U=>{this.global.WriteValueToClipboard("text/plain",X)})}RemoveServer(V){var X=this;return(0,j.A)(function*(){X.ServerInfos.splice(V,1),yield X.indexed.saveTextFileToUserPath(JSON.stringify(X.ServerInfos),"servers/webrtc_server.json")})()}ionViewWillLeave(){delete this.global.p5key.KeyShortCut.AddAct}}return(R=Q).\u0275fac=function(V){return new(V||R)(ge.rXU(Ie.y8),ge.rXU(o.W3),ge.rXU(oe.y),ge.rXU(H.n),ge.rXU(v.z3),ge.rXU(w.B),ge.rXU(g.G),ge.rXU(y.X))},R.\u0275cmp=ge.VBU({type:R,selectors:[["app-webrtc-manage-io-dev"]],viewQuery:function(V,X){if(1&V&&(ge.GBs(s,5),ge.GBs(u,5),ge.GBs(a,5),ge.GBs(d,5)),2&V){let U;ge.mGM(U=ge.lsd())&&(X.VideoInput=U.first),ge.mGM(U=ge.lsd())&&(X.AudioInput=U.first),ge.mGM(U=ge.lsd())&&(X.AudioOutput=U.first),ge.mGM(U=ge.lsd())&&(X.RegisterServer=U.first)}},decls:22,vars:10,consts:[["WebRTCServers",""],["RegisterNewWebRTCServer",""],["VideoIn",""],["AudioIn",""],[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],[4,"ngIf"],["button","",3,"click",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["button","",3,"click"],[1,"ion-text-center"],[3,"initialBreakpoint","breakpoints"],["name","videoinput"],[4,"ngFor","ngForOf"],[3,"value"],["name","audioinput"],["button","","slot","header"],["slot","content"],["style","width: 100%; height: auto;","alt","Loading",3,"src","click",4,"ngIf"],["color","danger",1,"ion-text-center"],["alt","Loading",2,"width","100%","height","auto",3,"click","src"],["placeholder","username",1,"ion-text-end",3,"ngModelChange","label","ngModel"],["placeholder","credential",1,"ion-text-end",3,"ngModelChange","label","ngModel"],["placeholder","stun:stun.l.google.com:19302",1,"ion-text-end",3,"ngModelChange","label","ngModel"],["slot","end","color","success","name","add-circle-outline",3,"click",4,"ngIf"],["slot","end","color","danger","name","remove-circle-outline",3,"click",4,"ngIf"],["slot","end","color","success","name","add-circle-outline",3,"click"],["slot","end","color","danger","name","remove-circle-outline",3,"click"]],template:function(V,X){if(1&V){const U=ge.RV6();ge.j41(0,"ion-header",4)(1,"ion-toolbar")(2,"ion-title"),ge.EFF(3),ge.k0s(),ge.j41(4,"ion-buttons",5),ge.bIt("click",function(){return ge.eBV(U),ge.Njj(X.modalCtrl.dismiss())}),ge.nrm(5,"ion-back-button",6),ge.k0s()()(),ge.j41(6,"ion-content"),ge.DNE(7,m,7,2,"div",7)(8,h,7,2,"div",7)(9,_,3,1,"ion-item",8),ge.j41(10,"ion-item-divider")(11,"ion-label"),ge.EFF(12),ge.k0s()(),ge.j41(13,"ion-accordion-group",null,0),ge.DNE(15,x,9,4,"ion-accordion",9),ge.k0s(),ge.j41(16,"ion-item",10),ge.bIt("click",function(){return ge.eBV(U),ge.Njj(X.OpenNewWebRTCServerForm())}),ge.j41(17,"ion-label",11),ge.EFF(18),ge.k0s()(),ge.j41(19,"ion-modal",12,1),ge.DNE(21,I,12,7,"ng-template"),ge.k0s()()}2&V&&(ge.R7$(3),ge.JRh(X.lang.text.WebRTCDevManager.Title),ge.R7$(4),ge.Y8G("ngIf",X.VideoInputs.length),ge.R7$(),ge.Y8G("ngIf",X.AudioInputs.length),ge.R7$(),ge.Y8G("ngIf",X.InOut.length),ge.R7$(3),ge.JRh(X.lang.text.WebRTCDevManager.ManageServer),ge.R7$(3),ge.Y8G("ngForOf",X.ServerInfos),ge.R7$(3),ge.JRh(X.lang.text.WebRTCDevManager.AddServer),ge.R7$(),ge.Y8G("initialBreakpoint",.5)("breakpoints",ge.lJ4(9,p)))},dependencies:[C.Sq,C.bT,E.BC,E.vS,o.xk,o.YH,o.QW,o.W9,o.eU,o.iq,o.$w,o.uz,o.Dg,o.he,o.KO,o.f0,o.BC,o.ai,o.Sb,o.Je,o.Gw,o.el]}),Q})()},4020:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{j:()=>u});var j=fe(467),O=fe(8326),Ie=fe(2506),o=fe(4237),oe=fe(5402),H=fe(482),v=fe(3953),w=fe(5374),g=fe(9900),y=fe(755),C=fe(4234),E=fe(1357);!function s(){("http:"!=window.location.protocol||0==window.location.host.indexOf("localhost"))&&fe.e(925).then(fe.t.bind(fe,925,23)).then(a=>{})}();let u=(()=>{var a;class d{constructor(l,m,c,h,_,M){this.modalCtrl=l,this.p5toast=m,this.indexed=c,this.lang=h,this.nakama=_,this.mClipboard=M,this.OnUse=!1,this.isCallable=!1,this.isConnected=!1,this.JoinInited=!1,this.ReceivedOfferPart="",this.ReceivedAnswerPart="",this.IceCandidates=[],this.nakama.WebRTCService=this}initialize(l,m,c,h){var _=this;return(0,j.A)(function*(){if("data"!=l&&"http:"==window.location.protocol&&0!=window.location.host.indexOf("localhost")){let A=_.nakama.get_all_online_server(),T="https://is2you2.github.io/godotchat_pwa/";T+=`?tmp_user=${_.nakama.users.self.email},${_.nakama.users.self.password},${_.nakama.users.self.display_name}`;for(let N=0,I=A.length;N<I;N++)T+=`&server=${A[N].info.name||""},${A[N].info.address||""},${A[N].info.useSSL||""},${A[N].info.port||""},${A[N].info.key||""}`;T+=`&open_prv_channel=${c.user_id},${c.isOfficial||"official"},${c.target||"DevTestServer"}`;try{let N=yield _.indexed.loadTextFromUserPath("servers/webrtc_server.json"),I=JSON.parse(N);for(let z=0,R=I.length;z<R;z++)T+=`&rtcserver=[${I[z].urls}],${I[z].username},${I[z].credential}`}catch{}try{yield _.mClipboard.copy(T)}catch{}throw window.open(T,"_blank"),_.lang.text.WebRTCDevManager.SecurityError}if("data"!=l&&(yield oe.R.requestAudioRecordingPermission()),_.OnUse)throw _.p5toast.show({text:_.lang.text.WebRTCDevManager.AlreadyCalling}),_.lang.text.WebRTCDevManager.AlreadyCalling;if(yield _.close_webrtc(h),_.TypeIn=l,_.nakama.socket_reactive.WEBRTC_CHECK_ONLINE=A=>{_.user_id==A.user_id&&(_.nakama.load_other_user(_.user_id,_.isOfficial,_.target).online||_.close_webrtc())},_.nakama.socket_reactive.WEBRTC_INIT_REQ_SIGNAL=function(){var A=(0,j.A)(function*(T){let I=JSON.stringify(_.LocalOffer).match(/(.{1,64})/g);if(T){for(let z=0,R=I.length;z<R;z++)T.client.send(JSON.stringify({type:"socket_react",channel:T.channel,act:"WEBRTC_REPLY_INIT_SIGNAL",data_str:I[z]})),yield new Promise(Q=>setTimeout(Q,40));T.client.send(JSON.stringify({type:"socket_react",channel:T.channel,act:"WEBRTC_REPLY_INIT_SIGNAL",data_str:"EOL"}))}else{for(let z=0,R=I.length;z<R;z++)yield _.nakama.servers[_.isOfficial][_.target].socket.sendMatchState(_.CurrentMatch.match_id,o.I.WEBRTC_REPLY_INIT_SIGNAL,encodeURIComponent(I[z]));yield _.nakama.servers[_.isOfficial][_.target].socket.sendMatchState(_.CurrentMatch.match_id,o.I.WEBRTC_REPLY_INIT_SIGNAL,encodeURIComponent("EOL"))}});return function(T){return A.apply(this,arguments)}}(),_.nakama.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL=A=>{"EOL"==A?(_.createRemoteOfferFromAnswer(JSON.parse(_.ReceivedOfferPart)),_.ReceivedOfferPart="",_.InitReplyCallback&&_.InitReplyCallback()):_.ReceivedOfferPart+=A},_.nakama.socket_reactive.WEBRTC_RECEIVE_ANSWER=(A,T)=>{"EOL"==A?(_.ReceiveRemoteAnswer(JSON.parse(_.ReceivedAnswerPart),T),_.ReceivedAnswerPart=""):_.ReceivedAnswerPart+=A},_.nakama.socket_reactive.WEBRTC_ICE_CANDIDATES=(A,T)=>{_.ReceiveIceCandidate(JSON.parse(A),T)},_.nakama.socket_reactive.WEBRTC_NEGOCIATENEEDED=A=>{"EOL"==A?(_.createRemoteOfferFromAnswer(JSON.parse(_.ReceivedOfferPart)),_.ReceivedOfferPart="",_.CreateAnswer()):_.ReceivedOfferPart+=A},_.nakama.socket_reactive.WEBRTC_RECEIVED_CALL_SELF=()=>{_.close_webrtc(!1)},c&&(_.isOfficial=c.isOfficial,_.target=c.target,_.user_id=c.user_id,_.channel_id=c.channel_id),"data"!=l){_.createP5_panel();try{var M,x;_.localMedia=document.createElement(l),_.localMedia.id="webrtc_video",_.localMedia.style.width="100%",_.localMedia.style.height="fit-content",_.localMedia.autoplay=!0,"video"==l&&(_.localMedia.playsInline=!0),_.localMedia.muted=!0,document.body.appendChild(_.localMedia),_.remoteMedia=document.createElement(l),_.remoteMedia.id="webrtc_video_remote",_.remoteMedia.style.width="100%",_.remoteMedia.style.height="fit-content",_.remoteMedia.autoplay=!0,"video"==l&&(_.remoteMedia.playsInline=!0),document.body.appendChild(_.remoteMedia);let T,N,A=yield _.getDeviceList(),I=Number(null!==(M=localStorage.getItem("VideoInputDev"))&&void 0!==M?M:NaN),z=Number(null!==(x=localStorage.getItem("AudioInputDev"))&&void 0!==x?x:NaN);for(let R=0,Q=A.length,ne=0,V=0;R<Q&&(!T||!N);R++)!T&&"audioinput"==A[R].kind&&(Number.isNaN(z)?(T=A[R].deviceId,localStorage.setItem("AudioInputDev",`${V}`)):V==z&&(T=A[R].deviceId),V++),!N&&"videoinput"==A[R].kind&&(Number.isNaN(I)?(N=A[R].deviceId,localStorage.setItem("AudioInputDev",`${ne}`)):ne==I&&(N=A[R].deviceId),ne++);m||(m={},"video"==l?(m.video=!0,N&&(m.video={deviceId:N})):m.video=!1,m.audio=!0,T&&(m.audio={deviceId:T})),_.localStream=yield navigator.mediaDevices.getUserMedia(m),_.localMedia.srcObject=_.localStream,_.isCallable=!0}catch(A){console.log("navigator.getUserMedia error: ",A),yield _.close_webrtc(),_.p5toast.show({text:`${_.lang.text.WebRTCDevManager.InitErr}: ${A}`})}}else _.isCallable=!0;yield _.createCall(),_.p5canvas&&(_.p5canvas.call_button.elt.disabled=!1)})()}createP5_panel(){var l=this;this.OnUse=!0,this.p5canvas&&(clearTimeout(this.p5canvas.waiting_act),this.p5canvas.remove()),this.p5canvas=new O(m=>{let c,h,_,M,x,A,T,N,I,z,R=1;m.setup=()=>{let X,U=()=>{this.JoinInited?(X.stop(.1),clearTimeout(m.waiting_act)):(X&&X.stop(.1),X=new O.Oscillator(380,"sine"),X.start(),X.amp(1,.15),X.amp(0,.75),m.waiting_act=setTimeout(()=>{U()},1200))};m.waiting_act=setTimeout(()=>{U()},0),m.hangup=(F=!1)=>{!this.isConnected&&!F||(X.stop(.1),clearTimeout(m.waiting_act),X=new O.Oscillator(380,"sine"),X.start(),X.freq(250,.35),X.amp(1,.15),X.amp(0,.25),X.amp(1,.35),X.amp(0,.45))},m.noCanvas(),c=m.createDiv(),c.id("outterDiv"),c.style("position: absolute; left: 50%; top: 0px; z-index: 1"),c.style("transform: translateX(-50%)"),c.style("width: fit-content; height: fit-content"),c.style("padding: 8px 16px;"),c.style("display: flex; justify-content: center;"),M=m.createDiv(),M.parent(c),M.style("display: flex; justify-content: center;"),M.style("width: fit-content; height: fit-content"),M.style("border-radius: 32px"),M.style("background: #"+(H.ud?"30564e88":"b9543788")),M.style("padding: 6px 12px"),h=m.createDiv(),h.parent(M),h.id("webrtc_content"),h.style("display: flex; justify-content: center;"),h.style("flex-direction","column"),h.style("width: fit-content; height: fit-content"),h.style("word-break: break-all"),h.style("background: #"+(H.ud?"30564e88":"b9543788")),h.style("border-radius: 32px"),h.style("padding: 6px 12px"),h.style("color: "+(H.ud?"white":"black")),V(),this.isOfficial&&this.target&&(this.user_id&&(_=m.createDiv(this.nakama.users[this.isOfficial][this.target][this.user_id].display_name)),_.parent(h),_.style("text-align","center"),_.style("align-self","center"),_.style("width","100%"),_.style("height","fit-content"),_.style("pointer-events","none")),x=m.createDiv(),x.parent(h),x.id("webrtc_content"),x.style("display: flex; justify-content: center;"),x.style("align-self","center"),x.style("width: fit-content; height: fit-content"),A=m.createButton('<ion-icon style="width: 32px; height: 32px;" name="call-outline"></ion-icon>'),A.parent(x),A.style("padding","0px"),A.style("margin","4px"),A.style("border-radius","16px"),A.style("width","40px"),A.style("height","40px"),A.mouseClicked(()=>{this.CreateAnswer()}),A.elt.disabled=!0,m.call_button=A,T=m.createButton('<ion-icon style="width: 32px; height: 32px;" name="mic-outline"></ion-icon>'),T.parent(x),T.style("padding","0px"),T.style("margin","4px"),T.style("border-radius","16px"),T.style("width","40px"),T.style("height","40px"),T.mouseClicked(()=>{const F=this.localStream.getAudioTracks();for(let K=0,ie=F.length;K<ie;K++)F[K].enabled=!1;N.show(),T.hide()}),N=m.createButton('<ion-icon style="width: 32px; height: 32px;" name="mic-off-outline"></ion-icon>'),N.parent(x),N.style("background-color","grey"),N.style("padding","0px"),N.style("margin","4px"),N.style("border-radius","16px"),N.style("width","40px"),N.style("height","40px"),N.mouseClicked(()=>{const F=this.localStream.getAudioTracks();for(let K=0,ie=F.length;K<ie;K++)F[K].enabled=!0;T.show(),N.hide()}),N.hide(),I=m.createButton('<ion-icon style="width: 32px; height: 32px;" name="settings-outline"></ion-icon>'),I.parent(x),I.style("padding","0px"),I.style("margin","4px"),I.style("border-radius","16px"),I.style("width","40px"),I.style("height","40px"),I.mouseClicked((0,j.A)(function*(){I.elt.disabled=!0;let F=yield l.getDeviceList();l.modalCtrl.create({component:Ie.f,componentProps:{list:F}}).then(K=>{K.onDidDismiss().then(function(){var ie=(0,j.A)(function*(Te){I.elt.disabled=!1;try{let q={};Te.data.videoinput&&(q.video={deviceId:Te.data.videoinput.deviceId}),Te.data.audioinput&&(q.audio={deviceId:Te.data.audioinput.deviceId}),l.PeerConnection.removeStream(l.localStream),l.localStream=yield navigator.mediaDevices.getUserMedia(q),l.localMedia.srcObject=l.localStream,l.localStream.getTracks().forEach(k=>l.PeerConnection.addTrack(k,l.localStream))}catch{}});return function(Te){return ie.apply(this,arguments)}}()),K.present()})})),z=m.createButton('<ion-icon style="width: 32px; height: 32px;" name="close-circle-outline"></ion-icon>'),z.parent(x),z.style("background-color","red"),z.style("padding","0px"),z.style("margin","4px"),z.style("border-radius","16px"),z.style("width","40px"),z.style("height","40px"),z.mouseClicked((0,j.A)(function*(){yield l.close_webrtc()}))};let ne=!1;m.draw=()=>{R>0&&(R-=.03),V(),this.OnUse||this.p5canvas&&!ne&&(this.p5canvas.hangup(),c.hide(),setTimeout(()=>{this.OnUse||this.p5canvas.remove()},1e3),ne=!0)};let V=()=>{let X=m.lerpColor(m.color("#"+(H.ud?"30564e88":"b9543788")),m.color("#ffd94ebb"),R).levels,U=4*R;M.style(`padding: ${U}px ${U}px`),h.style(`padding: ${m.lerp(6,2,R)}px ${m.lerp(12,8,R)}px`),M.style(`background: rgba(${X[0]}, ${X[1]}, ${X[2]}, ${X[3]/255})`)}})}getDeviceList(){return(0,j.A)(function*(){return yield navigator.mediaDevices.enumerateDevices()})()}createCall(){var l=this;return(0,j.A)(function*(){let m;l.isCallable=!1,l.isConnected=!0,l.startTime=window.performance.now();try{let c=yield l.indexed.loadTextFromUserPath("servers/webrtc_server.json");m={},m.iceServers=JSON.parse(c)}catch{}"data"!=l.TypeIn&&(!m||!m.iceServers||!m.iceServers.length)&&(l.p5toast.show({text:l.lang.text.WebRTCDevManager.NoRegServer}),m=void 0),l.PeerConnection=new RTCPeerConnection(m),l.PeerConnection.addEventListener("icecandidate",c=>l.handleConnection(c)),l.PeerConnection.addEventListener("connectionstatechange",function(){var c=(0,j.A)(function*(h){switch(h.target.connectionState){case"failed":case"disconnected":yield l.close_webrtc();break;case"connected":l.p5canvas&&clearTimeout(l.p5canvas.waiting_act);break;default:console.log("\uc5f0\uacb0 \uc0c1\ud0dc \ubcc0\uacbd\ub428: ",h.target.connectionState)}});return function(h){return c.apply(this,arguments)}}()),"data"!=l.TypeIn?(l.localStream.getTracks().forEach(c=>l.PeerConnection.addTrack(c,l.localStream)),l.PeerConnection.addEventListener("addstream",c=>{l.remoteMedia.srcObject=c.stream})):l.createDataChannel(),l.PeerConnection.addEventListener("datachannel",c=>{l.dataChannel=c.channel,l.createDataChannelListener()}),l.PeerConnection.addEventListener("negotiationneeded",function(){var c=(0,j.A)(function*(h){if(l.JoinInited){yield l.PeerConnection.createOffer({offerToReceiveVideo:1}).then(x=>l.createdOffer(x)).catch(x=>l.setSessionDescriptionError(x));let M=JSON.stringify(l.LocalOffer).match(/(.{1,64})/g);if(l.isOfficial&&l.target){for(let x=0,A=M.length;x<A;x++)yield l.nakama.servers[l.isOfficial][l.target].socket.sendMatchState(l.CurrentMatch.match_id,o.I.WEBRTC_NEGOCIATENEEDED,encodeURIComponent(M[x]));yield l.nakama.servers[l.isOfficial][l.target].socket.sendMatchState(l.CurrentMatch.match_id,o.I.WEBRTC_NEGOCIATENEEDED,encodeURIComponent("EOL"))}else console.log("\uc11c\ubc84\uc815\ubcf4 \uc5c6\uc74c: \ub204\uad6c \ud1b5\ud574\uc11c \ubcf4\ub0c4?")}});return function(h){return c.apply(this,arguments)}}())})()}createDataChannel(l){this.dataChannel=this.PeerConnection.createDataChannel(l),this.createDataChannelListener()}createDataChannelListener(){this.dataChannel.addEventListener("open",l=>{this.dataChannelOpenAct&&this.dataChannelOpenAct()}),this.dataChannel.addEventListener("close",l=>{this.dataChannelOnCloseAct&&this.dataChannelOnCloseAct(),this.dataChannelOpenAct=void 0,this.dataChannelOnMsgAct=void 0,this.dataChannelOnCloseAct=void 0}),this.dataChannel.addEventListener("message",l=>{this.dataChannelOnMsgAct&&this.dataChannelOnMsgAct(l.data)})}send(l){try{this.dataChannel.send(l)}catch(m){console.log("WebRTC \uba54\uc2dc\uc9c0 \ubc1c\uc1a1 \uc2e4\ud328: ",m)}}CreateOffer(){this.p5canvas&&this.p5canvas.call_button.hide(),this.PeerConnection.createOffer({offerToReceiveVideo:1}).then(l=>this.createdOffer(l)).catch(l=>this.setSessionDescriptionError(l))}handleConnection(l){let m=l.candidate;m&&this.IceCandidates.push(new RTCIceCandidate(m))}ReceiveIceCandidate(l,m){var c=this;this.ReplyIceCandidate&&clearTimeout(this.ReplyIceCandidate),this.ReplyIceCandidate=setTimeout((0,j.A)(function*(){if(m)for(let h=0,_=c.IceCandidates.length;h<_;h++)m.client.send(JSON.stringify({type:"socket_react",act:"WEBRTC_ICE_CANDIDATES",channel:m.channel,data_str:JSON.stringify(c.IceCandidates[h])})),yield new Promise(M=>setTimeout(M,40));else for(let h=0,_=c.IceCandidates.length;h<_;h++)yield c.nakama.servers[c.isOfficial][c.target].socket.sendMatchState(c.CurrentMatch.match_id,o.I.WEBRTC_ICE_CANDIDATES,encodeURIComponent(JSON.stringify(c.IceCandidates[h])));c.IceCandidates.length=0}),800),this.PeerConnection.addIceCandidate(l).then(()=>{console.log("Success to add new ice candidate")}).catch(h=>{console.error("failed to add ice candidate: ",h)})}createdOffer(l){this.LocalOffer=l,this.PeerConnection.setLocalDescription(l).then(()=>{this.setLocalDescriptionSuccess(this.PeerConnection)}).catch(m=>this.setSessionDescriptionError(m))}createRemoteOfferFromAnswer(l){this.PeerConnection.setRemoteDescription(l).then(()=>{this.setRemoteDescriptionSuccess(this.PeerConnection)}).catch(m=>this.setSessionDescriptionError(m))}CreateAnswer(l){this.PeerConnection.createAnswer().then(m=>this.createdAnswer(m,l)).catch(m=>this.setSessionDescriptionError(m))}setLocalDescriptionSuccess(l){this.setDescriptionSuccess(l,"setLocalDescription")}setRemoteDescriptionSuccess(l){this.setDescriptionSuccess(l,"setRemoteDescription")}createdAnswer(l,m){var c=this;return(0,j.A)(function*(){c.p5canvas&&c.p5canvas.call_button.hide(),c.LocalAnswer=l,c.PeerConnection.setLocalDescription(l).then(()=>{c.setLocalDescriptionSuccess(c.PeerConnection)}).catch(M=>c.setSessionDescriptionError(M));let _=JSON.stringify(l).match(/(.{1,64})/g);if(m){for(let M=0,x=_.length;M<x;M++)m.client.send(JSON.stringify({type:"socket_react",act:"WEBRTC_RECEIVE_ANSWER",channel:m.channel,data_str:_[M]})),yield new Promise(A=>setTimeout(A,40));m.client.send(JSON.stringify({type:"socket_react",act:"WEBRTC_RECEIVE_ANSWER",channel:m.channel,data_str:"EOL"}))}else{for(let M=0,x=_.length;M<x;M++)yield c.nakama.servers[c.isOfficial][c.target].socket.sendMatchState(c.CurrentMatch.match_id,o.I.WEBRTC_RECEIVE_ANSWER,encodeURIComponent(_[M]));yield c.nakama.servers[c.isOfficial][c.target].socket.sendMatchState(c.CurrentMatch.match_id,o.I.WEBRTC_RECEIVE_ANSWER,encodeURIComponent("EOL")),yield c.nakama.servers[c.isOfficial][c.target].socket.sendMatchState(c.nakama.self_match[c.isOfficial][c.target].match_id,o.I.WEBRTC_RECEIVED_CALL_SELF,encodeURIComponent(""))}c.JoinInited=!0})()}ReceiveRemoteAnswer(l,m){var c=this;return(0,j.A)(function*(){if(c.PeerConnection.setRemoteDescription(l).then(()=>{c.setRemoteDescriptionSuccess(c.PeerConnection)}).catch(h=>c.setSessionDescriptionError(h)),m)for(let h=0,_=c.IceCandidates.length;h<_;h++)m.client.send(JSON.stringify({type:"socket_react",channel:m.channel,act:"WEBRTC_ICE_CANDIDATES",data_str:JSON.stringify(c.IceCandidates[h])})),yield new Promise(M=>setTimeout(M,40));else for(let h=0,_=c.IceCandidates.length;h<_;h++)yield c.nakama.servers[c.isOfficial][c.target].socket.sendMatchState(c.CurrentMatch.match_id,o.I.WEBRTC_ICE_CANDIDATES,encodeURIComponent(JSON.stringify(c.IceCandidates[h])));c.IceCandidates.length=0})()}setSessionDescriptionError(l){console.error(`Failed to create session description: ${l}.`)}setDescriptionSuccess(l,m){console.log(`Local ${m} complete.`)}HangUpCall(l){var m=this;return(0,j.A)(function*(){m.p5canvas&&m.p5canvas.hangup(),m.isCallable=!0,m.isConnected=!1,m.PeerConnection&&m.PeerConnection.close(),m.PeerConnection=void 0;try{l&&m.CurrentMatch.match_id!=m.nakama.self_match[m.isOfficial][m.target].match_id&&(yield m.nakama.servers[m.isOfficial][m.target].socket.sendMatchState(m.CurrentMatch.match_id,o.I.WEBRTC_HANGUP,""),yield m.nakama.servers[m.isOfficial][m.target].socket.leaveMatch(m.CurrentMatch.match_id))}catch{}})()}close_webrtc(l=!0,m=!1){var c=this;return(0,j.A)(function*(){m&&"data"!=c.TypeIn||(c.InitReplyCallback=void 0,yield c.HangUpCall(l),c.localMedia&&c.localMedia.remove(),c.remoteMedia&&c.remoteMedia.remove(),c.OnUse=!1,c.isCallable=!1,c.isConnected=!1,c.localStream&&(c.localStream.getVideoTracks().forEach(h=>h.stop()),c.localStream.getAudioTracks().forEach(h=>h.stop())),c.localMedia=void 0,c.localStream=void 0,c.remoteMedia=void 0,c.isOfficial=void 0,c.target=void 0,c.user_id=void 0,c.channel_id=void 0,c.LocalOffer=void 0,c.LocalAnswer=void 0,c.dataChannel={},c.ReceivedOfferPart="",c.ReceivedAnswerPart="",c.JoinInited=!1,delete c.nakama.socket_reactive.WEBRTC_INIT_REQ_SIGNAL,delete c.nakama.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL,delete c.nakama.socket_reactive.WEBRTC_RECEIVE_ANSWER,delete c.nakama.socket_reactive.WEBRTC_ICE_CANDIDATES,delete c.nakama.socket_reactive.WEBRTC_NEGOCIATENEEDED,delete c.nakama.socket_reactive.WEBRTC_RECEIVED_CALL_SELF,delete c.nakama.socket_reactive.WEBRTC_CHECK_ONLINE,c.IceCandidates.length=0)})()}}return(a=d).\u0275fac=function(l){return new(l||a)(v.KVO(w.W3),v.KVO(g.G),v.KVO(y.n),v.KVO(C.y),v.KVO(o.X),v.KVO(E.B))},a.\u0275prov=v.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),d})()},3419:(wn,Wt,fe)=>{"use strict";var j=fe(345),O=fe(3953),ge=fe(9858),Ie=fe(3656),o=fe(5374),oe=fe(9349);const H=[{path:"",loadChildren:()=>fe.e(6035).then(fe.bind(fe,6035)).then(Ut=>Ut.FrontPageModule)},{path:"minimal-chat",loadChildren:()=>Promise.all([fe.e(7892),fe.e(5502)]).then(fe.bind(fe,5502)).then(Ut=>Ut.MinimalChatPageModule)},{path:"others-profile",loadChildren:()=>fe.e(6493).then(fe.bind(fe,6493)).then(Ut=>Ut.OthersProfilePageModule)},{path:"user-fs-dir",loadChildren:()=>Promise.all([fe.e(7892),fe.e(7920),fe.e(9903)]).then(fe.bind(fe,9903)).then(Ut=>Ut.UserFsDirPageModule)},{path:"group-server",loadChildren:()=>fe.e(36).then(fe.bind(fe,36)).then(Ut=>Ut.GroupServerPageModule)},{path:"add-todo-menu",loadChildren:()=>Promise.all([fe.e(7892),fe.e(7920),fe.e(2076),fe.e(8163)]).then(fe.bind(fe,8163)).then(Ut=>Ut.AddTodoMenuPageModule)},{path:"chat-room",loadChildren:()=>Promise.all([fe.e(7892),fe.e(2076),fe.e(6134)]).then(fe.bind(fe,6134)).then(Ut=>Ut.ChatRoomPageModule)},{path:"post-viewer",loadChildren:()=>Promise.all([fe.e(7892),fe.e(526)]).then(fe.bind(fe,526)).then(Ut=>Ut.PostViewerPageModule)},{path:"share-content-to-other",loadChildren:()=>fe.e(4911).then(fe.bind(fe,4911)).then(Ut=>Ut.ShareContentToOtherPageModule)},{path:"webrtc-manage-io-dev",loadChildren:()=>fe.e(30).then(fe.bind(fe,30)).then(Ut=>Ut.WebrtcManageIoDevPageModule)},{path:"portal",loadChildren:()=>fe.e(8180).then(fe.bind(fe,8180)).then(Ut=>Ut.PortalPageModule)}];let v=(()=>{var Ut;class Vt{}return(Ut=Vt).\u0275fac=function(tt){return new(tt||Ut)},Ut.\u0275mod=O.$C({type:Ut}),Ut.\u0275inj=O.G2t({imports:[ge.iI.forRoot(H,{preloadingStrategy:ge.Kp}),ge.iI]}),Vt})();var w=fe(177),g=fe(9030),y=fe(8810),C=fe(3726),E=fe(7673),s=fe(8793),u=fe(1413),a=fe(1985),d=fe(5343);const p=new a.c(d.l);var m=fe(6365),c=fe(8750),h=fe(983),_=fe(9326),M=fe(6648);function x(...Ut){const Vt=(0,_.lI)(Ut),Qt=(0,_.R0)(Ut,1/0),tt=Ut;return tt.length?1===tt.length?(0,c.Tg)(tt[0]):(0,m.U)(Qt)((0,M.H)(tt,Vt)):h.w}var A=fe(6354),T=fe(5964),N=fe(5558),I=fe(17),z=fe(8071),R=fe(9974);const ne={connector:()=>new u.B};function V(Ut,Vt=ne){const{connector:Qt}=Vt;return(0,R.N)((tt,ot)=>{const Ct=Qt();(0,c.Tg)(Ut(function Q(Ut){return new a.c(Vt=>Ut.subscribe(Vt))}(Ct))).subscribe(ot),ot.add(tt.subscribe(Ct))})}var F=fe(6697),K=fe(8141),ie=fe(8359);class Te extends ie.yU{constructor(Vt,Qt){super()}schedule(Vt,Qt=0){return this}}const q={setInterval(Ut,Vt,...Qt){const{delegate:tt}=q;return null!=tt&&tt.setInterval?tt.setInterval(Ut,Vt,...Qt):setInterval(Ut,Vt,...Qt)},clearInterval(Ut){const{delegate:Vt}=q;return((null==Vt?void 0:Vt.clearInterval)||clearInterval)(Ut)},delegate:void 0};var k=fe(7908);const me={now:()=>(me.delegate||Date).now(),delegate:void 0};class xe{constructor(Vt,Qt=xe.now){this.schedulerActionCtor=Vt,this.now=Qt}schedule(Vt,Qt=0,tt){return new this.schedulerActionCtor(this,Vt).schedule(tt,Qt)}}xe.now=me.now;const Ye=new class Ge extends xe{constructor(Vt,Qt=xe.now){super(Vt,Qt),this.actions=[],this._active=!1}flush(Vt){const{actions:Qt}=this;if(this._active)return void Qt.push(Vt);let tt;this._active=!0;do{if(tt=Vt.execute(Vt.state,Vt.delay))break}while(Vt=Qt.shift());if(this._active=!1,tt){for(;Vt=Qt.shift();)Vt.unsubscribe();throw tt}}}(class ee extends Te{constructor(Vt,Qt){super(Vt,Qt),this.scheduler=Vt,this.work=Qt,this.pending=!1}schedule(Vt,Qt=0){var tt;if(this.closed)return this;this.state=Vt;const ot=this.id,Ct=this.scheduler;return null!=ot&&(this.id=this.recycleAsyncId(Ct,ot,Qt)),this.pending=!0,this.delay=Qt,this.id=null!==(tt=this.id)&&void 0!==tt?tt:this.requestAsyncId(Ct,this.id,Qt),this}requestAsyncId(Vt,Qt,tt=0){return q.setInterval(Vt.flush.bind(Vt,this),tt)}recycleAsyncId(Vt,Qt,tt=0){if(null!=tt&&this.delay===tt&&!1===this.pending)return Qt;null!=Qt&&q.clearInterval(Qt)}execute(Vt,Qt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const tt=this._execute(Vt,Qt);if(tt)return tt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Vt,Qt){let ot,tt=!1;try{this.work(Vt)}catch(Ct){tt=!0,ot=Ct||new Error("Scheduled action threw falsy error")}if(tt)return this.unsubscribe(),ot}unsubscribe(){if(!this.closed){const{id:Vt,scheduler:Qt}=this,{actions:tt}=Qt;this.work=this.state=this.scheduler=null,this.pending=!1,(0,k.o)(tt,this),null!=Vt&&(this.id=this.recycleAsyncId(Qt,Vt,null)),this.delay=null,super.unsubscribe()}}}),mt=Ye;var We=fe(4360),dt=fe(3703),Ve=fe(1397);function Qe(Ut,Vt){return Vt?Qt=>(0,s.x)(Vt.pipe((0,F.s)(1),function ct(){return(0,R.N)((Ut,Vt)=>{Ut.subscribe((0,We._)(Vt,d.l))})}()),Qt.pipe(Qe(Ut))):(0,Ve.Z)((Qt,tt)=>(0,c.Tg)(Ut(Qt,tt)).pipe((0,F.s)(1),(0,dt.u)(Qt)))}var Ze=fe(9470);const Dt="Service workers are disabled or not supported by this browser";class Lt{constructor(Vt){if(this.serviceWorker=Vt,Vt){const tt=(0,C.R)(Vt,"controllerchange").pipe((0,A.T)(()=>Vt.controller)),ot=(0,g.v)(()=>(0,E.of)(Vt.controller)),Ct=(0,s.x)(ot,tt);this.worker=Ct.pipe((0,T.p)(St=>!!St)),this.registration=this.worker.pipe((0,N.n)(()=>Vt.getRegistration()));const gt=(0,C.R)(Vt,"message").pipe((0,A.T)(St=>St.data)).pipe((0,T.p)(St=>St&&St.type)).pipe(function U(Ut){return Ut?Vt=>V(Ut)(Vt):Vt=>function X(Ut,Vt){const Qt=(0,z.T)(Ut)?Ut:()=>Ut;return(0,z.T)(Vt)?V(Vt,{connector:Qt}):tt=>new I.G(tt,Qt)}(new u.B)(Vt)}());gt.connect(),this.events=gt}else this.worker=this.events=this.registration=function on(Ut){return(0,g.v)(()=>(0,y.$)(new Error(Ut)))}(Dt)}postMessage(Vt,Qt){return this.worker.pipe((0,F.s)(1),(0,K.M)(tt=>{tt.postMessage({action:Vt,...Qt})})).toPromise().then(()=>{})}postMessageWithOperation(Vt,Qt,tt){const ot=this.waitForOperationCompleted(tt),Ct=this.postMessage(Vt,Qt);return Promise.all([Ct,ot]).then(([,vt])=>vt)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Vt){let Qt;return Qt="string"==typeof Vt?tt=>tt.type===Vt:tt=>Vt.includes(tt.type),this.events.pipe((0,T.p)(Qt))}nextEventOfType(Vt){return this.eventsOfType(Vt).pipe((0,F.s)(1))}waitForOperationCompleted(Vt){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,T.p)(Qt=>Qt.nonce===Vt),(0,F.s)(1),(0,A.T)(Qt=>{if(void 0!==Qt.result)return Qt.result;throw new Error(Qt.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let an=(()=>{var Ut;class Vt{get isEnabled(){return this.sw.isEnabled}constructor(tt){if(this.sw=tt,this.pushManager=null,this.subscriptionChanges=new u.B,!tt.isEnabled)return this.messages=p,this.notificationClicks=p,void(this.subscription=p);this.messages=this.sw.eventsOfType("PUSH").pipe((0,A.T)(Ct=>Ct.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,A.T)(Ct=>Ct.data)),this.pushManager=this.sw.registration.pipe((0,A.T)(Ct=>Ct.pushManager));const ot=this.pushManager.pipe((0,N.n)(Ct=>Ct.getSubscription()));this.subscription=x(ot,this.subscriptionChanges)}requestSubscription(tt){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Dt));const ot={userVisibleOnly:!0};let Ct=this.decodeBase64(tt.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),vt=new Uint8Array(new ArrayBuffer(Ct.length));for(let Mt=0;Mt<Ct.length;Mt++)vt[Mt]=Ct.charCodeAt(Mt);return ot.applicationServerKey=vt,this.pushManager.pipe((0,N.n)(Mt=>Mt.subscribe(ot)),(0,F.s)(1)).toPromise().then(Mt=>(this.subscriptionChanges.next(Mt),Mt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,F.s)(1),(0,N.n)(ot=>{if(null===ot)throw new Error("Not subscribed to push notifications.");return ot.unsubscribe().then(Ct=>{if(!Ct)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Dt))}decodeBase64(tt){return atob(tt)}}return(Ut=Vt).\u0275fac=function(tt){return new(tt||Ut)(O.KVO(Lt))},Ut.\u0275prov=O.jDH({token:Ut,factory:Ut.\u0275fac}),Vt})(),Bt=(()=>{var Ut;class Vt{get isEnabled(){return this.sw.isEnabled}constructor(tt){if(this.sw=tt,!tt.isEnabled)return this.versionUpdates=p,void(this.unrecoverable=p);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Dt));const tt=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:tt},tt)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Dt));const tt=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:tt},tt)}}return(Ut=Vt).\u0275fac=function(tt){return new(tt||Ut)(O.KVO(Lt))},Ut.\u0275prov=O.jDH({token:Ut,factory:Ut.\u0275fac}),Vt})();const gn=new O.nKC("");function Yt(Ut,Vt,Qt,tt){return()=>{if(!(0,w.UE)(tt)||!("serviceWorker"in navigator)||!1===Qt.enabled)return;const ot=Ut.get(O.SKi),Ct=Ut.get(O.o8S);let vt;if(ot.runOutsideAngular(()=>{const Mt=navigator.serviceWorker,ln=()=>{var gt;return null===(gt=Mt.controller)||void 0===gt?void 0:gt.postMessage({action:"INITIALIZE"})};Mt.addEventListener("controllerchange",ln),Ct.onDestroy(()=>{Mt.removeEventListener("controllerchange",ln)})}),"function"==typeof Qt.registrationStrategy)vt=Qt.registrationStrategy();else{const[Mt,...ln]=(Qt.registrationStrategy||"registerWhenStable:30000").split(":");switch(Mt){case"registerImmediately":vt=(0,E.of)(null);break;case"registerWithDelay":vt=hn(+ln[0]||0);break;case"registerWhenStable":vt=ln[0]?x(At(Ut),hn(+ln[0])):At(Ut);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${Qt.registrationStrategy}`)}}ot.runOutsideAngular(()=>vt.pipe((0,F.s)(1)).subscribe(()=>navigator.serviceWorker.register(Vt,{scope:Qt.scope}).catch(Mt=>console.error("Service worker registration failed with:",Mt))))}}function hn(Ut){return(0,E.of)(null).pipe(function st(Ut,Vt=Ye){const Qt=function et(Ut=0,Vt,Qt=mt){let tt=-1;return null!=Vt&&((0,Ze.m)(Vt)?Qt=Vt:tt=Vt),new a.c(ot=>{let Ct=function at(Ut){return Ut instanceof Date&&!isNaN(Ut)}(Ut)?+Ut-Qt.now():Ut;Ct<0&&(Ct=0);let vt=0;return Qt.schedule(function(){ot.closed||(ot.next(vt++),0<=tt?this.schedule(void 0,tt):ot.complete())},Ct)})}(Ut,Vt);return Qe(()=>Qt)}(Ut))}function At(Ut){return Ut.get(O.o8S).isStable.pipe((0,T.p)(Qt=>Qt))}function sn(Ut,Vt){return new Lt((0,w.UE)(Vt)&&!1!==Ut.enabled?navigator.serviceWorker:void 0)}class $t{}function ze(Ut,Vt={}){return(0,O.EmA)([an,Bt,{provide:gn,useValue:Ut},{provide:$t,useValue:Vt},{provide:Lt,useFactory:sn,deps:[$t,O.Agw]},{provide:O.hnV,useFactory:Yt,deps:[O.zZn,gn,$t,O.Agw],multi:!0}])}let $e=(()=>{var Ut;class Vt{static register(tt,ot={}){return{ngModule:Vt,providers:[ze(tt,ot)]}}}return(Ut=Vt).\u0275fac=function(tt){return new(tt||Ut)},Ut.\u0275mod=O.$C({type:Ut}),Ut.\u0275inj=O.G2t({providers:[an,Bt]}),Vt})();var qe=fe(1357);let Et=(()=>{var Ut;class Vt{}return(Ut=Vt).\u0275fac=function(tt){return new(tt||Ut)},Ut.\u0275mod=O.$C({type:Ut,bootstrap:[oe.ZL]}),Ut.\u0275inj=O.G2t({providers:[{provide:ge.b,useClass:Ie.jM},Ie.y8,qe.B],imports:[j.Bb,o.bv.forRoot({innerHTMLTemplatesEnabled:!0,experimentalCloseWatcher:!0,hardwareBackButton:!0}),v,$e.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerImmediately"})]}),Vt})();var Ft=fe(1288);(0,O.SmG)(),j.sG().bootstrapModule(Et).catch(Ut=>console.log(Ut)),window,typeof window>"u"?Promise.resolve():(0,Ft.p)().then(()=>(0,Ft.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],undefined))},8326:(wn,Wt,fe)=>{var j=fe(4756);wn.exports=function o(oe,H,v){function w(C,E){if(!H[C]){if(!oe[C]){var s=void 0;if(!E&&s)return require(C,!0);if(g)return g(C,!0);throw(E=new Error("Cannot find module '"+C+"'")).code="MODULE_NOT_FOUND",E}s=H[C]={exports:{}},oe[C][0].call(s.exports,function(u){return w(oe[C][1][u]||u)},s,s.exports,o,oe,H,v)}return H[C].exports}for(var g=void 0,y=0;y<v.length;y++)w(v[y]);return w}({1:[function(o,oe,H){"use strict";H.byteLength=function(d){return 3*((d=s(d))[0]+(d=d[1]))/4-d},H.toByteArray=function(u){var a,d,l,M,p=(l=s(u))[0],m=new g(3*(p+(M=l=l[1]))/4-M),c=0,h=0<l?p-4:p;for(d=0;d<h;d+=4)a=w[u.charCodeAt(d)]<<18|w[u.charCodeAt(d+1)]<<12|w[u.charCodeAt(d+2)]<<6|w[u.charCodeAt(d+3)],m[c++]=a>>16&255,m[c++]=a>>8&255,m[c++]=255&a;return 2===l&&(a=w[u.charCodeAt(d)]<<2|w[u.charCodeAt(d+1)]>>4,m[c++]=255&a),1===l&&(a=w[u.charCodeAt(d)]<<10|w[u.charCodeAt(d+1)]<<4|w[u.charCodeAt(d+2)]>>2,m[c++]=a>>8&255,m[c++]=255&a),m},H.fromByteArray=function(u){for(var a,d=u.length,p=d%3,l=[],m=0,c=d-p;m<c;m+=16383)l.push(function(h,_,M){for(var A=[],T=_;T<M;T+=3)A.push(v[(N=(h[T]<<16&16711680)+(h[T+1]<<8&65280)+(255&h[T+2]))>>18&63]+v[N>>12&63]+v[N>>6&63]+v[63&N]);var N;return A.join("")}(u,m,c<m+16383?c:m+16383));return 1==p?l.push(v[(a=u[d-1])>>2]+v[a<<4&63]+"=="):2==p&&l.push(v[(a=(u[d-2]<<8)+u[d-1])>>10]+v[a>>4&63]+v[a<<2&63]+"="),l.join("")};for(var v=[],w=[],g=typeof Uint8Array<"u"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0;C<64;++C)v[C]=y[C],w[y.charCodeAt(C)]=C;function s(u){var a=u.length;if(0<a%4)throw new Error("Invalid string. Length must be a multiple of 4");return a=(u=-1===(u=u.indexOf("="))?a:u)===a?0:4-u%4,[u,a]}w[45]=62,w[95]=63},{}],2:[function(o,oe,H){},{}],3:[function(o,oe,H){},{}],4:[function(o,oe,H){(function(s){"use strict";var w=o("base64-js"),g=o("ieee754"),y="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,C=(H.Buffer=s,H.SlowBuffer=function(q){return+q!=q&&(q=0),s.alloc(+q)},H.INSPECT_MAX_BYTES=50,2147483647);function E(q){if(C<q)throw new RangeError('The value "'+q+'" is invalid for option "size"');return q=new Uint8Array(q),Object.setPrototypeOf(q,s.prototype),q}function s(q,k,ee){if("number"!=typeof q)return u(q,k,ee);if("string"==typeof k)throw new TypeError('The "string" argument must be of type string. Received type number');return d(q)}function u(q,k,ee){if("string"==typeof q){var me=q,xe=k;if(s.isEncoding(xe="string"==typeof xe&&""!==xe?xe:"utf8"))return(me=(Ye=E(Ge=0|m(me,xe))).write(me,xe))!==Ge?Ye.slice(0,me):Ye;throw new TypeError("Unknown encoding: "+xe)}if(ArrayBuffer.isView(q))return p(q);if(null!=q){if(K(q,ArrayBuffer)||q&&K(q.buffer,ArrayBuffer)){var Ge=q,Ye=ee;if((me=k)<0||Ge.byteLength<me)throw new RangeError('"offset" is outside of buffer bounds');if(Ge.byteLength<me+(Ye||0))throw new RangeError('"length" is outside of buffer bounds');return Ge=void 0===me&&void 0===Ye?new Uint8Array(Ge):void 0===Ye?new Uint8Array(Ge,me):new Uint8Array(Ge,me,Ye),Object.setPrototypeOf(Ge,s.prototype),Ge}if("number"==typeof q)throw new TypeError('The "value" argument must not be of type number. Received type number');if(null!=(xe=q.valueOf&&q.valueOf())&&xe!==q)return s.from(xe,k,ee);var mt=s.isBuffer(We=q)?(0!==(dt=E(ct=0|l(We.length))).length&&We.copy(dt,0,0,ct),dt):void 0!==We.length?"number"!=typeof We.length||ie(We.length)?E(0):p(We):"Buffer"===We.type&&Array.isArray(We.data)?p(We.data):void 0;if(mt)return mt;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof q[Symbol.toPrimitive])return s.from(q[Symbol.toPrimitive]("string"),k,ee)}var We,ct,dt;throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}function a(q){if("number"!=typeof q)throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function d(q){return a(q),E(q<0?0:0|l(q))}function p(q){for(var k=q.length<0?0:0|l(q.length),ee=E(k),me=0;me<k;me+=1)ee[me]=255&q[me];return ee}function l(q){if(C<=q)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C.toString(16)+" bytes");return 0|q}function m(q,k){if(s.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||K(q,ArrayBuffer))return q.byteLength;if("string"!=typeof q)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);var ee=q.length,me=2<arguments.length&&!0===arguments[2];if(!me&&0===ee)return 0;for(var xe=!1;;)switch(k){case"ascii":case"latin1":case"binary":return ee;case"utf8":case"utf-8":return X(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ee;case"hex":return ee>>>1;case"base64":return U(q).length;default:if(xe)return me?-1:X(q).length;k=(""+k).toLowerCase(),xe=!0}}function c(q,k,ee){var me,xe=!1;if((k=void 0===k||k<0?0:k)>this.length||(ee=void 0===ee||ee>this.length?this.length:ee)<=0||(ee>>>=0)<=(k>>>=0))return"";for(q=q||"utf8";;)switch(q){case"hex":var Ye=ee,dt=this.length;(!Ye||Ye<0||dt<Ye)&&(Ye=dt);for(var mt="",We=et=!(et=k)||et<0?0:et;We<Ye;++We)mt+=Te[this[We]];return mt;case"utf8":case"utf-8":return T(this,k,ee);case"ascii":var Ve=(dt=k,ee),Qe="";Ve=Math.min(this.length,Ve);for(var Ze=dt;Ze<Ve;++Ze)Qe+=String.fromCharCode(127&this[Ze]);return Qe;case"latin1":case"binary":var et=k,st=ee,Dt="";st=Math.min(this.length,st);for(var on=et;on<st;++on)Dt+=String.fromCharCode(this[on]);return Dt;case"base64":return Lt=this,me=ee,0===(an=k)&&me===Lt.length?w.fromByteArray(Lt):w.fromByteArray(Lt.slice(an,me));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Lt=k,an=ee,Bt=this.slice(Lt,an),gn="",Yt=0;Yt<Bt.length;Yt+=2)gn+=String.fromCharCode(Bt[Yt]+256*Bt[Yt+1]);return gn;default:if(xe)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),xe=!0}}function h(q,k,ee){var me=q[k];q[k]=q[ee],q[ee]=me}function _(q,k,ee,me,xe){if(0===q.length)return-1;if("string"==typeof ee?(me=ee,ee=0):2147483647<ee?ee=2147483647:ee<-2147483648&&(ee=-2147483648),(ee=(ee=ie(ee=+ee)?xe?0:q.length-1:ee)<0?q.length+ee:ee)>=q.length){if(xe)return-1;ee=q.length-1}else if(ee<0){if(!xe)return-1;ee=0}if("string"==typeof k&&(k=s.from(k,me)),s.isBuffer(k))return 0===k.length?-1:M(q,k,ee,me,xe);if("number"==typeof k)return k&=255,"function"==typeof Uint8Array.prototype.indexOf?(xe?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(q,k,ee):M(q,[k],ee,me,xe);throw new TypeError("val must be string, number or Buffer")}function M(q,k,ee,me,xe){var Ge=1,Ye=q.length,mt=k.length;if(void 0!==me&&("ucs2"===(me=String(me).toLowerCase())||"ucs-2"===me||"utf16le"===me||"utf-16le"===me)){if(q.length<2||k.length<2)return-1;Ye/=Ge=2,mt/=2,ee/=2}function We(Ze,at){return 1===Ge?Ze[at]:Ze.readUInt16BE(at*Ge)}if(xe)for(var ct=-1,dt=ee;dt<Ye;dt++)if(We(q,dt)===We(k,-1===ct?0:dt-ct)){if(dt-(ct=-1===ct?dt:ct)+1===mt)return ct*Ge}else-1!==ct&&(dt-=dt-ct),ct=-1;else for(dt=ee=Ye<ee+mt?Ye-mt:ee;0<=dt;dt--){for(var Ve=!0,Qe=0;Qe<mt;Qe++)if(We(q,dt+Qe)!==We(k,Qe)){Ve=!1;break}if(Ve)return dt}return-1}function x(q,k,ee,me){return F(function(xe){for(var Ge=[],Ye=0;Ye<xe.length;++Ye)Ge.push(255&xe.charCodeAt(Ye));return Ge}(k),q,ee,me)}function A(q,k,ee,me){return F(function(xe,Ge){for(var Ye,mt,We=[],ct=0;ct<xe.length&&!((Ge-=2)<0);++ct)Ye=(mt=xe.charCodeAt(ct))>>8,We.push(mt%=256),We.push(Ye);return We}(k,q.length-ee),q,ee,me)}function T(q,k,ee){ee=Math.min(q.length,ee);for(var me=[],xe=k;xe<ee;){var Ge,Ye,mt,We,ct=q[xe],dt=null,Ve=239<ct?4:223<ct?3:191<ct?2:1;if(xe+Ve<=ee)switch(Ve){case 1:ct<128&&(dt=ct);break;case 2:128==(192&(Ge=q[xe+1]))&&127<(We=(31&ct)<<6|63&Ge)&&(dt=We);break;case 3:Ye=q[xe+2],128==(192&(Ge=q[xe+1]))&&128==(192&Ye)&&2047<(We=(15&ct)<<12|(63&Ge)<<6|63&Ye)&&(We<55296||57343<We)&&(dt=We);break;case 4:Ye=q[xe+2],mt=q[xe+3],128==(192&(Ge=q[xe+1]))&&128==(192&Ye)&&128==(192&mt)&&65535<(We=(15&ct)<<18|(63&Ge)<<12|(63&Ye)<<6|63&mt)&&We<1114112&&(dt=We)}null===dt?(dt=65533,Ve=1):65535<dt&&(me.push((dt-=65536)>>>10&1023|55296),dt=56320|1023&dt),me.push(dt),xe+=Ve}var Qe=me,Ze=Qe.length;if(Ze<=N)return String.fromCharCode.apply(String,Qe);for(var at="",et=0;et<Ze;)at+=String.fromCharCode.apply(String,Qe.slice(et,et+=N));return at}H.kMaxLength=C,(s.TYPED_ARRAY_SUPPORT=function(){try{var q=new Uint8Array(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,Uint8Array.prototype),Object.setPrototypeOf(q,k),42===q.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=u,Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(q,k,ee){return a(q),q<=0||void 0===k?E(q):"string"==typeof ee?E(q).fill(k,ee):E(q).fill(k)},s.allocUnsafe=d,s.allocUnsafeSlow=d,s.isBuffer=function(q){return null!=q&&!0===q._isBuffer&&q!==s.prototype},s.compare=function(q,k){if(K(q,Uint8Array)&&(q=s.from(q,q.offset,q.byteLength)),K(k,Uint8Array)&&(k=s.from(k,k.offset,k.byteLength)),!s.isBuffer(q)||!s.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(q===k)return 0;for(var ee=q.length,me=k.length,xe=0,Ge=Math.min(ee,me);xe<Ge;++xe)if(q[xe]!==k[xe]){ee=q[xe],me=k[xe];break}return ee<me?-1:me<ee?1:0},s.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(q,k){if(!Array.isArray(q))throw new TypeError('"list" argument must be an Array of Buffers');if(0===q.length)return s.alloc(0);if(void 0===k)for(xe=k=0;xe<q.length;++xe)k+=q[xe].length;for(var ee=s.allocUnsafe(k),me=0,xe=0;xe<q.length;++xe){var Ge=q[xe];if(K(Ge,Uint8Array)&&(Ge=s.from(Ge)),!s.isBuffer(Ge))throw new TypeError('"list" argument must be an Array of Buffers');Ge.copy(ee,me),me+=Ge.length}return ee},s.byteLength=m,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var q=this.length;if(q%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<q;k+=2)h(this,k,k+1);return this},s.prototype.swap32=function(){var q=this.length;if(q%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<q;k+=4)h(this,k,k+3),h(this,k+1,k+2);return this},s.prototype.swap64=function(){var q=this.length;if(q%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<q;k+=8)h(this,k,k+7),h(this,k+1,k+6),h(this,k+2,k+5),h(this,k+3,k+4);return this},s.prototype.toLocaleString=s.prototype.toString=function(){var q=this.length;return 0===q?"":0===arguments.length?T(this,0,q):c.apply(this,arguments)},s.prototype.equals=function(q){if(s.isBuffer(q))return this===q||0===s.compare(this,q);throw new TypeError("Argument must be a Buffer")},s.prototype.inspect=function(){var k="",q=H.INSPECT_MAX_BYTES;return k=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim(),this.length>q&&(k+=" ... "),"<Buffer "+k+">"},y&&(s.prototype[y]=s.prototype.inspect),s.prototype.compare=function(q,k,ee,me,xe){if(K(q,Uint8Array)&&(q=s.from(q,q.offset,q.byteLength)),!s.isBuffer(q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof q);if(void 0===ee&&(ee=q?q.length:0),void 0===me&&(me=0),void 0===xe&&(xe=this.length),(k=void 0===k?0:k)<0||ee>q.length||me<0||xe>this.length)throw new RangeError("out of range index");if(xe<=me&&ee<=k)return 0;if(xe<=me)return-1;if(ee<=k)return 1;if(this===q)return 0;for(var Ge=(xe>>>=0)-(me>>>=0),Ye=(ee>>>=0)-(k>>>=0),mt=Math.min(Ge,Ye),We=this.slice(me,xe),ct=q.slice(k,ee),dt=0;dt<mt;++dt)if(We[dt]!==ct[dt]){Ge=We[dt],Ye=ct[dt];break}return Ge<Ye?-1:Ye<Ge?1:0},s.prototype.includes=function(q,k,ee){return-1!==this.indexOf(q,k,ee)},s.prototype.indexOf=function(q,k,ee){return _(this,q,k,ee,!0)},s.prototype.lastIndexOf=function(q,k,ee){return _(this,q,k,ee,!1)},s.prototype.write=function(q,k,ee,me){if(void 0===k)me="utf8",ee=this.length,k=0;else if(void 0===ee&&"string"==typeof k)me=k,ee=this.length,k=0;else{if(!isFinite(k))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");k>>>=0,isFinite(ee)?(ee>>>=0,void 0===me&&(me="utf8")):(me=ee,ee=void 0)}var xe=this.length-k;if((void 0===ee||xe<ee)&&(ee=xe),0<q.length&&(ee<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");me=me||"utf8";for(var Ge,Ye,mt,We=!1;;)switch(me){case"hex":var dt=q,Ve=k,Qe=ee,Ze=(Ve=Number(Ve)||0,this.length-Ve);(!Qe||Ze<(Qe=Number(Qe)))&&(Qe=Ze),(Ze=dt.length)/2<Qe&&(Qe=Ze/2);for(var at=0;at<Qe;++at){var et=parseInt(dt.substr(2*at,2),16);if(ie(et))return at;this[Ve+at]=et}return at;case"utf8":case"utf-8":return mt=ee,F(X(q,(Ye=this).length-(Ze=k)),Ye,Ze,mt);case"ascii":case"latin1":case"binary":return x(this,q,k,ee);case"base64":return Ye=this,mt=k,Ge=ee,F(U(q),Ye,mt,Ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,q,k,ee);default:if(We)throw new TypeError("Unknown encoding: "+me);me=(""+me).toLowerCase(),We=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function I(q,k,ee){if(q%1!=0||q<0)throw new RangeError("offset is not uint");if(ee<q+k)throw new RangeError("Trying to access beyond buffer length")}function z(q,k,ee,me,xe,Ge){if(!s.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(xe<k||k<Ge)throw new RangeError('"value" argument is out of bounds');if(ee+me>q.length)throw new RangeError("Index out of range")}function R(q,k,ee,me){if(ee+me>q.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("Index out of range")}function Q(q,k,ee,me,xe){return k=+k,ee>>>=0,xe||R(q,0,ee,4),g.write(q,k,ee,me,23,4),ee+4}function ne(q,k,ee,me,xe){return k=+k,ee>>>=0,xe||R(q,0,ee,8),g.write(q,k,ee,me,52,8),ee+8}s.prototype.slice=function(q,k){var ee=this.length;return(q=~~q)<0?(q+=ee)<0&&(q=0):ee<q&&(q=ee),(k=void 0===k?ee:~~k)<0?(k+=ee)<0&&(k=0):ee<k&&(k=ee),k<q&&(k=q),ee=this.subarray(q,k),Object.setPrototypeOf(ee,s.prototype),ee},s.prototype.readUIntLE=function(q,k,ee){q>>>=0,k>>>=0,ee||I(q,k,this.length);for(var me=this[q],xe=1,Ge=0;++Ge<k&&(xe*=256);)me+=this[q+Ge]*xe;return me},s.prototype.readUIntBE=function(q,k,ee){q>>>=0,k>>>=0,ee||I(q,k,this.length);for(var me=this[q+--k],xe=1;0<k&&(xe*=256);)me+=this[q+--k]*xe;return me},s.prototype.readUInt8=function(q,k){return q>>>=0,k||I(q,1,this.length),this[q]},s.prototype.readUInt16LE=function(q,k){return q>>>=0,k||I(q,2,this.length),this[q]|this[q+1]<<8},s.prototype.readUInt16BE=function(q,k){return q>>>=0,k||I(q,2,this.length),this[q]<<8|this[q+1]},s.prototype.readUInt32LE=function(q,k){return q>>>=0,k||I(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+16777216*this[q+3]},s.prototype.readUInt32BE=function(q,k){return q>>>=0,k||I(q,4,this.length),16777216*this[q]+(this[q+1]<<16|this[q+2]<<8|this[q+3])},s.prototype.readIntLE=function(q,k,ee){q>>>=0,k>>>=0,ee||I(q,k,this.length);for(var me=this[q],xe=1,Ge=0;++Ge<k&&(xe*=256);)me+=this[q+Ge]*xe;return(xe*=128)<=me&&(me-=Math.pow(2,8*k)),me},s.prototype.readIntBE=function(q,k,ee){q>>>=0,k>>>=0,ee||I(q,k,this.length);for(var me=k,xe=1,Ge=this[q+--me];0<me&&(xe*=256);)Ge+=this[q+--me]*xe;return(xe*=128)<=Ge&&(Ge-=Math.pow(2,8*k)),Ge},s.prototype.readInt8=function(q,k){return q>>>=0,k||I(q,1,this.length),128&this[q]?-1*(255-this[q]+1):this[q]},s.prototype.readInt16LE=function(q,k){return q>>>=0,k||I(q,2,this.length),32768&(k=this[q]|this[q+1]<<8)?4294901760|k:k},s.prototype.readInt16BE=function(q,k){return q>>>=0,k||I(q,2,this.length),32768&(k=this[q+1]|this[q]<<8)?4294901760|k:k},s.prototype.readInt32LE=function(q,k){return q>>>=0,k||I(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},s.prototype.readInt32BE=function(q,k){return q>>>=0,k||I(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},s.prototype.readFloatLE=function(q,k){return q>>>=0,k||I(q,4,this.length),g.read(this,q,!0,23,4)},s.prototype.readFloatBE=function(q,k){return q>>>=0,k||I(q,4,this.length),g.read(this,q,!1,23,4)},s.prototype.readDoubleLE=function(q,k){return q>>>=0,k||I(q,8,this.length),g.read(this,q,!0,52,8)},s.prototype.readDoubleBE=function(q,k){return q>>>=0,k||I(q,8,this.length),g.read(this,q,!1,52,8)},s.prototype.writeUIntLE=function(q,k,ee,me){q=+q,k>>>=0,ee>>>=0,me||z(this,q,k,ee,Math.pow(2,8*ee)-1,0);var xe=1,Ge=0;for(this[k]=255&q;++Ge<ee&&(xe*=256);)this[k+Ge]=q/xe&255;return k+ee},s.prototype.writeUIntBE=function(q,k,ee,me){q=+q,k>>>=0,ee>>>=0,me||z(this,q,k,ee,Math.pow(2,8*ee)-1,0);var xe=ee-1,Ge=1;for(this[k+xe]=255&q;0<=--xe&&(Ge*=256);)this[k+xe]=q/Ge&255;return k+ee},s.prototype.writeUInt8=function(q,k,ee){return q=+q,k>>>=0,ee||z(this,q,k,1,255,0),this[k]=255&q,k+1},s.prototype.writeUInt16LE=function(q,k,ee){return q=+q,k>>>=0,ee||z(this,q,k,2,65535,0),this[k]=255&q,this[k+1]=q>>>8,k+2},s.prototype.writeUInt16BE=function(q,k,ee){return q=+q,k>>>=0,ee||z(this,q,k,2,65535,0),this[k]=q>>>8,this[k+1]=255&q,k+2},s.prototype.writeUInt32LE=function(q,k,ee){return q=+q,k>>>=0,ee||z(this,q,k,4,4294967295,0),this[k+3]=q>>>24,this[k+2]=q>>>16,this[k+1]=q>>>8,this[k]=255&q,k+4},s.prototype.writeUInt32BE=function(q,k,ee){return q=+q,k>>>=0,ee||z(this,q,k,4,4294967295,0),this[k]=q>>>24,this[k+1]=q>>>16,this[k+2]=q>>>8,this[k+3]=255&q,k+4},s.prototype.writeIntLE=function(q,k,ee,me){q=+q,k>>>=0,me||z(this,q,k,ee,(me=Math.pow(2,8*ee-1))-1,-me);var xe=0,Ge=1,Ye=0;for(this[k]=255&q;++xe<ee&&(Ge*=256);)q<0&&0===Ye&&0!==this[k+xe-1]&&(Ye=1),this[k+xe]=(q/Ge|0)-Ye&255;return k+ee},s.prototype.writeIntBE=function(q,k,ee,me){q=+q,k>>>=0,me||z(this,q,k,ee,(me=Math.pow(2,8*ee-1))-1,-me);var xe=ee-1,Ge=1,Ye=0;for(this[k+xe]=255&q;0<=--xe&&(Ge*=256);)q<0&&0===Ye&&0!==this[k+xe+1]&&(Ye=1),this[k+xe]=(q/Ge|0)-Ye&255;return k+ee},s.prototype.writeInt8=function(q,k,ee){return q=+q,k>>>=0,ee||z(this,q,k,1,127,-128),this[k]=255&(q=q<0?255+q+1:q),k+1},s.prototype.writeInt16LE=function(q,k,ee){return q=+q,k>>>=0,ee||z(this,q,k,2,32767,-32768),this[k]=255&q,this[k+1]=q>>>8,k+2},s.prototype.writeInt16BE=function(q,k,ee){return q=+q,k>>>=0,ee||z(this,q,k,2,32767,-32768),this[k]=q>>>8,this[k+1]=255&q,k+2},s.prototype.writeInt32LE=function(q,k,ee){return q=+q,k>>>=0,ee||z(this,q,k,4,2147483647,-2147483648),this[k]=255&q,this[k+1]=q>>>8,this[k+2]=q>>>16,this[k+3]=q>>>24,k+4},s.prototype.writeInt32BE=function(q,k,ee){return q=+q,k>>>=0,ee||z(this,q,k,4,2147483647,-2147483648),this[k]=(q=q<0?4294967295+q+1:q)>>>24,this[k+1]=q>>>16,this[k+2]=q>>>8,this[k+3]=255&q,k+4},s.prototype.writeFloatLE=function(q,k,ee){return Q(this,q,k,!0,ee)},s.prototype.writeFloatBE=function(q,k,ee){return Q(this,q,k,!1,ee)},s.prototype.writeDoubleLE=function(q,k,ee){return ne(this,q,k,!0,ee)},s.prototype.writeDoubleBE=function(q,k,ee){return ne(this,q,k,!1,ee)},s.prototype.copy=function(q,k,ee,me){if(!s.isBuffer(q))throw new TypeError("argument should be a Buffer");if(ee=ee||0,me||0===me||(me=this.length),k>=q.length&&(k=q.length),(me=0<me&&me<ee?ee:me)===ee||0===q.length||0===this.length)return 0;if((k=k||0)<0)throw new RangeError("targetStart out of bounds");if(ee<0||ee>=this.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("sourceEnd out of bounds");me>this.length&&(me=this.length);var xe=(me=q.length-k<me-ee?q.length-k+ee:me)-ee;if(this===q&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(k,ee,me);else if(this===q&&ee<k&&k<me)for(var Ge=xe-1;0<=Ge;--Ge)q[Ge+k]=this[Ge+ee];else Uint8Array.prototype.set.call(q,this.subarray(ee,me),k);return xe},s.prototype.fill=function(q,k,ee,me){if("string"==typeof q){if("string"==typeof k?(me=k,k=0,ee=this.length):"string"==typeof ee&&(me=ee,ee=this.length),void 0!==me&&"string"!=typeof me)throw new TypeError("encoding must be a string");if("string"==typeof me&&!s.isEncoding(me))throw new TypeError("Unknown encoding: "+me);var xe;1===q.length&&(xe=q.charCodeAt(0),("utf8"===me&&xe<128||"latin1"===me)&&(q=xe))}else"number"==typeof q?q&=255:"boolean"==typeof q&&(q=Number(q));if(k<0||this.length<k||this.length<ee)throw new RangeError("Out of range index");var Ge;if(!(ee<=k))if(k>>>=0,ee=void 0===ee?this.length:ee>>>0,"number"==typeof(q=q||0))for(Ge=k;Ge<ee;++Ge)this[Ge]=q;else{var Ye=s.isBuffer(q)?q:s.from(q,me),mt=Ye.length;if(0===mt)throw new TypeError('The value "'+q+'" is invalid for argument "value"');for(Ge=0;Ge<ee-k;++Ge)this[Ge+k]=Ye[Ge%mt]}return this};var V=/[^+/0-9A-Za-z-_]/g;function X(q,k){k=k||1/0;for(var ee,me=q.length,xe=null,Ge=[],Ye=0;Ye<me;++Ye){if(55295<(ee=q.charCodeAt(Ye))&&ee<57344){if(!xe){if(56319<ee){-1<(k-=3)&&Ge.push(239,191,189);continue}if(Ye+1===me){-1<(k-=3)&&Ge.push(239,191,189);continue}xe=ee;continue}if(ee<56320){-1<(k-=3)&&Ge.push(239,191,189),xe=ee;continue}ee=65536+(xe-55296<<10|ee-56320)}else xe&&-1<(k-=3)&&Ge.push(239,191,189);if(xe=null,ee<128){if(--k<0)break;Ge.push(ee)}else if(ee<2048){if((k-=2)<0)break;Ge.push(ee>>6|192,63&ee|128)}else if(ee<65536){if((k-=3)<0)break;Ge.push(ee>>12|224,ee>>6&63|128,63&ee|128)}else{if(!(ee<1114112))throw new Error("Invalid code point");if((k-=4)<0)break;Ge.push(ee>>18|240,ee>>12&63|128,ee>>6&63|128,63&ee|128)}}return Ge}function U(q){return w.toByteArray(function(k){if((k=(k=k.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;k.length%4!=0;)k+="=";return k}(q))}function F(q,k,ee,me){for(var xe=0;xe<me&&!(xe+ee>=k.length||xe>=q.length);++xe)k[xe+ee]=q[xe];return xe}function K(q,k){return q instanceof k||null!=q&&null!=q.constructor&&null!=q.constructor.name&&q.constructor.name===k.name}function ie(q){return q!=q}var Te=function(){for(var q="0123456789abcdef",k=new Array(256),ee=0;ee<16;++ee)for(var me=16*ee,xe=0;xe<16;++xe)k[me+xe]=q[ee]+q[xe];return k}()}).call(this,o("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(o,oe,H){oe.exports=function(v){if("function"!=typeof v)throw TypeError(String(v)+" is not a function");return v}},{}],6:[function(o,oe,H){var v=o("../internals/is-object");oe.exports=function(w){if(v(w)||null===w)return w;throw TypeError("Can't set "+String(w)+" as a prototype")}},{"../internals/is-object":75}],7:[function(g,oe,H){var v=g("../internals/well-known-symbol"),w=g("../internals/object-create"),y=(g=g("../internals/object-define-property"),v("unscopables")),C=Array.prototype;null==C[y]&&g.f(C,y,{configurable:!0,value:w(null)}),oe.exports=function(E){C[y][E]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(o,oe,H){"use strict";var v=o("../internals/string-multibyte").charAt;oe.exports=function(w,g,y){return g+(y?v(w,g).length:1)}},{"../internals/string-multibyte":125}],9:[function(o,oe,H){oe.exports=function(v,w,g){if(v instanceof w)return v;throw TypeError("Incorrect "+(g?g+" ":"")+"invocation")}},{}],10:[function(o,oe,H){var v=o("../internals/is-object");oe.exports=function(w){if(v(w))return w;throw TypeError(String(w)+" is not an object")}},{"../internals/is-object":75}],11:[function(o,oe,H){oe.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(R,oe,H){"use strict";function v(ne){return E(ne)&&s(Q,u(ne))}var w,g=R("../internals/array-buffer-native"),y=R("../internals/descriptors"),C=R("../internals/global"),E=R("../internals/is-object"),s=R("../internals/has"),u=R("../internals/classof"),a=R("../internals/create-non-enumerable-property"),d=R("../internals/redefine"),p=R("../internals/object-define-property").f,l=R("../internals/object-get-prototype-of"),m=R("../internals/object-set-prototype-of"),N=R("../internals/well-known-symbol"),c=(R=R("../internals/uid"),C.Int8Array),h=c&&c.prototype,_=(_=C.Uint8ClampedArray)&&_.prototype,M=c&&l(c),x=h&&l(h),A=Object.prototype,T=A.isPrototypeOf,I=(N=N("toStringTag"),R("TYPED_ARRAY_TAG")),z=g&&!!m&&"Opera"!==u(C.opera),Q=(R=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(w in Q)C[w]||(z=!1);if((!z||"function"!=typeof M||M===Function.prototype)&&(M=function(){throw TypeError("Incorrect invocation")},z))for(w in Q)C[w]&&m(C[w],M);if((!z||!x||x===A)&&(x=M.prototype,z))for(w in Q)C[w]&&m(C[w].prototype,x);if(z&&l(_)!==x&&m(_,x),y&&!s(x,N))for(w in R=!0,p(x,N,{get:function(){return E(this)?this[I]:void 0}}),Q)C[w]&&a(C[w],I,w);oe.exports={NATIVE_ARRAY_BUFFER_VIEWS:z,TYPED_ARRAY_TAG:R&&I,aTypedArray:function(ne){if(v(ne))return ne;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(ne){if(m){if(T.call(M,ne))return ne}else for(var V in Q)if(s(Q,w)&&(V=C[V])&&(ne===V||T.call(V,ne)))return ne;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(ne,V,X){if(y){if(X)for(var U in Q)(U=C[U])&&s(U.prototype,ne)&&delete U.prototype[ne];x[ne]&&!X||d(x,ne,!X&&z&&h[ne]||V)}},exportTypedArrayStaticMethod:function(ne,V,X){var U,F;if(y){if(m){if(X)for(U in Q)(F=C[U])&&s(F,ne)&&delete F[ne];if(M[ne]&&!X)return;try{return d(M,ne,!X&&z&&c[ne]||V)}catch{}}for(U in Q)!(F=C[U])||F[ne]&&!X||d(F,ne,V)}},isView:function(ne){return"DataView"===(ne=u(ne))||s(Q,ne)},isTypedArray:v,TypedArray:M,TypedArrayPrototype:x}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(ee,oe,H){"use strict";function v(Ve){return[255&Ve]}function w(Ve){return[255&Ve,Ve>>8&255]}function g(Ve){return[255&Ve,Ve>>8&255,Ve>>16&255,Ve>>24&255]}function y(Ve){return Ve[3]<<24|Ve[2]<<16|Ve[1]<<8|Ve[0]}function C(Ve){return Ge(Ve,23,4)}function E(Ve){return Ge(Ve,52,8)}function s(Ve,Qe){R(Ve[K],Qe,{get:function(){return V(this)[Qe]}})}function u(Dt,Qe,st,at){if((st=A(st))+Qe>(Dt=V(Dt)).byteLength)throw xe(ie);return Dt=V(Dt.buffer).bytes.slice(st+=Dt.byteOffset,st+Qe),at?Dt:Dt.reverse()}function a(Ve,Qe,Ze,at,et,st){if((Ze=A(Ze))+Qe>(Ve=V(Ve)).byteLength)throw xe(ie);for(var Dt=V(Ve.buffer).bytes,on=Ze+Ve.byteOffset,Lt=at(+et),an=0;an<Qe;an++)Dt[on+an]=Lt[st?an:Qe-an-1]}var d=ee("../internals/global"),p=ee("../internals/descriptors"),l=ee("../internals/array-buffer-native"),m=ee("../internals/create-non-enumerable-property"),c=ee("../internals/redefine-all"),h=ee("../internals/fails"),_=ee("../internals/an-instance"),M=ee("../internals/to-integer"),x=ee("../internals/to-length"),A=ee("../internals/to-index"),T=ee("../internals/ieee754"),N=ee("../internals/object-get-prototype-of"),I=ee("../internals/object-set-prototype-of"),z=ee("../internals/object-get-own-property-names").f,R=ee("../internals/object-define-property").f,Q=ee("../internals/array-fill"),ne=ee("../internals/set-to-string-tag"),V=(ee=ee("../internals/internal-state")).get,X=ee.set,U="ArrayBuffer",F="DataView",K="prototype",ie="Wrong index",Te=d[U],q=Te,k=d[F],me=(ee=k&&k[K],Object.prototype),xe=d.RangeError,Ge=T.pack,Ye=T.unpack;if(l){if(!h(function(){Te(1)})||!h(function(){new Te(-1)})||h(function(){return new Te,new Te(1.5),new Te(NaN),Te.name!=U})){d=(q=function(Ze){return _(this,q),new Te(A(Ze))})[K]=Te[K];for(var mt,We=z(Te),ct=0;We.length>ct;)(mt=We[ct++])in q||m(q,mt,Te[mt]);d.constructor=q}I&&N(ee)!==me&&I(ee,me),T=new k(new q(2));var dt=ee.setInt8;T.setInt8(0,2147483648),T.setInt8(1,2147483649),!T.getInt8(0)&&T.getInt8(1)||c(ee,{setInt8:function(Qe,Ze){dt.call(this,Qe,Ze<<24>>24)},setUint8:function(Qe,Ze){dt.call(this,Qe,Ze<<24>>24)}},{unsafe:!0})}else q=function(Ve){_(this,q,U),Ve=A(Ve),X(this,{bytes:Q.call(new Array(Ve),0),byteLength:Ve}),p||(this.byteLength=Ve)},k=function(Ve,et,Ze){_(this,k,F),_(Ve,q,F);var at=V(Ve).byteLength;if((et=M(et))<0||at<et)throw xe("Wrong offset");if(at<et+(Ze=void 0===Ze?at-et:x(Ze)))throw xe("Wrong length");X(this,{buffer:Ve,byteLength:Ze,byteOffset:et}),p||(this.buffer=Ve,this.byteLength=Ze,this.byteOffset=et)},p&&(s(q,"byteLength"),s(k,"buffer"),s(k,"byteLength"),s(k,"byteOffset")),c(k[K],{getInt8:function(Ve){return u(this,1,Ve)[0]<<24>>24},getUint8:function(Ve){return u(this,1,Ve)[0]},getInt16:function(Ve){return((Ve=u(this,2,Ve,1<arguments.length?arguments[1]:void 0))[1]<<8|Ve[0])<<16>>16},getUint16:function(Ve){return(Ve=u(this,2,Ve,1<arguments.length?arguments[1]:void 0))[1]<<8|Ve[0]},getInt32:function(Ve){return y(u(this,4,Ve,1<arguments.length?arguments[1]:void 0))},getUint32:function(Ve){return y(u(this,4,Ve,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(Ve){return Ye(u(this,4,Ve,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(Ve){return Ye(u(this,8,Ve,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(Ve,Qe){a(this,1,Ve,v,Qe)},setUint8:function(Ve,Qe){a(this,1,Ve,v,Qe)},setInt16:function(Ve,Qe){a(this,2,Ve,w,Qe,2<arguments.length?arguments[2]:void 0)},setUint16:function(Ve,Qe){a(this,2,Ve,w,Qe,2<arguments.length?arguments[2]:void 0)},setInt32:function(Ve,Qe){a(this,4,Ve,g,Qe,2<arguments.length?arguments[2]:void 0)},setUint32:function(Ve,Qe){a(this,4,Ve,g,Qe,2<arguments.length?arguments[2]:void 0)},setFloat32:function(Ve,Qe){a(this,4,Ve,C,Qe,2<arguments.length?arguments[2]:void 0)},setFloat64:function(Ve,Qe){a(this,8,Ve,E,Qe,2<arguments.length?arguments[2]:void 0)}});ne(q,U),ne(k,F),oe.exports={ArrayBuffer:q,DataView:k}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(o,oe,H){"use strict";var v=o("../internals/to-object"),w=o("../internals/to-absolute-index"),g=o("../internals/to-length"),y=Math.min;oe.exports=[].copyWithin||function(p,E){var s=v(this),u=g(s.length),a=w(p,u),d=w(E,u),l=y((void 0===(p=2<arguments.length?arguments[2]:void 0)?u:w(p,u))-d,u-a),m=1;for(d<a&&a<d+l&&(m=-1,d+=l-1,a+=l-1);0<l--;)d in s?s[a]=s[d]:delete s[a],a+=m,d+=m;return s}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(o,oe,H){"use strict";var v=o("../internals/to-object"),w=o("../internals/to-absolute-index"),g=o("../internals/to-length");oe.exports=function(y){for(var u,C=v(this),E=g(C.length),s=w(1<(u=arguments.length)?arguments[1]:void 0,E),a=void 0===(u=2<u?arguments[2]:void 0)?E:w(u,E);s<a;)C[s++]=y;return C}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(g,oe,H){"use strict";var v=g("../internals/array-iteration").forEach,w=g("../internals/array-method-is-strict");g=g("../internals/array-method-uses-to-length"),w=w("forEach"),g=g("forEach"),oe.exports=w&&g?[].forEach:function(y){return v(this,y,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(o,oe,H){"use strict";var v=o("../internals/function-bind-context"),w=o("../internals/to-object"),g=o("../internals/call-with-safe-iteration-closing"),y=o("../internals/is-array-iterator-method"),C=o("../internals/to-length"),E=o("../internals/create-property"),s=o("../internals/get-iterator-method");oe.exports=function(_){var a,d,p,l,m,c,h=w(_),M=(_="function"==typeof this?this:Array,arguments.length),x=1<M?arguments[1]:void 0,A=void 0!==x,T=s(h),N=0;if(A&&(x=v(x,2<M?arguments[2]:void 0,2)),null==T||_==Array&&y(T))for(d=new _(a=C(h.length));N<a;N++)c=A?x(h[N],N):h[N],E(d,N,c);else for(m=(l=T.call(h)).next,d=new _;!(p=m.call(l)).done;N++)c=A?g(l,x,[p.value,N],!0):p.value,E(d,N,c);return d.length=N,d}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(o,oe,H){function v(C){return function(E,s,u){var a,d=w(E),p=g(d.length),l=y(u,p);if(C&&s!=s){for(;l<p;)if((a=d[l++])!=a)return!0}else for(;l<p;l++)if((C||l in d)&&d[l]===s)return C||l||0;return!C&&-1}}var w=o("../internals/to-indexed-object"),g=o("../internals/to-length"),y=o("../internals/to-absolute-index");oe.exports={includes:v(!0),indexOf:v(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(o,oe,H){function v(u){var a=1==u,d=2==u,p=3==u,l=4==u,m=6==u,c=5==u||m;return function(h,_,M,x){for(var A,T,N=y(h),I=g(N),z=w(_,M,3),R=C(I.length),Q=0,ne=(_=x||E,a?_(h,R):d?_(h,0):void 0);Q<R;Q++)if((c||Q in I)&&(T=z(A=I[Q],Q,N),u))if(a)ne[Q]=T;else if(T)switch(u){case 3:return!0;case 5:return A;case 6:return Q;case 2:s.call(ne,A)}else if(l)return!1;return m?-1:p||l?l:ne}}var w=o("../internals/function-bind-context"),g=o("../internals/indexed-object"),y=o("../internals/to-object"),C=o("../internals/to-length"),E=o("../internals/array-species-create"),s=[].push;oe.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(u,oe,H){"use strict";var v=u("../internals/to-indexed-object"),w=u("../internals/to-integer"),g=u("../internals/to-length"),s=u("../internals/array-method-is-strict"),y=(u=u("../internals/array-method-uses-to-length"),Math.min),C=[].lastIndexOf,E=!!C&&1/[1].lastIndexOf(1,-0)<0;s=s("lastIndexOf"),u=u("indexOf",{ACCESSORS:!0,1:0}),oe.exports=!E&&s&&u?C:function(a){if(E)return C.apply(this,arguments)||0;var d=v(this),p=g(d.length),l=p-1;for((l=1<arguments.length?y(l,w(arguments[1])):l)<0&&(l=p+l);0<=l;l--)if(l in d&&d[l]===a)return l||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(o,oe,H){var v=o("../internals/fails"),w=o("../internals/well-known-symbol"),g=o("../internals/engine-v8-version"),y=w("species");oe.exports=function(C){return 51<=g||!v(function(){var E=[];return(E.constructor={})[y]=function(){return{foo:1}},1!==E[C](Boolean).foo})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(o,oe,H){"use strict";var v=o("../internals/fails");oe.exports=function(w,g){var y=[][w];return!!y&&v(function(){y.call(null,g||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(o,oe,H){function v(s){throw s}var w=o("../internals/descriptors"),g=o("../internals/fails"),y=o("../internals/has"),C=Object.defineProperty,E={};oe.exports=function(s,u){var a,d,p,l;return y(E,s)?E[s]:(a=[][s],d=!!y(u=u||{},"ACCESSORS")&&u.ACCESSORS,p=y(u,0)?u[0]:v,l=y(u,1)?u[1]:void 0,E[s]=!!a&&!g(function(){if(d&&!w)return!0;var m={length:-1};d?C(m,1,{enumerable:!0,get:v}):m[1]=1,a.call(m,p,l)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(o,oe,H){function v(E){return function(s,u,a,d){w(u);var p=g(s),l=y(p),m=C(p.length),c=E?m-1:0,h=E?-1:1;if(a<2)for(;;){if(c in l){d=l[c],c+=h;break}if(c+=h,E?c<0:m<=c)throw TypeError("Reduce of empty array with no initial value")}for(;E?0<=c:c<m;c+=h)c in l&&(d=u(d,l[c],c,p));return d}}var w=o("../internals/a-function"),g=o("../internals/to-object"),y=o("../internals/indexed-object"),C=o("../internals/to-length");oe.exports={left:v(!1),right:v(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(o,oe,H){var v=o("../internals/is-object"),w=o("../internals/is-array"),g=o("../internals/well-known-symbol")("species");oe.exports=function(y,C){var E;return new(void 0===(E=w(y)&&("function"==typeof(E=y.constructor)&&(E===Array||w(E.prototype))||v(E)&&null===(E=E[g]))?void 0:E)?Array:E)(0===C?0:C)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(o,oe,H){var v=o("../internals/an-object");oe.exports=function(w,g,y,C){try{return C?g(v(y)[0],y[1]):g(y)}catch(E){throw void 0!==(C=w.return)&&v(C.call(w)),E}}},{"../internals/an-object":10}],27:[function(o,oe,H){var v=o("../internals/well-known-symbol")("iterator"),w=!1;try{var g=0,y={next:function(){return{done:!!g++}},return:function(){w=!0}};y[v]=function(){return this},Array.from(y,function(){throw 2})}catch{}oe.exports=function(C,E){if(!E&&!w)return!1;var s=!1;try{var u={};u[v]=function(){return{next:function(){return{done:s=!0}}}},C(u)}catch{}return s}},{"../internals/well-known-symbol":150}],28:[function(o,oe,H){var v={}.toString;oe.exports=function(w){return v.call(w).slice(8,-1)}},{}],29:[function(o,oe,H){var v=o("../internals/to-string-tag-support"),w=o("../internals/classof-raw"),g=o("../internals/well-known-symbol")("toStringTag"),y="Arguments"==w(function(){return arguments}());oe.exports=v?w:function(C){var E;return void 0===C?"Undefined":null===C?"Null":"string"==typeof(E=function(s,u){try{return s[u]}catch{}}(C=Object(C),g))?E:y?w(C):"Object"==(E=w(C))&&"function"==typeof C.callee?"Arguments":E}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(p,oe,H){"use strict";var v=p("../internals/object-define-property").f,w=p("../internals/object-create"),g=p("../internals/redefine-all"),y=p("../internals/function-bind-context"),C=p("../internals/an-instance"),E=p("../internals/iterate"),s=p("../internals/define-iterator"),u=p("../internals/set-species"),a=p("../internals/descriptors"),d=p("../internals/internal-metadata").fastKey,l=(p=p("../internals/internal-state")).set,m=p.getterFor;oe.exports={getConstructor:function(c,h,_,M){function x(I,z,R){var Q,ne=N(I),V=A(I,z);return V?V.value=R:(ne.last=V={index:Q=d(z,!0),key:z,value:R,previous:z=ne.last,next:void 0,removed:!1},ne.first||(ne.first=V),z&&(z.next=V),a?ne.size++:I.size++,"F"!==Q&&(ne.index[Q]=V)),I}function A(Q,z){Q=N(Q);var R,ne=d(z);if("F"!==ne)return Q.index[ne];for(R=Q.first;R;R=R.next)if(R.key==z)return R}var T=c(function(I,z){C(I,T,h),l(I,{type:h,index:w(null),first:void 0,last:void 0,size:0}),a||(I.size=0),null!=z&&E(z,I[M],I,_)}),N=m(h);return g(T.prototype,{clear:function(){for(var I=N(this),z=I.index,R=I.first;R;)R.removed=!0,R.previous&&(R.previous=R.previous.next=void 0),delete z[R.index],R=R.next;I.first=I.last=void 0,a?I.size=0:this.size=0},delete:function(ne){var z,R,Q=N(this);return(ne=A(this,ne))&&(z=ne.next,R=ne.previous,delete Q.index[ne.index],ne.removed=!0,R&&(R.next=z),z&&(z.previous=R),Q.first==ne&&(Q.first=z),Q.last==ne&&(Q.last=R),a?Q.size--:this.size--),!!ne},forEach:function(I){for(var z,R=N(this),Q=y(I,1<arguments.length?arguments[1]:void 0,3);z=z?z.next:R.first;)for(Q(z.value,z.key,this);z&&z.removed;)z=z.previous},has:function(I){return!!A(this,I)}}),g(T.prototype,_?{get:function(I){return(I=A(this,I))&&I.value},set:function(I,z){return x(this,0===I?0:I,z)}}:{add:function(I){return x(this,I=0===I?0:I,I)}}),a&&v(T.prototype,"size",{get:function(){return N(this).size}}),T},setStrong:function(c,h,_){var M=h+" Iterator",x=m(h),A=m(M);s(c,h,function(T,N){l(this,{type:M,target:T,state:x(T),kind:N,last:void 0})},function(){for(var T=A(this),N=T.kind,I=T.last;I&&I.removed;)I=I.previous;return T.target&&(T.last=I=I?I.next:T.state.first)?"keys"==N?{value:I.key,done:!1}:"values"==N?{value:I.value,done:!1}:{value:[I.key,I.value],done:!1}:{value:T.target=void 0,done:!0}},_?"entries":"values",!_,!0),u(h)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(l,oe,H){"use strict";function v(x){return x.frozen||(x.frozen=new w)}function w(){this.entries=[]}function g(x,A){return h(x.entries,function(T){return T[0]===A})}var y=l("../internals/redefine-all"),C=l("../internals/internal-metadata").getWeakData,E=l("../internals/an-object"),s=l("../internals/is-object"),u=l("../internals/an-instance"),a=l("../internals/iterate"),d=l("../internals/array-iteration"),p=l("../internals/has"),m=(l=l("../internals/internal-state")).set,c=l.getterFor,h=d.find,_=d.findIndex,M=0;w.prototype={get:function(x){if(x=g(this,x))return x[1]},has:function(x){return!!g(this,x)},set:function(x,A){var T=g(this,x);T?T[1]=A:this.entries.push([x,A])},delete:function(x){var A=_(this.entries,function(T){return T[0]===x});return~A&&this.entries.splice(A,1),!!~A}},oe.exports={getConstructor:function(x,A,T,N){function I(Q,ne,V){var X=R(Q),U=C(E(ne),!0);return!0===U?v(X).set(ne,V):U[X.id]=V,Q}var z=x(function(Q,ne){u(Q,z,A),m(Q,{type:A,id:M++,frozen:void 0}),null!=ne&&a(ne,Q[N],Q,T)}),R=c(A);return y(z.prototype,{delete:function(Q){var ne,V=R(this);return!!s(Q)&&(!0===(ne=C(Q))?v(V).delete(Q):ne&&p(ne,V.id)&&delete ne[V.id])},has:function(Q){var ne,V=R(this);return!!s(Q)&&(!0===(ne=C(Q))?v(V).has(Q):ne&&p(ne,V.id))}}),y(z.prototype,T?{get:function(Q){var ne,V=R(this);if(s(Q))return!0===(ne=C(Q))?v(V).get(Q):ne?ne[V.id]:void 0},set:function(Q,ne){return I(this,Q,ne)}}:{add:function(Q){return I(this,Q,!0)}}),z}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(o,oe,H){"use strict";var v=o("../internals/export"),w=o("../internals/global"),g=o("../internals/is-forced"),y=o("../internals/redefine"),C=o("../internals/internal-metadata"),E=o("../internals/iterate"),s=o("../internals/an-instance"),u=o("../internals/is-object"),a=o("../internals/fails"),d=o("../internals/check-correctness-of-iteration"),p=o("../internals/set-to-string-tag"),l=o("../internals/inherit-if-required");oe.exports=function(m,c,h){function _(U){var F=ne[U];y(ne,U,"add"==U?function(K){return F.call(this,0===K?0:K),this}:"delete"==U?function(K){return!(z&&!u(K))&&F.call(this,0===K?0:K)}:"get"==U?function(K){return z&&!u(K)?void 0:F.call(this,0===K?0:K)}:"has"==U?function(K){return!(z&&!u(K))&&F.call(this,0===K?0:K)}:function(K,ie){return F.call(this,0===K?0:K,ie),this})}var M,x,A,T,N,I=-1!==m.indexOf("Map"),z=-1!==m.indexOf("Weak"),R=I?"set":"add",Q=w[m],ne=Q&&Q.prototype,V=Q,X={};return g(m,"function"!=typeof Q||!(z||ne.forEach&&!a(function(){(new Q).entries().next()})))?(V=h.getConstructor(c,m,I,R),C.REQUIRED=!0):g(m,!0)&&(x=(M=new V)[R](z?{}:-0,1)!=M,A=a(function(){M.has(1)}),T=d(function(U){new Q(U)}),N=!z&&a(function(){for(var U=new Q,F=5;F--;)U[R](F,F);return!U.has(-0)}),T||(((V=c(function(U,F){return s(U,V,m),U=l(new Q,U,V),null!=F&&E(F,U[R],U,I),U})).prototype=ne).constructor=V),(A||N)&&(_("delete"),_("has"),I&&_("get")),(N||x)&&_(R),z&&ne.clear&&delete ne.clear),X[m]=V,v({global:!0,forced:V!=Q},X),p(V,m),z||h.setStrong(V,m,I),V}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(o,oe,H){var v=o("../internals/has"),w=o("../internals/own-keys"),g=o("../internals/object-get-own-property-descriptor"),y=o("../internals/object-define-property");oe.exports=function(C,E){for(var s=w(E),u=y.f,a=g.f,d=0;d<s.length;d++){var p=s[d];v(C,p)||u(C,p,a(E,p))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(o,oe,H){var v=o("../internals/well-known-symbol")("match");oe.exports=function(w){var g=/./;try{"/./"[w](g)}catch{try{return g[v]=!1,"/./"[w](g)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(o,oe,H){o=o("../internals/fails"),oe.exports=!o(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype})},{"../internals/fails":51}],36:[function(o,oe,H){var v=o("../internals/require-object-coercible"),w=/"/g;oe.exports=function(s,y,C,E){s=String(v(s));var u="<"+y;return""!==C&&(u+=" "+C+'="'+String(E).replace(w,"&quot;")+'"'),u+">"+s+"</"+y+">"}},{"../internals/require-object-coercible":115}],37:[function(o,oe,H){"use strict";function v(){return this}var w=o("../internals/iterators-core").IteratorPrototype,g=o("../internals/object-create"),y=o("../internals/create-property-descriptor"),C=o("../internals/set-to-string-tag"),E=o("../internals/iterators");oe.exports=function(s,u,a){return u+=" Iterator",s.prototype=g(w,{next:y(1,a)}),C(s,u,!1,!0),E[u]=v,s}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(o,oe,H){var v=o("../internals/descriptors"),w=o("../internals/object-define-property"),g=o("../internals/create-property-descriptor");oe.exports=v?function(y,C,E){return w.f(y,C,g(1,E))}:function(y,C,E){return y[C]=E,y}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(o,oe,H){oe.exports=function(v,w){return{enumerable:!(1&v),configurable:!(2&v),writable:!(4&v),value:w}}},{}],40:[function(o,oe,H){"use strict";var v=o("../internals/to-primitive"),w=o("../internals/object-define-property"),g=o("../internals/create-property-descriptor");oe.exports=function(y,C,E){(C=v(C))in y?w.f(y,C,g(0,E)):y[C]=E}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(l,oe,H){"use strict";function v(){return this}var w=l("../internals/export"),g=l("../internals/create-iterator-constructor"),y=l("../internals/object-get-prototype-of"),C=l("../internals/object-set-prototype-of"),E=l("../internals/set-to-string-tag"),s=l("../internals/create-non-enumerable-property"),u=l("../internals/redefine"),a=l("../internals/well-known-symbol"),d=l("../internals/is-pure"),p=l("../internals/iterators"),m=(l=l("../internals/iterators-core")).IteratorPrototype,c=l.BUGGY_SAFARI_ITERATORS,h=a("iterator"),_="values",M="entries";oe.exports=function(x,A,T,X,I,z,R){function Q(q){if(q===I&&ie)return ie;if(!c&&q in F)return F[q];switch(q){case"keys":case _:case M:return function(){return new T(this,q)}}return function(){return new T(this)}}g(T,A,X),X=A+" Iterator";var ne,V,U=!1,F=x.prototype,K=F[h]||F["@@iterator"]||I&&F[I],ie=!c&&K||Q(I),Te="Array"==A&&F.entries||K;if(Te&&(Te=y(Te.call(new x)),m!==Object.prototype&&Te.next&&(d||y(Te)===m||(C?C(Te,m):"function"!=typeof Te[h]&&s(Te,h,v)),E(Te,X,!0,!0),d&&(p[X]=v))),I==_&&K&&K.name!==_&&(U=!0,ie=function(){return K.call(this)}),d&&!R||F[h]===ie||s(F,h,ie),p[A]=ie,I)if(ne={values:Q(_),keys:z?ie:Q("keys"),entries:Q(M)},R)for(V in ne)!c&&!U&&V in F||u(F,V,ne[V]);else w({target:A,proto:!0,forced:c||U},ne);return ne}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(o,oe,H){var v=o("../internals/path"),w=o("../internals/has"),g=o("../internals/well-known-symbol-wrapped"),y=o("../internals/object-define-property").f;oe.exports=function(C){var E=v.Symbol||(v.Symbol={});w(E,C)||y(E,C,{value:g.f(C)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(o,oe,H){o=o("../internals/fails"),oe.exports=!o(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":51}],44:[function(w,oe,H){var v=w("../internals/global"),g=(w=w("../internals/is-object"),v.document),y=w(g)&&w(g.createElement);oe.exports=function(C){return y?g.createElement(C):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(o,oe,H){oe.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(o,oe,H){o=o("../internals/engine-user-agent"),oe.exports=/(iphone|ipod|ipad).*applewebkit/i.test(o)},{"../internals/engine-user-agent":47}],47:[function(o,oe,H){o=o("../internals/get-built-in"),oe.exports=o("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(g,oe,H){var v,w,y=g("../internals/global");g=g("../internals/engine-user-agent"),(y=(y=(y=y.process)&&y.versions)&&y.v8)?w=(v=y.split("."))[0]+v[1]:g&&(!(v=g.match(/Edge\/(\d+)/))||74<=v[1])&&(v=g.match(/Chrome\/(\d+)/))&&(w=v[1]),oe.exports=w&&+w},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(o,oe,H){oe.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(o,oe,H){var v=o("../internals/global"),w=o("../internals/object-get-own-property-descriptor").f,g=o("../internals/create-non-enumerable-property"),y=o("../internals/redefine"),C=o("../internals/set-global"),E=o("../internals/copy-constructor-properties"),s=o("../internals/is-forced");oe.exports=function(u,a){var d,p,l,m=u.target,c=u.global,h=u.stat,_=c?v:h?v[m]||C(m,{}):(v[m]||{}).prototype;if(_)for(d in a){if(p=a[d],l=u.noTargetGet?(l=w(_,d))&&l.value:_[d],!s(c?d:m+(h?".":"#")+d,u.forced)&&void 0!==l){if(typeof p==typeof l)continue;E(p,l)}(u.sham||l&&l.sham)&&g(p,"sham",!0),y(_,d,p,u)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(o,oe,H){oe.exports=function(v){try{return!!v()}catch{return!0}}},{}],52:[function(a,oe,H){"use strict";a("../modules/es.regexp.exec");var v=a("../internals/redefine"),w=a("../internals/fails"),g=a("../internals/well-known-symbol"),y=a("../internals/regexp-exec"),C=a("../internals/create-non-enumerable-property"),E=g("species"),s=!w(function(){var l=/./;return l.exec=function(){var m=[];return m.groups={a:"7"},m},"7"!=="".replace(l,"$<a>")}),u="$0"==="a".replace(/./,"$0"),d=!!/./[a=g("replace")]&&""===/./[a]("a","$0"),p=!w(function(){var l=(m=/(?:)/).exec,m=(m.exec=function(){return l.apply(this,arguments)},"ab".split(m));return 2!==m.length||"a"!==m[0]||"b"!==m[1]});oe.exports=function(l,m,c,h){var _,M,x=g(l),A=!w(function(){var N={};return N[x]=function(){return 7},7!=""[l](N)}),T=A&&!w(function(){var N=!1,I=/a/;return"split"===l&&((I={constructor:{}}).constructor[E]=function(){return I},I.flags="",I[x]=/./[x]),I.exec=function(){return N=!0,null},I[x](""),!N});A&&T&&("replace"!==l||s&&u&&!d)&&("split"!==l||p)||(_=/./[x],c=(T=c(x,""[l],function(N,I,z,R,Q){return I.exec===y?A&&!Q?{done:!0,value:_.call(I,z,R)}:{done:!0,value:N.call(z,I,R)}:{done:!1}},{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}))[0],M=T[1],v(String.prototype,l,c),v(RegExp.prototype,x,2==m?function(N,I){return M.call(N,this,I)}:function(N){return M.call(N,this)})),h&&C(RegExp.prototype[x],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(o,oe,H){"use strict";var w=o("../internals/is-array"),g=o("../internals/to-length"),y=o("../internals/function-bind-context");oe.exports=function v(C,E,s,u,a,d,p,l){for(var m,c=a,h=0,_=!!p&&y(p,l,3);h<u;){if(h in s){if(m=_?_(s[h],h,E):s[h],0<d&&w(m))c=v(C,E,m,g(m.length),c,d-1)-1;else{if(9007199254740991<=c)throw TypeError("Exceed the acceptable array length");C[c]=m}c++}h++}return c}},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(o,oe,H){o=o("../internals/fails"),oe.exports=!o(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(o,oe,H){var v=o("../internals/a-function");oe.exports=function(w,g,y){if(v(w),void 0===g)return w;switch(y){case 0:return function(){return w.call(g)};case 1:return function(C){return w.call(g,C)};case 2:return function(C,E){return w.call(g,C,E)};case 3:return function(C,E,s){return w.call(g,C,E,s)}}return function(){return w.apply(g,arguments)}}},{"../internals/a-function":5}],56:[function(o,oe,H){"use strict";var v=o("../internals/a-function"),w=o("../internals/is-object"),g=[].slice,y={};oe.exports=Function.bind||function(C){var E=v(this),s=g.call(arguments,1),u=function(){var a=s.concat(g.call(arguments));if(this instanceof u){var d=E,p=a.length,l=a;if(!(p in y)){for(var m=[],c=0;c<p;c++)m[c]="a["+c+"]";y[p]=Function("C,a","return new C("+m.join(",")+")")}return y[p](d,l)}return E.apply(C,a)};return w(E.prototype)&&(u.prototype=E.prototype),u}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(o,oe,H){function v(y){return"function"==typeof y?y:void 0}var w=o("../internals/path"),g=o("../internals/global");oe.exports=function(y,C){return arguments.length<2?v(w[y])||v(g[y]):w[y]&&w[y][C]||g[y]&&g[y][C]}},{"../internals/global":60,"../internals/path":106}],58:[function(o,oe,H){var v=o("../internals/classof"),w=o("../internals/iterators"),g=o("../internals/well-known-symbol")("iterator");oe.exports=function(y){if(null!=y)return y[g]||y["@@iterator"]||w[v(y)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(o,oe,H){var v=o("../internals/an-object"),w=o("../internals/get-iterator-method");oe.exports=function(g){var y=w(g);if("function"!=typeof y)throw TypeError(String(g)+" is not iterable");return v(y.call(g))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(o,oe,H){(function(v){function w(g){return g&&g.Math==Math&&g}oe.exports=w("object"==typeof globalThis&&globalThis)||w("object"==typeof window&&window)||w("object"==typeof self&&self)||w("object"==typeof v&&v)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(o,oe,H){var v={}.hasOwnProperty;oe.exports=function(w,g){return v.call(w,g)}},{}],62:[function(o,oe,H){oe.exports={}},{}],63:[function(o,oe,H){var v=o("../internals/global");oe.exports=function(w,g){var y=v.console;y&&y.error&&(1===arguments.length?y.error(w):y.error(w,g))}},{"../internals/global":60}],64:[function(o,oe,H){o=o("../internals/get-built-in"),oe.exports=o("document","documentElement")},{"../internals/get-built-in":57}],65:[function(o,oe,H){var v=o("../internals/descriptors"),w=o("../internals/fails"),g=o("../internals/document-create-element");oe.exports=!v&&!w(function(){return 7!=Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(o,oe,H){var v=Math.abs,w=Math.pow,g=Math.floor,y=Math.log,C=Math.LN2;oe.exports={pack:function(E,s,c){var a,d,p,l=new Array(c),m=8*c-s-1,h=(c=(1<<m)-1)>>1,_=23===s?w(2,-24)-w(2,-77):0,M=E<0||0===E&&1/E<0?1:0,x=0;for((E=v(E))!=E||E===1/0?(d=E!=E?1:0,a=c):(a=g(y(E)/C),E*(p=w(2,-a))<1&&(a--,p*=2),2<=(E+=1<=a+h?_/p:_*w(2,1-h))*p&&(a++,p/=2),c<=a+h?(d=0,a=c):1<=a+h?(d=(E*p-1)*w(2,s),a+=h):(d=E*w(2,h-1)*w(2,s),a=0));8<=s;l[x++]=255&d,d/=256,s-=8);for(a=a<<s|d,m+=s;0<m;l[x++]=255&a,a/=256,m-=8);return l[--x]|=128*M,l},unpack:function(E,s){var u,c,a=E.length,d=(1<<(c=8*a-s-1))-1,p=d>>1,l=c-7,m=a-1,h=127&(c=E[m--]);for(c>>=7;0<l;h=256*h+E[m],m--,l-=8);for(u=h&(1<<-l)-1,h>>=-l,l+=s;0<l;u=256*u+E[m],m--,l-=8);if(0===h)h=1-p;else{if(h===d)return u?NaN:c?-1/0:1/0;u+=w(2,s),h-=p}return(c?-1:1)*u*w(2,h-s)}}},{}],67:[function(o,oe,H){var v=o("../internals/fails"),w=o("../internals/classof-raw"),g="".split;oe.exports=v(function(){return!Object("z").propertyIsEnumerable(0)})?function(y){return"String"==w(y)?g.call(y,""):Object(y)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(o,oe,H){var v=o("../internals/is-object"),w=o("../internals/object-set-prototype-of");oe.exports=function(g,y,C){return w&&"function"==typeof(y=y.constructor)&&y!==C&&v(y=y.prototype)&&y!==C.prototype&&w(g,y),g}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(v,oe,H){v=v("../internals/shared-store");var w=Function.toString;"function"!=typeof v.inspectSource&&(v.inspectSource=function(g){return w.call(g)}),oe.exports=v.inspectSource},{"../internals/shared-store":121}],70:[function(o,oe,H){function v(l){C(l,u,{value:{objectID:"O"+ ++a,weakData:{}}})}var w=o("../internals/hidden-keys"),g=o("../internals/is-object"),y=o("../internals/has"),C=o("../internals/object-define-property").f,E=o("../internals/uid"),s=o("../internals/freezing"),u=E("meta"),a=0,d=Object.isExtensible||function(){return!0},p=oe.exports={REQUIRED:!1,fastKey:function(l,m){if(!g(l))return"symbol"==typeof l?l:("string"==typeof l?"S":"P")+l;if(!y(l,u)){if(!d(l))return"F";if(!m)return"E";v(l)}return l[u].objectID},getWeakData:function(l,m){if(!y(l,u)){if(!d(l))return!0;if(!m)return!1;v(l)}return l[u].weakData},onFreeze:function(l){return s&&p.REQUIRED&&d(l)&&!y(l,u)&&v(l),l}};w[u]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(c,oe,H){var v,w,g,y,C,E,s,u,a=c("../internals/native-weak-map"),h=c("../internals/global"),d=c("../internals/is-object"),p=c("../internals/create-non-enumerable-property"),l=c("../internals/has"),m=c("../internals/shared-key");c=c("../internals/hidden-keys"),h=h.WeakMap,s=a?(v=new h,w=v.get,g=v.has,y=v.set,C=function(_,M){return y.call(v,_,M),M},E=function(_){return w.call(v,_)||{}},function(_){return g.call(v,_)}):(c[u=m("state")]=!0,C=function(_,M){return p(_,u,M),M},E=function(_){return l(_,u)?_[u]:{}},function(_){return l(_,u)}),oe.exports={set:C,get:E,has:s,enforce:function(_){return s(_)?E(_):C(_,{})},getterFor:function(_){return function(M){if(d(M)&&(M=E(M)).type===_)return M;throw TypeError("Incompatible receiver, "+_+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(o,oe,H){var v=o("../internals/well-known-symbol"),w=o("../internals/iterators"),g=v("iterator"),y=Array.prototype;oe.exports=function(C){return void 0!==C&&(w.Array===C||y[g]===C)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(o,oe,H){var v=o("../internals/classof-raw");oe.exports=Array.isArray||function(w){return"Array"==v(w)}},{"../internals/classof-raw":28}],74:[function(o,oe,H){function v(u,a){return(u=C[y(u)])==s||u!=E&&("function"==typeof a?w(a):!!a)}var w=o("../internals/fails"),g=/#|\.prototype\./,y=v.normalize=function(u){return String(u).replace(g,".").toLowerCase()},C=v.data={},E=v.NATIVE="N",s=v.POLYFILL="P";oe.exports=v},{"../internals/fails":51}],75:[function(o,oe,H){oe.exports=function(v){return"object"==typeof v?null!==v:"function"==typeof v}},{}],76:[function(o,oe,H){oe.exports=!1},{}],77:[function(o,oe,H){var v=o("../internals/is-object"),w=o("../internals/classof-raw"),g=o("../internals/well-known-symbol")("match");oe.exports=function(y){var C;return v(y)&&(void 0!==(C=y[g])?!!C:"RegExp"==w(y))}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(o,oe,H){function v(u,a){this.stopped=u,this.result=a}var w=o("../internals/an-object"),g=o("../internals/is-array-iterator-method"),y=o("../internals/to-length"),C=o("../internals/function-bind-context"),E=o("../internals/get-iterator-method"),s=o("../internals/call-with-safe-iteration-closing");(oe.exports=function(u,a,d,p,l){var m,c,h,_,M,x,A=C(a,d,p?2:1);if(l)m=u;else{if("function"!=typeof(a=E(u)))throw TypeError("Target is not iterable");if(g(a)){for(c=0,h=y(u.length);c<h;c++)if((_=p?A(w(x=u[c])[0],x[1]):A(u[c]))&&_ instanceof v)return _;return new v(!1)}m=a.call(u)}for(M=m.next;!(x=M.call(m)).done;)if("object"==typeof(_=s(m,A,x.value,p))&&_&&_ instanceof v)return _;return new v(!1)}).stop=function(u){return new v(!0,u)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(E,oe,H){"use strict";var v,w,g=E("../internals/object-get-prototype-of"),y=E("../internals/create-non-enumerable-property"),C=E("../internals/has"),s=E("../internals/well-known-symbol"),u=(E=E("../internals/is-pure"),s=s("iterator"),!1);[].keys&&("next"in(w=[].keys())?(g=g(g(w)))!==Object.prototype&&(v=g):u=!0),null==v&&(v={}),E||C(v,s)||y(v,s,function(){return this}),oe.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:u}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(o,oe,H){oe.exports={}},{}],81:[function(o,oe,H){oe.exports=Math.sign||function(v){return 0==(v=+v)||v!=v?v:v<0?-1:1}},{}],82:[function(p,oe,H){var v,w,g,y,C,E,s,u,a=p("../internals/global"),M=p("../internals/object-get-own-property-descriptor").f,_=p("../internals/classof-raw"),d=p("../internals/task").set,l=(p=p("../internals/engine-is-ios"),a.MutationObserver||a.WebKitMutationObserver),m=a.process,c=a.Promise,h="process"==_(m);_=M(a,"queueMicrotask"),(M=_&&_.value)||(v=function(){var x,A;for(h&&(x=m.domain)&&x.exit();w;){A=w.fn,w=w.next;try{A()}catch(T){throw w?y():g=void 0,T}}g=void 0,x&&x.enter()},y=h?function(){m.nextTick(v)}:l&&!p?(C=!0,E=document.createTextNode(""),new l(v).observe(E,{characterData:!0}),function(){E.data=C=!C}):c&&c.resolve?(s=c.resolve(void 0),u=s.then,function(){u.call(s,v)}):function(){d.call(a,v)}),oe.exports=M||function(x){x={fn:x,next:void 0},g&&(g.next=x),w||(w=x,y()),g=x}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(o,oe,H){o=o("../internals/global"),oe.exports=o.Promise},{"../internals/global":60}],84:[function(o,oe,H){o=o("../internals/fails"),oe.exports=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(o,oe,H){var v=o("../internals/fails"),w=o("../internals/well-known-symbol"),g=o("../internals/is-pure"),y=w("iterator");oe.exports=!v(function(){var C=new URL("b?a=1&b=2&c=3","http://a"),E=C.searchParams,s="";return C.pathname="c%20d",E.forEach(function(u,a){E.delete("b"),s+=a+u}),g&&!C.toJSON||!E.sort||"http://a/c%20d?a=1&c=3"!==C.href||"3"!==E.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!E[y]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==s||"x"!==new URL("http://x",void 0).host})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(v,oe,H){var w=v("../internals/global");v=v("../internals/inspect-source"),oe.exports="function"==typeof(w=w.WeakMap)&&/native code/.test(v(w))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(o,oe,H){"use strict";function v(g){var y,C;this.promise=new g(function(E,s){if(void 0!==y||void 0!==C)throw TypeError("Bad Promise constructor");y=E,C=s}),this.resolve=w(y),this.reject=w(C)}var w=o("../internals/a-function");oe.exports.f=function(g){return new v(g)}},{"../internals/a-function":5}],88:[function(o,oe,H){var v=o("../internals/is-regexp");oe.exports=function(w){if(v(w))throw TypeError("The method doesn't accept regular expressions");return w}},{"../internals/is-regexp":77}],89:[function(o,oe,H){var v=o("../internals/global").isFinite;oe.exports=Number.isFinite||function(w){return"number"==typeof w&&v(w)}},{"../internals/global":60}],90:[function(o,oe,H){"use strict";var v=o("../internals/descriptors"),w=o("../internals/fails"),g=o("../internals/object-keys"),y=o("../internals/object-get-own-property-symbols"),C=o("../internals/object-property-is-enumerable"),E=o("../internals/to-object"),s=o("../internals/indexed-object"),u=Object.assign,a=Object.defineProperty;oe.exports=!u||w(function(){var d,p,l,m;return!(!v||1===u({b:1},u(a({},"a",{enumerable:!0,get:function(){a(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(p={},m="abcdefghijklmnopqrst",(d={})[l=Symbol()]=7,m.split("").forEach(function(c){p[c]=c}),7!=u({},d)[l]||g(u({},p)).join("")!=m)})?function(d,p){for(var l=E(d),m=arguments.length,c=1,h=y.f,_=C.f;c<m;)for(var M,x=s(arguments[c++]),A=h?g(x).concat(h(x)):g(x),T=A.length,N=0;N<T;)M=A[N++],v&&!_.call(x,M)||(l[M]=x[M]);return l}:u},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(a,oe,H){function v(){}var w,g=a("../internals/an-object"),y=a("../internals/object-define-properties"),C=a("../internals/enum-bug-keys"),E=a("../internals/hidden-keys"),s=a("../internals/html"),u=a("../internals/document-create-element"),d=(a=a("../internals/shared-key"),"prototype"),p="script",l=a("IE_PROTO"),m=function(h){return"<"+p+">"+h+"</"+p+">"},c=function(){try{w=document.domain&&new ActiveXObject("htmlfile")}catch{}c=w?((h=w).write(m("")),h.close(),_=h.parentWindow.Object,h=null,_):(h=u("iframe"),_="java"+p+":",h.style.display="none",s.appendChild(h),h.src=String(_),(_=h.contentWindow.document).open(),_.write(m("document.F=Object")),_.close(),_.F);for(var h,_,M=C.length;M--;)delete c[d][C[M]];return c()};E[l]=!0,oe.exports=Object.create||function(h,_){var M;return null!==h?(v[d]=g(h),M=new v,v[d]=null,M[l]=h):M=c(),void 0===_?M:y(M,_)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(o,oe,H){var v=o("../internals/descriptors"),w=o("../internals/object-define-property"),g=o("../internals/an-object"),y=o("../internals/object-keys");oe.exports=v?Object.defineProperties:function(C,E){g(C);for(var s,u=y(E),a=u.length,d=0;d<a;)w.f(C,s=u[d++],E[s]);return C}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(o,oe,H){var v=o("../internals/descriptors"),w=o("../internals/ie8-dom-define"),g=o("../internals/an-object"),y=o("../internals/to-primitive"),C=Object.defineProperty;H.f=v?C:function(E,s,u){if(g(E),s=y(s,!0),g(u),w)try{return C(E,s,u)}catch{}if("get"in u||"set"in u)throw TypeError("Accessors not supported");return"value"in u&&(E[s]=u.value),E}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(o,oe,H){var v=o("../internals/descriptors"),w=o("../internals/object-property-is-enumerable"),g=o("../internals/create-property-descriptor"),y=o("../internals/to-indexed-object"),C=o("../internals/to-primitive"),E=o("../internals/has"),s=o("../internals/ie8-dom-define"),u=Object.getOwnPropertyDescriptor;H.f=v?u:function(a,d){if(a=y(a),d=C(d,!0),s)try{return u(a,d)}catch{}if(E(a,d))return g(!w.f.call(a,d),a[d])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(o,oe,H){var v=o("../internals/to-indexed-object"),w=o("../internals/object-get-own-property-names").f,g={}.toString,y="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];oe.exports.f=function(C){if(!y||"[object Window]"!=g.call(C))return w(v(C));try{return w(C)}catch{return y.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(o,oe,H){var v=o("../internals/object-keys-internal"),w=o("../internals/enum-bug-keys").concat("length","prototype");H.f=Object.getOwnPropertyNames||function(g){return v(g,w)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(o,oe,H){H.f=Object.getOwnPropertySymbols},{}],98:[function(y,oe,H){var v=y("../internals/has"),w=y("../internals/to-object"),g=y("../internals/shared-key"),C=(y=y("../internals/correct-prototype-getter"),g("IE_PROTO")),E=Object.prototype;oe.exports=y?Object.getPrototypeOf:function(s){return s=w(s),v(s,C)?s[C]:"function"==typeof s.constructor&&s instanceof s.constructor?s.constructor.prototype:s instanceof Object?E:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(o,oe,H){var v=o("../internals/has"),w=o("../internals/to-indexed-object"),g=o("../internals/array-includes").indexOf,y=o("../internals/hidden-keys");oe.exports=function(C,E){var s,u=w(C),a=0,d=[];for(s in u)!v(y,s)&&v(u,s)&&d.push(s);for(;E.length>a;)!v(u,s=E[a++])||~g(d,s)||d.push(s);return d}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(o,oe,H){var v=o("../internals/object-keys-internal"),w=o("../internals/enum-bug-keys");oe.exports=Object.keys||function(g){return v(g,w)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(o,oe,H){"use strict";var v={}.propertyIsEnumerable,w=Object.getOwnPropertyDescriptor,g=w&&!v.call({1:2},1);H.f=g?function(y){return!!(y=w(this,y))&&y.enumerable}:v},{}],102:[function(o,oe,H){var v=o("../internals/an-object"),w=o("../internals/a-possible-prototype");oe.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g,y=!1,C={};try{(g=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(C,[]),y=C instanceof Array}catch{}return function(E,s){return v(E),w(s),y?g.call(E,s):E.__proto__=s,E}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(o,oe,H){function v(E){return function(s){for(var u,a=y(s),d=g(a),p=d.length,l=0,m=[];l<p;)u=d[l++],w&&!C.call(a,u)||m.push(E?[u,a[u]]:a[u]);return m}}var w=o("../internals/descriptors"),g=o("../internals/object-keys"),y=o("../internals/to-indexed-object"),C=o("../internals/object-property-is-enumerable").f;oe.exports={entries:v(!0),values:v(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(o,oe,H){"use strict";var v=o("../internals/to-string-tag-support"),w=o("../internals/classof");oe.exports=v?{}.toString:function(){return"[object "+w(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(o,oe,H){var v=o("../internals/get-built-in"),w=o("../internals/object-get-own-property-names"),g=o("../internals/object-get-own-property-symbols"),y=o("../internals/an-object");oe.exports=v("Reflect","ownKeys")||function(C){var E=w.f(y(C)),s=g.f;return s?E.concat(s(C)):E}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(o,oe,H){o=o("../internals/global"),oe.exports=o},{"../internals/global":60}],107:[function(o,oe,H){oe.exports=function(v){try{return{error:!1,value:v()}}catch(w){return{error:!0,value:w}}}},{}],108:[function(o,oe,H){var v=o("../internals/an-object"),w=o("../internals/is-object"),g=o("../internals/new-promise-capability");oe.exports=function(y,C){return v(y),w(C)&&C.constructor===y?C:((0,(y=g.f(y)).resolve)(C),y.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(o,oe,H){var v=o("../internals/redefine");oe.exports=function(w,g,y){for(var C in g)v(w,C,g[C],y);return w}},{"../internals/redefine":110}],110:[function(E,oe,H){var v=E("../internals/global"),w=E("../internals/create-non-enumerable-property"),g=E("../internals/has"),y=E("../internals/set-global"),C=E("../internals/inspect-source"),s=(E=E("../internals/internal-state")).get,u=E.enforce,a=String(String).split("String");(oe.exports=function(d,p,l,_){var c=!!_&&!!_.unsafe,h=!!_&&!!_.enumerable;_=!!_&&!!_.noTargetGet,"function"==typeof l&&("string"!=typeof p||g(l,"name")||w(l,"name",p),u(l).source=a.join("string"==typeof p?p:"")),d===v?h?d[p]=l:y(p,l):(c?!_&&d[p]&&(h=!0):delete d[p],h?d[p]=l:w(d,p,l))})(Function.prototype,"toString",function(){return"function"==typeof this&&s(this).source||C(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(o,oe,H){var v=o("./classof-raw"),w=o("./regexp-exec");oe.exports=function(g,y){var C=g.exec;if("function"==typeof C){if("object"!=typeof(C=C.call(g,y)))throw TypeError("RegExp exec method returned something other than an Object or null");return C}if("RegExp"!==v(g))throw TypeError("RegExp#exec called on incompatible receiver");return w.call(g,y)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(y,oe,H){"use strict";var v,w,g=y("./regexp-flags"),C=(y=y("./regexp-sticky-helpers"),RegExp.prototype.exec),E=String.prototype.replace,s=C,u=(w=/b*/g,C.call(v=/a/,"a"),C.call(w,"a"),0!==v.lastIndex||0!==w.lastIndex),a=y.UNSUPPORTED_Y||y.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];oe.exports=s=u||d||a?function(p){var l,m,c,h,_=this,M=a&&_.sticky,x=g.call(_),A=_.source,T=0,N=p;return M&&(-1===(x=x.replace("y","")).indexOf("g")&&(x+="g"),N=String(p).slice(_.lastIndex),0<_.lastIndex&&(!_.multiline||_.multiline&&"\n"!==p[_.lastIndex-1])&&(A="(?: "+A+")",N=" "+N,T++),m=new RegExp("^(?:"+A+")",x)),d&&(m=new RegExp("^"+A+"$(?!\\s)",x)),u&&(l=_.lastIndex),c=C.call(M?m:_,N),M?c?(c.input=c.input.slice(T),c[0]=c[0].slice(T),c.index=_.lastIndex,_.lastIndex+=c[0].length):_.lastIndex=0:u&&c&&(_.lastIndex=_.global?c.index+c[0].length:l),d&&c&&1<c.length&&E.call(c[0],m,function(){for(h=1;h<arguments.length-2;h++)void 0===arguments[h]&&(c[h]=void 0)}),c}:s},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(o,oe,H){"use strict";var v=o("../internals/an-object");oe.exports=function(){var w=v(this),g="";return w.global&&(g+="g"),w.ignoreCase&&(g+="i"),w.multiline&&(g+="m"),w.dotAll&&(g+="s"),w.unicode&&(g+="u"),w.sticky&&(g+="y"),g}},{"../internals/an-object":10}],114:[function(o,oe,H){"use strict";function v(w,g){return RegExp(w,g)}o=o("./fails"),H.UNSUPPORTED_Y=o(function(){var w=v("a","y");return w.lastIndex=2,null!=w.exec("abcd")}),H.BROKEN_CARET=o(function(){var w=v("^r","gy");return w.lastIndex=2,null!=w.exec("str")})},{"./fails":51}],115:[function(o,oe,H){oe.exports=function(v){if(null==v)throw TypeError("Can't call method on "+v);return v}},{}],116:[function(o,oe,H){oe.exports=Object.is||function(v,w){return v===w?0!==v||1/v==1/w:v!=v&&w!=w}},{}],117:[function(o,oe,H){var v=o("../internals/global"),w=o("../internals/create-non-enumerable-property");oe.exports=function(g,y){try{w(v,g,y)}catch{v[g]=y}return y}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(o,oe,H){"use strict";var v=o("../internals/get-built-in"),w=o("../internals/object-define-property"),g=o("../internals/well-known-symbol"),y=o("../internals/descriptors"),C=g("species");oe.exports=function(s){s=v(s),y&&s&&!s[C]&&(0,w.f)(s,C,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(o,oe,H){var v=o("../internals/object-define-property").f,w=o("../internals/has"),g=o("../internals/well-known-symbol")("toStringTag");oe.exports=function(y,C,E){y&&!w(y=E?y:y.prototype,g)&&v(y,g,{configurable:!0,value:C})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(o,oe,H){var v=o("../internals/shared"),w=o("../internals/uid"),g=v("keys");oe.exports=function(y){return g[y]||(g[y]=w(y))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(v,oe,H){var g=v("../internals/global"),w=(v=v("../internals/set-global"),"__core-js_shared__");g=g[w]||v(w,{}),oe.exports=g},{"../internals/global":60,"../internals/set-global":117}],122:[function(o,oe,H){var v=o("../internals/is-pure"),w=o("../internals/shared-store");(oe.exports=function(g,y){return w[g]||(w[g]=void 0!==y?y:{})})("versions",[]).push({version:"3.6.5",mode:v?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(o,oe,H){var v=o("../internals/an-object"),w=o("../internals/a-function"),g=o("../internals/well-known-symbol")("species");oe.exports=function(E,C){return void 0===(E=v(E).constructor)||null==(E=v(E)[g])?C:w(E)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(o,oe,H){var v=o("../internals/fails");oe.exports=function(w){return v(function(){var g=""[w]('"');return g!==g.toLowerCase()||3<g.split('"').length})}},{"../internals/fails":51}],125:[function(o,oe,H){function v(y){return function(u,a){u=String(g(u)),a=w(a);var s,d=u.length;return a<0||d<=a?y?"":void 0:(s=u.charCodeAt(a))<55296||56319<s||a+1===d||(d=u.charCodeAt(a+1))<56320||57343<d?y?u.charAt(a):s:y?u.slice(a,a+2):d-56320+(s-55296<<10)+65536}}var w=o("../internals/to-integer"),g=o("../internals/require-object-coercible");oe.exports={codeAt:v(!1),charAt:v(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(o,oe,H){o=o("../internals/engine-user-agent"),oe.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o)},{"../internals/engine-user-agent":47}],127:[function(o,oe,H){function v(E){return function(d,m,l){var p=(d=String(y(d))).length;return l=void 0===l?" ":String(l),(m=w(m))<=p||""==l?d:((p=g.call(l,C((m-=p)/l.length))).length>m&&(p=p.slice(0,m)),E?d+p:p+d)}}var w=o("../internals/to-length"),g=o("../internals/string-repeat"),y=o("../internals/require-object-coercible"),C=Math.ceil;oe.exports={start:v(!1),end:v(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(o,oe,H){"use strict";function v(c){return c+22+75*(c<26)}function w(c){var h,_=[],M=(c=function(K){for(var ie=[],Te=0,q=K.length;Te<q;){var k,ee=K.charCodeAt(Te++);55296<=ee&&ee<=56319&&Te<q?56320==(64512&(k=K.charCodeAt(Te++)))?ie.push(((1023&ee)<<10)+(1023&k)+65536):(ie.push(ee),Te--):ie.push(ee)}return ie}(c)).length,x=128,A=0,T=72;for(R=0;R<c.length;R++)(h=c[R])<128&&_.push(m(h));var N=_.length,I=N;for(N&&_.push("-");I<M;){for(var z=g,R=0;R<c.length;R++)x<=(h=c[R])&&h<z&&(z=h);var Q=I+1;if(z-x>l((g-A)/Q))throw RangeError(d);for(A+=(z-x)*Q,x=z,R=0;R<c.length;R++){if((h=c[R])<x&&++A>g)throw RangeError(d);if(h==x){for(var ne=A,V=y;;V+=y){var X=V<=T?1:T+C<=V?C:V-T;if(ne<X)break;var U=ne-X,F=y-X;_.push(m(v(X+U%F))),ne=l(U/F)}_.push(m(v(ne))),T=function(K,ie,Te){var q=0;for(K=Te?l(K/s):K>>1,K+=l(K/ie);p*C>>1<K;q+=y)K=l(K/p);return l(q+(p+1)*K/(K+E))}(A,Q,I==N),A=0,++I}}++A,++x}return _.join("")}var g=2147483647,y=36,C=26,E=38,s=700,u=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,d="Overflow: input needs wider integers to process",p=y-1,l=Math.floor,m=String.fromCharCode;oe.exports=function(c){for(var h,_=[],M=c.toLowerCase().replace(a,".").split("."),x=0;x<M.length;x++)_.push(u.test(h=M[x])?"xn--"+w(h):h);return _.join(".")}},{}],129:[function(o,oe,H){"use strict";var v=o("../internals/to-integer"),w=o("../internals/require-object-coercible");oe.exports="".repeat||function(g){var y=String(w(this)),C="",E=v(g);if(E<0||E==1/0)throw RangeError("Wrong number of repetitions");for(;0<E;(E>>>=1)&&(y+=y))1&E&&(C+=y);return C}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(o,oe,H){var v=o("../internals/fails"),w=o("../internals/whitespaces");oe.exports=function(g){return v(function(){return!!w[g]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[g]()||w[g].name!==g})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(g,oe,H){function v(E){return function(s){return s=String(w(s)),1&E&&(s=s.replace(y,"")),2&E?s.replace(C,""):s}}var w=g("../internals/require-object-coercible"),y=(g="["+g("../internals/whitespaces")+"]",RegExp("^"+g+g+"*")),C=RegExp(g+g+"*$");oe.exports={start:v(1),end:v(2),trim:v(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(p,oe,H){function v(I){return function(){N(I)}}function w(I){N(I.data)}function g(I){C.postMessage(I+"",l.protocol+"//"+l.host)}var y,C=p("../internals/global"),E=p("../internals/fails"),s=p("../internals/classof-raw"),u=p("../internals/function-bind-context"),a=p("../internals/html"),d=p("../internals/document-create-element"),l=(p=p("../internals/engine-is-ios"),C.location),m=C.setImmediate,c=C.clearImmediate,h=C.process,_=C.MessageChannel,M=C.Dispatch,x=0,A={},T="onreadystatechange",N=function(I){var z;A.hasOwnProperty(I)&&(z=A[I],delete A[I],z())};m&&c||(m=function(I){for(var z=[],R=1;R<arguments.length;)z.push(arguments[R++]);return A[++x]=function(){("function"==typeof I?I:Function(I)).apply(void 0,z)},y(x),x},c=function(I){delete A[I]},"process"==s(h)?y=function(I){h.nextTick(v(I))}:M&&M.now?y=function(I){M.now(v(I))}:_&&!p?(p=(s=new _).port2,s.port1.onmessage=w,y=u(p.postMessage,p,1)):!C.addEventListener||"function"!=typeof postMessage||C.importScripts||E(g)||"file:"===l.protocol?y=T in d("script")?function(I){a.appendChild(d("script"))[T]=function(){a.removeChild(this),N(I)}}:function(I){setTimeout(v(I),0)}:(y=g,C.addEventListener("message",w,!1))),oe.exports={set:m,clear:c}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(o,oe,H){var v=o("../internals/classof-raw");oe.exports=function(w){if("number"!=typeof w&&"Number"!=v(w))throw TypeError("Incorrect invocation");return+w}},{"../internals/classof-raw":28}],134:[function(o,oe,H){var v=o("../internals/to-integer"),w=Math.max,g=Math.min;oe.exports=function(y,C){return(y=v(y))<0?w(y+C,0):g(y,C)}},{"../internals/to-integer":137}],135:[function(o,oe,H){var v=o("../internals/to-integer"),w=o("../internals/to-length");oe.exports=function(y){if(void 0===y)return 0;y=v(y);var C=w(y);if(y!==C)throw RangeError("Wrong length or index");return C}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(o,oe,H){var v=o("../internals/indexed-object"),w=o("../internals/require-object-coercible");oe.exports=function(g){return v(w(g))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(o,oe,H){var v=Math.ceil,w=Math.floor;oe.exports=function(g){return isNaN(g=+g)?0:(0<g?w:v)(g)}},{}],138:[function(o,oe,H){var v=o("../internals/to-integer"),w=Math.min;oe.exports=function(g){return 0<g?w(v(g),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(o,oe,H){var v=o("../internals/require-object-coercible");oe.exports=function(w){return Object(v(w))}},{"../internals/require-object-coercible":115}],140:[function(o,oe,H){var v=o("../internals/to-positive-integer");oe.exports=function(w,g){if((w=v(w))%g)throw RangeError("Wrong offset");return w}},{"../internals/to-positive-integer":141}],141:[function(o,oe,H){var v=o("../internals/to-integer");oe.exports=function(w){if((w=v(w))<0)throw RangeError("The argument can't be less than 0");return w}},{"../internals/to-integer":137}],142:[function(o,oe,H){var v=o("../internals/is-object");oe.exports=function(w,g){if(!v(w))return w;var y,C;if(g&&"function"==typeof(y=w.toString)&&!v(C=y.call(w))||"function"==typeof(y=w.valueOf)&&!v(C=y.call(w))||!g&&"function"==typeof(y=w.toString)&&!v(C=y.call(w)))return C;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(o,oe,H){var v={};v[o("../internals/well-known-symbol")("toStringTag")]="z",oe.exports="[object z]"===String(v)},{"../internals/well-known-symbol":150}],144:[function(o,oe,H){"use strict";function v(et,st){for(var Dt=0,on=st.length,Lt=new(Ve(et))(on);Dt<on;)Lt[Dt]=st[Dt++];return Lt}function w(et,st){k(et,st,{get:function(){return Te(this)[st]}})}function g(et){return et instanceof Ge||"ArrayBuffer"==(et=N(et))||"SharedArrayBuffer"==et}function y(et,st){return Qe(et)&&"symbol"!=typeof st&&st in et&&String(+st)==String(st)}function C(et,st){return y(et,st=A(st,!0))?c(2,et[st]):ee(et,st)}function E(et,st,Dt){return!(y(et,st=A(st,!0))&&I(Dt)&&T(Dt,"value"))||T(Dt,"get")||T(Dt,"set")||Dt.configurable||T(Dt,"writable")&&!Dt.writable||T(Dt,"enumerable")&&!Dt.enumerable?k(et,st,Dt):(et[st]=Dt.value,et)}var s=o("../internals/export"),u=o("../internals/global"),a=o("../internals/descriptors"),d=o("../internals/typed-array-constructors-require-wrappers"),p=o("../internals/array-buffer-view-core"),l=o("../internals/array-buffer"),m=o("../internals/an-instance"),c=o("../internals/create-property-descriptor"),h=o("../internals/create-non-enumerable-property"),_=o("../internals/to-length"),M=o("../internals/to-index"),x=o("../internals/to-offset"),A=o("../internals/to-primitive"),T=o("../internals/has"),N=o("../internals/classof"),I=o("../internals/is-object"),z=o("../internals/object-create"),R=o("../internals/object-set-prototype-of"),Q=o("../internals/object-get-own-property-names").f,ne=o("../internals/typed-array-from"),V=o("../internals/array-iteration").forEach,X=o("../internals/set-species"),U=o("../internals/object-define-property"),F=o("../internals/object-get-own-property-descriptor"),K=o("../internals/internal-state"),ie=o("../internals/inherit-if-required"),Te=K.get,q=K.set,k=U.f,ee=F.f,me=Math.round,xe=u.RangeError,Ge=l.ArrayBuffer,Ye=l.DataView,mt=p.NATIVE_ARRAY_BUFFER_VIEWS,We=p.TYPED_ARRAY_TAG,ct=p.TypedArray,dt=p.TypedArrayPrototype,Ve=p.aTypedArrayConstructor,Qe=p.isTypedArray,Ze="BYTES_PER_ELEMENT",at="Wrong length";a?(mt||(F.f=C,U.f=E,w(dt,"buffer"),w(dt,"byteOffset"),w(dt,"byteLength"),w(dt,"length")),s({target:"Object",stat:!0,forced:!mt},{getOwnPropertyDescriptor:C,defineProperty:E}),oe.exports=function(At,st,Dt){function on($t,ze){k($t,ze,{get:function(){var $e=this,Pe=ze;return($e=Te($e)).view[Bt](Pe*Lt+$e.byteOffset,!0)},set:function($e){var Pe=this,qe=ze;Pe=Te(Pe),Dt&&($e=($e=me($e))<0?0:255<$e?255:255&$e),Pe.view[gn](qe*Lt+Pe.byteOffset,$e,!0)},enumerable:!0})}var Lt=At.match(/\d+$/)[0]/8,an=At+(Dt?"Clamped":"")+"Array",Bt="get"+At,gn="set"+At,Yt=u[an],hn=Yt,sn=(At=hn&&hn.prototype,{});mt?d&&(hn=st(function($t,ze,$e,Pe){return m($t,hn,an),ie(I(ze)?g(ze)?void 0!==Pe?new Yt(ze,x($e,Lt),Pe):void 0!==$e?new Yt(ze,x($e,Lt)):new Yt(ze):Qe(ze)?v(hn,ze):ne.call(hn,ze):new Yt(M(ze)),$t,hn)}),R&&R(hn,ct),V(Q(Yt),function($t){$t in hn||h(hn,$t,Yt[$t])}),hn.prototype=At):(hn=st(function($t,ze,$e,Pe){m($t,hn,an);var qe,Et,Ft=0,Xt=0;if(I(ze)){if(!g(ze))return Qe(ze)?v(hn,ze):ne.call(hn,ze);var cn=ze;if(Xt=x($e,Lt),$e=ze.byteLength,void 0===Pe){if($e%Lt||(qe=$e-Xt)<0)throw xe(at)}else if($e<(qe=_(Pe)*Lt)+Xt)throw xe(at);Et=qe/Lt}else Et=M(ze),cn=new Ge(qe=Et*Lt);for(q($t,{buffer:cn,byteOffset:Xt,byteLength:qe,length:Et,view:new Ye(cn)});Ft<Et;)on($t,Ft++)}),R&&R(hn,ct),At=hn.prototype=z(dt)),At.constructor!==hn&&h(At,"constructor",hn),We&&h(At,We,an),sn[an]=hn,s({global:!0,forced:hn!=Yt,sham:!mt},sn),Ze in hn||h(hn,Ze,Lt),Ze in At||h(At,Ze,Lt),X(an)}):oe.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(y,oe,H){var v=y("../internals/global"),w=y("../internals/fails"),g=y("../internals/check-correctness-of-iteration"),C=(y=y("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,v.ArrayBuffer),E=v.Int8Array;oe.exports=!y||!w(function(){E(1)})||!w(function(){new E(-1)})||!g(function(s){new E,new E(null),new E(1.5),new E(s)},!0)||w(function(){return 1!==new E(new C(2),1,void 0).length})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(o,oe,H){var v=o("../internals/to-object"),w=o("../internals/to-length"),g=o("../internals/get-iterator-method"),y=o("../internals/is-array-iterator-method"),C=o("../internals/function-bind-context"),E=o("../internals/array-buffer-view-core").aTypedArrayConstructor;oe.exports=function(s){var u,a,d,p,l,m,c=v(s),h=arguments.length,_=1<h?arguments[1]:void 0,M=void 0!==_,x=g(c);if(null!=x&&!y(x))for(m=(l=x.call(c)).next,c=[];!(p=m.call(l)).done;)c.push(p.value);for(M&&2<h&&(_=C(_,arguments[2],2)),a=w(c.length),d=new(E(this))(a),u=0;u<a;u++)d[u]=M?_(c[u],u):c[u];return d}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(o,oe,H){var v=0,w=Math.random();oe.exports=function(g){return"Symbol("+String(void 0===g?"":g)+")_"+(++v+w).toString(36)}},{}],148:[function(o,oe,H){o=o("../internals/native-symbol"),oe.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":84}],149:[function(o,oe,H){o=o("../internals/well-known-symbol"),H.f=o},{"../internals/well-known-symbol":150}],150:[function(E,oe,H){var v=E("../internals/global"),w=E("../internals/shared"),g=E("../internals/has"),y=E("../internals/uid"),C=E("../internals/native-symbol"),s=(E=E("../internals/use-symbol-as-uid"),w("wks")),u=v.Symbol,a=E?u:u&&u.withoutSetter||y;oe.exports=function(d){return g(s,d)||(s[d]=C&&g(u,d)?u[d]:a("Symbol."+d)),s[d]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(o,oe,H){oe.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],152:[function(g,oe,H){"use strict";var v=g("../internals/export"),w=g("../internals/global"),C=g("../internals/array-buffer"),y=(g=g("../internals/set-species"),"ArrayBuffer");v({global:!0,forced:w[y]!==(C=C[y])},{ArrayBuffer:C}),g(y)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(c,oe,H){"use strict";var v=c("../internals/export"),w=c("../internals/fails"),g=c("../internals/is-array"),y=c("../internals/is-object"),C=c("../internals/to-object"),E=c("../internals/to-length"),s=c("../internals/create-property"),u=c("../internals/array-species-create"),a=c("../internals/array-method-has-species-support"),m=c("../internals/well-known-symbol"),d=(c=c("../internals/engine-v8-version"),m("isConcatSpreadable")),p=9007199254740991,l="Maximum allowed index exceeded";m=51<=c||!w(function(){var h=[];return h[d]=!1,h.concat()[0]!==h}),c=a("concat"),v({target:"Array",proto:!0,forced:!m||!c},{concat:function(h){for(var _,M,x,A,T,N=C(this),I=u(N,0),z=0,R=-1,Q=arguments.length;R<Q;R++)if(T=void 0,y(A=x=-1===R?N:arguments[R])&&(void 0!==(T=A[d])?T:g(A))){if(M=E(x.length),p<z+M)throw TypeError(l);for(_=0;_<M;_++,z++)_ in x&&s(I,z,x[_])}else{if(p<=z)throw TypeError(l);s(I,z++,x)}return I.length=z,I}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(g,oe,H){var v=g("../internals/export"),w=g("../internals/array-copy-within");g=g("../internals/add-to-unscopables"),v({target:"Array",proto:!0},{copyWithin:w}),g("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(y,oe,H){"use strict";var v=y("../internals/export"),w=y("../internals/array-iteration").every,g=y("../internals/array-method-is-strict");y=y("../internals/array-method-uses-to-length"),g=g("every"),y=y("every"),v({target:"Array",proto:!0,forced:!g||!y},{every:function(C){return w(this,C,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(g,oe,H){var v=g("../internals/export"),w=g("../internals/array-fill");g=g("../internals/add-to-unscopables"),v({target:"Array",proto:!0},{fill:w}),g("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(y,oe,H){"use strict";var v=y("../internals/export"),w=y("../internals/array-iteration").filter,g=y("../internals/array-method-has-species-support");y=y("../internals/array-method-uses-to-length"),g=g("filter"),y=y("filter"),v({target:"Array",proto:!0,forced:!g||!y},{filter:function(C){return w(this,C,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(E,oe,H){"use strict";var v=E("../internals/export"),w=E("../internals/array-iteration").findIndex,g=E("../internals/add-to-unscopables"),y=(E=E("../internals/array-method-uses-to-length"),"findIndex"),C=!0;E=E(y),y in[]&&Array(1)[y](function(){C=!1}),v({target:"Array",proto:!0,forced:C||!E},{findIndex:function(s){return w(this,s,1<arguments.length?arguments[1]:void 0)}}),g(y)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(o,oe,H){"use strict";var v=o("../internals/export"),w=o("../internals/flatten-into-array"),g=o("../internals/to-object"),y=o("../internals/to-length"),C=o("../internals/a-function"),E=o("../internals/array-species-create");v({target:"Array",proto:!0},{flatMap:function(s){var u,a=g(this),d=y(a.length);return C(s),(u=E(a,0)).length=w(u,a,a,d,0,1,s,1<arguments.length?arguments[1]:void 0),u}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(o,oe,H){"use strict";var v=o("../internals/export"),w=o("../internals/flatten-into-array"),g=o("../internals/to-object"),y=o("../internals/to-length"),C=o("../internals/to-integer"),E=o("../internals/array-species-create");v({target:"Array",proto:!0},{flat:function(){var s=arguments.length?arguments[0]:void 0,u=g(this),a=y(u.length),d=E(u,0);return d.length=w(d,u,u,a,0,void 0===s?1:C(s)),d}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(w,oe,H){"use strict";var v=w("../internals/export");w=w("../internals/array-for-each"),v({target:"Array",proto:!0,forced:[].forEach!=w},{forEach:w})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(o,oe,H){var v=o("../internals/export"),w=o("../internals/array-from");v({target:"Array",stat:!0,forced:!o("../internals/check-correctness-of-iteration")(function(g){Array.from(g)})},{from:w})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(o,oe,H){"use strict";var v=o("../internals/export"),w=o("../internals/array-includes").includes,g=o("../internals/add-to-unscopables");v({target:"Array",proto:!0,forced:!o("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(y){return w(this,y,1<arguments.length?arguments[1]:void 0)}}),g("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(E,oe,H){"use strict";var v=E("../internals/export"),w=E("../internals/array-includes").indexOf,C=E("../internals/array-method-is-strict"),g=(E=E("../internals/array-method-uses-to-length"),[].indexOf),y=!!g&&1/[1].indexOf(1,-0)<0;C=C("indexOf"),E=E("indexOf",{ACCESSORS:!0,1:0}),v({target:"Array",proto:!0,forced:y||!C||!E},{indexOf:function(s){return y?g.apply(this,arguments)||0:w(this,s,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(C,oe,H){"use strict";var v=C("../internals/to-indexed-object"),w=C("../internals/add-to-unscopables"),g=C("../internals/iterators"),y=C("../internals/internal-state"),E=(C=C("../internals/define-iterator"),"Array Iterator"),s=y.set,u=y.getterFor(E);oe.exports=C(Array,"Array",function(a,d){s(this,{type:E,target:v(a),index:0,kind:d})},function(){var a=u(this),d=a.target,p=a.kind,l=a.index++;return!d||l>=d.length?{value:a.target=void 0,done:!0}:"keys"==p?{value:l,done:!1}:"values"==p?{value:d[l],done:!1}:{value:[l,d[l]],done:!1}},"values"),g.Arguments=g.Array,w("keys"),w("values"),w("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(C,oe,H){"use strict";var v=C("../internals/export"),y=C("../internals/indexed-object"),w=C("../internals/to-indexed-object"),g=(C=C("../internals/array-method-is-strict"),[].join);y=y!=Object,C=C("join",","),v({target:"Array",proto:!0,forced:y||!C},{join:function(E){return g.call(w(this),void 0===E?",":E)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(w,oe,H){w("../internals/export")({target:"Array",proto:!0,forced:(w=w("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:w})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(y,oe,H){"use strict";var v=y("../internals/export"),w=y("../internals/array-iteration").map,g=y("../internals/array-method-has-species-support");y=y("../internals/array-method-uses-to-length"),g=g("map"),y=y("map"),v({target:"Array",proto:!0,forced:!g||!y},{map:function(C){return w(this,C,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(d,oe,H){"use strict";var v=d("../internals/export"),w=d("../internals/is-object"),g=d("../internals/is-array"),y=d("../internals/to-absolute-index"),C=d("../internals/to-length"),E=d("../internals/to-indexed-object"),s=d("../internals/create-property"),u=d("../internals/well-known-symbol"),a=d("../internals/array-method-has-species-support"),p=(d=d("../internals/array-method-uses-to-length"),a=a("slice"),d=d("slice",{ACCESSORS:!0,0:0,1:2}),u("species")),l=[].slice,m=Math.max;v({target:"Array",proto:!0,forced:!a||!d},{slice:function(c,h){var _,M,x,A=E(this),T=C(A.length),N=y(c,T),I=y(void 0===h?T:h,T);if(g(A)&&((_="function"==typeof(_=A.constructor)&&(_===Array||g(_.prototype))||w(_)&&null===(_=_[p])?void 0:_)===Array||void 0===_))return l.call(A,N,I);for(M=new(void 0===_?Array:_)(m(I-N,0)),x=0;N<I;N++,x++)N in A&&s(M,x,A[N]);return M.length=x,M}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(y,oe,H){"use strict";var v=y("../internals/export"),w=y("../internals/array-iteration").some,g=y("../internals/array-method-is-strict");y=y("../internals/array-method-uses-to-length"),g=g("some"),y=y("some"),v({target:"Array",proto:!0,forced:!g||!y},{some:function(C){return w(this,C,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(a,oe,H){"use strict";var v=a("../internals/export"),w=a("../internals/to-absolute-index"),g=a("../internals/to-integer"),y=a("../internals/to-length"),C=a("../internals/to-object"),E=a("../internals/array-species-create"),s=a("../internals/create-property"),u=a("../internals/array-method-has-species-support"),d=(a=a("../internals/array-method-uses-to-length"),u=u("splice"),a=a("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),p=Math.min;v({target:"Array",proto:!0,forced:!u||!a},{splice:function(z,m){var c,h,_,M,x,A,T=C(this),N=y(T.length),I=w(z,N);if(0===(z=arguments.length)?c=h=0:h=1===z?(c=0,N-I):(c=z-2,p(d(g(m),0),N-I)),9007199254740991<N+c-h)throw TypeError("Maximum allowed length exceeded");for(_=E(T,h),M=0;M<h;M++)(x=I+M)in T&&s(_,M,T[x]);if(c<(_.length=h)){for(M=I;M<N-h;M++)A=M+c,(x=M+h)in T?T[A]=T[x]:delete T[A];for(M=N;N-h+c<M;M--)delete T[M-1]}else if(h<c)for(M=N-h;I<M;M--)A=M+c-1,(x=M+h-1)in T?T[A]=T[x]:delete T[A];for(M=0;M<c;M++)T[M+I]=arguments[M+2];return T.length=N-h+c,_}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(o,oe,H){o("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(o,oe,H){o("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(w,oe,H){var v=w("../internals/descriptors"),g=(w=w("../internals/object-define-property").f,Function.prototype),y=g.toString,C=/^\s*function ([^ (]*)/;!v||"name"in g||w(g,"name",{configurable:!0,get:function(){try{return y.call(this).match(C)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(w,oe,H){"use strict";var v=w("../internals/collection");w=w("../internals/collection-strong"),oe.exports=v("Map",function(g){return function(){return g(this,arguments.length?arguments[0]:void 0)}},w)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(v,oe,H){v=v("../internals/export");var w=Math.hypot,g=Math.abs,y=Math.sqrt;v({target:"Math",stat:!0,forced:!!w&&w(1/0,NaN)!==1/0},{hypot:function(C,E){for(var s,u,a=0,d=0,p=arguments.length,l=0;d<p;)l<(s=g(arguments[d++]))?(a=a*(u=l/s)*u+1,l=s):a+=0<s?(u=s/l)*u:s;return l===1/0?1/0:l*y(a)}})},{"../internals/export":50}],177:[function(v,oe,H){v=v("../internals/export");var w=Math.log,g=Math.LN2;v({target:"Math",stat:!0},{log2:function(y){return w(y)/g}})},{"../internals/export":50}],178:[function(o,oe,H){o("../internals/export")({target:"Math",stat:!0},{sign:o("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(o,oe,H){"use strict";function v(R){var Q,ne,V,X,U,F,K,ie=a(R,!1);if("string"==typeof ie&&2<ie.length)if(43===(R=(ie=h(ie)).charCodeAt(0))||45===R){if(88===(Q=ie.charCodeAt(2))||120===Q)return NaN}else if(48===R){switch(ie.charCodeAt(1)){case 66:case 98:ne=2,V=49;break;case 79:case 111:ne=8,V=55;break;default:return+ie}for(U=(X=ie.slice(2)).length,F=0;F<U;F++)if((K=X.charCodeAt(F))<48||V<K)return NaN;return parseInt(X,ne)}return+ie}var w=o("../internals/descriptors"),g=o("../internals/global"),y=o("../internals/is-forced"),C=o("../internals/redefine"),E=o("../internals/has"),s=o("../internals/classof-raw"),u=o("../internals/inherit-if-required"),a=o("../internals/to-primitive"),d=o("../internals/fails"),p=o("../internals/object-create"),l=o("../internals/object-get-own-property-names").f,m=o("../internals/object-get-own-property-descriptor").f,c=o("../internals/object-define-property").f,h=o("../internals/string-trim").trim,_="Number",M=g[_],x=M.prototype,A=s(p(x))==_;if(y(_,!M(" 0o1")||!M("0b1")||M("+0x1"))){for(var T,N=function(Q){Q=arguments.length<1?0:Q;var ne=this;return ne instanceof N&&(A?d(function(){x.valueOf.call(ne)}):s(ne)!=_)?u(new M(v(Q)),ne,N):v(Q)},I=w?l(M):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),z=0;I.length>z;z++)E(M,T=I[z])&&!E(N,T)&&c(N,T,m(M,T));(N.prototype=x).constructor=N,C(g,_,N)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(o,oe,H){o("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(o,oe,H){o("../internals/export")({target:"Number",stat:!0},{isFinite:o("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(E,oe,H){"use strict";function v(a,d,p){return 0===d?p:d%2==1?v(a,d-1,p*a):v(a*a,d/2,p)}var w=E("../internals/export"),g=E("../internals/to-integer"),y=E("../internals/this-number-value"),C=E("../internals/string-repeat"),s=(E=E("../internals/fails"),1..toFixed),u=Math.floor;w({target:"Number",proto:!0,forced:s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!E(function(){s.call({})})},{toFixed:function(_){function d(T,N){for(var I=-1,z=N;++I<6;)M[I]=(z+=T*M[I])%1e7,z=u(z/1e7)}function p(T){for(var N=6,I=0;0<=--N;)M[N]=u((I+=M[N])/T),I=I%T*1e7}function l(){for(var T,N=6,I="";0<=--N;)""===I&&0!==N&&0===M[N]||(T=String(M[N]),I=""===I?T:I+C.call("0",7-T.length)+T);return I}var m,c,h=y(this),M=(_=g(_),[0,0,0,0,0,0]),x="",A="0";if(_<0||20<_)throw RangeError("Incorrect fraction digits");if(h!=h)return"NaN";if(h<=-1e21||1e21<=h)return String(h);if(h<0&&(x="-",h=-h),1e-21<h)if(h=(m=function(T){for(var N=0,I=T;4096<=I;)N+=12,I/=4096;for(;2<=I;)N+=1,I/=2;return N}(h*v(2,69,1))-69)<0?h*v(2,-m,1):h/v(2,m,1),h*=4503599627370496,0<(m=52-m)){for(d(0,h),c=_;7<=c;)d(1e7,0),c-=7;for(d(v(10,c,1),0),c=m-1;23<=c;)p(1<<23),c-=23;p(1<<c),d(1,1),p(2),A=l()}else d(0,h),d(1<<-m,0),A=l()+C.call("0",_);return 0<_?x+((h=A.length)<=_?"0."+C.call("0",_-h)+A:A.slice(0,h-_)+"."+A.slice(h-_)):x+A}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(w,oe,H){var v=w("../internals/export");w=w("../internals/object-assign"),v({target:"Object",stat:!0,forced:Object.assign!==w},{assign:w})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(o,oe,H){var v=o("../internals/export"),w=o("../internals/object-to-array").entries;v({target:"Object",stat:!0},{entries:function(g){return w(g)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(o,oe,H){var v=o("../internals/export"),w=o("../internals/iterate"),g=o("../internals/create-property");v({target:"Object",stat:!0},{fromEntries:function(y){var C={};return w(y,function(E,s){g(C,E,s)},void 0,!0),C}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(y,oe,H){var v=y("../internals/export"),C=y("../internals/fails"),w=y("../internals/to-indexed-object"),g=y("../internals/object-get-own-property-descriptor").f;y=y("../internals/descriptors"),C=C(function(){g(1)}),v({target:"Object",stat:!0,forced:!y||C,sham:!y},{getOwnPropertyDescriptor:function(E,s){return g(w(E),s)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(g,oe,H){var v=g("../internals/export"),w=g("../internals/fails");g=g("../internals/object-get-own-property-names-external").f,v({target:"Object",stat:!0,forced:w(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:g})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(C,oe,H){var v=C("../internals/export"),w=C("../internals/fails"),g=C("../internals/to-object"),y=C("../internals/object-get-prototype-of");C=C("../internals/correct-prototype-getter"),v({target:"Object",stat:!0,forced:w(function(){y(1)}),sham:!C},{getPrototypeOf:function(E){return y(g(E))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(o,oe,H){var v=o("../internals/export"),w=o("../internals/to-object"),g=o("../internals/object-keys");v({target:"Object",stat:!0,forced:o("../internals/fails")(function(){g(1)})},{keys:function(y){return g(w(y))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(g,oe,H){var v=g("../internals/to-string-tag-support"),w=g("../internals/redefine");g=g("../internals/object-to-string"),v||w(Object.prototype,"toString",g,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(Dt,oe,H){"use strict";var v,w,g,y,C=Dt("../internals/export"),E=Dt("../internals/is-pure"),s=Dt("../internals/global"),u=Dt("../internals/get-built-in"),a=Dt("../internals/native-promise-constructor"),d=Dt("../internals/redefine"),p=Dt("../internals/redefine-all"),l=Dt("../internals/set-to-string-tag"),m=Dt("../internals/set-species"),c=Dt("../internals/is-object"),h=Dt("../internals/a-function"),_=Dt("../internals/an-instance"),M=Dt("../internals/classof-raw"),x=Dt("../internals/inspect-source"),A=Dt("../internals/iterate"),T=Dt("../internals/check-correctness-of-iteration"),N=Dt("../internals/species-constructor"),I=Dt("../internals/task").set,z=Dt("../internals/microtask"),R=Dt("../internals/promise-resolve"),Q=Dt("../internals/host-report-errors"),ne=Dt("../internals/new-promise-capability"),V=Dt("../internals/perform"),X=Dt("../internals/internal-state"),U=Dt("../internals/is-forced"),on=Dt("../internals/well-known-symbol"),F=Dt("../internals/engine-v8-version"),K=on("species"),ie="Promise",Te=X.get,q=X.set,k=X.getterFor(ie),ee=a,me=s.TypeError,xe=s.document,Ge=s.process,Ye=u("fetch"),mt=ne.f,We=mt,ct="process"==M(Ge),dt=!!(xe&&xe.createEvent&&s.dispatchEvent),Ve="unhandledrejection",Lt=(on=(Dt=U(ie,function(){var sn,$t;return x(ee)===String(ee)&&(66===F||!ct&&"function"!=typeof PromiseRejectionEvent)||!((!E||ee.prototype.finally)&&(51<=F&&/native code/.test(ee)||($t=function(ze){ze(function(){},function(){})},((sn=ee.resolve(1)).constructor={})[K]=$t,sn.then(function(){})instanceof $t)))}))||!T(function(sn){ee.all(sn).catch(function(){})}),function(sn){var $t;return!(!c(sn)||"function"!=typeof($t=sn.then))&&$t}),an=function(sn,$t,ze){var $e;$t.notified||($t.notified=!0,$e=$t.reactions,z(function(){for(var Pe,qe,Et=$t.value,Ft=1==$t.state,Xt=0;$e.length>Xt;){var cn,Ut,Vt,Qt=$e[Xt++],tt=Ft?Qt.ok:Qt.fail,ot=Qt.resolve,Ct=Qt.reject,vt=Qt.domain;try{tt?(Ft||(2===$t.rejection&&function(Mt,ln){I.call(s,function(){ct?Ge.emit("rejectionHandled",Mt):Bt("rejectionhandled",Mt,ln.value)})}(sn,$t),$t.rejection=1),!0===tt?cn=Et:(vt&&vt.enter(),cn=tt(Et),vt&&(vt.exit(),Vt=!0)),cn===Qt.promise?Ct(me("Promise-chain cycle")):(Ut=Lt(cn))?Ut.call(cn,ot,Ct):ot(cn)):Ct(Et)}catch(Mt){vt&&!Vt&&vt.exit(),Ct(Mt)}}$t.reactions=[],$t.notified=!1,ze&&!$t.rejection&&(Pe=sn,qe=$t,I.call(s,function(){var Mt=qe.value,ln=gn(qe);if(ln&&(ln=V(function(){ct?Ge.emit("unhandledRejection",Mt,Pe):Bt(Ve,Pe,Mt)}),qe.rejection=ct||gn(qe)?2:1,ln.error))throw ln.value}))}))},Bt=function(sn,$t,ze){var $e;dt?(($e=xe.createEvent("Event")).promise=$t,$e.reason=ze,$e.initEvent(sn,!1,!0),s.dispatchEvent($e)):$e={promise:$t,reason:ze},($t=s["on"+sn])?$t($e):sn===Ve&&Q("Unhandled promise rejection",ze)},gn=function(sn){return 1!==sn.rejection&&!sn.parent},Yt=function(sn,$t,ze,$e){return function(Pe){sn($t,ze,Pe,$e)}},hn=function(sn,$t,ze,$e){$t.done||($t.done=!0,($t=$e||$t).value=ze,$t.state=2,an(sn,$t,!0))},At=function(sn,$t,ze,$e){if(!$t.done){$t.done=!0,$e&&($t=$e);try{if(sn===ze)throw me("Promise can't be resolved itself");var Pe=Lt(ze);Pe?z(function(){var qe={done:!1};try{Pe.call(ze,Yt(At,sn,qe,$t),Yt(hn,sn,qe,$t))}catch(Et){hn(sn,qe,Et,$t)}}):($t.value=ze,$t.state=1,an(sn,$t,!1))}catch(qe){hn(sn,{done:!1},qe,$t)}}};Dt&&(ee=function(sn){_(this,ee,ie),h(sn),v.call(this);var $t=Te(this);try{sn(Yt(At,this,$t),Yt(hn,this,$t))}catch(ze){hn(this,$t,ze)}},(v=function(sn){q(this,{type:ie,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(ee.prototype,{then:function(sn,$t){var ze=k(this),$e=mt(N(this,ee));return $e.ok="function"!=typeof sn||sn,$e.fail="function"==typeof $t&&$t,$e.domain=ct?Ge.domain:void 0,ze.parent=!0,ze.reactions.push($e),0!=ze.state&&an(this,ze,!1),$e.promise},catch:function(sn){return this.then(void 0,sn)}}),w=function(){var sn=new v,$t=Te(sn);this.promise=sn,this.resolve=Yt(At,sn,$t),this.reject=Yt(hn,sn,$t)},ne.f=mt=function(sn){return sn===ee||sn===g?new w:We(sn)},E||"function"!=typeof a||(y=a.prototype.then,d(a.prototype,"then",function(sn,$t){var ze=this;return new ee(function($e,Pe){y.call(ze,$e,Pe)}).then(sn,$t)},{unsafe:!0}),"function"==typeof Ye&&C({global:!0,enumerable:!0,forced:!0},{fetch:function(sn){return R(ee,Ye.apply(s,arguments))}}))),C({global:!0,wrap:!0,forced:Dt},{Promise:ee}),l(ee,ie,!1,!0),m(ie),g=u(ie),C({target:ie,stat:!0,forced:Dt},{reject:function(sn){var $t=mt(this);return $t.reject.call(void 0,sn),$t.promise}}),C({target:ie,stat:!0,forced:E||Dt},{resolve:function(sn){return R(E&&this===g?ee:this,sn)}}),C({target:ie,stat:!0,forced:on},{all:function(sn){var $t=this,ze=mt($t),$e=ze.resolve,Pe=ze.reject,qe=V(function(){var Et=h($t.resolve),Ft=[],Xt=0,cn=1;A(sn,function(Ut){var Vt=Xt++,Qt=!1;Ft.push(void 0),cn++,Et.call($t,Ut).then(function(tt){Qt||(Qt=!0,Ft[Vt]=tt,--cn||$e(Ft))},Pe)}),--cn||$e(Ft)});return qe.error&&Pe(qe.value),ze.promise},race:function(sn){var $t=this,ze=mt($t),$e=ze.reject,Pe=V(function(){var qe=h($t.resolve);A(sn,function(Et){qe.call($t,Et).then(ze.resolve,$e)})});return Pe.error&&$e(Pe.value),ze.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(s,oe,H){var v=s("../internals/export"),p=s("../internals/get-built-in"),w=s("../internals/a-function"),g=s("../internals/an-object"),y=s("../internals/is-object"),C=s("../internals/object-create"),E=s("../internals/function-bind"),u=(s=s("../internals/fails"),p("Reflect","construct")),a=s(function(){function l(){}return!(u(function(){},[],l)instanceof l)}),d=!s(function(){u(function(){})});v({target:"Reflect",stat:!0,forced:p=a||d,sham:p},{construct:function(l,m){w(l),g(m);var c=arguments.length<3?l:w(arguments[2]);if(d&&!a)return u(l,m,c);if(l==c){switch(m.length){case 0:return new l;case 1:return new l(m[0]);case 2:return new l(m[0],m[1]);case 3:return new l(m[0],m[1],m[2]);case 4:return new l(m[0],m[1],m[2],m[3])}var h=[null];return h.push.apply(h,m),new(E.apply(l,h))}return c=C(y(h=c.prototype)?h:Object.prototype),h=Function.apply.call(l,c,m),y(h)?h:c}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(o,oe,H){var v=o("../internals/export"),w=o("../internals/is-object"),g=o("../internals/an-object"),y=o("../internals/has"),C=o("../internals/object-get-own-property-descriptor"),E=o("../internals/object-get-prototype-of");v({target:"Reflect",stat:!0},{get:function s(u,a){var d,p=arguments.length<3?u:arguments[2];return g(u)===p?u[a]:(d=C.f(u,a))?y(d,"value")?d.value:void 0===d.get?void 0:d.get.call(p):w(d=E(u))?s(d,a,p):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(o,oe,H){var v=o("../internals/descriptors"),w=o("../internals/global"),g=o("../internals/is-forced"),y=o("../internals/inherit-if-required"),C=o("../internals/object-define-property").f,E=o("../internals/object-get-own-property-names").f,s=o("../internals/is-regexp"),u=o("../internals/regexp-flags"),a=o("../internals/regexp-sticky-helpers"),d=o("../internals/redefine"),p=o("../internals/fails"),l=o("../internals/internal-state").set,m=o("../internals/set-species"),c=o("../internals/well-known-symbol")("match"),h=w.RegExp,_=h.prototype,M=/a/g,x=/a/g,A=new h(M)!==M,T=a.UNSUPPORTED_Y;if(v&&g("RegExp",!A||T||p(function(){return x[c]=!1,h(M)!=M||h(x)==x||"/a/i"!=h(M,"i")}))){for(var N=function(R,Q){var ne,V=this instanceof N,X=s(R),U=void 0===Q;return!V&&X&&R.constructor===N&&U?R:(A?X&&!U&&(R=R.source):R instanceof N&&(U&&(Q=u.call(R)),R=R.source),T&&(ne=!!Q&&-1<Q.indexOf("y"))&&(Q=Q.replace(/y/g,"")),X=y(A?new h(R,Q):h(R,Q),V?this:_,N),T&&ne&&l(X,{sticky:ne}),X)},I=E(h),z=0;I.length>z;)!function(R){R in N||C(N,R,{configurable:!0,get:function(){return h[R]},set:function(Q){h[R]=Q}})}(I[z++]);(_.constructor=N).prototype=_,d(w,"RegExp",N)}m("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(w,oe,H){"use strict";var v=w("../internals/export");w=w("../internals/regexp-exec"),v({target:"RegExp",proto:!0,forced:/./.exec!==w},{exec:w})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(y,oe,H){"use strict";var v=y("../internals/redefine"),w=y("../internals/an-object"),s=y("../internals/fails"),g=y("../internals/regexp-flags"),C=(y="toString",RegExp.prototype),E=C[y];((s=s(function(){return"/a/b"!=E.call({source:"a",flags:"b"})}))||E.name!=y)&&v(RegExp.prototype,y,function(){var a=w(this),d=String(a.source),p=a.flags;return"/"+d+"/"+String(void 0===p&&a instanceof RegExp&&!("flags"in C)?g.call(a):p)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(w,oe,H){"use strict";var v=w("../internals/collection");w=w("../internals/collection-strong"),oe.exports=v("Set",function(g){return function(){return g(this,arguments.length?arguments[0]:void 0)}},w)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(E,oe,H){"use strict";var v=E("../internals/export"),w=E("../internals/object-get-own-property-descriptor").f,g=E("../internals/to-length"),y=E("../internals/not-a-regexp"),C=E("../internals/require-object-coercible"),a=E("../internals/correct-is-regexp-logic"),s=(E=E("../internals/is-pure"),"".endsWith),u=Math.min;a=a("endsWith"),v({target:"String",proto:!0,forced:!(!E&&!a&&(v=w(String.prototype,"endsWith"))&&!v.writable||a)},{endsWith:function(d){var p=String(C(this)),l=(y(d),1<arguments.length?arguments[1]:void 0),m=g(p.length);return l=void 0===l?m:u(g(l),m),m=String(d),s?s.call(p,m,l):p.slice(l-m.length,l)===m}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(o,oe,H){"use strict";var v=o("../internals/export"),w=o("../internals/not-a-regexp"),g=o("../internals/require-object-coercible");v({target:"String",proto:!0,forced:!o("../internals/correct-is-regexp-logic")("includes")},{includes:function(y){return!!~String(g(this)).indexOf(w(y),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(g,oe,H){"use strict";var v=g("../internals/string-multibyte").charAt,w=g("../internals/internal-state"),y=(g=g("../internals/define-iterator"),"String Iterator"),C=w.set,E=w.getterFor(y);g(String,"String",function(s){C(this,{type:y,string:String(s),index:0})},function(){var s=E(this),u=s.string,a=s.index;return a>=u.length?{value:void 0,done:!0}:(u=v(u,a),s.index+=u.length,{value:u,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(o,oe,H){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),w=o("../internals/an-object"),g=o("../internals/to-length"),y=o("../internals/require-object-coercible"),C=o("../internals/advance-string-index"),E=o("../internals/regexp-exec-abstract");v("match",1,function(s,u,a){return[function(d){var p=y(this),l=null==d?void 0:d[s];return void 0!==l?l.call(d,p):new RegExp(d)[s](String(p))},function(d){var p=a(u,d,this);if(p.done)return p.value;var l=w(d),m=String(this);if(!l.global)return E(l,m);for(var c=l.unicode,h=[],_=l.lastIndex=0;null!==(M=E(l,m));){var M=String(M[0]);""===(h[_]=M)&&(l.lastIndex=C(m,g(l.lastIndex),c)),_++}return 0===_?null:h}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(o,oe,H){"use strict";var v=o("../internals/export"),w=o("../internals/string-pad").start;v({target:"String",proto:!0,forced:o("../internals/string-pad-webkit-bug")},{padStart:function(g){return w(this,g,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(o,oe,H){o("../internals/export")({target:"String",proto:!0},{repeat:o("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(o,oe,H){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),w=o("../internals/an-object"),g=o("../internals/to-object"),y=o("../internals/to-length"),C=o("../internals/to-integer"),E=o("../internals/require-object-coercible"),s=o("../internals/advance-string-index"),u=o("../internals/regexp-exec-abstract"),a=Math.max,d=Math.min,p=Math.floor,l=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;v("replace",2,function(c,h,_,M){var x=M.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,A=M.REPLACE_KEEPS_$0,T=x?"$":"$0";return[function(N,I){var z=E(this),R=null==N?void 0:N[c];return void 0!==R?R.call(N,z,I):h.call(String(z),N,I)},function(N,I){if(!x&&A||"string"==typeof I&&-1===I.indexOf(T)){var z=_(h,N,this,I);if(z.done)return z.value}for(var R,Q=w(N),ne=String(this),V="function"==typeof I,X=(V||(I=String(I)),Q.global),U=(X&&(R=Q.unicode,Q.lastIndex=0),[]);null!==(q=u(Q,ne))&&(U.push(q),X);)""===String(q[0])&&(Q.lastIndex=s(ne,y(Q.lastIndex),R));for(var F,K="",ie=0,Te=0;Te<U.length;Te++){for(var q=U[Te],k=String(q[0]),ee=a(d(C(q.index),ne.length),0),me=[],xe=1;xe<q.length;xe++)me.push(void 0===(F=q[xe])?F:String(F));var Ge=q.groups,Ye=V?(Ye=[k].concat(me,ee,ne),void 0!==Ge&&Ye.push(Ge),String(I.apply(void 0,Ye))):function(mt,We,ct,dt,Ve,Qe){var Ze=ct+mt.length,at=dt.length,et=m;return void 0!==Ve&&(Ve=g(Ve),et=l),h.call(Qe,et,function(st,Dt){var on;switch(Dt.charAt(0)){case"$":return"$";case"&":return mt;case"`":return We.slice(0,ct);case"'":return We.slice(Ze);case"<":on=Ve[Dt.slice(1,-1)];break;default:var Lt,an=+Dt;if(0==an)return st;if(at<an)return 0!==(Lt=p(an/10))&&Lt<=at?void 0===dt[Lt-1]?Dt.charAt(1):dt[Lt-1]+Dt.charAt(1):st;on=dt[an-1]}return void 0===on?"":on})}(k,ne,ee,me,Ge,I);ie<=ee&&(K+=ne.slice(ie,ee)+Ye,ie=ee+k.length)}return K+ne.slice(ie)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(o,oe,H){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),w=o("../internals/an-object"),g=o("../internals/require-object-coercible"),y=o("../internals/same-value"),C=o("../internals/regexp-exec-abstract");v("search",1,function(E,s,u){return[function(a){var d=g(this),p=null==a?void 0:a[E];return void 0!==p?p.call(a,d):new RegExp(a)[E](String(d))},function(a){var d,p=u(s,a,this);return p.done?p.value:(p=w(a),a=String(this),y(d=p.lastIndex,0)||(p.lastIndex=0),a=C(p,a),y(p.lastIndex,d)||(p.lastIndex=d),null===a?-1:a.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(d,oe,H){"use strict";var v=d("../internals/fix-regexp-well-known-symbol-logic"),w=d("../internals/is-regexp"),g=d("../internals/an-object"),y=d("../internals/require-object-coercible"),C=d("../internals/species-constructor"),E=d("../internals/advance-string-index"),s=d("../internals/to-length"),u=d("../internals/regexp-exec-abstract"),a=d("../internals/regexp-exec"),p=(d=d("../internals/fails"),[].push),l=Math.min,m=4294967295,c=!d(function(){return!RegExp(m,"y")});v("split",2,function(h,_,M){var x="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(A,T){var N=String(y(this)),I=void 0===T?m:T>>>0;if(0==I)return[];if(void 0===A)return[N];if(!w(A))return _.call(N,A,I);for(var z,R,Q,ne=[],V=(T=(A.ignoreCase?"i":"")+(A.multiline?"m":"")+(A.unicode?"u":"")+(A.sticky?"y":""),0),X=new RegExp(A.source,T+"g");(z=a.call(X,N))&&!(V<(R=X.lastIndex)&&(ne.push(N.slice(V,z.index)),1<z.length&&z.index<N.length&&p.apply(ne,z.slice(1)),Q=z[0].length,V=R,ne.length>=I));)X.lastIndex===z.index&&X.lastIndex++;return V===N.length?!Q&&X.test("")||ne.push(""):ne.push(N.slice(V)),ne.length>I?ne.slice(0,I):ne}:"0".split(void 0,0).length?function(A,T){return void 0===A&&0===T?[]:_.call(this,A,T)}:_;return[function(A,T){var N=y(this),I=null==A?void 0:A[h];return void 0!==I?I.call(A,N,T):x.call(String(N),A,T)},function(z,T){if((N=M(x,z,this,T,x!==_)).done)return N.value;var N=g(z),I=String(this),R=(z=C(N,RegExp),N.unicode),ne=new z(c?N:"^(?:"+N.source+")",(N.ignoreCase?"i":"")+(N.multiline?"m":"")+(N.unicode?"u":"")+(c?"y":"g")),V=void 0===T?m:T>>>0;if(0==V)return[];if(0===I.length)return null===u(ne,I)?[I]:[];for(var X=0,U=0,F=[];U<I.length;){ne.lastIndex=c?U:0;var K,ie=u(ne,c?I:I.slice(U));if(null===ie||(K=l(s(ne.lastIndex+(c?0:U)),I.length))===X)U=E(I,U,R);else{if(F.push(I.slice(X,U)),F.length===V)return F;for(var Te=1;Te<=ie.length-1;Te++)if(F.push(ie[Te]),F.length===V)return F;U=X=K}}return F.push(I.slice(X)),F}]},!c)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(E,oe,H){"use strict";var v=E("../internals/export"),w=E("../internals/object-get-own-property-descriptor").f,g=E("../internals/to-length"),y=E("../internals/not-a-regexp"),C=E("../internals/require-object-coercible"),a=E("../internals/correct-is-regexp-logic"),s=(E=E("../internals/is-pure"),"".startsWith),u=Math.min;a=a("startsWith"),v({target:"String",proto:!0,forced:!(!E&&!a&&(v=w(String.prototype,"startsWith"))&&!v.writable||a)},{startsWith:function(m){var p=String(C(this)),l=(y(m),g(u(1<arguments.length?arguments[1]:void 0,p.length)));return m=String(m),s?s.call(p,m,l):p.slice(l,l+m.length)===m}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(o,oe,H){"use strict";var v=o("../internals/export"),w=o("../internals/create-html");v({target:"String",proto:!0,forced:o("../internals/string-html-forced")("sub")},{sub:function(){return w(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(o,oe,H){"use strict";var v=o("../internals/export"),w=o("../internals/string-trim").trim;v({target:"String",proto:!0,forced:o("../internals/string-trim-forced")("trim")},{trim:function(){return w(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(l,oe,H){"use strict";var v,w,g,y,C,E=l("../internals/export"),s=l("../internals/descriptors"),u=l("../internals/global"),a=l("../internals/has"),d=l("../internals/is-object"),p=l("../internals/object-define-property").f,m=(l=l("../internals/copy-constructor-properties"),u.Symbol);!s||"function"!=typeof m||"description"in m.prototype&&void 0===m().description||(v={},l(w=function(){var c=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),h=this instanceof w?new m(c):void 0===c?m():m(c);return""===c&&(v[h]=!0),h},m),(u=w.prototype=m.prototype).constructor=w,g=u.toString,y="Symbol(test)"==String(m("test")),C=/^Symbol\((.*)\)[^)]+$/,p(u,"description",{configurable:!0,get:function(){var c=d(this)?this.valueOf():this,h=g.call(c);return a(v,c)?"":""===(c=y?h.slice(7,-1):h.replace(C,"$1"))?void 0:c}}),E({global:!0,forced:!0},{Symbol:w}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(o,oe,H){o("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(We,oe,H){"use strict";function v(Pe,qe){var Et=on[Pe]=N(Qe[mt]);return ct(Et,{type:Ye,tag:Pe,description:qe}),a||(Et.description=qe),Et}function w(Pe,Ft){_(Pe);var Et=x(Ft);return Ft=I(Et).concat($e(Et)),xe(Ft,function(Xt){a&&!ze.call(Et,Xt)||$t(Pe,Xt,Et[Xt])}),Pe}function g(Ft,Xt){var Et;if(Ft=x(Ft),Xt=A(Xt,!0),Ft!==Ve||!m(on,Xt)||m(Lt,Xt))return!(Et=at(Ft,Xt))||!m(on,Xt)||m(Ft,Ge)&&Ft[Ge][Xt]||(Et.enumerable=!0),Et}function y(qe){qe=st(x(qe));var Et=[];return xe(qe,function(Ft){m(on,Ft)||m(ie,Ft)||Et.push(Ft)}),Et}var C=We("../internals/export"),E=We("../internals/global"),s=We("../internals/get-built-in"),u=We("../internals/is-pure"),a=We("../internals/descriptors"),d=We("../internals/native-symbol"),p=We("../internals/use-symbol-as-uid"),l=We("../internals/fails"),m=We("../internals/has"),c=We("../internals/is-array"),h=We("../internals/is-object"),_=We("../internals/an-object"),M=We("../internals/to-object"),x=We("../internals/to-indexed-object"),A=We("../internals/to-primitive"),T=We("../internals/create-property-descriptor"),N=We("../internals/object-create"),I=We("../internals/object-keys"),z=We("../internals/object-get-own-property-names"),R=We("../internals/object-get-own-property-names-external"),Q=We("../internals/object-get-own-property-symbols"),ne=We("../internals/object-get-own-property-descriptor"),V=We("../internals/object-define-property"),X=We("../internals/object-property-is-enumerable"),U=We("../internals/create-non-enumerable-property"),F=We("../internals/redefine"),K=We("../internals/shared"),gn=We("../internals/shared-key"),ie=We("../internals/hidden-keys"),Te=We("../internals/uid"),q=We("../internals/well-known-symbol"),k=We("../internals/well-known-symbol-wrapped"),ee=We("../internals/define-well-known-symbol"),me=We("../internals/set-to-string-tag"),Yt=We("../internals/internal-state"),xe=We("../internals/array-iteration").forEach,Ge=gn("hidden"),Ye="Symbol",mt="prototype",ct=(We=q("toPrimitive"),Yt.set),dt=Yt.getterFor(Ye),Ve=Object[mt],Qe=E.Symbol,Ze=s("JSON","stringify"),at=ne.f,et=V.f,st=R.f,Dt=X.f,on=K("symbols"),Lt=K("op-symbols"),an=K("string-to-symbol-registry"),Bt=K("symbol-to-string-registry"),hn=(gn=K("wks"),!(Yt=E.QObject)||!Yt[mt]||!Yt[mt].findChild),At=a&&l(function(){return 7!=N(et({},"a",{get:function(){return et(this,"a",{value:7}).a}})).a})?function(Pe,qe,Et){var Ft=at(Ve,qe);Ft&&delete Ve[qe],et(Pe,qe,Et),Ft&&Pe!==Ve&&et(Ve,qe,Ft)}:et,sn=p?function(Pe){return"symbol"==typeof Pe}:function(Pe){return Object(Pe)instanceof Qe},$t=function(Pe,qe,Et){return Pe===Ve&&$t(Lt,qe,Et),_(Pe),qe=A(qe,!0),_(Et),(m(on,qe)?(Et.enumerable?(m(Pe,Ge)&&Pe[Ge][qe]&&(Pe[Ge][qe]=!1),Et=N(Et,{enumerable:T(0,!1)})):(m(Pe,Ge)||et(Pe,Ge,T(1,{})),Pe[Ge][qe]=!0),At):et)(Pe,qe,Et)},ze=function(qe){qe=A(qe,!0);var Et=Dt.call(this,qe);return!(this===Ve&&m(on,qe)&&!m(Lt,qe))&&(!(Et||!m(this,qe)||!m(on,qe)||m(this,Ge)&&this[Ge][qe])||Et)},$e=function(Et){var qe=Et===Ve,Ft=(Et=st(qe?Lt:x(Et)),[]);return xe(Et,function(Xt){!m(on,Xt)||qe&&!m(Ve,Xt)||Ft.push(on[Xt])}),Ft};d||(F((Qe=function(){if(this instanceof Qe)throw TypeError("Symbol is not a constructor");var Pe=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,qe=Te(Pe),Et=function(Ft){this===Ve&&Et.call(Lt,Ft),m(this,Ge)&&m(this[Ge],qe)&&(this[Ge][qe]=!1),At(this,qe,T(1,Ft))};return a&&hn&&At(Ve,qe,{configurable:!0,set:Et}),v(qe,Pe)})[mt],"toString",function(){return dt(this).tag}),F(Qe,"withoutSetter",function(Pe){return v(Te(Pe),Pe)}),X.f=ze,V.f=$t,ne.f=g,z.f=R.f=y,Q.f=$e,k.f=function(Pe){return v(q(Pe),Pe)},a&&(et(Qe[mt],"description",{configurable:!0,get:function(){return dt(this).description}}),u||F(Ve,"propertyIsEnumerable",ze,{unsafe:!0}))),C({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:Qe}),xe(I(gn),function(Pe){ee(Pe)}),C({target:Ye,stat:!0,forced:!d},{for:function(Et){var qe;return Et=String(Et),m(an,Et)?an[Et]:(qe=Qe(Et),an[Et]=qe,Bt[qe]=Et,qe)},keyFor:function(Pe){if(!sn(Pe))throw TypeError(Pe+" is not a symbol");if(m(Bt,Pe))return Bt[Pe]},useSetter:function(){hn=!0},useSimple:function(){hn=!1}}),C({target:"Object",stat:!0,forced:!d,sham:!a},{create:function(Pe,qe){return void 0===qe?N(Pe):w(N(Pe),qe)},defineProperty:$t,defineProperties:w,getOwnPropertyDescriptor:g}),C({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:y,getOwnPropertySymbols:$e}),C({target:"Object",stat:!0,forced:l(function(){Q.f(1)})},{getOwnPropertySymbols:function(Pe){return Q.f(M(Pe))}}),Ze&&C({target:"JSON",stat:!0,forced:!d||l(function(){var Pe=Qe();return"[null]"!=Ze([Pe])||"{}"!=Ze({a:Pe})||"{}"!=Ze(Object(Pe))})},{stringify:function(Pe,qe,Et){for(var Ft,Xt=[Pe],cn=1;cn<arguments.length;)Xt.push(arguments[cn++]);if((h(Ft=qe)||void 0!==Pe)&&!sn(Pe))return c(qe)||(qe=function(Ut,Vt){if("function"==typeof Ft&&(Vt=Ft.call(this,Ut,Vt)),!sn(Vt))return Vt}),Xt[1]=qe,Ze.apply(null,Xt)}}),Qe[mt][We]||U(Qe[mt],We,Qe[mt].valueOf),me(Qe,Ye),ie[Ge]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(o,oe,H){"use strict";var v=o("../internals/array-buffer-view-core"),w=o("../internals/array-copy-within"),g=v.aTypedArray;(0,v.exportTypedArrayMethod)("copyWithin",function(y,C){return w.call(g(this),y,C,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(o,oe,H){"use strict";var v=o("../internals/array-buffer-view-core"),w=o("../internals/array-iteration").every,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("every",function(y){return w(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(o,oe,H){"use strict";var v=o("../internals/array-buffer-view-core"),w=o("../internals/array-fill"),g=v.aTypedArray;(0,v.exportTypedArrayMethod)("fill",function(y){return w.apply(g(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(o,oe,H){"use strict";var v=o("../internals/array-buffer-view-core"),w=o("../internals/array-iteration").filter,g=o("../internals/species-constructor"),y=v.aTypedArray,C=v.aTypedArrayConstructor;(0,v.exportTypedArrayMethod)("filter",function(E){for(var s=w(y(this),E,1<arguments.length?arguments[1]:void 0),u=(E=g(this,this.constructor),0),a=s.length,d=new(C(E))(a);u<a;)d[u]=s[u++];return d})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(o,oe,H){"use strict";var v=o("../internals/array-buffer-view-core"),w=o("../internals/array-iteration").findIndex,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("findIndex",function(y){return w(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(o,oe,H){"use strict";var v=o("../internals/array-buffer-view-core"),w=o("../internals/array-iteration").find,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("find",function(y){return w(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(o,oe,H){o("../internals/typed-array-constructor")("Float32",function(v){return function(w,g,y){return v(this,w,g,y)}})},{"../internals/typed-array-constructor":144}],220:[function(o,oe,H){o("../internals/typed-array-constructor")("Float64",function(v){return function(w,g,y){return v(this,w,g,y)}})},{"../internals/typed-array-constructor":144}],221:[function(o,oe,H){"use strict";var v=o("../internals/array-buffer-view-core"),w=o("../internals/array-iteration").forEach,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("forEach",function(y){w(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(o,oe,H){"use strict";var v=o("../internals/array-buffer-view-core"),w=o("../internals/array-includes").includes,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("includes",function(y){return w(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(o,oe,H){"use strict";var v=o("../internals/array-buffer-view-core"),w=o("../internals/array-includes").indexOf,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("indexOf",function(y){return w(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(o,oe,H){o("../internals/typed-array-constructor")("Int16",function(v){return function(w,g,y){return v(this,w,g,y)}})},{"../internals/typed-array-constructor":144}],225:[function(o,oe,H){o("../internals/typed-array-constructor")("Int32",function(v){return function(w,g,y){return v(this,w,g,y)}})},{"../internals/typed-array-constructor":144}],226:[function(w,oe,H){"use strict";function v(){return g.call(E(this))}var a=w("../internals/global"),u=w("../internals/array-buffer-view-core"),s=w("../modules/es.array.iterator"),g=(w=w("../internals/well-known-symbol")("iterator"),s.values),y=s.keys,C=s.entries,E=u.aTypedArray;s=u.exportTypedArrayMethod,a=!!(u=(a=a.Uint8Array)&&a.prototype[w])&&("values"==u.name||null==u.name),s("entries",function(){return C.call(E(this))}),s("keys",function(){return y.call(E(this))}),s("values",v,!a),s(w,v,!a)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(w,oe,H){"use strict";var v=(w=w("../internals/array-buffer-view-core")).aTypedArray,g=[].join;(w=w.exportTypedArrayMethod)("join",function(y){return g.apply(v(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(o,oe,H){"use strict";var v=o("../internals/array-buffer-view-core"),w=o("../internals/array-last-index-of"),g=v.aTypedArray;(0,v.exportTypedArrayMethod)("lastIndexOf",function(y){return w.apply(g(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(o,oe,H){"use strict";var v=o("../internals/array-buffer-view-core"),w=o("../internals/array-iteration").map,g=o("../internals/species-constructor"),y=v.aTypedArray,C=v.aTypedArrayConstructor;(0,v.exportTypedArrayMethod)("map",function(E){return w(y(this),E,1<arguments.length?arguments[1]:void 0,function(s,u){return new(C(g(s,s.constructor)))(u)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(o,oe,H){"use strict";var v=o("../internals/array-buffer-view-core"),w=o("../internals/array-reduce").right,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("reduceRight",function(y){return w(g(this),y,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(o,oe,H){"use strict";var v=o("../internals/array-buffer-view-core"),w=o("../internals/array-reduce").left,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("reduce",function(y){return w(g(this),y,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(w,oe,H){"use strict";var v=(w=w("../internals/array-buffer-view-core")).aTypedArray,g=(w=w.exportTypedArrayMethod,Math.floor);w("reverse",function(){for(var y,C=v(this).length,E=g(C/2),s=0;s<E;)y=this[s],this[s++]=this[--C],this[C]=y;return this})},{"../internals/array-buffer-view-core":12}],233:[function(C,oe,H){"use strict";var v=C("../internals/array-buffer-view-core"),w=C("../internals/to-length"),g=C("../internals/to-offset"),y=C("../internals/to-object"),E=(C=C("../internals/fails"),v.aTypedArray);(0,v.exportTypedArrayMethod)("set",function(s){E(this);var u=g(1<arguments.length?arguments[1]:void 0,1),a=this.length,d=y(s),p=w(d.length),l=0;if(a<p+u)throw RangeError("Wrong length");for(;l<p;)this[u+l]=d[l++]},C(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(w,oe,H){"use strict";var C=w("../internals/array-buffer-view-core"),v=w("../internals/species-constructor"),g=(w=w("../internals/fails"),C.aTypedArray),y=C.aTypedArrayConstructor,E=[].slice;(C=C.exportTypedArrayMethod)("slice",function(s,u){for(var a=E.call(g(this),s,u),d=(s=v(this,this.constructor),0),p=a.length,l=new(y(s))(p);d<p;)l[d]=a[d++];return l},w(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(o,oe,H){"use strict";var v=o("../internals/array-buffer-view-core"),w=o("../internals/array-iteration").some,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("some",function(y){return w(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(w,oe,H){"use strict";var v=(w=w("../internals/array-buffer-view-core")).aTypedArray,g=[].sort;(w=w.exportTypedArrayMethod)("sort",function(y){return g.call(v(this),y)})},{"../internals/array-buffer-view-core":12}],237:[function(o,oe,H){"use strict";var v=o("../internals/array-buffer-view-core"),w=o("../internals/to-length"),g=o("../internals/to-absolute-index"),y=o("../internals/species-constructor"),C=v.aTypedArray;(0,v.exportTypedArrayMethod)("subarray",function(d,s){var u=C(this),a=u.length;return d=g(d,a),new(y(u,u.constructor))(u.buffer,u.byteOffset+d*u.BYTES_PER_ELEMENT,w((void 0===s?a:g(s,a))-d))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(w,oe,H){"use strict";var C=w("../internals/global"),v=w("../internals/array-buffer-view-core"),g=(w=w("../internals/fails"),C.Int8Array),y=v.aTypedArray,E=(C=v.exportTypedArrayMethod,[].toLocaleString),s=[].slice,u=!!g&&w(function(){E.call(new g(1))});C("toLocaleString",function(){return E.apply(u?s.call(y(this)):y(this),arguments)},w(function(){return[1,2].toLocaleString()!=new g([1,2]).toLocaleString()})||!w(function(){g.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(w,oe,H){"use strict";var v=w("../internals/array-buffer-view-core").exportTypedArrayMethod,C=w("../internals/fails"),g=(w=(w=w("../internals/global").Uint8Array)&&w.prototype||{},[].toString),y=[].join;C(function(){g.call({})})&&(g=function(){return y.call(this)}),v("toString",g,C=w.toString!=g)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(o,oe,H){o("../internals/typed-array-constructor")("Uint16",function(v){return function(w,g,y){return v(this,w,g,y)}})},{"../internals/typed-array-constructor":144}],241:[function(o,oe,H){o("../internals/typed-array-constructor")("Uint32",function(v){return function(w,g,y){return v(this,w,g,y)}})},{"../internals/typed-array-constructor":144}],242:[function(o,oe,H){o("../internals/typed-array-constructor")("Uint8",function(v){return function(w,g,y){return v(this,w,g,y)}})},{"../internals/typed-array-constructor":144}],243:[function(o,oe,H){o("../internals/typed-array-constructor")("Uint8",function(v){return function(w,g,y){return v(this,w,g,y)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(m,_,H){"use strict";function v(M){return function(){return M(this,arguments.length?arguments[0]:void 0)}}var w,g,y,C,E,c=m("../internals/global"),s=m("../internals/redefine-all"),u=m("../internals/internal-metadata"),a=m("../internals/collection"),d=m("../internals/collection-weak"),p=m("../internals/is-object"),l=m("../internals/internal-state").enforce,h=(m=m("../internals/native-weak-map"),c=!c.ActiveXObject&&"ActiveXObject"in c,Object.isExtensible);_=_.exports=a("WeakMap",v,d),m&&c&&(w=d.getConstructor(v,"WeakMap",!0),u.REQUIRED=!0,g=(a=_.prototype).delete,y=a.has,C=a.get,E=a.set,s(a,{delete:function(M){var x;return p(M)&&!h(M)?((x=l(this)).frozen||(x.frozen=new w),g.call(this,M)||x.frozen.delete(M)):g.call(this,M)},has:function(M){var x;return p(M)&&!h(M)?((x=l(this)).frozen||(x.frozen=new w),y.call(this,M)||x.frozen.has(M)):y.call(this,M)},get:function(M){var x;return!p(M)||h(M)||((x=l(this)).frozen||(x.frozen=new w),y.call(this,M))?C.call(this,M):x.frozen.get(M)},set:function(M,x){var A;return!p(M)||h(M)||((A=l(this)).frozen||(A.frozen=new w),y.call(this,M))?E.call(this,M,x):A.frozen.set(M,x),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(o,oe,H){var v,w=o("../internals/global"),g=o("../internals/dom-iterables"),y=o("../internals/array-for-each"),C=o("../internals/create-non-enumerable-property");for(v in g){var E;if((E=(E=w[v])&&E.prototype)&&E.forEach!==y)try{C(E,"forEach",y)}catch{E.forEach=y}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(E,oe,H){var v,w=E("../internals/global"),g=E("../internals/dom-iterables"),y=E("../modules/es.array.iterator"),C=E("../internals/create-non-enumerable-property"),s=(E=E("../internals/well-known-symbol"))("iterator"),u=E("toStringTag"),a=y.values;for(v in g){var d=w[v],p=d&&d.prototype;if(p){if(p[s]!==a)try{C(p,s,a)}catch{p[s]=a}if(p[u]||C(p,u,v),g[v])for(var l in y)if(p[l]!==y[l])try{C(p,l,y[l])}catch{p[l]=y[l]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(Ge,oe,H){"use strict";function v(Ye){try{return decodeURIComponent(Ye)}catch{return Ye}}function w(Ye){return ee[Ye]}function g(Ye){return encodeURIComponent(Ye).replace(k,w)}function y(Ye){this.entries.length=0,me(this.entries,Ye)}function C(Ye,mt){if(Ye<mt)throw TypeError("Not enough arguments")}function E(){c(this,E,V);var Ye,mt,We,ct,dt,Ve,Qe,Ze,at=0<arguments.length?arguments[0]:void 0,et=[];if(U(this,{type:V,entries:et,updateURL:function(){},updateSearchParams:y}),void 0!==at)if(A(at))if("function"==typeof(Ye=z(at)))for(We=(mt=Ye.call(at)).next;!(ct=We.call(mt)).done;){if((Ve=(dt=(ct=I(x(ct.value))).next).call(ct)).done||(Qe=dt.call(ct)).done||!dt.call(ct).done)throw TypeError("Expected sequence with length 2");et.push({key:Ve.value+"",value:Qe.value+""})}else for(Ze in at)h(at,Ze)&&et.push({key:Ze,value:at[Ze]+""});else me(et,"string"==typeof at?"?"===at.charAt(0)?at.slice(1):at:at+"")}Ge("../modules/es.array.iterator");var s=Ge("../internals/export"),ne=Ge("../internals/get-built-in"),u=Ge("../internals/native-url"),a=Ge("../internals/redefine"),d=Ge("../internals/redefine-all"),p=Ge("../internals/set-to-string-tag"),l=Ge("../internals/create-iterator-constructor"),m=Ge("../internals/internal-state"),c=Ge("../internals/an-instance"),h=Ge("../internals/has"),_=Ge("../internals/function-bind-context"),M=Ge("../internals/classof"),x=Ge("../internals/an-object"),A=Ge("../internals/is-object"),T=Ge("../internals/object-create"),N=Ge("../internals/create-property-descriptor"),I=Ge("../internals/get-iterator"),z=Ge("../internals/get-iterator-method"),R=(Ge=Ge("../internals/well-known-symbol"),ne("fetch")),Q=ne("Headers"),V=(ne=Ge("iterator"),"URLSearchParams"),X=V+"Iterator",U=m.set,F=m.getterFor(V),K=m.getterFor(X),ie=/\+/g,Te=Array(4),q=function(Ye){var mt,We=Ye.replace(ie," "),ct=4;try{return decodeURIComponent(We)}catch{for(;ct;)We=We.replace((mt=ct--,Te[mt-1]||(Te[mt-1]=RegExp("((?:%[\\da-f]{2}){"+mt+"})","gi"))),v);return We}},k=/[!'()~]|%20/g,ee={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},me=function(Ye,mt){if(mt)for(var We,ct=mt.split("&"),dt=0;dt<ct.length;)(We=ct[dt++]).length&&(We=We.split("="),Ye.push({key:q(We.shift()),value:q(We.join("="))}))},xe=l(function(Ye,mt){U(this,{type:X,iterator:I(F(Ye).entries),kind:mt})},"Iterator",function(){var mt,Ye=(mt=K(this)).kind,We=(mt=mt.iterator.next()).value;return mt.done||(mt.value="keys"===Ye?We.key:"values"===Ye?We.value:[We.key,We.value]),mt});d(Ge=E.prototype,{append:function(Ye,mt){C(arguments.length,2);var We=F(this);We.entries.push({key:Ye+"",value:mt+""}),We.updateURL()},delete:function(Ye){C(arguments.length,1);for(var mt=F(this),We=mt.entries,ct=Ye+"",dt=0;dt<We.length;)We[dt].key===ct?We.splice(dt,1):dt++;mt.updateURL()},get:function(Ye){C(arguments.length,1);for(var mt=F(this).entries,We=Ye+"",ct=0;ct<mt.length;ct++)if(mt[ct].key===We)return mt[ct].value;return null},getAll:function(Ye){C(arguments.length,1);for(var mt=F(this).entries,We=Ye+"",ct=[],dt=0;dt<mt.length;dt++)mt[dt].key===We&&ct.push(mt[dt].value);return ct},has:function(Ye){C(arguments.length,1);for(var mt=F(this).entries,We=Ye+"",ct=0;ct<mt.length;)if(mt[ct++].key===We)return!0;return!1},set:function(Ye,mt){C(arguments.length,1);for(var We,ct=F(this),dt=ct.entries,Ve=!1,Qe=Ye+"",Ze=mt+"",at=0;at<dt.length;at++)(We=dt[at]).key===Qe&&(Ve?dt.splice(at--,1):(Ve=!0,We.value=Ze));Ve||dt.push({key:Qe,value:Ze}),ct.updateURL()},sort:function(){for(var Ye,mt,We=F(this),ct=We.entries,dt=ct.slice(),Ve=ct.length=0;Ve<dt.length;Ve++){for(Ye=dt[Ve],mt=0;mt<Ve;mt++)if(ct[mt].key>Ye.key){ct.splice(mt,0,Ye);break}mt===Ve&&ct.push(Ye)}We.updateURL()},forEach:function(Ye){for(var mt,We=F(this).entries,ct=_(Ye,1<arguments.length?arguments[1]:void 0,3),dt=0;dt<We.length;)ct((mt=We[dt++]).value,mt.key,this)},keys:function(){return new xe(this,"keys")},values:function(){return new xe(this,"values")},entries:function(){return new xe(this,"entries")}},{enumerable:!0}),a(Ge,ne,Ge.entries),a(Ge,"toString",function(){for(var Ye,mt=F(this).entries,We=[],ct=0;ct<mt.length;)Ye=mt[ct++],We.push(g(Ye.key)+"="+g(Ye.value));return We.join("&")},{enumerable:!0}),p(E,V),s({global:!0,forced:!u},{URLSearchParams:E}),u||"function"!=typeof R||"function"!=typeof Q||s({global:!0,enumerable:!0,forced:!0},{fetch:function(dt){var mt,We,ct;return dt=[dt],1<arguments.length&&(A(mt=arguments[1])&&M(We=mt.body)===V&&((ct=mt.headers?new Q(mt.headers):new Q).has("content-type")||ct.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),mt=T(mt,{body:N(0,String(We)),headers:N(0,ct)})),dt.push(mt)),R.apply(this,dt)}}),oe.exports={URLSearchParams:E,getState:F}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(I,oe,H){"use strict";function v(b){var P,B,L,se;if("number"==typeof b){for(P=[],B=0;B<4;B++)P.unshift(b%256),b=X(b/256);return P.join(".")}if("object"!=typeof b)return b;for(P="",L=Qe(b),B=0;B<8;B++)se&&0===b[B]||(se=se&&!1,L===B?(P+=B?":":"::",se=!0):(P+=b[B].toString(16),B<7&&(P+=":")));return"["+P+"]"}function w(b){return!b.host||b.cannotBeABaseURL||"file"==b.scheme}function g(b,P,B,L){var se,W,ye,Me=B||sn,Xe=0,ce="",ke=!1,lt=!1,Be=!1;for(B||(b.scheme="",b.username="",b.password="",b.host=null,b.port=null,b.path=[],b.query=null,b.fragment=null,b.cannotBeABaseURL=!1,P=P.replace(ct,"")),P=P.replace(dt,""),se=M(P);Xe<=se.length;){switch(W=se[Xe],Me){case sn:if(!W||!q.test(W)){if(B)return K;Me=ze;continue}ce+=W.toLowerCase(),Me=$t;break;case $t:if(W&&(k.test(W)||"+"==W||"-"==W||"."==W))ce+=W.toLowerCase();else{if(":"!=W){if(B)return K;ce="",Me=ze,Xe=0;continue}if(B&&(Lt(b)!=h(on,ce)||"file"==ce&&(an(b)||null!==b.port)||"file"==b.scheme&&!b.host))return;if(b.scheme=ce,B)return void(Lt(b)&&on[b.scheme]==b.port&&(b.port=null));ce="","file"==b.scheme?Me=tt:Lt(b)&&L&&L.scheme==b.scheme?Me=$e:Lt(b)?Me=Ft:"/"==se[Xe+1]?(Me=Pe,Xe++):(b.cannotBeABaseURL=!0,b.path.push(""),Me=ln)}break;case ze:if(!L||L.cannotBeABaseURL&&"#"!=W)return K;if(L.cannotBeABaseURL&&"#"==W){b.scheme=L.scheme,b.path=L.path.slice(),b.query=L.query,b.fragment="",b.cannotBeABaseURL=!0,Me=St;break}Me="file"==L.scheme?tt:qe;continue;case $e:if("/"!=W||"/"!=se[Xe+1]){Me=qe;continue}Me=Xt,Xe++;break;case Pe:if("/"==W){Me=cn;break}Me=Mt;continue;case qe:if(b.scheme=L.scheme,W==E)b.username=L.username,b.password=L.password,b.host=L.host,b.port=L.port,b.path=L.path.slice(),b.query=L.query;else if("/"==W||"\\"==W&&Lt(b))Me=Et;else if("?"==W)b.username=L.username,b.password=L.password,b.host=L.host,b.port=L.port,b.path=L.path.slice(),b.query="",Me=gt;else{if("#"!=W){b.username=L.username,b.password=L.password,b.host=L.host,b.port=L.port,b.path=L.path.slice(),b.path.pop(),Me=Mt;continue}b.username=L.username,b.password=L.password,b.host=L.host,b.port=L.port,b.path=L.path.slice(),b.query=L.query,b.fragment="",Me=St}break;case Et:if(!Lt(b)||"/"!=W&&"\\"!=W){if("/"!=W){b.username=L.username,b.password=L.password,b.host=L.host,b.port=L.port,Me=Mt;continue}Me=cn}else Me=Xt;break;case Ft:if(Me=Xt,"/"!=W||"/"!=ce.charAt(Xe+1))continue;Xe++;break;case Xt:if("/"==W||"\\"==W)break;Me=cn;continue;case cn:if("@"==W){ke&&(ce="%40"+ce),ke=!0;for(var ht=M(ce),Nt=0;Nt<ht.length;Nt++){var nn=ht[Nt];":"!=nn||Be?(nn=Dt(nn,st),Be?b.password+=nn:b.username+=nn):Be=!0}ce=""}else if(W==E||"/"==W||"?"==W||"#"==W||"\\"==W&&Lt(b)){if(ke&&""==ce)return F;Xe-=M(ce).length+1,ce="",Me=Ut}else ce+=W;break;case Ut:case Vt:if(B&&"file"==b.scheme){Me=Ct;continue}if(":"!=W||lt){if(W==E||"/"==W||"?"==W||"#"==W||"\\"==W&&Lt(b)){if(Lt(b)&&""==ce)return ie;if(B&&""==ce&&(an(b)||null!==b.port))return;if(ye=Ve(b,ce))return ye;if(ce="",Me=vt,B)return;continue}"["==W?lt=!0:"]"==W&&(lt=!1),ce+=W}else{if(""==ce)return ie;if(ye=Ve(b,ce))return ye;if(ce="",Me=Qt,B==Vt)return}break;case Qt:if(!ee.test(W)){if(W==E||"/"==W||"?"==W||"#"==W||"\\"==W&&Lt(b)||B){if(""!=ce){var dn=parseInt(ce,10);if(65535<dn)return Te;b.port=Lt(b)&&dn===on[b.scheme]?null:dn,ce=""}if(B)return;Me=vt;continue}return Te}ce+=W;break;case tt:if(b.scheme="file","/"==W||"\\"==W)Me=ot;else{if(!L||"file"!=L.scheme){Me=Mt;continue}if(W==E)b.host=L.host,b.path=L.path.slice(),b.query=L.query;else if("?"==W)b.host=L.host,b.path=L.path.slice(),b.query="",Me=gt;else{if("#"!=W){gn(se.slice(Xe).join(""))||(b.host=L.host,b.path=L.path.slice(),Yt(b)),Me=Mt;continue}b.host=L.host,b.path=L.path.slice(),b.query=L.query,b.fragment="",Me=St}}break;case ot:if("/"==W||"\\"==W){Me=Ct;break}L&&"file"==L.scheme&&!gn(se.slice(Xe).join(""))&&(Bt(L.path[0],!0)?b.path.push(L.path[0]):b.host=L.host),Me=Mt;continue;case Ct:if(W==E||"/"==W||"\\"==W||"?"==W||"#"==W){if(!B&&Bt(ce))Me=Mt;else{if(""==ce){if(b.host="",B)return}else{if(ye=Ve(b,ce))return ye;if("localhost"==b.host&&(b.host=""),B)return;ce=""}Me=vt}continue}ce+=W;break;case vt:if(Lt(b)){if(Me=Mt,"/"!=W&&"\\"!=W)continue}else if(B||"?"!=W)if(B||"#"!=W){if(W!=E&&(Me=Mt,"/"!=W))continue}else b.fragment="",Me=St;else b.query="",Me=gt;break;case Mt:if(W==E||"/"==W||"\\"==W&&Lt(b)||!B&&("?"==W||"#"==W)){if(At(ce)?(Yt(b),"/"==W||"\\"==W&&Lt(b)||b.path.push("")):hn(ce)?"/"==W||"\\"==W&&Lt(b)||b.path.push(""):("file"==b.scheme&&!b.path.length&&Bt(ce)&&(b.host&&(b.host=""),ce=ce.charAt(0)+":"),b.path.push(ce)),ce="","file"==b.scheme&&(W==E||"?"==W||"#"==W))for(;1<b.path.length&&""===b.path[0];)b.path.shift();"?"==W?(b.query="",Me=gt):"#"==W&&(b.fragment="",Me=St)}else ce+=Dt(W,et);break;case ln:"?"==W?(b.query="",Me=gt):"#"==W?(b.fragment="",Me=St):W!=E&&(b.path[0]+=Dt(W,Ze));break;case gt:B||"#"!=W?W!=E&&("'"==W&&Lt(b)?b.query+="%27":b.query+="#"==W?"%23":Dt(W,Ze)):(b.fragment="",Me=St);break;case St:W!=E&&(b.fragment+=Dt(W,at))}Xe++}}function y(W){var P,B,L=c(this,y,"URL"),se=1<arguments.length?arguments[1]:void 0,ye=(W=String(W),ne(L,{type:"URL"}));if(void 0!==se)if(se instanceof y)P=V(se);else if(B=g(P={},String(se)))throw TypeError(B);if(B=g(ye,W,null,P))throw TypeError(B);var Me=ye.searchParams=new R;(se=Q(Me)).updateSearchParams(ye.query),se.updateURL=function(){ye.query=String(Me)||null},d||(L.href=Rt.call(L),L.origin=tn.call(L),L.protocol=fn.call(L),L.username=bn.call(L),L.password=Tn.call(L),L.host=An.call(L),L.hostname=Ln.call(L),L.port=jn.call(L),L.pathname=sr.call(L),L.search=Y.call(L),L.searchParams=be.call(L),L.hash=Re.call(L))}function C(b,P){return{get:b,set:P,configurable:!0,enumerable:!0}}I("../modules/es.string.iterator");var E,s,u,a=I("../internals/export"),d=I("../internals/descriptors"),p=I("../internals/native-url"),zt=I("../internals/global"),l=I("../internals/object-define-properties"),m=I("../internals/redefine"),c=I("../internals/an-instance"),h=I("../internals/has"),_=I("../internals/object-assign"),M=I("../internals/array-from"),x=I("../internals/string-multibyte").codeAt,A=I("../internals/string-punycode-to-ascii"),T=I("../internals/set-to-string-tag"),N=I("../modules/web.url-search-params"),z=(I=I("../internals/internal-state"),zt.URL),R=N.URLSearchParams,Q=N.getState,ne=I.set,V=I.getterFor("URL"),X=Math.floor,U=Math.pow,F="Invalid authority",K="Invalid scheme",ie="Invalid host",Te="Invalid port",q=/[A-Za-z]/,k=/[\d+-.A-Za-z]/,ee=/\d/,me=/^(0x|0X)/,xe=/^[0-7]+$/,Ge=/^\d+$/,Ye=/^[\dA-Fa-f]+$/,mt=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,We=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ct=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,dt=/[\u0009\u000A\u000D]/g,Ve=function(b,P){var B,L,se;if("["==P.charAt(0))return"]"==P.charAt(P.length-1)&&(B=function(W){var ke,lt,Be,ht,Nt,nn,dn,ye=[0,0,0,0,0,0,0,0],Me=0,Xe=null,ce=0,Sn=function(){return W.charAt(ce)};if(":"==Sn()){if(":"!=W.charAt(1))return;ce+=2,Xe=++Me}for(;Sn();){if(8==Me)return;if(":"!=Sn()){for(ke=lt=0;lt<4&&Ye.test(Sn());)ke=16*ke+parseInt(Sn(),16),ce++,lt++;if("."==Sn()){if(0==lt||(ce-=lt,Me>6))return;for(Be=0;Sn();){if(ht=null,Be>0){if(!("."==Sn()&&Be<4))return;ce++}if(!ee.test(Sn()))return;for(;ee.test(Sn());){if(Nt=parseInt(Sn(),10),null===ht)ht=Nt;else{if(0==ht)return;ht=10*ht+Nt}if(ht>255)return;ce++}ye[Me]=256*ye[Me]+ht,(2==++Be||4==Be)&&Me++}if(4!=Be)return;break}if(":"==Sn()){if(ce++,!Sn())return}else if(Sn())return;ye[Me++]=ke}else{if(null!==Xe)return;ce++,Xe=++Me}}if(null!==Xe)for(nn=Me-Xe,Me=7;0!=Me&&nn>0;)dn=ye[Me],ye[Me--]=ye[Xe+nn-1],ye[Xe+--nn]=dn;else if(8!=Me)return;return ye}(P.slice(1,-1)))?void(b.host=B):ie;if(Lt(b))return P=A(P),mt.test(P)||null===(B=function(W){var Me,Xe,ce,ke,lt,Be,ht,ye=W.split(".");if(ye.length&&""==ye[ye.length-1]&&ye.pop(),(Me=ye.length)>4)return W;for(Xe=[],ce=0;ce<Me;ce++){if(""==(ke=ye[ce]))return W;if(lt=10,ke.length>1&&"0"==ke.charAt(0)&&(lt=me.test(ke)?16:8,ke=ke.slice(8==lt?1:2)),""===ke)Be=0;else{if(!(10==lt?Ge:8==lt?xe:Ye).test(ke))return W;Be=parseInt(ke,lt)}Xe.push(Be)}for(ce=0;ce<Me;ce++)if(Be=Xe[ce],ce==Me-1){if(Be>=U(256,5-Me))return null}else if(Be>255)return null;for(ht=Xe.pop(),ce=0;ce<Xe.length;ce++)ht+=Xe[ce]*U(256,3-ce);return ht}(P))?ie:void(b.host=B);if(We.test(P))return ie;for(B="",L=M(P),se=0;se<L.length;se++)B+=Dt(L[se],Ze);b.host=B},Qe=function(b){for(var P=null,B=1,L=null,se=0,W=0;W<8;W++)0!==b[W]?(B<se&&(P=L,B=se),L=null,se=0):(null===L&&(L=W),++se);return B<se&&(P=L,B=se),P},Ze={},at=_({},Ze,{" ":1,'"':1,"<":1,">":1,"`":1}),et=_({},at,{"#":1,"?":1,"{":1,"}":1}),st=_({},et,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Dt=function(b,P){var B=x(b,0);return 32<B&&B<127&&!h(P,b)?b:encodeURIComponent(b)},on={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Lt=function(b){return h(on,b.scheme)},an=function(b){return""!=b.username||""!=b.password},Bt=function(b,P){return 2==b.length&&q.test(b.charAt(0))&&(":"==(b=b.charAt(1))||!P&&"|"==b)},gn=function(b){return 1<b.length&&Bt(b.slice(0,2))&&(2==b.length||"/"===(b=b.charAt(2))||"\\"===b||"?"===b||"#"===b)},Yt=function(b){var P=b.path,B=P.length;!B||"file"==b.scheme&&1==B&&Bt(P[0],!0)||P.pop()},hn=function(b){return"."===b||"%2e"===b.toLowerCase()},At=function(b){return".."===(b=b.toLowerCase())||"%2e."===b||".%2e"===b||"%2e%2e"===b},sn={},$t={},ze={},$e={},Pe={},qe={},Et={},Ft={},Xt={},cn={},Ut={},Vt={},Qt={},tt={},ot={},Ct={},vt={},Mt={},ln={},gt={},St={},Rt=(zt=y.prototype,function(){var b=V(this),P=b.scheme,B=b.username,L=b.password,se=b.host,W=b.port,ye=b.path,Me=b.query,Xe=b.fragment,ce=P+":";return null!==se?(ce+="//",an(b)&&(ce+=B+(L?":"+L:"")+"@"),ce+=v(se),null!==W&&(ce+=":"+W)):"file"==P&&(ce+="//"),ce+=b.cannotBeABaseURL?ye[0]:ye.length?"/"+ye.join("/"):"",null!==Me&&(ce+="?"+Me),null!==Xe&&(ce+="#"+Xe),ce}),tn=function(){var b=V(this),P=b.scheme,B=b.port;if("blob"==P)try{return new URL(P.path[0]).origin}catch{return"null"}return"file"!=P&&Lt(b)?P+"://"+v(b.host)+(null!==B?":"+B:""):"null"},fn=function(){return V(this).scheme+":"},bn=function(){return V(this).username},Tn=function(){return V(this).password},An=function(){var b=(P=V(this)).host,P=P.port;return null===b?"":null===P?v(b):v(b)+":"+P},Ln=function(){var b=V(this).host;return null===b?"":v(b)},jn=function(){var b=V(this).port;return null===b?"":String(b)},sr=function(){var b=V(this),P=b.path;return b.cannotBeABaseURL?P[0]:P.length?"/"+P.join("/"):""},Y=function(){var b=V(this).query;return b?"?"+b:""},be=function(){return V(this).searchParams},Re=function(){var b=V(this).fragment;return b?"#"+b:""};d&&l(zt,{href:C(Rt,function(B){var P=V(this);if(B=g(P,B=String(B)))throw TypeError(B);Q(P.searchParams).updateSearchParams(P.query)}),origin:C(tn),protocol:C(fn,function(b){g(V(this),String(b)+":",sn)}),username:C(bn,function(b){var P=V(this),B=M(String(b));if(!w(P)){P.username="";for(var L=0;L<B.length;L++)P.username+=Dt(B[L],st)}}),password:C(Tn,function(b){var P=V(this),B=M(String(b));if(!w(P)){P.password="";for(var L=0;L<B.length;L++)P.password+=Dt(B[L],st)}}),host:C(An,function(b){var P=V(this);P.cannotBeABaseURL||g(P,String(b),Ut)}),hostname:C(Ln,function(b){var P=V(this);P.cannotBeABaseURL||g(P,String(b),Vt)}),port:C(jn,function(b){var P=V(this);w(P)||(""==(b=String(b))?P.port=null:g(P,b,Qt))}),pathname:C(sr,function(b){var P=V(this);P.cannotBeABaseURL||(P.path=[],g(P,b+"",vt))}),search:C(Y,function(b){var P=V(this);""==(b=String(b))?P.query=null:("?"==b.charAt(0)&&(b=b.slice(1)),P.query="",g(P,b,gt)),Q(P.searchParams).updateSearchParams(P.query)}),searchParams:C(be),hash:C(Re,function(b){var P=V(this);""==(b=String(b))?P.fragment=null:("#"==b.charAt(0)&&(b=b.slice(1)),P.fragment="",g(P,b,St))})}),m(zt,"toJSON",function(){return Rt.call(this)},{enumerable:!0}),m(zt,"toString",function(){return Rt.call(this)},{enumerable:!0}),z&&(u=z.revokeObjectURL,(s=z.createObjectURL)&&m(y,"createObjectURL",function(b){return s.apply(z,arguments)}),u&&m(y,"revokeObjectURL",function(b){return u.apply(z,arguments)})),T(y,"URL"),a({global:!0,forced:!p,sham:!d},{URL:y})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(o,oe,H){"use strict";oe.exports=o("./").polyfill()},{"./":250}],250:[function(o,oe,H){(function(v,w){var y;y=function(){"use strict";function C(Ve){return"function"==typeof Ve}var E=Array.isArray||function(Ve){return"[object Array]"===Object.prototype.toString.call(Ve)},s=0,u=void 0,a=void 0,d=function(Ve,Qe){_[s]=Ve,_[s+1]=Qe,2===(s+=2)&&(a?a(M):R())},p=typeof window<"u"?window:void 0,l=(l=p||{}).MutationObserver||l.WebKitMutationObserver,m=typeof self>"u"&&void 0!==v&&"[object process]"==={}.toString.call(v),c=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function h(){var Ve=setTimeout;return function(){return Ve(M,1)}}var _=new Array(1e3);function M(){for(var Ve=0;Ve<s;Ve+=2)(0,_[Ve])(_[Ve+1]),_[Ve]=void 0,_[Ve+1]=void 0;s=0}var A,T,N,R=void 0;function I(Ve,Qe){var Ze,at=this,et=new this.constructor(ne),st=(void 0===et[Q]&&Ye(et),at._state);return st?(Ze=arguments[st-1],d(function(){return xe(st,et,Ze,at._result)})):ee(at,et,Ve,Qe),et}function z(Ve){var Qe;return Ve&&"object"==typeof Ve&&Ve.constructor===this?Ve:(ie(Qe=new this(ne),Ve),Qe)}R=m?function(){return v.nextTick(M)}:l?(T=0,m=new l(M),N=document.createTextNode(""),m.observe(N,{characterData:!0}),function(){N.data=T=++T%2}):c?((A=new MessageChannel).port1.onmessage=M,function(){return A.port2.postMessage(0)}):(void 0===p&&"function"==typeof o?function x(){try{var Ve=Function("return this")().require("vertx");return void 0!==(u=Ve.runOnLoop||Ve.runOnContext)?function(){u(M)}:h()}catch{return h()}}:h)();var Q=Math.random().toString(36).substring(2);function ne(){}var V=void 0,X=1,U=2;function F(Ve,Qe,Ze){d(function(at){var et=!1,st=function(Dt,on,Lt,an){try{Dt.call(on,function(Dt){et||(et=!0,(Qe!==Dt?ie:q)(at,Dt))},function(Dt){et||(et=!0,k(at,Dt))})}catch(Bt){return Bt}}(Ze,Qe);!et&&st&&(et=!0,k(at,st))},Ve)}function K(Ve,Qe,Ze){var at,et;Qe.constructor===Ve.constructor&&Ze===I&&Qe.constructor.resolve===z?(at=Ve,(et=Qe)._state===X?q(at,et._result):et._state===U?k(at,et._result):ee(et,void 0,function(st){return ie(at,st)},function(st){return k(at,st)})):void 0!==Ze&&C(Ze)?F(Ve,Qe,Ze):q(Ve,Qe)}function ie(Ve,Qe){if(Ve===Qe)k(Ve,new TypeError("You cannot resolve a promise with itself"));else if(Ze=typeof Qe,null===Qe||"object"!=Ze&&"function"!=Ze)q(Ve,Qe);else{Ze=void 0;try{Ze=Qe.then}catch(at){return void k(Ve,at)}K(Ve,Qe,Ze)}var Ze}function Te(Ve){Ve._onerror&&Ve._onerror(Ve._result),me(Ve)}function q(Ve,Qe){Ve._state===V&&(Ve._result=Qe,Ve._state=X,0!==Ve._subscribers.length&&d(me,Ve))}function k(Ve,Qe){Ve._state===V&&(Ve._state=U,Ve._result=Qe,d(Te,Ve))}function ee(Ve,Qe,Ze,at){var et=Ve._subscribers,st=et.length;Ve._onerror=null,et[st]=Qe,et[st+X]=Ze,et[st+U]=at,0===st&&Ve._state&&d(me,Ve)}function me(Ve){var Qe=Ve._subscribers,Ze=Ve._state;if(0!==Qe.length){for(var at,et=void 0,st=Ve._result,Dt=0;Dt<Qe.length;Dt+=3)et=Qe[Dt+Ze],(at=Qe[Dt])?xe(Ze,at,et,st):et(st);Ve._subscribers.length=0}}function xe(Ve,Qe,Ze,at){var et=C(Ze),st=void 0,Dt=void 0,on=!0;if(et){try{st=Ze(at)}catch(Lt){on=!1,Dt=Lt}if(Qe===st)return void k(Qe,new TypeError("A promises callback cannot return that same promise."))}else st=at;Qe._state===V&&(et&&on?ie(Qe,st):!1===on?k(Qe,Dt):Ve===X?q(Qe,st):Ve===U&&k(Qe,st))}var Ge=0;function Ye(Ve){Ve[Q]=Ge++,Ve._state=void 0,Ve._result=void 0,Ve._subscribers=[]}We.prototype._enumerate=function(Ve){for(var Qe=0;this._state===V&&Qe<Ve.length;Qe++)this._eachEntry(Ve[Qe],Qe)},We.prototype._eachEntry=function(Ve,Qe){var Ze=this._instanceConstructor,at=Ze.resolve;if(at===z){var et,st=void 0,Dt=void 0,on=!1;try{st=Ve.then}catch(Lt){on=!0,Dt=Lt}st===I&&Ve._state!==V?this._settledAt(Ve._state,Qe,Ve._result):"function"!=typeof st?(this._remaining--,this._result[Qe]=Ve):Ze===ct?(et=new Ze(ne),on?k(et,Dt):K(et,Ve,st),this._willSettleAt(et,Qe)):this._willSettleAt(new Ze(function(Lt){return Lt(Ve)}),Qe)}else this._willSettleAt(at(Ve),Qe)},We.prototype._settledAt=function(Ve,Qe,Ze){var at=this.promise;at._state===V&&(this._remaining--,Ve===U?k(at,Ze):this._result[Qe]=Ze),0===this._remaining&&q(at,this._result)},We.prototype._willSettleAt=function(Ve,Qe){var Ze=this;ee(Ve,void 0,function(at){return Ze._settledAt(X,Qe,at)},function(at){return Ze._settledAt(U,Qe,at)})};var mt=We;function We(Ve,Qe){this._instanceConstructor=Ve,this.promise=new Ve(ne),this.promise[Q]||Ye(this.promise),E(Qe)?(this.length=Qe.length,this._remaining=Qe.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(Qe),0!==this._remaining)||q(this.promise,this._result)):k(this.promise,new Error("Array Methods must be provided an Array"))}dt.prototype.catch=function(Ve){return this.then(null,Ve)},dt.prototype.finally=function(Ve){var Qe=this.constructor;return C(Ve)?this.then(function(Ze){return Qe.resolve(Ve()).then(function(){return Ze})},function(Ze){return Qe.resolve(Ve()).then(function(){throw Ze})}):this.then(Ve,Ve)};var ct=dt;function dt(Ve){if(this[Q]=Ge++,this._result=this._state=void 0,this._subscribers=[],ne!==Ve){if("function"!=typeof Ve)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof dt))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var Qe=this;try{Ve(function(Ze){ie(Qe,Ze)},function(Ze){k(Qe,Ze)})}catch(Ze){k(Qe,Ze)}}}return ct.prototype.then=I,ct.all=function(Ve){return new mt(this,Ve).promise},ct.race=function(Ve){var Qe=this;return E(Ve)?new Qe(function(Ze,at){for(var et=Ve.length,st=0;st<et;st++)Qe.resolve(Ve[st]).then(Ze,at)}):new Qe(function(Ze,at){return at(new TypeError("You must pass an array to race."))})},ct.resolve=z,ct.reject=function(Ve){var Qe=new this(ne);return k(Qe,Ve),Qe},ct._setScheduler=function(Ve){a=Ve},ct._setAsap=function(Ve){d=Ve},ct._asap=d,ct.polyfill=function(){var Ve=void 0;if(void 0!==w)Ve=w;else if(typeof self<"u")Ve=self;else try{Ve=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Qe=Ve.Promise;if(Qe){var Ze=null;try{Ze=Object.prototype.toString.call(Qe.resolve())}catch{}if("[object Promise]"===Ze&&!Qe.cast)return}Ve.Promise=ct},ct.Promise=ct},"object"==typeof H&&void 0!==oe?oe.exports=y():this.ES6Promise=y()}).call(this,o("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(o,oe,H){var w;w=function(g,y){"use strict";function s(a){try{delete window[a]}catch{window[a]=void 0}}function u(a){(a=document.getElementById(a))&&document.getElementsByTagName("head")[0].removeChild(a)}y.exports=function(a){var d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],p=a,l=d.timeout||5e3,m=d.jsonpCallback||"callback",c=void 0;return new Promise(function(h,_){var M=d.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),x=m+"_"+M,A=(window[M]=function(T){h({ok:!0,json:function(){return Promise.resolve(T)}}),c&&clearTimeout(c),u(x),s(M)},p+=-1===p.indexOf("?")?"?":"&",document.createElement("script"));A.setAttribute("src",""+p+m+"="+M),d.charset&&A.setAttribute("charset",d.charset),A.id=x,document.getElementsByTagName("head")[0].appendChild(A),c=setTimeout(function(){_(new Error("JSONP request to "+a+" timed out")),s(M),u(x),window[M]=function(){s(M)}},l),A.onerror=function(){_(new Error("JSONP request to "+a+" failed")),s(M),u(x),c&&clearTimeout(c)}})}},void 0!==H&&void 0!==oe?w(0,oe):(w(w={exports:{}},w),this.fetchJsonp=w.exports)},{}],252:[function(o,oe,H){var v=function(w){"use strict";var g,y,C,E,s,u,d,p,l,m;if(!(void 0===w||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return g=function(){return w.URL||w.webkitURL||w},y=(m=w.document).createElementNS("http://www.w3.org/1999/xhtml","a"),C="download"in y,E=/constructor/i.test(w.HTMLElement)||w.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(c){(w.setImmediate||w.setTimeout)(function(){throw c},0)},4e4,d=function(c){setTimeout(function(){"string"==typeof c?g().revokeObjectURL(c):c.remove()},4e4)},p=function(c){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\ufeff",c],{type:c.type}):c},m=(l=function(c,h,T){T||(c=p(c));var M,x,A=this,N=(T="application/octet-stream"===c.type,function(){for(var I=A,z="writestart progress write writeend".split(" "),Q=(z=[].concat(z)).length;Q--;){var ne=I["on"+z[Q]];if("function"==typeof ne)try{ne.call(I,I)}catch(V){u(V)}}});A.readyState=A.INIT,C?(M=g().createObjectURL(c),setTimeout(function(){var I,z;y.href=M,y.download=h,I=y,z=new MouseEvent("click"),I.dispatchEvent(z),N(),d(M),A.readyState=A.DONE})):(s||T&&E)&&w.FileReader?((x=new FileReader).onloadend=function(){var I=s?x.result:x.result.replace(/^data:[^;]*;/,"data:attachment/file;");w.open(I,"_blank")||(w.location.href=I),I=void 0,A.readyState=A.DONE,N()},x.readAsDataURL(c),A.readyState=A.INIT):(M=M||g().createObjectURL(c),!T&&w.open(M,"_blank")||(w.location.href=M),A.readyState=A.DONE,N(),d(M))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(c,h,_){return h=h||c.name||"download",_||(c=p(c)),navigator.msSaveOrOpenBlob(c,h)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,function(c,h,_){return new l(c,h||c.name||"download",_)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);void 0!==oe&&oe.exports&&(oe.exports.saveAs=v)},{}],253:[function(o,oe,H){var v,w=Object.defineProperty,g=(w(H,"__esModule",{value:!0}),H),y={GIFEncoder:()=>N,applyPalette:()=>function(V,X,U="rgb565"){if(!V||!V.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(V instanceof Uint8Array||V instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<X.length)throw new Error("applyPalette() only works with 256 colors or less");const F=new Uint32Array(V.buffer),K=F.length,ie="rgb444"===U?4096:65536,Te=new Uint8Array(K),q=new Array(ie);if("rgba4444"===U)for(let dt=0;dt<K;dt++){var xe,k=(xe=F[dt])>>24&255,ee=xe>>16&255,me=xe>>8&255,Ge=(Ge=d(xe&=255,me,ee,k))in q?q[Ge]:q[Ge]=function(Ve,Qe,Ze,at,et){let st=0,Dt=1e100;for(let Bt=0;Bt<et.length;Bt++){var Lt=et[Bt],an=x(Lt[3]-at);an>Dt||(an+=x(Lt[0]-Ve))>Dt||(an+=x(Lt[1]-Qe))>Dt||(an+=x(Lt[2]-Ze))>Dt||(Dt=an,st=Bt)}return st}(xe,me,ee,k,X);Te[dt]=Ge}else{const dt="rgb444"===U?p:a;for(let Ve=0;Ve<K;Ve++){var We,Ye=(We=F[Ve])>>16&255,mt=We>>8&255,ct=(ct=dt(We&=255,mt,Ye))in q?q[ct]:q[ct]=function(Qe,Ze,at,et){let st=0,Dt=1e100;for(let Bt=0;Bt<et.length;Bt++){var Lt=et[Bt],an=x(Lt[0]-Qe);an>Dt||(an+=x(Lt[1]-Ze))>Dt||(an+=x(Lt[2]-at))>Dt||(Dt=an,st=Bt)}return st}(We,mt,Ye,X);Te[Ve]=ct}}return Te},default:()=>ne,nearestColor:()=>function(V,X,U=_){return V[A(V,X,U)]},nearestColorIndex:()=>A,nearestColorIndexWithDistance:()=>T,prequantize:()=>function(V,{roundRGB:X=5,roundAlpha:U=10,oneBitAlpha:F=null}={}){const K=new Uint32Array(V.buffer);for(let ee=0;ee<K.length;ee++){let me=(k=K[ee])>>24&255;var Te=k>>16&255,q=k>>8&255,k=255&k;me=M(me,U),F&&(me=me<=("number"==typeof F?F:127)?0:255),k=M(k,X),q=M(q,X),Te=M(Te,X),K[ee]=me<<24|Te<<16|q<<8|k}},quantize:()=>function(V,X,U={}){var{format:F="rgb565",clearAlpha:K=!0,clearAlphaColor:ie=0,clearAlphaThreshold:Te=0,oneBitAlpha:q=!1}=U;if(!V||!V.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(V instanceof Uint8Array||V instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");V=new Uint32Array(V.buffer);let k=!1!==U.useSqrt;const ee="rgba4444"===F,me=function(gn,Yt){const At=new Array("rgb444"===Yt?4096:65536),sn=gn.length;if("rgba4444"===Yt)for(let ot=0;ot<sn;++ot){var Pe,$t=(Pe=gn[ot])>>24&255,ze=Pe>>16&255,$e=Pe>>8&255,qe=d(Pe&=255,$e,ze,$t);let Ct=qe in At?At[qe]:At[qe]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Ct.rc+=Pe,Ct.gc+=$e,Ct.bc+=ze,Ct.ac+=$t,Ct.cnt++}else if("rgb444"===Yt)for(let ot=0;ot<sn;++ot){var Xt,Et=(Xt=gn[ot])>>16&255,Ft=Xt>>8&255,cn=p(Xt&=255,Ft,Et);let Ct=cn in At?At[cn]:At[cn]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Ct.rc+=Xt,Ct.gc+=Ft,Ct.bc+=Et,Ct.cnt++}else for(let ot=0;ot<sn;++ot){var Qt,Ut=(Qt=gn[ot])>>16&255,Vt=Qt>>8&255,tt=a(Qt&=255,Vt,Ut);let Ct=tt in At?At[tt]:At[tt]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Ct.rc+=Qt,Ct.gc+=Vt,Ct.bc+=Ut,Ct.cnt++}return At}(V,F),xe=me.length,Ge=xe-1,Ye=new Uint32Array(xe+1);for(var mt=0,We=0;We<xe;++We){const gn=me[We];null!=gn&&(Lt=1/gn.cnt,ee&&(gn.ac*=Lt),gn.rc*=Lt,gn.gc*=Lt,gn.bc*=Lt,me[mt++]=gn)}var ct,dt,Ve;for(m(X)/mt<.022&&(k=!1),We=0;We<mt-1;++We)me[We].fw=We+1,me[We+1].bk=We,k&&(me[We].cnt=Math.sqrt(me[We].cnt));for(k&&(me[We].cnt=Math.sqrt(me[We].cnt)),We=0;We<mt;++We){c(me,We,!1);var Qe=me[We].err;for(dt=++Ye[0];1<dt&&!(me[ct=Ye[Ve=dt>>1]].err<=Qe);dt=Ve)Ye[dt]=ct;Ye[dt]=We}var Ze,at=mt-X;for(We=0;We<at;){for(;;){var et=Ye[1];if((Ze=me[et]).tm>=Ze.mtm&&me[Ze.nn].mtm<=Ze.tm)break;for(Ze.mtm==Ge?et=Ye[1]=Ye[Ye[0]--]:(c(me,et,!1),Ze.tm=We),Qe=me[et].err,dt=1;(Ve=dt+dt)<=Ye[0]&&(Ve<Ye[0]&&me[Ye[Ve]].err>me[Ye[Ve+1]].err&&Ve++,!(Qe<=me[ct=Ye[Ve]].err));dt=Ve)Ye[dt]=ct;Ye[dt]=et}var st=me[Ze.nn],Dt=Ze.cnt,on=st.cnt,Lt=1/(Dt+on);ee&&(Ze.ac=Lt*(Dt*Ze.ac+on*st.ac)),Ze.rc=Lt*(Dt*Ze.rc+on*st.rc),Ze.gc=Lt*(Dt*Ze.gc+on*st.gc),Ze.bc=Lt*(Dt*Ze.bc+on*st.bc),Ze.cnt+=st.cnt,Ze.mtm=++We,me[st.bk].fw=st.fw,me[st.fw].bk=st.bk,st.mtm=Ge}let an=[];for(We=0;;0){let gn=l(Math.round(me[We].rc),0,255),Yt=l(Math.round(me[We].gc),0,255),hn=l(Math.round(me[We].bc),0,255),At=255;ee&&(At=l(Math.round(me[We].ac),0,255),q&&(At=At<=(Bt="number"==typeof q?q:127)?0:255),K&&At<=Te&&(gn=Yt=hn=ie,At=0));var Bt=ee?[gn,Yt,hn,At]:[gn,Yt,hn];if(function(sn,$t){for(let Pe=0;Pe<sn.length;Pe++){var ze=($e=sn[Pe])[0]===$t[0]&&$e[1]===$t[1]&&$e[2]===$t[2],$e=!(4<=$e.length&&4<=$t.length)||$e[3]===$t[3];if(ze&&$e)return!0}return!1}(an,Bt)||an.push(Bt),0==(We=me[We].fw))break}return an},snapColorsToPalette:()=>function(V,X,U=5){if(V.length&&X.length){var F=V.map(k=>k.slice(0,3)),K=U*U,ie=V[0].length;for(let k=0;k<X.length;k++){let ee=X[k];ee=ee.length<ie?[ee[0],ee[1],ee[2],255]:ee.length>ie?ee.slice(0,3):ee.slice();var q,Te=(q=T(F,ee.slice(0,3),_))[0];0<(q=q[1])&&q<=K&&(V[Te]=ee)}}}};for(v in y)w(g,v,{get:y[v],enumerable:!0});var C={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function E(V=256){let X=0,U=new Uint8Array(V);return{get buffer(){return U.buffer},reset(){X=0},bytesView:()=>U.subarray(0,X),bytes:()=>U.slice(0,X),writeByte(K){F(X+1),U[X]=K,X++},writeBytes(K,ie=0,Te=K.length){F(X+Te);for(let q=0;q<Te;q++)U[X++]=K[q+ie]},writeBytesView(K,ie=0,Te=K.byteLength){F(X+Te),U.set(K.subarray(ie,ie+Te),X),X+=Te}};function F(K){var ie=U.length;if(!(K<=ie)){K=Math.max(K,ie*(ie<1048576?2:1.125)>>>0),0!=ie&&(K=Math.max(K,256));const Te=U;U=new Uint8Array(K),0<X&&U.set(Te.subarray(0,X),0)}}}var s=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],u=function(V,X,U,ee,K=E(512),ie=new Uint8Array(256),Te=new Int32Array(5003),q=new Int32Array(5003)){var k=Te.length;ee=Math.max(2,ee),ie.fill(0),q.fill(0),Te.fill(-1);let me=0,xe=0;var Ge=ee+1;const Ye=Ge;let mt=!1,We=Ye,ct=(1<<We)-1;var dt=1<<Ge-1;const Ve=1+dt;let Qe=2+dt,Ze=0,at=U[0],et=0;for(let Bt=k;Bt<65536;Bt*=2)++et;et=8-et,K.writeByte(ee),an(dt);var st=U.length;for(let Bt=1;Bt<st;Bt++)e:{var Dt=U[Bt],on=(Dt<<12)+at;let gn=Dt<<et^at;if(Te[gn]===on)at=q[gn];else{for(var Lt=0===gn?1:k-gn;0<=Te[gn];)if((gn-=Lt)<0&&(gn+=k),Te[gn]===on){at=q[gn];break e}an(at),at=Dt,Qe<4096?(q[gn]=Qe++,Te[gn]=on):(Te.fill(-1),Qe=2+dt,mt=!0,an(dt))}}return an(at),an(Ve),K.writeByte(0),K.bytesView();function an(Bt){for(me&=s[xe],0<xe?me|=Bt<<xe:me=Bt,xe+=We;8<=xe;)ie[Ze++]=255&me,254<=Ze&&(K.writeByte(Ze),K.writeBytesView(ie,0,Ze),Ze=0),me>>=8,xe-=8;if((Qe>ct||mt)&&(mt?(We=Ye,ct=(1<<We)-1,mt=!1):(++We,ct=12===We?1<<We:(1<<We)-1)),Bt==Ve){for(;0<xe;)ie[Ze++]=255&me,254<=Ze&&(K.writeByte(Ze),K.writeBytesView(ie,0,Ze),Ze=0),me>>=8,xe-=8;0<Ze&&(K.writeByte(Ze),K.writeBytesView(ie,0,Ze),Ze=0)}}};function a(V,X,U){return V<<8&63488|X<<2&992|U>>3}function d(V,X,U,F){return V>>4|240&X|(240&U)<<4|(240&F)<<8}function p(V,X,U){return V>>4<<8|240&X|U>>4}function l(V,X,U){return V<X?X:U<V?U:V}function m(V){return V*V}function c(V,X,U){var F=0,K=1e100;const ie=V[X];for(var Te=ie.cnt,q=ie.ac,k=ie.rc,ee=ie.gc,me=ie.bc,xe=ie.fw;0!=xe;xe=V[xe].fw){var Ge,mt,Ye=V[xe];K<=(mt=Te*(mt=Ye.cnt)/(Te+mt))||(Ge=0,U&&K<=(Ge+=mt*m(Ye.ac-q))||K<=(Ge+=mt*m(Ye.rc-k))||K<=(Ge+=mt*m(Ye.gc-ee))||K<=(Ge+=mt*m(Ye.bc-me))||(K=Ge,F=xe))}ie.err=K,ie.nn=F}function _(V,X){for(var U=0,F=0;F<V.length;F++){var K=V[F]-X[F];U+=K*K}return U}function M(V,X){return 1<X?Math.round(V/X)*X:V}function x(V){return V*V}function A(V,X,U=_){let F=1/0,K=-1;for(let Te=0;Te<V.length;Te++){var ie=U(X,V[Te]);ie<F&&(F=ie,K=Te)}return K}function T(V,X,U=_){let F=1/0,K=-1;for(let Te=0;Te<V.length;Te++){var ie=U(X,V[Te]);ie<F&&(F=ie,K=Te)}return[K,F]}function N(V={}){const{initialCapacity:X=4096,auto:U=!0}=V,F=E(X),K=new Uint8Array(256),ie=new Int32Array(5003),Te=new Int32Array(5003);let q=!1;return{reset(){F.reset(),q=!1},finish(){F.writeByte(C.trailer)},bytes:()=>F.bytes(),bytesView:()=>F.bytesView(),get buffer(){return F.buffer},get stream(){return F},writeHeader:k,writeFrame(ee,me,xe,at={}){var{transparent:Ye=!1,transparentIndex:mt=0,delay:Lt=0,palette:We=null,repeat:st=0,colorDepth:ct=8,dispose:dt=-1}=at;let Ve=!1;if(U?q||(Ve=!0,k(),q=!0):Ve=!!at.first,me=Math.max(0,Math.floor(me)),xe=Math.max(0,Math.floor(xe)),Ve){if(!We)throw new Error("First frame must include a { palette } option");var[at,Dt,Ze,on,et=8]=[F,me,xe,We,ct];et=128|et-1<<4|(on=Q(on.length)-1),z(at,Dt),z(at,Ze),at.writeBytes([et,0,0]),I(F,We),0<=st&&(Dt=st,(on=F).writeByte(33),on.writeByte(255),on.writeByte(11),R(on,"NETSCAPE2.0"),on.writeByte(3),on.writeByte(1),z(on,Dt),on.writeByte(0))}var Qe,Ze,et=dt,st=Ze=Math.round(Lt/10),Dt=Ye,on=mt,Lt=((at=F).writeByte(33),at.writeByte(249),at.writeByte(4),on<0&&(on=0,Dt=!1),Dt=Dt?(Qe=1,2):Qe=0,0<=et&&(Dt=7&et),at.writeByte((Dt<<=2)|Qe),z(at,st),at.writeByte(on||0),at.writeByte(0),!!We&&!Ve);Ye=me,mt=xe,Qe=Lt?We:null,(dt=F).writeByte(44),z(dt,0),z(dt,0),z(dt,Ye),z(dt,mt),Qe?(Ye=Q(Qe.length)-1,dt.writeByte(128|Ye)):dt.writeByte(0),Lt&&I(F,We),[st,at,mt,Ye,dt=8,Lt,We,ee]=[F,ee,me,xe,ct,K,ie,Te],u(mt,Ye,at,dt,st,Lt,We,ee)}};function k(){R(F,"GIF89a")}}function I(V,X){var U=1<<Q(X.length);for(let F=0;F<U;F++){let K=[0,0,0];F<X.length&&(K=X[F]),V.writeByte(K[0]),V.writeByte(K[1]),V.writeByte(K[2])}}function z(V,X){V.writeByte(255&X),V.writeByte(X>>8&255)}function R(V,X){for(var U=0;U<X.length;U++)V.writeByte(X.charCodeAt(U))}function Q(V){return Math.max(Math.ceil(Math.log2(V)),1)}var ne=N},{}],254:[function(o,oe,H){H.read=function(v,w,g,y,c){var E,s,u=8*c-y-1,a=(1<<u)-1,d=a>>1,p=-7,l=g?c-1:0,m=g?-1:1;for(c=v[w+l],l+=m,E=c&(1<<-p)-1,c>>=-p,p+=u;0<p;E=256*E+v[w+l],l+=m,p-=8);for(s=E&(1<<-p)-1,E>>=-p,p+=y;0<p;s=256*s+v[w+l],l+=m,p-=8);if(0===E)E=1-d;else{if(E===a)return s?NaN:1/0*(c?-1:1);s+=Math.pow(2,y),E-=d}return(c?-1:1)*s*Math.pow(2,E-y)},H.write=function(v,w,g,y,C,h){var s,u,a=8*h-C-1,d=(1<<a)-1,p=d>>1,l=23===C?Math.pow(2,-24)-Math.pow(2,-77):0,m=y?0:h-1,c=y?1:-1;for(h=w<0||0===w&&1/w<0?1:0,w=Math.abs(w),isNaN(w)||w===1/0?(u=isNaN(w)?1:0,s=d):(s=Math.floor(Math.log(w)/Math.LN2),w*(y=Math.pow(2,-s))<1&&(s--,y*=2),2<=(w+=1<=s+p?l/y:l*Math.pow(2,1-p))*y&&(s++,y/=2),d<=s+p?(u=0,s=d):1<=s+p?(u=(w*y-1)*Math.pow(2,C),s+=p):(u=w*Math.pow(2,p-1)*Math.pow(2,C),s=0));8<=C;v[g+m]=255&u,m+=c,u/=256,C-=8);for(s=s<<C|u,a+=C;0<a;v[g+m]=255&s,m+=c,s/=256,a-=8);v[g+m-c]|=128*h}},{}],255:[function(o,oe,H){"use strict";var v;function w(ze,$e){return ze.b===$e.b&&ze.a===$e.a}function g(ze,$e){return ze.b<$e.b||ze.b===$e.b&&ze.a<=$e.a}function y(ze,$e,Pe){var qe=$e.b-ze.b,Et=Pe.b-$e.b;return 0<qe+Et?qe<Et?$e.a-ze.a+qe/(qe+Et)*(ze.a-Pe.a):$e.a-Pe.a+Et/(qe+Et)*(Pe.a-ze.a):0}function C(ze,$e,Pe){var qe=$e.b-ze.b,Et=Pe.b-$e.b;return 0<qe+Et?($e.a-Pe.a)*qe+($e.a-ze.a)*Et:0}function E(ze,$e){return ze.a<$e.a||ze.a===$e.a&&ze.b<=$e.b}function s(ze,$e,Pe){var qe=$e.a-ze.a,Et=Pe.a-$e.a;return 0<qe+Et?qe<Et?$e.b-ze.b+qe/(qe+Et)*(ze.b-Pe.b):$e.b-Pe.b+Et/(qe+Et)*(Pe.b-ze.b):0}function u(ze,$e,Pe){var qe=$e.a-ze.a,Et=Pe.a-$e.a;return 0<qe+Et?($e.b-Pe.b)*qe+($e.b-ze.b)*Et:0}function a(ze,$e,Pe,qe){return(ze=ze<0?0:ze)<=(Pe=Pe<0?0:Pe)?0===Pe?($e+qe)/2:$e+ze/(ze+Pe)*(qe-$e):qe+Pe/(ze+Pe)*($e-qe)}function d(ze){var $e=h(ze.b);return M($e,ze.c),M($e.b,ze.c),x($e,ze.a),$e}function p(ze,$e){var Pe=!1,qe=!1;ze!==$e&&($e.a!==ze.a&&(qe=!0,T($e.a,ze.a)),$e.d!==ze.d&&(Pe=!0,N($e.d,ze.d)),_($e,ze),qe||(M($e,ze.a),ze.a.c=ze),Pe||(x($e,ze.d),ze.d.a=ze))}function l(ze){var $e=ze.b,Pe=!1;ze.d!==ze.b.d&&(Pe=!0,N(ze.d,ze.b.d)),ze.c===ze?T(ze.a,null):(ze.b.d.a=ze.b.e,ze.a.c=ze.c,_(ze,ze.b.e),Pe||x(ze,ze.d)),$e.c===$e?(T($e.a,null),N($e.d,null)):(ze.d.a=$e.b.e,$e.a.c=$e.c,_($e,$e.b.e)),A(ze)}function m(ze){var $e=h(ze),Pe=$e.b;return _($e,ze.e),$e.a=ze.b.a,M(Pe,$e.a),$e.d=Pe.d=ze.d,$e=$e.b,_(ze.b,ze.b.b.e),_(ze.b,$e),ze.b.a=$e.a,$e.b.a.c=$e.b,$e.b.d=ze.b.d,$e.f=ze.f,$e.b.f=ze.b.f,$e}function c(ze,$e){var Pe=!1,qe=h(ze),Et=qe.b;return $e.d!==ze.d&&(Pe=!0,N($e.d,ze.d)),_(qe,ze.e),_(Et,$e),qe.a=ze.b.a,Et.a=$e.a,qe.d=Et.d=ze.d,ze.d.a=Et,Pe||x(qe,ze.d),qe}function h(ze){var $e=new Ze,Pe=new Ze;return(((Pe.h=ze.b.h).b.h=$e).h=ze).b.h=Pe,$e.b=Pe,(($e.c=$e).e=Pe).b=$e,(Pe.c=Pe).e=$e}function _(ze,$e){var Pe=ze.c,qe=$e.c;Pe.b.e=$e,(qe.b.e=ze).c=qe,$e.c=Pe}function M(ze,$e){var Pe=$e.f,qe=new et($e,Pe);for(Pe.e=qe,Pe=($e.f=qe).c=ze;Pe.a=qe,(Pe=Pe.c)!==ze;);}function x(ze,$e){var Pe=$e.d,qe=new Qe($e,Pe);for(Pe.b=qe,($e.d=qe).a=ze,qe.c=$e.c,Pe=ze;Pe.d=qe,(Pe=Pe.e)!==ze;);}function A(ze){var $e=ze.h;($e.b.h=ze=ze.b.h).b.h=$e}function T(ze,$e){for(var Pe=ze.c,qe=Pe;qe.a=$e,(qe=qe.c)!==Pe;);((qe=ze.e).f=Pe=ze.f).e=qe}function N(ze,$e){for(var Pe=ze.a,qe=Pe;qe.d=$e,(qe=qe.e)!==Pe;);((qe=ze.b).d=Pe=ze.d).b=qe}function I(ze){var $e=0;return Math.abs(ze[1])>Math.abs(ze[0])&&($e=1),Math.abs(ze[2])>Math.abs(ze[$e])?2:$e}function z(ze,$e){ze.f+=$e.f,ze.b.f+=$e.b.f}function R(ze,$e,Pe){return Pe=Pe.a,($e=$e.a).b.a===(ze=ze.a)?Pe.b.a===ze?g($e.a,Pe.a)?C(Pe.b.a,$e.a,Pe.a)<=0:0<=C($e.b.a,Pe.a,$e.a):C(Pe.b.a,ze,Pe.a)<=0:Pe.b.a===ze?0<=C($e.b.a,ze,$e.a):($e=y($e.b.a,ze,$e.a),(ze=y(Pe.b.a,ze,Pe.a))<=$e)}function Q(ze){ze.a.i=null;var $e=ze.e;$e.a.c=$e.c,$e.c.a=$e.a,ze.e=null}function ne(ze,$e){l(ze.a),ze.c=!1,(ze.a=$e).i=ze}function V(ze){for(var $e=ze.a.a;(ze=$t(ze)).a.a===$e;);return ze.c&&(ne(ze,$e=c(sn(ze).a.b,ze.a.e)),ze=$t(ze)),ze}function X(ze,$e,Pe){var qe=new At;return qe.a=Pe,qe.e=mt(ze.f,$e.e,qe),Pe.i=qe}function U(ze,$e){switch(ze.s){case 100130:return!!(1&$e);case 100131:return 0!==$e;case 100132:return 0<$e;case 100133:return $e<0;case 100134:return 2<=$e||$e<=-2}return!1}function F(ze){var $e=ze.a,Pe=$e.d;Pe.c=ze.d,Pe.a=$e,Q(ze)}function K(ze,$e,Pe){for($e=(ze=$e).a;ze!==Pe;){ze.c=!1;var qe=sn(ze),Et=qe.a;if(Et.a!==$e.a){if(!qe.c){F(ze);break}ne(qe,Et=c($e.c.b,Et.b))}$e.c!==Et&&(p(Et.b.e,Et),p($e,Et)),F(ze),$e=qe.a,ze=qe}return $e}function ie(ze,$e,Pe,qe,Et,Ft){for(var Xt=!0;X(ze,$e,Pe.b),(Pe=Pe.c)!==qe;);for(null===Et&&(Et=sn($e).a.b.c);(Pe=(qe=sn($e)).a.b).a===Et.a;)Pe.c!==Et&&(p(Pe.b.e,Pe),p(Et.b.e,Pe)),qe.f=$e.f-Pe.f,qe.d=U(ze,qe.f),$e.b=!0,!Xt&&ee(ze,$e)&&(z(Pe,Et),Q($e),l(Et)),Xt=!1,$e=qe,Et=Pe;$e.b=!0,Ft&&xe(ze,$e)}function Te(ze,$e,Pe,qe,Et){var Ft=[$e.g[0],$e.g[1],$e.g[2]];$e.d=null,$e.d=ze.o&&ze.o(Ft,Pe,qe,ze.c)||null,null===$e.d&&(Et?ze.n||(Ve(ze,100156),ze.n=!0):$e.d=Pe[0])}function q(ze,$e,Pe){var qe=[null,null,null,null];qe[0]=$e.a.d,qe[1]=Pe.a.d,Te(ze,$e.a,qe,[.5,.5,0,0],!1),p($e,Pe)}function k(ze,$e,Pe,qe,Et){var Ft=Math.abs($e.b-ze.b)+Math.abs($e.a-ze.a),Xt=Math.abs(Pe.b-ze.b)+Math.abs(Pe.a-ze.a),cn=Et+1;qe[Et]=.5*Xt/(Ft+Xt),qe[cn]=.5*Ft/(Ft+Xt),ze.g[0]+=qe[Et]*$e.g[0]+qe[cn]*Pe.g[0],ze.g[1]+=qe[Et]*$e.g[1]+qe[cn]*Pe.g[1],ze.g[2]+=qe[Et]*$e.g[2]+qe[cn]*Pe.g[2]}function ee(ze,$e){var Pe=sn($e),qe=$e.a,Et=Pe.a;if(g(qe.a,Et.a)){if(0<C(Et.b.a,qe.a,Et.a))return;if(w(qe.a,Et.a)){if(qe.a!==Et.a){Pe=ze.e;var Ft=qe.a.h;if(0<=Ft){var Xt=(Pe=Pe.b).d,cn=Pe.e,Ut=Pe.c,Vt=Ut[Ft];Xt[Vt]=Xt[Pe.a],(Ut[Xt[Vt]]=Vt)<=--Pe.a&&(Vt<=1||g(cn[Xt[Vt>>1]],cn[Xt[Vt]])?Yt:hn)(Pe,Vt),cn[Ft]=null,Ut[Ft]=Pe.b,Pe.b=Ft}else for(Pe.c[-(Ft+1)]=null;0<Pe.a&&null===Pe.c[Pe.d[Pe.a-1]];)--Pe.a;q(ze,Et.b.e,qe)}}else m(Et.b),p(qe,Et.b.e),$e.b=Pe.b=!0}else{if(C(qe.b.a,Et.a,qe.a)<0)return;$t($e).b=$e.b=!0,m(qe.b),p(Et.b.e,qe)}return 1}function me(ze,$e){var Pe=sn($e),qe=$e.a,Et=Pe.a,Ft=qe.a,Xt=Et.a,cn=qe.b.a,Ut=Et.b.a,Vt=new et;if(C(cn,ze.a,Ft),C(Ut,ze.a,Xt),!(Ft===Xt||Math.min(Ft.a,cn.a)>Math.max(Xt.a,Ut.a))){if(g(Ft,Xt)){if(0<C(Ut,Ft,Xt))return}else if(C(cn,Xt,Ft)<0)return;var Qt,tt,ot=cn,Ct=Ft,vt=Ut,Mt=Xt;if(g(ot,Ct)||(Qt=ot,ot=Ct,Ct=Qt),g(vt,Mt)||(Qt=vt,vt=Mt,Mt=Qt),g(ot,vt)||(Qt=ot,ot=vt,vt=Qt,Qt=Ct,Ct=Mt,Mt=Qt),g(vt,Ct)?g(Ct,Mt)?((Qt=y(ot,vt,Ct))+(tt=y(vt,Ct,Mt))<0&&(Qt=-Qt,tt=-tt),Vt.b=a(Qt,vt.b,tt,Ct.b)):((Qt=C(ot,vt,Ct))+(tt=-C(ot,Mt,Ct))<0&&(Qt=-Qt,tt=-tt),Vt.b=a(Qt,vt.b,tt,Mt.b)):Vt.b=(vt.b+Ct.b)/2,E(ot,Ct)||(Qt=ot,ot=Ct,Ct=Qt),E(vt,Mt)||(Qt=vt,vt=Mt,Mt=Qt),E(ot,vt)||(Qt=ot,ot=vt,vt=Qt,Qt=Ct,Ct=Mt,Mt=Qt),E(vt,Ct)?E(Ct,Mt)?((Qt=s(ot,vt,Ct))+(tt=s(vt,Ct,Mt))<0&&(Qt=-Qt,tt=-tt),Vt.a=a(Qt,vt.a,tt,Ct.a)):((Qt=u(ot,vt,Ct))+(tt=-u(ot,Mt,Ct))<0&&(Qt=-Qt,tt=-tt),Vt.a=a(Qt,vt.a,tt,Mt.a)):Vt.a=(vt.a+Ct.a)/2,g(Vt,ze.a)&&(Vt.b=ze.a.b,Vt.a=ze.a.a),ot=g(Ft,Xt)?Ft:Xt,g(ot,Vt)&&(Vt.b=ot.b,Vt.a=ot.a),w(Vt,Ft)||w(Vt,Xt))return ee(ze,$e),0;if(!w(cn,ze.a)&&0<=C(cn,ze.a,Vt)||!w(Ut,ze.a)&&C(Ut,ze.a,Vt)<=0){if(Ut===ze.a)m(qe.b),p(Et.b,qe),qe=sn($e=V($e)).a,K(ze,sn($e),Pe),ie(ze,$e,qe.b.e,qe,qe,!0);else{if(cn!==ze.a)return 0<=C(cn,ze.a,Vt)&&($t($e).b=$e.b=!0,m(qe.b),qe.a.b=ze.a.b,qe.a.a=ze.a.a),void(C(Ut,ze.a,Vt)<=0&&($e.b=Pe.b=!0,m(Et.b),Et.a.b=ze.a.b,Et.a.a=ze.a.a));for(m(Et.b),p(qe.e,Et.b.e),Xt=(Ft=Pe=$e).a.b.a;(Ft=$t(Ft)).a.b.a===Xt;);Ft=sn($e=Ft).a.b.c,Pe.a=Et.b.e,ie(ze,$e,(Et=K(ze,Pe,null)).c,qe.b.c,Ft,!0)}return 1}m(qe.b),m(Et.b),p(Et.b.e,qe),qe.a.b=Vt.b,qe.a.a=Vt.a,qe.a.h=Dt(ze.e,qe.a),Et=[0,0,0,0],Vt=[Ft.d,cn.d,Xt.d,Ut.d],(qe=qe.a).g[0]=qe.g[1]=qe.g[2]=0,k(qe,Ft,cn,Et,0),k(qe,Xt,Ut,Et,2),Te(ze,qe,Vt,Et,!0),$t($e).b=$e.b=Pe.b=!0}}function xe(ze,$e){for(var Pe=sn($e);;){for(;Pe.b;)Pe=sn($e=Pe);if(!($e.b||null!==($e=$t(Pe=$e))&&$e.b))break;$e.b=!1;var qe=$e.a,Et=Pe.a;if(Ft=qe.b.a!==Et.b.a)e:{var Ft,Xt=sn(Ft=$e),cn=Ft.a,Ut=Xt.a,Vt=void 0;if(g(cn.b.a,Ut.b.a)){if(C(cn.b.a,Ut.b.a,cn.a)<0){Ft=!1;break e}$t(Ft).b=Ft.b=!0,Vt=m(cn),p(Ut.b,Vt),Vt.d.c=Ft.d}else{if(0<C(Ut.b.a,cn.b.a,Ut.a)){Ft=!1;break e}Ft.b=Xt.b=!0,Vt=m(Ut),p(cn.e,Ut.b),Vt.b.d.c=Ft.d}Ft=!0}if(Ft&&(Pe.c?(Q(Pe),l(Et),Et=(Pe=sn($e)).a):$e.c&&(Q($e),l(qe),qe=($e=$t(Pe)).a)),qe.a!==Et.a)if(qe.b.a===Et.b.a||$e.c||Pe.c||qe.b.a!==ze.a&&Et.b.a!==ze.a)ee(ze,$e);else if(me(ze,$e))break;qe.a===Et.a&&qe.b.a===Et.b.a&&(z(Et,qe),Q($e),l(qe),$e=$t(Pe))}}function Ge(ze,$e){var Pe=new At,qe=d(ze.b);qe.a.b=4e150,qe.a.a=$e,qe.b.a.b=-4e150,qe.b.a.a=$e,ze.a=qe.b.a,Pe.a=qe,Pe.f=0,Pe.d=!1,Pe.c=!1,Pe.h=!0,Pe.b=!1,qe=mt(qe=ze.f,qe.a,Pe),Pe.e=qe}function Ye(ze){this.a=new We,this.b=ze,this.c=R}function mt(ze,$e,Pe){for(;null!==($e=$e.c).b&&!ze.c(ze.b,$e.b,Pe););return ze=new We(Pe,$e.a,$e),$e.a.c=ze,$e.a=ze}function We(ze,$e,Pe){this.b=ze||null,this.a=$e||this,this.c=Pe||this}function ct(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function dt(ze,$e){if(ze.d!==$e)for(;ze.d!==$e;)if(ze.d<$e)switch(ze.d){case 0:Ve(ze,100151),ze.u(null);break;case 1:Ve(ze,100152),ze.t()}else switch(ze.d){case 2:Ve(ze,100154),ze.v();break;case 1:Ve(ze,100153),ze.w()}}function Ve(ze,$e){ze.p&&ze.p($e,ze.c)}function Qe(ze,$e){this.b=ze||this,this.d=$e||this,this.a=null,this.c=!1}function Ze(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function at(){this.c=new et,this.a=new Qe,this.b=new Ze,this.d=new Ze,this.b.b=this.d,this.d.b=this.b}function et(ze,$e){this.e=ze||this,this.f=$e||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function st(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Lt}function Dt(ze,$e){var Pe,qe,Et;return ze.e?(2*(qe=++(Pe=ze.b).a)>Pe.f&&(Pe.f*=2,Pe.c=an(Pe.c,Pe.f+1)),0===Pe.b?Et=qe:(Et=Pe.b,Pe.b=Pe.c[Pe.b]),Pe.e[Et]=$e,Pe.c[Et]=qe,Pe.d[qe]=Et,Pe.h&&hn(Pe,qe),Et):(Pe=ze.a++,ze.c[Pe]=$e,-(Pe+1))}function on(ze){if(0===ze.a)return gn(ze.b);var $e=ze.c[ze.d[ze.a-1]];if(0!==ze.b.a&&g(Bt(ze.b),$e))return gn(ze.b);for(;--ze.a,0<ze.a&&null===ze.c[ze.d[ze.a-1]];);return $e}function Lt(){this.d=an([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function an(ze,$e){for(var Pe=Array($e),qe=0;qe<ze.length;qe++)Pe[qe]=ze[qe];for(;qe<$e;qe++)Pe[qe]=0;return Pe}function Bt(ze){return ze.e[ze.d[1]]}function gn(ze){var $e=ze.d,Pe=ze.e,qe=ze.c,Et=$e[1],Ft=Pe[Et];return 0<ze.a&&($e[1]=$e[ze.a],qe[$e[1]]=1,Pe[Et]=null,qe[Et]=ze.b,ze.b=Et,0<--ze.a&&Yt(ze,1)),Ft}function Yt(ze,$e){for(var Pe=ze.d,qe=ze.e,Et=ze.c,Ft=$e,Xt=Pe[Ft];;){var cn=Ft<<1,Ut=(cn<ze.a&&g(qe[Pe[cn+1]],qe[Pe[cn]])&&(cn+=1),Pe[cn]);if(cn>ze.a||g(qe[Xt],qe[Ut])){Et[Pe[Ft]=Xt]=Ft;break}Et[Pe[Ft]=Ut]=Ft,Ft=cn}}function hn(ze,$e){for(var Pe=ze.d,qe=ze.e,Et=ze.c,Ft=$e,Xt=Pe[Ft];;){var cn=Ft>>1,Ut=Pe[cn];if(0==cn||g(qe[Ut],qe[Xt])){Et[Pe[Ft]=Xt]=Ft;break}Et[Pe[Ft]=Ut]=Ft,Ft=cn}}function At(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function sn(ze){return ze.e.c.b}function $t(ze){return ze.e.a.b}(v=ct.prototype).x=function(){dt(this,0)},v.B=function(ze,$e){switch(ze){case 100142:return;case 100140:switch($e){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=$e)}break;case 100141:return void(this.m=!!$e);default:return void Ve(this,100900)}Ve(this,100901)},v.y=function(ze){switch(ze){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Ve(this,100900)}return!1},v.A=function(ze,$e,Pe){this.j[0]=ze,this.j[1]=$e,this.j[2]=Pe},v.z=function(ze,$e){var Pe=$e||null;switch(ze){case 100100:case 100106:this.h=Pe;break;case 100104:case 100110:this.l=Pe;break;case 100101:case 100107:this.k=Pe;break;case 100102:case 100108:this.i=Pe;break;case 100103:case 100109:this.p=Pe;break;case 100105:case 100111:this.o=Pe;break;case 100112:this.r=Pe;break;default:Ve(this,100900)}},v.C=function(ze,$e){var Pe=!1,qe=[0,0,0];dt(this,2);for(var Et=0;Et<3;++Et){var Ft=ze[Et];Ft<-1e150&&(Ft=-1e150,Pe=!0),1e150<Ft&&(Ft=1e150,Pe=!0),qe[Et]=Ft}Pe&&Ve(this,100155),null===(Pe=this.q)?p(Pe=d(this.b),Pe.b):(m(Pe),Pe=Pe.e),Pe.a.d=$e,Pe.a.g[0]=qe[0],Pe.a.g[1]=qe[1],Pe.a.g[2]=qe[2],Pe.f=1,Pe.b.f=-1,this.q=Pe},v.u=function(ze){dt(this,0),this.d=1,this.b=new at,this.c=ze},v.t=function(){dt(this,1),this.d=2,this.q=null},v.v=function(){dt(this,2),this.d=1},v.w=function(){dt(this,1),this.d=0;var ze,$e,Ft=!1,Xt=[Pe=this.j[0],qe=this.j[1],Et=this.j[2]];if(0===Pe&&0===qe&&0===Et){for(var qe=[-2e150,-2e150,-2e150],cn=[2e150,2e150,2e150],Et=[],Ut=[],Pe=(Ft=this.b.c).e;Pe!==Ft;Pe=Pe.e)for(var Vt=0;Vt<3;++Vt){var Qt=Pe.g[Vt];Qt<cn[Vt]&&(cn[Vt]=Qt,Ut[Vt]=Pe),Qt>qe[Vt]&&(qe[Vt]=Qt,Et[Vt]=Pe)}if(qe[1]-cn[1]>qe[Pe=0]-cn[0]&&(Pe=1),cn[Pe=qe[2]-cn[2]>qe[Pe]-cn[Pe]?2:Pe]>=qe[Pe])Xt[0]=0,Xt[1]=0,Xt[2]=1;else{for(cn=Ut[Pe],Ut=[qe=0,0,0],cn=[cn.g[0]-(Et=Et[Pe]).g[0],cn.g[1]-Et.g[1],cn.g[2]-Et.g[2]],Vt=[0,0,0],Pe=Ft.e;Pe!==Ft;Pe=Pe.e)Vt[0]=Pe.g[0]-Et.g[0],Vt[1]=Pe.g[1]-Et.g[1],Vt[2]=Pe.g[2]-Et.g[2],Ut[0]=cn[1]*Vt[2]-cn[2]*Vt[1],Ut[1]=cn[2]*Vt[0]-cn[0]*Vt[2],Ut[2]=cn[0]*Vt[1]-cn[1]*Vt[0],qe<(Qt=Ut[0]*Ut[0]+Ut[1]*Ut[1]+Ut[2]*Ut[2])&&(qe=Qt,Xt[0]=Ut[0],Xt[1]=Ut[1],Xt[2]=Ut[2]);qe<=0&&(Xt[0]=Xt[1]=Xt[2]=0,Xt[I(cn)]=1)}Ft=!0}for(qe=((Ut=I(Xt))+1)%3,Et=(Ut+2)%3,Ut=0<Xt[Ut]?1:-1,Xt=(Pe=this.b.c).e;Xt!==Pe;Xt=Xt.e)Xt.b=Xt.g[qe],Xt.a=Ut*Xt.g[Et];if(Ft){for(Xt=0,Pe=(Ft=this.b.a).b;Pe!==Ft;Pe=Pe.b)if(!((qe=Pe.a).f<=0))for(;Xt+=(qe.a.b-qe.b.a.b)*(qe.a.a+qe.b.a.a),(qe=qe.e)!==Pe.a;);if(Xt<0)for(Ft=(Xt=this.b.c).e;Ft!==Xt;Ft=Ft.e)Ft.a=-Ft.a}for(this.n=!1,Pe=(Xt=this.b.b).h;Pe!==Xt;Pe=Ft)Ft=Pe.h,qe=Pe.e,w(Pe.a,Pe.b.a)&&Pe.e.e!==Pe&&(q(this,qe,Pe),l(Pe),qe=(Pe=qe).e),qe.e===Pe&&(qe!==Pe&&(qe!==Ft&&qe!==Ft.b||(Ft=Ft.h),l(qe)),Pe!==Ft&&Pe!==Ft.b||(Ft=Ft.h),l(Pe));for(this.e=Xt=new st,Pe=(Ft=this.b.c).e;Pe!==Ft;Pe=Pe.e)Pe.h=Dt(Xt,Pe);var tt=Xt;tt.d=[];for(var ot=0;ot<tt.a;ot++)tt.d[ot]=ot;tt.d.sort(function(Mt){return function(ln,gt){return g(Mt[ln],Mt[gt])?1:-1}}(tt.c)),tt.e=!0;for(var Ct=tt.b,vt=Ct.a;1<=vt;--vt)Yt(Ct,vt);for(Ct.h=!0,this.f=new Ye(this),Ge(this,-4e150),Ge(this,4e150);null!==(Xt=on(this.e));){for(;;){e:if(0===(Pe=this.e).a)Ft=Bt(Pe.b);else if(Ft=Pe.c[Pe.d[Pe.a-1]],0!==Pe.b.a&&g(Pe=Bt(Pe.b),Ft)){Ft=Pe;break e}if(null===Ft||!w(Ft,Xt))break;Ft=on(this.e),q(this,Xt.c,Ft.c)}!function Mt(ln,gt){for(var St,zt=(ln.a=gt).c;null===zt.i;)if((zt=zt.c)===gt.c){zt=ln;var Rt=gt;(Tn=new At).a=Rt.c.b;for(var An=(tn=zt.f).a;null!==(An=An.a).b&&!tn.c(tn.b,Tn,An.b););var tn,fn,bn=sn(tn=An.b),Tn=tn.a;return An=bn.a,void(0===C(Tn.b.a,Rt,Tn.a)?w((Tn=tn.a).a,Rt)||w(Tn.b.a,Rt)||(m(Tn.b),tn.c&&(l(Tn.c),tn.c=!1),p(Rt.c,Tn),Mt(zt,Rt)):(fn=g(An.b.a,Tn.b.a)?tn:bn,bn=void 0,tn.d||fn.c?(bn=fn===tn?c(Rt.c.b,Tn.e):c(An.b.c.b,Rt.c).b,fn.c?ne(fn,bn):((tn=X(Tn=zt,tn,bn)).f=$t(tn).f+tn.a.f,tn.d=U(Tn,tn.f)),Mt(zt,Rt)):ie(zt,tn,Rt.c,Rt.c,null,!0)))}tn=(Tn=sn(zt=V(zt.i))).a,(Tn=K(ln,Tn,null)).c===tn?(Tn=(tn=Tn).c,An=sn(zt),St=!1,(bn=zt.a).b.a!==(fn=An.a).b.a&&me(ln,zt),w(bn.a,ln.a)&&(p(Tn.b.e,bn),Tn=sn(zt=V(zt)).a,K(ln,sn(zt),An),St=!0),w(fn.a,ln.a)&&(p(tn,fn.b.e),tn=K(ln,An,null),St=!0),St?ie(ln,zt,tn.c,Tn,Tn,!0):(Rt=g(fn.a,bn.a)?fn.b.e:bn,ie(ln,zt,Rt=c(tn.c.b,Rt),Rt.c,Rt.c,!1),Rt.b.i.c=!0,xe(ln,zt))):ie(ln,zt,Tn.c,tn,tn,!0)}(this,Xt)}for(this.a=this.f.a.a.b.a.a,Xt=0;null!==(Ft=this.f.a.a.b);)Ft.h||++Xt,Q(Ft);for(this.f=null,(Xt=this.e).b=null,Xt.d=null,this.e=Xt.c=null,Pe=(Xt=this.b).a.b;Pe!==Xt.a;Pe=Ft)Ft=Pe.b,(Pe=Pe.a).e.e===Pe&&(z(Pe.c,Pe),l(Pe));if(!this.n){if(Xt=this.b,this.m)for(Pe=Xt.b.h;Pe!==Xt.b;Pe=Ft)Ft=Pe.h,Pe.b.d.c!==Pe.d.c?Pe.f=Pe.d.c?1:-1:l(Pe);else for(Pe=Xt.a.b;Pe!==Xt.a;Pe=Ft)if(Ft=Pe.b,Pe.c){for(Pe=Pe.a;g(Pe.b.a,Pe.a);Pe=Pe.c.b);for(;g(Pe.a,Pe.b.a);Pe=Pe.e);for(qe=Pe.c.b,Et=void 0;Pe.e!==qe;)if(g(Pe.b.a,qe.a)){for(;qe.e!==Pe&&(g(($e=qe.e).b.a,$e.a)||C(qe.a,qe.b.a,qe.e.b.a)<=0);)qe=(Et=c(qe.e,qe)).b;qe=qe.c.b}else{for(;qe.e!==Pe&&(g((ze=Pe.c.b).a,ze.b.a)||0<=C(Pe.b.a,Pe.a,Pe.c.b.a));)Pe=(Et=c(Pe,Pe.c.b)).b;Pe=Pe.e}for(;qe.e.e!==Pe;)qe=(Et=c(qe.e,qe)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(Ft=(Xt=this.b).a.b;Ft!==Xt.a;Ft=Ft.b)if(Ft.c){for(this.h&&this.h(2,this.c),Pe=Ft.a;this.k&&this.k(Pe.a.d,this.c),(Pe=Pe.e)!==Ft.a;);this.i&&this.i(this.c)}}else{for(Ft=!!this.l,Pe=!1,qe=-1,Et=(Xt=this.b).a.d;Et!==Xt.a;Et=Et.d)if(Et.c)for(Pe||(this.h&&this.h(4,this.c),Pe=!0),Ut=Et.a;Ft&&qe!==(cn=Ut.b.d.c?0:1)&&(qe=cn,this.l&&this.l(!!qe,this.c)),this.k&&this.k(Ut.a.d,this.c),(Ut=Ut.e)!==Et.a;);Pe&&this.i&&this.i(this.c)}if(this.r){for(Pe=(Xt=this.b).a.b;Pe!==Xt.a;Pe=Ft)if(Ft=Pe.b,!Pe.c){for(Et=(qe=Pe.a).e,Ut=void 0;Et=(Ut=Et).e,(Ut.d=null)===Ut.b.d&&(Ut.c===Ut?T(Ut.a,null):(Ut.a.c=Ut.c,_(Ut,Ut.b.e)),(cn=Ut.b).c===cn?T(cn.a,null):(cn.a.c=cn.c,_(cn,cn.b.e)),A(Ut)),Ut!==qe;);qe=Pe.d,((Pe=Pe.b).d=qe).b=Pe}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:ct,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},ct.prototype.gluDeleteTess=ct.prototype.x,ct.prototype.gluTessProperty=ct.prototype.B,ct.prototype.gluGetTessProperty=ct.prototype.y,ct.prototype.gluTessNormal=ct.prototype.A,ct.prototype.gluTessCallback=ct.prototype.z,ct.prototype.gluTessVertex=ct.prototype.C,ct.prototype.gluTessBeginPolygon=ct.prototype.u,ct.prototype.gluTessBeginContour=ct.prototype.t,ct.prototype.gluTessEndContour=ct.prototype.v,ct.prototype.gluTessEndPolygon=ct.prototype.w,void 0!==oe&&(oe.exports=this.libtess)},{}],256:[function(o,oe,H){"use strict";function w(g,y,C,E){for(var s=g[y++],u=1<<s,a=1+u,d=1+a,p=s+1,l=(1<<p)-1,m=0,c=0,h=0,_=g[y++],M=new Int32Array(4096),x=null;;){for(;m<16&&0!==_;)c|=g[y++]<<m,m+=8,1===_?_=g[y++]:--_;if(m<p)break;var A=c&l;if(c>>=p,m-=p,A==u)d=1+a,l=(1<<(p=s+1))-1,x=null;else{if(A==a)break;for(var T=A<d?A:x,N=0,I=T;u<I;)I=M[I]>>8,++N;var z=I;if(E<h+N+(T!==A?1:0))return void console.log("Warning, gif stream longer than expected.");C[h++]=z;var R=h+=N;for(T!==A&&(C[h++]=z),I=T;N--;)C[--R]=255&(I=M[I]),I>>=8;null!==x&&d<4096&&(M[d++]=x<<8|z,l+1<=d&&p<12&&(++p,l=l<<1|1)),x=A}}h!==E&&console.log("Warning, gif stream shorter than expected.")}try{H.GifWriter=function v(g,y,C,E){var s=0,u=void 0===(E=void 0===E?{}:E).loop?null:E.loop,a=void 0===E.palette?null:E.palette;if(y<=0||C<=0||65535<y||65535<C)throw new Error("Width/Height invalid.");function d(x){if((x=x.length)<2||256<x||x&x-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return x}g[s++]=71,g[s++]=73,g[s++]=70,g[s++]=56,g[s++]=57,g[s++]=97;var p=0,l=0;if(null!==a){for(var m=d(a);m>>=1;)++p;if(m=1<<p,--p,void 0!==E.background){if(m<=(l=E.background))throw new Error("Background index out of range.");if(0===l)throw new Error("Background index explicitly passed as 0.")}}if(g[s++]=255&y,g[s++]=y>>8&255,g[s++]=255&C,g[s++]=C>>8&255,g[s++]=(null!==a?128:0)|p,g[s++]=l,g[s++]=0,null!==a)for(var c=0,h=a.length;c<h;++c){var _=a[c];g[s++]=_>>16&255,g[s++]=_>>8&255,g[s++]=255&_}if(null!==u){if(u<0||65535<u)throw new Error("Loop count invalid.");g[s++]=33,g[s++]=255,g[s++]=11,g[s++]=78,g[s++]=69,g[s++]=84,g[s++]=83,g[s++]=67,g[s++]=65,g[s++]=80,g[s++]=69,g[s++]=50,g[s++]=46,g[s++]=48,g[s++]=3,g[s++]=1,g[s++]=255&u,g[s++]=u>>8&255,g[s++]=0}var M=!1;this.addFrame=function(x,A,T,N,I,z){if(!0===M&&(--s,M=!1),z=void 0===z?{}:z,x<0||A<0||65535<x||65535<A)throw new Error("x/y invalid.");if(T<=0||N<=0||65535<T||65535<N)throw new Error("Width/Height invalid.");if(I.length<T*N)throw new Error("Not enough pixels for the frame size.");var R=!0,Q=z.palette;if(null==Q&&(R=!1,Q=a),null==Q)throw new Error("Must supply either a local or global palette.");for(var V=d(Q),ne=0;V>>=1;)++ne;V=1<<ne;var X=void 0===z.delay?0:z.delay,U=void 0===z.disposal?0:z.disposal;if(U<0||3<U)throw new Error("Disposal out of range.");var F=!1,K=0;if(null!=z.transparent&&(F=!0,(K=z.transparent)<0||V<=K))throw new Error("Transparent color index.");if(0===U&&!F&&0===X||(g[s++]=33,g[s++]=249,g[s++]=4,g[s++]=U<<2|(!0===F?1:0),g[s++]=255&X,g[s++]=X>>8&255,g[s++]=K,g[s++]=0),g[s++]=44,g[s++]=255&x,g[s++]=x>>8&255,g[s++]=255&A,g[s++]=A>>8&255,g[s++]=255&T,g[s++]=T>>8&255,g[s++]=255&N,g[s++]=N>>8&255,g[s++]=!0===R?128|ne-1:0,!0===R)for(var ie=0,Te=Q.length;ie<Te;++ie){var q=Q[ie];g[s++]=q>>16&255,g[s++]=q>>8&255,g[s++]=255&q}return s=function(k,ee,me,xe){k[ee++]=me;var Ge=ee++,Ye=1<<me,mt=Ye-1,We=1+Ye,ct=1+We,dt=me+1,Ve=0,Qe=0;function Ze(gn){for(;gn<=Ve;)k[ee++]=255&Qe,Qe>>=8,Ve-=8,ee===Ge+256&&(k[Ge]=255,Ge=ee++)}function at(gn){Qe|=gn<<Ve,Ve+=dt,Ze(8)}var et=xe[0]&mt,st={};at(Ye);for(var Dt=1,on=xe.length;Dt<on;++Dt){var Lt=xe[Dt]&mt,an=et<<8|Lt,Bt=st[an];if(void 0===Bt){for(Qe|=et<<Ve,Ve+=dt;8<=Ve;)k[ee++]=255&Qe,Qe>>=8,Ve-=8,ee===Ge+256&&(k[Ge]=255,Ge=ee++);4096===ct?(at(Ye),ct=1+We,dt=me+1,st={}):(1<<dt<=ct&&++dt,st[an]=ct++),et=Lt}else et=Bt}return at(et),at(We),Ze(1),Ge+1===ee?k[Ge]=0:(k[Ge]=ee-Ge-1,k[ee++]=0),ee}(g,s,ne<2?2:ne,I)},this.end=function(){return!1===M&&(g[s++]=59,M=!0),s},this.getOutputBuffer=function(){return g},this.setOutputBuffer=function(x){g=x},this.getOutputBufferPosition=function(){return s},this.setOutputBufferPosition=function(x){s=x}},H.GifReader=function(g){var y=0;if(71!==g[y++]||73!==g[y++]||70!==g[y++]||56!==g[y++]||56!=(g[y++]+1&253)||97!==g[y++])throw new Error("Invalid GIF 87a/89a header.");var C=g[y++]|g[y++]<<8,E=g[y++]|g[y++]<<8,s=g[y++],a=(y++,y++,null),d=null,p=(s>>7&&(a=y,y+=3*(d=1<<1+(7&s))),!0),l=[],m=0,c=null,h=0,_=null;for(this.width=C,this.height=E;p&&y<g.length;)switch(g[y++]){case 33:switch(g[y++]){case 255:if(11!==g[y]||78==g[y+1]&&69==g[y+2]&&84==g[y+3]&&83==g[y+4]&&67==g[y+5]&&65==g[y+6]&&80==g[y+7]&&69==g[y+8]&&50==g[y+9]&&46==g[y+10]&&48==g[y+11]&&3==g[y+12]&&1==g[y+13]&&0==g[y+16])y+=14,_=g[y++]|g[y++]<<8,y++;else for(y+=12;;){if(!(0<=(x=g[y++])))throw Error("Invalid block size");if(0===x)break;y+=x}break;case 249:if(4!==g[y++]||0!==g[y+4])throw new Error("Invalid graphics extension block.");var M=g[y++];m=g[y++]|g[y++]<<8,c=g[y++],!(1&M)&&(c=null),h=M>>2&7,y++;break;case 254:for(;;){if(!(0<=(x=g[y++])))throw Error("Invalid block size");if(0===x)break;y+=x}break;default:throw new Error("Unknown graphic control label: 0x"+g[y-1].toString(16))}break;case 44:var x,A=g[y++]|g[y++]<<8,T=g[y++]|g[y++]<<8,N=g[y++]|g[y++]<<8,I=g[y++]|g[y++]<<8,z=(X=g[y++])>>6&1,Q=a,ne=d,V=!1,X=(X>>7&&(V=!0,Q=y,y+=3*(ne=1<<1+(7&X))),y);for(y++;;){if(!(0<=(x=g[y++])))throw Error("Invalid block size");if(0===x)break;y+=x}l.push({x:A,y:T,width:N,height:I,has_local_palette:V,palette_offset:Q,palette_size:ne,data_offset:X,data_length:y-X,transparent_index:c,interlaced:!!z,delay:m,disposal:h});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+g[y-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return _},this.frameInfo=function(U){if(U<0||U>=l.length)throw new Error("Frame index out of range.");return l[U]},this.decodeAndBlitFrameBGRA=function(U,F){for(var K=(U=this.frameInfo(U)).width*U.height,ie=new Uint8Array(K),Te=(w(g,U.data_offset,ie,K),U.palette_offset),q=U.transparent_index,k=(null===q&&(q=256),U.width),ee=C-k,me=k,xe=4*(U.y*C+U.x),Ge=4*((U.y+U.height)*C+U.x),Ye=xe,mt=4*ee,We=(!0===U.interlaced&&(mt+=4*C*7),8),ct=0,dt=ie.length;ct<dt;++ct){var Ve,Qe,Ze=ie[ct];0===me&&(me=k,Ge<=(Ye+=mt)&&(mt=4*ee+4*C*(We-1),Ye=xe+(k+ee)*(We<<1),We>>=1)),Ze===q?Ye+=4:(Ve=g[Te+3*Ze],Qe=g[Te+3*Ze+1],F[Ye++]=Ze=g[Te+3*Ze+2],F[Ye++]=Qe,F[Ye++]=Ve,F[Ye++]=255),--me}},this.decodeAndBlitFrameRGBA=function(U,F){for(var K=(U=this.frameInfo(U)).width*U.height,ie=new Uint8Array(K),Te=(w(g,U.data_offset,ie,K),U.palette_offset),q=U.transparent_index,k=(null===q&&(q=256),U.width),ee=C-k,me=k,xe=4*(U.y*C+U.x),Ge=4*((U.y+U.height)*C+U.x),Ye=xe,mt=4*ee,We=(!0===U.interlaced&&(mt+=4*C*7),8),ct=0,dt=ie.length;ct<dt;++ct){var Ve,Qe,Ze=ie[ct];0===me&&(me=k,Ge<=(Ye+=mt)&&(mt=4*ee+4*C*(We-1),Ye=xe+(k+ee)*(We<<1),We>>=1)),Ze===q?Ye+=4:(Ve=g[Te+3*Ze],Qe=g[Te+3*Ze+1],Ze=g[Te+3*Ze+2],F[Ye++]=Ve,F[Ye++]=Qe,F[Ye++]=Ze,F[Ye++]=255),--me}}}}catch{}},{}],257:[function(o,oe,H){(function(v){var g;g=function(y){"use strict";function C(pe){if(null==this)throw TypeError();var G,J=String(this),te=J.length;if(!((pe=(pe=pe?Number(pe):0)!=pe?0:pe)<0||te<=pe))return 55296<=(G=J.charCodeAt(pe))&&G<=56319&&pe+1<te&&56320<=(te=J.charCodeAt(pe+1))&&te<=57343?1024*(G-55296)+te-56320+65536:G}String.prototype.codePointAt||((E=function(){try{var S={},G=Object.defineProperty,J=G(S,S,S)&&G}catch{}return J}())?E(String.prototype,"codePointAt",{value:C,configurable:!0,writable:!0}):String.prototype.codePointAt=C);var E;function a(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function d(S,G){this.source=S,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=G,this.destLen=0,this.ltree=new a,this.dtree=new a}var p=new a,l=new a,m=new Uint8Array(30),c=new Uint16Array(30),h=new Uint8Array(30),_=new Uint16Array(30),M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x=new a,A=new Uint8Array(320);function T(S,G,J,te){for(var pe,Oe=0;Oe<J;++Oe)S[Oe]=0;for(Oe=0;Oe<30-J;++Oe)S[Oe+J]=Oe/J|0;for(pe=te,Oe=0;Oe<30;++Oe)G[Oe]=pe,pe+=1<<S[Oe]}var N=new Uint16Array(16);function I(S,G,J,te){for(var pe,Oe=0;Oe<16;++Oe)S.table[Oe]=0;for(Oe=0;Oe<te;++Oe)S.table[G[J+Oe]]++;for(Oe=pe=S.table[0]=0;Oe<16;++Oe)N[Oe]=pe,pe+=S.table[Oe];for(Oe=0;Oe<te;++Oe)G[J+Oe]&&(S.trans[N[G[J+Oe]]++]=Oe)}function z(S,G,J){if(!G)return J;for(;S.bitcount<24;)S.tag|=S.source[S.sourceIndex++]<<S.bitcount,S.bitcount+=8;var te=S.tag&65535>>>16-G;return S.tag>>>=G,S.bitcount-=G,te+J}function R(S,G){for(;S.bitcount<24;)S.tag|=S.source[S.sourceIndex++]<<S.bitcount,S.bitcount+=8;for(var J=0,te=0,pe=0,Oe=S.tag;te=2*te+(1&Oe),Oe>>>=1,J+=G.table[++pe],0<=(te-=G.table[pe]););return S.tag=Oe,S.bitcount-=pe,G.trans[J+te]}function Q(S,G,J){for(;;){if(256===(te=R(S,G)))return 0;if(te<256)S.dest[S.destLen++]=te;else for(var pe,Oe=z(S,m[te-=257],c[te]),te=R(S,J),Le=pe=S.destLen-z(S,h[te],_[te]);Le<pe+Oe;++Le)S.dest[S.destLen++]=S.dest[Le]}}for(var ne=p,V=l,X=0;X<7;++X)ne.table[X]=0;for(ne.table[7]=24,ne.table[8]=152,ne.table[9]=112,X=0;X<24;++X)ne.trans[X]=256+X;for(X=0;X<144;++X)ne.trans[24+X]=X;for(X=0;X<8;++X)ne.trans[168+X]=280+X;for(X=0;X<112;++X)ne.trans[176+X]=144+X;for(X=0;X<5;++X)V.table[X]=0;for(V.table[5]=32,X=0;X<32;++X)V.trans[X]=X;T(m,c,4,3),T(h,_,2,1),m[28]=0,c[28]=258;var U=function(S,G){var J,te,pe,Oe=new d(S,G);do{switch(void 0,(te=Oe).bitcount--||(te.tag=te.source[te.sourceIndex++],te.bitcount=7),pe=1&te.tag,te.tag>>>=1,te=pe,z(Oe,2,0)){case 0:J=function(en){for(var Bn,Nn;8<en.bitcount;)en.sourceIndex--,en.bitcount-=8;if((Bn=256*en.source[en.sourceIndex+1]+en.source[en.sourceIndex])!==(65535&~(256*en.source[en.sourceIndex+3]+en.source[en.sourceIndex+2])))return-3;for(en.sourceIndex+=4,Nn=Bn;Nn;--Nn)en.dest[en.destLen++]=en.source[en.sourceIndex++];return en.bitcount=0,0}(Oe);break;case 1:J=Q(Oe,p,l);break;case 2:kt=He=ve=Gt=Le=Ee=void 0;for(var Le,nt=Oe,_t=Oe.ltree,bt=Oe.dtree,Ht=z(nt,5,257),we=z(nt,5,1),ae=z(nt,4,4),Ee=0;Ee<19;++Ee)A[Ee]=0;for(Ee=0;Ee<ae;++Ee){var ve=z(nt,3,0);A[M[Ee]]=ve}for(I(x,A,0,19),Le=0;Le<Ht+we;){var He=R(nt,x);switch(He){case 16:for(var kt=A[Le-1],Gt=z(nt,2,3);Gt;--Gt)A[Le++]=kt;break;case 17:for(Gt=z(nt,3,3);Gt;--Gt)A[Le++]=0;break;case 18:for(Gt=z(nt,7,11);Gt;--Gt)A[Le++]=0;break;default:A[Le++]=He}}I(_t,A,0,Ht),I(bt,A,Ht,we),J=Q(Oe,Oe.ltree,Oe.dtree);break;default:J=-3}if(0!==J)throw new Error("Data error")}while(!te);return Oe.destLen<Oe.dest.length?"function"==typeof Oe.dest.slice?Oe.dest.slice(0,Oe.destLen):Oe.dest.subarray(0,Oe.destLen):Oe.dest};function F(S,G,J,te,pe){return Math.pow(1-pe,3)*S+3*Math.pow(1-pe,2)*pe*G+3*(1-pe)*Math.pow(pe,2)*J+Math.pow(pe,3)*te}function K(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function ie(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function Te(S){throw new Error(S)}function q(S,G){S||Te(G)}K.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},K.prototype.addPoint=function(S,G){"number"==typeof S&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=S,this.x2=S),S<this.x1&&(this.x1=S),S>this.x2&&(this.x2=S)),"number"==typeof G&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=G,this.y2=G),G<this.y1&&(this.y1=G),G>this.y2&&(this.y2=G))},K.prototype.addX=function(S){this.addPoint(S,null)},K.prototype.addY=function(S){this.addPoint(null,S)},K.prototype.addBezier=function(S,G,J,te,pe,Oe,Le,nt){var _t=[S,G],bt=[J,te],Ht=[pe,Oe],we=[Le,nt];this.addPoint(S,G),this.addPoint(Le,nt);for(var ae=0;ae<=1;ae++){var Ee,ve=6*_t[ae]-12*bt[ae]+6*Ht[ae],He=-3*_t[ae]+9*bt[ae]-9*Ht[ae]+3*we[ae],kt=3*bt[ae]-3*_t[ae];0==He?0==ve||0<(Ee=-kt/ve)&&Ee<1&&(0===ae&&this.addX(F(_t[ae],bt[ae],Ht[ae],we[ae],Ee)),1===ae&&this.addY(F(_t[ae],bt[ae],Ht[ae],we[ae],Ee))):(Ee=Math.pow(ve,2)-4*kt*He)<0||(0<(kt=(-ve+Math.sqrt(Ee))/(2*He))&&kt<1&&(0===ae&&this.addX(F(_t[ae],bt[ae],Ht[ae],we[ae],kt)),1===ae&&this.addY(F(_t[ae],bt[ae],Ht[ae],we[ae],kt))),0<(kt=(-ve-Math.sqrt(Ee))/(2*He))&&kt<1&&(0===ae&&this.addX(F(_t[ae],bt[ae],Ht[ae],we[ae],kt)),1===ae&&this.addY(F(_t[ae],bt[ae],Ht[ae],we[ae],kt))))}},K.prototype.addQuad=function(S,G,J,te,pe,Oe){this.addBezier(S,G,J=S+2/3*(J-S),te=G+2/3*(te-G),J+1/3*(pe-S),te+1/3*(Oe-G),pe,Oe)},ie.prototype.moveTo=function(S,G){this.commands.push({type:"M",x:S,y:G})},ie.prototype.lineTo=function(S,G){this.commands.push({type:"L",x:S,y:G})},ie.prototype.curveTo=ie.prototype.bezierCurveTo=function(S,G,J,te,pe,Oe){this.commands.push({type:"C",x1:S,y1:G,x2:J,y2:te,x:pe,y:Oe})},ie.prototype.quadTo=ie.prototype.quadraticCurveTo=function(S,G,J,te){this.commands.push({type:"Q",x1:S,y1:G,x:J,y:te})},ie.prototype.close=ie.prototype.closePath=function(){this.commands.push({type:"Z"})},ie.prototype.extend=function(S){var G;if(S.commands)S=S.commands;else if(S instanceof K)return this.moveTo((G=S).x1,G.y1),this.lineTo(G.x2,G.y1),this.lineTo(G.x2,G.y2),this.lineTo(G.x1,G.y2),void this.close();Array.prototype.push.apply(this.commands,S)},ie.prototype.getBoundingBox=function(){for(var S=new K,G=0,J=0,te=0,pe=0,Oe=0;Oe<this.commands.length;Oe++){var Le=this.commands[Oe];switch(Le.type){case"M":S.addPoint(Le.x,Le.y),G=te=Le.x,J=pe=Le.y;break;case"L":S.addPoint(Le.x,Le.y),te=Le.x,pe=Le.y;break;case"Q":S.addQuad(te,pe,Le.x1,Le.y1,Le.x,Le.y),te=Le.x,pe=Le.y;break;case"C":S.addBezier(te,pe,Le.x1,Le.y1,Le.x2,Le.y2,Le.x,Le.y),te=Le.x,pe=Le.y;break;case"Z":te=G,pe=J;break;default:throw new Error("Unexpected path command "+Le.type)}}return S.isEmpty()&&S.addPoint(0,0),S},ie.prototype.draw=function(S){S.beginPath();for(var G=0;G<this.commands.length;G+=1){var J=this.commands[G];"M"===J.type?S.moveTo(J.x,J.y):"L"===J.type?S.lineTo(J.x,J.y):"C"===J.type?S.bezierCurveTo(J.x1,J.y1,J.x2,J.y2,J.x,J.y):"Q"===J.type?S.quadraticCurveTo(J.x1,J.y1,J.x,J.y):"Z"===J.type&&S.closePath()}this.fill&&(S.fillStyle=this.fill,S.fill()),this.stroke&&(S.strokeStyle=this.stroke,S.lineWidth=this.strokeWidth,S.stroke())},ie.prototype.toPathData=function(S){function G(){for(var Oe=arguments,Le="",nt=0;nt<arguments.length;nt+=1){var _t=Oe[nt];0<=_t&&0<nt&&(Le+=" "),Le+=Math.round(_t)===_t?""+Math.round(_t):_t.toFixed(S)}return Le}S=void 0!==S?S:2;for(var J="",te=0;te<this.commands.length;te+=1){var pe=this.commands[te];"M"===pe.type?J+="M"+G(pe.x,pe.y):"L"===pe.type?J+="L"+G(pe.x,pe.y):"C"===pe.type?J+="C"+G(pe.x1,pe.y1,pe.x2,pe.y2,pe.x,pe.y):"Q"===pe.type?J+="Q"+G(pe.x1,pe.y1,pe.x,pe.y):"Z"===pe.type&&(J+="Z")}return J},ie.prototype.toSVG=function(S){var G=(G='<path d="')+this.toPathData(S)+'"';return this.fill&&"black"!==this.fill&&(G+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(G+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),G+"/>"},ie.prototype.toDOMElement=function(G){G=this.toPathData(G);var J=document.createElementNS("http://www.w3.org/2000/svg","path");return J.setAttribute("d",G),J};var k={fail:Te,argument:q,assert:q},ee={},me={},xe={};function Ge(S){return function(){return S}}me.BYTE=function(S){return k.argument(0<=S&&S<=255,"Byte value should be between 0 and 255."),[S]},xe.BYTE=Ge(1),me.CHAR=function(S){return[S.charCodeAt(0)]},xe.CHAR=Ge(1),me.CHARARRAY=function(S){for(var G=[],J=0;J<S.length;J+=1)G[J]=S.charCodeAt(J);return G},xe.CHARARRAY=function(S){return S.length},me.USHORT=function(S){return[S>>8&255,255&S]},xe.USHORT=Ge(2),me.SHORT=function(S){return[(S=32768<=S?-(65536-S):S)>>8&255,255&S]},xe.SHORT=Ge(2),me.UINT24=function(S){return[S>>16&255,S>>8&255,255&S]},xe.UINT24=Ge(3),me.ULONG=function(S){return[S>>24&255,S>>16&255,S>>8&255,255&S]},xe.ULONG=Ge(4),me.LONG=function(S){return[(S=2147483648<=S?-(4294967296-S):S)>>24&255,S>>16&255,S>>8&255,255&S]},xe.LONG=Ge(4),me.FIXED=me.ULONG,xe.FIXED=xe.ULONG,me.FWORD=me.SHORT,xe.FWORD=xe.SHORT,me.UFWORD=me.USHORT,xe.UFWORD=xe.USHORT,me.LONGDATETIME=function(S){return[0,0,0,0,S>>24&255,S>>16&255,S>>8&255,255&S]},xe.LONGDATETIME=Ge(8),me.TAG=function(S){return k.argument(4===S.length,"Tag should be exactly 4 ASCII characters."),[S.charCodeAt(0),S.charCodeAt(1),S.charCodeAt(2),S.charCodeAt(3)]},xe.TAG=Ge(4),me.Card8=me.BYTE,xe.Card8=xe.BYTE,me.Card16=me.USHORT,xe.Card16=xe.USHORT,me.OffSize=me.BYTE,xe.OffSize=xe.BYTE,me.SID=me.USHORT,xe.SID=xe.USHORT,me.NUMBER=function(S){return-107<=S&&S<=107?[S+139]:108<=S&&S<=1131?[247+((S-=108)>>8),255&S]:-1131<=S&&S<=-108?[251+((S=-S-108)>>8),255&S]:-32768<=S&&S<=32767?me.NUMBER16(S):me.NUMBER32(S)},xe.NUMBER=function(S){return me.NUMBER(S).length},me.NUMBER16=function(S){return[28,S>>8&255,255&S]},xe.NUMBER16=Ge(3),me.NUMBER32=function(S){return[29,S>>24&255,S>>16&255,S>>8&255,255&S]},xe.NUMBER32=Ge(5),me.REAL=function(S){for(var G=S.toString(),J=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(G),te=(J&&(J=parseFloat("1e"+((J[2]?+J[2]:0)+J[1].length)),G=(Math.round(S*J)/J).toString()),""),pe=0,Oe=G.length;pe<Oe;pe+=1){var Le=G[pe];te+="e"===Le?"-"===G[++pe]?"c":"b":"."===Le?"a":"-"===Le?"e":Le}for(var nt=[30],_t=0,bt=(te+=1&te.length?"f":"ff").length;_t<bt;_t+=2)nt.push(parseInt(te.substr(_t,2),16));return nt},xe.REAL=function(S){return me.REAL(S).length},me.NAME=me.CHARARRAY,xe.NAME=xe.CHARARRAY,me.STRING=me.CHARARRAY,xe.STRING=xe.CHARARRAY,ee.UTF8=function(S,G,J){for(var te=[],pe=J,Oe=0;Oe<pe;Oe++,G+=1)te[Oe]=S.getUint8(G);return String.fromCharCode.apply(null,te)},ee.UTF16=function(S,G,J){for(var te=[],pe=J/2,Oe=0;Oe<pe;Oe++,G+=2)te[Oe]=S.getUint16(G);return String.fromCharCode.apply(null,te)},me.UTF16=function(S){for(var G=[],J=0;J<S.length;J+=1){var te=S.charCodeAt(J);G[G.length]=te>>8&255,G[G.length]=255&te}return G},xe.UTF16=function(S){return 2*S.length};var Ye,mt={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"},We=(ee.MACSTRING=function(S,G,J,te){var pe=mt[te];if(void 0!==pe){for(var Oe="",Le=0;Le<J;Le++){var nt=S.getUint8(G+Le);Oe+=nt<=127?String.fromCharCode(nt):pe[127&nt]}return Oe}},"function"==typeof WeakMap&&new WeakMap);function ct(S){return-128<=S&&S<=127}me.MACSTRING=function(S,G){var J=function(Le){if(!Ye)for(var nt in Ye={},mt)Ye[nt]=new String(nt);var _t=Ye[Le];if(void 0!==_t){if(We){var bt=We.get(_t);if(void 0!==bt)return bt}var Ht=mt[Le];if(void 0!==Ht){for(var we={},ae=0;ae<Ht.length;ae++)we[Ht.charCodeAt(ae)]=ae+128;return We&&We.set(_t,we),we}}}(G);if(void 0!==J){for(var te=[],pe=0;pe<S.length;pe++){var Oe=S.charCodeAt(pe);if(128<=Oe&&void 0===(Oe=J[Oe]))return;te[pe]=Oe}return te}},xe.MACSTRING=function(S,G){return void 0!==(S=me.MACSTRING(S,G))?S.length:0},me.VARDELTAS=function(S){for(var te=0,G=[];te<S.length;){var J=S[te];te=(0===J?function(pe,Oe,Le){for(var nt=0,_t=pe.length;Oe<_t&&nt<64&&0===pe[Oe];)++Oe,++nt;return Le.push(128|nt-1),Oe}:-128<=J&&J<=127?function(pe,Oe,Le){for(var nt=0,_t=pe.length,bt=Oe;bt<_t&&nt<64;){var Ht=pe[bt];if(!ct(Ht)||0===Ht&&bt+1<_t&&0===pe[bt+1])break;++bt,++nt}Le.push(nt-1);for(var we=Oe;we<bt;++we)Le.push(pe[we]+256&255);return bt}:function(pe,Oe,Le){for(var nt=0,_t=pe.length,bt=Oe;bt<_t&&nt<64;){var Ht=pe[bt];if(0===Ht||ct(Ht)&&bt+1<_t&&ct(pe[bt+1]))break;++bt,++nt}Le.push(64|nt-1);for(var we=Oe;we<bt;++we){var ae=pe[we];Le.push(ae+65536>>8&255,ae+256&255)}return bt})(S,te,G)}return G},me.INDEX=function(S){for(var G=1,J=[G],te=[],pe=0;pe<S.length;pe+=1){var Oe=me.OBJECT(S[pe]);Array.prototype.push.apply(te,Oe),J.push(G+=Oe.length)}if(0===te.length)return[0,0];for(var Le=[],nt=1+Math.floor(Math.log(G)/Math.log(2))/8|0,_t=[void 0,me.BYTE,me.USHORT,me.UINT24,me.ULONG][nt],bt=0;bt<J.length;bt+=1){var Ht=_t(J[bt]);Array.prototype.push.apply(Le,Ht)}return Array.prototype.concat(me.Card16(S.length),me.OffSize(nt),Le,te)},xe.INDEX=function(S){return me.INDEX(S).length},me.DICT=function(S){for(var G=[],J=Object.keys(S),te=J.length,pe=0;pe<te;pe+=1){var Oe=parseInt(J[pe],0),Le=S[Oe];G=(G=G.concat(me.OPERAND(Le.value,Le.type))).concat(me.OPERATOR(Oe))}return G},xe.DICT=function(S){return me.DICT(S).length},me.OPERATOR=function(S){return S<1200?[S]:[12,S-1200]},me.OPERAND=function(S,G){var J=[];if(Array.isArray(G))for(var te=0;te<G.length;te+=1)k.argument(S.length===G.length,"Not enough arguments given for type"+G),J=J.concat(me.OPERAND(S[te],G[te]));else if("SID"===G)J=J.concat(me.NUMBER(S));else if("offset"===G)J=J.concat(me.NUMBER32(S));else if("number"===G)J=J.concat(me.NUMBER(S));else{if("real"!==G)throw new Error("Unknown operand type "+G);J=J.concat(me.REAL(S))}return J},me.OP=me.BYTE,xe.OP=xe.BYTE;var dt="function"==typeof WeakMap&&new WeakMap;function Ve(S,G,J){for(var te=0;te<G.length;te+=1){var pe=G[te];this[pe.name]=pe.value}if(this.tableName=S,this.fields=G,J)for(var Oe=Object.keys(J),Le=0;Le<Oe.length;Le+=1){var nt=Oe[Le];void 0!==this[nt]&&(this[nt]=J[nt])}}function Qe(S,G,J){void 0===J&&(J=G.length);var te=new Array(G.length+1);te[0]={name:S+"Count",type:"USHORT",value:J};for(var pe=0;pe<G.length;pe++)te[pe+1]={name:S+pe,type:"USHORT",value:G[pe]};return te}function Ze(S,G,J){var te=G.length,pe=new Array(te+1);pe[0]={name:S+"Count",type:"USHORT",value:te};for(var Oe=0;Oe<te;Oe++)pe[Oe+1]={name:S+Oe,type:"TABLE",value:J(G[Oe],Oe)};return pe}function at(S,G,J){var te=G.length,pe=[];pe[0]={name:S+"Count",type:"USHORT",value:te};for(var Oe=0;Oe<te;Oe++)pe=pe.concat(J(G[Oe],Oe));return pe}function et(S){1===S.format?Ve.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Qe("glyph",S.glyphs))):k.assert(!1,"Can't create coverage table format 2 yet.")}function st(S){Ve.call(this,"scriptListTable",at("scriptRecord",S,function(G,J){var te=G.script,pe=te.defaultLangSys;return k.assert(!!pe,"Unable to write GSUB: script "+G.tag+" has no default language system."),[{name:"scriptTag"+J,type:"TAG",value:G.tag},{name:"script"+J,type:"TABLE",value:new Ve("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Ve("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:pe.reqFeatureIndex}].concat(Qe("featureIndex",pe.featureIndexes)))}].concat(at("langSys",te.langSysRecords,function(Oe,Le){var nt=Oe.langSys;return[{name:"langSysTag"+Le,type:"TAG",value:Oe.tag},{name:"langSys"+Le,type:"TABLE",value:new Ve("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:nt.reqFeatureIndex}].concat(Qe("featureIndex",nt.featureIndexes)))}]})))}]}))}function Dt(S){Ve.call(this,"featureListTable",at("featureRecord",S,function(G,J){var te=G.feature;return[{name:"featureTag"+J,type:"TAG",value:G.tag},{name:"feature"+J,type:"TABLE",value:new Ve("featureTable",[{name:"featureParams",type:"USHORT",value:te.featureParams}].concat(Qe("lookupListIndex",te.lookupListIndexes)))}]}))}function on(S,G){Ve.call(this,"lookupListTable",Ze("lookup",S,function(J){var te=G[J.lookupType];return k.assert(!!te,"Unable to write GSUB lookup type "+J.lookupType+" tables."),new Ve("lookupTable",[{name:"lookupType",type:"USHORT",value:J.lookupType},{name:"lookupFlag",type:"USHORT",value:J.lookupFlag}].concat(Ze("subtable",J.subtables,te)))}))}me.CHARSTRING=function(S){if(dt){var G=dt.get(S);if(void 0!==G)return G}for(var Oe=[],J=S.length,te=0;te<J;te+=1){var pe=S[te];Oe=Oe.concat(me[pe.type](pe.value))}return dt&&dt.set(S,Oe),Oe},xe.CHARSTRING=function(S){return me.CHARSTRING(S).length},me.OBJECT=function(S){var G=me[S.type];return k.argument(void 0!==G,"No encoding function for type "+S.type),G(S.value)},xe.OBJECT=function(S){var G=xe[S.type];return k.argument(void 0!==G,"No sizeOf function for type "+S.type),G(S.value)},me.TABLE=function(S){for(var G=[],J=S.fields.length,te=[],pe=[],Oe=0;Oe<J;Oe+=1){var Le=S.fields[Oe],nt=(k.argument(void 0!==(_t=me[Le.type]),"No encoding function for field type "+Le.type+" ("+Le.name+")"),S[Le.name]),_t=_t(nt=void 0===nt?Le.value:nt);"TABLE"===Le.type?(pe.push(G.length),G=G.concat([0,0]),te.push(_t)):G=G.concat(_t)}for(var bt=0;bt<te.length;bt+=1){var Ht=pe[bt],we=G.length;k.argument(we<65536,"Table "+S.tableName+" too big."),G[Ht]=we>>8,G[Ht+1]=255&we,G=G.concat(te[bt])}return G},xe.TABLE=function(S){for(var G=0,J=S.fields.length,te=0;te<J;te+=1){var pe=S.fields[te],Oe=xe[pe.type],Le=(k.argument(void 0!==Oe,"No sizeOf function for field type "+pe.type+" ("+pe.name+")"),S[pe.name]);G+=Oe(Le=void 0===Le?pe.value:Le),"TABLE"===pe.type&&(G+=2)}return G},me.RECORD=me.TABLE,xe.RECORD=xe.TABLE,me.LITERAL=function(S){return S},xe.LITERAL=function(S){return S.length},Ve.prototype.encode=function(){return me.TABLE(this)},Ve.prototype.sizeOf=function(){return xe.TABLE(this)};var Lt={Table:Ve,Record:Ve,Coverage:(et.prototype=Object.create(Ve.prototype)).constructor=et,ScriptList:(st.prototype=Object.create(Ve.prototype)).constructor=st,FeatureList:(Dt.prototype=Object.create(Ve.prototype)).constructor=Dt,LookupList:(on.prototype=Object.create(Ve.prototype)).constructor=on,ushortList:Qe,tableList:Ze,recordList:at};function an(S,G){return S.getUint8(G)}function Bt(S,G){return S.getUint16(G,!1)}function gn(S,G){return S.getUint32(G,!1)}function Yt(S,G){return S.getInt16(G,!1)+S.getUint16(G+2,!1)/65535}var hn={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function At(S,G){this.data=S,this.offset=G,this.relativeOffset=0}At.prototype.parseByte=function(){var S=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,S},At.prototype.parseChar=function(){var S=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,S},At.prototype.parseCard8=At.prototype.parseByte,At.prototype.parseCard16=At.prototype.parseUShort=function(){var S=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,S},At.prototype.parseSID=At.prototype.parseUShort,At.prototype.parseOffset16=At.prototype.parseUShort,At.prototype.parseShort=function(){var S=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,S},At.prototype.parseF2Dot14=function(){var S=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,S},At.prototype.parseOffset32=At.prototype.parseULong=function(){var S=gn(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,S},At.prototype.parseFixed=function(){var S=Yt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,S},At.prototype.parseString=function(S){var G=this.data,J=this.offset+this.relativeOffset,te="";this.relativeOffset+=S;for(var pe=0;pe<S;pe++)te+=String.fromCharCode(G.getUint8(J+pe));return te},At.prototype.parseTag=function(){return this.parseString(4)},At.prototype.parseLongDateTime=function(){var S=gn(this.data,this.offset+this.relativeOffset+4);return S-=2082844800,this.relativeOffset+=8,S},At.prototype.parseVersion=function(S){var G=Bt(this.data,this.offset+this.relativeOffset),J=Bt(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,G+J/(S=void 0===S?4096:S)/10},At.prototype.skip=function(S,G){this.relativeOffset+=hn[S]*(G=void 0===G?1:G)},At.prototype.parseULongList=function(S){void 0===S&&(S=this.parseULong());for(var G=new Array(S),J=this.data,te=this.offset+this.relativeOffset,pe=0;pe<S;pe++)G[pe]=J.getUint32(te),te+=4;return this.relativeOffset+=4*S,G},At.prototype.parseOffset16List=At.prototype.parseUShortList=function(S){void 0===S&&(S=this.parseUShort());for(var G=new Array(S),J=this.data,te=this.offset+this.relativeOffset,pe=0;pe<S;pe++)G[pe]=J.getUint16(te),te+=2;return this.relativeOffset+=2*S,G},At.prototype.parseShortList=function(S){for(var G=new Array(S),J=this.data,te=this.offset+this.relativeOffset,pe=0;pe<S;pe++)G[pe]=J.getInt16(te),te+=2;return this.relativeOffset+=2*S,G},At.prototype.parseByteList=function(S){for(var G=new Array(S),J=this.data,te=this.offset+this.relativeOffset,pe=0;pe<S;pe++)G[pe]=J.getUint8(te++);return this.relativeOffset+=S,G},At.prototype.parseList=function(S,G){G||(G=S,S=this.parseUShort());for(var J=new Array(S),te=0;te<S;te++)J[te]=G.call(this);return J},At.prototype.parseList32=function(S,G){G||(G=S,S=this.parseULong());for(var J=new Array(S),te=0;te<S;te++)J[te]=G.call(this);return J},At.prototype.parseRecordList=function(S,G){G||(G=S,S=this.parseUShort());for(var J=new Array(S),te=Object.keys(G),pe=0;pe<S;pe++){for(var Oe={},Le=0;Le<te.length;Le++){var nt=te[Le];Oe[nt]=G[nt].call(this)}J[pe]=Oe}return J},At.prototype.parseRecordList32=function(S,G){G||(G=S,S=this.parseULong());for(var J=new Array(S),te=Object.keys(G),pe=0;pe<S;pe++){for(var Oe={},Le=0;Le<te.length;Le++){var nt=te[Le];Oe[nt]=G[nt].call(this)}J[pe]=Oe}return J},At.prototype.parseStruct=function(S){if("function"==typeof S)return S.call(this);for(var G=Object.keys(S),J={},te=0;te<G.length;te++){var pe=G[te];J[pe]=S[pe].call(this)}return J},At.prototype.parseValueRecord=function(S){var G;if(0!==(S=void 0===S?this.parseUShort():S))return G={},1&S&&(G.xPlacement=this.parseShort()),2&S&&(G.yPlacement=this.parseShort()),4&S&&(G.xAdvance=this.parseShort()),8&S&&(G.yAdvance=this.parseShort()),16&S&&(G.xPlaDevice=void 0,this.parseShort()),32&S&&(G.yPlaDevice=void 0,this.parseShort()),64&S&&(G.xAdvDevice=void 0,this.parseShort()),128&S&&(G.yAdvDevice=void 0,this.parseShort()),G},At.prototype.parseValueRecordList=function(){for(var S=this.parseUShort(),G=this.parseUShort(),J=new Array(G),te=0;te<G;te++)J[te]=this.parseValueRecord(S);return J},At.prototype.parsePointer=function(S){var G=this.parseOffset16();if(0<G)return new At(this.data,this.offset+G).parseStruct(S)},At.prototype.parsePointer32=function(S){var G=this.parseOffset32();if(0<G)return new At(this.data,this.offset+G).parseStruct(S)},At.prototype.parseListOfLists=function(S){for(var G=this.parseOffset16List(),J=G.length,te=this.relativeOffset,pe=new Array(J),Oe=0;Oe<J;Oe++){var Le=G[Oe];if(0===Le)pe[Oe]=void 0;else if(this.relativeOffset=Le,S){for(var nt=this.parseOffset16List(),_t=new Array(nt.length),bt=0;bt<nt.length;bt++)this.relativeOffset=Le+nt[bt],_t[bt]=S.call(this);pe[Oe]=_t}else pe[Oe]=this.parseUShortList()}return this.relativeOffset=te,pe},At.prototype.parseCoverage=function(){var S=this.offset+this.relativeOffset,G=this.parseUShort(),J=this.parseUShort();if(1===G)return{format:1,glyphs:this.parseUShortList(J)};if(2!==G)throw new Error("0x"+S.toString(16)+": Coverage format must be 1 or 2.");for(var te=new Array(J),pe=0;pe<J;pe++)te[pe]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:te}},At.prototype.parseClassDef=function(){var S=this.offset+this.relativeOffset,G=this.parseUShort();if(1===G)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===G)return{format:2,ranges:this.parseRecordList({start:At.uShort,end:At.uShort,classId:At.uShort})};throw new Error("0x"+S.toString(16)+": ClassDef format must be 1 or 2.")},At.list=function(S,G){return function(){return this.parseList(S,G)}},At.list32=function(S,G){return function(){return this.parseList32(S,G)}},At.recordList=function(S,G){return function(){return this.parseRecordList(S,G)}},At.recordList32=function(S,G){return function(){return this.parseRecordList32(S,G)}},At.pointer=function(S){return function(){return this.parsePointer(S)}},At.pointer32=function(S){return function(){return this.parsePointer32(S)}},At.tag=At.prototype.parseTag,At.byte=At.prototype.parseByte,At.uShort=At.offset16=At.prototype.parseUShort,At.uShortList=At.prototype.parseUShortList,At.uLong=At.offset32=At.prototype.parseULong,At.uLongList=At.prototype.parseULongList,At.struct=At.prototype.parseStruct,At.coverage=At.prototype.parseCoverage,At.classDef=At.prototype.parseClassDef;var sn={reserved:At.uShort,reqFeatureIndex:At.uShort,featureIndexes:At.uShortList},$t=(At.prototype.parseScriptList=function(){return this.parsePointer(At.recordList({tag:At.tag,script:At.pointer({defaultLangSys:At.pointer(sn),langSysRecords:At.recordList({tag:At.tag,langSys:At.pointer(sn)})})}))||[]},At.prototype.parseFeatureList=function(){return this.parsePointer(At.recordList({tag:At.tag,feature:At.pointer({featureParams:At.offset16,lookupListIndexes:At.uShortList})}))||[]},At.prototype.parseLookupList=function(S){return this.parsePointer(At.list(At.pointer(function(){var G=this.parseUShort(),J=(k.argument(1<=G&&G<=9,"GPOS/GSUB lookup type "+G+" unknown."),this.parseUShort()),te=16&J;return{lookupType:G,lookupFlag:J,subtables:this.parseList(At.pointer(S[G])),markFilteringSet:te?this.parseUShort():void 0}})))||[]},At.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var S=this.parseUShort(),G=this.parseUShort();return k.argument(1===S&&G<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:At.offset32,featureTableSubstitutionOffset:At.offset32})})||[]},{getByte:an,getCard8:an,getUShort:Bt,getCard16:Bt,getShort:function(S,G){return S.getInt16(G,!1)},getULong:gn,getFixed:Yt,getTag:function(S,G){for(var J="",te=G;te<G+4;te+=1)J+=String.fromCharCode(S.getInt8(te));return J},getOffset:function(S,G,J){for(var te=0,pe=0;pe<J;pe+=1)te=(te<<=8)+S.getUint8(G+pe);return te},getBytes:function(S,G,J){for(var te=[],pe=G;pe<J;pe+=1)te.push(S.getUint8(pe));return te},bytesToString:function(S){for(var G="",J=0;J<S.length;J+=1)G+=String.fromCharCode(S[J]);return G},Parser:At}),ze_parse=function(S,G){for(var J={},te=(J.version=$t.getUShort(S,G),k.argument(0===J.version,"cmap table version should be 0."),J.numTables=$t.getUShort(S,G+2),-1),pe=J.numTables-1;0<=pe;--pe){var Oe=$t.getUShort(S,G+4+8*pe),Le=$t.getUShort(S,G+4+8*pe+2);if(3===Oe&&(0===Le||1===Le||10===Le)||0===Oe&&(0===Le||1===Le||2===Le||3===Le||4===Le)){te=$t.getULong(S,G+4+8*pe+4);break}}if(-1===te)throw new Error("No valid cmap sub-tables found.");var nt=new $t.Parser(S,G+te);if(J.format=nt.parseUShort(),12===J.format){var _t,bt=J,Ht=nt;Ht.parseUShort(),bt.length=Ht.parseULong(),bt.language=Ht.parseULong(),bt.groupCount=_t=Ht.parseULong(),bt.glyphIndexMap={};for(var we=0;we<_t;we+=1)for(var ae=Ht.parseULong(),Ee=Ht.parseULong(),ve=Ht.parseULong(),He=ae;He<=Ee;He+=1)bt.glyphIndexMap[He]=ve,ve++}else{if(4!==J.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+J.format+").");var kt=J,Gt=S,en=G,Bn=te;kt.length=nt.parseUShort(),kt.language=nt.parseUShort(),kt.segCount=Nn=nt.parseUShort()>>1,nt.skip("uShort",3),kt.glyphIndexMap={};for(var Nn,Xn=new $t.Parser(Gt,en+Bn+14),Kn=new $t.Parser(Gt,en+Bn+16+2*Nn),tr=new $t.Parser(Gt,en+Bn+16+4*Nn),br=new $t.Parser(Gt,en+Bn+16+6*Nn),Kr=en+Bn+16+8*Nn,to=0;to<Nn-1;to+=1)for(var io=void 0,qr=Xn.parseUShort(),fo=Kn.parseUShort(),Ar=tr.parseShort(),Ir=br.parseUShort(),$n=fo;$n<=qr;$n+=1)0!==Ir?(Kr=(Kr=br.offset+br.relativeOffset-2)+Ir+2*($n-fo),0!==(io=$t.getUShort(Gt,Kr))&&(io=io+Ar&65535)):io=$n+Ar&65535,kt.glyphIndexMap[$n]=io}return J},ze_make=function(S){for(var G=!0,J=S.length-1;0<J;--J)if(65535<S.get(J).unicode){console.log("Adding CMAP format 12 (needed!)"),G=!1;break}var te,pe,Oe=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:G?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:G?12:20}],Le=(Oe=(Oe=G?Oe:Oe.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Lt.Table("cmap",Oe));for(Le.segments=[],J=0;J<S.length;J+=1){for(var nt=S.get(J),_t=0;_t<nt.unicodes.length;_t+=1)Le.segments.push({end:te=nt.unicodes[_t],start:te,delta:-(te-(pe=J)),offset:0,glyphIndex:pe});Le.segments=Le.segments.sort(function(en,Bn){return en.start-Bn.start})}Le.segments.push({end:65535,start:65535,delta:1,offset:0});var bt=Le.segments.length,Ht=0,we=[],ae=[],Ee=[],ve=[],He=[],kt=[];for(J=0;J<bt;J+=1){var Gt=Le.segments[J];Gt.end<=65535&&Gt.start<=65535?(we=we.concat({name:"end_"+J,type:"USHORT",value:Gt.end}),ae=ae.concat({name:"start_"+J,type:"USHORT",value:Gt.start}),Ee=Ee.concat({name:"idDelta_"+J,type:"SHORT",value:Gt.delta}),ve=ve.concat({name:"idRangeOffset_"+J,type:"USHORT",value:Gt.offset}),void 0!==Gt.glyphId&&(He=He.concat({name:"glyph_"+J,type:"USHORT",value:Gt.glyphId}))):Ht+=1,G||void 0===Gt.glyphIndex||(kt=(kt=(kt=kt.concat({name:"cmap12Start_"+J,type:"ULONG",value:Gt.start})).concat({name:"cmap12End_"+J,type:"ULONG",value:Gt.end})).concat({name:"cmap12Glyph_"+J,type:"ULONG",value:Gt.glyphIndex}))}return Le.segCountX2=2*(bt-Ht),Le.searchRange=2*Math.pow(2,Math.floor(Math.log(bt-Ht)/Math.log(2))),Le.entrySelector=Math.log(Le.searchRange/2)/Math.log(2),Le.rangeShift=Le.segCountX2-Le.searchRange,Le.fields=Le.fields.concat(we),Le.fields.push({name:"reservedPad",type:"USHORT",value:0}),Le.fields=Le.fields.concat(ae),Le.fields=Le.fields.concat(Ee),Le.fields=Le.fields.concat(ve),Le.fields=Le.fields.concat(He),Le.cmap4Length=14+2*we.length+2+2*ae.length+2*Ee.length+2*ve.length+2*He.length,G||(Oe=16+4*kt.length,Le.cmap12Offset=20+Le.cmap4Length,Le.fields=Le.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:Oe},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:kt.length/3}]),Le.fields=Le.fields.concat(kt)),Le},$e=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Pe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],qe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Et=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ft(S){this.font=S}function Xt(S){this.cmap=S}function cn(S,G){this.encoding=S,this.charset=G}function Ut(S){switch(S.version){case 1:this.names=Et.slice();break;case 2:this.names=new Array(S.numberOfGlyphs);for(var G=0;G<S.numberOfGlyphs;G++)this.names[G]=S.glyphNameIndex[G]<Et.length?Et[S.glyphNameIndex[G]]:S.names[S.glyphNameIndex[G]-Et.length];break;case 2.5:this.names=new Array(S.numberOfGlyphs);for(var J=0;J<S.numberOfGlyphs;J++)this.names[J]=Et[J+S.glyphNameIndex[J]];break;default:this.names=[]}}Ft.prototype.charToGlyphIndex=function(S){var G=S.codePointAt(0),J=this.font.glyphs;if(J)for(var te=0;te<J.length;te+=1)for(var pe=J.get(te),Oe=0;Oe<pe.unicodes.length;Oe+=1)if(pe.unicodes[Oe]===G)return te;return null},Xt.prototype.charToGlyphIndex=function(S){return this.cmap.glyphIndexMap[S.codePointAt(0)]||0},cn.prototype.charToGlyphIndex=function(S){return S=S.codePointAt(0),this.charset.indexOf(S=this.encoding[S])},Ut.prototype.nameToGlyphIndex=function(S){return this.names.indexOf(S)},Ut.prototype.glyphIndexToName=function(S){return this.names[S]};var Vt_line=function(S,G,J,te,pe){S.beginPath(),S.moveTo(G,J),S.lineTo(te,pe),S.stroke()};function Qt(S){this.bindConstructorValues(S)}function tt(S,G,J){Object.defineProperty(S,G,{get:function(){return S[J]},set:function(te){S[J]=te},enumerable:!0,configurable:!0})}function ot(S,G){if(this.font=S,this.glyphs={},Array.isArray(G))for(var J=0;J<G.length;J++)this.glyphs[J]=G[J];this.length=G&&G.length||0}Qt.prototype.bindConstructorValues=function(S){var G;this.index=S.index||0,this.name=S.name||null,this.unicode=S.unicode||void 0,this.unicodes=S.unicodes||void 0!==S.unicode?[S.unicode]:[],S.xMin&&(this.xMin=S.xMin),S.yMin&&(this.yMin=S.yMin),S.xMax&&(this.xMax=S.xMax),S.yMax&&(this.yMax=S.yMax),S.advanceWidth&&(this.advanceWidth=S.advanceWidth),Object.defineProperty(this,"path",(G=(S=S.path)||new ie,{configurable:!0,get:function(){return G="function"==typeof G?G():G},set:function(J){G=J}}))},Qt.prototype.addUnicode=function(S){0===this.unicodes.length&&(this.unicode=S),this.unicodes.push(S)},Qt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Qt.prototype.getPath=function(S,G,J,te,pe){S=void 0!==S?S:0,G=void 0!==G?G:0,J=void 0!==J?J:72;for(var Oe,Le,nt=(te=te||{}).xScale,_t=te.yScale,bt=((Oe=te.hinting&&pe&&pe.hinting?this.path&&pe.hinting.exec(this,J):Oe)?(Le=pe.hinting.getCommands(Oe),S=Math.round(S),G=Math.round(G),nt=_t=1):(Le=this.path.commands,te=1/this.path.unitsPerEm*J,void 0===nt&&(nt=te),void 0===_t&&(_t=te)),new ie),Ht=0;Ht<Le.length;Ht+=1){var we=Le[Ht];"M"===we.type?bt.moveTo(S+we.x*nt,G+-we.y*_t):"L"===we.type?bt.lineTo(S+we.x*nt,G+-we.y*_t):"Q"===we.type?bt.quadraticCurveTo(S+we.x1*nt,G+-we.y1*_t,S+we.x*nt,G+-we.y*_t):"C"===we.type?bt.curveTo(S+we.x1*nt,G+-we.y1*_t,S+we.x2*nt,G+-we.y2*_t,S+we.x*nt,G+-we.y*_t):"Z"===we.type&&bt.closePath()}return bt},Qt.prototype.getContours=function(){if(void 0===this.points)return[];for(var S=[],G=[],J=0;J<this.points.length;J+=1){var te=this.points[J];G.push(te),te.lastPointOfContour&&(S.push(G),G=[])}return k.argument(0===G.length,"There are still points left in the current contour."),S},Qt.prototype.getMetrics=function(){for(var S=this.path.commands,G=[],J=[],te=0;te<S.length;te+=1){var pe=S[te];"Z"!==pe.type&&(G.push(pe.x),J.push(pe.y)),"Q"!==pe.type&&"C"!==pe.type||(G.push(pe.x1),J.push(pe.y1)),"C"===pe.type&&(G.push(pe.x2),J.push(pe.y2))}var Oe={xMin:Math.min.apply(null,G),yMin:Math.min.apply(null,J),xMax:Math.max.apply(null,G),yMax:Math.max.apply(null,J),leftSideBearing:this.leftSideBearing};return isFinite(Oe.xMin)||(Oe.xMin=0),isFinite(Oe.xMax)||(Oe.xMax=this.advanceWidth),isFinite(Oe.yMin)||(Oe.yMin=0),isFinite(Oe.yMax)||(Oe.yMax=0),Oe.rightSideBearing=this.advanceWidth-Oe.leftSideBearing-(Oe.xMax-Oe.xMin),Oe},Qt.prototype.draw=function(S,G,J,te,pe){this.getPath(G,J,te,pe).draw(S)},Qt.prototype.drawPoints=function(S,G,J,te){function pe(Ht,we,ae,Ee){var ve=2*Math.PI;S.beginPath();for(var He=0;He<Ht.length;He+=1)S.moveTo(we+Ht[He].x*Ee,ae+Ht[He].y*Ee),S.arc(we+Ht[He].x*Ee,ae+Ht[He].y*Ee,2,0,ve,!1);S.closePath(),S.fill()}G=void 0!==G?G:0,J=void 0!==J?J:0,te=1/this.path.unitsPerEm*(te=void 0!==te?te:24);for(var Oe=[],Le=[],nt=this.path,_t=0;_t<nt.commands.length;_t+=1){var bt=nt.commands[_t];void 0!==bt.x&&Oe.push({x:bt.x,y:-bt.y}),void 0!==bt.x1&&Le.push({x:bt.x1,y:-bt.y1}),void 0!==bt.x2&&Le.push({x:bt.x2,y:-bt.y2})}S.fillStyle="blue",pe(Oe,G,J,te),S.fillStyle="red",pe(Le,G,J,te)},Qt.prototype.drawMetrics=function(S,G,J,te){G=void 0!==G?G:0,J=void 0!==J?J:0,te=1/this.path.unitsPerEm*(te=void 0!==te?te:24),S.lineWidth=1,S.strokeStyle="black",Vt_line(S,G,-1e4,G,1e4),Vt_line(S,-1e4,J,1e4,J);var pe=this.xMin||0,Oe=this.yMin||0,Le=this.xMax||0,nt=this.yMax||0,_t=this.advanceWidth||0;S.strokeStyle="blue",Vt_line(S,G+pe*te,-1e4,G+pe*te,1e4),Vt_line(S,G+Le*te,-1e4,G+Le*te,1e4),Vt_line(S,-1e4,J+-Oe*te,1e4,J+-Oe*te),Vt_line(S,-1e4,J+-nt*te,1e4,J+-nt*te),S.strokeStyle="green",Vt_line(S,G+_t*te,-1e4,G+_t*te,1e4)},ot.prototype.get=function(S){return"function"==typeof this.glyphs[S]&&(this.glyphs[S]=this.glyphs[S]()),this.glyphs[S]},ot.prototype.push=function(S,G){this.glyphs[S]=G,this.length++};var Ct={GlyphSet:ot,glyphLoader:function(S,G){return new Qt({index:G,font:S})},ttfGlyphLoader:function(S,G,J,te,pe,Oe){return function(){var Le=new Qt({index:G,font:S});return Le.path=function(){J(Le,te,pe);var nt=Oe(S.glyphs,Le);return nt.unitsPerEm=S.unitsPerEm,nt},tt(Le,"xMin","_xMin"),tt(Le,"xMax","_xMax"),tt(Le,"yMin","_yMin"),tt(Le,"yMax","_yMax"),Le}},cffGlyphLoader:function(S,G,J,te){return function(){var pe=new Qt({index:G,font:S});return pe.path=function(){var Oe=J(S,pe,te);return Oe.unitsPerEm=S.unitsPerEm,Oe},pe}}};function vt(S){return S.length<1240?107:S.length<33900?1131:32768}function Mt(S,G,J){var te,pe=[],Oe=[],Le=$t.getCard16(S,G);if(0!==Le){for(var nt=$t.getByte(S,G+2),_t=G+(Le+1)*nt+2,bt=G+3,Ht=0;Ht<Le+1;Ht+=1)pe.push($t.getOffset(S,bt,nt)),bt+=nt;te=_t+pe[Le]}else te=G+2;for(var we=0;we<pe.length-1;we+=1){var ae=$t.getBytes(S,_t+pe[we],_t+pe[we+1]);J&&(ae=J(ae)),Oe.push(ae)}return{objects:Oe,startOffset:G,endOffset:te}}function ln(S,G){if(28===G)return S.parseByte()<<8|S.parseByte();if(29===G)return S.parseByte()<<24|S.parseByte()<<16|S.parseByte()<<8|S.parseByte();if(30===G){for(var J=S,te="",pe=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Oe=(Le=J.parseByte())>>4,Le=15&Le;if(15==Oe||(te+=pe[Oe],15==Le))break;te+=pe[Le]}return parseFloat(te)}if(32<=G&&G<=246)return G-139;if(247<=G&&G<=250)return 256*(G-247)+S.parseByte()+108;if(251<=G&&G<=254)return 256*-(G-251)-S.parseByte()-108;throw new Error("Invalid b0 "+G)}function gt(S,G,J){var te=new $t.Parser(S,G=void 0!==G?G:0),pe=[],Oe=[];for(J=void 0!==J?J:S.length;te.relativeOffset<J;){var Le=te.parseByte();Le<=21?(12===Le&&(Le=1200+te.parseByte()),pe.push([Le,Oe]),Oe=[]):Oe.push(ln(te,Le))}for(var nt=pe,_t={},bt=0;bt<nt.length;bt+=1){var ae,Ht=nt[bt][0],we=nt[bt][1];if(ae=1===we.length?we[0]:we,_t.hasOwnProperty(Ht)&&!isNaN(_t[Ht]))throw new Error("Object "+_t+" already has key "+Ht);_t[Ht]=ae}return _t}function St(S,G){return G<=390?$e[G]:S[G-391]}function zt(S,G,J){for(var te,pe={},Oe=0;Oe<G.length;Oe+=1){var Le=G[Oe];if(Array.isArray(Le.type)){var nt=[];nt.length=Le.type.length;for(var _t=0;_t<Le.type.length;_t++)void 0===(te=void 0!==S[Le.op]?S[Le.op][_t]:void 0)&&(te=void 0!==Le.value&&void 0!==Le.value[_t]?Le.value[_t]:null),"SID"===Le.type[_t]&&(te=St(J,te)),nt[_t]=te;pe[Le.name]=nt}else void 0===(te=S[Le.op])&&(te=void 0!==Le.value?Le.value:null),"SID"===Le.type&&(te=St(J,te)),pe[Le.name]=te}return pe}var Rt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],tn=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function fn(S,G,J,te){return zt(gt(S,G,J),tn,te)}function bn(S,G,J,te){for(var pe=[],Oe=0;Oe<J.length;Oe+=1){var Le,nt=((nt=te,Le=zt(gt(Le=new DataView(new Uint8Array(J[Oe]).buffer),0,Le.byteLength),Rt,nt))._subrs=[],Le._subrsBias=0,Le.private[0]),_t=Le.private[1];0!==nt&&0!==_t&&(nt=fn(S,_t+G,nt,te),Le._defaultWidthX=nt.defaultWidthX,Le._nominalWidthX=nt.nominalWidthX,0!==nt.subrs&&(_t=Mt(S,_t+nt.subrs+G),Le._subrs=_t.objects,Le._subrsBias=vt(Le._subrs)),Le._privateDict=nt),pe.push(Le)}return pe}function Tn(S,G,J){var te,pe,Oe,Le,nt,_t,bt,Ht,we,ae=new ie,Ee=[],ve=0,He=!1,kt=!1,Gt=0,en=0,Bn=(we=(S.isCIDFont?(nt=S.tables.cff.topDict._fdSelect[G.index],nt=S.tables.cff.topDict._fdArray[nt],_t=nt._subrs,bt=nt._subrsBias,Ht=nt._defaultWidthX,nt):(_t=S.tables.cff.topDict._subrs,bt=S.tables.cff.topDict._subrsBias,Ht=S.tables.cff.topDict._defaultWidthX,S.tables.cff.topDict))._nominalWidthX,Ht);function Nn(Kn,tr){kt&&ae.closePath(),ae.moveTo(Kn,tr),kt=!0}function Xn(){Ee.length%2==0||He||(Bn=Ee.shift()+we),ve+=Ee.length>>1,Ee.length=0,He=!0}return function Kn(tr){for(var br,Kr,to,io,qr,fo,Ar,Ir,$n,Br,$r,lo,kr=0;kr<tr.length;){var uo=tr[kr];switch(kr+=1,uo){case 1:case 3:case 18:case 23:Xn();break;case 4:1<Ee.length&&!He&&(Bn=Ee.shift()+we,He=!0),en+=Ee.pop(),Nn(Gt,en);break;case 5:for(;0<Ee.length;)Gt+=Ee.shift(),en+=Ee.shift(),ae.lineTo(Gt,en);break;case 6:for(;0<Ee.length&&(Gt+=Ee.shift(),ae.lineTo(Gt,en),0!==Ee.length);)en+=Ee.shift(),ae.lineTo(Gt,en);break;case 7:for(;0<Ee.length&&(en+=Ee.shift(),ae.lineTo(Gt,en),0!==Ee.length);)Gt+=Ee.shift(),ae.lineTo(Gt,en);break;case 8:for(;0<Ee.length;)te=Gt+Ee.shift(),pe=en+Ee.shift(),Oe=te+Ee.shift(),Le=pe+Ee.shift(),Gt=Oe+Ee.shift(),en=Le+Ee.shift(),ae.curveTo(te,pe,Oe,Le,Gt,en);break;case 10:qr=Ee.pop()+bt,(fo=_t[qr])&&Kn(fo);break;case 11:return;case 12:switch(uo=tr[kr],kr+=1,uo){case 35:te=Gt+Ee.shift(),pe=en+Ee.shift(),Oe=te+Ee.shift(),Le=pe+Ee.shift(),Ar=Oe+Ee.shift(),Ir=Le+Ee.shift(),$n=Ar+Ee.shift(),Br=Ir+Ee.shift(),$r=$n+Ee.shift(),lo=Br+Ee.shift(),Gt=$r+Ee.shift(),en=lo+Ee.shift(),Ee.shift(),ae.curveTo(te,pe,Oe,Le,Ar,Ir),ae.curveTo($n,Br,$r,lo,Gt,en);break;case 34:te=Gt+Ee.shift(),pe=en,Oe=te+Ee.shift(),Le=pe+Ee.shift(),Ar=Oe+Ee.shift(),Ir=Le,$n=Ar+Ee.shift(),Br=Le,$r=$n+Ee.shift(),lo=en,Gt=$r+Ee.shift(),ae.curveTo(te,pe,Oe,Le,Ar,Ir),ae.curveTo($n,Br,$r,lo,Gt,en);break;case 36:te=Gt+Ee.shift(),pe=en+Ee.shift(),Oe=te+Ee.shift(),Le=pe+Ee.shift(),Ar=Oe+Ee.shift(),Ir=Le,$n=Ar+Ee.shift(),Br=Le,$r=$n+Ee.shift(),lo=Br+Ee.shift(),Gt=$r+Ee.shift(),ae.curveTo(te,pe,Oe,Le,Ar,Ir),ae.curveTo($n,Br,$r,lo,Gt,en);break;case 37:te=Gt+Ee.shift(),pe=en+Ee.shift(),Oe=te+Ee.shift(),Le=pe+Ee.shift(),Ar=Oe+Ee.shift(),Ir=Le+Ee.shift(),$n=Ar+Ee.shift(),Br=Ir+Ee.shift(),$r=$n+Ee.shift(),lo=Br+Ee.shift(),Math.abs($r-Gt)>Math.abs(lo-en)?Gt=$r+Ee.shift():en=lo+Ee.shift(),ae.curveTo(te,pe,Oe,Le,Ar,Ir),ae.curveTo($n,Br,$r,lo,Gt,en);break;default:console.log("Glyph "+G.index+": unknown operator 1200"+uo),Ee.length=0}break;case 14:0<Ee.length&&!He&&(Bn=Ee.shift()+we,He=!0),kt&&(ae.closePath(),kt=!1);break;case 19:case 20:Xn(),kr+=ve+7>>3;break;case 21:2<Ee.length&&!He&&(Bn=Ee.shift()+we,He=!0),en+=Ee.pop(),Nn(Gt+=Ee.pop(),en);break;case 22:1<Ee.length&&!He&&(Bn=Ee.shift()+we,He=!0),Nn(Gt+=Ee.pop(),en);break;case 24:for(;2<Ee.length;)te=Gt+Ee.shift(),pe=en+Ee.shift(),Oe=te+Ee.shift(),Le=pe+Ee.shift(),Gt=Oe+Ee.shift(),en=Le+Ee.shift(),ae.curveTo(te,pe,Oe,Le,Gt,en);Gt+=Ee.shift(),en+=Ee.shift(),ae.lineTo(Gt,en);break;case 25:for(;6<Ee.length;)Gt+=Ee.shift(),en+=Ee.shift(),ae.lineTo(Gt,en);te=Gt+Ee.shift(),pe=en+Ee.shift(),Oe=te+Ee.shift(),Le=pe+Ee.shift(),Gt=Oe+Ee.shift(),en=Le+Ee.shift(),ae.curveTo(te,pe,Oe,Le,Gt,en);break;case 26:for(Ee.length%2&&(Gt+=Ee.shift());0<Ee.length;)te=Gt,pe=en+Ee.shift(),Oe=te+Ee.shift(),Le=pe+Ee.shift(),Gt=Oe,en=Le+Ee.shift(),ae.curveTo(te,pe,Oe,Le,Gt,en);break;case 27:for(Ee.length%2&&(en+=Ee.shift());0<Ee.length;)te=Gt+Ee.shift(),pe=en,Oe=te+Ee.shift(),Le=pe+Ee.shift(),Gt=Oe+Ee.shift(),ae.curveTo(te,pe,Oe,Le,Gt,en=Le);break;case 28:Ee.push(((br=tr[kr])<<24|(Kr=tr[kr+1])<<16)>>16),kr+=2;break;case 29:qr=Ee.pop()+S.gsubrsBias,(fo=S.gsubrs[qr])&&Kn(fo);break;case 30:for(;0<Ee.length&&(te=Gt,pe=en+Ee.shift(),Oe=te+Ee.shift(),Le=pe+Ee.shift(),Gt=Oe+Ee.shift(),en=Le+(1===Ee.length?Ee.shift():0),ae.curveTo(te,pe,Oe,Le,Gt,en),0!==Ee.length);)te=Gt+Ee.shift(),pe=en,Oe=te+Ee.shift(),Le=pe+Ee.shift(),en=Le+Ee.shift(),Gt=Oe+(1===Ee.length?Ee.shift():0),ae.curveTo(te,pe,Oe,Le,Gt,en);break;case 31:for(;0<Ee.length&&(te=Gt+Ee.shift(),pe=en,Oe=te+Ee.shift(),Le=pe+Ee.shift(),en=Le+Ee.shift(),Gt=Oe+(1===Ee.length?Ee.shift():0),ae.curveTo(te,pe,Oe,Le,Gt,en),0!==Ee.length);)te=Gt,pe=en+Ee.shift(),Oe=te+Ee.shift(),Le=pe+Ee.shift(),Gt=Oe+Ee.shift(),en=Le+(1===Ee.length?Ee.shift():0),ae.curveTo(te,pe,Oe,Le,Gt,en);break;default:uo<32?console.log("Glyph "+G.index+": unknown operator "+uo):uo<247?Ee.push(uo-139):uo<251?(br=tr[kr],kr+=1,Ee.push(256*(uo-247)+br+108)):uo<255?(br=tr[kr],kr+=1,Ee.push(256*-(uo-251)-br-108)):(br=tr[kr],Kr=tr[kr+1],to=tr[kr+2],io=tr[kr+3],kr+=4,Ee.push((br<<24|Kr<<16|to<<8|io)/65536))}}}(J),G.advanceWidth=Bn,ae}function An(S,G){var J,te=$e.indexOf(S);return 0<=te&&(J=te),0<=(te=G.indexOf(S))?J=te+$e.length:(J=$e.length+G.length,G.push(S)),J}function Ln(S,G,J){for(var te={},pe=0;pe<S.length;pe+=1){var Oe=S[pe],Le=G[Oe.name];void 0===Le||function nt(_t,bt){if(_t===bt)return 1;if(Array.isArray(_t)&&Array.isArray(bt)&&_t.length===bt.length){for(var Ht=0;Ht<_t.length;Ht+=1)if(!nt(_t[Ht],bt[Ht]))return;return 1}}(Le,Oe.value)||("SID"===Oe.type&&(Le=An(Le,J)),te[Oe.op]={name:Oe.name,type:Oe.type,value:Le})}return te}function jn(S,G){var J=new Lt.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return J.dict=Ln(Rt,S,G),J}function sr(S){var G=new Lt.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return G.topDicts=[{name:"topDict_0",type:"TABLE",value:S}],G}var be_parse=function(S,G,J){J.tables.cff={},(pe={}).formatMajor=$t.getCard8(nt=S,te=G),pe.formatMinor=$t.getCard8(nt,te+1),pe.size=$t.getCard8(nt,te+2),pe.offsetSize=$t.getCard8(nt,te+3),pe.startOffset=te,pe.endOffset=te+4;var nt=Mt(S,pe.endOffset,$t.bytesToString),te=Mt(S,nt.endOffset),pe=Mt(S,te.endOffset,$t.bytesToString);if(nt=Mt(S,pe.endOffset),J.gsubrs=nt.objects,J.gsubrsBias=vt(J.gsubrs),1!==(nt=bn(S,G,te.objects,pe.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+nt.length);if((J.tables.cff.topDict=te=nt[0])._privateDict&&(J.defaultWidthX=te._privateDict.defaultWidthX,J.nominalWidthX=te._privateDict.nominalWidthX),void 0!==te.ros[0]&&void 0!==te.ros[1]&&(J.isCIDFont=!0),J.isCIDFont){var Oe=te.fdSelect;if(0===(nt=te.fdArray)||0===Oe)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");nt=bn(S,G,Mt(S,nt+=G).objects,pe.objects),te._fdArray=nt,te._fdSelect=function(ae,Ee,ve,He){var kt,Gt=[],en=new $t.Parser(ae,Ee);if(0===(ae=en.parseCard8()))for(var Bn=0;Bn<ve;Bn++){if(He<=(kt=en.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+kt+" (FD count "+He+")");Gt.push(kt)}else{if(3!==ae)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+ae);var Nn,Xn=en.parseCard16(),Kn=en.parseCard16();if(0!==Kn)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Kn);for(var tr=0;tr<Xn;tr++){if(kt=en.parseCard8(),Nn=en.parseCard16(),He<=kt)throw new Error("CFF table CID Font FDSelect has bad FD index value "+kt+" (FD count "+He+")");if(ve<Nn)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Nn);for(;Kn<Nn;Kn++)Gt.push(kt);Kn=Nn}if(Nn!==ve)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Nn)}return Gt}(S,Oe+=G,J.numGlyphs,nt.length)}nt=fn(S,Oe=G+te.private[1],te.private[0],pe.objects);var Le=(J.defaultWidthX=nt.defaultWidthX,J.nominalWidthX=nt.nominalWidthX,0!==nt.subrs?(Oe=Mt(S,Oe+nt.subrs),J.subrs=Oe.objects,J.subrsBias=vt(J.subrs)):(J.subrs=[],J.subrsBias=0),Mt(S,G+te.charStrings));J.nGlyphs=Le.objects.length,nt=function(Ht,we,ae,Ee){var ve=new $t.Parser(Ht,we),He=(--ae,[".notdef"]);if(0===(Ht=ve.parseCard8()))for(var kt=0;kt<ae;kt+=1)Gt=ve.parseSID(),He.push(St(Ee,Gt));else if(1===Ht)for(;He.length<=ae;)for(var Gt=ve.parseSID(),en=ve.parseCard8(),Bn=0;Bn<=en;Bn+=1)He.push(St(Ee,Gt)),Gt+=1;else{if(2!==Ht)throw new Error("Unknown charset format "+Ht);for(;He.length<=ae;){Gt=ve.parseSID(),en=ve.parseCard16();for(var Nn=0;Nn<=en;Nn+=1)He.push(St(Ee,Gt)),Gt+=1}}return He}(S,G+te.charset,J.nGlyphs,pe.objects),J.cffEncoding=0===te.encoding?new cn(Pe,nt):1===te.encoding?new cn(qe,nt):function(Ht,we,ae){var Ee={},ve=new $t.Parser(Ht,we);if(0===(Ht=ve.parseCard8()))for(var He=ve.parseCard8(),kt=0;kt<He;kt+=1)Ee[en=ve.parseCard8()]=kt;else{if(1!==Ht)throw new Error("Unknown encoding format "+Ht);for(var Gt=ve.parseCard8(),en=1,Bn=0;Bn<Gt;Bn+=1)for(var Nn=ve.parseCard8(),Xn=ve.parseCard8(),Kn=Nn;Kn<=Nn+Xn;Kn+=1)Ee[Kn]=en,en+=1}return new cn(Ee,ae)}(S,G+te.encoding,nt),J.encoding=J.encoding||J.cffEncoding,J.glyphs=new Ct.GlyphSet(J);for(var _t=0;_t<J.nGlyphs;_t+=1)J.glyphs.push(_t,Ct.cffGlyphLoader(J,_t,Tn,Le.objects[_t]))},be_make=function(S,Ht){for(var J,te=new Lt.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),pe={version:Ht.version,fullName:Ht.fullName,familyName:Ht.familyName,weight:Ht.weightName,fontBBox:Ht.fontBBox||[0,0,0,0],fontMatrix:[pe=1/Ht.unitsPerEm,0,0,pe,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},Oe=[],Le=1;Le<S.length;Le+=1)J=S.get(Le),Oe.push(J.name);var nt,_t,bt=[],we=(te.header=new Lt.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),te.nameIndex=function(ae){var Ee=new Lt.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Ee.names=[];for(var ve=0;ve<ae.length;ve+=1)Ee.names.push({name:"name_"+ve,type:"NAME",value:ae[ve]});return Ee}([Ht.postScriptName]),Ht=jn(pe,bt),te.topDictIndex=sr(Ht),te.globalSubrIndex=new Lt.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),te.charsets=function(ae,Ee){for(var ve=new Lt.Record("Charsets",[{name:"format",type:"Card8",value:0}]),He=0;He<ae.length;He+=1){var kt=An(ae[He],Ee);ve.fields.push({name:"glyph_"+He,type:"SID",value:kt})}return ve}(Oe,bt),te.charStringsIndex=function Y(S){for(var G=new Lt.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),J=0;J<S.length;J+=1){var te=S.get(J),pe=function(Oe){for(var Le=[],nt=Oe.path,_t=(Le.push({name:"width",type:"NUMBER",value:Oe.advanceWidth}),0),bt=0,Ht=0;Ht<nt.commands.length;Ht+=1){var we,ae,Ee,ve,He=void 0,kt=void 0,Gt=nt.commands[Ht];"M"===(Gt="Q"===Gt.type?{type:"C",x:Gt.x,y:Gt.y,x1:1/3*_t+2/3*Gt.x1,y1:1/3*bt+2/3*Gt.y1,x2:1/3*Gt.x+2/3*Gt.x1,y2:1/3*Gt.y+2/3*Gt.y1}:Gt).type?(He=Math.round(Gt.x-_t),kt=Math.round(Gt.y-bt),Le.push({name:"dx",type:"NUMBER",value:He}),Le.push({name:"dy",type:"NUMBER",value:kt}),Le.push({name:"rmoveto",type:"OP",value:21}),_t=Math.round(Gt.x),bt=Math.round(Gt.y)):"L"===Gt.type?(He=Math.round(Gt.x-_t),kt=Math.round(Gt.y-bt),Le.push({name:"dx",type:"NUMBER",value:He}),Le.push({name:"dy",type:"NUMBER",value:kt}),Le.push({name:"rlineto",type:"OP",value:5}),_t=Math.round(Gt.x),bt=Math.round(Gt.y)):"C"===Gt.type&&(we=Math.round(Gt.x1-_t),ae=Math.round(Gt.y1-bt),Ee=Math.round(Gt.x2-Gt.x1),ve=Math.round(Gt.y2-Gt.y1),He=Math.round(Gt.x-Gt.x2),kt=Math.round(Gt.y-Gt.y2),Le.push({name:"dx1",type:"NUMBER",value:we}),Le.push({name:"dy1",type:"NUMBER",value:ae}),Le.push({name:"dx2",type:"NUMBER",value:Ee}),Le.push({name:"dy2",type:"NUMBER",value:ve}),Le.push({name:"dx",type:"NUMBER",value:He}),Le.push({name:"dy",type:"NUMBER",value:kt}),Le.push({name:"rrcurveto",type:"OP",value:8}),_t=Math.round(Gt.x),bt=Math.round(Gt.y))}return Le.push({name:"endchar",type:"OP",value:14}),Le}(te);G.charStrings.push({name:te.name,type:"CHARSTRING",value:pe})}return G}(S),te.privateDict=(we={},nt=bt,(_t=new Lt.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Ln(tn,we,nt),_t),te.stringIndex=function(ae){var Ee=new Lt.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Ee.strings=[];for(var ve=0;ve<ae.length;ve+=1)Ee.strings.push({name:"string_"+ve,type:"STRING",value:ae[ve]});return Ee}(bt),te.header.sizeOf()+te.nameIndex.sizeOf()+te.topDictIndex.sizeOf()+te.stringIndex.sizeOf()+te.globalSubrIndex.sizeOf());return pe.charset=we,pe.encoding=0,pe.charStrings=pe.charset+te.charsets.sizeOf(),pe.private[1]=pe.charStrings+te.charStringsIndex.sizeOf(),Ht=jn(pe,bt),te.topDictIndex=sr(Ht),te},Re_parse=function(te,G){var J={};return te=new $t.Parser(te,G),J.version=te.parseVersion(),J.fontRevision=Math.round(1e3*te.parseFixed())/1e3,J.checkSumAdjustment=te.parseULong(),J.magicNumber=te.parseULong(),k.argument(1594834165===J.magicNumber,"Font header has wrong magic number."),J.flags=te.parseUShort(),J.unitsPerEm=te.parseUShort(),J.created=te.parseLongDateTime(),J.modified=te.parseLongDateTime(),J.xMin=te.parseShort(),J.yMin=te.parseShort(),J.xMax=te.parseShort(),J.yMax=te.parseShort(),J.macStyle=te.parseUShort(),J.lowestRecPPEM=te.parseUShort(),J.fontDirectionHint=te.parseShort(),J.indexToLocFormat=te.parseShort(),J.glyphDataFormat=te.parseShort(),J},Re_make=function(S){var G=Math.round((new Date).getTime()/1e3)+2082844800,J=G;return S.createdTimestamp&&(J=S.createdTimestamp+2082844800),new Lt.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:J},{name:"modified",type:"LONGDATETIME",value:G},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],S)},b_parse=function(te,G){var J={};return te=new $t.Parser(te,G),J.version=te.parseVersion(),J.ascender=te.parseShort(),J.descender=te.parseShort(),J.lineGap=te.parseShort(),J.advanceWidthMax=te.parseUShort(),J.minLeftSideBearing=te.parseShort(),J.minRightSideBearing=te.parseShort(),J.xMaxExtent=te.parseShort(),J.caretSlopeRise=te.parseShort(),J.caretSlopeRun=te.parseShort(),J.caretOffset=te.parseShort(),te.relativeOffset+=8,J.metricDataFormat=te.parseShort(),J.numberOfHMetrics=te.parseUShort(),J},b_make=function(S){return new Lt.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],S)},P_parse=function(S,G,J,te,pe){for(var Oe,Le,nt=new $t.Parser(S,G),_t=0;_t<te;_t+=1){_t<J&&(Oe=nt.parseUShort(),Le=nt.parseShort());var bt=pe.get(_t);bt.advanceWidth=Oe,bt.leftSideBearing=Le}},P_make=function(S){for(var G=new Lt.Table("hmtx",[]),J=0;J<S.length;J+=1){var te=(pe=S.get(J)).advanceWidth||0,pe=pe.leftSideBearing||0;G.fields.push({name:"advanceWidth_"+J,type:"USHORT",value:te}),G.fields.push({name:"leftSideBearing_"+J,type:"SHORT",value:pe})}return G},B_make=function(S){for(var G=new Lt.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:S.length}]),J="",te=12+4*S.length,pe=0;pe<S.length;++pe){var Oe=J.indexOf(S[pe]);Oe<0&&(Oe=J.length,J+=S[pe]),G.fields.push({name:"offset "+pe,type:"USHORT",value:te+Oe}),G.fields.push({name:"length "+pe,type:"USHORT",value:S[pe].length})}return G.fields.push({name:"stringPool",type:"CHARARRAY",value:J}),G},B_parse=function(S,G){for(var J=new $t.Parser(S,G),te=J.parseULong(),pe=(k.argument(1===te,"Unsupported ltag table version."),J.skip("uLong",1),J.parseULong()),Oe=[],Le=0;Le<pe;Le++){for(var nt="",_t=G+J.parseUShort(),bt=J.parseUShort(),Ht=_t;Ht<_t+bt;++Ht)nt+=String.fromCharCode(S.getInt8(Ht));Oe.push(nt)}return Oe},L_parse=function(te,G){var J={};return te=new $t.Parser(te,G),J.version=te.parseVersion(),J.numGlyphs=te.parseUShort(),1===J.version&&(J.maxPoints=te.parseUShort(),J.maxContours=te.parseUShort(),J.maxCompositePoints=te.parseUShort(),J.maxCompositeContours=te.parseUShort(),J.maxZones=te.parseUShort(),J.maxTwilightPoints=te.parseUShort(),J.maxStorage=te.parseUShort(),J.maxFunctionDefs=te.parseUShort(),J.maxInstructionDefs=te.parseUShort(),J.maxStackElements=te.parseUShort(),J.maxSizeOfInstructions=te.parseUShort(),J.maxComponentElements=te.parseUShort(),J.maxComponentDepth=te.parseUShort()),J},L_make=function(S){return new Lt.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:S}])},se=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],W={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},ye={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Me={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Xe="utf-16",ce={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},ke={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function lt(S,G,J){switch(S){case 0:return Xe;case 1:return ke[J]||ce[G];case 3:if(1===G||10===G)return Xe}}function Be(S){var G,J={};for(G in S)J[S[G]]=parseInt(G);return J}function ht(S,G,J,te,pe,Oe){return new Lt.Record("NameRecord",[{name:"platformID",type:"USHORT",value:S},{name:"encodingID",type:"USHORT",value:G},{name:"languageID",type:"USHORT",value:J},{name:"nameID",type:"USHORT",value:te},{name:"length",type:"USHORT",value:pe},{name:"offset",type:"USHORT",value:Oe}])}function Nt(S,G){if((J=function(Oe,Le){var nt=Oe.length,_t=Le.length-nt+1;e:for(var bt=0;bt<_t;bt++)for(;bt<_t;bt++){for(var Ht=0;Ht<nt;Ht++)if(Le[bt+Ht]!==Oe[Ht])continue e;return bt}return-1}(S,G))<0)for(var J=G.length,te=0,pe=S.length;te<pe;++te)G.push(S[te]);return J}var nn_parse=function(S,G,J){for(var te={},pe=new $t.Parser(S,G),Oe=(G=pe.parseUShort(),pe.parseUShort()),Le=pe.offset+pe.parseUShort(),nt=0;nt<Oe;nt++){var ve=pe.parseUShort(),_t=pe.parseUShort(),bt=pe.parseUShort(),Ht=pe.parseUShort(),we=(Ht=se[Ht]||Ht,pe.parseUShort()),ae=pe.parseUShort(),Ee=function(kt,Gt,en){switch(kt){case 0:if(65535===Gt)return"und";if(en)return en[Gt];break;case 1:return W[Gt];case 3:return Me[Gt]}}(ve,bt,J);void 0!==(ve=lt(ve,_t,bt))&&void 0!==Ee&&(_t=void 0,(_t=ve===Xe?ee.UTF16(S,Le+ae,we):ee.MACSTRING(S,Le+ae,we,ve))&&((bt=void 0===(bt=te[Ht])?te[Ht]={}:bt)[Ee]=_t))}return 1===G&&pe.parseUShort(),te},nn_make=function(S,G){var J,te=[],pe={},Oe=Be(se);for(J in S){var Le=Oe[J];if(void 0===Le&&(Le=J),ae=parseInt(Le),isNaN(ae))throw new Error('Name table entry "'+J+'" does not exist, see nameTableNames for complete list.');pe[ae]=S[J],te.push(ae)}for(var nt=Be(W),_t=Be(Me),bt=[],Ht=[],we=0;we<te.length;we++){var ae,Ee,ve=pe[ae=te[we]];for(Ee in ve){var Nn,He=ve[Ee],kt=nt[Ee],Gt=ye[kt],en=lt(Nn=1,Gt,kt),Bn=(void 0===(en=me.MACSTRING(He,en))&&(Nn=0,(kt=G.indexOf(Ee))<0&&(kt=G.length,G.push(Ee)),Gt=4,en=me.UTF16(He)),Nt(en,Ht));void 0!==(bt.push(ht(Nn,Gt,kt,ae,en.length,Bn)),Nn=_t[Ee])&&(kt=Nt(Gt=me.UTF16(He),Ht),bt.push(ht(3,1,Nn,ae,Gt.length,kt)))}}bt.sort(function(tr,br){return tr.platformID-br.platformID||tr.encodingID-br.encodingID||tr.languageID-br.languageID||tr.nameID-br.nameID});for(var Xn=new Lt.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:bt.length},{name:"stringOffset",type:"USHORT",value:6+12*bt.length}]),Kn=0;Kn<bt.length;Kn++)Xn.fields.push({name:"record_"+Kn,type:"RECORD",value:bt[Kn]});return Xn.fields.push({name:"strings",type:"LITERAL",value:Ht}),Xn},dn=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Sn_parse=function(S,G){var J={},te=new $t.Parser(S,G);J.version=te.parseUShort(),J.xAvgCharWidth=te.parseShort(),J.usWeightClass=te.parseUShort(),J.usWidthClass=te.parseUShort(),J.fsType=te.parseUShort(),J.ySubscriptXSize=te.parseShort(),J.ySubscriptYSize=te.parseShort(),J.ySubscriptXOffset=te.parseShort(),J.ySubscriptYOffset=te.parseShort(),J.ySuperscriptXSize=te.parseShort(),J.ySuperscriptYSize=te.parseShort(),J.ySuperscriptXOffset=te.parseShort(),J.ySuperscriptYOffset=te.parseShort(),J.yStrikeoutSize=te.parseShort(),J.yStrikeoutPosition=te.parseShort(),J.sFamilyClass=te.parseShort(),J.panose=[];for(var pe=0;pe<10;pe++)J.panose[pe]=te.parseByte();return J.ulUnicodeRange1=te.parseULong(),J.ulUnicodeRange2=te.parseULong(),J.ulUnicodeRange3=te.parseULong(),J.ulUnicodeRange4=te.parseULong(),J.achVendID=String.fromCharCode(te.parseByte(),te.parseByte(),te.parseByte(),te.parseByte()),J.fsSelection=te.parseUShort(),J.usFirstCharIndex=te.parseUShort(),J.usLastCharIndex=te.parseUShort(),J.sTypoAscender=te.parseShort(),J.sTypoDescender=te.parseShort(),J.sTypoLineGap=te.parseShort(),J.usWinAscent=te.parseUShort(),J.usWinDescent=te.parseUShort(),1<=J.version&&(J.ulCodePageRange1=te.parseULong(),J.ulCodePageRange2=te.parseULong()),2<=J.version&&(J.sxHeight=te.parseShort(),J.sCapHeight=te.parseShort(),J.usDefaultChar=te.parseUShort(),J.usBreakChar=te.parseUShort(),J.usMaxContent=te.parseUShort()),J},Sn_make=function(S){return new Lt.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],S)},Sn_getUnicodeRange=function(S){for(var G=0;G<dn.length;G+=1){var J=dn[G];if(S>=J.begin&&S<J.end)return G}return-1},Wn_parse=function(S,G){var J={},te=new $t.Parser(S,G);switch(J.version=te.parseVersion(),J.italicAngle=te.parseFixed(),J.underlinePosition=te.parseShort(),J.underlineThickness=te.parseShort(),J.isFixedPitch=te.parseULong(),J.minMemType42=te.parseULong(),J.maxMemType42=te.parseULong(),J.minMemType1=te.parseULong(),J.maxMemType1=te.parseULong(),J.version){case 1:J.names=Et.slice();break;case 2:J.numberOfGlyphs=te.parseUShort(),J.glyphNameIndex=new Array(J.numberOfGlyphs);for(var pe=0;pe<J.numberOfGlyphs;pe++)J.glyphNameIndex[pe]=te.parseUShort();J.names=[];for(var Oe,Le=0;Le<J.numberOfGlyphs;Le++)J.glyphNameIndex[Le]>=Et.length&&(Oe=te.parseChar(),J.names.push(te.parseString(Oe)));break;case 2.5:J.numberOfGlyphs=te.parseUShort(),J.offset=new Array(J.numberOfGlyphs);for(var nt=0;nt<J.numberOfGlyphs;nt++)J.offset[nt]=te.parseChar()}return J},Wn_make=function(){return new Lt.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},zn=new Array(9),yr=(zn[1]=function(){var S=this.offset+this.relativeOffset,G=this.parseUShort();return 1===G?{substFormat:1,coverage:this.parsePointer(At.coverage),deltaGlyphId:this.parseUShort()}:2===G?{substFormat:2,coverage:this.parsePointer(At.coverage),substitute:this.parseOffset16List()}:void k.assert(!1,"0x"+S.toString(16)+": lookup type 1 format must be 1 or 2.")},zn[2]=function(){var S=this.parseUShort();return k.argument(1===S,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(At.coverage),sequences:this.parseListOfLists()}},zn[3]=function(){var S=this.parseUShort();return k.argument(1===S,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(At.coverage),alternateSets:this.parseListOfLists()}},zn[4]=function(){var S=this.parseUShort();return k.argument(1===S,"GSUB ligature table identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(At.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:At.uShort,lookupListIndex:At.uShort});zn[5]=function(){var S,G,J=this.offset+this.relativeOffset,te=this.parseUShort();return 1===te?{substFormat:te,coverage:this.parsePointer(At.coverage),ruleSets:this.parseListOfLists(function(){var pe=this.parseUShort(),Oe=this.parseUShort();return{input:this.parseUShortList(pe-1),lookupRecords:this.parseRecordList(Oe,yr)}})}:2===te?{substFormat:te,coverage:this.parsePointer(At.coverage),classDef:this.parsePointer(At.classDef),classSets:this.parseListOfLists(function(){var pe=this.parseUShort(),Oe=this.parseUShort();return{classes:this.parseUShortList(pe-1),lookupRecords:this.parseRecordList(Oe,yr)}})}:3===te?(S=this.parseUShort(),G=this.parseUShort(),{substFormat:te,coverages:this.parseList(S,At.pointer(At.coverage)),lookupRecords:this.parseRecordList(G,yr)}):void k.assert(!1,"0x"+J.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},zn[6]=function(){var S=this.offset+this.relativeOffset,G=this.parseUShort();return 1===G?{substFormat:1,coverage:this.parsePointer(At.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(yr)}})}:2===G?{substFormat:2,coverage:this.parsePointer(At.coverage),backtrackClassDef:this.parsePointer(At.classDef),inputClassDef:this.parsePointer(At.classDef),lookaheadClassDef:this.parsePointer(At.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(yr)}})}:3===G?{substFormat:3,backtrackCoverage:this.parseList(At.pointer(At.coverage)),inputCoverage:this.parseList(At.pointer(At.coverage)),lookaheadCoverage:this.parseList(At.pointer(At.coverage)),lookupRecords:this.parseRecordList(yr)}:void k.assert(!1,"0x"+S.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},zn[7]=function(){var S=this.parseUShort(),G=(k.argument(1===S,"GSUB Extension Substitution subtable identifier-format must be 1"),S=this.parseUShort(),new At(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:S,extension:zn[S].call(G)}},zn[8]=function(){var S=this.parseUShort();return k.argument(1===S,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(At.coverage),backtrackCoverage:this.parseList(At.pointer(At.coverage)),lookaheadCoverage:this.parseList(At.pointer(At.coverage)),substitutes:this.parseUShortList()}};var Tr=new Array(9);Tr[1]=function(S){return new Lt.Table("substitutionTable",1===S.substFormat?[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Lt.Coverage(S.coverage)},{name:"deltaGlyphID",type:"USHORT",value:S.deltaGlyphId}]:[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Lt.Coverage(S.coverage)}].concat(Lt.ushortList("substitute",S.substitute)))},Tr[3]=function(S){return k.assert(1===S.substFormat,"Lookup type 3 substFormat must be 1."),new Lt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Lt.Coverage(S.coverage)}].concat(Lt.tableList("altSet",S.alternateSets,function(G){return new Lt.Table("alternateSetTable",Lt.ushortList("alternate",G))})))},Tr[4]=function(S){return k.assert(1===S.substFormat,"Lookup type 4 substFormat must be 1."),new Lt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Lt.Coverage(S.coverage)}].concat(Lt.tableList("ligSet",S.ligatureSets,function(G){return new Lt.Table("ligatureSetTable",Lt.tableList("ligature",G,function(J){return new Lt.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:J.ligGlyph}].concat(Lt.ushortList("component",J.components,J.components.length+1)))}))})))};var Jn_parse=function(S,G){return G=(S=new At(S,G=G||0)).parseVersion(1),k.argument(1===G||1.1===G,"Unsupported GSUB table version."),1===G?{version:G,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(zn)}:{version:G,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(zn),variations:S.parseFeatureVariationsList()}},Jn_make=function(S){return new Lt.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Lt.ScriptList(S.scripts)},{name:"features",type:"TABLE",value:new Lt.FeatureList(S.features)},{name:"lookups",type:"TABLE",value:new Lt.LookupList(S.lookups,Tr)}])},vr_parse=function(S,G){for(var J=new $t.Parser(S,G),te=J.parseULong(),pe=(k.argument(1===te,"Unsupported META table version."),J.parseULong(),J.parseULong(),J.parseULong()),Oe={},Le=0;Le<pe;Le++){var nt=J.parseTag(),bt=J.parseULong(),_t=J.parseULong();bt=ee.UTF8(S,G+bt,_t),Oe[nt]=bt}return Oe},vr_make=function(S){var G,J=Object.keys(S).length,te="",pe=16+12*J,Oe=new Lt.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:pe},{name:"numTags",type:"ULONG",value:J}]);for(G in S){var Le=te.length;te+=S[G],Oe.fields.push({name:"tag "+G,type:"TAG",value:G}),Oe.fields.push({name:"offset "+G,type:"ULONG",value:pe+Le}),Oe.fields.push({name:"length "+G,type:"ULONG",value:S[G].length})}return Oe.fields.push({name:"stringPool",type:"CHARARRAY",value:te}),Oe};function Vr(S){return Math.log(S)/Math.log(2)|0}function Sr(S){for(;S.length%4!=0;)S.push(0);for(var G=0,J=0;J<S.length;J+=4)G+=(S[J]<<24)+(S[J+1]<<16)+(S[J+2]<<8)+S[J+3];return G%Math.pow(2,32)}function Lr(S,G,J,te){return new Lt.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==S?S:""},{name:"checkSum",type:"ULONG",value:void 0!==G?G:0},{name:"offset",type:"ULONG",value:void 0!==J?J:0},{name:"length",type:"ULONG",value:void 0!==te?te:0}])}function To(S){for(var G=new Lt.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),J=(G.tables=S,G.numTables=S.length,Math.pow(2,Vr(G.numTables))),te=(G.searchRange=16*J,G.entrySelector=Vr(J),G.rangeShift=16*G.numTables-G.searchRange,[]),pe=[],Oe=G.sizeOf()+Lr().sizeOf()*G.numTables;Oe%4!=0;)Oe+=1,pe.push({name:"padding",type:"BYTE",value:0});for(var Le=0;Le<S.length;Le+=1){var nt=S[Le],_t=(k.argument(4===nt.tableName.length,"Table name"+nt.tableName+" is invalid."),nt.sizeOf()),bt=Lr(nt.tableName,Sr(nt.encode()),Oe,_t);for(te.push({name:bt.tag+" Table Record",type:"RECORD",value:bt}),pe.push({name:nt.tableName+" table",type:"RECORD",value:nt}),Oe+=_t,k.argument(!isNaN(Oe),"Something went wrong calculating the offset.");Oe%4!=0;)Oe+=1,pe.push({name:"padding",type:"BYTE",value:0})}return te.sort(function(Ht,we){return Ht.value.tag>we.value.tag?1:-1}),G.fields=G.fields.concat(te),G.fields=G.fields.concat(pe),G}function eo(S,G,J){for(var te=0;te<G.length;te+=1){var pe=S.charToGlyphIndex(G[te]);if(0<pe)return S.glyphs.get(pe).getMetrics()}return J}var wo_fontToTable=function(S){for(var G,J=[],te=[],pe=[],Oe=[],Le=[],nt=[],_t=[],bt=0,Ht=0,we=0,ae=0,Ee=0,ve=0;ve<S.glyphs.length;ve+=1){var He=S.glyphs.get(ve),kt=0|He.unicode;if(isNaN(He.advanceWidth))throw new Error("Glyph "+He.name+" ("+ve+"): advanceWidth is not a number.");if((kt<G||void 0===G)&&0<kt&&(G=kt),bt<kt&&(bt=kt),(kt=Sn_getUnicodeRange(kt))<32)Ht|=1<<kt;else if(kt<64)we|=1<<kt-32;else if(kt<96)ae|=1<<kt-64;else{if(!(kt<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Ee|=1<<kt-96}".notdef"!==He.name&&(kt=He.getMetrics(),J.push(kt.xMin),te.push(kt.yMin),pe.push(kt.xMax),Oe.push(kt.yMax),nt.push(kt.leftSideBearing),_t.push(kt.rightSideBearing),Le.push(He.advanceWidth))}var Gt,en={xMin:Math.min.apply(null,J),yMin:Math.min.apply(null,te),xMax:Math.max.apply(null,pe),yMax:Math.max.apply(null,Oe),advanceWidthMax:Math.max.apply(null,Le),advanceWidthAvg:function(uo){for(var ni=0,rs=0;rs<uo.length;rs+=1)ni+=uo[rs];return ni/uo.length}(Le),minLeftSideBearing:Math.min.apply(null,nt),maxLeftSideBearing:Math.max.apply(null,nt),minRightSideBearing:Math.min.apply(null,_t)},Bn=(en.ascender=S.ascender,en.descender=S.descender,Re_make({flags:3,unitsPerEm:S.unitsPerEm,xMin:en.xMin,yMin:en.yMin,xMax:en.xMax,yMax:en.yMax,lowestRecPPEM:3,createdTimestamp:S.createdTimestamp})),Nn=b_make({ascender:en.ascender,descender:en.descender,advanceWidthMax:en.advanceWidthMax,minLeftSideBearing:en.minLeftSideBearing,minRightSideBearing:en.minRightSideBearing,xMaxExtent:en.maxLeftSideBearing+(en.xMax-en.xMin),numberOfHMetrics:S.glyphs.length}),Xn=L_make(S.glyphs.length),Kn=Sn_make({xAvgCharWidth:Math.round(en.advanceWidthAvg),usWeightClass:S.tables.os2.usWeightClass,usWidthClass:S.tables.os2.usWidthClass,usFirstCharIndex:G,usLastCharIndex:bt,ulUnicodeRange1:Ht,ulUnicodeRange2:we,ulUnicodeRange3:ae,ulUnicodeRange4:Ee,fsSelection:S.tables.os2.fsSelection,sTypoAscender:en.ascender,sTypoDescender:en.descender,sTypoLineGap:0,usWinAscent:en.yMax,usWinDescent:Math.abs(en.yMin),ulCodePageRange1:1,sxHeight:eo(S,"xyvw",{yMax:Math.round(en.ascender/2)}).yMax,sCapHeight:eo(S,"HIKLEFJMNTZBDPRAGOQSUVWXY",en).yMax,usDefaultChar:S.hasChar(" ")?32:0,usBreakChar:S.hasChar(" ")?32:0}),tr=P_make(S.glyphs),br=ze_make(S.glyphs),Ar=(Ir=S.getEnglishName("fontFamily"))+" "+($n=S.getEnglishName("fontSubfamily")),Kr=(Kr=S.getEnglishName("postScriptName"))||Ir.replace(/\s/g,"")+"-"+$n,to={};for(Gt in S.names)to[Gt]=S.names[Gt];to.uniqueID||(to.uniqueID={en:S.getEnglishName("manufacturer")+":"+Ar}),to.postScriptName||(to.postScriptName={en:Kr}),to.preferredFamily||(to.preferredFamily=S.names.fontFamily),to.preferredSubfamily||(to.preferredSubfamily=S.names.fontSubfamily);var io=nn_make(to,qr=[]),qr=0<qr.length?B_make(qr):void 0,fo=Wn_make(),Ir=(Ar=be_make(S.glyphs,{version:S.getEnglishName("version"),fullName:Ar,familyName:Ir,weightName:$n,postScriptName:Kr,unitsPerEm:S.unitsPerEm,fontBBox:[0,en.yMin,en.ascender,en.advanceWidthMax]}),S.metas&&0<Object.keys(S.metas).length?vr_make(S.metas):void 0),$n=[Bn,Nn,Xn,Kn,io,br,fo,Ar,tr];qr&&$n.push(qr),S.tables.gsub&&$n.push(Jn_make(S.tables.gsub)),Ir&&$n.push(Ir);for(var Br=Sr((Kr=To($n)).encode()),$r=Kr.fields,lo=!1,kr=0;kr<$r.length;kr+=1)if("head table"===$r[kr].name){$r[kr].value.checkSumAdjustment=2981146554-Br,lo=!0;break}if(lo)return Kr;throw new Error("Could not find head table with checkSum to adjust.")};function ko(S,G){for(var J=0,te=S.length-1;J<=te;){var pe=J+te>>>1,Oe=S[pe].tag;if(Oe===G)return pe;Oe<G?J=1+pe:te=pe-1}return-J-1}function No(S,G){for(var J=0,te=S.length-1;J<=te;){var pe=J+te>>>1,Oe=S[pe];if(Oe===G)return pe;Oe<G?J=1+pe:te=pe-1}return-J-1}function $o(S,G){for(var J=0,te=S.length-1;J<=te;){var pe,Oe=J+te>>>1,Le=(pe=S[Oe]).start;if(Le===G)return pe;Le<G?J=1+Oe:te=Oe-1}if(0<J)return G>(pe=S[J-1]).end?0:pe}function Wr(S,G){this.font=S,this.tableName=G}function Vo(S){Wr.call(this,S,"gpos")}function oo(S){Wr.call(this,S,"gsub")}function ci(S,G,J){for(var te=S.subtables,pe=0;pe<te.length;pe++){var Oe=te[pe];if(Oe.substFormat===G)return Oe}if(J)return te.push(J),J}function vi(S){for(var G=new ArrayBuffer(S.length),J=new Uint8Array(G),te=0;te<S.length;++te)J[te]=S[te];return G}function _e(S,G){if(!S)throw G}function Ke(S,G,J,te,pe){var Oe=0<(G&te)?(Oe=S.parseByte(),J+(Oe=G&pe?Oe:-Oe)):0<(G&pe)?J:J+S.parseShort();return Oe}function pt(S,G,J){var te,pe=new $t.Parser(G,J);if(S.numberOfContours=pe.parseShort(),S._xMin=pe.parseShort(),S._yMin=pe.parseShort(),S._xMax=pe.parseShort(),S._yMax=pe.parseShort(),0<S.numberOfContours){for(var Oe=S.endPointIndices=[],Le=0;Le<S.numberOfContours;Le+=1)Oe.push(pe.parseUShort());S.instructionLength=pe.parseUShort(),S.instructions=[];for(var nt=0;nt<S.instructionLength;nt+=1)S.instructions.push(pe.parseByte());for(var _t=Oe[Oe.length-1]+1,bt=[],Ht=0;Ht<_t;Ht+=1)if(te=pe.parseByte(),bt.push(te),0<(8&te))for(var we=pe.parseByte(),ae=0;ae<we;ae+=1)bt.push(te),Ht+=1;if(k.argument(bt.length===_t,"Bad flags."),0<Oe.length){var Ee,ve=[];if(0<_t){for(var He=0;He<_t;He+=1)(Ee={}).onCurve=!!(1&(te=bt[He])),Ee.lastPointOfContour=0<=Oe.indexOf(He),ve.push(Ee);for(var kt=0,Gt=0;Gt<_t;Gt+=1)(Ee=ve[Gt]).x=Ke(pe,te=bt[Gt],kt,2,16),kt=Ee.x;for(var en=0,Bn=0;Bn<_t;Bn+=1)(Ee=ve[Bn]).y=Ke(pe,te=bt[Bn],en,4,32),en=Ee.y}S.points=ve}else S.points=[]}else if(0===S.numberOfContours)S.points=[];else{S.isComposite=!0,S.points=[],S.components=[];for(var Nn=!0;Nn;){bt=pe.parseUShort();var Xn={glyphIndex:pe.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&bt)?0<(2&bt)?(Xn.dx=pe.parseShort(),Xn.dy=pe.parseShort()):Xn.matchedPoints=[pe.parseUShort(),pe.parseUShort()]:0<(2&bt)?(Xn.dx=pe.parseChar(),Xn.dy=pe.parseChar()):Xn.matchedPoints=[pe.parseByte(),pe.parseByte()],0<(8&bt)?Xn.xScale=Xn.yScale=pe.parseF2Dot14():0<(64&bt)?(Xn.xScale=pe.parseF2Dot14(),Xn.yScale=pe.parseF2Dot14()):0<(128&bt)&&(Xn.xScale=pe.parseF2Dot14(),Xn.scale01=pe.parseF2Dot14(),Xn.scale10=pe.parseF2Dot14(),Xn.yScale=pe.parseF2Dot14()),S.components.push(Xn),Nn=!!(32&bt)}if(256&bt){S.instructionLength=pe.parseUShort(),S.instructions=[];for(var Kn=0;Kn<S.instructionLength;Kn+=1)S.instructions.push(pe.parseByte())}}}function Se(S,G){for(var J=[],te=0;te<S.length;te+=1){var pe;J.push(pe={x:G.xScale*(pe=S[te]).x+G.scale01*pe.y+G.dx,y:G.scale10*pe.x+G.yScale*pe.y+G.dy,onCurve:pe.onCurve,lastPointOfContour:pe.lastPointOfContour})}return J}function yt(S){var G=new ie;if(S)for(var J=function(we){for(var ae=[],Ee=[],ve=0;ve<we.length;ve+=1){var He=we[ve];Ee.push(He),He.lastPointOfContour&&(ae.push(Ee),Ee=[])}return k.argument(0===Ee.length,"There are still points left in the current contour."),ae}(S),te=0;te<J.length;++te){var pe,Oe=J[te],nt=Oe[0];(Le=Oe[Oe.length-1]).onCurve?G.moveTo(Le.x,Le.y):nt.onCurve?G.moveTo(nt.x,nt.y):G.moveTo((pe={x:.5*(Le.x+nt.x),y:.5*(Le.y+nt.y)}).x,pe.y);for(var _t=0;_t<Oe.length;++_t){var bt,Le=nt;nt=Oe[(_t+1)%Oe.length],Le.onCurve?G.lineTo(Le.x,Le.y):(bt=nt,nt.onCurve||(bt={x:.5*(Le.x+nt.x),y:.5*(Le.y+nt.y)}),G.quadraticCurveTo(Le.x,Le.y,bt.x,bt.y))}G.closePath()}return G}function Jt(S,G){if(G.isComposite)for(var J=0;J<G.components.length;J+=1){var pe=S.get((te=G.components[J]).glyphIndex);if(pe.getPath(),pe.points){var Oe=void 0;if(void 0===te.matchedPoints)Oe=Se(pe.points,te);else{if(te.matchedPoints[0]>G.points.length-1||te.matchedPoints[1]>pe.points.length-1)throw Error("Matched points out of range in "+G.name);var te,Le=G.points[te.matchedPoints[0]],nt=Se([nt=pe.points[te.matchedPoints[1]]],te={xScale:te.xScale,scale01:te.scale01,scale10:te.scale10,yScale:te.yScale,dx:0,dy:0})[0];te.dx=Le.x-nt.x,te.dy=Le.y-nt.y,Oe=Se(pe.points,te)}G.points=G.points.concat(Oe)}}return yt(G.points)}(Vo.prototype=Wr.prototype={searchTag:ko,binSearch:No,getTable:function(S){var G=this.font.tables[this.tableName];return!G&&S?this.font.tables[this.tableName]=this.createDefaultTable():G},getScriptNames:function(){var S=this.getTable();return S?S.scripts.map(function(G){return G.tag}):[]},getDefaultScriptName:function(){var S=this.getTable();if(S){for(var G=!1,J=0;J<S.scripts.length;J++){var te=S.scripts[J].tag;if("DFLT"===te)return te;"latn"===te&&(G=!0)}return G?"latn":void 0}},getScriptTable:function(S,G){var J,te=this.getTable(G);if(te)return J=te.scripts,0<=(te=ko(te.scripts,S=S||"DFLT"))?J[te].script:G?(J.splice(-1-te,0,G={tag:S,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),G.script):void 0},getLangSysTable:function(pe,G,J){var te;if(pe=this.getScriptTable(pe,J))return G&&"dflt"!==G&&"DFLT"!==G?0<=(te=ko(pe.langSysRecords,G))?pe.langSysRecords[te].langSys:J?(pe.langSysRecords.splice(-1-te,0,J={tag:G,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),J.langSys):void 0:pe.defaultLangSys},getFeatureTable:function(S,G,J,te){if(S=this.getLangSysTable(S,G,te)){for(var pe,Oe=S.featureIndexes,Le=this.font.tables[this.tableName].features,nt=0;nt<Oe.length;nt++)if((pe=Le[Oe[nt]]).tag===J)return pe.feature;if(te)return k.assert(0===(G=Le.length)||J>=Le[G-1].tag,"Features must be added in alphabetical order."),Le.push(pe={tag:J,feature:{params:0,lookupListIndexes:[]}}),Oe.push(G),pe.feature}},getLookupTables:function(Oe,G,J,te,pe){var Le=[];if(Oe=this.getFeatureTable(Oe,G,J,pe)){for(var nt,_t=Oe.lookupListIndexes,bt=this.font.tables[this.tableName].lookups,Ht=0;Ht<_t.length;Ht++)(nt=bt[_t[Ht]]).lookupType===te&&Le.push(nt);if(0===Le.length&&pe)return G=bt.length,bt.push(nt={lookupType:te,lookupFlag:0,subtables:[],markFilteringSet:void 0}),_t.push(G),[nt]}return Le},getGlyphClass:function(S,G){switch(S.format){case 1:return S.startGlyph<=G&&G<S.startGlyph+S.classes.length?S.classes[G-S.startGlyph]:0;case 2:var J=$o(S.ranges,G);return J?J.classId:0}},getCoverageIndex:function(S,G){switch(S.format){case 1:var J=No(S.glyphs,G);return 0<=J?J:-1;case 2:return(J=$o(S.ranges,G))?J.index+G-J.start:-1}},expandCoverage:function(S){if(1===S.format)return S.glyphs;for(var G=[],J=S.ranges,te=0;te<J.length;te++)for(var pe=J[te],Le=pe.end,nt=pe.start;nt<=Le;nt++)G.push(nt);return G}}).init=function(){var S=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(S)},Vo.prototype.getKerningValue=function(S,G,J){for(var te=0;te<S.length;te++)for(var pe=S[te].subtables,Oe=0;Oe<pe.length;Oe++){var Le=pe[Oe],nt=this.getCoverageIndex(Le.coverage,G);if(!(nt<0))switch(Le.posFormat){case 1:for(var _t=Le.pairSets[nt],bt=0;bt<_t.length;bt++){var Ht=_t[bt];if(Ht.secondGlyph===J)return Ht.value1&&Ht.value1.xAdvance||0}break;case 2:var ae=this.getGlyphClass(Le.classDef1,G),we=this.getGlyphClass(Le.classDef2,J);return(ae=Le.classRecords[ae][we]).value1&&ae.value1.xAdvance||0}}return 0},Vo.prototype.getKerningTables=function(S,G){if(this.font.tables.gpos)return this.getLookupTables(S,G,"kern",2)},(oo.prototype=Wr.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},oo.prototype.getSingle=function(S,G,J){for(var te=[],pe=this.getLookupTables(G,J,S,1),Oe=0;Oe<pe.length;Oe++)for(var Le=pe[Oe].subtables,nt=0;nt<Le.length;nt++){var _t=Le[nt],bt=this.expandCoverage(_t.coverage),Ht=void 0;if(1===_t.substFormat){var we=_t.deltaGlyphId;for(Ht=0;Ht<bt.length;Ht++){var ae=bt[Ht];te.push({sub:ae,by:ae+we})}}else{var Ee=_t.substitute;for(Ht=0;Ht<bt.length;Ht++)te.push({sub:bt[Ht],by:Ee[Ht]})}}return te},oo.prototype.getAlternates=function(S,G,J){for(var te=[],pe=this.getLookupTables(G,J,S,3),Oe=0;Oe<pe.length;Oe++)for(var Le=pe[Oe].subtables,nt=0;nt<Le.length;nt++)for(var _t=Le[nt],bt=this.expandCoverage(_t.coverage),Ht=_t.alternateSets,we=0;we<bt.length;we++)te.push({sub:bt[we],by:Ht[we]});return te},oo.prototype.getLigatures=function(S,G,J){for(var te=[],pe=this.getLookupTables(G,J,S,4),Oe=0;Oe<pe.length;Oe++)for(var Le=pe[Oe].subtables,nt=0;nt<Le.length;nt++)for(var _t=Le[nt],bt=this.expandCoverage(_t.coverage),Ht=_t.ligatureSets,we=0;we<bt.length;we++)for(var ae=bt[we],Ee=Ht[we],ve=0;ve<Ee.length;ve++){var He=Ee[ve];te.push({sub:[ae].concat(He.components),by:He.ligGlyph})}return te},oo.prototype.addSingle=function(S,G,J,te){J=ci(this.getLookupTables(J,te,S,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),k.assert(1===J.coverage.format,"Ligature: unable to modify coverage table format "+J.coverage.format),(S=this.binSearch(J.coverage.glyphs,te=G.sub))<0&&(J.coverage.glyphs.splice(S=-1-S,0,te),J.substitute.splice(S,0,0)),J.substitute[S]=G.by},oo.prototype.addAlternate=function(S,G,J,te){J=ci(this.getLookupTables(J,te,S,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),k.assert(1===J.coverage.format,"Ligature: unable to modify coverage table format "+J.coverage.format),(S=this.binSearch(J.coverage.glyphs,te=G.sub))<0&&(J.coverage.glyphs.splice(S=-1-S,0,te),J.alternateSets.splice(S,0,0)),J.alternateSets[S]=G.by},oo.prototype.addLigature=function(Oe,_t,nt,pe){(pe=(nt=this.getLookupTables(nt,pe,Oe,4,!0)[0]).subtables[0])||(nt.subtables[0]=pe={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),k.assert(1===pe.coverage.format,"Ligature: unable to modify coverage table format "+pe.coverage.format),Oe=_t.sub[0];var Le=_t.sub.slice(1);if(nt={ligGlyph:_t.by,components:Le},0<=(_t=this.binSearch(pe.coverage.glyphs,Oe))){for(var bt=pe.ligatureSets[_t],Ht=0;Ht<bt.length;Ht++)if(function(we,ae){var Ee=we.length;if(Ee===ae.length){for(var ve=0;ve<Ee;ve++)if(we[ve]!==ae[ve])return;return 1}}(bt[Ht].components,Le))return;bt.push(nt)}else pe.coverage.glyphs.splice(_t=-1-_t,0,Oe),pe.ligatureSets.splice(_t,0,[nt])},oo.prototype.getFeature=function(S,G,J){if(/ss\d\d/.test(S))return this.getSingle(S,G,J);switch(S){case"aalt":case"salt":return this.getSingle(S,G,J).concat(this.getAlternates(S,G,J));case"dlig":case"liga":case"rlig":return this.getLigatures(S,G,J)}},oo.prototype.add=function(S,G,J,te){if(/ss\d\d/.test(S))return this.addSingle(S,G,J,te);switch(S){case"aalt":case"salt":return"number"==typeof G.by?this.addSingle(S,G,J,te):this.addAlternate(S,G,J,te);case"dlig":case"liga":case"rlig":return this.addLigature(S,G,J,te)}};var fr={getPath:yt,parse:function(S,G,J,te){for(var pe=new Ct.GlyphSet(te),Oe=0;Oe<J.length-1;Oe+=1){var Le=J[Oe];pe.push(Oe,Le!==J[Oe+1]?Ct.ttfGlyphLoader(te,Oe,pt,S,G+Le,Jt):Ct.glyphLoader(te,Oe))}return pe}};function Gr(S){this.font=S,this.getCommands=function(G){return fr.getPath(G).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function mo(S){return S}function ti(S){return Math.sign(S)*Math.round(Math.abs(S))}function Yo(S){return Math.sign(S)*Math.round(Math.abs(2*S))/2}function Ai(S){return Math.sign(S)*(Math.round(Math.abs(S)+.5)-.5)}function Mi(S){return Math.sign(S)*Math.ceil(Math.abs(S))}function Vi(S){return Math.sign(S)*Math.floor(Math.abs(S))}function Ii(S){var G=this.srPeriod,J=this.srPhase,te=1;return S<0&&(S=-S,te=-1),S+=this.srThreshold-J,S=Math.trunc(S/G)*G,(S+=J)<0?J*te:S*te}var Eo={x:1,y:0,axis:"x",distance:function(S,G,J,te){return(J?S.xo:S.x)-(te?G.xo:G.x)},interpolate:function(S,G,J,te){var pe,Oe,Le,nt,_t,bt,Ht;if(!te||te===this)return pe=S.xo-G.xo,Oe=S.xo-J.xo,_t=G.x-G.xo,bt=J.x-J.xo,0===(Ht=(Le=Math.abs(pe))+(nt=Math.abs(Oe)))?void(S.x=S.xo+(_t+bt)/2):void(S.x=S.xo+(_t*nt+bt*Le)/Ht);pe=te.distance(S,G,!0,!0),Oe=te.distance(S,J,!0,!0),_t=te.distance(G,G,!1,!0),bt=te.distance(J,J,!1,!0),0===(Ht=(Le=Math.abs(pe))+(nt=Math.abs(Oe)))?Eo.setRelative(S,S,(_t+bt)/2,te,!0):Eo.setRelative(S,S,(_t*nt+bt*Le)/Ht,te,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(S,G,J,te,pe){var Oe,Le;te&&te!==this?(Oe=pe?G.xo:G.x,Le=pe?G.yo:G.y,S.x=(Oe+=J*te.x)+(S.y-(Le+=J*te.y))/te.normalSlope):S.x=(pe?G.xo:G.x)+J},slope:0,touch:function(S){S.xTouched=!0},touched:function(S){return S.xTouched},untouch:function(S){S.xTouched=!1}},Ao={x:0,y:1,axis:"y",distance:function(S,G,J,te){return(J?S.yo:S.y)-(te?G.yo:G.y)},interpolate:function(S,G,J,te){var pe,Oe,Le,nt,_t,bt,Ht;if(!te||te===this)return pe=S.yo-G.yo,Oe=S.yo-J.yo,_t=G.y-G.yo,bt=J.y-J.yo,0===(Ht=(Le=Math.abs(pe))+(nt=Math.abs(Oe)))?void(S.y=S.yo+(_t+bt)/2):void(S.y=S.yo+(_t*nt+bt*Le)/Ht);pe=te.distance(S,G,!0,!0),Oe=te.distance(S,J,!0,!0),_t=te.distance(G,G,!1,!0),bt=te.distance(J,J,!1,!0),0===(Ht=(Le=Math.abs(pe))+(nt=Math.abs(Oe)))?Ao.setRelative(S,S,(_t+bt)/2,te,!0):Ao.setRelative(S,S,(_t*nt+bt*Le)/Ht,te,!0)},normalSlope:0,setRelative:function(S,G,J,te,pe){var Oe,Le;te&&te!==this?(Oe=pe?G.xo:G.x,Le=pe?G.yo:G.y,S.y=(Le+=J*te.y)+te.normalSlope*(S.x-(Oe+=J*te.x))):S.y=(pe?G.yo:G.y)+J},slope:Number.POSITIVE_INFINITY,touch:function(S){S.yTouched=!0},touched:function(S){return S.yTouched},untouch:function(S){S.yTouched=!1}};function Yr(S,G){this.x=S,this.y=G,this.axis=void 0,this.slope=G/S,this.normalSlope=-S/G,Object.freeze(this)}function Co(S,G){var J=Math.sqrt(S*S+G*G);return G/=J,1==(S/=J)&&0===G?Eo:0===S&&1===G?Ao:new Yr(S,G)}function Ue(S,G,J,te){this.x=this.xo=Math.round(64*S)/64,this.y=this.yo=Math.round(64*G)/64,this.lastPointOfContour=J,this.onCurve=te,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Eo),Object.freeze(Ao),Yr.prototype.distance=function(S,G,J,te){return this.x*Eo.distance(S,G,J,te)+this.y*Ao.distance(S,G,J,te)},Yr.prototype.interpolate=function(S,pe,Oe,te){var Le=te.distance(S,pe,!0,!0),nt=te.distance(S,Oe,!0,!0),_t=(pe=te.distance(pe,pe,!1,!0),Oe=te.distance(Oe,Oe,!1,!0),(Le=Math.abs(Le))+(nt=Math.abs(nt)));this.setRelative(S,S,0===_t?(pe+Oe)/2:(pe*nt+Oe*Le)/_t,te,!0)},Yr.prototype.setRelative=function(S,Oe,_t,bt,nt){var Le=nt?Oe.xo:Oe.x,Ht=(nt=nt?Oe.yo:Oe.y,Oe=Le+_t*(bt=bt||this).x,Le=nt+_t*bt.y,nt=bt.normalSlope,S.y);S.x=((_t=this.slope)*(bt=S.x)-nt*Oe+Le-Ht)/(_t-nt),S.y=_t*(S.x-bt)+Ht},Yr.prototype.touch=function(S){S.xTouched=!0,S.yTouched=!0},Ue.prototype.nextTouched=function(S){for(var G=this.nextPointOnContour;!S.touched(G)&&G!==this;)G=G.nextPointOnContour;return G},Ue.prototype.prevTouched=function(S){for(var G=this.prevPointOnContour;!S.touched(G)&&G!==this;)G=G.prevPointOnContour;return G};var it=Object.freeze(new Ue(0,0)),Tt={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Pt(S,G){switch(this.env=S,this.stack=[],this.prog=G,S){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Eo,this.round=ti}}function Zt(S){for(var G=S.tZone=new Array(S.gZone.length),J=0;J<G.length;J++)G[J]=new Ue(0,0)}function qt(S,G){var J,te=S.prog,pe=S.ip,Oe=1;do{if(88===(J=te[++pe]))Oe++;else if(89===J)Oe--;else if(64===J)pe+=te[pe+1]+1;else if(65===J)pe+=2*te[pe+1]+1;else if(176<=J&&J<=183)pe+=J-176+1;else if(184<=J&&J<=191)pe+=2*(J-184+1);else if(G&&1===Oe&&27===J)break}while(0<Oe);S.ip=pe}function mn(S,G){y.DEBUG&&console.log(G.step,"SVTCA["+S.axis+"]"),G.fv=G.pv=G.dpv=S}function _n(S,G){y.DEBUG&&console.log(G.step,"SPVTCA["+S.axis+"]"),G.pv=G.dpv=S}function Cn(S,G){y.DEBUG&&console.log(G.step,"SFVTCA["+S.axis+"]"),G.fv=S}function xn(S,G){var J,te=(pe=G.stack).pop(),pe=pe.pop(),Oe=G.z2[te],Le=G.z1[pe];y.DEBUG&&console.log("SPVTL["+S+"]",te,pe),te=S?(J=Oe.y-Le.y,Le.x-Oe.x):(J=Le.x-Oe.x,Le.y-Oe.y),G.pv=G.dpv=Co(J,te)}function Un(S,G){var J,te=(pe=G.stack).pop(),pe=pe.pop(),Oe=G.z2[te],Le=G.z1[pe];y.DEBUG&&console.log("SFVTL["+S+"]",te,pe),te=S?(J=Oe.y-Le.y,Le.x-Oe.x):(J=Le.x-Oe.x,Le.y-Oe.y),G.fv=Co(J,te)}function Fn(S){y.DEBUG&&console.log(S.step,"POP[]"),S.stack.pop()}function Gn(S,G){var J=G.stack.pop(),te=G.z0[J],pe=G.fv,Oe=G.pv,Le=(y.DEBUG&&console.log(G.step,"MDAP["+S+"]",J),Oe.distance(te,it));S&&(Le=G.round(Le)),pe.setRelative(te,it,Le,Oe),pe.touch(te),G.rp0=G.rp1=J}function Yn(S,G){var J,te,pe,Oe=G.z2,Le=Oe.length-2;y.DEBUG&&console.log(G.step,"IUP["+S.axis+"]");for(var nt=0;nt<Le;nt++)S.touched(J=Oe[nt])||(te=J.prevTouched(S))!==J&&(te===(pe=J.nextTouched(S))&&S.setRelative(J,J,S.distance(te,te,!1,!0),S,!0),S.interpolate(J,te,pe,S))}function pr(S,G){for(var J=G.stack,pe=(S?G.z0:G.z1)[S?G.rp1:G.rp2],Oe=G.fv,Le=G.pv,nt=G.loop,_t=G.z2;nt--;){var bt=J.pop(),Ht=_t[bt],we=Le.distance(pe,pe,!1,!0);Oe.setRelative(Ht,Ht,we,Le),Oe.touch(Ht),y.DEBUG&&console.log(G.step,(1<G.loop?"loop "+(G.loop-nt)+": ":"")+"SHP["+(S?"rp1":"rp2")+"]",bt)}G.loop=1}function _r(S,G){for(var te=(S?G.z0:G.z1)[S?G.rp1:G.rp2],pe=G.fv,Oe=G.pv,Le=G.stack.pop(),nt=G.z2[G.contours[Le]],_t=nt,bt=(y.DEBUG&&console.log(G.step,"SHC["+S+"]",Le),Oe.distance(te,te,!1,!0));_t!==te&&pe.setRelative(_t,_t,bt,Oe),(_t=_t.nextPointOnContour)!==nt;);}function wr(S,G){var J,te,pe=(S?G.z0:G.z1)[pe=S?G.rp1:G.rp2],Oe=G.fv,Le=G.pv,nt=(nt=G.stack).pop();switch(y.DEBUG&&console.log(G.step,"SHZ["+S+"]",nt),nt){case 0:J=G.tZone;break;case 1:J=G.gZone;break;default:throw new Error("Invalid zone")}for(var _t=Le.distance(pe,pe,!1,!0),bt=J.length-2,Ht=0;Ht<bt;Ht++)Oe.setRelative(te=J[Ht],te,_t,Le)}function Fr(S,G){var J=(te=G.stack).pop()/64,te=te.pop(),pe=G.z1[te],Le=G.fv;Le.setRelative(pe,G.z0[G.rp0],J,G.pv),Le.touch(pe),y.DEBUG&&console.log(G.step,"MSIRP["+S+"]",J,te),G.rp1=G.rp0,G.rp2=te,S&&(G.rp0=te)}function Nr(S,G){var nt=(J=G.stack).pop(),J=J.pop(),te=G.z0[J],pe=G.fv,Oe=G.pv,Le=G.cvt[nt];y.DEBUG&&console.log(G.step,"MIAP["+S+"]",nt,"(",Le,")",J),nt=Oe.distance(te,it),S&&(Math.abs(nt-Le)<G.cvCutIn&&(nt=Le),nt=G.round(nt)),pe.setRelative(te,it,nt,Oe),0===G.zp0&&(te.xo=te.x,te.yo=te.y),pe.touch(te),G.rp0=G.rp1=J}function Pn(S,G){var J=G.stack,te=J.pop(),pe=G.z2[te];y.DEBUG&&console.log(G.step,"GC["+S+"]",te),J.push(64*G.dpv.distance(pe,it,S,!1))}function go(S,G){var J=(te=G.stack).pop(),te=te.pop(),Oe=G.dpv.distance(Oe=G.z0[te],G.z1[J],S,S);y.DEBUG&&console.log(G.step,"MD["+S+"]",J,te,"->",Oe),G.stack.push(Math.round(64*Oe))}function Lo(S,G){var J=G.stack,te=J.pop(),pe=G.fv,Oe=G.pv,Le=G.ppem,nt=G.deltaBase+16*(S-1),_t=G.deltaShift,bt=G.z0;y.DEBUG&&console.log(G.step,"DELTAP["+S+"]",te,J);for(var Ht=0;Ht<te;Ht++){var we=J.pop(),ae=J.pop();nt+((240&ae)>>4)===Le&&(0<=(ae=(15&ae)-8)&&ae++,y.DEBUG&&console.log(G.step,"DELTAPFIX",we,"by",ae*_t),pe.setRelative(we=bt[we],we,ae*_t,Oe))}}function Rr(S,G){var J=G.stack,te=J.pop();y.DEBUG&&console.log(G.step,"ROUND[]"),J.push(64*G.round(te/64))}function Oi(S,G){var J=G.stack,te=J.pop(),pe=G.ppem,Oe=G.deltaBase+16*(S-1),Le=G.deltaShift;y.DEBUG&&console.log(G.step,"DELTAC["+S+"]",te,J);for(var nt=0;nt<te;nt++){var _t=J.pop(),bt=J.pop();Oe+((240&bt)>>4)===pe&&(0<=(bt=(15&bt)-8)&&bt++,bt*=Le,y.DEBUG&&console.log(G.step,"DELTACFIX",_t,"by",bt),G.cvt[_t]+=bt)}}function ys(S,G){var J,te=(pe=G.stack).pop(),pe=pe.pop(),Oe=G.z2[te],Le=G.z1[pe];y.DEBUG&&console.log(G.step,"SDPVTL["+S+"]",te,pe),te=S?(J=Oe.y-Le.y,Le.x-Oe.x):(J=Le.x-Oe.x,Le.y-Oe.y),G.dpv=Co(J,te)}function ho(S,G){var J=G.stack,te=G.prog,pe=G.ip;y.DEBUG&&console.log(G.step,"PUSHB["+S+"]");for(var Oe=0;Oe<S;Oe++)J.push(te[++pe]);G.ip=pe}function Ur(S,G){var J=G.ip,te=G.prog,pe=G.stack;y.DEBUG&&console.log(G.ip,"PUSHW["+S+"]");for(var Oe=0;Oe<S;Oe++){var Le=te[++J]<<8|te[++J];32768&Le&&(Le=-(1+(65535^Le))),pe.push(Le)}G.ip=J}function Vn(S,G,J,te,pe,Oe){var Le,nt,Ht,bt=Oe.stack,_t=S&&bt.pop(),we=(bt=bt.pop(),Oe.z1[bt]),ae=Oe.minDis,Ee=Oe.fv,ve=Oe.dpv,He=Le=ve.distance(we,Ht=Oe.z0[Ht=Oe.rp0],!0,!0),kt=0<=He?1:-1;He=Math.abs(He),S&&(nt=Oe.cvt[_t],te&&Math.abs(He-nt)<Oe.cvCutIn&&(He=nt)),J&&He<ae&&(He=ae),te&&(He=Oe.round(He)),Ee.setRelative(we,Ht,kt*He,ve),Ee.touch(we),y.DEBUG&&console.log(Oe.step,(S?"MIRP[":"MDRP[")+(G?"M":"m")+(J?">":"_")+(te?"R":"_")+(0===pe?"Gr":1===pe?"Bl":2===pe?"Wh":"")+"]",S?_t+"("+Oe.cvt[_t]+","+nt+")":"",bt,"(d =",Le,"->",kt*He,")"),Oe.rp1=Oe.rp0,Oe.rp2=bt,G&&(Oe.rp0=bt)}Gr.prototype.exec=function(S,G){if("number"!=typeof G)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var J=this.font,te=this._prepState;if(!te||te.ppem!==G){var pe=this._fpgmState;if(!pe){Pt.prototype=Tt,(pe=this._fpgmState=new Pt("fpgm",J.tables.fpgm)).funcs=[],pe.font=J,y.DEBUG&&(console.log("---EXEC FPGM---"),pe.step=-1);try{So(pe)}catch(bt){return console.log("Hinting error in FPGM:"+bt),void(this._errorState=3)}}Pt.prototype=pe,(te=this._prepState=new Pt("prep",J.tables.prep)).ppem=G;var Oe=J.tables.cvt;if(Oe)for(var Le=te.cvt=new Array(Oe.length),nt=G/J.unitsPerEm,_t=0;_t<Oe.length;_t++)Le[_t]=Oe[_t]*nt;else te.cvt=[];y.DEBUG&&(console.log("---EXEC PREP---"),te.step=-1);try{So(te)}catch(bt){this._errorState<2&&console.log("Hinting error in PREP:"+bt),this._errorState=2}}if(!(1<this._errorState))try{return Go(S,te)}catch(bt){this._errorState<1&&(console.log("Hinting error:"+bt),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Go=function(S,G){var J=G.ppem/G.font.unitsPerEm,te=J,pe=S.components;if(Pt.prototype=G,pe){for(var Oe=G.font,Le=[],nt=[],_t=0;_t<pe.length;_t++){var bt=pe[_t],Ht=Oe.glyphs.get(bt.glyphIndex),we=new Pt("glyf",Ht.instructions);y.DEBUG&&(console.log("---EXEC COMP "+_t+"---"),we.step=-1),Jo(Ht,we,J,te);for(var ae=Math.round(bt.dx*J),Ee=Math.round(bt.dy*te),ve=we.gZone,He=we.contours,kt=0;kt<ve.length;kt++){var Gt=ve[kt];Gt.xTouched=Gt.yTouched=!1,Gt.xo=Gt.x=Gt.x+ae,Gt.yo=Gt.y=Gt.y+Ee}var en=Le.length;Le.push.apply(Le,ve);for(var Bn=0;Bn<He.length;Bn++)nt.push(He[Bn]+en)}S.instructions&&!we.inhibitGridFit&&((we=new Pt("glyf",S.instructions)).gZone=we.z0=we.z1=we.z2=Le,we.contours=nt,Le.push(new Ue(0,0),new Ue(Math.round(S.advanceWidth*J),0)),y.DEBUG&&(console.log("---EXEC COMPOSITE---"),we.step=-1),So(we),Le.length-=2)}else we=new Pt("glyf",S.instructions),y.DEBUG&&(console.log("---EXEC GLYPH---"),we.step=-1),Jo(S,we,J,te),Le=we.gZone;return Le},Jo=function(S,G,J,te){for(var pe,Oe,nt=S.points||[],_t=nt.length,bt=G.gZone=G.z0=G.z1=G.z2=[],Ht=G.contours=[],we=0;we<_t;we++)bt[we]=new Ue((pe=nt[we]).x*J,pe.y*te,pe.lastPointOfContour,pe.onCurve);for(var ae=0;ae<_t;ae++)pe=bt[ae],Oe||(Oe=pe,Ht.push(ae)),pe.lastPointOfContour?((pe.nextPointOnContour=Oe).prevPointOnContour=pe,Oe=void 0):(pe.nextPointOnContour=bt[ae+1]).prevPointOnContour=pe;if(!G.inhibitGridFit){if(y.DEBUG){console.log("PROCESSING GLYPH",G.stack);for(var Ee=0;Ee<_t;Ee++)console.log(Ee,bt[Ee].x,bt[Ee].y)}if(bt.push(new Ue(0,0),new Ue(Math.round(S.advanceWidth*J),0)),So(G),bt.length-=2,y.DEBUG){console.log("FINISHED GLYPH",G.stack);for(var ve=0;ve<_t;ve++)console.log(ve,bt[ve].x,bt[ve].y)}}},So=function(S){var G=S.prog;if(G){var J,te=G.length;for(S.ip=0;S.ip<te;S.ip++){if(y.DEBUG&&S.step++,!(J=ji[G[S.ip]]))throw new Error("unknown instruction: 0x"+Number(G[S.ip]).toString(16));J(S)}}},ji=[mn.bind(void 0,Ao),mn.bind(void 0,Eo),_n.bind(void 0,Ao),_n.bind(void 0,Eo),Cn.bind(void 0,Ao),Cn.bind(void 0,Eo),xn.bind(void 0,0),xn.bind(void 0,1),Un.bind(void 0,0),Un.bind(void 0,1),function(S){var G=(J=S.stack).pop(),J=J.pop();y.DEBUG&&console.log(S.step,"SPVFS[]",G,J),S.pv=S.dpv=Co(J,G)},function(S){var G=(J=S.stack).pop(),J=J.pop();y.DEBUG&&console.log(S.step,"SPVFS[]",G,J),S.fv=Co(J,G)},function(S){var G=S.stack,J=S.pv;y.DEBUG&&console.log(S.step,"GPV[]"),G.push(16384*J.x),G.push(16384*J.y)},function(S){var G=S.stack,J=S.fv;y.DEBUG&&console.log(S.step,"GFV[]"),G.push(16384*J.x),G.push(16384*J.y)},function(S){S.fv=S.pv,y.DEBUG&&console.log(S.step,"SFVTPV[]")},function(G){var J=(Le=G.stack).pop(),te=Le.pop(),pe=Le.pop(),Oe=Le.pop(),Le=Le.pop(),nt=(_t=G.z0)[J],_t=_t[te],bt=(Ht=G.z1)[pe],Ht=Ht[Oe],we=(G=G.z2[Le],y.DEBUG&&console.log("ISECT[], ",J,te,pe,Oe,Le),J=nt.x,te=nt.y,nt=bt.y,J*(Oe=_t.y)-te*(pe=_t.x)),ae=(Le=bt.x)*(bt=Ht.y)-nt*(_t=Ht.x);G.x=(we*(Le-_t)-ae*(J-pe))/(Ht=(J-pe)*(nt-bt)-(te-Oe)*(Le-_t)),G.y=(we*(nt-bt)-ae*(te-Oe))/Ht},function(S){S.rp0=S.stack.pop(),y.DEBUG&&console.log(S.step,"SRP0[]",S.rp0)},function(S){S.rp1=S.stack.pop(),y.DEBUG&&console.log(S.step,"SRP1[]",S.rp1)},function(S){S.rp2=S.stack.pop(),y.DEBUG&&console.log(S.step,"SRP2[]",S.rp2)},function(S){var G=S.stack.pop();switch(y.DEBUG&&console.log(S.step,"SZP0[]",G),S.zp0=G){case 0:S.tZone||Zt(S),S.z0=S.tZone;break;case 1:S.z0=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var G=S.stack.pop();switch(y.DEBUG&&console.log(S.step,"SZP1[]",G),S.zp1=G){case 0:S.tZone||Zt(S),S.z1=S.tZone;break;case 1:S.z1=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var G=S.stack.pop();switch(y.DEBUG&&console.log(S.step,"SZP2[]",G),S.zp2=G){case 0:S.tZone||Zt(S),S.z2=S.tZone;break;case 1:S.z2=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var G=S.stack.pop();switch(y.DEBUG&&console.log(S.step,"SZPS[]",G),S.zp0=S.zp1=S.zp2=G){case 0:S.tZone||Zt(S),S.z0=S.z1=S.z2=S.tZone;break;case 1:S.z0=S.z1=S.z2=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){S.loop=S.stack.pop(),y.DEBUG&&console.log(S.step,"SLOOP[]",S.loop)},function(S){y.DEBUG&&console.log(S.step,"RTG[]"),S.round=ti},function(S){y.DEBUG&&console.log(S.step,"RTHG[]"),S.round=Ai},function(S){var G=S.stack.pop();y.DEBUG&&console.log(S.step,"SMD[]",G),S.minDis=G/64},function(S){y.DEBUG&&console.log(S.step,"ELSE[]"),qt(S,!1)},function(S){var G=S.stack.pop();y.DEBUG&&console.log(S.step,"JMPR[]",G),S.ip+=G-1},function(S){var G=S.stack.pop();y.DEBUG&&console.log(S.step,"SCVTCI[]",G),S.cvCutIn=G/64},void 0,void 0,function(S){var G=S.stack;y.DEBUG&&console.log(S.step,"DUP[]"),G.push(G[G.length-1])},Fn,function(S){y.DEBUG&&console.log(S.step,"CLEAR[]"),S.stack.length=0},function(S){var G=S.stack,J=G.pop(),te=G.pop();y.DEBUG&&console.log(S.step,"SWAP[]"),G.push(J),G.push(te)},function(S){var G=S.stack;y.DEBUG&&console.log(S.step,"DEPTH[]"),G.push(G.length)},function(S){var G=S.stack,J=G.pop();y.DEBUG&&console.log(S.step,"CINDEX[]",J),G.push(G[G.length-J])},function(S){var G=S.stack,J=G.pop();y.DEBUG&&console.log(S.step,"MINDEX[]",J),G.push(G.splice(G.length-J,1)[0])},void 0,void 0,void 0,function(S){var G=(te=S.stack).pop(),J=te.pop(),te=(y.DEBUG&&console.log(S.step,"LOOPCALL[]",G,J),S.ip),pe=S.prog;S.prog=S.funcs[G];for(var Oe=0;Oe<J;Oe++)So(S),y.DEBUG&&console.log(++S.step,Oe+1<J?"next loopcall":"done loopcall",Oe);S.ip=te,S.prog=pe},function(S){var G=S.stack.pop(),J=(y.DEBUG&&console.log(S.step,"CALL[]",G),S.ip),te=S.prog;S.prog=S.funcs[G],So(S),S.ip=J,S.prog=te,y.DEBUG&&console.log(++S.step,"returning from",G)},function(S){if("fpgm"!==S.env)throw new Error("FDEF not allowed here");var G=S.prog,J=S.ip,te=(te=S.stack).pop(),pe=J;for(y.DEBUG&&console.log(S.step,"FDEF[]",te);45!==G[++J];);S.ip=J,S.funcs[te]=G.slice(pe+1,J)},void 0,Gn.bind(void 0,0),Gn.bind(void 0,1),Yn.bind(void 0,Ao),Yn.bind(void 0,Eo),pr.bind(void 0,0),pr.bind(void 0,1),_r.bind(void 0,0),_r.bind(void 0,1),wr.bind(void 0,0),wr.bind(void 0,1),function(S){for(var G=S.stack,J=S.loop,te=S.fv,pe=G.pop()/64,Oe=S.z2;J--;){var Le=G.pop(),nt=Oe[Le];y.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-J)+": ":"")+"SHPIX[]",Le,pe),te.setRelative(nt,nt,pe),te.touch(nt)}S.loop=1},function(S){for(var G=S.stack,J=S.rp1,te=S.rp2,pe=S.loop,Oe=S.z0[J],Le=S.z1[te],nt=S.fv,_t=S.dpv,bt=S.z2;pe--;){var Ht=G.pop(),we=bt[Ht];y.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-pe)+": ":"")+"IP[]",Ht,J,"<->",te),nt.interpolate(we,Oe,Le,_t),nt.touch(we)}S.loop=1},Fr.bind(void 0,0),Fr.bind(void 0,1),function(S){for(var G=S.stack,te=S.z0[S.rp0],pe=S.loop,Oe=S.fv,Le=S.pv,nt=S.z1;pe--;){var _t=G.pop(),bt=nt[_t];y.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-pe)+": ":"")+"ALIGNRP[]",_t),Oe.setRelative(bt,te,0,Le),Oe.touch(bt)}S.loop=1},function(S){y.DEBUG&&console.log(S.step,"RTDG[]"),S.round=Yo},Nr.bind(void 0,0),Nr.bind(void 0,1),function(S){var G=S.prog,J=S.ip,te=S.stack,pe=G[++J];y.DEBUG&&console.log(S.step,"NPUSHB[]",pe);for(var Oe=0;Oe<pe;Oe++)te.push(G[++J]);S.ip=J},function(S){var G=S.ip,J=S.prog,te=S.stack,pe=J[++G];y.DEBUG&&console.log(S.step,"NPUSHW[]",pe);for(var Oe=0;Oe<pe;Oe++){var Le=J[++G]<<8|J[++G];32768&Le&&(Le=-(1+(65535^Le))),te.push(Le)}S.ip=G},function(S){var te=S.stack,G=(G=S.store)||(S.store=[]),J=te.pop();te=te.pop(),y.DEBUG&&console.log(S.step,"WS",J,te),G[te]=J},function(pe){var G=pe.stack,J=pe.store,te=G.pop();y.DEBUG&&console.log(pe.step,"RS",te),G.push(pe=J&&J[te]||0)},function(S){var G=(J=S.stack).pop(),J=J.pop();y.DEBUG&&console.log(S.step,"WCVTP",G,J),S.cvt[J]=G/64},function(S){var G=S.stack,J=G.pop();y.DEBUG&&console.log(S.step,"RCVT",J),G.push(64*S.cvt[J])},Pn.bind(void 0,0),Pn.bind(void 0,1),void 0,go.bind(void 0,0),go.bind(void 0,1),function(S){y.DEBUG&&console.log(S.step,"MPPEM[]"),S.stack.push(S.ppem)},void 0,function(S){y.DEBUG&&console.log(S.step,"FLIPON[]"),S.autoFlip=!0},void 0,void 0,function(S){var G=S.stack,J=G.pop(),te=G.pop();y.DEBUG&&console.log(S.step,"LT[]",J,te),G.push(te<J?1:0)},function(S){var G=S.stack,J=G.pop(),te=G.pop();y.DEBUG&&console.log(S.step,"LTEQ[]",J,te),G.push(te<=J?1:0)},function(S){var G=S.stack,J=G.pop(),te=G.pop();y.DEBUG&&console.log(S.step,"GT[]",J,te),G.push(J<te?1:0)},function(S){var G=S.stack,J=G.pop(),te=G.pop();y.DEBUG&&console.log(S.step,"GTEQ[]",J,te),G.push(J<=te?1:0)},function(S){var G=S.stack,J=G.pop(),te=G.pop();y.DEBUG&&console.log(S.step,"EQ[]",J,te),G.push(J===te?1:0)},function(S){var G=S.stack,J=G.pop(),te=G.pop();y.DEBUG&&console.log(S.step,"NEQ[]",J,te),G.push(J!==te?1:0)},function(S){var G=S.stack,J=G.pop();y.DEBUG&&console.log(S.step,"ODD[]",J),G.push(Math.trunc(J)%2?1:0)},function(S){var G=S.stack,J=G.pop();y.DEBUG&&console.log(S.step,"EVEN[]",J),G.push(Math.trunc(J)%2?0:1)},function(S){var G=S.stack.pop();y.DEBUG&&console.log(S.step,"IF[]",G),G||(qt(S,!0),y.DEBUG&&console.log(S.step,"EIF[]"))},function(S){y.DEBUG&&console.log(S.step,"EIF[]")},function(S){var G=S.stack,J=G.pop(),te=G.pop();y.DEBUG&&console.log(S.step,"AND[]",J,te),G.push(J&&te?1:0)},function(S){var G=S.stack,J=G.pop(),te=G.pop();y.DEBUG&&console.log(S.step,"OR[]",J,te),G.push(J||te?1:0)},function(S){var G=S.stack,J=G.pop();y.DEBUG&&console.log(S.step,"NOT[]",J),G.push(J?0:1)},Lo.bind(void 0,1),function(S){var G=S.stack.pop();y.DEBUG&&console.log(S.step,"SDB[]",G),S.deltaBase=G},function(S){var G=S.stack.pop();y.DEBUG&&console.log(S.step,"SDS[]",G),S.deltaShift=Math.pow(.5,G)},function(S){var G=S.stack,J=G.pop(),te=G.pop();y.DEBUG&&console.log(S.step,"ADD[]",J,te),G.push(te+J)},function(S){var G=S.stack,J=G.pop(),te=G.pop();y.DEBUG&&console.log(S.step,"SUB[]",J,te),G.push(te-J)},function(S){var G=S.stack,J=G.pop(),te=G.pop();y.DEBUG&&console.log(S.step,"DIV[]",J,te),G.push(64*te/J)},function(S){var G=S.stack,J=G.pop(),te=G.pop();y.DEBUG&&console.log(S.step,"MUL[]",J,te),G.push(te*J/64)},function(S){var G=S.stack,J=G.pop();y.DEBUG&&console.log(S.step,"ABS[]",J),G.push(Math.abs(J))},function(S){var G=S.stack,J=G.pop();y.DEBUG&&console.log(S.step,"NEG[]",J),G.push(-J)},function(S){var G=S.stack,J=G.pop();y.DEBUG&&console.log(S.step,"FLOOR[]",J),G.push(64*Math.floor(J/64))},function(S){var G=S.stack,J=G.pop();y.DEBUG&&console.log(S.step,"CEILING[]",J),G.push(64*Math.ceil(J/64))},Rr.bind(void 0,0),Rr.bind(void 0,1),Rr.bind(void 0,2),Rr.bind(void 0,3),void 0,void 0,void 0,void 0,function(S){var G=(J=S.stack).pop(),J=J.pop();y.DEBUG&&console.log(S.step,"WCVTF[]",G,J),S.cvt[J]=G*S.ppem/S.font.unitsPerEm},Lo.bind(void 0,2),Lo.bind(void 0,3),Oi.bind(void 0,1),Oi.bind(void 0,2),Oi.bind(void 0,3),function(S){var G,J=S.stack.pop();switch(y.DEBUG&&console.log(S.step,"SROUND[]",J),S.round=Ii,192&J){case 0:G=.5;break;case 64:G=1;break;case 128:G=2;break;default:throw new Error("invalid SROUND value")}switch(S.srPeriod=G,48&J){case 0:S.srPhase=0;break;case 16:S.srPhase=.25*G;break;case 32:S.srPhase=.5*G;break;case 48:S.srPhase=.75*G;break;default:throw new Error("invalid SROUND value")}S.srThreshold=0==(J&=15)?0:(J/8-.5)*G},function(S){var G,J=S.stack.pop();switch(y.DEBUG&&console.log(S.step,"S45ROUND[]",J),S.round=Ii,192&J){case 0:G=Math.sqrt(2)/2;break;case 64:G=Math.sqrt(2);break;case 128:G=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(S.srPeriod=G,48&J){case 0:S.srPhase=0;break;case 16:S.srPhase=.25*G;break;case 32:S.srPhase=.5*G;break;case 48:S.srPhase=.75*G;break;default:throw new Error("invalid S45ROUND value")}S.srThreshold=0==(J&=15)?0:(J/8-.5)*G},void 0,void 0,function(S){y.DEBUG&&console.log(S.step,"ROFF[]"),S.round=mo},void 0,function(S){y.DEBUG&&console.log(S.step,"RUTG[]"),S.round=Mi},function(S){y.DEBUG&&console.log(S.step,"RDTG[]"),S.round=Vi},Fn,Fn,void 0,void 0,void 0,void 0,void 0,function(S){var G=S.stack.pop();y.DEBUG&&console.log(S.step,"SCANCTRL[]",G)},ys.bind(void 0,0),ys.bind(void 0,1),function(S){var G=S.stack,J=G.pop(),te=0;y.DEBUG&&console.log(S.step,"GETINFO[]",J),1&J&&(te=35),32&J&&(te|=4096),G.push(te)},void 0,function(S){var G=S.stack,J=G.pop(),te=G.pop(),pe=G.pop();y.DEBUG&&console.log(S.step,"ROLL[]"),G.push(te),G.push(J),G.push(pe)},function(S){var G=S.stack,J=G.pop(),te=G.pop();y.DEBUG&&console.log(S.step,"MAX[]",J,te),G.push(Math.max(te,J))},function(S){var G=S.stack,J=G.pop(),te=G.pop();y.DEBUG&&console.log(S.step,"MIN[]",J,te),G.push(Math.min(te,J))},function(S){var G=S.stack.pop();y.DEBUG&&console.log(S.step,"SCANTYPE[]",G)},function(S){var G=S.stack.pop(),J=S.stack.pop();switch(y.DEBUG&&console.log(S.step,"INSTCTRL[]",G,J),G){case 1:return void(S.inhibitGridFit=!!J);case 2:return void(S.ignoreCvt=!!J);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,ho.bind(void 0,1),ho.bind(void 0,2),ho.bind(void 0,3),ho.bind(void 0,4),ho.bind(void 0,5),ho.bind(void 0,6),ho.bind(void 0,7),ho.bind(void 0,8),Ur.bind(void 0,1),Ur.bind(void 0,2),Ur.bind(void 0,3),Ur.bind(void 0,4),Ur.bind(void 0,5),Ur.bind(void 0,6),Ur.bind(void 0,7),Ur.bind(void 0,8),Vn.bind(void 0,0,0,0,0,0),Vn.bind(void 0,0,0,0,0,1),Vn.bind(void 0,0,0,0,0,2),Vn.bind(void 0,0,0,0,0,3),Vn.bind(void 0,0,0,0,1,0),Vn.bind(void 0,0,0,0,1,1),Vn.bind(void 0,0,0,0,1,2),Vn.bind(void 0,0,0,0,1,3),Vn.bind(void 0,0,0,1,0,0),Vn.bind(void 0,0,0,1,0,1),Vn.bind(void 0,0,0,1,0,2),Vn.bind(void 0,0,0,1,0,3),Vn.bind(void 0,0,0,1,1,0),Vn.bind(void 0,0,0,1,1,1),Vn.bind(void 0,0,0,1,1,2),Vn.bind(void 0,0,0,1,1,3),Vn.bind(void 0,0,1,0,0,0),Vn.bind(void 0,0,1,0,0,1),Vn.bind(void 0,0,1,0,0,2),Vn.bind(void 0,0,1,0,0,3),Vn.bind(void 0,0,1,0,1,0),Vn.bind(void 0,0,1,0,1,1),Vn.bind(void 0,0,1,0,1,2),Vn.bind(void 0,0,1,0,1,3),Vn.bind(void 0,0,1,1,0,0),Vn.bind(void 0,0,1,1,0,1),Vn.bind(void 0,0,1,1,0,2),Vn.bind(void 0,0,1,1,0,3),Vn.bind(void 0,0,1,1,1,0),Vn.bind(void 0,0,1,1,1,1),Vn.bind(void 0,0,1,1,1,2),Vn.bind(void 0,0,1,1,1,3),Vn.bind(void 0,1,0,0,0,0),Vn.bind(void 0,1,0,0,0,1),Vn.bind(void 0,1,0,0,0,2),Vn.bind(void 0,1,0,0,0,3),Vn.bind(void 0,1,0,0,1,0),Vn.bind(void 0,1,0,0,1,1),Vn.bind(void 0,1,0,0,1,2),Vn.bind(void 0,1,0,0,1,3),Vn.bind(void 0,1,0,1,0,0),Vn.bind(void 0,1,0,1,0,1),Vn.bind(void 0,1,0,1,0,2),Vn.bind(void 0,1,0,1,0,3),Vn.bind(void 0,1,0,1,1,0),Vn.bind(void 0,1,0,1,1,1),Vn.bind(void 0,1,0,1,1,2),Vn.bind(void 0,1,0,1,1,3),Vn.bind(void 0,1,1,0,0,0),Vn.bind(void 0,1,1,0,0,1),Vn.bind(void 0,1,1,0,0,2),Vn.bind(void 0,1,1,0,0,3),Vn.bind(void 0,1,1,0,1,0),Vn.bind(void 0,1,1,0,1,1),Vn.bind(void 0,1,1,0,1,2),Vn.bind(void 0,1,1,0,1,3),Vn.bind(void 0,1,1,1,0,0),Vn.bind(void 0,1,1,1,0,1),Vn.bind(void 0,1,1,1,0,2),Vn.bind(void 0,1,1,1,0,3),Vn.bind(void 0,1,1,1,1,0),Vn.bind(void 0,1,1,1,1,1),Vn.bind(void 0,1,1,1,1,2),Vn.bind(void 0,1,1,1,1,3)],bi=Array.from||function(S){return S.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function xr(S){(S=S||{}).empty||(_e(S.familyName,"When creating a new Font object, familyName is required."),_e(S.styleName,"When creating a new Font object, styleName is required."),_e(S.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),_e(S.ascender,"When creating a new Font object, ascender is required."),_e(S.descender,"When creating a new Font object, descender is required."),_e(S.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:S.familyName||" "},fontSubfamily:{en:S.styleName||" "},fullName:{en:S.fullName||S.familyName+" "+S.styleName},postScriptName:{en:S.postScriptName||(S.familyName+S.styleName).replace(/\s/g,"")},designer:{en:S.designer||" "},designerURL:{en:S.designerURL||" "},manufacturer:{en:S.manufacturer||" "},manufacturerURL:{en:S.manufacturerURL||" "},license:{en:S.license||" "},licenseURL:{en:S.licenseURL||" "},version:{en:S.version||"Version 0.1"},description:{en:S.description||" "},copyright:{en:S.copyright||" "},trademark:{en:S.trademark||" "}},this.unitsPerEm=S.unitsPerEm||1e3,this.ascender=S.ascender,this.descender=S.descender,this.createdTimestamp=S.createdTimestamp,this.tables={os2:{usWeightClass:S.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:S.widthClass||this.usWidthClasses.MEDIUM,fsSelection:S.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Ct.GlyphSet(this,S.glyphs||[]),this.encoding=new Ft(this),this.position=new Vo(this),this.substitution=new oo(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||("truetype"===this.outlinesFormat?this._hinting=new Gr(this):void 0)}})}xr.prototype.hasChar=function(S){return null!==this.encoding.charToGlyphIndex(S)},xr.prototype.charToGlyphIndex=function(S){return this.encoding.charToGlyphIndex(S)},xr.prototype.charToGlyph=function(S){return S=this.charToGlyphIndex(S),this.glyphs.get(S)||this.glyphs.get(0)},xr.prototype.stringToGlyphs=function(S,G){G=G||this.defaultRenderOptions;for(var J=bi(S),te=[],pe=0;pe<J.length;pe+=1)te.push(this.charToGlyphIndex(J[pe]));var Le=te.length;if(G.features){S=G.script||this.substitution.getDefaultScriptName();var nt=[];G.features.liga&&(nt=nt.concat(this.substitution.getFeature("liga",S,G.language))),G.features.rlig&&(nt=nt.concat(this.substitution.getFeature("rlig",S,G.language)));for(var _t=0;_t<Le;_t+=1)for(var bt=0;bt<nt.length;bt++){for(var Ht=nt[bt],we=Ht.sub,ae=we.length,Ee=0;Ee<ae&&we[Ee]===te[_t+Ee];)Ee++;Ee===ae&&(te.splice(_t,ae,Ht.by),Le=Le-ae+1)}}for(var ve=new Array(Le),He=this.glyphs.get(0),kt=0;kt<Le;kt+=1)ve[kt]=this.glyphs.get(te[kt])||He;return ve},xr.prototype.nameToGlyphIndex=function(S){return this.glyphNames.nameToGlyphIndex(S)},xr.prototype.nameToGlyph=function(S){return S=this.nameToGlyphIndex(S),this.glyphs.get(S)||this.glyphs.get(0)},xr.prototype.glyphIndexToName=function(S){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(S):""},xr.prototype.getKerningValue=function(S,G){S=S.index||S,G=G.index||G;var J=this.position.defaultKerningTables;return J?this.position.getKerningValue(J,S,G):this.kerningPairs[S+","+G]||0},xr.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},xr.prototype.forEachGlyph=function(S,G,J,te,pe,Oe){G=void 0!==G?G:0,J=void 0!==J?J:0;var Le,nt=1/this.unitsPerEm*(te=void 0!==te?te:72),_t=this.stringToGlyphs(S,pe=pe||this.defaultRenderOptions);pe.kerning&&(S=pe.script||this.position.getDefaultScriptName(),Le=this.position.getKerningTables(S,pe.language));for(var bt=0;bt<_t.length;bt+=1){var Ht=_t[bt];Oe.call(this,Ht,G,J,te,pe),Ht.advanceWidth&&(G+=Ht.advanceWidth*nt),pe.kerning&&bt<_t.length-1&&(G+=(Le?this.position.getKerningValue(Le,Ht.index,_t[bt+1].index):this.getKerningValue(Ht,_t[bt+1]))*nt),pe.letterSpacing?G+=pe.letterSpacing*te:pe.tracking&&(G+=pe.tracking/1e3*te)}return G},xr.prototype.getPath=function(S,G,J,te,pe){var Oe=new ie;return this.forEachGlyph(S,G,J,te,pe,function(Le,nt,_t,bt){Le=Le.getPath(nt,_t,bt,pe,this),Oe.extend(Le)}),Oe},xr.prototype.getPaths=function(S,G,J,te,pe){var Oe=[];return this.forEachGlyph(S,G,J,te,pe,function(Le,nt,_t,bt){Le=Le.getPath(nt,_t,bt,pe,this),Oe.push(Le)}),Oe},xr.prototype.getAdvanceWidth=function(S,G,J){return this.forEachGlyph(S,0,0,G,J,function(){})},xr.prototype.draw=function(S,G,J,te,pe,Oe){this.getPath(G,J,te,pe,Oe).draw(S)},xr.prototype.drawPoints=function(S,G,J,te,pe,Oe){this.forEachGlyph(G,J,te,pe,Oe,function(Le,nt,_t,bt){Le.drawPoints(S,nt,_t,bt)})},xr.prototype.drawMetrics=function(S,G,J,te,pe,Oe){this.forEachGlyph(G,J,te,pe,Oe,function(Le,nt,_t,bt){Le.drawMetrics(S,nt,_t,bt)})},xr.prototype.getEnglishName=function(S){if(S=this.names[S])return S.en},xr.prototype.validate=function(){var S=this;function G(J){(J=S.getEnglishName(J))&&J.trim()}G("fontFamily"),G("weightName"),G("manufacturer"),G("copyright"),G("version")},xr.prototype.toTables=function(){return wo_fontToTable(this)},xr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},xr.prototype.toArrayBuffer=function(){for(var S=this.toTables().encode(),G=new ArrayBuffer(S.length),J=new Uint8Array(G),te=0;te<S.length;te++)J[te]=S[te];return G},xr.prototype.download=function(S){var G=this.getEnglishName("fontFamily"),J=this.getEnglishName("fontSubfamily"),te=(S=S||G.replace(/\s/g,"")+"-"+J+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,te.byteLength,function(pe){pe.root.getFile(S,{create:!0},function(Oe){Oe.createWriter(function(Le){var nt=new DataView(te);nt=new Blob([nt],{type:"font/opentype"}),Le.write(nt),Le.addEventListener("writeend",function(){location.href=Oe.toURL()},!1)})})},function(pe){throw new Error(pe.name+": "+pe.message)})):(G=o("fs"),J=function(pe){for(var Oe=new v(pe.byteLength),Le=new Uint8Array(pe),nt=0;nt<Oe.length;++nt)Oe[nt]=Le[nt];return Oe}(te),G.writeFileSync(S,J))},xr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},xr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},xr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Is_parse=function(S,G,J){for(var te,Oe,Le,nt=new $t.Parser(S,G),_t=nt.parseULong(),bt=(k.argument(65536===_t,"Unsupported fvar table version."),nt.parseOffset16()),Ht=(nt.skip("uShort",1),nt.parseUShort()),we=nt.parseUShort(),ae=nt.parseUShort(),Ee=nt.parseUShort(),ve=[],He=0;He<Ht;He++)ve.push((Oe=J,Le={},te=new $t.Parser(te=S,G+bt+He*we),Le.tag=te.parseTag(),Le.minValue=te.parseFixed(),Le.defaultValue=te.parseFixed(),Le.maxValue=te.parseFixed(),te.skip("uShort",1),Le.name=Oe[te.parseUShort()]||{},Le));for(var kt=[],Gt=G+bt+Ht*we,en=0;en<ae;en++)kt.push(function(Bn,Nn,Xn,Kn){var tr={},br=new $t.Parser(Bn,Nn);tr.name=Kn[br.parseUShort()]||{},br.skip("uShort",1),tr.coordinates={};for(var Kr=0;Kr<Xn.length;++Kr)tr.coordinates[Xn[Kr].tag]=br.parseFixed();return tr}(S,Gt+en*Ee,ve,J));return{axes:ve,instances:kt}},Mo=new Array(10);Mo[1]=function(){var S=this.offset+this.relativeOffset,G=this.parseUShort();return 1===G?{posFormat:1,coverage:this.parsePointer(At.coverage),value:this.parseValueRecord()}:2===G?{posFormat:2,coverage:this.parsePointer(At.coverage),values:this.parseValueRecordList()}:void k.assert(!1,"0x"+S.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Mo[2]=function(){var S,G,J,te,Oe=this.offset+this.relativeOffset,pe=this.parseUShort(),Le=(k.assert(1===pe||2===pe,"0x"+Oe.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),Oe=this.parsePointer(At.coverage),this.parseUShort()),nt=this.parseUShort();return 1===pe?{posFormat:pe,coverage:Oe,valueFormat1:Le,valueFormat2:nt,pairSets:this.parseList(At.pointer(At.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Le),value2:this.parseValueRecord(nt)}})))}:2===pe?(S=this.parsePointer(At.classDef),G=this.parsePointer(At.classDef),J=this.parseUShort(),te=this.parseUShort(),{posFormat:pe,coverage:Oe,valueFormat1:Le,valueFormat2:nt,classDef1:S,classDef2:G,class1Count:J,class2Count:te,classRecords:this.parseList(J,At.list(te,function(){return{value1:this.parseValueRecord(Le),value2:this.parseValueRecord(nt)}}))}):void 0},Mo[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Mo[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Mo[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Mo[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Mo[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Mo[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Mo[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var Pi_parse=function(S,G){return G=(S=new At(S,G=G||0)).parseVersion(1),k.argument(1===G||1.1===G,"Unsupported GPOS table version "+G),1===G?{version:G,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Mo)}:{version:G,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Mo),variations:S.parseFeatureVariationsList()}},Xr_parse=function(S,G){if(0===(G=(S=new $t.Parser(S,G)).parseUShort())){var J=S,te={},we=(J.skip("uShort"),J.parseUShort()),pe=(k.argument(0===we,"Unsupported kern sub-table version."),J.skip("uShort",2),J.parseUShort());J.skip("uShort",3);for(var Oe=0;Oe<pe;Oe+=1){var Le=J.parseUShort(),nt=J.parseUShort(),_t=J.parseShort();te[Le+","+nt]=_t}return te}if(1!==G)throw new Error("Unsupported kern table version ("+G+").");var bt=S,Ht={};if(bt.skip("uShort"),1<bt.parseULong()&&console.warn("Only the first kern subtable is supported."),bt.skip("uLong"),we=255&bt.parseUShort(),bt.skip("uShort"),0==we){var ae=bt.parseUShort();bt.skip("uShort",3);for(var Ee=0;Ee<ae;Ee+=1){var ve=bt.parseUShort(),He=bt.parseUShort(),kt=bt.parseShort();Ht[ve+","+He]=kt}}return Ht},Ri_parse=function(S,G,J,te){for(var pe=new $t.Parser(S,G),Oe=te?pe.parseUShort:pe.parseULong,Le=[],nt=0;nt<J+1;nt+=1){var _t=Oe.call(pe);te&&(_t*=2),Le.push(_t)}return Le};function _i(S,G){o("fs").readFile(S,function(J,te){if(J)return G(J.message);G(null,vi(te))})}function wi(S,G){var J=new XMLHttpRequest;J.open("get",S,!0),J.responseType="arraybuffer",J.onload=function(){return J.response?G(null,J.response):G("Font could not be loaded: "+J.statusText)},J.onerror=function(){G("Font could not be loaded")},J.send()}function Gi(S,G){for(var J=[],te=12,pe=0;pe<G;pe+=1){var Oe=$t.getTag(S,te),Le=$t.getULong(S,te+4),nt=$t.getULong(S,te+8),_t=$t.getULong(S,te+12);J.push({tag:Oe,checksum:Le,offset:nt,length:_t,compression:!1}),te+=16}return J}function Hn(J,G){if("WOFF"!==G.compression)return{data:J,offset:G.offset};J=new Uint8Array(J.buffer,G.offset+2,G.compressedLength-2);var te=new Uint8Array(G.length);if(U(J,te),te.byteLength!==G.length)throw new Error("Decompression error: "+G.tag+" decompressed length doesn't match recorded length");return{data:new DataView(te.buffer,0),offset:0}}function Ho(en){var G,J,te,pe,Oe,Le,nt,_t,bt,Ht,we,ae,Ee,ve,He=new xr({empty:!0}),kt=new DataView(en,0),Gt=[];if("\0\x01\0\0"===(en=$t.getTag(kt,0))||"true"===en||"typ1"===en)He.outlinesFormat="truetype",Gt=Gi(kt,te=$t.getUShort(kt,4));else if("OTTO"===en)He.outlinesFormat="cff",Gt=Gi(kt,te=$t.getUShort(kt,4));else{if("wOFF"!==en)throw new Error("Unsupported OpenType signature "+en);if("\0\x01\0\0"===(Bn=$t.getTag(kt,4)))He.outlinesFormat="truetype";else{if("OTTO"!==Bn)throw new Error("Unsupported OpenType flavor "+en);He.outlinesFormat="cff"}Gt=function(Ir,$n){for(var Br=[],$r=44,lo=0;lo<$n;lo+=1){var kr=$t.getTag(Ir,$r),uo=$t.getULong(Ir,$r+4),ni=$t.getULong(Ir,$r+8),rs=$t.getULong(Ir,$r+12);Br.push({tag:kr,offset:uo,compression:ni<rs&&"WOFF",compressedLength:ni,length:rs}),$r+=20}return Br}(kt,te=$t.getUShort(kt,12))}for(var Nn=0;Nn<te;Nn+=1){var Xn=Gt[Nn],Kn=void 0;switch(Xn.tag){case"cmap":Kn=Hn(kt,Xn),He.tables.cmap=ze_parse(Kn.data,Kn.offset),He.encoding=new Xt(He.tables.cmap);break;case"cvt ":Kn=Hn(kt,Xn),ve=new $t.Parser(Kn.data,Kn.offset),He.tables.cvt=ve.parseShortList(Xn.length/2);break;case"fvar":Oe=Xn;break;case"fpgm":Kn=Hn(kt,Xn),ve=new $t.Parser(Kn.data,Kn.offset),He.tables.fpgm=ve.parseByteList(Xn.length);break;case"head":Kn=Hn(kt,Xn),He.tables.head=Re_parse(Kn.data,Kn.offset),He.unitsPerEm=He.tables.head.unitsPerEm,G=He.tables.head.indexToLocFormat;break;case"hhea":Kn=Hn(kt,Xn),He.tables.hhea=b_parse(Kn.data,Kn.offset),He.ascender=He.tables.hhea.ascender,He.descender=He.tables.hhea.descender,He.numberOfHMetrics=He.tables.hhea.numberOfHMetrics;break;case"hmtx":bt=Xn;break;case"ltag":Kn=Hn(kt,Xn),J=B_parse(Kn.data,Kn.offset);break;case"maxp":Kn=Hn(kt,Xn),He.tables.maxp=L_parse(Kn.data,Kn.offset),He.numGlyphs=He.tables.maxp.numGlyphs;break;case"name":ae=Xn;break;case"OS/2":Kn=Hn(kt,Xn),He.tables.os2=Sn_parse(Kn.data,Kn.offset);break;case"post":Kn=Hn(kt,Xn),He.tables.post=Wn_parse(Kn.data,Kn.offset),He.glyphNames=new Ut(He.tables.post);break;case"prep":Kn=Hn(kt,Xn),ve=new $t.Parser(Kn.data,Kn.offset),He.tables.prep=ve.parseByteList(Xn.length);break;case"glyf":Le=Xn;break;case"loca":we=Xn;break;case"CFF ":pe=Xn;break;case"kern":Ht=Xn;break;case"GPOS":nt=Xn;break;case"GSUB":_t=Xn;break;case"meta":Ee=Xn}}if(Bn=Hn(kt,ae),He.tables.name=nn_parse(Bn.data,Bn.offset,J),He.names=He.tables.name,Le&&we)en=0===G,Bn=Hn(kt,we),Bn=Ri_parse(Bn.data,Bn.offset,He.numGlyphs,en),en=Hn(kt,Le),He.glyphs=fr.parse(en.data,en.offset,Bn,He);else{if(!pe)throw new Error("Font doesn't contain TrueType or CFF outlines.");en=Hn(kt,pe),be_parse(en.data,en.offset,He)}for(var Bn=Hn(kt,bt),tr=(P_parse(Bn.data,Bn.offset,He.numberOfHMetrics,He.numGlyphs,He.glyphs),He),br=tr.tables.cmap.glyphIndexMap,Kr=Object.keys(br),to=0;to<Kr.length;to+=1){var io,qr=Kr[to];(io=tr.glyphs.get(br[qr])).addUnicode(parseInt(qr))}for(var Ar=0;Ar<tr.glyphs.length;Ar+=1)io=tr.glyphs.get(Ar),tr.cffEncoding?io.name=tr.isCIDFont?"gid"+Ar:tr.cffEncoding.charset[Ar]:tr.glyphNames.names&&(io.name=tr.glyphNames.glyphIndexToName(Ar));return Ht?(en=Hn(kt,Ht),He.kerningPairs=Xr_parse(en.data,en.offset)):He.kerningPairs={},nt&&(Bn=Hn(kt,nt),He.tables.gpos=Pi_parse(Bn.data,Bn.offset),He.position.init()),_t&&(en=Hn(kt,_t),He.tables.gsub=Jn_parse(en.data,en.offset)),Oe&&(Bn=Hn(kt,Oe),He.tables.fvar=Is_parse(Bn.data,Bn.offset,He.names)),Ee&&(en=Hn(kt,Ee),He.tables.meta=vr_parse(en.data,en.offset),He.metas=He.tables.meta),He}y.Font=xr,y.Glyph=Qt,y.Path=ie,y.BoundingBox=K,y._parse=$t,y.parse=Ho,y.load=function(S,G){(typeof window>"u"?_i:wi)(S,function(J,te){if(J)return G(J);var pe;try{pe=Ho(te)}catch(Oe){return G(Oe,null)}return G(null,pe)})},y.loadSync=function(S){return Ho(vi(o("fs").readFileSync(S)))},Object.defineProperty(y,"__esModule",{value:!0})},g("object"==typeof H&&void 0!==oe?H:this.opentype={})}).call(this,o("buffer").Buffer)},{buffer:4,fs:2}],258:[function(o,oe,H){(function(v){function w(C,E){for(var s=0,u=C.length-1;0<=u;u--){var a=C[u];"."===a?C.splice(u,1):".."===a?(C.splice(u,1),s++):s&&(C.splice(u,1),s--)}if(E)for(;s--;)C.unshift("..");return C}function g(C,E){if(C.filter)return C.filter(E);for(var s=[],u=0;u<C.length;u++)E(C[u],u,C)&&s.push(C[u]);return s}H.resolve=function(){for(var C="",E=!1,s=arguments.length-1;-1<=s&&!E;s--){var u=0<=s?arguments[s]:v.cwd();if("string"!=typeof u)throw new TypeError("Arguments to path.resolve must be strings");u&&(C=u+"/"+C,E="/"===u.charAt(0))}return(E?"/":"")+(C=w(g(C.split("/"),function(a){return!!a}),!E).join("/"))||"."},H.normalize=function(C){var E=H.isAbsolute(C),s="/"===y(C,-1);return(C=(C=w(g(C.split("/"),function(u){return!!u}),!E).join("/"))||E?C:".")&&s&&(C+="/"),(E?"/":"")+C},H.isAbsolute=function(C){return"/"===C.charAt(0)},H.join=function(){var C=Array.prototype.slice.call(arguments,0);return H.normalize(g(C,function(E,s){if("string"!=typeof E)throw new TypeError("Arguments to path.join must be strings");return E}).join("/"))},H.relative=function(C,E){function s(c){for(var h=0;h<c.length&&""===c[h];h++);for(var _=c.length-1;0<=_&&""===c[_];_--);return _<h?[]:c.slice(h,_-h+1)}C=H.resolve(C).substr(1),E=H.resolve(E).substr(1);for(var u=s(C.split("/")),a=s(E.split("/")),d=Math.min(u.length,a.length),p=d,l=0;l<d;l++)if(u[l]!==a[l]){p=l;break}var m=[];for(l=p;l<u.length;l++)m.push("..");return(m=m.concat(a.slice(p))).join("/")},H.sep="/",H.delimiter=":",H.dirname=function(C){if("string"!=typeof C&&(C+=""),0===C.length)return".";for(var E=47===C.charCodeAt(0),s=-1,u=!0,a=C.length-1;1<=a;--a)if(47===C.charCodeAt(a)){if(!u){s=a;break}}else u=!1;return-1===s?E?"/":".":E&&1===s?"/":C.slice(0,s)},H.basename=function(C,E){return C=function(s){"string"!=typeof s&&(s+="");for(var u=0,a=-1,d=!0,p=s.length-1;0<=p;--p)if(47===s.charCodeAt(p)){if(!d){u=p+1;break}}else-1===a&&(d=!1,a=p+1);return-1===a?"":s.slice(u,a)}(C),E&&C.substr(-1*E.length)===E?C.substr(0,C.length-E.length):C},H.extname=function(C){"string"!=typeof C&&(C+="");for(var E=-1,s=0,u=-1,a=!0,d=0,p=C.length-1;0<=p;--p){var l=C.charCodeAt(p);if(47===l){if(a)continue;s=p+1;break}-1===u&&(a=!1,u=p+1),46===l?-1===E?E=p:1!==d&&(d=1):-1!==E&&(d=-1)}return-1===E||-1===u||0===d||1===d&&E===u-1&&E===s+1?"":C.slice(E,u)};var y=function(C,E,s){return C.substr(E,s)}}).call(this,o("_process"))},{_process:259}],259:[function(o,g,H){var v,w;function y(){throw new Error("setTimeout has not been defined")}function C(){throw new Error("clearTimeout has not been defined")}g=g.exports={};try{v="function"==typeof setTimeout?setTimeout:y}catch{v=y}try{w="function"==typeof clearTimeout?clearTimeout:C}catch{w=C}function E(h){if(v===setTimeout)return setTimeout(h,0);if((v===y||!v)&&setTimeout)return(v=setTimeout)(h,0);try{return v(h,0)}catch{try{return v.call(null,h,0)}catch{return v.call(this,h,0)}}}var s,u=[],a=!1,d=-1;function p(){a&&s&&(a=!1,s.length?u=s.concat(u):d=-1,u.length&&l())}function l(){if(!a){for(var h=E(p),_=(a=!0,u.length);_;){for(s=u,u=[];++d<_;)s&&s[d].run();d=-1,_=u.length}s=null,a=!1,function(M){if(w===clearTimeout)return clearTimeout(M);if((w===C||!w)&&clearTimeout)return(w=clearTimeout)(M);try{w(M)}catch{try{return w.call(null,M)}catch{return w.call(this,M)}}}(h)}}function m(h,_){this.fun=h,this.array=_}function c(){}g.nextTick=function(h){var _=new Array(arguments.length-1);if(1<arguments.length)for(var M=1;M<arguments.length;M++)_[M-1]=arguments[M];u.push(new m(h,_)),1!==u.length||a||E(l)},m.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=c,g.addListener=c,g.once=c,g.off=c,g.removeListener=c,g.removeAllListeners=c,g.emit=c,g.prependListener=c,g.prependOnceListener=c,g.listeners=function(h){return[]},g.binding=function(h){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(h){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},{}],260:[function(o,oe,H){oe=function(v){"use strict";var w,g=Object.prototype,y=g.hasOwnProperty,C=(x="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",E=x.asyncIterator||"@@asyncIterator",s=x.toStringTag||"@@toStringTag";function u(X,ee,F,me){var ie,Te,q,k;return ee=ee&&ee.prototype instanceof h?ee:h,ee=Object.create(ee.prototype),me=new Q(me||[]),ee._invoke=(ie=X,Te=F,q=me,k=d,function(xe,Ge){if(k===l)throw new Error("Generator is already running");if(k===m){if("throw"===xe)throw Ge;return V()}for(q.method=xe,q.arg=Ge;;){var Ye=q.delegate;if(Ye&&(Ye=function mt(We,ct){var dt=We.iterator[ct.method];if(dt===w){if(ct.delegate=null,"throw"===ct.method){if(We.iterator.return&&(ct.method="return",ct.arg=w,mt(We,ct),"throw"===ct.method))return c;ct.method="throw",ct.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}return"throw"===(dt=a(dt,We.iterator,ct.arg)).type?(ct.method="throw",ct.arg=dt.arg,ct.delegate=null,c):(dt=dt.arg)?dt.done?(ct[We.resultName]=dt.value,ct.next=We.nextLoc,"return"!==ct.method&&(ct.method="next",ct.arg=w),ct.delegate=null,c):dt:(ct.method="throw",ct.arg=new TypeError("iterator result is not an object"),ct.delegate=null,c)}(Ye,q))){if(Ye===c)continue;return Ye}if("next"===q.method)q.sent=q._sent=q.arg;else if("throw"===q.method){if(k===d)throw k=m,q.arg;q.dispatchException(q.arg)}else"return"===q.method&&q.abrupt("return",q.arg);if(k=l,"normal"===(Ye=a(ie,Te,q)).type){if(k=q.done?m:p,Ye.arg!==c)return{value:Ye.arg,done:q.done}}else"throw"===Ye.type&&(k=m,q.method="throw",q.arg=Ye.arg)}}),ee}function a(X,U,F){try{return{type:"normal",arg:X.call(U,F)}}catch(K){return{type:"throw",arg:K}}}v.wrap=u;var d="suspendedStart",p="suspendedYield",l="executing",m="completed",c={};function h(){}function _(){}function M(){}var x,A,T=((x={})[C]=function(){return this},(A=(A=Object.getPrototypeOf)&&A(A(ne([]))))&&A!==g&&y.call(A,C)&&(x=A),M.prototype=h.prototype=Object.create(x));function N(X){["next","throw","return"].forEach(function(U){X[U]=function(F){return this._invoke(U,F)}})}function I(X){var U;this._invoke=function(F,K){function ie(){return new Promise(function(Te,q){!function k(mt,me,xe,Ge){var Ye;if("throw"!==(mt=a(X[mt],X,me)).type)return(me=(Ye=mt.arg).value)&&"object"==typeof me&&y.call(me,"__await")?Promise.resolve(me.__await).then(function(We){k("next",We,xe,Ge)},function(We){k("throw",We,xe,Ge)}):Promise.resolve(me).then(function(We){Ye.value=We,xe(Ye)},function(We){return k("throw",We,xe,Ge)});Ge(mt.arg)}(F,K,Te,q)})}return U=U?U.then(ie,ie):ie()}}function z(X){var U={tryLoc:X[0]};1 in X&&(U.catchLoc=X[1]),2 in X&&(U.finallyLoc=X[2],U.afterLoc=X[3]),this.tryEntries.push(U)}function R(X){var U=X.completion||{};U.type="normal",delete U.arg,X.completion=U}function Q(X){this.tryEntries=[{tryLoc:"root"}],X.forEach(z,this),this.reset(!0)}function ne(X){if(X){var U,F=X[C];if(F)return F.call(X);if("function"==typeof X.next)return X;if(!isNaN(X.length))return U=-1,(F=function K(){for(;++U<X.length;)if(y.call(X,U))return K.value=X[U],K.done=!1,K;return K.value=w,K.done=!0,K}).next=F}return{next:V}}function V(){return{value:w,done:!0}}return(_.prototype=T.constructor=M).constructor=_,M[s]=_.displayName="GeneratorFunction",v.isGeneratorFunction=function(X){return!!(X="function"==typeof X&&X.constructor)&&(X===_||"GeneratorFunction"===(X.displayName||X.name))},v.mark=function(X){return Object.setPrototypeOf?Object.setPrototypeOf(X,M):(X.__proto__=M,s in X||(X[s]="GeneratorFunction")),X.prototype=Object.create(T),X},v.awrap=function(X){return{__await:X}},N(I.prototype),I.prototype[E]=function(){return this},v.AsyncIterator=I,v.async=function(X,U,F,K){var ie=new I(u(X,U,F,K));return v.isGeneratorFunction(U)?ie:ie.next().then(function(Te){return Te.done?Te.value:ie.next()})},N(T),T[s]="Generator",T[C]=function(){return this},T.toString=function(){return"[object Generator]"},v.keys=function(X){var U,F=[];for(U in X)F.push(U);return F.reverse(),function K(){for(;F.length;){var ie=F.pop();if(ie in X)return K.value=ie,K.done=!1,K}return K.done=!0,K}},v.values=ne,Q.prototype={constructor:Q,reset:function(X){if(this.prev=0,this.next=0,this.sent=this._sent=w,this.done=!1,this.delegate=null,this.method="next",this.arg=w,this.tryEntries.forEach(R),!X)for(var U in this)"t"===U.charAt(0)&&y.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=w)},stop:function(){this.done=!0;var X=this.tryEntries[0].completion;if("throw"===X.type)throw X.arg;return this.rval},dispatchException:function(X){if(this.done)throw X;var U=this;function F(ee,me){return Te.type="throw",Te.arg=X,U.next=ee,me&&(U.method="next",U.arg=w),!!me}for(var K=this.tryEntries.length-1;0<=K;--K){var ie=this.tryEntries[K],Te=ie.completion;if("root"===ie.tryLoc)return F("end");if(ie.tryLoc<=this.prev){var q=y.call(ie,"catchLoc"),k=y.call(ie,"finallyLoc");if(q&&k){if(this.prev<ie.catchLoc)return F(ie.catchLoc,!0);if(this.prev<ie.finallyLoc)return F(ie.finallyLoc)}else if(q){if(this.prev<ie.catchLoc)return F(ie.catchLoc,!0)}else{if(!k)throw new Error("try statement without catch or finally");if(this.prev<ie.finallyLoc)return F(ie.finallyLoc)}}}},abrupt:function(X,U){for(var F=this.tryEntries.length-1;0<=F;--F){var K=this.tryEntries[F];if(K.tryLoc<=this.prev&&y.call(K,"finallyLoc")&&this.prev<K.finallyLoc){var ie=K;break}}var Te=(ie=ie&&("break"===X||"continue"===X)&&ie.tryLoc<=U&&U<=ie.finallyLoc?null:ie)?ie.completion:{};return Te.type=X,Te.arg=U,ie?(this.method="next",this.next=ie.finallyLoc,c):this.complete(Te)},complete:function(X,U){if("throw"===X.type)throw X.arg;return"break"===X.type||"continue"===X.type?this.next=X.arg:"return"===X.type?(this.rval=this.arg=X.arg,this.method="return",this.next="end"):"normal"===X.type&&U&&(this.next=U),c},finish:function(X){for(var U=this.tryEntries.length-1;0<=U;--U){var F=this.tryEntries[U];if(F.finallyLoc===X)return this.complete(F.completion,F.afterLoc),R(F),c}},catch:function(X){for(var U=this.tryEntries.length-1;0<=U;--U){var F,K,ie=this.tryEntries[U];if(ie.tryLoc===X)return"throw"===(F=ie.completion).type&&(K=F.arg,R(ie)),K}throw new Error("illegal catch attempt")},delegateYield:function(X,U,F){return this.delegate={iterator:ne(X),resultName:U,nextLoc:F},"next"===this.method&&(this.arg=w),c}},v}("object"==typeof oe?oe.exports:{});try{regeneratorRuntime=oe}catch{Function("r","regeneratorRuntime = r")(oe)}},{}],261:[function(o,oe,H){!function(v){"use strict";var w,g,y,C,E,s,u,a,d,p;function l(R){if("string"!=typeof R&&(R=String(R)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(R))throw new TypeError("Invalid character in header field name");return R.toLowerCase()}function m(R){return"string"!=typeof R?String(R):R}function c(R){var Q={next:function(){var ne=R.shift();return{done:void 0===ne,value:ne}}};return g&&(Q[Symbol.iterator]=function(){return Q}),Q}function h(R){this.map={},R instanceof h?R.forEach(function(Q,ne){this.append(ne,Q)},this):Array.isArray(R)?R.forEach(function(Q){this.append(Q[0],Q[1])},this):R&&Object.getOwnPropertyNames(R).forEach(function(Q){this.append(Q,R[Q])},this)}function _(R){if(R.bodyUsed)return Promise.reject(new TypeError("Already read"));R.bodyUsed=!0}function M(R){return new Promise(function(Q,ne){R.onload=function(){Q(R.result)},R.onerror=function(){ne(R.error)}})}function x(R){var Q=new FileReader,ne=M(Q);return Q.readAsArrayBuffer(R),ne}function A(R){var Q;return R.slice?R.slice(0):((Q=new Uint8Array(R.byteLength)).set(new Uint8Array(R)),Q.buffer)}function T(){return this.bodyUsed=!1,this._initBody=function(R){if(this._bodyInit=R)if("string"==typeof R)this._bodyText=R;else if(y&&Blob.prototype.isPrototypeOf(R))this._bodyBlob=R;else if(C&&FormData.prototype.isPrototypeOf(R))this._bodyFormData=R;else if(w&&URLSearchParams.prototype.isPrototypeOf(R))this._bodyText=R.toString();else if(E&&y&&u(R))this._bodyArrayBuffer=A(R.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!E||!ArrayBuffer.prototype.isPrototypeOf(R)&&!a(R))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=A(R)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof R?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):w&&URLSearchParams.prototype.isPrototypeOf(R)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y&&(this.blob=function(){var R=_(this);if(R)return R;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(x)}),this.text=function(){var R,Q,ne=_(this);if(ne)return ne;if(this._bodyBlob)return ne=this._bodyBlob,Q=M(R=new FileReader),R.readAsText(ne),Q;if(this._bodyArrayBuffer)return Promise.resolve(function(V){for(var X=new Uint8Array(V),U=new Array(X.length),F=0;F<X.length;F++)U[F]=String.fromCharCode(X[F]);return U.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},C&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}function N(R,Q){var ne,V=(Q=Q||{}).body;if(R instanceof N){if(R.bodyUsed)throw new TypeError("Already read");this.url=R.url,this.credentials=R.credentials,Q.headers||(this.headers=new h(R.headers)),this.method=R.method,this.mode=R.mode,V||null==R._bodyInit||(V=R._bodyInit,R.bodyUsed=!0)}else this.url=String(R);if(this.credentials=Q.credentials||this.credentials||"omit",!Q.headers&&this.headers||(this.headers=new h(Q.headers)),this.method=(ne=(R=Q.method||this.method||"GET").toUpperCase(),-1<d.indexOf(ne)?ne:R),this.mode=Q.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&V)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(V)}function I(R){var Q=new FormData;return R.trim().split("&").forEach(function(ne){var V;ne&&(V=(ne=ne.split("=")).shift().replace(/\+/g," "),ne=ne.join("=").replace(/\+/g," "),Q.append(decodeURIComponent(V),decodeURIComponent(ne)))}),Q}function z(R,Q){Q=Q||{},this.type="default",this.status=void 0===Q.status?200:Q.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in Q?Q.statusText:"OK",this.headers=new h(Q.headers),this.url=Q.url||"",this._initBody(R)}v.fetch||(w="URLSearchParams"in v,g="Symbol"in v&&"iterator"in Symbol,y="FileReader"in v&&"Blob"in v&&function(){try{return new Blob,!0}catch{return!1}}(),C="FormData"in v,(E="ArrayBuffer"in v)&&(s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=function(R){return R&&DataView.prototype.isPrototypeOf(R)},a=ArrayBuffer.isView||function(R){return R&&-1<s.indexOf(Object.prototype.toString.call(R))}),h.prototype.append=function(R,Q){R=l(R),Q=m(Q);var ne=this.map[R];this.map[R]=ne?ne+","+Q:Q},h.prototype.delete=function(R){delete this.map[l(R)]},h.prototype.get=function(R){return R=l(R),this.has(R)?this.map[R]:null},h.prototype.has=function(R){return this.map.hasOwnProperty(l(R))},h.prototype.set=function(R,Q){this.map[l(R)]=m(Q)},h.prototype.forEach=function(R,Q){for(var ne in this.map)this.map.hasOwnProperty(ne)&&R.call(Q,this.map[ne],ne,this)},h.prototype.keys=function(){var R=[];return this.forEach(function(Q,ne){R.push(ne)}),c(R)},h.prototype.values=function(){var R=[];return this.forEach(function(Q){R.push(Q)}),c(R)},h.prototype.entries=function(){var R=[];return this.forEach(function(Q,ne){R.push([ne,Q])}),c(R)},g&&(h.prototype[Symbol.iterator]=h.prototype.entries),d=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],N.prototype.clone=function(){return new N(this,{body:this._bodyInit})},T.call(N.prototype),T.call(z.prototype),z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},z.error=function(){var R=new z(null,{status:0,statusText:""});return R.type="error",R},p=[301,302,303,307,308],z.redirect=function(R,Q){if(-1===p.indexOf(Q))throw new RangeError("Invalid status code");return new z(null,{status:Q,headers:{location:R}})},v.Headers=h,v.Request=N,v.Response=z,v.fetch=function(R,Q){return new Promise(function(ne,V){var X=new N(R,Q),U=new XMLHttpRequest;U.onload=function(){var F,K={status:U.status,statusText:U.statusText,headers:(K=U.getAllResponseHeaders()||"",F=new h,K.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(q){var k=(q=q.split(":")).shift().trim();k&&(q=q.join(":").trim(),F.append(k,q))}),F)},ie=(K.url="responseURL"in U?U.responseURL:K.headers.get("X-Request-URL"),"response"in U?U.response:U.responseText);ne(new z(ie,K))},U.onerror=function(){V(new TypeError("Network request failed"))},U.ontimeout=function(){V(new TypeError("Network request failed"))},U.open(X.method,X.url,!0),"include"===X.credentials?U.withCredentials=!0:"omit"===X.credentials&&(U.withCredentials=!1),"responseType"in U&&y&&(U.responseType="blob"),X.headers.forEach(function(F,K){U.setRequestHeader(K,F)}),U.send(void 0===X._bodyInit?null:X._bodyInit)})},v.fetch.polyfill=!0)}(typeof self<"u"?self:this)},{}],262:[function(o,oe,H){"use strict";o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v,w=y(o("../core/main")),g=y(o("../color/color_conversion"));function y(s){return s&&s.__esModule?s:{default:s}}var C=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],E=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];w.default.prototype._rgbColorName=function(d){d=g.default._rgbaToHSBA(d);var u,a,p=[(v=d)[0],d[1],d[2]];0!==p[0]&&(p[0]=Math.round(100*p[0]),(d=p[0].toString().split(""))[a=d.length-1]=parseInt(d[a]),d[a]<2.5?d[a]=0:2.5<=d[a]&&d[a]<7.5&&(d[a]=5),2===d.length?(d[0]=parseInt(d[0]),7.5<=d[a]&&(d[a]=0,d[0]=d[0]+1),p[0]=10*d[0]+d[1]):p[0]=7.5<=d[a]?10:d[a]),p[2]=p[2]/255;for(var l=p.length-1;1<=l;l--)p[l]=p[l]<=.25?0:.25<p[l]&&p[l]<.75?.5:1;if(0===p[0]&&0===p[1]&&1===p[2]){for(var m=2;0<=m;m--)v[m]=Math.round(1e4*v[m])/1e4;for(var c=0;c<C.length;c++){if(C[c].h===v[0]&&C[c].s===v[1]&&C[c].b===v[2]){u=C[c].name;break}u="white"}}else for(var h=0;h<E.length;h++)if(E[h].h===p[0]&&E[h].s===p[1]&&E[h].b===p[2]){u=E[h].name;break}return u},H.default=o=w.default},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(o,oe,H){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o},w="_Description",g="_fallbackDesc",y="_fallbackTable",C="_Label",E="_labelDesc",s="_labelTable";function u(a){if("label"===a||"fallback"===a)throw new Error("description should not be LABEL or FALLBACK");return a.endsWith(".")||a.endsWith(";")||a.endsWith(",")||a.endsWith("?")||a.endsWith("!")||(a+="."),a}v.default.prototype.describe=function(a,d){var p;v.default._validateParameters("describe",arguments),"string"==typeof a&&(p=this.canvas.id,a=u(a),this.dummyDOM||(this.dummyDOM=document.getElementById(p).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==a&&(this.descriptions.fallback.innerHTML=a):this._describeHTML("fallback",a),d===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==a&&(this.descriptions.label.innerHTML=a):this._describeHTML("label",a)))},v.default.prototype.describeElement=function(a,d,p){var l,m;v.default._validateParameters("describeElement",arguments),"string"==typeof d&&"string"==typeof a&&(l=this.canvas.id,d=u(d),m=function(c){if("label"===c||"fallback"===c)throw new Error("element name should not be LABEL or FALLBACK");return c.endsWith(".")||c.endsWith(";")||c.endsWith(",")?c=c.replace(/.$/,":"):c.endsWith(":")||(c+=":"),c}(a),a=a.replace(/[^a-zA-Z0-9]/g,""),m='<th scope="row">'.concat(m,"</th><td>").concat(d,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(l).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[a]?this.descriptions.fallbackElements[a].innerHTML!==m&&(this.descriptions.fallbackElements[a].innerHTML=m):this._describeElementHTML("fallback",a,m),p===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[a]?this.descriptions.labelElements[a].innerHTML!==m&&(this.descriptions.labelElements[a].innerHTML=m):this._describeElementHTML("label",a,m)))},v.default.prototype._describeHTML=function(a,d){var p,l=this.canvas.id;"fallback"===a?(this.dummyDOM.querySelector("#".concat(l+w))?this.dummyDOM.querySelector("#"+l+y).insertAdjacentHTML("beforebegin",'<p id="'.concat(l+g,'"></p>')):(p='<div id="'.concat(l).concat(w,'" role="region" aria-label="Canvas Description"><p id="').concat(l).concat(g,'"></p></div>'),this.dummyDOM.querySelector("#".concat(l,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(l,"accessibleOutput")).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector("#".concat(l)).innerHTML=p),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(l).concat(g)),this.descriptions.fallback.innerHTML=d):"label"===a&&(this.dummyDOM.querySelector("#".concat(l+C))?this.dummyDOM.querySelector("#".concat(l+s))&&this.dummyDOM.querySelector("#".concat(l+s)).insertAdjacentHTML("beforebegin",'<p id="'.concat(l).concat(E,'"></p>')):(p='<div id="'.concat(l).concat(C,'" class="p5Label"><p id="').concat(l).concat(E,'"></p></div>'),this.dummyDOM.querySelector("#".concat(l,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(l,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector("#"+l).insertAdjacentHTML("afterend",p)),this.descriptions.label=this.dummyDOM.querySelector("#"+l+E),this.descriptions.label.innerHTML=d)},v.default.prototype._describeElementHTML=function(a,d,p){var l,m=this.canvas.id;"fallback"===a?(this.dummyDOM.querySelector("#".concat(m+w))?this.dummyDOM.querySelector("#"+m+y)||this.dummyDOM.querySelector("#"+m+g).insertAdjacentHTML("afterend",'<table id="'.concat(m).concat(y,'"><caption>Canvas elements and their descriptions</caption></table>')):(l='<div id="'.concat(m).concat(w,'" role="region" aria-label="Canvas Description"><table id="').concat(m).concat(y,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(m,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(m,"accessibleOutput")).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#"+m).innerHTML=l),(l=document.createElement("tr")).id=m+"_fte_"+d,this.dummyDOM.querySelector("#"+m+y).appendChild(l),this.descriptions.fallbackElements[d]=this.dummyDOM.querySelector("#".concat(m).concat("_fte_").concat(d)),this.descriptions.fallbackElements[d].innerHTML=p):"label"===a&&(this.dummyDOM.querySelector("#".concat(m+C))?this.dummyDOM.querySelector("#".concat(m+s))||this.dummyDOM.querySelector("#"+m+E).insertAdjacentHTML("afterend",'<table id="'.concat(m+s,'"></table>')):(l='<div id="'.concat(m).concat(C,'" class="p5Label"><table id="').concat(m).concat(s,'"></table></div>'),this.dummyDOM.querySelector("#".concat(m,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(m,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#"+m).insertAdjacentHTML("afterend",l)),(a=document.createElement("tr")).id=m+"_lte_"+d,this.dummyDOM.querySelector("#"+m+s).appendChild(a),this.descriptions.labelElements[d]=this.dummyDOM.querySelector("#".concat(m).concat("_lte_").concat(d)),this.descriptions.labelElements[d].innerHTML=p)},H.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(o,oe,H){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.map"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.map"),o("core-js/modules/es.string.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype._updateGridOutput=function(v){var w,g,y,C,E,s,u,a;this.dummyDOM.querySelector("#".concat(v,"_summary"))&&(w=this._accessibleOutputs[v],E=(g=function(E,s){var u,a="",d="",p=0;for(u in s){var l,m=0;for(l in s[u]){var c='<li id="'.concat(E,"shape").concat(p,'">').concat(s[u][l].color," ").concat(u,",");"line"===u?c+=" location = ".concat(s[u][l].pos,", length = ").concat(s[u][l].length," pixels"):(c+=" location = ".concat(s[u][l].pos),"point"!==u&&(c+=", area = ".concat(s[u][l].area," %")),c+="</li>"),a+=c,m++,p++}d=1<m?"".concat(d," ").concat(m," ").concat(u,"s"):"".concat(d," ").concat(m," ").concat(u)}return{numShapes:[p,d],details:a}}(v,this.ingredients.shapes)).numShapes,u=this.width,a=this.height,s="".concat(s=this.ingredients.colors.background," canvas, ").concat(u," by ").concat(a," pixels, contains ").concat(E[0]),y=s="".concat(s,1===E[0]?" shape: ":" shapes: ").concat(E[1]),C=function(E,s){var u,a,d=0,p="",l=Array.from(Array(10),function(){return Array(10)});for(u in s)for(var m in s[u]){var c;c="line"!==u?'<a href="#'.concat(E,"shape").concat(d,'">').concat(s[u][m].color," ").concat(u,"</a>"):'<a href="#'.concat(E,"shape").concat(d,'">').concat(s[u][m].color," ").concat(u," midpoint</a>"),s[u][m].loc.locY<l.length&&s[u][m].loc.locX<l[s[u][m].loc.locY].length&&(l[s[u][m].loc.locY][s[u][m].loc.locX]=l[s[u][m].loc.locY][s[u][m].loc.locX]?l[s[u][m].loc.locY][s[u][m].loc.locX]+"  "+c:c,d++)}for(a in l){var h,_="<tr>";for(h in l[a])_+="<td>",void 0!==l[a][h]&&(_+=l[a][h]),_+="</td>";p=p+_+"</tr>"}return p}(v,this.ingredients.shapes),y!==w.summary.innerHTML&&(w.summary.innerHTML=y),C!==w.map.innerHTML&&(w.map.innerHTML=C),g.details!==w.shapeDetails.innerHTML&&(w.shapeDetails.innerHTML=g.details),this._accessibleOutputs[v]=w)},H.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(o,oe,H){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function g(y,C,E){return 10===(C=Math.floor(y[0]/C*10))&&(C-=1),10===(y=Math.floor(y[1]/E*10))&&(y-=1),{locX:C,locY:y}}v.default.prototype.textOutput=function(y){v.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),y===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},v.default.prototype.gridOutput=function(y){v.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),y===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},v.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},v.default.prototype._createOutput=function(y,C){var E,s,u,a=this.canvas.id,d=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(a).parentNode),"");"Fallback"===C?(E=a+y,this.dummyDOM.querySelector("#".concat(s=a+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(a,"_Description"))?this.dummyDOM.querySelector("#".concat(a,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(s,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(a)).innerHTML='<div id="'.concat(s,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===C&&(E=a+y+(d=C),this.dummyDOM.querySelector("#".concat(s=a+"accessibleOutput"+C))||(this.dummyDOM.querySelector("#".concat(a,"_Label"))?this.dummyDOM.querySelector("#".concat(a,"_Label")):this.dummyDOM.querySelector("#".concat(a))).insertAdjacentHTML("afterend",'<div id="'.concat(s,'"></div>'))),this._accessibleOutputs[E]={},"textOutput"===y?(d="#".concat(a,"gridOutput").concat(d),u='<div id="'.concat(E,'">Text Output<div id="').concat(E,'Summary" aria-label="text output summary"><p id="').concat(E,'_summary"></p><ul id="').concat(E,'_list"></ul></div><table id="').concat(E,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(d)?this.dummyDOM.querySelector(d).insertAdjacentHTML("beforebegin",u):this.dummyDOM.querySelector("#".concat(s)).innerHTML=u,this._accessibleOutputs[E].list=this.dummyDOM.querySelector("#".concat(E,"_list"))):"gridOutput"===y&&(d="#".concat(a,"textOutput").concat(d),u='<div id="'.concat(E,'">Grid Output<p id="').concat(E,'_summary" aria-label="grid output summary"><table id="').concat(E,'_map" summary="grid output content"></table><ul id="').concat(E,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(d)?this.dummyDOM.querySelector(d).insertAdjacentHTML("afterend",u):this.dummyDOM.querySelector("#".concat(s)).innerHTML=u,this._accessibleOutputs[E].map=this.dummyDOM.querySelector("#".concat(E,"_map"))),this._accessibleOutputs[E].shapeDetails=this.dummyDOM.querySelector("#".concat(E,"_shapeDetails")),this._accessibleOutputs[E].summary=this.dummyDOM.querySelector("#".concat(E,"_summary"))},v.default.prototype._updateAccsOutput=function(){var y=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(y+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(y+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(y+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(y+"gridOutputLabel"))},v.default.prototype._accsBackground=function(y){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==y&&(this.ingredients.colors.backgroundRGBA=y,this.ingredients.colors.background=this._rgbColorName(y))},v.default.prototype._accsCanvasColors=function(y,C){"fill"===y?this.ingredients.colors.fillRGBA!==C&&(this.ingredients.colors.fillRGBA=C,this.ingredients.colors.fill=this._rgbColorName(C)):"stroke"===y&&this.ingredients.colors.strokeRGBA!==C&&(this.ingredients.colors.strokeRGBA=C,this.ingredients.colors.stroke=this._rgbColorName(C))},v.default.prototype._accsOutput=function(y,C){"ellipse"===y&&C[2]===C[3]?y="circle":"rectangle"===y&&C[2]===C[3]&&(y="square");var E,s,l,m,c,u={},a=!0,d=(m=C,l="rectangle"===(l=y)||"ellipse"===l||"arc"===l||"circle"===l||"square"===l?(c=Math.round(m[0]+m[2]/2),Math.round(m[1]+m[3]/2)):"triangle"===l?(c=(m[0]+m[2]+m[4])/3,(m[1]+m[3]+m[5])/3):"quadrilateral"===l?(c=(m[0]+m[2]+m[4]+m[6])/4,(m[1]+m[3]+m[5]+m[7])/4):"line"===l?(c=(m[0]+m[2])/2,(m[1]+m[3])/2):(c=m[0],m[1]),[c,l]);if("line"===y?(u.color=this.ingredients.colors.stroke,u.length=Math.round(this.dist(C[0],C[1],C[2],C[3])),E=this._getPos(C[0],[1]),s=this._getPos(C[2],[3]),u.loc=g(d,this.width,this.height),u.pos=E===s?"at ".concat(E):"from ".concat(E," to ").concat(s)):("point"===y?u.color=this.ingredients.colors.stroke:(u.color=this.ingredients.colors.fill,u.area=this._getArea(y,C)),u.pos=this._getPos.apply(this,function w(y){return function(C){if(Array.isArray(C)){for(var E=0,s=new Array(C.length);E<C.length;E++)s[E]=C[E];return s}}(y)||function(C){if(Symbol.iterator in Object(C)||"[object Arguments]"===Object.prototype.toString.call(C))return Array.from(C)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(d)),u.loc=g(d,this.width,this.height)),this.ingredients.shapes[y]){if(this.ingredients.shapes[y]!==[u]){for(var p in this.ingredients.shapes[y])JSON.stringify(this.ingredients.shapes[y][p])===JSON.stringify(u)&&(a=!1);!0===a&&this.ingredients.shapes[y].push(u)}}else this.ingredients.shapes[y]=[u]},v.default.prototype._getPos=function(s,E){s=new DOMPointReadOnly(s,E),E=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),E=(s=s.matrixTransform(E)).x,s=s.y;var u=this.width*this._pixelDensity,a=this.height*this._pixelDensity;return E<.4*u?s<.4*a?"top left":.6*a<s?"bottom left":"mid left":.6*u<E?s<.4*a?"top right":.6*a<s?"bottom right":"mid right":s<.4*a?"top middle":.6*a<s?"bottom middle":"middle"},v.default.prototype._getArea=function(y,C){var E,s,u=0,a=("arc"===y?(u=(E=((C[5]-C[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*C[2]*C[3]/8,"open"!==C[6]&&"chord"!==C[6]||(s=C[0],m=C[1],a=C[0]+C[2]/2*Math.cos(C[4]).toFixed(2),c=C[1]+C[3]/2*Math.sin(C[4]).toFixed(2),p=C[0]+C[2]/2*Math.cos(C[5]).toFixed(2),d=C[1]+C[3]/2*Math.sin(C[5]).toFixed(2),s=Math.abs(s*(c-d)+a*(d-m)+p*(m-c))/2,E>Math.PI?u+=s:u-=s)):"ellipse"===y||"circle"===y?u=3.14*C[2]/2*C[3]/2:"line"===y||"point"===y?u=0:"quadrilateral"===y?u=Math.abs((C[6]+C[0])*(C[7]-C[1])+(C[0]+C[2])*(C[1]-C[3])+(C[2]+C[4])*(C[3]-C[5])+(C[4]+C[6])*(C[5]-C[7]))/2:"rectangle"===y||"square"===y?u=C[2]*C[3]:"triangle"===y&&(u=Math.abs(C[0]*(C[3]-C[5])+C[2]*(C[5]-C[1])+C[4]*(C[1]-C[3]))/2),this.width*this._pixelDensity),d=this.height*this._pixelDensity,p=[new DOMPoint(0,0),new DOMPoint(a,0),new DOMPoint(a,d),new DOMPoint(0,d)],l=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),m=p.map(function(h){return h.matrixTransform(l)}),c=Math.abs((m[3].x+m[0].x)*(m[3].y-m[0].y)+(m[0].x+m[1].x)*(m[0].y-m[1].y)+(m[1].x+m[2].x)*(m[1].y-m[2].y)+(m[2].x+m[3].x)*(m[2].y-m[3].y))/2;return Math.round(100*u/c)},H.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(o,oe,H){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.concat"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype._updateTextOutput=function(v){var w,g,y,C,E,s,u,a;this.dummyDOM.querySelector("#".concat(v,"_summary"))&&(w=this._accessibleOutputs[v],E=(g=function(E,s){var u,a="",d=0;for(u in s)for(var p in s[u]){var l='<li><a href="#'.concat(E,"shape").concat(d,'">').concat(s[u][p].color," ").concat(u,"</a>");"line"===u?l+=", ".concat(s[u][p].pos,", ").concat(s[u][p].length," pixels long.</li>"):(l+=", at ".concat(s[u][p].pos),"point"!==u&&(l+=", covering ".concat(s[u][p].area,"% of the canvas")),l+=".</li>"),a+=l,d++}return{numShapes:d,listShapes:a}}(v,this.ingredients.shapes)).numShapes,s=this.ingredients.colors.background,a=this.height,u="Your output is a, ".concat(u=this.width," by ").concat(a," pixels, ").concat(s," canvas containing the following"),y=u=1===E?"".concat(u," shape:"):"".concat(u," ").concat(E," shapes:"),C=function(E,s){var u,a="",d=0;for(u in s)for(var p in s[u]){var l='<tr id="'.concat(E,"shape").concat(d,'"><th>').concat(s[u][p].color," ").concat(u,"</th>");"line"===u?l+="<td>location = ".concat(s[u][p].pos,"</td><td>length = ").concat(s[u][p].length," pixels</td></tr>"):(l+="<td>location = ".concat(s[u][p].pos,"</td>"),"point"!==u&&(l+="<td> area = ".concat(s[u][p].area,"%</td>")),l+="</tr>"),a+=l,d++}return a}(v,this.ingredients.shapes),y!==w.summary.innerHTML&&(w.summary.innerHTML=y),g.listShapes!==w.list.innerHTML&&(w.list.innerHTML=g.listShapes),C!==w.shapeDetails.innerHTML&&(w.shapeDetails.innerHTML=C),this._accessibleOutputs[v]=w)},H.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(o,oe,H){"use strict";var v=(v=o("./core/main"))&&v.__esModule?v:{default:v};o("./core/constants"),o("./core/environment"),o("./core/friendly_errors/stacktrace"),o("./core/friendly_errors/validate_params"),o("./core/friendly_errors/file_errors"),o("./core/friendly_errors/fes_core"),o("./core/friendly_errors/sketch_reader"),o("./core/helpers"),o("./core/legacy"),o("./core/preload"),o("./core/p5.Element"),o("./core/p5.Graphics"),o("./core/p5.Renderer"),o("./core/p5.Renderer2D"),o("./core/rendering"),o("./core/shim"),o("./core/structure"),o("./core/transform"),o("./core/shape/2d_primitives"),o("./core/shape/attributes"),o("./core/shape/curves"),o("./core/shape/vertex"),o("./accessibility/outputs"),o("./accessibility/textOutput"),o("./accessibility/gridOutput"),o("./accessibility/color_namer"),o("./color/color_conversion"),o("./color/creating_reading"),o("./color/p5.Color"),o("./color/setting"),o("./data/p5.TypedDict"),o("./data/local_storage.js"),o("./dom/dom"),o("./accessibility/describe"),o("./events/acceleration"),o("./events/keyboard"),o("./events/mouse"),o("./events/touch"),o("./image/filters"),o("./image/image"),o("./image/loading_displaying"),o("./image/p5.Image"),o("./image/pixels"),o("./io/files"),o("./io/p5.Table"),o("./io/p5.TableRow"),o("./io/p5.XML"),o("./math/calculation"),o("./math/math"),o("./math/noise"),o("./math/p5.Vector"),o("./math/random"),o("./math/trigonometry"),o("./typography/attributes"),o("./typography/loading_displaying"),o("./typography/p5.Font"),o("./utilities/array_functions"),o("./utilities/conversion"),o("./utilities/string_functions"),o("./utilities/time_date"),o("./webgl/3d_primitives"),o("./webgl/interaction"),o("./webgl/light"),o("./webgl/loading"),o("./webgl/material"),o("./webgl/p5.Camera"),o("./webgl/p5.DataArray"),o("./webgl/p5.Geometry"),o("./webgl/p5.Matrix"),o("./webgl/p5.Quat"),o("./webgl/p5.RendererGL.Immediate"),o("./webgl/p5.RendererGL"),o("./webgl/p5.RendererGL.Retained"),o("./webgl/p5.Framebuffer"),o("./webgl/p5.Shader"),o("./webgl/p5.RenderBuffer"),o("./webgl/p5.Texture"),o("./webgl/text"),o("./core/init"),oe.exports=v.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(o,oe,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.ColorConversion={_hsbaToHSLA:function(v){var g=v[1],y=v[2],C=(2-g)*y/2;return 0!=C&&(1==C?g=0:C<.5?g/=2-g:g=g*y/(2-2*C)),[v[0],g,C,v[3]]},_hsbaToRGBA:function(v){var w,g,y,C,E,s=6*v[0],u=v[1],a=v[2];return 0===u?[a,a,a,v[3]]:(g=a*(1-u),y=a*(1-u*(s-(w=Math.floor(s)))),u=a*(1-u*(1+w-s)),s=1===w?(C=y,E=a,g):2===w?(C=g,E=a,u):3===w?(C=g,E=y,a):4===w?(C=u,E=g,a):5===w?(C=a,E=g,y):(C=a,E=u,g),[C,E,s,v[3]])},_hslaToHSBA:function(v){var g=v[1],y=v[2],C=y<.5?(1+g)*y:y+g-y*g;return[v[0],g=2*(C-y)/C,C,v[3]]},_hslaToRGBA:function(v){var w,g=6*v[0],y=v[1],C=v[2];return 0===y?[C,C,C,v[3]]:[(w=function(E,s,u){return E<0?E+=6:6<=E&&(E-=6),E<1?s+(u-s)*E:E<3?u:E<4?s+(u-s)*(4-E):s})(2+g,y=2*C-(C=C<.5?(1+y)*C:C+y-C*y),C),w(g,y,C),w(g-2,y,C),v[3]]},_rgbaToHSBA:function(v){var w,g,y=v[0],C=v[1],E=v[2],s=Math.max(y,C,E),u=s-Math.min(y,C,E);return 0==u?g=w=0:(g=u/s,y===s?w=(C-E)/u:C===s?w=2+(E-y)/u:E===s&&(w=4+(y-C)/u),w<0?w+=6:6<=w&&(w-=6)),[w/6,g,s,v[3]]},_rgbaToHSLA:function(v){var w,g,a,y=v[0],C=v[1],E=v[2],s=Math.max(y,C,E),u=s+(a=Math.min(y,C,E));return 0==(a=s-a)?g=w=0:(g=u<1?a/u:a/(2-u),y===s?w=(C-E)/a:C===s?w=2+(E-y)/a:E===s&&(w=4+(y-C)/a),w<0?w+=6:6<=w&&(w-=6)),[w/6,g,u/2,v[3]]}},H.default=o=o.default.ColorConversion},{"../core/main":283}],269:[function(o,oe,H){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(s)}function w(s){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.map"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=(E=o("../core/main"))&&E.__esModule?E:{default:E},y=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==w(s)&&"function"!=typeof s)return{default:s};var u=C();if(u&&u.has(s))return u.get(s);var a,d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var l;Object.prototype.hasOwnProperty.call(s,a)&&((l=p?Object.getOwnPropertyDescriptor(s,a):null)&&(l.get||l.set)?Object.defineProperty(d,a,l):d[a]=s[a])}return d.default=s,u&&u.set(s,d),d}(o("../core/constants"));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}o("./p5.Color"),o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),g.default.prototype.alpha=function(s){return g.default._validateParameters("alpha",arguments),this.color(s)._getAlpha()},g.default.prototype.blue=function(s){return g.default._validateParameters("blue",arguments),this.color(s)._getBlue()},g.default.prototype.brightness=function(s){return g.default._validateParameters("brightness",arguments),this.color(s)._getBrightness()},g.default.prototype.color=function(){for(var s,u=arguments.length,a=new Array(u),d=0;d<u;d++)a[d]=arguments[d];return g.default._validateParameters("color",a),a[0]instanceof g.default.Color?a[0]:(s=Array.isArray(a[0])?a[0]:a,new g.default.Color(this,s))},g.default.prototype.green=function(s){return g.default._validateParameters("green",arguments),this.color(s)._getGreen()},g.default.prototype.hue=function(s){return g.default._validateParameters("hue",arguments),this.color(s)._getHue()},g.default.prototype.lerpColor=function(s,u,a){g.default._validateParameters("lerpColor",arguments);var d,p,l,m=this._colorMode,c=this._colorMaxes;if(m===y.RGB)p=s.levels.map(function(h){return h/255}),l=u.levels.map(function(h){return h/255});else if(m===y.HSB)s._getBrightness(),u._getBrightness(),p=s.hsba,l=u.hsba;else{if(m!==y.HSL)throw new Error("".concat(m," cannot be used for interpolation."));s._getLightness(),u._getLightness(),p=s.hsla,l=u.hsla}return a=Math.max(Math.min(a,1),0),void 0===this.lerp&&(this.lerp=function(h,_,M){return M*(_-h)+h}),m===y.RGB?d=this.lerp(p[0],l[0],a):(.5<Math.abs(p[0]-l[0])&&(p[0]>l[0]?l[0]+=1:p[0]+=1),1<=(d=this.lerp(p[0],l[0],a))&&--d),s=this.lerp(p[1],l[1],a),u=this.lerp(p[2],l[2],a),p=this.lerp(p[3],l[3],a),this.color(d*=c[m][0],s*=c[m][1],u*=c[m][2],p*=c[m][3])},g.default.prototype.lightness=function(s){return g.default._validateParameters("lightness",arguments),this.color(s)._getLightness()},g.default.prototype.red=function(s){return g.default._validateParameters("red",arguments),this.color(s)._getRed()},g.default.prototype.saturation=function(s){return g.default._validateParameters("saturation",arguments),this.color(s)._getSaturation()};var E=g.default;H.default=E},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(d,oe,H){"use strict";function v(h){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(h)}function w(h){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(_){return v(_)}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":v(_)})(h)}d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.includes"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.array.join"),d("core-js/modules/es.array.map"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.object.get-own-property-descriptor"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.constructor"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.includes"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.string.trim"),d("core-js/modules/es.weak-map"),d("core-js/modules/web.dom-collections.iterator"),d("core-js/modules/es.array.includes"),d("core-js/modules/es.array.join"),d("core-js/modules/es.array.map"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.constructor"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.includes"),d("core-js/modules/es.string.trim"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=s(d("../core/main")),y=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==w(h)&&"function"!=typeof h)return{default:h};var _=E();if(_&&_.has(h))return _.get(h);var M,x={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in h){var T;Object.prototype.hasOwnProperty.call(h,M)&&((T=A?Object.getOwnPropertyDescriptor(h,M):null)&&(T.get||T.set)?Object.defineProperty(x,M,T):x[M]=h[M])}return x.default=h,_&&_.set(h,x),x}(d("../core/constants")),C=s(d("./color_conversion"));function E(){var h;return"function"!=typeof WeakMap?null:(E=function(){return h},h=new WeakMap)}function s(h){return h&&h.__esModule?h:{default:h}}function u(h,_){for(var M=0;M<_.length;M++){var x=_[M];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}var a={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},c=(d=/\s*/,/(\d{1,3})/),p=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,l=new RegExp("".concat(p.source,"%")),m={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",c.source,",",c.source,",",c.source,"\\)$"].join(d.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",l.source,",",l.source,",",l.source,"\\)$"].join(d.source),"i"),RGBA:new RegExp(["^rgba\\(",c.source,",",c.source,",",c.source,",",p.source,"\\)$"].join(d.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",l.source,",",l.source,",",l.source,",",p.source,"\\)$"].join(d.source),"i"),HSL:new RegExp(["^hsl\\(",c.source,",",l.source,",",l.source,"\\)$"].join(d.source),"i"),HSLA:new RegExp(["^hsla\\(",c.source,",",l.source,",",l.source,",",p.source,"\\)$"].join(d.source),"i"),HSB:new RegExp(["^hsb\\(",c.source,",",l.source,",",l.source,"\\)$"].join(d.source),"i"),HSBA:new RegExp(["^hsba\\(",c.source,",",l.source,",",l.source,",",p.source,"\\)$"].join(d.source),"i")};g.default.Color=function(){function h(A,T){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(A._colorMode,A._colorMaxes),![y.RGB,y.HSL,y.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=h._parseInputs.apply(this,T),this._calculateLevels()}var _,M,x;return _=h,x=[{key:"_parseInputs",value:function(A,T,N,I){var z,R=arguments.length,Q=this.mode,ne=this.maxes[Q],V=[];if(3<=R){for(V[0]=A/ne[0],V[1]=T/ne[1],V[2]=N/ne[2],V[3]="number"==typeof I?I/ne[3]:1,z=V.length-1;0<=z;--z){var X=V[z];X<0?V[z]=0:1<X&&(V[z]=1)}return Q===y.HSL?C.default._hslaToRGBA(V):Q===y.HSB?C.default._hsbaToRGBA(V):V}if(1===R&&"string"==typeof A){if(N=A.trim().toLowerCase(),a[N])return h._parseInputs.call(this,a[N]);if(m.HEX3.test(N))return(V=m.HEX3.exec(N).slice(1).map(function(U){return parseInt(U+U,16)/255}))[3]=1,V;if(m.HEX6.test(N))return(V=m.HEX6.exec(N).slice(1).map(function(U){return parseInt(U,16)/255}))[3]=1,V;if(m.HEX4.test(N))return m.HEX4.exec(N).slice(1).map(function(U){return parseInt(U+U,16)/255});if(m.HEX8.test(N))return m.HEX8.exec(N).slice(1).map(function(U){return parseInt(U,16)/255});if(m.RGB.test(N))return(V=m.RGB.exec(N).slice(1).map(function(U){return U/255}))[3]=1,V;if(m.RGB_PERCENT.test(N))return(V=m.RGB_PERCENT.exec(N).slice(1).map(function(U){return parseFloat(U)/100}))[3]=1,V;if(m.RGBA.test(N))return m.RGBA.exec(N).slice(1).map(function(U,F){return 3===F?parseFloat(U):U/255});if(m.RGBA_PERCENT.test(N))return m.RGBA_PERCENT.exec(N).slice(1).map(function(U,F){return 3===F?parseFloat(U):parseFloat(U)/100});if(m.HSL.test(N)?(V=m.HSL.exec(N).slice(1).map(function(U,F){return 0===F?parseInt(U,10)/360:parseInt(U,10)/100}))[3]=1:m.HSLA.test(N)&&(V=m.HSLA.exec(N).slice(1).map(function(U,F){return 0===F?parseInt(U,10)/360:3===F?parseFloat(U):parseInt(U,10)/100})),(V=V.map(function(U){return Math.max(Math.min(U,1),0)})).length)return C.default._hslaToRGBA(V);if(m.HSB.test(N)?(V=m.HSB.exec(N).slice(1).map(function(U,F){return 0===F?parseInt(U,10)/360:parseInt(U,10)/100}))[3]=1:m.HSBA.test(N)&&(V=m.HSBA.exec(N).slice(1).map(function(U,F){return 0===F?parseInt(U,10)/360:3===F?parseFloat(U):parseInt(U,10)/100})),V.length){for(z=V.length-1;0<=z;--z)V[z]=Math.max(Math.min(V[z],1),0);return C.default._hsbaToRGBA(V)}V=[1,1,1,1]}else{if(1!==R&&2!==R||"number"!=typeof A)throw new Error("".concat(arguments,"is not a valid color representation."));V[0]=A/ne[2],V[1]=A/ne[2],V[2]=A/ne[2],V[3]="number"==typeof T?T/ne[3]:1,V=V.map(function(U){return Math.max(Math.min(U,1),0)})}return V}}],(M=[{key:"toString",value:function(A){var T=this.levels,N=this._array,I=N[3];switch(A){case"#rrggbb":return"#".concat(T[0]<16?"0".concat(T[0].toString(16)):T[0].toString(16),T[1]<16?"0".concat(T[1].toString(16)):T[1].toString(16),T[2]<16?"0".concat(T[2].toString(16)):T[2].toString(16));case"#rrggbbaa":return"#".concat(T[0]<16?"0".concat(T[0].toString(16)):T[0].toString(16),T[1]<16?"0".concat(T[1].toString(16)):T[1].toString(16),T[2]<16?"0".concat(T[2].toString(16)):T[2].toString(16),T[3]<16?"0".concat(T[3].toString(16)):T[3].toString(16));case"#rgb":return"#".concat(Math.round(15*N[0]).toString(16),Math.round(15*N[1]).toString(16),Math.round(15*N[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*N[0]).toString(16),Math.round(15*N[1]).toString(16),Math.round(15*N[2]).toString(16),Math.round(15*N[3]).toString(16));case"rgb":return"rgb(".concat(T[0],", ",T[1],", ",T[2],")");case"rgb%":return"rgb(".concat((100*N[0]).toPrecision(3),"%, ",(100*N[1]).toPrecision(3),"%, ",(100*N[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*N[0]).toPrecision(3),"%, ",(100*N[1]).toPrecision(3),"%, ",(100*N[2]).toPrecision(3),"%, ",(100*N[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[y.HSB][0],", ",this.hsba[1]*this.maxes[y.HSB][1],", ",this.hsba[2]*this.maxes[y.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[y.HSB][0],", ",this.hsba[1]*this.maxes[y.HSB][1],", ",this.hsba[2]*this.maxes[y.HSB][2],", ",I,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*I).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[y.HSL][0],", ",this.hsla[1]*this.maxes[y.HSL][1],", ",this.hsla[2]*this.maxes[y.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[y.HSL][0],", ",this.hsla[1]*this.maxes[y.HSL][1],", ",this.hsla[2]*this.maxes[y.HSL][2],", ",I,")");case"hsla%":return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*I).toPrecision(3),"%)");default:return"rgba(".concat(T[0],",",T[1],",",T[2],",",I,")")}}},{key:"setRed",value:function(A){this._array[0]=A/this.maxes[y.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(A){this._array[1]=A/this.maxes[y.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(A){this._array[2]=A/this.maxes[y.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(A){this._array[3]=A/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var A=this._array,T=this.levels=new Array(A.length),N=A.length-1;0<=N;--N)T[N]=Math.round(255*A[N]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(A,T){this.mode=A,this.maxes=T}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[y.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[y.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[y.RGB][1]}},{key:"_getHue",value:function(){return this.mode===y.HSB?(this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[y.HSB][0]):(this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[y.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[y.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[y.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===y.HSB?(this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[y.HSB][1]):(this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[y.HSL][1])}}])&&u(_.prototype,M),x&&u(_,x),h}(),H.default=c=g.default.Color},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(o,oe,H){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(s)}function w(s){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.fill"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=(E=o("../core/main"))&&E.__esModule?E:{default:E},y=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==w(s)&&"function"!=typeof s)return{default:s};var u=C();if(u&&u.has(s))return u.get(s);var a,d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var l;Object.prototype.hasOwnProperty.call(s,a)&&((l=p?Object.getOwnPropertyDescriptor(s,a):null)&&(l.get||l.set)?Object.defineProperty(d,a,l):d[a]=s[a])}return d.default=s,u&&u.set(s,d),d}(o("../core/constants"));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}o("./p5.Color"),g.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},g.default.prototype.endClip=function(){this._renderer.endClip()},g.default.prototype.clip=function(s,u){this._renderer.beginClip(u),s(),this._renderer.endClip(u)},g.default.prototype.background=function(){var s;return(s=this._renderer).background.apply(s,arguments),this},g.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},g.default.prototype.colorMode=function(s,u,a,d,p){return g.default._validateParameters("colorMode",arguments),s!==y.RGB&&s!==y.HSB&&s!==y.HSL||(this._colorMode=s,s=this._colorMaxes[s],2===arguments.length?(s[0]=u,s[1]=u,s[2]=u,s[3]=u):4===arguments.length?(s[0]=u,s[1]=a,s[2]=d):5===arguments.length&&(s[0]=u,s[1]=a,s[2]=d,s[3]=p)),this},g.default.prototype.fill=function(){var s;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(s=this._renderer).fill.apply(s,arguments),this},g.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},g.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},g.default.prototype.stroke=function(){var s;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(s=this._renderer).stroke.apply(s,arguments),this},g.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this},g.default.prototype.noErase=function(){return this._renderer.noErase(),this};var E=g.default;H.default=E},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(o,oe,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.QUADRATIC=H.LINEAR=H._CTX_MIDDLE=H._DEFAULT_LEADMULT=H._DEFAULT_TEXT_FILL=H.WORD=H.CHAR=H.BOLDITALIC=H.BOLD=H.ITALIC=H.NORMAL=H.BLUR=H.ERODE=H.DILATE=H.POSTERIZE=H.INVERT=H.OPAQUE=H.GRAY=H.THRESHOLD=H.BURN=H.DODGE=H.SOFT_LIGHT=H.HARD_LIGHT=H.OVERLAY=H.REPLACE=H.SCREEN=H.MULTIPLY=H.EXCLUSION=H.SUBTRACT=H.DIFFERENCE=H.LIGHTEST=H.DARKEST=H.ADD=H.REMOVE=H.BLEND=H.UP_ARROW=H.TAB=H.SHIFT=H.RIGHT_ARROW=H.RETURN=H.OPTION=H.LEFT_ARROW=H.ESCAPE=H.ENTER=H.DOWN_ARROW=H.DELETE=H.CONTROL=H.BACKSPACE=H.ALT=H.AUTO=H.HSL=H.HSB=H.RGB=H.MITER=H.BEVEL=H.ROUND=H.SQUARE=H.PROJECT=H.PIE=H.CHORD=H.OPEN=H.CLOSE=H.TESS=H.QUAD_STRIP=H.QUADS=H.TRIANGLE_STRIP=H.TRIANGLE_FAN=H.TRIANGLES=H.LINE_LOOP=H.LINE_STRIP=H.LINES=H.POINTS=H.BASELINE=H.BOTTOM=H.TOP=H.CENTER=H.LEFT=H.RIGHT=H.RADIUS=H.CORNERS=H.CORNER=H.RAD_TO_DEG=H.DEG_TO_RAD=H.RADIANS=H.DEGREES=H.TWO_PI=H.TAU=H.QUARTER_PI=H.PI=H.HALF_PI=H.WAIT=H.TEXT=H.MOVE=H.HAND=H.CROSS=H.ARROW=H.WEBGL2=H.WEBGL=H.P2D=H.VERSION=void 0,H.RGBA=H.HALF_FLOAT=H.FLOAT=H.UNSIGNED_INT=H.UNSIGNED_BYTE=H.COVER=H.CONTAIN=H.FALLBACK=H.LABEL=H.AXES=H.GRID=H._DEFAULT_FILL=H._DEFAULT_STROKE=H.PORTRAIT=H.LANDSCAPE=H.SMOOTH=H.FLAT=H.MIRROR=H.CLAMP=H.REPEAT=H.NEAREST=H.IMAGE=H.IMMEDIATE=H.TEXTURE=H.FILL=H.STROKE=H.CURVE=H.BEZIER=void 0;var v=Math.PI,w=(H.VERSION="1.10.0",H.P2D="p2d",H.WEBGL="webgl",H.WEBGL2="webgl2",H.ARROW="default",H.CROSS="crosshair",H.HAND="pointer",H.MOVE="move",H.TEXT="text",H.WAIT="wait",v/2);H.HALF_PI=w,H.PI=w=v,H.QUARTER_PI=w=v/4,H.TAU=w=2*v,H.TWO_PI=w=2*v,H.DEGREES="degrees",H.RADIANS="radians",H.DEG_TO_RAD=w=v/180,H.RAD_TO_DEG=w=180/v,H.CORNER="corner",H.CORNERS="corners",H.RADIUS="radius",H.RIGHT="right",H.LEFT="left",H.CENTER="center",H.TOP="top",H.BOTTOM="bottom",H.BASELINE="alphabetic",H.POINTS=0,H.LINES=1,H.LINE_STRIP=3,H.LINE_LOOP=2,H.TRIANGLES=4,H.TRIANGLE_FAN=6,H.TRIANGLE_STRIP=5,H.QUADS="quads",H.QUAD_STRIP="quad_strip",H.TESS="tess",H.CLOSE="close",H.OPEN="open",H.CHORD="chord",H.PIE="pie",H.PROJECT="square",H.SQUARE="butt",H.ROUND="round",H.BEVEL="bevel",H.MITER="miter",H.RGB="rgb",H.HSB="hsb",H.HSL="hsl",H.AUTO="auto",H.ALT=18,H.BACKSPACE=8,H.CONTROL=17,H.DELETE=46,H.DOWN_ARROW=40,H.ENTER=13,H.ESCAPE=27,H.LEFT_ARROW=37,H.OPTION=18,H.RETURN=13,H.RIGHT_ARROW=39,H.SHIFT=16,H.TAB=9,H.UP_ARROW=38,H.BLEND="source-over",H.REMOVE="destination-out",H.ADD="lighter",H.DARKEST="darken",H.LIGHTEST="lighten",H.DIFFERENCE="difference",H.SUBTRACT="subtract",H.EXCLUSION="exclusion",H.MULTIPLY="multiply",H.SCREEN="screen",H.REPLACE="copy",H.OVERLAY="overlay",H.HARD_LIGHT="hard-light",H.SOFT_LIGHT="soft-light",H.DODGE="color-dodge",H.BURN="color-burn",H.THRESHOLD="threshold",H.GRAY="gray",H.OPAQUE="opaque",H.INVERT="invert",H.POSTERIZE="posterize",H.DILATE="dilate",H.ERODE="erode",H.BLUR="blur",H.NORMAL="normal",H.ITALIC="italic",H.BOLD="bold",H.BOLDITALIC="bold italic",H.CHAR="CHAR",H.WORD="WORD",H._DEFAULT_TEXT_FILL="#000000",H._DEFAULT_LEADMULT=1.25,H._CTX_MIDDLE="middle",H.LINEAR="linear",H.QUADRATIC="quadratic",H.BEZIER="bezier",H.CURVE="curve",H.STROKE="stroke",H.FILL="fill",H.TEXTURE="texture",H.IMMEDIATE="immediate",H.IMAGE="image",H.NEAREST="nearest",H.REPEAT="repeat",H.CLAMP="clamp",H.MIRROR="mirror",H.FLAT="flat",H.SMOOTH="smooth",H.LANDSCAPE="landscape",H.PORTRAIT="portrait",H._DEFAULT_STROKE="#000000",H._DEFAULT_FILL="#FFFFFF",H.GRID="grid",H.AXES="axes",H.LABEL="label",H.FALLBACK="fallback",H.CONTAIN="contain",H.COVER="cover",H.UNSIGNED_BYTE="unsigned-byte",H.UNSIGNED_INT="unsigned-int",H.FLOAT="float",H.HALF_FLOAT="half-float",H.RGBA="rgba"},{}],273:[function(o,oe,H){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(p)}function w(p){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=(y=o("./main"))&&y.__esModule?y:{default:y},y=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==w(p)&&"function"!=typeof p)return{default:p};var l=C();if(l&&l.has(p))return l.get(p);var m,c={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in p){var _;Object.prototype.hasOwnProperty.call(p,m)&&((_=h?Object.getOwnPropertyDescriptor(p,m):null)&&(_.get||_.set)?Object.defineProperty(c,m,_):c[m]=p[m])}return c.default=p,l&&l.set(p,c),c}(o("./constants"));function C(){var p;return"function"!=typeof WeakMap?null:(C=function(){return p},p=new WeakMap)}var E=[y.ARROW,y.CROSS,y.HAND,y.MOVE,y.TEXT,y.WAIT],s=(g.default.prototype._frameRate=0,g.default.prototype._lastFrameTime=window.performance.now(),g.default.prototype._targetFrameRate=60,window.print),u=!1;function a(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function d(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}g.default.prototype.print=function(){var p;arguments.length?(p=console).log.apply(p,arguments):u||(s(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(u=!0))},g.default.prototype.frameCount=0,g.default.prototype.deltaTime=0,g.default.prototype.focused=document.hasFocus(),g.default.prototype.cursor=function(p,l,m){var c,h="auto",_=this._curElement.elt;E.includes(p)?h=p:"string"==typeof p&&(c="",l&&m&&"number"==typeof l&&"number"==typeof m&&(c="".concat(l," ").concat(m)),h="http://"===p.substring(0,7)||"https://"===p.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(p)?"url(".concat(p,") ").concat(c,", auto"):p),_.style.cursor=h},g.default.prototype.frameRate=function(p){return g.default._validateParameters("frameRate",arguments),"number"!=typeof p||p<0?this._frameRate:(this._setProperty("_targetFrameRate",p),0===p&&this._setProperty("_frameRate",p),this)},g.default.prototype.getFrameRate=function(){return this.frameRate()},g.default.prototype.setFrameRate=function(p){return this.frameRate(p)},g.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},g.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},g.default.prototype.webglVersion=y.P2D,g.default.prototype.displayWidth=screen.width,g.default.prototype.displayHeight=screen.height,g.default.prototype.windowWidth=0,g.default.prototype.windowHeight=0,g.default.prototype._onresize=function(p){this._setProperty("windowWidth",a()),this._setProperty("windowHeight",d());var l=this._isGlobal?window:this;"function"!=typeof l.windowResized||void 0===(l=l.windowResized(p))||l||p.preventDefault()},g.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",a()),this._setProperty("windowHeight",d())},g.default.prototype.width=0,g.default.prototype.height=0,g.default.prototype.fullscreen=function(p){if(g.default._validateParameters("fullscreen",arguments),void 0===p)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(p){if(p=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");p.requestFullscreen?p.requestFullscreen():p.mozRequestFullScreen?p.mozRequestFullScreen():p.webkitRequestFullscreen?p.webkitRequestFullscreen():p.msRequestFullscreen&&p.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},g.default.prototype.pixelDensity=function(p){var l;return g.default._validateParameters("pixelDensity",arguments),"number"==typeof p?(p!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=p),(l=this).resizeCanvas(this.width,this.height,!0)):l=this._pixelDensity,l},g.default.prototype.displayDensity=function(){return window.devicePixelRatio},g.default.prototype.getURL=function(){return location.href},g.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(p){return""!==p})},g.default.prototype.getURLParams=function(){for(var p,l=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,m={};null!=(p=l.exec(location.search));)p.index===l.lastIndex&&l.lastIndex++,m[p[1]]=p[2];return m},H.default=o=g.default},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(o,oe,H){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.starts-with"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.starts-with"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(E=o("../main"))&&E.__esModule?E:{default:E};function w(s,u){u=u||console.log.bind(console),g||C(),g.some(function(a){var d;if(s.message&&null!==s.message.match("\\W?".concat(a.name,"\\W")))return d="function"===a.type?"".concat(a.name,"()"):a.name,u("Did you just try to use p5.js's ".concat(d," ").concat(a.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(y)),!0})}o("../internationalization");var g=null,C=null,y=(v.default._friendlyError=v.default._checkForUserDefinedFunctions=v.default._fesErrorMonitor=function(){},g=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),E=(C=function(){function s(a){return Object.getOwnPropertyNames(a).filter(function(d){return"_"!==d[0]&&!(d in u)&&(u[d]=!0)}).map(function(d){var p="function"==typeof a[d]?"function":d===d.toUpperCase()?"constant":"variable";return{name:d,type:p}})}var u={};(g=[].concat(s(v.default.prototype),s(o("../constants")))).sort(function(a,d){return d.name.length-a.name.length})},v.default.prototype._helpForMisusedAtTopLevelCode=w,"complete"!==document.readyState&&(window.addEventListener("error",w,!1),window.addEventListener("load",function(){window.removeEventListener("error",w,!1)})),v.default);H.default=E},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(o,oe,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(v=o("../main"))&&v.__esModule?v:{default:v};o("../internationalization"),v.default._friendlyFileLoadError=function(){},H.default=o=v.default},{"../internationalization":281,"../main":283}],276:[function(o,oe,H){"use strict";function v(k){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ee){return typeof ee}:function(ee){return ee&&"function"==typeof Symbol&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee})(k)}function w(k){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(ee){return v(ee)}:function(ee){return ee&&"function"==typeof Symbol&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":v(ee)})(k)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=function U(k){return k&&k.__esModule?k:{default:k}}(o("../main"));function V(){var k;return"function"!=typeof WeakMap?null:(V=function(){return k},k=new WeakMap)}o("../internationalization"),function X(k){if(k&&k.__esModule)return k;if(null===k||"object"!==w(k)&&"function"!=typeof k)return{default:k};var ee=V();if(ee&&ee.has(k))return ee.get(k);var me,xe,Ge={},Ye=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(me in k)Object.prototype.hasOwnProperty.call(k,me)&&((xe=Ye?Object.getOwnPropertyDescriptor(k,me):null)&&(xe.get||xe.set)?Object.defineProperty(Ge,me,xe):Ge[me]=k[me]);return Ge.default=k,ee&&ee.set(k,Ge),Ge}(o("../constants")),g.default._fesCodeReader=function(){},H.default=g.default},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(o,oe,H){"use strict";function v(){var w=/(^|@)\S+:\d+/,g=/^\s*at .*(\S+:\d+|\(native\))/m,y=/^(eval@)?(\[native code])?$/;return{parse:function(C){return void 0!==C.stacktrace||void 0!==C["opera#sourceloc"]?this.parseOpera(C):C.stack&&C.stack.match(g)?this.parseV8OrIE(C):C.stack?this.parseFFOrSafari(C):void 0},extractLocation:function(C){return-1===C.indexOf(":")?[C]:[(C=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(C.replace(/[()]/g,"")))[1],C[2]||void 0,C[3]||void 0]},parseV8OrIE:function(C){return C.stack.split("\n").filter(function(E){return!!E.match(g)},this).map(function(E){var u=(s=(E=-1<E.indexOf("(eval ")?E.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):E).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),s=(s=u?s.replace(u[0],""):s).split(/\s+/).slice(1);return u=this.extractLocation(u?u[1]:s.pop()),{functionName:s.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(u[0])?void 0:u[0],lineNumber:u[1],columnNumber:u[2],source:E}},this)},parseFFOrSafari:function(C){return C.stack.split("\n").filter(function(E){return!E.match(y)},this).map(function(E){var s,u;return-1===(E=-1<E.indexOf(" > eval")?E.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):E).indexOf("@")&&-1===E.indexOf(":")?{functionName:E}:{functionName:(u=E.match(s=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&u[1]?u[1]:void 0,fileName:(u=this.extractLocation(E.replace(s,"")))[0],lineNumber:u[1],columnNumber:u[2],source:E}},this)},parseOpera:function(C){return!C.stacktrace||-1<C.message.indexOf("\n")&&C.message.split("\n").length>C.stacktrace.split("\n").length?this.parseOpera9(C):C.stack?this.parseOpera11(C):this.parseOpera10(C)},parseOpera9:function(C){for(var E=/Line (\d+).*script (?:in )?(\S+)/i,s=C.message.split("\n"),u=[],a=2,d=s.length;a<d;a+=2){var p=E.exec(s[a]);p&&u.push({fileName:p[2],lineNumber:p[1],source:s[a]})}return u},parseOpera10:function(C){for(var E=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,s=C.stacktrace.split("\n"),u=[],a=0,d=s.length;a<d;a+=2){var p=E.exec(s[a]);p&&u.push({functionName:p[3]||void 0,fileName:p[2],lineNumber:p[1],source:s[a]})}return u},parseOpera11:function(C){return C.stack.split("\n").filter(function(E){return!!E.match(w)&&!E.match(/^Error created at/)},this).map(function(E){var s,a=E.split("@"),u=this.extractLocation(a.pop());return{functionName:(a=a.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(s=a.match(/\(([^)]*)\)/)?a.replace(/^[^(]+\(([^)]*)\)$/,"$1"):s)||"[arguments not available]"===s?void 0:s.split(","),fileName:u[0],lineNumber:u[1],columnNumber:u[2],source:E}},this)}}}o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0,(o=(o=o("../main"))&&o.__esModule?o:{default:o}).default._getErrorStackParser=function(){return new v},H.default=o=o.default},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(o,oe,H){"use strict";function v(C){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(C)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var w=(w=o("../main"))&&w.__esModule?w:{default:w};function g(){var C;return"function"!=typeof WeakMap?null:(g=function(){return C},C=new WeakMap)}function y(C){return(y="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(E){return v(E)}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":v(E)})(C)}(function(C){if(!(C&&C.__esModule||null===C||"object"!==y(C)&&"function"!=typeof C)){var E=g();if(E&&E.has(C))return E.get(C);var s,u={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in C){var d;Object.prototype.hasOwnProperty.call(C,s)&&((d=a?Object.getOwnPropertyDescriptor(C,s):null)&&(d.get||d.set)?Object.defineProperty(u,s,d):u[s]=C[s])}u.default=C,E&&E.set(C,u)}})(o("../constants")),o("../internationalization"),w.default._validateParameters=w.default._clearValidateParamsCache=function(){},H.default=o=w.default},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(o,oe,H){"use strict";function v(C){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(C)}function w(C){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(E){return v(E)}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":v(E)})(C)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=function(C){if(C&&C.__esModule)return C;if(null===C||"object"!==w(C)&&"function"!=typeof C)return{default:C};var E=y();if(E&&E.has(C))return E.get(C);var s,u={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in C){var d;Object.prototype.hasOwnProperty.call(C,s)&&((d=a?Object.getOwnPropertyDescriptor(C,s):null)&&(d.get||d.set)?Object.defineProperty(u,s,d):u[s]=C[s])}return u.default=C,E&&E.set(C,u),u}(o("./constants"));function y(){var C;return"function"!=typeof WeakMap?null:(y=function(){return C},C=new WeakMap)}H.default={modeAdjust:function(C,E,s,u,a){return a===g.CORNER?{x:C,y:E,w:s,h:u}:a===g.CORNERS?{x:C,y:E,w:s-C,h:u-E}:a===g.RADIUS?{x:C-s,y:E-u,w:2*s,h:2*u}:a===g.CENTER?{x:C-.5*s,y:E-.5*u,w:s,h:u}:void 0}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(o,oe,H){"use strict";o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var v=(w=o("../core/main"))&&w.__esModule?w:{default:w};o("./internationalization");var w=Promise.resolve();Promise.all([new Promise(function(g,y){"complete"===document.readyState?g():window.addEventListener("load",g,!1)}),w]).then(function(){void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!v.default.instance&&new v.default})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(o,oe,H){"use strict";o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.setTranslatorLanguage=H.currentTranslatorLanguage=H.availableTranslatorLanguages=H.initialize=H.translator=void 0;var v,g=C(o("i18next")),y=C(o("i18next-browser-languagedetector"));function C(u){return u&&u.__esModule?u:{default:u}}function E(u,a){for(var d=0;d<a.length;d++){var p=a[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}var s=function(){function u(l,m){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.init(l,m)}var a,d;return a=u,(d=[{key:"fetchWithTimeout",value:function(l,m){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3;return Promise.race([fetch(l,m),new Promise(function(h,_){return setTimeout(function(){return _(new Error("timeout"))},c)})])}},{key:"init",value:function(l){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.services=l,this.options=m}},{key:"read",value:function(l,m,c){var h=this.options.loadPath;l===this.options.fallback?c(null,v[l][m]):undefined.includes(l)?(h=this.services.interpolator.interpolate(h,{lng:l,ns:m}),this.loadUrl(h,c)):c("Not found",!1)}},{key:"loadUrl",value:function(l,m){this.fetchWithTimeout(l).then(function(c){if(c.ok)return c.json();throw new Error("failed loading ".concat(l))},function(){throw new Error("failed loading ".concat(l))}).then(function(c){return m(null,c)}).catch(m)}}])&&E(a.prototype,d),u}();s.type="backend",H.translator=function(u,a){console.debug("p5.js translator called before translations were loaded"),g.default.t(u,a)},H.initialize=function(){return g.default.use(y.default).use(s).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:v}).then(function(u){H.translator=u},function(u){return console.debug("Translations failed to load (".concat(u,")"))})},H.availableTranslatorLanguages=function(){return g.default.languages},H.currentTranslatorLanguage=function(u){return g.default.language},H.setTranslatorLanguage=function(u){return g.default.changeLanguage(u||void 0,function(a){return console.debug("Translations failed to load (".concat(a,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(o,oe,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0,(o=(o=o("./main"))&&o.__esModule?o:{default:o}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},o.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},o.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},o.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},H.default=o=o.default},{"./main":283}],283:[function(o,oe,H){"use strict";function v(u){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(u)}function w(u){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(u)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0,o("./shim");var g=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==w(u)&&"function"!=typeof u)return{default:u};var a=y();if(a&&a.has(u))return a.get(u);var d,p={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in u){var m;Object.prototype.hasOwnProperty.call(u,d)&&((m=l?Object.getOwnPropertyDescriptor(u,d):null)&&(m.get||m.set)?Object.defineProperty(p,d,m):p[d]=u[d])}return p.default=u,a&&a.set(u,p),p}(o("./constants"));function y(){var u;return"function"!=typeof WeakMap?null:(y=function(){return u},u=new WeakMap)}function C(u,a){for(var d=0;d<a.length;d++){var p=a[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}var E,s=function(){function u(l,h){var c=this;if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=h,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},h=Object.getOwnPropertyNames(u.prototype._registeredMethods);var _=!0,M=!1,x=void 0;try{for(var A,T=h[Symbol.iterator]();!(_=(A=T.next()).done);_=!0){var N=A.value;this._registeredMethods[N]=u.prototype._registeredMethods[N].slice()}}catch(F){M=!0,x=F}finally{try{_||null==T.return||T.return()}finally{if(M)throw x}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),u.prototype.callRegisteredHooksFor=function(F){var K=this||u.prototype,ie=this._isGlobal?window:this;if(K._registeredMethods.hasOwnProperty(F)){K=K._registeredMethods[F];var Te=!0,q=void(F=!1);try{for(var k,ee=K[Symbol.iterator]();!(Te=(k=ee.next()).done);Te=!0){var me=k.value;"function"==typeof me&&me.call(ie)}}catch(Ye){F=!0,q=Ye}finally{try{Te||null==ee.return||ee.return()}finally{if(F)throw q}}}},this._start=function(){c._userNode&&"string"==typeof c._userNode&&(c._userNode=document.getElementById(c._userNode));var F=c._isGlobal?window:c;if(F.preload){c.callRegisteredHooksFor("beforePreload");var K,ie=document.getElementById(c._loadingScreenId),Te=(ie||((ie=document.createElement("div")).innerHTML="Loading...",ie.style.position="absolute",ie.id=c._loadingScreenId,(c._userNode||document.body).appendChild(ie)),c._preloadMethods);for(K in Te){Te[K]=Te[K]||u;var q=Te[K];q!==u.prototype&&q!==u||(c._isGlobal&&(window[K]=c._wrapPreload(c,K)),q=c),c._registeredPreloadMethods[K]=q[K],q[K]=c._wrapPreload(q,K)}F.preload(),c._runIfPreloadsAreDone()}else c._setup(),c._recording||c._draw()},this._runIfPreloadsAreDone=function(){var F,K=this._isGlobal?window:this;0===K._preloadCount&&((F=document.getElementById(K._loadingScreenId))&&F.parentNode.removeChild(F),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),K._setup(),this._recording||K._draw()))},this._decrementPreload=function(){var F=this._isGlobal?window:this;F._preloadDone||"function"!=typeof F.preload||(F._setProperty("_preloadCount",F._preloadCount-1),F._runIfPreloadsAreDone())},this._wrapPreload=function(F,K){var ie=this;return function(){ie._incrementPreload();for(var Te=arguments.length,q=new Array(Te),k=0;k<Te;k++)q[k]=arguments[k];return ie._registeredPreloadMethods[K].apply(F,q)}},this._incrementPreload=function(){var F=this._isGlobal?window:this;F._preloadDone||F._setProperty("_preloadCount",F._preloadCount+1)},this._setup=function(){c.callRegisteredHooksFor("beforeSetup"),c.createCanvas(c._defaultCanvasSize.width,c._defaultCanvasSize.height,"p2d");var F=c._isGlobal?window:c;if("function"==typeof F.preload)for(var K in c._preloadMethods)F[K]=c._preloadMethods[K][K],F[K]&&c&&(F[K]=F[K].bind(c));c._millisStart=window.performance.now(),F._preloadDone=!0,"function"==typeof F.setup&&F.setup();var ie=document.getElementsByTagName("canvas"),Te=!0,q=!1,k=void 0;try{for(var ee,me=ie[Symbol.iterator]();!(Te=(ee=me.next()).done);Te=!0){var xe=ee.value;"true"===xe.dataset.hidden&&(xe.style.visibility="",delete xe.dataset.hidden)}}catch(Ge){q=!0,k=Ge}finally{try{Te||null==me.return||me.return()}finally{if(q)throw k}}c._lastTargetFrameTime=window.performance.now(),c._lastRealFrameTime=window.performance.now(),c._setupDone=!0,(c._accessibleOutputs.grid||c._accessibleOutputs.text)&&c._updateAccsOutput(),c.callRegisteredHooksFor("afterSetup")},this._draw=function(K){K=K||window.performance.now();var Te=1e3/c._targetFrameRate;(!c._loop||Te-5<=K-c._lastTargetFrameTime)&&(c.deltaTime=K-c._lastRealFrameTime,c._setProperty("deltaTime",c.deltaTime),c._frameRate=1e3/c.deltaTime,c.redraw(),c._lastTargetFrameTime=Math.max(c._lastTargetFrameTime+Te,K),c._lastRealFrameTime=K,void 0!==c._updateMouseCoords&&(c._updateMouseCoords(),c._setProperty("movedX",0),c._setProperty("movedY",0))),c._loop&&(c._requestAnimId=window.requestAnimationFrame(c._draw))},this._setProperty=function(F,K){c[F]=K,c._isGlobal&&(window[F]=K)},this.remove=function(){if(c._startListener&&window.removeEventListener("load",c._startListener,!1),(F=document.getElementById(c._loadingScreenId))&&(F.parentNode.removeChild(F),c._incrementPreload()),c._curElement){for(var K in c._loop=!1,c._requestAnimId&&window.cancelAnimationFrame(c._requestAnimId),c._events)window.removeEventListener(K,c._events[K]);var ie=!0,F=!1,Te=void 0;try{for(var q,k=c._elements[Symbol.iterator]();!(ie=(q=k.next()).done);ie=!0){var ee,me=q.value;for(ee in me.elt&&me.elt.parentNode&&me.elt.parentNode.removeChild(me.elt),me._events)me.elt.removeEventListener(ee,me._events[ee])}}catch(We){F=!0,Te=We}finally{try{ie||null==k.return||k.return()}finally{if(F)throw Te}}var xe=c;c._registeredMethods.remove.forEach(function(We){void 0!==We&&We.call(xe)})}if(c._isGlobal){for(var Ge in u.prototype)try{delete window[Ge]}catch{window[Ge]=void 0}for(var Ye in c)if(c.hasOwnProperty(Ye))try{delete window[Ye]}catch{window[Ye]=void 0}u.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(F){void 0!==F&&F.call(this)},this),this._setupPromisePreloads();var I,z,R=this._createFriendlyGlobalFunctionBinder();if(l)l(this),u._checkForUserDefinedFunctions(this);else{for(var Q in this._isGlobal=!0,u.instance=this,u.prototype)"function"==typeof u.prototype[Q]?(I=Q.substring(2),this._events.hasOwnProperty(I)||(Math.hasOwnProperty(Q)&&Math[Q]===u.prototype[Q]?R(Q,u.prototype[Q]):R(Q,u.prototype[Q].bind(this)))):R(Q,u.prototype[Q]);for(var ne in this)this.hasOwnProperty(ne)&&R(ne,this[ne])}for(z in this._events){var V=this["_on".concat(z)];V&&(V=V.bind(this),window.addEventListener(z,V,{passive:!1}),this._events[z]=V)}function X(){c._setProperty("focused",!0)}function U(){c._setProperty("focused",!1)}window.addEventListener("focus",X),window.addEventListener("blur",U),this.registerMethod("remove",function(){window.removeEventListener("focus",X),window.removeEventListener("blur",U)}),"complete"===document.readyState?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var a,d;return a=u,(d=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=g.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(l,m){u.prototype._preloadMethods.hasOwnProperty(l)||(u.prototype._preloadMethods[l]=m)}},{key:"registerMethod",value:function(l,m){var c=this||u.prototype;c._registeredMethods.hasOwnProperty(l)||(c._registeredMethods[l]=[]),c._registeredMethods[l].push(m)}},{key:"unregisterMethod",value:function(l,m){var c=this||u.prototype;if(c._registeredMethods.hasOwnProperty(l)){for(var h=c._registeredMethods[l],_=[],M=0;M<h.length;M++)h[M]===m&&_.push(M);for(var x=_.length-1;0<=x;x--)h.splice(_[x],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},m=l.globalObject||window;return l.log||console.log.bind(console),function(c,h){m[c]=h}}}])&&C(a.prototype,d),u}();for(E in s.instance=null,s.disableFriendlyErrors=!1,g)s.prototype[E]=g[E];s.VERSION=g.VERSION,s.prototype._preloadMethods={loadJSON:s.prototype,loadImage:s.prototype,loadStrings:s.prototype,loadXML:s.prototype,loadBytes:s.prototype,loadTable:s.prototype,loadFont:s.prototype,loadModel:s.prototype,loadShader:s.prototype},s.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},s.prototype._registeredPreloadMethods={},H.default=s},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(o,oe,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(o=o("./main"))&&o.__esModule?o:{default:o};function w(g,y){for(var C=0;C<y.length;C++){var E=y[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(g,E.key,E)}}v.default.Element=function(){function g(s,u){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.elt=s,this._pInst=this._pixelsState=u,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var y,C,E;return y=g,E=[{key:"_adjustListener",value:function(s,u,a){return!1===u?v.default.Element._detachListener(s,a):v.default.Element._attachListener(s,u,a),this}},{key:"_attachListener",value:function(s,u,a){a._events[s]&&v.default.Element._detachListener(s,a),u=u.bind(a),a.elt.addEventListener(s,u,!1),a._events[s]=u}},{key:"_detachListener",value:function(s,u){u.elt.removeEventListener(s,u._events[s],!1),u._events[s]=null}}],(C=[{key:"parent",value:function(s){return void 0===s?this.elt.parentNode:("string"==typeof s?("#"===s[0]&&(s=s.substring(1)),s=document.getElementById(s)):s instanceof v.default.Element&&(s=s.elt),s.appendChild(this.elt),this)}},{key:"id",value:function(s){return void 0===s?this.elt.id:(this.elt.id=s,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(s){return void 0===s?this.elt.className:(this.elt.className=s,this)}},{key:"mousePressed",value:function(s){return v.default.Element._adjustListener("mousedown",function(u){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(u),s.call(this,u)},this),this}},{key:"doubleClicked",value:function(s){return v.default.Element._adjustListener("dblclick",s,this),this}},{key:"mouseWheel",value:function(s){return v.default.Element._adjustListener("wheel",s,this),this}},{key:"mouseReleased",value:function(s){return v.default.Element._adjustListener("mouseup",s,this),this}},{key:"mouseClicked",value:function(s){return v.default.Element._adjustListener("click",s,this),this}},{key:"mouseMoved",value:function(s){return v.default.Element._adjustListener("mousemove",s,this),this}},{key:"mouseOver",value:function(s){return v.default.Element._adjustListener("mouseover",s,this),this}},{key:"mouseOut",value:function(s){return v.default.Element._adjustListener("mouseout",s,this),this}},{key:"touchStarted",value:function(s){return v.default.Element._adjustListener("touchstart",s,this),this}},{key:"touchMoved",value:function(s){return v.default.Element._adjustListener("touchmove",s,this),this}},{key:"touchEnded",value:function(s){return v.default.Element._adjustListener("touchend",s,this),this}},{key:"dragOver",value:function(s){return v.default.Element._adjustListener("dragover",s,this),this}},{key:"dragLeave",value:function(s){return v.default.Element._adjustListener("dragleave",s,this),this}},{key:"_setProperty",value:function(s,u){this[s]=u}}])&&w(y.prototype,C),E&&w(y,E),g}(),H.default=o=v.default.Element},{"./main":283}],285:[function(o,oe,H){"use strict";function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(m)}function w(m){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(c){return v(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":v(c)})(m)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=(l=o("./main"))&&l.__esModule?l:{default:l},y=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==w(m)&&"function"!=typeof m)return{default:m};var c=C();if(c&&c.has(m))return c.get(m);var h,_={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in m){var x;Object.prototype.hasOwnProperty.call(m,h)&&((x=M?Object.getOwnPropertyDescriptor(m,h):null)&&(x.get||x.set)?Object.defineProperty(_,h,x):_[h]=m[h])}return _.default=m,c&&c.set(m,_),_}(o("./constants"));function C(){var m;return"function"!=typeof WeakMap?null:(C=function(){return m},m=new WeakMap)}function E(m,c){for(var h=0;h<c.length;h++){var _=c[h];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}function s(m,c){return(s=Object.setPrototypeOf||function(h,_){return h.__proto__=_,h})(m,c)}function a(m,c){return!c||"object"!==w(c)&&"function"!=typeof c?d(m):c}function d(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function p(m){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(m)}g.default.Graphics=function(m){var c=M;if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(m&&m.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),m&&s(c,m);var _=function u(m){return function(){var c,h=p(m);return a(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(c=p(this).constructor,Reflect.construct(h,arguments,c)):h.apply(this,arguments))}}(M);function M(x,A,ne,N,I){var z;if(!(this instanceof M))throw new TypeError("Cannot call a class as a function");Q=I||document.createElement("canvas"),(z=_.call(this,Q,N)).canvas=Q;var R,Q=ne||y.P2D;for(R in ne=N._userNode||document.body,I||ne.appendChild(z.canvas),g.default.prototype)z[R]||(z[R]="function"==typeof g.default.prototype[R]?g.default.prototype[R].bind(d(z)):g.default.prototype[R]);return g.default.prototype._initializeInstanceVariables.apply(d(z)),z.width=x,z.height=A,z._pixelDensity=N._pixelDensity,Q===y.WEBGL?(z._renderer=new g.default.RendererGL(z.canvas,d(z),!1),x=(I=z._renderer._adjustDimensions(x,A)).adjustedWidth,A=I.adjustedHeight):z._renderer=new g.default.Renderer2D(z.canvas,d(z),!1),N._elements.push(d(z)),Object.defineProperty(d(z),"deltaTime",{get:function(){return this._pInst.deltaTime}}),z._renderer.resize(x,A),z._renderer._applyDefaults(),a(z,d(z))}return c=M,(m=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var x,A=this._pInst._elements.indexOf(this);for(x in-1!==A&&this._pInst._elements.splice(A,1),this._events)this.elt.removeEventListener(x,this._events[x]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(x){return new g.default.Framebuffer(this,x)}}])&&E(c.prototype,m),M}(g.default.Element);var l=g.default.Graphics;H.default=l},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(o,oe,H){"use strict";function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(m)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var w=(p=o("./main"))&&p.__esModule?p:{default:p},g=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==C(m)&&"function"!=typeof m)return{default:m};var c=y();if(c&&c.has(m))return c.get(m);var h,_={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in m){var x;Object.prototype.hasOwnProperty.call(m,h)&&((x=M?Object.getOwnPropertyDescriptor(m,h):null)&&(x.get||x.set)?Object.defineProperty(_,h,x):_[h]=m[h])}return _.default=m,c&&c.set(m,_),_}(o("../core/constants"));function y(){var m;return"function"!=typeof WeakMap?null:(y=function(){return m},m=new WeakMap)}function C(m){return(C="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(c){return v(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":v(c)})(m)}function E(m,c){for(var h=0;h<c.length;h++){var _=c[h];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}function s(m,c){return(s=Object.setPrototypeOf||function(h,_){return h.__proto__=_,h})(m,c)}function a(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function d(m){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(m)}var p=function(m){var c=M;if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(m&&m.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),m&&s(c,m);var _=function u(m){return function(){var c,h,_=d(m);return c=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(c=d(this).constructor,Reflect.construct(_,arguments,c)):_.apply(this,arguments),_=this,!(h=c)||"object"!==C(h)&&"function"!=typeof h?a(_):h}}(M);function M(x,A,T){var N;if(this instanceof M)return(N=_.call(this,x,A)).canvas=x,N._pixelsState=A,T?(N._isMainCanvas=!0,N._pInst._setProperty("_curElement",a(N)),N._pInst._setProperty("canvas",N.canvas),N._pInst._setProperty("width",N.width),N._pInst._setProperty("height",N.height)):(N.canvas.style.display="none",N._styles=[]),N._clipping=!1,N._clipInvert=!1,N._textSize=12,N._textLeading=15,N._textFont="sans-serif",N._textStyle=g.NORMAL,N._textAscent=null,N._textDescent=null,N._textAlign=g.LEFT,N._textBaseline=g.BASELINE,N._textWrap=g.WORD,N._rectMode=g.CORNER,N._ellipseMode=g.CENTER,N._curveTightness=0,N._imageMode=g.CORNER,N._tint=null,N._doStroke=!0,N._doFill=!0,N._strokeSet=!1,N._fillSet=!1,N._leadingSet=!1,N._pushPopDepth=0,N;throw new TypeError("Cannot call a class as a function")}return c=M,(m=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(x){this._pushPopDepth--,x.properties&&Object.assign(this,x.properties)}},{key:"beginClip",value:function(){var x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=x.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(x,A){this.width=x,this.height=A,this.elt.width=x*this._pInst._pixelDensity,this.elt.height=A*this._pInst._pixelDensity,this.elt.style.width="".concat(x,"px"),this.elt.style.height="".concat(A,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(x,A,T,N){var I=this._pixelsState,z=I._pixelDensity,R=this.canvas;if(void 0===x&&void 0===A)x=A=0,T=I.width,N=I.height;else if(x*=z,A*=z,void 0===T&&void 0===N)return x<0||A<0||x>=R.width||A>=R.height?[0,0,0,0]:this._getPixel(x,A);return(I=new w.default.Image(T*z,N*z)).pixelDensity(z),I.canvas.getContext("2d").drawImage(R,x,A,T*z,N*z,0,0,T*z,N*z),I}},{key:"textLeading",value:function(x){return"number"==typeof x?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",x),this._pInst):this._textLeading}},{key:"textStyle",value:function(x){return x?(x!==g.NORMAL&&x!==g.ITALIC&&x!==g.BOLD&&x!==g.BOLDITALIC||this._setProperty("_textStyle",x),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(x,A){return void 0!==x?(this._setProperty("_textAlign",x),void 0!==A&&this._setProperty("_textBaseline",A),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(x){return this._setProperty("_textWrap",x),this._textWrap}},{key:"text",value:function(x,A,T,N,I){var z,R,Q,ne,V=this._pInst,X=this._textWrap,U=Number.MAX_VALUE,F=T;if((this._doFill||this._doStroke)&&void 0!==x){if(z=(x=(x="string"!=typeof x?x.toString():x).replace(/(\t)/g,"  ")).split("\n"),void 0!==N){switch(this._rectMode===g.CENTER&&(A-=N/2),this._textAlign){case g.CENTER:A+=N/2;break;case g.RIGHT:A+=N}if(void 0!==I){this._rectMode===g.CENTER&&(T-=I/2,F-=I/2),x=T;var K=V.textAscent();switch(this._textBaseline){case g.BOTTOM:ne=T+I,T=Math.max(ne,T),F+=K;break;case g.CENTER:ne=T+I/2,T=Math.max(ne,T),F+=K/2}U=T+I-K,this._textBaseline===g.CENTER&&(U=x+I-K/2)}else this._textBaseline!==g.BOTTOM&&this._textBaseline!==g.CENTER||(F=T-(x=V.textSize()*this._textLeading)/2,U=T+x/2);if(X===g.WORD){for(var ie=[],Te=0;Te<z.length;Te++){for(var q="",k=z[Te].split(" "),ee=0;ee<k.length;ee++)R="".concat(q+k[ee])+" ",q=N<(Q=this.textWidth(R))&&0<q.length?(ie.push(q),"".concat(k[ee])+" "):R;ie.push(q)}var me=0;this._textBaseline===g.CENTER?me=(ie.length-1)*V.textLeading()/2:this._textBaseline===g.BOTTOM&&(me=(ie.length-1)*V.textLeading());for(var xe=0;xe<z.length;xe++){q="",k=z[xe].split(" ");for(var Ge=0;Ge<k.length;Ge++)R="".concat(q+k[Ge])+" ",N<(Q=this.textWidth(R))&&0<q.length?(this._renderText(V,q.trim(),A,T-me,U,F),q="".concat(k[Ge])+" ",T+=V.textLeading()):q=R;this._renderText(V,q.trim(),A,T-me,U,F),T+=V.textLeading()}}else{for(var Ye=[],mt=0;mt<z.length;mt++)for(var We=z[mt].split(q=""),ct=0;ct<We.length;ct++)R="".concat(q+We[ct]),(Q=this.textWidth(R))<=N?q+=We[ct]:N<Q&&0<q.length&&(Ye.push(q),q="".concat(We[ct]));Ye.push(q);var dt=0;this._textBaseline===g.CENTER?dt=(Ye.length-1)*V.textLeading()/2:this._textBaseline===g.BOTTOM&&(dt=(Ye.length-1)*V.textLeading());for(var Ve=0;Ve<z.length;Ve++){We=z[Ve].split(q="");for(var Qe=0;Qe<We.length;Qe++)R="".concat(q+We[Qe]),(Q=this.textWidth(R))<=N?q+=We[Qe]:N<Q&&0<q.length&&(this._renderText(V,q.trim(),A,T-dt,U,F),T+=V.textLeading(),q="".concat(We[Qe]))}this._renderText(V,q.trim(),A,T-dt,U,F),T+=V.textLeading()}}else{var Ze=0;this._textBaseline===g.CENTER?Ze=(z.length-1)*V.textLeading()/2:this._textBaseline===g.BOTTOM&&(Ze=(z.length-1)*V.textLeading());for(var at=0;at<z.length;at++)this._renderText(V,z[at],A,T-Ze,U,F-Ze),T+=V.textLeading()}return V}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===C(x)&&x.font&&x.font.supported}},{key:"_updateTextMetrics",value:function(){var x,A,T,N,I,z;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((x=document.createElement("span")).style.fontFamily=this._textFont,x.style.fontSize="".concat(this._textSize,"px"),x.innerHTML="ABCjgq|",(z=document.createElement("div")).style.display="inline-block",z.style.width="1px",z.style.height="0px",(A=document.createElement("div")).appendChild(x),A.appendChild(z),A.style.height="0px",A.style.overflow="hidden",document.body.appendChild(A),z.style.verticalAlign="baseline",N=l(z),I=l(x),T=N[1]-I[1],z.style.verticalAlign="bottom",N=l(z),I=l(x),z=N[1]-I[1]-T,document.body.removeChild(A),this._setProperty("_textAscent",T),this._setProperty("_textDescent",z)),this}}])&&E(c.prototype,m),M}(w.default.Element);function l(m){var c=0,h=0;if(m.offsetParent)for(;c+=m.offsetLeft,h+=m.offsetTop,m=m.offsetParent;);else c+=m.offsetLeft,h+=m.offsetTop;return[c,h]}p.prototype.textSize=function(m){return"number"==typeof m?(this._setProperty("_textSize",m),this._leadingSet||this._setProperty("_textLeading",m*g._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},w.default.Renderer=p,H.default=o=w.default.Renderer},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(m,oe,H){"use strict";function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function w(c){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(h){return v(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":v(h)})(c)}m("core-js/modules/es.symbol"),m("core-js/modules/es.symbol.description"),m("core-js/modules/es.symbol.iterator"),m("core-js/modules/es.array.concat"),m("core-js/modules/es.array.fill"),m("core-js/modules/es.array.for-each"),m("core-js/modules/es.array.iterator"),m("core-js/modules/es.array.join"),m("core-js/modules/es.array.slice"),m("core-js/modules/es.function.name"),m("core-js/modules/es.number.to-fixed"),m("core-js/modules/es.object.get-own-property-descriptor"),m("core-js/modules/es.object.get-prototype-of"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.reflect.construct"),m("core-js/modules/es.reflect.get"),m("core-js/modules/es.regexp.exec"),m("core-js/modules/es.regexp.to-string"),m("core-js/modules/es.string.iterator"),m("core-js/modules/es.weak-map"),m("core-js/modules/web.dom-collections.iterator"),m("core-js/modules/es.array.concat"),m("core-js/modules/es.array.fill"),m("core-js/modules/es.array.for-each"),m("core-js/modules/es.array.join"),m("core-js/modules/es.array.slice"),m("core-js/modules/es.function.name"),m("core-js/modules/es.number.to-fixed"),m("core-js/modules/es.object.get-prototype-of"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.regexp.exec"),m("core-js/modules/es.regexp.to-string"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=(l=m("./main"))&&l.__esModule?l:{default:l},y=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==w(c)&&"function"!=typeof c)return{default:c};var h=C();if(h&&h.has(c))return h.get(c);var _,M={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in c){var A;Object.prototype.hasOwnProperty.call(c,_)&&((A=x?Object.getOwnPropertyDescriptor(c,_):null)&&(A.get||A.set)?Object.defineProperty(M,_,A):M[_]=c[_])}return M.default=c,h&&h.set(c,M),M}(m("./constants"));function C(){var c;return"function"!=typeof WeakMap?null:(C=function(){return c},c=new WeakMap)}function E(c,h){for(var _=0;_<h.length;_++){var M=h[_];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(c,M.key,M)}}function s(c,h,_){return(s=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(T,x,A){if(T=function(N,I){for(;!Object.prototype.hasOwnProperty.call(N,I)&&null!==(N=d(N)););return N}(T,x))return(T=Object.getOwnPropertyDescriptor(T,x)).get?T.get.call(A):T.value})(c,h,_||c)}function u(c,h){return(u=Object.setPrototypeOf||function(_,M){return _.__proto__=M,_})(c,h)}function d(c){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})(c)}m("./p5.Renderer");var p="rgba(0,0,0,0)",l=function(c){var h=x;if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),c&&u(h,c);var M=function a(c){return function(){var h,_=d(c);if(h=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(h=d(this).constructor,Reflect.construct(_,arguments,h)):_.apply(this,arguments),_=this,!h||"object"!==w(h)&&"function"!=typeof h){if(void 0!==_)return _;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return h}}(x);function x(A,T,N){if(this instanceof x)return(A=M.call(this,A,T,N)).drawingContext=A.canvas.getContext("2d"),A._pInst._setProperty("drawingContext",A.drawingContext),A;throw new TypeError("Cannot call a class as a function")}return h=x,(c=[{key:"getFilterGraphicsLayer",value:function(){return this.filterGraphicsLayer||(this.filterGraphicsLayer=new g.default.Graphics(this.width,this.height,y.WEBGL,(this._pInst instanceof g.default.Graphics?this._pInst:this)._pInst)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=y.BLEND,this._setFill(y._DEFAULT_FILL),this._setStroke(y._DEFAULT_STROKE),this.drawingContext.lineCap=y.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(A,T){s(d(x.prototype),"resize",this).call(this,A,T),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var A,T;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof g.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(A=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(A,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(A=this._getFill(),T=(T=this._pInst).color.apply(T,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(T.levels),T=T.toString(),this._setFill(T),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(A),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var A=(A=this._pInst).color.apply(A,arguments);this._setFill(A.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",A.levels)}},{key:"stroke",value:function(){var A=(A=this._pInst).color.apply(A,arguments);this._setStroke(A.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",A.levels)}},{key:"erase",value:function(A,T){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,A=this._pInst.color(255,A).toString(),this.drawingContext.fillStyle=A,this._cachedStrokeStyle=this.drawingContext.strokeStyle,A=this._pInst.color(255,T).toString(),this.drawingContext.strokeStyle=A,T=this._cachedBlendMode,this.blendMode(y.REMOVE),this._cachedBlendMode=T,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s(d(x.prototype),"beginClip",this).call(this,A),this._cachedFillStyle=this.drawingContext.fillStyle,A=this._pInst.color(255,0).toString(),this.drawingContext.fillStyle=A,this._cachedStrokeStyle=this.drawingContext.strokeStyle,A=this._pInst.color(255,0).toString(),this.drawingContext.strokeStyle=A,A=this._cachedBlendMode,this.blendMode(y.BLEND),this._cachedBlendMode=A,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),s(d(x.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(A,T,N,I,z,R,Q,ne,V){A.gifProperties&&A._animateGif(this._pInst);try{g.default.MediaElement&&A instanceof g.default.MediaElement&&A._ensureCanvas();var X=(X=this._tint&&A.canvas?this._getTintedImageCanvas(A):X)||A.canvas||A.elt,U=1;A.width&&0<A.width&&(U=X.width/A.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(X,U*T,U*N,U*I,U*z,R,Q,ne,V),this._isErasing&&this._pInst.erase()}catch(F){if("NS_ERROR_NOT_AVAILABLE"!==F.name)throw F}}},{key:"_getTintedImageCanvas",value:function(A){if(!A.canvas)return A;A.tintCanvas||(A.tintCanvas=document.createElement("canvas")),A.tintCanvas.width!==A.canvas.width&&(A.tintCanvas.width=A.canvas.width),A.tintCanvas.height!==A.canvas.height&&(A.tintCanvas.height=A.canvas.height);var T=A.tintCanvas.getContext("2d");return T.save(),T.clearRect(0,0,A.canvas.width,A.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(T.drawImage(A.canvas,0,0),T.globalCompositeOperation="luminosity",T.drawImage(A.canvas,0,0),T.globalCompositeOperation="color",T.drawImage(A.canvas,0,0),T.globalCompositeOperation="multiply",T.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),T.fillRect(0,0,A.canvas.width,A.canvas.height),T.globalCompositeOperation="destination-in"),T.globalAlpha=this._tint[3]/255,T.drawImage(A.canvas,0,0),T.restore(),A.tintCanvas}},{key:"blendMode",value:function(A){if(A===y.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(A!==y.BLEND&&A!==y.REMOVE&&A!==y.DARKEST&&A!==y.LIGHTEST&&A!==y.DIFFERENCE&&A!==y.MULTIPLY&&A!==y.EXCLUSION&&A!==y.SCREEN&&A!==y.REPLACE&&A!==y.OVERLAY&&A!==y.HARD_LIGHT&&A!==y.SOFT_LIGHT&&A!==y.DODGE&&A!==y.BURN&&A!==y.ADD)throw new Error("Mode ".concat(A," not recognized."));this._cachedBlendMode=A,this.drawingContext.globalCompositeOperation=A}}},{key:"blend",value:function(){for(var A=this.drawingContext.globalCompositeOperation,T=arguments.length,N=new Array(T),I=0;I<T;I++)N[I]=arguments[I];var z=N[N.length-1],R=Array.prototype.slice.call(N,0,N.length-1);this.drawingContext.globalCompositeOperation=z,g.default.prototype.copy.apply(this,R),this.drawingContext.globalCompositeOperation=A}},{key:"_getPixel",value:function(A,T){return[(A=this.drawingContext.getImageData(A,T,1,1).data)[0],A[1],A[2],A[3]]}},{key:"loadPixels",value:function(){var T,A=this._pixelsState,N=this.drawingContext.getImageData(0,0,N=this.width*(T=A._pixelDensity),T*=this.height);A._setProperty("imageData",N),A._setProperty("pixels",N.data)}},{key:"set",value:function(A,T,N){A=Math.floor(A),T=Math.floor(T);var I=this._pixelsState;if(N instanceof g.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(I._pixelDensity,I._pixelDensity),this.drawingContext.clearRect(A,T,N.width,N.height),this.drawingContext.drawImage(N.canvas,A,T),this.drawingContext.restore();else{var z=0,R=0,Q=0,ne=0,V=4*(T*I._pixelDensity*(this.width*I._pixelDensity)+A*I._pixelDensity);if(I.imageData||I.loadPixels(),"number"==typeof N)V<I.pixels.length&&(Q=R=z=N,ne=255);else if(Array.isArray(N)){if(N.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");V<I.pixels.length&&(z=N[0],R=N[1],Q=N[2],ne=N[3])}else N instanceof g.default.Color&&V<I.pixels.length&&(z=N.levels[0],R=N.levels[1],Q=N.levels[2],ne=N.levels[3]);for(var X=0;X<I._pixelDensity;X++)for(var U=0;U<I._pixelDensity;U++)I.pixels[V=4*((T*I._pixelDensity+U)*this.width*I._pixelDensity+(A*I._pixelDensity+X))]=z,I.pixels[V+1]=R,I.pixels[V+2]=Q,I.pixels[V+3]=ne}}},{key:"updatePixels",value:function(A,T,N,I){var z=this._pixelsState,R=z._pixelDensity;void 0===A&&void 0===T&&void 0===N&&void 0===I&&(T=A=0,N=this.width,I=this.height),A*=R,T*=R,N*=R,I*=R,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=z.imageData),this.drawingContext.putImageData(z.imageData,A,T,0,0,N,I)}},{key:"_acuteArcToBezier",value:function(A,T){var R=T/2,N=Math.cos(R),ne=Math.sin(R),I=1/Math.tan(R),z=(R=A+R,Math.cos(R)),Q=(R=Math.sin(R),(4-N)/3);return ne+=(N-Q)*I,{ax:Math.cos(A).toFixed(7),ay:Math.sin(A).toFixed(7),bx:(Q*z+ne*R).toFixed(7),by:(Q*R-ne*z).toFixed(7),cx:(Q*z-ne*R).toFixed(7),cy:(Q*R+ne*z).toFixed(7),dx:Math.cos(A+T).toFixed(7),dy:Math.sin(A+T).toFixed(7)}}},{key:"arc",value:function(A,T,N,I,z,R,Q){var ne,V=this.drawingContext,X=N/2,U=I/2,F=[];for(A+=X,T+=U;1e-5<=R-z;)ne=Math.min(R-z,y.HALF_PI),F.push(this._acuteArcToBezier(z,ne)),z+=ne;return this._doFill&&(this._clipping||V.beginPath(),F.forEach(function(K,ie){0===ie&&V.moveTo(A+K.ax*X,T+K.ay*U),V.bezierCurveTo(A+K.bx*X,T+K.by*U,A+K.cx*X,T+K.cy*U,A+K.dx*X,T+K.dy*U)}),Q!==y.PIE&&null!=Q||V.lineTo(A,T),V.closePath(),this._clipping||V.fill()),this._doStroke&&(this._clipping||V.beginPath(),F.forEach(function(K,ie){0===ie&&V.moveTo(A+K.ax*X,T+K.ay*U),V.bezierCurveTo(A+K.bx*X,T+K.by*U,A+K.cx*X,T+K.cy*U,A+K.dx*X,T+K.dy*U)}),Q===y.PIE?(V.lineTo(A,T),V.closePath()):Q===y.CHORD&&V.closePath(),this._clipping||V.stroke()),this}},{key:"ellipse",value:function(ne){var T=this.drawingContext,N=this._doFill,I=this._doStroke,z=parseFloat(ne[0]),R=parseFloat(ne[1]),Q=parseFloat(ne[2]);if(ne=parseFloat(ne[3]),N&&!I){if(this._getFill()===p)return this}else if(!N&&I&&this._getStroke()===p)return this;z+=Q/2,R+=ne/2,Q/=2,ne/=2,this._clipping||T.beginPath(),T.ellipse(z,R,Q,ne,0,0,2*Math.PI),!this._clipping&&N&&T.fill(),!this._clipping&&I&&T.stroke()}},{key:"line",value:function(A,T,N,I){var z=this.drawingContext;return this._doStroke&&this._getStroke()!==p&&(this._clipping||z.beginPath(),z.moveTo(A,T),z.lineTo(N,I),z.stroke()),this}},{key:"point",value:function(A,T){var N,I,z=this.drawingContext;return this._doStroke&&this._getStroke()!==p?(N=this._getStroke(),I=this._getFill(),this._clipping||this._setFill(N),this._clipping||z.beginPath(),z.arc(A,T,z.lineWidth/2,0,y.TWO_PI,!1),void(this._clipping||(z.fill(),this._setFill(I)))):this}},{key:"quad",value:function(A,T,N,I,z,R,Q,ne){var V=this.drawingContext,X=this._doFill,U=this._doStroke;if(X&&!U){if(this._getFill()===p)return this}else if(!X&&U&&this._getStroke()===p)return this;return this._clipping||V.beginPath(),V.moveTo(A,T),V.lineTo(N,I),V.lineTo(z,R),V.lineTo(Q,ne),V.closePath(),!this._clipping&&X&&V.fill(),!this._clipping&&U&&V.stroke(),this}},{key:"rect",value:function(U){var T,N,I=U[0],z=U[1],R=U[2],Q=U[3],ne=U[4],V=U[5],X=U[6],F=(U=U[7],this.drawingContext),K=this._doFill,ie=this._doStroke;if(K&&!ie){if(this._getFill()===p)return this}else if(!K&&ie&&this._getStroke()===p)return this;return this._clipping||F.beginPath(),void 0===ne?F.rect(I,z,R,Q):(void 0===V&&(V=ne),void 0===X&&(X=V),void 0===U&&(U=X),ie=(K=Math.abs(R))/2,N=(T=Math.abs(Q))/2,T<2*(ne=K<2*ne?ie:ne)&&(ne=N),T<2*(V=K<2*V?ie:V)&&(V=N),T<2*(X=K<2*X?ie:X)&&(X=N),T<2*(U=K<2*U?ie:U)&&(U=N),this._clipping||F.beginPath(),F.moveTo(I+ne,z),F.arcTo(I+R,z,I+R,z+Q,V),F.arcTo(I+R,z+Q,I,z+Q,X),F.arcTo(I,z+Q,I,z,U),F.arcTo(I,z,I+R,z,ne),F.closePath()),!this._clipping&&this._doFill&&F.fill(),!this._clipping&&this._doStroke&&F.stroke(),this}},{key:"triangle",value:function(X){var T=this.drawingContext,N=this._doFill,I=this._doStroke,z=X[0],R=X[1],Q=X[2],ne=X[3],V=X[4];if(X=X[5],N&&!I){if(this._getFill()===p)return this}else if(!N&&I&&this._getStroke()===p)return this;this._clipping||T.beginPath(),T.moveTo(z,R),T.lineTo(Q,ne),T.lineTo(V,X),T.closePath(),!this._clipping&&N&&T.fill(),!this._clipping&&I&&T.stroke()}},{key:"endShape",value:function(A,T,N,I,z,R,Q){if(0!==T.length&&(this._doStroke||this._doFill)){var ne,V,X,U=A===y.CLOSE,F=(U&&!R&&T.push(T[0]),T.length);if(N&&null===Q){if(3<F){var K=[],ie=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(T[1][0],T[1][1]),V=1;V+2<F;V++)K[0]=[(ne=T[V])[0],ne[1]],K[1]=[ne[0]+(ie*T[V+1][0]-ie*T[V-1][0])/6,ne[1]+(ie*T[V+1][1]-ie*T[V-1][1])/6],K[2]=[T[V+1][0]+(ie*T[V][0]-ie*T[V+2][0])/6,T[V+1][1]+(ie*T[V][1]-ie*T[V+2][1])/6],K[3]=[T[V+1][0],T[V+1][1]],this.drawingContext.bezierCurveTo(K[1][0],K[1][1],K[2][0],K[2][1],K[3][0],K[3][1]);U&&this.drawingContext.lineTo(T[V+1][0],T[V+1][1]),this._doFillStrokeClose(U)}}else if(I&&null===Q){for(this._clipping||this.drawingContext.beginPath(),V=0;V<F;V++)T[V].isVert?T[V].moveTo?this.drawingContext.moveTo(T[V][0],T[V][1]):this.drawingContext.lineTo(T[V][0],T[V][1]):this.drawingContext.bezierCurveTo(T[V][0],T[V][1],T[V][2],T[V][3],T[V][4],T[V][5]);this._doFillStrokeClose(U)}else if(z&&null===Q){for(this._clipping||this.drawingContext.beginPath(),V=0;V<F;V++)T[V].isVert?T[V].moveTo?this.drawingContext.moveTo(T[V][0],T[V][1]):this.drawingContext.lineTo(T[V][0],T[V][1]):this.drawingContext.quadraticCurveTo(T[V][0],T[V][1],T[V][2],T[V][3]);this._doFillStrokeClose(U)}else if(Q===y.POINTS)for(V=0;V<F;V++)ne=T[V],this._doStroke&&this._pInst.stroke(ne[6]),this._pInst.point(ne[0],ne[1]);else if(Q===y.LINES)for(V=0;V+1<F;V+=2)ne=T[V],this._doStroke&&this._pInst.stroke(T[V+1][6]),this._pInst.line(ne[0],ne[1],T[V+1][0],T[V+1][1]);else if(Q===y.TRIANGLES)for(V=0;V+2<F;V+=3)ne=T[V],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(ne[0],ne[1]),this.drawingContext.lineTo(T[V+1][0],T[V+1][1]),this.drawingContext.lineTo(T[V+2][0],T[V+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(T[V+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(T[V+2][6]),this.drawingContext.stroke());else if(Q===y.TRIANGLE_STRIP)for(V=0;V+1<F;V++)ne=T[V],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(T[V+1][0],T[V+1][1]),this.drawingContext.lineTo(ne[0],ne[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(T[V+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(T[V+1][5]),V+2<F&&(this.drawingContext.lineTo(T[V+2][0],T[V+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(T[V+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(T[V+2][5])),this._doFillStrokeClose(U);else if(Q===y.TRIANGLE_FAN){if(2<F){for(this._clipping||this.drawingContext.beginPath(),V=2;V<F;V++)ne=T[V],this.drawingContext.moveTo(T[0][0],T[0][1]),this.drawingContext.lineTo(T[V-1][0],T[V-1][1]),this.drawingContext.lineTo(ne[0],ne[1]),this.drawingContext.lineTo(T[0][0],T[0][1]),V<F-1&&(this._doFill&&ne[5]!==T[V+1][5]||this._doStroke&&ne[6]!==T[V+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(ne[5]),this.drawingContext.fill(),this._pInst.fill(T[V+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(ne[6]),this.drawingContext.stroke(),this._pInst.stroke(T[V+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(U)}}else if(Q===y.QUADS)for(V=0;V+3<F;V+=4){for(ne=T[V],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(ne[0],ne[1]),X=1;X<4;X++)this.drawingContext.lineTo(T[V+X][0],T[V+X][1]);this.drawingContext.lineTo(ne[0],ne[1]),!this._clipping&&this._doFill&&this._pInst.fill(T[V+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(T[V+3][6]),this._doFillStrokeClose(U)}else if(Q===y.QUAD_STRIP){if(3<F)for(V=0;V+1<F;V+=2)ne=T[V],this._clipping||this.drawingContext.beginPath(),V+3<F?(this.drawingContext.moveTo(T[V+2][0],T[V+2][1]),this.drawingContext.lineTo(ne[0],ne[1]),this.drawingContext.lineTo(T[V+1][0],T[V+1][1]),this.drawingContext.lineTo(T[V+3][0],T[V+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(T[V+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(T[V+3][6])):(this.drawingContext.moveTo(ne[0],ne[1]),this.drawingContext.lineTo(T[V+1][0],T[V+1][1])),this._doFillStrokeClose(U)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(T[0][0],T[0][1]),V=1;V<F;V++)(ne=T[V]).isVert&&(ne.moveTo?(U&&this.drawingContext.closePath(),this.drawingContext.moveTo(ne[0],ne[1])):this.drawingContext.lineTo(ne[0],ne[1]));this._doFillStrokeClose(U)}R=z=I=N=!1,U&&T.pop()}return this}},{key:"strokeCap",value:function(A){return A!==y.ROUND&&A!==y.SQUARE&&A!==y.PROJECT||(this.drawingContext.lineCap=A),this}},{key:"strokeJoin",value:function(A){return A!==y.ROUND&&A!==y.BEVEL&&A!==y.MITER||(this.drawingContext.lineJoin=A),this}},{key:"strokeWeight",value:function(A){return this.drawingContext.lineWidth=void 0===A||0===A?1e-4:A,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(A){A!==this._cachedFillStyle&&(this.drawingContext.fillStyle=A,this._cachedFillStyle=A)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(A){A!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=A,this._cachedStrokeStyle=A)}},{key:"bezier",value:function(A,T,N,I,z,R,Q,ne){return this._pInst.beginShape(),this._pInst.vertex(A,T),this._pInst.bezierVertex(N,I,z,R,Q,ne),this._pInst.endShape(),this}},{key:"curve",value:function(A,T,N,I,z,R,Q,ne){return this._pInst.beginShape(),this._pInst.curveVertex(A,T),this._pInst.curveVertex(N,I),this._pInst.curveVertex(z,R),this._pInst.curveVertex(Q,ne),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(A){A&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(A,T,N,I,z,R){this.drawingContext.transform(A,T,N,I,z,R)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(A){this.drawingContext.rotate(A)}},{key:"scale",value:function(A,T){return this.drawingContext.scale(A,T),this}},{key:"translate",value:function(A,T){return A instanceof g.default.Vector&&(T=A.y,A=A.x),this.drawingContext.translate(A,T),this}},{key:"_renderText",value:function(A,T,N,I,z,R){if(!(I<R||z<=I))return A.push(),this._isOpenType()?this._textFont._renderPath(T,N,I,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(T,N,I),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(y._DEFAULT_TEXT_FILL),this.drawingContext.fillText(T,N,I))),A.pop(),A}},{key:"textWidth",value:function(A){return this._isOpenType()?this._textFont._textWidth(A,this._textSize):this.drawingContext.measureText(A).width}},{key:"_applyTextProperties",value:function(){var A=this._pInst,T=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),T=this._textFont,this._isOpenType()&&(T=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),T||"sans-serif");return/\s/.exec(T)&&(T='"'.concat(T,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(T),this.drawingContext.textAlign=this._textAlign,this.drawingContext.textBaseline=this._textBaseline===y.CENTER?y._CTX_MIDDLE:this._textBaseline,A}},{key:"push",value:function(){return this.drawingContext.save(),s(d(x.prototype),"push",this).call(this)}},{key:"pop",value:function(A){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,s(d(x.prototype),"pop",this).call(this,A)}}])&&E(h.prototype,c),x}(g.default.Renderer);l.prototype.text=function(c,h,_,T,x){var A;return void 0!==T&&this.drawingContext.textBaseline===y.BASELINE&&(A=!0,this.drawingContext.textBaseline=y.TOP),T=g.default.Renderer.prototype.text.apply(this,arguments),A&&(this.drawingContext.textBaseline=y.BASELINE),T},g.default.Renderer2D=l,H.default=m=g.default.Renderer2D},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(o,oe,H){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var v=(o=o("./main"))&&o.__esModule?o:{default:o};function w(){return{}}v.default.prototype._promisePreloads=[];var g=!(v.default.prototype.registerPromisePreload=function(y){v.default.prototype._promisePreloads.push(y)});v.default.prototype._setupPromisePreloads=function(){var y=!0,C=!1,E=void 0;try{for(var s,u=this._promisePreloads[Symbol.iterator]();!(y=(s=u.next()).done);y=!0){var a=s.value,d=this,p=a.method,l=a.addCallbacks,m=a.legacyPreloadSetup,c=a.target||this,h=c[p].bind(c);if(c===v.default.prototype){if(g)continue;d=null,h=c[p]}c[p]=this._wrapPromisePreload(d,h,l),m&&(c[m.method]=this._legacyPreloadGenerator(d,m,c[p]))}}catch(_){C=!0,E=_}finally{try{y||null==u.return||u.return()}finally{if(C)throw E}}g=!0},v.default.prototype._wrapPromisePreload=function(y,C,E){var s=function(){for(var u=this,a=(this._incrementPreload(),null),d=null,p=arguments.length,l=new Array(p),m=0;m<p;m++)l[m]=arguments[m];if(E)for(var c=l.length-1;0<=c&&!d&&"function"==typeof l[c];c--)d=a,a=l.pop();var h=Promise.resolve(C.apply(this,l));return a&&h.then(a),d&&h.catch(d),h.then(function(){return u._decrementPreload()}),h};return y?s.bind(y):s},v.default.prototype._legacyPreloadGenerator=function(y,u,E){var s=u.createBaseObject||w;return u=function(){var a=this;this._incrementPreload();for(var d=arguments.length,p=new Array(d),l=0;l<d;l++)p[l]=arguments[l];var m=s.apply(this,p);return E.apply(this,p).then(function(c){Object.assign(m,c),a._decrementPreload()}),m},y?u.bind(y):u}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(o,oe,H){"use strict";function v(u){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(u)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var w=(s=o("./main"))&&s.__esModule?s:{default:s},g=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==C(u)&&"function"!=typeof u)return{default:u};var a=y();if(a&&a.has(u))return a.get(u);var d,p={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in u){var m;Object.prototype.hasOwnProperty.call(u,d)&&((m=l?Object.getOwnPropertyDescriptor(u,d):null)&&(m.get||m.set)?Object.defineProperty(p,d,m):p[d]=u[d])}return p.default=u,a&&a.set(u,p),p}(o("./constants"));function y(){var u;return"function"!=typeof WeakMap?null:(y=function(){return u},u=new WeakMap)}function C(u){return(C="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(u)}o("./p5.Graphics"),o("./p5.Renderer2D"),o("../webgl/p5.RendererGL");var E="defaultCanvas0",s=(w.default.prototype.createCanvas=function(u,a,d,p){var l,m,c;if(w.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(d=g.P2D,p=arguments[2]):l=d||g.P2D,p)(c=document.getElementById(E))&&c.parentNode.removeChild(c),c=p,this._defaultGraphicsCreated=!1;else{if(l===g.WEBGL)(c=document.getElementById(E))&&(c.parentNode.removeChild(c),m=this._renderer,this._elements=this._elements.filter(function(_){return _!==m})),(c=document.createElement("canvas")).id=E,c.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)c=this.canvas;else{c=p||document.createElement("canvas");for(var h=0;document.getElementById("defaultCanvas".concat(h));)h++;E="defaultCanvas".concat(h),c.id=E,c.classList.add("p5Canvas")}this._setupDone||(c.dataset.hidden=!0,c.style.visibility="hidden"),(this._userNode||(0===document.getElementsByTagName("main").length&&(d=document.createElement("main"),document.body.appendChild(d)),document.getElementsByTagName("main")[0])).appendChild(c)}return l===g.WEBGL?(this._setProperty("_renderer",new w.default.RendererGL(c,this,!0)),this._elements.push(this._renderer),u=(p=this._renderer._adjustDimensions(u,a)).adjustedWidth,a=p.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new w.default.Renderer2D(c,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(u,a),this._renderer._applyDefaults(),this._renderer},w.default.prototype.resizeCanvas=function(u,a,d){if(w.default._validateParameters("resizeCanvas",arguments),this._renderer){var p,l,m,c={};for(p in this.drawingContext){var h=this.drawingContext[p];"object"!==C(h)&&"function"!=typeof h&&(c[p]=h)}for(m in this._renderer instanceof w.default.RendererGL&&(u=(l=this._renderer._adjustDimensions(u,a)).adjustedWidth,a=l.adjustedHeight),this.width=u,this.height=a,this._renderer.resize(u,a),c)try{this.drawingContext[m]=c[m]}catch{}d||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},w.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},w.default.prototype.createGraphics=function(u,a){for(var d=arguments.length,p=new Array(2<d?d-2:0),l=2;l<d;l++)p[l-2]=arguments[l];return p[0]instanceof HTMLCanvasElement&&(p[1]=p[0],p[0]=g.P2D),w.default._validateParameters("createGraphics",arguments),new w.default.Graphics(u,a,p[0],this,p[1])},w.default.prototype.createFramebuffer=function(u){return new w.default.Framebuffer(this,u)},w.default.prototype.clearDepth=function(u){this._assert3d("clearDepth"),this._renderer.clearDepth(u)},w.default.prototype.blendMode=function(u){w.default._validateParameters("blendMode",arguments),u===g.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),u=g.BLEND),this._renderer.blendMode(u)},w.default);H.default=s},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(o,oe,H){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}function w(a){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=s(o("../main")),y=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==w(a)&&"function"!=typeof a)return{default:a};var d=E();if(d&&d.has(a))return d.get(a);var p,l={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in a){var c;Object.prototype.hasOwnProperty.call(a,p)&&((c=m?Object.getOwnPropertyDescriptor(a,p):null)&&(c.get||c.set)?Object.defineProperty(l,p,c):l[p]=a[p])}return l.default=a,d&&d.set(a,l),l}(o("../constants")),C=s(o("../helpers"));function E(){var a;return"function"!=typeof WeakMap?null:(E=function(){return a},a=new WeakMap)}function s(a){return a&&a.__esModule?a:{default:a}}o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),g.default.prototype._normalizeArcAngles=function(a,d,p,l,m){var c;return a-=y.TWO_PI*Math.floor(a/y.TWO_PI),d-=y.TWO_PI*Math.floor(d/y.TWO_PI),c=Math.min(Math.abs(a-d),y.TWO_PI-Math.abs(a-d)),m&&(a=a<=y.HALF_PI?Math.atan(p/l*Math.tan(a)):a>y.HALF_PI&&a<=3*y.HALF_PI?Math.atan(p/l*Math.tan(a))+y.PI:Math.atan(p/l*Math.tan(a))+y.TWO_PI,d=d<=y.HALF_PI?Math.atan(p/l*Math.tan(d)):d>y.HALF_PI&&d<=3*y.HALF_PI?Math.atan(p/l*Math.tan(d))+y.PI:Math.atan(p/l*Math.tan(d))+y.TWO_PI),d<a&&(d+=y.TWO_PI),{start:a,stop:d,correspondToSamePoint:c<1e-5}},g.default.prototype.arc=function(a,d,p,l,m,c,h,_){return g.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&m!==c&&(m=this._toRadians(m),c=this._toRadians(c),p=Math.abs(p),l=Math.abs(l),a=C.default.modeAdjust(a,d,p,l,this._renderer._ellipseMode),(d=this._normalizeArcAngles(m,c,a.w,a.h,!0)).correspondToSamePoint?this._renderer.ellipse([a.x,a.y,a.w,a.h,_]):(this._renderer.arc(a.x,a.y,a.w,a.h,d.start,d.stop,h,_),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[a.x,a.y,a.w,a.h,d.start,d.stop,h]))),this},g.default.prototype.ellipse=function(a,d,p,l,m){return g.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},g.default.prototype.circle=function(){for(var a=arguments.length,d=new Array(a),p=0;p<a;p++)d[p]=arguments[p];g.default._validateParameters("circle",d);var l=d.slice(0,2);return l.push(d[2],d[2]),this._renderEllipse.apply(this,function u(a){return function(d){if(Array.isArray(d)){for(var p=0,l=new Array(d.length);p<d.length;p++)l[p]=d[p];return l}}(a)||function(d){if(Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d))return Array.from(d)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(l))},g.default.prototype._renderEllipse=function(a,d,p,l,m){return(this._renderer._doStroke||this._renderer._doFill)&&(p<0&&(p=Math.abs(p)),void 0===l?l=p:l<0&&(l=Math.abs(l)),a=C.default.modeAdjust(a,d,p,l,this._renderer._ellipseMode),this._renderer.ellipse([a.x,a.y,a.w,a.h,m]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[a.x,a.y,a.w,a.h])),this},g.default.prototype.line=function(){for(var a,d=arguments.length,p=new Array(d),l=0;l<d;l++)p[l]=arguments[l];return g.default._validateParameters("line",p),this._renderer._doStroke&&(a=this._renderer).line.apply(a,p),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",p),this},g.default.prototype.point=function(){for(var a,d=arguments.length,p=new Array(d),l=0;l<d;l++)p[l]=arguments[l];return g.default._validateParameters("point",p),this._renderer._doStroke&&(1===p.length&&p[0]instanceof g.default.Vector?this._renderer.point.call(this._renderer,p[0].x,p[0].y,p[0].z):((a=this._renderer).point.apply(a,p),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",p))),this},g.default.prototype.quad=function(){for(var a,d=arguments.length,p=new Array(d),l=0;l<d;l++)p[l]=arguments[l];return g.default._validateParameters("quad",p),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&p.length<12?this._renderer.quad.call(this._renderer,p[0],p[1],0,p[2],p[3],0,p[4],p[5],0,p[6],p[7],0,p[8],p[9]):((a=this._renderer).quad.apply(a,p),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",p))),this},g.default.prototype.rect=function(){for(var a=arguments.length,d=new Array(a),p=0;p<a;p++)d[p]=arguments[p];return g.default._validateParameters("rect",d),this._renderRect.apply(this,d)},g.default.prototype.square=function(a,d,p,l,m,c,h){return g.default._validateParameters("square",arguments),this._renderRect.call(this,a,d,p,p,l,m,c,h)},g.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var a=C.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),d=[a.x,a.y,a.w,a.h],p=4;p<arguments.length;p++)d[p]=arguments[p];this._renderer.rect(d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[a.x,a.y,a.w,a.h])}return this},g.default.prototype.triangle=function(){for(var a=arguments.length,d=new Array(a),p=0;p<a;p++)d[p]=arguments[p];return g.default._validateParameters("triangle",d),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",d),this},H.default=o=g.default},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(o,oe,H){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(s)}function w(s){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=(E=o("../main"))&&E.__esModule?E:{default:E},y=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==w(s)&&"function"!=typeof s)return{default:s};var u=C();if(u&&u.has(s))return u.get(s);var a,d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var l;Object.prototype.hasOwnProperty.call(s,a)&&((l=p?Object.getOwnPropertyDescriptor(s,a):null)&&(l.get||l.set)?Object.defineProperty(d,a,l):d[a]=s[a])}return d.default=s,u&&u.set(s,d),d}(o("../constants"));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}g.default.prototype.ellipseMode=function(s){return g.default._validateParameters("ellipseMode",arguments),s!==y.CORNER&&s!==y.CORNERS&&s!==y.RADIUS&&s!==y.CENTER||(this._renderer._ellipseMode=s),this},g.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},g.default.prototype.rectMode=function(s){return g.default._validateParameters("rectMode",arguments),s!==y.CORNER&&s!==y.CORNERS&&s!==y.RADIUS&&s!==y.CENTER||(this._renderer._rectMode=s),this},g.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},g.default.prototype.strokeCap=function(s){return g.default._validateParameters("strokeCap",arguments),s!==y.ROUND&&s!==y.SQUARE&&s!==y.PROJECT||this._renderer.strokeCap(s),this},g.default.prototype.strokeJoin=function(s){return g.default._validateParameters("strokeJoin",arguments),s!==y.ROUND&&s!==y.BEVEL&&s!==y.MITER||this._renderer.strokeJoin(s),this},g.default.prototype.strokeWeight=function(s){return g.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(s),this};var E=g.default;H.default=E},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(o,oe,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(w=o("../main"))&&w.__esModule?w:{default:w};o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),v.default.prototype.bezier=function(){for(var g,y=arguments.length,C=new Array(y),E=0;E<y;E++)C[E]=arguments[E];return v.default._validateParameters("bezier",C),(this._renderer._doStroke||this._renderer._doFill)&&(g=this._renderer).bezier.apply(g,C),this},v.default.prototype.bezierDetail=function(g){return v.default._validateParameters("bezierDetail",arguments),this._bezierDetail=g,this},v.default.prototype.bezierPoint=function(g,y,C,E,s){v.default._validateParameters("bezierPoint",arguments);var u=1-s;return Math.pow(u,3)*g+3*Math.pow(u,2)*s*y+3*u*Math.pow(s,2)*C+Math.pow(s,3)*E},v.default.prototype.bezierTangent=function(g,y,C,E,s){v.default._validateParameters("bezierTangent",arguments);var u=1-s;return 3*E*Math.pow(s,2)-3*C*Math.pow(s,2)+6*C*u*s-6*y*u*s+3*y*Math.pow(u,2)-3*g*Math.pow(u,2)},v.default.prototype.curve=function(){for(var g,y=arguments.length,C=new Array(y),E=0;E<y;E++)C[E]=arguments[E];return v.default._validateParameters("curve",C),this._renderer._doStroke&&(g=this._renderer).curve.apply(g,C),this},v.default.prototype.curveDetail=function(g){return v.default._validateParameters("curveDetail",arguments),this._curveDetail=g<3?3:g,this},v.default.prototype.curveTightness=function(g){return v.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=g,this},v.default.prototype.curvePoint=function(g,y,C,E,s){v.default._validateParameters("curvePoint",arguments);var u=this._renderer._curveTightness,a=s*s*s,d=s*s;return g*((u-1)/2*a+(1-u)*d+(u-1)/2*s)+y*((u+3)/2*a+(-5-u)/2*d+1)+C*((-3-u)/2*a+(u+2)*d+(1-u)/2*s)+E*((1-u)/2*a+(u-1)/2*d)},v.default.prototype.curveTangent=function(g,y,C,E,d){v.default._validateParameters("curveTangent",arguments);var u=this._renderer._curveTightness,a=d*d*3;return g*((u-1)/2*a+(1-u)*(d*=2)+(u-1)/2)+y*((u+3)/2*a+(-5-u)/2*d)+C*((-3-u)/2*a+(u+2)*d+(1-u)/2)+E*((1-u)/2*a+(u-1)/2*d)};var w=v.default;H.default=w},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(o,oe,H){"use strict";function v(h){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(h)}function w(h){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(_){return v(_)}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":v(_)})(h)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=(c=o("../main"))&&c.__esModule?c:{default:c},y=function(h){if(h&&h.__esModule)return h;if(null===h||"object"!==w(h)&&"function"!=typeof h)return{default:h};var _=C();if(_&&_.has(h))return _.get(h);var M,x={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in h){var T;Object.prototype.hasOwnProperty.call(h,M)&&((T=A?Object.getOwnPropertyDescriptor(h,M):null)&&(T.get||T.set)?Object.defineProperty(x,M,T):x[M]=h[M])}return x.default=h,_&&_.set(h,x),x}(o("../constants"));function C(){var h;return"function"!=typeof WeakMap?null:(C=function(){return h},h=new WeakMap)}var E=null,s=[],u=[],a=!1,d=!1,p=!1,l=!1,m=!0,c=(g.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(u=[],l=!0),this},g.default.prototype.beginShape=function(h){var _;return g.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(_=this._renderer).beginShape.apply(_,arguments):(E=h===y.POINTS||h===y.LINES||h===y.TRIANGLES||h===y.TRIANGLE_FAN||h===y.TRIANGLE_STRIP||h===y.QUADS||h===y.QUAD_STRIP?h:null,s=[],u=[]),this},g.default.prototype.bezierVertex=function(){for(var h,_=arguments.length,M=new Array(_),x=0;x<_;x++)M[x]=arguments[x];if(g.default._validateParameters("bezierVertex",M),this._renderer.isP3D)(h=this._renderer).bezierVertex.apply(h,M);else if(0===s.length)g.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{a=!0;for(var A=[],T=0;T<M.length;T++)A[T]=M[T];A.isVert=!1,(l?u:s).push(A)}return this},g.default.prototype.curveVertex=function(){for(var h,_=arguments.length,M=new Array(_),x=0;x<_;x++)M[x]=arguments[x];return g.default._validateParameters("curveVertex",M),this._renderer.isP3D?(h=this._renderer).curveVertex.apply(h,M):(d=!0,this.vertex(M[0],M[1])),this},g.default.prototype.endContour=function(){if(!this._renderer.isP3D){var h=u[0].slice();h.isVert=u[0].isVert,h.moveTo=!1,u.push(h),m&&(s.push(s[0]),m=!1);for(var _=0;_<u.length;_++)s.push(u[_])}return this},g.default.prototype.endShape=function(h){var _=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(g.default._validateParameters("endShape",arguments),_<1&&(console.log("\u{1f338} p5.js says: You can not have less than one instance"),_=1),this._renderer.isP3D)this._renderer.endShape(h,d,a,p,l,E,_);else{if(1!==_&&console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode"),0===s.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;(_=h===y.CLOSE)&&!l&&s.push(s[0]),this._renderer.endShape(h,s,d,a,p,l,E),m=!(l=p=a=d=!1),_&&s.pop()}return this},g.default.prototype.quadraticVertex=function(){for(var h,_=arguments.length,M=new Array(_),x=0;x<_;x++)M[x]=arguments[x];if(g.default._validateParameters("quadraticVertex",M),this._renderer.isP3D)(h=this._renderer).quadraticVertex.apply(h,M);else{if(this._contourInited)return(h={}).x=M[0],h.y=M[1],h.x3=M[2],h.y3=M[3],h.type=y.QUADRATIC,this._contourVertices.push(h),this;if(0<s.length){p=!0;for(var A=[],T=0;T<M.length;T++)A[T]=M[T];A.isVert=!1,(l?u:s).push(A)}else g.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},g.default.prototype.vertex=function(h,_,M,x,A){var T;return this._renderer.isP3D?(T=this._renderer).vertex.apply(T,arguments):((T=[]).isVert=!0,T[0]=h,T[1]=_,T[2]=0,T[3]=0,T[4]=0,T[5]=this._renderer._getFill(),T[6]=this._renderer._getStroke(),M&&(T.moveTo=M),(l?(0===u.length&&(T.moveTo=!0),u):s).push(T)),this},g.default.prototype.normal=function(h,_,M){var x;return this._assert3d("normal"),g.default._validateParameters("normal",arguments),(x=this._renderer).normal.apply(x,arguments),this},g.default);H.default=c},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(o,oe,H){},{}],295:[function(o,oe,H){"use strict";o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.assign"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0,(o=(o=o("./main"))&&o.__esModule?o:{default:o}).default.prototype.noLoop=function(){this._loop=!1},o.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},o.default.prototype.isLooping=function(){return this._loop},o.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},o.default.prototype.pop=function(){var v=this._styles.pop();v?(this._renderer.pop(v.renderer),Object.assign(this,v.props)):console.warn("pop() was called without matching push()")},o.default.prototype.redraw=function(v){if(!this._inUserDraw&&this._setupDone){var w=parseInt(v),g=((isNaN(w)||w<1)&&(w=1),this._isGlobal?window:this);if("function"==typeof g.draw){void 0===g.setup&&g.scale(g._pixelDensity,g._pixelDensity);for(var y=0;y<w;y++){g.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),g._renderer.isP3D&&g._renderer._update(),g._setProperty("frameCount",g.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{g.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},H.default=o=o.default},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(o,oe,H){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(o=o("./main"))&&o.__esModule?o:{default:o};v.default.prototype.applyMatrix=function(){var g=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||g?(g=this._renderer).applyMatrix.apply(g,function w(g){return function(y){if(Array.isArray(y)){for(var C=0,E=new Array(y.length);C<y.length;C++)E[C]=y[C];return E}}(g)||function(y){if(Symbol.iterator in Object(y)||"[object Arguments]"===Object.prototype.toString.call(y))return Array.from(y)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(arguments.length<=0?void 0:arguments[0])):(g=this._renderer).applyMatrix.apply(g,arguments),this},v.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},v.default.prototype.rotate=function(g,y){return v.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(g),y),this},v.default.prototype.rotateX=function(g){return this._assert3d("rotateX"),v.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(g)),this},v.default.prototype.rotateY=function(g){return this._assert3d("rotateY"),v.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(g)),this},v.default.prototype.rotateZ=function(g){return this._assert3d("rotateZ"),v.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(g)),this},v.default.prototype.scale=function(g,y,C){var E;return v.default._validateParameters("scale",arguments),g instanceof v.default.Vector?(g=(E=g).x,y=E.y,C=E.z):Array.isArray(g)&&(g=(E=g)[0],y=E[1],C=E[2]||1),isNaN(y)?y=C=g:isNaN(C)&&(C=1),this._renderer.scale(g,y,C),this},v.default.prototype.shearX=function(g){return v.default._validateParameters("shearX",arguments),g=this._toRadians(g),this._renderer.applyMatrix(1,0,Math.tan(g),1,0,0),this},v.default.prototype.shearY=function(g){return v.default._validateParameters("shearY",arguments),g=this._toRadians(g),this._renderer.applyMatrix(1,Math.tan(g),0,1,0,0),this},v.default.prototype.translate=function(g,y,C){return v.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(g,y,C):this._renderer.translate(g,y),this},H.default=o=v.default},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(o,oe,H){"use strict";function v(C){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(C)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator");var w=(o=o("../core/main"))&&o.__esModule?o:{default:o};function g(C){return function(E){if(Array.isArray(E)){for(var s=0,u=new Array(E.length);s<E.length;s++)u[s]=E[s];return u}}(C)||function(E){if(Symbol.iterator in Object(E)||"[object Arguments]"===Object.prototype.toString.call(E))return Array.from(E)}(C)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(C){return(y="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(E){return v(E)}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":v(E)})(C)}w.default.prototype.storeItem=function(C,E){"string"!=typeof C&&console.log("The argument that you passed to storeItem() - ".concat(C," is not a string.")),C.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(C," must not end with 'p5TypeID'.")),void 0===E&&console.log("You cannot store undefined variables using storeItem().");var s=y(E);switch(s){case"number":case"boolean":E=E.toString();break;case"object":E instanceof w.default.Color?s="p5.Color":E instanceof w.default.Vector&&(s="p5.Vector",E=[E.x,E.y,E.z]),E=JSON.stringify(E)}localStorage.setItem(C,E),C="".concat(C,"p5TypeID"),localStorage.setItem(C,s)},w.default.prototype.getItem=function(C){var E=localStorage.getItem(C),s=localStorage.getItem("".concat(C,"p5TypeID"));if(void 0===s)console.log("Unable to determine type of item stored under ".concat(C,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==E)switch(s){case"number":E=parseFloat(E);break;case"boolean":E="true"===E;break;case"object":E=JSON.parse(E);break;case"p5.Color":E=JSON.parse(E),E=this.color.apply(this,g(E.levels));break;case"p5.Vector":E=JSON.parse(E),E=this.createVector.apply(this,g(E))}return E},w.default.prototype.clearStorage=function(){var C=this;Object.keys(localStorage).forEach(function(E){E.endsWith("p5TypeID")&&C.removeItem(E.replace("p5TypeID",""))})},w.default.prototype.removeItem=function(C){"string"!=typeof C&&console.log("The argument that you passed to removeItem() - ".concat(C," is not a string.")),localStorage.removeItem(C),localStorage.removeItem("".concat(C,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(o,oe,H){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(p)}function w(p){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.object.keys"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=(o=o("../core/main"))&&o.__esModule?o:{default:o};function y(p,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(l&&l.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),l&&C(p,l)}function C(p,l){return(C=Object.setPrototypeOf||function(m,c){return m.__proto__=c,m})(p,l)}function E(p){return function(){var l,m=s(p);if(l=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(l=s(this).constructor,Reflect.construct(m,arguments,l)):m.apply(this,arguments),m=this,!l||"object"!==w(l)&&"function"!=typeof l){if(void 0!==m)return m;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return l}}function s(p){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(p)}function u(p,l){if(!(p instanceof l))throw new TypeError("Cannot call a class as a function")}function a(p,l){for(var m=0;m<l.length;m++){var c=l[m];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(p,c.key,c)}}function d(p,l,m){l&&a(p.prototype,l),m&&a(p,m)}g.default.prototype.createStringDict=function(p,l){return g.default._validateParameters("createStringDict",arguments),new g.default.StringDict(p,l)},g.default.prototype.createNumberDict=function(p,l){return g.default._validateParameters("createNumberDict",arguments),new g.default.NumberDict(p,l)},g.default.TypedDict=function(){function p(l,m){return u(this,p),l instanceof Object?this.data=l:(this.data={},this.data[l]=m),this}return d(p,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(l){return this.data.hasOwnProperty(l)}},{key:"get",value:function(l){if(this.data.hasOwnProperty(l))return this.data[l];console.log("".concat(l," does not exist in this Dictionary"))}},{key:"set",value:function(l,m){this._validate(m)?this.data[l]=m:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(l){for(var m in l)this.set(m,l[m])}},{key:"create",value:function(l,m){l instanceof Object&&void 0===m?this._addObj(l):void 0!==l?this.set(l,m):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(l){if(!this.data.hasOwnProperty(l))throw new Error("".concat(l," does not exist in this Dictionary"));delete this.data[l]}},{key:"print",value:function(){for(var l in this.data)console.log("key:".concat(l," value:").concat(this.data[l]))}},{key:"saveTable",value:function(l){var m,c="";for(m in this.data)c+="".concat(m,",").concat(this.data[m],"\n");var h=new Blob([c],{type:"text/csv"});g.default.prototype.downloadFile(h,l||"mycsv","csv")}},{key:"saveJSON",value:function(l,m){g.default.prototype.saveJSON(this.data,l,m)}},{key:"_validate",value:function(l){return!0}}]),p}(),g.default.StringDict=function(){y(l,g.default.TypedDict);var p=E(l);function l(){u(this,l);for(var m=arguments.length,c=new Array(m),h=0;h<m;h++)c[h]=arguments[h];return p.call.apply(p,[this].concat(c))}return d(l,[{key:"_validate",value:function(m){return"string"==typeof m}}]),l}(),g.default.NumberDict=function(){y(l,g.default.TypedDict);var p=E(l);function l(){u(this,l);for(var m=arguments.length,c=new Array(m),h=0;h<m;h++)c[h]=arguments[h];return p.call.apply(p,[this].concat(c))}return d(l,[{key:"_validate",value:function(m){return"number"==typeof m}},{key:"add",value:function(m,c){this.data.hasOwnProperty(m)?this.data[m]+=c:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"sub",value:function(m,c){this.add(m,-c)}},{key:"mult",value:function(m,c){this.data.hasOwnProperty(m)?this.data[m]*=c:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"div",value:function(m,c){this.data.hasOwnProperty(m)?this.data[m]/=c:console.log("The key - ".concat(m," does not exist in this dictionary."))}},{key:"_valueTest",value:function(m){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var c,h=this.data[Object.keys(this.data)[0]];for(c in this.data)this.data[c]*m<h*m&&(h=this.data[c]);return h}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(m){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var c=Object.keys(this.data)[0],h=1;h<Object.keys(this.data).length;h++)Object.keys(this.data)[h]*m<c*m&&(c=Object.keys(this.data)[h]);return c}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),l}(),H.default=o=g.default.TypedDict},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(o,oe,H){"use strict";function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var w=(o=o("../core/main"))&&o.__esModule?o:{default:o};function g(c,h){for(var _=0;_<h.length;_++){var M=h[_];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(c,M.key,M)}}function y(c,h,_){h&&g(c.prototype,h),_&&g(c,_)}function C(c,h){return(C=Object.setPrototypeOf||function(_,M){return _.__proto__=M,_})(c,h)}function s(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function u(c){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})(c)}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function d(c){return(d="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(h){return v(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":v(h)})(c)}function p(c,h,_){return(h._userNode||document.body).appendChild(c),_=new(_?w.default.MediaElement:w.default.Element)(c,h),h._elements.push(_),_}function l(c,T,_,M){var x=document.createElement(T),A=("string"==typeof(_=_||"")&&(_=[_]),!0),N=void(T=!1);try{for(var I,z=_[Symbol.iterator]();!(A=(I=z.next()).done);A=!0){var R=I.value,Q=document.createElement("source");Q.setAttribute("src",R),x.appendChild(Q)}}catch(V){T=!0,N=V}finally{try{A||null==z.return||z.return()}finally{if(T)throw N}}"function"==typeof M&&x.addEventListener("canplaythrough",function V(){M(),x.removeEventListener("canplaythrough",V)});var ne=p(x,c,!0);return ne.loadedmetadata=!1,x.addEventListener("loadedmetadata",function(){ne.width=x.videoWidth,ne.height=x.videoHeight,0===ne.elt.width&&(ne.elt.width=x.videoWidth),0===ne.elt.height&&(ne.elt.height=x.videoHeight),ne.presetPlaybackRate&&(ne.elt.playbackRate=ne.presetPlaybackRate,delete ne.presetPlaybackRate),ne.loadedmetadata=!0}),ne}function m(c,h,_,M){a(this,m),this.callback=c,this.time=h,this.id=_,this.val=M}w.default.prototype.select=function(c,h){return w.default._validateParameters("select",arguments),(h=this._getContainer(h).querySelector(c))?this._wrapElement(h):null},w.default.prototype.selectAll=function(c,h){w.default._validateParameters("selectAll",arguments);var _=[],M=this._getContainer(h).querySelectorAll(c);if(M)for(var x=0;x<M.length;x++){var A=this._wrapElement(M[x]);_.push(A)}return _},w.default.prototype._getContainer=function(c){var h=document;return"string"==typeof c?h=document.querySelector(c)||document:c instanceof w.default.Element?h=c.elt:c instanceof HTMLElement&&(h=c),h},w.default.prototype._wrapElement=function(c){var h,_=Array.prototype.slice.call(c.children);return"INPUT"===c.tagName&&"checkbox"===c.type?((h=new w.default.Element(c,this)).checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},h):"VIDEO"===c.tagName||"AUDIO"===c.tagName?new w.default.MediaElement(c,this):"SELECT"===c.tagName?this.createSelect(new w.default.Element(c,this)):0<_.length&&_.every(function(M){return"INPUT"===M.tagName||"LABEL"===M.tagName})&&("DIV"===c.tagName||"SPAN"===c.tagName)?this.createRadio(new w.default.Element(c,this)):new w.default.Element(c,this)},w.default.prototype.removeElements=function(c){w.default._validateParameters("removeElements",arguments),this._elements.filter(function(h){return!(h.elt instanceof HTMLCanvasElement)}).map(function(h){return h.remove()})},w.default.Element.prototype.changed=function(c){return w.default.Element._adjustListener("change",c,this),this},w.default.Element.prototype.input=function(c){return w.default.Element._adjustListener("input",c,this),this},w.default.prototype.createDiv=function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",h=document.createElement("div");return h.innerHTML=c,p(h,this)},w.default.prototype.createP=function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",h=document.createElement("p");return h.innerHTML=c,p(h,this)},w.default.prototype.createSpan=function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",h=document.createElement("span");return h.innerHTML=c,p(h,this)},w.default.prototype.createImg=function(){w.default._validateParameters("createImg",arguments);var c,h=document.createElement("img"),_=arguments;return 1<_.length&&"string"==typeof _[1]&&(h.alt=_[1]),2<_.length&&"string"==typeof _[2]&&(h.crossOrigin=_[2]),h.src=_[0],c=p(h,this),h.addEventListener("load",function(){c.width=h.offsetWidth||h.width,c.height=h.offsetHeight||h.height;var M=_[_.length-1];"function"==typeof M&&M(c)}),c},w.default.prototype.createA=function(c,h,_){w.default._validateParameters("createA",arguments);var M=document.createElement("a");return M.href=c,M.innerHTML=h,_&&(M.target=_),p(M,this)},w.default.prototype.createSlider=function(c,h,_,M){w.default._validateParameters("createSlider",arguments);var x=document.createElement("input");return x.type="range",x.min=c,x.max=h,0===M?x.step=1e-18:M&&(x.step=M),"number"==typeof _&&(x.value=_),p(x,this)},w.default.prototype.createButton=function(c,h){w.default._validateParameters("createButton",arguments);var _=document.createElement("button");return _.innerHTML=c,h&&(_.value=h),p(_,this)},w.default.prototype.createCheckbox=function(){for(var c=arguments.length,h=new Array(c),_=0;_<c;_++)h[_]=arguments[_];w.default._validateParameters("createCheckbox",h);var M=document.createElement("div"),x=document.createElement("input"),A=(x.type="checkbox",document.createElement("label")),T=(A.appendChild(x),M.appendChild(A),p(M,this));return T.checked=function(){var N=T.elt.firstElementChild.getElementsByTagName("input")[0];if(N){if(0===arguments.length)return N.checked;N.checked=!(arguments.length<=0||!arguments[0])}return T},this.value=function(N){return T.value=N,this},h[0]&&(T.value(h[0]),(M=document.createElement("span")).innerHTML=h[0],A.appendChild(M)),h[1]&&(x.checked=!0),T},w.default.prototype.createSelect=function(){for(var c,h=arguments.length,_=new Array(h),M=0;M<h;M++)_[M]=arguments[M];w.default._validateParameters("createSelect",_);var x,A=_[0];return A instanceof w.default.Element&&A.elt instanceof HTMLSelectElement?this.elt=(c=A).elt:A instanceof HTMLSelectElement?(c=p(A,this),this.elt=A):(x=document.createElement("select"),A&&"boolean"==typeof A&&x.setAttribute("multiple","true"),c=p(x,this),this.elt=x),c.option=function(T,N){var I;if(void 0!==T){for(var z,R=0;R<this.elt.length;R+=1)if(this.elt[R].textContent===T){I=R;break}void 0!==I?!1===N?this.elt.remove(I):this.elt[I].value=N:((z=document.createElement("option")).textContent=T,z.value=void 0===N?T:N,this.elt.appendChild(z),this._pInst._elements.push(z))}},c.selected=function(T){if(void 0!==T){for(var N=0;N<this.elt.length;N+=1)this.elt[N].value.toString()===T.toString()&&(this.elt.selectedIndex=N);return this}if(this.elt.getAttribute("multiple")){var I=[],z=!0,R=!1,Q=void 0;try{for(var ne,V=this.elt.selectedOptions[Symbol.iterator]();!(z=(ne=V.next()).done);z=!0)I.push(ne.value.value)}catch(U){R=!0,Q=U}finally{try{z||null==V.return||V.return()}finally{if(R)throw Q}}return I}return this.elt.value},c.disable=function(T){if("string"==typeof T)for(var N=0;N<this.elt.length;N++)this.elt[N].value.toString()===T&&(this.elt[N].disabled=!0,this.elt[N].selected=!1);else this.elt.disabled=!0;return this},c.enable=function(T){if("string"==typeof T)for(var N=0;N<this.elt.length;N++)this.elt[N].value.toString()===T&&(this.elt[N].disabled=!1,this.elt[N].selected=!1);else{this.elt.disabled=!1;for(var I=0;I<this.elt.length;I++)this.elt[I].disabled=!1,this.elt[I].selected=!1}return this},c},w.default.prototype.createRadio=function(){function c(T){return T instanceof HTMLInputElement&&"radio"===T.type}function h(T){return T instanceof HTMLLabelElement}var _,M,x,A=arguments.length<=0?void 0:arguments[0];return A instanceof w.default.Element&&(A.elt instanceof HTMLDivElement||A.elt instanceof HTMLSpanElement)?(_=A,this.elt=A.elt):A instanceof HTMLDivElement||A instanceof HTMLSpanElement?(_=p(A,this),M=this.elt=A,"string"==typeof(arguments.length<=1?void 0:arguments[1])&&(x=arguments.length<=1?void 0:arguments[1])):("string"==typeof A&&(x=A),M=document.createElement("div"),_=p(M,this),this.elt=M),_._name=x||"radioOption",_._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(T){return c(T)||h(T)&&c(T.firstElementChild)}).map(function(T){return c(T)?T:T.firstElementChild})},_.option=function(T,N){var I,z,R,Q=!0,ne=!1,V=void 0;try{for(var X,U=_._getOptionsArray()[Symbol.iterator]();!(Q=(X=U.next()).done);Q=!0){var F=X.value;if(F.value===T){I=F;break}}}catch(K){ne=!0,V=K}finally{try{Q||null==U.return||U.return()}finally{if(ne)throw V}}return void 0===I&&((I=document.createElement("input")).setAttribute("type","radio"),I.setAttribute("value",T)),I.setAttribute("name",_._name),h(I.parentElement)?z=I.parentElement:(z=document.createElement("label")).insertAdjacentElement("afterbegin",I),z.lastElementChild instanceof HTMLSpanElement?R=z.lastElementChild:(R=document.createElement("span"),I.insertAdjacentElement("afterend",R)),R.innerHTML=void 0===N?T:N,this.elt.appendChild(z),I},_.remove=function(T){var N=!0,I=!1,z=void 0;try{for(var R,Q=_._getOptionsArray()[Symbol.iterator]();!(N=(R=Q.next()).done);N=!0){var ne=R.value;if(ne.value===T)return void(h(ne.parentElement)?ne.parentElement:ne).remove()}}catch(V){I=!0,z=V}finally{try{N||null==Q.return||Q.return()}finally{if(I)throw z}}},_.value=function(){var T="",N=!0,I=!1,z=void 0;try{for(var R,Q=_._getOptionsArray()[Symbol.iterator]();!(N=(R=Q.next()).done);N=!0){var ne=R.value;if(ne.checked){T=ne.value;break}}}catch(V){I=!0,z=V}finally{try{N||null==Q.return||Q.return()}finally{if(I)throw z}}return T},_.selected=function(T){var N=null;if(void 0===T){var I=!0,z=!1,R=void 0;try{for(var Q,ne=_._getOptionsArray()[Symbol.iterator]();!(I=(Q=ne.next()).done);I=!0){var V=Q.value;if(V.checked){N=V;break}}}catch(ie){z=!0,R=ie}finally{try{I||null==ne.return||ne.return()}finally{if(z)throw R}}}else{_._getOptionsArray().forEach(function(q){q.checked=!1,q.removeAttribute("checked")});var X=!0;z=!1,R=void 0;try{for(var U,F=_._getOptionsArray()[Symbol.iterator]();!(X=(U=F.next()).done);X=!0){var K=U.value;K.value===T&&(K.setAttribute("checked",!0),K.checked=!0,N=K)}}catch(q){z=!0,R=q}finally{try{X||null==F.return||F.return()}finally{if(z)throw R}}}return N},_.disable=function(){var T=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],N=!0,I=!1,z=void 0;try{for(var R,Q=_._getOptionsArray()[Symbol.iterator]();!(N=(R=Q.next()).done);N=!0)R.value.setAttribute("disabled",T)}catch(ne){I=!0,z=ne}finally{try{N||null==Q.return||Q.return()}finally{if(I)throw z}}},_},w.default.prototype.createColorPicker=function(c){w.default._validateParameters("createColorPicker",arguments);var h=document.createElement("input");return h.type="color",c?c instanceof w.default.Color?h.value=c.toString("#rrggbb"):(w.default.prototype._colorMode="rgb",w.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},h.value=w.default.prototype.color(c).toString("#rrggbb")):h.value="#000000",(h=p(h,this)).color=function(){return c&&(c.mode&&(w.default.prototype._colorMode=c.mode),c.maxes&&(w.default.prototype._colorMaxes=c.maxes)),w.default.prototype.color(this.elt.value)},h},w.default.prototype.createInput=function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",_=(w.default._validateParameters("createInput",arguments),document.createElement("input"));return _.setAttribute("value",c),_.setAttribute("type",h),p(_,this)},w.default.prototype.createFileInput=function(c){var h,_=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(w.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(h=document.createElement("input")).setAttribute("type","file"),_&&h.setAttribute("multiple",!0),h.addEventListener("change",function(M){var x=!0,A=!1,T=void 0;try{for(var N,I=M.target.files[Symbol.iterator]();!(x=(N=I.next()).done);x=!0)w.default.File._load(N.value,c)}catch(R){A=!0,T=R}finally{try{x||null==I.return||I.return()}finally{if(A)throw T}}},!1),p(h,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},w.default.prototype.createVideo=function(c,h){return w.default._validateParameters("createVideo",arguments),l(this,"video",c,h)},w.default.prototype.createAudio=function(c,h){return w.default._validateParameters("createAudio",arguments),l(this,"audio",c,h)},w.default.prototype.VIDEO="video",w.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(c){var h=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return h?new Promise(function(_,M){h.call(navigator,c,_,M)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),w.default.prototype.createCapture=function(){for(var c=arguments.length,h=new Array(c),_=0;_<c;_++)h[_]=arguments[_];if(w.default._validateParameters("createCapture",h),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var M,x=!0,A=!0,T=!1,N=0,I=h;N<I.length;N++){var z=I[N];z===w.default.prototype.VIDEO?A=!1:z===w.default.prototype.AUDIO?x=!1:"object"===d(z)?(void 0!==z.flipped&&(T=z.flipped,delete z.flipped),R=Object.assign({},R,z)):"function"==typeof z&&(M=z)}var R=Object.assign({},{video:x,audio:A},R),Q=document.createElement("video"),ne=(Q.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(R).then(function(V){try{"srcObject"in Q?Q.srcObject=V:Q.src=window.URL.createObjectURL(V)}catch{Q.src=V}}).catch(function(V){"NotFoundError"===V.name&&w.default._friendlyError("No webcam found on this device","createCapture"),"NotAllowedError"===V.name&&w.default._friendlyError("Access to the camera was denied","createCapture"),console.error(V)}),p(Q,this,!0));return ne.loadedmetadata=!1,Q.addEventListener("loadedmetadata",function(){Q.play(),Q.width?(ne.width=Q.width,ne.height=Q.height,T&&(ne.elt.style.transform="scaleX(-1)")):(ne.width=ne.elt.width=Q.videoWidth,ne.height=ne.elt.height=Q.videoHeight),ne.loadedmetadata=!0,M&&M(Q.srcObject)}),ne.flipped=T,ne},w.default.prototype.createElement=function(c,h){return w.default._validateParameters("createElement",arguments),c=document.createElement(c),void 0!==h&&(c.innerHTML=h),p(c,this)},w.default.Element.prototype.addClass=function(c){return this.elt.className?this.hasClass(c)||(this.elt.className=this.elt.className+" "+c):this.elt.className=c,this},w.default.Element.prototype.removeClass=function(c){return this.elt.classList.remove(c),this},w.default.Element.prototype.hasClass=function(c){return this.elt.classList.contains(c)},w.default.Element.prototype.toggleClass=function(c){return this.elt.classList.contains(c)?this.elt.classList.remove(c):this.elt.classList.add(c),this},w.default.Element.prototype.child=function(c){return void 0===c?this.elt.childNodes:("string"==typeof c?("#"===c[0]&&(c=c.substring(1)),c=document.getElementById(c)):c instanceof w.default.Element&&(c=c.elt),c instanceof HTMLElement&&this.elt.appendChild(c),this)},w.default.Element.prototype.center=function(c){var h=this.elt.style.display,_="none"===this.elt.style.display,M="none"===this.parent().style.display,x={x:this.elt.offsetLeft,y:this.elt.offsetTop},A=(_&&this.show(),M&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),T=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===c||void 0===c?this.position(A/2+this.parent().offsetLeft,T/2+this.parent().offsetTop):"horizontal"===c?this.position(A/2+this.parent().offsetLeft,x.y):"vertical"===c&&this.position(x.x,T/2+this.parent().offsetTop),this.style("display",h),_&&this.hide(),M&&this.parent().hide(),this},w.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},w.default.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="static"!==(arguments.length<=2?void 0:arguments[2])&&"fixed"!==(arguments.length<=2?void 0:arguments[2])&&"relative"!==(arguments.length<=2?void 0:arguments[2])&&"sticky"!==(arguments.length<=2?void 0:arguments[2])&&"initial"!==(arguments.length<=2?void 0:arguments[2])&&"inherit"!==(arguments.length<=2?void 0:arguments[2])?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},w.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var c="";return this.elt.style.transform&&(c=(c=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=c,this},w.default.Element.prototype._rotate=function(){var c="";return this.elt.style.transform&&(c=(c=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":2===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=c,this},w.default.Element.prototype.style=function(c,h){if(void 0===(h=h instanceof w.default.Color?"rgba("+h.levels[0]+","+h.levels[1]+","+h.levels[2]+","+h.levels[3]/255+")":h)){if(-1===c.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(c);for(var _=c.split(";"),M=0;M<_.length;M++){var x=_[M].split(":");x[0]&&x[1]&&(this.elt.style[x[0].trim()]=x[1].trim())}}else this.elt.style[c]=h,"width"!==c&&"height"!==c&&"left"!==c&&"top"!==c||(h=window.getComputedStyle(this.elt).getPropertyValue(c).replace(/[^\d.]/g,""),this[c]=Math.round(parseFloat(h,10)));return this},w.default.Element.prototype.attribute=function(c,h){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===h?this.elt.getAttribute(c):(this.elt.setAttribute(c,h),this);if(void 0===h)return this.elt.firstChild.getAttribute(c);for(var _=0;_<this.elt.childNodes.length;_++)this.elt.childNodes[_].setAttribute(c,h)},w.default.Element.prototype.removeAttribute=function(c){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var h=0;h<this.elt.childNodes.length;h++)this.elt.childNodes[h].removeAttribute(c);return this.elt.removeAttribute(c),this},w.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},w.default.Element.prototype.show=function(){return this.elt.style.display="block",this},w.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},w.default.Element.prototype.size=function(c,h){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var _=c,M=h,x=w.default.prototype.AUTO;if(_!==x||M!==x){if(_===x?_=h*this.width/this.height:M===x&&(M=c*this.height/this.width),this.elt instanceof HTMLCanvasElement){var A,T={},N=this.elt.getContext("2d");for(A in N)T[A]=N[A];for(A in this.elt.setAttribute("width",_*this._pInst._pixelDensity),this.elt.setAttribute("height",M*this._pInst._pixelDensity),this.elt.style.width=_+"px",this.elt.style.height=M+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),T)this.elt.getContext("2d")[A]=T[A]}else this.elt.style.width=_+"px",this.elt.style.height=M+"px",this.elt.width=_,this.elt.height=M;this.width=_,this.height=M,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",_),this._pInst._setProperty("height",M))}return this},w.default.Element.prototype.remove=function(){this instanceof w.default.MediaElement&&(this.stop(),null!==(h=this.elt.srcObject)&&h.getTracks().forEach(function(_){_.stop()}));var c,h=this._pInst._elements.indexOf(this);for(c in-1!==h&&this._pInst._elements.splice(h,1),this._events)this.elt.removeEventListener(c,this._events[c]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},w.default.Element.prototype.drop=function(c,h){var _;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",_=function(M){M.preventDefault()}),this.elt.addEventListener("dragleave",_)),w.default.Element._attachListener("drop",function(x){x.preventDefault(),"function"==typeof h&&h.call(this,x),x=x.dataTransfer.files;var A=!0,T=!1,N=void 0;try{for(var I,z=x[Symbol.iterator]();!(A=(I=z.next()).done);A=!0)w.default.File._load(I.value,c)}catch(Q){T=!0,N=Q}finally{try{A||null==z.return||z.return()}finally{if(T)throw N}}},this)):console.log("The File APIs are not fully supported in this browser."),this},w.default.Element.prototype.draggable=function(c){var h,_="ontouchstart"in window,M=0,x=0,A=0,T=0,N=_?"touchend":"mouseup",I=_?"touchmove":"mousemove";function z(Q){var ne;Q=Q||window.event,T=_?(ne=Q.changedTouches,M=A-parseInt(ne[0].clientX),x=T-parseInt(ne[0].clientY),A=parseInt(ne[0].clientX),parseInt(ne[0].clientY)):(M=A-parseInt(Q.clientX),x=T-parseInt(Q.clientY),A=parseInt(Q.clientX),parseInt(Q.clientY)),c.style.left=c.offsetLeft-M+"px",c.style.top=c.offsetTop-x+"px"}function R(){document.removeEventListener(N,R,!1),document.removeEventListener(I,z,!1)}return void 0===c?h=c=this.elt:c!==this.elt&&c.elt!==this.elt&&(c=c.elt,h=this.elt),h.addEventListener(_?"touchstart":"mousedown",function(Q){var ne;return Q=Q||window.event,T=_?(ne=Q.changedTouches,A=parseInt(ne[0].clientX),parseInt(ne[0].clientY)):(A=parseInt(Q.clientX),parseInt(Q.clientY)),document.addEventListener(N,R,!1),document.addEventListener(I,z,!1),!1},!1),h.style.cursor="move",this},o=function(c){var h=M;if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),c&&C(h,c);var _=function E(c){return function(){var h,_,M=u(c);return h=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(h=u(this).constructor,Reflect.construct(M,arguments,h)):M.apply(this,arguments),M=this,!(_=h)||"object"!==d(_)&&"function"!=typeof _?s(M):_}}(M);function M(x,A){a(this,M);var T=s(A=_.call(this,x,A));return A.elt.crossOrigin="anonymous",A._prevTime=0,A._cueIDCounter=0,A._cues=[],A.pixels=[],A._pixelsState=s(A),A._pixelDensity=1,A._modified=!1,A._frameOnCanvas=-1,Object.defineProperty(T,"src",{get:function(){var N=T.elt.children[0].src,I=T.elt.src===window.location.href?"":T.elt.src;return N===window.location.href?I:N},set:function(N){for(var I=0;I<T.elt.children.length;I++)T.elt.removeChild(T.elt.children[I]);var z=document.createElement("source");z.src=N,x.appendChild(z),T.elt.src=N,T.modified=!0}}),T._onended=function(){},T.elt.onended=function(){T._onended(T)},A}return y(M,[{key:"play",value:function(){var x;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(x=this.elt.play())&&x.catch&&x.catch(function(A){"NotAllowedError"===A.name?console.error(A):console.error("Media play method encountered an unexpected error",A)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var x=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(x)},{passive:!0,once:!0})}},{key:"autoplay",value:function(x){var A=this,T=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",x),x&&!T&&(x=function(){return A._setupAutoplayFailDetection()},4===this.elt.readyState?x():this.elt.addEventListener("canplay",x,{passive:!0,once:!0})),this}},{key:"volume",value:function(x){if(void 0===x)return this.elt.volume;this.elt.volume=x}},{key:"speed",value:function(x){if(void 0===x)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=x:this.presetPlaybackRate=x}},{key:"time",value:function(x){return void 0===x?this.elt.currentTime:(this.elt.currentTime=x,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&this._frameOnCanvas!==this._pInst.frameCount&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var x=arguments.length,A=new Array(x),T=0;T<x;T++)A[T]=arguments[T];return w.default.Renderer2D.prototype.loadPixels.apply(this,A)}},{key:"updatePixels",value:function(x,A,T,N){return this.loadedmetadata&&(this._ensureCanvas(),w.default.Renderer2D.prototype.updatePixels.call(this,x,A,T,N)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var x=arguments.length,A=new Array(x),T=0;T<x;T++)A[T]=arguments[T];return w.default.Renderer2D.prototype.get.apply(this,A)}},{key:"_getPixel",value:function(){this.loadPixels();for(var x=arguments.length,A=new Array(x),T=0;T<x;T++)A[T]=arguments[T];return w.default.Renderer2D.prototype._getPixel.apply(this,A)}},{key:"set",value:function(x,A,T){this.loadedmetadata&&(this._ensureCanvas(),w.default.Renderer2D.prototype.set.call(this,x,A,T),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var x=arguments.length,A=new Array(x),T=0;T<x;T++)A[T]=arguments[T];w.default.prototype.copy.apply(this,A)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var x=arguments.length,A=new Array(x),T=0;T<x;T++)A[T]=arguments[T];w.default.Image.prototype.mask.apply(this,A)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(x){this._modified=x}},{key:"onended",value:function(x){return this._onended=x,this}},{key:"connect",value:function(x){var A,T;if("function"==typeof w.default.prototype.getAudioContext)A=w.default.prototype.getAudioContext(),T=w.default.soundOut.input;else try{T=(A=x.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=A.createMediaElementSource(this.elt),this.audioSourceNode.connect(T)),this.audioSourceNode.connect(x?x.input?x.input:x:T)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(x,I,T){var N=this._cueIDCounter++;return I=new m(I,x,N,T),this._cues.push(I),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),N}},{key:"removeCue",value:function(x){for(var A=0;A<this._cues.length;A++)this._cues[A].id===x&&(console.log(x),this._cues.splice(A,1));0===this._cues.length&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var x=this.time(),A=0;A<this._cues.length;A++){var T=this._cues[A].time;this._prevTime<T&&T<=x&&this._cues[A].callback(this._cues[A].val)}this._prevTime=x}}]),M}(w.default.Element),w.default.MediaElement=o,o=function(){function c(h,_){a(this,c),this.file=h,this._pInst=_,_=h.type.split("/"),this.type=_[0],this.subtype=_[1],this.name=h.name,this.size=h.size,this.data=void 0}return y(c,null,[{key:"_createLoader",value:function(h,_){var M=new FileReader;return M.onload=function(x){var A,T=new w.default.File(h);"application/json"===T.file.type?T.data=JSON.parse(x.target.result):"text/xml"===T.file.type?(A=(new DOMParser).parseFromString(x.target.result,"text/xml"),T.data=new w.default.XML(A.documentElement)):T.data=x.target.result,_(T)},M}},{key:"_load",value:function(h,_){var M;/^text\//.test(h.type)||"application/json"===h.type?w.default.File._createLoader(h,_).readAsText(h):/^(video|audio)\//.test(h.type)?((M=new w.default.File(h)).data=URL.createObjectURL(h),_(M)):w.default.File._createLoader(h,_).readAsDataURL(h)}}]),c}(),w.default.File=o,H.default=o=w.default},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(d,oe,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(d=d("../core/main"))&&d.__esModule?d:{default:d};v.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",v.default.prototype.accelerationX=0,v.default.prototype.accelerationY=0,v.default.prototype.accelerationZ=0,v.default.prototype.pAccelerationX=0,v.default.prototype.pAccelerationY=0,v.default.prototype.pAccelerationZ=0,v.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},v.default.prototype.rotationX=0,v.default.prototype.rotationY=0,v.default.prototype.rotationZ=0,v.default.prototype.pRotationX=0,v.default.prototype.pRotationY=0;var w=v.default.prototype.pRotationZ=0,g=0,y=0,C="clockwise",E="clockwise",s="clockwise",u=(v.default.prototype.pRotateDirectionX=void 0,v.default.prototype.pRotateDirectionY=void 0,v.default.prototype.pRotateDirectionZ=void 0,v.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},v.default.prototype.turnAxis=void 0,.5),a=30;v.default.prototype.setMoveThreshold=function(p){v.default._validateParameters("setMoveThreshold",arguments),u=p},v.default.prototype.setShakeThreshold=function(p){v.default._validateParameters("setShakeThreshold",arguments),a=p},v.default.prototype._ondeviceorientation=function(p){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(p.beta)),this._setProperty("rotationY",this._fromDegrees(p.gamma)),this._setProperty("rotationZ",this._fromDegrees(p.alpha)),this._handleMotion()},v.default.prototype._ondevicemotion=function(p){this._updatePAccelerations(),this._setProperty("accelerationX",2*p.acceleration.x),this._setProperty("accelerationY",2*p.acceleration.y),this._setProperty("accelerationZ",2*p.acceleration.z),this._handleMotion()},v.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var p,l,m,c,h,_=this._isGlobal?window:this;"function"==typeof _.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>u||Math.abs(this.accelerationY-this.pAccelerationY)>u||Math.abs(this.accelerationZ-this.pAccelerationZ)>u)&&_.deviceMoved(),"function"==typeof _.deviceTurned&&(l=this._toDegrees(this.rotationX)+180,m=this._toDegrees(this.pRotationX)+180,p=w+180,0<l-m&&l-m<270||l-m<-270?C="clockwise":(l-m<0||270<l-m)&&(C="counter-clockwise"),C!==this.pRotateDirectionX&&(p=l),90<Math.abs(l-p)&&Math.abs(l-p)<270&&(p=l,this._setProperty("turnAxis","X"),_.deviceTurned()),this.pRotateDirectionX=C,w=p-180,m=this._toDegrees(this.rotationY)+180,l=this._toDegrees(this.pRotationY)+180,p=g+180,0<m-l&&m-l<270||m-l<-270?E="clockwise":(m-l<0||270<m-this.pRotationY)&&(E="counter-clockwise"),E!==this.pRotateDirectionY&&(p=m),90<Math.abs(m-p)&&Math.abs(m-p)<270&&(p=m,this._setProperty("turnAxis","Y"),_.deviceTurned()),this.pRotateDirectionY=E,g=p-180,0<(l=this._toDegrees(this.rotationZ))-(m=this._toDegrees(this.pRotationZ))&&l-m<270||l-m<-270?s="clockwise":(l-m<0||270<l-m)&&(s="counter-clockwise"),s!==this.pRotateDirectionZ&&(y=l),90<Math.abs(l-y)&&Math.abs(l-y)<270&&(y=l,this._setProperty("turnAxis","Z"),_.deviceTurned()),this.pRotateDirectionZ=s,this._setProperty("turnAxis",void 0)),"function"==typeof _.deviceShaken&&(null!==this.pAccelerationX&&(c=Math.abs(this.accelerationX-this.pAccelerationX),h=Math.abs(this.accelerationY-this.pAccelerationY)),a<c+h&&_.deviceShaken())},H.default=d=v.default},{"../core/main":283}],301:[function(o,oe,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.isKeyPressed=!1,v.default.prototype.keyIsPressed=!1,v.default.prototype.key="",v.default.prototype.keyCode=0,v.default.prototype._onkeydown=function(w){var g;this._downKeys[w.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",w.which),this._downKeys[w.which]=!0,this._setProperty("key",w.key||String.fromCharCode(w.which)||w.which),"function"!=typeof(g=this._isGlobal?window:this).keyPressed||w.charCode||!1===g.keyPressed(w)&&w.preventDefault())},v.default.prototype._onkeyup=function(w){this._downKeys[w.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",w.key||String.fromCharCode(w.which)||w.which),this._setProperty("keyCode",w.which);var g=this._isGlobal?window:this;"function"==typeof g.keyReleased&&!1===g.keyReleased(w)&&w.preventDefault()},v.default.prototype._onkeypress=function(w){var g;w.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",w.which),this._setProperty("key",w.key||String.fromCharCode(w.which)||w.which),"function"==typeof(g=this._isGlobal?window:this).keyTyped&&!1===g.keyTyped(w)&&w.preventDefault())},v.default.prototype._onblur=function(w){this._downKeys={}},v.default.prototype.keyIsDown=function(w){return v.default._validateParameters("keyIsDown",arguments),this._downKeys[w]||!1},v.default.prototype._areDownKeys=function(){for(var w in this._downKeys)if(this._downKeys.hasOwnProperty(w)&&!0===this._downKeys[w])return!0;return!1},H.default=o=v.default},{"../core/main":283}],302:[function(o,oe,H){"use strict";function v(E){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(E)}function w(E){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(s){return v(s)}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":v(s)})(E)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=(g=o("../core/main"))&&g.__esModule?g:{default:g},y=function(E){if(E&&E.__esModule)return E;if(null===E||"object"!==w(E)&&"function"!=typeof E)return{default:E};var s=C();if(s&&s.has(E))return s.get(E);var u,a={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in E){var p;Object.prototype.hasOwnProperty.call(E,u)&&((p=d?Object.getOwnPropertyDescriptor(E,u):null)&&(p.get||p.set)?Object.defineProperty(a,u,p):a[u]=E[u])}return a.default=E,s&&s.set(E,a),a}(o("../core/constants"));function C(){var E;return"function"!=typeof WeakMap?null:(C=function(){return E},E=new WeakMap)}g.default.prototype.movedX=0,g.default.prototype.movedY=0,g.default.prototype._hasMouseInteracted=!1,g.default.prototype.mouseX=0,g.default.prototype.mouseY=0,g.default.prototype.pmouseX=0,g.default.prototype.pmouseY=0,g.default.prototype.winMouseX=0,g.default.prototype.winMouseY=0,g.default.prototype.pwinMouseX=0,g.default.prototype.pwinMouseY=0,g.default.prototype.mouseButton=0,g.default.prototype.mouseIsPressed=!1,g.default.prototype._updateNextMouseCoords=function(E){var s,u,a,d,p;null!==this._curElement&&(!E.touches||0<E.touches.length)&&(u=this.width,a=this.height,(d=E)&&!d.clientX&&(d.touches?d=d.touches[0]:d.changedTouches&&(d=d.changedTouches[0])),p=(s=this._curElement.elt).getBoundingClientRect(),a={x:(d.clientX-p.left)/(u=s.scrollWidth/u||1),y:(d.clientY-p.top)/(s=s.scrollHeight/a||1),winX:d.clientX,winY:d.clientY,id:d.identifier},this._setProperty("movedX",E.movementX),this._setProperty("movedY",E.movementY),this._setProperty("mouseX",a.x),this._setProperty("mouseY",a.y),this._setProperty("winMouseX",a.winX),this._setProperty("winMouseY",a.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},g.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},g.default.prototype._setMouseButton=function(E){this._setProperty("mouseButton",1===E.button?y.CENTER:2===E.button?y.RIGHT:y.LEFT)},g.default.prototype._onmousemove=function(E){var s=this._isGlobal?window:this;this._updateNextMouseCoords(E),this.mouseIsPressed?"function"==typeof s.mouseDragged?!1===s.mouseDragged(E)&&E.preventDefault():"function"==typeof s.touchMoved&&!1===s.touchMoved(E)&&E.preventDefault():"function"==typeof s.mouseMoved&&!1===s.mouseMoved(E)&&E.preventDefault()},g.default.prototype._onmousedown=function(E){var s=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(E),this._updateNextMouseCoords(E),this.touchstart||("function"==typeof s.mousePressed?!1===s.mousePressed(E)&&E.preventDefault():"function"==typeof s.touchStarted&&!1===s.touchStarted(E)&&E.preventDefault(),this.touchstart=!1)},g.default.prototype._onmouseup=function(E){var s=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||("function"==typeof s.mouseReleased?!1===s.mouseReleased(E)&&E.preventDefault():"function"==typeof s.touchEnded&&!1===s.touchEnded(E)&&E.preventDefault(),this.touchend=!1)},g.default.prototype._ondragend=g.default.prototype._onmouseup,g.default.prototype._ondragover=g.default.prototype._onmousemove,g.default.prototype._onclick=function(E){var s=this._isGlobal?window:this;"function"==typeof s.mouseClicked&&!1===s.mouseClicked(E)&&E.preventDefault()},g.default.prototype._ondblclick=function(E){var s=this._isGlobal?window:this;"function"==typeof s.doubleClicked&&!1===s.doubleClicked(E)&&E.preventDefault()},g.default.prototype._mouseWheelDeltaY=0,g.default.prototype._pmouseWheelDeltaY=0,g.default.prototype._onwheel=function(E){var s=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",E.deltaY),"function"==typeof s.mouseWheel&&(E.delta=E.deltaY,!1===s.mouseWheel(E)&&E.preventDefault())},g.default.prototype.requestPointerLock=function(){var E=this._curElement.elt;return E.requestPointerLock=E.requestPointerLock||E.mozRequestPointerLock,E.requestPointerLock?(E.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},g.default.prototype.exitPointerLock=function(){document.exitPointerLock()},H.default=o=g.default},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(o,oe,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.touches=[],o.default.prototype._updateTouchCoords=function(v){if(null!==this._curElement){for(var w=[],g=0;g<v.touches.length;g++)w[g]=function(p,d,l,s){var u=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=p.getBoundingClientRect();return d=p.scrollWidth/d||1,p=p.scrollHeight/l||1,{x:((l=s.touches[u]||s.changedTouches[u]).clientX-a.left)/d,y:(l.clientY-a.top)/p,winX:l.clientX,winY:l.clientY,id:l.identifier}}(this._curElement.elt,this.width,this.height,v,g);this._setProperty("touches",w)}},o.default.prototype._ontouchstart=function(v){var w=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(v),this._updateNextMouseCoords(v),this._updateMouseCoords(),"function"==typeof w.touchStarted&&(!1===w.touchStarted(v)&&v.preventDefault(),this.touchstart=!0)},o.default.prototype._ontouchmove=function(v){var w=this._isGlobal?window:this;this._updateTouchCoords(v),this._updateNextMouseCoords(v),"function"==typeof w.touchMoved?!1===w.touchMoved(v)&&v.preventDefault():"function"==typeof w.mouseDragged&&!1===w.mouseDragged(v)&&v.preventDefault()},o.default.prototype._ontouchend=function(v){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(v),this._updateNextMouseCoords(v);var w=this._isGlobal?window:this;"function"==typeof w.touchEnded&&(!1===w.touchEnded(v)&&v.preventDefault(),this.touchend=!0)},H.default=o=o.default},{"../core/main":283}],304:[function(o,oe,H){"use strict";o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v,w,g,y,C={_toPixels:function(E){var s,u;return E instanceof ImageData?E.data:E.getContext("2d")?E.getContext("2d").getImageData(0,0,E.width,E.height).data:E.getContext("webgl")?(u=(s=E.getContext("webgl")).drawingBufferWidth*s.drawingBufferHeight*4,u=new Uint8Array(u),s.readPixels(0,0,E.width,E.height,s.RGBA,s.UNSIGNED_BYTE,u),u):void 0},_getARGB:function(E,s){return E[3+(s*=4)]<<24&4278190080|E[s]<<16&16711680|E[1+s]<<8&65280|255&E[2+s]},_setPixels:function(E,s){for(var u,a=0,d=E.length;a<d;a++)E[0+(u=4*a)]=(16711680&s[a])>>>16,E[1+u]=(65280&s[a])>>>8,E[2+u]=255&s[a],E[3+u]=(4278190080&s[a])>>>24},_toImageData:function(E){return E instanceof ImageData?E:E.getContext("2d").getImageData(0,0,E.width,E.height)},_createImageData:function(E,s){return C._tmpCanvas=document.createElement("canvas"),C._tmpCtx=C._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(E,s)},apply:function(E,p,u){var a=E.getContext("2d"),d=a.getImageData(0,0,E.width,E.height);(p=p(d,u))instanceof ImageData?a.putImageData(p,0,0,0,0,E.width,E.height):a.putImageData(d,0,0,0,0,E.width,E.height)},threshold:function(E){for(var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.5,u=C._toPixels(E),a=Math.floor(255*s),d=0;d<u.length;d+=4)u[d]=u[d+1]=u[d+2]=a<=.2126*u[d]+.7152*u[d+1]+.0722*u[d+2]?255:0},gray:function(E){for(var s=C._toPixels(E),u=0;u<s.length;u+=4)s[u]=s[u+1]=s[u+2]=.2126*s[u]+.7152*s[u+1]+.0722*s[u+2]},opaque:function(E){for(var s=C._toPixels(E),u=0;u<s.length;u+=4)s[u+3]=255;return s},invert:function(E){for(var s=C._toPixels(E),u=0;u<s.length;u+=4)s[u]=255-s[u],s[u+1]=255-s[u+1],s[u+2]=255-s[u+2]},posterize:function(E){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,u=C._toPixels(E);if(s<2||255<s)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var a=s-1,d=0;d<u.length;d+=4){var l=u[d+1],m=u[d+2];u[d]=255*(u[d]*s>>8)/a,u[d+1]=255*(l*s>>8)/a,u[d+2]=255*(m*s>>8)/a}},dilate:function(E){for(var s,u,a,d,p,l,m,c,h,_=C._toPixels(E),M=0,x=_.length?_.length/4:0,A=new Int32Array(x);M<x;)for(u=(s=M)+E.width;M<u;)d=a=C._getARGB(_,M),(h=M-1)<s&&(h=M),u<=(c=M+1)&&(c=M),(p=M-E.width)<0&&(p=0),x<=(l=M+E.width)&&(l=M),p=C._getARGB(_,p),h=C._getARGB(_,h),l=C._getARGB(_,l),(d=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<(m=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))&&(a=h,d=m),d<(m=77*((h=C._getARGB(_,c))>>16&255)+151*(h>>8&255)+28*(255&h))&&(a=h,d=m),d<(c=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))&&(a=p,d=c),d<(h=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))&&(a=l,d=h),A[M++]=a;C._setPixels(_,A)},erode:function(E){for(var s,u,a,d,p,l,m,c,h,_=C._toPixels(E),M=0,x=_.length?_.length/4:0,A=new Int32Array(x);M<x;)for(u=(s=M)+E.width;M<u;)d=a=C._getARGB(_,M),(h=M-1)<s&&(h=M),u<=(c=M+1)&&(c=M),(p=M-E.width)<0&&(p=0),x<=(l=M+E.width)&&(l=M),p=C._getARGB(_,p),h=C._getARGB(_,h),l=C._getARGB(_,l),(m=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))<(d=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(a=h,d=m),(m=77*((h=C._getARGB(_,c))>>16&255)+151*(h>>8&255)+28*(255&h))<d&&(a=h,d=m),(c=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))<d&&(a=p,d=c),(h=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))<d&&(a=l,d=h),A[M++]=a;C._setPixels(_,A)},blur:function(E,s){for(var u,a,d,p,l,m,c,h,_,M,x=C._toPixels(E),A=E.width,T=E.height,N=A*T,I=new Int32Array(N),z=0;z<N;z++)I[z]=C._getARGB(x,z);var R,Q,ne,V,X,U,F,K,ie=new Int32Array(N),Te=new Int32Array(N),q=new Int32Array(N),k=new Int32Array(N),ee=0,me=3.5*s|0;if(v!==(me=me<1?1:me<248?me:248)){w=1+(v=me)<<1,g=new Int32Array(w),y=new Array(w);for(var xe=0;xe<w;xe++)y[xe]=new Int32Array(256);for(var Ge=1,Ye=me-1;Ge<me;Ge++){g[me+Ge]=g[Ye]=U=Ye*Ye,F=y[me+Ge],K=y[Ye--];for(var mt=0;mt<256;mt++)F[mt]=K[mt]=U*mt}X=g[me]=me*me,F=y[me];for(var We=0;We<256;We++)F[We]=X*We}for(Q=0;Q<T;Q++){for(R=0;R<A;R++){if(p=d=a=l=u=0,(m=R-v)<0)M=-m,m=0;else{if(A<=m)break;M=0}for(ne=M;ne<w&&!(A<=m);ne++){var ct=I[m+ee];l+=(V=y[ne])[(-16777216&ct)>>>24],a+=V[(16711680&ct)>>16],d+=V[(65280&ct)>>8],p+=V[255&ct],u+=g[ne],m++}ie[c=ee+R]=l/u,Te[c]=a/u,q[c]=d/u,k[c]=p/u}ee+=A}for(_=(h=-v)*A,Q=ee=0;Q<T;Q++){for(R=0;R<A;R++){if(p=d=a=l=u=0,h<0)M=c=-h,m=R;else{if(T<=h)break;M=0,c=h,m=R+_}for(ne=M;ne<w&&!(T<=c);ne++)l+=(V=y[ne])[ie[m]],a+=V[Te[m]],d+=V[q[m]],p+=V[k[m]],u+=g[ne],c++,m+=A;I[R+ee]=l/u<<24|a/u<<16|d/u<<8|p/u}ee+=A,_+=A,h++}C._setPixels(x,I)}};H.default=C},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(o,oe,H){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=g(o("../core/main")),w=g(o("omggif"));function g(C){return C&&C.__esModule?C:{default:C}}function y(C){return function(E){if(Array.isArray(E)){for(var s=0,u=new Array(E.length);s<E.length;s++)u[s]=E[s];return u}}(C)||function(E){if(Symbol.iterator in Object(E)||"[object Arguments]"===Object.prototype.toString.call(E))return Array.from(E)}(C)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}v.default.prototype.createImage=function(C,E){return v.default._validateParameters("createImage",arguments),new v.default.Image(C,E)},v.default.prototype.saveCanvas=function(){for(var C,E,s,u,a,d,p=arguments.length,l=new Array(p),m=0;m<p;m++)l[m]=arguments[m];switch(v.default._validateParameters("saveCanvas",l),l[0]instanceof HTMLCanvasElement?(C=l[0],l.shift()):l[0]instanceof v.default.Element?(C=l[0].elt,l.shift()):l[0]instanceof v.default.Framebuffer?((a=this.createGraphics((u=l[0]).width,u.height)).pixelDensity(pixelDensity()),u.loadPixels(),a.loadPixels(),a.pixels.set(u.pixels),a.updatePixels(),C=a.elt,l.shift()):C=this._curElement&&this._curElement.elt,1<=l.length&&(E=l[0]),s=(s=2<=l.length?l[1]:s)||v.default.prototype._checkFileExtension(E,s)[1]||"png"){default:d="image/png";break;case"webp":d="image/webp";break;case"jpeg":case"jpg":d="image/jpeg"}C.toBlob(function(c){v.default.prototype.downloadFile(c,E,s),a&&a.remove()},d)},v.default.prototype.encodeAndDownloadGif=function(C,E){for(var s=C.gifProperties,a=(1===(u=s.loopLimit)?u=null:null===u&&(u=0),new Uint8Array(C.width*C.height*s.numFrames)),d=[],p={},l=0;l<s.numFrames;l++){for(var m=new Set,c=s.frames[l].image.data,h=c.length,_=new Uint32Array(C.width*C.height),M=0,x=0;M<h;M+=4,x++){var A=c[M+0]<<16|c[M+1]<<8|c[M+2];m.add(A),_[x]=A}var T=y(m).sort().toString();void 0===p[T]?p[T]={freq:1,frames:[l]}:(p[T].freq+=1,p[T].frames.push(l)),d.push(_)}for(var z=[],N=Object.keys(p).sort(function(q,k){return p[k].freq-p[q].freq}),I=N[0].split(",").map(function(q){return parseInt(q)}),R=(z=z.concat(p[I].frames),new Set(I)),Q=1;Q<N.length;Q++){var ne=N[Q].split(",").map(function(q){return parseInt(q)}).filter(function(q){return!R.has(q)});if(I.length+ne.length<=256){for(var V=0;V<ne.length;V++)I.push(ne[V]),R.add(ne[V]);z=z.concat(p[N[Q]].frames)}}z=new Set(z);for(var X={},U=0;U<I.length;U++)X[I[U]]||(X[I[U]]=U);for(var F=1;F<I.length;)F<<=1;I.length=F;for(var u={loop:u,palette:new Uint32Array(I)},K=new w.default.GifWriter(a,C.width,C.height,u),ie={},Te=0;Te<s.numFrames;Te++)!function(k){var ee=!z.has(k),me=ee?[]:I,xe=new Uint8Array(C.width*C.height),Ge={},Ye=new Set,mt=(d[k].forEach(function(Qe,Ze){ee?(void 0===Ge[Qe]&&(Ge[Qe]=me.length,me.push(Qe)),xe[Ze]=Ge[Qe]):xe[Ze]=X[Qe],0<k&&d[k-1][Ze]!==Qe&&Ye.add(Qe)}),{});if(0<(We=me.filter(function(Qe){return!Ye.has(Qe)})).length){var We,ct=(ee?Ge:X)[We=We[0]];if(0<k){for(var dt=0;dt<d[k].length;dt++)d[k-1][dt]===d[k][dt]&&(xe[dt]=ct);mt.transparent=ct,ie.frameOpts.disposal=1}}if(mt.delay=s.frames[k].delay/10,ee){for(var Ve=1;Ve<me.length;)Ve<<=1;me.length=Ve,mt.palette=new Uint32Array(me)}0<k&&K.addFrame(0,0,C.width,C.height,ie.pixelPaletteIndex,ie.frameOpts),ie={pixelPaletteIndex:xe,frameOpts:mt}}(Te);ie.frameOpts.disposal=1,K.addFrame(0,0,C.width,C.height,ie.pixelPaletteIndex,ie.frameOpts),u=new Blob([a.slice(0,K.end())],{type:"image/gif"}),v.default.prototype.downloadFile(u,E,"gif")},v.default.prototype.saveFrames=function(C,E,s,d,a){v.default._validateParameters("saveFrames",arguments),s=v.default.prototype.constrain(s=s||3,0,15),s*=1e3,d=v.default.prototype.constrain(d||15,0,22);var p=0,l=v.default.prototype._makeFrame,m=this._curElement.elt,c=[],h=setInterval(function(){c.push(l(C+p,E,m)),p++},1e3/d);setTimeout(function(){if(clearInterval(h),a)a(c);else for(var _=0,M=c;_<M.length;_++){var x=M[_];v.default.prototype.downloadFile(x.imageData,x.filename,x.ext)}c=[]},.01+s)},v.default.prototype._makeFrame=function(C,E,a){var u;if(a=this?this._curElement.elt:a,E)switch(E.toLowerCase()){case"png":default:u="image/png";break;case"jpeg":case"jpg":u="image/jpeg"}else E="png",u="image/png";a=(a=a.toDataURL(u)).replace(u,"image/octet-stream");var d={};return d.imageData=a,d.filename=C,d.ext=E,d},H.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(o,oe,H){"use strict";function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(m)}function w(m){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(c){return v(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":v(c)})(m)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0,o("regenerator-runtime/runtime");var g=a(o("../core/main")),y=a(o("../core/helpers")),C=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==w(m)&&"function"!=typeof m)return{default:m};var c=u();if(c&&c.has(m))return c.get(m);var h,_={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in m){var x;Object.prototype.hasOwnProperty.call(m,h)&&((x=M?Object.getOwnPropertyDescriptor(m,h):null)&&(x.get||x.set)?Object.defineProperty(_,h,x):_[h]=m[h])}return _.default=m,c&&c.set(m,_),_}(o("../core/constants")),E=a(o("omggif")),s=o("gifenc");function u(){var m;return"function"!=typeof WeakMap?null:(u=function(){return m},m=new WeakMap)}function a(m){return m&&m.__esModule?m:{default:m}}function d(m,c,h,_,M,x,A){try{var T=m[x](A),N=T.value}catch(I){return void h(I)}T.done?c(N):Promise.resolve(N).then(_,M)}function l(m,c){return 0<m&&m<c?m:c}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),g.default.prototype.loadImage=function(m,c,h){g.default._validateParameters("loadImage",arguments);var _=new g.default.Image(1,1,this),M=this,x=new Request(m,{method:"GET",mode:"cors"});return fetch(m,x).then(function(A){var T,N=A.headers.get("content-type");null===N&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),N&&N.includes("image/gif")?A.arrayBuffer().then(function(I){if(I){I=new Uint8Array(I);for(var z=_,R=c,Q=h,ne=function(ee){M._decrementPreload()}.bind(M),V=new E.default.GifReader(I),X=(z.width=z.canvas.width=V.width,z.height=z.canvas.height=V.height,[]),U=V.numFrames(),F=new Uint8ClampedArray(z.width*z.height*4),K=0;K<U;K++){var ie=V.frameInfo(K),Te=z.drawingContext.getImageData(0,0,z.width,z.height),q=(F=Te.data.slice(),function(ee,me){try{me.decodeAndBlitFrameRGBA(ee,F)}catch(xe){g.default._friendlyFileLoadError(8,z.src),"function"==typeof Q?Q(xe):console.error(xe)}}(K,V),new ImageData(F,z.width,z.height));0===(z.drawingContext.putImageData(q,0,0),q=ie.delay)&&(q=10),X.push({image:z.drawingContext.getImageData(0,0,z.width,z.height),delay:10*q}),2===ie.disposal?z.drawingContext.clearRect(ie.x,ie.y,ie.width,ie.height):3===ie.disposal&&z.drawingContext.putImageData(Te,0,0,ie.x,ie.y,ie.width,ie.height)}null===(I=V.loopCount())?I=1:0===I&&(I=null),z.drawingContext.putImageData(X[0].image,0,0),1<X.length&&(z.gifProperties={displayIndex:0,loopLimit:I,loopCount:0,frames:X,numFrames:U,playing:!0,timeDisplayed:0,lastChangeTime:0}),"function"==typeof R&&R(z),ne()}},function(I){"function"==typeof h?(h(I),M._decrementPreload()):console.error(I)}):((T=new Image).onload=function(){_.width=_.canvas.width=T.width,_.height=_.canvas.height=T.height,_.drawingContext.drawImage(T,0,0),_.modified=!0,"function"==typeof c&&c(_),M._decrementPreload()},T.onerror=function(I){g.default._friendlyFileLoadError(0,T.src),"function"==typeof h?(h(I),M._decrementPreload()):console.error(I)},0!==m.indexOf("data:image/")&&(T.crossOrigin="Anonymous"),T.src=m),_.modified=!0}).catch(function(A){g.default._friendlyFileLoadError(0,m),"function"==typeof h?(h(A),M._decrementPreload()):console.error(A)}),_},g.default.prototype.saveGif=function(){m=j.mark(function h(_,M){var x,A,T,N,I,z,R,Q,ne,V,X,U,F,K,ie,Te,q,k,ee,me,xe,Ge,Ye,mt,We,ct,dt=arguments;return j.wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:if(x=2<dt.length&&void 0!==dt[2]?dt[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},"string"!=typeof _)throw TypeError("fileName parameter must be a string");Ve.next=3;break;case 3:if("number"!=typeof M)throw TypeError("Duration parameter must be a number");Ve.next=5;break;case 5:if(T=x&&x.units||"seconds",N=x&&x.silent||!1,I=x&&x.notificationDuration||0,z=x&&x.notificationID||"progressBar","number"!=typeof(A=x&&x.delay||0))throw TypeError("Delay parameter must be a number");Ve.next=12;break;case 12:if("seconds"!==T&&"frames"!==T)throw TypeError('Units parameter must be either "frames" or "seconds"');Ve.next=14;break;case 14:if("boolean"!=typeof N)throw TypeError("Silent parameter must be a boolean");Ve.next=16;break;case 16:if("number"!=typeof I)throw TypeError("Notification duration parameter must be a number");Ve.next=18;break;case 18:if("string"!=typeof z)throw TypeError("Notification ID parameter must be a string");Ve.next=20;break;case 20:return this._recording=!0,R=(R=1/(V=(V=this._targetFrameRate)!==1/0&&void 0!==V&&0!==V?V:60)*1e3)<20?20:R,ne=(Q="seconds"===T?M*V:M)+(V="seconds"===T?A*V:A),this.frameCount=V,X=this._pixelDensity,this.pixelDensity(1),U=[],null!==document.getElementById(z)&&document.getElementById(z).remove(),N||((F=this.createP("")).id(z),F.style("font-size","16px"),F.style("font-family","Montserrat"),F.style("background-color","#ffffffa0"),F.style("padding","8px"),F.style("border-radius","10px"),F.position(0,0)),this._renderer instanceof g.default.RendererGL&&(ie=this.drawingContext,K=new Uint8Array(ie.drawingBufferWidth*ie.drawingBufferHeight*4)),this.noLoop(),Ve.next=39,Promise.resolve();case 39:if(V<ne)return this.redraw(),mt=void 0,mt=this._renderer instanceof g.default.RendererGL?(K=new Uint8Array(ie.drawingBufferWidth*ie.drawingBufferHeight*4),ie.readPixels(0,0,ie.drawingBufferWidth,ie.drawingBufferHeight,ie.RGBA,ie.UNSIGNED_BYTE,K),function(Qe,Ze,at){for(var et=parseInt(at/2),st=4*Ze,Dt=new Uint8Array(4*Ze),on=0;on<et;++on){var Lt=on*st,an=(at-on-1)*st;Dt.set(Qe.subarray(Lt,Lt+st)),Qe.copyWithin(Lt,an,an+st),Qe.set(Dt,an)}return Qe}(K,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,U.push(mt),V++,N||F.html("Saved frame <b>"+U.length.toString()+"</b> out of "+Q.toString()),Ve.next=48,new Promise(function(Qe){return setTimeout(Qe,0)});Ve.next=50;break;case 48:Ve.next=39;break;case 50:N||F.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(X),Te=(0,s.GIFEncoder)(),q=function(Qe){for(var Ze=new Uint8Array(Qe.length*Qe[0].length),at=0;at<Qe.length;at++)Ze.set(Qe[at],at*Qe[0].length);var et=(0,s.quantize)(Ze,256,{format:"rgba4444",oneBitAlpha:!0});return 256===et.length?et[et.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:et.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),et}(U),k={},ee=function(Qe){for(var Ze=Qe.length/4,at=new Uint8Array(Ze),et=0;et<Ze;et++){var st=Qe[4*et]<<24|Qe[4*et+1]<<16|Qe[4*et+2]<<8|Qe[4*et+3];void 0===k[st]&&(k[st]=(0,s.nearestColorIndex)(q,Qe.slice(4*et,4*(et+1)))),at[et]=k[st]}return at},me=q.length-1,xe=[],Ge=0;case 60:if(!(Ge<U.length)){Ve.next=71;break}if(Ye=ee(U[Ge]),mt=Ye.slice(),0===Ge)Te.writeFrame(Ye,this.width,this.height,{palette:q,delay:R,dispose:1});else{for(We=0;We<Ye.length;We++)Ye[We]===xe[We]&&(Ye[We]=me);Te.writeFrame(Ye,this.width,this.height,{delay:R,transparent:!0,transparentIndex:me,dispose:1})}return xe=mt,N||F.html("Rendered frame <b>"+Ge.toString()+"</b> out of "+Q.toString()),Ve.next=68,new Promise(function(Qe){return setTimeout(Qe,0)});case 68:Ge++,Ve.next=60;break;case 71:Te.finish(),ct=Te.bytesView(),ct=new Blob([ct],{type:"image/gif"}),U=[],this._recording=!1,this.loop(),N||(F.html("Done. Downloading your gif!\u{1f338}"),0<I&&setTimeout(function(){return F.remove()},1e3*I)),g.default.prototype.downloadFile(ct,_,"gif");case 80:case"end":return Ve.stop()}},h,this)});var m,c=function(){var h=this,_=arguments;return new Promise(function(M,x){var A=m.apply(h,_);function T(I){d(A,M,x,T,N,"next",I)}function N(I){d(A,M,x,T,N,"throw",I)}T(void 0)})};return function(h,_){return c.apply(this,arguments)}}(),g.default.prototype.image=function(m,c,h,_,V,X,U,F,ie,I,z,R){g.default._validateParameters("image",arguments);var K=m.width,Q=m.height,ne=(R=R||C.CENTER,z=z||C.CENTER,m.elt&&(K=void 0!==K?K:m.elt.width,Q=void 0!==Q?Q:m.elt.height),m.elt&&m.elt.videoWidth&&!m.canvas&&(K=void 0!==K?K:m.elt.videoWidth,Q=void 0!==Q?Q:m.elt.videoHeight),_||K);V=V||Q,X=X||0,U=U||0,F=l(void 0!==F?F:K,K),K=l(void 0!==ie?ie:Q,Q),ie=1,m.elt&&!m.canvas&&m.elt.style.width&&(ie=m.elt.videoWidth&&!_?m.elt.videoWidth:m.elt.width,ie/=parseInt(m.elt.style.width,10)),X*=ie,U*=ie,K*=ie,F*=ie,Q=function p(m,c,h,_,M,x,A,T,N,I,z){var R,Q,ne,V,X,U,F,K,ie;return m===C.COVER&&(R=c,ne=h,F=x,K=A,U=T,ie=N,Q=I,V=z,F/=X=Math.max(F/Q,K/V),K/=X,X=U,U=ie,R===C.CENTER?X+=(Q-F)/2:R===C.RIGHT&&(X+=Q-F),ne===C.CENTER?U+=(V-K)/2:ne===C.BOTTOM&&(U+=V-K),T=(ie={x:X,y:U,w:F,h:K}).x,N=ie.y,I=ie.w,z=ie.h),m===C.CONTAIN&&(R=c,Q=h,ne=_,V=M,X=x,U=A,F=I,K=z,F/=ie=Math.max(F/X,K/U),K/=ie,ie=ne,ne=V,R===C.CENTER?ie+=(X-F)/2:R===C.RIGHT&&(ie+=X-F),Q===C.CENTER?ne+=(U-K)/2:Q===C.BOTTOM&&(ne+=U-K),_=(m={x:ie,y:ne,w:F,h:K}).x,M=m.y,x=m.w,A=m.h),{sx:T,sy:N,sw:I,sh:z,dx:_,dy:M,dw:x,dh:A}}(I,z,R,(Q=y.default.modeAdjust(c,h,ne,V,this._renderer._imageMode)).x,Q.y,Q.w,Q.h,X,U,F,K),this._renderer.image(m,Q.sx,Q.sy,Q.sw,Q.sh,Q.dx,Q.dy,Q.dw,Q.dh)},g.default.prototype.tint=function(){for(var m=arguments.length,c=new Array(m),h=0;h<m;h++)c[h]=arguments[h];g.default._validateParameters("tint",c);var _=this.color.apply(this,c);this._renderer._tint=_.levels},g.default.prototype.noTint=function(){this._renderer._tint=null},g.default.prototype._getTintedImageCanvas=g.default.Renderer2D.prototype._getTintedImageCanvas,g.default.prototype.imageMode=function(m){g.default._validateParameters("imageMode",arguments),m!==C.CORNER&&m!==C.CORNERS&&m!==C.CENTER||(this._renderer._imageMode=m)},H.default=o=g.default},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(o,oe,H){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=g(o("../core/main")),w=g(o("./filters"));function g(C){return C&&C.__esModule?C:{default:C}}function y(C,E){for(var s=0;s<E.length;s++){var u=E[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(C,u.key,u)}}v.default.Image=function(){function C(a,d){if(!(this instanceof C))throw new TypeError("Cannot call a class as a function");this.width=a,this.height=d,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var E,s;return E=C,(s=[{key:"pixelDensity",value:function(a){return void 0!==a?(a<=0&&(v.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),a=1),this._pixelDensity=a,this.width/=a,this.height/=a,this):this._pixelDensity}},{key:"_animateGif",value:function(l){var d,p=this.gifProperties;l=l._lastRealFrameTime||window.performance.now(),0===p.lastChangeTime&&(p.lastChangeTime=l),p.playing&&(p.timeDisplayed=l-p.lastChangeTime,p.timeDisplayed>=(d=p.frames[p.displayIndex].delay)&&(d=Math.floor(p.timeDisplayed/d),p.timeDisplayed=0,p.lastChangeTime=l,p.displayIndex+=d,p.loopCount=Math.floor(p.displayIndex/p.numFrames),null!==p.loopLimit&&p.loopCount>=p.loopLimit?p.playing=!1:(this.drawingContext.putImageData(p.frames[l=p.displayIndex%p.numFrames].image,0,0),p.displayIndex=l,this.setModified(!0))))}},{key:"_setProperty",value:function(a,d){this[a]=d,this.setModified(!0)}},{key:"loadPixels",value:function(){v.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(a,d,p,l){v.default.Renderer2D.prototype.updatePixels.call(this,a,d,p,l),this.setModified(!0)}},{key:"get",value:function(a,d,p,l){return v.default._validateParameters("p5.Image.get",arguments),v.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var a=arguments.length,d=new Array(a),p=0;p<a;p++)d[p]=arguments[p];return v.default.Renderer2D.prototype._getPixel.apply(this,d)}},{key:"set",value:function(a,d,p){v.default.Renderer2D.prototype.set.call(this,a,d,p),this.setModified(!0)}},{key:"resize",value:function(a,d){0===a&&0===d?(a=this.canvas.width,d=this.canvas.height):0===a?a=this.canvas.width*d/this.canvas.height:0===d&&(d=this.canvas.height*a/this.canvas.width),a=Math.floor(a),d=Math.floor(d);var p=document.createElement("canvas");if(p.width=a,p.height=d,this.gifProperties)for(var l=this.gifProperties,m=0;m<l.numFrames;m++){for(var c=this.drawingContext.createImageData(a,d),h=(T=T=A=x=M=void 0,l.frames[m].image),_=c,M=0,x=0;x<_.height;x++)for(var A=0;A<_.width;A++){var T=Math.floor(A*h.width/_.width);T=4*(Math.floor(x*h.height/_.height)*h.width+T),_.data[M++]=h.data[T++],_.data[M++]=h.data[T++],_.data[M++]=h.data[T++],_.data[M++]=h.data[+T]}l.frames[m].image=c}p.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,p.width,p.height),this.canvas.width=this.width=a,this.canvas.height=this.height=d,this.drawingContext.drawImage(p,0,0,a,d,0,0,a,d),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var a=arguments.length,d=new Array(a),p=0;p<a;p++)d[p]=arguments[p];v.default.prototype.copy.apply(this,d)}},{key:"mask",value:function(a){var d=this.drawingContext.globalCompositeOperation,p=this._pixelDensity,l=1,m=[a=void 0===a?this:a,0,0,(l=a instanceof v.default.Renderer?a._pInst._pixelDensity:l)*a.width,l*a.height,0,0,p*this.width,p*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var c=0;c<this.gifProperties.frames.length;c++)this.drawingContext.putImageData(this.gifProperties.frames[c].image,0,0),this.copy.apply(this,m),this.gifProperties.frames[c].image=this.drawingContext.getImageData(0,0,p*this.width,p*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,m);this.drawingContext.globalCompositeOperation=d,this.setModified(!0)}},{key:"filter",value:function(a,d){w.default.apply(this.canvas,w.default[a],d),this.setModified(!0)}},{key:"blend",value:function(){for(var a=arguments.length,d=new Array(a),p=0;p<a;p++)d[p]=arguments[p];v.default._validateParameters("p5.Image.blend",arguments),v.default.prototype.blend.apply(this,d),this.setModified(!0)}},{key:"setModified",value:function(a){this._modified=a}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(a,d){this.gifProperties?v.default.prototype.encodeAndDownloadGif(this,a):v.default.prototype.saveCanvas(this.canvas,a,d)}},{key:"reset",value:function(){var a;this.gifProperties&&((a=this.gifProperties).playing=!0,a.timeSinceStart=0,a.timeDisplayed=0,a.lastChangeTime=0,a.loopCount=0,a.displayIndex=0,this.drawingContext.putImageData(a.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var a;if(this.gifProperties)return(a=this.gifProperties).displayIndex%a.numFrames}},{key:"setFrame",value:function(a){var d;this.gifProperties&&(a<(d=this.gifProperties).numFrames&&0<=a?(d.timeDisplayed=0,d.lastChangeTime=0,d.displayIndex=a,this.drawingContext.putImageData(d.frames[a].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(a,d){if(this.gifProperties){var p=this.gifProperties;if(d<p.numFrames&&0<=d)p.frames[d].delay=a;else{var l=!0,m=void(d=!1);try{for(var c,h=p.frames[Symbol.iterator]();!(l=(c=h.next()).done);l=!0)c.value.delay=a}catch(M){d=!0,m=M}finally{try{l||null==h.return||h.return()}finally{if(d)throw m}}}}}}])&&y(E.prototype,s),C}(),H.default=o=v.default.Image},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(o,oe,H){"use strict";o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=g(o("../core/main")),w=g(o("./filters"));function g(y){return y&&y.__esModule?y:{default:y}}o("../color/p5.Color"),v.default.prototype.pixels=[],v.default.prototype.blend=function(){for(var y,C=arguments.length,E=new Array(C),s=0;s<C;s++)E[s]=arguments[s];v.default._validateParameters("blend",E),this._renderer?(y=this._renderer).blend.apply(y,E):v.default.Renderer2D.prototype.blend.apply(this,E)},v.default.prototype.copy=function(){for(var y,C,E,s,u,a,d,p,l,m=arguments.length,c=new Array(m),h=0;h<m;h++)c[h]=arguments[h];if(v.default._validateParameters("copy",c),9===c.length)y=c[0],C=c[1],E=c[2],s=c[3],u=c[4],a=c[5],d=c[6],p=c[7],l=c[8];else{if(8!==c.length)throw new Error("Signature not supported");y=this,C=c[0],E=c[1],s=c[2],u=c[3],a=c[4],d=c[5],p=c[6],l=c[7]}v.default.prototype._copyHelper(this,y,C,E,s,u,a,d,p,l)},v.default.prototype._copyHelper=function(y,C,E,s,u,a,d,p,l,m){var c=C.canvas.width/C.width,h=0,_=0;C._renderer&&C._renderer.isP3D&&(h=C.width/2,_=C.height/2),y._renderer&&y._renderer.isP3D?(y.push(),y.resetMatrix(),y.noLights(),y.blendMode(y.BLEND),y.imageMode(y.CORNER),v.default.RendererGL.prototype.image.call(y._renderer,C,E+h,s+_,u,a,d,p,l,m),y.pop()):y.drawingContext.drawImage(C.canvas,c*(E+h),c*(s+_),c*u,c*a,d,p,l,m)},v.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},v.default.prototype.filter=function(){for(var y=arguments.length,C=new Array(y),E=0;E<y;E++)C[E]=arguments[E];v.default._validateParameters("filter",C);var d=function(){var p,l={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof v.default.Shader?l.shader=arguments.length<=0?void 0:arguments[0]:(l.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&"number"==typeof(arguments.length<=1?void 0:arguments[1])&&(l.value=arguments.length<=1?void 0:arguments[1]),!1===((p=arguments.length-1)<0||arguments.length<=p?void 0:arguments[p])&&(l.useWebGL=!1)),l}.apply(void 0,C),s=d.shader,u=d.operation,a=d.value;d=d.useWebGL,this._renderer.isP3D&&s?v.default.RendererGL.prototype.filter.call(this._renderer,s):d||this._renderer.isP3D?(!d&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?v.default.RendererGL.prototype.filter.call(this._renderer,u,a):((s=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),s.filter.apply(s,C),this.copy(s._renderer,0,0,this.width,this.height,0,0,this.width,this.height),s.clear())):w.default.apply(void 0!==this.canvas?this.canvas:this.elt,w.default[u],a)},v.default.prototype.get=function(y,C,E,s){var u;return v.default._validateParameters("get",arguments),(u=this._renderer).get.apply(u,arguments)},v.default.prototype.loadPixels=function(){for(var y=arguments.length,C=new Array(y),E=0;E<y;E++)C[E]=arguments[E];v.default._validateParameters("loadPixels",C),this._renderer.loadPixels()},v.default.prototype.set=function(y,C,E){this._renderer.set(y,C,E)},v.default.prototype.updatePixels=function(y,C,E,s){v.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(y,C,E,s)},H.default=o=v.default},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(o,oe,H){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var w=C(o("../core/main")),g=(o("whatwg-fetch"),o("es6-promise/auto"),C(o("fetch-jsonp"))),y=C(o("file-saver"));function C(a){return a&&a.__esModule?a:{default:a}}function E(a){return(E="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(a)}function s(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function u(a,d){d&&!0!==d&&"true"!==d||(d="");var p="";return(a=a||"untitled")&&a.includes(".")&&(p=a.split(".").pop()),d&&p!==d&&(p=d,a="".concat(a,".").concat(p)),[a,p]}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),w.default.prototype.loadJSON=function(){for(var a=arguments.length,d=new Array(a),p=0;p<a;p++)d[p]=arguments[p];w.default._validateParameters("loadJSON",d);for(var l,m,c,h=d[0],_={},M="json",x=1;x<d.length;x++){var A=d[x];"string"==typeof A?"jsonp"!==A&&"json"!==A||(M=A):"function"==typeof A?l?m=A:l=A:"object"===E(A)&&(A.hasOwnProperty("jsonpCallback")||A.hasOwnProperty("jsonpCallbackFunction"))&&(M="jsonp",c=A)}var T=this;return this.httpDo(h,"GET",c,M,function(N){for(var I in N)_[I]=N[I];void 0!==l&&l(N),T._decrementPreload()},function(N){if(w.default._friendlyFileLoadError(5,h),!m)throw N;m(N)}),_},w.default.prototype.loadStrings=function(){for(var a=arguments.length,d=new Array(a),p=0;p<a;p++)d[p]=arguments[p];w.default._validateParameters("loadStrings",d);for(var l,m,c=[],h=1;h<d.length;h++){var _=d[h];"function"==typeof _&&(void 0===l?l=_:void 0===m&&(m=_))}var M=this;return w.default.prototype.httpDo.call(this,d[0],"GET","text",function(x){for(var A=x.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),T=0,N=A.length;T<N;T+=32768)Array.prototype.push.apply(c,A.slice(T,Math.min(T+32768,N)));void 0!==l&&l(c),M._decrementPreload()},function(x){if(w.default._friendlyFileLoadError(3,x),!m)throw x;m(x)}),c},w.default.prototype.loadTable=function(a){var d,p,l,m=[],c=!1,h=a.substring(a.lastIndexOf(".")+1,a.length);"csv"===h?l=",":"ssv"===h?l=";":"tsv"===h&&(l="\t");for(var _=1;_<arguments.length;_++)"function"==typeof arguments[_]?void 0===d?d=arguments[_]:void 0===p&&(p=arguments[_]):"string"==typeof arguments[_]&&(m.push(arguments[_]),"header"===arguments[_]&&(c=!0),"csv"===arguments[_]?l=",":"ssv"===arguments[_]?l=";":"tsv"===arguments[_]&&(l="\t"));var M=new w.default.Table,x=this;return this.httpDo(a,"GET","table",function(A){for(var T,N,I={},R=[],Q=0,ne=null,V=function(){I.currentState=0,I.token=""},X=function(){ne.push(I.token),V()},U=function(){I.currentState=4,R.push(ne),ne=null};;){if(null==(T=A[Q++])){if(I.escaped)throw new Error("Unclosed quote in file.");if(ne){X(),U();break}}if(null===ne&&(I.escaped=!1,ne=[],V()),0===I.currentState){if('"'===T){I.escaped=!0,I.currentState=1;continue}I.currentState=1}if(1===I.currentState&&I.escaped)if('"'===T)'"'===A[Q]?(I.token+='"',Q++):(I.escaped=!1,I.currentState=2);else{if("\r"===T)continue;I.token+=T}else"\r"===T?("\n"===A[Q]&&Q++,X(),U()):"\n"===T?(X(),U()):T===l?X():1===I.currentState&&(I.token+=T)}if(c)M.columns=R.shift();else for(var F=0;F<R[0].length;F++)M.columns[F]="null";for(var K=0;K<R.length;K++)(1!==R[K].length||"undefined"!==R[K][0]&&""!==R[K][0])&&((N=new w.default.TableRow).arr=R[K],N.obj=function(ie,Te){if(void 0===(Te=Te||[]))for(var q=0;q<ie.length;q++)Te[q.toString()]=q;return Object.fromEntries(Te.map(function(k,ee){return[k,ie[ee]]}))}(R[K],M.columns),M.addRow(N));"function"==typeof d&&d(M),x._decrementPreload()},function(A){w.default._friendlyFileLoadError(2,a),p?p(A):console.error(A)}),M},w.default.prototype.loadXML=function(){for(var a=arguments.length,d=new Array(a),p=0;p<a;p++)d[p]=arguments[p];for(var l,m,c=new w.default.XML,h=1;h<d.length;h++){var _=d[h];"function"==typeof _&&(void 0===l?l=_:void 0===m&&(m=_))}var M=this;return this.httpDo(d[0],"GET","xml",function(x){for(var A in x)c[A]=x[A];void 0!==l&&l(c),M._decrementPreload()},function(x){if(w.default._friendlyFileLoadError(1,x),!m)throw x;m(x)}),c},w.default.prototype.loadBytes=function(a,d,p){var l={},m=this;return this.httpDo(a,"GET","arrayBuffer",function(c){l.bytes=new Uint8Array(c),"function"==typeof d&&d(l),m._decrementPreload()},function(c){if(w.default._friendlyFileLoadError(6,a),!p)throw c;p(c)}),l},w.default.prototype.httpGet=function(){for(var a=arguments.length,d=new Array(a),p=0;p<a;p++)d[p]=arguments[p];return w.default._validateParameters("httpGet",d),d.splice(1,0,"GET"),w.default.prototype.httpDo.apply(this,d)},w.default.prototype.httpPost=function(){for(var a=arguments.length,d=new Array(a),p=0;p<a;p++)d[p]=arguments[p];return w.default._validateParameters("httpPost",d),d.splice(1,0,"POST"),w.default.prototype.httpDo.apply(this,d)},w.default.prototype.httpDo=function(){for(var a,d,p,l={},m=0,c="text/plain",h=arguments.length-1;0<h&&"function"==typeof(h<0||arguments.length<=h?void 0:arguments[h]);h--)m++;var M=arguments.length<=0?void 0:arguments[0];if(2==(_=arguments.length-m)&&"string"==typeof M&&"object"===E(arguments.length<=1?void 0:arguments[1]))z=new Request(M,arguments.length<=1?void 0:arguments[1]),d=arguments.length<=2?void 0:arguments[2],p=arguments.length<=3?void 0:arguments[3];else{for(var x,A="GET",T=1;T<arguments.length;T++){var N=T<0||arguments.length<=T?void 0:arguments[T];if("string"==typeof N)"GET"===N||"POST"===N||"PUT"===N||"DELETE"===N?A=N:"json"===N||"jsonp"===N||"binary"===N||"arrayBuffer"===N||"xml"===N||"text"===N||"table"===N?a=N:x=N;else if("number"==typeof N)x=N.toString();else if("object"===E(N))if(N.hasOwnProperty("jsonpCallback")||N.hasOwnProperty("jsonpCallbackFunction"))for(var I in N)l[I]=N[I];else c=N instanceof w.default.XML?(x=N.serialize(),"application/xml"):(x=JSON.stringify(N),"application/json");else"function"==typeof N&&(d?p=N:d=N)}var _="GET"===A?new Headers:new Headers({"Content-Type":c}),z=new Request(M,{method:A,mode:"cors",body:x,headers:_})}return(_=(_="jsonp"===(a=a||(M.includes("json")?"json":M.includes("xml")?"xml":"text"))?(0,g.default)(M,l):fetch(z)).then(function(R){if(!R.ok)throw(Q=new Error(R.body)).status=R.status,Q.ok=!1,Q;var Q=0;switch((Q="jsonp"!==a?R.headers.get("content-length"):Q)&&64e6<Q&&w.default._friendlyFileLoadError(7,M),a){case"json":case"jsonp":return R.json();case"binary":return R.blob();case"arrayBuffer":return R.arrayBuffer();case"xml":return R.text().then(function(ne){return ne=(new DOMParser).parseFromString(ne,"text/xml"),new w.default.XML(ne.documentElement)});default:return R.text()}})).then(d||function(){}),_.catch(p||console.error),_},window.URL=window.URL||window.webkitURL,w.default.prototype._pWriters=[],w.default.prototype.createWriter=function(a,d){var p,l;for(l in w.default.prototype._pWriters)if(w.default.prototype._pWriters[l].name===a)return p=new w.default.PrintWriter(a+this.millis(),d),w.default.prototype._pWriters.push(p),p;return p=new w.default.PrintWriter(a,d),w.default.prototype._pWriters.push(p),p},w.default.PrintWriter=function(a,d){var p=this;this.name=a,this.content="",this.write=function(l){this.content+=l},this.print=function(l){this.content+="".concat(l,"\n")},this.clear=function(){this.content=""},this.close=function(){var l,m=[];for(l in m.push(this.content),w.default.prototype.writeFile(m,a,d),w.default.prototype._pWriters)w.default.prototype._pWriters[l].name===this.name&&w.default.prototype._pWriters.splice(l,1);p.clear(),p={}}},w.default.prototype.save=function(a,d,p){var l=arguments,m=(this._curElement||this).elt;if(0===l.length)w.default.prototype.saveCanvas(m);else if(l[0]instanceof w.default.Renderer||l[0]instanceof w.default.Graphics)w.default.prototype.saveCanvas(l[0].elt,l[1],l[2]);else if(1===l.length&&"string"==typeof l[0])w.default.prototype.saveCanvas(m,l[0]);else switch(u(l[1],l[2])[1]){case"json":return void w.default.prototype.saveJSON(l[0],l[1],l[2]);case"txt":return void w.default.prototype.saveStrings(l[0],l[1],l[2]);default:l[0]instanceof Array?w.default.prototype.saveStrings(l[0],l[1],l[2]):l[0]instanceof w.default.Table?w.default.prototype.saveTable(l[0],l[1],l[2]):l[0]instanceof w.default.Image?w.default.prototype.saveCanvas(l[0].canvas,l[1]):l[0]instanceof w.default.SoundFile&&w.default.prototype.saveSound(l[0],l[1],l[2],l[3])}},w.default.prototype.saveJSON=function(a,d,p){w.default._validateParameters("saveJSON",arguments),p=p?JSON.stringify(a):JSON.stringify(a,void 0,2),this.saveStrings(p.split("\n"),d,"json")},w.default.prototype.saveJSONObject=w.default.prototype.saveJSON,w.default.prototype.saveJSONArray=w.default.prototype.saveJSON,w.default.prototype.saveStrings=function(a,d,p,l){w.default._validateParameters("saveStrings",arguments);for(var m=this.createWriter(d,p||"txt"),c=0;c<a.length;c++)m.write(l?a[c]+"\r\n":a[c]+"\n");m.close(),m.clear()},w.default.prototype.saveTable=function(a,d,p){w.default._validateParameters("saveTable",arguments),l=void 0===p?d.substring(d.lastIndexOf(".")+1,d.length):p;var l,m=this.createWriter(d,l),c=a.columns,h="tsv"===l?"\t":",";if("html"!==l){if("0"!==c[0]){for(var _=0;_<c.length;_++)m.write(_<c.length-1?c[_]+h:c[_]);m.write("\n")}for(var M=0;M<a.rows.length;M++){var x=void 0;for(x=0;x<a.rows[M].arr.length;x++)x<a.rows[M].arr.length-1?"csv"===l&&String(a.rows[M].arr[x]).includes(",")?m.write('"'+a.rows[M].arr[x]+'"'+h):m.write(a.rows[M].arr[x]+h):"csv"===l&&String(a.rows[M].arr[x]).includes(",")?m.write('"'+a.rows[M].arr[x]+'"'):m.write(a.rows[M].arr[x]);m.write("\n")}}else{if(m.print("<html>"),m.print("<head>"),m.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),m.print("</head>"),m.print("<body>"),m.print("  <table>"),"0"!==c[0]){m.print("    <tr>");for(var A=0;A<c.length;A++){var T=s(c[A]);m.print("      <td>".concat(T)),m.print("      </td>")}m.print("    </tr>")}for(var N=0;N<a.rows.length;N++){m.print("    <tr>");for(var I=0;I<a.columns.length;I++){var z=s(a.rows[N].getString(I));m.print("      <td>".concat(z)),m.print("      </td>")}m.print("    </tr>")}m.print("  </table>"),m.print("</body>"),m.print("</html>")}m.close(),m.clear()},w.default.prototype.writeFile=function(m,d,p){var l="application/octet-stream";w.default.prototype._isSafari()&&(l="text/plain"),m=new Blob(m,{type:l}),w.default.prototype.downloadFile(m,d,p)},w.default.prototype.downloadFile=function(a,m,c){var l;c=(m=u(m,c))[0],a instanceof Blob?y.default.saveAs(a,c):((l=document.createElement("a")).href=a,l.download=c,l.onclick=function(h){document.body.removeChild(h.target),h.stopPropagation()},l.style.display="none",document.body.appendChild(l),w.default.prototype._isSafari()&&(a=(a='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+'3. Name it with this extension: ."'.concat(m[1],'"'),alert(a)),l.click())},w.default.prototype._checkFileExtension=u,w.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},H.default=o=w.default},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(o,oe,H){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function w(g,y){for(var C=0;C<y.length;C++){var E=y[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(g,E.key,E)}}v.default.Table=function(){function g(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=s}var y,C;return y=g,(C=[{key:"addRow",value:function(s){if(void 0===(s=s||new v.default.TableRow).arr||void 0===s.obj)throw new Error("invalid TableRow: ".concat(s));return(s.table=this).rows.push(s),s}},{key:"removeRow",value:function(s){this.rows[s].table=null,s=this.rows.splice(s+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(s)}},{key:"getRow",value:function(s){return this.rows[s]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(s,u){if("string"==typeof u){for(var a=0;a<this.rows.length;a++)if(this.rows[a].obj[u]===s)return this.rows[a]}else for(var d=0;d<this.rows.length;d++)if(this.rows[d].arr[u]===s)return this.rows[d];return null}},{key:"findRows",value:function(s,u){var a=[];if("string"==typeof u)for(var d=0;d<this.rows.length;d++)this.rows[d].obj[u]===s&&a.push(this.rows[d]);else for(var p=0;p<this.rows.length;p++)this.rows[p].arr[u]===s&&a.push(this.rows[p]);return a}},{key:"matchRow",value:function(s,u){if("number"==typeof u){for(var a=0;a<this.rows.length;a++)if(this.rows[a].arr[u].match(s))return this.rows[a]}else for(var d=0;d<this.rows.length;d++)if(this.rows[d].obj[u].match(s))return this.rows[d];return null}},{key:"matchRows",value:function(s,u){var a=[];if("number"==typeof u)for(var d=0;d<this.rows.length;d++)this.rows[d].arr[u].match(s)&&a.push(this.rows[d]);else for(var p=0;p<this.rows.length;p++)this.rows[p].obj[u].match(s)&&a.push(this.rows[p]);return a}},{key:"getColumn",value:function(s){var u=[];if("string"==typeof s)for(var a=0;a<this.rows.length;a++)u.push(this.rows[a].obj[s]);else for(var d=0;d<this.rows.length;d++)u.push(this.rows[d].arr[s]);return u}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(s){this.columns.push(s||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(s,u){for(var a=[],d=0;d<s.length;d++)a.push(s.charAt(d).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var p=new RegExp(a.join("|"),"g");if(void 0===u)for(var l=0;l<this.columns.length;l++)for(var m=0;m<this.rows.length;m++){var c=(c=this.rows[m].arr[l]).replace(p,"");this.rows[m].arr[l]=c,this.rows[m].obj[this.columns[l]]=c}else if("string"==typeof u)for(var h=0;h<this.rows.length;h++){var _=(_=this.rows[h].obj[u]).replace(p,""),M=(this.rows[h].obj[u]=_,this.columns.indexOf(u));this.rows[h].arr[M]=_}else for(var x=0;x<this.rows.length;x++){var A=(A=this.rows[x].arr[u]).replace(p,"");this.rows[x].arr[u]=A,this.rows[x].obj[this.columns[u]]=A}}},{key:"trim",value:function(s){var u=new RegExp(" ","g");if(void 0===s)for(var a=0;a<this.columns.length;a++)for(var d=0;d<this.rows.length;d++){var p=(p=this.rows[d].arr[a]).replace(u,"");this.rows[d].arr[a]=p,this.rows[d].obj[this.columns[a]]=p}else if("string"==typeof s)for(var l=0;l<this.rows.length;l++){var m=(m=this.rows[l].obj[s]).replace(u,""),c=(this.rows[l].obj[s]=m,this.columns.indexOf(s));this.rows[l].arr[c]=m}else for(var h=0;h<this.rows.length;h++){var _=(_=this.rows[h].arr[s]).replace(u,"");this.rows[h].arr[s]=_,this.rows[h].obj[this.columns[s]]=_}}},{key:"removeColumn",value:function(d){var u,a;"string"==typeof d?a=this.columns.indexOf(u=d):u=this.columns[a=d],d=this.columns.splice(a+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(d);for(var p=0;p<this.rows.length;p++){var l=this.rows[p].arr,m=l.splice(a+1,l.length);l.pop(),this.rows[p].arr=l.concat(m),delete this.rows[p].obj[u]}}},{key:"set",value:function(s,u,a){this.rows[s].set(u,a)}},{key:"setNum",value:function(s,u,a){this.rows[s].setNum(u,a)}},{key:"setString",value:function(s,u,a){this.rows[s].setString(u,a)}},{key:"get",value:function(s,u){return this.rows[s].get(u)}},{key:"getNum",value:function(s,u){return this.rows[s].getNum(u)}},{key:"getString",value:function(s,u){return this.rows[s].getString(u)}},{key:"getObject",value:function(s){for(var u,a={},d=0;d<this.rows.length;d++)if(u=this.rows[d].obj,"string"==typeof s){if(!(0<=this.columns.indexOf(s)))throw new Error('This table has no column named "'.concat(s,'"'));a[u[s]]=u}else a[d]=this.rows[d].obj;return a}},{key:"getArray",value:function(){for(var s=[],u=0;u<this.rows.length;u++)s.push(this.rows[u].arr);return s}}])&&w(y.prototype,C),g}(),H.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(o,oe,H){"use strict";function v(w,g){for(var y=0;y<g.length;y++){var C=g[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.TableRow=function(){function w(E,s){if(!(this instanceof w))throw new TypeError("Cannot call a class as a function");var u=[];E&&(u=E.split(s=s||",")),this.arr=u,this.obj=Object.fromEntries(u.entries()),this.table=null}var g,y;return g=w,(y=[{key:"set",value:function(E,s){if("string"==typeof E){var u=this.table.columns.indexOf(E);if(!(0<=u))throw new Error('This table has no column named "'.concat(E,'"'));this.obj[E]=s,this.arr[u]=s}else{if(!(E<this.table.columns.length))throw new Error("Column #".concat(E," is out of the range of this table"));this.arr[E]=s,this.obj[u=this.table.columns[E]]=s}}},{key:"setNum",value:function(E,s){s=parseFloat(s),this.set(E,s)}},{key:"setString",value:function(E,s){s=s.toString(),this.set(E,s)}},{key:"get",value:function(E){return("string"==typeof E?this.obj:this.arr)[E]}},{key:"getNum",value:function(E){var s=parseFloat("string"==typeof E?this.obj[E]:this.arr[E]);if("NaN"===s.toString())throw"Error: ".concat(this.obj[E]," is NaN (Not a Number)");return s}},{key:"getString",value:function(E){return("string"==typeof E?this.obj:this.arr)[E].toString()}}])&&v(g.prototype,y),w}(),H.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(o,oe,H){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function w(y,C){for(var E=0;E<C.length;E++){var s=C[E];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(y,s.key,s)}}v.default.XML=function(){function y(u){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");u?this.DOM=u:(u=document.implementation.createDocument(null,"doc"),this.DOM=u.createElement("root"))}var C,E;return C=y,(E=[{key:"getParent",value:function(){return new v.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(u){var a=this.DOM.innerHTML,d=this.DOM.attributes,p=document.implementation.createDocument(null,"default").createElement(u);p.innerHTML=a;for(var l=0;l<d.length;l++)p.setAttribute(d[l].nodeName,d[l].nodeValue);this.DOM=p}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var u=[],a=0;a<this.DOM.childNodes.length;a++)u.push(this.DOM.childNodes[a].nodeName);return u}},{key:"getChildren",value:function(u){return function g(y){for(var C=[],E=0;E<y.length;E++)C.push(new v.default.XML(y[E]));return C}(u?this.DOM.getElementsByTagName(u):this.DOM.children)}},{key:"getChild",value:function(u){if("string"!=typeof u)return new v.default.XML(this.DOM.children[u]);var a=!0,d=!1,p=void 0;try{for(var l,m=this.DOM.children[Symbol.iterator]();!(a=(l=m.next()).done);a=!0){var c=l.value;if(c.tagName===u)return new v.default.XML(c)}}catch(h){d=!0,p=h}finally{try{a||null==m.return||m.return()}finally{if(d)throw p}}}},{key:"addChild",value:function(u){u instanceof v.default.XML&&this.DOM.appendChild(u.DOM)}},{key:"removeChild",value:function(u){var a=-1;if("string"==typeof u){for(var d=0;d<this.DOM.children.length;d++)if(this.DOM.children[d].tagName===u){a=d;break}}else a=u;-1!==a&&this.DOM.removeChild(this.DOM.children[a])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var u=[],a=!0,d=!1,p=void 0;try{for(var l,m=this.DOM.attributes[Symbol.iterator]();!(a=(l=m.next()).done);a=!0)u.push(l.value.nodeName)}catch(h){d=!0,p=h}finally{try{a||null==m.return||m.return()}finally{if(d)throw p}}return u}},{key:"hasAttribute",value:function(u){var a={},d=!0,p=!1,l=void 0;try{for(var m,c=this.DOM.attributes[Symbol.iterator]();!(d=(m=c.next()).done);d=!0){var h=m.value;a[h.nodeName]=h.nodeValue}}catch(_){p=!0,l=_}finally{try{d||null==c.return||c.return()}finally{if(p)throw l}}return!!a[u]}},{key:"getNum",value:function(u,a){var d={},p=!0,l=!1,m=void 0;try{for(var c,h=this.DOM.attributes[Symbol.iterator]();!(p=(c=h.next()).done);p=!0){var _=c.value;d[_.nodeName]=_.nodeValue}}catch(M){l=!0,m=M}finally{try{p||null==h.return||h.return()}finally{if(l)throw m}}return Number(d[u])||a||0}},{key:"getString",value:function(u,a){var d={},p=!0,l=!1,m=void 0;try{for(var c,h=this.DOM.attributes[Symbol.iterator]();!(p=(c=h.next()).done);p=!0){var _=c.value;d[_.nodeName]=_.nodeValue}}catch(M){l=!0,m=M}finally{try{p||null==h.return||h.return()}finally{if(l)throw m}}return d[u]?String(d[u]):a||null}},{key:"setAttribute",value:function(u,a){this.DOM.setAttribute(u,a)}},{key:"getContent",value:function(u){var a=this.DOM.textContent;return(a=a.replace(/\s\s+/g,","))||u||null}},{key:"setContent",value:function(u){this.DOM.children.length||(this.DOM.textContent=u)}},{key:"serialize",value:function(){return(new XMLSerializer).serializeToString(this.DOM)}}])&&w(C.prototype,E),y}(),H.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(o,oe,H){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.string.includes"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function w(g){return function(y){if(Array.isArray(y)){for(var C=0,E=new Array(y.length);C<y.length;C++)E[C]=y[C];return E}}(g)||function(y){if(Symbol.iterator in Object(y)||"[object Arguments]"===Object.prototype.toString.call(y))return Array.from(y)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}v.default.prototype.abs=Math.abs,v.default.prototype.ceil=Math.ceil,v.default.prototype.constrain=function(g,y,C){return v.default._validateParameters("constrain",arguments),Math.max(Math.min(g,C),y)},v.default.prototype.dist=function(){for(var g=arguments.length,y=new Array(g),C=0;C<g;C++)y[C]=arguments[C];return v.default._validateParameters("dist",y),4===y.length?Math.hypot(y[2]-y[0],y[3]-y[1]):6===y.length?Math.hypot(y[3]-y[0],y[4]-y[1],y[5]-y[2]):void 0},v.default.prototype.exp=Math.exp,v.default.prototype.floor=Math.floor,v.default.prototype.lerp=function(g,y,C){return v.default._validateParameters("lerp",arguments),C*(y-g)+g},v.default.prototype.log=Math.log,v.default.prototype.mag=function(g,y){return v.default._validateParameters("mag",arguments),Math.hypot(g,y)},v.default.prototype.map=function(g,y,C,E,s,u){return v.default._validateParameters("map",arguments),g=(g-y)/(C-y)*(s-E)+E,u?E<s?this.constrain(g,E,s):this.constrain(g,s,E):g},v.default.prototype.max=function(){for(var g=function(s){return Math.max.apply(Math,w(s))},y=arguments.length,C=new Array(y),E=0;E<y;E++)C[E]=arguments[E];return Array.isArray(C[0])?g(C[0]):g(C)},v.default.prototype.min=function(){for(var g=function(s){return Math.min.apply(Math,w(s))},y=arguments.length,C=new Array(y),E=0;E<y;E++)C[E]=arguments[E];return Array.isArray(C[0])?g(C[0]):g(C)},v.default.prototype.norm=function(g,y,C){return v.default._validateParameters("norm",arguments),this.map(g,y,C,0,1)},v.default.prototype.pow=Math.pow,v.default.prototype.round=function(g,y){return y?(y=Math.pow(10,y),Math.round(g*y)/y):Math.round(g)},v.default.prototype.sq=function(g){return g*g},v.default.prototype.sqrt=Math.sqrt,v.default.prototype.fract=function(E){v.default._validateParameters("fract",arguments);var y,C=0;return E=Number(E),isNaN(E)||Math.abs(E)===1/0?E:(E<0&&(E=-E,C=1),String(E).includes(".")&&!String(E).includes("e")?(y=+("0"+(y=String(E)).slice(y.indexOf("."))),Math.abs(C-y)):E<1?Math.abs(C-E):0)},H.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(o,oe,H){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function w(y,C,E){return(w=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(s,u,a){var d=[null];return d.push.apply(d,u),u=new(Function.bind.apply(s,d)),a&&g(u,a.prototype),u}).apply(null,arguments)}function g(y,C){return(g=Object.setPrototypeOf||function(E,s){return E.__proto__=s,E})(y,C)}v.default.prototype.createVector=function(y,C,E){return this instanceof v.default?w(v.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new v.default.Vector(y,C,E)},H.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(E,oe,H){"use strict";function v(s){return.5*(1-Math.cos(s*Math.PI))}Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0,E=(E=E("../core/main"))&&E.__esModule?E:{default:E};var w,g=4095,y=4,C=.5;E.default.prototype.noise=function(s){var u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==w){w=new Array(4096);for(var d=0;d<4096;d++)w[d]=Math.random()}s<0&&(s=-s),u<0&&(u=-u),a<0&&(a=-a);for(var p,l,m=Math.floor(s),c=Math.floor(u),h=Math.floor(a),_=s-m,M=u-c,x=a-h,A=0,T=.5,N=0;N<y;N++){var I=m+(c<<4)+(h<<8),z=v(_),R=v(M),Q=w[I&g];Q+=z*(w[I+1&g]-Q),p=w[I+16&g],Q+=R*((p+=z*(w[I+16+1&g]-p))-Q),p=w[(I+=256)&g],p+=z*(w[I+1&g]-p),l=w[I+16&g],p+=R*((l+=z*(w[I+16+1&g]-l))-p),A+=(Q+=v(x)*(p-Q))*T,T*=C,m<<=1,c<<=1,h<<=1,1<=(_*=2)&&(m++,_--),1<=(M*=2)&&(c++,M--),1<=(x*=2)&&(h++,x--)}return A},E.default.prototype.noiseDetail=function(s,u){0<s&&(y=s),0<u&&(C=u)},E.default.prototype.noiseSeed=function(s){d=4294967296;var a,d,p_rand=function(){return(a=(1664525*a+1013904223)%d)/d};(function(m){a=(null==m?Math.random()*d:m)>>>0})(s),w=new Array(4096);for(var l=0;l<4096;l++)w[l]=p_rand()},H.default=E=E.default},{"../core/main":283}],316:[function(o,oe,H){"use strict";function v(u){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(u)}function w(u){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(u)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.epsilon"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.epsilon"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.string.sub"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=(s=o("../core/main"))&&s.__esModule?s:{default:s},y=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==w(u)&&"function"!=typeof u)return{default:u};var a=C();if(a&&a.has(u))return a.get(u);var d,p={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in u){var m;Object.prototype.hasOwnProperty.call(u,d)&&((m=l?Object.getOwnPropertyDescriptor(u,d):null)&&(m.get||m.set)?Object.defineProperty(p,d,m):p[d]=u[d])}return p.default=u,a&&a.set(u,p),p}(o("../core/constants"));function C(){var u;return"function"!=typeof WeakMap?null:(C=function(){return u},u=new WeakMap)}function E(u,a){for(var d=0;d<a.length;d++){var p=a[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}g.default.Vector=function(){function u(){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");var m,c,h="function"==typeof(arguments.length<=0?void 0:arguments[0])?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],m=(arguments.length<=2?void 0:arguments[2])||0,c=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(m=(arguments.length<=0?void 0:arguments[0])||0,c=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=m,this.y=c,this.z=h}var a,d,p;return a=u,p=[{key:"fromAngle",value:function(l){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return new g.default.Vector(m*Math.cos(l),m*Math.sin(l),0)}},{key:"fromAngles",value:function(x,_){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,h=Math.cos(_),M=(_=Math.sin(_),Math.cos(x));return x=Math.sin(x),new g.default.Vector(c*x*_,-c*M,c*x*h)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*y.TWO_PI)}},{key:"random3D",value:function(){var l=Math.random()*y.TWO_PI,m=2*Math.random()-1,c=(h=Math.sqrt(1-m*m))*Math.cos(l),h=h*Math.sin(l);return new g.default.Vector(c,h,m)}},{key:"copy",value:function(l){return l.copy(l)}},{key:"add",value:function(){for(var l=arguments.length,m=new Array(l),c=0;c<l;c++)m[c]=arguments[c];var h=m[0],_=m[1],M=m[2];return M?M.set(h):(M=h.copy(),3===m.length&&g.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),M.add(_),M}},{key:"rem",value:function(l,m){if(l instanceof g.default.Vector&&m instanceof g.default.Vector)return(l=l.copy()).rem(m),l}},{key:"sub",value:function(){for(var l=arguments.length,m=new Array(l),c=0;c<l;c++)m[c]=arguments[c];var h=m[0],_=m[1],M=m[2];return M?M.set(h):(M=h.copy(),3===m.length&&g.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),M.sub(_),M}},{key:"mult",value:function(){for(var l=arguments.length,m=new Array(l),c=0;c<l;c++)m[c]=arguments[c];var h=m[0],_=m[1],M=m[2];return M?M.set(h):(M=h.copy(),3===m.length&&g.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),M.mult(_),M}},{key:"rotate",value:function(){for(var l=arguments.length,m=new Array(l),c=0;c<l;c++)m[c]=arguments[c];var h=m[0],_=m[1],M=m[2];return 2===m.length?M=h.copy():(M instanceof g.default.Vector||g.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),M.set(h)),M.rotate(_),M}},{key:"div",value:function(){for(var l=arguments.length,m=new Array(l),c=0;c<l;c++)m[c]=arguments[c];var h=m[0],_=m[1],M=m[2];return M?M.set(h):(M=h.copy(),3===m.length&&g.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),M.div(_),M}},{key:"dot",value:function(l,m){return l.dot(m)}},{key:"cross",value:function(l,m){return l.cross(m)}},{key:"dist",value:function(l,m){return l.dist(m)}},{key:"lerp",value:function(){for(var l=arguments.length,m=new Array(l),c=0;c<l;c++)m[c]=arguments[c];var h=m[0],_=m[1],M=m[2],x=m[3];return x?x.set(h):(x=h.copy(),4===m.length&&g.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),x.lerp(_,M),x}},{key:"slerp",value:function(){for(var l=arguments.length,m=new Array(l),c=0;c<l;c++)m[c]=arguments[c];var h=m[0],_=m[1],M=m[2],x=m[3];return x?x.set(h):(x=h.copy(),4===m.length&&g.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),x.slerp(_,M),x}},{key:"mag",value:function(l){return l.mag()}},{key:"magSq",value:function(l){return l.magSq()}},{key:"normalize",value:function(){for(var l=arguments.length,m=new Array(l),c=0;c<l;c++)m[c]=arguments[c];var h=m[0],_=m[1];return m.length<2?_=h.copy():(_ instanceof g.default.Vector||g.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),_.set(h)),_.normalize()}},{key:"limit",value:function(){for(var l=arguments.length,m=new Array(l),c=0;c<l;c++)m[c]=arguments[c];var h=m[0],_=m[1],M=m[2];return m.length<3?M=h.copy():(M instanceof g.default.Vector||g.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),M.set(h)),M.limit(_)}},{key:"setMag",value:function(){for(var l=arguments.length,m=new Array(l),c=0;c<l;c++)m[c]=arguments[c];var h=m[0],_=m[1],M=m[2];return m.length<3?M=h.copy():(M instanceof g.default.Vector||g.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),M.set(h)),M.setMag(_)}},{key:"heading",value:function(l){return l.heading()}},{key:"angleBetween",value:function(l,m){return l.angleBetween(m)}},{key:"reflect",value:function(){for(var l=arguments.length,m=new Array(l),c=0;c<l;c++)m[c]=arguments[c];var h=m[0],_=m[1],M=m[2];return m.length<3?M=h.copy():(M instanceof g.default.Vector||g.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),M.set(h)),M.reflect(_)}},{key:"array",value:function(l){return l.array()}},{key:"equals",value:function(l,m){var c;return l instanceof g.default.Vector?c=l:Array.isArray(l)?c=(new g.default.Vector).set(l):g.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),c.equals(m)}}],(d=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(l,m,c){return l instanceof g.default.Vector?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):Array.isArray(l)?(this.x=l[0]||0,this.y=l[1]||0,this.z=l[2]||0):(this.x=l||0,this.y=m||0,this.z=c||0),this}},{key:"copy",value:function(){return this.isPInst?new g.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new g.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(l,m,c){return l instanceof g.default.Vector?(this.x+=l.x||0,this.y+=l.y||0,this.z+=l.z||0):Array.isArray(l)?(this.x+=l[0]||0,this.y+=l[1]||0,this.z+=l[2]||0):(this.x+=l||0,this.y+=m||0,this.z+=c||0),this}},{key:"calculateRemainder2D",value:function(l,m){return 0!==l&&(this.x=this.x%l),0!==m&&(this.y=this.y%m),this}},{key:"calculateRemainder3D",value:function(l,m,c){return 0!==l&&(this.x=this.x%l),0!==m&&(this.y=this.y%m),0!==c&&(this.z=this.z%c),this}},{key:"rem",value:function(){for(var l=arguments.length,m=new Array(l),c=0;c<l;c++)m[c]=arguments[c];var h,_,M,x=m[0],A=m[1],T=m[2];if(x instanceof g.default.Vector){if([x.x,x.y,x.z].every(Number.isFinite))return h=parseFloat(x.x),_=parseFloat(x.y),M=parseFloat(x.z),this.calculateRemainder3D(h,_,M)}else if(Array.isArray(x)){if(x.every(Number.isFinite))return 2===x.length?this.calculateRemainder2D(x[0],x[1]):3===x.length?this.calculateRemainder3D(x[0],x[1],x[2]):void 0}else if(1===m.length){if(Number.isFinite(x)&&0!==x)return this.x=this.x%x,this.y=this.y%x,this.z=this.z%x,this}else if(2===m.length){if(m.every(Number.isFinite))return this.calculateRemainder2D(x,A)}else if(3===m.length&&m.every(Number.isFinite))return this.calculateRemainder3D(x,A,T)}},{key:"sub",value:function(l,m,c){return l instanceof g.default.Vector?(this.x-=l.x||0,this.y-=l.y||0,this.z-=l.z||0):Array.isArray(l)?(this.x-=l[0]||0,this.y-=l[1]||0,this.z-=l[2]||0):(this.x-=l||0,this.y-=m||0,this.z-=c||0),this}},{key:"mult",value:function(){for(var l=arguments.length,m=new Array(l),c=0;c<l;c++)m[c]=arguments[c];var h,_=m[0],M=m[1],x=m[2];return _ instanceof g.default.Vector?Number.isFinite(_.x)&&Number.isFinite(_.y)&&Number.isFinite(_.z)&&"number"==typeof _.x&&"number"==typeof _.y&&"number"==typeof _.z?(this.x*=_.x,this.y*=_.y,this.z*=_.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(_)?_.every(function(A){return Number.isFinite(A)})&&_.every(function(A){return"number"==typeof A})?1===_.length?(this.x*=_[0],this.y*=_[0],this.z*=_[0]):2===_.length?(this.x*=_[0],this.y*=_[1]):3===_.length&&(this.x*=_[0],this.y*=_[1],this.z*=_[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(h=m).every(function(A){return Number.isFinite(A)})&&h.every(function(A){return"number"==typeof A})?(1===m.length&&(this.x*=_,this.y*=_,this.z*=_),2===m.length&&(this.x*=_,this.y*=M),3===m.length&&(this.x*=_,this.y*=M,this.z*=x)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var l=arguments.length,m=new Array(l),c=0;c<l;c++)m[c]=arguments[c];var h=m[0],_=m[1],M=m[2];if(h instanceof g.default.Vector)if(Number.isFinite(h.x)&&Number.isFinite(h.y)&&Number.isFinite(h.z)&&"number"==typeof h.x&&"number"==typeof h.y&&"number"==typeof h.z){var x=0===h.z&&0===this.z;if(0===h.x||0===h.y||!x&&0===h.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=h.x,this.y/=h.y,x||(this.z/=h.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(h))if(h.every(Number.isFinite)&&h.every(function(A){return"number"==typeof A})){if(h.some(function(A){return 0===A}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===h.length?(this.x/=h[0],this.y/=h[0],this.z/=h[0]):2===h.length?(this.x/=h[0],this.y/=h[1]):3===h.length&&(this.x/=h[0],this.y/=h[1],this.z/=h[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(m.every(Number.isFinite)&&m.every(function(A){return"number"==typeof A})){if(m.some(function(A){return 0===A}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===m.length&&(this.x/=h,this.y/=h,this.z/=h),2===m.length&&(this.x/=h,this.y/=_),3===m.length&&(this.x/=h,this.y/=_,this.z/=M)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var l=this.x,m=this.y,c=this.z;return l*l+m*m+c*c}},{key:"dot",value:function(l,m,c){return l instanceof g.default.Vector?this.dot(l.x,l.y,l.z):this.x*(l||0)+this.y*(m||0)+this.z*(c||0)}},{key:"cross",value:function(h){var m=this.y*h.z-this.z*h.y,c=this.z*h.x-this.x*h.z;return h=this.x*h.y-this.y*h.x,this.isPInst?new g.default.Vector(this._fromRadians,this._toRadians,m,c,h):new g.default.Vector(m,c,h)}},{key:"dist",value:function(l){return l.copy().sub(this).mag()}},{key:"normalize",value:function(){var l=this.mag();return 0!==l&&this.mult(1/l),this}},{key:"limit",value:function(l){var m=this.magSq();return l*l<m&&this.div(Math.sqrt(m)).mult(l),this}},{key:"setMag",value:function(l){return this.normalize().mult(l)}},{key:"heading",value:function(){var l=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(l):l}},{key:"setHeading",value:function(l){this.isPInst&&(l=this._toRadians(l));var m=this.mag();return this.x=m*Math.cos(l),this.y=m*Math.sin(l),this}},{key:"rotate",value:function(m){m=this.heading()+m;var c=(this.isPInst&&(m=this._toRadians(m)),this.mag());return this.x=Math.cos(m)*c,this.y=Math.sin(m)*c,this}},{key:"angleBetween",value:function(l){var m;return this.magSq()*l.magSq()==0?NaN:(m=this.cross(l),l=Math.atan2(m.mag(),this.dot(l))*Math.sign(m.z||1),this.isPInst?this._fromRadians(l):l)}},{key:"lerp",value:function(l,m,c,h){return l instanceof g.default.Vector?this.lerp(l.x,l.y,l.z,m):(this.x+=(l-this.x)*h||0,this.y+=(m-this.y)*h||0,this.z+=(c-this.z)*h||0,this)}},{key:"slerp",value:function(l,m){if(0!==m){if(1===m)return this.set(l);var c=this.mag(),h=l.mag();if(c*h==0)this.mult(1-m).add(l.x*m,l.y*m,l.z*m);else{var _=this.cross(l),M=_.mag(),x=Math.atan2(M,this.dot(l));if(0<M)_.x/=M,_.y/=M,_.z/=M;else{if(x<.5*Math.PI)return this.mult(1-m).add(l.x*m,l.y*m,l.z*m),this;0===this.z&&0===l.z?_.set(0,0,1):0!==this.x?_.set(this.y,-this.x,0).normalize():_.set(1,0,0)}M=_.cross(this),_=(l=1-m+m*h/c)*Math.cos(m*x),h=l*Math.sin(m*x),this.x=this.x*_+M.x*h,this.y=this.y*_+M.y*h,this.z=this.z*_+M.z*h}}return this}},{key:"reflect",value:function(l){return l=g.default.Vector.normalize(l),this.sub(l.mult(2*this.dot(l)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(M,m,c){var h,_;return M=M instanceof g.default.Vector?(h=M.x||0,_=M.y||0,M.z||0):Array.isArray(M)?(h=M[0]||0,_=M[1]||0,M[2]||0):(h=M||0,_=m||0,c||0),this.x===h&&this.y===_&&this.z===M}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(l){return Math.abs(+(l||0))<=Number.EPSILON?0:l}}])&&E(a.prototype,d),p&&E(a,p),u}();var s=g.default.Vector;H.default=s},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(C,oe,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(C=C("../core/main"))&&C.__esModule?C:{default:C},w="_lcg_random_state",g=4294967296,y=0;v.default.prototype._lcg=function(E){return this[E]=(1664525*this[E]+1013904223)%g,this[E]/g},v.default.prototype._lcgSetSeed=function(E,s){this[E]=(null==s?Math.random()*g:s)>>>0},v.default.prototype.randomSeed=function(E){this._lcgSetSeed(w,E),this._gaussian_previous=!1},v.default.prototype.random=function(E,s){var u,a;return v.default._validateParameters("random",arguments),u=null!=this[w]?this._lcg(w):Math.random(),void 0===E?u:void 0===s?Array.isArray(E)?E[Math.floor(u*E.length)]:u*E:(s<E&&(a=E,E=s,s=a),u*(s-E)+E)},v.default.prototype.randomGaussian=function(E){var s,u,a,d,p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)s=y,this._gaussian_previous=!1;else{for(;1<=(d=(u=this.random(2)-1)*u+(a=this.random(2)-1)*a););s=u*(d=Math.sqrt(-2*Math.log(d)/d)),y=a*d,this._gaussian_previous=!0}return s*p+(E||0)},H.default=C=v.default},{"../core/main":283}],318:[function(o,oe,H){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(s)}function w(s){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=(E=o("../core/main"))&&E.__esModule?E:{default:E},y=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==w(s)&&"function"!=typeof s)return{default:s};var u=C();if(u&&u.has(s))return u.get(s);var a,d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var l;Object.prototype.hasOwnProperty.call(s,a)&&((l=p?Object.getOwnPropertyDescriptor(s,a):null)&&(l.get||l.set)?Object.defineProperty(d,a,l):d[a]=s[a])}return d.default=s,u&&u.set(s,d),d}(o("../core/constants"));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}g.default.prototype._angleMode=y.RADIANS,g.default.prototype.acos=function(s){return this._fromRadians(Math.acos(s))},g.default.prototype.asin=function(s){return this._fromRadians(Math.asin(s))},g.default.prototype.atan=function(s){return this._fromRadians(Math.atan(s))},g.default.prototype.atan2=function(s,u){return this._fromRadians(Math.atan2(s,u))},g.default.prototype.cos=function(s){return Math.cos(this._toRadians(s))},g.default.prototype.sin=function(s){return Math.sin(this._toRadians(s))},g.default.prototype.tan=function(s){return Math.tan(this._toRadians(s))},g.default.prototype.degrees=function(s){return s*y.RAD_TO_DEG},g.default.prototype.radians=function(s){return s*y.DEG_TO_RAD},g.default.prototype.angleMode=function(s){if(g.default._validateParameters("angleMode",arguments),void 0===s)return this._angleMode;s!==y.DEGREES&&s!==y.RADIANS||s!==this._angleMode&&(s===y.RADIANS?(this._setProperty("pRotationX",this.pRotationX*y.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*y.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*y.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*y.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*y.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*y.RAD_TO_DEG)),this._angleMode=s)},g.default.prototype._toRadians=function(s){return this._angleMode===y.DEGREES?s*y.DEG_TO_RAD:s},g.default.prototype._toDegrees=function(s){return this._angleMode===y.RADIANS?s*y.RAD_TO_DEG:s},g.default.prototype._fromRadians=function(s){return this._angleMode===y.DEGREES?s*y.RAD_TO_DEG:s},g.default.prototype._fromDegrees=function(s){return this._angleMode===y.RADIANS?s*y.DEG_TO_RAD:s};var E=g.default;H.default=E},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(o,oe,H){"use strict";o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.textAlign=function(w,g){var y;return v.default._validateParameters("textAlign",arguments),(y=this._renderer).textAlign.apply(y,arguments)},v.default.prototype.textLeading=function(w){var g;return v.default._validateParameters("textLeading",arguments),(g=this._renderer).textLeading.apply(g,arguments)},v.default.prototype.textSize=function(w){var g;return v.default._validateParameters("textSize",arguments),(g=this._renderer).textSize.apply(g,arguments)},v.default.prototype.textStyle=function(w){var g;return v.default._validateParameters("textStyle",arguments),(g=this._renderer).textStyle.apply(g,arguments)},v.default.prototype.textWidth=function(){for(var w=arguments.length,g=new Array(w),y=0;y<w;y++)g[y]=arguments[y];if(g[0]+="",v.default._validateParameters("textWidth",g),0===g[0].length)return 0;for(var C=g[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),E=[],s=0;s<C.length;s++)E.push(this._renderer.textWidth(C[s]));return Math.max.apply(Math,E)},v.default.prototype.textAscent=function(){for(var w=arguments.length,g=new Array(w),y=0;y<w;y++)g[y]=arguments[y];return v.default._validateParameters("textAscent",g),this._renderer.textAscent()},v.default.prototype.textDescent=function(){for(var w=arguments.length,g=new Array(w),y=0;y<w;y++)g[y]=arguments[y];return v.default._validateParameters("textDescent",g),this._renderer.textDescent()},v.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},v.default.prototype.textWrap=function(w){return v.default._validateParameters("textWrap",[w]),this._renderer.textWrap(w)},H.default=o=v.default},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(o,oe,H){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}function w(a){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.split"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=(u=o("../core/main"))&&u.__esModule?u:{default:u},y=s(o("../core/constants")),C=s(o("opentype.js"));function E(){var a;return"function"!=typeof WeakMap?null:(E=function(){return a},a=new WeakMap)}function s(a){if(a&&a.__esModule)return a;if(null===a||"object"!==w(a)&&"function"!=typeof a)return{default:a};var d=E();if(d&&d.has(a))return d.get(a);var p,l,m={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in a)Object.prototype.hasOwnProperty.call(a,p)&&((l=c?Object.getOwnPropertyDescriptor(a,p):null)&&(l.get||l.set)?Object.defineProperty(m,p,l):m[p]=a[p]);return m.default=a,d&&d.set(a,m),m}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),g.default.prototype.loadFont=function(a,d,p){g.default._validateParameters("loadFont",arguments);var l=new g.default.Font(this),m=this;return C.load(a,function(_,M){if(_)return g.default._friendlyFileLoadError(4,a),void 0!==p?p(_):void console.error(_,a);l.font=M,void 0!==d&&d(l),m._decrementPreload();var x=(M=(_=a.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:_.slice(M+1);["ttf","otf","woff","woff2"].includes(x)&&(x=_.slice(0,-1!==M?M:0),(_=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(x,";\nsrc: url(").concat(a,");\n}\n"))),document.head.appendChild(_))}),l},g.default.prototype.text=function(a,d,p,l,m){var c;return g.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(c=this._renderer).text.apply(c,arguments):this},g.default.prototype.textFont=function(a,d){if(g.default._validateParameters("textFont",arguments),arguments.length){if(a)return this._renderer._setProperty("_textFont",a),d&&(this._renderer._setProperty("_textSize",d),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",d*y._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var u=g.default;H.default=u},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(o,oe,H){"use strict";function v(A){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(A)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var w=(w=o("../core/main"))&&w.__esModule?w:{default:w},g=function(A){if(A&&A.__esModule)return A;if(null===A||"object"!==C(A)&&"function"!=typeof A)return{default:A};var T=y();if(T&&T.has(A))return T.get(A);var N,I={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(N in A){var R;Object.prototype.hasOwnProperty.call(A,N)&&((R=z?Object.getOwnPropertyDescriptor(A,N):null)&&(R.get||R.set)?Object.defineProperty(I,N,R):I[N]=A[N])}return I.default=A,T&&T.set(A,I),I}(o("../core/constants"));function y(){var A;return"function"!=typeof WeakMap?null:(y=function(){return A},A=new WeakMap)}function C(A){return(C="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(T){return v(T)}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":v(T)})(A)}function E(A,T){for(var N=0;N<T.length;N++){var I=T[N];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}function s(A,T){var N=A.length;return A[T<0?T%N+N:T%N]}function u(A,T,N,I){var z,R,Q;return I?(void 0===u.tmpPoint1&&(u.tmpPoint1=[],u.tmpPoint2=[]),Q=u.tmpPoint2,(R=u.tmpPoint1).x=T.x-A.x,R.y=T.y-A.y,Q.x=N.x-T.x,Q.y=N.y-T.y,z=R.x*Q.x+R.y*Q.y,R=Math.sqrt(R.x*R.x+R.y*R.y),Q=Math.sqrt(Q.x*Q.x+Q.y*Q.y),Math.acos(z/(R*Q))<I):(T[0]-A[0])*(N[1]-A[1])-(N[0]-A[0])*(T[1]-A[1])==0}function a(k,me,ee,xe,Ge,R,Q,ne,V){var X=1-V,U=(F=Math.pow(X,3))*k+3*(K=Math.pow(X,2))*V*ee+3*X*V*V*Ge+(ie=(q=V*V)*V)*Q,F=F*me+3*K*V*xe+3*X*V*V*R+ie*ne,K=k+2*V*(ee-k)+q*(Ge-2*ee+k),ie=me+2*V*(xe-me)+q*(R-2*xe+me),Te=ee+2*V*(Ge-ee)+q*(Q-2*Ge+ee),q=xe+2*V*(R-xe)+q*(ne-2*R+xe);return k=X*k+V*ee,ee=X*me+V*xe,me=X*Ge+V*Q,xe=X*R+V*ne,Ge=90-180*Math.atan2(K-Te,ie-q)/Math.PI,(Te<K||ie<q)&&(Ge+=180),{x:U,y:F,m:{x:K,y:ie},n:{x:Te,y:q},start:{x:k,y:ee},end:{x:me,y:xe},alpha:Ge}}function d(A,T,N,I,z,R,Q,ne,V){return null==V?M(A,T,N,I,z,R,Q,ne):a(A,T,N,I,z,R,Q,ne,function(X,U,F,K,ie,Te,q,k,ee){if(!(ee<0||M(X,U,F,K,ie,Te,q,k)<ee)){var me,xe=.5,Ge=1-xe;for(me=M(X,U,F,K,ie,Te,q,k,Ge);.01<Math.abs(me-ee);)me=M(X,U,F,K,ie,Te,q,k,Ge+=(me<ee?1:-1)*(xe/=2));return Ge}}(A,T,N,I,z,R,Q,ne,V))}function p(A,T,N){for(var I,z,R,Q,ne,V=0,X=0,U=(A=function(F,K){function ie(et,st,Dt){var on,Lt;if(!et)return["C",st.x,st.y,st.x,st.y,st.x,st.y];switch(et[0]in{T:1,Q:1}||(st.qx=st.qy=null),et[0]){case"M":st.X=et[1],st.Y=et[2];break;case"A":et=["C"].concat(m.apply(0,[st.x,st.y].concat(et.slice(1))));break;case"S":Lt="C"===Dt||"S"===Dt?(on=2*st.x-st.bx,2*st.y-st.by):(on=st.x,st.y),et=["C",on,Lt].concat(et.slice(1));break;case"T":"Q"===Dt||"T"===Dt?(st.qx=2*st.x-st.qx,st.qy=2*st.y-st.qy):(st.qx=st.x,st.qy=st.y),et=["C"].concat(_(st.x,st.y,st.qx,st.qy,et[1],et[2]));break;case"Q":st.qx=et[1],st.qy=et[2],et=["C"].concat(_(st.x,st.y,et[1],et[2],et[3],et[4]));break;case"L":et=["C"].concat(h(st.x,st.y,et[1],et[2]));break;case"H":et=["C"].concat(h(st.x,st.y,et[1],st.y));break;case"V":et=["C"].concat(h(st.x,st.y,st.x,et[1]));break;case"Z":et=["C"].concat(h(st.x,st.y,st.X,st.Y))}return et}function Te(et,st){if(7<et[st].length){et[st].shift();for(var Dt=et[st];Dt.length;)Ye[st]="A",me&&(mt[st]="A"),et.splice(st++,0,["C"].concat(Dt.splice(0,6)));et.splice(st,1),k=Math.max(ee.length,me&&me.length||0)}}function q(et,st,Dt,on,Lt){et&&st&&"M"===et[Lt][0]&&"M"!==st[Lt][0]&&(st.splice(Lt,0,["M",on.x,on.y]),Dt.bx=0,Dt.by=0,Dt.x=et[Lt][1],Dt.y=et[Lt][2],k=Math.max(ee.length,me&&me.length||0))}var k,ee=l(F),me=K,xe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ge={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ye=[],mt=[],We="",ct="";k=Math.max(ee.length,me&&me.length||0);for(var dt=0;dt<k;dt++){"C"!==(We=ee[dt]?ee[dt][0]:We)&&(Ye[dt]=We,dt&&(ct=Ye[dt-1])),ee[dt]=ie(ee[dt],xe,ct),"A"!==Ye[dt]&&"C"===We&&(Ye[dt]="C"),Te(ee,dt),me&&("C"!==(We=me[dt]?me[dt][0]:We)&&(mt[dt]=We,dt&&(ct=mt[dt-1])),me[dt]=ie(me[dt],Ge,ct),"A"!==mt[dt]&&"C"===We&&(mt[dt]="C"),Te(me,dt)),q(ee,me,xe,Ge,dt),q(me,ee,Ge,xe,dt);var Ve=ee[dt],Qe=me&&me[dt],Ze=Ve.length,at=me&&Qe.length;xe.x=Ve[Ze-2],xe.y=Ve[Ze-1],xe.bx=parseFloat(Ve[Ze-4])||xe.x,xe.by=parseFloat(Ve[Ze-3])||xe.y,Ge.bx=me&&(parseFloat(Qe[at-4])||Ge.x),Ge.by=me&&(parseFloat(Qe[at-3])||Ge.y),Ge.x=me&&Qe[at-2],Ge.y=me&&Qe[at-1]}return me?[ee,me]:ee}(A)).length;X<U;X++){if("M"===(R=A[X])[0])I=+R[1],z=+R[2];else{if(T<V+(Q=d(I,z,R[1],R[2],R[3],R[4],R[5],R[6]))&&!N)return{x:(ne=d(I,z,R[1],R[2],R[3],R[4],R[5],R[6],T-V)).x,y:ne.y,alpha:ne.alpha};V+=Q,I=+R[5],z=+R[6]}R.shift()}return(ne=N?V:a(I,z,R[0],R[1],R[2],R[3],R[4],R[5],1)).alpha?{x:ne.x,y:ne.y,alpha:ne.alpha}:ne}function l(A){var T=[],N=0,I=0,z=0,R=0,Q=0;if(A){"M"===A[0][0]&&(z=N=+A[0][1],R=I=+A[0][2],Q++,T[0]=["M",N,I]);for(var ne,V,X=3===A.length&&"M"===A[0][0]&&"R"===A[1][0].toUpperCase()&&"Z"===A[2][0].toUpperCase(),U=Q,F=A.length;U<F;U++){if(T.push(ne=[]),(V=A[U])[0]!==V[0].toUpperCase())switch(ne[0]=V[0].toUpperCase(),ne[0]){case"A":ne[1]=V[1],ne[2]=V[2],ne[3]=V[3],ne[4]=V[4],ne[5]=V[5],ne[6]=+(V[6]+N),ne[7]=+(V[7]+I);break;case"V":ne[1]=+V[1]+I;break;case"H":ne[1]=+V[1]+N;break;case"R":for(var K,ie=2,Te=(K=[N,I].concat(V.slice(1))).length;ie<Te;ie++)K[ie]=+K[ie]+N,K[++ie]=+K[ie]+I;T.pop(),T=T.concat(c(K,X));break;case"M":z=+V[1]+N,R=+V[2]+I;break;default:for(var q=1,k=V.length;q<k;q++)ne[q]=+V[q]+(q%2?N:I)}else if("R"===V[0])K=[N,I].concat(V.slice(1)),T.pop(),T=T.concat(c(K,X)),ne=["R"].concat(V.slice(-2));else for(var ee=0,me=V.length;ee<me;ee++)ne[ee]=V[ee];switch(ne[0]){case"Z":N=z,I=R;break;case"H":N=ne[1];break;case"V":I=ne[1];break;case"M":z=ne[ne.length-2],R=ne[ne.length-1];break;default:N=ne[ne.length-2],I=ne[ne.length-1]}}}return T}function m(A,T,N,I,me,Ye,xe,ne,V,X){function U(at,et,st){return{x:at*Math.cos(st)-et*Math.sin(st),y:at*Math.sin(st)+et*Math.cos(st)}}var F,ee=120*(k=Math.PI)/180,K=k/180*(+me||0),ie=[],Te=(X?(dt=X[0],F=X[1],We=X[2],ct=X[3]):(A=(Ge=U(A,T,-K)).x,T=Ge.y,1<(Te=(q=(A-(ne=(Ge=U(ne,V,-K)).x))/2)*q/(N*N)+(Ge=(T-(V=Ge.y))/2)*Ge/(I*I))&&(N*=Te=Math.sqrt(Te),I*=Te),Te=N*N,mt=I*I,We=(Ye=(Ye===xe?-1:1)*Math.sqrt(Math.abs((Te*mt-Te*Ge*Ge-mt*q*q)/(Te*Ge*Ge+mt*q*q))))*N*Ge/I+(A+ne)/2,ct=Ye*-I*q/N+(T+V)/2,dt=Math.asin(((T-ct)/I).toFixed(9)),F=Math.asin(((V-ct)/I).toFixed(9)),(dt=A<We?k-dt:dt)<0&&(dt=2*k+dt),(F=ne<We?k-F:F)<0&&(F=2*k+F),xe&&F<dt&&(dt-=2*k),!xe&&dt<F&&(F-=2*k)),F-dt),q=(Math.abs(Te)>ee&&(mt=F,Ge=ne,Ye=V,F=dt+ee*(xe&&dt<F?1:-1),ie=m(ne=We+N*Math.cos(F),V=ct+I*Math.sin(F),N,I,me,0,xe,Ge,Ye,[F,mt,We,ct])),Te=F-dt,Math.cos(dt)),k=Math.sin(dt),Ge=(ee=Math.cos(F),me=Math.sin(F),4/3*N*(xe=Math.tan(Te/4))),mt=[A,T],We=[A+Ge*k,T-(Ye=4/3*I*xe)*q],ct=[ne+Ge*me,V-Ye*ee],dt=[ne,V];if(We[0]=2*mt[0]-We[0],We[1]=2*mt[1]-We[1],X)return[We,ct,dt].concat(ie);for(var Ve=[],Qe=0,Ze=(ie=[We,ct,dt].concat(ie).join().split(",")).length;Qe<Ze;Qe++)Ve[Qe]=Qe%2?U(ie[Qe-1],ie[Qe],K).y:U(ie[Qe],ie[Qe+1],K).x;return Ve}function c(A,T){for(var N=[],I=0,z=A.length;I<z-2*!T;I+=2){var R=[{x:+A[I-2],y:+A[I-1]},{x:+A[I],y:+A[I+1]},{x:+A[I+2],y:+A[I+3]},{x:+A[I+4],y:+A[I+5]}];T?I?z-4===I?R[3]={x:+A[0],y:+A[1]}:z-2===I&&(R[2]={x:+A[0],y:+A[1]},R[3]={x:+A[2],y:+A[3]}):R[0]={x:+A[z-2],y:+A[z-1]}:z-4===I?R[3]=R[2]:I||(R[0]={x:+A[I],y:+A[I+1]}),N.push(["C",(6*R[1].x-R[0].x+R[2].x)/6,(6*R[1].y-R[0].y+R[2].y)/6,(R[1].x+6*R[2].x-R[3].x)/6,(R[1].y+6*R[2].y-R[3].y)/6,R[2].x,R[2].y])}return N}function h(A,T,N,I){return[A,T,N,I,N,I]}function _(A,T,N,I,z,R){return[1/3*A+2/3*N,1/3*T+2/3*I,1/3*z+2/3*N,1/3*R+2/3*I,z,R]}function M(A,T,N,I,z,R,Q,ne,V){for(var X=(V=1<(V=null==V?1:V)?1:V<0?0:V)/2,U=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],F=0,K=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],ie=0;ie<12;ie++){var Te=x(q=X*U[ie]+X,A,N,z,Q),q=x(q,T,I,R,ne);F+=K[ie]*Math.sqrt(Te*Te+q*q)}return X*F}function x(A,T,N,I,z){return A*(A*(-3*T+9*N-9*I+3*z)+6*T-12*N+6*I)-3*T+3*N}w.default.Font=function(){function A(z){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this.parent=z,this.cache={},this.font=void 0}var T,N;return T=A,(N=[{key:"textBounds",value:function(z){var R=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,Q=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,ne=4<arguments.length?arguments[4]:void 0,V=ne&&ne.renderer&&ne.renderer._pInst||this.parent,X=V._renderer.drawingContext,U=(U=3<arguments.length?arguments[3]:void 0)||V._renderer._textSize;if(!Ye){for(var F=[],K=[],ie=[],Te=(ie[0]=[],[]),q=this._scale(U),k=V._renderer.textLeading(),ee=0,me=(this.font.forEachGlyph(z,R,Q,U,ne,function(ct,dt,Ve,Qe){var Ze=ct.getMetrics();0===ct.index?ie[ee+=1]=[]:(ie[ee].push(dt+Ze.xMin*q),ie[ee].push(dt+Ze.xMax*q),Te.push(Ve+ee*k+-Ze.yMin*q),Te.push(Ve+ee*k+-Ze.yMax*q))}),0<ie[ee].length&&(F[ee]=Math.min.apply(null,ie[ee]),K[ee]=Math.max.apply(null,ie[ee])),0),xe=0;xe<=ee;xe++){F[xe]=Math.min.apply(null,ie[xe]),K[xe]=Math.max.apply(null,ie[xe]);var Ge=K[xe]-F[xe];me<Ge&&(me=Ge)}var Ye={x:X=Math.min.apply(null,F),y:Q=Math.min.apply(null,Te),h:Math.max.apply(null,Te)-Q,w:me,advance:X-R};U=this._handleAlignment(V._renderer,z,Ye.x,Ye.y,Ye.w+Ye.advance),Ye.x=U.x,Ye.y=U.y}return Ye}},{key:"textToPoints",value:function(z,R,Q,ne,V){var X=R,U=[],F=z.split(/\r?\n|\r|\n/g);ne=ne||this.parent._renderer._textSize;for(var K,ie,Te,q=0;q<F.length;q++){var k=0;R=X;for(var ee=(ee=F[q]).replace("\t","  "),me=this._getGlyphs(ee),xe=0;xe<me.length;xe++){if(ie=ee,!((Te=me)[K=xe].name&&"space"===Te[K].name||ie.length===Te.length&&" "===ie[K]))for(var Ge=function(ct){for(var dt,Ve=[],Qe=0;Qe<ct.length;Qe++)"M"===ct[Qe].type&&(dt&&Ve.push(dt),dt=[]),dt.push((at=void 0,at=[(Ze=ct[Qe]).type],"M"===Ze.type||"L"===Ze.type?at.push(Ze.x,Ze.y):"C"===Ze.type?at.push(Ze.x1,Ze.y1,Ze.x2,Ze.y2,Ze.x,Ze.y):"Q"===Ze.type&&at.push(Ze.x1,Ze.y1,Ze.x,Ze.y),at));var Ze,at;return Ve.push(dt),Ve}(me[xe].getPath(R,Q,ne).commands),Ye=0;Ye<Ge.length;Ye++)for(var mt=function(ct,dt){dt=function(st,Dt){if("object"!==C(st))st=Dt;else for(var on in Dt)void 0===st[on]&&(st[on]=Dt[on]);return st}(dt,{sampleFactor:.1,simplifyThreshold:0});for(var Ve=p(ct,0,1),Qe=Ve/(Ve*dt.sampleFactor),Ze=[],at=0;at<Ve;at+=Qe)Ze.push(p(ct,at));return dt.simplifyThreshold&&function(et){for(var st=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,on=et.length-1;3<et.length&&0<=on;--on)u(s(et,on-1),s(et,on),s(et,on+1),st)&&et.splice(on%et.length,1)}(Ze,dt.simplifyThreshold),Ze}(Ge[Ye],V),We=0;We<mt.length;We++)mt[We].x+=k,U.push(mt[We]);k+=me[xe].advanceWidth*this._scale(ne)}Q+=this.parent._renderer._textLeading}return U}},{key:"_getGlyphs",value:function(z){return this.font.stringToGlyphs(z)}},{key:"_getPath",value:function(z,X,Q,ne){var V=(ne&&ne.renderer&&ne.renderer._pInst||this.parent)._renderer;return X=this._handleAlignment(V,z,X,Q),this.font.getPath(z,X.x,X.y,V._textSize,ne)}},{key:"_getPathData",value:function(z,R,Q,ne){var V=3;return"string"==typeof z&&2<arguments.length?z=this._getPath(z,R,Q,ne):"object"===C(R)&&(ne=R),ne&&"number"==typeof ne.decimals&&(V=ne.decimals),z.toPathData(V)}},{key:"_getSVG",value:function(z,R,Q,ne){var V=3;return"string"==typeof z&&2<arguments.length?z=this._getPath(z,R,Q,ne):"object"===C(R)&&(ne=R),ne&&("number"==typeof ne.decimals&&(V=ne.decimals),"number"==typeof ne.strokeWidth&&(z.strokeWidth=ne.strokeWidth),void 0!==ne.fill&&(z.fill=ne.fill),void 0!==ne.stroke&&(z.stroke=ne.stroke)),z.toSVG(V)}},{key:"_renderPath",value:function(U,K,ie,ne){var V=ne&&ne.renderer||this.parent._renderer,X=V.drawingContext,F=(U=("object"===C(U)&&U.commands?U:this._getPath(U,K,ie,ne)).commands,V._clipping||X.beginPath(),!0);K=!1,ie=void 0;try{for(var Te,q=U[Symbol.iterator]();!(F=(Te=q.next()).done);F=!0){var k=Te.value;"M"===k.type?X.moveTo(k.x,k.y):"L"===k.type?X.lineTo(k.x,k.y):"C"===k.type?X.bezierCurveTo(k.x1,k.y1,k.x2,k.y2,k.x,k.y):"Q"===k.type?X.quadraticCurveTo(k.x1,k.y1,k.x,k.y):"Z"===k.type&&X.closePath()}}catch(ee){K=!0,ie=ee}finally{try{F||null==q.return||q.return()}finally{if(K)throw ie}}return V._doStroke&&V._strokeSet&&!V._clipping&&X.stroke(),V._doFill&&!V._clipping&&(V._fillSet||V._setFill(g._DEFAULT_TEXT_FILL),X.fill()),this}},{key:"_textWidth",value:function(z,R){return this.font.getAdvanceWidth(z,R)}},{key:"_textAscent",value:function(z){return this.font.ascender*this._scale(z)}},{key:"_textDescent",value:function(z){return-this.font.descender*this._scale(z)}},{key:"_scale",value:function(z){return 1/this.font.unitsPerEm*(z||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(z,R,Q,ne,V){var X=z._textSize;switch(void 0===V&&(V=this._textWidth(R,X)),z._textAlign){case g.CENTER:Q-=V/2;break;case g.RIGHT:Q-=V}switch(z._textBaseline){case g.TOP:ne+=this._textAscent(X);break;case g.CENTER:ne+=this._textAscent(X)/2;break;case g.BOTTOM:ne-=this._textDescent(X)}return{x:Q,y:ne}}}])&&E(T.prototype,N),A}(),H.default=o=w.default},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(o,oe,H){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.append=function(v,w){return v.push(w),v},o.default.prototype.arrayCopy=function(v,w,g,y,C){var E,s;v=void 0!==C?(s=Math.min(C,v.length),E=y,v.slice(w,s+w)):(s=void 0!==g?(s=g,Math.min(s,v.length)):v.length,g=w,v.slice(E=0,s)),Array.prototype.splice.apply(g,[E,s].concat(v))},o.default.prototype.concat=function(v,w){return v.concat(w)},o.default.prototype.reverse=function(v){return v.reverse()},o.default.prototype.shorten=function(v){return v.pop(),v},o.default.prototype.shuffle=function(v,w){for(var g,y,C=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v),E=(v=w||C?v:v.slice()).length;1<E;)g=this.random(0,1)*E|0,y=v[--E],v[E]=v[g],v[g]=y;return v},o.default.prototype.sort=function(v,y){var g=y?v.slice(0,Math.min(y,v.length)):v;return y=y?v.slice(Math.min(y,v.length)):[],(g="string"==typeof g[0]?g.sort():g.sort(function(C,E){return C-E})).concat(y)},o.default.prototype.splice=function(v,w,g){return Array.prototype.splice.apply(v,[g,0].concat(w)),v},o.default.prototype.subset=function(v,w,g){return v.slice(w,void 0!==g?w+g:v.length)},H.default=o=o.default},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(o,oe,H){"use strict";o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.float=function(w){return w instanceof Array?w.map(parseFloat):parseFloat(w)},v.default.prototype.int=function(w){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return w===1/0||"Infinity"===w?1/0:w===-1/0||"-Infinity"===w?-1/0:"string"==typeof w?parseInt(w,g):"number"==typeof w?0|w:"boolean"==typeof w?w?1:0:w instanceof Array?w.map(function(y){return v.default.prototype.int(y,g)}):void 0},v.default.prototype.str=function(w){return w instanceof Array?w.map(v.default.prototype.str):String(w)},v.default.prototype.boolean=function(w){return"number"==typeof w?0!==w:"string"==typeof w?"true"===w.toLowerCase():"boolean"==typeof w?w:w instanceof Array?w.map(v.default.prototype.boolean):void 0},v.default.prototype.byte=function(w){return"number"==typeof(w=v.default.prototype.int(w,10))?(w+128)%256-128:w instanceof Array?w.map(v.default.prototype.byte):void 0},v.default.prototype.char=function(w){return"number"!=typeof w||isNaN(w)?w instanceof Array?w.map(v.default.prototype.char):"string"==typeof w?v.default.prototype.char(parseInt(w,10)):void 0:String.fromCharCode(w)},v.default.prototype.unchar=function(w){return"string"==typeof w&&1===w.length?w.charCodeAt(0):w instanceof Array?w.map(v.default.prototype.unchar):void 0},v.default.prototype.hex=function(w,g){if(g=null==g?8:g,w instanceof Array)return w.map(function(C){return v.default.prototype.hex(C,g)});if(w===1/0||w===-1/0)return(w===1/0?"F":"0").repeat(g);if("number"==typeof w){w<0&&(w=4294967295+w+1);for(var y=Number(w).toString(16).toUpperCase();y.length<g;)y="0".concat(y);return y.length>=g?y.substring(y.length-g,y.length):y}},v.default.prototype.unhex=function(w){return w instanceof Array?w.map(v.default.prototype.unhex):parseInt("0x".concat(w),16)},H.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(o,oe,H){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.pad-start"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.pad-start"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(s=o("../core/main"))&&s.__esModule?s:{default:s};function w(u,a){return function(d){if(Array.isArray(d))return d}(u)||function(d,p){if(Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d)){var l=[],m=!0,c=!1,h=void 0;try{for(var _,M=d[Symbol.iterator]();!(m=(_=M.next()).done)&&(l.push(_.value),!p||l.length!==p);m=!0);}catch(x){c=!0,h=x}finally{try{m||null==M.return||M.return()}finally{if(c)throw h}}return l}}(u,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(u,a,d){var p=(l=w(u.toString().split("."),2))[0],l=l[1];return void 0===d?(p=p.padStart(a,"0"),l?p+"."+l:p):(p=(u=w(u.toFixed(d).toString().split("."),2))[0],l=u[1],p=p.padStart(a,"0"),void 0===l?p:p+"."+l)}function y(l,a){var d=(l=l.toString()).indexOf("."),p=-1!==d?l.substring(d):"";if(l=(l=-1!==d?l.substring(0,d):l).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===a)p="";else if(void 0!==a)if(a>p.length)for(var m=a-(p+=-1===d?".":"").length+1,c=0;c<m;c++)p+="0";else p=p.substring(0,a+1);return l+p}function C(u){return 0<parseFloat(u)?"+".concat(u.toString()):u.toString()}function E(u){return 0<=parseFloat(u)?" ".concat(u.toString()):u.toString()}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),v.default.prototype.join=function(u,a){return v.default._validateParameters("join",arguments),u.join(a)},v.default.prototype.match=function(u,a){return v.default._validateParameters("match",arguments),u.match(a)},v.default.prototype.matchAll=function(u,a){v.default._validateParameters("matchAll",arguments);for(var d=new RegExp(a,"g"),p=d.exec(u),l=[];null!==p;)l.push(p),p=d.exec(u);return l},v.default.prototype.nf=function(u,a,d){return v.default._validateParameters("nf",arguments),u instanceof Array?u.map(function(p){return g(p,a,d)}):"[object Arguments]"===Object.prototype.toString.call(u)?3===u.length?this.nf(u[0],u[1],u[2]):2===u.length?this.nf(u[0],u[1]):this.nf(u[0]):g(u,a,d)},v.default.prototype.nfc=function(u,a){return v.default._validateParameters("nfc",arguments),u instanceof Array?u.map(function(d){return y(d,a)}):y(u,a)},v.default.prototype.nfp=function(){for(var u=arguments.length,a=new Array(u),d=0;d<u;d++)a[d]=arguments[d];v.default._validateParameters("nfp",a);var p=v.default.prototype.nf.apply(this,a);return p instanceof Array?p.map(C):C(p)},v.default.prototype.nfs=function(){for(var u=arguments.length,a=new Array(u),d=0;d<u;d++)a[d]=arguments[d];v.default._validateParameters("nfs",a);var p=v.default.prototype.nf.apply(this,a);return p instanceof Array?p.map(E):E(p)},v.default.prototype.split=function(u,a){return v.default._validateParameters("split",arguments),u.split(a)},v.default.prototype.splitTokens=function(u,a){var d,p;return v.default._validateParameters("splitTokens",arguments),p=void 0!==a?(p=/\]/g.exec(a),(d=/\[/g.exec(a))&&p?(a=a.slice(0,p.index)+a.slice(p.index+1),d=/\[/g.exec(a),a=a.slice(0,d.index)+a.slice(d.index+1),new RegExp("[\\[".concat(a,"\\]]"),"g")):p?(a=a.slice(0,p.index)+a.slice(p.index+1),new RegExp("[".concat(a,"\\]]"),"g")):d?(a=a.slice(0,d.index)+a.slice(d.index+1),new RegExp("[".concat(a,"\\[]"),"g")):new RegExp("[".concat(a,"]"),"g")):/\s/g,u.split(p).filter(function(l){return l})},v.default.prototype.trim=function(u){return v.default._validateParameters("trim",arguments),u instanceof Array?u.map(this.trim):u.trim()};var s=v.default;H.default=s},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(o,oe,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.day=function(){return(new Date).getDate()},o.default.prototype.hour=function(){return(new Date).getHours()},o.default.prototype.minute=function(){return(new Date).getMinutes()},o.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},o.default.prototype.month=function(){return(new Date).getMonth()+1},o.default.prototype.second=function(){return(new Date).getSeconds()},o.default.prototype.year=function(){return(new Date).getFullYear()},H.default=o=o.default},{"../core/main":283}],326:[function(o,oe,H){"use strict";function v(u){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(u)}function w(u){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(u)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=(s=o("../core/main"))&&s.__esModule?s:{default:s},y=(o("./p5.Geometry"),function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==w(u)&&"function"!=typeof u)return{default:u};var a=C();if(a&&a.has(u))return a.get(u);var d,p={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in u){var m;Object.prototype.hasOwnProperty.call(u,d)&&((m=l?Object.getOwnPropertyDescriptor(u,d):null)&&(m.get||m.set)?Object.defineProperty(p,d,m):p[d]=u[d])}return p.default=u,a&&a.set(u,p),p}(o("../core/constants")));function C(){var u;return"function"!=typeof WeakMap?null:(C=function(){return u},u=new WeakMap)}function E(u,a,d,p,l,m,c){u=u<=0?1:u,a=a<0?0:a,d=d<=0?u:d,p=p<3?3:p;for(var h,_,M=(m=void 0===m||m)?-2:0,x=(l=l<1?1:l)+((c=void 0===c?0!==a:c)?2:0),A=Math.atan2(u-a,d),T=Math.sin(A),N=Math.cos(A),I=M;I<=x;++I){var z=I/l,R=d*z,Q=void 0;for(Q=I<0?(z=R=0,u):l<I?(R=d,z=1,a):u+(a-u)*z,-2!==I&&I!==l+2||(Q=0),R-=d/2,h=0;h<p;++h){var ne=h/(p-1),X=2*Math.PI*ne,V=Math.sin(X),U=(X=Math.cos(X),this.vertices.push(new g.default.Vector(V*Q,R,X*Q)));U=I<0?new g.default.Vector(0,-1,0):l<I&&a?new g.default.Vector(0,1,0):new g.default.Vector(V*N,T,X*N),this.vertexNormals.push(U),this.uvs.push(ne,z)}}var F=0;if(m){for(_=0;_<p;++_)this.faces.push([F+_,F+p+(_+1)%p,F+p+_]);F+=2*p}for(I=0;I<l;++I){for(h=0;h<p;++h){var K=(h+1)%p;this.faces.push([F+h,F+K,F+p+K]),this.faces.push([F+h,F+p+K,F+p+h])}F+=p}if(c)for(F+=p,h=0;h<p;++h)this.faces.push([F+h,F+(h+1)%p,F+p])}g.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},g.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},g.default.prototype.buildGeometry=function(u){return this._renderer.buildGeometry(u)},g.default.prototype.freeGeometry=function(u){this._renderer._freeBuffers(u.gid)},g.default.prototype.plane=function(){var u,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=(this._assert3d("plane"),g.default._validateParameters("plane",arguments),"plane|".concat(p,"|").concat(l));return this._renderer.geometryInHash(m)||((u=new g.default.Geometry(p,l,function(){for(var c,h,_=0;_<=this.detailY;_++)for(var M=_/this.detailY,x=0;x<=this.detailX;x++)h=new g.default.Vector((c=x/this.detailX)-.5,M-.5,0),this.vertices.push(h),this.uvs.push(c,M)})).computeFaces().computeNormals(),p<=1&&l<=1?u._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(m,u)),this._renderer.drawBuffersScaled(m,a,d,1),this},g.default.prototype.box=function(u,a,d,p,l){this._assert3d("box"),g.default._validateParameters("box",arguments),void 0===u&&(u=50),void 0===a&&(a=u),void 0===d&&(d=a);var m,c=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return void 0===l&&(l=c?1:4),c="box|".concat(p=void 0===p?c?1:4:p,"|").concat(l),this._renderer.geometryInHash(c)||((m=new g.default.Geometry(p,l,function(){var h=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(_,M){M*=4;for(var x=0;x<4;x++){var A=new g.default.Vector((2*(1&(A=_[x]))-1)/2,((2&A)-1)/2,((4&A)/2-1)/2);h.vertices.push(A),h.uvs.push(1&x,(2&x)/2)}h.faces.push([M,1+M,2+M]),h.faces.push([2+M,1+M,3+M])})})).computeNormals(),p<=4&&l<=4?m._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(c,m)),this._renderer.drawBuffersScaled(c,u,a,d),this},g.default.prototype.sphere=function(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:24,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16;return this._assert3d("sphere"),g.default._validateParameters("sphere",arguments),this.ellipsoid(u,u,u,a,d),this},g.default.prototype.cylinder=function(){var u,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],c=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],h=(this._assert3d("cylinder"),g.default._validateParameters("cylinder",arguments),"cylinder|".concat(p,"|").concat(l,"|").concat(m,"|").concat(c));return this._renderer.geometryInHash(h)||(u=new g.default.Geometry(p,l),E.call(u,1,1,1,p,l,m,c),p<=24&&l<=16?u._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(h,u)),this._renderer.drawBuffersScaled(h,a,d,a),this},g.default.prototype.cone=function(){var u,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],c=(this._assert3d("cone"),g.default._validateParameters("cone",arguments),"cone|".concat(p,"|").concat(l,"|").concat(m));return this._renderer.geometryInHash(c)||(u=new g.default.Geometry(p,l),E.call(u,1,0,1,p,l,m,!1),p<=24&&l<=16?u._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(c,u)),this._renderer.drawBuffersScaled(c,a,d,a),this},g.default.prototype.ellipsoid=function(){var u,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:a,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:24,m=4<arguments.length&&void 0!==arguments[4]?arguments[4]:16,c=(this._assert3d("ellipsoid"),g.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(l,"|").concat(m));return this._renderer.geometryInHash(c)||((u=new g.default.Geometry(l,m,function(){for(var h=0;h<=this.detailY;h++)for(var _=h/this.detailY,M=Math.PI*_-Math.PI/2,x=Math.cos(M),A=Math.sin(M),T=0;T<=this.detailX;T++){var N=T/this.detailX,z=2*Math.PI*N,I=Math.cos(z);z=Math.sin(z),z=new g.default.Vector(x*z,A,x*I),this.vertices.push(z),this.vertexNormals.push(z),this.uvs.push(N,_)}})).computeFaces(),l<=24&&m<=24?u._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(c,u)),this._renderer.drawBuffersScaled(c,a,d,p),this},g.default.prototype.torus=function(u,c,d,p){if(this._assert3d("torus"),g.default._validateParameters("torus",arguments),void 0===u)u=50;else if(!u)return;if(void 0===c)c=10;else if(!c)return;void 0===d&&(d=24),void 0===p&&(p=16);var l,m=(c/u).toPrecision(4);return c="torus|".concat(m,"|").concat(d,"|").concat(p),this._renderer.geometryInHash(c)||((l=new g.default.Geometry(d,p,function(){for(var h=0;h<=this.detailY;h++)for(var _=h/this.detailY,M=2*Math.PI*_,x=Math.cos(M),A=Math.sin(M),T=1+m*x,N=0;N<=this.detailX;N++){var I=N/this.detailX,z=2*Math.PI*I,Q=Math.cos(z),R=(z=Math.sin(z),new g.default.Vector(T*Q,T*z,m*A));Q=new g.default.Vector(x*Q,x*z,A),this.vertices.push(R),this.vertexNormals.push(Q),this.uvs.push(I,_)}})).computeFaces(),d<=24&&p<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(c,l)),this._renderer.drawBuffersScaled(c,u,u,u),this},g.default.RendererGL.prototype.point=function(u,a){var d=[];return d.push(new g.default.Vector(u,a,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)),this._drawPoints(d,this.immediateMode.buffers.point),this},g.default.RendererGL.prototype.triangle=function(c){var a=c[0],d=c[1],p=c[2],l=c[3],m=c[4],h=(c=c[5],this.geometryInHash("tri")||((h=new g.default.Geometry(1,1,function(){var x=[];x.push(new g.default.Vector(0,0,0)),x.push(new g.default.Vector(1,0,0)),x.push(new g.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=x,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),h.computeNormals(),this.createBuffers("tri",h)),this.uModelMatrix.copy());try{var _=Math.sign(a*l-p*d+p*c-m*l+m*d-a*c),M=new g.default.Matrix([p-a,l-d,0,0,m-a,c-d,0,0,0,0,_,0,a,d,0,1]).mult(this.uModelMatrix);this.uModelMatrix=M,this.drawBuffers("tri")}finally{this.uModelMatrix=h}return this},g.default.RendererGL.prototype.ellipse=function(u){this.arc(u[0],u[1],u[2],u[3],0,y.TWO_PI,y.OPEN,u[4])},g.default.RendererGL.prototype.arc=function(){var u,a=arguments.length<=0?void 0:arguments[0],d=arguments.length<=1?void 0:arguments[1],p=arguments.length<=2?void 0:arguments[2],l=arguments.length<=3?void 0:arguments[3],m=arguments.length<=4?void 0:arguments[4],c=arguments.length<=5?void 0:arguments[5],h=arguments.length<=6?void 0:arguments[6],_=(arguments.length<=7?void 0:arguments[7])||25,M=(Math.abs(c-m)>=y.TWO_PI?"".concat(x="ellipse","|"):"".concat(x="arc","|").concat(m,"|").concat(c,"|").concat(h,"|")).concat(_,"|"),x=(this.geometryInHash(M)||((u=new g.default.Geometry(_,1,function(){if(m.toFixed(10)!==c.toFixed(10)){h!==y.PIE&&void 0!==h||(this.vertices.push(new g.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var A=0;A<=_;A++){var N=A/_*(c-m)+m,T=.5+Math.cos(N)/2;N=.5+Math.sin(N)/2,this.vertices.push(new g.default.Vector(T,N,0)),this.uvs.push([T,N]),A<_-1&&(this.faces.push([0,A+1,A+2]),this.edges.push([A+1,A+2]))}switch(h){case y.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case y.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case y.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),_<=50?u._edgesToVertices(u):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(x," with more than 50 detail")),this.createBuffers(M,u)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([a,d,0]),this.uModelMatrix.scale(p,l,1),this.drawBuffers(M)}finally{this.uModelMatrix=x}return this},g.default.RendererGL.prototype.rect=function(u){var a=u[0],d=u[1],p=u[2],l=u[3];if(void 0===u[4]){var h=this._pInst._glAttributes.perPixelLighting,m=u[4]||(h?1:24),c=u[5]||(h?1:16),_=(h="rect|".concat(m,"|").concat(c),this.geometryInHash(h)||((_=new g.default.Geometry(m,c,function(){for(var U=0;U<=this.detailY;U++)for(var F=U/this.detailY,K=0;K<=this.detailX;K++){var ie=K/this.detailX,Te=new g.default.Vector(ie,F,0);this.vertices.push(Te),this.uvs.push(ie,F)}0<m&&0<c&&(this.edges=[[0,m],[m,(m+1)*(c+1)-1],[(m+1)*(c+1)-1,(m+1)*c],[(m+1)*c,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(h,_)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([a,d,0]),this.uModelMatrix.scale(p,l,1),this.drawBuffers(h)}finally{this.uModelMatrix=_}}else{h=u[4],_=void 0===u[5]?h:u[5];var M=void 0===u[6]?_:u[6],z=(u=void 0===u[7]?M:u[7],p),x=l,A=((z+=a)<a&&(N=a,a=z,z=N),(x+=d)<d&&(N=d,d=x,x=N),(N=Math.min((z-a)/2,(x-d)/2))<h&&(h=N),N<_&&(_=N),N<M&&(M=N),N<u&&(u=N),a),T=d,N=z,I=(a=x,this.beginShape(),0!==_?(this.vertex(N-_,T),this.quadraticVertex(N,T,N,T+_)):this.vertex(N,T),0!==M?(this.vertex(N,a-M),this.quadraticVertex(N,a,N-M,a)):this.vertex(N,a),0!==u?(this.vertex(A+u,a),this.quadraticVertex(A,a,A,a-u)):this.vertex(A,a),0!==h?(this.vertex(A,T+h),this.quadraticVertex(A,T,A+h,T)):this.vertex(A,T),!(this.immediateMode.geometry.uvs.length=0));d=!1,z=void 0;try{for(var R,Q=this.immediateMode.geometry.vertices[Symbol.iterator]();!(I=(R=Q.next()).done);I=!0){var ne=R.value;this.immediateMode.geometry.uvs.push((ne.x-A)/p,(ne.y-T)/l)}}catch(q){d=!0,z=q}finally{try{I||null==Q.return||Q.return()}finally{if(d)throw z}}this.endShape(y.CLOSE)}return this},g.default.RendererGL.prototype.quad=function(u,a,d,p,l,m,c,h,_,M,x,A){var T=12<arguments.length&&void 0!==arguments[12]?arguments[12]:2,N=13<arguments.length&&void 0!==arguments[13]?arguments[13]:2,I="quad|".concat(u,"|").concat(a,"|").concat(d,"|").concat(p,"|").concat(l,"|").concat(m,"|").concat(c,"|").concat(h,"|").concat(_,"|").concat(M,"|").concat(x,"|").concat(A,"|").concat(T,"|").concat(N);if(!this.geometryInHash(I)){var z=new g.default.Geometry(T,N,function(){for(var K=1/(this.detailX-1),ie=1/(this.detailY-1),Te=0;Te<this.detailY;Te++)for(var q=0;q<this.detailX;q++){var k=q*K,ee=Te*ie;this.vertices.push(new g.default.Vector((1-k)*((1-ee)*u+ee*M)+k*((1-ee)*p+ee*c),(1-k)*((1-ee)*a+ee*x)+k*((1-ee)*l+ee*h),(1-k)*((1-ee)*d+ee*A)+k*((1-ee)*m+ee*_))),this.uvs.push([k,ee])}});z.faces=[];for(var R=0;R<N-1;R++)for(var Q=0;Q<T-1;Q++){var ne=Q+R*T,V=Q+1+(R+1)*T,X=Q+(R+1)*T;z.faces.push([ne,Q+1+R*T,V]),z.faces.push([ne,V,X])}z.computeNormals();for(var U=[z.edges.length=0,2,3,1],F=0;F<U.length;F++)z.edges.push([U[F],U[(F+1)%U.length]]);z._edgesToVertices(),this.createBuffers(I,z)}return this.drawBuffers(I),this},g.default.RendererGL.prototype.bezier=function(u,a,d,p,l,m,c,h,_,M,x,A){8===arguments.length&&(x=h,M=c,h=m,c=l,l=p,p=d,d=m=_=A=0);var T=this._pInst._bezierDetail||20;this.beginShape();for(var N=0;N<=T;N++){var I=Math.pow(1-N/T,3),z=N/T*3*Math.pow(1-N/T,2),R=3*Math.pow(N/T,2)*(1-N/T),Q=Math.pow(N/T,3);this.vertex(u*I+p*z+c*R+M*Q,a*I+l*z+h*R+x*Q,d*I+m*z+_*R+A*Q)}return this.endShape(),this},g.default.RendererGL.prototype.curve=function(u,a,d,p,l,m,c,h,_,M,x,A){8===arguments.length&&(M=c,x=h,c=l,h=p,l=p=d,d=m=_=A=0);var T=this._pInst._curveDetail;this.beginShape();for(var N=0;N<=T;N++){var I=.5*Math.pow(N/T,3),z=.5*Math.pow(N/T,2),R=N/T*.5;this.vertex(I*(3*p-u-3*c+M)+z*(2*u-5*p+4*c-M)+R*(-u+c)+2*p*.5,I*(3*l-a-3*h+x)+z*(2*a-5*l+4*h-x)+R*(-a+h)+2*l*.5,I*(3*m-d-3*_+A)+z*(2*d-5*m+4*_-A)+R*(-d+_)+2*m*.5)}return this.endShape(),this},g.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(y.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(y.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},g.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var u,a,d,p,l,m,c=[],h=[],_=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var M=1/this._lutBezierDetail,x=0,A=1,T=0;x<1;){if(m=parseFloat(x.toFixed(6)),this._lookUpTableBezier[T]=this._bezierCoefficients(m),A.toFixed(6)===M.toFixed(6)){m=parseFloat(A.toFixed(6))+parseFloat(x.toFixed(6)),++T,this._lookUpTableBezier[T]=this._bezierCoefficients(m);break}x+=M,A-=M,++T}}for(var N=this._lookUpTableBezier.length,I=[],z=0;z<4;z++)I.push([]);I[0]=this.immediateMode.geometry.vertexColors.slice(-4),I[3]=this.curFillColor.slice();var R=[];for(z=0;z<4;z++)R.push([]);if(R[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),R[3]=this.curStrokeColor.slice(),6===_){this.isBezier=!0,c=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],h=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var Q=Math.hypot(c[0]-c[1],h[0]-h[1]),V=Math.hypot(c[1]-c[2],h[1]-h[2]),ne=Math.hypot(c[2]-c[3],h[2]-h[3]);for(Q/=V=Q+V+ne,ne/=V,l=0;l<4;l++)I[1].push(I[0][l]*(1-Q)+I[3][l]*Q),I[2].push(I[0][l]*ne+I[3][l]*(1-ne)),R[1].push(R[0][l]*(1-Q)+R[3][l]*Q),R[2].push(R[0][l]*ne+R[3][l]*(1-ne));for(p=0;p<N;p++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],z=u=a=0;z<4;z++){for(l=0;l<4;l++)this.curFillColor[l]+=this._lookUpTableBezier[p][z]*I[z][l],this.curStrokeColor[l]+=this._lookUpTableBezier[p][z]*R[z][l];u+=c[z]*this._lookUpTableBezier[p][z],a+=h[z]*this._lookUpTableBezier[p][z]}this.vertex(u,a)}this.curFillColor=I[3],this.curStrokeColor=R[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===_){this.isBezier=!0,c=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],h=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var X=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],U=Math.hypot(c[0]-c[1],h[0]-h[1],X[0]-X[1]),F=(V=Math.hypot(c[1]-c[2],h[1]-h[2],X[1]-X[2]),Math.hypot(c[2]-c[3],h[2]-h[3],X[2]-X[3]));for(U/=_=U+V+F,F/=_,l=0;l<4;l++)I[1].push(I[0][l]*(1-U)+I[3][l]*U),I[2].push(I[0][l]*F+I[3][l]*(1-F)),R[1].push(R[0][l]*(1-U)+R[3][l]*U),R[2].push(R[0][l]*F+R[3][l]*(1-F));for(p=0;p<N;p++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],z=u=a=d=0;z<4;z++){for(l=0;l<4;l++)this.curFillColor[l]+=this._lookUpTableBezier[p][z]*I[z][l],this.curStrokeColor[l]+=this._lookUpTableBezier[p][z]*R[z][l];u+=c[z]*this._lookUpTableBezier[p][z],a+=h[z]*this._lookUpTableBezier[p][z],d+=X[z]*this._lookUpTableBezier[p][z]}this.vertex(u,a,d)}this.curFillColor=I[3],this.curStrokeColor=R[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},g.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var u,a,d,p,l,m,c=[],h=[],_=arguments.length;if(0===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var M=1/this._lutQuadraticDetail,x=0,A=1,T=0;x<1;){if(m=parseFloat(x.toFixed(6)),this._lookUpTableQuadratic[T]=this._quadraticCoefficients(m),A.toFixed(6)===M.toFixed(6)){m=parseFloat(A.toFixed(6))+parseFloat(x.toFixed(6)),++T,this._lookUpTableQuadratic[T]=this._quadraticCoefficients(m);break}x+=M,A-=M,++T}}for(var N=this._lookUpTableQuadratic.length,I=[],z=0;z<3;z++)I.push([]);I[0]=this.immediateMode.geometry.vertexColors.slice(-4),I[2]=this.curFillColor.slice();var R=[];for(z=0;z<3;z++)R.push([]);if(R[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),R[2]=this.curStrokeColor.slice(),4===_){this.isQuadratic=!0,c=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],h=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var Q=Math.hypot(c[0]-c[1],h[0]-h[1]);for(Q/=Q+Math.hypot(c[1]-c[2],h[1]-h[2]),l=0;l<4;l++)I[1].push(I[0][l]*(1-Q)+I[2][l]*Q),R[1].push(R[0][l]*(1-Q)+R[2][l]*Q);for(p=0;p<N;p++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],z=u=a=0;z<3;z++){for(l=0;l<4;l++)this.curFillColor[l]+=this._lookUpTableQuadratic[p][z]*I[z][l],this.curStrokeColor[l]+=this._lookUpTableQuadratic[p][z]*R[z][l];u+=c[z]*this._lookUpTableQuadratic[p][z],a+=h[z]*this._lookUpTableQuadratic[p][z]}this.vertex(u,a)}this.curFillColor=I[2],this.curStrokeColor=R[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===_){this.isQuadratic=!0,c=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],h=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var ne=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],V=Math.hypot(c[0]-c[1],h[0]-h[1],ne[0]-ne[1]);for(V/=V+Math.hypot(c[1]-c[2],h[1]-h[2],ne[1]-ne[2]),l=0;l<4;l++)I[1].push(I[0][l]*(1-V)+I[2][l]*V),R[1].push(R[0][l]*(1-V)+R[2][l]*V);for(p=0;p<N;p++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],z=u=a=d=0;z<3;z++){for(l=0;l<4;l++)this.curFillColor[l]+=this._lookUpTableQuadratic[p][z]*I[z][l],this.curStrokeColor[l]+=this._lookUpTableQuadratic[p][z]*R[z][l];u+=c[z]*this._lookUpTableQuadratic[p][z],a+=h[z]*this._lookUpTableQuadratic[p][z],d+=ne[z]*this._lookUpTableQuadratic[p][z]}this.vertex(u,a,d)}this.curFillColor=I[2],this.curStrokeColor=R[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},g.default.RendererGL.prototype.curveVertex=function(){var u,l,m,c=[],h=[],_=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var M=1/this._lutBezierDetail,x=0,A=1,T=0;x<1;){if(m=parseFloat(x.toFixed(6)),this._lookUpTableBezier[T]=this._bezierCoefficients(m),A.toFixed(6)===M.toFixed(6)){m=parseFloat(A.toFixed(6))+parseFloat(x.toFixed(6)),++T,this._lookUpTableBezier[T]=this._bezierCoefficients(m);break}x+=M,A-=M,++T}}var N=this._lookUpTableBezier.length;if(2===_){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,c=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),h=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),l=0;l<N;l++)this.vertex(c[0]*this._lookUpTableBezier[l][0]+c[1]*this._lookUpTableBezier[l][1]+c[2]*this._lookUpTableBezier[l][2]+c[3]*this._lookUpTableBezier[l][3],h[0]*this._lookUpTableBezier[l][0]+h[1]*this._lookUpTableBezier[l][1]+h[2]*this._lookUpTableBezier[l][2]+h[3]*this._lookUpTableBezier[l][3]);for(l=0;l<_;l++)this.immediateMode._curveVertex.shift()}}else if(3===_&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,c=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),h=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),u=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),l=0;l<N;l++)this.vertex(c[0]*this._lookUpTableBezier[l][0]+c[1]*this._lookUpTableBezier[l][1]+c[2]*this._lookUpTableBezier[l][2]+c[3]*this._lookUpTableBezier[l][3],h[0]*this._lookUpTableBezier[l][0]+h[1]*this._lookUpTableBezier[l][1]+h[2]*this._lookUpTableBezier[l][2]+h[3]*this._lookUpTableBezier[l][3],u[0]*this._lookUpTableBezier[l][0]+u[1]*this._lookUpTableBezier[l][1]+u[2]*this._lookUpTableBezier[l][2]+u[3]*this._lookUpTableBezier[l][3]);for(l=0;l<_;l++)this.immediateMode._curveVertex.shift()}},g.default.RendererGL.prototype.image=function(u,A,d,T,l,m,c,h,_){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(u),this._pInst.textureMode(y.NORMAL);var M=0,x=(A<=u.width&&(M=A/u.width),1);A+T<=u.width&&(x=(A+T)/u.width),A=0,d<=u.height&&(A=d/u.height),T=1,d+l<=u.height&&(T=(d+l)/u.height),this.beginShape(),this.vertex(m,c,0,M,A),this.vertex(m+h,c,0,x,A),this.vertex(m+h,c+_,0,x,T),this.vertex(m,c+_,0,M,T),this.endShape(y.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(y.REMOVE)};var s=g.default;H.default=s},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(o,oe,H){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}function w(a){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.assign"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=(u=o("../core/main"))&&u.__esModule?u:{default:u},y=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==w(a)&&"function"!=typeof a)return{default:a};var d=C();if(d&&d.has(a))return d.get(a);var p,l={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in a){var c;Object.prototype.hasOwnProperty.call(a,p)&&((c=m?Object.getOwnPropertyDescriptor(a,p):null)&&(c.get||c.set)?Object.defineProperty(l,p,c):l[p]=a[p])}return l.default=a,d&&d.set(a,l),l}(o("../core/constants"));function C(){var a;return"function"!=typeof WeakMap?null:(C=function(){return a},a=new WeakMap)}function E(a){return function(d){if(Array.isArray(d)){for(var p=0,l=new Array(d.length);p<d.length;p++)l[p]=d[p];return l}}(a)||function(d){if(Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d))return Array.from(d)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(a,d){for(var p=0;p<d.length;p++){var l=d[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,l.key,l)}}var u=function(){function a(m){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");(this.renderer=m)._pInst.push(),this.identityMatrix=new g.default.Matrix,m.uModelMatrix=new g.default.Matrix,this.geometry=new g.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(a.nextGeometryId),a.nextGeometryId++,this.hasTransform=!1}var d,p;return d=a,(p=[{key:"transformVertices",value:function(m){var c=this;return this.hasTransform?m.map(function(h){return c.renderer.uModelMatrix.multiplyPoint(h)}):m}},{key:"transformNormals",value:function(m){var c=this;return this.hasTransform?m.map(function(h){return c.renderer.uNMatrix.multiplyVec3(h)}):m}},{key:"addGeometry",value:function(m){for(var c,h=this,_=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(x,A){return x===h.identityMatrix.mat4[A]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),M=((c=this.geometry.vertices).push.apply(c,E(this.transformVertices(m.vertices))),(c=this.geometry.vertexNormals).push.apply(c,E(this.transformNormals(m.vertexNormals))),(c=this.geometry.uvs).push.apply(c,E(m.uvs)),this.renderer._doFill&&(c=this.geometry.faces).push.apply(c,E(m.faces.map(function(x){return x.map(function(A){return A+_})}))),this.renderer._doStroke&&(c=this.geometry.edges).push.apply(c,E(m.edges.map(function(x){return x.map(function(A){return A+_})}))),E(m.vertexColors));M.length<4*m.vertices.length;)M.push.apply(M,E(this.renderer.curFillColor));(c=this.geometry.vertexColors).push.apply(c,E(M))}},{key:"addImmediate",value:function(){var m=this.renderer.immediateMode.geometry,c=this.renderer.immediateMode.shapeMode,h=[];if(this.renderer._doFill)if(c===y.TRIANGLE_STRIP||c===y.QUAD_STRIP)for(var _=2;_<m.vertices.length;_++)h.push(_%2==0?[_,_-1,_-2]:[_,_-2,_-1]);else if(c===y.TRIANGLE_FAN)for(var M=2;M<m.vertices.length;M++)h.push([0,M-1,M]);else for(var x=0;x<m.vertices.length;x+=3)h.push([x,x+1,x+2]);this.addGeometry(Object.assign({},m,{faces:h}))}},{key:"addRetained",value:function(m){this.addGeometry(m.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&s(d.prototype,p),a}();u.nextGeometryId=0,H.default=u},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(o,oe,H){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var w=(E=o("../core/main"))&&E.__esModule?E:{default:E},g=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==C(s)&&"function"!=typeof s)return{default:s};var u=y();if(u&&u.has(s))return u.get(s);var a,d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var l;Object.prototype.hasOwnProperty.call(s,a)&&((l=p?Object.getOwnPropertyDescriptor(s,a):null)&&(l.get||l.set)?Object.defineProperty(d,a,l):d[a]=s[a])}return d.default=s,u&&u.set(s,d),d}(o("../core/constants"));function y(){var s;return"function"!=typeof WeakMap?null:(y=function(){return s},s=new WeakMap)}function C(s){return(C="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(s)}w.default.prototype.orbitControl=function(s,u,a,_){var p=this,l=(this._assert3d("orbitControl"),w.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);void 0===s&&(s=1),void 0===u&&(u=s),void 0===a&&(a=1),"object"!==C(_)&&(_={}),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var x=_.disableTouchActions;!0===this.touchActionsDisabled||void 0!==x&&!x||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0)),_=void 0!==(x=_.freeRotation)&&x;var m,c,h,M=[],A=(this.touches.forEach(function(Q){p._renderer.prevTouches.forEach(function(ne){Q.id===ne.id&&M.push(ne={x:Q.x,y:Q.y,px:ne.x,py:ne.y})})}),this._renderer.prevTouches=this.touches,x=0,0),T=0,N=0,I=0,z=this.height<this.width?this.height:this.width,R=!1;return 0<M.length?(R=0<M[0].x&&M[0].x<this.width&&0<M[0].y&&M[0].y<this.height,1===M.length?(A=-s*((m=M[0]).x-m.px)/z,T=u*(m.y-m.py)/z):(m=M[0],c=M[1],x=-(Math.hypot(m.x-c.x,m.y-c.y)-Math.hypot(m.px-c.px,m.py-c.py))*a*4e-4,N=.5*(m.x+c.x)-.5*(m.px+c.px),I=.5*(m.y+c.y)-.5*(m.py+c.py)),0<this.touches.length?R&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(R=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,0!==this._mouseWheelDeltaY?(x=Math.sign(this._mouseWheelDeltaY)*a,x*=.01,this._mouseWheelDeltaY=0,R&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(A=-s*this.movedX/z,T=u*this.movedY/z):this.mouseButton===this.RIGHT&&(N=this.movedX,I=this.movedY*l.yScale),R&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),0!==x&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=x),.001<Math.abs(this._renderer.zoomVelocity)?(_?l._orbitFree(0,0,this._renderer.zoomVelocity):l._orbit(0,0,this._renderer.zoomVelocity),0!==l.projMatrix.mat4[15]&&(l.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),l.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=l.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=l.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,0===A&&0===T||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*A,.6*T),1e-6<this._renderer.rotateVelocity.magSq()?(_?l._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):l._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),0===N&&0===I||!this._renderer.executeRotateAndMove||this._renderer.moveVelocity.add(.15*(m=2*N/this.width),.15*(c=2*-I/this.height)),1e-6<this._renderer.moveVelocity.magSq()?(a=l._getLocalAxes(),s=l.eyeX-l.centerX,u=l.eyeY-l.centerY,z=l.eyeZ-l.centerZ,R=Math.sqrt(s*s+u*u+z*z),x=new w.default.Vector(l.centerX,l.centerY,l.centerZ),x=l.cameraMatrix.multiplyPoint(x),(x=this._renderer.uPMatrix.multiplyAndNormalizePoint(x)).x-=this._renderer.moveVelocity.x,x.y-=this._renderer.moveVelocity.y,T=0===(A=this._renderer.uPMatrix.mat4)[15]?(h=(A[8]+x.x)/A[0]*R,(A[9]+x.y)/A[5]*R):(h=(x.x-A[12])/A[0],(x.y-A[13])/A[5]),l.setPosition(l.eyeX+h*a.x[0]+T*a.y[0],l.eyeY+h*a.x[1]+T*a.y[1],l.eyeZ+h*a.x[2]+T*a.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},w.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var s=arguments.length,u=new Array(s),a=0;a<s;a++)u[a]=arguments[a];w.default._validateParameters("debugMode",u);for(var d=this._registeredMethods.post.length-1;0<=d;d--)this._registeredMethods.post[d].toString()!==this._grid().toString()&&this._registeredMethods.post[d].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(d,1);u[0]===g.GRID?this.registerMethod("post",this._grid(u[1],u[2],u[3],u[4],u[5])):u[0]===g.AXES?this.registerMethod("post",this._axesIcon(u[1],u[2],u[3],u[4])):(this.registerMethod("post",this._grid(u[0],u[1],u[2],u[3],u[4])),this.registerMethod("post",this._axesIcon(u[5],u[6],u[7],u[8])))},w.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var s=this._registeredMethods.post.length-1;0<=s;s--)this._registeredMethods.post[s].toString()!==this._grid().toString()&&this._registeredMethods.post[s].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(s,1)},w.default.prototype._grid=function(s,u,a,d,p){void 0===s&&(s=this.width/2),void 0===u&&(u=Math.round(s/30)<4?4:Math.round(s/30)),void 0===a&&(a=0),void 0===d&&(d=0),void 0===p&&(p=0);var l=s/u,m=s/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var c=0;c<=u;c++)this.beginShape(this.LINES),this.vertex(-m+a,d,c*l-m+p),this.vertex(m+a,d,c*l-m+p),this.endShape();for(var h=0;h<=u;h++)this.beginShape(this.LINES),this.vertex(h*l-m+a,d,-m+p),this.vertex(h*l-m+a,d,m+p),this.endShape();this.pop()}},w.default.prototype._axesIcon=function(s,u,a,d){return void 0===s&&(s=40<this.width/20?this.width/20:40),void 0===u&&(u=-this.width/4),void 0===a&&(a=u),void 0===d&&(d=u),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(u,a,d),this.vertex(u+s,a,d),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(u,a,d),this.vertex(u,a+s,d),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(u,a,d),this.vertex(u,a,d+s),this.endShape(),this.pop()}};var E=w.default;H.default=E},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(o,oe,H){"use strict";o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.ambientLight=function(w,g,y,C){this._assert3d("ambientLight"),v.default._validateParameters("ambientLight",arguments);var E=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(E._array[0],E._array[1],E._array[2]),this._renderer._enableLighting=!0,this},v.default.prototype.specularColor=function(w,g,y){this._assert3d("specularColor"),v.default._validateParameters("specularColor",arguments);var C=this.color.apply(this,arguments);return this._renderer.specularColors=[C._array[0],C._array[1],C._array[2]],this},v.default.prototype.directionalLight=function(w,p,d,C,E,s){var u,a;return this._assert3d("directionalLight"),v.default._validateParameters("directionalLight",arguments),w=w instanceof v.default.Color?w:this.color(w,p,d),d="number"==typeof(p=arguments[arguments.length-1])?(u=arguments[arguments.length-3],a=arguments[arguments.length-2],arguments[arguments.length-1]):(u=p.x,a=p.y,p.z),p=Math.sqrt(u*u+a*a+d*d),this._renderer.directionalLightDirections.push(u/p,a/p,d/p),this._renderer.directionalLightDiffuseColors.push(w._array[0],w._array[1],w._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},v.default.prototype.pointLight=function(w,d,p,C,E,s){var u,a;return this._assert3d("pointLight"),v.default._validateParameters("pointLight",arguments),w=w instanceof v.default.Color?w:this.color(w,d,p),p="number"==typeof(d=arguments[arguments.length-1])?(u=arguments[arguments.length-3],a=arguments[arguments.length-2],arguments[arguments.length-1]):(u=d.x,a=d.y,d.z),this._renderer.pointLightPositions.push(u,a,p),this._renderer.pointLightDiffuseColors.push(w._array[0],w._array[1],w._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},v.default.prototype.imageLight=function(w){this._renderer.activeImageLight=w,this._renderer._enableLighting=!0},v.default.prototype.panorama=function(w){this.filter(this._renderer._getSphereMapping(w))},v.default.prototype.lights=function(){this._assert3d("lights");var w=this.color("rgb(128,128,128)");return this.ambientLight(w),this.directionalLight(w,0,0,-1),this},v.default.prototype.lightFalloff=function(w,g,y){return this._assert3d("lightFalloff"),v.default._validateParameters("lightFalloff",arguments),w<0&&(w=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),g<0&&(g=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),y<0&&(y=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===w&&0===g&&0===y&&(w=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=w,this._renderer.linearAttenuation=g,this._renderer.quadraticAttenuation=y,this},v.default.prototype.spotLight=function(w,g,y,C,E,s,u,a,d,p,l){this._assert3d("spotLight"),v.default._validateParameters("spotLight",arguments);var m,c,h,_=arguments.length;switch(_){case 11:case 10:m=this.color(w,g,y),c=new v.default.Vector(C,E,s),h=new v.default.Vector(u,a,d);break;case 9:w instanceof v.default.Color?(m=w,c=new v.default.Vector(g,y,C),h=new v.default.Vector(E,s,u),p=a,l=d):C instanceof v.default.Vector?(m=this.color(w,g,y),c=C,h=new v.default.Vector(E,s,u),p=a,l=d):u instanceof v.default.Vector?(m=this.color(w,g,y),c=new v.default.Vector(C,E,s),h=u,p=a,l=d):(m=this.color(w,g,y),c=new v.default.Vector(C,E,s),h=new v.default.Vector(u,a,d));break;case 8:h=w instanceof v.default.Color?(m=w,c=new v.default.Vector(g,y,C),new v.default.Vector(E,s,u)):C instanceof v.default.Vector?(m=this.color(w,g,y),c=C,new v.default.Vector(E,s,u)):(m=this.color(w,g,y),c=new v.default.Vector(C,E,s),u),p=a;break;case 7:w instanceof v.default.Color&&g instanceof v.default.Vector?(m=w,c=g,h=new v.default.Vector(y,C,E),p=s,l=u):w instanceof v.default.Color&&E instanceof v.default.Vector?(m=w,c=new v.default.Vector(g,y,C),h=E,p=s,l=u):C instanceof v.default.Vector&&E instanceof v.default.Vector?(m=this.color(w,g,y),c=C,h=E,p=s,l=u):h=w instanceof v.default.Color?(m=w,c=new v.default.Vector(g,y,C),new v.default.Vector(E,s,u)):C instanceof v.default.Vector?(m=this.color(w,g,y),c=C,new v.default.Vector(E,s,u)):(m=this.color(w,g,y),c=new v.default.Vector(C,E,s),u);break;case 6:C instanceof v.default.Vector&&E instanceof v.default.Vector?(m=this.color(w,g,y),c=C,h=E,p=s):w instanceof v.default.Color&&E instanceof v.default.Vector?(m=w,c=new v.default.Vector(g,y,C),h=E,p=s):w instanceof v.default.Color&&g instanceof v.default.Vector&&(m=w,c=g,h=new v.default.Vector(y,C,E),p=s);break;case 5:w instanceof v.default.Color&&g instanceof v.default.Vector&&y instanceof v.default.Vector?(m=w,c=g,h=y,p=C,l=E):C instanceof v.default.Vector&&E instanceof v.default.Vector?(m=this.color(w,g,y),c=C,h=E):w instanceof v.default.Color&&E instanceof v.default.Vector?(m=w,c=new v.default.Vector(g,y,C),h=E):w instanceof v.default.Color&&g instanceof v.default.Vector&&(m=w,c=g,h=new v.default.Vector(y,C,E));break;case 4:m=w,c=g,h=y,p=C;break;case 3:m=w,c=g,h=y;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(_<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(m._array[0],m._array[1],m._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(c.x,c.y,c.z),h.normalize(),this._renderer.spotLightDirections.push(h.x,h.y,h.z),void 0===p&&(p=Math.PI/3),void 0!==l&&l<1?(l=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===l&&(l=100),p=this._renderer._pInst._toRadians(p),this._renderer.spotLightAngle.push(Math.cos(p)),this._renderer.spotLightConc.push(l),this._renderer._enableLighting=!0,this},v.default.prototype.noLights=function(){this._assert3d("noLights");for(var w=arguments.length,g=new Array(w),y=0;y<w;y++)g[y]=arguments[y];return v.default._validateParameters("noLights",g),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},H.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(o,oe,H){"use strict";function v(u){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(u)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0,o("regenerator-runtime/runtime");var w=(s=o("../core/main"))&&s.__esModule?s:{default:s};function g(u){return function(a){if(Array.isArray(a)){for(var d=0,p=new Array(a.length);d<a.length;d++)p[d]=a[d];return p}}(u)||function(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(u,a,d,p,l,m,c){try{var h=u[m](c),_=h.value}catch(M){return void d(M)}h.done?a(_):Promise.resolve(_).then(p,l)}function C(u){return function(){var a=this,d=arguments;return new Promise(function(p,l){var m=u.apply(a,d);function c(_){y(m,p,l,c,h,"next",_)}function h(_){y(m,p,l,c,h,"throw",_)}c(void 0)})}}function E(u){return(E="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(u)}o("./p5.Geometry"),w.default.prototype.loadModel=function(u,a){w.default._validateParameters("loadModel",arguments);var d,p,T,l=!1,m=!1,c=!1,h=u.slice(-4),_=(a&&"object"===E(a)?(l=a.normalize||!1,d=a.successCallback,p=a.failureCallback,h=a.fileType||h,m=a.flipU||!1,c=a.flipV||!1):"boolean"==typeof a?(l=a,d=arguments[2],p=arguments[3],void 0!==arguments[4]&&(h=arguments[4])):(d="function"==typeof a?a:void 0,p=arguments[2],void 0!==arguments[3]&&(h=arguments[3])),new w.default.Geometry),M=(_.gid="".concat(u,"|").concat(l),this);function x(){return(x=C(j.mark(function T(N){var I,z,R,Q;return j.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:for(I=[],z=0;z<N.length;z++)(R=N[z].match(/^mtllib (.+)/))&&function(){var V,X=R[1],U=u.split("/");V=1<U.length?(U.pop(),U.join("/")+"/"+X):X,I.push(function(){return A.apply(this,arguments)}(V).then(function(F){return F?(K=M,ie=V,new Promise(function(Te,q){var k=null,ee={};K.loadStrings(ie,function(me){for(var xe=0;xe<me.length;++xe){var Ye=me[xe].trim().split(/\s+/);"newmtl"===Ye[0]?ee[k=Ye[1]]={}:"Kd"===Ye[0]?ee[k].diffuseColor=[parseFloat(Ye[1]),parseFloat(Ye[2]),parseFloat(Ye[3])]:"Ka"===Ye[0]?ee[k].ambientColor=[parseFloat(Ye[1]),parseFloat(Ye[2]),parseFloat(Ye[3])]:"Ks"===Ye[0]?ee[k].specularColor=[parseFloat(Ye[1]),parseFloat(Ye[2]),parseFloat(Ye[3])]:"map_Kd"===Ye[0]&&(ee[k].texturePath=Ye[1])}Te(ee)},q)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(V)),{});var K,ie}).catch(function(F){return console.warn("Error loading MTL file: ".concat(V),F),{}}))}();return ne.prev=2,ne.next=5,Promise.all(I);case 5:return Q=ne.sent,Q=Object.assign.apply(Object,[{}].concat(g(Q))),ne.abrupt("return",Q);case 10:return ne.prev=10,ne.t0=ne.catch(2),ne.abrupt("return",{});case 13:case"end":return ne.stop()}},T,null,[[2,10]])}))).apply(this,arguments)}function A(){return(A=C(j.mark(function T(N){return j.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.prev=0,z.next=3,fetch(N,{method:"HEAD"});case 3:return z.abrupt("return",z.sent.ok);case 7:return z.prev=7,z.t0=z.catch(0),z.abrupt("return",!1);case 10:case"end":return z.stop()}},T,null,[[0,7]])}))).apply(this,arguments)}return h.match(/\.stl$/i)?this.httpDo(u,"GET","arrayBuffer",function(T){(function(N,I){if(function(z){for(var R=new DataView(z),Q=[115,111,108,105,100],ne=0;ne<5;ne++)if(function(V,X,U){for(var F=0,K=V.length;F<K;F++)if(V[F]!==X.getUint8(U+F,!1))return;return 1}(Q,R,ne))return;return 1}(I))!function(z,R){for(var Q,ne,V,X,U,F,K,ie=new DataView(R),Te=ie.getUint32(80,!0),q=!1,k=0;k<70;k++)1129270351===ie.getUint32(k,!1)&&82===ie.getUint8(k+4)&&61===ie.getUint8(k+5)&&(q=!0,X=[],U=ie.getUint8(k+6)/255,F=ie.getUint8(k+7)/255,K=ie.getUint8(k+8)/255);for(var ee=0;ee<Te;ee++){for(var me,xe=84+50*ee,Ge=ie.getFloat32(xe,!0),Ye=ie.getFloat32(4+xe,!0),mt=ie.getFloat32(8+xe,!0),We=(q&&(V=32768&(me=ie.getUint16(48+xe,!0))?(Q=U,ne=F,K):(Q=(31&me)/31,ne=(me>>5&31)/31,(me>>10&31)/31)),new w.default.Vector(Ge,Ye,mt)),ct=1;ct<=3;ct++){var dt=new w.default.Vector(ie.getFloat32(dt=xe+12*ct,!0),ie.getFloat32(4+dt,!0),ie.getFloat32(8+dt,!0));z.vertices.push(dt),z.vertexNormals.push(We),q&&X.push(Q,ne,V)}z.faces.push([3*ee,3*ee+1,3*ee+2]),z.uvs.push([0,0],[0,0],[0,0])}}(N,I);else{if(I=new DataView(I),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");!function(z,R){for(var Q,ne,V="",X=[],U=0;U<R.length;++U){for(var F=R[U].trim(),K=F.split(" "),ie=0;ie<K.length;++ie)""===K[ie]&&K.splice(ie,1);if(0!==K.length)switch(V){case"":if("solid"!==K[0])return console.error(F),console.error('Invalid state "'.concat(K[0],'", should be "solid"'));V="solid";break;case"solid":if("facet"!==K[0]||"normal"!==K[1])return console.error(F),console.error('Invalid state "'.concat(K[0],'", should be "facet normal"'));Q=new w.default.Vector(parseFloat(K[2]),parseFloat(K[3]),parseFloat(K[4])),z.vertexNormals.push(Q,Q,Q),V="facet normal";break;case"facet normal":if("outer"!==K[0]||"loop"!==K[1])return console.error(F),console.error('Invalid state "'.concat(K[0],'", should be "outer loop"'));V="vertex";break;case"vertex":if("vertex"===K[0])ne=new w.default.Vector(parseFloat(K[1]),parseFloat(K[2]),parseFloat(K[3])),z.vertices.push(ne),z.uvs.push([0,0]),X.push(z.vertices.indexOf(ne));else{if("endloop"!==K[0])return console.error(F),console.error('Invalid state "'.concat(K[0],'", should be "vertex" or "endloop"'));z.faces.push(X),X=[],V="endloop"}break;case"endloop":if("endfacet"!==K[0])return console.error(F),console.error('Invalid state "'.concat(K[0],'", should be "endfacet"'));V="endfacet";break;case"endfacet":if("endsolid"!==K[0]){if("facet"!==K[0]||"normal"!==K[1])return console.error(F),console.error('Invalid state "'.concat(K[0],'", should be "endsolid" or "facet normal"'));Q=new w.default.Vector(parseFloat(K[2]),parseFloat(K[3]),parseFloat(K[4])),z.vertexNormals.push(Q,Q,Q),V="facet normal"}break;default:console.error('Invalid state "'.concat(V,'"'))}}}(N,I=new TextDecoder("utf-8").decode(I).split("\n"))}})(_,T),l&&_.normalize(),m&&_.flipU(),c&&_.flipV(),M._decrementPreload(),"function"==typeof d&&d(_)},p):h.match(/\.obj$/i)?this.loadStrings(u,(T=C(j.mark(function N(I){return j.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.prev=0,R.next=3,function(){return x.apply(this,arguments)}(I);case 3:(function(Q,ne){for(var V=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},X={v:[],vt:[],vn:[]},U={},F=null,K=new Set,ie=!1,Te=!1,q=0;q<ne.length;++q){var k=ne[q].trim().split(/\b\s+/);if(0<k.length)if("usemtl"===k[0])F=k[1];else if("v"===k[0]||"vn"===k[0]){var ee=new w.default.Vector(parseFloat(k[1]),parseFloat(k[2]),parseFloat(k[3]));X[k[0]].push(ee)}else if("vt"===k[0])ee=[parseFloat(k[1]),1-parseFloat(k[2])],X[k[0]].push(ee);else if("f"===k[0])for(var me=3;me<k.length;++me){for(var xe=[],Ge=[1,me-1,me],Ye=0;Ye<Ge.length;++Ye){for(var mt,We=k[Ge[Ye]],ct=We.split("/"),dt=0;dt<ct.length;dt++)ct[dt]=parseInt(ct[dt])-1;U[We]||(U[We]={}),void 0===U[We][F]?(mt=Q.vertices.length,Q.vertices.push(X.v[ct[0]].copy()),Q.uvs.push(X.vt[ct[1]]?X.vt[ct[1]].slice():[0,0]),Q.vertexNormals.push(X.vn[ct[2]]?X.vn[ct[2]].copy():new w.default.Vector),U[We][F]=mt,xe.push(mt),F&&V[F]&&V[F].diffuseColor&&K.add(X.v[ct[0]])):xe.push(U[We][F])}if(xe[0]!==xe[1]&&xe[0]!==xe[2]&&xe[1]!==xe[2])if(Q.faces.push(xe),F&&V[F]&&V[F].diffuseColor){ie=ie=!0;for(var Ve=V[F].diffuseColor,Qe=0;Qe<xe.length;Qe++)Q.vertexColors.push(Ve[0]),Q.vertexColors.push(Ve[1]),Q.vertexColors.push(Ve[2])}else Te=!0}}if(0===Q.vertexNormals.length&&Q.computeNormals(),ie===Te)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")})(_,I,R.sent),R.next=11;break;case 7:return R.prev=7,R.t0=R.catch(0),p?p(R.t0):w.default._friendlyError("Error during parsing: "+R.t0.message),R.abrupt("return");case 11:return R.prev=11,l&&_.normalize(),m&&_.flipU(),c&&_.flipV(),M._decrementPreload(),"function"==typeof d&&d(_),R.finish(11);case 18:case"end":return R.stop()}},N,null,[[0,7,11,18]])})),function(N){return T.apply(this,arguments)}),p):(w.default._friendlyFileLoadError(3,u),p?p():w.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),_},w.default.prototype.model=function(u){this._assert3d("model"),w.default._validateParameters("model",arguments),0<u.vertices.length&&(this._renderer.geometryInHash(u.gid)||(0===u.edges.length&&u._makeTriangleEdges(),u._edgesToVertices(),this._renderer.createBuffers(u.gid,u)),this._renderer.drawBuffers(u.gid))};var s=w.default;H.default=s},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(o,oe,H){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(s)}function w(s){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=(E=o("../core/main"))&&E.__esModule?E:{default:E},y=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==w(s)&&"function"!=typeof s)return{default:s};var u=C();if(u&&u.has(s))return u.get(s);var a,d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var l;Object.prototype.hasOwnProperty.call(s,a)&&((l=p?Object.getOwnPropertyDescriptor(s,a):null)&&(l.get||l.set)?Object.defineProperty(d,a,l):d[a]=s[a])}return d.default=s,u&&u.set(s,d),d}(o("../core/constants"));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}o("./p5.Texture"),g.default.prototype.loadShader=function(s,u,a,d){function p(){m._decrementPreload(),a&&a(l)}g.default._validateParameters("loadShader",arguments),d=d||console.error;var l=new g.default.Shader,m=this,c=!1,h=!1;return this.loadStrings(s,function(_){l._vertSrc=_.join("\n"),h=!0,c&&p()},d),this.loadStrings(u,function(_){l._fragSrc=_.join("\n"),c=!0,h&&p()},d),l},g.default.prototype.createShader=function(s,u){return g.default._validateParameters("createShader",arguments),new g.default.Shader(this._renderer,s,u)},g.default.prototype.createFilterShader=function(s){g.default._validateParameters("createFilterShader",arguments);var u=s.includes("#version 300 es")?"#version 300 es\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    in vec3 aPosition;\n    in vec2 aTexCoord;\n    out vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ":"\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    attribute vec3 aPosition;\n    // texcoords only come from p5 to vertex shader\n    // so pass texcoords on to the fragment shader in a varying variable\n    attribute vec2 aTexCoord;\n    varying vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ";return(u=new g.default.Shader(this._renderer,u,s)).ensureCompiledOnContext(this._renderer.GL?this:this._renderer.getFilterGraphicsLayer()),u},g.default.prototype.shader=function(s){return this._assert3d("shader"),g.default._validateParameters("shader",arguments),s.ensureCompiledOnContext(this),s.isStrokeShader()?this._renderer.userStrokeShader=s:(this._renderer.userFillShader=s,this._renderer._useNormalMaterial=!1),this},g.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},g.default.prototype.texture=function(s){return this._assert3d("texture"),g.default._validateParameters("texture",arguments),s.gifProperties&&s._animateGif(this),this._renderer.drawMode=y.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=s,this._renderer._setProperty("_doFill",!0),this},g.default.prototype.textureMode=function(s){s!==y.IMAGE&&s!==y.NORMAL?console.warn("You tried to set ".concat(s," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=s},g.default.prototype.textureWrap=function(s){var u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s,a=(this._renderer.textureWrapX=s,this._renderer.textureWrapY=u,!0),d=!1,p=void 0;try{for(var l,m=this._renderer.textures.values()[Symbol.iterator]();!(a=(l=m.next()).done);a=!0)l.value.setWrapMode(s,u)}catch(c){d=!0,p=c}finally{try{a||null==m.return||m.return()}finally{if(d)throw p}}},g.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var s=arguments.length,u=new Array(s),a=0;a<s;a++)u[a]=arguments[a];return g.default._validateParameters("normalMaterial",u),this._renderer.drawMode=y.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},g.default.prototype.ambientMaterial=function(s,u,a){this._assert3d("ambientMaterial"),g.default._validateParameters("ambientMaterial",arguments);var d=g.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=d._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},g.default.prototype.emissiveMaterial=function(s,u,a,d){this._assert3d("emissiveMaterial"),g.default._validateParameters("emissiveMaterial",arguments);var p=g.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=p._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},g.default.prototype.specularMaterial=function(s,u,a,d){this._assert3d("specularMaterial"),g.default._validateParameters("specularMaterial",arguments);var p=g.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=p._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},g.default.prototype.shininess=function(s){return this._assert3d("shininess"),g.default._validateParameters("shininess",arguments),this._renderer._useShininess=s=s<1?1:s,this},g.default.prototype.metalness=function(s){return this._assert3d("metalness"),s=1-Math.exp(-s/100),this._renderer._useMetalness=s,this},g.default.RendererGL.prototype._applyColorBlend=function(s,p){var a=this.GL;return(p=p||this.userFillShader||this.userStrokeShader||this.userPointShader||this.drawMode===y.TEXTURE||this.curBlendMode!==y.BLEND||s[s.length-1]<1||this._isErasing)!==this._isBlending&&(p||this.curBlendMode!==y.BLEND&&this.curBlendMode!==y.ADD?a.enable(a.BLEND):a.disable(a.BLEND),a.depthMask(!0),this._isBlending=p),this._applyBlendMode(),s},g.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var s=this.GL;switch(this.curBlendMode){case y.BLEND:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA);break;case y.ADD:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ONE);break;case y.REMOVE:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ZERO,s.ONE_MINUS_SRC_ALPHA);break;case y.MULTIPLY:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.DST_COLOR,s.ONE_MINUS_SRC_ALPHA);break;case y.SCREEN:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_COLOR);break;case y.EXCLUSION:s.blendEquationSeparate(s.FUNC_ADD,s.FUNC_ADD),s.blendFuncSeparate(s.ONE_MINUS_DST_COLOR,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE);break;case y.REPLACE:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ZERO);break;case y.SUBTRACT:s.blendEquationSeparate(s.FUNC_REVERSE_SUBTRACT,s.FUNC_ADD),s.blendFuncSeparate(s.ONE,s.ONE,s.ONE,s.ONE_MINUS_SRC_ALPHA);break;case y.DARKEST:this.blendExt?(s.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,s.FUNC_ADD),s.blendFuncSeparate(s.ONE,s.ONE,s.ONE,s.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case y.LIGHTEST:this.blendExt?(s.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,s.FUNC_ADD),s.blendFuncSeparate(s.ONE,s.ONE,s.ONE,s.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var E=g.default;H.default=E},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(o,oe,H){"use strict";o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.string.sub"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function w(g,y){for(var C=0;C<y.length;C++){var E=y[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(g,E.key,E)}}v.default.prototype.camera=function(){var g;this._assert3d("camera");for(var y=arguments.length,C=new Array(y),E=0;E<y;E++)C[E]=arguments[E];return v.default._validateParameters("camera",C),(g=this._renderer._curCamera).camera.apply(g,C),this},v.default.prototype.perspective=function(){var g;this._assert3d("perspective");for(var y=arguments.length,C=new Array(y),E=0;E<y;E++)C[E]=arguments[E];return v.default._validateParameters("perspective",C),(g=this._renderer._curCamera).perspective.apply(g,C),this},v.default.prototype.linePerspective=function(g){if(v.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof v.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(void 0===g)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=g},v.default.prototype.ortho=function(){var g;this._assert3d("ortho");for(var y=arguments.length,C=new Array(y),E=0;E<y;E++)C[E]=arguments[E];return v.default._validateParameters("ortho",C),(g=this._renderer._curCamera).ortho.apply(g,C),this},v.default.prototype.frustum=function(){var g;this._assert3d("frustum");for(var y=arguments.length,C=new Array(y),E=0;E<y;E++)C[E]=arguments[E];return v.default._validateParameters("frustum",C),(g=this._renderer._curCamera).frustum.apply(g,C),this},v.default.prototype.createCamera=function(){this._assert3d("createCamera");var g=new v.default.Camera(this._renderer);return g._computeCameraDefaultSettings(),g._setDefaultCamera(),this._renderer._curCamera=g},v.default.Camera=function(){function g(s){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this._renderer=s,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new v.default.Matrix,this.projMatrix=new v.default.Matrix,this.yScale=1}var y,C;return y=g,(C=[{key:"perspective",value:function(p,u,a,d){this.cameraType=0<arguments.length?"custom":"default",this.cameraFOV=void 0===p?p=this.defaultCameraFOV:this._renderer._pInst._toRadians(p),void 0===u&&(u=this.defaultAspectRatio),void 0===a&&(a=this.defaultCameraNear),void 0===d&&(d=this.defaultCameraFar),a<=1e-4&&(a=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),d<a&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=u,this.cameraNear=a,this.cameraFar=d,this.projMatrix=v.default.Matrix.identity(),p=1/Math.tan(this.cameraFOV/2);var l=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(p/u,0,0,0,0,-p*this.yScale,0,0,0,0,(d+a)*l,-1,0,0,2*d*a*l,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(A,x,a,d,p,l){var T=this.fbo||this._renderer,m=(void 0===A&&(A=-T.width/2),void 0===x&&(x=+T.width/2),void 0===a&&(a=-T.height/2),void 0===d&&(d=+T.height/2),void 0===p&&(p=0),void 0===l&&(l=Math.max(T.width,T.height)+800),this.cameraNear=p,T=x-A,d-a),c=(this.cameraFar=l)-p,h=2/T,_=2/m*this.yScale,M=-2/c;x=-(x+A)/T,A=-(d+a)/m,T=-(l+p)/c,this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(h,0,0,0,0,-_,0,0,0,0,M,0,x,A,T,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(A,x,a,d,p,l){void 0===A&&(A=.05*-this._renderer.width),void 0===x&&(x=.05*+this._renderer.width),void 0===a&&(a=.05*+this._renderer.height),void 0===d&&(d=.05*-this._renderer.height),void 0===p&&(p=this.defaultCameraNear),void 0===l&&(l=this.defaultCameraFar),this.cameraNear=p;var T=x-A,m=d-a,c=(this.cameraFar=l)-p,h=2*p/T,_=2*p/m*this.yScale,M=-2*l*p/c;x=(x+A)/T,A=(d+a)/m,T=-(l+p)/c,this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(h,0,0,0,0,-_,0,0,x,A,T,-1,0,0,M,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(h,u,a,d){var p=this.centerX,l=this.centerY,m=this.centerZ,c=(p-=this.eyeX,l-=this.eyeY,m-=this.eyeZ,v.default.Matrix.identity(this._renderer._pInst));(c.rotate(this._renderer._pInst._toRadians(h),u,a,d),h=[p*c.mat4[0]+l*c.mat4[4]+m*c.mat4[8],p*c.mat4[1]+l*c.mat4[5]+m*c.mat4[9],p*c.mat4[2]+l*c.mat4[6]+m*c.mat4[10]])[0]+=this.eyeX,h[1]+=this.eyeY,h[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,h[0],h[1],h[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(a){var u=this._getLocalAxes();a=v.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(a),u.z[0],u.z[1],u.z[2]).rotateVector(new v.default.Vector(this.upX,this.upY,this.upZ)),this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,a.x,a.y,a.z)}},{key:"pan",value:function(s){var u=this._getLocalAxes();this._rotateView(s,u.y[0],u.y[1],u.y[2])}},{key:"tilt",value:function(s){var u=this._getLocalAxes();this._rotateView(s,u.x[0],u.x[1],u.x[2])}},{key:"lookAt",value:function(s,u,a){this.camera(this.eyeX,this.eyeY,this.eyeZ,s,u,a,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(s,u,a,d,p,l,m,c,h){return void 0===s&&(a=this.defaultEyeZ,d=s=this.defaultEyeX,p=u=this.defaultEyeY,c=1,h=m=l=0),this.eyeX=s,this.eyeY=u,this.eyeZ=a,void 0!==d&&(this.centerX=d,this.centerY=p,this.centerZ=l),void 0!==m&&(this.upX=m,this.upY=c,this.upZ=h),d=this._getLocalAxes(),this.cameraMatrix.set(d.x[0],d.y[0],d.z[0],0,d.x[1],d.y[1],d.z[1],0,d.x[2],d.y[2],d.z[2],0,0,0,0,1),this.cameraMatrix.translate([p=-s,-u,-a]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(d,p,a){var l=this._getLocalAxes();this.camera(this.eyeX+(d=[l.x[0]*d,l.x[1]*d,l.x[2]*d])[0]+(p=[l.y[0]*p,l.y[1]*p,l.y[2]*p])[0]+(l=[l.z[0]*a,l.z[1]*a,l.z[2]*a])[0],this.eyeY+d[1]+p[1]+l[1],this.eyeZ+d[2]+p[2]+l[2],this.centerX+d[0]+p[0]+l[0],this.centerY+d[1]+p[1]+l[1],this.centerZ+d[2]+p[2]+l[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(s,u,a){this.camera(s,u,a,this.centerX+(s-this.eyeX),this.centerY+(u-this.eyeY),this.centerZ+(a-this.eyeZ),this.upX,this.upY,this.upZ)}},{key:"set",value:function(s){for(var u=0,a=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];u<a.length;u++){var d=a[u];this[d]=s[d]}this.cameraMatrix=s.cameraMatrix.copy(),this.projMatrix=s.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(s,u,a){var d,p,l,m,c,h,_,M,x,A,T,N,I,z,R,Q,ne,V;0===a?this.set(s):1===a?this.set(u):(0!==this.projMatrix.mat4[15]&&(this.projMatrix.mat4[0]=s.projMatrix.mat4[0]*Math.pow(u.projMatrix.mat4[0]/s.projMatrix.mat4[0],a),this.projMatrix.mat4[5]=s.projMatrix.mat4[5]*Math.pow(u.projMatrix.mat4[5]/s.projMatrix.mat4[5],a),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),m=new v.default.Vector(s.eyeX,s.eyeY,s.eyeZ),c=new v.default.Vector(u.eyeX,u.eyeY,u.eyeZ),Q=new v.default.Vector(s.centerX,s.centerY,s.centerZ),V=new v.default.Vector(u.centerX,u.centerY,u.centerZ),l=v.default.Vector.dist(m,Q),d=v.default.Vector.dist(c,V),d=l*Math.pow(d/l,a),l=v.default.Vector.sub(m,c),p=1,1e-6<(ne=(z=m.copy().sub(c).sub(Q).add(V)).magSq())&&(p=v.default.Vector.dot(l,z)/ne,p=Math.max(0,Math.min(p,1))),l=v.default.Vector.lerp(v.default.Vector.lerp(m,Q,p),v.default.Vector.lerp(c,V,p),a),z=s.cameraMatrix.createSubMatrix3x3(),ne=u.cameraMatrix.createSubMatrix3x3(),m=z.row(2),Q=ne.row(2),c=z.row(1),V=ne.row(1),s=new v.default.Vector,u=new v.default.Vector,h=new v.default.Vector,_=new v.default.Vector,1-(M=.5*((z=(ne=ne.mult3x3(z.copy().transpose3x3())).diagonal())[0]+z[1]+z[2]-1))<1e-7?(s.set(v.default.Vector.lerp(m,Q,a)).normalize(),h.set(s).mult(p*d).add(l),_.set(s).mult((p-1)*d).add(l),u.set(v.default.Vector.lerp(c,V,a)).normalize()):(Q=1/(1-M),V=Math.max(z[0],z[1],z[2]),N=ne.mat3[1]+ne.mat3[3],I=ne.mat3[2]+ne.mat3[6],R=ne.mat3[5]+ne.mat3[7],V=V===z[0]?(A=.5*N*(Q/=x=Math.sqrt((z[0]-M)*Q)),T=.5*I*Q,.5*(ne.mat3[7]-ne.mat3[5])/x):V===z[1]?(T=.5*R*(Q/=A=Math.sqrt((z[1]-M)*Q)),x=.5*N*Q,.5*(ne.mat3[2]-ne.mat3[6])/A):(x=.5*I*(Q/=T=Math.sqrt((z[2]-M)*Q)),A=.5*R*Q,.5*(ne.mat3[3]-ne.mat3[1])/T),N=a*Math.atan2(V,M),I=Math.cos(N),z=Math.sin(N),(V=new v.default.Matrix("mat3",[I+(R=1-I)*x*x,R*(Q=x*A)+z*T,R*(ne=T*x)-z*A,R*Q-z*T,I+R*A*A,R*(a=A*T)+z*x,R*ne+z*A,R*a-z*x,I+R*T*T])).multiplyVec3(m,s),h.set(s).mult(p*d).add(l),_.set(s).mult((p-1)*d).add(l),V.multiplyVec3(c,u)),this.camera(h.x,h.y,h.z,_.x,_.y,_.z,u.x,u.y,u.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){"default"===this.cameraType&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var s=new v.default.Camera(this._renderer);return s.cameraFOV=this.cameraFOV,s.aspectRatio=this.aspectRatio,s.eyeX=this.eyeX,s.eyeY=this.eyeY,s.eyeZ=this.eyeZ,s.centerX=this.centerX,s.centerY=this.centerY,s.centerZ=this.centerZ,s.upX=this.upX,s.upY=this.upY,s.upZ=this.upZ,s.cameraNear=this.cameraNear,s.cameraFar=this.cameraFar,s.cameraType=this.cameraType,s.cameraMatrix=this.cameraMatrix.copy(),s.projMatrix=this.projMatrix.copy(),s.yScale=this.yScale,s}},{key:"_getLocalAxes",value:function(){var _,s=this.eyeX-this.centerX,u=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,m=(0!==(m=Math.sqrt(s*s+u*u+a*a))&&(s/=m,u/=m,a/=m),this.upX),d=(c=this.upY)*a-(h=this.upZ)*u,p=-m*a+h*s,l=m*u-c*s,c=(m=u*l-a*p,-s*l+a*d),h=s*p-u*d;return 0!==(0!==(_=Math.sqrt(d*d+p*p+l*l))&&(d/=_,p/=_,l/=_),_=Math.sqrt(m*m+c*c+h*h))&&(m/=_,c/=_,h/=_),{x:[d,p,l],y:[m,c,h],z:[s,u,a]}}},{key:"_orbit",value:function(s,_,h){var p=this.eyeX-this.centerX,l=this.eyeY-this.centerY,m=this.eyeZ-this.centerZ,d=Math.hypot(p,l,m),c=(p=new v.default.Vector(p,l,m).normalize(),l=new v.default.Vector(this.upX,this.upY,this.upZ).normalize(),m=v.default.Vector.cross(l,p).normalize(),v.default.Vector.cross(m,l));(d=(d*=Math.pow(10,h))<this.cameraNear?this.cameraNear:d)>this.cameraFar&&(d=this.cameraFar),h=Math.acos(Math.max(-1,Math.min(1,v.default.Vector.dot(p,l))))+_,_=s,(h<=0||h>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),l.mult(Math.cos(h)),c.mult(Math.cos(_)*Math.sin(h)),m.mult(Math.sin(_)*Math.sin(h)),p.set(l).add(c).add(m),this.eyeX=d*p.x+this.centerX,this.eyeY=d*p.y+this.centerY,this.eyeZ=d*p.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(h,_,x){var p=this.eyeX-this.centerX,l=this.eyeY-this.centerY,m=this.eyeZ-this.centerZ,d=Math.hypot(p,l,m),c=(p=new v.default.Vector(p,l,m).normalize(),l=new v.default.Vector(this.upX,this.upY,this.upZ),m=v.default.Vector.cross(l,p).normalize(),v.default.Vector.cross(p,m)),A=Math.atan2(_,h),M=(c.mult(Math.sin(A)),m.mult(Math.cos(A)).add(c),A=Math.sqrt(h*h+_*_),c=v.default.Vector.cross(p,m),(d=(d*=Math.pow(10,x))<this.cameraNear?this.cameraNear:d)>this.cameraFar&&(d=this.cameraFar),h=Math.cos(A),_=Math.sin(A),(x=l.dot(p))*h+(A=l.dot(m))*_);x=-x*_+A*h,A=l.dot(c),l.x=M*p.x+x*m.x+A*c.x,l.y=M*p.y+x*m.y+A*c.y,l.z=M*p.z+x*m.z+A*c.z,m.mult(-_),p.mult(h).add(m).mult(d),this.camera(p.x+this.centerX,p.y+this.centerY,p.z+this.centerZ,this.centerX,this.centerY,this.centerZ,l.x,l.y,l.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&w(y.prototype,C),g}(),v.default.prototype.setCamera=function(g){this._renderer._curCamera=g,this._renderer.uPMatrix.set(g.projMatrix),this._renderer.uViewMatrix.set(g.cameraMatrix)},H.default=o=v.default.Camera},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(o,oe,H){"use strict";function v(w,g){for(var y=0;y<g.length;y++){var C=g[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.log2"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.log2"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.DataArray=function(){function w(){var E=0<arguments.length&&void 0!==arguments[0]?arguments[0]:128;if(!(this instanceof w))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(E),this.initialLength=E}var g,y;return g=w,(y=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var E;this.length<this.data.length/2&&(E=1<<Math.ceil(Math.log2(this.length)),(E=new Float32Array(E)).set(this.data.subarray(0,this.length),0),this.data=E)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var E=arguments.length,s=new Array(E),u=0;u<E;u++)s[u]=arguments[u];this.ensureLength(this.length+s.length),this.data.set(s,this.length),this.length+=s.length}},{key:"slice",value:function(E,s){return this.data.slice(E,Math.min(s,this.length))}},{key:"subArray",value:function(E,s){return this.data.subarray(E,Math.min(s,this.length))}},{key:"ensureLength",value:function(E){for(;this.data.length<E;){var s=new Float32Array(2*this.data.length);s.set(this.data,0),this.data=s}}}])&&v(g.prototype,y),w}(),H.default=o=o.default.DataArray},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(T,oe,H){"use strict";function v(N){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(N)}function w(N){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(I){return v(I)}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":v(I)})(N)}T("core-js/modules/es.symbol"),T("core-js/modules/es.symbol.description"),T("core-js/modules/es.symbol.iterator"),T("core-js/modules/es.array.fill"),T("core-js/modules/es.array.includes"),T("core-js/modules/es.array.iterator"),T("core-js/modules/es.object.get-own-property-descriptor"),T("core-js/modules/es.object.get-prototype-of"),T("core-js/modules/es.object.to-string"),T("core-js/modules/es.reflect.construct"),T("core-js/modules/es.reflect.get"),T("core-js/modules/es.regexp.to-string"),T("core-js/modules/es.string.includes"),T("core-js/modules/es.string.iterator"),T("core-js/modules/es.typed-array.float32-array"),T("core-js/modules/es.typed-array.uint8-array"),T("core-js/modules/es.typed-array.uint8-clamped-array"),T("core-js/modules/es.typed-array.copy-within"),T("core-js/modules/es.typed-array.every"),T("core-js/modules/es.typed-array.fill"),T("core-js/modules/es.typed-array.filter"),T("core-js/modules/es.typed-array.find"),T("core-js/modules/es.typed-array.find-index"),T("core-js/modules/es.typed-array.for-each"),T("core-js/modules/es.typed-array.includes"),T("core-js/modules/es.typed-array.index-of"),T("core-js/modules/es.typed-array.iterator"),T("core-js/modules/es.typed-array.join"),T("core-js/modules/es.typed-array.last-index-of"),T("core-js/modules/es.typed-array.map"),T("core-js/modules/es.typed-array.reduce"),T("core-js/modules/es.typed-array.reduce-right"),T("core-js/modules/es.typed-array.reverse"),T("core-js/modules/es.typed-array.set"),T("core-js/modules/es.typed-array.slice"),T("core-js/modules/es.typed-array.some"),T("core-js/modules/es.typed-array.sort"),T("core-js/modules/es.typed-array.subarray"),T("core-js/modules/es.typed-array.to-locale-string"),T("core-js/modules/es.typed-array.to-string"),T("core-js/modules/es.weak-map"),T("core-js/modules/web.dom-collections.iterator"),T("core-js/modules/es.array.fill"),T("core-js/modules/es.array.includes"),T("core-js/modules/es.array.iterator"),T("core-js/modules/es.object.get-prototype-of"),T("core-js/modules/es.object.to-string"),T("core-js/modules/es.string.includes"),T("core-js/modules/es.typed-array.float32-array"),T("core-js/modules/es.typed-array.uint8-array"),T("core-js/modules/es.typed-array.uint8-clamped-array"),T("core-js/modules/es.typed-array.copy-within"),T("core-js/modules/es.typed-array.every"),T("core-js/modules/es.typed-array.fill"),T("core-js/modules/es.typed-array.filter"),T("core-js/modules/es.typed-array.find"),T("core-js/modules/es.typed-array.find-index"),T("core-js/modules/es.typed-array.for-each"),T("core-js/modules/es.typed-array.includes"),T("core-js/modules/es.typed-array.index-of"),T("core-js/modules/es.typed-array.iterator"),T("core-js/modules/es.typed-array.join"),T("core-js/modules/es.typed-array.last-index-of"),T("core-js/modules/es.typed-array.map"),T("core-js/modules/es.typed-array.reduce"),T("core-js/modules/es.typed-array.reduce-right"),T("core-js/modules/es.typed-array.reverse"),T("core-js/modules/es.typed-array.set"),T("core-js/modules/es.typed-array.slice"),T("core-js/modules/es.typed-array.some"),T("core-js/modules/es.typed-array.sort"),T("core-js/modules/es.typed-array.subarray"),T("core-js/modules/es.typed-array.to-locale-string"),T("core-js/modules/es.typed-array.to-string"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=(A=T("../core/main"))&&A.__esModule?A:{default:A},y=function(N){if(N&&N.__esModule)return N;if(null===N||"object"!==w(N)&&"function"!=typeof N)return{default:N};var I=s();if(I&&I.has(N))return I.get(N);var z,R={},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(z in N){var ne;Object.prototype.hasOwnProperty.call(N,z)&&((ne=Q?Object.getOwnPropertyDescriptor(N,z):null)&&(ne.get||ne.set)?Object.defineProperty(R,z,ne):R[z]=N[z])}return R.default=N,I&&I.set(N,R),R}(T("../core/constants")),C=T("./p5.Texture"),E=T("./p5.RendererGL");function s(){var N;return"function"!=typeof WeakMap?null:(s=function(){return N},N=new WeakMap)}function u(N,I){return function(z){if(Array.isArray(z))return z}(N)||function(z,R){if(Symbol.iterator in Object(z)||"[object Arguments]"===Object.prototype.toString.call(z)){var Q=[],ne=!0,V=!1,X=void 0;try{for(var U,F=z[Symbol.iterator]();!(ne=(U=F.next()).done)&&(Q.push(U.value),!R||Q.length!==R);ne=!0);}catch(K){V=!0,X=K}finally{try{ne||null==F.return||F.return()}finally{if(V)throw X}}return Q}}(N,I)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(N,I,z){return I in N?Object.defineProperty(N,I,{value:z,enumerable:!0,configurable:!0,writable:!0}):N[I]=z,N}function d(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")}function p(N,I){for(var z=0;z<I.length;z++){var R=I[z];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(N,R.key,R)}}function l(N,I,z){I&&p(N.prototype,I),z&&p(N,z)}function m(N,I,z){return(m=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(V,Q,ne){if(V=function(X,U){for(;!Object.prototype.hasOwnProperty.call(X,U)&&null!==(X=_(X)););return X}(V,Q))return(V=Object.getOwnPropertyDescriptor(V,Q)).get?V.get.call(ne):V.value})(N,I,z||N)}function c(N,I){return(c=Object.setPrototypeOf||function(z,R){return z.__proto__=R,z})(N,I)}function _(N){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(N)}var M=function(N){var I=R;if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(N&&N.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),N&&c(I,N);var z=function h(N){return function(){var I,z=_(N);if(I=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(I=_(this).constructor,Reflect.construct(z,arguments,I)):z.apply(this,arguments),z=this,!I||"object"!==w(I)&&"function"!=typeof I){if(void 0!==z)return z;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return I}}(R);function R(Q){var ne;return d(this,R),(ne=z.call(this,Q.target._renderer)).fbo=Q,ne.yScale=-1,ne}return l(R,[{key:"_computeCameraDefaultSettings",value:function(){m(_(R.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),R}(g.default.Camera),x=(g.default.FramebufferCamera=M,function(){function N(I,z){d(this,N),this.framebuffer=I,this.property=z}return l(N,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),N}()),A=(g.default.FramebufferTexture=x,function(){function N(I){var z=this,R=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Q=(d(this,N),this.target=I,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=R.format||y.UNSIGNED_BYTE,this.channels=R.channels||(I._renderer._pInst._glAttributes.alpha?y.RGBA:y.RGB),this.useDepth=void 0===R.depth||R.depth,this.depthFormat=R.depthFormat||y.FLOAT,this.textureFiltering=R.textureFiltering||y.LINEAR,this.antialiasSamples=void 0===R.antialias?I._renderer._pInst._glAttributes.antialias?2:0:"number"==typeof R.antialias?R.antialias:R.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&I.webglVersion!==y.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=R.density||I.pixelDensity(),I._renderer.GL);if(this.gl=Q,R.width&&R.height?(ne=I._renderer._adjustDimensions(R.width,R.height),this.width=ne.adjustedWidth,this.height=ne.adjustedHeight,this._autoSized=!1):(void 0===R.width!=(void 0===R.height)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=I.width,this.height=I.height,this._autoSized=!0),this._checkIfFormatsAvailable(),R.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(void 0===R.stencil||R.stencil),this.framebuffer=Q.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=Q.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var ne=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=ne,this.draw(function(){return z.target.clear()})}return l(N,[{key:"resize",value:function(I,z){this._autoSized=!1;var R=this.target._renderer._adjustDimensions(I,z);z=R.adjustedHeight,this.width=I=R.adjustedWidth,this.height=z,this._handleResize()}},{key:"pixelDensity",value:function(I){if(!I)return this.density;this._autoSized=!1,this.density=I,this._handleResize()}},{key:"autoSized",value:function(I){if(void 0===I)return this._autoSized;this._autoSized=I,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var I=this.gl;(this.useDepth&&this.target.webglVersion===y.WEBGL&&!I.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===y.WEBGL&&this.depthFormat===y.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=y.UNSIGNED_INT),[y.UNSIGNED_BYTE,y.FLOAT,y.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=y.UNSIGNED_BYTE),this.useDepth&&![y.UNSIGNED_INT,y.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=y.FLOAT),I=(0,C.checkWebGLCapabilities)(this.target._renderer)).float||this.format!==y.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=y.UNSIGNED_BYTE),this.useDepth&&!I.float&&this.depthFormat===y.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=y.UNSIGNED_INT),I.halfFloat||this.format!==y.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=y.UNSIGNED_BYTE),this.channels===y.RGB&&[y.FLOAT,y.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=y.RGBA)}},{key:"_recreateTextures",value:function(){var I=this.gl,z=(this._updateSize(),I.getParameter(I.TEXTURE_BINDING_2D)),R=I.getParameter(I.FRAMEBUFFER_BINDING);if(!(Q=I.createTexture()))throw new Error("Unable to create color texture");I.bindTexture(I.TEXTURE_2D,Q);var ne=this._glColorFormat();if(I.texImage2D(I.TEXTURE_2D,0,ne.internalFormat,this.width*this.density,this.height*this.density,0,ne.format,ne.type,null),this.colorTexture=Q,I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,Q,0),this.useDepth){var Q;if(!(Q=I.createTexture()))throw new Error("Unable to create depth texture");var V=this._glDepthFormat();I.bindTexture(I.TEXTURE_2D,Q),I.texImage2D(I.TEXTURE_2D,0,V.internalFormat,this.width*this.density,this.height*this.density,0,V.format,V.type,null),I.framebufferTexture2D(I.FRAMEBUFFER,this.useStencil?I.DEPTH_STENCIL_ATTACHMENT:I.DEPTH_ATTACHMENT,I.TEXTURE_2D,Q,0),this.depthTexture=Q}this.antialias&&(this.colorRenderbuffer=I.createRenderbuffer(),I.bindRenderbuffer(I.RENDERBUFFER,this.colorRenderbuffer),I.renderbufferStorageMultisample(I.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,I.getParameter(I.MAX_SAMPLES))),ne.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(V=this._glDepthFormat(),this.depthRenderbuffer=I.createRenderbuffer(),I.bindRenderbuffer(I.RENDERBUFFER,this.depthRenderbuffer),I.renderbufferStorageMultisample(I.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,I.getParameter(I.MAX_SAMPLES))),V.internalFormat,this.width*this.density,this.height*this.density)),I.bindFramebuffer(I.FRAMEBUFFER,this.aaFramebuffer),I.framebufferRenderbuffer(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&I.framebufferRenderbuffer(I.FRAMEBUFFER,this.useStencil?I.DEPTH_STENCIL_ATTACHMENT:I.DEPTH_ATTACHMENT,I.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new x(this,"depthTexture"),this.depthP5Texture=new g.default.Texture(this.target._renderer,this.depth,{minFilter:Q=I.NEAREST,magFilter:Q}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new x(this,"colorTexture"),this.colorP5Texture=new g.default.Texture(this.target._renderer,this.color,{minFilter:ne=this.textureFiltering===y.LINEAR?I.LINEAR:I.NEAREST,magFilter:ne}),this.target._renderer.textures.set(this.color,this.colorP5Texture),I.bindTexture(I.TEXTURE_2D,z),I.bindFramebuffer(I.FRAMEBUFFER,R)}},{key:"_glColorFormat",value:function(){var I,z,R=this.gl,Q=this.format===y.FLOAT?R.FLOAT:this.format===y.HALF_FLOAT?this.target.webglVersion===y.WEBGL2?R.HALF_FLOAT:R.getExtension("OES_texture_half_float").HALF_FLOAT_OES:R.UNSIGNED_BYTE,ne=this.channels===y.RGBA?R.RGBA:R.RGB;return{internalFormat:this.target.webglVersion===y.WEBGL2?(a(z={},R.FLOAT,a({},R.RGBA,R.RGBA32F)),a(z,R.HALF_FLOAT,a({},R.RGBA,R.RGBA16F)),a(z,R.UNSIGNED_BYTE,(a(I={},R.RGBA,R.RGBA8),a(I,R.RGB,R.RGB8),I)),z[Q][ne]):this.format===y.HALF_FLOAT?R.RGBA:ne,format:ne,type:Q}}},{key:"_glDepthFormat",value:function(){var R=this.gl,I=this.useStencil?this.depthFormat===y.FLOAT?R.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===y.WEBGL2?R.UNSIGNED_INT_24_8:R.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===y.FLOAT?R.FLOAT:R.UNSIGNED_INT,z=this.useStencil?R.DEPTH_STENCIL:R.DEPTH_COMPONENT;return{internalFormat:R=this.useStencil?this.depthFormat===y.FLOAT?R.DEPTH32F_STENCIL8:this.target.webglVersion===y.WEBGL2?R.DEPTH24_STENCIL8:R.DEPTH_STENCIL:this.target.webglVersion===y.WEBGL2?this.depthFormat===y.FLOAT?R.DEPTH_COMPONENT32F:R.DEPTH_COMPONENT24:R.DEPTH_COMPONENT,format:z,type:I}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var I=this.depth,z=this.colorRenderbuffer,R=this.depthRenderbuffer,Q=(this._deleteTexture(Q=this.color),I&&this._deleteTexture(I),this.gl);z&&Q.deleteRenderbuffer(z),R&&Q.deleteRenderbuffer(R),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var I=new M(this);return I._computeCameraDefaultSettings(),I._setDefaultCamera(),this.target._renderer._curCamera=I}},{key:"_deleteTexture",value:function(I){this.gl.deleteTexture(I.rawTexture()),this.target._renderer.textures.delete(I)}},{key:"remove",value:function(){var I=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),I.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&I.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&I.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&I.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var I=this.gl;I.bindFramebuffer(I.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var I=this.gl,z=(I.bindFramebuffer(I.READ_FRAMEBUFFER,this.aaFramebuffer),I.bindFramebuffer(I.DRAW_FRAMEBUFFER,this.framebuffer),[[I.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&z.push([I.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var R=0,Q=z;R<Q.length;R++){var V=u(Q[R],2);I.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,V[0],V=V[1])}}}},{key:"end",value:function(){var I=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(I.bindFramebuffer(I.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(I){this.begin(),I(),this.end()}},{key:"loadPixels",value:function(){var I=this.gl,z=this.target._renderer.activeFramebuffer(),R=(I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,E.readPixelsWebGL)(this.pixels,I,this.framebuffer,0,0,this.width*this.density,this.height*this.density,R.format,R.type),I.bindFramebuffer(I.FRAMEBUFFER,z?z._framebufferToBind():null)}},{key:"get",value:function(I,z,R,Q){g.default._validateParameters("p5.Framebuffer.get",arguments);var ne=this._glColorFormat();if(void 0===I&&void 0===z)z=I=0,R=this.width,Q=this.height;else if(void 0===R&&void 0===Q)return(I<0||z<0||I>=this.width||z>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),I=this.target.constrain(I,0,this.width-1),z=this.target.constrain(z,0,this.height-1)),(0,E.readPixelWebGL)(this.gl,this.framebuffer,I*this.density,z*this.density,ne.format,ne.type);I=this.target.constrain(I,0,this.width-1),z=this.target.constrain(z,0,this.height-1),R=this.target.constrain(R,1,this.width-I),Q=this.target.constrain(Q,1,this.height-z);for(var V=(0,E.readPixelsWebGL)(void 0,this.gl,this.framebuffer,I*this.density,z*this.density,R*this.density,Q*this.density,ne.format,ne.type),X=new Uint8ClampedArray(R*Q*this.density*this.density*4),U=(X.fill(255),ne.type===this.gl.RGB?3:4),F=0;F<Q*this.density;F++)for(var K=0;K<R*this.density;K++)for(var ie=0;ie<4;ie++){var q=4*(F*R*this.density+K)+ie;ie<U&&(X[q]=V[4==U?q:(F*R*this.density+K)*U+ie])}return(I=new g.default.Image(R*this.density,Q*this.density)).imageData=I.canvas.getContext("2d").createImageData(I.width,I.height),I.imageData.data.set(X),I.pixels=I.imageData.data,I.updatePixels(),1!==this.density&&I.resize(R,Q),I}},{key:"updatePixels",value:function(){var I=this.gl,z=(this.colorP5Texture.bindTexture(),this._glColorFormat()),R=this.width*this.height*this.density*this.density*(R=z.format===I.RGBA?4:3),Q=z.type===I.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof Q)||this.pixels.length!==R)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");I.texImage2D(I.TEXTURE_2D,0,z.internalFormat,this.width*this.density,this.height*this.density,0,z.format,z.type,this.pixels),this.colorP5Texture.unbindTexture(),Q=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(I.clearDepth(1),I.clear(I.DEPTH_BUFFER_BIT)),this.end()):(I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),this.useDepth&&(I.clearDepth(1),I.clear(I.DEPTH_BUFFER_BIT)),I.bindFramebuffer(I.FRAMEBUFFER,Q?Q._framebufferToBind():null))}}]),N}());T=g.default.Framebuffer=A,H.default=T},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(o,oe,H){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(d)}function w(d){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(p){return v(p)}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":v(p)})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.flat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.unscopables.flat"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.entries"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.flat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.unscopables.flat"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=(a=o("../core/main"))&&a.__esModule?a:{default:a},y=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==w(d)&&"function"!=typeof d)return{default:d};var p=C();if(p&&p.has(d))return p.get(d);var l,m={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in d){var h;Object.prototype.hasOwnProperty.call(d,l)&&((h=c?Object.getOwnPropertyDescriptor(d,l):null)&&(h.get||h.set)?Object.defineProperty(m,l,h):m[l]=d[l])}return m.default=d,p&&p.set(d,m),m}(o("../core/constants"));function C(){var d;return"function"!=typeof WeakMap?null:(C=function(){return d},d=new WeakMap)}function E(d){return function(p){if(Array.isArray(p)){for(var l=0,m=new Array(p.length);l<p.length;l++)m[l]=p[l];return m}}(d)||function(p){if(Symbol.iterator in Object(p)||"[object Arguments]"===Object.prototype.toString.call(p))return Array.from(p)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(d,p){return function(l){if(Array.isArray(l))return l}(d)||function(l,m){if(Symbol.iterator in Object(l)||"[object Arguments]"===Object.prototype.toString.call(l)){var c=[],h=!0,_=!1,M=void 0;try{for(var x,A=l[Symbol.iterator]();!(h=(x=A.next()).done)&&(c.push(x.value),!m||c.length!==m);h=!0);}catch(T){_=!0,M=T}finally{try{h||null==A.return||A.return()}finally{if(_)throw M}}return c}}(d,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(d,p){for(var l=0;l<p.length;l++){var m=p[l];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}g.default.Geometry=function(){function d(c,h,_){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new g.default.DataArray,this.lineTangentsIn=new g.default.DataArray,this.lineTangentsOut=new g.default.DataArray,this.lineSides=new g.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new g.default.DataArray,this.detailX=void 0!==c?c:1,this.detailY=void 0!==h?h:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,_ instanceof Function&&_.call(this)}var p,l;return p=d,(l=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var c=new g.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),h=new g.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),_=0;_<this.vertices.length;_++){var M=this.vertices[_];c.x=Math.min(c.x,M.x),c.y=Math.min(c.y,M.y),c.z=Math.min(c.z,M.z),h.x=Math.max(h.x,M.x),h.y=Math.max(h.y,M.y),h.z=Math.max(h.z,M.z)}var x=new g.default.Vector(h.x-c.x,h.y-c.y,h.z-c.z),A=new g.default.Vector((c.x+h.x)/2,(c.y+h.y)/2,(c.z+h.z)/2);this.boundingBoxCache={min:c,max:h,size:x,offset:A}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(void 0===this._hasFillTransparency){this._hasFillTransparency=!1;for(var c=0;c<this.vertexColors.length;c+=4)if(this.vertexColors[c+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(void 0===this._hasStrokeTransparency){this._hasStrokeTransparency=!1;for(var c=0;c<this.lineVertexColors.length;c+=4)if(this.lineVertexColors[c+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var c=this,h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"model.obj",_="";if(this.vertices.forEach(function(A){_+="v ".concat(A.x," ").concat(A.y," ").concat(A.z,"\n")}),this.uvs&&0<this.uvs.length)for(var M=0;M<this.uvs.length;M+=2)_+="vt ".concat(this.uvs[M]," ").concat(this.uvs[M+1],"\n");this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(A){_+="vn ".concat(A.x," ").concat(A.y," ").concat(A.z,"\n")}),this.faces.forEach(function(A){var T="f";A.forEach(function(N){T=T+" "+(N+1),(0<c.vertexNormals.length||0<c.uvs.length)&&(T+="/",0<c.uvs.length&&(T+=N+1),T+="/",0<c.vertexNormals.length&&(T+=N+1))}),_+=T+"\n"});var x=new Blob([_],{type:"text/plain"});g.default.prototype.downloadFile(x,h,"obj")}},{key:"saveStl",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"model.stl",h=void 0!==(h=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).binary)&&h,_=c.substring(0,c.lastIndexOf(".")),M=[],x=!0,A=!1,T=void 0;try{for(var N,I=this.faces[Symbol.iterator]();!(x=(N=I.next()).done);x=!0){var z=N.value,R=g.default.Vector.sub(this.vertices[z[1]],this.vertices[z[0]]),Q=g.default.Vector.sub(this.vertices[z[2]],this.vertices[z[0]]);M.push(new g.default.Vector(R.y*Q.z-R.z*Q.y,R.z*Q.x-R.x*Q.z,R.x*Q.y-R.y*Q.x).normalize())}}catch(Dt){A=!0,T=Dt}finally{try{x||null==I.return||I.return()}finally{if(A)throw T}}if(h){var U,F=80;A=2*this.faces.length+3*this.faces.length*4*4+80+4,T=new ArrayBuffer(A),(U=new DataView(T)).setUint32(F,this.faces.length,!0),F+=4;for(var K=0,ie=Object.entries(this.faces);K<ie.length;K++){var k=(Te=s(ie[K],2))[0],Te=Te[1],q=(U.setFloat32(F,(k=M[k]).x,!0),U.setFloat32(F+=4,k.y,!0),U.setFloat32(F+=4,k.z,!0),F+=4,!0),ee=void(k=!1);try{for(var me,xe=Te[Symbol.iterator]();!(q=(me=xe.next()).done);q=!0){var Ye=this.vertices[me.value];U.setFloat32(F,Ye.x,!0),U.setFloat32(F+=4,Ye.y,!0),U.setFloat32(F+=4,Ye.z,!0),F+=4}}catch(Lt){k=!0,ee=Lt}finally{try{q||null==xe.return||xe.return()}finally{if(k)throw ee}}U.setUint16(F,0,!0),F+=2}}else{U="solid "+_+"\n";for(var mt=0,We=Object.entries(this.faces);mt<We.length;mt++){var Ve=(ct=s(We[mt],2))[0],ct=ct[1],dt=(U=U+" facet norm "+(Ve=M[Ve]).x+" "+Ve.y+" "+Ve.z+"\n  outer loop\n",!0),Qe=void(Ve=!1);try{for(var Ze,at=ct[Symbol.iterator]();!(dt=(Ze=at.next()).done);dt=!0){var st=this.vertices[Ze.value];U+="   vertex "+st.x+" "+st.y+" "+st.z+"\n"}}catch(Dt){Ve=!0,Qe=Dt}finally{try{dt||null==at.return||at.return()}finally{if(Ve)throw Qe}}U+="  endloop\n endfacet\n"}U+="endsolid "+_+"\n"}h=new Blob([U],{type:"text/plain"}),g.default.prototype.downloadFile(h,c,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(c,h){return h%2==0?1-c:c})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(c,h){return h%2==0?c:1-c})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var c,h,_,M=this.detailX+1,x=0;x<this.detailY;x++)for(var A=0;A<this.detailX;A++)h=(x+1)*M+A+1,this.faces.push([x*M+A,c=x*M+A+1,_=(x+1)*M+A]),this.faces.push([_,c,h]);return this}},{key:"_getFaceNormal",value:function(h){var _=this.vertices[(h=this.faces[h])[0]],x=this.vertices[h[1]],M=(h=this.vertices[h[2]],x=g.default.Vector.sub(x,_),h=g.default.Vector.sub(h,_),_=g.default.Vector.cross(x,h),g.default.Vector.mag(_));return 0==(x=M/(g.default.Vector.mag(x)*g.default.Vector.mag(h)))||isNaN(x)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),_):(1<x&&(x=1),_.mult(Math.asin(x)/M))}},{key:"computeNormals",value:function(){var c,h=this,M=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).roundToPrecision,x=this.vertexNormals,A=this.vertices,T=this.faces;if((0<arguments.length&&void 0!==arguments[0]?arguments[0]:y.FLAT)===y.SMOOTH){for(var N={},I=[],z=Math.pow(10,void 0===M?3:M),R=function(U){return Math.round(U*z)/z},Q=function(U){return"".concat(R(U.x),",").concat(R(U.y),",").concat(R(U.z))},ne=0;ne<A.length;ne++){var V=A[ne],X=Q(V);void 0===N[X]&&(N[X]=I.length,I.push(V))}T.forEach(function(U){for(var F=0;F<3;++F){var K=Q(K=A[K=U[F]]);U[F]=N[K]}}),this.edges.forEach(function(U){for(var F=0;F<2;++F){var K=Q(K=A[K=U[F]]);U[F]=N[K]}}),this.vertices=A=I}for(c=x.length=0;c<A.length;++c)x.push(new g.default.Vector);for(T.forEach(function(U,F){for(var K=h._getFaceNormal(F),ie=0;ie<3;++ie)x[U[ie]].add(K)}),c=0;c<A.length;++c)x[c].normalize();return this}},{key:"averageNormals",value:function(){for(var c=0;c<=this.detailY;c++){var h=this.detailX+1,_=g.default.Vector.add(this.vertexNormals[c*h],this.vertexNormals[c*h+this.detailX]);_=g.default.Vector.div(_,2),this.vertexNormals[c*h]=_,this.vertexNormals[c*h+this.detailX]=_}return this}},{key:"averagePoleNormals",value:function(){for(var c=new g.default.Vector(0,0,0),h=0;h<this.detailX;h++)c.add(this.vertexNormals[h]);c=g.default.Vector.div(c,this.detailX);for(var _=0;_<this.detailX;_++)this.vertexNormals[_]=c;c=new g.default.Vector(0,0,0);for(var M=this.vertices.length-1;M>this.vertices.length-1-this.detailX;M--)c.add(this.vertexNormals[M]);c=g.default.Vector.div(c,this.detailX);for(var x=this.vertices.length-1;x>this.vertices.length-1-this.detailX;x--)this.vertexNormals[x]=c;return this}},{key:"_makeTriangleEdges",value:function(){for(var c=this.edges.length=0;c<this.faces.length;c++)this.edges.push([this.faces[c][0],this.faces[c][1]]),this.edges.push([this.faces[c][1],this.faces[c][2]]),this.edges.push([this.faces[c][2],this.faces[c][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var c,h=new Map,_=new Set,M=0;M<this.edges.length;M++){var x,A=this.edges[M-1],T=this.edges[M],N=this.vertices[T[0]],I=this.vertices[T[1]],z=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*T[0],4*(T[0]+1)):[0,0,0,0],R=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*T[1],4*(T[1]+1)):[0,0,0,0],Q=I.copy().sub(N).normalize(),ne=0<Q.magSq();ne&&this._addSegment(N,I,z,R,Q),0<M&&A[1]===T[0]?_.has(T[0])||(_.add(T[0]),h.delete(T[0]),c&&ne&&Q.dot(c)<1-1e-8&&this._addJoin(N,c,Q,z)):(ne&&!_.has(T[0])&&((x=h.get(T[0]))?(this._addJoin(N,x.dir,Q,z),h.delete(T[0]),_.add(T[0])):h.set(T[0],{point:N,dir:Q.copy().mult(-1),color:z})),c&&!_.has(A[1])&&((x=h.get(A[1]))?(this._addJoin(this.vertices[A[1]],c,x.dir.copy().mult(-1),z),h.delete(A[1]),_.add(A[1])):h.set(A[1],{point:this.vertices[A[1]],dir:c,color:z}),c=void 0)),M!==this.edges.length-1||_.has(T[1])||((N=h.get(T[1]))?(this._addJoin(I,Q,N.dir.copy().mult(-1),R),h.delete(T[1]),_.add(T[1])):h.set(T[1],{point:I,dir:Q,color:R})),ne&&(c=Q)}var V=!0,X=!1,U=void 0;try{for(var F,K=h.values()[Symbol.iterator]();!(V=(F=K.next()).done);V=!0){var ie=F.value;this._addCap(ie.point,ie.dir,ie.color)}}catch(ee){X=!0,U=ee}finally{try{V||null==K.return||K.return()}finally{if(X)throw U}}return this}},{key:"_addSegment",value:function(A,T,_,M,x){A=A.array(),T=T.array();var N=x.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var I=0,z=[this.lineTangentsIn,this.lineTangentsOut];I<z.length;I++)for(var R=z[I],Q=0;Q<6;Q++)R.push.apply(R,E(N));return(x=this.lineVertices).push.apply(x,E(A).concat(E(T),E(A),E(T),E(T),E(A))),(x=this.lineVertexColors).push.apply(x,E(_).concat(E(M),E(_),E(M),E(M),E(_))),this}},{key:"_addCap",value:function(c,h,_){for(var M,x=c.array(),A=h.array(),T=[0,0,0],N=0;N<6;N++)(M=this.lineVertices).push.apply(M,E(x)),(M=this.lineTangentsIn).push.apply(M,E(A)),(M=this.lineTangentsOut).push.apply(M,T),(M=this.lineVertexColors).push.apply(M,E(_));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(c,h,_,M){for(var x,A=c.array(),T=h.array(),N=_.array(),I=0;I<12;I++)(x=this.lineVertices).push.apply(x,E(A)),(x=this.lineTangentsIn).push.apply(x,E(T)),(x=this.lineTangentsOut).push.apply(x,E(N)),(x=this.lineVertexColors).push.apply(x,E(M));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var c=this.vertices[0].copy(),h=this.vertices[0].copy(),_=0;_<this.vertices.length;_++)c.x=Math.max(c.x,this.vertices[_].x),h.x=Math.min(h.x,this.vertices[_].x),c.y=Math.max(c.y,this.vertices[_].y),h.y=Math.min(h.y,this.vertices[_].y),c.z=Math.max(c.z,this.vertices[_].z),h.z=Math.min(h.z,this.vertices[_].z);for(var M=g.default.Vector.lerp(c,h,.5),x=g.default.Vector.sub(c,h),A=200/Math.max(Math.max(x.x,x.y),x.z),T=0;T<this.vertices.length;T++)this.vertices[T].sub(M),this.vertices[T].mult(A)}return this}}])&&u(p.prototype,l),d}();var a=g.default.Geometry;H.default=a},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(C,oe,H){"use strict";C("core-js/modules/es.array.iterator"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),C("core-js/modules/es.array.iterator"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(C=C("../core/main"))&&C.__esModule?C:{default:C};function w(E,s){for(var u=0;u<s.length;u++){var a=s[u];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(E,a.key,a)}}var g=Array,y=function(E){return Array.isArray(E)};typeof Float32Array<"u"&&(g=Float32Array,y=function(E){return Array.isArray(E)||E instanceof Float32Array}),v.default.Matrix=function(){function E(){var d=this,p=E;if(d instanceof p)return arguments.length&&((d=arguments.length-1)<0||arguments.length<=d?void 0:arguments[d])instanceof v.default&&(this.p5=(p=arguments.length-1)<0||arguments.length<=p?void 0:arguments[p]),"mat3"===(arguments.length<=0?void 0:arguments[0])?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new g([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new g([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var s,u,a;return s=E,a=[{key:"identity",value:function(d){return new v.default.Matrix(d)}}],(u=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(d){var p=arguments;if(d instanceof v.default.Matrix?p=d.mat4:y(d)&&(p=d),16!==p.length)v.default._friendlyError("Expected 16 values but received ".concat(p.length,"."),"p5.Matrix.set");else for(var l=0;l<16;l++)this.mat4[l]=p[l];return this}},{key:"get",value:function(){return new v.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var d;return void 0!==this.mat3?((d=new v.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],d.mat3[1]=this.mat3[1],d.mat3[2]=this.mat3[2],d.mat3[3]=this.mat3[3],d.mat3[4]=this.mat3[4],d.mat3[5]=this.mat3[5],d.mat3[6]=this.mat3[6],d.mat3[7]=this.mat3[7],d.mat3[8]=this.mat3[8]):((d=new v.default.Matrix(this.p5)).mat4[0]=this.mat4[0],d.mat4[1]=this.mat4[1],d.mat4[2]=this.mat4[2],d.mat4[3]=this.mat4[3],d.mat4[4]=this.mat4[4],d.mat4[5]=this.mat4[5],d.mat4[6]=this.mat4[6],d.mat4[7]=this.mat4[7],d.mat4[8]=this.mat4[8],d.mat4[9]=this.mat4[9],d.mat4[10]=this.mat4[10],d.mat4[11]=this.mat4[11],d.mat4[12]=this.mat4[12],d.mat4[13]=this.mat4[13],d.mat4[14]=this.mat4[14],d.mat4[15]=this.mat4[15]),d}},{key:"transpose",value:function(d){var p,l,m,c,h,_;return d instanceof v.default.Matrix?(p=d.mat4[1],l=d.mat4[2],m=d.mat4[3],c=d.mat4[6],h=d.mat4[7],_=d.mat4[11],this.mat4[0]=d.mat4[0],this.mat4[1]=d.mat4[4],this.mat4[2]=d.mat4[8],this.mat4[3]=d.mat4[12],this.mat4[4]=p,this.mat4[5]=d.mat4[5],this.mat4[6]=d.mat4[9],this.mat4[7]=d.mat4[13],this.mat4[8]=l,this.mat4[9]=c,this.mat4[10]=d.mat4[10],this.mat4[11]=d.mat4[14],this.mat4[12]=m,this.mat4[13]=h,this.mat4[14]=_,this.mat4[15]=d.mat4[15]):y(d)&&(p=d[1],l=d[2],m=d[3],c=d[6],h=d[7],_=d[11],this.mat4[0]=d[0],this.mat4[1]=d[4],this.mat4[2]=d[8],this.mat4[3]=d[12],this.mat4[4]=p,this.mat4[5]=d[5],this.mat4[6]=d[9],this.mat4[7]=d[13],this.mat4[8]=l,this.mat4[9]=c,this.mat4[10]=d[10],this.mat4[11]=d[14],this.mat4[12]=m,this.mat4[13]=h,this.mat4[14]=_,this.mat4[15]=d[15]),this}},{key:"invert",value:function(V){V instanceof v.default.Matrix?(p=V.mat4[0],l=V.mat4[1],m=V.mat4[2],c=V.mat4[3],h=V.mat4[4],_=V.mat4[5],M=V.mat4[6],x=V.mat4[7],A=V.mat4[8],T=V.mat4[9],N=V.mat4[10],I=V.mat4[11],z=V.mat4[12],R=V.mat4[13],Q=V.mat4[14],ne=V.mat4[15]):y(V)&&(p=V[0],l=V[1],m=V[2],c=V[3],h=V[4],_=V[5],M=V[6],x=V[7],A=V[8],T=V[9],N=V[10],I=V[11],z=V[12],R=V[13],Q=V[14],ne=V[15]);var p,l,m,c,h,_,M,x,A,T,N,I,z,R,Q,ne,X=p*M-m*h,U=p*x-c*h,F=l*M-m*_,K=l*x-c*_,ie=m*x-c*M,Te=A*R-T*z,q=A*Q-N*z,k=A*ne-I*z,ee=T*Q-N*R,me=T*ne-I*R,xe=N*ne-I*Q,Ge=(V=p*_-l*h)*xe-X*me+U*ee+F*k-K*q+ie*Te;return Ge?(this.mat4[0]=(_*xe-M*me+x*ee)*(Ge=1/Ge),this.mat4[1]=(m*me-l*xe-c*ee)*Ge,this.mat4[2]=(R*ie-Q*K+ne*F)*Ge,this.mat4[3]=(N*K-T*ie-I*F)*Ge,this.mat4[4]=(M*k-h*xe-x*q)*Ge,this.mat4[5]=(p*xe-m*k+c*q)*Ge,this.mat4[6]=(Q*U-z*ie-ne*X)*Ge,this.mat4[7]=(A*ie-N*U+I*X)*Ge,this.mat4[8]=(h*me-_*k+x*Te)*Ge,this.mat4[9]=(l*k-p*me-c*Te)*Ge,this.mat4[10]=(z*K-R*U+ne*V)*Ge,this.mat4[11]=(T*U-A*K-I*V)*Ge,this.mat4[12]=(_*q-h*ee-M*Te)*Ge,this.mat4[13]=(p*ee-l*q+m*Te)*Ge,this.mat4[14]=(R*X-z*F-Q*V)*Ge,this.mat4[15]=(A*F-T*X+N*V)*Ge,this):null}},{key:"invert3x3",value:function(){var d=this.mat3[0],p=this.mat3[1],l=this.mat3[2],m=this.mat3[3],c=this.mat3[4],h=this.mat3[5],_=this.mat3[6],M=this.mat3[7],x=this.mat3[8],A=x*c-h*M,T=-x*m+h*_,N=M*m-c*_,I=d*A+p*T+l*N;return I?(this.mat3[0]=A*(I=1/I),this.mat3[1]=(-x*p+l*M)*I,this.mat3[2]=(h*p-l*c)*I,this.mat3[3]=T*I,this.mat3[4]=(x*d-l*_)*I,this.mat3[5]=(-h*d+l*m)*I,this.mat3[6]=N*I,this.mat3[7]=(-M*d+p*_)*I,this.mat3[8]=(c*d-p*m)*I,this):null}},{key:"transpose3x3",value:function(d){var p=(d=void 0===d?this.mat3:d)[1],l=d[2],m=d[5];return this.mat3[0]=d[0],this.mat3[1]=d[3],this.mat3[2]=d[6],this.mat3[3]=p,this.mat3[4]=d[4],this.mat3[5]=d[7],this.mat3[6]=l,this.mat3[7]=m,this.mat3[8]=d[8],this}},{key:"inverseTranspose",value:function(d){if(d=d.mat4,void 0===this.mat3?v.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=d[0],this.mat3[1]=d[1],this.mat3[2]=d[2],this.mat3[3]=d[4],this.mat3[4]=d[5],this.mat3[5]=d[6],this.mat3[6]=d[8],this.mat3[7]=d[9],this.mat3[8]=d[10]),d=this.invert3x3())d.transpose3x3(this.mat3);else for(var p=0;p<9;p++)this.mat3[p]=0;return this}},{key:"determinant",value:function(){return(this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])}},{key:"mult",value:function(l){var p;if(l===this||l===this.mat4)p=this.copy().mat4;else if(l instanceof v.default.Matrix)p=l.mat4;else if(y(l))p=l;else{if(16!==arguments.length)return;p=arguments}var m=this.mat4[1],c=this.mat4[2],h=this.mat4[3];return this.mat4[0]=(l=this.mat4[0])*p[0]+m*p[4]+c*p[8]+h*p[12],this.mat4[1]=l*p[1]+m*p[5]+c*p[9]+h*p[13],this.mat4[2]=l*p[2]+m*p[6]+c*p[10]+h*p[14],this.mat4[3]=l*p[3]+m*p[7]+c*p[11]+h*p[15],this.mat4[4]=(l=this.mat4[4])*p[0]+(m=this.mat4[5])*p[4]+(c=this.mat4[6])*p[8]+(h=this.mat4[7])*p[12],this.mat4[5]=l*p[1]+m*p[5]+c*p[9]+h*p[13],this.mat4[6]=l*p[2]+m*p[6]+c*p[10]+h*p[14],this.mat4[7]=l*p[3]+m*p[7]+c*p[11]+h*p[15],this.mat4[8]=(l=this.mat4[8])*p[0]+(m=this.mat4[9])*p[4]+(c=this.mat4[10])*p[8]+(h=this.mat4[11])*p[12],this.mat4[9]=l*p[1]+m*p[5]+c*p[9]+h*p[13],this.mat4[10]=l*p[2]+m*p[6]+c*p[10]+h*p[14],this.mat4[11]=l*p[3]+m*p[7]+c*p[11]+h*p[15],this.mat4[12]=(l=this.mat4[12])*p[0]+(m=this.mat4[13])*p[4]+(c=this.mat4[14])*p[8]+(h=this.mat4[15])*p[12],this.mat4[13]=l*p[1]+m*p[5]+c*p[9]+h*p[13],this.mat4[14]=l*p[2]+m*p[6]+c*p[10]+h*p[14],this.mat4[15]=l*p[3]+m*p[7]+c*p[11]+h*p[15],this}},{key:"apply",value:function(l){var p;if(l===this||l===this.mat4)p=this.copy().mat4;else if(l instanceof v.default.Matrix)p=l.mat4;else if(y(l))p=l;else{if(16!==arguments.length)return;p=arguments}var c,h,_,m=((l=this.mat4)[0]=p[0]*(m=l[0])+p[1]*(c=l[4])+p[2]*(h=l[8])+p[3]*(_=l[12]),l[4]=p[4]*m+p[5]*c+p[6]*h+p[7]*_,l[8]=p[8]*m+p[9]*c+p[10]*h+p[11]*_,l[12]=p[12]*m+p[13]*c+p[14]*h+p[15]*_,l[1]);return l[1]=p[0]*m+p[1]*(c=l[5])+p[2]*(h=l[9])+p[3]*(_=l[13]),l[5]=p[4]*m+p[5]*c+p[6]*h+p[7]*_,l[9]=p[8]*m+p[9]*c+p[10]*h+p[11]*_,l[13]=p[12]*m+p[13]*c+p[14]*h+p[15]*_,l[2]=p[0]*(m=l[2])+p[1]*(c=l[6])+p[2]*(h=l[10])+p[3]*(_=l[14]),l[6]=p[4]*m+p[5]*c+p[6]*h+p[7]*_,l[10]=p[8]*m+p[9]*c+p[10]*h+p[11]*_,l[14]=p[12]*m+p[13]*c+p[14]*h+p[15]*_,l[3]=p[0]*(m=l[3])+p[1]*(c=l[7])+p[2]*(h=l[11])+p[3]*(_=l[15]),l[7]=p[4]*m+p[5]*c+p[6]*h+p[7]*_,l[11]=p[8]*m+p[9]*c+p[10]*h+p[11]*_,l[15]=p[12]*m+p[13]*c+p[14]*h+p[15]*_,this}},{key:"scale",value:function(d,p,l){return d instanceof v.default.Vector?(p=d.y,l=d.z,d=d.x):d instanceof Array&&(p=d[1],l=d[2],d=d[0]),this.mat4[0]*=d,this.mat4[1]*=d,this.mat4[2]*=d,this.mat4[3]*=d,this.mat4[4]*=p,this.mat4[5]*=p,this.mat4[6]*=p,this.mat4[7]*=p,this.mat4[8]*=l,this.mat4[9]*=l,this.mat4[10]*=l,this.mat4[11]*=l,this}},{key:"rotate",value:function(V,me,ee,m){me instanceof v.default.Vector?(ee=me.y,m=me.z,me=me.x):me instanceof Array&&(ee=me[1],m=me[2],me=me[0]);var c=(me*=1/(c=Math.sqrt(me*me+ee*ee+m*m)),ee*=1/c,m*=1/c,this.mat4[0]),h=this.mat4[1],_=this.mat4[2],M=this.mat4[3],x=this.mat4[4],A=this.mat4[5],T=this.mat4[6],N=this.mat4[7],I=this.mat4[8],z=this.mat4[9],R=this.mat4[10],Q=this.mat4[11],ne=Math.sin(V),X=1-(V=Math.cos(V)),U=me*me*X+V,F=ee*me*X+m*ne,K=m*me*X-ee*ne,ie=me*ee*X-m*ne,Te=ee*ee*X+V,q=m*ee*X+me*ne,k=me*m*X+ee*ne;return ee=ee*m*X-me*ne,me=m*m*X+V,this.mat4[0]=c*U+x*F+I*K,this.mat4[1]=h*U+A*F+z*K,this.mat4[2]=_*U+T*F+R*K,this.mat4[3]=M*U+N*F+Q*K,this.mat4[4]=c*ie+x*Te+I*q,this.mat4[5]=h*ie+A*Te+z*q,this.mat4[6]=_*ie+T*Te+R*q,this.mat4[7]=M*ie+N*Te+Q*q,this.mat4[8]=c*k+x*ee+I*me,this.mat4[9]=h*k+A*ee+z*me,this.mat4[10]=_*k+T*ee+R*me,this.mat4[11]=M*k+N*ee+Q*me,this}},{key:"translate",value:function(m){var p=m[0],l=m[1];this.mat4[12]+=this.mat4[0]*p+this.mat4[4]*l+this.mat4[8]*(m=m[2]||0),this.mat4[13]+=this.mat4[1]*p+this.mat4[5]*l+this.mat4[9]*m,this.mat4[14]+=this.mat4[2]*p+this.mat4[6]*l+this.mat4[10]*m,this.mat4[15]+=this.mat4[3]*p+this.mat4[7]*l+this.mat4[11]*m}},{key:"rotateX",value:function(d){this.rotate(d,1,0,0)}},{key:"rotateY",value:function(d){this.rotate(d,0,1,0)}},{key:"rotateZ",value:function(d){this.rotate(d,0,0,1)}},{key:"perspective",value:function(c,p,l,m){c=1/Math.tan(c/2);var h=1/(l-m);return this.mat4[0]=c/p,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=c,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(m+l)*h,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*m*l*h,this.mat4[15]=0,this}},{key:"ortho",value:function(d,p,l,m,c,h){var _=1/(d-p),M=1/(l-m),x=1/(c-h);return this.mat4[0]=-2*_,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*M,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*x,this.mat4[11]=0,this.mat4[12]=(d+p)*_,this.mat4[13]=(m+l)*M,this.mat4[14]=(h+c)*x,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(d,p,l,m){var c=new Array(4),h=this.mat4;return c[0]=h[0]*d+h[4]*p+h[8]*l+h[12]*m,c[1]=h[1]*d+h[5]*p+h[9]*l+h[13]*m,c[2]=h[2]*d+h[6]*p+h[10]*l+h[14]*m,c[3]=h[3]*d+h[7]*p+h[11]*l+h[15]*m,c}},{key:"multiplyPoint",value:function(l){var m=this.multiplyVec4(m=l.x,l.y,l=l.z,1);return new v.default.Vector(m[0],m[1],m[2])}},{key:"multiplyAndNormalizePoint",value:function(l){var m;return(m=this.multiplyVec4(m=l.x,l.y,l=l.z,1))[0]/=m[3],m[1]/=m[3],m[2]/=m[3],new v.default.Vector(m[0],m[1],m[2])}},{key:"multiplyDirection",value:function(l){var m=this.multiplyVec4(m=l.x,l.y,l=l.z,0);return new v.default.Vector(m[0],m[1],m[2])}},{key:"mult3x3",value:function(l){var p;if(l===this||l===this.mat3)p=this.copy().mat3;else if(l instanceof v.default.Matrix)p=l.mat3;else if(y(l))p=l;else{if(9!==arguments.length)return;p=arguments}var m=this.mat3[1],c=this.mat3[2];return this.mat3[0]=(l=this.mat3[0])*p[0]+m*p[3]+c*p[6],this.mat3[1]=l*p[1]+m*p[4]+c*p[7],this.mat3[2]=l*p[2]+m*p[5]+c*p[8],this.mat3[3]=(l=this.mat3[3])*p[0]+(m=this.mat3[4])*p[3]+(c=this.mat3[5])*p[6],this.mat3[4]=l*p[1]+m*p[4]+c*p[7],this.mat3[5]=l*p[2]+m*p[5]+c*p[8],this.mat3[6]=(l=this.mat3[6])*p[0]+(m=this.mat3[7])*p[3]+(c=this.mat3[8])*p[6],this.mat3[7]=l*p[1]+m*p[4]+c*p[7],this.mat3[8]=l*p[2]+m*p[5]+c*p[8],this}},{key:"column",value:function(d){return new v.default.Vector(this.mat3[3*d],this.mat3[3*d+1],this.mat3[3*d+2])}},{key:"row",value:function(d){return new v.default.Vector(this.mat3[d],this.mat3[d+3],this.mat3[d+6])}},{key:"diagonal",value:function(){return void 0!==this.mat3?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(d,p){return(p=void 0===p?d.copy():p).x=this.row(0).dot(d),p.y=this.row(1).dot(d),p.z=this.row(2).dot(d),p}},{key:"createSubMatrix3x3",value:function(){var d=new v.default.Matrix("mat3");return d.mat3[0]=this.mat4[0],d.mat3[1]=this.mat4[1],d.mat3[2]=this.mat4[2],d.mat3[3]=this.mat4[4],d.mat3[4]=this.mat4[5],d.mat3[5]=this.mat4[6],d.mat3[6]=this.mat4[8],d.mat3[7]=this.mat4[9],d.mat3[8]=this.mat4[10],d}}])&&w(s.prototype,u),a&&w(s,a),E}(),H.default=C=v.default.Matrix},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(o,oe,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function w(g,y){for(var C=0;C<y.length;C++){var E=y[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(g,E.key,E)}}v.default.Quat=function(){function g(s,u,a,d){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.w=s,this.vec=new v.default.Vector(u,a,d)}var y,C,E;return y=g,E=[{key:"fromAxisAngle",value:function(s,l,a,d){var p=Math.cos(s/2);return l=new v.default.Vector(l,a,d).normalize().mult(Math.sin(s/2)),new v.default.Quat(p,l.x,l.y,l.z)}}],(C=[{key:"conjugate",value:function(){return new v.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(s){return new v.default.Quat(this.w*s.w-this.vec.x*s.vec.x-this.vec.y*s.vec.y-this.vec.z-s.vec.z,this.w*s.vec.x+this.vec.x*s.w+this.vec.y*s.vec.z-this.vec.z*s.vec.y,this.w*s.vec.y-this.vec.x*s.vec.z+this.vec.y*s.w+this.vec.z*s.vec.x,this.w*s.vec.z+this.vec.x*s.vec.y-this.vec.y*s.vec.x+this.vec.z*s.w)}},{key:"rotateVector",value:function(s){return new v.default.Vector.mult(s,this.w*this.w-this.vec.dot(this.vec)).add(v.default.Vector.mult(this.vec,2*s.dot(this.vec))).add(v.default.Vector.mult(this.vec,2*this.w).cross(s)).clampToZero()}},{key:"rotateBy",value:function(s){return s.multiply(this).multiply(s.conjugate()).vec.clampToZero()}}])&&w(y.prototype,C),E&&w(y,E),g}(),H.default=o=v.default.Quat},{"../core/main":283}],338:[function(o,oe,H){"use strict";function v(w,g){for(var y=0;y<g.length;y++){var C=g[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}o("core-js/modules/es.array.map"),o("core-js/modules/es.array.map"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.RenderBuffer=function(){function w(E,s,u,a,d,p){if(!(this instanceof w))throw new TypeError("Cannot call a class as a function");this.size=E,this.src=s,this.dst=u,this.attr=a,this._renderer=d,this.map=p}var g,y;return g=w,(y=[{key:"_prepareBuffer",value:function(E,s){var u,a,d,m,p=this._renderer.GL,l=E.model||E;(m=(m=s.attributes)[this.attr])&&(u=E[this.dst],0<(a=l[this.src]).length?((d=!u)&&(E[this.dst]=u=p.createBuffer()),p.bindBuffer(p.ARRAY_BUFFER,u),!d&&!1===l.dirtyFlags[this.src]||(d=(E=this.map)?E(a):a,this._renderer._bindBuffer(u,p.ARRAY_BUFFER,d),l.dirtyFlags[this.src]=!1),s.enableAttrib(m,this.size)):-1!==(E=m.location)&&this._renderer.registerEnabled.has(E)&&(p.disableVertexAttribArray(E),this._renderer.registerEnabled.delete(E)))}}])&&v(g.prototype,y),w}(),H.default=o=o.default.RenderBuffer},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(o,oe,H){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}function w(a){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.find-index"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.find-index"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.map"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=(u=o("../core/main"))&&u.__esModule?u:{default:u},y=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==w(a)&&"function"!=typeof a)return{default:a};var d=C();if(d&&d.has(a))return d.get(a);var p,l={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in a){var c;Object.prototype.hasOwnProperty.call(a,p)&&((c=m?Object.getOwnPropertyDescriptor(a,p):null)&&(c.get||c.set)?Object.defineProperty(l,p,c):l[p]=a[p])}return l.default=a,d&&d.set(a,l),l}(o("../core/constants"));function C(){var a;return"function"!=typeof WeakMap?null:(C=function(){return a},a=new WeakMap)}function E(a){return function(d){if(Array.isArray(d)){for(var p=0,l=new Array(d.length);p<d.length;p++)l[p]=d[p];return l}}(a)||function(d){if(Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d))return Array.from(d)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o("./p5.RenderBuffer"),g.default.RendererGL.prototype.beginShape=function(a){return this.immediateMode.shapeMode=void 0!==a?a:y.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var s={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},u=(g.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==y.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},g.default.RendererGL.prototype.vertex=function(a,d){if(this.immediateMode.shapeMode===y.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var p in s){var l=s[p];(p=this.immediateMode.geometry[p]).push.apply(p,E(p.slice(p.length-3*l,p.length-2*l)).concat(E(p.slice(p.length-l,p.length))))}var m,c,h=m=c=0,_=(3===arguments.length?h=arguments[2]:4===arguments.length?(m=arguments[2],c=arguments[3]):5===arguments.length&&(h=arguments[2],m=arguments[3],c=arguments[4]),new g.default.Vector(a,d,h));return this.immediateMode.geometry.vertices.push(_),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.immediateMode.geometry.vertexColors.push((_=this.curFillColor||[.5,.5,.5,1])[0],_[1],_[2],_[3]),this.immediateMode.geometry.vertexStrokeColors.push((_=this.curStrokeColor||[.5,.5,.5,1])[0],_[1],_[2],_[3]),this.textureMode!==y.IMAGE||this.isProcessingVertices||(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(m/=this._tex.width,c/=this._tex.height):void 0===this.userFillShader&&void 0===this.userStrokeShader&&void 0===this.userPointShader&&null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(m,c),this.immediateMode._bezierVertex[0]=a,this.immediateMode._bezierVertex[1]=d,this.immediateMode._bezierVertex[2]=h,this.immediateMode._quadraticVertex[0]=a,this.immediateMode._quadraticVertex[1]=d,this.immediateMode._quadraticVertex[2]=h,this},g.default.RendererGL.prototype.normal=function(a,d,p){return this._currentNormal=a instanceof g.default.Vector?a:new g.default.Vector(a,d,p),this},g.default.RendererGL.prototype.endShape=function(a,d,p,l,m,c){var h,_=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1;return this.immediateMode.shapeMode===y.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),h=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==y.LINE_STRIP&&this.immediateMode.shapeMode!==y.LINES||(this.immediateMode.shapeMode=y.TRIANGLE_FAN,h=!0),this.immediateMode.shapeMode===y.QUADS?this.immediateMode.shapeMode=y.TRIANGLES:this.immediateMode.shapeMode===y.QUAD_STRIP&&(this.immediateMode.shapeMode=y.TRIANGLE_STRIP),this._doFill&&!h&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(_),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},g.default.RendererGL.prototype._processVertices=function(a){var d;0!==this.immediateMode.geometry.vertices.length&&(a=a===y.CLOSE,this._doStroke&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,a),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),d=this.immediateMode.shapeMode===y.TESS,a=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||d||a)&&this.immediateMode.shapeMode!==y.LINES&&this._tesselateShape())},g.default.RendererGL.prototype._calculateEdges=function(a,d,p){var l=[],m=0,c=this.immediateMode.contourIndices.slice(),h=0;switch(a){case y.TRIANGLE_STRIP:for(m=0;m<d.length-2;m++)l.push([m,m+1]),l.push([m,m+2]);l.push([m,m+1]);break;case y.TRIANGLE_FAN:for(m=1;m<d.length-1;m++)l.push([0,m]),l.push([m,m+1]);l.push([0,d.length-1]);break;case y.TRIANGLES:for(m=0;m<d.length-2;m+=3)l.push([m,m+1]),l.push([m+1,m+2]),l.push([m+2,m]);break;case y.LINES:for(m=0;m<d.length-1;m+=2)l.push([m,m+1]);break;case y.QUADS:for(m=0;m<d.length-5;m+=6)l.push([m,m+1]),l.push([m+1,m+2]),l.push([m+3,m+5]),l.push([m+4,m+5]);break;case y.QUAD_STRIP:for(m=0;m<d.length-2;m+=2)l.push([m,m+1]),l.push([m,m+2]),l.push([m+1,m+3]);l.push([m,m+1]);break;default:for(m=0;m<d.length;m++)m+1<d.length&&m+1!==c[0]?l.push([m,m+1]):((p||h)&&l.push([m,h]),0<c.length&&(h=c.shift()))}return a!==y.TESS&&p&&l.push([d.length-1,0]),l},g.default.RendererGL.prototype._tesselateShape=function(){for(var a=this,d=(this.immediateMode.shapeMode=y.TRIANGLES,[[]]),p=0;p<this.immediateMode.geometry.vertices.length;p++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===p&&(this.immediateMode.contourIndices.shift(),d.push([])),d[d.length-1].push(this.immediateMode.geometry.vertices[p].x,this.immediateMode.geometry.vertices[p].y,this.immediateMode.geometry.vertices[p].z,this.immediateMode.geometry.uvs[2*p],this.immediateMode.geometry.uvs[2*p+1],this.immediateMode.geometry.vertexColors[4*p],this.immediateMode.geometry.vertexColors[4*p+1],this.immediateMode.geometry.vertexColors[4*p+2],this.immediateMode.geometry.vertexColors[4*p+3],this.immediateMode.geometry.vertexNormals[p].x,this.immediateMode.geometry.vertexNormals[p].y,this.immediateMode.geometry.vertexNormals[p].z);for(var l,m=this._triangulate(d),c=this.immediateMode.geometry.vertices,h=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),_=0,M=m.length;_<M;_+=g.default.RendererGL.prototype.tessyVertexSize)h.push.apply(h,E(m.slice(_+5,_+9))),this.normal.apply(this,E(m.slice(_+9,_+12))),this.vertex.apply(this,E(m.slice(_,_+5)));this.geometryBuilder&&(l=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(x){return x.map(function(A){if(!l.has(A)){var T=c[A],N=a.immediateMode.geometry.vertices.findIndex(function(X){return T.x===X.x&&T.y===X.y&&T.z===X.z});if(-1===N){for(var I=1/0,z=0,R=0;R<a.immediateMode.geometry.vertices.length;R++){var ne,V,Q=T.y-(ne=a.immediateMode.geometry.vertices[R]).y;(V=(V=T.x-ne.x)*V+Q*Q+(ne=T.z-ne.z)*ne)<I&&(I=V,z=R)}N=z}l.set(A,N)}return l.get(A)})})),this.immediateMode.geometry.vertexColors=h},g.default.RendererGL.prototype._drawImmediateFill=function(){var a,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,p=this.GL,l=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,a=this._getImmediateFillShader(),this._setFillUniforms(a),!0),m=!1,c=void 0;try{for(var h,_=this.immediateMode.buffers.fill[Symbol.iterator]();!(l=(h=_.next()).done);l=!0)h.value._prepareBuffer(this.immediateMode.geometry,a)}catch(M){m=!0,c=M}finally{try{l||null==_.return||_.return()}finally{if(m)throw c}}if(a.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),1===d)p.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{p.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,d)}catch{console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode")}a.unbindShader()},g.default.RendererGL.prototype._drawImmediateStroke=function(){var a=this.GL,d=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),p=(this._setStrokeUniforms(d),!0),l=!1,m=void 0;try{for(var c,h=this.immediateMode.buffers.stroke[Symbol.iterator]();!(p=(c=h.next()).done);p=!0)c.value._prepareBuffer(this.immediateMode.geometry,d)}catch(_){l=!0,m=_}finally{try{p||null==h.return||h.return()}finally{if(l)throw m}}d.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),a.drawArrays(a.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),d.unbindShader()},g.default.RendererGL);H.default=u},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(o,oe,H){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(s)}function w(s){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var g=(E=o("../core/main"))&&E.__esModule?E:{default:E},y=(o("./p5.RendererGL"),o("./p5.RenderBuffer"),function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==w(s)&&"function"!=typeof s)return{default:s};var u=C();if(u&&u.has(s))return u.get(s);var a,d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var l;Object.prototype.hasOwnProperty.call(s,a)&&((l=p?Object.getOwnPropertyDescriptor(s,a):null)&&(l.get||l.set)?Object.defineProperty(d,a,l):d[a]=s[a])}return d.default=s,u&&u.set(s,d),d}(o("../core/constants")));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}g.default.RendererGL.prototype.freeGeometry=function(s){s.gid?this._freeBuffers(s.gid):console.warn("The model you passed to freeGeometry does not have an id!")},g.default.RendererGL.prototype._initBufferDefaults=function(s){var u;return this._freeBuffers(s),1e3<Object.keys(this.retainedMode.geometry).length&&(u=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(u)),this.retainedMode.geometry[s]={}},g.default.RendererGL.prototype._freeBuffers=function(s){var u,a=this.retainedMode.geometry[s];function d(p){var l=!0,m=!1,c=void 0;try{for(var h,_=p[Symbol.iterator]();!(l=(h=_.next()).done);l=!0){var M=h.value;a[M.dst]&&(u.deleteBuffer(a[M.dst]),a[M.dst]=null)}}catch(x){m=!0,c=x}finally{try{l||null==_.return||_.return()}finally{if(m)throw c}}}a&&(delete this.retainedMode.geometry[s],u=this.GL,a.indexBuffer&&u.deleteBuffer(a.indexBuffer),d(this.retainedMode.buffers.stroke),d(this.retainedMode.buffers.fill))},g.default.RendererGL.prototype.createBuffers=function(m,u){var a,d,p,l=this.GL,c=((m=this._initBufferDefaults(m)).model=u,m.indexBuffer);return u.faces.length?(c=c||(m.indexBuffer=l.createBuffer()),p=(d=(a=g.default.RendererGL.prototype._flatten(u.faces)).some(function(h){return 65535<h}))?Uint32Array:Uint16Array,this._bindBuffer(c,l.ELEMENT_ARRAY_BUFFER,a,p),m.indexBufferType=d?l.UNSIGNED_INT:l.UNSIGNED_SHORT,m.vertexCount=3*u.faces.length):(c&&(l.deleteBuffer(c),m.indexBuffer=null),m.vertexCount=u.vertices?u.vertices.length:0),m.lineVertexCount=u.lineVertices?u.lineVertices.length/3:0,m},g.default.RendererGL.prototype.drawBuffers=function(s){var u=this.GL,a=this.retainedMode.geometry[s];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[s].vertexCount){this._useVertexColor=0<a.model.vertexColors.length;var d=this._getRetainedFillShader(),p=(this._setFillUniforms(d),!0),l=!1,m=void 0;try{for(var c,h=this.retainedMode.buffers.fill[Symbol.iterator]();!(p=(c=h.next()).done);p=!0)c.value._prepareBuffer(a,d)}catch(T){l=!0,m=T}finally{try{p||null==h.return||h.return()}finally{if(l)throw m}}d.disableRemainingAttributes(),a.indexBuffer&&this._bindBuffer(a.indexBuffer,u.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,a.model.hasFillTransparency()),this._drawElements(u.TRIANGLES,s),d.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<a.lineVertexCount){this._useLineColor=0<a.model.vertexStrokeColors.length;var _=this._getRetainedStrokeShader(),M=(this._setStrokeUniforms(_),!0);l=!1,m=void 0;try{for(var x,A=this.retainedMode.buffers.stroke[Symbol.iterator]();!(M=(x=A.next()).done);M=!0)x.value._prepareBuffer(a,_)}catch(I){l=!0,m=I}finally{try{M||null==A.return||A.return()}finally{if(l)throw m}}_.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,a.model.hasStrokeTransparency()),this._drawArrays(u.TRIANGLES,s),_.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(a),this},g.default.RendererGL.prototype.drawBuffersScaled=function(s,u,a,d){var p=this.uModelMatrix.copy();try{this.uModelMatrix.scale(u,a,d),this.drawBuffers(s)}finally{this.uModelMatrix=p}},g.default.RendererGL.prototype._drawArrays=function(s,u){return this.GL.drawArrays(s,0,this.retainedMode.geometry[u].lineVertexCount),this},g.default.RendererGL.prototype._drawElements=function(s,a){var d=this.GL;if((a=this.retainedMode.geometry[a]).indexBuffer){if(this._pInst.webglVersion!==y.WEBGL2&&a.indexBufferType===d.UNSIGNED_INT&&!d.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");d.drawElements(d.TRIANGLES,a.vertexCount,a.indexBufferType,0)}else d.drawArrays(s||d.TRIANGLES,0,a.vertexCount)},g.default.RendererGL.prototype._drawPoints=function(s,u){var a=this.GL,d=this._getImmediatePointShader();this._setPointUniforms(d),this._bindBuffer(u,a.ARRAY_BUFFER,this._vToNArray(s),Float32Array,a.STATIC_DRAW),d.enableAttrib(d.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),a.drawArrays(a.Points,0,s.length),d.unbindShader()};var E=g.default.RendererGL;H.default=E},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(R,oe,H){"use strict";function v(F){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(K){return typeof K}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K})(F)}function w(F){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(K){return v(K)}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":v(K)})(F)}R("core-js/modules/es.symbol"),R("core-js/modules/es.symbol.description"),R("core-js/modules/es.symbol.iterator"),R("core-js/modules/es.array.concat"),R("core-js/modules/es.array.copy-within"),R("core-js/modules/es.array.every"),R("core-js/modules/es.array.fill"),R("core-js/modules/es.array.flat"),R("core-js/modules/es.array.flat-map"),R("core-js/modules/es.array.from"),R("core-js/modules/es.array.includes"),R("core-js/modules/es.array.iterator"),R("core-js/modules/es.array.map"),R("core-js/modules/es.array.slice"),R("core-js/modules/es.array.some"),R("core-js/modules/es.array.unscopables.flat"),R("core-js/modules/es.array.unscopables.flat-map"),R("core-js/modules/es.map"),R("core-js/modules/es.object.assign"),R("core-js/modules/es.object.get-own-property-descriptor"),R("core-js/modules/es.object.get-prototype-of"),R("core-js/modules/es.object.to-string"),R("core-js/modules/es.reflect.construct"),R("core-js/modules/es.reflect.get"),R("core-js/modules/es.regexp.to-string"),R("core-js/modules/es.set"),R("core-js/modules/es.string.includes"),R("core-js/modules/es.string.iterator"),R("core-js/modules/es.typed-array.float32-array"),R("core-js/modules/es.typed-array.float64-array"),R("core-js/modules/es.typed-array.int16-array"),R("core-js/modules/es.typed-array.uint8-array"),R("core-js/modules/es.typed-array.uint16-array"),R("core-js/modules/es.typed-array.uint32-array"),R("core-js/modules/es.typed-array.copy-within"),R("core-js/modules/es.typed-array.every"),R("core-js/modules/es.typed-array.fill"),R("core-js/modules/es.typed-array.filter"),R("core-js/modules/es.typed-array.find"),R("core-js/modules/es.typed-array.find-index"),R("core-js/modules/es.typed-array.for-each"),R("core-js/modules/es.typed-array.includes"),R("core-js/modules/es.typed-array.index-of"),R("core-js/modules/es.typed-array.iterator"),R("core-js/modules/es.typed-array.join"),R("core-js/modules/es.typed-array.last-index-of"),R("core-js/modules/es.typed-array.map"),R("core-js/modules/es.typed-array.reduce"),R("core-js/modules/es.typed-array.reduce-right"),R("core-js/modules/es.typed-array.reverse"),R("core-js/modules/es.typed-array.set"),R("core-js/modules/es.typed-array.slice"),R("core-js/modules/es.typed-array.some"),R("core-js/modules/es.typed-array.sort"),R("core-js/modules/es.typed-array.subarray"),R("core-js/modules/es.typed-array.to-locale-string"),R("core-js/modules/es.typed-array.to-string"),R("core-js/modules/es.weak-map"),R("core-js/modules/web.dom-collections.iterator"),R("core-js/modules/es.symbol"),R("core-js/modules/es.symbol.description"),R("core-js/modules/es.symbol.iterator"),R("core-js/modules/es.array.concat"),R("core-js/modules/es.array.copy-within"),R("core-js/modules/es.array.every"),R("core-js/modules/es.array.fill"),R("core-js/modules/es.array.flat"),R("core-js/modules/es.array.flat-map"),R("core-js/modules/es.array.from"),R("core-js/modules/es.array.includes"),R("core-js/modules/es.array.iterator"),R("core-js/modules/es.array.map"),R("core-js/modules/es.array.slice"),R("core-js/modules/es.array.some"),R("core-js/modules/es.array.unscopables.flat"),R("core-js/modules/es.array.unscopables.flat-map"),R("core-js/modules/es.map"),R("core-js/modules/es.object.assign"),R("core-js/modules/es.object.to-string"),R("core-js/modules/es.set"),R("core-js/modules/es.string.includes"),R("core-js/modules/es.string.iterator"),R("core-js/modules/es.typed-array.float32-array"),R("core-js/modules/es.typed-array.float64-array"),R("core-js/modules/es.typed-array.int16-array"),R("core-js/modules/es.typed-array.uint8-array"),R("core-js/modules/es.typed-array.uint16-array"),R("core-js/modules/es.typed-array.uint32-array"),R("core-js/modules/es.typed-array.copy-within"),R("core-js/modules/es.typed-array.every"),R("core-js/modules/es.typed-array.fill"),R("core-js/modules/es.typed-array.filter"),R("core-js/modules/es.typed-array.find"),R("core-js/modules/es.typed-array.find-index"),R("core-js/modules/es.typed-array.for-each"),R("core-js/modules/es.typed-array.includes"),R("core-js/modules/es.typed-array.index-of"),R("core-js/modules/es.typed-array.iterator"),R("core-js/modules/es.typed-array.join"),R("core-js/modules/es.typed-array.last-index-of"),R("core-js/modules/es.typed-array.map"),R("core-js/modules/es.typed-array.reduce"),R("core-js/modules/es.typed-array.reduce-right"),R("core-js/modules/es.typed-array.reverse"),R("core-js/modules/es.typed-array.set"),R("core-js/modules/es.typed-array.slice"),R("core-js/modules/es.typed-array.some"),R("core-js/modules/es.typed-array.sort"),R("core-js/modules/es.typed-array.subarray"),R("core-js/modules/es.typed-array.to-locale-string"),R("core-js/modules/es.typed-array.to-string"),R("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.readPixelsWebGL=X,H.readPixelWebGL=U,H.default=void 0;var g=a(R("../core/main")),y=function(F){if(F&&F.__esModule)return F;if(null===F||"object"!==w(F)&&"function"!=typeof F)return{default:F};var K=u();if(K&&K.has(F))return K.get(F);var ie,Te={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(ie in F){var k;Object.prototype.hasOwnProperty.call(F,ie)&&((k=q?Object.getOwnPropertyDescriptor(F,ie):null)&&(k.get||k.set)?Object.defineProperty(Te,ie,k):Te[ie]=F[ie])}return Te.default=F,K&&K.set(F,Te),Te}(R("../core/constants")),C=a(R("./GeometryBuilder")),E=a(R("libtess")),s=(R("./p5.Shader"),R("./p5.Camera"),R("../core/p5.Renderer"),R("./p5.Matrix"),R("./p5.Framebuffer"),R("path"),R("./p5.Texture"));function u(){var F;return"function"!=typeof WeakMap?null:(u=function(){return F},F=new WeakMap)}function a(F){return F&&F.__esModule?F:{default:F}}function d(F){return function(K){if(Array.isArray(K)){for(var ie=0,Te=new Array(K.length);ie<K.length;ie++)Te[ie]=K[ie];return Te}}(F)||function(K){if(Symbol.iterator in Object(K)||"[object Arguments]"===Object.prototype.toString.call(K))return Array.from(K)}(F)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(F,K){for(var ie=0;ie<K.length;ie++){var Te=K[ie];Te.enumerable=Te.enumerable||!1,Te.configurable=!0,"value"in Te&&(Te.writable=!0),Object.defineProperty(F,Te.key,Te)}}function l(F,K,ie){return(l=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(ee,q,k){if(ee=function(me,xe){for(;!Object.prototype.hasOwnProperty.call(me,xe)&&null!==(me=_(me)););return me}(ee,q))return(ee=Object.getOwnPropertyDescriptor(ee,q)).get?ee.get.call(k):ee.value})(F,K,ie||F)}function m(F,K){return(m=Object.setPrototypeOf||function(ie,Te){return ie.__proto__=Te,ie})(F,K)}function h(F){if(void 0===F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function _(F){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(K){return K.__proto__||Object.getPrototypeOf(K)})(F)}function M(F,K,ie){K in F?Object.defineProperty(F,K,{value:ie,enumerable:!0,configurable:!0,writable:!0}):F[K]=ie}function x(F,K){z+="#define STROKE_CAP_".concat(F," ").concat(K,"\n"),N[y[F]]=K}function A(F,K){z+="#define STROKE_JOIN_".concat(F," ").concat(K,"\n"),I[y[F]]=K}var T,N={},I={},z="",Q={sphereMappingFrag:"#define PI 3.141592\n\nprecision highp float;\n  \nuniform sampler2D uSampler;\nuniform mat3 uNewNormalMatrix;\nuniform float uFovY;\nuniform float uAspect;\n\nvarying vec2 vTexCoord;\n  \nvoid main() {\n    float uFovX = uFovY * uAspect; \n    vec4 newTexColor = texture2D(uSampler, vTexCoord);\n    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);\n    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);\n    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );\n    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);\n    vec2 suv;\n    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);\n    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;\n    newTexColor = texture2D(uSampler, suv.xy);\n    gl_FragColor = newTexColor;\n}\n",immediateVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nOUT vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",normalVert:"IN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec4 uMaterialColor;\nuniform bool uUseVertexColor;\n\nOUT vec3 vVertexNormal;\nOUT highp vec2 vVertTexCoord;\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",normalFrag:"IN vec3 vVertexNormal;\nvoid main(void) {\n  OUT_COLOR = vec4(vVertexNormal, 1.0);\n}\n",basicFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",lightVert:(x("ROUND",0),x("PROJECT",1),x("SQUARE",2),A("ROUND",0),A("MITER",1),A("BEVEL",2),(R='#define PI 3.141592\n\nprecision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\nuniform mat3 uCameraRotation;\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\nuniform float metallic;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\n// setting from  _setImageLightUniforms()\n// boolean to initiate the calculateImageDiffuse and calculateImageSpecular\nuniform bool uUseImageLight;\n// texture for use in calculateImageDiffuse\nuniform sampler2D environmentMapDiffused;\n// texture for use in calculateImageSpecular\nuniform sampler2D environmentMapSpecular;\n// roughness for use in calculateImageSpecular\nuniform float levelOfDetail;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  float specularIntensity = mix(1.0, 0.4, metallic);\n  float diffuseIntensity = mix(1.0, 0.1, metallic);\n  if (uSpecular)\n    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;\n    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;\n  return lr;\n}\n\n// converts the range of "value" from [min1 to max1] to [min2 to max2]\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nvec2 mapTextureToNormal( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );\n  return angles;\n}\n\n\nvec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){\n  // make 2 seperate builds \n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position\n  vec3 worldNormal = normalize(vNormal * uCameraRotation);\n  vec2 newTexCoor = mapTextureToNormal( worldNormal );\n  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);\n}\n\nvec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){\n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);\n  vec3 worldNormal = normalize(vNormal);\n  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );\n  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;\n  vec2 newTexCoor = mapTextureToNormal( R );\n#ifdef WEBGL2\n  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);\n#else\n  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);\n#endif\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(\n    pow(outColor.xyz, vec3(10)),\n    pow(outColor.xyz, vec3(1.2)),\n    metallic \n  );\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  if( uUseImageLight ){\n    totalDiffuse += calculateImageDiffuse(normal, modelPosition);\n    totalSpecular += calculateImageSpecular(normal, modelPosition);\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n')+"// include lighting.glgl\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT highp vec2 vVertTexCoord;\nOUT vec3 vDiffuseColor;\nOUT vec3 vSpecularColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n"),lightTextureFrag:"uniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nIN highp vec2 vVertTexCoord;\nIN vec3 vDiffuseColor;\nIN vec3 vSpecularColor;\nIN vec4 vColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    OUT_COLOR = vColor;\n  }\n  else {\n    vec4 baseColor = isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);\n  }\n}\n",phongVert:"precision highp int;\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT vec3 vNormal;\nOUT vec2 vTexCoord;\nOUT vec3 vViewPosition;\nOUT vec3 vAmbientColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",phongFrag:R+"// include lighting.glsl\nprecision highp int;\n\nuniform bool uHasSetAmbient;\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nIN vec3 vNormal;\nIN vec2 vTexCoord;\nIN vec3 vViewPosition;\nIN vec3 vAmbientColor;\nIN vec4 vColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  vec4 baseColor = isTexture\n    // Textures come in with premultiplied alpha. To apply tint and still have\n    // premultiplied alpha output, we need to multiply the RGB channels by the\n    // tint RGB, and all channels by the tint alpha.\n    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n    // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n    // channels by alpha to convert it to premultiplied alpha.\n    : vec4(vColor.rgb * vColor.a, vColor.a);\n  OUT_COLOR = vec4(diffuse * baseColor.rgb + \n                    vAmbientColor * (\n                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb\n                    ) + \n                    specular * uSpecularMatColor.rgb + \n                    uEmissiveMatColor.rgb, baseColor.a);\n}\n",fontVert:"IN vec3 aPosition;\nIN vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nOUT vec2 vTexCoord;\nOUT float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // Expand glyph bounding boxes by 1px on each side to give a bit of room\n  // for antialiasing\n  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;\n  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;\n  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;\n  vec2 pixelScale = vec2(\n    1. / length(newOrigin - newDX),\n    1. / length(newOrigin - newDY)\n  );\n  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);\n  vec2 textureOffset = offset * (1. / vec2(\n    uGlyphRect.z - uGlyphRect.x,\n    uGlyphRect.w - uGlyphRect.y\n  ));\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n\n  positionVec4.xy += offset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord + textureOffset;\n  w = gl_Position.w;\n}\n",fontFrag:"#ifndef WEBGL2\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nIN vec2 vTexCoord;\n\n// some helper functions\nint ROUND(float v) { return ifloor(v + 0.5); }\nivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = ROUND(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n  OUT_COLOR *= saturate(max(antialias, cover));\n}\n",lineVert:z+"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nprecision mediump int;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform bool uUseLineColor;\nuniform vec4 uMaterialColor;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\nuniform int uStrokeJoin;\n\nIN vec4 aPosition;\nIN vec3 aTangentIn;\nIN vec3 aTangentOut;\nIN float aSide;\nIN vec4 aVertexColor;\n\nOUT vec4 vColor;\nOUT vec2 vTangent;\nOUT vec2 vCenter;\nOUT vec2 vPosition;\nOUT float vMaxDist;\nOUT float vCap;\nOUT float vJoin;\n\nvec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {\n  // Rotate and translate so a starts at the origin and goes out to the right\n  bPoint -= aPoint;\n  vec2 rotatedBFrom = vec2(\n    bPoint.x*aDir.x + bPoint.y*aDir.y,\n    bPoint.y*aDir.x - bPoint.x*aDir.y\n  );\n  vec2 bTo = bPoint + bDir;\n  vec2 rotatedBTo = vec2(\n    bTo.x*aDir.x + bTo.y*aDir.y,\n    bTo.y*aDir.x - bTo.x*aDir.y\n  );\n  float intersectionDistance =\n    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /\n    (rotatedBTo.y - rotatedBFrom.y);\n  return aPoint + aDir * intersectionDistance;\n}\n\nvoid main() {\n  // Caps have one of either the in or out tangent set to 0\n  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))\n    ? 1. : 0.;\n\n  // Joins have two unique, defined tangents\n  vJoin = (\n    aTangentIn != vec3(0.) &&\n    aTangentOut != vec3(0.) &&\n    aTangentIn != aTangentOut\n  ) ? 1. : 0.;\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));\n  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));\n\n  float facingCamera = pow(\n    // The word space tangent's z value is 0 if it's facing the camera\n    abs(normalize(posqIn-posp).z),\n\n    // Using pow() here to ramp `facingCamera` up from 0 to 1 really quickly\n    // so most lines get scaled and don't get clipped\n    0.25\n  );\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // This prevents popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  \n  float zOffset = mix(-0.00045, -1., facingCamera);\n  posp.z -= zOffset;\n  posqIn.z -= zOffset;\n  posqOut.z -= zOffset;\n  \n  vec4 p = uProjectionMatrix * posp;\n  vec4 qIn = uProjectionMatrix * posqIn;\n  vec4 qOut = uProjectionMatrix * posqOut;\n  vCenter = p.xy;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);\n  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);\n\n  vec2 curPerspScale;\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n\n    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.\n    // Multiplying again by its sign here negates the flip to get just the scale.\n    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  vec2 offset;\n  if (vJoin == 1.) {\n    vTangent = normalize(tangentIn + tangentOut);\n    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);\n    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);\n    float side = sign(aSide);\n    float sideEnum = abs(aSide);\n\n    // We generate vertices for joins on either side of the centerline, but\n    // the \"elbow\" side is the only one needing a join. By not setting the\n    // offset for the other side, all its vertices will end up in the same\n    // spot and not render, effectively discarding it.\n    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {\n      // Side enums:\n      //   1: the side going into the join\n      //   2: the middle of the join\n      //   3: the side going out of the join\n      if (sideEnum == 2.) {\n        // Calculate the position + tangent on either side of the join, and\n        // find where the lines intersect to find the elbow of the join\n        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;\n        vec2 intersection = lineIntersection(\n          c + (side * normalIn * uStrokeWeight / 2.),\n          tangentIn,\n          c + (side * normalOut * uStrokeWeight / 2.),\n          tangentOut\n        );\n        offset = (intersection - c);\n\n        // When lines are thick and the angle of the join approaches 180, the\n        // elbow might be really far from the center. We'll apply a limit to\n        // the magnitude to avoid lines going across the whole screen when this\n        // happens.\n        float mag = length(offset);\n        float maxMag = 3. * uStrokeWeight;\n        if (mag > maxMag) {\n          offset *= maxMag / mag;\n        }\n      } else if (sideEnum == 1.) {\n        offset = side * normalIn * uStrokeWeight / 2.;\n      } else if (sideEnum == 3.) {\n        offset = side * normalOut * uStrokeWeight / 2.;\n      }\n    }\n    if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);\n      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));\n    } else {\n      vMaxDist = uStrokeWeight / 2.;\n    }\n  } else {\n    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;\n    vTangent = tangent;\n    vec2 normal = vec2(-tangent.y, tangent.x);\n\n    float normalOffset = sign(aSide);\n    // Caps will have side values of -2 or 2 on the edge of the cap that\n    // extends out from the line\n    float tangentOffset = abs(aSide) - 1.;\n    offset = (normal * normalOffset + tangent * tangentOffset) *\n      uStrokeWeight * 0.5;\n    vMaxDist = uStrokeWeight / 2.;\n  }\n  vPosition = vCenter + offset;\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n  \n  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);\n}\n",lineFrag:z+"precision mediump int;\n\nuniform vec4 uMaterialColor;\nuniform int uStrokeCap;\nuniform int uStrokeJoin;\nuniform float uStrokeWeight;\n\nIN vec4 vColor;\nIN vec2 vTangent;\nIN vec2 vCenter;\nIN vec2 vPosition;\nIN float vMaxDist;\nIN float vCap;\nIN float vJoin;\n\nfloat distSquared(vec2 a, vec2 b) {\n  vec2 aToB = b - a;\n  return dot(aToB, aToB);\n}\n\nvoid main() {\n  if (vCap > 0.) {\n    if (\n      uStrokeCap == STROKE_CAP_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (\n      uStrokeCap == STROKE_CAP_SQUARE &&\n      dot(vPosition - vCenter, vTangent) > 0.\n    ) {\n      discard;\n    }\n    // Use full area for PROJECT\n  } else if (vJoin > 0.) {\n    if (\n      uStrokeJoin == STROKE_JOIN_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 normal = vec2(-vTangent.y, vTangent.x);\n      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {\n        discard;\n      }\n    }\n    // Use full area for MITER\n  }\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",pointVert:"IN vec3 aPosition;\nuniform float uPointSize;\nOUT float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}\n",pointFrag:"precision mediump int;\nuniform vec4 uMaterialColor;\nIN float vStrokeWeight;\n\nvoid main(){\n  float mask = 0.0;\n\n  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n  // if strokeWeight is 1 or less lets just draw a square\n  // this prevents weird artifacting from carving circles when our points are really small\n  // if strokeWeight is larger than 1, we just use it as is\n\n  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n  // throw away the borders of the mask\n  // otherwise we get weird alpha blending issues\n\n  if(mask > 0.98){\n    discard;\n  }\n\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n}\n",imageLightVert:"precision highp float;\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nvarying vec3 localPos;\nvarying vec3 vWorldNormal;\nvarying vec3 vWorldPosition;\nvarying vec2 vTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvoid main() {\n  // Multiply the position by the matrix.\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n  \n  // orient the normals and pass to the fragment shader\n  vWorldNormal = uNormalMatrix * aNormal;\n  \n  // send the view position to the fragment shader\n  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;\n  \n  localPos = vWorldPosition;\n  vTexCoord = aTexCoord;\n}\n\n\n/*\nin the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.\n*/\n",imageLightDiffusedFrag:"precision highp float;\nvarying vec3 localPos;\n\n// the HDR cubemap converted (can be from an equirectangular environment map.)\nuniform sampler2D environmentMap;\nvarying vec2 vTexCoord;\n\nconst float PI = 3.14159265359;\n\nvec2 nTOE( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( phi, theta );\n  return angles;\n}\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\nvoid main()\n{   \t \n\t// the sample direction equals the hemisphere's orientation\n  float phi = vTexCoord.x * 2.0 * PI;\n  float theta = vTexCoord.y * PI;\n  float x = sin(theta) * cos(phi);\n  float y = sin(theta) * sin(phi);\n  float z = cos(theta);\n  vec3 normal = vec3( x, y, z);\n\n\t// Discretely sampling the hemisphere given the integral's\n  // spherical coordinates translates to the following fragment code:\n\tvec3 irradiance = vec3(0.0);  \n\tvec3 up\t= vec3(0.0, 1.0, 0.0);\n\tvec3 right = normalize(cross(up, normal));\n\tup = normalize(cross(normal, right));\n\n\t//  We specify a fixed sampleDelta delta value to traverse\n  // the hemisphere; decreasing or increasing the sample delta\n  // will increase or decrease the accuracy respectively.\n\tconst float sampleDelta = 0.100;\n\tfloat nrSamples = 0.0;\n  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;\n\tfor(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)\n\t{\n    float phi = rawPhi + randomOffset;\n    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)\n    {\n      float theta = rawTheta + randomOffset;\n      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance\n      float x = sin(theta) * cos(phi);\n      float y = sin(theta) * sin(phi);\n      float z = cos(theta);\n      vec3 tangentSample = vec3( x, y, z);\n      \n      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;\n        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);\n      nrSamples++;\n    }\n\t}\n\t// divide by the total number of samples taken, giving us the average sampled irradiance.\n\tirradiance = PI * irradiance * (1.0 / float(nrSamples )) ;\n  \n \n\tgl_FragColor = vec4(irradiance, 1.0);\n}",imageLightSpecularFrag:"precision highp float;\r\nvarying vec3 localPos;\r\nvarying vec2 vTexCoord;\r\n\r\n// our texture\r\nuniform sampler2D environmentMap;\r\nuniform float roughness;\r\n\r\nconst float PI = 3.14159265359;\r\n\r\nfloat VanDerCorput(int bits);\r\nvec2 HammersleyNoBitOps(int i, int N);\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r\n\r\n\r\nvec2 nTOE( vec3 v ){\r\n  // x = r sin(phi) cos(theta)   \r\n  // y = r cos(phi)  \r\n  // z = r sin(phi) sin(theta)\r\n  float phi = acos( v.y );\r\n  // if phi is 0, then there are no x, z components\r\n  float theta = 0.0;\r\n  // else \r\n  theta = acos(v.x / sin(phi));\r\n  float sinTheta = v.z / sin(phi);\r\n  if (sinTheta < 0.0) {\r\n    // Turn it into -theta, but in the 0-2PI range\r\n    theta = 2.0 * PI - theta;\r\n  }\r\n  theta = theta / (2.0 * 3.14159);\r\n  phi = phi / 3.14159 ;\r\n  \r\n  vec2 angles = vec2( phi, theta );\r\n  return angles;\r\n}\r\n\r\n\r\nvoid main(){\r\n  const int SAMPLE_COUNT = 400; // 4096\r\n  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r\n  float totalWeight = 0.0;\r\n  vec3 prefilteredColor = vec3(0.0);\r\n  float phi = vTexCoord.x * 2.0 * PI;\r\n  float theta = vTexCoord.y * PI;\r\n  float x = sin(theta) * cos(phi);\r\n  float y = sin(theta) * sin(phi);\r\n  float z = cos(theta);\r\n  vec3 N = vec3(x,y,z);\r\n  vec3 V = N;\r\n  for (int i = 0; i < SAMPLE_COUNT; ++i)\r\n  {\r\n    // break at smaller sample numbers for low roughness levels\r\n    if(i == lowRoughnessLimit)\r\n    {\r\n      break;\r\n    }\r\n    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r\n    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r\n    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r\n\r\n    float NdotL = max(dot(N, L), 0.0);\r\n    if (NdotL > 0.0)\r\n    {\r\n      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r\n      totalWeight += NdotL;\r\n    }\r\n  }\r\n  prefilteredColor = prefilteredColor / totalWeight;\r\n\r\n  gl_FragColor = vec4(prefilteredColor, 1.0);\r\n}\r\n\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r\n  float a = roughness * roughness;\r\n\r\n  float phi = 2.0 * PI * Xi.x;\r\n  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r\n  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r\n  // from spherical coordinates to cartesian coordinates\r\n  vec3 H;\r\n  H.x = cos(phi) * sinTheta;\r\n  H.y = sin(phi) * sinTheta;\r\n  H.z = cosTheta;\r\n\r\n  // from tangent-space vector to world-space sample vector\r\n  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r\n  vec3 tangent = normalize(cross(up, N));\r\n  vec3 bitangent = cross(N, tangent);\r\n\r\n  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r\n  return normalize(sampleVec);\r\n}\r\n\r\n\r\nfloat VanDerCorput(int n, int base)\r\n{\r\n#ifdef WEBGL2\r\n\r\n    uint bits = uint(n);\r\n    bits = (bits << 16u) | (bits >> 16u);\r\n    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r\n    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r\n    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r\n    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r\n    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r\n\r\n#else\r\n\r\n  float invBase = 1.0 / float(base);\r\n  float denom = 1.0;\r\n  float result = 0.0;\r\n\r\n\r\n  for (int i = 0; i < 32; ++i)\r\n  {\r\n        if (n > 0)\r\n        {\r\n        denom = mod(float(n), 2.0);\r\n        result += denom * invBase;\r\n        invBase = invBase / 2.0;\r\n        n = int(float(n) / 2.0);\r\n        }\r\n  }\r\n\r\n\r\n  return result;\r\n\r\n#endif\r\n}\r\n\r\nvec2 HammersleyNoBitOps(int i, int N)\r\n{\r\n  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r\n}\r\n"},ne=Q.sphereMappingFrag;for(T in Q)Q[T]="#ifdef WEBGL2\n\n#define IN in\n#define OUT out\n\n#ifdef FRAGMENT_SHADER\nout vec4 outColor;\n#define OUT_COLOR outColor\n#endif\n#define TEXTURE texture\n\n#else\n\n#ifdef FRAGMENT_SHADER\n#define IN varying\n#else\n#define IN attribute\n#endif\n#define OUT varying\n#define TEXTURE texture2D\n\n#ifdef FRAGMENT_SHADER\n#define OUT_COLOR gl_FragColor\n#endif\n\n#endif\n"+Q[T];M(R={},y.GRAY,"precision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 tex = texture2D(tex0, vTexCoord);\n  float gray = luma(tex.rgb);\n  gl_FragColor = vec4(gray, gray, gray, tex.a);\n}\n"),M(R,y.ERODE,"// Reduces the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the darkest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum < lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),M(R,y.DILATE,"// Increase the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the brightest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum > lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),M(R,y.BLUR,"precision highp float;\n\n// Two-pass blur filter, unweighted kernel.\n// See also a similar blur at Adam Ferriss' repo of shader examples:\n// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag\n\n\nuniform sampler2D tex0;\nvarying vec2 vTexCoord;\nuniform vec2 direction;\nuniform vec2 canvasSize;\nuniform float radius;\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\n// This isn't a real Gaussian weight, it's a quadratic weight. It's what the\n// CPU mode's blur uses though, so we also use it here to match.\nfloat quadWeight(float x, float e) {\n  return pow(e-abs(x), 2.);\n}\n\nvoid main(){\n  vec2 uv = vTexCoord;\n\n  // A reasonable maximum number of samples\n  const float maxSamples = 64.0;\n\n  float numSamples = floor(7. * radius);\n  if (fract(numSamples / 2.) == 0.) {\n    numSamples++;\n  }\n  vec4 avg = vec4(0.0);\n  float total = 0.0;\n\n  // Calculate the spacing to avoid skewing if numSamples > maxSamples\n  float spacing = 1.0;\n  if (numSamples > maxSamples) {\n    spacing = numSamples / maxSamples;\n    numSamples = maxSamples;\n  }\n\n  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));\n  for (float i = 0.0; i < maxSamples; i++) {\n    if (i >= numSamples) break;\n\n    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;\n    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;\n    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);\n\n    avg += weight * texture2D(tex0, sampleCoord);\n    total += weight;\n  }\n\n  avg /= total;\n  gl_FragColor = avg;\n}\n"),M(R,y.POSTERIZE,"// Limit color space for a stylized cartoon / poster effect\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nvec3 quantize(vec3 color, float n) {\n  // restrict values to N options/bins\n  // and floor each channel to nearest value\n  //\n  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0\n  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)\n\n  color = color * n;\n  color = floor(color);\n  color = color / (n - 1.0);\n  return color;\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n\n  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);\n\n  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);\n}\n"),M(R,y.OPAQUE,"// Set alpha channel to entirely opaque\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  gl_FragColor = vec4(color.rgb / color.a, 1.0);\n}\n"),M(R,y.INVERT,"// Set each pixel to inverse value\n// Note that original INVERT does not change the opacity, so this follows suit\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\nvec4 color = texture2D(tex0, vTexCoord);\nvec3 origColor = color.rgb / color.a;\nvec3 invertedColor = vec3(1.0) - origColor;\ngl_FragColor = vec4(invertedColor * color.a, color.a);\n}\n"),M(R,y.THRESHOLD,"// Convert pixels to either white or black, \n// depending on if their luma is above or below filterParameter\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float gray = luma(color.rgb / color.a);\n  // floor() used to match src/image/filters.js\n  float threshold = floor(filterParameter * 255.0) / 255.0;\n  float blackOrWhite = step(threshold, gray);\n  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);\n}\n");var V=R;function X(F,K,mt,Te,q,k,ee,me,xe,Ge){var Ye=K.getParameter(K.FRAMEBUFFER_BINDING),We=k*ee*(K.bindFramebuffer(K.FRAMEBUFFER,mt),mt=me===K.RGBA?4:3),ct=xe===K.UNSIGNED_BYTE?Uint8Array:Float32Array;if(F instanceof ct&&F.length===We||(F=new ct(We)),K.readPixels(Te,Ge?Ge-q-ee:q,k,ee,me,xe,F),K.bindFramebuffer(K.FRAMEBUFFER,Ye),Ge)for(var dt=Math.floor(ee/2),Ve=new ct(k*mt),Qe=0;Qe<dt;Qe++){var Ze=Qe*k*4,at=(ee-Qe-1)*k*4;Ve.set(F.subarray(Ze,Ze+4*k)),F.copyWithin(Ze,at,at+4*k),F.set(Ve,at)}return F}function U(F,xe,ie,Te,q,k,ee){var me=F.getParameter(F.FRAMEBUFFER_BINDING);return F.bindFramebuffer(F.FRAMEBUFFER,xe),xe=q===F.RGBA?4:3,xe=new(k===F.UNSIGNED_BYTE?Uint8Array:Float32Array)(xe),F.readPixels(ie,ee?ee-Te-1:Te,1,1,q,k,xe),F.bindFramebuffer(F.FRAMEBUFFER,me),Array.from(xe)}g.default.prototype.setAttributes=function(F,K){if(void 0===this._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var ie=!0;if(void 0!==K?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[F]!==K&&(this._glAttributes[F]=K,ie=!1)):F instanceof Object&&this._glAttributes!==F&&(this._glAttributes=F,ie=!1),this._renderer.isP3D&&!ie){if(!this._setupDone)for(var Te in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(Te))return void g.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},g.default.RendererGL=function(F){var K=q;if("function"!=typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(F&&F.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),F&&m(K,F);var Te=function c(F){return function(){var K,ie,Te=_(F);return K=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(K=_(this).constructor,Reflect.construct(Te,arguments,K)):Te.apply(this,arguments),Te=this,!(ie=K)||"object"!==w(ie)&&"function"!=typeof ie?h(Te):ie}}(q);function q(k,ee,me,xe){if(this instanceof q)return(k=Te.call(this,k,ee,me))._setAttributeDefaults(ee),k._initContext(),k.isP3D=!0,k.geometryBuilder=void 0,k.GL=k.drawingContext,k._pInst._setProperty("drawingContext",k.drawingContext),k._isErasing=!1,k._clipDepths=[],k._isClipApplied=!1,k._stencilTestOn=!1,k._enableLighting=!1,k.ambientLightColors=[],k.mixedAmbientLight=[],k.mixedSpecularColor=[],k.specularColors=[1,1,1],k.directionalLightDirections=[],k.directionalLightDiffuseColors=[],k.directionalLightSpecularColors=[],k.pointLightPositions=[],k.pointLightDiffuseColors=[],k.pointLightSpecularColors=[],k.spotLightPositions=[],k.spotLightDirections=[],k.spotLightDiffuseColors=[],k.spotLightSpecularColors=[],k.spotLightAngle=[],k.spotLightConc=[],k.activeImageLight=null,k.diffusedTextures=new Map,k.specularTextures=new Map,k.drawMode=y.FILL,k.curFillColor=k._cachedFillStyle=[1,1,1,1],k.curAmbientColor=k._cachedFillStyle=[1,1,1,1],k.curSpecularColor=k._cachedFillStyle=[0,0,0,0],k.curEmissiveColor=k._cachedFillStyle=[0,0,0,0],k.curStrokeColor=k._cachedStrokeStyle=[0,0,0,1],k.curBlendMode=y.BLEND,k.preEraseBlend=void 0,k._cachedBlendMode=void 0,k.blendExt=k.webglVersion===y.WEBGL2?k.GL:k.GL.getExtension("EXT_blend_minmax"),k._isBlending=!1,k._hasSetAmbient=!1,k._useSpecularMaterial=!1,k._useEmissiveMaterial=!1,k._useNormalMaterial=!1,k._useShininess=1,k._useMetalness=0,k._useLineColor=!1,k._useVertexColor=!1,k.registerEnabled=new Set,k._tint=[255,255,255,255],k.constantAttenuation=1,k.linearAttenuation=0,k.quadraticAttenuation=0,k.uModelMatrix=new g.default.Matrix,k.uViewMatrix=new g.default.Matrix,k.uMVMatrix=new g.default.Matrix,k.uPMatrix=new g.default.Matrix,k.uNMatrix=new g.default.Matrix("mat3"),k.curMatrix=new g.default.Matrix("mat3"),k._currentNormal=new g.default.Vector(0,0,1),k._curCamera=new g.default.Camera(h(k)),k._curCamera._computeCameraDefaultSettings(),k._curCamera._setDefaultCamera(),k.filterCamera=new g.default.Camera(h(k)),k.filterCamera._computeCameraDefaultSettings(),k.filterCamera._setDefaultCamera(),k.prevTouches=[],k.zoomVelocity=0,k.rotateVelocity=new g.default.Vector(0,0),k.moveVelocity=new g.default.Vector(0,0),k.executeZoom=!1,k.executeRotateAndMove=!1,k.specularShader=void 0,k.sphereMapping=void 0,k.diffusedShader=void 0,k._defaultLightShader=void 0,k._defaultImmediateModeShader=void 0,k._defaultNormalShader=void 0,k._defaultColorShader=void 0,k._defaultPointShader=void 0,k.userFillShader=void 0,k.userStrokeShader=void 0,k.userPointShader=void 0,k.retainedMode={geometry:{},buffers:{stroke:[new g.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",h(k)),new g.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",h(k)),new g.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",h(k)),new g.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",h(k)),new g.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",h(k))],fill:[new g.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",h(k),k._vToNArray),new g.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",h(k),k._vToNArray),new g.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",h(k)),new g.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",h(k)),new g.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",h(k),k._flatten)],text:[new g.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",h(k),k._vToNArray),new g.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",h(k),k._flatten)]}},k.immediateMode={geometry:new g.default.Geometry,shapeMode:y.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new g.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",h(k),k._vToNArray),new g.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",h(k),k._vToNArray),new g.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",h(k)),new g.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",h(k)),new g.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",h(k),k._flatten)],stroke:[new g.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",h(k)),new g.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",h(k)),new g.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",h(k)),new g.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",h(k)),new g.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",h(k))],point:k.GL.createBuffer()}},k.pointSize=5,k.curStrokeWeight=1,k.curStrokeCap=y.ROUND,k.curStrokeJoin=y.ROUND,k.textures=new Map,k.framebuffers=new Set,k.activeFramebuffers=[],k.filterShader=void 0,k.filterLayer=void 0,k.filterLayerTemp=void 0,k.defaultFilterShaders={},k.textureMode=y.IMAGE,k.textureWrapX=y.CLAMP,k.textureWrapY=y.CLAMP,k._tex=null,k._curveTightness=6,k._lookUpTableBezier=[],k._lookUpTableQuadratic=[],k._lutBezierDetail=0,k._lutQuadraticDetail=0,k.isProcessingVertices=!1,k._tessy=k._initTessy(),k.fontInfos={},k._curShader=void 0,k;throw new TypeError("Cannot call a class as a function")}return K=q,(F=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new C.default(this)}},{key:"endGeometry",value:function(){var k;if(this.geometryBuilder)return k=this.geometryBuilder.finish(),this.geometryBuilder=void 0,k;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(k){return this.beginGeometry(),k(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(k){var ee={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};k._glAttributes=null===k._glAttributes?ee:Object.assign(ee,k._glAttributes)}},{key:"_initContext",value:function(){if(1!==this._pInst._glAttributes.version&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?y.WEBGL2:y.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),null===this.drawingContext)throw new Error("Error creating webgl context");var k=this.drawingContext;k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL),k.viewport(0,0,k.drawingBufferWidth,k.drawingBufferHeight),k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var k=this.drawingContext;return k.getParameter(k.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(k,ee){this._maxTextureSize||(this._maxTextureSize=this._getParam());var xe=this._maxTextureSize,me=(xe=Math.floor(xe/this.pixelDensity()),Math.min(k,xe));return xe=Math.min(ee,xe),me===k&&xe===ee||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(me,", height: ").concat(xe,".")),{adjustedWidth:me,adjustedHeight:xe}}},{key:"_resetContext",value:function(k,ee){var me,xe=this.width,Ge=this.height,mt=this.canvas.id,Ye=this._pInst instanceof g.default.Graphics;Ye?((me=this._pInst).canvas.parentNode.removeChild(me.canvas),me.canvas=document.createElement("canvas"),(me._pInst._userNode||document.body).appendChild(me.canvas),g.default.Element.call(me,me.canvas,me._pInst),me.width=xe,me.height=Ge):((me=this.canvas)&&me.parentNode.removeChild(me),(me=document.createElement("canvas")).id=mt,(this._pInst._userNode||document.body).appendChild(me),this._pInst.canvas=me,this.canvas=me),mt=new g.default.RendererGL(this._pInst.canvas,this._pInst,!Ye),this._pInst._setProperty("_renderer",mt),mt.resize(xe,Ge),mt._applyDefaults(),Ye||this._pInst._elements.push(mt),"function"==typeof ee&&setTimeout(function(){ee.apply(window._renderer,k)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var xe=(xe=this._pInst).color.apply(xe,arguments);this.clear(xe.levels[0]/255,xe.levels[1]/255,xe.levels[2]/255,xe=xe.levels[3]/255)}},{key:"fill",value:function(k,ee,me,xe){var Ge=g.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=Ge._array,this.drawMode=y.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(k,ee,me,xe){var Ge=g.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=Ge._array}},{key:"strokeCap",value:function(k){this.curStrokeCap=k}},{key:"strokeJoin",value:function(k){this.curStrokeJoin=k}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(k,ee){k.width===ee.width&&k.height===ee.height||k.resize(ee.width,ee.height),k.pixelDensity()!==ee.pixelDensity()&&k.pixelDensity(ee.pixelDensity())}},{key:"filter",value:function(){var k,ee,me=this,xe=this.getFilterLayer(),Ge=void 0,Ye=void 0,mt=("string"==typeof(arguments.length<=0?void 0:arguments[0])?(Ye=arguments.length<=0?void 0:arguments[0],M(k={},y.BLUR,3),M(k,y.POSTERIZE,4),M(k,y.THRESHOLD,.5),Ge=Ye in k&&void 0===(arguments.length<=1?void 0:arguments[1])?k[Ye]:arguments.length<=1?void 0:arguments[1],Ye in this.defaultFilterShaders||(this.defaultFilterShaders[Ye]=new g.default.Shader(xe._renderer,"uniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nattribute vec3 aPosition;\n// texcoords only come from p5 to vertex shader\n// so pass texcoords on to the fragment shader in a varying variable\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n  // transferring texcoords for the frag shader\n  vTexCoord = aTexCoord;\n\n  // copy position with a fourth coordinate for projection (1.0 is normal)\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n}\n",V[Ye])),this.filterShader=this.defaultFilterShaders[Ye]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),We=(this.matchSize(xe,mt),xe.draw(function(){return me._pInst.clear()}),[1/(mt.width*mt.pixelDensity()),1/(mt.height*mt.pixelDensity())]);Ye===y.BLUR?(ee=this.getFilterLayerTemp(),this.matchSize(ee,mt),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(y.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",We),this.filterShader.setUniform("canvasSize",[mt.width,mt.height]),this.filterShader.setUniform("radius",Math.max(1,Ge)),ee.draw(function(){me.filterShader.setUniform("direction",[1,0]),me.filterShader.setUniform("tex0",mt),me._pInst.clear(),me._pInst.shader(me.filterShader),me._pInst.noLights(),me._pInst.plane(mt.width,mt.height)}),xe.draw(function(){me.filterShader.setUniform("direction",[0,1]),me.filterShader.setUniform("tex0",ee),me._pInst.clear(),me._pInst.shader(me.filterShader),me._pInst.noLights(),me._pInst.plane(mt.width,mt.height)}),this._pInst.pop()):xe.draw(function(){me._pInst.noStroke(),me._pInst.blendMode(y.BLEND),me._pInst.shader(me.filterShader),me.filterShader.setUniform("tex0",mt),me.filterShader.setUniform("texelSize",We),me.filterShader.setUniform("canvasSize",[mt.width,mt.height]),me.filterShader.setUniform("filterParameter",Ge),me._pInst.noLights(),me._pInst.plane(mt.width,mt.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(y.CORNER),this._pInst.blendMode(y.BLEND),mt.filterCamera._resize(),this._pInst.setCamera(mt.filterCamera),this._pInst.resetMatrix(),this._pInst.image(xe,-mt.width/2,-mt.height/2,mt.width,mt.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(k){return k?this._pInst.pixelDensity(k):this._pInst.pixelDensity()}},{key:"blendMode",value:function(k){k===y.DARKEST||k===y.LIGHTEST||k===y.ADD||k===y.BLEND||k===y.SUBTRACT||k===y.SCREEN||k===y.EXCLUSION||k===y.REPLACE||k===y.MULTIPLY||k===y.REMOVE?this.curBlendMode=k:k!==y.BURN&&k!==y.OVERLAY&&k!==y.HARD_LIGHT&&k!==y.SOFT_LIGHT&&k!==y.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(k,ee){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(y.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,k/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,ee/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var k=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(l(_(q.prototype),"beginClip",this).call(this,k),this.drawTarget()._isClipApplied=!0,k=this.GL).clearStencil(0),k.clear(k.STENCIL_BUFFER_BIT),k.enable(k.STENCIL_TEST),this._stencilTestOn=!0,k.stencilFunc(k.ALWAYS,1,255),k.stencilOp(k.KEEP,k.KEEP,k.REPLACE),k.disable(k.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var k=this.GL;k.stencilOp(k.KEEP,k.KEEP,k.KEEP),k.stencilFunc(this._clipInvert?k.EQUAL:k.NOTEQUAL,0,255),k.enable(k.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),l(_(q.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(k){this.curStrokeWeight!==k&&(this.pointSize=k,this.curStrokeWeight=k)}},{key:"_getPixel",value:function(k,ee){var me=this.GL;return U(me,null,k,ee,me.RGBA,me.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var k,ee,me=this._pixelsState;!0!==this._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):me._setProperty("pixels",X(me.pixels,ee=this.GL,null,0,0,this.width*(k=this._pInst._pixelDensity),this.height*k,ee.RGBA,ee.UNSIGNED_BYTE,this.height*k))}},{key:"updatePixels",value:function(){var k=this._getTempFramebuffer();k.pixels=this._pixelsState.pixels,k.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(y.CENTER),this._pInst.image(k,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:y.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:y.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(k){return void 0!==this.retainedMode.geometry[k]}},{key:"viewport",value:function(k,ee){this._viewport=[0,0,k,ee],this.GL.viewport(0,0,k,ee)}},{key:"resize",value:function(Ge,xe){g.default.Renderer.prototype.resize.call(this,Ge,xe),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var me=(void 0!==(Ge=this._pixelsState).pixels&&Ge._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);xe=!1,Ge=void 0;try{for(var Ye,mt=this.framebuffers[Symbol.iterator]();!(me=(Ye=mt.next()).done);me=!0)Ye.value._canvasSizeChanged()}catch(We){xe=!0,Ge=We}finally{try{me||null==mt.return||mt.return()}finally{if(xe)throw Ge}}}},{key:"clear",value:function(){var k=(arguments.length<=0?void 0:arguments[0])||0,ee=(arguments.length<=1?void 0:arguments[1])||0,me=(arguments.length<=2?void 0:arguments[2])||0,xe=(arguments.length<=3?void 0:arguments[3])||0,Ge=this.activeFramebuffer();Ge&&Ge.format===y.UNSIGNED_BYTE&&!Ge.antialias&&0===xe&&(xe=1e-10),this.GL.clearColor(k*xe,ee*xe,me*xe,xe),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(k,ee,me,xe,Ge,Ye){16===arguments.length?g.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([k,ee,0,0,me,xe,0,0,0,0,1,0,Ge,Ye,0,1])}},{key:"translate",value:function(k,ee,me){return k instanceof g.default.Vector&&(me=k.z,ee=k.y,k=k.x),this.uModelMatrix.translate([k,ee,me]),this}},{key:"scale",value:function(k,ee,me){return this.uModelMatrix.scale(k,ee,me),this}},{key:"rotate",value:function(k,ee){return void 0===ee?this.rotateZ(k):(g.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(k){return this.rotate(k,1,0,0),this}},{key:"rotateY",value:function(k){return this.rotate(k,0,1,0),this}},{key:"rotateZ",value:function(k){return this.rotate(k,0,0,1),this}},{key:"push",value:function(){var k=g.default.Renderer.prototype.push.apply(this),ee=k.properties;return ee.uModelMatrix=this.uModelMatrix.copy(),ee.uViewMatrix=this.uViewMatrix.copy(),ee.uPMatrix=this.uPMatrix.copy(),ee._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),ee.ambientLightColors=this.ambientLightColors.slice(),ee.specularColors=this.specularColors.slice(),ee.directionalLightDirections=this.directionalLightDirections.slice(),ee.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),ee.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),ee.pointLightPositions=this.pointLightPositions.slice(),ee.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),ee.pointLightSpecularColors=this.pointLightSpecularColors.slice(),ee.spotLightPositions=this.spotLightPositions.slice(),ee.spotLightDirections=this.spotLightDirections.slice(),ee.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),ee.spotLightSpecularColors=this.spotLightSpecularColors.slice(),ee.spotLightAngle=this.spotLightAngle.slice(),ee.spotLightConc=this.spotLightConc.slice(),ee.userFillShader=this.userFillShader,ee.userStrokeShader=this.userStrokeShader,ee.userPointShader=this.userPointShader,ee.pointSize=this.pointSize,ee.curStrokeWeight=this.curStrokeWeight,ee.curStrokeColor=this.curStrokeColor,ee.curFillColor=this.curFillColor,ee.curAmbientColor=this.curAmbientColor,ee.curSpecularColor=this.curSpecularColor,ee.curEmissiveColor=this.curEmissiveColor,ee._hasSetAmbient=this._hasSetAmbient,ee._useSpecularMaterial=this._useSpecularMaterial,ee._useEmissiveMaterial=this._useEmissiveMaterial,ee._useShininess=this._useShininess,ee._useMetalness=this._useMetalness,ee.constantAttenuation=this.constantAttenuation,ee.linearAttenuation=this.linearAttenuation,ee.quadraticAttenuation=this.quadraticAttenuation,ee._enableLighting=this._enableLighting,ee._useNormalMaterial=this._useNormalMaterial,ee._tex=this._tex,ee.drawMode=this.drawMode,ee._currentNormal=this._currentNormal,ee.curBlendMode=this.curBlendMode,ee.activeImageLight=this.activeImageLight,k}},{key:"pop",value:function(){var k;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var ee=arguments.length,me=new Array(ee),xe=0;xe<ee;xe++)me[xe]=arguments[xe];(k=l(_(q.prototype),"pop",this)).call.apply(k,[this].concat(me)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var k=this.drawTarget();k._isClipApplied!==this._stencilTestOn&&(k._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var k=this.userStrokeShader;return k&&k.isStrokeShader()?k:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(k){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(ne)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",k),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var k=this.userFillShader;if(this._useNormalMaterial&&(!k||!k.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!k||!k.isLightShader())return this._getLightShader()}else if(this._tex){if(!k||!k.isTextureShader())return this._getLightShader()}else if(!k)return this._getImmediateModeShader();return k}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var k=this.userFillShader;if(this._enableLighting){if(!k||!k.isLightShader())return this._getLightShader()}else if(this._tex){if(!k||!k.isTextureShader())return this._getLightShader()}else if(!k)return this._getColorShader();return k}},{key:"_getImmediatePointShader",value:function(){var k=this.userPointShader;return k&&k.isPointShader()?k:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._defaultLightShader=this._pInst._glAttributes.perPixelLighting?new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+Q.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+Q.phongFrag):new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+Q.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+Q.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Q.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+Q.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Q.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+Q.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Q.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+Q.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Q.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+Q.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Q.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+Q.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===y.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Q.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+Q.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(k,ee){var me="";return this.webglVersion===y.WEBGL2&&(me+="#version 300 es\n#define WEBGL2\n"),"vert"===k?me+="#define VERTEX_SHADER\n":"frag"===k&&(me+="#define FRAGMENT_SHADER\n"),ee&&(me+="precision ".concat(ee," float;\n")),me}},{key:"_getEmptyTexture",value:function(){var k;return this._emptyTexture||((k=new g.default.Image(1,1)).set(0,0,255),this._emptyTexture=new g.default.Texture(this,k)),this._emptyTexture}},{key:"getTexture",value:function(k){k instanceof g.default.Framebuffer&&(k=k.color);var ee=this.textures.get(k);return ee||(ee=new g.default.Texture(this,k),this.textures.set(k,ee),ee)}},{key:"getDiffusedTexture",value:function(k){var ee,me,xe=this;return null!=this.diffusedTextures.get(k)?this.diffusedTextures.get(k):(ee=Math.floor(k.height/k.width*200),me=this._pInst.createFramebuffer({width:200,height:ee,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(Q.imageLightVert,Q.imageLightDiffusedFrag)),me.draw(function(){xe._pInst.shader(xe.diffusedShader),xe.diffusedShader.setUniform("environmentMap",k),xe._pInst.noStroke(),xe._pInst.rectMode(y.CENTER),xe._pInst.noLights(),xe._pInst.rect(0,0,200,ee)}),this.diffusedTextures.set(k,me),me)}},{key:"getSpecularTexture",value:function(k){var ee=this;if(null!=this.specularTextures.get(k))return this.specularTextures.get(k);for(var me,xe=[],Ge=this._pInst.createFramebuffer({width:512,height:512,density:1}),Ye=Math.log(512)/Math.log(2),mt=(this.specularShader||(this.specularShader=this._pInst.createShader(Q.imageLightVert,Q.imageLightSpecularFrag)),512);1<=mt;mt/=2)!function(We){Ge.resize(We,We);var ct=1-Math.log(We)/Math.log(2)/Ye;Ge.draw(function(){ee._pInst.shader(ee.specularShader),ee._pInst.clear(),ee.specularShader.setUniform("environmentMap",k),ee.specularShader.setUniform("roughness",ct),ee._pInst.noStroke(),ee._pInst.noLights(),ee._pInst.plane(We,We)}),xe.push(Ge.get().drawingContext.getImageData(0,0,We,We))}(mt);return Ge.remove(),me=new s.MipmapTexture(this,xe,{}),this.specularTextures.set(k,me),me}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(k){return new g.default.Framebuffer(this,k)}},{key:"_setStrokeUniforms",value:function(k){k.bindShader(),k.setUniform("uUseLineColor",this._useLineColor),k.setUniform("uMaterialColor",this.curStrokeColor),k.setUniform("uStrokeWeight",this.curStrokeWeight),k.setUniform("uStrokeCap",N[this.curStrokeCap]),k.setUniform("uStrokeJoin",I[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(k){var ee=this,me=(k.bindShader(),this.mixedSpecularColor=d(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(xe,Ge){return ee.curFillColor[Ge]*ee._useMetalness+xe*(1-ee._useMetalness)})),k.setUniform("uUseVertexColor",this._useVertexColor),k.setUniform("uMaterialColor",this.curFillColor),k.setUniform("isTexture",!!this._tex),this._tex&&k.setUniform("uSampler",this._tex),k.setUniform("uTint",this._tint),k.setUniform("uHasSetAmbient",this._hasSetAmbient),k.setUniform("uAmbientMatColor",this.curAmbientColor),k.setUniform("uSpecularMatColor",this.mixedSpecularColor),k.setUniform("uEmissiveMatColor",this.curEmissiveColor),k.setUniform("uSpecular",this._useSpecularMaterial),k.setUniform("uEmissive",this._useEmissiveMaterial),k.setUniform("uShininess",this._useShininess),k.setUniform("metallic",this._useMetalness),this._setImageLightUniforms(k),k.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3);k.setUniform("uPointLightCount",me),k.setUniform("uPointLightLocation",this.pointLightPositions),k.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),k.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),k.setUniform("uDirectionalLightCount",me=this.directionalLightDiffuseColors.length/3),k.setUniform("uLightingDirection",this.directionalLightDirections),k.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),k.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),me=this.ambientLightColors.length/3,this.mixedAmbientLight=d(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(xe){return Math.max(0,xe-=ee._useMetalness)})),k.setUniform("uAmbientLightCount",me),k.setUniform("uAmbientColor",this.mixedAmbientLight),k.setUniform("uSpotLightCount",me=this.spotLightDiffuseColors.length/3),k.setUniform("uSpotLightAngle",this.spotLightAngle),k.setUniform("uSpotLightConc",this.spotLightConc),k.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),k.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),k.setUniform("uSpotLightLocation",this.spotLightPositions),k.setUniform("uSpotLightDirection",this.spotLightDirections),k.setUniform("uConstantAttenuation",this.constantAttenuation),k.setUniform("uLinearAttenuation",this.linearAttenuation),k.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),k.bindTextures()}},{key:"_setImageLightUniforms",value:function(k){var ee;k.setUniform("uUseImageLight",null!=this.activeImageLight),this.activeImageLight&&(ee=this.getDiffusedTexture(this.activeImageLight),k.setUniform("environmentMapDiffused",ee),ee=this.getSpecularTexture(this.activeImageLight),k.setUniform("levelOfDetail",20/this._useShininess*8),k.setUniform("environmentMapSpecular",ee))}},{key:"_setPointUniforms",value:function(k){k.bindShader(),k.setUniform("uMaterialColor",this.curStrokeColor),k.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(k,ee,me,xe,Ge){this.GL.bindBuffer(ee=ee||this.GL.ARRAY_BUFFER,k),void 0!==me&&((k=me)instanceof g.default.DataArray?k=me.dataArray():k instanceof(xe||Float32Array)||(k=new(xe||Float32Array)(k)),this.GL.bufferData(ee,k,Ge||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(k,ee){return k.length===ee.length&&k.every(function(me,xe){return me===ee[xe]})}},{key:"_isTypedArray",value:function(k){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(ee){return k instanceof ee})}},{key:"_flatten",value:function(k){return k.flat()}},{key:"_vToNArray",value:function(k){return k.flatMap(function(ee){return[ee.x,ee.y,ee.z]})}},{key:"_bezierCoefficients",value:function(k){var ee=k*k,me=1-k,xe=me*me;return[xe*me,3*xe*k,3*me*ee,ee*k]}},{key:"_quadraticCoefficients",value:function(k){var ee=1-k;return[ee*ee,2*ee*k,k*k]}},{key:"_bezierToCatmull",value:function(k){return[k[1],k[1]+(k[2]-k[0])/this._curveTightness,k[2]-(k[3]-k[1])/this._curveTightness,k[2]]}},{key:"_initTessy",value:function(){var k=new E.default.GluTesselator;return k.gluTessCallback(E.default.gluEnum.GLU_TESS_VERTEX_DATA,function(ee,me){var xe=!0,Ge=!1,Ye=void 0;try{for(var mt,We=ee[Symbol.iterator]();!(xe=(mt=We.next()).done);xe=!0)me.push(mt.value)}catch(dt){Ge=!0,Ye=dt}finally{try{xe||null==We.return||We.return()}finally{if(Ge)throw Ye}}}),k.gluTessCallback(E.default.gluEnum.GLU_TESS_BEGIN,function(ee){ee!==E.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(ee))}),k.gluTessCallback(E.default.gluEnum.GLU_TESS_ERROR,function(ee){console.log("error callback"),console.log("error number: ".concat(ee))}),k.gluTessCallback(E.default.gluEnum.GLU_TESS_COMBINE,function(ee,me,xe){for(var Ge=new Array(g.default.RendererGL.prototype.tessyVertexSize).fill(0),Ye=0;Ye<xe.length;Ye++)for(var mt=0;mt<Ge.length;mt++)0!==xe[Ye]&&me[Ye]&&(Ge[mt]+=me[Ye][mt]*xe[Ye]);return Ge}),k.gluTessCallback(E.default.gluEnum.GLU_TESS_EDGE_FLAG,function(ee){}),k.gluTessProperty(E.default.gluEnum.GLU_TESS_WINDING_RULE,E.default.windingRule.GLU_TESS_WINDING_NONZERO),k}},{key:"_triangulate",value:function(k){var ee=k[0]?k[0][2]:void 0,me=!0,xe=!0,ct=!1,Ve=void 0;try{for(var Ge,Ye=k[Symbol.iterator]();!(xe=(Ge=Ye.next()).done);xe=!0)for(var mt=Ge.value,We=0;We<mt.length;We+=g.default.RendererGL.prototype.tessyVertexSize)if(mt[We+2]!==ee){me=!1;break}}catch(on){ct=!0,Ve=on}finally{try{xe||null==Ye.return||Ye.return()}finally{if(ct)throw Ve}}this._tessy.gluTessNormal(0,0,me?1:0);var dt=(this._tessy.gluTessBeginPolygon(ct=[]),!0),Qe=void(Ve=!1);try{for(var Ze,at=k[Symbol.iterator]();!(dt=(Ze=at.next()).done);dt=!0){var et=Ze.value;this._tessy.gluTessBeginContour();for(var st=0;st<et.length;st+=g.default.RendererGL.prototype.tessyVertexSize){var Dt=et.slice(st,st+g.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Dt,Dt)}this._tessy.gluTessEndContour()}}catch(on){Ve=!0,Qe=on}finally{try{dt||null==at.return||at.return()}finally{if(Ve)throw Qe}}return this._tessy.gluTessEndPolygon(),ct}}])&&p(K.prototype,F),q}(g.default.Renderer),g.default.prototype._assert3d=function(F){if(!this._renderer.isP3D)throw new Error("".concat(F,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},g.default.RendererGL.prototype.tessyVertexSize=12,H.default=R=g.default.RendererGL},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(o,oe,H){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function w(g,y){for(var C=0;C<y.length;C++){var E=y[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(g,E.key,E)}}v.default.Shader=function(){function g(s,u,a){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this._renderer=s,this._vertSrc=u,this._fragSrc=a,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var y,C;return y=g,(C=[{key:"init",value:function(){if(0===this._glProgram){var s=this._renderer.GL;if(this._vertShader=s.createShader(s.VERTEX_SHADER),s.shaderSource(this._vertShader,this._vertSrc),s.compileShader(this._vertShader),!s.getShaderParameter(this._vertShader,s.COMPILE_STATUS))return v.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(s.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=s.createShader(s.FRAGMENT_SHADER),s.shaderSource(this._fragShader,this._fragSrc),s.compileShader(this._fragShader),!s.getShaderParameter(this._fragShader,s.COMPILE_STATUS))return v.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(s.getShaderInfoLog(this._fragShader))),null;this._glProgram=s.createProgram(),s.attachShader(this._glProgram,this._vertShader),s.attachShader(this._glProgram,this._fragShader),s.linkProgram(this._glProgram),s.getProgramParameter(this._glProgram,s.LINK_STATUS)||v.default._friendlyError("Snap! Error linking shader program: ".concat(s.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(s){var u=new v.default.Shader(s._renderer,this._vertSrc,this._fragSrc);return u.ensureCompiledOnContext(s),u}},{key:"ensureCompiledOnContext",value:function(s){if(0!==this._glProgram&&this._renderer!==s._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");0===this._glProgram&&(this._renderer=s._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var s=this._renderer.GL,u=s.getProgramParameter(this._glProgram,s.ACTIVE_ATTRIBUTES),a=0;a<u;++a){var d=s.getActiveAttrib(this._glProgram,a),p=d.name,l=s.getAttribLocation(this._glProgram,p),m={};m.name=p,m.location=l,m.index=a,m.type=d.type,m.size=d.size,this.attributes[p]=m}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var s=this._renderer.GL,u=s.getProgramParameter(this._glProgram,s.ACTIVE_UNIFORMS),a=0,d=0;d<u;++d){var p=s.getActiveUniform(this._glProgram,d),l={},m=(l.location=s.getUniformLocation(this._glProgram,p.name),l.size=p.size,p.name);1<p.size&&(m=m.substring(0,m.indexOf("[0]"))),l.name=m,l.type=p.type,l._cachedData=void 0,l.type===s.SAMPLER_2D&&(l.samplerIndex=a,a++,this.samplers.push(l)),l.isArray=1<p.size||l.type===s.FLOAT_MAT3||l.type===s.FLOAT_MAT4||l.type===s.FLOAT_VEC2||l.type===s.FLOAT_VEC3||l.type===s.FLOAT_VEC4||l.type===s.INT_VEC2||l.type===s.INT_VEC4||l.type===s.INT_VEC3,this.uniforms[m]=l}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var s=this._renderer.GL,u=!0,a=!1,d=void 0;try{for(var p,l=this.samplers[Symbol.iterator]();!(u=(p=l.next()).done);u=!0){var m=p.value,c=m.texture;void 0===c&&(c=this._renderer._getEmptyTexture()),s.activeTexture(s.TEXTURE0+m.samplerIndex),c.bindTexture(),c.update(),s.uniform1i(m.location,m.samplerIndex)}}catch(h){a=!0,d=h}finally{try{u||null==l.return||l.return()}finally{if(a)throw d}}}},{key:"updateTextures",value:function(){var s=!0,u=!1,a=void 0;try{for(var d,p=this.samplers[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var l=d.value.texture;l&&l.update()}}catch(m){u=!0,a=m}finally{try{s||null==p.return||p.return()}finally{if(u)throw a}}}},{key:"unbindTextures",value:function(){var s=!0,u=!1,a=void 0;try{for(var d,p=this.samplers[Symbol.iterator]();!(s=(d=p.next()).done);s=!0)this.setUniform(d.value.name,this._renderer._getEmptyTexture())}catch(m){u=!0,a=m}finally{try{s||null==p.return||p.return()}finally{if(u)throw a}}}},{key:"_setMatrixUniforms",value:function(){var s=this._renderer.uModelMatrix,u=this._renderer.uViewMatrix,a=this._renderer.uPMatrix,d=s.copy().mult(u),p=(this._renderer.uMVMatrix=d).copy();p.mult(a),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",u.mat4),this.setUniform("uProjectionMatrix",a.mat4),this.setUniform("uModelMatrix",s.mat4),this.setUniform("uModelViewMatrix",d.mat4),this.setUniform("uModelViewProjectionMatrix",p.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){return this._renderer._curShader!==this&&(this._renderer.GL.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(s,u){var a=this.uniforms[s];if(a){var d=this._renderer.GL;if(a.isArray){if(a._cachedData&&this._renderer._arraysEqual(a._cachedData,u))return;a._cachedData=u.slice(0)}else{if(a._cachedData&&a._cachedData===u)return;a._cachedData=Array.isArray(u)?u.slice(0):u}var p=a.location;switch(this.useProgram(),a.type){case d.BOOL:d.uniform1i(p,!0===u?1:0);break;case d.INT:1<a.size?u.length&&d.uniform1iv(p,u):d.uniform1i(p,u);break;case d.FLOAT:1<a.size?u.length&&d.uniform1fv(p,u):d.uniform1f(p,u);break;case d.FLOAT_MAT3:d.uniformMatrix3fv(p,!1,u);break;case d.FLOAT_MAT4:d.uniformMatrix4fv(p,!1,u);break;case d.FLOAT_VEC2:1<a.size?u.length&&d.uniform2fv(p,u):d.uniform2f(p,u[0],u[1]);break;case d.FLOAT_VEC3:1<a.size?u.length&&d.uniform3fv(p,u):d.uniform3f(p,u[0],u[1],u[2]);break;case d.FLOAT_VEC4:1<a.size?u.length&&d.uniform4fv(p,u):d.uniform4f(p,u[0],u[1],u[2],u[3]);break;case d.INT_VEC2:1<a.size?u.length&&d.uniform2iv(p,u):d.uniform2i(p,u[0],u[1]);break;case d.INT_VEC3:1<a.size?u.length&&d.uniform3iv(p,u):d.uniform3i(p,u[0],u[1],u[2]);break;case d.INT_VEC4:1<a.size?u.length&&d.uniform4iv(p,u):d.uniform4i(p,u[0],u[1],u[2],u[3]);break;case d.SAMPLER_2D:d.activeTexture(d.TEXTURE0+a.samplerIndex),a.texture=u instanceof v.default.Texture?u:this._renderer.getTexture(u),d.uniform1i(p,a.samplerIndex),a.texture.src.gifProperties&&a.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(s){return void 0!==s})}},{key:"isNormalShader",value:function(){return void 0!==this.attributes.aNormal}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return void 0!==this.uniforms.uStrokeWeight}},{key:"enableAttrib",value:function(s,u,a,d,p,l){var m;return s&&-1!==(s=s.location)&&(m=this._renderer.GL,this._renderer.registerEnabled.has(s)||(m.enableVertexAttribArray(s),this._renderer.registerEnabled.add(s)),this._renderer.GL.vertexAttribPointer(s,u,a||m.FLOAT,d||!1,p||0,l||0)),this}},{key:"disableRemainingAttributes",value:function(){var s=this,u=!0,a=!1,d=void 0;try{for(var p,l=this._renderer.registerEnabled.values()[Symbol.iterator]();!(u=(p=l.next()).done);u=!0)!function(){var m=p.value;Object.keys(s.attributes).some(function(c){return s.attributes[c].location===m})||(s._renderer.GL.disableVertexAttribArray(m),s._renderer.registerEnabled.delete(m))}()}catch(m){a=!0,d=m}finally{try{u||null==l.return||l.return()}finally{if(a)throw d}}}}])&&w(y.prototype,C),g}(),H.default=o=v.default.Shader},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(o,oe,H){"use strict";function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function w(c){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(h){return v(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":v(h)})(c)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(H,"__esModule",{value:!0}),H.checkWebGLCapabilities=m,H.default=H.MipmapTexture=void 0;var g=(l=o("../core/main"))&&l.__esModule?l:{default:l},y=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==w(c)&&"function"!=typeof c)return{default:c};var h=C();if(h&&h.has(c))return h.get(c);var _,M={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in c){var A;Object.prototype.hasOwnProperty.call(c,_)&&((A=x?Object.getOwnPropertyDescriptor(c,_):null)&&(A.get||A.set)?Object.defineProperty(M,_,A):M[_]=c[_])}return M.default=c,h&&h.set(c,M),M}(o("../core/constants"));function C(){var c;return"function"!=typeof WeakMap?null:(C=function(){return c},c=new WeakMap)}function E(c,h){return(E=Object.setPrototypeOf||function(_,M){return _.__proto__=M,_})(c,h)}function u(c){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})(c)}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function d(c,h){for(var _=0;_<h.length;_++){var M=h[_];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(c,M.key,M)}}function p(c,h,_){h&&d(c.prototype,h),_&&d(c,_)}g.default.Texture=function(){function c(T,_,A){a(this,c),this._renderer=T;var x=this._renderer.GL;return A=A||{},this.src=_,this.glTex=void 0,this.glTarget=x.TEXTURE_2D,this.glFormat=A.format||x.RGBA,this.mipmaps=!1,this.glMinFilter=A.minFilter||x.LINEAR,this.glMagFilter=A.magFilter||x.LINEAR,this.glWrapS=A.wrapS||x.CLAMP_TO_EDGE,this.glWrapT=A.wrapT||x.CLAMP_TO_EDGE,this.glDataType=A.dataType||x.UNSIGNED_BYTE,A=m(T),this.glFormat!==x.HALF_FLOAT||A.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=x.FLOAT),this.glFormat!==x.HALF_FLOAT||this.glMinFilter!==x.LINEAR&&this.glMagFilter!==x.LINEAR||A.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===x.LINEAR&&(this.glMinFilter=x.NEAREST),this.glMagFilter===x.LINEAR&&(this.glMagFilter=x.NEAREST)),this.glFormat!==x.FLOAT||A.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=x.UNSIGNED_BYTE),this.glFormat!==x.FLOAT||this.glMinFilter!==x.LINEAR&&this.glMagFilter!==x.LINEAR||A.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===x.LINEAR&&(this.glMinFilter=x.NEAREST),this.glMagFilter===x.LINEAR&&(this.glMagFilter=x.NEAREST)),this.isSrcMediaElement=void 0!==g.default.MediaElement&&_ instanceof g.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==g.default.Element&&_ instanceof g.default.Element&&!(_ instanceof g.default.Graphics)&&!(_ instanceof g.default.Renderer),this.isSrcP5Image=_ instanceof g.default.Image,this.isSrcP5Graphics=_ instanceof g.default.Graphics,this.isSrcP5Renderer=_ instanceof g.default.Renderer,this.isImageData=typeof ImageData<"u"&&_ instanceof ImageData,this.isFramebufferTexture=_ instanceof g.default.FramebufferTexture,T=this._getTextureDataFromSource(),this.width=T.width,this.height=T.height,this.init(T),this}return p(c,[{key:"_getTextureDataFromSource",value:function(){var h;return this.isFramebufferTexture?h=this.src.rawTexture():this.isSrcP5Image?h=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?h=this.src.elt:this.isImageData&&(h=this.src),h}},{key:"init",value:function(h){var _,M=this._renderer.GL;this.isFramebufferTexture||(this.glTex=M.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,this.glMagFilter),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata?(_=new Uint8Array([1,1,1,1]),M.texImage2D(this.glTarget,0,M.RGBA,1,1,0,this.glFormat,this.glDataType,_)):M.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,h))}},{key:"update",value:function(){var h,_,M,x=this.src;return 0!==x.width&&0!==x.height&&!this.isFramebufferTexture&&(h=this._getTextureDataFromSource(),_=!1,M=this._renderer.GL,h.width!==this.width||h.height!==this.height?(_=!0,this.width=h.width||x.width,this.height=h.height||x.height,this.isSrcP5Image?x.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&x.setModified(!0)):this.isSrcP5Image?x.isModified()&&x.setModified(!(_=!0)):this.isSrcMediaElement?x.isModified()?x.setModified(!(_=!0)):x.loadedmetadata&&this._videoPrevUpdateTime!==x.time()&&(this._videoPrevUpdateTime=x.time(),_=!0):this.isImageData?x._dirty&&(_=!(x._dirty=!1)):_=!0,_&&(this.bindTexture(),M.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,h)),_)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(h,_){var M=this._renderer.GL;this.glMinFilter=this.glFilter(h),this.glMagFilter=this.glFilter(_),this.bindTexture(),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,this.glMinFilter),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(h){var _=this._renderer.GL;return h===y.NEAREST?_.NEAREST:_.LINEAR}},{key:"setWrapMode",value:function(h,_){function M(N){return!(N&N-1)}var x=this._renderer.GL,T=(T=this._getTextureDataFromSource()).naturalWidth&&T.naturalHeight?(A=T.naturalWidth,T.naturalHeight):(A=this.width,this.height),A=M(A);T=M(T),h===y.REPEAT?this._renderer.webglVersion===y.WEBGL2||A&&T?this.glWrapS=x.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=x.CLAMP_TO_EDGE):h===y.MIRROR?this._renderer.webglVersion===y.WEBGL2||A&&T?this.glWrapS=x.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=x.CLAMP_TO_EDGE):this.glWrapS=x.CLAMP_TO_EDGE,_===y.REPEAT?this._renderer.webglVersion===y.WEBGL2||A&&T?this.glWrapT=x.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=x.CLAMP_TO_EDGE):_===y.MIRROR?this._renderer.webglVersion===y.WEBGL2||A&&T?this.glWrapT=x.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=x.CLAMP_TO_EDGE):this.glWrapT=x.CLAMP_TO_EDGE,this.bindTexture(),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,this.glWrapS),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),c}();var l=function(c){var h=M;if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),c&&E(h,c);var _=function s(c){return function(){var h,_=u(c);if(h=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(h=u(this).constructor,Reflect.construct(_,arguments,h)):_.apply(this,arguments),_=this,!h||"object"!==w(h)&&"function"!=typeof h){if(void 0!==_)return _;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return h}}(M);function M(x,A,T){return a(this,M),A=(x=_.call(this,x,A,T))._renderer.GL,x.glMinFilter===A.LINEAR&&(x.glMinFilter=A.LINEAR_MIPMAP_LINEAR),x}return p(M,[{key:"glFilter",value:function(x){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(x){var A=this._renderer.GL;this.glTex=A.createTexture(),this.bindTexture();for(var T=0;T<x.length;T++)A.texImage2D(this.glTarget,T,this.glFormat,this.glFormat,this.glDataType,x[T]);this.glMinFilter=A.LINEAR_MIPMAP_LINEAR,A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,this.glMagFilter),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),M}(g.default.Texture);function m(x){var h=x.GL,_=(x=x.webglVersion)===y.WEBGL2?h.getExtension("EXT_color_buffer_float")&&h.getExtension("EXT_float_blend"):h.getExtension("OES_texture_float");return{float:_,floatLinear:_&&h.getExtension("OES_texture_float_linear"),halfFloat:x=h.getExtension(x===y.WEBGL2?"EXT_color_buffer_float":"OES_texture_half_float"),halfFloatLinear:x&&h.getExtension("OES_texture_half_float_linear")}}H.MipmapTexture=l,H.default=o=g.default.Texture},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(o,oe,H){"use strict";function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function w(c){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(h){return v(h)}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":v(h)})(c)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.iterator");var g,y=(g=o("../core/main"))&&g.__esModule?g:{default:g},C=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==w(c)&&"function"!=typeof c)return{default:c};var h=E();if(h&&h.has(c))return h.get(c);var _,M={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in c){var A;Object.prototype.hasOwnProperty.call(c,_)&&((A=x?Object.getOwnPropertyDescriptor(c,_):null)&&(A.get||A.set)?Object.defineProperty(M,_,A):M[_]=c[_])}return M.default=c,h&&h.set(c,M),M}(o("../core/constants"));function E(){var c;return"function"!=typeof WeakMap?null:(E=function(){return c},c=new WeakMap)}function s(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function u(c,h){for(var _=0;_<h.length;_++){var M=h[_];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(c,M.key,M)}}function a(c,h,_){h&&u(c.prototype,h),_&&u(c,_)}o("./p5.Shader"),o("./p5.RendererGL.Retained"),y.default.RendererGL.prototype._applyTextProperties=function(){},y.default.RendererGL.prototype.textWidth=function(c){return this._isOpenType()?this._textFont._textWidth(c,this._textSize):0};var d=function(){function c(h,_){s(this,c),this.width=h,this.height=_,this.infos=[]}return a(c,[{key:"findImage",value:function(h){var _,M,x=this.width*this.height;if(x<h)throw new Error("font is too complex to render in 3D");for(var A=this.infos.length-1;0<=A;--A){var T=this.infos[A];if(T.index+h<x){M=(_=T).imageData;break}}if(!_){try{M=new ImageData(this.width,this.height)}catch{var N=document.getElementsByTagName("canvas")[0],I=!N,z=(N||((N=document.createElement("canvas")).style.display="none",document.body.appendChild(N)),N.getContext("2d"));z&&(M=z.createImageData(this.width,this.height)),I&&document.body.removeChild(N)}this.infos.push(_={index:0,imageData:M})}return z=_.index,_.index+=h,M._dirty=!0,{imageData:M,index:z}}}]),c}();function p(T,h,_,M,x){var A=T.imageData.data;T=4*T.index++,A[T++]=h,A[T++]=_,A[T++]=M,A[+T]=x}var l=Math.sqrt(3),m=function(){function c(h){s(this,c),this.font=h,this.strokeImageInfos=new d(64,64),this.colDimImageInfos=new d(64,64),this.rowDimImageInfos=new d(64,64),this.colCellImageInfos=new d(64,64),this.rowCellImageInfos=new d(64,64),this.glyphInfos={}}return a(c,[{key:"getGlyphInfo",value:function(h){var _=this.glyphInfos[h.index];if(!_){var M=h.getBoundingBox(),x=M.x1,A=M.y1,T=M.x2-x,N=M.y2-A,I=h.path.commands;if(0==T||0==N||!I.length)return this.glyphInfos[h.index]={};for(var z=[],R=[],Q=[],ne=8;0<=ne;--ne)Q.push([]);for(ne=8;0<=ne;--ne)R.push([]);var V,X,U,F,K=function(){function Bt(gn,Yt,hn,At){s(this,Bt),this.p0=gn,this.c0=Yt,this.c1=hn,this.p1=At}return a(Bt,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return y.default.Vector.sub(y.default.Vector.sub(this.p1,this.p0),y.default.Vector.mult(y.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(sn){var Yt=y.default.Vector.lerp(this.p0,this.c0,sn),At=y.default.Vector.lerp(this.c0,this.c1,sn),hn=y.default.Vector.lerp(Yt,At,sn);return this.c1=y.default.Vector.lerp(this.c1,this.p1,sn),this.c0=y.default.Vector.lerp(At,this.c1,sn),At=y.default.Vector.lerp(hn,this.c0,sn),sn=new Bt(this.p0,Yt,hn,At),this.p0=At,sn}},{key:"splitInflections",value:function(){var gn=y.default.Vector.sub(this.c0,this.p0),Yt=y.default.Vector.sub(y.default.Vector.sub(this.c1,this.c0),gn),hn=y.default.Vector.sub(y.default.Vector.sub(y.default.Vector.sub(this.p1,this.c1),gn),y.default.Vector.mult(Yt,2)),At=[],sn=Yt.x*hn.y-Yt.y*hn.x;return 0!==sn&&0<=(gn=(hn=gn.x*hn.y-gn.y*hn.x)*hn-4*sn*(gn.x*Yt.y-gn.y*Yt.x))&&(sn<0&&(sn=-sn,hn=-hn),gn=(-hn+(Yt=Math.sqrt(gn)))/(2*sn),0<(hn=(-hn-Yt)/(2*sn))&&hn<1&&(At.push(this.split(hn)),gn=1-(1-gn)/(1-hn)),0<gn&&gn<1&&At.push(this.split(gn))),At.push(this),At}}]),Bt}(),ie=!0,Te=!1,q=void 0;try{for(var k,ee=I[Symbol.iterator]();!(ie=(k=ee.next()).done);ie=!0){var me=k.value,xe=(me.x-x)/T,Ge=(me.y-A)/N;if(!Lt(V,X,xe,Ge)){switch(me.type){case"M":U=xe,F=Ge;break;case"L":on(V,X,xe,Ge);break;case"Q":var Ye=(me.x1-x)/T,mt=(me.y1-A)/N;st([V,xe,Ye],[X,Ge,mt],{x:V,y:X,cx:Ye,cy:mt});break;case"Z":Lt(V,X,U,F)?z.push({x:V,y:X}):(on(V,X,U,F),z.push({x:U,y:F}));break;case"C":for(var We=function($e,Ft,Xt,hn,At,sn,$t,ze){$e=new K(new y.default.Vector($e,Ft),new y.default.Vector(Xt,hn),new y.default.Vector(At,sn),new y.default.Vector($t,ze)).splitInflections();var Pe=[],qe=30/l,Et=!0;Ft=!1,Xt=void 0;try{for(var cn,Ut=$e[Symbol.iterator]();!(Et=(cn=Ut.next()).done);Et=!0){for(var Vt=cn.value,Qt=[],tt=void 0;!(.125<=(tt=qe/Vt.quadError()));){var ot=Math.pow(tt,.3333333333333333),Ct=Vt.split(ot),vt=Vt.split(1-ot/(1-ot));Pe.push(Ct),Qt.push(Vt),Vt=vt}tt<1&&Pe.push(Vt.split(.5)),Pe.push(Vt),Array.prototype.push.apply(Pe,Qt.reverse())}}catch(Mt){Ft=!0,Xt=Mt}finally{try{Et||null==Ut.return||Ut.return()}finally{if(Ft)throw Xt}}return Pe}(V,X,(me.x1-x)/T,(me.y1-A)/N,(me.x2-x)/T,(me.y2-A)/N,xe,Ge),ct=0;ct<We.length;ct++){var dt=We[ct].toQuadratic();st([dt.x,dt.x1,dt.cx],[dt.y,dt.y1,dt.cy],dt)}break;default:throw new Error("unknown command type: ".concat(me.type))}V=xe,X=Ge}}}catch(Bt){Te=!0,q=Bt}finally{try{ie||null==ee.return||ee.return()}finally{if(Te)throw q}}for(var Ve=z.length,Qe=this.strokeImageInfos.findImage(Ve),Ze=Qe.index,at=0;at<Ve;++at){var et=z[at];p(Qe,Dt(et.x),Dt(et.y),Dt(et.cx),Dt(et.cy))}(_=this.glyphInfos[h.index]={glyph:h,uGlyphRect:[M.x1,-M.y1,M.x2,-M.y2],strokeImageInfo:Qe,strokes:z,colInfo:an(Q,this.colDimImageInfos,this.colCellImageInfos),rowInfo:an(R,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[_.colInfo.dimOffset,_.rowInfo.dimOffset]}return _;function st(Bt,gn,Yt){var hn=z.length;function At(Pe,qe,Et){for(var Ft=Pe.length;0<Ft--;){var Xt=Pe[Ft];Xt<qe&&(qe=Xt),Et<Xt&&(Et=Xt)}return{min:qe,max:Et}}z.push(Yt),Yt=At(Bt,1,0),Bt=Math.max(Math.floor(9*Yt.min-.5),0);for(var sn=Math.min(Math.ceil(9*Yt.max+.5),9),$t=Bt;$t<sn;++$t)Q[$t].push(hn);Yt=At(gn,1,0),Bt=Math.max(Math.floor(9*Yt.min-.5),0);for(var ze=Math.min(Math.ceil(9*Yt.max+.5),9),$e=Bt;$e<ze;++$e)R[$e].push(hn)}function Dt(Bt){return(Bt=255*Bt)<0?0:255<Bt?255:Bt}function on(Bt,gn,Yt,hn){st([Bt,Yt],[gn,hn],{x:Bt,y:gn,cx:(Bt+Yt)/2,cy:(gn+hn)/2})}function Lt(Bt,gn,Yt,hn){return Math.abs(Yt-Bt)<1e-5&&Math.abs(hn-gn)<1e-5}function an(Bt,gn,Yt){for(var hn=Bt.length,At=gn.findImage(hn),sn=(gn=At.index,0),$t=0;$t<hn;++$t)sn+=Bt[$t].length;for(var ze=Yt.findImage(sn),$e=0;$e<hn;++$e){var Pe=Bt[$e],qe=Pe.length,Et=ze.index;p(At,Et>>7,127&Et,qe>>7,127&qe);for(var Ft=0;Ft<qe;++Ft){var Xt=Pe[Ft]+Ze;p(ze,Xt>>7,127&Xt,0,0)}}return{cellImageInfo:ze,dimOffset:gn,dimImageInfo:At}}}}]),c}();y.default.RendererGL.prototype._renderText=function(c,h,_,M,x){if(this._textFont&&"string"!=typeof this._textFont){if(!(x<=M)&&this._doFill){if(this._isOpenType()){c.push(),x=this._doStroke;var A=this.drawMode,T=(this._doStroke=!1,this.drawMode=C.TEXTURE,this._textFont.font),N=(N=this._textFont._fontInfo)||(this._textFont._fontInfo=new m(T)),I=(_=this._textFont._handleAlignment(this,h,_,M),M=this._textSize/T.unitsPerEm,this.translate(_.x,_.y,0),this.scale(M,M,1),this.GL),z=(_=!this._defaultFontShader,this._getFontShader()),R=(z.init(),z.bindShader(),_&&(z.setUniform("uGridImageSize",[64,64]),z.setUniform("uCellsImageSize",[64,64]),z.setUniform("uStrokeImageSize",[64,64]),z.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),Q=(R||((M=this._textGeom=new y.default.Geometry(1,1,function(){for(var ct=0;ct<=1;ct++)for(var dt=0;dt<=1;dt++)this.vertices.push(new y.default.Vector(dt,ct,0)),this.uvs.push(dt,ct)})).computeFaces().computeNormals(),R=this.createBuffers("glyph",M)),!0);_=!1,M=void 0;try{for(var ne,V=this.retainedMode.buffers.text[Symbol.iterator]();!(Q=(ne=V.next()).done);Q=!0)ne.value._prepareBuffer(R,z)}catch(ct){_=!0,M=ct}finally{try{Q||null==V.return||V.return()}finally{if(_)throw M}}this._bindBuffer(R.indexBuffer,I.ELEMENT_ARRAY_BUFFER),z.setUniform("uMaterialColor",this.curFillColor),I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var X=0,U=null,F=T.stringToGlyphs(h),K=!0,ie=!1,Te=void 0;try{for(var q,k=F[Symbol.iterator]();!(K=(q=k.next()).done);K=!0){var ee,me,xe=q.value,Ge=(U&&(X+=T.getKerningValue(U,xe)),N.getGlyphInfo(xe));Ge.uGlyphRect&&(ee=Ge.rowInfo,me=Ge.colInfo,z.setUniform("uSamplerStrokes",Ge.strokeImageInfo.imageData),z.setUniform("uSamplerRowStrokes",ee.cellImageInfo.imageData),z.setUniform("uSamplerRows",ee.dimImageInfo.imageData),z.setUniform("uSamplerColStrokes",me.cellImageInfo.imageData),z.setUniform("uSamplerCols",me.dimImageInfo.imageData),z.setUniform("uGridOffset",Ge.uGridOffset),z.setUniform("uGlyphRect",Ge.uGlyphRect),z.setUniform("uGlyphOffset",X),z.bindTextures(),I.drawElements(I.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),X+=xe.advanceWidth,U=xe}}catch(ct){ie=!0,Te=ct}finally{try{K||null==k.return||k.return()}finally{if(ie)throw Te}}}finally{z.unbindShader(),this._doStroke=x,this.drawMode=A,I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),c.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return c}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)},4023:(wn,Wt,fe)=>{function j(s){this.mode=ge.MODE_8BIT_BYTE,this.data=s,this.parsedData=[];for(var u=0,a=this.data.length;u<a;u++){var d=[],p=this.data.charCodeAt(u);p>65536?(d[0]=240|(1835008&p)>>>18,d[1]=128|(258048&p)>>>12,d[2]=128|(4032&p)>>>6,d[3]=128|63&p):p>2048?(d[0]=224|(61440&p)>>>12,d[1]=128|(4032&p)>>>6,d[2]=128|63&p):p>128?(d[0]=192|(1984&p)>>>6,d[1]=128|63&p):d[0]=p,this.parsedData.push(d)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function O(s,u){this.typeNumber=s,this.errorCorrectLevel=u,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}j.prototype={getLength:function(s){return this.parsedData.length},write:function(s){for(var u=0,a=this.parsedData.length;u<a;u++)s.put(this.parsedData[u],8)}},O.prototype={addData:function(s){var u=new j(s);this.dataList.push(u),this.dataCache=null},isDark:function(s,u){if(s<0||this.moduleCount<=s||u<0||this.moduleCount<=u)throw new Error(s+","+u);return this.modules[s][u]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(s,u){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++){this.modules[a]=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[a][d]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(s,u),this.typeNumber>=7&&this.setupTypeNumber(s),null==this.dataCache&&(this.dataCache=O.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,u)},setupPositionProbePattern:function(s,u){for(var a=-1;a<=7;a++)if(!(s+a<=-1||this.moduleCount<=s+a))for(var d=-1;d<=7;d++)u+d<=-1||this.moduleCount<=u+d||(this.modules[s+a][u+d]=0<=a&&a<=6&&(0==d||6==d)||0<=d&&d<=6&&(0==a||6==a)||2<=a&&a<=4&&2<=d&&d<=4)},getBestMaskPattern:function(){for(var s=0,u=0,a=0;a<8;a++){this.makeImpl(!0,a);var d=oe.getLostPoint(this);(0==a||s>d)&&(s=d,u=a)}return u},createMovieClip:function(s,u,a){var d=s.createEmptyMovieClip(u,a);this.make();for(var l=0;l<this.modules.length;l++)for(var m=1*l,c=0;c<this.modules[l].length;c++){var h=1*c;this.modules[l][c]&&(d.beginFill(0,100),d.moveTo(h,m),d.lineTo(h+1,m),d.lineTo(h+1,m+1),d.lineTo(h,m+1),d.endFill())}return d},setupTimingPattern:function(){for(var s=8;s<this.moduleCount-8;s++)null==this.modules[s][6]&&(this.modules[s][6]=s%2==0);for(var u=8;u<this.moduleCount-8;u++)null==this.modules[6][u]&&(this.modules[6][u]=u%2==0)},setupPositionAdjustPattern:function(){for(var s=oe.getPatternPosition(this.typeNumber),u=0;u<s.length;u++)for(var a=0;a<s.length;a++){var d=s[u],p=s[a];if(null==this.modules[d][p])for(var l=-2;l<=2;l++)for(var m=-2;m<=2;m++)this.modules[d+l][p+m]=-2==l||2==l||-2==m||2==m||0==l&&0==m}},setupTypeNumber:function(s){for(var u=oe.getBCHTypeNumber(this.typeNumber),a=0;a<18;a++){var d=!s&&1==(u>>a&1);this.modules[Math.floor(a/3)][a%3+this.moduleCount-8-3]=d}for(a=0;a<18;a++)d=!s&&1==(u>>a&1),this.modules[a%3+this.moduleCount-8-3][Math.floor(a/3)]=d},setupTypeInfo:function(s,u){for(var d=oe.getBCHTypeInfo(this.errorCorrectLevel<<3|u),p=0;p<15;p++){var l=!s&&1==(d>>p&1);p<6?this.modules[p][8]=l:p<8?this.modules[p+1][8]=l:this.modules[this.moduleCount-15+p][8]=l}for(p=0;p<15;p++)l=!s&&1==(d>>p&1),p<8?this.modules[8][this.moduleCount-p-1]=l:p<9?this.modules[8][15-p-1+1]=l:this.modules[8][15-p-1]=l;this.modules[this.moduleCount-8][8]=!s},mapData:function(s,u){for(var a=-1,d=this.moduleCount-1,p=7,l=0,m=this.moduleCount-1;m>0;m-=2)for(6==m&&m--;;){for(var c=0;c<2;c++)if(null==this.modules[d][m-c]){var h=!1;l<s.length&&(h=1==(s[l]>>>p&1)),oe.getMask(u,d,m-c)&&(h=!h),this.modules[d][m-c]=h,-1==--p&&(l++,p=7)}if((d+=a)<0||this.moduleCount<=d){d-=a,a=-a;break}}}},O.PAD0=236,O.PAD1=17,O.createData=function(s,u,a){for(var d=g.getRSBlocks(s,u),p=new y,l=0;l<a.length;l++){var m=a[l];p.put(m.mode,4),p.put(m.getLength(),oe.getLengthInBits(m.mode,s)),m.write(p)}var c=0;for(l=0;l<d.length;l++)c+=d[l].dataCount;if(p.getLengthInBits()>8*c)throw new Error("code length overflow. ("+p.getLengthInBits()+">"+8*c+")");for(p.getLengthInBits()+4<=8*c&&p.put(0,4);p.getLengthInBits()%8!=0;)p.putBit(!1);for(;!(p.getLengthInBits()>=8*c||(p.put(O.PAD0,8),p.getLengthInBits()>=8*c));)p.put(O.PAD1,8);return O.createBytes(p,d)},O.createBytes=function(s,u){for(var a=0,d=0,p=0,l=new Array(u.length),m=new Array(u.length),c=0;c<u.length;c++){var h=u[c].dataCount,_=u[c].totalCount-h;d=Math.max(d,h),p=Math.max(p,_),l[c]=new Array(h);for(var M=0;M<l[c].length;M++)l[c][M]=255&s.buffer[M+a];a+=h;var x=oe.getErrorCorrectPolynomial(_),T=new w(l[c],x.getLength()-1).mod(x);for(m[c]=new Array(x.getLength()-1),M=0;M<m[c].length;M++){var N=M+T.getLength()-m[c].length;m[c][M]=N>=0?T.get(N):0}}var I=0;for(M=0;M<u.length;M++)I+=u[M].totalCount;var z=new Array(I),R=0;for(M=0;M<d;M++)for(c=0;c<u.length;c++)M<l[c].length&&(z[R++]=l[c][M]);for(M=0;M<p;M++)for(c=0;c<u.length;c++)M<m[c].length&&(z[R++]=m[c][M]);return z};for(var ge={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Ie={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},oe={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var u=s<<10;oe.getBCHDigit(u)-oe.getBCHDigit(oe.G15)>=0;)u^=oe.G15<<oe.getBCHDigit(u)-oe.getBCHDigit(oe.G15);return(s<<10|u)^oe.G15_MASK},getBCHTypeNumber:function(s){for(var u=s<<12;oe.getBCHDigit(u)-oe.getBCHDigit(oe.G18)>=0;)u^=oe.G18<<oe.getBCHDigit(u)-oe.getBCHDigit(oe.G18);return s<<12|u},getBCHDigit:function(s){for(var u=0;0!=s;)u++,s>>>=1;return u},getPatternPosition:function(s){return oe.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,u,a){switch(s){case o.PATTERN000:return(u+a)%2==0;case o.PATTERN001:return u%2==0;case o.PATTERN010:return a%3==0;case o.PATTERN011:return(u+a)%3==0;case o.PATTERN100:return(Math.floor(u/2)+Math.floor(a/3))%2==0;case o.PATTERN101:return u*a%2+u*a%3==0;case o.PATTERN110:return(u*a%2+u*a%3)%2==0;case o.PATTERN111:return(u*a%3+(u+a)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var u=new w([1],0),a=0;a<s;a++)u=u.multiply(new w([1,H.gexp(a)],0));return u},getLengthInBits:function(s,u){if(1<=u&&u<10)switch(s){case ge.MODE_NUMBER:return 10;case ge.MODE_ALPHA_NUM:return 9;case ge.MODE_8BIT_BYTE:case ge.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(u<27)switch(s){case ge.MODE_NUMBER:return 12;case ge.MODE_ALPHA_NUM:return 11;case ge.MODE_8BIT_BYTE:return 16;case ge.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else{if(!(u<41))throw new Error("type:"+u);switch(s){case ge.MODE_NUMBER:return 14;case ge.MODE_ALPHA_NUM:return 13;case ge.MODE_8BIT_BYTE:return 16;case ge.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}}},getLostPoint:function(s){for(var u=s.getModuleCount(),a=0,d=0;d<u;d++)for(var p=0;p<u;p++){for(var l=0,m=s.isDark(d,p),c=-1;c<=1;c++)if(!(d+c<0||u<=d+c))for(var h=-1;h<=1;h++)p+h<0||u<=p+h||0==c&&0==h||m==s.isDark(d+c,p+h)&&l++;l>5&&(a+=3+l-5)}for(d=0;d<u-1;d++)for(p=0;p<u-1;p++){var _=0;s.isDark(d,p)&&_++,s.isDark(d+1,p)&&_++,s.isDark(d,p+1)&&_++,s.isDark(d+1,p+1)&&_++,(0==_||4==_)&&(a+=3)}for(d=0;d<u;d++)for(p=0;p<u-6;p++)s.isDark(d,p)&&!s.isDark(d,p+1)&&s.isDark(d,p+2)&&s.isDark(d,p+3)&&s.isDark(d,p+4)&&!s.isDark(d,p+5)&&s.isDark(d,p+6)&&(a+=40);for(p=0;p<u;p++)for(d=0;d<u-6;d++)s.isDark(d,p)&&!s.isDark(d+1,p)&&s.isDark(d+2,p)&&s.isDark(d+3,p)&&s.isDark(d+4,p)&&!s.isDark(d+5,p)&&s.isDark(d+6,p)&&(a+=40);var M=0;for(p=0;p<u;p++)for(d=0;d<u;d++)s.isDark(d,p)&&M++;return a+Math.abs(100*M/u/u-50)/5*10}},H={glog:function(s){if(s<1)throw new Error("glog("+s+")");return H.LOG_TABLE[s]},gexp:function(s){for(;s<0;)s+=255;for(;s>=256;)s-=255;return H.EXP_TABLE[s]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},v=0;v<8;v++)H.EXP_TABLE[v]=1<<v;for(v=8;v<256;v++)H.EXP_TABLE[v]=H.EXP_TABLE[v-4]^H.EXP_TABLE[v-5]^H.EXP_TABLE[v-6]^H.EXP_TABLE[v-8];for(v=0;v<255;v++)H.LOG_TABLE[H.EXP_TABLE[v]]=v;function w(s,u){if(null==s.length)throw new Error(s.length+"/"+u);for(var a=0;a<s.length&&0==s[a];)a++;this.num=new Array(s.length-a+u);for(var d=0;d<s.length-a;d++)this.num[d]=s[d+a]}function g(s,u){this.totalCount=s,this.dataCount=u}function y(){this.buffer=[],this.length=0}w.prototype={get:function(s){return this.num[s]},getLength:function(){return this.num.length},multiply:function(s){for(var u=new Array(this.getLength()+s.getLength()-1),a=0;a<this.getLength();a++)for(var d=0;d<s.getLength();d++)u[a+d]^=H.gexp(H.glog(this.get(a))+H.glog(s.get(d)));return new w(u,0)},mod:function(s){if(this.getLength()-s.getLength()<0)return this;for(var u=H.glog(this.get(0))-H.glog(s.get(0)),a=new Array(this.getLength()),d=0;d<this.getLength();d++)a[d]=this.get(d);for(d=0;d<s.getLength();d++)a[d]^=H.gexp(H.glog(s.get(d))+u);return new w(a,0).mod(s)}},g.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],g.getRSBlocks=function(s,u){var a=g.getRsBlockTable(s,u);if(null==a)throw new Error("bad rs block @ typeNumber:"+s+"/errorCorrectLevel:"+u);for(var d=a.length/3,p=[],l=0;l<d;l++)for(var m=a[3*l+0],c=a[3*l+1],h=a[3*l+2],_=0;_<m;_++)p.push(new g(c,h));return p},g.getRsBlockTable=function(s,u){switch(u){case Ie.L:return g.RS_BLOCK_TABLE[4*(s-1)+0];case Ie.M:return g.RS_BLOCK_TABLE[4*(s-1)+1];case Ie.Q:return g.RS_BLOCK_TABLE[4*(s-1)+2];case Ie.H:return g.RS_BLOCK_TABLE[4*(s-1)+3];default:return}},y.prototype={get:function(s){var u=Math.floor(s/8);return 1==(this.buffer[u]>>>7-s%8&1)},put:function(s,u){for(var a=0;a<u;a++)this.putBit(1==(s>>>u-a-1&1))},getLengthInBits:function(){return this.length},putBit:function(s){var u=Math.floor(this.length/8);this.buffer.length<=u&&this.buffer.push(0),s&&(this.buffer[u]|=128>>>this.length%8),this.length++}};var C=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function E(s){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof s&&(s={content:s}),s)for(var a in s)this.options[a]=s[a];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var m=this.options.content,c=function p(_,M){for(var x=function l(_){var M=encodeURI(_).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return M.length+(M.length!=_?3:0)}(_),A=1,T=0,N=0,I=C.length;N<=I;N++){var z=C[N];if(!z)throw new Error("Content too long: expected "+T+" but got "+x);switch(M){case"L":T=z[0];break;case"M":T=z[1];break;case"Q":T=z[2];break;case"H":T=z[3];break;default:throw new Error("Unknwon error correction level: "+M)}if(x<=T)break;A++}if(A>C.length)throw new Error("Content too long");return A}(m,this.options.ecl),h=function d(_){switch(_){case"L":return Ie.L;case"M":return Ie.M;case"Q":return Ie.Q;case"H":return Ie.H;default:throw new Error("Unknwon error correction level: "+_)}}(this.options.ecl);this.qrcode=new O(c,h),this.qrcode.addData(m),this.qrcode.make()}E.prototype.svg=function(s){var u=this.options||{},a=this.qrcode.modules;typeof s>"u"&&(s={container:u.container||"svg"});for(var d=!(typeof u.pretty<"u"&&!u.pretty),p=d?"  ":"",l=d?"\r\n":"",m=u.width,c=u.height,h=a.length,_=m/(h+2*u.padding),M=c/(h+2*u.padding),x=typeof u.join<"u"&&!!u.join,A=typeof u.swap<"u"&&!!u.swap,T=!(typeof u.xmlDeclaration<"u"&&!u.xmlDeclaration),N=typeof u.predefined<"u"&&!!u.predefined,I=N?p+'<defs><path id="qrmodule" d="M0 0 h'+M+" v"+_+' H0 z" style="fill:'+u.color+';shape-rendering:crispEdges;" /></defs>'+l:"",z=p+'<rect x="0" y="0" width="'+m+'" height="'+c+'" style="fill:'+u.background+';shape-rendering:crispEdges;"/>'+l,R="",Q="",ne=0;ne<h;ne++)for(var V=0;V<h;V++)if(a[V][ne]){var U=V*_+u.padding*_,F=ne*M+u.padding*M;if(A){var K=U;U=F,F=K}if(x){var ie=_+U,Te=M+F;U=Number.isInteger(U)?Number(U):U.toFixed(2),F=Number.isInteger(F)?Number(F):F.toFixed(2),ie=Number.isInteger(ie)?Number(ie):ie.toFixed(2),Q+="M"+U+","+F+" V"+(Te=Number.isInteger(Te)?Number(Te):Te.toFixed(2))+" H"+ie+" V"+F+" H"+U+" Z "}else R+=N?p+'<use x="'+U.toString()+'" y="'+F.toString()+'" href="#qrmodule" />'+l:p+'<rect x="'+U.toString()+'" y="'+F.toString()+'" width="'+_+'" height="'+M+'" style="fill:'+u.color+';shape-rendering:crispEdges;"/>'+l}x&&(R=p+'<path x="0" y="0" style="fill:'+u.color+';shape-rendering:crispEdges;" d="'+Q+'" />');var q="";switch(s.container){case"svg":T&&(q+='<?xml version="1.0" standalone="yes"?>'+l),q+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+m+'" height="'+c+'">'+l,q+=I+z+R,q+="</svg>";break;case"svg-viewbox":T&&(q+='<?xml version="1.0" standalone="yes"?>'+l),q+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+m+" "+c+'">'+l,q+=I+z+R,q+="</svg>";break;case"g":q+='<g width="'+m+'" height="'+c+'">'+l,q+=I+z+R,q+="</g>";break;default:q+=(I+z+R).replace(/^\s+/,"")}return q},E.prototype.save=function(s,u){var a=this.svg();"function"!=typeof u&&(u=function(p,l){});try{fe(Object(function(){var l=new Error("Cannot find module 'fs'");throw l.code="MODULE_NOT_FOUND",l}())).writeFile(s,a,u)}catch(p){u(p)}},wn.exports=E},4412:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{t:()=>O});var j=fe(1413);class O extends j.B{constructor(Ie){super(),this._value=Ie}get value(){return this.getValue()}_subscribe(Ie){const o=super._subscribe(Ie);return!o.closed&&Ie.next(this._value),o}getValue(){const{hasError:Ie,thrownError:o,_value:oe}=this;if(Ie)throw o;return this._throwIfClosed(),oe}next(Ie){super.next(this._value=Ie)}}},1985:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{c:()=>v});var j=fe(7707),O=fe(8359),ge=fe(3494),Ie=fe(1203),o=fe(1026),oe=fe(8071),H=fe(9786);let v=(()=>{class C{constructor(s){s&&(this._subscribe=s)}lift(s){const u=new C;return u.source=this,u.operator=s,u}subscribe(s,u,a){const d=function y(C){return C&&C instanceof j.vU||function g(C){return C&&(0,oe.T)(C.next)&&(0,oe.T)(C.error)&&(0,oe.T)(C.complete)}(C)&&(0,O.Uv)(C)}(s)?s:new j.Ms(s,u,a);return(0,H.Y)(()=>{const{operator:p,source:l}=this;d.add(p?p.call(d,l):l?this._subscribe(d):this._trySubscribe(d))}),d}_trySubscribe(s){try{return this._subscribe(s)}catch(u){s.error(u)}}forEach(s,u){return new(u=w(u))((a,d)=>{const p=new j.Ms({next:l=>{try{s(l)}catch(m){d(m),p.unsubscribe()}},error:d,complete:a});this.subscribe(p)})}_subscribe(s){var u;return null===(u=this.source)||void 0===u?void 0:u.subscribe(s)}[ge.s](){return this}pipe(...s){return(0,Ie.m)(s)(this)}toPromise(s){return new(s=w(s))((u,a)=>{let d;this.subscribe(p=>d=p,p=>a(p),()=>u(d))})}}return C.create=E=>new C(E),C})();function w(C){var E;return null!==(E=null!=C?C:o.$.Promise)&&void 0!==E?E:Promise}},1413:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{B:()=>H});var j=fe(1985),O=fe(8359);const Ie=(0,fe(1853).L)(w=>function(){w(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var o=fe(7908),oe=fe(9786);let H=(()=>{class w extends j.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(y){const C=new v(this,this);return C.operator=y,C}_throwIfClosed(){if(this.closed)throw new Ie}next(y){(0,oe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const C of this.currentObservers)C.next(y)}})}error(y){(0,oe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=y;const{observers:C}=this;for(;C.length;)C.shift().error(y)}})}complete(){(0,oe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:y}=this;for(;y.length;)y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var y;return(null===(y=this.observers)||void 0===y?void 0:y.length)>0}_trySubscribe(y){return this._throwIfClosed(),super._trySubscribe(y)}_subscribe(y){return this._throwIfClosed(),this._checkFinalizedStatuses(y),this._innerSubscribe(y)}_innerSubscribe(y){const{hasError:C,isStopped:E,observers:s}=this;return C||E?O.Kn:(this.currentObservers=null,s.push(y),new O.yU(()=>{this.currentObservers=null,(0,o.o)(s,y)}))}_checkFinalizedStatuses(y){const{hasError:C,thrownError:E,isStopped:s}=this;C?y.error(E):s&&y.complete()}asObservable(){const y=new j.c;return y.source=this,y}}return w.create=(g,y)=>new v(g,y),w})();class v extends H{constructor(g,y){super(),this.destination=g,this.source=y}next(g){var y,C;null===(C=null===(y=this.destination)||void 0===y?void 0:y.next)||void 0===C||C.call(y,g)}error(g){var y,C;null===(C=null===(y=this.destination)||void 0===y?void 0:y.error)||void 0===C||C.call(y,g)}complete(){var g,y;null===(y=null===(g=this.destination)||void 0===g?void 0:g.complete)||void 0===y||y.call(g)}_subscribe(g){var y,C;return null!==(C=null===(y=this.source)||void 0===y?void 0:y.subscribe(g))&&void 0!==C?C:O.Kn}}},7707:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{Ms:()=>a,vU:()=>C});var j=fe(8071),O=fe(8359),ge=fe(1026),Ie=fe(5334),o=fe(5343);const oe=w("C",void 0,void 0);function w(c,h,_){return{kind:c,value:h,error:_}}var g=fe(9270),y=fe(9786);class C extends O.yU{constructor(h){super(),this.isStopped=!1,h?(this.destination=h,(0,O.Uv)(h)&&h.add(this)):this.destination=m}static create(h,_,M){return new a(h,_,M)}next(h){this.isStopped?l(function v(c){return w("N",c,void 0)}(h),this):this._next(h)}error(h){this.isStopped?l(function H(c){return w("E",void 0,c)}(h),this):(this.isStopped=!0,this._error(h))}complete(){this.isStopped?l(oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(h){this.destination.next(h)}_error(h){try{this.destination.error(h)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const E=Function.prototype.bind;function s(c,h){return E.call(c,h)}class u{constructor(h){this.partialObserver=h}next(h){const{partialObserver:_}=this;if(_.next)try{_.next(h)}catch(M){d(M)}}error(h){const{partialObserver:_}=this;if(_.error)try{_.error(h)}catch(M){d(M)}else d(h)}complete(){const{partialObserver:h}=this;if(h.complete)try{h.complete()}catch(_){d(_)}}}class a extends C{constructor(h,_,M){let x;if(super(),(0,j.T)(h)||!h)x={next:null!=h?h:void 0,error:null!=_?_:void 0,complete:null!=M?M:void 0};else{let A;this&&ge.$.useDeprecatedNextContext?(A=Object.create(h),A.unsubscribe=()=>this.unsubscribe(),x={next:h.next&&s(h.next,A),error:h.error&&s(h.error,A),complete:h.complete&&s(h.complete,A)}):x=h}this.destination=new u(x)}}function d(c){ge.$.useDeprecatedSynchronousErrorHandling?(0,y.l)(c):(0,Ie.m)(c)}function l(c,h){const{onStoppedNotification:_}=ge.$;_&&g.f.setTimeout(()=>_(c,h))}const m={closed:!0,next:o.l,error:function p(c){throw c},complete:o.l}},8359:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{Kn:()=>oe,yU:()=>o,Uv:()=>H});var j=fe(8071);const ge=(0,fe(1853).L)(w=>function(y){w(this),this.message=y?`${y.length} errors occurred during unsubscription:\n${y.map((C,E)=>`${E+1}) ${C.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=y});var Ie=fe(7908);class o{constructor(g){this.initialTeardown=g,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let g;if(!this.closed){this.closed=!0;const{_parentage:y}=this;if(y)if(this._parentage=null,Array.isArray(y))for(const s of y)s.remove(this);else y.remove(this);const{initialTeardown:C}=this;if((0,j.T)(C))try{C()}catch(s){g=s instanceof ge?s.errors:[s]}const{_finalizers:E}=this;if(E){this._finalizers=null;for(const s of E)try{v(s)}catch(u){g=null!=g?g:[],u instanceof ge?g=[...g,...u.errors]:g.push(u)}}if(g)throw new ge(g)}}add(g){var y;if(g&&g!==this)if(this.closed)v(g);else{if(g instanceof o){if(g.closed||g._hasParent(this))return;g._addParent(this)}(this._finalizers=null!==(y=this._finalizers)&&void 0!==y?y:[]).push(g)}}_hasParent(g){const{_parentage:y}=this;return y===g||Array.isArray(y)&&y.includes(g)}_addParent(g){const{_parentage:y}=this;this._parentage=Array.isArray(y)?(y.push(g),y):y?[y,g]:g}_removeParent(g){const{_parentage:y}=this;y===g?this._parentage=null:Array.isArray(y)&&(0,Ie.o)(y,g)}remove(g){const{_finalizers:y}=this;y&&(0,Ie.o)(y,g),g instanceof o&&g._removeParent(this)}}o.EMPTY=(()=>{const w=new o;return w.closed=!0,w})();const oe=o.EMPTY;function H(w){return w instanceof o||w&&"closed"in w&&(0,j.T)(w.remove)&&(0,j.T)(w.add)&&(0,j.T)(w.unsubscribe)}function v(w){(0,j.T)(w)?w():w.unsubscribe()}},1026:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{$:()=>j});const j={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},17:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{G:()=>oe});var j=fe(1985),O=fe(8359),ge=fe(9898),Ie=fe(4360),o=fe(9974);class oe extends j.c{constructor(v,w){super(),this.source=v,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,o.S)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,null==v||v.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new O.yU;const w=this.getSubject();v.add(this.source.subscribe((0,Ie._)(w,void 0,()=>{this._teardown(),w.complete()},g=>{this._teardown(),w.error(g)},()=>this._teardown()))),v.closed&&(this._connection=null,v=O.yU.EMPTY)}return v}refCount(){return(0,ge.B)()(this)}}},4572:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{z:()=>g});var j=fe(1985),O=fe(3073),ge=fe(6648),Ie=fe(3669),o=fe(6450),oe=fe(9326),H=fe(8496),v=fe(4360),w=fe(5225);function g(...E){const s=(0,oe.lI)(E),u=(0,oe.ms)(E),{args:a,keys:d}=(0,O.D)(E);if(0===a.length)return(0,ge.H)([],s);const p=new j.c(function y(E,s,u=Ie.D){return a=>{C(s,()=>{const{length:d}=E,p=new Array(d);let l=d,m=d;for(let c=0;c<d;c++)C(s,()=>{const h=(0,ge.H)(E[c],s);let _=!1;h.subscribe((0,v._)(a,M=>{p[c]=M,_||(_=!0,m--),m||a.next(u(p.slice()))},()=>{--l||a.complete()}))},a)},a)}}(a,s,d?l=>(0,H.e)(d,l):Ie.D));return u?p.pipe((0,o.I)(u)):p}function C(E,s,u){E?(0,w.N)(u,E,s):s()}},8793:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{x:()=>o});var j=fe(6365),ge=fe(9326),Ie=fe(6648);function o(...oe){return function O(){return(0,j.U)(1)}()((0,Ie.H)(oe,(0,ge.lI)(oe)))}},9030:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{v:()=>ge});var j=fe(1985),O=fe(8750);function ge(Ie){return new j.c(o=>{(0,O.Tg)(Ie()).subscribe(o)})}},983:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{w:()=>O});const O=new(fe(1985).c)(o=>o.complete())},6648:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{H:()=>M});var j=fe(8750),O=fe(5225),ge=fe(9974),Ie=fe(4360);function o(x,A=0){return(0,ge.N)((T,N)=>{T.subscribe((0,Ie._)(N,I=>(0,O.N)(N,x,()=>N.next(I),A),()=>(0,O.N)(N,x,()=>N.complete(),A),I=>(0,O.N)(N,x,()=>N.error(I),A)))})}function oe(x,A=0){return(0,ge.N)((T,N)=>{N.add(x.schedule(()=>T.subscribe(N),A))})}var w=fe(1985),y=fe(4761),C=fe(8071);function s(x,A){if(!x)throw new Error("Iterable cannot be null");return new w.c(T=>{(0,O.N)(T,A,()=>{const N=x[Symbol.asyncIterator]();(0,O.N)(T,A,()=>{N.next().then(I=>{I.done?T.complete():T.next(I.value)})},0,!0)})})}var u=fe(5055),a=fe(7477),d=fe(7441),p=fe(5397),l=fe(7953),m=fe(591),c=fe(5196);function M(x,A){return A?function _(x,A){if(null!=x){if((0,u.l)(x))return function H(x,A){return(0,j.Tg)(x).pipe(oe(A),o(A))}(x,A);if((0,d.X)(x))return function g(x,A){return new w.c(T=>{let N=0;return A.schedule(function(){N===x.length?T.complete():(T.next(x[N++]),T.closed||this.schedule())})})}(x,A);if((0,a.y)(x))return function v(x,A){return(0,j.Tg)(x).pipe(oe(A),o(A))}(x,A);if((0,l.T)(x))return s(x,A);if((0,p.x)(x))return function E(x,A){return new w.c(T=>{let N;return(0,O.N)(T,A,()=>{N=x[y.l](),(0,O.N)(T,A,()=>{let I,z;try{({value:I,done:z}=N.next())}catch(R){return void T.error(R)}z?T.complete():T.next(I)},0,!0)}),()=>(0,C.T)(null==N?void 0:N.return)&&N.return()})}(x,A);if((0,c.U)(x))return function h(x,A){return s((0,c.C)(x),A)}(x,A)}throw(0,m.L)(x)}(x,A):(0,j.Tg)(x)}},3726:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{R:()=>g});var j=fe(8750),O=fe(1985),ge=fe(1397),Ie=fe(7441),o=fe(8071),oe=fe(6450);const H=["addListener","removeListener"],v=["addEventListener","removeEventListener"],w=["on","off"];function g(u,a,d,p){if((0,o.T)(d)&&(p=d,d=void 0),p)return g(u,a,d).pipe((0,oe.I)(p));const[l,m]=function s(u){return(0,o.T)(u.addEventListener)&&(0,o.T)(u.removeEventListener)}(u)?v.map(c=>h=>u[c](a,h,d)):function C(u){return(0,o.T)(u.addListener)&&(0,o.T)(u.removeListener)}(u)?H.map(y(u,a)):function E(u){return(0,o.T)(u.on)&&(0,o.T)(u.off)}(u)?w.map(y(u,a)):[];if(!l&&(0,Ie.X)(u))return(0,ge.Z)(c=>g(c,a,d))((0,j.Tg)(u));if(!l)throw new TypeError("Invalid event target");return new O.c(c=>{const h=(..._)=>c.next(1<_.length?_:_[0]);return l(h),()=>m(h)})}function y(u,a){return d=>p=>u[d](a,p)}},8750:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{Tg:()=>E});var j=fe(1635),O=fe(7441),ge=fe(7477),Ie=fe(1985),o=fe(5055),oe=fe(7953),H=fe(591),v=fe(5397),w=fe(5196),g=fe(8071),y=fe(5334),C=fe(3494);function E(c){if(c instanceof Ie.c)return c;if(null!=c){if((0,o.l)(c))return function s(c){return new Ie.c(h=>{const _=c[C.s]();if((0,g.T)(_.subscribe))return _.subscribe(h);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(c);if((0,O.X)(c))return function u(c){return new Ie.c(h=>{for(let _=0;_<c.length&&!h.closed;_++)h.next(c[_]);h.complete()})}(c);if((0,ge.y)(c))return function a(c){return new Ie.c(h=>{c.then(_=>{h.closed||(h.next(_),h.complete())},_=>h.error(_)).then(null,y.m)})}(c);if((0,oe.T)(c))return p(c);if((0,v.x)(c))return function d(c){return new Ie.c(h=>{for(const _ of c)if(h.next(_),h.closed)return;h.complete()})}(c);if((0,w.U)(c))return function l(c){return p((0,w.C)(c))}(c)}throw(0,H.L)(c)}function p(c){return new Ie.c(h=>{(function m(c,h){var _,M,x,A;return(0,j.sH)(this,void 0,void 0,function*(){try{for(_=(0,j.xN)(c);!(M=yield _.next()).done;)if(h.next(M.value),h.closed)return}catch(T){x={error:T}}finally{try{M&&!M.done&&(A=_.return)&&(yield A.call(_))}finally{if(x)throw x.error}}h.complete()})})(c,h).catch(_=>h.error(_))})}},7673:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{of:()=>ge});var j=fe(9326),O=fe(6648);function ge(...Ie){const o=(0,j.lI)(Ie);return(0,O.H)(Ie,o)}},8810:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{$:()=>ge});var j=fe(1985),O=fe(8071);function ge(Ie,o){const oe=(0,O.T)(Ie)?Ie:()=>Ie,H=v=>v.error(oe());return new j.c(o?v=>o.schedule(H,0,v):H)}},4360:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{_:()=>O});var j=fe(7707);function O(Ie,o,oe,H,v){return new ge(Ie,o,oe,H,v)}class ge extends j.vU{constructor(o,oe,H,v,w,g){super(o),this.onFinalize=w,this.shouldUnsubscribe=g,this._next=oe?function(y){try{oe(y)}catch(C){o.error(C)}}:super._next,this._error=v?function(y){try{v(y)}catch(C){o.error(C)}finally{this.unsubscribe()}}:super._error,this._complete=H?function(){try{H()}catch(y){o.error(y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var o;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(o=this.onFinalize)||void 0===o||o.call(this))}}}},5964:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{p:()=>ge});var j=fe(9974),O=fe(4360);function ge(Ie,o){return(0,j.N)((oe,H)=>{let v=0;oe.subscribe((0,O._)(H,w=>Ie.call(o,w,v++)&&H.next(w)))})}},6354:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{T:()=>ge});var j=fe(9974),O=fe(4360);function ge(Ie,o){return(0,j.N)((oe,H)=>{let v=0;oe.subscribe((0,O._)(H,w=>{H.next(Ie.call(o,w,v++))}))})}},3703:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{u:()=>O});var j=fe(6354);function O(ge){return(0,j.T)(()=>ge)}},6365:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{U:()=>ge});var j=fe(1397),O=fe(3669);function ge(Ie=1/0){return(0,j.Z)(O.D,Ie)}},1397:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{Z:()=>v});var j=fe(6354),O=fe(8750),ge=fe(9974),Ie=fe(5225),o=fe(4360),H=fe(8071);function v(w,g,y=1/0){return(0,H.T)(g)?v((C,E)=>(0,j.T)((s,u)=>g(C,s,E,u))((0,O.Tg)(w(C,E))),y):("number"==typeof g&&(y=g),(0,ge.N)((C,E)=>function oe(w,g,y,C,E,s,u,a){const d=[];let p=0,l=0,m=!1;const c=()=>{m&&!d.length&&!p&&g.complete()},h=M=>p<C?_(M):d.push(M),_=M=>{s&&g.next(M),p++;let x=!1;(0,O.Tg)(y(M,l++)).subscribe((0,o._)(g,A=>{null==E||E(A),s?h(A):g.next(A)},()=>{x=!0},void 0,()=>{if(x)try{for(p--;d.length&&p<C;){const A=d.shift();u?(0,Ie.N)(g,u,()=>_(A)):_(A)}c()}catch(A){g.error(A)}}))};return w.subscribe((0,o._)(g,h,()=>{m=!0,c()})),()=>{null==a||a()}}(C,E,w,y)))}},9898:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{B:()=>ge});var j=fe(9974),O=fe(4360);function ge(){return(0,j.N)((Ie,o)=>{let oe=null;Ie._refCount++;const H=(0,O._)(o,void 0,void 0,void 0,()=>{if(!Ie||Ie._refCount<=0||0<--Ie._refCount)return void(oe=null);const v=Ie._connection,w=oe;oe=null,v&&(!w||v===w)&&v.unsubscribe(),o.unsubscribe()});Ie.subscribe(H),H.closed||(oe=Ie.connect())})}},5558:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{n:()=>Ie});var j=fe(8750),O=fe(9974),ge=fe(4360);function Ie(o,oe){return(0,O.N)((H,v)=>{let w=null,g=0,y=!1;const C=()=>y&&!w&&v.complete();H.subscribe((0,ge._)(v,E=>{null==w||w.unsubscribe();let s=0;const u=g++;(0,j.Tg)(o(E,u)).subscribe(w=(0,ge._)(v,a=>v.next(oe?oe(E,a,u,s++):a),()=>{w=null,C()}))},()=>{y=!0,C()}))})}},6697:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{s:()=>Ie});var j=fe(983),O=fe(9974),ge=fe(4360);function Ie(o){return o<=0?()=>j.w:(0,O.N)((oe,H)=>{let v=0;oe.subscribe((0,ge._)(H,w=>{++v<=o&&(H.next(w),o<=v&&H.complete())}))})}},8141:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{M:()=>o});var j=fe(8071),O=fe(9974),ge=fe(4360),Ie=fe(3669);function o(oe,H,v){const w=(0,j.T)(oe)||H||v?{next:oe,error:H,complete:v}:oe;return w?(0,O.N)((g,y)=>{var C;null===(C=w.subscribe)||void 0===C||C.call(w);let E=!0;g.subscribe((0,ge._)(y,s=>{var u;null===(u=w.next)||void 0===u||u.call(w,s),y.next(s)},()=>{var s;E=!1,null===(s=w.complete)||void 0===s||s.call(w),y.complete()},s=>{var u;E=!1,null===(u=w.error)||void 0===u||u.call(w,s),y.error(s)},()=>{var s,u;E&&(null===(s=w.unsubscribe)||void 0===s||s.call(w)),null===(u=w.finalize)||void 0===u||u.call(w)}))}):Ie.D}},9270:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{f:()=>j});const j={setTimeout(O,ge,...Ie){const{delegate:o}=j;return null!=o&&o.setTimeout?o.setTimeout(O,ge,...Ie):setTimeout(O,ge,...Ie)},clearTimeout(O){const{delegate:ge}=j;return((null==ge?void 0:ge.clearTimeout)||clearTimeout)(O)},delegate:void 0}},4761:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{l:()=>O});const O=function j(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{s:()=>j});const j="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{R0:()=>oe,lI:()=>o,ms:()=>Ie});var j=fe(8071),O=fe(9470);function ge(H){return H[H.length-1]}function Ie(H){return(0,j.T)(ge(H))?H.pop():void 0}function o(H){return(0,O.m)(ge(H))?H.pop():void 0}function oe(H,v){return"number"==typeof ge(H)?H.pop():v}},3073:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{D:()=>o});const{isArray:j}=Array,{getPrototypeOf:O,prototype:ge,keys:Ie}=Object;function o(H){if(1===H.length){const v=H[0];if(j(v))return{args:v,keys:null};if(function oe(H){return H&&"object"==typeof H&&O(H)===ge}(v)){const w=Ie(v);return{args:w.map(g=>v[g]),keys:w}}}return{args:H,keys:null}}},7908:(wn,Wt,fe)=>{"use strict";function j(O,ge){if(O){const Ie=O.indexOf(ge);0<=Ie&&O.splice(Ie,1)}}fe.d(Wt,{o:()=>j})},1853:(wn,Wt,fe)=>{"use strict";function j(O){const Ie=O(o=>{Error.call(o),o.stack=(new Error).stack});return Ie.prototype=Object.create(Error.prototype),Ie.prototype.constructor=Ie,Ie}fe.d(Wt,{L:()=>j})},8496:(wn,Wt,fe)=>{"use strict";function j(O,ge){return O.reduce((Ie,o,oe)=>(Ie[o]=ge[oe],Ie),{})}fe.d(Wt,{e:()=>j})},9786:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{Y:()=>ge,l:()=>Ie});var j=fe(1026);let O=null;function ge(o){if(j.$.useDeprecatedSynchronousErrorHandling){const oe=!O;if(oe&&(O={errorThrown:!1,error:null}),o(),oe){const{errorThrown:H,error:v}=O;if(O=null,H)throw v}}else o()}function Ie(o){j.$.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=o)}},5225:(wn,Wt,fe)=>{"use strict";function j(O,ge,Ie,o=0,oe=!1){const H=ge.schedule(function(){Ie(),oe?O.add(this.schedule(null,o)):this.unsubscribe()},o);if(O.add(H),!oe)return H}fe.d(Wt,{N:()=>j})},3669:(wn,Wt,fe)=>{"use strict";function j(O){return O}fe.d(Wt,{D:()=>j})},7441:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{X:()=>j});const j=O=>O&&"number"==typeof O.length&&"function"!=typeof O},7953:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{T:()=>O});var j=fe(8071);function O(ge){return Symbol.asyncIterator&&(0,j.T)(null==ge?void 0:ge[Symbol.asyncIterator])}},8071:(wn,Wt,fe)=>{"use strict";function j(O){return"function"==typeof O}fe.d(Wt,{T:()=>j})},5055:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{l:()=>ge});var j=fe(3494),O=fe(8071);function ge(Ie){return(0,O.T)(Ie[j.s])}},5397:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{x:()=>ge});var j=fe(4761),O=fe(8071);function ge(Ie){return(0,O.T)(null==Ie?void 0:Ie[j.l])}},7477:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{y:()=>O});var j=fe(8071);function O(ge){return(0,j.T)(null==ge?void 0:ge.then)}},5196:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{C:()=>ge,U:()=>Ie});var j=fe(1635),O=fe(8071);function ge(o){return(0,j.AQ)(this,arguments,function*(){const H=o.getReader();try{for(;;){const{value:v,done:w}=yield(0,j.N3)(H.read());if(w)return yield(0,j.N3)(void 0);yield yield(0,j.N3)(v)}}finally{H.releaseLock()}})}function Ie(o){return(0,O.T)(null==o?void 0:o.getReader)}},9470:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{m:()=>O});var j=fe(8071);function O(ge){return ge&&(0,j.T)(ge.schedule)}},9974:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{N:()=>ge,S:()=>O});var j=fe(8071);function O(Ie){return(0,j.T)(null==Ie?void 0:Ie.lift)}function ge(Ie){return o=>{if(O(o))return o.lift(function(oe){try{return Ie(oe,this)}catch(H){this.error(H)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{I:()=>Ie});var j=fe(6354);const{isArray:O}=Array;function Ie(o){return(0,j.T)(oe=>function ge(o,oe){return O(oe)?o(...oe):o(oe)}(o,oe))}},5343:(wn,Wt,fe)=>{"use strict";function j(){}fe.d(Wt,{l:()=>j})},1203:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{F:()=>O,m:()=>ge});var j=fe(3669);function O(...Ie){return ge(Ie)}function ge(Ie){return 0===Ie.length?j.D:1===Ie.length?Ie[0]:function(oe){return Ie.reduce((H,v)=>v(H),oe)}}},5334:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{m:()=>ge});var j=fe(1026),O=fe(9270);function ge(Ie){O.f.setTimeout(()=>{const{onUnhandledError:o}=j.$;if(!o)throw Ie;o(Ie)})}},591:(wn,Wt,fe)=>{"use strict";function j(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}fe.d(Wt,{L:()=>j})},8996:(wn,Wt,fe)=>{var j={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function O(ge){if(!fe.o(j,ge))return Promise.resolve().then(()=>{var oe=new Error("Cannot find module '"+ge+"'");throw oe.code="MODULE_NOT_FOUND",oe});var Ie=j[ge],o=Ie[0];return Promise.all(Ie.slice(1).map(fe.e)).then(()=>fe(o))}O.keys=()=>Object.keys(j),O.id=8996,wn.exports=O},5235:(wn,Wt,fe)=>{var j={"./pwa-action-sheet.entry.js":[6301,6301],"./pwa-camera-modal-instance.entry.js":[5640,5640],"./pwa-camera-modal.entry.js":[2982,2982],"./pwa-camera.entry.js":[6086,6086],"./pwa-toast.entry.js":[3574,3574]};function O(ge){if(!fe.o(j,ge))return Promise.resolve().then(()=>{var oe=new Error("Cannot find module '"+ge+"'");throw oe.code="MODULE_NOT_FOUND",oe});var Ie=j[ge],o=Ie[0];return fe.e(Ie[1]).then(()=>fe(o))}O.keys=()=>Object.keys(j),O.id=5235,wn.exports=O},4633:(wn,Wt,fe)=>{var j=fe(3738).default;function O(){"use strict";wn.exports=O=function(){return Ie},wn.exports.__esModule=!0,wn.exports.default=wn.exports;var ge,Ie={},o=Object.prototype,oe=o.hasOwnProperty,H=Object.defineProperty||function(X,U,F){X[U]=F.value},v="function"==typeof Symbol?Symbol:{},w=v.iterator||"@@iterator",g=v.asyncIterator||"@@asyncIterator",y=v.toStringTag||"@@toStringTag";function C(X,U,F){return Object.defineProperty(X,U,{value:F,enumerable:!0,configurable:!0,writable:!0}),X[U]}try{C({},"")}catch{C=function(F,K,ie){return F[K]=ie}}function E(X,U,F,K){var Te=Object.create((U&&U.prototype instanceof m?U:m).prototype),q=new ne(K||[]);return H(Te,"_invoke",{value:I(X,F,q)}),Te}function s(X,U,F){try{return{type:"normal",arg:X.call(U,F)}}catch(K){return{type:"throw",arg:K}}}Ie.wrap=E;var u="suspendedStart",a="suspendedYield",d="executing",p="completed",l={};function m(){}function c(){}function h(){}var _={};C(_,w,function(){return this});var M=Object.getPrototypeOf,x=M&&M(M(V([])));x&&x!==o&&oe.call(x,w)&&(_=x);var A=h.prototype=m.prototype=Object.create(_);function T(X){["next","throw","return"].forEach(function(U){C(X,U,function(F){return this._invoke(U,F)})})}function N(X,U){function F(ie,Te,q,k){var ee=s(X[ie],X,Te);if("throw"!==ee.type){var me=ee.arg,xe=me.value;return xe&&"object"==j(xe)&&oe.call(xe,"__await")?U.resolve(xe.__await).then(function(Ge){F("next",Ge,q,k)},function(Ge){F("throw",Ge,q,k)}):U.resolve(xe).then(function(Ge){me.value=Ge,q(me)},function(Ge){return F("throw",Ge,q,k)})}k(ee.arg)}var K;H(this,"_invoke",{value:function(Te,q){function k(){return new U(function(ee,me){F(Te,q,ee,me)})}return K=K?K.then(k,k):k()}})}function I(X,U,F){var K=u;return function(ie,Te){if(K===d)throw Error("Generator is already running");if(K===p){if("throw"===ie)throw Te;return{value:ge,done:!0}}for(F.method=ie,F.arg=Te;;){var q=F.delegate;if(q){var k=z(q,F);if(k){if(k===l)continue;return k}}if("next"===F.method)F.sent=F._sent=F.arg;else if("throw"===F.method){if(K===u)throw K=p,F.arg;F.dispatchException(F.arg)}else"return"===F.method&&F.abrupt("return",F.arg);K=d;var ee=s(X,U,F);if("normal"===ee.type){if(K=F.done?p:a,ee.arg===l)continue;return{value:ee.arg,done:F.done}}"throw"===ee.type&&(K=p,F.method="throw",F.arg=ee.arg)}}}function z(X,U){var F=U.method,K=X.iterator[F];if(K===ge)return U.delegate=null,"throw"===F&&X.iterator.return&&(U.method="return",U.arg=ge,z(X,U),"throw"===U.method)||"return"!==F&&(U.method="throw",U.arg=new TypeError("The iterator does not provide a '"+F+"' method")),l;var ie=s(K,X.iterator,U.arg);if("throw"===ie.type)return U.method="throw",U.arg=ie.arg,U.delegate=null,l;var Te=ie.arg;return Te?Te.done?(U[X.resultName]=Te.value,U.next=X.nextLoc,"return"!==U.method&&(U.method="next",U.arg=ge),U.delegate=null,l):Te:(U.method="throw",U.arg=new TypeError("iterator result is not an object"),U.delegate=null,l)}function R(X){var U={tryLoc:X[0]};1 in X&&(U.catchLoc=X[1]),2 in X&&(U.finallyLoc=X[2],U.afterLoc=X[3]),this.tryEntries.push(U)}function Q(X){var U=X.completion||{};U.type="normal",delete U.arg,X.completion=U}function ne(X){this.tryEntries=[{tryLoc:"root"}],X.forEach(R,this),this.reset(!0)}function V(X){if(X||""===X){var U=X[w];if(U)return U.call(X);if("function"==typeof X.next)return X;if(!isNaN(X.length)){var F=-1,K=function ie(){for(;++F<X.length;)if(oe.call(X,F))return ie.value=X[F],ie.done=!1,ie;return ie.value=ge,ie.done=!0,ie};return K.next=K}}throw new TypeError(j(X)+" is not iterable")}return c.prototype=h,H(A,"constructor",{value:h,configurable:!0}),H(h,"constructor",{value:c,configurable:!0}),c.displayName=C(h,y,"GeneratorFunction"),Ie.isGeneratorFunction=function(X){var U="function"==typeof X&&X.constructor;return!!U&&(U===c||"GeneratorFunction"===(U.displayName||U.name))},Ie.mark=function(X){return Object.setPrototypeOf?Object.setPrototypeOf(X,h):(X.__proto__=h,C(X,y,"GeneratorFunction")),X.prototype=Object.create(A),X},Ie.awrap=function(X){return{__await:X}},T(N.prototype),C(N.prototype,g,function(){return this}),Ie.AsyncIterator=N,Ie.async=function(X,U,F,K,ie){void 0===ie&&(ie=Promise);var Te=new N(E(X,U,F,K),ie);return Ie.isGeneratorFunction(U)?Te:Te.next().then(function(q){return q.done?q.value:Te.next()})},T(A),C(A,y,"Generator"),C(A,w,function(){return this}),C(A,"toString",function(){return"[object Generator]"}),Ie.keys=function(X){var U=Object(X),F=[];for(var K in U)F.push(K);return F.reverse(),function ie(){for(;F.length;){var Te=F.pop();if(Te in U)return ie.value=Te,ie.done=!1,ie}return ie.done=!0,ie}},Ie.values=V,ne.prototype={constructor:ne,reset:function(U){if(this.prev=0,this.next=0,this.sent=this._sent=ge,this.done=!1,this.delegate=null,this.method="next",this.arg=ge,this.tryEntries.forEach(Q),!U)for(var F in this)"t"===F.charAt(0)&&oe.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=ge)},stop:function(){this.done=!0;var U=this.tryEntries[0].completion;if("throw"===U.type)throw U.arg;return this.rval},dispatchException:function(U){if(this.done)throw U;var F=this;function K(me,xe){return q.type="throw",q.arg=U,F.next=me,xe&&(F.method="next",F.arg=ge),!!xe}for(var ie=this.tryEntries.length-1;ie>=0;--ie){var Te=this.tryEntries[ie],q=Te.completion;if("root"===Te.tryLoc)return K("end");if(Te.tryLoc<=this.prev){var k=oe.call(Te,"catchLoc"),ee=oe.call(Te,"finallyLoc");if(k&&ee){if(this.prev<Te.catchLoc)return K(Te.catchLoc,!0);if(this.prev<Te.finallyLoc)return K(Te.finallyLoc)}else if(k){if(this.prev<Te.catchLoc)return K(Te.catchLoc,!0)}else{if(!ee)throw Error("try statement without catch or finally");if(this.prev<Te.finallyLoc)return K(Te.finallyLoc)}}}},abrupt:function(U,F){for(var K=this.tryEntries.length-1;K>=0;--K){var ie=this.tryEntries[K];if(ie.tryLoc<=this.prev&&oe.call(ie,"finallyLoc")&&this.prev<ie.finallyLoc){var Te=ie;break}}Te&&("break"===U||"continue"===U)&&Te.tryLoc<=F&&F<=Te.finallyLoc&&(Te=null);var q=Te?Te.completion:{};return q.type=U,q.arg=F,Te?(this.method="next",this.next=Te.finallyLoc,l):this.complete(q)},complete:function(U,F){if("throw"===U.type)throw U.arg;return"break"===U.type||"continue"===U.type?this.next=U.arg:"return"===U.type?(this.rval=this.arg=U.arg,this.method="return",this.next="end"):"normal"===U.type&&F&&(this.next=F),l},finish:function(U){for(var F=this.tryEntries.length-1;F>=0;--F){var K=this.tryEntries[F];if(K.finallyLoc===U)return this.complete(K.completion,K.afterLoc),Q(K),l}},catch:function(U){for(var F=this.tryEntries.length-1;F>=0;--F){var K=this.tryEntries[F];if(K.tryLoc===U){var ie=K.completion;if("throw"===ie.type){var Te=ie.arg;Q(K)}return Te}}throw Error("illegal catch attempt")},delegateYield:function(U,F,K){return this.delegate={iterator:V(U),resultName:F,nextLoc:K},"next"===this.method&&(this.arg=ge),l}},Ie}wn.exports=O,wn.exports.__esModule=!0,wn.exports.default=wn.exports},3738:wn=>{function Wt(fe){return wn.exports=Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},wn.exports.__esModule=!0,wn.exports.default=wn.exports,Wt(fe)}wn.exports=Wt,wn.exports.__esModule=!0,wn.exports.default=wn.exports},4756:(wn,Wt,fe)=>{var j=fe(4633)();wn.exports=j;try{regeneratorRuntime=j}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=j:Function("r","regeneratorRuntime = r")(j)}},177:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{AJ:()=>qt,MD:()=>Zt,N0:()=>pr,QT:()=>ge,Sm:()=>a,Sq:()=>dn,T3:()=>No,UE:()=>_n,VF:()=>o,Vy:()=>Cn,Xr:()=>Un,ZD:()=>Ie,_b:()=>ce,aZ:()=>p,bT:()=>zn,fw:()=>d,hb:()=>s,hj:()=>w,qQ:()=>H});var j=fe(3953);let O=null;function ge(){return O}function Ie(ue){var Ne;null!==(Ne=O)&&void 0!==Ne||(O=ue)}class o{}const H=new j.nKC("");let v=(()=>{var ue;class Ne{historyGo(je){throw new Error("")}}return(ue=Ne).\u0275fac=function(je){return new(je||ue)},ue.\u0275prov=j.jDH({token:ue,factory:()=>(0,j.WQX)(g),providedIn:"platform"}),Ne})();const w=new j.nKC("");let g=(()=>{var ue;class Ne extends v{constructor(){super(),this._doc=(0,j.WQX)(H),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ge().getBaseHref(this._doc)}onPopState(je){const ut=ge().getGlobalEventTarget(this._doc,"window");return ut.addEventListener("popstate",je,!1),()=>ut.removeEventListener("popstate",je)}onHashChange(je){const ut=ge().getGlobalEventTarget(this._doc,"window");return ut.addEventListener("hashchange",je,!1),()=>ut.removeEventListener("hashchange",je)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(je){this._location.pathname=je}pushState(je,ut,It){this._history.pushState(je,ut,It)}replaceState(je,ut,It){this._history.replaceState(je,ut,It)}forward(){this._history.forward()}back(){this._history.back()}historyGo(je=0){this._history.go(je)}getState(){return this._history.state}}return(ue=Ne).\u0275fac=function(je){return new(je||ue)},ue.\u0275prov=j.jDH({token:ue,factory:()=>new ue,providedIn:"platform"}),Ne})();function y(ue,Ne){if(0==ue.length)return Ne;if(0==Ne.length)return ue;let wt=0;return ue.endsWith("/")&&wt++,Ne.startsWith("/")&&wt++,2==wt?ue+Ne.substring(1):1==wt?ue+Ne:ue+"/"+Ne}function C(ue){const Ne=ue.match(/#|\?|$/),wt=Ne&&Ne.index||ue.length;return ue.slice(0,wt-("/"===ue[wt-1]?1:0))+ue.slice(wt)}function E(ue){return ue&&"?"!==ue[0]?"?"+ue:ue}let s=(()=>{var ue;class Ne{historyGo(je){throw new Error("")}}return(ue=Ne).\u0275fac=function(je){return new(je||ue)},ue.\u0275prov=j.jDH({token:ue,factory:()=>(0,j.WQX)(a),providedIn:"root"}),Ne})();const u=new j.nKC("");let a=(()=>{var ue;class Ne extends s{constructor(je,ut){var It,pn,Mn;super(),this._platformLocation=je,this._removeListenerFns=[],this._baseHref=null!==(It=null!==(pn=null!=ut?ut:this._platformLocation.getBaseHrefFromDOM())&&void 0!==pn?pn:null===(Mn=(0,j.WQX)(H).location)||void 0===Mn?void 0:Mn.origin)&&void 0!==It?It:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(je){this._removeListenerFns.push(this._platformLocation.onPopState(je),this._platformLocation.onHashChange(je))}getBaseHref(){return this._baseHref}prepareExternalUrl(je){return y(this._baseHref,je)}path(je=!1){const ut=this._platformLocation.pathname+E(this._platformLocation.search),It=this._platformLocation.hash;return It&&je?`${ut}${It}`:ut}pushState(je,ut,It,pn){const Mn=this.prepareExternalUrl(It+E(pn));this._platformLocation.pushState(je,ut,Mn)}replaceState(je,ut,It,pn){const Mn=this.prepareExternalUrl(It+E(pn));this._platformLocation.replaceState(je,ut,Mn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(je=0){var ut,It;null===(ut=(It=this._platformLocation).historyGo)||void 0===ut||ut.call(It,je)}}return(ue=Ne).\u0275fac=function(je){return new(je||ue)(j.KVO(v),j.KVO(u,8))},ue.\u0275prov=j.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"}),Ne})(),d=(()=>{var ue;class Ne extends s{constructor(je,ut){super(),this._platformLocation=je,this._baseHref="",this._removeListenerFns=[],null!=ut&&(this._baseHref=ut)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(je){this._removeListenerFns.push(this._platformLocation.onPopState(je),this._platformLocation.onHashChange(je))}getBaseHref(){return this._baseHref}path(je=!1){var ut;const It=null!==(ut=this._platformLocation.hash)&&void 0!==ut?ut:"#";return It.length>0?It.substring(1):It}prepareExternalUrl(je){const ut=y(this._baseHref,je);return ut.length>0?"#"+ut:ut}pushState(je,ut,It,pn){let Mn=this.prepareExternalUrl(It+E(pn));0==Mn.length&&(Mn=this._platformLocation.pathname),this._platformLocation.pushState(je,ut,Mn)}replaceState(je,ut,It,pn){let Mn=this.prepareExternalUrl(It+E(pn));0==Mn.length&&(Mn=this._platformLocation.pathname),this._platformLocation.replaceState(je,ut,Mn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(je=0){var ut,It;null===(ut=(It=this._platformLocation).historyGo)||void 0===ut||ut.call(It,je)}}return(ue=Ne).\u0275fac=function(je){return new(je||ue)(j.KVO(v),j.KVO(u,8))},ue.\u0275prov=j.jDH({token:ue,factory:ue.\u0275fac}),Ne})(),p=(()=>{var ue;class Ne{constructor(je){this._subject=new j.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=je;const ut=this._locationStrategy.getBaseHref();this._basePath=function h(ue){if(new RegExp("^(https?:)?//").test(ue)){const[,wt]=ue.split(/\/\/[^\/]+/);return wt}return ue}(C(c(ut))),this._locationStrategy.onPopState(It=>{this._subject.emit({url:this.path(!0),pop:!0,state:It.state,type:It.type})})}ngOnDestroy(){var je;null===(je=this._urlChangeSubscription)||void 0===je||je.unsubscribe(),this._urlChangeListeners=[]}path(je=!1){return this.normalize(this._locationStrategy.path(je))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(je,ut=""){return this.path()==this.normalize(je+E(ut))}normalize(je){return Ne.stripTrailingSlash(function m(ue,Ne){if(!ue||!Ne.startsWith(ue))return Ne;const wt=Ne.substring(ue.length);return""===wt||["/",";","?","#"].includes(wt[0])?wt:Ne}(this._basePath,c(je)))}prepareExternalUrl(je){return je&&"/"!==je[0]&&(je="/"+je),this._locationStrategy.prepareExternalUrl(je)}go(je,ut="",It=null){this._locationStrategy.pushState(It,"",je,ut),this._notifyUrlChangeListeners(this.prepareExternalUrl(je+E(ut)),It)}replaceState(je,ut="",It=null){this._locationStrategy.replaceState(It,"",je,ut),this._notifyUrlChangeListeners(this.prepareExternalUrl(je+E(ut)),It)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(je=0){var ut,It;null===(ut=(It=this._locationStrategy).historyGo)||void 0===ut||ut.call(It,je)}onUrlChange(je){var ut;return this._urlChangeListeners.push(je),null!==(ut=this._urlChangeSubscription)&&void 0!==ut||(this._urlChangeSubscription=this.subscribe(It=>{this._notifyUrlChangeListeners(It.url,It.state)})),()=>{const It=this._urlChangeListeners.indexOf(je);var pn;this._urlChangeListeners.splice(It,1),0===this._urlChangeListeners.length&&(null===(pn=this._urlChangeSubscription)||void 0===pn||pn.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(je="",ut){this._urlChangeListeners.forEach(It=>It(je,ut))}subscribe(je,ut,It){return this._subject.subscribe({next:je,error:ut,complete:It})}}return(ue=Ne).normalizeQueryParams=E,ue.joinWithSlash=y,ue.stripTrailingSlash=C,ue.\u0275fac=function(je){return new(je||ue)(j.KVO(s))},ue.\u0275prov=j.jDH({token:ue,factory:()=>function l(){return new p((0,j.KVO)(s))}(),providedIn:"root"}),Ne})();function c(ue){return ue.replace(/\/index.html$/,"")}function ce(ue,Ne){Ne=encodeURIComponent(Ne);for(const wt of ue.split(";")){const je=wt.indexOf("="),[ut,It]=-1==je?[wt,""]:[wt.slice(0,je),wt.slice(je+1)];if(ut.trim()===Ne)return decodeURIComponent(It)}return null}class nn{constructor(Ne,wt,je,ut){this.$implicit=Ne,this.ngForOf=wt,this.index=je,this.count=ut}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dn=(()=>{var ue;class Ne{set ngForOf(je){this._ngForOf=je,this._ngForOfDirty=!0}set ngForTrackBy(je){this._trackByFn=je}get ngForTrackBy(){return this._trackByFn}constructor(je,ut,It){this._viewContainer=je,this._template=ut,this._differs=It,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(je){je&&(this._template=je)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const je=this._ngForOf;!this._differ&&je&&(this._differ=this._differs.find(je).create(this.ngForTrackBy))}if(this._differ){const je=this._differ.diff(this._ngForOf);je&&this._applyChanges(je)}}_applyChanges(je){const ut=this._viewContainer;je.forEachOperation((It,pn,Mn)=>{if(null==It.previousIndex)ut.createEmbeddedView(this._template,new nn(It.item,this._ngForOf,-1,-1),null===Mn?void 0:Mn);else if(null==Mn)ut.remove(null===pn?void 0:pn);else if(null!==pn){const ir=ut.get(pn);ut.move(ir,Mn),Sn(ir,It)}});for(let It=0,pn=ut.length;It<pn;It++){const ir=ut.get(It).context;ir.index=It,ir.count=pn,ir.ngForOf=this._ngForOf}je.forEachIdentityChange(It=>{Sn(ut.get(It.currentIndex),It)})}static ngTemplateContextGuard(je,ut){return!0}}return(ue=Ne).\u0275fac=function(je){return new(je||ue)(j.rXU(j.c1b),j.rXU(j.C4Q),j.rXU(j._q3))},ue.\u0275dir=j.FsC({type:ue,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Ne})();function Sn(ue,Ne){ue.context.$implicit=Ne.item}let zn=(()=>{var ue;class Ne{constructor(je,ut){this._viewContainer=je,this._context=new yr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ut}set ngIf(je){this._context.$implicit=this._context.ngIf=je,this._updateView()}set ngIfThen(je){Tr("ngIfThen",je),this._thenTemplateRef=je,this._thenViewRef=null,this._updateView()}set ngIfElse(je){Tr("ngIfElse",je),this._elseTemplateRef=je,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(je,ut){return!0}}return(ue=Ne).\u0275fac=function(je){return new(je||ue)(j.rXU(j.c1b),j.rXU(j.C4Q))},ue.\u0275dir=j.FsC({type:ue,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Ne})();class yr{constructor(){this.$implicit=null,this.ngIf=null}}function Tr(ue,Ne){if(Ne&&!Ne.createEmbeddedView)throw new Error(`${ue} must be a TemplateRef, but received '${(0,j.Tbb)(Ne)}'.`)}let No=(()=>{var ue;class Ne{constructor(je){this._viewContainerRef=je,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(je){if(this._shouldRecreateView(je)){var ut;const It=this._viewContainerRef;if(this._viewRef&&It.remove(It.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const pn=this._createContextForwardProxy();this._viewRef=It.createEmbeddedView(this.ngTemplateOutlet,pn,{injector:null!==(ut=this.ngTemplateOutletInjector)&&void 0!==ut?ut:void 0})}}_shouldRecreateView(je){return!!je.ngTemplateOutlet||!!je.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(je,ut,It)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ut,It),get:(je,ut,It)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ut,It)}})}}return(ue=Ne).\u0275fac=function(je){return new(je||ue)(j.rXU(j.c1b))},ue.\u0275dir=j.FsC({type:ue,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[j.OA$]}),Ne})(),Zt=(()=>{var ue;class Ne{}return(ue=Ne).\u0275fac=function(je){return new(je||ue)},ue.\u0275mod=j.$C({type:ue}),ue.\u0275inj=j.G2t({}),Ne})();const qt="browser",mn="server";function _n(ue){return ue===qt}function Cn(ue){return ue===mn}let Un=(()=>{var ue;class Ne{}return(ue=Ne).\u0275prov=(0,j.jDH)({token:ue,providedIn:"root",factory:()=>_n((0,j.WQX)(j.Agw))?new Fn((0,j.WQX)(H),window):new Yn}),Ne})();class Fn{constructor(Ne,wt){this.document=Ne,this.window=wt,this.offset=()=>[0,0]}setOffset(Ne){this.offset=Array.isArray(Ne)?()=>Ne:Ne}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Ne){this.window.scrollTo(Ne[0],Ne[1])}scrollToAnchor(Ne){const wt=function Gn(ue,Ne){const wt=ue.getElementById(Ne)||ue.getElementsByName(Ne)[0];if(wt)return wt;if("function"==typeof ue.createTreeWalker&&ue.body&&"function"==typeof ue.body.attachShadow){const je=ue.createTreeWalker(ue.body,NodeFilter.SHOW_ELEMENT);let ut=je.currentNode;for(;ut;){const It=ut.shadowRoot;if(It){const pn=It.getElementById(Ne)||It.querySelector(`[name="${Ne}"]`);if(pn)return pn}ut=je.nextNode()}}return null}(this.document,Ne);wt&&(this.scrollToElement(wt),wt.focus())}setHistoryScrollRestoration(Ne){this.window.history.scrollRestoration=Ne}scrollToElement(Ne){const wt=Ne.getBoundingClientRect(),je=wt.left+this.window.pageXOffset,ut=wt.top+this.window.pageYOffset,It=this.offset();this.window.scrollTo(je-It[0],ut-It[1])}}class Yn{setOffset(Ne){}getScrollPosition(){return[0,0]}scrollToPosition(Ne){}scrollToAnchor(Ne){}setHistoryScrollRestoration(Ne){}}class pr{}},3953:(wn,Wt,fe)=>{"use strict";function j(t,n){return Object.is(t,n)}fe.d(Wt,{iLQ:()=>Md,sZ2:()=>xc,hnV:()=>g1,Hbi:()=>FI,o8S:()=>ts,BIS:()=>aC,gRc:()=>I1,Ql9:()=>dI,Ocv:()=>vI,Z63:()=>Ci,aKT:()=>Hl,uvJ:()=>Fi,zcH:()=>fs,bkB:()=>hs,$GK:()=>mr,nKC:()=>$n,zZn:()=>Bo,_q3:()=>om,MKu:()=>im,xe9:()=>Od,Co$:()=>C0,Vns:()=>fa,SKi:()=>ro,Xx1:()=>co,Agw:()=>Fh,PLl:()=>Xg,sFG:()=>rD,_9s:()=>Lf,czy:()=>Fc,WPN:()=>sa,kdw:()=>xa,C4Q:()=>au,NYb:()=>iI,giA:()=>p1,RxE:()=>a1,c1b:()=>rd,gXe:()=>ws,mal:()=>Fv,L39:()=>bO,EWP:()=>wO,a0P:()=>AO,Ol2:()=>ep,w6W:()=>ZD,oH4:()=>D1,SmG:()=>CI,Rfq:()=>Gi,WQX:()=>Rn,QuC:()=>hr,EmA:()=>is,fpN:()=>LI,HJs:()=>MO,N4e:()=>bm,vPA:()=>o0,O8t:()=>EO,H3F:()=>l1,zAP:()=>nw,H8p:()=>Zd,KH2:()=>_l,TgB:()=>oa,wOt:()=>Pn,WHO:()=>h1,e01:()=>f1,lNU:()=>Nr,h9k:()=>gy,$MX:()=>Rc,ZF7:()=>Xa,Kcf:()=>TC,e5t:()=>OC,UyX:()=>MC,cWb:()=>AC,osQ:()=>IC,H5H:()=>Dp,mq5:()=>xb,JZv:()=>zr,LfX:()=>br,plB:()=>Ns,jNT:()=>Xp,zjR:()=>m1,TL$:()=>iC,Tbb:()=>Xr,rcV:()=>Ts,Vt3:()=>Jf,GFd:()=>E0,OA$:()=>ah,Jv_:()=>N_,aNF:()=>L_,R7$:()=>Vy,BMQ:()=>fp,AVh:()=>bp,wni:()=>u_,VBU:()=>Ce,FsC:()=>rn,jDH:()=>Nn,G2t:()=>Kn,$C:()=>rt,EJ8:()=>vn,rXU:()=>Ya,nrm:()=>Sp,eu8:()=>xp,bVm:()=>bd,qex:()=>vd,k0s:()=>yd,j41:()=>gd,RV6:()=>Eb,xGo:()=>hg,KVO:()=>Zn,kS0:()=>vc,QTQ:()=>Hy,bIt:()=>Mp,lsd:()=>h_,XpG:()=>Jb,SdG:()=>Qb,NAR:()=>Zb,Y8G:()=>yp,Mz_:()=>Cd,lJ4:()=>B_,mGM:()=>d_,sdS:()=>f_,Njj:()=>Um,eBV:()=>Fm,B4B:()=>Qh,n$t:()=>vy,Aen:()=>Zi,DNE:()=>np,EFF:()=>C_,JRh:()=>jp,SpI:()=>Sd,Lme:()=>Pp,DH7:()=>j_,mxI:()=>kp,R50:()=>Rp,GBs:()=>c_});let O=null,ge=!1,Ie=1;const o=Symbol("SIGNAL");function oe(t){const n=O;return O=t,n}const g={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function y(t){if(ge)throw new Error("");if(null===O)return;O.consumerOnSignalRead(t);const n=O.nextProducerIndex++;M(O),n<O.producerNode.length&&O.producerNode[n]!==t&&_(O)&&h(O.producerNode[n],O.producerIndexOfThis[n]),O.producerNode[n]!==t&&(O.producerNode[n]=t,O.producerIndexOfThis[n]=_(O)?c(t,O,n):0),O.producerLastReadVersion[n]=t.version}function E(t){if((!_(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Ie)){if(!t.producerMustRecompute(t)&&!l(t))return t.dirty=!1,void(t.lastCleanEpoch=Ie);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ie}}function s(t){if(void 0===t.liveConsumerNode)return;const n=ge;ge=!0;try{for(const r of t.liveConsumerNode)r.dirty||a(r)}finally{ge=n}}function u(){var t;return!1!==(null===(t=O)||void 0===t?void 0:t.consumerAllowSignalWrites)}function a(t){var n;t.dirty=!0,s(t),null===(n=t.consumerMarkedDirty)||void 0===n||n.call(t,t)}function d(t){return t&&(t.nextProducerIndex=0),oe(t)}function p(t,n){if(oe(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(_(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)h(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function l(t){M(t);for(let n=0;n<t.producerNode.length;n++){const r=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==r.version||(E(r),i!==r.version))return!0}return!1}function m(t){if(M(t),_(t))for(let n=0;n<t.producerNode.length;n++)h(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function c(t,n,r){if(x(t),0===t.liveConsumerNode.length&&A(t))for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=c(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(r),t.liveConsumerNode.push(n)-1}function h(t,n){if(x(t),1===t.liveConsumerNode.length&&A(t))for(let i=0;i<t.producerNode.length;i++)h(t.producerNode[i],t.producerIndexOfThis[i]);const r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const i=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];M(f),f.producerIndexOfThis[i]=n}}function _(t){var n,r;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(r=t.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0}function M(t){var n,r,i;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(r=t.producerIndexOfThis)&&void 0!==r||(t.producerIndexOfThis=[]),null!==(i=t.producerLastReadVersion)&&void 0!==i||(t.producerLastReadVersion=[])}function x(t){var n,r;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(r=t.liveConsumerIndexOfThis)&&void 0!==r||(t.liveConsumerIndexOfThis=[])}function A(t){return void 0!==t.producerNode}const N=Symbol("UNSET"),I=Symbol("COMPUTING"),z=Symbol("ERRORED"),R={...g,value:N,dirty:!0,error:null,equal:j,producerMustRecompute:t=>t.value===N||t.value===I,producerRecomputeValue(t){if(t.value===I)throw new Error("Detected cycle in computations.");const n=t.value;t.value=I;const r=d(t);let i;try{i=t.computation()}catch(f){i=z,t.error=f}finally{p(t,r)}n!==N&&n!==z&&i!==z&&t.equal(n,i)?t.value=n:(t.value=i,t.version++)}};let ne=function Q(){throw new Error};function V(){ne()}let U=null;function Te(t,n){u()||V(),t.equal(t.value,n)||(t.value=n,function me(t){var n;t.version++,function C(){Ie++}(),s(t),null===(n=U)||void 0===n||n()}(t))}const ee={...g,equal:j,value:void 0};var _r,We=fe(4412),ct=fe(1413),dt=fe(8359),Ve=fe(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Nr="https://g.co/ng/security#xss";class Pn extends Error{constructor(n,r){super(function go(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,r)),this.code=n}}function Ur(t){return{toString:t}.toString()}const Go="__parameters__";function bi(t,n,r){return Ur(()=>{const i=function ji(t){return function(...r){if(t){const i=t(...r);for(const f in i)this[f]=i[f]}}}(n);function f(...D){if(this instanceof f)return i.apply(this,D),this;const $=new f(...D);return Z.annotation=$,Z;function Z(le,De,Fe){const Je=le.hasOwnProperty(Go)?le[Go]:Object.defineProperty(le,Go,{value:[]})[Go];for(;Je.length<=Fe;)Je.push(null);return(Je[Fe]=Je[Fe]||[]).push($),le}}return r&&(f.prototype=Object.create(r.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}const zr=globalThis;function Er(t){for(let n in t)if(t[n]===Er)return n;throw Error("Could not find renamed property on target object.")}function Pi(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}function Xr(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Xr).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Ri(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const wi=Er({__forward_ref__:Er});function Gi(t){return t.__forward_ref__=Gi,t.toString=function(){return Xr(this())},t}function Hn(t){return Ho(t)?t():t}function Ho(t){return"function"==typeof t&&t.hasOwnProperty(wi)&&t.__forward_ref__===Gi}function Nn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kn(t){return{providers:t.providers||[],imports:t.imports||[]}}function tr(t){return Kr(t,qr)||Kr(t,Ar)}function br(t){return null!==tr(t)}function Kr(t,n){return t.hasOwnProperty(n)?t[n]:null}function io(t){return t&&(t.hasOwnProperty(fo)||t.hasOwnProperty(Ir))?t[fo]:null}const qr=Er({\u0275prov:Er}),fo=Er({\u0275inj:Er}),Ar=Er({ngInjectableDef:Er}),Ir=Er({ngInjectorDef:Er});class $n{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Nn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $s(t){return t&&!!t.\u0275providers}const vs=Er({\u0275cmp:Er}),wa=Er({\u0275dir:Er}),Vs=Er({\u0275pipe:Er}),Ea=Er({\u0275mod:Er}),ki=Er({\u0275fac:Er}),os=Er({__NG_ELEMENT_ID__:Er}),Ca=Er({__NG_ENV_ID__:Er});function ar(t){return"string"==typeof t?t:null==t?"":String(t)}function Gs(t,n){throw new Pn(-201,!1)}var mr=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(mr||{});let Hi;function bs(){return Hi}function Io(t){const n=Hi;return Hi=t,n}function di(t,n,r){const i=tr(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:r&mr.Optional?null:void 0!==n?n:void Gs()}const ue={},Ne="__NG_DI_FLAG__",wt="ngTempTokenPath",ut=/\n/gm,pn="__source";let Mn;function or(t){const n=Mn;return Mn=t,n}function Dr(t,n=mr.Default){if(void 0===Mn)throw new Pn(-203,!1);return null===Mn?di(t,void 0,n):Mn.get(t,n&mr.Optional?null:void 0,n)}function Zn(t,n=mr.Default){return(bs()||Dr)(Hn(t),n)}function Rn(t,n=mr.Default){return Zn(t,Jr(n))}function Jr(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function hi(t){const n=[];for(let r=0;r<t.length;r++){const i=Hn(t[r]);if(Array.isArray(i)){if(0===i.length)throw new Pn(900,!1);let f,D=mr.Default;for(let $=0;$<i.length;$++){const Z=i[$],le=zi(Z);"number"==typeof le?-1===le?f=Z.token:D|=le:f=Z}n.push(Zn(f,D))}else n.push(Zn(i))}return n}function po(t,n){return t[Ne]=n,t.prototype[Ne]=n,t}function zi(t){return t[Ne]}const co=po(bi("Optional"),8),xa=po(bi("SkipSelf"),4);function _s(t,n){return t.hasOwnProperty(ki)?t[ki]:null}function Os(t,n){t.forEach(r=>Array.isArray(r)?Os(r,n):n(r))}function Hd(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function Ta(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ri(t,n,r){let i=zs(t,n);return i>=0?t[1|i]=r:(i=~i,function xl(t,n,r,i){let f=t.length;if(f==n)t.push(r,i);else if(1===f)t.push(i,t[0]),t[0]=r;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=r,t[n+1]=i}}(t,i,n,r)),i}function zu(t,n){const r=zs(t,n);if(r>=0)return t[1|r]}function zs(t,n){return function Dl(t,n,r){let i=0,f=t.length>>r;for(;f!==i;){const D=i+(f-i>>1),$=t[D<<r];if(n===$)return D<<r;$>n?f=D:i=D+1}return~(f<<r)}(t,n,1)}const Ei={},Cr=[],Ci=new $n(""),Wu=new $n("",-1),Xu=new $n("");class Ws{get(n,r=ue){if(r===ue){const i=new Error(`NullInjectorError: No provider for ${Xr(n)}!`);throw i.name="NullInjectorError",i}return r}}var Ma=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ma||{}),ws=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ws||{}),Es=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Es||{});function cm(t,n,r){let i=t.length;for(;;){const f=t.indexOf(n,r);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const D=n.length;if(f+D===i||t.charCodeAt(f+D)<=32)return f}r=f+1}}function Tl(t,n,r){let i=0;for(;i<r.length;){const f=r[i];if("number"==typeof f){if(0!==f)break;i++;const D=r[i++],$=r[i++],Z=r[i++];t.setAttribute(n,$,Z,D)}else{const D=f,$=r[++i];zd(D)?t.setProperty(n,D,$):t.setAttribute(n,D,$),i++}}return i}function Ku(t){return 3===t||4===t||6===t}function zd(t){return 64===t.charCodeAt(0)}function Ps(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let i=0;i<n.length;i++){const f=n[i];"number"==typeof f?r=f:0===r||qu(t,r,f,null,-1===r||2===r?n[++i]:null)}}return t}function qu(t,n,r,i,f){let D=0,$=t.length;if(-1===n)$=-1;else for(;D<t.length;){const Z=t[D++];if("number"==typeof Z){if(Z===n){$=-1;break}if(Z>n){$=D-1;break}}}for(;D<t.length;){const Z=t[D];if("number"==typeof Z)break;if(Z===r){if(null===i)return void(null!==f&&(t[D+1]=f));if(i===t[D+1])return void(t[D+2]=f)}D++,null!==i&&D++,null!==f&&D++}-1!==$&&(t.splice($,0,n),D=$+1),t.splice(D++,0,r),null!==i&&t.splice(D++,0,i),null!==f&&t.splice(D++,0,f)}const Yu="ng-template";function Wd(t,n,r,i){let f=0;if(i){for(;f<n.length&&"string"==typeof n[f];f+=2)if("class"===n[f]&&-1!==cm(n[f+1].toLowerCase(),r,0))return!0}else if(Al(t))return!1;if(f=n.indexOf(1,f),f>-1){let D;for(;++f<n.length&&"string"==typeof(D=n[f]);)if(D.toLowerCase()===r)return!0}return!1}function Al(t){return 4===t.type&&t.value!==Yu}function Xd(t,n,r){return n===(4!==t.type||r?t.value:Yu)}function Kd(t,n,r){let i=4;const f=t.attrs,D=null!==f?function hm(t){for(let n=0;n<t.length;n++)if(Ku(t[n]))return n;return t.length}(f):0;let $=!1;for(let Z=0;Z<n.length;Z++){const le=n[Z];if("number"!=typeof le){if(!$)if(4&i){if(i=2|1&i,""!==le&&!Xd(t,le,r)||""===le&&1===n.length){if(Si(i))return!1;$=!0}}else if(8&i){if(null===f||!Wd(t,f,le,r)){if(Si(i))return!1;$=!0}}else{const De=n[++Z],Fe=Ju(le,f,Al(t),r);if(-1===Fe){if(Si(i))return!1;$=!0;continue}if(""!==De){let Je;if(Je=Fe>D?"":f[Fe+1].toLowerCase(),2&i&&De!==Je){if(Si(i))return!1;$=!0}}}}else{if(!$&&!Si(i)&&!Si(le))return!1;if($&&Si(le))continue;$=!1,i=le|1&i}}return Si(i)||$}function Si(t){return!(1&t)}function Ju(t,n,r,i){if(null===n)return-1;let f=0;if(i||!r){let D=!1;for(;f<n.length;){const $=n[f];if($===t)return f;if(3===$||6===$)D=!0;else{if(1===$||2===$){let Z=n[++f];for(;"string"==typeof Z;)Z=n[++f];continue}if(4===$)break;if(0===$){f+=4;continue}}f+=D?1:2}return-1}return function fm(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const i=t[r];if("number"==typeof i)return-1;if(i===n)return r;r++}return-1}(n,t)}function Zu(t,n,r=!1){for(let i=0;i<n.length;i++)if(Kd(t,n[i],r))return!0;return!1}function pm(t,n){e:for(let r=0;r<n.length;r++){const i=n[r];if(t.length===i.length){for(let f=0;f<t.length;f++)if(t[f]!==i[f])continue e;return!0}}return!1}function qd(t,n){return t?":not("+n.trim()+")":n}function mm(t){let n=t[0],r=1,i=2,f="",D=!1;for(;r<t.length;){let $=t[r];if("string"==typeof $)if(2&i){const Z=t[++r];f+="["+$+(Z.length>0?'="'+Z+'"':"")+"]"}else 8&i?f+="."+$:4&i&&(f+=" "+$);else""!==f&&!Si($)&&(n+=qd(D,f),f=""),i=$,D=D||!Si(i);r++}return""!==f&&(n+=qd(D,f)),n}function Ce(t){return Ur(()=>{var n;const r=no(t),i={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ma.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||ws.Emulated,styles:t.styles||Cr,_:null,schemas:t.schemas||null,tView:null,id:""};Wo(i);const f=t.dependencies;return i.directiveDefs=Fo(f,!1),i.pipeDefs=Fo(f,!0),i.id=function fi(t){let n=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of r)n=Math.imul(31,n)+f.charCodeAt(0)|0;return n+=2147483648,"c"+n}(i),i})}function de(t){return Kt(t)||On(t)}function Ae(t){return null!==t}function rt(t){return Ur(()=>({type:t.type,bootstrap:t.bootstrap||Cr,declarations:t.declarations||Cr,imports:t.imports||Cr,exports:t.exports||Cr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ft(t,n){if(null==t)return Ei;const r={};for(const f in t)if(t.hasOwnProperty(f)){const D=t[f];let $,Z,le=Es.None;var i;Array.isArray(D)?(le=D[0],$=D[1],Z=null!==(i=D[2])&&void 0!==i?i:$):($=D,Z=D),n?(r[$]=le!==Es.None?[f,le]:f,n[$]=Z):r[$]=f}return r}function rn(t){return Ur(()=>{const n=no(t);return Wo(n),n})}function vn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Kt(t){return t[vs]||null}function On(t){return t[wa]||null}function qn(t){return t[Vs]||null}function hr(t){const n=Kt(t)||On(t)||qn(t);return null!==n&&n.standalone}function Qn(t,n){const r=t[Ea]||null;if(!r&&!0===n)throw new Error(`Type ${Xr(t)} does not have '\u0275mod' property.`);return r}function no(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Ei,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Cr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ft(t.inputs,n),outputs:ft(t.outputs),debugInfo:null}}function Wo(t){var n;null===(n=t.features)||void 0===n||n.forEach(r=>r(t))}function Fo(t,n){if(!t)return null;const r=n?qn:de;return()=>("function"==typeof t?t():t).map(i=>r(i)).filter(Ae)}function is(t){return{\u0275providers:t}}function Ml(...t){return{\u0275providers:Ks(0,t),\u0275fromNgModule:!0}}function Ks(t,...n){const r=[],i=new Set;let f;const D=$=>{r.push($)};return Os(n,$=>{const Z=$;Cs(Z,D,[],i)&&(f||(f=[]),f.push(Z))}),void 0!==f&&Qu(f,D),r}function Qu(t,n){for(let r=0;r<t.length;r++){const{ngModule:i,providers:f}=t[r];Yd(f,D=>{n(D,i)})}}function Cs(t,n,r,i){if(!(t=Hn(t)))return!1;let f=null,D=io(t);const $=!D&&Kt(t);if(D||$){if($&&!$.standalone)return!1;f=t}else{const le=t.ngModule;if(D=io(le),!D)return!1;f=le}const Z=i.has(f);if($){if(Z)return!1;if(i.add(f),$.dependencies){const le="function"==typeof $.dependencies?$.dependencies():$.dependencies;for(const De of le)Cs(De,n,r,i)}}else{if(!D)return!1;{if(null!=D.imports&&!Z){let De;i.add(f);try{Os(D.imports,Fe=>{Cs(Fe,n,r,i)&&(De||(De=[]),De.push(Fe))})}finally{}void 0!==De&&Qu(De,n)}if(!Z){const De=_s(f)||(()=>new f);n({provide:f,useFactory:De,deps:Cr},f),n({provide:Xu,useValue:f,multi:!0},f),n({provide:Ci,useValue:()=>Zn(f),multi:!0},f)}const le=D.providers;if(null!=le&&!Z){const De=t;Yd(le,Fe=>{n(Fe,De)})}}}return f!==t&&void 0!==t.providers}function Yd(t,n){for(let r of t)$s(r)&&(r=r.\u0275providers),Array.isArray(r)?Yd(r,n):n(r)}const pw=Er({provide:String,useValue:Er});function Jd(t){return null!==t&&"object"==typeof t&&pw in t}function qs(t){return"function"==typeof t}const Zd=new $n(""),ec={},gw={};let Qd;function tc(){return void 0===Qd&&(Qd=new Ws),Qd}class Fi{}class Ia extends Fi{get destroyed(){return this._destroyed}constructor(n,r,i,f){super(),this.parent=r,this.source=i,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,th(n,$=>this.processProvider($)),this.records.set(Wu,Oa(void 0,this)),f.has("environment")&&this.records.set(Fi,Oa(void 0,this));const D=this.records.get(Zd);null!=D&&"string"==typeof D.value&&this.scopes.add(D.value),this.injectorDefTypes=new Set(this.get(Xu,Cr,mr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=oe(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of r)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),oe(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=or(this),i=Io(void 0);try{return n()}finally{or(r),Io(i)}}get(n,r=ue,i=mr.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Ca))return n[Ca](this);i=Jr(i);const D=or(this),$=Io(void 0);try{if(!(i&mr.SkipSelf)){let le=this.records.get(n);if(void 0===le){const De=function ww(t){return"function"==typeof t||"object"==typeof t&&t instanceof $n}(n)&&tr(n);le=De&&this.injectableDefInScope(De)?Oa(eh(n),ec):null,this.records.set(n,le)}if(null!=le)return this.hydrate(n,le)}return(i&mr.Self?tc():this.parent).get(n,r=i&mr.Optional&&r===ue?null:r)}catch(Z){if("NullInjectorError"===Z.name){if((Z[wt]=Z[wt]||[]).unshift(Xr(n)),D)throw Z;return function Ni(t,n,r,i){const f=t[wt];throw n[pn]&&f.unshift(n[pn]),t.message=function Wi(t,n,r,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=Xr(n);if(Array.isArray(n))f=n.map(Xr).join(" -> ");else if("object"==typeof n){let D=[];for(let $ in n)if(n.hasOwnProperty($)){let Z=n[$];D.push($+":"+("string"==typeof Z?JSON.stringify(Z):Xr(Z)))}f=`{${D.join(", ")}}`}return`${r}${i?"("+i+")":""}[${f}]: ${t.replace(ut,"\n  ")}`}("\n"+t.message,f,r,i),t.ngTokenPath=f,t[wt]=null,t}(Z,n,"R3InjectorError",this.source)}throw Z}finally{Io($),or(D)}}resolveInjectorInitializers(){const n=oe(null),r=or(this),i=Io(void 0);try{const D=this.get(Ci,Cr,mr.Self);for(const $ of D)$()}finally{or(r),Io(i),oe(n)}}toString(){const n=[],r=this.records;for(const i of r.keys())n.push(Xr(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pn(205,!1)}processProvider(n){let r=qs(n=Hn(n))?n:Hn(n&&n.provide);const i=function vw(t){return Jd(t)?Oa(void 0,t.useValue):Oa(vm(t),ec)}(n);if(!qs(n)&&!0===n.multi){let f=this.records.get(r);f||(f=Oa(void 0,ec,!0),f.factory=()=>hi(f.multi),this.records.set(r,f)),r=n,f.multi.push(n)}this.records.set(r,i)}hydrate(n,r){const i=oe(null);try{return r.value===ec&&(r.value=gw,r.value=r.factory()),"object"==typeof r.value&&r.value&&function _w(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{oe(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=Hn(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function eh(t){const n=tr(t),r=null!==n?n.factory:_s(t);if(null!==r)return r;if(t instanceof $n)throw new Pn(204,!1);if(t instanceof Function)return function yw(t){if(t.length>0)throw new Pn(204,!1);const r=function to(t){return t&&(t[qr]||t[Ar])||null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new Pn(204,!1)}function vm(t,n,r){let i;if(qs(t)){const f=Hn(t);return _s(f)||eh(f)}if(Jd(t))i=()=>Hn(t.useValue);else if(function ym(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...hi(t.deps||[]));else if(function gm(t){return!(!t||!t.useExisting)}(t))i=()=>Zn(Hn(t.useExisting));else{const f=Hn(t&&(t.useClass||t.provide));if(!function bw(t){return!!t.deps}(t))return _s(f)||eh(f);i=()=>new f(...hi(t.deps))}return i}function Oa(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function th(t,n){for(const r of t)Array.isArray(r)?th(r,n):r&&$s(r)?th(r.\u0275providers,n):n(r)}function bm(t,n){t instanceof Ia&&t.assertNotDestroyed();const i=or(t),f=Io(void 0);try{return n()}finally{or(i),Io(f)}}function _m(){return void 0!==bs()||null!=function ir(){return Mn}()}const so=0,kn=1,nr=2,xo=3,Ki=4,Xo=5,oi=6,Ys=7,Zr=8,Do=9,ss=10,lr=11,Ol=12,Em=13,Pa=14,ao=15,Js=16,Ra=17,as=18,ka=19,Cm=20,Rs=21,jl=22,Ui=23,er=25,rh=1,ls=7,Na=9,yo=10;var ic=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ic||{});function Uo(t){return Array.isArray(t)&&"object"==typeof t[rh]}function Zo(t){return Array.isArray(t)&&!0===t[rh]}function oh(t){return!!(4&t.flags)}function Zs(t){return t.componentOffset>-1}function sc(t){return!(1&~t.flags)}function qi(t){return!!t.template}function Rl(t){return!!(512&t[nr])}class Rw{constructor(n,r,i){this.previousValue=n,this.currentValue=r,this.firstChange=i}isFirstChange(){return this.firstChange}}function Tm(t,n,r,i){null!==n?n.applyValueToInputSignal(n,i):t[r]=i}function ah(){return Am}function Am(t){return t.type.prototype.ngOnChanges&&(t.setInput=Nw),kw}function kw(){const t=Im(this),n=null==t?void 0:t.current;if(n){const r=t.previous;if(r===Ei)t.previous=n;else for(let i in n)r[i]=n[i];t.current=null,this.ngOnChanges(n)}}function Nw(t,n,r,i,f){const D=this.declaredInputs[i],$=Im(t)||function Lw(t,n){return t[Mm]=n}(t,{previous:Ei,current:null}),Z=$.current||($.current={}),le=$.previous,De=le[D];Z[D]=new Rw(De&&De.currentValue,r,le===Ei),Tm(t,n,f,r)}ah.ngInherit=!0;const Mm="__ngSimpleChanges__";function Im(t){return t[Mm]||null}const us=function(t,n,r){};function jr(t){for(;Array.isArray(t);)t=t[so];return t}function kl(t,n){return jr(n[t])}function ii(t,n){return jr(n[t.index])}function Nl(t,n){return t.data[n]}function xi(t,n){const r=n[t];return Uo(r)?r:r[so]}function ch(t){return!(128&~t[nr])}function Bi(t,n){return null==n?null:t[n]}function Pm(t){t[Ra]=0}function Rm(t){1024&t[nr]||(t[nr]|=1024,ch(t)&&ac(t))}function Ll(t){var n;return!!(9216&t[nr]||null!==(n=t[Ui])&&void 0!==n&&n.dirty)}function dh(t){var n;null===(n=t[ss].changeDetectionScheduler)||void 0===n||n.notify(7),64&t[nr]&&(t[nr]|=1024),Ll(t)&&ac(t)}function ac(t){var n;null===(n=t[ss].changeDetectionScheduler)||void 0===n||n.notify(0);let r=Ss(t);for(;null!==r&&!(8192&r[nr])&&(r[nr]|=8192,ch(r));)r=Ss(r)}function lc(t,n){if(!(256&~t[nr]))throw new Pn(911,!1);null===t[Rs]&&(t[Rs]=[]),t[Rs].push(n)}function Ss(t){const n=t[xo];return Zo(n)?n[xo]:n}const ur={lFrame:qm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Nm=!1;function Lm(){return ur.bindingsEnabled}function ea(){return null!==ur.skipHydrationRootTNode}function En(){return ur.lFrame.lView}function gr(){return ur.lFrame.tView}function Fm(t){return ur.lFrame.contextLView=t,t[Zr]}function Um(t){return ur.lFrame.contextLView=null,t}function Hr(){let t=Bm();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bm(){return ur.lFrame.currentTNode}function Yi(t,n){const r=ur.lFrame;r.currentTNode=t,r.isParent=n}function ph(){return ur.lFrame.isParent}function mh(){ur.lFrame.isParent=!1}function Gm(){return Nm}function Hm(t){Nm=t}function Ji(){return ur.lFrame.bindingIndex++}function Ds(t){const n=ur.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}function Jw(t,n){const r=ur.lFrame;r.bindingIndex=r.bindingRootIndex=t,gh(n)}function gh(t){ur.lFrame.currentDirectiveIndex=t}function vh(){return ur.lFrame.currentQueryIndex}function cc(t){ur.lFrame.currentQueryIndex=t}function Qw(t){const n=t[kn];return 2===n.type?n.declTNode:1===n.type?t[Xo]:null}function Xm(t,n,r){if(r&mr.SkipSelf){let f=n,D=t;for(;!(f=f.parent,null!==f||r&mr.Host||(f=Qw(D),null===f||(D=D[Pa],10&f.type))););if(null===f)return!1;n=f,t=D}const i=ur.lFrame=Km();return i.currentTNode=n,i.lView=t,!0}function bh(t){const n=Km(),r=t[kn];ur.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Km(){const t=ur.lFrame,n=null===t?null:t.child;return null===n?qm(t):n}function qm(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ym(){const t=ur.lFrame;return ur.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Jm=Ym;function _h(){const t=Ym();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ko(){return ur.lFrame.selectedIndex}function ta(t){ur.lFrame.selectedIndex=t}function Qr(){const t=ur.lFrame;return Nl(t.tView,t.selectedIndex)}let Qm=!0;function Ul(){return Qm}function cs(t){Qm=t}function dc(t,n){for(let De=n.directiveStart,Fe=n.directiveEnd;De<Fe;De++){const xt=t.data[De].type.prototype,{ngAfterContentInit:jt,ngAfterContentChecked:Ot,ngAfterViewInit:un,ngAfterViewChecked:Dn,ngOnDestroy:In}=xt;var r,i,f,D,$,Z,le;jt&&(null!==(r=t.contentHooks)&&void 0!==r?r:t.contentHooks=[]).push(-De,jt),Ot&&((null!==(i=t.contentHooks)&&void 0!==i?i:t.contentHooks=[]).push(De,Ot),(null!==(f=t.contentCheckHooks)&&void 0!==f?f:t.contentCheckHooks=[]).push(De,Ot)),un&&(null!==(D=t.viewHooks)&&void 0!==D?D:t.viewHooks=[]).push(-De,un),Dn&&((null!==($=t.viewHooks)&&void 0!==$?$:t.viewHooks=[]).push(De,Dn),(null!==(Z=t.viewCheckHooks)&&void 0!==Z?Z:t.viewCheckHooks=[]).push(De,Dn)),null!=In&&(null!==(le=t.destroyHooks)&&void 0!==le?le:t.destroyHooks=[]).push(De,In)}}function hc(t,n,r){eg(t,n,3,r)}function fc(t,n,r,i){(3&t[nr])===r&&eg(t,n,r,i)}function wh(t,n){let r=t[nr];(3&r)===n&&(r&=16383,r+=1,t[nr]=r)}function eg(t,n,r,i){const D=null!=i?i:-1,$=n.length-1;let Z=0;for(let le=void 0!==i?65535&t[Ra]:0;le<$;le++)if("number"==typeof n[le+1]){if(Z=n[le],null!=i&&Z>=i)break}else n[le]<0&&(t[Ra]+=65536),(Z<D||-1==D)&&(sE(t,r,n,le),t[Ra]=(4294901760&t[Ra])+le+2),le++}function tg(t,n){us(4,t,n);const r=oe(null);try{n.call(t)}finally{oe(r),us(5,t,n)}}function sE(t,n,r,i){const f=r[i]<0,D=r[i+1],Z=t[f?-r[i]:r[i]];f?t[nr]>>14<t[Ra]>>16&&(3&t[nr])===n&&(t[nr]+=16384,tg(Z,D)):tg(Z,D)}const La=-1;class Bl{constructor(n,r,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=i}}const Ch={};class na{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,i){i=Jr(i);const f=this.injector.get(n,Ch,i);return f!==Ch||r===Ch?f:this.parentInjector.get(n,r,i)}}function Sh(t){return t!==La}function $l(t){return 32767&t}function Vl(t,n){let r=function cE(t){return t>>16}(t),i=n;for(;r>0;)i=i[Pa],r--;return i}let xh=!0;function pc(t){const n=xh;return xh=t,n}const rg=255,og=5;let hE=0;const ds={};function mc(t,n){const r=ig(t,n);if(-1!==r)return r;const i=n[kn];i.firstCreatePass&&(t.injectorIndex=n.length,Dh(i.data,t),Dh(n,null),Dh(i.blueprint,null));const f=gc(t,n),D=t.injectorIndex;if(Sh(f)){const $=$l(f),Z=Vl(f,n),le=Z[kn].data;for(let De=0;De<8;De++)n[D+De]=Z[$+De]|le[$+De]}return n[D+8]=f,D}function Dh(t,n){t.push(0,0,0,0,0,0,0,0,n)}function ig(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function gc(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,i=null,f=n;for(;null!==f;){if(i=fg(f),null===i)return La;if(r++,f=f[Pa],-1!==i.injectorIndex)return i.injectorIndex|r<<16}return La}function Th(t,n,r){!function fE(t,n,r){let i;"string"==typeof r?i=r.charCodeAt(0)||0:r.hasOwnProperty(os)&&(i=r[os]),null==i&&(i=r[os]=hE++);const f=i&rg;n.data[t+(f>>og)]|=1<<f}(t,n,r)}function sg(t,n,r){if(r&mr.Optional||void 0!==t)return t;Gs()}function ag(t,n,r,i){if(r&mr.Optional&&void 0===i&&(i=null),!(r&(mr.Self|mr.Host))){const f=t[Do],D=Io(void 0);try{return f?f.get(n,i,r&mr.Optional):di(n,i,r&mr.Optional)}finally{Io(D)}}return sg(i,0,r)}function lg(t,n,r,i=mr.Default,f){if(null!==t){if(2048&n[nr]&&!(i&mr.Self)){const $=function vE(t,n,r,i,f){let D=t,$=n;for(;null!==D&&null!==$&&2048&$[nr]&&!(512&$[nr]);){const Z=ug(D,$,r,i|mr.Self,ds);if(Z!==ds)return Z;let le=D.parent;if(!le){const De=$[Cm];if(De){const Fe=De.get(r,ds,i);if(Fe!==ds)return Fe}le=fg($),$=$[Pa]}D=le}return f}(t,n,r,i,ds);if($!==ds)return $}const D=ug(t,n,r,i,ds);if(D!==ds)return D}return ag(n,r,i,f)}function ug(t,n,r,i,f){const D=function gE(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(os)?t[os]:void 0;return"number"==typeof n?n>=0?n&rg:yE:n}(r);if("function"==typeof D){if(!Xm(n,t,i))return i&mr.Host?sg(f,0,i):ag(n,r,i,f);try{let $;if($=D(i),null!=$||i&mr.Optional)return $;Gs()}finally{Jm()}}else if("number"==typeof D){let $=null,Z=ig(t,n),le=La,De=i&mr.Host?n[ao][Xo]:null;for((-1===Z||i&mr.SkipSelf)&&(le=-1===Z?gc(t,n):n[Z+8],le!==La&&dg(i,!1)?($=n[kn],Z=$l(le),n=Vl(le,n)):Z=-1);-1!==Z;){const Fe=n[kn];if(cg(D,Z,Fe.data)){const Je=mE(Z,n,r,$,i,De);if(Je!==ds)return Je}le=n[Z+8],le!==La&&dg(i,n[kn].data[Z+8]===De)&&cg(D,Z,n)?($=Fe,Z=$l(le),n=Vl(le,n)):Z=-1}}return f}function mE(t,n,r,i,f,D){const $=n[kn],Z=$.data[t+8],Fe=yc(Z,$,r,null==i?Zs(Z)&&xh:i!=$&&!!(3&Z.type),f&mr.Host&&D===Z);return null!==Fe?ra(n,$,Fe,Z):ds}function yc(t,n,r,i,f){const D=t.providerIndexes,$=n.data,Z=1048575&D,le=t.directiveStart,Fe=D>>20,xt=f?Z+Fe:t.directiveEnd;for(let jt=i?Z:Z+Fe;jt<xt;jt++){const Ot=$[jt];if(jt<le&&r===Ot||jt>=le&&Ot.type===r)return jt}if(f){const jt=$[le];if(jt&&qi(jt)&&jt.type===r)return le}return null}function ra(t,n,r,i){let f=t[r];const D=n.data;if(function aE(t){return t instanceof Bl}(f)){const $=f;$.resolving&&function Hu(t,n){throw n&&n.join(" > "),new Pn(-200,t)}(function Mr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ar(t)}(D[r]));const Z=pc($.canSeeViewProviders);$.resolving=!0;const De=$.injectImpl?Io($.injectImpl):null;Xm(t,i,mr.Default);try{f=t[r]=$.factory(void 0,D,t,i),n.firstCreatePass&&r>=i.directiveStart&&function iE(t,n,r){const{ngOnChanges:i,ngOnInit:f,ngDoCheck:D}=n.type.prototype;if(i){var $,Z;const Je=Am(n);(null!==($=r.preOrderHooks)&&void 0!==$?$:r.preOrderHooks=[]).push(t,Je),(null!==(Z=r.preOrderCheckHooks)&&void 0!==Z?Z:r.preOrderCheckHooks=[]).push(t,Je)}var le,De,Fe;f&&(null!==(le=r.preOrderHooks)&&void 0!==le?le:r.preOrderHooks=[]).push(0-t,f),D&&((null!==(De=r.preOrderHooks)&&void 0!==De?De:r.preOrderHooks=[]).push(t,D),(null!==(Fe=r.preOrderCheckHooks)&&void 0!==Fe?Fe:r.preOrderCheckHooks=[]).push(t,D))}(r,D[r],n)}finally{null!==De&&Io(De),pc(Z),$.resolving=!1,Jm()}}return f}function cg(t,n,r){return!!(r[n+(t>>og)]&1<<t)}function dg(t,n){return!(t&mr.Self||t&mr.Host&&n)}class jo{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,i){return lg(this._tNode,this._lView,n,Jr(i),r)}}function yE(){return new jo(Hr(),En())}function hg(t){return Ur(()=>{const n=t.prototype.constructor,r=n[ki]||Ah(n),i=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==i;){const D=f[ki]||Ah(f);if(D&&D!==r)return D;f=Object.getPrototypeOf(f)}return D=>new D})}function Ah(t){return Ho(t)?()=>{const n=Ah(Hn(t));return n&&n()}:_s(t)}function fg(t){const n=t[kn],r=n.type;return 2===r?n.declTNode:1===r?t[Xo]:null}function vc(t){return function pE(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const i=r.length;let f=0;for(;f<i;){const D=r[f];if(Ku(D))break;if(0===D)f+=2;else if("number"==typeof D)for(f++;f<i&&"string"==typeof r[f];)f++;else{if(D===n)return r[f+1];f+=2}}}return null}(Hr(),t)}function vg(t,n=null,r=null,i){const f=bg(t,n,r,i);return f.resolveInjectorInitializers(),f}function bg(t,n=null,r=null,i,f=new Set){const D=[r||Cr,Ml(t)];return i=i||("object"==typeof t?void 0:Xr(t)),new Ia(D,n||tc(),i||null,f)}class Bo{static create(n,r){if(Array.isArray(n))return vg({name:""},r,n,"");{var i;const f=null!==(i=n.name)&&void 0!==i?i:"";return vg({name:f},n.parent,n.providers,f)}}}(_r=Bo).THROW_IF_NOT_FOUND=ue,_r.NULL=new Ws,_r.\u0275prov=Nn({token:_r,providedIn:"any",factory:()=>Zn(Wu)}),_r.__NG_ELEMENT_ID__=-1,new $n("").__NG_ELEMENT_ID__=t=>{const n=Hr();if(null===n)throw new Pn(204,!1);if(2&n.type)return n.value;if(t&mr.Optional)return null;throw new Pn(204,!1)};function Ih(t){return t.ngOriginalError}let Gl=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=AE,t.__NG_ENV_ID__=r=>r,n})();class TE extends Gl{constructor(n){super(),this._lView=n}onDestroy(n){return lc(this._lView,n),()=>function hh(t,n){if(null===t[Rs])return;const r=t[Rs].indexOf(n);-1!==r&&t[Rs].splice(r,1)}(this._lView,n)}}function AE(){return new TE(En())}let oa=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new We.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=n).\u0275prov=Nn({token:t,providedIn:"root",factory:()=>new t}),n})();const hs=class ME extends ct.B{constructor(n=!1){var r,i;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,_m()&&(this.destroyRef=null!==(r=Rn(Gl,{optional:!0}))&&void 0!==r?r:void 0,this.pendingTasks=null!==(i=Rn(oa,{optional:!0}))&&void 0!==i?i:void 0)}emit(n){const r=oe(null);try{super.next(n)}finally{oe(r)}}subscribe(n,r,i){let f=n,D=r||(()=>null),$=i;if(n&&"object"==typeof n){var Z,le,De;const Je=n;f=null===(Z=Je.next)||void 0===Z?void 0:Z.bind(Je),D=null===(le=Je.error)||void 0===le?void 0:le.bind(Je),$=null===(De=Je.complete)||void 0===De?void 0:De.bind(Je)}this.__isAsync&&(D=this.wrapInTimeout(D),f&&(f=this.wrapInTimeout(f)),$&&($=this.wrapInTimeout($)));const Fe=super.subscribe({next:f,error:D,complete:$});return n instanceof dt.yU&&n.add(Fe),Fe}wrapInTimeout(n){return r=>{var i;const f=null===(i=this.pendingTasks)||void 0===i?void 0:i.add();setTimeout(()=>{var D;n(r),void 0!==f&&(null===(D=this.pendingTasks)||void 0===D||D.remove(f))})}}};function _c(...t){}function wg(t){let n,r;function i(){t=_c;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),i()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{t(),i()})),()=>i()}function Eg(t){return queueMicrotask(()=>t()),()=>{t=_c}}class ro{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hs(!1),this.onMicrotaskEmpty=new hs(!1),this.onStable=new hs(!1),this.onError=new hs(!1),typeof Zone>"u")throw new Pn(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!i&&r,f.shouldCoalesceRunChangeDetection=i,f.callbackScheduled=!1,function jE(t){const n=()=>{!function OE(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{wg(()=>{t.callbackScheduled=!1,jh(t),t.isCheckStableRunning=!0,Oh(t),t.isCheckStableRunning=!1})}),jh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,i,f,D,$,Z)=>{if(function PE(t){return xg(t,"__ignore_ng_zone__")}(Z))return r.invokeTask(f,D,$,Z);try{return Cg(t),r.invokeTask(f,D,$,Z)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===D.type||t.shouldCoalesceRunChangeDetection)&&n(),Sg(t)}},onInvoke:(r,i,f,D,$,Z,le)=>{try{return Cg(t),r.invoke(f,D,$,Z,le)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function RE(t){return xg(t,"__scheduler_tick__")}(Z)&&n(),Sg(t)}},onHasTask:(r,i,f,D)=>{r.hasTask(f,D),i===f&&("microTask"==D.change?(t._hasPendingMicrotasks=D.microTask,jh(t),Oh(t)):"macroTask"==D.change&&(t.hasPendingMacrotasks=D.macroTask))},onHandleError:(r,i,f,D)=>(r.handleError(f,D),t.runOutsideAngular(()=>t.onError.emit(D)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ro.isInAngularZone())throw new Pn(909,!1)}static assertNotInAngularZone(){if(ro.isInAngularZone())throw new Pn(909,!1)}run(n,r,i){return this._inner.run(n,r,i)}runTask(n,r,i,f){const D=this._inner,$=D.scheduleEventTask("NgZoneEvent: "+f,n,IE,_c,_c);try{return D.runTask($,r,i)}finally{D.cancelTask($)}}runGuarded(n,r,i){return this._inner.runGuarded(n,r,i)}runOutsideAngular(n){return this._outer.run(n)}}const IE={};function Oh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function jh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function Cg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Sg(t){t._nesting--,Oh(t)}class Ph{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hs,this.onMicrotaskEmpty=new hs,this.onStable=new hs,this.onError=new hs}run(n,r,i){return n.apply(r,i)}runGuarded(n,r,i){return n.apply(r,i)}runOutsideAngular(n){return n()}runTask(n,r,i,f){return n.apply(r,i)}}function xg(t,n){var r;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(r=t[0])||void 0===r||null===(r=r.data)||void 0===r?void 0:r[n])}class fs{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&Ih(n);for(;r&&Ih(r);)r=Ih(r);return r||null}}const NE=new $n("",{providedIn:"root",factory:()=>{const t=Rn(ro),n=Rn(fs);return r=>t.runOutsideAngular(()=>n.handleError(r))}});function LE(){return Ba(Hr(),En())}function Ba(t,n){return new Hl(ii(t,n))}let Hl=(()=>{class n{constructor(i){this.nativeElement=i}}return n.__NG_ELEMENT_ID__=LE,n})();function Tg(t){return t instanceof Hl?t.nativeElement:t}function FE(){return this._results[Symbol.iterator]()}class Rh{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new hs}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Rh.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=FE)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const i=function zo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Gd(t,n,r){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let f=t[i],D=n[i];if(r&&(f=r(f),D=r(D)),D!==f)return!1}return!0}(this._results,i,r))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function wc(t){return!(128&~t.flags)}const kh=new Map;let BE=0;const Cc="__ngContext__";function Qo(t,n){Uo(n)?(t[Cc]=n[ka],function VE(t){kh.set(t[ka],t)}(n)):t[Cc]=n}function Lg(t){return Ug(t[Ol])}function Fg(t){return Ug(t[Ki])}function Ug(t){for(;null!==t&&!Zo(t);)t=t[Ki];return t}let Lh;function iC(t){Lh=t}const xc=new $n("",{providedIn:"root",factory:()=>sC}),sC="ng",Xg=new $n(""),Fh=new $n("",{providedIn:"platform",factory:()=>"unknown"}),aC=new $n("",{providedIn:"root",factory:()=>{var t;return(null===(t=function ks(){if(void 0!==Lh)return Lh;if(typeof document<"u")return document;throw new Pn(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let Kg=()=>null;function Gh(t,n,r=!1){return Kg(t,n,r)}const ny=new $n("",{providedIn:"root",factory:()=>!1});let jc,Pc;function Wa(t){var n;return(null===(n=function Kh(){if(void 0===jc&&(jc=null,zr.trustedTypes))try{jc=zr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return jc}())||void 0===n?void 0:n.createHTML(t))||t}function ay(t){var n;return(null===(n=function qh(){if(void 0===Pc&&(Pc=null,zr.trustedTypes))try{Pc=zr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pc}())||void 0===n?void 0:n.createScriptURL(t))||t}class ia{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Nr})`}}class wC extends ia{getTypeName(){return"HTML"}}class EC extends ia{getTypeName(){return"Style"}}class CC extends ia{getTypeName(){return"Script"}}class SC extends ia{getTypeName(){return"URL"}}class xC extends ia{getTypeName(){return"ResourceURL"}}function Ts(t){return t instanceof ia?t.changingThisBreaksApplicationSecurity:t}function Xa(t,n){const r=function DC(t){return t instanceof ia&&t.getTypeName()||null}(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${Nr})`)}return r===n}function TC(t){return new wC(t)}function AC(t){return new EC(t)}function MC(t){return new CC(t)}function IC(t){return new SC(t)}function OC(t){return new xC(t)}class jC{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(Wa(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.removeChild(r.firstChild),r)}catch{return null}}}class PC{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=Wa(n),r}}const kC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rc(t){return(t=String(t)).match(kC)?t:"unsafe:"+t}function As(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function Ql(...t){const n={};for(const r of t)for(const i in r)r.hasOwnProperty(i)&&(n[i]=!0);return n}const uy=As("area,br,col,hr,img,wbr"),cy=As("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dy=As("rp,rt"),Yh=Ql(uy,Ql(cy,As("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ql(dy,As("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ql(dy,cy)),Jh=As("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hy=Ql(Jh,As("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),As("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),NC=As("script,style,template");class LC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,i=!0,f=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?i=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,i&&r.firstChild)f.push(r),r=BC(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let D=UC(r);if(D){r=D;break}r=f.pop()}return this.buf.join("")}startElement(n){const r=fy(n).toLowerCase();if(!Yh.hasOwnProperty(r))return this.sanitizedSomething=!0,!NC.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const i=n.attributes;for(let f=0;f<i.length;f++){const D=i.item(f),$=D.name,Z=$.toLowerCase();if(!hy.hasOwnProperty(Z)){this.sanitizedSomething=!0;continue}let le=D.value;Jh[Z]&&(le=Rc(le)),this.buf.push(" ",$,'="',my(le),'"')}return this.buf.push(">"),!0}endElement(n){const r=fy(n).toLowerCase();Yh.hasOwnProperty(r)&&!uy.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(my(n))}}function UC(t){const n=t.nextSibling;if(n&&t!==n.previousSibling)throw py(n);return n}function BC(t){const n=t.firstChild;if(n&&function FC(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,n))throw py(n);return n}function fy(t){const n=t.nodeName;return"string"==typeof n?n:"FORM"}function py(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const $C=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,VC=/([^\#-~ |!])/g;function my(t){return t.replace(/&/g,"&amp;").replace($C,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(VC,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let kc;function gy(t,n){let r=null;try{kc=kc||function ly(t){const n=new PC(t);return function RC(){try{return!!(new window.DOMParser).parseFromString(Wa(""),"text/html")}catch{return!1}}()?new jC(n):n}(t);let i=n?String(n):"";r=kc.getInertBodyElement(i);let f=5,D=i;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,i=D,D=r.innerHTML,r=kc.getInertBodyElement(i)}while(i!==D);return Wa((new LC).sanitizeChildren(Zh(r)||r))}finally{if(r){const i=Zh(r)||r;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Zh(t){return"content"in t&&function GC(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var sa=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(sa||{});function Qh(t){const n=eu();return n?n.sanitize(sa.URL,t)||"":Xa(t,"URL")?Ts(t):Rc(ar(t))}function yy(t){const n=eu();if(n)return ay(n.sanitize(sa.RESOURCE_URL,t)||"");if(Xa(t,"ResourceURL"))return ay(Ts(t));throw new Pn(904,!1)}function vy(t,n,r){return function qC(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?yy:Qh}(n,r)(t)}function eu(){const t=En();return t&&t[ss].sanitizer}const YC=/^>|^->|<!--|-->|--!>|<!-$/g,JC=/(<|>)/g,ZC="\u200b$1\u200b";function Di(t){return t instanceof Function?t():t}var Fc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Fc||{});let nf;function rf(t,n){return nf(t,n)}function qa(t,n,r,i,f){if(null!=i){let D,$=!1;Zo(i)?D=i:Uo(i)&&($=!0,i=i[so]);const Z=jr(i);0===t&&null!==r?null==f?Oy(n,r,Z):aa(n,r,Z,f||null,!0):1===t&&null!==r?aa(n,r,Z,f||null,!0):2===t?function nu(t,n,r){const i=$c(t,n);i&&function gS(t,n,r,i){t.removeChild(n,r,i)}(t,i,n,r)}(n,Z,$):3===t&&n.destroyNode(Z),null!=D&&function bS(t,n,r,i,f){const D=r[ls];D!==jr(r)&&qa(n,t,i,D,f);for(let Z=yo;Z<r.length;Z++){const le=r[Z];Gc(le[kn],le,t,n,i,D)}}(n,t,D,r,f)}}function af(t,n){return t.createComment(function by(t){return t.replace(YC,n=>n.replace(JC,ZC))}(n))}function Uc(t,n,r){return t.createElement(n,r)}function Ay(t,n){var r;null===(r=n[ss].changeDetectionScheduler)||void 0===r||r.notify(8),Gc(t,n,n[lr],2,null,null)}function My(t,n){const r=t[Na],i=n[xo];(Uo(i)||n[ao]!==i[xo][ao])&&(t[nr]|=ic.HasTransplantedViews),null===r?t[Na]=[n]:r.push(n)}function lf(t,n){const r=t[Na],i=r.indexOf(n);r.splice(i,1)}function tu(t,n){if(t.length<=yo)return;const r=yo+n,i=t[r];if(i){const f=i[Js];null!==f&&f!==t&&lf(f,i),n>0&&(t[r-1][Ki]=i[Ki]);const D=Ta(t,yo+n);!function cS(t,n){Ay(t,n),n[so]=null,n[Xo]=null}(i[kn],i);const $=D[as];null!==$&&$.detachView(D[kn]),i[xo]=null,i[Ki]=null,i[nr]&=-129}return i}function Bc(t,n){if(!(256&n[nr])){const r=n[lr];r.destroyNode&&Gc(t,n,r,3,null,null),function hS(t){let n=t[Ol];if(!n)return uf(t[kn],t);for(;n;){let r=null;if(Uo(n))r=n[Ol];else{const i=n[yo];i&&(r=i)}if(!r){for(;n&&!n[Ki]&&n!==t;)Uo(n)&&uf(n[kn],n),n=n[xo];null===n&&(n=t),Uo(n)&&uf(n[kn],n),r=n&&n[Ki]}n=r}}(n)}}function uf(t,n){if(256&n[nr])return;const r=oe(null);try{n[nr]&=-129,n[nr]|=256,n[Ui]&&m(n[Ui]),function mS(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let i=0;i<r.length;i+=2){const f=n[r[i]];if(!(f instanceof Bl)){const D=r[i+1];if(Array.isArray(D))for(let $=0;$<D.length;$+=2){const Z=f[D[$]],le=D[$+1];us(4,Z,le);try{le.call(Z)}finally{us(5,Z,le)}}else{us(4,f,D);try{D.call(f)}finally{us(5,f,D)}}}}}(t,n),function pS(t,n){const r=t.cleanup,i=n[Ys];if(null!==r)for(let D=0;D<r.length-1;D+=2)if("string"==typeof r[D]){const $=r[D+3];$>=0?i[$]():i[-$].unsubscribe(),D+=2}else r[D].call(i[r[D+1]]);null!==i&&(n[Ys]=null);const f=n[Rs];if(null!==f){n[Rs]=null;for(let D=0;D<f.length;D++)(0,f[D])()}}(t,n),1===n[kn].type&&n[lr].destroy();const i=n[Js];if(null!==i&&Zo(n[xo])){i!==n[xo]&&lf(i,n);const f=n[as];null!==f&&f.detachView(t)}!function GE(t){kh.delete(t[ka])}(n)}finally{oe(r)}}function cf(t,n,r){return function Iy(t,n,r){let i=n;for(;null!==i&&168&i.type;)i=(n=i).parent;if(null===i)return r[so];{const{componentOffset:f}=i;if(f>-1){const{encapsulation:D}=t.data[i.directiveStart+f];if(D===ws.None||D===ws.Emulated)return null}return ii(i,r)}}(t,n.parent,r)}function aa(t,n,r,i,f){t.insertBefore(n,r,i,f)}function Oy(t,n,r){t.appendChild(n,r)}function jy(t,n,r,i,f){null!==i?aa(t,n,r,i,f):Oy(t,n,r)}function $c(t,n){return t.parentNode(n)}function Py(t,n,r){return ky(t,n,r)}let df,ky=function Ry(t,n,r){return 40&t.type?ii(t,r):null};function Vc(t,n,r,i){const f=cf(t,i,n),D=n[lr],Z=Py(i.parent||n[Xo],i,n);if(null!=f)if(Array.isArray(r))for(let le=0;le<r.length;le++)jy(D,f,r[le],Z,!1);else jy(D,f,r,Z,!1);void 0!==df&&df(D,i,n,r,f)}function la(t,n){if(null!==n){const r=n.type;if(3&r)return ii(n,t);if(4&r)return hf(-1,t[n.index]);if(8&r){const i=n.child;if(null!==i)return la(t,i);{const f=t[n.index];return Zo(f)?hf(-1,f):jr(f)}}if(128&r)return la(t,n.next);if(32&r)return rf(n,t)()||jr(t[n.index]);{const i=Ly(t,n);return null!==i?Array.isArray(i)?i[0]:la(Ss(t[ao]),i):la(t,n.next)}}return null}function Ly(t,n){return null!==n?t[ao][Xo].projection[n.projection]:null}function hf(t,n){const r=yo+t+1;if(r<n.length){const i=n[r],f=i[kn].firstChild;if(null!==f)return la(i,f)}return n[ls]}function ff(t,n,r,i,f,D,$){for(;null!=r;){if(128===r.type){r=r.next;continue}const Z=i[r.index],le=r.type;if($&&0===n&&(Z&&Qo(jr(Z),i),r.flags|=2),32&~r.flags)if(8&le)ff(t,n,r.child,i,f,D,!1),qa(n,t,f,Z,D);else if(32&le){const De=rf(r,i);let Fe;for(;Fe=De();)qa(n,t,f,Fe,D);qa(n,t,f,Z,D)}else 16&le?Uy(t,n,i,r,f,D):qa(n,t,f,Z,D);r=$?r.projectionNext:r.next}}function Gc(t,n,r,i,f,D){ff(r,i,t.firstChild,n,f,D,!1)}function Uy(t,n,r,i,f,D){const $=r[ao],le=$[Xo].projection[i.projection];if(Array.isArray(le))for(let De=0;De<le.length;De++)qa(n,t,f,le[De],D);else{let De=le;const Fe=$[xo];wc(i)&&(De.flags|=128),ff(t,n,De,Fe,f,D,!0)}}function By(t,n,r){""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r)}function $y(t,n,r){const{mergedAttrs:i,classes:f,styles:D}=r;null!==i&&Tl(t,n,i),null!==f&&By(t,n,f),null!==D&&function wS(t,n,r){t.setAttribute(n,"style",r)}(t,n,D)}const cr={};function Vy(t=1){Gy(gr(),En(),Ko()+t,!1)}function Gy(t,n,r,i){if(!i)if(3&~n[nr]){const D=t.preOrderHooks;null!==D&&fc(n,D,0,r)}else{const D=t.preOrderCheckHooks;null!==D&&hc(n,D,r)}ta(r)}function Ya(t,n=mr.Default){const r=En();return null===r?Zn(t,n):lg(Hr(),r,Hn(t),n)}function Hy(){throw new Error("invalid")}function zy(t,n,r,i,f,D){const $=oe(null);try{let Z=null;f&Es.SignalBased&&(Z=n[i][o]),null!==Z&&void 0!==Z.transformFn&&(D=Z.transformFn(D)),f&Es.HasDecoratorInputTransform&&(D=t.inputTransforms[i].call(n,D)),null!==t.setInput?t.setInput(n,Z,D,r,i):Tm(n,Z,i,D)}finally{oe($)}}function Hc(t,n,r,i,f,D,$,Z,le,De,Fe){const Je=n.blueprint.slice();return Je[so]=f,Je[nr]=204|i,(null!==De||t&&2048&t[nr])&&(Je[nr]|=2048),Pm(Je),Je[xo]=Je[Pa]=t,Je[Zr]=r,Je[ss]=$||t&&t[ss],Je[lr]=Z||t&&t[lr],Je[Do]=le||t&&t[Do]||null,Je[Xo]=D,Je[ka]=function $E(){return BE++}(),Je[oi]=Fe,Je[Cm]=De,Je[ao]=2==n.type?t[ao]:Je,Je}function ua(t,n,r,i,f){let D=t.data[n];if(null===D)D=function pf(t,n,r,i,f){const D=Bm(),$=ph(),le=t.data[n]=function MS(t,n,r,i,f,D){let $=n?n.injectorIndex:-1,Z=0;return ea()&&(Z|=128),{type:r,index:i,insertBeforeIndex:null,injectorIndex:$,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Z,providerIndexes:0,value:f,attrs:D,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,$?D:D&&D.parent,r,n,i,f);return null===t.firstChild&&(t.firstChild=le),null!==D&&($?null==D.child&&null!==le.parent&&(D.child=le):null===D.next&&(D.next=le,le.prev=D)),le}(t,n,r,i,f),function Yw(){return ur.lFrame.inI18n}()&&(D.flags|=32);else if(64&D.type){D.type=r,D.value=i,D.attrs=f;const $=function Fl(){const t=ur.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();D.injectorIndex=null===$?-1:$.injectorIndex}return Yi(D,!0),D}function ru(t,n,r,i){if(0===r)return-1;const f=n.length;for(let D=0;D<r;D++)n.push(i),t.blueprint.push(i),t.data.push(null);return f}function Wy(t,n,r,i,f){const D=Ko(),$=2&i;try{ta(-1),$&&n.length>er&&Gy(t,n,er,!1),us($?2:0,f),r(i,f)}finally{ta(D),us($?3:1,f)}}function mf(t,n,r){if(oh(n)){const i=oe(null);try{const D=n.directiveEnd;for(let $=n.directiveStart;$<D;$++){const Z=t.data[$];Z.contentQueries&&Z.contentQueries(1,r[$],$)}}finally{oe(i)}}}function gf(t,n,r){Lm()&&(function NS(t,n,r,i){const f=r.directiveStart,D=r.directiveEnd;Zs(r)&&function GS(t,n,r){const i=ii(n,t),f=Xy(r);let $=16;r.signals?$=4096:r.onPush&&($=64);const Z=zc(t,Hc(t,f,null,$,i,n,null,t[ss].rendererFactory.createRenderer(i,r),null,null,null));t[n.index]=Z}(n,r,t.data[f+r.componentOffset]),t.firstCreatePass||mc(r,n),Qo(i,n);const $=r.initialInputs;for(let Z=f;Z<D;Z++){const le=t.data[Z],De=ra(n,t,Z,r);Qo(De,n),null!==$&&HS(0,Z-f,De,le,0,$),qi(le)&&(xi(r.index,n)[Zr]=ra(n,t,Z,r))}}(t,n,r,ii(r,n)),!(64&~r.flags)&&Zy(t,n,r))}function yf(t,n,r=ii){const i=n.localNames;if(null!==i){let f=n.index+1;for(let D=0;D<i.length;D+=2){const $=i[D+1],Z=-1===$?r(n,t):t[$];t[f++]=Z}}}function Xy(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=vf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function vf(t,n,r,i,f,D,$,Z,le,De,Fe){const Je=er+i,xt=Je+f,jt=function CS(t,n){const r=[];for(let i=0;i<n;i++)r.push(i<t?null:cr);return r}(Je,xt),Ot="function"==typeof De?De():De;return jt[kn]={type:t,blueprint:jt,template:r,queries:null,viewQuery:Z,declTNode:n,data:jt.slice().fill(null,Je),bindingStartIndex:Je,expandoStartIndex:xt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof D?D():D,pipeRegistry:"function"==typeof $?$():$,firstChild:null,schemas:le,consts:Ot,incompleteFirstPass:!1,ssrId:Fe}}let Ky=()=>null;function qy(t,n,r,i,f){for(let $ in n){var D;if(!n.hasOwnProperty($))continue;const Z=n[$];if(void 0===Z)continue;null!==(D=i)&&void 0!==D||(i={});let le,De=Es.None;Array.isArray(Z)?(le=Z[0],De=Z[1]):le=Z;let Fe=$;if(null!==f){if(!f.hasOwnProperty($))continue;Fe=f[$]}0===t?Yy(i,r,Fe,le,De):Yy(i,r,Fe,le)}return i}function Yy(t,n,r,i,f){let D;t.hasOwnProperty(r)?(D=t[r]).push(n,i):D=t[r]=[n,i],void 0!==f&&D.push(f)}function gi(t,n,r,i,f,D,$,Z){const le=ii(n,r);let Fe,De=n.inputs;!Z&&null!=De&&(Fe=De[i])?(Cf(t,r,Fe,i,f),Zs(n)&&function jS(t,n){const r=xi(n,t);16&r[nr]||(r[nr]|=64)}(r,n.index)):3&n.type&&(i=function OS(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),f=null!=$?$(f,n.value||"",i):f,D.setProperty(le,i,f))}function bf(t,n,r,i){if(Lm()){const f=null===i?null:{"":-1},D=function FS(t,n){const r=t.directiveRegistry;let i=null,f=null;if(r)for(let $=0;$<r.length;$++){const Z=r[$];if(Zu(n,Z.selectors,!1))if(i||(i=[]),qi(Z))if(null!==Z.findHostDirectiveDefs){const le=[];f=f||new Map,Z.findHostDirectiveDefs(Z,le,f),i.unshift(...le,Z),_f(t,n,le.length)}else i.unshift(Z),_f(t,n,0);else{var D;f=f||new Map,null===(D=Z.findHostDirectiveDefs)||void 0===D||D.call(Z,Z,i,f),i.push(Z)}}return null===i?null:[i,f]}(t,r);let $,Z;null===D?$=Z=null:[$,Z]=D,null!==$&&Jy(t,n,r,$,f,Z),f&&function US(t,n,r){if(n){const i=t.localNames=[];for(let f=0;f<n.length;f+=2){const D=r[n[f+1]];if(null==D)throw new Pn(-301,!1);i.push(n[f],D)}}}(r,i,f)}r.mergedAttrs=Ps(r.mergedAttrs,r.attrs)}function Jy(t,n,r,i,f,D){for(let Je=0;Je<i.length;Je++)Th(mc(r,n),t,i[Je].type);!function $S(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}(r,t.data.length,i.length);for(let Je=0;Je<i.length;Je++){const xt=i[Je];xt.providersResolver&&xt.providersResolver(xt)}let $=!1,Z=!1,le=ru(t,n,i.length,null);for(let Je=0;Je<i.length;Je++){const xt=i[Je];r.mergedAttrs=Ps(r.mergedAttrs,xt.hostAttrs),VS(t,r,n,le,xt),BS(le,xt,f),null!==xt.contentQueries&&(r.flags|=4),(null!==xt.hostBindings||null!==xt.hostAttrs||0!==xt.hostVars)&&(r.flags|=64);const jt=xt.type.prototype;var De,Fe;!$&&(jt.ngOnChanges||jt.ngOnInit||jt.ngDoCheck)&&((null!==(De=t.preOrderHooks)&&void 0!==De?De:t.preOrderHooks=[]).push(r.index),$=!0),Z||!jt.ngOnChanges&&!jt.ngDoCheck||((null!==(Fe=t.preOrderCheckHooks)&&void 0!==Fe?Fe:t.preOrderCheckHooks=[]).push(r.index),Z=!0),le++}!function IS(t,n,r){const f=n.directiveEnd,D=t.data,$=n.attrs,Z=[];let le=null,De=null;for(let Fe=n.directiveStart;Fe<f;Fe++){const Je=D[Fe],xt=r?r.get(Je):null,Ot=xt?xt.outputs:null;le=qy(0,Je.inputs,Fe,le,xt?xt.inputs:null),De=qy(1,Je.outputs,Fe,De,Ot);const un=null===le||null===$||Al(n)?null:zS(le,Fe,$);Z.push(un)}null!==le&&(le.hasOwnProperty("class")&&(n.flags|=8),le.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=Z,n.inputs=le,n.outputs=De}(t,r,D)}function Zy(t,n,r){const i=r.directiveStart,f=r.directiveEnd,D=r.index,$=function Zw(){return ur.lFrame.currentDirectiveIndex}();try{ta(D);for(let Z=i;Z<f;Z++){const le=t.data[Z],De=n[Z];gh(Z),(null!==le.hostBindings||0!==le.hostVars||null!==le.hostAttrs)&&LS(le,De)}}finally{ta(-1),gh($)}}function LS(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function _f(t,n,r){var i;n.componentOffset=r,(null!==(i=t.components)&&void 0!==i?i:t.components=[]).push(n.index)}function BS(t,n,r){if(r){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)r[n.exportAs[i]]=t;qi(n)&&(r[""]=t)}}function VS(t,n,r,i,f){t.data[i]=f;const D=f.factory||(f.factory=_s(f.type)),$=new Bl(D,qi(f),Ya);t.blueprint[i]=$,r[i]=$,function RS(t,n,r,i,f){const D=f.hostBindings;if(D){let $=t.hostBindingOpCodes;null===$&&($=t.hostBindingOpCodes=[]);const Z=~n.index;(function kS(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})($)!=Z&&$.push(Z),$.push(r,i,D)}}(t,n,i,ru(t,r,f.hostVars,cr),f)}function ps(t,n,r,i,f,D){const $=ii(t,n);!function wf(t,n,r,i,f,D,$){if(null==D)t.removeAttribute(n,f,r);else{const Z=null==$?ar(D):$(D,i||"",f);t.setAttribute(n,f,Z,r)}}(n[lr],$,D,t.value,r,i,f)}function HS(t,n,r,i,f,D){const $=D[n];if(null!==$)for(let Z=0;Z<$.length;)zy(i,r,$[Z++],$[Z++],$[Z++],$[Z++])}function zS(t,n,r){let i=null,f=0;for(;f<r.length;){const D=r[f];if(0!==D)if(5!==D){if("number"==typeof D)break;if(t.hasOwnProperty(D)){null===i&&(i=[]);const $=t[D];for(let Z=0;Z<$.length;Z+=3)if($[Z]===n){i.push(D,$[Z+1],$[Z+2],r[f+1]);break}}f+=2}else f+=2;else f+=4}return i}function Qy(t,n,r,i){return[t,!0,0,n,null,i,null,r,null,null]}function ev(t,n){const r=t.contentQueries;if(null!==r){const i=oe(null);try{for(let f=0;f<r.length;f+=2){const $=r[f+1];if(-1!==$){const Z=t.data[$];cc(r[f]),Z.contentQueries(2,n[$],$)}}}finally{oe(i)}}}function zc(t,n){return t[Ol]?t[Em][Ki]=n:t[Ol]=n,t[Em]=n,n}function Ef(t,n,r){cc(0);const i=oe(null);try{n(t,r)}finally{oe(i)}}function tv(t){var n;return null!==(n=t[Ys])&&void 0!==n?n:t[Ys]=[]}function nv(t){var n;return null!==(n=t.cleanup)&&void 0!==n?n:t.cleanup=[]}function Wc(t,n){const r=t[Do],i=r?r.get(fs,null):null;i&&i.handleError(n)}function Cf(t,n,r,i,f){for(let D=0;D<r.length;){const $=r[D++],Z=r[D++],le=r[D++];zy(t.data[$],n[$],i,Z,le,f)}}function Ms(t,n,r){const i=kl(n,t);!function Ty(t,n,r){t.setValue(n,r)}(t[lr],i,r)}function WS(t,n){const r=xi(n,t),i=r[kn];!function XS(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])}(i,r);const f=r[so];null!==f&&null===r[oi]&&(r[oi]=Gh(f,r[Do])),Sf(i,r,r[Zr])}function Sf(t,n,r){bh(n);try{var i;const f=t.viewQuery;null!==f&&Ef(1,f,r);const D=t.template;null!==D&&Wy(t,n,D,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),null===(i=n[as])||void 0===i||i.finishViewCreation(t),t.staticContentQueries&&ev(t,n),t.staticViewQueries&&Ef(2,t.viewQuery,r);const $=t.components;null!==$&&function KS(t,n){for(let r=0;r<n.length;r++)WS(t,n[r])}(n,$)}catch(f){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),f}finally{n[nr]&=-5,_h()}}function Ja(t,n,r,i){const f=oe(null);try{var D,$,Z;const le=n.tView,Je=Hc(t,le,r,4096&t[nr]?4096:16,null,n,null,null,null!==(D=null==i?void 0:i.injector)&&void 0!==D?D:null,null!==($=null==i?void 0:i.embeddedViewInjector)&&void 0!==$?$:null,null!==(Z=null==i?void 0:i.dehydratedView)&&void 0!==Z?Z:null);Je[Js]=t[n.index];const jt=t[as];return null!==jt&&(Je[as]=jt.createEmbeddedView(le)),Sf(le,Je,r),Je}finally{oe(f)}}function ca(t,n){return!n||null===n.firstChild||wc(t)}function Za(t,n,r,i=!0){const f=n[kn];if(function fS(t,n,r,i){const f=yo+i,D=r.length;i>0&&(r[f-1][Ki]=n),i<D-yo?(n[Ki]=r[f],Hd(r,yo+i,n)):(r.push(n),n[Ki]=null),n[xo]=r;const $=n[Js];null!==$&&r!==$&&My($,n);const Z=n[as];null!==Z&&Z.insertView(t),dh(n),n[nr]|=128}(f,n,t,r),i){const $=hf(r,t),Z=n[lr],le=$c(Z,t[ls]);null!==le&&function dS(t,n,r,i,f,D){i[so]=f,i[Xo]=n,Gc(t,i,r,1,f,D)}(f,t[Xo],Z,n,le,$)}const D=n[oi];null!==D&&null!==D.firstChild&&(D.firstChild=null)}function ou(t,n,r,i,f=!1){for(;null!==r;){if(128===r.type){r=f?r.projectionNext:r.next;continue}const D=n[r.index];null!==D&&i.push(jr(D)),Zo(D)&&iv(D,i);const $=r.type;if(8&$)ou(t,n,r.child,i);else if(32&$){const Z=rf(r,n);let le;for(;le=Z();)i.push(le)}else if(16&$){const Z=Ly(n,r);if(Array.isArray(Z))i.push(...Z);else{const le=Ss(n[ao]);ou(le[kn],le,Z,i,!0)}}r=f?r.projectionNext:r.next}return i}function iv(t,n){for(let r=yo;r<t.length;r++){const i=t[r],f=i[kn].firstChild;null!==f&&ou(i[kn],i,f,n)}t[ls]!==t[so]&&n.push(t[ls])}let sv=[];const ZS={...g,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ac(t.lView)},consumerOnSignalRead(){this.lView[Ui]=this}},ex={...g,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=Ss(t.lView);for(;n&&!av(n[kn]);)n=Ss(n);n&&Rm(n)},consumerOnSignalRead(){this.lView[Ui]=this}};function av(t){return 2!==t.type}const tx=100;function Xc(t,n=!0,r=0){const i=t[ss],f=i.rendererFactory;var $;null===($=f.begin)||void 0===$||$.call(f);try{!function nx(t,n){const r=Gm();try{Hm(!0),Df(t,n);let i=0;for(;Ll(t);){if(i===tx)throw new Pn(103,!1);i++,Df(t,1)}}finally{Hm(r)}}(t,r)}catch(De){throw n&&Wc(t,De),De}finally{var Z,le;null===(Z=f.end)||void 0===Z||Z.call(f),null===(le=i.inlineEffectRunner)||void 0===le||le.flush()}}function rx(t,n,r,i){var f;const D=n[nr];if(!(256&~D))return;null===(f=n[ss].inlineEffectRunner)||void 0===f||f.flush(),bh(n);let le=!0,De=null,Fe=null;av(t)?(Fe=function qS(t){var n;return null!==(n=t[Ui])&&void 0!==n?n:function YS(t){var n;const r=null!==(n=sv.pop())&&void 0!==n?n:Object.create(ZS);return r.lView=t,r}(t)}(n),De=d(Fe)):null===function H(){return O}()?(le=!1,Fe=function QS(t){var n;const r=null!==(n=t[Ui])&&void 0!==n?n:Object.create(ex);return r.lView=t,r}(n),De=d(Fe)):n[Ui]&&(m(n[Ui]),n[Ui]=null);try{Pm(n),function zm(t){return ur.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&Wy(t,n,r,2,i);const Je=!(3&~D);if(Je){const Ot=t.preOrderCheckHooks;null!==Ot&&hc(n,Ot,null)}else{const Ot=t.preOrderHooks;null!==Ot&&fc(n,Ot,0,null),wh(n,0)}if(function ox(t){for(let n=Lg(t);null!==n;n=Fg(n)){if(!(n[nr]&ic.HasTransplantedViews))continue;const r=n[Na];for(let i=0;i<r.length;i++)Rm(r[i])}}(n),uv(n,0),null!==t.contentQueries&&ev(t,n),Je){const Ot=t.contentCheckHooks;null!==Ot&&hc(n,Ot)}else{const Ot=t.contentHooks;null!==Ot&&fc(n,Ot,1),wh(n,1)}!function ES(t,n){const r=t.hostBindingOpCodes;if(null!==r)try{for(let i=0;i<r.length;i++){const f=r[i];if(f<0)ta(~f);else{const D=f,$=r[++i],Z=r[++i];Jw($,D),Z(2,n[D])}}}finally{ta(-1)}}(t,n);const xt=t.components;null!==xt&&dv(n,xt,0);const jt=t.viewQuery;if(null!==jt&&Ef(2,jt,i),Je){const Ot=t.viewCheckHooks;null!==Ot&&hc(n,Ot)}else{const Ot=t.viewHooks;null!==Ot&&fc(n,Ot,2),wh(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[jl]){for(const Ot of n[jl])Ot();n[jl]=null}n[nr]&=-73}catch(Je){throw ac(n),Je}finally{null!==Fe&&(p(Fe,De),le&&function JS(t){t.lView[Ui]!==t&&(t.lView=null,sv.push(t))}(Fe)),_h()}}function uv(t,n){for(let r=Lg(t);null!==r;r=Fg(r))for(let i=yo;i<r.length;i++)cv(r[i],n)}function ix(t,n,r){cv(xi(n,t),r)}function cv(t,n){ch(t)&&Df(t,n)}function Df(t,n){const i=t[kn],f=t[nr],D=t[Ui];let $=!!(0===n&&16&f);if($||($=!!(64&f&&0===n)),$||($=!!(1024&f)),$||($=!(null==D||!D.dirty||!l(D))),$||($=!1),D&&(D.dirty=!1),t[nr]&=-9217,$)rx(i,t,i.template,t[Zr]);else if(8192&f){uv(t,1);const Z=i.components;null!==Z&&dv(t,Z,1)}}function dv(t,n,r){for(let i=0;i<n.length;i++)ix(t,n[i],r)}function iu(t,n){var r;const i=Gm()?64:1088;for(null===(r=t[ss].changeDetectionScheduler)||void 0===r||r.notify(n);t;){t[nr]|=i;const f=Ss(t);if(Rl(t)&&!f)return t;t=f}return null}class su{get rootNodes(){const n=this._lView,r=n[kn];return ou(r,n,r.firstChild,[])}constructor(n,r,i=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zr]}set context(n){this._lView[Zr]=n}get destroyed(){return!(256&~this._lView[nr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[xo];if(Zo(n)){const r=n[8],i=r?r.indexOf(this):-1;i>-1&&(tu(n,i),Ta(r,i))}this._attachedToViewContainer=!1}Bc(this._lView[kn],this._lView)}onDestroy(n){lc(this._lView,n)}markForCheck(){iu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[nr]&=-129}reattach(){dh(this._lView),this._lView[nr]|=128}detectChanges(){this._lView[nr]|=1024,Xc(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Pn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Rl(this._lView),r=this._lView[Js];null!==r&&!n&&lf(r,this._lView),Ay(this._lView[kn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Pn(902,!1);this._appRef=n;const r=Rl(this._lView),i=this._lView[Js];null!==i&&!r&&My(i,this._lView),dh(this._lView)}}let au=(()=>{class n{}return n.__NG_ELEMENT_ID__=lx,n})();const sx=au,ax=class extends sx{constructor(n,r,i){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){const f=Ja(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new su(f)}};function lx(){return Kc(Hr(),En())}function Kc(t,n){return 4&t.type?new ax(n,t,Ba(t,n)):null}let jv=()=>null;function ha(t,n){return jv(t,n)}class el{}const mu=new $n("",{providedIn:"root",factory:()=>!1}),Pv=new $n("");class eD{}class Rv{}class nD{resolveComponentFactory(n){throw function tD(t){const n=Error(`No component factory found for ${Xr(t)}.`);return n.ngComponent=t,n}(n)}}class gu{}gu.NULL=new nD;class Lf{}let rD=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function oD(){const t=En(),r=xi(Hr().index,t);return(Uo(r)?r:t)[lr]}(),n})(),iD=(()=>{var t;class n{}return(t=n).\u0275prov=Nn({token:t,providedIn:"root",factory:()=>null}),n})();const Nv=new Set;function ai(t){var n,r;Nv.has(t)||(Nv.add(t),null===(n=performance)||void 0===n||null===(r=n.mark)||void 0===r||r.call(n,"mark_feature_usage",{detail:{feature:t}}))}var li=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(li||{});const Lv={destroy(){}};function Fv(t,n){var r,i;!n&&function nc(t){if(!_m())throw new Pn(-203,!1)}();const f=null!==(r=null==n?void 0:n.injector)&&void 0!==r?r:Rn(Bo);return function mi(t){return"browser"===(null!=t?t:Rn(Bo)).get(Fh)}(f)?(ai("NgAfterNextRender"),function Uv(t,n,r,i){var f;const D=function aD(t,n){if(t instanceof Function)switch(n){case li.EarlyRead:return{earlyRead:t};case li.Write:return{write:t};case li.MixedReadWrite:return{mixedReadWrite:t};case li.Read:return{read:t}}return t}(t,i),$=n.get(ed),Z=null!==(f=$.handler)&&void 0!==f?f:$.handler=new uD,le=[],De=[],Fe=()=>{for(const Ot of De)Z.unregister(Ot);Je()},Je=n.get(Gl).onDestroy(Fe);let xt=0;const jt=(Ot,un)=>{if(!un)return;const Dn=r?(...yn)=>(xt--,xt<1&&Fe(),un(...yn)):un,In=bm(n,()=>new lD(Ot,le,Dn));Z.register(In),De.push(In),xt++};return jt(li.EarlyRead,D.earlyRead),jt(li.Write,D.write),jt(li.MixedReadWrite,D.mixedReadWrite),jt(li.Read,D.read),{destroy:Fe}}(t,f,!0,null!==(i=null==n?void 0:n.phase)&&void 0!==i?i:li.MixedReadWrite)):Lv}class lD{constructor(n,r,i){var f;this.phase=n,this.pipelinedArgs=r,this.callbackFn=i,this.zone=Rn(ro),this.errorHandler=Rn(fs,{optional:!0}),null===(f=Rn(el,{optional:!0}))||void 0===f||f.notify(6)}invoke(){try{const r=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,r)}catch(r){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(r)}}}class uD{constructor(){this.executingCallbacks=!1,this.buckets={[li.EarlyRead]:new Set,[li.Write]:new Set,[li.MixedReadWrite]:new Set,[li.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const r of n)r.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let ed=(()=>{var t;class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var i;this.executeInternalCallbacks(),null===(i=this.handler)||void 0===i||i.execute()}executeInternalCallbacks(){const i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const f of i)f()}ngOnDestroy(){var i;null===(i=this.handler)||void 0===i||i.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=Nn({token:t,providedIn:"root",factory:()=>new t}),n})();function Ns(t){return!!Qn(t)}function nd(t,n,r){let i=r?t.styles:null,f=r?t.classes:null,D=0;if(null!==n)for(let $=0;$<n.length;$++){const Z=n[$];"number"==typeof Z?D=Z:1==D?f=Ri(f,Z):2==D&&(i=Ri(i,Z+": "+n[++$]+";"))}r?t.styles=i:t.stylesWithoutHost=i,r?t.classes=f:t.classesWithoutHost=f}class Vv extends gu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Kt(n);return new bu(r,this.ngModule)}}function Gv(t,n){const r=[];for(const i in t){if(!t.hasOwnProperty(i))continue;const f=t[i];if(void 0===f)continue;const D=Array.isArray(f),$=D?f[0]:f;r.push(n?{propName:$,templateName:i,isSignal:!!((D?f[1]:Es.None)&Es.SignalBased)}:{propName:$,templateName:i})}return r}class bu extends Rv{get inputs(){const n=this.componentDef,r=n.inputTransforms,i=Gv(n.inputs,!0);if(null!==r)for(const f of i)r.hasOwnProperty(f.propName)&&(f.transform=r[f.propName]);return i}get outputs(){return Gv(this.componentDef.outputs,!1)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function re(t){return t.map(mm).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,i,f){const D=oe(null);try{var Z;let le=(f=f||this.ngModule)instanceof Fi?f:null===(Z=f)||void 0===Z?void 0:Z.injector;le&&null!==this.componentDef.getStandaloneInjector&&(le=this.componentDef.getStandaloneInjector(le)||le);const De=le?new na(n,le):n,Fe=De.get(Lf,null);if(null===Fe)throw new Pn(407,!1);const Je=De.get(iD,null),Ot={rendererFactory:Fe,sanitizer:Je,inlineEffectRunner:null,afterRenderEventManager:De.get(ed,null),changeDetectionScheduler:De.get(el,null)},un=Fe.createRenderer(null,this.componentDef),Dn=this.componentDef.selectors[0][0]||"div",In=i?function SS(t,n,r,i){const D=i.get(ny,!1)||r===ws.ShadowDom,$=t.selectRootElement(n,D);return function xS(t){Ky(t)}($),$}(un,i,this.componentDef.encapsulation,De):Uc(un,Dn,function hD(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Dn));let yn=512;this.componentDef.signals?yn|=4096:this.componentDef.onPush||(yn|=16);let rr=null;null!==In&&(rr=Gh(In,De,!0));const dr=vf(0,null,null,1,0,null,null,null,null,null,null),Pr=Hc(null,dr,null,yn,null,null,Ot,un,De,null,rr);let qo,ei;bh(Pr);try{const ns=this.componentDef;let ba,um=null;ns.findHostDirectiveDefs?(ba=[],um=new Map,ns.findHostDirectiveDefs(ns,ba,um),ba.push(ns)):ba=[ns];const IO=function pD(t,n){const r=t[kn],i=er;return t[i]=n,ua(r,i,2,"#host",null)}(Pr,In),OO=function mD(t,n,r,i,f,D,$){const Z=f[kn];!function gD(t,n,r,i){for(const f of t)n.mergedAttrs=Ps(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(nd(n,n.mergedAttrs,!0),null!==r&&$y(i,r,n))}(i,t,n,$);let le=null;null!==n&&(le=Gh(n,f[Do]));const De=D.rendererFactory.createRenderer(n,r);let Fe=16;r.signals?Fe=4096:r.onPush&&(Fe=64);const Je=Hc(f,Xy(r),null,Fe,f[t.index],t,D,De,null,null,le);return Z.firstCreatePass&&_f(Z,t,i.length-1),zc(f,Je),f[t.index]=Je}(IO,In,ns,ba,Pr,Ot,un);ei=Nl(dr,er),In&&function vD(t,n,r,i){if(i)Tl(t,r,["ng-version","18.1.3"]);else{const{attrs:f,classes:D}=function he(t){const n=[],r=[];let i=1,f=2;for(;i<t.length;){let D=t[i];if("string"==typeof D)2===f?""!==D&&n.push(D,t[++i]):8===f&&r.push(D);else{if(!Si(f))break;f=D}i++}return{attrs:n,classes:r}}(n.selectors[0]);f&&Tl(t,r,f),D&&D.length>0&&By(t,r,D.join(" "))}}(un,ns,In,i),void 0!==r&&function bD(t,n,r){const i=t.projection=[];for(let f=0;f<n.length;f++){const D=r[f];i.push(null!=D?Array.from(D):null)}}(ei,this.ngContentSelectors,r),qo=function yD(t,n,r,i,f,D){const $=Hr(),Z=f[kn],le=ii($,f);Jy(Z,f,$,r,null,i);for(let Fe=0;Fe<r.length;Fe++)Qo(ra(f,Z,$.directiveStart+Fe,$),f);Zy(Z,f,$),le&&Qo(le,f);const De=ra(f,Z,$.directiveStart+$.componentOffset,$);if(t[Zr]=f[Zr]=De,null!==D)for(const Fe of D)Fe(De,n);return mf(Z,$,f),De}(OO,ns,ba,um,Pr,[_D]),Sf(dr,Pr,null)}finally{_h()}return new fD(this.componentType,qo,Ba(ei,Pr),Pr,ei)}finally{oe(D)}}}class fD extends eD{constructor(n,r,i,f,D){super(),this.location=i,this._rootLView=f,this._tNode=D,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new su(f,void 0,!1),this.componentType=n}setInput(n,r){const i=this._tNode.inputs;let f;if(null!==i&&(f=i[n])){var D;if(null!==(D=this.previousInputValues)&&void 0!==D||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const $=this._rootLView;Cf($[kn],$,f,n,r),this.previousInputValues.set(n,r),iu(xi(this._tNode.index,$),1)}}get injector(){return new jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function _D(){const t=Hr();dc(En()[kn],t)}let rd=(()=>{class n{}return n.__NG_ELEMENT_ID__=wD,n})();function wD(){return Wv(Hr(),En())}const ED=rd,Hv=class extends ED{constructor(n,r,i){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=i}get element(){return Ba(this._hostTNode,this._hostLView)}get injector(){return new jo(this._hostTNode,this._hostLView)}get parentInjector(){const n=gc(this._hostTNode,this._hostLView);if(Sh(n)){const r=Vl(n,this._hostLView),i=$l(n);return new jo(r[kn].data[i+8],r)}return new jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=zv(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-yo}createEmbeddedView(n,r,i){let f,D;"number"==typeof i?f=i:null!=i&&(f=i.index,D=i.injector);const $=ha(this._lContainer,n.ssrId),Z=n.createEmbeddedViewImpl(r||{},D,$);return this.insertImpl(Z,f,ca(this._hostTNode,$)),Z}createComponent(n,r,i,f,D){var $,Z,le;const De=n&&!function Il(t){return"function"==typeof t}(n);let Fe;if(De)Fe=r;else{const In=r||{};Fe=In.index,i=In.injector,f=In.projectableNodes,D=In.environmentInjector||In.ngModuleRef}const Je=De?n:new bu(Kt(n)),xt=i||this.parentInjector;if(!D&&null==Je.ngModule){const yn=(De?xt:this.parentInjector).get(Fi,null);yn&&(D=yn)}const jt=Kt(null!==($=Je.componentType)&&void 0!==$?$:{}),Ot=ha(this._lContainer,null!==(Z=null==jt?void 0:jt.id)&&void 0!==Z?Z:null),un=null!==(le=null==Ot?void 0:Ot.firstChild)&&void 0!==le?le:null,Dn=Je.create(xt,f,un,D);return this.insertImpl(Dn.hostView,Fe,ca(this._hostTNode,Ot)),Dn}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,i){const f=n._lView;if(function $w(t){return Zo(t[xo])}(f)){const Z=this.indexOf(n);if(-1!==Z)this.detach(Z);else{const le=f[xo],De=new Hv(le,le[Xo],le[xo]);De.detach(De.indexOf(n))}}const D=this._adjustIndex(r),$=this._lContainer;return Za($,f,D,i),n.attachToViewContainerRef(),Hd($f($),D,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=zv(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),i=tu(this._lContainer,r);i&&(Ta($f(this._lContainer),r),Bc(i[kn],i))}detach(n){const r=this._adjustIndex(n,-1),i=tu(this._lContainer,r);return i&&null!=Ta($f(this._lContainer),r)?new su(i):null}_adjustIndex(n,r=0){return null==n?this.length+r:n}};function zv(t){return t[8]}function $f(t){return t[8]||(t[8]=[])}function Wv(t,n){let r;const i=n[t.index];return Zo(i)?r=i:(r=Qy(i,n,null,t),n[t.index]=r,zc(n,r)),Xv(r,n,t,i),new Hv(r,t,n)}let Xv=function qv(t,n,r,i){if(t[ls])return;let f;f=8&r.type?jr(i):function CD(t,n){const r=t[lr],i=r.createComment(""),f=ii(n,t);return aa(r,$c(r,f),i,function yS(t,n){return t.nextSibling(n)}(r,f),!1),i}(n,r),t[ls]=f},Vf=()=>!1;class Gf{constructor(n){this.queryList=n,this.matches=null}clone(){return new Gf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hf{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const i=null!==n.contentQueries?n.contentQueries[0]:r.length,f=[];for(let D=0;D<i;D++){const $=r.getByIndex(D);f.push(this.queries[$.indexInDeclarationView].clone())}return new Hf(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==qf(n,r).matches&&this.queries[r].setDirty()}}class Yv{constructor(n,r,i=null){this.flags=r,this.read=i,this.predicate="string"==typeof n?function OD(t){return t.split(",").map(n=>n.trim())}(n):n}}class zf{constructor(n=[]){this.queries=n}elementStart(n,r){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let i=0;i<this.length;i++){const f=null!==r?r.length:0,D=this.getByIndex(i).embeddedTView(n,f);D&&(D.indexInDeclarationView=i,null!==r?r.push(D):r=[D])}return null!==r?new zf(r):null}template(n,r){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Wf{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new Wf(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==r;)i=i.parent;return r===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const i=this.metadata.predicate;if(Array.isArray(i))for(let f=0;f<i.length;f++){const D=i[f];this.matchTNodeWithReadOption(n,r,TD(r,D)),this.matchTNodeWithReadOption(n,r,yc(r,n,D,!1,!1))}else i===au?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,yc(r,n,i,!1,!1))}matchTNodeWithReadOption(n,r,i){if(null!==i){const f=this.metadata.read;if(null!==f)if(f===Hl||f===rd||f===au&&4&r.type)this.addMatch(r.index,-2);else{const D=yc(r,n,f,!1,!1);null!==D&&this.addMatch(r.index,D)}else this.addMatch(r.index,i)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function TD(t,n){const r=t.localNames;if(null!==r)for(let i=0;i<r.length;i+=2)if(r[i]===n)return r[i+1];return null}function MD(t,n,r,i){return-1===r?function AD(t,n){return 11&t.type?Ba(t,n):4&t.type?Kc(t,n):null}(n,t):-2===r?function ID(t,n,r){return r===Hl?Ba(n,t):r===au?Kc(n,t):r===rd?Wv(n,t):void 0}(t,n,i):ra(t,t[kn],r,n)}function Jv(t,n,r,i){const f=n[as].queries[i];if(null===f.matches){const D=t.data,$=r.matches,Z=[];for(let le=0;null!==$&&le<$.length;le+=2){const De=$[le];Z.push(De<0?null:MD(n,D[De],$[le+1],r.metadata.read))}f.matches=Z}return f.matches}function Xf(t,n,r,i){const f=t.queries.getByIndex(r),D=f.matches;if(null!==D){const $=Jv(t,n,f,r);for(let Z=0;Z<D.length;Z+=2){const le=D[Z];if(le>0)i.push($[Z/2]);else{const De=D[Z+1],Fe=n[-le];for(let Je=yo;Je<Fe.length;Je++){const xt=Fe[Je];xt[Js]===xt[xo]&&Xf(xt[kn],xt,De,i)}if(null!==Fe[Na]){const Je=Fe[Na];for(let xt=0;xt<Je.length;xt++){const jt=Je[xt];Xf(jt[kn],jt,De,i)}}}}}return i}function Zv(t,n,r){var i;const f=new Rh(!(4&~r));return function AS(t,n,r,i){const f=tv(n);f.push(r),t.firstCreatePass&&nv(t).push(i,f.length-1)}(t,n,f,f.destroy),(null!==(i=n[as])&&void 0!==i?i:n[as]=new Hf).queries.push(new Gf(f))-1}function t0(t,n,r){null===t.queries&&(t.queries=new zf),t.queries.track(new Wf(n,r))}function qf(t,n){return t.queries.getByIndex(n)}function n0(t,n){const r=t[kn],i=qf(r,n);return i.crossesNgTemplate?Xf(r,t,n,[]):Jv(r,t,i,n)}function o0(t,n){ai("NgSignals");const r=function F(t){const n=Object.create(ee);n.value=t;const r=()=>(y(n),n.value);return r[o]=n,r}(t),i=r[o];return null!=n&&n.equal&&(i.equal=n.equal),r.set=f=>Te(i,f),r.update=f=>function q(t,n){u()||V(),Te(t,n(t.value))}(i,f),r.asReadonly=s0.bind(r),r}function s0(){const t=this[o];if(void 0===t.readonlyFn){const n=()=>this();n[o]=t,t.readonlyFn=n}return t.readonlyFn}function a0(t){return function r0(t){return"function"==typeof t&&void 0!==t[o]}(t)&&"function"==typeof t.set}function Jf(t){let n=function v0(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const i=[t];for(;n;){let f;if(qi(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Pn(903,!1);f=n.\u0275dir}if(f){if(r){i.push(f);const $=t;$.inputs=id(t.inputs),$.inputTransforms=id(t.inputTransforms),$.declaredInputs=id(t.declaredInputs),$.outputs=id(t.outputs);const Z=f.hostBindings;Z&&WD(t,Z);const le=f.viewQuery,De=f.contentQueries;if(le&&HD(t,le),De&&zD(t,De),VD(t,f),Pi(t.outputs,f.outputs),qi(f)&&f.data.animation){const Fe=t.data;Fe.animation=(Fe.animation||[]).concat(f.data.animation)}}const D=f.features;if(D)for(let $=0;$<D.length;$++){const Z=D[$];Z&&Z.ngInherit&&Z(t),Z===Jf&&(r=!1)}}n=Object.getPrototypeOf(n)}!function GD(t){let n=0,r=null;for(let i=t.length-1;i>=0;i--){const f=t[i];f.hostVars=n+=f.hostVars,f.hostAttrs=Ps(f.hostAttrs,r=Ps(r,f.hostAttrs))}}(i)}function VD(t,n){for(const i in n.inputs){if(!n.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;const f=n.inputs[i];if(void 0!==f&&(t.inputs[i]=f,t.declaredInputs[i]=n.declaredInputs[i],null!==n.inputTransforms)){var r;const D=Array.isArray(f)?f[0]:f;if(!n.inputTransforms.hasOwnProperty(D))continue;null!==(r=t.inputTransforms)&&void 0!==r||(t.inputTransforms={}),t.inputTransforms[D]=n.inputTransforms[D]}}}function id(t){return t===Ei?{}:t===Cr?[]:t}function HD(t,n){const r=t.viewQuery;t.viewQuery=r?(i,f)=>{n(i,f),r(i,f)}:n}function zD(t,n){const r=t.contentQueries;t.contentQueries=r?(i,f,D)=>{n(i,f,D),r(i,f,D)}:n}function WD(t,n){const r=t.hostBindings;t.hostBindings=r?(i,f)=>{n(i,f),r(i,f)}:n}function E0(t){const n=t.inputConfig,r={};for(const i in n)if(n.hasOwnProperty(i)){const f=n[i];Array.isArray(f)&&f[3]&&(r[i]=f[3])}t.inputTransforms=r}class fa{}class C0{}function ZD(t,n){return new Zf(t,null!=n?n:null,[])}class Zf extends fa{constructor(n,r,i){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vv(this);const f=Qn(n);this._bootstrapComponents=Di(f.bootstrap),this._r3Injector=bg(n,r,[{provide:fa,useValue:this},{provide:gu,useValue:this.componentFactoryResolver},...i],Xr(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Qf extends C0{constructor(n){super(),this.moduleType=n}create(n){return new Zf(this.moduleType,n,[])}}class S0 extends fa{constructor(n){super(),this.componentFactoryResolver=new Vv(this),this.instance=null;const r=new Ia([...n.providers,{provide:fa,useValue:this},{provide:gu,useValue:this.componentFactoryResolver}],n.parent||tc(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function ep(t,n,r=null){return new S0({providers:t,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}function sd(t){return!!tp(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function tp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function vo(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function Eu(t,n,r,i,f,D,$,Z,le,De){const Fe=r+er,Je=n.firstCreatePass?function oT(t,n,r,i,f,D,$,Z,le){const De=n.consts,Fe=ua(n,t,4,$||null,Z||null);bf(n,r,Fe,Bi(De,le)),dc(n,Fe);const Je=Fe.tView=vf(2,Fe,i,f,D,n.directiveRegistry,n.pipeRegistry,null,n.schemas,De,null);return null!==n.queries&&(n.queries.template(n,Fe),Je.queries=n.queries.embeddedTView(Fe)),Fe}(Fe,n,t,i,f,D,$,Z,le):n.data[Fe];Yi(Je,!1);const xt=x0(n,t,Je,r);Ul()&&Vc(n,t,xt,Je),Qo(xt,t);const jt=Qy(xt,t,xt,Je);return t[Fe]=jt,zc(t,jt),function Kv(t,n,r){return Vf(t,n,r)}(jt,Je,t),sc(Je)&&gf(n,t,Je),null!=le&&yf(t,Je,De),Je}function np(t,n,r,i,f,D,$,Z){const le=En(),De=gr();return Eu(le,De,t,n,r,i,f,Bi(De.consts,D),$,Z),np}let x0=function D0(t,n,r,i){return cs(!0),n[lr].createComment("")};function fp(t,n,r,i){const f=En();return vo(f,Ji(),n)&&(gr(),ps(Qr(),f,t,n,r,i)),fp}function cl(t,n,r,i){return vo(t,Ji(),r)?n+ar(r)+i:cr}function dl(t,n,r,i,f,D){const Z=function pa(t,n,r,i){const f=vo(t,n,r);return vo(t,n+1,i)||f}(t,function xs(){return ur.lFrame.bindingIndex}(),r,f);return Ds(2),Z?n+ar(r)+i+ar(f)+D:cr}function fd(t,n){return t<<17|n<<2}function Us(t){return t>>17&32767}function pp(t){return 2|t}function ga(t){return(131068&t)>>2}function mp(t,n){return-131069&t|n<<2}function gp(t){return 1|t}function rb(t,n,r,i){const f=t[r+1],D=null===n;let $=i?Us(f):ga(f),Z=!1;for(;0!==$&&(!1===Z||D);){const De=t[$+1];GT(t[$],n)&&(Z=!0,t[$+1]=i?gp(De):pp(De)),$=i?Us(De):ga(De)}Z&&(t[r+1]=i?pp(f):gp(f))}function GT(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&zs(t,n)>=0}const Po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ob(t){return t.substring(Po.key,Po.keyEnd)}function HT(t){return t.substring(Po.value,Po.valueEnd)}function sb(t,n){const r=Po.textEnd;let i=Po.key=vl(t,n,r);return r===i?-1:(i=Po.keyEnd=function KT(t,n,r){let i;for(;n<r&&(45===(i=t.charCodeAt(n))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)n++;return n}(t,i,r),i=lb(t,i,r),i=Po.value=vl(t,i,r),i=Po.valueEnd=function qT(t,n,r){let i=-1,f=-1,D=-1,$=n,Z=$;for(;$<r;){const le=t.charCodeAt($++);if(59===le)return Z;34===le||39===le?Z=$=ub(t,le,$,r):n===$-4&&85===D&&82===f&&76===i&&40===le?Z=$=ub(t,41,$,r):le>32&&(Z=$),D=f,f=i,i=-33&le}return Z}(t,i,r),lb(t,i,r))}function vl(t,n,r){for(;n<r&&t.charCodeAt(n)<=32;)n++;return n}function lb(t,n,r,i){return(n=vl(t,n,r))<r&&n++,n}function ub(t,n,r,i){let f=-1,D=r;for(;D<i;){const $=t.charCodeAt(D++);if($==n&&92!==f)return D;f=92==$&&92===f?0:$}throw new Error}function yp(t,n,r){const i=En();return vo(i,Ji(),n)&&gi(gr(),Qr(),i,t,n,i[lr],r,!1),yp}function vp(t,n,r,i,f){const $=f?"class":"style";Cf(t,r,n.inputs[$],$,i)}function bp(t,n){return function Qi(t,n,r,i){const f=En(),D=gr(),$=Ds(2);D.firstUpdatePass&&hb(D,t,$,i),n!==cr&&vo(f,$,n)&&pb(D,D.data[Ko()],f,f[lr],t,f[$+1]=function i2(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Xr(Ts(t)))),t}(n,r),i,$)}(t,n,null,!0),bp}function Zi(t){!function es(t,n,r,i){const f=gr(),D=Ds(2);f.firstUpdatePass&&hb(f,null,D,i);const $=En();if(r!==cr&&vo($,D,r)){const Z=f.data[Ko()];if(gb(Z,i)&&!db(f,D)){let le=i?Z.classesWithoutHost:Z.stylesWithoutHost;null!==le&&(r=Ri(le,r||"")),vp(f,Z,$,r,i)}else!function o2(t,n,r,i,f,D,$,Z){f===cr&&(f=Cr);let le=0,De=0,Fe=0<f.length?f[0]:null,Je=0<D.length?D[0]:null;for(;null!==Fe||null!==Je;){const xt=le<f.length?f[le+1]:void 0,jt=De<D.length?D[De+1]:void 0;let un,Ot=null;Fe===Je?(le+=2,De+=2,xt!==jt&&(Ot=Je,un=jt)):null===Je||null!==Fe&&Fe<Je?(le+=2,Ot=Fe):(De+=2,Ot=Je,un=jt),null!==Ot&&pb(t,n,r,i,Ot,un,$,Z),Fe=le<f.length?f[le]:null,Je=De<D.length?D[De]:null}}(f,Z,$,$[lr],$[D+1],$[D+1]=function n2(t,n,r){if(null==r||""===r)return Cr;const i=[],f=Ts(r);if(Array.isArray(f))for(let D=0;D<f.length;D++)t(i,f[D],!0);else if("object"==typeof f)for(const D in f)f.hasOwnProperty(D)&&t(i,D,f[D]);else"string"==typeof f&&n(i,f);return i}(t,n,r),i,D)}}(fb,YT,t,!1)}function YT(t,n){for(let r=function WT(t){return function ab(t){Po.key=0,Po.keyEnd=0,Po.value=0,Po.valueEnd=0,Po.textEnd=t.length}(t),sb(t,vl(t,0,Po.textEnd))}(n);r>=0;r=sb(n,r))fb(t,ob(n),HT(n))}function db(t,n){return n>=t.expandoStartIndex}function hb(t,n,r,i){const f=t.data;if(null===f[r+1]){const D=f[Ko()],$=db(t,r);gb(D,i)&&null===n&&!$&&(n=!1),n=function ZT(t,n,r,i){const f=function yh(t){const n=ur.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let D=i?n.residualClasses:n.residualStyles;if(null===f)0===(i?n.classBindings:n.styleBindings)&&(r=Du(r=_p(null,t,n,r,i),n.attrs,i),D=null);else{const $=n.directiveStylingLast;if(-1===$||t[$]!==f)if(r=_p(f,t,n,r,i),null===D){let le=function QT(t,n,r){const i=r?n.classBindings:n.styleBindings;if(0!==ga(i))return t[Us(i)]}(t,n,i);void 0!==le&&Array.isArray(le)&&(le=_p(null,t,n,le[1],i),le=Du(le,n.attrs,i),function e2(t,n,r,i){t[Us(r?n.classBindings:n.styleBindings)]=i}(t,n,i,le))}else D=function t2(t,n,r){let i;const f=n.directiveEnd;for(let D=1+n.directiveStylingLast;D<f;D++)i=Du(i,t[D].hostAttrs,r);return Du(i,n.attrs,r)}(t,n,i)}return void 0!==D&&(i?n.residualClasses=D:n.residualStyles=D),r}(f,D,n,i),function $T(t,n,r,i,f,D){let $=D?n.classBindings:n.styleBindings,Z=Us($),le=ga($);t[i]=r;let Fe,De=!1;if(Array.isArray(r)?(Fe=r[1],(null===Fe||zs(r,Fe)>0)&&(De=!0)):Fe=r,f)if(0!==le){const xt=Us(t[Z+1]);t[i+1]=fd(xt,Z),0!==xt&&(t[xt+1]=mp(t[xt+1],i)),t[Z+1]=function UT(t,n){return 131071&t|n<<17}(t[Z+1],i)}else t[i+1]=fd(Z,0),0!==Z&&(t[Z+1]=mp(t[Z+1],i)),Z=i;else t[i+1]=fd(le,0),0===Z?Z=i:t[le+1]=mp(t[le+1],i),le=i;De&&(t[i+1]=pp(t[i+1])),rb(t,Fe,i,!0),rb(t,Fe,i,!1),function VT(t,n,r,i,f){const D=f?t.residualClasses:t.residualStyles;null!=D&&"string"==typeof n&&zs(D,n)>=0&&(r[i+1]=gp(r[i+1]))}(n,Fe,t,i,D),$=fd(Z,le),D?n.classBindings=$:n.styleBindings=$}(f,D,n,r,$,i)}}function _p(t,n,r,i,f){let D=null;const $=r.directiveEnd;let Z=r.directiveStylingLast;for(-1===Z?Z=r.directiveStart:Z++;Z<$&&(D=n[Z],i=Du(i,D.hostAttrs,f),D!==t);)Z++;return null!==t&&(r.directiveStylingLast=Z),i}function Du(t,n,r){const i=r?1:2;let f=-1;if(null!==n)for(let D=0;D<n.length;D++){const $=n[D];"number"==typeof $?f=$:f===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ri(t,$,!!r||n[++D]))}return void 0===t?null:t}function fb(t,n,r){ri(t,n,Ts(r))}function pb(t,n,r,i,f,D,$,Z){if(!(3&n.type))return;const le=t.data,De=le[Z+1],Fe=function BT(t){return!(1&~t)}(De)?mb(le,n,r,f,ga(De),$):void 0;pd(Fe)||(pd(D)||function FT(t){return!(2&~t)}(De)&&(D=mb(le,null,r,f,Z,$)),function _S(t,n,r,i,f){if(n)f?t.addClass(r,i):t.removeClass(r,i);else{let D=-1===i.indexOf("-")?void 0:Fc.DashCase;null==f?t.removeStyle(r,i,D):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),D|=Fc.Important),t.setStyle(r,i,f,D))}}(i,$,kl(Ko(),r),f,D))}function mb(t,n,r,i,f,D){const $=null===n;let Z;for(;f>0;){const le=t[f],De=Array.isArray(le),Fe=De?le[1]:le,Je=null===Fe;let xt=r[f+1];xt===cr&&(xt=Je?Cr:void 0);let jt=Je?zu(xt,i):Fe===i?xt:void 0;if(De&&!pd(jt)&&(jt=zu(le,i)),pd(jt)&&(Z=jt,$))return Z;const Ot=t[f+1];f=$?Us(Ot):ga(Ot)}if(null!==n){let le=D?n.residualClasses:n.residualStyles;null!=le&&(Z=zu(le,i))}return Z}function pd(t){return void 0!==t}function gb(t,n){return!!(t.flags&(n?8:16))}function gd(t,n,r,i){const f=En(),D=gr(),$=er+t,Z=f[lr],le=D.firstCreatePass?function A2(t,n,r,i,f,D){const $=n.consts,le=ua(n,t,2,i,Bi($,f));return bf(n,r,le,Bi($,D)),null!==le.attrs&&nd(le,le.attrs,!1),null!==le.mergedAttrs&&nd(le,le.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,le),le}($,D,f,n,r,i):D.data[$],De=_b(D,f,le,Z,n,t);f[$]=De;const Fe=sc(le);return Yi(le,!0),$y(Z,De,le),!function nl(t){return!(32&~t.flags)}(le)&&Ul()&&Vc(D,f,De,le),0===function Vw(){return ur.lFrame.elementDepthCount}()&&Qo(De,f),function Gw(){ur.lFrame.elementDepthCount++}(),Fe&&(gf(D,f,le),mf(D,le,f)),null!==i&&yf(f,le),gd}function yd(){let t=Hr();ph()?mh():(t=t.parent,Yi(t,!1));const n=t;(function zw(t){return ur.skipHydrationRootTNode===t})(n)&&function qw(){ur.skipHydrationRootTNode=null}(),function Hw(){ur.lFrame.elementDepthCount--}();const r=gr();return r.firstCreatePass&&(dc(r,t),oh(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function lE(t){return!!(8&t.flags)}(n)&&vp(r,n,En(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function uE(t){return!!(16&t.flags)}(n)&&vp(r,n,En(),n.stylesWithoutHost,!1),yd}function Sp(t,n,r,i){return gd(t,n,r,i),yd(),Sp}let _b=(t,n,r,i,f,D)=>(cs(!0),Uc(i,f,function Zm(){return ur.lFrame.currentNamespace}()));function vd(t,n,r){const i=En(),f=gr(),D=t+er,$=f.firstCreatePass?function O2(t,n,r,i,f){const D=n.consts,$=Bi(D,i),Z=ua(n,t,8,"ng-container",$);return null!==$&&nd(Z,$,!0),bf(n,r,Z,Bi(D,f)),null!==n.queries&&n.queries.elementStart(n,Z),Z}(D,f,i,n,r):f.data[D];Yi($,!0);const Z=wb(f,i,$,t);return i[D]=Z,Ul()&&Vc(f,i,Z,$),Qo(Z,i),sc($)&&(gf(f,i,$),mf(f,$,i)),null!=r&&yf(i,$),vd}function bd(){let t=Hr();const n=gr();return ph()?mh():(t=t.parent,Yi(t,!1)),n.firstCreatePass&&(dc(n,t),oh(t)&&n.queries.elementEnd(t)),bd}function xp(t,n,r){return vd(t,n,r),bd(),xp}let wb=(t,n,r,i)=>(cs(!0),af(n[lr],""));function Eb(){return En()}const ya=void 0;var k2=["en",[["a","p"],["AM","PM"],ya],[["AM","PM"],ya,ya],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ya,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ya,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ya,"{1} 'at' {0}",ya],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function R2(t){const r=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===i?1:5}];let bl={};function Dp(t){const n=function N2(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=Db(n);if(r)return r;const i=n.split("-")[0];if(r=Db(i),r)return r;if("en"===i)return k2;throw new Pn(701,!1)}function xb(t){return Dp(t)[_l.PluralCase]}function Db(t){return t in bl||(bl[t]=zr.ng&&zr.ng.common&&zr.ng.common.locales&&zr.ng.common.locales[t]),bl[t]}var _l=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(_l||{});const wl="en-US";let Tb=wl;let Wb=(t,n,r)=>{};function Mp(t,n,r,i){const f=En(),D=gr(),$=Hr();return Ip(D,f,f[lr],$,t,n,i),Mp}function Ip(t,n,r,i,f,D,$){const Z=sc(i),De=t.firstCreatePass&&nv(t),Fe=n[Zr],Je=tv(n);let xt=!0;if(3&i.type||$){const un=ii(i,n),Dn=$?$(un):un,In=Je.length,yn=$?dr=>$(jr(dr[i.index])):i.index;let rr=null;if(!$&&Z&&(rr=function CA(t,n,r,i){const f=t.cleanup;if(null!=f)for(let D=0;D<f.length-1;D+=2){const $=f[D];if($===r&&f[D+1]===i){const Z=n[Ys],le=f[D+2];return Z.length>le?Z[le]:null}"string"==typeof $&&(D+=2)}return null}(t,n,f,i.index)),null!==rr)(rr.__ngLastListenerFn__||rr).__ngNextListenerFn__=D,rr.__ngLastListenerFn__=D,xt=!1;else{D=Yb(i,n,Fe,D),Wb(un,f,D);const dr=r.listen(Dn,f,D);Je.push(D,dr),De&&De.push(f,yn,In,In+1)}}else D=Yb(i,n,Fe,D);const jt=i.outputs;let Ot;if(xt&&null!==jt&&(Ot=jt[f])){const un=Ot.length;if(un)for(let Dn=0;Dn<un;Dn+=2){const Pr=n[Ot[Dn]][Ot[Dn+1]].subscribe(D),qo=Je.length;Je.push(D,Pr),De&&De.push(f,i.index,qo,-(qo+1))}}}function qb(t,n,r,i){const f=oe(null);try{return us(6,n,r),!1!==r(i)}catch(D){return Wc(t,D),!1}finally{us(7,n,r),oe(f)}}function Yb(t,n,r,i){return function f(D){if(D===Function)return i;iu(t.componentOffset>-1?xi(t.index,n):n,5);let Z=qb(n,r,i,D),le=f.__ngNextListenerFn__;for(;le;)Z=qb(n,r,le,D)&&Z,le=le.__ngNextListenerFn__;return Z}}function Jb(t=1){return function eE(t){return(ur.lFrame.contextLView=function km(t,n){for(;t>0;)n=n[Pa],t--;return n}(t,ur.lFrame.contextLView))[Zr]}(t)}function SA(t,n){let r=null;const i=function dm(t){const n=t.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(t);for(let f=0;f<n.length;f++){const D=n[f];if("*"!==D){if(null===i?Zu(t,D,!0):pm(i,D))return f}else r=f}return r}function Zb(t){const n=En()[ao][Xo];if(!n.projection){const i=n.projection=function js(t,n){const r=[];for(let i=0;i<t;i++)r.push(n);return r}(t?t.length:1,null),f=i.slice();let D=n.child;for(;null!==D;){if(128!==D.type){const $=t?SA(D,t):0;null!==$&&(f[$]?f[$].projectionNext=D:i[$]=D,f[$]=D)}D=D.next}}}function Qb(t,n=0,r,i,f,D){const $=En(),Z=gr(),le=i?t+1:null;null!==le&&Eu($,Z,le,i,f,D,null,r);const De=ua(Z,er+t,16,null,r||null);null===De.projection&&(De.projection=n),mh();const Je=!$[oi]||ea();null===$[ao][Xo].projection[De.projection]&&null!==le?function xA(t,n,r){const i=er+r,f=n.data[i],D=t[i],$=ha(D,f.tView.ssrId);Za(D,Ja(t,f,void 0,{dehydratedView:$}),0,ca(f,$))}($,Z,le):Je&&32&~De.flags&&function vS(t,n,r){Uy(n[lr],0,n,r,cf(t,r,n),Py(r.parent||n[Xo],r,n))}(Z,$,De)}function Cd(t,n,r,i,f){const D=En(),$=cl(D,n,r,i);return $!==cr&&gi(gr(),Qr(),D,t,$,D[lr],f,!1),Cd}function u_(t,n,r,i){!function e0(t,n,r,i){const f=gr();if(f.firstCreatePass){const D=Hr();t0(f,new Yv(n,r,i),D.index),function jD(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(f,t),!(2&~r)&&(f.staticContentQueries=!0)}return Zv(f,En(),r)}(t,n,r,i)}function c_(t,n,r){!function Qv(t,n,r){const i=gr();return i.firstCreatePass&&(t0(i,new Yv(t,n,r),-1),!(2&~n)&&(i.staticViewQueries=!0)),Zv(i,En(),n)}(t,n,r)}function d_(t){const n=En(),r=gr(),i=vh();cc(i+1);const f=qf(r,i);if(t.dirty&&function Bw(t){return!(4&~t[nr])}(n)===!(2&~f.metadata.flags)){if(null===f.matches)t.reset([]);else{const D=n0(n,i);t.reset(D,Tg),t.notifyOnChanges()}return!0}return!1}function h_(){return function Kf(t,n){return t[as].queries[n].queryList}(En(),vh())}function f_(t){return function Qs(t,n){return t[n]}(function $m(){return ur.lFrame.contextLView}(),er+t)}function C_(t,n=""){const r=En(),i=gr(),f=t+er,D=i.firstCreatePass?ua(i,f,1,n,null):i.data[f],$=S_(i,r,D,n,t);r[f]=$,Ul()&&Vc(i,r,$,D),Yi(D,!1)}let S_=(t,n,r,i,f)=>(cs(!0),function sf(t,n){return t.createText(n)}(n[lr],i));function jp(t){return Sd("",t,""),jp}function Sd(t,n,r){const i=En(),f=cl(i,t,n,r);return f!==cr&&Ms(i,Ko(),f),Sd}function Pp(t,n,r,i,f){const D=En(),$=dl(D,t,n,r,i,f);return $!==cr&&Ms(D,Ko(),$),Pp}function Rp(t,n,r){a0(n)&&(n=n());const i=En();return vo(i,Ji(),n)&&gi(gr(),Qr(),i,t,n,i[lr],r,!1),Rp}function j_(t,n){const r=a0(t);return r&&t.set(n),r}function kp(t,n){const r=En(),i=gr(),f=Hr();return Ip(i,r,r[lr],f,t,n),kp}function Np(t,n,r,i,f){if(t=Hn(t),Array.isArray(t))for(let D=0;D<t.length;D++)Np(t[D],n,r,i,f);else{const D=gr(),$=En(),Z=Hr();let le=qs(t)?t:Hn(t.provide);const De=vm(t),Fe=1048575&Z.providerIndexes,Je=Z.directiveStart,xt=Z.providerIndexes>>20;if(qs(t)||!t.multi){const jt=new Bl(De,f,Ya),Ot=Fp(le,n,f?Fe:Fe+xt,Je);-1===Ot?(Th(mc(Z,$),D,le),Lp(D,t,n.length),n.push(le),Z.directiveStart++,Z.directiveEnd++,f&&(Z.providerIndexes+=1048576),r.push(jt),$.push(jt)):(r[Ot]=jt,$[Ot]=jt)}else{const jt=Fp(le,n,Fe+xt,Je),Ot=Fp(le,n,Fe,Fe+xt),Dn=Ot>=0&&r[Ot];if(f&&!Dn||!f&&!(jt>=0&&r[jt])){Th(mc(Z,$),D,le);const In=function zA(t,n,r,i,f){const D=new Bl(t,r,Ya);return D.multi=[],D.index=n,D.componentProviders=0,k_(D,f,i&&!r),D}(f?HA:GA,r.length,f,i,De);!f&&Dn&&(r[Ot].providerFactory=In),Lp(D,t,n.length,0),n.push(le),Z.directiveStart++,Z.directiveEnd++,f&&(Z.providerIndexes+=1048576),r.push(In),$.push(In)}else Lp(D,t,jt>-1?jt:Ot,k_(r[f?Ot:jt],De,!f&&i));!f&&i&&Dn&&r[Ot].componentProviders++}}}function Lp(t,n,r,i){const f=qs(n),D=function mw(t){return!!t.useClass}(n);if(f||D){const le=(D?Hn(n.useClass):n).prototype.ngOnDestroy;if(le){const De=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const Fe=De.indexOf(r);-1===Fe?De.push(r,[i,le]):De[Fe+1].push(i,le)}else De.push(r,le)}}}function k_(t,n,r){return r&&t.componentProviders++,t.multi.push(n)-1}function Fp(t,n,r,i){for(let f=r;f<i;f++)if(n[f]===t)return f;return-1}function GA(t,n,r,i){return Up(this.multi,[])}function HA(t,n,r,i){const f=this.multi;let D;if(this.providerFactory){const $=this.providerFactory.componentProviders,Z=ra(r,r[kn],this.providerFactory.index,i);D=Z.slice(0,$),Up(f,D);for(let le=$;le<Z.length;le++)D.push(Z[le])}else D=[],Up(f,D);return D}function Up(t,n){for(let r=0;r<t.length;r++)n.push((0,t[r])());return n}function N_(t,n=[]){return r=>{r.providersResolver=(i,f)=>function VA(t,n,r){const i=gr();if(i.firstCreatePass){const f=qi(t);Np(r,i.data,i.blueprint,f,!0),Np(n,i.data,i.blueprint,f,!1)}}(i,f?f(t):t,n)}}let WA=(()=>{var t;class n{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const f=Ks(0,i.type),D=f.length>0?ep([f],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,D)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=Nn({token:t,providedIn:"environment",factory:()=>new t(Zn(Fi))}),n})();function L_(t){ai("NgStandalone"),t.getStandaloneInjector=n=>n.get(WA).getOrCreateStandaloneInjector(t)}function B_(t,n,r){const i=function si(){const t=ur.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}()+t,f=En();return f[i]===cr?function ms(t,n,r){return t[n]=r}(f,i,r?n.call(r):n()):function wu(t,n){return t[n]}(f,i)}class a1{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}let l1=(()=>{var t;class n{log(i){console.log(i)}warn(i){console.warn(i)}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Nn({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const h1=new $n(""),f1=new $n("");let Wp,iI=(()=>{var t;class n{constructor(i,f,D){this._ngZone=i,this.registry=f,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Wp||(function sI(t){Wp=t}(D),D.addToWindow(f)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ro.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(i)||(clearTimeout(f.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,f,D){let $=-1;f&&f>0&&($=setTimeout(()=>{this._callbacks=this._callbacks.filter(Z=>Z.timeoutId!==$),i()},f)),this._callbacks.push({doneCb:i,timeoutId:$,updateCb:D})}whenStable(i,f,D){if(D&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,f,D),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,f,D){return[]}}return(t=n).\u0275fac=function(i){return new(i||t)(Zn(ro),Zn(p1),Zn(f1))},t.\u0275prov=Nn({token:t,factory:t.\u0275fac}),n})(),p1=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(i,f){this._applications.set(i,f)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,f=!0){var D,$;return null!==(D=null===($=Wp)||void 0===$?void 0:$.findTestabilityInTree(this,i,f))&&void 0!==D?D:null}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Nn({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function Xp(t){return!!t&&"function"==typeof t.then}function m1(t){return!!t&&"function"==typeof t.subscribe}const g1=new $n("");let Kp=(()=>{var t;class n{constructor(){var i;this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,D)=>{this.resolve=f,this.reject=D}),this.appInits=null!==(i=Rn(g1,{optional:!0}))&&void 0!==i?i:[]}runInitializers(){if(this.initialized)return;const i=[];for(const D of this.appInits){const $=D();if(Xp($))i.push($);else if(m1($)){const Z=new Promise((le,De)=>{$.subscribe({complete:le,error:De})});i.push(Z)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{f()}).catch(D=>{this.reject(D)}),0===i.length&&f(),this.initialized=!0}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Nn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const Md=new $n("");function b1(t,n){return Array.isArray(n)?n.reduce(b1,t):{...t,...n}}let ts=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Rn(NE),this.afterRenderEffectManager=Rn(ed),this.zonelessEnabled=Rn(mu),this.externalTestViews=new Set,this.beforeRender=new ct.B,this.afterTick=new ct.B,this.componentTypes=[],this.components=[],this.isStable=Rn(oa).hasPendingTasks.pipe((0,Ve.T)(i=>!i)),this._injector=Rn(Fi)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,f){const D=i instanceof Rv;if(!this._injector.get(Kp).done)throw!D&&hr(i),new Pn(405,!1);let Z;Z=D?i:this._injector.get(gu).resolveComponentFactory(i),this.componentTypes.push(Z.componentType);const le=function aI(t){return t.isBoundToModule}(Z)?void 0:this._injector.get(fa),Fe=Z.create(Bo.NULL,[],f||Z.selector,le),Je=Fe.location.nativeElement,xt=Fe.injector.get(h1,null);return null==xt||xt.registerApplication(Je),Fe.onDestroy(()=>{this.detachView(Fe.hostView),Id(this.components,Fe),null==xt||xt.unregisterApplication(Je)}),this._loadComponent(Fe),Fe}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new Pn(101,!1);const f=oe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(D){this.internalErrorHandler(D)}finally{this._runningTick=!1,oe(f),this.afterTick.next()}}detectChangesInAttachedViews(i){let f=null;this._injector.destroyed||(f=this._injector.get(Lf,null,{optional:!0}));let D=0;const $=this.afterRenderEffectManager;for(;D<10;){const jt=0===D;if(i||!jt){this.beforeRender.next(jt);for(let{_lView:Ot,notifyErrorHandler:un}of this._views)uI(Ot,un,jt,this.zonelessEnabled)}else{var Z,le,De,Fe,Je,xt;null===(Z=f)||void 0===Z||null===(le=(De=Z).begin)||void 0===le||le.call(De),null===(Fe=f)||void 0===Fe||null===(Je=(xt=Fe).end)||void 0===Je||Je.call(xt)}if(D++,$.executeInternalCallbacks(),!this.allViews.some(({_lView:Ot})=>Ll(Ot))&&($.execute(),!this.allViews.some(({_lView:Ot})=>Ll(Ot))))break}}attachView(i){const f=i;this._views.push(f),f.attachToAppRef(this)}detachView(i){const f=i;Id(this._views,f),f.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const f=this._injector.get(Md,[]);[...this._bootstrapListeners,...f].forEach(D=>D(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Id(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Pn(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Nn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function Id(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}function uI(t,n,r,i){(r||Ll(t))&&Xc(t,n,r&&!i?0:1)}class cI{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let dI=(()=>{var t;class n{compileModuleSync(i){return new Qf(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const f=this.compileModuleSync(i),$=Di(Qn(i).declarations).reduce((Z,le)=>{const De=Kt(le);return De&&Z.push(new bu(De)),Z},[]);return new cI(f,$)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Nn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),pI=(()=>{var t;class n{constructor(){this.zone=Rn(ro),this.changeDetectionScheduler=Rn(el),this.applicationRef=Rn(ts)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var i;null===(i=this._onMicrotaskEmptySubscription)||void 0===i||i.unsubscribe()}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Nn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function qp({ngZoneFactory:t,ignoreChangesOutsideZone:n}){var r;return null!==(r=t)&&void 0!==r||(t=()=>new ro(Yp())),[{provide:ro,useFactory:t},{provide:Ci,multi:!0,useFactory:()=>{const i=Rn(pI,{optional:!0});return()=>i.initialize()}},{provide:Ci,multi:!0,useFactory:()=>{const i=Rn(gI);return()=>{i.initialize()}}},!0===n?{provide:Pv,useValue:!0}:[]]}function Yp(t){var n,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(r=null==t?void 0:t.runCoalescing)&&void 0!==r&&r}}let gI=(()=>{var t;class n{constructor(){this.subscription=new dt.yU,this.initialized=!1,this.zone=Rn(ro),this.pendingTasks=Rn(oa)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ro.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var f;ro.assertInAngularZone(),null!==(f=i)&&void 0!==f||(i=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Nn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),Lu=(()=>{var t;class n{constructor(){var i;this.appRef=Rn(ts),this.taskService=Rn(oa),this.ngZone=Rn(ro),this.zonelessEnabled=Rn(mu),this.disableScheduling=null!==(i=Rn(Pv,{optional:!0}))&&void 0!==i&&i,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new dt.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Ph||!this.zoneIsDefined))}notify(i){if(!this.zonelessEnabled&&5===i)return;switch(i){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const f=this.useMicrotaskScheduler?Eg:wg;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=f(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=f(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&ro.isInAngularZone())}tick(i){if(this.runningTick||this.appRef.destroyed)return;const f=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(i)},void 0,this.schedulerTickApplyArgs)}catch(D){throw this.taskService.remove(f),D}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Eg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(f)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var i;if(this.shouldRefreshViews=!1,this.runningTick=!1,null===(i=this.cancelScheduledCallback)||void 0===i||i.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const f=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(f)}}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Nn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const Od=new $n("",{providedIn:"root",factory:()=>Rn(Od,mr.Optional|mr.SkipSelf)||function yI(){return typeof $localize<"u"&&$localize.locale||wl}()}),vI=new $n("",{providedIn:"root",factory:()=>"USD"}),Zp=new $n("");let S1=(()=>{var t;class n{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,f){const D=function kE(t="zone.js",n){return"noop"===t?new Ph:"zone.js"===t?new ro(n):t}(null==f?void 0:f.ngZone,Yp({eventCoalescing:null==f?void 0:f.ngZoneEventCoalescing,runCoalescing:null==f?void 0:f.ngZoneRunCoalescing}));return D.run(()=>{const Z=function QD(t,n,r){return new Zf(t,n,r)}(i.moduleType,this.injector,[...qp({ngZoneFactory:()=>D,ignoreChangesOutsideZone:null==f?void 0:f.ignoreChangesOutsideZone}),{provide:el,useExisting:Lu}]),le=Z.injector.get(fs,null);return D.runOutsideAngular(()=>{const De=D.onError.subscribe({next:Fe=>{le.handleError(Fe)}});Z.onDestroy(()=>{Id(this._modules,Z),De.unsubscribe()})}),function v1(t,n,r){try{const i=r();return Xp(i)?i.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(le,D,()=>{const De=Z.injector.get(Kp);return De.runInitializers(),De.donePromise.then(()=>(function Ab(t){"string"==typeof t&&(Tb=t.toLowerCase().replace(/_/g,"-"))}(Z.injector.get(Od,wl)||wl),this._moduleDoBootstrap(Z),Z))})})}bootstrapModule(i,f=[]){const D=b1({},f);return function fI(t,n,r){const i=new Qf(r);return Promise.resolve(i)}(0,0,i).then($=>this.bootstrapModuleFactory($,D))}_moduleDoBootstrap(i){const f=i.injector.get(ts);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(D=>f.bootstrap(D));else{if(!i.instance.ngDoBootstrap)throw new Pn(-403,!1);i.instance.ngDoBootstrap(f)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pn(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const i=this._injector.get(Zp,null);i&&(i.forEach(f=>f()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(i){return new(i||t)(Zn(Bo))},t.\u0275prov=Nn({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),Bs=null;const x1=new $n("");function D1(t,n,r=[]){const i=`Platform: ${n}`,f=new $n(i);return(D=[])=>{let $=Qp();if(!$||$.injector.get(x1,!1)){const Z=[...r,...D,{provide:f,useValue:!0}];t?t(Z):function _I(t){if(Bs&&!Bs.get(x1,!1))throw new Pn(400,!1);(function y1(){!function X(t){ne=t}(()=>{throw new Pn(600,!1)})})(),Bs=t;const n=t.get(S1);(function A1(t){const n=t.get(Xg,null);null==n||n.forEach(r=>r())})(t)}(function T1(t=[],n){return Bo.create({name:n,providers:[{provide:Zd,useValue:"platform"},{provide:Zp,useValue:new Set([()=>Bs=null])},...t]})}(Z,i))}return function wI(t){const n=Qp();if(!n)throw new Pn(401,!1);return n}()}}function Qp(){var t,n;return null!==(t=null===(n=Bs)||void 0===n?void 0:n.get(S1))&&void 0!==t?t:null}function CI(){}let I1=(()=>{class n{}return n.__NG_ELEMENT_ID__=SI,n})();function SI(t){return function xI(t,n,r){if(Zs(t)&&!r){const i=xi(t.index,n);return new su(i,i)}return 175&t.type?new su(n[ao],n):null}(Hr(),En(),!(16&~t))}class R1{constructor(){}supports(n){return sd(n)}create(n){return new II(n)}}const MI=(t,n)=>n;class II{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||MI}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,i=this._removalsHead,f=0,D=null;for(;r||i;){const $=!i||r&&r.currentIndex<N1(i,f,D)?r:i,Z=N1($,f,D),le=$.currentIndex;if($===i)f--,i=i._nextRemoved;else if(r=r._next,null==$.previousIndex)f++;else{D||(D=[]);const De=Z-f,Fe=le-f;if(De!=Fe){for(let xt=0;xt<De;xt++){const jt=xt<D.length?D[xt]:D[xt]=0,Ot=jt+xt;Fe<=Ot&&Ot<De&&(D[xt]=jt+1)}D[$.previousIndex]=Fe-De}}Z!==le&&n($,Z,le)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!sd(n))throw new Pn(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,D,$,r=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let Z=0;Z<this.length;Z++)D=n[Z],$=this._trackByFn(Z,D),null!==r&&Object.is(r.trackById,$)?(i&&(r=this._verifyReinsertion(r,D,$,Z)),Object.is(r.item,D)||this._addIdentityChange(r,D)):(r=this._mismatch(r,D,$,Z),i=!0),r=r._next}else f=0,function nT(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[Symbol.iterator]();let i;for(;!(i=r.next()).done;)n(i.value)}}(n,Z=>{$=this._trackByFn(f,Z),null!==r&&Object.is(r.trackById,$)?(i&&(r=this._verifyReinsertion(r,Z,$,f)),Object.is(r.item,Z)||this._addIdentityChange(r,Z)):(r=this._mismatch(r,Z,$,f),i=!0),r=r._next,f++}),this.length=f;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,i,f){let D;return null===n?D=this._itTail:(D=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,D,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,f))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,D,f)):n=this._addAfter(new OI(r,i),D,f),n}_verifyReinsertion(n,r,i,f){let D=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==D?n=this._reinsertAfter(D,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,D=n._nextRemoved;return null===f?this._removalsHead=D:f._nextRemoved=D,null===D?this._removalsTail=f:D._prevRemoved=f,this._insertAfter(n,r,i),this._addToMoves(n,i),n}_moveAfter(n,r,i){return this._unlink(n),this._insertAfter(n,r,i),this._addToMoves(n,i),n}_addAfter(n,r,i){return this._insertAfter(n,r,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,i){const f=null===r?this._itHead:r._next;return n._next=f,n._prev=r,null===f?this._itTail=n:f._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new k1),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,i=n._next;return null===r?this._itHead=i:r._next=i,null===i?this._itTail=r:i._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new k1),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class OI{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===r||r<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const r=n._prevDup,i=n._nextDup;return null===r?this._head=i:r._nextDup=i,null===i?this._tail=r:i._prevDup=r,null===this._head}}class k1{constructor(){this.map=new Map}put(n){const r=n.trackById;let i=this.map.get(r);i||(i=new jI,this.map.set(r,i)),i.add(n)}get(n,r){const f=this.map.get(n);return f?f.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function N1(t,n,r){const i=t.previousIndex;if(null===i)return i;let f=0;return r&&i<r.length&&(f=r[i]),i+n+f}class L1{constructor(){}supports(n){return n instanceof Map||tp(n)}create(){return new PI}}class PI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||tp(n)))throw new Pn(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,f)=>{if(r&&r.key===f)this._maybeAddToChanges(r,i),this._appendAfter=r,r=r._next;else{const D=this._getOrCreateRecordForKey(f,i);r=this._insertBeforeOrAppend(r,D)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let i=r;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const i=n._prev;return r._next=n,r._prev=i,n._prev=r,i&&(i._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,r);const D=f._prev,$=f._next;return D&&(D._next=$),$&&($._prev=D),f._next=null,f._prev=null,f}const i=new RI(n);return this._records.set(n,i),i.currentValue=r,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(i=>r(n[i],i))}}class RI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function F1(){return new om([new R1])}let om=(()=>{var t;class n{constructor(i){this.factories=i}static create(i,f){if(null!=f){const D=f.factories.slice();i=i.concat(D)}return new n(i)}static extend(i){return{provide:n,useFactory:f=>n.create(i,f||F1()),deps:[[n,new xa,new co]]}}find(i){const f=this.factories.find(D=>D.supports(i));if(null!=f)return f;throw new Pn(901,!1)}}return(t=n).\u0275prov=Nn({token:t,providedIn:"root",factory:F1}),n})();function U1(){return new im([new L1])}let im=(()=>{var t;class n{constructor(i){this.factories=i}static create(i,f){if(f){const D=f.factories.slice();i=i.concat(D)}return new n(i)}static extend(i){return{provide:n,useFactory:f=>n.create(i,f||U1()),deps:[[n,new xa,new co]]}}find(i){const f=this.factories.find(D=>D.supports(i));if(f)return f;throw new Pn(901,!1)}}return(t=n).\u0275prov=Nn({token:t,providedIn:"root",factory:U1}),n})();const LI=D1(null,"core",[]);let FI=(()=>{var t;class n{constructor(i){}}return(t=n).\u0275fac=function(i){return new(i||t)(Zn(ts))},t.\u0275mod=rt({type:t}),t.\u0275inj=Kn({}),n})();const nw=new $n("");function bO(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function wO(t,n){ai("NgSignals");const r=function T(t){const n=Object.create(R);n.computation=t;const r=()=>{if(E(n),y(n),n.value===z)throw n.error;return n.value};return r[o]=n,r}(t);return null!=n&&n.equal&&(r[o].equal=n.equal),r}function EO(t){const n=oe(null);try{return t()}finally{oe(n)}}function AO(t,n){const r=Kt(t),i=n.elementInjector||tc();return new bu(r).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}function MO(t){const n=Kt(t);if(!n)return null;const r=new bu(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},4341:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{me:()=>h,YN:()=>bt,zX:()=>Go,VZ:()=>So,cz:()=>x,kq:()=>a,vO:()=>st,BC:()=>an,vS:()=>Yo});var j=fe(3953),O=fe(177),ge=fe(6648),Ie=fe(1985),o=fe(3073),oe=fe(8750),H=fe(9326),v=fe(4360),w=fe(6450),g=fe(8496),C=fe(1413),E=fe(6354);let s=(()=>{var we;class ae{constructor(ve,He){this._renderer=ve,this._elementRef=He,this.onChange=kt=>{},this.onTouched=()=>{}}setProperty(ve,He){this._renderer.setProperty(this._elementRef.nativeElement,ve,He)}registerOnTouched(ve){this.onTouched=ve}registerOnChange(ve){this.onChange=ve}setDisabledState(ve){this.setProperty("disabled",ve)}}return(we=ae).\u0275fac=function(ve){return new(ve||we)(j.rXU(j.sFG),j.rXU(j.aKT))},we.\u0275dir=j.FsC({type:we}),ae})(),u=(()=>{var we;class ae extends s{}return(we=ae).\u0275fac=(()=>{let Ee;return function(He){return(Ee||(Ee=j.xGo(we)))(He||we)}})(),we.\u0275dir=j.FsC({type:we,features:[j.Vt3]}),ae})();const a=new j.nKC(""),l={provide:a,useExisting:(0,j.Rfq)(()=>h),multi:!0},c=new j.nKC("");let h=(()=>{var we;class ae extends s{constructor(ve,He,kt){super(ve,He),this._compositionMode=kt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function m(){const we=(0,O.QT)()?(0,O.QT)().getUserAgent():"";return/android (\d+)/.test(we.toLowerCase())}())}writeValue(ve){this.setProperty("value",null==ve?"":ve)}_handleInput(ve){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ve)}_compositionStart(){this._composing=!0}_compositionEnd(ve){this._composing=!1,this._compositionMode&&this.onChange(ve)}}return(we=ae).\u0275fac=function(ve){return new(ve||we)(j.rXU(j.sFG),j.rXU(j.aKT),j.rXU(c,8))},we.\u0275dir=j.FsC({type:we,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ve,He){1&ve&&j.bIt("input",function(Gt){return He._handleInput(Gt.target.value)})("blur",function(){return He.onTouched()})("compositionstart",function(){return He._compositionStart()})("compositionend",function(Gt){return He._compositionEnd(Gt.target.value)})},features:[j.Jv_([l]),j.Vt3]}),ae})();function _(we){return null==we||("string"==typeof we||Array.isArray(we))&&0===we.length}const x=new j.nKC(""),A=new j.nKC("");function F(we){return null}function K(we){return null!=we}function ie(we){return(0,j.jNT)(we)?(0,ge.H)(we):we}function Te(we){let ae={};return we.forEach(Ee=>{ae=null!=Ee?{...ae,...Ee}:ae}),0===Object.keys(ae).length?null:ae}function q(we,ae){return ae.map(Ee=>Ee(we))}function ee(we){return we.map(ae=>function k(we){return!we.validate}(ae)?ae:Ee=>ae.validate(Ee))}function xe(we){return null!=we?function me(we){if(!we)return null;const ae=we.filter(K);return 0==ae.length?null:function(Ee){return Te(q(Ee,ae))}}(ee(we)):null}function Ye(we){return null!=we?function Ge(we){if(!we)return null;const ae=we.filter(K);return 0==ae.length?null:function(Ee){return function y(...we){const ae=(0,H.ms)(we),{args:Ee,keys:ve}=(0,o.D)(we),He=new Ie.c(kt=>{const{length:Gt}=Ee;if(!Gt)return void kt.complete();const en=new Array(Gt);let Bn=Gt,Nn=Gt;for(let Xn=0;Xn<Gt;Xn++){let Kn=!1;(0,oe.Tg)(Ee[Xn]).subscribe((0,v._)(kt,tr=>{Kn||(Kn=!0,Nn--),en[Xn]=tr},()=>Bn--,void 0,()=>{(!Bn||!Kn)&&(Nn||kt.next(ve?(0,g.e)(ve,en):en),kt.complete())}))}});return ae?He.pipe((0,w.I)(ae)):He}(q(Ee,ae).map(ie)).pipe((0,E.T)(Te))}}(ee(we)):null}function mt(we,ae){return null===we?[ae]:Array.isArray(we)?[...we,ae]:[we,ae]}function dt(we){return we?Array.isArray(we)?we:[we]:[]}function Ve(we,ae){return Array.isArray(we)?we.includes(ae):we===ae}function Qe(we,ae){const Ee=dt(ae);return dt(we).forEach(He=>{Ve(Ee,He)||Ee.push(He)}),Ee}function Ze(we,ae){return dt(ae).filter(Ee=>!Ve(we,Ee))}class at{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ae){this._rawValidators=ae||[],this._composedValidatorFn=xe(this._rawValidators)}_setAsyncValidators(ae){this._rawAsyncValidators=ae||[],this._composedAsyncValidatorFn=Ye(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ae){this._onDestroyCallbacks.push(ae)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ae=>ae()),this._onDestroyCallbacks=[]}reset(ae=void 0){this.control&&this.control.reset(ae)}hasError(ae,Ee){return!!this.control&&this.control.hasError(ae,Ee)}getError(ae,Ee){return this.control?this.control.getError(ae,Ee):null}}class et extends at{get formDirective(){return null}get path(){return null}}class st extends at{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Dt{constructor(ae){this._cd=ae}get isTouched(){var ae,Ee,ve;return null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||null===(Ee=ae._touched)||void 0===Ee||Ee.call(ae),!(null===(ve=this._cd)||void 0===ve||null===(ve=ve.control)||void 0===ve||!ve.touched)}get isUntouched(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.untouched)}get isPristine(){var ae,Ee,ve;return null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||null===(Ee=ae._pristine)||void 0===Ee||Ee.call(ae),!(null===(ve=this._cd)||void 0===ve||null===(ve=ve.control)||void 0===ve||!ve.pristine)}get isDirty(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.dirty)}get isValid(){var ae,Ee,ve;return null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||null===(Ee=ae._status)||void 0===Ee||Ee.call(ae),!(null===(ve=this._cd)||void 0===ve||null===(ve=ve.control)||void 0===ve||!ve.valid)}get isInvalid(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.invalid)}get isPending(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.pending)}get isSubmitted(){var ae,Ee,ve;return null===(ae=this._cd)||void 0===ae||null===(Ee=ae._submitted)||void 0===Ee||Ee.call(ae),!(null===(ve=this._cd)||void 0===ve||!ve.submitted)}}let an=(()=>{var we;class ae extends Dt{constructor(ve){super(ve)}}return(we=ae).\u0275fac=function(ve){return new(ve||we)(j.rXU(st,2))},we.\u0275dir=j.FsC({type:we,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ve,He){2&ve&&j.AVh("ng-untouched",He.isUntouched)("ng-touched",He.isTouched)("ng-pristine",He.isPristine)("ng-dirty",He.isDirty)("ng-valid",He.isValid)("ng-invalid",He.isInvalid)("ng-pending",He.isPending)},features:[j.Vt3]}),ae})();const ot="VALID",Ct="INVALID",vt="PENDING",Mt="DISABLED";class ln{}class gt extends ln{constructor(ae,Ee){super(),this.value=ae,this.source=Ee}}class St extends ln{constructor(ae,Ee){super(),this.pristine=ae,this.source=Ee}}class zt extends ln{constructor(ae,Ee){super(),this.touched=ae,this.source=Ee}}class Rt extends ln{constructor(ae,Ee){super(),this.status=ae,this.source=Ee}}function jn(we){return null!=we&&!Array.isArray(we)&&"object"==typeof we}class be{constructor(ae,Ee){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,j.EWP)(()=>this.statusReactive()),this.statusReactive=(0,j.vPA)(void 0),this._pristine=(0,j.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,j.vPA)(!0),this._touched=(0,j.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,j.vPA)(!1),this._events=new C.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(ae),this._assignAsyncValidators(Ee)}get validator(){return this._composedValidatorFn}set validator(ae){this._rawValidators=this._composedValidatorFn=ae}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ae){this._rawAsyncValidators=this._composedAsyncValidatorFn=ae}get parent(){return this._parent}get status(){return(0,j.O8t)(this.statusReactive)}set status(ae){(0,j.O8t)(()=>this.statusReactive.set(ae))}get valid(){return this.status===ot}get invalid(){return this.status===Ct}get pending(){return this.status==vt}get disabled(){return this.status===Mt}get enabled(){return this.status!==Mt}get pristine(){return(0,j.O8t)(this.pristineReactive)}set pristine(ae){(0,j.O8t)(()=>this.pristineReactive.set(ae))}get dirty(){return!this.pristine}get touched(){return(0,j.O8t)(this.touchedReactive)}set touched(ae){(0,j.O8t)(()=>this.touchedReactive.set(ae))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ae){this._assignValidators(ae)}setAsyncValidators(ae){this._assignAsyncValidators(ae)}addValidators(ae){this.setValidators(Qe(ae,this._rawValidators))}addAsyncValidators(ae){this.setAsyncValidators(Qe(ae,this._rawAsyncValidators))}removeValidators(ae){this.setValidators(Ze(ae,this._rawValidators))}removeAsyncValidators(ae){this.setAsyncValidators(Ze(ae,this._rawAsyncValidators))}hasValidator(ae){return Ve(this._rawValidators,ae)}hasAsyncValidator(ae){return Ve(this._rawAsyncValidators,ae)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ae={}){var Ee;const ve=!1===this.touched;this.touched=!0;const He=null!==(Ee=ae.sourceControl)&&void 0!==Ee?Ee:this;this._parent&&!ae.onlySelf&&this._parent.markAsTouched({...ae,sourceControl:He}),ve&&!1!==ae.emitEvent&&this._events.next(new zt(!0,He))}markAllAsTouched(ae={}){this.markAsTouched({onlySelf:!0,emitEvent:ae.emitEvent,sourceControl:this}),this._forEachChild(Ee=>Ee.markAllAsTouched(ae))}markAsUntouched(ae={}){var Ee;const ve=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const He=null!==(Ee=ae.sourceControl)&&void 0!==Ee?Ee:this;this._forEachChild(kt=>{kt.markAsUntouched({onlySelf:!0,emitEvent:ae.emitEvent,sourceControl:He})}),this._parent&&!ae.onlySelf&&this._parent._updateTouched(ae,He),ve&&!1!==ae.emitEvent&&this._events.next(new zt(!1,He))}markAsDirty(ae={}){var Ee;const ve=!0===this.pristine;this.pristine=!1;const He=null!==(Ee=ae.sourceControl)&&void 0!==Ee?Ee:this;this._parent&&!ae.onlySelf&&this._parent.markAsDirty({...ae,sourceControl:He}),ve&&!1!==ae.emitEvent&&this._events.next(new St(!1,He))}markAsPristine(ae={}){var Ee;const ve=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const He=null!==(Ee=ae.sourceControl)&&void 0!==Ee?Ee:this;this._forEachChild(kt=>{kt.markAsPristine({onlySelf:!0,emitEvent:ae.emitEvent})}),this._parent&&!ae.onlySelf&&this._parent._updatePristine(ae,He),ve&&!1!==ae.emitEvent&&this._events.next(new St(!0,He))}markAsPending(ae={}){var Ee;this.status=vt;const ve=null!==(Ee=ae.sourceControl)&&void 0!==Ee?Ee:this;!1!==ae.emitEvent&&(this._events.next(new Rt(this.status,ve)),this.statusChanges.emit(this.status)),this._parent&&!ae.onlySelf&&this._parent.markAsPending({...ae,sourceControl:ve})}disable(ae={}){var Ee;const ve=this._parentMarkedDirty(ae.onlySelf);this.status=Mt,this.errors=null,this._forEachChild(kt=>{kt.disable({...ae,onlySelf:!0})}),this._updateValue();const He=null!==(Ee=ae.sourceControl)&&void 0!==Ee?Ee:this;!1!==ae.emitEvent&&(this._events.next(new gt(this.value,He)),this._events.next(new Rt(this.status,He)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ae,skipPristineCheck:ve},this),this._onDisabledChange.forEach(kt=>kt(!0))}enable(ae={}){const Ee=this._parentMarkedDirty(ae.onlySelf);this.status=ot,this._forEachChild(ve=>{ve.enable({...ae,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ae.emitEvent}),this._updateAncestors({...ae,skipPristineCheck:Ee},this),this._onDisabledChange.forEach(ve=>ve(!1))}_updateAncestors(ae,Ee){this._parent&&!ae.onlySelf&&(this._parent.updateValueAndValidity(ae),ae.skipPristineCheck||this._parent._updatePristine({},Ee),this._parent._updateTouched({},Ee))}setParent(ae){this._parent=ae}getRawValue(){return this.value}updateValueAndValidity(ae={}){var Ee;if(this._setInitialStatus(),this._updateValue(),this.enabled){const He=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ot||this.status===vt)&&this._runAsyncValidator(He,ae.emitEvent)}const ve=null!==(Ee=ae.sourceControl)&&void 0!==Ee?Ee:this;!1!==ae.emitEvent&&(this._events.next(new gt(this.value,ve)),this._events.next(new Rt(this.status,ve)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ae.onlySelf&&this._parent.updateValueAndValidity({...ae,sourceControl:ve})}_updateTreeValidity(ae={emitEvent:!0}){this._forEachChild(Ee=>Ee._updateTreeValidity(ae)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ae.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mt:ot}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ae,Ee){if(this.asyncValidator){this.status=vt,this._hasOwnPendingAsyncValidator={emitEvent:!1!==Ee};const ve=ie(this.asyncValidator(this));this._asyncValidationSubscription=ve.subscribe(He=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(He,{emitEvent:Ee,shouldHaveEmitted:ae})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var ae,Ee;this._asyncValidationSubscription.unsubscribe();const ve=null!==(ae=null===(Ee=this._hasOwnPendingAsyncValidator)||void 0===Ee?void 0:Ee.emitEvent)&&void 0!==ae&&ae;return this._hasOwnPendingAsyncValidator=null,ve}return!1}setErrors(ae,Ee={}){this.errors=ae,this._updateControlsErrors(!1!==Ee.emitEvent,this,Ee.shouldHaveEmitted)}get(ae){let Ee=ae;return null==Ee||(Array.isArray(Ee)||(Ee=Ee.split(".")),0===Ee.length)?null:Ee.reduce((ve,He)=>ve&&ve._find(He),this)}getError(ae,Ee){const ve=Ee?this.get(Ee):this;return ve&&ve.errors?ve.errors[ae]:null}hasError(ae,Ee){return!!this.getError(ae,Ee)}get root(){let ae=this;for(;ae._parent;)ae=ae._parent;return ae}_updateControlsErrors(ae,Ee,ve){this.status=this._calculateStatus(),ae&&this.statusChanges.emit(this.status),(ae||ve)&&this._events.next(new Rt(this.status,Ee)),this._parent&&this._parent._updateControlsErrors(ae,Ee,ve)}_initObservables(){this.valueChanges=new j.bkB,this.statusChanges=new j.bkB}_calculateStatus(){return this._allControlsDisabled()?Mt:this.errors?Ct:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vt)?vt:this._anyControlsHaveStatus(Ct)?Ct:ot}_anyControlsHaveStatus(ae){return this._anyControls(Ee=>Ee.status===ae)}_anyControlsDirty(){return this._anyControls(ae=>ae.dirty)}_anyControlsTouched(){return this._anyControls(ae=>ae.touched)}_updatePristine(ae,Ee){const ve=!this._anyControlsDirty(),He=this.pristine!==ve;this.pristine=ve,this._parent&&!ae.onlySelf&&this._parent._updatePristine(ae,Ee),He&&this._events.next(new St(this.pristine,Ee))}_updateTouched(ae={},Ee){this.touched=this._anyControlsTouched(),this._events.next(new zt(this.touched,Ee)),this._parent&&!ae.onlySelf&&this._parent._updateTouched(ae,Ee)}_registerOnCollectionChange(ae){this._onCollectionChange=ae}_setUpdateStrategy(ae){jn(ae)&&null!=ae.updateOn&&(this._updateOn=ae.updateOn)}_parentMarkedDirty(ae){return!ae&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ae){return null}_assignValidators(ae){this._rawValidators=Array.isArray(ae)?ae.slice():ae,this._composedValidatorFn=function Tn(we){return Array.isArray(we)?xe(we):we||null}(this._rawValidators)}_assignAsyncValidators(ae){this._rawAsyncValidators=Array.isArray(ae)?ae.slice():ae,this._composedAsyncValidatorFn=function Ln(we){return Array.isArray(we)?Ye(we):we||null}(this._rawAsyncValidators)}}const W=new j.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>ye}),ye="always";function Xe(we,ae,Ee=ye){var ve,He;(function Be(we,ae){const Ee=function We(we){return we._rawValidators}(we);null!==ae.validator?we.setValidators(mt(Ee,ae.validator)):"function"==typeof Ee&&we.setValidators([Ee]);const ve=function ct(we){return we._rawAsyncValidators}(we);null!==ae.asyncValidator?we.setAsyncValidators(mt(ve,ae.asyncValidator)):"function"==typeof ve&&we.setAsyncValidators([ve]);const He=()=>we.updateValueAndValidity();ke(ae._rawValidators,He),ke(ae._rawAsyncValidators,He)})(we,ae),ae.valueAccessor.writeValue(we.value),(we.disabled||"always"===Ee)&&(null===(ve=(He=ae.valueAccessor).setDisabledState)||void 0===ve||ve.call(He,we.disabled)),function Nt(we,ae){ae.valueAccessor.registerOnChange(Ee=>{we._pendingValue=Ee,we._pendingChange=!0,we._pendingDirty=!0,"change"===we.updateOn&&dn(we,ae)})}(we,ae),function Sn(we,ae){const Ee=(ve,He)=>{ae.valueAccessor.writeValue(ve),He&&ae.viewToModelUpdate(ve)};we.registerOnChange(Ee),ae._registerOnDestroy(()=>{we._unregisterOnChange(Ee)})}(we,ae),function nn(we,ae){ae.valueAccessor.registerOnTouched(()=>{we._pendingTouched=!0,"blur"===we.updateOn&&we._pendingChange&&dn(we,ae),"submit"!==we.updateOn&&we.markAsTouched()})}(we,ae),function lt(we,ae){if(ae.valueAccessor.setDisabledState){const Ee=ve=>{ae.valueAccessor.setDisabledState(ve)};we.registerOnDisabledChange(Ee),ae._registerOnDestroy(()=>{we._unregisterOnDisabledChange(Ee)})}}(we,ae)}function ke(we,ae){we.forEach(Ee=>{Ee.registerOnValidatorChange&&Ee.registerOnValidatorChange(ae)})}function dn(we,ae){we._pendingDirty&&we.markAsDirty(),we.setValue(we._pendingValue,{emitModelToViewChange:!1}),ae.viewToModelUpdate(we._pendingValue),we._pendingChange=!1}function Vo(we,ae){const Ee=we.indexOf(ae);Ee>-1&&we.splice(Ee,1)}function oo(we){return"object"==typeof we&&null!==we&&2===Object.keys(we).length&&"value"in we&&"disabled"in we}Promise.resolve();const ci=class extends be{constructor(ae=null,Ee,ve){super(function bn(we){return(jn(we)?we.validators:we)||null}(Ee),function An(we,ae){return(jn(ae)?ae.asyncValidators:we)||null}(ve,Ee)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ae),this._setUpdateStrategy(Ee),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jn(Ee)&&(Ee.nonNullable||Ee.initialValueIsDefault)&&(this.defaultValue=oo(ae)?ae.value:ae)}setValue(ae,Ee={}){this.value=this._pendingValue=ae,this._onChange.length&&!1!==Ee.emitModelToViewChange&&this._onChange.forEach(ve=>ve(this.value,!1!==Ee.emitViewToModelChange)),this.updateValueAndValidity(Ee)}patchValue(ae,Ee={}){this.setValue(ae,Ee)}reset(ae=this.defaultValue,Ee={}){this._applyFormState(ae),this.markAsPristine(Ee),this.markAsUntouched(Ee),this.setValue(this.value,Ee),this._pendingChange=!1}_updateValue(){}_anyControls(ae){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ae){this._onChange.push(ae)}_unregisterOnChange(ae){Vo(this._onChange,ae)}registerOnDisabledChange(ae){this._onDisabledChange.push(ae)}_unregisterOnDisabledChange(ae){Vo(this._onDisabledChange,ae)}_forEachChild(ae){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ae){oo(ae)?(this.value=this._pendingValue=ae.value,ae.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ae}},mo={provide:st,useExisting:(0,j.Rfq)(()=>Yo)},ti=Promise.resolve();let Yo=(()=>{var we;class ae extends st{constructor(ve,He,kt,Gt,en,Bn){super(),this._changeDetectorRef=en,this.callSetDisabledState=Bn,this.control=new ci,this._registered=!1,this.name="",this.update=new j.bkB,this._parent=ve,this._setValidators(He),this._setAsyncValidators(kt),this.valueAccessor=function eo(we,ae){if(!ae)return null;let Ee,ve,He;return Array.isArray(ae),ae.forEach(kt=>{kt.constructor===h?Ee=kt:function Lr(we){return Object.getPrototypeOf(we.constructor)===u}(kt)?ve=kt:He=kt}),He||ve||Ee||null}(0,Gt)}ngOnChanges(ve){if(this._checkForErrors(),!this._registered||"name"in ve){if(this._registered&&(this._checkName(),this.formDirective)){const He=ve.name.previousValue;this.formDirective.removeControl({name:He,path:this._getPath(He)})}this._setUpControl()}"isDisabled"in ve&&this._updateDisabled(ve),function Sr(we,ae){if(!we.hasOwnProperty("model"))return!1;const Ee=we.model;return!!Ee.isFirstChange()||!Object.is(ae,Ee.currentValue)}(ve,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ve){this.viewModel=ve,this.update.emit(ve)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xe(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ve){ti.then(()=>{var He;this.control.setValue(ve,{emitViewToModelChange:!1}),null===(He=this._changeDetectorRef)||void 0===He||He.markForCheck()})}_updateDisabled(ve){const He=ve.isDisabled.currentValue,kt=0!==He&&(0,j.L39)(He);ti.then(()=>{var Gt;kt&&!this.control.disabled?this.control.disable():!kt&&this.control.disabled&&this.control.enable(),null===(Gt=this._changeDetectorRef)||void 0===Gt||Gt.markForCheck()})}_getPath(ve){return this._parent?function Me(we,ae){return[...ae.path,we]}(ve,this._parent):[ve]}}return(we=ae).\u0275fac=function(ve){return new(ve||we)(j.rXU(et,9),j.rXU(x,10),j.rXU(A,10),j.rXU(a,10),j.rXU(j.gRc,8),j.rXU(W,8))},we.\u0275dir=j.FsC({type:we,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[j.Jv_([mo]),j.Vt3,j.OA$]}),ae})();function ho(we){return"number"==typeof we?we:parseFloat(we)}let Ur=(()=>{var we;class ae{constructor(){this._validator=F}ngOnChanges(ve){if(this.inputName in ve){const He=this.normalizeInput(ve[this.inputName].currentValue);this._enabled=this.enabled(He),this._validator=this._enabled?this.createValidator(He):F,this._onChange&&this._onChange()}}validate(ve){return this._validator(ve)}registerOnValidatorChange(ve){this._onChange=ve}enabled(ve){return null!=ve}}return(we=ae).\u0275fac=function(ve){return new(ve||we)},we.\u0275dir=j.FsC({type:we,features:[j.OA$]}),ae})();const Vn={provide:x,useExisting:(0,j.Rfq)(()=>Go),multi:!0};let Go=(()=>{var we;class ae extends Ur{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=ve=>ho(ve),this.createValidator=ve=>function z(we){return ae=>{if(_(ae.value)||_(we))return null;const Ee=parseFloat(ae.value);return!isNaN(Ee)&&Ee>we?{max:{max:we,actual:ae.value}}:null}}(ve)}}return(we=ae).\u0275fac=(()=>{let Ee;return function(He){return(Ee||(Ee=j.xGo(we)))(He||we)}})(),we.\u0275dir=j.FsC({type:we,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(ve,He){2&ve&&j.BMQ("max",He._enabled?He.max:null)},inputs:{max:"max"},features:[j.Jv_([Vn]),j.Vt3]}),ae})();const Jo={provide:x,useExisting:(0,j.Rfq)(()=>So),multi:!0};let So=(()=>{var we;class ae extends Ur{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=ve=>ho(ve),this.createValidator=ve=>function I(we){return ae=>{if(_(ae.value)||_(we))return null;const Ee=parseFloat(ae.value);return!isNaN(Ee)&&Ee<we?{min:{min:we,actual:ae.value}}:null}}(ve)}}return(we=ae).\u0275fac=(()=>{let Ee;return function(He){return(Ee||(Ee=j.xGo(we)))(He||we)}})(),we.\u0275dir=j.FsC({type:we,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ve,He){2&ve&&j.BMQ("min",He._enabled?He.min:null)},inputs:{min:"min"},features:[j.Jv_([Jo]),j.Vt3]}),ae})(),S=(()=>{var we;class ae{}return(we=ae).\u0275fac=function(ve){return new(ve||we)},we.\u0275mod=j.$C({type:we}),we.\u0275inj=j.G2t({}),ae})(),bt=(()=>{var we;class ae{static withConfig(ve){var He;return{ngModule:ae,providers:[{provide:W,useValue:null!==(He=ve.callSetDisabledState)&&void 0!==He?He:ye}]}}}return(we=ae).\u0275fac=function(ve){return new(ve||we)},we.\u0275mod=j.$C({type:we}),we.\u0275inj=j.G2t({imports:[S]}),ae})()},345:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{Bb:()=>dt,hE:()=>Ze,sG:()=>Ye,up:()=>ze});var j=fe(177),O=fe(3953);class ge extends j.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ie extends ge{static makeCurrent(){(0,j.ZD)(new Ie)}onAndCancel(ot,Ct,vt){return ot.addEventListener(Ct,vt),()=>{ot.removeEventListener(Ct,vt)}}dispatchEvent(ot,Ct){ot.dispatchEvent(Ct)}remove(ot){ot.parentNode&&ot.parentNode.removeChild(ot)}createElement(ot,Ct){return(Ct=Ct||this.getDefaultDocument()).createElement(ot)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ot){return ot.nodeType===Node.ELEMENT_NODE}isShadowRoot(ot){return ot instanceof DocumentFragment}getGlobalEventTarget(ot,Ct){return"window"===Ct?window:"document"===Ct?ot:"body"===Ct?ot.body:null}getBaseHref(ot){const Ct=function oe(){return o=o||document.querySelector("base"),o?o.getAttribute("href"):null}();return null==Ct?null:function H(tt){return new URL(tt,document.baseURI).pathname}(Ct)}resetBaseElement(){o=null}getUserAgent(){return window.navigator.userAgent}getCookie(ot){return(0,j._b)(document.cookie,ot)}}let o=null,w=(()=>{var tt;class ot{build(){return new XMLHttpRequest}}return(tt=ot).\u0275fac=function(vt){return new(vt||tt)},tt.\u0275prov=O.jDH({token:tt,factory:tt.\u0275fac}),ot})();const g=new O.nKC("");let y=(()=>{var tt;class ot{constructor(vt,Mt){this._zone=Mt,this._eventNameToPlugin=new Map,vt.forEach(ln=>{ln.manager=this}),this._plugins=vt.slice().reverse()}addEventListener(vt,Mt,ln){return this._findPluginFor(Mt).addEventListener(vt,Mt,ln)}getZone(){return this._zone}_findPluginFor(vt){let Mt=this._eventNameToPlugin.get(vt);if(Mt)return Mt;if(Mt=this._plugins.find(gt=>gt.supports(vt)),!Mt)throw new O.wOt(5101,!1);return this._eventNameToPlugin.set(vt,Mt),Mt}}return(tt=ot).\u0275fac=function(vt){return new(vt||tt)(O.KVO(g),O.KVO(O.SKi))},tt.\u0275prov=O.jDH({token:tt,factory:tt.\u0275fac}),ot})();class C{constructor(ot){this._doc=ot}}const E="ng-app-id";let s=(()=>{var tt;class ot{constructor(vt,Mt,ln,gt={}){this.doc=vt,this.appId=Mt,this.nonce=ln,this.platformId=gt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,j.Vy)(gt),this.resetHostNodes()}addStyles(vt){for(const Mt of vt)1===this.changeUsageCount(Mt,1)&&this.onStyleAdded(Mt)}removeStyles(vt){for(const Mt of vt)this.changeUsageCount(Mt,-1)<=0&&this.onStyleRemoved(Mt)}ngOnDestroy(){const vt=this.styleNodesInDOM;vt&&(vt.forEach(Mt=>Mt.remove()),vt.clear());for(const Mt of this.getAllStyles())this.onStyleRemoved(Mt);this.resetHostNodes()}addHost(vt){this.hostNodes.add(vt);for(const Mt of this.getAllStyles())this.addStyleToHost(vt,Mt)}removeHost(vt){this.hostNodes.delete(vt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(vt){for(const Mt of this.hostNodes)this.addStyleToHost(Mt,vt)}onStyleRemoved(vt){var Mt;const ln=this.styleRef;null===(Mt=ln.get(vt))||void 0===Mt||null===(Mt=Mt.elements)||void 0===Mt||Mt.forEach(gt=>gt.remove()),ln.delete(vt)}collectServerRenderedStyles(){var vt;const Mt=null===(vt=this.doc.head)||void 0===vt?void 0:vt.querySelectorAll(`style[${E}="${this.appId}"]`);if(null!=Mt&&Mt.length){const ln=new Map;return Mt.forEach(gt=>{null!=gt.textContent&&ln.set(gt.textContent,gt)}),ln}return null}changeUsageCount(vt,Mt){const ln=this.styleRef;if(ln.has(vt)){const gt=ln.get(vt);return gt.usage+=Mt,gt.usage}return ln.set(vt,{usage:Mt,elements:[]}),Mt}getStyleElement(vt,Mt){const ln=this.styleNodesInDOM,gt=null==ln?void 0:ln.get(Mt);if((null==gt?void 0:gt.parentNode)===vt)return ln.delete(Mt),gt.removeAttribute(E),gt;{const St=this.doc.createElement("style");return this.nonce&&St.setAttribute("nonce",this.nonce),St.textContent=Mt,this.platformIsServer&&St.setAttribute(E,this.appId),vt.appendChild(St),St}}addStyleToHost(vt,Mt){var ln;const gt=this.getStyleElement(vt,Mt),St=this.styleRef,zt=null===(ln=St.get(Mt))||void 0===ln?void 0:ln.elements;zt?zt.push(gt):St.set(Mt,{elements:[gt],usage:1})}resetHostNodes(){const vt=this.hostNodes;vt.clear(),vt.add(this.doc.head)}}return(tt=ot).\u0275fac=function(vt){return new(vt||tt)(O.KVO(j.qQ),O.KVO(O.sZ2),O.KVO(O.BIS,8),O.KVO(O.Agw))},tt.\u0275prov=O.jDH({token:tt,factory:tt.\u0275fac}),ot})();const u={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},a=/%COMP%/g,d="%COMP%",p=`_nghost-${d}`,l=`_ngcontent-${d}`,c=new O.nKC("",{providedIn:"root",factory:()=>!0});function M(tt,ot){return ot.map(Ct=>Ct.replace(a,tt))}let x=(()=>{var tt;class ot{constructor(vt,Mt,ln,gt,St,zt,Rt,tn=null){this.eventManager=vt,this.sharedStylesHost=Mt,this.appId=ln,this.removeStylesOnCompDestroy=gt,this.doc=St,this.platformId=zt,this.ngZone=Rt,this.nonce=tn,this.rendererByCompId=new Map,this.platformIsServer=(0,j.Vy)(zt),this.defaultRenderer=new A(vt,St,Rt,this.platformIsServer)}createRenderer(vt,Mt){if(!vt||!Mt)return this.defaultRenderer;this.platformIsServer&&Mt.encapsulation===O.gXe.ShadowDom&&(Mt={...Mt,encapsulation:O.gXe.Emulated});const ln=this.getOrCreateRenderer(vt,Mt);return ln instanceof Q?ln.applyToHost(vt):ln instanceof R&&ln.applyStyles(),ln}getOrCreateRenderer(vt,Mt){const ln=this.rendererByCompId;let gt=ln.get(Mt.id);if(!gt){const St=this.doc,zt=this.ngZone,Rt=this.eventManager,tn=this.sharedStylesHost,fn=this.removeStylesOnCompDestroy,bn=this.platformIsServer;switch(Mt.encapsulation){case O.gXe.Emulated:gt=new Q(Rt,tn,Mt,this.appId,fn,St,zt,bn);break;case O.gXe.ShadowDom:return new z(Rt,tn,vt,Mt,St,zt,this.nonce,bn);default:gt=new R(Rt,tn,Mt,fn,St,zt,bn)}ln.set(Mt.id,gt)}return gt}ngOnDestroy(){this.rendererByCompId.clear()}}return(tt=ot).\u0275fac=function(vt){return new(vt||tt)(O.KVO(y),O.KVO(s),O.KVO(O.sZ2),O.KVO(c),O.KVO(j.qQ),O.KVO(O.Agw),O.KVO(O.SKi),O.KVO(O.BIS))},tt.\u0275prov=O.jDH({token:tt,factory:tt.\u0275fac}),ot})();class A{constructor(ot,Ct,vt,Mt){this.eventManager=ot,this.doc=Ct,this.ngZone=vt,this.platformIsServer=Mt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(ot,Ct){return Ct?this.doc.createElementNS(u[Ct]||Ct,ot):this.doc.createElement(ot)}createComment(ot){return this.doc.createComment(ot)}createText(ot){return this.doc.createTextNode(ot)}appendChild(ot,Ct){(I(ot)?ot.content:ot).appendChild(Ct)}insertBefore(ot,Ct,vt){ot&&(I(ot)?ot.content:ot).insertBefore(Ct,vt)}removeChild(ot,Ct){ot&&ot.removeChild(Ct)}selectRootElement(ot,Ct){let vt="string"==typeof ot?this.doc.querySelector(ot):ot;if(!vt)throw new O.wOt(-5104,!1);return Ct||(vt.textContent=""),vt}parentNode(ot){return ot.parentNode}nextSibling(ot){return ot.nextSibling}setAttribute(ot,Ct,vt,Mt){if(Mt){Ct=Mt+":"+Ct;const ln=u[Mt];ln?ot.setAttributeNS(ln,Ct,vt):ot.setAttribute(Ct,vt)}else ot.setAttribute(Ct,vt)}removeAttribute(ot,Ct,vt){if(vt){const Mt=u[vt];Mt?ot.removeAttributeNS(Mt,Ct):ot.removeAttribute(`${vt}:${Ct}`)}else ot.removeAttribute(Ct)}addClass(ot,Ct){ot.classList.add(Ct)}removeClass(ot,Ct){ot.classList.remove(Ct)}setStyle(ot,Ct,vt,Mt){Mt&(O.czy.DashCase|O.czy.Important)?ot.style.setProperty(Ct,vt,Mt&O.czy.Important?"important":""):ot.style[Ct]=vt}removeStyle(ot,Ct,vt){vt&O.czy.DashCase?ot.style.removeProperty(Ct):ot.style[Ct]=""}setProperty(ot,Ct,vt){null!=ot&&(ot[Ct]=vt)}setValue(ot,Ct){ot.nodeValue=Ct}listen(ot,Ct,vt){if("string"==typeof ot&&!(ot=(0,j.QT)().getGlobalEventTarget(this.doc,ot)))throw new Error(`Unsupported event target ${ot} for event ${Ct}`);return this.eventManager.addEventListener(ot,Ct,this.decoratePreventDefault(vt))}decoratePreventDefault(ot){return Ct=>{if("__ngUnwrap__"===Ct)return ot;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ot(Ct)):ot(Ct))&&Ct.preventDefault()}}}function I(tt){return"TEMPLATE"===tt.tagName&&void 0!==tt.content}class z extends A{constructor(ot,Ct,vt,Mt,ln,gt,St,zt){super(ot,ln,gt,zt),this.sharedStylesHost=Ct,this.hostEl=vt,this.shadowRoot=vt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Rt=M(Mt.id,Mt.styles);for(const tn of Rt){const fn=document.createElement("style");St&&fn.setAttribute("nonce",St),fn.textContent=tn,this.shadowRoot.appendChild(fn)}}nodeOrShadowRoot(ot){return ot===this.hostEl?this.shadowRoot:ot}appendChild(ot,Ct){return super.appendChild(this.nodeOrShadowRoot(ot),Ct)}insertBefore(ot,Ct,vt){return super.insertBefore(this.nodeOrShadowRoot(ot),Ct,vt)}removeChild(ot,Ct){return super.removeChild(this.nodeOrShadowRoot(ot),Ct)}parentNode(ot){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ot)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class R extends A{constructor(ot,Ct,vt,Mt,ln,gt,St,zt){super(ot,ln,gt,St),this.sharedStylesHost=Ct,this.removeStylesOnCompDestroy=Mt,this.styles=zt?M(zt,vt.styles):vt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Q extends R{constructor(ot,Ct,vt,Mt,ln,gt,St,zt){const Rt=Mt+"-"+vt.id;super(ot,Ct,vt,ln,gt,St,zt,Rt),this.contentAttr=function h(tt){return l.replace(a,tt)}(Rt),this.hostAttr=function _(tt){return p.replace(a,tt)}(Rt)}applyToHost(ot){this.applyStyles(),this.setAttribute(ot,this.hostAttr,"")}createElement(ot,Ct){const vt=super.createElement(ot,Ct);return super.setAttribute(vt,this.contentAttr,""),vt}}let ne=(()=>{var tt;class ot extends C{constructor(vt){super(vt)}supports(vt){return!0}addEventListener(vt,Mt,ln){return vt.addEventListener(Mt,ln,!1),()=>this.removeEventListener(vt,Mt,ln)}removeEventListener(vt,Mt,ln){return vt.removeEventListener(Mt,ln)}}return(tt=ot).\u0275fac=function(vt){return new(vt||tt)(O.KVO(j.qQ))},tt.\u0275prov=O.jDH({token:tt,factory:tt.\u0275fac}),ot})(),V=(()=>{var tt;class ot extends C{constructor(vt){super(vt),this.delegate=(0,O.WQX)(O.zAP,{optional:!0})}supports(vt){return!!this.delegate&&this.delegate.supports(vt)}addEventListener(vt,Mt,ln){return this.delegate.addEventListener(vt,Mt,ln)}removeEventListener(vt,Mt,ln){return this.delegate.removeEventListener(vt,Mt,ln)}}return(tt=ot).\u0275fac=function(vt){return new(vt||tt)(O.KVO(j.qQ))},tt.\u0275prov=O.jDH({token:tt,factory:tt.\u0275fac}),ot})();const X=["alt","control","meta","shift"],U={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},F={alt:tt=>tt.altKey,control:tt=>tt.ctrlKey,meta:tt=>tt.metaKey,shift:tt=>tt.shiftKey};let K=(()=>{var tt;class ot extends C{constructor(vt){super(vt)}supports(vt){return null!=ot.parseEventName(vt)}addEventListener(vt,Mt,ln){const gt=ot.parseEventName(Mt),St=ot.eventCallback(gt.fullKey,ln,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,j.QT)().onAndCancel(vt,gt.domEventName,St))}static parseEventName(vt){const Mt=vt.toLowerCase().split("."),ln=Mt.shift();if(0===Mt.length||"keydown"!==ln&&"keyup"!==ln)return null;const gt=ot._normalizeKey(Mt.pop());let St="",zt=Mt.indexOf("code");if(zt>-1&&(Mt.splice(zt,1),St="code."),X.forEach(tn=>{const fn=Mt.indexOf(tn);fn>-1&&(Mt.splice(fn,1),St+=tn+".")}),St+=gt,0!=Mt.length||0===gt.length)return null;const Rt={};return Rt.domEventName=ln,Rt.fullKey=St,Rt}static matchEventFullKeyCode(vt,Mt){let ln=U[vt.key]||vt.key,gt="";return Mt.indexOf("code.")>-1&&(ln=vt.code,gt="code."),!(null==ln||!ln)&&(ln=ln.toLowerCase()," "===ln?ln="space":"."===ln&&(ln="dot"),X.forEach(St=>{St!==ln&&(0,F[St])(vt)&&(gt+=St+".")}),gt+=ln,gt===Mt)}static eventCallback(vt,Mt,ln){return gt=>{ot.matchEventFullKeyCode(gt,vt)&&ln.runGuarded(()=>Mt(gt))}}static _normalizeKey(vt){return"esc"===vt?"escape":vt}}return(tt=ot).\u0275fac=function(vt){return new(vt||tt)(O.KVO(j.qQ))},tt.\u0275prov=O.jDH({token:tt,factory:tt.\u0275fac}),ot})();const Ye=(0,O.oH4)(O.fpN,"browser",[{provide:O.Agw,useValue:j.AJ},{provide:O.PLl,useValue:function ee(){Ie.makeCurrent()},multi:!0},{provide:j.qQ,useFactory:function xe(){return(0,O.TL$)(document),document},deps:[]}]),mt=new O.nKC(""),We=[{provide:O.e01,useClass:class v{addToWindow(ot){O.JZv.getAngularTestability=(vt,Mt=!0)=>{const ln=ot.findTestabilityInTree(vt,Mt);if(null==ln)throw new O.wOt(5103,!1);return ln},O.JZv.getAllAngularTestabilities=()=>ot.getAllTestabilities(),O.JZv.getAllAngularRootElements=()=>ot.getAllRootElements(),O.JZv.frameworkStabilizers||(O.JZv.frameworkStabilizers=[]),O.JZv.frameworkStabilizers.push(vt=>{const Mt=O.JZv.getAllAngularTestabilities();let ln=Mt.length;const gt=function(){ln--,0==ln&&vt()};Mt.forEach(St=>{St.whenStable(gt)})})}findTestabilityInTree(ot,Ct,vt){if(null==Ct)return null;const Mt=ot.getTestability(Ct);return null!=Mt?Mt:vt?(0,j.QT)().isShadowRoot(Ct)?this.findTestabilityInTree(ot,Ct.host,!0):this.findTestabilityInTree(ot,Ct.parentElement,!0):null}},deps:[]},{provide:O.WHO,useClass:O.NYb,deps:[O.SKi,O.giA,O.e01]},{provide:O.NYb,useClass:O.NYb,deps:[O.SKi,O.giA,O.e01]}],ct=[{provide:O.H8p,useValue:"root"},{provide:O.zcH,useFactory:function me(){return new O.zcH},deps:[]},{provide:g,useClass:ne,multi:!0,deps:[j.qQ,O.SKi,O.Agw]},{provide:g,useClass:K,multi:!0,deps:[j.qQ]},{provide:g,useClass:V,multi:!0},x,s,y,{provide:O._9s,useExisting:x},{provide:j.N0,useClass:w,deps:[]},[]];let dt=(()=>{var tt;class ot{constructor(vt){}static withServerTransition(vt){return{ngModule:ot,providers:[{provide:O.sZ2,useValue:vt.appId}]}}}return(tt=ot).\u0275fac=function(vt){return new(vt||tt)(O.KVO(mt,12))},tt.\u0275mod=O.$C({type:tt}),tt.\u0275inj=O.G2t({providers:[...ct,...We],imports:[j.MD,O.Hbi]}),ot})(),Ze=(()=>{var tt;class ot{constructor(vt){this._doc=vt}getTitle(){return this._doc.title}setTitle(vt){this._doc.title=vt||""}}return(tt=ot).\u0275fac=function(vt){return new(vt||tt)(O.KVO(j.qQ))},tt.\u0275prov=O.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"}),ot})(),ze=(()=>{var tt;class ot{}return(tt=ot).\u0275fac=function(vt){return new(vt||tt)},tt.\u0275prov=O.jDH({token:tt,factory:function(vt){let Mt=null;return Mt=vt?new(vt||tt):O.KVO($e),Mt},providedIn:"root"}),ot})(),$e=(()=>{var tt;class ot extends ze{constructor(vt){super(),this._doc=vt}sanitize(vt,Mt){if(null==Mt)return null;switch(vt){case O.WPN.NONE:return Mt;case O.WPN.HTML:return(0,O.ZF7)(Mt,"HTML")?(0,O.rcV)(Mt):(0,O.h9k)(this._doc,String(Mt)).toString();case O.WPN.STYLE:return(0,O.ZF7)(Mt,"Style")?(0,O.rcV)(Mt):Mt;case O.WPN.SCRIPT:if((0,O.ZF7)(Mt,"Script"))return(0,O.rcV)(Mt);throw new O.wOt(5200,!1);case O.WPN.URL:return(0,O.ZF7)(Mt,"URL")?(0,O.rcV)(Mt):(0,O.$MX)(String(Mt));case O.WPN.RESOURCE_URL:if((0,O.ZF7)(Mt,"ResourceURL"))return(0,O.rcV)(Mt);throw new O.wOt(5201,!1);default:throw new O.wOt(5202,!1)}}bypassSecurityTrustHtml(vt){return(0,O.Kcf)(vt)}bypassSecurityTrustStyle(vt){return(0,O.cWb)(vt)}bypassSecurityTrustScript(vt){return(0,O.UyX)(vt)}bypassSecurityTrustUrl(vt){return(0,O.osQ)(vt)}bypassSecurityTrustResourceUrl(vt){return(0,O.e5t)(vt)}}return(tt=ot).\u0275fac=function(vt){return new(vt||tt)(O.KVO(j.qQ))},tt.\u0275prov=O.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"}),ot})()},9858:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{nX:()=>Fn,Zp:()=>Tt,Z:()=>Vr,Xk:()=>We,Kp:()=>Os,b:()=>Zn,Ix:()=>co,Wk:()=>Da,iI:()=>Yu,Sd:()=>Xt});var j=fe(3953),O=fe(1985),ge=fe(8071),o=fe(6648),oe=fe(7673),H=fe(4412),v=fe(4572);const g=(0,fe(1853).L)(re=>function(){re(this),this.name="EmptyError",this.message="no elements in sequence"});var y=fe(8793),C=fe(9030),E=fe(1203),s=fe(8810),u=fe(983),a=fe(17),d=fe(1413),p=fe(8359),l=fe(177),m=fe(6354),c=fe(5558),h=fe(6697),_=fe(9326),M=fe(9974),A=fe(5964),T=fe(1397),N=fe(4360);function I(re){return(0,M.N)((he,Ce)=>{let de=!1;he.subscribe((0,N._)(Ce,Ae=>{de=!0,Ce.next(Ae)},()=>{de||Ce.next(re),Ce.complete()}))})}function z(re=R){return(0,M.N)((he,Ce)=>{let de=!1;he.subscribe((0,N._)(Ce,Ae=>{de=!0,Ce.next(Ae)},()=>de?Ce.complete():Ce.error(re())))})}function R(){return new g}var Q=fe(3669);function ne(re,he){const Ce=arguments.length>=2;return de=>de.pipe(re?(0,A.p)((Ae,rt)=>re(Ae,rt,de)):Q.D,(0,h.s)(1),Ce?I(he):z(()=>new g))}function V(re,he){return(0,ge.T)(he)?(0,T.Z)(re,he,1):(0,T.Z)(re,1)}var X=fe(8141),U=fe(8750);function F(re){return(0,M.N)((he,Ce)=>{let rt,de=null,Ae=!1;de=he.subscribe((0,N._)(Ce,void 0,void 0,ft=>{rt=(0,U.Tg)(re(ft,F(re)(he))),de?(de.unsubscribe(),de=null,rt.subscribe(Ce)):Ae=!0})),Ae&&(de.unsubscribe(),de=null,rt.subscribe(Ce))})}function Te(re){return re<=0?()=>u.w:(0,M.N)((he,Ce)=>{let de=[];he.subscribe((0,N._)(Ce,Ae=>{de.push(Ae),re<de.length&&de.shift()},()=>{for(const Ae of de)Ce.next(Ae);Ce.complete()},void 0,()=>{de=null}))})}var k=fe(3703);function ee(re){return(0,M.N)((he,Ce)=>{try{he.subscribe(Ce)}finally{Ce.add(re)}})}var me=fe(9898),xe=fe(5343),Ye=fe(6365),mt=fe(345);const We="primary",ct=Symbol("RouteTitle");class dt{constructor(he){this.params=he||{}}has(he){return Object.prototype.hasOwnProperty.call(this.params,he)}get(he){if(this.has(he)){const Ce=this.params[he];return Array.isArray(Ce)?Ce[0]:Ce}return null}getAll(he){if(this.has(he)){const Ce=this.params[he];return Array.isArray(Ce)?Ce:[Ce]}return[]}get keys(){return Object.keys(this.params)}}function Ve(re){return new dt(re)}function Qe(re,he,Ce){const de=Ce.path.split("/");if(de.length>re.length||"full"===Ce.pathMatch&&(he.hasChildren()||de.length<re.length))return null;const Ae={};for(let rt=0;rt<de.length;rt++){const ft=de[rt],rn=re[rt];if(":"===ft[0])Ae[ft.substring(1)]=rn;else if(ft!==rn.path)return null}return{consumed:re.slice(0,de.length),posParams:Ae}}function at(re,he){const Ce=re?et(re):void 0,de=he?et(he):void 0;if(!Ce||!de||Ce.length!=de.length)return!1;let Ae;for(let rt=0;rt<Ce.length;rt++)if(Ae=Ce[rt],!st(re[Ae],he[Ae]))return!1;return!0}function et(re){return[...Object.keys(re),...Object.getOwnPropertySymbols(re)]}function st(re,he){if(Array.isArray(re)&&Array.isArray(he)){if(re.length!==he.length)return!1;const Ce=[...re].sort(),de=[...he].sort();return Ce.every((Ae,rt)=>de[rt]===Ae)}return re===he}function Dt(re){return re.length>0?re[re.length-1]:null}function on(re){return function Ie(re){return!!re&&(re instanceof O.c||(0,ge.T)(re.lift)&&(0,ge.T)(re.subscribe))}(re)?re:(0,j.jNT)(re)?(0,o.H)(Promise.resolve(re)):(0,oe.of)(re)}const Lt={exact:function Yt(re,he,Ce){if(!Et(re.segments,he.segments)||!$t(re.segments,he.segments,Ce)||re.numberOfChildren!==he.numberOfChildren)return!1;for(const de in he.children)if(!re.children[de]||!Yt(re.children[de],he.children[de],Ce))return!1;return!0},subset:At},an={exact:function gn(re,he){return at(re,he)},subset:function hn(re,he){return Object.keys(he).length<=Object.keys(re).length&&Object.keys(he).every(Ce=>st(re[Ce],he[Ce]))},ignored:()=>!0};function Bt(re,he,Ce){return Lt[Ce.paths](re.root,he.root,Ce.matrixParams)&&an[Ce.queryParams](re.queryParams,he.queryParams)&&!("exact"===Ce.fragment&&re.fragment!==he.fragment)}function At(re,he,Ce){return sn(re,he,he.segments,Ce)}function sn(re,he,Ce,de){if(re.segments.length>Ce.length){const Ae=re.segments.slice(0,Ce.length);return!(!Et(Ae,Ce)||he.hasChildren()||!$t(Ae,Ce,de))}if(re.segments.length===Ce.length){if(!Et(re.segments,Ce)||!$t(re.segments,Ce,de))return!1;for(const Ae in he.children)if(!re.children[Ae]||!At(re.children[Ae],he.children[Ae],de))return!1;return!0}{const Ae=Ce.slice(0,re.segments.length),rt=Ce.slice(re.segments.length);return!!(Et(re.segments,Ae)&&$t(re.segments,Ae,de)&&re.children[We])&&sn(re.children[We],he,rt,de)}}function $t(re,he,Ce){return he.every((de,Ae)=>an[Ce](re[Ae].parameters,de.parameters))}class ze{constructor(he=new $e([],{}),Ce={},de=null){this.root=he,this.queryParams=Ce,this.fragment=de}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=Ve(this.queryParams)),this._queryParamMap}toString(){return Ut.serialize(this)}}class $e{constructor(he,Ce){this.segments=he,this.children=Ce,this.parent=null,Object.values(Ce).forEach(de=>de.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vt(this)}}class Pe{constructor(he,Ce){this.path=he,this.parameters=Ce}get parameterMap(){var he;return null!==(he=this._parameterMap)&&void 0!==he||(this._parameterMap=Ve(this.parameters)),this._parameterMap}toString(){return gt(this)}}function Et(re,he){return re.length===he.length&&re.every((Ce,de)=>Ce.path===he[de].path)}let Xt=(()=>{var re;class he{}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:()=>new cn,providedIn:"root"}),he})();class cn{parse(he){const Ce=new sr(he);return new ze(Ce.parseRootSegment(),Ce.parseQueryParams(),Ce.parseFragment())}serialize(he){const Ce=`/${Qt(he.root,!0)}`,de=function zt(re){const he=Object.entries(re).map(([Ce,de])=>Array.isArray(de)?de.map(Ae=>`${ot(Ce)}=${ot(Ae)}`).join("&"):`${ot(Ce)}=${ot(de)}`).filter(Ce=>Ce);return he.length?`?${he.join("&")}`:""}(he.queryParams);return`${Ce}${de}${"string"==typeof he.fragment?`#${function Ct(re){return encodeURI(re)}(he.fragment)}`:""}`}}const Ut=new cn;function Vt(re){return re.segments.map(he=>gt(he)).join("/")}function Qt(re,he){if(!re.hasChildren())return Vt(re);if(he){const Ce=re.children[We]?Qt(re.children[We],!1):"",de=[];return Object.entries(re.children).forEach(([Ae,rt])=>{Ae!==We&&de.push(`${Ae}:${Qt(rt,!1)}`)}),de.length>0?`${Ce}(${de.join("//")})`:Ce}{const Ce=function Ft(re,he){let Ce=[];return Object.entries(re.children).forEach(([de,Ae])=>{de===We&&(Ce=Ce.concat(he(Ae,de)))}),Object.entries(re.children).forEach(([de,Ae])=>{de!==We&&(Ce=Ce.concat(he(Ae,de)))}),Ce}(re,(de,Ae)=>Ae===We?[Qt(re.children[We],!1)]:[`${Ae}:${Qt(de,!1)}`]);return 1===Object.keys(re.children).length&&null!=re.children[We]?`${Vt(re)}/${Ce[0]}`:`${Vt(re)}/(${Ce.join("//")})`}}function tt(re){return encodeURIComponent(re).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ot(re){return tt(re).replace(/%3B/gi,";")}function vt(re){return tt(re).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mt(re){return decodeURIComponent(re)}function ln(re){return Mt(re.replace(/\+/g,"%20"))}function gt(re){return`${vt(re.path)}${function St(re){return Object.entries(re).map(([he,Ce])=>`;${vt(he)}=${vt(Ce)}`).join("")}(re.parameters)}`}const Rt=/^[^\/()?;#]+/;function tn(re){const he=re.match(Rt);return he?he[0]:""}const fn=/^[^\/()?;=#]+/,Tn=/^[^=?&#]+/,Ln=/^[^&#]+/;class sr{constructor(he){this.url=he,this.remaining=he}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){const he={};if(this.consumeOptional("?"))do{this.parseQueryParam(he)}while(this.consumeOptional("&"));return he}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const he=[];for(this.peekStartsWith("(")||he.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),he.push(this.parseSegment());let Ce={};this.peekStartsWith("/(")&&(this.capture("/"),Ce=this.parseParens(!0));let de={};return this.peekStartsWith("(")&&(de=this.parseParens(!1)),(he.length>0||Object.keys(Ce).length>0)&&(de[We]=new $e(he,Ce)),de}parseSegment(){const he=tn(this.remaining);if(""===he&&this.peekStartsWith(";"))throw new j.wOt(4009,!1);return this.capture(he),new Pe(Mt(he),this.parseMatrixParams())}parseMatrixParams(){const he={};for(;this.consumeOptional(";");)this.parseParam(he);return he}parseParam(he){const Ce=function bn(re){const he=re.match(fn);return he?he[0]:""}(this.remaining);if(!Ce)return;this.capture(Ce);let de="";if(this.consumeOptional("=")){const Ae=tn(this.remaining);Ae&&(de=Ae,this.capture(de))}he[Mt(Ce)]=Mt(de)}parseQueryParam(he){const Ce=function An(re){const he=re.match(Tn);return he?he[0]:""}(this.remaining);if(!Ce)return;this.capture(Ce);let de="";if(this.consumeOptional("=")){const ft=function jn(re){const he=re.match(Ln);return he?he[0]:""}(this.remaining);ft&&(de=ft,this.capture(de))}const Ae=ln(Ce),rt=ln(de);if(he.hasOwnProperty(Ae)){let ft=he[Ae];Array.isArray(ft)||(ft=[ft],he[Ae]=ft),ft.push(rt)}else he[Ae]=rt}parseParens(he){const Ce={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const de=tn(this.remaining),Ae=this.remaining[de.length];if("/"!==Ae&&")"!==Ae&&";"!==Ae)throw new j.wOt(4010,!1);let rt;de.indexOf(":")>-1?(rt=de.slice(0,de.indexOf(":")),this.capture(rt),this.capture(":")):he&&(rt=We);const ft=this.parseChildren();Ce[rt]=1===Object.keys(ft).length?ft[We]:new $e([],ft),this.consumeOptional("//")}return Ce}peekStartsWith(he){return this.remaining.startsWith(he)}consumeOptional(he){return!!this.peekStartsWith(he)&&(this.remaining=this.remaining.substring(he.length),!0)}capture(he){if(!this.consumeOptional(he))throw new j.wOt(4011,!1)}}function Y(re){return re.segments.length>0?new $e([],{[We]:re}):re}function be(re){const he={};for(const[de,Ae]of Object.entries(re.children)){const rt=be(Ae);if(de===We&&0===rt.segments.length&&rt.hasChildren())for(const[ft,rn]of Object.entries(rt.children))he[ft]=rn;else(rt.segments.length>0||rt.hasChildren())&&(he[de]=rt)}return function Re(re){if(1===re.numberOfChildren&&re.children[We]){const he=re.children[We];return new $e(re.segments.concat(he.segments),he.children)}return re}(new $e(re.segments,he))}function b(re){return re instanceof ze}function B(re){var he;let Ce;const rt=Y(function de(ft){const rn={};for(const Kt of ft.children){const On=de(Kt);rn[Kt.outlet]=On}const vn=new $e(ft.url,rn);return ft===re&&(Ce=vn),vn}(re.root));return null!==(he=Ce)&&void 0!==he?he:rt}function L(re,he,Ce,de){let Ae=re;for(;Ae.parent;)Ae=Ae.parent;if(0===he.length)return ye(Ae,Ae,Ae,Ce,de);const rt=function ce(re){if("string"==typeof re[0]&&1===re.length&&"/"===re[0])return new Xe(!0,0,re);let he=0,Ce=!1;const de=re.reduce((Ae,rt,ft)=>{if("object"==typeof rt&&null!=rt){if(rt.outlets){const rn={};return Object.entries(rt.outlets).forEach(([vn,Kt])=>{rn[vn]="string"==typeof Kt?Kt.split("/"):Kt}),[...Ae,{outlets:rn}]}if(rt.segmentPath)return[...Ae,rt.segmentPath]}return"string"!=typeof rt?[...Ae,rt]:0===ft?(rt.split("/").forEach((rn,vn)=>{0==vn&&"."===rn||(0==vn&&""===rn?Ce=!0:".."===rn?he++:""!=rn&&Ae.push(rn))}),Ae):[...Ae,rt]},[]);return new Xe(Ce,he,de)}(he);if(rt.toRoot())return ye(Ae,Ae,new $e([],{}),Ce,de);const ft=function lt(re,he,Ce){if(re.isAbsolute)return new ke(he,!0,0);if(!Ce)return new ke(he,!1,NaN);if(null===Ce.parent)return new ke(Ce,!0,0);const de=se(re.commands[0])?0:1;return function Be(re,he,Ce){let de=re,Ae=he,rt=Ce;for(;rt>Ae;){if(rt-=Ae,de=de.parent,!de)throw new j.wOt(4005,!1);Ae=de.segments.length}return new ke(de,!1,Ae-rt)}(Ce,Ce.segments.length-1+de,re.numberOfDoubleDots)}(rt,Ae,re),rn=ft.processChildren?nn(ft.segmentGroup,ft.index,rt.commands):Nt(ft.segmentGroup,ft.index,rt.commands);return ye(Ae,ft.segmentGroup,rn,Ce,de)}function se(re){return"object"==typeof re&&null!=re&&!re.outlets&&!re.segmentPath}function W(re){return"object"==typeof re&&null!=re&&re.outlets}function ye(re,he,Ce,de,Ae){let ft,rt={};de&&Object.entries(de).forEach(([vn,Kt])=>{rt[vn]=Array.isArray(Kt)?Kt.map(On=>`${On}`):`${Kt}`}),ft=re===he?Ce:Me(re,he,Ce);const rn=Y(be(ft));return new ze(rn,rt,Ae)}function Me(re,he,Ce){const de={};return Object.entries(re.children).forEach(([Ae,rt])=>{de[Ae]=rt===he?Ce:Me(rt,he,Ce)}),new $e(re.segments,de)}class Xe{constructor(he,Ce,de){if(this.isAbsolute=he,this.numberOfDoubleDots=Ce,this.commands=de,he&&de.length>0&&se(de[0]))throw new j.wOt(4003,!1);const Ae=de.find(W);if(Ae&&Ae!==Dt(de))throw new j.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ke{constructor(he,Ce,de){this.segmentGroup=he,this.processChildren=Ce,this.index=de}}function Nt(re,he,Ce){var de;if(null!==(de=re)&&void 0!==de||(re=new $e([],{})),0===re.segments.length&&re.hasChildren())return nn(re,he,Ce);const Ae=function dn(re,he,Ce){let de=0,Ae=he;const rt={match:!1,pathIndex:0,commandIndex:0};for(;Ae<re.segments.length;){if(de>=Ce.length)return rt;const ft=re.segments[Ae],rn=Ce[de];if(W(rn))break;const vn=`${rn}`,Kt=de<Ce.length-1?Ce[de+1]:null;if(Ae>0&&void 0===vn)break;if(vn&&Kt&&"object"==typeof Kt&&void 0===Kt.outlets){if(!yr(vn,Kt,ft))return rt;de+=2}else{if(!yr(vn,{},ft))return rt;de++}Ae++}return{match:!0,pathIndex:Ae,commandIndex:de}}(re,he,Ce),rt=Ce.slice(Ae.commandIndex);if(Ae.match&&Ae.pathIndex<re.segments.length){const ft=new $e(re.segments.slice(0,Ae.pathIndex),{});return ft.children[We]=new $e(re.segments.slice(Ae.pathIndex),re.children),nn(ft,0,rt)}return Ae.match&&0===rt.length?new $e(re.segments,{}):Ae.match&&!re.hasChildren()?Sn(re,he,Ce):Ae.match?nn(re,0,rt):Sn(re,he,Ce)}function nn(re,he,Ce){if(0===Ce.length)return new $e(re.segments,{});{const de=function ht(re){return W(re[0])?re[0].outlets:{[We]:re}}(Ce),Ae={};if(Object.keys(de).some(rt=>rt!==We)&&re.children[We]&&1===re.numberOfChildren&&0===re.children[We].segments.length){const rt=nn(re.children[We],he,Ce);return new $e(re.segments,rt.children)}return Object.entries(de).forEach(([rt,ft])=>{"string"==typeof ft&&(ft=[ft]),null!==ft&&(Ae[rt]=Nt(re.children[rt],he,ft))}),Object.entries(re.children).forEach(([rt,ft])=>{void 0===de[rt]&&(Ae[rt]=ft)}),new $e(re.segments,Ae)}}function Sn(re,he,Ce){const de=re.segments.slice(0,he);let Ae=0;for(;Ae<Ce.length;){const rt=Ce[Ae];if(W(rt)){const vn=Wn(rt.outlets);return new $e(de,vn)}if(0===Ae&&se(Ce[0])){de.push(new Pe(re.segments[he].path,zn(Ce[0]))),Ae++;continue}const ft=W(rt)?rt.outlets[We]:`${rt}`,rn=Ae<Ce.length-1?Ce[Ae+1]:null;ft&&rn&&se(rn)?(de.push(new Pe(ft,zn(rn))),Ae+=2):(de.push(new Pe(ft,{})),Ae++)}return new $e(de,{})}function Wn(re){const he={};return Object.entries(re).forEach(([Ce,de])=>{"string"==typeof de&&(de=[de]),null!==de&&(he[Ce]=Sn(new $e([],{}),0,de))}),he}function zn(re){const he={};return Object.entries(re).forEach(([Ce,de])=>he[Ce]=`${de}`),he}function yr(re,he,Ce){return re==Ce.path&&at(he,Ce.parameters)}const Tr="imperative";var Jn=function(re){return re[re.NavigationStart=0]="NavigationStart",re[re.NavigationEnd=1]="NavigationEnd",re[re.NavigationCancel=2]="NavigationCancel",re[re.NavigationError=3]="NavigationError",re[re.RoutesRecognized=4]="RoutesRecognized",re[re.ResolveStart=5]="ResolveStart",re[re.ResolveEnd=6]="ResolveEnd",re[re.GuardsCheckStart=7]="GuardsCheckStart",re[re.GuardsCheckEnd=8]="GuardsCheckEnd",re[re.RouteConfigLoadStart=9]="RouteConfigLoadStart",re[re.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",re[re.ChildActivationStart=11]="ChildActivationStart",re[re.ChildActivationEnd=12]="ChildActivationEnd",re[re.ActivationStart=13]="ActivationStart",re[re.ActivationEnd=14]="ActivationEnd",re[re.Scroll=15]="Scroll",re[re.NavigationSkipped=16]="NavigationSkipped",re}(Jn||{});class vr{constructor(he,Ce){this.id=he,this.url=Ce}}class Vr extends vr{constructor(he,Ce,de="imperative",Ae=null){super(he,Ce),this.type=Jn.NavigationStart,this.navigationTrigger=de,this.restoredState=Ae}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sr extends vr{constructor(he,Ce,de){super(he,Ce),this.urlAfterRedirects=de,this.type=Jn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Lr=function(re){return re[re.Redirect=0]="Redirect",re[re.SupersededByNewNavigation=1]="SupersededByNewNavigation",re[re.NoDataFromResolver=2]="NoDataFromResolver",re[re.GuardRejected=3]="GuardRejected",re}(Lr||{}),To=function(re){return re[re.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",re[re.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",re}(To||{});class eo extends vr{constructor(he,Ce,de,Ae){super(he,Ce),this.reason=de,this.code=Ae,this.type=Jn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wo extends vr{constructor(he,Ce,de,Ae){super(he,Ce),this.reason=de,this.code=Ae,this.type=Jn.NavigationSkipped}}class ko extends vr{constructor(he,Ce,de,Ae){super(he,Ce),this.error=de,this.target=Ae,this.type=Jn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class No extends vr{constructor(he,Ce,de,Ae){super(he,Ce),this.urlAfterRedirects=de,this.state=Ae,this.type=Jn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $o extends vr{constructor(he,Ce,de,Ae){super(he,Ce),this.urlAfterRedirects=de,this.state=Ae,this.type=Jn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wr extends vr{constructor(he,Ce,de,Ae,rt){super(he,Ce),this.urlAfterRedirects=de,this.state=Ae,this.shouldActivate=rt,this.type=Jn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vo extends vr{constructor(he,Ce,de,Ae){super(he,Ce),this.urlAfterRedirects=de,this.state=Ae,this.type=Jn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oo extends vr{constructor(he,Ce,de,Ae){super(he,Ce),this.urlAfterRedirects=de,this.state=Ae,this.type=Jn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ci{constructor(he){this.route=he,this.type=Jn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vi{constructor(he){this.route=he,this.type=Jn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _e{constructor(he){this.snapshot=he,this.type=Jn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ke{constructor(he){this.snapshot=he,this.type=Jn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pt{constructor(he){this.snapshot=he,this.type=Jn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Se{constructor(he){this.snapshot=he,this.type=Jn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yt{constructor(he,Ce,de){this.routerEvent=he,this.position=Ce,this.anchor=de,this.type=Jn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Jt{}class fr{constructor(he,Ce){this.url=he,this.navigationBehaviorOptions=Ce}}function Yr(re){return re.outlet||We}function Ue(re){var he;if(!re)return null;if(null!==(he=re.routeConfig)&&void 0!==he&&he._injector)return re.routeConfig._injector;for(let Ce=re.parent;Ce;Ce=Ce.parent){const de=Ce.routeConfig;if(null!=de&&de._loadedInjector)return de._loadedInjector;if(null!=de&&de._injector)return de._injector}return null}class it{get injector(){var he,Ce;return null!==(he=Ue(null===(Ce=this.route)||void 0===Ce?void 0:Ce.snapshot))&&void 0!==he?he:this.rootInjector}set injector(he){}constructor(he){this.rootInjector=he,this.outlet=null,this.route=null,this.children=new Tt(this.rootInjector),this.attachRef=null}}let Tt=(()=>{var re;class he{constructor(de){this.rootInjector=de,this.contexts=new Map}onChildOutletCreated(de,Ae){const rt=this.getOrCreateContext(de);rt.outlet=Ae,this.contexts.set(de,rt)}onChildOutletDestroyed(de){const Ae=this.getContext(de);Ae&&(Ae.outlet=null,Ae.attachRef=null)}onOutletDeactivated(){const de=this.contexts;return this.contexts=new Map,de}onOutletReAttached(de){this.contexts=de}getOrCreateContext(de){let Ae=this.getContext(de);return Ae||(Ae=new it(this.rootInjector),this.contexts.set(de,Ae)),Ae}getContext(de){return this.contexts.get(de)||null}}return(re=he).\u0275fac=function(de){return new(de||re)(j.KVO(j.uvJ))},re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),he})();class Pt{constructor(he){this._root=he}get root(){return this._root.value}parent(he){const Ce=this.pathFromRoot(he);return Ce.length>1?Ce[Ce.length-2]:null}children(he){const Ce=Zt(he,this._root);return Ce?Ce.children.map(de=>de.value):[]}firstChild(he){const Ce=Zt(he,this._root);return Ce&&Ce.children.length>0?Ce.children[0].value:null}siblings(he){const Ce=qt(he,this._root);return Ce.length<2?[]:Ce[Ce.length-2].children.map(Ae=>Ae.value).filter(Ae=>Ae!==he)}pathFromRoot(he){return qt(he,this._root).map(Ce=>Ce.value)}}function Zt(re,he){if(re===he.value)return he;for(const Ce of he.children){const de=Zt(re,Ce);if(de)return de}return null}function qt(re,he){if(re===he.value)return[he];for(const Ce of he.children){const de=qt(re,Ce);if(de.length)return de.unshift(he),de}return[]}class mn{constructor(he,Ce){this.value=he,this.children=Ce}toString(){return`TreeNode(${this.value})`}}function _n(re){const he={};return re&&re.children.forEach(Ce=>he[Ce.value.outlet]=Ce),he}class Cn extends Pt{constructor(he,Ce){super(he),this.snapshot=Ce,_r(this,he)}toString(){return this.snapshot.toString()}}function xn(re){const he=function Un(re){const rt=new Yn([],{},{},"",{},We,re,null,{});return new pr("",new mn(rt,[]))}(re),Ce=new H.t([new Pe("",{})]),de=new H.t({}),Ae=new H.t({}),rt=new H.t({}),ft=new H.t(""),rn=new Fn(Ce,de,rt,ft,Ae,We,re,he.root);return rn.snapshot=he.root,new Cn(new mn(rn,[]),he)}class Fn{constructor(he,Ce,de,Ae,rt,ft,rn,vn){var Kt,On;this.urlSubject=he,this.paramsSubject=Ce,this.queryParamsSubject=de,this.fragmentSubject=Ae,this.dataSubject=rt,this.outlet=ft,this.component=rn,this._futureSnapshot=vn,this.title=null!==(Kt=null===(On=this.dataSubject)||void 0===On?void 0:On.pipe((0,m.T)(qn=>qn[ct])))&&void 0!==Kt?Kt:(0,oe.of)(void 0),this.url=he,this.params=Ce,this.queryParams=de,this.fragment=Ae,this.data=rt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var he;return null!==(he=this._paramMap)&&void 0!==he||(this._paramMap=this.params.pipe((0,m.T)(Ce=>Ve(Ce)))),this._paramMap}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=this.queryParams.pipe((0,m.T)(Ce=>Ve(Ce)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gn(re,he,Ce="emptyOnly"){var de;let Ae;const{routeConfig:rt}=re;var ft;return Ae=null===he||"always"!==Ce&&""!==(null==rt?void 0:rt.path)&&(he.component||null!==(de=he.routeConfig)&&void 0!==de&&de.loadComponent)?{params:{...re.params},data:{...re.data},resolve:{...re.data,...null!==(ft=re._resolvedData)&&void 0!==ft?ft:{}}}:{params:{...he.params,...re.params},data:{...he.data,...re.data},resolve:{...re.data,...he.data,...null==rt?void 0:rt.data,...re._resolvedData}},rt&&Pn(rt)&&(Ae.resolve[ct]=rt.title),Ae}class Yn{get title(){var he;return null===(he=this.data)||void 0===he?void 0:he[ct]}constructor(he,Ce,de,Ae,rt,ft,rn,vn,Kt){this.url=he,this.params=Ce,this.queryParams=de,this.fragment=Ae,this.data=rt,this.outlet=ft,this.component=rn,this.routeConfig=vn,this._resolve=Kt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var he;return null!==(he=this._paramMap)&&void 0!==he||(this._paramMap=Ve(this.params)),this._paramMap}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=Ve(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(de=>de.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pr extends Pt{constructor(he,Ce){super(Ce),this.url=he,_r(this,Ce)}toString(){return wr(this._root)}}function _r(re,he){he.value._routerState=re,he.children.forEach(Ce=>_r(re,Ce))}function wr(re){const he=re.children.length>0?` { ${re.children.map(wr).join(", ")} } `:"";return`${re.value}${he}`}function Fr(re){if(re.snapshot){const he=re.snapshot,Ce=re._futureSnapshot;re.snapshot=Ce,at(he.queryParams,Ce.queryParams)||re.queryParamsSubject.next(Ce.queryParams),he.fragment!==Ce.fragment&&re.fragmentSubject.next(Ce.fragment),at(he.params,Ce.params)||re.paramsSubject.next(Ce.params),function Ze(re,he){if(re.length!==he.length)return!1;for(let Ce=0;Ce<re.length;++Ce)if(!at(re[Ce],he[Ce]))return!1;return!0}(he.url,Ce.url)||re.urlSubject.next(Ce.url),at(he.data,Ce.data)||re.dataSubject.next(Ce.data)}else re.snapshot=re._futureSnapshot,re.dataSubject.next(re._futureSnapshot.data)}function Nr(re,he){const Ce=at(re.params,he.params)&&function qe(re,he){return Et(re,he)&&re.every((Ce,de)=>at(Ce.parameters,he[de].parameters))}(re.url,he.url);return Ce&&!(!re.parent!=!he.parent)&&(!re.parent||Nr(re.parent,he.parent))}function Pn(re){return"string"==typeof re.title||null===re.title}let go=(()=>{var re;class he{constructor(){this.activated=null,this._activatedRoute=null,this.name=We,this.activateEvents=new j.bkB,this.deactivateEvents=new j.bkB,this.attachEvents=new j.bkB,this.detachEvents=new j.bkB,this.parentContexts=(0,j.WQX)(Tt),this.location=(0,j.WQX)(j.c1b),this.changeDetector=(0,j.WQX)(j.gRc),this.inputBinder=(0,j.WQX)(Rr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(de){if(de.name){const{firstChange:Ae,previousValue:rt}=de.name;if(Ae)return;this.isTrackedInParentContexts(rt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(rt)),this.initializeOutletWithName()}}ngOnDestroy(){var de;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(de=this.inputBinder)||void 0===de||de.unsubscribeFromRouteData(this)}isTrackedInParentContexts(de){var Ae;return(null===(Ae=this.parentContexts.getContext(de))||void 0===Ae?void 0:Ae.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const de=this.parentContexts.getContext(this.name);null!=de&&de.route&&(de.attachRef?this.attach(de.attachRef,de.route):this.activateWith(de.route,de.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j.wOt(4012,!1);this.location.detach();const de=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(de.instance),de}attach(de,Ae){var rt;this.activated=de,this._activatedRoute=Ae,this.location.insert(de.hostView),null===(rt=this.inputBinder)||void 0===rt||rt.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(de.instance)}deactivate(){if(this.activated){const de=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(de)}}activateWith(de,Ae){var rt;if(this.isActivated)throw new j.wOt(4013,!1);this._activatedRoute=de;const ft=this.location,vn=de.snapshot.component,Kt=this.parentContexts.getOrCreateContext(this.name).children,On=new Lo(de,Kt,ft.injector);this.activated=ft.createComponent(vn,{index:ft.length,injector:On,environmentInjector:Ae}),this.changeDetector.markForCheck(),null===(rt=this.inputBinder)||void 0===rt||rt.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275dir=j.FsC({type:re,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[j.OA$]}),he})();class Lo{__ngOutletInjector(he){return new Lo(this.route,this.childContexts,he)}constructor(he,Ce,de){this.route=he,this.childContexts=Ce,this.parent=de}get(he,Ce){return he===Fn?this.route:he===Tt?this.childContexts:this.parent.get(he,Ce)}}const Rr=new j.nKC("");let Oi=(()=>{var re;class he{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(de){this.unsubscribeFromRouteData(de),this.subscribeToRouteData(de)}unsubscribeFromRouteData(de){var Ae;null===(Ae=this.outletDataSubscriptions.get(de))||void 0===Ae||Ae.unsubscribe(),this.outletDataSubscriptions.delete(de)}subscribeToRouteData(de){const{activatedRoute:Ae}=de,rt=(0,v.z)([Ae.queryParams,Ae.params,Ae.data]).pipe((0,c.n)(([ft,rn,vn],Kt)=>(vn={...ft,...rn,...vn},0===Kt?(0,oe.of)(vn):Promise.resolve(vn)))).subscribe(ft=>{if(!de.isActivated||!de.activatedComponentRef||de.activatedRoute!==Ae||null===Ae.component)return void this.unsubscribeFromRouteData(de);const rn=(0,j.HJs)(Ae.component);if(rn)for(const{templateName:vn}of rn.inputs)de.activatedComponentRef.setInput(vn,ft[vn]);else this.unsubscribeFromRouteData(de)});this.outletDataSubscriptions.set(de,rt)}}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac}),he})();function ho(re,he,Ce){if(Ce&&re.shouldReuseRoute(he.value,Ce.value.snapshot)){const de=Ce.value;de._futureSnapshot=he.value;const Ae=function Ur(re,he,Ce){return he.children.map(de=>{for(const Ae of Ce.children)if(re.shouldReuseRoute(de.value,Ae.value.snapshot))return ho(re,de,Ae);return ho(re,de)})}(re,he,Ce);return new mn(de,Ae)}{if(re.shouldAttach(he.value)){const rt=re.retrieve(he.value);if(null!==rt){const ft=rt.route;return ft.value._futureSnapshot=he.value,ft.children=he.children.map(rn=>ho(re,rn)),ft}}const de=function Vn(re){return new Fn(new H.t(re.url),new H.t(re.params),new H.t(re.queryParams),new H.t(re.fragment),new H.t(re.data),re.outlet,re.component,re)}(he.value),Ae=he.children.map(rt=>ho(re,rt));return new mn(de,Ae)}}class Go{constructor(he,Ce){this.redirectTo=he,this.navigationBehaviorOptions=Ce}}const Jo="ngNavigationCancelingError";function So(re,he){const{redirectTo:Ce,navigationBehaviorOptions:de}=b(he)?{redirectTo:he,navigationBehaviorOptions:void 0}:he,Ae=ji(!1,Lr.Redirect);return Ae.url=Ce,Ae.navigationBehaviorOptions=de,Ae}function ji(re,he){const Ce=new Error(`NavigationCancelingError: ${re||""}`);return Ce[Jo]=!0,Ce.cancellationCode=he,Ce}function xr(re){return!!re&&re[Jo]}class Mo{constructor(he,Ce,de,Ae,rt){this.routeReuseStrategy=he,this.futureState=Ce,this.currState=de,this.forwardEvent=Ae,this.inputBindingEnabled=rt}activate(he){const Ce=this.futureState._root,de=this.currState?this.currState._root:null;this.deactivateChildRoutes(Ce,de,he),Fr(this.futureState.root),this.activateChildRoutes(Ce,de,he)}deactivateChildRoutes(he,Ce,de){const Ae=_n(Ce);he.children.forEach(rt=>{const ft=rt.value.outlet;this.deactivateRoutes(rt,Ae[ft],de),delete Ae[ft]}),Object.values(Ae).forEach(rt=>{this.deactivateRouteAndItsChildren(rt,de)})}deactivateRoutes(he,Ce,de){const Ae=he.value,rt=Ce?Ce.value:null;if(Ae===rt)if(Ae.component){const ft=de.getContext(Ae.outlet);ft&&this.deactivateChildRoutes(he,Ce,ft.children)}else this.deactivateChildRoutes(he,Ce,de);else rt&&this.deactivateRouteAndItsChildren(Ce,de)}deactivateRouteAndItsChildren(he,Ce){he.value.component&&this.routeReuseStrategy.shouldDetach(he.value.snapshot)?this.detachAndStoreRouteSubtree(he,Ce):this.deactivateRouteAndOutlet(he,Ce)}detachAndStoreRouteSubtree(he,Ce){const de=Ce.getContext(he.value.outlet),Ae=de&&he.value.component?de.children:Ce,rt=_n(he);for(const ft of Object.values(rt))this.deactivateRouteAndItsChildren(ft,Ae);if(de&&de.outlet){const ft=de.outlet.detach(),rn=de.children.onOutletDeactivated();this.routeReuseStrategy.store(he.value.snapshot,{componentRef:ft,route:he,contexts:rn})}}deactivateRouteAndOutlet(he,Ce){const de=Ce.getContext(he.value.outlet),Ae=de&&he.value.component?de.children:Ce,rt=_n(he);for(const ft of Object.values(rt))this.deactivateRouteAndItsChildren(ft,Ae);de&&(de.outlet&&(de.outlet.deactivate(),de.children.onOutletDeactivated()),de.attachRef=null,de.route=null)}activateChildRoutes(he,Ce,de){const Ae=_n(Ce);he.children.forEach(rt=>{this.activateRoutes(rt,Ae[rt.value.outlet],de),this.forwardEvent(new Se(rt.value.snapshot))}),he.children.length&&this.forwardEvent(new Ke(he.value.snapshot))}activateRoutes(he,Ce,de){const Ae=he.value,rt=Ce?Ce.value:null;if(Fr(Ae),Ae===rt)if(Ae.component){const ft=de.getOrCreateContext(Ae.outlet);this.activateChildRoutes(he,Ce,ft.children)}else this.activateChildRoutes(he,Ce,de);else if(Ae.component){const ft=de.getOrCreateContext(Ae.outlet);if(this.routeReuseStrategy.shouldAttach(Ae.snapshot)){const rn=this.routeReuseStrategy.retrieve(Ae.snapshot);this.routeReuseStrategy.store(Ae.snapshot,null),ft.children.onOutletReAttached(rn.contexts),ft.attachRef=rn.componentRef,ft.route=rn.route.value,ft.outlet&&ft.outlet.attach(rn.componentRef,rn.route.value),Fr(rn.route.value),this.activateChildRoutes(he,null,ft.children)}else ft.attachRef=null,ft.route=Ae,ft.outlet&&ft.outlet.activateWith(Ae,ft.injector),this.activateChildRoutes(he,null,ft.children)}else this.activateChildRoutes(he,null,de)}}class Er{constructor(he){this.path=he,this.route=this.path[this.path.length-1]}}class Pi{constructor(he,Ce){this.component=he,this.route=Ce}}function Xr(re,he,Ce){const de=re._root;return wi(de,he?he._root:null,Ce,[de.value])}function _i(re,he){const Ce=Symbol(),de=he.get(re,Ce);return de===Ce?"function"!=typeof re||(0,j.LfX)(re)?he.get(re):re:de}function wi(re,he,Ce,de,Ae={canDeactivateChecks:[],canActivateChecks:[]}){const rt=_n(he);return re.children.forEach(ft=>{(function Gi(re,he,Ce,de,Ae={canDeactivateChecks:[],canActivateChecks:[]}){const rt=re.value,ft=he?he.value:null,rn=Ce?Ce.getContext(re.value.outlet):null;if(ft&&rt.routeConfig===ft.routeConfig){const vn=function Hn(re,he,Ce){if("function"==typeof Ce)return Ce(re,he);switch(Ce){case"pathParamsChange":return!Et(re.url,he.url);case"pathParamsOrQueryParamsChange":return!Et(re.url,he.url)||!at(re.queryParams,he.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nr(re,he)||!at(re.queryParams,he.queryParams);default:return!Nr(re,he)}}(ft,rt,rt.routeConfig.runGuardsAndResolvers);vn?Ae.canActivateChecks.push(new Er(de)):(rt.data=ft.data,rt._resolvedData=ft._resolvedData),wi(re,he,rt.component?rn?rn.children:null:Ce,de,Ae),vn&&rn&&rn.outlet&&rn.outlet.isActivated&&Ae.canDeactivateChecks.push(new Pi(rn.outlet.component,ft))}else ft&&Ho(he,rn,Ae),Ae.canActivateChecks.push(new Er(de)),wi(re,null,rt.component?rn?rn.children:null:Ce,de,Ae)})(ft,rt[ft.value.outlet],Ce,de.concat([ft.value]),Ae),delete rt[ft.value.outlet]}),Object.entries(rt).forEach(([ft,rn])=>Ho(rn,Ce.getContext(ft),Ae)),Ae}function Ho(re,he,Ce){const de=_n(re),Ae=re.value;Object.entries(de).forEach(([rt,ft])=>{Ho(ft,Ae.component?he?he.children.getContext(rt):null:he,Ce)}),Ce.canDeactivateChecks.push(new Pi(Ae.component&&he&&he.outlet&&he.outlet.isActivated?he.outlet.component:null,Ae))}function S(re){return"function"==typeof re}function nt(re){return re instanceof g||"EmptyError"===(null==re?void 0:re.name)}const _t=Symbol("INITIAL_VALUE");function bt(){return(0,c.n)(re=>(0,v.z)(re.map(he=>he.pipe((0,h.s)(1),function x(...re){const he=(0,_.lI)(re);return(0,M.N)((Ce,de)=>{(he?(0,y.x)(re,Ce,he):(0,y.x)(re,Ce)).subscribe(de)})}(_t)))).pipe((0,m.T)(he=>{for(const Ce of he)if(!0!==Ce){if(Ce===_t)return _t;if(!1===Ce||Ht(Ce))return Ce}return!0}),(0,A.p)(he=>he!==_t),(0,h.s)(1)))}function Ht(re){return b(re)||re instanceof Go}function Nn(re){return(0,E.F)((0,X.M)(he=>{if("boolean"!=typeof he)throw So(0,he)}),(0,m.T)(he=>!0===he))}class Kn{constructor(he){this.segmentGroup=he||null}}class tr extends Error{constructor(he){super(),this.urlTree=he}}function br(re){return(0,s.$)(new Kn(re))}class qr{constructor(he,Ce){this.urlSerializer=he,this.urlTree=Ce}lineralizeSegments(he,Ce){let de=[],Ae=Ce.root;for(;;){if(de=de.concat(Ae.segments),0===Ae.numberOfChildren)return(0,oe.of)(de);if(Ae.numberOfChildren>1||!Ae.children[We])return(0,s.$)(new j.wOt(4e3,!1));Ae=Ae.children[We]}}applyRedirectCommands(he,Ce,de,Ae,rt){if("string"!=typeof Ce){const rn=Ce,{queryParams:vn,fragment:Kt,routeConfig:On,url:qn,outlet:hr,params:Qn,data:no,title:Wo}=Ae,Fo=(0,j.N4e)(rt,()=>rn({params:Qn,data:no,queryParams:vn,fragment:Kt,routeConfig:On,url:qn,outlet:hr,title:Wo}));if(Fo instanceof ze)throw new tr(Fo);Ce=Fo}const ft=this.applyRedirectCreateUrlTree(Ce,this.urlSerializer.parse(Ce),he,de);if("/"===Ce[0])throw new tr(ft);return ft}applyRedirectCreateUrlTree(he,Ce,de,Ae){const rt=this.createSegmentGroup(he,Ce.root,de,Ae);return new ze(rt,this.createQueryParams(Ce.queryParams,this.urlTree.queryParams),Ce.fragment)}createQueryParams(he,Ce){const de={};return Object.entries(he).forEach(([Ae,rt])=>{if("string"==typeof rt&&":"===rt[0]){const rn=rt.substring(1);de[Ae]=Ce[rn]}else de[Ae]=rt}),de}createSegmentGroup(he,Ce,de,Ae){const rt=this.createSegments(he,Ce.segments,de,Ae);let ft={};return Object.entries(Ce.children).forEach(([rn,vn])=>{ft[rn]=this.createSegmentGroup(he,vn,de,Ae)}),new $e(rt,ft)}createSegments(he,Ce,de,Ae){return Ce.map(rt=>":"===rt.path[0]?this.findPosParam(he,rt,Ae):this.findOrReturn(rt,de))}findPosParam(he,Ce,de){const Ae=de[Ce.path.substring(1)];if(!Ae)throw new j.wOt(4001,!1);return Ae}findOrReturn(he,Ce){let de=0;for(const Ae of Ce){if(Ae.path===he.path)return Ce.splice(de),Ae;de++}return he}}const fo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ar(re,he,Ce,de,Ae){const rt=Ir(re,he,Ce);return rt.matched?(de=function mo(re,he){var Ce;return re.providers&&!re._injector&&(re._injector=(0,j.Ol2)(re.providers,he,`Route: ${re.path}`)),null!==(Ce=re._injector)&&void 0!==Ce?Ce:he}(he,de),function Xn(re,he,Ce,de){const Ae=he.canMatch;if(!Ae||0===Ae.length)return(0,oe.of)(!0);const rt=Ae.map(ft=>{const rn=_i(ft,re);return on(function Le(re){return re&&S(re.canMatch)}(rn)?rn.canMatch(he,Ce):(0,j.N4e)(re,()=>rn(he,Ce)))});return(0,oe.of)(rt).pipe(bt(),Nn())}(de,he,Ce).pipe((0,m.T)(ft=>!0===ft?rt:{...fo}))):(0,oe.of)(rt)}function Ir(re,he,Ce){var de,Ae;if("**"===he.path)return function $n(re){return{matched:!0,parameters:re.length>0?Dt(re).parameters:{},consumedSegments:re,remainingSegments:[],positionalParamSegments:{}}}(Ce);if(""===he.path)return"full"===he.pathMatch&&(re.hasChildren()||Ce.length>0)?{...fo}:{matched:!0,consumedSegments:[],remainingSegments:Ce,parameters:{},positionalParamSegments:{}};const ft=(he.matcher||Qe)(Ce,re,he);if(!ft)return{...fo};const rn={};Object.entries(null!==(de=ft.posParams)&&void 0!==de?de:{}).forEach(([Kt,On])=>{rn[Kt]=On.path});const vn=ft.consumed.length>0?{...rn,...ft.consumed[ft.consumed.length-1].parameters}:rn;return{matched:!0,consumedSegments:ft.consumed,remainingSegments:Ce.slice(ft.consumed.length),parameters:vn,positionalParamSegments:null!==(Ae=ft.posParams)&&void 0!==Ae?Ae:{}}}function Br(re,he,Ce,de){return Ce.length>0&&function kr(re,he,Ce){return Ce.some(de=>ni(re,he,de)&&Yr(de)!==We)}(re,Ce,de)?{segmentGroup:new $e(he,lo(de,new $e(Ce,re.children))),slicedSegments:[]}:0===Ce.length&&function uo(re,he,Ce){return Ce.some(de=>ni(re,he,de))}(re,Ce,de)?{segmentGroup:new $e(re.segments,$r(re,Ce,de,re.children)),slicedSegments:Ce}:{segmentGroup:new $e(re.segments,re.children),slicedSegments:Ce}}function $r(re,he,Ce,de){const Ae={};for(const rt of Ce)if(ni(re,he,rt)&&!de[Yr(rt)]){const ft=new $e([],{});Ae[Yr(rt)]=ft}return{...de,...Ae}}function lo(re,he){const Ce={};Ce[We]=he;for(const de of re)if(""===de.path&&Yr(de)!==We){const Ae=new $e([],{});Ce[Yr(de)]=Ae}return Ce}function ni(re,he,Ce){return(!(re.hasChildren()||he.length>0)||"full"!==Ce.pathMatch)&&""===Ce.path}class Bd{}class vs{constructor(he,Ce,de,Ae,rt,ft,rn){this.injector=he,this.configLoader=Ce,this.rootComponentType=de,this.config=Ae,this.urlTree=rt,this.paramsInheritanceStrategy=ft,this.urlSerializer=rn,this.applyRedirects=new qr(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(he){return new j.wOt(4002,`'${he.segmentGroup}'`)}recognize(){const he=Br(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(he).pipe((0,m.T)(({children:Ce,rootSnapshot:de})=>{const Ae=new mn(de,Ce),rt=new pr("",Ae),ft=function P(re,he,Ce=null,de=null){return L(B(re),he,Ce,de)}(de,[],this.urlTree.queryParams,this.urlTree.fragment);return ft.queryParams=this.urlTree.queryParams,rt.url=this.urlSerializer.serialize(ft),{state:rt,tree:ft}}))}match(he){const Ce=new Yn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),We,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,he,We,Ce).pipe((0,m.T)(de=>({children:de,rootSnapshot:Ce})),F(de=>{if(de instanceof tr)return this.urlTree=de.urlTree,this.match(de.urlTree.root);throw de instanceof Kn?this.noMatchError(de):de}))}processSegmentGroup(he,Ce,de,Ae,rt){return 0===de.segments.length&&de.hasChildren()?this.processChildren(he,Ce,de,rt):this.processSegment(he,Ce,de,de.segments,Ae,!0,rt).pipe((0,m.T)(ft=>ft instanceof mn?[ft]:[]))}processChildren(he,Ce,de,Ae){const rt=[];for(const ft of Object.keys(de.children))"primary"===ft?rt.unshift(ft):rt.push(ft);return(0,o.H)(rt).pipe(V(ft=>{const rn=de.children[ft],vn=function Co(re,he){const Ce=re.filter(de=>Yr(de)===he);return Ce.push(...re.filter(de=>Yr(de)!==he)),Ce}(Ce,ft);return this.processSegmentGroup(he,vn,rn,ft,Ae)}),function ie(re,he){return(0,M.N)(function K(re,he,Ce,de,Ae){return(rt,ft)=>{let rn=Ce,vn=he,Kt=0;rt.subscribe((0,N._)(ft,On=>{const qn=Kt++;vn=rn?re(vn,On,qn):(rn=!0,On),de&&ft.next(vn)},Ae&&(()=>{rn&&ft.next(vn),ft.complete()})))}}(re,he,arguments.length>=2,!0))}((ft,rn)=>(ft.push(...rn),ft)),I(null),function q(re,he){const Ce=arguments.length>=2;return de=>de.pipe(re?(0,A.p)((Ae,rt)=>re(Ae,rt,de)):Q.D,Te(1),Ce?I(he):z(()=>new g))}(),(0,T.Z)(ft=>{if(null===ft)return br(de);const rn=Ea(ft);return function wa(re){re.sort((he,Ce)=>he.value.outlet===We?-1:Ce.value.outlet===We?1:he.value.outlet.localeCompare(Ce.value.outlet))}(rn),(0,oe.of)(rn)}))}processSegment(he,Ce,de,Ae,rt,ft,rn){return(0,o.H)(Ce).pipe(V(vn=>{var Kt;return this.processSegmentAgainstRoute(null!==(Kt=vn._injector)&&void 0!==Kt?Kt:he,Ce,vn,de,Ae,rt,ft,rn).pipe(F(On=>{if(On instanceof Kn)return(0,oe.of)(null);throw On}))}),ne(vn=>!!vn),F(vn=>{if(nt(vn))return function _a(re,he,Ce){return 0===he.length&&!re.children[Ce]}(de,Ae,rt)?(0,oe.of)(new Bd):br(de);throw vn}))}processSegmentAgainstRoute(he,Ce,de,Ae,rt,ft,rn,vn){return function rs(re,he,Ce,de){return!!(Yr(re)===de||de!==We&&ni(he,Ce,re))&&Ir(he,re,Ce).matched}(de,Ae,rt,ft)?void 0===de.redirectTo?this.matchSegmentAgainstRoute(he,Ae,de,rt,ft,vn):this.allowRedirects&&rn?this.expandSegmentAgainstRouteUsingRedirect(he,Ae,Ce,de,rt,ft,vn):br(Ae):br(Ae)}expandSegmentAgainstRouteUsingRedirect(he,Ce,de,Ae,rt,ft,rn){var vn,Kt;const{matched:On,parameters:qn,consumedSegments:hr,positionalParamSegments:Qn,remainingSegments:no}=Ir(Ce,Ae,rt);if(!On)return br(Ce);"string"==typeof Ae.redirectTo&&"/"===Ae.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Wo=new Yn(rt,qn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,os(Ae),Yr(Ae),null!==(vn=null!==(Kt=Ae.component)&&void 0!==Kt?Kt:Ae._loadedComponent)&&void 0!==vn?vn:null,Ae,Ca(Ae)),Fo=Gn(Wo,rn,this.paramsInheritanceStrategy);Wo.params=Object.freeze(Fo.params),Wo.data=Object.freeze(Fo.data);const Xs=this.applyRedirects.applyRedirectCommands(hr,Ae.redirectTo,Qn,Wo,he);return this.applyRedirects.lineralizeSegments(Ae,Xs).pipe((0,T.Z)(fi=>this.processSegment(he,de,Ce,fi.concat(no),ft,!1,rn)))}matchSegmentAgainstRoute(he,Ce,de,Ae,rt,ft){const rn=Ar(Ce,de,Ae,he);return"**"===de.path&&(Ce.children={}),rn.pipe((0,c.n)(vn=>{var Kt;return vn.matched?(he=null!==(Kt=de._injector)&&void 0!==Kt?Kt:he,this.getChildConfig(he,de,Ae).pipe((0,c.n)(({routes:On})=>{var qn,hr,Qn;const no=null!==(qn=de._loadedInjector)&&void 0!==qn?qn:he,{parameters:Wo,consumedSegments:Fo,remainingSegments:Xs}=vn,fi=new Yn(Fo,Wo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,os(de),Yr(de),null!==(hr=null!==(Qn=de.component)&&void 0!==Qn?Qn:de._loadedComponent)&&void 0!==hr?hr:null,de,Ca(de)),is=Gn(fi,ft,this.paramsInheritanceStrategy);fi.params=Object.freeze(is.params),fi.data=Object.freeze(is.data);const{segmentGroup:Ml,slicedSegments:Ks}=Br(Ce,Fo,Xs,On);if(0===Ks.length&&Ml.hasChildren())return this.processChildren(no,On,Ml,fi).pipe((0,m.T)(Cs=>new mn(fi,Cs)));if(0===On.length&&0===Ks.length)return(0,oe.of)(new mn(fi,[]));const Qu=Yr(de)===rt;return this.processSegment(no,On,Ml,Ks,Qu?We:rt,!0,fi).pipe((0,m.T)(Cs=>new mn(fi,Cs instanceof mn?[Cs]:[])))}))):br(Ce)}))}getChildConfig(he,Ce,de){return Ce.children?(0,oe.of)({routes:Ce.children,injector:he}):Ce.loadChildren?void 0!==Ce._loadedRoutes?(0,oe.of)({routes:Ce._loadedRoutes,injector:Ce._loadedInjector}):function Bn(re,he,Ce,de){const Ae=he.canLoad;if(void 0===Ae||0===Ae.length)return(0,oe.of)(!0);const rt=Ae.map(ft=>{const rn=_i(ft,re);return on(function J(re){return re&&S(re.canLoad)}(rn)?rn.canLoad(he,Ce):(0,j.N4e)(re,()=>rn(he,Ce)))});return(0,oe.of)(rt).pipe(bt(),Nn())}(he,Ce,de).pipe((0,T.Z)(Ae=>Ae?this.configLoader.loadChildren(he,Ce).pipe((0,X.M)(rt=>{Ce._loadedRoutes=rt.routes,Ce._loadedInjector=rt.injector})):function io(re){return(0,s.$)(ji(!1,Lr.GuardRejected))}())):(0,oe.of)({routes:[],injector:he})}}function Vs(re){const he=re.value.routeConfig;return he&&""===he.path}function Ea(re){const he=[],Ce=new Set;for(const de of re){if(!Vs(de)){he.push(de);continue}const Ae=he.find(rt=>de.value.routeConfig===rt.value.routeConfig);void 0!==Ae?(Ae.children.push(...de.children),Ce.add(Ae)):he.push(de)}for(const de of Ce){const Ae=Ea(de.children);he.push(new mn(de.value,Ae))}return he.filter(de=>!Ce.has(de))}function os(re){return re.data||{}}function Ca(re){return re.resolve||{}}function Vu(re){const he=re.children.map(Ce=>Vu(Ce)).flat();return[re,...he]}function Sa(re){return(0,c.n)(he=>{const Ce=re(he);return Ce?(0,o.H)(Ce).pipe((0,m.T)(()=>he)):(0,oe.of)(he)})}let Gs=(()=>{var re;class he{buildTitle(de){let Ae,rt=de.root;for(;void 0!==rt;){var ft;Ae=null!==(ft=this.getResolvedTitleForRoute(rt))&&void 0!==ft?ft:Ae,rt=rt.children.find(rn=>rn.outlet===We)}return Ae}getResolvedTitleForRoute(de){return de.data[ct]}}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:()=>(0,j.WQX)(mr),providedIn:"root"}),he})(),mr=(()=>{var re;class he extends Gs{constructor(de){super(),this.title=de}updateTitle(de){const Ae=this.buildTitle(de);void 0!==Ae&&this.title.setTitle(Ae)}}return(re=he).\u0275fac=function(de){return new(de||re)(j.KVO(mt.hE))},re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),he})();const Hi=new j.nKC("",{providedIn:"root",factory:()=>({})});let bs=(()=>{var re;class he{}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275cmp=j.VBU({type:re,selectors:[["ng-component"]],standalone:!0,features:[j.aNF],decls:1,vars:0,template:function(de,Ae){1&de&&j.nrm(0,"router-outlet")},dependencies:[go],encapsulation:2}),he})();function Io(re){const he=re.children&&re.children.map(Io),Ce=he?{...re,children:he}:{...re};return!Ce.component&&!Ce.loadComponent&&(he||Ce.loadChildren)&&Ce.outlet&&Ce.outlet!==We&&(Ce.component=bs),Ce}const di=new j.nKC("");let Sl=(()=>{var re;class he{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,j.WQX)(j.Ql9)}loadComponent(de){if(this.componentLoaders.get(de))return this.componentLoaders.get(de);if(de._loadedComponent)return(0,oe.of)(de._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(de);const Ae=on(de.loadComponent()).pipe((0,m.T)(Ne),(0,X.M)(ft=>{this.onLoadEndListener&&this.onLoadEndListener(de),de._loadedComponent=ft}),ee(()=>{this.componentLoaders.delete(de)})),rt=new a.G(Ae,()=>new d.B).pipe((0,me.B)());return this.componentLoaders.set(de,rt),rt}loadChildren(de,Ae){if(this.childrenLoaders.get(Ae))return this.childrenLoaders.get(Ae);if(Ae._loadedRoutes)return(0,oe.of)({routes:Ae._loadedRoutes,injector:Ae._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Ae);const ft=function Vd(re,he,Ce,de){return on(re.loadChildren()).pipe((0,m.T)(Ne),(0,T.Z)(Ae=>Ae instanceof j.Co$||Array.isArray(Ae)?(0,oe.of)(Ae):(0,o.H)(he.compileModuleAsync(Ae))),(0,m.T)(Ae=>{de&&de(re);let rt,ft,rn=!1;return Array.isArray(Ae)?(ft=Ae,!0):(rt=Ae.create(Ce).injector,ft=rt.get(di,[],{optional:!0,self:!0}).flat()),{routes:ft.map(Io),injector:rt}}))}(Ae,this.compiler,de,this.onLoadEndListener).pipe(ee(()=>{this.childrenLoaders.delete(Ae)})),rn=new a.G(ft,()=>new d.B).pipe((0,me.B)());return this.childrenLoaders.set(Ae,rn),rn}}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),he})();function Ne(re){return function ue(re){return re&&"object"==typeof re&&"default"in re}(re)?re.default:re}let wt=(()=>{var re;class he{}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:()=>(0,j.WQX)(je),providedIn:"root"}),he})(),je=(()=>{var re;class he{shouldProcessUrl(de){return!0}extract(de){return de}merge(de,Ae){return de}}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),he})();const ut=new j.nKC(""),It=new j.nKC("");function pn(re,he,Ce){const de=re.get(It),Ae=re.get(l.qQ);return re.get(j.SKi).runOutsideAngular(()=>{if(!Ae.startViewTransition||de.skipNextTransition)return de.skipNextTransition=!1,new Promise(Kt=>setTimeout(Kt));let rt;const ft=new Promise(Kt=>{rt=Kt}),rn=Ae.startViewTransition(()=>(rt(),function Mn(re){return new Promise(he=>{(0,j.mal)({read:()=>setTimeout(he)},{injector:re})})}(re))),{onViewTransitionCreated:vn}=de;return vn&&(0,j.N4e)(re,()=>vn({transition:rn,from:he,to:Ce})),ft})}const ir=new j.nKC("");let or=(()=>{var re;class he{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new d.B,this.transitionAbortSubject=new d.B,this.configLoader=(0,j.WQX)(Sl),this.environmentInjector=(0,j.WQX)(j.uvJ),this.urlSerializer=(0,j.WQX)(Xt),this.rootContexts=(0,j.WQX)(Tt),this.location=(0,j.WQX)(l.aZ),this.inputBindingEnabled=null!==(0,j.WQX)(Rr,{optional:!0}),this.titleStrategy=(0,j.WQX)(Gs),this.options=(0,j.WQX)(Hi,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,j.WQX)(wt),this.createViewTransition=(0,j.WQX)(ut,{optional:!0}),this.navigationErrorHandler=(0,j.WQX)(ir,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,oe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=rt=>this.events.next(new vi(rt)),this.configLoader.onLoadStartListener=rt=>this.events.next(new ci(rt))}complete(){var de;null===(de=this.transitions)||void 0===de||de.complete()}handleNavigationRequest(de){var Ae;const rt=++this.navigationId;null===(Ae=this.transitions)||void 0===Ae||Ae.next({...this.transitions.value,...de,id:rt})}setupNavigations(de,Ae,rt){return this.transitions=new H.t({id:0,currentUrlTree:Ae,currentRawUrl:Ae,extractedUrl:this.urlHandlingStrategy.extract(Ae),urlAfterRedirects:this.urlHandlingStrategy.extract(Ae),rawUrl:Ae,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Tr,restoredState:null,currentSnapshot:rt.snapshot,targetSnapshot:null,currentRouterState:rt,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,A.p)(ft=>0!==ft.id),(0,m.T)(ft=>({...ft,extractedUrl:this.urlHandlingStrategy.extract(ft.rawUrl)})),(0,c.n)(ft=>{let rn=!1,vn=!1;return(0,oe.of)(ft).pipe((0,c.n)(Kt=>{var On;if(this.navigationId>ft.id)return this.cancelNavigationTransition(ft,"",Lr.SupersededByNewNavigation),u.w;this.currentTransition=ft,this.currentNavigation={id:Kt.id,initialUrl:Kt.rawUrl,extractedUrl:Kt.extractedUrl,targetBrowserUrl:"string"==typeof Kt.extras.browserUrl?this.urlSerializer.parse(Kt.extras.browserUrl):Kt.extras.browserUrl,trigger:Kt.source,extras:Kt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const qn=!de.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),hr=null!==(On=Kt.extras.onSameUrlNavigation)&&void 0!==On?On:de.onSameUrlNavigation;if(!qn&&"reload"!==hr){const Qn="";return this.events.next(new wo(Kt.id,this.urlSerializer.serialize(Kt.rawUrl),Qn,To.IgnoredSameUrlNavigation)),Kt.resolve(!1),u.w}if(this.urlHandlingStrategy.shouldProcessUrl(Kt.rawUrl))return(0,oe.of)(Kt).pipe((0,c.n)(Qn=>{var no,Wo;const Fo=null===(no=this.transitions)||void 0===no?void 0:no.getValue();return this.events.next(new Vr(Qn.id,this.urlSerializer.serialize(Qn.extractedUrl),Qn.source,Qn.restoredState)),Fo!==(null===(Wo=this.transitions)||void 0===Wo?void 0:Wo.getValue())?u.w:Promise.resolve(Qn)}),function ar(re,he,Ce,de,Ae,rt){return(0,T.Z)(ft=>function $u(re,he,Ce,de,Ae,rt,ft="emptyOnly"){return new vs(re,he,Ce,de,Ae,ft,rt).recognize()}(re,he,Ce,de,ft.extractedUrl,Ae,rt).pipe((0,m.T)(({state:rn,tree:vn})=>({...ft,targetSnapshot:rn,urlAfterRedirects:vn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,de.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,X.M)(Qn=>{ft.targetSnapshot=Qn.targetSnapshot,ft.urlAfterRedirects=Qn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Qn.urlAfterRedirects};const no=new No(Qn.id,this.urlSerializer.serialize(Qn.extractedUrl),this.urlSerializer.serialize(Qn.urlAfterRedirects),Qn.targetSnapshot);this.events.next(no)}));if(qn&&this.urlHandlingStrategy.shouldProcessUrl(Kt.currentRawUrl)){const{id:Qn,extractedUrl:no,source:Wo,restoredState:Fo,extras:Xs}=Kt,fi=new Vr(Qn,this.urlSerializer.serialize(no),Wo,Fo);this.events.next(fi);const is=xn(this.rootComponentType).snapshot;return this.currentTransition=ft={...Kt,targetSnapshot:is,urlAfterRedirects:no,extras:{...Xs,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=no,(0,oe.of)(ft)}{const Qn="";return this.events.next(new wo(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),Qn,To.IgnoredByUrlHandlingStrategy)),Kt.resolve(!1),u.w}}),(0,X.M)(Kt=>{const On=new $o(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),this.urlSerializer.serialize(Kt.urlAfterRedirects),Kt.targetSnapshot);this.events.next(On)}),(0,m.T)(Kt=>(this.currentTransition=ft={...Kt,guards:Xr(Kt.targetSnapshot,Kt.currentSnapshot,this.rootContexts)},ft)),function we(re,he){return(0,T.Z)(Ce=>{const{targetSnapshot:de,currentSnapshot:Ae,guards:{canActivateChecks:rt,canDeactivateChecks:ft}}=Ce;return 0===ft.length&&0===rt.length?(0,oe.of)({...Ce,guardsResult:!0}):function ae(re,he,Ce,de){return(0,o.H)(re).pipe((0,T.Z)(Ae=>function en(re,he,Ce,de,Ae){const rt=he&&he.routeConfig?he.routeConfig.canDeactivate:null;if(!rt||0===rt.length)return(0,oe.of)(!0);const ft=rt.map(rn=>{var vn;const Kt=null!==(vn=Ue(he))&&void 0!==vn?vn:Ae,On=_i(rn,Kt);return on(function Oe(re){return re&&S(re.canDeactivate)}(On)?On.canDeactivate(re,he,Ce,de):(0,j.N4e)(Kt,()=>On(re,he,Ce,de))).pipe(ne())});return(0,oe.of)(ft).pipe(bt())}(Ae.component,Ae.route,Ce,he,de)),ne(Ae=>!0!==Ae,!0))}(ft,de,Ae,re).pipe((0,T.Z)(rn=>rn&&function G(re){return"boolean"==typeof re}(rn)?function Ee(re,he,Ce,de){return(0,o.H)(he).pipe(V(Ae=>(0,y.x)(function He(re,he){return null!==re&&he&&he(new _e(re)),(0,oe.of)(!0)}(Ae.route.parent,de),function ve(re,he){return null!==re&&he&&he(new pt(re)),(0,oe.of)(!0)}(Ae.route,de),function Gt(re,he,Ce){const de=he[he.length-1],rt=he.slice(0,he.length-1).reverse().map(ft=>function Ri(re){const he=re.routeConfig?re.routeConfig.canActivateChild:null;return he&&0!==he.length?{node:re,guards:he}:null}(ft)).filter(ft=>null!==ft).map(ft=>(0,C.v)(()=>{const rn=ft.guards.map(vn=>{var Kt;const On=null!==(Kt=Ue(ft.node))&&void 0!==Kt?Kt:Ce,qn=_i(vn,On);return on(function pe(re){return re&&S(re.canActivateChild)}(qn)?qn.canActivateChild(de,re):(0,j.N4e)(On,()=>qn(de,re))).pipe(ne())});return(0,oe.of)(rn).pipe(bt())}));return(0,oe.of)(rt).pipe(bt())}(re,Ae.path,Ce),function kt(re,he,Ce){const de=he.routeConfig?he.routeConfig.canActivate:null;if(!de||0===de.length)return(0,oe.of)(!0);const Ae=de.map(rt=>(0,C.v)(()=>{var ft;const rn=null!==(ft=Ue(he))&&void 0!==ft?ft:Ce,vn=_i(rt,rn);return on(function te(re){return re&&S(re.canActivate)}(vn)?vn.canActivate(he,re):(0,j.N4e)(rn,()=>vn(he,re))).pipe(ne())}));return(0,oe.of)(Ae).pipe(bt())}(re,Ae.route,Ce))),ne(Ae=>!0!==Ae,!0))}(de,rt,re,he):(0,oe.of)(rn)),(0,m.T)(rn=>({...Ce,guardsResult:rn})))})}(this.environmentInjector,Kt=>this.events.next(Kt)),(0,X.M)(Kt=>{if(ft.guardsResult=Kt.guardsResult,Kt.guardsResult&&"boolean"!=typeof Kt.guardsResult)throw So(0,Kt.guardsResult);const On=new Wr(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),this.urlSerializer.serialize(Kt.urlAfterRedirects),Kt.targetSnapshot,!!Kt.guardsResult);this.events.next(On)}),(0,A.p)(Kt=>!!Kt.guardsResult||(this.cancelNavigationTransition(Kt,"",Lr.GuardRejected),!1)),Sa(Kt=>{if(Kt.guards.canActivateChecks.length)return(0,oe.of)(Kt).pipe((0,X.M)(On=>{const qn=new Vo(On.id,this.urlSerializer.serialize(On.extractedUrl),this.urlSerializer.serialize(On.urlAfterRedirects),On.targetSnapshot);this.events.next(qn)}),(0,c.n)(On=>{let qn=!1;return(0,oe.of)(On).pipe(function Mr(re,he){return(0,T.Z)(Ce=>{const{targetSnapshot:de,guards:{canActivateChecks:Ae}}=Ce;if(!Ae.length)return(0,oe.of)(Ce);const rt=new Set(Ae.map(vn=>vn.route)),ft=new Set;for(const vn of rt)if(!ft.has(vn))for(const Kt of Vu(vn))ft.add(Kt);let rn=0;return(0,o.H)(ft).pipe(V(vn=>rt.has(vn)?function Gu(re,he,Ce,de){const Ae=re.routeConfig,rt=re._resolve;return void 0!==(null==Ae?void 0:Ae.title)&&!Pn(Ae)&&(rt[ct]=Ae.title),function Hu(re,he,Ce,de){const Ae=et(re);if(0===Ae.length)return(0,oe.of)({});const rt={};return(0,o.H)(Ae).pipe((0,T.Z)(ft=>function $d(re,he,Ce,de){var Ae;const rt=null!==(Ae=Ue(he))&&void 0!==Ae?Ae:de,ft=_i(re,rt);return on(ft.resolve?ft.resolve(he,Ce):(0,j.N4e)(rt,()=>ft(he,Ce)))}(re[ft],he,Ce,de).pipe(ne(),(0,X.M)(rn=>{if(rn instanceof Go)throw So(new cn,rn);rt[ft]=rn}))),Te(1),(0,k.u)(rt),F(ft=>nt(ft)?u.w:(0,s.$)(ft)))}(rt,re,he,de).pipe((0,m.T)(ft=>(re._resolvedData=ft,re.data=Gn(re,re.parent,Ce).resolve,null)))}(vn,de,re,he):(vn.data=Gn(vn,vn.parent,re).resolve,(0,oe.of)(void 0))),(0,X.M)(()=>rn++),Te(1),(0,T.Z)(vn=>rn===ft.size?(0,oe.of)(Ce):u.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,X.M)({next:()=>qn=!0,complete:()=>{qn||this.cancelNavigationTransition(On,"",Lr.NoDataFromResolver)}}))}),(0,X.M)(On=>{const qn=new oo(On.id,this.urlSerializer.serialize(On.extractedUrl),this.urlSerializer.serialize(On.urlAfterRedirects),On.targetSnapshot);this.events.next(qn)}))}),Sa(Kt=>{const On=qn=>{var hr;const Qn=[];null!==(hr=qn.routeConfig)&&void 0!==hr&&hr.loadComponent&&!qn.routeConfig._loadedComponent&&Qn.push(this.configLoader.loadComponent(qn.routeConfig).pipe((0,X.M)(no=>{qn.component=no}),(0,m.T)(()=>{})));for(const no of qn.children)Qn.push(...On(no));return Qn};return(0,v.z)(On(Kt.targetSnapshot.root)).pipe(I(null),(0,h.s)(1))}),Sa(()=>this.afterPreactivation()),(0,c.n)(()=>{var Kt;const{currentSnapshot:On,targetSnapshot:qn}=ft,hr=null===(Kt=this.createViewTransition)||void 0===Kt?void 0:Kt.call(this,this.environmentInjector,On.root,qn.root);return hr?(0,o.H)(hr).pipe((0,m.T)(()=>ft)):(0,oe.of)(ft)}),(0,m.T)(Kt=>{const On=function ys(re,he,Ce){const de=ho(re,he._root,Ce?Ce._root:void 0);return new Cn(de,he)}(de.routeReuseStrategy,Kt.targetSnapshot,Kt.currentRouterState);return this.currentTransition=ft={...Kt,targetRouterState:On},this.currentNavigation.targetRouterState=On,ft}),(0,X.M)(()=>{this.events.next(new Jt)}),((re,he,Ce,de)=>(0,m.T)(Ae=>(new Mo(he,Ae.targetRouterState,Ae.currentRouterState,Ce,de).activate(re),Ae)))(this.rootContexts,de.routeReuseStrategy,Kt=>this.events.next(Kt),this.inputBindingEnabled),(0,h.s)(1),(0,X.M)({next:Kt=>{var On;rn=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Sr(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),this.urlSerializer.serialize(Kt.urlAfterRedirects))),null===(On=this.titleStrategy)||void 0===On||On.updateTitle(Kt.targetRouterState.snapshot),Kt.resolve(!0)},complete:()=>{rn=!0}}),function Ge(re){return(0,M.N)((he,Ce)=>{(0,U.Tg)(re).subscribe((0,N._)(Ce,()=>Ce.complete(),xe.l)),!Ce.closed&&he.subscribe(Ce)})}(this.transitionAbortSubject.pipe((0,X.M)(Kt=>{throw Kt}))),ee(()=>{var Kt;!rn&&!vn&&this.cancelNavigationTransition(ft,"",Lr.SupersededByNewNavigation),(null===(Kt=this.currentTransition)||void 0===Kt?void 0:Kt.id)===ft.id&&(this.currentNavigation=null,this.currentTransition=null)}),F(Kt=>{if(vn=!0,xr(Kt))this.events.next(new eo(ft.id,this.urlSerializer.serialize(ft.extractedUrl),Kt.message,Kt.cancellationCode)),function bi(re){return xr(re)&&b(re.url)}(Kt)?this.events.next(new fr(Kt.url,Kt.navigationBehaviorOptions)):ft.resolve(!1);else{var On;const qn=new ko(ft.id,this.urlSerializer.serialize(ft.extractedUrl),Kt,null!==(On=ft.targetSnapshot)&&void 0!==On?On:void 0);try{const hr=(0,j.N4e)(this.environmentInjector,()=>{var Qn;return null===(Qn=this.navigationErrorHandler)||void 0===Qn?void 0:Qn.call(this,qn)});if(hr instanceof Go){const{message:Qn,cancellationCode:no}=So(0,hr);this.events.next(new eo(ft.id,this.urlSerializer.serialize(ft.extractedUrl),Qn,no)),this.events.next(new fr(hr.redirectTo,hr.navigationBehaviorOptions))}else{this.events.next(qn);const Qn=de.errorHandler(Kt);ft.resolve(!!Qn)}}catch(hr){this.options.resolveNavigationPromiseOnError?ft.resolve(!1):ft.reject(hr)}}return u.w}))}))}cancelNavigationTransition(de,Ae,rt){const ft=new eo(de.id,this.urlSerializer.serialize(de.extractedUrl),Ae,rt);this.events.next(ft),de.resolve(!1)}isUpdatingInternalState(){var de,Ae;return(null===(de=this.currentTransition)||void 0===de?void 0:de.extractedUrl.toString())!==(null===(Ae=this.currentTransition)||void 0===Ae?void 0:Ae.currentUrlTree.toString())}isUpdatedBrowserUrl(){var de,Ae,rt,ft;const rn=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),vn=null!==(de=null===(Ae=this.currentNavigation)||void 0===Ae?void 0:Ae.targetBrowserUrl)&&void 0!==de?de:null===(rt=this.currentNavigation)||void 0===rt?void 0:rt.extractedUrl;return rn.toString()!==(null==vn?void 0:vn.toString())&&!(null!==(ft=this.currentNavigation)&&void 0!==ft&&ft.extras.skipLocationChange)}}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),he})();function Dr(re){return re!==Tr}let Zn=(()=>{var re;class he{}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:()=>(0,j.WQX)(Rn),providedIn:"root"}),he})();class Or{shouldDetach(he){return!1}store(he,Ce){}shouldAttach(he){return!1}retrieve(he){return null}shouldReuseRoute(he,Ce){return he.routeConfig===Ce.routeConfig}}let Rn=(()=>{var re;class he extends Or{}return(re=he).\u0275fac=(()=>{let Ce;return function(Ae){return(Ce||(Ce=j.xGo(re)))(Ae||re)}})(),re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),he})(),Jr=(()=>{var re;class he{}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:()=>(0,j.WQX)(hi),providedIn:"root"}),he})(),hi=(()=>{var re;class he extends Jr{constructor(){super(...arguments),this.location=(0,j.WQX)(l.aZ),this.urlSerializer=(0,j.WQX)(Xt),this.options=(0,j.WQX)(Hi,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,j.WQX)(wt),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ze,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=xn(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var de,Ae;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(de=null===(Ae=this.restoredState())||void 0===Ae?void 0:Ae.\u0275routerPageId)&&void 0!==de?de:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(de){return this.location.subscribe(Ae=>{"popstate"===Ae.type&&de(Ae.url,Ae.state)})}handleRouterEvent(de,Ae){if(de instanceof Vr)this.stateMemento=this.createStateMemento();else if(de instanceof wo)this.rawUrlTree=Ae.initialUrl;else if(de instanceof No){if("eager"===this.urlUpdateStrategy&&!Ae.extras.skipLocationChange){var rt;const rn=this.urlHandlingStrategy.merge(Ae.finalUrl,Ae.initialUrl);this.setBrowserUrl(null!==(rt=Ae.targetBrowserUrl)&&void 0!==rt?rt:rn,Ae)}}else if(de instanceof Jt){var ft;this.currentUrlTree=Ae.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Ae.finalUrl,Ae.initialUrl),this.routerState=Ae.targetRouterState,"deferred"!==this.urlUpdateStrategy||Ae.extras.skipLocationChange||this.setBrowserUrl(null!==(ft=Ae.targetBrowserUrl)&&void 0!==ft?ft:this.rawUrlTree,Ae)}else de instanceof eo&&(de.code===Lr.GuardRejected||de.code===Lr.NoDataFromResolver)?this.restoreHistory(Ae):de instanceof ko?this.restoreHistory(Ae,!0):de instanceof Sr&&(this.lastSuccessfulId=de.id,this.currentPageId=this.browserPageId)}setBrowserUrl(de,Ae){const rt=de instanceof ze?this.urlSerializer.serialize(de):de;if(this.location.isCurrentPathEqualTo(rt)||Ae.extras.replaceUrl){const rn={...Ae.extras.state,...this.generateNgRouterState(Ae.id,this.browserPageId)};this.location.replaceState(rt,"",rn)}else{const ft={...Ae.extras.state,...this.generateNgRouterState(Ae.id,this.browserPageId+1)};this.location.go(rt,"",ft)}}restoreHistory(de,Ae=!1){if("computed"===this.canceledNavigationResolution){const ft=this.currentPageId-this.browserPageId;0!==ft?this.location.historyGo(ft):this.currentUrlTree===de.finalUrl&&0===ft&&(this.resetState(de),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Ae&&this.resetState(de),this.resetUrlToCurrentUrlTree())}resetState(de){var Ae;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(Ae=de.finalUrl)&&void 0!==Ae?Ae:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(de,Ae){return"computed"===this.canceledNavigationResolution?{navigationId:de,\u0275routerPageId:Ae}:{navigationId:de}}}return(re=he).\u0275fac=(()=>{let Ce;return function(Ae){return(Ce||(Ce=j.xGo(re)))(Ae||re)}})(),re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),he})();var po=function(re){return re[re.COMPLETE=0]="COMPLETE",re[re.FAILED=1]="FAILED",re[re.REDIRECTING=2]="REDIRECTING",re}(po||{});function zi(re,he){re.events.pipe((0,A.p)(Ce=>Ce instanceof Sr||Ce instanceof eo||Ce instanceof ko||Ce instanceof wo),(0,m.T)(Ce=>Ce instanceof Sr||Ce instanceof wo?po.COMPLETE:Ce instanceof eo&&(Ce.code===Lr.Redirect||Ce.code===Lr.SupersededByNewNavigation)?po.REDIRECTING:po.FAILED),(0,A.p)(Ce=>Ce!==po.REDIRECTING),(0,h.s)(1)).subscribe(()=>{he()})}function Ni(re){throw re}const Wi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Li={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let co=(()=>{var re;class he{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var de,Ae;this.disposed=!1,this.console=(0,j.WQX)(j.H3F),this.stateManager=(0,j.WQX)(Jr),this.options=(0,j.WQX)(Hi,{optional:!0})||{},this.pendingTasks=(0,j.WQX)(j.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,j.WQX)(or),this.urlSerializer=(0,j.WQX)(Xt),this.location=(0,j.WQX)(l.aZ),this.urlHandlingStrategy=(0,j.WQX)(wt),this._events=new d.B,this.errorHandler=this.options.errorHandler||Ni,this.navigated=!1,this.routeReuseStrategy=(0,j.WQX)(Zn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(de=null===(Ae=(0,j.WQX)(di,{optional:!0}))||void 0===Ae?void 0:Ae.flat())&&void 0!==de?de:[],this.componentInputBindingEnabled=!!(0,j.WQX)(Rr,{optional:!0}),this.eventsSubscription=new p.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:rt=>{this.console.warn(rt)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const de=this.navigationTransitions.events.subscribe(Ae=>{try{const rt=this.navigationTransitions.currentTransition,ft=this.navigationTransitions.currentNavigation;if(null!==rt&&null!==ft)if(this.stateManager.handleRouterEvent(Ae,ft),Ae instanceof eo&&Ae.code!==Lr.Redirect&&Ae.code!==Lr.SupersededByNewNavigation)this.navigated=!0;else if(Ae instanceof Sr)this.navigated=!0;else if(Ae instanceof fr){const rn=Ae.navigationBehaviorOptions,vn=this.urlHandlingStrategy.merge(Ae.url,rt.currentRawUrl),Kt={browserUrl:rt.extras.browserUrl,info:rt.extras.info,skipLocationChange:rt.extras.skipLocationChange,replaceUrl:rt.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Dr(rt.source),...rn};this.scheduleNavigation(vn,Tr,null,Kt,{resolve:rt.resolve,reject:rt.reject,promise:rt.promise})}(function xa(re){return!(re instanceof Jt||re instanceof fr)})(Ae)&&this._events.next(Ae)}catch(rt){this.navigationTransitions.transitionAbortSubject.next(rt)}});this.eventsSubscription.add(de)}resetRootComponentType(de){this.routerState.root.component=de,this.navigationTransitions.rootComponentType=de}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Tr,this.stateManager.restoredState())}setUpLocationChangeListener(){var de;null!==(de=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==de||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((Ae,rt)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(Ae,"popstate",rt)},0)}))}navigateToSyncWithBrowser(de,Ae,rt){const ft={replaceUrl:!0},rn=null!=rt&&rt.navigationId?rt:null;if(rt){const Kt={...rt};delete Kt.navigationId,delete Kt.\u0275routerPageId,0!==Object.keys(Kt).length&&(ft.state=Kt)}const vn=this.parseUrl(de);this.scheduleNavigation(vn,Ae,rn,ft)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(de){this.config=de.map(Io),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(de,Ae={}){const{relativeTo:rt,queryParams:ft,fragment:rn,queryParamsHandling:vn,preserveFragment:Kt}=Ae,On=Kt?this.currentUrlTree.fragment:rn;let hr,qn=null;switch(vn){case"merge":qn={...this.currentUrlTree.queryParams,...ft};break;case"preserve":qn=this.currentUrlTree.queryParams;break;default:qn=ft||null}null!==qn&&(qn=this.removeEmptyProps(qn));try{hr=B(rt?rt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof de[0]||"/"!==de[0][0])&&(de=[]),hr=this.currentUrlTree.root}return L(hr,de,qn,null!=On?On:null)}navigateByUrl(de,Ae={skipLocationChange:!1}){const rt=b(de)?de:this.parseUrl(de),ft=this.urlHandlingStrategy.merge(rt,this.rawUrlTree);return this.scheduleNavigation(ft,Tr,null,Ae)}navigate(de,Ae={skipLocationChange:!1}){return function Hs(re){for(let he=0;he<re.length;he++)if(null==re[he])throw new j.wOt(4008,!1)}(de),this.navigateByUrl(this.createUrlTree(de,Ae),Ae)}serializeUrl(de){return this.urlSerializer.serialize(de)}parseUrl(de){try{return this.urlSerializer.parse(de)}catch{return this.urlSerializer.parse("/")}}isActive(de,Ae){let rt;if(rt=!0===Ae?{...Wi}:!1===Ae?{...Li}:Ae,b(de))return Bt(this.currentUrlTree,de,rt);const ft=this.parseUrl(de);return Bt(this.currentUrlTree,ft,rt)}removeEmptyProps(de){return Object.entries(de).reduce((Ae,[rt,ft])=>(null!=ft&&(Ae[rt]=ft),Ae),{})}scheduleNavigation(de,Ae,rt,ft,rn){if(this.disposed)return Promise.resolve(!1);let vn,Kt,On;rn?(vn=rn.resolve,Kt=rn.reject,On=rn.promise):On=new Promise((hr,Qn)=>{vn=hr,Kt=Qn});const qn=this.pendingTasks.add();return zi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(qn))}),this.navigationTransitions.handleNavigationRequest({source:Ae,restoredState:rt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:de,extras:ft,resolve:vn,reject:Kt,promise:On,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),On.catch(hr=>Promise.reject(hr))}}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),he})(),Da=(()=>{var re;class he{constructor(de,Ae,rt,ft,rn,vn){var Kt;this.router=de,this.route=Ae,this.tabIndexAttribute=rt,this.renderer=ft,this.el=rn,this.locationStrategy=vn,this.href=null,this.onChanges=new d.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const On=null===(Kt=rn.nativeElement.tagName)||void 0===Kt?void 0:Kt.toLowerCase();this.isAnchorElement="a"===On||"area"===On,this.isAnchorElement?this.subscription=de.events.subscribe(qn=>{qn instanceof Sr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(de){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",de)}ngOnChanges(de){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(de){null==de?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=b(de)||Array.isArray(de)?de:[de],this.setTabIndexIfNotOnNativeEl("0"))}onClick(de,Ae,rt,ft,rn){const vn=this.urlTree;return!!(null===vn||this.isAnchorElement&&(0!==de||Ae||rt||ft||rn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(vn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var de;null===(de=this.subscription)||void 0===de||de.unsubscribe()}updateHref(){var de;const Ae=this.urlTree;this.href=null!==Ae&&this.locationStrategy?null===(de=this.locationStrategy)||void 0===de?void 0:de.prepareExternalUrl(this.router.serializeUrl(Ae)):null;const rt=null===this.href?null:(0,j.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",rt)}applyAttributeValue(de,Ae){const rt=this.renderer,ft=this.el.nativeElement;null!==Ae?rt.setAttribute(ft,de,Ae):rt.removeAttribute(ft,de)}get urlTree(){return null===this.routerLinkInput?null:b(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(re=he).\u0275fac=function(de){return new(de||re)(j.rXU(co),j.rXU(Fn),j.kS0("tabindex"),j.rXU(j.sFG),j.rXU(j.aKT),j.rXU(l.hb))},re.\u0275dir=j.FsC({type:re,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(de,Ae){1&de&&j.bIt("click",function(ft){return Ae.onClick(ft.button,ft.ctrlKey,ft.shiftKey,ft.altKey,ft.metaKey)}),2&de&&j.BMQ("target",Ae.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",j.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",j.L39],replaceUrl:[2,"replaceUrl","replaceUrl",j.L39],routerLink:"routerLink"},standalone:!0,features:[j.GFd,j.OA$]}),he})();class zo{}let Os=(()=>{var re;class he{preload(de,Ae){return Ae().pipe(F(()=>(0,oe.of)(null)))}}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),he})(),Ta=(()=>{var re;class he{constructor(de,Ae,rt,ft,rn){this.router=de,this.injector=rt,this.preloadingStrategy=ft,this.loader=rn}setUpPreloading(){this.subscription=this.router.events.pipe((0,A.p)(de=>de instanceof Sr),V(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(de,Ae){const rt=[];for(const Kt of Ae){var ft,rn;Kt.providers&&!Kt._injector&&(Kt._injector=(0,j.Ol2)(Kt.providers,de,`Route: ${Kt.path}`));const On=null!==(ft=Kt._injector)&&void 0!==ft?ft:de,qn=null!==(rn=Kt._loadedInjector)&&void 0!==rn?rn:On;var vn;(Kt.loadChildren&&!Kt._loadedRoutes&&void 0===Kt.canLoad||Kt.loadComponent&&!Kt._loadedComponent)&&rt.push(this.preloadConfig(On,Kt)),(Kt.children||Kt._loadedRoutes)&&rt.push(this.processRoutes(qn,null!==(vn=Kt.children)&&void 0!==vn?vn:Kt._loadedRoutes))}return(0,o.H)(rt).pipe((0,Ye.U)())}preloadConfig(de,Ae){return this.preloadingStrategy.preload(Ae,()=>{let rt;rt=Ae.loadChildren&&void 0===Ae.canLoad?this.loader.loadChildren(de,Ae):(0,oe.of)(null);const ft=rt.pipe((0,T.Z)(rn=>{var vn;return null===rn?(0,oe.of)(void 0):(Ae._loadedRoutes=rn.routes,Ae._loadedInjector=rn.injector,this.processRoutes(null!==(vn=rn.injector)&&void 0!==vn?vn:de,rn.routes))}));if(Ae.loadComponent&&!Ae._loadedComponent){const rn=this.loader.loadComponent(Ae);return(0,o.H)([ft,rn]).pipe((0,Ye.U)())}return ft})}}return(re=he).\u0275fac=function(de){return new(de||re)(j.KVO(co),j.KVO(j.Ql9),j.KVO(j.uvJ),j.KVO(zo),j.KVO(Sl))},re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),he})();const js=new j.nKC("");let Aa=(()=>{var re;class he{constructor(de,Ae,rt,ft,rn={}){this.urlSerializer=de,this.transitions=Ae,this.viewportScroller=rt,this.zone=ft,this.options=rn,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},rn.scrollPositionRestoration||(rn.scrollPositionRestoration="disabled"),rn.anchorScrolling||(rn.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof Vr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=de.navigationTrigger,this.restoredId=de.restoredState?de.restoredState.navigationId:0):de instanceof Sr?(this.lastId=de.id,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.urlAfterRedirects).fragment)):de instanceof wo&&de.code===To.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof yt&&(de.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(de.position):de.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(de.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(de,Ae){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yt(de,"popstate"===this.lastSource?this.store[this.restoredId]:null,Ae))})},0)})}ngOnDestroy(){var de,Ae;null===(de=this.routerEventsSubscription)||void 0===de||de.unsubscribe(),null===(Ae=this.scrollEventsSubscription)||void 0===Ae||Ae.unsubscribe()}}return(re=he).\u0275fac=function(de){j.QTQ()},re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac}),he})();function Xi(re,he){return{\u0275kind:re,\u0275providers:he}}function Dl(){const re=(0,j.WQX)(j.zZn);return he=>{var Ce,de;const Ae=re.get(j.o8S);if(he!==Ae.components[0])return;const rt=re.get(co),ft=re.get(Ei);1===re.get(Cr)&&rt.initialNavigation(),null===(Ce=re.get(Ws,null,j.$GK.Optional))||void 0===Ce||Ce.setUpPreloading(),null===(de=re.get(js,null,j.$GK.Optional))||void 0===de||de.init(),rt.resetRootComponentType(Ae.componentTypes[0]),ft.closed||(ft.next(),ft.complete(),ft.unsubscribe())}}const Ei=new j.nKC("",{factory:()=>new d.B}),Cr=new j.nKC("",{providedIn:"root",factory:()=>1}),Ws=new j.nKC("");function Ma(re){return Xi(0,[{provide:Ws,useExisting:Ta},{provide:zo,useExisting:re}])}function Ku(re){return Xi(9,[{provide:ut,useValue:pn},{provide:It,useValue:{skipNextTransition:!(null==re||!re.skipInitialTransition),...re}}])}const Ps=new j.nKC("ROUTER_FORROOT_GUARD"),qu=[l.aZ,{provide:Xt,useClass:cn},co,Tt,{provide:Fn,useFactory:function xl(re){return re.routerState.root},deps:[co]},Sl,[]];let Yu=(()=>{var re;class he{constructor(de){}static forRoot(de,Ae){return{ngModule:he,providers:[qu,[],{provide:di,multi:!0,useValue:de},{provide:Ps,useFactory:Kd,deps:[[co,new j.Xx1,new j.kdw]]},{provide:Hi,useValue:Ae||{}},null!=Ae&&Ae.useHash?{provide:l.hb,useClass:l.fw}:{provide:l.hb,useClass:l.Sm},{provide:js,useFactory:()=>{const re=(0,j.WQX)(l.Xr),he=(0,j.WQX)(j.SKi),Ce=(0,j.WQX)(Hi),de=(0,j.WQX)(or),Ae=(0,j.WQX)(Xt);return Ce.scrollOffset&&re.setOffset(Ce.scrollOffset),new Aa(Ae,de,re,he,Ce)}},null!=Ae&&Ae.preloadingStrategy?Ma(Ae.preloadingStrategy).\u0275providers:[],null!=Ae&&Ae.initialNavigation?Si(Ae):[],null!=Ae&&Ae.bindToComponentInputs?Xi(8,[Oi,{provide:Rr,useExisting:Oi}]).\u0275providers:[],null!=Ae&&Ae.enableViewTransitions?Ku().\u0275providers:[],[{provide:Ju,useFactory:Dl},{provide:j.iLQ,multi:!0,useExisting:Ju}]]}}static forChild(de){return{ngModule:he,providers:[{provide:di,multi:!0,useValue:de}]}}}return(re=he).\u0275fac=function(de){return new(de||re)(j.KVO(Ps,8))},re.\u0275mod=j.$C({type:re}),re.\u0275inj=j.G2t({}),he})();function Kd(re){return"guarded"}function Si(re){return["disabled"===re.initialNavigation?Xi(3,[{provide:j.hnV,multi:!0,useFactory:()=>{const he=(0,j.WQX)(co);return()=>{he.setUpLocationChangeListener()}}},{provide:Cr,useValue:2}]).\u0275providers:[],"enabledBlocking"===re.initialNavigation?Xi(2,[{provide:Cr,useValue:0},{provide:j.hnV,multi:!0,deps:[j.zZn],useFactory:he=>{const Ce=he.get(l.hj,Promise.resolve());return()=>Ce.then(()=>new Promise(de=>{const Ae=he.get(co),rt=he.get(Ei);zi(Ae,()=>{de(!0)}),he.get(or).afterPreactivation=()=>(de(!0),rt.closed?(0,oe.of)(void 0):rt),Ae.initialNavigation()}))}}]).\u0275providers:[]]}const Ju=new j.nKC("")},3656:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{Yq:()=>Dt,TS:()=>Ze,sR:()=>at,el:()=>Ln,Sb:()=>Xt,QE:()=>Re,CF:()=>qe,Rg:()=>zt,p4:()=>b,jM:()=>Me,q9:()=>ct,y8:()=>st,Kb:()=>Xe,OD:()=>Ye,CE:()=>jn,pF:()=>sr,fL:()=>B,YV:()=>bn,er:()=>P,z3:()=>L});var j=fe(467),O=fe(9842),ge=fe(3953),Ie=fe(9858),o=fe(177),oe=fe(5531),H=fe(4442);var I=fe(1413),z=fe(3726),R=fe(4412),Q=fe(4572),ne=fe(7673),V=fe(1635),X=fe(5964),U=fe(5558),F=fe(3669),K=fe(9974),ie=fe(4360);function q(ce,ke){return ce===ke}var k=fe(4341);const ee=["tabsInner"];let Ye=(()=>{var ce;class ke{constructor(Be,ht){(0,O.A)(this,"doc",void 0),(0,O.A)(this,"_readyPromise",void 0),(0,O.A)(this,"win",void 0),(0,O.A)(this,"backButton",new I.B),(0,O.A)(this,"keyboardDidShow",new I.B),(0,O.A)(this,"keyboardDidHide",new I.B),(0,O.A)(this,"pause",new I.B),(0,O.A)(this,"resume",new I.B),(0,O.A)(this,"resize",new I.B),this.doc=Be,ht.run(()=>{var Nt;let nn;this.win=Be.defaultView,this.backButton.subscribeWithPriority=function(dn,Sn){return this.subscribe(Wn=>Wn.register(dn,zn=>ht.run(()=>Sn(zn))))},We(this.pause,Be,"pause",ht),We(this.resume,Be,"resume",ht),We(this.backButton,Be,"ionBackButton",ht),We(this.resize,this.win,"resize",ht),We(this.keyboardDidShow,this.win,"ionKeyboardDidShow",ht),We(this.keyboardDidHide,this.win,"ionKeyboardDidHide",ht),this._readyPromise=new Promise(dn=>{nn=dn}),null!==(Nt=this.win)&&void 0!==Nt&&Nt.cordova?Be.addEventListener("deviceready",()=>{nn("cordova")},{once:!0}):nn("dom")})}is(Be){return(0,oe.a)(this.win,Be)}platforms(){return(0,oe.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(Be){return mt(this.win.location.href,Be)}isLandscape(){return!this.isPortrait()}isPortrait(){var Be,ht;return null===(Be=(ht=this.win).matchMedia)||void 0===Be?void 0:Be.call(ht,"(orientation: portrait)").matches}testUserAgent(Be){const ht=this.win.navigator;return!!(null!=ht&&ht.userAgent&&ht.userAgent.indexOf(Be)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return ce=ke,(0,O.A)(ke,"\u0275fac",function(Be){return new(Be||ce)(ge.KVO(o.qQ),ge.KVO(ge.SKi))}),(0,O.A)(ke,"\u0275prov",ge.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})),ke})();const mt=(ce,ke)=>{ke=ke.replace(/[[\]\\]/g,"\\$&");const Be=new RegExp("[\\?&]"+ke+"=([^&#]*)").exec(ce);return Be?decodeURIComponent(Be[1].replace(/\+/g," ")):null},We=(ce,ke,lt,Be)=>{ke&&ke.addEventListener(lt,ht=>{Be.run(()=>{ce.next(null!=ht?ht.detail:void 0)})})};let ct=(()=>{var ce;class ke{constructor(Be,ht,Nt,nn){(0,O.A)(this,"location",void 0),(0,O.A)(this,"serializer",void 0),(0,O.A)(this,"router",void 0),(0,O.A)(this,"topOutlet",void 0),(0,O.A)(this,"direction",Ve),(0,O.A)(this,"animated",Qe),(0,O.A)(this,"animationBuilder",void 0),(0,O.A)(this,"guessDirection","forward"),(0,O.A)(this,"guessAnimation",void 0),(0,O.A)(this,"lastNavId",-1),this.location=ht,this.serializer=Nt,this.router=nn,nn&&nn.events.subscribe(dn=>{if(dn instanceof Ie.Z){const Sn=dn.restoredState?dn.restoredState.navigationId:dn.id;this.guessDirection=this.guessAnimation=Sn<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?dn.id:Sn}}),Be.backButton.subscribeWithPriority(0,dn=>{this.pop(),dn()})}navigateForward(Be,ht={}){return this.setDirection("forward",ht.animated,ht.animationDirection,ht.animation),this.navigate(Be,ht)}navigateBack(Be,ht={}){return this.setDirection("back",ht.animated,ht.animationDirection,ht.animation),this.navigate(Be,ht)}navigateRoot(Be,ht={}){return this.setDirection("root",ht.animated,ht.animationDirection,ht.animation),this.navigate(Be,ht)}back(Be={animated:!0,animationDirection:"back"}){return this.setDirection("back",Be.animated,Be.animationDirection,Be.animation),this.location.back()}pop(){var Be=this;return(0,j.A)(function*(){let ht=Be.topOutlet;for(;ht;){if(yield ht.pop())return!0;ht=ht.parentOutlet}return!1})()}setDirection(Be,ht,Nt,nn){this.direction=Be,this.animated=dt(Be,ht,Nt),this.animationBuilder=nn}setTopOutlet(Be){this.topOutlet=Be}consumeTransition(){let ht,Be="root";const Nt=this.animationBuilder;return"auto"===this.direction?(Be=this.guessDirection,ht=this.guessAnimation):(ht=this.animated,Be=this.direction),this.direction=Ve,this.animated=Qe,this.animationBuilder=void 0,{direction:Be,animation:ht,animationBuilder:Nt}}navigate(Be,ht){if(Array.isArray(Be))return this.router.navigate(Be,ht);{const Nt=this.serializer.parse(Be.toString());return void 0!==ht.queryParams&&(Nt.queryParams={...ht.queryParams}),void 0!==ht.fragment&&(Nt.fragment=ht.fragment),this.router.navigateByUrl(Nt,ht)}}}return ce=ke,(0,O.A)(ke,"\u0275fac",function(Be){return new(Be||ce)(ge.KVO(Ye),ge.KVO(o.aZ),ge.KVO(Ie.Sd),ge.KVO(Ie.Ix,8))}),(0,O.A)(ke,"\u0275prov",ge.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})),ke})();const dt=(ce,ke,lt)=>{if(!1!==ke){if(void 0!==lt)return lt;if("forward"===ce||"back"===ce)return ce;if("root"===ce&&!0===ke)return"forward"}},Ve="auto",Qe=void 0;let Ze=(()=>{var ce;class ke{get(Be,ht){const Nt=et();return Nt?Nt.get(Be,ht):null}getBoolean(Be,ht){const Nt=et();return!!Nt&&Nt.getBoolean(Be,ht)}getNumber(Be,ht){const Nt=et();return Nt?Nt.getNumber(Be,ht):0}}return ce=ke,(0,O.A)(ke,"\u0275fac",function(Be){return new(Be||ce)}),(0,O.A)(ke,"\u0275prov",ge.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})),ke})();const at=new ge.nKC("USERCONFIG"),et=()=>{if(typeof window<"u"){const ce=window.Ionic;if(null!=ce&&ce.config)return ce.config}return null};class st{constructor(ke={}){(0,O.A)(this,"data",void 0),this.data=ke,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(ke){return this.data[ke]}}let Dt=(()=>{var ce;class ke{constructor(){(0,O.A)(this,"zone",(0,ge.WQX)(ge.SKi)),(0,O.A)(this,"applicationRef",(0,ge.WQX)(ge.o8S)),(0,O.A)(this,"config",(0,ge.WQX)(at))}create(Be,ht,Nt){var nn;return new on(Be,ht,this.applicationRef,this.zone,Nt,null!==(nn=this.config.useSetInputAPI)&&void 0!==nn&&nn)}}return ce=ke,(0,O.A)(ke,"\u0275fac",function(Be){return new(Be||ce)}),(0,O.A)(ke,"\u0275prov",ge.jDH({token:ce,factory:ce.\u0275fac})),ke})();class on{constructor(ke,lt,Be,ht,Nt,nn){(0,O.A)(this,"environmentInjector",void 0),(0,O.A)(this,"injector",void 0),(0,O.A)(this,"applicationRef",void 0),(0,O.A)(this,"zone",void 0),(0,O.A)(this,"elementReferenceKey",void 0),(0,O.A)(this,"enableSignalsSupport",void 0),(0,O.A)(this,"elRefMap",new WeakMap),(0,O.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=ke,this.injector=lt,this.applicationRef=Be,this.zone=ht,this.elementReferenceKey=Nt,this.enableSignalsSupport=nn}attachViewToDom(ke,lt,Be,ht){return this.zone.run(()=>new Promise(Nt=>{const nn={...Be};void 0!==this.elementReferenceKey&&(nn[this.elementReferenceKey]=ke),Nt(Lt(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,ke,lt,nn,ht,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(ke,lt){return this.zone.run(()=>new Promise(Be=>{const ht=this.elRefMap.get(lt);if(ht){ht.destroy(),this.elRefMap.delete(lt);const Nt=this.elEventsMap.get(lt);Nt&&(Nt(),this.elEventsMap.delete(lt))}Be()}))}}const Lt=(ce,ke,lt,Be,ht,Nt,nn,dn,Sn,Wn,zn,yr)=>{const Tr=ge.zZn.create({providers:Yt(Sn),parent:lt}),Jn=(0,ge.a0P)(dn,{environmentInjector:ke,elementInjector:Tr}),vr=Jn.instance,Vr=Jn.location.nativeElement;if(Sn)if(zn&&void 0!==vr[zn]&&console.error(`[Ionic Error]: ${zn} is a reserved property when using ${nn.tagName.toLowerCase()}. Rename or remove the "${zn}" property from ${dn.name}.`),!0===yr&&void 0!==Jn.setInput){const{modal:Lr,popover:To,...eo}=Sn;for(const wo in eo)Jn.setInput(wo,eo[wo]);void 0!==Lr&&Object.assign(vr,{modal:Lr}),void 0!==To&&Object.assign(vr,{popover:To})}else Object.assign(vr,Sn);if(Wn)for(const Lr of Wn)Vr.classList.add(Lr);const Sr=Bt(ce,vr,Vr);return nn.appendChild(Vr),Be.attachView(Jn.hostView),ht.set(Vr,Jn),Nt.set(Vr,Sr),Vr},an=[H.L,H.a,H.b,H.c,H.d],Bt=(ce,ke,lt)=>ce.run(()=>{const Be=an.filter(ht=>"function"==typeof ke[ht]).map(ht=>{const Nt=nn=>ke[ht](nn.detail);return lt.addEventListener(ht,Nt),()=>lt.removeEventListener(ht,Nt)});return()=>Be.forEach(ht=>ht())}),gn=new ge.nKC("NavParamsToken"),Yt=ce=>[{provide:gn,useValue:ce},{provide:st,useFactory:hn,deps:[gn]}],hn=ce=>new st(ce),At=(ce,ke)=>{const lt=ce.prototype;ke.forEach(Be=>{Object.defineProperty(lt,Be,{get(){return this.el[Be]},set(ht){this.z.runOutsideAngular(()=>this.el[Be]=ht)}})})},sn=(ce,ke)=>{const lt=ce.prototype;ke.forEach(Be=>{lt[Be]=function(){const ht=arguments;return this.z.runOutsideAngular(()=>this.el[Be].apply(this.el,ht))}})},$t=(ce,ke,lt)=>{lt.forEach(Be=>ce[Be]=(0,z.R)(ke,Be))};function ze(ce){return function(lt){const{defineCustomElementFn:Be,inputs:ht,methods:Nt}=ce;return void 0!==Be&&Be(),ht&&At(lt,ht),Nt&&sn(lt,Nt),lt}}const $e=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Pe=["present","dismiss","onDidDismiss","onWillDismiss"];let qe=(()=>{var ce;let ke=((0,O.A)(ce=class{constructor(Be,ht,Nt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"template",void 0),(0,O.A)(this,"isCmpOpen",!1),(0,O.A)(this,"el",void 0),this.z=Nt,this.el=ht.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,Be.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,Be.detectChanges()}),$t(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(Be){return new(Be||ce)(ge.rXU(ge.gRc),ge.rXU(ge.aKT),ge.rXU(ge.SKi))}),(0,O.A)(ce,"\u0275dir",ge.FsC({type:ce,selectors:[["ion-popover"]],contentQueries:function(Be,ht,Nt){if(1&Be&&ge.wni(Nt,ge.C4Q,5),2&Be){let nn;ge.mGM(nn=ge.lsd())&&(ht.template=nn.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),ce);return ke=(0,V.Cg)([ze({inputs:$e,methods:Pe})],ke),ke})();const Et=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Ft=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Xt=(()=>{var ce;let ke=((0,O.A)(ce=class{constructor(Be,ht,Nt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"template",void 0),(0,O.A)(this,"isCmpOpen",!1),(0,O.A)(this,"el",void 0),this.z=Nt,this.el=ht.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,Be.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,Be.detectChanges()}),$t(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(Be){return new(Be||ce)(ge.rXU(ge.gRc),ge.rXU(ge.aKT),ge.rXU(ge.SKi))}),(0,O.A)(ce,"\u0275dir",ge.FsC({type:ce,selectors:[["ion-modal"]],contentQueries:function(Be,ht,Nt){if(1&Be&&ge.wni(Nt,ge.C4Q,5),2&Be){let nn;ge.mGM(nn=ge.lsd())&&(ht.template=nn.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),ce);return ke=(0,V.Cg)([ze({inputs:Et,methods:Ft})],ke),ke})();const Ut=(ce,ke)=>((ce=ce.filter(lt=>lt.stackId!==ke.stackId)).push(ke),ce),tt=(ce,ke)=>{const lt=ce.createUrlTree(["."],{relativeTo:ke});return ce.serializeUrl(lt)},ot=(ce,ke)=>!ke||ce.stackId!==ke.stackId,Ct=(ce,ke)=>{if(!ce)return;const lt=vt(ke);for(let Be=0;Be<lt.length;Be++){if(Be>=ce.length)return lt[Be];if(lt[Be]!==ce[Be])return}},vt=ce=>ce.split("/").map(ke=>ke.trim()).filter(ke=>""!==ke),Mt=ce=>{ce&&(ce.ref.destroy(),ce.unlistenEvents())};class ln{constructor(ke,lt,Be,ht,Nt,nn){(0,O.A)(this,"containerEl",void 0),(0,O.A)(this,"router",void 0),(0,O.A)(this,"navCtrl",void 0),(0,O.A)(this,"zone",void 0),(0,O.A)(this,"location",void 0),(0,O.A)(this,"views",[]),(0,O.A)(this,"runningTask",void 0),(0,O.A)(this,"skipTransition",!1),(0,O.A)(this,"tabsPrefix",void 0),(0,O.A)(this,"activeView",void 0),(0,O.A)(this,"nextId",0),this.containerEl=lt,this.router=Be,this.navCtrl=ht,this.zone=Nt,this.location=nn,this.tabsPrefix=void 0!==ke?vt(ke):void 0}createView(ke,lt){var Be;const ht=tt(this.router,lt),Nt=null==ke||null===(Be=ke.location)||void 0===Be?void 0:Be.nativeElement,nn=Bt(this.zone,ke.instance,Nt);return{id:this.nextId++,stackId:Ct(this.tabsPrefix,ht),unlistenEvents:nn,element:Nt,ref:ke,url:ht}}getExistingView(ke){const lt=tt(this.router,ke),Be=this.views.find(ht=>ht.url===lt);return Be&&Be.ref.changeDetectorRef.reattach(),Be}setActive(ke){var lt,Be;const ht=this.navCtrl.consumeTransition();let{direction:Nt,animation:nn,animationBuilder:dn}=ht;const Sn=this.activeView,Wn=ot(ke,Sn);Wn&&(Nt="back",nn=void 0);const zn=this.views.slice();let yr;const Tr=this.router;Tr.getCurrentNavigation?yr=Tr.getCurrentNavigation():null!==(lt=Tr.navigations)&&void 0!==lt&&lt.value&&(yr=Tr.navigations.value),null!==(Be=yr)&&void 0!==Be&&null!==(Be=Be.extras)&&void 0!==Be&&Be.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Jn=this.views.includes(ke),vr=this.insertView(ke,Nt);Jn||ke.ref.changeDetectorRef.detectChanges();const Vr=ke.animationBuilder;return void 0===dn&&"back"===Nt&&!Wn&&void 0!==Vr&&(dn=Vr),Sn&&(Sn.animationBuilder=dn),this.zone.runOutsideAngular(()=>this.wait(()=>(Sn&&Sn.ref.changeDetectorRef.detach(),ke.ref.changeDetectorRef.reattach(),this.transition(ke,Sn,nn,this.canGoBack(1),!1,dn).then(()=>gt(ke,vr,zn,this.location,this.zone)).then(()=>({enteringView:ke,direction:Nt,animation:nn,tabSwitch:Wn})))))}canGoBack(ke,lt=this.getActiveStackId()){return this.getStack(lt).length>ke}pop(ke,lt=this.getActiveStackId()){return this.zone.run(()=>{const Be=this.getStack(lt);if(Be.length<=ke)return Promise.resolve(!1);const ht=Be[Be.length-ke-1];let Nt=ht.url;const nn=ht.savedData;if(nn){var dn;const Wn=nn.get("primary");null!=Wn&&null!==(dn=Wn.route)&&void 0!==dn&&null!==(dn=dn._routerState)&&void 0!==dn&&dn.snapshot.url&&(Nt=Wn.route._routerState.snapshot.url)}const{animationBuilder:Sn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Nt,{...ht.savedExtras,animation:Sn}).then(()=>!0)})}startBackTransition(){const ke=this.activeView;if(ke){const lt=this.getStack(ke.stackId),Be=lt[lt.length-2],ht=Be.animationBuilder;return this.wait(()=>this.transition(Be,ke,"back",this.canGoBack(2),!0,ht))}return Promise.resolve()}endBackTransition(ke){ke?(this.skipTransition=!0,this.pop(1)):this.activeView&&St(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(ke){const lt=this.getStack(ke);return lt.length>0?lt[lt.length-1]:void 0}getRootUrl(ke){const lt=this.getStack(ke);return lt.length>0?lt[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Mt),this.activeView=void 0,this.views=[]}getStack(ke){return this.views.filter(lt=>lt.stackId===ke)}insertView(ke,lt){return this.activeView=ke,this.views=((ce,ke,lt)=>"root"===lt?Ut(ce,ke):"forward"===lt?((ce,ke)=>(ce.indexOf(ke)>=0?ce=ce.filter(Be=>Be.stackId!==ke.stackId||Be.id<=ke.id):ce.push(ke),ce))(ce,ke):((ce,ke)=>ce.indexOf(ke)>=0?ce.filter(Be=>Be.stackId!==ke.stackId||Be.id<=ke.id):Ut(ce,ke))(ce,ke))(this.views,ke,lt),this.views.slice()}transition(ke,lt,Be,ht,Nt,nn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(lt===ke)return Promise.resolve(!1);const dn=ke?ke.element:void 0,Sn=lt?lt.element:void 0,Wn=this.containerEl;return dn&&dn!==Sn&&(dn.classList.add("ion-page"),dn.classList.add("ion-page-invisible"),Wn.commit)?Wn.commit(dn,Sn,{duration:void 0===Be?0:void 0,direction:Be,showGoBack:ht,progressAnimation:Nt,animationBuilder:nn}):Promise.resolve(!1)}wait(ke){var lt=this;return(0,j.A)(function*(){void 0!==lt.runningTask&&(yield lt.runningTask,lt.runningTask=void 0);const Be=lt.runningTask=ke();return Be.finally(()=>lt.runningTask=void 0),Be})()}}const gt=(ce,ke,lt,Be,ht)=>"function"==typeof requestAnimationFrame?new Promise(Nt=>{requestAnimationFrame(()=>{St(ce,ke,lt,Be,ht),Nt()})}):Promise.resolve(),St=(ce,ke,lt,Be,ht)=>{ht.run(()=>lt.filter(Nt=>!ke.includes(Nt)).forEach(Mt)),ke.forEach(Nt=>{const dn=Be.path().split("?")[0].split("#")[0];if(Nt!==ce&&Nt.url!==dn){const Sn=Nt.element;Sn.setAttribute("aria-hidden","true"),Sn.classList.add("ion-page-hidden"),Nt.ref.changeDetectorRef.detach()}})};let zt=(()=>{var ce;class ke{get activatedComponentRef(){return this.activated}set animation(Be){this.nativeEl.animation=Be}set animated(Be){this.nativeEl.animated=Be}set swipeGesture(Be){this._swipeGesture=Be,this.nativeEl.swipeHandler=Be?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:ht=>this.stackCtrl.endBackTransition(ht)}:void 0}constructor(Be,ht,Nt,nn,dn,Sn,Wn,zn){(0,O.A)(this,"parentOutlet",void 0),(0,O.A)(this,"nativeEl",void 0),(0,O.A)(this,"activatedView",null),(0,O.A)(this,"tabsPrefix",void 0),(0,O.A)(this,"_swipeGesture",void 0),(0,O.A)(this,"stackCtrl",void 0),(0,O.A)(this,"proxyMap",new WeakMap),(0,O.A)(this,"currentActivatedRoute$",new R.t(null)),(0,O.A)(this,"activated",null),(0,O.A)(this,"_activatedRoute",null),(0,O.A)(this,"name",Ie.Xk),(0,O.A)(this,"stackWillChange",new ge.bkB),(0,O.A)(this,"stackDidChange",new ge.bkB),(0,O.A)(this,"activateEvents",new ge.bkB),(0,O.A)(this,"deactivateEvents",new ge.bkB),(0,O.A)(this,"parentContexts",(0,ge.WQX)(Ie.Zp)),(0,O.A)(this,"location",(0,ge.WQX)(ge.c1b)),(0,O.A)(this,"environmentInjector",(0,ge.WQX)(ge.uvJ)),(0,O.A)(this,"inputBinder",(0,ge.WQX)(tn,{optional:!0})),(0,O.A)(this,"supportsBindingToComponentInputs",!0),(0,O.A)(this,"config",(0,ge.WQX)(Ze)),(0,O.A)(this,"navCtrl",(0,ge.WQX)(ct)),this.parentOutlet=zn,this.nativeEl=nn.nativeElement,this.name=Be||Ie.Xk,this.tabsPrefix="true"===ht?tt(dn,Wn):void 0,this.stackCtrl=new ln(this.tabsPrefix,this.nativeEl,dn,this.navCtrl,Sn,Nt),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var Be;this.stackCtrl.destroy(),null===(Be=this.inputBinder)||void 0===Be||Be.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const Be=this.getContext();null!=Be&&Be.route&&this.activateWith(Be.route,Be.injector)}new Promise(Be=>((ce,ke)=>{ce.componentOnReady?ce.componentOnReady().then(lt=>ke(lt)):(ce=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ce):"function"==typeof requestAnimationFrame?requestAnimationFrame(ce):setTimeout(ce)})(()=>ke(ce))})(this.nativeEl,Be)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(Be,ht){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const ht=this.getContext();this.activatedView.savedData=new Map(ht.children.contexts);const Nt=this.activatedView.savedData.get("primary");if(Nt&&ht.route&&(Nt.route={...ht.route}),this.activatedView.savedExtras={},ht.route){const nn=ht.route.snapshot;this.activatedView.savedExtras.queryParams=nn.queryParams,this.activatedView.savedExtras.fragment=nn.fragment}}const Be=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Be)}}activateWith(Be,ht){var Nt;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=Be;let nn,dn=this.stackCtrl.getExistingView(Be);if(dn){nn=this.activated=dn.ref;const zn=dn.savedData;zn&&(this.getContext().children.contexts=zn),this.updateActivatedRouteProxy(nn.instance,Be)}else{var Sn;const zn=Be._futureSnapshot,yr=this.parentContexts.getOrCreateContext(this.name).children,Tr=new R.t(null),Jn=this.createActivatedRouteProxy(Tr,Be),vr=new Rt(Jn,yr,this.location.injector),Vr=null!==(Sn=zn.routeConfig.component)&&void 0!==Sn?Sn:zn.component;nn=this.activated=this.outletContent.createComponent(Vr,{index:this.outletContent.length,injector:vr,environmentInjector:null!=ht?ht:this.environmentInjector}),Tr.next(nn.instance),dn=this.stackCtrl.createView(this.activated,Be),this.proxyMap.set(nn.instance,Jn),this.currentActivatedRoute$.next({component:nn.instance,activatedRoute:Be})}null===(Nt=this.inputBinder)||void 0===Nt||Nt.bindActivatedRouteToOutletComponent(this),this.activatedView=dn,this.navCtrl.setTopOutlet(this);const Wn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:dn,tabSwitch:ot(dn,Wn)}),this.stackCtrl.setActive(dn).then(zn=>{this.activateEvents.emit(nn.instance),this.stackDidChange.emit(zn)})}canGoBack(Be=1,ht){return this.stackCtrl.canGoBack(Be,ht)}pop(Be=1,ht){return this.stackCtrl.pop(Be,ht)}getLastUrl(Be){const ht=this.stackCtrl.getLastUrl(Be);return ht?ht.url:void 0}getLastRouteView(Be){return this.stackCtrl.getLastUrl(Be)}getRootView(Be){return this.stackCtrl.getRootUrl(Be)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(Be,ht){const Nt=new Ie.nX;return Nt._futureSnapshot=ht._futureSnapshot,Nt._routerState=ht._routerState,Nt.snapshot=ht.snapshot,Nt.outlet=ht.outlet,Nt.component=ht.component,Nt._paramMap=this.proxyObservable(Be,"paramMap"),Nt._queryParamMap=this.proxyObservable(Be,"queryParamMap"),Nt.url=this.proxyObservable(Be,"url"),Nt.params=this.proxyObservable(Be,"params"),Nt.queryParams=this.proxyObservable(Be,"queryParams"),Nt.fragment=this.proxyObservable(Be,"fragment"),Nt.data=this.proxyObservable(Be,"data"),Nt}proxyObservable(Be,ht){return Be.pipe((0,X.p)(Nt=>!!Nt),(0,U.n)(Nt=>this.currentActivatedRoute$.pipe((0,X.p)(nn=>null!==nn&&nn.component===Nt),(0,U.n)(nn=>nn&&nn.activatedRoute[ht]),function Te(ce,ke=F.D){return ce=null!=ce?ce:q,(0,K.N)((lt,Be)=>{let ht,Nt=!0;lt.subscribe((0,ie._)(Be,nn=>{const dn=ke(nn);(Nt||!ce(ht,dn))&&(Nt=!1,ht=dn,Be.next(nn))}))})}())))}updateActivatedRouteProxy(Be,ht){const Nt=this.proxyMap.get(Be);if(!Nt)throw new Error("Could not find activated route proxy for view");Nt._futureSnapshot=ht._futureSnapshot,Nt._routerState=ht._routerState,Nt.snapshot=ht.snapshot,Nt.outlet=ht.outlet,Nt.component=ht.component,this.currentActivatedRoute$.next({component:Be,activatedRoute:ht})}}return ce=ke,(0,O.A)(ke,"\u0275fac",function(Be){return new(Be||ce)(ge.kS0("name"),ge.kS0("tabs"),ge.rXU(o.aZ),ge.rXU(ge.aKT),ge.rXU(Ie.Ix),ge.rXU(ge.SKi),ge.rXU(Ie.nX),ge.rXU(ce,12))}),(0,O.A)(ke,"\u0275dir",ge.FsC({type:ce,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),ke})();class Rt{constructor(ke,lt,Be){(0,O.A)(this,"route",void 0),(0,O.A)(this,"childContexts",void 0),(0,O.A)(this,"parent",void 0),this.route=ke,this.childContexts=lt,this.parent=Be}get(ke,lt){return ke===Ie.nX?this.route:ke===Ie.Zp?this.childContexts:this.parent.get(ke,lt)}}const tn=new ge.nKC("");let fn=(()=>{var ce;class ke{constructor(){(0,O.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(Be){this.unsubscribeFromRouteData(Be),this.subscribeToRouteData(Be)}unsubscribeFromRouteData(Be){var ht;null===(ht=this.outletDataSubscriptions.get(Be))||void 0===ht||ht.unsubscribe(),this.outletDataSubscriptions.delete(Be)}subscribeToRouteData(Be){const{activatedRoute:ht}=Be,Nt=(0,Q.z)([ht.queryParams,ht.params,ht.data]).pipe((0,U.n)(([nn,dn,Sn],Wn)=>(Sn={...nn,...dn,...Sn},0===Wn?(0,ne.of)(Sn):Promise.resolve(Sn)))).subscribe(nn=>{if(!Be.isActivated||!Be.activatedComponentRef||Be.activatedRoute!==ht||null===ht.component)return void this.unsubscribeFromRouteData(Be);const dn=(0,ge.HJs)(ht.component);if(dn)for(const{templateName:Sn}of dn.inputs)Be.activatedComponentRef.setInput(Sn,nn[Sn]);else this.unsubscribeFromRouteData(Be)});this.outletDataSubscriptions.set(Be,Nt)}}return ce=ke,(0,O.A)(ke,"\u0275fac",function(Be){return new(Be||ce)}),(0,O.A)(ke,"\u0275prov",ge.jDH({token:ce,factory:ce.\u0275fac})),ke})();const bn=()=>({provide:tn,useFactory:Tn,deps:[Ie.Ix]});function Tn(ce){return null!=ce&&ce.componentInputBindingEnabled?new fn:null}const An=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Ln=(()=>{var ce;let ke=((0,O.A)(ce=class{constructor(Be,ht,Nt,nn,dn,Sn){(0,O.A)(this,"routerOutlet",void 0),(0,O.A)(this,"navCtrl",void 0),(0,O.A)(this,"config",void 0),(0,O.A)(this,"r",void 0),(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.routerOutlet=Be,this.navCtrl=ht,this.config=Nt,this.r=nn,this.z=dn,Sn.detach(),this.el=this.r.nativeElement}onClick(Be){var ht;const Nt=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(ht=this.routerOutlet)&&void 0!==ht&&ht.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),Be.preventDefault()):null!=Nt&&(this.navCtrl.navigateBack(Nt,{animation:this.routerAnimation}),Be.preventDefault())}},"\u0275fac",function(Be){return new(Be||ce)(ge.rXU(zt,8),ge.rXU(ct),ge.rXU(Ze),ge.rXU(ge.aKT),ge.rXU(ge.SKi),ge.rXU(ge.gRc))}),(0,O.A)(ce,"\u0275dir",ge.FsC({type:ce,hostBindings:function(Be,ht){1&Be&&ge.bIt("click",function(nn){return ht.onClick(nn)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),ce);return ke=(0,V.Cg)([ze({inputs:An})],ke),ke})(),jn=(()=>{var ce;class ke{constructor(Be,ht,Nt,nn,dn){(0,O.A)(this,"locationStrategy",void 0),(0,O.A)(this,"navCtrl",void 0),(0,O.A)(this,"elementRef",void 0),(0,O.A)(this,"router",void 0),(0,O.A)(this,"routerLink",void 0),(0,O.A)(this,"routerDirection","forward"),(0,O.A)(this,"routerAnimation",void 0),this.locationStrategy=Be,this.navCtrl=ht,this.elementRef=Nt,this.router=nn,this.routerLink=dn}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var Be;if(null!==(Be=this.routerLink)&&void 0!==Be&&Be.urlTree){const ht=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ht}}onClick(Be){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),Be.preventDefault()}}return ce=ke,(0,O.A)(ke,"\u0275fac",function(Be){return new(Be||ce)(ge.rXU(o.hb),ge.rXU(ct),ge.rXU(ge.aKT),ge.rXU(Ie.Ix),ge.rXU(Ie.Wk,8))}),(0,O.A)(ke,"\u0275dir",ge.FsC({type:ce,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(Be,ht){1&Be&&ge.bIt("click",function(nn){return ht.onClick(nn)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[ge.OA$]})),ke})(),sr=(()=>{var ce;class ke{constructor(Be,ht,Nt,nn,dn){(0,O.A)(this,"locationStrategy",void 0),(0,O.A)(this,"navCtrl",void 0),(0,O.A)(this,"elementRef",void 0),(0,O.A)(this,"router",void 0),(0,O.A)(this,"routerLink",void 0),(0,O.A)(this,"routerDirection","forward"),(0,O.A)(this,"routerAnimation",void 0),this.locationStrategy=Be,this.navCtrl=ht,this.elementRef=Nt,this.router=nn,this.routerLink=dn}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var Be;if(null!==(Be=this.routerLink)&&void 0!==Be&&Be.urlTree){const ht=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ht}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return ce=ke,(0,O.A)(ke,"\u0275fac",function(Be){return new(Be||ce)(ge.rXU(o.hb),ge.rXU(ct),ge.rXU(ge.aKT),ge.rXU(Ie.Ix),ge.rXU(Ie.Wk,8))}),(0,O.A)(ke,"\u0275dir",ge.FsC({type:ce,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(Be,ht){1&Be&&ge.bIt("click",function(){return ht.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[ge.OA$]})),ke})();const Y=["animated","animation","root","rootParams","swipeGesture"],be=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Re=(()=>{var ce;let ke=((0,O.A)(ce=class{constructor(Be,ht,Nt,nn,dn,Sn){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=dn,Sn.detach(),this.el=Be.nativeElement,Be.nativeElement.delegate=nn.create(ht,Nt),$t(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(Be){return new(Be||ce)(ge.rXU(ge.aKT),ge.rXU(ge.uvJ),ge.rXU(ge.zZn),ge.rXU(Dt),ge.rXU(ge.SKi),ge.rXU(ge.gRc))}),(0,O.A)(ce,"\u0275dir",ge.FsC({type:ce,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),ce);return ke=(0,V.Cg)([ze({inputs:Y,methods:be})],ke),ke})(),b=(()=>{var ce;class ke{constructor(Be){(0,O.A)(this,"navCtrl",void 0),(0,O.A)(this,"tabsInner",void 0),(0,O.A)(this,"ionTabsWillChange",new ge.bkB),(0,O.A)(this,"ionTabsDidChange",new ge.bkB),(0,O.A)(this,"tabBarSlot","bottom"),this.navCtrl=Be}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:Be,tabSwitch:ht}){const Nt=Be.stackId;ht&&void 0!==Nt&&this.ionTabsWillChange.emit({tab:Nt})}onStackDidChange({enteringView:Be,tabSwitch:ht}){const Nt=Be.stackId;ht&&void 0!==Nt&&(this.tabBar&&(this.tabBar.selectedTab=Nt),this.ionTabsDidChange.emit({tab:Nt}))}select(Be){const ht="string"==typeof Be,Nt=ht?Be:Be.detail.tab,nn=this.outlet.getActiveStackId()===Nt,dn=`${this.outlet.tabsPrefix}/${Nt}`;if(ht||Be.stopPropagation(),nn){const Sn=this.outlet.getActiveStackId(),Wn=this.outlet.getLastRouteView(Sn);if((null==Wn?void 0:Wn.url)===dn)return;const zn=this.outlet.getRootView(Nt);return this.navCtrl.navigateRoot(dn,{...zn&&dn===zn.url&&zn.savedExtras,animated:!0,animationDirection:"back"})}{const Sn=this.outlet.getLastRouteView(Nt);return this.navCtrl.navigateRoot((null==Sn?void 0:Sn.url)||dn,{...null==Sn?void 0:Sn.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(Be=>{const ht=Be.el.getAttribute("slot");ht!==this.tabBarSlot&&(this.tabBarSlot=ht,this.relocateTabBar())})}relocateTabBar(){const Be=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(Be):this.tabsInner.nativeElement.after(Be)}}return ce=ke,(0,O.A)(ke,"\u0275fac",function(Be){return new(Be||ce)(ge.rXU(ct))}),(0,O.A)(ke,"\u0275dir",ge.FsC({type:ce,selectors:[["ion-tabs"]],viewQuery:function(Be,ht){if(1&Be&&ge.GBs(ee,7,ge.aKT),2&Be){let Nt;ge.mGM(Nt=ge.lsd())&&(ht.tabsInner=Nt.first)}},hostBindings:function(Be,ht){1&Be&&ge.bIt("ionTabButtonClick",function(nn){return ht.select(nn)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),ke})();const P=ce=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ce):"function"==typeof requestAnimationFrame?requestAnimationFrame(ce):setTimeout(ce);let B=(()=>{var ce;class ke{constructor(Be,ht){(0,O.A)(this,"injector",void 0),(0,O.A)(this,"elementRef",void 0),(0,O.A)(this,"onChange",()=>{}),(0,O.A)(this,"onTouched",()=>{}),(0,O.A)(this,"lastValue",void 0),(0,O.A)(this,"statusChanges",void 0),this.injector=Be,this.elementRef=ht}writeValue(Be){this.elementRef.nativeElement.value=this.lastValue=Be,L(this.elementRef)}handleValueChange(Be,ht){Be===this.elementRef.nativeElement&&(ht!==this.lastValue&&(this.lastValue=ht,this.onChange(ht)),L(this.elementRef))}_handleBlurEvent(Be){Be===this.elementRef.nativeElement&&(this.onTouched(),L(this.elementRef))}registerOnChange(Be){this.onChange=Be}registerOnTouched(Be){this.onTouched=Be}setDisabledState(Be){this.elementRef.nativeElement.disabled=Be}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let Be;try{Be=this.injector.get(k.vO)}catch{}if(!Be)return;Be.statusChanges&&(this.statusChanges=Be.statusChanges.subscribe(()=>L(this.elementRef)));const ht=Be.control;ht&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(nn=>{if(typeof ht[nn]<"u"){const dn=ht[nn].bind(ht);ht[nn]=(...Sn)=>{dn(...Sn),L(this.elementRef)}}})}}return ce=ke,(0,O.A)(ke,"\u0275fac",function(Be){return new(Be||ce)(ge.rXU(ge.zZn),ge.rXU(ge.aKT))}),(0,O.A)(ke,"\u0275dir",ge.FsC({type:ce,hostBindings:function(Be,ht){1&Be&&ge.bIt("ionBlur",function(nn){return ht._handleBlurEvent(nn.target)})}})),ke})();const L=ce=>{P(()=>{const ke=ce.nativeElement,lt=null!=ke.value&&ke.value.toString().length>0,Be=se(ke);W(ke,Be);const ht=ke.closest("ion-item");ht&&W(ht,lt?[...Be,"item-has-value"]:Be)})},se=ce=>{const ke=ce.classList,lt=[];for(let Be=0;Be<ke.length;Be++){const ht=ke.item(Be);null!==ht&&ye(ht,"ng-")&&lt.push(`ion-${ht.substring(3)}`)}return lt},W=(ce,ke)=>{const lt=ce.classList;lt.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),lt.add(...ke)},ye=(ce,ke)=>ce.substring(0,ke.length)===ke;class Me{shouldDetach(ke){return!1}shouldAttach(ke){return!1}store(ke,lt){}retrieve(ke){return null}shouldReuseRoute(ke,lt){if(ke.routeConfig!==lt.routeConfig)return!1;const Be=ke.params,ht=lt.params,Nt=Object.keys(Be),nn=Object.keys(ht);if(Nt.length!==nn.length)return!1;for(const dn of Nt)if(ht[dn]!==Be[dn])return!1;return!0}}class Xe{constructor(ke){(0,O.A)(this,"ctrl",void 0),this.ctrl=ke}create(ke){return this.ctrl.create(ke||{})}dismiss(ke,lt,Be){return this.ctrl.dismiss(ke,lt,Be)}getTop(){return this.ctrl.getTop()}}},5374:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{hG:()=>Vr,hB:()=>_,xk:()=>Q,YH:()=>ne,U1:()=>U,mC:()=>F,el:()=>Nt,In:()=>ie,Jm:()=>k,QW:()=>ee,b_:()=>me,I9:()=>xe,ME:()=>Ge,HW:()=>Ye,tN:()=>mt,eY:()=>We,ZB:()=>ct,hU:()=>dt,W9:()=>Ve,A9:()=>Qe,M0:()=>Dt,lO:()=>on,eU:()=>Lt,iq:()=>an,$w:()=>hn,uz:()=>sn,Dg:()=>$t,he:()=>Et,nf:()=>Ft,AF:()=>Xt,T6:()=>vr,Sb:()=>Wn,CF:()=>zn,KO:()=>St,f0:()=>zt,Rg:()=>Be,ln:()=>Ln,Nm:()=>be,Ip:()=>Re,Jq:()=>L,qW:()=>se,p4:()=>ht,BC:()=>Xe,BY:()=>ke,ai:()=>lt,bv:()=>vi,Xi:()=>eo,W3:()=>ko,su:()=>M,Je:()=>x,Gw:()=>A});var j=fe(9842),O=fe(3953),ge=fe(4341),Ie=fe(3656),o=fe(1635),oe=fe(3726),H=fe(177),v=fe(9858),w=fe(617),y=fe(467),C=fe(8393);const s=fe(4921).i,u=function(){var _e=(0,y.A)(function*(Ke,pt){if(!(typeof window>"u"))return yield s(),(0,C.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),pt)});return function(pt,Se){return _e.apply(this,arguments)}}(),a=["*"],d=["outletContent"],p=["outlet"],l=[[["","slot","top"]],"*"],m=["[slot=top]","*"];function c(_e,Ke){if(1&_e&&(O.j41(0,"div",1),O.eu8(1,2),O.k0s()),2&_e){const pt=O.XpG();O.R7$(),O.Y8G("ngTemplateOutlet",pt.template)}}function h(_e,Ke){if(1&_e&&O.eu8(0,1),2&_e){const pt=O.XpG();O.Y8G("ngTemplateOutlet",pt.template)}}let _=(()=>{var _e;class Ke extends Ie.fL{constructor(Se,yt){super(Se,yt)}writeValue(Se){this.elementRef.nativeElement.checked=this.lastValue=Se,(0,Ie.z3)(this.elementRef)}_handleIonChange(Se){this.handleValueChange(Se,Se.checked)}}return _e=Ke,(0,j.A)(Ke,"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.zZn),O.rXU(O.aKT))}),(0,j.A)(Ke,"\u0275dir",O.FsC({type:_e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(Se,yt){1&Se&&O.bIt("ionChange",function(fr){return yt._handleIonChange(fr.target)})},features:[O.Jv_([{provide:ge.kq,useExisting:_e,multi:!0}]),O.Vt3]})),Ke})(),M=(()=>{var _e;class Ke extends Ie.fL{constructor(Se,yt){super(Se,yt),(0,j.A)(this,"el",void 0),this.el=yt}handleInputEvent(Se){this.handleValueChange(Se,Se.value)}registerOnChange(Se){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?yt=>{Se(""===yt?null:parseFloat(yt))}:Se)}}return _e=Ke,(0,j.A)(Ke,"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.zZn),O.rXU(O.aKT))}),(0,j.A)(Ke,"\u0275dir",O.FsC({type:_e,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(Se,yt){1&Se&&O.bIt("ionInput",function(fr){return yt.handleInputEvent(fr.target)})},features:[O.Jv_([{provide:ge.kq,useExisting:_e,multi:!0}]),O.Vt3]})),Ke})(),x=(()=>{var _e;class Ke extends Ie.fL{constructor(Se,yt){super(Se,yt)}_handleChangeEvent(Se){this.handleValueChange(Se,Se.value)}}return _e=Ke,(0,j.A)(Ke,"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.zZn),O.rXU(O.aKT))}),(0,j.A)(Ke,"\u0275dir",O.FsC({type:_e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(Se,yt){1&Se&&O.bIt("ionChange",function(fr){return yt._handleChangeEvent(fr.target)})},features:[O.Jv_([{provide:ge.kq,useExisting:_e,multi:!0}]),O.Vt3]})),Ke})(),A=(()=>{var _e;class Ke extends Ie.fL{constructor(Se,yt){super(Se,yt)}_handleInputEvent(Se){this.handleValueChange(Se,Se.value)}}return _e=Ke,(0,j.A)(Ke,"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.zZn),O.rXU(O.aKT))}),(0,j.A)(Ke,"\u0275dir",O.FsC({type:_e,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(Se,yt){1&Se&&O.bIt("ionInput",function(fr){return yt._handleInputEvent(fr.target)})},features:[O.Jv_([{provide:ge.kq,useExisting:_e,multi:!0}]),O.Vt3]})),Ke})();const T=(_e,Ke)=>{const pt=_e.prototype;Ke.forEach(Se=>{Object.defineProperty(pt,Se,{get(){return this.el[Se]},set(yt){this.z.runOutsideAngular(()=>this.el[Se]=yt)},configurable:!0})})},N=(_e,Ke)=>{const pt=_e.prototype;Ke.forEach(Se=>{pt[Se]=function(){const yt=arguments;return this.z.runOutsideAngular(()=>this.el[Se].apply(this.el,yt))}})},I=(_e,Ke,pt)=>{pt.forEach(Se=>_e[Se]=(0,oe.R)(Ke,Se))};function R(_e){return function(pt){const{defineCustomElementFn:Se,inputs:yt,methods:Jt}=_e;return void 0!==Se&&Se(),yt&&T(pt,yt),Jt&&N(pt,Jt),pt}}let Q=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],Ke),Ke})(),ne=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement,I(this,this.el,["ionChange"])}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],Ke),Ke})(),U=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-app"]],ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({})],Ke),Ke})(),F=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-avatar"]],ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({})],Ke),Ke})(),ie=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["color","mode"]})],Ke),Ke})(),k=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement,I(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],Ke),Ke})(),ee=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["collapse"]})],Ke),Ke})(),me=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],Ke),Ke})(),xe=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["mode"]})],Ke),Ke})(),Ge=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["color","mode","translucent"]})],Ke),Ke})(),Ye=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["color","mode"]})],Ke),Ke})(),mt=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["color","mode"]})],Ke),Ke})(),We=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement,I(this,this.el,["ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","mode","name","value"]})],Ke),Ke})(),ct=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["color","disabled","mode","outline"]})],Ke),Ke})(),dt=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],Ke),Ke})(),Ve=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement,I(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],Ke),Ke})(),Qe=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement,I(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",formatOptions:"formatOptions",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","formatOptions","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],Ke),Ke})(),Dt=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["collapse","mode","translucent"]})],Ke),Ke})(),on=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["fixed"]})],Ke),Ke})(),Lt=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["collapse","mode","translucent"]})],Ke),Ke})(),an=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],Ke),Ke})(),hn=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement,I(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],Ke),Ke})(),sn=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],Ke),Ke})(),$t=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["color","mode","sticky"]})],Ke),Ke})(),Et=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["color","mode","position"]})],Ke),Ke})(),Ft=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],Ke),Ke})(),Xt=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["color","lines","mode"]})],Ke),Ke})(),St=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement,I(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["alignment","color","disabled","justify","labelPlacement","mode","name","value"]})],Ke),Ke})(),zt=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement,I(this,this.el,["ionChange"])}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",compareWith:"compareWith",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["allowEmptySelection","compareWith","name","value"]})],Ke),Ke})(),Ln=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-row"]],ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({})],Ke),Ke})(),be=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement,I(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],Ke),Ke})(),Re=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["disabled","value"]})],Ke),Ke})(),L=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["color","mode","selectedTab","translucent"]})],Ke),Ke})(),se=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],Ke),Ke})(),Xe=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["color","size"]})],Ke),Ke})(),ke=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement,I(this,this.el,["ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","mode","name","value"]})],Ke),Ke})(),lt=(()=>{var _e;let Ke=((0,j.A)(_e=class{constructor(Se,yt,Jt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Jt,Se.detach(),this.el=yt.nativeElement}},"\u0275fac",function(Se){return new(Se||_e)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(_e,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),_e);return Ke=(0,o.Cg)([R({inputs:["color","mode"]})],Ke),Ke})(),Be=(()=>{var _e;class Ke extends Ie.Rg{constructor(Se,yt,Jt,fr,Gr,mo,ti,Yo){super(Se,yt,Jt,fr,Gr,mo,ti,Yo),(0,j.A)(this,"parentOutlet",void 0),(0,j.A)(this,"outletContent",void 0),this.parentOutlet=Yo}}return _e=Ke,(0,j.A)(Ke,"\u0275fac",function(Se){return new(Se||_e)(O.kS0("name"),O.kS0("tabs"),O.rXU(H.aZ),O.rXU(O.aKT),O.rXU(v.Ix),O.rXU(O.SKi),O.rXU(v.nX),O.rXU(_e,12))}),(0,j.A)(Ke,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-router-outlet"]],viewQuery:function(Se,yt){if(1&Se&&O.GBs(d,7,O.c1b),2&Se){let Jt;O.mGM(Jt=O.lsd())&&(yt.outletContent=Jt.first)}},features:[O.Vt3],ngContentSelectors:a,decls:3,vars:0,consts:[["outletContent",""]],template:function(Se,yt){1&Se&&(O.NAR(),O.qex(0,null,0),O.SdG(2),O.bVm())},encapsulation:2})),Ke})(),ht=(()=>{var _e;class Ke extends Ie.p4{constructor(...Se){super(...Se),(0,j.A)(this,"outlet",void 0),(0,j.A)(this,"tabBar",void 0),(0,j.A)(this,"tabBars",void 0)}}return _e=Ke,(0,j.A)(Ke,"\u0275fac",(()=>{let pt;return function(yt){return(pt||(pt=O.xGo(_e)))(yt||_e)}})()),(0,j.A)(Ke,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-tabs"]],contentQueries:function(Se,yt,Jt){if(1&Se&&(O.wni(Jt,L,5),O.wni(Jt,L,4)),2&Se){let fr;O.mGM(fr=O.lsd())&&(yt.tabBar=fr.first),O.mGM(fr=O.lsd())&&(yt.tabBars=fr)}},viewQuery:function(Se,yt){if(1&Se&&O.GBs(p,5,Be),2&Se){let Jt;O.mGM(Jt=O.lsd())&&(yt.outlet=Jt.first)}},features:[O.Vt3],ngContentSelectors:m,decls:6,vars:0,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(Se,yt){if(1&Se){const Jt=O.RV6();O.NAR(l),O.SdG(0),O.j41(1,"div",2,0)(3,"ion-router-outlet",3,1),O.bIt("stackWillChange",function(Gr){return O.eBV(Jt),O.Njj(yt.onStackWillChange(Gr))})("stackDidChange",function(Gr){return O.eBV(Jt),O.Njj(yt.onStackDidChange(Gr))}),O.k0s()(),O.SdG(5,1)}},dependencies:[Be],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})),Ke})(),Nt=(()=>{var _e;class Ke extends Ie.el{constructor(Se,yt,Jt,fr,Gr,mo){super(Se,yt,Jt,fr,Gr,mo)}}return _e=Ke,(0,j.A)(Ke,"\u0275fac",function(Se){return new(Se||_e)(O.rXU(Be,8),O.rXU(Ie.q9),O.rXU(Ie.TS),O.rXU(O.aKT),O.rXU(O.SKi),O.rXU(O.gRc))}),(0,j.A)(Ke,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-back-button"]],features:[O.Vt3],ngContentSelectors:a,decls:1,vars:0,template:function(Se,yt){1&Se&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),Ke})(),Wn=(()=>{var _e;class Ke extends Ie.Sb{}return _e=Ke,(0,j.A)(Ke,"\u0275fac",(()=>{let pt;return function(yt){return(pt||(pt=O.xGo(_e)))(yt||_e)}})()),(0,j.A)(Ke,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-modal"]],features:[O.Vt3],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(Se,yt){1&Se&&O.DNE(0,c,2,1,"div",0),2&Se&&O.Y8G("ngIf",yt.isCmpOpen||yt.keepContentsMounted)},dependencies:[H.bT,H.T3],encapsulation:2,changeDetection:0})),Ke})(),zn=(()=>{var _e;class Ke extends Ie.CF{}return _e=Ke,(0,j.A)(Ke,"\u0275fac",(()=>{let pt;return function(yt){return(pt||(pt=O.xGo(_e)))(yt||_e)}})()),(0,j.A)(Ke,"\u0275cmp",O.VBU({type:_e,selectors:[["ion-popover"]],features:[O.Vt3],decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(Se,yt){1&Se&&O.DNE(0,h,1,1,"ng-container",0),2&Se&&O.Y8G("ngIf",yt.isCmpOpen||yt.keepContentsMounted)},dependencies:[H.bT,H.T3],encapsulation:2,changeDetection:0})),Ke})();const yr={provide:ge.cz,useExisting:(0,O.Rfq)(()=>Tr),multi:!0};let Tr=(()=>{var _e;class Ke extends ge.zX{}return _e=Ke,(0,j.A)(Ke,"\u0275fac",(()=>{let pt;return function(yt){return(pt||(pt=O.xGo(_e)))(yt||_e)}})()),(0,j.A)(Ke,"\u0275dir",O.FsC({type:_e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(Se,yt){2&Se&&O.BMQ("max",yt._enabled?yt.max:null)},features:[O.Jv_([yr]),O.Vt3]})),Ke})();const Jn={provide:ge.cz,useExisting:(0,O.Rfq)(()=>vr),multi:!0};let vr=(()=>{var _e;class Ke extends ge.VZ{}return _e=Ke,(0,j.A)(Ke,"\u0275fac",(()=>{let pt;return function(yt){return(pt||(pt=O.xGo(_e)))(yt||_e)}})()),(0,j.A)(Ke,"\u0275dir",O.FsC({type:_e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Se,yt){2&Se&&O.BMQ("min",yt._enabled?yt.min:null)},features:[O.Jv_([Jn]),O.Vt3]})),Ke})(),Vr=(()=>{var _e;class Ke extends Ie.Kb{constructor(){super(w.TN)}}return _e=Ke,(0,j.A)(Ke,"\u0275fac",function(Se){return new(Se||_e)}),(0,j.A)(Ke,"\u0275prov",O.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})),Ke})(),eo=(()=>{var _e;class Ke extends Ie.Kb{constructor(){super(w.FJ)}}return _e=Ke,(0,j.A)(Ke,"\u0275fac",function(Se){return new(Se||_e)}),(0,j.A)(Ke,"\u0275prov",O.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})),Ke})(),ko=(()=>{var _e;class Ke extends Ie.Kb{constructor(){super(w.OZ),(0,j.A)(this,"angularDelegate",(0,O.WQX)(Ie.Yq)),(0,j.A)(this,"injector",(0,O.WQX)(O.zZn)),(0,j.A)(this,"environmentInjector",(0,O.WQX)(O.uvJ))}create(Se){return super.create({...Se,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return _e=Ke,(0,j.A)(Ke,"\u0275fac",function(Se){return new(Se||_e)}),(0,j.A)(Ke,"\u0275prov",O.jDH({token:_e,factory:_e.\u0275fac})),Ke})();class $o extends Ie.Kb{constructor(){super(w.mF),(0,j.A)(this,"angularDelegate",(0,O.WQX)(Ie.Yq)),(0,j.A)(this,"injector",(0,O.WQX)(O.zZn)),(0,j.A)(this,"environmentInjector",(0,O.WQX)(O.uvJ))}create(Ke){return super.create({...Ke,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Vo=(_e,Ke,pt)=>()=>{const Se=Ke.defaultView;if(Se&&typeof window<"u"){(0,w.QX)({..._e,_zoneGate:Jt=>pt.run(Jt)});const yt="__zone_symbol__addEventListener"in Ke.body?"__zone_symbol__addEventListener":"addEventListener";return function g(){var _e=[];if(typeof window<"u"){var Ke=window;(!Ke.customElements||Ke.Element&&(!Ke.Element.prototype.closest||!Ke.Element.prototype.matches||!Ke.Element.prototype.remove||!Ke.Element.prototype.getRootNode))&&_e.push(fe.e(7278).then(fe.t.bind(fe,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Ke.NodeList&&!Ke.NodeList.prototype.forEach||!Ke.fetch||!function(){try{var Se=new URL("b","http://a");return Se.pathname="c%20d","http://a/c%20d"===Se.href&&Se.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&_e.push(fe.e(9329).then(fe.t.bind(fe,7783,23)))}return Promise.all(_e)}().then(()=>u(Se,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Ie.er,jmp:Jt=>pt.runOutsideAngular(Jt),ael(Jt,fr,Gr,mo){Jt[yt](fr,Gr,mo)},rel(Jt,fr,Gr,mo){Jt.removeEventListener(fr,Gr,mo)}}))}};let vi=(()=>{var _e;class Ke{static forRoot(Se={}){return{ngModule:Ke,providers:[{provide:Ie.sR,useValue:Se},{provide:O.hnV,useFactory:Vo,multi:!0,deps:[Ie.sR,H.qQ,O.SKi]},Ie.Yq,(0,Ie.YV)()]}}}return _e=Ke,(0,j.A)(Ke,"\u0275fac",function(Se){return new(Se||_e)}),(0,j.A)(Ke,"\u0275mod",O.$C({type:_e})),(0,j.A)(Ke,"\u0275inj",O.G2t({providers:[ko,$o],imports:[H.MD]})),Ke})()},467:(wn,Wt,fe)=>{"use strict";function j(ge,Ie,o,oe,H,v,w){try{var g=ge[v](w),y=g.value}catch(C){return void o(C)}g.done?Ie(y):Promise.resolve(y).then(oe,H)}function O(ge){return function(){var Ie=this,o=arguments;return new Promise(function(oe,H){var v=ge.apply(Ie,o);function w(y){j(v,oe,H,w,g,"next",y)}function g(y){j(v,oe,H,w,g,"throw",y)}w(void 0)})}}fe.d(Wt,{A:()=>O})},9842:(wn,Wt,fe)=>{"use strict";function j(o){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(oe){return typeof oe}:function(oe){return oe&&"function"==typeof Symbol&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe})(o)}function Ie(o,oe,H){return(oe=function ge(o){var oe=function O(o,oe){if("object"!=j(o)||!o)return o;var H=o[Symbol.toPrimitive];if(void 0!==H){var v=H.call(o,oe||"default");if("object"!=j(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===oe?String:Number)(o)}(o,"string");return"symbol"==j(oe)?oe:oe+""}(oe))in o?Object.defineProperty(o,oe,{value:H,enumerable:!0,configurable:!0,writable:!0}):o[oe]=H,o}fe.d(Wt,{A:()=>Ie})},1635:(wn,Wt,fe)=>{"use strict";fe.d(Wt,{AQ:()=>h,C6:()=>O,Cg:()=>o,N3:()=>c,sH:()=>C,xN:()=>M});var j=function(U,F){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,ie){K.__proto__=ie}||function(K,ie){for(var Te in ie)Object.prototype.hasOwnProperty.call(ie,Te)&&(K[Te]=ie[Te])})(U,F)};function O(U,F){if("function"!=typeof F&&null!==F)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function K(){this.constructor=U}j(U,F),U.prototype=null===F?Object.create(F):(K.prototype=F.prototype,new K)}function o(U,F,K,ie){var k,Te=arguments.length,q=Te<3?F:null===ie?ie=Object.getOwnPropertyDescriptor(F,K):ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)q=Reflect.decorate(U,F,K,ie);else for(var ee=U.length-1;ee>=0;ee--)(k=U[ee])&&(q=(Te<3?k(q):Te>3?k(F,K,q):k(F,K))||q);return Te>3&&q&&Object.defineProperty(F,K,q),q}function C(U,F,K,ie){return new(K||(K=Promise))(function(q,k){function ee(Ge){try{xe(ie.next(Ge))}catch(Ye){k(Ye)}}function me(Ge){try{xe(ie.throw(Ge))}catch(Ye){k(Ye)}}function xe(Ge){Ge.done?q(Ge.value):function Te(q){return q instanceof K?q:new K(function(k){k(q)})}(Ge.value).then(ee,me)}xe((ie=ie.apply(U,F||[])).next())})}function c(U){return this instanceof c?(this.v=U,this):new c(U)}function h(U,F,K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,ie=K.apply(U,F||[]),q=[];return Te={},ee("next"),ee("throw"),ee("return",function k(We){return function(ct){return Promise.resolve(ct).then(We,Ye)}}),Te[Symbol.asyncIterator]=function(){return this},Te;function ee(We,ct){ie[We]&&(Te[We]=function(dt){return new Promise(function(Ve,Qe){q.push([We,dt,Ve,Qe])>1||me(We,dt)})},ct&&(Te[We]=ct(Te[We])))}function me(We,ct){try{!function xe(We){We.value instanceof c?Promise.resolve(We.value.v).then(Ge,Ye):mt(q[0][2],We)}(ie[We](ct))}catch(dt){mt(q[0][3],dt)}}function Ge(We){me("next",We)}function Ye(We){me("throw",We)}function mt(We,ct){We(ct),q.shift(),q.length&&me(q[0][0],q[0][1])}}function M(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K,F=U[Symbol.asyncIterator];return F?F.call(U):(U=function a(U){var F="function"==typeof Symbol&&Symbol.iterator,K=F&&U[F],ie=0;if(K)return K.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&ie>=U.length&&(U=void 0),{value:U&&U[ie++],done:!U}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")}(U),K={},ie("next"),ie("throw"),ie("return"),K[Symbol.asyncIterator]=function(){return this},K);function ie(q){K[q]=U[q]&&function(k){return new Promise(function(ee,me){!function Te(q,k,ee,me){Promise.resolve(me).then(function(xe){q({value:xe,done:ee})},k)}(ee,me,(k=U[q](k)).done,k.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},wn=>{wn(wn.s=3419)}]);