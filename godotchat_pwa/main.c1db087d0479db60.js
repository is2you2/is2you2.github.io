(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1357:(En,Kt,me)=>{"use strict";me.d(Kt,{B:()=>ne});var j=me(1635),ge=me(1985),gt=me(3726),o={error:"cordova_not_available"},se={error:"plugin_not_installed"};function V(G){if(typeof window<"u"&&window.angular){var B=window.document,N=window.angular.element(B.querySelector("[ng-app]")||B.body).injector();if(N)return N.get("$q")(function(ie,Ae){G(ie,Ae)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(ie,Ae){G(ie,Ae)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function C(G,X,B){var N,K;"string"==typeof G?N=G:(N=G.constructor.getPluginRef(),B=G.constructor.getPluginName(),K=G.constructor.getPluginInstallName());var ie=d(N);return!(!ie||X&&typeof ie[X]>"u")||(typeof window>"u"||!window.cordova?(function p(G,X){typeof process>"u"&&console.warn(X?"Native: tried calling "+G+"."+X+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+G+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(B,X),o):(function u(G,X,B){console.warn(B?"Native: tried calling "+G+"."+B+", but the "+G+" plugin is not installed.":"Native: tried accessing the "+G+" plugin but it's not installed."),X&&console.warn("Install the "+G+" plugin: 'ionic cordova plugin add "+X+"'")}(B,K,X),se))}function l(G,X,B,N,K,ie){void 0===N&&(N={}),B=function s(G,X,B,N){if(void 0===X&&(X={}),X.sync)return G;if("reverse"===X.callbackOrder)G.unshift(N),G.unshift(B);else if("node"===X.callbackStyle)G.push(function(Y,R){Y?N(Y):B(R)});else if("object"===X.callbackStyle&&X.successName&&X.errorName){var K={};K[X.successName]=B,K[X.errorName]=N,G.push(K)}else if(typeof X.successIndex<"u"||typeof X.errorIndex<"u"){var ie=function(){X.successIndex>G.length?G[X.successIndex]=B:G.splice(X.successIndex,0,B)},Ae=function(){X.errorIndex>G.length?G[X.errorIndex]=N:G.splice(X.errorIndex,0,N)};X.successIndex>X.errorIndex?(Ae(),ie()):(ie(),Ae())}else G.push(B),G.push(N);return G}(B,N,K,ie);var Ae=C(G,X);if(!0===Ae){var Y=d(G.constructor.getPluginRef());return Y[X].apply(Y,B)}return Ae}function d(G){return typeof window<"u"?f(window,G):null}function f(G,X){for(var B=X.split("."),N=G,K=0;K<B.length;K++){if(!N)return null;N=N[B[K]]}return N}var x=function(){function G(){}return G.installed=function(){return!0===C(this.pluginRef)},G.getPlugin=function(){return typeof window<"u"?function _(G,X){for(var B=X.split("."),N=G,K=0;K<B.length;K++){if(!N)return null;N=N[B[K]]}return N}(window,this.pluginRef):null},G.getPluginName=function(){return this.pluginName},G.getPluginRef=function(){return this.pluginRef},G.getPluginInstallName=function(){return this.plugin},G.getSupportedPlatforms=function(){return this.platforms},G.pluginName="",G.pluginRef="",G.plugin="",G.repo="",G.platforms=[],G.install="",G}();function I(G,X,B,N){return function(G,X,B){return void 0===B&&(B={}),function(){for(var N=[],K=0;K<arguments.length;K++)N[K]=arguments[K];return B.sync?l(G,X,N,B):B.observable?function g(G,X,B,N){return void 0===N&&(N={}),new ge.c(function(K){var ie;return ie=N.destruct?l(G,X,B,N,function(){for(var Ae=[],Y=0;Y<arguments.length;Y++)Ae[Y]=arguments[Y];return K.next(Ae)},function(){for(var Ae=[],Y=0;Y<arguments.length;Y++)Ae[Y]=arguments[Y];return K.error(Ae)}):l(G,X,B,N,K.next.bind(K),K.error.bind(K)),ie&&ie.error&&(K.error(ie.error),K.complete()),function(){try{if(N.clearFunction)return N.clearWithArgs?l(G,N.clearFunction,B,N,K.next.bind(K),K.error.bind(K)):l(G,N.clearFunction,[])}catch(Ae){console.warn("Unable to clear the previous observable watch for",G.constructor.getPluginName(),X),console.warn(Ae)}}})}(G,X,N,B):B.eventObservable&&B.event?function y(G,X){return X=typeof window<"u"&&X?f(window,X):X||(typeof window<"u"?window:{}),(0,gt.R)(X,G)}(B.event,B.element):B.otherPromise?function b(G,X,B,N){return void 0===N&&(N={}),V(function(K,ie){var Ae=l(G,X,B,N);Ae?Ae.error?ie(Ae.error):Ae.then&&Ae.then(K).catch(ie):ie({error:"unexpected_error"})})}(G,X,N,B):function v(G,X,B,N){void 0===N&&(N={});var K,ie,Ae=V(function(Y,R){K=N.destruct?l(G,X,B,N,function(){for(var Q=[],pe=0;pe<arguments.length;pe++)Q[pe]=arguments[pe];return Y(Q)},function(){for(var Q=[],pe=0;pe<arguments.length;pe++)Q[pe]=arguments[pe];return R(Q)}):l(G,X,B,N,Y,R),ie=R});return K&&K.error&&(Ae.catch(function(){}),"function"==typeof ie&&ie(K.error)),Ae}(G,X,N,B)}}(G,X,B).apply(this,N)}!function O(){if(typeof process>"u"){var G=typeof window<"u"?window:{},B=Date.now(),N=!1;G.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-B)+" ms"),N=!0}),setTimeout(function(){!N&&G.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}();var te=me(3953),ne=function(G){function X(){return null!==G&&G.apply(this,arguments)||this}return(0,j.C6)(X,G),X.prototype.copy=function(B){return I(this,"copy",{},arguments)},X.prototype.paste=function(){return I(this,"paste",{},arguments)},X.prototype.clear=function(){return I(this,"clear",{},arguments)},X.\u0275fac=(()=>{let B;return function(K){return(B||(B=te.xGo(X)))(K||X)}})(),X.\u0275prov=te.jDH({token:X,factory:X.\u0275fac}),X.pluginName="Clipboard",X.plugin="cordova-clipboard",X.pluginRef="cordova.plugins.clipboard",X.repo="https://github.com/ihadeed/cordova-clipboard",X.platforms=["Android","iOS","Windows Phone 8"],X=(0,j.Cg)([],X)}(x)},5083:(En,Kt,me)=>{"use strict";me.d(Kt,{E_:()=>d,F3:()=>s,I9:()=>b});var j=me(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var v=function(P){return P.Unimplemented="UNIMPLEMENTED",P.Unavailable="UNAVAILABLE",P}(v||{});class b extends Error{constructor(z,k,te){super(z),this.message=z,this.code=k,this.data=te}}const y=P=>{var z,k,te,ne,G;const X=P.CapacitorCustomPlatform||null,B=P.Capacitor||{},N=B.Plugins=B.Plugins||{},K=P.CapacitorPlatforms,Ae=(null===(z=null==K?void 0:K.currentPlatform)||void 0===z?void 0:z.getPlatform)||(()=>null!==X?X.name:(P=>{var z,k;return null!=P&&P.androidBridge?"android":null!==(k=null===(z=null==P?void 0:P.webkit)||void 0===z?void 0:z.messageHandlers)&&void 0!==k&&k.bridge?"ios":"web"})(P)),R=(null===(k=null==K?void 0:K.currentPlatform)||void 0===k?void 0:k.isNativePlatform)||(()=>"web"!==Ae()),pe=(null===(te=null==K?void 0:K.currentPlatform)||void 0===te?void 0:te.isPluginAvailable)||($e=>{const Ze=We.get($e);return!!(null!=Ze&&Ze.platforms.has(Ae())||Ve($e))}),Ve=(null===(ne=null==K?void 0:K.currentPlatform)||void 0===ne?void 0:ne.getPluginHeader)||($e=>{var Ze;return null===(Ze=B.PluginHeaders)||void 0===Ze?void 0:Ze.find(Je=>Je.name===$e)}),We=new Map,dt=(null===(G=null==K?void 0:K.currentPlatform)||void 0===G?void 0:G.registerPlugin)||(($e,Ze={})=>{const Je=We.get($e);if(Je)return console.warn(`Capacitor plugin "${$e}" already registered. Cannot register plugins twice.`),Je.proxy;const at=Ae(),Qe=Ve($e);let st;const Tt=function(){var hn=(0,j.A)(function*(){return!st&&at in Ze?st=st="function"==typeof Ze[at]?yield Ze[at]():Ze[at]:null!==X&&!st&&"web"in Ze&&(st=st="function"==typeof Ze.web?yield Ze.web():Ze.web),st});return function(){return hn.apply(this,arguments)}}(),Ut=hn=>{let It;const an=(...Vt)=>{const ze=Tt().then(Be=>{const Oe=((hn,It)=>{var an,Vt;if(!Qe){if(hn)return null===(Vt=hn[It])||void 0===Vt?void 0:Vt.bind(hn);throw new b(`"${$e}" plugin is not implemented on ${at}`,v.Unimplemented)}{const ze=null==Qe?void 0:Qe.methods.find(Be=>It===Be.name);if(ze)return"promise"===ze.rtype?Be=>B.nativePromise($e,It.toString(),Be):(Be,Oe)=>B.nativeCallback($e,It.toString(),Be,Oe);if(hn)return null===(an=hn[It])||void 0===an?void 0:an.bind(hn)}})(Be,hn);if(Oe){const Ke=Oe(...Vt);return It=null==Ke?void 0:Ke.remove,Ke}throw new b(`"${$e}.${hn}()" is not implemented on ${at}`,v.Unimplemented)});return"addListener"===hn&&(ze.remove=(0,j.A)(function*(){return It()})),ze};return an.toString=()=>`${hn.toString()}() { [capacitor code] }`,Object.defineProperty(an,"name",{value:hn,writable:!1,configurable:!1}),an},ln=Ut("addListener"),$t=Ut("removeListener"),yn=(hn,It)=>{const an=ln({eventName:hn},It),Vt=function(){var Be=(0,j.A)(function*(){const Oe=yield an;$t({eventName:hn,callbackId:Oe},It)});return function(){return Be.apply(this,arguments)}}(),ze=new Promise(Be=>an.then(()=>Be({remove:Vt})));return ze.remove=(0,j.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Vt()}),ze},Yt=new Proxy({},{get(hn,It){switch(It){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Qe?yn:ln;case"removeListener":return $t;default:return Ut(It)}}});return N[$e]=Yt,We.set($e,{name:$e,proxy:Yt,platforms:new Set([...Object.keys(Ze),...Qe?[at]:[]])}),Yt});return B.convertFileSrc||(B.convertFileSrc=$e=>$e),B.getPlatform=Ae,B.handleError=$e=>P.console.error($e),B.isNativePlatform=R,B.isPluginAvailable=pe,B.pluginMethodNoop=($e,Ze,Je)=>Promise.reject(`${Je} does not have an implementation of "${Ze}".`),B.registerPlugin=dt,B.Exception=b,B.DEBUG=!!B.DEBUG,B.isLoggingEnabled=!!B.isLoggingEnabled,B.platform=B.getPlatform(),B.isNative=B.isNativePlatform(),B},w=(P=>P.Capacitor=y(P))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),s=w.registerPlugin;class d{constructor(z){this.listeners={},this.retainedEventArguments={},this.windowListeners={},z&&(console.warn(`Capacitor WebPlugin "${z.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=z)}addListener(z,k){var te=this;let ne=!1;this.listeners[z]||(this.listeners[z]=[],ne=!0),this.listeners[z].push(k);const X=this.windowListeners[z];X&&!X.registered&&this.addWindowListener(X),ne&&this.sendRetainedArgumentsForEvent(z);const B=function(){var K=(0,j.A)(function*(){return te.removeListener(z,k)});return function(){return K.apply(this,arguments)}}();return Promise.resolve({remove:B})}removeAllListeners(){var z=this;return(0,j.A)(function*(){z.listeners={};for(const k in z.windowListeners)z.removeWindowListener(z.windowListeners[k]);z.windowListeners={}})()}notifyListeners(z,k,te){const ne=this.listeners[z];if(ne)ne.forEach(G=>G(k));else if(te){let G=this.retainedEventArguments[z];G||(G=[]),G.push(k),this.retainedEventArguments[z]=G}}hasListeners(z){return!!this.listeners[z].length}registerWindowListener(z,k){this.windowListeners[k]={registered:!1,windowEventName:z,pluginEventName:k,handler:te=>{this.notifyListeners(k,te)}}}unimplemented(z="not implemented"){return new w.Exception(z,v.Unimplemented)}unavailable(z="not available"){return new w.Exception(z,v.Unavailable)}removeListener(z,k){var te=this;return(0,j.A)(function*(){const ne=te.listeners[z];if(!ne)return;const G=ne.indexOf(k);te.listeners[z].splice(G,1),te.listeners[z].length||te.removeWindowListener(te.windowListeners[z])})()}addWindowListener(z){window.addEventListener(z.windowEventName,z.handler),z.registered=!0}removeWindowListener(z){z&&(window.removeEventListener(z.windowEventName,z.handler),z.registered=!1)}sendRetainedArgumentsForEvent(z){const k=this.retainedEventArguments[z];k&&(delete this.retainedEventArguments[z],k.forEach(te=>{this.notifyListeners(z,te)}))}}const u=P=>encodeURIComponent(P).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),p=P=>P.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class c extends d{getCookies(){return(0,j.A)(function*(){const z=document.cookie,k={};return z.split(";").forEach(te=>{if(te.length<=0)return;let[ne,G]=te.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");ne=p(ne).trim(),G=p(G).trim(),k[ne]=G}),k})()}setCookie(z){return(0,j.A)(function*(){try{const k=u(z.key),te=u(z.value),ne=`; expires=${(z.expires||"").replace("expires=","")}`,G=(z.path||"/").replace("path=",""),X=null!=z.url&&z.url.length>0?`domain=${z.url}`:"";document.cookie=`${k}=${te||""}${ne}; path=${G}; ${X};`}catch(k){return Promise.reject(k)}})()}deleteCookie(z){return(0,j.A)(function*(){try{document.cookie=`${z.key}=; Max-Age=0`}catch(k){return Promise.reject(k)}})()}clearCookies(){return(0,j.A)(function*(){try{const z=document.cookie.split(";")||[];for(const k of z)document.cookie=k.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(z){return Promise.reject(z)}})()}clearAllCookies(){var z=this;return(0,j.A)(function*(){try{yield z.clearCookies()}catch(k){return Promise.reject(k)}})()}}s("CapacitorCookies",{web:()=>new c});const _=function(){var P=(0,j.A)(function*(z){return new Promise((k,te)=>{const ne=new FileReader;ne.onload=()=>{const G=ne.result;k(G.indexOf(",")>=0?G.split(",")[1]:G)},ne.onerror=G=>te(G),ne.readAsDataURL(z)})});return function(k){return P.apply(this,arguments)}}();class A extends d{request(z){return(0,j.A)(function*(){const k=((P,z={})=>{const k=Object.assign({method:P.method||"GET",headers:P.headers},z),ne=((P={})=>{const z=Object.keys(P);return Object.keys(P).map(ne=>ne.toLocaleLowerCase()).reduce((ne,G,X)=>(ne[G]=P[z[X]],ne),{})})(P.headers)["content-type"]||"";if("string"==typeof P.data)k.body=P.data;else if(ne.includes("application/x-www-form-urlencoded")){const G=new URLSearchParams;for(const[X,B]of Object.entries(P.data||{}))G.set(X,B);k.body=G.toString()}else if(ne.includes("multipart/form-data")||P.data instanceof FormData){const G=new FormData;if(P.data instanceof FormData)P.data.forEach((B,N)=>{G.append(N,B)});else for(const B of Object.keys(P.data))G.append(B,P.data[B]);k.body=G;const X=new Headers(k.headers);X.delete("content-type"),k.headers=X}else(ne.includes("application/json")||"object"==typeof P.data)&&(k.body=JSON.stringify(P.data));return k})(z,z.webFetchExtra),te=((P,z=!0)=>P?Object.entries(P).reduce((te,ne)=>{const[G,X]=ne;let B,N;return Array.isArray(X)?(N="",X.forEach(K=>{B=z?encodeURIComponent(K):K,N+=`${G}=${B}&`}),N.slice(0,-1)):(B=z?encodeURIComponent(X):X,N=`${G}=${B}`),`${te}&${N}`},"").substr(1):null)(z.params,z.shouldEncodeUrlParams),ne=te?`${z.url}?${te}`:z.url,G=yield fetch(ne,k),X=G.headers.get("content-type")||"";let N,K,{responseType:B="text"}=G.ok?z:{};switch(X.includes("application/json")&&(B="json"),B){case"arraybuffer":case"blob":K=yield G.blob(),N=yield _(K);break;case"json":N=yield G.json();break;default:N=yield G.text()}const ie={};return G.headers.forEach((Ae,Y)=>{ie[Y]=Ae}),{data:N,headers:ie,status:G.status,url:G.url}})()}get(z){var k=this;return(0,j.A)(function*(){return k.request(Object.assign(Object.assign({},z),{method:"GET"}))})()}post(z){var k=this;return(0,j.A)(function*(){return k.request(Object.assign(Object.assign({},z),{method:"POST"}))})()}put(z){var k=this;return(0,j.A)(function*(){return k.request(Object.assign(Object.assign({},z),{method:"PUT"}))})()}patch(z){var k=this;return(0,j.A)(function*(){return k.request(Object.assign(Object.assign({},z),{method:"PATCH"}))})()}delete(z){var k=this;return(0,j.A)(function*(){return k.request(Object.assign(Object.assign({},z),{method:"DELETE"}))})()}}s("CapacitorHttp",{web:()=>new A})},963:(En,Kt,me)=>{"use strict";me.d(Kt,{W:()=>ge});const ge=(0,me(5083).F3)("LocalNotifications",{web:()=>me.e(4224).then(me.bind(me,4224)).then(gt=>new gt.LocalNotificationsWeb)})},4442:(En,Kt,me)=>{"use strict";me.d(Kt,{L:()=>o,a:()=>se,b:()=>V,c:()=>v,d:()=>b,g:()=>G}),me(5531);const o="ionViewWillEnter",se="ionViewDidEnter",V="ionViewWillLeave",v="ionViewDidLeave",b="ionViewWillUnload",G=X=>X.classList.contains("ion-page")?X:X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||X},5531:(En,Kt,me)=>{"use strict";me.d(Kt,{a:()=>g,c:()=>O,g:()=>b});class j{constructor(){this.m=new Map}reset(X){this.m=new Map(Object.entries(X))}get(X,B){const N=this.m.get(X);return void 0!==N?N:B}getBoolean(X,B=!1){const N=this.m.get(X);return void 0===N?B:"string"==typeof N?"true"===N:!!N}getNumber(X,B){const N=parseFloat(this.m.get(X));return isNaN(N)?void 0!==B?B:NaN:N}set(X,B){this.m.set(X,B)}}const O=new j,b=G=>y(G),g=(G,X)=>("string"==typeof G&&(X=G,G=void 0),b(G).includes(X)),y=(G=window)=>{if(typeof G>"u")return[];G.Ionic=G.Ionic||{};let X=G.Ionic.platforms;return null==X&&(X=G.Ionic.platforms=C(G),X.forEach(B=>G.document.documentElement.classList.add(`plt-${B}`))),X},C=G=>{const X=O.get("platform");return Object.keys(z).filter(B=>{const N=null==X?void 0:X[B];return"function"==typeof N?N(G):z[B](G)})},s=G=>!!(H(G,/iPad/i)||H(G,/Macintosh/i)&&c(G)),d=G=>H(G,/android|sink/i),c=G=>P(G,"(any-pointer:coarse)"),_=G=>M(G)||x(G),M=G=>!!(G.cordova||G.phonegap||G.PhoneGap),x=G=>{const X=G.Capacitor;return!(null==X||!X.isNative)},H=(G,X)=>X.test(G.navigator.userAgent),P=(G,X)=>{var B;return null===(B=G.matchMedia)||void 0===B?void 0:B.call(G,X).matches},z={ipad:s,iphone:G=>H(G,/iPhone/i),ios:G=>H(G,/iPhone|iPod/i)||s(G),android:d,phablet:G=>{const X=G.innerWidth,B=G.innerHeight,N=Math.min(X,B),K=Math.max(X,B);return N>390&&N<520&&K>620&&K<800},tablet:G=>{const X=G.innerWidth,B=G.innerHeight,N=Math.min(X,B),K=Math.max(X,B);return s(G)||(G=>d(G)&&!H(G,/mobile/i))(G)||N>460&&N<820&&K>780&&K<1400},cordova:M,capacitor:x,electron:G=>H(G,/electron/i),pwa:G=>{var X;return!!(null!==(X=G.matchMedia)&&void 0!==X&&X.call(G,"(display-mode: standalone)").matches||G.navigator.standalone)},mobile:c,mobileweb:G=>c(G)&&!_(G),desktop:G=>!c(G),hybrid:_}},9986:(En,Kt,me)=>{"use strict";me.d(Kt,{c:()=>se});var j=me(8476);let O;const gt=(V,v,b)=>{const g=v.startsWith("animation")?(V=>(void 0===O&&(O=void 0===V.style.animationName&&void 0!==V.style.webkitAnimationName?"-webkit-":""),O))(V):"";V.style.setProperty(g+v,b)},o=(V=[],v)=>{if(void 0!==v){const b=Array.isArray(v)?v:[v];return[...V,...b]}return V},se=V=>{let v,b,g,y,C,w,f,I,A,H,te,s=[],l=[],a=[],d=!1,u={},p=[],c=[],m={},_=0,M=!1,x=!1,P=!0,z=!1,k=!0,ne=!1;const G=V,X=[],B=[],N=[],K=[],ie=[],Ae=[],Y=[],R=[],Q=[],pe=[],Se=[],Ve="function"==typeof AnimationEffect||void 0!==j.w&&"function"==typeof j.w.AnimationEffect,qe="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Ve,pt=()=>Se,Ze=(xe,Ue)=>{const lt=Ue.findIndex(He=>He.c===xe);lt>-1&&Ue.splice(lt,1)},at=(xe,Ue)=>((null!=Ue&&Ue.oneTimeCallback?B:X).push({c:xe,o:Ue}),te),st=()=>{qe&&(Se.forEach(xe=>{xe.cancel()}),Se.length=0)},Tt=()=>{Ae.forEach(xe=>{null!=xe&&xe.parentNode&&xe.parentNode.removeChild(xe)}),Ae.length=0},Oe=()=>void 0!==C?C:f?f.getFill():"both",Ke=()=>void 0!==I?I:void 0!==w?w:f?f.getDirection():"normal",Et=()=>M?"linear":void 0!==g?g:f?f.getEasing():"linear",Bt=()=>x?0:void 0!==A?A:void 0!==b?b:f?f.getDuration():0,Wt=()=>void 0!==y?y:f?f.getIterations():1,dn=()=>void 0!==H?H:void 0!==v?v:f?f.getDelay():0,fn=()=>{0!==_&&(_--,0===_&&((()=>{Q.forEach(yt=>yt()),pe.forEach(yt=>yt());const xe=P?1:0,Ue=p,lt=c,He=m;K.forEach(yt=>{const kt=yt.classList;Ue.forEach(sn=>kt.add(sn)),lt.forEach(sn=>kt.remove(sn));for(const sn in He)He.hasOwnProperty(sn)&&gt(yt,sn,He[sn])}),A=void 0,I=void 0,H=void 0,X.forEach(yt=>yt.c(xe,te)),B.forEach(yt=>yt.c(xe,te)),B.length=0,k=!0,P&&(z=!0),P=!0})(),f&&f.animationFinish()))},Mn=()=>{(()=>{Y.forEach(He=>He()),R.forEach(He=>He());const xe=l,Ue=a,lt=u;K.forEach(He=>{const yt=He.classList;xe.forEach(kt=>yt.add(kt)),Ue.forEach(kt=>yt.remove(kt));for(const kt in lt)lt.hasOwnProperty(kt)&&gt(He,kt,lt[kt])})})(),s.length>0&&qe&&(K.forEach(xe=>{const Ue=xe.animate(s,{id:G,delay:dn(),duration:Bt(),easing:Et(),iterations:Wt(),fill:Oe(),direction:Ke()});Ue.pause(),Se.push(Ue)}),Se.length>0&&(Se[0].onfinish=()=>{fn()})),d=!0},In=xe=>{xe=Math.min(Math.max(xe,0),.9999),qe&&Se.forEach(Ue=>{Ue.currentTime=Ue.effect.getComputedTiming().delay+Bt()*xe,Ue.pause()})},An=xe=>{Se.forEach(Ue=>{Ue.effect.updateTiming({delay:dn(),duration:Bt(),easing:Et(),iterations:Wt(),fill:Oe(),direction:Ke()})}),void 0!==xe&&In(xe)},Vn=(xe=!1,Ue=!0,lt)=>(xe&&ie.forEach(He=>{He.update(xe,Ue,lt)}),qe&&An(lt),te),T=()=>{d&&(qe?Se.forEach(xe=>{xe.pause()}):K.forEach(xe=>{gt(xe,"animation-play-state","paused")}),ne=!0)},W=xe=>new Promise(Ue=>{null!=xe&&xe.sync&&(x=!0,at(()=>x=!1,{oneTimeCallback:!0})),d||Mn(),z&&(qe&&(In(0),An()),z=!1),k&&(_=ie.length+1,k=!1);const lt=()=>{Ze(He,B),Ue()},He=()=>{Ze(lt,N),Ue()};at(He,{oneTimeCallback:!0}),((xe,Ue)=>{N.push({c:xe,o:{oneTimeCallback:!0}})})(lt),ie.forEach(yt=>{yt.play()}),qe?(Se.forEach(xe=>{xe.play()}),(0===s.length||0===K.length)&&fn()):fn(),ne=!1}),Pe=(xe,Ue)=>{const lt=s[0];return void 0===lt||void 0!==lt.offset&&0!==lt.offset?s=[{offset:0,[xe]:Ue},...s]:lt[xe]=Ue,te};return te={parentAnimation:f,elements:K,childAnimations:ie,id:G,animationFinish:fn,from:Pe,to:(xe,Ue)=>{const lt=s[s.length-1];return void 0===lt||void 0!==lt.offset&&1!==lt.offset?s=[...s,{offset:1,[xe]:Ue}]:lt[xe]=Ue,te},fromTo:(xe,Ue,lt)=>Pe(xe,Ue).to(xe,lt),parent:xe=>(f=xe,te),play:W,pause:()=>(ie.forEach(xe=>{xe.pause()}),T(),te),stop:()=>{ie.forEach(xe=>{xe.stop()}),d&&(st(),d=!1),M=!1,x=!1,k=!0,I=void 0,A=void 0,H=void 0,_=0,z=!1,P=!0,ne=!1,N.forEach(xe=>xe.c(0,te)),N.length=0},destroy:xe=>(ie.forEach(Ue=>{Ue.destroy(xe)}),(xe=>{st(),xe&&Tt()})(xe),K.length=0,ie.length=0,s.length=0,X.length=0,B.length=0,d=!1,k=!0,te),keyframes:xe=>{const Ue=s!==xe;return s=xe,Ue&&(xe=>{qe&&pt().forEach(Ue=>{const lt=Ue.effect;if(lt.setKeyframes)lt.setKeyframes(xe);else{const He=new KeyframeEffect(lt.target,xe,lt.getTiming());Ue.effect=He}})})(s),te},addAnimation:xe=>{if(null!=xe)if(Array.isArray(xe))for(const Ue of xe)Ue.parent(te),ie.push(Ue);else xe.parent(te),ie.push(xe);return te},addElement:xe=>{if(null!=xe)if(1===xe.nodeType)K.push(xe);else if(xe.length>=0)for(let Ue=0;Ue<xe.length;Ue++)K.push(xe[Ue]);else console.error("Invalid addElement value");return te},update:Vn,fill:xe=>(C=xe,Vn(!0),te),direction:xe=>(w=xe,Vn(!0),te),iterations:xe=>(y=xe,Vn(!0),te),duration:xe=>(!qe&&0===xe&&(xe=1),b=xe,Vn(!0),te),easing:xe=>(g=xe,Vn(!0),te),delay:xe=>(v=xe,Vn(!0),te),getWebAnimations:pt,getKeyframes:()=>s,getFill:Oe,getDirection:Ke,getDelay:dn,getIterations:Wt,getEasing:Et,getDuration:Bt,afterAddRead:xe=>(Q.push(xe),te),afterAddWrite:xe=>(pe.push(xe),te),afterClearStyles:(xe=[])=>{for(const Ue of xe)m[Ue]="";return te},afterStyles:(xe={})=>(m=xe,te),afterRemoveClass:xe=>(c=o(c,xe),te),afterAddClass:xe=>(p=o(p,xe),te),beforeAddRead:xe=>(Y.push(xe),te),beforeAddWrite:xe=>(R.push(xe),te),beforeClearStyles:(xe=[])=>{for(const Ue of xe)u[Ue]="";return te},beforeStyles:(xe={})=>(u=xe,te),beforeRemoveClass:xe=>(a=o(a,xe),te),beforeAddClass:xe=>(l=o(l,xe),te),onFinish:at,isRunning:()=>0!==_&&!ne,progressStart:(xe=!1,Ue)=>(ie.forEach(lt=>{lt.progressStart(xe,Ue)}),T(),M=xe,d||Mn(),Vn(!1,!0,Ue),te),progressStep:xe=>(ie.forEach(Ue=>{Ue.progressStep(xe)}),In(xe),te),progressEnd:(xe,Ue,lt)=>(M=!1,ie.forEach(He=>{He.progressEnd(xe,Ue,lt)}),void 0!==lt&&(A=lt),z=!1,P=!0,0===xe?(I="reverse"===Ke()?"normal":"reverse","reverse"===I&&(P=!1),qe?(Vn(),In(1-Ue)):(H=(1-Ue)*Bt()*-1,Vn(!1,!1))):1===xe&&(qe?(Vn(),In(Ue)):(H=Ue*Bt()*-1,Vn(!1,!1))),void 0!==xe&&!f&&W(),te)}}},464:(En,Kt,me)=>{"use strict";me.d(Kt,{E:()=>g,I:()=>V,a:()=>j,s:()=>v});const j=y=>{try{if(y instanceof V)return y.value;if(!gt()||"string"!=typeof y||""===y)return y;if(y.includes("onload="))return"";const C=document.createDocumentFragment(),w=document.createElement("div");C.appendChild(w),w.innerHTML=y,se.forEach(d=>{const f=C.querySelectorAll(d);for(let u=f.length-1;u>=0;u--){const p=f[u];p.parentNode?p.parentNode.removeChild(p):C.removeChild(p);const c=ge(p);for(let m=0;m<c.length;m++)O(c[m])}});const s=ge(C);for(let d=0;d<s.length;d++)O(s[d]);const l=document.createElement("div");l.appendChild(C);const a=l.querySelector("div");return null!==a?a.innerHTML:l.innerHTML}catch(C){return console.error(C),""}},O=y=>{if(y.nodeType&&1!==y.nodeType)return;if(typeof NamedNodeMap<"u"&&!(y.attributes instanceof NamedNodeMap))return void y.remove();for(let w=y.attributes.length-1;w>=0;w--){const s=y.attributes.item(w),l=s.name;if(!o.includes(l.toLowerCase())){y.removeAttribute(l);continue}const a=s.value,d=y[l];(null!=a&&a.toLowerCase().includes("javascript:")||null!=d&&d.toLowerCase().includes("javascript:"))&&y.removeAttribute(l)}const C=ge(y);for(let w=0;w<C.length;w++)O(C[w])},ge=y=>null!=y.children?y.children:y.childNodes,gt=()=>{var y;const C=window,w=null===(y=null==C?void 0:C.Ionic)||void 0===y?void 0:y.config;return!w||(w.get?w.get("sanitizerEnabled",!0):!0===w.sanitizerEnabled||void 0===w.sanitizerEnabled)},o=["class","id","href","src","name","slot"],se=["script","style","iframe","meta","link","object","embed"];class V{constructor(C){this.value=C}}const v=y=>{const C=window,w=C.Ionic;if(!w||!w.config||"Object"===w.config.constructor.name)return C.Ionic=C.Ionic||{},C.Ionic.config=Object.assign(Object.assign({},C.Ionic.config),y),C.Ionic.config},g=!1},8621:(En,Kt,me)=>{"use strict";me.d(Kt,{C:()=>o,a:()=>ge,d:()=>gt});var j=me(467),O=me(4920);const ge=function(){var se=(0,j.A)(function*(V,v,b,g,y,C){var w;if(V)return V.attachViewToDom(v,b,y,g);if(!(C||"string"==typeof b||b instanceof HTMLElement))throw new Error("framework delegate is missing");const s="string"==typeof b?null===(w=v.ownerDocument)||void 0===w?void 0:w.createElement(b):b;return g&&g.forEach(l=>s.classList.add(l)),y&&Object.assign(s,y),v.appendChild(s),yield new Promise(l=>(0,O.c)(s,l)),s});return function(v,b,g,y,C,w){return se.apply(this,arguments)}}(),gt=(se,V)=>{if(V){if(se)return se.removeViewFromDom(V.parentElement,V);V.remove()}return Promise.resolve()},o=()=>{let se,V;return{attachViewToDom:function(){var g=(0,j.A)(function*(y,C,w={},s=[]){var l,a;let d;if(se=y,C){const u="string"==typeof C?null===(l=se.ownerDocument)||void 0===l?void 0:l.createElement(C):C;s.forEach(p=>u.classList.add(p)),Object.assign(u,w),se.appendChild(u),d=u,yield new Promise(p=>(0,O.c)(u,p))}else if(se.children.length>0&&("ION-MODAL"===se.tagName||"ION-POPOVER"===se.tagName)&&!(d=se.children[0]).classList.contains("ion-delegate-host")){const p=null===(a=se.ownerDocument)||void 0===a?void 0:a.createElement("div");p.classList.add("ion-delegate-host"),s.forEach(c=>p.classList.add(c)),p.append(...se.children),se.appendChild(p),d=p}const f=document.querySelector("ion-app")||document.body;return V=document.createComment("ionic teleport"),se.parentNode.insertBefore(V,se),f.appendChild(se),null!=d?d:se});return function(C,w){return g.apply(this,arguments)}}(),removeViewFromDom:()=>(se&&V&&(V.parentNode.insertBefore(se,V),V.remove()),Promise.resolve())}}},1970:(En,Kt,me)=>{"use strict";me.d(Kt,{B:()=>gt,G:()=>o});class O{constructor(V,v,b,g,y){this.id=v,this.name=b,this.disableScroll=y,this.priority=1e6*g+v,this.ctrl=V}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const V=this.ctrl.capture(this.name,this.id,this.priority);return V&&this.disableScroll&&this.ctrl.disableScroll(this.id),V}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ge{constructor(V,v,b,g){this.id=v,this.disable=b,this.disableScroll=g,this.ctrl=V}block(){if(this.ctrl){if(this.disable)for(const V of this.disable)this.ctrl.disableGesture(V,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const V of this.disable)this.ctrl.enableGesture(V,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const gt="backdrop-no-scroll",o=new class j{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(V){var v;return new O(this,this.newID(),V.name,null!==(v=V.priority)&&void 0!==v?v:0,!!V.disableScroll)}createBlocker(V={}){return new ge(this,this.newID(),V.disable,!!V.disableScroll)}start(V,v,b){return this.canStart(V)?(this.requestedStart.set(v,b),!0):(this.requestedStart.delete(v),!1)}capture(V,v,b){if(!this.start(V,v,b))return!1;const g=this.requestedStart;let y=-1e4;if(g.forEach(C=>{y=Math.max(y,C)}),y===b){this.capturedId=v,g.clear();const C=new CustomEvent("ionGestureCaptured",{detail:{gestureName:V}});return document.dispatchEvent(C),!0}return g.delete(v),!1}release(V){this.requestedStart.delete(V),this.capturedId===V&&(this.capturedId=void 0)}disableGesture(V,v){let b=this.disabledGestures.get(V);void 0===b&&(b=new Set,this.disabledGestures.set(V,b)),b.add(v)}enableGesture(V,v){const b=this.disabledGestures.get(V);void 0!==b&&b.delete(v)}disableScroll(V){this.disabledScroll.add(V),1===this.disabledScroll.size&&document.body.classList.add(gt)}enableScroll(V){this.disabledScroll.delete(V),0===this.disabledScroll.size&&document.body.classList.remove(gt)}canStart(V){return!(void 0!==this.capturedId||this.isDisabled(V))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(V){const v=this.disabledGestures.get(V);return!!(v&&v.size>0)}newID(){return this.gestureId++,this.gestureId}}},8669:(En,Kt,me)=>{"use strict";me.r(Kt),me.d(Kt,{MENU_BACK_BUTTON_PRIORITY:()=>b,OVERLAY_BACK_BUTTON_PRIORITY:()=>v,blockHardwareBackButton:()=>se,shouldUseCloseWatcher:()=>o,startHardwareBackButton:()=>V});var j=me(467),O=me(8476),ge=me(4921);me(8393);const o=()=>ge.c.get("experimentalCloseWatcher",!1)&&void 0!==O.w&&"CloseWatcher"in O.w,se=()=>{document.addEventListener("backbutton",()=>{})},V=()=>{const g=document;let y=!1;const C=()=>{if(y)return;let w=0,s=[];const l=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(f,u){s.push({priority:f,handler:u,id:w++})}}});g.dispatchEvent(l);const a=function(){var f=(0,j.A)(function*(u){try{if(null!=u&&u.handler){const p=u.handler(d);null!=p&&(yield p)}}catch(p){console.error(p)}});return function(p){return f.apply(this,arguments)}}(),d=()=>{if(s.length>0){let f={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};s.forEach(u=>{u.priority>=f.priority&&(f=u)}),y=!0,s=s.filter(u=>u.id!==f.id),a(f).then(()=>y=!1)}};d()};if(o()){let w;const s=()=>{null==w||w.destroy(),w=new O.w.CloseWatcher,w.onclose=()=>{C(),s()}};s()}else g.addEventListener("backbutton",C)},v=100,b=99},4920:(En,Kt,me)=>{"use strict";me.d(Kt,{a:()=>v,b:()=>b,c:()=>ge,d:()=>s,e:()=>u,f:()=>w,g:()=>g,h:()=>o,i:()=>V,j:()=>l,k:()=>gt,l:()=>C,m:()=>a,n:()=>f,o:()=>p,p:()=>d,r:()=>y,s:()=>c,t:()=>j});const j=(m,_=0)=>new Promise(M=>{O(m,_,M)}),O=(m,_=0,M)=>{let x,I;const A={passive:!0},P=()=>{x&&x()},z=k=>{(void 0===k||m===k.target)&&(P(),M(k))};return m&&(m.addEventListener("webkitTransitionEnd",z,A),m.addEventListener("transitionend",z,A),I=setTimeout(z,_+500),x=()=>{void 0!==I&&(clearTimeout(I),I=void 0),m.removeEventListener("webkitTransitionEnd",z,A),m.removeEventListener("transitionend",z,A)}),P},ge=(m,_)=>{m.componentOnReady?m.componentOnReady().then(M=>_(M)):y(()=>_(m))},gt=m=>void 0!==m.componentOnReady,o=(m,_=[])=>{const M={};return _.forEach(x=>{m.hasAttribute(x)&&(null!==m.getAttribute(x)&&(M[x]=m.getAttribute(x)),m.removeAttribute(x))}),M},se=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],V=(m,_)=>{let M=se;return _&&_.length>0&&(M=M.filter(x=>!_.includes(x))),o(m,M)},v=(m,_,M,x)=>{var I;if(typeof window<"u"){const A=window,H=null===(I=null==A?void 0:A.Ionic)||void 0===I?void 0:I.config;if(H){const P=H.get("_ael");if(P)return P(m,_,M,x);if(H._ael)return H._ael(m,_,M,x)}}return m.addEventListener(_,M,x)},b=(m,_,M,x)=>{var I;if(typeof window<"u"){const A=window,H=null===(I=null==A?void 0:A.Ionic)||void 0===I?void 0:I.config;if(H){const P=H.get("_rel");if(P)return P(m,_,M,x);if(H._rel)return H._rel(m,_,M,x)}}return m.removeEventListener(_,M,x)},g=(m,_=m)=>m.shadowRoot||_,y=m=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(m):"function"==typeof requestAnimationFrame?requestAnimationFrame(m):setTimeout(m),C=m=>!!m.shadowRoot&&!!m.attachShadow,w=m=>{if(m.focus(),m.classList.contains("ion-focusable")){const _=m.closest("ion-app");_&&_.setFocus([m])}},s=(m,_,M,x,I)=>{if(m||C(_)){let A=_.querySelector("input.aux-input");A||(A=_.ownerDocument.createElement("input"),A.type="hidden",A.classList.add("aux-input"),_.appendChild(A)),A.disabled=I,A.name=M,A.value=x||""}},l=(m,_,M)=>Math.max(m,Math.min(_,M)),a=(m,_)=>{if(!m){const M="ASSERT: "+_;throw console.error(M),new Error(M)}},d=m=>{if(m){const _=m.changedTouches;if(_&&_.length>0){const M=_[0];return{x:M.clientX,y:M.clientY}}if(void 0!==m.pageX)return{x:m.pageX,y:m.pageY}}return{x:0,y:0}},f=m=>{const _="rtl"===document.dir;switch(m){case"start":return _;case"end":return!_;default:throw new Error(`"${m}" is not a valid value for [side]. Use "start" or "end" instead.`)}},u=(m,_)=>{const M=m._original||m;return{_original:m,emit:p(M.emit.bind(M),_)}},p=(m,_=0)=>{let M;return(...x)=>{clearTimeout(M),M=setTimeout(m,_,...x)}},c=(m,_)=>{if(null!=m||(m={}),null!=_||(_={}),m===_)return!0;const M=Object.keys(m);if(M.length!==Object.keys(_).length)return!1;for(const x of M)if(!(x in _)||m[x]!==_[x])return!1;return!0}},8607:(En,Kt,me)=>{"use strict";me.r(Kt),me.d(Kt,{GESTURE_CONTROLLER:()=>j.G,createGesture:()=>b});var j=me(1970);const O=(w,s,l,a)=>{const d=ge(w)?{capture:!!a.capture,passive:!!a.passive}:!!a.capture;let f,u;return w.__zone_symbol__addEventListener?(f="__zone_symbol__addEventListener",u="__zone_symbol__removeEventListener"):(f="addEventListener",u="removeEventListener"),w[f](s,l,d),()=>{w[u](s,l,d)}},ge=w=>{if(void 0===gt)try{const s=Object.defineProperty({},"passive",{get:()=>{gt=!0}});w.addEventListener("optsTest",()=>{},s)}catch{gt=!1}return!!gt};let gt;const V=w=>w instanceof Document?w:w.ownerDocument,b=w=>{let s=!1,l=!1,a=!0,d=!1;const f=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},w),u=f.canStart,p=f.onWillStart,c=f.onStart,m=f.onEnd,_=f.notCaptured,M=f.onMove,x=f.threshold,I=f.passive,A=f.blurOnStart,H={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},P=((w,s,l)=>{const a=l*(Math.PI/180),d="x"===w,f=Math.cos(a),u=s*s;let p=0,c=0,m=!1,_=0;return{start(M,x){p=M,c=x,_=0,m=!0},detect(M,x){if(!m)return!1;const I=M-p,A=x-c,H=I*I+A*A;if(H<u)return!1;const P=Math.sqrt(H),z=(d?I:A)/P;return _=z>f?1:z<-f?-1:0,m=!1,!0},isGesture:()=>0!==_,getDirection:()=>_}})(f.direction,f.threshold,f.maxAngle),z=j.G.createGesture({name:w.gestureName,priority:w.gesturePriority,disableScroll:w.disableScroll}),ne=()=>{s&&(d=!1,M&&M(H))},G=()=>!!z.capture()&&(s=!0,a=!1,H.startX=H.currentX,H.startY=H.currentY,H.startTime=H.currentTime,p?p(H).then(B):B(),!0),B=()=>{A&&(()=>{if(typeof document<"u"){const Y=document.activeElement;null!=Y&&Y.blur&&Y.blur()}})(),c&&c(H),a=!0},N=()=>{s=!1,l=!1,d=!1,a=!0,z.release()},K=Y=>{const R=s,Q=a;if(N(),Q){if(g(H,Y),R)return void(m&&m(H));_&&_(H)}},ie=((w,s,l,a,d)=>{let f,u,p,c,m,_,M,x=0;const I=X=>{x=Date.now()+2e3,s(X)&&(!u&&l&&(u=O(w,"touchmove",l,d)),p||(p=O(X.target,"touchend",H,d)),c||(c=O(X.target,"touchcancel",H,d)))},A=X=>{x>Date.now()||s(X)&&(!_&&l&&(_=O(V(w),"mousemove",l,d)),M||(M=O(V(w),"mouseup",P,d)))},H=X=>{z(),a&&a(X)},P=X=>{k(),a&&a(X)},z=()=>{u&&u(),p&&p(),c&&c(),u=p=c=void 0},k=()=>{_&&_(),M&&M(),_=M=void 0},te=()=>{z(),k()},ne=(X=!0)=>{X?(f||(f=O(w,"touchstart",I,d)),m||(m=O(w,"mousedown",A,d))):(f&&f(),m&&m(),f=m=void 0,te())};return{enable:ne,stop:te,destroy:()=>{ne(!1),a=l=s=void 0}}})(f.el,Y=>{const R=C(Y);return!(l||!a||(y(Y,H),H.startX=H.currentX,H.startY=H.currentY,H.startTime=H.currentTime=R,H.velocityX=H.velocityY=H.deltaX=H.deltaY=0,H.event=Y,u&&!1===u(H))||(z.release(),!z.start()))&&(l=!0,0===x?G():(P.start(H.startX,H.startY),!0))},Y=>{s?!d&&a&&(d=!0,g(H,Y),requestAnimationFrame(ne)):(g(H,Y),P.detect(H.currentX,H.currentY)&&(!P.isGesture()||!G())&&Ae())},K,{capture:!1,passive:I}),Ae=()=>{N(),ie.stop(),_&&_(H)};return{enable(Y=!0){Y||(s&&K(void 0),N()),ie.enable(Y)},destroy(){z.destroy(),ie.destroy()}}},g=(w,s)=>{if(!s)return;const l=w.currentX,a=w.currentY,d=w.currentTime;y(s,w);const f=w.currentX,u=w.currentY,c=(w.currentTime=C(s))-d;if(c>0&&c<100){const _=(u-a)/c;w.velocityX=(f-l)/c*.7+.3*w.velocityX,w.velocityY=.7*_+.3*w.velocityY}w.deltaX=f-w.startX,w.deltaY=u-w.startY,w.event=s},y=(w,s)=>{let l=0,a=0;if(w){const d=w.changedTouches;if(d&&d.length>0){const f=d[0];l=f.clientX,a=f.clientY}else void 0!==w.pageX&&(l=w.pageX,a=w.pageY)}s.currentX=l,s.currentY=a},C=w=>w.timeStamp||Date.now()},6073:(En,Kt,me)=>{"use strict";me.d(Kt,{m:()=>w});var j=me(467),O=me(8476),ge=me(8669),gt=me(4929),o=me(4920),se=me(4921),V=me(9986);const v=s=>(0,V.c)().duration(s?400:300),b=s=>{let l,a;const d=s.width+8,f=(0,V.c)(),u=(0,V.c)();s.isEndSide?(l=d+"px",a="0px"):(l=-d+"px",a="0px"),f.addElement(s.menuInnerEl).fromTo("transform",`translateX(${l})`,`translateX(${a})`);const c="ios"===(0,se.b)(s),m=c?.2:.25;return u.addElement(s.backdropEl).fromTo("opacity",.01,m),v(c).addAnimation([f,u])},g=s=>{let l,a;const d=(0,se.b)(s),f=s.width;s.isEndSide?(l=-f+"px",a=f+"px"):(l=f+"px",a=-f+"px");const u=(0,V.c)().addElement(s.menuInnerEl).fromTo("transform",`translateX(${a})`,"translateX(0px)"),p=(0,V.c)().addElement(s.contentEl).fromTo("transform","translateX(0px)",`translateX(${l})`),c=(0,V.c)().addElement(s.backdropEl).fromTo("opacity",.01,.32);return v("ios"===d).addAnimation([u,p,c])},y=s=>{const l=(0,se.b)(s),a=s.width*(s.isEndSide?-1:1)+"px",d=(0,V.c)().addElement(s.contentEl).fromTo("transform","translateX(0px)",`translateX(${a})`);return v("ios"===l).addAnimation(d)},w=(()=>{const s=new Map,l=[],a=function(){var N=(0,j.A)(function*(K){const ie=yield _(K,!0);return!!ie&&ie.open()});return function(ie){return N.apply(this,arguments)}}(),d=function(){var N=(0,j.A)(function*(K){const ie=yield void 0!==K?_(K,!0):M();return void 0!==ie&&ie.close()});return function(ie){return N.apply(this,arguments)}}(),f=function(){var N=(0,j.A)(function*(K){const ie=yield _(K,!0);return!!ie&&ie.toggle()});return function(ie){return N.apply(this,arguments)}}(),u=function(){var N=(0,j.A)(function*(K,ie){const Ae=yield _(ie);return Ae&&(Ae.disabled=!K),Ae});return function(ie,Ae){return N.apply(this,arguments)}}(),p=function(){var N=(0,j.A)(function*(K,ie){const Ae=yield _(ie);return Ae&&(Ae.swipeGesture=K),Ae});return function(ie,Ae){return N.apply(this,arguments)}}(),c=function(){var N=(0,j.A)(function*(K){if(null!=K){const ie=yield _(K);return void 0!==ie&&ie.isOpen()}return void 0!==(yield M())});return function(ie){return N.apply(this,arguments)}}(),m=function(){var N=(0,j.A)(function*(K){const ie=yield _(K);return!!ie&&!ie.disabled});return function(ie){return N.apply(this,arguments)}}(),_=function(){var N=(0,j.A)(function*(K,ie=!1){if(yield B(),"start"===K||"end"===K){const Y=l.filter(Q=>Q.side===K&&!Q.disabled);if(Y.length>=1)return Y.length>1&&ie&&(0,gt.p)(`menuController queried for a menu on the "${K}" side, but ${Y.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Y.map(Q=>Q.el)),Y[0].el;const R=l.filter(Q=>Q.side===K);if(R.length>=1)return R.length>1&&ie&&(0,gt.p)(`menuController queried for a menu on the "${K}" side, but ${R.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,R.map(Q=>Q.el)),R[0].el}else if(null!=K)return X(Y=>Y.menuId===K);return X(Y=>!Y.disabled)||(l.length>0?l[0].el:void 0)});return function(ie){return N.apply(this,arguments)}}(),M=function(){var N=(0,j.A)(function*(){return yield B(),te()});return function(){return N.apply(this,arguments)}}(),x=function(){var N=(0,j.A)(function*(){return yield B(),ne()});return function(){return N.apply(this,arguments)}}(),I=function(){var N=(0,j.A)(function*(){return yield B(),G()});return function(){return N.apply(this,arguments)}}(),A=(N,K)=>{s.set(N,K)},z=function(){var N=(0,j.A)(function*(K,ie,Ae){if(G())return!1;if(ie){const Y=yield M();Y&&K.el!==Y&&(yield Y.setOpen(!1,!1))}return K._setOpen(ie,Ae)});return function(ie,Ae,Y){return N.apply(this,arguments)}}(),te=()=>X(N=>N._isOpen),ne=()=>l.map(N=>N.el),G=()=>l.some(N=>N.isAnimating),X=N=>{const K=l.find(N);if(void 0!==K)return K.el},B=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(N=>new Promise(K=>(0,o.c)(N,K))));return A("reveal",y),A("push",g),A("overlay",b),null==O.d||O.d.addEventListener("ionBackButton",N=>{const K=te();K&&N.detail.register(ge.MENU_BACK_BUTTON_PRIORITY,()=>K.close())}),{registerAnimation:A,get:_,getMenus:x,getOpen:M,isEnabled:m,swipeGesture:p,isAnimating:I,isOpen:c,enable:u,toggle:f,close:d,open:a,_getOpenSync:te,_createAnimation:(N,K)=>{const ie=s.get(N);if(!ie)throw new Error("animation not registered");return ie(K)},_register:N=>{l.indexOf(N)<0&&l.push(N)},_unregister:N=>{const K=l.indexOf(N);K>-1&&l.splice(K,1)},_setOpen:z}})()},8393:(En,Kt,me)=>{"use strict";me.d(Kt,{B:()=>se,a:()=>k,b:()=>Vi,c:()=>Oe,d:()=>Wt,e:()=>Q,f:()=>$t,g:()=>Ke,h:()=>Ut,i:()=>Bt,j:()=>yr,k:()=>Se,r:()=>b,w:()=>pe});var j=me(467);var gt=Object.defineProperty,se={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},V=new WeakMap,v=Fe=>V.get(Fe),b=(Fe,it)=>V.set(it.$lazyInstance$=Fe,it),y=(Fe,it)=>it in Fe,C=(Fe,it)=>(0,console.error)(Fe,it),w=new Map,l=new Map,a=[],c="s-id",m="sty-id",_="c-id",x="slot-fb{display:contents}slot-fb[hidden]{display:none}",I="http://www.w3.org/1999/xlink",A=typeof window<"u"?window:{},H=A.document||{head:{}},z={$flags$:0,$resourcesUrl$:"",jmp:Fe=>Fe(),raf:Fe=>requestAnimationFrame(Fe),ael:(Fe,it,Mt,Rt)=>Fe.addEventListener(it,Mt,Rt),rel:(Fe,it,Mt,Rt)=>Fe.removeEventListener(it,Mt,Rt),ce:(Fe,it)=>new CustomEvent(Fe,it)},k=Fe=>{Object.assign(z,Fe)},ne=(()=>{let Fe=!1;try{H.addEventListener("e",null,Object.defineProperty({},"passive",{get(){Fe=!0}}))}catch{}return Fe})(),X=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),B=!1,N=[],K=[],ie=(Fe,it)=>Mt=>{Fe.push(Mt),B||(B=!0,it&&4&z.$flags$?R(Y):z.raf(Y))},Ae=Fe=>{for(let it=0;it<Fe.length;it++)try{Fe[it](performance.now())}catch(Mt){C(Mt)}Fe.length=0},Y=()=>{Ae(N),Ae(K),(B=N.length>0)&&z.raf(Y)},R=Fe=>Promise.resolve(void 0).then(Fe),Q=ie(N,!1),pe=ie(K,!0),Se=Fe=>{const it=new URL(Fe,z.$resourcesUrl$);return it.origin!==A.location.origin?it.href:it.pathname},Ve={},ct=Fe=>"object"==(Fe=typeof Fe)||"function"===Fe;function dt(Fe){var it,Mt,Rt;return null!=(Rt=null==(Mt=null==(it=Fe.head)?void 0:it.querySelector('meta[name="csp-nonce"]'))?void 0:Mt.getAttribute("content"))?Rt:void 0}((Fe,it)=>{for(var Mt in it)gt(Fe,Mt,{get:it[Mt],enumerable:!0})})({},{err:()=>Je,map:()=>at,ok:()=>Ze,unwrap:()=>Qe,unwrapErr:()=>st});var Ze=Fe=>({isOk:!0,isErr:!1,value:Fe}),Je=Fe=>({isOk:!1,isErr:!0,value:Fe});function at(Fe,it){if(Fe.isOk){const Mt=it(Fe.value);return Mt instanceof Promise?Mt.then(Rt=>Ze(Rt)):Ze(Mt)}if(Fe.isErr)return Je(Fe.value);throw"should never get here"}var Qe=Fe=>{if(Fe.isOk)return Fe.value;throw Fe.value},st=Fe=>{if(Fe.isErr)return Fe.value;throw Fe.value},Ut=(Fe,it,...Mt)=>{let Rt=null,Qt=null,qt=null,gn=!1,wn=!1;const Sn=[],xn=Fn=>{for(let Hn=0;Hn<Fn.length;Hn++)Rt=Fn[Hn],Array.isArray(Rt)?xn(Rt):null!=Rt&&"boolean"!=typeof Rt&&((gn="function"!=typeof Fe&&!ct(Rt))&&(Rt=String(Rt)),gn&&wn?Sn[Sn.length-1].$text$+=Rt:Sn.push(gn?ln(null,Rt):Rt),wn=gn)};if(xn(Mt),it){it.key&&(Qt=it.key),it.name&&(qt=it.name);{const Fn=it.className||it.class;Fn&&(it.class="object"!=typeof Fn?Fn:Object.keys(Fn).filter(Hn=>Fn[Hn]).join(" "))}}if("function"==typeof Fe)return Fe(null===it?{}:it,Sn,Yt);const Un=ln(Fe,null);return Un.$attrs$=it,Sn.length>0&&(Un.$children$=Sn),Un.$key$=Qt,Un.$name$=qt,Un},ln=(Fe,it)=>({$flags$:0,$tag$:Fe,$text$:it,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),$t={},Yt={forEach:(Fe,it)=>Fe.map(hn).forEach(it),map:(Fe,it)=>Fe.map(hn).map(it).map(It)},hn=Fe=>({vattrs:Fe.$attrs$,vchildren:Fe.$children$,vkey:Fe.$key$,vname:Fe.$name$,vtag:Fe.$tag$,vtext:Fe.$text$}),It=Fe=>{if("function"==typeof Fe.vtag){const Mt={...Fe.vattrs};return Fe.vkey&&(Mt.key=Fe.vkey),Fe.vname&&(Mt.name=Fe.vname),Ut(Fe.vtag,Mt,...Fe.vchildren||[])}const it=ln(Fe.vtag,Fe.vtext);return it.$attrs$=Fe.vattrs,it.$children$=Fe.vchildren,it.$key$=Fe.vkey,it.$name$=Fe.vname,it},Vt=(Fe,it,Mt,Rt,Qt,qt,gn)=>{let wn,Sn,xn,Un;if(1===qt.nodeType){for(wn=qt.getAttribute(_),wn&&(Sn=wn.split("."),(Sn[0]===gn||"0"===Sn[0])&&(xn={$flags$:0,$hostId$:Sn[0],$nodeId$:Sn[1],$depth$:Sn[2],$index$:Sn[3],$tag$:qt.tagName.toLowerCase(),$elm$:qt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},it.push(xn),qt.removeAttribute(_),Fe.$children$||(Fe.$children$=[]),Fe.$children$[xn.$index$]=xn,Fe=xn,Rt&&"0"===xn.$depth$&&(Rt[xn.$index$]=xn.$elm$))),Un=qt.childNodes.length-1;Un>=0;Un--)Vt(Fe,it,Mt,Rt,Qt,qt.childNodes[Un],gn);if(qt.shadowRoot)for(Un=qt.shadowRoot.childNodes.length-1;Un>=0;Un--)Vt(Fe,it,Mt,Rt,Qt,qt.shadowRoot.childNodes[Un],gn)}else if(8===qt.nodeType)Sn=qt.nodeValue.split("."),(Sn[1]===gn||"0"===Sn[1])&&(wn=Sn[0],xn={$flags$:0,$hostId$:Sn[1],$nodeId$:Sn[2],$depth$:Sn[3],$index$:Sn[4],$elm$:qt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===wn?(xn.$elm$=qt.nextSibling,xn.$elm$&&3===xn.$elm$.nodeType&&(xn.$text$=xn.$elm$.textContent,it.push(xn),qt.remove(),Fe.$children$||(Fe.$children$=[]),Fe.$children$[xn.$index$]=xn,Rt&&"0"===xn.$depth$&&(Rt[xn.$index$]=xn.$elm$))):xn.$hostId$===gn&&("s"===wn?(xn.$tag$="slot",qt["s-sn"]=Sn[5]?xn.$name$=Sn[5]:"",qt["s-sr"]=!0,Rt&&(xn.$elm$=H.createElement(xn.$tag$),xn.$name$&&xn.$elm$.setAttribute("name",xn.$name$),qt.parentNode.insertBefore(xn.$elm$,qt),qt.remove(),"0"===xn.$depth$&&(Rt[xn.$index$]=xn.$elm$)),Mt.push(xn),Fe.$children$||(Fe.$children$=[]),Fe.$children$[xn.$index$]=xn):"r"===wn&&(Rt?qt.remove():(Qt["s-cr"]=qt,qt["s-cn"]=!0))));else if(Fe&&"style"===Fe.$tag$){const Fn=ln(null,qt.textContent);Fn.$elm$=qt,Fn.$index$="0",Fe.$children$=[Fn]}},ze=(Fe,it)=>{if(1===Fe.nodeType){let Mt=0;for(;Mt<Fe.childNodes.length;Mt++)ze(Fe.childNodes[Mt],it);if(Fe.shadowRoot)for(Mt=0;Mt<Fe.shadowRoot.childNodes.length;Mt++)ze(Fe.shadowRoot.childNodes[Mt],it)}else if(8===Fe.nodeType){const Mt=Fe.nodeValue.split(".");"o"===Mt[0]&&(it.set(Mt[1]+"."+Mt[2],Fe),Fe.nodeValue="",Fe["s-en"]=Mt[3])}},Oe=Fe=>a.push(Fe),Ke=Fe=>v(Fe).$modeName$,Bt=Fe=>v(Fe).$hostElement$,Wt=(Fe,it,Mt)=>{const Rt=Bt(Fe);return{emit:Qt=>dn(Rt,it,{bubbles:!!(4&Mt),composed:!!(2&Mt),cancelable:!!(1&Mt),detail:Qt})}},dn=(Fe,it,Mt)=>{const Rt=z.ce(it,Mt);return Fe.dispatchEvent(Rt),Rt},Ft=new WeakMap,Gt=(Fe,it,Mt)=>{let Rt=l.get(Fe);X&&Mt?(Rt=Rt||new CSSStyleSheet,"string"==typeof Rt?Rt=it:Rt.replaceSync(it)):Rt=it,l.set(Fe,Rt)},en=(Fe,it,Mt)=>{var Rt;const Qt=ot(it,Mt),qt=l.get(Qt);if(Fe=11===Fe.nodeType?Fe:H,qt)if("string"==typeof qt){let wn,gn=Ft.get(Fe=Fe.head||Fe);if(gn||Ft.set(Fe,gn=new Set),!gn.has(Qt)){if(Fe.host&&(wn=Fe.querySelector(`[${m}="${Qt}"]`)))wn.innerHTML=qt;else{wn=H.createElement("style"),wn.innerHTML=qt;const Sn=null!=(Rt=z.$nonce$)?Rt:dt(H);null!=Sn&&wn.setAttribute("nonce",Sn),Fe.insertBefore(wn,Fe.querySelector("link"))}4&it.$flags$&&(wn.innerHTML+=x),gn&&gn.add(Qt)}}else Fe.adoptedStyleSheets.includes(qt)||(Fe.adoptedStyleSheets=[...Fe.adoptedStyleSheets,qt]);return Qt},ot=(Fe,it)=>"sc-"+(it&&32&Fe.$flags$?Fe.$tagName$+"-"+it:Fe.$tagName$),xt=Fe=>Fe.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),bt=(Fe,it,Mt,Rt,Qt,qt)=>{if(Mt!==Rt){let gn=y(Fe,it),wn=it.toLowerCase();if("class"===it){const Sn=Fe.classList,xn=un(Mt),Un=un(Rt);Sn.remove(...xn.filter(Fn=>Fn&&!Un.includes(Fn))),Sn.add(...Un.filter(Fn=>Fn&&!xn.includes(Fn)))}else if("style"===it){for(const Sn in Mt)(!Rt||null==Rt[Sn])&&(Sn.includes("-")?Fe.style.removeProperty(Sn):Fe.style[Sn]="");for(const Sn in Rt)(!Mt||Rt[Sn]!==Mt[Sn])&&(Sn.includes("-")?Fe.style.setProperty(Sn,Rt[Sn]):Fe.style[Sn]=Rt[Sn])}else if("key"!==it)if("ref"===it)Rt&&Rt(Fe);else if(gn||"o"!==it[0]||"n"!==it[1]){const Sn=ct(Rt);if((gn||Sn&&null!==Rt)&&!Qt)try{if(Fe.tagName.includes("-"))Fe[it]=Rt;else{const Un=null==Rt?"":Rt;"list"===it?gn=!1:(null==Mt||Fe[it]!=Un)&&(Fe[it]=Un)}}catch{}let xn=!1;wn!==(wn=wn.replace(/^xlink\:?/,""))&&(it=wn,xn=!0),null==Rt||!1===Rt?(!1!==Rt||""===Fe.getAttribute(it))&&(xn?Fe.removeAttributeNS(I,it):Fe.removeAttribute(it)):(!gn||4&qt||Qt)&&!Sn&&(Rt=!0===Rt?"":Rt,xn?Fe.setAttributeNS(I,it,Rt):Fe.setAttribute(it,Rt))}else if(it="-"===it[2]?it.slice(3):y(A,wn)?wn.slice(2):wn[2]+it.slice(3),Mt||Rt){const Sn=it.endsWith(mt);it=it.replace(St,""),Mt&&z.rel(Fe,it,Mt,Sn),Rt&&z.ael(Fe,it,Rt,Sn)}}},At=/\s/,un=Fe=>Fe?Fe.split(At):[],mt="Capture",St=new RegExp(mt+"$"),Jt=(Fe,it,Mt)=>{const Rt=11===it.$elm$.nodeType&&it.$elm$.host?it.$elm$.host:it.$elm$,Qt=Fe&&Fe.$attrs$||Ve,qt=it.$attrs$||Ve;for(const gn of Nt(Object.keys(Qt)))gn in qt||bt(Rt,gn,Qt[gn],void 0,Mt,it.$flags$);for(const gn of Nt(Object.keys(qt)))bt(Rt,gn,Qt[gn],qt[gn],Mt,it.$flags$)};function Nt(Fe){return Fe.includes("ref")?[...Fe.filter(it=>"ref"!==it),"ref"]:Fe}var nn,fn,bn,Mn=!1,In=!1,An=!1,Vn=!1,q=(Fe,it,Mt,Rt)=>{var Qt;const qt=it.$children$[Mt];let wn,Sn,xn,gn=0;if(Mn||(An=!0,"slot"===qt.$tag$&&(nn&&Rt.classList.add(nn+"-s"),qt.$flags$|=qt.$children$?2:1)),null!==qt.$text$)wn=qt.$elm$=H.createTextNode(qt.$text$);else if(1&qt.$flags$)wn=qt.$elm$=H.createTextNode("");else{if(Vn||(Vn="svg"===qt.$tag$),wn=qt.$elm$=H.createElementNS(Vn?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Mn&&2&qt.$flags$?"slot-fb":qt.$tag$),Vn&&"foreignObject"===qt.$tag$&&(Vn=!1),Jt(null,qt,Vn),(Fe=>null!=Fe)(nn)&&wn["s-si"]!==nn&&wn.classList.add(wn["s-si"]=nn),yt(wn,Rt),qt.$children$)for(gn=0;gn<qt.$children$.length;++gn)Sn=q(Fe,qt,gn,wn),Sn&&wn.appendChild(Sn);"svg"===qt.$tag$?Vn=!1:"foreignObject"===wn.tagName&&(Vn=!0)}return wn["s-hn"]=bn,3&qt.$flags$&&(wn["s-sr"]=!0,wn["s-cr"]=fn,wn["s-sn"]=qt.$name$||"",wn["s-rf"]=null==(Qt=qt.$attrs$)?void 0:Qt.ref,xn=Fe&&Fe.$children$&&Fe.$children$[Mt],xn&&xn.$tag$===qt.$tag$&&Fe.$elm$&&ve(Fe.$elm$)),wn},ve=Fe=>{z.$flags$|=1;const it=Fe.closest(bn.toLowerCase());if(null!=it){const Mt=Array.from(it.childNodes).find(Qt=>Qt["s-cr"]),Rt=Array.from(Fe.childNodes);for(const Qt of Mt?Rt.reverse():Rt)null!=Qt["s-sh"]&&(lt(it,Qt,null!=Mt?Mt:null),Qt["s-sh"]=void 0,An=!0)}z.$flags$&=-2},je=(Fe,it)=>{z.$flags$|=1;const Mt=Array.from(Fe.childNodes);if(Fe["s-sr"]){let Rt=Fe;for(;Rt=Rt.nextSibling;)Rt&&Rt["s-sn"]===Fe["s-sn"]&&Rt["s-sh"]===bn&&Mt.push(Rt)}for(let Rt=Mt.length-1;Rt>=0;Rt--){const Qt=Mt[Rt];Qt["s-hn"]!==bn&&Qt["s-ol"]&&(lt(W(Qt),Qt,oe(Qt)),Qt["s-ol"].remove(),Qt["s-ol"]=void 0,Qt["s-sh"]=void 0,An=!0),it&&je(Qt,it)}z.$flags$&=-2},T=(Fe,it,Mt,Rt,Qt,qt)=>{let wn,gn=Fe["s-cr"]&&Fe["s-cr"].parentNode||Fe;for(gn.shadowRoot&&gn.tagName===bn&&(gn=gn.shadowRoot);Qt<=qt;++Qt)Rt[Qt]&&(wn=q(null,Mt,Qt,Fe),wn&&(Rt[Qt].$elm$=wn,lt(gn,wn,oe(it))))},D=(Fe,it,Mt)=>{for(let Rt=it;Rt<=Mt;++Rt){const Qt=Fe[Rt];if(Qt){const qt=Qt.$elm$;Ue(Qt),qt&&(In=!0,qt["s-ol"]?qt["s-ol"].remove():je(qt,!0),qt.remove())}}},U=(Fe,it,Mt=!1)=>Fe.$tag$===it.$tag$&&("slot"===Fe.$tag$?Fe.$name$===it.$name$:!!Mt||Fe.$key$===it.$key$),oe=Fe=>Fe&&Fe["s-ol"]||Fe,W=Fe=>(Fe["s-ol"]?Fe["s-ol"]:Fe).parentNode,ue=(Fe,it,Mt=!1)=>{const Rt=it.$elm$=Fe.$elm$,Qt=Fe.$children$,qt=it.$children$,gn=it.$tag$,wn=it.$text$;let Sn;null===wn?(Vn="svg"===gn||"foreignObject"!==gn&&Vn,"slot"!==gn||Mn?Jt(Fe,it,Vn):Fe.$name$!==it.$name$&&(it.$elm$["s-sn"]=it.$name$||"",ve(it.$elm$.parentElement)),null!==Qt&&null!==qt?((Fe,it,Mt,Rt,Qt=!1)=>{let br,_r,qt=0,gn=0,wn=0,Sn=0,xn=it.length-1,Un=it[0],Fn=it[xn],Hn=Rt.length-1,Yn=Rt[0],pr=Rt[Hn];for(;qt<=xn&&gn<=Hn;)if(null==Un)Un=it[++qt];else if(null==Fn)Fn=it[--xn];else if(null==Yn)Yn=Rt[++gn];else if(null==pr)pr=Rt[--Hn];else if(U(Un,Yn,Qt))ue(Un,Yn,Qt),Un=it[++qt],Yn=Rt[++gn];else if(U(Fn,pr,Qt))ue(Fn,pr,Qt),Fn=it[--xn],pr=Rt[--Hn];else if(U(Un,pr,Qt))("slot"===Un.$tag$||"slot"===pr.$tag$)&&je(Un.$elm$.parentNode,!1),ue(Un,pr,Qt),lt(Fe,Un.$elm$,Fn.$elm$.nextSibling),Un=it[++qt],pr=Rt[--Hn];else if(U(Fn,Yn,Qt))("slot"===Un.$tag$||"slot"===pr.$tag$)&&je(Fn.$elm$.parentNode,!1),ue(Fn,Yn,Qt),lt(Fe,Fn.$elm$,Un.$elm$),Fn=it[--xn],Yn=Rt[++gn];else{for(wn=-1,Sn=qt;Sn<=xn;++Sn)if(it[Sn]&&null!==it[Sn].$key$&&it[Sn].$key$===Yn.$key$){wn=Sn;break}wn>=0?(_r=it[wn],_r.$tag$!==Yn.$tag$?br=q(it&&it[gn],Mt,wn,Fe):(ue(_r,Yn,Qt),it[wn]=void 0,br=_r.$elm$),Yn=Rt[++gn]):(br=q(it&&it[gn],Mt,gn,Fe),Yn=Rt[++gn]),br&&lt(W(Un.$elm$),br,oe(Un.$elm$))}qt>xn?T(Fe,null==Rt[Hn+1]?null:Rt[Hn+1].$elm$,Mt,Rt,gn,Hn):gn>Hn&&D(it,qt,xn)})(Rt,Qt,it,qt,Mt):null!==qt?(null!==Fe.$text$&&(Rt.textContent=""),T(Rt,null,it,qt,0,qt.length-1)):null!==Qt&&D(Qt,0,Qt.length-1),Vn&&"svg"===gn&&(Vn=!1)):(Sn=Rt["s-cr"])?Sn.parentNode.textContent=wn:Fe.$text$!==wn&&(Rt.data=wn)},Pe=Fe=>{const it=Fe.childNodes;for(const Mt of it)if(1===Mt.nodeType){if(Mt["s-sr"]){const Rt=Mt["s-sn"];Mt.hidden=!1;for(const Qt of it)if(Qt!==Mt)if(Qt["s-hn"]!==Mt["s-hn"]||""!==Rt){if(1===Qt.nodeType&&(Rt===Qt.getAttribute("slot")||Rt===Qt["s-sn"])||3===Qt.nodeType&&Rt===Qt["s-sn"]){Mt.hidden=!0;break}}else if(1===Qt.nodeType||3===Qt.nodeType&&""!==Qt.textContent.trim()){Mt.hidden=!0;break}}Pe(Mt)}},Le=[],nt=Fe=>{let it,Mt,Rt;for(const Qt of Fe.childNodes){if(Qt["s-sr"]&&(it=Qt["s-cr"])&&it.parentNode){Mt=it.parentNode.childNodes;const qt=Qt["s-sn"];for(Rt=Mt.length-1;Rt>=0;Rt--)if(it=Mt[Rt],!(it["s-cn"]||it["s-nr"]||it["s-hn"]===Qt["s-hn"]||it["s-sh"]&&it["s-sh"]===Qt["s-hn"]))if(xe(it,qt)){let gn=Le.find(wn=>wn.$nodeToRelocate$===it);In=!0,it["s-sn"]=it["s-sn"]||qt,gn?(gn.$nodeToRelocate$["s-sh"]=Qt["s-hn"],gn.$slotRefNode$=Qt):(it["s-sh"]=Qt["s-hn"],Le.push({$slotRefNode$:Qt,$nodeToRelocate$:it})),it["s-sr"]&&Le.map(wn=>{xe(wn.$nodeToRelocate$,it["s-sn"])&&(gn=Le.find(Sn=>Sn.$nodeToRelocate$===it),gn&&!wn.$slotRefNode$&&(wn.$slotRefNode$=gn.$slotRefNode$))})}else Le.some(gn=>gn.$nodeToRelocate$===it)||Le.push({$nodeToRelocate$:it})}1===Qt.nodeType&&nt(Qt)}},xe=(Fe,it)=>1===Fe.nodeType?null===Fe.getAttribute("slot")&&""===it||Fe.getAttribute("slot")===it:Fe["s-sn"]===it||""===it,Ue=Fe=>{Fe.$attrs$&&Fe.$attrs$.ref&&Fe.$attrs$.ref(null),Fe.$children$&&Fe.$children$.map(Ue)},lt=(Fe,it,Mt)=>{const Rt=null==Fe?void 0:Fe.insertBefore(it,Mt);return yt(it,Fe),Rt},He=Fe=>{const it=[];return Fe&&it.push(...Fe["s-scs"]||[],Fe["s-si"],Fe["s-sc"],...He(Fe.parentElement)),it},yt=(Fe,it,Mt=!1)=>{var Rt;if(Fe&&it&&1===Fe.nodeType){const Qt=new Set(He(it).filter(Boolean));if(Qt.size&&(null==(Rt=Fe.classList)||Rt.add(...Fe["s-scs"]=[...Qt]),Fe["s-ol"]||Mt))for(const qt of Array.from(Fe.childNodes))yt(qt,Fe,!0)}},sn=(Fe,it)=>{it&&!Fe.$onRenderResolve$&&it["s-p"]&&it["s-p"].push(new Promise(Mt=>Fe.$onRenderResolve$=Mt))},mn=(Fe,it)=>{if(Fe.$flags$|=16,!(4&Fe.$flags$))return sn(Fe,Fe.$ancestorComponent$),pe(()=>Tn(Fe,it));Fe.$flags$|=512},Tn=(Fe,it)=>{const Qt=Fe.$lazyInstance$;if(!Qt)throw new Error(`Can't render component <${Fe.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let qt;return it&&(Fe.$flags$|=256,Fe.$queuedListeners$&&(Fe.$queuedListeners$.map(([gn,wn])=>Er(Qt,gn,wn)),Fe.$queuedListeners$=void 0),qt=Er(Qt,"componentWillLoad")),qt=Kn(qt,()=>Er(Qt,"componentWillRender")),Kn(qt,()=>Nr(Fe,Qt,it))},Kn=(Fe,it)=>tr(Fe)?Fe.then(it).catch(Mt=>{console.error(Mt),it()}):it(),tr=Fe=>Fe instanceof Promise||Fe&&Fe.then&&"function"==typeof Fe.then,Nr=function(){var Fe=(0,j.A)(function*(it,Mt,Rt){var Qt;const qt=it.$hostElement$,wn=qt["s-rc"];Rt&&(Fe=>{const it=Fe.$cmpMeta$,Mt=Fe.$hostElement$,Rt=it.$flags$,qt=en(Mt.shadowRoot?Mt.shadowRoot:Mt.getRootNode(),it,Fe.$modeName$);10&Rt&&(Mt["s-sc"]=qt,Mt.classList.add(qt+"-h"),2&Rt&&Mt.classList.add(qt+"-s"))})(it);Dr(it,Mt,qt,Rt),wn&&(wn.map(xn=>xn()),qt["s-rc"]=void 0);{const xn=null!=(Qt=qt["s-p"])?Qt:[],Un=()=>Jn(it);0===xn.length?Un():(Promise.all(xn).then(Un),it.$flags$|=4,xn.length=0)}});return function(Mt,Rt,Qt){return Fe.apply(this,arguments)}}(),Dr=(Fe,it,Mt,Rt)=>{try{it=it.render&&it.render(),Fe.$flags$&=-17,Fe.$flags$|=2,((Fe,it,Mt=!1)=>{var Rt,Qt,qt,gn,wn;const Sn=Fe.$hostElement$,xn=Fe.$cmpMeta$,Un=Fe.$vnode$||ln(null,null),Fn=(Fe=>Fe&&Fe.$tag$===$t)(it)?it:Ut(null,null,it);if(bn=Sn.tagName,xn.$attrsToReflect$&&(Fn.$attrs$=Fn.$attrs$||{},xn.$attrsToReflect$.map(([Hn,Yn])=>Fn.$attrs$[Yn]=Sn[Hn])),Mt&&Fn.$attrs$)for(const Hn of Object.keys(Fn.$attrs$))Sn.hasAttribute(Hn)&&!["key","ref","style","class"].includes(Hn)&&(Fn.$attrs$[Hn]=Sn[Hn]);if(Fn.$tag$=null,Fn.$flags$|=4,Fe.$vnode$=Fn,Fn.$elm$=Un.$elm$=Sn.shadowRoot||Sn,nn=Sn["s-sc"],Mn=!!(1&xn.$flags$),fn=Sn["s-cr"],In=!1,ue(Un,Fn,Mt),z.$flags$|=1,An){nt(Fn.$elm$);for(const Hn of Le){const Yn=Hn.$nodeToRelocate$;if(!Yn["s-ol"]){const pr=H.createTextNode("");pr["s-nr"]=Yn,lt(Yn.parentNode,Yn["s-ol"]=pr,Yn)}}for(const Hn of Le){const Yn=Hn.$nodeToRelocate$,pr=Hn.$slotRefNode$;if(pr){const br=pr.parentNode;let _r=pr.nextSibling;if(_r&&1===_r.nodeType){let Fr=null==(Rt=Yn["s-ol"])?void 0:Rt.previousSibling;for(;Fr;){let kr=null!=(Qt=Fr["s-nr"])?Qt:null;if(kr&&kr["s-sn"]===Yn["s-sn"]&&br===kr.parentNode){for(kr=kr.nextSibling;kr===Yn||null!=kr&&kr["s-sr"];)kr=null==kr?void 0:kr.nextSibling;if(!kr||!kr["s-nr"]){_r=kr;break}}Fr=Fr.previousSibling}}(!_r&&br!==Yn.parentNode||Yn.nextSibling!==_r)&&Yn!==_r&&(lt(br,Yn,_r),1===Yn.nodeType&&(Yn.hidden=null!=(qt=Yn["s-ih"])&&qt)),Yn&&"function"==typeof pr["s-rf"]&&pr["s-rf"](Yn)}else 1===Yn.nodeType&&(Mt&&(Yn["s-ih"]=null!=(gn=Yn.hidden)&&gn),Yn.hidden=!0)}}if(In&&Pe(Fn.$elm$),z.$flags$&=-2,Le.length=0,2&xn.$flags$)for(const Hn of Fn.$elm$.childNodes)Hn["s-hn"]!==bn&&!Hn["s-sh"]&&(Mt&&null==Hn["s-ih"]&&(Hn["s-ih"]=null!=(wn=Hn.hidden)&&wn),Hn.hidden=!0);fn=void 0})(Fe,it,Rt)}catch(Qt){C(Qt,Fe.$hostElement$)}return null},Jn=Fe=>{const Mt=Fe.$hostElement$,Qt=Fe.$lazyInstance$,qt=Fe.$ancestorComponent$;Er(Qt,"componentDidRender"),64&Fe.$flags$?Er(Qt,"componentDidUpdate"):(Fe.$flags$|=64,Lr(Mt),Er(Qt,"componentDidLoad"),Fe.$onReadyResolve$(Mt),qt||Vr()),Fe.$onInstanceResolve$(Mt),Fe.$onRenderResolve$&&(Fe.$onRenderResolve$(),Fe.$onRenderResolve$=void 0),512&Fe.$flags$&&R(()=>mn(Fe,!1)),Fe.$flags$&=-517},yr=Fe=>{{const it=v(Fe),Mt=it.$hostElement$.isConnected;return Mt&&2==(18&it.$flags$)&&mn(it,!1),Mt}},Vr=Fe=>{Lr(H.documentElement),R(()=>dn(A,"appload",{detail:{namespace:"ionic"}}))},Er=(Fe,it,Mt)=>{if(Fe&&Fe[it])try{return Fe[it](Mt)}catch(Rt){C(Rt)}},Lr=Fe=>Fe.classList.add(("hydrated","hydrated")),wo=(Fe,it,Mt)=>{var Rt,Qt;const qt=Fe.prototype;if(it.$members$||it.$watchers$||Fe.watchers){Fe.watchers&&!it.$watchers$&&(it.$watchers$=Fe.watchers);const gn=Object.entries(null!=(Rt=it.$members$)?Rt:{});if(gn.map(([wn,[Sn]])=>{31&Sn||2&Mt&&32&Sn?Object.defineProperty(qt,wn,{get(){return((Fe,it)=>v(this).$instanceValues$.get(it))(0,wn)},set(xn){((Fe,it,Mt,Rt)=>{const Qt=v(Fe);if(!Qt)throw new Error(`Couldn't find host element for "${Rt.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const qt=Qt.$hostElement$,gn=Qt.$instanceValues$.get(it),wn=Qt.$flags$,Sn=Qt.$lazyInstance$;Mt=((Fe,it)=>null==Fe||ct(Fe)?Fe:4&it?"false"!==Fe&&(""===Fe||!!Fe):2&it?parseFloat(Fe):1&it?String(Fe):Fe)(Mt,Rt.$members$[it][0]);const xn=Number.isNaN(gn)&&Number.isNaN(Mt);if((!(8&wn)||void 0===gn)&&Mt!==gn&&!xn&&(Qt.$instanceValues$.set(it,Mt),Sn)){if(Rt.$watchers$&&128&wn){const Fn=Rt.$watchers$[it];Fn&&Fn.map(Hn=>{try{Sn[Hn](Mt,gn,it)}catch(Yn){C(Yn,qt)}})}2==(18&wn)&&mn(Qt,!1)}})(this,wn,xn,it)},configurable:!0,enumerable:!0}):1&Mt&&64&Sn&&Object.defineProperty(qt,wn,{value(...xn){var Un;const Fn=v(this);return null==(Un=null==Fn?void 0:Fn.$onInstancePromise$)?void 0:Un.then(()=>{var Hn;return null==(Hn=Fn.$lazyInstance$)?void 0:Hn[wn](...xn)})}})}),1&Mt){const wn=new Map;qt.attributeChangedCallback=function(Sn,xn,Un){z.jmp(()=>{var Fn;const Hn=wn.get(Sn);if(this.hasOwnProperty(Hn))Un=this[Hn],delete this[Hn];else{if(qt.hasOwnProperty(Hn)&&"number"==typeof this[Hn]&&this[Hn]==Un)return;if(null==Hn){const Yn=v(this),pr=null==Yn?void 0:Yn.$flags$;if(pr&&!(8&pr)&&128&pr&&Un!==xn){const br=Yn.$lazyInstance$,_r=null==(Fn=it.$watchers$)?void 0:Fn[Sn];null==_r||_r.forEach(Fr=>{null!=br[Fr]&&br[Fr].call(br,Un,xn,Sn)})}return}}this[Hn]=(null!==Un||"boolean"!=typeof this[Hn])&&Un})},Fe.observedAttributes=Array.from(new Set([...Object.keys(null!=(Qt=it.$watchers$)?Qt:{}),...gn.filter(([Sn,xn])=>15&xn[0]).map(([Sn,xn])=>{var Un;const Fn=xn[1]||Sn;return wn.set(Fn,Sn),512&xn[0]&&(null==(Un=it.$attrsToReflect$)||Un.push([Sn,Fn])),Fn})]))}}return Fe},ko=function(){var Fe=(0,j.A)(function*(it,Mt,Rt,Qt){let qt;if(!(32&Mt.$flags$)){if(Mt.$flags$|=32,Rt.$lazyBundleId$){const xn=((Fe,it,Mt)=>{const Rt=Fe.$tagName$.replace(/-/g,"_"),Qt=Fe.$lazyBundleId$;if(!Qt)return;const qt=w.get(Qt);return qt?qt[Rt]:me(8996)(`./${Qt}.entry.js`).then(gn=>(w.set(Qt,gn),gn[Rt]),C)})(Rt);if(xn&&"then"in xn){const Fn=()=>{};qt=yield xn,Fn()}else qt=xn;if(!qt)throw new Error(`Constructor for "${Rt.$tagName$}#${Mt.$modeName$}" was not found`);qt.isProxied||(Rt.$watchers$=qt.watchers,wo(qt,Rt,2),qt.isProxied=!0);const Un=()=>{};Mt.$flags$|=8;try{new qt(Mt)}catch(Fn){C(Fn)}Mt.$flags$&=-9,Mt.$flags$|=128,Un(),No(Mt.$lazyInstance$)}else qt=it.constructor,customElements.whenDefined(it.localName).then(()=>Mt.$flags$|=128);if(qt&&qt.style){let xn;"string"==typeof qt.style?xn=qt.style:"string"!=typeof qt.style&&(Mt.$modeName$=(Fe=>a.map(it=>it(Fe)).find(it=>!!it))(it),Mt.$modeName$&&(xn=qt.style[Mt.$modeName$]));const Un=ot(Rt,Mt.$modeName$);if(!l.has(Un)){const Fn=()=>{};Gt(Un,xn,!!(1&Rt.$flags$)),Fn()}}}const gn=Mt.$ancestorComponent$,wn=()=>mn(Mt,!0);gn&&gn["s-rc"]?gn["s-rc"].push(wn):wn()});return function(Mt,Rt,Qt,qt){return Fe.apply(this,arguments)}}(),No=Fe=>{Er(Fe,"connectedCallback")},Wr=Fe=>{const it=Fe["s-cr"]=H.createComment("");it["s-cn"]=!0,lt(Fe,it,Fe.firstChild)},Vo=Fe=>{Er(Fe,"disconnectedCallback")},oo=function(){var Fe=(0,j.A)(function*(it){if(!(1&z.$flags$)){const Mt=v(it);Mt.$rmListeners$&&(Mt.$rmListeners$.map(Rt=>Rt()),Mt.$rmListeners$=void 0),null!=Mt&&Mt.$lazyInstance$?Vo(Mt.$lazyInstance$):null!=Mt&&Mt.$onReadyPromise$&&Mt.$onReadyPromise$.then(()=>Vo(Mt.$lazyInstance$))}});return function(Mt){return Fe.apply(this,arguments)}}(),vi=Fe=>{const it=Fe.cloneNode;Fe.cloneNode=function(Mt){const Rt=this,Qt=Rt.shadowRoot&&true,qt=it.call(Rt,!!Qt&&Mt);if(!Qt&&Mt){let wn,Sn,gn=0;const xn=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;gn<Rt.childNodes.length;gn++)wn=Rt.childNodes[gn]["s-nr"],Sn=xn.every(Un=>!Rt.childNodes[gn][Un]),wn&&(qt.__appendChild?qt.__appendChild(wn.cloneNode(!0)):qt.appendChild(wn.cloneNode(!0))),Sn&&qt.appendChild(Rt.childNodes[gn].cloneNode(!0))}return qt}},be=Fe=>{Fe.__appendChild=Fe.appendChild,Fe.appendChild=function(it){const Mt=it["s-sn"]=Yo(it),Rt=Ai(this.childNodes,Mt,this.tagName);if(Rt){const Qt=Mi(Rt,Mt),qt=Qt[Qt.length-1],gn=lt(qt.parentNode,it,qt.nextSibling);return Pe(this),gn}return this.__appendChild(it)}},Xe=Fe=>{Fe.__removeChild=Fe.removeChild,Fe.removeChild=function(it){if(it&&typeof it["s-sn"]<"u"){const Mt=Ai(this.childNodes,it["s-sn"],this.tagName);if(Mt){const Qt=Mi(Mt,it["s-sn"]).find(qt=>qt===it);if(Qt)return Qt.remove(),void Pe(this)}}return this.__removeChild(it)}},ft=Fe=>{const it=Fe.prepend;Fe.prepend=function(...Mt){Mt.forEach(Rt=>{"string"==typeof Rt&&(Rt=this.ownerDocument.createTextNode(Rt));const Qt=Rt["s-sn"]=Yo(Rt),qt=Ai(this.childNodes,Qt,this.tagName);if(qt){const gn=document.createTextNode("");gn["s-nr"]=Rt,qt["s-cr"].parentNode.__appendChild(gn),Rt["s-ol"]=gn;const Sn=Mi(qt,Qt)[0];return lt(Sn.parentNode,Rt,Sn.nextSibling)}return 1===Rt.nodeType&&Rt.getAttribute("slot")&&(Rt.hidden=!0),it.call(this,Rt)})}},Ee=Fe=>{Fe.append=function(...it){it.forEach(Mt=>{"string"==typeof Mt&&(Mt=this.ownerDocument.createTextNode(Mt)),this.appendChild(Mt)})}},vt=Fe=>{const it=Fe.insertAdjacentHTML;Fe.insertAdjacentHTML=function(Mt,Rt){if("afterbegin"!==Mt&&"beforeend"!==Mt)return it.call(this,Mt,Rt);const Qt=this.ownerDocument.createElement("_");let qt;if(Qt.innerHTML=Rt,"afterbegin"===Mt)for(;qt=Qt.firstChild;)this.prepend(qt);else if("beforeend"===Mt)for(;qt=Qt.firstChild;)this.append(qt)}},Zt=Fe=>{Fe.insertAdjacentText=function(it,Mt){this.insertAdjacentHTML(it,Mt)}},fr=Fe=>{const it=Fe.insertAdjacentElement;Fe.insertAdjacentElement=function(Mt,Rt){return"afterbegin"!==Mt&&"beforeend"!==Mt?it.call(this,Mt,Rt):"afterbegin"===Mt?(this.prepend(Rt),Rt):("beforeend"===Mt&&this.append(Rt),Rt)}},Gr=Fe=>{const it=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(Fe,"__textContent",it),Object.defineProperty(Fe,"textContent",{get(){return" "+ti(this.childNodes).map(Qt=>{var qt,gn;const wn=[];let Sn=Qt.nextSibling;for(;Sn&&Sn["s-sn"]===Qt["s-sn"];)(3===Sn.nodeType||1===Sn.nodeType)&&wn.push(null!=(gn=null==(qt=Sn.textContent)?void 0:qt.trim())?gn:""),Sn=Sn.nextSibling;return wn.filter(xn=>""!==xn).join(" ")}).filter(Qt=>""!==Qt).join(" ")+" "},set(Mt){ti(this.childNodes).forEach(Qt=>{let qt=Qt.nextSibling;for(;qt&&qt["s-sn"]===Qt["s-sn"];){const gn=qt;qt=qt.nextSibling,gn.remove()}if(""===Qt["s-sn"]){const gn=this.ownerDocument.createTextNode(Mt);gn["s-sn"]="",lt(Qt.parentElement,gn,Qt.nextSibling)}else Qt.remove()})}})},mo=(Fe,it)=>{class Mt extends Array{item(Qt){return this[Qt]}}if(8&it.$flags$){const Rt=Fe.__lookupGetter__("childNodes");Object.defineProperty(Fe,"children",{get(){return this.childNodes.map(Qt=>1===Qt.nodeType)}}),Object.defineProperty(Fe,"childElementCount",{get:()=>Fe.children.length}),Object.defineProperty(Fe,"childNodes",{get(){const Qt=Rt.call(this);if(!(1&z.$flags$)&&2&v(this).$flags$){const qt=new Mt;for(let gn=0;gn<Qt.length;gn++){const wn=Qt[gn]["s-nr"];wn&&qt.push(wn)}return qt}return Mt.from(Qt)}})}},ti=Fe=>{const it=[];for(const Mt of Array.from(Fe))Mt["s-sr"]&&it.push(Mt),it.push(...ti(Mt.childNodes));return it},Yo=Fe=>Fe["s-sn"]||1===Fe.nodeType&&Fe.getAttribute("slot")||"",Ai=(Fe,it,Mt)=>{let Qt,Rt=0;for(;Rt<Fe.length;Rt++)if(Qt=Fe[Rt],Qt["s-sr"]&&Qt["s-sn"]===it&&Qt["s-hn"]===Mt||(Qt=Ai(Qt.childNodes,it,Mt),Qt))return Qt;return null},Mi=(Fe,it)=>{const Mt=[Fe];for(;(Fe=Fe.nextSibling)&&Fe["s-sn"]===it;)Mt.push(Fe);return Mt},Vi=(Fe,it={})=>{var Mt;const Qt=[],qt=it.exclude||[],gn=A.customElements,wn=H.head,Sn=wn.querySelector("meta[charset]"),xn=H.createElement("style"),Un=[],Fn=H.querySelectorAll(`[${m}]`);let Hn,Yn=!0,pr=0;for(Object.assign(z,it),z.$resourcesUrl$=new URL(it.resourcesUrl||"./",H.baseURI).href,z.$flags$|=2;pr<Fn.length;pr++)Gt(Fn[pr].getAttribute(m),xt(Fn[pr].innerHTML),!0);let br=!1;if(Fe.map(_r=>{_r[1].map(Fr=>{var kr;const Rn={$flags$:Fr[0],$tagName$:Fr[1],$members$:Fr[2],$listeners$:Fr[3]};4&Rn.$flags$&&(br=!0),Rn.$members$=Fr[2],Rn.$listeners$=Fr[3],Rn.$attrsToReflect$=[],Rn.$watchers$=null!=(kr=Fr[4])?kr:{};const go=Rn.$tagName$,Lo=class extends HTMLElement{constructor(Pr){if(super(Pr),this.hasRegisteredEventListeners=!1,((Fe,it)=>{const Mt={$flags$:0,$hostElement$:Fe,$cmpMeta$:it,$instanceValues$:new Map};Mt.$onInstancePromise$=new Promise(Rt=>Mt.$onInstanceResolve$=Rt),Mt.$onReadyPromise$=new Promise(Rt=>Mt.$onReadyResolve$=Rt),Fe["s-p"]=[],Fe["s-rc"]=[],V.set(Fe,Mt)})(Pr=this,Rn),1&Rn.$flags$)if(Pr.shadowRoot){if("open"!==Pr.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Rn.$tagName$}! Mode is set to ${Pr.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Pr.attachShadow({mode:"open",delegatesFocus:!!(16&Rn.$flags$)})}connectedCallback(){const Pr=v(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Ii(this,Pr,Rn.$listeners$)),Hn&&(clearTimeout(Hn),Hn=null),Yn?Un.push(this):z.jmp(()=>(Fe=>{if(!(1&z.$flags$)){const it=v(Fe),Mt=it.$cmpMeta$,Rt=()=>{};if(1&it.$flags$)Ii(Fe,it,Mt.$listeners$),null!=it&&it.$lazyInstance$?No(it.$lazyInstance$):null!=it&&it.$onReadyPromise$&&it.$onReadyPromise$.then(()=>No(it.$lazyInstance$));else{let Qt;if(it.$flags$|=1,Qt=Fe.getAttribute(c),Qt){if(1&Mt.$flags$){const qt=en(Fe.shadowRoot,Mt,Fe.getAttribute("s-mode"));Fe.classList.remove(qt+"-h",qt+"-s")}((Fe,it,Mt,Rt)=>{const qt=Fe.shadowRoot,gn=[],Sn=qt?[]:null,xn=Rt.$vnode$=ln(it,null);z.$orgLocNodes$||ze(H.body,z.$orgLocNodes$=new Map),Fe[c]=Mt,Fe.removeAttribute(c),Vt(xn,gn,[],Sn,Fe,Fe,Mt),gn.map(Un=>{const Fn=Un.$hostId$+"."+Un.$nodeId$,Hn=z.$orgLocNodes$.get(Fn),Yn=Un.$elm$;Hn&&""===Hn["s-en"]&&Hn.parentNode.insertBefore(Yn,Hn.nextSibling),qt||(Yn["s-hn"]=it,Hn&&(Yn["s-ol"]=Hn,Yn["s-ol"]["s-nr"]=Yn)),z.$orgLocNodes$.delete(Fn)}),qt&&Sn.map(Un=>{Un&&qt.appendChild(Un)})})(Fe,Mt.$tagName$,Qt,it)}Qt||12&Mt.$flags$&&Wr(Fe);{let qt=Fe;for(;qt=qt.parentNode||qt.host;)if(1===qt.nodeType&&qt.hasAttribute("s-id")&&qt["s-p"]||qt["s-p"]){sn(it,it.$ancestorComponent$=qt);break}}Mt.$members$&&Object.entries(Mt.$members$).map(([qt,[gn]])=>{if(31&gn&&Fe.hasOwnProperty(qt)){const wn=Fe[qt];delete Fe[qt],Fe[qt]=wn}}),ko(Fe,it,Mt)}Rt()}})(this))}disconnectedCallback(){z.jmp(()=>oo(this))}componentOnReady(){return v(this).$onReadyPromise$}};2&Rn.$flags$&&((Fe,it)=>{vi(Fe),be(Fe),Ee(Fe),ft(Fe),fr(Fe),vt(Fe),Zt(Fe),Gr(Fe),mo(Fe,it),Xe(Fe)})(Lo.prototype,Rn),Rn.$lazyBundleId$=_r[0],!qt.includes(go)&&!gn.get(go)&&(Qt.push(go),gn.define(go,wo(Lo,Rn,1)))})}),Qt.length>0&&(br&&(xn.textContent+=x),xn.textContent+=Qt.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",xn.innerHTML.length)){xn.setAttribute("data-styles","");const _r=null!=(Mt=z.$nonce$)?Mt:dt(H);null!=_r&&xn.setAttribute("nonce",_r),wn.insertBefore(xn,Sn?Sn.nextSibling:wn.firstChild)}Yn=!1,Un.length?Un.map(_r=>_r.connectedCallback()):z.jmp(()=>Hn=setTimeout(Vr,30))},Ii=(Fe,it,Mt,Rt)=>{Mt&&Mt.map(([Qt,qt,gn])=>{const wn=Ao(Fe,Qt),Sn=Co(it,gn),xn=Yr(Qt);z.ael(wn,qt,Sn,xn),(it.$rmListeners$=it.$rmListeners$||[]).push(()=>z.rel(wn,qt,Sn,xn))})},Co=(Fe,it)=>Mt=>{var Rt;try{256&Fe.$flags$?null==(Rt=Fe.$lazyInstance$)||Rt[it](Mt):(Fe.$queuedListeners$=Fe.$queuedListeners$||[]).push([it,Mt])}catch(Qt){C(Qt)}},Ao=(Fe,it)=>4&it?H:8&it?A:16&it?H.body:Fe,Yr=Fe=>ne?{passive:!!(1&Fe),capture:!!(2&Fe)}:!!(2&Fe)},1331:(En,Kt,me)=>{"use strict";me.d(Kt,{b:()=>v,c:()=>b,d:()=>g,e:()=>te,g:()=>X,l:()=>z,s:()=>ne,t:()=>f,w:()=>k});var j=me(467),O=me(4921),ge=me(8393),gt=me(4929),o=me(4920);const v="ionViewWillLeave",b="ionViewDidLeave",g="ionViewWillUnload",y=B=>{B.tabIndex=-1,B.focus()},C=B=>null!==B.offsetParent,s="ion-last-focus",d_saveViewFocus=K=>{if(O.c.get("focusManagerPriority",!1)){const Ae=document.activeElement;null!==Ae&&null!=K&&K.contains(Ae)&&Ae.setAttribute(s,"true")}},d_setViewFocus=K=>{const ie=O.c.get("focusManagerPriority",!1);if(Array.isArray(ie)&&!K.contains(document.activeElement)){const Ae=K.querySelector(`[${s}]`);if(Ae&&C(Ae))return void y(Ae);for(const Y of ie)switch(Y){case"content":const R=K.querySelector('main, [role="main"]');if(R&&C(R))return void y(R);break;case"heading":const Q=K.querySelector('h1, [role="heading"][aria-level="1"]');if(Q&&C(Q))return void y(Q);break;case"banner":const pe=K.querySelector('header, [role="banner"]');if(pe&&C(pe))return void y(pe);break;default:(0,gt.p)(`Unrecognized focus manager priority value ${Y}`)}y(K)}},f=B=>new Promise((N,K)=>{(0,ge.w)(()=>{u(B),p(B).then(ie=>{ie.animation&&ie.animation.destroy(),c(B),N(ie)},ie=>{c(B),K(ie)})})}),u=B=>{const N=B.enteringEl,K=B.leavingEl;d_saveViewFocus(K),G(N,K,B.direction),B.showGoBack?N.classList.add("can-go-back"):N.classList.remove("can-go-back"),ne(N,!1),N.style.setProperty("pointer-events","none"),K&&(ne(K,!1),K.style.setProperty("pointer-events","none"))},p=function(){var B=(0,j.A)(function*(N){const K=yield m(N);return K&&ge.B.isBrowser?_(K,N):M(N)});return function(K){return B.apply(this,arguments)}}(),c=B=>{const N=B.enteringEl,K=B.leavingEl;N.classList.remove("ion-page-invisible"),N.style.removeProperty("pointer-events"),void 0!==K&&(K.classList.remove("ion-page-invisible"),K.style.removeProperty("pointer-events")),d_setViewFocus(N)},m=function(){var B=(0,j.A)(function*(N){return N.leavingEl&&N.animated&&0!==N.duration?N.animationBuilder?N.animationBuilder:"ios"===N.mode?(yield Promise.resolve().then(me.bind(me,9856))).iosTransitionAnimation:(yield Promise.resolve().then(me.bind(me,361))).mdTransitionAnimation:void 0});return function(K){return B.apply(this,arguments)}}(),_=function(){var B=(0,j.A)(function*(N,K){yield x(K,!0);const ie=N(K.baseEl,K);H(K.enteringEl,K.leavingEl);const Ae=yield A(ie,K);return K.progressCallback&&K.progressCallback(void 0),Ae&&P(K.enteringEl,K.leavingEl),{hasCompleted:Ae,animation:ie}});return function(K,ie){return B.apply(this,arguments)}}(),M=function(){var B=(0,j.A)(function*(N){const K=N.enteringEl,ie=N.leavingEl,Ae=O.c.get("focusManagerPriority",!1);return yield x(N,Ae),H(K,ie),P(K,ie),{hasCompleted:!0}});return function(K){return B.apply(this,arguments)}}(),x=function(){var B=(0,j.A)(function*(N,K){(void 0!==N.deepWait?N.deepWait:K)&&(yield Promise.all([te(N.enteringEl),te(N.leavingEl)])),yield I(N.viewIsReady,N.enteringEl)});return function(K,ie){return B.apply(this,arguments)}}(),I=function(){var B=(0,j.A)(function*(N,K){N&&(yield N(K))});return function(K,ie){return B.apply(this,arguments)}}(),A=(B,N)=>{const K=N.progressCallback,ie=new Promise(Ae=>{B.onFinish(Y=>Ae(1===Y))});return K?(B.progressStart(!0),K(B)):B.play(),ie},H=(B,N)=>{z(N,v),z(B,"ionViewWillEnter")},P=(B,N)=>{z(B,"ionViewDidEnter"),z(N,b)},z=(B,N)=>{if(B){const K=new CustomEvent(N,{bubbles:!1,cancelable:!1});B.dispatchEvent(K)}},k=()=>new Promise(B=>(0,o.r)(()=>(0,o.r)(()=>B()))),te=function(){var B=(0,j.A)(function*(N){const K=N;if(K){if(null!=K.componentOnReady){if(null!=(yield K.componentOnReady()))return}else if(null!=K.__registerHost)return void(yield new Promise(Ae=>(0,o.r)(Ae)));yield Promise.all(Array.from(K.children).map(te))}});return function(K){return B.apply(this,arguments)}}(),ne=(B,N)=>{N?(B.setAttribute("aria-hidden","true"),B.classList.add("ion-page-hidden")):(B.hidden=!1,B.removeAttribute("aria-hidden"),B.classList.remove("ion-page-hidden"))},G=(B,N,K)=>{void 0!==B&&(B.style.zIndex="back"===K?"99":"101"),void 0!==N&&(N.style.zIndex="100")},X=B=>B.classList.contains("ion-page")?B:B.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||B},4929:(En,Kt,me)=>{"use strict";me.d(Kt,{a:()=>O,b:()=>ge,p:()=>j});const j=(gt,...o)=>console.warn(`[Ionic Warning]: ${gt}`,...o),O=(gt,...o)=>console.error(`[Ionic Error]: ${gt}`,...o),ge=(gt,...o)=>console.error(`<${gt.tagName.toLowerCase()}> must be used inside ${o.join(" or ")}.`)},8476:(En,Kt,me)=>{"use strict";me.d(Kt,{d:()=>O,w:()=>j});const j=typeof window<"u"?window:void 0,O=typeof document<"u"?document:void 0},617:(En,Kt,me)=>{"use strict";me.d(Kt,{FJ:()=>b.l,NC:()=>ge.iosTransitionAnimation,OZ:()=>b.m,QX:()=>V.s,TN:()=>b.a,V5:()=>gt.mdTransitionAnimation,Vk:()=>V.I,mF:()=>b.c}),me(9986),me(1331);var ge=me(9856),gt=me(361),V=(me(8607),me(4921),me(464)),b=(me(6073),me(1070));me(8476),me(8393),me(1970),me(8669)},4921:(En,Kt,me)=>{"use strict";me.d(Kt,{a:()=>y,b:()=>ne,c:()=>ge,i:()=>G});var j=me(8393);class O{constructor(){this.m=new Map}reset(B){this.m=new Map(Object.entries(B))}get(B,N){const K=this.m.get(B);return void 0!==K?K:N}getBoolean(B,N=!1){const K=this.m.get(B);return void 0===K?N:"string"==typeof K?"true"===K:!!K}getNumber(B,N){const K=parseFloat(this.m.get(B));return isNaN(K)?void 0!==N?N:NaN:K}set(B,N){this.m.set(B,N)}}const ge=new O,v="ionic:",b="ionic-persist-config",y=(X,B)=>("string"==typeof X&&(B=X,X=void 0),(X=>C(X))(X).includes(B)),C=(X=window)=>{if(typeof X>"u")return[];X.Ionic=X.Ionic||{};let B=X.Ionic.platforms;return null==B&&(B=X.Ionic.platforms=w(X),B.forEach(N=>X.document.documentElement.classList.add(`plt-${N}`))),B},w=X=>{const B=ge.get("platform");return Object.keys(k).filter(N=>{const K=null==B?void 0:B[N];return"function"==typeof K?K(X):k[N](X)})},l=X=>!!(P(X,/iPad/i)||P(X,/Macintosh/i)&&m(X)),f=X=>P(X,/android|sink/i),m=X=>z(X,"(any-pointer:coarse)"),M=X=>x(X)||I(X),x=X=>!!(X.cordova||X.phonegap||X.PhoneGap),I=X=>{const B=X.Capacitor;return!(null==B||!B.isNative)},P=(X,B)=>B.test(X.navigator.userAgent),z=(X,B)=>{var N;return null===(N=X.matchMedia)||void 0===N?void 0:N.call(X,B).matches},k={ipad:l,iphone:X=>P(X,/iPhone/i),ios:X=>P(X,/iPhone|iPod/i)||l(X),android:f,phablet:X=>{const B=X.innerWidth,N=X.innerHeight,K=Math.min(B,N),ie=Math.max(B,N);return K>390&&K<520&&ie>620&&ie<800},tablet:X=>{const B=X.innerWidth,N=X.innerHeight,K=Math.min(B,N),ie=Math.max(B,N);return l(X)||(X=>f(X)&&!P(X,/mobile/i))(X)||K>460&&K<820&&ie>780&&ie<1400},cordova:x,capacitor:I,electron:X=>P(X,/electron/i),pwa:X=>{var B;return!!(null!==(B=X.matchMedia)&&void 0!==B&&B.call(X,"(display-mode: standalone)").matches||X.navigator.standalone)},mobile:m,mobileweb:X=>m(X)&&!M(X),desktop:X=>!m(X),hybrid:M};let te;const ne=X=>X&&(0,j.g)(X)||te,G=(X={})=>{if(typeof window>"u")return;const B=window.document,N=window,K=N.Ionic=N.Ionic||{},ie={};X._ael&&(ie.ael=X._ael),X._rel&&(ie.rel=X._rel),X._ce&&(ie.ce=X._ce),(0,j.a)(ie);const Ae=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(X=>{try{const B=X.sessionStorage.getItem(b);return null!==B?JSON.parse(B):{}}catch{return{}}})(N)),{persistConfig:!1}),K.config),(X=>{const B={};return X.location.search.slice(1).split("&").map(N=>N.split("=")).map(([N,K])=>{try{return[decodeURIComponent(N),decodeURIComponent(K)]}catch{return["",""]}}).filter(([N])=>((X,B)=>X.substr(0,B.length)===B)(N,v)).map(([N,K])=>[N.slice(6),K]).forEach(([N,K])=>{B[N]=K}),B})(N)),X);ge.reset(Ae),ge.getBoolean("persistConfig")&&((X,B)=>{try{X.sessionStorage.setItem(b,JSON.stringify(B))}catch{return}})(N,Ae),C(N),K.config=ge,K.mode=te=ge.get("mode",B.documentElement.getAttribute("mode")||(y(N,"ios")?"ios":"md")),ge.set("mode",te),B.documentElement.setAttribute("mode",te),B.documentElement.classList.add(te),ge.getBoolean("_testing")&&ge.set("animated",!1);const Y=Q=>{var pe;return null===(pe=Q.tagName)||void 0===pe?void 0:pe.startsWith("ION-")},R=Q=>["ios","md"].includes(Q);(0,j.c)(Q=>{for(;Q;){const pe=Q.mode||Q.getAttribute("mode");if(pe){if(R(pe))return pe;Y(Q)&&console.warn('Invalid ionic mode: "'+pe+'", expected: "ios" or "md"')}Q=Q.parentElement}return te})}},9856:(En,Kt,me)=>{"use strict";me.r(Kt),me.d(Kt,{iosTransitionAnimation:()=>s,shadow:()=>v});var j=me(9986),O=me(1331);me(8476),me(4921),me(8393);const V=a=>document.querySelector(`${a}.ion-cloned-element`),v=a=>a.shadowRoot||a,b=a=>{const d="ION-TABS"===a.tagName?a:a.querySelector("ion-tabs"),f="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=d){const u=d.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=u?u.querySelector(f):null}return a.querySelector(f)},g=(a,d)=>{const f="ION-TABS"===a.tagName?a:a.querySelector("ion-tabs");let u=[];if(null!=f){const p=f.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=p&&(u=p.querySelectorAll("ion-buttons"))}else u=a.querySelectorAll("ion-buttons");for(const p of u){const c=p.closest("ion-header"),m=c&&!c.classList.contains("header-collapse-condense-inactive"),_=p.querySelector("ion-back-button"),M=p.classList.contains("buttons-collapse");if(null!==_&&("start"===p.slot||""===p.slot)&&(M&&m&&d||!M))return _}return null},C=(a,d,f,u,p,c,m,_,M)=>{var x,I;const A=d?`calc(100% - ${p.right+4}px)`:p.left-4+"px",H=d?"right":"left",P=d?"left":"right",z=d?"right":"left";let k=1,te=1,ne=`scale(${te})`;const G="scale(1)";if(c&&m){const Qe=(null===(x=c.textContent)||void 0===x?void 0:x.trim())===(null===(I=_.textContent)||void 0===I?void 0:I.trim());k=M.width/m.width,te=(M.height-l)/m.height,ne=Qe?`scale(${k}, ${te})`:`scale(${te})`}const B=v(u).querySelector("ion-icon").getBoundingClientRect(),N=d?B.width/2-(B.right-p.right)+"px":p.left-B.width/2+"px",K=d?`-${window.innerWidth-p.right}px`:`${p.left}px`,ie=`${M.top}px`,Ae=`${p.top}px`,Q=f?[{offset:0,transform:`translate3d(${K}, ${Ae}, 0)`},{offset:1,transform:`translate3d(${N}, ${ie}, 0)`}]:[{offset:0,transform:`translate3d(${N}, ${ie}, 0)`},{offset:1,transform:`translate3d(${K}, ${Ae}, 0)`}],Ve=f?[{offset:0,opacity:1,transform:G},{offset:1,opacity:0,transform:ne}]:[{offset:0,opacity:0,transform:ne},{offset:1,opacity:1,transform:G}],We=f?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],ct=(0,j.c)(),dt=(0,j.c)(),$e=(0,j.c)(),Ze=V("ion-back-button"),Je=v(Ze).querySelector(".button-text"),at=v(Ze).querySelector("ion-icon");Ze.text=u.text,Ze.mode=u.mode,Ze.icon=u.icon,Ze.color=u.color,Ze.disabled=u.disabled,Ze.style.setProperty("display","block"),Ze.style.setProperty("position","fixed"),dt.addElement(at),ct.addElement(Je),$e.addElement(Ze),$e.beforeStyles({position:"absolute",top:"0px",[z]:"0px"}).beforeAddWrite(()=>{u.style.setProperty("display","none"),Ze.style.setProperty(H,A)}).afterAddWrite(()=>{u.style.setProperty("display",""),Ze.style.setProperty("display","none"),Ze.style.removeProperty(H)}).keyframes(Q),ct.beforeStyles({"transform-origin":`${H} top`}).keyframes(Ve),dt.beforeStyles({"transform-origin":`${P} center`}).keyframes(We),a.addAnimation([ct,dt,$e])},w=(a,d,f,u,p,c,m,_,M)=>{var x,I;const A=d?"right":"left",H=d?`calc(100% - ${p.right}px)`:`${p.left}px`,z=`${p.top}px`;let te=d?`-${window.innerWidth-m.right-8}px`:`${m.x+8}px`,ne=.5;const G="scale(1)";let X=`scale(${ne})`;if(_&&M){te=d?`-${window.innerWidth-M.right-8}px`:M.x-8+"px";const pe=(null===(x=_.textContent)||void 0===x?void 0:x.trim())===(null===(I=u.textContent)||void 0===I?void 0:I.trim());ne=M.height/(c.height-l),X=pe?`scale(${M.width/c.width}, ${ne})`:`scale(${ne})`}const K=m.top+m.height/2-p.height*ne/2+"px",Y=f?[{offset:0,opacity:0,transform:`translate3d(${te}, ${K}, 0) ${X}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${z}, 0) ${G}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${z}, 0) ${G}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${te}, ${K}, 0) ${X}`}],R=V("ion-title"),Q=(0,j.c)();R.innerText=u.innerText,R.size=u.size,R.color=u.color,Q.addElement(R),Q.beforeStyles({"transform-origin":`${A} top`,height:`${p.height}px`,display:"",position:"relative",[A]:H}).beforeAddWrite(()=>{u.style.setProperty("opacity","0")}).afterAddWrite(()=>{u.style.setProperty("opacity",""),R.style.setProperty("display","none")}).keyframes(Y),a.addAnimation(Q)},s=(a,d)=>{var f;try{const u="cubic-bezier(0.32,0.72,0,1)",p="opacity",c="transform",m="0%",M="rtl"===a.ownerDocument.dir,x=M?"-99.5%":"99.5%",I=M?"33%":"-33%",A=d.enteringEl,H=d.leavingEl,P="back"===d.direction,z=A.querySelector(":scope > ion-content"),k=A.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),te=A.querySelectorAll(":scope > ion-header > ion-toolbar"),ne=(0,j.c)(),G=(0,j.c)();if(ne.addElement(A).duration((null!==(f=d.duration)&&void 0!==f?f:0)||540).easing(d.easing||u).fill("both").beforeRemoveClass("ion-page-invisible"),H&&null!=a){const K=(0,j.c)();K.addElement(a),ne.addAnimation(K)}if(z||0!==te.length||0!==k.length?(G.addElement(z),G.addElement(k)):G.addElement(A.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ne.addAnimation(G),P?G.beforeClearStyles([p]).fromTo("transform",`translateX(${I})`,`translateX(${m})`).fromTo(p,.8,1):G.beforeClearStyles([p]).fromTo("transform",`translateX(${x})`,`translateX(${m})`),z){const K=v(z).querySelector(".transition-effect");if(K){const ie=K.querySelector(".transition-cover"),Ae=K.querySelector(".transition-shadow"),Y=(0,j.c)(),R=(0,j.c)(),Q=(0,j.c)();Y.addElement(K).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),R.addElement(ie).beforeClearStyles([p]).fromTo(p,0,.1),Q.addElement(Ae).beforeClearStyles([p]).fromTo(p,.03,.7),Y.addAnimation([R,Q]),G.addAnimation([Y])}}const X=A.querySelector("ion-header.header-collapse-condense"),{forward:B,backward:N}=((a,d,f,u,p)=>{const c=g(u,f),m=b(p),_=b(u),M=g(p,f),x=null!==c&&null!==m&&!f,I=null!==_&&null!==M&&f;if(x){const A=m.getBoundingClientRect(),H=c.getBoundingClientRect(),P=v(c).querySelector(".button-text"),z=null==P?void 0:P.getBoundingClientRect(),te=v(m).querySelector(".toolbar-title").getBoundingClientRect();w(a,d,f,m,A,te,H,P,z),C(a,d,f,c,H,P,z,m,te)}else if(I){const A=_.getBoundingClientRect(),H=M.getBoundingClientRect(),P=v(M).querySelector(".button-text"),z=null==P?void 0:P.getBoundingClientRect(),te=v(_).querySelector(".toolbar-title").getBoundingClientRect();w(a,d,f,_,A,te,H,P,z),C(a,d,f,M,H,P,z,_,te)}return{forward:x,backward:I}})(ne,M,P,A,H);if(te.forEach(K=>{const ie=(0,j.c)();ie.addElement(K),ne.addAnimation(ie);const Ae=(0,j.c)();Ae.addElement(K.querySelector("ion-title"));const Y=(0,j.c)(),R=Array.from(K.querySelectorAll("ion-buttons,[menuToggle]")),Q=K.closest("ion-header"),pe=null==Q?void 0:Q.classList.contains("header-collapse-condense-inactive");let Se;Se=R.filter(P?ct=>{const dt=ct.classList.contains("buttons-collapse");return dt&&!pe||!dt}:ct=>!ct.classList.contains("buttons-collapse")),Y.addElement(Se);const Ve=(0,j.c)();Ve.addElement(K.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const qe=(0,j.c)();qe.addElement(v(K).querySelector(".toolbar-background"));const pt=(0,j.c)(),We=K.querySelector("ion-back-button");if(We&&pt.addElement(We),ie.addAnimation([Ae,Y,Ve,qe,pt]),Y.fromTo(p,.01,1),Ve.fromTo(p,.01,1),P)pe||Ae.fromTo("transform",`translateX(${I})`,`translateX(${m})`).fromTo(p,.01,1),Ve.fromTo("transform",`translateX(${I})`,`translateX(${m})`),pt.fromTo(p,.01,1);else if(X||Ae.fromTo("transform",`translateX(${x})`,`translateX(${m})`).fromTo(p,.01,1),Ve.fromTo("transform",`translateX(${x})`,`translateX(${m})`),qe.beforeClearStyles([p,"transform"]),(null==Q?void 0:Q.translucent)?qe.fromTo("transform",M?"translateX(-100%)":"translateX(100%)","translateX(0px)"):qe.fromTo(p,.01,"var(--opacity)"),B||pt.fromTo(p,.01,1),We&&!B){const dt=(0,j.c)();dt.addElement(v(We).querySelector(".button-text")).fromTo("transform",M?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ie.addAnimation(dt)}}),H){const K=(0,j.c)(),ie=H.querySelector(":scope > ion-content"),Ae=H.querySelectorAll(":scope > ion-header > ion-toolbar"),Y=H.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ie||0!==Ae.length||0!==Y.length?(K.addElement(ie),K.addElement(Y)):K.addElement(H.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ne.addAnimation(K),P){K.beforeClearStyles([p]).fromTo("transform",`translateX(${m})`,M?"translateX(-100%)":"translateX(100%)");const R=(0,O.g)(H);ne.afterAddWrite(()=>{"normal"===ne.getDirection()&&R.style.setProperty("display","none")})}else K.fromTo("transform",`translateX(${m})`,`translateX(${I})`).fromTo(p,1,.8);if(ie){const R=v(ie).querySelector(".transition-effect");if(R){const Q=R.querySelector(".transition-cover"),pe=R.querySelector(".transition-shadow"),Se=(0,j.c)(),Ve=(0,j.c)(),qe=(0,j.c)();Se.addElement(R).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ve.addElement(Q).beforeClearStyles([p]).fromTo(p,.1,0),qe.addElement(pe).beforeClearStyles([p]).fromTo(p,.7,.03),Se.addAnimation([Ve,qe]),K.addAnimation([Se])}}Ae.forEach(R=>{const Q=(0,j.c)();Q.addElement(R);const pe=(0,j.c)();pe.addElement(R.querySelector("ion-title"));const Se=(0,j.c)(),Ve=R.querySelectorAll("ion-buttons,[menuToggle]"),qe=R.closest("ion-header"),pt=null==qe?void 0:qe.classList.contains("header-collapse-condense-inactive"),We=Array.from(Ve).filter(at=>{const Qe=at.classList.contains("buttons-collapse");return Qe&&!pt||!Qe});Se.addElement(We);const ct=(0,j.c)(),dt=R.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");dt.length>0&&ct.addElement(dt);const $e=(0,j.c)();$e.addElement(v(R).querySelector(".toolbar-background"));const Ze=(0,j.c)(),Je=R.querySelector("ion-back-button");if(Je&&Ze.addElement(Je),Q.addAnimation([pe,Se,ct,Ze,$e]),ne.addAnimation(Q),Ze.fromTo(p,.99,0),Se.fromTo(p,.99,0),ct.fromTo(p,.99,0),P){if(pt||pe.fromTo("transform",`translateX(${m})`,M?"translateX(-100%)":"translateX(100%)").fromTo(p,.99,0),ct.fromTo("transform",`translateX(${m})`,M?"translateX(-100%)":"translateX(100%)"),$e.beforeClearStyles([p,"transform"]),(null==qe?void 0:qe.translucent)?$e.fromTo("transform","translateX(0px)",M?"translateX(-100%)":"translateX(100%)"):$e.fromTo(p,"var(--opacity)",0),Je&&!N){const Qe=(0,j.c)();Qe.addElement(v(Je).querySelector(".button-text")).fromTo("transform",`translateX(${m})`,`translateX(${(M?-124:124)+"px"})`),Q.addAnimation(Qe)}}else pt||pe.fromTo("transform",`translateX(${m})`,`translateX(${I})`).fromTo(p,.99,0).afterClearStyles([c,p]),ct.fromTo("transform",`translateX(${m})`,`translateX(${I})`).afterClearStyles([c,p]),Ze.afterClearStyles([p]),pe.afterClearStyles([p]),Se.afterClearStyles([p])})}return ne}catch(u){throw u}},l=10},361:(En,Kt,me)=>{"use strict";me.r(Kt),me.d(Kt,{mdTransitionAnimation:()=>se});var j=me(9986),O=me(1331);me(8476),me(4921),me(8393);const se=(V,v)=>{var b,g,y;const C="40px",s="back"===v.direction,a=v.leavingEl,d=(0,O.g)(v.enteringEl),f=d.querySelector("ion-toolbar"),u=(0,j.c)();if(u.addElement(d).fill("both").beforeRemoveClass("ion-page-invisible"),s?u.duration((null!==(b=v.duration)&&void 0!==b?b:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):u.duration((null!==(g=v.duration)&&void 0!==g?g:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${C})`,"translateY(0px)").fromTo("opacity",.01,1),f){const p=(0,j.c)();p.addElement(f),u.addAnimation(p)}if(a&&s){u.duration((null!==(y=v.duration)&&void 0!==y?y:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const p=(0,j.c)();p.addElement((0,O.g)(a)).onFinish(c=>{1===c&&p.elements.length>0&&p.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${C})`).fromTo("opacity",1,0),u.addAnimation(p)}return u}},1070:(En,Kt,me)=>{"use strict";me.d(Kt,{B:()=>Ve,F:()=>Ze,G:()=>qe,O:()=>pt,a:()=>d,b:()=>f,c:()=>m,d:()=>We,e:()=>ct,f:()=>B,g:()=>K,h:()=>Y,i:()=>Q,j:()=>M,k:()=>x,l:()=>u,m:()=>p,n:()=>g,o:()=>G,q:()=>y,s:()=>Se});var j=me(467),O=me(8476),ge=me(4920),gt=me(8669),o=me(4921),se=me(8621),V=me(1970),v=me(4929);const b='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',g=(Je,at)=>{const Qe=Je.querySelector(b);C(Qe,null!=at?at:Je)},y=(Je,at)=>{const Qe=Array.from(Je.querySelectorAll(b));C(Qe.length>0?Qe[Qe.length-1]:null,null!=at?at:Je)},C=(Je,at)=>{let Qe=Je;const st=null==Je?void 0:Je.shadowRoot;st&&(Qe=st.querySelector(b)||Je),Qe?(0,ge.f)(Qe):at.focus()};let w=0,s=0;const l=new WeakMap,a=Je=>({create:at=>I(Je,at),dismiss:(at,Qe,st)=>k(document,at,Qe,Je,st),getTop:()=>(0,j.A)(function*(){return G(document,Je)})()}),d=a("ion-alert"),f=a("ion-action-sheet"),u=a("ion-loading"),p=a("ion-modal"),m=a("ion-popover"),M=Je=>{typeof document<"u"&&z(document);const at=w++;Je.overlayIndex=at},x=Je=>(Je.hasAttribute("id")||(Je.id="ion-overlay-"+ ++s),Je.id),I=(Je,at)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Je).then(()=>{const Qe=document.createElement(Je);return Qe.classList.add("overlay-hidden"),Object.assign(Qe,Object.assign(Object.assign({},at),{hasController:!0})),ie(document).appendChild(Qe),new Promise(st=>(0,ge.c)(Qe,st))}):Promise.resolve(),H=(Je,at)=>{let Qe=Je;const st=null==Je?void 0:Je.shadowRoot;st&&(Qe=st.querySelector(b)||Je),Qe?(0,ge.f)(Qe):at.focus()},z=Je=>{0===w&&(w=1,Je.addEventListener("focus",at=>{((Je,at)=>{const Qe=G(at,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),st=Je.target;Qe&&st&&!Qe.classList.contains(Ze)&&(Qe.shadowRoot?(()=>{if(Qe.contains(st))Qe.lastFocus=st;else if("ION-TOAST"===st.tagName)H(Qe.lastFocus,Qe);else{const Ut=Qe.lastFocus;g(Qe),Ut===at.activeElement&&y(Qe),Qe.lastFocus=at.activeElement}})():(()=>{if(Qe===st)Qe.lastFocus=void 0;else if("ION-TOAST"===st.tagName)H(Qe.lastFocus,Qe);else{const Ut=(0,ge.g)(Qe);if(!Ut.contains(st))return;const ln=Ut.querySelector(".ion-overlay-wrapper");if(!ln)return;if(ln.contains(st)||st===Ut.querySelector("ion-backdrop"))Qe.lastFocus=st;else{const $t=Qe.lastFocus;g(ln,Qe),$t===at.activeElement&&y(ln,Qe),Qe.lastFocus=at.activeElement}}})())})(at,Je)},!0),Je.addEventListener("ionBackButton",at=>{const Qe=G(Je);null!=Qe&&Qe.backdropDismiss&&at.detail.register(gt.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Qe.dismiss(void 0,Ve)})}),(0,gt.shouldUseCloseWatcher)()||Je.addEventListener("keydown",at=>{if("Escape"===at.key){const Qe=G(Je);null!=Qe&&Qe.backdropDismiss&&Qe.dismiss(void 0,Ve)}}))},k=(Je,at,Qe,st,Tt)=>{const on=G(Je,st,Tt);return on?on.dismiss(at,Qe):Promise.reject("overlay does not exist")},ne=(Je,at)=>((Je,at)=>(void 0===at&&(at="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Je.querySelectorAll(at)).filter(Qe=>Qe.overlayIndex>0)))(Je,at).filter(Qe=>!(Je=>Je.classList.contains("overlay-hidden"))(Qe)),G=(Je,at,Qe)=>{const st=ne(Je,at);return void 0===Qe?st[st.length-1]:st.find(Tt=>Tt.id===Qe)},X=(Je=!1)=>{const Qe=ie(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Qe&&(Je?Qe.setAttribute("aria-hidden","true"):Qe.removeAttribute("aria-hidden"))},B=function(){var Je=(0,j.A)(function*(at,Qe,st,Tt,on){var Ut,ln;if(at.presented)return;X(!0),document.body.classList.add(V.B),dt(at.el),at.presented=!0,at.willPresent.emit(),null===(Ut=at.willPresentShorthand)||void 0===Ut||Ut.emit();const $t=(0,o.b)(at),yn=at.enterAnimation?at.enterAnimation:o.c.get(Qe,"ios"===$t?st:Tt);(yield Ae(at,yn,at.el,on))&&(at.didPresent.emit(),null===(ln=at.didPresentShorthand)||void 0===ln||ln.emit()),"ION-TOAST"!==at.el.tagName&&N(at.el),at.keyboardClose&&(null===document.activeElement||!at.el.contains(document.activeElement))&&at.el.focus(),at.el.removeAttribute("aria-hidden")});return function(Qe,st,Tt,on,Ut){return Je.apply(this,arguments)}}(),N=function(){var Je=(0,j.A)(function*(at){let Qe=document.activeElement;if(!Qe)return;const st=null==Qe?void 0:Qe.shadowRoot;st&&(Qe=st.querySelector(b)||Qe),yield at.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Qe.focus()});return function(Qe){return Je.apply(this,arguments)}}(),K=function(){var Je=(0,j.A)(function*(at,Qe,st,Tt,on,Ut,ln){var $t,yn;if(!at.presented)return!1;void 0!==O.d&&1===ne(O.d).length&&(X(!1),document.body.classList.remove(V.B)),at.presented=!1;try{at.el.style.setProperty("pointer-events","none"),at.willDismiss.emit({data:Qe,role:st}),null===($t=at.willDismissShorthand)||void 0===$t||$t.emit({data:Qe,role:st});const hn=(0,o.b)(at),It=at.leaveAnimation?at.leaveAnimation:o.c.get(Tt,"ios"===hn?on:Ut);st!==qe&&(yield Ae(at,It,at.el,ln)),at.didDismiss.emit({data:Qe,role:st}),null===(yn=at.didDismissShorthand)||void 0===yn||yn.emit({data:Qe,role:st}),(l.get(at)||[]).forEach(Vt=>Vt.destroy()),l.delete(at),at.el.classList.add("overlay-hidden"),at.el.style.removeProperty("pointer-events"),void 0!==at.el.lastFocus&&(at.el.lastFocus=void 0)}catch(hn){console.error(hn)}return at.el.remove(),$e(),!0});return function(Qe,st,Tt,on,Ut,ln,$t){return Je.apply(this,arguments)}}(),ie=Je=>Je.querySelector("ion-app")||Je.body,Ae=function(){var Je=(0,j.A)(function*(at,Qe,st,Tt){st.classList.remove("overlay-hidden");const Ut=Qe(at.el,Tt);(!at.animated||!o.c.getBoolean("animated",!0))&&Ut.duration(0),at.keyboardClose&&Ut.beforeAddWrite(()=>{const $t=st.ownerDocument.activeElement;null!=$t&&$t.matches("input,ion-input, ion-textarea")&&$t.blur()});const ln=l.get(at)||[];return l.set(at,[...ln,Ut]),yield Ut.play(),!0});return function(Qe,st,Tt,on){return Je.apply(this,arguments)}}(),Y=(Je,at)=>{let Qe;const st=new Promise(Tt=>Qe=Tt);return R(Je,at,Tt=>{Qe(Tt.detail)}),st},R=(Je,at,Qe)=>{const st=Tt=>{(0,ge.b)(Je,at,st),Qe(Tt)};(0,ge.a)(Je,at,st)},Q=Je=>"cancel"===Je||Je===Ve,pe=Je=>Je(),Se=(Je,at)=>{if("function"==typeof Je)return o.c.get("_zoneGate",pe)(()=>{try{return Je(at)}catch(st){throw st}})},Ve="backdrop",qe="gesture",pt=39,We=Je=>{let Qe,at=!1;const st=(0,se.C)(),Tt=(ln=!1)=>{if(Qe&&!ln)return{delegate:Qe,inline:at};const{el:$t,hasController:yn,delegate:Yt}=Je;return at=null!==$t.parentNode&&!yn,Qe=at?Yt||st:Yt,{inline:at,delegate:Qe}};return{attachViewToDom:function(){var ln=(0,j.A)(function*($t){const{delegate:yn}=Tt(!0);if(yn)return yield yn.attachViewToDom(Je.el,$t);const{hasController:Yt}=Je;if(Yt&&void 0!==$t)throw new Error("framework delegate is missing");return null});return function(yn){return ln.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:ln}=Tt();ln&&void 0!==Je.el&&ln.removeViewFromDom(Je.el.parentElement,Je.el)}}},ct=()=>{let Je;const at=()=>{Je&&(Je(),Je=void 0)};return{addClickListener:(st,Tt)=>{at();const on=void 0!==Tt?document.getElementById(Tt):null;on?Je=((ln,$t)=>{const yn=()=>{$t.present()};return ln.addEventListener("click",yn),()=>{ln.removeEventListener("click",yn)}})(on,st):(0,v.p)(`A trigger element with the ID "${Tt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,st)},removeClickListener:at}},dt=Je=>{var at;if(void 0===O.d)return;const Qe=ne(O.d);for(let st=Qe.length-1;st>=0;st--){const Tt=Qe[st],on=null!==(at=Qe[st+1])&&void 0!==at?at:Je;(on.hasAttribute("aria-hidden")||"ION-TOAST"!==on.tagName)&&Tt.setAttribute("aria-hidden","true")}},$e=()=>{if(void 0===O.d)return;const Je=ne(O.d);for(let at=Je.length-1;at>=0;at--){const Qe=Je[at];if(Qe.removeAttribute("aria-hidden"),"ION-TOAST"!==Qe.tagName)break}},Ze="ion-disable-focus-trap"},1288:(En,Kt,me)=>{"use strict";me.d(Kt,{H:()=>f,b:()=>on,c:()=>m,f:()=>We,g:()=>c,h:()=>a,p:()=>Ft,r:()=>an});var j=me(467);let ge,gt,o=!1,se=!1;const g={},s=mt=>"object"==(mt=typeof mt)||"function"===mt;function l(mt){var St,Jt,Nt;return null!==(Nt=null===(Jt=null===(St=mt.head)||void 0===St?void 0:St.querySelector('meta[name="csp-nonce"]'))||void 0===Jt?void 0:Jt.getAttribute("content"))&&void 0!==Nt?Nt:void 0}const a=(mt,St,...Jt)=>{let Nt=null,nn=!1,fn=!1;const bn=[],Mn=An=>{for(let Vn=0;Vn<An.length;Vn++)Nt=An[Vn],Array.isArray(Nt)?Mn(Nt):null!=Nt&&"boolean"!=typeof Nt&&((nn="function"!=typeof mt&&!s(Nt))&&(Nt=String(Nt)),nn&&fn?bn[bn.length-1].$text$+=Nt:bn.push(nn?d(null,Nt):Nt),fn=nn)};if(Mn(Jt),St){const An=St.className||St.class;An&&(St.class="object"!=typeof An?An:Object.keys(An).filter(Vn=>An[Vn]).join(" "))}const In=d(mt,null);return In.$attrs$=St,bn.length>0&&(In.$children$=bn),In},d=(mt,St)=>({$flags$:0,$tag$:mt,$text$:St,$elm$:null,$children$:null,$attrs$:null}),f={},c=mt=>It(mt).$hostElement$,m=(mt,St,Jt)=>{const Nt=c(mt);return{emit:nn=>_(Nt,St,{bubbles:!!(4&Jt),composed:!!(2&Jt),cancelable:!!(1&Jt),detail:nn})}},_=(mt,St,Jt)=>{const Nt=dn.ce(St,Jt);return mt.dispatchEvent(Nt),Nt},M=new WeakMap,H=(mt,St)=>"sc-"+mt.$tagName$,P=(mt,St,Jt,Nt,nn,fn)=>{if(Jt!==Nt){let bn=ze(mt,St),Mn=St.toLowerCase();if("class"===St){const In=mt.classList,An=k(Jt),Vn=k(Nt);In.remove(...An.filter(q=>q&&!Vn.includes(q))),In.add(...Vn.filter(q=>q&&!An.includes(q)))}else if("style"===St){for(const In in Jt)(!Nt||null==Nt[In])&&(In.includes("-")?mt.style.removeProperty(In):mt.style[In]="");for(const In in Nt)(!Jt||Nt[In]!==Jt[In])&&(In.includes("-")?mt.style.setProperty(In,Nt[In]):mt.style[In]=Nt[In])}else if("ref"===St)Nt&&Nt(mt);else if(bn||"o"!==St[0]||"n"!==St[1]){const In=s(Nt);if((bn||In&&null!==Nt)&&!nn)try{if(mt.tagName.includes("-"))mt[St]=Nt;else{const An=null==Nt?"":Nt;"list"===St?bn=!1:(null==Jt||mt[St]!=An)&&(mt[St]=An)}}catch{}null==Nt||!1===Nt?(!1!==Nt||""===mt.getAttribute(St))&&mt.removeAttribute(St):(!bn||4&fn||nn)&&!In&&mt.setAttribute(St,Nt=!0===Nt?"":Nt)}else St="-"===St[2]?St.slice(3):ze(Bt,Mn)?Mn.slice(2):Mn[2]+St.slice(3),Jt&&dn.rel(mt,St,Jt,!1),Nt&&dn.ael(mt,St,Nt,!1)}},z=/\s/,k=mt=>mt?mt.split(z):[],te=(mt,St,Jt,Nt)=>{const nn=11===St.$elm$.nodeType&&St.$elm$.host?St.$elm$.host:St.$elm$,fn=mt&&mt.$attrs$||g,bn=St.$attrs$||g;for(Nt in fn)Nt in bn||P(nn,Nt,fn[Nt],void 0,Jt,St.$flags$);for(Nt in bn)P(nn,Nt,fn[Nt],bn[Nt],Jt,St.$flags$)},ne=(mt,St,Jt,Nt)=>{const nn=St.$children$[Jt];let bn,Mn,fn=0;if(null!==nn.$text$)bn=nn.$elm$=Wt.createTextNode(nn.$text$);else{if(o||(o="svg"===nn.$tag$),bn=nn.$elm$=Wt.createElementNS(o?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",nn.$tag$),o&&"foreignObject"===nn.$tag$&&(o=!1),te(null,nn,o),(mt=>null!=mt)(ge)&&bn["s-si"]!==ge&&bn.classList.add(bn["s-si"]=ge),nn.$children$)for(fn=0;fn<nn.$children$.length;++fn)Mn=ne(mt,nn,fn),Mn&&bn.appendChild(Mn);"svg"===nn.$tag$?o=!1:"foreignObject"===bn.tagName&&(o=!0)}return bn},G=(mt,St,Jt,Nt,nn,fn)=>{let Mn,bn=mt;for(bn.shadowRoot&&bn.tagName===gt&&(bn=bn.shadowRoot);nn<=fn;++nn)Nt[nn]&&(Mn=ne(null,Jt,nn),Mn&&(Nt[nn].$elm$=Mn,bn.insertBefore(Mn,St)))},X=(mt,St,Jt)=>{for(let Nt=St;Nt<=Jt;++Nt){const nn=mt[Nt];if(nn){const fn=nn.$elm$;ie(nn),fn&&fn.remove()}}},N=(mt,St)=>mt.$tag$===St.$tag$,K=(mt,St)=>{const Jt=St.$elm$=mt.$elm$,Nt=mt.$children$,nn=St.$children$,fn=St.$tag$,bn=St.$text$;null===bn?(o="svg"===fn||"foreignObject"!==fn&&o,te(mt,St,o),null!==Nt&&null!==nn?((mt,St,Jt,Nt)=>{let ve,nn=0,fn=0,bn=St.length-1,Mn=St[0],In=St[bn],An=Nt.length-1,Vn=Nt[0],q=Nt[An];for(;nn<=bn&&fn<=An;)null==Mn?Mn=St[++nn]:null==In?In=St[--bn]:null==Vn?Vn=Nt[++fn]:null==q?q=Nt[--An]:N(Mn,Vn)?(K(Mn,Vn),Mn=St[++nn],Vn=Nt[++fn]):N(In,q)?(K(In,q),In=St[--bn],q=Nt[--An]):N(Mn,q)?(K(Mn,q),mt.insertBefore(Mn.$elm$,In.$elm$.nextSibling),Mn=St[++nn],q=Nt[--An]):N(In,Vn)?(K(In,Vn),mt.insertBefore(In.$elm$,Mn.$elm$),In=St[--bn],Vn=Nt[++fn]):(ve=ne(St&&St[fn],Jt,fn),Vn=Nt[++fn],ve&&Mn.$elm$.parentNode.insertBefore(ve,Mn.$elm$));nn>bn?G(mt,null==Nt[An+1]?null:Nt[An+1].$elm$,Jt,Nt,fn,An):fn>An&&X(St,nn,bn)})(Jt,Nt,St,nn):null!==nn?(null!==mt.$text$&&(Jt.textContent=""),G(Jt,null,St,nn,0,nn.length-1)):null!==Nt&&X(Nt,0,Nt.length-1),o&&"svg"===fn&&(o=!1)):mt.$text$!==bn&&(Jt.data=bn)},ie=mt=>{mt.$attrs$&&mt.$attrs$.ref&&mt.$attrs$.ref(null),mt.$children$&&mt.$children$.map(ie)},Y=(mt,St)=>{St&&!mt.$onRenderResolve$&&St["s-p"]&&St["s-p"].push(new Promise(Jt=>mt.$onRenderResolve$=Jt))},R=(mt,St)=>{if(mt.$flags$|=16,!(4&mt.$flags$))return Y(mt,mt.$ancestorComponent$),un(()=>Q(mt,St));mt.$flags$|=512},Q=(mt,St)=>{const Nt=mt.$lazyInstance$;return St&&(mt.$flags$|=256,mt.$queuedListeners$&&(mt.$queuedListeners$.map(([fn,bn])=>dt(Nt,fn,bn)),mt.$queuedListeners$=void 0)),pe(void 0,()=>Ve(mt,Nt,St))},pe=(mt,St)=>Se(mt)?mt.then(St):St(),Se=mt=>mt instanceof Promise||mt&&mt.then&&"function"==typeof mt.then,Ve=function(){var mt=(0,j.A)(function*(St,Jt,Nt){var nn;const fn=St.$hostElement$,Mn=fn["s-rc"];Nt&&(mt=>{const St=mt.$cmpMeta$,Jt=mt.$hostElement$,Nt=St.$flags$,fn=((mt,St,Jt,Nt)=>{var nn;let fn=H(St);const bn=Et.get(fn);if(mt=11===mt.nodeType?mt:Wt,bn)if("string"==typeof bn){let In,Mn=M.get(mt=mt.head||mt);if(Mn||M.set(mt,Mn=new Set),!Mn.has(fn)){{In=Wt.createElement("style"),In.innerHTML=bn;const An=null!==(nn=dn.$nonce$)&&void 0!==nn?nn:l(Wt);null!=An&&In.setAttribute("nonce",An),mt.insertBefore(In,mt.querySelector("link"))}Mn&&Mn.add(fn)}}else mt.adoptedStyleSheets.includes(bn)||(mt.adoptedStyleSheets=[...mt.adoptedStyleSheets,bn]);return fn})(Jt.shadowRoot?Jt.shadowRoot:Jt.getRootNode(),St);10&Nt&&(Jt["s-sc"]=fn,Jt.classList.add(fn+"-h"))})(St);qe(St,Jt),Mn&&(Mn.map(An=>An()),fn["s-rc"]=void 0);{const An=null!==(nn=fn["s-p"])&&void 0!==nn?nn:[],Vn=()=>pt(St);0===An.length?Vn():(Promise.all(An).then(Vn),St.$flags$|=4,An.length=0)}});return function(Jt,Nt,nn){return mt.apply(this,arguments)}}(),qe=(mt,St,Jt)=>{try{St=St.render(),mt.$flags$&=-17,mt.$flags$|=2,((mt,St)=>{const Jt=mt.$hostElement$,Nt=mt.$vnode$||d(null,null),nn=(mt=>mt&&mt.$tag$===f)(St)?St:a(null,null,St);gt=Jt.tagName,nn.$tag$=null,nn.$flags$|=4,mt.$vnode$=nn,nn.$elm$=Nt.$elm$=Jt.shadowRoot||Jt,ge=Jt["s-sc"],K(Nt,nn)})(mt,St)}catch(Nt){Be(Nt,mt.$hostElement$)}return null},pt=mt=>{const Jt=mt.$hostElement$,nn=mt.$lazyInstance$,fn=mt.$ancestorComponent$;64&mt.$flags$||(mt.$flags$|=64,$e(Jt),dt(nn,"componentDidLoad"),mt.$onReadyResolve$(Jt),fn||ct()),mt.$onInstanceResolve$(Jt),mt.$onRenderResolve$&&(mt.$onRenderResolve$(),mt.$onRenderResolve$=void 0),512&mt.$flags$&&At(()=>R(mt,!1)),mt.$flags$&=-517},We=mt=>{{const St=It(mt),Jt=St.$hostElement$.isConnected;return Jt&&2==(18&St.$flags$)&&R(St,!1),Jt}},ct=mt=>{$e(Wt.documentElement),At(()=>_(Bt,"appload",{detail:{namespace:"ionicpwaelements"}}))},dt=(mt,St,Jt)=>{if(mt&&mt[St])try{return mt[St](Jt)}catch(Nt){Be(Nt)}},$e=mt=>mt.classList.add("hydrated"),at=(mt,St,Jt)=>{if(St.$members$){const Nt=Object.entries(St.$members$),nn=mt.prototype;if(Nt.map(([fn,[bn]])=>{31&bn||2&Jt&&32&bn?Object.defineProperty(nn,fn,{get(){return((mt,St)=>It(this).$instanceValues$.get(St))(0,fn)},set(Mn){((mt,St,Jt,Nt)=>{const nn=It(mt),fn=nn.$instanceValues$.get(St),bn=nn.$flags$,Mn=nn.$lazyInstance$;Jt=((mt,St)=>null==mt||s(mt)?mt:4&St?"false"!==mt&&(""===mt||!!mt):2&St?parseFloat(mt):1&St?String(mt):mt)(Jt,Nt.$members$[St][0]);const In=Number.isNaN(fn)&&Number.isNaN(Jt);(!(8&bn)||void 0===fn)&&Jt!==fn&&!In&&(nn.$instanceValues$.set(St,Jt),Mn&&2==(18&bn)&&R(nn,!1))})(this,fn,Mn,St)},configurable:!0,enumerable:!0}):1&Jt&&64&bn&&Object.defineProperty(nn,fn,{value(...Mn){const In=It(this);return In.$onInstancePromise$.then(()=>In.$lazyInstance$[fn](...Mn))}})}),1&Jt){const fn=new Map;nn.attributeChangedCallback=function(bn,Mn,In){dn.jmp(()=>{const An=fn.get(bn);if(this.hasOwnProperty(An))In=this[An],delete this[An];else if(nn.hasOwnProperty(An)&&"number"==typeof this[An]&&this[An]==In)return;this[An]=(null!==In||"boolean"!=typeof this[An])&&In})},mt.observedAttributes=Nt.filter(([bn,Mn])=>15&Mn[0]).map(([bn,Mn])=>{const In=Mn[1]||bn;return fn.set(In,bn),In})}}return mt},Qe=function(){var mt=(0,j.A)(function*(St,Jt,Nt,nn,fn){if(!(32&Jt.$flags$)){Jt.$flags$|=32;{if((fn=Ke(Nt)).then){const An=()=>{};fn=yield fn,An()}fn.isProxied||(at(fn,Nt,2),fn.isProxied=!0);const In=()=>{};Jt.$flags$|=8;try{new fn(Jt)}catch(An){Be(An)}Jt.$flags$&=-9,In()}if(fn.style){let In=fn.style;const An=H(Nt);if(!Et.has(An)){const Vn=()=>{};((mt,St,Jt)=>{let Nt=Et.get(mt);Gt&&Jt?(Nt=Nt||new CSSStyleSheet,"string"==typeof Nt?Nt=St:Nt.replaceSync(St)):Nt=St,Et.set(mt,Nt)})(An,In,!!(1&Nt.$flags$)),Vn()}}}const bn=Jt.$ancestorComponent$,Mn=()=>R(Jt,!0);bn&&bn["s-rc"]?bn["s-rc"].push(Mn):Mn()});return function(Jt,Nt,nn,fn,bn){return mt.apply(this,arguments)}}(),on=(mt,St={})=>{var Jt;const nn=[],fn=St.exclude||[],bn=Bt.customElements,Mn=Wt.head,In=Mn.querySelector("meta[charset]"),An=Wt.createElement("style"),Vn=[];let q,ve=!0;Object.assign(dn,St),dn.$resourcesUrl$=new URL(St.resourcesUrl||"./",Wt.baseURI).href,mt.map(je=>{je[1].map(T=>{const D={$flags$:T[0],$tagName$:T[1],$members$:T[2],$listeners$:T[3]};D.$members$=T[2],D.$listeners$=T[3];const L=D.$tagName$,U=class extends HTMLElement{constructor(oe){super(oe),Vt(oe=this,D),1&D.$flags$&&oe.attachShadow({mode:"open"})}connectedCallback(){q&&(clearTimeout(q),q=null),ve?Vn.push(this):dn.jmp(()=>(mt=>{if(!(1&dn.$flags$)){const St=It(mt),Jt=St.$cmpMeta$,Nt=()=>{};if(1&St.$flags$)Ut(mt,St,Jt.$listeners$);else{St.$flags$|=1;{let nn=mt;for(;nn=nn.parentNode||nn.host;)if(nn["s-p"]){Y(St,St.$ancestorComponent$=nn);break}}Jt.$members$&&Object.entries(Jt.$members$).map(([nn,[fn]])=>{if(31&fn&&mt.hasOwnProperty(nn)){const bn=mt[nn];delete mt[nn],mt[nn]=bn}}),Qe(mt,St,Jt)}Nt()}})(this))}disconnectedCallback(){dn.jmp(()=>(mt=>{if(!(1&dn.$flags$)){const St=It(this),Jt=St.$lazyInstance$;St.$rmListeners$&&(St.$rmListeners$.map(Nt=>Nt()),St.$rmListeners$=void 0),dt(Jt,"disconnectedCallback")}})())}componentOnReady(){return It(this).$onReadyPromise$}};D.$lazyBundleId$=je[0],!fn.includes(L)&&!bn.get(L)&&(nn.push(L),bn.define(L,at(U,D,1)))})});{An.innerHTML=nn+"{visibility:hidden}.hydrated{visibility:inherit}",An.setAttribute("data-styles","");const je=null!==(Jt=dn.$nonce$)&&void 0!==Jt?Jt:l(Wt);null!=je&&An.setAttribute("nonce",je),Mn.insertBefore(An,In?In.nextSibling:Mn.firstChild)}ve=!1,Vn.length?Vn.map(je=>je.connectedCallback()):dn.jmp(()=>q=setTimeout(ct,30))},Ut=(mt,St,Jt,Nt)=>{Jt&&Jt.map(([nn,fn,bn])=>{const Mn=$t(mt,nn),In=ln(St,bn),An=yn(nn);dn.ael(Mn,fn,In,An),(St.$rmListeners$=St.$rmListeners$||[]).push(()=>dn.rel(Mn,fn,In,An))})},ln=(mt,St)=>Jt=>{try{256&mt.$flags$?mt.$lazyInstance$[St](Jt):(mt.$queuedListeners$=mt.$queuedListeners$||[]).push([St,Jt])}catch(Nt){Be(Nt)}},$t=(mt,St)=>16&St?Wt.body:mt,yn=mt=>!!(2&mt),hn=new WeakMap,It=mt=>hn.get(mt),an=(mt,St)=>hn.set(St.$lazyInstance$=mt,St),Vt=(mt,St)=>{const Jt={$flags$:0,$hostElement$:mt,$cmpMeta$:St,$instanceValues$:new Map};return Jt.$onInstancePromise$=new Promise(Nt=>Jt.$onInstanceResolve$=Nt),Jt.$onReadyPromise$=new Promise(Nt=>Jt.$onReadyResolve$=Nt),mt["s-p"]=[],mt["s-rc"]=[],Ut(mt,Jt,St.$listeners$),hn.set(mt,Jt)},ze=(mt,St)=>St in mt,Be=(mt,St)=>(0,console.error)(mt,St),Oe=new Map,Ke=(mt,St,Jt)=>{const Nt=mt.$tagName$.replace(/-/g,"_"),nn=mt.$lazyBundleId$,fn=Oe.get(nn);if(fn)return fn[Nt];if(!Jt||!BUILD.hotModuleReplacement){const bn=Mn=>(Oe.set(nn,Mn),Mn[Nt]);switch(nn){case"pwa-action-sheet":return me.e(6301).then(me.bind(me,6301)).then(bn,Be);case"pwa-camera-modal":return me.e(2982).then(me.bind(me,2982)).then(bn,Be);case"pwa-toast":return me.e(3574).then(me.bind(me,3574)).then(bn,Be);case"pwa-camera-modal-instance":return me.e(5640).then(me.bind(me,5640)).then(bn,Be);case"pwa-camera":return me.e(6086).then(me.bind(me,6086)).then(bn,Be)}}return me(5235)(`./${nn}.entry.js`).then(bn=>(Oe.set(nn,bn),bn[Nt]),Be)},Et=new Map,Bt=typeof window<"u"?window:{},Wt=Bt.document||{head:{}},dn={$flags$:0,$resourcesUrl$:"",jmp:mt=>mt(),raf:mt=>requestAnimationFrame(mt),ael:(mt,St,Jt,Nt)=>mt.addEventListener(St,Jt,Nt),rel:(mt,St,Jt,Nt)=>mt.removeEventListener(St,Jt,Nt),ce:(mt,St)=>new CustomEvent(mt,St)},Ft=mt=>Promise.resolve(mt),Gt=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),en=[],et=[],ot=(mt,St)=>Jt=>{mt.push(Jt),se||(se=!0,St&&4&dn.$flags$?At(bt):dn.raf(bt))},xt=mt=>{for(let St=0;St<mt.length;St++)try{mt[St](performance.now())}catch(Jt){Be(Jt)}mt.length=0},bt=()=>{xt(en),xt(et),(se=en.length>0)&&dn.raf(bt)},At=mt=>Ft().then(mt),un=ot(et,!0)},5402:(En,Kt,me)=>{"use strict";me.d(Kt,{R:()=>O});const O=(0,me(5083).F3)("VoiceRecorder",{web:()=>me.e(9888).then(me.bind(me,9888)).then(ge=>new ge.VoiceRecorderWeb)})},9349:(En,Kt,me)=>{"use strict";me.d(Kt,{ZL:()=>u,d2:()=>f,Yl:()=>d,aH:()=>a});var j=me(467);const ge=(0,me(5083).F3)("App",{web:()=>me.e(9303).then(me.bind(me,9303)).then(p=>new p.AppWeb)});var gt=me(963),o=me(8326),se=me(3953),V=me(3656),v=me(5374),b=me(9858),g=me(5547),y=me(4237),C=me(755),w=me(9347),s=me(4234),l=me(482),a="DesktopPWA",d=!1;const f="https://is2you2.github.io/";window.p5=o;let u=(()=>{var p;class c{constructor(_,M,x,I,A,H,P,z,k){_.is("desktop")?a="DesktopPWA":_.is("mobileweb")?a="MobilePWA":_.is("android")?a="Android":_.is("iphone")&&(a="iOS"),d=_.is("electron"),H.initialize(()=>{let te=k.CatchGETs(location.href)||{};k.initialize(),A.AddressToQRCodeAct(te),I.initialize(),"Android"==a&&gt.W.checkPermissions().then(function(){var ne=(0,j.A)(function*(G){"granted"!=G.display&&(yield gt.W.requestPermissions())});return function(G){return ne.apply(this,arguments)}}()),I.load_settings(),H.GetFileListFromDB("tmp_files",ne=>{ne.forEach(G=>H.removeFileFromUserPath(G))})}),z.Callback_nakama=()=>{A.initialize(),A.check_if_online(),z.isFirstTime=!1,P.RegisterNotificationReact(),I.RegisterNofiticationActionType()},("Android"==a||"iOS"==a)&&ge.addListener("appUrlOpen",te=>{x.run(()=>{const ne=te.url.split(".app").pop();ne&&M.navigateByUrl(ne)})}),A.on_socket_connected.connection_check=()=>{A.check_if_online()},A.on_socket_disconnected.connection_check=()=>{A.check_if_online()}}}return(p=c).\u0275fac=function(_){return new(_||p)(se.rXU(V.OD),se.rXU(b.Ix),se.rXU(se.SKi),se.rXU(g.r),se.rXU(y.X),se.rXU(C.n),se.rXU(w.z),se.rXU(s.y),se.rXU(l.z3))},p.\u0275cmp=se.VBU({type:p,selectors:[["app-root"]],decls:2,vars:0,template:function(_,M){1&_&&(se.j41(0,"ion-app"),se.nrm(1,"ion-router-outlet"),se.k0s())},dependencies:[v.U1,v.Rg]}),c})()},482:(En,Kt,me)=>{"use strict";me.d(Kt,{xM:()=>u,z3:()=>p,ud:()=>f});var j=me(467),O=me(4023),ge=me(8326),gt=me(9349),o=me(5083),se=function(c){return c.Prompt="PROMPT",c.Camera="CAMERA",c.Photos="PHOTOS",c}(se||{}),V=function(c){return c.Rear="REAR",c.Front="FRONT",c}(V||{}),v=function(c){return c.Uri="uri",c.Base64="base64",c.DataUrl="dataUrl",c}(v||{});class b extends o.E_{getPhoto(m){var _=this;return(0,j.A)(function*(){return new Promise(function(){var M=(0,j.A)(function*(x,I){if(m.webUseInput||m.source===se.Photos)_.fileInputExperience(m,x,I);else if(m.source===se.Prompt){let A=document.querySelector("pwa-action-sheet");A||(A=document.createElement("pwa-action-sheet"),document.body.appendChild(A)),A.header=m.promptLabelHeader||"Photo",A.cancelable=!1,A.options=[{title:m.promptLabelPhoto||"From Photos"},{title:m.promptLabelPicture||"Take Picture"}],A.addEventListener("onSelection",function(){var H=(0,j.A)(function*(P){0===P.detail?_.fileInputExperience(m,x,I):_.cameraExperience(m,x,I)});return function(P){return H.apply(this,arguments)}}())}else _.cameraExperience(m,x,I)});return function(x,I){return M.apply(this,arguments)}}())})()}pickImages(m){var _=this;return(0,j.A)(function*(){return new Promise(function(){var M=(0,j.A)(function*(x,I){_.multipleFileInputExperience(x,I)});return function(x,I){return M.apply(this,arguments)}}())})()}cameraExperience(m,_,M){var x=this;return(0,j.A)(function*(){if(customElements.get("pwa-camera-modal")){const I=document.createElement("pwa-camera-modal");I.facingMode=m.direction===V.Front?"user":"environment",document.body.appendChild(I);try{yield I.componentOnReady(),I.addEventListener("onPhoto",function(){var A=(0,j.A)(function*(H){const P=H.detail;null===P?M(new o.I9("User cancelled photos app")):P instanceof Error?M(P):_(yield x._getCameraPhoto(P,m)),I.dismiss(),document.body.removeChild(I)});return function(H){return A.apply(this,arguments)}}()),I.present()}catch{x.fileInputExperience(m,_,M)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),x.fileInputExperience(m,_,M)})()}fileInputExperience(m,_,M){let x=document.querySelector("#_capacitor-camera-input");const I=()=>{var A;null===(A=x.parentNode)||void 0===A||A.removeChild(x)};x||(x=document.createElement("input"),x.id="_capacitor-camera-input",x.type="file",x.hidden=!0,document.body.appendChild(x),x.addEventListener("change",A=>{const H=x.files[0];let P="jpeg";if("image/png"===H.type?P="png":"image/gif"===H.type&&(P="gif"),"dataUrl"===m.resultType||"base64"===m.resultType){const z=new FileReader;z.addEventListener("load",()=>{if("dataUrl"===m.resultType)_({dataUrl:z.result,format:P});else if("base64"===m.resultType){const k=z.result.split(",")[1];_({base64String:k,format:P})}I()}),z.readAsDataURL(H)}else _({webPath:URL.createObjectURL(H),format:P}),I()}),x.addEventListener("cancel",A=>{M(new o.I9("User cancelled photos app")),I()})),x.accept="image/*",x.capture=!0,m.source===se.Photos||m.source===se.Prompt?x.removeAttribute("capture"):m.direction===V.Front?x.capture="user":m.direction===V.Rear&&(x.capture="environment"),x.click()}multipleFileInputExperience(m,_){let M=document.querySelector("#_capacitor-camera-input-multiple");const x=()=>{var I;null===(I=M.parentNode)||void 0===I||I.removeChild(M)};M||(M=document.createElement("input"),M.id="_capacitor-camera-input-multiple",M.type="file",M.hidden=!0,M.multiple=!0,document.body.appendChild(M),M.addEventListener("change",I=>{const A=[];for(let H=0;H<M.files.length;H++){const P=M.files[H];let z="jpeg";"image/png"===P.type?z="png":"image/gif"===P.type&&(z="gif"),A.push({webPath:URL.createObjectURL(P),format:z})}m({photos:A}),x()}),M.addEventListener("cancel",I=>{_(new o.I9("User cancelled photos app")),x()})),M.accept="image/*",M.click()}_getCameraPhoto(m,_){return new Promise((M,x)=>{const I=new FileReader,A=m.type.split("/")[1];"uri"===_.resultType?M({webPath:URL.createObjectURL(m),format:A,saved:!1}):(I.readAsDataURL(m),I.onloadend=()=>{const H=I.result;M("dataUrl"===_.resultType?{dataUrl:H,format:A,saved:!1}:{base64String:H.split(",")[1],format:A,saved:!1})},I.onerror=H=>{x(H)})})}checkPermissions(){var m=this;return(0,j.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw m.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw m.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var m=this;return(0,j.A)(function*(){throw m.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var m=this;return(0,j.A)(function*(){throw m.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var m=this;return(0,j.A)(function*(){throw m.unavailable("Not implemented on web.")})()}}new b;const y=(0,o.F3)("Camera",{web:()=>new b});var C=me(3953),w=me(5374),s=me(9900),l=me(4234),a=me(345),d=me(755),f=!1;const u=8e4;let p=(()=>{var c;class m{constructor(M,x,I,A,H,P){this.modalCtrl=M,this.p5toast=x,this.lang=I,this.sanitizer=A,this.indexed=H,this.loadingCtrl=P,f=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",z=>{f=!!z.matches})}initialize(){this.p5toast.HTMLEncode||(this.p5toast.HTMLEncode=this.HTMLEncode),this.p5key=new ge(M=>{M.setup=()=>{M.noCanvas(),M.noLoop(),M.KeyShortCut={}},M.keyPressed=x=>{switch(x.code){case"Backquote":M.KeyShortCut.Backquote&&M.KeyShortCut.Backquote(x);break;case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":case"Digit0":case"Numpad1":case"Numpad2":case"Numpad3":case"Numpad4":case"Numpad5":case"Numpad6":case"Numpad7":case"Numpad8":case"Numpad9":case"Numpad0":if(M.KeyShortCut.Digit){let I=(Number(x.code.slice(-1))-1+10)%10;M.KeyShortCut.Digit(I)}break;case"KeyQ":case"KeyW":case"KeyE":case"KeyR":case"KeyT":M.KeyShortCut.BottomTab&&M.KeyShortCut.BottomTab(x.code.slice(-1));break;case"KeyA":M.KeyShortCut.AddAct&&M.KeyShortCut.AddAct();break;case"KeyS":M.KeyShortCut.SKeyAct&&M.KeyShortCut.SKeyAct();break;case"KeyD":M.KeyShortCut.DeleteAct&&M.KeyShortCut.DeleteAct();break;case"KeyF":M.KeyShortCut.FKeyAct&&M.KeyShortCut.FKeyAct();break;case"Escape":M.KeyShortCut.Escape&&M.KeyShortCut.Escape();break;case"KeyZ":case"KeyX":case"KeyC":case"KeyV":M.KeyShortCut.HistoryAct&&M.KeyShortCut.HistoryAct(x.code.slice(-1))}"Enter"===x.key&&M.KeyShortCut.EnterAct&&M.KeyShortCut.EnterAct(x)}})}RemoveAllModals(M=(()=>{})){var x=this;return(0,j.A)(function*(){let I="init";for(;I;)I=yield x.modalCtrl.getTop(),I&&(yield I.dismiss());M&&M()})()}CatchGETs(M){const x=M.split("?");if(x.length>1){const I=x[1].split("&");let A={};for(let H=0,P=I.length;H<P;H++){const z=I[H].split("=");A[z[0]]||(A[z[0]]=[]),A[z[0]].push(decodeURIComponent(z[1]))}return A}}readasQRCodeFromString(M){try{let x=new O({content:M,padding:4,width:8,height:8,color:f?"#bbb":"#444",background:f?"#111":"#fff",ecl:"M"}).svg();return this.sanitizer.bypassSecurityTrustUrl(`data:image/svg+xml;base64,${btoa(x)}`)}catch(x){console.log("readasQRCodeFromString: ",x),this.p5toast.show({text:`${this.lang.text.GlobalAct.failed_to_gen_qr}: ${x}`})}}CreateGodotIFrame(M,x,I=""){var A=this;return new Promise(function(){var H=(0,j.A)(function*(P){let z=function(){var G=(0,j.A)(function*(){try{if("godot"!=window.godot)throw"No godot";if(I&&!A.godot_window[I])throw"No act ready";yield A.indexed.GetGodotIndexedDB(),P()}catch{setTimeout(()=>{z()},1e3)}});return function(){return G.apply(this,arguments)}}();A.godot_window&&A.godot_window.quit_godot&&A.godot_window.quit_godot(),A.godot_splash&&A.godot_splash.remove(),A.godot&&A.godot.remove(),window.godot="";let k=document.createElement("iframe");k.id="godot",k.setAttribute("src","assets/html/index.html"),k.setAttribute("frameborder","0"),k.setAttribute("class","full_screen"),k.setAttribute("allow","fullscreen; encrypted-media"),k.setAttribute("scrolling","no"),k.setAttribute("withCredentials","true"),"content_viewer_canvas"==M&&(x.create_thumbnail_p5=function(){var G=(0,j.A)(function*(X,B=void 0){new ge(N=>{N.setup=()=>{N.noCanvas(),N.pixelDensity(1),N.loadImage("data:image/png;base64,"+X,function(){var K=(0,j.A)(function*(ie){let Ae=N.createCanvas(ie.width,ie.height);N.image(ie,0,0),N.textSize(16),N.textWrap(N.CHAR);let Y=N.height/24;N.push(),N.translate(Y/6,Y/6),N.fill(0),N.text(A.godot_window.filename,Y,Y,N.width-2*Y,N.height-2*Y),N.filter(N.BLUR,3,!1),N.pop(),N.fill(255),N.text(A.godot_window.filename,Y,Y,N.width-2*Y,N.height-2*Y);let R=Ae.elt.toDataURL("image/png").replace("image/png","image/octet-stream");try{yield A.indexed.saveBase64ToUserPath(R,`${x.alt_path||x.path}_thumbnail.png`),A.modulate_thumbnail(B,"")}catch(Q){console.log("p.saveFrames: ",Q)}N.remove()});return function(ie){return K.apply(this,arguments)}}(),K=>{console.error("create_thumbnail_load thumbnail failed: ",K),N.remove()})}})});return function(X){return G.apply(this,arguments)}}()),document.getElementById(M).appendChild(k),A.godot_window=k.contentWindow||k.contentDocument,Object.keys(x).forEach(G=>A.godot_window[G]=x[G]),A.godot=k,yield z()});return function(P){return H.apply(this,arguments)}}())}req_file_info(M){var x=this;return(0,j.A)(function*(){return new Promise(function(){var I=(0,j.A)(function*(A){A(yield x.indexed.GetFileInfoFromDB(M))});return function(A){return I.apply(this,arguments)}}())})()}req_file_part_base64(M,x,I){let A="",H=new Uint8Array(M.contents.slice(x*u,(x+1)*u));for(let z=0,k=H.byteLength;z<k;z++)A+=String.fromCharCode(H[z]);let P=btoa(A);return this.indexed.saveTextFileToUserPath(JSON.stringify({type:"upload",index:x}),`${I}.history`),P}save_file_part(M,x,I){this.indexed.saveBase64ToUserPath(","+I,`${M}_part/${x}.part`),this.indexed.saveTextFileToUserPath(JSON.stringify({type:"download",index:x}),`${M}.history`)}remove_req_file_info(M,x){delete M.content.transfer_index,this.indexed.removeFileFromUserPath(`${x}.history`)}modulate_thumbnail(M,x,I){var A=this;return(0,j.A)(function*(){try{let H=yield A.indexed.loadBlobFromUserPath(`${M.path}_thumbnail.png`,"image/png"),P=URL.createObjectURL(H);return M.thumbnail=A.sanitizer.bypassSecurityTrustUrl(P),void setTimeout(()=>{URL.revokeObjectURL(P),x&&URL.revokeObjectURL(x)},100)}catch{}switch(M.viewer){case"image":try{if(!M.url)throw"No URL";if(!(yield fetch(M.url,{signal:null==I?void 0:I.signal})).ok)throw"Not ok";M.thumbnail=M.url}catch{x&&(M.thumbnail=A.sanitizer.bypassSecurityTrustUrl(x))}break;case"text":if(M.url){let H=yield fetch(M.url,{signal:null==I?void 0:I.signal}).then(P=>P.text());M.text=H.split("\n")}else new ge(H=>{H.setup=()=>{H.noCanvas(),H.loadStrings(x,P=>{M.text=P,URL.revokeObjectURL(x),H.remove()},P=>{console.log("\ud14d\uc2a4\ud2b8 \uc5f4\ub78c \ubd88\uac00: ",P),M.text=[A.lang.text.ChatRoom.downloaded],URL.revokeObjectURL(x),H.remove()})}})}x&&setTimeout(()=>{URL.revokeObjectURL(x)},100)})()}set_viewer_category(M){try{if(this.set_viewer_category_from_ext(M),"disabled"==M.viewer)if(0==M.type.indexOf("image/"))M.viewer="image";else if(0==M.type.indexOf("audio/"))M.viewer="audio";else if(0==M.type.indexOf("video/"))M.viewer="video";else{if(0!=M.type.indexOf("text/"))throw"\uc790\ub3d9\uc9c0\uc815\ub418\uc9c0 \uc54a\uc740 \ud0c0\uc785";M.viewer="text"}}catch(x){console.log("\ubd88\ud655\uc2e4\ud55c \ud0c0\uc785 \uc9c0\uc815: ",x,"/ type: ",M.type)}}set_viewer_category_from_ext(M){switch(M.file_ext){case"blend":M.viewer="blender";break;case"pck":M.viewer="godot";break;case"png":case"jpeg":case"jpg":case"webp":case"gif":case"svg":M.viewer="image";break;case"wav":case"ogg":case"mp3":case"aac":M.viewer="audio";break;case"mp4":case"ogv":M.viewer="video";break;case"webm":M.type?0==M.type.indexOf("audio/")?M.viewer="audio":0==M.type.indexOf("video/")&&(M.viewer="video"):M.viewer="disabled";break;case"sh":case"c":case"cs":case"ts":case"js":case"cc":case"php":case"h":case"cpp":case"rs":case"java":case"gd":case"shader":case"py":case"ino":case"pde":case"asm":case"bas":case"pas":case"asp":case"html":case"xml":case"css":case"scss":case"pl":case"md":case"prop":case"properties":case"json":case"yml":M.viewer="code";break;case"csv":case"conf":case"log":case"txt":case"gitignore":M.viewer="text";break;case"pdf":M.viewer="pdf";break;default:M.viewer="disabled"}}GetBase64ThroughFileReader(M){return new Promise((x,I)=>{var A;let H=new FileReader;H=null!==(A=H._realReader)&&void 0!==A?A:H,H.onload=P=>{H.onload=null,H.onerror=null,x(P.target.result.replace(/"|\\|=/g,""))},H.onerror=P=>{H.onload=null,H.onerror=null,I(P)},H.readAsDataURL(M)})}Base64ToBlob(M,x=""){let I=atob(M.split(",")[1]),A=new ArrayBuffer(I.length),H=new Int8Array(A);for(let z=0,k=I.length;z<k;z++)H[z]=I.charCodeAt(z);return new Blob([H],{type:x})}upload_file_to_storage(M,x,I,A,H,P){var z=this;return(0,j.A)(function*(){let k;k=P||(yield z.loadingCtrl.create({message:z.lang.text.Settings.TryToFallbackFS})),k.present();let ne,te=!1;H&&(ne=yield z.try_upload_to_user_custom_fs(M,x,k)),k.message=z.lang.text.GlobalAct.CheckCdnServer;let G,X=new AbortController;try{if(ne)throw te=!0,"\uc0ac\uc6a9\uc790 \uc9c0\uc815\uc11c\ubc84\uc5d0\uc11c \uc774\ubbf8 \uc131\uacf5\ud568";let B=(new Date).getTime(),N=M.filename.substring(0,M.filename.lastIndexOf(".")),K=`${x}_${N}_${B}.${M.file_ext}`;ne=`${I}//${A}:9002/cdn/${K}`,G=setInterval((0,j.A)(function*(){let Q=yield fetch(`${I}//${A}:9001/filesize/${K}`,{method:"POST",signal:X.signal}),pe=Number(yield Q.text()),Se=Math.floor(pe/M.size*100);k.message=`${M.filename}: ${Se||0}%`}),700);let ie=new FormData,Ae=new File([M.blob],K);if(ie.append("files",Ae),!(yield fetch(`${I}//${A}:9001/cdn/${K}`,{method:"POST",body:ie})).ok)throw"\uc5c5\ub85c\ub4dc \ub2e8\uacc4\uc5d0\uc11c \uc2e4\ud328";if(clearInterval(G),X.abort(),!(yield fetch(ne)).ok)throw"\uc694\uccad \uc2e4\ud328";te=!0}catch(B){clearInterval(G),X.abort(),k.message=z.lang.text.GlobalAct.CancelingUpload,console.warn("cdn \ud30c\uc77c \uc5c5\ub85c\ub4dc \ub2e8\uacc4 \uc2e4\ud328:",B)}return k.dismiss(),te?ne:void 0})()}remove_file_from_storage(M){return(0,j.A)(function*(){let x=M.split("/cdn/"),I=x.pop(),A=x.shift(),H=A.lastIndexOf(":");H>5&&(A=A.substring(0,H)),yield fetch(`${A}:9001/remove/${I}`,{method:"POST"})})()}remove_files_from_storage_with_key(M,x){return(0,j.A)(function*(){let I=M.lastIndexOf(":");I>5&&(M=M.substring(0,I)),yield fetch(`${M}:9001/remove_key/${x}`,{method:"POST"})})()}try_upload_to_user_custom_fs(M,x,I,A){var H=this;return(0,j.A)(function*(){let P;P=I||(yield H.loadingCtrl.create({message:H.lang.text.Settings.TryToFallbackFS}));let X,z=(new Date).getTime(),k=M.filename.substring(0,M.filename.lastIndexOf(".")),te=`${x}_${k}_${z}.${M.file_ext}`,ne=new FormData,G=new File([M.blob],te);ne.append("files",G),A||(A=localStorage.getItem("fallback_fs"));let B,N=new AbortController;try{if(!A)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let K=A.split("://"),ie=K.pop().split(":"),Ae=K.pop();if(Ae?Ae+=":":Ae=ie[0].replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")?"https:":"http:",X=`${Ae}//${ie[0]}:${ie[1]||9002}/cdn/${te}`,B=setInterval((0,j.A)(function*(){let Q=yield fetch(`${Ae}//${ie}:9001/filesize/${te}`,{method:"POST",signal:N.signal}),pe=Number(yield Q.text()),Se=Math.floor(pe/M.size*100);I&&(I.message=`${M.filename}: ${Se||0}%`)}),700),!(yield fetch(`${Ae}//${ie[0]}:9001/cdn/${te}`,{method:"POST",body:ne})).ok)throw"\uc5c5\ub85c\ub4dc \ub2e8\uacc4\uc5d0\uc11c \uc2e4\ud328";clearInterval(B),N.abort();let R=yield fetch(X);if(I||P.dismiss(),R.ok)return X;throw"\uc694\uccad \uc2e4\ud328"}catch{return clearInterval(B),N.abort(),void(I||P.dismiss())}})()}load_blender_file(M,x,I,A,H,P){var z=this;return new ge(k=>{let B,te=[],ne=[],X={};k.setup=(0,j.A)(function*(){let K,N=k.createCanvas(M.clientWidth,M.clientHeight,k.WEBGL);N.parent(M),k.canvas=N,k.textureMode(k.NORMAL),k.textureWrap(k.REPEAT),k.clear(255,255,255,0),k.pixelDensity(1);try{K=yield z.indexed.loadBlobFromUserPath(x.path,x.type||"")}catch{try{K=yield(yield fetch(x.url,{signal:null==P?void 0:P.signal})).blob()}catch(Y){console.log("\ubdf0\uc5b4\uc5d0\uc11c \ud30c\uc77c \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",Y),H()}}let ie=k.createElement("iframe");ie.elt.id="jsBlend",ie.elt.setAttribute("src","assets/js.blend/index.html"),ie.elt.setAttribute("frameborder","0"),ie.elt.setAttribute("class","full_screen"),ie.elt.setAttribute("allow","fullscreen; encrypted-media"),ie.elt.setAttribute("scrolling","no"),ie.elt.setAttribute("withCredentials","true"),ie.hide(),M.appendChild(ie.elt),ie.elt.contentWindow.TARGET_FILE=K,ie.elt.onload=(0,j.A)(function*(){if(!K)return z.p5toast.show({text:z.lang.text.ContentViewer.CannotOpenText}),void(I&&I.dismiss());B=k.createDiv(),B.parent(M),B.id("logDiv"),B.style("position","absolute"),B.style("top","0"),B.style("left","0"),B.style("width","100%"),B.style("height","100%"),B.style("max-height",`${M.clientHeight}px`),B.style("pointer-events","none");let Ae=yield ie.elt.contentWindow.JSBLEND(K);const Y=100;let R=Ae.file.AB;if(Ae.file.objects.PackedFile)for(let at=0,Qe=Ae.file.objects.PackedFile.length;at<Qe;at++){let st=Ae.file.objects.PackedFile[at],Tt=st.data.__data_address__,Ut=R.slice(Tt,Tt+st.size),ln=new Blob([Ut]),$t=URL.createObjectURL(ln);k.loadImage($t,yn=>{X[st.data.__data_address__]=yn,URL.revokeObjectURL($t)},yn=>{console.log("\ud14d\uc2a4\uccd0 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: ",yn),URL.revokeObjectURL($t)})}let Q=Ae.file.objects.vec2f,pe=0,Se=Ae.file.objects.Mesh,Ve=Ae.file.objects.vec3f,qe=0,pt=Ae.file.objects.vec2i,We=0;for(let at=0,Qe=Ae.file.objects.Object.length;at<Qe;at++){let st=Ae.file.objects.Object[at];I&&(I.message=`${z.lang.text.ContentViewer.ReadObject}: ${st.aname}`);let Tt=k.createVector(-st.loc[0]*Y,-st.loc[2]*Y,st.loc[1]*Y),on=k.createVector(st.rot[0],st.rot[2],-st.rot[1]);switch(st.type){case 1:{{let Be=["noimp","colonly","convcolonly","navmesh"],Oe=!1;for(let Ke=0,Et=Be.length;Ke<Et;Ke++)if(-1!==st.aname.indexOf(Be[Ke],st.aname.length-Be[Ke].length)){Oe=!0;break}if(Oe||(Oe=448==st.base_flag),Oe)continue}let ln,$t,yn,Yt,Ut=null;for(let Be=0,Oe=Se.length;Be<Oe;Be++)if(Se[Be].address==st.data.address){Ut=Be;break}try{let Be=-1;for(let Oe=0,Ke=Q.length;Oe<Ke;Oe++)if(Q[Oe].address&&(Be++,Be==Ut)){pe=Oe;break}}catch{}try{let Be=-1,Oe=!1,Ke=Ve.length;for(let Et=0;Et<Ke;Et++)if(Ve[Et].address){if(Be++,Oe){ln=Ve.slice(qe,Et);break}Be==Ut&&(qe=Et,Oe=!0)}ln||(ln=Ve.slice(qe,Ke))}catch{}try{let Be=-1,Oe=!1,Ke=pt.length;for(let Et=0;Et<Ke;Et++)if(pt[Et].address){if(Be++,Oe){$t=pt.slice(We,Et);break}Be==Ut&&(We=Et,Oe=!0)}$t||($t=pt.slice(We,Ke))}catch{}if(st.data.ldata.layers.length)for(let Be=0,Oe=st.data.ldata.layers.length;Be<Oe;Be++)11===st.data.ldata.layers[Be].type&&(Yt=st.data.ldata.layers[Be].data);else Yt=st.data.ldata.layers.data;k.beginGeometry(),k.push(),k.translate(Tt),k.scale(st.size[0],st.size[2],st.size[1]),st.rot[0]+st.rot[1]+st.rot[2]&&(B.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${st.aname}: ${z.lang.text.ContentViewer.MayGimbalLock}</div>`,k.rotate(k.HALF_PI,on));try{let Be=[];for(let Oe=0,Ke=ln.length;Oe<Ke;Oe++)Be.push([]);for(let Oe=0,Ke=$t.length;Oe<Ke;Oe++){var ct,dt;let Et=null!==(ct=$t[Oe].x)&&void 0!==ct?ct:$t[Oe].v1,Bt=null!==(dt=$t[Oe].y)&&void 0!==dt?dt:$t[Oe].v2;Be[Et].push(Bt),Be[Bt].push(Et)}for(let Et,Bt,Ke=Yt.length-1;Ke>=0;Ke--){var $e,Ze,Je;let Wt=Yt[Ke].i,dn=null!==($e=ln[Wt].x)&&void 0!==$e?$e:ln[Wt].co[0],Ft=null!==(Ze=ln[Wt].y)&&void 0!==Ze?Ze:ln[Wt].co[1],Gt=null!==(Je=ln[Wt].z)&&void 0!==Je?Je:ln[Wt].co[2];if(void 0!==Bt){try{if(!Be[Bt].includes(Wt))throw"\ub9c8\uc9c0\ub9c9 \uc810\uc73c\ub85c\ubd80\ud130 \uadf8\ub9b4 \uc218 \uc5c6\uc74c";k.vertex(-dn*Y,-Gt*Y,Ft*Y,Q[pe+Ke].x,-Q[pe+Ke].y);let et=!1;if(Bt!=Et&&(et=Be[Wt].includes(Et)),et)throw"\ub3cc\uc544\uac08 \uc218 \uc788\ub294\ub370 \ub3cc\uc544\uac00\uc9c0 \uc54a\ub294\ub2e4\uba74 \uc0c8 \uc2dc\uc791\uc810\uc73c\ub85c \uc778\uc2dd"}catch{k.endShape(k.CLOSE),Bt=void 0;continue}Bt=Wt}else k.beginShape(),k.vertex(-dn*Y,-Gt*Y,Ft*Y,Q[pe+Ke].x,-Q[pe+Ke].y),Et=Wt,Bt=Wt}}catch(Be){console.log("\uba54\uc26c \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Be),B.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${st.aname}: ${z.lang.text.ContentViewer.LoadMeshFailed}: ${Be}</div>`}k.pop(),yn=k.endGeometry();let It,an,Vt,ze=0;try{if(!st.data.mat.length)throw"no_mat";for(let Be=0,Oe=st.data.mat.length;Be<Oe;Be++){try{let Ke=st.data.mat[Be].nodetree.nodes.first.next.inputs.first.default_value.value;an=k.color(255*Ke[0],255*Ke[1],255*Ke[2],255*Ke[3])}catch(Ke){console.log("\ubca0\uc774\uc2a4 \uc0c9\uc0c1 \uac00\uc838\uc624\uae30 \uc2e4\ud328: ",Ke),B.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${st.aname}: ${z.lang.text.ContentViewer.FailedGetBaseColor}: ${Ke}</div>`}try{let Ke=st.data.mat[Be].nodetree.nodes.first.next.inputs.last.prev.default_value.value;ze=st.data.mat[Be].nodetree.nodes.first.next.inputs.last.default_value.value,Vt=k.color(255*Ke[0],255*Ke[1],255*Ke[2],255*Ke[3])}catch(Ke){B.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${st.aname}: ${z.lang.text.ContentViewer.FailedGetEmitColor}: ${Ke}</div>`}if(st.data.mat[Be].nodetree.nodes.last.id){let Ke=st.data.mat[Be].nodetree.nodes.last.id.packedfile;if(!Ke)throw"unpacked";It=Ke.data.__data_address__}}}catch(Be){switch(Be){case"unpacked":B.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${st.aname}: ${z.lang.text.ContentViewer.LinkedTexFile}</div>`;break;case"no_mat":B.elt.innerHTML+=`<div style="color: var(--ion-color-medium-shade)">${st.aname}: ${z.lang.text.ContentViewer.NoMaterial}</div>`;break;default:console.log(st.aname,"_\uc7ac\uc9c8 \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Be),B.elt.innerHTML+=`<div style="color: var(--ion-color-danger-shade)">${st.aname}: ${Be}</div>`}}yn.computeNormals(),ne.push({id:st.data.address,name:st.data.aname,color:an,emissionColor:Vt,emissionStrength:ze,texture:It,mesh:yn})}break;case 10:te.length<5?(B.elt.innerHTML+=`<div style="color: var(--ion-color-warning-shade)">${st.aname}: ${z.lang.text.ContentViewer.OnWorkReadLightMode}</div>`,te.push({type:"point",loc:Tt,rot:on,color:k.color(255,255,255)})):B.elt.innerHTML+=`<div style="color: var(--ion-color-medium-shade)">${st.aname}: ${z.lang.text.ContentViewer.ReachLightLimit}</div>`}yield new Promise(Ut=>setTimeout(Ut,0))}I&&I.dismiss(),setTimeout(()=>{B.elt.remove()},8e3),A(),ie.elt.onload=null}),k.camera(0,0,-k.height/2/k.tan(30*k.PI/180),0,0,0,0,1,0)}),k.draw=()=>{if(k.clear(255,255,255,0),k.orbitControl(),te.length)for(let N=0,K=te.length;N<K;N++)"point"===te[N].type&&k.pointLight(te[N].color,te[N].loc);else k.directionalLight(128,128,128,-1,1,1);k.ambientLight(128);for(let N=0,K=ne.length;N<K;N++)k.push(),ne[N].texture?(k.noStroke(),X[ne[N].texture]&&k.texture(X[ne[N].texture])):ne[N].color&&(k.noStroke(),k.ambientMaterial(ne[N].color)),ne[N].emissionStrength&&(k.noStroke(),k.emissiveMaterial(ne[N].emissionColor)),k.model(ne[N].mesh),k.pop()},k.windowResized=()=>{setTimeout(()=>{M.style.maxHeight=window.innerHeight-56-45+"px",B&&B.style("max-height",`${M.clientHeight}px`),k.resizeCanvas(M.clientWidth,M.clientHeight)},50)}})}StoreShortCutAct(){this.CacheShortCut=this.p5key.KeyShortCut,this.p5key.KeyShortCut={}}RestoreShortCutAct(){this.p5key.KeyShortCut=this.CacheShortCut,this.CacheShortCut=void 0}from_camera(M,x){var I=this;return(0,j.A)(function*(){let A={},H=yield I.loadingCtrl.create({message:I.lang.text.TodoDetail.WIP});try{const P=yield y.getPhoto({quality:90,resultType:v.Base64,source:se.Camera});H.present(),A.filename=`Camera_${(new Date).toLocaleString().replace(/[:|.|\/]/g,"_")}.${P.format}`,A.file_ext=P.format,A.base64="data:image/jpeg;base64,"+P.base64String,A.thumbnail=I.sanitizer.bypassSecurityTrustUrl(A.base64),A.type=`image/${P.format}`,A.typeheader="image",A.content_related_creator=[{user_id:x.user_id,timestamp:(new Date).getTime(),display_name:x.display_name,various:"camera"}],A.content_creator={user_id:x.user_id,timestamp:(new Date).getTime(),display_name:x.display_name,various:"camera"},A.path=`${M}${A.filename}`,A.viewer="image";let k=yield I.indexed.saveBase64ToUserPath(A.base64,A.path);A.blob=new Blob([k],{type:A.type}),A.size=A.blob.size}catch(P){console.log("\uce74\uba54\ub77c \ud589\ub3d9 \uc2e4\ud328: ",P),A=void 0}return H.dismiss(),A})()}selected_blobFile_callback_act(M,x,I,A="loaded",H=[]){let P={};return P.filename=M.name,P.file_ext=M.name.split(".").pop()||M.type||this.lang.text.ChatRoom.unknown_ext,P.size=M.size,P.type=M.type||M.type_override,P.path=`${x}${P.filename}`,P.blob=M,P.content_related_creator=[...H,{user_id:I.user_id,timestamp:(new Date).getTime(),display_name:I.display_name,various:A}],P.content_creator={user_id:I.user_id,timestamp:(new Date).getTime(),display_name:I.display_name,various:A},this.set_viewer_category(P),P}voidDraw_fileAct_callback(M,x,I,A){var H=this;return(0,j.A)(function*(){let P={};P.filename=M.data.name,P.file_ext="png",P.type="image/png",P.viewer="image",A?(P.content_related_creator=A,P.content_creator={user_id:I.user_id,timestamp:(new Date).getTime(),display_name:I.display_name,various:"voidDraw"}):(P.content_related_creator=[{user_id:I.user_id,timestamp:(new Date).getTime(),display_name:I.display_name,various:"voidDraw"}],P.content_creator={timestamp:(new Date).getTime(),display_name:H.CallbackNakama.users.self.display_name,various:"voidDraw"}),P.typeheader="image",P.path=`${x}${P.filename}`,P.thumbnail=H.sanitizer.bypassSecurityTrustUrl(M.data.img);let z=yield H.indexed.saveBase64ToUserPath(M.data.img,P.path),k=new Blob([z],{type:P.type});return P.blob=new File([k],M.data.name),P.size=P.blob.size,M.data.loadingCtrl.dismiss(),P})()}TextEditorNewFileName(){let M=new Date;return`texteditor_${M.getUTCFullYear()}-${("0"+(M.getMonth()+1)).slice(-2)}-${("0"+M.getDate()).slice(-2)}_${("0"+M.getHours()).slice(-2)}-${("0"+M.getMinutes()).slice(-2)}-${("0"+M.getSeconds()).slice(-2)}.txt`}TextEditorAfterAct(M,x){let I={};return I.content_creator={user_id:x.user_id,timestamp:(new Date).getTime(),display_name:x.display_name,various:"textedit"},I.content_related_creator=[],I.content_related_creator.push(I.content_creator),I.blob=M.blob,I.path=M.path,I.size=M.blob.size,I.filename=M.blob.name||this.TextEditorNewFileName(),I.file_ext=I.filename.split(".").pop(),I.type="text/plain",I.typeheader="text",I.viewer="text",I}open_custom_site(M){try{let x=M.split(":");if(x.length>2&&x.pop(),1==x.length){let I=M.replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"");x[0]="//"+x[0],x.unshift(I?"https":"http")}("DesktopPWA"==gt.aH||"MobilePWA"==gt.aH)&&window.open(x.join(":")+":9001","_blank")}catch{}}GetValueFromClipboard(){return(0,j.A)(function*(){const M=yield navigator.clipboard.read();let x={type:void 0,value:void 0};try{for(let I of M)for(let A of I.types){let H=yield I.getType(A);if("image/png"==A){x.type=A;let P=new File([H],"image.png");x.value=P;break}if("text/plain"==A){x.type=A,x.value=yield H.text();break}}return x}catch(I){throw console.error("\ud074\ub9bd\ubcf4\ub4dc\uc5d0\uc11c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",I),x.type="error",x.value=I,x}})()}WriteValueToClipboard(M,x,I){var A=this;return(0,j.A)(function*(){try{let H={},P=x;"text/plain"==M&&(P=new Blob([x],{type:M})),H[M]=P,yield navigator.clipboard.write([new ClipboardItem(H)]),"DesktopPWA"==gt.aH&&A.p5toast.show({text:`${A.lang.text.GlobalAct.PCClipboard}: ${I||x}`})}catch(H){throw console.log("\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ud558\uae30 \uc624\ub958: ",H),A.p5toast.show({text:`${A.lang.text.GlobalAct.ClipboardFailed}: ${H}`}),H}})()}HTMLEncode(M){let x=(M=[...M]).length,I=[];for(;x--;){let A=M[x].codePointAt(0);I[x]=A<65||A>127||A>90&&A<97?"&#"+A+";":M[x]}return I.join("")}}return(c=m).\u0275fac=function(M){return new(M||c)(C.KVO(w.W3),C.KVO(s.G),C.KVO(l.y),C.KVO(a.up),C.KVO(d.n),C.KVO(w.Xi))},c.\u0275prov=C.jDH({token:c,factory:c.\u0275fac,providedIn:"root"}),m})()},755:(En,Kt,me)=>{"use strict";me.d(Kt,{n:()=>o});var j=me(467),O=me(3953),ge=me(9900),gt=me(4234);let o=(()=>{var se;class V{constructor(b,g){this.p5toast=b,this.lang=g}initialize(b=(()=>{})){if(this.ionicDB)return void b();let g=indexedDB.open("/ionicfs",10);g.onsuccess=y=>{y.target.result.close(),indexedDB.open("/ionicfs",11).onsuccess=s=>{this.ionicDB=s.target.result,b()}},g.onupgradeneeded=y=>{y.target.result.createObjectStore("FILE_DATA")},g.onerror=y=>{indexedDB.open("/ionicfs",11).onsuccess=w=>{this.ionicDB=w.target.result,b()}}}GetGodotIndexedDB(){var b=this;return(0,j.A)(function*(){if(!b.godotDB)return new Promise((g,y)=>{let C=indexedDB.open("/userfs",21);C.onsuccess=w=>{b.godotDB=C.result,C.onsuccess=null,C.onerror=null,g(void 0)},C.onerror=w=>{console.error("IndexedDB initialized failed: ",w),C.onsuccess=null,C.onerror=null,y(w)}})})()}createRecursiveDirectory(b,g=this.ionicDB){let y=b.lastIndexOf("/"),C=b.substring(0,y);C&&this.checkIfFileExist(C,w=>{let s=g.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${C}`);s.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",b),this.createRecursiveDirectory(C,g),s.onsuccess=null,s.onerror=null},s.onerror=l=>{console.error("IndexedDB createRecursiveDirectory failed: ",l),s.onsuccess=null,s.onerror=null}})}createDirectory(b){return new Promise((g,y)=>{this.checkIfFileExist(b,C=>{let w=this.ionicDB.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:16893},`/userfs/${b}`);w.onsuccess=s=>{"success"!=s.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",b),w.onsuccess=null,w.onerror=null,g(void 0)},w.onerror=s=>{console.error("IndexedDB createRecursiveDirectory failed: ",s),w.onsuccess=null,w.onerror=null,y(s)}})})}saveTextFileToUserPath(b,g,y=(w=>{}),C=this.ionicDB){return this.createRecursiveDirectory(g,C),new Promise((w,s)=>{let l=C.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:(new TextEncoder).encode(b)},`/userfs/${g}`);l.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",g),y(a),l.onsuccess=null,l.onerror=null,w(a)},l.onerror=a=>{l.onsuccess=null,l.onerror=null,s(a)}})}saveBase64ToUserPath(b,g,y=(w=>{}),C=this.ionicDB){return new Promise((w,s)=>{let l=atob(b.split(",")[1]),a=new ArrayBuffer(l.length),d=new Int8Array(a);for(let u=0,p=l.length;u<p;u++)d[u]=l.charCodeAt(u);this.createRecursiveDirectory(g,C);let f=C.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:d},`/userfs/${g}`);f.onsuccess=u=>{"success"!=u.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",g),f.onsuccess=null,f.onerror=null,y(d),w(d)},f.onerror=u=>{f.onsuccess=null,f.onerror=null,s(u)}})}saveInt8ArrayToUserPath(b,g,y=this.ionicDB){return new Promise((C,w)=>{this.createRecursiveDirectory(g,y);let s=y.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:b},`/userfs/${g}`);s.onsuccess=l=>{"success"!=l.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",g),s.onsuccess=null,s.onerror=null,C()},s.onerror=l=>{s.onsuccess=null,s.onerror=null,w(l)}})}saveBlobToUserPath(b,g,y=(w=>{}),C=this.ionicDB){var w=this;return new Promise(function(){var s=(0,j.A)(function*(l,a){let d;try{let u=yield b.arrayBuffer();d=new Int8Array(u)}catch(u){a(u)}w.createRecursiveDirectory(g,C);let f=C.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put({timestamp:new Date,mode:33206,contents:d},`/userfs/${g}`);f.onsuccess=u=>{"success"!=u.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",g),f.onsuccess=null,f.onerror=null,y(d),l(d)},f.onerror=u=>{f.onsuccess=null,f.onerror=null,a(u)}});return function(l,a){return s.apply(this,arguments)}}())}saveFileToUserPath(b,g,y=(w=>{}),C=this.ionicDB){return this.createRecursiveDirectory(g,C),new Promise((w,s)=>{let l=C.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").put(b,`/userfs/${g}`);l.onsuccess=a=>{"success"!=a.type&&console.error("\uc800\uc7a5 \uc2e4\ud328: ",g),l.onsuccess=null,l.onerror=null,y(a),w(a)},l.onerror=a=>{l.onsuccess=null,l.onerror=null,s(a)}})}checkIfFileExist(b,g=(C=>{}),y=this.ionicDB){return new Promise((C,w)=>{let s=y.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").count(`/userfs/${b}`);s.onsuccess=l=>{let a=l.target.result;s.onsuccess=null,s.onerror=null,g(a),C(a)},s.onerror=l=>{s.onsuccess=null,s.onerror=null,w(l)}})}GetFileListFromDB(b,g=(C=>{}),y=this.ionicDB){let C=y.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").getAllKeys();return new Promise((w,s)=>{C.onsuccess=l=>{const a=l.target.result;for(let d=a.length-1;d>=0;d--)a[d].includes(b)?a[d]=a[d].substring(8):a.splice(d,1);C.onsuccess=null,C.onerror=null,g(a),w(a)},C.onerror=l=>{C.onsuccess=null,C.onerror=null,s(l)}})}GetFileInfoFromDB(b,g=(C=>{}),y=this.ionicDB){let C=y.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${b}`);return new Promise((w,s)=>{C.onsuccess=l=>{const a=l.target.result;C.onsuccess=null,C.onerror=null,g(a),w(a)},C.onerror=l=>{C.onsuccess=null,C.onerror=null,s(l)}})}loadTextFromUserPath(b,g=((C,w)=>{}),y=this.ionicDB){return new Promise(C=>{let w=y.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${b}`);w.onsuccess=s=>{if(s.target.result){let l=(new TextDecoder).decode(s.target.result.contents);w.onsuccess=null,w.onerror=null,g(!0,l),C(l)}else w.onsuccess=null,w.onerror=null,g(!1,`No file: , ${b}`),C(void 0)},w.onerror=s=>{console.error("IndexedDB loadTextFromUserPath failed: ",s),w.onsuccess=null,w.onerror=null,C(void 0)}})}loadBlobFromUserPath(b,g,y=(w=>{}),C=this.ionicDB){let w=C.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${b}`);return new Promise((s,l)=>{w.onsuccess=a=>{try{let d=new Blob([a.target.result.contents],{type:g});w.onsuccess=null,w.onerror=null,y(d),s(d)}catch(d){w.onsuccess=null,w.onerror=null,l(d)}},w.onerror=a=>{w.onsuccess=null,w.onerror=null,l(a)}})}DownloadFileFromUserPath(b,g,y,C=this.ionicDB){let w=C.transaction("FILE_DATA","readonly").objectStore("FILE_DATA").get(`/userfs/${b}`);w.onsuccess=s=>{try{let l=new Blob([s.target.result.contents],{type:g}),a=URL.createObjectURL(l),d=document.createElement("a");d.download=y,d.href=a,document.body.appendChild(d),d.click(),document.body.removeChild(d),d.remove(),URL.revokeObjectURL(a)}catch(l){console.error("DownloadFileFromUserPath: ",l),this.p5toast.show({text:`${this.lang.text.IndexedDB.FailedToDownloadFile}: ${l}`})}w.onsuccess=null,w.onerror=null},w.onerror=s=>{console.error("IndexedDB DownloadFileFromUserPath failed: ",s),w.onsuccess=null,w.onerror=null}}removeFileFromUserPath(b,g=(C=>{}),y=this.ionicDB){let C=y.transaction("FILE_DATA","readwrite").objectStore("FILE_DATA").delete(`/userfs/${b}`);return new Promise((w,s)=>{C.onsuccess=l=>{C.onsuccess=null,C.onerror=null,g(l),w(l)},C.onerror=l=>{C.onsuccess=null,C.onerror=null,s(l)}})}}return(se=V).\u0275fac=function(b){return new(b||se)(O.KVO(ge.G),O.KVO(gt.y))},se.\u0275prov=O.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),V})()},4234:(En,Kt,me)=>{"use strict";me.d(Kt,{y:()=>o});var j=me(467),O=me(8326),gt=me(3953);let o=(()=>{var se;class V{constructor(){this.text={Front:{},Portal:{},Main:{},Arcade:{},Subscribes:{},ChatRoom:{},Profile:{},GroupServer:{},Settings:{},Community:{},MinimalChat:{},voidDraw:{},PostViewer:{},TodoDetail:{}},this.isFirstTime=!0,this.lang=navigator.language.split("-")[0];let b=localStorage.getItem("lang");b&&(this.lang=b),setTimeout(()=>{this.load_selected_lang()},0)}load_selected_lang(){var b=this;return(0,j.A)(function*(){return yield new Promise((g,y)=>{new O(C=>{C.setup=()=>{C.noCanvas(),C.loadTable("assets/data/translate.csv","csv","header",w=>{let s;w.columns.includes(b.lang)||(b.lang="en"),localStorage.setItem("lang",b.lang);for(let l=0,a=w.rows.length;l<a;l++)"#"==w.rows[l].obj["#"].charAt(0)?(s=w.rows[l].obj["#"].substring(3),b.text[s]||(b.text[s]={})):b.text[s][w.rows[l].obj["#"]]=w.rows[l].obj[b.lang];b.isFirstTime&&b.Callback_nakama(),g(void 0),C.remove()},w=>{console.error("\ub0b4\ubd80 \ubb38\uc11c \uc77d\uae30 \uc2e4\ud328: ",w),y(w),C.remove()})}})})})()}}return(se=V).\u0275fac=function(b){return new(b||se)},se.\u0275prov=gt.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),V})()},5547:(En,Kt,me)=>{"use strict";me.d(Kt,{r:()=>V});var j=me(467),O=me(9349),ge=me(963),gt=me(3953),o=me(755),se=me(4234);let V=(()=>{var v;class b{constructor(y,C){this.indexed=y,this.lang=C,this.settings={silent:{icon_mono:!0,diychat:!0,simplechat:!0,todo:!0,engineppt:!0},vibrate:!1},this.WebNoties={}}change_silent_settings(y){this.settings.silent[y]=!this.settings.silent[y],this.indexed.saveTextFileToUserPath(JSON.stringify(this.settings),"notification_settings.json")}load_settings(){this.indexed.loadTextFromUserPath("notification_settings.json",(y,C)=>{y&&C&&(this.settings=JSON.parse(C)),"boolean"==typeof this.settings.silent&&(this.settings.silent={icon_mono:this.settings.silent,diychat:this.settings.silent,simplechat:this.settings.silent,todo:this.settings.silent,engineppt:this.settings.silent})})}initialize(){var y=this;return(0,j.A)(function*(){y.ClearNoti(11),"serviceWorker"in navigator?(y.MobileSWReg=window.swReg,navigator.serviceWorker.addEventListener("message",C=>{if(C.data.reply){if("12"===C.data.data){let w={msg:C.data.reply};if(!w.msg.trim())return;w.name=y.Sq_client.MyUserName,y.Sq_client.send(JSON.stringify(w))}}else window.swRegListenerCallback[C.data.data]&&window.swRegListenerCallback[C.data.data](),delete window.swRegListenerCallback[C.data.data]})):console.log("Service Worker is not supported in this browser.")})()}RegisterNofiticationActionType(){"DesktopPWA"==O.aH||"MobilePWA"==O.aH||ge.W.registerActionTypes({types:[{id:"group_dedi",actions:[{id:"reply",title:this.lang.text.MinimalChat.Noti_Reply,input:!0}]},{id:"chatroom_reply",actions:[{id:"reply",title:this.lang.text.MinimalChat.Noti_Reply,input:!0}]}]})}PushLocal(y,C="favicon",w=(()=>{})){var s=this;return(0,j.A)(function*(){if("DesktopPWA"==O.aH||"MobilePWA"==O.aH){if(document.hasFocus()&&s.Current==C||!s.settings.silent[y.icon||y.smallIcon_ln||C||"icon_mono"]||y.triggerWhen_ln)return;const a={badge:`assets/badge/${y.icon||y.smallIcon_ln||C||"favicon"}.png`,body:y.body,icon:`assets/icon/${y.icon||y.smallIcon_ln||C||"favicon"}.png`,image:y.image,silent:!s.settings.silent[y.icon||y.smallIcon_ln]||!1,tag:`${y.id}`,actions:y.actions_wm,data:y.data_wm,requireInteraction:!!y.actions_wm};try{if(s.WebNoties[y.id]){try{s.WebNoties[y.id].close()}catch{}delete s.WebNoties[y.id]}yield s.MobileSWReg.showNotification(y.title,{...a});let d=yield s.MobileSWReg.getNotifications();for(let f=0,u=d.length;f<u;f++)if(d[f].tag==`${y.id}`){s.WebNoties[y.id]=d[f];break}window.swRegListenerCallback[y.id]=()=>{w(),window.focus(),s.WebNoties[y.id].close()}}catch{}}else{var l;if(s.Current==C||!s.settings.silent[y.icon||y.smallIcon_ln||C||"icon_mono"])return;let a={id:y.id,title:y.title,body:y.body,schedule:y.triggerWhen_ln,iconColor:`#${y.iconColor_ln||"ffd94e"}`,extra:y.extra_ln,autoCancel:y.autoCancel_ln,largeIcon:y.icon,smallIcon:y.smallIcon_ln||C||"icon_mono",group:y.group_ln,groupSummary:y.groupSummary_ln,summaryText:y.groupSummaryText_ln,ongoing:y.ongoing_ln,actionTypeId:null===(l=y.actions_ln)||void 0===l?void 0:l.shift()};y.image&&(a.attachments=[{id:"0",url:y.image}]);let d=Object.keys(a);for(let f=0,u=d.length;f<u;f++)void 0===a[d[f]]&&delete a[d[f]];ge.W.schedule({notifications:[a]})}})()}GetNotificationIds(y=(C=>{})){"DesktopPWA"==O.aH||"MobilePWA"==O.aH||ge.W.getPending().then(C=>{y(C.notifications)})}ClearNoti(y){"DesktopPWA"==O.aH||"MobilePWA"==O.aH?this.WebNoties[y]&&this.WebNoties[y].close():ge.W.cancel({notifications:[{id:y}]})}}return(v=b).\u0275fac=function(y){return new(y||v)(gt.KVO(o.n),gt.KVO(se.y))},v.\u0275prov=gt.jDH({token:v,factory:v.\u0275fac,providedIn:"root"}),b})()},9347:(En,Kt,me)=>{"use strict";me.d(Kt,{z:()=>l});var j=me(467),O=me(617),ge=me(8326),o=me(9349),se=me(963),V=me(3953),v=me(3656),b=me(5374),g=me(4237),y=me(9900),C=me(4234),w=me(5547),s=me(482);let l=(()=>{var a;class d{constructor(u,p,c,m,_,M,x,I){this.navCtrl=u,this.nakama=p,this.p5toast=c,this.lang=m,this.noti=_,this.alertCtrl=M,this.global=x,this.ngZone=I,this.status="idle",this.userInput={logs:[],text:"",last_message:{}},this.ConnectedNow=0,this.funcs={onopen:A=>console.warn("OnOpen \uc124\uc815 \uc548\ub428: ",A),onclose:A=>console.warn("OnClose \uc124\uc815 \uc548\ub428: ",A),onmessage:A=>console.warn("OnMessage \uc124\uc815 \uc548\ub428: ",A)},this.FFS_Urls=[],this.DownloadPartManager={},this.cacheAddress="",this.IsConnected=!1}initialize(u){if(this.cacheAddress=u,"https:"==location.protocol&&0==u.indexOf("ws://"))return this.p5toast.show({text:this.lang.text.MinimalChat.cannot_join}),void this.disconnect();this.client=new WebSocket(`${u}:12013`),this.client.onopen=c=>{this.funcs.onopen(c),this.IsConnected=!0},this.client.onclose=c=>{this.funcs.onclose(c),this.IsConnected=!1,this.status="idle"},this.client.onerror=c=>{if(console.error("MiniranchatClientService \uc624\ub958 \ubc1c\uc0dd: ",c),0==u.indexOf("wss://")&&("DesktopPWA"==o.aH||"MobilePWA"==o.aH)){let m=u.split("://");window.open(`https://${m.pop()}:9001`,"_blank")}this.disconnect()},this.client.onmessage=c=>{"string"==typeof c.data?this.funcs.onmessage(c.data):c.data.text().then(m=>{this.funcs.onmessage(m)})}}RemoveListeners(){this.FFSClient&&(this.FFSClient.onopen=null),this.client&&(this.client.onopen=null,this.client.onclose=null,this.client.onerror=null,this.client.onmessage=null)}RegisterNotificationReact(){var u=this;this.noti.Sq_client=this,"DesktopPWA"!=o.aH&&"MobilePWA"!=o.aH&&se.W.addListener("localNotificationActionPerformed",p=>{try{let c=p.notification.extra.type;switch(p.actionId){case"tap":switch(c){case"AllUserNotification":let _=`<img *ngIf="${p.notification.extra.image}" src="${p.notification.extra.image}" alt="noti_image" style="border-radius: 8px">`,M=`<div>${this.global.HTMLEncode(p.notification.extra.body)}</div>`;this.alertCtrl.create({header:p.notification.extra.title,message:new O.Vk(p.notification.extra.image?_+M:M),backdropDismiss:!1,buttons:[{text:this.lang.text.Nakama.LocalNotiOK,handler:()=>{this.nakama.servers[p.notification.extra.isOfficial][p.notification.extra.target].client.deleteNotifications(this.nakama.servers[p.notification.extra.isOfficial][p.notification.extra.target].session,[p.notification.extra.noti_id])}}]}).then(k=>k.present());break;case"MinimalChatPage":this.RejoinGroupChat();break;case"ChatRoomPage":this.nakama.go_to_chatroom_without_admob_act(this.nakama.channels_orig[p.notification.extra.isOfficial][p.notification.extra.target][p.notification.extra.id]);break;case"AddTodoMenuPage":this.nakama.open_add_todo_page(p.notification.extra.data);break;case"NakamaReqContTitle":let P=this.nakama.servers[p.notification.extra.isOfficial][p.notification.extra.Target],z="";z+=`${this.lang.text.Nakama.ReqContServer}: ${p.notification.extra.serverName}<br>`,z+=`${this.lang.text.Nakama.ReqContUserName}: ${p.notification.extra.userName}`,this.alertCtrl.create({header:this.lang.text.Nakama.ReqContTitle,message:z,buttons:[{text:this.lang.text.Nakama.ReqContAccept,handler:()=>{P.client.addGroupUsers(P.session,p.notification.extra.group_id,[p.notification.extra.user_id]).then(k=>{k||console.warn("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),P.client.deleteNotifications(P.session,[p.notification.extra.noti_id]).then(te=>{te?this.nakama.update_notifications(p.notification.extra.isOfficial,p.notification.extra.Target):console.warn("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",te)})})}},{text:this.lang.text.Nakama.ReqContReject,handler:()=>{P.client.kickGroupUsers(P.session,p.notification.extra.group_id,[p.notification.extra.user_id]).then(function(){var k=(0,j.A)(function*(te){te||console.warn("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),yield P.client.deleteNotifications(P.session,[p.notification.extra.noti_id]),u.nakama.update_notifications(p.notification.extra.isOfficial,p.notification.extra.Target)});return function(te){return k.apply(this,arguments)}}())},cssClass:"redfont"}]}).then(k=>k.present())}break;case"reply":let m=p.inputValue;if("MinimalChatPage"===(this.noti.ClearNoti(p.notification.id),c)){let _={msg:m.trim()};_.name=this.MyUserName,this.send(JSON.stringify(_))}}}catch(c){console.warn("\uc54c\ub9bc \uc2e4\ud328\uc5d0 \ub300\ud574\uc11c: ",c)}})}send(u){this.client&&this.client.readyState==this.client.OPEN?this.client.send(u):this.disconnect()}CreateRejoinButton(){this.p5canvas&&this.p5canvas.remove(),this.p5canvas=new ge(u=>{u.noCanvas(),u.setup=()=>{let p=u.createDiv('<ion-icon style="width: 36px; height: 36px" name="chatbox-ellipses-outline"></ion-icon>');p.style("position: absolute; right: 0; bottom: 56px; z-index: 1"),p.style("width: 64px; height: 64px"),p.style("text-align: center; align-content: center"),p.style("cursor: pointer"),p.style("margin: 16px"),p.style("padding-top: 6px"),p.style("background-color: #8888"),p.style("border-radius: 24px"),u.OnDediMessage=c=>{p.style(`background-color: #${c}88`)},p.elt.onclick=()=>{this.RejoinGroupChat()}}})}RejoinGroupChat(){this.userInput.text="",this.ngZone.run(()=>{this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("minimal-chat",{animation:O.V5,state:{address:this.cacheAddress,name:this.MyUserName}})})})}disconnect(u=1e3,p="user_close"){this.FFSClient&&this.FFSClient.close(u,p),this.client&&this.client.close(u,p),this.IsConnected=!1,this.cacheAddress="",this.uuid=void 0,this.p5canvas&&this.p5canvas.remove(),this.RemoveListeners(),this.FFSClient=void 0,this.client=void 0,this.JoinedChannel=void 0,this.status="idle"}}return(a=d).\u0275fac=function(u){return new(u||a)(V.KVO(v.q9),V.KVO(g.X),V.KVO(y.G),V.KVO(C.y),V.KVO(w.r),V.KVO(b.hG),V.KVO(s.z3),V.KVO(V.SKi))},a.\u0275prov=V.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),d})()},4237:(En,Kt,me)=>{"use strict";me.d(Kt,{I:()=>An,X:()=>Vn});var C,w,j=me(467),O=Object.defineProperty,ge=Object.getOwnPropertySymbols,gt=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,se=(q,ve,je)=>ve in q?O(q,ve,{enumerable:!0,configurable:!0,writable:!0,value:je}):q[ve]=je,V=(q,ve)=>{for(var je in ve||(ve={}))gt.call(ve,je)&&se(q,je,ve[je]);if(ge)for(var je of ge(ve))o.call(ve,je)&&se(q,je,ve[je]);return q},v=(q,ve,je)=>new Promise((T,D)=>{var L=W=>{try{oe(je.next(W))}catch(ue){D(ue)}},U=W=>{try{oe(je.throw(W))}catch(ue){D(ue)}},oe=W=>W.done?T(W.value):Promise.resolve(W.value).then(L,U);oe((je=je.apply(q,ve)).next())}),b=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof b<"u"&&b,g_searchParams="URLSearchParams"in b,g_iterable="Symbol"in b&&"iterator"in Symbol,g_blob="FileReader"in b&&"Blob"in b&&function(){try{return new Blob,!0}catch{return!1}}(),g_formData="FormData"in b,g_arrayBuffer="ArrayBuffer"in b;function s(q){if("string"!=typeof q&&(q=String(q)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(q)||""===q)throw new TypeError('Invalid character in header field name: "'+q+'"');return q.toLowerCase()}function l(q){return"string"!=typeof q&&(q=String(q)),q}function a(q){var ve={next:function(){var je=q.shift();return{done:void 0===je,value:je}}};return g_iterable&&(ve[Symbol.iterator]=function(){return ve}),ve}function d(q){this.map={},q instanceof d?q.forEach(function(ve,je){this.append(je,ve)},this):Array.isArray(q)?q.forEach(function(ve){this.append(ve[0],ve[1])},this):q&&Object.getOwnPropertyNames(q).forEach(function(ve){this.append(ve,q[ve])},this)}function f(q){if(q.bodyUsed)return Promise.reject(new TypeError("Already read"));q.bodyUsed=!0}function u(q){return new Promise(function(ve,je){q.onload=function(){ve(q.result)},q.onerror=function(){je(q.error)}})}function p(q){var ve=new FileReader,je=u(ve);return ve.readAsArrayBuffer(q),je}function _(q){if(q.slice)return q.slice(0);var ve=new Uint8Array(q.byteLength);return ve.set(new Uint8Array(q)),ve.buffer}function M(){return this.bodyUsed=!1,this._initBody=function(q){this.bodyUsed=this.bodyUsed,this._bodyInit=q,q?"string"==typeof q?this._bodyText=q:g_blob&&Blob.prototype.isPrototypeOf(q)?this._bodyBlob=q:g_formData&&FormData.prototype.isPrototypeOf(q)?this._bodyFormData=q:g_searchParams&&URLSearchParams.prototype.isPrototypeOf(q)?this._bodyText=q.toString():g_arrayBuffer&&g_blob&&function y(q){return q&&DataView.prototype.isPrototypeOf(q)}(q)?(this._bodyArrayBuffer=_(q.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):g_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(q)||w(q))?this._bodyArrayBuffer=_(q):this._bodyText=q=Object.prototype.toString.call(q):this._bodyText="",this.headers.get("content-type")||("string"==typeof q?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g_searchParams&&URLSearchParams.prototype.isPrototypeOf(q)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g_blob&&(this.blob=function(){var q=f(this);if(q)return q;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(p)}),this.text=function(){var q=f(this);if(q)return q;if(this._bodyBlob)return function c(q){var ve=new FileReader,je=u(ve);return ve.readAsText(q),je}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function m(q){for(var ve=new Uint8Array(q),je=new Array(ve.length),T=0;T<ve.length;T++)je[T]=String.fromCharCode(ve[T]);return je.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g_formData&&(this.formData=function(){return this.text().then(H)}),this.json=function(){return this.text().then(JSON.parse)},this}g_arrayBuffer&&(C=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=ArrayBuffer.isView||function(q){return q&&C.indexOf(Object.prototype.toString.call(q))>-1}),d.prototype.append=function(q,ve){q=s(q),ve=l(ve);var je=this.map[q];this.map[q]=je?je+", "+ve:ve},d.prototype.delete=function(q){delete this.map[s(q)]},d.prototype.get=function(q){return q=s(q),this.has(q)?this.map[q]:null},d.prototype.has=function(q){return this.map.hasOwnProperty(s(q))},d.prototype.set=function(q,ve){this.map[s(q)]=l(ve)},d.prototype.forEach=function(q,ve){for(var je in this.map)this.map.hasOwnProperty(je)&&q.call(ve,this.map[je],je,this)},d.prototype.keys=function(){var q=[];return this.forEach(function(ve,je){q.push(je)}),a(q)},d.prototype.values=function(){var q=[];return this.forEach(function(ve){q.push(ve)}),a(q)},d.prototype.entries=function(){var q=[];return this.forEach(function(ve,je){q.push([je,ve])}),a(q)},g_iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function A(q,ve){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var je=(ve=ve||{}).body;if(q instanceof A){if(q.bodyUsed)throw new TypeError("Already read");this.url=q.url,this.credentials=q.credentials,ve.headers||(this.headers=new d(q.headers)),this.method=q.method,this.mode=q.mode,this.signal=q.signal,!je&&null!=q._bodyInit&&(je=q._bodyInit,q.bodyUsed=!0)}else this.url=String(q);if(this.credentials=ve.credentials||this.credentials||"same-origin",(ve.headers||!this.headers)&&(this.headers=new d(ve.headers)),this.method=function I(q){var ve=q.toUpperCase();return x.indexOf(ve)>-1?ve:q}(ve.method||this.method||"GET"),this.mode=ve.mode||this.mode||null,this.signal=ve.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&je)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(je),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==ve.cache&&"no-cache"!==ve.cache)){var T=/([?&])_=[^&]*/;T.test(this.url)?this.url=this.url.replace(T,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function H(q){var ve=new FormData;return q.trim().split("&").forEach(function(je){if(je){var T=je.split("="),D=T.shift().replace(/\+/g," "),L=T.join("=").replace(/\+/g," ");ve.append(decodeURIComponent(D),decodeURIComponent(L))}}),ve}function P(q){var ve=new d;return q.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(T){return 0===T.indexOf("\n")?T.substr(1,T.length):T}).forEach(function(T){var D=T.split(":"),L=D.shift().trim();if(L){var U=D.join(":").trim();ve.append(L,U)}}),ve}function z(q,ve){if(!(this instanceof z))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');ve||(ve={}),this.type="default",this.status=void 0===ve.status?200:ve.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===ve.statusText?"":""+ve.statusText,this.headers=new d(ve.headers),this.url=ve.url||"",this._initBody(q)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})},M.call(A.prototype),M.call(z.prototype),z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},z.error=function(){var q=new z(null,{status:0,statusText:""});return q.type="error",q};var k=[301,302,303,307,308];z.redirect=function(q,ve){if(-1===k.indexOf(ve))throw new RangeError("Invalid status code");return new z(null,{status:ve,headers:{location:q}})};var te=b.DOMException;try{new te}catch{(te=function(ve,je){this.message=ve,this.name=je;var T=Error(ve);this.stack=T.stack}).prototype=Object.create(Error.prototype),te.prototype.constructor=te}function ne(q,ve){return new Promise(function(je,T){var D=new A(q,ve);if(D.signal&&D.signal.aborted)return T(new te("Aborted","AbortError"));var L=new XMLHttpRequest;function U(){L.abort()}L.onload=function(){var W={status:L.status,statusText:L.statusText,headers:P(L.getAllResponseHeaders()||"")};W.url="responseURL"in L?L.responseURL:W.headers.get("X-Request-URL");var ue="response"in L?L.response:L.responseText;setTimeout(function(){je(new z(ue,W))},0)},L.onerror=function(){setTimeout(function(){T(new TypeError("Network request failed"))},0)},L.ontimeout=function(){setTimeout(function(){T(new TypeError("Network request failed"))},0)},L.onabort=function(){setTimeout(function(){T(new te("Aborted","AbortError"))},0)},L.open(D.method,function oe(W){try{return""===W&&b.location.href?b.location.href:W}catch{return W}}(D.url),!0),"include"===D.credentials?L.withCredentials=!0:"omit"===D.credentials&&(L.withCredentials=!1),"responseType"in L&&(g_blob?L.responseType="blob":g_arrayBuffer&&D.headers.get("Content-Type")&&-1!==D.headers.get("Content-Type").indexOf("application/octet-stream")&&(L.responseType="arraybuffer")),!ve||"object"!=typeof ve.headers||ve.headers instanceof d?D.headers.forEach(function(W,ue){L.setRequestHeader(ue,W)}):Object.getOwnPropertyNames(ve.headers).forEach(function(W){L.setRequestHeader(W,l(ve.headers[W]))}),D.signal&&(D.signal.addEventListener("abort",U),L.onreadystatechange=function(){4===L.readyState&&D.signal.removeEventListener("abort",U)}),L.send(typeof D._bodyInit>"u"?null:D._bodyInit)})}ne.polyfill=!0,b.fetch||(b.fetch=ne,b.Headers=d,b.Request=A,b.Response=z);var G="function"==typeof atob,X="function"==typeof btoa,B="function"==typeof Buffer,N="function"==typeof TextDecoder?new TextDecoder:void 0,K="function"==typeof TextEncoder?new TextEncoder:void 0,Ae=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Y=(q=>{let ve={};return q.forEach((je,T)=>ve[je]=T),ve})(Ae),R=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Q=String.fromCharCode.bind(String),pe="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):q=>new Uint8Array(Array.prototype.slice.call(q,0)),Ve=q=>q.replace(/[^A-Za-z0-9\+\/]/g,""),pt=X?q=>btoa(q):B?q=>Buffer.from(q,"binary").toString("base64"):q=>{let ve,je,T,D,L="";const U=q.length%3;for(let oe=0;oe<q.length;){if((je=q.charCodeAt(oe++))>255||(T=q.charCodeAt(oe++))>255||(D=q.charCodeAt(oe++))>255)throw new TypeError("invalid character found");ve=je<<16|T<<8|D,L+=Ae[ve>>18&63]+Ae[ve>>12&63]+Ae[ve>>6&63]+Ae[63&ve]}return U?L.slice(0,U-3)+"===".substring(U):L},We=B?q=>Buffer.from(q).toString("base64"):q=>{let je=[];for(let T=0,D=q.length;T<D;T+=4096)je.push(Q.apply(null,q.subarray(T,T+4096)));return pt(je.join(""))},ct=q=>{if(q.length<2)return(ve=q.charCodeAt(0))<128?q:ve<2048?Q(192|ve>>>6)+Q(128|63&ve):Q(224|ve>>>12&15)+Q(128|ve>>>6&63)+Q(128|63&ve);var ve=65536+1024*(q.charCodeAt(0)-55296)+(q.charCodeAt(1)-56320);return Q(240|ve>>>18&7)+Q(128|ve>>>12&63)+Q(128|ve>>>6&63)+Q(128|63&ve)},dt=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Ze=B?q=>Buffer.from(q,"utf8").toString("base64"):K?q=>We(K.encode(q)):q=>pt((q=>q.replace(dt,ct))(q)),Je=(q,ve=!1)=>ve?(q=>q.replace(/=/g,"").replace(/[+\/]/g,ve=>"+"==ve?"-":"_"))(Ze(q)):Ze(q),at=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Qe=q=>{switch(q.length){case 4:var je=((7&q.charCodeAt(0))<<18|(63&q.charCodeAt(1))<<12|(63&q.charCodeAt(2))<<6|63&q.charCodeAt(3))-65536;return Q(55296+(je>>>10))+Q(56320+(1023&je));case 3:return Q((15&q.charCodeAt(0))<<12|(63&q.charCodeAt(1))<<6|63&q.charCodeAt(2));default:return Q((31&q.charCodeAt(0))<<6|63&q.charCodeAt(1))}},on=G?q=>atob(Ve(q)):B?q=>Buffer.from(q,"base64").toString("binary"):q=>{if(q=q.replace(/\s+/g,""),!R.test(q))throw new TypeError("malformed base64.");q+="==".slice(2-(3&q.length));let ve,T,D,je="";for(let L=0;L<q.length;)ve=Y[q.charAt(L++)]<<18|Y[q.charAt(L++)]<<12|(T=Y[q.charAt(L++)])<<6|(D=Y[q.charAt(L++)]),je+=64===T?Q(ve>>16&255):64===D?Q(ve>>16&255,ve>>8&255):Q(ve>>16&255,ve>>8&255,255&ve);return je},Ut=B?q=>pe(Buffer.from(q,"base64")):q=>pe(on(q).split("").map(ve=>ve.charCodeAt(0))),ln=B?q=>Buffer.from(q,"base64").toString("utf8"):N?q=>N.decode(Ut(q)):q=>(q=>q.replace(at,Qe))(on(q)),yn=q=>ln((q=>Ve(q.replace(/[-_]/g,ve=>"-"==ve?"+":"/")))(q));function Yt(q,ve,je){const T=V(V({},{method:q}),ve);if(T.headers=V({},ve.headers),typeof XMLHttpRequest<"u"){const D=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"withCredentials");null!=D&&D.set||(T.credentials="cocos-ignore")}return Object.keys(T.headers).includes("Accept")||(T.headers.Accept="application/json"),Object.keys(T.headers).includes("Content-Type")||(T.headers["Content-Type"]="application/json"),Object.keys(T.headers).forEach(D=>{T.headers[D]||delete T.headers[D]}),je&&(T.body=je),T}var hn=class{constructor(q,ve,je){this.serverKey=q,this.basePath=ve,this.timeoutMs=je}healthcheck(q,ve={}){const L=this.buildFullUrl(this.basePath,"/healthcheck",new Map),U=Yt("GET",ve,"");return q&&(U.headers.Authorization="Bearer "+q),Promise.race([fetch(L,U).then(oe=>{if(204==oe.status)return oe;if(oe.status>=200&&oe.status<300)return oe.json();throw oe}),new Promise((oe,W)=>setTimeout(W,this.timeoutMs,"Request timed out."))])}deleteAccount(q,ve={}){const L=this.buildFullUrl(this.basePath,"/v2/account",new Map),U=Yt("DELETE",ve,"");return q&&(U.headers.Authorization="Bearer "+q),Promise.race([fetch(L,U).then(oe=>{if(204==oe.status)return oe;if(oe.status>=200&&oe.status<300)return oe.json();throw oe}),new Promise((oe,W)=>setTimeout(W,this.timeoutMs,"Request timed out."))])}getAccount(q,ve={}){const L=this.buildFullUrl(this.basePath,"/v2/account",new Map),U=Yt("GET",ve,"");return q&&(U.headers.Authorization="Bearer "+q),Promise.race([fetch(L,U).then(oe=>{if(204==oe.status)return oe;if(oe.status>=200&&oe.status<300)return oe.json();throw oe}),new Promise((oe,W)=>setTimeout(W,this.timeoutMs,"Request timed out."))])}updateAccount(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/account",D),oe=Yt("PUT",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}authenticateApple(q,ve,je,T,D,L={}){if(null==je)throw new Error("'account' is a required parameter but is null or undefined.");const oe=new Map;oe.set("create",T),oe.set("username",D);let W="";W=JSON.stringify(je||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/apple",oe),Pe=Yt("POST",L,W);return q&&(Pe.headers.Authorization="Basic "+Je(q+":"+ve)),Promise.race([fetch(ue,Pe).then(Le=>{if(204==Le.status)return Le;if(Le.status>=200&&Le.status<300)return Le.json();throw Le}),new Promise((Le,nt)=>setTimeout(nt,this.timeoutMs,"Request timed out."))])}authenticateCustom(q,ve,je,T,D,L={}){if(null==je)throw new Error("'account' is a required parameter but is null or undefined.");const oe=new Map;oe.set("create",T),oe.set("username",D);let W="";W=JSON.stringify(je||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/custom",oe),Pe=Yt("POST",L,W);return q&&(Pe.headers.Authorization="Basic "+Je(q+":"+ve)),Promise.race([fetch(ue,Pe).then(Le=>{if(204==Le.status)return Le;if(Le.status>=200&&Le.status<300)return Le.json();throw Le}),new Promise((Le,nt)=>setTimeout(nt,this.timeoutMs,"Request timed out."))])}authenticateDevice(q,ve,je,T,D,L={}){if(null==je)throw new Error("'account' is a required parameter but is null or undefined.");const oe=new Map;oe.set("create",T),oe.set("username",D);let W="";W=JSON.stringify(je||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/device",oe),Pe=Yt("POST",L,W);return q&&(Pe.headers.Authorization="Basic "+Je(q+":"+ve)),Promise.race([fetch(ue,Pe).then(Le=>{if(204==Le.status)return Le;if(Le.status>=200&&Le.status<300)return Le.json();throw Le}),new Promise((Le,nt)=>setTimeout(nt,this.timeoutMs,"Request timed out."))])}authenticateEmail(q,ve,je,T,D,L={}){if(null==je)throw new Error("'account' is a required parameter but is null or undefined.");const oe=new Map;oe.set("create",T),oe.set("username",D);let W="";W=JSON.stringify(je||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/email",oe),Pe=Yt("POST",L,W);return q&&(Pe.headers.Authorization="Basic "+Je(q+":"+ve)),Promise.race([fetch(ue,Pe).then(Le=>{if(204==Le.status)return Le;if(Le.status>=200&&Le.status<300)return Le.json();throw Le}),new Promise((Le,nt)=>setTimeout(nt,this.timeoutMs,"Request timed out."))])}authenticateFacebook(q,ve,je,T,D,L,U={}){if(null==je)throw new Error("'account' is a required parameter but is null or undefined.");const W=new Map;W.set("create",T),W.set("username",D),W.set("sync",L);let ue="";ue=JSON.stringify(je||{});const Pe=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebook",W),Le=Yt("POST",U,ue);return q&&(Le.headers.Authorization="Basic "+Je(q+":"+ve)),Promise.race([fetch(Pe,Le).then(nt=>{if(204==nt.status)return nt;if(nt.status>=200&&nt.status<300)return nt.json();throw nt}),new Promise((nt,xe)=>setTimeout(xe,this.timeoutMs,"Request timed out."))])}authenticateFacebookInstantGame(q,ve,je,T,D,L={}){if(null==je)throw new Error("'account' is a required parameter but is null or undefined.");const oe=new Map;oe.set("create",T),oe.set("username",D);let W="";W=JSON.stringify(je||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebookinstantgame",oe),Pe=Yt("POST",L,W);return q&&(Pe.headers.Authorization="Basic "+Je(q+":"+ve)),Promise.race([fetch(ue,Pe).then(Le=>{if(204==Le.status)return Le;if(Le.status>=200&&Le.status<300)return Le.json();throw Le}),new Promise((Le,nt)=>setTimeout(nt,this.timeoutMs,"Request timed out."))])}authenticateGameCenter(q,ve,je,T,D,L={}){if(null==je)throw new Error("'account' is a required parameter but is null or undefined.");const oe=new Map;oe.set("create",T),oe.set("username",D);let W="";W=JSON.stringify(je||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/gamecenter",oe),Pe=Yt("POST",L,W);return q&&(Pe.headers.Authorization="Basic "+Je(q+":"+ve)),Promise.race([fetch(ue,Pe).then(Le=>{if(204==Le.status)return Le;if(Le.status>=200&&Le.status<300)return Le.json();throw Le}),new Promise((Le,nt)=>setTimeout(nt,this.timeoutMs,"Request timed out."))])}authenticateGoogle(q,ve,je,T,D,L={}){if(null==je)throw new Error("'account' is a required parameter but is null or undefined.");const oe=new Map;oe.set("create",T),oe.set("username",D);let W="";W=JSON.stringify(je||{});const ue=this.buildFullUrl(this.basePath,"/v2/account/authenticate/google",oe),Pe=Yt("POST",L,W);return q&&(Pe.headers.Authorization="Basic "+Je(q+":"+ve)),Promise.race([fetch(ue,Pe).then(Le=>{if(204==Le.status)return Le;if(Le.status>=200&&Le.status<300)return Le.json();throw Le}),new Promise((Le,nt)=>setTimeout(nt,this.timeoutMs,"Request timed out."))])}authenticateSteam(q,ve,je,T,D,L,U={}){if(null==je)throw new Error("'account' is a required parameter but is null or undefined.");const W=new Map;W.set("create",T),W.set("username",D),W.set("sync",L);let ue="";ue=JSON.stringify(je||{});const Pe=this.buildFullUrl(this.basePath,"/v2/account/authenticate/steam",W),Le=Yt("POST",U,ue);return q&&(Le.headers.Authorization="Basic "+Je(q+":"+ve)),Promise.race([fetch(Pe,Le).then(nt=>{if(204==nt.status)return nt;if(nt.status>=200&&nt.status<300)return nt.json();throw nt}),new Promise((nt,xe)=>setTimeout(xe,this.timeoutMs,"Request timed out."))])}linkApple(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/account/link/apple",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkCustom(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/account/link/custom",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkDevice(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/account/link/device",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkEmail(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/account/link/email",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkFacebook(q,ve,je,T={}){if(null==ve)throw new Error("'account' is a required parameter but is null or undefined.");const L=new Map;L.set("sync",je);let U="";U=JSON.stringify(ve||{});const oe=this.buildFullUrl(this.basePath,"/v2/account/link/facebook",L),W=Yt("POST",T,U);return q&&(W.headers.Authorization="Bearer "+q),Promise.race([fetch(oe,W).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}linkFacebookInstantGame(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/account/link/facebookinstantgame",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkGameCenter(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/account/link/gamecenter",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkGoogle(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/account/link/google",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}linkSteam(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/account/link/steam",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}sessionRefresh(q,ve,je,T={}){if(null==je)throw new Error("'body' is a required parameter but is null or undefined.");const L=new Map;let U="";U=JSON.stringify(je||{});const oe=this.buildFullUrl(this.basePath,"/v2/account/session/refresh",L),W=Yt("POST",T,U);return q&&(W.headers.Authorization="Basic "+Je(q+":"+ve)),Promise.race([fetch(oe,W).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}unlinkApple(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/account/unlink/apple",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkCustom(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/account/unlink/custom",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkDevice(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/account/unlink/device",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkEmail(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/account/unlink/email",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkFacebook(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebook",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkFacebookInstantGame(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebookinstantgame",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkGameCenter(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/account/unlink/gamecenter",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkGoogle(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/account/unlink/google",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}unlinkSteam(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/account/unlink/steam",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}listChannelMessages(q,ve,je,T,D,L={}){if(null==ve)throw new Error("'channelId' is a required parameter but is null or undefined.");const U="/v2/channel/{channelId}".replace("{channelId}",encodeURIComponent(String(ve))),oe=new Map;oe.set("limit",je),oe.set("forward",T),oe.set("cursor",D);const ue=this.buildFullUrl(this.basePath,U,oe),Pe=Yt("GET",L,"");return q&&(Pe.headers.Authorization="Bearer "+q),Promise.race([fetch(ue,Pe).then(Le=>{if(204==Le.status)return Le;if(Le.status>=200&&Le.status<300)return Le.json();throw Le}),new Promise((Le,nt)=>setTimeout(nt,this.timeoutMs,"Request timed out."))])}event(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/event",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}deleteFriends(q,ve,je,T={}){const L=new Map;L.set("ids",ve),L.set("usernames",je);const oe=this.buildFullUrl(this.basePath,"/v2/friend",L),W=Yt("DELETE",T,"");return q&&(W.headers.Authorization="Bearer "+q),Promise.race([fetch(oe,W).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}listFriends(q,ve,je,T,D={}){const U=new Map;U.set("limit",ve),U.set("state",je),U.set("cursor",T);const W=this.buildFullUrl(this.basePath,"/v2/friend",U),ue=Yt("GET",D,"");return q&&(ue.headers.Authorization="Bearer "+q),Promise.race([fetch(W,ue).then(Pe=>{if(204==Pe.status)return Pe;if(Pe.status>=200&&Pe.status<300)return Pe.json();throw Pe}),new Promise((Pe,Le)=>setTimeout(Le,this.timeoutMs,"Request timed out."))])}addFriends(q,ve,je,T={}){const L=new Map;L.set("ids",ve),L.set("usernames",je);const oe=this.buildFullUrl(this.basePath,"/v2/friend",L),W=Yt("POST",T,"");return q&&(W.headers.Authorization="Bearer "+q),Promise.race([fetch(oe,W).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}blockFriends(q,ve,je,T={}){const L=new Map;L.set("ids",ve),L.set("usernames",je);const oe=this.buildFullUrl(this.basePath,"/v2/friend/block",L),W=Yt("POST",T,"");return q&&(W.headers.Authorization="Bearer "+q),Promise.race([fetch(oe,W).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}importFacebookFriends(q,ve,je,T={}){if(null==ve)throw new Error("'account' is a required parameter but is null or undefined.");const L=new Map;L.set("reset",je);let U="";U=JSON.stringify(ve||{});const oe=this.buildFullUrl(this.basePath,"/v2/friend/facebook",L),W=Yt("POST",T,U);return q&&(W.headers.Authorization="Bearer "+q),Promise.race([fetch(oe,W).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}listFriendsOfFriends(q,ve,je,T={}){const L=new Map;L.set("limit",ve),L.set("cursor",je);const oe=this.buildFullUrl(this.basePath,"/v2/friend/friends",L),W=Yt("GET",T,"");return q&&(W.headers.Authorization="Bearer "+q),Promise.race([fetch(oe,W).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}importSteamFriends(q,ve,je,T={}){if(null==ve)throw new Error("'account' is a required parameter but is null or undefined.");const L=new Map;L.set("reset",je);let U="";U=JSON.stringify(ve||{});const oe=this.buildFullUrl(this.basePath,"/v2/friend/steam",L),W=Yt("POST",T,U);return q&&(W.headers.Authorization="Bearer "+q),Promise.race([fetch(oe,W).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}listGroups(q,ve,je,T,D,L,U,oe={}){const ue=new Map;ue.set("name",ve),ue.set("cursor",je),ue.set("limit",T),ue.set("lang_tag",D),ue.set("members",L),ue.set("open",U);const Le=this.buildFullUrl(this.basePath,"/v2/group",ue),nt=Yt("GET",oe,"");return q&&(nt.headers.Authorization="Bearer "+q),Promise.race([fetch(Le,nt).then(xe=>{if(204==xe.status)return xe;if(xe.status>=200&&xe.status<300)return xe.json();throw xe}),new Promise((xe,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}createGroup(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/group",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}deleteGroup(q,ve,je={}){if(null==ve)throw new Error("'groupId' is a required parameter but is null or undefined.");const T="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(ve))),U=this.buildFullUrl(this.basePath,T,new Map),oe=Yt("DELETE",je,"");return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}updateGroup(q,ve,je,T={}){if(null==ve)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==je)throw new Error("'body' is a required parameter but is null or undefined.");const D="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(ve))),L=new Map;let U="";U=JSON.stringify(je||{});const oe=this.buildFullUrl(this.basePath,D,L),W=Yt("PUT",T,U);return q&&(W.headers.Authorization="Bearer "+q),Promise.race([fetch(oe,W).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}addGroupUsers(q,ve,je,T={}){if(null==ve)throw new Error("'groupId' is a required parameter but is null or undefined.");const D="/v2/group/{groupId}/add".replace("{groupId}",encodeURIComponent(String(ve))),L=new Map;L.set("user_ids",je);const oe=this.buildFullUrl(this.basePath,D,L),W=Yt("POST",T,"");return q&&(W.headers.Authorization="Bearer "+q),Promise.race([fetch(oe,W).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}banGroupUsers(q,ve,je,T={}){if(null==ve)throw new Error("'groupId' is a required parameter but is null or undefined.");const D="/v2/group/{groupId}/ban".replace("{groupId}",encodeURIComponent(String(ve))),L=new Map;L.set("user_ids",je);const oe=this.buildFullUrl(this.basePath,D,L),W=Yt("POST",T,"");return q&&(W.headers.Authorization="Bearer "+q),Promise.race([fetch(oe,W).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}demoteGroupUsers(q,ve,je,T={}){if(null==ve)throw new Error("'groupId' is a required parameter but is null or undefined.");const D="/v2/group/{groupId}/demote".replace("{groupId}",encodeURIComponent(String(ve))),L=new Map;L.set("user_ids",je);const oe=this.buildFullUrl(this.basePath,D,L),W=Yt("POST",T,"");return q&&(W.headers.Authorization="Bearer "+q),Promise.race([fetch(oe,W).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}joinGroup(q,ve,je={}){if(null==ve)throw new Error("'groupId' is a required parameter but is null or undefined.");const T="/v2/group/{groupId}/join".replace("{groupId}",encodeURIComponent(String(ve))),U=this.buildFullUrl(this.basePath,T,new Map),oe=Yt("POST",je,"");return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}kickGroupUsers(q,ve,je,T={}){if(null==ve)throw new Error("'groupId' is a required parameter but is null or undefined.");const D="/v2/group/{groupId}/kick".replace("{groupId}",encodeURIComponent(String(ve))),L=new Map;L.set("user_ids",je);const oe=this.buildFullUrl(this.basePath,D,L),W=Yt("POST",T,"");return q&&(W.headers.Authorization="Bearer "+q),Promise.race([fetch(oe,W).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}leaveGroup(q,ve,je={}){if(null==ve)throw new Error("'groupId' is a required parameter but is null or undefined.");const T="/v2/group/{groupId}/leave".replace("{groupId}",encodeURIComponent(String(ve))),U=this.buildFullUrl(this.basePath,T,new Map),oe=Yt("POST",je,"");return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}promoteGroupUsers(q,ve,je,T={}){if(null==ve)throw new Error("'groupId' is a required parameter but is null or undefined.");const D="/v2/group/{groupId}/promote".replace("{groupId}",encodeURIComponent(String(ve))),L=new Map;L.set("user_ids",je);const oe=this.buildFullUrl(this.basePath,D,L),W=Yt("POST",T,"");return q&&(W.headers.Authorization="Bearer "+q),Promise.race([fetch(oe,W).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}listGroupUsers(q,ve,je,T,D,L={}){if(null==ve)throw new Error("'groupId' is a required parameter but is null or undefined.");const U="/v2/group/{groupId}/user".replace("{groupId}",encodeURIComponent(String(ve))),oe=new Map;oe.set("limit",je),oe.set("state",T),oe.set("cursor",D);const ue=this.buildFullUrl(this.basePath,U,oe),Pe=Yt("GET",L,"");return q&&(Pe.headers.Authorization="Bearer "+q),Promise.race([fetch(ue,Pe).then(Le=>{if(204==Le.status)return Le;if(Le.status>=200&&Le.status<300)return Le.json();throw Le}),new Promise((Le,nt)=>setTimeout(nt,this.timeoutMs,"Request timed out."))])}validatePurchaseApple(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/iap/purchase/apple",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}validatePurchaseFacebookInstant(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/iap/purchase/facebookinstant",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}validatePurchaseGoogle(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/iap/purchase/google",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}validatePurchaseHuawei(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/iap/purchase/huawei",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}listSubscriptions(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/iap/subscription",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}validateSubscriptionApple(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/iap/subscription/apple",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}validateSubscriptionGoogle(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/iap/subscription/google",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}getSubscription(q,ve,je={}){if(null==ve)throw new Error("'productId' is a required parameter but is null or undefined.");const T="/v2/iap/subscription/{productId}".replace("{productId}",encodeURIComponent(String(ve))),U=this.buildFullUrl(this.basePath,T,new Map),oe=Yt("GET",je,"");return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}deleteLeaderboardRecord(q,ve,je={}){if(null==ve)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const T="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(ve))),U=this.buildFullUrl(this.basePath,T,new Map),oe=Yt("DELETE",je,"");return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}listLeaderboardRecords(q,ve,je,T,D,L,U={}){if(null==ve)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const oe="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(ve))),W=new Map;W.set("owner_ids",je),W.set("limit",T),W.set("cursor",D),W.set("expiry",L);const Pe=this.buildFullUrl(this.basePath,oe,W),Le=Yt("GET",U,"");return q&&(Le.headers.Authorization="Bearer "+q),Promise.race([fetch(Pe,Le).then(nt=>{if(204==nt.status)return nt;if(nt.status>=200&&nt.status<300)return nt.json();throw nt}),new Promise((nt,xe)=>setTimeout(xe,this.timeoutMs,"Request timed out."))])}writeLeaderboardRecord(q,ve,je,T={}){if(null==ve)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==je)throw new Error("'record' is a required parameter but is null or undefined.");const D="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(ve))),L=new Map;let U="";U=JSON.stringify(je||{});const oe=this.buildFullUrl(this.basePath,D,L),W=Yt("POST",T,U);return q&&(W.headers.Authorization="Bearer "+q),Promise.race([fetch(oe,W).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}listLeaderboardRecordsAroundOwner(q,ve,je,T,D,L,U={}){if(null==ve)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==je)throw new Error("'ownerId' is a required parameter but is null or undefined.");const oe="/v2/leaderboard/{leaderboardId}/owner/{ownerId}".replace("{leaderboardId}",encodeURIComponent(String(ve))).replace("{ownerId}",encodeURIComponent(String(je))),W=new Map;W.set("limit",T),W.set("expiry",D),W.set("cursor",L);const Pe=this.buildFullUrl(this.basePath,oe,W),Le=Yt("GET",U,"");return q&&(Le.headers.Authorization="Bearer "+q),Promise.race([fetch(Pe,Le).then(nt=>{if(204==nt.status)return nt;if(nt.status>=200&&nt.status<300)return nt.json();throw nt}),new Promise((nt,xe)=>setTimeout(xe,this.timeoutMs,"Request timed out."))])}listMatches(q,ve,je,T,D,L,U,oe={}){const ue=new Map;ue.set("limit",ve),ue.set("authoritative",je),ue.set("label",T),ue.set("min_size",D),ue.set("max_size",L),ue.set("query",U);const Le=this.buildFullUrl(this.basePath,"/v2/match",ue),nt=Yt("GET",oe,"");return q&&(nt.headers.Authorization="Bearer "+q),Promise.race([fetch(Le,nt).then(xe=>{if(204==xe.status)return xe;if(xe.status>=200&&xe.status<300)return xe.json();throw xe}),new Promise((xe,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}deleteNotifications(q,ve,je={}){const D=new Map;D.set("ids",ve);const U=this.buildFullUrl(this.basePath,"/v2/notification",D),oe=Yt("DELETE",je,"");return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}listNotifications(q,ve,je,T={}){const L=new Map;L.set("limit",ve),L.set("cacheable_cursor",je);const oe=this.buildFullUrl(this.basePath,"/v2/notification",L),W=Yt("GET",T,"");return q&&(W.headers.Authorization="Bearer "+q),Promise.race([fetch(oe,W).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}rpcFunc2(q,ve,je,T,D={}){if(null==ve)throw new Error("'id' is a required parameter but is null or undefined.");const L="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(ve))),U=new Map;U.set("payload",je),U.set("http_key",T);const W=this.buildFullUrl(this.basePath,L,U),ue=Yt("GET",D,"");return q&&(ue.headers.Authorization="Bearer "+q),Promise.race([fetch(W,ue).then(Pe=>{if(204==Pe.status)return Pe;if(Pe.status>=200&&Pe.status<300)return Pe.json();throw Pe}),new Promise((Pe,Le)=>setTimeout(Le,this.timeoutMs,"Request timed out."))])}rpcFunc(q,ve,je,T,D={}){if(null==ve)throw new Error("'id' is a required parameter but is null or undefined.");if(null==je)throw new Error("'body' is a required parameter but is null or undefined.");const L="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(ve))),U=new Map;U.set("http_key",T);let oe="";oe=JSON.stringify(je||{});const W=this.buildFullUrl(this.basePath,L,U),ue=Yt("POST",D,oe);return q&&(ue.headers.Authorization="Bearer "+q),Promise.race([fetch(W,ue).then(Pe=>{if(204==Pe.status)return Pe;if(Pe.status>=200&&Pe.status<300)return Pe.json();throw Pe}),new Promise((Pe,Le)=>setTimeout(Le,this.timeoutMs,"Request timed out."))])}sessionLogout(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/session/logout",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}readStorageObjects(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/storage",D),oe=Yt("POST",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}writeStorageObjects(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/storage",D),oe=Yt("PUT",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}deleteStorageObjects(q,ve,je={}){if(null==ve)throw new Error("'body' is a required parameter but is null or undefined.");const D=new Map;let L="";L=JSON.stringify(ve||{});const U=this.buildFullUrl(this.basePath,"/v2/storage/delete",D),oe=Yt("PUT",je,L);return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}listStorageObjects(q,ve,je,T,D,L={}){if(null==ve)throw new Error("'collection' is a required parameter but is null or undefined.");const U="/v2/storage/{collection}".replace("{collection}",encodeURIComponent(String(ve))),oe=new Map;oe.set("user_id",je),oe.set("limit",T),oe.set("cursor",D);const ue=this.buildFullUrl(this.basePath,U,oe),Pe=Yt("GET",L,"");return q&&(Pe.headers.Authorization="Bearer "+q),Promise.race([fetch(ue,Pe).then(Le=>{if(204==Le.status)return Le;if(Le.status>=200&&Le.status<300)return Le.json();throw Le}),new Promise((Le,nt)=>setTimeout(nt,this.timeoutMs,"Request timed out."))])}listStorageObjects2(q,ve,je,T,D,L={}){if(null==ve)throw new Error("'collection' is a required parameter but is null or undefined.");if(null==je)throw new Error("'userId' is a required parameter but is null or undefined.");const U="/v2/storage/{collection}/{userId}".replace("{collection}",encodeURIComponent(String(ve))).replace("{userId}",encodeURIComponent(String(je))),oe=new Map;oe.set("limit",T),oe.set("cursor",D);const ue=this.buildFullUrl(this.basePath,U,oe),Pe=Yt("GET",L,"");return q&&(Pe.headers.Authorization="Bearer "+q),Promise.race([fetch(ue,Pe).then(Le=>{if(204==Le.status)return Le;if(Le.status>=200&&Le.status<300)return Le.json();throw Le}),new Promise((Le,nt)=>setTimeout(nt,this.timeoutMs,"Request timed out."))])}listTournaments(q,ve,je,T,D,L,U,oe={}){const ue=new Map;ue.set("category_start",ve),ue.set("category_end",je),ue.set("start_time",T),ue.set("end_time",D),ue.set("limit",L),ue.set("cursor",U);const Le=this.buildFullUrl(this.basePath,"/v2/tournament",ue),nt=Yt("GET",oe,"");return q&&(nt.headers.Authorization="Bearer "+q),Promise.race([fetch(Le,nt).then(xe=>{if(204==xe.status)return xe;if(xe.status>=200&&xe.status<300)return xe.json();throw xe}),new Promise((xe,Ue)=>setTimeout(Ue,this.timeoutMs,"Request timed out."))])}deleteTournamentRecord(q,ve,je={}){if(null==ve)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const T="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(ve))),U=this.buildFullUrl(this.basePath,T,new Map),oe=Yt("DELETE",je,"");return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}listTournamentRecords(q,ve,je,T,D,L,U={}){if(null==ve)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const oe="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(ve))),W=new Map;W.set("owner_ids",je),W.set("limit",T),W.set("cursor",D),W.set("expiry",L);const Pe=this.buildFullUrl(this.basePath,oe,W),Le=Yt("GET",U,"");return q&&(Le.headers.Authorization="Bearer "+q),Promise.race([fetch(Pe,Le).then(nt=>{if(204==nt.status)return nt;if(nt.status>=200&&nt.status<300)return nt.json();throw nt}),new Promise((nt,xe)=>setTimeout(xe,this.timeoutMs,"Request timed out."))])}writeTournamentRecord2(q,ve,je,T={}){if(null==ve)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==je)throw new Error("'record' is a required parameter but is null or undefined.");const D="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(ve))),L=new Map;let U="";U=JSON.stringify(je||{});const oe=this.buildFullUrl(this.basePath,D,L),W=Yt("POST",T,U);return q&&(W.headers.Authorization="Bearer "+q),Promise.race([fetch(oe,W).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}writeTournamentRecord(q,ve,je,T={}){if(null==ve)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==je)throw new Error("'record' is a required parameter but is null or undefined.");const D="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(ve))),L=new Map;let U="";U=JSON.stringify(je||{});const oe=this.buildFullUrl(this.basePath,D,L),W=Yt("PUT",T,U);return q&&(W.headers.Authorization="Bearer "+q),Promise.race([fetch(oe,W).then(ue=>{if(204==ue.status)return ue;if(ue.status>=200&&ue.status<300)return ue.json();throw ue}),new Promise((ue,Pe)=>setTimeout(Pe,this.timeoutMs,"Request timed out."))])}joinTournament(q,ve,je={}){if(null==ve)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const T="/v2/tournament/{tournamentId}/join".replace("{tournamentId}",encodeURIComponent(String(ve))),U=this.buildFullUrl(this.basePath,T,new Map),oe=Yt("POST",je,"");return q&&(oe.headers.Authorization="Bearer "+q),Promise.race([fetch(U,oe).then(W=>{if(204==W.status)return W;if(W.status>=200&&W.status<300)return W.json();throw W}),new Promise((W,ue)=>setTimeout(ue,this.timeoutMs,"Request timed out."))])}listTournamentRecordsAroundOwner(q,ve,je,T,D,L,U={}){if(null==ve)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==je)throw new Error("'ownerId' is a required parameter but is null or undefined.");const oe="/v2/tournament/{tournamentId}/owner/{ownerId}".replace("{tournamentId}",encodeURIComponent(String(ve))).replace("{ownerId}",encodeURIComponent(String(je))),W=new Map;W.set("limit",T),W.set("expiry",D),W.set("cursor",L);const Pe=this.buildFullUrl(this.basePath,oe,W),Le=Yt("GET",U,"");return q&&(Le.headers.Authorization="Bearer "+q),Promise.race([fetch(Pe,Le).then(nt=>{if(204==nt.status)return nt;if(nt.status>=200&&nt.status<300)return nt.json();throw nt}),new Promise((nt,xe)=>setTimeout(xe,this.timeoutMs,"Request timed out."))])}getUsers(q,ve,je,T,D={}){const U=new Map;U.set("ids",ve),U.set("usernames",je),U.set("facebook_ids",T);const W=this.buildFullUrl(this.basePath,"/v2/user",U),ue=Yt("GET",D,"");return q&&(ue.headers.Authorization="Bearer "+q),Promise.race([fetch(W,ue).then(Pe=>{if(204==Pe.status)return Pe;if(Pe.status>=200&&Pe.status<300)return Pe.json();throw Pe}),new Promise((Pe,Le)=>setTimeout(Le,this.timeoutMs,"Request timed out."))])}listUserGroups(q,ve,je,T,D,L={}){if(null==ve)throw new Error("'userId' is a required parameter but is null or undefined.");const U="/v2/user/{userId}/group".replace("{userId}",encodeURIComponent(String(ve))),oe=new Map;oe.set("limit",je),oe.set("state",T),oe.set("cursor",D);const ue=this.buildFullUrl(this.basePath,U,oe),Pe=Yt("GET",L,"");return q&&(Pe.headers.Authorization="Bearer "+q),Promise.race([fetch(ue,Pe).then(Le=>{if(204==Le.status)return Le;if(Le.status>=200&&Le.status<300)return Le.json();throw Le}),new Promise((Le,nt)=>setTimeout(nt,this.timeoutMs,"Request timed out."))])}buildFullUrl(q,ve,je){let T=q+ve+"?";for(let[D,L]of je)L instanceof Array?T+=L.reduce((U,oe)=>U+encodeURIComponent(D)+"="+encodeURIComponent(oe)+"&",""):null!=L&&(T+=encodeURIComponent(D)+"="+encodeURIComponent(L)+"&");return T}},It=class{constructor(q,ve,je){this.created=je,this.token=q,this.refresh_token=ve,this.created_at=Math.floor((new Date).getTime()/1e3),this.update(q,ve)}isexpired(q){return this.expires_at-q<0}isrefreshexpired(q){return this.refresh_expires_at-q<0}update(q,ve){const je=q.split(".");if(3!=je.length)throw"jwt is not valid.";const T=JSON.parse(on(je[1])),D=Math.floor(parseInt(T.exp));if(ve){const L=ve.split(".");if(3!=L.length)throw"refresh jwt is not valid.";const U=JSON.parse(on(L[1])),oe=Math.floor(parseInt(U.exp));this.refresh_expires_at=oe,this.refresh_token=ve}this.token=q,this.expires_at=D,this.username=T.usn,this.user_id=T.uid,this.vars=T.vrs}static restore(q,ve){return new It(q,ve,!1)}},an="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(ze=0;ze<64;ze++)Vt[an.charCodeAt(ze)]=ze;var ze,Be=function(q){var je,ve=new Uint8Array(q),T=ve.length,D="";for(je=0;je<T;je+=3)D+=an[ve[je]>>2],D+=an[(3&ve[je])<<4|ve[je+1]>>4],D+=an[(15&ve[je+1])<<2|ve[je+2]>>6],D+=an[63&ve[je+2]];return T%3==2?D=D.substring(0,D.length-1)+"=":T%3==1&&(D=D.substring(0,D.length-2)+"=="),D},Oe=function(q){var T,L,U,oe,W,ve=.75*q.length,je=q.length,D=0;"="===q[q.length-1]&&(ve--,"="===q[q.length-2]&&ve--);var ue=new ArrayBuffer(ve),Pe=new Uint8Array(ue);for(T=0;T<je;T+=4)L=Vt[q.charCodeAt(T)],U=Vt[q.charCodeAt(T+1)],oe=Vt[q.charCodeAt(T+2)],W=Vt[q.charCodeAt(T+3)],Pe[D++]=L<<2|U>>4,Pe[D++]=(15&U)<<4|oe>>2,Pe[D++]=(3&oe)<<6|63&W;return ue},Ke=class{get onClose(){return this._socket.onclose}set onClose(q){this._socket.onclose=q}get onError(){return this._socket.onerror}set onError(q){this._socket.onerror=q}get onMessage(){return this._socket.onmessage}set onMessage(q){q?this._socket.onmessage=ve=>{const je=JSON.parse(ve.data);je.match_data&&je.match_data.data?je.match_data.data=new Uint8Array(Oe(je.match_data.data)):je.party_data&&je.party_data.data&&(je.party_data.data=new Uint8Array(Oe(je.party_data.data))),q(je)}:q=null}get onOpen(){return this._socket.onopen}set onOpen(q){this._socket.onopen=q}isOpen(){var q;return(null==(q=this._socket)?void 0:q.readyState)==WebSocket.OPEN}connect(q,ve,je,T,D){const L=`${q}${ve}:${je}/ws?lang=en&status=${encodeURIComponent(T.toString())}&token=${encodeURIComponent(D)}`;this._socket=new WebSocket(L)}close(){this._socket.close(),this._socket=void 0}send(q){if(q.match_data_send){q.match_data_send.op_code=q.match_data_send.op_code.toString();let ve=q.match_data_send.data;ve&&ve instanceof Uint8Array?q.match_data_send.data=Be(ve.buffer):ve&&(q.match_data_send.data=pt(ve))}else if(q.party_data_send){q.party_data_send.op_code=q.party_data_send.op_code.toString();let ve=q.party_data_send.data;ve&&ve instanceof Uint8Array?q.party_data_send.data=Be(ve.buffer):ve&&(q.party_data_send.data=pt(ve))}this._socket.send(JSON.stringify(q))}},Et=class{constructor(q,ve,je=!1,T=!1,D=new Ke,L=Et.DefaultSendTimeoutMs){this.host=q,this.port=ve,this.useSSL=je,this.verbose=T,this.adapter=D,this.sendTimeoutMs=L,this.cIds={},this.nextCid=1,this._heartbeatTimeoutMs=Et.DefaultHeartbeatTimeoutMs}generatecid(){const q=this.nextCid.toString();return++this.nextCid,q}connect(q,ve=!1,je=Et.DefaultConnectTimeoutMs){return this.adapter.isOpen()?Promise.resolve(q):(this.adapter.connect(this.useSSL?"wss://":"ws://",this.host,this.port,ve,q.token),this.adapter.onClose=D=>{this.ondisconnect(D)},this.adapter.onError=D=>{this.onerror(D)},this.adapter.onMessage=D=>{if(this.verbose&&window&&window.console&&console.log("Response: %o",JSON.stringify(D)),D.cid){const L=this.cIds[D.cid];if(!L)return void(this.verbose&&window&&window.console&&console.error("No promise executor for message: %o",D));delete this.cIds[D.cid],D.error?L.reject(D.error):L.resolve(D)}else D.notifications?D.notifications.notifications.forEach(L=>{L.content=L.content?JSON.parse(L.content):void 0,this.onnotification(L)}):D.match_data?(D.match_data.op_code=parseInt(D.match_data.op_code),this.onmatchdata(D.match_data)):D.match_presence_event?this.onmatchpresence(D.match_presence_event):D.matchmaker_ticket?this.onmatchmakerticket(D.matchmaker_ticket):D.matchmaker_matched?this.onmatchmakermatched(D.matchmaker_matched):D.status_presence_event?this.onstatuspresence(D.status_presence_event):D.stream_presence_event?this.onstreampresence(D.stream_presence_event):D.stream_data?this.onstreamdata(D.stream_data):D.channel_message?(D.channel_message.content=JSON.parse(D.channel_message.content),this.onchannelmessage(D.channel_message)):D.channel_presence_event?this.onchannelpresence(D.channel_presence_event):D.party_data?(D.party_data.op_code=parseInt(D.party_data.op_code),this.onpartydata(D.party_data)):D.party_close?this.onpartyclose(D.party_close):D.party_join_request?this.onpartyjoinrequest(D.party_join_request):D.party_leader?this.onpartyleader(D.party_leader):D.party_matchmaker_ticket?this.onpartymatchmakerticket(D.party_matchmaker_ticket):D.party_presence_event?this.onpartypresence(D.party_presence_event):D.party?this.onparty(D.party):this.verbose&&window&&window.console&&console.log("Unrecognized message received: %o",D)},new Promise((D,L)=>{this.adapter.onOpen=U=>{this.verbose&&window&&window.console&&console.log(U),this.pingPong(),D(q)},this.adapter.onError=U=>{L(U),this.adapter.close()},setTimeout(()=>{L("The socket timed out when trying to connect.")},je)}))}disconnect(q=!0){this.adapter.isOpen()&&this.adapter.close(),q&&this.ondisconnect({})}setHeartbeatTimeoutMs(q){this._heartbeatTimeoutMs=q}getHeartbeatTimeoutMs(){return this._heartbeatTimeoutMs}ondisconnect(q){this.verbose&&window&&window.console&&console.log(q)}onerror(q){this.verbose&&window&&window.console&&console.log(q)}onchannelmessage(q){this.verbose&&window&&window.console&&console.log(q)}onchannelpresence(q){this.verbose&&window&&window.console&&console.log(q)}onnotification(q){this.verbose&&window&&window.console&&console.log(q)}onmatchdata(q){this.verbose&&window&&window.console&&console.log(q)}onmatchpresence(q){this.verbose&&window&&window.console&&console.log(q)}onmatchmakerticket(q){this.verbose&&window&&window.console&&console.log(q)}onmatchmakermatched(q){this.verbose&&window&&window.console&&console.log(q)}onparty(q){this.verbose&&window&&window.console&&console.log(q)}onpartyclose(q){this.verbose&&window&&window.console&&console.log("Party closed: "+q)}onpartyjoinrequest(q){this.verbose&&window&&window.console&&console.log(q)}onpartydata(q){this.verbose&&window&&window.console&&console.log(q)}onpartyleader(q){this.verbose&&window&&window.console&&console.log(q)}onpartymatchmakerticket(q){this.verbose&&window&&window.console&&console.log(q)}onpartypresence(q){this.verbose&&window&&window.console&&console.log(q)}onstatuspresence(q){this.verbose&&window&&window.console&&console.log(q)}onstreampresence(q){this.verbose&&window&&window.console&&console.log(q)}onstreamdata(q){this.verbose&&window&&window.console&&console.log(q)}onheartbeattimeout(){this.verbose&&window&&window.console&&console.log("Heartbeat timeout.")}send(q,ve=Et.DefaultSendTimeoutMs){const je=q;return new Promise((T,D)=>{if(this.adapter.isOpen())if(je.match_data_send)this.adapter.send(je),T();else if(je.party_data_send)this.adapter.send(je),T();else{je.channel_message_send?je.channel_message_send.content=JSON.stringify(je.channel_message_send.content):je.channel_message_update&&(je.channel_message_update.content=JSON.stringify(je.channel_message_update.content));const L=this.generatecid();this.cIds[L]={resolve:T,reject:D},setTimeout(()=>{D("The socket timed out while waiting for a response.")},ve),je.cid=L,this.adapter.send(je)}else D("Socket connection has not been established yet.");if(this.verbose&&window&&window.console){const L=V({},je);L.match_data_send&&L.match_data_send.data?L.match_data_send.data=yn(L.match_data_send.data):L.party_data_send&&L.party_data_send.data&&(L.party_data_send.data=yn(L.party_data_send.data)),console.log("Sent message: %o",JSON.stringify(L))}})}acceptPartyMember(q,ve){return this.send({party_accept:{party_id:q,presence:ve}})}addMatchmaker(q,ve,je,T,D){return v(this,null,function*(){return(yield this.send({matchmaker_add:{min_count:ve,max_count:je,query:q,string_properties:T,numeric_properties:D}})).matchmaker_ticket})}addMatchmakerParty(q,ve,je,T,D,L){return v(this,null,function*(){return(yield this.send({party_matchmaker_add:{party_id:q,min_count:je,max_count:T,query:ve,string_properties:D,numeric_properties:L}})).party_matchmaker_ticket})}closeParty(q){return v(this,null,function*(){return yield this.send({party_close:{party_id:q}})})}createMatch(q){return v(this,null,function*(){return(yield this.send({match_create:{name:q}})).match})}createParty(q,ve){return v(this,null,function*(){return(yield this.send({party_create:{open:q,max_size:ve}})).party})}followUsers(q){return v(this,null,function*(){return(yield this.send({status_follow:{user_ids:q}})).status})}joinChat(q,ve,je,T){return v(this,null,function*(){return(yield this.send({channel_join:{target:q,type:ve,persistence:je,hidden:T}})).channel})}joinMatch(q,ve,je){return v(this,null,function*(){const T={match_join:{metadata:je}};return ve?T.match_join.token=ve:T.match_join.match_id=q,(yield this.send(T)).match})}joinParty(q){return v(this,null,function*(){return yield this.send({party_join:{party_id:q}})})}leaveChat(q){return this.send({channel_leave:{channel_id:q}})}leaveMatch(q){return this.send({match_leave:{match_id:q}})}leaveParty(q){return this.send({party_leave:{party_id:q}})}listPartyJoinRequests(q){return v(this,null,function*(){return(yield this.send({party_join_request_list:{party_id:q}})).party_join_request})}promotePartyMember(q,ve){return v(this,null,function*(){return(yield this.send({party_promote:{party_id:q,presence:ve}})).party_leader})}removeChatMessage(q,ve){return v(this,null,function*(){return(yield this.send({channel_message_remove:{channel_id:q,message_id:ve}})).channel_message_ack})}removeMatchmaker(q){return this.send({matchmaker_remove:{ticket:q}})}removeMatchmakerParty(q,ve){return this.send({party_matchmaker_remove:{party_id:q,ticket:ve}})}removePartyMember(q,ve){return v(this,null,function*(){return this.send({party_remove:{party_id:q,presence:ve}})})}rpc(q,ve,je){return v(this,null,function*(){return(yield this.send({rpc:{id:q,payload:ve,http_key:je}})).rpc})}sendMatchState(q,ve,je,T,D){return v(this,null,function*(){return this.send({match_data_send:{match_id:q,op_code:ve,data:je,presences:null!=T?T:[],reliable:D}})})}sendPartyData(q,ve,je){return this.send({party_data_send:{party_id:q,op_code:ve,data:je}})}unfollowUsers(q){return this.send({status_unfollow:{user_ids:q}})}updateChatMessage(q,ve,je){return v(this,null,function*(){return(yield this.send({channel_message_update:{channel_id:q,message_id:ve,content:je}})).channel_message_ack})}updateStatus(q){return this.send({status_update:{status:q}})}writeChatMessage(q,ve){return v(this,null,function*(){return(yield this.send({channel_message_send:{channel_id:q,content:ve}})).channel_message_ack})}pingPong(){return v(this,null,function*(){if(this.adapter.isOpen()){try{yield this.send({ping:{}},this._heartbeatTimeoutMs)}catch{return void(this.adapter.isOpen()&&(window&&window.console&&console.error("Server unreachable from heartbeat."),this.onheartbeattimeout(),this.adapter.close()))}setTimeout(()=>this.pingPong(),this._heartbeatTimeoutMs)}})}},Bt=Et;Bt.DefaultHeartbeatTimeoutMs=1e4,Bt.DefaultSendTimeoutMs=1e4,Bt.DefaultConnectTimeoutMs=3e4;var et=class{constructor(q="defaultkey",ve="127.0.0.1",je="7350",T=!1,D=7e3,L=!0){this.serverkey=q,this.host=ve,this.port=je,this.useSSL=T,this.timeout=D,this.autoRefreshSession=L,this.expiredTimespanMs=3e5,this.apiClient=new hn(q,`${T?"https://":"http://"}${ve}:${je}`,D)}addGroupUsers(q,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.addGroupUsers(q.token,ve,je).then(T=>void 0!==T)})}addFriends(q,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.addFriends(q.token,ve,je).then(T=>void 0!==T)})}authenticateApple(q,ve,je){return v(this,arguments,function*(T,D,L,U={},oe={}){return this.apiClient.authenticateApple(this.serverkey,"",{token:T,vars:U},D,L,oe).then(ue=>new It(ue.token||"",ue.refresh_token||"",ue.created||!1))})}authenticateCustom(q,ve,je,T={},D={}){return this.apiClient.authenticateCustom(this.serverkey,"",{id:q,vars:T},ve,je,D).then(U=>new It(U.token||"",U.refresh_token||"",U.created||!1))}authenticateDevice(q,ve,je,T){return this.apiClient.authenticateDevice(this.serverkey,"",{id:q,vars:T},ve,je).then(L=>new It(L.token||"",L.refresh_token||"",L.created||!1))}authenticateEmail(q,ve,je,T,D){return this.apiClient.authenticateEmail(this.serverkey,"",{email:q,password:ve,vars:D},je,T).then(U=>new It(U.token||"",U.refresh_token||"",U.created||!1))}authenticateFacebookInstantGame(q,ve,je,T,D={}){const L={signed_player_info:q,vars:T};return this.apiClient.authenticateFacebookInstantGame(this.serverkey,"",{signed_player_info:L.signed_player_info,vars:L.vars},ve,je,D).then(U=>new It(U.token||"",U.refresh_token||"",U.created||!1))}authenticateFacebook(q,ve,je,T,D,L={}){return this.apiClient.authenticateFacebook(this.serverkey,"",{token:q,vars:D},ve,je,T,L).then(oe=>new It(oe.token||"",oe.refresh_token||"",oe.created||!1))}authenticateGoogle(q,ve,je,T){return v(this,arguments,function*(D,L,U,oe,W={}){const ue={token:D,vars:oe},Pe=yield this.apiClient.authenticateGoogle(this.serverkey,"",ue,L,U,W);return new It(Pe.token||"",Pe.refresh_token||"",Pe.created||!1)})}authenticateGameCenter(q,ve,je,T,D,L,U,oe,W){return v(this,arguments,function*(ue,Pe,Le,nt,xe,Ue,lt,He,yt,kt={}){const sn={bundle_id:ue,player_id:Pe,public_key_url:Le,salt:nt,signature:xe,timestamp_seconds:Ue,vars:yt},mn=yield this.apiClient.authenticateGameCenter(this.serverkey,"",sn,He,lt,kt);return new It(mn.token||"",mn.refresh_token||"",mn.created||!1)})}authenticateSteam(q,ve,je,T,D){return v(this,null,function*(){return this.apiClient.authenticateSteam(this.serverkey,"",{token:q,vars:D,sync:T},ve,je).then(U=>new It(U.token||"",U.refresh_token||"",U.created||!1))})}banGroupUsers(q,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.banGroupUsers(q.token,ve,je).then(T=>void 0!==T)})}blockFriends(q,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.blockFriends(q.token,ve,je).then(T=>Promise.resolve(null!=T))})}createGroup(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.createGroup(q.token,ve).then(je=>Promise.resolve({avatar_url:je.avatar_url,create_time:je.create_time,creator_id:je.creator_id,description:je.description,edge_count:je.edge_count?Number(je.edge_count):0,id:je.id,lang_tag:je.lang_tag,max_count:je.max_count?Number(je.max_count):0,metadata:je.metadata?JSON.parse(je.metadata):void 0,name:je.name,open:je.open,update_time:je.update_time}))})}createSocket(q=!1,ve=!1,je=new Ke,T=Bt.DefaultSendTimeoutMs){return new Bt(this.host,this.port,q,ve,je,T)}deleteAccount(q){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.deleteAccount(q.token).then(ve=>void 0!==ve)})}deleteFriends(q,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.deleteFriends(q.token,ve,je).then(T=>void 0!==T)})}deleteGroup(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.deleteGroup(q.token,ve).then(je=>void 0!==je)})}deleteNotifications(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.deleteNotifications(q.token,ve).then(je=>Promise.resolve(null!=je))})}deleteStorageObjects(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.deleteStorageObjects(q.token,ve).then(je=>Promise.resolve(null!=je))})}deleteTournamentRecord(q,ve){return v(this,null,function*(){return this.apiClient.deleteTournamentRecord(q.token,ve)})}demoteGroupUsers(q,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.demoteGroupUsers(q.token,ve,je).then(T=>Promise.resolve(null!=T))})}emitEvent(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.event(q.token,ve).then(je=>Promise.resolve(null!=je))})}getAccount(q){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.getAccount(q.token)})}getSubscription(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.getSubscription(q.token,ve)})}importFacebookFriends(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.importFacebookFriends(q.token,ve).then(je=>void 0!==je)})}importSteamFriends(q,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.importSteamFriends(q.token,ve,je).then(T=>void 0!==T)})}getUsers(q,ve,je,T){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.getUsers(q.token,ve,je,T).then(D=>{var L={users:[]};return null==D.users||D.users.forEach(U=>{L.users.push({avatar_url:U.avatar_url,create_time:U.create_time,display_name:U.display_name,edge_count:U.edge_count?Number(U.edge_count):0,facebook_id:U.facebook_id,gamecenter_id:U.gamecenter_id,google_id:U.google_id,id:U.id,lang_tag:U.lang_tag,location:U.location,online:U.online,steam_id:U.steam_id,timezone:U.timezone,update_time:U.update_time,username:U.username,metadata:U.metadata?JSON.parse(U.metadata):void 0})}),Promise.resolve(L)})})}joinGroup(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.joinGroup(q.token,ve,{}).then(je=>void 0!==je)})}joinTournament(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.joinTournament(q.token,ve,{}).then(je=>void 0!==je)})}kickGroupUsers(q,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.kickGroupUsers(q.token,ve,je).then(T=>Promise.resolve(null!=T))})}leaveGroup(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.leaveGroup(q.token,ve,{}).then(je=>void 0!==je)})}listChannelMessages(q,ve,je,T,D){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.listChannelMessages(q.token,ve,je,T,D).then(L=>{var U={messages:[],next_cursor:L.next_cursor,prev_cursor:L.prev_cursor,cacheable_cursor:L.cacheable_cursor};return null==L.messages||L.messages.forEach(oe=>{U.messages.push({channel_id:oe.channel_id,code:oe.code?Number(oe.code):0,create_time:oe.create_time,message_id:oe.message_id,persistent:oe.persistent,sender_id:oe.sender_id,update_time:oe.update_time,username:oe.username,content:oe.content?JSON.parse(oe.content):void 0,group_id:oe.group_id,room_name:oe.room_name,user_id_one:oe.user_id_one,user_id_two:oe.user_id_two})}),Promise.resolve(U)})})}listGroupUsers(q,ve,je,T,D){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.listGroupUsers(q.token,ve,T,je,D).then(L=>{var U={group_users:[],cursor:L.cursor};return null==L.group_users||L.group_users.forEach(oe=>{U.group_users.push({user:{avatar_url:oe.user.avatar_url,create_time:oe.user.create_time,display_name:oe.user.display_name,edge_count:oe.user.edge_count?Number(oe.user.edge_count):0,facebook_id:oe.user.facebook_id,gamecenter_id:oe.user.gamecenter_id,google_id:oe.user.google_id,id:oe.user.id,lang_tag:oe.user.lang_tag,location:oe.user.location,online:oe.user.online,steam_id:oe.user.steam_id,timezone:oe.user.timezone,update_time:oe.user.update_time,username:oe.user.username,metadata:oe.user.metadata?JSON.parse(oe.user.metadata):void 0},state:oe.state?Number(oe.state):0})}),Promise.resolve(U)})})}listUserGroups(q,ve,je,T,D){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.listUserGroups(q.token,ve,je,T,D).then(L=>{var U={user_groups:[],cursor:L.cursor};return null==L.user_groups||L.user_groups.forEach(oe=>{U.user_groups.push({group:{avatar_url:oe.group.avatar_url,create_time:oe.group.create_time,creator_id:oe.group.creator_id,description:oe.group.description,edge_count:oe.group.edge_count?Number(oe.group.edge_count):0,id:oe.group.id,lang_tag:oe.group.lang_tag,max_count:oe.group.max_count,metadata:oe.group.metadata?JSON.parse(oe.group.metadata):void 0,name:oe.group.name,open:oe.group.open,update_time:oe.group.update_time},state:oe.state?Number(oe.state):0})}),Promise.resolve(U)})})}listGroups(q,ve,je,T){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.listGroups(q.token,ve,je,T).then(D=>{var L={groups:[]};return null==D.groups||(L.cursor=D.cursor,D.groups.forEach(U=>{L.groups.push({avatar_url:U.avatar_url,create_time:U.create_time,creator_id:U.creator_id,description:U.description,edge_count:U.edge_count?Number(U.edge_count):0,id:U.id,lang_tag:U.lang_tag,max_count:U.max_count,metadata:U.metadata?JSON.parse(U.metadata):void 0,name:U.name,open:U.open,update_time:U.update_time})})),Promise.resolve(L)})})}linkApple(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.linkApple(q.token,ve).then(je=>void 0!==je)})}linkCustom(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.linkCustom(q.token,ve).then(je=>void 0!==je)})}linkDevice(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.linkDevice(q.token,ve).then(je=>void 0!==je)})}linkEmail(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.linkEmail(q.token,ve).then(je=>void 0!==je)})}linkFacebook(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.linkFacebook(q.token,ve).then(je=>void 0!==je)})}linkFacebookInstantGame(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.linkFacebookInstantGame(q.token,ve).then(je=>void 0!==je)})}linkGoogle(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.linkGoogle(q.token,ve).then(je=>void 0!==je)})}linkGameCenter(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.linkGameCenter(q.token,ve).then(je=>void 0!==je)})}linkSteam(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.linkSteam(q.token,ve).then(je=>void 0!==je)})}listFriends(q,ve,je,T){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.listFriends(q.token,je,ve,T).then(D=>{var L={friends:[],cursor:D.cursor};return null==D.friends||D.friends.forEach(U=>{L.friends.push({user:{avatar_url:U.user.avatar_url,create_time:U.user.create_time,display_name:U.user.display_name,edge_count:U.user.edge_count?Number(U.user.edge_count):0,facebook_id:U.user.facebook_id,gamecenter_id:U.user.gamecenter_id,google_id:U.user.google_id,id:U.user.id,lang_tag:U.user.lang_tag,location:U.user.location,online:U.user.online,steam_id:U.user.steam_id,timezone:U.user.timezone,update_time:U.user.update_time,username:U.user.username,metadata:U.user.metadata?JSON.parse(U.user.metadata):void 0,facebook_instant_game_id:U.user.facebook_instant_game_id},state:U.state})}),Promise.resolve(L)})})}listFriendsOfFriends(q,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.listFriendsOfFriends(q.token,ve,je).then(T=>{var D={friends_of_friends:[],cursor:T.cursor};return null==T.friends_of_friends||T.friends_of_friends.forEach(L=>{D.friends_of_friends.push({referrer:L.referrer,user:{avatar_url:L.user.avatar_url,create_time:L.user.create_time,display_name:L.user.display_name,edge_count:L.user.edge_count?Number(L.user.edge_count):0,facebook_id:L.user.facebook_id,gamecenter_id:L.user.gamecenter_id,google_id:L.user.google_id,id:L.user.id,lang_tag:L.user.lang_tag,location:L.user.location,online:L.user.online,steam_id:L.user.steam_id,timezone:L.user.timezone,update_time:L.user.update_time,username:L.user.username,metadata:L.user.metadata?JSON.parse(L.user.metadata):void 0,facebook_instant_game_id:L.user.facebook_instant_game_id}})}),Promise.resolve(D)})})}listLeaderboardRecords(q,ve,je,T,D,L){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.listLeaderboardRecords(q.token,ve,je,T,D,L).then(U=>{var oe={next_cursor:U.next_cursor,prev_cursor:U.prev_cursor,rank_count:U.rank_count?Number(U.rank_count):0,owner_records:[],records:[]};return null!=U.owner_records&&U.owner_records.forEach(W=>{oe.owner_records.push({expiry_time:W.expiry_time,leaderboard_id:W.leaderboard_id,metadata:W.metadata?JSON.parse(W.metadata):void 0,num_score:W.num_score?Number(W.num_score):0,owner_id:W.owner_id,rank:W.rank?Number(W.rank):0,score:W.score?Number(W.score):0,subscore:W.subscore?Number(W.subscore):0,update_time:W.update_time,username:W.username,max_num_score:W.max_num_score?Number(W.max_num_score):0})}),null!=U.records&&U.records.forEach(W=>{oe.records.push({expiry_time:W.expiry_time,leaderboard_id:W.leaderboard_id,metadata:W.metadata?JSON.parse(W.metadata):void 0,num_score:W.num_score?Number(W.num_score):0,owner_id:W.owner_id,rank:W.rank?Number(W.rank):0,score:W.score?Number(W.score):0,subscore:W.subscore?Number(W.subscore):0,update_time:W.update_time,username:W.username,max_num_score:W.max_num_score?Number(W.max_num_score):0})}),Promise.resolve(oe)})})}listLeaderboardRecordsAroundOwner(q,ve,je,T,D,L){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.listLeaderboardRecordsAroundOwner(q.token,ve,je,T,D,L).then(U=>{var oe={next_cursor:U.next_cursor,prev_cursor:U.prev_cursor,rank_count:U.rank_count?Number(U.rank_count):0,owner_records:[],records:[]};return null!=U.owner_records&&U.owner_records.forEach(W=>{oe.owner_records.push({expiry_time:W.expiry_time,leaderboard_id:W.leaderboard_id,metadata:W.metadata?JSON.parse(W.metadata):void 0,num_score:W.num_score?Number(W.num_score):0,owner_id:W.owner_id,rank:W.rank?Number(W.rank):0,score:W.score?Number(W.score):0,subscore:W.subscore?Number(W.subscore):0,update_time:W.update_time,username:W.username,max_num_score:W.max_num_score?Number(W.max_num_score):0})}),null!=U.records&&U.records.forEach(W=>{oe.records.push({expiry_time:W.expiry_time,leaderboard_id:W.leaderboard_id,metadata:W.metadata?JSON.parse(W.metadata):void 0,num_score:W.num_score?Number(W.num_score):0,owner_id:W.owner_id,rank:W.rank?Number(W.rank):0,score:W.score?Number(W.score):0,subscore:W.subscore?Number(W.subscore):0,update_time:W.update_time,username:W.username,max_num_score:W.max_num_score?Number(W.max_num_score):0})}),Promise.resolve(oe)})})}listMatches(q,ve,je,T,D,L,U){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.listMatches(q.token,ve,je,T,D,L,U)})}listNotifications(q,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.listNotifications(q.token,ve,je).then(T=>{var D={cacheable_cursor:T.cacheable_cursor,notifications:[]};return null==T.notifications||T.notifications.forEach(L=>{D.notifications.push({code:L.code?Number(L.code):0,create_time:L.create_time,id:L.id,persistent:L.persistent,sender_id:L.sender_id,subject:L.subject,content:L.content?JSON.parse(L.content):void 0})}),Promise.resolve(D)})})}listStorageObjects(q,ve,je,T,D){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.listStorageObjects(q.token,ve,je,T,D).then(L=>{var U={objects:[],cursor:L.cursor};return null==L.objects||L.objects.forEach(oe=>{U.objects.push({collection:oe.collection,key:oe.key,permission_read:oe.permission_read?Number(oe.permission_read):0,permission_write:oe.permission_write?Number(oe.permission_write):0,value:oe.value?JSON.parse(oe.value):void 0,version:oe.version,user_id:oe.user_id,create_time:oe.create_time,update_time:oe.update_time})}),Promise.resolve(U)})})}listTournaments(q,ve,je,T,D,L,U){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.listTournaments(q.token,ve,je,T,D,L,U).then(oe=>{var W={cursor:oe.cursor,tournaments:[]};return null!=oe.tournaments&&oe.tournaments.forEach(ue=>{W.tournaments.push({id:ue.id,title:ue.title,description:ue.description,duration:ue.duration?Number(ue.duration):0,category:ue.category?Number(ue.category):0,sort_order:ue.sort_order?Number(ue.sort_order):0,size:ue.size?Number(ue.size):0,max_size:ue.max_size?Number(ue.max_size):0,max_num_score:ue.max_num_score?Number(ue.max_num_score):0,can_enter:ue.can_enter,end_active:ue.end_active?Number(ue.end_active):0,next_reset:ue.next_reset?Number(ue.next_reset):0,metadata:ue.metadata?JSON.parse(ue.metadata):void 0,create_time:ue.create_time,start_time:ue.start_time,end_time:ue.end_time,start_active:ue.start_active,authoritative:ue.authoritative})}),Promise.resolve(W)})})}listSubscriptions(q,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.listSubscriptions(q.token,{cursor:ve,limit:je})})}listTournamentRecords(q,ve,je,T,D,L){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.listTournamentRecords(q.token,ve,je,T,D,L).then(U=>{var oe={next_cursor:U.next_cursor,prev_cursor:U.prev_cursor,owner_records:[],records:[]};return null!=U.owner_records&&U.owner_records.forEach(W=>{oe.owner_records.push({expiry_time:W.expiry_time,leaderboard_id:W.leaderboard_id,metadata:W.metadata?JSON.parse(W.metadata):void 0,num_score:W.num_score?Number(W.num_score):0,owner_id:W.owner_id,rank:W.rank?Number(W.rank):0,score:W.score?Number(W.score):0,subscore:W.subscore?Number(W.subscore):0,update_time:W.update_time,username:W.username,max_num_score:W.max_num_score?Number(W.max_num_score):0})}),null!=U.records&&U.records.forEach(W=>{oe.records.push({expiry_time:W.expiry_time,leaderboard_id:W.leaderboard_id,metadata:W.metadata?JSON.parse(W.metadata):void 0,num_score:W.num_score?Number(W.num_score):0,owner_id:W.owner_id,rank:W.rank?Number(W.rank):0,score:W.score?Number(W.score):0,subscore:W.subscore?Number(W.subscore):0,update_time:W.update_time,username:W.username,max_num_score:W.max_num_score?Number(W.max_num_score):0})}),Promise.resolve(oe)})})}listTournamentRecordsAroundOwner(q,ve,je,T,D,L){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.listTournamentRecordsAroundOwner(q.token,ve,je,T,D,L).then(U=>{var oe={next_cursor:U.next_cursor,prev_cursor:U.prev_cursor,owner_records:[],records:[]};return null!=U.owner_records&&U.owner_records.forEach(W=>{oe.owner_records.push({expiry_time:W.expiry_time,leaderboard_id:W.leaderboard_id,metadata:W.metadata?JSON.parse(W.metadata):void 0,num_score:W.num_score?Number(W.num_score):0,owner_id:W.owner_id,rank:W.rank?Number(W.rank):0,score:W.score?Number(W.score):0,subscore:W.subscore?Number(W.subscore):0,update_time:W.update_time,username:W.username,max_num_score:W.max_num_score?Number(W.max_num_score):0})}),null!=U.records&&U.records.forEach(W=>{oe.records.push({expiry_time:W.expiry_time,leaderboard_id:W.leaderboard_id,metadata:W.metadata?JSON.parse(W.metadata):void 0,num_score:W.num_score?Number(W.num_score):0,owner_id:W.owner_id,rank:W.rank?Number(W.rank):0,score:W.score?Number(W.score):0,subscore:W.subscore?Number(W.subscore):0,update_time:W.update_time,username:W.username,max_num_score:W.max_num_score?Number(W.max_num_score):0})}),Promise.resolve(oe)})})}promoteGroupUsers(q,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.promoteGroupUsers(q.token,ve,je)})}readStorageObjects(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.readStorageObjects(q.token,ve).then(je=>{var T={objects:[]};return null==je.objects||je.objects.forEach(D=>{T.objects.push({collection:D.collection,key:D.key,permission_read:D.permission_read?Number(D.permission_read):0,permission_write:D.permission_write?Number(D.permission_write):0,value:D.value?JSON.parse(D.value):void 0,version:D.version,user_id:D.user_id,create_time:D.create_time,update_time:D.update_time})}),Promise.resolve(T)})})}rpc(q,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.rpcFunc(q.token,ve,JSON.stringify(je)).then(T=>Promise.resolve({id:T.id,payload:T.payload?JSON.parse(T.payload):void 0}))})}rpcHttpKey(q,ve,je){return v(this,null,function*(){return this.apiClient.rpcFunc2("",ve,je&&JSON.stringify(je)||"",q).then(T=>Promise.resolve({id:T.id,payload:T.payload?JSON.parse(T.payload):void 0})).catch(T=>{throw T})})}sessionLogout(q,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.sessionLogout(q.token,{refresh_token:je,token:ve}).then(T=>void 0!==T)})}sessionRefresh(q){return v(this,arguments,function*(ve,je={}){if(!ve)return console.error("Cannot refresh a null session."),ve;ve.created&&ve.expires_at-ve.created_at<70&&console.warn("Session lifetime too short, please set '--session.token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session"),ve.created&&ve.refresh_expires_at-ve.created_at<3700&&console.warn("Session refresh lifetime too short, please set '--session.refresh_token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session");const T=yield this.apiClient.sessionRefresh(this.serverkey,"",{token:ve.refresh_token,vars:je});return ve.update(T.token,T.refresh_token),ve})}unlinkApple(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.unlinkApple(q.token,ve).then(je=>void 0!==je)})}unlinkCustom(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.unlinkCustom(q.token,ve).then(je=>void 0!==je)})}unlinkDevice(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.unlinkDevice(q.token,ve).then(je=>void 0!==je)})}unlinkEmail(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.unlinkEmail(q.token,ve).then(je=>void 0!==je)})}unlinkFacebook(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.unlinkFacebook(q.token,ve).then(je=>void 0!==je)})}unlinkFacebookInstantGame(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.unlinkFacebookInstantGame(q.token,ve).then(je=>void 0!==je)})}unlinkGoogle(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.unlinkGoogle(q.token,ve).then(je=>void 0!==je)})}unlinkGameCenter(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.unlinkGameCenter(q.token,ve).then(je=>void 0!==je)})}unlinkSteam(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.unlinkSteam(q.token,ve).then(je=>void 0!==je)})}updateAccount(q,ve){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.updateAccount(q.token,ve).then(je=>void 0!==je)})}updateGroup(q,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.updateGroup(q.token,ve,je).then(T=>void 0!==T)})}validatePurchaseApple(q,ve,je=!0){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.validatePurchaseApple(q.token,{receipt:ve,persist:je})})}validatePurchaseFacebookInstant(q,ve,je=!0){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.validatePurchaseFacebookInstant(q.token,{signed_request:ve,persist:je})})}validatePurchaseGoogle(q,ve,je=!0){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.validatePurchaseGoogle(q.token,{purchase:ve,persist:je})})}validatePurchaseHuawei(q,ve,je,T=!0){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.validatePurchaseHuawei(q.token,{purchase:ve,signature:je,persist:T})})}validateSubscriptionApple(q,ve,je=!0){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.validateSubscriptionApple(q.token,{receipt:ve,persist:je})})}validateSubscriptionGoogle(q,ve,je=!0){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.validateSubscriptionGoogle(q.token,{receipt:ve,persist:je})})}writeLeaderboardRecord(q,ve,je){return v(this,null,function*(){return this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q)),this.apiClient.writeLeaderboardRecord(q.token,ve,{metadata:je.metadata?JSON.stringify(je.metadata):void 0,score:je.score,subscore:je.subscore}).then(T=>Promise.resolve({expiry_time:T.expiry_time,leaderboard_id:T.leaderboard_id,metadata:T.metadata?JSON.parse(T.metadata):void 0,num_score:T.num_score?Number(T.num_score):0,owner_id:T.owner_id,score:T.score?Number(T.score):0,subscore:T.subscore?Number(T.subscore):0,update_time:T.update_time,username:T.username,max_num_score:T.max_num_score?Number(T.max_num_score):0,rank:T.rank?Number(T.rank):0}))})}writeStorageObjects(q,ve){return v(this,null,function*(){this.autoRefreshSession&&q.refresh_token&&q.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(q));var je={objects:[]};return ve.forEach(T=>{je.objects.push({collection:T.collection,key:T.key,permission_read:T.permission_read,permission_write:T.permission_write,value:JSON.stringify(T.value),version:T.version})}),this.apiClient.writeStorageObjects(q.token,je)})}writeTournamentRecord(q,ve,je){return v(this,null,function*(){return this.apiClient.writeTournamentRecord(q.token,ve,{metadata:je.metadata?JSON.stringify(je.metadata):void 0,score:je.score,subscore:je.subscore}).then(T=>Promise.resolve({expiry_time:T.expiry_time,leaderboard_id:T.leaderboard_id,metadata:T.metadata?JSON.parse(T.metadata):void 0,num_score:T.num_score?Number(T.num_score):0,owner_id:T.owner_id,score:T.score?Number(T.score):0,subscore:T.subscore?Number(T.subscore):0,update_time:T.update_time,username:T.username,max_num_score:T.max_num_score?Number(T.max_num_score):0,rank:T.rank?Number(T.rank):0}))})}},ot=me(9349),xt=me(8326),bt=me(617),At=me(482),un=me(4437),mt=me(736),St=me(3953),Jt=me(9900),Nt=me(8065),nn=me(755),fn=me(5547),bn=me(5374),Mn=me(3656),In=me(4234),An=function(q){return q[q.MANAGE_TODO=10]="MANAGE_TODO",q[q.EDIT_PROFILE=11]="EDIT_PROFILE",q[q.MANAGE_POST=12]="MANAGE_POST",q[q.ADD_CHANNEL=14]="ADD_CHANNEL",q[q.WEBRTC_INIT_REQ_SIGNAL=20]="WEBRTC_INIT_REQ_SIGNAL",q[q.WEBRTC_REPLY_INIT_SIGNAL=21]="WEBRTC_REPLY_INIT_SIGNAL",q[q.WEBRTC_RECEIVE_ANSWER=22]="WEBRTC_RECEIVE_ANSWER",q[q.WEBRTC_ICE_CANDIDATES=23]="WEBRTC_ICE_CANDIDATES",q[q.WEBRTC_NEGOCIATENEEDED=24]="WEBRTC_NEGOCIATENEEDED",q[q.WEBRTC_RECEIVED_CALL_SELF=25]="WEBRTC_RECEIVED_CALL_SELF",q[q.WEBRTC_HANGUP=30]="WEBRTC_HANGUP",q[q.VOIDDRAW_INIT=40]="VOIDDRAW_INIT",q[q.USER_PROFILE_CHANGED=100]="USER_PROFILE_CHANGED",q[q.USER_PROFILE_IMAGE_CHANGED=101]="USER_PROFILE_IMAGE_CHANGED",q[q.GROUP_DATA_CHANGED=200]="GROUP_DATA_CHANGED",q[q.GROUP_IMAGE_CHANGED=201]="GROUP_IMAGE_CHANGED",q}(An||{});let Vn=(()=>{var q;class ve{constructor(T,D,L,U,oe,W,ue,Pe,Le,nt,xe){this.p5toast=T,this.statusBar=D,this.indexed=L,this.noti=U,this.modalCtrl=oe,this.alertCtrl=W,this.lang=ue,this.global=Pe,this.navCtrl=Le,this.ngZone=nt,this.loadingCtrl=xe,this.profile={content:{type:void 0,path:void 0}},this.servers={official:{},unofficial:{}},this.showServer=!1,this.TogglingSession=!1,this.isRewardAdsUsed=!1,this.noti_origin={},this.AfterLoginActDone=!1,this.AfterLoginAct=[],this.self_match={},this.RemoteTodoCounter={},this.users={self:{},deleted:{},official:{},unofficial:{}},this.notifications_rearrange=[],this.groups={official:{},unofficial:{}},this.channels_orig={official:{},unofficial:{}},this.noti_id=2e3,this.web_noti_id={},this.registered_id=[],this.channels=[],this.socket_reactive={},this.on_socket_connected={},this.on_socket_disconnected={},this.match_act={},this.opened_page_info={},this.subscribe_lock=!1,this.has_new_channel_msg=!1,this.is_post_lock=!1,this.has_new_post=!1,this.posts_orig={local:{target:{me:{}}},official:{},unofficial:{}},this.posts=[],this.OnTransfer={},this.OnTransferMessage={},this.post_counter={local:{target:{me:0}},official:{},unofficial:{}},Pe.CallbackNakama=this}initialize(){var T=this;return(0,j.A)(function*(){T.noti.GetNotificationIds(Pe=>{let Le=[];for(let nt=0,xe=Pe.length;nt<xe;nt++)Le.push(Pe[nt].id);T.registered_id=Le}),yield T.set_all_todo_notification();let D=yield T.indexed.loadTextFromUserPath("servers/self/profile.json");D&&(T.users.self=JSON.parse(D));try{let Pe=(yield T.indexed.loadTextFromUserPath("servers/self/profile.img")).replace(/"|\\|=/g,"");Pe&&(T.users.self.img=Pe)}catch{}let L=yield T.indexed.loadTextFromUserPath("servers/list_detail.csv");if(L)L.split("\n").forEach(Le=>{let nt=Le.split(","),xe={isOfficial:nt[1],name:nt[2],target:nt[3],address:nt[4],port:+nt[5],useSSL:"true"==nt[6]};T.servers[xe.isOfficial][xe.target]={},T.servers[xe.isOfficial][xe.target].info=xe,T.init_server(xe)});else{let Pe=location.href.split("?").length>1;(T.users.self.online||Pe)&&T.toggle_all_session()}T.catch_group_server_header("offline");let U=yield T.indexed.loadTextFromUserPath("servers/groups.json");U&&(T.groups=JSON.parse(U)),T.rearrange_group_list().forEach(function(){var Pe=(0,j.A)(function*(Le){let nt=yield T.indexed.loadTextFromUserPath(`servers/${Le.server.isOfficial}/${Le.server.target}/groups/${Le.id}.img`);if(nt&&(Le.img=nt.replace(/"|=|\\/g,"")),"missing"!=Le.status){delete Le.status;let xe=Le.server.isOfficial,Ue=Le.server.target;if(Le.users)for(let lt=0,He=Le.users.length;lt<He;lt++)Le.users[lt].is_me||(Le.users[lt].user=T.load_other_user(Le.users[lt].user.id,xe,Ue))}});return function(Le){return Pe.apply(this,arguments)}}()),yield T.load_channel_list();let W=yield T.indexed.loadTextFromUserPath("servers/list.json");W&&(T.statusBar.groupServer=JSON.parse(W)),Object.keys(T.statusBar.groupServer).forEach(Pe=>{T.servers[Pe]?Object.keys(T.statusBar.groupServer[Pe]).forEach(nt=>{T.servers[Pe][nt]||delete T.statusBar.groupServer[Pe][nt]}):delete T.statusBar.groupServer[Pe]}),T.users.self.online&&T.init_all_sessions(),T.showServer=!!localStorage.getItem("showServer")})()}set_all_todo_notification(){var T=this;return(0,j.A)(function*(){let D=yield T.indexed.GetFileListFromDB("info.todo");for(let L=0,U=D.length;L<U;L++){let oe=yield T.indexed.loadTextFromUserPath(D[L]);if(oe){let W=JSON.parse(oe);T.registered_id.push(W.noti_id),T.set_todo_notification(W)}}})()}getGodotDBRecursive(){var T=this;return(0,j.A)(function*(){try{if(void 0===T.indexed.godotDB)throw"Retry catch godotDB";return}catch{return yield new Promise(L=>{setTimeout(()=>{L(void 0)},100)}),yield T.getGodotDBRecursive()}})()}open_add_todo_page(T=""){this.AddTodoLinkAct?this.AddTodoLinkAct(T):this.ngZone.run(()=>{this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("add-todo-menu",{animation:bt.V5,state:{data:T}})})})}open_group_detail(T){this.ngZone.run(()=>{this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("group-detail",{animation:bt.V5,state:T})})})}open_others_profile(T){this.ngZone.run(()=>{this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("others-profile",{animation:bt.V5,state:T})})})}set_todo_notification(T){var D=this;return(0,j.A)(function*(){let L=T.startFrom||T.limit;if("DesktopPWA"==ot.aH||"MobilePWA"==ot.aH){let U=new Date(L).getTime()-(new Date).getTime();if(U>0&&U<2e9){let oe=setTimeout((0,j.A)(function*(){let W;for(let ue of T.attach)if("image"==ue.viewer){if(ue.url)W=ue.url;else{let Pe=yield D.indexed.loadBlobFromUserPath(ue.path,ue.type);W=URL.createObjectURL(Pe)}break}yield D.noti.PushLocal({id:T.noti_id,title:T.title,body:T.description,image:W,icon:"todo"},void 0,ue=>{D.open_add_todo_page(JSON.stringify(T))}),setTimeout(()=>{try{URL.revokeObjectURL(W)}catch{}},1e3)}),U);D.web_noti_id[T.noti_id]=oe}}else{let U=new Date(L).getTime();for(let oe=0,W=D.registered_id.length;oe<W;oe++)if(D.registered_id[oe]==T.id){if(D.registered_id.splice(oe,1),T.id=D.get_noti_id(),!T.done&&T.remote){let ue=T.remote.isOfficial,Pe=T.remote.target;try{yield D.servers[ue][Pe].client.writeStorageObjects(D.servers[ue][Pe].session,[{collection:"server_todo",key:T.id,permission_read:2,permission_write:1,value:T}]).then(function(){var Le=(0,j.A)(function*(nt){yield D.servers[ue][Pe].socket.sendMatchState(D.self_match[ue][Pe].match_id,An.MANAGE_TODO,encodeURIComponent(`add,${nt.acks[0].collection},${nt.acks[0].key}`))});return function(nt){return Le.apply(this,arguments)}}())}catch(Le){console.log("\uc11c\ubc84 \uc54c\ub9bc \uc7ac\ub4f1\ub85d \uc2e4\ud328: ",Le)}}break}if(!T.done&&U>(new Date).getTime()){let oe="58a192";switch(T.importance){case"1":oe="ddbb41";break;case"2":oe="b95437"}T.custom_color&&(oe=T.custom_color.replace("#","")),D.noti.PushLocal({id:T.noti_id,title:T.title,body:T.description,smallIcon_ln:"todo",iconColor_ln:oe,group_ln:"todo",triggerWhen_ln:{at:new Date(L)},extra_ln:{type:"AddTodoMenuPage",data:JSON.stringify(T)}})}}})()}init_server(T){this.servers[T.isOfficial][T.target]||(this.servers[T.isOfficial][T.target]={}),this.servers[T.isOfficial][T.target].client=new et(T.key||"defaultkey",T.address,(T.port||7350).toString(),T.useSSL||!1)}go_to_chatroom_without_admob_act(T,D){this.has_new_channel_msg=!1,this.rearrange_channels(),this.ChatroomLinkAct?this.ChatroomLinkAct(T,D):this.ngZone.run(()=>{this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("chat-room",{animation:bt.V5,state:{info:T,file:D}})})})}add_new_group(){this.ngZone.run(()=>{this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("add-group",{animation:bt.V5})})})}open_profile_page(T){this.ngZone.run(()=>{this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("group-server",{animation:bt.V5,state:T})})})}open_post(T,D){this.ngZone.run(()=>{this.global.RemoveAllModals(()=>{this.navCtrl.navigateForward("post-viewer",{animation:bt.V5,state:{data:T,index:D+1}})})})}init_all_sessions(){var T=this;return(0,j.A)(function*(){let D=Object.keys(T.servers.official);for(let U=0,oe=D.length;U<oe;U++)yield T.init_session(T.servers.official[D[U]].info);let L=Object.keys(T.servers.unofficial);for(let U=0,oe=L.length;U<oe;U++)yield T.init_session(T.servers.unofficial[L[U]].info);return D.length+L.length})()}logout_all_server(){let T=Object.keys(this.statusBar.groupServer);for(let D=0,L=T.length;D<L;D++){let U=Object.keys(this.statusBar.groupServer[T[D]]);for(let oe=0,W=U.length;oe<W;oe++)"online"==this.statusBar.groupServer[T[D]][U[oe]]&&(this.servers[T[D]][U[oe]].socket?this.servers[T[D]][U[oe]].socket.disconnect(!0):this.link_group(T[D],U[oe],!1))}}toggle_all_session(){var T=this;return(0,j.A)(function*(){if(!T.TogglingSession){if(T.TogglingSession=!0,"online"==T.statusBar.settings.groupServer)T.logout_all_server(),T.p5toast.show({text:T.lang.text.Nakama.SessionLogout});else{T.p5toast.show({text:T.lang.text.Nakama.PendingLogin});try{(yield T.init_all_sessions())||T.AccessToOfficialTestServer()}catch{}}T.TogglingSession=!1}})()}WatchAdsAndGetDevServerInfo(T=!1){var D=this;return(0,j.A)(function*(){if(!D.isRewardAdsUsed||T){let L=yield D.loadingCtrl.create({message:D.lang.text.TodoDetail.WIP});return L.present(),yield D.AccessToOfficialTestServer(),L.dismiss(),!0}return!1})()}AccessToOfficialTestServer(){var T=this;return(0,j.A)(function*(){try{let L=(yield(yield fetch(`${ot.d2}assets/data/WSAddress.txt`)).text()).split("\n")[0];yield T.add_group_server({isOfficial:"official",address:L,name:T.lang.text.Nakama.DevTestServer,target:"DevTestServer",useSSL:!0}),T.isRewardAdsUsed=!0;let U=Object.keys(T.servers.official);for(let oe=0,W=U.length;oe<W;oe++)yield T.init_session(T.servers.official[U[oe]].info);"online"==T.statusBar.settings.groupServer&&T.p5toast.show({text:T.lang.text.Nakama.AccessTestServer})}catch(D){console.log("\uc8fc\uc18c\ubc1b\uae30 \uc2e4\ud328: ",D)}})()}link_group(T,D,L="offline"==this.statusBar.groupServer[T][D]){var U=this;return(0,j.A)(function*(){if(L)U.statusBar.groupServer[T][D]="pending",U.catch_group_server_header("pending"),U.users.self.online&&(yield U.init_session(U.servers[T][D].info));else{U.channels_orig[T]&&U.channels_orig[T][D]&&(Object.keys(U.channels_orig[T][D]).forEach(W=>{"missing"!=U.channels_orig[T][D][W].status&&delete U.channels_orig[T][D][W].status}),U.rearrange_channels()),U.groups[T]&&U.groups[T][D]&&Object.keys(U.groups[T][D]).forEach(W=>{"missing"!=U.groups[T][D][W].status&&(U.groups[T][D][W].status="offline")}),U.set_group_statusBar("offline",T,D),U.statusBar.groupServer[T][D]="offline",U.catch_group_server_header("offline");try{yield U.servers[T][D].client.sessionLogout(U.servers[T][D].session,U.servers[T][D].session.token,U.servers[T][D].session.refresh_token)}catch{}U.noti_origin[T]&&U.noti_origin[T][D]&&delete U.noti_origin[T][D],U.rearrange_notifications(),U.channels_orig[T]&&U.channels_orig[T][D]&&Object.keys(U.channels_orig[T][D]).forEach(W=>{"missing"!=U.channels_orig[T][D][W].status&&delete U.channels_orig[T][D][W].status})}U.indexed.saveTextFileToUserPath(JSON.stringify(U.statusBar.groupServer),"servers/list.json")})()}get_all_online_server(){let T=[];return Object.keys(this.servers.official).forEach(U=>{"online"==this.statusBar.groupServer.official[U]&&T.push(this.servers.official[U])}),Object.keys(this.servers.unofficial).forEach(U=>{"online"==this.statusBar.groupServer.unofficial[U]&&T.push(this.servers.unofficial[U])}),T}get_all_server_info(T=!1,D=!1){let L=[],U=Object.keys(this.servers.official);return T&&U.forEach(W=>{D?("online"==this.statusBar.groupServer.official[W]||"pending"==this.statusBar.groupServer.official[W])&&L.push(this.servers.official[W].info):this.servers.official[W]&&L.push(this.servers.official[W].info)}),Object.keys(this.servers.unofficial).forEach(W=>{D?("online"==this.statusBar.groupServer.unofficial[W]||"pending"==this.statusBar.groupServer.unofficial[W])&&L.push(this.servers.unofficial[W].info):this.servers.unofficial[W]&&L.push(this.servers.unofficial[W].info)}),L}add_group_server(T,D=(()=>{})){var L=this;if(this.statusBar.groupServer.unofficial[T.target||T.name])return void this.p5toast.show({text:`${this.lang.text.Nakama.AlreadyHaveTargetName}: ${T.target||T.name}`});T.target=T.target||T.name,T.address=T.address||"192.168.0.1",T.port=T.port||7350,T.useSSL=T.useSSL||!1,T.isOfficial=T.isOfficial||"unofficial",T.key=T.key||"defaultkey",this.groups[T.isOfficial]||(this.groups[T.isOfficial]={}),this.groups[T.isOfficial][T.target]||(this.groups[T.isOfficial][T.target]={}),this.channels_orig[T.isOfficial]||(this.channels_orig[T.isOfficial]={}),this.channels_orig[T.isOfficial][T.target]||(this.channels_orig[T.isOfficial][T.target]={});let U=(new Date).getTime().toString();return U+=`,${T.isOfficial}`,U+=`,${T.name}`,U+=`,${T.target}`,U+=`,${T.address}`,U+=`,${T.port}`,U+=`,${T.useSSL}`,new Promise(function(){var oe=(0,j.A)(function*(W){{let ue={urls:[`stun:${T.address}:3478`,`turn:${T.address}:3478`],username:"username",credential:"password"};yield L.SaveWebRTCServer(ue)}"official"!=T.isOfficial?L.indexed.loadTextFromUserPath("servers/list_detail.csv",function(){var ue=(0,j.A)(function*(Pe,Le){let nt=[];Pe&&Le&&(nt=Le.split("\n")),nt.push(U),L.indexed.saveTextFileToUserPath(nt.join("\n"),"servers/list_detail.csv",xe=>{L.init_server(T),L.servers[T.isOfficial][T.target].info={...T},D()}),L.statusBar.groupServer[T.isOfficial][T.target]="offline",yield L.indexed.saveTextFileToUserPath(JSON.stringify(L.statusBar.groupServer),"servers/list.json"),W()});return function(Pe,Le){return ue.apply(this,arguments)}}()):(L.init_server(T),L.servers[T.isOfficial][T.target].info={...T},L.statusBar.groupServer[T.isOfficial][T.target]="offline",W())});return function(W){return oe.apply(this,arguments)}}())}SaveWebRTCServer(T){var D=this;return(0,j.A)(function*(){let L=(yield D.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",U=JSON.parse(L),oe=!1;for(let ue=0,Pe=Object.keys(U).length;ue<Pe;ue++)if(D.catch_address_from_rtc_server_address(T)==D.catch_address_from_rtc_server_address(U[ue])){oe=!0;break}oe||U.push(T),yield D.indexed.saveTextFileToUserPath(JSON.stringify(U),"servers/webrtc_server.json")})()}RemoveWebRTCServer(T){var D=this;return(0,j.A)(function*(){let L=(yield D.indexed.loadTextFromUserPath("servers/webrtc_server.json"))||"[]",U=JSON.parse(L);for(let W=0,ue=Object.keys(U).length;W<ue;W++){let Pe=D.catch_address_from_rtc_server_address(U[W]);T==Pe&&U.splice(W,1)}yield D.indexed.saveTextFileToUserPath(JSON.stringify(U),"servers/webrtc_server.json")})()}catch_address_from_rtc_server_address(T){let D;try{let L=T.urls[0];(L.indexOf("stun:")>=0||L.indexOf("turn:")>=0)&&(L=L.substring(5));let U=L.lastIndexOf(":");D=L.substring(0,U)}catch(L){console.error("webrtc \uc11c\ubc84 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",L)}return D}catch_group_server_header(T){let D=T;this.statusBar.settings.groupServer=T,setTimeout(()=>{Object.keys(this.statusBar.groupServer.official).forEach(U=>{switch(this.statusBar.groupServer.official[U]){case"online":D="online";break;case"pending":"online"!=D&&(D="pending");break;case"missing":case"offline":"online"!=D&&"pending"!=D&&(D="offline")}}),"online"!=D&&Object.keys(this.statusBar.groupServer.unofficial).forEach(oe=>{switch(this.statusBar.groupServer.unofficial[oe]){case"online":D="online";break;case"pending":"online"!=D&&(D="pending");break;case"missing":case"offline":"online"!=D&&"pending"!=D&&(D="offline")}}),this.statusBar.settings.groupServer=D},1500)}init_session(T){var D=this;return(0,j.A)(function*(){D.TogglingSession=!0;try{D.servers[T.isOfficial][T.target].session=yield D.servers[T.isOfficial][T.target].client.authenticateEmail(D.users.self.email,D.users.self.password,!1),yield D.after_login(T.isOfficial,T.target,T.useSSL)}catch(L){switch(L.status){case 400:D.p5toast.show({text:D.lang.text.Nakama.NeedLoginInfo}),D.open_profile_page(),D.users.self.online=!1,delete D.users.self.password,D.set_group_statusBar("offline",T.isOfficial,T.target);break;case 401:D.p5toast.show({text:D.lang.text.Nakama.NeedAccountReset}),D.users.self.online=!1,delete D.users.self.password,D.set_group_statusBar("offline",T.isOfficial,T.target);break;case 404:if(D.servers[T.isOfficial][T.target].session=yield D.servers[T.isOfficial][T.target].client.authenticateEmail(D.users.self.email,D.users.self.password,!0),D.users.self.display_name&&D.servers[T.isOfficial][T.target].client.updateAccount(D.servers[T.isOfficial][T.target].session,{display_name:D.users.self.display_name,lang_tag:navigator.language.split("-")[0]||D.lang.lang}),D.p5toast.show({text:`${D.lang.text.Nakama.RegisterUserSucc}: ${T.name}`,lateable:!0}),D.users.self.img)try{let oe=yield D.servers[T.isOfficial][T.target].client.writeStorageObjects(D.servers[T.isOfficial][T.target].session,[{collection:"user_public",key:"profile_image",permission_read:2,permission_write:1,value:{img:D.users.self.img}}]);D.servers[T.isOfficial][T.target].client.updateAccount(D.servers[T.isOfficial][T.target].session,{avatar_url:oe.acks[0].version})}catch(oe){console.error("\uc774\ubbf8\uc9c0 \ubc84\uc804 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",oe)}(yield D.indexed.checkIfFileExist("servers/self/content.pck"))&&D.sync_save_file({path:"servers/self/content.pck"},T.isOfficial,T.target,"user_public","main_content"),yield D.after_login(T.isOfficial,T.target,T.useSSL);break;default:D.p5toast.show({text:`(${T.name}) ${D.lang.text.Nakama.UnexpectedLoginErr}: ${L}`}),D.set_group_statusBar("offline",T.isOfficial,T.target)}}D.TogglingSession=!1})()}after_login(T,D,L){var U=this;return(0,j.A)(function*(){U.set_group_statusBar("pending",T,D),U.servers[T][D].socket=U.servers[T][D].client.createSocket(L),U.servers[T][D].client.getAccount(U.servers[T][D].session).then(oe=>{let W=JSON.parse(oe.user.metadata);U.servers[T][D].info.is_admin=W.is_admin,Object.keys(oe.user).forEach(Pe=>{"display_name"==Pe?U.users.self[Pe]=oe.user[Pe]:U.users.self.display_name||(U.users.self[Pe]=oe.user[Pe])}),U.save_self_profile()}),U.servers[T][D].client.readStorageObjects(U.servers[T][D].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:U.servers[T][D].session.user_id}]}).then(oe=>{oe.objects.length?U.socket_reactive.profile?(U.users.self.img=oe.objects[0].value.img,U.socket_reactive.profile(oe.objects[0].value.img)):(U.users.self.img=oe.objects[0].value.img,U.indexed.saveTextFileToUserPath(JSON.stringify(U.users.self.img),"servers/self/profile.img")):U.socket_reactive.profile("")}),U.connect_to(T,D,oe=>{U.servers[T][D].client.readStorageObjects(U.servers[T][D].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:U.servers[T][D].session.user_id}]}).then(function(){var ue=(0,j.A)(function*(Pe){try{U.self_match[T]||(U.self_match[T]={}),U.self_match[T][D]||(U.self_match[T][D]=void 0),U.self_match[T][D]=yield oe.joinMatch(Pe.objects[0].value.match_id)}catch{let nt=yield oe.createMatch();U.self_match[T][D]=nt,U.servers[T][D].client.writeStorageObjects(U.servers[T][D].session,[{collection:"self_share",key:"private_match",permission_read:2,permission_write:1,value:{match_id:nt.match_id}}])}for(let Le=0,nt=U.AfterLoginAct.length;Le<nt;Le++)try{yield U.AfterLoginAct[Le]()}catch(xe){console.error("\uc9c4\uc785 \ub3d9\uc791 \uc624\ub958: ",xe)}U.AfterLoginAct.length=0,U.AfterLoginActDone=!0});return function(Pe){return ue.apply(this,arguments)}}());let W=Object.keys(U.users[T][D]||{});U.servers[T][D].client.getUsers(U.servers[T][D].session,W).then(ue=>{for(let Pe=0,Le=ue.users.length;Pe<Le;Pe++)U.save_other_user(ue.users[Pe],T,D);U.redirect_channel(T,D),U.get_group_list_from_server(T,D)})}),yield U.SyncTodoCounter(T,D),U.load_server_todo(T,D),U.RemoteTodoSelfCheck(T,D),U.load_posts_counter(),U.noti_origin[T]||(U.noti_origin[T]={}),U.noti_origin[T][D]||(U.noti_origin[T][D]={}),U.update_notifications(T,D),U.rearrange_channels(),U.rearrange_group_list(),U.set_group_statusBar("online",T,D)})()}load_server_todo(T,D){var L=this;try{let U=this.RemoteTodoCounter[T][D];this.RemoteTodoCounter[T]||(this.RemoteTodoCounter[T]={});for(let oe=U.length-1;oe>=0;oe--){let W=`RemoteTodo_${U[oe]}`;this.servers[T][D].client.readStorageObjects(this.servers[T][D].session,{object_ids:[{collection:"server_todo",key:W,user_id:this.servers[T][D].session.user_id}]}).then(function(){var ue=(0,j.A)(function*(Pe){if(Pe.objects.length)yield L.modify_remote_info_as_local(Pe.objects[0].value,T,D);else try{let Le;L.RemoteTodoCounter[T][D].splice(oe,1);try{Le=`todo/${W}_${T}_${D}/info.todo`}catch{Le=`todo/${W}/info.todo`}let nt=yield L.indexed.loadTextFromUserPath(Le),xe=JSON.parse(nt);L.deleteTodoFromStorage(!0,xe,!0)}catch{}});return function(Pe){return ue.apply(this,arguments)}}()).catch(ue=>{console.log("\uc11c\ubc84 \ud574\uc57c\ud560 \uc77c \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",ue)})}}catch{}}RemoteTodoSelfCheck(T,D){var L=this;this.indexed.GetFileListFromDB("todo/RemoteTodo_").then(function(){var U=(0,j.A)(function*(oe){for(let W=0,ue=oe.length;W<ue;W++)try{if(oe[W].indexOf("info.todo")>=0){let Pe=yield L.indexed.loadTextFromUserPath(oe[W]),Le=JSON.parse(Pe);Le.remote.isOfficial==T&&Le.remote.target==D&&((yield L.servers[T][D].client.readStorageObjects(L.servers[T][D].session,{object_ids:[{collection:"server_todo",key:Le.id,user_id:L.servers[T][D].session.user_id}]})).objects.length||((yield L.indexed.GetFileListFromDB(`todo/${Le.id}_${T}_${D}`)).forEach(Ue=>L.indexed.removeFileFromUserPath(Ue)),Le.noti_id&&("DesktopPWA"==ot.aH||"MobilePWA"==ot.aH)&&(clearTimeout(L.web_noti_id[Le.noti_id]),delete L.web_noti_id[Le.noti_id]),L.noti.ClearNoti(Le.id),L.global.p5todo&&L.global.p5todo.remove_todo&&L.global.p5todo.remove_todo(Pe)))}}catch{}});return function(oe){return U.apply(this,arguments)}}())}getRemoteTodoCounter(T,D){var L=this;return(0,j.A)(function*(){try{L.RemoteTodoCounter[T][D].sort((W,ue)=>W-ue);let U=L.RemoteTodoCounter[T][D].length;if(!U)throw"\uc815\ud574\uc9c4 \uac12\uc774 \uc5c6\uc5b4?";let oe=L.RemoteTodoCounter[T][D][U-1]+1;return L.RemoteTodoCounter[T][D].push(oe),oe}catch{let oe=yield L.SyncTodoCounter(T,D),W=0;return oe&&oe.objects.length&&oe.objects[0].value.data.length?W=oe.objects[0].value.data.pop()+1:(L.RemoteTodoCounter[T]||(L.RemoteTodoCounter[T]={}),L.RemoteTodoCounter[T][D]=[0]),W}})()}SyncTodoCounter(T,D){var L=this;return(0,j.A)(function*(){try{let U=yield L.servers[T][D].client.readStorageObjects(L.servers[T][D].session,{object_ids:[{collection:"server_todo",key:"RemoteTodo_Counter",user_id:L.servers[T][D].session.user_id}]});return L.RemoteTodoCounter[T]||(L.RemoteTodoCounter[T]={}),L.RemoteTodoCounter[T][D]=U.objects[0].value.data,U}catch{}})()}removeRemoteTodoCounter(T,D,L){var U=this;return(0,j.A)(function*(){try{let oe=U.RemoteTodoCounter[T][D].indexOf(L);oe>=0&&U.RemoteTodoCounter[T][D].splice(oe,1)}catch{U.RemoteTodoCounter[T]||(U.RemoteTodoCounter[T]={}),U.RemoteTodoCounter[T][D]||(U.RemoteTodoCounter[T][D]=[])}yield U.updateRemoteCounter(T,D)})()}updateRemoteCounter(T,D){var L=this;return(0,j.A)(function*(){if(L.RemoteTodoCounter[T][D].length){for(let U=L.RemoteTodoCounter[T][D].length-1;U>=0;U--)(void 0===L.RemoteTodoCounter[T][D][U]||null==L.RemoteTodoCounter[T][D][U])&&L.RemoteTodoCounter[T][D].splice(U,1);L.RemoteTodoCounter[T][D].sort((U,oe)=>U-oe);for(let U=L.RemoteTodoCounter[T][D].length-2;U>=0;U--)L.RemoteTodoCounter[T][D][U+1]==L.RemoteTodoCounter[T][D][U]&&L.RemoteTodoCounter[T][D].splice(U,1)}yield L.servers[T][D].client.writeStorageObjects(L.servers[T][D].session,[{collection:"server_todo",key:"RemoteTodo_Counter",permission_read:2,permission_write:1,value:{data:L.RemoteTodoCounter[T][D]}}])})()}modify_remote_info_as_local(T,D,L){var U=this;return(0,j.A)(function*(){T.remote.name=U.servers[D][L].info.name,T.remote.isOfficial=D,T.remote.target=L,T.remote.type=`${D}/${L}`,U.set_todo_notification(T);try{T.is_me=T.remote.creator_id==U.servers[D][L].session.user_id}catch{}U.global.p5todo&&U.global.p5todo.add_todo&&U.global.p5todo.add_todo(JSON.stringify(T));let oe=yield U.indexed.loadTextFromUserPath(`todo/${T.id}_${D}_${L}/info.todo`);if(oe){let W=JSON.parse(oe);if(T.create_at<=W.create_at&&W.modified){if(W.done)return void U.doneTodo(T,!0);if(W.removed)return void U.deleteTodoFromStorage(!0,W,!0);delete W.modified,yield U.indexed.saveTextFileToUserPath(JSON.stringify(W),`todo/${W.id}_${D}_${L}/info.todo`),yield U.servers[W.remote.isOfficial][W.remote.target].client.writeStorageObjects(U.servers[W.remote.isOfficial][W.remote.target].session,[{collection:"server_todo",key:W.id,permission_read:2,permission_write:1,value:W}]).then(function(){var ue=(0,j.A)(function*(Pe){yield U.servers[W.remote.isOfficial][W.remote.target].socket.sendMatchState(U.self_match[W.remote.isOfficial][W.remote.target].match_id,An.MANAGE_TODO,encodeURIComponent(`add,${Pe.acks[0].collection},${Pe.acks[0].key}`))});return function(Pe){return ue.apply(this,arguments)}}())}else U.indexed.saveTextFileToUserPath(JSON.stringify(T),`todo/${T.id}_${D}_${L}/info.todo`)}else U.indexed.saveTextFileToUserPath(JSON.stringify(T),`todo/${T.id}_${D}_${L}/info.todo`)})()}doneTodo(T,D=!1){var L=this;return(0,j.A)(function*(){if(T.done=!0,L.global.p5todo&&L.global.p5todo.add_todo&&L.global.p5todo.add_todo(JSON.stringify(T)),T.remote){let U;D||(U=yield L.loadingCtrl.create({message:L.lang.text.TodoDetail.WIP}),U.present());try{L.servers[T.remote.isOfficial][T.remote.target]&&L.self_match[T.remote.isOfficial][T.remote.target]&&(yield L.servers[T.remote.isOfficial][T.remote.target].socket.sendMatchState(L.self_match[T.remote.isOfficial][T.remote.target].match_id,An.MANAGE_TODO,encodeURIComponent(`done,${T.id}`))),D||U.dismiss()}catch{let W;T.modified=!0;try{W=`todo/${T.id}_${T.remote.isOfficial}_${T.remote.target}/info.todo`}catch{W=`todo/${T.id}/info.todo`}return yield L.indexed.saveTextFileToUserPath(JSON.stringify(T),W),D||U.dismiss(),void L.navCtrl.pop()}}yield L.deleteTodoFromStorage(!1,T,D),L.navCtrl.pop()})()}deleteTodoFromStorage(T,D,L=!1){var U=this;return(0,j.A)(function*(){let oe,W;if(L||(oe=yield U.loadingCtrl.create({message:U.lang.text.TodoDetail.WIP}),oe.present()),D.attach&&D.attach.length)for(let Pe=0,Le=D.attach.length;Pe<Le;Pe++)D.attach[Pe].url&&(yield U.global.remove_file_from_storage(D.attach[Pe].url));if(D.remote)try{if(!U.servers[D.remote.isOfficial][D.remote.target])throw"Server deleted.";try{let Pe=D.remote.isOfficial,Le=D.remote.target;if(yield U.servers[Pe][Le].client.deleteStorageObjects(U.servers[Pe][Le].session,{object_ids:[{collection:"server_todo",key:D.id}]}),D.attach)for(let nt=0,xe=D.attach.length;nt<xe;nt++)D.attach[nt].url?yield U.global.remove_file_from_storage(D.attach[nt].url):yield U.sync_remove_file(D.attach[nt].path,Pe,Le,"todo_attach");T&&(yield U.servers[Pe][Le].socket.sendMatchState(U.self_match[Pe][Le].match_id,An.MANAGE_TODO,encodeURIComponent(`delete,${D.id}`)))}catch(Pe){console.error("\ud574\uc57c\ud560 \uc77c \uc0ad\uc81c \uc694\uccad\uc774 \uc11c\ubc84\uc5d0 \uc804\uc1a1\ub418\uc9c0 \uc54a\uc74c: ",Pe)}try{if(D.remote.creator_id!=U.servers[D.remote.isOfficial][D.remote.target].session.user_id){let Pe=(new Date).getTime();try{yield U.servers[D.remote.isOfficial][D.remote.target].client.rpc(U.servers[D.remote.isOfficial][D.remote.target].session,"manage_todo_done_fn",{id:D.id,creator_id:D.remote.creator_id,user_id:U.servers[D.remote.isOfficial][D.remote.target].session.user_id,timestamp:Pe,isDelete:T})}catch{}try{let Le=yield U.servers[D.remote.isOfficial][D.remote.target].client.readStorageObjects(U.servers[D.remote.isOfficial][D.remote.target].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:D.remote.creator_id}]});Le.objects.length&&(yield U.servers[D.remote.isOfficial][D.remote.target].socket.joinMatch(Le.objects[0].value.match_id),yield U.servers[D.remote.isOfficial][D.remote.target].socket.sendMatchState(Le.objects[0].value.match_id,An.MANAGE_TODO,encodeURIComponent(`worker,${D.id},${U.servers[D.remote.isOfficial][D.remote.target].session.user_id},${T},${Pe}`)),yield U.servers[D.remote.isOfficial][D.remote.target].socket.leaveMatch(Le.objects[0].value.match_id))}catch{}}}catch{}if(D.workers){try{yield U.servers[D.remote.isOfficial][D.remote.target].client.rpc(U.servers[D.remote.isOfficial][D.remote.target].session,"manage_todo_delete_fn",{id:D.id,workers:D.workers})}catch{}for(let Pe=0,Le=D.workers.length;Pe<Le;Pe++)try{let nt=yield U.servers[D.remote.isOfficial][D.remote.target].client.readStorageObjects(U.servers[D.remote.isOfficial][D.remote.target].session,{object_ids:[{collection:"self_share",key:"private_match",user_id:D.workers[Pe].id}]});nt.objects.length&&(yield U.servers[D.remote.isOfficial][D.remote.target].socket.joinMatch(nt.objects[0].value.match_id),yield U.servers[D.remote.isOfficial][D.remote.target].socket.sendMatchState(nt.objects[0].value.match_id,An.MANAGE_TODO,encodeURIComponent(T?`delete,${D.id}`:`done,${D.id}`)),yield U.servers[D.remote.isOfficial][D.remote.target].socket.leaveMatch(nt.objects[0].value.match_id))}catch{}}yield U.removeRemoteTodoCounter(D.remote.isOfficial,D.remote.target,Number(D.id.split("_").pop()))}catch{let Le;D.modified=!0,D.removed=!0;try{Le=`todo/${D.id}_${D.remote.isOfficial}_${D.remote.target}/info.todo`}catch{Le=`todo/${D.id}/info.todo`}return yield U.indexed.saveTextFileToUserPath(JSON.stringify(D),Le),U.removeRegisteredId(D.noti_id),U.noti.ClearNoti(D.noti_id),T&&U.global.p5todo&&U.global.p5todo.remove_todo(JSON.stringify(D)),void(L||oe.dismiss())}try{W=`todo/${D.id}_${D.remote.isOfficial}_${D.remote.target}`}catch{W=`todo/${D.id}`}(yield U.indexed.GetFileListFromDB(W)).forEach(Pe=>U.indexed.removeFileFromUserPath(Pe)),D.noti_id&&("Android"==ot.aH||"iOS"==ot.aH||(clearTimeout(U.web_noti_id[D.noti_id]),delete U.web_noti_id[D.noti_id])),U.removeRegisteredId(D.noti_id),U.noti.ClearNoti(D.noti_id),T&&U.global.p5todo&&U.global.p5todo.remove_todo(JSON.stringify(D)),L||oe.dismiss()})()}load_groups(T,D,L){var U=this;return(0,j.A)(function*(){let oe=U.groups[T][D][L].channel_id;try{if("missing"!=U.groups[T][D][L].status){let W=yield U.servers[T][D].client.listGroupUsers(U.servers[T][D].session,L);if(W.group_users.length){let ue=!0;for(let Pe=0,Le=W.group_users.length;Pe<Le;Pe++)if(W.group_users[Pe].user.id==U.servers[T][D].session.user_id){switch(W.group_users[Pe].state){case 0:case 1:case 2:U.groups[T][D][L].status="online";break;case 3:U.groups[T][D][L].status="pending";break;default:console.log("\uc774\ud574\ud560 \uc218 \uc5c6\ub294 \ucf54\ub4dc \ubc18\ud658: ",W.group_users[Pe].state),U.groups[T][D][L].status="missing"}ue=!1,W.group_users[Pe].is_me=!0;break}ue&&(U.groups[T][D][L].status="missing",oe&&(U.channels_orig[T][D][oe].status="missing"),U.save_channels_with_less_info())}else U.groups[T][D][L].status="missing",U.channels_orig[T][D][oe].status="missing",U.save_channels_with_less_info();W.group_users.length&&(U.groups[T][D][L].users=W.group_users);for(let ue=0,Pe=W.group_users.length;ue<Pe;ue++)if(W.group_users[ue].is_me)W.group_users[ue].user=U.users.self;else try{let Le=yield U.servers[T][D].client.readStorageObjects(U.servers[T][D].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:W.group_users[ue].user.id}]});Le.objects.length?W.group_users[ue].user.img=Le.objects[0].value.img:delete W.group_users[ue].user.img,U.save_other_user(W.group_users[ue].user,T,D)}catch(Le){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \uc774\ubbf8\uc9c0 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",Le),U.save_other_user(W.group_users[ue].user,T,D)}U.save_groups_with_less_info()}}catch(W){console.log("load_groups_error: ",W)}})()}save_self_profile(){let T={...this.users.self};delete T.img,this.indexed.saveTextFileToUserPath(JSON.stringify(T),"servers/self/profile.json")}rearrange_all_user(){let T=[];return Object.keys(this.users).forEach(L=>{"self"!=L&&Object.keys(this.users[L]).forEach(oe=>{Object.keys(this.users[L][oe]).forEach(ue=>{T.push(this.users[L][oe][ue])})})}),T}load_other_user(T,D,L,U=(oe=>{})){try{if(this.servers[D][L].session.user_id==T)return this.users.self}catch{}let oe=!1;return this.users[D][L]||(this.users[D][L]={}),this.users[D][L][T]||(this.users[D][L][T]={},this.indexed.loadTextFromUserPath(`servers/${D}/${L}/users/${T}/profile.json`,(W,ue)=>{if(W&&ue){let Pe=JSON.parse(ue);Object.keys(Pe).forEach(nt=>this.users[D][L][T][nt]=Pe[nt]),oe||(U(this.users[D][L][T]),oe=!0)}else try{this.servers[D][L].client.getUsers(this.servers[D][L].session,[T]).then(Pe=>{Pe.users.length?(Object.keys(Pe.users[0]).forEach(nt=>this.users[D][L][T][nt]=Pe.users[0][nt]),oe||(U(this.users[D][L][T]),oe=!0),this.users[D][L][T].img||(this.users[D][L][T].img=null),this.save_other_user(this.users[D][L][T],D,L)):(this.indexed.removeFileFromUserPath(`${D}/${L}/users/${T}`),this.indexed.removeFileFromUserPath(`${D}/${L}/users/${T}/profile.json`),this.indexed.removeFileFromUserPath(`${D}/${L}/users/${T}/profile.img`))})}catch{}}),this.users[D][L][T].img?this.save_other_user(this.users[D][L][T],D,L):this.indexed.loadTextFromUserPath(`servers/${D}/${L}/users/${T}/profile.img`,(W,ue)=>{if(W&&ue)this.users[D][L][T].img=ue.replace(/"|=|\\/g,"");else if(this.users[D][L][T].avatar_url)try{"online"==this.statusBar.groupServer[D][L]&&this.servers[D][L].client.readStorageObjects(this.servers[D][L].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:T}]}).then(Pe=>{Pe.objects.length?this.users[D][L][T].img=Pe.objects[0].value.img:delete this.users[D][L][T].avatar_url,oe||(U(this.users[D][L][T]),oe=!0),this.save_other_user(this.users[D][L][T],D,L)}).catch(Pe=>{this.users[D][L][T].img&&(delete this.users[D][L][T].img,oe||(U(this.users[D][L][T]),oe=!0),this.save_other_user(this.users[D][L][T],D,L))})}catch{}})),this.users[D][L][T]}save_other_user(T,D,L){if(this.servers[D][L].session.user_id==T.id)return;let U=JSON.parse(JSON.stringify(T));T.id!=this.servers[D][L].session.user_id&&(delete U.img,delete U.online,delete U.todo_checked,delete U.todo_done,this.users[D][L]||(this.users[D][L]={}),this.users[D][L][T.id]||(this.users[D][L][T.id]={}),Object.keys(T).forEach(W=>this.users[D][L][T.id][W]=T[W]),this.indexed.saveTextFileToUserPath(JSON.stringify(U),`servers/${D}/${L}/users/${U.id}/profile.json`),T.img?this.indexed.saveTextFileToUserPath(T.img,`servers/${D}/${L}/users/${T.id}/profile.img`):void 0===T.img&&this.indexed.removeFileFromUserPath(`servers/${D}/${L}/users/${T.id}/profile.img`))}update_notifications(T,D){var L=this;return(0,j.A)(function*(){let U=yield L.servers[T][D].client.listNotifications(L.servers[T][D].session,1);L.noti_origin[T][D]={};for(let oe=0,W=U.notifications.length;oe<W;oe++)L.act_on_notification(U.notifications[oe],T,D);L.rearrange_notifications()})()}rearrange_notifications(){let T=[];return Object.keys(this.noti_origin).forEach(L=>{Object.keys(this.noti_origin[L]).forEach(oe=>{Object.keys(this.noti_origin[L][oe]).forEach(ue=>{T.push(this.noti_origin[L][oe][ue])})})}),T.sort((L,U)=>L.create_time<U.create_time?1:L.create_time>U.create_time?-1:0),this.notifications_rearrange=T,T}add_channels(T,D,L){var U=this;return(0,j.A)(function*(){if(!U.channels_orig[D][L][T.id]){switch(U.channels_orig[D][L][T.id]={},Object.keys(T).forEach(W=>U.channels_orig[D][L][T.id][W]=T[W]),U.channels_orig[D][L][T.id].cnoti_id||(U.channels_orig[D][L][T.id].cnoti_id=U.get_noti_id()),U.channels_orig[D][L][T.id].redirect.type){case 2:let W=U.channels_orig[D][L][T.id].redirect.id;U.channels_orig[D][L][T.id].color=(W.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6);let ue=U.load_other_user(W,D,L).online?"online":"pending";U.channels_orig[D][L][T.id].status=ue;break;case 3:try{let Pe=U.channels_orig[D][L][T.id].redirect.id;U.channels_orig[D][L][T.id].color=(Pe.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6);let Le=yield U.servers[D][L].client.listGroupUsers(U.servers[D][L].session,Pe);U.groups[D][L][Pe].users||(U.groups[D][L][Pe].users=[]),Le.group_users.forEach(nt=>{nt.user.id!=U.servers[D][L].session.user_id&&(U.users[D][L][nt.user.id]||U.save_other_user(nt.user,D,L)),nt.user.id==U.servers[D][L].session.user_id?nt.user.is_me=!0:U.users[D][L][nt.user.id]||U.save_other_user(nt.user,D,L),nt.user=U.load_other_user(nt.user.id,D,L),U.add_group_user_without_duplicate(nt,Pe,D,L)})}catch(Pe){console.error("\uadf8\ub8f9 \ucc44\ub110 \uc0dd\uc131 \uc624\ub958: ",Pe)}U.count_channel_online_member(U.channels_orig[D][L][T.id],D,L);break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc885\ub958: ",U.channels_orig[D][L][T.id])}U.rearrange_channels();try{U.servers[D][L].socket.sendMatchState(U.self_match[D][L].match_id,An.ADD_CHANNEL,encodeURIComponent(""))}catch{}}})()}add_group_user_without_duplicate(T,D,L,U){let oe=!1;this.groups[L][U][D].users||(this.groups[L][U][D].users=[]);for(let W=0,ue=this.groups[L][U][D].users.length;W<ue;W++)if(this.groups[L][U][D].users[W].user.id==T.user.id){oe=!0;break}oe||this.groups[L][U][D].users.push(T)}load_channel_list(){var T=this;return(0,j.A)(function*(){let D=yield T.indexed.loadTextFromUserPath("servers/channels.json");D&&(T.channels_orig=JSON.parse(D),Object.keys(T.channels_orig).forEach(U=>{Object.keys(T.channels_orig[U]).forEach(W=>{Object.keys(T.channels_orig[U][W]).forEach(Pe=>{2==T.channels_orig[U][W][Pe].redirect.type&&(T.channels_orig[U][W][Pe].info=T.load_other_user(T.channels_orig[U][W][Pe].redirect.id,U,W)),"missing"!=T.channels_orig[U][W][Pe].status&&delete T.channels_orig[U][W][Pe].status,0==T.channels_orig[U][W][Pe].redirect.type&&(T.channels_orig[U][W][Pe].status="online"),T.channels_orig[U][W][Pe].is_new&&!T.subscribe_lock&&(T.has_new_channel_msg=!0)})})})),T.rearrange_channels()})()}get_noti_id(){return this.noti_id=this.check_If_RegisteredId(this.noti_id+1),this.registered_id.push(this.noti_id),this.noti_id}check_If_RegisteredId(T){let D=!1;for(let L=0,U=this.registered_id.length;L<U;L++)if(this.registered_id[L]==T){D=!0;break}return D?this.check_If_RegisteredId(T+1):T}removeRegisteredId(T){for(let D=0,L=this.registered_id.length;D<L;D++)if(this.registered_id[D]==T){this.registered_id.splice(D,1);break}}redirect_channel(T,D){if(this.channels_orig[T][D]){let L=Object.keys(this.channels_orig[T][D]);for(let U=0,oe=L.length;U<oe;U++)try{"missing"!=this.channels_orig[T][D][L[U]].status&&this.servers[T][D].socket.joinChat(this.channels_orig[T][D][L[U]].redirect.id,this.channels_orig[T][D][L[U]].redirect.type,this.channels_orig[T][D][L[U]].redirect.persistence,!1).then(W=>{switch(this.channels_orig[T][D][L[U]].cnoti_id||(this.channels_orig[T][D][L[U]].cnoti_id=this.get_noti_id()),this.channels_orig[T][D][L[U]].color=(this.channels_orig[T][D][L[U]].info.id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),this.channels_orig[T][D][L[U]].redirect.type){case 2:this.servers[T][D].client.readStorageObjects(this.servers[T][D].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:this.channels_orig[T][D][L[U]].redirect.id}]}).then(ue=>{let Pe=this.load_other_user(this.channels_orig[T][D][L[U]].redirect.id,T,D);Pe.img=ue.objects.length?ue.objects[0].value.img:void 0,this.save_other_user(Pe,T,D)});case 3:this.channels_orig[T][D][L[U]].update||this.servers[T][D].client.listChannelMessages(this.servers[T][D].session,L[U],1,!1).then(ue=>{ue.messages.length&&this.update_from_channel_msg(ue.messages[0],T,D)}),this.count_channel_online_member(this.channels_orig[T][D][L[U]],T,D);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub9ac\ub2e4\uc774\ub809\uc158 \ud0c0\uc785: ",this.channels_orig[T][D][L[U]].redirect.type)}}).catch(W=>{this.channels_orig[T][D][L[U]].status="missing"})}catch{}this.rearrange_channels()}}rearrange_channels(){let T=[];return Object.keys(this.channels_orig).forEach(L=>{Object.keys(this.channels_orig[L]).forEach(oe=>{Object.keys(this.channels_orig[L][oe]).forEach(ue=>{this.channels_orig[L][oe][ue].server={isOfficial:L,target:oe};try{this.channels_orig[L][oe][ue].server.name=this.servers[L][oe].info.name}catch{this.channels_orig[L][oe][ue].server.name=this.lang.text.Nakama.DeletedServer}try{switch(this.channels_orig[L][oe][ue].redirect.type){case 1:break;case 2:this.channels_orig[L][oe][ue].info=this.load_other_user(this.channels_orig[L][oe][ue].redirect.id,L,oe),this.channels_orig[L][oe][ue].title=this.channels_orig[L][oe][ue].info.display_name;break;case 3:"missing"!=this.channels_orig[L][oe][ue].status&&(this.groups[L][oe]&&this.groups[L][oe][this.channels_orig[L][oe][ue].redirect.id]?(this.channels_orig[L][oe][ue].info=this.groups[L][oe][this.channels_orig[L][oe][ue].redirect.id],this.channels_orig[L][oe][ue].title=this.groups[L][oe][this.channels_orig[L][oe][ue].redirect.id].name,"missing"==this.groups[L][oe][this.channels_orig[L][oe][ue].redirect.id].status&&(this.channels_orig[L][oe][ue].status=this.groups[L][oe][this.channels_orig[L][oe][ue].redirect.id].status)):this.channels_orig[L][oe][ue].status="missing");break;case 0:this.channels_orig[L][oe][ue].info||(this.channels_orig[L][oe][ue].info={}),this.channels_orig[L][oe][ue].info.name=this.channels_orig[L][oe][ue].title,this.channels_orig[L][oe][ue].info.img||this.indexed.loadTextFromUserPath(`servers/${L}/${oe}/groups/${ue}.img`,(Pe,Le)=>{Pe&&Le&&(this.channels_orig[L][oe][ue].info.img=Le)});break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \uc54a\uc740 \ub300\ud654\ud615\uc2dd: ",this.channels_orig[L][oe][ue])}}catch{}this.channels_orig[L][oe][ue].last_comment_time||(this.channels_orig[L][oe][ue].last_comment_time=Date.now()),T.push(this.channels_orig[L][oe][ue])})})}),T.sort((L,U)=>{let oe=new Date(L.last_comment_time||0).getTime(),W=new Date(U.last_comment_time||0).getTime();return oe<W?1:oe>W?-1:0}),T.sort((L,U)=>L.is_new?U.is_new?0:-1:U.is_new?1:0),this.channels=T,this.save_channels_with_less_info(),T}save_channels_with_less_info(){let T=JSON.parse(JSON.stringify(this.channels_orig));Object.keys(T).forEach(L=>{Object.keys(T[L]).forEach(oe=>{let W=Object.keys(T[L][oe]);W.forEach(ue=>{delete T[L][oe][ue].img,delete T[L][oe][ue].group,delete T[L][oe][ue].info,delete T[L][oe][ue].update,delete T[L][oe][ue].presences,delete T[L][oe][ue].cnoti_id,delete T[L][oe][ue].status,delete T[L][oe][ue].color,T[L][oe][ue].is_new||delete T[L][oe][ue].is_new}),W.length||delete T[L][oe]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(T),"servers/channels.json")}limit_image_size(T,D=(L=>{})){new xt(U=>{U.setup=()=>{U.noCanvas(),U.loadImage(T,W=>{W.resize(window.innerWidth,window.innerWidth*W.height/W.width),W.canvas.toDataURL().length>245e3&&oe(W),D(W),U.remove()},W=>{this.p5toast.show({text:this.lang.text.Nakama.CannotOpenImg}),U.remove()})};let oe=W=>{W.resize(.95*W.width,.95*W.height),W.canvas.toDataURL().length>245e3&&oe(W)}})}try_add_group(T){var D=this;return new Promise(function(){var L=(0,j.A)(function*(U,oe){let W=D.get_all_online_server();for(let ue=0,Pe=W.length;ue<Pe;ue++)try{let Le=yield W[ue].client.joinGroup(W[ue].session,T.id);if(!Le)return void console.log("\uadf8\ub8f9 join \uc2e4\ud328... \ubca4 \ub2f9\ud588\uc744 \ub54c\uc778\ub4ef? \ud5a5\ud6c4\uc5d0 \uac80\ud1a0 \ud544");Le=yield W[ue].client.listGroups(W[ue].session,decodeURIComponent(T.name));for(let nt=0,xe=Le.groups.length;nt<xe;nt++)if(Le.groups[nt].id==T.id){let Ue=Le.groups[nt];Ue.status=Ue.open?"online":"pending",Ue.server=D.servers[W[ue].info.isOfficial][W[ue].info.target].info;try{let lt=yield D.servers[W[ue].info.isOfficial][W[ue].info.target].client.listGroupUsers(D.servers[W[ue].info.isOfficial][W[ue].info.target].session,Le.groups[nt].id);Ue.users=lt.group_users,lt.group_users.forEach(He=>{He.user.id==D.servers[W[ue].info.isOfficial][W[ue].info.target].session.user_id?He.is_me=!0:D.save_other_user(He.user,W[ue].info.isOfficial,W[ue].info.target)})}catch(lt){console.error("\uadf8\ub8f9 \uc815\ubcf4 \uac80\ud1a0 \uc624\ub958: ",lt)}try{let lt=yield D.servers[W[ue].info.isOfficial][W[ue].info.target].client.readStorageObjects(D.servers[W[ue].info.isOfficial][W[ue].info.target].session,{object_ids:[{collection:"group_public",key:`group_${Le.groups[nt].id}`,user_id:Le.groups[nt].creator_id}]});lt.objects.length?Ue.img=lt.objects[0].value.img:delete Ue.img}catch(lt){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \ud655\uc778 \uc624\ub958: ",lt)}if(D.save_group_info(Ue,W[ue].info.isOfficial,W[ue].info.target),yield W[ue].socket.sendMatchState(D.self_match[W[ue].info.isOfficial][W[ue].info.target].match_id,An.ADD_CHANNEL,encodeURIComponent("")),Ue.open){let lt=yield D.join_chat_with_modulation(Ue.id,3,W[ue].info.isOfficial,W[ue].info.target);if(!D.opened_page_info.channel||D.opened_page_info.channel.isOfficial!=W[ue].info.isOfficial||D.opened_page_info.channel.target!=W[ue].info.target||D.opened_page_info.channel.id!=lt.id)try{let He=yield D.servers[W[ue].info.isOfficial][W[ue].info.target].client.listChannelMessages(D.servers[W[ue].info.isOfficial][W[ue].info.target].session,lt.id,1,!1);He.messages.length&&D.update_from_channel_msg(He.messages[0],W[ue].info.isOfficial,W[ue].info.target),D.save_group_info(Ue,W[ue].info.isOfficial,W[ue].info.target),D.go_to_chatroom_without_admob_act(lt)}catch(He){console.error("\ucc44\ub110 \uc815\ubcf4 \ucd94\uac00 \uc624\ub958: ",He)}}U();break}}catch(Le){switch(Le.status){case 400:console.log("\uc774\ubbf8 \uadf8\ub8f9\uc5d0 \uac00\uc785\ub418\uc5b4 \uc788\uc74c: 400");let nt=yield D.join_chat_with_modulation(T.id,3,W[ue].info.isOfficial,W[ue].info.target);try{let xe=yield D.servers[W[ue].info.isOfficial][W[ue].info.target].client.listChannelMessages(D.servers[W[ue].info.isOfficial][W[ue].info.target].session,nt.id,1,!1);xe.messages.length&&D.update_from_channel_msg(xe.messages[0],W[ue].info.isOfficial,W[ue].info.target),D.go_to_chatroom_without_admob_act(nt)}catch(xe){console.error("\ucc44\ub110 \uc815\ubcf4 \ucd94\uac00 \uc624\ub958: ",xe)}U();break;case 404:console.log("\uc774 \uc11c\ubc84\uc5d0 \uc5c6\ub294 \uadf8\ub8f9: 404");break;default:console.error("\uadf8\ub8f9 \ucd94\uac00 \uc624\ub958: ",Le)}}oe(D.lang.text.Nakama.GroupAllListDone)});return function(U,oe){return L.apply(this,arguments)}}())}save_group_info(T,D,L){this.groups[D][L]||(this.groups[D][L]={}),this.groups[D][L][T.id]=T,this.save_groups_with_less_info(),this.indexed.saveTextFileToUserPath(T.img,`servers/${D}/${L}/groups/${T.id}.img`),T.owner==this.servers[D][L].session.user_id&&T.img&&this.servers[D][L].client.writeStorageObjects(this.servers[D][L].session,[{collection:"group_public",key:`group_${T.id}`,value:{img:T.img},permission_read:2,permission_write:1}])}save_groups_with_less_info(T=(()=>{})){let D=JSON.parse(JSON.stringify(this.groups));Object.keys(D).forEach(U=>{Object.keys(D[U]).forEach(W=>{let ue=Object.keys(D[U][W]);ue.forEach(Pe=>{if(delete D[U][W][Pe].server,delete D[U][W][Pe].img,D[U][W][Pe].users)for(let Le=0,nt=D[U][W][Pe].users.length;Le<nt;Le++)if(D[U][W][Pe].users[Le]){delete D[U][W][Pe].users[Le].state;try{D[U][W][Pe].users[Le].user.id?(D[U][W][Pe].users[Le].user={id:D[U][W][Pe].users[Le].user.id},this.servers[U][W]&&this.servers[U][W].session&&D[U][W][Pe].users[Le].user.id==this.servers[U][W].session.user_id&&(D[U][W][Pe].users[Le].is_me=!0)):D[U][W][Pe].users[Le].is_me||D[U][W][Pe].users.splice(Le,1)}catch{}}}),ue.length||delete D[U][W]})}),this.indexed.saveTextFileToUserPath(JSON.stringify(D),"servers/groups.json",()=>{T()})}remove_group_list(T,D,L,U=!1){var oe=this;return(0,j.A)(function*(){try{let W=T.creator_id==oe.servers[D][L].session.user_id;if(!oe.servers[D][L]||!W)throw"not a group creator";try{let Pe=`${T.server.useSSL?"https":"http"}://${T.server.address}`;yield oe.global.remove_files_from_storage_with_key(Pe,T.id)}catch{}(yield oe.servers[D][L].client.deleteGroup(oe.servers[D][L].session,T.id))||console.log("\uadf8\ub8f9 \uc0ad\uc81c \uc624\ub958 \uac80\ud1a0 \ud544\uc694"),oe.remove_channel_files(D,L,T.channel_id,W);try{throw yield oe.servers[D][L].client.deleteStorageObjects(oe.servers[D][L].session,{object_ids:[{collection:"group_public",key:`group_${T.id}`}]}),"Remove group image well"}catch{throw"No group image found"}}catch{try{delete oe.groups[D][L][T.id],oe.save_groups_with_less_info()}catch{}try{let ue=localStorage.getItem("fallback_fs");if(!ue)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let Pe=ue.split("://"),Le=Pe.pop().split(":"),nt=Pe.pop();nt?nt+=":":nt=Le[0].replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")?"https:":"http:";let xe=`${nt}//${Le[0]}:${Le[1]||9002}/`;yield oe.global.remove_files_from_storage_with_key(xe,`${T.id}_${oe.servers[D][L].session.user_id}`)}catch{}try{let ue=`${T.server.useSSL?"https":"http"}://${T.server.address}`;yield oe.global.remove_files_from_storage_with_key(ue,`${T.id}_${oe.servers[D][L].session.user_id}`)}catch{}}try{U&&(yield oe.indexed.removeFileFromUserPath(`servers/${D}/${L}/groups/${T.id}.img`))}catch{}})()}remove_channel_files(T,D,L,U){try{this.servers[T][D].client.rpc(this.servers[T][D].session,"remove_channel_file",{collection:`file_${L.replace(/[.]/g,"_")}`,is_creator:U}).catch(oe=>{})}catch{}}get_group_list_from_server(T,D){this.groups[T]||(this.groups[T]={}),this.groups[T][D]||(this.groups[T][D]={}),this.servers[T][D].client.listUserGroups(this.servers[T][D].session,this.servers[T][D].session.user_id).then(L=>{for(let U=0,oe=L.user_groups.length;U<oe;U++)this.groups[T][D][L.user_groups[U].group.id]||(this.groups[T][D][L.user_groups[U].group.id]={},this.servers[T][D].client.readStorageObjects(this.servers[T][D].session,{object_ids:[{collection:"group_public",key:`group_${L.user_groups[U].group.id}`,user_id:L.user_groups[U].group.creator_id}]}).then(W=>{W.objects.length?(this.groups[T][D][L.user_groups[U].group.id].img=W.objects[0].value.img,this.indexed.saveTextFileToUserPath(W.objects[0].value.img,`servers/${T}/${D}/groups/${L.user_groups[U].group.id}.img`)):(delete this.groups[T][D][L.user_groups[U].group.id].img,this.indexed.removeFileFromUserPath(`servers/${T}/${D}/groups/${L.user_groups[U].group.id}.img`))}).catch(W=>{console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",W)}),this.groups[T][D][L.user_groups[U].group.id]={...this.groups[T][D][L.user_groups[U].group.id],...L.user_groups[U].group},this.groups[T][D][L.user_groups[U].group.id].status="online",this.servers[T][D].client.listGroupUsers(this.servers[T][D].session,L.user_groups[U].group.id).then(W=>{for(let ue=0,Pe=W.group_users.length;ue<Pe;ue++)W.group_users[ue].user.id==this.servers[T][D].session.user_id?W.group_users[ue].user.is_me=!0:(W.group_users[ue].user.img=null,this.save_other_user(W.group_users[ue].user,T,D)),W.group_users[ue].user=this.load_other_user(W.group_users[ue].user.id,T,D),this.add_group_user_without_duplicate(W.group_users[ue],L.user_groups[U].group.id,T,D)}).catch(W=>{console.error("\uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uac00\uc838\uc624\uae30 \uc624\ub958: ",W)})),this.join_chat_with_modulation(L.user_groups[U].group.id,3,T,D);this.save_groups_with_less_info()}).catch(L=>{console.error("\uc0ac\uc6a9\uc790 \uadf8\ub8f9 \uac00\uc838\uc624\uae30 \uc624\ub958: ",L)})}rearrange_group_list(T=!0){let D=[];return Object.keys(this.groups).forEach(U=>{Object.keys(this.groups[U]).forEach(W=>{Object.keys(this.groups[U][W]).forEach(Pe=>{try{this.groups[U][W][Pe].server=this.servers[U][W].info,D.push(this.groups[U][W][Pe])}catch{this.groups[U][W][Pe].server={name:this.lang.text.Nakama.DeletedServer,isOfficial:U,target:W},T&&D.push(this.groups[U][W][Pe])}})})}),D}set_group_statusBar(T,D,L){this.statusBar.groupServer[D][L]&&(this.statusBar.groupServer[D][L]=T),this.catch_group_server_header(T),this.StatusBarChangedCallback&&this.StatusBarChangedCallback()}count_channel_online_member(T,D,L){var U=this;return(0,j.A)(function*(){let oe="pending";try{if("offline"==U.statusBar.groupServer[D][L])throw"\uc11c\ubc84 \uc624\ud504\ub77c\uc778";if(T.group_id){if(U.groups[D][L][T.group_id]&&U.groups[D][L][T.group_id].users){let W=U.groups[D][L][T.group_id].users.length;if(1==W)oe=U.users.self.online?"online":"offline";else for(let ue=0;ue<W;ue++){let Pe=U.groups[D][L][T.group_id].users[ue].user.id||U.servers[D][L].session.user_id;if(Pe!=U.servers[D][L].session.user_id&&U.load_other_user(Pe,D,L).online){oe="online";break}}}}else if(T.user_id_one)if(U.channels_orig[D][L][T.channel_id||T.id]){let W=U.channels_orig[D][L][T.channel_id||T.id].redirect.id,ue=yield U.servers[D][L].client.getUsers(U.servers[D][L].session,[W]);Object.keys(ue.users[0]).forEach(Le=>{U.users[D][L][W][Le]=ue.users[0][Le]}),oe=U.load_other_user(W,D,L).online?"online":"pending"}else try{let W=yield U.join_chat_with_modulation(T.user_id_one!=U.servers[D][L].session.user_id?T.user_id_one:T.user_id_two,2,D,L);oe=U.load_other_user(U.channels_orig[D][L][W.id].redirect.id,D,L).online?"online":"pending"}catch(W){console.error(W)}}catch{oe="offline"==U.statusBar.groupServer[D][L]?"offline":"missing"}U.channels_orig[D][L][T.channel_id||T.id]||(U.channels_orig[D][L][T.channel_id||T.id]={}),"missing"!=U.channels_orig[D][L][T.channel_id||T.id].status&&(U.channels_orig[D][L][T.channel_id||T.id].status=oe)})()}remove_server(T,D){var L=this;return(0,j.A)(function*(){let U=yield L.loadingCtrl.create({message:L.lang.text.TodoDetail.WIP});U.present(),U.message=L.lang.text.Nakama.RemovingAccount;let oe=L.servers[T][D].info;try{let Pe=L.servers[T][D].session.user_id,Le=`${oe.useSSL?"https":"http"}://${oe.address}`;try{yield L.global.remove_files_from_storage_with_key(Le,Pe)}catch{}try{let nt=localStorage.getItem("fallback_fs");if(!nt)throw"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc11c\ubc84 \uc5c6\uc74c";let xe=nt.split("://"),Ue=xe.pop().split(":"),lt=xe.pop();lt?lt+=":":lt=Ue[0].replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")?"https:":"http:";let He=`${lt}//${Ue[0]}:${Ue[1]||9002}/`;yield L.global.remove_files_from_storage_with_key(He,Pe)}catch{}L.servers[T][D].client.rpc(L.servers[T][D].session,"remove_account_fn",{user_id:Pe}).catch(nt=>{})}catch{}if(U.message=L.lang.text.Nakama.LogoutAccount,"online"==L.statusBar.groupServer[T][D])try{L.servers[T][D].socket.disconnect(!0)}catch{L.link_group(T,D,!1)}U.message=L.lang.text.Nakama.RemovingNotification;try{delete L.noti_origin[T][D]}catch{}L.rearrange_notifications(),U.message=L.lang.text.Nakama.MissingChannels;try{let Pe=Object.keys(L.channels_orig[T][D]);L.channels_orig.deleted||(L.channels_orig.deleted={}),L.channels_orig.deleted[D]||(L.channels_orig.deleted[D]={}),Pe.forEach(Le=>{L.channels_orig[T][D][Le].info.status="missing",L.channels_orig[T][D][Le].status="missing",L.channels_orig.deleted[D][Le]=JSON.parse(JSON.stringify(L.channels_orig[T][D][Le]))}),delete L.channels_orig[T][D]}catch{}L.rearrange_channels();let W=yield L.indexed.GetFileListFromDB(`servers/${T}/${D}`);for(let Pe=0,Le=W.length;Pe<Le;Pe++){let nt=yield L.indexed.GetFileInfoFromDB(W[Pe]),xe=W[Pe].replace("/official/","/deleted/").replace(`/${T}/`,"/deleted/");yield L.indexed.saveFileToUserPath(nt,xe),yield L.indexed.removeFileFromUserPath(W[Pe]),U.message=`${L.lang.text.Nakama.MissingChannelFiles}: ${W[Pe]}`}U.message=L.lang.text.Nakama.MissingGroups;try{L.groups.deleted||(L.groups.deleted={}),L.groups.deleted[D]||(L.groups.deleted[D]={}),L.groups.deleted[D]=JSON.parse(JSON.stringify(L.groups[T][D])),Object.keys(L.groups.deleted[D]).forEach(Le=>{L.groups.deleted[D][Le].server.name=L.lang.text.Nakama.DeletedServer,L.groups.deleted[D][Le].server.isOfficial="deleted",L.groups.deleted[D][Le].status="missing",L.groups.deleted[D][Le]=JSON.parse(JSON.stringify(L.groups[T][D][Le]))}),delete L.groups[T][D]}catch{}U.message=L.lang.text.Nakama.DeletingServerInfo,L.set_group_statusBar("offline",T,D),delete L.statusBar.groupServer[T][D],yield L.RemoveWebRTCServer(L.servers[T][D].info.address),delete L.servers[T][D],L.save_groups_with_less_info(),L.indexed.saveTextFileToUserPath(JSON.stringify(L.statusBar.groupServer),"servers/list.json");let ue=yield L.indexed.loadTextFromUserPath("servers/list_detail.csv");if(ue){let Pe=ue.split("\n");for(let Le=0,nt=Pe.length;Le<nt;Le++)if(Pe[Le].split(",")[3]==D){Pe.splice(Le,1);break}L.indexed.saveTextFileToUserPath(Pe.join("\n"),"servers/list_detail.csv")}L.noti.ClearNoti(9),U.dismiss()})()}check_if_online(){this.get_all_server_info(!0,!0)}connect_to(T="official",D="default",L){var U=this;this.servers[T][D].socket.connect(this.servers[T][D].session,!0).then(oe=>{let W=this.servers[T][D].socket;Object.keys(this.on_socket_connected).forEach(Pe=>this.on_socket_connected[Pe]()),W.onnotification=Pe=>{this.act_on_notification(Pe,T,D),this.rearrange_notifications()},W.onmatchpresence=Pe=>{void 0!==Pe.joins?Pe.joins.forEach(Le=>{}):void 0!==Pe.leaves&&Pe.leaves.forEach(Le=>{this.servers[T][D].session.user_id==Le.user_id&&this.WebRTCService&&"data"==this.WebRTCService.TypeIn&&this.WebRTCService.close_webrtc(!1,!0)})},W.onchannelpresence=Pe=>{if(void 0!==Pe.joins)Pe.joins.forEach(Le=>{this.servers[T][D].session.user_id!=Le.user_id&&(this.load_other_user(Le.user_id,T,D).online=!0)}),this.count_channel_online_member(Pe,T,D);else if(void 0!==Pe.leaves){let Le=[];Pe.leaves.forEach(nt=>{this.servers[T][D].session.user_id!=nt.user_id&&this.servers[T][D].client.getUsers(this.servers[T][D].session,[nt.user_id]).then(xe=>{let Ue=Object.keys(xe.users[0]);delete this.load_other_user(nt.user_id,T,D).online,Ue.forEach(lt=>{this.users[T][D][nt.user_id][lt]=xe.users[0][lt]}),Le.push(nt.user_id),Le.forEach(lt=>this.load_other_user(lt,T,D)),this.count_channel_online_member(Pe,T,D),this.socket_reactive.WEBRTC_CHECK_ONLINE&&this.socket_reactive.WEBRTC_CHECK_ONLINE(nt)})})}this.socket_reactive["others-online"]&&this.socket_reactive["others-online"]()},W.onmatchdata=function(){var Pe=(0,j.A)(function*(Le){switch(Le.data_str=decodeURIComponent((new TextDecoder).decode(Le.data)),Le.op_code){case An.MANAGE_TODO:{let nt=Le.data_str.split(",");switch(nt[0]){case"add":U.servers[T][D].client.readStorageObjects(U.servers[T][D].session,{object_ids:[{collection:nt[1],key:nt[2],user_id:U.servers[T][D].session.user_id}]}).then(function(){var lt=(0,j.A)(function*(He){if(He.objects.length){try{let sn,kt=He.objects[0].value;try{if(sn=yield U.indexed.loadTextFromUserPath(`todo/${kt.id}_${T}_${D}/info.todo`),!sn)throw"empty"}catch{sn=yield U.indexed.loadTextFromUserPath(`todo/${kt.id}/info.todo`)}let mn=JSON.parse(sn);U.removeRegisteredId(mn.noti_id),U.noti.ClearNoti(mn.noti_id)}catch{}yield U.modify_remote_info_as_local(He.objects[0].value,T,D);let yt=He.objects[0].value;U.noti.ClearNoti(yt.noti_id),U.set_todo_notification(yt),U.p5toast.show({text:`${U.lang.text.Main.RequestTodo}: ${yt.title}`})}});return function(He){return lt.apply(this,arguments)}}());break;case"done":U.indexed.loadTextFromUserPath(`todo/${nt[1]}_${T}_${D}/info.todo`,function(){var lt=(0,j.A)(function*(He,yt){if(He&&yt){let kt=JSON.parse(yt);kt.done=!0,yield U.modify_remote_info_as_local(kt,T,D),U.indexed.GetFileListFromDB(`todo/${kt.id}`,sn=>{sn.forEach(mn=>U.indexed.removeFileFromUserPath(mn)),kt.noti_id&&("DesktopPWA"==ot.aH||"MobilePWA"==ot.aH)&&(clearTimeout(U.web_noti_id[kt.noti_id]),delete U.web_noti_id[kt.noti_id]),U.removeRegisteredId(kt.noti_id),U.noti.ClearNoti(kt.noti_id),U.SyncTodoCounter(T,D)})}else U.indexed.loadTextFromUserPath(`todo/${nt[1]}/info.todo`,function(){var kt=(0,j.A)(function*(sn,mn){if(sn&&mn){let Tn=JSON.parse(mn);Tn.done=!0,yield U.modify_remote_info_as_local(Tn,T,D),U.indexed.GetFileListFromDB(`todo/${Tn.id}`,Kn=>{Kn.forEach(tr=>U.indexed.removeFileFromUserPath(tr)),Tn.noti_id&&("DesktopPWA"==ot.aH||"MobilePWA"==ot.aH)&&(clearTimeout(U.web_noti_id[Tn.noti_id]),delete U.web_noti_id[Tn.noti_id]),U.removeRegisteredId(Tn.noti_id),U.noti.ClearNoti(Tn.noti_id),U.SyncTodoCounter(T,D)})}});return function(sn,mn){return kt.apply(this,arguments)}}())});return function(He,yt){return lt.apply(this,arguments)}}());break;case"delete":U.indexed.loadTextFromUserPath(`todo/${nt[1]}_${T}_${D}/info.todo`,(lt,He)=>{if(lt&&He){let yt=JSON.parse(He);U.indexed.GetFileListFromDB(`todo/${yt.id}`,kt=>{kt.forEach(sn=>U.indexed.removeFileFromUserPath(sn)),yt.noti_id&&("DesktopPWA"==ot.aH||"MobilePWA"==ot.aH)&&(clearTimeout(U.web_noti_id[yt.noti_id]),delete U.web_noti_id[yt.noti_id]),U.removeRegisteredId(yt.noti_id),U.noti.ClearNoti(yt.noti_id),U.global.p5todo&&U.global.p5todo.remove_todo&&U.global.p5todo.remove_todo(JSON.stringify(yt))}),U.SyncTodoCounter(T,D)}else U.indexed.loadTextFromUserPath(`todo/${nt[1]}/info.todo`,(yt,kt)=>{if(yt&&kt){let sn=JSON.parse(kt);U.indexed.GetFileListFromDB(`todo/${sn.id}`,mn=>{mn.forEach(Tn=>U.indexed.removeFileFromUserPath(Tn)),sn.noti_id&&("DesktopPWA"==ot.aH||"MobilePWA"==ot.aH)&&(clearTimeout(U.web_noti_id[sn.noti_id]),delete U.web_noti_id[sn.noti_id]),U.removeRegisteredId(sn.noti_id),U.noti.ClearNoti(sn.noti_id),U.global.p5todo&&U.global.p5todo.remove_todo&&U.global.p5todo.remove_todo(JSON.stringify(sn))}),U.SyncTodoCounter(T,D)}})});break;case"worker":let xe="true"==nt[3];U.AddTodoManageUpdateAct&&U.AddTodoManageUpdateAct(nt[1],nt[2],xe,Number(nt[4])),U.p5toast.show({text:`${xe?U.lang.text.Main.WorkerAbandon:U.lang.text.Main.WorkerDone}: ${U.users[T][D][nt[2]].display_name}`}),U.indexed.loadTextFromUserPath(`todo/${nt[1]}_${T}_${D}/info.todo`,function(){var lt=(0,j.A)(function*(He,yt){if(He&&yt){let kt=JSON.parse(yt);for(let sn=0,mn=kt.workers.length;sn<mn;sn++)if((kt.workers[sn].user_id||kt.workers[sn].id)==nt[2]){kt.workers[sn].isDelete="true"==nt[3],kt.workers[sn].timestamp=Number(nt[4]);break}yield U.modify_remote_info_as_local(kt,T,D),U.SyncTodoCounter(T,D)}else U.indexed.loadTextFromUserPath(`todo/${nt[1]}/info.todo`,function(){var kt=(0,j.A)(function*(sn,mn){if(sn&&mn){let Tn=JSON.parse(mn);for(let Kn=0,tr=Tn.workers.length;Kn<tr;Kn++)if((Tn.workers[Kn].user_id||Tn.workers[Kn].id)==nt[2]){Tn.workers[Kn].isDelete="true"==nt[3],Tn.workers[Kn].timestamp=Number(nt[4]);break}yield U.modify_remote_info_as_local(Tn,T,D),U.SyncTodoCounter(T,D)}});return function(sn,mn){return kt.apply(this,arguments)}}())});return function(He,yt){return lt.apply(this,arguments)}}());break;default:console.log("\ub4f1\ub85d\ub418\uc9c0 \uc54a\uc740 \ud560 \uc77c \ud589\ub3d9: ",Le)}U.SyncTodoCounter(T,D)}break;case An.EDIT_PROFILE:switch(Le.data_str){case"info":U.servers[T][D].client.getAccount(U.servers[T][D].session).then(nt=>{Object.keys(nt.user).forEach(Ue=>U.users.self[Ue]=nt.user[Ue]),U.save_self_profile()});break;case"image":U.servers[T][D].client.readStorageObjects(U.servers[T][D].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:U.servers[T][D].session.user_id}]}).then(nt=>{nt.objects.length?(U.indexed.saveTextFileToUserPath(JSON.stringify(nt.objects[0].value.img),"servers/self/profile.img"),U.users.self.img=nt.objects[0].value.img.replace(/"|=|\\/g,"")):U.indexed.removeFileFromUserPath("servers/self/profile.img")});break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ud504\ub85c\ud544 \ub3d9\uae30\ud654 \uc815\ubcf4: ",Le)}break;case An.ADD_CHANNEL:U.get_group_list_from_server(T,D);break;case An.WEBRTC_INIT_REQ_SIGNAL:(U.WebRTCService&&"data"==U.WebRTCService.TypeIn||U.servers[T][D].session.user_id!=Le.presence.user_id)&&U.socket_reactive.WEBRTC_INIT_REQ_SIGNAL&&U.socket_reactive.WEBRTC_INIT_REQ_SIGNAL();break;case An.WEBRTC_REPLY_INIT_SIGNAL:(U.WebRTCService&&"data"==U.WebRTCService.TypeIn||U.servers[T][D].session.user_id!=Le.presence.user_id)&&U.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL&&U.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL(Le.data_str);break;case An.WEBRTC_RECEIVE_ANSWER:(U.WebRTCService&&"data"==U.WebRTCService.TypeIn||U.servers[T][D].session.user_id!=Le.presence.user_id)&&U.socket_reactive.WEBRTC_RECEIVE_ANSWER&&U.socket_reactive.WEBRTC_RECEIVE_ANSWER(Le.data_str);break;case An.WEBRTC_ICE_CANDIDATES:(U.WebRTCService&&"data"==U.WebRTCService.TypeIn||U.servers[T][D].session.user_id!=Le.presence.user_id)&&U.socket_reactive.WEBRTC_ICE_CANDIDATES&&U.socket_reactive.WEBRTC_ICE_CANDIDATES(Le.data_str);break;case An.WEBRTC_NEGOCIATENEEDED:(U.WebRTCService&&"data"==U.WebRTCService.TypeIn||U.servers[T][D].session.user_id!=Le.presence.user_id)&&U.socket_reactive.WEBRTC_NEGOCIATENEEDED&&U.socket_reactive.WEBRTC_NEGOCIATENEEDED(Le.data_str);break;case An.WEBRTC_RECEIVED_CALL_SELF:U.WebRTCService&&"data"!=U.WebRTCService.TypeIn&&U.socket_reactive.WEBRTC_RECEIVED_CALL_SELF&&U.socket_reactive.WEBRTC_RECEIVED_CALL_SELF();break;case An.WEBRTC_HANGUP:(U.WebRTCService&&"data"==U.WebRTCService.TypeIn||U.servers[T][D].session.user_id!=Le.presence.user_id)&&U.WebRTCService&&(yield U.WebRTCService.close_webrtc(),U.VoidDrawInitCallBack=void 0);break;case An.VOIDDRAW_INIT:(U.WebRTCService&&"data"==U.WebRTCService.TypeIn||U.servers[T][D].session.user_id!=Le.presence.user_id)&&U.WebRTCService&&U.VoidDrawInitCallBack&&U.VoidDrawInitCallBack(JSON.parse(Le.data_str));break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ub3d9\uae30\ud654 \uc815\ubcf4: ",Le)}});return function(Le){return Pe.apply(this,arguments)}}(),W.onchannelmessage=Pe=>{this.channels_orig[T][D][Pe.channel_id]?(this.update_from_channel_msg(Pe,T,D),Pe.content.match&&Pe.sender_id!=this.servers[T][D].session.user_id&&this.JoinWebRTCMatch(Pe,T,D,this.channels_orig[T][D][Pe.channel_id])):Pe.user_id_one?this.join_chat_with_modulation(Pe.sender_id,2,T,D):Pe.group_id&&this.join_chat_with_modulation(Pe.group_id,3,T,D)},W.ondisconnect=Pe=>{W.onnotification=null,W.onmatchpresence=null,W.onchannelpresence=null,W.onmatchdata=null,W.onchannelmessage=null,W.ondisconnect=null,this.OnSocketDisconnect(T,D)},L(W)})}OnSocketDisconnect(T,D){this.link_group(T,D,!1),Object.keys(this.on_socket_disconnected).forEach(U=>this.on_socket_disconnected[U]())}saveListedMessage(T,D,L,U){let oe={},W=JSON.parse(JSON.stringify(T));for(;W.length;){oe.target!=W[0].msgDate&&(oe.msg&&this.saveMessageByDate(oe,D,L,U),oe.target=W[0].msgDate,oe.msg=[]);let ue=W.shift();delete ue.content.text,delete ue.content.img,delete ue.content.local_comp,delete ue.content.path,delete ue.msgDate,delete ue.displayDate,delete ue.msgTime,delete ue.isLastRead,delete ue.showInfo,oe.msg.push(ue)}this.saveMessageByDate(oe,D,L,U)}saveMessageByDate(T,D,L,U){if(!T.msg||!T.msg.length)return;let oe=JSON.parse(JSON.stringify(T)),W=oe.target.split("-");this.indexed.loadTextFromUserPath(`servers/${L}/${U}/channels/${D.id}/chats/${W[0]}/${W[1]}/${W[2]}`,(ue,Pe)=>{let Le=[],nt=[];ue&&Pe&&(Le=JSON.parse(Pe)),oe.msg.forEach(Ue=>{let lt=!1;for(let He=0,yt=Le.length;He<yt;He++)if(Le[He].message_id==Ue.message_id){lt=!0,Le[He]=Ue;break}lt||nt.push(Ue)});let xe=[...Le,...nt];xe.sort((Ue,lt)=>Ue.create_time<lt.create_time?-1:Ue.create_time>lt.create_time?1:0),this.indexed.saveTextFileToUserPath(JSON.stringify(xe),`servers/${L}/${U}/channels/${D.id}/chats/${W[0]}/${W[1]}/${W[2]}`)})}CatchQouteMsgUserName(T,D,L){if(T.content.qoute)try{if("local"==T.content.qoute.user_id)throw"\ub85c\uceec \uba54\uc2dc\uc9c0";T.content.qoute.username=this.users[D][L][T.content.qoute.user_id].display_name}catch{T.content.qoute.username=this.users.self.display_name}}ModulateTimeDate(T){let D=new Date(T.create_time),L=D.toLocaleDateString(this.lang.lang);T.displayDate=L,T.msgDate=`${D.getFullYear()}-${("00"+(D.getMonth()+1)).slice(-2)}-${("00"+D.getDate()).slice(-2)}`,T.msgTime=`${("00"+D.getHours()).slice(-2)}:${("00"+D.getMinutes()).slice(-2)}`}join_chat_with_modulation(T,D,L,U,oe=!1){var W=this;return(0,j.A)(function*(){W.channels_orig[L][U]||(W.channels_orig[L][U]={});let ue=yield W.servers[L][U].socket.joinChat(T,D,!0,!1);try{switch(ue.redirect={id:T,type:D,persistence:!0},ue.server={isOfficial:L,target:U},D){case 2:ue.title=W.load_other_user(T,L,U).display_name,ue.info=W.load_other_user(T,L,U);break;case 3:ue.title=W.groups[L][U][T].name,ue.info=W.groups[L][U][T],W.groups[L][U][T].channel_id=ue.id,W.save_groups_with_less_info();break;default:console.error("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uc815\ubcf4: ",D)}try{W.channels_orig[L][U][ue.id].status="offline"}catch{}if(yield W.add_channels(ue,L,U),!W.opened_page_info.channel||W.opened_page_info.channel.isOfficial!=L||W.opened_page_info.channel.target!=U||W.opened_page_info.channel.id!=ue.id)try{let Pe=yield W.servers[L][U].client.listChannelMessages(W.servers[L][U].session,ue.id,1,!1);Pe.messages.length&&W.update_from_channel_msg(Pe.messages[0],L,U,oe)}catch(Pe){console.error("\ub9c8\uc9c0\ub9c9 \uba54\uc2dc\uc9c0 \ubc1b\uc544\uc11c \uc5c5\ub370\uc774\ud2b8 \uc624\ub958: ",Pe)}return W.count_channel_online_member(ue,L,U),W.save_groups_with_less_info(),ue}catch(Pe){let Le="";throw Le=3===Pe.code?W.lang.text.Nakama.AddChannelFailed_Code3:Pe.message,W.p5toast.show({text:`${W.lang.text.Nakama.AddChannelFailed}: ${Le}`}),`${W.lang.text.Nakama.AddChannelFailed}: ${Le}`}})()}update_from_channel_msg(T,D,L,U=!1){var oe=this;return(0,j.A)(function*(){let W=T.sender_id==oe.servers[D][L].session.user_id,ue=T.message_id!=oe.channels_orig[D][L][T.channel_id].last_comment_id,Pe=oe.modulation_channel_message(T,D,L),Le=!1;switch(Pe.code){case 0:Pe.content.gupdate&&(oe.update_group_info(Pe,D,L),Le=!0),Pe.content.user_update&&(oe.update_group_user_info(Pe,D,L),Le=!0),ue&&!Le&&(oe.channels_orig[D][L][T.channel_id].is_new=!W,oe.subscribe_lock||(oe.has_new_channel_msg=!W));break;case 1:case 2:break;case 3:case 4:case 5:case 6:if(oe.socket_reactive.group_detail&&oe.socket_reactive.group_detail.update_GroupUsersList(D,L),3==Pe.code||4==Pe.code)break;if(oe.noti_origin[D]&&oe.noti_origin[D][L]){let xe=Object.keys(oe.noti_origin[D][L]),Ue=[];xe.forEach(lt=>{-5==oe.noti_origin[D][L][lt].code&&oe.noti_origin[D][L][lt].sender_id==Pe.sender_id&&Ue.push(lt)});try{(yield oe.servers[D][L].client.deleteNotifications(oe.servers[D][L].session,Ue))||console.log("\uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \uc54c\ub9bc \uc0ad\uc81c \ud6c4 \uc624\ub958"),oe.update_notifications(D,L)}catch(lt){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",lt)}}W&&(oe.channels_orig[D][L][Pe.channel_id].status="missing",delete oe.channels_orig[D][L][Pe.channel_id].info);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \ucc44\ub110 \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",Pe)}if(!W&&ue&&!Le){let xe={id:oe.channels_orig[D][L][T.channel_id].cnoti_id,title:oe.channels_orig[D][L][T.channel_id].info.name||oe.channels_orig[D][L][T.channel_id].info.display_name||oe.channels_orig[D][L][T.channel_id].title||oe.lang.text.Subscribes.noTitiedChat,body:Pe.content.msg||Pe.content.noti||(Pe.content.match?oe.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||`(${oe.lang.text.ChatRoom.attachments})`,extra_ln:{type:"ChatRoomPage",id:T.channel_id,isOfficial:D,target:L},group_ln:"diychat",smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"};Pe.content.url&&Pe.content.type&&0==Pe.content.type.indexOf("image/")&&(xe.image=Pe.content.url),oe.noti.PushLocal(xe,oe.channels_orig[D][L][T.channel_id].cnoti_id,Ue=>{oe.go_to_chatroom_without_admob_act(oe.channels_orig[D][L][T.channel_id])})}W&&oe.noti.ClearNoti(oe.channels_orig[D][L][T.channel_id].cnoti_id),oe.ModulateTimeDate(Pe),oe.check_sender_and_show_name(Pe,D,L);let nt=T.content.msg;oe.content_to_hyperlink(Pe),!U&&oe.channels_orig[D][L][Pe.channel_id].update&&oe.channels_orig[D][L][Pe.channel_id].update(Pe),Le||(oe.channels_orig[D][L][T.channel_id].last_comment_time=T.update_time,oe.channels_orig[D][L][Pe.channel_id].last_comment_id=Pe.message_id),oe.saveListedMessage([Pe],oe.channels_orig[D][L][Pe.channel_id],D,L),Le||2!=Pe.code&&(oe.channels_orig[D][L][Pe.channel_id].last_comment=(Pe.content.filename?`(${oe.lang.text.ChatRoom.attachments}) `:"")+(nt||Pe.content.noti||(Pe.content.match?oe.lang.text.ChatRoom.JoinWebRTCMatch:void 0)||"")),oe.rearrange_channels()})()}rearrange_posts(){this.posts.length=0;let T=Object.keys(this.posts_orig);for(let D=0,L=T.length;D<L;D++){let U=Object.keys(this.posts_orig[T[D]]);for(let oe=0,W=U.length;oe<W;oe++){let ue=Object.keys(this.posts_orig[T[D]][U[oe]]);for(let Pe=0,Le=ue.length;Pe<Le;Pe++){let nt=Object.keys(this.posts_orig[T[D]][U[oe]][ue[Pe]]);for(let xe=0,Ue=nt.length;xe<Ue;xe++)this.posts.push(this.posts_orig[T[D]][U[oe]][ue[Pe]][nt[xe]])}}}this.posts.sort((D,L)=>D.create_time<L.create_time?1:D.create_time>L.create_time?-1:0)}EditPost(T){this.CommunityGoToEditPost&&this.CommunityGoToEditPost(T),this.socket_reactive.try_load_post&&this.socket_reactive.try_load_post()}RemovePost(T,D=!1){var L=this;return(0,j.A)(function*(){let U,oe=T.server.isOfficial,W=T.server.target;D||(U=yield L.loadingCtrl.create({message:L.lang.text.PostViewer.RemovePost}));let ue=yield L.indexed.GetFileListFromDB(`servers/${oe}/${W}/posts/${T.creator_id}/${T.id}`);U&&U.present();for(let Pe=0,Le=ue.length;Pe<Le;Pe++)U&&(U.message=`${L.lang.text.PostViewer.RemovePost}: ${ue[Pe]}`),yield L.indexed.removeFileFromUserPath(ue[Pe]);if(T.OutSource&&(yield L.global.remove_file_from_storage(T.OutSource)),T.attachments)for(let Pe=0,Le=T.attachments.length;Pe<Le;Pe++)try{if(U&&(U.message=`${L.lang.text.PostViewer.RemovePost}: ${T.attachments[Pe].filename}`),T.attachments[Pe].url)yield L.global.remove_file_from_storage(T.attachments[Pe].url);else try{T.server.local||(yield L.sync_remove_file(`${T.id}_attach_${Pe}`,oe,W,"server_post","",`${T.id}_attach_${Pe}`))}catch{}}catch{}if(T.mainImage)try{if(T.mainImage.url)yield L.global.remove_file_from_storage(T.mainImage.url);else try{T.server.local||(yield L.sync_remove_file(`${T.id}_mainImage`,oe,W,"server_post","",`${T.id}_mainImage`))}catch{}}catch{}try{T.server.local||(yield L.sync_remove_file(T.id,oe,W,"server_post","",`${T.id}`))}catch{}U&&U.dismiss();try{delete L.posts_orig[oe][W][T.creator_id][T.id]}catch{}if(L.rearrange_posts(),L.socket_reactive.try_load_post&&L.socket_reactive.try_load_post(),!D)try{yield L.servers[oe][W].client.rpc(L.servers[oe][W].session,"send_noti_all_fn",{noti_id:An.MANAGE_POST,type:"remove",user_id:T.creator_id,post_id:T.id,persistent:!1})}catch{}})()}JoinWebRTCMatch(T,D,L,U){var oe=this;return(0,j.A)(function*(){try{try{oe.WebRTCService.CurrentMatch=yield oe.servers[D][L].socket.joinMatch(T.content.match)}catch(W){throw W}oe.WebRTCService&&(yield oe.WebRTCService.initialize("audio",void 0,{isOfficial:D,target:L,channel_id:U.id,user_id:U.info.id||U.info.user_id},!1)),yield oe.servers[D][L].socket.sendMatchState(T.content.match,An.WEBRTC_INIT_REQ_SIGNAL,encodeURIComponent(""))}catch(W){4===W.code?oe.p5toast.show({text:oe.lang.text.ChatRoom.MatchExpiration}):(console.log("\ucc38\uc5ec \uc2e4\ud328: ",W),oe.p5toast.show({text:`${oe.lang.text.ChatRoom.JoinMatchFailed}: ${W}`}))}})()}content_to_hyperlink(T){if(!T.content.msg||"object"==typeof T.content.msg)return;let D=T.content.msg.split("\n");T.content.msg=[],D.forEach(L=>{let U={text:L};L&&T.content.msg.push([U]);try{let oe=U.text.match(/[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6D5}-\u{1F6D7}\u{1F6DC}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6FC}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1F9FF}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA88}\u{1FA90}-\u{1FABD}\u{1FABF}-\u{1FAC5}\u{1FACE}-\u{1FADB}\u{1FAE0}-\u{1FAE8}\u{1FAF0}-\u{1FAF8}]+/gu)[0].replace(/[0-9]/g,"");U.text.length==oe.length&&(U.size=48)}catch{}});for(let L=0,U=T.content.msg.length;L<U;L++)if(T.content.msg[L][0].text){let oe=T.content.msg[L][0].text.indexOf("http://");if(oe<0&&(oe=T.content.msg[L][0].text.indexOf("https://")),oe>=0){let ue,W=[];0!=oe&&(ue=T.content.msg[L][0].text.substring(0,oe),W.push({text:ue}));let nt,xe,Pe=T.content.msg[L][0].text.substring(oe),Le=Pe.indexOf(" ");Le<0?(nt=Pe,W.push({text:nt,href:!0})):(nt=Pe.substring(0,Le),W.push({text:nt,href:!0}),xe=Pe.substring(Le),W.push({text:xe})),T.content.msg[L]=W}}}check_sender_and_show_name(T,D,L){try{T.color=(T.sender_id.replace(/[^5-79a-b]/g,"")+"abcdef").substring(0,6),T.sender_id==this.servers[D][L].session.user_id?(T.user_display_name=this.users.self.display_name,T.is_me=!0):T.user_display_name=this.load_other_user(T.sender_id,D,L).display_name,T.user_display_name=T.user_display_name||this.lang.text.Profile.noname_user}catch(U){console.log("\ubc1c\uc2e0\uc790 \uccb4\ud06c \uc624\ub958: ",U)}}modulation_channel_message(T,D,L){this.translate_updates(T);let oe,U=!1;try{U=T.sender_id==this.servers[D][L].session.user_id}catch{U=T.content.user_update}try{oe=U?this.users.self:this.load_other_user(T.sender_id,D,L)}catch{oe=this.users.self}switch(T.code){case 0:if(T.content.filename){try{T.content.transfer_index=this.OnTransfer[D][L][T.channel_id][T.message_id]}catch{}try{this.OnTransferMessage[T.message_id]=T}catch{}}break;case 1:case 2:break;case 3:case 4:T.content.user_update=oe,T.content.noti=`${this.lang.text.Nakama.GroupUserJoin}: ${oe.display_name}`,setTimeout(()=>{this.count_channel_online_member(T,D,L)},50);break;case 5:T.content.user_update=oe,T.content.noti=`${this.lang.text.Nakama.GroupUserOut}: ${oe.display_name}`,setTimeout(()=>{this.count_channel_online_member(T,D,L)},50);break;case 6:T.content.user_update=oe,T.content.noti=`${this.lang.text.Nakama.GroupUserKick}: ${oe.display_name}`,setTimeout(()=>{this.count_channel_online_member(T,D,L)},50);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uba54\uc2dc\uc9c0 \ucf54\ub4dc: ",T)}return T}update_group_info(T,D,L){switch(this.translate_updates(T),T.content.gupdate){case"remove":case"force_remove":this.groups[D][L][T.group_id].status="missing",this.save_groups_with_less_info(),this.channels_orig[D][L][T.channel_id].status="missing",this.servers[D][L].socket.leaveChat(T.channel_id);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \ud589\ub3d9: ",T)}}translate_updates(T){if(T.content.user_update)switch(T.content.user_update){case"modify_data":T.content.noti=`${this.lang.text.Profile.user_profile_changed}${T.content.noti_form}`;break;case"modify_img":T.content.noti=`${this.lang.text.Profile.user_image_changed}${T.content.noti_form}`}if(T.content.gupdate)switch(T.content.gupdate){case"remove":T.content.noti=this.lang.text.GroupDetail.GroupRemoved;break;case"force_remove":T.content.noti=this.lang.text.GroupDetail.GroupForceRemoved}}update_group_user_info(T,D,L){var U=this;return(0,j.A)(function*(){if(U.translate_updates(T),U.servers[D][L].session.user_id!=T.sender_id)switch(T.content.user_update){case"modify_data":try{let oe=yield U.servers[D][L].client.getUsers(U.servers[D][L].session,[T.sender_id]);oe.users.length?U.save_other_user(oe.users[0],D,L):(delete U.users[D][L][T.sender_id],U.indexed.removeFileFromUserPath(`servers/${D}/${L}/users/${T.sender_id}/profile.json`))}catch(oe){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc815\ubcf4 \ubcc0\uacbd \uc624\ub958: ",oe)}break;case"modify_img":try{let oe=yield U.servers[D][L].client.readStorageObjects(U.servers[D][L].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:T.sender_id}]});if(oe.objects.length)try{if(U.servers[D][L].session.user_id==T.sender_id)throw"me";U.load_other_user(T.sender_id,D,L).img=oe.objects[0].value.img.replace(/"|\\|=/g,""),U.indexed.saveTextFileToUserPath(U.users[D][L][T.sender_id].img,`servers/${D}/${L}/users/${T.sender_id}/profile.img`)}catch{U.users.self.img=oe.objects[0].value.img.replace(/"|\\|=/g,""),yield U.indexed.saveTextFileToUserPath(U.users.self.img,"servers/self/profile.img")}else try{if(U.servers[D][L].session.user_id==T.sender_id)throw"me";delete U.users[D][L][T.sender_id].img,U.indexed.removeFileFromUserPath(`servers/${D}/${L}/users/${T.sender_id}/profile.img`)}catch{delete U.users.self.img}}catch(oe){console.error("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd \uc624\ub958: ",oe)}break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uadf8\ub8f9 \uc0ac\uc6a9\uc790 \ud589\ub3d9: ",T)}})()}check_notifications(T,D,L){var U=this;return(0,j.A)(function*(){let oe=U.servers[D][L];switch(T.code){case 0:case-2:break;case 1:let W=`<img src="${decodeURIComponent(T.content.uri)}" alt="noti_image" style="border-radius: 2px">`,ue=`<div>${decodeURIComponent(U.global.HTMLEncode(T.content.msg))}</div>`;U.alertCtrl.create({header:U.servers[D][L].info.name,message:new bt.Vk(T.content.uri?W+ue:ue),buttons:[{text:U.lang.text.Nakama.LocalNotiOK,handler:(Le=(0,j.A)(function*(){try{yield U.servers[D][L].client.deleteNotifications(U.servers[D][L].session,[T.id])}catch{}U.noti.ClearNoti(T.code),U.update_notifications(D,L)}),function(){return Le.apply(this,arguments)})}]}).then(Le=>Le.present());break;case-1:case-3:case-4:case-6:U.noti.ClearNoti(T.code);try{(yield oe.client.deleteNotifications(oe.session,[T.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),U.update_notifications(D,L)}catch(Le){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",Le)}break;case-5:try{let Le=yield oe.client.getUsers(oe.session,[T.sender_id]);if(Le.users.length){let nt="";nt+=`${U.lang.text.Nakama.ReqContServer}: ${T.server.name}<br>`,nt+=`${U.lang.text.Nakama.ReqContUserName}: ${Le.users[0].display_name}`,U.alertCtrl.create({header:U.lang.text.Nakama.ReqContTitle,message:nt,buttons:[{text:U.lang.text.Nakama.ReqContAccept,handler:(xe=(0,j.A)(function*(){try{(yield oe.client.addGroupUsers(oe.session,T.content.group_id,[Le.users[0].id]))||console.log("\ubc34\uc778 \uacbd\uc6b0\uc778 \uac83 \uac19\uc74c, \ud655\uc778 \ud544\uc694"),U.noti.ClearNoti(T.code);try{let lt=yield oe.client.deleteNotifications(oe.session,[T.id]);lt?U.update_notifications(D,L):console.log("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",lt)}catch(lt){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",lt)}}catch(Ue){console.error("\uadf8\ub8f9\uc5d0 \uc0ac\uc6a9\uc790 \ucd94\uac00 \uc624\ub958: ",Ue)}}),function(){return xe.apply(this,arguments)})},{text:U.lang.text.Nakama.ReqContReject,handler:function(){var xe=(0,j.A)(function*(){try{(yield oe.client.kickGroupUsers(oe.session,T.content.group_id,[Le.users[0].id]))||console.log("\uadf8\ub8f9 \ucc38\uc5ec \uac70\uc808\uc744 kick\ud55c \uacbd\uc6b0 \uc624\ub958"),yield oe.client.deleteNotifications(oe.session,[T.id]),U.update_notifications(D,L)}catch(Ue){console.error("\uc0ac\uc6a9\uc790 \uac15\ud1f4 \uc624\ub958: ",Ue)}});return function(){return xe.apply(this,arguments)}}(),cssClass:"redfont"}]}).then(xe=>xe.present())}else try{(yield oe.client.deleteNotifications(oe.session,[T.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),U.p5toast.show({text:U.lang.text.Nakama.UserNotFound}),U.update_notifications(D,L)}catch(nt){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",nt)}}catch(Le){console.error("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \ubc1b\uc544\uc624\uae30 \uc624\ub958: ",Le)}break;case-7:U.LoginAgain(U.noti_origin,D,L);break;default:console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \uad6c\ubd84: ",T.code);try{yield U.servers[D][L].client.deleteNotifications(U.servers[D][L].session,[T.id])}catch{}U.update_notifications(D,L)}var xe,Le})()}act_on_notification(T,D,L){var U=this;return(0,j.A)(function*(){let oe=!1;switch(T.server=U.servers[D][L].info,T.code){case 404:U.remove_server(D,L);break;case An.USER_PROFILE_CHANGED:break;case An.USER_PROFILE_IMAGE_CHANGED:try{if(!U.users[D][L][T.content.user_id])throw"\ubaa8\ub974\ub294 \uc0ac\ub78c";let nt=yield U.servers[D][L].client.readStorageObjects(U.servers[D][L].session,{object_ids:[{collection:"user_public",key:"profile_image",user_id:T.content.user_id}]});if(nt.objects.length)try{if(U.servers[D][L].session.user_id==T.content.user_id)throw"me";U.load_other_user(T.content.user_id,D,L).img=nt.objects[0].value.img.replace(/"|\\|=/g,""),U.indexed.saveTextFileToUserPath(U.users[D][L][T.content.user_id].img,`servers/${D}/${L}/users/${T.content.user_id}/profile.img`)}catch{U.users.self.img=nt.objects[0].value.img.replace(/"|\\|=/g,""),yield U.indexed.saveTextFileToUserPath(U.users.self.img,"servers/self/profile.img")}else try{if(U.servers[D][L].session.user_id==T.content.user_id)throw"me";delete U.users[D][L][T.content.user_id].img,U.indexed.removeFileFromUserPath(`servers/${D}/${L}/users/${T.content.user_id}/profile.img`)}catch{delete U.users.self.img}}catch(nt){console.log("\ub2e4\ub978 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \ubcc0\uacbd \uc624\ub958: ",nt)}return;case An.MANAGE_POST:switch(T.content.type){case"add":try{let xe=T.content.user_id==U.servers[D][L].session.user_id;if(!U.users[D][L][T.content.user_id]&&!xe)throw"\ubaa8\ub974\ub294 \uc0ac\ub78c";let Ue=yield U.load_server_post_with_id(T.content.post_id,D,L,T.content.user_id,xe);U.rearrange_posts(),xe||(U.p5toast.show({text:`${U.lang.text.AddPost.Title}: ${Ue.title}`}),U.has_new_post=!0)}catch{}break;case"remove":U.RemovePost({id:T.content.post_id,creator_id:T.content.user_id,attachments:[],server:{isOfficial:D,target:L}},!0)}return;case An.GROUP_DATA_CHANGED:case An.GROUP_IMAGE_CHANGED:break;case 1:T.request=`${U.lang.text.Nakama.ServerNoti}: ${decodeURIComponent(T.content.msg)}`;let W=decodeURIComponent(T.content.msg),ue=decodeURIComponent(T.content.uri);U.noti.PushLocal({id:T.code,title:U.servers[D][L].info.name,body:W,image:ue,extra_ln:{type:"AllUserNotification",title:U.servers[D][L].info.name,body:W,image:ue,isOfficial:D,target:L},smallIcon_ln:"diychat",group_ln:"all_user_noti",iconColor_ln:"b95437"},"global_noti_all",nt=>{let xe=`<img src="${ue}" alt="noti_image" style="border-radius: 2px">`,Ue=`<div>${U.global.HTMLEncode(W)}</div>`;var He;U.alertCtrl.create({header:U.servers[D][L].info.name,message:new bt.Vk(ue?xe+Ue:Ue),buttons:[{text:U.lang.text.Nakama.LocalNotiOK,handler:(He=(0,j.A)(function*(){try{yield U.servers[D][L].client.deleteNotifications(U.servers[D][L].session,[T.id])}catch{}U.noti.ClearNoti(T.code),U.update_notifications(D,L)}),function(){return He.apply(this,arguments)})}]}).then(He=>He.present())});break;case 0:T.request=`${T.code}-${T.subject}`;break;case-1:let Pe;T.request=`${T.code}-${T.subject}`,2===(T.content&&T.content.username&&(Pe=2),Pe)?U.join_chat_with_modulation(T.sender_id,Pe,D,L):(console.log("\uc608\uc0c1\ud558\uc9c0 \ubabb\ud55c \uc54c\ub9bc \ud589\ub3d9\ucc98\ub9ac: ",T,Pe),T.request=`${T.code}-${T.subject}`),oe=!0;try{(yield U.servers[D][L].client.deleteNotifications(U.servers[D][L].session,[T.id]))||console.log("\uc54c\ub9bc \uac70\ubd80\ucc98\ub9ac \uac80\ud1a0 \ud544\uc694"),U.update_notifications(D,L)}catch(nt){console.error("\uc54c\ub9bc \uc0ad\uc81c \uc624\ub958: ",nt)}break;case-2:case-3:T.request=`${T.code}-${T.subject}`;break;case-4:U.socket_reactive.group_detail&&U.socket_reactive.group_detail.info.id==T.content.group_id&&U.socket_reactive.group_detail.update_from_notification(T),U.groups[D][L][T.content.group_id].status="online",T.request=`${T.code}-${T.subject}`;try{let nt=yield U.servers[D][L].client.readStorageObjects(U.servers[D][L].session,{object_ids:[{collection:"group_public",key:`group_${T.content.group_id}`,user_id:U.groups[D][L][T.content.group_id].creator_id}]});nt.objects.length&&(U.groups[D][L][T.content.group_id].img=nt.objects[0].value.img,U.indexed.saveTextFileToUserPath(nt.objects[0].value.img,`servers/${D}/${L}/groups/${T.content.group_id}.img`))}catch(nt){console.error("\uadf8\ub8f9 \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30 \uc624\ub958: ",nt)}try{let nt=yield U.servers[D][L].client.listGroupUsers(U.servers[D][L].session,T.content.group_id);nt.group_users.length&&nt.group_users.forEach(xe=>{U.load_other_user(xe.user.id,D,L)})}catch(nt){console.error("\uadf8\ub8f9 \uc0ac\uc6a9\uc790 \uac00\uc838\uc624\uae30 \uc624\ub958: ",nt)}U.join_chat_with_modulation(T.content.group_id,3,D,L),U.noti.PushLocal({id:T.code,title:`${U.groups[D][L][T.content.group_id].name}: ${U.lang.text.Nakama.LocalNotiTitle}`,body:T.subject,group_ln:"diychat",icon:U.groups[D][L][T.content.group_id.img],smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},void 0,nt=>{U.check_notifications(T,D,L)});break;case-5:let Le=U.groups[D][L][T.content.group_id];if(Le)T.request=`${U.lang.text.Nakama.ReqContTitle}: ${Le.name}`;else{oe=!0;try{let nt=yield U.servers[D][L].client.deleteNotifications(U.servers[D][L].session,[T.id]);nt?U.update_notifications(D,L):console.log("\uc54c\ub9bc \uc9c0\uc6b0\uae30 \uc2e4\ud328: ",nt)}catch(nt){console.error("\uc54c\ub9bc \uc81c\uac70 \uc624\ub958: ",nt)}}U.socket_reactive.group_detail&&U.socket_reactive.group_detail.info.id==T.content.group_id&&U.socket_reactive.group_detail.update_from_notification(T),U.noti.PushLocal({id:T.code,title:`${U.groups[D][L][T.content.group_id].name}: ${U.lang.text.Nakama.ReqContTitle}`,group_ln:"diychat",icon:U.groups[D][L][T.content.group_id].img,extra_ln:{type:"NakamaReqContTitle",serverName:U.servers[D][L].info.name,userName:U.load_other_user(T.sender_id,D,L).display_name,group_id:T.content.group_id,user_id:T.sender_id,isOfficial:D,Target:L},smallIcon_ln:"diychat",autoCancel_ln:!0,iconColor_ln:"271e38"},void 0,nt=>{U.socket_reactive.group_detail.info.id!=T.content.group_id&&U.open_group_detail({info:U.groups[D][L][T.content.group_id]})});break;case-6:T.request=`${T.code}-${T.subject}`;break;case-7:T.request=`${U.servers[D][L].info.name}: ${U.lang.text.Nakama.SessionLogout}`,U.LoginAgain(T,D,L);break;default:console.log("\ud655\uc778\ub418\uc9c0 \uc54a\uc740 \uc2e4\uc2dc\uac04 \uc54c\ub9bc_nakama_noti: ",T),T.request=`${T.code}-${T.subject}`}oe||(U.noti_origin[D]||(U.noti_origin[D]={}),U.noti_origin[D][L]||(U.noti_origin[D][L]={}),U.noti_origin[D][L][T.id]=T)})()}LoginAgain(T,D,L){this.alertCtrl.create({header:this.servers[D][L].info.name,message:this.lang.text.Nakama.LoginAgain,buttons:[{text:this.lang.text.Profile.login_toggle,handler:()=>{try{delete this.noti_origin[D][L][T.id]}catch{}this.rearrange_notifications(),this.link_group(D,L,!0)}}]}).then(U=>U.present())}WriteStorage_From_channel(T,D,L,U,oe=0){var W=this;return(0,j.A)(function*(){let ue=JSON.parse(JSON.stringify(T)),Pe=yield W.global.req_file_info(D),Le=Math.ceil(Pe.contents.length/At.xM);if(W.OnTransfer[L]||(W.OnTransfer[L]={}),W.OnTransfer[L][U]||(W.OnTransfer[L][U]={}),W.OnTransfer[L][U][T.channel_id]||(W.OnTransfer[L][U][T.channel_id]={}),W.OnTransfer[L][U][T.channel_id][T.message_id]||(W.OnTransfer[L][U][T.channel_id][T.message_id]={index:Le}),!W.OnTransfer[L][U][T.channel_id][T.message_id].OnTransfer){T.content.transfer_index||(T.content.transfer_index=W.OnTransfer[L][U][T.channel_id][T.message_id]);for(let nt=oe;nt<Le;nt++)try{let xe=W.global.req_file_part_base64(Pe,nt,D);yield W.servers[L][U].client.writeStorageObjects(W.servers[L][U].session,[{collection:`file_${ue.channel_id.replace(/[.]/g,"_")}`,key:`msg_${ue.message_id}_${nt}`,permission_read:2,permission_write:1,value:{data:xe}}]),W.OnTransfer[L][U][T.channel_id][T.message_id].index=Le-1-nt,W.OnTransfer[L][U][T.channel_id][T.message_id].OnTransfer="upload"}catch(xe){console.log("WriteStorage_From_channel: ",xe),W.p5toast.show({text:`${W.lang.text.Nakama.FailedUpload}: ${xe}`});break}setTimeout(()=>{delete W.OnTransfer[L][U][T.channel_id][T.message_id],W.global.remove_req_file_info(T,D),W.p5toast.show({text:`${W.lang.text.ChatRoom.forceSQL}: ${W.lang.text.ChatRoom.SendFile}: ${ue.content.filename}`})},100)}})()}ReadStorage_From_channel(T,D,L,U,oe=0){var W=this;return(0,j.A)(function*(){let ue=JSON.parse(JSON.stringify(T));if(W.OnTransfer[L]||(W.OnTransfer[L]={}),W.OnTransfer[L][U]||(W.OnTransfer[L][U]={}),W.OnTransfer[L][U][T.channel_id]||(W.OnTransfer[L][U][T.channel_id]={}),W.OnTransfer[L][U][T.channel_id][T.message_id]||(W.OnTransfer[L][U][T.channel_id][T.message_id]={index:ue.content.partsize}),W.OnTransfer[L][U][T.channel_id][T.message_id].OnTransfer)return;T.content.transfer_index||(T.content.transfer_index=W.OnTransfer[L][U][T.channel_id][T.message_id]);let Pe=!0;for(let Le=oe,nt=ue.content.partsize;Le<nt;Le++)try{let xe=yield W.servers[L][U].client.readStorageObjects(W.servers[L][U].session,{object_ids:[{collection:`file_${ue.channel_id.replace(/[.]/g,"_")}`,key:`msg_${ue.message_id}_${Le}`,user_id:ue.sender_id}]});W.global.save_file_part(D,Le,xe.objects[0].value.data),W.OnTransfer[L][U][T.channel_id][T.message_id].index=nt-1-Le,W.OnTransfer[L][U][T.channel_id][T.message_id].OnTransfer="download"}catch(xe){console.log("ReadStorage_From_channel: ",xe),Pe=!1,W.p5toast.show({text:`${W.lang.text.Nakama.FailedDownload}: ${xe}`});break}if(Pe){if(T.content.url)T.content.thumbnail=T.content.url;else{T.content.text=[W.lang.text.ChatRoom.SavingFile],delete T.content.transfer_index,delete W.OnTransfer[L][U][ue.channel_id][ue.message_id].index,W.p5toast.show({text:`${W.lang.text.ChatRoom.forceSQL}: ${W.lang.text.ChatRoom.SavingFile}: ${ue.content.filename}`});let nt=[],xe=0;yield new Promise(function(){var Ue=(0,j.A)(function*(lt){for(let He=0,yt=ue.content.partsize;He<yt;He++)try{let kt=yield W.indexed.GetFileInfoFromDB(`${D}_part/${He}.part`);xe+=kt.contents.length,nt[He]=kt}catch(kt){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",kt);break}try{let He=new Int8Array(xe),yt=0;for(let kt=0,sn=nt.length;kt<sn;kt++)He.set(nt[kt].contents,yt),yt+=nt[kt].contents.length;yield W.indexed.saveInt8ArrayToUserPath(He,D);for(let kt=0,sn=ue.content.partsize;kt<sn;kt++)W.indexed.removeFileFromUserPath(`${D}_part/${kt}.part`);yield W.indexed.removeFileFromUserPath(`${D}_part`),W.global.remove_req_file_info(ue,D),T.content.text=[W.lang.text.ChatRoom.FileSaved]}catch(He){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",He)}lt(void 0)});return function(lt){return Ue.apply(this,arguments)}}()),W.noti.ClearNoti(8)}let Le;if(ue.content.path=D,"godot"!=ue.content.viewer){let nt=yield W.indexed.loadBlobFromUserPath(D,T.content.type||"");Le=URL.createObjectURL(nt)}yield W.global.modulate_thumbnail((W.OnTransferMessage[ue.message_id]||T).content,Le),delete W.OnTransfer[L][U][ue.channel_id][ue.message_id],delete W.OnTransferMessage[ue.message_id]}return Pe})()}sync_save_file(T,D,L,U,oe=""){var W=this;return(0,j.A)(function*(){try{T.blob.size&&(yield W.indexed.saveBlobToUserPath(T.blob,T.path));let ue=yield W.global.req_file_info(T.path);T.partsize=Math.ceil((T.filesize||ue.contents.length)/At.xM),delete T.blob,yield W.servers[D][L].client.writeStorageObjects(W.servers[D][L].session,[{collection:U,key:oe||T.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),permission_read:2,permission_write:1,value:T}]);for(let Pe=0;Pe<T.partsize;Pe++){let Le=W.global.req_file_part_base64(ue,Pe,T.path);yield W.servers[D][L].client.writeStorageObjects(W.servers[D][L].session,[{collection:U,key:oe?`${oe}_${Pe}`:T.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${Pe}`,permission_read:2,permission_write:1,value:{data:Le}}])}W.indexed.removeFileFromUserPath(`${T.path}.history`)}catch(ue){console.log("SyncSaveFailed: ",ue)}})()}sync_load_file(T,D,L,U,oe="",W="",ue=!0){var Pe=this;return(0,j.A)(function*(){try{return{from:"local",value:yield Pe.indexed.loadBlobFromUserPath(T.alt_path||T.path,T.type||"")}}catch{try{let xe=(yield Pe.servers[D][L].client.readStorageObjects(Pe.servers[D][L].session,{object_ids:[{collection:U,key:W||T.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:oe||Pe.servers[D][L].session.user_id}]})).objects[0].value,Ue=!0;for(let lt=0;lt<xe.partsize;lt++)try{let He=yield Pe.servers[D][L].client.readStorageObjects(Pe.servers[D][L].session,{object_ids:[{collection:U,key:W?`${W}_${lt}`:T.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)+`_${lt}`,user_id:oe||Pe.servers[D][L].session.user_id}]});Pe.global.save_file_part(T.alt_path||T.path,lt,He.objects[0].value.data)}catch(He){console.log("ReadStorage_From_channel: ",He),Ue=!1,Pe.p5toast.show({text:`${Pe.lang.text.Nakama.FailedDownload}: ${He}`}),T.url&&(T.thumbnail=T.url);break}if(Ue){delete T.url,T.text=[Pe.lang.text.ChatRoom.SavingFile],ue&&Pe.p5toast.show({text:`${Pe.lang.text.ChatRoom.forceSQL}: ${Pe.lang.text.ChatRoom.SavingFile}: ${xe.filename}`});let lt=[],He=0;yield new Promise(function(){var yt=(0,j.A)(function*(kt,sn){for(let mn=0,Tn=xe.partsize;mn<Tn;mn++)try{let Kn=yield Pe.indexed.GetFileInfoFromDB(`${T.alt_path||T.path}_part/${mn}.part`);He+=Kn.contents.length,lt[mn]=Kn}catch(Kn){console.log("\ud30c\uc77c \ubcd1\ud569\ud558\uae30 \uc624\ub958: ",Kn);break}try{let mn=new Int8Array(He),Tn=0;for(let Kn=0,tr=lt.length;Kn<tr;Kn++)mn.set(lt[Kn].contents,Tn),Tn+=lt[Kn].contents.length;yield Pe.indexed.saveInt8ArrayToUserPath(mn,T.alt_path||T.path);for(let Kn=0,tr=xe.partsize;Kn<tr;Kn++)Pe.indexed.removeFileFromUserPath(`${T.alt_path||T.path}_part/${Kn}.part`);yield Pe.indexed.removeFileFromUserPath(`${T.alt_path||T.path}_part`)}catch(mn){console.log("\ud30c\uc77c \ucd5c\uc885 \uc800\uc7a5\ud558\uae30 \uc624\ub958: ",mn),sn()}kt(void 0)});return function(kt,sn){return yt.apply(this,arguments)}}()),Pe.noti.ClearNoti(8),Pe.indexed.removeFileFromUserPath(`${T.alt_path||T.path}.history`)}return{from:"remote",value:yield Pe.indexed.loadBlobFromUserPath(T.alt_path||T.path,xe.type||"")}}catch(nt){return{from:"failed",value:null,error:nt}}}})()}sync_remove_file(T,D,L,U,oe="",W=""){var ue=this;return(0,j.A)(function*(){try{yield ue.indexed.removeFileFromUserPath(T)}catch{}try{let Le=(yield ue.servers[D][L].client.readStorageObjects(ue.servers[D][L].session,{object_ids:[{collection:U,key:T.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120),user_id:oe||ue.servers[D][L].session.user_id}]})).objects[0].value;try{ue.servers[D][L].client.rpc(ue.servers[D][L].session,"remove_channel_file",{collection:U,key:(W||Le.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120))+"_"})}catch{}yield ue.servers[D][L].client.deleteStorageObjects(ue.servers[D][L].session,{object_ids:[{collection:U,key:W||Le.path.replace(/:|\?|\/|\\|<|>|\.| |\(|\)|\-/g,"_").substring(0,120)}]})}catch{}})()}AddressToQRCodeAct(T,D=!1){var L=this;return(0,j.A)(function*(){let U=[];if(T.open_profile&&U.push({type:"open_profile"}),T.tmp_user){let oe=T.tmp_user[0].split(",");L.users.self.email=oe[0],L.users.self.password=oe[1],L.users.self.display_name=oe[2],L.users.self.online=!0,L.save_self_profile()}if(T.server)for(let oe=0,W=T.server.length;oe<W;oe++){let ue=T.server[oe].split(",");U.push({type:"server",value:{name:ue[0]||"No named server",target:ue[0]||"No named server",address:ue[1]||"192.168.0.1",useSSL:ue[2]||!1,port:ue[3]||7350,key:ue[4]||"defaultkey",isOfficial:"unofficial"}})}if(T.group)for(let oe=0,W=T.group.length;oe<W;oe++){let ue=T.group[oe].split(",");U.push({type:"group",name:ue[0],id:ue[1]})}if(T.group_dedi){let oe=T.group_dedi[0].split(",");U.push({type:"group_dedi",value:{address:oe[0],channel:oe[1]}})}if(T.open_prv_channel){let oe=T.open_prv_channel[0].split(",");U.push({type:"open_prv_channel",user_id:oe[0],isOfficial:oe[1]||"official",target:oe[2]||"DevTestServer"})}if(T.open_channel){let oe=T.open_channel[0].split(",");U.push({type:"open_channel",group_id:oe[0],isOfficial:oe[1],target:oe[2]})}if(T.rtcserver)for(let oe=0,W=T.rtcserver.length;oe<W;oe++){let ue=T.rtcserver[oe].split("]"),Pe=ue[0].split("[")[1],Le=ue[1].split(",");U.push({type:"rtcserver",value:{urls:Pe.split(","),username:Le[1],credential:Le[2]}})}if(T.voidDraw&&"http:"==window.location.protocol){let oe=T.voidDraw[0].split(",");U.push({type:"voidDraw",address:oe[0],channel:oe[1]})}if(T.postViewer&&U.push({type:"postViewer",address:T.postViewer[0]}),D)return U;yield L.act_from_QRInfo(U)})()}act_from_QRInfo(T){var D=this;return(0,j.A)(function*(){for(let L=0,U=T.length;L<U;L++)switch(T[L].type){case"open_profile":D.open_profile_page();break;case"tmp_user":break;case"server":if(D.statusBar.groupServer.unofficial[T[L].value.name])D.p5toast.show({text:`${D.lang.text.Nakama.AlreadyHaveTargetName}: ${T[L].value.name}`}),delete T[L].value.name,yield D.modalCtrl.create({component:un.K,componentProps:{data:T[L].value}}).then(Le=>{Le.present()});else{let Le={name:decodeURIComponent(T[L].value.name),target:decodeURIComponent(T[L].value.target),address:decodeURIComponent(T[L].value.address),port:T[L].value.port,useSSL:T[L].value.useSSL,isOfficial:T[L].value.isOfficial,key:decodeURIComponent(T[L].value.key)};yield D.add_group_server(Le),yield D.init_session(Le)}break;case"group_dedi":for(let Le=0,nt=20;Le<nt&&!D.lang.text.MinimalChat.leave_chat_group;Le++)yield new Promise(xe=>setTimeout(xe,1e3));yield D.global.RemoveAllModals(),D.navCtrl.navigateForward("minimal-chat",{animation:bt.V5,state:{address:T[L].value.address,channel:T[L].value.channel}});break;case"group":D.AfterLoginActDone?yield D.try_add_group(T[L]):D.AfterLoginAct.push((0,j.A)(function*(){yield D.try_add_group(T[L])}));break;case"open_prv_channel":if(D.AfterLoginActDone){let Le=yield D.join_chat_with_modulation(T[L].user_id,2,T[L].isOfficial,T[L].target,!0);D.go_to_chatroom_without_admob_act(Le)}else D.AfterLoginAct.push((0,j.A)(function*(){let Le=yield D.join_chat_with_modulation(T[L].user_id,2,T[L].isOfficial,T[L].target,!0);D.go_to_chatroom_without_admob_act(Le)}));break;case"open_channel":if(D.AfterLoginActDone){let Le=yield D.join_chat_with_modulation(T[L].group_id,3,T[L].isOfficial,T[L].target,!0);D.go_to_chatroom_without_admob_act(Le)}else D.AfterLoginAct.push((0,j.A)(function*(){let Le=yield D.join_chat_with_modulation(T[L].group_id,3,T[L].isOfficial,T[L].target,!0);D.go_to_chatroom_without_admob_act(Le)}));break;case"rtcserver":let W=[];for(let Le=0,nt=20;Le<nt&&!D.lang.text.WebRTCDevManager.NoRegServer;Le++)yield new Promise(xe=>setTimeout(xe,1e3));let ue=yield D.indexed.loadTextFromUserPath("servers/webrtc_server.json");W=JSON.parse(ue),W.push(T[L].value),yield D.indexed.saveTextFileToUserPath(JSON.stringify(W),"servers/webrtc_server.json");break;case"voidDraw":D.modalCtrl.create({component:mt.c,componentProps:{remote:{address:T[L].address,channel:T[L].channel}}}).then(Le=>Le.present());break;case"postViewer":for(let Le=0,nt=20;Le<nt&&!D.lang.text.PostViewer.OpenFromViewer;Le++)yield new Promise(xe=>setTimeout(xe,1e3));let Pe=yield fetch(T[L].address);if(Pe.ok){let Le=yield Pe.text(),nt=JSON.parse(Le);D.open_post(nt,-2)}else D.p5toast.show({text:`${D.lang.text.AddPost.NoPostOutLink}: ${Pe.statusText}`});break;default:throw"\uc9c0\uc815\ub41c \ud2c0 \uc544\ub2d8"}})()}load_local_post_with_id(T,D,L,U){var oe=this;return(0,j.A)(function*(){let W=yield oe.indexed.loadTextFromUserPath(`servers/${D}/${L}/posts/${U}/${T}/info.json`);try{try{if(oe.posts_orig[D][L][U][T])throw"exist"}catch(Pe){if("exist"==Pe)throw"\uc774\ubbf8 \uc788\ub294 \uac8c\uc2dc\ubb3c"}let ue=JSON.parse(W);if(ue.server={name:oe.lang.text.AddGroup.UseLocalStorage,isOfficial:"local",target:"target",local:!0},ue.mainImage)try{if(ue.mainImage.url)ue.mainImage.thumbnail=ue.mainImage.url;else{let Pe=yield oe.indexed.loadBlobFromUserPath(ue.mainImage.path,ue.mainImage.type);ue.mainImage.blob=Pe;let Le=URL.createObjectURL(Pe);ue.mainImage.thumbnail=Le,setTimeout(()=>{URL.revokeObjectURL(Le)},5e3)}}catch{}return oe.posts_orig[D][L][U][T]=ue,!0}catch{return!1}})()}load_server_post_with_id(T,D,L,U,oe){var W=this;return(0,j.A)(function*(){try{let ue={path:`servers/${D}/${L}/posts/${U}/${T}/info.json`,type:"application/json"},Pe=yield W.sync_load_file(ue,D,L,"server_post",U,T,!1),Le=yield Pe.value.text(),nt=JSON.parse(Le);oe&&(nt.is_me=!0);let xe=new Blob([JSON.stringify(nt)],{type:"application/json"});W.indexed.saveBlobToUserPath(xe,ue.path),nt.server={isOfficial:D,target:L};try{nt.server.name=W.servers[D][L].info.name}catch{nt.server.name=W.lang.text.Nakama.DeletedServer}if(nt.mainImage)if(nt.mainImage.url)nt.mainImage.thumbnail=nt.mainImage.url;else{let Ue={path:nt.mainImage.path,alt_path:`servers/${D}/${L}/posts/${U}/${T}/mainImage.png`,type:"image/png"},lt=(yield W.sync_load_file(Ue,D,L,"server_post",U,`${T}_mainImage`,!1)).value;nt.mainImage.blob=lt;let He=URL.createObjectURL(lt);nt.mainImage.thumbnail=He,setTimeout(()=>{URL.revokeObjectURL(He)},5e3)}try{nt.creator_name=W.load_other_user(U,D,L).display_name||nt.creator_name}catch{}if(W.posts_orig[D][L]||(W.posts_orig[D][L]={}),W.posts_orig[D][L][U]||(W.posts_orig[D][L][U]={}),W.posts_orig[D][L][U][T]=nt,"local"==Pe.from)try{if(!(yield W.servers[D][L].client.readStorageObjects(W.servers[D][L].session,{object_ids:[{collection:"server_post",key:T,user_id:U}]})).objects.length)throw"Not RemoteExist"}catch(Ue){if("Not RemoteExist"==Ue)throw"RemoveSelf"}return nt}catch(ue){return"RemoveSelf"==ue&&W.RemovePost(W.posts_orig[D][L][U][T],!0),!1}})()}load_posts_counter(){var T=this;return(0,j.A)(function*(){let D={};try{let oe=yield T.indexed.loadTextFromUserPath("servers/post_counter.json"),W=JSON.parse(oe);D=oe,T.post_counter=W}catch{}let L=Number(yield T.indexed.loadTextFromUserPath("servers/local/target/posts/me/counter.txt"))||0;T.post_counter.local.target.me=L;let U=T.get_all_server_info(!0,!0);for(let oe=0,W=U.length;oe<W;oe++){let ue=U[oe].isOfficial,Pe=U[oe].target;T.post_counter[ue][Pe]||(T.post_counter[ue][Pe]={});try{let Le=yield T.servers[ue][Pe].client.readStorageObjects(T.servers[ue][Pe].session,{object_ids:[{collection:"server_post",key:"Counter",user_id:T.servers[ue][Pe].session.user_id}]}),nt=0;Le.objects.length&&(nt=Le.objects[0].value.counter),T.post_counter[ue][Pe][T.servers[ue][Pe].session.user_id]=nt}catch(Le){console.log("\ub0b4 \uc11c\ubc84 \uac8c\uc2dc\ubb3c \uce74\uc6b4\ud130 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Le)}if(T.users[ue][Pe]){let Le=Object.keys(T.users[ue][Pe]);for(let nt=0,xe=Le.length;nt<xe;nt++)try{let Ue=yield T.servers[ue][Pe].client.readStorageObjects(T.servers[ue][Pe].session,{object_ids:[{collection:"server_post",key:"Counter",user_id:Le[nt]}]}),lt=0;Ue.objects.length&&(lt=Ue.objects[0].value.counter),T.post_counter[ue][Pe][Le[nt]]=lt}catch(Ue){console.log("\ub2e4\ub978 \uc0ac\ub78c\uc758 \uce74\uc6b4\ud130 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",Ue)}}D!=JSON.stringify(T.post_counter)&&(yield T.indexed.saveTextFileToUserPath(JSON.stringify(T.post_counter),"servers/post_counter.json"),T.has_new_post=!0)}})()}}return(q=ve).\u0275fac=function(T){return new(T||q)(St.KVO(Jt.G),St.KVO(Nt.j),St.KVO(nn.n),St.KVO(fn.r),St.KVO(bn.W3),St.KVO(bn.hG),St.KVO(In.y),St.KVO(At.z3),St.KVO(Mn.q9),St.KVO(St.SKi),St.KVO(bn.Xi))},q.\u0275prov=St.jDH({token:q,factory:q.\u0275fac,providedIn:"root"}),ve})()},9900:(En,Kt,me)=>{"use strict";me.d(Kt,{G:()=>se});var j=me(8326),ge=me(482),gt=me(3953),o=function(V){return V[V.Idle=0]="Idle",V[V.DivFadeIn=1]="DivFadeIn",V[V.BorderAlert=2]="BorderAlert",V[V.Reading=3]="Reading",V[V.FadeOut=4]="FadeOut",V}(o||{});let se=(()=>{var V;class v{constructor(){this.isShowing=!1,this.stack=[],this.alert=[],this.status=o.Idle}show(g){let y;g.time=(new Date).getTime(),g.lateable||(this.AlertNow=g,this.status=o.DivFadeIn),this.alert.length&&(y=this.alert[this.alert.length-1]),this.AlertNow&&this.AlertNow.text==g.text?this.status=o.DivFadeIn:y&&y.text==g.text||this.alert.push(g),this.isShowing?this.status==o.FadeOut&&(this.status=o.DivFadeIn):(this.CurrentToast=new j(w=>{let s,l,a,d=0,f=0,u=0;w.setup=()=>{w.noCanvas(),s=w.createDiv(),s.style("position: absolute; left: 0; top: 0; z-index: 1"),s.style("width: 100%; height: fit-content"),s.style("padding: 32px;"),s.style("display: flex; justify-content: center;"),s.style("pointer-events: none"),p(),a=w.createDiv(),a.parent(s),a.style("display: flex; justify-content: center;"),a.style("width: fit-content; height: fit-content"),a.style("border-radius: 24px"),a.style("background: #"+(ge.ud?"30564e88":"b9543788")),a.style("padding: 4px"),l=w.createDiv(),l.parent(a),l.style("display: flex; justify-content: center;"),l.style("width: fit-content; height: fit-content"),l.style("word-break: break-all"),l.style("background: #"+(ge.ud?"30564e88":"b9543788")),l.style("border-radius: 20px"),l.style("padding: 12px"),l.style("color: white"),this.AlertNow||(this.AlertNow=this.alert.shift()),l.html(this.HTMLEncode(this.AlertNow.text)),c(),this.status=o.DivFadeIn},w.draw=()=>{switch(this.status){case o.DivFadeIn:d<1?d+=1:(d=1,f=1,this.status=o.BorderAlert,l.html(this.HTMLEncode(this.AlertNow.text)));break;case o.BorderAlert:if(f>0)f-=.03;else{let _;f=0,_=this.AlertNow.duration?1e3*this.AlertNow.duration:24*(new TextEncoder).encode(this.AlertNow.text).length,u=w.millis()+_+960,this.status=o.Reading}break;case o.Reading:w.millis()>u&&(this.alert.length?(this.stack.push(this.AlertNow),this.AlertNow=this.alert.shift(),l.html(this.HTMLEncode(this.AlertNow.text)),this.status=o.DivFadeIn):this.status=o.FadeOut);break;case o.FadeOut:d>0?d-=.04:m()}p(),c()};let p=()=>{s.style(`opacity: ${d}`)},c=()=>{let _=w.lerpColor(w.color("#"+(ge.ud?"30564e88":"b9543788")),w.color("#ffd94ebb"),f).levels;a.style(`padding: ${4*f}px`),l.style(`padding: ${w.lerp(16,12,f)}px`),l.style(`border-radius: ${w.lerp(24,20,f)}px`),a.style(`background: rgba(${_[0]}, ${_[1]}, ${_[2]}, ${_[3]/255})`)},m=()=>{this.stack=[...this.stack,this.AlertNow,...this.alert],this.AlertNow=void 0,this.alert.length=0,this.isShowing=!1,this.CurrentToast.remove()}}),this.isShowing=!0)}hide(){this.status=o.FadeOut}}return(V=v).\u0275fac=function(g){return new(g||V)},V.\u0275prov=gt.jDH({token:V,factory:V.\u0275fac,providedIn:"root"}),v})()},4437:(En,Kt,me)=>{"use strict";me.d(Kt,{K:()=>d});var j=me(467),O=me(9349),ge=me(3953),gt=me(5374),o=me(3656),se=me(4234),V=me(9900),v=me(8065),b=me(755),g=me(4237),y=me(482),C=me(1357),w=me(177),s=me(4341);const l=["ServerDetailuseSSL"];function a(f,u){if(1&f){const p=ge.RV6();ge.j41(0,"img",14),ge.bIt("click",function(){ge.eBV(p);const m=ge.XpG();return ge.Njj(m.copy_startup_address())}),ge.k0s()}if(2&f){const p=ge.XpG();ge.Y8G("src",p.QRCodeSRC,ge.B4B)}}let d=(()=>{var f;class u{constructor(c,m,_,M,x,I,A,H,P){this.modalCtrl=c,this.navParams=m,this.lang=_,this.p5toast=M,this.statusBar=x,this.indexed=I,this.nakama=A,this.global=H,this.mClipboard=P,this.isTargetAlreadyExist=!0,this.index=0}ngOnInit(){this.dedicated_info=this.navParams.get("data");let c={name:this.dedicated_info.name,address:this.dedicated_info.address,port:this.dedicated_info.port,key:this.dedicated_info.key,useSSL:this.dedicated_info.useSSL};"192.168.0.1"==this.dedicated_info.address&&delete c.address,"defaultkey"==this.dedicated_info.key&&delete c.key,7350==this.dedicated_info.port&&delete c.port,this.dedicated_info.useSSL||delete c.useSSL,this.QRCodeSRC=this.global.readasQRCodeFromString(`${O.d2}godotchat_pwa/?server=${c.name||""},${c.address||""},${c.useSSL?"true":""},${c.port||7350},${c.key||""}`),this.isTargetAlreadyExist=!!this.statusBar.groupServer.unofficial[this.dedicated_info.target]}ionViewDidEnter(){this.ServerDetailuseSSL.checked=this.dedicated_info.useSSL}copy_startup_address(){let c=`https://is2you2.github.io/godotchat_pwa/?server=${this.dedicated_info.name||""},${this.dedicated_info.address||""},${this.dedicated_info.useSSL||""},${this.dedicated_info.port||""},${this.dedicated_info.key||""}&open_profile=true`;this.mClipboard.copy(c).catch(m=>{this.global.WriteValueToClipboard("text/plain",c)})}apply_changed_info(){var c=this;return(0,j.A)(function*(){if(!c.dedicated_info.name)return void c.p5toast.show({text:c.lang.text.GroupServer.NeedSetDIsplayName});c.dedicated_info.target=c.dedicated_info.target||c.dedicated_info.name,c.dedicated_info.address=c.dedicated_info.address||"192.168.0.1",c.dedicated_info.port=c.dedicated_info.port||7350,c.dedicated_info.useSSL=c.ServerDetailuseSSL.checked||!1,c.dedicated_info.isOfficial=c.dedicated_info.isOfficial||"unofficial",c.dedicated_info.key=c.dedicated_info.key||"defaultkey";let m=(new Date).getTime().toString();m+=`,${c.dedicated_info.isOfficial}`,m+=`,${c.dedicated_info.name}`,m+=`,${c.dedicated_info.target}`,m+=`,${c.dedicated_info.address}`,m+=`,${c.dedicated_info.port}`,m+=`,${c.dedicated_info.useSSL}`;let _=yield c.indexed.loadTextFromUserPath("servers/list_detail.csv"),M=[];if(_&&(M=_.split("\n")),c.isTargetAlreadyExist)for(let x=0,I=M.length;x<I;x++)if(M[x].split(",")[3]==c.dedicated_info.target){M.splice(x,1);break}M.push(m),yield c.indexed.saveTextFileToUserPath(M.join("\n"),"servers/list_detail.csv"),c.nakama.init_server(c.dedicated_info),c.nakama.servers[c.dedicated_info.isOfficial][c.dedicated_info.target].info={...c.dedicated_info};try{c.nakama.servers[c.dedicated_info.isOfficial][c.dedicated_info.target].socket.disconnect(!0)}catch{}c.modalCtrl.dismiss()})()}}return(f=u).\u0275fac=function(c){return new(c||f)(ge.rXU(gt.W3),ge.rXU(o.y8),ge.rXU(se.y),ge.rXU(V.G),ge.rXU(v.j),ge.rXU(b.n),ge.rXU(g.X),ge.rXU(y.z3),ge.rXU(C.B))},f.\u0275cmp=ge.VBU({type:f,selectors:[["app-server-detail"]],viewQuery:function(c,m){if(1&c&&ge.GBs(l,5),2&c){let _;ge.mGM(_=ge.lsd())&&(m.ServerDetailuseSSL=_.first)}},decls:31,vars:19,consts:[["ServerDetailuseSSL",""],[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["style","width: 100%; height: auto; cursor: copy;","alt","Loading",3,"src","click",4,"ngIf"],["button",""],[1,"ion-text-right",3,"ngModelChange","label","ngModel","placeholder"],["button","",3,"disabled"],["placeholder","192.168.0.1",1,"ion-text-right",3,"ngModelChange","label","ngModel"],["placeholder","defaultkey",1,"ion-text-right",3,"ngModelChange","label","ngModel"],["type","number","placeholder","7350",1,"ion-text-right",3,"ngModelChange","label","ngModel"],["button","",3,"click"],[2,"pointer-events","none",3,"ngModelChange","ngModel"],[1,"ion-text-center"],["alt","Loading",2,"width","100%","height","auto","cursor","copy",3,"click","src"]],template:function(c,m){if(1&c){const _=ge.RV6();ge.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),ge.EFF(3),ge.k0s(),ge.j41(4,"ion-buttons",2),ge.bIt("click",function(){return ge.eBV(_),ge.Njj(m.modalCtrl.dismiss())}),ge.nrm(5,"ion-back-button",3),ge.k0s()()(),ge.j41(6,"ion-content")(7,"ion-item-divider")(8,"ion-label"),ge.EFF(9),ge.k0s()(),ge.DNE(10,a,1,1,"img",4),ge.j41(11,"ion-item-divider")(12,"ion-label"),ge.EFF(13,"\uc11c\ubc84 \uc124\uc815"),ge.k0s()(),ge.j41(14,"ion-item",5)(15,"ion-input",6),ge.mxI("ngModelChange",function(x){return ge.eBV(_),ge.DH7(m.dedicated_info.name,x)||(m.dedicated_info.name=x),ge.Njj(x)}),ge.k0s()(),ge.j41(16,"ion-item",7)(17,"ion-input",6),ge.mxI("ngModelChange",function(x){return ge.eBV(_),ge.DH7(m.dedicated_info.target,x)||(m.dedicated_info.target=x),ge.Njj(x)}),ge.k0s()(),ge.j41(18,"ion-item",5)(19,"ion-input",8),ge.mxI("ngModelChange",function(x){return ge.eBV(_),ge.DH7(m.dedicated_info.address,x)||(m.dedicated_info.address=x),ge.Njj(x)}),ge.k0s()(),ge.j41(20,"ion-item",5)(21,"ion-input",9),ge.mxI("ngModelChange",function(x){return ge.eBV(_),ge.DH7(m.dedicated_info.key,x)||(m.dedicated_info.key=x),ge.Njj(x)}),ge.k0s()(),ge.j41(22,"ion-item",5)(23,"ion-input",10),ge.mxI("ngModelChange",function(x){return ge.eBV(_),ge.DH7(m.dedicated_info.port,x)||(m.dedicated_info.port=x),ge.Njj(x)}),ge.k0s()(),ge.j41(24,"ion-item",11),ge.bIt("click",function(){return ge.eBV(_),ge.Njj(m.dedicated_info.useSSL=!m.dedicated_info.useSSL)}),ge.j41(25,"ion-toggle",12,0),ge.mxI("ngModelChange",function(x){return ge.eBV(_),ge.DH7(m.dedicated_info.useSSL,x)||(m.dedicated_info.useSSL=x),ge.Njj(x)}),ge.EFF(27),ge.k0s()(),ge.j41(28,"ion-item",11),ge.bIt("click",function(){return ge.eBV(_),ge.Njj(m.apply_changed_info())}),ge.j41(29,"ion-label",13),ge.EFF(30),ge.k0s()()()}2&c&&(ge.R7$(3),ge.JRh(m.lang.text.GroupServer.ServerDetail),ge.R7$(6),ge.JRh(m.lang.text.ServerDetail.copy_scan_below),ge.R7$(),ge.Y8G("ngIf",m.QRCodeSRC),ge.R7$(5),ge.Y8G("label",m.lang.text.GroupServer.DisplayName),ge.R50("ngModel",m.dedicated_info.name),ge.Y8G("placeholder",m.lang.text.GroupServer.DisplayName_placeholder),ge.R7$(),ge.Y8G("disabled",m.isTargetAlreadyExist),ge.R7$(),ge.Y8G("label",m.lang.text.GroupServer.DivisionName),ge.R50("ngModel",m.dedicated_info.target),ge.Y8G("placeholder",m.dedicated_info.name||m.lang.text.GroupServer.DivisionName_placeholder),ge.R7$(2),ge.Y8G("label",m.lang.text.GroupServer.Address),ge.R50("ngModel",m.dedicated_info.address),ge.R7$(2),ge.Y8G("label",m.lang.text.GroupServer.Key),ge.R50("ngModel",m.dedicated_info.key),ge.R7$(2),ge.Y8G("label",m.lang.text.GroupServer.Port),ge.R50("ngModel",m.dedicated_info.port),ge.R7$(2),ge.R50("ngModel",m.dedicated_info.useSSL),ge.R7$(2),ge.JRh(m.lang.text.GroupServer.isSSL),ge.R7$(3),ge.JRh(m.lang.text.ServerDetail.ApplyChangeServerInfo))},dependencies:[w.bT,s.BC,s.vS,gt.QW,gt.W9,gt.eU,gt.$w,gt.uz,gt.Dg,gt.he,gt.BC,gt.BY,gt.ai,gt.hB,gt.su,gt.Gw,gt.el],styles:[".icon_style[_ngcontent-%COMP%]{width:22px;height:22px;transform:translateY(2px);margin-left:4px;margin-right:4px}"]}),u})()},6608:(En,Kt,me)=>{"use strict";me.d(Kt,{n:()=>g});var j=me(467),O=me(3953),ge=me(482),gt=me(1357),o=me(3656),se=me(5374),V=me(4234),v=me(177);function b(y,C){if(1&y){const w=O.RV6();O.j41(0,"img",5),O.bIt("click",function(){O.eBV(w);const l=O.XpG();return O.Njj(l.copy_address(l.SelectedAddress))}),O.k0s()}if(2&y){const w=O.XpG();O.Y8G("src",w.QRCodeSRC,O.B4B)}}let g=(()=>{var y;class C{constructor(s,l,a,d){this.global=s,this.mClipboard=l,this.navParams=a,this.lang=d}ngOnInit(){}ionViewWillEnter(){var s=this;return(0,j.A)(function*(){let l=s.navParams.data.address;try{let a=l.split("://").pop(),d=`${location.protocol}//${a}:8080/`;const f=new AbortController,u=setTimeout(()=>{f.abort()},500);let p=yield fetch(d,{signal:f.signal});if(clearTimeout(u),!p.ok)throw"\uc8fc\uc18c \uc5c6\uc74c";s.SelectedAddress=`${location.protocol}//${a}:8080/www/?voidDraw=${l},${s.navParams.data.channel}`}catch{s.SelectedAddress=`http://localhost:8080/www/?voidDraw=${l},${s.navParams.data.channel}`}s.QRCodeSRC=s.global.readasQRCodeFromString(s.SelectedAddress)})()}copy_address(s){this.mClipboard.copy(s).catch(l=>{this.global.WriteValueToClipboard("text/plain",s)})}}return(y=C).\u0275fac=function(s){return new(s||y)(O.rXU(ge.z3),O.rXU(gt.B),O.rXU(o.y8),O.rXU(V.y))},y.\u0275cmp=O.VBU({type:y,selectors:[["app-link-qr"]],decls:7,vars:2,consts:[[2,"display","flex","justify-content","center","align-items","center","height","100%"],[2,"width","400px","height","455px","background-color","var(--chatroom-background)","text-align","center","padding","16px"],["style","width: 100%; height: auto; cursor: copy;","alt","QuickLink",3,"src","click",4,"ngIf"],["button","",3,"click"],[1,"ion-text-center"],["alt","QuickLink",2,"width","100%","height","auto","cursor","copy",3,"click","src"]],template:function(s,l){1&s&&(O.j41(0,"ion-content")(1,"div",0)(2,"div",1),O.DNE(3,b,1,1,"img",2),O.j41(4,"ion-item",3),O.bIt("click",function(){return l.copy_address(l.navParams.data.channel)}),O.j41(5,"ion-label",4),O.EFF(6),O.k0s()()()()()),2&s&&(O.R7$(3),O.Y8G("ngIf",l.QRCodeSRC),O.R7$(3),O.JRh(l.navParams.data.channel))},dependencies:[v.bT,se.W9,se.uz,se.he],styles:["ion-content[_ngcontent-%COMP%]{--background: transparent}"]}),C})()},736:(En,Kt,me)=>{"use strict";me.d(Kt,{c:()=>f});var j=me(467),O=me(8326),gt=me(9349),o=me(4237),se=me(6608),V=me(3953),v=me(4234),b=me(5374),g=me(3656),y=me(482),C=me(755),w=me(9900),s=me(4020),l=me(177);const a=["RemoteDraw"];function d(u,p){if(1&u&&(V.j41(0,"ion-select-option",10),V.EFF(1),V.k0s()),2&u){const c=p.$implicit;V.Y8G("value",c),V.R7$(),V.JRh(c.info.name)}}let f=(()=>{var u;class p{constructor(m,_,M,x,I,A,H,P,z,k){this.lang=m,this.modalCtrl=_,this.alertCtrl=M,this.loadingCtrl=x,this.global=I,this.navParams=A,this.indexed=H,this.nakama=P,this.p5toast=z,this.webrtc=k,this.BackButtonPressed=!1,this.isMobile=!1,this.isCropMode=!1,this.ServerList=[],this.isDrawServerCreated=!1,this.ReadyToShareAct=!1,this.RemoteBackgroundImage="",this.WillLeaveHere=!1,this.WithoutSave=!0}InitBrowserBackButtonOverride(){try{window.history.replaceState(null,null,window.location.href),window.onpopstate&&(window.onpopstate=null),window.onpopstate=()=>{if(this.isDrawServerCreated)return this.CancelRemoteAct(),window.onpopstate=null,void this.InitBrowserBackButtonOverride();this.BackButtonPressed||(this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}catch(m){console.log("\ud0d0\uc0c9 \uae30\ub85d \ubcc0\uacbd\uc2dc \uc624\ub958 \ubc1c\uc0dd: ",m)}}ngOnInit(){this.InitBrowserBackButtonOverride()}ionViewDidEnter(){var m=this;return(0,j.A)(function*(){m.AddShortCut(),m.mainLoading=yield m.loadingCtrl.create({message:m.lang.text.voidDraw.UseThisImage}),m.isMobile="DesktopPWA"!=gt.aH,m.create_new_canvas({width:m.navParams.data.width,height:m.navParams.data.height,path:m.navParams.data.path}),m.navParams.data.remote&&setTimeout(()=>{m.CreateRemoteLocalClient(m.navParams.data.remote.address,m.navParams.data.remote.channel)},1e3)})()}AddShortCut(){delete this.global.p5key.KeyShortCut.Digit,this.global.p5key.KeyShortCut.HistoryAct=m=>{switch(m){case"Z":this.p5voidDraw.history_act(-1);break;case"X":this.p5voidDraw.history_act(1);break;case"C":this.isCropMode?this.p5voidDraw.apply_crop():this.p5voidDraw.change_color();break;case"V":this.p5voidDraw.set_line_weight()}},this.global.p5key.KeyShortCut.AddAct=()=>{this.ClickRemoteAddButton()},this.global.p5key.KeyShortCut.SKeyAct=()=>{this.open_crop_tool()},this.global.p5key.KeyShortCut.DeleteAct=()=>{this.isCropMode?this.p5voidDraw.apply_crop():this.dismiss_draw()},this.global.p5key.KeyShortCut.FKeyAct=()=>{},this.global.p5key.KeyShortCut.Escape=()=>{this.isDrawServerCreated&&this.CancelRemoteAct()}}CancelRemoteAct(){this.ReadyToShareAct=!1,this.RemoteLoadingCtrl&&this.RemoteLoadingCtrl.dismiss(),this.isDrawServerCreated=!1,this.p5voidDraw.SetDrawable(!0),this.webrtc.close_webrtc(!1)}create_new_canvas(m){m.width=m.width||432,m.height=m.height||432,this.p5voidDraw&&this.p5voidDraw.remove(),this.create_p5voidDraw(m)}waiting(m){return new Promise(_=>setTimeout(()=>{_(void 0)},m))}create_p5voidDraw(m){var _=this;let M=document.getElementById("voidDraw");this.isCropMode=!1,this.p5voidDraw=new O(x=>{let I,A,H,P,z,k,te,ne,G=x.createColorPicker("#000"),X=Math.min(m.width,m.height)/100,B=1;x.setup=(0,j.A)(function*(){x.pixelDensity(1),x.noLoop(),x.noFill(),x.imageMode(x.CENTER),P=x.createCanvas(M.clientWidth,M.clientHeight),P.parent(M),K.x=x.width/2,K.y=x.height/2,x.set_line_weight=()=>{_.alertCtrl.create({header:_.lang.text.voidDraw.changeWeight,inputs:[{label:_.lang.text.voidDraw.weight,name:"weight",placeholder:`${B}`,type:"number"}],buttons:[{text:_.lang.text.voidDraw.apply,handler:Nt=>{Nt.weight&&(B=Number(Nt.weight))}}]}).then(Nt=>{Wt=!1,Nt.onWillDismiss().then(()=>{Wt=!0}),Nt.present()})},x.change_color=()=>{G.elt.click()},x.save_image=()=>{new O(Nt=>{Nt.setup=()=>{let nn=Nt.createCanvas(I.width,I.height);Nt.pixelDensity(1),H&&Nt.image(H,0,0),I&&Nt.image(I,0,0);let fn=nn.elt.toDataURL("image/png").replace("image/png","image/octet-stream");_.modalCtrl.dismiss({name:`voidDraw_${Nt.year()}-${Nt.nf(Nt.month(),2)}-${Nt.nf(Nt.day(),2)}_${Nt.nf(Nt.hour(),2)}-${Nt.nf(Nt.minute(),2)}-${Nt.nf(Nt.second(),2)}.png`,img:fn,loadingCtrl:_.mainLoading}),Nt.remove()}})},x.history_act=(Nt,nn=!1)=>{switch(We=x.min(x.max(0,We+Nt),x.DrawingStack.length),Nt){case 1:x.DrawingStack.length&&(te.style.fill="var(--ion-color-dark)"),We==x.DrawingStack.length&&(ne.style.fill="var(--ion-color-medium)"),dt(I,x.DrawingStack[We-1]);break;case-1:x.DrawingStack.length&&(ne.style.fill="var(--ion-color-dark)"),We<1?(te.style.fill="var(--ion-color-medium)",I.clear(255,255,255,255),x.redraw()):ct()}!nn&&_.ReadyToShareAct&&_.webrtc.dataChannel.send(JSON.stringify({type:"same",act:"history_act",data:Nt}))},x.open_crop_tool=()=>{_.isCropMode?(_.isCropMode=!1,x.redraw()):(_.isCropMode=!0,Q.x=I.width,Q.y=I.height,R.x=0,R.y=0,x.redraw()),x.change_checkmark()},x.apply_crop=(Nt=!0)=>{if(Nt&&_.isMobile&&R.div(ie),I.resizeCanvas(Q.x,Q.y),A=x.createVector(I.width/2,I.height/2),Nt&&Y.sub(R),ct(),H.resizeCanvas(Q.x,Q.y),H.push(),H.background(_.navParams.data.isDarkMode?26:255),H.translate(Y),x.BaseImage&&H.image(x.BaseImage,0,0),H.pop(),H.redraw(),_.isCropMode=!1,x.change_checkmark(),x.SetCanvasViewportInit(),Nt&&_.ReadyToShareAct){let nn=_.p5voidDraw.getCropPos(),fn=_.p5voidDraw.getCropSize();_.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"crop",cropPX:nn.x,cropPY:nn.y,cropSX:fn.x,cropSY:fn.y}))}},x.SetDrawable=dn,z=x.createElement("table"),z.style("position: absolute; top: 0px;"),z.style(`width: 100%; height: ${Tt}px;`),z.style("background-color: var(--voidDraw-menu-background);"),z.parent(M);let et=z.elt.insertRow(0),ot=et.insertCell(0);ot.innerHTML='<ion-icon style="width: 27px; height: 27px" name="wifi-outline"></ion-icon>',ot.style.textAlign="center",ot.style.cursor="pointer",ot.onclick=()=>{_.ClickRemoteAddButton()};let xt=et.insertCell(1);xt.innerHTML='<ion-icon style="width: 27px; height: 27px" name="crop"></ion-icon>',xt.style.textAlign="center",xt.style.cursor="pointer",xt.onclick=()=>{_.open_crop_tool()};let bt=et.insertCell(2);bt.innerHTML='<ion-icon style="width: 27px; height: 27px" name="checkmark"></ion-icon>',bt.style.textAlign="center",bt.style.cursor="pointer",bt.onclick=()=>{_.dismiss_draw()},x.change_checkmark=()=>{bt.innerHTML=_.isCropMode?'<ion-icon style="width: 27px; height: 27px" name="cut-sharp"></ion-icon>':'<ion-icon style="width: 27px; height: 27px" name="checkmark"></ion-icon>'},k=x.createElement("table"),k.style("position: absolute; bottom: 0px;"),k.style(`width: 100%; height: ${Tt}px;`),k.style("background-color: var(--voidDraw-menu-background);"),k.parent(M);let At=k.elt.insertRow(0),un=At.insertCell(0);un.innerHTML='<ion-icon id="undoIcon" style="width: 27px; height: 27px" name="arrow-undo"></ion-icon>',te=document.getElementById("undoIcon"),te.style.fill="var(--ion-color-medium)",un.style.textAlign="center",un.style.cursor="pointer",un.onclick=()=>{_.p5voidDraw.history_act(-1)};let mt=At.insertCell(1);mt.innerHTML='<ion-icon id="redoIcon" style="width: 27px; height: 27px" name="arrow-redo"></ion-icon>',ne=document.getElementById("redoIcon"),ne.style.fill="var(--ion-color-medium)",mt.style.textAlign="center",mt.style.cursor="pointer",mt.onclick=()=>{_.p5voidDraw.history_act(1)};let St=At.insertCell(2);St.innerHTML='<ion-icon style="width: 27px; height: 27px" name="color-palette"></ion-icon>',G.style("width: 0px; height: 0px; opacity: 0;"),G.parent(St),G.elt.oninput=()=>{let Nt=G.color().levels,nn=`#${x.hex(Nt[0],2)}${x.hex(Nt[1],2)}${x.hex(Nt[2],2)}`;St.childNodes[0].style.color=nn},m.path&&(G.value("#ff0000"),G.elt.oninput()),St.style.textAlign="center",St.style.cursor="pointer",St.onclick=()=>{G.elt.click()};let Jt=At.insertCell(3);if(Jt.innerHTML='<ion-icon style="width: 27px; height: 27px" name="pencil"></ion-icon>',Jt.style.textAlign="center",Jt.style.cursor="pointer",Jt.onclick=()=>{_.change_line_weight()},x.SetCanvasViewportInit=()=>{P.hide(),x.resizeCanvas(M.clientWidth,M.clientHeight),Ae.x=x.width/2,Ae.y=x.height/2,K.x=0,K.y=0;let Nt=M.clientHeight-112;ie=M.clientWidth/Nt<I.width/I.height?M.clientWidth/I.width:Nt/I.height,P.show(),x.redraw()},I=x.createGraphics(m.width,m.height),A=x.createVector(I.width/2,I.height/2),I.pixelDensity(1),I.noLoop(),I.noFill(),x.ActualCanvas=I,H=x.createGraphics(m.width,m.height),H.pixelDensity(1),H.noLoop(),H.noFill(),H.background(_.navParams.data.isDarkMode?26:255),x.ImageCanvas=H,m.path){let Nt=yield _.indexed.loadBlobFromUserPath(m.path,""),nn=URL.createObjectURL(Nt);x.loadImage(nn,fn=>{x.BaseImage=fn,H.image(x.BaseImage,0,0),H.redraw(),URL.revokeObjectURL(nn),x.SetCanvasViewportInit()},fn=>{console.error("\uadf8\ub9bc\ud310 \ubc30\uacbd \uc774\ubbf8\uc9c0 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",fn),H.redraw(),URL.revokeObjectURL(nn),x.SetCanvasViewportInit()})}else H.redraw(),x.SetCanvasViewportInit();m.width<m.height&&(X/=ie),x.getCropPos=pe,x.setCropPos=Ve,x.getCropSize=Se,x.setCropSize=qe,x.RemoteDrawStart=at,x.RemoteDrawing=Qe,x.RemoteDrawingEnd=st,x.updateRemoteCurve=$e,x.CancelCurrentDraw=()=>{Je=void 0,x.redraw()},_.navParams.data.scrollHeight&&Ve(0,-_.navParams.data.scrollHeight)});let K=x.createVector(),ie=1,Ae=x.createVector(0,0),Y=x.createVector(),R=x.createVector(),Q=x.createVector(),pe=()=>Y,Se=()=>Q,Ve=(et,ot)=>{Y.x=et,Y.y=ot,H.translate(et,ot),x.redraw()},qe=(et,ot)=>{Q.x=et,Q.y=ot,H.translate(et,ot),x.redraw()};x.draw=()=>{if(x.clear(255,255,255,255),x.push(),x.translate(Ae),x.scale(ie),x.translate(K),x.image(H,0,0),I&&x.image(I,0,0),this.isCropMode)x.push(),x.translate(-I.width/2,-I.height/2),x.translate(R),x.noStroke(),x.fill(0,100),x.rect(0,0,Q.x,Q.y),x.stroke(255,0,0),x.strokeWeight(8),x.beginShape(x.LINES),x.vertex(0,0),x.vertex(Q.x,0),x.vertex(Q.x,0),x.vertex(Q.x,.8*Q.y),x.vertex(0,0),x.vertex(0,Q.y),x.vertex(0,Q.y),x.vertex(.8*Q.x,Q.y),x.stroke(255,255,0),x.vertex(.8*Q.x,Q.y),x.vertex(Q.x,Q.y),x.vertex(Q.x,.8*Q.y),x.vertex(Q.x,Q.y),x.endShape(),x.pop();else{if(Ze&&Ze.pos&&Ze.pos.length){x.push(),x.translate(Y),x.stroke(Ze.color),x.strokeWeight(Ze.weight),x.beginShape();for(let et=0,ot=Ze.pos.length;et<ot;et++)x.curveVertex(Ze.pos[et].x-A.x,Ze.pos[et].y-A.y);x.endShape(),x.pop()}if(this.ReadyToShareAct&&Je&&Je.pos&&Je.pos.length){x.push(),x.translate(Y),x.stroke(Je.color),x.strokeWeight(Je.weight),x.beginShape();for(let et=0,ot=Je.pos.length;et<ot;et++)x.curveVertex(Je.pos[et].x-A.x,Je.pos[et].y-A.y);x.endShape(),x.pop()}}x.pop()},x.DrawingStack=[],x.ClearCurrentDraw=()=>{Ze={},x.DrawingStack.length=0,We=0,ct(),x.redraw()};let We=0,ct=()=>{I.clear(255,255,255,255);for(let et=0;et<We;et++)dt(I,x.DrawingStack[et])},dt=(et,ot=Ze)=>{if(ot.color){et.push(),et.translate(Y),et.stroke(ot.color),et.strokeWeight(ot.weight),et.beginShape();for(let xt=0,bt=ot.pos.length;xt<bt;xt++)et.curveVertex(ot.pos[xt].x,ot.pos[xt].y);et.endShape(),et.pop(),et.redraw(),x.redraw()}},$e=et=>{for(let ot=0,xt=et.length;ot<xt;ot++)dt(I,et[ot]);We=x.DrawingStack.length};x.windowResized=()=>{setTimeout(()=>{x.SetCanvasViewportInit()},0)};let Ze={},Je={},at=et=>{Je=et,x.redraw()},Qe=et=>{Je&&Je.pos&&Je.pos.push(et),x.redraw()},st=et=>{Je.pos.push(et),Je.pos.push(et),x.DrawingStack.length=We,Je&&(x.DrawingStack.push(Je),dt(I,Je)),We=x.DrawingStack.length,Je=void 0,x.redraw()};const Tt=56;let on,Ut,ln,$t,Yt,hn,an,yn=0,It=!1,Vt=!1;x.mousePressed=et=>{if(Wt){if(x.mouseY<Tt||x.mouseY>x.height-Tt)return void(Vt=!0);switch(et.which){case 1:this.isCropMode?ze():Be();break;case 3:Ut=x.createVector(x.mouseX,x.mouseY),hn=K.copy(),on=x.createVector(x.mouseX,x.mouseY);break;case 2:x.SetCanvasViewportInit()}}};let ze=(et,ot)=>{let xt=Ke(et,ot),bt=R.copy().add(Q).sub(x.createVector(I.width/2,I.height/2)),At=xt.dist(bt),un=.2*x.max(Q.x,Q.y);It=At<un,It?($t=x.createVector(x.mouseX,x.mouseY),an=Q.copy()):ln=x.createVector(x.mouseX,x.mouseY).sub(R.mult(ie))},Be=(et,ot)=>{te.style.fill="var(--ion-color-dark)",ne.style.fill="var(--ion-color-medium)";let xt=Ke(et,ot);xt.sub(Y),xt.add(A);let bt={x:xt.x,y:xt.y},At=G.color().levels,un=`#${x.hex(At[0],2)}${x.hex(At[1],2)}${x.hex(At[2],2)}`;Ze={pos:[],color:un,weight:X*B},Ze.pos.push(bt),Ze.pos.push(bt),this.ReadyToShareAct&&this.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"start",data:Ze})),x.redraw()};x.mouseDragged=et=>{if(Wt)switch(et.which){case 1:if(this.isCropMode&&!Vt){let ot=x.createVector(x.mouseX,x.mouseY);It?Q=an.copy().add($t.copy().sub(ot).div(-ie)):R=ln.copy().sub(ot).div(-ie),x.redraw()}else{let ot=Ke();ot.sub(Y),ot.add(A);let xt={x:ot.x,y:ot.y};Ze&&Ze.pos&&Ze.pos.push(xt),this.ReadyToShareAct&&this.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"moved",data:xt})),x.redraw()}break;case 3:on=x.createVector(x.mouseX,x.mouseY),K=hn.copy().add(on.sub(Ut).div(ie)),x.redraw()}},x.mouseWheel=et=>{Wt&&(x.mouseY<Tt||x.mouseY>x.height-Tt?Vt=!0:(Oe(Ke()),ie*=et.deltaY<0?1.1:.9,x.redraw()))},x.mouseReleased=et=>{if(Wt){if(1===et.which&&!this.isCropMode&&!Vt){let ot=Ke();ot.sub(Y),ot.add(A);let xt={x:ot.x,y:ot.y};if(Ze)try{Ze.pos.push(xt),Ze.pos.push(xt),this.ReadyToShareAct&&this.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"end",data:xt}))}catch{}en()}Vt=!1}};let Oe=et=>{Ae=x.createVector(x.mouseX,x.mouseY),K=et.mult(-1)},Ke=(et,ot)=>{let xt=x.createVector(et||x.mouseX,ot||x.mouseY);return xt.sub(Ae),xt.div(ie),xt.sub(K),xt},Et=[],Bt=!1,Wt=!0,dn=et=>{Wt=et};x.touchStarted=et=>{if(Wt){if(Et=et.touches,et.changedTouches[0].clientY<Tt||et.changedTouches[0].clientY>x.height-Tt)return void(Vt=!0);switch(Bt=!0,Et.length){case 1:this.isCropMode?ze(et.changedTouches[0].clientX,et.changedTouches[0].clientY-Tt):Be(et.changedTouches[0].clientX,et.changedTouches[0].clientY-Tt);break;case 2:let ot=x.createVector(Et[0].clientX,Et[0].clientY-56),xt=x.createVector(Et[1].clientX,Et[1].clientY-56);yn=ot.dist(xt),Ut=ot.copy().add(xt).div(2),hn=K.copy(),Yt=ie,Ze=void 0,this.ReadyToShareAct&&this.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"cancel"}));break;default:Bt=!1,x.SetCanvasViewportInit()}}},x.touchMoved=et=>{if(Wt&&Bt){switch(Et=et.touches,Et.length){case 1:if(this.isCropMode&&!Vt){let ot=x.createVector(et.changedTouches[0].clientX,et.changedTouches[0].clientY-Tt);It?Q=an.copy().add($t.copy().sub(ot).div(-ie)):R=ln.copy().sub(ot).div(-ie),x.redraw()}else{let ot=Ke(et.changedTouches[0].clientX,et.changedTouches[0].clientY-Tt);ot.sub(Y),ot.add(A);let xt={x:ot.x,y:ot.y};Ze&&Ze.pos&&Ze.pos.push(xt),this.ReadyToShareAct&&this.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"moved",data:xt})),x.redraw()}break;case 2:{let ot=x.createVector(Et[0].clientX,Et[0].clientY-56),xt=x.createVector(Et[1].clientX,Et[1].clientY-56),bt=ot.copy().add(xt).div(2);ie=ot.dist(xt)/yn*Yt,K=hn.copy().add(bt.sub(Ut).div(ie)),x.redraw()}}return!1}},x.touchEnded=et=>{if(Wt&&et.changedTouches){switch(Et=et.touches,Bt=!1,Et.length){case 0:if(!this.isCropMode&&!Vt&&Ze){let ot=Ke(et.changedTouches[0].clientX,et.changedTouches[0].clientY-Tt);ot.sub(Y),ot.add(A);let xt={x:ot.x,y:ot.y};Ze.pos.push(xt),Ze.pos.push(xt),this.ReadyToShareAct&&this.webrtc.dataChannel.send(JSON.stringify({type:"draw",act:"end",data:xt})),en()}break;case 1:if(!Bt)return;Gt(),yn=0,Ze=void 0}Vt=!1}};let Gt=()=>{Ut=x.createVector(Et[0].clientX,Et[0].clientY-56),hn=K.copy()},en=()=>{x.DrawingStack.length=We,Ze&&(x.DrawingStack.push(Ze),dt(I,Ze)),We=x.DrawingStack.length,Ut=void 0,Vt=!1,Ze=void 0,x.redraw()}})}ClickRemoteAddButton(){this.isDrawServerCreated||(this.ServerList=this.nakama.get_all_online_server(),this.ServerList.length?(this.p5voidDraw.SetDrawable(!1),this.RemoteDraw.open()):this.RemoteBridgeServerSelected({detail:{value:"local"}}))}RemoteBridgeServerSelected(m){var _=this;return(0,j.A)(function*(){if(_.isDrawServerCreated)return;let M=m.detail.value;if("local"===M){let x;_.alertCtrl.create({header:_.lang.text.voidDraw.LocalAddrInput,inputs:[{type:"text",placeholder:"(wss://)0.0.0.0"},{type:"text",placeholder:_.lang.text.voidDraw.CreateChannel}],buttons:[{text:_.lang.text.voidDraw.Confirm,handler:H=>{H[0]?(_.InputCustomAddress=H[0],_.p5voidDraw.SetDrawable(!1),x=!0,_.isDrawServerCreated=!0,_.CreateOnMessageLink(),_.CreateOnOpenAct(!1,(0,j.A)(function*(){let P=_.p5voidDraw.getCropPos();_.nakama.VoidDrawInitCallBack=void 0,yield new Promise(z=>setTimeout(z,40)),_.IceWebRTCWsClient.send(JSON.stringify({type:"size",width:_.p5voidDraw.ActualCanvas.width,height:_.p5voidDraw.ActualCanvas.height,cropX:P.x,cropY:P.y}))})),_.CreateRemoteLocalClient(H[0],H[1])):_.p5toast.show({text:_.lang.text.voidDraw.InputAddress})}}]}).then(H=>{H.onDidDismiss().then(()=>{!x&&!_.WillLeaveHere&&_.global.RestoreShortCutAct()}),_.global.StoreShortCutAct(),H.present()})}else{_.RemoteLoadingCtrl=yield _.loadingCtrl.create({message:_.lang.text.voidDraw.WaitingConnection}),_.RemoteLoadingCtrl.present();let I=M.info.isOfficial,A=M.info.target;_.webrtc.CurrentMatch=_.nakama.self_match[I][A],_.isDrawServerCreated=!0,_.RemoteLoadingCtrl.message=_.lang.text.voidDraw.WebRTC_Init,_.webrtc.initialize("data",void 0,{isOfficial:I,target:A}).then((0,j.A)(function*(){_.CreateOnMessageLink(),_.CreateOnOpenAct(!1,(0,j.A)(function*(){let H=_.p5voidDraw.getCropPos();_.nakama.VoidDrawInitCallBack=void 0,yield _.nakama.servers[I][A].socket.sendMatchState(_.nakama.self_match[I][A].match_id,o.I.VOIDDRAW_INIT,encodeURIComponent(JSON.stringify({type:"size",width:_.p5voidDraw.ActualCanvas.width,height:_.p5voidDraw.ActualCanvas.height,cropX:H.x,cropY:H.y})))})),_.webrtc.CreateOffer(),_.nakama.VoidDrawInitCallBack=H=>{_.create_new_canvas({width:H.width,height:H.height}),_.p5voidDraw.setCropPos(H.cropX,H.cropY),_.p5voidDraw.redraw()},_.webrtc.InitReplyCallback=(0,j.A)(function*(){_.CreateOnOpenAct(!0),_.webrtc.CreateAnswer()}),yield _.nakama.servers[I][A].socket.sendMatchState(_.nakama.self_match[I][A].match_id,o.I.WEBRTC_INIT_REQ_SIGNAL,encodeURIComponent(""))}))}})()}CreateRemoteLocalClient(m,_){var M=this;let H,P,x=m.split("://"),I=x.pop().split(":"),A=x.pop();A?A+=":":A=I[0].replace(/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/g,"")?"wss:":"ws:",this.IceWebRTCWsClient=new WebSocket(`${A}//${I[0]}:12013/`),this.AddShortCut(),this.isDrawServerCreated=!0,this.IceWebRTCWsClient.onopen=(0,j.A)(function*(){M.p5toast.show({text:`${M.lang.text.voidDraw.Connected}: ${I[0]}`}),_?(M.IceWebRTCWsClient.send(JSON.stringify({type:"join",channel:_})),yield new Promise(z=>setTimeout(z,40)),M.IceWebRTCWsClient.send(JSON.stringify({type:"size_req",channel:_})),M.RemoteLoadingCtrl=yield M.loadingCtrl.create({message:M.lang.text.voidDraw.WaitingConnection}),M.RemoteLoadingCtrl.present(),M.p5voidDraw.SetDrawable(!1)):M.IceWebRTCWsClient.send(JSON.stringify({type:"init"}))}),this.IceWebRTCWsClient.onmessage=function(){var z=(0,j.A)(function*(k){let te,ne=JSON.parse(k.data);if(void 0===P)P=ne.uid;else if(P==ne.uid)return;switch(ne.type){case"init_id":H=yield M.modalCtrl.create({component:se.n,componentProps:{address:m,channel:ne.id},cssClass:"transparent-modal"}),H.onWillDismiss().then(()=>{M.global.RestoreShortCutAct()}),M.global.StoreShortCutAct(),H.present(),M.IceWebRTCWsClient.send(JSON.stringify({type:"join",channel:ne.id})),te=ne.id;break;case"init_req":M.p5voidDraw.SetDrawable(!1),M.RemoteLoadingCtrl.message=M.lang.text.voidDraw.WebRTC_Init,M.webrtc.initialize("data").then((0,j.A)(function*(){M.CreateOnMessageLink(),M.CreateOnOpenAct(!1,(0,j.A)(function*(){M.nakama.VoidDrawInitCallBack=void 0})),M.webrtc.CreateOffer(),yield new Promise(X=>setTimeout(X,40)),M.IceWebRTCWsClient.send(JSON.stringify({type:"socket_react",channel:te,act:"WEBRTC_INIT_REQ_SIGNAL"}))}));break;case"size_req":H&&H.dismiss(),M.RemoteLoadingCtrl=yield M.loadingCtrl.create({message:M.lang.text.voidDraw.WaitingConnection}),M.RemoteLoadingCtrl.present();let G=M.p5voidDraw.getCropPos();M.IceWebRTCWsClient.send(JSON.stringify({type:"size",width:M.p5voidDraw.ActualCanvas.width,height:M.p5voidDraw.ActualCanvas.height,cropX:G.x,cropY:G.y,channel:te}));break;case"socket_react":switch(ne.act){case"WEBRTC_REPLY_INIT_SIGNAL":M.RemoteLoadingCtrl.message=M.lang.text.voidDraw.WebRTC_Reply,M.nakama.socket_reactive[ne.act](ne.data_str),"EOL"==ne.data_str&&M.webrtc.CreateAnswer({client:M.IceWebRTCWsClient,channel:te}),M.RemoteLoadingCtrl.message=M.lang.text.voidDraw.WebRTC_Ice;break;case"WEBRTC_ICE_CANDIDATES":M.nakama.socket_reactive[ne.act](ne.data_str,{client:M.IceWebRTCWsClient,channel:te}),M.RemoteLoadingCtrl.dismiss(),M.p5voidDraw.SetDrawable(!0),M.IceWebRTCWsClient.send(JSON.stringify({type:"init_end",channel:te}));break;case"WEBRTC_INIT_REQ_SIGNAL":M.nakama.socket_reactive[ne.act]({client:M.IceWebRTCWsClient,channel:te});break;case"WEBRTC_RECEIVE_ANSWER":M.nakama.socket_reactive[ne.act](ne.data_str,{client:M.IceWebRTCWsClient,channel:te})}break;case"size":M.create_new_canvas({width:ne.width,height:ne.height}),M.p5voidDraw.setCropPos(ne.cropX,ne.cropY),M.p5voidDraw.redraw(),M.webrtc.initialize("data").then(()=>{M.CreateOnOpenAct(!0),M.CreateOnMessageLink(),M.webrtc.CreateOffer(),M.IceWebRTCWsClient.send(JSON.stringify({type:"init_req"}))});break;case"init_end":M.p5voidDraw.SetDrawable(!0)}});return function(k){return z.apply(this,arguments)}}(),this.IceWebRTCWsClient.onerror=z=>{if(console.log("\uadf8\ub9bc\ud310 \uae30\ub2a5 \uacf5\uc720 \uc5f0\uacb0 \uc624\ub958: ",z),0==this.InputCustomAddress.indexOf("wss://")&&("DesktopPWA"==gt.aH||"MobilePWA"==gt.aH)){let k=this.InputCustomAddress.split("://");window.open(`https://${k.pop()}:9001`,"_blank"),this.InputCustomAddress=void 0}this.IceWebRTCWsClient.close(),this.p5toast.show({text:`${this.lang.text.TodoDetail.Disconnected}: ${z}`})},this.IceWebRTCWsClient.onclose=()=>{H&&H.dismiss(),this.isDrawServerCreated=!1,this.webrtc.close_webrtc(!1),this.IceWebRTCWsClient.onopen=null,this.IceWebRTCWsClient.onclose=null,this.IceWebRTCWsClient.onmessage=null,this.IceWebRTCWsClient.onerror=null}}CreateOnOpenAct(m=!1,_=(0,j.A)(function*(){})){var M=this;this.webrtc.dataChannelOpenAct=(0,j.A)(function*(){if(M.p5voidDraw.SetDrawable(!0),M.ReadyToShareAct=!0,M.RemoteLoadingCtrl&&M.RemoteLoadingCtrl.dismiss(),!m&&(_&&(yield _()),M.p5voidDraw.ClearCurrentDraw(),M.navParams.data.path)){let x=yield M.indexed.loadBlobFromUserPath(M.navParams.data.path,""),A=(yield M.global.GetBase64ThroughFileReader(x)).match(/(.{1,64})/g);for(let H=0,P=A.length;H<P;H++)yield M.webrtc.dataChannel.send(JSON.stringify({type:"background",act:"part",data:A[H]}));yield M.webrtc.dataChannel.send(JSON.stringify({type:"background",act:"EOF"}))}})}CreateOnMessageLink(){this.webrtc.dataChannelOnMsgAct=m=>{let _=JSON.parse(m);switch(_.type){case"drawline":this.p5voidDraw.DrawingStack=_.data,this.p5voidDraw.updateRemoteCurve(_.data),this.p5voidDraw.redraw();break;case"background":switch(_.act){case"part":this.RemoteBackgroundImage+=_.data;break;case"EOF":this.p5voidDraw.loadImage(this.RemoteBackgroundImage,M=>{this.p5voidDraw.BaseImage=M,this.p5voidDraw.ImageCanvas.image(this.p5voidDraw.BaseImage,0,0),this.p5voidDraw.ImageCanvas.redraw(),this.p5voidDraw.SetCanvasViewportInit(),this.RemoteBackgroundImage=""},M=>{console.error("\uadf8\ub9bc\ud310 \ubc30\uacbd \uc774\ubbf8\uc9c0 \ubd88\ub7ec\uc624\uae30 \uc624\ub958: ",M),this.p5voidDraw.ImageCanvas.redraw(),this.p5voidDraw.SetCanvasViewportInit(),this.RemoteBackgroundImage=""})}break;case"draw":switch(_.act){case"start":this.p5voidDraw.RemoteDrawStart(_.data);break;case"moved":this.p5voidDraw.RemoteDrawing(_.data);break;case"cancel":this.p5voidDraw.CancelCurrentDraw();break;case"crop":this.p5voidDraw.setCropPos(_.cropPX,_.cropPY),this.p5voidDraw.setCropSize(_.cropSX,_.cropSY),this.isCropMode=!0,this.p5voidDraw.apply_crop(!1);break;case"end":this.p5voidDraw.RemoteDrawingEnd(_.data)}break;case"same":"history_act"===_.act&&this.p5voidDraw.history_act(_.data,!0)}},this.webrtc.dataChannelOnCloseAct=()=>{this.ReadyToShareAct=!1,this.isDrawServerCreated=!1,this.RemoteLoadingCtrl&&this.RemoteLoadingCtrl.dismiss(),this.p5voidDraw.SetDrawable(!0),this.p5toast.show({text:this.lang.text.TodoDetail.Disconnected}),this.nakama.VoidDrawInitCallBack=void 0}}change_line_weight(){this.p5voidDraw.set_line_weight()}open_crop_tool(){this.p5voidDraw.open_crop_tool()}dismiss_draw(){this.isCropMode?this.p5voidDraw.apply_crop():(this.mainLoading.present(),this.WithoutSave=!1,this.p5voidDraw.save_image())}ionSelectCancel(){this.p5voidDraw&&this.p5voidDraw.SetDrawable&&!this.isDrawServerCreated&&this.p5voidDraw.SetDrawable(!0)}RemoveShortCut(){this.p5voidDraw&&this.p5voidDraw.SetDrawable&&this.p5voidDraw.SetDrawable(!1),delete this.global.p5key.KeyShortCut.HistoryAct,delete this.global.p5key.KeyShortCut.AddAct,delete this.global.p5key.KeyShortCut.DeleteAct,delete this.global.p5key.KeyShortCut.SKeyAct,delete this.global.p5key.KeyShortCut.FKeyAct,delete this.global.p5key.KeyShortCut.Escape}ionViewWillLeave(){this.WillLeaveHere=!0,this.RemoveShortCut(),this.p5voidDraw&&this.p5voidDraw.remove(),this.IceWebRTCWsClient&&this.IceWebRTCWsClient.close(),this.CancelRemoteAct()}ionViewDidLeave(){this.WithoutSave&&this.mainLoading.remove()}}return(u=p).\u0275fac=function(m){return new(m||u)(V.rXU(v.y),V.rXU(b.W3),V.rXU(b.hG),V.rXU(b.Xi),V.rXU(y.z3),V.rXU(g.y8),V.rXU(C.n),V.rXU(o.X),V.rXU(w.G),V.rXU(s.j))},u.\u0275cmp=V.VBU({type:u,selectors:[["app-void-draw"]],viewQuery:function(m,_){if(1&m&&V.GBs(a,5),2&m){let M;V.mGM(M=V.lsd())&&(_.RemoteDraw=M.first)}},decls:14,vars:4,consts:[["RemoteDraw",""],[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],["oncontextmenu","return false;"],["hidden",""],["value","local",3,"ionChange","ionCancel","label"],["value","local"],[3,"value",4,"ngFor","ngForOf"],["id","voidDraw",1,"full_screen",2,"display","flex","overflow","hidden","background-color","black"],[3,"value"]],template:function(m,_){if(1&m){const M=V.RV6();V.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),V.EFF(3),V.k0s(),V.j41(4,"ion-buttons",2),V.bIt("click",function(){return V.eBV(M),V.Njj(_.modalCtrl.dismiss())}),V.nrm(5,"ion-back-button",3),V.k0s()()(),V.j41(6,"ion-content",4)(7,"div",5)(8,"ion-select",6,0),V.bIt("ionChange",function(I){return V.eBV(M),V.Njj(_.RemoteBridgeServerSelected(I))})("ionCancel",function(){return V.eBV(M),V.Njj(_.ionSelectCancel())}),V.j41(10,"ion-select-option",7),V.EFF(11),V.k0s(),V.DNE(12,d,2,2,"ion-select-option",8),V.k0s()(),V.nrm(13,"div",9),V.k0s()}2&m&&(V.R7$(3),V.JRh(_.lang.text.ChatRoom.voidDraw),V.R7$(5),V.Y8G("label",_.lang.text.voidDraw.ConnectToAddress),V.R7$(3),V.JRh(_.lang.text.voidDraw.InternalConn),V.R7$(),V.Y8G("ngForOf",_.ServerList))},dependencies:[l.Sq,b.QW,b.W9,b.eU,b.Nm,b.Ip,b.BC,b.ai,b.Je,b.el]}),p})()},8065:(En,Kt,me)=>{"use strict";me.d(Kt,{j:()=>O});var j=me(3953);let O=(()=>{var ge;class gt{constructor(){this.colors={offline:"#888888",missing:"#880000",pending:"#dddd0c",online:"#4ff14f",certified:"#00ffff"},this.chatroom={},this.project={},this.task={},this.settings={groupServer:"offline",dedicatedServer:"offline",dedicated_groupchat:"offline"},this.tools={},this.groupServer={official:{default:"offline"},unofficial:{}},setInterval(()=>{},350)}}return(ge=gt).\u0275fac=function(se){return new(se||ge)},ge.\u0275prov=j.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"}),gt})()},2506:(En,Kt,me)=>{"use strict";me.d(Kt,{f:()=>z});var j=me(467),O=me(9349),ge=me(3953),gt=me(3656),o=me(5374),se=me(4234),V=me(755),v=me(482),b=me(1357),g=me(9900),y=me(4237),C=me(177),w=me(4341);const s=["VideoIn"],l=["AudioIn"],a=["AudioOut"],d=["RegisterNewWebRTCServer"],f=()=>[.5,.6,.7,.8,.9,1];function u(k,te){if(1&k&&(ge.j41(0,"ion-item")(1,"ion-label"),ge.EFF(2),ge.k0s(),ge.nrm(3,"ion-radio",15),ge.k0s()),2&k){const ne=te.$implicit,G=te.index;ge.R7$(2),ge.JRh(ne.label||ne.deviceId),ge.R7$(),ge.Y8G("value",G)}}function p(k,te){if(1&k&&(ge.j41(0,"div")(1,"ion-item-divider")(2,"ion-label"),ge.EFF(3),ge.k0s()(),ge.j41(4,"ion-radio-group",13,2),ge.DNE(6,u,4,2,"ion-item",14),ge.k0s()()),2&k){const ne=ge.XpG();ge.R7$(3),ge.JRh(ne.lang.text.WebRTCDevManager.VideoIn),ge.R7$(3),ge.Y8G("ngForOf",ne.VideoInputs)}}function c(k,te){if(1&k&&(ge.j41(0,"ion-item")(1,"ion-label"),ge.EFF(2),ge.k0s(),ge.nrm(3,"ion-radio",15),ge.k0s()),2&k){const ne=te.$implicit,G=te.index;ge.R7$(2),ge.JRh(ne.label||ne.deviceId),ge.R7$(),ge.Y8G("value",G)}}function m(k,te){if(1&k&&(ge.j41(0,"div")(1,"ion-item-divider")(2,"ion-label"),ge.EFF(3),ge.k0s()(),ge.j41(4,"ion-radio-group",16,3),ge.DNE(6,c,4,2,"ion-item",14),ge.k0s()()),2&k){const ne=ge.XpG();ge.R7$(3),ge.JRh(ne.lang.text.WebRTCDevManager.AudioIn),ge.R7$(3),ge.Y8G("ngForOf",ne.AudioInputs)}}function _(k,te){if(1&k){const ne=ge.RV6();ge.j41(0,"ion-item",10),ge.bIt("click",function(){ge.eBV(ne);const X=ge.XpG();return ge.Njj(X.saveSetup())}),ge.j41(1,"ion-label",11),ge.EFF(2),ge.k0s()()}if(2&k){const ne=ge.XpG();ge.R7$(2),ge.JRh(ne.lang.text.WebRTCDevManager.saveSetup)}}function M(k,te){if(1&k){const ne=ge.RV6();ge.j41(0,"img",21),ge.bIt("click",function(){ge.eBV(ne);const X=ge.XpG().index,B=ge.XpG();return ge.Njj(B.copy_info(X))}),ge.k0s()}if(2&k){const ne=ge.XpG().index,G=ge.XpG();ge.Y8G("src",G.QRCodes[ne],ge.B4B)}}function x(k,te){if(1&k){const ne=ge.RV6();ge.j41(0,"ion-accordion",15)(1,"ion-item",17)(2,"ion-label"),ge.EFF(3),ge.k0s()(),ge.j41(4,"div",18),ge.DNE(5,M,1,1,"img",19),ge.j41(6,"ion-item",10),ge.bIt("click",function(){const X=ge.eBV(ne).index,B=ge.XpG();return ge.Njj(B.RemoveServer(X))}),ge.j41(7,"ion-label",20),ge.EFF(8),ge.k0s()()()()}if(2&k){const ne=te.$implicit,G=te.index,X=ge.XpG();ge.Y8G("value",G),ge.R7$(3),ge.JRh(ne.urls[0]),ge.R7$(2),ge.Y8G("ngIf",X.QRCodes[G]),ge.R7$(3),ge.JRh(X.lang.text.WebRTCDevManager.Remove)}}function I(k,te){if(1&k){const ne=ge.RV6();ge.j41(0,"ion-icon",27),ge.bIt("click",function(){ge.eBV(ne);const X=ge.XpG(3);return ge.Njj(X.AddServerUrl())}),ge.k0s()}}function A(k,te){if(1&k){const ne=ge.RV6();ge.j41(0,"ion-icon",28),ge.bIt("click",function(){ge.eBV(ne);const X=ge.XpG().$implicit,B=ge.XpG(2);return ge.Njj(B.SubtractServerUrl(X))}),ge.k0s()}}function H(k,te){if(1&k){const ne=ge.RV6();ge.j41(0,"ion-item")(1,"ion-input",24),ge.mxI("ngModelChange",function(X){const B=ge.eBV(ne).$implicit,N=ge.XpG(2);return ge.DH7(N.userInput.urls[B],X)||(N.userInput.urls[B]=X),ge.Njj(X)}),ge.k0s(),ge.DNE(2,I,1,0,"ion-icon",25)(3,A,1,0,"ion-icon",26),ge.k0s()}if(2&k){const ne=te.$implicit,G=ge.XpG(2);ge.R7$(),ge.Y8G("label",0==ne?G.lang.text.WebRTCDevManager.Urls:""),ge.R50("ngModel",G.userInput.urls[ne]),ge.R7$(),ge.Y8G("ngIf",0==ne),ge.R7$(),ge.Y8G("ngIf",0!=ne)}}function P(k,te){if(1&k){const ne=ge.RV6();ge.j41(0,"ion-content")(1,"ion-item-divider")(2,"ion-label"),ge.EFF(3),ge.k0s()(),ge.DNE(4,H,4,4,"ion-item",14),ge.j41(5,"ion-item")(6,"ion-input",22),ge.mxI("ngModelChange",function(X){ge.eBV(ne);const B=ge.XpG();return ge.DH7(B.userInput.username,X)||(B.userInput.username=X),ge.Njj(X)}),ge.k0s()(),ge.j41(7,"ion-item")(8,"ion-input",23),ge.mxI("ngModelChange",function(X){ge.eBV(ne);const B=ge.XpG();return ge.DH7(B.userInput.credential,X)||(B.userInput.credential=X),ge.Njj(X)}),ge.k0s()(),ge.j41(9,"ion-item",10),ge.bIt("click",function(){ge.eBV(ne);const X=ge.XpG();return ge.Njj(X.SaveServer())}),ge.j41(10,"ion-label",11),ge.EFF(11),ge.k0s()()()}if(2&k){const ne=ge.XpG();ge.R7$(3),ge.JRh(ne.lang.text.WebRTCDevManager.ServerInfo),ge.R7$(),ge.Y8G("ngForOf",ne.UserInputUrlsLength),ge.R7$(2),ge.Y8G("label",ne.lang.text.WebRTCDevManager.Username),ge.R50("ngModel",ne.userInput.username),ge.R7$(2),ge.Y8G("label",ne.lang.text.WebRTCDevManager.Credential),ge.R50("ngModel",ne.userInput.credential),ge.R7$(3),ge.JRh(ne.lang.text.WebRTCDevManager.Save)}}let z=(()=>{var k;class te{constructor(G,X,B,N,K,ie,Ae,Y){this.navParams=G,this.modalCtrl=X,this.lang=B,this.indexed=N,this.global=K,this.mClipboard=ie,this.p5toast=Ae,this.nakama=Y,this.InOut=[],this.VideoInputs=[],this.AudioInputs=[],this.AudioOutputs=[],this.ServerInfos=[],this.QRCodes=[],this.userInput={urls:[""],username:"",credential:""},this.UserInputUrlsLength=[0],this.BackButtonPressed=!1}InitBrowserBackButtonOverride(){try{window.history.replaceState(null,null,window.location.href),window.onpopstate&&(window.onpopstate=null),window.onpopstate=()=>{this.BackButtonPressed||(window.onpopstate=null,this.BackButtonPressed=!0,this.modalCtrl.dismiss())}}catch(G){console.log("\ud0d0\uc0c9 \uae30\ub85d \ubcc0\uacbd\uc2dc \uc624\ub958 \ubc1c\uc0dd: ",G)}}ngOnInit(){this.InitBrowserBackButtonOverride(),this.InOut=this.navParams.get("list")||[];for(let G=0,X=this.InOut.length;G<X;G++)this.InOut[G].kind.indexOf("videoinput")>=0&&this.VideoInputs.push(this.InOut[G]),this.InOut[G].kind.indexOf("audioinput")>=0&&this.AudioInputs.push(this.InOut[G]),this.InOut[G].kind.indexOf("audiooutput")>=0&&this.AudioOutputs.push(this.InOut[G])}ionViewWillEnter(){var G=this;return(0,j.A)(function*(){try{let X=yield G.indexed.loadTextFromUserPath("servers/webrtc_server.json");G.ServerInfos=JSON.parse(X);for(let B=0,N=G.ServerInfos.length;B<N;B++){let ie=G.global.readasQRCodeFromString(`${O.d2}godotchat_pwa/?rtcserver=[${G.ServerInfos[B].urls}],${G.ServerInfos[B].username},${G.ServerInfos[B].credential}`);G.QRCodes[B]=ie}}catch{}try{let X=localStorage.getItem("VideoInputDev");G.VideoInput.value=Number(X)||0}catch{}try{let X=localStorage.getItem("AudioInputDev");G.AudioInput.value=Number(X)||0}catch{}})()}ionViewDidEnter(){this.global.p5key.KeyShortCut.AddAct=()=>{this.OpenNewWebRTCServerForm()}}saveSetup(){let G={};this.VideoInput&&void 0!==this.VideoInput.value&&(G.videoinput=this.VideoInputs[this.VideoInput.value],localStorage.setItem("VideoInputDev",this.VideoInput.value)),this.AudioInput&&void 0!==this.AudioInput.value&&(G.audioinput=this.AudioInputs[this.AudioInput.value],localStorage.setItem("AudioInputDev",this.AudioInput.value)),this.AudioOutput&&void 0!==this.AudioOutput.value&&(G.audiooutput=this.AudioOutputs[this.AudioOutput.value]),this.modalCtrl.dismiss(G)}AddServerUrl(){this.userInput.urls.push(""),this.UserInputUrlsLength.push(this.UserInputUrlsLength.length)}SubtractServerUrl(G){this.userInput.urls.splice(G,1),this.UserInputUrlsLength.pop()}OpenNewWebRTCServerForm(){this.RegisterServer.present()}SaveServer(){var G=this;return(0,j.A)(function*(){G.userInput.urls.filter(N=>N);for(let N=G.userInput.urls.length-1;N>=0;N--)G.userInput.urls[N].trim()||G.userInput.urls.splice(N,1);if(!G.userInput.urls.length)return void G.p5toast.show({text:G.lang.text.WebRTCDevManager.IgnoreSave});yield G.nakama.SaveWebRTCServer(G.userInput);let B=G.global.readasQRCodeFromString(`${O.d2}godotchat_pwa/?rtcserver=[${G.userInput.urls}],${G.userInput.username},${G.userInput.credential}`);G.QRCodes.push(B),G.ServerInfos.push(G.userInput),G.userInput={urls:[""],username:"",credential:""},G.UserInputUrlsLength.length=0,G.UserInputUrlsLength.push(0),G.RegisterServer.dismiss()})()}copy_info(G){let X=`${O.d2}godotchat_pwa/?rtcserver=[${this.ServerInfos[G].urls}],${this.ServerInfos[G].username},${this.ServerInfos[G].credential}`;this.mClipboard.copy(X).catch(B=>{this.global.WriteValueToClipboard("text/plain",X)})}RemoveServer(G){var X=this;return(0,j.A)(function*(){X.ServerInfos.splice(G,1),yield X.indexed.saveTextFileToUserPath(JSON.stringify(X.ServerInfos),"servers/webrtc_server.json")})()}ionViewWillLeave(){delete this.global.p5key.KeyShortCut.AddAct}}return(k=te).\u0275fac=function(G){return new(G||k)(ge.rXU(gt.y8),ge.rXU(o.W3),ge.rXU(se.y),ge.rXU(V.n),ge.rXU(v.z3),ge.rXU(b.B),ge.rXU(g.G),ge.rXU(y.X))},k.\u0275cmp=ge.VBU({type:k,selectors:[["app-webrtc-manage-io-dev"]],viewQuery:function(G,X){if(1&G&&(ge.GBs(s,5),ge.GBs(l,5),ge.GBs(a,5),ge.GBs(d,5)),2&G){let B;ge.mGM(B=ge.lsd())&&(X.VideoInput=B.first),ge.mGM(B=ge.lsd())&&(X.AudioInput=B.first),ge.mGM(B=ge.lsd())&&(X.AudioOutput=B.first),ge.mGM(B=ge.lsd())&&(X.RegisterServer=B.first)}},decls:22,vars:10,consts:[["WebRTCServers",""],["RegisterNewWebRTCServer",""],["VideoIn",""],["AudioIn",""],[1,"ion-no-border"],["slot","start",3,"click"],["defaultHref",""],[4,"ngIf"],["button","",3,"click",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["button","",3,"click"],[1,"ion-text-center"],[3,"initialBreakpoint","breakpoints"],["name","videoinput"],[4,"ngFor","ngForOf"],[3,"value"],["name","audioinput"],["button","","slot","header"],["slot","content"],["style","width: 100%; height: auto;","alt","Loading",3,"src","click",4,"ngIf"],["color","danger",1,"ion-text-center"],["alt","Loading",2,"width","100%","height","auto",3,"click","src"],["placeholder","username",1,"ion-text-end",3,"ngModelChange","label","ngModel"],["placeholder","credential",1,"ion-text-end",3,"ngModelChange","label","ngModel"],["placeholder","stun:stun.l.google.com:19302",1,"ion-text-end",3,"ngModelChange","label","ngModel"],["slot","end","color","success","name","add-circle-outline",3,"click",4,"ngIf"],["slot","end","color","danger","name","remove-circle-outline",3,"click",4,"ngIf"],["slot","end","color","success","name","add-circle-outline",3,"click"],["slot","end","color","danger","name","remove-circle-outline",3,"click"]],template:function(G,X){if(1&G){const B=ge.RV6();ge.j41(0,"ion-header",4)(1,"ion-toolbar")(2,"ion-title"),ge.EFF(3),ge.k0s(),ge.j41(4,"ion-buttons",5),ge.bIt("click",function(){return ge.eBV(B),ge.Njj(X.modalCtrl.dismiss())}),ge.nrm(5,"ion-back-button",6),ge.k0s()()(),ge.j41(6,"ion-content"),ge.DNE(7,p,7,2,"div",7)(8,m,7,2,"div",7)(9,_,3,1,"ion-item",8),ge.j41(10,"ion-item-divider")(11,"ion-label"),ge.EFF(12),ge.k0s()(),ge.j41(13,"ion-accordion-group",null,0),ge.DNE(15,x,9,4,"ion-accordion",9),ge.k0s(),ge.j41(16,"ion-item",10),ge.bIt("click",function(){return ge.eBV(B),ge.Njj(X.OpenNewWebRTCServerForm())}),ge.j41(17,"ion-label",11),ge.EFF(18),ge.k0s()(),ge.j41(19,"ion-modal",12,1),ge.DNE(21,P,12,7,"ng-template"),ge.k0s()()}2&G&&(ge.R7$(3),ge.JRh(X.lang.text.WebRTCDevManager.Title),ge.R7$(4),ge.Y8G("ngIf",X.VideoInputs.length),ge.R7$(),ge.Y8G("ngIf",X.AudioInputs.length),ge.R7$(),ge.Y8G("ngIf",X.InOut.length),ge.R7$(3),ge.JRh(X.lang.text.WebRTCDevManager.ManageServer),ge.R7$(3),ge.Y8G("ngForOf",X.ServerInfos),ge.R7$(3),ge.JRh(X.lang.text.WebRTCDevManager.AddServer),ge.R7$(),ge.Y8G("initialBreakpoint",.5)("breakpoints",ge.lJ4(9,f)))},dependencies:[C.Sq,C.bT,w.BC,w.vS,o.xk,o.YH,o.QW,o.W9,o.eU,o.iq,o.$w,o.uz,o.Dg,o.he,o.KO,o.f0,o.BC,o.ai,o.Sb,o.Je,o.Gw,o.el]}),te})()},4020:(En,Kt,me)=>{"use strict";me.d(Kt,{j:()=>l});var j=me(467),O=me(8326),gt=me(2506),o=me(4237),se=me(5402),V=me(482),v=me(3953),b=me(5374),g=me(9900),y=me(755),C=me(4234),w=me(1357);!function s(){("http:"!=window.location.protocol||0==window.location.host.indexOf("localhost"))&&me.e(925).then(me.t.bind(me,925,23)).then(a=>{})}();let l=(()=>{var a;class d{constructor(u,p,c,m,_,M){this.modalCtrl=u,this.p5toast=p,this.indexed=c,this.lang=m,this.nakama=_,this.mClipboard=M,this.OnUse=!1,this.isCallable=!1,this.isConnected=!1,this.JoinInited=!1,this.ReceivedOfferPart="",this.ReceivedAnswerPart="",this.IceCandidates=[],this.nakama.WebRTCService=this}initialize(u,p,c,m){var _=this;return(0,j.A)(function*(){if("data"!=u&&"http:"==window.location.protocol&&0!=window.location.host.indexOf("localhost")){let I=_.nakama.get_all_online_server(),A="https://is2you2.github.io/godotchat_pwa/";A+=`?tmp_user=${_.nakama.users.self.email},${_.nakama.users.self.password},${_.nakama.users.self.display_name}`;for(let H=0,P=I.length;H<P;H++)A+=`&server=${I[H].info.name||""},${I[H].info.address||""},${I[H].info.useSSL||""},${I[H].info.port||""},${I[H].info.key||""}`;A+=`&open_prv_channel=${c.user_id},${c.isOfficial||"official"},${c.target||"DevTestServer"}`;try{let H=yield _.indexed.loadTextFromUserPath("servers/webrtc_server.json"),P=JSON.parse(H);for(let z=0,k=P.length;z<k;z++)A+=`&rtcserver=[${P[z].urls}],${P[z].username},${P[z].credential}`}catch{}try{yield _.mClipboard.copy(A)}catch{}throw window.open(A,"_blank"),_.lang.text.WebRTCDevManager.SecurityError}if("data"!=u&&(yield se.R.requestAudioRecordingPermission()),_.OnUse)throw _.p5toast.show({text:_.lang.text.WebRTCDevManager.AlreadyCalling}),_.lang.text.WebRTCDevManager.AlreadyCalling;if(yield _.close_webrtc(m),_.TypeIn=u,_.nakama.socket_reactive.WEBRTC_CHECK_ONLINE=I=>{_.user_id==I.user_id&&(_.nakama.load_other_user(_.user_id,_.isOfficial,_.target).online||_.close_webrtc())},_.nakama.socket_reactive.WEBRTC_INIT_REQ_SIGNAL=function(){var I=(0,j.A)(function*(A){let P=JSON.stringify(_.LocalOffer).match(/(.{1,64})/g);if(A){for(let z=0,k=P.length;z<k;z++)A.client.send(JSON.stringify({type:"socket_react",channel:A.channel,act:"WEBRTC_REPLY_INIT_SIGNAL",data_str:P[z]})),yield new Promise(te=>setTimeout(te,40));A.client.send(JSON.stringify({type:"socket_react",channel:A.channel,act:"WEBRTC_REPLY_INIT_SIGNAL",data_str:"EOL"}))}else{for(let z=0,k=P.length;z<k;z++)yield _.nakama.servers[_.isOfficial][_.target].socket.sendMatchState(_.CurrentMatch.match_id,o.I.WEBRTC_REPLY_INIT_SIGNAL,encodeURIComponent(P[z]));yield _.nakama.servers[_.isOfficial][_.target].socket.sendMatchState(_.CurrentMatch.match_id,o.I.WEBRTC_REPLY_INIT_SIGNAL,encodeURIComponent("EOL"))}});return function(A){return I.apply(this,arguments)}}(),_.nakama.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL=I=>{"EOL"==I?(_.createRemoteOfferFromAnswer(JSON.parse(_.ReceivedOfferPart)),_.ReceivedOfferPart="",_.InitReplyCallback&&_.InitReplyCallback()):_.ReceivedOfferPart+=I},_.nakama.socket_reactive.WEBRTC_RECEIVE_ANSWER=(I,A)=>{"EOL"==I?(_.ReceiveRemoteAnswer(JSON.parse(_.ReceivedAnswerPart),A),_.ReceivedAnswerPart=""):_.ReceivedAnswerPart+=I},_.nakama.socket_reactive.WEBRTC_ICE_CANDIDATES=(I,A)=>{_.ReceiveIceCandidate(JSON.parse(I),A)},_.nakama.socket_reactive.WEBRTC_NEGOCIATENEEDED=I=>{"EOL"==I?(_.createRemoteOfferFromAnswer(JSON.parse(_.ReceivedOfferPart)),_.ReceivedOfferPart="",_.CreateAnswer()):_.ReceivedOfferPart+=I},_.nakama.socket_reactive.WEBRTC_RECEIVED_CALL_SELF=()=>{_.close_webrtc(!1)},c&&(_.isOfficial=c.isOfficial,_.target=c.target,_.user_id=c.user_id,_.channel_id=c.channel_id),"data"!=u){_.createP5_panel();try{var M,x;_.localMedia=document.createElement(u),_.localMedia.id="webrtc_video",_.localMedia.style.width="100%",_.localMedia.style.height="fit-content",_.localMedia.autoplay=!0,"video"==u&&(_.localMedia.playsInline=!0),_.localMedia.muted=!0,document.body.appendChild(_.localMedia),_.remoteMedia=document.createElement(u),_.remoteMedia.id="webrtc_video_remote",_.remoteMedia.style.width="100%",_.remoteMedia.style.height="fit-content",_.remoteMedia.autoplay=!0,"video"==u&&(_.remoteMedia.playsInline=!0),document.body.appendChild(_.remoteMedia);let A,H,I=yield _.getDeviceList(),P=Number(null!==(M=localStorage.getItem("VideoInputDev"))&&void 0!==M?M:NaN),z=Number(null!==(x=localStorage.getItem("AudioInputDev"))&&void 0!==x?x:NaN);for(let k=0,te=I.length,ne=0,G=0;k<te&&(!A||!H);k++)!A&&"audioinput"==I[k].kind&&(Number.isNaN(z)?(A=I[k].deviceId,localStorage.setItem("AudioInputDev",`${G}`)):G==z&&(A=I[k].deviceId),G++),!H&&"videoinput"==I[k].kind&&(Number.isNaN(P)?(H=I[k].deviceId,localStorage.setItem("AudioInputDev",`${ne}`)):ne==P&&(H=I[k].deviceId),ne++);p||(p={},"video"==u?(p.video=!0,H&&(p.video={deviceId:H})):p.video=!1,p.audio=!0,A&&(p.audio={deviceId:A})),_.localStream=yield navigator.mediaDevices.getUserMedia(p),_.localMedia.srcObject=_.localStream,_.isCallable=!0}catch(I){console.log("navigator.getUserMedia error: ",I),yield _.close_webrtc(),_.p5toast.show({text:`${_.lang.text.WebRTCDevManager.InitErr}: ${I}`})}}else _.isCallable=!0;yield _.createCall(),_.p5canvas&&(_.p5canvas.call_button.elt.disabled=!1)})()}createP5_panel(){var u=this;this.OnUse=!0,this.p5canvas&&(clearTimeout(this.p5canvas.waiting_act),this.p5canvas.remove()),this.p5canvas=new O(p=>{let c,m,_,M,x,I,A,H,P,z,k=1;p.setup=()=>{let X,B=()=>{this.JoinInited?(X.stop(.1),clearTimeout(p.waiting_act)):(X&&X.stop(.1),X=new O.Oscillator(380,"sine"),X.start(),X.amp(1,.15),X.amp(0,.75),p.waiting_act=setTimeout(()=>{B()},1200))};p.waiting_act=setTimeout(()=>{B()},0),p.hangup=(N=!1)=>{!this.isConnected&&!N||(X.stop(.1),clearTimeout(p.waiting_act),X=new O.Oscillator(380,"sine"),X.start(),X.freq(250,.35),X.amp(1,.15),X.amp(0,.25),X.amp(1,.35),X.amp(0,.45))},p.noCanvas(),c=p.createDiv(),c.id("outterDiv"),c.style("position: absolute; left: 50%; top: 0px; z-index: 1"),c.style("transform: translateX(-50%)"),c.style("width: fit-content; height: fit-content"),c.style("padding: 8px 16px;"),c.style("display: flex; justify-content: center;"),M=p.createDiv(),M.parent(c),M.style("display: flex; justify-content: center;"),M.style("width: fit-content; height: fit-content"),M.style("border-radius: 32px"),M.style("background: #"+(V.ud?"30564e88":"b9543788")),M.style("padding: 6px 12px"),m=p.createDiv(),m.parent(M),m.id("webrtc_content"),m.style("display: flex; justify-content: center;"),m.style("flex-direction","column"),m.style("width: fit-content; height: fit-content"),m.style("word-break: break-all"),m.style("background: #"+(V.ud?"30564e88":"b9543788")),m.style("border-radius: 32px"),m.style("padding: 6px 12px"),m.style("color: "+(V.ud?"white":"black")),G(),this.isOfficial&&this.target&&(this.user_id&&(_=p.createDiv(this.nakama.users[this.isOfficial][this.target][this.user_id].display_name)),_.parent(m),_.style("text-align","center"),_.style("align-self","center"),_.style("width","100%"),_.style("height","fit-content"),_.style("pointer-events","none")),x=p.createDiv(),x.parent(m),x.id("webrtc_content"),x.style("display: flex; justify-content: center;"),x.style("align-self","center"),x.style("width: fit-content; height: fit-content"),I=p.createButton('<ion-icon style="width: 32px; height: 32px;" name="call-outline"></ion-icon>'),I.parent(x),I.style("padding","0px"),I.style("margin","4px"),I.style("border-radius","16px"),I.style("width","40px"),I.style("height","40px"),I.mouseClicked(()=>{this.CreateAnswer()}),I.elt.disabled=!0,p.call_button=I,A=p.createButton('<ion-icon style="width: 32px; height: 32px;" name="mic-outline"></ion-icon>'),A.parent(x),A.style("padding","0px"),A.style("margin","4px"),A.style("border-radius","16px"),A.style("width","40px"),A.style("height","40px"),A.mouseClicked(()=>{const N=this.localStream.getAudioTracks();for(let K=0,ie=N.length;K<ie;K++)N[K].enabled=!1;H.show(),A.hide()}),H=p.createButton('<ion-icon style="width: 32px; height: 32px;" name="mic-off-outline"></ion-icon>'),H.parent(x),H.style("background-color","grey"),H.style("padding","0px"),H.style("margin","4px"),H.style("border-radius","16px"),H.style("width","40px"),H.style("height","40px"),H.mouseClicked(()=>{const N=this.localStream.getAudioTracks();for(let K=0,ie=N.length;K<ie;K++)N[K].enabled=!0;A.show(),H.hide()}),H.hide(),P=p.createButton('<ion-icon style="width: 32px; height: 32px;" name="settings-outline"></ion-icon>'),P.parent(x),P.style("padding","0px"),P.style("margin","4px"),P.style("border-radius","16px"),P.style("width","40px"),P.style("height","40px"),P.mouseClicked((0,j.A)(function*(){P.elt.disabled=!0;let N=yield u.getDeviceList();u.modalCtrl.create({component:gt.f,componentProps:{list:N}}).then(K=>{K.onDidDismiss().then(function(){var ie=(0,j.A)(function*(Ae){P.elt.disabled=!1;try{let Y={};Ae.data.videoinput&&(Y.video={deviceId:Ae.data.videoinput.deviceId}),Ae.data.audioinput&&(Y.audio={deviceId:Ae.data.audioinput.deviceId}),u.PeerConnection.removeStream(u.localStream),u.localStream=yield navigator.mediaDevices.getUserMedia(Y),u.localMedia.srcObject=u.localStream,u.localStream.getTracks().forEach(R=>u.PeerConnection.addTrack(R,u.localStream))}catch{}});return function(Ae){return ie.apply(this,arguments)}}()),K.present()})})),z=p.createButton('<ion-icon style="width: 32px; height: 32px;" name="close-circle-outline"></ion-icon>'),z.parent(x),z.style("background-color","red"),z.style("padding","0px"),z.style("margin","4px"),z.style("border-radius","16px"),z.style("width","40px"),z.style("height","40px"),z.mouseClicked((0,j.A)(function*(){yield u.close_webrtc()}))};let ne=!1;p.draw=()=>{k>0&&(k-=.03),G(),this.OnUse||this.p5canvas&&!ne&&(this.p5canvas.hangup(),c.hide(),setTimeout(()=>{this.OnUse||this.p5canvas.remove()},1e3),ne=!0)};let G=()=>{let X=p.lerpColor(p.color("#"+(V.ud?"30564e88":"b9543788")),p.color("#ffd94ebb"),k).levels,B=4*k;M.style(`padding: ${B}px ${B}px`),m.style(`padding: ${p.lerp(6,2,k)}px ${p.lerp(12,8,k)}px`),M.style(`background: rgba(${X[0]}, ${X[1]}, ${X[2]}, ${X[3]/255})`)}})}getDeviceList(){return(0,j.A)(function*(){return yield navigator.mediaDevices.enumerateDevices()})()}createCall(){var u=this;return(0,j.A)(function*(){let p;u.isCallable=!1,u.isConnected=!0,u.startTime=window.performance.now();try{let c=yield u.indexed.loadTextFromUserPath("servers/webrtc_server.json");p={},p.iceServers=JSON.parse(c)}catch{}"data"!=u.TypeIn&&(!p||!p.iceServers||!p.iceServers.length)&&(u.p5toast.show({text:u.lang.text.WebRTCDevManager.NoRegServer}),p=void 0),u.PeerConnection=new RTCPeerConnection(p),u.PeerConnection.addEventListener("icecandidate",c=>u.handleConnection(c)),u.PeerConnection.addEventListener("connectionstatechange",function(){var c=(0,j.A)(function*(m){switch(m.target.connectionState){case"failed":case"disconnected":yield u.close_webrtc();break;case"connected":u.p5canvas&&clearTimeout(u.p5canvas.waiting_act);break;default:console.log("\uc5f0\uacb0 \uc0c1\ud0dc \ubcc0\uacbd\ub428: ",m.target.connectionState)}});return function(m){return c.apply(this,arguments)}}()),"data"!=u.TypeIn?(u.localStream.getTracks().forEach(c=>u.PeerConnection.addTrack(c,u.localStream)),u.PeerConnection.addEventListener("addstream",c=>{u.remoteMedia.srcObject=c.stream})):u.createDataChannel(),u.PeerConnection.addEventListener("datachannel",c=>{u.dataChannel=c.channel,u.createDataChannelListener()}),u.PeerConnection.addEventListener("negotiationneeded",function(){var c=(0,j.A)(function*(m){if(u.JoinInited){yield u.PeerConnection.createOffer({offerToReceiveVideo:1}).then(x=>u.createdOffer(x)).catch(x=>u.setSessionDescriptionError(x));let M=JSON.stringify(u.LocalOffer).match(/(.{1,64})/g);if(u.isOfficial&&u.target){for(let x=0,I=M.length;x<I;x++)yield u.nakama.servers[u.isOfficial][u.target].socket.sendMatchState(u.CurrentMatch.match_id,o.I.WEBRTC_NEGOCIATENEEDED,encodeURIComponent(M[x]));yield u.nakama.servers[u.isOfficial][u.target].socket.sendMatchState(u.CurrentMatch.match_id,o.I.WEBRTC_NEGOCIATENEEDED,encodeURIComponent("EOL"))}else console.log("\uc11c\ubc84\uc815\ubcf4 \uc5c6\uc74c: \ub204\uad6c \ud1b5\ud574\uc11c \ubcf4\ub0c4?")}});return function(m){return c.apply(this,arguments)}}())})()}createDataChannel(u){this.dataChannel=this.PeerConnection.createDataChannel(u),this.createDataChannelListener()}createDataChannelListener(){this.dataChannel.addEventListener("open",u=>{this.dataChannelOpenAct&&this.dataChannelOpenAct()}),this.dataChannel.addEventListener("close",u=>{this.dataChannelOnCloseAct&&this.dataChannelOnCloseAct(),this.dataChannelOpenAct=void 0,this.dataChannelOnMsgAct=void 0,this.dataChannelOnCloseAct=void 0}),this.dataChannel.addEventListener("message",u=>{this.dataChannelOnMsgAct&&this.dataChannelOnMsgAct(u.data)})}send(u){try{this.dataChannel.send(u)}catch(p){console.log("WebRTC \uba54\uc2dc\uc9c0 \ubc1c\uc1a1 \uc2e4\ud328: ",p)}}CreateOffer(){this.p5canvas&&this.p5canvas.call_button.hide(),this.PeerConnection.createOffer({offerToReceiveVideo:1}).then(u=>this.createdOffer(u)).catch(u=>this.setSessionDescriptionError(u))}handleConnection(u){let p=u.candidate;p&&this.IceCandidates.push(new RTCIceCandidate(p))}ReceiveIceCandidate(u,p){var c=this;this.ReplyIceCandidate&&clearTimeout(this.ReplyIceCandidate),this.ReplyIceCandidate=setTimeout((0,j.A)(function*(){if(p)for(let m=0,_=c.IceCandidates.length;m<_;m++)p.client.send(JSON.stringify({type:"socket_react",act:"WEBRTC_ICE_CANDIDATES",channel:p.channel,data_str:JSON.stringify(c.IceCandidates[m])})),yield new Promise(M=>setTimeout(M,40));else for(let m=0,_=c.IceCandidates.length;m<_;m++)yield c.nakama.servers[c.isOfficial][c.target].socket.sendMatchState(c.CurrentMatch.match_id,o.I.WEBRTC_ICE_CANDIDATES,encodeURIComponent(JSON.stringify(c.IceCandidates[m])));c.IceCandidates.length=0}),800),this.PeerConnection.addIceCandidate(u).then(()=>{console.log("Success to add new ice candidate")}).catch(m=>{console.error("failed to add ice candidate: ",m)})}createdOffer(u){this.LocalOffer=u,this.PeerConnection.setLocalDescription(u).then(()=>{this.setLocalDescriptionSuccess(this.PeerConnection)}).catch(p=>this.setSessionDescriptionError(p))}createRemoteOfferFromAnswer(u){this.PeerConnection.setRemoteDescription(u).then(()=>{this.setRemoteDescriptionSuccess(this.PeerConnection)}).catch(p=>this.setSessionDescriptionError(p))}CreateAnswer(u){this.PeerConnection.createAnswer().then(p=>this.createdAnswer(p,u)).catch(p=>this.setSessionDescriptionError(p))}setLocalDescriptionSuccess(u){this.setDescriptionSuccess(u,"setLocalDescription")}setRemoteDescriptionSuccess(u){this.setDescriptionSuccess(u,"setRemoteDescription")}createdAnswer(u,p){var c=this;return(0,j.A)(function*(){c.p5canvas&&c.p5canvas.call_button.hide(),c.LocalAnswer=u,c.PeerConnection.setLocalDescription(u).then(()=>{c.setLocalDescriptionSuccess(c.PeerConnection)}).catch(M=>c.setSessionDescriptionError(M));let _=JSON.stringify(u).match(/(.{1,64})/g);if(p){for(let M=0,x=_.length;M<x;M++)p.client.send(JSON.stringify({type:"socket_react",act:"WEBRTC_RECEIVE_ANSWER",channel:p.channel,data_str:_[M]})),yield new Promise(I=>setTimeout(I,40));p.client.send(JSON.stringify({type:"socket_react",act:"WEBRTC_RECEIVE_ANSWER",channel:p.channel,data_str:"EOL"}))}else{for(let M=0,x=_.length;M<x;M++)yield c.nakama.servers[c.isOfficial][c.target].socket.sendMatchState(c.CurrentMatch.match_id,o.I.WEBRTC_RECEIVE_ANSWER,encodeURIComponent(_[M]));yield c.nakama.servers[c.isOfficial][c.target].socket.sendMatchState(c.CurrentMatch.match_id,o.I.WEBRTC_RECEIVE_ANSWER,encodeURIComponent("EOL")),yield c.nakama.servers[c.isOfficial][c.target].socket.sendMatchState(c.nakama.self_match[c.isOfficial][c.target].match_id,o.I.WEBRTC_RECEIVED_CALL_SELF,encodeURIComponent(""))}c.JoinInited=!0})()}ReceiveRemoteAnswer(u,p){var c=this;return(0,j.A)(function*(){if(c.PeerConnection.setRemoteDescription(u).then(()=>{c.setRemoteDescriptionSuccess(c.PeerConnection)}).catch(m=>c.setSessionDescriptionError(m)),p)for(let m=0,_=c.IceCandidates.length;m<_;m++)p.client.send(JSON.stringify({type:"socket_react",channel:p.channel,act:"WEBRTC_ICE_CANDIDATES",data_str:JSON.stringify(c.IceCandidates[m])})),yield new Promise(M=>setTimeout(M,40));else for(let m=0,_=c.IceCandidates.length;m<_;m++)yield c.nakama.servers[c.isOfficial][c.target].socket.sendMatchState(c.CurrentMatch.match_id,o.I.WEBRTC_ICE_CANDIDATES,encodeURIComponent(JSON.stringify(c.IceCandidates[m])));c.IceCandidates.length=0})()}setSessionDescriptionError(u){console.error(`Failed to create session description: ${u}.`)}setDescriptionSuccess(u,p){console.log(`Local ${p} complete.`)}HangUpCall(u){var p=this;return(0,j.A)(function*(){p.p5canvas&&p.p5canvas.hangup(),p.isCallable=!0,p.isConnected=!1,p.PeerConnection&&p.PeerConnection.close(),p.PeerConnection=void 0;try{u&&p.CurrentMatch.match_id!=p.nakama.self_match[p.isOfficial][p.target].match_id&&(yield p.nakama.servers[p.isOfficial][p.target].socket.sendMatchState(p.CurrentMatch.match_id,o.I.WEBRTC_HANGUP,""),yield p.nakama.servers[p.isOfficial][p.target].socket.leaveMatch(p.CurrentMatch.match_id))}catch{}})()}close_webrtc(u=!0,p=!1){var c=this;return(0,j.A)(function*(){p&&"data"!=c.TypeIn||(c.InitReplyCallback=void 0,yield c.HangUpCall(u),c.localMedia&&c.localMedia.remove(),c.remoteMedia&&c.remoteMedia.remove(),c.OnUse=!1,c.isCallable=!1,c.isConnected=!1,c.localStream&&(c.localStream.getVideoTracks().forEach(m=>m.stop()),c.localStream.getAudioTracks().forEach(m=>m.stop())),c.localMedia=void 0,c.localStream=void 0,c.remoteMedia=void 0,c.isOfficial=void 0,c.target=void 0,c.user_id=void 0,c.channel_id=void 0,c.LocalOffer=void 0,c.LocalAnswer=void 0,c.dataChannel={},c.ReceivedOfferPart="",c.ReceivedAnswerPart="",c.JoinInited=!1,delete c.nakama.socket_reactive.WEBRTC_INIT_REQ_SIGNAL,delete c.nakama.socket_reactive.WEBRTC_REPLY_INIT_SIGNAL,delete c.nakama.socket_reactive.WEBRTC_RECEIVE_ANSWER,delete c.nakama.socket_reactive.WEBRTC_ICE_CANDIDATES,delete c.nakama.socket_reactive.WEBRTC_NEGOCIATENEEDED,delete c.nakama.socket_reactive.WEBRTC_RECEIVED_CALL_SELF,delete c.nakama.socket_reactive.WEBRTC_CHECK_ONLINE,c.IceCandidates.length=0)})()}}return(a=d).\u0275fac=function(u){return new(u||a)(v.KVO(b.W3),v.KVO(g.G),v.KVO(y.n),v.KVO(C.y),v.KVO(o.X),v.KVO(w.B))},a.\u0275prov=v.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),d})()},3419:(En,Kt,me)=>{"use strict";var j=me(345),O=me(3953),ge=me(9858),gt=me(3656),o=me(5374),se=me(9349);const V=[{path:"",loadChildren:()=>me.e(6035).then(me.bind(me,6035)).then(Ft=>Ft.FrontPageModule)},{path:"minimal-chat",loadChildren:()=>Promise.all([me.e(7892),me.e(5502)]).then(me.bind(me,5502)).then(Ft=>Ft.MinimalChatPageModule)},{path:"others-profile",loadChildren:()=>me.e(4722).then(me.bind(me,4722)).then(Ft=>Ft.OthersProfilePageModule)},{path:"user-fs-dir",loadChildren:()=>Promise.all([me.e(7892),me.e(7920),me.e(9903)]).then(me.bind(me,9903)).then(Ft=>Ft.UserFsDirPageModule)},{path:"group-server",loadChildren:()=>me.e(36).then(me.bind(me,36)).then(Ft=>Ft.GroupServerPageModule)},{path:"add-todo-menu",loadChildren:()=>Promise.all([me.e(7892),me.e(7920),me.e(2076),me.e(8163)]).then(me.bind(me,8163)).then(Ft=>Ft.AddTodoMenuPageModule)},{path:"chat-room",loadChildren:()=>Promise.all([me.e(7892),me.e(2076),me.e(6134)]).then(me.bind(me,6134)).then(Ft=>Ft.ChatRoomPageModule)},{path:"post-viewer",loadChildren:()=>Promise.all([me.e(7892),me.e(526)]).then(me.bind(me,526)).then(Ft=>Ft.PostViewerPageModule)},{path:"share-content-to-other",loadChildren:()=>me.e(4911).then(me.bind(me,4911)).then(Ft=>Ft.ShareContentToOtherPageModule)},{path:"webrtc-manage-io-dev",loadChildren:()=>me.e(30).then(me.bind(me,30)).then(Ft=>Ft.WebrtcManageIoDevPageModule)},{path:"portal",loadChildren:()=>me.e(8180).then(me.bind(me,8180)).then(Ft=>Ft.PortalPageModule)},{path:"group-detail",loadChildren:()=>me.e(3267).then(me.bind(me,3267)).then(Ft=>Ft.GroupDetailPageModule)},{path:"add-group",loadChildren:()=>me.e(7601).then(me.bind(me,7601)).then(Ft=>Ft.AddGroupPageModule)}];let v=(()=>{var Ft;class Gt{}return(Ft=Gt).\u0275fac=function(et){return new(et||Ft)},Ft.\u0275mod=O.$C({type:Ft}),Ft.\u0275inj=O.G2t({imports:[ge.iI.forRoot(V,{preloadingStrategy:ge.Kp}),ge.iI]}),Gt})();var b=me(177),g=me(9030),y=me(8810),C=me(3726),w=me(7673),s=me(8793),l=me(1413),a=me(1985),d=me(5343);const f=new a.c(d.l);var p=me(6365),c=me(8750),m=me(983),_=me(9326),M=me(6648);function x(...Ft){const Gt=(0,_.lI)(Ft),en=(0,_.R0)(Ft,1/0),et=Ft;return et.length?1===et.length?(0,c.Tg)(et[0]):(0,p.U)(en)((0,M.H)(et,Gt)):m.w}var I=me(6354),A=me(5964),H=me(5558),P=me(17),z=me(8071),k=me(9974);const ne={connector:()=>new l.B};function G(Ft,Gt=ne){const{connector:en}=Gt;return(0,k.N)((et,ot)=>{const xt=en();(0,c.Tg)(Ft(function te(Ft){return new a.c(Gt=>Ft.subscribe(Gt))}(xt))).subscribe(ot),ot.add(et.subscribe(xt))})}var N=me(6697),K=me(8141),ie=me(8359);class Ae extends ie.yU{constructor(Gt,en){super()}schedule(Gt,en=0){return this}}const Y={setInterval(Ft,Gt,...en){const{delegate:et}=Y;return null!=et&&et.setInterval?et.setInterval(Ft,Gt,...en):setInterval(Ft,Gt,...en)},clearInterval(Ft){const{delegate:Gt}=Y;return((null==Gt?void 0:Gt.clearInterval)||clearInterval)(Ft)},delegate:void 0};var R=me(7908);const pe={now:()=>(pe.delegate||Date).now(),delegate:void 0};class Se{constructor(Gt,en=Se.now){this.schedulerActionCtor=Gt,this.now=en}schedule(Gt,en=0,et){return new this.schedulerActionCtor(this,Gt).schedule(et,en)}}Se.now=pe.now;const qe=new class Ve extends Se{constructor(Gt,en=Se.now){super(Gt,en),this.actions=[],this._active=!1}flush(Gt){const{actions:en}=this;if(this._active)return void en.push(Gt);let et;this._active=!0;do{if(et=Gt.execute(Gt.state,Gt.delay))break}while(Gt=en.shift());if(this._active=!1,et){for(;Gt=en.shift();)Gt.unsubscribe();throw et}}}(class Q extends Ae{constructor(Gt,en){super(Gt,en),this.scheduler=Gt,this.work=en,this.pending=!1}schedule(Gt,en=0){var et;if(this.closed)return this;this.state=Gt;const ot=this.id,xt=this.scheduler;return null!=ot&&(this.id=this.recycleAsyncId(xt,ot,en)),this.pending=!0,this.delay=en,this.id=null!==(et=this.id)&&void 0!==et?et:this.requestAsyncId(xt,this.id,en),this}requestAsyncId(Gt,en,et=0){return Y.setInterval(Gt.flush.bind(Gt,this),et)}recycleAsyncId(Gt,en,et=0){if(null!=et&&this.delay===et&&!1===this.pending)return en;null!=en&&Y.clearInterval(en)}execute(Gt,en){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const et=this._execute(Gt,en);if(et)return et;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Gt,en){let ot,et=!1;try{this.work(Gt)}catch(xt){et=!0,ot=xt||new Error("Scheduled action threw falsy error")}if(et)return this.unsubscribe(),ot}unsubscribe(){if(!this.closed){const{id:Gt,scheduler:en}=this,{actions:et}=en;this.work=this.state=this.scheduler=null,this.pending=!1,(0,R.o)(et,this),null!=Gt&&(this.id=this.recycleAsyncId(en,Gt,null)),this.delay=null,super.unsubscribe()}}}),pt=qe;var We=me(4360),dt=me(3703),$e=me(1397);function Ze(Ft,Gt){return Gt?en=>(0,s.x)(Gt.pipe((0,N.s)(1),function ct(){return(0,k.N)((Ft,Gt)=>{Ft.subscribe((0,We._)(Gt,d.l))})}()),en.pipe(Ze(Ft))):(0,$e.Z)((en,et)=>(0,c.Tg)(Ft(en,et)).pipe((0,N.s)(1),(0,dt.u)(en)))}var Je=me(9470);const Tt="Service workers are disabled or not supported by this browser";class Ut{constructor(Gt){if(this.serviceWorker=Gt,Gt){const et=(0,C.R)(Gt,"controllerchange").pipe((0,I.T)(()=>Gt.controller)),ot=(0,g.v)(()=>(0,w.of)(Gt.controller)),xt=(0,s.x)(ot,et);this.worker=xt.pipe((0,A.p)(St=>!!St)),this.registration=this.worker.pipe((0,H.n)(()=>Gt.getRegistration()));const mt=(0,C.R)(Gt,"message").pipe((0,I.T)(St=>St.data)).pipe((0,A.p)(St=>St&&St.type)).pipe(function B(Ft){return Ft?Gt=>G(Ft)(Gt):Gt=>function X(Ft,Gt){const en=(0,z.T)(Ft)?Ft:()=>Ft;return(0,z.T)(Gt)?G(Gt,{connector:en}):et=>new P.G(et,en)}(new l.B)(Gt)}());mt.connect(),this.events=mt}else this.worker=this.events=this.registration=function on(Ft){return(0,g.v)(()=>(0,y.$)(new Error(Ft)))}(Tt)}postMessage(Gt,en){return this.worker.pipe((0,N.s)(1),(0,K.M)(et=>{et.postMessage({action:Gt,...en})})).toPromise().then(()=>{})}postMessageWithOperation(Gt,en,et){const ot=this.waitForOperationCompleted(et),xt=this.postMessage(Gt,en);return Promise.all([xt,ot]).then(([,bt])=>bt)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Gt){let en;return en="string"==typeof Gt?et=>et.type===Gt:et=>Gt.includes(et.type),this.events.pipe((0,A.p)(en))}nextEventOfType(Gt){return this.eventsOfType(Gt).pipe((0,N.s)(1))}waitForOperationCompleted(Gt){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,A.p)(en=>en.nonce===Gt),(0,N.s)(1),(0,I.T)(en=>{if(void 0!==en.result)return en.result;throw new Error(en.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let ln=(()=>{var Ft;class Gt{get isEnabled(){return this.sw.isEnabled}constructor(et){if(this.sw=et,this.pushManager=null,this.subscriptionChanges=new l.B,!et.isEnabled)return this.messages=f,this.notificationClicks=f,void(this.subscription=f);this.messages=this.sw.eventsOfType("PUSH").pipe((0,I.T)(xt=>xt.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,I.T)(xt=>xt.data)),this.pushManager=this.sw.registration.pipe((0,I.T)(xt=>xt.pushManager));const ot=this.pushManager.pipe((0,H.n)(xt=>xt.getSubscription()));this.subscription=x(ot,this.subscriptionChanges)}requestSubscription(et){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Tt));const ot={userVisibleOnly:!0};let xt=this.decodeBase64(et.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),bt=new Uint8Array(new ArrayBuffer(xt.length));for(let At=0;At<xt.length;At++)bt[At]=xt.charCodeAt(At);return ot.applicationServerKey=bt,this.pushManager.pipe((0,H.n)(At=>At.subscribe(ot)),(0,N.s)(1)).toPromise().then(At=>(this.subscriptionChanges.next(At),At))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,N.s)(1),(0,H.n)(ot=>{if(null===ot)throw new Error("Not subscribed to push notifications.");return ot.unsubscribe().then(xt=>{if(!xt)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Tt))}decodeBase64(et){return atob(et)}}return(Ft=Gt).\u0275fac=function(et){return new(et||Ft)(O.KVO(Ut))},Ft.\u0275prov=O.jDH({token:Ft,factory:Ft.\u0275fac}),Gt})(),$t=(()=>{var Ft;class Gt{get isEnabled(){return this.sw.isEnabled}constructor(et){if(this.sw=et,!et.isEnabled)return this.versionUpdates=f,void(this.unrecoverable=f);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Tt));const et=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:et},et)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Tt));const et=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:et},et)}}return(Ft=Gt).\u0275fac=function(et){return new(et||Ft)(O.KVO(Ut))},Ft.\u0275prov=O.jDH({token:Ft,factory:Ft.\u0275fac}),Gt})();const yn=new O.nKC("");function Yt(Ft,Gt,en,et){return()=>{if(!(0,b.UE)(et)||!("serviceWorker"in navigator)||!1===en.enabled)return;const ot=Ft.get(O.SKi),xt=Ft.get(O.o8S);let bt;if(ot.runOutsideAngular(()=>{const At=navigator.serviceWorker,un=()=>{var mt;return null===(mt=At.controller)||void 0===mt?void 0:mt.postMessage({action:"INITIALIZE"})};At.addEventListener("controllerchange",un),xt.onDestroy(()=>{At.removeEventListener("controllerchange",un)})}),"function"==typeof en.registrationStrategy)bt=en.registrationStrategy();else{const[At,...un]=(en.registrationStrategy||"registerWhenStable:30000").split(":");switch(At){case"registerImmediately":bt=(0,w.of)(null);break;case"registerWithDelay":bt=hn(+un[0]||0);break;case"registerWhenStable":bt=un[0]?x(It(Ft),hn(+un[0])):It(Ft);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${en.registrationStrategy}`)}}ot.runOutsideAngular(()=>bt.pipe((0,N.s)(1)).subscribe(()=>navigator.serviceWorker.register(Gt,{scope:en.scope}).catch(At=>console.error("Service worker registration failed with:",At))))}}function hn(Ft){return(0,w.of)(null).pipe(function st(Ft,Gt=qe){const en=function Qe(Ft=0,Gt,en=pt){let et=-1;return null!=Gt&&((0,Je.m)(Gt)?en=Gt:et=Gt),new a.c(ot=>{let xt=function at(Ft){return Ft instanceof Date&&!isNaN(Ft)}(Ft)?+Ft-en.now():Ft;xt<0&&(xt=0);let bt=0;return en.schedule(function(){ot.closed||(ot.next(bt++),0<=et?this.schedule(void 0,et):ot.complete())},xt)})}(Ft,Gt);return Ze(()=>en)}(Ft))}function It(Ft){return Ft.get(O.o8S).isStable.pipe((0,A.p)(en=>en))}function an(Ft,Gt){return new Ut((0,b.UE)(Gt)&&!1!==Ft.enabled?navigator.serviceWorker:void 0)}class Vt{}function ze(Ft,Gt={}){return(0,O.EmA)([ln,$t,{provide:yn,useValue:Ft},{provide:Vt,useValue:Gt},{provide:Ut,useFactory:an,deps:[Vt,O.Agw]},{provide:O.hnV,useFactory:Yt,deps:[O.zZn,yn,Vt,O.Agw],multi:!0}])}let Be=(()=>{var Ft;class Gt{static register(et,ot={}){return{ngModule:Gt,providers:[ze(et,ot)]}}}return(Ft=Gt).\u0275fac=function(et){return new(et||Ft)},Ft.\u0275mod=O.$C({type:Ft}),Ft.\u0275inj=O.G2t({providers:[ln,$t]}),Gt})();var Ke=me(1357);let Et=(()=>{var Ft;class Gt{}return(Ft=Gt).\u0275fac=function(et){return new(et||Ft)},Ft.\u0275mod=O.$C({type:Ft,bootstrap:[se.ZL]}),Ft.\u0275inj=O.G2t({providers:[{provide:ge.b,useClass:gt.jM},gt.y8,Ke.B],imports:[j.Bb,o.bv.forRoot({innerHTMLTemplatesEnabled:!0,experimentalCloseWatcher:!0,hardwareBackButton:!0}),v,Be.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerImmediately"})]}),Gt})();var Bt=me(1288);(0,O.SmG)(),j.sG().bootstrapModule(Et).catch(Ft=>console.log(Ft)),window,typeof window>"u"?Promise.resolve():(0,Bt.p)().then(()=>(0,Bt.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],undefined))},8326:(En,Kt,me)=>{var j=me(4756);En.exports=function o(se,V,v){function b(C,w){if(!V[C]){if(!se[C]){var s=void 0;if(!w&&s)return require(C,!0);if(g)return g(C,!0);throw(w=new Error("Cannot find module '"+C+"'")).code="MODULE_NOT_FOUND",w}s=V[C]={exports:{}},se[C][0].call(s.exports,function(l){return b(se[C][1][l]||l)},s,s.exports,o,se,V,v)}return V[C].exports}for(var g=void 0,y=0;y<v.length;y++)b(v[y]);return b}({1:[function(o,se,V){"use strict";V.byteLength=function(d){return 3*((d=s(d))[0]+(d=d[1]))/4-d},V.toByteArray=function(l){var a,d,u,M,f=(u=s(l))[0],p=new g(3*(f+(M=u=u[1]))/4-M),c=0,m=0<u?f-4:f;for(d=0;d<m;d+=4)a=b[l.charCodeAt(d)]<<18|b[l.charCodeAt(d+1)]<<12|b[l.charCodeAt(d+2)]<<6|b[l.charCodeAt(d+3)],p[c++]=a>>16&255,p[c++]=a>>8&255,p[c++]=255&a;return 2===u&&(a=b[l.charCodeAt(d)]<<2|b[l.charCodeAt(d+1)]>>4,p[c++]=255&a),1===u&&(a=b[l.charCodeAt(d)]<<10|b[l.charCodeAt(d+1)]<<4|b[l.charCodeAt(d+2)]>>2,p[c++]=a>>8&255,p[c++]=255&a),p},V.fromByteArray=function(l){for(var a,d=l.length,f=d%3,u=[],p=0,c=d-f;p<c;p+=16383)u.push(function(m,_,M){for(var I=[],A=_;A<M;A+=3)I.push(v[(H=(m[A]<<16&16711680)+(m[A+1]<<8&65280)+(255&m[A+2]))>>18&63]+v[H>>12&63]+v[H>>6&63]+v[63&H]);var H;return I.join("")}(l,p,c<p+16383?c:p+16383));return 1==f?u.push(v[(a=l[d-1])>>2]+v[a<<4&63]+"=="):2==f&&u.push(v[(a=(l[d-2]<<8)+l[d-1])>>10]+v[a>>4&63]+v[a<<2&63]+"="),u.join("")};for(var v=[],b=[],g=typeof Uint8Array<"u"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0;C<64;++C)v[C]=y[C],b[y.charCodeAt(C)]=C;function s(l){var a=l.length;if(0<a%4)throw new Error("Invalid string. Length must be a multiple of 4");return a=(l=-1===(l=l.indexOf("="))?a:l)===a?0:4-l%4,[l,a]}b[45]=62,b[95]=63},{}],2:[function(o,se,V){},{}],3:[function(o,se,V){},{}],4:[function(o,se,V){(function(s){"use strict";var b=o("base64-js"),g=o("ieee754"),y="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,C=(V.Buffer=s,V.SlowBuffer=function(Y){return+Y!=Y&&(Y=0),s.alloc(+Y)},V.INSPECT_MAX_BYTES=50,2147483647);function w(Y){if(C<Y)throw new RangeError('The value "'+Y+'" is invalid for option "size"');return Y=new Uint8Array(Y),Object.setPrototypeOf(Y,s.prototype),Y}function s(Y,R,Q){if("number"!=typeof Y)return l(Y,R,Q);if("string"==typeof R)throw new TypeError('The "string" argument must be of type string. Received type number');return d(Y)}function l(Y,R,Q){if("string"==typeof Y){var pe=Y,Se=R;if(s.isEncoding(Se="string"==typeof Se&&""!==Se?Se:"utf8"))return(pe=(qe=w(Ve=0|p(pe,Se))).write(pe,Se))!==Ve?qe.slice(0,pe):qe;throw new TypeError("Unknown encoding: "+Se)}if(ArrayBuffer.isView(Y))return f(Y);if(null!=Y){if(K(Y,ArrayBuffer)||Y&&K(Y.buffer,ArrayBuffer)){var Ve=Y,qe=Q;if((pe=R)<0||Ve.byteLength<pe)throw new RangeError('"offset" is outside of buffer bounds');if(Ve.byteLength<pe+(qe||0))throw new RangeError('"length" is outside of buffer bounds');return Ve=void 0===pe&&void 0===qe?new Uint8Array(Ve):void 0===qe?new Uint8Array(Ve,pe):new Uint8Array(Ve,pe,qe),Object.setPrototypeOf(Ve,s.prototype),Ve}if("number"==typeof Y)throw new TypeError('The "value" argument must not be of type number. Received type number');if(null!=(Se=Y.valueOf&&Y.valueOf())&&Se!==Y)return s.from(Se,R,Q);var pt=s.isBuffer(We=Y)?(0!==(dt=w(ct=0|u(We.length))).length&&We.copy(dt,0,0,ct),dt):void 0!==We.length?"number"!=typeof We.length||ie(We.length)?w(0):f(We):"Buffer"===We.type&&Array.isArray(We.data)?f(We.data):void 0;if(pt)return pt;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof Y[Symbol.toPrimitive])return s.from(Y[Symbol.toPrimitive]("string"),R,Q)}var We,ct,dt;throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y)}function a(Y){if("number"!=typeof Y)throw new TypeError('"size" argument must be of type number');if(Y<0)throw new RangeError('The value "'+Y+'" is invalid for option "size"')}function d(Y){return a(Y),w(Y<0?0:0|u(Y))}function f(Y){for(var R=Y.length<0?0:0|u(Y.length),Q=w(R),pe=0;pe<R;pe+=1)Q[pe]=255&Y[pe];return Q}function u(Y){if(C<=Y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C.toString(16)+" bytes");return 0|Y}function p(Y,R){if(s.isBuffer(Y))return Y.length;if(ArrayBuffer.isView(Y)||K(Y,ArrayBuffer))return Y.byteLength;if("string"!=typeof Y)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Y);var Q=Y.length,pe=2<arguments.length&&!0===arguments[2];if(!pe&&0===Q)return 0;for(var Se=!1;;)switch(R){case"ascii":case"latin1":case"binary":return Q;case"utf8":case"utf-8":return X(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Q;case"hex":return Q>>>1;case"base64":return B(Y).length;default:if(Se)return pe?-1:X(Y).length;R=(""+R).toLowerCase(),Se=!0}}function c(Y,R,Q){var pe,Se=!1;if((R=void 0===R||R<0?0:R)>this.length||(Q=void 0===Q||Q>this.length?this.length:Q)<=0||(Q>>>=0)<=(R>>>=0))return"";for(Y=Y||"utf8";;)switch(Y){case"hex":var qe=Q,dt=this.length;(!qe||qe<0||dt<qe)&&(qe=dt);for(var pt="",We=Qe=!(Qe=R)||Qe<0?0:Qe;We<qe;++We)pt+=Ae[this[We]];return pt;case"utf8":case"utf-8":return A(this,R,Q);case"ascii":var $e=(dt=R,Q),Ze="";$e=Math.min(this.length,$e);for(var Je=dt;Je<$e;++Je)Ze+=String.fromCharCode(127&this[Je]);return Ze;case"latin1":case"binary":var Qe=R,st=Q,Tt="";st=Math.min(this.length,st);for(var on=Qe;on<st;++on)Tt+=String.fromCharCode(this[on]);return Tt;case"base64":return Ut=this,pe=Q,0===(ln=R)&&pe===Ut.length?b.fromByteArray(Ut):b.fromByteArray(Ut.slice(ln,pe));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Ut=R,ln=Q,$t=this.slice(Ut,ln),yn="",Yt=0;Yt<$t.length;Yt+=2)yn+=String.fromCharCode($t[Yt]+256*$t[Yt+1]);return yn;default:if(Se)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),Se=!0}}function m(Y,R,Q){var pe=Y[R];Y[R]=Y[Q],Y[Q]=pe}function _(Y,R,Q,pe,Se){if(0===Y.length)return-1;if("string"==typeof Q?(pe=Q,Q=0):2147483647<Q?Q=2147483647:Q<-2147483648&&(Q=-2147483648),(Q=(Q=ie(Q=+Q)?Se?0:Y.length-1:Q)<0?Y.length+Q:Q)>=Y.length){if(Se)return-1;Q=Y.length-1}else if(Q<0){if(!Se)return-1;Q=0}if("string"==typeof R&&(R=s.from(R,pe)),s.isBuffer(R))return 0===R.length?-1:M(Y,R,Q,pe,Se);if("number"==typeof R)return R&=255,"function"==typeof Uint8Array.prototype.indexOf?(Se?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(Y,R,Q):M(Y,[R],Q,pe,Se);throw new TypeError("val must be string, number or Buffer")}function M(Y,R,Q,pe,Se){var Ve=1,qe=Y.length,pt=R.length;if(void 0!==pe&&("ucs2"===(pe=String(pe).toLowerCase())||"ucs-2"===pe||"utf16le"===pe||"utf-16le"===pe)){if(Y.length<2||R.length<2)return-1;qe/=Ve=2,pt/=2,Q/=2}function We(Je,at){return 1===Ve?Je[at]:Je.readUInt16BE(at*Ve)}if(Se)for(var ct=-1,dt=Q;dt<qe;dt++)if(We(Y,dt)===We(R,-1===ct?0:dt-ct)){if(dt-(ct=-1===ct?dt:ct)+1===pt)return ct*Ve}else-1!==ct&&(dt-=dt-ct),ct=-1;else for(dt=Q=qe<Q+pt?qe-pt:Q;0<=dt;dt--){for(var $e=!0,Ze=0;Ze<pt;Ze++)if(We(Y,dt+Ze)!==We(R,Ze)){$e=!1;break}if($e)return dt}return-1}function x(Y,R,Q,pe){return N(function(Se){for(var Ve=[],qe=0;qe<Se.length;++qe)Ve.push(255&Se.charCodeAt(qe));return Ve}(R),Y,Q,pe)}function I(Y,R,Q,pe){return N(function(Se,Ve){for(var qe,pt,We=[],ct=0;ct<Se.length&&!((Ve-=2)<0);++ct)qe=(pt=Se.charCodeAt(ct))>>8,We.push(pt%=256),We.push(qe);return We}(R,Y.length-Q),Y,Q,pe)}function A(Y,R,Q){Q=Math.min(Y.length,Q);for(var pe=[],Se=R;Se<Q;){var Ve,qe,pt,We,ct=Y[Se],dt=null,$e=239<ct?4:223<ct?3:191<ct?2:1;if(Se+$e<=Q)switch($e){case 1:ct<128&&(dt=ct);break;case 2:128==(192&(Ve=Y[Se+1]))&&127<(We=(31&ct)<<6|63&Ve)&&(dt=We);break;case 3:qe=Y[Se+2],128==(192&(Ve=Y[Se+1]))&&128==(192&qe)&&2047<(We=(15&ct)<<12|(63&Ve)<<6|63&qe)&&(We<55296||57343<We)&&(dt=We);break;case 4:qe=Y[Se+2],pt=Y[Se+3],128==(192&(Ve=Y[Se+1]))&&128==(192&qe)&&128==(192&pt)&&65535<(We=(15&ct)<<18|(63&Ve)<<12|(63&qe)<<6|63&pt)&&We<1114112&&(dt=We)}null===dt?(dt=65533,$e=1):65535<dt&&(pe.push((dt-=65536)>>>10&1023|55296),dt=56320|1023&dt),pe.push(dt),Se+=$e}var Ze=pe,Je=Ze.length;if(Je<=H)return String.fromCharCode.apply(String,Ze);for(var at="",Qe=0;Qe<Je;)at+=String.fromCharCode.apply(String,Ze.slice(Qe,Qe+=H));return at}V.kMaxLength=C,(s.TYPED_ARRAY_SUPPORT=function(){try{var Y=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(Y,R),42===Y.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=l,Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(Y,R,Q){return a(Y),Y<=0||void 0===R?w(Y):"string"==typeof Q?w(Y).fill(R,Q):w(Y).fill(R)},s.allocUnsafe=d,s.allocUnsafeSlow=d,s.isBuffer=function(Y){return null!=Y&&!0===Y._isBuffer&&Y!==s.prototype},s.compare=function(Y,R){if(K(Y,Uint8Array)&&(Y=s.from(Y,Y.offset,Y.byteLength)),K(R,Uint8Array)&&(R=s.from(R,R.offset,R.byteLength)),!s.isBuffer(Y)||!s.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Y===R)return 0;for(var Q=Y.length,pe=R.length,Se=0,Ve=Math.min(Q,pe);Se<Ve;++Se)if(Y[Se]!==R[Se]){Q=Y[Se],pe=R[Se];break}return Q<pe?-1:pe<Q?1:0},s.isEncoding=function(Y){switch(String(Y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(Y,R){if(!Array.isArray(Y))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Y.length)return s.alloc(0);if(void 0===R)for(Se=R=0;Se<Y.length;++Se)R+=Y[Se].length;for(var Q=s.allocUnsafe(R),pe=0,Se=0;Se<Y.length;++Se){var Ve=Y[Se];if(K(Ve,Uint8Array)&&(Ve=s.from(Ve)),!s.isBuffer(Ve))throw new TypeError('"list" argument must be an Array of Buffers');Ve.copy(Q,pe),pe+=Ve.length}return Q},s.byteLength=p,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var Y=this.length;if(Y%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<Y;R+=2)m(this,R,R+1);return this},s.prototype.swap32=function(){var Y=this.length;if(Y%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<Y;R+=4)m(this,R,R+3),m(this,R+1,R+2);return this},s.prototype.swap64=function(){var Y=this.length;if(Y%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<Y;R+=8)m(this,R,R+7),m(this,R+1,R+6),m(this,R+2,R+5),m(this,R+3,R+4);return this},s.prototype.toLocaleString=s.prototype.toString=function(){var Y=this.length;return 0===Y?"":0===arguments.length?A(this,0,Y):c.apply(this,arguments)},s.prototype.equals=function(Y){if(s.isBuffer(Y))return this===Y||0===s.compare(this,Y);throw new TypeError("Argument must be a Buffer")},s.prototype.inspect=function(){var R="",Y=V.INSPECT_MAX_BYTES;return R=this.toString("hex",0,Y).replace(/(.{2})/g,"$1 ").trim(),this.length>Y&&(R+=" ... "),"<Buffer "+R+">"},y&&(s.prototype[y]=s.prototype.inspect),s.prototype.compare=function(Y,R,Q,pe,Se){if(K(Y,Uint8Array)&&(Y=s.from(Y,Y.offset,Y.byteLength)),!s.isBuffer(Y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Y);if(void 0===Q&&(Q=Y?Y.length:0),void 0===pe&&(pe=0),void 0===Se&&(Se=this.length),(R=void 0===R?0:R)<0||Q>Y.length||pe<0||Se>this.length)throw new RangeError("out of range index");if(Se<=pe&&Q<=R)return 0;if(Se<=pe)return-1;if(Q<=R)return 1;if(this===Y)return 0;for(var Ve=(Se>>>=0)-(pe>>>=0),qe=(Q>>>=0)-(R>>>=0),pt=Math.min(Ve,qe),We=this.slice(pe,Se),ct=Y.slice(R,Q),dt=0;dt<pt;++dt)if(We[dt]!==ct[dt]){Ve=We[dt],qe=ct[dt];break}return Ve<qe?-1:qe<Ve?1:0},s.prototype.includes=function(Y,R,Q){return-1!==this.indexOf(Y,R,Q)},s.prototype.indexOf=function(Y,R,Q){return _(this,Y,R,Q,!0)},s.prototype.lastIndexOf=function(Y,R,Q){return _(this,Y,R,Q,!1)},s.prototype.write=function(Y,R,Q,pe){if(void 0===R)pe="utf8",Q=this.length,R=0;else if(void 0===Q&&"string"==typeof R)pe=R,Q=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(Q)?(Q>>>=0,void 0===pe&&(pe="utf8")):(pe=Q,Q=void 0)}var Se=this.length-R;if((void 0===Q||Se<Q)&&(Q=Se),0<Y.length&&(Q<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe=pe||"utf8";for(var Ve,qe,pt,We=!1;;)switch(pe){case"hex":var dt=Y,$e=R,Ze=Q,Je=($e=Number($e)||0,this.length-$e);(!Ze||Je<(Ze=Number(Ze)))&&(Ze=Je),(Je=dt.length)/2<Ze&&(Ze=Je/2);for(var at=0;at<Ze;++at){var Qe=parseInt(dt.substr(2*at,2),16);if(ie(Qe))return at;this[$e+at]=Qe}return at;case"utf8":case"utf-8":return pt=Q,N(X(Y,(qe=this).length-(Je=R)),qe,Je,pt);case"ascii":case"latin1":case"binary":return x(this,Y,R,Q);case"base64":return qe=this,pt=R,Ve=Q,N(B(Y),qe,pt,Ve);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,Y,R,Q);default:if(We)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),We=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var H=4096;function P(Y,R,Q){if(Y%1!=0||Y<0)throw new RangeError("offset is not uint");if(Q<Y+R)throw new RangeError("Trying to access beyond buffer length")}function z(Y,R,Q,pe,Se,Ve){if(!s.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(Se<R||R<Ve)throw new RangeError('"value" argument is out of bounds');if(Q+pe>Y.length)throw new RangeError("Index out of range")}function k(Y,R,Q,pe){if(Q+pe>Y.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("Index out of range")}function te(Y,R,Q,pe,Se){return R=+R,Q>>>=0,Se||k(Y,0,Q,4),g.write(Y,R,Q,pe,23,4),Q+4}function ne(Y,R,Q,pe,Se){return R=+R,Q>>>=0,Se||k(Y,0,Q,8),g.write(Y,R,Q,pe,52,8),Q+8}s.prototype.slice=function(Y,R){var Q=this.length;return(Y=~~Y)<0?(Y+=Q)<0&&(Y=0):Q<Y&&(Y=Q),(R=void 0===R?Q:~~R)<0?(R+=Q)<0&&(R=0):Q<R&&(R=Q),R<Y&&(R=Y),Q=this.subarray(Y,R),Object.setPrototypeOf(Q,s.prototype),Q},s.prototype.readUIntLE=function(Y,R,Q){Y>>>=0,R>>>=0,Q||P(Y,R,this.length);for(var pe=this[Y],Se=1,Ve=0;++Ve<R&&(Se*=256);)pe+=this[Y+Ve]*Se;return pe},s.prototype.readUIntBE=function(Y,R,Q){Y>>>=0,R>>>=0,Q||P(Y,R,this.length);for(var pe=this[Y+--R],Se=1;0<R&&(Se*=256);)pe+=this[Y+--R]*Se;return pe},s.prototype.readUInt8=function(Y,R){return Y>>>=0,R||P(Y,1,this.length),this[Y]},s.prototype.readUInt16LE=function(Y,R){return Y>>>=0,R||P(Y,2,this.length),this[Y]|this[Y+1]<<8},s.prototype.readUInt16BE=function(Y,R){return Y>>>=0,R||P(Y,2,this.length),this[Y]<<8|this[Y+1]},s.prototype.readUInt32LE=function(Y,R){return Y>>>=0,R||P(Y,4,this.length),(this[Y]|this[Y+1]<<8|this[Y+2]<<16)+16777216*this[Y+3]},s.prototype.readUInt32BE=function(Y,R){return Y>>>=0,R||P(Y,4,this.length),16777216*this[Y]+(this[Y+1]<<16|this[Y+2]<<8|this[Y+3])},s.prototype.readIntLE=function(Y,R,Q){Y>>>=0,R>>>=0,Q||P(Y,R,this.length);for(var pe=this[Y],Se=1,Ve=0;++Ve<R&&(Se*=256);)pe+=this[Y+Ve]*Se;return(Se*=128)<=pe&&(pe-=Math.pow(2,8*R)),pe},s.prototype.readIntBE=function(Y,R,Q){Y>>>=0,R>>>=0,Q||P(Y,R,this.length);for(var pe=R,Se=1,Ve=this[Y+--pe];0<pe&&(Se*=256);)Ve+=this[Y+--pe]*Se;return(Se*=128)<=Ve&&(Ve-=Math.pow(2,8*R)),Ve},s.prototype.readInt8=function(Y,R){return Y>>>=0,R||P(Y,1,this.length),128&this[Y]?-1*(255-this[Y]+1):this[Y]},s.prototype.readInt16LE=function(Y,R){return Y>>>=0,R||P(Y,2,this.length),32768&(R=this[Y]|this[Y+1]<<8)?4294901760|R:R},s.prototype.readInt16BE=function(Y,R){return Y>>>=0,R||P(Y,2,this.length),32768&(R=this[Y+1]|this[Y]<<8)?4294901760|R:R},s.prototype.readInt32LE=function(Y,R){return Y>>>=0,R||P(Y,4,this.length),this[Y]|this[Y+1]<<8|this[Y+2]<<16|this[Y+3]<<24},s.prototype.readInt32BE=function(Y,R){return Y>>>=0,R||P(Y,4,this.length),this[Y]<<24|this[Y+1]<<16|this[Y+2]<<8|this[Y+3]},s.prototype.readFloatLE=function(Y,R){return Y>>>=0,R||P(Y,4,this.length),g.read(this,Y,!0,23,4)},s.prototype.readFloatBE=function(Y,R){return Y>>>=0,R||P(Y,4,this.length),g.read(this,Y,!1,23,4)},s.prototype.readDoubleLE=function(Y,R){return Y>>>=0,R||P(Y,8,this.length),g.read(this,Y,!0,52,8)},s.prototype.readDoubleBE=function(Y,R){return Y>>>=0,R||P(Y,8,this.length),g.read(this,Y,!1,52,8)},s.prototype.writeUIntLE=function(Y,R,Q,pe){Y=+Y,R>>>=0,Q>>>=0,pe||z(this,Y,R,Q,Math.pow(2,8*Q)-1,0);var Se=1,Ve=0;for(this[R]=255&Y;++Ve<Q&&(Se*=256);)this[R+Ve]=Y/Se&255;return R+Q},s.prototype.writeUIntBE=function(Y,R,Q,pe){Y=+Y,R>>>=0,Q>>>=0,pe||z(this,Y,R,Q,Math.pow(2,8*Q)-1,0);var Se=Q-1,Ve=1;for(this[R+Se]=255&Y;0<=--Se&&(Ve*=256);)this[R+Se]=Y/Ve&255;return R+Q},s.prototype.writeUInt8=function(Y,R,Q){return Y=+Y,R>>>=0,Q||z(this,Y,R,1,255,0),this[R]=255&Y,R+1},s.prototype.writeUInt16LE=function(Y,R,Q){return Y=+Y,R>>>=0,Q||z(this,Y,R,2,65535,0),this[R]=255&Y,this[R+1]=Y>>>8,R+2},s.prototype.writeUInt16BE=function(Y,R,Q){return Y=+Y,R>>>=0,Q||z(this,Y,R,2,65535,0),this[R]=Y>>>8,this[R+1]=255&Y,R+2},s.prototype.writeUInt32LE=function(Y,R,Q){return Y=+Y,R>>>=0,Q||z(this,Y,R,4,4294967295,0),this[R+3]=Y>>>24,this[R+2]=Y>>>16,this[R+1]=Y>>>8,this[R]=255&Y,R+4},s.prototype.writeUInt32BE=function(Y,R,Q){return Y=+Y,R>>>=0,Q||z(this,Y,R,4,4294967295,0),this[R]=Y>>>24,this[R+1]=Y>>>16,this[R+2]=Y>>>8,this[R+3]=255&Y,R+4},s.prototype.writeIntLE=function(Y,R,Q,pe){Y=+Y,R>>>=0,pe||z(this,Y,R,Q,(pe=Math.pow(2,8*Q-1))-1,-pe);var Se=0,Ve=1,qe=0;for(this[R]=255&Y;++Se<Q&&(Ve*=256);)Y<0&&0===qe&&0!==this[R+Se-1]&&(qe=1),this[R+Se]=(Y/Ve|0)-qe&255;return R+Q},s.prototype.writeIntBE=function(Y,R,Q,pe){Y=+Y,R>>>=0,pe||z(this,Y,R,Q,(pe=Math.pow(2,8*Q-1))-1,-pe);var Se=Q-1,Ve=1,qe=0;for(this[R+Se]=255&Y;0<=--Se&&(Ve*=256);)Y<0&&0===qe&&0!==this[R+Se+1]&&(qe=1),this[R+Se]=(Y/Ve|0)-qe&255;return R+Q},s.prototype.writeInt8=function(Y,R,Q){return Y=+Y,R>>>=0,Q||z(this,Y,R,1,127,-128),this[R]=255&(Y=Y<0?255+Y+1:Y),R+1},s.prototype.writeInt16LE=function(Y,R,Q){return Y=+Y,R>>>=0,Q||z(this,Y,R,2,32767,-32768),this[R]=255&Y,this[R+1]=Y>>>8,R+2},s.prototype.writeInt16BE=function(Y,R,Q){return Y=+Y,R>>>=0,Q||z(this,Y,R,2,32767,-32768),this[R]=Y>>>8,this[R+1]=255&Y,R+2},s.prototype.writeInt32LE=function(Y,R,Q){return Y=+Y,R>>>=0,Q||z(this,Y,R,4,2147483647,-2147483648),this[R]=255&Y,this[R+1]=Y>>>8,this[R+2]=Y>>>16,this[R+3]=Y>>>24,R+4},s.prototype.writeInt32BE=function(Y,R,Q){return Y=+Y,R>>>=0,Q||z(this,Y,R,4,2147483647,-2147483648),this[R]=(Y=Y<0?4294967295+Y+1:Y)>>>24,this[R+1]=Y>>>16,this[R+2]=Y>>>8,this[R+3]=255&Y,R+4},s.prototype.writeFloatLE=function(Y,R,Q){return te(this,Y,R,!0,Q)},s.prototype.writeFloatBE=function(Y,R,Q){return te(this,Y,R,!1,Q)},s.prototype.writeDoubleLE=function(Y,R,Q){return ne(this,Y,R,!0,Q)},s.prototype.writeDoubleBE=function(Y,R,Q){return ne(this,Y,R,!1,Q)},s.prototype.copy=function(Y,R,Q,pe){if(!s.isBuffer(Y))throw new TypeError("argument should be a Buffer");if(Q=Q||0,pe||0===pe||(pe=this.length),R>=Y.length&&(R=Y.length),(pe=0<pe&&pe<Q?Q:pe)===Q||0===Y.length||0===this.length)return 0;if((R=R||0)<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length);var Se=(pe=Y.length-R<pe-Q?Y.length-R+Q:pe)-Q;if(this===Y&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(R,Q,pe);else if(this===Y&&Q<R&&R<pe)for(var Ve=Se-1;0<=Ve;--Ve)Y[Ve+R]=this[Ve+Q];else Uint8Array.prototype.set.call(Y,this.subarray(Q,pe),R);return Se},s.prototype.fill=function(Y,R,Q,pe){if("string"==typeof Y){if("string"==typeof R?(pe=R,R=0,Q=this.length):"string"==typeof Q&&(pe=Q,Q=this.length),void 0!==pe&&"string"!=typeof pe)throw new TypeError("encoding must be a string");if("string"==typeof pe&&!s.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);var Se;1===Y.length&&(Se=Y.charCodeAt(0),("utf8"===pe&&Se<128||"latin1"===pe)&&(Y=Se))}else"number"==typeof Y?Y&=255:"boolean"==typeof Y&&(Y=Number(Y));if(R<0||this.length<R||this.length<Q)throw new RangeError("Out of range index");var Ve;if(!(Q<=R))if(R>>>=0,Q=void 0===Q?this.length:Q>>>0,"number"==typeof(Y=Y||0))for(Ve=R;Ve<Q;++Ve)this[Ve]=Y;else{var qe=s.isBuffer(Y)?Y:s.from(Y,pe),pt=qe.length;if(0===pt)throw new TypeError('The value "'+Y+'" is invalid for argument "value"');for(Ve=0;Ve<Q-R;++Ve)this[Ve+R]=qe[Ve%pt]}return this};var G=/[^+/0-9A-Za-z-_]/g;function X(Y,R){R=R||1/0;for(var Q,pe=Y.length,Se=null,Ve=[],qe=0;qe<pe;++qe){if(55295<(Q=Y.charCodeAt(qe))&&Q<57344){if(!Se){if(56319<Q){-1<(R-=3)&&Ve.push(239,191,189);continue}if(qe+1===pe){-1<(R-=3)&&Ve.push(239,191,189);continue}Se=Q;continue}if(Q<56320){-1<(R-=3)&&Ve.push(239,191,189),Se=Q;continue}Q=65536+(Se-55296<<10|Q-56320)}else Se&&-1<(R-=3)&&Ve.push(239,191,189);if(Se=null,Q<128){if(--R<0)break;Ve.push(Q)}else if(Q<2048){if((R-=2)<0)break;Ve.push(Q>>6|192,63&Q|128)}else if(Q<65536){if((R-=3)<0)break;Ve.push(Q>>12|224,Q>>6&63|128,63&Q|128)}else{if(!(Q<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;Ve.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,63&Q|128)}}return Ve}function B(Y){return b.toByteArray(function(R){if((R=(R=R.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R}(Y))}function N(Y,R,Q,pe){for(var Se=0;Se<pe&&!(Se+Q>=R.length||Se>=Y.length);++Se)R[Se+Q]=Y[Se];return Se}function K(Y,R){return Y instanceof R||null!=Y&&null!=Y.constructor&&null!=Y.constructor.name&&Y.constructor.name===R.name}function ie(Y){return Y!=Y}var Ae=function(){for(var Y="0123456789abcdef",R=new Array(256),Q=0;Q<16;++Q)for(var pe=16*Q,Se=0;Se<16;++Se)R[pe+Se]=Y[Q]+Y[Se];return R}()}).call(this,o("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(o,se,V){se.exports=function(v){if("function"!=typeof v)throw TypeError(String(v)+" is not a function");return v}},{}],6:[function(o,se,V){var v=o("../internals/is-object");se.exports=function(b){if(v(b)||null===b)return b;throw TypeError("Can't set "+String(b)+" as a prototype")}},{"../internals/is-object":75}],7:[function(g,se,V){var v=g("../internals/well-known-symbol"),b=g("../internals/object-create"),y=(g=g("../internals/object-define-property"),v("unscopables")),C=Array.prototype;null==C[y]&&g.f(C,y,{configurable:!0,value:b(null)}),se.exports=function(w){C[y][w]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(o,se,V){"use strict";var v=o("../internals/string-multibyte").charAt;se.exports=function(b,g,y){return g+(y?v(b,g).length:1)}},{"../internals/string-multibyte":125}],9:[function(o,se,V){se.exports=function(v,b,g){if(v instanceof b)return v;throw TypeError("Incorrect "+(g?g+" ":"")+"invocation")}},{}],10:[function(o,se,V){var v=o("../internals/is-object");se.exports=function(b){if(v(b))return b;throw TypeError(String(b)+" is not an object")}},{"../internals/is-object":75}],11:[function(o,se,V){se.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(k,se,V){"use strict";function v(ne){return w(ne)&&s(te,l(ne))}var b,g=k("../internals/array-buffer-native"),y=k("../internals/descriptors"),C=k("../internals/global"),w=k("../internals/is-object"),s=k("../internals/has"),l=k("../internals/classof"),a=k("../internals/create-non-enumerable-property"),d=k("../internals/redefine"),f=k("../internals/object-define-property").f,u=k("../internals/object-get-prototype-of"),p=k("../internals/object-set-prototype-of"),H=k("../internals/well-known-symbol"),c=(k=k("../internals/uid"),C.Int8Array),m=c&&c.prototype,_=(_=C.Uint8ClampedArray)&&_.prototype,M=c&&u(c),x=m&&u(m),I=Object.prototype,A=I.isPrototypeOf,P=(H=H("toStringTag"),k("TYPED_ARRAY_TAG")),z=g&&!!p&&"Opera"!==l(C.opera),te=(k=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(b in te)C[b]||(z=!1);if((!z||"function"!=typeof M||M===Function.prototype)&&(M=function(){throw TypeError("Incorrect invocation")},z))for(b in te)C[b]&&p(C[b],M);if((!z||!x||x===I)&&(x=M.prototype,z))for(b in te)C[b]&&p(C[b].prototype,x);if(z&&u(_)!==x&&p(_,x),y&&!s(x,H))for(b in k=!0,f(x,H,{get:function(){return w(this)?this[P]:void 0}}),te)C[b]&&a(C[b],P,b);se.exports={NATIVE_ARRAY_BUFFER_VIEWS:z,TYPED_ARRAY_TAG:k&&P,aTypedArray:function(ne){if(v(ne))return ne;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(ne){if(p){if(A.call(M,ne))return ne}else for(var G in te)if(s(te,b)&&(G=C[G])&&(ne===G||A.call(G,ne)))return ne;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(ne,G,X){if(y){if(X)for(var B in te)(B=C[B])&&s(B.prototype,ne)&&delete B.prototype[ne];x[ne]&&!X||d(x,ne,!X&&z&&m[ne]||G)}},exportTypedArrayStaticMethod:function(ne,G,X){var B,N;if(y){if(p){if(X)for(B in te)(N=C[B])&&s(N,ne)&&delete N[ne];if(M[ne]&&!X)return;try{return d(M,ne,!X&&z&&c[ne]||G)}catch{}}for(B in te)!(N=C[B])||N[ne]&&!X||d(N,ne,G)}},isView:function(ne){return"DataView"===(ne=l(ne))||s(te,ne)},isTypedArray:v,TypedArray:M,TypedArrayPrototype:x}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(Q,se,V){"use strict";function v($e){return[255&$e]}function b($e){return[255&$e,$e>>8&255]}function g($e){return[255&$e,$e>>8&255,$e>>16&255,$e>>24&255]}function y($e){return $e[3]<<24|$e[2]<<16|$e[1]<<8|$e[0]}function C($e){return Ve($e,23,4)}function w($e){return Ve($e,52,8)}function s($e,Ze){k($e[K],Ze,{get:function(){return G(this)[Ze]}})}function l(Tt,Ze,st,at){if((st=I(st))+Ze>(Tt=G(Tt)).byteLength)throw Se(ie);return Tt=G(Tt.buffer).bytes.slice(st+=Tt.byteOffset,st+Ze),at?Tt:Tt.reverse()}function a($e,Ze,Je,at,Qe,st){if((Je=I(Je))+Ze>($e=G($e)).byteLength)throw Se(ie);for(var Tt=G($e.buffer).bytes,on=Je+$e.byteOffset,Ut=at(+Qe),ln=0;ln<Ze;ln++)Tt[on+ln]=Ut[st?ln:Ze-ln-1]}var d=Q("../internals/global"),f=Q("../internals/descriptors"),u=Q("../internals/array-buffer-native"),p=Q("../internals/create-non-enumerable-property"),c=Q("../internals/redefine-all"),m=Q("../internals/fails"),_=Q("../internals/an-instance"),M=Q("../internals/to-integer"),x=Q("../internals/to-length"),I=Q("../internals/to-index"),A=Q("../internals/ieee754"),H=Q("../internals/object-get-prototype-of"),P=Q("../internals/object-set-prototype-of"),z=Q("../internals/object-get-own-property-names").f,k=Q("../internals/object-define-property").f,te=Q("../internals/array-fill"),ne=Q("../internals/set-to-string-tag"),G=(Q=Q("../internals/internal-state")).get,X=Q.set,B="ArrayBuffer",N="DataView",K="prototype",ie="Wrong index",Ae=d[B],Y=Ae,R=d[N],pe=(Q=R&&R[K],Object.prototype),Se=d.RangeError,Ve=A.pack,qe=A.unpack;if(u){if(!m(function(){Ae(1)})||!m(function(){new Ae(-1)})||m(function(){return new Ae,new Ae(1.5),new Ae(NaN),Ae.name!=B})){d=(Y=function(Je){return _(this,Y),new Ae(I(Je))})[K]=Ae[K];for(var pt,We=z(Ae),ct=0;We.length>ct;)(pt=We[ct++])in Y||p(Y,pt,Ae[pt]);d.constructor=Y}P&&H(Q)!==pe&&P(Q,pe),A=new R(new Y(2));var dt=Q.setInt8;A.setInt8(0,2147483648),A.setInt8(1,2147483649),!A.getInt8(0)&&A.getInt8(1)||c(Q,{setInt8:function(Ze,Je){dt.call(this,Ze,Je<<24>>24)},setUint8:function(Ze,Je){dt.call(this,Ze,Je<<24>>24)}},{unsafe:!0})}else Y=function($e){_(this,Y,B),$e=I($e),X(this,{bytes:te.call(new Array($e),0),byteLength:$e}),f||(this.byteLength=$e)},R=function($e,Qe,Je){_(this,R,N),_($e,Y,N);var at=G($e).byteLength;if((Qe=M(Qe))<0||at<Qe)throw Se("Wrong offset");if(at<Qe+(Je=void 0===Je?at-Qe:x(Je)))throw Se("Wrong length");X(this,{buffer:$e,byteLength:Je,byteOffset:Qe}),f||(this.buffer=$e,this.byteLength=Je,this.byteOffset=Qe)},f&&(s(Y,"byteLength"),s(R,"buffer"),s(R,"byteLength"),s(R,"byteOffset")),c(R[K],{getInt8:function($e){return l(this,1,$e)[0]<<24>>24},getUint8:function($e){return l(this,1,$e)[0]},getInt16:function($e){return(($e=l(this,2,$e,1<arguments.length?arguments[1]:void 0))[1]<<8|$e[0])<<16>>16},getUint16:function($e){return($e=l(this,2,$e,1<arguments.length?arguments[1]:void 0))[1]<<8|$e[0]},getInt32:function($e){return y(l(this,4,$e,1<arguments.length?arguments[1]:void 0))},getUint32:function($e){return y(l(this,4,$e,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function($e){return qe(l(this,4,$e,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function($e){return qe(l(this,8,$e,1<arguments.length?arguments[1]:void 0),52)},setInt8:function($e,Ze){a(this,1,$e,v,Ze)},setUint8:function($e,Ze){a(this,1,$e,v,Ze)},setInt16:function($e,Ze){a(this,2,$e,b,Ze,2<arguments.length?arguments[2]:void 0)},setUint16:function($e,Ze){a(this,2,$e,b,Ze,2<arguments.length?arguments[2]:void 0)},setInt32:function($e,Ze){a(this,4,$e,g,Ze,2<arguments.length?arguments[2]:void 0)},setUint32:function($e,Ze){a(this,4,$e,g,Ze,2<arguments.length?arguments[2]:void 0)},setFloat32:function($e,Ze){a(this,4,$e,C,Ze,2<arguments.length?arguments[2]:void 0)},setFloat64:function($e,Ze){a(this,8,$e,w,Ze,2<arguments.length?arguments[2]:void 0)}});ne(Y,B),ne(R,N),se.exports={ArrayBuffer:Y,DataView:R}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(o,se,V){"use strict";var v=o("../internals/to-object"),b=o("../internals/to-absolute-index"),g=o("../internals/to-length"),y=Math.min;se.exports=[].copyWithin||function(f,w){var s=v(this),l=g(s.length),a=b(f,l),d=b(w,l),u=y((void 0===(f=2<arguments.length?arguments[2]:void 0)?l:b(f,l))-d,l-a),p=1;for(d<a&&a<d+u&&(p=-1,d+=u-1,a+=u-1);0<u--;)d in s?s[a]=s[d]:delete s[a],a+=p,d+=p;return s}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(o,se,V){"use strict";var v=o("../internals/to-object"),b=o("../internals/to-absolute-index"),g=o("../internals/to-length");se.exports=function(y){for(var l,C=v(this),w=g(C.length),s=b(1<(l=arguments.length)?arguments[1]:void 0,w),a=void 0===(l=2<l?arguments[2]:void 0)?w:b(l,w);s<a;)C[s++]=y;return C}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(g,se,V){"use strict";var v=g("../internals/array-iteration").forEach,b=g("../internals/array-method-is-strict");g=g("../internals/array-method-uses-to-length"),b=b("forEach"),g=g("forEach"),se.exports=b&&g?[].forEach:function(y){return v(this,y,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(o,se,V){"use strict";var v=o("../internals/function-bind-context"),b=o("../internals/to-object"),g=o("../internals/call-with-safe-iteration-closing"),y=o("../internals/is-array-iterator-method"),C=o("../internals/to-length"),w=o("../internals/create-property"),s=o("../internals/get-iterator-method");se.exports=function(_){var a,d,f,u,p,c,m=b(_),M=(_="function"==typeof this?this:Array,arguments.length),x=1<M?arguments[1]:void 0,I=void 0!==x,A=s(m),H=0;if(I&&(x=v(x,2<M?arguments[2]:void 0,2)),null==A||_==Array&&y(A))for(d=new _(a=C(m.length));H<a;H++)c=I?x(m[H],H):m[H],w(d,H,c);else for(p=(u=A.call(m)).next,d=new _;!(f=p.call(u)).done;H++)c=I?g(u,x,[f.value,H],!0):f.value,w(d,H,c);return d.length=H,d}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(o,se,V){function v(C){return function(w,s,l){var a,d=b(w),f=g(d.length),u=y(l,f);if(C&&s!=s){for(;u<f;)if((a=d[u++])!=a)return!0}else for(;u<f;u++)if((C||u in d)&&d[u]===s)return C||u||0;return!C&&-1}}var b=o("../internals/to-indexed-object"),g=o("../internals/to-length"),y=o("../internals/to-absolute-index");se.exports={includes:v(!0),indexOf:v(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(o,se,V){function v(l){var a=1==l,d=2==l,f=3==l,u=4==l,p=6==l,c=5==l||p;return function(m,_,M,x){for(var I,A,H=y(m),P=g(H),z=b(_,M,3),k=C(P.length),te=0,ne=(_=x||w,a?_(m,k):d?_(m,0):void 0);te<k;te++)if((c||te in P)&&(A=z(I=P[te],te,H),l))if(a)ne[te]=A;else if(A)switch(l){case 3:return!0;case 5:return I;case 6:return te;case 2:s.call(ne,I)}else if(u)return!1;return p?-1:f||u?u:ne}}var b=o("../internals/function-bind-context"),g=o("../internals/indexed-object"),y=o("../internals/to-object"),C=o("../internals/to-length"),w=o("../internals/array-species-create"),s=[].push;se.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(l,se,V){"use strict";var v=l("../internals/to-indexed-object"),b=l("../internals/to-integer"),g=l("../internals/to-length"),s=l("../internals/array-method-is-strict"),y=(l=l("../internals/array-method-uses-to-length"),Math.min),C=[].lastIndexOf,w=!!C&&1/[1].lastIndexOf(1,-0)<0;s=s("lastIndexOf"),l=l("indexOf",{ACCESSORS:!0,1:0}),se.exports=!w&&s&&l?C:function(a){if(w)return C.apply(this,arguments)||0;var d=v(this),f=g(d.length),u=f-1;for((u=1<arguments.length?y(u,b(arguments[1])):u)<0&&(u=f+u);0<=u;u--)if(u in d&&d[u]===a)return u||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(o,se,V){var v=o("../internals/fails"),b=o("../internals/well-known-symbol"),g=o("../internals/engine-v8-version"),y=b("species");se.exports=function(C){return 51<=g||!v(function(){var w=[];return(w.constructor={})[y]=function(){return{foo:1}},1!==w[C](Boolean).foo})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(o,se,V){"use strict";var v=o("../internals/fails");se.exports=function(b,g){var y=[][b];return!!y&&v(function(){y.call(null,g||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(o,se,V){function v(s){throw s}var b=o("../internals/descriptors"),g=o("../internals/fails"),y=o("../internals/has"),C=Object.defineProperty,w={};se.exports=function(s,l){var a,d,f,u;return y(w,s)?w[s]:(a=[][s],d=!!y(l=l||{},"ACCESSORS")&&l.ACCESSORS,f=y(l,0)?l[0]:v,u=y(l,1)?l[1]:void 0,w[s]=!!a&&!g(function(){if(d&&!b)return!0;var p={length:-1};d?C(p,1,{enumerable:!0,get:v}):p[1]=1,a.call(p,f,u)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(o,se,V){function v(w){return function(s,l,a,d){b(l);var f=g(s),u=y(f),p=C(f.length),c=w?p-1:0,m=w?-1:1;if(a<2)for(;;){if(c in u){d=u[c],c+=m;break}if(c+=m,w?c<0:p<=c)throw TypeError("Reduce of empty array with no initial value")}for(;w?0<=c:c<p;c+=m)c in u&&(d=l(d,u[c],c,f));return d}}var b=o("../internals/a-function"),g=o("../internals/to-object"),y=o("../internals/indexed-object"),C=o("../internals/to-length");se.exports={left:v(!1),right:v(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(o,se,V){var v=o("../internals/is-object"),b=o("../internals/is-array"),g=o("../internals/well-known-symbol")("species");se.exports=function(y,C){var w;return new(void 0===(w=b(y)&&("function"==typeof(w=y.constructor)&&(w===Array||b(w.prototype))||v(w)&&null===(w=w[g]))?void 0:w)?Array:w)(0===C?0:C)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(o,se,V){var v=o("../internals/an-object");se.exports=function(b,g,y,C){try{return C?g(v(y)[0],y[1]):g(y)}catch(w){throw void 0!==(C=b.return)&&v(C.call(b)),w}}},{"../internals/an-object":10}],27:[function(o,se,V){var v=o("../internals/well-known-symbol")("iterator"),b=!1;try{var g=0,y={next:function(){return{done:!!g++}},return:function(){b=!0}};y[v]=function(){return this},Array.from(y,function(){throw 2})}catch{}se.exports=function(C,w){if(!w&&!b)return!1;var s=!1;try{var l={};l[v]=function(){return{next:function(){return{done:s=!0}}}},C(l)}catch{}return s}},{"../internals/well-known-symbol":150}],28:[function(o,se,V){var v={}.toString;se.exports=function(b){return v.call(b).slice(8,-1)}},{}],29:[function(o,se,V){var v=o("../internals/to-string-tag-support"),b=o("../internals/classof-raw"),g=o("../internals/well-known-symbol")("toStringTag"),y="Arguments"==b(function(){return arguments}());se.exports=v?b:function(C){var w;return void 0===C?"Undefined":null===C?"Null":"string"==typeof(w=function(s,l){try{return s[l]}catch{}}(C=Object(C),g))?w:y?b(C):"Object"==(w=b(C))&&"function"==typeof C.callee?"Arguments":w}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(f,se,V){"use strict";var v=f("../internals/object-define-property").f,b=f("../internals/object-create"),g=f("../internals/redefine-all"),y=f("../internals/function-bind-context"),C=f("../internals/an-instance"),w=f("../internals/iterate"),s=f("../internals/define-iterator"),l=f("../internals/set-species"),a=f("../internals/descriptors"),d=f("../internals/internal-metadata").fastKey,u=(f=f("../internals/internal-state")).set,p=f.getterFor;se.exports={getConstructor:function(c,m,_,M){function x(P,z,k){var te,ne=H(P),G=I(P,z);return G?G.value=k:(ne.last=G={index:te=d(z,!0),key:z,value:k,previous:z=ne.last,next:void 0,removed:!1},ne.first||(ne.first=G),z&&(z.next=G),a?ne.size++:P.size++,"F"!==te&&(ne.index[te]=G)),P}function I(te,z){te=H(te);var k,ne=d(z);if("F"!==ne)return te.index[ne];for(k=te.first;k;k=k.next)if(k.key==z)return k}var A=c(function(P,z){C(P,A,m),u(P,{type:m,index:b(null),first:void 0,last:void 0,size:0}),a||(P.size=0),null!=z&&w(z,P[M],P,_)}),H=p(m);return g(A.prototype,{clear:function(){for(var P=H(this),z=P.index,k=P.first;k;)k.removed=!0,k.previous&&(k.previous=k.previous.next=void 0),delete z[k.index],k=k.next;P.first=P.last=void 0,a?P.size=0:this.size=0},delete:function(ne){var z,k,te=H(this);return(ne=I(this,ne))&&(z=ne.next,k=ne.previous,delete te.index[ne.index],ne.removed=!0,k&&(k.next=z),z&&(z.previous=k),te.first==ne&&(te.first=z),te.last==ne&&(te.last=k),a?te.size--:this.size--),!!ne},forEach:function(P){for(var z,k=H(this),te=y(P,1<arguments.length?arguments[1]:void 0,3);z=z?z.next:k.first;)for(te(z.value,z.key,this);z&&z.removed;)z=z.previous},has:function(P){return!!I(this,P)}}),g(A.prototype,_?{get:function(P){return(P=I(this,P))&&P.value},set:function(P,z){return x(this,0===P?0:P,z)}}:{add:function(P){return x(this,P=0===P?0:P,P)}}),a&&v(A.prototype,"size",{get:function(){return H(this).size}}),A},setStrong:function(c,m,_){var M=m+" Iterator",x=p(m),I=p(M);s(c,m,function(A,H){u(this,{type:M,target:A,state:x(A),kind:H,last:void 0})},function(){for(var A=I(this),H=A.kind,P=A.last;P&&P.removed;)P=P.previous;return A.target&&(A.last=P=P?P.next:A.state.first)?"keys"==H?{value:P.key,done:!1}:"values"==H?{value:P.value,done:!1}:{value:[P.key,P.value],done:!1}:{value:A.target=void 0,done:!0}},_?"entries":"values",!_,!0),l(m)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(u,se,V){"use strict";function v(x){return x.frozen||(x.frozen=new b)}function b(){this.entries=[]}function g(x,I){return m(x.entries,function(A){return A[0]===I})}var y=u("../internals/redefine-all"),C=u("../internals/internal-metadata").getWeakData,w=u("../internals/an-object"),s=u("../internals/is-object"),l=u("../internals/an-instance"),a=u("../internals/iterate"),d=u("../internals/array-iteration"),f=u("../internals/has"),p=(u=u("../internals/internal-state")).set,c=u.getterFor,m=d.find,_=d.findIndex,M=0;b.prototype={get:function(x){if(x=g(this,x))return x[1]},has:function(x){return!!g(this,x)},set:function(x,I){var A=g(this,x);A?A[1]=I:this.entries.push([x,I])},delete:function(x){var I=_(this.entries,function(A){return A[0]===x});return~I&&this.entries.splice(I,1),!!~I}},se.exports={getConstructor:function(x,I,A,H){function P(te,ne,G){var X=k(te),B=C(w(ne),!0);return!0===B?v(X).set(ne,G):B[X.id]=G,te}var z=x(function(te,ne){l(te,z,I),p(te,{type:I,id:M++,frozen:void 0}),null!=ne&&a(ne,te[H],te,A)}),k=c(I);return y(z.prototype,{delete:function(te){var ne,G=k(this);return!!s(te)&&(!0===(ne=C(te))?v(G).delete(te):ne&&f(ne,G.id)&&delete ne[G.id])},has:function(te){var ne,G=k(this);return!!s(te)&&(!0===(ne=C(te))?v(G).has(te):ne&&f(ne,G.id))}}),y(z.prototype,A?{get:function(te){var ne,G=k(this);if(s(te))return!0===(ne=C(te))?v(G).get(te):ne?ne[G.id]:void 0},set:function(te,ne){return P(this,te,ne)}}:{add:function(te){return P(this,te,!0)}}),z}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(o,se,V){"use strict";var v=o("../internals/export"),b=o("../internals/global"),g=o("../internals/is-forced"),y=o("../internals/redefine"),C=o("../internals/internal-metadata"),w=o("../internals/iterate"),s=o("../internals/an-instance"),l=o("../internals/is-object"),a=o("../internals/fails"),d=o("../internals/check-correctness-of-iteration"),f=o("../internals/set-to-string-tag"),u=o("../internals/inherit-if-required");se.exports=function(p,c,m){function _(B){var N=ne[B];y(ne,B,"add"==B?function(K){return N.call(this,0===K?0:K),this}:"delete"==B?function(K){return!(z&&!l(K))&&N.call(this,0===K?0:K)}:"get"==B?function(K){return z&&!l(K)?void 0:N.call(this,0===K?0:K)}:"has"==B?function(K){return!(z&&!l(K))&&N.call(this,0===K?0:K)}:function(K,ie){return N.call(this,0===K?0:K,ie),this})}var M,x,I,A,H,P=-1!==p.indexOf("Map"),z=-1!==p.indexOf("Weak"),k=P?"set":"add",te=b[p],ne=te&&te.prototype,G=te,X={};return g(p,"function"!=typeof te||!(z||ne.forEach&&!a(function(){(new te).entries().next()})))?(G=m.getConstructor(c,p,P,k),C.REQUIRED=!0):g(p,!0)&&(x=(M=new G)[k](z?{}:-0,1)!=M,I=a(function(){M.has(1)}),A=d(function(B){new te(B)}),H=!z&&a(function(){for(var B=new te,N=5;N--;)B[k](N,N);return!B.has(-0)}),A||(((G=c(function(B,N){return s(B,G,p),B=u(new te,B,G),null!=N&&w(N,B[k],B,P),B})).prototype=ne).constructor=G),(I||H)&&(_("delete"),_("has"),P&&_("get")),(H||x)&&_(k),z&&ne.clear&&delete ne.clear),X[p]=G,v({global:!0,forced:G!=te},X),f(G,p),z||m.setStrong(G,p,P),G}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(o,se,V){var v=o("../internals/has"),b=o("../internals/own-keys"),g=o("../internals/object-get-own-property-descriptor"),y=o("../internals/object-define-property");se.exports=function(C,w){for(var s=b(w),l=y.f,a=g.f,d=0;d<s.length;d++){var f=s[d];v(C,f)||l(C,f,a(w,f))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(o,se,V){var v=o("../internals/well-known-symbol")("match");se.exports=function(b){var g=/./;try{"/./"[b](g)}catch{try{return g[v]=!1,"/./"[b](g)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(o,se,V){o=o("../internals/fails"),se.exports=!o(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype})},{"../internals/fails":51}],36:[function(o,se,V){var v=o("../internals/require-object-coercible"),b=/"/g;se.exports=function(s,y,C,w){s=String(v(s));var l="<"+y;return""!==C&&(l+=" "+C+'="'+String(w).replace(b,"&quot;")+'"'),l+">"+s+"</"+y+">"}},{"../internals/require-object-coercible":115}],37:[function(o,se,V){"use strict";function v(){return this}var b=o("../internals/iterators-core").IteratorPrototype,g=o("../internals/object-create"),y=o("../internals/create-property-descriptor"),C=o("../internals/set-to-string-tag"),w=o("../internals/iterators");se.exports=function(s,l,a){return l+=" Iterator",s.prototype=g(b,{next:y(1,a)}),C(s,l,!1,!0),w[l]=v,s}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(o,se,V){var v=o("../internals/descriptors"),b=o("../internals/object-define-property"),g=o("../internals/create-property-descriptor");se.exports=v?function(y,C,w){return b.f(y,C,g(1,w))}:function(y,C,w){return y[C]=w,y}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(o,se,V){se.exports=function(v,b){return{enumerable:!(1&v),configurable:!(2&v),writable:!(4&v),value:b}}},{}],40:[function(o,se,V){"use strict";var v=o("../internals/to-primitive"),b=o("../internals/object-define-property"),g=o("../internals/create-property-descriptor");se.exports=function(y,C,w){(C=v(C))in y?b.f(y,C,g(0,w)):y[C]=w}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(u,se,V){"use strict";function v(){return this}var b=u("../internals/export"),g=u("../internals/create-iterator-constructor"),y=u("../internals/object-get-prototype-of"),C=u("../internals/object-set-prototype-of"),w=u("../internals/set-to-string-tag"),s=u("../internals/create-non-enumerable-property"),l=u("../internals/redefine"),a=u("../internals/well-known-symbol"),d=u("../internals/is-pure"),f=u("../internals/iterators"),p=(u=u("../internals/iterators-core")).IteratorPrototype,c=u.BUGGY_SAFARI_ITERATORS,m=a("iterator"),_="values",M="entries";se.exports=function(x,I,A,X,P,z,k){function te(Y){if(Y===P&&ie)return ie;if(!c&&Y in N)return N[Y];switch(Y){case"keys":case _:case M:return function(){return new A(this,Y)}}return function(){return new A(this)}}g(A,I,X),X=I+" Iterator";var ne,G,B=!1,N=x.prototype,K=N[m]||N["@@iterator"]||P&&N[P],ie=!c&&K||te(P),Ae="Array"==I&&N.entries||K;if(Ae&&(Ae=y(Ae.call(new x)),p!==Object.prototype&&Ae.next&&(d||y(Ae)===p||(C?C(Ae,p):"function"!=typeof Ae[m]&&s(Ae,m,v)),w(Ae,X,!0,!0),d&&(f[X]=v))),P==_&&K&&K.name!==_&&(B=!0,ie=function(){return K.call(this)}),d&&!k||N[m]===ie||s(N,m,ie),f[I]=ie,P)if(ne={values:te(_),keys:z?ie:te("keys"),entries:te(M)},k)for(G in ne)!c&&!B&&G in N||l(N,G,ne[G]);else b({target:I,proto:!0,forced:c||B},ne);return ne}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(o,se,V){var v=o("../internals/path"),b=o("../internals/has"),g=o("../internals/well-known-symbol-wrapped"),y=o("../internals/object-define-property").f;se.exports=function(C){var w=v.Symbol||(v.Symbol={});b(w,C)||y(w,C,{value:g.f(C)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(o,se,V){o=o("../internals/fails"),se.exports=!o(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":51}],44:[function(b,se,V){var v=b("../internals/global"),g=(b=b("../internals/is-object"),v.document),y=b(g)&&b(g.createElement);se.exports=function(C){return y?g.createElement(C):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(o,se,V){se.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(o,se,V){o=o("../internals/engine-user-agent"),se.exports=/(iphone|ipod|ipad).*applewebkit/i.test(o)},{"../internals/engine-user-agent":47}],47:[function(o,se,V){o=o("../internals/get-built-in"),se.exports=o("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(g,se,V){var v,b,y=g("../internals/global");g=g("../internals/engine-user-agent"),(y=(y=(y=y.process)&&y.versions)&&y.v8)?b=(v=y.split("."))[0]+v[1]:g&&(!(v=g.match(/Edge\/(\d+)/))||74<=v[1])&&(v=g.match(/Chrome\/(\d+)/))&&(b=v[1]),se.exports=b&&+b},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(o,se,V){se.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(o,se,V){var v=o("../internals/global"),b=o("../internals/object-get-own-property-descriptor").f,g=o("../internals/create-non-enumerable-property"),y=o("../internals/redefine"),C=o("../internals/set-global"),w=o("../internals/copy-constructor-properties"),s=o("../internals/is-forced");se.exports=function(l,a){var d,f,u,p=l.target,c=l.global,m=l.stat,_=c?v:m?v[p]||C(p,{}):(v[p]||{}).prototype;if(_)for(d in a){if(f=a[d],u=l.noTargetGet?(u=b(_,d))&&u.value:_[d],!s(c?d:p+(m?".":"#")+d,l.forced)&&void 0!==u){if(typeof f==typeof u)continue;w(f,u)}(l.sham||u&&u.sham)&&g(f,"sham",!0),y(_,d,f,l)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(o,se,V){se.exports=function(v){try{return!!v()}catch{return!0}}},{}],52:[function(a,se,V){"use strict";a("../modules/es.regexp.exec");var v=a("../internals/redefine"),b=a("../internals/fails"),g=a("../internals/well-known-symbol"),y=a("../internals/regexp-exec"),C=a("../internals/create-non-enumerable-property"),w=g("species"),s=!b(function(){var u=/./;return u.exec=function(){var p=[];return p.groups={a:"7"},p},"7"!=="".replace(u,"$<a>")}),l="$0"==="a".replace(/./,"$0"),d=!!/./[a=g("replace")]&&""===/./[a]("a","$0"),f=!b(function(){var u=(p=/(?:)/).exec,p=(p.exec=function(){return u.apply(this,arguments)},"ab".split(p));return 2!==p.length||"a"!==p[0]||"b"!==p[1]});se.exports=function(u,p,c,m){var _,M,x=g(u),I=!b(function(){var H={};return H[x]=function(){return 7},7!=""[u](H)}),A=I&&!b(function(){var H=!1,P=/a/;return"split"===u&&((P={constructor:{}}).constructor[w]=function(){return P},P.flags="",P[x]=/./[x]),P.exec=function(){return H=!0,null},P[x](""),!H});I&&A&&("replace"!==u||s&&l&&!d)&&("split"!==u||f)||(_=/./[x],c=(A=c(x,""[u],function(H,P,z,k,te){return P.exec===y?I&&!te?{done:!0,value:_.call(P,z,k)}:{done:!0,value:H.call(z,P,k)}:{done:!1}},{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}))[0],M=A[1],v(String.prototype,u,c),v(RegExp.prototype,x,2==p?function(H,P){return M.call(H,this,P)}:function(H){return M.call(H,this)})),m&&C(RegExp.prototype[x],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(o,se,V){"use strict";var b=o("../internals/is-array"),g=o("../internals/to-length"),y=o("../internals/function-bind-context");se.exports=function v(C,w,s,l,a,d,f,u){for(var p,c=a,m=0,_=!!f&&y(f,u,3);m<l;){if(m in s){if(p=_?_(s[m],m,w):s[m],0<d&&b(p))c=v(C,w,p,g(p.length),c,d-1)-1;else{if(9007199254740991<=c)throw TypeError("Exceed the acceptable array length");C[c]=p}c++}m++}return c}},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(o,se,V){o=o("../internals/fails"),se.exports=!o(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(o,se,V){var v=o("../internals/a-function");se.exports=function(b,g,y){if(v(b),void 0===g)return b;switch(y){case 0:return function(){return b.call(g)};case 1:return function(C){return b.call(g,C)};case 2:return function(C,w){return b.call(g,C,w)};case 3:return function(C,w,s){return b.call(g,C,w,s)}}return function(){return b.apply(g,arguments)}}},{"../internals/a-function":5}],56:[function(o,se,V){"use strict";var v=o("../internals/a-function"),b=o("../internals/is-object"),g=[].slice,y={};se.exports=Function.bind||function(C){var w=v(this),s=g.call(arguments,1),l=function(){var a=s.concat(g.call(arguments));if(this instanceof l){var d=w,f=a.length,u=a;if(!(f in y)){for(var p=[],c=0;c<f;c++)p[c]="a["+c+"]";y[f]=Function("C,a","return new C("+p.join(",")+")")}return y[f](d,u)}return w.apply(C,a)};return b(w.prototype)&&(l.prototype=w.prototype),l}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(o,se,V){function v(y){return"function"==typeof y?y:void 0}var b=o("../internals/path"),g=o("../internals/global");se.exports=function(y,C){return arguments.length<2?v(b[y])||v(g[y]):b[y]&&b[y][C]||g[y]&&g[y][C]}},{"../internals/global":60,"../internals/path":106}],58:[function(o,se,V){var v=o("../internals/classof"),b=o("../internals/iterators"),g=o("../internals/well-known-symbol")("iterator");se.exports=function(y){if(null!=y)return y[g]||y["@@iterator"]||b[v(y)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(o,se,V){var v=o("../internals/an-object"),b=o("../internals/get-iterator-method");se.exports=function(g){var y=b(g);if("function"!=typeof y)throw TypeError(String(g)+" is not iterable");return v(y.call(g))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(o,se,V){(function(v){function b(g){return g&&g.Math==Math&&g}se.exports=b("object"==typeof globalThis&&globalThis)||b("object"==typeof window&&window)||b("object"==typeof self&&self)||b("object"==typeof v&&v)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(o,se,V){var v={}.hasOwnProperty;se.exports=function(b,g){return v.call(b,g)}},{}],62:[function(o,se,V){se.exports={}},{}],63:[function(o,se,V){var v=o("../internals/global");se.exports=function(b,g){var y=v.console;y&&y.error&&(1===arguments.length?y.error(b):y.error(b,g))}},{"../internals/global":60}],64:[function(o,se,V){o=o("../internals/get-built-in"),se.exports=o("document","documentElement")},{"../internals/get-built-in":57}],65:[function(o,se,V){var v=o("../internals/descriptors"),b=o("../internals/fails"),g=o("../internals/document-create-element");se.exports=!v&&!b(function(){return 7!=Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(o,se,V){var v=Math.abs,b=Math.pow,g=Math.floor,y=Math.log,C=Math.LN2;se.exports={pack:function(w,s,c){var a,d,f,u=new Array(c),p=8*c-s-1,m=(c=(1<<p)-1)>>1,_=23===s?b(2,-24)-b(2,-77):0,M=w<0||0===w&&1/w<0?1:0,x=0;for((w=v(w))!=w||w===1/0?(d=w!=w?1:0,a=c):(a=g(y(w)/C),w*(f=b(2,-a))<1&&(a--,f*=2),2<=(w+=1<=a+m?_/f:_*b(2,1-m))*f&&(a++,f/=2),c<=a+m?(d=0,a=c):1<=a+m?(d=(w*f-1)*b(2,s),a+=m):(d=w*b(2,m-1)*b(2,s),a=0));8<=s;u[x++]=255&d,d/=256,s-=8);for(a=a<<s|d,p+=s;0<p;u[x++]=255&a,a/=256,p-=8);return u[--x]|=128*M,u},unpack:function(w,s){var l,c,a=w.length,d=(1<<(c=8*a-s-1))-1,f=d>>1,u=c-7,p=a-1,m=127&(c=w[p--]);for(c>>=7;0<u;m=256*m+w[p],p--,u-=8);for(l=m&(1<<-u)-1,m>>=-u,u+=s;0<u;l=256*l+w[p],p--,u-=8);if(0===m)m=1-f;else{if(m===d)return l?NaN:c?-1/0:1/0;l+=b(2,s),m-=f}return(c?-1:1)*l*b(2,m-s)}}},{}],67:[function(o,se,V){var v=o("../internals/fails"),b=o("../internals/classof-raw"),g="".split;se.exports=v(function(){return!Object("z").propertyIsEnumerable(0)})?function(y){return"String"==b(y)?g.call(y,""):Object(y)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(o,se,V){var v=o("../internals/is-object"),b=o("../internals/object-set-prototype-of");se.exports=function(g,y,C){return b&&"function"==typeof(y=y.constructor)&&y!==C&&v(y=y.prototype)&&y!==C.prototype&&b(g,y),g}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(v,se,V){v=v("../internals/shared-store");var b=Function.toString;"function"!=typeof v.inspectSource&&(v.inspectSource=function(g){return b.call(g)}),se.exports=v.inspectSource},{"../internals/shared-store":121}],70:[function(o,se,V){function v(u){C(u,l,{value:{objectID:"O"+ ++a,weakData:{}}})}var b=o("../internals/hidden-keys"),g=o("../internals/is-object"),y=o("../internals/has"),C=o("../internals/object-define-property").f,w=o("../internals/uid"),s=o("../internals/freezing"),l=w("meta"),a=0,d=Object.isExtensible||function(){return!0},f=se.exports={REQUIRED:!1,fastKey:function(u,p){if(!g(u))return"symbol"==typeof u?u:("string"==typeof u?"S":"P")+u;if(!y(u,l)){if(!d(u))return"F";if(!p)return"E";v(u)}return u[l].objectID},getWeakData:function(u,p){if(!y(u,l)){if(!d(u))return!0;if(!p)return!1;v(u)}return u[l].weakData},onFreeze:function(u){return s&&f.REQUIRED&&d(u)&&!y(u,l)&&v(u),u}};b[l]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(c,se,V){var v,b,g,y,C,w,s,l,a=c("../internals/native-weak-map"),m=c("../internals/global"),d=c("../internals/is-object"),f=c("../internals/create-non-enumerable-property"),u=c("../internals/has"),p=c("../internals/shared-key");c=c("../internals/hidden-keys"),m=m.WeakMap,s=a?(v=new m,b=v.get,g=v.has,y=v.set,C=function(_,M){return y.call(v,_,M),M},w=function(_){return b.call(v,_)||{}},function(_){return g.call(v,_)}):(c[l=p("state")]=!0,C=function(_,M){return f(_,l,M),M},w=function(_){return u(_,l)?_[l]:{}},function(_){return u(_,l)}),se.exports={set:C,get:w,has:s,enforce:function(_){return s(_)?w(_):C(_,{})},getterFor:function(_){return function(M){if(d(M)&&(M=w(M)).type===_)return M;throw TypeError("Incompatible receiver, "+_+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(o,se,V){var v=o("../internals/well-known-symbol"),b=o("../internals/iterators"),g=v("iterator"),y=Array.prototype;se.exports=function(C){return void 0!==C&&(b.Array===C||y[g]===C)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(o,se,V){var v=o("../internals/classof-raw");se.exports=Array.isArray||function(b){return"Array"==v(b)}},{"../internals/classof-raw":28}],74:[function(o,se,V){function v(l,a){return(l=C[y(l)])==s||l!=w&&("function"==typeof a?b(a):!!a)}var b=o("../internals/fails"),g=/#|\.prototype\./,y=v.normalize=function(l){return String(l).replace(g,".").toLowerCase()},C=v.data={},w=v.NATIVE="N",s=v.POLYFILL="P";se.exports=v},{"../internals/fails":51}],75:[function(o,se,V){se.exports=function(v){return"object"==typeof v?null!==v:"function"==typeof v}},{}],76:[function(o,se,V){se.exports=!1},{}],77:[function(o,se,V){var v=o("../internals/is-object"),b=o("../internals/classof-raw"),g=o("../internals/well-known-symbol")("match");se.exports=function(y){var C;return v(y)&&(void 0!==(C=y[g])?!!C:"RegExp"==b(y))}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(o,se,V){function v(l,a){this.stopped=l,this.result=a}var b=o("../internals/an-object"),g=o("../internals/is-array-iterator-method"),y=o("../internals/to-length"),C=o("../internals/function-bind-context"),w=o("../internals/get-iterator-method"),s=o("../internals/call-with-safe-iteration-closing");(se.exports=function(l,a,d,f,u){var p,c,m,_,M,x,I=C(a,d,f?2:1);if(u)p=l;else{if("function"!=typeof(a=w(l)))throw TypeError("Target is not iterable");if(g(a)){for(c=0,m=y(l.length);c<m;c++)if((_=f?I(b(x=l[c])[0],x[1]):I(l[c]))&&_ instanceof v)return _;return new v(!1)}p=a.call(l)}for(M=p.next;!(x=M.call(p)).done;)if("object"==typeof(_=s(p,I,x.value,f))&&_&&_ instanceof v)return _;return new v(!1)}).stop=function(l){return new v(!0,l)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(w,se,V){"use strict";var v,b,g=w("../internals/object-get-prototype-of"),y=w("../internals/create-non-enumerable-property"),C=w("../internals/has"),s=w("../internals/well-known-symbol"),l=(w=w("../internals/is-pure"),s=s("iterator"),!1);[].keys&&("next"in(b=[].keys())?(g=g(g(b)))!==Object.prototype&&(v=g):l=!0),null==v&&(v={}),w||C(v,s)||y(v,s,function(){return this}),se.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:l}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(o,se,V){se.exports={}},{}],81:[function(o,se,V){se.exports=Math.sign||function(v){return 0==(v=+v)||v!=v?v:v<0?-1:1}},{}],82:[function(f,se,V){var v,b,g,y,C,w,s,l,a=f("../internals/global"),M=f("../internals/object-get-own-property-descriptor").f,_=f("../internals/classof-raw"),d=f("../internals/task").set,u=(f=f("../internals/engine-is-ios"),a.MutationObserver||a.WebKitMutationObserver),p=a.process,c=a.Promise,m="process"==_(p);_=M(a,"queueMicrotask"),(M=_&&_.value)||(v=function(){var x,I;for(m&&(x=p.domain)&&x.exit();b;){I=b.fn,b=b.next;try{I()}catch(A){throw b?y():g=void 0,A}}g=void 0,x&&x.enter()},y=m?function(){p.nextTick(v)}:u&&!f?(C=!0,w=document.createTextNode(""),new u(v).observe(w,{characterData:!0}),function(){w.data=C=!C}):c&&c.resolve?(s=c.resolve(void 0),l=s.then,function(){l.call(s,v)}):function(){d.call(a,v)}),se.exports=M||function(x){x={fn:x,next:void 0},g&&(g.next=x),b||(b=x,y()),g=x}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(o,se,V){o=o("../internals/global"),se.exports=o.Promise},{"../internals/global":60}],84:[function(o,se,V){o=o("../internals/fails"),se.exports=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(o,se,V){var v=o("../internals/fails"),b=o("../internals/well-known-symbol"),g=o("../internals/is-pure"),y=b("iterator");se.exports=!v(function(){var C=new URL("b?a=1&b=2&c=3","http://a"),w=C.searchParams,s="";return C.pathname="c%20d",w.forEach(function(l,a){w.delete("b"),s+=a+l}),g&&!C.toJSON||!w.sort||"http://a/c%20d?a=1&c=3"!==C.href||"3"!==w.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!w[y]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==s||"x"!==new URL("http://x",void 0).host})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(v,se,V){var b=v("../internals/global");v=v("../internals/inspect-source"),se.exports="function"==typeof(b=b.WeakMap)&&/native code/.test(v(b))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(o,se,V){"use strict";function v(g){var y,C;this.promise=new g(function(w,s){if(void 0!==y||void 0!==C)throw TypeError("Bad Promise constructor");y=w,C=s}),this.resolve=b(y),this.reject=b(C)}var b=o("../internals/a-function");se.exports.f=function(g){return new v(g)}},{"../internals/a-function":5}],88:[function(o,se,V){var v=o("../internals/is-regexp");se.exports=function(b){if(v(b))throw TypeError("The method doesn't accept regular expressions");return b}},{"../internals/is-regexp":77}],89:[function(o,se,V){var v=o("../internals/global").isFinite;se.exports=Number.isFinite||function(b){return"number"==typeof b&&v(b)}},{"../internals/global":60}],90:[function(o,se,V){"use strict";var v=o("../internals/descriptors"),b=o("../internals/fails"),g=o("../internals/object-keys"),y=o("../internals/object-get-own-property-symbols"),C=o("../internals/object-property-is-enumerable"),w=o("../internals/to-object"),s=o("../internals/indexed-object"),l=Object.assign,a=Object.defineProperty;se.exports=!l||b(function(){var d,f,u,p;return!(!v||1===l({b:1},l(a({},"a",{enumerable:!0,get:function(){a(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(f={},p="abcdefghijklmnopqrst",(d={})[u=Symbol()]=7,p.split("").forEach(function(c){f[c]=c}),7!=l({},d)[u]||g(l({},f)).join("")!=p)})?function(d,f){for(var u=w(d),p=arguments.length,c=1,m=y.f,_=C.f;c<p;)for(var M,x=s(arguments[c++]),I=m?g(x).concat(m(x)):g(x),A=I.length,H=0;H<A;)M=I[H++],v&&!_.call(x,M)||(u[M]=x[M]);return u}:l},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(a,se,V){function v(){}var b,g=a("../internals/an-object"),y=a("../internals/object-define-properties"),C=a("../internals/enum-bug-keys"),w=a("../internals/hidden-keys"),s=a("../internals/html"),l=a("../internals/document-create-element"),d=(a=a("../internals/shared-key"),"prototype"),f="script",u=a("IE_PROTO"),p=function(m){return"<"+f+">"+m+"</"+f+">"},c=function(){try{b=document.domain&&new ActiveXObject("htmlfile")}catch{}c=b?((m=b).write(p("")),m.close(),_=m.parentWindow.Object,m=null,_):(m=l("iframe"),_="java"+f+":",m.style.display="none",s.appendChild(m),m.src=String(_),(_=m.contentWindow.document).open(),_.write(p("document.F=Object")),_.close(),_.F);for(var m,_,M=C.length;M--;)delete c[d][C[M]];return c()};w[u]=!0,se.exports=Object.create||function(m,_){var M;return null!==m?(v[d]=g(m),M=new v,v[d]=null,M[u]=m):M=c(),void 0===_?M:y(M,_)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(o,se,V){var v=o("../internals/descriptors"),b=o("../internals/object-define-property"),g=o("../internals/an-object"),y=o("../internals/object-keys");se.exports=v?Object.defineProperties:function(C,w){g(C);for(var s,l=y(w),a=l.length,d=0;d<a;)b.f(C,s=l[d++],w[s]);return C}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(o,se,V){var v=o("../internals/descriptors"),b=o("../internals/ie8-dom-define"),g=o("../internals/an-object"),y=o("../internals/to-primitive"),C=Object.defineProperty;V.f=v?C:function(w,s,l){if(g(w),s=y(s,!0),g(l),b)try{return C(w,s,l)}catch{}if("get"in l||"set"in l)throw TypeError("Accessors not supported");return"value"in l&&(w[s]=l.value),w}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(o,se,V){var v=o("../internals/descriptors"),b=o("../internals/object-property-is-enumerable"),g=o("../internals/create-property-descriptor"),y=o("../internals/to-indexed-object"),C=o("../internals/to-primitive"),w=o("../internals/has"),s=o("../internals/ie8-dom-define"),l=Object.getOwnPropertyDescriptor;V.f=v?l:function(a,d){if(a=y(a),d=C(d,!0),s)try{return l(a,d)}catch{}if(w(a,d))return g(!b.f.call(a,d),a[d])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(o,se,V){var v=o("../internals/to-indexed-object"),b=o("../internals/object-get-own-property-names").f,g={}.toString,y="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];se.exports.f=function(C){if(!y||"[object Window]"!=g.call(C))return b(v(C));try{return b(C)}catch{return y.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(o,se,V){var v=o("../internals/object-keys-internal"),b=o("../internals/enum-bug-keys").concat("length","prototype");V.f=Object.getOwnPropertyNames||function(g){return v(g,b)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(o,se,V){V.f=Object.getOwnPropertySymbols},{}],98:[function(y,se,V){var v=y("../internals/has"),b=y("../internals/to-object"),g=y("../internals/shared-key"),C=(y=y("../internals/correct-prototype-getter"),g("IE_PROTO")),w=Object.prototype;se.exports=y?Object.getPrototypeOf:function(s){return s=b(s),v(s,C)?s[C]:"function"==typeof s.constructor&&s instanceof s.constructor?s.constructor.prototype:s instanceof Object?w:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(o,se,V){var v=o("../internals/has"),b=o("../internals/to-indexed-object"),g=o("../internals/array-includes").indexOf,y=o("../internals/hidden-keys");se.exports=function(C,w){var s,l=b(C),a=0,d=[];for(s in l)!v(y,s)&&v(l,s)&&d.push(s);for(;w.length>a;)!v(l,s=w[a++])||~g(d,s)||d.push(s);return d}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(o,se,V){var v=o("../internals/object-keys-internal"),b=o("../internals/enum-bug-keys");se.exports=Object.keys||function(g){return v(g,b)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(o,se,V){"use strict";var v={}.propertyIsEnumerable,b=Object.getOwnPropertyDescriptor,g=b&&!v.call({1:2},1);V.f=g?function(y){return!!(y=b(this,y))&&y.enumerable}:v},{}],102:[function(o,se,V){var v=o("../internals/an-object"),b=o("../internals/a-possible-prototype");se.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g,y=!1,C={};try{(g=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(C,[]),y=C instanceof Array}catch{}return function(w,s){return v(w),b(s),y?g.call(w,s):w.__proto__=s,w}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(o,se,V){function v(w){return function(s){for(var l,a=y(s),d=g(a),f=d.length,u=0,p=[];u<f;)l=d[u++],b&&!C.call(a,l)||p.push(w?[l,a[l]]:a[l]);return p}}var b=o("../internals/descriptors"),g=o("../internals/object-keys"),y=o("../internals/to-indexed-object"),C=o("../internals/object-property-is-enumerable").f;se.exports={entries:v(!0),values:v(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(o,se,V){"use strict";var v=o("../internals/to-string-tag-support"),b=o("../internals/classof");se.exports=v?{}.toString:function(){return"[object "+b(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(o,se,V){var v=o("../internals/get-built-in"),b=o("../internals/object-get-own-property-names"),g=o("../internals/object-get-own-property-symbols"),y=o("../internals/an-object");se.exports=v("Reflect","ownKeys")||function(C){var w=b.f(y(C)),s=g.f;return s?w.concat(s(C)):w}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(o,se,V){o=o("../internals/global"),se.exports=o},{"../internals/global":60}],107:[function(o,se,V){se.exports=function(v){try{return{error:!1,value:v()}}catch(b){return{error:!0,value:b}}}},{}],108:[function(o,se,V){var v=o("../internals/an-object"),b=o("../internals/is-object"),g=o("../internals/new-promise-capability");se.exports=function(y,C){return v(y),b(C)&&C.constructor===y?C:((0,(y=g.f(y)).resolve)(C),y.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(o,se,V){var v=o("../internals/redefine");se.exports=function(b,g,y){for(var C in g)v(b,C,g[C],y);return b}},{"../internals/redefine":110}],110:[function(w,se,V){var v=w("../internals/global"),b=w("../internals/create-non-enumerable-property"),g=w("../internals/has"),y=w("../internals/set-global"),C=w("../internals/inspect-source"),s=(w=w("../internals/internal-state")).get,l=w.enforce,a=String(String).split("String");(se.exports=function(d,f,u,_){var c=!!_&&!!_.unsafe,m=!!_&&!!_.enumerable;_=!!_&&!!_.noTargetGet,"function"==typeof u&&("string"!=typeof f||g(u,"name")||b(u,"name",f),l(u).source=a.join("string"==typeof f?f:"")),d===v?m?d[f]=u:y(f,u):(c?!_&&d[f]&&(m=!0):delete d[f],m?d[f]=u:b(d,f,u))})(Function.prototype,"toString",function(){return"function"==typeof this&&s(this).source||C(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(o,se,V){var v=o("./classof-raw"),b=o("./regexp-exec");se.exports=function(g,y){var C=g.exec;if("function"==typeof C){if("object"!=typeof(C=C.call(g,y)))throw TypeError("RegExp exec method returned something other than an Object or null");return C}if("RegExp"!==v(g))throw TypeError("RegExp#exec called on incompatible receiver");return b.call(g,y)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(y,se,V){"use strict";var v,b,g=y("./regexp-flags"),C=(y=y("./regexp-sticky-helpers"),RegExp.prototype.exec),w=String.prototype.replace,s=C,l=(b=/b*/g,C.call(v=/a/,"a"),C.call(b,"a"),0!==v.lastIndex||0!==b.lastIndex),a=y.UNSUPPORTED_Y||y.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];se.exports=s=l||d||a?function(f){var u,p,c,m,_=this,M=a&&_.sticky,x=g.call(_),I=_.source,A=0,H=f;return M&&(-1===(x=x.replace("y","")).indexOf("g")&&(x+="g"),H=String(f).slice(_.lastIndex),0<_.lastIndex&&(!_.multiline||_.multiline&&"\n"!==f[_.lastIndex-1])&&(I="(?: "+I+")",H=" "+H,A++),p=new RegExp("^(?:"+I+")",x)),d&&(p=new RegExp("^"+I+"$(?!\\s)",x)),l&&(u=_.lastIndex),c=C.call(M?p:_,H),M?c?(c.input=c.input.slice(A),c[0]=c[0].slice(A),c.index=_.lastIndex,_.lastIndex+=c[0].length):_.lastIndex=0:l&&c&&(_.lastIndex=_.global?c.index+c[0].length:u),d&&c&&1<c.length&&w.call(c[0],p,function(){for(m=1;m<arguments.length-2;m++)void 0===arguments[m]&&(c[m]=void 0)}),c}:s},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(o,se,V){"use strict";var v=o("../internals/an-object");se.exports=function(){var b=v(this),g="";return b.global&&(g+="g"),b.ignoreCase&&(g+="i"),b.multiline&&(g+="m"),b.dotAll&&(g+="s"),b.unicode&&(g+="u"),b.sticky&&(g+="y"),g}},{"../internals/an-object":10}],114:[function(o,se,V){"use strict";function v(b,g){return RegExp(b,g)}o=o("./fails"),V.UNSUPPORTED_Y=o(function(){var b=v("a","y");return b.lastIndex=2,null!=b.exec("abcd")}),V.BROKEN_CARET=o(function(){var b=v("^r","gy");return b.lastIndex=2,null!=b.exec("str")})},{"./fails":51}],115:[function(o,se,V){se.exports=function(v){if(null==v)throw TypeError("Can't call method on "+v);return v}},{}],116:[function(o,se,V){se.exports=Object.is||function(v,b){return v===b?0!==v||1/v==1/b:v!=v&&b!=b}},{}],117:[function(o,se,V){var v=o("../internals/global"),b=o("../internals/create-non-enumerable-property");se.exports=function(g,y){try{b(v,g,y)}catch{v[g]=y}return y}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(o,se,V){"use strict";var v=o("../internals/get-built-in"),b=o("../internals/object-define-property"),g=o("../internals/well-known-symbol"),y=o("../internals/descriptors"),C=g("species");se.exports=function(s){s=v(s),y&&s&&!s[C]&&(0,b.f)(s,C,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(o,se,V){var v=o("../internals/object-define-property").f,b=o("../internals/has"),g=o("../internals/well-known-symbol")("toStringTag");se.exports=function(y,C,w){y&&!b(y=w?y:y.prototype,g)&&v(y,g,{configurable:!0,value:C})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(o,se,V){var v=o("../internals/shared"),b=o("../internals/uid"),g=v("keys");se.exports=function(y){return g[y]||(g[y]=b(y))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(v,se,V){var g=v("../internals/global"),b=(v=v("../internals/set-global"),"__core-js_shared__");g=g[b]||v(b,{}),se.exports=g},{"../internals/global":60,"../internals/set-global":117}],122:[function(o,se,V){var v=o("../internals/is-pure"),b=o("../internals/shared-store");(se.exports=function(g,y){return b[g]||(b[g]=void 0!==y?y:{})})("versions",[]).push({version:"3.6.5",mode:v?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(o,se,V){var v=o("../internals/an-object"),b=o("../internals/a-function"),g=o("../internals/well-known-symbol")("species");se.exports=function(w,C){return void 0===(w=v(w).constructor)||null==(w=v(w)[g])?C:b(w)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(o,se,V){var v=o("../internals/fails");se.exports=function(b){return v(function(){var g=""[b]('"');return g!==g.toLowerCase()||3<g.split('"').length})}},{"../internals/fails":51}],125:[function(o,se,V){function v(y){return function(l,a){l=String(g(l)),a=b(a);var s,d=l.length;return a<0||d<=a?y?"":void 0:(s=l.charCodeAt(a))<55296||56319<s||a+1===d||(d=l.charCodeAt(a+1))<56320||57343<d?y?l.charAt(a):s:y?l.slice(a,a+2):d-56320+(s-55296<<10)+65536}}var b=o("../internals/to-integer"),g=o("../internals/require-object-coercible");se.exports={codeAt:v(!1),charAt:v(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(o,se,V){o=o("../internals/engine-user-agent"),se.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o)},{"../internals/engine-user-agent":47}],127:[function(o,se,V){function v(w){return function(d,p,u){var f=(d=String(y(d))).length;return u=void 0===u?" ":String(u),(p=b(p))<=f||""==u?d:((f=g.call(u,C((p-=f)/u.length))).length>p&&(f=f.slice(0,p)),w?d+f:f+d)}}var b=o("../internals/to-length"),g=o("../internals/string-repeat"),y=o("../internals/require-object-coercible"),C=Math.ceil;se.exports={start:v(!1),end:v(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(o,se,V){"use strict";function v(c){return c+22+75*(c<26)}function b(c){var m,_=[],M=(c=function(K){for(var ie=[],Ae=0,Y=K.length;Ae<Y;){var R,Q=K.charCodeAt(Ae++);55296<=Q&&Q<=56319&&Ae<Y?56320==(64512&(R=K.charCodeAt(Ae++)))?ie.push(((1023&Q)<<10)+(1023&R)+65536):(ie.push(Q),Ae--):ie.push(Q)}return ie}(c)).length,x=128,I=0,A=72;for(k=0;k<c.length;k++)(m=c[k])<128&&_.push(p(m));var H=_.length,P=H;for(H&&_.push("-");P<M;){for(var z=g,k=0;k<c.length;k++)x<=(m=c[k])&&m<z&&(z=m);var te=P+1;if(z-x>u((g-I)/te))throw RangeError(d);for(I+=(z-x)*te,x=z,k=0;k<c.length;k++){if((m=c[k])<x&&++I>g)throw RangeError(d);if(m==x){for(var ne=I,G=y;;G+=y){var X=G<=A?1:A+C<=G?C:G-A;if(ne<X)break;var B=ne-X,N=y-X;_.push(p(v(X+B%N))),ne=u(B/N)}_.push(p(v(ne))),A=function(K,ie,Ae){var Y=0;for(K=Ae?u(K/s):K>>1,K+=u(K/ie);f*C>>1<K;Y+=y)K=u(K/f);return u(Y+(f+1)*K/(K+w))}(I,te,P==H),I=0,++P}}++I,++x}return _.join("")}var g=2147483647,y=36,C=26,w=38,s=700,l=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,d="Overflow: input needs wider integers to process",f=y-1,u=Math.floor,p=String.fromCharCode;se.exports=function(c){for(var m,_=[],M=c.toLowerCase().replace(a,".").split("."),x=0;x<M.length;x++)_.push(l.test(m=M[x])?"xn--"+b(m):m);return _.join(".")}},{}],129:[function(o,se,V){"use strict";var v=o("../internals/to-integer"),b=o("../internals/require-object-coercible");se.exports="".repeat||function(g){var y=String(b(this)),C="",w=v(g);if(w<0||w==1/0)throw RangeError("Wrong number of repetitions");for(;0<w;(w>>>=1)&&(y+=y))1&w&&(C+=y);return C}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(o,se,V){var v=o("../internals/fails"),b=o("../internals/whitespaces");se.exports=function(g){return v(function(){return!!b[g]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[g]()||b[g].name!==g})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(g,se,V){function v(w){return function(s){return s=String(b(s)),1&w&&(s=s.replace(y,"")),2&w?s.replace(C,""):s}}var b=g("../internals/require-object-coercible"),y=(g="["+g("../internals/whitespaces")+"]",RegExp("^"+g+g+"*")),C=RegExp(g+g+"*$");se.exports={start:v(1),end:v(2),trim:v(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(f,se,V){function v(P){return function(){H(P)}}function b(P){H(P.data)}function g(P){C.postMessage(P+"",u.protocol+"//"+u.host)}var y,C=f("../internals/global"),w=f("../internals/fails"),s=f("../internals/classof-raw"),l=f("../internals/function-bind-context"),a=f("../internals/html"),d=f("../internals/document-create-element"),u=(f=f("../internals/engine-is-ios"),C.location),p=C.setImmediate,c=C.clearImmediate,m=C.process,_=C.MessageChannel,M=C.Dispatch,x=0,I={},A="onreadystatechange",H=function(P){var z;I.hasOwnProperty(P)&&(z=I[P],delete I[P],z())};p&&c||(p=function(P){for(var z=[],k=1;k<arguments.length;)z.push(arguments[k++]);return I[++x]=function(){("function"==typeof P?P:Function(P)).apply(void 0,z)},y(x),x},c=function(P){delete I[P]},"process"==s(m)?y=function(P){m.nextTick(v(P))}:M&&M.now?y=function(P){M.now(v(P))}:_&&!f?(f=(s=new _).port2,s.port1.onmessage=b,y=l(f.postMessage,f,1)):!C.addEventListener||"function"!=typeof postMessage||C.importScripts||w(g)||"file:"===u.protocol?y=A in d("script")?function(P){a.appendChild(d("script"))[A]=function(){a.removeChild(this),H(P)}}:function(P){setTimeout(v(P),0)}:(y=g,C.addEventListener("message",b,!1))),se.exports={set:p,clear:c}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(o,se,V){var v=o("../internals/classof-raw");se.exports=function(b){if("number"!=typeof b&&"Number"!=v(b))throw TypeError("Incorrect invocation");return+b}},{"../internals/classof-raw":28}],134:[function(o,se,V){var v=o("../internals/to-integer"),b=Math.max,g=Math.min;se.exports=function(y,C){return(y=v(y))<0?b(y+C,0):g(y,C)}},{"../internals/to-integer":137}],135:[function(o,se,V){var v=o("../internals/to-integer"),b=o("../internals/to-length");se.exports=function(y){if(void 0===y)return 0;y=v(y);var C=b(y);if(y!==C)throw RangeError("Wrong length or index");return C}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(o,se,V){var v=o("../internals/indexed-object"),b=o("../internals/require-object-coercible");se.exports=function(g){return v(b(g))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(o,se,V){var v=Math.ceil,b=Math.floor;se.exports=function(g){return isNaN(g=+g)?0:(0<g?b:v)(g)}},{}],138:[function(o,se,V){var v=o("../internals/to-integer"),b=Math.min;se.exports=function(g){return 0<g?b(v(g),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(o,se,V){var v=o("../internals/require-object-coercible");se.exports=function(b){return Object(v(b))}},{"../internals/require-object-coercible":115}],140:[function(o,se,V){var v=o("../internals/to-positive-integer");se.exports=function(b,g){if((b=v(b))%g)throw RangeError("Wrong offset");return b}},{"../internals/to-positive-integer":141}],141:[function(o,se,V){var v=o("../internals/to-integer");se.exports=function(b){if((b=v(b))<0)throw RangeError("The argument can't be less than 0");return b}},{"../internals/to-integer":137}],142:[function(o,se,V){var v=o("../internals/is-object");se.exports=function(b,g){if(!v(b))return b;var y,C;if(g&&"function"==typeof(y=b.toString)&&!v(C=y.call(b))||"function"==typeof(y=b.valueOf)&&!v(C=y.call(b))||!g&&"function"==typeof(y=b.toString)&&!v(C=y.call(b)))return C;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(o,se,V){var v={};v[o("../internals/well-known-symbol")("toStringTag")]="z",se.exports="[object z]"===String(v)},{"../internals/well-known-symbol":150}],144:[function(o,se,V){"use strict";function v(Qe,st){for(var Tt=0,on=st.length,Ut=new($e(Qe))(on);Tt<on;)Ut[Tt]=st[Tt++];return Ut}function b(Qe,st){R(Qe,st,{get:function(){return Ae(this)[st]}})}function g(Qe){return Qe instanceof Ve||"ArrayBuffer"==(Qe=H(Qe))||"SharedArrayBuffer"==Qe}function y(Qe,st){return Ze(Qe)&&"symbol"!=typeof st&&st in Qe&&String(+st)==String(st)}function C(Qe,st){return y(Qe,st=I(st,!0))?c(2,Qe[st]):Q(Qe,st)}function w(Qe,st,Tt){return!(y(Qe,st=I(st,!0))&&P(Tt)&&A(Tt,"value"))||A(Tt,"get")||A(Tt,"set")||Tt.configurable||A(Tt,"writable")&&!Tt.writable||A(Tt,"enumerable")&&!Tt.enumerable?R(Qe,st,Tt):(Qe[st]=Tt.value,Qe)}var s=o("../internals/export"),l=o("../internals/global"),a=o("../internals/descriptors"),d=o("../internals/typed-array-constructors-require-wrappers"),f=o("../internals/array-buffer-view-core"),u=o("../internals/array-buffer"),p=o("../internals/an-instance"),c=o("../internals/create-property-descriptor"),m=o("../internals/create-non-enumerable-property"),_=o("../internals/to-length"),M=o("../internals/to-index"),x=o("../internals/to-offset"),I=o("../internals/to-primitive"),A=o("../internals/has"),H=o("../internals/classof"),P=o("../internals/is-object"),z=o("../internals/object-create"),k=o("../internals/object-set-prototype-of"),te=o("../internals/object-get-own-property-names").f,ne=o("../internals/typed-array-from"),G=o("../internals/array-iteration").forEach,X=o("../internals/set-species"),B=o("../internals/object-define-property"),N=o("../internals/object-get-own-property-descriptor"),K=o("../internals/internal-state"),ie=o("../internals/inherit-if-required"),Ae=K.get,Y=K.set,R=B.f,Q=N.f,pe=Math.round,Se=l.RangeError,Ve=u.ArrayBuffer,qe=u.DataView,pt=f.NATIVE_ARRAY_BUFFER_VIEWS,We=f.TYPED_ARRAY_TAG,ct=f.TypedArray,dt=f.TypedArrayPrototype,$e=f.aTypedArrayConstructor,Ze=f.isTypedArray,Je="BYTES_PER_ELEMENT",at="Wrong length";a?(pt||(N.f=C,B.f=w,b(dt,"buffer"),b(dt,"byteOffset"),b(dt,"byteLength"),b(dt,"length")),s({target:"Object",stat:!0,forced:!pt},{getOwnPropertyDescriptor:C,defineProperty:w}),se.exports=function(It,st,Tt){function on(Vt,ze){R(Vt,ze,{get:function(){var Be=this,Oe=ze;return(Be=Ae(Be)).view[$t](Oe*Ut+Be.byteOffset,!0)},set:function(Be){var Oe=this,Ke=ze;Oe=Ae(Oe),Tt&&(Be=(Be=pe(Be))<0?0:255<Be?255:255&Be),Oe.view[yn](Ke*Ut+Oe.byteOffset,Be,!0)},enumerable:!0})}var Ut=It.match(/\d+$/)[0]/8,ln=It+(Tt?"Clamped":"")+"Array",$t="get"+It,yn="set"+It,Yt=l[ln],hn=Yt,an=(It=hn&&hn.prototype,{});pt?d&&(hn=st(function(Vt,ze,Be,Oe){return p(Vt,hn,ln),ie(P(ze)?g(ze)?void 0!==Oe?new Yt(ze,x(Be,Ut),Oe):void 0!==Be?new Yt(ze,x(Be,Ut)):new Yt(ze):Ze(ze)?v(hn,ze):ne.call(hn,ze):new Yt(M(ze)),Vt,hn)}),k&&k(hn,ct),G(te(Yt),function(Vt){Vt in hn||m(hn,Vt,Yt[Vt])}),hn.prototype=It):(hn=st(function(Vt,ze,Be,Oe){p(Vt,hn,ln);var Ke,Et,Bt=0,Wt=0;if(P(ze)){if(!g(ze))return Ze(ze)?v(hn,ze):ne.call(hn,ze);var dn=ze;if(Wt=x(Be,Ut),Be=ze.byteLength,void 0===Oe){if(Be%Ut||(Ke=Be-Wt)<0)throw Se(at)}else if(Be<(Ke=_(Oe)*Ut)+Wt)throw Se(at);Et=Ke/Ut}else Et=M(ze),dn=new Ve(Ke=Et*Ut);for(Y(Vt,{buffer:dn,byteOffset:Wt,byteLength:Ke,length:Et,view:new qe(dn)});Bt<Et;)on(Vt,Bt++)}),k&&k(hn,ct),It=hn.prototype=z(dt)),It.constructor!==hn&&m(It,"constructor",hn),We&&m(It,We,ln),an[ln]=hn,s({global:!0,forced:hn!=Yt,sham:!pt},an),Je in hn||m(hn,Je,Ut),Je in It||m(It,Je,Ut),X(ln)}):se.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(y,se,V){var v=y("../internals/global"),b=y("../internals/fails"),g=y("../internals/check-correctness-of-iteration"),C=(y=y("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,v.ArrayBuffer),w=v.Int8Array;se.exports=!y||!b(function(){w(1)})||!b(function(){new w(-1)})||!g(function(s){new w,new w(null),new w(1.5),new w(s)},!0)||b(function(){return 1!==new w(new C(2),1,void 0).length})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(o,se,V){var v=o("../internals/to-object"),b=o("../internals/to-length"),g=o("../internals/get-iterator-method"),y=o("../internals/is-array-iterator-method"),C=o("../internals/function-bind-context"),w=o("../internals/array-buffer-view-core").aTypedArrayConstructor;se.exports=function(s){var l,a,d,f,u,p,c=v(s),m=arguments.length,_=1<m?arguments[1]:void 0,M=void 0!==_,x=g(c);if(null!=x&&!y(x))for(p=(u=x.call(c)).next,c=[];!(f=p.call(u)).done;)c.push(f.value);for(M&&2<m&&(_=C(_,arguments[2],2)),a=b(c.length),d=new(w(this))(a),l=0;l<a;l++)d[l]=M?_(c[l],l):c[l];return d}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(o,se,V){var v=0,b=Math.random();se.exports=function(g){return"Symbol("+String(void 0===g?"":g)+")_"+(++v+b).toString(36)}},{}],148:[function(o,se,V){o=o("../internals/native-symbol"),se.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":84}],149:[function(o,se,V){o=o("../internals/well-known-symbol"),V.f=o},{"../internals/well-known-symbol":150}],150:[function(w,se,V){var v=w("../internals/global"),b=w("../internals/shared"),g=w("../internals/has"),y=w("../internals/uid"),C=w("../internals/native-symbol"),s=(w=w("../internals/use-symbol-as-uid"),b("wks")),l=v.Symbol,a=w?l:l&&l.withoutSetter||y;se.exports=function(d){return g(s,d)||(s[d]=C&&g(l,d)?l[d]:a("Symbol."+d)),s[d]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(o,se,V){se.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],152:[function(g,se,V){"use strict";var v=g("../internals/export"),b=g("../internals/global"),C=g("../internals/array-buffer"),y=(g=g("../internals/set-species"),"ArrayBuffer");v({global:!0,forced:b[y]!==(C=C[y])},{ArrayBuffer:C}),g(y)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(c,se,V){"use strict";var v=c("../internals/export"),b=c("../internals/fails"),g=c("../internals/is-array"),y=c("../internals/is-object"),C=c("../internals/to-object"),w=c("../internals/to-length"),s=c("../internals/create-property"),l=c("../internals/array-species-create"),a=c("../internals/array-method-has-species-support"),p=c("../internals/well-known-symbol"),d=(c=c("../internals/engine-v8-version"),p("isConcatSpreadable")),f=9007199254740991,u="Maximum allowed index exceeded";p=51<=c||!b(function(){var m=[];return m[d]=!1,m.concat()[0]!==m}),c=a("concat"),v({target:"Array",proto:!0,forced:!p||!c},{concat:function(m){for(var _,M,x,I,A,H=C(this),P=l(H,0),z=0,k=-1,te=arguments.length;k<te;k++)if(A=void 0,y(I=x=-1===k?H:arguments[k])&&(void 0!==(A=I[d])?A:g(I))){if(M=w(x.length),f<z+M)throw TypeError(u);for(_=0;_<M;_++,z++)_ in x&&s(P,z,x[_])}else{if(f<=z)throw TypeError(u);s(P,z++,x)}return P.length=z,P}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(g,se,V){var v=g("../internals/export"),b=g("../internals/array-copy-within");g=g("../internals/add-to-unscopables"),v({target:"Array",proto:!0},{copyWithin:b}),g("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(y,se,V){"use strict";var v=y("../internals/export"),b=y("../internals/array-iteration").every,g=y("../internals/array-method-is-strict");y=y("../internals/array-method-uses-to-length"),g=g("every"),y=y("every"),v({target:"Array",proto:!0,forced:!g||!y},{every:function(C){return b(this,C,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(g,se,V){var v=g("../internals/export"),b=g("../internals/array-fill");g=g("../internals/add-to-unscopables"),v({target:"Array",proto:!0},{fill:b}),g("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(y,se,V){"use strict";var v=y("../internals/export"),b=y("../internals/array-iteration").filter,g=y("../internals/array-method-has-species-support");y=y("../internals/array-method-uses-to-length"),g=g("filter"),y=y("filter"),v({target:"Array",proto:!0,forced:!g||!y},{filter:function(C){return b(this,C,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(w,se,V){"use strict";var v=w("../internals/export"),b=w("../internals/array-iteration").findIndex,g=w("../internals/add-to-unscopables"),y=(w=w("../internals/array-method-uses-to-length"),"findIndex"),C=!0;w=w(y),y in[]&&Array(1)[y](function(){C=!1}),v({target:"Array",proto:!0,forced:C||!w},{findIndex:function(s){return b(this,s,1<arguments.length?arguments[1]:void 0)}}),g(y)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(o,se,V){"use strict";var v=o("../internals/export"),b=o("../internals/flatten-into-array"),g=o("../internals/to-object"),y=o("../internals/to-length"),C=o("../internals/a-function"),w=o("../internals/array-species-create");v({target:"Array",proto:!0},{flatMap:function(s){var l,a=g(this),d=y(a.length);return C(s),(l=w(a,0)).length=b(l,a,a,d,0,1,s,1<arguments.length?arguments[1]:void 0),l}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(o,se,V){"use strict";var v=o("../internals/export"),b=o("../internals/flatten-into-array"),g=o("../internals/to-object"),y=o("../internals/to-length"),C=o("../internals/to-integer"),w=o("../internals/array-species-create");v({target:"Array",proto:!0},{flat:function(){var s=arguments.length?arguments[0]:void 0,l=g(this),a=y(l.length),d=w(l,0);return d.length=b(d,l,l,a,0,void 0===s?1:C(s)),d}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(b,se,V){"use strict";var v=b("../internals/export");b=b("../internals/array-for-each"),v({target:"Array",proto:!0,forced:[].forEach!=b},{forEach:b})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(o,se,V){var v=o("../internals/export"),b=o("../internals/array-from");v({target:"Array",stat:!0,forced:!o("../internals/check-correctness-of-iteration")(function(g){Array.from(g)})},{from:b})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(o,se,V){"use strict";var v=o("../internals/export"),b=o("../internals/array-includes").includes,g=o("../internals/add-to-unscopables");v({target:"Array",proto:!0,forced:!o("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(y){return b(this,y,1<arguments.length?arguments[1]:void 0)}}),g("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(w,se,V){"use strict";var v=w("../internals/export"),b=w("../internals/array-includes").indexOf,C=w("../internals/array-method-is-strict"),g=(w=w("../internals/array-method-uses-to-length"),[].indexOf),y=!!g&&1/[1].indexOf(1,-0)<0;C=C("indexOf"),w=w("indexOf",{ACCESSORS:!0,1:0}),v({target:"Array",proto:!0,forced:y||!C||!w},{indexOf:function(s){return y?g.apply(this,arguments)||0:b(this,s,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(C,se,V){"use strict";var v=C("../internals/to-indexed-object"),b=C("../internals/add-to-unscopables"),g=C("../internals/iterators"),y=C("../internals/internal-state"),w=(C=C("../internals/define-iterator"),"Array Iterator"),s=y.set,l=y.getterFor(w);se.exports=C(Array,"Array",function(a,d){s(this,{type:w,target:v(a),index:0,kind:d})},function(){var a=l(this),d=a.target,f=a.kind,u=a.index++;return!d||u>=d.length?{value:a.target=void 0,done:!0}:"keys"==f?{value:u,done:!1}:"values"==f?{value:d[u],done:!1}:{value:[u,d[u]],done:!1}},"values"),g.Arguments=g.Array,b("keys"),b("values"),b("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(C,se,V){"use strict";var v=C("../internals/export"),y=C("../internals/indexed-object"),b=C("../internals/to-indexed-object"),g=(C=C("../internals/array-method-is-strict"),[].join);y=y!=Object,C=C("join",","),v({target:"Array",proto:!0,forced:y||!C},{join:function(w){return g.call(b(this),void 0===w?",":w)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(b,se,V){b("../internals/export")({target:"Array",proto:!0,forced:(b=b("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:b})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(y,se,V){"use strict";var v=y("../internals/export"),b=y("../internals/array-iteration").map,g=y("../internals/array-method-has-species-support");y=y("../internals/array-method-uses-to-length"),g=g("map"),y=y("map"),v({target:"Array",proto:!0,forced:!g||!y},{map:function(C){return b(this,C,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(d,se,V){"use strict";var v=d("../internals/export"),b=d("../internals/is-object"),g=d("../internals/is-array"),y=d("../internals/to-absolute-index"),C=d("../internals/to-length"),w=d("../internals/to-indexed-object"),s=d("../internals/create-property"),l=d("../internals/well-known-symbol"),a=d("../internals/array-method-has-species-support"),f=(d=d("../internals/array-method-uses-to-length"),a=a("slice"),d=d("slice",{ACCESSORS:!0,0:0,1:2}),l("species")),u=[].slice,p=Math.max;v({target:"Array",proto:!0,forced:!a||!d},{slice:function(c,m){var _,M,x,I=w(this),A=C(I.length),H=y(c,A),P=y(void 0===m?A:m,A);if(g(I)&&((_="function"==typeof(_=I.constructor)&&(_===Array||g(_.prototype))||b(_)&&null===(_=_[f])?void 0:_)===Array||void 0===_))return u.call(I,H,P);for(M=new(void 0===_?Array:_)(p(P-H,0)),x=0;H<P;H++,x++)H in I&&s(M,x,I[H]);return M.length=x,M}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(y,se,V){"use strict";var v=y("../internals/export"),b=y("../internals/array-iteration").some,g=y("../internals/array-method-is-strict");y=y("../internals/array-method-uses-to-length"),g=g("some"),y=y("some"),v({target:"Array",proto:!0,forced:!g||!y},{some:function(C){return b(this,C,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(a,se,V){"use strict";var v=a("../internals/export"),b=a("../internals/to-absolute-index"),g=a("../internals/to-integer"),y=a("../internals/to-length"),C=a("../internals/to-object"),w=a("../internals/array-species-create"),s=a("../internals/create-property"),l=a("../internals/array-method-has-species-support"),d=(a=a("../internals/array-method-uses-to-length"),l=l("splice"),a=a("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),f=Math.min;v({target:"Array",proto:!0,forced:!l||!a},{splice:function(z,p){var c,m,_,M,x,I,A=C(this),H=y(A.length),P=b(z,H);if(0===(z=arguments.length)?c=m=0:m=1===z?(c=0,H-P):(c=z-2,f(d(g(p),0),H-P)),9007199254740991<H+c-m)throw TypeError("Maximum allowed length exceeded");for(_=w(A,m),M=0;M<m;M++)(x=P+M)in A&&s(_,M,A[x]);if(c<(_.length=m)){for(M=P;M<H-m;M++)I=M+c,(x=M+m)in A?A[I]=A[x]:delete A[I];for(M=H;H-m+c<M;M--)delete A[M-1]}else if(m<c)for(M=H-m;P<M;M--)I=M+c-1,(x=M+m-1)in A?A[I]=A[x]:delete A[I];for(M=0;M<c;M++)A[M+P]=arguments[M+2];return A.length=H-m+c,_}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(o,se,V){o("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(o,se,V){o("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(b,se,V){var v=b("../internals/descriptors"),g=(b=b("../internals/object-define-property").f,Function.prototype),y=g.toString,C=/^\s*function ([^ (]*)/;!v||"name"in g||b(g,"name",{configurable:!0,get:function(){try{return y.call(this).match(C)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(b,se,V){"use strict";var v=b("../internals/collection");b=b("../internals/collection-strong"),se.exports=v("Map",function(g){return function(){return g(this,arguments.length?arguments[0]:void 0)}},b)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(v,se,V){v=v("../internals/export");var b=Math.hypot,g=Math.abs,y=Math.sqrt;v({target:"Math",stat:!0,forced:!!b&&b(1/0,NaN)!==1/0},{hypot:function(C,w){for(var s,l,a=0,d=0,f=arguments.length,u=0;d<f;)u<(s=g(arguments[d++]))?(a=a*(l=u/s)*l+1,u=s):a+=0<s?(l=s/u)*l:s;return u===1/0?1/0:u*y(a)}})},{"../internals/export":50}],177:[function(v,se,V){v=v("../internals/export");var b=Math.log,g=Math.LN2;v({target:"Math",stat:!0},{log2:function(y){return b(y)/g}})},{"../internals/export":50}],178:[function(o,se,V){o("../internals/export")({target:"Math",stat:!0},{sign:o("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(o,se,V){"use strict";function v(k){var te,ne,G,X,B,N,K,ie=a(k,!1);if("string"==typeof ie&&2<ie.length)if(43===(k=(ie=m(ie)).charCodeAt(0))||45===k){if(88===(te=ie.charCodeAt(2))||120===te)return NaN}else if(48===k){switch(ie.charCodeAt(1)){case 66:case 98:ne=2,G=49;break;case 79:case 111:ne=8,G=55;break;default:return+ie}for(B=(X=ie.slice(2)).length,N=0;N<B;N++)if((K=X.charCodeAt(N))<48||G<K)return NaN;return parseInt(X,ne)}return+ie}var b=o("../internals/descriptors"),g=o("../internals/global"),y=o("../internals/is-forced"),C=o("../internals/redefine"),w=o("../internals/has"),s=o("../internals/classof-raw"),l=o("../internals/inherit-if-required"),a=o("../internals/to-primitive"),d=o("../internals/fails"),f=o("../internals/object-create"),u=o("../internals/object-get-own-property-names").f,p=o("../internals/object-get-own-property-descriptor").f,c=o("../internals/object-define-property").f,m=o("../internals/string-trim").trim,_="Number",M=g[_],x=M.prototype,I=s(f(x))==_;if(y(_,!M(" 0o1")||!M("0b1")||M("+0x1"))){for(var A,H=function(te){te=arguments.length<1?0:te;var ne=this;return ne instanceof H&&(I?d(function(){x.valueOf.call(ne)}):s(ne)!=_)?l(new M(v(te)),ne,H):v(te)},P=b?u(M):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),z=0;P.length>z;z++)w(M,A=P[z])&&!w(H,A)&&c(H,A,p(M,A));(H.prototype=x).constructor=H,C(g,_,H)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(o,se,V){o("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(o,se,V){o("../internals/export")({target:"Number",stat:!0},{isFinite:o("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(w,se,V){"use strict";function v(a,d,f){return 0===d?f:d%2==1?v(a,d-1,f*a):v(a*a,d/2,f)}var b=w("../internals/export"),g=w("../internals/to-integer"),y=w("../internals/this-number-value"),C=w("../internals/string-repeat"),s=(w=w("../internals/fails"),1..toFixed),l=Math.floor;b({target:"Number",proto:!0,forced:s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!w(function(){s.call({})})},{toFixed:function(_){function d(A,H){for(var P=-1,z=H;++P<6;)M[P]=(z+=A*M[P])%1e7,z=l(z/1e7)}function f(A){for(var H=6,P=0;0<=--H;)M[H]=l((P+=M[H])/A),P=P%A*1e7}function u(){for(var A,H=6,P="";0<=--H;)""===P&&0!==H&&0===M[H]||(A=String(M[H]),P=""===P?A:P+C.call("0",7-A.length)+A);return P}var p,c,m=y(this),M=(_=g(_),[0,0,0,0,0,0]),x="",I="0";if(_<0||20<_)throw RangeError("Incorrect fraction digits");if(m!=m)return"NaN";if(m<=-1e21||1e21<=m)return String(m);if(m<0&&(x="-",m=-m),1e-21<m)if(m=(p=function(A){for(var H=0,P=A;4096<=P;)H+=12,P/=4096;for(;2<=P;)H+=1,P/=2;return H}(m*v(2,69,1))-69)<0?m*v(2,-p,1):m/v(2,p,1),m*=4503599627370496,0<(p=52-p)){for(d(0,m),c=_;7<=c;)d(1e7,0),c-=7;for(d(v(10,c,1),0),c=p-1;23<=c;)f(1<<23),c-=23;f(1<<c),d(1,1),f(2),I=u()}else d(0,m),d(1<<-p,0),I=u()+C.call("0",_);return 0<_?x+((m=I.length)<=_?"0."+C.call("0",_-m)+I:I.slice(0,m-_)+"."+I.slice(m-_)):x+I}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(b,se,V){var v=b("../internals/export");b=b("../internals/object-assign"),v({target:"Object",stat:!0,forced:Object.assign!==b},{assign:b})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(o,se,V){var v=o("../internals/export"),b=o("../internals/object-to-array").entries;v({target:"Object",stat:!0},{entries:function(g){return b(g)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(o,se,V){var v=o("../internals/export"),b=o("../internals/iterate"),g=o("../internals/create-property");v({target:"Object",stat:!0},{fromEntries:function(y){var C={};return b(y,function(w,s){g(C,w,s)},void 0,!0),C}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(y,se,V){var v=y("../internals/export"),C=y("../internals/fails"),b=y("../internals/to-indexed-object"),g=y("../internals/object-get-own-property-descriptor").f;y=y("../internals/descriptors"),C=C(function(){g(1)}),v({target:"Object",stat:!0,forced:!y||C,sham:!y},{getOwnPropertyDescriptor:function(w,s){return g(b(w),s)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(g,se,V){var v=g("../internals/export"),b=g("../internals/fails");g=g("../internals/object-get-own-property-names-external").f,v({target:"Object",stat:!0,forced:b(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:g})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(C,se,V){var v=C("../internals/export"),b=C("../internals/fails"),g=C("../internals/to-object"),y=C("../internals/object-get-prototype-of");C=C("../internals/correct-prototype-getter"),v({target:"Object",stat:!0,forced:b(function(){y(1)}),sham:!C},{getPrototypeOf:function(w){return y(g(w))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(o,se,V){var v=o("../internals/export"),b=o("../internals/to-object"),g=o("../internals/object-keys");v({target:"Object",stat:!0,forced:o("../internals/fails")(function(){g(1)})},{keys:function(y){return g(b(y))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(g,se,V){var v=g("../internals/to-string-tag-support"),b=g("../internals/redefine");g=g("../internals/object-to-string"),v||b(Object.prototype,"toString",g,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(Tt,se,V){"use strict";var v,b,g,y,C=Tt("../internals/export"),w=Tt("../internals/is-pure"),s=Tt("../internals/global"),l=Tt("../internals/get-built-in"),a=Tt("../internals/native-promise-constructor"),d=Tt("../internals/redefine"),f=Tt("../internals/redefine-all"),u=Tt("../internals/set-to-string-tag"),p=Tt("../internals/set-species"),c=Tt("../internals/is-object"),m=Tt("../internals/a-function"),_=Tt("../internals/an-instance"),M=Tt("../internals/classof-raw"),x=Tt("../internals/inspect-source"),I=Tt("../internals/iterate"),A=Tt("../internals/check-correctness-of-iteration"),H=Tt("../internals/species-constructor"),P=Tt("../internals/task").set,z=Tt("../internals/microtask"),k=Tt("../internals/promise-resolve"),te=Tt("../internals/host-report-errors"),ne=Tt("../internals/new-promise-capability"),G=Tt("../internals/perform"),X=Tt("../internals/internal-state"),B=Tt("../internals/is-forced"),on=Tt("../internals/well-known-symbol"),N=Tt("../internals/engine-v8-version"),K=on("species"),ie="Promise",Ae=X.get,Y=X.set,R=X.getterFor(ie),Q=a,pe=s.TypeError,Se=s.document,Ve=s.process,qe=l("fetch"),pt=ne.f,We=pt,ct="process"==M(Ve),dt=!!(Se&&Se.createEvent&&s.dispatchEvent),$e="unhandledrejection",Ut=(on=(Tt=B(ie,function(){var an,Vt;return x(Q)===String(Q)&&(66===N||!ct&&"function"!=typeof PromiseRejectionEvent)||!((!w||Q.prototype.finally)&&(51<=N&&/native code/.test(Q)||(Vt=function(ze){ze(function(){},function(){})},((an=Q.resolve(1)).constructor={})[K]=Vt,an.then(function(){})instanceof Vt)))}))||!A(function(an){Q.all(an).catch(function(){})}),function(an){var Vt;return!(!c(an)||"function"!=typeof(Vt=an.then))&&Vt}),ln=function(an,Vt,ze){var Be;Vt.notified||(Vt.notified=!0,Be=Vt.reactions,z(function(){for(var Oe,Ke,Et=Vt.value,Bt=1==Vt.state,Wt=0;Be.length>Wt;){var dn,Ft,Gt,en=Be[Wt++],et=Bt?en.ok:en.fail,ot=en.resolve,xt=en.reject,bt=en.domain;try{et?(Bt||(2===Vt.rejection&&function(At,un){P.call(s,function(){ct?Ve.emit("rejectionHandled",At):$t("rejectionhandled",At,un.value)})}(an,Vt),Vt.rejection=1),!0===et?dn=Et:(bt&&bt.enter(),dn=et(Et),bt&&(bt.exit(),Gt=!0)),dn===en.promise?xt(pe("Promise-chain cycle")):(Ft=Ut(dn))?Ft.call(dn,ot,xt):ot(dn)):xt(Et)}catch(At){bt&&!Gt&&bt.exit(),xt(At)}}Vt.reactions=[],Vt.notified=!1,ze&&!Vt.rejection&&(Oe=an,Ke=Vt,P.call(s,function(){var At=Ke.value,un=yn(Ke);if(un&&(un=G(function(){ct?Ve.emit("unhandledRejection",At,Oe):$t($e,Oe,At)}),Ke.rejection=ct||yn(Ke)?2:1,un.error))throw un.value}))}))},$t=function(an,Vt,ze){var Be;dt?((Be=Se.createEvent("Event")).promise=Vt,Be.reason=ze,Be.initEvent(an,!1,!0),s.dispatchEvent(Be)):Be={promise:Vt,reason:ze},(Vt=s["on"+an])?Vt(Be):an===$e&&te("Unhandled promise rejection",ze)},yn=function(an){return 1!==an.rejection&&!an.parent},Yt=function(an,Vt,ze,Be){return function(Oe){an(Vt,ze,Oe,Be)}},hn=function(an,Vt,ze,Be){Vt.done||(Vt.done=!0,(Vt=Be||Vt).value=ze,Vt.state=2,ln(an,Vt,!0))},It=function(an,Vt,ze,Be){if(!Vt.done){Vt.done=!0,Be&&(Vt=Be);try{if(an===ze)throw pe("Promise can't be resolved itself");var Oe=Ut(ze);Oe?z(function(){var Ke={done:!1};try{Oe.call(ze,Yt(It,an,Ke,Vt),Yt(hn,an,Ke,Vt))}catch(Et){hn(an,Ke,Et,Vt)}}):(Vt.value=ze,Vt.state=1,ln(an,Vt,!1))}catch(Ke){hn(an,{done:!1},Ke,Vt)}}};Tt&&(Q=function(an){_(this,Q,ie),m(an),v.call(this);var Vt=Ae(this);try{an(Yt(It,this,Vt),Yt(hn,this,Vt))}catch(ze){hn(this,Vt,ze)}},(v=function(an){Y(this,{type:ie,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(Q.prototype,{then:function(an,Vt){var ze=R(this),Be=pt(H(this,Q));return Be.ok="function"!=typeof an||an,Be.fail="function"==typeof Vt&&Vt,Be.domain=ct?Ve.domain:void 0,ze.parent=!0,ze.reactions.push(Be),0!=ze.state&&ln(this,ze,!1),Be.promise},catch:function(an){return this.then(void 0,an)}}),b=function(){var an=new v,Vt=Ae(an);this.promise=an,this.resolve=Yt(It,an,Vt),this.reject=Yt(hn,an,Vt)},ne.f=pt=function(an){return an===Q||an===g?new b:We(an)},w||"function"!=typeof a||(y=a.prototype.then,d(a.prototype,"then",function(an,Vt){var ze=this;return new Q(function(Be,Oe){y.call(ze,Be,Oe)}).then(an,Vt)},{unsafe:!0}),"function"==typeof qe&&C({global:!0,enumerable:!0,forced:!0},{fetch:function(an){return k(Q,qe.apply(s,arguments))}}))),C({global:!0,wrap:!0,forced:Tt},{Promise:Q}),u(Q,ie,!1,!0),p(ie),g=l(ie),C({target:ie,stat:!0,forced:Tt},{reject:function(an){var Vt=pt(this);return Vt.reject.call(void 0,an),Vt.promise}}),C({target:ie,stat:!0,forced:w||Tt},{resolve:function(an){return k(w&&this===g?Q:this,an)}}),C({target:ie,stat:!0,forced:on},{all:function(an){var Vt=this,ze=pt(Vt),Be=ze.resolve,Oe=ze.reject,Ke=G(function(){var Et=m(Vt.resolve),Bt=[],Wt=0,dn=1;I(an,function(Ft){var Gt=Wt++,en=!1;Bt.push(void 0),dn++,Et.call(Vt,Ft).then(function(et){en||(en=!0,Bt[Gt]=et,--dn||Be(Bt))},Oe)}),--dn||Be(Bt)});return Ke.error&&Oe(Ke.value),ze.promise},race:function(an){var Vt=this,ze=pt(Vt),Be=ze.reject,Oe=G(function(){var Ke=m(Vt.resolve);I(an,function(Et){Ke.call(Vt,Et).then(ze.resolve,Be)})});return Oe.error&&Be(Oe.value),ze.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(s,se,V){var v=s("../internals/export"),f=s("../internals/get-built-in"),b=s("../internals/a-function"),g=s("../internals/an-object"),y=s("../internals/is-object"),C=s("../internals/object-create"),w=s("../internals/function-bind"),l=(s=s("../internals/fails"),f("Reflect","construct")),a=s(function(){function u(){}return!(l(function(){},[],u)instanceof u)}),d=!s(function(){l(function(){})});v({target:"Reflect",stat:!0,forced:f=a||d,sham:f},{construct:function(u,p){b(u),g(p);var c=arguments.length<3?u:b(arguments[2]);if(d&&!a)return l(u,p,c);if(u==c){switch(p.length){case 0:return new u;case 1:return new u(p[0]);case 2:return new u(p[0],p[1]);case 3:return new u(p[0],p[1],p[2]);case 4:return new u(p[0],p[1],p[2],p[3])}var m=[null];return m.push.apply(m,p),new(w.apply(u,m))}return c=C(y(m=c.prototype)?m:Object.prototype),m=Function.apply.call(u,c,p),y(m)?m:c}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(o,se,V){var v=o("../internals/export"),b=o("../internals/is-object"),g=o("../internals/an-object"),y=o("../internals/has"),C=o("../internals/object-get-own-property-descriptor"),w=o("../internals/object-get-prototype-of");v({target:"Reflect",stat:!0},{get:function s(l,a){var d,f=arguments.length<3?l:arguments[2];return g(l)===f?l[a]:(d=C.f(l,a))?y(d,"value")?d.value:void 0===d.get?void 0:d.get.call(f):b(d=w(l))?s(d,a,f):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(o,se,V){var v=o("../internals/descriptors"),b=o("../internals/global"),g=o("../internals/is-forced"),y=o("../internals/inherit-if-required"),C=o("../internals/object-define-property").f,w=o("../internals/object-get-own-property-names").f,s=o("../internals/is-regexp"),l=o("../internals/regexp-flags"),a=o("../internals/regexp-sticky-helpers"),d=o("../internals/redefine"),f=o("../internals/fails"),u=o("../internals/internal-state").set,p=o("../internals/set-species"),c=o("../internals/well-known-symbol")("match"),m=b.RegExp,_=m.prototype,M=/a/g,x=/a/g,I=new m(M)!==M,A=a.UNSUPPORTED_Y;if(v&&g("RegExp",!I||A||f(function(){return x[c]=!1,m(M)!=M||m(x)==x||"/a/i"!=m(M,"i")}))){for(var H=function(k,te){var ne,G=this instanceof H,X=s(k),B=void 0===te;return!G&&X&&k.constructor===H&&B?k:(I?X&&!B&&(k=k.source):k instanceof H&&(B&&(te=l.call(k)),k=k.source),A&&(ne=!!te&&-1<te.indexOf("y"))&&(te=te.replace(/y/g,"")),X=y(I?new m(k,te):m(k,te),G?this:_,H),A&&ne&&u(X,{sticky:ne}),X)},P=w(m),z=0;P.length>z;)!function(k){k in H||C(H,k,{configurable:!0,get:function(){return m[k]},set:function(te){m[k]=te}})}(P[z++]);(_.constructor=H).prototype=_,d(b,"RegExp",H)}p("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(b,se,V){"use strict";var v=b("../internals/export");b=b("../internals/regexp-exec"),v({target:"RegExp",proto:!0,forced:/./.exec!==b},{exec:b})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(y,se,V){"use strict";var v=y("../internals/redefine"),b=y("../internals/an-object"),s=y("../internals/fails"),g=y("../internals/regexp-flags"),C=(y="toString",RegExp.prototype),w=C[y];((s=s(function(){return"/a/b"!=w.call({source:"a",flags:"b"})}))||w.name!=y)&&v(RegExp.prototype,y,function(){var a=b(this),d=String(a.source),f=a.flags;return"/"+d+"/"+String(void 0===f&&a instanceof RegExp&&!("flags"in C)?g.call(a):f)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(b,se,V){"use strict";var v=b("../internals/collection");b=b("../internals/collection-strong"),se.exports=v("Set",function(g){return function(){return g(this,arguments.length?arguments[0]:void 0)}},b)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(w,se,V){"use strict";var v=w("../internals/export"),b=w("../internals/object-get-own-property-descriptor").f,g=w("../internals/to-length"),y=w("../internals/not-a-regexp"),C=w("../internals/require-object-coercible"),a=w("../internals/correct-is-regexp-logic"),s=(w=w("../internals/is-pure"),"".endsWith),l=Math.min;a=a("endsWith"),v({target:"String",proto:!0,forced:!(!w&&!a&&(v=b(String.prototype,"endsWith"))&&!v.writable||a)},{endsWith:function(d){var f=String(C(this)),u=(y(d),1<arguments.length?arguments[1]:void 0),p=g(f.length);return u=void 0===u?p:l(g(u),p),p=String(d),s?s.call(f,p,u):f.slice(u-p.length,u)===p}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(o,se,V){"use strict";var v=o("../internals/export"),b=o("../internals/not-a-regexp"),g=o("../internals/require-object-coercible");v({target:"String",proto:!0,forced:!o("../internals/correct-is-regexp-logic")("includes")},{includes:function(y){return!!~String(g(this)).indexOf(b(y),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(g,se,V){"use strict";var v=g("../internals/string-multibyte").charAt,b=g("../internals/internal-state"),y=(g=g("../internals/define-iterator"),"String Iterator"),C=b.set,w=b.getterFor(y);g(String,"String",function(s){C(this,{type:y,string:String(s),index:0})},function(){var s=w(this),l=s.string,a=s.index;return a>=l.length?{value:void 0,done:!0}:(l=v(l,a),s.index+=l.length,{value:l,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(o,se,V){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),b=o("../internals/an-object"),g=o("../internals/to-length"),y=o("../internals/require-object-coercible"),C=o("../internals/advance-string-index"),w=o("../internals/regexp-exec-abstract");v("match",1,function(s,l,a){return[function(d){var f=y(this),u=null==d?void 0:d[s];return void 0!==u?u.call(d,f):new RegExp(d)[s](String(f))},function(d){var f=a(l,d,this);if(f.done)return f.value;var u=b(d),p=String(this);if(!u.global)return w(u,p);for(var c=u.unicode,m=[],_=u.lastIndex=0;null!==(M=w(u,p));){var M=String(M[0]);""===(m[_]=M)&&(u.lastIndex=C(p,g(u.lastIndex),c)),_++}return 0===_?null:m}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(o,se,V){"use strict";var v=o("../internals/export"),b=o("../internals/string-pad").start;v({target:"String",proto:!0,forced:o("../internals/string-pad-webkit-bug")},{padStart:function(g){return b(this,g,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(o,se,V){o("../internals/export")({target:"String",proto:!0},{repeat:o("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(o,se,V){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),b=o("../internals/an-object"),g=o("../internals/to-object"),y=o("../internals/to-length"),C=o("../internals/to-integer"),w=o("../internals/require-object-coercible"),s=o("../internals/advance-string-index"),l=o("../internals/regexp-exec-abstract"),a=Math.max,d=Math.min,f=Math.floor,u=/\$([$&'`]|\d\d?|<[^>]*>)/g,p=/\$([$&'`]|\d\d?)/g;v("replace",2,function(c,m,_,M){var x=M.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,I=M.REPLACE_KEEPS_$0,A=x?"$":"$0";return[function(H,P){var z=w(this),k=null==H?void 0:H[c];return void 0!==k?k.call(H,z,P):m.call(String(z),H,P)},function(H,P){if(!x&&I||"string"==typeof P&&-1===P.indexOf(A)){var z=_(m,H,this,P);if(z.done)return z.value}for(var k,te=b(H),ne=String(this),G="function"==typeof P,X=(G||(P=String(P)),te.global),B=(X&&(k=te.unicode,te.lastIndex=0),[]);null!==(Y=l(te,ne))&&(B.push(Y),X);)""===String(Y[0])&&(te.lastIndex=s(ne,y(te.lastIndex),k));for(var N,K="",ie=0,Ae=0;Ae<B.length;Ae++){for(var Y=B[Ae],R=String(Y[0]),Q=a(d(C(Y.index),ne.length),0),pe=[],Se=1;Se<Y.length;Se++)pe.push(void 0===(N=Y[Se])?N:String(N));var Ve=Y.groups,qe=G?(qe=[R].concat(pe,Q,ne),void 0!==Ve&&qe.push(Ve),String(P.apply(void 0,qe))):function(pt,We,ct,dt,$e,Ze){var Je=ct+pt.length,at=dt.length,Qe=p;return void 0!==$e&&($e=g($e),Qe=u),m.call(Ze,Qe,function(st,Tt){var on;switch(Tt.charAt(0)){case"$":return"$";case"&":return pt;case"`":return We.slice(0,ct);case"'":return We.slice(Je);case"<":on=$e[Tt.slice(1,-1)];break;default:var Ut,ln=+Tt;if(0==ln)return st;if(at<ln)return 0!==(Ut=f(ln/10))&&Ut<=at?void 0===dt[Ut-1]?Tt.charAt(1):dt[Ut-1]+Tt.charAt(1):st;on=dt[ln-1]}return void 0===on?"":on})}(R,ne,Q,pe,Ve,P);ie<=Q&&(K+=ne.slice(ie,Q)+qe,ie=Q+R.length)}return K+ne.slice(ie)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(o,se,V){"use strict";var v=o("../internals/fix-regexp-well-known-symbol-logic"),b=o("../internals/an-object"),g=o("../internals/require-object-coercible"),y=o("../internals/same-value"),C=o("../internals/regexp-exec-abstract");v("search",1,function(w,s,l){return[function(a){var d=g(this),f=null==a?void 0:a[w];return void 0!==f?f.call(a,d):new RegExp(a)[w](String(d))},function(a){var d,f=l(s,a,this);return f.done?f.value:(f=b(a),a=String(this),y(d=f.lastIndex,0)||(f.lastIndex=0),a=C(f,a),y(f.lastIndex,d)||(f.lastIndex=d),null===a?-1:a.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(d,se,V){"use strict";var v=d("../internals/fix-regexp-well-known-symbol-logic"),b=d("../internals/is-regexp"),g=d("../internals/an-object"),y=d("../internals/require-object-coercible"),C=d("../internals/species-constructor"),w=d("../internals/advance-string-index"),s=d("../internals/to-length"),l=d("../internals/regexp-exec-abstract"),a=d("../internals/regexp-exec"),f=(d=d("../internals/fails"),[].push),u=Math.min,p=4294967295,c=!d(function(){return!RegExp(p,"y")});v("split",2,function(m,_,M){var x="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(I,A){var H=String(y(this)),P=void 0===A?p:A>>>0;if(0==P)return[];if(void 0===I)return[H];if(!b(I))return _.call(H,I,P);for(var z,k,te,ne=[],G=(A=(I.ignoreCase?"i":"")+(I.multiline?"m":"")+(I.unicode?"u":"")+(I.sticky?"y":""),0),X=new RegExp(I.source,A+"g");(z=a.call(X,H))&&!(G<(k=X.lastIndex)&&(ne.push(H.slice(G,z.index)),1<z.length&&z.index<H.length&&f.apply(ne,z.slice(1)),te=z[0].length,G=k,ne.length>=P));)X.lastIndex===z.index&&X.lastIndex++;return G===H.length?!te&&X.test("")||ne.push(""):ne.push(H.slice(G)),ne.length>P?ne.slice(0,P):ne}:"0".split(void 0,0).length?function(I,A){return void 0===I&&0===A?[]:_.call(this,I,A)}:_;return[function(I,A){var H=y(this),P=null==I?void 0:I[m];return void 0!==P?P.call(I,H,A):x.call(String(H),I,A)},function(z,A){if((H=M(x,z,this,A,x!==_)).done)return H.value;var H=g(z),P=String(this),k=(z=C(H,RegExp),H.unicode),ne=new z(c?H:"^(?:"+H.source+")",(H.ignoreCase?"i":"")+(H.multiline?"m":"")+(H.unicode?"u":"")+(c?"y":"g")),G=void 0===A?p:A>>>0;if(0==G)return[];if(0===P.length)return null===l(ne,P)?[P]:[];for(var X=0,B=0,N=[];B<P.length;){ne.lastIndex=c?B:0;var K,ie=l(ne,c?P:P.slice(B));if(null===ie||(K=u(s(ne.lastIndex+(c?0:B)),P.length))===X)B=w(P,B,k);else{if(N.push(P.slice(X,B)),N.length===G)return N;for(var Ae=1;Ae<=ie.length-1;Ae++)if(N.push(ie[Ae]),N.length===G)return N;B=X=K}}return N.push(P.slice(X)),N}]},!c)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(w,se,V){"use strict";var v=w("../internals/export"),b=w("../internals/object-get-own-property-descriptor").f,g=w("../internals/to-length"),y=w("../internals/not-a-regexp"),C=w("../internals/require-object-coercible"),a=w("../internals/correct-is-regexp-logic"),s=(w=w("../internals/is-pure"),"".startsWith),l=Math.min;a=a("startsWith"),v({target:"String",proto:!0,forced:!(!w&&!a&&(v=b(String.prototype,"startsWith"))&&!v.writable||a)},{startsWith:function(p){var f=String(C(this)),u=(y(p),g(l(1<arguments.length?arguments[1]:void 0,f.length)));return p=String(p),s?s.call(f,p,u):f.slice(u,u+p.length)===p}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(o,se,V){"use strict";var v=o("../internals/export"),b=o("../internals/create-html");v({target:"String",proto:!0,forced:o("../internals/string-html-forced")("sub")},{sub:function(){return b(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(o,se,V){"use strict";var v=o("../internals/export"),b=o("../internals/string-trim").trim;v({target:"String",proto:!0,forced:o("../internals/string-trim-forced")("trim")},{trim:function(){return b(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(u,se,V){"use strict";var v,b,g,y,C,w=u("../internals/export"),s=u("../internals/descriptors"),l=u("../internals/global"),a=u("../internals/has"),d=u("../internals/is-object"),f=u("../internals/object-define-property").f,p=(u=u("../internals/copy-constructor-properties"),l.Symbol);!s||"function"!=typeof p||"description"in p.prototype&&void 0===p().description||(v={},u(b=function(){var c=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),m=this instanceof b?new p(c):void 0===c?p():p(c);return""===c&&(v[m]=!0),m},p),(l=b.prototype=p.prototype).constructor=b,g=l.toString,y="Symbol(test)"==String(p("test")),C=/^Symbol\((.*)\)[^)]+$/,f(l,"description",{configurable:!0,get:function(){var c=d(this)?this.valueOf():this,m=g.call(c);return a(v,c)?"":""===(c=y?m.slice(7,-1):m.replace(C,"$1"))?void 0:c}}),w({global:!0,forced:!0},{Symbol:b}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(o,se,V){o("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(We,se,V){"use strict";function v(Oe,Ke){var Et=on[Oe]=H(Ze[pt]);return ct(Et,{type:qe,tag:Oe,description:Ke}),a||(Et.description=Ke),Et}function b(Oe,Bt){_(Oe);var Et=x(Bt);return Bt=P(Et).concat(Be(Et)),Se(Bt,function(Wt){a&&!ze.call(Et,Wt)||Vt(Oe,Wt,Et[Wt])}),Oe}function g(Bt,Wt){var Et;if(Bt=x(Bt),Wt=I(Wt,!0),Bt!==$e||!p(on,Wt)||p(Ut,Wt))return!(Et=at(Bt,Wt))||!p(on,Wt)||p(Bt,Ve)&&Bt[Ve][Wt]||(Et.enumerable=!0),Et}function y(Ke){Ke=st(x(Ke));var Et=[];return Se(Ke,function(Bt){p(on,Bt)||p(ie,Bt)||Et.push(Bt)}),Et}var C=We("../internals/export"),w=We("../internals/global"),s=We("../internals/get-built-in"),l=We("../internals/is-pure"),a=We("../internals/descriptors"),d=We("../internals/native-symbol"),f=We("../internals/use-symbol-as-uid"),u=We("../internals/fails"),p=We("../internals/has"),c=We("../internals/is-array"),m=We("../internals/is-object"),_=We("../internals/an-object"),M=We("../internals/to-object"),x=We("../internals/to-indexed-object"),I=We("../internals/to-primitive"),A=We("../internals/create-property-descriptor"),H=We("../internals/object-create"),P=We("../internals/object-keys"),z=We("../internals/object-get-own-property-names"),k=We("../internals/object-get-own-property-names-external"),te=We("../internals/object-get-own-property-symbols"),ne=We("../internals/object-get-own-property-descriptor"),G=We("../internals/object-define-property"),X=We("../internals/object-property-is-enumerable"),B=We("../internals/create-non-enumerable-property"),N=We("../internals/redefine"),K=We("../internals/shared"),yn=We("../internals/shared-key"),ie=We("../internals/hidden-keys"),Ae=We("../internals/uid"),Y=We("../internals/well-known-symbol"),R=We("../internals/well-known-symbol-wrapped"),Q=We("../internals/define-well-known-symbol"),pe=We("../internals/set-to-string-tag"),Yt=We("../internals/internal-state"),Se=We("../internals/array-iteration").forEach,Ve=yn("hidden"),qe="Symbol",pt="prototype",ct=(We=Y("toPrimitive"),Yt.set),dt=Yt.getterFor(qe),$e=Object[pt],Ze=w.Symbol,Je=s("JSON","stringify"),at=ne.f,Qe=G.f,st=k.f,Tt=X.f,on=K("symbols"),Ut=K("op-symbols"),ln=K("string-to-symbol-registry"),$t=K("symbol-to-string-registry"),hn=(yn=K("wks"),!(Yt=w.QObject)||!Yt[pt]||!Yt[pt].findChild),It=a&&u(function(){return 7!=H(Qe({},"a",{get:function(){return Qe(this,"a",{value:7}).a}})).a})?function(Oe,Ke,Et){var Bt=at($e,Ke);Bt&&delete $e[Ke],Qe(Oe,Ke,Et),Bt&&Oe!==$e&&Qe($e,Ke,Bt)}:Qe,an=f?function(Oe){return"symbol"==typeof Oe}:function(Oe){return Object(Oe)instanceof Ze},Vt=function(Oe,Ke,Et){return Oe===$e&&Vt(Ut,Ke,Et),_(Oe),Ke=I(Ke,!0),_(Et),(p(on,Ke)?(Et.enumerable?(p(Oe,Ve)&&Oe[Ve][Ke]&&(Oe[Ve][Ke]=!1),Et=H(Et,{enumerable:A(0,!1)})):(p(Oe,Ve)||Qe(Oe,Ve,A(1,{})),Oe[Ve][Ke]=!0),It):Qe)(Oe,Ke,Et)},ze=function(Ke){Ke=I(Ke,!0);var Et=Tt.call(this,Ke);return!(this===$e&&p(on,Ke)&&!p(Ut,Ke))&&(!(Et||!p(this,Ke)||!p(on,Ke)||p(this,Ve)&&this[Ve][Ke])||Et)},Be=function(Et){var Ke=Et===$e,Bt=(Et=st(Ke?Ut:x(Et)),[]);return Se(Et,function(Wt){!p(on,Wt)||Ke&&!p($e,Wt)||Bt.push(on[Wt])}),Bt};d||(N((Ze=function(){if(this instanceof Ze)throw TypeError("Symbol is not a constructor");var Oe=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,Ke=Ae(Oe),Et=function(Bt){this===$e&&Et.call(Ut,Bt),p(this,Ve)&&p(this[Ve],Ke)&&(this[Ve][Ke]=!1),It(this,Ke,A(1,Bt))};return a&&hn&&It($e,Ke,{configurable:!0,set:Et}),v(Ke,Oe)})[pt],"toString",function(){return dt(this).tag}),N(Ze,"withoutSetter",function(Oe){return v(Ae(Oe),Oe)}),X.f=ze,G.f=Vt,ne.f=g,z.f=k.f=y,te.f=Be,R.f=function(Oe){return v(Y(Oe),Oe)},a&&(Qe(Ze[pt],"description",{configurable:!0,get:function(){return dt(this).description}}),l||N($e,"propertyIsEnumerable",ze,{unsafe:!0}))),C({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:Ze}),Se(P(yn),function(Oe){Q(Oe)}),C({target:qe,stat:!0,forced:!d},{for:function(Et){var Ke;return Et=String(Et),p(ln,Et)?ln[Et]:(Ke=Ze(Et),ln[Et]=Ke,$t[Ke]=Et,Ke)},keyFor:function(Oe){if(!an(Oe))throw TypeError(Oe+" is not a symbol");if(p($t,Oe))return $t[Oe]},useSetter:function(){hn=!0},useSimple:function(){hn=!1}}),C({target:"Object",stat:!0,forced:!d,sham:!a},{create:function(Oe,Ke){return void 0===Ke?H(Oe):b(H(Oe),Ke)},defineProperty:Vt,defineProperties:b,getOwnPropertyDescriptor:g}),C({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:y,getOwnPropertySymbols:Be}),C({target:"Object",stat:!0,forced:u(function(){te.f(1)})},{getOwnPropertySymbols:function(Oe){return te.f(M(Oe))}}),Je&&C({target:"JSON",stat:!0,forced:!d||u(function(){var Oe=Ze();return"[null]"!=Je([Oe])||"{}"!=Je({a:Oe})||"{}"!=Je(Object(Oe))})},{stringify:function(Oe,Ke,Et){for(var Bt,Wt=[Oe],dn=1;dn<arguments.length;)Wt.push(arguments[dn++]);if((m(Bt=Ke)||void 0!==Oe)&&!an(Oe))return c(Ke)||(Ke=function(Ft,Gt){if("function"==typeof Bt&&(Gt=Bt.call(this,Ft,Gt)),!an(Gt))return Gt}),Wt[1]=Ke,Je.apply(null,Wt)}}),Ze[pt][We]||B(Ze[pt],We,Ze[pt].valueOf),pe(Ze,qe),ie[Ve]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-copy-within"),g=v.aTypedArray;(0,v.exportTypedArrayMethod)("copyWithin",function(y,C){return b.call(g(this),y,C,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").every,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("every",function(y){return b(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-fill"),g=v.aTypedArray;(0,v.exportTypedArrayMethod)("fill",function(y){return b.apply(g(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").filter,g=o("../internals/species-constructor"),y=v.aTypedArray,C=v.aTypedArrayConstructor;(0,v.exportTypedArrayMethod)("filter",function(w){for(var s=b(y(this),w,1<arguments.length?arguments[1]:void 0),l=(w=g(this,this.constructor),0),a=s.length,d=new(C(w))(a);l<a;)d[l]=s[l++];return d})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").findIndex,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("findIndex",function(y){return b(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").find,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("find",function(y){return b(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(o,se,V){o("../internals/typed-array-constructor")("Float32",function(v){return function(b,g,y){return v(this,b,g,y)}})},{"../internals/typed-array-constructor":144}],220:[function(o,se,V){o("../internals/typed-array-constructor")("Float64",function(v){return function(b,g,y){return v(this,b,g,y)}})},{"../internals/typed-array-constructor":144}],221:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").forEach,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("forEach",function(y){b(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-includes").includes,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("includes",function(y){return b(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-includes").indexOf,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("indexOf",function(y){return b(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(o,se,V){o("../internals/typed-array-constructor")("Int16",function(v){return function(b,g,y){return v(this,b,g,y)}})},{"../internals/typed-array-constructor":144}],225:[function(o,se,V){o("../internals/typed-array-constructor")("Int32",function(v){return function(b,g,y){return v(this,b,g,y)}})},{"../internals/typed-array-constructor":144}],226:[function(b,se,V){"use strict";function v(){return g.call(w(this))}var a=b("../internals/global"),l=b("../internals/array-buffer-view-core"),s=b("../modules/es.array.iterator"),g=(b=b("../internals/well-known-symbol")("iterator"),s.values),y=s.keys,C=s.entries,w=l.aTypedArray;s=l.exportTypedArrayMethod,a=!!(l=(a=a.Uint8Array)&&a.prototype[b])&&("values"==l.name||null==l.name),s("entries",function(){return C.call(w(this))}),s("keys",function(){return y.call(w(this))}),s("values",v,!a),s(b,v,!a)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(b,se,V){"use strict";var v=(b=b("../internals/array-buffer-view-core")).aTypedArray,g=[].join;(b=b.exportTypedArrayMethod)("join",function(y){return g.apply(v(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-last-index-of"),g=v.aTypedArray;(0,v.exportTypedArrayMethod)("lastIndexOf",function(y){return b.apply(g(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").map,g=o("../internals/species-constructor"),y=v.aTypedArray,C=v.aTypedArrayConstructor;(0,v.exportTypedArrayMethod)("map",function(w){return b(y(this),w,1<arguments.length?arguments[1]:void 0,function(s,l){return new(C(g(s,s.constructor)))(l)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-reduce").right,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("reduceRight",function(y){return b(g(this),y,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-reduce").left,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("reduce",function(y){return b(g(this),y,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(b,se,V){"use strict";var v=(b=b("../internals/array-buffer-view-core")).aTypedArray,g=(b=b.exportTypedArrayMethod,Math.floor);b("reverse",function(){for(var y,C=v(this).length,w=g(C/2),s=0;s<w;)y=this[s],this[s++]=this[--C],this[C]=y;return this})},{"../internals/array-buffer-view-core":12}],233:[function(C,se,V){"use strict";var v=C("../internals/array-buffer-view-core"),b=C("../internals/to-length"),g=C("../internals/to-offset"),y=C("../internals/to-object"),w=(C=C("../internals/fails"),v.aTypedArray);(0,v.exportTypedArrayMethod)("set",function(s){w(this);var l=g(1<arguments.length?arguments[1]:void 0,1),a=this.length,d=y(s),f=b(d.length),u=0;if(a<f+l)throw RangeError("Wrong length");for(;u<f;)this[l+u]=d[u++]},C(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(b,se,V){"use strict";var C=b("../internals/array-buffer-view-core"),v=b("../internals/species-constructor"),g=(b=b("../internals/fails"),C.aTypedArray),y=C.aTypedArrayConstructor,w=[].slice;(C=C.exportTypedArrayMethod)("slice",function(s,l){for(var a=w.call(g(this),s,l),d=(s=v(this,this.constructor),0),f=a.length,u=new(y(s))(f);d<f;)u[d]=a[d++];return u},b(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/array-iteration").some,g=v.aTypedArray;(0,v.exportTypedArrayMethod)("some",function(y){return b(g(this),y,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(b,se,V){"use strict";var v=(b=b("../internals/array-buffer-view-core")).aTypedArray,g=[].sort;(b=b.exportTypedArrayMethod)("sort",function(y){return g.call(v(this),y)})},{"../internals/array-buffer-view-core":12}],237:[function(o,se,V){"use strict";var v=o("../internals/array-buffer-view-core"),b=o("../internals/to-length"),g=o("../internals/to-absolute-index"),y=o("../internals/species-constructor"),C=v.aTypedArray;(0,v.exportTypedArrayMethod)("subarray",function(d,s){var l=C(this),a=l.length;return d=g(d,a),new(y(l,l.constructor))(l.buffer,l.byteOffset+d*l.BYTES_PER_ELEMENT,b((void 0===s?a:g(s,a))-d))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(b,se,V){"use strict";var C=b("../internals/global"),v=b("../internals/array-buffer-view-core"),g=(b=b("../internals/fails"),C.Int8Array),y=v.aTypedArray,w=(C=v.exportTypedArrayMethod,[].toLocaleString),s=[].slice,l=!!g&&b(function(){w.call(new g(1))});C("toLocaleString",function(){return w.apply(l?s.call(y(this)):y(this),arguments)},b(function(){return[1,2].toLocaleString()!=new g([1,2]).toLocaleString()})||!b(function(){g.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(b,se,V){"use strict";var v=b("../internals/array-buffer-view-core").exportTypedArrayMethod,C=b("../internals/fails"),g=(b=(b=b("../internals/global").Uint8Array)&&b.prototype||{},[].toString),y=[].join;C(function(){g.call({})})&&(g=function(){return y.call(this)}),v("toString",g,C=b.toString!=g)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(o,se,V){o("../internals/typed-array-constructor")("Uint16",function(v){return function(b,g,y){return v(this,b,g,y)}})},{"../internals/typed-array-constructor":144}],241:[function(o,se,V){o("../internals/typed-array-constructor")("Uint32",function(v){return function(b,g,y){return v(this,b,g,y)}})},{"../internals/typed-array-constructor":144}],242:[function(o,se,V){o("../internals/typed-array-constructor")("Uint8",function(v){return function(b,g,y){return v(this,b,g,y)}})},{"../internals/typed-array-constructor":144}],243:[function(o,se,V){o("../internals/typed-array-constructor")("Uint8",function(v){return function(b,g,y){return v(this,b,g,y)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(p,_,V){"use strict";function v(M){return function(){return M(this,arguments.length?arguments[0]:void 0)}}var b,g,y,C,w,c=p("../internals/global"),s=p("../internals/redefine-all"),l=p("../internals/internal-metadata"),a=p("../internals/collection"),d=p("../internals/collection-weak"),f=p("../internals/is-object"),u=p("../internals/internal-state").enforce,m=(p=p("../internals/native-weak-map"),c=!c.ActiveXObject&&"ActiveXObject"in c,Object.isExtensible);_=_.exports=a("WeakMap",v,d),p&&c&&(b=d.getConstructor(v,"WeakMap",!0),l.REQUIRED=!0,g=(a=_.prototype).delete,y=a.has,C=a.get,w=a.set,s(a,{delete:function(M){var x;return f(M)&&!m(M)?((x=u(this)).frozen||(x.frozen=new b),g.call(this,M)||x.frozen.delete(M)):g.call(this,M)},has:function(M){var x;return f(M)&&!m(M)?((x=u(this)).frozen||(x.frozen=new b),y.call(this,M)||x.frozen.has(M)):y.call(this,M)},get:function(M){var x;return!f(M)||m(M)||((x=u(this)).frozen||(x.frozen=new b),y.call(this,M))?C.call(this,M):x.frozen.get(M)},set:function(M,x){var I;return!f(M)||m(M)||((I=u(this)).frozen||(I.frozen=new b),y.call(this,M))?w.call(this,M,x):I.frozen.set(M,x),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(o,se,V){var v,b=o("../internals/global"),g=o("../internals/dom-iterables"),y=o("../internals/array-for-each"),C=o("../internals/create-non-enumerable-property");for(v in g){var w;if((w=(w=b[v])&&w.prototype)&&w.forEach!==y)try{C(w,"forEach",y)}catch{w.forEach=y}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(w,se,V){var v,b=w("../internals/global"),g=w("../internals/dom-iterables"),y=w("../modules/es.array.iterator"),C=w("../internals/create-non-enumerable-property"),s=(w=w("../internals/well-known-symbol"))("iterator"),l=w("toStringTag"),a=y.values;for(v in g){var d=b[v],f=d&&d.prototype;if(f){if(f[s]!==a)try{C(f,s,a)}catch{f[s]=a}if(f[l]||C(f,l,v),g[v])for(var u in y)if(f[u]!==y[u])try{C(f,u,y[u])}catch{f[u]=y[u]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(Ve,se,V){"use strict";function v(qe){try{return decodeURIComponent(qe)}catch{return qe}}function b(qe){return Q[qe]}function g(qe){return encodeURIComponent(qe).replace(R,b)}function y(qe){this.entries.length=0,pe(this.entries,qe)}function C(qe,pt){if(qe<pt)throw TypeError("Not enough arguments")}function w(){c(this,w,G);var qe,pt,We,ct,dt,$e,Ze,Je,at=0<arguments.length?arguments[0]:void 0,Qe=[];if(B(this,{type:G,entries:Qe,updateURL:function(){},updateSearchParams:y}),void 0!==at)if(I(at))if("function"==typeof(qe=z(at)))for(We=(pt=qe.call(at)).next;!(ct=We.call(pt)).done;){if(($e=(dt=(ct=P(x(ct.value))).next).call(ct)).done||(Ze=dt.call(ct)).done||!dt.call(ct).done)throw TypeError("Expected sequence with length 2");Qe.push({key:$e.value+"",value:Ze.value+""})}else for(Je in at)m(at,Je)&&Qe.push({key:Je,value:at[Je]+""});else pe(Qe,"string"==typeof at?"?"===at.charAt(0)?at.slice(1):at:at+"")}Ve("../modules/es.array.iterator");var s=Ve("../internals/export"),ne=Ve("../internals/get-built-in"),l=Ve("../internals/native-url"),a=Ve("../internals/redefine"),d=Ve("../internals/redefine-all"),f=Ve("../internals/set-to-string-tag"),u=Ve("../internals/create-iterator-constructor"),p=Ve("../internals/internal-state"),c=Ve("../internals/an-instance"),m=Ve("../internals/has"),_=Ve("../internals/function-bind-context"),M=Ve("../internals/classof"),x=Ve("../internals/an-object"),I=Ve("../internals/is-object"),A=Ve("../internals/object-create"),H=Ve("../internals/create-property-descriptor"),P=Ve("../internals/get-iterator"),z=Ve("../internals/get-iterator-method"),k=(Ve=Ve("../internals/well-known-symbol"),ne("fetch")),te=ne("Headers"),G=(ne=Ve("iterator"),"URLSearchParams"),X=G+"Iterator",B=p.set,N=p.getterFor(G),K=p.getterFor(X),ie=/\+/g,Ae=Array(4),Y=function(qe){var pt,We=qe.replace(ie," "),ct=4;try{return decodeURIComponent(We)}catch{for(;ct;)We=We.replace((pt=ct--,Ae[pt-1]||(Ae[pt-1]=RegExp("((?:%[\\da-f]{2}){"+pt+"})","gi"))),v);return We}},R=/[!'()~]|%20/g,Q={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},pe=function(qe,pt){if(pt)for(var We,ct=pt.split("&"),dt=0;dt<ct.length;)(We=ct[dt++]).length&&(We=We.split("="),qe.push({key:Y(We.shift()),value:Y(We.join("="))}))},Se=u(function(qe,pt){B(this,{type:X,iterator:P(N(qe).entries),kind:pt})},"Iterator",function(){var pt,qe=(pt=K(this)).kind,We=(pt=pt.iterator.next()).value;return pt.done||(pt.value="keys"===qe?We.key:"values"===qe?We.value:[We.key,We.value]),pt});d(Ve=w.prototype,{append:function(qe,pt){C(arguments.length,2);var We=N(this);We.entries.push({key:qe+"",value:pt+""}),We.updateURL()},delete:function(qe){C(arguments.length,1);for(var pt=N(this),We=pt.entries,ct=qe+"",dt=0;dt<We.length;)We[dt].key===ct?We.splice(dt,1):dt++;pt.updateURL()},get:function(qe){C(arguments.length,1);for(var pt=N(this).entries,We=qe+"",ct=0;ct<pt.length;ct++)if(pt[ct].key===We)return pt[ct].value;return null},getAll:function(qe){C(arguments.length,1);for(var pt=N(this).entries,We=qe+"",ct=[],dt=0;dt<pt.length;dt++)pt[dt].key===We&&ct.push(pt[dt].value);return ct},has:function(qe){C(arguments.length,1);for(var pt=N(this).entries,We=qe+"",ct=0;ct<pt.length;)if(pt[ct++].key===We)return!0;return!1},set:function(qe,pt){C(arguments.length,1);for(var We,ct=N(this),dt=ct.entries,$e=!1,Ze=qe+"",Je=pt+"",at=0;at<dt.length;at++)(We=dt[at]).key===Ze&&($e?dt.splice(at--,1):($e=!0,We.value=Je));$e||dt.push({key:Ze,value:Je}),ct.updateURL()},sort:function(){for(var qe,pt,We=N(this),ct=We.entries,dt=ct.slice(),$e=ct.length=0;$e<dt.length;$e++){for(qe=dt[$e],pt=0;pt<$e;pt++)if(ct[pt].key>qe.key){ct.splice(pt,0,qe);break}pt===$e&&ct.push(qe)}We.updateURL()},forEach:function(qe){for(var pt,We=N(this).entries,ct=_(qe,1<arguments.length?arguments[1]:void 0,3),dt=0;dt<We.length;)ct((pt=We[dt++]).value,pt.key,this)},keys:function(){return new Se(this,"keys")},values:function(){return new Se(this,"values")},entries:function(){return new Se(this,"entries")}},{enumerable:!0}),a(Ve,ne,Ve.entries),a(Ve,"toString",function(){for(var qe,pt=N(this).entries,We=[],ct=0;ct<pt.length;)qe=pt[ct++],We.push(g(qe.key)+"="+g(qe.value));return We.join("&")},{enumerable:!0}),f(w,G),s({global:!0,forced:!l},{URLSearchParams:w}),l||"function"!=typeof k||"function"!=typeof te||s({global:!0,enumerable:!0,forced:!0},{fetch:function(dt){var pt,We,ct;return dt=[dt],1<arguments.length&&(I(pt=arguments[1])&&M(We=pt.body)===G&&((ct=pt.headers?new te(pt.headers):new te).has("content-type")||ct.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),pt=A(pt,{body:H(0,String(We)),headers:H(0,ct)})),dt.push(pt)),k.apply(this,dt)}}),se.exports={URLSearchParams:w,getState:N}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(P,se,V){"use strict";function v(D){var L,U,oe,W;if("number"==typeof D){for(L=[],U=0;U<4;U++)L.unshift(D%256),D=X(D/256);return L.join(".")}if("object"!=typeof D)return D;for(L="",oe=Ze(D),U=0;U<8;U++)W&&0===D[U]||(W=W&&!1,oe===U?(L+=U?":":"::",W=!0):(L+=D[U].toString(16),U<7&&(L+=":")));return"["+L+"]"}function b(D){return!D.host||D.cannotBeABaseURL||"file"==D.scheme}function g(D,L,U,oe){var W,ue,Pe,Le=U||an,nt=0,xe="",Ue=!1,lt=!1,He=!1;for(U||(D.scheme="",D.username="",D.password="",D.host=null,D.port=null,D.path=[],D.query=null,D.fragment=null,D.cannotBeABaseURL=!1,L=L.replace(ct,"")),L=L.replace(dt,""),W=M(L);nt<=W.length;){switch(ue=W[nt],Le){case an:if(!ue||!Y.test(ue)){if(U)return K;Le=ze;continue}xe+=ue.toLowerCase(),Le=Vt;break;case Vt:if(ue&&(R.test(ue)||"+"==ue||"-"==ue||"."==ue))xe+=ue.toLowerCase();else{if(":"!=ue){if(U)return K;xe="",Le=ze,nt=0;continue}if(U&&(Ut(D)!=m(on,xe)||"file"==xe&&(ln(D)||null!==D.port)||"file"==D.scheme&&!D.host))return;if(D.scheme=xe,U)return void(Ut(D)&&on[D.scheme]==D.port&&(D.port=null));xe="","file"==D.scheme?Le=et:Ut(D)&&oe&&oe.scheme==D.scheme?Le=Be:Ut(D)?Le=Bt:"/"==W[nt+1]?(Le=Oe,nt++):(D.cannotBeABaseURL=!0,D.path.push(""),Le=un)}break;case ze:if(!oe||oe.cannotBeABaseURL&&"#"!=ue)return K;if(oe.cannotBeABaseURL&&"#"==ue){D.scheme=oe.scheme,D.path=oe.path.slice(),D.query=oe.query,D.fragment="",D.cannotBeABaseURL=!0,Le=St;break}Le="file"==oe.scheme?et:Ke;continue;case Be:if("/"!=ue||"/"!=W[nt+1]){Le=Ke;continue}Le=Wt,nt++;break;case Oe:if("/"==ue){Le=dn;break}Le=At;continue;case Ke:if(D.scheme=oe.scheme,ue==w)D.username=oe.username,D.password=oe.password,D.host=oe.host,D.port=oe.port,D.path=oe.path.slice(),D.query=oe.query;else if("/"==ue||"\\"==ue&&Ut(D))Le=Et;else if("?"==ue)D.username=oe.username,D.password=oe.password,D.host=oe.host,D.port=oe.port,D.path=oe.path.slice(),D.query="",Le=mt;else{if("#"!=ue){D.username=oe.username,D.password=oe.password,D.host=oe.host,D.port=oe.port,D.path=oe.path.slice(),D.path.pop(),Le=At;continue}D.username=oe.username,D.password=oe.password,D.host=oe.host,D.port=oe.port,D.path=oe.path.slice(),D.query=oe.query,D.fragment="",Le=St}break;case Et:if(!Ut(D)||"/"!=ue&&"\\"!=ue){if("/"!=ue){D.username=oe.username,D.password=oe.password,D.host=oe.host,D.port=oe.port,Le=At;continue}Le=dn}else Le=Wt;break;case Bt:if(Le=Wt,"/"!=ue||"/"!=xe.charAt(nt+1))continue;nt++;break;case Wt:if("/"==ue||"\\"==ue)break;Le=dn;continue;case dn:if("@"==ue){Ue&&(xe="%40"+xe),Ue=!0;for(var yt=M(xe),kt=0;kt<yt.length;kt++){var sn=yt[kt];":"!=sn||He?(sn=Tt(sn,st),He?D.password+=sn:D.username+=sn):He=!0}xe=""}else if(ue==w||"/"==ue||"?"==ue||"#"==ue||"\\"==ue&&Ut(D)){if(Ue&&""==xe)return N;nt-=M(xe).length+1,xe="",Le=Ft}else xe+=ue;break;case Ft:case Gt:if(U&&"file"==D.scheme){Le=xt;continue}if(":"!=ue||lt){if(ue==w||"/"==ue||"?"==ue||"#"==ue||"\\"==ue&&Ut(D)){if(Ut(D)&&""==xe)return ie;if(U&&""==xe&&(ln(D)||null!==D.port))return;if(Pe=$e(D,xe))return Pe;if(xe="",Le=bt,U)return;continue}"["==ue?lt=!0:"]"==ue&&(lt=!1),xe+=ue}else{if(""==xe)return ie;if(Pe=$e(D,xe))return Pe;if(xe="",Le=en,U==Gt)return}break;case en:if(!Q.test(ue)){if(ue==w||"/"==ue||"?"==ue||"#"==ue||"\\"==ue&&Ut(D)||U){if(""!=xe){var mn=parseInt(xe,10);if(65535<mn)return Ae;D.port=Ut(D)&&mn===on[D.scheme]?null:mn,xe=""}if(U)return;Le=bt;continue}return Ae}xe+=ue;break;case et:if(D.scheme="file","/"==ue||"\\"==ue)Le=ot;else{if(!oe||"file"!=oe.scheme){Le=At;continue}if(ue==w)D.host=oe.host,D.path=oe.path.slice(),D.query=oe.query;else if("?"==ue)D.host=oe.host,D.path=oe.path.slice(),D.query="",Le=mt;else{if("#"!=ue){yn(W.slice(nt).join(""))||(D.host=oe.host,D.path=oe.path.slice(),Yt(D)),Le=At;continue}D.host=oe.host,D.path=oe.path.slice(),D.query=oe.query,D.fragment="",Le=St}}break;case ot:if("/"==ue||"\\"==ue){Le=xt;break}oe&&"file"==oe.scheme&&!yn(W.slice(nt).join(""))&&($t(oe.path[0],!0)?D.path.push(oe.path[0]):D.host=oe.host),Le=At;continue;case xt:if(ue==w||"/"==ue||"\\"==ue||"?"==ue||"#"==ue){if(!U&&$t(xe))Le=At;else{if(""==xe){if(D.host="",U)return}else{if(Pe=$e(D,xe))return Pe;if("localhost"==D.host&&(D.host=""),U)return;xe=""}Le=bt}continue}xe+=ue;break;case bt:if(Ut(D)){if(Le=At,"/"!=ue&&"\\"!=ue)continue}else if(U||"?"!=ue)if(U||"#"!=ue){if(ue!=w&&(Le=At,"/"!=ue))continue}else D.fragment="",Le=St;else D.query="",Le=mt;break;case At:if(ue==w||"/"==ue||"\\"==ue&&Ut(D)||!U&&("?"==ue||"#"==ue)){if(It(xe)?(Yt(D),"/"==ue||"\\"==ue&&Ut(D)||D.path.push("")):hn(xe)?"/"==ue||"\\"==ue&&Ut(D)||D.path.push(""):("file"==D.scheme&&!D.path.length&&$t(xe)&&(D.host&&(D.host=""),xe=xe.charAt(0)+":"),D.path.push(xe)),xe="","file"==D.scheme&&(ue==w||"?"==ue||"#"==ue))for(;1<D.path.length&&""===D.path[0];)D.path.shift();"?"==ue?(D.query="",Le=mt):"#"==ue&&(D.fragment="",Le=St)}else xe+=Tt(ue,Qe);break;case un:"?"==ue?(D.query="",Le=mt):"#"==ue?(D.fragment="",Le=St):ue!=w&&(D.path[0]+=Tt(ue,Je));break;case mt:U||"#"!=ue?ue!=w&&("'"==ue&&Ut(D)?D.query+="%27":D.query+="#"==ue?"%23":Tt(ue,Je)):(D.fragment="",Le=St);break;case St:ue!=w&&(D.fragment+=Tt(ue,at))}nt++}}function y(ue){var L,U,oe=c(this,y,"URL"),W=1<arguments.length?arguments[1]:void 0,Pe=(ue=String(ue),ne(oe,{type:"URL"}));if(void 0!==W)if(W instanceof y)L=G(W);else if(U=g(L={},String(W)))throw TypeError(U);if(U=g(Pe,ue,null,L))throw TypeError(U);var Le=Pe.searchParams=new k;(W=te(Le)).updateSearchParams(Pe.query),W.updateURL=function(){Pe.query=String(Le)||null},d||(oe.href=Nt.call(oe),oe.origin=nn.call(oe),oe.protocol=fn.call(oe),oe.username=bn.call(oe),oe.password=Mn.call(oe),oe.host=In.call(oe),oe.hostname=An.call(oe),oe.port=Vn.call(oe),oe.pathname=q.call(oe),oe.search=ve.call(oe),oe.searchParams=je.call(oe),oe.hash=T.call(oe))}function C(D,L){return{get:D,set:L,configurable:!0,enumerable:!0}}P("../modules/es.string.iterator");var w,s,l,a=P("../internals/export"),d=P("../internals/descriptors"),f=P("../internals/native-url"),Jt=P("../internals/global"),u=P("../internals/object-define-properties"),p=P("../internals/redefine"),c=P("../internals/an-instance"),m=P("../internals/has"),_=P("../internals/object-assign"),M=P("../internals/array-from"),x=P("../internals/string-multibyte").codeAt,I=P("../internals/string-punycode-to-ascii"),A=P("../internals/set-to-string-tag"),H=P("../modules/web.url-search-params"),z=(P=P("../internals/internal-state"),Jt.URL),k=H.URLSearchParams,te=H.getState,ne=P.set,G=P.getterFor("URL"),X=Math.floor,B=Math.pow,N="Invalid authority",K="Invalid scheme",ie="Invalid host",Ae="Invalid port",Y=/[A-Za-z]/,R=/[\d+-.A-Za-z]/,Q=/\d/,pe=/^(0x|0X)/,Se=/^[0-7]+$/,Ve=/^\d+$/,qe=/^[\dA-Fa-f]+$/,pt=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,We=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ct=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,dt=/[\u0009\u000A\u000D]/g,$e=function(D,L){var U,oe,W;if("["==L.charAt(0))return"]"==L.charAt(L.length-1)&&(U=function(ue){var Ue,lt,He,yt,kt,sn,mn,Pe=[0,0,0,0,0,0,0,0],Le=0,nt=null,xe=0,Tn=function(){return ue.charAt(xe)};if(":"==Tn()){if(":"!=ue.charAt(1))return;xe+=2,nt=++Le}for(;Tn();){if(8==Le)return;if(":"!=Tn()){for(Ue=lt=0;lt<4&&qe.test(Tn());)Ue=16*Ue+parseInt(Tn(),16),xe++,lt++;if("."==Tn()){if(0==lt||(xe-=lt,Le>6))return;for(He=0;Tn();){if(yt=null,He>0){if(!("."==Tn()&&He<4))return;xe++}if(!Q.test(Tn()))return;for(;Q.test(Tn());){if(kt=parseInt(Tn(),10),null===yt)yt=kt;else{if(0==yt)return;yt=10*yt+kt}if(yt>255)return;xe++}Pe[Le]=256*Pe[Le]+yt,(2==++He||4==He)&&Le++}if(4!=He)return;break}if(":"==Tn()){if(xe++,!Tn())return}else if(Tn())return;Pe[Le++]=Ue}else{if(null!==nt)return;xe++,nt=++Le}}if(null!==nt)for(sn=Le-nt,Le=7;0!=Le&&sn>0;)mn=Pe[Le],Pe[Le--]=Pe[nt+sn-1],Pe[nt+--sn]=mn;else if(8!=Le)return;return Pe}(L.slice(1,-1)))?void(D.host=U):ie;if(Ut(D))return L=I(L),pt.test(L)||null===(U=function(ue){var Le,nt,xe,Ue,lt,He,yt,Pe=ue.split(".");if(Pe.length&&""==Pe[Pe.length-1]&&Pe.pop(),(Le=Pe.length)>4)return ue;for(nt=[],xe=0;xe<Le;xe++){if(""==(Ue=Pe[xe]))return ue;if(lt=10,Ue.length>1&&"0"==Ue.charAt(0)&&(lt=pe.test(Ue)?16:8,Ue=Ue.slice(8==lt?1:2)),""===Ue)He=0;else{if(!(10==lt?Ve:8==lt?Se:qe).test(Ue))return ue;He=parseInt(Ue,lt)}nt.push(He)}for(xe=0;xe<Le;xe++)if(He=nt[xe],xe==Le-1){if(He>=B(256,5-Le))return null}else if(He>255)return null;for(yt=nt.pop(),xe=0;xe<nt.length;xe++)yt+=nt[xe]*B(256,3-xe);return yt}(L))?ie:void(D.host=U);if(We.test(L))return ie;for(U="",oe=M(L),W=0;W<oe.length;W++)U+=Tt(oe[W],Je);D.host=U},Ze=function(D){for(var L=null,U=1,oe=null,W=0,ue=0;ue<8;ue++)0!==D[ue]?(U<W&&(L=oe,U=W),oe=null,W=0):(null===oe&&(oe=ue),++W);return U<W&&(L=oe,U=W),L},Je={},at=_({},Je,{" ":1,'"':1,"<":1,">":1,"`":1}),Qe=_({},at,{"#":1,"?":1,"{":1,"}":1}),st=_({},Qe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Tt=function(D,L){var U=x(D,0);return 32<U&&U<127&&!m(L,D)?D:encodeURIComponent(D)},on={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ut=function(D){return m(on,D.scheme)},ln=function(D){return""!=D.username||""!=D.password},$t=function(D,L){return 2==D.length&&Y.test(D.charAt(0))&&(":"==(D=D.charAt(1))||!L&&"|"==D)},yn=function(D){return 1<D.length&&$t(D.slice(0,2))&&(2==D.length||"/"===(D=D.charAt(2))||"\\"===D||"?"===D||"#"===D)},Yt=function(D){var L=D.path,U=L.length;!U||"file"==D.scheme&&1==U&&$t(L[0],!0)||L.pop()},hn=function(D){return"."===D||"%2e"===D.toLowerCase()},It=function(D){return".."===(D=D.toLowerCase())||"%2e."===D||".%2e"===D||"%2e%2e"===D},an={},Vt={},ze={},Be={},Oe={},Ke={},Et={},Bt={},Wt={},dn={},Ft={},Gt={},en={},et={},ot={},xt={},bt={},At={},un={},mt={},St={},Nt=(Jt=y.prototype,function(){var D=G(this),L=D.scheme,U=D.username,oe=D.password,W=D.host,ue=D.port,Pe=D.path,Le=D.query,nt=D.fragment,xe=L+":";return null!==W?(xe+="//",ln(D)&&(xe+=U+(oe?":"+oe:"")+"@"),xe+=v(W),null!==ue&&(xe+=":"+ue)):"file"==L&&(xe+="//"),xe+=D.cannotBeABaseURL?Pe[0]:Pe.length?"/"+Pe.join("/"):"",null!==Le&&(xe+="?"+Le),null!==nt&&(xe+="#"+nt),xe}),nn=function(){var D=G(this),L=D.scheme,U=D.port;if("blob"==L)try{return new URL(L.path[0]).origin}catch{return"null"}return"file"!=L&&Ut(D)?L+"://"+v(D.host)+(null!==U?":"+U:""):"null"},fn=function(){return G(this).scheme+":"},bn=function(){return G(this).username},Mn=function(){return G(this).password},In=function(){var D=(L=G(this)).host,L=L.port;return null===D?"":null===L?v(D):v(D)+":"+L},An=function(){var D=G(this).host;return null===D?"":v(D)},Vn=function(){var D=G(this).port;return null===D?"":String(D)},q=function(){var D=G(this),L=D.path;return D.cannotBeABaseURL?L[0]:L.length?"/"+L.join("/"):""},ve=function(){var D=G(this).query;return D?"?"+D:""},je=function(){return G(this).searchParams},T=function(){var D=G(this).fragment;return D?"#"+D:""};d&&u(Jt,{href:C(Nt,function(U){var L=G(this);if(U=g(L,U=String(U)))throw TypeError(U);te(L.searchParams).updateSearchParams(L.query)}),origin:C(nn),protocol:C(fn,function(D){g(G(this),String(D)+":",an)}),username:C(bn,function(D){var L=G(this),U=M(String(D));if(!b(L)){L.username="";for(var oe=0;oe<U.length;oe++)L.username+=Tt(U[oe],st)}}),password:C(Mn,function(D){var L=G(this),U=M(String(D));if(!b(L)){L.password="";for(var oe=0;oe<U.length;oe++)L.password+=Tt(U[oe],st)}}),host:C(In,function(D){var L=G(this);L.cannotBeABaseURL||g(L,String(D),Ft)}),hostname:C(An,function(D){var L=G(this);L.cannotBeABaseURL||g(L,String(D),Gt)}),port:C(Vn,function(D){var L=G(this);b(L)||(""==(D=String(D))?L.port=null:g(L,D,en))}),pathname:C(q,function(D){var L=G(this);L.cannotBeABaseURL||(L.path=[],g(L,D+"",bt))}),search:C(ve,function(D){var L=G(this);""==(D=String(D))?L.query=null:("?"==D.charAt(0)&&(D=D.slice(1)),L.query="",g(L,D,mt)),te(L.searchParams).updateSearchParams(L.query)}),searchParams:C(je),hash:C(T,function(D){var L=G(this);""==(D=String(D))?L.fragment=null:("#"==D.charAt(0)&&(D=D.slice(1)),L.fragment="",g(L,D,St))})}),p(Jt,"toJSON",function(){return Nt.call(this)},{enumerable:!0}),p(Jt,"toString",function(){return Nt.call(this)},{enumerable:!0}),z&&(l=z.revokeObjectURL,(s=z.createObjectURL)&&p(y,"createObjectURL",function(D){return s.apply(z,arguments)}),l&&p(y,"revokeObjectURL",function(D){return l.apply(z,arguments)})),A(y,"URL"),a({global:!0,forced:!f,sham:!d},{URL:y})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(o,se,V){"use strict";se.exports=o("./").polyfill()},{"./":250}],250:[function(o,se,V){(function(v,b){var y;y=function(){"use strict";function C($e){return"function"==typeof $e}var w=Array.isArray||function($e){return"[object Array]"===Object.prototype.toString.call($e)},s=0,l=void 0,a=void 0,d=function($e,Ze){_[s]=$e,_[s+1]=Ze,2===(s+=2)&&(a?a(M):k())},f=typeof window<"u"?window:void 0,u=(u=f||{}).MutationObserver||u.WebKitMutationObserver,p=typeof self>"u"&&void 0!==v&&"[object process]"==={}.toString.call(v),c=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function m(){var $e=setTimeout;return function(){return $e(M,1)}}var _=new Array(1e3);function M(){for(var $e=0;$e<s;$e+=2)(0,_[$e])(_[$e+1]),_[$e]=void 0,_[$e+1]=void 0;s=0}var I,A,H,k=void 0;function P($e,Ze){var Je,at=this,Qe=new this.constructor(ne),st=(void 0===Qe[te]&&qe(Qe),at._state);return st?(Je=arguments[st-1],d(function(){return Se(st,Qe,Je,at._result)})):Q(at,Qe,$e,Ze),Qe}function z($e){var Ze;return $e&&"object"==typeof $e&&$e.constructor===this?$e:(ie(Ze=new this(ne),$e),Ze)}k=p?function(){return v.nextTick(M)}:u?(A=0,p=new u(M),H=document.createTextNode(""),p.observe(H,{characterData:!0}),function(){H.data=A=++A%2}):c?((I=new MessageChannel).port1.onmessage=M,function(){return I.port2.postMessage(0)}):(void 0===f&&"function"==typeof o?function x(){try{var $e=Function("return this")().require("vertx");return void 0!==(l=$e.runOnLoop||$e.runOnContext)?function(){l(M)}:m()}catch{return m()}}:m)();var te=Math.random().toString(36).substring(2);function ne(){}var G=void 0,X=1,B=2;function N($e,Ze,Je){d(function(at){var Qe=!1,st=function(Tt,on,Ut,ln){try{Tt.call(on,function(Tt){Qe||(Qe=!0,(Ze!==Tt?ie:Y)(at,Tt))},function(Tt){Qe||(Qe=!0,R(at,Tt))})}catch($t){return $t}}(Je,Ze);!Qe&&st&&(Qe=!0,R(at,st))},$e)}function K($e,Ze,Je){var at,Qe;Ze.constructor===$e.constructor&&Je===P&&Ze.constructor.resolve===z?(at=$e,(Qe=Ze)._state===X?Y(at,Qe._result):Qe._state===B?R(at,Qe._result):Q(Qe,void 0,function(st){return ie(at,st)},function(st){return R(at,st)})):void 0!==Je&&C(Je)?N($e,Ze,Je):Y($e,Ze)}function ie($e,Ze){if($e===Ze)R($e,new TypeError("You cannot resolve a promise with itself"));else if(Je=typeof Ze,null===Ze||"object"!=Je&&"function"!=Je)Y($e,Ze);else{Je=void 0;try{Je=Ze.then}catch(at){return void R($e,at)}K($e,Ze,Je)}var Je}function Ae($e){$e._onerror&&$e._onerror($e._result),pe($e)}function Y($e,Ze){$e._state===G&&($e._result=Ze,$e._state=X,0!==$e._subscribers.length&&d(pe,$e))}function R($e,Ze){$e._state===G&&($e._state=B,$e._result=Ze,d(Ae,$e))}function Q($e,Ze,Je,at){var Qe=$e._subscribers,st=Qe.length;$e._onerror=null,Qe[st]=Ze,Qe[st+X]=Je,Qe[st+B]=at,0===st&&$e._state&&d(pe,$e)}function pe($e){var Ze=$e._subscribers,Je=$e._state;if(0!==Ze.length){for(var at,Qe=void 0,st=$e._result,Tt=0;Tt<Ze.length;Tt+=3)Qe=Ze[Tt+Je],(at=Ze[Tt])?Se(Je,at,Qe,st):Qe(st);$e._subscribers.length=0}}function Se($e,Ze,Je,at){var Qe=C(Je),st=void 0,Tt=void 0,on=!0;if(Qe){try{st=Je(at)}catch(Ut){on=!1,Tt=Ut}if(Ze===st)return void R(Ze,new TypeError("A promises callback cannot return that same promise."))}else st=at;Ze._state===G&&(Qe&&on?ie(Ze,st):!1===on?R(Ze,Tt):$e===X?Y(Ze,st):$e===B&&R(Ze,st))}var Ve=0;function qe($e){$e[te]=Ve++,$e._state=void 0,$e._result=void 0,$e._subscribers=[]}We.prototype._enumerate=function($e){for(var Ze=0;this._state===G&&Ze<$e.length;Ze++)this._eachEntry($e[Ze],Ze)},We.prototype._eachEntry=function($e,Ze){var Je=this._instanceConstructor,at=Je.resolve;if(at===z){var Qe,st=void 0,Tt=void 0,on=!1;try{st=$e.then}catch(Ut){on=!0,Tt=Ut}st===P&&$e._state!==G?this._settledAt($e._state,Ze,$e._result):"function"!=typeof st?(this._remaining--,this._result[Ze]=$e):Je===ct?(Qe=new Je(ne),on?R(Qe,Tt):K(Qe,$e,st),this._willSettleAt(Qe,Ze)):this._willSettleAt(new Je(function(Ut){return Ut($e)}),Ze)}else this._willSettleAt(at($e),Ze)},We.prototype._settledAt=function($e,Ze,Je){var at=this.promise;at._state===G&&(this._remaining--,$e===B?R(at,Je):this._result[Ze]=Je),0===this._remaining&&Y(at,this._result)},We.prototype._willSettleAt=function($e,Ze){var Je=this;Q($e,void 0,function(at){return Je._settledAt(X,Ze,at)},function(at){return Je._settledAt(B,Ze,at)})};var pt=We;function We($e,Ze){this._instanceConstructor=$e,this.promise=new $e(ne),this.promise[te]||qe(this.promise),w(Ze)?(this.length=Ze.length,this._remaining=Ze.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(Ze),0!==this._remaining)||Y(this.promise,this._result)):R(this.promise,new Error("Array Methods must be provided an Array"))}dt.prototype.catch=function($e){return this.then(null,$e)},dt.prototype.finally=function($e){var Ze=this.constructor;return C($e)?this.then(function(Je){return Ze.resolve($e()).then(function(){return Je})},function(Je){return Ze.resolve($e()).then(function(){throw Je})}):this.then($e,$e)};var ct=dt;function dt($e){if(this[te]=Ve++,this._result=this._state=void 0,this._subscribers=[],ne!==$e){if("function"!=typeof $e)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof dt))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var Ze=this;try{$e(function(Je){ie(Ze,Je)},function(Je){R(Ze,Je)})}catch(Je){R(Ze,Je)}}}return ct.prototype.then=P,ct.all=function($e){return new pt(this,$e).promise},ct.race=function($e){var Ze=this;return w($e)?new Ze(function(Je,at){for(var Qe=$e.length,st=0;st<Qe;st++)Ze.resolve($e[st]).then(Je,at)}):new Ze(function(Je,at){return at(new TypeError("You must pass an array to race."))})},ct.resolve=z,ct.reject=function($e){var Ze=new this(ne);return R(Ze,$e),Ze},ct._setScheduler=function($e){a=$e},ct._setAsap=function($e){d=$e},ct._asap=d,ct.polyfill=function(){var $e=void 0;if(void 0!==b)$e=b;else if(typeof self<"u")$e=self;else try{$e=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Ze=$e.Promise;if(Ze){var Je=null;try{Je=Object.prototype.toString.call(Ze.resolve())}catch{}if("[object Promise]"===Je&&!Ze.cast)return}$e.Promise=ct},ct.Promise=ct},"object"==typeof V&&void 0!==se?se.exports=y():this.ES6Promise=y()}).call(this,o("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(o,se,V){var b;b=function(g,y){"use strict";function s(a){try{delete window[a]}catch{window[a]=void 0}}function l(a){(a=document.getElementById(a))&&document.getElementsByTagName("head")[0].removeChild(a)}y.exports=function(a){var d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],f=a,u=d.timeout||5e3,p=d.jsonpCallback||"callback",c=void 0;return new Promise(function(m,_){var M=d.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),x=p+"_"+M,I=(window[M]=function(A){m({ok:!0,json:function(){return Promise.resolve(A)}}),c&&clearTimeout(c),l(x),s(M)},f+=-1===f.indexOf("?")?"?":"&",document.createElement("script"));I.setAttribute("src",""+f+p+"="+M),d.charset&&I.setAttribute("charset",d.charset),I.id=x,document.getElementsByTagName("head")[0].appendChild(I),c=setTimeout(function(){_(new Error("JSONP request to "+a+" timed out")),s(M),l(x),window[M]=function(){s(M)}},u),I.onerror=function(){_(new Error("JSONP request to "+a+" failed")),s(M),l(x),c&&clearTimeout(c)}})}},void 0!==V&&void 0!==se?b(0,se):(b(b={exports:{}},b),this.fetchJsonp=b.exports)},{}],252:[function(o,se,V){var v=function(b){"use strict";var g,y,C,w,s,l,d,f,u,p;if(!(void 0===b||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return g=function(){return b.URL||b.webkitURL||b},y=(p=b.document).createElementNS("http://www.w3.org/1999/xhtml","a"),C="download"in y,w=/constructor/i.test(b.HTMLElement)||b.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(c){(b.setImmediate||b.setTimeout)(function(){throw c},0)},4e4,d=function(c){setTimeout(function(){"string"==typeof c?g().revokeObjectURL(c):c.remove()},4e4)},f=function(c){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\ufeff",c],{type:c.type}):c},p=(u=function(c,m,A){A||(c=f(c));var M,x,I=this,H=(A="application/octet-stream"===c.type,function(){for(var P=I,z="writestart progress write writeend".split(" "),te=(z=[].concat(z)).length;te--;){var ne=P["on"+z[te]];if("function"==typeof ne)try{ne.call(P,P)}catch(G){l(G)}}});I.readyState=I.INIT,C?(M=g().createObjectURL(c),setTimeout(function(){var P,z;y.href=M,y.download=m,P=y,z=new MouseEvent("click"),P.dispatchEvent(z),H(),d(M),I.readyState=I.DONE})):(s||A&&w)&&b.FileReader?((x=new FileReader).onloadend=function(){var P=s?x.result:x.result.replace(/^data:[^;]*;/,"data:attachment/file;");b.open(P,"_blank")||(b.location.href=P),P=void 0,I.readyState=I.DONE,H()},x.readAsDataURL(c),I.readyState=I.INIT):(M=M||g().createObjectURL(c),!A&&b.open(M,"_blank")||(b.location.href=M),I.readyState=I.DONE,H(),d(M))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(c,m,_){return m=m||c.name||"download",_||(c=f(c)),navigator.msSaveOrOpenBlob(c,m)}:(p.abort=function(){},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,function(c,m,_){return new u(c,m||c.name||"download",_)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);void 0!==se&&se.exports&&(se.exports.saveAs=v)},{}],253:[function(o,se,V){var v,b=Object.defineProperty,g=(b(V,"__esModule",{value:!0}),V),y={GIFEncoder:()=>H,applyPalette:()=>function(G,X,B="rgb565"){if(!G||!G.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(G instanceof Uint8Array||G instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<X.length)throw new Error("applyPalette() only works with 256 colors or less");const N=new Uint32Array(G.buffer),K=N.length,ie="rgb444"===B?4096:65536,Ae=new Uint8Array(K),Y=new Array(ie);if("rgba4444"===B)for(let dt=0;dt<K;dt++){var Se,R=(Se=N[dt])>>24&255,Q=Se>>16&255,pe=Se>>8&255,Ve=(Ve=d(Se&=255,pe,Q,R))in Y?Y[Ve]:Y[Ve]=function($e,Ze,Je,at,Qe){let st=0,Tt=1e100;for(let $t=0;$t<Qe.length;$t++){var Ut=Qe[$t],ln=x(Ut[3]-at);ln>Tt||(ln+=x(Ut[0]-$e))>Tt||(ln+=x(Ut[1]-Ze))>Tt||(ln+=x(Ut[2]-Je))>Tt||(Tt=ln,st=$t)}return st}(Se,pe,Q,R,X);Ae[dt]=Ve}else{const dt="rgb444"===B?f:a;for(let $e=0;$e<K;$e++){var We,qe=(We=N[$e])>>16&255,pt=We>>8&255,ct=(ct=dt(We&=255,pt,qe))in Y?Y[ct]:Y[ct]=function(Ze,Je,at,Qe){let st=0,Tt=1e100;for(let $t=0;$t<Qe.length;$t++){var Ut=Qe[$t],ln=x(Ut[0]-Ze);ln>Tt||(ln+=x(Ut[1]-Je))>Tt||(ln+=x(Ut[2]-at))>Tt||(Tt=ln,st=$t)}return st}(We,pt,qe,X);Ae[$e]=ct}}return Ae},default:()=>ne,nearestColor:()=>function(G,X,B=_){return G[I(G,X,B)]},nearestColorIndex:()=>I,nearestColorIndexWithDistance:()=>A,prequantize:()=>function(G,{roundRGB:X=5,roundAlpha:B=10,oneBitAlpha:N=null}={}){const K=new Uint32Array(G.buffer);for(let Q=0;Q<K.length;Q++){let pe=(R=K[Q])>>24&255;var Ae=R>>16&255,Y=R>>8&255,R=255&R;pe=M(pe,B),N&&(pe=pe<=("number"==typeof N?N:127)?0:255),R=M(R,X),Y=M(Y,X),Ae=M(Ae,X),K[Q]=pe<<24|Ae<<16|Y<<8|R}},quantize:()=>function(G,X,B={}){var{format:N="rgb565",clearAlpha:K=!0,clearAlphaColor:ie=0,clearAlphaThreshold:Ae=0,oneBitAlpha:Y=!1}=B;if(!G||!G.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(G instanceof Uint8Array||G instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");G=new Uint32Array(G.buffer);let R=!1!==B.useSqrt;const Q="rgba4444"===N,pe=function(yn,Yt){const It=new Array("rgb444"===Yt?4096:65536),an=yn.length;if("rgba4444"===Yt)for(let ot=0;ot<an;++ot){var Oe,Vt=(Oe=yn[ot])>>24&255,ze=Oe>>16&255,Be=Oe>>8&255,Ke=d(Oe&=255,Be,ze,Vt);let xt=Ke in It?It[Ke]:It[Ke]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};xt.rc+=Oe,xt.gc+=Be,xt.bc+=ze,xt.ac+=Vt,xt.cnt++}else if("rgb444"===Yt)for(let ot=0;ot<an;++ot){var Wt,Et=(Wt=yn[ot])>>16&255,Bt=Wt>>8&255,dn=f(Wt&=255,Bt,Et);let xt=dn in It?It[dn]:It[dn]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};xt.rc+=Wt,xt.gc+=Bt,xt.bc+=Et,xt.cnt++}else for(let ot=0;ot<an;++ot){var en,Ft=(en=yn[ot])>>16&255,Gt=en>>8&255,et=a(en&=255,Gt,Ft);let xt=et in It?It[et]:It[et]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};xt.rc+=en,xt.gc+=Gt,xt.bc+=Ft,xt.cnt++}return It}(G,N),Se=pe.length,Ve=Se-1,qe=new Uint32Array(Se+1);for(var pt=0,We=0;We<Se;++We){const yn=pe[We];null!=yn&&(Ut=1/yn.cnt,Q&&(yn.ac*=Ut),yn.rc*=Ut,yn.gc*=Ut,yn.bc*=Ut,pe[pt++]=yn)}var ct,dt,$e;for(p(X)/pt<.022&&(R=!1),We=0;We<pt-1;++We)pe[We].fw=We+1,pe[We+1].bk=We,R&&(pe[We].cnt=Math.sqrt(pe[We].cnt));for(R&&(pe[We].cnt=Math.sqrt(pe[We].cnt)),We=0;We<pt;++We){c(pe,We,!1);var Ze=pe[We].err;for(dt=++qe[0];1<dt&&!(pe[ct=qe[$e=dt>>1]].err<=Ze);dt=$e)qe[dt]=ct;qe[dt]=We}var Je,at=pt-X;for(We=0;We<at;){for(;;){var Qe=qe[1];if((Je=pe[Qe]).tm>=Je.mtm&&pe[Je.nn].mtm<=Je.tm)break;for(Je.mtm==Ve?Qe=qe[1]=qe[qe[0]--]:(c(pe,Qe,!1),Je.tm=We),Ze=pe[Qe].err,dt=1;($e=dt+dt)<=qe[0]&&($e<qe[0]&&pe[qe[$e]].err>pe[qe[$e+1]].err&&$e++,!(Ze<=pe[ct=qe[$e]].err));dt=$e)qe[dt]=ct;qe[dt]=Qe}var st=pe[Je.nn],Tt=Je.cnt,on=st.cnt,Ut=1/(Tt+on);Q&&(Je.ac=Ut*(Tt*Je.ac+on*st.ac)),Je.rc=Ut*(Tt*Je.rc+on*st.rc),Je.gc=Ut*(Tt*Je.gc+on*st.gc),Je.bc=Ut*(Tt*Je.bc+on*st.bc),Je.cnt+=st.cnt,Je.mtm=++We,pe[st.bk].fw=st.fw,pe[st.fw].bk=st.bk,st.mtm=Ve}let ln=[];for(We=0;;0){let yn=u(Math.round(pe[We].rc),0,255),Yt=u(Math.round(pe[We].gc),0,255),hn=u(Math.round(pe[We].bc),0,255),It=255;Q&&(It=u(Math.round(pe[We].ac),0,255),Y&&(It=It<=($t="number"==typeof Y?Y:127)?0:255),K&&It<=Ae&&(yn=Yt=hn=ie,It=0));var $t=Q?[yn,Yt,hn,It]:[yn,Yt,hn];if(function(an,Vt){for(let Oe=0;Oe<an.length;Oe++){var ze=(Be=an[Oe])[0]===Vt[0]&&Be[1]===Vt[1]&&Be[2]===Vt[2],Be=!(4<=Be.length&&4<=Vt.length)||Be[3]===Vt[3];if(ze&&Be)return!0}return!1}(ln,$t)||ln.push($t),0==(We=pe[We].fw))break}return ln},snapColorsToPalette:()=>function(G,X,B=5){if(G.length&&X.length){var N=G.map(R=>R.slice(0,3)),K=B*B,ie=G[0].length;for(let R=0;R<X.length;R++){let Q=X[R];Q=Q.length<ie?[Q[0],Q[1],Q[2],255]:Q.length>ie?Q.slice(0,3):Q.slice();var Y,Ae=(Y=A(N,Q.slice(0,3),_))[0];0<(Y=Y[1])&&Y<=K&&(G[Ae]=Q)}}}};for(v in y)b(g,v,{get:y[v],enumerable:!0});var C={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function w(G=256){let X=0,B=new Uint8Array(G);return{get buffer(){return B.buffer},reset(){X=0},bytesView:()=>B.subarray(0,X),bytes:()=>B.slice(0,X),writeByte(K){N(X+1),B[X]=K,X++},writeBytes(K,ie=0,Ae=K.length){N(X+Ae);for(let Y=0;Y<Ae;Y++)B[X++]=K[Y+ie]},writeBytesView(K,ie=0,Ae=K.byteLength){N(X+Ae),B.set(K.subarray(ie,ie+Ae),X),X+=Ae}};function N(K){var ie=B.length;if(!(K<=ie)){K=Math.max(K,ie*(ie<1048576?2:1.125)>>>0),0!=ie&&(K=Math.max(K,256));const Ae=B;B=new Uint8Array(K),0<X&&B.set(Ae.subarray(0,X),0)}}}var s=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],l=function(G,X,B,Q,K=w(512),ie=new Uint8Array(256),Ae=new Int32Array(5003),Y=new Int32Array(5003)){var R=Ae.length;Q=Math.max(2,Q),ie.fill(0),Y.fill(0),Ae.fill(-1);let pe=0,Se=0;var Ve=Q+1;const qe=Ve;let pt=!1,We=qe,ct=(1<<We)-1;var dt=1<<Ve-1;const $e=1+dt;let Ze=2+dt,Je=0,at=B[0],Qe=0;for(let $t=R;$t<65536;$t*=2)++Qe;Qe=8-Qe,K.writeByte(Q),ln(dt);var st=B.length;for(let $t=1;$t<st;$t++)e:{var Tt=B[$t],on=(Tt<<12)+at;let yn=Tt<<Qe^at;if(Ae[yn]===on)at=Y[yn];else{for(var Ut=0===yn?1:R-yn;0<=Ae[yn];)if((yn-=Ut)<0&&(yn+=R),Ae[yn]===on){at=Y[yn];break e}ln(at),at=Tt,Ze<4096?(Y[yn]=Ze++,Ae[yn]=on):(Ae.fill(-1),Ze=2+dt,pt=!0,ln(dt))}}return ln(at),ln($e),K.writeByte(0),K.bytesView();function ln($t){for(pe&=s[Se],0<Se?pe|=$t<<Se:pe=$t,Se+=We;8<=Se;)ie[Je++]=255&pe,254<=Je&&(K.writeByte(Je),K.writeBytesView(ie,0,Je),Je=0),pe>>=8,Se-=8;if((Ze>ct||pt)&&(pt?(We=qe,ct=(1<<We)-1,pt=!1):(++We,ct=12===We?1<<We:(1<<We)-1)),$t==$e){for(;0<Se;)ie[Je++]=255&pe,254<=Je&&(K.writeByte(Je),K.writeBytesView(ie,0,Je),Je=0),pe>>=8,Se-=8;0<Je&&(K.writeByte(Je),K.writeBytesView(ie,0,Je),Je=0)}}};function a(G,X,B){return G<<8&63488|X<<2&992|B>>3}function d(G,X,B,N){return G>>4|240&X|(240&B)<<4|(240&N)<<8}function f(G,X,B){return G>>4<<8|240&X|B>>4}function u(G,X,B){return G<X?X:B<G?B:G}function p(G){return G*G}function c(G,X,B){var N=0,K=1e100;const ie=G[X];for(var Ae=ie.cnt,Y=ie.ac,R=ie.rc,Q=ie.gc,pe=ie.bc,Se=ie.fw;0!=Se;Se=G[Se].fw){var Ve,pt,qe=G[Se];K<=(pt=Ae*(pt=qe.cnt)/(Ae+pt))||(Ve=0,B&&K<=(Ve+=pt*p(qe.ac-Y))||K<=(Ve+=pt*p(qe.rc-R))||K<=(Ve+=pt*p(qe.gc-Q))||K<=(Ve+=pt*p(qe.bc-pe))||(K=Ve,N=Se))}ie.err=K,ie.nn=N}function _(G,X){for(var B=0,N=0;N<G.length;N++){var K=G[N]-X[N];B+=K*K}return B}function M(G,X){return 1<X?Math.round(G/X)*X:G}function x(G){return G*G}function I(G,X,B=_){let N=1/0,K=-1;for(let Ae=0;Ae<G.length;Ae++){var ie=B(X,G[Ae]);ie<N&&(N=ie,K=Ae)}return K}function A(G,X,B=_){let N=1/0,K=-1;for(let Ae=0;Ae<G.length;Ae++){var ie=B(X,G[Ae]);ie<N&&(N=ie,K=Ae)}return[K,N]}function H(G={}){const{initialCapacity:X=4096,auto:B=!0}=G,N=w(X),K=new Uint8Array(256),ie=new Int32Array(5003),Ae=new Int32Array(5003);let Y=!1;return{reset(){N.reset(),Y=!1},finish(){N.writeByte(C.trailer)},bytes:()=>N.bytes(),bytesView:()=>N.bytesView(),get buffer(){return N.buffer},get stream(){return N},writeHeader:R,writeFrame(Q,pe,Se,at={}){var{transparent:qe=!1,transparentIndex:pt=0,delay:Ut=0,palette:We=null,repeat:st=0,colorDepth:ct=8,dispose:dt=-1}=at;let $e=!1;if(B?Y||($e=!0,R(),Y=!0):$e=!!at.first,pe=Math.max(0,Math.floor(pe)),Se=Math.max(0,Math.floor(Se)),$e){if(!We)throw new Error("First frame must include a { palette } option");var[at,Tt,Je,on,Qe=8]=[N,pe,Se,We,ct];Qe=128|Qe-1<<4|(on=te(on.length)-1),z(at,Tt),z(at,Je),at.writeBytes([Qe,0,0]),P(N,We),0<=st&&(Tt=st,(on=N).writeByte(33),on.writeByte(255),on.writeByte(11),k(on,"NETSCAPE2.0"),on.writeByte(3),on.writeByte(1),z(on,Tt),on.writeByte(0))}var Ze,Je,Qe=dt,st=Je=Math.round(Ut/10),Tt=qe,on=pt,Ut=((at=N).writeByte(33),at.writeByte(249),at.writeByte(4),on<0&&(on=0,Tt=!1),Tt=Tt?(Ze=1,2):Ze=0,0<=Qe&&(Tt=7&Qe),at.writeByte((Tt<<=2)|Ze),z(at,st),at.writeByte(on||0),at.writeByte(0),!!We&&!$e);qe=pe,pt=Se,Ze=Ut?We:null,(dt=N).writeByte(44),z(dt,0),z(dt,0),z(dt,qe),z(dt,pt),Ze?(qe=te(Ze.length)-1,dt.writeByte(128|qe)):dt.writeByte(0),Ut&&P(N,We),[st,at,pt,qe,dt=8,Ut,We,Q]=[N,Q,pe,Se,ct,K,ie,Ae],l(pt,qe,at,dt,st,Ut,We,Q)}};function R(){k(N,"GIF89a")}}function P(G,X){var B=1<<te(X.length);for(let N=0;N<B;N++){let K=[0,0,0];N<X.length&&(K=X[N]),G.writeByte(K[0]),G.writeByte(K[1]),G.writeByte(K[2])}}function z(G,X){G.writeByte(255&X),G.writeByte(X>>8&255)}function k(G,X){for(var B=0;B<X.length;B++)G.writeByte(X.charCodeAt(B))}function te(G){return Math.max(Math.ceil(Math.log2(G)),1)}var ne=H},{}],254:[function(o,se,V){V.read=function(v,b,g,y,c){var w,s,l=8*c-y-1,a=(1<<l)-1,d=a>>1,f=-7,u=g?c-1:0,p=g?-1:1;for(c=v[b+u],u+=p,w=c&(1<<-f)-1,c>>=-f,f+=l;0<f;w=256*w+v[b+u],u+=p,f-=8);for(s=w&(1<<-f)-1,w>>=-f,f+=y;0<f;s=256*s+v[b+u],u+=p,f-=8);if(0===w)w=1-d;else{if(w===a)return s?NaN:1/0*(c?-1:1);s+=Math.pow(2,y),w-=d}return(c?-1:1)*s*Math.pow(2,w-y)},V.write=function(v,b,g,y,C,m){var s,l,a=8*m-C-1,d=(1<<a)-1,f=d>>1,u=23===C?Math.pow(2,-24)-Math.pow(2,-77):0,p=y?0:m-1,c=y?1:-1;for(m=b<0||0===b&&1/b<0?1:0,b=Math.abs(b),isNaN(b)||b===1/0?(l=isNaN(b)?1:0,s=d):(s=Math.floor(Math.log(b)/Math.LN2),b*(y=Math.pow(2,-s))<1&&(s--,y*=2),2<=(b+=1<=s+f?u/y:u*Math.pow(2,1-f))*y&&(s++,y/=2),d<=s+f?(l=0,s=d):1<=s+f?(l=(b*y-1)*Math.pow(2,C),s+=f):(l=b*Math.pow(2,f-1)*Math.pow(2,C),s=0));8<=C;v[g+p]=255&l,p+=c,l/=256,C-=8);for(s=s<<C|l,a+=C;0<a;v[g+p]=255&s,p+=c,s/=256,a-=8);v[g+p-c]|=128*m}},{}],255:[function(o,se,V){"use strict";var v;function b(ze,Be){return ze.b===Be.b&&ze.a===Be.a}function g(ze,Be){return ze.b<Be.b||ze.b===Be.b&&ze.a<=Be.a}function y(ze,Be,Oe){var Ke=Be.b-ze.b,Et=Oe.b-Be.b;return 0<Ke+Et?Ke<Et?Be.a-ze.a+Ke/(Ke+Et)*(ze.a-Oe.a):Be.a-Oe.a+Et/(Ke+Et)*(Oe.a-ze.a):0}function C(ze,Be,Oe){var Ke=Be.b-ze.b,Et=Oe.b-Be.b;return 0<Ke+Et?(Be.a-Oe.a)*Ke+(Be.a-ze.a)*Et:0}function w(ze,Be){return ze.a<Be.a||ze.a===Be.a&&ze.b<=Be.b}function s(ze,Be,Oe){var Ke=Be.a-ze.a,Et=Oe.a-Be.a;return 0<Ke+Et?Ke<Et?Be.b-ze.b+Ke/(Ke+Et)*(ze.b-Oe.b):Be.b-Oe.b+Et/(Ke+Et)*(Oe.b-ze.b):0}function l(ze,Be,Oe){var Ke=Be.a-ze.a,Et=Oe.a-Be.a;return 0<Ke+Et?(Be.b-Oe.b)*Ke+(Be.b-ze.b)*Et:0}function a(ze,Be,Oe,Ke){return(ze=ze<0?0:ze)<=(Oe=Oe<0?0:Oe)?0===Oe?(Be+Ke)/2:Be+ze/(ze+Oe)*(Ke-Be):Ke+Oe/(ze+Oe)*(Be-Ke)}function d(ze){var Be=m(ze.b);return M(Be,ze.c),M(Be.b,ze.c),x(Be,ze.a),Be}function f(ze,Be){var Oe=!1,Ke=!1;ze!==Be&&(Be.a!==ze.a&&(Ke=!0,A(Be.a,ze.a)),Be.d!==ze.d&&(Oe=!0,H(Be.d,ze.d)),_(Be,ze),Ke||(M(Be,ze.a),ze.a.c=ze),Oe||(x(Be,ze.d),ze.d.a=ze))}function u(ze){var Be=ze.b,Oe=!1;ze.d!==ze.b.d&&(Oe=!0,H(ze.d,ze.b.d)),ze.c===ze?A(ze.a,null):(ze.b.d.a=ze.b.e,ze.a.c=ze.c,_(ze,ze.b.e),Oe||x(ze,ze.d)),Be.c===Be?(A(Be.a,null),H(Be.d,null)):(ze.d.a=Be.b.e,Be.a.c=Be.c,_(Be,Be.b.e)),I(ze)}function p(ze){var Be=m(ze),Oe=Be.b;return _(Be,ze.e),Be.a=ze.b.a,M(Oe,Be.a),Be.d=Oe.d=ze.d,Be=Be.b,_(ze.b,ze.b.b.e),_(ze.b,Be),ze.b.a=Be.a,Be.b.a.c=Be.b,Be.b.d=ze.b.d,Be.f=ze.f,Be.b.f=ze.b.f,Be}function c(ze,Be){var Oe=!1,Ke=m(ze),Et=Ke.b;return Be.d!==ze.d&&(Oe=!0,H(Be.d,ze.d)),_(Ke,ze.e),_(Et,Be),Ke.a=ze.b.a,Et.a=Be.a,Ke.d=Et.d=ze.d,ze.d.a=Et,Oe||x(Ke,ze.d),Ke}function m(ze){var Be=new Je,Oe=new Je;return(((Oe.h=ze.b.h).b.h=Be).h=ze).b.h=Oe,Be.b=Oe,((Be.c=Be).e=Oe).b=Be,(Oe.c=Oe).e=Be}function _(ze,Be){var Oe=ze.c,Ke=Be.c;Oe.b.e=Be,(Ke.b.e=ze).c=Ke,Be.c=Oe}function M(ze,Be){var Oe=Be.f,Ke=new Qe(Be,Oe);for(Oe.e=Ke,Oe=(Be.f=Ke).c=ze;Oe.a=Ke,(Oe=Oe.c)!==ze;);}function x(ze,Be){var Oe=Be.d,Ke=new Ze(Be,Oe);for(Oe.b=Ke,(Be.d=Ke).a=ze,Ke.c=Be.c,Oe=ze;Oe.d=Ke,(Oe=Oe.e)!==ze;);}function I(ze){var Be=ze.h;(Be.b.h=ze=ze.b.h).b.h=Be}function A(ze,Be){for(var Oe=ze.c,Ke=Oe;Ke.a=Be,(Ke=Ke.c)!==Oe;);((Ke=ze.e).f=Oe=ze.f).e=Ke}function H(ze,Be){for(var Oe=ze.a,Ke=Oe;Ke.d=Be,(Ke=Ke.e)!==Oe;);((Ke=ze.b).d=Oe=ze.d).b=Ke}function P(ze){var Be=0;return Math.abs(ze[1])>Math.abs(ze[0])&&(Be=1),Math.abs(ze[2])>Math.abs(ze[Be])?2:Be}function z(ze,Be){ze.f+=Be.f,ze.b.f+=Be.b.f}function k(ze,Be,Oe){return Oe=Oe.a,(Be=Be.a).b.a===(ze=ze.a)?Oe.b.a===ze?g(Be.a,Oe.a)?C(Oe.b.a,Be.a,Oe.a)<=0:0<=C(Be.b.a,Oe.a,Be.a):C(Oe.b.a,ze,Oe.a)<=0:Oe.b.a===ze?0<=C(Be.b.a,ze,Be.a):(Be=y(Be.b.a,ze,Be.a),(ze=y(Oe.b.a,ze,Oe.a))<=Be)}function te(ze){ze.a.i=null;var Be=ze.e;Be.a.c=Be.c,Be.c.a=Be.a,ze.e=null}function ne(ze,Be){u(ze.a),ze.c=!1,(ze.a=Be).i=ze}function G(ze){for(var Be=ze.a.a;(ze=Vt(ze)).a.a===Be;);return ze.c&&(ne(ze,Be=c(an(ze).a.b,ze.a.e)),ze=Vt(ze)),ze}function X(ze,Be,Oe){var Ke=new It;return Ke.a=Oe,Ke.e=pt(ze.f,Be.e,Ke),Oe.i=Ke}function B(ze,Be){switch(ze.s){case 100130:return!!(1&Be);case 100131:return 0!==Be;case 100132:return 0<Be;case 100133:return Be<0;case 100134:return 2<=Be||Be<=-2}return!1}function N(ze){var Be=ze.a,Oe=Be.d;Oe.c=ze.d,Oe.a=Be,te(ze)}function K(ze,Be,Oe){for(Be=(ze=Be).a;ze!==Oe;){ze.c=!1;var Ke=an(ze),Et=Ke.a;if(Et.a!==Be.a){if(!Ke.c){N(ze);break}ne(Ke,Et=c(Be.c.b,Et.b))}Be.c!==Et&&(f(Et.b.e,Et),f(Be,Et)),N(ze),Be=Ke.a,ze=Ke}return Be}function ie(ze,Be,Oe,Ke,Et,Bt){for(var Wt=!0;X(ze,Be,Oe.b),(Oe=Oe.c)!==Ke;);for(null===Et&&(Et=an(Be).a.b.c);(Oe=(Ke=an(Be)).a.b).a===Et.a;)Oe.c!==Et&&(f(Oe.b.e,Oe),f(Et.b.e,Oe)),Ke.f=Be.f-Oe.f,Ke.d=B(ze,Ke.f),Be.b=!0,!Wt&&Q(ze,Be)&&(z(Oe,Et),te(Be),u(Et)),Wt=!1,Be=Ke,Et=Oe;Be.b=!0,Bt&&Se(ze,Be)}function Ae(ze,Be,Oe,Ke,Et){var Bt=[Be.g[0],Be.g[1],Be.g[2]];Be.d=null,Be.d=ze.o&&ze.o(Bt,Oe,Ke,ze.c)||null,null===Be.d&&(Et?ze.n||($e(ze,100156),ze.n=!0):Be.d=Oe[0])}function Y(ze,Be,Oe){var Ke=[null,null,null,null];Ke[0]=Be.a.d,Ke[1]=Oe.a.d,Ae(ze,Be.a,Ke,[.5,.5,0,0],!1),f(Be,Oe)}function R(ze,Be,Oe,Ke,Et){var Bt=Math.abs(Be.b-ze.b)+Math.abs(Be.a-ze.a),Wt=Math.abs(Oe.b-ze.b)+Math.abs(Oe.a-ze.a),dn=Et+1;Ke[Et]=.5*Wt/(Bt+Wt),Ke[dn]=.5*Bt/(Bt+Wt),ze.g[0]+=Ke[Et]*Be.g[0]+Ke[dn]*Oe.g[0],ze.g[1]+=Ke[Et]*Be.g[1]+Ke[dn]*Oe.g[1],ze.g[2]+=Ke[Et]*Be.g[2]+Ke[dn]*Oe.g[2]}function Q(ze,Be){var Oe=an(Be),Ke=Be.a,Et=Oe.a;if(g(Ke.a,Et.a)){if(0<C(Et.b.a,Ke.a,Et.a))return;if(b(Ke.a,Et.a)){if(Ke.a!==Et.a){Oe=ze.e;var Bt=Ke.a.h;if(0<=Bt){var Wt=(Oe=Oe.b).d,dn=Oe.e,Ft=Oe.c,Gt=Ft[Bt];Wt[Gt]=Wt[Oe.a],(Ft[Wt[Gt]]=Gt)<=--Oe.a&&(Gt<=1||g(dn[Wt[Gt>>1]],dn[Wt[Gt]])?Yt:hn)(Oe,Gt),dn[Bt]=null,Ft[Bt]=Oe.b,Oe.b=Bt}else for(Oe.c[-(Bt+1)]=null;0<Oe.a&&null===Oe.c[Oe.d[Oe.a-1]];)--Oe.a;Y(ze,Et.b.e,Ke)}}else p(Et.b),f(Ke,Et.b.e),Be.b=Oe.b=!0}else{if(C(Ke.b.a,Et.a,Ke.a)<0)return;Vt(Be).b=Be.b=!0,p(Ke.b),f(Et.b.e,Ke)}return 1}function pe(ze,Be){var Oe=an(Be),Ke=Be.a,Et=Oe.a,Bt=Ke.a,Wt=Et.a,dn=Ke.b.a,Ft=Et.b.a,Gt=new Qe;if(C(dn,ze.a,Bt),C(Ft,ze.a,Wt),!(Bt===Wt||Math.min(Bt.a,dn.a)>Math.max(Wt.a,Ft.a))){if(g(Bt,Wt)){if(0<C(Ft,Bt,Wt))return}else if(C(dn,Wt,Bt)<0)return;var en,et,ot=dn,xt=Bt,bt=Ft,At=Wt;if(g(ot,xt)||(en=ot,ot=xt,xt=en),g(bt,At)||(en=bt,bt=At,At=en),g(ot,bt)||(en=ot,ot=bt,bt=en,en=xt,xt=At,At=en),g(bt,xt)?g(xt,At)?((en=y(ot,bt,xt))+(et=y(bt,xt,At))<0&&(en=-en,et=-et),Gt.b=a(en,bt.b,et,xt.b)):((en=C(ot,bt,xt))+(et=-C(ot,At,xt))<0&&(en=-en,et=-et),Gt.b=a(en,bt.b,et,At.b)):Gt.b=(bt.b+xt.b)/2,w(ot,xt)||(en=ot,ot=xt,xt=en),w(bt,At)||(en=bt,bt=At,At=en),w(ot,bt)||(en=ot,ot=bt,bt=en,en=xt,xt=At,At=en),w(bt,xt)?w(xt,At)?((en=s(ot,bt,xt))+(et=s(bt,xt,At))<0&&(en=-en,et=-et),Gt.a=a(en,bt.a,et,xt.a)):((en=l(ot,bt,xt))+(et=-l(ot,At,xt))<0&&(en=-en,et=-et),Gt.a=a(en,bt.a,et,At.a)):Gt.a=(bt.a+xt.a)/2,g(Gt,ze.a)&&(Gt.b=ze.a.b,Gt.a=ze.a.a),ot=g(Bt,Wt)?Bt:Wt,g(ot,Gt)&&(Gt.b=ot.b,Gt.a=ot.a),b(Gt,Bt)||b(Gt,Wt))return Q(ze,Be),0;if(!b(dn,ze.a)&&0<=C(dn,ze.a,Gt)||!b(Ft,ze.a)&&C(Ft,ze.a,Gt)<=0){if(Ft===ze.a)p(Ke.b),f(Et.b,Ke),Ke=an(Be=G(Be)).a,K(ze,an(Be),Oe),ie(ze,Be,Ke.b.e,Ke,Ke,!0);else{if(dn!==ze.a)return 0<=C(dn,ze.a,Gt)&&(Vt(Be).b=Be.b=!0,p(Ke.b),Ke.a.b=ze.a.b,Ke.a.a=ze.a.a),void(C(Ft,ze.a,Gt)<=0&&(Be.b=Oe.b=!0,p(Et.b),Et.a.b=ze.a.b,Et.a.a=ze.a.a));for(p(Et.b),f(Ke.e,Et.b.e),Wt=(Bt=Oe=Be).a.b.a;(Bt=Vt(Bt)).a.b.a===Wt;);Bt=an(Be=Bt).a.b.c,Oe.a=Et.b.e,ie(ze,Be,(Et=K(ze,Oe,null)).c,Ke.b.c,Bt,!0)}return 1}p(Ke.b),p(Et.b),f(Et.b.e,Ke),Ke.a.b=Gt.b,Ke.a.a=Gt.a,Ke.a.h=Tt(ze.e,Ke.a),Et=[0,0,0,0],Gt=[Bt.d,dn.d,Wt.d,Ft.d],(Ke=Ke.a).g[0]=Ke.g[1]=Ke.g[2]=0,R(Ke,Bt,dn,Et,0),R(Ke,Wt,Ft,Et,2),Ae(ze,Ke,Gt,Et,!0),Vt(Be).b=Be.b=Oe.b=!0}}function Se(ze,Be){for(var Oe=an(Be);;){for(;Oe.b;)Oe=an(Be=Oe);if(!(Be.b||null!==(Be=Vt(Oe=Be))&&Be.b))break;Be.b=!1;var Ke=Be.a,Et=Oe.a;if(Bt=Ke.b.a!==Et.b.a)e:{var Bt,Wt=an(Bt=Be),dn=Bt.a,Ft=Wt.a,Gt=void 0;if(g(dn.b.a,Ft.b.a)){if(C(dn.b.a,Ft.b.a,dn.a)<0){Bt=!1;break e}Vt(Bt).b=Bt.b=!0,Gt=p(dn),f(Ft.b,Gt),Gt.d.c=Bt.d}else{if(0<C(Ft.b.a,dn.b.a,Ft.a)){Bt=!1;break e}Bt.b=Wt.b=!0,Gt=p(Ft),f(dn.e,Ft.b),Gt.b.d.c=Bt.d}Bt=!0}if(Bt&&(Oe.c?(te(Oe),u(Et),Et=(Oe=an(Be)).a):Be.c&&(te(Be),u(Ke),Ke=(Be=Vt(Oe)).a)),Ke.a!==Et.a)if(Ke.b.a===Et.b.a||Be.c||Oe.c||Ke.b.a!==ze.a&&Et.b.a!==ze.a)Q(ze,Be);else if(pe(ze,Be))break;Ke.a===Et.a&&Ke.b.a===Et.b.a&&(z(Et,Ke),te(Be),u(Ke),Be=Vt(Oe))}}function Ve(ze,Be){var Oe=new It,Ke=d(ze.b);Ke.a.b=4e150,Ke.a.a=Be,Ke.b.a.b=-4e150,Ke.b.a.a=Be,ze.a=Ke.b.a,Oe.a=Ke,Oe.f=0,Oe.d=!1,Oe.c=!1,Oe.h=!0,Oe.b=!1,Ke=pt(Ke=ze.f,Ke.a,Oe),Oe.e=Ke}function qe(ze){this.a=new We,this.b=ze,this.c=k}function pt(ze,Be,Oe){for(;null!==(Be=Be.c).b&&!ze.c(ze.b,Be.b,Oe););return ze=new We(Oe,Be.a,Be),Be.a.c=ze,Be.a=ze}function We(ze,Be,Oe){this.b=ze||null,this.a=Be||this,this.c=Oe||this}function ct(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function dt(ze,Be){if(ze.d!==Be)for(;ze.d!==Be;)if(ze.d<Be)switch(ze.d){case 0:$e(ze,100151),ze.u(null);break;case 1:$e(ze,100152),ze.t()}else switch(ze.d){case 2:$e(ze,100154),ze.v();break;case 1:$e(ze,100153),ze.w()}}function $e(ze,Be){ze.p&&ze.p(Be,ze.c)}function Ze(ze,Be){this.b=ze||this,this.d=Be||this,this.a=null,this.c=!1}function Je(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function at(){this.c=new Qe,this.a=new Ze,this.b=new Je,this.d=new Je,this.b.b=this.d,this.d.b=this.b}function Qe(ze,Be){this.e=ze||this,this.f=Be||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function st(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ut}function Tt(ze,Be){var Oe,Ke,Et;return ze.e?(2*(Ke=++(Oe=ze.b).a)>Oe.f&&(Oe.f*=2,Oe.c=ln(Oe.c,Oe.f+1)),0===Oe.b?Et=Ke:(Et=Oe.b,Oe.b=Oe.c[Oe.b]),Oe.e[Et]=Be,Oe.c[Et]=Ke,Oe.d[Ke]=Et,Oe.h&&hn(Oe,Ke),Et):(Oe=ze.a++,ze.c[Oe]=Be,-(Oe+1))}function on(ze){if(0===ze.a)return yn(ze.b);var Be=ze.c[ze.d[ze.a-1]];if(0!==ze.b.a&&g($t(ze.b),Be))return yn(ze.b);for(;--ze.a,0<ze.a&&null===ze.c[ze.d[ze.a-1]];);return Be}function Ut(){this.d=ln([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function ln(ze,Be){for(var Oe=Array(Be),Ke=0;Ke<ze.length;Ke++)Oe[Ke]=ze[Ke];for(;Ke<Be;Ke++)Oe[Ke]=0;return Oe}function $t(ze){return ze.e[ze.d[1]]}function yn(ze){var Be=ze.d,Oe=ze.e,Ke=ze.c,Et=Be[1],Bt=Oe[Et];return 0<ze.a&&(Be[1]=Be[ze.a],Ke[Be[1]]=1,Oe[Et]=null,Ke[Et]=ze.b,ze.b=Et,0<--ze.a&&Yt(ze,1)),Bt}function Yt(ze,Be){for(var Oe=ze.d,Ke=ze.e,Et=ze.c,Bt=Be,Wt=Oe[Bt];;){var dn=Bt<<1,Ft=(dn<ze.a&&g(Ke[Oe[dn+1]],Ke[Oe[dn]])&&(dn+=1),Oe[dn]);if(dn>ze.a||g(Ke[Wt],Ke[Ft])){Et[Oe[Bt]=Wt]=Bt;break}Et[Oe[Bt]=Ft]=Bt,Bt=dn}}function hn(ze,Be){for(var Oe=ze.d,Ke=ze.e,Et=ze.c,Bt=Be,Wt=Oe[Bt];;){var dn=Bt>>1,Ft=Oe[dn];if(0==dn||g(Ke[Ft],Ke[Wt])){Et[Oe[Bt]=Wt]=Bt;break}Et[Oe[Bt]=Ft]=Bt,Bt=dn}}function It(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function an(ze){return ze.e.c.b}function Vt(ze){return ze.e.a.b}(v=ct.prototype).x=function(){dt(this,0)},v.B=function(ze,Be){switch(ze){case 100142:return;case 100140:switch(Be){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=Be)}break;case 100141:return void(this.m=!!Be);default:return void $e(this,100900)}$e(this,100901)},v.y=function(ze){switch(ze){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:$e(this,100900)}return!1},v.A=function(ze,Be,Oe){this.j[0]=ze,this.j[1]=Be,this.j[2]=Oe},v.z=function(ze,Be){var Oe=Be||null;switch(ze){case 100100:case 100106:this.h=Oe;break;case 100104:case 100110:this.l=Oe;break;case 100101:case 100107:this.k=Oe;break;case 100102:case 100108:this.i=Oe;break;case 100103:case 100109:this.p=Oe;break;case 100105:case 100111:this.o=Oe;break;case 100112:this.r=Oe;break;default:$e(this,100900)}},v.C=function(ze,Be){var Oe=!1,Ke=[0,0,0];dt(this,2);for(var Et=0;Et<3;++Et){var Bt=ze[Et];Bt<-1e150&&(Bt=-1e150,Oe=!0),1e150<Bt&&(Bt=1e150,Oe=!0),Ke[Et]=Bt}Oe&&$e(this,100155),null===(Oe=this.q)?f(Oe=d(this.b),Oe.b):(p(Oe),Oe=Oe.e),Oe.a.d=Be,Oe.a.g[0]=Ke[0],Oe.a.g[1]=Ke[1],Oe.a.g[2]=Ke[2],Oe.f=1,Oe.b.f=-1,this.q=Oe},v.u=function(ze){dt(this,0),this.d=1,this.b=new at,this.c=ze},v.t=function(){dt(this,1),this.d=2,this.q=null},v.v=function(){dt(this,2),this.d=1},v.w=function(){dt(this,1),this.d=0;var ze,Be,Bt=!1,Wt=[Oe=this.j[0],Ke=this.j[1],Et=this.j[2]];if(0===Oe&&0===Ke&&0===Et){for(var Ke=[-2e150,-2e150,-2e150],dn=[2e150,2e150,2e150],Et=[],Ft=[],Oe=(Bt=this.b.c).e;Oe!==Bt;Oe=Oe.e)for(var Gt=0;Gt<3;++Gt){var en=Oe.g[Gt];en<dn[Gt]&&(dn[Gt]=en,Ft[Gt]=Oe),en>Ke[Gt]&&(Ke[Gt]=en,Et[Gt]=Oe)}if(Ke[1]-dn[1]>Ke[Oe=0]-dn[0]&&(Oe=1),dn[Oe=Ke[2]-dn[2]>Ke[Oe]-dn[Oe]?2:Oe]>=Ke[Oe])Wt[0]=0,Wt[1]=0,Wt[2]=1;else{for(dn=Ft[Oe],Ft=[Ke=0,0,0],dn=[dn.g[0]-(Et=Et[Oe]).g[0],dn.g[1]-Et.g[1],dn.g[2]-Et.g[2]],Gt=[0,0,0],Oe=Bt.e;Oe!==Bt;Oe=Oe.e)Gt[0]=Oe.g[0]-Et.g[0],Gt[1]=Oe.g[1]-Et.g[1],Gt[2]=Oe.g[2]-Et.g[2],Ft[0]=dn[1]*Gt[2]-dn[2]*Gt[1],Ft[1]=dn[2]*Gt[0]-dn[0]*Gt[2],Ft[2]=dn[0]*Gt[1]-dn[1]*Gt[0],Ke<(en=Ft[0]*Ft[0]+Ft[1]*Ft[1]+Ft[2]*Ft[2])&&(Ke=en,Wt[0]=Ft[0],Wt[1]=Ft[1],Wt[2]=Ft[2]);Ke<=0&&(Wt[0]=Wt[1]=Wt[2]=0,Wt[P(dn)]=1)}Bt=!0}for(Ke=((Ft=P(Wt))+1)%3,Et=(Ft+2)%3,Ft=0<Wt[Ft]?1:-1,Wt=(Oe=this.b.c).e;Wt!==Oe;Wt=Wt.e)Wt.b=Wt.g[Ke],Wt.a=Ft*Wt.g[Et];if(Bt){for(Wt=0,Oe=(Bt=this.b.a).b;Oe!==Bt;Oe=Oe.b)if(!((Ke=Oe.a).f<=0))for(;Wt+=(Ke.a.b-Ke.b.a.b)*(Ke.a.a+Ke.b.a.a),(Ke=Ke.e)!==Oe.a;);if(Wt<0)for(Bt=(Wt=this.b.c).e;Bt!==Wt;Bt=Bt.e)Bt.a=-Bt.a}for(this.n=!1,Oe=(Wt=this.b.b).h;Oe!==Wt;Oe=Bt)Bt=Oe.h,Ke=Oe.e,b(Oe.a,Oe.b.a)&&Oe.e.e!==Oe&&(Y(this,Ke,Oe),u(Oe),Ke=(Oe=Ke).e),Ke.e===Oe&&(Ke!==Oe&&(Ke!==Bt&&Ke!==Bt.b||(Bt=Bt.h),u(Ke)),Oe!==Bt&&Oe!==Bt.b||(Bt=Bt.h),u(Oe));for(this.e=Wt=new st,Oe=(Bt=this.b.c).e;Oe!==Bt;Oe=Oe.e)Oe.h=Tt(Wt,Oe);var et=Wt;et.d=[];for(var ot=0;ot<et.a;ot++)et.d[ot]=ot;et.d.sort(function(At){return function(un,mt){return g(At[un],At[mt])?1:-1}}(et.c)),et.e=!0;for(var xt=et.b,bt=xt.a;1<=bt;--bt)Yt(xt,bt);for(xt.h=!0,this.f=new qe(this),Ve(this,-4e150),Ve(this,4e150);null!==(Wt=on(this.e));){for(;;){e:if(0===(Oe=this.e).a)Bt=$t(Oe.b);else if(Bt=Oe.c[Oe.d[Oe.a-1]],0!==Oe.b.a&&g(Oe=$t(Oe.b),Bt)){Bt=Oe;break e}if(null===Bt||!b(Bt,Wt))break;Bt=on(this.e),Y(this,Wt.c,Bt.c)}!function At(un,mt){for(var St,Jt=(un.a=mt).c;null===Jt.i;)if((Jt=Jt.c)===mt.c){Jt=un;var Nt=mt;(Mn=new It).a=Nt.c.b;for(var In=(nn=Jt.f).a;null!==(In=In.a).b&&!nn.c(nn.b,Mn,In.b););var nn,fn,bn=an(nn=In.b),Mn=nn.a;return In=bn.a,void(0===C(Mn.b.a,Nt,Mn.a)?b((Mn=nn.a).a,Nt)||b(Mn.b.a,Nt)||(p(Mn.b),nn.c&&(u(Mn.c),nn.c=!1),f(Nt.c,Mn),At(Jt,Nt)):(fn=g(In.b.a,Mn.b.a)?nn:bn,bn=void 0,nn.d||fn.c?(bn=fn===nn?c(Nt.c.b,Mn.e):c(In.b.c.b,Nt.c).b,fn.c?ne(fn,bn):((nn=X(Mn=Jt,nn,bn)).f=Vt(nn).f+nn.a.f,nn.d=B(Mn,nn.f)),At(Jt,Nt)):ie(Jt,nn,Nt.c,Nt.c,null,!0)))}nn=(Mn=an(Jt=G(Jt.i))).a,(Mn=K(un,Mn,null)).c===nn?(Mn=(nn=Mn).c,In=an(Jt),St=!1,(bn=Jt.a).b.a!==(fn=In.a).b.a&&pe(un,Jt),b(bn.a,un.a)&&(f(Mn.b.e,bn),Mn=an(Jt=G(Jt)).a,K(un,an(Jt),In),St=!0),b(fn.a,un.a)&&(f(nn,fn.b.e),nn=K(un,In,null),St=!0),St?ie(un,Jt,nn.c,Mn,Mn,!0):(Nt=g(fn.a,bn.a)?fn.b.e:bn,ie(un,Jt,Nt=c(nn.c.b,Nt),Nt.c,Nt.c,!1),Nt.b.i.c=!0,Se(un,Jt))):ie(un,Jt,Mn.c,nn,nn,!0)}(this,Wt)}for(this.a=this.f.a.a.b.a.a,Wt=0;null!==(Bt=this.f.a.a.b);)Bt.h||++Wt,te(Bt);for(this.f=null,(Wt=this.e).b=null,Wt.d=null,this.e=Wt.c=null,Oe=(Wt=this.b).a.b;Oe!==Wt.a;Oe=Bt)Bt=Oe.b,(Oe=Oe.a).e.e===Oe&&(z(Oe.c,Oe),u(Oe));if(!this.n){if(Wt=this.b,this.m)for(Oe=Wt.b.h;Oe!==Wt.b;Oe=Bt)Bt=Oe.h,Oe.b.d.c!==Oe.d.c?Oe.f=Oe.d.c?1:-1:u(Oe);else for(Oe=Wt.a.b;Oe!==Wt.a;Oe=Bt)if(Bt=Oe.b,Oe.c){for(Oe=Oe.a;g(Oe.b.a,Oe.a);Oe=Oe.c.b);for(;g(Oe.a,Oe.b.a);Oe=Oe.e);for(Ke=Oe.c.b,Et=void 0;Oe.e!==Ke;)if(g(Oe.b.a,Ke.a)){for(;Ke.e!==Oe&&(g((Be=Ke.e).b.a,Be.a)||C(Ke.a,Ke.b.a,Ke.e.b.a)<=0);)Ke=(Et=c(Ke.e,Ke)).b;Ke=Ke.c.b}else{for(;Ke.e!==Oe&&(g((ze=Oe.c.b).a,ze.b.a)||0<=C(Oe.b.a,Oe.a,Oe.c.b.a));)Oe=(Et=c(Oe,Oe.c.b)).b;Oe=Oe.e}for(;Ke.e.e!==Oe;)Ke=(Et=c(Ke.e,Ke)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(Bt=(Wt=this.b).a.b;Bt!==Wt.a;Bt=Bt.b)if(Bt.c){for(this.h&&this.h(2,this.c),Oe=Bt.a;this.k&&this.k(Oe.a.d,this.c),(Oe=Oe.e)!==Bt.a;);this.i&&this.i(this.c)}}else{for(Bt=!!this.l,Oe=!1,Ke=-1,Et=(Wt=this.b).a.d;Et!==Wt.a;Et=Et.d)if(Et.c)for(Oe||(this.h&&this.h(4,this.c),Oe=!0),Ft=Et.a;Bt&&Ke!==(dn=Ft.b.d.c?0:1)&&(Ke=dn,this.l&&this.l(!!Ke,this.c)),this.k&&this.k(Ft.a.d,this.c),(Ft=Ft.e)!==Et.a;);Oe&&this.i&&this.i(this.c)}if(this.r){for(Oe=(Wt=this.b).a.b;Oe!==Wt.a;Oe=Bt)if(Bt=Oe.b,!Oe.c){for(Et=(Ke=Oe.a).e,Ft=void 0;Et=(Ft=Et).e,(Ft.d=null)===Ft.b.d&&(Ft.c===Ft?A(Ft.a,null):(Ft.a.c=Ft.c,_(Ft,Ft.b.e)),(dn=Ft.b).c===dn?A(dn.a,null):(dn.a.c=dn.c,_(dn,dn.b.e)),I(Ft)),Ft!==Ke;);Ke=Oe.d,((Oe=Oe.b).d=Ke).b=Oe}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:ct,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},ct.prototype.gluDeleteTess=ct.prototype.x,ct.prototype.gluTessProperty=ct.prototype.B,ct.prototype.gluGetTessProperty=ct.prototype.y,ct.prototype.gluTessNormal=ct.prototype.A,ct.prototype.gluTessCallback=ct.prototype.z,ct.prototype.gluTessVertex=ct.prototype.C,ct.prototype.gluTessBeginPolygon=ct.prototype.u,ct.prototype.gluTessBeginContour=ct.prototype.t,ct.prototype.gluTessEndContour=ct.prototype.v,ct.prototype.gluTessEndPolygon=ct.prototype.w,void 0!==se&&(se.exports=this.libtess)},{}],256:[function(o,se,V){"use strict";function b(g,y,C,w){for(var s=g[y++],l=1<<s,a=1+l,d=1+a,f=s+1,u=(1<<f)-1,p=0,c=0,m=0,_=g[y++],M=new Int32Array(4096),x=null;;){for(;p<16&&0!==_;)c|=g[y++]<<p,p+=8,1===_?_=g[y++]:--_;if(p<f)break;var I=c&u;if(c>>=f,p-=f,I==l)d=1+a,u=(1<<(f=s+1))-1,x=null;else{if(I==a)break;for(var A=I<d?I:x,H=0,P=A;l<P;)P=M[P]>>8,++H;var z=P;if(w<m+H+(A!==I?1:0))return void console.log("Warning, gif stream longer than expected.");C[m++]=z;var k=m+=H;for(A!==I&&(C[m++]=z),P=A;H--;)C[--k]=255&(P=M[P]),P>>=8;null!==x&&d<4096&&(M[d++]=x<<8|z,u+1<=d&&f<12&&(++f,u=u<<1|1)),x=I}}m!==w&&console.log("Warning, gif stream shorter than expected.")}try{V.GifWriter=function v(g,y,C,w){var s=0,l=void 0===(w=void 0===w?{}:w).loop?null:w.loop,a=void 0===w.palette?null:w.palette;if(y<=0||C<=0||65535<y||65535<C)throw new Error("Width/Height invalid.");function d(x){if((x=x.length)<2||256<x||x&x-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return x}g[s++]=71,g[s++]=73,g[s++]=70,g[s++]=56,g[s++]=57,g[s++]=97;var f=0,u=0;if(null!==a){for(var p=d(a);p>>=1;)++f;if(p=1<<f,--f,void 0!==w.background){if(p<=(u=w.background))throw new Error("Background index out of range.");if(0===u)throw new Error("Background index explicitly passed as 0.")}}if(g[s++]=255&y,g[s++]=y>>8&255,g[s++]=255&C,g[s++]=C>>8&255,g[s++]=(null!==a?128:0)|f,g[s++]=u,g[s++]=0,null!==a)for(var c=0,m=a.length;c<m;++c){var _=a[c];g[s++]=_>>16&255,g[s++]=_>>8&255,g[s++]=255&_}if(null!==l){if(l<0||65535<l)throw new Error("Loop count invalid.");g[s++]=33,g[s++]=255,g[s++]=11,g[s++]=78,g[s++]=69,g[s++]=84,g[s++]=83,g[s++]=67,g[s++]=65,g[s++]=80,g[s++]=69,g[s++]=50,g[s++]=46,g[s++]=48,g[s++]=3,g[s++]=1,g[s++]=255&l,g[s++]=l>>8&255,g[s++]=0}var M=!1;this.addFrame=function(x,I,A,H,P,z){if(!0===M&&(--s,M=!1),z=void 0===z?{}:z,x<0||I<0||65535<x||65535<I)throw new Error("x/y invalid.");if(A<=0||H<=0||65535<A||65535<H)throw new Error("Width/Height invalid.");if(P.length<A*H)throw new Error("Not enough pixels for the frame size.");var k=!0,te=z.palette;if(null==te&&(k=!1,te=a),null==te)throw new Error("Must supply either a local or global palette.");for(var G=d(te),ne=0;G>>=1;)++ne;G=1<<ne;var X=void 0===z.delay?0:z.delay,B=void 0===z.disposal?0:z.disposal;if(B<0||3<B)throw new Error("Disposal out of range.");var N=!1,K=0;if(null!=z.transparent&&(N=!0,(K=z.transparent)<0||G<=K))throw new Error("Transparent color index.");if(0===B&&!N&&0===X||(g[s++]=33,g[s++]=249,g[s++]=4,g[s++]=B<<2|(!0===N?1:0),g[s++]=255&X,g[s++]=X>>8&255,g[s++]=K,g[s++]=0),g[s++]=44,g[s++]=255&x,g[s++]=x>>8&255,g[s++]=255&I,g[s++]=I>>8&255,g[s++]=255&A,g[s++]=A>>8&255,g[s++]=255&H,g[s++]=H>>8&255,g[s++]=!0===k?128|ne-1:0,!0===k)for(var ie=0,Ae=te.length;ie<Ae;++ie){var Y=te[ie];g[s++]=Y>>16&255,g[s++]=Y>>8&255,g[s++]=255&Y}return s=function(R,Q,pe,Se){R[Q++]=pe;var Ve=Q++,qe=1<<pe,pt=qe-1,We=1+qe,ct=1+We,dt=pe+1,$e=0,Ze=0;function Je(yn){for(;yn<=$e;)R[Q++]=255&Ze,Ze>>=8,$e-=8,Q===Ve+256&&(R[Ve]=255,Ve=Q++)}function at(yn){Ze|=yn<<$e,$e+=dt,Je(8)}var Qe=Se[0]&pt,st={};at(qe);for(var Tt=1,on=Se.length;Tt<on;++Tt){var Ut=Se[Tt]&pt,ln=Qe<<8|Ut,$t=st[ln];if(void 0===$t){for(Ze|=Qe<<$e,$e+=dt;8<=$e;)R[Q++]=255&Ze,Ze>>=8,$e-=8,Q===Ve+256&&(R[Ve]=255,Ve=Q++);4096===ct?(at(qe),ct=1+We,dt=pe+1,st={}):(1<<dt<=ct&&++dt,st[ln]=ct++),Qe=Ut}else Qe=$t}return at(Qe),at(We),Je(1),Ve+1===Q?R[Ve]=0:(R[Ve]=Q-Ve-1,R[Q++]=0),Q}(g,s,ne<2?2:ne,P)},this.end=function(){return!1===M&&(g[s++]=59,M=!0),s},this.getOutputBuffer=function(){return g},this.setOutputBuffer=function(x){g=x},this.getOutputBufferPosition=function(){return s},this.setOutputBufferPosition=function(x){s=x}},V.GifReader=function(g){var y=0;if(71!==g[y++]||73!==g[y++]||70!==g[y++]||56!==g[y++]||56!=(g[y++]+1&253)||97!==g[y++])throw new Error("Invalid GIF 87a/89a header.");var C=g[y++]|g[y++]<<8,w=g[y++]|g[y++]<<8,s=g[y++],a=(y++,y++,null),d=null,f=(s>>7&&(a=y,y+=3*(d=1<<1+(7&s))),!0),u=[],p=0,c=null,m=0,_=null;for(this.width=C,this.height=w;f&&y<g.length;)switch(g[y++]){case 33:switch(g[y++]){case 255:if(11!==g[y]||78==g[y+1]&&69==g[y+2]&&84==g[y+3]&&83==g[y+4]&&67==g[y+5]&&65==g[y+6]&&80==g[y+7]&&69==g[y+8]&&50==g[y+9]&&46==g[y+10]&&48==g[y+11]&&3==g[y+12]&&1==g[y+13]&&0==g[y+16])y+=14,_=g[y++]|g[y++]<<8,y++;else for(y+=12;;){if(!(0<=(x=g[y++])))throw Error("Invalid block size");if(0===x)break;y+=x}break;case 249:if(4!==g[y++]||0!==g[y+4])throw new Error("Invalid graphics extension block.");var M=g[y++];p=g[y++]|g[y++]<<8,c=g[y++],!(1&M)&&(c=null),m=M>>2&7,y++;break;case 254:for(;;){if(!(0<=(x=g[y++])))throw Error("Invalid block size");if(0===x)break;y+=x}break;default:throw new Error("Unknown graphic control label: 0x"+g[y-1].toString(16))}break;case 44:var x,I=g[y++]|g[y++]<<8,A=g[y++]|g[y++]<<8,H=g[y++]|g[y++]<<8,P=g[y++]|g[y++]<<8,z=(X=g[y++])>>6&1,te=a,ne=d,G=!1,X=(X>>7&&(G=!0,te=y,y+=3*(ne=1<<1+(7&X))),y);for(y++;;){if(!(0<=(x=g[y++])))throw Error("Invalid block size");if(0===x)break;y+=x}u.push({x:I,y:A,width:H,height:P,has_local_palette:G,palette_offset:te,palette_size:ne,data_offset:X,data_length:y-X,transparent_index:c,interlaced:!!z,delay:p,disposal:m});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+g[y-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return _},this.frameInfo=function(B){if(B<0||B>=u.length)throw new Error("Frame index out of range.");return u[B]},this.decodeAndBlitFrameBGRA=function(B,N){for(var K=(B=this.frameInfo(B)).width*B.height,ie=new Uint8Array(K),Ae=(b(g,B.data_offset,ie,K),B.palette_offset),Y=B.transparent_index,R=(null===Y&&(Y=256),B.width),Q=C-R,pe=R,Se=4*(B.y*C+B.x),Ve=4*((B.y+B.height)*C+B.x),qe=Se,pt=4*Q,We=(!0===B.interlaced&&(pt+=4*C*7),8),ct=0,dt=ie.length;ct<dt;++ct){var $e,Ze,Je=ie[ct];0===pe&&(pe=R,Ve<=(qe+=pt)&&(pt=4*Q+4*C*(We-1),qe=Se+(R+Q)*(We<<1),We>>=1)),Je===Y?qe+=4:($e=g[Ae+3*Je],Ze=g[Ae+3*Je+1],N[qe++]=Je=g[Ae+3*Je+2],N[qe++]=Ze,N[qe++]=$e,N[qe++]=255),--pe}},this.decodeAndBlitFrameRGBA=function(B,N){for(var K=(B=this.frameInfo(B)).width*B.height,ie=new Uint8Array(K),Ae=(b(g,B.data_offset,ie,K),B.palette_offset),Y=B.transparent_index,R=(null===Y&&(Y=256),B.width),Q=C-R,pe=R,Se=4*(B.y*C+B.x),Ve=4*((B.y+B.height)*C+B.x),qe=Se,pt=4*Q,We=(!0===B.interlaced&&(pt+=4*C*7),8),ct=0,dt=ie.length;ct<dt;++ct){var $e,Ze,Je=ie[ct];0===pe&&(pe=R,Ve<=(qe+=pt)&&(pt=4*Q+4*C*(We-1),qe=Se+(R+Q)*(We<<1),We>>=1)),Je===Y?qe+=4:($e=g[Ae+3*Je],Ze=g[Ae+3*Je+1],Je=g[Ae+3*Je+2],N[qe++]=$e,N[qe++]=Ze,N[qe++]=Je,N[qe++]=255),--pe}}}}catch{}},{}],257:[function(o,se,V){(function(v){var g;g=function(y){"use strict";function C(fe){if(null==this)throw TypeError();var $,J=String(this),ee=J.length;if(!((fe=(fe=fe?Number(fe):0)!=fe?0:fe)<0||ee<=fe))return 55296<=($=J.charCodeAt(fe))&&$<=56319&&fe+1<ee&&56320<=(ee=J.charCodeAt(fe+1))&&ee<=57343?1024*($-55296)+ee-56320+65536:$}String.prototype.codePointAt||((w=function(){try{var E={},$=Object.defineProperty,J=$(E,E,E)&&$}catch{}return J}())?w(String.prototype,"codePointAt",{value:C,configurable:!0,writable:!0}):String.prototype.codePointAt=C);var w;function a(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function d(E,$){this.source=E,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=$,this.destLen=0,this.ltree=new a,this.dtree=new a}var f=new a,u=new a,p=new Uint8Array(30),c=new Uint16Array(30),m=new Uint8Array(30),_=new Uint16Array(30),M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x=new a,I=new Uint8Array(320);function A(E,$,J,ee){for(var fe,Me=0;Me<J;++Me)E[Me]=0;for(Me=0;Me<30-J;++Me)E[Me+J]=Me/J|0;for(fe=ee,Me=0;Me<30;++Me)$[Me]=fe,fe+=1<<E[Me]}var H=new Uint16Array(16);function P(E,$,J,ee){for(var fe,Me=0;Me<16;++Me)E.table[Me]=0;for(Me=0;Me<ee;++Me)E.table[$[J+Me]]++;for(Me=fe=E.table[0]=0;Me<16;++Me)H[Me]=fe,fe+=E.table[Me];for(Me=0;Me<ee;++Me)$[J+Me]&&(E.trans[H[$[J+Me]]++]=Me)}function z(E,$,J){if(!$)return J;for(;E.bitcount<24;)E.tag|=E.source[E.sourceIndex++]<<E.bitcount,E.bitcount+=8;var ee=E.tag&65535>>>16-$;return E.tag>>>=$,E.bitcount-=$,ee+J}function k(E,$){for(;E.bitcount<24;)E.tag|=E.source[E.sourceIndex++]<<E.bitcount,E.bitcount+=8;for(var J=0,ee=0,fe=0,Me=E.tag;ee=2*ee+(1&Me),Me>>>=1,J+=$.table[++fe],0<=(ee-=$.table[fe]););return E.tag=Me,E.bitcount-=fe,$.trans[J+ee]}function te(E,$,J){for(;;){if(256===(ee=k(E,$)))return 0;if(ee<256)E.dest[E.destLen++]=ee;else for(var fe,Me=z(E,p[ee-=257],c[ee]),ee=k(E,J),ke=fe=E.destLen-z(E,m[ee],_[ee]);ke<fe+Me;++ke)E.dest[E.destLen++]=E.dest[ke]}}for(var ne=f,G=u,X=0;X<7;++X)ne.table[X]=0;for(ne.table[7]=24,ne.table[8]=152,ne.table[9]=112,X=0;X<24;++X)ne.trans[X]=256+X;for(X=0;X<144;++X)ne.trans[24+X]=X;for(X=0;X<8;++X)ne.trans[168+X]=280+X;for(X=0;X<112;++X)ne.trans[176+X]=144+X;for(X=0;X<5;++X)G.table[X]=0;for(G.table[5]=32,X=0;X<32;++X)G.trans[X]=X;A(p,c,4,3),A(m,_,2,1),p[28]=0,c[28]=258;var B=function(E,$){var J,ee,fe,Me=new d(E,$);do{switch(void 0,(ee=Me).bitcount--||(ee.tag=ee.source[ee.sourceIndex++],ee.bitcount=7),fe=1&ee.tag,ee.tag>>>=1,ee=fe,z(Me,2,0)){case 0:J=function(tn){for(var Bn,Ln;8<tn.bitcount;)tn.sourceIndex--,tn.bitcount-=8;if((Bn=256*tn.source[tn.sourceIndex+1]+tn.source[tn.sourceIndex])!==(65535&~(256*tn.source[tn.sourceIndex+3]+tn.source[tn.sourceIndex+2])))return-3;for(tn.sourceIndex+=4,Ln=Bn;Ln;--Ln)tn.dest[tn.destLen++]=tn.source[tn.sourceIndex++];return tn.bitcount=0,0}(Me);break;case 1:J=te(Me,f,u);break;case 2:Lt=Ge=ye=Ht=ke=we=void 0;for(var ke,tt=Me,wt=Me.ltree,_t=Me.dtree,zt=z(tt,5,257),_e=z(tt,5,1),ae=z(tt,4,4),we=0;we<19;++we)I[we]=0;for(we=0;we<ae;++we){var ye=z(tt,3,0);I[M[we]]=ye}for(P(x,I,0,19),ke=0;ke<zt+_e;){var Ge=k(tt,x);switch(Ge){case 16:for(var Lt=I[ke-1],Ht=z(tt,2,3);Ht;--Ht)I[ke++]=Lt;break;case 17:for(Ht=z(tt,3,3);Ht;--Ht)I[ke++]=0;break;case 18:for(Ht=z(tt,7,11);Ht;--Ht)I[ke++]=0;break;default:I[ke++]=Ge}}P(wt,I,0,zt),P(_t,I,zt,_e),J=te(Me,Me.ltree,Me.dtree);break;default:J=-3}if(0!==J)throw new Error("Data error")}while(!ee);return Me.destLen<Me.dest.length?"function"==typeof Me.dest.slice?Me.dest.slice(0,Me.destLen):Me.dest.subarray(0,Me.destLen):Me.dest};function N(E,$,J,ee,fe){return Math.pow(1-fe,3)*E+3*Math.pow(1-fe,2)*fe*$+3*(1-fe)*Math.pow(fe,2)*J+Math.pow(fe,3)*ee}function K(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function ie(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function Ae(E){throw new Error(E)}function Y(E,$){E||Ae($)}K.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},K.prototype.addPoint=function(E,$){"number"==typeof E&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=E,this.x2=E),E<this.x1&&(this.x1=E),E>this.x2&&(this.x2=E)),"number"==typeof $&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=$,this.y2=$),$<this.y1&&(this.y1=$),$>this.y2&&(this.y2=$))},K.prototype.addX=function(E){this.addPoint(E,null)},K.prototype.addY=function(E){this.addPoint(null,E)},K.prototype.addBezier=function(E,$,J,ee,fe,Me,ke,tt){var wt=[E,$],_t=[J,ee],zt=[fe,Me],_e=[ke,tt];this.addPoint(E,$),this.addPoint(ke,tt);for(var ae=0;ae<=1;ae++){var we,ye=6*wt[ae]-12*_t[ae]+6*zt[ae],Ge=-3*wt[ae]+9*_t[ae]-9*zt[ae]+3*_e[ae],Lt=3*_t[ae]-3*wt[ae];0==Ge?0==ye||0<(we=-Lt/ye)&&we<1&&(0===ae&&this.addX(N(wt[ae],_t[ae],zt[ae],_e[ae],we)),1===ae&&this.addY(N(wt[ae],_t[ae],zt[ae],_e[ae],we))):(we=Math.pow(ye,2)-4*Lt*Ge)<0||(0<(Lt=(-ye+Math.sqrt(we))/(2*Ge))&&Lt<1&&(0===ae&&this.addX(N(wt[ae],_t[ae],zt[ae],_e[ae],Lt)),1===ae&&this.addY(N(wt[ae],_t[ae],zt[ae],_e[ae],Lt))),0<(Lt=(-ye-Math.sqrt(we))/(2*Ge))&&Lt<1&&(0===ae&&this.addX(N(wt[ae],_t[ae],zt[ae],_e[ae],Lt)),1===ae&&this.addY(N(wt[ae],_t[ae],zt[ae],_e[ae],Lt))))}},K.prototype.addQuad=function(E,$,J,ee,fe,Me){this.addBezier(E,$,J=E+2/3*(J-E),ee=$+2/3*(ee-$),J+1/3*(fe-E),ee+1/3*(Me-$),fe,Me)},ie.prototype.moveTo=function(E,$){this.commands.push({type:"M",x:E,y:$})},ie.prototype.lineTo=function(E,$){this.commands.push({type:"L",x:E,y:$})},ie.prototype.curveTo=ie.prototype.bezierCurveTo=function(E,$,J,ee,fe,Me){this.commands.push({type:"C",x1:E,y1:$,x2:J,y2:ee,x:fe,y:Me})},ie.prototype.quadTo=ie.prototype.quadraticCurveTo=function(E,$,J,ee){this.commands.push({type:"Q",x1:E,y1:$,x:J,y:ee})},ie.prototype.close=ie.prototype.closePath=function(){this.commands.push({type:"Z"})},ie.prototype.extend=function(E){var $;if(E.commands)E=E.commands;else if(E instanceof K)return this.moveTo(($=E).x1,$.y1),this.lineTo($.x2,$.y1),this.lineTo($.x2,$.y2),this.lineTo($.x1,$.y2),void this.close();Array.prototype.push.apply(this.commands,E)},ie.prototype.getBoundingBox=function(){for(var E=new K,$=0,J=0,ee=0,fe=0,Me=0;Me<this.commands.length;Me++){var ke=this.commands[Me];switch(ke.type){case"M":E.addPoint(ke.x,ke.y),$=ee=ke.x,J=fe=ke.y;break;case"L":E.addPoint(ke.x,ke.y),ee=ke.x,fe=ke.y;break;case"Q":E.addQuad(ee,fe,ke.x1,ke.y1,ke.x,ke.y),ee=ke.x,fe=ke.y;break;case"C":E.addBezier(ee,fe,ke.x1,ke.y1,ke.x2,ke.y2,ke.x,ke.y),ee=ke.x,fe=ke.y;break;case"Z":ee=$,fe=J;break;default:throw new Error("Unexpected path command "+ke.type)}}return E.isEmpty()&&E.addPoint(0,0),E},ie.prototype.draw=function(E){E.beginPath();for(var $=0;$<this.commands.length;$+=1){var J=this.commands[$];"M"===J.type?E.moveTo(J.x,J.y):"L"===J.type?E.lineTo(J.x,J.y):"C"===J.type?E.bezierCurveTo(J.x1,J.y1,J.x2,J.y2,J.x,J.y):"Q"===J.type?E.quadraticCurveTo(J.x1,J.y1,J.x,J.y):"Z"===J.type&&E.closePath()}this.fill&&(E.fillStyle=this.fill,E.fill()),this.stroke&&(E.strokeStyle=this.stroke,E.lineWidth=this.strokeWidth,E.stroke())},ie.prototype.toPathData=function(E){function $(){for(var Me=arguments,ke="",tt=0;tt<arguments.length;tt+=1){var wt=Me[tt];0<=wt&&0<tt&&(ke+=" "),ke+=Math.round(wt)===wt?""+Math.round(wt):wt.toFixed(E)}return ke}E=void 0!==E?E:2;for(var J="",ee=0;ee<this.commands.length;ee+=1){var fe=this.commands[ee];"M"===fe.type?J+="M"+$(fe.x,fe.y):"L"===fe.type?J+="L"+$(fe.x,fe.y):"C"===fe.type?J+="C"+$(fe.x1,fe.y1,fe.x2,fe.y2,fe.x,fe.y):"Q"===fe.type?J+="Q"+$(fe.x1,fe.y1,fe.x,fe.y):"Z"===fe.type&&(J+="Z")}return J},ie.prototype.toSVG=function(E){var $=($='<path d="')+this.toPathData(E)+'"';return this.fill&&"black"!==this.fill&&($+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&($+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),$+"/>"},ie.prototype.toDOMElement=function($){$=this.toPathData($);var J=document.createElementNS("http://www.w3.org/2000/svg","path");return J.setAttribute("d",$),J};var R={fail:Ae,argument:Y,assert:Y},Q={},pe={},Se={};function Ve(E){return function(){return E}}pe.BYTE=function(E){return R.argument(0<=E&&E<=255,"Byte value should be between 0 and 255."),[E]},Se.BYTE=Ve(1),pe.CHAR=function(E){return[E.charCodeAt(0)]},Se.CHAR=Ve(1),pe.CHARARRAY=function(E){for(var $=[],J=0;J<E.length;J+=1)$[J]=E.charCodeAt(J);return $},Se.CHARARRAY=function(E){return E.length},pe.USHORT=function(E){return[E>>8&255,255&E]},Se.USHORT=Ve(2),pe.SHORT=function(E){return[(E=32768<=E?-(65536-E):E)>>8&255,255&E]},Se.SHORT=Ve(2),pe.UINT24=function(E){return[E>>16&255,E>>8&255,255&E]},Se.UINT24=Ve(3),pe.ULONG=function(E){return[E>>24&255,E>>16&255,E>>8&255,255&E]},Se.ULONG=Ve(4),pe.LONG=function(E){return[(E=2147483648<=E?-(4294967296-E):E)>>24&255,E>>16&255,E>>8&255,255&E]},Se.LONG=Ve(4),pe.FIXED=pe.ULONG,Se.FIXED=Se.ULONG,pe.FWORD=pe.SHORT,Se.FWORD=Se.SHORT,pe.UFWORD=pe.USHORT,Se.UFWORD=Se.USHORT,pe.LONGDATETIME=function(E){return[0,0,0,0,E>>24&255,E>>16&255,E>>8&255,255&E]},Se.LONGDATETIME=Ve(8),pe.TAG=function(E){return R.argument(4===E.length,"Tag should be exactly 4 ASCII characters."),[E.charCodeAt(0),E.charCodeAt(1),E.charCodeAt(2),E.charCodeAt(3)]},Se.TAG=Ve(4),pe.Card8=pe.BYTE,Se.Card8=Se.BYTE,pe.Card16=pe.USHORT,Se.Card16=Se.USHORT,pe.OffSize=pe.BYTE,Se.OffSize=Se.BYTE,pe.SID=pe.USHORT,Se.SID=Se.USHORT,pe.NUMBER=function(E){return-107<=E&&E<=107?[E+139]:108<=E&&E<=1131?[247+((E-=108)>>8),255&E]:-1131<=E&&E<=-108?[251+((E=-E-108)>>8),255&E]:-32768<=E&&E<=32767?pe.NUMBER16(E):pe.NUMBER32(E)},Se.NUMBER=function(E){return pe.NUMBER(E).length},pe.NUMBER16=function(E){return[28,E>>8&255,255&E]},Se.NUMBER16=Ve(3),pe.NUMBER32=function(E){return[29,E>>24&255,E>>16&255,E>>8&255,255&E]},Se.NUMBER32=Ve(5),pe.REAL=function(E){for(var $=E.toString(),J=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec($),ee=(J&&(J=parseFloat("1e"+((J[2]?+J[2]:0)+J[1].length)),$=(Math.round(E*J)/J).toString()),""),fe=0,Me=$.length;fe<Me;fe+=1){var ke=$[fe];ee+="e"===ke?"-"===$[++fe]?"c":"b":"."===ke?"a":"-"===ke?"e":ke}for(var tt=[30],wt=0,_t=(ee+=1&ee.length?"f":"ff").length;wt<_t;wt+=2)tt.push(parseInt(ee.substr(wt,2),16));return tt},Se.REAL=function(E){return pe.REAL(E).length},pe.NAME=pe.CHARARRAY,Se.NAME=Se.CHARARRAY,pe.STRING=pe.CHARARRAY,Se.STRING=Se.CHARARRAY,Q.UTF8=function(E,$,J){for(var ee=[],fe=J,Me=0;Me<fe;Me++,$+=1)ee[Me]=E.getUint8($);return String.fromCharCode.apply(null,ee)},Q.UTF16=function(E,$,J){for(var ee=[],fe=J/2,Me=0;Me<fe;Me++,$+=2)ee[Me]=E.getUint16($);return String.fromCharCode.apply(null,ee)},pe.UTF16=function(E){for(var $=[],J=0;J<E.length;J+=1){var ee=E.charCodeAt(J);$[$.length]=ee>>8&255,$[$.length]=255&ee}return $},Se.UTF16=function(E){return 2*E.length};var qe,pt={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"},We=(Q.MACSTRING=function(E,$,J,ee){var fe=pt[ee];if(void 0!==fe){for(var Me="",ke=0;ke<J;ke++){var tt=E.getUint8($+ke);Me+=tt<=127?String.fromCharCode(tt):fe[127&tt]}return Me}},"function"==typeof WeakMap&&new WeakMap);function ct(E){return-128<=E&&E<=127}pe.MACSTRING=function(E,$){var J=function(ke){if(!qe)for(var tt in qe={},pt)qe[tt]=new String(tt);var wt=qe[ke];if(void 0!==wt){if(We){var _t=We.get(wt);if(void 0!==_t)return _t}var zt=pt[ke];if(void 0!==zt){for(var _e={},ae=0;ae<zt.length;ae++)_e[zt.charCodeAt(ae)]=ae+128;return We&&We.set(wt,_e),_e}}}($);if(void 0!==J){for(var ee=[],fe=0;fe<E.length;fe++){var Me=E.charCodeAt(fe);if(128<=Me&&void 0===(Me=J[Me]))return;ee[fe]=Me}return ee}},Se.MACSTRING=function(E,$){return void 0!==(E=pe.MACSTRING(E,$))?E.length:0},pe.VARDELTAS=function(E){for(var ee=0,$=[];ee<E.length;){var J=E[ee];ee=(0===J?function(fe,Me,ke){for(var tt=0,wt=fe.length;Me<wt&&tt<64&&0===fe[Me];)++Me,++tt;return ke.push(128|tt-1),Me}:-128<=J&&J<=127?function(fe,Me,ke){for(var tt=0,wt=fe.length,_t=Me;_t<wt&&tt<64;){var zt=fe[_t];if(!ct(zt)||0===zt&&_t+1<wt&&0===fe[_t+1])break;++_t,++tt}ke.push(tt-1);for(var _e=Me;_e<_t;++_e)ke.push(fe[_e]+256&255);return _t}:function(fe,Me,ke){for(var tt=0,wt=fe.length,_t=Me;_t<wt&&tt<64;){var zt=fe[_t];if(0===zt||ct(zt)&&_t+1<wt&&ct(fe[_t+1]))break;++_t,++tt}ke.push(64|tt-1);for(var _e=Me;_e<_t;++_e){var ae=fe[_e];ke.push(ae+65536>>8&255,ae+256&255)}return _t})(E,ee,$)}return $},pe.INDEX=function(E){for(var $=1,J=[$],ee=[],fe=0;fe<E.length;fe+=1){var Me=pe.OBJECT(E[fe]);Array.prototype.push.apply(ee,Me),J.push($+=Me.length)}if(0===ee.length)return[0,0];for(var ke=[],tt=1+Math.floor(Math.log($)/Math.log(2))/8|0,wt=[void 0,pe.BYTE,pe.USHORT,pe.UINT24,pe.ULONG][tt],_t=0;_t<J.length;_t+=1){var zt=wt(J[_t]);Array.prototype.push.apply(ke,zt)}return Array.prototype.concat(pe.Card16(E.length),pe.OffSize(tt),ke,ee)},Se.INDEX=function(E){return pe.INDEX(E).length},pe.DICT=function(E){for(var $=[],J=Object.keys(E),ee=J.length,fe=0;fe<ee;fe+=1){var Me=parseInt(J[fe],0),ke=E[Me];$=($=$.concat(pe.OPERAND(ke.value,ke.type))).concat(pe.OPERATOR(Me))}return $},Se.DICT=function(E){return pe.DICT(E).length},pe.OPERATOR=function(E){return E<1200?[E]:[12,E-1200]},pe.OPERAND=function(E,$){var J=[];if(Array.isArray($))for(var ee=0;ee<$.length;ee+=1)R.argument(E.length===$.length,"Not enough arguments given for type"+$),J=J.concat(pe.OPERAND(E[ee],$[ee]));else if("SID"===$)J=J.concat(pe.NUMBER(E));else if("offset"===$)J=J.concat(pe.NUMBER32(E));else if("number"===$)J=J.concat(pe.NUMBER(E));else{if("real"!==$)throw new Error("Unknown operand type "+$);J=J.concat(pe.REAL(E))}return J},pe.OP=pe.BYTE,Se.OP=Se.BYTE;var dt="function"==typeof WeakMap&&new WeakMap;function $e(E,$,J){for(var ee=0;ee<$.length;ee+=1){var fe=$[ee];this[fe.name]=fe.value}if(this.tableName=E,this.fields=$,J)for(var Me=Object.keys(J),ke=0;ke<Me.length;ke+=1){var tt=Me[ke];void 0!==this[tt]&&(this[tt]=J[tt])}}function Ze(E,$,J){void 0===J&&(J=$.length);var ee=new Array($.length+1);ee[0]={name:E+"Count",type:"USHORT",value:J};for(var fe=0;fe<$.length;fe++)ee[fe+1]={name:E+fe,type:"USHORT",value:$[fe]};return ee}function Je(E,$,J){var ee=$.length,fe=new Array(ee+1);fe[0]={name:E+"Count",type:"USHORT",value:ee};for(var Me=0;Me<ee;Me++)fe[Me+1]={name:E+Me,type:"TABLE",value:J($[Me],Me)};return fe}function at(E,$,J){var ee=$.length,fe=[];fe[0]={name:E+"Count",type:"USHORT",value:ee};for(var Me=0;Me<ee;Me++)fe=fe.concat(J($[Me],Me));return fe}function Qe(E){1===E.format?$e.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Ze("glyph",E.glyphs))):R.assert(!1,"Can't create coverage table format 2 yet.")}function st(E){$e.call(this,"scriptListTable",at("scriptRecord",E,function($,J){var ee=$.script,fe=ee.defaultLangSys;return R.assert(!!fe,"Unable to write GSUB: script "+$.tag+" has no default language system."),[{name:"scriptTag"+J,type:"TAG",value:$.tag},{name:"script"+J,type:"TABLE",value:new $e("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new $e("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:fe.reqFeatureIndex}].concat(Ze("featureIndex",fe.featureIndexes)))}].concat(at("langSys",ee.langSysRecords,function(Me,ke){var tt=Me.langSys;return[{name:"langSysTag"+ke,type:"TAG",value:Me.tag},{name:"langSys"+ke,type:"TABLE",value:new $e("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:tt.reqFeatureIndex}].concat(Ze("featureIndex",tt.featureIndexes)))}]})))}]}))}function Tt(E){$e.call(this,"featureListTable",at("featureRecord",E,function($,J){var ee=$.feature;return[{name:"featureTag"+J,type:"TAG",value:$.tag},{name:"feature"+J,type:"TABLE",value:new $e("featureTable",[{name:"featureParams",type:"USHORT",value:ee.featureParams}].concat(Ze("lookupListIndex",ee.lookupListIndexes)))}]}))}function on(E,$){$e.call(this,"lookupListTable",Je("lookup",E,function(J){var ee=$[J.lookupType];return R.assert(!!ee,"Unable to write GSUB lookup type "+J.lookupType+" tables."),new $e("lookupTable",[{name:"lookupType",type:"USHORT",value:J.lookupType},{name:"lookupFlag",type:"USHORT",value:J.lookupFlag}].concat(Je("subtable",J.subtables,ee)))}))}pe.CHARSTRING=function(E){if(dt){var $=dt.get(E);if(void 0!==$)return $}for(var Me=[],J=E.length,ee=0;ee<J;ee+=1){var fe=E[ee];Me=Me.concat(pe[fe.type](fe.value))}return dt&&dt.set(E,Me),Me},Se.CHARSTRING=function(E){return pe.CHARSTRING(E).length},pe.OBJECT=function(E){var $=pe[E.type];return R.argument(void 0!==$,"No encoding function for type "+E.type),$(E.value)},Se.OBJECT=function(E){var $=Se[E.type];return R.argument(void 0!==$,"No sizeOf function for type "+E.type),$(E.value)},pe.TABLE=function(E){for(var $=[],J=E.fields.length,ee=[],fe=[],Me=0;Me<J;Me+=1){var ke=E.fields[Me],tt=(R.argument(void 0!==(wt=pe[ke.type]),"No encoding function for field type "+ke.type+" ("+ke.name+")"),E[ke.name]),wt=wt(tt=void 0===tt?ke.value:tt);"TABLE"===ke.type?(fe.push($.length),$=$.concat([0,0]),ee.push(wt)):$=$.concat(wt)}for(var _t=0;_t<ee.length;_t+=1){var zt=fe[_t],_e=$.length;R.argument(_e<65536,"Table "+E.tableName+" too big."),$[zt]=_e>>8,$[zt+1]=255&_e,$=$.concat(ee[_t])}return $},Se.TABLE=function(E){for(var $=0,J=E.fields.length,ee=0;ee<J;ee+=1){var fe=E.fields[ee],Me=Se[fe.type],ke=(R.argument(void 0!==Me,"No sizeOf function for field type "+fe.type+" ("+fe.name+")"),E[fe.name]);$+=Me(ke=void 0===ke?fe.value:ke),"TABLE"===fe.type&&($+=2)}return $},pe.RECORD=pe.TABLE,Se.RECORD=Se.TABLE,pe.LITERAL=function(E){return E},Se.LITERAL=function(E){return E.length},$e.prototype.encode=function(){return pe.TABLE(this)},$e.prototype.sizeOf=function(){return Se.TABLE(this)};var Ut={Table:$e,Record:$e,Coverage:(Qe.prototype=Object.create($e.prototype)).constructor=Qe,ScriptList:(st.prototype=Object.create($e.prototype)).constructor=st,FeatureList:(Tt.prototype=Object.create($e.prototype)).constructor=Tt,LookupList:(on.prototype=Object.create($e.prototype)).constructor=on,ushortList:Ze,tableList:Je,recordList:at};function ln(E,$){return E.getUint8($)}function $t(E,$){return E.getUint16($,!1)}function yn(E,$){return E.getUint32($,!1)}function Yt(E,$){return E.getInt16($,!1)+E.getUint16($+2,!1)/65535}var hn={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function It(E,$){this.data=E,this.offset=$,this.relativeOffset=0}It.prototype.parseByte=function(){var E=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,E},It.prototype.parseChar=function(){var E=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,E},It.prototype.parseCard8=It.prototype.parseByte,It.prototype.parseCard16=It.prototype.parseUShort=function(){var E=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,E},It.prototype.parseSID=It.prototype.parseUShort,It.prototype.parseOffset16=It.prototype.parseUShort,It.prototype.parseShort=function(){var E=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,E},It.prototype.parseF2Dot14=function(){var E=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,E},It.prototype.parseOffset32=It.prototype.parseULong=function(){var E=yn(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,E},It.prototype.parseFixed=function(){var E=Yt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,E},It.prototype.parseString=function(E){var $=this.data,J=this.offset+this.relativeOffset,ee="";this.relativeOffset+=E;for(var fe=0;fe<E;fe++)ee+=String.fromCharCode($.getUint8(J+fe));return ee},It.prototype.parseTag=function(){return this.parseString(4)},It.prototype.parseLongDateTime=function(){var E=yn(this.data,this.offset+this.relativeOffset+4);return E-=2082844800,this.relativeOffset+=8,E},It.prototype.parseVersion=function(E){var $=$t(this.data,this.offset+this.relativeOffset),J=$t(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,$+J/(E=void 0===E?4096:E)/10},It.prototype.skip=function(E,$){this.relativeOffset+=hn[E]*($=void 0===$?1:$)},It.prototype.parseULongList=function(E){void 0===E&&(E=this.parseULong());for(var $=new Array(E),J=this.data,ee=this.offset+this.relativeOffset,fe=0;fe<E;fe++)$[fe]=J.getUint32(ee),ee+=4;return this.relativeOffset+=4*E,$},It.prototype.parseOffset16List=It.prototype.parseUShortList=function(E){void 0===E&&(E=this.parseUShort());for(var $=new Array(E),J=this.data,ee=this.offset+this.relativeOffset,fe=0;fe<E;fe++)$[fe]=J.getUint16(ee),ee+=2;return this.relativeOffset+=2*E,$},It.prototype.parseShortList=function(E){for(var $=new Array(E),J=this.data,ee=this.offset+this.relativeOffset,fe=0;fe<E;fe++)$[fe]=J.getInt16(ee),ee+=2;return this.relativeOffset+=2*E,$},It.prototype.parseByteList=function(E){for(var $=new Array(E),J=this.data,ee=this.offset+this.relativeOffset,fe=0;fe<E;fe++)$[fe]=J.getUint8(ee++);return this.relativeOffset+=E,$},It.prototype.parseList=function(E,$){$||($=E,E=this.parseUShort());for(var J=new Array(E),ee=0;ee<E;ee++)J[ee]=$.call(this);return J},It.prototype.parseList32=function(E,$){$||($=E,E=this.parseULong());for(var J=new Array(E),ee=0;ee<E;ee++)J[ee]=$.call(this);return J},It.prototype.parseRecordList=function(E,$){$||($=E,E=this.parseUShort());for(var J=new Array(E),ee=Object.keys($),fe=0;fe<E;fe++){for(var Me={},ke=0;ke<ee.length;ke++){var tt=ee[ke];Me[tt]=$[tt].call(this)}J[fe]=Me}return J},It.prototype.parseRecordList32=function(E,$){$||($=E,E=this.parseULong());for(var J=new Array(E),ee=Object.keys($),fe=0;fe<E;fe++){for(var Me={},ke=0;ke<ee.length;ke++){var tt=ee[ke];Me[tt]=$[tt].call(this)}J[fe]=Me}return J},It.prototype.parseStruct=function(E){if("function"==typeof E)return E.call(this);for(var $=Object.keys(E),J={},ee=0;ee<$.length;ee++){var fe=$[ee];J[fe]=E[fe].call(this)}return J},It.prototype.parseValueRecord=function(E){var $;if(0!==(E=void 0===E?this.parseUShort():E))return $={},1&E&&($.xPlacement=this.parseShort()),2&E&&($.yPlacement=this.parseShort()),4&E&&($.xAdvance=this.parseShort()),8&E&&($.yAdvance=this.parseShort()),16&E&&($.xPlaDevice=void 0,this.parseShort()),32&E&&($.yPlaDevice=void 0,this.parseShort()),64&E&&($.xAdvDevice=void 0,this.parseShort()),128&E&&($.yAdvDevice=void 0,this.parseShort()),$},It.prototype.parseValueRecordList=function(){for(var E=this.parseUShort(),$=this.parseUShort(),J=new Array($),ee=0;ee<$;ee++)J[ee]=this.parseValueRecord(E);return J},It.prototype.parsePointer=function(E){var $=this.parseOffset16();if(0<$)return new It(this.data,this.offset+$).parseStruct(E)},It.prototype.parsePointer32=function(E){var $=this.parseOffset32();if(0<$)return new It(this.data,this.offset+$).parseStruct(E)},It.prototype.parseListOfLists=function(E){for(var $=this.parseOffset16List(),J=$.length,ee=this.relativeOffset,fe=new Array(J),Me=0;Me<J;Me++){var ke=$[Me];if(0===ke)fe[Me]=void 0;else if(this.relativeOffset=ke,E){for(var tt=this.parseOffset16List(),wt=new Array(tt.length),_t=0;_t<tt.length;_t++)this.relativeOffset=ke+tt[_t],wt[_t]=E.call(this);fe[Me]=wt}else fe[Me]=this.parseUShortList()}return this.relativeOffset=ee,fe},It.prototype.parseCoverage=function(){var E=this.offset+this.relativeOffset,$=this.parseUShort(),J=this.parseUShort();if(1===$)return{format:1,glyphs:this.parseUShortList(J)};if(2!==$)throw new Error("0x"+E.toString(16)+": Coverage format must be 1 or 2.");for(var ee=new Array(J),fe=0;fe<J;fe++)ee[fe]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:ee}},It.prototype.parseClassDef=function(){var E=this.offset+this.relativeOffset,$=this.parseUShort();if(1===$)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===$)return{format:2,ranges:this.parseRecordList({start:It.uShort,end:It.uShort,classId:It.uShort})};throw new Error("0x"+E.toString(16)+": ClassDef format must be 1 or 2.")},It.list=function(E,$){return function(){return this.parseList(E,$)}},It.list32=function(E,$){return function(){return this.parseList32(E,$)}},It.recordList=function(E,$){return function(){return this.parseRecordList(E,$)}},It.recordList32=function(E,$){return function(){return this.parseRecordList32(E,$)}},It.pointer=function(E){return function(){return this.parsePointer(E)}},It.pointer32=function(E){return function(){return this.parsePointer32(E)}},It.tag=It.prototype.parseTag,It.byte=It.prototype.parseByte,It.uShort=It.offset16=It.prototype.parseUShort,It.uShortList=It.prototype.parseUShortList,It.uLong=It.offset32=It.prototype.parseULong,It.uLongList=It.prototype.parseULongList,It.struct=It.prototype.parseStruct,It.coverage=It.prototype.parseCoverage,It.classDef=It.prototype.parseClassDef;var an={reserved:It.uShort,reqFeatureIndex:It.uShort,featureIndexes:It.uShortList},Vt=(It.prototype.parseScriptList=function(){return this.parsePointer(It.recordList({tag:It.tag,script:It.pointer({defaultLangSys:It.pointer(an),langSysRecords:It.recordList({tag:It.tag,langSys:It.pointer(an)})})}))||[]},It.prototype.parseFeatureList=function(){return this.parsePointer(It.recordList({tag:It.tag,feature:It.pointer({featureParams:It.offset16,lookupListIndexes:It.uShortList})}))||[]},It.prototype.parseLookupList=function(E){return this.parsePointer(It.list(It.pointer(function(){var $=this.parseUShort(),J=(R.argument(1<=$&&$<=9,"GPOS/GSUB lookup type "+$+" unknown."),this.parseUShort()),ee=16&J;return{lookupType:$,lookupFlag:J,subtables:this.parseList(It.pointer(E[$])),markFilteringSet:ee?this.parseUShort():void 0}})))||[]},It.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var E=this.parseUShort(),$=this.parseUShort();return R.argument(1===E&&$<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:It.offset32,featureTableSubstitutionOffset:It.offset32})})||[]},{getByte:ln,getCard8:ln,getUShort:$t,getCard16:$t,getShort:function(E,$){return E.getInt16($,!1)},getULong:yn,getFixed:Yt,getTag:function(E,$){for(var J="",ee=$;ee<$+4;ee+=1)J+=String.fromCharCode(E.getInt8(ee));return J},getOffset:function(E,$,J){for(var ee=0,fe=0;fe<J;fe+=1)ee=(ee<<=8)+E.getUint8($+fe);return ee},getBytes:function(E,$,J){for(var ee=[],fe=$;fe<J;fe+=1)ee.push(E.getUint8(fe));return ee},bytesToString:function(E){for(var $="",J=0;J<E.length;J+=1)$+=String.fromCharCode(E[J]);return $},Parser:It}),ze_parse=function(E,$){for(var J={},ee=(J.version=Vt.getUShort(E,$),R.argument(0===J.version,"cmap table version should be 0."),J.numTables=Vt.getUShort(E,$+2),-1),fe=J.numTables-1;0<=fe;--fe){var Me=Vt.getUShort(E,$+4+8*fe),ke=Vt.getUShort(E,$+4+8*fe+2);if(3===Me&&(0===ke||1===ke||10===ke)||0===Me&&(0===ke||1===ke||2===ke||3===ke||4===ke)){ee=Vt.getULong(E,$+4+8*fe+4);break}}if(-1===ee)throw new Error("No valid cmap sub-tables found.");var tt=new Vt.Parser(E,$+ee);if(J.format=tt.parseUShort(),12===J.format){var wt,_t=J,zt=tt;zt.parseUShort(),_t.length=zt.parseULong(),_t.language=zt.parseULong(),_t.groupCount=wt=zt.parseULong(),_t.glyphIndexMap={};for(var _e=0;_e<wt;_e+=1)for(var ae=zt.parseULong(),we=zt.parseULong(),ye=zt.parseULong(),Ge=ae;Ge<=we;Ge+=1)_t.glyphIndexMap[Ge]=ye,ye++}else{if(4!==J.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+J.format+").");var Lt=J,Ht=E,tn=$,Bn=ee;Lt.length=tt.parseUShort(),Lt.language=tt.parseUShort(),Lt.segCount=Ln=tt.parseUShort()>>1,tt.skip("uShort",3),Lt.glyphIndexMap={};for(var Ln,Wn=new Vt.Parser(Ht,tn+Bn+14),Xn=new Vt.Parser(Ht,tn+Bn+16+2*Ln),nr=new Vt.Parser(Ht,tn+Bn+16+4*Ln),vr=new Vt.Parser(Ht,tn+Bn+16+6*Ln),Kr=tn+Bn+16+8*Ln,to=0;to<Ln-1;to+=1)for(var io=void 0,qr=Wn.parseUShort(),fo=Xn.parseUShort(),Tr=nr.parseShort(),Mr=vr.parseUShort(),$n=fo;$n<=qr;$n+=1)0!==Mr?(Kr=(Kr=vr.offset+vr.relativeOffset-2)+Mr+2*($n-fo),0!==(io=Vt.getUShort(Ht,Kr))&&(io=io+Tr&65535)):io=$n+Tr&65535,Lt.glyphIndexMap[$n]=io}return J},ze_make=function(E){for(var $=!0,J=E.length-1;0<J;--J)if(65535<E.get(J).unicode){console.log("Adding CMAP format 12 (needed!)"),$=!1;break}var ee,fe,Me=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:$?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:$?12:20}],ke=(Me=(Me=$?Me:Me.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Ut.Table("cmap",Me));for(ke.segments=[],J=0;J<E.length;J+=1){for(var tt=E.get(J),wt=0;wt<tt.unicodes.length;wt+=1)ke.segments.push({end:ee=tt.unicodes[wt],start:ee,delta:-(ee-(fe=J)),offset:0,glyphIndex:fe});ke.segments=ke.segments.sort(function(tn,Bn){return tn.start-Bn.start})}ke.segments.push({end:65535,start:65535,delta:1,offset:0});var _t=ke.segments.length,zt=0,_e=[],ae=[],we=[],ye=[],Ge=[],Lt=[];for(J=0;J<_t;J+=1){var Ht=ke.segments[J];Ht.end<=65535&&Ht.start<=65535?(_e=_e.concat({name:"end_"+J,type:"USHORT",value:Ht.end}),ae=ae.concat({name:"start_"+J,type:"USHORT",value:Ht.start}),we=we.concat({name:"idDelta_"+J,type:"SHORT",value:Ht.delta}),ye=ye.concat({name:"idRangeOffset_"+J,type:"USHORT",value:Ht.offset}),void 0!==Ht.glyphId&&(Ge=Ge.concat({name:"glyph_"+J,type:"USHORT",value:Ht.glyphId}))):zt+=1,$||void 0===Ht.glyphIndex||(Lt=(Lt=(Lt=Lt.concat({name:"cmap12Start_"+J,type:"ULONG",value:Ht.start})).concat({name:"cmap12End_"+J,type:"ULONG",value:Ht.end})).concat({name:"cmap12Glyph_"+J,type:"ULONG",value:Ht.glyphIndex}))}return ke.segCountX2=2*(_t-zt),ke.searchRange=2*Math.pow(2,Math.floor(Math.log(_t-zt)/Math.log(2))),ke.entrySelector=Math.log(ke.searchRange/2)/Math.log(2),ke.rangeShift=ke.segCountX2-ke.searchRange,ke.fields=ke.fields.concat(_e),ke.fields.push({name:"reservedPad",type:"USHORT",value:0}),ke.fields=ke.fields.concat(ae),ke.fields=ke.fields.concat(we),ke.fields=ke.fields.concat(ye),ke.fields=ke.fields.concat(Ge),ke.cmap4Length=14+2*_e.length+2+2*ae.length+2*we.length+2*ye.length+2*Ge.length,$||(Me=16+4*Lt.length,ke.cmap12Offset=20+ke.cmap4Length,ke.fields=ke.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:Me},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Lt.length/3}]),ke.fields=ke.fields.concat(Lt)),ke},Be=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Oe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Ke=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Et=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Bt(E){this.font=E}function Wt(E){this.cmap=E}function dn(E,$){this.encoding=E,this.charset=$}function Ft(E){switch(E.version){case 1:this.names=Et.slice();break;case 2:this.names=new Array(E.numberOfGlyphs);for(var $=0;$<E.numberOfGlyphs;$++)this.names[$]=E.glyphNameIndex[$]<Et.length?Et[E.glyphNameIndex[$]]:E.names[E.glyphNameIndex[$]-Et.length];break;case 2.5:this.names=new Array(E.numberOfGlyphs);for(var J=0;J<E.numberOfGlyphs;J++)this.names[J]=Et[J+E.glyphNameIndex[J]];break;default:this.names=[]}}Bt.prototype.charToGlyphIndex=function(E){var $=E.codePointAt(0),J=this.font.glyphs;if(J)for(var ee=0;ee<J.length;ee+=1)for(var fe=J.get(ee),Me=0;Me<fe.unicodes.length;Me+=1)if(fe.unicodes[Me]===$)return ee;return null},Wt.prototype.charToGlyphIndex=function(E){return this.cmap.glyphIndexMap[E.codePointAt(0)]||0},dn.prototype.charToGlyphIndex=function(E){return E=E.codePointAt(0),this.charset.indexOf(E=this.encoding[E])},Ft.prototype.nameToGlyphIndex=function(E){return this.names.indexOf(E)},Ft.prototype.glyphIndexToName=function(E){return this.names[E]};var Gt_line=function(E,$,J,ee,fe){E.beginPath(),E.moveTo($,J),E.lineTo(ee,fe),E.stroke()};function en(E){this.bindConstructorValues(E)}function et(E,$,J){Object.defineProperty(E,$,{get:function(){return E[J]},set:function(ee){E[J]=ee},enumerable:!0,configurable:!0})}function ot(E,$){if(this.font=E,this.glyphs={},Array.isArray($))for(var J=0;J<$.length;J++)this.glyphs[J]=$[J];this.length=$&&$.length||0}en.prototype.bindConstructorValues=function(E){var $;this.index=E.index||0,this.name=E.name||null,this.unicode=E.unicode||void 0,this.unicodes=E.unicodes||void 0!==E.unicode?[E.unicode]:[],E.xMin&&(this.xMin=E.xMin),E.yMin&&(this.yMin=E.yMin),E.xMax&&(this.xMax=E.xMax),E.yMax&&(this.yMax=E.yMax),E.advanceWidth&&(this.advanceWidth=E.advanceWidth),Object.defineProperty(this,"path",($=(E=E.path)||new ie,{configurable:!0,get:function(){return $="function"==typeof $?$():$},set:function(J){$=J}}))},en.prototype.addUnicode=function(E){0===this.unicodes.length&&(this.unicode=E),this.unicodes.push(E)},en.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},en.prototype.getPath=function(E,$,J,ee,fe){E=void 0!==E?E:0,$=void 0!==$?$:0,J=void 0!==J?J:72;for(var Me,ke,tt=(ee=ee||{}).xScale,wt=ee.yScale,_t=((Me=ee.hinting&&fe&&fe.hinting?this.path&&fe.hinting.exec(this,J):Me)?(ke=fe.hinting.getCommands(Me),E=Math.round(E),$=Math.round($),tt=wt=1):(ke=this.path.commands,ee=1/this.path.unitsPerEm*J,void 0===tt&&(tt=ee),void 0===wt&&(wt=ee)),new ie),zt=0;zt<ke.length;zt+=1){var _e=ke[zt];"M"===_e.type?_t.moveTo(E+_e.x*tt,$+-_e.y*wt):"L"===_e.type?_t.lineTo(E+_e.x*tt,$+-_e.y*wt):"Q"===_e.type?_t.quadraticCurveTo(E+_e.x1*tt,$+-_e.y1*wt,E+_e.x*tt,$+-_e.y*wt):"C"===_e.type?_t.curveTo(E+_e.x1*tt,$+-_e.y1*wt,E+_e.x2*tt,$+-_e.y2*wt,E+_e.x*tt,$+-_e.y*wt):"Z"===_e.type&&_t.closePath()}return _t},en.prototype.getContours=function(){if(void 0===this.points)return[];for(var E=[],$=[],J=0;J<this.points.length;J+=1){var ee=this.points[J];$.push(ee),ee.lastPointOfContour&&(E.push($),$=[])}return R.argument(0===$.length,"There are still points left in the current contour."),E},en.prototype.getMetrics=function(){for(var E=this.path.commands,$=[],J=[],ee=0;ee<E.length;ee+=1){var fe=E[ee];"Z"!==fe.type&&($.push(fe.x),J.push(fe.y)),"Q"!==fe.type&&"C"!==fe.type||($.push(fe.x1),J.push(fe.y1)),"C"===fe.type&&($.push(fe.x2),J.push(fe.y2))}var Me={xMin:Math.min.apply(null,$),yMin:Math.min.apply(null,J),xMax:Math.max.apply(null,$),yMax:Math.max.apply(null,J),leftSideBearing:this.leftSideBearing};return isFinite(Me.xMin)||(Me.xMin=0),isFinite(Me.xMax)||(Me.xMax=this.advanceWidth),isFinite(Me.yMin)||(Me.yMin=0),isFinite(Me.yMax)||(Me.yMax=0),Me.rightSideBearing=this.advanceWidth-Me.leftSideBearing-(Me.xMax-Me.xMin),Me},en.prototype.draw=function(E,$,J,ee,fe){this.getPath($,J,ee,fe).draw(E)},en.prototype.drawPoints=function(E,$,J,ee){function fe(zt,_e,ae,we){var ye=2*Math.PI;E.beginPath();for(var Ge=0;Ge<zt.length;Ge+=1)E.moveTo(_e+zt[Ge].x*we,ae+zt[Ge].y*we),E.arc(_e+zt[Ge].x*we,ae+zt[Ge].y*we,2,0,ye,!1);E.closePath(),E.fill()}$=void 0!==$?$:0,J=void 0!==J?J:0,ee=1/this.path.unitsPerEm*(ee=void 0!==ee?ee:24);for(var Me=[],ke=[],tt=this.path,wt=0;wt<tt.commands.length;wt+=1){var _t=tt.commands[wt];void 0!==_t.x&&Me.push({x:_t.x,y:-_t.y}),void 0!==_t.x1&&ke.push({x:_t.x1,y:-_t.y1}),void 0!==_t.x2&&ke.push({x:_t.x2,y:-_t.y2})}E.fillStyle="blue",fe(Me,$,J,ee),E.fillStyle="red",fe(ke,$,J,ee)},en.prototype.drawMetrics=function(E,$,J,ee){$=void 0!==$?$:0,J=void 0!==J?J:0,ee=1/this.path.unitsPerEm*(ee=void 0!==ee?ee:24),E.lineWidth=1,E.strokeStyle="black",Gt_line(E,$,-1e4,$,1e4),Gt_line(E,-1e4,J,1e4,J);var fe=this.xMin||0,Me=this.yMin||0,ke=this.xMax||0,tt=this.yMax||0,wt=this.advanceWidth||0;E.strokeStyle="blue",Gt_line(E,$+fe*ee,-1e4,$+fe*ee,1e4),Gt_line(E,$+ke*ee,-1e4,$+ke*ee,1e4),Gt_line(E,-1e4,J+-Me*ee,1e4,J+-Me*ee),Gt_line(E,-1e4,J+-tt*ee,1e4,J+-tt*ee),E.strokeStyle="green",Gt_line(E,$+wt*ee,-1e4,$+wt*ee,1e4)},ot.prototype.get=function(E){return"function"==typeof this.glyphs[E]&&(this.glyphs[E]=this.glyphs[E]()),this.glyphs[E]},ot.prototype.push=function(E,$){this.glyphs[E]=$,this.length++};var xt={GlyphSet:ot,glyphLoader:function(E,$){return new en({index:$,font:E})},ttfGlyphLoader:function(E,$,J,ee,fe,Me){return function(){var ke=new en({index:$,font:E});return ke.path=function(){J(ke,ee,fe);var tt=Me(E.glyphs,ke);return tt.unitsPerEm=E.unitsPerEm,tt},et(ke,"xMin","_xMin"),et(ke,"xMax","_xMax"),et(ke,"yMin","_yMin"),et(ke,"yMax","_yMax"),ke}},cffGlyphLoader:function(E,$,J,ee){return function(){var fe=new en({index:$,font:E});return fe.path=function(){var Me=J(E,fe,ee);return Me.unitsPerEm=E.unitsPerEm,Me},fe}}};function bt(E){return E.length<1240?107:E.length<33900?1131:32768}function At(E,$,J){var ee,fe=[],Me=[],ke=Vt.getCard16(E,$);if(0!==ke){for(var tt=Vt.getByte(E,$+2),wt=$+(ke+1)*tt+2,_t=$+3,zt=0;zt<ke+1;zt+=1)fe.push(Vt.getOffset(E,_t,tt)),_t+=tt;ee=wt+fe[ke]}else ee=$+2;for(var _e=0;_e<fe.length-1;_e+=1){var ae=Vt.getBytes(E,wt+fe[_e],wt+fe[_e+1]);J&&(ae=J(ae)),Me.push(ae)}return{objects:Me,startOffset:$,endOffset:ee}}function un(E,$){if(28===$)return E.parseByte()<<8|E.parseByte();if(29===$)return E.parseByte()<<24|E.parseByte()<<16|E.parseByte()<<8|E.parseByte();if(30===$){for(var J=E,ee="",fe=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Me=(ke=J.parseByte())>>4,ke=15&ke;if(15==Me||(ee+=fe[Me],15==ke))break;ee+=fe[ke]}return parseFloat(ee)}if(32<=$&&$<=246)return $-139;if(247<=$&&$<=250)return 256*($-247)+E.parseByte()+108;if(251<=$&&$<=254)return 256*-($-251)-E.parseByte()-108;throw new Error("Invalid b0 "+$)}function mt(E,$,J){var ee=new Vt.Parser(E,$=void 0!==$?$:0),fe=[],Me=[];for(J=void 0!==J?J:E.length;ee.relativeOffset<J;){var ke=ee.parseByte();ke<=21?(12===ke&&(ke=1200+ee.parseByte()),fe.push([ke,Me]),Me=[]):Me.push(un(ee,ke))}for(var tt=fe,wt={},_t=0;_t<tt.length;_t+=1){var ae,zt=tt[_t][0],_e=tt[_t][1];if(ae=1===_e.length?_e[0]:_e,wt.hasOwnProperty(zt)&&!isNaN(wt[zt]))throw new Error("Object "+wt+" already has key "+zt);wt[zt]=ae}return wt}function St(E,$){return $<=390?Be[$]:E[$-391]}function Jt(E,$,J){for(var ee,fe={},Me=0;Me<$.length;Me+=1){var ke=$[Me];if(Array.isArray(ke.type)){var tt=[];tt.length=ke.type.length;for(var wt=0;wt<ke.type.length;wt++)void 0===(ee=void 0!==E[ke.op]?E[ke.op][wt]:void 0)&&(ee=void 0!==ke.value&&void 0!==ke.value[wt]?ke.value[wt]:null),"SID"===ke.type[wt]&&(ee=St(J,ee)),tt[wt]=ee;fe[ke.name]=tt}else void 0===(ee=E[ke.op])&&(ee=void 0!==ke.value?ke.value:null),"SID"===ke.type&&(ee=St(J,ee)),fe[ke.name]=ee}return fe}var Nt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],nn=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function fn(E,$,J,ee){return Jt(mt(E,$,J),nn,ee)}function bn(E,$,J,ee){for(var fe=[],Me=0;Me<J.length;Me+=1){var ke,tt=((tt=ee,ke=Jt(mt(ke=new DataView(new Uint8Array(J[Me]).buffer),0,ke.byteLength),Nt,tt))._subrs=[],ke._subrsBias=0,ke.private[0]),wt=ke.private[1];0!==tt&&0!==wt&&(tt=fn(E,wt+$,tt,ee),ke._defaultWidthX=tt.defaultWidthX,ke._nominalWidthX=tt.nominalWidthX,0!==tt.subrs&&(wt=At(E,wt+tt.subrs+$),ke._subrs=wt.objects,ke._subrsBias=bt(ke._subrs)),ke._privateDict=tt),fe.push(ke)}return fe}function Mn(E,$,J){var ee,fe,Me,ke,tt,wt,_t,zt,_e,ae=new ie,we=[],ye=0,Ge=!1,Lt=!1,Ht=0,tn=0,Bn=(_e=(E.isCIDFont?(tt=E.tables.cff.topDict._fdSelect[$.index],tt=E.tables.cff.topDict._fdArray[tt],wt=tt._subrs,_t=tt._subrsBias,zt=tt._defaultWidthX,tt):(wt=E.tables.cff.topDict._subrs,_t=E.tables.cff.topDict._subrsBias,zt=E.tables.cff.topDict._defaultWidthX,E.tables.cff.topDict))._nominalWidthX,zt);function Ln(Xn,nr){Lt&&ae.closePath(),ae.moveTo(Xn,nr),Lt=!0}function Wn(){we.length%2==0||Ge||(Bn=we.shift()+_e),ye+=we.length>>1,we.length=0,Ge=!0}return function Xn(nr){for(var vr,Kr,to,io,qr,fo,Tr,Mr,$n,Br,$r,lo,Rr=0;Rr<nr.length;){var uo=nr[Rr];switch(Rr+=1,uo){case 1:case 3:case 18:case 23:Wn();break;case 4:1<we.length&&!Ge&&(Bn=we.shift()+_e,Ge=!0),tn+=we.pop(),Ln(Ht,tn);break;case 5:for(;0<we.length;)Ht+=we.shift(),tn+=we.shift(),ae.lineTo(Ht,tn);break;case 6:for(;0<we.length&&(Ht+=we.shift(),ae.lineTo(Ht,tn),0!==we.length);)tn+=we.shift(),ae.lineTo(Ht,tn);break;case 7:for(;0<we.length&&(tn+=we.shift(),ae.lineTo(Ht,tn),0!==we.length);)Ht+=we.shift(),ae.lineTo(Ht,tn);break;case 8:for(;0<we.length;)ee=Ht+we.shift(),fe=tn+we.shift(),Me=ee+we.shift(),ke=fe+we.shift(),Ht=Me+we.shift(),tn=ke+we.shift(),ae.curveTo(ee,fe,Me,ke,Ht,tn);break;case 10:qr=we.pop()+_t,(fo=wt[qr])&&Xn(fo);break;case 11:return;case 12:switch(uo=nr[Rr],Rr+=1,uo){case 35:ee=Ht+we.shift(),fe=tn+we.shift(),Me=ee+we.shift(),ke=fe+we.shift(),Tr=Me+we.shift(),Mr=ke+we.shift(),$n=Tr+we.shift(),Br=Mr+we.shift(),$r=$n+we.shift(),lo=Br+we.shift(),Ht=$r+we.shift(),tn=lo+we.shift(),we.shift(),ae.curveTo(ee,fe,Me,ke,Tr,Mr),ae.curveTo($n,Br,$r,lo,Ht,tn);break;case 34:ee=Ht+we.shift(),fe=tn,Me=ee+we.shift(),ke=fe+we.shift(),Tr=Me+we.shift(),Mr=ke,$n=Tr+we.shift(),Br=ke,$r=$n+we.shift(),lo=tn,Ht=$r+we.shift(),ae.curveTo(ee,fe,Me,ke,Tr,Mr),ae.curveTo($n,Br,$r,lo,Ht,tn);break;case 36:ee=Ht+we.shift(),fe=tn+we.shift(),Me=ee+we.shift(),ke=fe+we.shift(),Tr=Me+we.shift(),Mr=ke,$n=Tr+we.shift(),Br=ke,$r=$n+we.shift(),lo=Br+we.shift(),Ht=$r+we.shift(),ae.curveTo(ee,fe,Me,ke,Tr,Mr),ae.curveTo($n,Br,$r,lo,Ht,tn);break;case 37:ee=Ht+we.shift(),fe=tn+we.shift(),Me=ee+we.shift(),ke=fe+we.shift(),Tr=Me+we.shift(),Mr=ke+we.shift(),$n=Tr+we.shift(),Br=Mr+we.shift(),$r=$n+we.shift(),lo=Br+we.shift(),Math.abs($r-Ht)>Math.abs(lo-tn)?Ht=$r+we.shift():tn=lo+we.shift(),ae.curveTo(ee,fe,Me,ke,Tr,Mr),ae.curveTo($n,Br,$r,lo,Ht,tn);break;default:console.log("Glyph "+$.index+": unknown operator 1200"+uo),we.length=0}break;case 14:0<we.length&&!Ge&&(Bn=we.shift()+_e,Ge=!0),Lt&&(ae.closePath(),Lt=!1);break;case 19:case 20:Wn(),Rr+=ye+7>>3;break;case 21:2<we.length&&!Ge&&(Bn=we.shift()+_e,Ge=!0),tn+=we.pop(),Ln(Ht+=we.pop(),tn);break;case 22:1<we.length&&!Ge&&(Bn=we.shift()+_e,Ge=!0),Ln(Ht+=we.pop(),tn);break;case 24:for(;2<we.length;)ee=Ht+we.shift(),fe=tn+we.shift(),Me=ee+we.shift(),ke=fe+we.shift(),Ht=Me+we.shift(),tn=ke+we.shift(),ae.curveTo(ee,fe,Me,ke,Ht,tn);Ht+=we.shift(),tn+=we.shift(),ae.lineTo(Ht,tn);break;case 25:for(;6<we.length;)Ht+=we.shift(),tn+=we.shift(),ae.lineTo(Ht,tn);ee=Ht+we.shift(),fe=tn+we.shift(),Me=ee+we.shift(),ke=fe+we.shift(),Ht=Me+we.shift(),tn=ke+we.shift(),ae.curveTo(ee,fe,Me,ke,Ht,tn);break;case 26:for(we.length%2&&(Ht+=we.shift());0<we.length;)ee=Ht,fe=tn+we.shift(),Me=ee+we.shift(),ke=fe+we.shift(),Ht=Me,tn=ke+we.shift(),ae.curveTo(ee,fe,Me,ke,Ht,tn);break;case 27:for(we.length%2&&(tn+=we.shift());0<we.length;)ee=Ht+we.shift(),fe=tn,Me=ee+we.shift(),ke=fe+we.shift(),Ht=Me+we.shift(),ae.curveTo(ee,fe,Me,ke,Ht,tn=ke);break;case 28:we.push(((vr=nr[Rr])<<24|(Kr=nr[Rr+1])<<16)>>16),Rr+=2;break;case 29:qr=we.pop()+E.gsubrsBias,(fo=E.gsubrs[qr])&&Xn(fo);break;case 30:for(;0<we.length&&(ee=Ht,fe=tn+we.shift(),Me=ee+we.shift(),ke=fe+we.shift(),Ht=Me+we.shift(),tn=ke+(1===we.length?we.shift():0),ae.curveTo(ee,fe,Me,ke,Ht,tn),0!==we.length);)ee=Ht+we.shift(),fe=tn,Me=ee+we.shift(),ke=fe+we.shift(),tn=ke+we.shift(),Ht=Me+(1===we.length?we.shift():0),ae.curveTo(ee,fe,Me,ke,Ht,tn);break;case 31:for(;0<we.length&&(ee=Ht+we.shift(),fe=tn,Me=ee+we.shift(),ke=fe+we.shift(),tn=ke+we.shift(),Ht=Me+(1===we.length?we.shift():0),ae.curveTo(ee,fe,Me,ke,Ht,tn),0!==we.length);)ee=Ht,fe=tn+we.shift(),Me=ee+we.shift(),ke=fe+we.shift(),Ht=Me+we.shift(),tn=ke+(1===we.length?we.shift():0),ae.curveTo(ee,fe,Me,ke,Ht,tn);break;default:uo<32?console.log("Glyph "+$.index+": unknown operator "+uo):uo<247?we.push(uo-139):uo<251?(vr=nr[Rr],Rr+=1,we.push(256*(uo-247)+vr+108)):uo<255?(vr=nr[Rr],Rr+=1,we.push(256*-(uo-251)-vr-108)):(vr=nr[Rr],Kr=nr[Rr+1],to=nr[Rr+2],io=nr[Rr+3],Rr+=4,we.push((vr<<24|Kr<<16|to<<8|io)/65536))}}}(J),$.advanceWidth=Bn,ae}function In(E,$){var J,ee=Be.indexOf(E);return 0<=ee&&(J=ee),0<=(ee=$.indexOf(E))?J=ee+Be.length:(J=Be.length+$.length,$.push(E)),J}function An(E,$,J){for(var ee={},fe=0;fe<E.length;fe+=1){var Me=E[fe],ke=$[Me.name];void 0===ke||function tt(wt,_t){if(wt===_t)return 1;if(Array.isArray(wt)&&Array.isArray(_t)&&wt.length===_t.length){for(var zt=0;zt<wt.length;zt+=1)if(!tt(wt[zt],_t[zt]))return;return 1}}(ke,Me.value)||("SID"===Me.type&&(ke=In(ke,J)),ee[Me.op]={name:Me.name,type:Me.type,value:ke})}return ee}function Vn(E,$){var J=new Ut.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return J.dict=An(Nt,E,$),J}function q(E){var $=new Ut.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return $.topDicts=[{name:"topDict_0",type:"TABLE",value:E}],$}var je_parse=function(E,$,J){J.tables.cff={},(fe={}).formatMajor=Vt.getCard8(tt=E,ee=$),fe.formatMinor=Vt.getCard8(tt,ee+1),fe.size=Vt.getCard8(tt,ee+2),fe.offsetSize=Vt.getCard8(tt,ee+3),fe.startOffset=ee,fe.endOffset=ee+4;var tt=At(E,fe.endOffset,Vt.bytesToString),ee=At(E,tt.endOffset),fe=At(E,ee.endOffset,Vt.bytesToString);if(tt=At(E,fe.endOffset),J.gsubrs=tt.objects,J.gsubrsBias=bt(J.gsubrs),1!==(tt=bn(E,$,ee.objects,fe.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+tt.length);if((J.tables.cff.topDict=ee=tt[0])._privateDict&&(J.defaultWidthX=ee._privateDict.defaultWidthX,J.nominalWidthX=ee._privateDict.nominalWidthX),void 0!==ee.ros[0]&&void 0!==ee.ros[1]&&(J.isCIDFont=!0),J.isCIDFont){var Me=ee.fdSelect;if(0===(tt=ee.fdArray)||0===Me)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");tt=bn(E,$,At(E,tt+=$).objects,fe.objects),ee._fdArray=tt,ee._fdSelect=function(ae,we,ye,Ge){var Lt,Ht=[],tn=new Vt.Parser(ae,we);if(0===(ae=tn.parseCard8()))for(var Bn=0;Bn<ye;Bn++){if(Ge<=(Lt=tn.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Lt+" (FD count "+Ge+")");Ht.push(Lt)}else{if(3!==ae)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+ae);var Ln,Wn=tn.parseCard16(),Xn=tn.parseCard16();if(0!==Xn)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Xn);for(var nr=0;nr<Wn;nr++){if(Lt=tn.parseCard8(),Ln=tn.parseCard16(),Ge<=Lt)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Lt+" (FD count "+Ge+")");if(ye<Ln)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Ln);for(;Xn<Ln;Xn++)Ht.push(Lt);Xn=Ln}if(Ln!==ye)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Ln)}return Ht}(E,Me+=$,J.numGlyphs,tt.length)}tt=fn(E,Me=$+ee.private[1],ee.private[0],fe.objects);var ke=(J.defaultWidthX=tt.defaultWidthX,J.nominalWidthX=tt.nominalWidthX,0!==tt.subrs?(Me=At(E,Me+tt.subrs),J.subrs=Me.objects,J.subrsBias=bt(J.subrs)):(J.subrs=[],J.subrsBias=0),At(E,$+ee.charStrings));J.nGlyphs=ke.objects.length,tt=function(zt,_e,ae,we){var ye=new Vt.Parser(zt,_e),Ge=(--ae,[".notdef"]);if(0===(zt=ye.parseCard8()))for(var Lt=0;Lt<ae;Lt+=1)Ht=ye.parseSID(),Ge.push(St(we,Ht));else if(1===zt)for(;Ge.length<=ae;)for(var Ht=ye.parseSID(),tn=ye.parseCard8(),Bn=0;Bn<=tn;Bn+=1)Ge.push(St(we,Ht)),Ht+=1;else{if(2!==zt)throw new Error("Unknown charset format "+zt);for(;Ge.length<=ae;){Ht=ye.parseSID(),tn=ye.parseCard16();for(var Ln=0;Ln<=tn;Ln+=1)Ge.push(St(we,Ht)),Ht+=1}}return Ge}(E,$+ee.charset,J.nGlyphs,fe.objects),J.cffEncoding=0===ee.encoding?new dn(Oe,tt):1===ee.encoding?new dn(Ke,tt):function(zt,_e,ae){var we={},ye=new Vt.Parser(zt,_e);if(0===(zt=ye.parseCard8()))for(var Ge=ye.parseCard8(),Lt=0;Lt<Ge;Lt+=1)we[tn=ye.parseCard8()]=Lt;else{if(1!==zt)throw new Error("Unknown encoding format "+zt);for(var Ht=ye.parseCard8(),tn=1,Bn=0;Bn<Ht;Bn+=1)for(var Ln=ye.parseCard8(),Wn=ye.parseCard8(),Xn=Ln;Xn<=Ln+Wn;Xn+=1)we[Xn]=tn,tn+=1}return new dn(we,ae)}(E,$+ee.encoding,tt),J.encoding=J.encoding||J.cffEncoding,J.glyphs=new xt.GlyphSet(J);for(var wt=0;wt<J.nGlyphs;wt+=1)J.glyphs.push(wt,xt.cffGlyphLoader(J,wt,Mn,ke.objects[wt]))},je_make=function(E,zt){for(var J,ee=new Ut.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),fe={version:zt.version,fullName:zt.fullName,familyName:zt.familyName,weight:zt.weightName,fontBBox:zt.fontBBox||[0,0,0,0],fontMatrix:[fe=1/zt.unitsPerEm,0,0,fe,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},Me=[],ke=1;ke<E.length;ke+=1)J=E.get(ke),Me.push(J.name);var tt,wt,_t=[],_e=(ee.header=new Ut.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),ee.nameIndex=function(ae){var we=new Ut.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);we.names=[];for(var ye=0;ye<ae.length;ye+=1)we.names.push({name:"name_"+ye,type:"NAME",value:ae[ye]});return we}([zt.postScriptName]),zt=Vn(fe,_t),ee.topDictIndex=q(zt),ee.globalSubrIndex=new Ut.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),ee.charsets=function(ae,we){for(var ye=new Ut.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Ge=0;Ge<ae.length;Ge+=1){var Lt=In(ae[Ge],we);ye.fields.push({name:"glyph_"+Ge,type:"SID",value:Lt})}return ye}(Me,_t),ee.charStringsIndex=function ve(E){for(var $=new Ut.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),J=0;J<E.length;J+=1){var ee=E.get(J),fe=function(Me){for(var ke=[],tt=Me.path,wt=(ke.push({name:"width",type:"NUMBER",value:Me.advanceWidth}),0),_t=0,zt=0;zt<tt.commands.length;zt+=1){var _e,ae,we,ye,Ge=void 0,Lt=void 0,Ht=tt.commands[zt];"M"===(Ht="Q"===Ht.type?{type:"C",x:Ht.x,y:Ht.y,x1:1/3*wt+2/3*Ht.x1,y1:1/3*_t+2/3*Ht.y1,x2:1/3*Ht.x+2/3*Ht.x1,y2:1/3*Ht.y+2/3*Ht.y1}:Ht).type?(Ge=Math.round(Ht.x-wt),Lt=Math.round(Ht.y-_t),ke.push({name:"dx",type:"NUMBER",value:Ge}),ke.push({name:"dy",type:"NUMBER",value:Lt}),ke.push({name:"rmoveto",type:"OP",value:21}),wt=Math.round(Ht.x),_t=Math.round(Ht.y)):"L"===Ht.type?(Ge=Math.round(Ht.x-wt),Lt=Math.round(Ht.y-_t),ke.push({name:"dx",type:"NUMBER",value:Ge}),ke.push({name:"dy",type:"NUMBER",value:Lt}),ke.push({name:"rlineto",type:"OP",value:5}),wt=Math.round(Ht.x),_t=Math.round(Ht.y)):"C"===Ht.type&&(_e=Math.round(Ht.x1-wt),ae=Math.round(Ht.y1-_t),we=Math.round(Ht.x2-Ht.x1),ye=Math.round(Ht.y2-Ht.y1),Ge=Math.round(Ht.x-Ht.x2),Lt=Math.round(Ht.y-Ht.y2),ke.push({name:"dx1",type:"NUMBER",value:_e}),ke.push({name:"dy1",type:"NUMBER",value:ae}),ke.push({name:"dx2",type:"NUMBER",value:we}),ke.push({name:"dy2",type:"NUMBER",value:ye}),ke.push({name:"dx",type:"NUMBER",value:Ge}),ke.push({name:"dy",type:"NUMBER",value:Lt}),ke.push({name:"rrcurveto",type:"OP",value:8}),wt=Math.round(Ht.x),_t=Math.round(Ht.y))}return ke.push({name:"endchar",type:"OP",value:14}),ke}(ee);$.charStrings.push({name:ee.name,type:"CHARSTRING",value:fe})}return $}(E),ee.privateDict=(_e={},tt=_t,(wt=new Ut.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=An(nn,_e,tt),wt),ee.stringIndex=function(ae){var we=new Ut.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);we.strings=[];for(var ye=0;ye<ae.length;ye+=1)we.strings.push({name:"string_"+ye,type:"STRING",value:ae[ye]});return we}(_t),ee.header.sizeOf()+ee.nameIndex.sizeOf()+ee.topDictIndex.sizeOf()+ee.stringIndex.sizeOf()+ee.globalSubrIndex.sizeOf());return fe.charset=_e,fe.encoding=0,fe.charStrings=fe.charset+ee.charsets.sizeOf(),fe.private[1]=fe.charStrings+ee.charStringsIndex.sizeOf(),zt=Vn(fe,_t),ee.topDictIndex=q(zt),ee},T_parse=function(ee,$){var J={};return ee=new Vt.Parser(ee,$),J.version=ee.parseVersion(),J.fontRevision=Math.round(1e3*ee.parseFixed())/1e3,J.checkSumAdjustment=ee.parseULong(),J.magicNumber=ee.parseULong(),R.argument(1594834165===J.magicNumber,"Font header has wrong magic number."),J.flags=ee.parseUShort(),J.unitsPerEm=ee.parseUShort(),J.created=ee.parseLongDateTime(),J.modified=ee.parseLongDateTime(),J.xMin=ee.parseShort(),J.yMin=ee.parseShort(),J.xMax=ee.parseShort(),J.yMax=ee.parseShort(),J.macStyle=ee.parseUShort(),J.lowestRecPPEM=ee.parseUShort(),J.fontDirectionHint=ee.parseShort(),J.indexToLocFormat=ee.parseShort(),J.glyphDataFormat=ee.parseShort(),J},T_make=function(E){var $=Math.round((new Date).getTime()/1e3)+2082844800,J=$;return E.createdTimestamp&&(J=E.createdTimestamp+2082844800),new Ut.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:J},{name:"modified",type:"LONGDATETIME",value:$},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],E)},D_parse=function(ee,$){var J={};return ee=new Vt.Parser(ee,$),J.version=ee.parseVersion(),J.ascender=ee.parseShort(),J.descender=ee.parseShort(),J.lineGap=ee.parseShort(),J.advanceWidthMax=ee.parseUShort(),J.minLeftSideBearing=ee.parseShort(),J.minRightSideBearing=ee.parseShort(),J.xMaxExtent=ee.parseShort(),J.caretSlopeRise=ee.parseShort(),J.caretSlopeRun=ee.parseShort(),J.caretOffset=ee.parseShort(),ee.relativeOffset+=8,J.metricDataFormat=ee.parseShort(),J.numberOfHMetrics=ee.parseUShort(),J},D_make=function(E){return new Ut.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],E)},L_parse=function(E,$,J,ee,fe){for(var Me,ke,tt=new Vt.Parser(E,$),wt=0;wt<ee;wt+=1){wt<J&&(Me=tt.parseUShort(),ke=tt.parseShort());var _t=fe.get(wt);_t.advanceWidth=Me,_t.leftSideBearing=ke}},L_make=function(E){for(var $=new Ut.Table("hmtx",[]),J=0;J<E.length;J+=1){var ee=(fe=E.get(J)).advanceWidth||0,fe=fe.leftSideBearing||0;$.fields.push({name:"advanceWidth_"+J,type:"USHORT",value:ee}),$.fields.push({name:"leftSideBearing_"+J,type:"SHORT",value:fe})}return $},U_make=function(E){for(var $=new Ut.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:E.length}]),J="",ee=12+4*E.length,fe=0;fe<E.length;++fe){var Me=J.indexOf(E[fe]);Me<0&&(Me=J.length,J+=E[fe]),$.fields.push({name:"offset "+fe,type:"USHORT",value:ee+Me}),$.fields.push({name:"length "+fe,type:"USHORT",value:E[fe].length})}return $.fields.push({name:"stringPool",type:"CHARARRAY",value:J}),$},U_parse=function(E,$){for(var J=new Vt.Parser(E,$),ee=J.parseULong(),fe=(R.argument(1===ee,"Unsupported ltag table version."),J.skip("uLong",1),J.parseULong()),Me=[],ke=0;ke<fe;ke++){for(var tt="",wt=$+J.parseUShort(),_t=J.parseUShort(),zt=wt;zt<wt+_t;++zt)tt+=String.fromCharCode(E.getInt8(zt));Me.push(tt)}return Me},oe_parse=function(ee,$){var J={};return ee=new Vt.Parser(ee,$),J.version=ee.parseVersion(),J.numGlyphs=ee.parseUShort(),1===J.version&&(J.maxPoints=ee.parseUShort(),J.maxContours=ee.parseUShort(),J.maxCompositePoints=ee.parseUShort(),J.maxCompositeContours=ee.parseUShort(),J.maxZones=ee.parseUShort(),J.maxTwilightPoints=ee.parseUShort(),J.maxStorage=ee.parseUShort(),J.maxFunctionDefs=ee.parseUShort(),J.maxInstructionDefs=ee.parseUShort(),J.maxStackElements=ee.parseUShort(),J.maxSizeOfInstructions=ee.parseUShort(),J.maxComponentElements=ee.parseUShort(),J.maxComponentDepth=ee.parseUShort()),J},oe_make=function(E){return new Ut.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:E}])},W=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],ue={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Pe={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Le={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},nt="utf-16",xe={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Ue={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function lt(E,$,J){switch(E){case 0:return nt;case 1:return Ue[J]||xe[$];case 3:if(1===$||10===$)return nt}}function He(E){var $,J={};for($ in E)J[E[$]]=parseInt($);return J}function yt(E,$,J,ee,fe,Me){return new Ut.Record("NameRecord",[{name:"platformID",type:"USHORT",value:E},{name:"encodingID",type:"USHORT",value:$},{name:"languageID",type:"USHORT",value:J},{name:"nameID",type:"USHORT",value:ee},{name:"length",type:"USHORT",value:fe},{name:"offset",type:"USHORT",value:Me}])}function kt(E,$){if((J=function(Me,ke){var tt=Me.length,wt=ke.length-tt+1;e:for(var _t=0;_t<wt;_t++)for(;_t<wt;_t++){for(var zt=0;zt<tt;zt++)if(ke[_t+zt]!==Me[zt])continue e;return _t}return-1}(E,$))<0)for(var J=$.length,ee=0,fe=E.length;ee<fe;++ee)$.push(E[ee]);return J}var sn_parse=function(E,$,J){for(var ee={},fe=new Vt.Parser(E,$),Me=($=fe.parseUShort(),fe.parseUShort()),ke=fe.offset+fe.parseUShort(),tt=0;tt<Me;tt++){var ye=fe.parseUShort(),wt=fe.parseUShort(),_t=fe.parseUShort(),zt=fe.parseUShort(),_e=(zt=W[zt]||zt,fe.parseUShort()),ae=fe.parseUShort(),we=function(Lt,Ht,tn){switch(Lt){case 0:if(65535===Ht)return"und";if(tn)return tn[Ht];break;case 1:return ue[Ht];case 3:return Le[Ht]}}(ye,_t,J);void 0!==(ye=lt(ye,wt,_t))&&void 0!==we&&(wt=void 0,(wt=ye===nt?Q.UTF16(E,ke+ae,_e):Q.MACSTRING(E,ke+ae,_e,ye))&&((_t=void 0===(_t=ee[zt])?ee[zt]={}:_t)[we]=wt))}return 1===$&&fe.parseUShort(),ee},sn_make=function(E,$){var J,ee=[],fe={},Me=He(W);for(J in E){var ke=Me[J];if(void 0===ke&&(ke=J),ae=parseInt(ke),isNaN(ae))throw new Error('Name table entry "'+J+'" does not exist, see nameTableNames for complete list.');fe[ae]=E[J],ee.push(ae)}for(var tt=He(ue),wt=He(Le),_t=[],zt=[],_e=0;_e<ee.length;_e++){var ae,we,ye=fe[ae=ee[_e]];for(we in ye){var Ln,Ge=ye[we],Lt=tt[we],Ht=Pe[Lt],tn=lt(Ln=1,Ht,Lt),Bn=(void 0===(tn=pe.MACSTRING(Ge,tn))&&(Ln=0,(Lt=$.indexOf(we))<0&&(Lt=$.length,$.push(we)),Ht=4,tn=pe.UTF16(Ge)),kt(tn,zt));void 0!==(_t.push(yt(Ln,Ht,Lt,ae,tn.length,Bn)),Ln=wt[we])&&(Lt=kt(Ht=pe.UTF16(Ge),zt),_t.push(yt(3,1,Ln,ae,Ht.length,Lt)))}}_t.sort(function(nr,vr){return nr.platformID-vr.platformID||nr.encodingID-vr.encodingID||nr.languageID-vr.languageID||nr.nameID-vr.nameID});for(var Wn=new Ut.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:_t.length},{name:"stringOffset",type:"USHORT",value:6+12*_t.length}]),Xn=0;Xn<_t.length;Xn++)Wn.fields.push({name:"record_"+Xn,type:"RECORD",value:_t[Xn]});return Wn.fields.push({name:"strings",type:"LITERAL",value:zt}),Wn},mn=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Tn_parse=function(E,$){var J={},ee=new Vt.Parser(E,$);J.version=ee.parseUShort(),J.xAvgCharWidth=ee.parseShort(),J.usWeightClass=ee.parseUShort(),J.usWidthClass=ee.parseUShort(),J.fsType=ee.parseUShort(),J.ySubscriptXSize=ee.parseShort(),J.ySubscriptYSize=ee.parseShort(),J.ySubscriptXOffset=ee.parseShort(),J.ySubscriptYOffset=ee.parseShort(),J.ySuperscriptXSize=ee.parseShort(),J.ySuperscriptYSize=ee.parseShort(),J.ySuperscriptXOffset=ee.parseShort(),J.ySuperscriptYOffset=ee.parseShort(),J.yStrikeoutSize=ee.parseShort(),J.yStrikeoutPosition=ee.parseShort(),J.sFamilyClass=ee.parseShort(),J.panose=[];for(var fe=0;fe<10;fe++)J.panose[fe]=ee.parseByte();return J.ulUnicodeRange1=ee.parseULong(),J.ulUnicodeRange2=ee.parseULong(),J.ulUnicodeRange3=ee.parseULong(),J.ulUnicodeRange4=ee.parseULong(),J.achVendID=String.fromCharCode(ee.parseByte(),ee.parseByte(),ee.parseByte(),ee.parseByte()),J.fsSelection=ee.parseUShort(),J.usFirstCharIndex=ee.parseUShort(),J.usLastCharIndex=ee.parseUShort(),J.sTypoAscender=ee.parseShort(),J.sTypoDescender=ee.parseShort(),J.sTypoLineGap=ee.parseShort(),J.usWinAscent=ee.parseUShort(),J.usWinDescent=ee.parseUShort(),1<=J.version&&(J.ulCodePageRange1=ee.parseULong(),J.ulCodePageRange2=ee.parseULong()),2<=J.version&&(J.sxHeight=ee.parseShort(),J.sCapHeight=ee.parseShort(),J.usDefaultChar=ee.parseUShort(),J.usBreakChar=ee.parseUShort(),J.usMaxContent=ee.parseUShort()),J},Tn_make=function(E){return new Ut.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],E)},Tn_getUnicodeRange=function(E){for(var $=0;$<mn.length;$+=1){var J=mn[$];if(E>=J.begin&&E<J.end)return $}return-1},Kn_parse=function(E,$){var J={},ee=new Vt.Parser(E,$);switch(J.version=ee.parseVersion(),J.italicAngle=ee.parseFixed(),J.underlinePosition=ee.parseShort(),J.underlineThickness=ee.parseShort(),J.isFixedPitch=ee.parseULong(),J.minMemType42=ee.parseULong(),J.maxMemType42=ee.parseULong(),J.minMemType1=ee.parseULong(),J.maxMemType1=ee.parseULong(),J.version){case 1:J.names=Et.slice();break;case 2:J.numberOfGlyphs=ee.parseUShort(),J.glyphNameIndex=new Array(J.numberOfGlyphs);for(var fe=0;fe<J.numberOfGlyphs;fe++)J.glyphNameIndex[fe]=ee.parseUShort();J.names=[];for(var Me,ke=0;ke<J.numberOfGlyphs;ke++)J.glyphNameIndex[ke]>=Et.length&&(Me=ee.parseChar(),J.names.push(ee.parseString(Me)));break;case 2.5:J.numberOfGlyphs=ee.parseUShort(),J.offset=new Array(J.numberOfGlyphs);for(var tt=0;tt<J.numberOfGlyphs;tt++)J.offset[tt]=ee.parseChar()}return J},Kn_make=function(){return new Ut.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},tr=new Array(9),Nr=(tr[1]=function(){var E=this.offset+this.relativeOffset,$=this.parseUShort();return 1===$?{substFormat:1,coverage:this.parsePointer(It.coverage),deltaGlyphId:this.parseUShort()}:2===$?{substFormat:2,coverage:this.parsePointer(It.coverage),substitute:this.parseOffset16List()}:void R.assert(!1,"0x"+E.toString(16)+": lookup type 1 format must be 1 or 2.")},tr[2]=function(){var E=this.parseUShort();return R.argument(1===E,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:E,coverage:this.parsePointer(It.coverage),sequences:this.parseListOfLists()}},tr[3]=function(){var E=this.parseUShort();return R.argument(1===E,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:E,coverage:this.parsePointer(It.coverage),alternateSets:this.parseListOfLists()}},tr[4]=function(){var E=this.parseUShort();return R.argument(1===E,"GSUB ligature table identifier-format must be 1"),{substFormat:E,coverage:this.parsePointer(It.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:It.uShort,lookupListIndex:It.uShort});tr[5]=function(){var E,$,J=this.offset+this.relativeOffset,ee=this.parseUShort();return 1===ee?{substFormat:ee,coverage:this.parsePointer(It.coverage),ruleSets:this.parseListOfLists(function(){var fe=this.parseUShort(),Me=this.parseUShort();return{input:this.parseUShortList(fe-1),lookupRecords:this.parseRecordList(Me,Nr)}})}:2===ee?{substFormat:ee,coverage:this.parsePointer(It.coverage),classDef:this.parsePointer(It.classDef),classSets:this.parseListOfLists(function(){var fe=this.parseUShort(),Me=this.parseUShort();return{classes:this.parseUShortList(fe-1),lookupRecords:this.parseRecordList(Me,Nr)}})}:3===ee?(E=this.parseUShort(),$=this.parseUShort(),{substFormat:ee,coverages:this.parseList(E,It.pointer(It.coverage)),lookupRecords:this.parseRecordList($,Nr)}):void R.assert(!1,"0x"+J.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},tr[6]=function(){var E=this.offset+this.relativeOffset,$=this.parseUShort();return 1===$?{substFormat:1,coverage:this.parsePointer(It.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Nr)}})}:2===$?{substFormat:2,coverage:this.parsePointer(It.coverage),backtrackClassDef:this.parsePointer(It.classDef),inputClassDef:this.parsePointer(It.classDef),lookaheadClassDef:this.parsePointer(It.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Nr)}})}:3===$?{substFormat:3,backtrackCoverage:this.parseList(It.pointer(It.coverage)),inputCoverage:this.parseList(It.pointer(It.coverage)),lookaheadCoverage:this.parseList(It.pointer(It.coverage)),lookupRecords:this.parseRecordList(Nr)}:void R.assert(!1,"0x"+E.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},tr[7]=function(){var E=this.parseUShort(),$=(R.argument(1===E,"GSUB Extension Substitution subtable identifier-format must be 1"),E=this.parseUShort(),new It(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:E,extension:tr[E].call($)}},tr[8]=function(){var E=this.parseUShort();return R.argument(1===E,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:E,coverage:this.parsePointer(It.coverage),backtrackCoverage:this.parseList(It.pointer(It.coverage)),lookaheadCoverage:this.parseList(It.pointer(It.coverage)),substitutes:this.parseUShortList()}};var Dr=new Array(9);Dr[1]=function(E){return new Ut.Table("substitutionTable",1===E.substFormat?[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ut.Coverage(E.coverage)},{name:"deltaGlyphID",type:"USHORT",value:E.deltaGlyphId}]:[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ut.Coverage(E.coverage)}].concat(Ut.ushortList("substitute",E.substitute)))},Dr[3]=function(E){return R.assert(1===E.substFormat,"Lookup type 3 substFormat must be 1."),new Ut.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ut.Coverage(E.coverage)}].concat(Ut.tableList("altSet",E.alternateSets,function($){return new Ut.Table("alternateSetTable",Ut.ushortList("alternate",$))})))},Dr[4]=function(E){return R.assert(1===E.substFormat,"Lookup type 4 substFormat must be 1."),new Ut.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ut.Coverage(E.coverage)}].concat(Ut.tableList("ligSet",E.ligatureSets,function($){return new Ut.Table("ligatureSetTable",Ut.tableList("ligature",$,function(J){return new Ut.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:J.ligGlyph}].concat(Ut.ushortList("component",J.components,J.components.length+1)))}))})))};var Jn_parse=function(E,$){return $=(E=new It(E,$=$||0)).parseVersion(1),R.argument(1===$||1.1===$,"Unsupported GSUB table version."),1===$?{version:$,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(tr)}:{version:$,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(tr),variations:E.parseFeatureVariationsList()}},Jn_make=function(E){return new Ut.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ut.ScriptList(E.scripts)},{name:"features",type:"TABLE",value:new Ut.FeatureList(E.features)},{name:"lookups",type:"TABLE",value:new Ut.LookupList(E.lookups,Dr)}])},yr_parse=function(E,$){for(var J=new Vt.Parser(E,$),ee=J.parseULong(),fe=(R.argument(1===ee,"Unsupported META table version."),J.parseULong(),J.parseULong(),J.parseULong()),Me={},ke=0;ke<fe;ke++){var tt=J.parseTag(),_t=J.parseULong(),wt=J.parseULong();_t=Q.UTF8(E,$+_t,wt),Me[tt]=_t}return Me},yr_make=function(E){var $,J=Object.keys(E).length,ee="",fe=16+12*J,Me=new Ut.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:fe},{name:"numTags",type:"ULONG",value:J}]);for($ in E){var ke=ee.length;ee+=E[$],Me.fields.push({name:"tag "+$,type:"TAG",value:$}),Me.fields.push({name:"offset "+$,type:"ULONG",value:fe+ke}),Me.fields.push({name:"length "+$,type:"ULONG",value:E[$].length})}return Me.fields.push({name:"stringPool",type:"CHARARRAY",value:ee}),Me};function Vr(E){return Math.log(E)/Math.log(2)|0}function Er(E){for(;E.length%4!=0;)E.push(0);for(var $=0,J=0;J<E.length;J+=4)$+=(E[J]<<24)+(E[J+1]<<16)+(E[J+2]<<8)+E[J+3];return $%Math.pow(2,32)}function Lr(E,$,J,ee){return new Ut.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==E?E:""},{name:"checkSum",type:"ULONG",value:void 0!==$?$:0},{name:"offset",type:"ULONG",value:void 0!==J?J:0},{name:"length",type:"ULONG",value:void 0!==ee?ee:0}])}function To(E){for(var $=new Ut.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),J=($.tables=E,$.numTables=E.length,Math.pow(2,Vr($.numTables))),ee=($.searchRange=16*J,$.entrySelector=Vr(J),$.rangeShift=16*$.numTables-$.searchRange,[]),fe=[],Me=$.sizeOf()+Lr().sizeOf()*$.numTables;Me%4!=0;)Me+=1,fe.push({name:"padding",type:"BYTE",value:0});for(var ke=0;ke<E.length;ke+=1){var tt=E[ke],wt=(R.argument(4===tt.tableName.length,"Table name"+tt.tableName+" is invalid."),tt.sizeOf()),_t=Lr(tt.tableName,Er(tt.encode()),Me,wt);for(ee.push({name:_t.tag+" Table Record",type:"RECORD",value:_t}),fe.push({name:tt.tableName+" table",type:"RECORD",value:tt}),Me+=wt,R.argument(!isNaN(Me),"Something went wrong calculating the offset.");Me%4!=0;)Me+=1,fe.push({name:"padding",type:"BYTE",value:0})}return ee.sort(function(zt,_e){return zt.value.tag>_e.value.tag?1:-1}),$.fields=$.fields.concat(ee),$.fields=$.fields.concat(fe),$}function eo(E,$,J){for(var ee=0;ee<$.length;ee+=1){var fe=E.charToGlyphIndex($[ee]);if(0<fe)return E.glyphs.get(fe).getMetrics()}return J}var wo_fontToTable=function(E){for(var $,J=[],ee=[],fe=[],Me=[],ke=[],tt=[],wt=[],_t=0,zt=0,_e=0,ae=0,we=0,ye=0;ye<E.glyphs.length;ye+=1){var Ge=E.glyphs.get(ye),Lt=0|Ge.unicode;if(isNaN(Ge.advanceWidth))throw new Error("Glyph "+Ge.name+" ("+ye+"): advanceWidth is not a number.");if((Lt<$||void 0===$)&&0<Lt&&($=Lt),_t<Lt&&(_t=Lt),(Lt=Tn_getUnicodeRange(Lt))<32)zt|=1<<Lt;else if(Lt<64)_e|=1<<Lt-32;else if(Lt<96)ae|=1<<Lt-64;else{if(!(Lt<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");we|=1<<Lt-96}".notdef"!==Ge.name&&(Lt=Ge.getMetrics(),J.push(Lt.xMin),ee.push(Lt.yMin),fe.push(Lt.xMax),Me.push(Lt.yMax),tt.push(Lt.leftSideBearing),wt.push(Lt.rightSideBearing),ke.push(Ge.advanceWidth))}var Ht,tn={xMin:Math.min.apply(null,J),yMin:Math.min.apply(null,ee),xMax:Math.max.apply(null,fe),yMax:Math.max.apply(null,Me),advanceWidthMax:Math.max.apply(null,ke),advanceWidthAvg:function(uo){for(var ni=0,rs=0;rs<uo.length;rs+=1)ni+=uo[rs];return ni/uo.length}(ke),minLeftSideBearing:Math.min.apply(null,tt),maxLeftSideBearing:Math.max.apply(null,tt),minRightSideBearing:Math.min.apply(null,wt)},Bn=(tn.ascender=E.ascender,tn.descender=E.descender,T_make({flags:3,unitsPerEm:E.unitsPerEm,xMin:tn.xMin,yMin:tn.yMin,xMax:tn.xMax,yMax:tn.yMax,lowestRecPPEM:3,createdTimestamp:E.createdTimestamp})),Ln=D_make({ascender:tn.ascender,descender:tn.descender,advanceWidthMax:tn.advanceWidthMax,minLeftSideBearing:tn.minLeftSideBearing,minRightSideBearing:tn.minRightSideBearing,xMaxExtent:tn.maxLeftSideBearing+(tn.xMax-tn.xMin),numberOfHMetrics:E.glyphs.length}),Wn=oe_make(E.glyphs.length),Xn=Tn_make({xAvgCharWidth:Math.round(tn.advanceWidthAvg),usWeightClass:E.tables.os2.usWeightClass,usWidthClass:E.tables.os2.usWidthClass,usFirstCharIndex:$,usLastCharIndex:_t,ulUnicodeRange1:zt,ulUnicodeRange2:_e,ulUnicodeRange3:ae,ulUnicodeRange4:we,fsSelection:E.tables.os2.fsSelection,sTypoAscender:tn.ascender,sTypoDescender:tn.descender,sTypoLineGap:0,usWinAscent:tn.yMax,usWinDescent:Math.abs(tn.yMin),ulCodePageRange1:1,sxHeight:eo(E,"xyvw",{yMax:Math.round(tn.ascender/2)}).yMax,sCapHeight:eo(E,"HIKLEFJMNTZBDPRAGOQSUVWXY",tn).yMax,usDefaultChar:E.hasChar(" ")?32:0,usBreakChar:E.hasChar(" ")?32:0}),nr=L_make(E.glyphs),vr=ze_make(E.glyphs),Tr=(Mr=E.getEnglishName("fontFamily"))+" "+($n=E.getEnglishName("fontSubfamily")),Kr=(Kr=E.getEnglishName("postScriptName"))||Mr.replace(/\s/g,"")+"-"+$n,to={};for(Ht in E.names)to[Ht]=E.names[Ht];to.uniqueID||(to.uniqueID={en:E.getEnglishName("manufacturer")+":"+Tr}),to.postScriptName||(to.postScriptName={en:Kr}),to.preferredFamily||(to.preferredFamily=E.names.fontFamily),to.preferredSubfamily||(to.preferredSubfamily=E.names.fontSubfamily);var io=sn_make(to,qr=[]),qr=0<qr.length?U_make(qr):void 0,fo=Kn_make(),Mr=(Tr=je_make(E.glyphs,{version:E.getEnglishName("version"),fullName:Tr,familyName:Mr,weightName:$n,postScriptName:Kr,unitsPerEm:E.unitsPerEm,fontBBox:[0,tn.yMin,tn.ascender,tn.advanceWidthMax]}),E.metas&&0<Object.keys(E.metas).length?yr_make(E.metas):void 0),$n=[Bn,Ln,Wn,Xn,io,vr,fo,Tr,nr];qr&&$n.push(qr),E.tables.gsub&&$n.push(Jn_make(E.tables.gsub)),Mr&&$n.push(Mr);for(var Br=Er((Kr=To($n)).encode()),$r=Kr.fields,lo=!1,Rr=0;Rr<$r.length;Rr+=1)if("head table"===$r[Rr].name){$r[Rr].value.checkSumAdjustment=2981146554-Br,lo=!0;break}if(lo)return Kr;throw new Error("Could not find head table with checkSum to adjust.")};function ko(E,$){for(var J=0,ee=E.length-1;J<=ee;){var fe=J+ee>>>1,Me=E[fe].tag;if(Me===$)return fe;Me<$?J=1+fe:ee=fe-1}return-J-1}function No(E,$){for(var J=0,ee=E.length-1;J<=ee;){var fe=J+ee>>>1,Me=E[fe];if(Me===$)return fe;Me<$?J=1+fe:ee=fe-1}return-J-1}function $o(E,$){for(var J=0,ee=E.length-1;J<=ee;){var fe,Me=J+ee>>>1,ke=(fe=E[Me]).start;if(ke===$)return fe;ke<$?J=1+Me:ee=Me-1}if(0<J)return $>(fe=E[J-1]).end?0:fe}function Wr(E,$){this.font=E,this.tableName=$}function Vo(E){Wr.call(this,E,"gpos")}function oo(E){Wr.call(this,E,"gsub")}function ci(E,$,J){for(var ee=E.subtables,fe=0;fe<ee.length;fe++){var Me=ee[fe];if(Me.substFormat===$)return Me}if(J)return ee.push(J),J}function vi(E){for(var $=new ArrayBuffer(E.length),J=new Uint8Array($),ee=0;ee<E.length;++ee)J[ee]=E[ee];return $}function be(E,$){if(!E)throw $}function Xe(E,$,J,ee,fe){var Me=0<($&ee)?(Me=E.parseByte(),J+(Me=$&fe?Me:-Me)):0<($&fe)?J:J+E.parseShort();return Me}function ft(E,$,J){var ee,fe=new Vt.Parser($,J);if(E.numberOfContours=fe.parseShort(),E._xMin=fe.parseShort(),E._yMin=fe.parseShort(),E._xMax=fe.parseShort(),E._yMax=fe.parseShort(),0<E.numberOfContours){for(var Me=E.endPointIndices=[],ke=0;ke<E.numberOfContours;ke+=1)Me.push(fe.parseUShort());E.instructionLength=fe.parseUShort(),E.instructions=[];for(var tt=0;tt<E.instructionLength;tt+=1)E.instructions.push(fe.parseByte());for(var wt=Me[Me.length-1]+1,_t=[],zt=0;zt<wt;zt+=1)if(ee=fe.parseByte(),_t.push(ee),0<(8&ee))for(var _e=fe.parseByte(),ae=0;ae<_e;ae+=1)_t.push(ee),zt+=1;if(R.argument(_t.length===wt,"Bad flags."),0<Me.length){var we,ye=[];if(0<wt){for(var Ge=0;Ge<wt;Ge+=1)(we={}).onCurve=!!(1&(ee=_t[Ge])),we.lastPointOfContour=0<=Me.indexOf(Ge),ye.push(we);for(var Lt=0,Ht=0;Ht<wt;Ht+=1)(we=ye[Ht]).x=Xe(fe,ee=_t[Ht],Lt,2,16),Lt=we.x;for(var tn=0,Bn=0;Bn<wt;Bn+=1)(we=ye[Bn]).y=Xe(fe,ee=_t[Bn],tn,4,32),tn=we.y}E.points=ye}else E.points=[]}else if(0===E.numberOfContours)E.points=[];else{E.isComposite=!0,E.points=[],E.components=[];for(var Ln=!0;Ln;){_t=fe.parseUShort();var Wn={glyphIndex:fe.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&_t)?0<(2&_t)?(Wn.dx=fe.parseShort(),Wn.dy=fe.parseShort()):Wn.matchedPoints=[fe.parseUShort(),fe.parseUShort()]:0<(2&_t)?(Wn.dx=fe.parseChar(),Wn.dy=fe.parseChar()):Wn.matchedPoints=[fe.parseByte(),fe.parseByte()],0<(8&_t)?Wn.xScale=Wn.yScale=fe.parseF2Dot14():0<(64&_t)?(Wn.xScale=fe.parseF2Dot14(),Wn.yScale=fe.parseF2Dot14()):0<(128&_t)&&(Wn.xScale=fe.parseF2Dot14(),Wn.scale01=fe.parseF2Dot14(),Wn.scale10=fe.parseF2Dot14(),Wn.yScale=fe.parseF2Dot14()),E.components.push(Wn),Ln=!!(32&_t)}if(256&_t){E.instructionLength=fe.parseUShort(),E.instructions=[];for(var Xn=0;Xn<E.instructionLength;Xn+=1)E.instructions.push(fe.parseByte())}}}function Ee(E,$){for(var J=[],ee=0;ee<E.length;ee+=1){var fe;J.push(fe={x:$.xScale*(fe=E[ee]).x+$.scale01*fe.y+$.dx,y:$.scale10*fe.x+$.yScale*fe.y+$.dy,onCurve:fe.onCurve,lastPointOfContour:fe.lastPointOfContour})}return J}function vt(E){var $=new ie;if(E)for(var J=function(_e){for(var ae=[],we=[],ye=0;ye<_e.length;ye+=1){var Ge=_e[ye];we.push(Ge),Ge.lastPointOfContour&&(ae.push(we),we=[])}return R.argument(0===we.length,"There are still points left in the current contour."),ae}(E),ee=0;ee<J.length;++ee){var fe,Me=J[ee],tt=Me[0];(ke=Me[Me.length-1]).onCurve?$.moveTo(ke.x,ke.y):tt.onCurve?$.moveTo(tt.x,tt.y):$.moveTo((fe={x:.5*(ke.x+tt.x),y:.5*(ke.y+tt.y)}).x,fe.y);for(var wt=0;wt<Me.length;++wt){var _t,ke=tt;tt=Me[(wt+1)%Me.length],ke.onCurve?$.lineTo(ke.x,ke.y):(_t=tt,tt.onCurve||(_t={x:.5*(ke.x+tt.x),y:.5*(ke.y+tt.y)}),$.quadraticCurveTo(ke.x,ke.y,_t.x,_t.y))}$.closePath()}return $}function Zt(E,$){if($.isComposite)for(var J=0;J<$.components.length;J+=1){var fe=E.get((ee=$.components[J]).glyphIndex);if(fe.getPath(),fe.points){var Me=void 0;if(void 0===ee.matchedPoints)Me=Ee(fe.points,ee);else{if(ee.matchedPoints[0]>$.points.length-1||ee.matchedPoints[1]>fe.points.length-1)throw Error("Matched points out of range in "+$.name);var ee,ke=$.points[ee.matchedPoints[0]],tt=Ee([tt=fe.points[ee.matchedPoints[1]]],ee={xScale:ee.xScale,scale01:ee.scale01,scale10:ee.scale10,yScale:ee.yScale,dx:0,dy:0})[0];ee.dx=ke.x-tt.x,ee.dy=ke.y-tt.y,Me=Ee(fe.points,ee)}$.points=$.points.concat(Me)}}return vt($.points)}(Vo.prototype=Wr.prototype={searchTag:ko,binSearch:No,getTable:function(E){var $=this.font.tables[this.tableName];return!$&&E?this.font.tables[this.tableName]=this.createDefaultTable():$},getScriptNames:function(){var E=this.getTable();return E?E.scripts.map(function($){return $.tag}):[]},getDefaultScriptName:function(){var E=this.getTable();if(E){for(var $=!1,J=0;J<E.scripts.length;J++){var ee=E.scripts[J].tag;if("DFLT"===ee)return ee;"latn"===ee&&($=!0)}return $?"latn":void 0}},getScriptTable:function(E,$){var J,ee=this.getTable($);if(ee)return J=ee.scripts,0<=(ee=ko(ee.scripts,E=E||"DFLT"))?J[ee].script:$?(J.splice(-1-ee,0,$={tag:E,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),$.script):void 0},getLangSysTable:function(fe,$,J){var ee;if(fe=this.getScriptTable(fe,J))return $&&"dflt"!==$&&"DFLT"!==$?0<=(ee=ko(fe.langSysRecords,$))?fe.langSysRecords[ee].langSys:J?(fe.langSysRecords.splice(-1-ee,0,J={tag:$,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),J.langSys):void 0:fe.defaultLangSys},getFeatureTable:function(E,$,J,ee){if(E=this.getLangSysTable(E,$,ee)){for(var fe,Me=E.featureIndexes,ke=this.font.tables[this.tableName].features,tt=0;tt<Me.length;tt++)if((fe=ke[Me[tt]]).tag===J)return fe.feature;if(ee)return R.assert(0===($=ke.length)||J>=ke[$-1].tag,"Features must be added in alphabetical order."),ke.push(fe={tag:J,feature:{params:0,lookupListIndexes:[]}}),Me.push($),fe.feature}},getLookupTables:function(Me,$,J,ee,fe){var ke=[];if(Me=this.getFeatureTable(Me,$,J,fe)){for(var tt,wt=Me.lookupListIndexes,_t=this.font.tables[this.tableName].lookups,zt=0;zt<wt.length;zt++)(tt=_t[wt[zt]]).lookupType===ee&&ke.push(tt);if(0===ke.length&&fe)return $=_t.length,_t.push(tt={lookupType:ee,lookupFlag:0,subtables:[],markFilteringSet:void 0}),wt.push($),[tt]}return ke},getGlyphClass:function(E,$){switch(E.format){case 1:return E.startGlyph<=$&&$<E.startGlyph+E.classes.length?E.classes[$-E.startGlyph]:0;case 2:var J=$o(E.ranges,$);return J?J.classId:0}},getCoverageIndex:function(E,$){switch(E.format){case 1:var J=No(E.glyphs,$);return 0<=J?J:-1;case 2:return(J=$o(E.ranges,$))?J.index+$-J.start:-1}},expandCoverage:function(E){if(1===E.format)return E.glyphs;for(var $=[],J=E.ranges,ee=0;ee<J.length;ee++)for(var fe=J[ee],ke=fe.end,tt=fe.start;tt<=ke;tt++)$.push(tt);return $}}).init=function(){var E=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(E)},Vo.prototype.getKerningValue=function(E,$,J){for(var ee=0;ee<E.length;ee++)for(var fe=E[ee].subtables,Me=0;Me<fe.length;Me++){var ke=fe[Me],tt=this.getCoverageIndex(ke.coverage,$);if(!(tt<0))switch(ke.posFormat){case 1:for(var wt=ke.pairSets[tt],_t=0;_t<wt.length;_t++){var zt=wt[_t];if(zt.secondGlyph===J)return zt.value1&&zt.value1.xAdvance||0}break;case 2:var ae=this.getGlyphClass(ke.classDef1,$),_e=this.getGlyphClass(ke.classDef2,J);return(ae=ke.classRecords[ae][_e]).value1&&ae.value1.xAdvance||0}}return 0},Vo.prototype.getKerningTables=function(E,$){if(this.font.tables.gpos)return this.getLookupTables(E,$,"kern",2)},(oo.prototype=Wr.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},oo.prototype.getSingle=function(E,$,J){for(var ee=[],fe=this.getLookupTables($,J,E,1),Me=0;Me<fe.length;Me++)for(var ke=fe[Me].subtables,tt=0;tt<ke.length;tt++){var wt=ke[tt],_t=this.expandCoverage(wt.coverage),zt=void 0;if(1===wt.substFormat){var _e=wt.deltaGlyphId;for(zt=0;zt<_t.length;zt++){var ae=_t[zt];ee.push({sub:ae,by:ae+_e})}}else{var we=wt.substitute;for(zt=0;zt<_t.length;zt++)ee.push({sub:_t[zt],by:we[zt]})}}return ee},oo.prototype.getAlternates=function(E,$,J){for(var ee=[],fe=this.getLookupTables($,J,E,3),Me=0;Me<fe.length;Me++)for(var ke=fe[Me].subtables,tt=0;tt<ke.length;tt++)for(var wt=ke[tt],_t=this.expandCoverage(wt.coverage),zt=wt.alternateSets,_e=0;_e<_t.length;_e++)ee.push({sub:_t[_e],by:zt[_e]});return ee},oo.prototype.getLigatures=function(E,$,J){for(var ee=[],fe=this.getLookupTables($,J,E,4),Me=0;Me<fe.length;Me++)for(var ke=fe[Me].subtables,tt=0;tt<ke.length;tt++)for(var wt=ke[tt],_t=this.expandCoverage(wt.coverage),zt=wt.ligatureSets,_e=0;_e<_t.length;_e++)for(var ae=_t[_e],we=zt[_e],ye=0;ye<we.length;ye++){var Ge=we[ye];ee.push({sub:[ae].concat(Ge.components),by:Ge.ligGlyph})}return ee},oo.prototype.addSingle=function(E,$,J,ee){J=ci(this.getLookupTables(J,ee,E,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),R.assert(1===J.coverage.format,"Ligature: unable to modify coverage table format "+J.coverage.format),(E=this.binSearch(J.coverage.glyphs,ee=$.sub))<0&&(J.coverage.glyphs.splice(E=-1-E,0,ee),J.substitute.splice(E,0,0)),J.substitute[E]=$.by},oo.prototype.addAlternate=function(E,$,J,ee){J=ci(this.getLookupTables(J,ee,E,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),R.assert(1===J.coverage.format,"Ligature: unable to modify coverage table format "+J.coverage.format),(E=this.binSearch(J.coverage.glyphs,ee=$.sub))<0&&(J.coverage.glyphs.splice(E=-1-E,0,ee),J.alternateSets.splice(E,0,0)),J.alternateSets[E]=$.by},oo.prototype.addLigature=function(Me,wt,tt,fe){(fe=(tt=this.getLookupTables(tt,fe,Me,4,!0)[0]).subtables[0])||(tt.subtables[0]=fe={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),R.assert(1===fe.coverage.format,"Ligature: unable to modify coverage table format "+fe.coverage.format),Me=wt.sub[0];var ke=wt.sub.slice(1);if(tt={ligGlyph:wt.by,components:ke},0<=(wt=this.binSearch(fe.coverage.glyphs,Me))){for(var _t=fe.ligatureSets[wt],zt=0;zt<_t.length;zt++)if(function(_e,ae){var we=_e.length;if(we===ae.length){for(var ye=0;ye<we;ye++)if(_e[ye]!==ae[ye])return;return 1}}(_t[zt].components,ke))return;_t.push(tt)}else fe.coverage.glyphs.splice(wt=-1-wt,0,Me),fe.ligatureSets.splice(wt,0,[tt])},oo.prototype.getFeature=function(E,$,J){if(/ss\d\d/.test(E))return this.getSingle(E,$,J);switch(E){case"aalt":case"salt":return this.getSingle(E,$,J).concat(this.getAlternates(E,$,J));case"dlig":case"liga":case"rlig":return this.getLigatures(E,$,J)}},oo.prototype.add=function(E,$,J,ee){if(/ss\d\d/.test(E))return this.addSingle(E,$,J,ee);switch(E){case"aalt":case"salt":return"number"==typeof $.by?this.addSingle(E,$,J,ee):this.addAlternate(E,$,J,ee);case"dlig":case"liga":case"rlig":return this.addLigature(E,$,J,ee)}};var fr={getPath:vt,parse:function(E,$,J,ee){for(var fe=new xt.GlyphSet(ee),Me=0;Me<J.length-1;Me+=1){var ke=J[Me];fe.push(Me,ke!==J[Me+1]?xt.ttfGlyphLoader(ee,Me,ft,E,$+ke,Zt):xt.glyphLoader(ee,Me))}return fe}};function Gr(E){this.font=E,this.getCommands=function($){return fr.getPath($).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function mo(E){return E}function ti(E){return Math.sign(E)*Math.round(Math.abs(E))}function Yo(E){return Math.sign(E)*Math.round(Math.abs(2*E))/2}function Ai(E){return Math.sign(E)*(Math.round(Math.abs(E)+.5)-.5)}function Mi(E){return Math.sign(E)*Math.ceil(Math.abs(E))}function Vi(E){return Math.sign(E)*Math.floor(Math.abs(E))}function Ii(E){var $=this.srPeriod,J=this.srPhase,ee=1;return E<0&&(E=-E,ee=-1),E+=this.srThreshold-J,E=Math.trunc(E/$)*$,(E+=J)<0?J*ee:E*ee}var Co={x:1,y:0,axis:"x",distance:function(E,$,J,ee){return(J?E.xo:E.x)-(ee?$.xo:$.x)},interpolate:function(E,$,J,ee){var fe,Me,ke,tt,wt,_t,zt;if(!ee||ee===this)return fe=E.xo-$.xo,Me=E.xo-J.xo,wt=$.x-$.xo,_t=J.x-J.xo,0===(zt=(ke=Math.abs(fe))+(tt=Math.abs(Me)))?void(E.x=E.xo+(wt+_t)/2):void(E.x=E.xo+(wt*tt+_t*ke)/zt);fe=ee.distance(E,$,!0,!0),Me=ee.distance(E,J,!0,!0),wt=ee.distance($,$,!1,!0),_t=ee.distance(J,J,!1,!0),0===(zt=(ke=Math.abs(fe))+(tt=Math.abs(Me)))?Co.setRelative(E,E,(wt+_t)/2,ee,!0):Co.setRelative(E,E,(wt*tt+_t*ke)/zt,ee,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(E,$,J,ee,fe){var Me,ke;ee&&ee!==this?(Me=fe?$.xo:$.x,ke=fe?$.yo:$.y,E.x=(Me+=J*ee.x)+(E.y-(ke+=J*ee.y))/ee.normalSlope):E.x=(fe?$.xo:$.x)+J},slope:0,touch:function(E){E.xTouched=!0},touched:function(E){return E.xTouched},untouch:function(E){E.xTouched=!1}},Ao={x:0,y:1,axis:"y",distance:function(E,$,J,ee){return(J?E.yo:E.y)-(ee?$.yo:$.y)},interpolate:function(E,$,J,ee){var fe,Me,ke,tt,wt,_t,zt;if(!ee||ee===this)return fe=E.yo-$.yo,Me=E.yo-J.yo,wt=$.y-$.yo,_t=J.y-J.yo,0===(zt=(ke=Math.abs(fe))+(tt=Math.abs(Me)))?void(E.y=E.yo+(wt+_t)/2):void(E.y=E.yo+(wt*tt+_t*ke)/zt);fe=ee.distance(E,$,!0,!0),Me=ee.distance(E,J,!0,!0),wt=ee.distance($,$,!1,!0),_t=ee.distance(J,J,!1,!0),0===(zt=(ke=Math.abs(fe))+(tt=Math.abs(Me)))?Ao.setRelative(E,E,(wt+_t)/2,ee,!0):Ao.setRelative(E,E,(wt*tt+_t*ke)/zt,ee,!0)},normalSlope:0,setRelative:function(E,$,J,ee,fe){var Me,ke;ee&&ee!==this?(Me=fe?$.xo:$.x,ke=fe?$.yo:$.y,E.y=(ke+=J*ee.y)+ee.normalSlope*(E.x-(Me+=J*ee.x))):E.y=(fe?$.yo:$.y)+J},slope:Number.POSITIVE_INFINITY,touch:function(E){E.yTouched=!0},touched:function(E){return E.yTouched},untouch:function(E){E.yTouched=!1}};function Yr(E,$){this.x=E,this.y=$,this.axis=void 0,this.slope=$/E,this.normalSlope=-E/$,Object.freeze(this)}function Eo(E,$){var J=Math.sqrt(E*E+$*$);return $/=J,1==(E/=J)&&0===$?Co:0===E&&1===$?Ao:new Yr(E,$)}function Fe(E,$,J,ee){this.x=this.xo=Math.round(64*E)/64,this.y=this.yo=Math.round(64*$)/64,this.lastPointOfContour=J,this.onCurve=ee,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Co),Object.freeze(Ao),Yr.prototype.distance=function(E,$,J,ee){return this.x*Co.distance(E,$,J,ee)+this.y*Ao.distance(E,$,J,ee)},Yr.prototype.interpolate=function(E,fe,Me,ee){var ke=ee.distance(E,fe,!0,!0),tt=ee.distance(E,Me,!0,!0),wt=(fe=ee.distance(fe,fe,!1,!0),Me=ee.distance(Me,Me,!1,!0),(ke=Math.abs(ke))+(tt=Math.abs(tt)));this.setRelative(E,E,0===wt?(fe+Me)/2:(fe*tt+Me*ke)/wt,ee,!0)},Yr.prototype.setRelative=function(E,Me,wt,_t,tt){var ke=tt?Me.xo:Me.x,zt=(tt=tt?Me.yo:Me.y,Me=ke+wt*(_t=_t||this).x,ke=tt+wt*_t.y,tt=_t.normalSlope,E.y);E.x=((wt=this.slope)*(_t=E.x)-tt*Me+ke-zt)/(wt-tt),E.y=wt*(E.x-_t)+zt},Yr.prototype.touch=function(E){E.xTouched=!0,E.yTouched=!0},Fe.prototype.nextTouched=function(E){for(var $=this.nextPointOnContour;!E.touched($)&&$!==this;)$=$.nextPointOnContour;return $},Fe.prototype.prevTouched=function(E){for(var $=this.prevPointOnContour;!E.touched($)&&$!==this;)$=$.prevPointOnContour;return $};var it=Object.freeze(new Fe(0,0)),Mt={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Rt(E,$){switch(this.env=E,this.stack=[],this.prog=$,E){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Co,this.round=ti}}function Qt(E){for(var $=E.tZone=new Array(E.gZone.length),J=0;J<$.length;J++)$[J]=new Fe(0,0)}function qt(E,$){var J,ee=E.prog,fe=E.ip,Me=1;do{if(88===(J=ee[++fe]))Me++;else if(89===J)Me--;else if(64===J)fe+=ee[fe+1]+1;else if(65===J)fe+=2*ee[fe+1]+1;else if(176<=J&&J<=183)fe+=J-176+1;else if(184<=J&&J<=191)fe+=2*(J-184+1);else if($&&1===Me&&27===J)break}while(0<Me);E.ip=fe}function gn(E,$){y.DEBUG&&console.log($.step,"SVTCA["+E.axis+"]"),$.fv=$.pv=$.dpv=E}function wn(E,$){y.DEBUG&&console.log($.step,"SPVTCA["+E.axis+"]"),$.pv=$.dpv=E}function Sn(E,$){y.DEBUG&&console.log($.step,"SFVTCA["+E.axis+"]"),$.fv=E}function xn(E,$){var J,ee=(fe=$.stack).pop(),fe=fe.pop(),Me=$.z2[ee],ke=$.z1[fe];y.DEBUG&&console.log("SPVTL["+E+"]",ee,fe),ee=E?(J=Me.y-ke.y,ke.x-Me.x):(J=ke.x-Me.x,ke.y-Me.y),$.pv=$.dpv=Eo(J,ee)}function Un(E,$){var J,ee=(fe=$.stack).pop(),fe=fe.pop(),Me=$.z2[ee],ke=$.z1[fe];y.DEBUG&&console.log("SFVTL["+E+"]",ee,fe),ee=E?(J=Me.y-ke.y,ke.x-Me.x):(J=ke.x-Me.x,ke.y-Me.y),$.fv=Eo(J,ee)}function Fn(E){y.DEBUG&&console.log(E.step,"POP[]"),E.stack.pop()}function Hn(E,$){var J=$.stack.pop(),ee=$.z0[J],fe=$.fv,Me=$.pv,ke=(y.DEBUG&&console.log($.step,"MDAP["+E+"]",J),Me.distance(ee,it));E&&(ke=$.round(ke)),fe.setRelative(ee,it,ke,Me),fe.touch(ee),$.rp0=$.rp1=J}function Yn(E,$){var J,ee,fe,Me=$.z2,ke=Me.length-2;y.DEBUG&&console.log($.step,"IUP["+E.axis+"]");for(var tt=0;tt<ke;tt++)E.touched(J=Me[tt])||(ee=J.prevTouched(E))!==J&&(ee===(fe=J.nextTouched(E))&&E.setRelative(J,J,E.distance(ee,ee,!1,!0),E,!0),E.interpolate(J,ee,fe,E))}function pr(E,$){for(var J=$.stack,fe=(E?$.z0:$.z1)[E?$.rp1:$.rp2],Me=$.fv,ke=$.pv,tt=$.loop,wt=$.z2;tt--;){var _t=J.pop(),zt=wt[_t],_e=ke.distance(fe,fe,!1,!0);Me.setRelative(zt,zt,_e,ke),Me.touch(zt),y.DEBUG&&console.log($.step,(1<$.loop?"loop "+($.loop-tt)+": ":"")+"SHP["+(E?"rp1":"rp2")+"]",_t)}$.loop=1}function br(E,$){for(var ee=(E?$.z0:$.z1)[E?$.rp1:$.rp2],fe=$.fv,Me=$.pv,ke=$.stack.pop(),tt=$.z2[$.contours[ke]],wt=tt,_t=(y.DEBUG&&console.log($.step,"SHC["+E+"]",ke),Me.distance(ee,ee,!1,!0));wt!==ee&&fe.setRelative(wt,wt,_t,Me),(wt=wt.nextPointOnContour)!==tt;);}function _r(E,$){var J,ee,fe=(E?$.z0:$.z1)[fe=E?$.rp1:$.rp2],Me=$.fv,ke=$.pv,tt=(tt=$.stack).pop();switch(y.DEBUG&&console.log($.step,"SHZ["+E+"]",tt),tt){case 0:J=$.tZone;break;case 1:J=$.gZone;break;default:throw new Error("Invalid zone")}for(var wt=ke.distance(fe,fe,!1,!0),_t=J.length-2,zt=0;zt<_t;zt++)Me.setRelative(ee=J[zt],ee,wt,ke)}function Fr(E,$){var J=(ee=$.stack).pop()/64,ee=ee.pop(),fe=$.z1[ee],ke=$.fv;ke.setRelative(fe,$.z0[$.rp0],J,$.pv),ke.touch(fe),y.DEBUG&&console.log($.step,"MSIRP["+E+"]",J,ee),$.rp1=$.rp0,$.rp2=ee,E&&($.rp0=ee)}function kr(E,$){var tt=(J=$.stack).pop(),J=J.pop(),ee=$.z0[J],fe=$.fv,Me=$.pv,ke=$.cvt[tt];y.DEBUG&&console.log($.step,"MIAP["+E+"]",tt,"(",ke,")",J),tt=Me.distance(ee,it),E&&(Math.abs(tt-ke)<$.cvCutIn&&(tt=ke),tt=$.round(tt)),fe.setRelative(ee,it,tt,Me),0===$.zp0&&(ee.xo=ee.x,ee.yo=ee.y),fe.touch(ee),$.rp0=$.rp1=J}function Rn(E,$){var J=$.stack,ee=J.pop(),fe=$.z2[ee];y.DEBUG&&console.log($.step,"GC["+E+"]",ee),J.push(64*$.dpv.distance(fe,it,E,!1))}function go(E,$){var J=(ee=$.stack).pop(),ee=ee.pop(),Me=$.dpv.distance(Me=$.z0[ee],$.z1[J],E,E);y.DEBUG&&console.log($.step,"MD["+E+"]",J,ee,"->",Me),$.stack.push(Math.round(64*Me))}function Lo(E,$){var J=$.stack,ee=J.pop(),fe=$.fv,Me=$.pv,ke=$.ppem,tt=$.deltaBase+16*(E-1),wt=$.deltaShift,_t=$.z0;y.DEBUG&&console.log($.step,"DELTAP["+E+"]",ee,J);for(var zt=0;zt<ee;zt++){var _e=J.pop(),ae=J.pop();tt+((240&ae)>>4)===ke&&(0<=(ae=(15&ae)-8)&&ae++,y.DEBUG&&console.log($.step,"DELTAPFIX",_e,"by",ae*wt),fe.setRelative(_e=_t[_e],_e,ae*wt,Me))}}function Pr(E,$){var J=$.stack,ee=J.pop();y.DEBUG&&console.log($.step,"ROUND[]"),J.push(64*$.round(ee/64))}function Oi(E,$){var J=$.stack,ee=J.pop(),fe=$.ppem,Me=$.deltaBase+16*(E-1),ke=$.deltaShift;y.DEBUG&&console.log($.step,"DELTAC["+E+"]",ee,J);for(var tt=0;tt<ee;tt++){var wt=J.pop(),_t=J.pop();Me+((240&_t)>>4)===fe&&(0<=(_t=(15&_t)-8)&&_t++,_t*=ke,y.DEBUG&&console.log($.step,"DELTACFIX",wt,"by",_t),$.cvt[wt]+=_t)}}function ys(E,$){var J,ee=(fe=$.stack).pop(),fe=fe.pop(),Me=$.z2[ee],ke=$.z1[fe];y.DEBUG&&console.log($.step,"SDPVTL["+E+"]",ee,fe),ee=E?(J=Me.y-ke.y,ke.x-Me.x):(J=ke.x-Me.x,ke.y-Me.y),$.dpv=Eo(J,ee)}function ho(E,$){var J=$.stack,ee=$.prog,fe=$.ip;y.DEBUG&&console.log($.step,"PUSHB["+E+"]");for(var Me=0;Me<E;Me++)J.push(ee[++fe]);$.ip=fe}function Ur(E,$){var J=$.ip,ee=$.prog,fe=$.stack;y.DEBUG&&console.log($.ip,"PUSHW["+E+"]");for(var Me=0;Me<E;Me++){var ke=ee[++J]<<8|ee[++J];32768&ke&&(ke=-(1+(65535^ke))),fe.push(ke)}$.ip=J}function Gn(E,$,J,ee,fe,Me){var ke,tt,zt,_t=Me.stack,wt=E&&_t.pop(),_e=(_t=_t.pop(),Me.z1[_t]),ae=Me.minDis,we=Me.fv,ye=Me.dpv,Ge=ke=ye.distance(_e,zt=Me.z0[zt=Me.rp0],!0,!0),Lt=0<=Ge?1:-1;Ge=Math.abs(Ge),E&&(tt=Me.cvt[wt],ee&&Math.abs(Ge-tt)<Me.cvCutIn&&(Ge=tt)),J&&Ge<ae&&(Ge=ae),ee&&(Ge=Me.round(Ge)),we.setRelative(_e,zt,Lt*Ge,ye),we.touch(_e),y.DEBUG&&console.log(Me.step,(E?"MIRP[":"MDRP[")+($?"M":"m")+(J?">":"_")+(ee?"R":"_")+(0===fe?"Gr":1===fe?"Bl":2===fe?"Wh":"")+"]",E?wt+"("+Me.cvt[wt]+","+tt+")":"",_t,"(d =",ke,"->",Lt*Ge,")"),Me.rp1=Me.rp0,Me.rp2=_t,$&&(Me.rp0=_t)}Gr.prototype.exec=function(E,$){if("number"!=typeof $)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var J=this.font,ee=this._prepState;if(!ee||ee.ppem!==$){var fe=this._fpgmState;if(!fe){Rt.prototype=Mt,(fe=this._fpgmState=new Rt("fpgm",J.tables.fpgm)).funcs=[],fe.font=J,y.DEBUG&&(console.log("---EXEC FPGM---"),fe.step=-1);try{So(fe)}catch(_t){return console.log("Hinting error in FPGM:"+_t),void(this._errorState=3)}}Rt.prototype=fe,(ee=this._prepState=new Rt("prep",J.tables.prep)).ppem=$;var Me=J.tables.cvt;if(Me)for(var ke=ee.cvt=new Array(Me.length),tt=$/J.unitsPerEm,wt=0;wt<Me.length;wt++)ke[wt]=Me[wt]*tt;else ee.cvt=[];y.DEBUG&&(console.log("---EXEC PREP---"),ee.step=-1);try{So(ee)}catch(_t){this._errorState<2&&console.log("Hinting error in PREP:"+_t),this._errorState=2}}if(!(1<this._errorState))try{return Go(E,ee)}catch(_t){this._errorState<1&&(console.log("Hinting error:"+_t),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Go=function(E,$){var J=$.ppem/$.font.unitsPerEm,ee=J,fe=E.components;if(Rt.prototype=$,fe){for(var Me=$.font,ke=[],tt=[],wt=0;wt<fe.length;wt++){var _t=fe[wt],zt=Me.glyphs.get(_t.glyphIndex),_e=new Rt("glyf",zt.instructions);y.DEBUG&&(console.log("---EXEC COMP "+wt+"---"),_e.step=-1),Jo(zt,_e,J,ee);for(var ae=Math.round(_t.dx*J),we=Math.round(_t.dy*ee),ye=_e.gZone,Ge=_e.contours,Lt=0;Lt<ye.length;Lt++){var Ht=ye[Lt];Ht.xTouched=Ht.yTouched=!1,Ht.xo=Ht.x=Ht.x+ae,Ht.yo=Ht.y=Ht.y+we}var tn=ke.length;ke.push.apply(ke,ye);for(var Bn=0;Bn<Ge.length;Bn++)tt.push(Ge[Bn]+tn)}E.instructions&&!_e.inhibitGridFit&&((_e=new Rt("glyf",E.instructions)).gZone=_e.z0=_e.z1=_e.z2=ke,_e.contours=tt,ke.push(new Fe(0,0),new Fe(Math.round(E.advanceWidth*J),0)),y.DEBUG&&(console.log("---EXEC COMPOSITE---"),_e.step=-1),So(_e),ke.length-=2)}else _e=new Rt("glyf",E.instructions),y.DEBUG&&(console.log("---EXEC GLYPH---"),_e.step=-1),Jo(E,_e,J,ee),ke=_e.gZone;return ke},Jo=function(E,$,J,ee){for(var fe,Me,tt=E.points||[],wt=tt.length,_t=$.gZone=$.z0=$.z1=$.z2=[],zt=$.contours=[],_e=0;_e<wt;_e++)_t[_e]=new Fe((fe=tt[_e]).x*J,fe.y*ee,fe.lastPointOfContour,fe.onCurve);for(var ae=0;ae<wt;ae++)fe=_t[ae],Me||(Me=fe,zt.push(ae)),fe.lastPointOfContour?((fe.nextPointOnContour=Me).prevPointOnContour=fe,Me=void 0):(fe.nextPointOnContour=_t[ae+1]).prevPointOnContour=fe;if(!$.inhibitGridFit){if(y.DEBUG){console.log("PROCESSING GLYPH",$.stack);for(var we=0;we<wt;we++)console.log(we,_t[we].x,_t[we].y)}if(_t.push(new Fe(0,0),new Fe(Math.round(E.advanceWidth*J),0)),So($),_t.length-=2,y.DEBUG){console.log("FINISHED GLYPH",$.stack);for(var ye=0;ye<wt;ye++)console.log(ye,_t[ye].x,_t[ye].y)}}},So=function(E){var $=E.prog;if($){var J,ee=$.length;for(E.ip=0;E.ip<ee;E.ip++){if(y.DEBUG&&E.step++,!(J=ji[$[E.ip]]))throw new Error("unknown instruction: 0x"+Number($[E.ip]).toString(16));J(E)}}},ji=[gn.bind(void 0,Ao),gn.bind(void 0,Co),wn.bind(void 0,Ao),wn.bind(void 0,Co),Sn.bind(void 0,Ao),Sn.bind(void 0,Co),xn.bind(void 0,0),xn.bind(void 0,1),Un.bind(void 0,0),Un.bind(void 0,1),function(E){var $=(J=E.stack).pop(),J=J.pop();y.DEBUG&&console.log(E.step,"SPVFS[]",$,J),E.pv=E.dpv=Eo(J,$)},function(E){var $=(J=E.stack).pop(),J=J.pop();y.DEBUG&&console.log(E.step,"SPVFS[]",$,J),E.fv=Eo(J,$)},function(E){var $=E.stack,J=E.pv;y.DEBUG&&console.log(E.step,"GPV[]"),$.push(16384*J.x),$.push(16384*J.y)},function(E){var $=E.stack,J=E.fv;y.DEBUG&&console.log(E.step,"GFV[]"),$.push(16384*J.x),$.push(16384*J.y)},function(E){E.fv=E.pv,y.DEBUG&&console.log(E.step,"SFVTPV[]")},function($){var J=(ke=$.stack).pop(),ee=ke.pop(),fe=ke.pop(),Me=ke.pop(),ke=ke.pop(),tt=(wt=$.z0)[J],wt=wt[ee],_t=(zt=$.z1)[fe],zt=zt[Me],_e=($=$.z2[ke],y.DEBUG&&console.log("ISECT[], ",J,ee,fe,Me,ke),J=tt.x,ee=tt.y,tt=_t.y,J*(Me=wt.y)-ee*(fe=wt.x)),ae=(ke=_t.x)*(_t=zt.y)-tt*(wt=zt.x);$.x=(_e*(ke-wt)-ae*(J-fe))/(zt=(J-fe)*(tt-_t)-(ee-Me)*(ke-wt)),$.y=(_e*(tt-_t)-ae*(ee-Me))/zt},function(E){E.rp0=E.stack.pop(),y.DEBUG&&console.log(E.step,"SRP0[]",E.rp0)},function(E){E.rp1=E.stack.pop(),y.DEBUG&&console.log(E.step,"SRP1[]",E.rp1)},function(E){E.rp2=E.stack.pop(),y.DEBUG&&console.log(E.step,"SRP2[]",E.rp2)},function(E){var $=E.stack.pop();switch(y.DEBUG&&console.log(E.step,"SZP0[]",$),E.zp0=$){case 0:E.tZone||Qt(E),E.z0=E.tZone;break;case 1:E.z0=E.gZone;break;default:throw new Error("Invalid zone pointer")}},function(E){var $=E.stack.pop();switch(y.DEBUG&&console.log(E.step,"SZP1[]",$),E.zp1=$){case 0:E.tZone||Qt(E),E.z1=E.tZone;break;case 1:E.z1=E.gZone;break;default:throw new Error("Invalid zone pointer")}},function(E){var $=E.stack.pop();switch(y.DEBUG&&console.log(E.step,"SZP2[]",$),E.zp2=$){case 0:E.tZone||Qt(E),E.z2=E.tZone;break;case 1:E.z2=E.gZone;break;default:throw new Error("Invalid zone pointer")}},function(E){var $=E.stack.pop();switch(y.DEBUG&&console.log(E.step,"SZPS[]",$),E.zp0=E.zp1=E.zp2=$){case 0:E.tZone||Qt(E),E.z0=E.z1=E.z2=E.tZone;break;case 1:E.z0=E.z1=E.z2=E.gZone;break;default:throw new Error("Invalid zone pointer")}},function(E){E.loop=E.stack.pop(),y.DEBUG&&console.log(E.step,"SLOOP[]",E.loop)},function(E){y.DEBUG&&console.log(E.step,"RTG[]"),E.round=ti},function(E){y.DEBUG&&console.log(E.step,"RTHG[]"),E.round=Ai},function(E){var $=E.stack.pop();y.DEBUG&&console.log(E.step,"SMD[]",$),E.minDis=$/64},function(E){y.DEBUG&&console.log(E.step,"ELSE[]"),qt(E,!1)},function(E){var $=E.stack.pop();y.DEBUG&&console.log(E.step,"JMPR[]",$),E.ip+=$-1},function(E){var $=E.stack.pop();y.DEBUG&&console.log(E.step,"SCVTCI[]",$),E.cvCutIn=$/64},void 0,void 0,function(E){var $=E.stack;y.DEBUG&&console.log(E.step,"DUP[]"),$.push($[$.length-1])},Fn,function(E){y.DEBUG&&console.log(E.step,"CLEAR[]"),E.stack.length=0},function(E){var $=E.stack,J=$.pop(),ee=$.pop();y.DEBUG&&console.log(E.step,"SWAP[]"),$.push(J),$.push(ee)},function(E){var $=E.stack;y.DEBUG&&console.log(E.step,"DEPTH[]"),$.push($.length)},function(E){var $=E.stack,J=$.pop();y.DEBUG&&console.log(E.step,"CINDEX[]",J),$.push($[$.length-J])},function(E){var $=E.stack,J=$.pop();y.DEBUG&&console.log(E.step,"MINDEX[]",J),$.push($.splice($.length-J,1)[0])},void 0,void 0,void 0,function(E){var $=(ee=E.stack).pop(),J=ee.pop(),ee=(y.DEBUG&&console.log(E.step,"LOOPCALL[]",$,J),E.ip),fe=E.prog;E.prog=E.funcs[$];for(var Me=0;Me<J;Me++)So(E),y.DEBUG&&console.log(++E.step,Me+1<J?"next loopcall":"done loopcall",Me);E.ip=ee,E.prog=fe},function(E){var $=E.stack.pop(),J=(y.DEBUG&&console.log(E.step,"CALL[]",$),E.ip),ee=E.prog;E.prog=E.funcs[$],So(E),E.ip=J,E.prog=ee,y.DEBUG&&console.log(++E.step,"returning from",$)},function(E){if("fpgm"!==E.env)throw new Error("FDEF not allowed here");var $=E.prog,J=E.ip,ee=(ee=E.stack).pop(),fe=J;for(y.DEBUG&&console.log(E.step,"FDEF[]",ee);45!==$[++J];);E.ip=J,E.funcs[ee]=$.slice(fe+1,J)},void 0,Hn.bind(void 0,0),Hn.bind(void 0,1),Yn.bind(void 0,Ao),Yn.bind(void 0,Co),pr.bind(void 0,0),pr.bind(void 0,1),br.bind(void 0,0),br.bind(void 0,1),_r.bind(void 0,0),_r.bind(void 0,1),function(E){for(var $=E.stack,J=E.loop,ee=E.fv,fe=$.pop()/64,Me=E.z2;J--;){var ke=$.pop(),tt=Me[ke];y.DEBUG&&console.log(E.step,(1<E.loop?"loop "+(E.loop-J)+": ":"")+"SHPIX[]",ke,fe),ee.setRelative(tt,tt,fe),ee.touch(tt)}E.loop=1},function(E){for(var $=E.stack,J=E.rp1,ee=E.rp2,fe=E.loop,Me=E.z0[J],ke=E.z1[ee],tt=E.fv,wt=E.dpv,_t=E.z2;fe--;){var zt=$.pop(),_e=_t[zt];y.DEBUG&&console.log(E.step,(1<E.loop?"loop "+(E.loop-fe)+": ":"")+"IP[]",zt,J,"<->",ee),tt.interpolate(_e,Me,ke,wt),tt.touch(_e)}E.loop=1},Fr.bind(void 0,0),Fr.bind(void 0,1),function(E){for(var $=E.stack,ee=E.z0[E.rp0],fe=E.loop,Me=E.fv,ke=E.pv,tt=E.z1;fe--;){var wt=$.pop(),_t=tt[wt];y.DEBUG&&console.log(E.step,(1<E.loop?"loop "+(E.loop-fe)+": ":"")+"ALIGNRP[]",wt),Me.setRelative(_t,ee,0,ke),Me.touch(_t)}E.loop=1},function(E){y.DEBUG&&console.log(E.step,"RTDG[]"),E.round=Yo},kr.bind(void 0,0),kr.bind(void 0,1),function(E){var $=E.prog,J=E.ip,ee=E.stack,fe=$[++J];y.DEBUG&&console.log(E.step,"NPUSHB[]",fe);for(var Me=0;Me<fe;Me++)ee.push($[++J]);E.ip=J},function(E){var $=E.ip,J=E.prog,ee=E.stack,fe=J[++$];y.DEBUG&&console.log(E.step,"NPUSHW[]",fe);for(var Me=0;Me<fe;Me++){var ke=J[++$]<<8|J[++$];32768&ke&&(ke=-(1+(65535^ke))),ee.push(ke)}E.ip=$},function(E){var ee=E.stack,$=($=E.store)||(E.store=[]),J=ee.pop();ee=ee.pop(),y.DEBUG&&console.log(E.step,"WS",J,ee),$[ee]=J},function(fe){var $=fe.stack,J=fe.store,ee=$.pop();y.DEBUG&&console.log(fe.step,"RS",ee),$.push(fe=J&&J[ee]||0)},function(E){var $=(J=E.stack).pop(),J=J.pop();y.DEBUG&&console.log(E.step,"WCVTP",$,J),E.cvt[J]=$/64},function(E){var $=E.stack,J=$.pop();y.DEBUG&&console.log(E.step,"RCVT",J),$.push(64*E.cvt[J])},Rn.bind(void 0,0),Rn.bind(void 0,1),void 0,go.bind(void 0,0),go.bind(void 0,1),function(E){y.DEBUG&&console.log(E.step,"MPPEM[]"),E.stack.push(E.ppem)},void 0,function(E){y.DEBUG&&console.log(E.step,"FLIPON[]"),E.autoFlip=!0},void 0,void 0,function(E){var $=E.stack,J=$.pop(),ee=$.pop();y.DEBUG&&console.log(E.step,"LT[]",J,ee),$.push(ee<J?1:0)},function(E){var $=E.stack,J=$.pop(),ee=$.pop();y.DEBUG&&console.log(E.step,"LTEQ[]",J,ee),$.push(ee<=J?1:0)},function(E){var $=E.stack,J=$.pop(),ee=$.pop();y.DEBUG&&console.log(E.step,"GT[]",J,ee),$.push(J<ee?1:0)},function(E){var $=E.stack,J=$.pop(),ee=$.pop();y.DEBUG&&console.log(E.step,"GTEQ[]",J,ee),$.push(J<=ee?1:0)},function(E){var $=E.stack,J=$.pop(),ee=$.pop();y.DEBUG&&console.log(E.step,"EQ[]",J,ee),$.push(J===ee?1:0)},function(E){var $=E.stack,J=$.pop(),ee=$.pop();y.DEBUG&&console.log(E.step,"NEQ[]",J,ee),$.push(J!==ee?1:0)},function(E){var $=E.stack,J=$.pop();y.DEBUG&&console.log(E.step,"ODD[]",J),$.push(Math.trunc(J)%2?1:0)},function(E){var $=E.stack,J=$.pop();y.DEBUG&&console.log(E.step,"EVEN[]",J),$.push(Math.trunc(J)%2?0:1)},function(E){var $=E.stack.pop();y.DEBUG&&console.log(E.step,"IF[]",$),$||(qt(E,!0),y.DEBUG&&console.log(E.step,"EIF[]"))},function(E){y.DEBUG&&console.log(E.step,"EIF[]")},function(E){var $=E.stack,J=$.pop(),ee=$.pop();y.DEBUG&&console.log(E.step,"AND[]",J,ee),$.push(J&&ee?1:0)},function(E){var $=E.stack,J=$.pop(),ee=$.pop();y.DEBUG&&console.log(E.step,"OR[]",J,ee),$.push(J||ee?1:0)},function(E){var $=E.stack,J=$.pop();y.DEBUG&&console.log(E.step,"NOT[]",J),$.push(J?0:1)},Lo.bind(void 0,1),function(E){var $=E.stack.pop();y.DEBUG&&console.log(E.step,"SDB[]",$),E.deltaBase=$},function(E){var $=E.stack.pop();y.DEBUG&&console.log(E.step,"SDS[]",$),E.deltaShift=Math.pow(.5,$)},function(E){var $=E.stack,J=$.pop(),ee=$.pop();y.DEBUG&&console.log(E.step,"ADD[]",J,ee),$.push(ee+J)},function(E){var $=E.stack,J=$.pop(),ee=$.pop();y.DEBUG&&console.log(E.step,"SUB[]",J,ee),$.push(ee-J)},function(E){var $=E.stack,J=$.pop(),ee=$.pop();y.DEBUG&&console.log(E.step,"DIV[]",J,ee),$.push(64*ee/J)},function(E){var $=E.stack,J=$.pop(),ee=$.pop();y.DEBUG&&console.log(E.step,"MUL[]",J,ee),$.push(ee*J/64)},function(E){var $=E.stack,J=$.pop();y.DEBUG&&console.log(E.step,"ABS[]",J),$.push(Math.abs(J))},function(E){var $=E.stack,J=$.pop();y.DEBUG&&console.log(E.step,"NEG[]",J),$.push(-J)},function(E){var $=E.stack,J=$.pop();y.DEBUG&&console.log(E.step,"FLOOR[]",J),$.push(64*Math.floor(J/64))},function(E){var $=E.stack,J=$.pop();y.DEBUG&&console.log(E.step,"CEILING[]",J),$.push(64*Math.ceil(J/64))},Pr.bind(void 0,0),Pr.bind(void 0,1),Pr.bind(void 0,2),Pr.bind(void 0,3),void 0,void 0,void 0,void 0,function(E){var $=(J=E.stack).pop(),J=J.pop();y.DEBUG&&console.log(E.step,"WCVTF[]",$,J),E.cvt[J]=$*E.ppem/E.font.unitsPerEm},Lo.bind(void 0,2),Lo.bind(void 0,3),Oi.bind(void 0,1),Oi.bind(void 0,2),Oi.bind(void 0,3),function(E){var $,J=E.stack.pop();switch(y.DEBUG&&console.log(E.step,"SROUND[]",J),E.round=Ii,192&J){case 0:$=.5;break;case 64:$=1;break;case 128:$=2;break;default:throw new Error("invalid SROUND value")}switch(E.srPeriod=$,48&J){case 0:E.srPhase=0;break;case 16:E.srPhase=.25*$;break;case 32:E.srPhase=.5*$;break;case 48:E.srPhase=.75*$;break;default:throw new Error("invalid SROUND value")}E.srThreshold=0==(J&=15)?0:(J/8-.5)*$},function(E){var $,J=E.stack.pop();switch(y.DEBUG&&console.log(E.step,"S45ROUND[]",J),E.round=Ii,192&J){case 0:$=Math.sqrt(2)/2;break;case 64:$=Math.sqrt(2);break;case 128:$=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(E.srPeriod=$,48&J){case 0:E.srPhase=0;break;case 16:E.srPhase=.25*$;break;case 32:E.srPhase=.5*$;break;case 48:E.srPhase=.75*$;break;default:throw new Error("invalid S45ROUND value")}E.srThreshold=0==(J&=15)?0:(J/8-.5)*$},void 0,void 0,function(E){y.DEBUG&&console.log(E.step,"ROFF[]"),E.round=mo},void 0,function(E){y.DEBUG&&console.log(E.step,"RUTG[]"),E.round=Mi},function(E){y.DEBUG&&console.log(E.step,"RDTG[]"),E.round=Vi},Fn,Fn,void 0,void 0,void 0,void 0,void 0,function(E){var $=E.stack.pop();y.DEBUG&&console.log(E.step,"SCANCTRL[]",$)},ys.bind(void 0,0),ys.bind(void 0,1),function(E){var $=E.stack,J=$.pop(),ee=0;y.DEBUG&&console.log(E.step,"GETINFO[]",J),1&J&&(ee=35),32&J&&(ee|=4096),$.push(ee)},void 0,function(E){var $=E.stack,J=$.pop(),ee=$.pop(),fe=$.pop();y.DEBUG&&console.log(E.step,"ROLL[]"),$.push(ee),$.push(J),$.push(fe)},function(E){var $=E.stack,J=$.pop(),ee=$.pop();y.DEBUG&&console.log(E.step,"MAX[]",J,ee),$.push(Math.max(ee,J))},function(E){var $=E.stack,J=$.pop(),ee=$.pop();y.DEBUG&&console.log(E.step,"MIN[]",J,ee),$.push(Math.min(ee,J))},function(E){var $=E.stack.pop();y.DEBUG&&console.log(E.step,"SCANTYPE[]",$)},function(E){var $=E.stack.pop(),J=E.stack.pop();switch(y.DEBUG&&console.log(E.step,"INSTCTRL[]",$,J),$){case 1:return void(E.inhibitGridFit=!!J);case 2:return void(E.ignoreCvt=!!J);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,ho.bind(void 0,1),ho.bind(void 0,2),ho.bind(void 0,3),ho.bind(void 0,4),ho.bind(void 0,5),ho.bind(void 0,6),ho.bind(void 0,7),ho.bind(void 0,8),Ur.bind(void 0,1),Ur.bind(void 0,2),Ur.bind(void 0,3),Ur.bind(void 0,4),Ur.bind(void 0,5),Ur.bind(void 0,6),Ur.bind(void 0,7),Ur.bind(void 0,8),Gn.bind(void 0,0,0,0,0,0),Gn.bind(void 0,0,0,0,0,1),Gn.bind(void 0,0,0,0,0,2),Gn.bind(void 0,0,0,0,0,3),Gn.bind(void 0,0,0,0,1,0),Gn.bind(void 0,0,0,0,1,1),Gn.bind(void 0,0,0,0,1,2),Gn.bind(void 0,0,0,0,1,3),Gn.bind(void 0,0,0,1,0,0),Gn.bind(void 0,0,0,1,0,1),Gn.bind(void 0,0,0,1,0,2),Gn.bind(void 0,0,0,1,0,3),Gn.bind(void 0,0,0,1,1,0),Gn.bind(void 0,0,0,1,1,1),Gn.bind(void 0,0,0,1,1,2),Gn.bind(void 0,0,0,1,1,3),Gn.bind(void 0,0,1,0,0,0),Gn.bind(void 0,0,1,0,0,1),Gn.bind(void 0,0,1,0,0,2),Gn.bind(void 0,0,1,0,0,3),Gn.bind(void 0,0,1,0,1,0),Gn.bind(void 0,0,1,0,1,1),Gn.bind(void 0,0,1,0,1,2),Gn.bind(void 0,0,1,0,1,3),Gn.bind(void 0,0,1,1,0,0),Gn.bind(void 0,0,1,1,0,1),Gn.bind(void 0,0,1,1,0,2),Gn.bind(void 0,0,1,1,0,3),Gn.bind(void 0,0,1,1,1,0),Gn.bind(void 0,0,1,1,1,1),Gn.bind(void 0,0,1,1,1,2),Gn.bind(void 0,0,1,1,1,3),Gn.bind(void 0,1,0,0,0,0),Gn.bind(void 0,1,0,0,0,1),Gn.bind(void 0,1,0,0,0,2),Gn.bind(void 0,1,0,0,0,3),Gn.bind(void 0,1,0,0,1,0),Gn.bind(void 0,1,0,0,1,1),Gn.bind(void 0,1,0,0,1,2),Gn.bind(void 0,1,0,0,1,3),Gn.bind(void 0,1,0,1,0,0),Gn.bind(void 0,1,0,1,0,1),Gn.bind(void 0,1,0,1,0,2),Gn.bind(void 0,1,0,1,0,3),Gn.bind(void 0,1,0,1,1,0),Gn.bind(void 0,1,0,1,1,1),Gn.bind(void 0,1,0,1,1,2),Gn.bind(void 0,1,0,1,1,3),Gn.bind(void 0,1,1,0,0,0),Gn.bind(void 0,1,1,0,0,1),Gn.bind(void 0,1,1,0,0,2),Gn.bind(void 0,1,1,0,0,3),Gn.bind(void 0,1,1,0,1,0),Gn.bind(void 0,1,1,0,1,1),Gn.bind(void 0,1,1,0,1,2),Gn.bind(void 0,1,1,0,1,3),Gn.bind(void 0,1,1,1,0,0),Gn.bind(void 0,1,1,1,0,1),Gn.bind(void 0,1,1,1,0,2),Gn.bind(void 0,1,1,1,0,3),Gn.bind(void 0,1,1,1,1,0),Gn.bind(void 0,1,1,1,1,1),Gn.bind(void 0,1,1,1,1,2),Gn.bind(void 0,1,1,1,1,3)],bi=Array.from||function(E){return E.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Sr(E){(E=E||{}).empty||(be(E.familyName,"When creating a new Font object, familyName is required."),be(E.styleName,"When creating a new Font object, styleName is required."),be(E.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),be(E.ascender,"When creating a new Font object, ascender is required."),be(E.descender,"When creating a new Font object, descender is required."),be(E.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:E.familyName||" "},fontSubfamily:{en:E.styleName||" "},fullName:{en:E.fullName||E.familyName+" "+E.styleName},postScriptName:{en:E.postScriptName||(E.familyName+E.styleName).replace(/\s/g,"")},designer:{en:E.designer||" "},designerURL:{en:E.designerURL||" "},manufacturer:{en:E.manufacturer||" "},manufacturerURL:{en:E.manufacturerURL||" "},license:{en:E.license||" "},licenseURL:{en:E.licenseURL||" "},version:{en:E.version||"Version 0.1"},description:{en:E.description||" "},copyright:{en:E.copyright||" "},trademark:{en:E.trademark||" "}},this.unitsPerEm=E.unitsPerEm||1e3,this.ascender=E.ascender,this.descender=E.descender,this.createdTimestamp=E.createdTimestamp,this.tables={os2:{usWeightClass:E.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:E.widthClass||this.usWidthClasses.MEDIUM,fsSelection:E.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new xt.GlyphSet(this,E.glyphs||[]),this.encoding=new Bt(this),this.position=new Vo(this),this.substitution=new oo(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||("truetype"===this.outlinesFormat?this._hinting=new Gr(this):void 0)}})}Sr.prototype.hasChar=function(E){return null!==this.encoding.charToGlyphIndex(E)},Sr.prototype.charToGlyphIndex=function(E){return this.encoding.charToGlyphIndex(E)},Sr.prototype.charToGlyph=function(E){return E=this.charToGlyphIndex(E),this.glyphs.get(E)||this.glyphs.get(0)},Sr.prototype.stringToGlyphs=function(E,$){$=$||this.defaultRenderOptions;for(var J=bi(E),ee=[],fe=0;fe<J.length;fe+=1)ee.push(this.charToGlyphIndex(J[fe]));var ke=ee.length;if($.features){E=$.script||this.substitution.getDefaultScriptName();var tt=[];$.features.liga&&(tt=tt.concat(this.substitution.getFeature("liga",E,$.language))),$.features.rlig&&(tt=tt.concat(this.substitution.getFeature("rlig",E,$.language)));for(var wt=0;wt<ke;wt+=1)for(var _t=0;_t<tt.length;_t++){for(var zt=tt[_t],_e=zt.sub,ae=_e.length,we=0;we<ae&&_e[we]===ee[wt+we];)we++;we===ae&&(ee.splice(wt,ae,zt.by),ke=ke-ae+1)}}for(var ye=new Array(ke),Ge=this.glyphs.get(0),Lt=0;Lt<ke;Lt+=1)ye[Lt]=this.glyphs.get(ee[Lt])||Ge;return ye},Sr.prototype.nameToGlyphIndex=function(E){return this.glyphNames.nameToGlyphIndex(E)},Sr.prototype.nameToGlyph=function(E){return E=this.nameToGlyphIndex(E),this.glyphs.get(E)||this.glyphs.get(0)},Sr.prototype.glyphIndexToName=function(E){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(E):""},Sr.prototype.getKerningValue=function(E,$){E=E.index||E,$=$.index||$;var J=this.position.defaultKerningTables;return J?this.position.getKerningValue(J,E,$):this.kerningPairs[E+","+$]||0},Sr.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Sr.prototype.forEachGlyph=function(E,$,J,ee,fe,Me){$=void 0!==$?$:0,J=void 0!==J?J:0;var ke,tt=1/this.unitsPerEm*(ee=void 0!==ee?ee:72),wt=this.stringToGlyphs(E,fe=fe||this.defaultRenderOptions);fe.kerning&&(E=fe.script||this.position.getDefaultScriptName(),ke=this.position.getKerningTables(E,fe.language));for(var _t=0;_t<wt.length;_t+=1){var zt=wt[_t];Me.call(this,zt,$,J,ee,fe),zt.advanceWidth&&($+=zt.advanceWidth*tt),fe.kerning&&_t<wt.length-1&&($+=(ke?this.position.getKerningValue(ke,zt.index,wt[_t+1].index):this.getKerningValue(zt,wt[_t+1]))*tt),fe.letterSpacing?$+=fe.letterSpacing*ee:fe.tracking&&($+=fe.tracking/1e3*ee)}return $},Sr.prototype.getPath=function(E,$,J,ee,fe){var Me=new ie;return this.forEachGlyph(E,$,J,ee,fe,function(ke,tt,wt,_t){ke=ke.getPath(tt,wt,_t,fe,this),Me.extend(ke)}),Me},Sr.prototype.getPaths=function(E,$,J,ee,fe){var Me=[];return this.forEachGlyph(E,$,J,ee,fe,function(ke,tt,wt,_t){ke=ke.getPath(tt,wt,_t,fe,this),Me.push(ke)}),Me},Sr.prototype.getAdvanceWidth=function(E,$,J){return this.forEachGlyph(E,0,0,$,J,function(){})},Sr.prototype.draw=function(E,$,J,ee,fe,Me){this.getPath($,J,ee,fe,Me).draw(E)},Sr.prototype.drawPoints=function(E,$,J,ee,fe,Me){this.forEachGlyph($,J,ee,fe,Me,function(ke,tt,wt,_t){ke.drawPoints(E,tt,wt,_t)})},Sr.prototype.drawMetrics=function(E,$,J,ee,fe,Me){this.forEachGlyph($,J,ee,fe,Me,function(ke,tt,wt,_t){ke.drawMetrics(E,tt,wt,_t)})},Sr.prototype.getEnglishName=function(E){if(E=this.names[E])return E.en},Sr.prototype.validate=function(){var E=this;function $(J){(J=E.getEnglishName(J))&&J.trim()}$("fontFamily"),$("weightName"),$("manufacturer"),$("copyright"),$("version")},Sr.prototype.toTables=function(){return wo_fontToTable(this)},Sr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Sr.prototype.toArrayBuffer=function(){for(var E=this.toTables().encode(),$=new ArrayBuffer(E.length),J=new Uint8Array($),ee=0;ee<E.length;ee++)J[ee]=E[ee];return $},Sr.prototype.download=function(E){var $=this.getEnglishName("fontFamily"),J=this.getEnglishName("fontSubfamily"),ee=(E=E||$.replace(/\s/g,"")+"-"+J+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,ee.byteLength,function(fe){fe.root.getFile(E,{create:!0},function(Me){Me.createWriter(function(ke){var tt=new DataView(ee);tt=new Blob([tt],{type:"font/opentype"}),ke.write(tt),ke.addEventListener("writeend",function(){location.href=Me.toURL()},!1)})})},function(fe){throw new Error(fe.name+": "+fe.message)})):($=o("fs"),J=function(fe){for(var Me=new v(fe.byteLength),ke=new Uint8Array(fe),tt=0;tt<Me.length;++tt)Me[tt]=ke[tt];return Me}(ee),$.writeFileSync(E,J))},Sr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Sr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Sr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Is_parse=function(E,$,J){for(var ee,Me,ke,tt=new Vt.Parser(E,$),wt=tt.parseULong(),_t=(R.argument(65536===wt,"Unsupported fvar table version."),tt.parseOffset16()),zt=(tt.skip("uShort",1),tt.parseUShort()),_e=tt.parseUShort(),ae=tt.parseUShort(),we=tt.parseUShort(),ye=[],Ge=0;Ge<zt;Ge++)ye.push((Me=J,ke={},ee=new Vt.Parser(ee=E,$+_t+Ge*_e),ke.tag=ee.parseTag(),ke.minValue=ee.parseFixed(),ke.defaultValue=ee.parseFixed(),ke.maxValue=ee.parseFixed(),ee.skip("uShort",1),ke.name=Me[ee.parseUShort()]||{},ke));for(var Lt=[],Ht=$+_t+zt*_e,tn=0;tn<ae;tn++)Lt.push(function(Bn,Ln,Wn,Xn){var nr={},vr=new Vt.Parser(Bn,Ln);nr.name=Xn[vr.parseUShort()]||{},vr.skip("uShort",1),nr.coordinates={};for(var Kr=0;Kr<Wn.length;++Kr)nr.coordinates[Wn[Kr].tag]=vr.parseFixed();return nr}(E,Ht+tn*we,ye,J));return{axes:ye,instances:Lt}},Mo=new Array(10);Mo[1]=function(){var E=this.offset+this.relativeOffset,$=this.parseUShort();return 1===$?{posFormat:1,coverage:this.parsePointer(It.coverage),value:this.parseValueRecord()}:2===$?{posFormat:2,coverage:this.parsePointer(It.coverage),values:this.parseValueRecordList()}:void R.assert(!1,"0x"+E.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Mo[2]=function(){var E,$,J,ee,Me=this.offset+this.relativeOffset,fe=this.parseUShort(),ke=(R.assert(1===fe||2===fe,"0x"+Me.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),Me=this.parsePointer(It.coverage),this.parseUShort()),tt=this.parseUShort();return 1===fe?{posFormat:fe,coverage:Me,valueFormat1:ke,valueFormat2:tt,pairSets:this.parseList(It.pointer(It.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(ke),value2:this.parseValueRecord(tt)}})))}:2===fe?(E=this.parsePointer(It.classDef),$=this.parsePointer(It.classDef),J=this.parseUShort(),ee=this.parseUShort(),{posFormat:fe,coverage:Me,valueFormat1:ke,valueFormat2:tt,classDef1:E,classDef2:$,class1Count:J,class2Count:ee,classRecords:this.parseList(J,It.list(ee,function(){return{value1:this.parseValueRecord(ke),value2:this.parseValueRecord(tt)}}))}):void 0},Mo[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Mo[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Mo[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Mo[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Mo[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Mo[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Mo[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var Pi_parse=function(E,$){return $=(E=new It(E,$=$||0)).parseVersion(1),R.argument(1===$||1.1===$,"Unsupported GPOS table version "+$),1===$?{version:$,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(Mo)}:{version:$,scripts:E.parseScriptList(),features:E.parseFeatureList(),lookups:E.parseLookupList(Mo),variations:E.parseFeatureVariationsList()}},Xr_parse=function(E,$){if(0===($=(E=new Vt.Parser(E,$)).parseUShort())){var J=E,ee={},_e=(J.skip("uShort"),J.parseUShort()),fe=(R.argument(0===_e,"Unsupported kern sub-table version."),J.skip("uShort",2),J.parseUShort());J.skip("uShort",3);for(var Me=0;Me<fe;Me+=1){var ke=J.parseUShort(),tt=J.parseUShort(),wt=J.parseShort();ee[ke+","+tt]=wt}return ee}if(1!==$)throw new Error("Unsupported kern table version ("+$+").");var _t=E,zt={};if(_t.skip("uShort"),1<_t.parseULong()&&console.warn("Only the first kern subtable is supported."),_t.skip("uLong"),_e=255&_t.parseUShort(),_t.skip("uShort"),0==_e){var ae=_t.parseUShort();_t.skip("uShort",3);for(var we=0;we<ae;we+=1){var ye=_t.parseUShort(),Ge=_t.parseUShort(),Lt=_t.parseShort();zt[ye+","+Ge]=Lt}}return zt},Ri_parse=function(E,$,J,ee){for(var fe=new Vt.Parser(E,$),Me=ee?fe.parseUShort:fe.parseULong,ke=[],tt=0;tt<J+1;tt+=1){var wt=Me.call(fe);ee&&(wt*=2),ke.push(wt)}return ke};function _i(E,$){o("fs").readFile(E,function(J,ee){if(J)return $(J.message);$(null,vi(ee))})}function wi(E,$){var J=new XMLHttpRequest;J.open("get",E,!0),J.responseType="arraybuffer",J.onload=function(){return J.response?$(null,J.response):$("Font could not be loaded: "+J.statusText)},J.onerror=function(){$("Font could not be loaded")},J.send()}function Gi(E,$){for(var J=[],ee=12,fe=0;fe<$;fe+=1){var Me=Vt.getTag(E,ee),ke=Vt.getULong(E,ee+4),tt=Vt.getULong(E,ee+8),wt=Vt.getULong(E,ee+12);J.push({tag:Me,checksum:ke,offset:tt,length:wt,compression:!1}),ee+=16}return J}function zn(J,$){if("WOFF"!==$.compression)return{data:J,offset:$.offset};J=new Uint8Array(J.buffer,$.offset+2,$.compressedLength-2);var ee=new Uint8Array($.length);if(B(J,ee),ee.byteLength!==$.length)throw new Error("Decompression error: "+$.tag+" decompressed length doesn't match recorded length");return{data:new DataView(ee.buffer,0),offset:0}}function Ho(tn){var $,J,ee,fe,Me,ke,tt,wt,_t,zt,_e,ae,we,ye,Ge=new Sr({empty:!0}),Lt=new DataView(tn,0),Ht=[];if("\0\x01\0\0"===(tn=Vt.getTag(Lt,0))||"true"===tn||"typ1"===tn)Ge.outlinesFormat="truetype",Ht=Gi(Lt,ee=Vt.getUShort(Lt,4));else if("OTTO"===tn)Ge.outlinesFormat="cff",Ht=Gi(Lt,ee=Vt.getUShort(Lt,4));else{if("wOFF"!==tn)throw new Error("Unsupported OpenType signature "+tn);if("\0\x01\0\0"===(Bn=Vt.getTag(Lt,4)))Ge.outlinesFormat="truetype";else{if("OTTO"!==Bn)throw new Error("Unsupported OpenType flavor "+tn);Ge.outlinesFormat="cff"}Ht=function(Mr,$n){for(var Br=[],$r=44,lo=0;lo<$n;lo+=1){var Rr=Vt.getTag(Mr,$r),uo=Vt.getULong(Mr,$r+4),ni=Vt.getULong(Mr,$r+8),rs=Vt.getULong(Mr,$r+12);Br.push({tag:Rr,offset:uo,compression:ni<rs&&"WOFF",compressedLength:ni,length:rs}),$r+=20}return Br}(Lt,ee=Vt.getUShort(Lt,12))}for(var Ln=0;Ln<ee;Ln+=1){var Wn=Ht[Ln],Xn=void 0;switch(Wn.tag){case"cmap":Xn=zn(Lt,Wn),Ge.tables.cmap=ze_parse(Xn.data,Xn.offset),Ge.encoding=new Wt(Ge.tables.cmap);break;case"cvt ":Xn=zn(Lt,Wn),ye=new Vt.Parser(Xn.data,Xn.offset),Ge.tables.cvt=ye.parseShortList(Wn.length/2);break;case"fvar":Me=Wn;break;case"fpgm":Xn=zn(Lt,Wn),ye=new Vt.Parser(Xn.data,Xn.offset),Ge.tables.fpgm=ye.parseByteList(Wn.length);break;case"head":Xn=zn(Lt,Wn),Ge.tables.head=T_parse(Xn.data,Xn.offset),Ge.unitsPerEm=Ge.tables.head.unitsPerEm,$=Ge.tables.head.indexToLocFormat;break;case"hhea":Xn=zn(Lt,Wn),Ge.tables.hhea=D_parse(Xn.data,Xn.offset),Ge.ascender=Ge.tables.hhea.ascender,Ge.descender=Ge.tables.hhea.descender,Ge.numberOfHMetrics=Ge.tables.hhea.numberOfHMetrics;break;case"hmtx":_t=Wn;break;case"ltag":Xn=zn(Lt,Wn),J=U_parse(Xn.data,Xn.offset);break;case"maxp":Xn=zn(Lt,Wn),Ge.tables.maxp=oe_parse(Xn.data,Xn.offset),Ge.numGlyphs=Ge.tables.maxp.numGlyphs;break;case"name":ae=Wn;break;case"OS/2":Xn=zn(Lt,Wn),Ge.tables.os2=Tn_parse(Xn.data,Xn.offset);break;case"post":Xn=zn(Lt,Wn),Ge.tables.post=Kn_parse(Xn.data,Xn.offset),Ge.glyphNames=new Ft(Ge.tables.post);break;case"prep":Xn=zn(Lt,Wn),ye=new Vt.Parser(Xn.data,Xn.offset),Ge.tables.prep=ye.parseByteList(Wn.length);break;case"glyf":ke=Wn;break;case"loca":_e=Wn;break;case"CFF ":fe=Wn;break;case"kern":zt=Wn;break;case"GPOS":tt=Wn;break;case"GSUB":wt=Wn;break;case"meta":we=Wn}}if(Bn=zn(Lt,ae),Ge.tables.name=sn_parse(Bn.data,Bn.offset,J),Ge.names=Ge.tables.name,ke&&_e)tn=0===$,Bn=zn(Lt,_e),Bn=Ri_parse(Bn.data,Bn.offset,Ge.numGlyphs,tn),tn=zn(Lt,ke),Ge.glyphs=fr.parse(tn.data,tn.offset,Bn,Ge);else{if(!fe)throw new Error("Font doesn't contain TrueType or CFF outlines.");tn=zn(Lt,fe),je_parse(tn.data,tn.offset,Ge)}for(var Bn=zn(Lt,_t),nr=(L_parse(Bn.data,Bn.offset,Ge.numberOfHMetrics,Ge.numGlyphs,Ge.glyphs),Ge),vr=nr.tables.cmap.glyphIndexMap,Kr=Object.keys(vr),to=0;to<Kr.length;to+=1){var io,qr=Kr[to];(io=nr.glyphs.get(vr[qr])).addUnicode(parseInt(qr))}for(var Tr=0;Tr<nr.glyphs.length;Tr+=1)io=nr.glyphs.get(Tr),nr.cffEncoding?io.name=nr.isCIDFont?"gid"+Tr:nr.cffEncoding.charset[Tr]:nr.glyphNames.names&&(io.name=nr.glyphNames.glyphIndexToName(Tr));return zt?(tn=zn(Lt,zt),Ge.kerningPairs=Xr_parse(tn.data,tn.offset)):Ge.kerningPairs={},tt&&(Bn=zn(Lt,tt),Ge.tables.gpos=Pi_parse(Bn.data,Bn.offset),Ge.position.init()),wt&&(tn=zn(Lt,wt),Ge.tables.gsub=Jn_parse(tn.data,tn.offset)),Me&&(Bn=zn(Lt,Me),Ge.tables.fvar=Is_parse(Bn.data,Bn.offset,Ge.names)),we&&(tn=zn(Lt,we),Ge.tables.meta=yr_parse(tn.data,tn.offset),Ge.metas=Ge.tables.meta),Ge}y.Font=Sr,y.Glyph=en,y.Path=ie,y.BoundingBox=K,y._parse=Vt,y.parse=Ho,y.load=function(E,$){(typeof window>"u"?_i:wi)(E,function(J,ee){if(J)return $(J);var fe;try{fe=Ho(ee)}catch(Me){return $(Me,null)}return $(null,fe)})},y.loadSync=function(E){return Ho(vi(o("fs").readFileSync(E)))},Object.defineProperty(y,"__esModule",{value:!0})},g("object"==typeof V&&void 0!==se?V:this.opentype={})}).call(this,o("buffer").Buffer)},{buffer:4,fs:2}],258:[function(o,se,V){(function(v){function b(C,w){for(var s=0,l=C.length-1;0<=l;l--){var a=C[l];"."===a?C.splice(l,1):".."===a?(C.splice(l,1),s++):s&&(C.splice(l,1),s--)}if(w)for(;s--;)C.unshift("..");return C}function g(C,w){if(C.filter)return C.filter(w);for(var s=[],l=0;l<C.length;l++)w(C[l],l,C)&&s.push(C[l]);return s}V.resolve=function(){for(var C="",w=!1,s=arguments.length-1;-1<=s&&!w;s--){var l=0<=s?arguments[s]:v.cwd();if("string"!=typeof l)throw new TypeError("Arguments to path.resolve must be strings");l&&(C=l+"/"+C,w="/"===l.charAt(0))}return(w?"/":"")+(C=b(g(C.split("/"),function(a){return!!a}),!w).join("/"))||"."},V.normalize=function(C){var w=V.isAbsolute(C),s="/"===y(C,-1);return(C=(C=b(g(C.split("/"),function(l){return!!l}),!w).join("/"))||w?C:".")&&s&&(C+="/"),(w?"/":"")+C},V.isAbsolute=function(C){return"/"===C.charAt(0)},V.join=function(){var C=Array.prototype.slice.call(arguments,0);return V.normalize(g(C,function(w,s){if("string"!=typeof w)throw new TypeError("Arguments to path.join must be strings");return w}).join("/"))},V.relative=function(C,w){function s(c){for(var m=0;m<c.length&&""===c[m];m++);for(var _=c.length-1;0<=_&&""===c[_];_--);return _<m?[]:c.slice(m,_-m+1)}C=V.resolve(C).substr(1),w=V.resolve(w).substr(1);for(var l=s(C.split("/")),a=s(w.split("/")),d=Math.min(l.length,a.length),f=d,u=0;u<d;u++)if(l[u]!==a[u]){f=u;break}var p=[];for(u=f;u<l.length;u++)p.push("..");return(p=p.concat(a.slice(f))).join("/")},V.sep="/",V.delimiter=":",V.dirname=function(C){if("string"!=typeof C&&(C+=""),0===C.length)return".";for(var w=47===C.charCodeAt(0),s=-1,l=!0,a=C.length-1;1<=a;--a)if(47===C.charCodeAt(a)){if(!l){s=a;break}}else l=!1;return-1===s?w?"/":".":w&&1===s?"/":C.slice(0,s)},V.basename=function(C,w){return C=function(s){"string"!=typeof s&&(s+="");for(var l=0,a=-1,d=!0,f=s.length-1;0<=f;--f)if(47===s.charCodeAt(f)){if(!d){l=f+1;break}}else-1===a&&(d=!1,a=f+1);return-1===a?"":s.slice(l,a)}(C),w&&C.substr(-1*w.length)===w?C.substr(0,C.length-w.length):C},V.extname=function(C){"string"!=typeof C&&(C+="");for(var w=-1,s=0,l=-1,a=!0,d=0,f=C.length-1;0<=f;--f){var u=C.charCodeAt(f);if(47===u){if(a)continue;s=f+1;break}-1===l&&(a=!1,l=f+1),46===u?-1===w?w=f:1!==d&&(d=1):-1!==w&&(d=-1)}return-1===w||-1===l||0===d||1===d&&w===l-1&&w===s+1?"":C.slice(w,l)};var y=function(C,w,s){return C.substr(w,s)}}).call(this,o("_process"))},{_process:259}],259:[function(o,g,V){var v,b;function y(){throw new Error("setTimeout has not been defined")}function C(){throw new Error("clearTimeout has not been defined")}g=g.exports={};try{v="function"==typeof setTimeout?setTimeout:y}catch{v=y}try{b="function"==typeof clearTimeout?clearTimeout:C}catch{b=C}function w(m){if(v===setTimeout)return setTimeout(m,0);if((v===y||!v)&&setTimeout)return(v=setTimeout)(m,0);try{return v(m,0)}catch{try{return v.call(null,m,0)}catch{return v.call(this,m,0)}}}var s,l=[],a=!1,d=-1;function f(){a&&s&&(a=!1,s.length?l=s.concat(l):d=-1,l.length&&u())}function u(){if(!a){for(var m=w(f),_=(a=!0,l.length);_;){for(s=l,l=[];++d<_;)s&&s[d].run();d=-1,_=l.length}s=null,a=!1,function(M){if(b===clearTimeout)return clearTimeout(M);if((b===C||!b)&&clearTimeout)return(b=clearTimeout)(M);try{b(M)}catch{try{return b.call(null,M)}catch{return b.call(this,M)}}}(m)}}function p(m,_){this.fun=m,this.array=_}function c(){}g.nextTick=function(m){var _=new Array(arguments.length-1);if(1<arguments.length)for(var M=1;M<arguments.length;M++)_[M-1]=arguments[M];l.push(new p(m,_)),1!==l.length||a||w(u)},p.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=c,g.addListener=c,g.once=c,g.off=c,g.removeListener=c,g.removeAllListeners=c,g.emit=c,g.prependListener=c,g.prependOnceListener=c,g.listeners=function(m){return[]},g.binding=function(m){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(m){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},{}],260:[function(o,se,V){se=function(v){"use strict";var b,g=Object.prototype,y=g.hasOwnProperty,C=(x="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",w=x.asyncIterator||"@@asyncIterator",s=x.toStringTag||"@@toStringTag";function l(X,Q,N,pe){var ie,Ae,Y,R;return Q=Q&&Q.prototype instanceof m?Q:m,Q=Object.create(Q.prototype),pe=new te(pe||[]),Q._invoke=(ie=X,Ae=N,Y=pe,R=d,function(Se,Ve){if(R===u)throw new Error("Generator is already running");if(R===p){if("throw"===Se)throw Ve;return G()}for(Y.method=Se,Y.arg=Ve;;){var qe=Y.delegate;if(qe&&(qe=function pt(We,ct){var dt=We.iterator[ct.method];if(dt===b){if(ct.delegate=null,"throw"===ct.method){if(We.iterator.return&&(ct.method="return",ct.arg=b,pt(We,ct),"throw"===ct.method))return c;ct.method="throw",ct.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}return"throw"===(dt=a(dt,We.iterator,ct.arg)).type?(ct.method="throw",ct.arg=dt.arg,ct.delegate=null,c):(dt=dt.arg)?dt.done?(ct[We.resultName]=dt.value,ct.next=We.nextLoc,"return"!==ct.method&&(ct.method="next",ct.arg=b),ct.delegate=null,c):dt:(ct.method="throw",ct.arg=new TypeError("iterator result is not an object"),ct.delegate=null,c)}(qe,Y))){if(qe===c)continue;return qe}if("next"===Y.method)Y.sent=Y._sent=Y.arg;else if("throw"===Y.method){if(R===d)throw R=p,Y.arg;Y.dispatchException(Y.arg)}else"return"===Y.method&&Y.abrupt("return",Y.arg);if(R=u,"normal"===(qe=a(ie,Ae,Y)).type){if(R=Y.done?p:f,qe.arg!==c)return{value:qe.arg,done:Y.done}}else"throw"===qe.type&&(R=p,Y.method="throw",Y.arg=qe.arg)}}),Q}function a(X,B,N){try{return{type:"normal",arg:X.call(B,N)}}catch(K){return{type:"throw",arg:K}}}v.wrap=l;var d="suspendedStart",f="suspendedYield",u="executing",p="completed",c={};function m(){}function _(){}function M(){}var x,I,A=((x={})[C]=function(){return this},(I=(I=Object.getPrototypeOf)&&I(I(ne([]))))&&I!==g&&y.call(I,C)&&(x=I),M.prototype=m.prototype=Object.create(x));function H(X){["next","throw","return"].forEach(function(B){X[B]=function(N){return this._invoke(B,N)}})}function P(X){var B;this._invoke=function(N,K){function ie(){return new Promise(function(Ae,Y){!function R(pt,pe,Se,Ve){var qe;if("throw"!==(pt=a(X[pt],X,pe)).type)return(pe=(qe=pt.arg).value)&&"object"==typeof pe&&y.call(pe,"__await")?Promise.resolve(pe.__await).then(function(We){R("next",We,Se,Ve)},function(We){R("throw",We,Se,Ve)}):Promise.resolve(pe).then(function(We){qe.value=We,Se(qe)},function(We){return R("throw",We,Se,Ve)});Ve(pt.arg)}(N,K,Ae,Y)})}return B=B?B.then(ie,ie):ie()}}function z(X){var B={tryLoc:X[0]};1 in X&&(B.catchLoc=X[1]),2 in X&&(B.finallyLoc=X[2],B.afterLoc=X[3]),this.tryEntries.push(B)}function k(X){var B=X.completion||{};B.type="normal",delete B.arg,X.completion=B}function te(X){this.tryEntries=[{tryLoc:"root"}],X.forEach(z,this),this.reset(!0)}function ne(X){if(X){var B,N=X[C];if(N)return N.call(X);if("function"==typeof X.next)return X;if(!isNaN(X.length))return B=-1,(N=function K(){for(;++B<X.length;)if(y.call(X,B))return K.value=X[B],K.done=!1,K;return K.value=b,K.done=!0,K}).next=N}return{next:G}}function G(){return{value:b,done:!0}}return(_.prototype=A.constructor=M).constructor=_,M[s]=_.displayName="GeneratorFunction",v.isGeneratorFunction=function(X){return!!(X="function"==typeof X&&X.constructor)&&(X===_||"GeneratorFunction"===(X.displayName||X.name))},v.mark=function(X){return Object.setPrototypeOf?Object.setPrototypeOf(X,M):(X.__proto__=M,s in X||(X[s]="GeneratorFunction")),X.prototype=Object.create(A),X},v.awrap=function(X){return{__await:X}},H(P.prototype),P.prototype[w]=function(){return this},v.AsyncIterator=P,v.async=function(X,B,N,K){var ie=new P(l(X,B,N,K));return v.isGeneratorFunction(B)?ie:ie.next().then(function(Ae){return Ae.done?Ae.value:ie.next()})},H(A),A[s]="Generator",A[C]=function(){return this},A.toString=function(){return"[object Generator]"},v.keys=function(X){var B,N=[];for(B in X)N.push(B);return N.reverse(),function K(){for(;N.length;){var ie=N.pop();if(ie in X)return K.value=ie,K.done=!1,K}return K.done=!0,K}},v.values=ne,te.prototype={constructor:te,reset:function(X){if(this.prev=0,this.next=0,this.sent=this._sent=b,this.done=!1,this.delegate=null,this.method="next",this.arg=b,this.tryEntries.forEach(k),!X)for(var B in this)"t"===B.charAt(0)&&y.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=b)},stop:function(){this.done=!0;var X=this.tryEntries[0].completion;if("throw"===X.type)throw X.arg;return this.rval},dispatchException:function(X){if(this.done)throw X;var B=this;function N(Q,pe){return Ae.type="throw",Ae.arg=X,B.next=Q,pe&&(B.method="next",B.arg=b),!!pe}for(var K=this.tryEntries.length-1;0<=K;--K){var ie=this.tryEntries[K],Ae=ie.completion;if("root"===ie.tryLoc)return N("end");if(ie.tryLoc<=this.prev){var Y=y.call(ie,"catchLoc"),R=y.call(ie,"finallyLoc");if(Y&&R){if(this.prev<ie.catchLoc)return N(ie.catchLoc,!0);if(this.prev<ie.finallyLoc)return N(ie.finallyLoc)}else if(Y){if(this.prev<ie.catchLoc)return N(ie.catchLoc,!0)}else{if(!R)throw new Error("try statement without catch or finally");if(this.prev<ie.finallyLoc)return N(ie.finallyLoc)}}}},abrupt:function(X,B){for(var N=this.tryEntries.length-1;0<=N;--N){var K=this.tryEntries[N];if(K.tryLoc<=this.prev&&y.call(K,"finallyLoc")&&this.prev<K.finallyLoc){var ie=K;break}}var Ae=(ie=ie&&("break"===X||"continue"===X)&&ie.tryLoc<=B&&B<=ie.finallyLoc?null:ie)?ie.completion:{};return Ae.type=X,Ae.arg=B,ie?(this.method="next",this.next=ie.finallyLoc,c):this.complete(Ae)},complete:function(X,B){if("throw"===X.type)throw X.arg;return"break"===X.type||"continue"===X.type?this.next=X.arg:"return"===X.type?(this.rval=this.arg=X.arg,this.method="return",this.next="end"):"normal"===X.type&&B&&(this.next=B),c},finish:function(X){for(var B=this.tryEntries.length-1;0<=B;--B){var N=this.tryEntries[B];if(N.finallyLoc===X)return this.complete(N.completion,N.afterLoc),k(N),c}},catch:function(X){for(var B=this.tryEntries.length-1;0<=B;--B){var N,K,ie=this.tryEntries[B];if(ie.tryLoc===X)return"throw"===(N=ie.completion).type&&(K=N.arg,k(ie)),K}throw new Error("illegal catch attempt")},delegateYield:function(X,B,N){return this.delegate={iterator:ne(X),resultName:B,nextLoc:N},"next"===this.method&&(this.arg=b),c}},v}("object"==typeof se?se.exports:{});try{regeneratorRuntime=se}catch{Function("r","regeneratorRuntime = r")(se)}},{}],261:[function(o,se,V){!function(v){"use strict";var b,g,y,C,w,s,l,a,d,f;function u(k){if("string"!=typeof k&&(k=String(k)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(k))throw new TypeError("Invalid character in header field name");return k.toLowerCase()}function p(k){return"string"!=typeof k?String(k):k}function c(k){var te={next:function(){var ne=k.shift();return{done:void 0===ne,value:ne}}};return g&&(te[Symbol.iterator]=function(){return te}),te}function m(k){this.map={},k instanceof m?k.forEach(function(te,ne){this.append(ne,te)},this):Array.isArray(k)?k.forEach(function(te){this.append(te[0],te[1])},this):k&&Object.getOwnPropertyNames(k).forEach(function(te){this.append(te,k[te])},this)}function _(k){if(k.bodyUsed)return Promise.reject(new TypeError("Already read"));k.bodyUsed=!0}function M(k){return new Promise(function(te,ne){k.onload=function(){te(k.result)},k.onerror=function(){ne(k.error)}})}function x(k){var te=new FileReader,ne=M(te);return te.readAsArrayBuffer(k),ne}function I(k){var te;return k.slice?k.slice(0):((te=new Uint8Array(k.byteLength)).set(new Uint8Array(k)),te.buffer)}function A(){return this.bodyUsed=!1,this._initBody=function(k){if(this._bodyInit=k)if("string"==typeof k)this._bodyText=k;else if(y&&Blob.prototype.isPrototypeOf(k))this._bodyBlob=k;else if(C&&FormData.prototype.isPrototypeOf(k))this._bodyFormData=k;else if(b&&URLSearchParams.prototype.isPrototypeOf(k))this._bodyText=k.toString();else if(w&&y&&l(k))this._bodyArrayBuffer=I(k.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!w||!ArrayBuffer.prototype.isPrototypeOf(k)&&!a(k))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=I(k)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof k?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b&&URLSearchParams.prototype.isPrototypeOf(k)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y&&(this.blob=function(){var k=_(this);if(k)return k;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(x)}),this.text=function(){var k,te,ne=_(this);if(ne)return ne;if(this._bodyBlob)return ne=this._bodyBlob,te=M(k=new FileReader),k.readAsText(ne),te;if(this._bodyArrayBuffer)return Promise.resolve(function(G){for(var X=new Uint8Array(G),B=new Array(X.length),N=0;N<X.length;N++)B[N]=String.fromCharCode(X[N]);return B.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},C&&(this.formData=function(){return this.text().then(P)}),this.json=function(){return this.text().then(JSON.parse)},this}function H(k,te){var ne,G=(te=te||{}).body;if(k instanceof H){if(k.bodyUsed)throw new TypeError("Already read");this.url=k.url,this.credentials=k.credentials,te.headers||(this.headers=new m(k.headers)),this.method=k.method,this.mode=k.mode,G||null==k._bodyInit||(G=k._bodyInit,k.bodyUsed=!0)}else this.url=String(k);if(this.credentials=te.credentials||this.credentials||"omit",!te.headers&&this.headers||(this.headers=new m(te.headers)),this.method=(ne=(k=te.method||this.method||"GET").toUpperCase(),-1<d.indexOf(ne)?ne:k),this.mode=te.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&G)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(G)}function P(k){var te=new FormData;return k.trim().split("&").forEach(function(ne){var G;ne&&(G=(ne=ne.split("=")).shift().replace(/\+/g," "),ne=ne.join("=").replace(/\+/g," "),te.append(decodeURIComponent(G),decodeURIComponent(ne)))}),te}function z(k,te){te=te||{},this.type="default",this.status=void 0===te.status?200:te.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in te?te.statusText:"OK",this.headers=new m(te.headers),this.url=te.url||"",this._initBody(k)}v.fetch||(b="URLSearchParams"in v,g="Symbol"in v&&"iterator"in Symbol,y="FileReader"in v&&"Blob"in v&&function(){try{return new Blob,!0}catch{return!1}}(),C="FormData"in v,(w="ArrayBuffer"in v)&&(s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=function(k){return k&&DataView.prototype.isPrototypeOf(k)},a=ArrayBuffer.isView||function(k){return k&&-1<s.indexOf(Object.prototype.toString.call(k))}),m.prototype.append=function(k,te){k=u(k),te=p(te);var ne=this.map[k];this.map[k]=ne?ne+","+te:te},m.prototype.delete=function(k){delete this.map[u(k)]},m.prototype.get=function(k){return k=u(k),this.has(k)?this.map[k]:null},m.prototype.has=function(k){return this.map.hasOwnProperty(u(k))},m.prototype.set=function(k,te){this.map[u(k)]=p(te)},m.prototype.forEach=function(k,te){for(var ne in this.map)this.map.hasOwnProperty(ne)&&k.call(te,this.map[ne],ne,this)},m.prototype.keys=function(){var k=[];return this.forEach(function(te,ne){k.push(ne)}),c(k)},m.prototype.values=function(){var k=[];return this.forEach(function(te){k.push(te)}),c(k)},m.prototype.entries=function(){var k=[];return this.forEach(function(te,ne){k.push([ne,te])}),c(k)},g&&(m.prototype[Symbol.iterator]=m.prototype.entries),d=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],H.prototype.clone=function(){return new H(this,{body:this._bodyInit})},A.call(H.prototype),A.call(z.prototype),z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},z.error=function(){var k=new z(null,{status:0,statusText:""});return k.type="error",k},f=[301,302,303,307,308],z.redirect=function(k,te){if(-1===f.indexOf(te))throw new RangeError("Invalid status code");return new z(null,{status:te,headers:{location:k}})},v.Headers=m,v.Request=H,v.Response=z,v.fetch=function(k,te){return new Promise(function(ne,G){var X=new H(k,te),B=new XMLHttpRequest;B.onload=function(){var N,K={status:B.status,statusText:B.statusText,headers:(K=B.getAllResponseHeaders()||"",N=new m,K.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Y){var R=(Y=Y.split(":")).shift().trim();R&&(Y=Y.join(":").trim(),N.append(R,Y))}),N)},ie=(K.url="responseURL"in B?B.responseURL:K.headers.get("X-Request-URL"),"response"in B?B.response:B.responseText);ne(new z(ie,K))},B.onerror=function(){G(new TypeError("Network request failed"))},B.ontimeout=function(){G(new TypeError("Network request failed"))},B.open(X.method,X.url,!0),"include"===X.credentials?B.withCredentials=!0:"omit"===X.credentials&&(B.withCredentials=!1),"responseType"in B&&y&&(B.responseType="blob"),X.headers.forEach(function(N,K){B.setRequestHeader(K,N)}),B.send(void 0===X._bodyInit?null:X._bodyInit)})},v.fetch.polyfill=!0)}(typeof self<"u"?self:this)},{}],262:[function(o,se,V){"use strict";o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v,b=y(o("../core/main")),g=y(o("../color/color_conversion"));function y(s){return s&&s.__esModule?s:{default:s}}var C=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],w=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];b.default.prototype._rgbColorName=function(d){d=g.default._rgbaToHSBA(d);var l,a,f=[(v=d)[0],d[1],d[2]];0!==f[0]&&(f[0]=Math.round(100*f[0]),(d=f[0].toString().split(""))[a=d.length-1]=parseInt(d[a]),d[a]<2.5?d[a]=0:2.5<=d[a]&&d[a]<7.5&&(d[a]=5),2===d.length?(d[0]=parseInt(d[0]),7.5<=d[a]&&(d[a]=0,d[0]=d[0]+1),f[0]=10*d[0]+d[1]):f[0]=7.5<=d[a]?10:d[a]),f[2]=f[2]/255;for(var u=f.length-1;1<=u;u--)f[u]=f[u]<=.25?0:.25<f[u]&&f[u]<.75?.5:1;if(0===f[0]&&0===f[1]&&1===f[2]){for(var p=2;0<=p;p--)v[p]=Math.round(1e4*v[p])/1e4;for(var c=0;c<C.length;c++){if(C[c].h===v[0]&&C[c].s===v[1]&&C[c].b===v[2]){l=C[c].name;break}l="white"}}else for(var m=0;m<w.length;m++)if(w[m].h===f[0]&&w[m].s===f[1]&&w[m].b===f[2]){l=w[m].name;break}return l},V.default=o=b.default},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(o,se,V){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.replace"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o},b="_Description",g="_fallbackDesc",y="_fallbackTable",C="_Label",w="_labelDesc",s="_labelTable";function l(a){if("label"===a||"fallback"===a)throw new Error("description should not be LABEL or FALLBACK");return a.endsWith(".")||a.endsWith(";")||a.endsWith(",")||a.endsWith("?")||a.endsWith("!")||(a+="."),a}v.default.prototype.describe=function(a,d){var f;v.default._validateParameters("describe",arguments),"string"==typeof a&&(f=this.canvas.id,a=l(a),this.dummyDOM||(this.dummyDOM=document.getElementById(f).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==a&&(this.descriptions.fallback.innerHTML=a):this._describeHTML("fallback",a),d===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==a&&(this.descriptions.label.innerHTML=a):this._describeHTML("label",a)))},v.default.prototype.describeElement=function(a,d,f){var u,p;v.default._validateParameters("describeElement",arguments),"string"==typeof d&&"string"==typeof a&&(u=this.canvas.id,d=l(d),p=function(c){if("label"===c||"fallback"===c)throw new Error("element name should not be LABEL or FALLBACK");return c.endsWith(".")||c.endsWith(";")||c.endsWith(",")?c=c.replace(/.$/,":"):c.endsWith(":")||(c+=":"),c}(a),a=a.replace(/[^a-zA-Z0-9]/g,""),p='<th scope="row">'.concat(p,"</th><td>").concat(d,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(u).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[a]?this.descriptions.fallbackElements[a].innerHTML!==p&&(this.descriptions.fallbackElements[a].innerHTML=p):this._describeElementHTML("fallback",a,p),f===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[a]?this.descriptions.labelElements[a].innerHTML!==p&&(this.descriptions.labelElements[a].innerHTML=p):this._describeElementHTML("label",a,p)))},v.default.prototype._describeHTML=function(a,d){var f,u=this.canvas.id;"fallback"===a?(this.dummyDOM.querySelector("#".concat(u+b))?this.dummyDOM.querySelector("#"+u+y).insertAdjacentHTML("beforebegin",'<p id="'.concat(u+g,'"></p>')):(f='<div id="'.concat(u).concat(b,'" role="region" aria-label="Canvas Description"><p id="').concat(u).concat(g,'"></p></div>'),this.dummyDOM.querySelector("#".concat(u,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(u,"accessibleOutput")).insertAdjacentHTML("beforebegin",f):this.dummyDOM.querySelector("#".concat(u)).innerHTML=f),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(u).concat(g)),this.descriptions.fallback.innerHTML=d):"label"===a&&(this.dummyDOM.querySelector("#".concat(u+C))?this.dummyDOM.querySelector("#".concat(u+s))&&this.dummyDOM.querySelector("#".concat(u+s)).insertAdjacentHTML("beforebegin",'<p id="'.concat(u).concat(w,'"></p>')):(f='<div id="'.concat(u).concat(C,'" class="p5Label"><p id="').concat(u).concat(w,'"></p></div>'),this.dummyDOM.querySelector("#".concat(u,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(u,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",f):this.dummyDOM.querySelector("#"+u).insertAdjacentHTML("afterend",f)),this.descriptions.label=this.dummyDOM.querySelector("#"+u+w),this.descriptions.label.innerHTML=d)},v.default.prototype._describeElementHTML=function(a,d,f){var u,p=this.canvas.id;"fallback"===a?(this.dummyDOM.querySelector("#".concat(p+b))?this.dummyDOM.querySelector("#"+p+y)||this.dummyDOM.querySelector("#"+p+g).insertAdjacentHTML("afterend",'<table id="'.concat(p).concat(y,'"><caption>Canvas elements and their descriptions</caption></table>')):(u='<div id="'.concat(p).concat(b,'" role="region" aria-label="Canvas Description"><table id="').concat(p).concat(y,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(p,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(p,"accessibleOutput")).insertAdjacentHTML("beforebegin",u):this.dummyDOM.querySelector("#"+p).innerHTML=u),(u=document.createElement("tr")).id=p+"_fte_"+d,this.dummyDOM.querySelector("#"+p+y).appendChild(u),this.descriptions.fallbackElements[d]=this.dummyDOM.querySelector("#".concat(p).concat("_fte_").concat(d)),this.descriptions.fallbackElements[d].innerHTML=f):"label"===a&&(this.dummyDOM.querySelector("#".concat(p+C))?this.dummyDOM.querySelector("#".concat(p+s))||this.dummyDOM.querySelector("#"+p+w).insertAdjacentHTML("afterend",'<table id="'.concat(p+s,'"></table>')):(u='<div id="'.concat(p).concat(C,'" class="p5Label"><table id="').concat(p).concat(s,'"></table></div>'),this.dummyDOM.querySelector("#".concat(p,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(p,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",u):this.dummyDOM.querySelector("#"+p).insertAdjacentHTML("afterend",u)),(a=document.createElement("tr")).id=p+"_lte_"+d,this.dummyDOM.querySelector("#"+p+s).appendChild(a),this.descriptions.labelElements[d]=this.dummyDOM.querySelector("#".concat(p).concat("_lte_").concat(d)),this.descriptions.labelElements[d].innerHTML=f)},V.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(o,se,V){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.map"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.map"),o("core-js/modules/es.string.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype._updateGridOutput=function(v){var b,g,y,C,w,s,l,a;this.dummyDOM.querySelector("#".concat(v,"_summary"))&&(b=this._accessibleOutputs[v],w=(g=function(w,s){var l,a="",d="",f=0;for(l in s){var u,p=0;for(u in s[l]){var c='<li id="'.concat(w,"shape").concat(f,'">').concat(s[l][u].color," ").concat(l,",");"line"===l?c+=" location = ".concat(s[l][u].pos,", length = ").concat(s[l][u].length," pixels"):(c+=" location = ".concat(s[l][u].pos),"point"!==l&&(c+=", area = ".concat(s[l][u].area," %")),c+="</li>"),a+=c,p++,f++}d=1<p?"".concat(d," ").concat(p," ").concat(l,"s"):"".concat(d," ").concat(p," ").concat(l)}return{numShapes:[f,d],details:a}}(v,this.ingredients.shapes)).numShapes,l=this.width,a=this.height,s="".concat(s=this.ingredients.colors.background," canvas, ").concat(l," by ").concat(a," pixels, contains ").concat(w[0]),y=s="".concat(s,1===w[0]?" shape: ":" shapes: ").concat(w[1]),C=function(w,s){var l,a,d=0,f="",u=Array.from(Array(10),function(){return Array(10)});for(l in s)for(var p in s[l]){var c;c="line"!==l?'<a href="#'.concat(w,"shape").concat(d,'">').concat(s[l][p].color," ").concat(l,"</a>"):'<a href="#'.concat(w,"shape").concat(d,'">').concat(s[l][p].color," ").concat(l," midpoint</a>"),s[l][p].loc.locY<u.length&&s[l][p].loc.locX<u[s[l][p].loc.locY].length&&(u[s[l][p].loc.locY][s[l][p].loc.locX]=u[s[l][p].loc.locY][s[l][p].loc.locX]?u[s[l][p].loc.locY][s[l][p].loc.locX]+"  "+c:c,d++)}for(a in u){var m,_="<tr>";for(m in u[a])_+="<td>",void 0!==u[a][m]&&(_+=u[a][m]),_+="</td>";f=f+_+"</tr>"}return f}(v,this.ingredients.shapes),y!==b.summary.innerHTML&&(b.summary.innerHTML=y),C!==b.map.innerHTML&&(b.map.innerHTML=C),g.details!==b.shapeDetails.innerHTML&&(b.shapeDetails.innerHTML=g.details),this._accessibleOutputs[v]=b)},V.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(o,se,V){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.to-fixed"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function g(y,C,w){return 10===(C=Math.floor(y[0]/C*10))&&(C-=1),10===(y=Math.floor(y[1]/w*10))&&(y-=1),{locX:C,locY:y}}v.default.prototype.textOutput=function(y){v.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),y===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},v.default.prototype.gridOutput=function(y){v.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),y===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},v.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},v.default.prototype._createOutput=function(y,C){var w,s,l,a=this.canvas.id,d=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(a).parentNode),"");"Fallback"===C?(w=a+y,this.dummyDOM.querySelector("#".concat(s=a+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(a,"_Description"))?this.dummyDOM.querySelector("#".concat(a,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(s,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(a)).innerHTML='<div id="'.concat(s,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===C&&(w=a+y+(d=C),this.dummyDOM.querySelector("#".concat(s=a+"accessibleOutput"+C))||(this.dummyDOM.querySelector("#".concat(a,"_Label"))?this.dummyDOM.querySelector("#".concat(a,"_Label")):this.dummyDOM.querySelector("#".concat(a))).insertAdjacentHTML("afterend",'<div id="'.concat(s,'"></div>'))),this._accessibleOutputs[w]={},"textOutput"===y?(d="#".concat(a,"gridOutput").concat(d),l='<div id="'.concat(w,'">Text Output<div id="').concat(w,'Summary" aria-label="text output summary"><p id="').concat(w,'_summary"></p><ul id="').concat(w,'_list"></ul></div><table id="').concat(w,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(d)?this.dummyDOM.querySelector(d).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#".concat(s)).innerHTML=l,this._accessibleOutputs[w].list=this.dummyDOM.querySelector("#".concat(w,"_list"))):"gridOutput"===y&&(d="#".concat(a,"textOutput").concat(d),l='<div id="'.concat(w,'">Grid Output<p id="').concat(w,'_summary" aria-label="grid output summary"><table id="').concat(w,'_map" summary="grid output content"></table><ul id="').concat(w,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(d)?this.dummyDOM.querySelector(d).insertAdjacentHTML("afterend",l):this.dummyDOM.querySelector("#".concat(s)).innerHTML=l,this._accessibleOutputs[w].map=this.dummyDOM.querySelector("#".concat(w,"_map"))),this._accessibleOutputs[w].shapeDetails=this.dummyDOM.querySelector("#".concat(w,"_shapeDetails")),this._accessibleOutputs[w].summary=this.dummyDOM.querySelector("#".concat(w,"_summary"))},v.default.prototype._updateAccsOutput=function(){var y=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(y+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(y+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(y+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(y+"gridOutputLabel"))},v.default.prototype._accsBackground=function(y){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==y&&(this.ingredients.colors.backgroundRGBA=y,this.ingredients.colors.background=this._rgbColorName(y))},v.default.prototype._accsCanvasColors=function(y,C){"fill"===y?this.ingredients.colors.fillRGBA!==C&&(this.ingredients.colors.fillRGBA=C,this.ingredients.colors.fill=this._rgbColorName(C)):"stroke"===y&&this.ingredients.colors.strokeRGBA!==C&&(this.ingredients.colors.strokeRGBA=C,this.ingredients.colors.stroke=this._rgbColorName(C))},v.default.prototype._accsOutput=function(y,C){"ellipse"===y&&C[2]===C[3]?y="circle":"rectangle"===y&&C[2]===C[3]&&(y="square");var w,s,u,p,c,l={},a=!0,d=(p=C,u="rectangle"===(u=y)||"ellipse"===u||"arc"===u||"circle"===u||"square"===u?(c=Math.round(p[0]+p[2]/2),Math.round(p[1]+p[3]/2)):"triangle"===u?(c=(p[0]+p[2]+p[4])/3,(p[1]+p[3]+p[5])/3):"quadrilateral"===u?(c=(p[0]+p[2]+p[4]+p[6])/4,(p[1]+p[3]+p[5]+p[7])/4):"line"===u?(c=(p[0]+p[2])/2,(p[1]+p[3])/2):(c=p[0],p[1]),[c,u]);if("line"===y?(l.color=this.ingredients.colors.stroke,l.length=Math.round(this.dist(C[0],C[1],C[2],C[3])),w=this._getPos(C[0],[1]),s=this._getPos(C[2],[3]),l.loc=g(d,this.width,this.height),l.pos=w===s?"at ".concat(w):"from ".concat(w," to ").concat(s)):("point"===y?l.color=this.ingredients.colors.stroke:(l.color=this.ingredients.colors.fill,l.area=this._getArea(y,C)),l.pos=this._getPos.apply(this,function b(y){return function(C){if(Array.isArray(C)){for(var w=0,s=new Array(C.length);w<C.length;w++)s[w]=C[w];return s}}(y)||function(C){if(Symbol.iterator in Object(C)||"[object Arguments]"===Object.prototype.toString.call(C))return Array.from(C)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(d)),l.loc=g(d,this.width,this.height)),this.ingredients.shapes[y]){if(this.ingredients.shapes[y]!==[l]){for(var f in this.ingredients.shapes[y])JSON.stringify(this.ingredients.shapes[y][f])===JSON.stringify(l)&&(a=!1);!0===a&&this.ingredients.shapes[y].push(l)}}else this.ingredients.shapes[y]=[l]},v.default.prototype._getPos=function(s,w){s=new DOMPointReadOnly(s,w),w=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),w=(s=s.matrixTransform(w)).x,s=s.y;var l=this.width*this._pixelDensity,a=this.height*this._pixelDensity;return w<.4*l?s<.4*a?"top left":.6*a<s?"bottom left":"mid left":.6*l<w?s<.4*a?"top right":.6*a<s?"bottom right":"mid right":s<.4*a?"top middle":.6*a<s?"bottom middle":"middle"},v.default.prototype._getArea=function(y,C){var w,s,l=0,a=("arc"===y?(l=(w=((C[5]-C[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*C[2]*C[3]/8,"open"!==C[6]&&"chord"!==C[6]||(s=C[0],p=C[1],a=C[0]+C[2]/2*Math.cos(C[4]).toFixed(2),c=C[1]+C[3]/2*Math.sin(C[4]).toFixed(2),f=C[0]+C[2]/2*Math.cos(C[5]).toFixed(2),d=C[1]+C[3]/2*Math.sin(C[5]).toFixed(2),s=Math.abs(s*(c-d)+a*(d-p)+f*(p-c))/2,w>Math.PI?l+=s:l-=s)):"ellipse"===y||"circle"===y?l=3.14*C[2]/2*C[3]/2:"line"===y||"point"===y?l=0:"quadrilateral"===y?l=Math.abs((C[6]+C[0])*(C[7]-C[1])+(C[0]+C[2])*(C[1]-C[3])+(C[2]+C[4])*(C[3]-C[5])+(C[4]+C[6])*(C[5]-C[7]))/2:"rectangle"===y||"square"===y?l=C[2]*C[3]:"triangle"===y&&(l=Math.abs(C[0]*(C[3]-C[5])+C[2]*(C[5]-C[1])+C[4]*(C[1]-C[3]))/2),this.width*this._pixelDensity),d=this.height*this._pixelDensity,f=[new DOMPoint(0,0),new DOMPoint(a,0),new DOMPoint(a,d),new DOMPoint(0,d)],u=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),p=f.map(function(m){return m.matrixTransform(u)}),c=Math.abs((p[3].x+p[0].x)*(p[3].y-p[0].y)+(p[0].x+p[1].x)*(p[0].y-p[1].y)+(p[1].x+p[2].x)*(p[1].y-p[2].y)+(p[2].x+p[3].x)*(p[2].y-p[3].y))/2;return Math.round(100*l/c)},V.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(o,se,V){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.concat"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype._updateTextOutput=function(v){var b,g,y,C,w,s,l,a;this.dummyDOM.querySelector("#".concat(v,"_summary"))&&(b=this._accessibleOutputs[v],w=(g=function(w,s){var l,a="",d=0;for(l in s)for(var f in s[l]){var u='<li><a href="#'.concat(w,"shape").concat(d,'">').concat(s[l][f].color," ").concat(l,"</a>");"line"===l?u+=", ".concat(s[l][f].pos,", ").concat(s[l][f].length," pixels long.</li>"):(u+=", at ".concat(s[l][f].pos),"point"!==l&&(u+=", covering ".concat(s[l][f].area,"% of the canvas")),u+=".</li>"),a+=u,d++}return{numShapes:d,listShapes:a}}(v,this.ingredients.shapes)).numShapes,s=this.ingredients.colors.background,a=this.height,l="Your output is a, ".concat(l=this.width," by ").concat(a," pixels, ").concat(s," canvas containing the following"),y=l=1===w?"".concat(l," shape:"):"".concat(l," ").concat(w," shapes:"),C=function(w,s){var l,a="",d=0;for(l in s)for(var f in s[l]){var u='<tr id="'.concat(w,"shape").concat(d,'"><th>').concat(s[l][f].color," ").concat(l,"</th>");"line"===l?u+="<td>location = ".concat(s[l][f].pos,"</td><td>length = ").concat(s[l][f].length," pixels</td></tr>"):(u+="<td>location = ".concat(s[l][f].pos,"</td>"),"point"!==l&&(u+="<td> area = ".concat(s[l][f].area,"%</td>")),u+="</tr>"),a+=u,d++}return a}(v,this.ingredients.shapes),y!==b.summary.innerHTML&&(b.summary.innerHTML=y),g.listShapes!==b.list.innerHTML&&(b.list.innerHTML=g.listShapes),C!==b.shapeDetails.innerHTML&&(b.shapeDetails.innerHTML=C),this._accessibleOutputs[v]=b)},V.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(o,se,V){"use strict";var v=(v=o("./core/main"))&&v.__esModule?v:{default:v};o("./core/constants"),o("./core/environment"),o("./core/friendly_errors/stacktrace"),o("./core/friendly_errors/validate_params"),o("./core/friendly_errors/file_errors"),o("./core/friendly_errors/fes_core"),o("./core/friendly_errors/sketch_reader"),o("./core/helpers"),o("./core/legacy"),o("./core/preload"),o("./core/p5.Element"),o("./core/p5.Graphics"),o("./core/p5.Renderer"),o("./core/p5.Renderer2D"),o("./core/rendering"),o("./core/shim"),o("./core/structure"),o("./core/transform"),o("./core/shape/2d_primitives"),o("./core/shape/attributes"),o("./core/shape/curves"),o("./core/shape/vertex"),o("./accessibility/outputs"),o("./accessibility/textOutput"),o("./accessibility/gridOutput"),o("./accessibility/color_namer"),o("./color/color_conversion"),o("./color/creating_reading"),o("./color/p5.Color"),o("./color/setting"),o("./data/p5.TypedDict"),o("./data/local_storage.js"),o("./dom/dom"),o("./accessibility/describe"),o("./events/acceleration"),o("./events/keyboard"),o("./events/mouse"),o("./events/touch"),o("./image/filters"),o("./image/image"),o("./image/loading_displaying"),o("./image/p5.Image"),o("./image/pixels"),o("./io/files"),o("./io/p5.Table"),o("./io/p5.TableRow"),o("./io/p5.XML"),o("./math/calculation"),o("./math/math"),o("./math/noise"),o("./math/p5.Vector"),o("./math/random"),o("./math/trigonometry"),o("./typography/attributes"),o("./typography/loading_displaying"),o("./typography/p5.Font"),o("./utilities/array_functions"),o("./utilities/conversion"),o("./utilities/string_functions"),o("./utilities/time_date"),o("./webgl/3d_primitives"),o("./webgl/interaction"),o("./webgl/light"),o("./webgl/loading"),o("./webgl/material"),o("./webgl/p5.Camera"),o("./webgl/p5.DataArray"),o("./webgl/p5.Geometry"),o("./webgl/p5.Matrix"),o("./webgl/p5.Quat"),o("./webgl/p5.RendererGL.Immediate"),o("./webgl/p5.RendererGL"),o("./webgl/p5.RendererGL.Retained"),o("./webgl/p5.Framebuffer"),o("./webgl/p5.Shader"),o("./webgl/p5.RenderBuffer"),o("./webgl/p5.Texture"),o("./webgl/text"),o("./core/init"),se.exports=v.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(o,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.ColorConversion={_hsbaToHSLA:function(v){var g=v[1],y=v[2],C=(2-g)*y/2;return 0!=C&&(1==C?g=0:C<.5?g/=2-g:g=g*y/(2-2*C)),[v[0],g,C,v[3]]},_hsbaToRGBA:function(v){var b,g,y,C,w,s=6*v[0],l=v[1],a=v[2];return 0===l?[a,a,a,v[3]]:(g=a*(1-l),y=a*(1-l*(s-(b=Math.floor(s)))),l=a*(1-l*(1+b-s)),s=1===b?(C=y,w=a,g):2===b?(C=g,w=a,l):3===b?(C=g,w=y,a):4===b?(C=l,w=g,a):5===b?(C=a,w=g,y):(C=a,w=l,g),[C,w,s,v[3]])},_hslaToHSBA:function(v){var g=v[1],y=v[2],C=y<.5?(1+g)*y:y+g-y*g;return[v[0],g=2*(C-y)/C,C,v[3]]},_hslaToRGBA:function(v){var b,g=6*v[0],y=v[1],C=v[2];return 0===y?[C,C,C,v[3]]:[(b=function(w,s,l){return w<0?w+=6:6<=w&&(w-=6),w<1?s+(l-s)*w:w<3?l:w<4?s+(l-s)*(4-w):s})(2+g,y=2*C-(C=C<.5?(1+y)*C:C+y-C*y),C),b(g,y,C),b(g-2,y,C),v[3]]},_rgbaToHSBA:function(v){var b,g,y=v[0],C=v[1],w=v[2],s=Math.max(y,C,w),l=s-Math.min(y,C,w);return 0==l?g=b=0:(g=l/s,y===s?b=(C-w)/l:C===s?b=2+(w-y)/l:w===s&&(b=4+(y-C)/l),b<0?b+=6:6<=b&&(b-=6)),[b/6,g,s,v[3]]},_rgbaToHSLA:function(v){var b,g,a,y=v[0],C=v[1],w=v[2],s=Math.max(y,C,w),l=s+(a=Math.min(y,C,w));return 0==(a=s-a)?g=b=0:(g=l<1?a/l:a/(2-l),y===s?b=(C-w)/a:C===s?b=2+(w-y)/a:w===s&&(b=4+(y-C)/a),b<0?b+=6:6<=b&&(b-=6)),[b/6,g,l/2,v[3]]}},V.default=o=o.default.ColorConversion},{"../core/main":283}],269:[function(o,se,V){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(s)}function b(s){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.map"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=(w=o("../core/main"))&&w.__esModule?w:{default:w},y=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==b(s)&&"function"!=typeof s)return{default:s};var l=C();if(l&&l.has(s))return l.get(s);var a,d={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var u;Object.prototype.hasOwnProperty.call(s,a)&&((u=f?Object.getOwnPropertyDescriptor(s,a):null)&&(u.get||u.set)?Object.defineProperty(d,a,u):d[a]=s[a])}return d.default=s,l&&l.set(s,d),d}(o("../core/constants"));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}o("./p5.Color"),o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),g.default.prototype.alpha=function(s){return g.default._validateParameters("alpha",arguments),this.color(s)._getAlpha()},g.default.prototype.blue=function(s){return g.default._validateParameters("blue",arguments),this.color(s)._getBlue()},g.default.prototype.brightness=function(s){return g.default._validateParameters("brightness",arguments),this.color(s)._getBrightness()},g.default.prototype.color=function(){for(var s,l=arguments.length,a=new Array(l),d=0;d<l;d++)a[d]=arguments[d];return g.default._validateParameters("color",a),a[0]instanceof g.default.Color?a[0]:(s=Array.isArray(a[0])?a[0]:a,new g.default.Color(this,s))},g.default.prototype.green=function(s){return g.default._validateParameters("green",arguments),this.color(s)._getGreen()},g.default.prototype.hue=function(s){return g.default._validateParameters("hue",arguments),this.color(s)._getHue()},g.default.prototype.lerpColor=function(s,l,a){g.default._validateParameters("lerpColor",arguments);var d,f,u,p=this._colorMode,c=this._colorMaxes;if(p===y.RGB)f=s.levels.map(function(m){return m/255}),u=l.levels.map(function(m){return m/255});else if(p===y.HSB)s._getBrightness(),l._getBrightness(),f=s.hsba,u=l.hsba;else{if(p!==y.HSL)throw new Error("".concat(p," cannot be used for interpolation."));s._getLightness(),l._getLightness(),f=s.hsla,u=l.hsla}return a=Math.max(Math.min(a,1),0),void 0===this.lerp&&(this.lerp=function(m,_,M){return M*(_-m)+m}),p===y.RGB?d=this.lerp(f[0],u[0],a):(.5<Math.abs(f[0]-u[0])&&(f[0]>u[0]?u[0]+=1:f[0]+=1),1<=(d=this.lerp(f[0],u[0],a))&&--d),s=this.lerp(f[1],u[1],a),l=this.lerp(f[2],u[2],a),f=this.lerp(f[3],u[3],a),this.color(d*=c[p][0],s*=c[p][1],l*=c[p][2],f*=c[p][3])},g.default.prototype.lightness=function(s){return g.default._validateParameters("lightness",arguments),this.color(s)._getLightness()},g.default.prototype.red=function(s){return g.default._validateParameters("red",arguments),this.color(s)._getRed()},g.default.prototype.saturation=function(s){return g.default._validateParameters("saturation",arguments),this.color(s)._getSaturation()};var w=g.default;V.default=w},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(d,se,V){"use strict";function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(m)}function b(m){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(_){return v(_)}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":v(_)})(m)}d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.includes"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.array.join"),d("core-js/modules/es.array.map"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.object.get-own-property-descriptor"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.constructor"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.includes"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.string.trim"),d("core-js/modules/es.weak-map"),d("core-js/modules/web.dom-collections.iterator"),d("core-js/modules/es.array.includes"),d("core-js/modules/es.array.join"),d("core-js/modules/es.array.map"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.constructor"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.includes"),d("core-js/modules/es.string.trim"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=s(d("../core/main")),y=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==b(m)&&"function"!=typeof m)return{default:m};var _=w();if(_&&_.has(m))return _.get(m);var M,x={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in m){var A;Object.prototype.hasOwnProperty.call(m,M)&&((A=I?Object.getOwnPropertyDescriptor(m,M):null)&&(A.get||A.set)?Object.defineProperty(x,M,A):x[M]=m[M])}return x.default=m,_&&_.set(m,x),x}(d("../core/constants")),C=s(d("./color_conversion"));function w(){var m;return"function"!=typeof WeakMap?null:(w=function(){return m},m=new WeakMap)}function s(m){return m&&m.__esModule?m:{default:m}}function l(m,_){for(var M=0;M<_.length;M++){var x=_[M];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}var a={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},c=(d=/\s*/,/(\d{1,3})/),f=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,u=new RegExp("".concat(f.source,"%")),p={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",c.source,",",c.source,",",c.source,"\\)$"].join(d.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",u.source,",",u.source,",",u.source,"\\)$"].join(d.source),"i"),RGBA:new RegExp(["^rgba\\(",c.source,",",c.source,",",c.source,",",f.source,"\\)$"].join(d.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",u.source,",",u.source,",",u.source,",",f.source,"\\)$"].join(d.source),"i"),HSL:new RegExp(["^hsl\\(",c.source,",",u.source,",",u.source,"\\)$"].join(d.source),"i"),HSLA:new RegExp(["^hsla\\(",c.source,",",u.source,",",u.source,",",f.source,"\\)$"].join(d.source),"i"),HSB:new RegExp(["^hsb\\(",c.source,",",u.source,",",u.source,"\\)$"].join(d.source),"i"),HSBA:new RegExp(["^hsba\\(",c.source,",",u.source,",",u.source,",",f.source,"\\)$"].join(d.source),"i")};g.default.Color=function(){function m(I,A){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(I._colorMode,I._colorMaxes),![y.RGB,y.HSL,y.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=m._parseInputs.apply(this,A),this._calculateLevels()}var _,M,x;return _=m,x=[{key:"_parseInputs",value:function(I,A,H,P){var z,k=arguments.length,te=this.mode,ne=this.maxes[te],G=[];if(3<=k){for(G[0]=I/ne[0],G[1]=A/ne[1],G[2]=H/ne[2],G[3]="number"==typeof P?P/ne[3]:1,z=G.length-1;0<=z;--z){var X=G[z];X<0?G[z]=0:1<X&&(G[z]=1)}return te===y.HSL?C.default._hslaToRGBA(G):te===y.HSB?C.default._hsbaToRGBA(G):G}if(1===k&&"string"==typeof I){if(H=I.trim().toLowerCase(),a[H])return m._parseInputs.call(this,a[H]);if(p.HEX3.test(H))return(G=p.HEX3.exec(H).slice(1).map(function(B){return parseInt(B+B,16)/255}))[3]=1,G;if(p.HEX6.test(H))return(G=p.HEX6.exec(H).slice(1).map(function(B){return parseInt(B,16)/255}))[3]=1,G;if(p.HEX4.test(H))return p.HEX4.exec(H).slice(1).map(function(B){return parseInt(B+B,16)/255});if(p.HEX8.test(H))return p.HEX8.exec(H).slice(1).map(function(B){return parseInt(B,16)/255});if(p.RGB.test(H))return(G=p.RGB.exec(H).slice(1).map(function(B){return B/255}))[3]=1,G;if(p.RGB_PERCENT.test(H))return(G=p.RGB_PERCENT.exec(H).slice(1).map(function(B){return parseFloat(B)/100}))[3]=1,G;if(p.RGBA.test(H))return p.RGBA.exec(H).slice(1).map(function(B,N){return 3===N?parseFloat(B):B/255});if(p.RGBA_PERCENT.test(H))return p.RGBA_PERCENT.exec(H).slice(1).map(function(B,N){return 3===N?parseFloat(B):parseFloat(B)/100});if(p.HSL.test(H)?(G=p.HSL.exec(H).slice(1).map(function(B,N){return 0===N?parseInt(B,10)/360:parseInt(B,10)/100}))[3]=1:p.HSLA.test(H)&&(G=p.HSLA.exec(H).slice(1).map(function(B,N){return 0===N?parseInt(B,10)/360:3===N?parseFloat(B):parseInt(B,10)/100})),(G=G.map(function(B){return Math.max(Math.min(B,1),0)})).length)return C.default._hslaToRGBA(G);if(p.HSB.test(H)?(G=p.HSB.exec(H).slice(1).map(function(B,N){return 0===N?parseInt(B,10)/360:parseInt(B,10)/100}))[3]=1:p.HSBA.test(H)&&(G=p.HSBA.exec(H).slice(1).map(function(B,N){return 0===N?parseInt(B,10)/360:3===N?parseFloat(B):parseInt(B,10)/100})),G.length){for(z=G.length-1;0<=z;--z)G[z]=Math.max(Math.min(G[z],1),0);return C.default._hsbaToRGBA(G)}G=[1,1,1,1]}else{if(1!==k&&2!==k||"number"!=typeof I)throw new Error("".concat(arguments,"is not a valid color representation."));G[0]=I/ne[2],G[1]=I/ne[2],G[2]=I/ne[2],G[3]="number"==typeof A?A/ne[3]:1,G=G.map(function(B){return Math.max(Math.min(B,1),0)})}return G}}],(M=[{key:"toString",value:function(I){var A=this.levels,H=this._array,P=H[3];switch(I){case"#rrggbb":return"#".concat(A[0]<16?"0".concat(A[0].toString(16)):A[0].toString(16),A[1]<16?"0".concat(A[1].toString(16)):A[1].toString(16),A[2]<16?"0".concat(A[2].toString(16)):A[2].toString(16));case"#rrggbbaa":return"#".concat(A[0]<16?"0".concat(A[0].toString(16)):A[0].toString(16),A[1]<16?"0".concat(A[1].toString(16)):A[1].toString(16),A[2]<16?"0".concat(A[2].toString(16)):A[2].toString(16),A[3]<16?"0".concat(A[3].toString(16)):A[3].toString(16));case"#rgb":return"#".concat(Math.round(15*H[0]).toString(16),Math.round(15*H[1]).toString(16),Math.round(15*H[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*H[0]).toString(16),Math.round(15*H[1]).toString(16),Math.round(15*H[2]).toString(16),Math.round(15*H[3]).toString(16));case"rgb":return"rgb(".concat(A[0],", ",A[1],", ",A[2],")");case"rgb%":return"rgb(".concat((100*H[0]).toPrecision(3),"%, ",(100*H[1]).toPrecision(3),"%, ",(100*H[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*H[0]).toPrecision(3),"%, ",(100*H[1]).toPrecision(3),"%, ",(100*H[2]).toPrecision(3),"%, ",(100*H[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[y.HSB][0],", ",this.hsba[1]*this.maxes[y.HSB][1],", ",this.hsba[2]*this.maxes[y.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[y.HSB][0],", ",this.hsba[1]*this.maxes[y.HSB][1],", ",this.hsba[2]*this.maxes[y.HSB][2],", ",P,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*P).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[y.HSL][0],", ",this.hsla[1]*this.maxes[y.HSL][1],", ",this.hsla[2]*this.maxes[y.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[y.HSL][0],", ",this.hsla[1]*this.maxes[y.HSL][1],", ",this.hsla[2]*this.maxes[y.HSL][2],", ",P,")");case"hsla%":return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*P).toPrecision(3),"%)");default:return"rgba(".concat(A[0],",",A[1],",",A[2],",",P,")")}}},{key:"setRed",value:function(I){this._array[0]=I/this.maxes[y.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(I){this._array[1]=I/this.maxes[y.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(I){this._array[2]=I/this.maxes[y.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(I){this._array[3]=I/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var I=this._array,A=this.levels=new Array(I.length),H=I.length-1;0<=H;--H)A[H]=Math.round(255*I[H]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(I,A){this.mode=I,this.maxes=A}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[y.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[y.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[y.RGB][1]}},{key:"_getHue",value:function(){return this.mode===y.HSB?(this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[y.HSB][0]):(this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[y.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[y.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[y.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===y.HSB?(this.hsba||(this.hsba=C.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[y.HSB][1]):(this.hsla||(this.hsla=C.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[y.HSL][1])}}])&&l(_.prototype,M),x&&l(_,x),m}(),V.default=c=g.default.Color},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(o,se,V){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(s)}function b(s){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.fill"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=(w=o("../core/main"))&&w.__esModule?w:{default:w},y=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==b(s)&&"function"!=typeof s)return{default:s};var l=C();if(l&&l.has(s))return l.get(s);var a,d={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var u;Object.prototype.hasOwnProperty.call(s,a)&&((u=f?Object.getOwnPropertyDescriptor(s,a):null)&&(u.get||u.set)?Object.defineProperty(d,a,u):d[a]=s[a])}return d.default=s,l&&l.set(s,d),d}(o("../core/constants"));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}o("./p5.Color"),g.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},g.default.prototype.endClip=function(){this._renderer.endClip()},g.default.prototype.clip=function(s,l){this._renderer.beginClip(l),s(),this._renderer.endClip(l)},g.default.prototype.background=function(){var s;return(s=this._renderer).background.apply(s,arguments),this},g.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},g.default.prototype.colorMode=function(s,l,a,d,f){return g.default._validateParameters("colorMode",arguments),s!==y.RGB&&s!==y.HSB&&s!==y.HSL||(this._colorMode=s,s=this._colorMaxes[s],2===arguments.length?(s[0]=l,s[1]=l,s[2]=l,s[3]=l):4===arguments.length?(s[0]=l,s[1]=a,s[2]=d):5===arguments.length&&(s[0]=l,s[1]=a,s[2]=d,s[3]=f)),this},g.default.prototype.fill=function(){var s;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(s=this._renderer).fill.apply(s,arguments),this},g.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},g.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},g.default.prototype.stroke=function(){var s;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(s=this._renderer).stroke.apply(s,arguments),this},g.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this},g.default.prototype.noErase=function(){return this._renderer.noErase(),this};var w=g.default;V.default=w},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(o,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.QUADRATIC=V.LINEAR=V._CTX_MIDDLE=V._DEFAULT_LEADMULT=V._DEFAULT_TEXT_FILL=V.WORD=V.CHAR=V.BOLDITALIC=V.BOLD=V.ITALIC=V.NORMAL=V.BLUR=V.ERODE=V.DILATE=V.POSTERIZE=V.INVERT=V.OPAQUE=V.GRAY=V.THRESHOLD=V.BURN=V.DODGE=V.SOFT_LIGHT=V.HARD_LIGHT=V.OVERLAY=V.REPLACE=V.SCREEN=V.MULTIPLY=V.EXCLUSION=V.SUBTRACT=V.DIFFERENCE=V.LIGHTEST=V.DARKEST=V.ADD=V.REMOVE=V.BLEND=V.UP_ARROW=V.TAB=V.SHIFT=V.RIGHT_ARROW=V.RETURN=V.OPTION=V.LEFT_ARROW=V.ESCAPE=V.ENTER=V.DOWN_ARROW=V.DELETE=V.CONTROL=V.BACKSPACE=V.ALT=V.AUTO=V.HSL=V.HSB=V.RGB=V.MITER=V.BEVEL=V.ROUND=V.SQUARE=V.PROJECT=V.PIE=V.CHORD=V.OPEN=V.CLOSE=V.TESS=V.QUAD_STRIP=V.QUADS=V.TRIANGLE_STRIP=V.TRIANGLE_FAN=V.TRIANGLES=V.LINE_LOOP=V.LINE_STRIP=V.LINES=V.POINTS=V.BASELINE=V.BOTTOM=V.TOP=V.CENTER=V.LEFT=V.RIGHT=V.RADIUS=V.CORNERS=V.CORNER=V.RAD_TO_DEG=V.DEG_TO_RAD=V.RADIANS=V.DEGREES=V.TWO_PI=V.TAU=V.QUARTER_PI=V.PI=V.HALF_PI=V.WAIT=V.TEXT=V.MOVE=V.HAND=V.CROSS=V.ARROW=V.WEBGL2=V.WEBGL=V.P2D=V.VERSION=void 0,V.RGBA=V.HALF_FLOAT=V.FLOAT=V.UNSIGNED_INT=V.UNSIGNED_BYTE=V.COVER=V.CONTAIN=V.FALLBACK=V.LABEL=V.AXES=V.GRID=V._DEFAULT_FILL=V._DEFAULT_STROKE=V.PORTRAIT=V.LANDSCAPE=V.SMOOTH=V.FLAT=V.MIRROR=V.CLAMP=V.REPEAT=V.NEAREST=V.IMAGE=V.IMMEDIATE=V.TEXTURE=V.FILL=V.STROKE=V.CURVE=V.BEZIER=void 0;var v=Math.PI,b=(V.VERSION="1.10.0",V.P2D="p2d",V.WEBGL="webgl",V.WEBGL2="webgl2",V.ARROW="default",V.CROSS="crosshair",V.HAND="pointer",V.MOVE="move",V.TEXT="text",V.WAIT="wait",v/2);V.HALF_PI=b,V.PI=b=v,V.QUARTER_PI=b=v/4,V.TAU=b=2*v,V.TWO_PI=b=2*v,V.DEGREES="degrees",V.RADIANS="radians",V.DEG_TO_RAD=b=v/180,V.RAD_TO_DEG=b=180/v,V.CORNER="corner",V.CORNERS="corners",V.RADIUS="radius",V.RIGHT="right",V.LEFT="left",V.CENTER="center",V.TOP="top",V.BOTTOM="bottom",V.BASELINE="alphabetic",V.POINTS=0,V.LINES=1,V.LINE_STRIP=3,V.LINE_LOOP=2,V.TRIANGLES=4,V.TRIANGLE_FAN=6,V.TRIANGLE_STRIP=5,V.QUADS="quads",V.QUAD_STRIP="quad_strip",V.TESS="tess",V.CLOSE="close",V.OPEN="open",V.CHORD="chord",V.PIE="pie",V.PROJECT="square",V.SQUARE="butt",V.ROUND="round",V.BEVEL="bevel",V.MITER="miter",V.RGB="rgb",V.HSB="hsb",V.HSL="hsl",V.AUTO="auto",V.ALT=18,V.BACKSPACE=8,V.CONTROL=17,V.DELETE=46,V.DOWN_ARROW=40,V.ENTER=13,V.ESCAPE=27,V.LEFT_ARROW=37,V.OPTION=18,V.RETURN=13,V.RIGHT_ARROW=39,V.SHIFT=16,V.TAB=9,V.UP_ARROW=38,V.BLEND="source-over",V.REMOVE="destination-out",V.ADD="lighter",V.DARKEST="darken",V.LIGHTEST="lighten",V.DIFFERENCE="difference",V.SUBTRACT="subtract",V.EXCLUSION="exclusion",V.MULTIPLY="multiply",V.SCREEN="screen",V.REPLACE="copy",V.OVERLAY="overlay",V.HARD_LIGHT="hard-light",V.SOFT_LIGHT="soft-light",V.DODGE="color-dodge",V.BURN="color-burn",V.THRESHOLD="threshold",V.GRAY="gray",V.OPAQUE="opaque",V.INVERT="invert",V.POSTERIZE="posterize",V.DILATE="dilate",V.ERODE="erode",V.BLUR="blur",V.NORMAL="normal",V.ITALIC="italic",V.BOLD="bold",V.BOLDITALIC="bold italic",V.CHAR="CHAR",V.WORD="WORD",V._DEFAULT_TEXT_FILL="#000000",V._DEFAULT_LEADMULT=1.25,V._CTX_MIDDLE="middle",V.LINEAR="linear",V.QUADRATIC="quadratic",V.BEZIER="bezier",V.CURVE="curve",V.STROKE="stroke",V.FILL="fill",V.TEXTURE="texture",V.IMMEDIATE="immediate",V.IMAGE="image",V.NEAREST="nearest",V.REPEAT="repeat",V.CLAMP="clamp",V.MIRROR="mirror",V.FLAT="flat",V.SMOOTH="smooth",V.LANDSCAPE="landscape",V.PORTRAIT="portrait",V._DEFAULT_STROKE="#000000",V._DEFAULT_FILL="#FFFFFF",V.GRID="grid",V.AXES="axes",V.LABEL="label",V.FALLBACK="fallback",V.CONTAIN="contain",V.COVER="cover",V.UNSIGNED_BYTE="unsigned-byte",V.UNSIGNED_INT="unsigned-int",V.FLOAT="float",V.HALF_FLOAT="half-float",V.RGBA="rgba"},{}],273:[function(o,se,V){"use strict";function v(f){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function b(f){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(f)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.search"),o("core-js/modules/es.string.split"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=(y=o("./main"))&&y.__esModule?y:{default:y},y=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==b(f)&&"function"!=typeof f)return{default:f};var u=C();if(u&&u.has(f))return u.get(f);var p,c={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in f){var _;Object.prototype.hasOwnProperty.call(f,p)&&((_=m?Object.getOwnPropertyDescriptor(f,p):null)&&(_.get||_.set)?Object.defineProperty(c,p,_):c[p]=f[p])}return c.default=f,u&&u.set(f,c),c}(o("./constants"));function C(){var f;return"function"!=typeof WeakMap?null:(C=function(){return f},f=new WeakMap)}var w=[y.ARROW,y.CROSS,y.HAND,y.MOVE,y.TEXT,y.WAIT],s=(g.default.prototype._frameRate=0,g.default.prototype._lastFrameTime=window.performance.now(),g.default.prototype._targetFrameRate=60,window.print),l=!1;function a(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function d(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}g.default.prototype.print=function(){var f;arguments.length?(f=console).log.apply(f,arguments):l||(s(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(l=!0))},g.default.prototype.frameCount=0,g.default.prototype.deltaTime=0,g.default.prototype.focused=document.hasFocus(),g.default.prototype.cursor=function(f,u,p){var c,m="auto",_=this._curElement.elt;w.includes(f)?m=f:"string"==typeof f&&(c="",u&&p&&"number"==typeof u&&"number"==typeof p&&(c="".concat(u," ").concat(p)),m="http://"===f.substring(0,7)||"https://"===f.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(f)?"url(".concat(f,") ").concat(c,", auto"):f),_.style.cursor=m},g.default.prototype.frameRate=function(f){return g.default._validateParameters("frameRate",arguments),"number"!=typeof f||f<0?this._frameRate:(this._setProperty("_targetFrameRate",f),0===f&&this._setProperty("_frameRate",f),this)},g.default.prototype.getFrameRate=function(){return this.frameRate()},g.default.prototype.setFrameRate=function(f){return this.frameRate(f)},g.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},g.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},g.default.prototype.webglVersion=y.P2D,g.default.prototype.displayWidth=screen.width,g.default.prototype.displayHeight=screen.height,g.default.prototype.windowWidth=0,g.default.prototype.windowHeight=0,g.default.prototype._onresize=function(f){this._setProperty("windowWidth",a()),this._setProperty("windowHeight",d());var u=this._isGlobal?window:this;"function"!=typeof u.windowResized||void 0===(u=u.windowResized(f))||u||f.preventDefault()},g.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",a()),this._setProperty("windowHeight",d())},g.default.prototype.width=0,g.default.prototype.height=0,g.default.prototype.fullscreen=function(f){if(g.default._validateParameters("fullscreen",arguments),void 0===f)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(f){if(f=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");f.requestFullscreen?f.requestFullscreen():f.mozRequestFullScreen?f.mozRequestFullScreen():f.webkitRequestFullscreen?f.webkitRequestFullscreen():f.msRequestFullscreen&&f.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},g.default.prototype.pixelDensity=function(f){var u;return g.default._validateParameters("pixelDensity",arguments),"number"==typeof f?(f!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=f),(u=this).resizeCanvas(this.width,this.height,!0)):u=this._pixelDensity,u},g.default.prototype.displayDensity=function(){return window.devicePixelRatio},g.default.prototype.getURL=function(){return location.href},g.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(f){return""!==f})},g.default.prototype.getURLParams=function(){for(var f,u=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,p={};null!=(f=u.exec(location.search));)f.index===u.lastIndex&&u.lastIndex++,p[f[1]]=f[2];return p},V.default=o=g.default},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(o,se,V){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.starts-with"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.starts-with"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(w=o("../main"))&&w.__esModule?w:{default:w};function b(s,l){l=l||console.log.bind(console),g||C(),g.some(function(a){var d;if(s.message&&null!==s.message.match("\\W?".concat(a.name,"\\W")))return d="function"===a.type?"".concat(a.name,"()"):a.name,l("Did you just try to use p5.js's ".concat(d," ").concat(a.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(y)),!0})}o("../internationalization");var g=null,C=null,y=(v.default._friendlyError=v.default._checkForUserDefinedFunctions=v.default._fesErrorMonitor=function(){},g=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),w=(C=function(){function s(a){return Object.getOwnPropertyNames(a).filter(function(d){return"_"!==d[0]&&!(d in l)&&(l[d]=!0)}).map(function(d){var f="function"==typeof a[d]?"function":d===d.toUpperCase()?"constant":"variable";return{name:d,type:f}})}var l={};(g=[].concat(s(v.default.prototype),s(o("../constants")))).sort(function(a,d){return d.name.length-a.name.length})},v.default.prototype._helpForMisusedAtTopLevelCode=b,"complete"!==document.readyState&&(window.addEventListener("error",b,!1),window.addEventListener("load",function(){window.removeEventListener("error",b,!1)})),v.default);V.default=w},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(o,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(v=o("../main"))&&v.__esModule?v:{default:v};o("../internationalization"),v.default._friendlyFileLoadError=function(){},V.default=o=v.default},{"../internationalization":281,"../main":283}],276:[function(o,se,V){"use strict";function v(R){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Q){return typeof Q}:function(Q){return Q&&"function"==typeof Symbol&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(R)}function b(R){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(Q){return v(Q)}:function(Q){return Q&&"function"==typeof Symbol&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":v(Q)})(R)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=function B(R){return R&&R.__esModule?R:{default:R}}(o("../main"));function G(){var R;return"function"!=typeof WeakMap?null:(G=function(){return R},R=new WeakMap)}o("../internationalization"),function X(R){if(R&&R.__esModule)return R;if(null===R||"object"!==b(R)&&"function"!=typeof R)return{default:R};var Q=G();if(Q&&Q.has(R))return Q.get(R);var pe,Se,Ve={},qe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(pe in R)Object.prototype.hasOwnProperty.call(R,pe)&&((Se=qe?Object.getOwnPropertyDescriptor(R,pe):null)&&(Se.get||Se.set)?Object.defineProperty(Ve,pe,Se):Ve[pe]=R[pe]);return Ve.default=R,Q&&Q.set(R,Ve),Ve}(o("../constants")),g.default._fesCodeReader=function(){},V.default=g.default},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(o,se,V){"use strict";function v(){var b=/(^|@)\S+:\d+/,g=/^\s*at .*(\S+:\d+|\(native\))/m,y=/^(eval@)?(\[native code])?$/;return{parse:function(C){return void 0!==C.stacktrace||void 0!==C["opera#sourceloc"]?this.parseOpera(C):C.stack&&C.stack.match(g)?this.parseV8OrIE(C):C.stack?this.parseFFOrSafari(C):void 0},extractLocation:function(C){return-1===C.indexOf(":")?[C]:[(C=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(C.replace(/[()]/g,"")))[1],C[2]||void 0,C[3]||void 0]},parseV8OrIE:function(C){return C.stack.split("\n").filter(function(w){return!!w.match(g)},this).map(function(w){var l=(s=(w=-1<w.indexOf("(eval ")?w.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):w).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),s=(s=l?s.replace(l[0],""):s).split(/\s+/).slice(1);return l=this.extractLocation(l?l[1]:s.pop()),{functionName:s.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(l[0])?void 0:l[0],lineNumber:l[1],columnNumber:l[2],source:w}},this)},parseFFOrSafari:function(C){return C.stack.split("\n").filter(function(w){return!w.match(y)},this).map(function(w){var s,l;return-1===(w=-1<w.indexOf(" > eval")?w.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):w).indexOf("@")&&-1===w.indexOf(":")?{functionName:w}:{functionName:(l=w.match(s=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&l[1]?l[1]:void 0,fileName:(l=this.extractLocation(w.replace(s,"")))[0],lineNumber:l[1],columnNumber:l[2],source:w}},this)},parseOpera:function(C){return!C.stacktrace||-1<C.message.indexOf("\n")&&C.message.split("\n").length>C.stacktrace.split("\n").length?this.parseOpera9(C):C.stack?this.parseOpera11(C):this.parseOpera10(C)},parseOpera9:function(C){for(var w=/Line (\d+).*script (?:in )?(\S+)/i,s=C.message.split("\n"),l=[],a=2,d=s.length;a<d;a+=2){var f=w.exec(s[a]);f&&l.push({fileName:f[2],lineNumber:f[1],source:s[a]})}return l},parseOpera10:function(C){for(var w=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,s=C.stacktrace.split("\n"),l=[],a=0,d=s.length;a<d;a+=2){var f=w.exec(s[a]);f&&l.push({functionName:f[3]||void 0,fileName:f[2],lineNumber:f[1],source:s[a]})}return l},parseOpera11:function(C){return C.stack.split("\n").filter(function(w){return!!w.match(b)&&!w.match(/^Error created at/)},this).map(function(w){var s,a=w.split("@"),l=this.extractLocation(a.pop());return{functionName:(a=a.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(s=a.match(/\(([^)]*)\)/)?a.replace(/^[^(]+\(([^)]*)\)$/,"$1"):s)||"[arguments not available]"===s?void 0:s.split(","),fileName:l[0],lineNumber:l[1],columnNumber:l[2],source:w}},this)}}}o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("../main"))&&o.__esModule?o:{default:o}).default._getErrorStackParser=function(){return new v},V.default=o=o.default},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(o,se,V){"use strict";function v(C){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(C)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var b=(b=o("../main"))&&b.__esModule?b:{default:b};function g(){var C;return"function"!=typeof WeakMap?null:(g=function(){return C},C=new WeakMap)}function y(C){return(y="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(w){return v(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":v(w)})(C)}(function(C){if(!(C&&C.__esModule||null===C||"object"!==y(C)&&"function"!=typeof C)){var w=g();if(w&&w.has(C))return w.get(C);var s,l={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in C){var d;Object.prototype.hasOwnProperty.call(C,s)&&((d=a?Object.getOwnPropertyDescriptor(C,s):null)&&(d.get||d.set)?Object.defineProperty(l,s,d):l[s]=C[s])}l.default=C,w&&w.set(C,l)}})(o("../constants")),o("../internationalization"),b.default._validateParameters=b.default._clearValidateParamsCache=function(){},V.default=o=b.default},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(o,se,V){"use strict";function v(C){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(C)}function b(C){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(w){return v(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":v(w)})(C)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=function(C){if(C&&C.__esModule)return C;if(null===C||"object"!==b(C)&&"function"!=typeof C)return{default:C};var w=y();if(w&&w.has(C))return w.get(C);var s,l={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in C){var d;Object.prototype.hasOwnProperty.call(C,s)&&((d=a?Object.getOwnPropertyDescriptor(C,s):null)&&(d.get||d.set)?Object.defineProperty(l,s,d):l[s]=C[s])}return l.default=C,w&&w.set(C,l),l}(o("./constants"));function y(){var C;return"function"!=typeof WeakMap?null:(y=function(){return C},C=new WeakMap)}V.default={modeAdjust:function(C,w,s,l,a){return a===g.CORNER?{x:C,y:w,w:s,h:l}:a===g.CORNERS?{x:C,y:w,w:s-C,h:l-w}:a===g.RADIUS?{x:C-s,y:w-l,w:2*s,h:2*l}:a===g.CENTER?{x:C-.5*s,y:w-.5*l,w:s,h:l}:void 0}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(o,se,V){"use strict";o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var v=(b=o("../core/main"))&&b.__esModule?b:{default:b};o("./internationalization");var b=Promise.resolve();Promise.all([new Promise(function(g,y){"complete"===document.readyState?g():window.addEventListener("load",g,!1)}),b]).then(function(){void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!v.default.instance&&new v.default})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(o,se,V){"use strict";o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.setTranslatorLanguage=V.currentTranslatorLanguage=V.availableTranslatorLanguages=V.initialize=V.translator=void 0;var v,g=C(o("i18next")),y=C(o("i18next-browser-languagedetector"));function C(l){return l&&l.__esModule?l:{default:l}}function w(l,a){for(var d=0;d<a.length;d++){var f=a[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}var s=function(){function l(u,p){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.init(u,p)}var a,d;return a=l,(d=[{key:"fetchWithTimeout",value:function(u,p){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3;return Promise.race([fetch(u,p),new Promise(function(m,_){return setTimeout(function(){return _(new Error("timeout"))},c)})])}},{key:"init",value:function(u){var p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.services=u,this.options=p}},{key:"read",value:function(u,p,c){var m=this.options.loadPath;u===this.options.fallback?c(null,v[u][p]):undefined.includes(u)?(m=this.services.interpolator.interpolate(m,{lng:u,ns:p}),this.loadUrl(m,c)):c("Not found",!1)}},{key:"loadUrl",value:function(u,p){this.fetchWithTimeout(u).then(function(c){if(c.ok)return c.json();throw new Error("failed loading ".concat(u))},function(){throw new Error("failed loading ".concat(u))}).then(function(c){return p(null,c)}).catch(p)}}])&&w(a.prototype,d),l}();s.type="backend",V.translator=function(l,a){console.debug("p5.js translator called before translations were loaded"),g.default.t(l,a)},V.initialize=function(){return g.default.use(y.default).use(s).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:v}).then(function(l){V.translator=l},function(l){return console.debug("Translations failed to load (".concat(l,")"))})},V.availableTranslatorLanguages=function(){return g.default.languages},V.currentTranslatorLanguage=function(l){return g.default.language},V.setTranslatorLanguage=function(l){return g.default.changeLanguage(l||void 0,function(a){return console.debug("Translations failed to load (".concat(a,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(o,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("./main"))&&o.__esModule?o:{default:o}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},o.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},o.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},o.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},V.default=o=o.default},{"./main":283}],283:[function(o,se,V){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}function b(l){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-names"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,o("./shim");var g=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==b(l)&&"function"!=typeof l)return{default:l};var a=y();if(a&&a.has(l))return a.get(l);var d,f={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in l){var p;Object.prototype.hasOwnProperty.call(l,d)&&((p=u?Object.getOwnPropertyDescriptor(l,d):null)&&(p.get||p.set)?Object.defineProperty(f,d,p):f[d]=l[d])}return f.default=l,a&&a.set(l,f),f}(o("./constants"));function y(){var l;return"function"!=typeof WeakMap?null:(y=function(){return l},l=new WeakMap)}function C(l,a){for(var d=0;d<a.length;d++){var f=a[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}var w,s=function(){function l(u,m){var c=this;if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=m,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},m=Object.getOwnPropertyNames(l.prototype._registeredMethods);var _=!0,M=!1,x=void 0;try{for(var I,A=m[Symbol.iterator]();!(_=(I=A.next()).done);_=!0){var H=I.value;this._registeredMethods[H]=l.prototype._registeredMethods[H].slice()}}catch(N){M=!0,x=N}finally{try{_||null==A.return||A.return()}finally{if(M)throw x}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),l.prototype.callRegisteredHooksFor=function(N){var K=this||l.prototype,ie=this._isGlobal?window:this;if(K._registeredMethods.hasOwnProperty(N)){K=K._registeredMethods[N];var Ae=!0,Y=void(N=!1);try{for(var R,Q=K[Symbol.iterator]();!(Ae=(R=Q.next()).done);Ae=!0){var pe=R.value;"function"==typeof pe&&pe.call(ie)}}catch(qe){N=!0,Y=qe}finally{try{Ae||null==Q.return||Q.return()}finally{if(N)throw Y}}}},this._start=function(){c._userNode&&"string"==typeof c._userNode&&(c._userNode=document.getElementById(c._userNode));var N=c._isGlobal?window:c;if(N.preload){c.callRegisteredHooksFor("beforePreload");var K,ie=document.getElementById(c._loadingScreenId),Ae=(ie||((ie=document.createElement("div")).innerHTML="Loading...",ie.style.position="absolute",ie.id=c._loadingScreenId,(c._userNode||document.body).appendChild(ie)),c._preloadMethods);for(K in Ae){Ae[K]=Ae[K]||l;var Y=Ae[K];Y!==l.prototype&&Y!==l||(c._isGlobal&&(window[K]=c._wrapPreload(c,K)),Y=c),c._registeredPreloadMethods[K]=Y[K],Y[K]=c._wrapPreload(Y,K)}N.preload(),c._runIfPreloadsAreDone()}else c._setup(),c._recording||c._draw()},this._runIfPreloadsAreDone=function(){var N,K=this._isGlobal?window:this;0===K._preloadCount&&((N=document.getElementById(K._loadingScreenId))&&N.parentNode.removeChild(N),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),K._setup(),this._recording||K._draw()))},this._decrementPreload=function(){var N=this._isGlobal?window:this;N._preloadDone||"function"!=typeof N.preload||(N._setProperty("_preloadCount",N._preloadCount-1),N._runIfPreloadsAreDone())},this._wrapPreload=function(N,K){var ie=this;return function(){ie._incrementPreload();for(var Ae=arguments.length,Y=new Array(Ae),R=0;R<Ae;R++)Y[R]=arguments[R];return ie._registeredPreloadMethods[K].apply(N,Y)}},this._incrementPreload=function(){var N=this._isGlobal?window:this;N._preloadDone||N._setProperty("_preloadCount",N._preloadCount+1)},this._setup=function(){c.callRegisteredHooksFor("beforeSetup"),c.createCanvas(c._defaultCanvasSize.width,c._defaultCanvasSize.height,"p2d");var N=c._isGlobal?window:c;if("function"==typeof N.preload)for(var K in c._preloadMethods)N[K]=c._preloadMethods[K][K],N[K]&&c&&(N[K]=N[K].bind(c));c._millisStart=window.performance.now(),N._preloadDone=!0,"function"==typeof N.setup&&N.setup();var ie=document.getElementsByTagName("canvas"),Ae=!0,Y=!1,R=void 0;try{for(var Q,pe=ie[Symbol.iterator]();!(Ae=(Q=pe.next()).done);Ae=!0){var Se=Q.value;"true"===Se.dataset.hidden&&(Se.style.visibility="",delete Se.dataset.hidden)}}catch(Ve){Y=!0,R=Ve}finally{try{Ae||null==pe.return||pe.return()}finally{if(Y)throw R}}c._lastTargetFrameTime=window.performance.now(),c._lastRealFrameTime=window.performance.now(),c._setupDone=!0,(c._accessibleOutputs.grid||c._accessibleOutputs.text)&&c._updateAccsOutput(),c.callRegisteredHooksFor("afterSetup")},this._draw=function(K){K=K||window.performance.now();var Ae=1e3/c._targetFrameRate;(!c._loop||Ae-5<=K-c._lastTargetFrameTime)&&(c.deltaTime=K-c._lastRealFrameTime,c._setProperty("deltaTime",c.deltaTime),c._frameRate=1e3/c.deltaTime,c.redraw(),c._lastTargetFrameTime=Math.max(c._lastTargetFrameTime+Ae,K),c._lastRealFrameTime=K,void 0!==c._updateMouseCoords&&(c._updateMouseCoords(),c._setProperty("movedX",0),c._setProperty("movedY",0))),c._loop&&(c._requestAnimId=window.requestAnimationFrame(c._draw))},this._setProperty=function(N,K){c[N]=K,c._isGlobal&&(window[N]=K)},this.remove=function(){if(c._startListener&&window.removeEventListener("load",c._startListener,!1),(N=document.getElementById(c._loadingScreenId))&&(N.parentNode.removeChild(N),c._incrementPreload()),c._curElement){for(var K in c._loop=!1,c._requestAnimId&&window.cancelAnimationFrame(c._requestAnimId),c._events)window.removeEventListener(K,c._events[K]);var ie=!0,N=!1,Ae=void 0;try{for(var Y,R=c._elements[Symbol.iterator]();!(ie=(Y=R.next()).done);ie=!0){var Q,pe=Y.value;for(Q in pe.elt&&pe.elt.parentNode&&pe.elt.parentNode.removeChild(pe.elt),pe._events)pe.elt.removeEventListener(Q,pe._events[Q])}}catch(We){N=!0,Ae=We}finally{try{ie||null==R.return||R.return()}finally{if(N)throw Ae}}var Se=c;c._registeredMethods.remove.forEach(function(We){void 0!==We&&We.call(Se)})}if(c._isGlobal){for(var Ve in l.prototype)try{delete window[Ve]}catch{window[Ve]=void 0}for(var qe in c)if(c.hasOwnProperty(qe))try{delete window[qe]}catch{window[qe]=void 0}l.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(N){void 0!==N&&N.call(this)},this),this._setupPromisePreloads();var P,z,k=this._createFriendlyGlobalFunctionBinder();if(u)u(this),l._checkForUserDefinedFunctions(this);else{for(var te in this._isGlobal=!0,l.instance=this,l.prototype)"function"==typeof l.prototype[te]?(P=te.substring(2),this._events.hasOwnProperty(P)||(Math.hasOwnProperty(te)&&Math[te]===l.prototype[te]?k(te,l.prototype[te]):k(te,l.prototype[te].bind(this)))):k(te,l.prototype[te]);for(var ne in this)this.hasOwnProperty(ne)&&k(ne,this[ne])}for(z in this._events){var G=this["_on".concat(z)];G&&(G=G.bind(this),window.addEventListener(z,G,{passive:!1}),this._events[z]=G)}function X(){c._setProperty("focused",!0)}function B(){c._setProperty("focused",!1)}window.addEventListener("focus",X),window.addEventListener("blur",B),this.registerMethod("remove",function(){window.removeEventListener("focus",X),window.removeEventListener("blur",B)}),"complete"===document.readyState?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var a,d;return a=l,(d=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=g.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(u,p){l.prototype._preloadMethods.hasOwnProperty(u)||(l.prototype._preloadMethods[u]=p)}},{key:"registerMethod",value:function(u,p){var c=this||l.prototype;c._registeredMethods.hasOwnProperty(u)||(c._registeredMethods[u]=[]),c._registeredMethods[u].push(p)}},{key:"unregisterMethod",value:function(u,p){var c=this||l.prototype;if(c._registeredMethods.hasOwnProperty(u)){for(var m=c._registeredMethods[u],_=[],M=0;M<m.length;M++)m[M]===p&&_.push(M);for(var x=_.length-1;0<=x;x--)m.splice(_[x],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},p=u.globalObject||window;return u.log||console.log.bind(console),function(c,m){p[c]=m}}}])&&C(a.prototype,d),l}();for(w in s.instance=null,s.disableFriendlyErrors=!1,g)s.prototype[w]=g[w];s.VERSION=g.VERSION,s.prototype._preloadMethods={loadJSON:s.prototype,loadImage:s.prototype,loadStrings:s.prototype,loadXML:s.prototype,loadBytes:s.prototype,loadTable:s.prototype,loadFont:s.prototype,loadModel:s.prototype,loadShader:s.prototype},s.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},s.prototype._registeredPreloadMethods={},V.default=s},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(o,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("./main"))&&o.__esModule?o:{default:o};function b(g,y){for(var C=0;C<y.length;C++){var w=y[C];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}v.default.Element=function(){function g(s,l){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.elt=s,this._pInst=this._pixelsState=l,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var y,C,w;return y=g,w=[{key:"_adjustListener",value:function(s,l,a){return!1===l?v.default.Element._detachListener(s,a):v.default.Element._attachListener(s,l,a),this}},{key:"_attachListener",value:function(s,l,a){a._events[s]&&v.default.Element._detachListener(s,a),l=l.bind(a),a.elt.addEventListener(s,l,!1),a._events[s]=l}},{key:"_detachListener",value:function(s,l){l.elt.removeEventListener(s,l._events[s],!1),l._events[s]=null}}],(C=[{key:"parent",value:function(s){return void 0===s?this.elt.parentNode:("string"==typeof s?("#"===s[0]&&(s=s.substring(1)),s=document.getElementById(s)):s instanceof v.default.Element&&(s=s.elt),s.appendChild(this.elt),this)}},{key:"id",value:function(s){return void 0===s?this.elt.id:(this.elt.id=s,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(s){return void 0===s?this.elt.className:(this.elt.className=s,this)}},{key:"mousePressed",value:function(s){return v.default.Element._adjustListener("mousedown",function(l){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(l),s.call(this,l)},this),this}},{key:"doubleClicked",value:function(s){return v.default.Element._adjustListener("dblclick",s,this),this}},{key:"mouseWheel",value:function(s){return v.default.Element._adjustListener("wheel",s,this),this}},{key:"mouseReleased",value:function(s){return v.default.Element._adjustListener("mouseup",s,this),this}},{key:"mouseClicked",value:function(s){return v.default.Element._adjustListener("click",s,this),this}},{key:"mouseMoved",value:function(s){return v.default.Element._adjustListener("mousemove",s,this),this}},{key:"mouseOver",value:function(s){return v.default.Element._adjustListener("mouseover",s,this),this}},{key:"mouseOut",value:function(s){return v.default.Element._adjustListener("mouseout",s,this),this}},{key:"touchStarted",value:function(s){return v.default.Element._adjustListener("touchstart",s,this),this}},{key:"touchMoved",value:function(s){return v.default.Element._adjustListener("touchmove",s,this),this}},{key:"touchEnded",value:function(s){return v.default.Element._adjustListener("touchend",s,this),this}},{key:"dragOver",value:function(s){return v.default.Element._adjustListener("dragover",s,this),this}},{key:"dragLeave",value:function(s){return v.default.Element._adjustListener("dragleave",s,this),this}},{key:"_setProperty",value:function(s,l){this[s]=l}}])&&b(y.prototype,C),w&&b(y,w),g}(),V.default=o=v.default.Element},{"./main":283}],285:[function(o,se,V){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(p)}function b(p){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(c){return v(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":v(c)})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=(u=o("./main"))&&u.__esModule?u:{default:u},y=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==b(p)&&"function"!=typeof p)return{default:p};var c=C();if(c&&c.has(p))return c.get(p);var m,_={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in p){var x;Object.prototype.hasOwnProperty.call(p,m)&&((x=M?Object.getOwnPropertyDescriptor(p,m):null)&&(x.get||x.set)?Object.defineProperty(_,m,x):_[m]=p[m])}return _.default=p,c&&c.set(p,_),_}(o("./constants"));function C(){var p;return"function"!=typeof WeakMap?null:(C=function(){return p},p=new WeakMap)}function w(p,c){for(var m=0;m<c.length;m++){var _=c[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}function s(p,c){return(s=Object.setPrototypeOf||function(m,_){return m.__proto__=_,m})(p,c)}function a(p,c){return!c||"object"!==b(c)&&"function"!=typeof c?d(p):c}function d(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function f(p){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(p)}g.default.Graphics=function(p){var c=M;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&s(c,p);var _=function l(p){return function(){var c,m=f(p);return a(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(c=f(this).constructor,Reflect.construct(m,arguments,c)):m.apply(this,arguments))}}(M);function M(x,I,ne,H,P){var z;if(!(this instanceof M))throw new TypeError("Cannot call a class as a function");te=P||document.createElement("canvas"),(z=_.call(this,te,H)).canvas=te;var k,te=ne||y.P2D;for(k in ne=H._userNode||document.body,P||ne.appendChild(z.canvas),g.default.prototype)z[k]||(z[k]="function"==typeof g.default.prototype[k]?g.default.prototype[k].bind(d(z)):g.default.prototype[k]);return g.default.prototype._initializeInstanceVariables.apply(d(z)),z.width=x,z.height=I,z._pixelDensity=H._pixelDensity,te===y.WEBGL?(z._renderer=new g.default.RendererGL(z.canvas,d(z),!1),x=(P=z._renderer._adjustDimensions(x,I)).adjustedWidth,I=P.adjustedHeight):z._renderer=new g.default.Renderer2D(z.canvas,d(z),!1),H._elements.push(d(z)),Object.defineProperty(d(z),"deltaTime",{get:function(){return this._pInst.deltaTime}}),z._renderer.resize(x,I),z._renderer._applyDefaults(),a(z,d(z))}return c=M,(p=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var x,I=this._pInst._elements.indexOf(this);for(x in-1!==I&&this._pInst._elements.splice(I,1),this._events)this.elt.removeEventListener(x,this._events[x]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(x){return new g.default.Framebuffer(this,x)}}])&&w(c.prototype,p),M}(g.default.Element);var u=g.default.Graphics;V.default=u},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(o,se,V){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var b=(f=o("./main"))&&f.__esModule?f:{default:f},g=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==C(p)&&"function"!=typeof p)return{default:p};var c=y();if(c&&c.has(p))return c.get(p);var m,_={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in p){var x;Object.prototype.hasOwnProperty.call(p,m)&&((x=M?Object.getOwnPropertyDescriptor(p,m):null)&&(x.get||x.set)?Object.defineProperty(_,m,x):_[m]=p[m])}return _.default=p,c&&c.set(p,_),_}(o("../core/constants"));function y(){var p;return"function"!=typeof WeakMap?null:(y=function(){return p},p=new WeakMap)}function C(p){return(C="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(c){return v(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":v(c)})(p)}function w(p,c){for(var m=0;m<c.length;m++){var _=c[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}function s(p,c){return(s=Object.setPrototypeOf||function(m,_){return m.__proto__=_,m})(p,c)}function a(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function d(p){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(p)}var f=function(p){var c=M;if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&s(c,p);var _=function l(p){return function(){var c,m,_=d(p);return c=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(c=d(this).constructor,Reflect.construct(_,arguments,c)):_.apply(this,arguments),_=this,!(m=c)||"object"!==C(m)&&"function"!=typeof m?a(_):m}}(M);function M(x,I,A){var H;if(this instanceof M)return(H=_.call(this,x,I)).canvas=x,H._pixelsState=I,A?(H._isMainCanvas=!0,H._pInst._setProperty("_curElement",a(H)),H._pInst._setProperty("canvas",H.canvas),H._pInst._setProperty("width",H.width),H._pInst._setProperty("height",H.height)):(H.canvas.style.display="none",H._styles=[]),H._clipping=!1,H._clipInvert=!1,H._textSize=12,H._textLeading=15,H._textFont="sans-serif",H._textStyle=g.NORMAL,H._textAscent=null,H._textDescent=null,H._textAlign=g.LEFT,H._textBaseline=g.BASELINE,H._textWrap=g.WORD,H._rectMode=g.CORNER,H._ellipseMode=g.CENTER,H._curveTightness=0,H._imageMode=g.CORNER,H._tint=null,H._doStroke=!0,H._doFill=!0,H._strokeSet=!1,H._fillSet=!1,H._leadingSet=!1,H._pushPopDepth=0,H;throw new TypeError("Cannot call a class as a function")}return c=M,(p=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(x){this._pushPopDepth--,x.properties&&Object.assign(this,x.properties)}},{key:"beginClip",value:function(){var x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=x.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(x,I){this.width=x,this.height=I,this.elt.width=x*this._pInst._pixelDensity,this.elt.height=I*this._pInst._pixelDensity,this.elt.style.width="".concat(x,"px"),this.elt.style.height="".concat(I,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(x,I,A,H){var P=this._pixelsState,z=P._pixelDensity,k=this.canvas;if(void 0===x&&void 0===I)x=I=0,A=P.width,H=P.height;else if(x*=z,I*=z,void 0===A&&void 0===H)return x<0||I<0||x>=k.width||I>=k.height?[0,0,0,0]:this._getPixel(x,I);return(P=new b.default.Image(A*z,H*z)).pixelDensity(z),P.canvas.getContext("2d").drawImage(k,x,I,A*z,H*z,0,0,A*z,H*z),P}},{key:"textLeading",value:function(x){return"number"==typeof x?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",x),this._pInst):this._textLeading}},{key:"textStyle",value:function(x){return x?(x!==g.NORMAL&&x!==g.ITALIC&&x!==g.BOLD&&x!==g.BOLDITALIC||this._setProperty("_textStyle",x),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(x,I){return void 0!==x?(this._setProperty("_textAlign",x),void 0!==I&&this._setProperty("_textBaseline",I),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(x){return this._setProperty("_textWrap",x),this._textWrap}},{key:"text",value:function(x,I,A,H,P){var z,k,te,ne,G=this._pInst,X=this._textWrap,B=Number.MAX_VALUE,N=A;if((this._doFill||this._doStroke)&&void 0!==x){if(z=(x=(x="string"!=typeof x?x.toString():x).replace(/(\t)/g,"  ")).split("\n"),void 0!==H){switch(this._rectMode===g.CENTER&&(I-=H/2),this._textAlign){case g.CENTER:I+=H/2;break;case g.RIGHT:I+=H}if(void 0!==P){this._rectMode===g.CENTER&&(A-=P/2,N-=P/2),x=A;var K=G.textAscent();switch(this._textBaseline){case g.BOTTOM:ne=A+P,A=Math.max(ne,A),N+=K;break;case g.CENTER:ne=A+P/2,A=Math.max(ne,A),N+=K/2}B=A+P-K,this._textBaseline===g.CENTER&&(B=x+P-K/2)}else this._textBaseline!==g.BOTTOM&&this._textBaseline!==g.CENTER||(N=A-(x=G.textSize()*this._textLeading)/2,B=A+x/2);if(X===g.WORD){for(var ie=[],Ae=0;Ae<z.length;Ae++){for(var Y="",R=z[Ae].split(" "),Q=0;Q<R.length;Q++)k="".concat(Y+R[Q])+" ",Y=H<(te=this.textWidth(k))&&0<Y.length?(ie.push(Y),"".concat(R[Q])+" "):k;ie.push(Y)}var pe=0;this._textBaseline===g.CENTER?pe=(ie.length-1)*G.textLeading()/2:this._textBaseline===g.BOTTOM&&(pe=(ie.length-1)*G.textLeading());for(var Se=0;Se<z.length;Se++){Y="",R=z[Se].split(" ");for(var Ve=0;Ve<R.length;Ve++)k="".concat(Y+R[Ve])+" ",H<(te=this.textWidth(k))&&0<Y.length?(this._renderText(G,Y.trim(),I,A-pe,B,N),Y="".concat(R[Ve])+" ",A+=G.textLeading()):Y=k;this._renderText(G,Y.trim(),I,A-pe,B,N),A+=G.textLeading()}}else{for(var qe=[],pt=0;pt<z.length;pt++)for(var We=z[pt].split(Y=""),ct=0;ct<We.length;ct++)k="".concat(Y+We[ct]),(te=this.textWidth(k))<=H?Y+=We[ct]:H<te&&0<Y.length&&(qe.push(Y),Y="".concat(We[ct]));qe.push(Y);var dt=0;this._textBaseline===g.CENTER?dt=(qe.length-1)*G.textLeading()/2:this._textBaseline===g.BOTTOM&&(dt=(qe.length-1)*G.textLeading());for(var $e=0;$e<z.length;$e++){We=z[$e].split(Y="");for(var Ze=0;Ze<We.length;Ze++)k="".concat(Y+We[Ze]),(te=this.textWidth(k))<=H?Y+=We[Ze]:H<te&&0<Y.length&&(this._renderText(G,Y.trim(),I,A-dt,B,N),A+=G.textLeading(),Y="".concat(We[Ze]))}this._renderText(G,Y.trim(),I,A-dt,B,N),A+=G.textLeading()}}else{var Je=0;this._textBaseline===g.CENTER?Je=(z.length-1)*G.textLeading()/2:this._textBaseline===g.BOTTOM&&(Je=(z.length-1)*G.textLeading());for(var at=0;at<z.length;at++)this._renderText(G,z[at],I,A-Je,B,N-Je),A+=G.textLeading()}return G}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===C(x)&&x.font&&x.font.supported}},{key:"_updateTextMetrics",value:function(){var x,I,A,H,P,z;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((x=document.createElement("span")).style.fontFamily=this._textFont,x.style.fontSize="".concat(this._textSize,"px"),x.innerHTML="ABCjgq|",(z=document.createElement("div")).style.display="inline-block",z.style.width="1px",z.style.height="0px",(I=document.createElement("div")).appendChild(x),I.appendChild(z),I.style.height="0px",I.style.overflow="hidden",document.body.appendChild(I),z.style.verticalAlign="baseline",H=u(z),P=u(x),A=H[1]-P[1],z.style.verticalAlign="bottom",H=u(z),P=u(x),z=H[1]-P[1]-A,document.body.removeChild(I),this._setProperty("_textAscent",A),this._setProperty("_textDescent",z)),this}}])&&w(c.prototype,p),M}(b.default.Element);function u(p){var c=0,m=0;if(p.offsetParent)for(;c+=p.offsetLeft,m+=p.offsetTop,p=p.offsetParent;);else c+=p.offsetLeft,m+=p.offsetTop;return[c,m]}f.prototype.textSize=function(p){return"number"==typeof p?(this._setProperty("_textSize",p),this._leadingSet||this._setProperty("_textLeading",p*g._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},b.default.Renderer=f,V.default=o=b.default.Renderer},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(p,se,V){"use strict";function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(c)}function b(c){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(m){return v(m)}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":v(m)})(c)}p("core-js/modules/es.symbol"),p("core-js/modules/es.symbol.description"),p("core-js/modules/es.symbol.iterator"),p("core-js/modules/es.array.concat"),p("core-js/modules/es.array.fill"),p("core-js/modules/es.array.for-each"),p("core-js/modules/es.array.iterator"),p("core-js/modules/es.array.join"),p("core-js/modules/es.array.slice"),p("core-js/modules/es.function.name"),p("core-js/modules/es.number.to-fixed"),p("core-js/modules/es.object.get-own-property-descriptor"),p("core-js/modules/es.object.get-prototype-of"),p("core-js/modules/es.object.to-string"),p("core-js/modules/es.reflect.construct"),p("core-js/modules/es.reflect.get"),p("core-js/modules/es.regexp.exec"),p("core-js/modules/es.regexp.to-string"),p("core-js/modules/es.string.iterator"),p("core-js/modules/es.weak-map"),p("core-js/modules/web.dom-collections.iterator"),p("core-js/modules/es.array.concat"),p("core-js/modules/es.array.fill"),p("core-js/modules/es.array.for-each"),p("core-js/modules/es.array.join"),p("core-js/modules/es.array.slice"),p("core-js/modules/es.function.name"),p("core-js/modules/es.number.to-fixed"),p("core-js/modules/es.object.get-prototype-of"),p("core-js/modules/es.object.to-string"),p("core-js/modules/es.regexp.exec"),p("core-js/modules/es.regexp.to-string"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=(u=p("./main"))&&u.__esModule?u:{default:u},y=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==b(c)&&"function"!=typeof c)return{default:c};var m=C();if(m&&m.has(c))return m.get(c);var _,M={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in c){var I;Object.prototype.hasOwnProperty.call(c,_)&&((I=x?Object.getOwnPropertyDescriptor(c,_):null)&&(I.get||I.set)?Object.defineProperty(M,_,I):M[_]=c[_])}return M.default=c,m&&m.set(c,M),M}(p("./constants"));function C(){var c;return"function"!=typeof WeakMap?null:(C=function(){return c},c=new WeakMap)}function w(c,m){for(var _=0;_<m.length;_++){var M=m[_];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(c,M.key,M)}}function s(c,m,_){return(s=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(A,x,I){if(A=function(H,P){for(;!Object.prototype.hasOwnProperty.call(H,P)&&null!==(H=d(H)););return H}(A,x))return(A=Object.getOwnPropertyDescriptor(A,x)).get?A.get.call(I):A.value})(c,m,_||c)}function l(c,m){return(l=Object.setPrototypeOf||function(_,M){return _.__proto__=M,_})(c,m)}function d(c){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(c)}p("./p5.Renderer");var f="rgba(0,0,0,0)",u=function(c){var m=x;if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),c&&l(m,c);var M=function a(c){return function(){var m,_=d(c);if(m=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(m=d(this).constructor,Reflect.construct(_,arguments,m)):_.apply(this,arguments),_=this,!m||"object"!==b(m)&&"function"!=typeof m){if(void 0!==_)return _;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return m}}(x);function x(I,A,H){if(this instanceof x)return(I=M.call(this,I,A,H)).drawingContext=I.canvas.getContext("2d"),I._pInst._setProperty("drawingContext",I.drawingContext),I;throw new TypeError("Cannot call a class as a function")}return m=x,(c=[{key:"getFilterGraphicsLayer",value:function(){return this.filterGraphicsLayer||(this.filterGraphicsLayer=new g.default.Graphics(this.width,this.height,y.WEBGL,(this._pInst instanceof g.default.Graphics?this._pInst:this)._pInst)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=y.BLEND,this._setFill(y._DEFAULT_FILL),this._setStroke(y._DEFAULT_STROKE),this.drawingContext.lineCap=y.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(I,A){s(d(x.prototype),"resize",this).call(this,I,A),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var I,A;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof g.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(I=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(I,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(I=this._getFill(),A=(A=this._pInst).color.apply(A,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(A.levels),A=A.toString(),this._setFill(A),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(I),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var I=(I=this._pInst).color.apply(I,arguments);this._setFill(I.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",I.levels)}},{key:"stroke",value:function(){var I=(I=this._pInst).color.apply(I,arguments);this._setStroke(I.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",I.levels)}},{key:"erase",value:function(I,A){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,I=this._pInst.color(255,I).toString(),this.drawingContext.fillStyle=I,this._cachedStrokeStyle=this.drawingContext.strokeStyle,I=this._pInst.color(255,A).toString(),this.drawingContext.strokeStyle=I,A=this._cachedBlendMode,this.blendMode(y.REMOVE),this._cachedBlendMode=A,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var I=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s(d(x.prototype),"beginClip",this).call(this,I),this._cachedFillStyle=this.drawingContext.fillStyle,I=this._pInst.color(255,0).toString(),this.drawingContext.fillStyle=I,this._cachedStrokeStyle=this.drawingContext.strokeStyle,I=this._pInst.color(255,0).toString(),this.drawingContext.strokeStyle=I,I=this._cachedBlendMode,this.blendMode(y.BLEND),this._cachedBlendMode=I,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),s(d(x.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(I,A,H,P,z,k,te,ne,G){I.gifProperties&&I._animateGif(this._pInst);try{g.default.MediaElement&&I instanceof g.default.MediaElement&&I._ensureCanvas();var X=(X=this._tint&&I.canvas?this._getTintedImageCanvas(I):X)||I.canvas||I.elt,B=1;I.width&&0<I.width&&(B=X.width/I.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(X,B*A,B*H,B*P,B*z,k,te,ne,G),this._isErasing&&this._pInst.erase()}catch(N){if("NS_ERROR_NOT_AVAILABLE"!==N.name)throw N}}},{key:"_getTintedImageCanvas",value:function(I){if(!I.canvas)return I;I.tintCanvas||(I.tintCanvas=document.createElement("canvas")),I.tintCanvas.width!==I.canvas.width&&(I.tintCanvas.width=I.canvas.width),I.tintCanvas.height!==I.canvas.height&&(I.tintCanvas.height=I.canvas.height);var A=I.tintCanvas.getContext("2d");return A.save(),A.clearRect(0,0,I.canvas.width,I.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(A.drawImage(I.canvas,0,0),A.globalCompositeOperation="luminosity",A.drawImage(I.canvas,0,0),A.globalCompositeOperation="color",A.drawImage(I.canvas,0,0),A.globalCompositeOperation="multiply",A.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),A.fillRect(0,0,I.canvas.width,I.canvas.height),A.globalCompositeOperation="destination-in"),A.globalAlpha=this._tint[3]/255,A.drawImage(I.canvas,0,0),A.restore(),I.tintCanvas}},{key:"blendMode",value:function(I){if(I===y.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(I!==y.BLEND&&I!==y.REMOVE&&I!==y.DARKEST&&I!==y.LIGHTEST&&I!==y.DIFFERENCE&&I!==y.MULTIPLY&&I!==y.EXCLUSION&&I!==y.SCREEN&&I!==y.REPLACE&&I!==y.OVERLAY&&I!==y.HARD_LIGHT&&I!==y.SOFT_LIGHT&&I!==y.DODGE&&I!==y.BURN&&I!==y.ADD)throw new Error("Mode ".concat(I," not recognized."));this._cachedBlendMode=I,this.drawingContext.globalCompositeOperation=I}}},{key:"blend",value:function(){for(var I=this.drawingContext.globalCompositeOperation,A=arguments.length,H=new Array(A),P=0;P<A;P++)H[P]=arguments[P];var z=H[H.length-1],k=Array.prototype.slice.call(H,0,H.length-1);this.drawingContext.globalCompositeOperation=z,g.default.prototype.copy.apply(this,k),this.drawingContext.globalCompositeOperation=I}},{key:"_getPixel",value:function(I,A){return[(I=this.drawingContext.getImageData(I,A,1,1).data)[0],I[1],I[2],I[3]]}},{key:"loadPixels",value:function(){var A,I=this._pixelsState,H=this.drawingContext.getImageData(0,0,H=this.width*(A=I._pixelDensity),A*=this.height);I._setProperty("imageData",H),I._setProperty("pixels",H.data)}},{key:"set",value:function(I,A,H){I=Math.floor(I),A=Math.floor(A);var P=this._pixelsState;if(H instanceof g.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(P._pixelDensity,P._pixelDensity),this.drawingContext.clearRect(I,A,H.width,H.height),this.drawingContext.drawImage(H.canvas,I,A),this.drawingContext.restore();else{var z=0,k=0,te=0,ne=0,G=4*(A*P._pixelDensity*(this.width*P._pixelDensity)+I*P._pixelDensity);if(P.imageData||P.loadPixels(),"number"==typeof H)G<P.pixels.length&&(te=k=z=H,ne=255);else if(Array.isArray(H)){if(H.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");G<P.pixels.length&&(z=H[0],k=H[1],te=H[2],ne=H[3])}else H instanceof g.default.Color&&G<P.pixels.length&&(z=H.levels[0],k=H.levels[1],te=H.levels[2],ne=H.levels[3]);for(var X=0;X<P._pixelDensity;X++)for(var B=0;B<P._pixelDensity;B++)P.pixels[G=4*((A*P._pixelDensity+B)*this.width*P._pixelDensity+(I*P._pixelDensity+X))]=z,P.pixels[G+1]=k,P.pixels[G+2]=te,P.pixels[G+3]=ne}}},{key:"updatePixels",value:function(I,A,H,P){var z=this._pixelsState,k=z._pixelDensity;void 0===I&&void 0===A&&void 0===H&&void 0===P&&(A=I=0,H=this.width,P=this.height),I*=k,A*=k,H*=k,P*=k,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=z.imageData),this.drawingContext.putImageData(z.imageData,I,A,0,0,H,P)}},{key:"_acuteArcToBezier",value:function(I,A){var k=A/2,H=Math.cos(k),ne=Math.sin(k),P=1/Math.tan(k),z=(k=I+k,Math.cos(k)),te=(k=Math.sin(k),(4-H)/3);return ne+=(H-te)*P,{ax:Math.cos(I).toFixed(7),ay:Math.sin(I).toFixed(7),bx:(te*z+ne*k).toFixed(7),by:(te*k-ne*z).toFixed(7),cx:(te*z-ne*k).toFixed(7),cy:(te*k+ne*z).toFixed(7),dx:Math.cos(I+A).toFixed(7),dy:Math.sin(I+A).toFixed(7)}}},{key:"arc",value:function(I,A,H,P,z,k,te){var ne,G=this.drawingContext,X=H/2,B=P/2,N=[];for(I+=X,A+=B;1e-5<=k-z;)ne=Math.min(k-z,y.HALF_PI),N.push(this._acuteArcToBezier(z,ne)),z+=ne;return this._doFill&&(this._clipping||G.beginPath(),N.forEach(function(K,ie){0===ie&&G.moveTo(I+K.ax*X,A+K.ay*B),G.bezierCurveTo(I+K.bx*X,A+K.by*B,I+K.cx*X,A+K.cy*B,I+K.dx*X,A+K.dy*B)}),te!==y.PIE&&null!=te||G.lineTo(I,A),G.closePath(),this._clipping||G.fill()),this._doStroke&&(this._clipping||G.beginPath(),N.forEach(function(K,ie){0===ie&&G.moveTo(I+K.ax*X,A+K.ay*B),G.bezierCurveTo(I+K.bx*X,A+K.by*B,I+K.cx*X,A+K.cy*B,I+K.dx*X,A+K.dy*B)}),te===y.PIE?(G.lineTo(I,A),G.closePath()):te===y.CHORD&&G.closePath(),this._clipping||G.stroke()),this}},{key:"ellipse",value:function(ne){var A=this.drawingContext,H=this._doFill,P=this._doStroke,z=parseFloat(ne[0]),k=parseFloat(ne[1]),te=parseFloat(ne[2]);if(ne=parseFloat(ne[3]),H&&!P){if(this._getFill()===f)return this}else if(!H&&P&&this._getStroke()===f)return this;z+=te/2,k+=ne/2,te/=2,ne/=2,this._clipping||A.beginPath(),A.ellipse(z,k,te,ne,0,0,2*Math.PI),!this._clipping&&H&&A.fill(),!this._clipping&&P&&A.stroke()}},{key:"line",value:function(I,A,H,P){var z=this.drawingContext;return this._doStroke&&this._getStroke()!==f&&(this._clipping||z.beginPath(),z.moveTo(I,A),z.lineTo(H,P),z.stroke()),this}},{key:"point",value:function(I,A){var H,P,z=this.drawingContext;return this._doStroke&&this._getStroke()!==f?(H=this._getStroke(),P=this._getFill(),this._clipping||this._setFill(H),this._clipping||z.beginPath(),z.arc(I,A,z.lineWidth/2,0,y.TWO_PI,!1),void(this._clipping||(z.fill(),this._setFill(P)))):this}},{key:"quad",value:function(I,A,H,P,z,k,te,ne){var G=this.drawingContext,X=this._doFill,B=this._doStroke;if(X&&!B){if(this._getFill()===f)return this}else if(!X&&B&&this._getStroke()===f)return this;return this._clipping||G.beginPath(),G.moveTo(I,A),G.lineTo(H,P),G.lineTo(z,k),G.lineTo(te,ne),G.closePath(),!this._clipping&&X&&G.fill(),!this._clipping&&B&&G.stroke(),this}},{key:"rect",value:function(B){var A,H,P=B[0],z=B[1],k=B[2],te=B[3],ne=B[4],G=B[5],X=B[6],N=(B=B[7],this.drawingContext),K=this._doFill,ie=this._doStroke;if(K&&!ie){if(this._getFill()===f)return this}else if(!K&&ie&&this._getStroke()===f)return this;return this._clipping||N.beginPath(),void 0===ne?N.rect(P,z,k,te):(void 0===G&&(G=ne),void 0===X&&(X=G),void 0===B&&(B=X),ie=(K=Math.abs(k))/2,H=(A=Math.abs(te))/2,A<2*(ne=K<2*ne?ie:ne)&&(ne=H),A<2*(G=K<2*G?ie:G)&&(G=H),A<2*(X=K<2*X?ie:X)&&(X=H),A<2*(B=K<2*B?ie:B)&&(B=H),this._clipping||N.beginPath(),N.moveTo(P+ne,z),N.arcTo(P+k,z,P+k,z+te,G),N.arcTo(P+k,z+te,P,z+te,X),N.arcTo(P,z+te,P,z,B),N.arcTo(P,z,P+k,z,ne),N.closePath()),!this._clipping&&this._doFill&&N.fill(),!this._clipping&&this._doStroke&&N.stroke(),this}},{key:"triangle",value:function(X){var A=this.drawingContext,H=this._doFill,P=this._doStroke,z=X[0],k=X[1],te=X[2],ne=X[3],G=X[4];if(X=X[5],H&&!P){if(this._getFill()===f)return this}else if(!H&&P&&this._getStroke()===f)return this;this._clipping||A.beginPath(),A.moveTo(z,k),A.lineTo(te,ne),A.lineTo(G,X),A.closePath(),!this._clipping&&H&&A.fill(),!this._clipping&&P&&A.stroke()}},{key:"endShape",value:function(I,A,H,P,z,k,te){if(0!==A.length&&(this._doStroke||this._doFill)){var ne,G,X,B=I===y.CLOSE,N=(B&&!k&&A.push(A[0]),A.length);if(H&&null===te){if(3<N){var K=[],ie=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(A[1][0],A[1][1]),G=1;G+2<N;G++)K[0]=[(ne=A[G])[0],ne[1]],K[1]=[ne[0]+(ie*A[G+1][0]-ie*A[G-1][0])/6,ne[1]+(ie*A[G+1][1]-ie*A[G-1][1])/6],K[2]=[A[G+1][0]+(ie*A[G][0]-ie*A[G+2][0])/6,A[G+1][1]+(ie*A[G][1]-ie*A[G+2][1])/6],K[3]=[A[G+1][0],A[G+1][1]],this.drawingContext.bezierCurveTo(K[1][0],K[1][1],K[2][0],K[2][1],K[3][0],K[3][1]);B&&this.drawingContext.lineTo(A[G+1][0],A[G+1][1]),this._doFillStrokeClose(B)}}else if(P&&null===te){for(this._clipping||this.drawingContext.beginPath(),G=0;G<N;G++)A[G].isVert?A[G].moveTo?this.drawingContext.moveTo(A[G][0],A[G][1]):this.drawingContext.lineTo(A[G][0],A[G][1]):this.drawingContext.bezierCurveTo(A[G][0],A[G][1],A[G][2],A[G][3],A[G][4],A[G][5]);this._doFillStrokeClose(B)}else if(z&&null===te){for(this._clipping||this.drawingContext.beginPath(),G=0;G<N;G++)A[G].isVert?A[G].moveTo?this.drawingContext.moveTo(A[G][0],A[G][1]):this.drawingContext.lineTo(A[G][0],A[G][1]):this.drawingContext.quadraticCurveTo(A[G][0],A[G][1],A[G][2],A[G][3]);this._doFillStrokeClose(B)}else if(te===y.POINTS)for(G=0;G<N;G++)ne=A[G],this._doStroke&&this._pInst.stroke(ne[6]),this._pInst.point(ne[0],ne[1]);else if(te===y.LINES)for(G=0;G+1<N;G+=2)ne=A[G],this._doStroke&&this._pInst.stroke(A[G+1][6]),this._pInst.line(ne[0],ne[1],A[G+1][0],A[G+1][1]);else if(te===y.TRIANGLES)for(G=0;G+2<N;G+=3)ne=A[G],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(ne[0],ne[1]),this.drawingContext.lineTo(A[G+1][0],A[G+1][1]),this.drawingContext.lineTo(A[G+2][0],A[G+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(A[G+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(A[G+2][6]),this.drawingContext.stroke());else if(te===y.TRIANGLE_STRIP)for(G=0;G+1<N;G++)ne=A[G],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(A[G+1][0],A[G+1][1]),this.drawingContext.lineTo(ne[0],ne[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(A[G+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(A[G+1][5]),G+2<N&&(this.drawingContext.lineTo(A[G+2][0],A[G+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(A[G+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(A[G+2][5])),this._doFillStrokeClose(B);else if(te===y.TRIANGLE_FAN){if(2<N){for(this._clipping||this.drawingContext.beginPath(),G=2;G<N;G++)ne=A[G],this.drawingContext.moveTo(A[0][0],A[0][1]),this.drawingContext.lineTo(A[G-1][0],A[G-1][1]),this.drawingContext.lineTo(ne[0],ne[1]),this.drawingContext.lineTo(A[0][0],A[0][1]),G<N-1&&(this._doFill&&ne[5]!==A[G+1][5]||this._doStroke&&ne[6]!==A[G+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(ne[5]),this.drawingContext.fill(),this._pInst.fill(A[G+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(ne[6]),this.drawingContext.stroke(),this._pInst.stroke(A[G+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(B)}}else if(te===y.QUADS)for(G=0;G+3<N;G+=4){for(ne=A[G],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(ne[0],ne[1]),X=1;X<4;X++)this.drawingContext.lineTo(A[G+X][0],A[G+X][1]);this.drawingContext.lineTo(ne[0],ne[1]),!this._clipping&&this._doFill&&this._pInst.fill(A[G+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(A[G+3][6]),this._doFillStrokeClose(B)}else if(te===y.QUAD_STRIP){if(3<N)for(G=0;G+1<N;G+=2)ne=A[G],this._clipping||this.drawingContext.beginPath(),G+3<N?(this.drawingContext.moveTo(A[G+2][0],A[G+2][1]),this.drawingContext.lineTo(ne[0],ne[1]),this.drawingContext.lineTo(A[G+1][0],A[G+1][1]),this.drawingContext.lineTo(A[G+3][0],A[G+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(A[G+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(A[G+3][6])):(this.drawingContext.moveTo(ne[0],ne[1]),this.drawingContext.lineTo(A[G+1][0],A[G+1][1])),this._doFillStrokeClose(B)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(A[0][0],A[0][1]),G=1;G<N;G++)(ne=A[G]).isVert&&(ne.moveTo?(B&&this.drawingContext.closePath(),this.drawingContext.moveTo(ne[0],ne[1])):this.drawingContext.lineTo(ne[0],ne[1]));this._doFillStrokeClose(B)}k=z=P=H=!1,B&&A.pop()}return this}},{key:"strokeCap",value:function(I){return I!==y.ROUND&&I!==y.SQUARE&&I!==y.PROJECT||(this.drawingContext.lineCap=I),this}},{key:"strokeJoin",value:function(I){return I!==y.ROUND&&I!==y.BEVEL&&I!==y.MITER||(this.drawingContext.lineJoin=I),this}},{key:"strokeWeight",value:function(I){return this.drawingContext.lineWidth=void 0===I||0===I?1e-4:I,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(I){I!==this._cachedFillStyle&&(this.drawingContext.fillStyle=I,this._cachedFillStyle=I)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(I){I!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=I,this._cachedStrokeStyle=I)}},{key:"bezier",value:function(I,A,H,P,z,k,te,ne){return this._pInst.beginShape(),this._pInst.vertex(I,A),this._pInst.bezierVertex(H,P,z,k,te,ne),this._pInst.endShape(),this}},{key:"curve",value:function(I,A,H,P,z,k,te,ne){return this._pInst.beginShape(),this._pInst.curveVertex(I,A),this._pInst.curveVertex(H,P),this._pInst.curveVertex(z,k),this._pInst.curveVertex(te,ne),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(I){I&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(I,A,H,P,z,k){this.drawingContext.transform(I,A,H,P,z,k)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(I){this.drawingContext.rotate(I)}},{key:"scale",value:function(I,A){return this.drawingContext.scale(I,A),this}},{key:"translate",value:function(I,A){return I instanceof g.default.Vector&&(A=I.y,I=I.x),this.drawingContext.translate(I,A),this}},{key:"_renderText",value:function(I,A,H,P,z,k){if(!(P<k||z<=P))return I.push(),this._isOpenType()?this._textFont._renderPath(A,H,P,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(A,H,P),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(y._DEFAULT_TEXT_FILL),this.drawingContext.fillText(A,H,P))),I.pop(),I}},{key:"textWidth",value:function(I){return this._isOpenType()?this._textFont._textWidth(I,this._textSize):this.drawingContext.measureText(I).width}},{key:"_applyTextProperties",value:function(){var I=this._pInst,A=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),A=this._textFont,this._isOpenType()&&(A=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),A||"sans-serif");return/\s/.exec(A)&&(A='"'.concat(A,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(A),this.drawingContext.textAlign=this._textAlign,this.drawingContext.textBaseline=this._textBaseline===y.CENTER?y._CTX_MIDDLE:this._textBaseline,I}},{key:"push",value:function(){return this.drawingContext.save(),s(d(x.prototype),"push",this).call(this)}},{key:"pop",value:function(I){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,s(d(x.prototype),"pop",this).call(this,I)}}])&&w(m.prototype,c),x}(g.default.Renderer);u.prototype.text=function(c,m,_,A,x){var I;return void 0!==A&&this.drawingContext.textBaseline===y.BASELINE&&(I=!0,this.drawingContext.textBaseline=y.TOP),A=g.default.Renderer.prototype.text.apply(this,arguments),I&&(this.drawingContext.textBaseline=y.BASELINE),A},g.default.Renderer2D=u,V.default=p=g.default.Renderer2D},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(o,se,V){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator");var v=(o=o("./main"))&&o.__esModule?o:{default:o};function b(){return{}}v.default.prototype._promisePreloads=[];var g=!(v.default.prototype.registerPromisePreload=function(y){v.default.prototype._promisePreloads.push(y)});v.default.prototype._setupPromisePreloads=function(){var y=!0,C=!1,w=void 0;try{for(var s,l=this._promisePreloads[Symbol.iterator]();!(y=(s=l.next()).done);y=!0){var a=s.value,d=this,f=a.method,u=a.addCallbacks,p=a.legacyPreloadSetup,c=a.target||this,m=c[f].bind(c);if(c===v.default.prototype){if(g)continue;d=null,m=c[f]}c[f]=this._wrapPromisePreload(d,m,u),p&&(c[p.method]=this._legacyPreloadGenerator(d,p,c[f]))}}catch(_){C=!0,w=_}finally{try{y||null==l.return||l.return()}finally{if(C)throw w}}g=!0},v.default.prototype._wrapPromisePreload=function(y,C,w){var s=function(){for(var l=this,a=(this._incrementPreload(),null),d=null,f=arguments.length,u=new Array(f),p=0;p<f;p++)u[p]=arguments[p];if(w)for(var c=u.length-1;0<=c&&!d&&"function"==typeof u[c];c--)d=a,a=u.pop();var m=Promise.resolve(C.apply(this,u));return a&&m.then(a),d&&m.catch(d),m.then(function(){return l._decrementPreload()}),m};return y?s.bind(y):s},v.default.prototype._legacyPreloadGenerator=function(y,l,w){var s=l.createBaseObject||b;return l=function(){var a=this;this._incrementPreload();for(var d=arguments.length,f=new Array(d),u=0;u<d;u++)f[u]=arguments[u];var p=s.apply(this,f);return w.apply(this,f).then(function(c){Object.assign(p,c),a._decrementPreload()}),p},y?l.bind(y):l}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(o,se,V){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var b=(s=o("./main"))&&s.__esModule?s:{default:s},g=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==C(l)&&"function"!=typeof l)return{default:l};var a=y();if(a&&a.has(l))return a.get(l);var d,f={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in l){var p;Object.prototype.hasOwnProperty.call(l,d)&&((p=u?Object.getOwnPropertyDescriptor(l,d):null)&&(p.get||p.set)?Object.defineProperty(f,d,p):f[d]=l[d])}return f.default=l,a&&a.set(l,f),f}(o("./constants"));function y(){var l;return"function"!=typeof WeakMap?null:(y=function(){return l},l=new WeakMap)}function C(l){return(C="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(l)}o("./p5.Graphics"),o("./p5.Renderer2D"),o("../webgl/p5.RendererGL");var w="defaultCanvas0",s=(b.default.prototype.createCanvas=function(l,a,d,f){var u,p,c;if(b.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(d=g.P2D,f=arguments[2]):u=d||g.P2D,f)(c=document.getElementById(w))&&c.parentNode.removeChild(c),c=f,this._defaultGraphicsCreated=!1;else{if(u===g.WEBGL)(c=document.getElementById(w))&&(c.parentNode.removeChild(c),p=this._renderer,this._elements=this._elements.filter(function(_){return _!==p})),(c=document.createElement("canvas")).id=w,c.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)c=this.canvas;else{c=f||document.createElement("canvas");for(var m=0;document.getElementById("defaultCanvas".concat(m));)m++;w="defaultCanvas".concat(m),c.id=w,c.classList.add("p5Canvas")}this._setupDone||(c.dataset.hidden=!0,c.style.visibility="hidden"),(this._userNode||(0===document.getElementsByTagName("main").length&&(d=document.createElement("main"),document.body.appendChild(d)),document.getElementsByTagName("main")[0])).appendChild(c)}return u===g.WEBGL?(this._setProperty("_renderer",new b.default.RendererGL(c,this,!0)),this._elements.push(this._renderer),l=(f=this._renderer._adjustDimensions(l,a)).adjustedWidth,a=f.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new b.default.Renderer2D(c,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(l,a),this._renderer._applyDefaults(),this._renderer},b.default.prototype.resizeCanvas=function(l,a,d){if(b.default._validateParameters("resizeCanvas",arguments),this._renderer){var f,u,p,c={};for(f in this.drawingContext){var m=this.drawingContext[f];"object"!==C(m)&&"function"!=typeof m&&(c[f]=m)}for(p in this._renderer instanceof b.default.RendererGL&&(l=(u=this._renderer._adjustDimensions(l,a)).adjustedWidth,a=u.adjustedHeight),this.width=l,this.height=a,this._renderer.resize(l,a),c)try{this.drawingContext[p]=c[p]}catch{}d||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},b.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},b.default.prototype.createGraphics=function(l,a){for(var d=arguments.length,f=new Array(2<d?d-2:0),u=2;u<d;u++)f[u-2]=arguments[u];return f[0]instanceof HTMLCanvasElement&&(f[1]=f[0],f[0]=g.P2D),b.default._validateParameters("createGraphics",arguments),new b.default.Graphics(l,a,f[0],this,f[1])},b.default.prototype.createFramebuffer=function(l){return new b.default.Framebuffer(this,l)},b.default.prototype.clearDepth=function(l){this._assert3d("clearDepth"),this._renderer.clearDepth(l)},b.default.prototype.blendMode=function(l){b.default._validateParameters("blendMode",arguments),l===g.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),l=g.BLEND),this._renderer.blendMode(l)},b.default);V.default=s},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(o,se,V){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}function b(a){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=s(o("../main")),y=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==b(a)&&"function"!=typeof a)return{default:a};var d=w();if(d&&d.has(a))return d.get(a);var f,u={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in a){var c;Object.prototype.hasOwnProperty.call(a,f)&&((c=p?Object.getOwnPropertyDescriptor(a,f):null)&&(c.get||c.set)?Object.defineProperty(u,f,c):u[f]=a[f])}return u.default=a,d&&d.set(a,u),u}(o("../constants")),C=s(o("../helpers"));function w(){var a;return"function"!=typeof WeakMap?null:(w=function(){return a},a=new WeakMap)}function s(a){return a&&a.__esModule?a:{default:a}}o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),g.default.prototype._normalizeArcAngles=function(a,d,f,u,p){var c;return a-=y.TWO_PI*Math.floor(a/y.TWO_PI),d-=y.TWO_PI*Math.floor(d/y.TWO_PI),c=Math.min(Math.abs(a-d),y.TWO_PI-Math.abs(a-d)),p&&(a=a<=y.HALF_PI?Math.atan(f/u*Math.tan(a)):a>y.HALF_PI&&a<=3*y.HALF_PI?Math.atan(f/u*Math.tan(a))+y.PI:Math.atan(f/u*Math.tan(a))+y.TWO_PI,d=d<=y.HALF_PI?Math.atan(f/u*Math.tan(d)):d>y.HALF_PI&&d<=3*y.HALF_PI?Math.atan(f/u*Math.tan(d))+y.PI:Math.atan(f/u*Math.tan(d))+y.TWO_PI),d<a&&(d+=y.TWO_PI),{start:a,stop:d,correspondToSamePoint:c<1e-5}},g.default.prototype.arc=function(a,d,f,u,p,c,m,_){return g.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&p!==c&&(p=this._toRadians(p),c=this._toRadians(c),f=Math.abs(f),u=Math.abs(u),a=C.default.modeAdjust(a,d,f,u,this._renderer._ellipseMode),(d=this._normalizeArcAngles(p,c,a.w,a.h,!0)).correspondToSamePoint?this._renderer.ellipse([a.x,a.y,a.w,a.h,_]):(this._renderer.arc(a.x,a.y,a.w,a.h,d.start,d.stop,m,_),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[a.x,a.y,a.w,a.h,d.start,d.stop,m]))),this},g.default.prototype.ellipse=function(a,d,f,u,p){return g.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},g.default.prototype.circle=function(){for(var a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];g.default._validateParameters("circle",d);var u=d.slice(0,2);return u.push(d[2],d[2]),this._renderEllipse.apply(this,function l(a){return function(d){if(Array.isArray(d)){for(var f=0,u=new Array(d.length);f<d.length;f++)u[f]=d[f];return u}}(a)||function(d){if(Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d))return Array.from(d)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(u))},g.default.prototype._renderEllipse=function(a,d,f,u,p){return(this._renderer._doStroke||this._renderer._doFill)&&(f<0&&(f=Math.abs(f)),void 0===u?u=f:u<0&&(u=Math.abs(u)),a=C.default.modeAdjust(a,d,f,u,this._renderer._ellipseMode),this._renderer.ellipse([a.x,a.y,a.w,a.h,p]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[a.x,a.y,a.w,a.h])),this},g.default.prototype.line=function(){for(var a,d=arguments.length,f=new Array(d),u=0;u<d;u++)f[u]=arguments[u];return g.default._validateParameters("line",f),this._renderer._doStroke&&(a=this._renderer).line.apply(a,f),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",f),this},g.default.prototype.point=function(){for(var a,d=arguments.length,f=new Array(d),u=0;u<d;u++)f[u]=arguments[u];return g.default._validateParameters("point",f),this._renderer._doStroke&&(1===f.length&&f[0]instanceof g.default.Vector?this._renderer.point.call(this._renderer,f[0].x,f[0].y,f[0].z):((a=this._renderer).point.apply(a,f),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",f))),this},g.default.prototype.quad=function(){for(var a,d=arguments.length,f=new Array(d),u=0;u<d;u++)f[u]=arguments[u];return g.default._validateParameters("quad",f),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&f.length<12?this._renderer.quad.call(this._renderer,f[0],f[1],0,f[2],f[3],0,f[4],f[5],0,f[6],f[7],0,f[8],f[9]):((a=this._renderer).quad.apply(a,f),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",f))),this},g.default.prototype.rect=function(){for(var a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];return g.default._validateParameters("rect",d),this._renderRect.apply(this,d)},g.default.prototype.square=function(a,d,f,u,p,c,m){return g.default._validateParameters("square",arguments),this._renderRect.call(this,a,d,f,f,u,p,c,m)},g.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var a=C.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),d=[a.x,a.y,a.w,a.h],f=4;f<arguments.length;f++)d[f]=arguments[f];this._renderer.rect(d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[a.x,a.y,a.w,a.h])}return this},g.default.prototype.triangle=function(){for(var a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];return g.default._validateParameters("triangle",d),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",d),this},V.default=o=g.default},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(o,se,V){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(s)}function b(s){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=(w=o("../main"))&&w.__esModule?w:{default:w},y=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==b(s)&&"function"!=typeof s)return{default:s};var l=C();if(l&&l.has(s))return l.get(s);var a,d={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var u;Object.prototype.hasOwnProperty.call(s,a)&&((u=f?Object.getOwnPropertyDescriptor(s,a):null)&&(u.get||u.set)?Object.defineProperty(d,a,u):d[a]=s[a])}return d.default=s,l&&l.set(s,d),d}(o("../constants"));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}g.default.prototype.ellipseMode=function(s){return g.default._validateParameters("ellipseMode",arguments),s!==y.CORNER&&s!==y.CORNERS&&s!==y.RADIUS&&s!==y.CENTER||(this._renderer._ellipseMode=s),this},g.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},g.default.prototype.rectMode=function(s){return g.default._validateParameters("rectMode",arguments),s!==y.CORNER&&s!==y.CORNERS&&s!==y.RADIUS&&s!==y.CENTER||(this._renderer._rectMode=s),this},g.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},g.default.prototype.strokeCap=function(s){return g.default._validateParameters("strokeCap",arguments),s!==y.ROUND&&s!==y.SQUARE&&s!==y.PROJECT||this._renderer.strokeCap(s),this},g.default.prototype.strokeJoin=function(s){return g.default._validateParameters("strokeJoin",arguments),s!==y.ROUND&&s!==y.BEVEL&&s!==y.MITER||this._renderer.strokeJoin(s),this},g.default.prototype.strokeWeight=function(s){return g.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(s),this};var w=g.default;V.default=w},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(o,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(b=o("../main"))&&b.__esModule?b:{default:b};o("../friendly_errors/fes_core"),o("../friendly_errors/file_errors"),o("../friendly_errors/validate_params"),v.default.prototype.bezier=function(){for(var g,y=arguments.length,C=new Array(y),w=0;w<y;w++)C[w]=arguments[w];return v.default._validateParameters("bezier",C),(this._renderer._doStroke||this._renderer._doFill)&&(g=this._renderer).bezier.apply(g,C),this},v.default.prototype.bezierDetail=function(g){return v.default._validateParameters("bezierDetail",arguments),this._bezierDetail=g,this},v.default.prototype.bezierPoint=function(g,y,C,w,s){v.default._validateParameters("bezierPoint",arguments);var l=1-s;return Math.pow(l,3)*g+3*Math.pow(l,2)*s*y+3*l*Math.pow(s,2)*C+Math.pow(s,3)*w},v.default.prototype.bezierTangent=function(g,y,C,w,s){v.default._validateParameters("bezierTangent",arguments);var l=1-s;return 3*w*Math.pow(s,2)-3*C*Math.pow(s,2)+6*C*l*s-6*y*l*s+3*y*Math.pow(l,2)-3*g*Math.pow(l,2)},v.default.prototype.curve=function(){for(var g,y=arguments.length,C=new Array(y),w=0;w<y;w++)C[w]=arguments[w];return v.default._validateParameters("curve",C),this._renderer._doStroke&&(g=this._renderer).curve.apply(g,C),this},v.default.prototype.curveDetail=function(g){return v.default._validateParameters("curveDetail",arguments),this._curveDetail=g<3?3:g,this},v.default.prototype.curveTightness=function(g){return v.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=g,this},v.default.prototype.curvePoint=function(g,y,C,w,s){v.default._validateParameters("curvePoint",arguments);var l=this._renderer._curveTightness,a=s*s*s,d=s*s;return g*((l-1)/2*a+(1-l)*d+(l-1)/2*s)+y*((l+3)/2*a+(-5-l)/2*d+1)+C*((-3-l)/2*a+(l+2)*d+(1-l)/2*s)+w*((1-l)/2*a+(l-1)/2*d)},v.default.prototype.curveTangent=function(g,y,C,w,d){v.default._validateParameters("curveTangent",arguments);var l=this._renderer._curveTightness,a=d*d*3;return g*((l-1)/2*a+(1-l)*(d*=2)+(l-1)/2)+y*((l+3)/2*a+(-5-l)/2*d)+C*((-3-l)/2*a+(l+2)*d+(1-l)/2)+w*((1-l)/2*a+(l-1)/2*d)};var b=v.default;V.default=b},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(o,se,V){"use strict";function v(m){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(m)}function b(m){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(_){return v(_)}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":v(_)})(m)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.slice"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=(c=o("../main"))&&c.__esModule?c:{default:c},y=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==b(m)&&"function"!=typeof m)return{default:m};var _=C();if(_&&_.has(m))return _.get(m);var M,x={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in m){var A;Object.prototype.hasOwnProperty.call(m,M)&&((A=I?Object.getOwnPropertyDescriptor(m,M):null)&&(A.get||A.set)?Object.defineProperty(x,M,A):x[M]=m[M])}return x.default=m,_&&_.set(m,x),x}(o("../constants"));function C(){var m;return"function"!=typeof WeakMap?null:(C=function(){return m},m=new WeakMap)}var w=null,s=[],l=[],a=!1,d=!1,f=!1,u=!1,p=!0,c=(g.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(l=[],u=!0),this},g.default.prototype.beginShape=function(m){var _;return g.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(_=this._renderer).beginShape.apply(_,arguments):(w=m===y.POINTS||m===y.LINES||m===y.TRIANGLES||m===y.TRIANGLE_FAN||m===y.TRIANGLE_STRIP||m===y.QUADS||m===y.QUAD_STRIP?m:null,s=[],l=[]),this},g.default.prototype.bezierVertex=function(){for(var m,_=arguments.length,M=new Array(_),x=0;x<_;x++)M[x]=arguments[x];if(g.default._validateParameters("bezierVertex",M),this._renderer.isP3D)(m=this._renderer).bezierVertex.apply(m,M);else if(0===s.length)g.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{a=!0;for(var I=[],A=0;A<M.length;A++)I[A]=M[A];I.isVert=!1,(u?l:s).push(I)}return this},g.default.prototype.curveVertex=function(){for(var m,_=arguments.length,M=new Array(_),x=0;x<_;x++)M[x]=arguments[x];return g.default._validateParameters("curveVertex",M),this._renderer.isP3D?(m=this._renderer).curveVertex.apply(m,M):(d=!0,this.vertex(M[0],M[1])),this},g.default.prototype.endContour=function(){if(!this._renderer.isP3D){var m=l[0].slice();m.isVert=l[0].isVert,m.moveTo=!1,l.push(m),p&&(s.push(s[0]),p=!1);for(var _=0;_<l.length;_++)s.push(l[_])}return this},g.default.prototype.endShape=function(m){var _=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(g.default._validateParameters("endShape",arguments),_<1&&(console.log("\u{1f338} p5.js says: You can not have less than one instance"),_=1),this._renderer.isP3D)this._renderer.endShape(m,d,a,f,u,w,_);else{if(1!==_&&console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode"),0===s.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;(_=m===y.CLOSE)&&!u&&s.push(s[0]),this._renderer.endShape(m,s,d,a,f,u,w),p=!(u=f=a=d=!1),_&&s.pop()}return this},g.default.prototype.quadraticVertex=function(){for(var m,_=arguments.length,M=new Array(_),x=0;x<_;x++)M[x]=arguments[x];if(g.default._validateParameters("quadraticVertex",M),this._renderer.isP3D)(m=this._renderer).quadraticVertex.apply(m,M);else{if(this._contourInited)return(m={}).x=M[0],m.y=M[1],m.x3=M[2],m.y3=M[3],m.type=y.QUADRATIC,this._contourVertices.push(m),this;if(0<s.length){f=!0;for(var I=[],A=0;A<M.length;A++)I[A]=M[A];I.isVert=!1,(u?l:s).push(I)}else g.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},g.default.prototype.vertex=function(m,_,M,x,I){var A;return this._renderer.isP3D?(A=this._renderer).vertex.apply(A,arguments):((A=[]).isVert=!0,A[0]=m,A[1]=_,A[2]=0,A[3]=0,A[4]=0,A[5]=this._renderer._getFill(),A[6]=this._renderer._getStroke(),M&&(A.moveTo=M),(u?(0===l.length&&(A.moveTo=!0),l):s).push(A)),this},g.default.prototype.normal=function(m,_,M){var x;return this._assert3d("normal"),g.default._validateParameters("normal",arguments),(x=this._renderer).normal.apply(x,arguments),this},g.default);V.default=c},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(o,se,V){},{}],295:[function(o,se,V){"use strict";o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.assign"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("./main"))&&o.__esModule?o:{default:o}).default.prototype.noLoop=function(){this._loop=!1},o.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},o.default.prototype.isLooping=function(){return this._loop},o.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},o.default.prototype.pop=function(){var v=this._styles.pop();v?(this._renderer.pop(v.renderer),Object.assign(this,v.props)):console.warn("pop() was called without matching push()")},o.default.prototype.redraw=function(v){if(!this._inUserDraw&&this._setupDone){var b=parseInt(v),g=((isNaN(b)||b<1)&&(b=1),this._isGlobal?window:this);if("function"==typeof g.draw){void 0===g.setup&&g.scale(g._pixelDensity,g._pixelDensity);for(var y=0;y<b;y++){g.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),g._renderer.isP3D&&g._renderer._update(),g._setProperty("frameCount",g.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{g.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},V.default=o=o.default},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(o,se,V){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("./main"))&&o.__esModule?o:{default:o};v.default.prototype.applyMatrix=function(){var g=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||g?(g=this._renderer).applyMatrix.apply(g,function b(g){return function(y){if(Array.isArray(y)){for(var C=0,w=new Array(y.length);C<y.length;C++)w[C]=y[C];return w}}(g)||function(y){if(Symbol.iterator in Object(y)||"[object Arguments]"===Object.prototype.toString.call(y))return Array.from(y)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(arguments.length<=0?void 0:arguments[0])):(g=this._renderer).applyMatrix.apply(g,arguments),this},v.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},v.default.prototype.rotate=function(g,y){return v.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(g),y),this},v.default.prototype.rotateX=function(g){return this._assert3d("rotateX"),v.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(g)),this},v.default.prototype.rotateY=function(g){return this._assert3d("rotateY"),v.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(g)),this},v.default.prototype.rotateZ=function(g){return this._assert3d("rotateZ"),v.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(g)),this},v.default.prototype.scale=function(g,y,C){var w;return v.default._validateParameters("scale",arguments),g instanceof v.default.Vector?(g=(w=g).x,y=w.y,C=w.z):Array.isArray(g)&&(g=(w=g)[0],y=w[1],C=w[2]||1),isNaN(y)?y=C=g:isNaN(C)&&(C=1),this._renderer.scale(g,y,C),this},v.default.prototype.shearX=function(g){return v.default._validateParameters("shearX",arguments),g=this._toRadians(g),this._renderer.applyMatrix(1,0,Math.tan(g),1,0,0),this},v.default.prototype.shearY=function(g){return v.default._validateParameters("shearY",arguments),g=this._toRadians(g),this._renderer.applyMatrix(1,Math.tan(g),0,1,0,0),this},v.default.prototype.translate=function(g,y,C){return v.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(g,y,C):this._renderer.translate(g,y),this},V.default=o=v.default},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(o,se,V){"use strict";function v(C){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(C)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.ends-with"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator");var b=(o=o("../core/main"))&&o.__esModule?o:{default:o};function g(C){return function(w){if(Array.isArray(w)){for(var s=0,l=new Array(w.length);s<w.length;s++)l[s]=w[s];return l}}(C)||function(w){if(Symbol.iterator in Object(w)||"[object Arguments]"===Object.prototype.toString.call(w))return Array.from(w)}(C)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(C){return(y="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(w){return v(w)}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":v(w)})(C)}b.default.prototype.storeItem=function(C,w){"string"!=typeof C&&console.log("The argument that you passed to storeItem() - ".concat(C," is not a string.")),C.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(C," must not end with 'p5TypeID'.")),void 0===w&&console.log("You cannot store undefined variables using storeItem().");var s=y(w);switch(s){case"number":case"boolean":w=w.toString();break;case"object":w instanceof b.default.Color?s="p5.Color":w instanceof b.default.Vector&&(s="p5.Vector",w=[w.x,w.y,w.z]),w=JSON.stringify(w)}localStorage.setItem(C,w),C="".concat(C,"p5TypeID"),localStorage.setItem(C,s)},b.default.prototype.getItem=function(C){var w=localStorage.getItem(C),s=localStorage.getItem("".concat(C,"p5TypeID"));if(void 0===s)console.log("Unable to determine type of item stored under ".concat(C,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==w)switch(s){case"number":w=parseFloat(w);break;case"boolean":w="true"===w;break;case"object":w=JSON.parse(w);break;case"p5.Color":w=JSON.parse(w),w=this.color.apply(this,g(w.levels));break;case"p5.Vector":w=JSON.parse(w),w=this.createVector.apply(this,g(w))}return w},b.default.prototype.clearStorage=function(){var C=this;Object.keys(localStorage).forEach(function(w){w.endsWith("p5TypeID")&&C.removeItem(w.replace("p5TypeID",""))})},b.default.prototype.removeItem=function(C){"string"!=typeof C&&console.log("The argument that you passed to removeItem() - ".concat(C," is not a string.")),localStorage.removeItem(C),localStorage.removeItem("".concat(C,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(o,se,V){"use strict";function v(f){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function b(f){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(u){return v(u)}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":v(u)})(f)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.object.keys"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=(o=o("../core/main"))&&o.__esModule?o:{default:o};function y(f,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),u&&C(f,u)}function C(f,u){return(C=Object.setPrototypeOf||function(p,c){return p.__proto__=c,p})(f,u)}function w(f){return function(){var u,p=s(f);if(u=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(u=s(this).constructor,Reflect.construct(p,arguments,u)):p.apply(this,arguments),p=this,!u||"object"!==b(u)&&"function"!=typeof u){if(void 0!==p)return p;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return u}}function s(f){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(f)}function l(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function a(f,u){for(var p=0;p<u.length;p++){var c=u[p];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function d(f,u,p){u&&a(f.prototype,u),p&&a(f,p)}g.default.prototype.createStringDict=function(f,u){return g.default._validateParameters("createStringDict",arguments),new g.default.StringDict(f,u)},g.default.prototype.createNumberDict=function(f,u){return g.default._validateParameters("createNumberDict",arguments),new g.default.NumberDict(f,u)},g.default.TypedDict=function(){function f(u,p){return l(this,f),u instanceof Object?this.data=u:(this.data={},this.data[u]=p),this}return d(f,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(u){return this.data.hasOwnProperty(u)}},{key:"get",value:function(u){if(this.data.hasOwnProperty(u))return this.data[u];console.log("".concat(u," does not exist in this Dictionary"))}},{key:"set",value:function(u,p){this._validate(p)?this.data[u]=p:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(u){for(var p in u)this.set(p,u[p])}},{key:"create",value:function(u,p){u instanceof Object&&void 0===p?this._addObj(u):void 0!==u?this.set(u,p):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(u){if(!this.data.hasOwnProperty(u))throw new Error("".concat(u," does not exist in this Dictionary"));delete this.data[u]}},{key:"print",value:function(){for(var u in this.data)console.log("key:".concat(u," value:").concat(this.data[u]))}},{key:"saveTable",value:function(u){var p,c="";for(p in this.data)c+="".concat(p,",").concat(this.data[p],"\n");var m=new Blob([c],{type:"text/csv"});g.default.prototype.downloadFile(m,u||"mycsv","csv")}},{key:"saveJSON",value:function(u,p){g.default.prototype.saveJSON(this.data,u,p)}},{key:"_validate",value:function(u){return!0}}]),f}(),g.default.StringDict=function(){y(u,g.default.TypedDict);var f=w(u);function u(){l(this,u);for(var p=arguments.length,c=new Array(p),m=0;m<p;m++)c[m]=arguments[m];return f.call.apply(f,[this].concat(c))}return d(u,[{key:"_validate",value:function(p){return"string"==typeof p}}]),u}(),g.default.NumberDict=function(){y(u,g.default.TypedDict);var f=w(u);function u(){l(this,u);for(var p=arguments.length,c=new Array(p),m=0;m<p;m++)c[m]=arguments[m];return f.call.apply(f,[this].concat(c))}return d(u,[{key:"_validate",value:function(p){return"number"==typeof p}},{key:"add",value:function(p,c){this.data.hasOwnProperty(p)?this.data[p]+=c:console.log("The key - ".concat(p," does not exist in this dictionary."))}},{key:"sub",value:function(p,c){this.add(p,-c)}},{key:"mult",value:function(p,c){this.data.hasOwnProperty(p)?this.data[p]*=c:console.log("The key - ".concat(p," does not exist in this dictionary."))}},{key:"div",value:function(p,c){this.data.hasOwnProperty(p)?this.data[p]/=c:console.log("The key - ".concat(p," does not exist in this dictionary."))}},{key:"_valueTest",value:function(p){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var c,m=this.data[Object.keys(this.data)[0]];for(c in this.data)this.data[c]*p<m*p&&(m=this.data[c]);return m}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(p){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var c=Object.keys(this.data)[0],m=1;m<Object.keys(this.data).length;m++)Object.keys(this.data)[m]*p<c*p&&(c=Object.keys(this.data)[m]);return c}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),u}(),V.default=o=g.default.TypedDict},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(o,se,V){"use strict";function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(c)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var b=(o=o("../core/main"))&&o.__esModule?o:{default:o};function g(c,m){for(var _=0;_<m.length;_++){var M=m[_];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(c,M.key,M)}}function y(c,m,_){m&&g(c.prototype,m),_&&g(c,_)}function C(c,m){return(C=Object.setPrototypeOf||function(_,M){return _.__proto__=M,_})(c,m)}function s(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function l(c){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(c)}function a(c,m){if(!(c instanceof m))throw new TypeError("Cannot call a class as a function")}function d(c){return(d="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(m){return v(m)}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":v(m)})(c)}function f(c,m,_){return(m._userNode||document.body).appendChild(c),_=new(_?b.default.MediaElement:b.default.Element)(c,m),m._elements.push(_),_}function u(c,A,_,M){var x=document.createElement(A),I=("string"==typeof(_=_||"")&&(_=[_]),!0),H=void(A=!1);try{for(var P,z=_[Symbol.iterator]();!(I=(P=z.next()).done);I=!0){var k=P.value,te=document.createElement("source");te.setAttribute("src",k),x.appendChild(te)}}catch(G){A=!0,H=G}finally{try{I||null==z.return||z.return()}finally{if(A)throw H}}"function"==typeof M&&x.addEventListener("canplaythrough",function G(){M(),x.removeEventListener("canplaythrough",G)});var ne=f(x,c,!0);return ne.loadedmetadata=!1,x.addEventListener("loadedmetadata",function(){ne.width=x.videoWidth,ne.height=x.videoHeight,0===ne.elt.width&&(ne.elt.width=x.videoWidth),0===ne.elt.height&&(ne.elt.height=x.videoHeight),ne.presetPlaybackRate&&(ne.elt.playbackRate=ne.presetPlaybackRate,delete ne.presetPlaybackRate),ne.loadedmetadata=!0}),ne}function p(c,m,_,M){a(this,p),this.callback=c,this.time=m,this.id=_,this.val=M}b.default.prototype.select=function(c,m){return b.default._validateParameters("select",arguments),(m=this._getContainer(m).querySelector(c))?this._wrapElement(m):null},b.default.prototype.selectAll=function(c,m){b.default._validateParameters("selectAll",arguments);var _=[],M=this._getContainer(m).querySelectorAll(c);if(M)for(var x=0;x<M.length;x++){var I=this._wrapElement(M[x]);_.push(I)}return _},b.default.prototype._getContainer=function(c){var m=document;return"string"==typeof c?m=document.querySelector(c)||document:c instanceof b.default.Element?m=c.elt:c instanceof HTMLElement&&(m=c),m},b.default.prototype._wrapElement=function(c){var m,_=Array.prototype.slice.call(c.children);return"INPUT"===c.tagName&&"checkbox"===c.type?((m=new b.default.Element(c,this)).checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},m):"VIDEO"===c.tagName||"AUDIO"===c.tagName?new b.default.MediaElement(c,this):"SELECT"===c.tagName?this.createSelect(new b.default.Element(c,this)):0<_.length&&_.every(function(M){return"INPUT"===M.tagName||"LABEL"===M.tagName})&&("DIV"===c.tagName||"SPAN"===c.tagName)?this.createRadio(new b.default.Element(c,this)):new b.default.Element(c,this)},b.default.prototype.removeElements=function(c){b.default._validateParameters("removeElements",arguments),this._elements.filter(function(m){return!(m.elt instanceof HTMLCanvasElement)}).map(function(m){return m.remove()})},b.default.Element.prototype.changed=function(c){return b.default.Element._adjustListener("change",c,this),this},b.default.Element.prototype.input=function(c){return b.default.Element._adjustListener("input",c,this),this},b.default.prototype.createDiv=function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",m=document.createElement("div");return m.innerHTML=c,f(m,this)},b.default.prototype.createP=function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",m=document.createElement("p");return m.innerHTML=c,f(m,this)},b.default.prototype.createSpan=function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",m=document.createElement("span");return m.innerHTML=c,f(m,this)},b.default.prototype.createImg=function(){b.default._validateParameters("createImg",arguments);var c,m=document.createElement("img"),_=arguments;return 1<_.length&&"string"==typeof _[1]&&(m.alt=_[1]),2<_.length&&"string"==typeof _[2]&&(m.crossOrigin=_[2]),m.src=_[0],c=f(m,this),m.addEventListener("load",function(){c.width=m.offsetWidth||m.width,c.height=m.offsetHeight||m.height;var M=_[_.length-1];"function"==typeof M&&M(c)}),c},b.default.prototype.createA=function(c,m,_){b.default._validateParameters("createA",arguments);var M=document.createElement("a");return M.href=c,M.innerHTML=m,_&&(M.target=_),f(M,this)},b.default.prototype.createSlider=function(c,m,_,M){b.default._validateParameters("createSlider",arguments);var x=document.createElement("input");return x.type="range",x.min=c,x.max=m,0===M?x.step=1e-18:M&&(x.step=M),"number"==typeof _&&(x.value=_),f(x,this)},b.default.prototype.createButton=function(c,m){b.default._validateParameters("createButton",arguments);var _=document.createElement("button");return _.innerHTML=c,m&&(_.value=m),f(_,this)},b.default.prototype.createCheckbox=function(){for(var c=arguments.length,m=new Array(c),_=0;_<c;_++)m[_]=arguments[_];b.default._validateParameters("createCheckbox",m);var M=document.createElement("div"),x=document.createElement("input"),I=(x.type="checkbox",document.createElement("label")),A=(I.appendChild(x),M.appendChild(I),f(M,this));return A.checked=function(){var H=A.elt.firstElementChild.getElementsByTagName("input")[0];if(H){if(0===arguments.length)return H.checked;H.checked=!(arguments.length<=0||!arguments[0])}return A},this.value=function(H){return A.value=H,this},m[0]&&(A.value(m[0]),(M=document.createElement("span")).innerHTML=m[0],I.appendChild(M)),m[1]&&(x.checked=!0),A},b.default.prototype.createSelect=function(){for(var c,m=arguments.length,_=new Array(m),M=0;M<m;M++)_[M]=arguments[M];b.default._validateParameters("createSelect",_);var x,I=_[0];return I instanceof b.default.Element&&I.elt instanceof HTMLSelectElement?this.elt=(c=I).elt:I instanceof HTMLSelectElement?(c=f(I,this),this.elt=I):(x=document.createElement("select"),I&&"boolean"==typeof I&&x.setAttribute("multiple","true"),c=f(x,this),this.elt=x),c.option=function(A,H){var P;if(void 0!==A){for(var z,k=0;k<this.elt.length;k+=1)if(this.elt[k].textContent===A){P=k;break}void 0!==P?!1===H?this.elt.remove(P):this.elt[P].value=H:((z=document.createElement("option")).textContent=A,z.value=void 0===H?A:H,this.elt.appendChild(z),this._pInst._elements.push(z))}},c.selected=function(A){if(void 0!==A){for(var H=0;H<this.elt.length;H+=1)this.elt[H].value.toString()===A.toString()&&(this.elt.selectedIndex=H);return this}if(this.elt.getAttribute("multiple")){var P=[],z=!0,k=!1,te=void 0;try{for(var ne,G=this.elt.selectedOptions[Symbol.iterator]();!(z=(ne=G.next()).done);z=!0)P.push(ne.value.value)}catch(B){k=!0,te=B}finally{try{z||null==G.return||G.return()}finally{if(k)throw te}}return P}return this.elt.value},c.disable=function(A){if("string"==typeof A)for(var H=0;H<this.elt.length;H++)this.elt[H].value.toString()===A&&(this.elt[H].disabled=!0,this.elt[H].selected=!1);else this.elt.disabled=!0;return this},c.enable=function(A){if("string"==typeof A)for(var H=0;H<this.elt.length;H++)this.elt[H].value.toString()===A&&(this.elt[H].disabled=!1,this.elt[H].selected=!1);else{this.elt.disabled=!1;for(var P=0;P<this.elt.length;P++)this.elt[P].disabled=!1,this.elt[P].selected=!1}return this},c},b.default.prototype.createRadio=function(){function c(A){return A instanceof HTMLInputElement&&"radio"===A.type}function m(A){return A instanceof HTMLLabelElement}var _,M,x,I=arguments.length<=0?void 0:arguments[0];return I instanceof b.default.Element&&(I.elt instanceof HTMLDivElement||I.elt instanceof HTMLSpanElement)?(_=I,this.elt=I.elt):I instanceof HTMLDivElement||I instanceof HTMLSpanElement?(_=f(I,this),M=this.elt=I,"string"==typeof(arguments.length<=1?void 0:arguments[1])&&(x=arguments.length<=1?void 0:arguments[1])):("string"==typeof I&&(x=I),M=document.createElement("div"),_=f(M,this),this.elt=M),_._name=x||"radioOption",_._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(A){return c(A)||m(A)&&c(A.firstElementChild)}).map(function(A){return c(A)?A:A.firstElementChild})},_.option=function(A,H){var P,z,k,te=!0,ne=!1,G=void 0;try{for(var X,B=_._getOptionsArray()[Symbol.iterator]();!(te=(X=B.next()).done);te=!0){var N=X.value;if(N.value===A){P=N;break}}}catch(K){ne=!0,G=K}finally{try{te||null==B.return||B.return()}finally{if(ne)throw G}}return void 0===P&&((P=document.createElement("input")).setAttribute("type","radio"),P.setAttribute("value",A)),P.setAttribute("name",_._name),m(P.parentElement)?z=P.parentElement:(z=document.createElement("label")).insertAdjacentElement("afterbegin",P),z.lastElementChild instanceof HTMLSpanElement?k=z.lastElementChild:(k=document.createElement("span"),P.insertAdjacentElement("afterend",k)),k.innerHTML=void 0===H?A:H,this.elt.appendChild(z),P},_.remove=function(A){var H=!0,P=!1,z=void 0;try{for(var k,te=_._getOptionsArray()[Symbol.iterator]();!(H=(k=te.next()).done);H=!0){var ne=k.value;if(ne.value===A)return void(m(ne.parentElement)?ne.parentElement:ne).remove()}}catch(G){P=!0,z=G}finally{try{H||null==te.return||te.return()}finally{if(P)throw z}}},_.value=function(){var A="",H=!0,P=!1,z=void 0;try{for(var k,te=_._getOptionsArray()[Symbol.iterator]();!(H=(k=te.next()).done);H=!0){var ne=k.value;if(ne.checked){A=ne.value;break}}}catch(G){P=!0,z=G}finally{try{H||null==te.return||te.return()}finally{if(P)throw z}}return A},_.selected=function(A){var H=null;if(void 0===A){var P=!0,z=!1,k=void 0;try{for(var te,ne=_._getOptionsArray()[Symbol.iterator]();!(P=(te=ne.next()).done);P=!0){var G=te.value;if(G.checked){H=G;break}}}catch(ie){z=!0,k=ie}finally{try{P||null==ne.return||ne.return()}finally{if(z)throw k}}}else{_._getOptionsArray().forEach(function(Y){Y.checked=!1,Y.removeAttribute("checked")});var X=!0;z=!1,k=void 0;try{for(var B,N=_._getOptionsArray()[Symbol.iterator]();!(X=(B=N.next()).done);X=!0){var K=B.value;K.value===A&&(K.setAttribute("checked",!0),K.checked=!0,H=K)}}catch(Y){z=!0,k=Y}finally{try{X||null==N.return||N.return()}finally{if(z)throw k}}}return H},_.disable=function(){var A=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],H=!0,P=!1,z=void 0;try{for(var k,te=_._getOptionsArray()[Symbol.iterator]();!(H=(k=te.next()).done);H=!0)k.value.setAttribute("disabled",A)}catch(ne){P=!0,z=ne}finally{try{H||null==te.return||te.return()}finally{if(P)throw z}}},_},b.default.prototype.createColorPicker=function(c){b.default._validateParameters("createColorPicker",arguments);var m=document.createElement("input");return m.type="color",c?c instanceof b.default.Color?m.value=c.toString("#rrggbb"):(b.default.prototype._colorMode="rgb",b.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},m.value=b.default.prototype.color(c).toString("#rrggbb")):m.value="#000000",(m=f(m,this)).color=function(){return c&&(c.mode&&(b.default.prototype._colorMode=c.mode),c.maxes&&(b.default.prototype._colorMaxes=c.maxes)),b.default.prototype.color(this.elt.value)},m},b.default.prototype.createInput=function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",_=(b.default._validateParameters("createInput",arguments),document.createElement("input"));return _.setAttribute("value",c),_.setAttribute("type",m),f(_,this)},b.default.prototype.createFileInput=function(c){var m,_=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(b.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(m=document.createElement("input")).setAttribute("type","file"),_&&m.setAttribute("multiple",!0),m.addEventListener("change",function(M){var x=!0,I=!1,A=void 0;try{for(var H,P=M.target.files[Symbol.iterator]();!(x=(H=P.next()).done);x=!0)b.default.File._load(H.value,c)}catch(k){I=!0,A=k}finally{try{x||null==P.return||P.return()}finally{if(I)throw A}}},!1),f(m,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},b.default.prototype.createVideo=function(c,m){return b.default._validateParameters("createVideo",arguments),u(this,"video",c,m)},b.default.prototype.createAudio=function(c,m){return b.default._validateParameters("createAudio",arguments),u(this,"audio",c,m)},b.default.prototype.VIDEO="video",b.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(c){var m=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return m?new Promise(function(_,M){m.call(navigator,c,_,M)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),b.default.prototype.createCapture=function(){for(var c=arguments.length,m=new Array(c),_=0;_<c;_++)m[_]=arguments[_];if(b.default._validateParameters("createCapture",m),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var M,x=!0,I=!0,A=!1,H=0,P=m;H<P.length;H++){var z=P[H];z===b.default.prototype.VIDEO?I=!1:z===b.default.prototype.AUDIO?x=!1:"object"===d(z)?(void 0!==z.flipped&&(A=z.flipped,delete z.flipped),k=Object.assign({},k,z)):"function"==typeof z&&(M=z)}var k=Object.assign({},{video:x,audio:I},k),te=document.createElement("video"),ne=(te.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(k).then(function(G){try{"srcObject"in te?te.srcObject=G:te.src=window.URL.createObjectURL(G)}catch{te.src=G}}).catch(function(G){"NotFoundError"===G.name&&b.default._friendlyError("No webcam found on this device","createCapture"),"NotAllowedError"===G.name&&b.default._friendlyError("Access to the camera was denied","createCapture"),console.error(G)}),f(te,this,!0));return ne.loadedmetadata=!1,te.addEventListener("loadedmetadata",function(){te.play(),te.width?(ne.width=te.width,ne.height=te.height,A&&(ne.elt.style.transform="scaleX(-1)")):(ne.width=ne.elt.width=te.videoWidth,ne.height=ne.elt.height=te.videoHeight),ne.loadedmetadata=!0,M&&M(te.srcObject)}),ne.flipped=A,ne},b.default.prototype.createElement=function(c,m){return b.default._validateParameters("createElement",arguments),c=document.createElement(c),void 0!==m&&(c.innerHTML=m),f(c,this)},b.default.Element.prototype.addClass=function(c){return this.elt.className?this.hasClass(c)||(this.elt.className=this.elt.className+" "+c):this.elt.className=c,this},b.default.Element.prototype.removeClass=function(c){return this.elt.classList.remove(c),this},b.default.Element.prototype.hasClass=function(c){return this.elt.classList.contains(c)},b.default.Element.prototype.toggleClass=function(c){return this.elt.classList.contains(c)?this.elt.classList.remove(c):this.elt.classList.add(c),this},b.default.Element.prototype.child=function(c){return void 0===c?this.elt.childNodes:("string"==typeof c?("#"===c[0]&&(c=c.substring(1)),c=document.getElementById(c)):c instanceof b.default.Element&&(c=c.elt),c instanceof HTMLElement&&this.elt.appendChild(c),this)},b.default.Element.prototype.center=function(c){var m=this.elt.style.display,_="none"===this.elt.style.display,M="none"===this.parent().style.display,x={x:this.elt.offsetLeft,y:this.elt.offsetTop},I=(_&&this.show(),M&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),A=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===c||void 0===c?this.position(I/2+this.parent().offsetLeft,A/2+this.parent().offsetTop):"horizontal"===c?this.position(I/2+this.parent().offsetLeft,x.y):"vertical"===c&&this.position(x.x,A/2+this.parent().offsetTop),this.style("display",m),_&&this.hide(),M&&this.parent().hide(),this},b.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},b.default.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="static"!==(arguments.length<=2?void 0:arguments[2])&&"fixed"!==(arguments.length<=2?void 0:arguments[2])&&"relative"!==(arguments.length<=2?void 0:arguments[2])&&"sticky"!==(arguments.length<=2?void 0:arguments[2])&&"initial"!==(arguments.length<=2?void 0:arguments[2])&&"inherit"!==(arguments.length<=2?void 0:arguments[2])?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},b.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var c="";return this.elt.style.transform&&(c=(c=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=c,this},b.default.Element.prototype._rotate=function(){var c="";return this.elt.style.transform&&(c=(c=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":2===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=c,this},b.default.Element.prototype.style=function(c,m){if(void 0===(m=m instanceof b.default.Color?"rgba("+m.levels[0]+","+m.levels[1]+","+m.levels[2]+","+m.levels[3]/255+")":m)){if(-1===c.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(c);for(var _=c.split(";"),M=0;M<_.length;M++){var x=_[M].split(":");x[0]&&x[1]&&(this.elt.style[x[0].trim()]=x[1].trim())}}else this.elt.style[c]=m,"width"!==c&&"height"!==c&&"left"!==c&&"top"!==c||(m=window.getComputedStyle(this.elt).getPropertyValue(c).replace(/[^\d.]/g,""),this[c]=Math.round(parseFloat(m,10)));return this},b.default.Element.prototype.attribute=function(c,m){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===m?this.elt.getAttribute(c):(this.elt.setAttribute(c,m),this);if(void 0===m)return this.elt.firstChild.getAttribute(c);for(var _=0;_<this.elt.childNodes.length;_++)this.elt.childNodes[_].setAttribute(c,m)},b.default.Element.prototype.removeAttribute=function(c){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var m=0;m<this.elt.childNodes.length;m++)this.elt.childNodes[m].removeAttribute(c);return this.elt.removeAttribute(c),this},b.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},b.default.Element.prototype.show=function(){return this.elt.style.display="block",this},b.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},b.default.Element.prototype.size=function(c,m){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var _=c,M=m,x=b.default.prototype.AUTO;if(_!==x||M!==x){if(_===x?_=m*this.width/this.height:M===x&&(M=c*this.height/this.width),this.elt instanceof HTMLCanvasElement){var I,A={},H=this.elt.getContext("2d");for(I in H)A[I]=H[I];for(I in this.elt.setAttribute("width",_*this._pInst._pixelDensity),this.elt.setAttribute("height",M*this._pInst._pixelDensity),this.elt.style.width=_+"px",this.elt.style.height=M+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),A)this.elt.getContext("2d")[I]=A[I]}else this.elt.style.width=_+"px",this.elt.style.height=M+"px",this.elt.width=_,this.elt.height=M;this.width=_,this.height=M,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",_),this._pInst._setProperty("height",M))}return this},b.default.Element.prototype.remove=function(){this instanceof b.default.MediaElement&&(this.stop(),null!==(m=this.elt.srcObject)&&m.getTracks().forEach(function(_){_.stop()}));var c,m=this._pInst._elements.indexOf(this);for(c in-1!==m&&this._pInst._elements.splice(m,1),this._events)this.elt.removeEventListener(c,this._events[c]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},b.default.Element.prototype.drop=function(c,m){var _;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",_=function(M){M.preventDefault()}),this.elt.addEventListener("dragleave",_)),b.default.Element._attachListener("drop",function(x){x.preventDefault(),"function"==typeof m&&m.call(this,x),x=x.dataTransfer.files;var I=!0,A=!1,H=void 0;try{for(var P,z=x[Symbol.iterator]();!(I=(P=z.next()).done);I=!0)b.default.File._load(P.value,c)}catch(te){A=!0,H=te}finally{try{I||null==z.return||z.return()}finally{if(A)throw H}}},this)):console.log("The File APIs are not fully supported in this browser."),this},b.default.Element.prototype.draggable=function(c){var m,_="ontouchstart"in window,M=0,x=0,I=0,A=0,H=_?"touchend":"mouseup",P=_?"touchmove":"mousemove";function z(te){var ne;te=te||window.event,A=_?(ne=te.changedTouches,M=I-parseInt(ne[0].clientX),x=A-parseInt(ne[0].clientY),I=parseInt(ne[0].clientX),parseInt(ne[0].clientY)):(M=I-parseInt(te.clientX),x=A-parseInt(te.clientY),I=parseInt(te.clientX),parseInt(te.clientY)),c.style.left=c.offsetLeft-M+"px",c.style.top=c.offsetTop-x+"px"}function k(){document.removeEventListener(H,k,!1),document.removeEventListener(P,z,!1)}return void 0===c?m=c=this.elt:c!==this.elt&&c.elt!==this.elt&&(c=c.elt,m=this.elt),m.addEventListener(_?"touchstart":"mousedown",function(te){var ne;return te=te||window.event,A=_?(ne=te.changedTouches,I=parseInt(ne[0].clientX),parseInt(ne[0].clientY)):(I=parseInt(te.clientX),parseInt(te.clientY)),document.addEventListener(H,k,!1),document.addEventListener(P,z,!1),!1},!1),m.style.cursor="move",this},o=function(c){var m=M;if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),c&&C(m,c);var _=function w(c){return function(){var m,_,M=l(c);return m=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(m=l(this).constructor,Reflect.construct(M,arguments,m)):M.apply(this,arguments),M=this,!(_=m)||"object"!==d(_)&&"function"!=typeof _?s(M):_}}(M);function M(x,I){a(this,M);var A=s(I=_.call(this,x,I));return I.elt.crossOrigin="anonymous",I._prevTime=0,I._cueIDCounter=0,I._cues=[],I.pixels=[],I._pixelsState=s(I),I._pixelDensity=1,I._modified=!1,I._frameOnCanvas=-1,Object.defineProperty(A,"src",{get:function(){var H=A.elt.children[0].src,P=A.elt.src===window.location.href?"":A.elt.src;return H===window.location.href?P:H},set:function(H){for(var P=0;P<A.elt.children.length;P++)A.elt.removeChild(A.elt.children[P]);var z=document.createElement("source");z.src=H,x.appendChild(z),A.elt.src=H,A.modified=!0}}),A._onended=function(){},A.elt.onended=function(){A._onended(A)},I}return y(M,[{key:"play",value:function(){var x;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(x=this.elt.play())&&x.catch&&x.catch(function(I){"NotAllowedError"===I.name?console.error(I):console.error("Media play method encountered an unexpected error",I)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var x=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(x)},{passive:!0,once:!0})}},{key:"autoplay",value:function(x){var I=this,A=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",x),x&&!A&&(x=function(){return I._setupAutoplayFailDetection()},4===this.elt.readyState?x():this.elt.addEventListener("canplay",x,{passive:!0,once:!0})),this}},{key:"volume",value:function(x){if(void 0===x)return this.elt.volume;this.elt.volume=x}},{key:"speed",value:function(x){if(void 0===x)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=x:this.presetPlaybackRate=x}},{key:"time",value:function(x){return void 0===x?this.elt.currentTime:(this.elt.currentTime=x,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&this._frameOnCanvas!==this._pInst.frameCount&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var x=arguments.length,I=new Array(x),A=0;A<x;A++)I[A]=arguments[A];return b.default.Renderer2D.prototype.loadPixels.apply(this,I)}},{key:"updatePixels",value:function(x,I,A,H){return this.loadedmetadata&&(this._ensureCanvas(),b.default.Renderer2D.prototype.updatePixels.call(this,x,I,A,H)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var x=arguments.length,I=new Array(x),A=0;A<x;A++)I[A]=arguments[A];return b.default.Renderer2D.prototype.get.apply(this,I)}},{key:"_getPixel",value:function(){this.loadPixels();for(var x=arguments.length,I=new Array(x),A=0;A<x;A++)I[A]=arguments[A];return b.default.Renderer2D.prototype._getPixel.apply(this,I)}},{key:"set",value:function(x,I,A){this.loadedmetadata&&(this._ensureCanvas(),b.default.Renderer2D.prototype.set.call(this,x,I,A),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var x=arguments.length,I=new Array(x),A=0;A<x;A++)I[A]=arguments[A];b.default.prototype.copy.apply(this,I)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var x=arguments.length,I=new Array(x),A=0;A<x;A++)I[A]=arguments[A];b.default.Image.prototype.mask.apply(this,I)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(x){this._modified=x}},{key:"onended",value:function(x){return this._onended=x,this}},{key:"connect",value:function(x){var I,A;if("function"==typeof b.default.prototype.getAudioContext)I=b.default.prototype.getAudioContext(),A=b.default.soundOut.input;else try{A=(I=x.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=I.createMediaElementSource(this.elt),this.audioSourceNode.connect(A)),this.audioSourceNode.connect(x?x.input?x.input:x:A)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(x,P,A){var H=this._cueIDCounter++;return P=new p(P,x,H,A),this._cues.push(P),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),H}},{key:"removeCue",value:function(x){for(var I=0;I<this._cues.length;I++)this._cues[I].id===x&&(console.log(x),this._cues.splice(I,1));0===this._cues.length&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var x=this.time(),I=0;I<this._cues.length;I++){var A=this._cues[I].time;this._prevTime<A&&A<=x&&this._cues[I].callback(this._cues[I].val)}this._prevTime=x}}]),M}(b.default.Element),b.default.MediaElement=o,o=function(){function c(m,_){a(this,c),this.file=m,this._pInst=_,_=m.type.split("/"),this.type=_[0],this.subtype=_[1],this.name=m.name,this.size=m.size,this.data=void 0}return y(c,null,[{key:"_createLoader",value:function(m,_){var M=new FileReader;return M.onload=function(x){var I,A=new b.default.File(m);"application/json"===A.file.type?A.data=JSON.parse(x.target.result):"text/xml"===A.file.type?(I=(new DOMParser).parseFromString(x.target.result,"text/xml"),A.data=new b.default.XML(I.documentElement)):A.data=x.target.result,_(A)},M}},{key:"_load",value:function(m,_){var M;/^text\//.test(m.type)||"application/json"===m.type?b.default.File._createLoader(m,_).readAsText(m):/^(video|audio)\//.test(m.type)?((M=new b.default.File(m)).data=URL.createObjectURL(m),_(M)):b.default.File._createLoader(m,_).readAsDataURL(m)}}]),c}(),b.default.File=o,V.default=o=b.default},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(d,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(d=d("../core/main"))&&d.__esModule?d:{default:d};v.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",v.default.prototype.accelerationX=0,v.default.prototype.accelerationY=0,v.default.prototype.accelerationZ=0,v.default.prototype.pAccelerationX=0,v.default.prototype.pAccelerationY=0,v.default.prototype.pAccelerationZ=0,v.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},v.default.prototype.rotationX=0,v.default.prototype.rotationY=0,v.default.prototype.rotationZ=0,v.default.prototype.pRotationX=0,v.default.prototype.pRotationY=0;var b=v.default.prototype.pRotationZ=0,g=0,y=0,C="clockwise",w="clockwise",s="clockwise",l=(v.default.prototype.pRotateDirectionX=void 0,v.default.prototype.pRotateDirectionY=void 0,v.default.prototype.pRotateDirectionZ=void 0,v.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},v.default.prototype.turnAxis=void 0,.5),a=30;v.default.prototype.setMoveThreshold=function(f){v.default._validateParameters("setMoveThreshold",arguments),l=f},v.default.prototype.setShakeThreshold=function(f){v.default._validateParameters("setShakeThreshold",arguments),a=f},v.default.prototype._ondeviceorientation=function(f){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(f.beta)),this._setProperty("rotationY",this._fromDegrees(f.gamma)),this._setProperty("rotationZ",this._fromDegrees(f.alpha)),this._handleMotion()},v.default.prototype._ondevicemotion=function(f){this._updatePAccelerations(),this._setProperty("accelerationX",2*f.acceleration.x),this._setProperty("accelerationY",2*f.acceleration.y),this._setProperty("accelerationZ",2*f.acceleration.z),this._handleMotion()},v.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var f,u,p,c,m,_=this._isGlobal?window:this;"function"==typeof _.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>l||Math.abs(this.accelerationY-this.pAccelerationY)>l||Math.abs(this.accelerationZ-this.pAccelerationZ)>l)&&_.deviceMoved(),"function"==typeof _.deviceTurned&&(u=this._toDegrees(this.rotationX)+180,p=this._toDegrees(this.pRotationX)+180,f=b+180,0<u-p&&u-p<270||u-p<-270?C="clockwise":(u-p<0||270<u-p)&&(C="counter-clockwise"),C!==this.pRotateDirectionX&&(f=u),90<Math.abs(u-f)&&Math.abs(u-f)<270&&(f=u,this._setProperty("turnAxis","X"),_.deviceTurned()),this.pRotateDirectionX=C,b=f-180,p=this._toDegrees(this.rotationY)+180,u=this._toDegrees(this.pRotationY)+180,f=g+180,0<p-u&&p-u<270||p-u<-270?w="clockwise":(p-u<0||270<p-this.pRotationY)&&(w="counter-clockwise"),w!==this.pRotateDirectionY&&(f=p),90<Math.abs(p-f)&&Math.abs(p-f)<270&&(f=p,this._setProperty("turnAxis","Y"),_.deviceTurned()),this.pRotateDirectionY=w,g=f-180,0<(u=this._toDegrees(this.rotationZ))-(p=this._toDegrees(this.pRotationZ))&&u-p<270||u-p<-270?s="clockwise":(u-p<0||270<u-p)&&(s="counter-clockwise"),s!==this.pRotateDirectionZ&&(y=u),90<Math.abs(u-y)&&Math.abs(u-y)<270&&(y=u,this._setProperty("turnAxis","Z"),_.deviceTurned()),this.pRotateDirectionZ=s,this._setProperty("turnAxis",void 0)),"function"==typeof _.deviceShaken&&(null!==this.pAccelerationX&&(c=Math.abs(this.accelerationX-this.pAccelerationX),m=Math.abs(this.accelerationY-this.pAccelerationY)),a<c+m&&_.deviceShaken())},V.default=d=v.default},{"../core/main":283}],301:[function(o,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.isKeyPressed=!1,v.default.prototype.keyIsPressed=!1,v.default.prototype.key="",v.default.prototype.keyCode=0,v.default.prototype._onkeydown=function(b){var g;this._downKeys[b.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",b.which),this._downKeys[b.which]=!0,this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),"function"!=typeof(g=this._isGlobal?window:this).keyPressed||b.charCode||!1===g.keyPressed(b)&&b.preventDefault())},v.default.prototype._onkeyup=function(b){this._downKeys[b.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),this._setProperty("keyCode",b.which);var g=this._isGlobal?window:this;"function"==typeof g.keyReleased&&!1===g.keyReleased(b)&&b.preventDefault()},v.default.prototype._onkeypress=function(b){var g;b.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",b.which),this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),"function"==typeof(g=this._isGlobal?window:this).keyTyped&&!1===g.keyTyped(b)&&b.preventDefault())},v.default.prototype._onblur=function(b){this._downKeys={}},v.default.prototype.keyIsDown=function(b){return v.default._validateParameters("keyIsDown",arguments),this._downKeys[b]||!1},v.default.prototype._areDownKeys=function(){for(var b in this._downKeys)if(this._downKeys.hasOwnProperty(b)&&!0===this._downKeys[b])return!0;return!1},V.default=o=v.default},{"../core/main":283}],302:[function(o,se,V){"use strict";function v(w){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(w)}function b(w){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(s){return v(s)}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":v(s)})(w)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=(g=o("../core/main"))&&g.__esModule?g:{default:g},y=function(w){if(w&&w.__esModule)return w;if(null===w||"object"!==b(w)&&"function"!=typeof w)return{default:w};var s=C();if(s&&s.has(w))return s.get(w);var l,a={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in w){var f;Object.prototype.hasOwnProperty.call(w,l)&&((f=d?Object.getOwnPropertyDescriptor(w,l):null)&&(f.get||f.set)?Object.defineProperty(a,l,f):a[l]=w[l])}return a.default=w,s&&s.set(w,a),a}(o("../core/constants"));function C(){var w;return"function"!=typeof WeakMap?null:(C=function(){return w},w=new WeakMap)}g.default.prototype.movedX=0,g.default.prototype.movedY=0,g.default.prototype._hasMouseInteracted=!1,g.default.prototype.mouseX=0,g.default.prototype.mouseY=0,g.default.prototype.pmouseX=0,g.default.prototype.pmouseY=0,g.default.prototype.winMouseX=0,g.default.prototype.winMouseY=0,g.default.prototype.pwinMouseX=0,g.default.prototype.pwinMouseY=0,g.default.prototype.mouseButton=0,g.default.prototype.mouseIsPressed=!1,g.default.prototype._updateNextMouseCoords=function(w){var s,l,a,d,f;null!==this._curElement&&(!w.touches||0<w.touches.length)&&(l=this.width,a=this.height,(d=w)&&!d.clientX&&(d.touches?d=d.touches[0]:d.changedTouches&&(d=d.changedTouches[0])),f=(s=this._curElement.elt).getBoundingClientRect(),a={x:(d.clientX-f.left)/(l=s.scrollWidth/l||1),y:(d.clientY-f.top)/(s=s.scrollHeight/a||1),winX:d.clientX,winY:d.clientY,id:d.identifier},this._setProperty("movedX",w.movementX),this._setProperty("movedY",w.movementY),this._setProperty("mouseX",a.x),this._setProperty("mouseY",a.y),this._setProperty("winMouseX",a.winX),this._setProperty("winMouseY",a.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},g.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},g.default.prototype._setMouseButton=function(w){this._setProperty("mouseButton",1===w.button?y.CENTER:2===w.button?y.RIGHT:y.LEFT)},g.default.prototype._onmousemove=function(w){var s=this._isGlobal?window:this;this._updateNextMouseCoords(w),this.mouseIsPressed?"function"==typeof s.mouseDragged?!1===s.mouseDragged(w)&&w.preventDefault():"function"==typeof s.touchMoved&&!1===s.touchMoved(w)&&w.preventDefault():"function"==typeof s.mouseMoved&&!1===s.mouseMoved(w)&&w.preventDefault()},g.default.prototype._onmousedown=function(w){var s=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(w),this._updateNextMouseCoords(w),this.touchstart||("function"==typeof s.mousePressed?!1===s.mousePressed(w)&&w.preventDefault():"function"==typeof s.touchStarted&&!1===s.touchStarted(w)&&w.preventDefault(),this.touchstart=!1)},g.default.prototype._onmouseup=function(w){var s=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||("function"==typeof s.mouseReleased?!1===s.mouseReleased(w)&&w.preventDefault():"function"==typeof s.touchEnded&&!1===s.touchEnded(w)&&w.preventDefault(),this.touchend=!1)},g.default.prototype._ondragend=g.default.prototype._onmouseup,g.default.prototype._ondragover=g.default.prototype._onmousemove,g.default.prototype._onclick=function(w){var s=this._isGlobal?window:this;"function"==typeof s.mouseClicked&&!1===s.mouseClicked(w)&&w.preventDefault()},g.default.prototype._ondblclick=function(w){var s=this._isGlobal?window:this;"function"==typeof s.doubleClicked&&!1===s.doubleClicked(w)&&w.preventDefault()},g.default.prototype._mouseWheelDeltaY=0,g.default.prototype._pmouseWheelDeltaY=0,g.default.prototype._onwheel=function(w){var s=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",w.deltaY),"function"==typeof s.mouseWheel&&(w.delta=w.deltaY,!1===s.mouseWheel(w)&&w.preventDefault())},g.default.prototype.requestPointerLock=function(){var w=this._curElement.elt;return w.requestPointerLock=w.requestPointerLock||w.mozRequestPointerLock,w.requestPointerLock?(w.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},g.default.prototype.exitPointerLock=function(){document.exitPointerLock()},V.default=o=g.default},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(o,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.touches=[],o.default.prototype._updateTouchCoords=function(v){if(null!==this._curElement){for(var b=[],g=0;g<v.touches.length;g++)b[g]=function(f,d,u,s){var l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=f.getBoundingClientRect();return d=f.scrollWidth/d||1,f=f.scrollHeight/u||1,{x:((u=s.touches[l]||s.changedTouches[l]).clientX-a.left)/d,y:(u.clientY-a.top)/f,winX:u.clientX,winY:u.clientY,id:u.identifier}}(this._curElement.elt,this.width,this.height,v,g);this._setProperty("touches",b)}},o.default.prototype._ontouchstart=function(v){var b=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(v),this._updateNextMouseCoords(v),this._updateMouseCoords(),"function"==typeof b.touchStarted&&(!1===b.touchStarted(v)&&v.preventDefault(),this.touchstart=!0)},o.default.prototype._ontouchmove=function(v){var b=this._isGlobal?window:this;this._updateTouchCoords(v),this._updateNextMouseCoords(v),"function"==typeof b.touchMoved?!1===b.touchMoved(v)&&v.preventDefault():"function"==typeof b.mouseDragged&&!1===b.mouseDragged(v)&&v.preventDefault()},o.default.prototype._ontouchend=function(v){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(v),this._updateNextMouseCoords(v);var b=this._isGlobal?window:this;"function"==typeof b.touchEnded&&(!1===b.touchEnded(v)&&v.preventDefault(),this.touchend=!0)},V.default=o=o.default},{"../core/main":283}],304:[function(o,se,V){"use strict";o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.int32-array"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v,b,g,y,C={_toPixels:function(w){var s,l;return w instanceof ImageData?w.data:w.getContext("2d")?w.getContext("2d").getImageData(0,0,w.width,w.height).data:w.getContext("webgl")?(l=(s=w.getContext("webgl")).drawingBufferWidth*s.drawingBufferHeight*4,l=new Uint8Array(l),s.readPixels(0,0,w.width,w.height,s.RGBA,s.UNSIGNED_BYTE,l),l):void 0},_getARGB:function(w,s){return w[3+(s*=4)]<<24&4278190080|w[s]<<16&16711680|w[1+s]<<8&65280|255&w[2+s]},_setPixels:function(w,s){for(var l,a=0,d=w.length;a<d;a++)w[0+(l=4*a)]=(16711680&s[a])>>>16,w[1+l]=(65280&s[a])>>>8,w[2+l]=255&s[a],w[3+l]=(4278190080&s[a])>>>24},_toImageData:function(w){return w instanceof ImageData?w:w.getContext("2d").getImageData(0,0,w.width,w.height)},_createImageData:function(w,s){return C._tmpCanvas=document.createElement("canvas"),C._tmpCtx=C._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(w,s)},apply:function(w,f,l){var a=w.getContext("2d"),d=a.getImageData(0,0,w.width,w.height);(f=f(d,l))instanceof ImageData?a.putImageData(f,0,0,0,0,w.width,w.height):a.putImageData(d,0,0,0,0,w.width,w.height)},threshold:function(w){for(var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.5,l=C._toPixels(w),a=Math.floor(255*s),d=0;d<l.length;d+=4)l[d]=l[d+1]=l[d+2]=a<=.2126*l[d]+.7152*l[d+1]+.0722*l[d+2]?255:0},gray:function(w){for(var s=C._toPixels(w),l=0;l<s.length;l+=4)s[l]=s[l+1]=s[l+2]=.2126*s[l]+.7152*s[l+1]+.0722*s[l+2]},opaque:function(w){for(var s=C._toPixels(w),l=0;l<s.length;l+=4)s[l+3]=255;return s},invert:function(w){for(var s=C._toPixels(w),l=0;l<s.length;l+=4)s[l]=255-s[l],s[l+1]=255-s[l+1],s[l+2]=255-s[l+2]},posterize:function(w){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,l=C._toPixels(w);if(s<2||255<s)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var a=s-1,d=0;d<l.length;d+=4){var u=l[d+1],p=l[d+2];l[d]=255*(l[d]*s>>8)/a,l[d+1]=255*(u*s>>8)/a,l[d+2]=255*(p*s>>8)/a}},dilate:function(w){for(var s,l,a,d,f,u,p,c,m,_=C._toPixels(w),M=0,x=_.length?_.length/4:0,I=new Int32Array(x);M<x;)for(l=(s=M)+w.width;M<l;)d=a=C._getARGB(_,M),(m=M-1)<s&&(m=M),l<=(c=M+1)&&(c=M),(f=M-w.width)<0&&(f=0),x<=(u=M+w.width)&&(u=M),f=C._getARGB(_,f),m=C._getARGB(_,m),u=C._getARGB(_,u),(d=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<(p=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))&&(a=m,d=p),d<(p=77*((m=C._getARGB(_,c))>>16&255)+151*(m>>8&255)+28*(255&m))&&(a=m,d=p),d<(c=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))&&(a=f,d=c),d<(m=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))&&(a=u,d=m),I[M++]=a;C._setPixels(_,I)},erode:function(w){for(var s,l,a,d,f,u,p,c,m,_=C._toPixels(w),M=0,x=_.length?_.length/4:0,I=new Int32Array(x);M<x;)for(l=(s=M)+w.width;M<l;)d=a=C._getARGB(_,M),(m=M-1)<s&&(m=M),l<=(c=M+1)&&(c=M),(f=M-w.width)<0&&(f=0),x<=(u=M+w.width)&&(u=M),f=C._getARGB(_,f),m=C._getARGB(_,m),u=C._getARGB(_,u),(p=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))<(d=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(a=m,d=p),(p=77*((m=C._getARGB(_,c))>>16&255)+151*(m>>8&255)+28*(255&m))<d&&(a=m,d=p),(c=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))<d&&(a=f,d=c),(m=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))<d&&(a=u,d=m),I[M++]=a;C._setPixels(_,I)},blur:function(w,s){for(var l,a,d,f,u,p,c,m,_,M,x=C._toPixels(w),I=w.width,A=w.height,H=I*A,P=new Int32Array(H),z=0;z<H;z++)P[z]=C._getARGB(x,z);var k,te,ne,G,X,B,N,K,ie=new Int32Array(H),Ae=new Int32Array(H),Y=new Int32Array(H),R=new Int32Array(H),Q=0,pe=3.5*s|0;if(v!==(pe=pe<1?1:pe<248?pe:248)){b=1+(v=pe)<<1,g=new Int32Array(b),y=new Array(b);for(var Se=0;Se<b;Se++)y[Se]=new Int32Array(256);for(var Ve=1,qe=pe-1;Ve<pe;Ve++){g[pe+Ve]=g[qe]=B=qe*qe,N=y[pe+Ve],K=y[qe--];for(var pt=0;pt<256;pt++)N[pt]=K[pt]=B*pt}X=g[pe]=pe*pe,N=y[pe];for(var We=0;We<256;We++)N[We]=X*We}for(te=0;te<A;te++){for(k=0;k<I;k++){if(f=d=a=u=l=0,(p=k-v)<0)M=-p,p=0;else{if(I<=p)break;M=0}for(ne=M;ne<b&&!(I<=p);ne++){var ct=P[p+Q];u+=(G=y[ne])[(-16777216&ct)>>>24],a+=G[(16711680&ct)>>16],d+=G[(65280&ct)>>8],f+=G[255&ct],l+=g[ne],p++}ie[c=Q+k]=u/l,Ae[c]=a/l,Y[c]=d/l,R[c]=f/l}Q+=I}for(_=(m=-v)*I,te=Q=0;te<A;te++){for(k=0;k<I;k++){if(f=d=a=u=l=0,m<0)M=c=-m,p=k;else{if(A<=m)break;M=0,c=m,p=k+_}for(ne=M;ne<b&&!(A<=c);ne++)u+=(G=y[ne])[ie[p]],a+=G[Ae[p]],d+=G[Y[p]],f+=G[R[p]],l+=g[ne],c++,p+=I;P[k+Q]=u/l<<24|a/l<<16|d/l<<8|f/l}Q+=I,_+=I,m++}C._setPixels(x,P)}};V.default=C},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(o,se,V){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=g(o("../core/main")),b=g(o("omggif"));function g(C){return C&&C.__esModule?C:{default:C}}function y(C){return function(w){if(Array.isArray(w)){for(var s=0,l=new Array(w.length);s<w.length;s++)l[s]=w[s];return l}}(C)||function(w){if(Symbol.iterator in Object(w)||"[object Arguments]"===Object.prototype.toString.call(w))return Array.from(w)}(C)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}v.default.prototype.createImage=function(C,w){return v.default._validateParameters("createImage",arguments),new v.default.Image(C,w)},v.default.prototype.saveCanvas=function(){for(var C,w,s,l,a,d,f=arguments.length,u=new Array(f),p=0;p<f;p++)u[p]=arguments[p];switch(v.default._validateParameters("saveCanvas",u),u[0]instanceof HTMLCanvasElement?(C=u[0],u.shift()):u[0]instanceof v.default.Element?(C=u[0].elt,u.shift()):u[0]instanceof v.default.Framebuffer?((a=this.createGraphics((l=u[0]).width,l.height)).pixelDensity(pixelDensity()),l.loadPixels(),a.loadPixels(),a.pixels.set(l.pixels),a.updatePixels(),C=a.elt,u.shift()):C=this._curElement&&this._curElement.elt,1<=u.length&&(w=u[0]),s=(s=2<=u.length?u[1]:s)||v.default.prototype._checkFileExtension(w,s)[1]||"png"){default:d="image/png";break;case"webp":d="image/webp";break;case"jpeg":case"jpg":d="image/jpeg"}C.toBlob(function(c){v.default.prototype.downloadFile(c,w,s),a&&a.remove()},d)},v.default.prototype.encodeAndDownloadGif=function(C,w){for(var s=C.gifProperties,a=(1===(l=s.loopLimit)?l=null:null===l&&(l=0),new Uint8Array(C.width*C.height*s.numFrames)),d=[],f={},u=0;u<s.numFrames;u++){for(var p=new Set,c=s.frames[u].image.data,m=c.length,_=new Uint32Array(C.width*C.height),M=0,x=0;M<m;M+=4,x++){var I=c[M+0]<<16|c[M+1]<<8|c[M+2];p.add(I),_[x]=I}var A=y(p).sort().toString();void 0===f[A]?f[A]={freq:1,frames:[u]}:(f[A].freq+=1,f[A].frames.push(u)),d.push(_)}for(var z=[],H=Object.keys(f).sort(function(Y,R){return f[R].freq-f[Y].freq}),P=H[0].split(",").map(function(Y){return parseInt(Y)}),k=(z=z.concat(f[P].frames),new Set(P)),te=1;te<H.length;te++){var ne=H[te].split(",").map(function(Y){return parseInt(Y)}).filter(function(Y){return!k.has(Y)});if(P.length+ne.length<=256){for(var G=0;G<ne.length;G++)P.push(ne[G]),k.add(ne[G]);z=z.concat(f[H[te]].frames)}}z=new Set(z);for(var X={},B=0;B<P.length;B++)X[P[B]]||(X[P[B]]=B);for(var N=1;N<P.length;)N<<=1;P.length=N;for(var l={loop:l,palette:new Uint32Array(P)},K=new b.default.GifWriter(a,C.width,C.height,l),ie={},Ae=0;Ae<s.numFrames;Ae++)!function(R){var Q=!z.has(R),pe=Q?[]:P,Se=new Uint8Array(C.width*C.height),Ve={},qe=new Set,pt=(d[R].forEach(function(Ze,Je){Q?(void 0===Ve[Ze]&&(Ve[Ze]=pe.length,pe.push(Ze)),Se[Je]=Ve[Ze]):Se[Je]=X[Ze],0<R&&d[R-1][Je]!==Ze&&qe.add(Ze)}),{});if(0<(We=pe.filter(function(Ze){return!qe.has(Ze)})).length){var We,ct=(Q?Ve:X)[We=We[0]];if(0<R){for(var dt=0;dt<d[R].length;dt++)d[R-1][dt]===d[R][dt]&&(Se[dt]=ct);pt.transparent=ct,ie.frameOpts.disposal=1}}if(pt.delay=s.frames[R].delay/10,Q){for(var $e=1;$e<pe.length;)$e<<=1;pe.length=$e,pt.palette=new Uint32Array(pe)}0<R&&K.addFrame(0,0,C.width,C.height,ie.pixelPaletteIndex,ie.frameOpts),ie={pixelPaletteIndex:Se,frameOpts:pt}}(Ae);ie.frameOpts.disposal=1,K.addFrame(0,0,C.width,C.height,ie.pixelPaletteIndex,ie.frameOpts),l=new Blob([a.slice(0,K.end())],{type:"image/gif"}),v.default.prototype.downloadFile(l,w,"gif")},v.default.prototype.saveFrames=function(C,w,s,d,a){v.default._validateParameters("saveFrames",arguments),s=v.default.prototype.constrain(s=s||3,0,15),s*=1e3,d=v.default.prototype.constrain(d||15,0,22);var f=0,u=v.default.prototype._makeFrame,p=this._curElement.elt,c=[],m=setInterval(function(){c.push(u(C+f,w,p)),f++},1e3/d);setTimeout(function(){if(clearInterval(m),a)a(c);else for(var _=0,M=c;_<M.length;_++){var x=M[_];v.default.prototype.downloadFile(x.imageData,x.filename,x.ext)}c=[]},.01+s)},v.default.prototype._makeFrame=function(C,w,a){var l;if(a=this?this._curElement.elt:a,w)switch(w.toLowerCase()){case"png":default:l="image/png";break;case"jpeg":case"jpg":l="image/jpeg"}else w="png",l="image/png";a=(a=a.toDataURL(l)).replace(l,"image/octet-stream");var d={};return d.imageData=a,d.filename=C,d.ext=w,d},V.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(o,se,V){"use strict";function v(p){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(p)}function b(p){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(c){return v(c)}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":v(c)})(p)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.copy-within"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.uint8-clamped-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,o("regenerator-runtime/runtime");var g=a(o("../core/main")),y=a(o("../core/helpers")),C=function(p){if(p&&p.__esModule)return p;if(null===p||"object"!==b(p)&&"function"!=typeof p)return{default:p};var c=l();if(c&&c.has(p))return c.get(p);var m,_={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in p){var x;Object.prototype.hasOwnProperty.call(p,m)&&((x=M?Object.getOwnPropertyDescriptor(p,m):null)&&(x.get||x.set)?Object.defineProperty(_,m,x):_[m]=p[m])}return _.default=p,c&&c.set(p,_),_}(o("../core/constants")),w=a(o("omggif")),s=o("gifenc");function l(){var p;return"function"!=typeof WeakMap?null:(l=function(){return p},p=new WeakMap)}function a(p){return p&&p.__esModule?p:{default:p}}function d(p,c,m,_,M,x,I){try{var A=p[x](I),H=A.value}catch(P){return void m(P)}A.done?c(H):Promise.resolve(H).then(_,M)}function u(p,c){return 0<p&&p<c?p:c}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),g.default.prototype.loadImage=function(p,c,m){g.default._validateParameters("loadImage",arguments);var _=new g.default.Image(1,1,this),M=this,x=new Request(p,{method:"GET",mode:"cors"});return fetch(p,x).then(function(I){var A,H=I.headers.get("content-type");null===H&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),H&&H.includes("image/gif")?I.arrayBuffer().then(function(P){if(P){P=new Uint8Array(P);for(var z=_,k=c,te=m,ne=function(Q){M._decrementPreload()}.bind(M),G=new w.default.GifReader(P),X=(z.width=z.canvas.width=G.width,z.height=z.canvas.height=G.height,[]),B=G.numFrames(),N=new Uint8ClampedArray(z.width*z.height*4),K=0;K<B;K++){var ie=G.frameInfo(K),Ae=z.drawingContext.getImageData(0,0,z.width,z.height),Y=(N=Ae.data.slice(),function(Q,pe){try{pe.decodeAndBlitFrameRGBA(Q,N)}catch(Se){g.default._friendlyFileLoadError(8,z.src),"function"==typeof te?te(Se):console.error(Se)}}(K,G),new ImageData(N,z.width,z.height));0===(z.drawingContext.putImageData(Y,0,0),Y=ie.delay)&&(Y=10),X.push({image:z.drawingContext.getImageData(0,0,z.width,z.height),delay:10*Y}),2===ie.disposal?z.drawingContext.clearRect(ie.x,ie.y,ie.width,ie.height):3===ie.disposal&&z.drawingContext.putImageData(Ae,0,0,ie.x,ie.y,ie.width,ie.height)}null===(P=G.loopCount())?P=1:0===P&&(P=null),z.drawingContext.putImageData(X[0].image,0,0),1<X.length&&(z.gifProperties={displayIndex:0,loopLimit:P,loopCount:0,frames:X,numFrames:B,playing:!0,timeDisplayed:0,lastChangeTime:0}),"function"==typeof k&&k(z),ne()}},function(P){"function"==typeof m?(m(P),M._decrementPreload()):console.error(P)}):((A=new Image).onload=function(){_.width=_.canvas.width=A.width,_.height=_.canvas.height=A.height,_.drawingContext.drawImage(A,0,0),_.modified=!0,"function"==typeof c&&c(_),M._decrementPreload()},A.onerror=function(P){g.default._friendlyFileLoadError(0,A.src),"function"==typeof m?(m(P),M._decrementPreload()):console.error(P)},0!==p.indexOf("data:image/")&&(A.crossOrigin="Anonymous"),A.src=p),_.modified=!0}).catch(function(I){g.default._friendlyFileLoadError(0,p),"function"==typeof m?(m(I),M._decrementPreload()):console.error(I)}),_},g.default.prototype.saveGif=function(){p=j.mark(function m(_,M){var x,I,A,H,P,z,k,te,ne,G,X,B,N,K,ie,Ae,Y,R,Q,pe,Se,Ve,qe,pt,We,ct,dt=arguments;return j.wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:if(x=2<dt.length&&void 0!==dt[2]?dt[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},"string"!=typeof _)throw TypeError("fileName parameter must be a string");$e.next=3;break;case 3:if("number"!=typeof M)throw TypeError("Duration parameter must be a number");$e.next=5;break;case 5:if(A=x&&x.units||"seconds",H=x&&x.silent||!1,P=x&&x.notificationDuration||0,z=x&&x.notificationID||"progressBar","number"!=typeof(I=x&&x.delay||0))throw TypeError("Delay parameter must be a number");$e.next=12;break;case 12:if("seconds"!==A&&"frames"!==A)throw TypeError('Units parameter must be either "frames" or "seconds"');$e.next=14;break;case 14:if("boolean"!=typeof H)throw TypeError("Silent parameter must be a boolean");$e.next=16;break;case 16:if("number"!=typeof P)throw TypeError("Notification duration parameter must be a number");$e.next=18;break;case 18:if("string"!=typeof z)throw TypeError("Notification ID parameter must be a string");$e.next=20;break;case 20:return this._recording=!0,k=(k=1/(G=(G=this._targetFrameRate)!==1/0&&void 0!==G&&0!==G?G:60)*1e3)<20?20:k,ne=(te="seconds"===A?M*G:M)+(G="seconds"===A?I*G:I),this.frameCount=G,X=this._pixelDensity,this.pixelDensity(1),B=[],null!==document.getElementById(z)&&document.getElementById(z).remove(),H||((N=this.createP("")).id(z),N.style("font-size","16px"),N.style("font-family","Montserrat"),N.style("background-color","#ffffffa0"),N.style("padding","8px"),N.style("border-radius","10px"),N.position(0,0)),this._renderer instanceof g.default.RendererGL&&(ie=this.drawingContext,K=new Uint8Array(ie.drawingBufferWidth*ie.drawingBufferHeight*4)),this.noLoop(),$e.next=39,Promise.resolve();case 39:if(G<ne)return this.redraw(),pt=void 0,pt=this._renderer instanceof g.default.RendererGL?(K=new Uint8Array(ie.drawingBufferWidth*ie.drawingBufferHeight*4),ie.readPixels(0,0,ie.drawingBufferWidth,ie.drawingBufferHeight,ie.RGBA,ie.UNSIGNED_BYTE,K),function(Ze,Je,at){for(var Qe=parseInt(at/2),st=4*Je,Tt=new Uint8Array(4*Je),on=0;on<Qe;++on){var Ut=on*st,ln=(at-on-1)*st;Tt.set(Ze.subarray(Ut,Ut+st)),Ze.copyWithin(Ut,ln,ln+st),Ze.set(Tt,ln)}return Ze}(K,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,B.push(pt),G++,H||N.html("Saved frame <b>"+B.length.toString()+"</b> out of "+te.toString()),$e.next=48,new Promise(function(Ze){return setTimeout(Ze,0)});$e.next=50;break;case 48:$e.next=39;break;case 50:H||N.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(X),Ae=(0,s.GIFEncoder)(),Y=function(Ze){for(var Je=new Uint8Array(Ze.length*Ze[0].length),at=0;at<Ze.length;at++)Je.set(Ze[at],at*Ze[0].length);var Qe=(0,s.quantize)(Je,256,{format:"rgba4444",oneBitAlpha:!0});return 256===Qe.length?Qe[Qe.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Qe.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),Qe}(B),R={},Q=function(Ze){for(var Je=Ze.length/4,at=new Uint8Array(Je),Qe=0;Qe<Je;Qe++){var st=Ze[4*Qe]<<24|Ze[4*Qe+1]<<16|Ze[4*Qe+2]<<8|Ze[4*Qe+3];void 0===R[st]&&(R[st]=(0,s.nearestColorIndex)(Y,Ze.slice(4*Qe,4*(Qe+1)))),at[Qe]=R[st]}return at},pe=Y.length-1,Se=[],Ve=0;case 60:if(!(Ve<B.length)){$e.next=71;break}if(qe=Q(B[Ve]),pt=qe.slice(),0===Ve)Ae.writeFrame(qe,this.width,this.height,{palette:Y,delay:k,dispose:1});else{for(We=0;We<qe.length;We++)qe[We]===Se[We]&&(qe[We]=pe);Ae.writeFrame(qe,this.width,this.height,{delay:k,transparent:!0,transparentIndex:pe,dispose:1})}return Se=pt,H||N.html("Rendered frame <b>"+Ve.toString()+"</b> out of "+te.toString()),$e.next=68,new Promise(function(Ze){return setTimeout(Ze,0)});case 68:Ve++,$e.next=60;break;case 71:Ae.finish(),ct=Ae.bytesView(),ct=new Blob([ct],{type:"image/gif"}),B=[],this._recording=!1,this.loop(),H||(N.html("Done. Downloading your gif!\u{1f338}"),0<P&&setTimeout(function(){return N.remove()},1e3*P)),g.default.prototype.downloadFile(ct,_,"gif");case 80:case"end":return $e.stop()}},m,this)});var p,c=function(){var m=this,_=arguments;return new Promise(function(M,x){var I=p.apply(m,_);function A(P){d(I,M,x,A,H,"next",P)}function H(P){d(I,M,x,A,H,"throw",P)}A(void 0)})};return function(m,_){return c.apply(this,arguments)}}(),g.default.prototype.image=function(p,c,m,_,G,X,B,N,ie,P,z,k){g.default._validateParameters("image",arguments);var K=p.width,te=p.height,ne=(k=k||C.CENTER,z=z||C.CENTER,p.elt&&(K=void 0!==K?K:p.elt.width,te=void 0!==te?te:p.elt.height),p.elt&&p.elt.videoWidth&&!p.canvas&&(K=void 0!==K?K:p.elt.videoWidth,te=void 0!==te?te:p.elt.videoHeight),_||K);G=G||te,X=X||0,B=B||0,N=u(void 0!==N?N:K,K),K=u(void 0!==ie?ie:te,te),ie=1,p.elt&&!p.canvas&&p.elt.style.width&&(ie=p.elt.videoWidth&&!_?p.elt.videoWidth:p.elt.width,ie/=parseInt(p.elt.style.width,10)),X*=ie,B*=ie,K*=ie,N*=ie,te=function f(p,c,m,_,M,x,I,A,H,P,z){var k,te,ne,G,X,B,N,K,ie;return p===C.COVER&&(k=c,ne=m,N=x,K=I,B=A,ie=H,te=P,G=z,N/=X=Math.max(N/te,K/G),K/=X,X=B,B=ie,k===C.CENTER?X+=(te-N)/2:k===C.RIGHT&&(X+=te-N),ne===C.CENTER?B+=(G-K)/2:ne===C.BOTTOM&&(B+=G-K),A=(ie={x:X,y:B,w:N,h:K}).x,H=ie.y,P=ie.w,z=ie.h),p===C.CONTAIN&&(k=c,te=m,ne=_,G=M,X=x,B=I,N=P,K=z,N/=ie=Math.max(N/X,K/B),K/=ie,ie=ne,ne=G,k===C.CENTER?ie+=(X-N)/2:k===C.RIGHT&&(ie+=X-N),te===C.CENTER?ne+=(B-K)/2:te===C.BOTTOM&&(ne+=B-K),_=(p={x:ie,y:ne,w:N,h:K}).x,M=p.y,x=p.w,I=p.h),{sx:A,sy:H,sw:P,sh:z,dx:_,dy:M,dw:x,dh:I}}(P,z,k,(te=y.default.modeAdjust(c,m,ne,G,this._renderer._imageMode)).x,te.y,te.w,te.h,X,B,N,K),this._renderer.image(p,te.sx,te.sy,te.sw,te.sh,te.dx,te.dy,te.dw,te.dh)},g.default.prototype.tint=function(){for(var p=arguments.length,c=new Array(p),m=0;m<p;m++)c[m]=arguments[m];g.default._validateParameters("tint",c);var _=this.color.apply(this,c);this._renderer._tint=_.levels},g.default.prototype.noTint=function(){this._renderer._tint=null},g.default.prototype._getTintedImageCanvas=g.default.Renderer2D.prototype._getTintedImageCanvas,g.default.prototype.imageMode=function(p){g.default._validateParameters("imageMode",arguments),p!==C.CORNER&&p!==C.CORNERS&&p!==C.CENTER||(this._renderer._imageMode=p)},V.default=o=g.default},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(o,se,V){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=g(o("../core/main")),b=g(o("./filters"));function g(C){return C&&C.__esModule?C:{default:C}}function y(C,w){for(var s=0;s<w.length;s++){var l=w[s];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(C,l.key,l)}}v.default.Image=function(){function C(a,d){if(!(this instanceof C))throw new TypeError("Cannot call a class as a function");this.width=a,this.height=d,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var w,s;return w=C,(s=[{key:"pixelDensity",value:function(a){return void 0!==a?(a<=0&&(v.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),a=1),this._pixelDensity=a,this.width/=a,this.height/=a,this):this._pixelDensity}},{key:"_animateGif",value:function(u){var d,f=this.gifProperties;u=u._lastRealFrameTime||window.performance.now(),0===f.lastChangeTime&&(f.lastChangeTime=u),f.playing&&(f.timeDisplayed=u-f.lastChangeTime,f.timeDisplayed>=(d=f.frames[f.displayIndex].delay)&&(d=Math.floor(f.timeDisplayed/d),f.timeDisplayed=0,f.lastChangeTime=u,f.displayIndex+=d,f.loopCount=Math.floor(f.displayIndex/f.numFrames),null!==f.loopLimit&&f.loopCount>=f.loopLimit?f.playing=!1:(this.drawingContext.putImageData(f.frames[u=f.displayIndex%f.numFrames].image,0,0),f.displayIndex=u,this.setModified(!0))))}},{key:"_setProperty",value:function(a,d){this[a]=d,this.setModified(!0)}},{key:"loadPixels",value:function(){v.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(a,d,f,u){v.default.Renderer2D.prototype.updatePixels.call(this,a,d,f,u),this.setModified(!0)}},{key:"get",value:function(a,d,f,u){return v.default._validateParameters("p5.Image.get",arguments),v.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];return v.default.Renderer2D.prototype._getPixel.apply(this,d)}},{key:"set",value:function(a,d,f){v.default.Renderer2D.prototype.set.call(this,a,d,f),this.setModified(!0)}},{key:"resize",value:function(a,d){0===a&&0===d?(a=this.canvas.width,d=this.canvas.height):0===a?a=this.canvas.width*d/this.canvas.height:0===d&&(d=this.canvas.height*a/this.canvas.width),a=Math.floor(a),d=Math.floor(d);var f=document.createElement("canvas");if(f.width=a,f.height=d,this.gifProperties)for(var u=this.gifProperties,p=0;p<u.numFrames;p++){for(var c=this.drawingContext.createImageData(a,d),m=(A=A=I=x=M=void 0,u.frames[p].image),_=c,M=0,x=0;x<_.height;x++)for(var I=0;I<_.width;I++){var A=Math.floor(I*m.width/_.width);A=4*(Math.floor(x*m.height/_.height)*m.width+A),_.data[M++]=m.data[A++],_.data[M++]=m.data[A++],_.data[M++]=m.data[A++],_.data[M++]=m.data[+A]}u.frames[p].image=c}f.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,f.width,f.height),this.canvas.width=this.width=a,this.canvas.height=this.height=d,this.drawingContext.drawImage(f,0,0,a,d,0,0,a,d),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];v.default.prototype.copy.apply(this,d)}},{key:"mask",value:function(a){var d=this.drawingContext.globalCompositeOperation,f=this._pixelDensity,u=1,p=[a=void 0===a?this:a,0,0,(u=a instanceof v.default.Renderer?a._pInst._pixelDensity:u)*a.width,u*a.height,0,0,f*this.width,f*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var c=0;c<this.gifProperties.frames.length;c++)this.drawingContext.putImageData(this.gifProperties.frames[c].image,0,0),this.copy.apply(this,p),this.gifProperties.frames[c].image=this.drawingContext.getImageData(0,0,f*this.width,f*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,p);this.drawingContext.globalCompositeOperation=d,this.setModified(!0)}},{key:"filter",value:function(a,d){b.default.apply(this.canvas,b.default[a],d),this.setModified(!0)}},{key:"blend",value:function(){for(var a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];v.default._validateParameters("p5.Image.blend",arguments),v.default.prototype.blend.apply(this,d),this.setModified(!0)}},{key:"setModified",value:function(a){this._modified=a}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(a,d){this.gifProperties?v.default.prototype.encodeAndDownloadGif(this,a):v.default.prototype.saveCanvas(this.canvas,a,d)}},{key:"reset",value:function(){var a;this.gifProperties&&((a=this.gifProperties).playing=!0,a.timeSinceStart=0,a.timeDisplayed=0,a.lastChangeTime=0,a.loopCount=0,a.displayIndex=0,this.drawingContext.putImageData(a.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var a;if(this.gifProperties)return(a=this.gifProperties).displayIndex%a.numFrames}},{key:"setFrame",value:function(a){var d;this.gifProperties&&(a<(d=this.gifProperties).numFrames&&0<=a?(d.timeDisplayed=0,d.lastChangeTime=0,d.displayIndex=a,this.drawingContext.putImageData(d.frames[a].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(a,d){if(this.gifProperties){var f=this.gifProperties;if(d<f.numFrames&&0<=d)f.frames[d].delay=a;else{var u=!0,p=void(d=!1);try{for(var c,m=f.frames[Symbol.iterator]();!(u=(c=m.next()).done);u=!0)c.value.delay=a}catch(M){d=!0,p=M}finally{try{u||null==m.return||m.return()}finally{if(d)throw p}}}}}}])&&y(w.prototype,s),C}(),V.default=o=v.default.Image},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(o,se,V){"use strict";o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=g(o("../core/main")),b=g(o("./filters"));function g(y){return y&&y.__esModule?y:{default:y}}o("../color/p5.Color"),v.default.prototype.pixels=[],v.default.prototype.blend=function(){for(var y,C=arguments.length,w=new Array(C),s=0;s<C;s++)w[s]=arguments[s];v.default._validateParameters("blend",w),this._renderer?(y=this._renderer).blend.apply(y,w):v.default.Renderer2D.prototype.blend.apply(this,w)},v.default.prototype.copy=function(){for(var y,C,w,s,l,a,d,f,u,p=arguments.length,c=new Array(p),m=0;m<p;m++)c[m]=arguments[m];if(v.default._validateParameters("copy",c),9===c.length)y=c[0],C=c[1],w=c[2],s=c[3],l=c[4],a=c[5],d=c[6],f=c[7],u=c[8];else{if(8!==c.length)throw new Error("Signature not supported");y=this,C=c[0],w=c[1],s=c[2],l=c[3],a=c[4],d=c[5],f=c[6],u=c[7]}v.default.prototype._copyHelper(this,y,C,w,s,l,a,d,f,u)},v.default.prototype._copyHelper=function(y,C,w,s,l,a,d,f,u,p){var c=C.canvas.width/C.width,m=0,_=0;C._renderer&&C._renderer.isP3D&&(m=C.width/2,_=C.height/2),y._renderer&&y._renderer.isP3D?(y.push(),y.resetMatrix(),y.noLights(),y.blendMode(y.BLEND),y.imageMode(y.CORNER),v.default.RendererGL.prototype.image.call(y._renderer,C,w+m,s+_,l,a,d,f,u,p),y.pop()):y.drawingContext.drawImage(C.canvas,c*(w+m),c*(s+_),c*l,c*a,d,f,u,p)},v.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},v.default.prototype.filter=function(){for(var y=arguments.length,C=new Array(y),w=0;w<y;w++)C[w]=arguments[w];v.default._validateParameters("filter",C);var d=function(){var f,u={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof v.default.Shader?u.shader=arguments.length<=0?void 0:arguments[0]:(u.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&"number"==typeof(arguments.length<=1?void 0:arguments[1])&&(u.value=arguments.length<=1?void 0:arguments[1]),!1===((f=arguments.length-1)<0||arguments.length<=f?void 0:arguments[f])&&(u.useWebGL=!1)),u}.apply(void 0,C),s=d.shader,l=d.operation,a=d.value;d=d.useWebGL,this._renderer.isP3D&&s?v.default.RendererGL.prototype.filter.call(this._renderer,s):d||this._renderer.isP3D?(!d&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?v.default.RendererGL.prototype.filter.call(this._renderer,l,a):((s=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),s.filter.apply(s,C),this.copy(s._renderer,0,0,this.width,this.height,0,0,this.width,this.height),s.clear())):b.default.apply(void 0!==this.canvas?this.canvas:this.elt,b.default[l],a)},v.default.prototype.get=function(y,C,w,s){var l;return v.default._validateParameters("get",arguments),(l=this._renderer).get.apply(l,arguments)},v.default.prototype.loadPixels=function(){for(var y=arguments.length,C=new Array(y),w=0;w<y;w++)C[w]=arguments[w];v.default._validateParameters("loadPixels",C),this._renderer.loadPixels()},v.default.prototype.set=function(y,C,w){this._renderer.set(y,C,w)},v.default.prototype.updatePixels=function(y,C,w,s){v.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(y,C,w,s)},V.default=o=v.default},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(o,se,V){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/web.url"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var b=C(o("../core/main")),g=(o("whatwg-fetch"),o("es6-promise/auto"),C(o("fetch-jsonp"))),y=C(o("file-saver"));function C(a){return a&&a.__esModule?a:{default:a}}function w(a){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(a)}function s(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function l(a,d){d&&!0!==d&&"true"!==d||(d="");var f="";return(a=a||"untitled")&&a.includes(".")&&(f=a.split(".").pop()),d&&f!==d&&(f=d,a="".concat(a,".").concat(f)),[a,f]}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),b.default.prototype.loadJSON=function(){for(var a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];b.default._validateParameters("loadJSON",d);for(var u,p,c,m=d[0],_={},M="json",x=1;x<d.length;x++){var I=d[x];"string"==typeof I?"jsonp"!==I&&"json"!==I||(M=I):"function"==typeof I?u?p=I:u=I:"object"===w(I)&&(I.hasOwnProperty("jsonpCallback")||I.hasOwnProperty("jsonpCallbackFunction"))&&(M="jsonp",c=I)}var A=this;return this.httpDo(m,"GET",c,M,function(H){for(var P in H)_[P]=H[P];void 0!==u&&u(H),A._decrementPreload()},function(H){if(b.default._friendlyFileLoadError(5,m),!p)throw H;p(H)}),_},b.default.prototype.loadStrings=function(){for(var a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];b.default._validateParameters("loadStrings",d);for(var u,p,c=[],m=1;m<d.length;m++){var _=d[m];"function"==typeof _&&(void 0===u?u=_:void 0===p&&(p=_))}var M=this;return b.default.prototype.httpDo.call(this,d[0],"GET","text",function(x){for(var I=x.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),A=0,H=I.length;A<H;A+=32768)Array.prototype.push.apply(c,I.slice(A,Math.min(A+32768,H)));void 0!==u&&u(c),M._decrementPreload()},function(x){if(b.default._friendlyFileLoadError(3,x),!p)throw x;p(x)}),c},b.default.prototype.loadTable=function(a){var d,f,u,p=[],c=!1,m=a.substring(a.lastIndexOf(".")+1,a.length);"csv"===m?u=",":"ssv"===m?u=";":"tsv"===m&&(u="\t");for(var _=1;_<arguments.length;_++)"function"==typeof arguments[_]?void 0===d?d=arguments[_]:void 0===f&&(f=arguments[_]):"string"==typeof arguments[_]&&(p.push(arguments[_]),"header"===arguments[_]&&(c=!0),"csv"===arguments[_]?u=",":"ssv"===arguments[_]?u=";":"tsv"===arguments[_]&&(u="\t"));var M=new b.default.Table,x=this;return this.httpDo(a,"GET","table",function(I){for(var A,H,P={},k=[],te=0,ne=null,G=function(){P.currentState=0,P.token=""},X=function(){ne.push(P.token),G()},B=function(){P.currentState=4,k.push(ne),ne=null};;){if(null==(A=I[te++])){if(P.escaped)throw new Error("Unclosed quote in file.");if(ne){X(),B();break}}if(null===ne&&(P.escaped=!1,ne=[],G()),0===P.currentState){if('"'===A){P.escaped=!0,P.currentState=1;continue}P.currentState=1}if(1===P.currentState&&P.escaped)if('"'===A)'"'===I[te]?(P.token+='"',te++):(P.escaped=!1,P.currentState=2);else{if("\r"===A)continue;P.token+=A}else"\r"===A?("\n"===I[te]&&te++,X(),B()):"\n"===A?(X(),B()):A===u?X():1===P.currentState&&(P.token+=A)}if(c)M.columns=k.shift();else for(var N=0;N<k[0].length;N++)M.columns[N]="null";for(var K=0;K<k.length;K++)(1!==k[K].length||"undefined"!==k[K][0]&&""!==k[K][0])&&((H=new b.default.TableRow).arr=k[K],H.obj=function(ie,Ae){if(void 0===(Ae=Ae||[]))for(var Y=0;Y<ie.length;Y++)Ae[Y.toString()]=Y;return Object.fromEntries(Ae.map(function(R,Q){return[R,ie[Q]]}))}(k[K],M.columns),M.addRow(H));"function"==typeof d&&d(M),x._decrementPreload()},function(I){b.default._friendlyFileLoadError(2,a),f?f(I):console.error(I)}),M},b.default.prototype.loadXML=function(){for(var a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];for(var u,p,c=new b.default.XML,m=1;m<d.length;m++){var _=d[m];"function"==typeof _&&(void 0===u?u=_:void 0===p&&(p=_))}var M=this;return this.httpDo(d[0],"GET","xml",function(x){for(var I in x)c[I]=x[I];void 0!==u&&u(c),M._decrementPreload()},function(x){if(b.default._friendlyFileLoadError(1,x),!p)throw x;p(x)}),c},b.default.prototype.loadBytes=function(a,d,f){var u={},p=this;return this.httpDo(a,"GET","arrayBuffer",function(c){u.bytes=new Uint8Array(c),"function"==typeof d&&d(u),p._decrementPreload()},function(c){if(b.default._friendlyFileLoadError(6,a),!f)throw c;f(c)}),u},b.default.prototype.httpGet=function(){for(var a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];return b.default._validateParameters("httpGet",d),d.splice(1,0,"GET"),b.default.prototype.httpDo.apply(this,d)},b.default.prototype.httpPost=function(){for(var a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];return b.default._validateParameters("httpPost",d),d.splice(1,0,"POST"),b.default.prototype.httpDo.apply(this,d)},b.default.prototype.httpDo=function(){for(var a,d,f,u={},p=0,c="text/plain",m=arguments.length-1;0<m&&"function"==typeof(m<0||arguments.length<=m?void 0:arguments[m]);m--)p++;var M=arguments.length<=0?void 0:arguments[0];if(2==(_=arguments.length-p)&&"string"==typeof M&&"object"===w(arguments.length<=1?void 0:arguments[1]))z=new Request(M,arguments.length<=1?void 0:arguments[1]),d=arguments.length<=2?void 0:arguments[2],f=arguments.length<=3?void 0:arguments[3];else{for(var x,I="GET",A=1;A<arguments.length;A++){var H=A<0||arguments.length<=A?void 0:arguments[A];if("string"==typeof H)"GET"===H||"POST"===H||"PUT"===H||"DELETE"===H?I=H:"json"===H||"jsonp"===H||"binary"===H||"arrayBuffer"===H||"xml"===H||"text"===H||"table"===H?a=H:x=H;else if("number"==typeof H)x=H.toString();else if("object"===w(H))if(H.hasOwnProperty("jsonpCallback")||H.hasOwnProperty("jsonpCallbackFunction"))for(var P in H)u[P]=H[P];else c=H instanceof b.default.XML?(x=H.serialize(),"application/xml"):(x=JSON.stringify(H),"application/json");else"function"==typeof H&&(d?f=H:d=H)}var _="GET"===I?new Headers:new Headers({"Content-Type":c}),z=new Request(M,{method:I,mode:"cors",body:x,headers:_})}return(_=(_="jsonp"===(a=a||(M.includes("json")?"json":M.includes("xml")?"xml":"text"))?(0,g.default)(M,u):fetch(z)).then(function(k){if(!k.ok)throw(te=new Error(k.body)).status=k.status,te.ok=!1,te;var te=0;switch((te="jsonp"!==a?k.headers.get("content-length"):te)&&64e6<te&&b.default._friendlyFileLoadError(7,M),a){case"json":case"jsonp":return k.json();case"binary":return k.blob();case"arrayBuffer":return k.arrayBuffer();case"xml":return k.text().then(function(ne){return ne=(new DOMParser).parseFromString(ne,"text/xml"),new b.default.XML(ne.documentElement)});default:return k.text()}})).then(d||function(){}),_.catch(f||console.error),_},window.URL=window.URL||window.webkitURL,b.default.prototype._pWriters=[],b.default.prototype.createWriter=function(a,d){var f,u;for(u in b.default.prototype._pWriters)if(b.default.prototype._pWriters[u].name===a)return f=new b.default.PrintWriter(a+this.millis(),d),b.default.prototype._pWriters.push(f),f;return f=new b.default.PrintWriter(a,d),b.default.prototype._pWriters.push(f),f},b.default.PrintWriter=function(a,d){var f=this;this.name=a,this.content="",this.write=function(u){this.content+=u},this.print=function(u){this.content+="".concat(u,"\n")},this.clear=function(){this.content=""},this.close=function(){var u,p=[];for(u in p.push(this.content),b.default.prototype.writeFile(p,a,d),b.default.prototype._pWriters)b.default.prototype._pWriters[u].name===this.name&&b.default.prototype._pWriters.splice(u,1);f.clear(),f={}}},b.default.prototype.save=function(a,d,f){var u=arguments,p=(this._curElement||this).elt;if(0===u.length)b.default.prototype.saveCanvas(p);else if(u[0]instanceof b.default.Renderer||u[0]instanceof b.default.Graphics)b.default.prototype.saveCanvas(u[0].elt,u[1],u[2]);else if(1===u.length&&"string"==typeof u[0])b.default.prototype.saveCanvas(p,u[0]);else switch(l(u[1],u[2])[1]){case"json":return void b.default.prototype.saveJSON(u[0],u[1],u[2]);case"txt":return void b.default.prototype.saveStrings(u[0],u[1],u[2]);default:u[0]instanceof Array?b.default.prototype.saveStrings(u[0],u[1],u[2]):u[0]instanceof b.default.Table?b.default.prototype.saveTable(u[0],u[1],u[2]):u[0]instanceof b.default.Image?b.default.prototype.saveCanvas(u[0].canvas,u[1]):u[0]instanceof b.default.SoundFile&&b.default.prototype.saveSound(u[0],u[1],u[2],u[3])}},b.default.prototype.saveJSON=function(a,d,f){b.default._validateParameters("saveJSON",arguments),f=f?JSON.stringify(a):JSON.stringify(a,void 0,2),this.saveStrings(f.split("\n"),d,"json")},b.default.prototype.saveJSONObject=b.default.prototype.saveJSON,b.default.prototype.saveJSONArray=b.default.prototype.saveJSON,b.default.prototype.saveStrings=function(a,d,f,u){b.default._validateParameters("saveStrings",arguments);for(var p=this.createWriter(d,f||"txt"),c=0;c<a.length;c++)p.write(u?a[c]+"\r\n":a[c]+"\n");p.close(),p.clear()},b.default.prototype.saveTable=function(a,d,f){b.default._validateParameters("saveTable",arguments),u=void 0===f?d.substring(d.lastIndexOf(".")+1,d.length):f;var u,p=this.createWriter(d,u),c=a.columns,m="tsv"===u?"\t":",";if("html"!==u){if("0"!==c[0]){for(var _=0;_<c.length;_++)p.write(_<c.length-1?c[_]+m:c[_]);p.write("\n")}for(var M=0;M<a.rows.length;M++){var x=void 0;for(x=0;x<a.rows[M].arr.length;x++)x<a.rows[M].arr.length-1?"csv"===u&&String(a.rows[M].arr[x]).includes(",")?p.write('"'+a.rows[M].arr[x]+'"'+m):p.write(a.rows[M].arr[x]+m):"csv"===u&&String(a.rows[M].arr[x]).includes(",")?p.write('"'+a.rows[M].arr[x]+'"'):p.write(a.rows[M].arr[x]);p.write("\n")}}else{if(p.print("<html>"),p.print("<head>"),p.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),p.print("</head>"),p.print("<body>"),p.print("  <table>"),"0"!==c[0]){p.print("    <tr>");for(var I=0;I<c.length;I++){var A=s(c[I]);p.print("      <td>".concat(A)),p.print("      </td>")}p.print("    </tr>")}for(var H=0;H<a.rows.length;H++){p.print("    <tr>");for(var P=0;P<a.columns.length;P++){var z=s(a.rows[H].getString(P));p.print("      <td>".concat(z)),p.print("      </td>")}p.print("    </tr>")}p.print("  </table>"),p.print("</body>"),p.print("</html>")}p.close(),p.clear()},b.default.prototype.writeFile=function(p,d,f){var u="application/octet-stream";b.default.prototype._isSafari()&&(u="text/plain"),p=new Blob(p,{type:u}),b.default.prototype.downloadFile(p,d,f)},b.default.prototype.downloadFile=function(a,p,c){var u;c=(p=l(p,c))[0],a instanceof Blob?y.default.saveAs(a,c):((u=document.createElement("a")).href=a,u.download=c,u.onclick=function(m){document.body.removeChild(m.target),m.stopPropagation()},u.style.display="none",document.body.appendChild(u),b.default.prototype._isSafari()&&(a=(a='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+'3. Name it with this extension: ."'.concat(p[1],'"'),alert(a)),u.click())},b.default.prototype._checkFileExtension=l,b.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},V.default=o=b.default},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(o,se,V){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.replace"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(g,y){for(var C=0;C<y.length;C++){var w=y[C];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}v.default.Table=function(){function g(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=s}var y,C;return y=g,(C=[{key:"addRow",value:function(s){if(void 0===(s=s||new v.default.TableRow).arr||void 0===s.obj)throw new Error("invalid TableRow: ".concat(s));return(s.table=this).rows.push(s),s}},{key:"removeRow",value:function(s){this.rows[s].table=null,s=this.rows.splice(s+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(s)}},{key:"getRow",value:function(s){return this.rows[s]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(s,l){if("string"==typeof l){for(var a=0;a<this.rows.length;a++)if(this.rows[a].obj[l]===s)return this.rows[a]}else for(var d=0;d<this.rows.length;d++)if(this.rows[d].arr[l]===s)return this.rows[d];return null}},{key:"findRows",value:function(s,l){var a=[];if("string"==typeof l)for(var d=0;d<this.rows.length;d++)this.rows[d].obj[l]===s&&a.push(this.rows[d]);else for(var f=0;f<this.rows.length;f++)this.rows[f].arr[l]===s&&a.push(this.rows[f]);return a}},{key:"matchRow",value:function(s,l){if("number"==typeof l){for(var a=0;a<this.rows.length;a++)if(this.rows[a].arr[l].match(s))return this.rows[a]}else for(var d=0;d<this.rows.length;d++)if(this.rows[d].obj[l].match(s))return this.rows[d];return null}},{key:"matchRows",value:function(s,l){var a=[];if("number"==typeof l)for(var d=0;d<this.rows.length;d++)this.rows[d].arr[l].match(s)&&a.push(this.rows[d]);else for(var f=0;f<this.rows.length;f++)this.rows[f].obj[l].match(s)&&a.push(this.rows[f]);return a}},{key:"getColumn",value:function(s){var l=[];if("string"==typeof s)for(var a=0;a<this.rows.length;a++)l.push(this.rows[a].obj[s]);else for(var d=0;d<this.rows.length;d++)l.push(this.rows[d].arr[s]);return l}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(s){this.columns.push(s||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(s,l){for(var a=[],d=0;d<s.length;d++)a.push(s.charAt(d).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var f=new RegExp(a.join("|"),"g");if(void 0===l)for(var u=0;u<this.columns.length;u++)for(var p=0;p<this.rows.length;p++){var c=(c=this.rows[p].arr[u]).replace(f,"");this.rows[p].arr[u]=c,this.rows[p].obj[this.columns[u]]=c}else if("string"==typeof l)for(var m=0;m<this.rows.length;m++){var _=(_=this.rows[m].obj[l]).replace(f,""),M=(this.rows[m].obj[l]=_,this.columns.indexOf(l));this.rows[m].arr[M]=_}else for(var x=0;x<this.rows.length;x++){var I=(I=this.rows[x].arr[l]).replace(f,"");this.rows[x].arr[l]=I,this.rows[x].obj[this.columns[l]]=I}}},{key:"trim",value:function(s){var l=new RegExp(" ","g");if(void 0===s)for(var a=0;a<this.columns.length;a++)for(var d=0;d<this.rows.length;d++){var f=(f=this.rows[d].arr[a]).replace(l,"");this.rows[d].arr[a]=f,this.rows[d].obj[this.columns[a]]=f}else if("string"==typeof s)for(var u=0;u<this.rows.length;u++){var p=(p=this.rows[u].obj[s]).replace(l,""),c=(this.rows[u].obj[s]=p,this.columns.indexOf(s));this.rows[u].arr[c]=p}else for(var m=0;m<this.rows.length;m++){var _=(_=this.rows[m].arr[s]).replace(l,"");this.rows[m].arr[s]=_,this.rows[m].obj[this.columns[s]]=_}}},{key:"removeColumn",value:function(d){var l,a;"string"==typeof d?a=this.columns.indexOf(l=d):l=this.columns[a=d],d=this.columns.splice(a+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(d);for(var f=0;f<this.rows.length;f++){var u=this.rows[f].arr,p=u.splice(a+1,u.length);u.pop(),this.rows[f].arr=u.concat(p),delete this.rows[f].obj[l]}}},{key:"set",value:function(s,l,a){this.rows[s].set(l,a)}},{key:"setNum",value:function(s,l,a){this.rows[s].setNum(l,a)}},{key:"setString",value:function(s,l,a){this.rows[s].setString(l,a)}},{key:"get",value:function(s,l){return this.rows[s].get(l)}},{key:"getNum",value:function(s,l){return this.rows[s].getNum(l)}},{key:"getString",value:function(s,l){return this.rows[s].getString(l)}},{key:"getObject",value:function(s){for(var l,a={},d=0;d<this.rows.length;d++)if(l=this.rows[d].obj,"string"==typeof s){if(!(0<=this.columns.indexOf(s)))throw new Error('This table has no column named "'.concat(s,'"'));a[l[s]]=l}else a[d]=this.rows[d].obj;return a}},{key:"getArray",value:function(){for(var s=[],l=0;l<this.rows.length;l++)s.push(this.rows[l].arr);return s}}])&&b(y.prototype,C),g}(),V.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(o,se,V){"use strict";function v(b,g){for(var y=0;y<g.length;y++){var C=g[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.from-entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.TableRow=function(){function b(w,s){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var l=[];w&&(l=w.split(s=s||",")),this.arr=l,this.obj=Object.fromEntries(l.entries()),this.table=null}var g,y;return g=b,(y=[{key:"set",value:function(w,s){if("string"==typeof w){var l=this.table.columns.indexOf(w);if(!(0<=l))throw new Error('This table has no column named "'.concat(w,'"'));this.obj[w]=s,this.arr[l]=s}else{if(!(w<this.table.columns.length))throw new Error("Column #".concat(w," is out of the range of this table"));this.arr[w]=s,this.obj[l=this.table.columns[w]]=s}}},{key:"setNum",value:function(w,s){s=parseFloat(s),this.set(w,s)}},{key:"setString",value:function(w,s){s=s.toString(),this.set(w,s)}},{key:"get",value:function(w){return("string"==typeof w?this.obj:this.arr)[w]}},{key:"getNum",value:function(w){var s=parseFloat("string"==typeof w?this.obj[w]:this.arr[w]);if("NaN"===s.toString())throw"Error: ".concat(this.obj[w]," is NaN (Not a Number)");return s}},{key:"getString",value:function(w){return("string"==typeof w?this.obj:this.arr)[w].toString()}}])&&v(g.prototype,y),b}(),V.default=o=o.default},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(o,se,V){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(y,C){for(var w=0;w<C.length;w++){var s=C[w];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(y,s.key,s)}}v.default.XML=function(){function y(l){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");l?this.DOM=l:(l=document.implementation.createDocument(null,"doc"),this.DOM=l.createElement("root"))}var C,w;return C=y,(w=[{key:"getParent",value:function(){return new v.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(l){var a=this.DOM.innerHTML,d=this.DOM.attributes,f=document.implementation.createDocument(null,"default").createElement(l);f.innerHTML=a;for(var u=0;u<d.length;u++)f.setAttribute(d[u].nodeName,d[u].nodeValue);this.DOM=f}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var l=[],a=0;a<this.DOM.childNodes.length;a++)l.push(this.DOM.childNodes[a].nodeName);return l}},{key:"getChildren",value:function(l){return function g(y){for(var C=[],w=0;w<y.length;w++)C.push(new v.default.XML(y[w]));return C}(l?this.DOM.getElementsByTagName(l):this.DOM.children)}},{key:"getChild",value:function(l){if("string"!=typeof l)return new v.default.XML(this.DOM.children[l]);var a=!0,d=!1,f=void 0;try{for(var u,p=this.DOM.children[Symbol.iterator]();!(a=(u=p.next()).done);a=!0){var c=u.value;if(c.tagName===l)return new v.default.XML(c)}}catch(m){d=!0,f=m}finally{try{a||null==p.return||p.return()}finally{if(d)throw f}}}},{key:"addChild",value:function(l){l instanceof v.default.XML&&this.DOM.appendChild(l.DOM)}},{key:"removeChild",value:function(l){var a=-1;if("string"==typeof l){for(var d=0;d<this.DOM.children.length;d++)if(this.DOM.children[d].tagName===l){a=d;break}}else a=l;-1!==a&&this.DOM.removeChild(this.DOM.children[a])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var l=[],a=!0,d=!1,f=void 0;try{for(var u,p=this.DOM.attributes[Symbol.iterator]();!(a=(u=p.next()).done);a=!0)l.push(u.value.nodeName)}catch(m){d=!0,f=m}finally{try{a||null==p.return||p.return()}finally{if(d)throw f}}return l}},{key:"hasAttribute",value:function(l){var a={},d=!0,f=!1,u=void 0;try{for(var p,c=this.DOM.attributes[Symbol.iterator]();!(d=(p=c.next()).done);d=!0){var m=p.value;a[m.nodeName]=m.nodeValue}}catch(_){f=!0,u=_}finally{try{d||null==c.return||c.return()}finally{if(f)throw u}}return!!a[l]}},{key:"getNum",value:function(l,a){var d={},f=!0,u=!1,p=void 0;try{for(var c,m=this.DOM.attributes[Symbol.iterator]();!(f=(c=m.next()).done);f=!0){var _=c.value;d[_.nodeName]=_.nodeValue}}catch(M){u=!0,p=M}finally{try{f||null==m.return||m.return()}finally{if(u)throw p}}return Number(d[l])||a||0}},{key:"getString",value:function(l,a){var d={},f=!0,u=!1,p=void 0;try{for(var c,m=this.DOM.attributes[Symbol.iterator]();!(f=(c=m.next()).done);f=!0){var _=c.value;d[_.nodeName]=_.nodeValue}}catch(M){u=!0,p=M}finally{try{f||null==m.return||m.return()}finally{if(u)throw p}}return d[l]?String(d[l]):a||null}},{key:"setAttribute",value:function(l,a){this.DOM.setAttribute(l,a)}},{key:"getContent",value:function(l){var a=this.DOM.textContent;return(a=a.replace(/\s\s+/g,","))||l||null}},{key:"setContent",value:function(l){this.DOM.children.length||(this.DOM.textContent=l)}},{key:"serialize",value:function(){return(new XMLSerializer).serializeToString(this.DOM)}}])&&b(C.prototype,w),y}(),V.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(o,se,V){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.string.includes"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(g){return function(y){if(Array.isArray(y)){for(var C=0,w=new Array(y.length);C<y.length;C++)w[C]=y[C];return w}}(g)||function(y){if(Symbol.iterator in Object(y)||"[object Arguments]"===Object.prototype.toString.call(y))return Array.from(y)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}v.default.prototype.abs=Math.abs,v.default.prototype.ceil=Math.ceil,v.default.prototype.constrain=function(g,y,C){return v.default._validateParameters("constrain",arguments),Math.max(Math.min(g,C),y)},v.default.prototype.dist=function(){for(var g=arguments.length,y=new Array(g),C=0;C<g;C++)y[C]=arguments[C];return v.default._validateParameters("dist",y),4===y.length?Math.hypot(y[2]-y[0],y[3]-y[1]):6===y.length?Math.hypot(y[3]-y[0],y[4]-y[1],y[5]-y[2]):void 0},v.default.prototype.exp=Math.exp,v.default.prototype.floor=Math.floor,v.default.prototype.lerp=function(g,y,C){return v.default._validateParameters("lerp",arguments),C*(y-g)+g},v.default.prototype.log=Math.log,v.default.prototype.mag=function(g,y){return v.default._validateParameters("mag",arguments),Math.hypot(g,y)},v.default.prototype.map=function(g,y,C,w,s,l){return v.default._validateParameters("map",arguments),g=(g-y)/(C-y)*(s-w)+w,l?w<s?this.constrain(g,w,s):this.constrain(g,s,w):g},v.default.prototype.max=function(){for(var g=function(s){return Math.max.apply(Math,b(s))},y=arguments.length,C=new Array(y),w=0;w<y;w++)C[w]=arguments[w];return Array.isArray(C[0])?g(C[0]):g(C)},v.default.prototype.min=function(){for(var g=function(s){return Math.min.apply(Math,b(s))},y=arguments.length,C=new Array(y),w=0;w<y;w++)C[w]=arguments[w];return Array.isArray(C[0])?g(C[0]):g(C)},v.default.prototype.norm=function(g,y,C){return v.default._validateParameters("norm",arguments),this.map(g,y,C,0,1)},v.default.prototype.pow=Math.pow,v.default.prototype.round=function(g,y){return y?(y=Math.pow(10,y),Math.round(g*y)/y):Math.round(g)},v.default.prototype.sq=function(g){return g*g},v.default.prototype.sqrt=Math.sqrt,v.default.prototype.fract=function(w){v.default._validateParameters("fract",arguments);var y,C=0;return w=Number(w),isNaN(w)||Math.abs(w)===1/0?w:(w<0&&(w=-w,C=1),String(w).includes(".")&&!String(w).includes("e")?(y=+("0"+(y=String(w)).slice(y.indexOf("."))),Math.abs(C-y)):w<1?Math.abs(C-w):0)},V.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(o,se,V){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(y,C,w){return(b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(s,l,a){var d=[null];return d.push.apply(d,l),l=new(Function.bind.apply(s,d)),a&&g(l,a.prototype),l}).apply(null,arguments)}function g(y,C){return(g=Object.setPrototypeOf||function(w,s){return w.__proto__=s,w})(y,C)}v.default.prototype.createVector=function(y,C,w){return this instanceof v.default?b(v.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new v.default.Vector(y,C,w)},V.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(w,se,V){"use strict";function v(s){return.5*(1-Math.cos(s*Math.PI))}Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,w=(w=w("../core/main"))&&w.__esModule?w:{default:w};var b,g=4095,y=4,C=.5;w.default.prototype.noise=function(s){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==b){b=new Array(4096);for(var d=0;d<4096;d++)b[d]=Math.random()}s<0&&(s=-s),l<0&&(l=-l),a<0&&(a=-a);for(var f,u,p=Math.floor(s),c=Math.floor(l),m=Math.floor(a),_=s-p,M=l-c,x=a-m,I=0,A=.5,H=0;H<y;H++){var P=p+(c<<4)+(m<<8),z=v(_),k=v(M),te=b[P&g];te+=z*(b[P+1&g]-te),f=b[P+16&g],te+=k*((f+=z*(b[P+16+1&g]-f))-te),f=b[(P+=256)&g],f+=z*(b[P+1&g]-f),u=b[P+16&g],f+=k*((u+=z*(b[P+16+1&g]-u))-f),I+=(te+=v(x)*(f-te))*A,A*=C,p<<=1,c<<=1,m<<=1,1<=(_*=2)&&(p++,_--),1<=(M*=2)&&(c++,M--),1<=(x*=2)&&(m++,x--)}return I},w.default.prototype.noiseDetail=function(s,l){0<s&&(y=s),0<l&&(C=l)},w.default.prototype.noiseSeed=function(s){d=4294967296;var a,d,f_rand=function(){return(a=(1664525*a+1013904223)%d)/d};(function(p){a=(null==p?Math.random()*d:p)>>>0})(s),b=new Array(4096);for(var u=0;u<4096;u++)b[u]=f_rand()},V.default=w=w.default},{"../core/main":283}],316:[function(o,se,V){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}function b(l){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.epsilon"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.some"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.number.epsilon"),o("core-js/modules/es.number.is-finite"),o("core-js/modules/es.string.sub"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=(s=o("../core/main"))&&s.__esModule?s:{default:s},y=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==b(l)&&"function"!=typeof l)return{default:l};var a=C();if(a&&a.has(l))return a.get(l);var d,f={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in l){var p;Object.prototype.hasOwnProperty.call(l,d)&&((p=u?Object.getOwnPropertyDescriptor(l,d):null)&&(p.get||p.set)?Object.defineProperty(f,d,p):f[d]=l[d])}return f.default=l,a&&a.set(l,f),f}(o("../core/constants"));function C(){var l;return"function"!=typeof WeakMap?null:(C=function(){return l},l=new WeakMap)}function w(l,a){for(var d=0;d<a.length;d++){var f=a[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}g.default.Vector=function(){function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");var p,c,m="function"==typeof(arguments.length<=0?void 0:arguments[0])?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],p=(arguments.length<=2?void 0:arguments[2])||0,c=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(p=(arguments.length<=0?void 0:arguments[0])||0,c=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=p,this.y=c,this.z=m}var a,d,f;return a=l,f=[{key:"fromAngle",value:function(u){var p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return new g.default.Vector(p*Math.cos(u),p*Math.sin(u),0)}},{key:"fromAngles",value:function(x,_){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,m=Math.cos(_),M=(_=Math.sin(_),Math.cos(x));return x=Math.sin(x),new g.default.Vector(c*x*_,-c*M,c*x*m)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*y.TWO_PI)}},{key:"random3D",value:function(){var u=Math.random()*y.TWO_PI,p=2*Math.random()-1,c=(m=Math.sqrt(1-p*p))*Math.cos(u),m=m*Math.sin(u);return new g.default.Vector(c,m,p)}},{key:"copy",value:function(u){return u.copy(u)}},{key:"add",value:function(){for(var u=arguments.length,p=new Array(u),c=0;c<u;c++)p[c]=arguments[c];var m=p[0],_=p[1],M=p[2];return M?M.set(m):(M=m.copy(),3===p.length&&g.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),M.add(_),M}},{key:"rem",value:function(u,p){if(u instanceof g.default.Vector&&p instanceof g.default.Vector)return(u=u.copy()).rem(p),u}},{key:"sub",value:function(){for(var u=arguments.length,p=new Array(u),c=0;c<u;c++)p[c]=arguments[c];var m=p[0],_=p[1],M=p[2];return M?M.set(m):(M=m.copy(),3===p.length&&g.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),M.sub(_),M}},{key:"mult",value:function(){for(var u=arguments.length,p=new Array(u),c=0;c<u;c++)p[c]=arguments[c];var m=p[0],_=p[1],M=p[2];return M?M.set(m):(M=m.copy(),3===p.length&&g.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),M.mult(_),M}},{key:"rotate",value:function(){for(var u=arguments.length,p=new Array(u),c=0;c<u;c++)p[c]=arguments[c];var m=p[0],_=p[1],M=p[2];return 2===p.length?M=m.copy():(M instanceof g.default.Vector||g.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),M.set(m)),M.rotate(_),M}},{key:"div",value:function(){for(var u=arguments.length,p=new Array(u),c=0;c<u;c++)p[c]=arguments[c];var m=p[0],_=p[1],M=p[2];return M?M.set(m):(M=m.copy(),3===p.length&&g.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),M.div(_),M}},{key:"dot",value:function(u,p){return u.dot(p)}},{key:"cross",value:function(u,p){return u.cross(p)}},{key:"dist",value:function(u,p){return u.dist(p)}},{key:"lerp",value:function(){for(var u=arguments.length,p=new Array(u),c=0;c<u;c++)p[c]=arguments[c];var m=p[0],_=p[1],M=p[2],x=p[3];return x?x.set(m):(x=m.copy(),4===p.length&&g.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),x.lerp(_,M),x}},{key:"slerp",value:function(){for(var u=arguments.length,p=new Array(u),c=0;c<u;c++)p[c]=arguments[c];var m=p[0],_=p[1],M=p[2],x=p[3];return x?x.set(m):(x=m.copy(),4===p.length&&g.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),x.slerp(_,M),x}},{key:"mag",value:function(u){return u.mag()}},{key:"magSq",value:function(u){return u.magSq()}},{key:"normalize",value:function(){for(var u=arguments.length,p=new Array(u),c=0;c<u;c++)p[c]=arguments[c];var m=p[0],_=p[1];return p.length<2?_=m.copy():(_ instanceof g.default.Vector||g.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),_.set(m)),_.normalize()}},{key:"limit",value:function(){for(var u=arguments.length,p=new Array(u),c=0;c<u;c++)p[c]=arguments[c];var m=p[0],_=p[1],M=p[2];return p.length<3?M=m.copy():(M instanceof g.default.Vector||g.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),M.set(m)),M.limit(_)}},{key:"setMag",value:function(){for(var u=arguments.length,p=new Array(u),c=0;c<u;c++)p[c]=arguments[c];var m=p[0],_=p[1],M=p[2];return p.length<3?M=m.copy():(M instanceof g.default.Vector||g.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),M.set(m)),M.setMag(_)}},{key:"heading",value:function(u){return u.heading()}},{key:"angleBetween",value:function(u,p){return u.angleBetween(p)}},{key:"reflect",value:function(){for(var u=arguments.length,p=new Array(u),c=0;c<u;c++)p[c]=arguments[c];var m=p[0],_=p[1],M=p[2];return p.length<3?M=m.copy():(M instanceof g.default.Vector||g.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),M.set(m)),M.reflect(_)}},{key:"array",value:function(u){return u.array()}},{key:"equals",value:function(u,p){var c;return u instanceof g.default.Vector?c=u:Array.isArray(u)?c=(new g.default.Vector).set(u):g.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),c.equals(p)}}],(d=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(u,p,c){return u instanceof g.default.Vector?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0):Array.isArray(u)?(this.x=u[0]||0,this.y=u[1]||0,this.z=u[2]||0):(this.x=u||0,this.y=p||0,this.z=c||0),this}},{key:"copy",value:function(){return this.isPInst?new g.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new g.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(u,p,c){return u instanceof g.default.Vector?(this.x+=u.x||0,this.y+=u.y||0,this.z+=u.z||0):Array.isArray(u)?(this.x+=u[0]||0,this.y+=u[1]||0,this.z+=u[2]||0):(this.x+=u||0,this.y+=p||0,this.z+=c||0),this}},{key:"calculateRemainder2D",value:function(u,p){return 0!==u&&(this.x=this.x%u),0!==p&&(this.y=this.y%p),this}},{key:"calculateRemainder3D",value:function(u,p,c){return 0!==u&&(this.x=this.x%u),0!==p&&(this.y=this.y%p),0!==c&&(this.z=this.z%c),this}},{key:"rem",value:function(){for(var u=arguments.length,p=new Array(u),c=0;c<u;c++)p[c]=arguments[c];var m,_,M,x=p[0],I=p[1],A=p[2];if(x instanceof g.default.Vector){if([x.x,x.y,x.z].every(Number.isFinite))return m=parseFloat(x.x),_=parseFloat(x.y),M=parseFloat(x.z),this.calculateRemainder3D(m,_,M)}else if(Array.isArray(x)){if(x.every(Number.isFinite))return 2===x.length?this.calculateRemainder2D(x[0],x[1]):3===x.length?this.calculateRemainder3D(x[0],x[1],x[2]):void 0}else if(1===p.length){if(Number.isFinite(x)&&0!==x)return this.x=this.x%x,this.y=this.y%x,this.z=this.z%x,this}else if(2===p.length){if(p.every(Number.isFinite))return this.calculateRemainder2D(x,I)}else if(3===p.length&&p.every(Number.isFinite))return this.calculateRemainder3D(x,I,A)}},{key:"sub",value:function(u,p,c){return u instanceof g.default.Vector?(this.x-=u.x||0,this.y-=u.y||0,this.z-=u.z||0):Array.isArray(u)?(this.x-=u[0]||0,this.y-=u[1]||0,this.z-=u[2]||0):(this.x-=u||0,this.y-=p||0,this.z-=c||0),this}},{key:"mult",value:function(){for(var u=arguments.length,p=new Array(u),c=0;c<u;c++)p[c]=arguments[c];var m,_=p[0],M=p[1],x=p[2];return _ instanceof g.default.Vector?Number.isFinite(_.x)&&Number.isFinite(_.y)&&Number.isFinite(_.z)&&"number"==typeof _.x&&"number"==typeof _.y&&"number"==typeof _.z?(this.x*=_.x,this.y*=_.y,this.z*=_.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(_)?_.every(function(I){return Number.isFinite(I)})&&_.every(function(I){return"number"==typeof I})?1===_.length?(this.x*=_[0],this.y*=_[0],this.z*=_[0]):2===_.length?(this.x*=_[0],this.y*=_[1]):3===_.length&&(this.x*=_[0],this.y*=_[1],this.z*=_[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(m=p).every(function(I){return Number.isFinite(I)})&&m.every(function(I){return"number"==typeof I})?(1===p.length&&(this.x*=_,this.y*=_,this.z*=_),2===p.length&&(this.x*=_,this.y*=M),3===p.length&&(this.x*=_,this.y*=M,this.z*=x)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var u=arguments.length,p=new Array(u),c=0;c<u;c++)p[c]=arguments[c];var m=p[0],_=p[1],M=p[2];if(m instanceof g.default.Vector)if(Number.isFinite(m.x)&&Number.isFinite(m.y)&&Number.isFinite(m.z)&&"number"==typeof m.x&&"number"==typeof m.y&&"number"==typeof m.z){var x=0===m.z&&0===this.z;if(0===m.x||0===m.y||!x&&0===m.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=m.x,this.y/=m.y,x||(this.z/=m.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(m))if(m.every(Number.isFinite)&&m.every(function(I){return"number"==typeof I})){if(m.some(function(I){return 0===I}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===m.length?(this.x/=m[0],this.y/=m[0],this.z/=m[0]):2===m.length?(this.x/=m[0],this.y/=m[1]):3===m.length&&(this.x/=m[0],this.y/=m[1],this.z/=m[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(p.every(Number.isFinite)&&p.every(function(I){return"number"==typeof I})){if(p.some(function(I){return 0===I}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===p.length&&(this.x/=m,this.y/=m,this.z/=m),2===p.length&&(this.x/=m,this.y/=_),3===p.length&&(this.x/=m,this.y/=_,this.z/=M)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var u=this.x,p=this.y,c=this.z;return u*u+p*p+c*c}},{key:"dot",value:function(u,p,c){return u instanceof g.default.Vector?this.dot(u.x,u.y,u.z):this.x*(u||0)+this.y*(p||0)+this.z*(c||0)}},{key:"cross",value:function(m){var p=this.y*m.z-this.z*m.y,c=this.z*m.x-this.x*m.z;return m=this.x*m.y-this.y*m.x,this.isPInst?new g.default.Vector(this._fromRadians,this._toRadians,p,c,m):new g.default.Vector(p,c,m)}},{key:"dist",value:function(u){return u.copy().sub(this).mag()}},{key:"normalize",value:function(){var u=this.mag();return 0!==u&&this.mult(1/u),this}},{key:"limit",value:function(u){var p=this.magSq();return u*u<p&&this.div(Math.sqrt(p)).mult(u),this}},{key:"setMag",value:function(u){return this.normalize().mult(u)}},{key:"heading",value:function(){var u=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(u):u}},{key:"setHeading",value:function(u){this.isPInst&&(u=this._toRadians(u));var p=this.mag();return this.x=p*Math.cos(u),this.y=p*Math.sin(u),this}},{key:"rotate",value:function(p){p=this.heading()+p;var c=(this.isPInst&&(p=this._toRadians(p)),this.mag());return this.x=Math.cos(p)*c,this.y=Math.sin(p)*c,this}},{key:"angleBetween",value:function(u){var p;return this.magSq()*u.magSq()==0?NaN:(p=this.cross(u),u=Math.atan2(p.mag(),this.dot(u))*Math.sign(p.z||1),this.isPInst?this._fromRadians(u):u)}},{key:"lerp",value:function(u,p,c,m){return u instanceof g.default.Vector?this.lerp(u.x,u.y,u.z,p):(this.x+=(u-this.x)*m||0,this.y+=(p-this.y)*m||0,this.z+=(c-this.z)*m||0,this)}},{key:"slerp",value:function(u,p){if(0!==p){if(1===p)return this.set(u);var c=this.mag(),m=u.mag();if(c*m==0)this.mult(1-p).add(u.x*p,u.y*p,u.z*p);else{var _=this.cross(u),M=_.mag(),x=Math.atan2(M,this.dot(u));if(0<M)_.x/=M,_.y/=M,_.z/=M;else{if(x<.5*Math.PI)return this.mult(1-p).add(u.x*p,u.y*p,u.z*p),this;0===this.z&&0===u.z?_.set(0,0,1):0!==this.x?_.set(this.y,-this.x,0).normalize():_.set(1,0,0)}M=_.cross(this),_=(u=1-p+p*m/c)*Math.cos(p*x),m=u*Math.sin(p*x),this.x=this.x*_+M.x*m,this.y=this.y*_+M.y*m,this.z=this.z*_+M.z*m}}return this}},{key:"reflect",value:function(u){return u=g.default.Vector.normalize(u),this.sub(u.mult(2*this.dot(u)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(M,p,c){var m,_;return M=M instanceof g.default.Vector?(m=M.x||0,_=M.y||0,M.z||0):Array.isArray(M)?(m=M[0]||0,_=M[1]||0,M[2]||0):(m=M||0,_=p||0,c||0),this.x===m&&this.y===_&&this.z===M}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(u){return Math.abs(+(u||0))<=Number.EPSILON?0:u}}])&&w(a.prototype,d),f&&w(a,f),l}();var s=g.default.Vector;V.default=s},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(C,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(C=C("../core/main"))&&C.__esModule?C:{default:C},b="_lcg_random_state",g=4294967296,y=0;v.default.prototype._lcg=function(w){return this[w]=(1664525*this[w]+1013904223)%g,this[w]/g},v.default.prototype._lcgSetSeed=function(w,s){this[w]=(null==s?Math.random()*g:s)>>>0},v.default.prototype.randomSeed=function(w){this._lcgSetSeed(b,w),this._gaussian_previous=!1},v.default.prototype.random=function(w,s){var l,a;return v.default._validateParameters("random",arguments),l=null!=this[b]?this._lcg(b):Math.random(),void 0===w?l:void 0===s?Array.isArray(w)?w[Math.floor(l*w.length)]:l*w:(s<w&&(a=w,w=s,s=a),l*(s-w)+w)},v.default.prototype.randomGaussian=function(w){var s,l,a,d,f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)s=y,this._gaussian_previous=!1;else{for(;1<=(d=(l=this.random(2)-1)*l+(a=this.random(2)-1)*a););s=l*(d=Math.sqrt(-2*Math.log(d)/d)),y=a*d,this._gaussian_previous=!0}return s*f+(w||0)},V.default=C=v.default},{"../core/main":283}],318:[function(o,se,V){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(s)}function b(s){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=(w=o("../core/main"))&&w.__esModule?w:{default:w},y=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==b(s)&&"function"!=typeof s)return{default:s};var l=C();if(l&&l.has(s))return l.get(s);var a,d={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var u;Object.prototype.hasOwnProperty.call(s,a)&&((u=f?Object.getOwnPropertyDescriptor(s,a):null)&&(u.get||u.set)?Object.defineProperty(d,a,u):d[a]=s[a])}return d.default=s,l&&l.set(s,d),d}(o("../core/constants"));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}g.default.prototype._angleMode=y.RADIANS,g.default.prototype.acos=function(s){return this._fromRadians(Math.acos(s))},g.default.prototype.asin=function(s){return this._fromRadians(Math.asin(s))},g.default.prototype.atan=function(s){return this._fromRadians(Math.atan(s))},g.default.prototype.atan2=function(s,l){return this._fromRadians(Math.atan2(s,l))},g.default.prototype.cos=function(s){return Math.cos(this._toRadians(s))},g.default.prototype.sin=function(s){return Math.sin(this._toRadians(s))},g.default.prototype.tan=function(s){return Math.tan(this._toRadians(s))},g.default.prototype.degrees=function(s){return s*y.RAD_TO_DEG},g.default.prototype.radians=function(s){return s*y.DEG_TO_RAD},g.default.prototype.angleMode=function(s){if(g.default._validateParameters("angleMode",arguments),void 0===s)return this._angleMode;s!==y.DEGREES&&s!==y.RADIANS||s!==this._angleMode&&(s===y.RADIANS?(this._setProperty("pRotationX",this.pRotationX*y.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*y.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*y.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*y.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*y.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*y.RAD_TO_DEG)),this._angleMode=s)},g.default.prototype._toRadians=function(s){return this._angleMode===y.DEGREES?s*y.DEG_TO_RAD:s},g.default.prototype._toDegrees=function(s){return this._angleMode===y.RADIANS?s*y.RAD_TO_DEG:s},g.default.prototype._fromRadians=function(s){return this._angleMode===y.DEGREES?s*y.RAD_TO_DEG:s},g.default.prototype._fromDegrees=function(s){return this._angleMode===y.RADIANS?s*y.DEG_TO_RAD:s};var w=g.default;V.default=w},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(o,se,V){"use strict";o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.textAlign=function(b,g){var y;return v.default._validateParameters("textAlign",arguments),(y=this._renderer).textAlign.apply(y,arguments)},v.default.prototype.textLeading=function(b){var g;return v.default._validateParameters("textLeading",arguments),(g=this._renderer).textLeading.apply(g,arguments)},v.default.prototype.textSize=function(b){var g;return v.default._validateParameters("textSize",arguments),(g=this._renderer).textSize.apply(g,arguments)},v.default.prototype.textStyle=function(b){var g;return v.default._validateParameters("textStyle",arguments),(g=this._renderer).textStyle.apply(g,arguments)},v.default.prototype.textWidth=function(){for(var b=arguments.length,g=new Array(b),y=0;y<b;y++)g[y]=arguments[y];if(g[0]+="",v.default._validateParameters("textWidth",g),0===g[0].length)return 0;for(var C=g[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),w=[],s=0;s<C.length;s++)w.push(this._renderer.textWidth(C[s]));return Math.max.apply(Math,w)},v.default.prototype.textAscent=function(){for(var b=arguments.length,g=new Array(b),y=0;y<b;y++)g[y]=arguments[y];return v.default._validateParameters("textAscent",g),this._renderer.textAscent()},v.default.prototype.textDescent=function(){for(var b=arguments.length,g=new Array(b),y=0;y<b;y++)g[y]=arguments[y];return v.default._validateParameters("textDescent",g),this._renderer.textDescent()},v.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},v.default.prototype.textWrap=function(b){return v.default._validateParameters("textWrap",[b]),this._renderer.textWrap(b)},V.default=o=v.default},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(o,se,V){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}function b(a){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.split"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=(l=o("../core/main"))&&l.__esModule?l:{default:l},y=s(o("../core/constants")),C=s(o("opentype.js"));function w(){var a;return"function"!=typeof WeakMap?null:(w=function(){return a},a=new WeakMap)}function s(a){if(a&&a.__esModule)return a;if(null===a||"object"!==b(a)&&"function"!=typeof a)return{default:a};var d=w();if(d&&d.has(a))return d.get(a);var f,u,p={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in a)Object.prototype.hasOwnProperty.call(a,f)&&((u=c?Object.getOwnPropertyDescriptor(a,f):null)&&(u.get||u.set)?Object.defineProperty(p,f,u):p[f]=a[f]);return p.default=a,d&&d.set(a,p),p}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),g.default.prototype.loadFont=function(a,d,f){g.default._validateParameters("loadFont",arguments);var u=new g.default.Font(this),p=this;return C.load(a,function(_,M){if(_)return g.default._friendlyFileLoadError(4,a),void 0!==f?f(_):void console.error(_,a);u.font=M,void 0!==d&&d(u),p._decrementPreload();var x=(M=(_=a.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:_.slice(M+1);["ttf","otf","woff","woff2"].includes(x)&&(x=_.slice(0,-1!==M?M:0),(_=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(x,";\nsrc: url(").concat(a,");\n}\n"))),document.head.appendChild(_))}),u},g.default.prototype.text=function(a,d,f,u,p){var c;return g.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(c=this._renderer).text.apply(c,arguments):this},g.default.prototype.textFont=function(a,d){if(g.default._validateParameters("textFont",arguments),arguments.length){if(a)return this._renderer._setProperty("_textFont",a),d&&(this._renderer._setProperty("_textSize",d),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",d*y._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var l=g.default;V.default=l},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(o,se,V){"use strict";function v(I){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(I)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.function.name"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var b=(b=o("../core/main"))&&b.__esModule?b:{default:b},g=function(I){if(I&&I.__esModule)return I;if(null===I||"object"!==C(I)&&"function"!=typeof I)return{default:I};var A=y();if(A&&A.has(I))return A.get(I);var H,P={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(H in I){var k;Object.prototype.hasOwnProperty.call(I,H)&&((k=z?Object.getOwnPropertyDescriptor(I,H):null)&&(k.get||k.set)?Object.defineProperty(P,H,k):P[H]=I[H])}return P.default=I,A&&A.set(I,P),P}(o("../core/constants"));function y(){var I;return"function"!=typeof WeakMap?null:(y=function(){return I},I=new WeakMap)}function C(I){return(C="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(A){return v(A)}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":v(A)})(I)}function w(I,A){for(var H=0;H<A.length;H++){var P=A[H];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(I,P.key,P)}}function s(I,A){var H=I.length;return I[A<0?A%H+H:A%H]}function l(I,A,H,P){var z,k,te;return P?(void 0===l.tmpPoint1&&(l.tmpPoint1=[],l.tmpPoint2=[]),te=l.tmpPoint2,(k=l.tmpPoint1).x=A.x-I.x,k.y=A.y-I.y,te.x=H.x-A.x,te.y=H.y-A.y,z=k.x*te.x+k.y*te.y,k=Math.sqrt(k.x*k.x+k.y*k.y),te=Math.sqrt(te.x*te.x+te.y*te.y),Math.acos(z/(k*te))<P):(A[0]-I[0])*(H[1]-I[1])-(H[0]-I[0])*(A[1]-I[1])==0}function a(R,pe,Q,Se,Ve,k,te,ne,G){var X=1-G,B=(N=Math.pow(X,3))*R+3*(K=Math.pow(X,2))*G*Q+3*X*G*G*Ve+(ie=(Y=G*G)*G)*te,N=N*pe+3*K*G*Se+3*X*G*G*k+ie*ne,K=R+2*G*(Q-R)+Y*(Ve-2*Q+R),ie=pe+2*G*(Se-pe)+Y*(k-2*Se+pe),Ae=Q+2*G*(Ve-Q)+Y*(te-2*Ve+Q),Y=Se+2*G*(k-Se)+Y*(ne-2*k+Se);return R=X*R+G*Q,Q=X*pe+G*Se,pe=X*Ve+G*te,Se=X*k+G*ne,Ve=90-180*Math.atan2(K-Ae,ie-Y)/Math.PI,(Ae<K||ie<Y)&&(Ve+=180),{x:B,y:N,m:{x:K,y:ie},n:{x:Ae,y:Y},start:{x:R,y:Q},end:{x:pe,y:Se},alpha:Ve}}function d(I,A,H,P,z,k,te,ne,G){return null==G?M(I,A,H,P,z,k,te,ne):a(I,A,H,P,z,k,te,ne,function(X,B,N,K,ie,Ae,Y,R,Q){if(!(Q<0||M(X,B,N,K,ie,Ae,Y,R)<Q)){var pe,Se=.5,Ve=1-Se;for(pe=M(X,B,N,K,ie,Ae,Y,R,Ve);.01<Math.abs(pe-Q);)pe=M(X,B,N,K,ie,Ae,Y,R,Ve+=(pe<Q?1:-1)*(Se/=2));return Ve}}(I,A,H,P,z,k,te,ne,G))}function f(I,A,H){for(var P,z,k,te,ne,G=0,X=0,B=(I=function(N,K){function ie(Qe,st,Tt){var on,Ut;if(!Qe)return["C",st.x,st.y,st.x,st.y,st.x,st.y];switch(Qe[0]in{T:1,Q:1}||(st.qx=st.qy=null),Qe[0]){case"M":st.X=Qe[1],st.Y=Qe[2];break;case"A":Qe=["C"].concat(p.apply(0,[st.x,st.y].concat(Qe.slice(1))));break;case"S":Ut="C"===Tt||"S"===Tt?(on=2*st.x-st.bx,2*st.y-st.by):(on=st.x,st.y),Qe=["C",on,Ut].concat(Qe.slice(1));break;case"T":"Q"===Tt||"T"===Tt?(st.qx=2*st.x-st.qx,st.qy=2*st.y-st.qy):(st.qx=st.x,st.qy=st.y),Qe=["C"].concat(_(st.x,st.y,st.qx,st.qy,Qe[1],Qe[2]));break;case"Q":st.qx=Qe[1],st.qy=Qe[2],Qe=["C"].concat(_(st.x,st.y,Qe[1],Qe[2],Qe[3],Qe[4]));break;case"L":Qe=["C"].concat(m(st.x,st.y,Qe[1],Qe[2]));break;case"H":Qe=["C"].concat(m(st.x,st.y,Qe[1],st.y));break;case"V":Qe=["C"].concat(m(st.x,st.y,st.x,Qe[1]));break;case"Z":Qe=["C"].concat(m(st.x,st.y,st.X,st.Y))}return Qe}function Ae(Qe,st){if(7<Qe[st].length){Qe[st].shift();for(var Tt=Qe[st];Tt.length;)qe[st]="A",pe&&(pt[st]="A"),Qe.splice(st++,0,["C"].concat(Tt.splice(0,6)));Qe.splice(st,1),R=Math.max(Q.length,pe&&pe.length||0)}}function Y(Qe,st,Tt,on,Ut){Qe&&st&&"M"===Qe[Ut][0]&&"M"!==st[Ut][0]&&(st.splice(Ut,0,["M",on.x,on.y]),Tt.bx=0,Tt.by=0,Tt.x=Qe[Ut][1],Tt.y=Qe[Ut][2],R=Math.max(Q.length,pe&&pe.length||0))}var R,Q=u(N),pe=K,Se={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ve={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},qe=[],pt=[],We="",ct="";R=Math.max(Q.length,pe&&pe.length||0);for(var dt=0;dt<R;dt++){"C"!==(We=Q[dt]?Q[dt][0]:We)&&(qe[dt]=We,dt&&(ct=qe[dt-1])),Q[dt]=ie(Q[dt],Se,ct),"A"!==qe[dt]&&"C"===We&&(qe[dt]="C"),Ae(Q,dt),pe&&("C"!==(We=pe[dt]?pe[dt][0]:We)&&(pt[dt]=We,dt&&(ct=pt[dt-1])),pe[dt]=ie(pe[dt],Ve,ct),"A"!==pt[dt]&&"C"===We&&(pt[dt]="C"),Ae(pe,dt)),Y(Q,pe,Se,Ve,dt),Y(pe,Q,Ve,Se,dt);var $e=Q[dt],Ze=pe&&pe[dt],Je=$e.length,at=pe&&Ze.length;Se.x=$e[Je-2],Se.y=$e[Je-1],Se.bx=parseFloat($e[Je-4])||Se.x,Se.by=parseFloat($e[Je-3])||Se.y,Ve.bx=pe&&(parseFloat(Ze[at-4])||Ve.x),Ve.by=pe&&(parseFloat(Ze[at-3])||Ve.y),Ve.x=pe&&Ze[at-2],Ve.y=pe&&Ze[at-1]}return pe?[Q,pe]:Q}(I)).length;X<B;X++){if("M"===(k=I[X])[0])P=+k[1],z=+k[2];else{if(A<G+(te=d(P,z,k[1],k[2],k[3],k[4],k[5],k[6]))&&!H)return{x:(ne=d(P,z,k[1],k[2],k[3],k[4],k[5],k[6],A-G)).x,y:ne.y,alpha:ne.alpha};G+=te,P=+k[5],z=+k[6]}k.shift()}return(ne=H?G:a(P,z,k[0],k[1],k[2],k[3],k[4],k[5],1)).alpha?{x:ne.x,y:ne.y,alpha:ne.alpha}:ne}function u(I){var A=[],H=0,P=0,z=0,k=0,te=0;if(I){"M"===I[0][0]&&(z=H=+I[0][1],k=P=+I[0][2],te++,A[0]=["M",H,P]);for(var ne,G,X=3===I.length&&"M"===I[0][0]&&"R"===I[1][0].toUpperCase()&&"Z"===I[2][0].toUpperCase(),B=te,N=I.length;B<N;B++){if(A.push(ne=[]),(G=I[B])[0]!==G[0].toUpperCase())switch(ne[0]=G[0].toUpperCase(),ne[0]){case"A":ne[1]=G[1],ne[2]=G[2],ne[3]=G[3],ne[4]=G[4],ne[5]=G[5],ne[6]=+(G[6]+H),ne[7]=+(G[7]+P);break;case"V":ne[1]=+G[1]+P;break;case"H":ne[1]=+G[1]+H;break;case"R":for(var K,ie=2,Ae=(K=[H,P].concat(G.slice(1))).length;ie<Ae;ie++)K[ie]=+K[ie]+H,K[++ie]=+K[ie]+P;A.pop(),A=A.concat(c(K,X));break;case"M":z=+G[1]+H,k=+G[2]+P;break;default:for(var Y=1,R=G.length;Y<R;Y++)ne[Y]=+G[Y]+(Y%2?H:P)}else if("R"===G[0])K=[H,P].concat(G.slice(1)),A.pop(),A=A.concat(c(K,X)),ne=["R"].concat(G.slice(-2));else for(var Q=0,pe=G.length;Q<pe;Q++)ne[Q]=G[Q];switch(ne[0]){case"Z":H=z,P=k;break;case"H":H=ne[1];break;case"V":P=ne[1];break;case"M":z=ne[ne.length-2],k=ne[ne.length-1];break;default:H=ne[ne.length-2],P=ne[ne.length-1]}}}return A}function p(I,A,H,P,pe,qe,Se,ne,G,X){function B(at,Qe,st){return{x:at*Math.cos(st)-Qe*Math.sin(st),y:at*Math.sin(st)+Qe*Math.cos(st)}}var N,Q=120*(R=Math.PI)/180,K=R/180*(+pe||0),ie=[],Ae=(X?(dt=X[0],N=X[1],We=X[2],ct=X[3]):(I=(Ve=B(I,A,-K)).x,A=Ve.y,1<(Ae=(Y=(I-(ne=(Ve=B(ne,G,-K)).x))/2)*Y/(H*H)+(Ve=(A-(G=Ve.y))/2)*Ve/(P*P))&&(H*=Ae=Math.sqrt(Ae),P*=Ae),Ae=H*H,pt=P*P,We=(qe=(qe===Se?-1:1)*Math.sqrt(Math.abs((Ae*pt-Ae*Ve*Ve-pt*Y*Y)/(Ae*Ve*Ve+pt*Y*Y))))*H*Ve/P+(I+ne)/2,ct=qe*-P*Y/H+(A+G)/2,dt=Math.asin(((A-ct)/P).toFixed(9)),N=Math.asin(((G-ct)/P).toFixed(9)),(dt=I<We?R-dt:dt)<0&&(dt=2*R+dt),(N=ne<We?R-N:N)<0&&(N=2*R+N),Se&&N<dt&&(dt-=2*R),!Se&&dt<N&&(N-=2*R)),N-dt),Y=(Math.abs(Ae)>Q&&(pt=N,Ve=ne,qe=G,N=dt+Q*(Se&&dt<N?1:-1),ie=p(ne=We+H*Math.cos(N),G=ct+P*Math.sin(N),H,P,pe,0,Se,Ve,qe,[N,pt,We,ct])),Ae=N-dt,Math.cos(dt)),R=Math.sin(dt),Ve=(Q=Math.cos(N),pe=Math.sin(N),4/3*H*(Se=Math.tan(Ae/4))),pt=[I,A],We=[I+Ve*R,A-(qe=4/3*P*Se)*Y],ct=[ne+Ve*pe,G-qe*Q],dt=[ne,G];if(We[0]=2*pt[0]-We[0],We[1]=2*pt[1]-We[1],X)return[We,ct,dt].concat(ie);for(var $e=[],Ze=0,Je=(ie=[We,ct,dt].concat(ie).join().split(",")).length;Ze<Je;Ze++)$e[Ze]=Ze%2?B(ie[Ze-1],ie[Ze],K).y:B(ie[Ze],ie[Ze+1],K).x;return $e}function c(I,A){for(var H=[],P=0,z=I.length;P<z-2*!A;P+=2){var k=[{x:+I[P-2],y:+I[P-1]},{x:+I[P],y:+I[P+1]},{x:+I[P+2],y:+I[P+3]},{x:+I[P+4],y:+I[P+5]}];A?P?z-4===P?k[3]={x:+I[0],y:+I[1]}:z-2===P&&(k[2]={x:+I[0],y:+I[1]},k[3]={x:+I[2],y:+I[3]}):k[0]={x:+I[z-2],y:+I[z-1]}:z-4===P?k[3]=k[2]:P||(k[0]={x:+I[P],y:+I[P+1]}),H.push(["C",(6*k[1].x-k[0].x+k[2].x)/6,(6*k[1].y-k[0].y+k[2].y)/6,(k[1].x+6*k[2].x-k[3].x)/6,(k[1].y+6*k[2].y-k[3].y)/6,k[2].x,k[2].y])}return H}function m(I,A,H,P){return[I,A,H,P,H,P]}function _(I,A,H,P,z,k){return[1/3*I+2/3*H,1/3*A+2/3*P,1/3*z+2/3*H,1/3*k+2/3*P,z,k]}function M(I,A,H,P,z,k,te,ne,G){for(var X=(G=1<(G=null==G?1:G)?1:G<0?0:G)/2,B=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],N=0,K=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],ie=0;ie<12;ie++){var Ae=x(Y=X*B[ie]+X,I,H,z,te),Y=x(Y,A,P,k,ne);N+=K[ie]*Math.sqrt(Ae*Ae+Y*Y)}return X*N}function x(I,A,H,P,z){return I*(I*(-3*A+9*H-9*P+3*z)+6*A-12*H+6*P)-3*A+3*H}b.default.Font=function(){function I(z){if(!(this instanceof I))throw new TypeError("Cannot call a class as a function");this.parent=z,this.cache={},this.font=void 0}var A,H;return A=I,(H=[{key:"textBounds",value:function(z){var k=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,te=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,ne=4<arguments.length?arguments[4]:void 0,G=ne&&ne.renderer&&ne.renderer._pInst||this.parent,X=G._renderer.drawingContext,B=(B=3<arguments.length?arguments[3]:void 0)||G._renderer._textSize;if(!qe){for(var N=[],K=[],ie=[],Ae=(ie[0]=[],[]),Y=this._scale(B),R=G._renderer.textLeading(),Q=0,pe=(this.font.forEachGlyph(z,k,te,B,ne,function(ct,dt,$e,Ze){var Je=ct.getMetrics();0===ct.index?ie[Q+=1]=[]:(ie[Q].push(dt+Je.xMin*Y),ie[Q].push(dt+Je.xMax*Y),Ae.push($e+Q*R+-Je.yMin*Y),Ae.push($e+Q*R+-Je.yMax*Y))}),0<ie[Q].length&&(N[Q]=Math.min.apply(null,ie[Q]),K[Q]=Math.max.apply(null,ie[Q])),0),Se=0;Se<=Q;Se++){N[Se]=Math.min.apply(null,ie[Se]),K[Se]=Math.max.apply(null,ie[Se]);var Ve=K[Se]-N[Se];pe<Ve&&(pe=Ve)}var qe={x:X=Math.min.apply(null,N),y:te=Math.min.apply(null,Ae),h:Math.max.apply(null,Ae)-te,w:pe,advance:X-k};B=this._handleAlignment(G._renderer,z,qe.x,qe.y,qe.w+qe.advance),qe.x=B.x,qe.y=B.y}return qe}},{key:"textToPoints",value:function(z,k,te,ne,G){var X=k,B=[],N=z.split(/\r?\n|\r|\n/g);ne=ne||this.parent._renderer._textSize;for(var K,ie,Ae,Y=0;Y<N.length;Y++){var R=0;k=X;for(var Q=(Q=N[Y]).replace("\t","  "),pe=this._getGlyphs(Q),Se=0;Se<pe.length;Se++){if(ie=Q,!((Ae=pe)[K=Se].name&&"space"===Ae[K].name||ie.length===Ae.length&&" "===ie[K]))for(var Ve=function(ct){for(var dt,$e=[],Ze=0;Ze<ct.length;Ze++)"M"===ct[Ze].type&&(dt&&$e.push(dt),dt=[]),dt.push((at=void 0,at=[(Je=ct[Ze]).type],"M"===Je.type||"L"===Je.type?at.push(Je.x,Je.y):"C"===Je.type?at.push(Je.x1,Je.y1,Je.x2,Je.y2,Je.x,Je.y):"Q"===Je.type&&at.push(Je.x1,Je.y1,Je.x,Je.y),at));var Je,at;return $e.push(dt),$e}(pe[Se].getPath(k,te,ne).commands),qe=0;qe<Ve.length;qe++)for(var pt=function(ct,dt){dt=function(st,Tt){if("object"!==C(st))st=Tt;else for(var on in Tt)void 0===st[on]&&(st[on]=Tt[on]);return st}(dt,{sampleFactor:.1,simplifyThreshold:0});for(var $e=f(ct,0,1),Ze=$e/($e*dt.sampleFactor),Je=[],at=0;at<$e;at+=Ze)Je.push(f(ct,at));return dt.simplifyThreshold&&function(Qe){for(var st=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,on=Qe.length-1;3<Qe.length&&0<=on;--on)l(s(Qe,on-1),s(Qe,on),s(Qe,on+1),st)&&Qe.splice(on%Qe.length,1)}(Je,dt.simplifyThreshold),Je}(Ve[qe],G),We=0;We<pt.length;We++)pt[We].x+=R,B.push(pt[We]);R+=pe[Se].advanceWidth*this._scale(ne)}te+=this.parent._renderer._textLeading}return B}},{key:"_getGlyphs",value:function(z){return this.font.stringToGlyphs(z)}},{key:"_getPath",value:function(z,X,te,ne){var G=(ne&&ne.renderer&&ne.renderer._pInst||this.parent)._renderer;return X=this._handleAlignment(G,z,X,te),this.font.getPath(z,X.x,X.y,G._textSize,ne)}},{key:"_getPathData",value:function(z,k,te,ne){var G=3;return"string"==typeof z&&2<arguments.length?z=this._getPath(z,k,te,ne):"object"===C(k)&&(ne=k),ne&&"number"==typeof ne.decimals&&(G=ne.decimals),z.toPathData(G)}},{key:"_getSVG",value:function(z,k,te,ne){var G=3;return"string"==typeof z&&2<arguments.length?z=this._getPath(z,k,te,ne):"object"===C(k)&&(ne=k),ne&&("number"==typeof ne.decimals&&(G=ne.decimals),"number"==typeof ne.strokeWidth&&(z.strokeWidth=ne.strokeWidth),void 0!==ne.fill&&(z.fill=ne.fill),void 0!==ne.stroke&&(z.stroke=ne.stroke)),z.toSVG(G)}},{key:"_renderPath",value:function(B,K,ie,ne){var G=ne&&ne.renderer||this.parent._renderer,X=G.drawingContext,N=(B=("object"===C(B)&&B.commands?B:this._getPath(B,K,ie,ne)).commands,G._clipping||X.beginPath(),!0);K=!1,ie=void 0;try{for(var Ae,Y=B[Symbol.iterator]();!(N=(Ae=Y.next()).done);N=!0){var R=Ae.value;"M"===R.type?X.moveTo(R.x,R.y):"L"===R.type?X.lineTo(R.x,R.y):"C"===R.type?X.bezierCurveTo(R.x1,R.y1,R.x2,R.y2,R.x,R.y):"Q"===R.type?X.quadraticCurveTo(R.x1,R.y1,R.x,R.y):"Z"===R.type&&X.closePath()}}catch(Q){K=!0,ie=Q}finally{try{N||null==Y.return||Y.return()}finally{if(K)throw ie}}return G._doStroke&&G._strokeSet&&!G._clipping&&X.stroke(),G._doFill&&!G._clipping&&(G._fillSet||G._setFill(g._DEFAULT_TEXT_FILL),X.fill()),this}},{key:"_textWidth",value:function(z,k){return this.font.getAdvanceWidth(z,k)}},{key:"_textAscent",value:function(z){return this.font.ascender*this._scale(z)}},{key:"_textDescent",value:function(z){return-this.font.descender*this._scale(z)}},{key:"_scale",value:function(z){return 1/this.font.unitsPerEm*(z||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(z,k,te,ne,G){var X=z._textSize;switch(void 0===G&&(G=this._textWidth(k,X)),z._textAlign){case g.CENTER:te-=G/2;break;case g.RIGHT:te-=G}switch(z._textBaseline){case g.TOP:ne+=this._textAscent(X);break;case g.CENTER:ne+=this._textAscent(X)/2;break;case g.BOTTOM:ne-=this._textDescent(X)}return{x:te,y:ne}}}])&&w(A.prototype,H),I}(),V.default=o=b.default},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(o,se,V){"use strict";o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.object.to-string"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.append=function(v,b){return v.push(b),v},o.default.prototype.arrayCopy=function(v,b,g,y,C){var w,s;v=void 0!==C?(s=Math.min(C,v.length),w=y,v.slice(b,s+b)):(s=void 0!==g?(s=g,Math.min(s,v.length)):v.length,g=b,v.slice(w=0,s)),Array.prototype.splice.apply(g,[w,s].concat(v))},o.default.prototype.concat=function(v,b){return v.concat(b)},o.default.prototype.reverse=function(v){return v.reverse()},o.default.prototype.shorten=function(v){return v.pop(),v},o.default.prototype.shuffle=function(v,b){for(var g,y,C=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v),w=(v=b||C?v:v.slice()).length;1<w;)g=this.random(0,1)*w|0,y=v[--w],v[w]=v[g],v[g]=y;return v},o.default.prototype.sort=function(v,y){var g=y?v.slice(0,Math.min(y,v.length)):v;return y=y?v.slice(Math.min(y,v.length)):[],(g="string"==typeof g[0]?g.sort():g.sort(function(C,w){return C-w})).concat(y)},o.default.prototype.splice=function(v,b,g){return Array.prototype.splice.apply(v,[g,0].concat(b)),v},o.default.prototype.subset=function(v,b,g){return v.slice(b,void 0!==g?b+g:v.length)},V.default=o=o.default},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(o,se,V){"use strict";o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),o("core-js/modules/es.array.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.repeat"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.float=function(b){return b instanceof Array?b.map(parseFloat):parseFloat(b)},v.default.prototype.int=function(b){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return b===1/0||"Infinity"===b?1/0:b===-1/0||"-Infinity"===b?-1/0:"string"==typeof b?parseInt(b,g):"number"==typeof b?0|b:"boolean"==typeof b?b?1:0:b instanceof Array?b.map(function(y){return v.default.prototype.int(y,g)}):void 0},v.default.prototype.str=function(b){return b instanceof Array?b.map(v.default.prototype.str):String(b)},v.default.prototype.boolean=function(b){return"number"==typeof b?0!==b:"string"==typeof b?"true"===b.toLowerCase():"boolean"==typeof b?b:b instanceof Array?b.map(v.default.prototype.boolean):void 0},v.default.prototype.byte=function(b){return"number"==typeof(b=v.default.prototype.int(b,10))?(b+128)%256-128:b instanceof Array?b.map(v.default.prototype.byte):void 0},v.default.prototype.char=function(b){return"number"!=typeof b||isNaN(b)?b instanceof Array?b.map(v.default.prototype.char):"string"==typeof b?v.default.prototype.char(parseInt(b,10)):void 0:String.fromCharCode(b)},v.default.prototype.unchar=function(b){return"string"==typeof b&&1===b.length?b.charCodeAt(0):b instanceof Array?b.map(v.default.prototype.unchar):void 0},v.default.prototype.hex=function(b,g){if(g=null==g?8:g,b instanceof Array)return b.map(function(C){return v.default.prototype.hex(C,g)});if(b===1/0||b===-1/0)return(b===1/0?"F":"0").repeat(g);if("number"==typeof b){b<0&&(b=4294967295+b+1);for(var y=Number(b).toString(16).toUpperCase();y.length<g;)y="0".concat(y);return y.length>=g?y.substring(y.length-g,y.length):y}},v.default.prototype.unhex=function(b){return b instanceof Array?b.map(v.default.prototype.unhex):parseInt("0x".concat(b),16)},V.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(o,se,V){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.pad-start"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.pad-start"),o("core-js/modules/es.string.replace"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(s=o("../core/main"))&&s.__esModule?s:{default:s};function b(l,a){return function(d){if(Array.isArray(d))return d}(l)||function(d,f){if(Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d)){var u=[],p=!0,c=!1,m=void 0;try{for(var _,M=d[Symbol.iterator]();!(p=(_=M.next()).done)&&(u.push(_.value),!f||u.length!==f);p=!0);}catch(x){c=!0,m=x}finally{try{p||null==M.return||M.return()}finally{if(c)throw m}}return u}}(l,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(l,a,d){var f=(u=b(l.toString().split("."),2))[0],u=u[1];return void 0===d?(f=f.padStart(a,"0"),u?f+"."+u:f):(f=(l=b(l.toFixed(d).toString().split("."),2))[0],u=l[1],f=f.padStart(a,"0"),void 0===u?f:f+"."+u)}function y(u,a){var d=(u=u.toString()).indexOf("."),f=-1!==d?u.substring(d):"";if(u=(u=-1!==d?u.substring(0,d):u).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===a)f="";else if(void 0!==a)if(a>f.length)for(var p=a-(f+=-1===d?".":"").length+1,c=0;c<p;c++)f+="0";else f=f.substring(0,a+1);return u+f}function C(l){return 0<parseFloat(l)?"+".concat(l.toString()):l.toString()}function w(l){return 0<=parseFloat(l)?" ".concat(l.toString()):l.toString()}o("../core/friendly_errors/validate_params"),o("../core/friendly_errors/file_errors"),o("../core/friendly_errors/fes_core"),v.default.prototype.join=function(l,a){return v.default._validateParameters("join",arguments),l.join(a)},v.default.prototype.match=function(l,a){return v.default._validateParameters("match",arguments),l.match(a)},v.default.prototype.matchAll=function(l,a){v.default._validateParameters("matchAll",arguments);for(var d=new RegExp(a,"g"),f=d.exec(l),u=[];null!==f;)u.push(f),f=d.exec(l);return u},v.default.prototype.nf=function(l,a,d){return v.default._validateParameters("nf",arguments),l instanceof Array?l.map(function(f){return g(f,a,d)}):"[object Arguments]"===Object.prototype.toString.call(l)?3===l.length?this.nf(l[0],l[1],l[2]):2===l.length?this.nf(l[0],l[1]):this.nf(l[0]):g(l,a,d)},v.default.prototype.nfc=function(l,a){return v.default._validateParameters("nfc",arguments),l instanceof Array?l.map(function(d){return y(d,a)}):y(l,a)},v.default.prototype.nfp=function(){for(var l=arguments.length,a=new Array(l),d=0;d<l;d++)a[d]=arguments[d];v.default._validateParameters("nfp",a);var f=v.default.prototype.nf.apply(this,a);return f instanceof Array?f.map(C):C(f)},v.default.prototype.nfs=function(){for(var l=arguments.length,a=new Array(l),d=0;d<l;d++)a[d]=arguments[d];v.default._validateParameters("nfs",a);var f=v.default.prototype.nf.apply(this,a);return f instanceof Array?f.map(w):w(f)},v.default.prototype.split=function(l,a){return v.default._validateParameters("split",arguments),l.split(a)},v.default.prototype.splitTokens=function(l,a){var d,f;return v.default._validateParameters("splitTokens",arguments),f=void 0!==a?(f=/\]/g.exec(a),(d=/\[/g.exec(a))&&f?(a=a.slice(0,f.index)+a.slice(f.index+1),d=/\[/g.exec(a),a=a.slice(0,d.index)+a.slice(d.index+1),new RegExp("[\\[".concat(a,"\\]]"),"g")):f?(a=a.slice(0,f.index)+a.slice(f.index+1),new RegExp("[".concat(a,"\\]]"),"g")):d?(a=a.slice(0,d.index)+a.slice(d.index+1),new RegExp("[".concat(a,"\\[]"),"g")):new RegExp("[".concat(a,"]"),"g")):/\s/g,l.split(f).filter(function(u){return u})},v.default.prototype.trim=function(l){return v.default._validateParameters("trim",arguments),l instanceof Array?l.map(this.trim):l.trim()};var s=v.default;V.default=s},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(o,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.prototype.day=function(){return(new Date).getDate()},o.default.prototype.hour=function(){return(new Date).getHours()},o.default.prototype.minute=function(){return(new Date).getMinutes()},o.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},o.default.prototype.month=function(){return(new Date).getMonth()+1},o.default.prototype.second=function(){return(new Date).getSeconds()},o.default.prototype.year=function(){return(new Date).getFullYear()},V.default=o=o.default},{"../core/main":283}],326:[function(o,se,V){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}function b(l){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.number.to-fixed"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=(s=o("../core/main"))&&s.__esModule?s:{default:s},y=(o("./p5.Geometry"),function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==b(l)&&"function"!=typeof l)return{default:l};var a=C();if(a&&a.has(l))return a.get(l);var d,f={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in l){var p;Object.prototype.hasOwnProperty.call(l,d)&&((p=u?Object.getOwnPropertyDescriptor(l,d):null)&&(p.get||p.set)?Object.defineProperty(f,d,p):f[d]=l[d])}return f.default=l,a&&a.set(l,f),f}(o("../core/constants")));function C(){var l;return"function"!=typeof WeakMap?null:(C=function(){return l},l=new WeakMap)}function w(l,a,d,f,u,p,c){l=l<=0?1:l,a=a<0?0:a,d=d<=0?l:d,f=f<3?3:f;for(var m,_,M=(p=void 0===p||p)?-2:0,x=(u=u<1?1:u)+((c=void 0===c?0!==a:c)?2:0),I=Math.atan2(l-a,d),A=Math.sin(I),H=Math.cos(I),P=M;P<=x;++P){var z=P/u,k=d*z,te=void 0;for(te=P<0?(z=k=0,l):u<P?(k=d,z=1,a):l+(a-l)*z,-2!==P&&P!==u+2||(te=0),k-=d/2,m=0;m<f;++m){var ne=m/(f-1),X=2*Math.PI*ne,G=Math.sin(X),B=(X=Math.cos(X),this.vertices.push(new g.default.Vector(G*te,k,X*te)));B=P<0?new g.default.Vector(0,-1,0):u<P&&a?new g.default.Vector(0,1,0):new g.default.Vector(G*H,A,X*H),this.vertexNormals.push(B),this.uvs.push(ne,z)}}var N=0;if(p){for(_=0;_<f;++_)this.faces.push([N+_,N+f+(_+1)%f,N+f+_]);N+=2*f}for(P=0;P<u;++P){for(m=0;m<f;++m){var K=(m+1)%f;this.faces.push([N+m,N+K,N+f+K]),this.faces.push([N+m,N+f+K,N+f+m])}N+=f}if(c)for(N+=f,m=0;m<f;++m)this.faces.push([N+m,N+(m+1)%f,N+f])}g.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},g.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},g.default.prototype.buildGeometry=function(l){return this._renderer.buildGeometry(l)},g.default.prototype.freeGeometry=function(l){this._renderer._freeBuffers(l.gid)},g.default.prototype.plane=function(){var l,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,p=(this._assert3d("plane"),g.default._validateParameters("plane",arguments),"plane|".concat(f,"|").concat(u));return this._renderer.geometryInHash(p)||((l=new g.default.Geometry(f,u,function(){for(var c,m,_=0;_<=this.detailY;_++)for(var M=_/this.detailY,x=0;x<=this.detailX;x++)m=new g.default.Vector((c=x/this.detailX)-.5,M-.5,0),this.vertices.push(m),this.uvs.push(c,M)})).computeFaces().computeNormals(),f<=1&&u<=1?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(p,l)),this._renderer.drawBuffersScaled(p,a,d,1),this},g.default.prototype.box=function(l,a,d,f,u){this._assert3d("box"),g.default._validateParameters("box",arguments),void 0===l&&(l=50),void 0===a&&(a=l),void 0===d&&(d=a);var p,c=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return void 0===u&&(u=c?1:4),c="box|".concat(f=void 0===f?c?1:4:f,"|").concat(u),this._renderer.geometryInHash(c)||((p=new g.default.Geometry(f,u,function(){var m=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(_,M){M*=4;for(var x=0;x<4;x++){var I=new g.default.Vector((2*(1&(I=_[x]))-1)/2,((2&I)-1)/2,((4&I)/2-1)/2);m.vertices.push(I),m.uvs.push(1&x,(2&x)/2)}m.faces.push([M,1+M,2+M]),m.faces.push([2+M,1+M,3+M])})})).computeNormals(),f<=4&&u<=4?p._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(c,p)),this._renderer.drawBuffersScaled(c,l,a,d),this},g.default.prototype.sphere=function(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:24,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16;return this._assert3d("sphere"),g.default._validateParameters("sphere",arguments),this.ellipsoid(l,l,l,a,d),this},g.default.prototype.cylinder=function(){var l,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,p=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],c=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],m=(this._assert3d("cylinder"),g.default._validateParameters("cylinder",arguments),"cylinder|".concat(f,"|").concat(u,"|").concat(p,"|").concat(c));return this._renderer.geometryInHash(m)||(l=new g.default.Geometry(f,u),w.call(l,1,1,1,f,u,p,c),f<=24&&u<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(m,l)),this._renderer.drawBuffersScaled(m,a,d,a),this},g.default.prototype.cone=function(){var l,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,p=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],c=(this._assert3d("cone"),g.default._validateParameters("cone",arguments),"cone|".concat(f,"|").concat(u,"|").concat(p));return this._renderer.geometryInHash(c)||(l=new g.default.Geometry(f,u),w.call(l,1,0,1,f,u,p,!1),f<=24&&u<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(c,l)),this._renderer.drawBuffersScaled(c,a,d,a),this},g.default.prototype.ellipsoid=function(){var l,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:a,u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:24,p=4<arguments.length&&void 0!==arguments[4]?arguments[4]:16,c=(this._assert3d("ellipsoid"),g.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(u,"|").concat(p));return this._renderer.geometryInHash(c)||((l=new g.default.Geometry(u,p,function(){for(var m=0;m<=this.detailY;m++)for(var _=m/this.detailY,M=Math.PI*_-Math.PI/2,x=Math.cos(M),I=Math.sin(M),A=0;A<=this.detailX;A++){var H=A/this.detailX,z=2*Math.PI*H,P=Math.cos(z);z=Math.sin(z),z=new g.default.Vector(x*z,I,x*P),this.vertices.push(z),this.vertexNormals.push(z),this.uvs.push(H,_)}})).computeFaces(),u<=24&&p<=24?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(c,l)),this._renderer.drawBuffersScaled(c,a,d,f),this},g.default.prototype.torus=function(l,c,d,f){if(this._assert3d("torus"),g.default._validateParameters("torus",arguments),void 0===l)l=50;else if(!l)return;if(void 0===c)c=10;else if(!c)return;void 0===d&&(d=24),void 0===f&&(f=16);var u,p=(c/l).toPrecision(4);return c="torus|".concat(p,"|").concat(d,"|").concat(f),this._renderer.geometryInHash(c)||((u=new g.default.Geometry(d,f,function(){for(var m=0;m<=this.detailY;m++)for(var _=m/this.detailY,M=2*Math.PI*_,x=Math.cos(M),I=Math.sin(M),A=1+p*x,H=0;H<=this.detailX;H++){var P=H/this.detailX,z=2*Math.PI*P,te=Math.cos(z),k=(z=Math.sin(z),new g.default.Vector(A*te,A*z,p*I));te=new g.default.Vector(x*te,x*z,I),this.vertices.push(k),this.vertexNormals.push(te),this.uvs.push(P,_)}})).computeFaces(),d<=24&&f<=16?u._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(c,u)),this._renderer.drawBuffersScaled(c,l,l,l),this},g.default.RendererGL.prototype.point=function(l,a){var d=[];return d.push(new g.default.Vector(l,a,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)),this._drawPoints(d,this.immediateMode.buffers.point),this},g.default.RendererGL.prototype.triangle=function(c){var a=c[0],d=c[1],f=c[2],u=c[3],p=c[4],m=(c=c[5],this.geometryInHash("tri")||((m=new g.default.Geometry(1,1,function(){var x=[];x.push(new g.default.Vector(0,0,0)),x.push(new g.default.Vector(1,0,0)),x.push(new g.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=x,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),m.computeNormals(),this.createBuffers("tri",m)),this.uModelMatrix.copy());try{var _=Math.sign(a*u-f*d+f*c-p*u+p*d-a*c),M=new g.default.Matrix([f-a,u-d,0,0,p-a,c-d,0,0,0,0,_,0,a,d,0,1]).mult(this.uModelMatrix);this.uModelMatrix=M,this.drawBuffers("tri")}finally{this.uModelMatrix=m}return this},g.default.RendererGL.prototype.ellipse=function(l){this.arc(l[0],l[1],l[2],l[3],0,y.TWO_PI,y.OPEN,l[4])},g.default.RendererGL.prototype.arc=function(){var l,a=arguments.length<=0?void 0:arguments[0],d=arguments.length<=1?void 0:arguments[1],f=arguments.length<=2?void 0:arguments[2],u=arguments.length<=3?void 0:arguments[3],p=arguments.length<=4?void 0:arguments[4],c=arguments.length<=5?void 0:arguments[5],m=arguments.length<=6?void 0:arguments[6],_=(arguments.length<=7?void 0:arguments[7])||25,M=(Math.abs(c-p)>=y.TWO_PI?"".concat(x="ellipse","|"):"".concat(x="arc","|").concat(p,"|").concat(c,"|").concat(m,"|")).concat(_,"|"),x=(this.geometryInHash(M)||((l=new g.default.Geometry(_,1,function(){if(p.toFixed(10)!==c.toFixed(10)){m!==y.PIE&&void 0!==m||(this.vertices.push(new g.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var I=0;I<=_;I++){var H=I/_*(c-p)+p,A=.5+Math.cos(H)/2;H=.5+Math.sin(H)/2,this.vertices.push(new g.default.Vector(A,H,0)),this.uvs.push([A,H]),I<_-1&&(this.faces.push([0,I+1,I+2]),this.edges.push([I+1,I+2]))}switch(m){case y.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case y.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case y.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),_<=50?l._edgesToVertices(l):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(x," with more than 50 detail")),this.createBuffers(M,l)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([a,d,0]),this.uModelMatrix.scale(f,u,1),this.drawBuffers(M)}finally{this.uModelMatrix=x}return this},g.default.RendererGL.prototype.rect=function(l){var a=l[0],d=l[1],f=l[2],u=l[3];if(void 0===l[4]){var m=this._pInst._glAttributes.perPixelLighting,p=l[4]||(m?1:24),c=l[5]||(m?1:16),_=(m="rect|".concat(p,"|").concat(c),this.geometryInHash(m)||((_=new g.default.Geometry(p,c,function(){for(var B=0;B<=this.detailY;B++)for(var N=B/this.detailY,K=0;K<=this.detailX;K++){var ie=K/this.detailX,Ae=new g.default.Vector(ie,N,0);this.vertices.push(Ae),this.uvs.push(ie,N)}0<p&&0<c&&(this.edges=[[0,p],[p,(p+1)*(c+1)-1],[(p+1)*(c+1)-1,(p+1)*c],[(p+1)*c,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(m,_)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([a,d,0]),this.uModelMatrix.scale(f,u,1),this.drawBuffers(m)}finally{this.uModelMatrix=_}}else{m=l[4],_=void 0===l[5]?m:l[5];var M=void 0===l[6]?_:l[6],z=(l=void 0===l[7]?M:l[7],f),x=u,I=((z+=a)<a&&(H=a,a=z,z=H),(x+=d)<d&&(H=d,d=x,x=H),(H=Math.min((z-a)/2,(x-d)/2))<m&&(m=H),H<_&&(_=H),H<M&&(M=H),H<l&&(l=H),a),A=d,H=z,P=(a=x,this.beginShape(),0!==_?(this.vertex(H-_,A),this.quadraticVertex(H,A,H,A+_)):this.vertex(H,A),0!==M?(this.vertex(H,a-M),this.quadraticVertex(H,a,H-M,a)):this.vertex(H,a),0!==l?(this.vertex(I+l,a),this.quadraticVertex(I,a,I,a-l)):this.vertex(I,a),0!==m?(this.vertex(I,A+m),this.quadraticVertex(I,A,I+m,A)):this.vertex(I,A),!(this.immediateMode.geometry.uvs.length=0));d=!1,z=void 0;try{for(var k,te=this.immediateMode.geometry.vertices[Symbol.iterator]();!(P=(k=te.next()).done);P=!0){var ne=k.value;this.immediateMode.geometry.uvs.push((ne.x-I)/f,(ne.y-A)/u)}}catch(Y){d=!0,z=Y}finally{try{P||null==te.return||te.return()}finally{if(d)throw z}}this.endShape(y.CLOSE)}return this},g.default.RendererGL.prototype.quad=function(l,a,d,f,u,p,c,m,_,M,x,I){var A=12<arguments.length&&void 0!==arguments[12]?arguments[12]:2,H=13<arguments.length&&void 0!==arguments[13]?arguments[13]:2,P="quad|".concat(l,"|").concat(a,"|").concat(d,"|").concat(f,"|").concat(u,"|").concat(p,"|").concat(c,"|").concat(m,"|").concat(_,"|").concat(M,"|").concat(x,"|").concat(I,"|").concat(A,"|").concat(H);if(!this.geometryInHash(P)){var z=new g.default.Geometry(A,H,function(){for(var K=1/(this.detailX-1),ie=1/(this.detailY-1),Ae=0;Ae<this.detailY;Ae++)for(var Y=0;Y<this.detailX;Y++){var R=Y*K,Q=Ae*ie;this.vertices.push(new g.default.Vector((1-R)*((1-Q)*l+Q*M)+R*((1-Q)*f+Q*c),(1-R)*((1-Q)*a+Q*x)+R*((1-Q)*u+Q*m),(1-R)*((1-Q)*d+Q*I)+R*((1-Q)*p+Q*_))),this.uvs.push([R,Q])}});z.faces=[];for(var k=0;k<H-1;k++)for(var te=0;te<A-1;te++){var ne=te+k*A,G=te+1+(k+1)*A,X=te+(k+1)*A;z.faces.push([ne,te+1+k*A,G]),z.faces.push([ne,G,X])}z.computeNormals();for(var B=[z.edges.length=0,2,3,1],N=0;N<B.length;N++)z.edges.push([B[N],B[(N+1)%B.length]]);z._edgesToVertices(),this.createBuffers(P,z)}return this.drawBuffers(P),this},g.default.RendererGL.prototype.bezier=function(l,a,d,f,u,p,c,m,_,M,x,I){8===arguments.length&&(x=m,M=c,m=p,c=u,u=f,f=d,d=p=_=I=0);var A=this._pInst._bezierDetail||20;this.beginShape();for(var H=0;H<=A;H++){var P=Math.pow(1-H/A,3),z=H/A*3*Math.pow(1-H/A,2),k=3*Math.pow(H/A,2)*(1-H/A),te=Math.pow(H/A,3);this.vertex(l*P+f*z+c*k+M*te,a*P+u*z+m*k+x*te,d*P+p*z+_*k+I*te)}return this.endShape(),this},g.default.RendererGL.prototype.curve=function(l,a,d,f,u,p,c,m,_,M,x,I){8===arguments.length&&(M=c,x=m,c=u,m=f,u=f=d,d=p=_=I=0);var A=this._pInst._curveDetail;this.beginShape();for(var H=0;H<=A;H++){var P=.5*Math.pow(H/A,3),z=.5*Math.pow(H/A,2),k=H/A*.5;this.vertex(P*(3*f-l-3*c+M)+z*(2*l-5*f+4*c-M)+k*(-l+c)+2*f*.5,P*(3*u-a-3*m+x)+z*(2*a-5*u+4*m-x)+k*(-a+m)+2*u*.5,P*(3*p-d-3*_+I)+z*(2*d-5*p+4*_-I)+k*(-d+_)+2*p*.5)}return this.endShape(),this},g.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(y.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(y.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},g.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var l,a,d,f,u,p,c=[],m=[],_=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var M=1/this._lutBezierDetail,x=0,I=1,A=0;x<1;){if(p=parseFloat(x.toFixed(6)),this._lookUpTableBezier[A]=this._bezierCoefficients(p),I.toFixed(6)===M.toFixed(6)){p=parseFloat(I.toFixed(6))+parseFloat(x.toFixed(6)),++A,this._lookUpTableBezier[A]=this._bezierCoefficients(p);break}x+=M,I-=M,++A}}for(var H=this._lookUpTableBezier.length,P=[],z=0;z<4;z++)P.push([]);P[0]=this.immediateMode.geometry.vertexColors.slice(-4),P[3]=this.curFillColor.slice();var k=[];for(z=0;z<4;z++)k.push([]);if(k[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),k[3]=this.curStrokeColor.slice(),6===_){this.isBezier=!0,c=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],m=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var te=Math.hypot(c[0]-c[1],m[0]-m[1]),G=Math.hypot(c[1]-c[2],m[1]-m[2]),ne=Math.hypot(c[2]-c[3],m[2]-m[3]);for(te/=G=te+G+ne,ne/=G,u=0;u<4;u++)P[1].push(P[0][u]*(1-te)+P[3][u]*te),P[2].push(P[0][u]*ne+P[3][u]*(1-ne)),k[1].push(k[0][u]*(1-te)+k[3][u]*te),k[2].push(k[0][u]*ne+k[3][u]*(1-ne));for(f=0;f<H;f++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],z=l=a=0;z<4;z++){for(u=0;u<4;u++)this.curFillColor[u]+=this._lookUpTableBezier[f][z]*P[z][u],this.curStrokeColor[u]+=this._lookUpTableBezier[f][z]*k[z][u];l+=c[z]*this._lookUpTableBezier[f][z],a+=m[z]*this._lookUpTableBezier[f][z]}this.vertex(l,a)}this.curFillColor=P[3],this.curStrokeColor=k[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===_){this.isBezier=!0,c=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],m=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var X=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],B=Math.hypot(c[0]-c[1],m[0]-m[1],X[0]-X[1]),N=(G=Math.hypot(c[1]-c[2],m[1]-m[2],X[1]-X[2]),Math.hypot(c[2]-c[3],m[2]-m[3],X[2]-X[3]));for(B/=_=B+G+N,N/=_,u=0;u<4;u++)P[1].push(P[0][u]*(1-B)+P[3][u]*B),P[2].push(P[0][u]*N+P[3][u]*(1-N)),k[1].push(k[0][u]*(1-B)+k[3][u]*B),k[2].push(k[0][u]*N+k[3][u]*(1-N));for(f=0;f<H;f++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],z=l=a=d=0;z<4;z++){for(u=0;u<4;u++)this.curFillColor[u]+=this._lookUpTableBezier[f][z]*P[z][u],this.curStrokeColor[u]+=this._lookUpTableBezier[f][z]*k[z][u];l+=c[z]*this._lookUpTableBezier[f][z],a+=m[z]*this._lookUpTableBezier[f][z],d+=X[z]*this._lookUpTableBezier[f][z]}this.vertex(l,a,d)}this.curFillColor=P[3],this.curStrokeColor=k[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},g.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var l,a,d,f,u,p,c=[],m=[],_=arguments.length;if(0===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var M=1/this._lutQuadraticDetail,x=0,I=1,A=0;x<1;){if(p=parseFloat(x.toFixed(6)),this._lookUpTableQuadratic[A]=this._quadraticCoefficients(p),I.toFixed(6)===M.toFixed(6)){p=parseFloat(I.toFixed(6))+parseFloat(x.toFixed(6)),++A,this._lookUpTableQuadratic[A]=this._quadraticCoefficients(p);break}x+=M,I-=M,++A}}for(var H=this._lookUpTableQuadratic.length,P=[],z=0;z<3;z++)P.push([]);P[0]=this.immediateMode.geometry.vertexColors.slice(-4),P[2]=this.curFillColor.slice();var k=[];for(z=0;z<3;z++)k.push([]);if(k[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),k[2]=this.curStrokeColor.slice(),4===_){this.isQuadratic=!0,c=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],m=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var te=Math.hypot(c[0]-c[1],m[0]-m[1]);for(te/=te+Math.hypot(c[1]-c[2],m[1]-m[2]),u=0;u<4;u++)P[1].push(P[0][u]*(1-te)+P[2][u]*te),k[1].push(k[0][u]*(1-te)+k[2][u]*te);for(f=0;f<H;f++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],z=l=a=0;z<3;z++){for(u=0;u<4;u++)this.curFillColor[u]+=this._lookUpTableQuadratic[f][z]*P[z][u],this.curStrokeColor[u]+=this._lookUpTableQuadratic[f][z]*k[z][u];l+=c[z]*this._lookUpTableQuadratic[f][z],a+=m[z]*this._lookUpTableQuadratic[f][z]}this.vertex(l,a)}this.curFillColor=P[2],this.curStrokeColor=k[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===_){this.isQuadratic=!0,c=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],m=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var ne=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],G=Math.hypot(c[0]-c[1],m[0]-m[1],ne[0]-ne[1]);for(G/=G+Math.hypot(c[1]-c[2],m[1]-m[2],ne[1]-ne[2]),u=0;u<4;u++)P[1].push(P[0][u]*(1-G)+P[2][u]*G),k[1].push(k[0][u]*(1-G)+k[2][u]*G);for(f=0;f<H;f++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],z=l=a=d=0;z<3;z++){for(u=0;u<4;u++)this.curFillColor[u]+=this._lookUpTableQuadratic[f][z]*P[z][u],this.curStrokeColor[u]+=this._lookUpTableQuadratic[f][z]*k[z][u];l+=c[z]*this._lookUpTableQuadratic[f][z],a+=m[z]*this._lookUpTableQuadratic[f][z],d+=ne[z]*this._lookUpTableQuadratic[f][z]}this.vertex(l,a,d)}this.curFillColor=P[2],this.curStrokeColor=k[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},g.default.RendererGL.prototype.curveVertex=function(){var l,u,p,c=[],m=[],_=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var M=1/this._lutBezierDetail,x=0,I=1,A=0;x<1;){if(p=parseFloat(x.toFixed(6)),this._lookUpTableBezier[A]=this._bezierCoefficients(p),I.toFixed(6)===M.toFixed(6)){p=parseFloat(I.toFixed(6))+parseFloat(x.toFixed(6)),++A,this._lookUpTableBezier[A]=this._bezierCoefficients(p);break}x+=M,I-=M,++A}}var H=this._lookUpTableBezier.length;if(2===_){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,c=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),m=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),u=0;u<H;u++)this.vertex(c[0]*this._lookUpTableBezier[u][0]+c[1]*this._lookUpTableBezier[u][1]+c[2]*this._lookUpTableBezier[u][2]+c[3]*this._lookUpTableBezier[u][3],m[0]*this._lookUpTableBezier[u][0]+m[1]*this._lookUpTableBezier[u][1]+m[2]*this._lookUpTableBezier[u][2]+m[3]*this._lookUpTableBezier[u][3]);for(u=0;u<_;u++)this.immediateMode._curveVertex.shift()}}else if(3===_&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,c=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),m=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),l=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),u=0;u<H;u++)this.vertex(c[0]*this._lookUpTableBezier[u][0]+c[1]*this._lookUpTableBezier[u][1]+c[2]*this._lookUpTableBezier[u][2]+c[3]*this._lookUpTableBezier[u][3],m[0]*this._lookUpTableBezier[u][0]+m[1]*this._lookUpTableBezier[u][1]+m[2]*this._lookUpTableBezier[u][2]+m[3]*this._lookUpTableBezier[u][3],l[0]*this._lookUpTableBezier[u][0]+l[1]*this._lookUpTableBezier[u][1]+l[2]*this._lookUpTableBezier[u][2]+l[3]*this._lookUpTableBezier[u][3]);for(u=0;u<_;u++)this.immediateMode._curveVertex.shift()}},g.default.RendererGL.prototype.image=function(l,I,d,A,u,p,c,m,_){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(l),this._pInst.textureMode(y.NORMAL);var M=0,x=(I<=l.width&&(M=I/l.width),1);I+A<=l.width&&(x=(I+A)/l.width),I=0,d<=l.height&&(I=d/l.height),A=1,d+u<=l.height&&(A=(d+u)/l.height),this.beginShape(),this.vertex(p,c,0,M,I),this.vertex(p+m,c,0,x,I),this.vertex(p+m,c+_,0,x,A),this.vertex(p,c+_,0,M,A),this.endShape(y.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(y.REMOVE)};var s=g.default;V.default=s},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(o,se,V){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}function b(a){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.every"),o("core-js/modules/es.array.map"),o("core-js/modules/es.object.assign"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=(l=o("../core/main"))&&l.__esModule?l:{default:l},y=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==b(a)&&"function"!=typeof a)return{default:a};var d=C();if(d&&d.has(a))return d.get(a);var f,u={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in a){var c;Object.prototype.hasOwnProperty.call(a,f)&&((c=p?Object.getOwnPropertyDescriptor(a,f):null)&&(c.get||c.set)?Object.defineProperty(u,f,c):u[f]=a[f])}return u.default=a,d&&d.set(a,u),u}(o("../core/constants"));function C(){var a;return"function"!=typeof WeakMap?null:(C=function(){return a},a=new WeakMap)}function w(a){return function(d){if(Array.isArray(d)){for(var f=0,u=new Array(d.length);f<d.length;f++)u[f]=d[f];return u}}(a)||function(d){if(Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d))return Array.from(d)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(a,d){for(var f=0;f<d.length;f++){var u=d[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}var l=function(){function a(p){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");(this.renderer=p)._pInst.push(),this.identityMatrix=new g.default.Matrix,p.uModelMatrix=new g.default.Matrix,this.geometry=new g.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(a.nextGeometryId),a.nextGeometryId++,this.hasTransform=!1}var d,f;return d=a,(f=[{key:"transformVertices",value:function(p){var c=this;return this.hasTransform?p.map(function(m){return c.renderer.uModelMatrix.multiplyPoint(m)}):p}},{key:"transformNormals",value:function(p){var c=this;return this.hasTransform?p.map(function(m){return c.renderer.uNMatrix.multiplyVec3(m)}):p}},{key:"addGeometry",value:function(p){for(var c,m=this,_=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(x,I){return x===m.identityMatrix.mat4[I]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),M=((c=this.geometry.vertices).push.apply(c,w(this.transformVertices(p.vertices))),(c=this.geometry.vertexNormals).push.apply(c,w(this.transformNormals(p.vertexNormals))),(c=this.geometry.uvs).push.apply(c,w(p.uvs)),this.renderer._doFill&&(c=this.geometry.faces).push.apply(c,w(p.faces.map(function(x){return x.map(function(I){return I+_})}))),this.renderer._doStroke&&(c=this.geometry.edges).push.apply(c,w(p.edges.map(function(x){return x.map(function(I){return I+_})}))),w(p.vertexColors));M.length<4*p.vertices.length;)M.push.apply(M,w(this.renderer.curFillColor));(c=this.geometry.vertexColors).push.apply(c,w(M))}},{key:"addImmediate",value:function(){var p=this.renderer.immediateMode.geometry,c=this.renderer.immediateMode.shapeMode,m=[];if(this.renderer._doFill)if(c===y.TRIANGLE_STRIP||c===y.QUAD_STRIP)for(var _=2;_<p.vertices.length;_++)m.push(_%2==0?[_,_-1,_-2]:[_,_-2,_-1]);else if(c===y.TRIANGLE_FAN)for(var M=2;M<p.vertices.length;M++)m.push([0,M-1,M]);else for(var x=0;x<p.vertices.length;x+=3)m.push([x,x+1,x+2]);this.addGeometry(Object.assign({},p,{faces:m}))}},{key:"addRetained",value:function(p){this.addGeometry(p.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&s(d.prototype,f),a}();l.nextGeometryId=0,V.default=l},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(o,se,V){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.math.sign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var b=(w=o("../core/main"))&&w.__esModule?w:{default:w},g=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==C(s)&&"function"!=typeof s)return{default:s};var l=y();if(l&&l.has(s))return l.get(s);var a,d={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var u;Object.prototype.hasOwnProperty.call(s,a)&&((u=f?Object.getOwnPropertyDescriptor(s,a):null)&&(u.get||u.set)?Object.defineProperty(d,a,u):d[a]=s[a])}return d.default=s,l&&l.set(s,d),d}(o("../core/constants"));function y(){var s;return"function"!=typeof WeakMap?null:(y=function(){return s},s=new WeakMap)}function C(s){return(C="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(s)}b.default.prototype.orbitControl=function(s,l,a,_){var f=this,u=(this._assert3d("orbitControl"),b.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);void 0===s&&(s=1),void 0===l&&(l=s),void 0===a&&(a=1),"object"!==C(_)&&(_={}),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var x=_.disableTouchActions;!0===this.touchActionsDisabled||void 0!==x&&!x||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0)),_=void 0!==(x=_.freeRotation)&&x;var p,c,m,M=[],I=(this.touches.forEach(function(te){f._renderer.prevTouches.forEach(function(ne){te.id===ne.id&&M.push(ne={x:te.x,y:te.y,px:ne.x,py:ne.y})})}),this._renderer.prevTouches=this.touches,x=0,0),A=0,H=0,P=0,z=this.height<this.width?this.height:this.width,k=!1;return 0<M.length?(k=0<M[0].x&&M[0].x<this.width&&0<M[0].y&&M[0].y<this.height,1===M.length?(I=-s*((p=M[0]).x-p.px)/z,A=l*(p.y-p.py)/z):(p=M[0],c=M[1],x=-(Math.hypot(p.x-c.x,p.y-c.y)-Math.hypot(p.px-c.px,p.py-c.py))*a*4e-4,H=.5*(p.x+c.x)-.5*(p.px+c.px),P=.5*(p.y+c.y)-.5*(p.py+c.py)),0<this.touches.length?k&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(k=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,0!==this._mouseWheelDeltaY?(x=Math.sign(this._mouseWheelDeltaY)*a,x*=.01,this._mouseWheelDeltaY=0,k&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(I=-s*this.movedX/z,A=l*this.movedY/z):this.mouseButton===this.RIGHT&&(H=this.movedX,P=this.movedY*u.yScale),k&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),0!==x&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=x),.001<Math.abs(this._renderer.zoomVelocity)?(_?u._orbitFree(0,0,this._renderer.zoomVelocity):u._orbit(0,0,this._renderer.zoomVelocity),0!==u.projMatrix.mat4[15]&&(u.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),u.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=u.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=u.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,0===I&&0===A||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*I,.6*A),1e-6<this._renderer.rotateVelocity.magSq()?(_?u._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):u._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),0===H&&0===P||!this._renderer.executeRotateAndMove||this._renderer.moveVelocity.add(.15*(p=2*H/this.width),.15*(c=2*-P/this.height)),1e-6<this._renderer.moveVelocity.magSq()?(a=u._getLocalAxes(),s=u.eyeX-u.centerX,l=u.eyeY-u.centerY,z=u.eyeZ-u.centerZ,k=Math.sqrt(s*s+l*l+z*z),x=new b.default.Vector(u.centerX,u.centerY,u.centerZ),x=u.cameraMatrix.multiplyPoint(x),(x=this._renderer.uPMatrix.multiplyAndNormalizePoint(x)).x-=this._renderer.moveVelocity.x,x.y-=this._renderer.moveVelocity.y,A=0===(I=this._renderer.uPMatrix.mat4)[15]?(m=(I[8]+x.x)/I[0]*k,(I[9]+x.y)/I[5]*k):(m=(x.x-I[12])/I[0],(x.y-I[13])/I[5]),u.setPosition(u.eyeX+m*a.x[0]+A*a.y[0],u.eyeY+m*a.x[1]+A*a.y[1],u.eyeZ+m*a.x[2]+A*a.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},b.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var s=arguments.length,l=new Array(s),a=0;a<s;a++)l[a]=arguments[a];b.default._validateParameters("debugMode",l);for(var d=this._registeredMethods.post.length-1;0<=d;d--)this._registeredMethods.post[d].toString()!==this._grid().toString()&&this._registeredMethods.post[d].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(d,1);l[0]===g.GRID?this.registerMethod("post",this._grid(l[1],l[2],l[3],l[4],l[5])):l[0]===g.AXES?this.registerMethod("post",this._axesIcon(l[1],l[2],l[3],l[4])):(this.registerMethod("post",this._grid(l[0],l[1],l[2],l[3],l[4])),this.registerMethod("post",this._axesIcon(l[5],l[6],l[7],l[8])))},b.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var s=this._registeredMethods.post.length-1;0<=s;s--)this._registeredMethods.post[s].toString()!==this._grid().toString()&&this._registeredMethods.post[s].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(s,1)},b.default.prototype._grid=function(s,l,a,d,f){void 0===s&&(s=this.width/2),void 0===l&&(l=Math.round(s/30)<4?4:Math.round(s/30)),void 0===a&&(a=0),void 0===d&&(d=0),void 0===f&&(f=0);var u=s/l,p=s/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var c=0;c<=l;c++)this.beginShape(this.LINES),this.vertex(-p+a,d,c*u-p+f),this.vertex(p+a,d,c*u-p+f),this.endShape();for(var m=0;m<=l;m++)this.beginShape(this.LINES),this.vertex(m*u-p+a,d,-p+f),this.vertex(m*u-p+a,d,p+f),this.endShape();this.pop()}},b.default.prototype._axesIcon=function(s,l,a,d){return void 0===s&&(s=40<this.width/20?this.width/20:40),void 0===l&&(l=-this.width/4),void 0===a&&(a=l),void 0===d&&(d=l),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(l,a,d),this.vertex(l+s,a,d),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(l,a,d),this.vertex(l,a+s,d),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(l,a,d),this.vertex(l,a,d+s),this.endShape(),this.pop()}};var w=b.default;V.default=w},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(o,se,V){"use strict";o("core-js/modules/es.array.filter"),o("core-js/modules/es.array.filter"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};v.default.prototype.ambientLight=function(b,g,y,C){this._assert3d("ambientLight"),v.default._validateParameters("ambientLight",arguments);var w=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(w._array[0],w._array[1],w._array[2]),this._renderer._enableLighting=!0,this},v.default.prototype.specularColor=function(b,g,y){this._assert3d("specularColor"),v.default._validateParameters("specularColor",arguments);var C=this.color.apply(this,arguments);return this._renderer.specularColors=[C._array[0],C._array[1],C._array[2]],this},v.default.prototype.directionalLight=function(b,f,d,C,w,s){var l,a;return this._assert3d("directionalLight"),v.default._validateParameters("directionalLight",arguments),b=b instanceof v.default.Color?b:this.color(b,f,d),d="number"==typeof(f=arguments[arguments.length-1])?(l=arguments[arguments.length-3],a=arguments[arguments.length-2],arguments[arguments.length-1]):(l=f.x,a=f.y,f.z),f=Math.sqrt(l*l+a*a+d*d),this._renderer.directionalLightDirections.push(l/f,a/f,d/f),this._renderer.directionalLightDiffuseColors.push(b._array[0],b._array[1],b._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},v.default.prototype.pointLight=function(b,d,f,C,w,s){var l,a;return this._assert3d("pointLight"),v.default._validateParameters("pointLight",arguments),b=b instanceof v.default.Color?b:this.color(b,d,f),f="number"==typeof(d=arguments[arguments.length-1])?(l=arguments[arguments.length-3],a=arguments[arguments.length-2],arguments[arguments.length-1]):(l=d.x,a=d.y,d.z),this._renderer.pointLightPositions.push(l,a,f),this._renderer.pointLightDiffuseColors.push(b._array[0],b._array[1],b._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},v.default.prototype.imageLight=function(b){this._renderer.activeImageLight=b,this._renderer._enableLighting=!0},v.default.prototype.panorama=function(b){this.filter(this._renderer._getSphereMapping(b))},v.default.prototype.lights=function(){this._assert3d("lights");var b=this.color("rgb(128,128,128)");return this.ambientLight(b),this.directionalLight(b,0,0,-1),this},v.default.prototype.lightFalloff=function(b,g,y){return this._assert3d("lightFalloff"),v.default._validateParameters("lightFalloff",arguments),b<0&&(b=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),g<0&&(g=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),y<0&&(y=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===b&&0===g&&0===y&&(b=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=b,this._renderer.linearAttenuation=g,this._renderer.quadraticAttenuation=y,this},v.default.prototype.spotLight=function(b,g,y,C,w,s,l,a,d,f,u){this._assert3d("spotLight"),v.default._validateParameters("spotLight",arguments);var p,c,m,_=arguments.length;switch(_){case 11:case 10:p=this.color(b,g,y),c=new v.default.Vector(C,w,s),m=new v.default.Vector(l,a,d);break;case 9:b instanceof v.default.Color?(p=b,c=new v.default.Vector(g,y,C),m=new v.default.Vector(w,s,l),f=a,u=d):C instanceof v.default.Vector?(p=this.color(b,g,y),c=C,m=new v.default.Vector(w,s,l),f=a,u=d):l instanceof v.default.Vector?(p=this.color(b,g,y),c=new v.default.Vector(C,w,s),m=l,f=a,u=d):(p=this.color(b,g,y),c=new v.default.Vector(C,w,s),m=new v.default.Vector(l,a,d));break;case 8:m=b instanceof v.default.Color?(p=b,c=new v.default.Vector(g,y,C),new v.default.Vector(w,s,l)):C instanceof v.default.Vector?(p=this.color(b,g,y),c=C,new v.default.Vector(w,s,l)):(p=this.color(b,g,y),c=new v.default.Vector(C,w,s),l),f=a;break;case 7:b instanceof v.default.Color&&g instanceof v.default.Vector?(p=b,c=g,m=new v.default.Vector(y,C,w),f=s,u=l):b instanceof v.default.Color&&w instanceof v.default.Vector?(p=b,c=new v.default.Vector(g,y,C),m=w,f=s,u=l):C instanceof v.default.Vector&&w instanceof v.default.Vector?(p=this.color(b,g,y),c=C,m=w,f=s,u=l):m=b instanceof v.default.Color?(p=b,c=new v.default.Vector(g,y,C),new v.default.Vector(w,s,l)):C instanceof v.default.Vector?(p=this.color(b,g,y),c=C,new v.default.Vector(w,s,l)):(p=this.color(b,g,y),c=new v.default.Vector(C,w,s),l);break;case 6:C instanceof v.default.Vector&&w instanceof v.default.Vector?(p=this.color(b,g,y),c=C,m=w,f=s):b instanceof v.default.Color&&w instanceof v.default.Vector?(p=b,c=new v.default.Vector(g,y,C),m=w,f=s):b instanceof v.default.Color&&g instanceof v.default.Vector&&(p=b,c=g,m=new v.default.Vector(y,C,w),f=s);break;case 5:b instanceof v.default.Color&&g instanceof v.default.Vector&&y instanceof v.default.Vector?(p=b,c=g,m=y,f=C,u=w):C instanceof v.default.Vector&&w instanceof v.default.Vector?(p=this.color(b,g,y),c=C,m=w):b instanceof v.default.Color&&w instanceof v.default.Vector?(p=b,c=new v.default.Vector(g,y,C),m=w):b instanceof v.default.Color&&g instanceof v.default.Vector&&(p=b,c=g,m=new v.default.Vector(y,C,w));break;case 4:p=b,c=g,m=y,f=C;break;case 3:p=b,c=g,m=y;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(_<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(p._array[0],p._array[1],p._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(c.x,c.y,c.z),m.normalize(),this._renderer.spotLightDirections.push(m.x,m.y,m.z),void 0===f&&(f=Math.PI/3),void 0!==u&&u<1?(u=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===u&&(u=100),f=this._renderer._pInst._toRadians(f),this._renderer.spotLightAngle.push(Math.cos(f)),this._renderer.spotLightConc.push(u),this._renderer._enableLighting=!0,this},v.default.prototype.noLights=function(){this._assert3d("noLights");for(var b=arguments.length,g=new Array(b),y=0;y<b;y++)g[y]=arguments[y];return v.default._validateParameters("noLights",g),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},V.default=o=v.default},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(o,se,V){"use strict";function v(l){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.splice"),o("core-js/modules/es.object.assign"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.promise"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.match"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.trim"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,o("regenerator-runtime/runtime");var b=(s=o("../core/main"))&&s.__esModule?s:{default:s};function g(l){return function(a){if(Array.isArray(a)){for(var d=0,f=new Array(a.length);d<a.length;d++)f[d]=a[d];return f}}(l)||function(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(l,a,d,f,u,p,c){try{var m=l[p](c),_=m.value}catch(M){return void d(M)}m.done?a(_):Promise.resolve(_).then(f,u)}function C(l){return function(){var a=this,d=arguments;return new Promise(function(f,u){var p=l.apply(a,d);function c(_){y(p,f,u,c,m,"next",_)}function m(_){y(p,f,u,c,m,"throw",_)}c(void 0)})}}function w(l){return(w="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(a){return v(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":v(a)})(l)}o("./p5.Geometry"),b.default.prototype.loadModel=function(l,a){b.default._validateParameters("loadModel",arguments);var d,f,A,u=!1,p=!1,c=!1,m=l.slice(-4),_=(a&&"object"===w(a)?(u=a.normalize||!1,d=a.successCallback,f=a.failureCallback,m=a.fileType||m,p=a.flipU||!1,c=a.flipV||!1):"boolean"==typeof a?(u=a,d=arguments[2],f=arguments[3],void 0!==arguments[4]&&(m=arguments[4])):(d="function"==typeof a?a:void 0,f=arguments[2],void 0!==arguments[3]&&(m=arguments[3])),new b.default.Geometry),M=(_.gid="".concat(l,"|").concat(u),this);function x(){return(x=C(j.mark(function A(H){var P,z,k,te;return j.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:for(P=[],z=0;z<H.length;z++)(k=H[z].match(/^mtllib (.+)/))&&function(){var G,X=k[1],B=l.split("/");G=1<B.length?(B.pop(),B.join("/")+"/"+X):X,P.push(function(){return I.apply(this,arguments)}(G).then(function(N){return N?(K=M,ie=G,new Promise(function(Ae,Y){var R=null,Q={};K.loadStrings(ie,function(pe){for(var Se=0;Se<pe.length;++Se){var qe=pe[Se].trim().split(/\s+/);"newmtl"===qe[0]?Q[R=qe[1]]={}:"Kd"===qe[0]?Q[R].diffuseColor=[parseFloat(qe[1]),parseFloat(qe[2]),parseFloat(qe[3])]:"Ka"===qe[0]?Q[R].ambientColor=[parseFloat(qe[1]),parseFloat(qe[2]),parseFloat(qe[3])]:"Ks"===qe[0]?Q[R].specularColor=[parseFloat(qe[1]),parseFloat(qe[2]),parseFloat(qe[3])]:"map_Kd"===qe[0]&&(Q[R].texturePath=qe[1])}Ae(Q)},Y)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(G)),{});var K,ie}).catch(function(N){return console.warn("Error loading MTL file: ".concat(G),N),{}}))}();return ne.prev=2,ne.next=5,Promise.all(P);case 5:return te=ne.sent,te=Object.assign.apply(Object,[{}].concat(g(te))),ne.abrupt("return",te);case 10:return ne.prev=10,ne.t0=ne.catch(2),ne.abrupt("return",{});case 13:case"end":return ne.stop()}},A,null,[[2,10]])}))).apply(this,arguments)}function I(){return(I=C(j.mark(function A(H){return j.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.prev=0,z.next=3,fetch(H,{method:"HEAD"});case 3:return z.abrupt("return",z.sent.ok);case 7:return z.prev=7,z.t0=z.catch(0),z.abrupt("return",!1);case 10:case"end":return z.stop()}},A,null,[[0,7]])}))).apply(this,arguments)}return m.match(/\.stl$/i)?this.httpDo(l,"GET","arrayBuffer",function(A){(function(H,P){if(function(z){for(var k=new DataView(z),te=[115,111,108,105,100],ne=0;ne<5;ne++)if(function(G,X,B){for(var N=0,K=G.length;N<K;N++)if(G[N]!==X.getUint8(B+N,!1))return;return 1}(te,k,ne))return;return 1}(P))!function(z,k){for(var te,ne,G,X,B,N,K,ie=new DataView(k),Ae=ie.getUint32(80,!0),Y=!1,R=0;R<70;R++)1129270351===ie.getUint32(R,!1)&&82===ie.getUint8(R+4)&&61===ie.getUint8(R+5)&&(Y=!0,X=[],B=ie.getUint8(R+6)/255,N=ie.getUint8(R+7)/255,K=ie.getUint8(R+8)/255);for(var Q=0;Q<Ae;Q++){for(var pe,Se=84+50*Q,Ve=ie.getFloat32(Se,!0),qe=ie.getFloat32(4+Se,!0),pt=ie.getFloat32(8+Se,!0),We=(Y&&(G=32768&(pe=ie.getUint16(48+Se,!0))?(te=B,ne=N,K):(te=(31&pe)/31,ne=(pe>>5&31)/31,(pe>>10&31)/31)),new b.default.Vector(Ve,qe,pt)),ct=1;ct<=3;ct++){var dt=new b.default.Vector(ie.getFloat32(dt=Se+12*ct,!0),ie.getFloat32(4+dt,!0),ie.getFloat32(8+dt,!0));z.vertices.push(dt),z.vertexNormals.push(We),Y&&X.push(te,ne,G)}z.faces.push([3*Q,3*Q+1,3*Q+2]),z.uvs.push([0,0],[0,0],[0,0])}}(H,P);else{if(P=new DataView(P),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");!function(z,k){for(var te,ne,G="",X=[],B=0;B<k.length;++B){for(var N=k[B].trim(),K=N.split(" "),ie=0;ie<K.length;++ie)""===K[ie]&&K.splice(ie,1);if(0!==K.length)switch(G){case"":if("solid"!==K[0])return console.error(N),console.error('Invalid state "'.concat(K[0],'", should be "solid"'));G="solid";break;case"solid":if("facet"!==K[0]||"normal"!==K[1])return console.error(N),console.error('Invalid state "'.concat(K[0],'", should be "facet normal"'));te=new b.default.Vector(parseFloat(K[2]),parseFloat(K[3]),parseFloat(K[4])),z.vertexNormals.push(te,te,te),G="facet normal";break;case"facet normal":if("outer"!==K[0]||"loop"!==K[1])return console.error(N),console.error('Invalid state "'.concat(K[0],'", should be "outer loop"'));G="vertex";break;case"vertex":if("vertex"===K[0])ne=new b.default.Vector(parseFloat(K[1]),parseFloat(K[2]),parseFloat(K[3])),z.vertices.push(ne),z.uvs.push([0,0]),X.push(z.vertices.indexOf(ne));else{if("endloop"!==K[0])return console.error(N),console.error('Invalid state "'.concat(K[0],'", should be "vertex" or "endloop"'));z.faces.push(X),X=[],G="endloop"}break;case"endloop":if("endfacet"!==K[0])return console.error(N),console.error('Invalid state "'.concat(K[0],'", should be "endfacet"'));G="endfacet";break;case"endfacet":if("endsolid"!==K[0]){if("facet"!==K[0]||"normal"!==K[1])return console.error(N),console.error('Invalid state "'.concat(K[0],'", should be "endsolid" or "facet normal"'));te=new b.default.Vector(parseFloat(K[2]),parseFloat(K[3]),parseFloat(K[4])),z.vertexNormals.push(te,te,te),G="facet normal"}break;default:console.error('Invalid state "'.concat(G,'"'))}}}(H,P=new TextDecoder("utf-8").decode(P).split("\n"))}})(_,A),u&&_.normalize(),p&&_.flipU(),c&&_.flipV(),M._decrementPreload(),"function"==typeof d&&d(_)},f):m.match(/\.obj$/i)?this.loadStrings(l,(A=C(j.mark(function H(P){return j.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.prev=0,k.next=3,function(){return x.apply(this,arguments)}(P);case 3:(function(te,ne){for(var G=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},X={v:[],vt:[],vn:[]},B={},N=null,K=new Set,ie=!1,Ae=!1,Y=0;Y<ne.length;++Y){var R=ne[Y].trim().split(/\b\s+/);if(0<R.length)if("usemtl"===R[0])N=R[1];else if("v"===R[0]||"vn"===R[0]){var Q=new b.default.Vector(parseFloat(R[1]),parseFloat(R[2]),parseFloat(R[3]));X[R[0]].push(Q)}else if("vt"===R[0])Q=[parseFloat(R[1]),1-parseFloat(R[2])],X[R[0]].push(Q);else if("f"===R[0])for(var pe=3;pe<R.length;++pe){for(var Se=[],Ve=[1,pe-1,pe],qe=0;qe<Ve.length;++qe){for(var pt,We=R[Ve[qe]],ct=We.split("/"),dt=0;dt<ct.length;dt++)ct[dt]=parseInt(ct[dt])-1;B[We]||(B[We]={}),void 0===B[We][N]?(pt=te.vertices.length,te.vertices.push(X.v[ct[0]].copy()),te.uvs.push(X.vt[ct[1]]?X.vt[ct[1]].slice():[0,0]),te.vertexNormals.push(X.vn[ct[2]]?X.vn[ct[2]].copy():new b.default.Vector),B[We][N]=pt,Se.push(pt),N&&G[N]&&G[N].diffuseColor&&K.add(X.v[ct[0]])):Se.push(B[We][N])}if(Se[0]!==Se[1]&&Se[0]!==Se[2]&&Se[1]!==Se[2])if(te.faces.push(Se),N&&G[N]&&G[N].diffuseColor){ie=ie=!0;for(var $e=G[N].diffuseColor,Ze=0;Ze<Se.length;Ze++)te.vertexColors.push($e[0]),te.vertexColors.push($e[1]),te.vertexColors.push($e[2])}else Ae=!0}}if(0===te.vertexNormals.length&&te.computeNormals(),ie===Ae)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")})(_,P,k.sent),k.next=11;break;case 7:return k.prev=7,k.t0=k.catch(0),f?f(k.t0):b.default._friendlyError("Error during parsing: "+k.t0.message),k.abrupt("return");case 11:return k.prev=11,u&&_.normalize(),p&&_.flipU(),c&&_.flipV(),M._decrementPreload(),"function"==typeof d&&d(_),k.finish(11);case 18:case"end":return k.stop()}},H,null,[[0,7,11,18]])})),function(H){return A.apply(this,arguments)}),f):(b.default._friendlyFileLoadError(3,l),f?f():b.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),_},b.default.prototype.model=function(l){this._assert3d("model"),b.default._validateParameters("model",arguments),0<l.vertices.length&&(this._renderer.geometryInHash(l.gid)||(0===l.edges.length&&l._makeTriangleEdges(),l._edgesToVertices(),this._renderer.createBuffers(l.gid,l)),this._renderer.drawBuffers(l.gid))};var s=b.default;V.default=s},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(o,se,V){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(s)}function b(s){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.includes"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.includes"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=(w=o("../core/main"))&&w.__esModule?w:{default:w},y=function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==b(s)&&"function"!=typeof s)return{default:s};var l=C();if(l&&l.has(s))return l.get(s);var a,d={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var u;Object.prototype.hasOwnProperty.call(s,a)&&((u=f?Object.getOwnPropertyDescriptor(s,a):null)&&(u.get||u.set)?Object.defineProperty(d,a,u):d[a]=s[a])}return d.default=s,l&&l.set(s,d),d}(o("../core/constants"));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}o("./p5.Texture"),g.default.prototype.loadShader=function(s,l,a,d){function f(){p._decrementPreload(),a&&a(u)}g.default._validateParameters("loadShader",arguments),d=d||console.error;var u=new g.default.Shader,p=this,c=!1,m=!1;return this.loadStrings(s,function(_){u._vertSrc=_.join("\n"),m=!0,c&&f()},d),this.loadStrings(l,function(_){u._fragSrc=_.join("\n"),c=!0,m&&f()},d),u},g.default.prototype.createShader=function(s,l){return g.default._validateParameters("createShader",arguments),new g.default.Shader(this._renderer,s,l)},g.default.prototype.createFilterShader=function(s){g.default._validateParameters("createFilterShader",arguments);var l=s.includes("#version 300 es")?"#version 300 es\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    in vec3 aPosition;\n    in vec2 aTexCoord;\n    out vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ":"\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    attribute vec3 aPosition;\n    // texcoords only come from p5 to vertex shader\n    // so pass texcoords on to the fragment shader in a varying variable\n    attribute vec2 aTexCoord;\n    varying vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ";return(l=new g.default.Shader(this._renderer,l,s)).ensureCompiledOnContext(this._renderer.GL?this:this._renderer.getFilterGraphicsLayer()),l},g.default.prototype.shader=function(s){return this._assert3d("shader"),g.default._validateParameters("shader",arguments),s.ensureCompiledOnContext(this),s.isStrokeShader()?this._renderer.userStrokeShader=s:(this._renderer.userFillShader=s,this._renderer._useNormalMaterial=!1),this},g.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},g.default.prototype.texture=function(s){return this._assert3d("texture"),g.default._validateParameters("texture",arguments),s.gifProperties&&s._animateGif(this),this._renderer.drawMode=y.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=s,this._renderer._setProperty("_doFill",!0),this},g.default.prototype.textureMode=function(s){s!==y.IMAGE&&s!==y.NORMAL?console.warn("You tried to set ".concat(s," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=s},g.default.prototype.textureWrap=function(s){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s,a=(this._renderer.textureWrapX=s,this._renderer.textureWrapY=l,!0),d=!1,f=void 0;try{for(var u,p=this._renderer.textures.values()[Symbol.iterator]();!(a=(u=p.next()).done);a=!0)u.value.setWrapMode(s,l)}catch(c){d=!0,f=c}finally{try{a||null==p.return||p.return()}finally{if(d)throw f}}},g.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var s=arguments.length,l=new Array(s),a=0;a<s;a++)l[a]=arguments[a];return g.default._validateParameters("normalMaterial",l),this._renderer.drawMode=y.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},g.default.prototype.ambientMaterial=function(s,l,a){this._assert3d("ambientMaterial"),g.default._validateParameters("ambientMaterial",arguments);var d=g.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=d._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},g.default.prototype.emissiveMaterial=function(s,l,a,d){this._assert3d("emissiveMaterial"),g.default._validateParameters("emissiveMaterial",arguments);var f=g.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=f._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},g.default.prototype.specularMaterial=function(s,l,a,d){this._assert3d("specularMaterial"),g.default._validateParameters("specularMaterial",arguments);var f=g.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=f._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},g.default.prototype.shininess=function(s){return this._assert3d("shininess"),g.default._validateParameters("shininess",arguments),this._renderer._useShininess=s=s<1?1:s,this},g.default.prototype.metalness=function(s){return this._assert3d("metalness"),s=1-Math.exp(-s/100),this._renderer._useMetalness=s,this},g.default.RendererGL.prototype._applyColorBlend=function(s,f){var a=this.GL;return(f=f||this.userFillShader||this.userStrokeShader||this.userPointShader||this.drawMode===y.TEXTURE||this.curBlendMode!==y.BLEND||s[s.length-1]<1||this._isErasing)!==this._isBlending&&(f||this.curBlendMode!==y.BLEND&&this.curBlendMode!==y.ADD?a.enable(a.BLEND):a.disable(a.BLEND),a.depthMask(!0),this._isBlending=f),this._applyBlendMode(),s},g.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var s=this.GL;switch(this.curBlendMode){case y.BLEND:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA);break;case y.ADD:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ONE);break;case y.REMOVE:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ZERO,s.ONE_MINUS_SRC_ALPHA);break;case y.MULTIPLY:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.DST_COLOR,s.ONE_MINUS_SRC_ALPHA);break;case y.SCREEN:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_COLOR);break;case y.EXCLUSION:s.blendEquationSeparate(s.FUNC_ADD,s.FUNC_ADD),s.blendFuncSeparate(s.ONE_MINUS_DST_COLOR,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE);break;case y.REPLACE:s.blendEquation(s.FUNC_ADD),s.blendFunc(s.ONE,s.ZERO);break;case y.SUBTRACT:s.blendEquationSeparate(s.FUNC_REVERSE_SUBTRACT,s.FUNC_ADD),s.blendFuncSeparate(s.ONE,s.ONE,s.ONE,s.ONE_MINUS_SRC_ALPHA);break;case y.DARKEST:this.blendExt?(s.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,s.FUNC_ADD),s.blendFuncSeparate(s.ONE,s.ONE,s.ONE,s.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case y.LIGHTEST:this.blendExt?(s.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,s.FUNC_ADD),s.blendFuncSeparate(s.ONE,s.ONE,s.ONE,s.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var w=g.default;V.default=w},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(o,se,V){"use strict";o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.hypot"),o("core-js/modules/es.string.sub"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(g,y){for(var C=0;C<y.length;C++){var w=y[C];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}v.default.prototype.camera=function(){var g;this._assert3d("camera");for(var y=arguments.length,C=new Array(y),w=0;w<y;w++)C[w]=arguments[w];return v.default._validateParameters("camera",C),(g=this._renderer._curCamera).camera.apply(g,C),this},v.default.prototype.perspective=function(){var g;this._assert3d("perspective");for(var y=arguments.length,C=new Array(y),w=0;w<y;w++)C[w]=arguments[w];return v.default._validateParameters("perspective",C),(g=this._renderer._curCamera).perspective.apply(g,C),this},v.default.prototype.linePerspective=function(g){if(v.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof v.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(void 0===g)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=g},v.default.prototype.ortho=function(){var g;this._assert3d("ortho");for(var y=arguments.length,C=new Array(y),w=0;w<y;w++)C[w]=arguments[w];return v.default._validateParameters("ortho",C),(g=this._renderer._curCamera).ortho.apply(g,C),this},v.default.prototype.frustum=function(){var g;this._assert3d("frustum");for(var y=arguments.length,C=new Array(y),w=0;w<y;w++)C[w]=arguments[w];return v.default._validateParameters("frustum",C),(g=this._renderer._curCamera).frustum.apply(g,C),this},v.default.prototype.createCamera=function(){this._assert3d("createCamera");var g=new v.default.Camera(this._renderer);return g._computeCameraDefaultSettings(),g._setDefaultCamera(),this._renderer._curCamera=g},v.default.Camera=function(){function g(s){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this._renderer=s,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new v.default.Matrix,this.projMatrix=new v.default.Matrix,this.yScale=1}var y,C;return y=g,(C=[{key:"perspective",value:function(f,l,a,d){this.cameraType=0<arguments.length?"custom":"default",this.cameraFOV=void 0===f?f=this.defaultCameraFOV:this._renderer._pInst._toRadians(f),void 0===l&&(l=this.defaultAspectRatio),void 0===a&&(a=this.defaultCameraNear),void 0===d&&(d=this.defaultCameraFar),a<=1e-4&&(a=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),d<a&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=l,this.cameraNear=a,this.cameraFar=d,this.projMatrix=v.default.Matrix.identity(),f=1/Math.tan(this.cameraFOV/2);var u=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(f/l,0,0,0,0,-f*this.yScale,0,0,0,0,(d+a)*u,-1,0,0,2*d*a*u,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(I,x,a,d,f,u){var A=this.fbo||this._renderer,p=(void 0===I&&(I=-A.width/2),void 0===x&&(x=+A.width/2),void 0===a&&(a=-A.height/2),void 0===d&&(d=+A.height/2),void 0===f&&(f=0),void 0===u&&(u=Math.max(A.width,A.height)+800),this.cameraNear=f,A=x-I,d-a),c=(this.cameraFar=u)-f,m=2/A,_=2/p*this.yScale,M=-2/c;x=-(x+I)/A,I=-(d+a)/p,A=-(u+f)/c,this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(m,0,0,0,0,-_,0,0,0,0,M,0,x,I,A,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(I,x,a,d,f,u){void 0===I&&(I=.05*-this._renderer.width),void 0===x&&(x=.05*+this._renderer.width),void 0===a&&(a=.05*+this._renderer.height),void 0===d&&(d=.05*-this._renderer.height),void 0===f&&(f=this.defaultCameraNear),void 0===u&&(u=this.defaultCameraFar),this.cameraNear=f;var A=x-I,p=d-a,c=(this.cameraFar=u)-f,m=2*f/A,_=2*f/p*this.yScale,M=-2*u*f/c;x=(x+I)/A,I=(d+a)/p,A=-(u+f)/c,this.projMatrix=v.default.Matrix.identity(),this.projMatrix.set(m,0,0,0,0,-_,0,0,x,I,A,-1,0,0,M,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(m,l,a,d){var f=this.centerX,u=this.centerY,p=this.centerZ,c=(f-=this.eyeX,u-=this.eyeY,p-=this.eyeZ,v.default.Matrix.identity(this._renderer._pInst));(c.rotate(this._renderer._pInst._toRadians(m),l,a,d),m=[f*c.mat4[0]+u*c.mat4[4]+p*c.mat4[8],f*c.mat4[1]+u*c.mat4[5]+p*c.mat4[9],f*c.mat4[2]+u*c.mat4[6]+p*c.mat4[10]])[0]+=this.eyeX,m[1]+=this.eyeY,m[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,m[0],m[1],m[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(a){var l=this._getLocalAxes();a=v.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(a),l.z[0],l.z[1],l.z[2]).rotateVector(new v.default.Vector(this.upX,this.upY,this.upZ)),this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,a.x,a.y,a.z)}},{key:"pan",value:function(s){var l=this._getLocalAxes();this._rotateView(s,l.y[0],l.y[1],l.y[2])}},{key:"tilt",value:function(s){var l=this._getLocalAxes();this._rotateView(s,l.x[0],l.x[1],l.x[2])}},{key:"lookAt",value:function(s,l,a){this.camera(this.eyeX,this.eyeY,this.eyeZ,s,l,a,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(s,l,a,d,f,u,p,c,m){return void 0===s&&(a=this.defaultEyeZ,d=s=this.defaultEyeX,f=l=this.defaultEyeY,c=1,m=p=u=0),this.eyeX=s,this.eyeY=l,this.eyeZ=a,void 0!==d&&(this.centerX=d,this.centerY=f,this.centerZ=u),void 0!==p&&(this.upX=p,this.upY=c,this.upZ=m),d=this._getLocalAxes(),this.cameraMatrix.set(d.x[0],d.y[0],d.z[0],0,d.x[1],d.y[1],d.z[1],0,d.x[2],d.y[2],d.z[2],0,0,0,0,1),this.cameraMatrix.translate([f=-s,-l,-a]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(d,f,a){var u=this._getLocalAxes();this.camera(this.eyeX+(d=[u.x[0]*d,u.x[1]*d,u.x[2]*d])[0]+(f=[u.y[0]*f,u.y[1]*f,u.y[2]*f])[0]+(u=[u.z[0]*a,u.z[1]*a,u.z[2]*a])[0],this.eyeY+d[1]+f[1]+u[1],this.eyeZ+d[2]+f[2]+u[2],this.centerX+d[0]+f[0]+u[0],this.centerY+d[1]+f[1]+u[1],this.centerZ+d[2]+f[2]+u[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(s,l,a){this.camera(s,l,a,this.centerX+(s-this.eyeX),this.centerY+(l-this.eyeY),this.centerZ+(a-this.eyeZ),this.upX,this.upY,this.upZ)}},{key:"set",value:function(s){for(var l=0,a=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];l<a.length;l++){var d=a[l];this[d]=s[d]}this.cameraMatrix=s.cameraMatrix.copy(),this.projMatrix=s.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(s,l,a){var d,f,u,p,c,m,_,M,x,I,A,H,P,z,k,te,ne,G;0===a?this.set(s):1===a?this.set(l):(0!==this.projMatrix.mat4[15]&&(this.projMatrix.mat4[0]=s.projMatrix.mat4[0]*Math.pow(l.projMatrix.mat4[0]/s.projMatrix.mat4[0],a),this.projMatrix.mat4[5]=s.projMatrix.mat4[5]*Math.pow(l.projMatrix.mat4[5]/s.projMatrix.mat4[5],a),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),p=new v.default.Vector(s.eyeX,s.eyeY,s.eyeZ),c=new v.default.Vector(l.eyeX,l.eyeY,l.eyeZ),te=new v.default.Vector(s.centerX,s.centerY,s.centerZ),G=new v.default.Vector(l.centerX,l.centerY,l.centerZ),u=v.default.Vector.dist(p,te),d=v.default.Vector.dist(c,G),d=u*Math.pow(d/u,a),u=v.default.Vector.sub(p,c),f=1,1e-6<(ne=(z=p.copy().sub(c).sub(te).add(G)).magSq())&&(f=v.default.Vector.dot(u,z)/ne,f=Math.max(0,Math.min(f,1))),u=v.default.Vector.lerp(v.default.Vector.lerp(p,te,f),v.default.Vector.lerp(c,G,f),a),z=s.cameraMatrix.createSubMatrix3x3(),ne=l.cameraMatrix.createSubMatrix3x3(),p=z.row(2),te=ne.row(2),c=z.row(1),G=ne.row(1),s=new v.default.Vector,l=new v.default.Vector,m=new v.default.Vector,_=new v.default.Vector,1-(M=.5*((z=(ne=ne.mult3x3(z.copy().transpose3x3())).diagonal())[0]+z[1]+z[2]-1))<1e-7?(s.set(v.default.Vector.lerp(p,te,a)).normalize(),m.set(s).mult(f*d).add(u),_.set(s).mult((f-1)*d).add(u),l.set(v.default.Vector.lerp(c,G,a)).normalize()):(te=1/(1-M),G=Math.max(z[0],z[1],z[2]),H=ne.mat3[1]+ne.mat3[3],P=ne.mat3[2]+ne.mat3[6],k=ne.mat3[5]+ne.mat3[7],G=G===z[0]?(I=.5*H*(te/=x=Math.sqrt((z[0]-M)*te)),A=.5*P*te,.5*(ne.mat3[7]-ne.mat3[5])/x):G===z[1]?(A=.5*k*(te/=I=Math.sqrt((z[1]-M)*te)),x=.5*H*te,.5*(ne.mat3[2]-ne.mat3[6])/I):(x=.5*P*(te/=A=Math.sqrt((z[2]-M)*te)),I=.5*k*te,.5*(ne.mat3[3]-ne.mat3[1])/A),H=a*Math.atan2(G,M),P=Math.cos(H),z=Math.sin(H),(G=new v.default.Matrix("mat3",[P+(k=1-P)*x*x,k*(te=x*I)+z*A,k*(ne=A*x)-z*I,k*te-z*A,P+k*I*I,k*(a=I*A)+z*x,k*ne+z*I,k*a-z*x,P+k*A*A])).multiplyVec3(p,s),m.set(s).mult(f*d).add(u),_.set(s).mult((f-1)*d).add(u),G.multiplyVec3(c,l)),this.camera(m.x,m.y,m.z,_.x,_.y,_.z,l.x,l.y,l.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){"default"===this.cameraType&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var s=new v.default.Camera(this._renderer);return s.cameraFOV=this.cameraFOV,s.aspectRatio=this.aspectRatio,s.eyeX=this.eyeX,s.eyeY=this.eyeY,s.eyeZ=this.eyeZ,s.centerX=this.centerX,s.centerY=this.centerY,s.centerZ=this.centerZ,s.upX=this.upX,s.upY=this.upY,s.upZ=this.upZ,s.cameraNear=this.cameraNear,s.cameraFar=this.cameraFar,s.cameraType=this.cameraType,s.cameraMatrix=this.cameraMatrix.copy(),s.projMatrix=this.projMatrix.copy(),s.yScale=this.yScale,s}},{key:"_getLocalAxes",value:function(){var _,s=this.eyeX-this.centerX,l=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,p=(0!==(p=Math.sqrt(s*s+l*l+a*a))&&(s/=p,l/=p,a/=p),this.upX),d=(c=this.upY)*a-(m=this.upZ)*l,f=-p*a+m*s,u=p*l-c*s,c=(p=l*u-a*f,-s*u+a*d),m=s*f-l*d;return 0!==(0!==(_=Math.sqrt(d*d+f*f+u*u))&&(d/=_,f/=_,u/=_),_=Math.sqrt(p*p+c*c+m*m))&&(p/=_,c/=_,m/=_),{x:[d,f,u],y:[p,c,m],z:[s,l,a]}}},{key:"_orbit",value:function(s,_,m){var f=this.eyeX-this.centerX,u=this.eyeY-this.centerY,p=this.eyeZ-this.centerZ,d=Math.hypot(f,u,p),c=(f=new v.default.Vector(f,u,p).normalize(),u=new v.default.Vector(this.upX,this.upY,this.upZ).normalize(),p=v.default.Vector.cross(u,f).normalize(),v.default.Vector.cross(p,u));(d=(d*=Math.pow(10,m))<this.cameraNear?this.cameraNear:d)>this.cameraFar&&(d=this.cameraFar),m=Math.acos(Math.max(-1,Math.min(1,v.default.Vector.dot(f,u))))+_,_=s,(m<=0||m>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),u.mult(Math.cos(m)),c.mult(Math.cos(_)*Math.sin(m)),p.mult(Math.sin(_)*Math.sin(m)),f.set(u).add(c).add(p),this.eyeX=d*f.x+this.centerX,this.eyeY=d*f.y+this.centerY,this.eyeZ=d*f.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(m,_,x){var f=this.eyeX-this.centerX,u=this.eyeY-this.centerY,p=this.eyeZ-this.centerZ,d=Math.hypot(f,u,p),c=(f=new v.default.Vector(f,u,p).normalize(),u=new v.default.Vector(this.upX,this.upY,this.upZ),p=v.default.Vector.cross(u,f).normalize(),v.default.Vector.cross(f,p)),I=Math.atan2(_,m),M=(c.mult(Math.sin(I)),p.mult(Math.cos(I)).add(c),I=Math.sqrt(m*m+_*_),c=v.default.Vector.cross(f,p),(d=(d*=Math.pow(10,x))<this.cameraNear?this.cameraNear:d)>this.cameraFar&&(d=this.cameraFar),m=Math.cos(I),_=Math.sin(I),(x=u.dot(f))*m+(I=u.dot(p))*_);x=-x*_+I*m,I=u.dot(c),u.x=M*f.x+x*p.x+I*c.x,u.y=M*f.y+x*p.y+I*c.y,u.z=M*f.z+x*p.z+I*c.z,p.mult(-_),f.mult(m).add(p).mult(d),this.camera(f.x+this.centerX,f.y+this.centerY,f.z+this.centerZ,this.centerX,this.centerY,this.centerZ,u.x,u.y,u.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&b(y.prototype,C),g}(),v.default.prototype.setCamera=function(g){this._renderer._curCamera=g,this._renderer.uPMatrix.set(g.projMatrix),this._renderer.uViewMatrix.set(g.cameraMatrix)},V.default=o=v.default.Camera},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(o,se,V){"use strict";function v(b,g){for(var y=0;y<g.length;y++){var C=g[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.log2"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.math.log2"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.DataArray=function(){function b(){var w=0<arguments.length&&void 0!==arguments[0]?arguments[0]:128;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(w),this.initialLength=w}var g,y;return g=b,(y=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var w;this.length<this.data.length/2&&(w=1<<Math.ceil(Math.log2(this.length)),(w=new Float32Array(w)).set(this.data.subarray(0,this.length),0),this.data=w)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var w=arguments.length,s=new Array(w),l=0;l<w;l++)s[l]=arguments[l];this.ensureLength(this.length+s.length),this.data.set(s,this.length),this.length+=s.length}},{key:"slice",value:function(w,s){return this.data.slice(w,Math.min(s,this.length))}},{key:"subArray",value:function(w,s){return this.data.subarray(w,Math.min(s,this.length))}},{key:"ensureLength",value:function(w){for(;this.data.length<w;){var s=new Float32Array(2*this.data.length);s.set(this.data,0),this.data=s}}}])&&v(g.prototype,y),b}(),V.default=o=o.default.DataArray},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(A,se,V){"use strict";function v(H){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(H)}function b(H){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(P){return v(P)}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":v(P)})(H)}A("core-js/modules/es.symbol"),A("core-js/modules/es.symbol.description"),A("core-js/modules/es.symbol.iterator"),A("core-js/modules/es.array.fill"),A("core-js/modules/es.array.includes"),A("core-js/modules/es.array.iterator"),A("core-js/modules/es.object.get-own-property-descriptor"),A("core-js/modules/es.object.get-prototype-of"),A("core-js/modules/es.object.to-string"),A("core-js/modules/es.reflect.construct"),A("core-js/modules/es.reflect.get"),A("core-js/modules/es.regexp.to-string"),A("core-js/modules/es.string.includes"),A("core-js/modules/es.string.iterator"),A("core-js/modules/es.typed-array.float32-array"),A("core-js/modules/es.typed-array.uint8-array"),A("core-js/modules/es.typed-array.uint8-clamped-array"),A("core-js/modules/es.typed-array.copy-within"),A("core-js/modules/es.typed-array.every"),A("core-js/modules/es.typed-array.fill"),A("core-js/modules/es.typed-array.filter"),A("core-js/modules/es.typed-array.find"),A("core-js/modules/es.typed-array.find-index"),A("core-js/modules/es.typed-array.for-each"),A("core-js/modules/es.typed-array.includes"),A("core-js/modules/es.typed-array.index-of"),A("core-js/modules/es.typed-array.iterator"),A("core-js/modules/es.typed-array.join"),A("core-js/modules/es.typed-array.last-index-of"),A("core-js/modules/es.typed-array.map"),A("core-js/modules/es.typed-array.reduce"),A("core-js/modules/es.typed-array.reduce-right"),A("core-js/modules/es.typed-array.reverse"),A("core-js/modules/es.typed-array.set"),A("core-js/modules/es.typed-array.slice"),A("core-js/modules/es.typed-array.some"),A("core-js/modules/es.typed-array.sort"),A("core-js/modules/es.typed-array.subarray"),A("core-js/modules/es.typed-array.to-locale-string"),A("core-js/modules/es.typed-array.to-string"),A("core-js/modules/es.weak-map"),A("core-js/modules/web.dom-collections.iterator"),A("core-js/modules/es.array.fill"),A("core-js/modules/es.array.includes"),A("core-js/modules/es.array.iterator"),A("core-js/modules/es.object.get-prototype-of"),A("core-js/modules/es.object.to-string"),A("core-js/modules/es.string.includes"),A("core-js/modules/es.typed-array.float32-array"),A("core-js/modules/es.typed-array.uint8-array"),A("core-js/modules/es.typed-array.uint8-clamped-array"),A("core-js/modules/es.typed-array.copy-within"),A("core-js/modules/es.typed-array.every"),A("core-js/modules/es.typed-array.fill"),A("core-js/modules/es.typed-array.filter"),A("core-js/modules/es.typed-array.find"),A("core-js/modules/es.typed-array.find-index"),A("core-js/modules/es.typed-array.for-each"),A("core-js/modules/es.typed-array.includes"),A("core-js/modules/es.typed-array.index-of"),A("core-js/modules/es.typed-array.iterator"),A("core-js/modules/es.typed-array.join"),A("core-js/modules/es.typed-array.last-index-of"),A("core-js/modules/es.typed-array.map"),A("core-js/modules/es.typed-array.reduce"),A("core-js/modules/es.typed-array.reduce-right"),A("core-js/modules/es.typed-array.reverse"),A("core-js/modules/es.typed-array.set"),A("core-js/modules/es.typed-array.slice"),A("core-js/modules/es.typed-array.some"),A("core-js/modules/es.typed-array.sort"),A("core-js/modules/es.typed-array.subarray"),A("core-js/modules/es.typed-array.to-locale-string"),A("core-js/modules/es.typed-array.to-string"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=(I=A("../core/main"))&&I.__esModule?I:{default:I},y=function(H){if(H&&H.__esModule)return H;if(null===H||"object"!==b(H)&&"function"!=typeof H)return{default:H};var P=s();if(P&&P.has(H))return P.get(H);var z,k={},te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(z in H){var ne;Object.prototype.hasOwnProperty.call(H,z)&&((ne=te?Object.getOwnPropertyDescriptor(H,z):null)&&(ne.get||ne.set)?Object.defineProperty(k,z,ne):k[z]=H[z])}return k.default=H,P&&P.set(H,k),k}(A("../core/constants")),C=A("./p5.Texture"),w=A("./p5.RendererGL");function s(){var H;return"function"!=typeof WeakMap?null:(s=function(){return H},H=new WeakMap)}function l(H,P){return function(z){if(Array.isArray(z))return z}(H)||function(z,k){if(Symbol.iterator in Object(z)||"[object Arguments]"===Object.prototype.toString.call(z)){var te=[],ne=!0,G=!1,X=void 0;try{for(var B,N=z[Symbol.iterator]();!(ne=(B=N.next()).done)&&(te.push(B.value),!k||te.length!==k);ne=!0);}catch(K){G=!0,X=K}finally{try{ne||null==N.return||N.return()}finally{if(G)throw X}}return te}}(H,P)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(H,P,z){return P in H?Object.defineProperty(H,P,{value:z,enumerable:!0,configurable:!0,writable:!0}):H[P]=z,H}function d(H,P){if(!(H instanceof P))throw new TypeError("Cannot call a class as a function")}function f(H,P){for(var z=0;z<P.length;z++){var k=P[z];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(H,k.key,k)}}function u(H,P,z){P&&f(H.prototype,P),z&&f(H,z)}function p(H,P,z){return(p=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(G,te,ne){if(G=function(X,B){for(;!Object.prototype.hasOwnProperty.call(X,B)&&null!==(X=_(X)););return X}(G,te))return(G=Object.getOwnPropertyDescriptor(G,te)).get?G.get.call(ne):G.value})(H,P,z||H)}function c(H,P){return(c=Object.setPrototypeOf||function(z,k){return z.__proto__=k,z})(H,P)}function _(H){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(H)}var M=function(H){var P=k;if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(H&&H.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),H&&c(P,H);var z=function m(H){return function(){var P,z=_(H);if(P=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(P=_(this).constructor,Reflect.construct(z,arguments,P)):z.apply(this,arguments),z=this,!P||"object"!==b(P)&&"function"!=typeof P){if(void 0!==z)return z;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return P}}(k);function k(te){var ne;return d(this,k),(ne=z.call(this,te.target._renderer)).fbo=te,ne.yScale=-1,ne}return u(k,[{key:"_computeCameraDefaultSettings",value:function(){p(_(k.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),k}(g.default.Camera),x=(g.default.FramebufferCamera=M,function(){function H(P,z){d(this,H),this.framebuffer=P,this.property=z}return u(H,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),H}()),I=(g.default.FramebufferTexture=x,function(){function H(P){var z=this,k=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},te=(d(this,H),this.target=P,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=k.format||y.UNSIGNED_BYTE,this.channels=k.channels||(P._renderer._pInst._glAttributes.alpha?y.RGBA:y.RGB),this.useDepth=void 0===k.depth||k.depth,this.depthFormat=k.depthFormat||y.FLOAT,this.textureFiltering=k.textureFiltering||y.LINEAR,this.antialiasSamples=void 0===k.antialias?P._renderer._pInst._glAttributes.antialias?2:0:"number"==typeof k.antialias?k.antialias:k.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&P.webglVersion!==y.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=k.density||P.pixelDensity(),P._renderer.GL);if(this.gl=te,k.width&&k.height?(ne=P._renderer._adjustDimensions(k.width,k.height),this.width=ne.adjustedWidth,this.height=ne.adjustedHeight,this._autoSized=!1):(void 0===k.width!=(void 0===k.height)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=P.width,this.height=P.height,this._autoSized=!0),this._checkIfFormatsAvailable(),k.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(void 0===k.stencil||k.stencil),this.framebuffer=te.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=te.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var ne=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=ne,this.draw(function(){return z.target.clear()})}return u(H,[{key:"resize",value:function(P,z){this._autoSized=!1;var k=this.target._renderer._adjustDimensions(P,z);z=k.adjustedHeight,this.width=P=k.adjustedWidth,this.height=z,this._handleResize()}},{key:"pixelDensity",value:function(P){if(!P)return this.density;this._autoSized=!1,this.density=P,this._handleResize()}},{key:"autoSized",value:function(P){if(void 0===P)return this._autoSized;this._autoSized=P,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var P=this.gl;(this.useDepth&&this.target.webglVersion===y.WEBGL&&!P.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===y.WEBGL&&this.depthFormat===y.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=y.UNSIGNED_INT),[y.UNSIGNED_BYTE,y.FLOAT,y.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=y.UNSIGNED_BYTE),this.useDepth&&![y.UNSIGNED_INT,y.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=y.FLOAT),P=(0,C.checkWebGLCapabilities)(this.target._renderer)).float||this.format!==y.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=y.UNSIGNED_BYTE),this.useDepth&&!P.float&&this.depthFormat===y.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=y.UNSIGNED_INT),P.halfFloat||this.format!==y.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=y.UNSIGNED_BYTE),this.channels===y.RGB&&[y.FLOAT,y.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=y.RGBA)}},{key:"_recreateTextures",value:function(){var P=this.gl,z=(this._updateSize(),P.getParameter(P.TEXTURE_BINDING_2D)),k=P.getParameter(P.FRAMEBUFFER_BINDING);if(!(te=P.createTexture()))throw new Error("Unable to create color texture");P.bindTexture(P.TEXTURE_2D,te);var ne=this._glColorFormat();if(P.texImage2D(P.TEXTURE_2D,0,ne.internalFormat,this.width*this.density,this.height*this.density,0,ne.format,ne.type,null),this.colorTexture=te,P.bindFramebuffer(P.FRAMEBUFFER,this.framebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,te,0),this.useDepth){var te;if(!(te=P.createTexture()))throw new Error("Unable to create depth texture");var G=this._glDepthFormat();P.bindTexture(P.TEXTURE_2D,te),P.texImage2D(P.TEXTURE_2D,0,G.internalFormat,this.width*this.density,this.height*this.density,0,G.format,G.type,null),P.framebufferTexture2D(P.FRAMEBUFFER,this.useStencil?P.DEPTH_STENCIL_ATTACHMENT:P.DEPTH_ATTACHMENT,P.TEXTURE_2D,te,0),this.depthTexture=te}this.antialias&&(this.colorRenderbuffer=P.createRenderbuffer(),P.bindRenderbuffer(P.RENDERBUFFER,this.colorRenderbuffer),P.renderbufferStorageMultisample(P.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,P.getParameter(P.MAX_SAMPLES))),ne.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(G=this._glDepthFormat(),this.depthRenderbuffer=P.createRenderbuffer(),P.bindRenderbuffer(P.RENDERBUFFER,this.depthRenderbuffer),P.renderbufferStorageMultisample(P.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,P.getParameter(P.MAX_SAMPLES))),G.internalFormat,this.width*this.density,this.height*this.density)),P.bindFramebuffer(P.FRAMEBUFFER,this.aaFramebuffer),P.framebufferRenderbuffer(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&P.framebufferRenderbuffer(P.FRAMEBUFFER,this.useStencil?P.DEPTH_STENCIL_ATTACHMENT:P.DEPTH_ATTACHMENT,P.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new x(this,"depthTexture"),this.depthP5Texture=new g.default.Texture(this.target._renderer,this.depth,{minFilter:te=P.NEAREST,magFilter:te}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new x(this,"colorTexture"),this.colorP5Texture=new g.default.Texture(this.target._renderer,this.color,{minFilter:ne=this.textureFiltering===y.LINEAR?P.LINEAR:P.NEAREST,magFilter:ne}),this.target._renderer.textures.set(this.color,this.colorP5Texture),P.bindTexture(P.TEXTURE_2D,z),P.bindFramebuffer(P.FRAMEBUFFER,k)}},{key:"_glColorFormat",value:function(){var P,z,k=this.gl,te=this.format===y.FLOAT?k.FLOAT:this.format===y.HALF_FLOAT?this.target.webglVersion===y.WEBGL2?k.HALF_FLOAT:k.getExtension("OES_texture_half_float").HALF_FLOAT_OES:k.UNSIGNED_BYTE,ne=this.channels===y.RGBA?k.RGBA:k.RGB;return{internalFormat:this.target.webglVersion===y.WEBGL2?(a(z={},k.FLOAT,a({},k.RGBA,k.RGBA32F)),a(z,k.HALF_FLOAT,a({},k.RGBA,k.RGBA16F)),a(z,k.UNSIGNED_BYTE,(a(P={},k.RGBA,k.RGBA8),a(P,k.RGB,k.RGB8),P)),z[te][ne]):this.format===y.HALF_FLOAT?k.RGBA:ne,format:ne,type:te}}},{key:"_glDepthFormat",value:function(){var k=this.gl,P=this.useStencil?this.depthFormat===y.FLOAT?k.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===y.WEBGL2?k.UNSIGNED_INT_24_8:k.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===y.FLOAT?k.FLOAT:k.UNSIGNED_INT,z=this.useStencil?k.DEPTH_STENCIL:k.DEPTH_COMPONENT;return{internalFormat:k=this.useStencil?this.depthFormat===y.FLOAT?k.DEPTH32F_STENCIL8:this.target.webglVersion===y.WEBGL2?k.DEPTH24_STENCIL8:k.DEPTH_STENCIL:this.target.webglVersion===y.WEBGL2?this.depthFormat===y.FLOAT?k.DEPTH_COMPONENT32F:k.DEPTH_COMPONENT24:k.DEPTH_COMPONENT,format:z,type:P}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var P=this.depth,z=this.colorRenderbuffer,k=this.depthRenderbuffer,te=(this._deleteTexture(te=this.color),P&&this._deleteTexture(P),this.gl);z&&te.deleteRenderbuffer(z),k&&te.deleteRenderbuffer(k),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var P=new M(this);return P._computeCameraDefaultSettings(),P._setDefaultCamera(),this.target._renderer._curCamera=P}},{key:"_deleteTexture",value:function(P){this.gl.deleteTexture(P.rawTexture()),this.target._renderer.textures.delete(P)}},{key:"remove",value:function(){var P=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),P.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&P.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&P.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&P.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var P=this.gl;P.bindFramebuffer(P.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var P=this.gl,z=(P.bindFramebuffer(P.READ_FRAMEBUFFER,this.aaFramebuffer),P.bindFramebuffer(P.DRAW_FRAMEBUFFER,this.framebuffer),[[P.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&z.push([P.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var k=0,te=z;k<te.length;k++){var G=l(te[k],2);P.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,G[0],G=G[1])}}}},{key:"end",value:function(){var P=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(P.bindFramebuffer(P.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(P){this.begin(),P(),this.end()}},{key:"loadPixels",value:function(){var P=this.gl,z=this.target._renderer.activeFramebuffer(),k=(P.bindFramebuffer(P.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,w.readPixelsWebGL)(this.pixels,P,this.framebuffer,0,0,this.width*this.density,this.height*this.density,k.format,k.type),P.bindFramebuffer(P.FRAMEBUFFER,z?z._framebufferToBind():null)}},{key:"get",value:function(P,z,k,te){g.default._validateParameters("p5.Framebuffer.get",arguments);var ne=this._glColorFormat();if(void 0===P&&void 0===z)z=P=0,k=this.width,te=this.height;else if(void 0===k&&void 0===te)return(P<0||z<0||P>=this.width||z>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),P=this.target.constrain(P,0,this.width-1),z=this.target.constrain(z,0,this.height-1)),(0,w.readPixelWebGL)(this.gl,this.framebuffer,P*this.density,z*this.density,ne.format,ne.type);P=this.target.constrain(P,0,this.width-1),z=this.target.constrain(z,0,this.height-1),k=this.target.constrain(k,1,this.width-P),te=this.target.constrain(te,1,this.height-z);for(var G=(0,w.readPixelsWebGL)(void 0,this.gl,this.framebuffer,P*this.density,z*this.density,k*this.density,te*this.density,ne.format,ne.type),X=new Uint8ClampedArray(k*te*this.density*this.density*4),B=(X.fill(255),ne.type===this.gl.RGB?3:4),N=0;N<te*this.density;N++)for(var K=0;K<k*this.density;K++)for(var ie=0;ie<4;ie++){var Y=4*(N*k*this.density+K)+ie;ie<B&&(X[Y]=G[4==B?Y:(N*k*this.density+K)*B+ie])}return(P=new g.default.Image(k*this.density,te*this.density)).imageData=P.canvas.getContext("2d").createImageData(P.width,P.height),P.imageData.data.set(X),P.pixels=P.imageData.data,P.updatePixels(),1!==this.density&&P.resize(k,te),P}},{key:"updatePixels",value:function(){var P=this.gl,z=(this.colorP5Texture.bindTexture(),this._glColorFormat()),k=this.width*this.height*this.density*this.density*(k=z.format===P.RGBA?4:3),te=z.type===P.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof te)||this.pixels.length!==k)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");P.texImage2D(P.TEXTURE_2D,0,z.internalFormat,this.width*this.density,this.height*this.density,0,z.format,z.type,this.pixels),this.colorP5Texture.unbindTexture(),te=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(P.clearDepth(1),P.clear(P.DEPTH_BUFFER_BIT)),this.end()):(P.bindFramebuffer(P.FRAMEBUFFER,this.framebuffer),this.useDepth&&(P.clearDepth(1),P.clear(P.DEPTH_BUFFER_BIT)),P.bindFramebuffer(P.FRAMEBUFFER,te?te._framebufferToBind():null))}}]),H}());A=g.default.Framebuffer=I,V.default=A},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(o,se,V){"use strict";function v(d){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function b(d){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(f){return v(f)}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":v(f)})(d)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.flat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.unscopables.flat"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.entries"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.flat"),o("core-js/modules/es.array.for-each"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.last-index-of"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.unscopables.flat"),o("core-js/modules/es.array-buffer.constructor"),o("core-js/modules/es.map"),o("core-js/modules/es.number.constructor"),o("core-js/modules/es.object.entries"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.set"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.for-each"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=(a=o("../core/main"))&&a.__esModule?a:{default:a},y=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==b(d)&&"function"!=typeof d)return{default:d};var f=C();if(f&&f.has(d))return f.get(d);var u,p={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in d){var m;Object.prototype.hasOwnProperty.call(d,u)&&((m=c?Object.getOwnPropertyDescriptor(d,u):null)&&(m.get||m.set)?Object.defineProperty(p,u,m):p[u]=d[u])}return p.default=d,f&&f.set(d,p),p}(o("../core/constants"));function C(){var d;return"function"!=typeof WeakMap?null:(C=function(){return d},d=new WeakMap)}function w(d){return function(f){if(Array.isArray(f)){for(var u=0,p=new Array(f.length);u<f.length;u++)p[u]=f[u];return p}}(d)||function(f){if(Symbol.iterator in Object(f)||"[object Arguments]"===Object.prototype.toString.call(f))return Array.from(f)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(d,f){return function(u){if(Array.isArray(u))return u}(d)||function(u,p){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u)){var c=[],m=!0,_=!1,M=void 0;try{for(var x,I=u[Symbol.iterator]();!(m=(x=I.next()).done)&&(c.push(x.value),!p||c.length!==p);m=!0);}catch(A){_=!0,M=A}finally{try{m||null==I.return||I.return()}finally{if(_)throw M}}return c}}(d,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(d,f){for(var u=0;u<f.length;u++){var p=f[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}g.default.Geometry=function(){function d(c,m,_){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new g.default.DataArray,this.lineTangentsIn=new g.default.DataArray,this.lineTangentsOut=new g.default.DataArray,this.lineSides=new g.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new g.default.DataArray,this.detailX=void 0!==c?c:1,this.detailY=void 0!==m?m:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,_ instanceof Function&&_.call(this)}var f,u;return f=d,(u=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var c=new g.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),m=new g.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),_=0;_<this.vertices.length;_++){var M=this.vertices[_];c.x=Math.min(c.x,M.x),c.y=Math.min(c.y,M.y),c.z=Math.min(c.z,M.z),m.x=Math.max(m.x,M.x),m.y=Math.max(m.y,M.y),m.z=Math.max(m.z,M.z)}var x=new g.default.Vector(m.x-c.x,m.y-c.y,m.z-c.z),I=new g.default.Vector((c.x+m.x)/2,(c.y+m.y)/2,(c.z+m.z)/2);this.boundingBoxCache={min:c,max:m,size:x,offset:I}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(void 0===this._hasFillTransparency){this._hasFillTransparency=!1;for(var c=0;c<this.vertexColors.length;c+=4)if(this.vertexColors[c+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(void 0===this._hasStrokeTransparency){this._hasStrokeTransparency=!1;for(var c=0;c<this.lineVertexColors.length;c+=4)if(this.lineVertexColors[c+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var c=this,m=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"model.obj",_="";if(this.vertices.forEach(function(I){_+="v ".concat(I.x," ").concat(I.y," ").concat(I.z,"\n")}),this.uvs&&0<this.uvs.length)for(var M=0;M<this.uvs.length;M+=2)_+="vt ".concat(this.uvs[M]," ").concat(this.uvs[M+1],"\n");this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(I){_+="vn ".concat(I.x," ").concat(I.y," ").concat(I.z,"\n")}),this.faces.forEach(function(I){var A="f";I.forEach(function(H){A=A+" "+(H+1),(0<c.vertexNormals.length||0<c.uvs.length)&&(A+="/",0<c.uvs.length&&(A+=H+1),A+="/",0<c.vertexNormals.length&&(A+=H+1))}),_+=A+"\n"});var x=new Blob([_],{type:"text/plain"});g.default.prototype.downloadFile(x,m,"obj")}},{key:"saveStl",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"model.stl",m=void 0!==(m=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).binary)&&m,_=c.substring(0,c.lastIndexOf(".")),M=[],x=!0,I=!1,A=void 0;try{for(var H,P=this.faces[Symbol.iterator]();!(x=(H=P.next()).done);x=!0){var z=H.value,k=g.default.Vector.sub(this.vertices[z[1]],this.vertices[z[0]]),te=g.default.Vector.sub(this.vertices[z[2]],this.vertices[z[0]]);M.push(new g.default.Vector(k.y*te.z-k.z*te.y,k.z*te.x-k.x*te.z,k.x*te.y-k.y*te.x).normalize())}}catch(Tt){I=!0,A=Tt}finally{try{x||null==P.return||P.return()}finally{if(I)throw A}}if(m){var B,N=80;I=2*this.faces.length+3*this.faces.length*4*4+80+4,A=new ArrayBuffer(I),(B=new DataView(A)).setUint32(N,this.faces.length,!0),N+=4;for(var K=0,ie=Object.entries(this.faces);K<ie.length;K++){var R=(Ae=s(ie[K],2))[0],Ae=Ae[1],Y=(B.setFloat32(N,(R=M[R]).x,!0),B.setFloat32(N+=4,R.y,!0),B.setFloat32(N+=4,R.z,!0),N+=4,!0),Q=void(R=!1);try{for(var pe,Se=Ae[Symbol.iterator]();!(Y=(pe=Se.next()).done);Y=!0){var qe=this.vertices[pe.value];B.setFloat32(N,qe.x,!0),B.setFloat32(N+=4,qe.y,!0),B.setFloat32(N+=4,qe.z,!0),N+=4}}catch(Ut){R=!0,Q=Ut}finally{try{Y||null==Se.return||Se.return()}finally{if(R)throw Q}}B.setUint16(N,0,!0),N+=2}}else{B="solid "+_+"\n";for(var pt=0,We=Object.entries(this.faces);pt<We.length;pt++){var $e=(ct=s(We[pt],2))[0],ct=ct[1],dt=(B=B+" facet norm "+($e=M[$e]).x+" "+$e.y+" "+$e.z+"\n  outer loop\n",!0),Ze=void($e=!1);try{for(var Je,at=ct[Symbol.iterator]();!(dt=(Je=at.next()).done);dt=!0){var st=this.vertices[Je.value];B+="   vertex "+st.x+" "+st.y+" "+st.z+"\n"}}catch(Tt){$e=!0,Ze=Tt}finally{try{dt||null==at.return||at.return()}finally{if($e)throw Ze}}B+="  endloop\n endfacet\n"}B+="endsolid "+_+"\n"}m=new Blob([B],{type:"text/plain"}),g.default.prototype.downloadFile(m,c,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(c,m){return m%2==0?1-c:c})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(c,m){return m%2==0?c:1-c})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var c,m,_,M=this.detailX+1,x=0;x<this.detailY;x++)for(var I=0;I<this.detailX;I++)m=(x+1)*M+I+1,this.faces.push([x*M+I,c=x*M+I+1,_=(x+1)*M+I]),this.faces.push([_,c,m]);return this}},{key:"_getFaceNormal",value:function(m){var _=this.vertices[(m=this.faces[m])[0]],x=this.vertices[m[1]],M=(m=this.vertices[m[2]],x=g.default.Vector.sub(x,_),m=g.default.Vector.sub(m,_),_=g.default.Vector.cross(x,m),g.default.Vector.mag(_));return 0==(x=M/(g.default.Vector.mag(x)*g.default.Vector.mag(m)))||isNaN(x)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),_):(1<x&&(x=1),_.mult(Math.asin(x)/M))}},{key:"computeNormals",value:function(){var c,m=this,M=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).roundToPrecision,x=this.vertexNormals,I=this.vertices,A=this.faces;if((0<arguments.length&&void 0!==arguments[0]?arguments[0]:y.FLAT)===y.SMOOTH){for(var H={},P=[],z=Math.pow(10,void 0===M?3:M),k=function(B){return Math.round(B*z)/z},te=function(B){return"".concat(k(B.x),",").concat(k(B.y),",").concat(k(B.z))},ne=0;ne<I.length;ne++){var G=I[ne],X=te(G);void 0===H[X]&&(H[X]=P.length,P.push(G))}A.forEach(function(B){for(var N=0;N<3;++N){var K=te(K=I[K=B[N]]);B[N]=H[K]}}),this.edges.forEach(function(B){for(var N=0;N<2;++N){var K=te(K=I[K=B[N]]);B[N]=H[K]}}),this.vertices=I=P}for(c=x.length=0;c<I.length;++c)x.push(new g.default.Vector);for(A.forEach(function(B,N){for(var K=m._getFaceNormal(N),ie=0;ie<3;++ie)x[B[ie]].add(K)}),c=0;c<I.length;++c)x[c].normalize();return this}},{key:"averageNormals",value:function(){for(var c=0;c<=this.detailY;c++){var m=this.detailX+1,_=g.default.Vector.add(this.vertexNormals[c*m],this.vertexNormals[c*m+this.detailX]);_=g.default.Vector.div(_,2),this.vertexNormals[c*m]=_,this.vertexNormals[c*m+this.detailX]=_}return this}},{key:"averagePoleNormals",value:function(){for(var c=new g.default.Vector(0,0,0),m=0;m<this.detailX;m++)c.add(this.vertexNormals[m]);c=g.default.Vector.div(c,this.detailX);for(var _=0;_<this.detailX;_++)this.vertexNormals[_]=c;c=new g.default.Vector(0,0,0);for(var M=this.vertices.length-1;M>this.vertices.length-1-this.detailX;M--)c.add(this.vertexNormals[M]);c=g.default.Vector.div(c,this.detailX);for(var x=this.vertices.length-1;x>this.vertices.length-1-this.detailX;x--)this.vertexNormals[x]=c;return this}},{key:"_makeTriangleEdges",value:function(){for(var c=this.edges.length=0;c<this.faces.length;c++)this.edges.push([this.faces[c][0],this.faces[c][1]]),this.edges.push([this.faces[c][1],this.faces[c][2]]),this.edges.push([this.faces[c][2],this.faces[c][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var c,m=new Map,_=new Set,M=0;M<this.edges.length;M++){var x,I=this.edges[M-1],A=this.edges[M],H=this.vertices[A[0]],P=this.vertices[A[1]],z=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*A[0],4*(A[0]+1)):[0,0,0,0],k=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*A[1],4*(A[1]+1)):[0,0,0,0],te=P.copy().sub(H).normalize(),ne=0<te.magSq();ne&&this._addSegment(H,P,z,k,te),0<M&&I[1]===A[0]?_.has(A[0])||(_.add(A[0]),m.delete(A[0]),c&&ne&&te.dot(c)<1-1e-8&&this._addJoin(H,c,te,z)):(ne&&!_.has(A[0])&&((x=m.get(A[0]))?(this._addJoin(H,x.dir,te,z),m.delete(A[0]),_.add(A[0])):m.set(A[0],{point:H,dir:te.copy().mult(-1),color:z})),c&&!_.has(I[1])&&((x=m.get(I[1]))?(this._addJoin(this.vertices[I[1]],c,x.dir.copy().mult(-1),z),m.delete(I[1]),_.add(I[1])):m.set(I[1],{point:this.vertices[I[1]],dir:c,color:z}),c=void 0)),M!==this.edges.length-1||_.has(A[1])||((H=m.get(A[1]))?(this._addJoin(P,te,H.dir.copy().mult(-1),k),m.delete(A[1]),_.add(A[1])):m.set(A[1],{point:P,dir:te,color:k})),ne&&(c=te)}var G=!0,X=!1,B=void 0;try{for(var N,K=m.values()[Symbol.iterator]();!(G=(N=K.next()).done);G=!0){var ie=N.value;this._addCap(ie.point,ie.dir,ie.color)}}catch(Q){X=!0,B=Q}finally{try{G||null==K.return||K.return()}finally{if(X)throw B}}return this}},{key:"_addSegment",value:function(I,A,_,M,x){I=I.array(),A=A.array();var H=x.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var P=0,z=[this.lineTangentsIn,this.lineTangentsOut];P<z.length;P++)for(var k=z[P],te=0;te<6;te++)k.push.apply(k,w(H));return(x=this.lineVertices).push.apply(x,w(I).concat(w(A),w(I),w(A),w(A),w(I))),(x=this.lineVertexColors).push.apply(x,w(_).concat(w(M),w(_),w(M),w(M),w(_))),this}},{key:"_addCap",value:function(c,m,_){for(var M,x=c.array(),I=m.array(),A=[0,0,0],H=0;H<6;H++)(M=this.lineVertices).push.apply(M,w(x)),(M=this.lineTangentsIn).push.apply(M,w(I)),(M=this.lineTangentsOut).push.apply(M,A),(M=this.lineVertexColors).push.apply(M,w(_));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(c,m,_,M){for(var x,I=c.array(),A=m.array(),H=_.array(),P=0;P<12;P++)(x=this.lineVertices).push.apply(x,w(I)),(x=this.lineTangentsIn).push.apply(x,w(A)),(x=this.lineTangentsOut).push.apply(x,w(H)),(x=this.lineVertexColors).push.apply(x,w(M));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var c=this.vertices[0].copy(),m=this.vertices[0].copy(),_=0;_<this.vertices.length;_++)c.x=Math.max(c.x,this.vertices[_].x),m.x=Math.min(m.x,this.vertices[_].x),c.y=Math.max(c.y,this.vertices[_].y),m.y=Math.min(m.y,this.vertices[_].y),c.z=Math.max(c.z,this.vertices[_].z),m.z=Math.min(m.z,this.vertices[_].z);for(var M=g.default.Vector.lerp(c,m,.5),x=g.default.Vector.sub(c,m),I=200/Math.max(Math.max(x.x,x.y),x.z),A=0;A<this.vertices.length;A++)this.vertices[A].sub(M),this.vertices[A].mult(I)}return this}}])&&l(f.prototype,u),d}();var a=g.default.Geometry;V.default=a},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(C,se,V){"use strict";C("core-js/modules/es.array.iterator"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),C("core-js/modules/es.array.iterator"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(C=C("../core/main"))&&C.__esModule?C:{default:C};function b(w,s){for(var l=0;l<s.length;l++){var a=s[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(w,a.key,a)}}var g=Array,y=function(w){return Array.isArray(w)};typeof Float32Array<"u"&&(g=Float32Array,y=function(w){return Array.isArray(w)||w instanceof Float32Array}),v.default.Matrix=function(){function w(){var d=this,f=w;if(d instanceof f)return arguments.length&&((d=arguments.length-1)<0||arguments.length<=d?void 0:arguments[d])instanceof v.default&&(this.p5=(f=arguments.length-1)<0||arguments.length<=f?void 0:arguments[f]),"mat3"===(arguments.length<=0?void 0:arguments[0])?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new g([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new g([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var s,l,a;return s=w,a=[{key:"identity",value:function(d){return new v.default.Matrix(d)}}],(l=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(d){var f=arguments;if(d instanceof v.default.Matrix?f=d.mat4:y(d)&&(f=d),16!==f.length)v.default._friendlyError("Expected 16 values but received ".concat(f.length,"."),"p5.Matrix.set");else for(var u=0;u<16;u++)this.mat4[u]=f[u];return this}},{key:"get",value:function(){return new v.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var d;return void 0!==this.mat3?((d=new v.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],d.mat3[1]=this.mat3[1],d.mat3[2]=this.mat3[2],d.mat3[3]=this.mat3[3],d.mat3[4]=this.mat3[4],d.mat3[5]=this.mat3[5],d.mat3[6]=this.mat3[6],d.mat3[7]=this.mat3[7],d.mat3[8]=this.mat3[8]):((d=new v.default.Matrix(this.p5)).mat4[0]=this.mat4[0],d.mat4[1]=this.mat4[1],d.mat4[2]=this.mat4[2],d.mat4[3]=this.mat4[3],d.mat4[4]=this.mat4[4],d.mat4[5]=this.mat4[5],d.mat4[6]=this.mat4[6],d.mat4[7]=this.mat4[7],d.mat4[8]=this.mat4[8],d.mat4[9]=this.mat4[9],d.mat4[10]=this.mat4[10],d.mat4[11]=this.mat4[11],d.mat4[12]=this.mat4[12],d.mat4[13]=this.mat4[13],d.mat4[14]=this.mat4[14],d.mat4[15]=this.mat4[15]),d}},{key:"transpose",value:function(d){var f,u,p,c,m,_;return d instanceof v.default.Matrix?(f=d.mat4[1],u=d.mat4[2],p=d.mat4[3],c=d.mat4[6],m=d.mat4[7],_=d.mat4[11],this.mat4[0]=d.mat4[0],this.mat4[1]=d.mat4[4],this.mat4[2]=d.mat4[8],this.mat4[3]=d.mat4[12],this.mat4[4]=f,this.mat4[5]=d.mat4[5],this.mat4[6]=d.mat4[9],this.mat4[7]=d.mat4[13],this.mat4[8]=u,this.mat4[9]=c,this.mat4[10]=d.mat4[10],this.mat4[11]=d.mat4[14],this.mat4[12]=p,this.mat4[13]=m,this.mat4[14]=_,this.mat4[15]=d.mat4[15]):y(d)&&(f=d[1],u=d[2],p=d[3],c=d[6],m=d[7],_=d[11],this.mat4[0]=d[0],this.mat4[1]=d[4],this.mat4[2]=d[8],this.mat4[3]=d[12],this.mat4[4]=f,this.mat4[5]=d[5],this.mat4[6]=d[9],this.mat4[7]=d[13],this.mat4[8]=u,this.mat4[9]=c,this.mat4[10]=d[10],this.mat4[11]=d[14],this.mat4[12]=p,this.mat4[13]=m,this.mat4[14]=_,this.mat4[15]=d[15]),this}},{key:"invert",value:function(G){G instanceof v.default.Matrix?(f=G.mat4[0],u=G.mat4[1],p=G.mat4[2],c=G.mat4[3],m=G.mat4[4],_=G.mat4[5],M=G.mat4[6],x=G.mat4[7],I=G.mat4[8],A=G.mat4[9],H=G.mat4[10],P=G.mat4[11],z=G.mat4[12],k=G.mat4[13],te=G.mat4[14],ne=G.mat4[15]):y(G)&&(f=G[0],u=G[1],p=G[2],c=G[3],m=G[4],_=G[5],M=G[6],x=G[7],I=G[8],A=G[9],H=G[10],P=G[11],z=G[12],k=G[13],te=G[14],ne=G[15]);var f,u,p,c,m,_,M,x,I,A,H,P,z,k,te,ne,X=f*M-p*m,B=f*x-c*m,N=u*M-p*_,K=u*x-c*_,ie=p*x-c*M,Ae=I*k-A*z,Y=I*te-H*z,R=I*ne-P*z,Q=A*te-H*k,pe=A*ne-P*k,Se=H*ne-P*te,Ve=(G=f*_-u*m)*Se-X*pe+B*Q+N*R-K*Y+ie*Ae;return Ve?(this.mat4[0]=(_*Se-M*pe+x*Q)*(Ve=1/Ve),this.mat4[1]=(p*pe-u*Se-c*Q)*Ve,this.mat4[2]=(k*ie-te*K+ne*N)*Ve,this.mat4[3]=(H*K-A*ie-P*N)*Ve,this.mat4[4]=(M*R-m*Se-x*Y)*Ve,this.mat4[5]=(f*Se-p*R+c*Y)*Ve,this.mat4[6]=(te*B-z*ie-ne*X)*Ve,this.mat4[7]=(I*ie-H*B+P*X)*Ve,this.mat4[8]=(m*pe-_*R+x*Ae)*Ve,this.mat4[9]=(u*R-f*pe-c*Ae)*Ve,this.mat4[10]=(z*K-k*B+ne*G)*Ve,this.mat4[11]=(A*B-I*K-P*G)*Ve,this.mat4[12]=(_*Y-m*Q-M*Ae)*Ve,this.mat4[13]=(f*Q-u*Y+p*Ae)*Ve,this.mat4[14]=(k*X-z*N-te*G)*Ve,this.mat4[15]=(I*N-A*X+H*G)*Ve,this):null}},{key:"invert3x3",value:function(){var d=this.mat3[0],f=this.mat3[1],u=this.mat3[2],p=this.mat3[3],c=this.mat3[4],m=this.mat3[5],_=this.mat3[6],M=this.mat3[7],x=this.mat3[8],I=x*c-m*M,A=-x*p+m*_,H=M*p-c*_,P=d*I+f*A+u*H;return P?(this.mat3[0]=I*(P=1/P),this.mat3[1]=(-x*f+u*M)*P,this.mat3[2]=(m*f-u*c)*P,this.mat3[3]=A*P,this.mat3[4]=(x*d-u*_)*P,this.mat3[5]=(-m*d+u*p)*P,this.mat3[6]=H*P,this.mat3[7]=(-M*d+f*_)*P,this.mat3[8]=(c*d-f*p)*P,this):null}},{key:"transpose3x3",value:function(d){var f=(d=void 0===d?this.mat3:d)[1],u=d[2],p=d[5];return this.mat3[0]=d[0],this.mat3[1]=d[3],this.mat3[2]=d[6],this.mat3[3]=f,this.mat3[4]=d[4],this.mat3[5]=d[7],this.mat3[6]=u,this.mat3[7]=p,this.mat3[8]=d[8],this}},{key:"inverseTranspose",value:function(d){if(d=d.mat4,void 0===this.mat3?v.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=d[0],this.mat3[1]=d[1],this.mat3[2]=d[2],this.mat3[3]=d[4],this.mat3[4]=d[5],this.mat3[5]=d[6],this.mat3[6]=d[8],this.mat3[7]=d[9],this.mat3[8]=d[10]),d=this.invert3x3())d.transpose3x3(this.mat3);else for(var f=0;f<9;f++)this.mat3[f]=0;return this}},{key:"determinant",value:function(){return(this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4])*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-(this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4])*(this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13])+(this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4])*(this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13])+(this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5])*(this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12])-(this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5])*(this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12])+(this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6])*(this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12])}},{key:"mult",value:function(u){var f;if(u===this||u===this.mat4)f=this.copy().mat4;else if(u instanceof v.default.Matrix)f=u.mat4;else if(y(u))f=u;else{if(16!==arguments.length)return;f=arguments}var p=this.mat4[1],c=this.mat4[2],m=this.mat4[3];return this.mat4[0]=(u=this.mat4[0])*f[0]+p*f[4]+c*f[8]+m*f[12],this.mat4[1]=u*f[1]+p*f[5]+c*f[9]+m*f[13],this.mat4[2]=u*f[2]+p*f[6]+c*f[10]+m*f[14],this.mat4[3]=u*f[3]+p*f[7]+c*f[11]+m*f[15],this.mat4[4]=(u=this.mat4[4])*f[0]+(p=this.mat4[5])*f[4]+(c=this.mat4[6])*f[8]+(m=this.mat4[7])*f[12],this.mat4[5]=u*f[1]+p*f[5]+c*f[9]+m*f[13],this.mat4[6]=u*f[2]+p*f[6]+c*f[10]+m*f[14],this.mat4[7]=u*f[3]+p*f[7]+c*f[11]+m*f[15],this.mat4[8]=(u=this.mat4[8])*f[0]+(p=this.mat4[9])*f[4]+(c=this.mat4[10])*f[8]+(m=this.mat4[11])*f[12],this.mat4[9]=u*f[1]+p*f[5]+c*f[9]+m*f[13],this.mat4[10]=u*f[2]+p*f[6]+c*f[10]+m*f[14],this.mat4[11]=u*f[3]+p*f[7]+c*f[11]+m*f[15],this.mat4[12]=(u=this.mat4[12])*f[0]+(p=this.mat4[13])*f[4]+(c=this.mat4[14])*f[8]+(m=this.mat4[15])*f[12],this.mat4[13]=u*f[1]+p*f[5]+c*f[9]+m*f[13],this.mat4[14]=u*f[2]+p*f[6]+c*f[10]+m*f[14],this.mat4[15]=u*f[3]+p*f[7]+c*f[11]+m*f[15],this}},{key:"apply",value:function(u){var f;if(u===this||u===this.mat4)f=this.copy().mat4;else if(u instanceof v.default.Matrix)f=u.mat4;else if(y(u))f=u;else{if(16!==arguments.length)return;f=arguments}var c,m,_,p=((u=this.mat4)[0]=f[0]*(p=u[0])+f[1]*(c=u[4])+f[2]*(m=u[8])+f[3]*(_=u[12]),u[4]=f[4]*p+f[5]*c+f[6]*m+f[7]*_,u[8]=f[8]*p+f[9]*c+f[10]*m+f[11]*_,u[12]=f[12]*p+f[13]*c+f[14]*m+f[15]*_,u[1]);return u[1]=f[0]*p+f[1]*(c=u[5])+f[2]*(m=u[9])+f[3]*(_=u[13]),u[5]=f[4]*p+f[5]*c+f[6]*m+f[7]*_,u[9]=f[8]*p+f[9]*c+f[10]*m+f[11]*_,u[13]=f[12]*p+f[13]*c+f[14]*m+f[15]*_,u[2]=f[0]*(p=u[2])+f[1]*(c=u[6])+f[2]*(m=u[10])+f[3]*(_=u[14]),u[6]=f[4]*p+f[5]*c+f[6]*m+f[7]*_,u[10]=f[8]*p+f[9]*c+f[10]*m+f[11]*_,u[14]=f[12]*p+f[13]*c+f[14]*m+f[15]*_,u[3]=f[0]*(p=u[3])+f[1]*(c=u[7])+f[2]*(m=u[11])+f[3]*(_=u[15]),u[7]=f[4]*p+f[5]*c+f[6]*m+f[7]*_,u[11]=f[8]*p+f[9]*c+f[10]*m+f[11]*_,u[15]=f[12]*p+f[13]*c+f[14]*m+f[15]*_,this}},{key:"scale",value:function(d,f,u){return d instanceof v.default.Vector?(f=d.y,u=d.z,d=d.x):d instanceof Array&&(f=d[1],u=d[2],d=d[0]),this.mat4[0]*=d,this.mat4[1]*=d,this.mat4[2]*=d,this.mat4[3]*=d,this.mat4[4]*=f,this.mat4[5]*=f,this.mat4[6]*=f,this.mat4[7]*=f,this.mat4[8]*=u,this.mat4[9]*=u,this.mat4[10]*=u,this.mat4[11]*=u,this}},{key:"rotate",value:function(G,pe,Q,p){pe instanceof v.default.Vector?(Q=pe.y,p=pe.z,pe=pe.x):pe instanceof Array&&(Q=pe[1],p=pe[2],pe=pe[0]);var c=(pe*=1/(c=Math.sqrt(pe*pe+Q*Q+p*p)),Q*=1/c,p*=1/c,this.mat4[0]),m=this.mat4[1],_=this.mat4[2],M=this.mat4[3],x=this.mat4[4],I=this.mat4[5],A=this.mat4[6],H=this.mat4[7],P=this.mat4[8],z=this.mat4[9],k=this.mat4[10],te=this.mat4[11],ne=Math.sin(G),X=1-(G=Math.cos(G)),B=pe*pe*X+G,N=Q*pe*X+p*ne,K=p*pe*X-Q*ne,ie=pe*Q*X-p*ne,Ae=Q*Q*X+G,Y=p*Q*X+pe*ne,R=pe*p*X+Q*ne;return Q=Q*p*X-pe*ne,pe=p*p*X+G,this.mat4[0]=c*B+x*N+P*K,this.mat4[1]=m*B+I*N+z*K,this.mat4[2]=_*B+A*N+k*K,this.mat4[3]=M*B+H*N+te*K,this.mat4[4]=c*ie+x*Ae+P*Y,this.mat4[5]=m*ie+I*Ae+z*Y,this.mat4[6]=_*ie+A*Ae+k*Y,this.mat4[7]=M*ie+H*Ae+te*Y,this.mat4[8]=c*R+x*Q+P*pe,this.mat4[9]=m*R+I*Q+z*pe,this.mat4[10]=_*R+A*Q+k*pe,this.mat4[11]=M*R+H*Q+te*pe,this}},{key:"translate",value:function(p){var f=p[0],u=p[1];this.mat4[12]+=this.mat4[0]*f+this.mat4[4]*u+this.mat4[8]*(p=p[2]||0),this.mat4[13]+=this.mat4[1]*f+this.mat4[5]*u+this.mat4[9]*p,this.mat4[14]+=this.mat4[2]*f+this.mat4[6]*u+this.mat4[10]*p,this.mat4[15]+=this.mat4[3]*f+this.mat4[7]*u+this.mat4[11]*p}},{key:"rotateX",value:function(d){this.rotate(d,1,0,0)}},{key:"rotateY",value:function(d){this.rotate(d,0,1,0)}},{key:"rotateZ",value:function(d){this.rotate(d,0,0,1)}},{key:"perspective",value:function(c,f,u,p){c=1/Math.tan(c/2);var m=1/(u-p);return this.mat4[0]=c/f,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=c,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(p+u)*m,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*p*u*m,this.mat4[15]=0,this}},{key:"ortho",value:function(d,f,u,p,c,m){var _=1/(d-f),M=1/(u-p),x=1/(c-m);return this.mat4[0]=-2*_,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*M,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*x,this.mat4[11]=0,this.mat4[12]=(d+f)*_,this.mat4[13]=(p+u)*M,this.mat4[14]=(m+c)*x,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(d,f,u,p){var c=new Array(4),m=this.mat4;return c[0]=m[0]*d+m[4]*f+m[8]*u+m[12]*p,c[1]=m[1]*d+m[5]*f+m[9]*u+m[13]*p,c[2]=m[2]*d+m[6]*f+m[10]*u+m[14]*p,c[3]=m[3]*d+m[7]*f+m[11]*u+m[15]*p,c}},{key:"multiplyPoint",value:function(u){var p=this.multiplyVec4(p=u.x,u.y,u=u.z,1);return new v.default.Vector(p[0],p[1],p[2])}},{key:"multiplyAndNormalizePoint",value:function(u){var p;return(p=this.multiplyVec4(p=u.x,u.y,u=u.z,1))[0]/=p[3],p[1]/=p[3],p[2]/=p[3],new v.default.Vector(p[0],p[1],p[2])}},{key:"multiplyDirection",value:function(u){var p=this.multiplyVec4(p=u.x,u.y,u=u.z,0);return new v.default.Vector(p[0],p[1],p[2])}},{key:"mult3x3",value:function(u){var f;if(u===this||u===this.mat3)f=this.copy().mat3;else if(u instanceof v.default.Matrix)f=u.mat3;else if(y(u))f=u;else{if(9!==arguments.length)return;f=arguments}var p=this.mat3[1],c=this.mat3[2];return this.mat3[0]=(u=this.mat3[0])*f[0]+p*f[3]+c*f[6],this.mat3[1]=u*f[1]+p*f[4]+c*f[7],this.mat3[2]=u*f[2]+p*f[5]+c*f[8],this.mat3[3]=(u=this.mat3[3])*f[0]+(p=this.mat3[4])*f[3]+(c=this.mat3[5])*f[6],this.mat3[4]=u*f[1]+p*f[4]+c*f[7],this.mat3[5]=u*f[2]+p*f[5]+c*f[8],this.mat3[6]=(u=this.mat3[6])*f[0]+(p=this.mat3[7])*f[3]+(c=this.mat3[8])*f[6],this.mat3[7]=u*f[1]+p*f[4]+c*f[7],this.mat3[8]=u*f[2]+p*f[5]+c*f[8],this}},{key:"column",value:function(d){return new v.default.Vector(this.mat3[3*d],this.mat3[3*d+1],this.mat3[3*d+2])}},{key:"row",value:function(d){return new v.default.Vector(this.mat3[d],this.mat3[d+3],this.mat3[d+6])}},{key:"diagonal",value:function(){return void 0!==this.mat3?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(d,f){return(f=void 0===f?d.copy():f).x=this.row(0).dot(d),f.y=this.row(1).dot(d),f.z=this.row(2).dot(d),f}},{key:"createSubMatrix3x3",value:function(){var d=new v.default.Matrix("mat3");return d.mat3[0]=this.mat4[0],d.mat3[1]=this.mat4[1],d.mat3[2]=this.mat4[2],d.mat3[3]=this.mat4[4],d.mat3[4]=this.mat4[5],d.mat3[5]=this.mat4[6],d.mat3[6]=this.mat4[8],d.mat3[7]=this.mat4[9],d.mat3[8]=this.mat4[10],d}}])&&b(s.prototype,l),a&&b(s,a),w}(),V.default=C=v.default.Matrix},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(o,se,V){"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(g,y){for(var C=0;C<y.length;C++){var w=y[C];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}v.default.Quat=function(){function g(s,l,a,d){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.w=s,this.vec=new v.default.Vector(l,a,d)}var y,C,w;return y=g,w=[{key:"fromAxisAngle",value:function(s,u,a,d){var f=Math.cos(s/2);return u=new v.default.Vector(u,a,d).normalize().mult(Math.sin(s/2)),new v.default.Quat(f,u.x,u.y,u.z)}}],(C=[{key:"conjugate",value:function(){return new v.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(s){return new v.default.Quat(this.w*s.w-this.vec.x*s.vec.x-this.vec.y*s.vec.y-this.vec.z-s.vec.z,this.w*s.vec.x+this.vec.x*s.w+this.vec.y*s.vec.z-this.vec.z*s.vec.y,this.w*s.vec.y-this.vec.x*s.vec.z+this.vec.y*s.w+this.vec.z*s.vec.x,this.w*s.vec.z+this.vec.x*s.vec.y-this.vec.y*s.vec.x+this.vec.z*s.w)}},{key:"rotateVector",value:function(s){return new v.default.Vector.mult(s,this.w*this.w-this.vec.dot(this.vec)).add(v.default.Vector.mult(this.vec,2*s.dot(this.vec))).add(v.default.Vector.mult(this.vec,2*this.w).cross(s)).clampToZero()}},{key:"rotateBy",value:function(s){return s.multiply(this).multiply(s.conjugate()).vec.clampToZero()}}])&&b(y.prototype,C),w&&b(y,w),g}(),V.default=o=v.default.Quat},{"../core/main":283}],338:[function(o,se,V){"use strict";function v(b,g){for(var y=0;y<g.length;y++){var C=g[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}o("core-js/modules/es.array.map"),o("core-js/modules/es.array.map"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0,(o=(o=o("../core/main"))&&o.__esModule?o:{default:o}).default.RenderBuffer=function(){function b(w,s,l,a,d,f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.size=w,this.src=s,this.dst=l,this.attr=a,this._renderer=d,this.map=f}var g,y;return g=b,(y=[{key:"_prepareBuffer",value:function(w,s){var l,a,d,p,f=this._renderer.GL,u=w.model||w;(p=(p=s.attributes)[this.attr])&&(l=w[this.dst],0<(a=u[this.src]).length?((d=!l)&&(w[this.dst]=l=f.createBuffer()),f.bindBuffer(f.ARRAY_BUFFER,l),!d&&!1===u.dirtyFlags[this.src]||(d=(w=this.map)?w(a):a,this._renderer._bindBuffer(l,f.ARRAY_BUFFER,d),u.dirtyFlags[this.src]=!1),s.enableAttrib(p,this.size)):-1!==(w=p.location)&&this._renderer.registerEnabled.has(w)&&(f.disableVertexAttribArray(w),this._renderer.registerEnabled.delete(w)))}}])&&v(g.prototype,y),b}(),V.default=o=o.default.RenderBuffer},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(o,se,V){"use strict";function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}function b(a){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(d){return v(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":v(d)})(a)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.find-index"),o("core-js/modules/es.array.from"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.map"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.concat"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.find-index"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.map"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=(l=o("../core/main"))&&l.__esModule?l:{default:l},y=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==b(a)&&"function"!=typeof a)return{default:a};var d=C();if(d&&d.has(a))return d.get(a);var f,u={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in a){var c;Object.prototype.hasOwnProperty.call(a,f)&&((c=p?Object.getOwnPropertyDescriptor(a,f):null)&&(c.get||c.set)?Object.defineProperty(u,f,c):u[f]=a[f])}return u.default=a,d&&d.set(a,u),u}(o("../core/constants"));function C(){var a;return"function"!=typeof WeakMap?null:(C=function(){return a},a=new WeakMap)}function w(a){return function(d){if(Array.isArray(d)){for(var f=0,u=new Array(d.length);f<d.length;f++)u[f]=d[f];return u}}(a)||function(d){if(Symbol.iterator in Object(d)||"[object Arguments]"===Object.prototype.toString.call(d))return Array.from(d)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o("./p5.RenderBuffer"),g.default.RendererGL.prototype.beginShape=function(a){return this.immediateMode.shapeMode=void 0!==a?a:y.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var s={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},l=(g.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==y.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},g.default.RendererGL.prototype.vertex=function(a,d){if(this.immediateMode.shapeMode===y.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var f in s){var u=s[f];(f=this.immediateMode.geometry[f]).push.apply(f,w(f.slice(f.length-3*u,f.length-2*u)).concat(w(f.slice(f.length-u,f.length))))}var p,c,m=p=c=0,_=(3===arguments.length?m=arguments[2]:4===arguments.length?(p=arguments[2],c=arguments[3]):5===arguments.length&&(m=arguments[2],p=arguments[3],c=arguments[4]),new g.default.Vector(a,d,m));return this.immediateMode.geometry.vertices.push(_),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.immediateMode.geometry.vertexColors.push((_=this.curFillColor||[.5,.5,.5,1])[0],_[1],_[2],_[3]),this.immediateMode.geometry.vertexStrokeColors.push((_=this.curStrokeColor||[.5,.5,.5,1])[0],_[1],_[2],_[3]),this.textureMode!==y.IMAGE||this.isProcessingVertices||(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(p/=this._tex.width,c/=this._tex.height):void 0===this.userFillShader&&void 0===this.userStrokeShader&&void 0===this.userPointShader&&null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(p,c),this.immediateMode._bezierVertex[0]=a,this.immediateMode._bezierVertex[1]=d,this.immediateMode._bezierVertex[2]=m,this.immediateMode._quadraticVertex[0]=a,this.immediateMode._quadraticVertex[1]=d,this.immediateMode._quadraticVertex[2]=m,this},g.default.RendererGL.prototype.normal=function(a,d,f){return this._currentNormal=a instanceof g.default.Vector?a:new g.default.Vector(a,d,f),this},g.default.RendererGL.prototype.endShape=function(a,d,f,u,p,c){var m,_=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1;return this.immediateMode.shapeMode===y.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),m=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==y.LINE_STRIP&&this.immediateMode.shapeMode!==y.LINES||(this.immediateMode.shapeMode=y.TRIANGLE_FAN,m=!0),this.immediateMode.shapeMode===y.QUADS?this.immediateMode.shapeMode=y.TRIANGLES:this.immediateMode.shapeMode===y.QUAD_STRIP&&(this.immediateMode.shapeMode=y.TRIANGLE_STRIP),this._doFill&&!m&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(_),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},g.default.RendererGL.prototype._processVertices=function(a){var d;0!==this.immediateMode.geometry.vertices.length&&(a=a===y.CLOSE,this._doStroke&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,a),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),d=this.immediateMode.shapeMode===y.TESS,a=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||d||a)&&this.immediateMode.shapeMode!==y.LINES&&this._tesselateShape())},g.default.RendererGL.prototype._calculateEdges=function(a,d,f){var u=[],p=0,c=this.immediateMode.contourIndices.slice(),m=0;switch(a){case y.TRIANGLE_STRIP:for(p=0;p<d.length-2;p++)u.push([p,p+1]),u.push([p,p+2]);u.push([p,p+1]);break;case y.TRIANGLE_FAN:for(p=1;p<d.length-1;p++)u.push([0,p]),u.push([p,p+1]);u.push([0,d.length-1]);break;case y.TRIANGLES:for(p=0;p<d.length-2;p+=3)u.push([p,p+1]),u.push([p+1,p+2]),u.push([p+2,p]);break;case y.LINES:for(p=0;p<d.length-1;p+=2)u.push([p,p+1]);break;case y.QUADS:for(p=0;p<d.length-5;p+=6)u.push([p,p+1]),u.push([p+1,p+2]),u.push([p+3,p+5]),u.push([p+4,p+5]);break;case y.QUAD_STRIP:for(p=0;p<d.length-2;p+=2)u.push([p,p+1]),u.push([p,p+2]),u.push([p+1,p+3]);u.push([p,p+1]);break;default:for(p=0;p<d.length;p++)p+1<d.length&&p+1!==c[0]?u.push([p,p+1]):((f||m)&&u.push([p,m]),0<c.length&&(m=c.shift()))}return a!==y.TESS&&f&&u.push([d.length-1,0]),u},g.default.RendererGL.prototype._tesselateShape=function(){for(var a=this,d=(this.immediateMode.shapeMode=y.TRIANGLES,[[]]),f=0;f<this.immediateMode.geometry.vertices.length;f++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===f&&(this.immediateMode.contourIndices.shift(),d.push([])),d[d.length-1].push(this.immediateMode.geometry.vertices[f].x,this.immediateMode.geometry.vertices[f].y,this.immediateMode.geometry.vertices[f].z,this.immediateMode.geometry.uvs[2*f],this.immediateMode.geometry.uvs[2*f+1],this.immediateMode.geometry.vertexColors[4*f],this.immediateMode.geometry.vertexColors[4*f+1],this.immediateMode.geometry.vertexColors[4*f+2],this.immediateMode.geometry.vertexColors[4*f+3],this.immediateMode.geometry.vertexNormals[f].x,this.immediateMode.geometry.vertexNormals[f].y,this.immediateMode.geometry.vertexNormals[f].z);for(var u,p=this._triangulate(d),c=this.immediateMode.geometry.vertices,m=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),_=0,M=p.length;_<M;_+=g.default.RendererGL.prototype.tessyVertexSize)m.push.apply(m,w(p.slice(_+5,_+9))),this.normal.apply(this,w(p.slice(_+9,_+12))),this.vertex.apply(this,w(p.slice(_,_+5)));this.geometryBuilder&&(u=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(x){return x.map(function(I){if(!u.has(I)){var A=c[I],H=a.immediateMode.geometry.vertices.findIndex(function(X){return A.x===X.x&&A.y===X.y&&A.z===X.z});if(-1===H){for(var P=1/0,z=0,k=0;k<a.immediateMode.geometry.vertices.length;k++){var ne,G,te=A.y-(ne=a.immediateMode.geometry.vertices[k]).y;(G=(G=A.x-ne.x)*G+te*te+(ne=A.z-ne.z)*ne)<P&&(P=G,z=k)}H=z}u.set(I,H)}return u.get(I)})})),this.immediateMode.geometry.vertexColors=m},g.default.RendererGL.prototype._drawImmediateFill=function(){var a,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,f=this.GL,u=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,a=this._getImmediateFillShader(),this._setFillUniforms(a),!0),p=!1,c=void 0;try{for(var m,_=this.immediateMode.buffers.fill[Symbol.iterator]();!(u=(m=_.next()).done);u=!0)m.value._prepareBuffer(this.immediateMode.geometry,a)}catch(M){p=!0,c=M}finally{try{u||null==_.return||_.return()}finally{if(p)throw c}}if(a.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),1===d)f.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{f.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,d)}catch{console.log("\u{1f338} p5.js says: Instancing is only supported in WebGL2 mode")}a.unbindShader()},g.default.RendererGL.prototype._drawImmediateStroke=function(){var a=this.GL,d=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),f=(this._setStrokeUniforms(d),!0),u=!1,p=void 0;try{for(var c,m=this.immediateMode.buffers.stroke[Symbol.iterator]();!(f=(c=m.next()).done);f=!0)c.value._prepareBuffer(this.immediateMode.geometry,d)}catch(_){u=!0,p=_}finally{try{f||null==m.return||m.return()}finally{if(u)throw p}}d.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),a.drawArrays(a.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),d.unbindShader()},g.default.RendererGL);V.default=l},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(o,se,V){"use strict";function v(s){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(s)}function b(s){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(l){return v(l)}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":v(l)})(s)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.fill"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.some"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.float32-array"),o("core-js/modules/es.typed-array.uint16-array"),o("core-js/modules/es.typed-array.uint32-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var g=(w=o("../core/main"))&&w.__esModule?w:{default:w},y=(o("./p5.RendererGL"),o("./p5.RenderBuffer"),function(s){if(s&&s.__esModule)return s;if(null===s||"object"!==b(s)&&"function"!=typeof s)return{default:s};var l=C();if(l&&l.has(s))return l.get(s);var a,d={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in s){var u;Object.prototype.hasOwnProperty.call(s,a)&&((u=f?Object.getOwnPropertyDescriptor(s,a):null)&&(u.get||u.set)?Object.defineProperty(d,a,u):d[a]=s[a])}return d.default=s,l&&l.set(s,d),d}(o("../core/constants")));function C(){var s;return"function"!=typeof WeakMap?null:(C=function(){return s},s=new WeakMap)}g.default.RendererGL.prototype.freeGeometry=function(s){s.gid?this._freeBuffers(s.gid):console.warn("The model you passed to freeGeometry does not have an id!")},g.default.RendererGL.prototype._initBufferDefaults=function(s){var l;return this._freeBuffers(s),1e3<Object.keys(this.retainedMode.geometry).length&&(l=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(l)),this.retainedMode.geometry[s]={}},g.default.RendererGL.prototype._freeBuffers=function(s){var l,a=this.retainedMode.geometry[s];function d(f){var u=!0,p=!1,c=void 0;try{for(var m,_=f[Symbol.iterator]();!(u=(m=_.next()).done);u=!0){var M=m.value;a[M.dst]&&(l.deleteBuffer(a[M.dst]),a[M.dst]=null)}}catch(x){p=!0,c=x}finally{try{u||null==_.return||_.return()}finally{if(p)throw c}}}a&&(delete this.retainedMode.geometry[s],l=this.GL,a.indexBuffer&&l.deleteBuffer(a.indexBuffer),d(this.retainedMode.buffers.stroke),d(this.retainedMode.buffers.fill))},g.default.RendererGL.prototype.createBuffers=function(p,l){var a,d,f,u=this.GL,c=((p=this._initBufferDefaults(p)).model=l,p.indexBuffer);return l.faces.length?(c=c||(p.indexBuffer=u.createBuffer()),f=(d=(a=g.default.RendererGL.prototype._flatten(l.faces)).some(function(m){return 65535<m}))?Uint32Array:Uint16Array,this._bindBuffer(c,u.ELEMENT_ARRAY_BUFFER,a,f),p.indexBufferType=d?u.UNSIGNED_INT:u.UNSIGNED_SHORT,p.vertexCount=3*l.faces.length):(c&&(u.deleteBuffer(c),p.indexBuffer=null),p.vertexCount=l.vertices?l.vertices.length:0),p.lineVertexCount=l.lineVertices?l.lineVertices.length/3:0,p},g.default.RendererGL.prototype.drawBuffers=function(s){var l=this.GL,a=this.retainedMode.geometry[s];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[s].vertexCount){this._useVertexColor=0<a.model.vertexColors.length;var d=this._getRetainedFillShader(),f=(this._setFillUniforms(d),!0),u=!1,p=void 0;try{for(var c,m=this.retainedMode.buffers.fill[Symbol.iterator]();!(f=(c=m.next()).done);f=!0)c.value._prepareBuffer(a,d)}catch(A){u=!0,p=A}finally{try{f||null==m.return||m.return()}finally{if(u)throw p}}d.disableRemainingAttributes(),a.indexBuffer&&this._bindBuffer(a.indexBuffer,l.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,a.model.hasFillTransparency()),this._drawElements(l.TRIANGLES,s),d.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<a.lineVertexCount){this._useLineColor=0<a.model.vertexStrokeColors.length;var _=this._getRetainedStrokeShader(),M=(this._setStrokeUniforms(_),!0);u=!1,p=void 0;try{for(var x,I=this.retainedMode.buffers.stroke[Symbol.iterator]();!(M=(x=I.next()).done);M=!0)x.value._prepareBuffer(a,_)}catch(P){u=!0,p=P}finally{try{M||null==I.return||I.return()}finally{if(u)throw p}}_.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,a.model.hasStrokeTransparency()),this._drawArrays(l.TRIANGLES,s),_.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(a),this},g.default.RendererGL.prototype.drawBuffersScaled=function(s,l,a,d){var f=this.uModelMatrix.copy();try{this.uModelMatrix.scale(l,a,d),this.drawBuffers(s)}finally{this.uModelMatrix=f}},g.default.RendererGL.prototype._drawArrays=function(s,l){return this.GL.drawArrays(s,0,this.retainedMode.geometry[l].lineVertexCount),this},g.default.RendererGL.prototype._drawElements=function(s,a){var d=this.GL;if((a=this.retainedMode.geometry[a]).indexBuffer){if(this._pInst.webglVersion!==y.WEBGL2&&a.indexBufferType===d.UNSIGNED_INT&&!d.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");d.drawElements(d.TRIANGLES,a.vertexCount,a.indexBufferType,0)}else d.drawArrays(s||d.TRIANGLES,0,a.vertexCount)},g.default.RendererGL.prototype._drawPoints=function(s,l){var a=this.GL,d=this._getImmediatePointShader();this._setPointUniforms(d),this._bindBuffer(l,a.ARRAY_BUFFER,this._vToNArray(s),Float32Array,a.STATIC_DRAW),d.enableAttrib(d.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),a.drawArrays(a.Points,0,s.length),d.unbindShader()};var w=g.default.RendererGL;V.default=w},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(k,se,V){"use strict";function v(N){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(K){return typeof K}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K})(N)}function b(N){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(K){return v(K)}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":v(K)})(N)}k("core-js/modules/es.symbol"),k("core-js/modules/es.symbol.description"),k("core-js/modules/es.symbol.iterator"),k("core-js/modules/es.array.concat"),k("core-js/modules/es.array.copy-within"),k("core-js/modules/es.array.every"),k("core-js/modules/es.array.fill"),k("core-js/modules/es.array.flat"),k("core-js/modules/es.array.flat-map"),k("core-js/modules/es.array.from"),k("core-js/modules/es.array.includes"),k("core-js/modules/es.array.iterator"),k("core-js/modules/es.array.map"),k("core-js/modules/es.array.slice"),k("core-js/modules/es.array.some"),k("core-js/modules/es.array.unscopables.flat"),k("core-js/modules/es.array.unscopables.flat-map"),k("core-js/modules/es.map"),k("core-js/modules/es.object.assign"),k("core-js/modules/es.object.get-own-property-descriptor"),k("core-js/modules/es.object.get-prototype-of"),k("core-js/modules/es.object.to-string"),k("core-js/modules/es.reflect.construct"),k("core-js/modules/es.reflect.get"),k("core-js/modules/es.regexp.to-string"),k("core-js/modules/es.set"),k("core-js/modules/es.string.includes"),k("core-js/modules/es.string.iterator"),k("core-js/modules/es.typed-array.float32-array"),k("core-js/modules/es.typed-array.float64-array"),k("core-js/modules/es.typed-array.int16-array"),k("core-js/modules/es.typed-array.uint8-array"),k("core-js/modules/es.typed-array.uint16-array"),k("core-js/modules/es.typed-array.uint32-array"),k("core-js/modules/es.typed-array.copy-within"),k("core-js/modules/es.typed-array.every"),k("core-js/modules/es.typed-array.fill"),k("core-js/modules/es.typed-array.filter"),k("core-js/modules/es.typed-array.find"),k("core-js/modules/es.typed-array.find-index"),k("core-js/modules/es.typed-array.for-each"),k("core-js/modules/es.typed-array.includes"),k("core-js/modules/es.typed-array.index-of"),k("core-js/modules/es.typed-array.iterator"),k("core-js/modules/es.typed-array.join"),k("core-js/modules/es.typed-array.last-index-of"),k("core-js/modules/es.typed-array.map"),k("core-js/modules/es.typed-array.reduce"),k("core-js/modules/es.typed-array.reduce-right"),k("core-js/modules/es.typed-array.reverse"),k("core-js/modules/es.typed-array.set"),k("core-js/modules/es.typed-array.slice"),k("core-js/modules/es.typed-array.some"),k("core-js/modules/es.typed-array.sort"),k("core-js/modules/es.typed-array.subarray"),k("core-js/modules/es.typed-array.to-locale-string"),k("core-js/modules/es.typed-array.to-string"),k("core-js/modules/es.weak-map"),k("core-js/modules/web.dom-collections.iterator"),k("core-js/modules/es.symbol"),k("core-js/modules/es.symbol.description"),k("core-js/modules/es.symbol.iterator"),k("core-js/modules/es.array.concat"),k("core-js/modules/es.array.copy-within"),k("core-js/modules/es.array.every"),k("core-js/modules/es.array.fill"),k("core-js/modules/es.array.flat"),k("core-js/modules/es.array.flat-map"),k("core-js/modules/es.array.from"),k("core-js/modules/es.array.includes"),k("core-js/modules/es.array.iterator"),k("core-js/modules/es.array.map"),k("core-js/modules/es.array.slice"),k("core-js/modules/es.array.some"),k("core-js/modules/es.array.unscopables.flat"),k("core-js/modules/es.array.unscopables.flat-map"),k("core-js/modules/es.map"),k("core-js/modules/es.object.assign"),k("core-js/modules/es.object.to-string"),k("core-js/modules/es.set"),k("core-js/modules/es.string.includes"),k("core-js/modules/es.string.iterator"),k("core-js/modules/es.typed-array.float32-array"),k("core-js/modules/es.typed-array.float64-array"),k("core-js/modules/es.typed-array.int16-array"),k("core-js/modules/es.typed-array.uint8-array"),k("core-js/modules/es.typed-array.uint16-array"),k("core-js/modules/es.typed-array.uint32-array"),k("core-js/modules/es.typed-array.copy-within"),k("core-js/modules/es.typed-array.every"),k("core-js/modules/es.typed-array.fill"),k("core-js/modules/es.typed-array.filter"),k("core-js/modules/es.typed-array.find"),k("core-js/modules/es.typed-array.find-index"),k("core-js/modules/es.typed-array.for-each"),k("core-js/modules/es.typed-array.includes"),k("core-js/modules/es.typed-array.index-of"),k("core-js/modules/es.typed-array.iterator"),k("core-js/modules/es.typed-array.join"),k("core-js/modules/es.typed-array.last-index-of"),k("core-js/modules/es.typed-array.map"),k("core-js/modules/es.typed-array.reduce"),k("core-js/modules/es.typed-array.reduce-right"),k("core-js/modules/es.typed-array.reverse"),k("core-js/modules/es.typed-array.set"),k("core-js/modules/es.typed-array.slice"),k("core-js/modules/es.typed-array.some"),k("core-js/modules/es.typed-array.sort"),k("core-js/modules/es.typed-array.subarray"),k("core-js/modules/es.typed-array.to-locale-string"),k("core-js/modules/es.typed-array.to-string"),k("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.readPixelsWebGL=X,V.readPixelWebGL=B,V.default=void 0;var g=a(k("../core/main")),y=function(N){if(N&&N.__esModule)return N;if(null===N||"object"!==b(N)&&"function"!=typeof N)return{default:N};var K=l();if(K&&K.has(N))return K.get(N);var ie,Ae={},Y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(ie in N){var R;Object.prototype.hasOwnProperty.call(N,ie)&&((R=Y?Object.getOwnPropertyDescriptor(N,ie):null)&&(R.get||R.set)?Object.defineProperty(Ae,ie,R):Ae[ie]=N[ie])}return Ae.default=N,K&&K.set(N,Ae),Ae}(k("../core/constants")),C=a(k("./GeometryBuilder")),w=a(k("libtess")),s=(k("./p5.Shader"),k("./p5.Camera"),k("../core/p5.Renderer"),k("./p5.Matrix"),k("./p5.Framebuffer"),k("path"),k("./p5.Texture"));function l(){var N;return"function"!=typeof WeakMap?null:(l=function(){return N},N=new WeakMap)}function a(N){return N&&N.__esModule?N:{default:N}}function d(N){return function(K){if(Array.isArray(K)){for(var ie=0,Ae=new Array(K.length);ie<K.length;ie++)Ae[ie]=K[ie];return Ae}}(N)||function(K){if(Symbol.iterator in Object(K)||"[object Arguments]"===Object.prototype.toString.call(K))return Array.from(K)}(N)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(N,K){for(var ie=0;ie<K.length;ie++){var Ae=K[ie];Ae.enumerable=Ae.enumerable||!1,Ae.configurable=!0,"value"in Ae&&(Ae.writable=!0),Object.defineProperty(N,Ae.key,Ae)}}function u(N,K,ie){return(u=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(Q,Y,R){if(Q=function(pe,Se){for(;!Object.prototype.hasOwnProperty.call(pe,Se)&&null!==(pe=_(pe)););return pe}(Q,Y))return(Q=Object.getOwnPropertyDescriptor(Q,Y)).get?Q.get.call(R):Q.value})(N,K,ie||N)}function p(N,K){return(p=Object.setPrototypeOf||function(ie,Ae){return ie.__proto__=Ae,ie})(N,K)}function m(N){if(void 0===N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function _(N){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(K){return K.__proto__||Object.getPrototypeOf(K)})(N)}function M(N,K,ie){K in N?Object.defineProperty(N,K,{value:ie,enumerable:!0,configurable:!0,writable:!0}):N[K]=ie}function x(N,K){z+="#define STROKE_CAP_".concat(N," ").concat(K,"\n"),H[y[N]]=K}function I(N,K){z+="#define STROKE_JOIN_".concat(N," ").concat(K,"\n"),P[y[N]]=K}var A,H={},P={},z="",te={sphereMappingFrag:"#define PI 3.141592\n\nprecision highp float;\n  \nuniform sampler2D uSampler;\nuniform mat3 uNewNormalMatrix;\nuniform float uFovY;\nuniform float uAspect;\n\nvarying vec2 vTexCoord;\n  \nvoid main() {\n    float uFovX = uFovY * uAspect; \n    vec4 newTexColor = texture2D(uSampler, vTexCoord);\n    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);\n    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);\n    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );\n    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);\n    vec2 suv;\n    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);\n    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;\n    newTexColor = texture2D(uSampler, suv.xy);\n    gl_FragColor = newTexColor;\n}\n",immediateVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nOUT vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",normalVert:"IN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec4 uMaterialColor;\nuniform bool uUseVertexColor;\n\nOUT vec3 vVertexNormal;\nOUT highp vec2 vVertTexCoord;\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",normalFrag:"IN vec3 vVertexNormal;\nvoid main(void) {\n  OUT_COLOR = vec4(vVertexNormal, 1.0);\n}\n",basicFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",lightVert:(x("ROUND",0),x("PROJECT",1),x("SQUARE",2),I("ROUND",0),I("MITER",1),I("BEVEL",2),(k='#define PI 3.141592\n\nprecision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\nuniform mat3 uCameraRotation;\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\nuniform float metallic;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\n// setting from  _setImageLightUniforms()\n// boolean to initiate the calculateImageDiffuse and calculateImageSpecular\nuniform bool uUseImageLight;\n// texture for use in calculateImageDiffuse\nuniform sampler2D environmentMapDiffused;\n// texture for use in calculateImageSpecular\nuniform sampler2D environmentMapSpecular;\n// roughness for use in calculateImageSpecular\nuniform float levelOfDetail;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  float specularIntensity = mix(1.0, 0.4, metallic);\n  float diffuseIntensity = mix(1.0, 0.1, metallic);\n  if (uSpecular)\n    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;\n    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;\n  return lr;\n}\n\n// converts the range of "value" from [min1 to max1] to [min2 to max2]\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nvec2 mapTextureToNormal( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );\n  return angles;\n}\n\n\nvec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){\n  // make 2 seperate builds \n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position\n  vec3 worldNormal = normalize(vNormal * uCameraRotation);\n  vec2 newTexCoor = mapTextureToNormal( worldNormal );\n  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);\n}\n\nvec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){\n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);\n  vec3 worldNormal = normalize(vNormal);\n  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );\n  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;\n  vec2 newTexCoor = mapTextureToNormal( R );\n#ifdef WEBGL2\n  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);\n#else\n  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);\n#endif\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(\n    pow(outColor.xyz, vec3(10)),\n    pow(outColor.xyz, vec3(1.2)),\n    metallic \n  );\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  if( uUseImageLight ){\n    totalDiffuse += calculateImageDiffuse(normal, modelPosition);\n    totalSpecular += calculateImageSpecular(normal, modelPosition);\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n')+"// include lighting.glgl\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT highp vec2 vVertTexCoord;\nOUT vec3 vDiffuseColor;\nOUT vec3 vSpecularColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n"),lightTextureFrag:"uniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nIN highp vec2 vVertTexCoord;\nIN vec3 vDiffuseColor;\nIN vec3 vSpecularColor;\nIN vec4 vColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    OUT_COLOR = vColor;\n  }\n  else {\n    vec4 baseColor = isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);\n  }\n}\n",phongVert:"precision highp int;\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT vec3 vNormal;\nOUT vec2 vTexCoord;\nOUT vec3 vViewPosition;\nOUT vec3 vAmbientColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",phongFrag:k+"// include lighting.glsl\nprecision highp int;\n\nuniform bool uHasSetAmbient;\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nIN vec3 vNormal;\nIN vec2 vTexCoord;\nIN vec3 vViewPosition;\nIN vec3 vAmbientColor;\nIN vec4 vColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  vec4 baseColor = isTexture\n    // Textures come in with premultiplied alpha. To apply tint and still have\n    // premultiplied alpha output, we need to multiply the RGB channels by the\n    // tint RGB, and all channels by the tint alpha.\n    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n    // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n    // channels by alpha to convert it to premultiplied alpha.\n    : vec4(vColor.rgb * vColor.a, vColor.a);\n  OUT_COLOR = vec4(diffuse * baseColor.rgb + \n                    vAmbientColor * (\n                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb\n                    ) + \n                    specular * uSpecularMatColor.rgb + \n                    uEmissiveMatColor.rgb, baseColor.a);\n}\n",fontVert:"IN vec3 aPosition;\nIN vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nOUT vec2 vTexCoord;\nOUT float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // Expand glyph bounding boxes by 1px on each side to give a bit of room\n  // for antialiasing\n  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;\n  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;\n  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;\n  vec2 pixelScale = vec2(\n    1. / length(newOrigin - newDX),\n    1. / length(newOrigin - newDY)\n  );\n  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);\n  vec2 textureOffset = offset * (1. / vec2(\n    uGlyphRect.z - uGlyphRect.x,\n    uGlyphRect.w - uGlyphRect.y\n  ));\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n\n  positionVec4.xy += offset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord + textureOffset;\n  w = gl_Position.w;\n}\n",fontFrag:"#ifndef WEBGL2\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nIN vec2 vTexCoord;\n\n// some helper functions\nint ROUND(float v) { return ifloor(v + 0.5); }\nivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = ROUND(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n  OUT_COLOR *= saturate(max(antialias, cover));\n}\n",lineVert:z+"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nprecision mediump int;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform bool uUseLineColor;\nuniform vec4 uMaterialColor;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\nuniform int uStrokeJoin;\n\nIN vec4 aPosition;\nIN vec3 aTangentIn;\nIN vec3 aTangentOut;\nIN float aSide;\nIN vec4 aVertexColor;\n\nOUT vec4 vColor;\nOUT vec2 vTangent;\nOUT vec2 vCenter;\nOUT vec2 vPosition;\nOUT float vMaxDist;\nOUT float vCap;\nOUT float vJoin;\n\nvec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {\n  // Rotate and translate so a starts at the origin and goes out to the right\n  bPoint -= aPoint;\n  vec2 rotatedBFrom = vec2(\n    bPoint.x*aDir.x + bPoint.y*aDir.y,\n    bPoint.y*aDir.x - bPoint.x*aDir.y\n  );\n  vec2 bTo = bPoint + bDir;\n  vec2 rotatedBTo = vec2(\n    bTo.x*aDir.x + bTo.y*aDir.y,\n    bTo.y*aDir.x - bTo.x*aDir.y\n  );\n  float intersectionDistance =\n    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /\n    (rotatedBTo.y - rotatedBFrom.y);\n  return aPoint + aDir * intersectionDistance;\n}\n\nvoid main() {\n  // Caps have one of either the in or out tangent set to 0\n  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))\n    ? 1. : 0.;\n\n  // Joins have two unique, defined tangents\n  vJoin = (\n    aTangentIn != vec3(0.) &&\n    aTangentOut != vec3(0.) &&\n    aTangentIn != aTangentOut\n  ) ? 1. : 0.;\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));\n  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));\n\n  float facingCamera = pow(\n    // The word space tangent's z value is 0 if it's facing the camera\n    abs(normalize(posqIn-posp).z),\n\n    // Using pow() here to ramp `facingCamera` up from 0 to 1 really quickly\n    // so most lines get scaled and don't get clipped\n    0.25\n  );\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // This prevents popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  \n  float zOffset = mix(-0.00045, -1., facingCamera);\n  posp.z -= zOffset;\n  posqIn.z -= zOffset;\n  posqOut.z -= zOffset;\n  \n  vec4 p = uProjectionMatrix * posp;\n  vec4 qIn = uProjectionMatrix * posqIn;\n  vec4 qOut = uProjectionMatrix * posqOut;\n  vCenter = p.xy;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);\n  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);\n\n  vec2 curPerspScale;\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n\n    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.\n    // Multiplying again by its sign here negates the flip to get just the scale.\n    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  vec2 offset;\n  if (vJoin == 1.) {\n    vTangent = normalize(tangentIn + tangentOut);\n    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);\n    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);\n    float side = sign(aSide);\n    float sideEnum = abs(aSide);\n\n    // We generate vertices for joins on either side of the centerline, but\n    // the \"elbow\" side is the only one needing a join. By not setting the\n    // offset for the other side, all its vertices will end up in the same\n    // spot and not render, effectively discarding it.\n    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {\n      // Side enums:\n      //   1: the side going into the join\n      //   2: the middle of the join\n      //   3: the side going out of the join\n      if (sideEnum == 2.) {\n        // Calculate the position + tangent on either side of the join, and\n        // find where the lines intersect to find the elbow of the join\n        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;\n        vec2 intersection = lineIntersection(\n          c + (side * normalIn * uStrokeWeight / 2.),\n          tangentIn,\n          c + (side * normalOut * uStrokeWeight / 2.),\n          tangentOut\n        );\n        offset = (intersection - c);\n\n        // When lines are thick and the angle of the join approaches 180, the\n        // elbow might be really far from the center. We'll apply a limit to\n        // the magnitude to avoid lines going across the whole screen when this\n        // happens.\n        float mag = length(offset);\n        float maxMag = 3. * uStrokeWeight;\n        if (mag > maxMag) {\n          offset *= maxMag / mag;\n        }\n      } else if (sideEnum == 1.) {\n        offset = side * normalIn * uStrokeWeight / 2.;\n      } else if (sideEnum == 3.) {\n        offset = side * normalOut * uStrokeWeight / 2.;\n      }\n    }\n    if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);\n      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));\n    } else {\n      vMaxDist = uStrokeWeight / 2.;\n    }\n  } else {\n    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;\n    vTangent = tangent;\n    vec2 normal = vec2(-tangent.y, tangent.x);\n\n    float normalOffset = sign(aSide);\n    // Caps will have side values of -2 or 2 on the edge of the cap that\n    // extends out from the line\n    float tangentOffset = abs(aSide) - 1.;\n    offset = (normal * normalOffset + tangent * tangentOffset) *\n      uStrokeWeight * 0.5;\n    vMaxDist = uStrokeWeight / 2.;\n  }\n  vPosition = vCenter + offset;\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n  \n  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);\n}\n",lineFrag:z+"precision mediump int;\n\nuniform vec4 uMaterialColor;\nuniform int uStrokeCap;\nuniform int uStrokeJoin;\nuniform float uStrokeWeight;\n\nIN vec4 vColor;\nIN vec2 vTangent;\nIN vec2 vCenter;\nIN vec2 vPosition;\nIN float vMaxDist;\nIN float vCap;\nIN float vJoin;\n\nfloat distSquared(vec2 a, vec2 b) {\n  vec2 aToB = b - a;\n  return dot(aToB, aToB);\n}\n\nvoid main() {\n  if (vCap > 0.) {\n    if (\n      uStrokeCap == STROKE_CAP_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (\n      uStrokeCap == STROKE_CAP_SQUARE &&\n      dot(vPosition - vCenter, vTangent) > 0.\n    ) {\n      discard;\n    }\n    // Use full area for PROJECT\n  } else if (vJoin > 0.) {\n    if (\n      uStrokeJoin == STROKE_JOIN_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 normal = vec2(-vTangent.y, vTangent.x);\n      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {\n        discard;\n      }\n    }\n    // Use full area for MITER\n  }\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",pointVert:"IN vec3 aPosition;\nuniform float uPointSize;\nOUT float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}\n",pointFrag:"precision mediump int;\nuniform vec4 uMaterialColor;\nIN float vStrokeWeight;\n\nvoid main(){\n  float mask = 0.0;\n\n  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n  // if strokeWeight is 1 or less lets just draw a square\n  // this prevents weird artifacting from carving circles when our points are really small\n  // if strokeWeight is larger than 1, we just use it as is\n\n  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n  // throw away the borders of the mask\n  // otherwise we get weird alpha blending issues\n\n  if(mask > 0.98){\n    discard;\n  }\n\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n}\n",imageLightVert:"precision highp float;\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nvarying vec3 localPos;\nvarying vec3 vWorldNormal;\nvarying vec3 vWorldPosition;\nvarying vec2 vTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvoid main() {\n  // Multiply the position by the matrix.\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n  \n  // orient the normals and pass to the fragment shader\n  vWorldNormal = uNormalMatrix * aNormal;\n  \n  // send the view position to the fragment shader\n  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;\n  \n  localPos = vWorldPosition;\n  vTexCoord = aTexCoord;\n}\n\n\n/*\nin the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.\n*/\n",imageLightDiffusedFrag:"precision highp float;\nvarying vec3 localPos;\n\n// the HDR cubemap converted (can be from an equirectangular environment map.)\nuniform sampler2D environmentMap;\nvarying vec2 vTexCoord;\n\nconst float PI = 3.14159265359;\n\nvec2 nTOE( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( phi, theta );\n  return angles;\n}\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\nvoid main()\n{   \t \n\t// the sample direction equals the hemisphere's orientation\n  float phi = vTexCoord.x * 2.0 * PI;\n  float theta = vTexCoord.y * PI;\n  float x = sin(theta) * cos(phi);\n  float y = sin(theta) * sin(phi);\n  float z = cos(theta);\n  vec3 normal = vec3( x, y, z);\n\n\t// Discretely sampling the hemisphere given the integral's\n  // spherical coordinates translates to the following fragment code:\n\tvec3 irradiance = vec3(0.0);  \n\tvec3 up\t= vec3(0.0, 1.0, 0.0);\n\tvec3 right = normalize(cross(up, normal));\n\tup = normalize(cross(normal, right));\n\n\t//  We specify a fixed sampleDelta delta value to traverse\n  // the hemisphere; decreasing or increasing the sample delta\n  // will increase or decrease the accuracy respectively.\n\tconst float sampleDelta = 0.100;\n\tfloat nrSamples = 0.0;\n  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;\n\tfor(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)\n\t{\n    float phi = rawPhi + randomOffset;\n    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)\n    {\n      float theta = rawTheta + randomOffset;\n      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance\n      float x = sin(theta) * cos(phi);\n      float y = sin(theta) * sin(phi);\n      float z = cos(theta);\n      vec3 tangentSample = vec3( x, y, z);\n      \n      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;\n        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);\n      nrSamples++;\n    }\n\t}\n\t// divide by the total number of samples taken, giving us the average sampled irradiance.\n\tirradiance = PI * irradiance * (1.0 / float(nrSamples )) ;\n  \n \n\tgl_FragColor = vec4(irradiance, 1.0);\n}",imageLightSpecularFrag:"precision highp float;\r\nvarying vec3 localPos;\r\nvarying vec2 vTexCoord;\r\n\r\n// our texture\r\nuniform sampler2D environmentMap;\r\nuniform float roughness;\r\n\r\nconst float PI = 3.14159265359;\r\n\r\nfloat VanDerCorput(int bits);\r\nvec2 HammersleyNoBitOps(int i, int N);\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r\n\r\n\r\nvec2 nTOE( vec3 v ){\r\n  // x = r sin(phi) cos(theta)   \r\n  // y = r cos(phi)  \r\n  // z = r sin(phi) sin(theta)\r\n  float phi = acos( v.y );\r\n  // if phi is 0, then there are no x, z components\r\n  float theta = 0.0;\r\n  // else \r\n  theta = acos(v.x / sin(phi));\r\n  float sinTheta = v.z / sin(phi);\r\n  if (sinTheta < 0.0) {\r\n    // Turn it into -theta, but in the 0-2PI range\r\n    theta = 2.0 * PI - theta;\r\n  }\r\n  theta = theta / (2.0 * 3.14159);\r\n  phi = phi / 3.14159 ;\r\n  \r\n  vec2 angles = vec2( phi, theta );\r\n  return angles;\r\n}\r\n\r\n\r\nvoid main(){\r\n  const int SAMPLE_COUNT = 400; // 4096\r\n  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r\n  float totalWeight = 0.0;\r\n  vec3 prefilteredColor = vec3(0.0);\r\n  float phi = vTexCoord.x * 2.0 * PI;\r\n  float theta = vTexCoord.y * PI;\r\n  float x = sin(theta) * cos(phi);\r\n  float y = sin(theta) * sin(phi);\r\n  float z = cos(theta);\r\n  vec3 N = vec3(x,y,z);\r\n  vec3 V = N;\r\n  for (int i = 0; i < SAMPLE_COUNT; ++i)\r\n  {\r\n    // break at smaller sample numbers for low roughness levels\r\n    if(i == lowRoughnessLimit)\r\n    {\r\n      break;\r\n    }\r\n    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r\n    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r\n    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r\n\r\n    float NdotL = max(dot(N, L), 0.0);\r\n    if (NdotL > 0.0)\r\n    {\r\n      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r\n      totalWeight += NdotL;\r\n    }\r\n  }\r\n  prefilteredColor = prefilteredColor / totalWeight;\r\n\r\n  gl_FragColor = vec4(prefilteredColor, 1.0);\r\n}\r\n\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r\n  float a = roughness * roughness;\r\n\r\n  float phi = 2.0 * PI * Xi.x;\r\n  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r\n  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r\n  // from spherical coordinates to cartesian coordinates\r\n  vec3 H;\r\n  H.x = cos(phi) * sinTheta;\r\n  H.y = sin(phi) * sinTheta;\r\n  H.z = cosTheta;\r\n\r\n  // from tangent-space vector to world-space sample vector\r\n  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r\n  vec3 tangent = normalize(cross(up, N));\r\n  vec3 bitangent = cross(N, tangent);\r\n\r\n  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r\n  return normalize(sampleVec);\r\n}\r\n\r\n\r\nfloat VanDerCorput(int n, int base)\r\n{\r\n#ifdef WEBGL2\r\n\r\n    uint bits = uint(n);\r\n    bits = (bits << 16u) | (bits >> 16u);\r\n    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r\n    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r\n    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r\n    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r\n    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r\n\r\n#else\r\n\r\n  float invBase = 1.0 / float(base);\r\n  float denom = 1.0;\r\n  float result = 0.0;\r\n\r\n\r\n  for (int i = 0; i < 32; ++i)\r\n  {\r\n        if (n > 0)\r\n        {\r\n        denom = mod(float(n), 2.0);\r\n        result += denom * invBase;\r\n        invBase = invBase / 2.0;\r\n        n = int(float(n) / 2.0);\r\n        }\r\n  }\r\n\r\n\r\n  return result;\r\n\r\n#endif\r\n}\r\n\r\nvec2 HammersleyNoBitOps(int i, int N)\r\n{\r\n  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r\n}\r\n"},ne=te.sphereMappingFrag;for(A in te)te[A]="#ifdef WEBGL2\n\n#define IN in\n#define OUT out\n\n#ifdef FRAGMENT_SHADER\nout vec4 outColor;\n#define OUT_COLOR outColor\n#endif\n#define TEXTURE texture\n\n#else\n\n#ifdef FRAGMENT_SHADER\n#define IN varying\n#else\n#define IN attribute\n#endif\n#define OUT varying\n#define TEXTURE texture2D\n\n#ifdef FRAGMENT_SHADER\n#define OUT_COLOR gl_FragColor\n#endif\n\n#endif\n"+te[A];M(k={},y.GRAY,"precision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 tex = texture2D(tex0, vTexCoord);\n  float gray = luma(tex.rgb);\n  gl_FragColor = vec4(gray, gray, gray, tex.a);\n}\n"),M(k,y.ERODE,"// Reduces the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the darkest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum < lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),M(k,y.DILATE,"// Increase the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the brightest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum > lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),M(k,y.BLUR,"precision highp float;\n\n// Two-pass blur filter, unweighted kernel.\n// See also a similar blur at Adam Ferriss' repo of shader examples:\n// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag\n\n\nuniform sampler2D tex0;\nvarying vec2 vTexCoord;\nuniform vec2 direction;\nuniform vec2 canvasSize;\nuniform float radius;\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\n// This isn't a real Gaussian weight, it's a quadratic weight. It's what the\n// CPU mode's blur uses though, so we also use it here to match.\nfloat quadWeight(float x, float e) {\n  return pow(e-abs(x), 2.);\n}\n\nvoid main(){\n  vec2 uv = vTexCoord;\n\n  // A reasonable maximum number of samples\n  const float maxSamples = 64.0;\n\n  float numSamples = floor(7. * radius);\n  if (fract(numSamples / 2.) == 0.) {\n    numSamples++;\n  }\n  vec4 avg = vec4(0.0);\n  float total = 0.0;\n\n  // Calculate the spacing to avoid skewing if numSamples > maxSamples\n  float spacing = 1.0;\n  if (numSamples > maxSamples) {\n    spacing = numSamples / maxSamples;\n    numSamples = maxSamples;\n  }\n\n  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));\n  for (float i = 0.0; i < maxSamples; i++) {\n    if (i >= numSamples) break;\n\n    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;\n    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;\n    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);\n\n    avg += weight * texture2D(tex0, sampleCoord);\n    total += weight;\n  }\n\n  avg /= total;\n  gl_FragColor = avg;\n}\n"),M(k,y.POSTERIZE,"// Limit color space for a stylized cartoon / poster effect\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nvec3 quantize(vec3 color, float n) {\n  // restrict values to N options/bins\n  // and floor each channel to nearest value\n  //\n  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0\n  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)\n\n  color = color * n;\n  color = floor(color);\n  color = color / (n - 1.0);\n  return color;\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n\n  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);\n\n  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);\n}\n"),M(k,y.OPAQUE,"// Set alpha channel to entirely opaque\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  gl_FragColor = vec4(color.rgb / color.a, 1.0);\n}\n"),M(k,y.INVERT,"// Set each pixel to inverse value\n// Note that original INVERT does not change the opacity, so this follows suit\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\nvec4 color = texture2D(tex0, vTexCoord);\nvec3 origColor = color.rgb / color.a;\nvec3 invertedColor = vec3(1.0) - origColor;\ngl_FragColor = vec4(invertedColor * color.a, color.a);\n}\n"),M(k,y.THRESHOLD,"// Convert pixels to either white or black, \n// depending on if their luma is above or below filterParameter\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float gray = luma(color.rgb / color.a);\n  // floor() used to match src/image/filters.js\n  float threshold = floor(filterParameter * 255.0) / 255.0;\n  float blackOrWhite = step(threshold, gray);\n  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);\n}\n");var G=k;function X(N,K,pt,Ae,Y,R,Q,pe,Se,Ve){var qe=K.getParameter(K.FRAMEBUFFER_BINDING),We=R*Q*(K.bindFramebuffer(K.FRAMEBUFFER,pt),pt=pe===K.RGBA?4:3),ct=Se===K.UNSIGNED_BYTE?Uint8Array:Float32Array;if(N instanceof ct&&N.length===We||(N=new ct(We)),K.readPixels(Ae,Ve?Ve-Y-Q:Y,R,Q,pe,Se,N),K.bindFramebuffer(K.FRAMEBUFFER,qe),Ve)for(var dt=Math.floor(Q/2),$e=new ct(R*pt),Ze=0;Ze<dt;Ze++){var Je=Ze*R*4,at=(Q-Ze-1)*R*4;$e.set(N.subarray(Je,Je+4*R)),N.copyWithin(Je,at,at+4*R),N.set($e,at)}return N}function B(N,Se,ie,Ae,Y,R,Q){var pe=N.getParameter(N.FRAMEBUFFER_BINDING);return N.bindFramebuffer(N.FRAMEBUFFER,Se),Se=Y===N.RGBA?4:3,Se=new(R===N.UNSIGNED_BYTE?Uint8Array:Float32Array)(Se),N.readPixels(ie,Q?Q-Ae-1:Ae,1,1,Y,R,Se),N.bindFramebuffer(N.FRAMEBUFFER,pe),Array.from(Se)}g.default.prototype.setAttributes=function(N,K){if(void 0===this._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var ie=!0;if(void 0!==K?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[N]!==K&&(this._glAttributes[N]=K,ie=!1)):N instanceof Object&&this._glAttributes!==N&&(this._glAttributes=N,ie=!1),this._renderer.isP3D&&!ie){if(!this._setupDone)for(var Ae in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(Ae))return void g.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},g.default.RendererGL=function(N){var K=Y;if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(N&&N.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),N&&p(K,N);var Ae=function c(N){return function(){var K,ie,Ae=_(N);return K=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(K=_(this).constructor,Reflect.construct(Ae,arguments,K)):Ae.apply(this,arguments),Ae=this,!(ie=K)||"object"!==b(ie)&&"function"!=typeof ie?m(Ae):ie}}(Y);function Y(R,Q,pe,Se){if(this instanceof Y)return(R=Ae.call(this,R,Q,pe))._setAttributeDefaults(Q),R._initContext(),R.isP3D=!0,R.geometryBuilder=void 0,R.GL=R.drawingContext,R._pInst._setProperty("drawingContext",R.drawingContext),R._isErasing=!1,R._clipDepths=[],R._isClipApplied=!1,R._stencilTestOn=!1,R._enableLighting=!1,R.ambientLightColors=[],R.mixedAmbientLight=[],R.mixedSpecularColor=[],R.specularColors=[1,1,1],R.directionalLightDirections=[],R.directionalLightDiffuseColors=[],R.directionalLightSpecularColors=[],R.pointLightPositions=[],R.pointLightDiffuseColors=[],R.pointLightSpecularColors=[],R.spotLightPositions=[],R.spotLightDirections=[],R.spotLightDiffuseColors=[],R.spotLightSpecularColors=[],R.spotLightAngle=[],R.spotLightConc=[],R.activeImageLight=null,R.diffusedTextures=new Map,R.specularTextures=new Map,R.drawMode=y.FILL,R.curFillColor=R._cachedFillStyle=[1,1,1,1],R.curAmbientColor=R._cachedFillStyle=[1,1,1,1],R.curSpecularColor=R._cachedFillStyle=[0,0,0,0],R.curEmissiveColor=R._cachedFillStyle=[0,0,0,0],R.curStrokeColor=R._cachedStrokeStyle=[0,0,0,1],R.curBlendMode=y.BLEND,R.preEraseBlend=void 0,R._cachedBlendMode=void 0,R.blendExt=R.webglVersion===y.WEBGL2?R.GL:R.GL.getExtension("EXT_blend_minmax"),R._isBlending=!1,R._hasSetAmbient=!1,R._useSpecularMaterial=!1,R._useEmissiveMaterial=!1,R._useNormalMaterial=!1,R._useShininess=1,R._useMetalness=0,R._useLineColor=!1,R._useVertexColor=!1,R.registerEnabled=new Set,R._tint=[255,255,255,255],R.constantAttenuation=1,R.linearAttenuation=0,R.quadraticAttenuation=0,R.uModelMatrix=new g.default.Matrix,R.uViewMatrix=new g.default.Matrix,R.uMVMatrix=new g.default.Matrix,R.uPMatrix=new g.default.Matrix,R.uNMatrix=new g.default.Matrix("mat3"),R.curMatrix=new g.default.Matrix("mat3"),R._currentNormal=new g.default.Vector(0,0,1),R._curCamera=new g.default.Camera(m(R)),R._curCamera._computeCameraDefaultSettings(),R._curCamera._setDefaultCamera(),R.filterCamera=new g.default.Camera(m(R)),R.filterCamera._computeCameraDefaultSettings(),R.filterCamera._setDefaultCamera(),R.prevTouches=[],R.zoomVelocity=0,R.rotateVelocity=new g.default.Vector(0,0),R.moveVelocity=new g.default.Vector(0,0),R.executeZoom=!1,R.executeRotateAndMove=!1,R.specularShader=void 0,R.sphereMapping=void 0,R.diffusedShader=void 0,R._defaultLightShader=void 0,R._defaultImmediateModeShader=void 0,R._defaultNormalShader=void 0,R._defaultColorShader=void 0,R._defaultPointShader=void 0,R.userFillShader=void 0,R.userStrokeShader=void 0,R.userPointShader=void 0,R.retainedMode={geometry:{},buffers:{stroke:[new g.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",m(R)),new g.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",m(R)),new g.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",m(R)),new g.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",m(R)),new g.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",m(R))],fill:[new g.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",m(R),R._vToNArray),new g.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",m(R),R._vToNArray),new g.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",m(R)),new g.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",m(R)),new g.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",m(R),R._flatten)],text:[new g.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",m(R),R._vToNArray),new g.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",m(R),R._flatten)]}},R.immediateMode={geometry:new g.default.Geometry,shapeMode:y.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new g.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",m(R),R._vToNArray),new g.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",m(R),R._vToNArray),new g.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",m(R)),new g.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",m(R)),new g.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",m(R),R._flatten)],stroke:[new g.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",m(R)),new g.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",m(R)),new g.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",m(R)),new g.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",m(R)),new g.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",m(R))],point:R.GL.createBuffer()}},R.pointSize=5,R.curStrokeWeight=1,R.curStrokeCap=y.ROUND,R.curStrokeJoin=y.ROUND,R.textures=new Map,R.framebuffers=new Set,R.activeFramebuffers=[],R.filterShader=void 0,R.filterLayer=void 0,R.filterLayerTemp=void 0,R.defaultFilterShaders={},R.textureMode=y.IMAGE,R.textureWrapX=y.CLAMP,R.textureWrapY=y.CLAMP,R._tex=null,R._curveTightness=6,R._lookUpTableBezier=[],R._lookUpTableQuadratic=[],R._lutBezierDetail=0,R._lutQuadraticDetail=0,R.isProcessingVertices=!1,R._tessy=R._initTessy(),R.fontInfos={},R._curShader=void 0,R;throw new TypeError("Cannot call a class as a function")}return K=Y,(N=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new C.default(this)}},{key:"endGeometry",value:function(){var R;if(this.geometryBuilder)return R=this.geometryBuilder.finish(),this.geometryBuilder=void 0,R;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(R){return this.beginGeometry(),R(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(R){var Q={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};R._glAttributes=null===R._glAttributes?Q:Object.assign(Q,R._glAttributes)}},{key:"_initContext",value:function(){if(1!==this._pInst._glAttributes.version&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?y.WEBGL2:y.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),null===this.drawingContext)throw new Error("Error creating webgl context");var R=this.drawingContext;R.enable(R.DEPTH_TEST),R.depthFunc(R.LEQUAL),R.viewport(0,0,R.drawingBufferWidth,R.drawingBufferHeight),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var R=this.drawingContext;return R.getParameter(R.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(R,Q){this._maxTextureSize||(this._maxTextureSize=this._getParam());var Se=this._maxTextureSize,pe=(Se=Math.floor(Se/this.pixelDensity()),Math.min(R,Se));return Se=Math.min(Q,Se),pe===R&&Se===Q||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(pe,", height: ").concat(Se,".")),{adjustedWidth:pe,adjustedHeight:Se}}},{key:"_resetContext",value:function(R,Q){var pe,Se=this.width,Ve=this.height,pt=this.canvas.id,qe=this._pInst instanceof g.default.Graphics;qe?((pe=this._pInst).canvas.parentNode.removeChild(pe.canvas),pe.canvas=document.createElement("canvas"),(pe._pInst._userNode||document.body).appendChild(pe.canvas),g.default.Element.call(pe,pe.canvas,pe._pInst),pe.width=Se,pe.height=Ve):((pe=this.canvas)&&pe.parentNode.removeChild(pe),(pe=document.createElement("canvas")).id=pt,(this._pInst._userNode||document.body).appendChild(pe),this._pInst.canvas=pe,this.canvas=pe),pt=new g.default.RendererGL(this._pInst.canvas,this._pInst,!qe),this._pInst._setProperty("_renderer",pt),pt.resize(Se,Ve),pt._applyDefaults(),qe||this._pInst._elements.push(pt),"function"==typeof Q&&setTimeout(function(){Q.apply(window._renderer,R)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var Se=(Se=this._pInst).color.apply(Se,arguments);this.clear(Se.levels[0]/255,Se.levels[1]/255,Se.levels[2]/255,Se=Se.levels[3]/255)}},{key:"fill",value:function(R,Q,pe,Se){var Ve=g.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=Ve._array,this.drawMode=y.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(R,Q,pe,Se){var Ve=g.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=Ve._array}},{key:"strokeCap",value:function(R){this.curStrokeCap=R}},{key:"strokeJoin",value:function(R){this.curStrokeJoin=R}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(R,Q){R.width===Q.width&&R.height===Q.height||R.resize(Q.width,Q.height),R.pixelDensity()!==Q.pixelDensity()&&R.pixelDensity(Q.pixelDensity())}},{key:"filter",value:function(){var R,Q,pe=this,Se=this.getFilterLayer(),Ve=void 0,qe=void 0,pt=("string"==typeof(arguments.length<=0?void 0:arguments[0])?(qe=arguments.length<=0?void 0:arguments[0],M(R={},y.BLUR,3),M(R,y.POSTERIZE,4),M(R,y.THRESHOLD,.5),Ve=qe in R&&void 0===(arguments.length<=1?void 0:arguments[1])?R[qe]:arguments.length<=1?void 0:arguments[1],qe in this.defaultFilterShaders||(this.defaultFilterShaders[qe]=new g.default.Shader(Se._renderer,"uniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nattribute vec3 aPosition;\n// texcoords only come from p5 to vertex shader\n// so pass texcoords on to the fragment shader in a varying variable\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n  // transferring texcoords for the frag shader\n  vTexCoord = aTexCoord;\n\n  // copy position with a fourth coordinate for projection (1.0 is normal)\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n}\n",G[qe])),this.filterShader=this.defaultFilterShaders[qe]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),We=(this.matchSize(Se,pt),Se.draw(function(){return pe._pInst.clear()}),[1/(pt.width*pt.pixelDensity()),1/(pt.height*pt.pixelDensity())]);qe===y.BLUR?(Q=this.getFilterLayerTemp(),this.matchSize(Q,pt),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(y.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",We),this.filterShader.setUniform("canvasSize",[pt.width,pt.height]),this.filterShader.setUniform("radius",Math.max(1,Ve)),Q.draw(function(){pe.filterShader.setUniform("direction",[1,0]),pe.filterShader.setUniform("tex0",pt),pe._pInst.clear(),pe._pInst.shader(pe.filterShader),pe._pInst.noLights(),pe._pInst.plane(pt.width,pt.height)}),Se.draw(function(){pe.filterShader.setUniform("direction",[0,1]),pe.filterShader.setUniform("tex0",Q),pe._pInst.clear(),pe._pInst.shader(pe.filterShader),pe._pInst.noLights(),pe._pInst.plane(pt.width,pt.height)}),this._pInst.pop()):Se.draw(function(){pe._pInst.noStroke(),pe._pInst.blendMode(y.BLEND),pe._pInst.shader(pe.filterShader),pe.filterShader.setUniform("tex0",pt),pe.filterShader.setUniform("texelSize",We),pe.filterShader.setUniform("canvasSize",[pt.width,pt.height]),pe.filterShader.setUniform("filterParameter",Ve),pe._pInst.noLights(),pe._pInst.plane(pt.width,pt.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(y.CORNER),this._pInst.blendMode(y.BLEND),pt.filterCamera._resize(),this._pInst.setCamera(pt.filterCamera),this._pInst.resetMatrix(),this._pInst.image(Se,-pt.width/2,-pt.height/2,pt.width,pt.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(R){return R?this._pInst.pixelDensity(R):this._pInst.pixelDensity()}},{key:"blendMode",value:function(R){R===y.DARKEST||R===y.LIGHTEST||R===y.ADD||R===y.BLEND||R===y.SUBTRACT||R===y.SCREEN||R===y.EXCLUSION||R===y.REPLACE||R===y.MULTIPLY||R===y.REMOVE?this.curBlendMode=R:R!==y.BURN&&R!==y.OVERLAY&&R!==y.HARD_LIGHT&&R!==y.SOFT_LIGHT&&R!==y.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(R,Q){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(y.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,R/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,Q/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var R=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(u(_(Y.prototype),"beginClip",this).call(this,R),this.drawTarget()._isClipApplied=!0,R=this.GL).clearStencil(0),R.clear(R.STENCIL_BUFFER_BIT),R.enable(R.STENCIL_TEST),this._stencilTestOn=!0,R.stencilFunc(R.ALWAYS,1,255),R.stencilOp(R.KEEP,R.KEEP,R.REPLACE),R.disable(R.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var R=this.GL;R.stencilOp(R.KEEP,R.KEEP,R.KEEP),R.stencilFunc(this._clipInvert?R.EQUAL:R.NOTEQUAL,0,255),R.enable(R.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),u(_(Y.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(R){this.curStrokeWeight!==R&&(this.pointSize=R,this.curStrokeWeight=R)}},{key:"_getPixel",value:function(R,Q){var pe=this.GL;return B(pe,null,R,Q,pe.RGBA,pe.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var R,Q,pe=this._pixelsState;!0!==this._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):pe._setProperty("pixels",X(pe.pixels,Q=this.GL,null,0,0,this.width*(R=this._pInst._pixelDensity),this.height*R,Q.RGBA,Q.UNSIGNED_BYTE,this.height*R))}},{key:"updatePixels",value:function(){var R=this._getTempFramebuffer();R.pixels=this._pixelsState.pixels,R.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(y.CENTER),this._pInst.image(R,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:y.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:y.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(R){return void 0!==this.retainedMode.geometry[R]}},{key:"viewport",value:function(R,Q){this._viewport=[0,0,R,Q],this.GL.viewport(0,0,R,Q)}},{key:"resize",value:function(Ve,Se){g.default.Renderer.prototype.resize.call(this,Ve,Se),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var pe=(void 0!==(Ve=this._pixelsState).pixels&&Ve._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);Se=!1,Ve=void 0;try{for(var qe,pt=this.framebuffers[Symbol.iterator]();!(pe=(qe=pt.next()).done);pe=!0)qe.value._canvasSizeChanged()}catch(We){Se=!0,Ve=We}finally{try{pe||null==pt.return||pt.return()}finally{if(Se)throw Ve}}}},{key:"clear",value:function(){var R=(arguments.length<=0?void 0:arguments[0])||0,Q=(arguments.length<=1?void 0:arguments[1])||0,pe=(arguments.length<=2?void 0:arguments[2])||0,Se=(arguments.length<=3?void 0:arguments[3])||0,Ve=this.activeFramebuffer();Ve&&Ve.format===y.UNSIGNED_BYTE&&!Ve.antialias&&0===Se&&(Se=1e-10),this.GL.clearColor(R*Se,Q*Se,pe*Se,Se),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(R,Q,pe,Se,Ve,qe){16===arguments.length?g.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([R,Q,0,0,pe,Se,0,0,0,0,1,0,Ve,qe,0,1])}},{key:"translate",value:function(R,Q,pe){return R instanceof g.default.Vector&&(pe=R.z,Q=R.y,R=R.x),this.uModelMatrix.translate([R,Q,pe]),this}},{key:"scale",value:function(R,Q,pe){return this.uModelMatrix.scale(R,Q,pe),this}},{key:"rotate",value:function(R,Q){return void 0===Q?this.rotateZ(R):(g.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(R){return this.rotate(R,1,0,0),this}},{key:"rotateY",value:function(R){return this.rotate(R,0,1,0),this}},{key:"rotateZ",value:function(R){return this.rotate(R,0,0,1),this}},{key:"push",value:function(){var R=g.default.Renderer.prototype.push.apply(this),Q=R.properties;return Q.uModelMatrix=this.uModelMatrix.copy(),Q.uViewMatrix=this.uViewMatrix.copy(),Q.uPMatrix=this.uPMatrix.copy(),Q._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),Q.ambientLightColors=this.ambientLightColors.slice(),Q.specularColors=this.specularColors.slice(),Q.directionalLightDirections=this.directionalLightDirections.slice(),Q.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),Q.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),Q.pointLightPositions=this.pointLightPositions.slice(),Q.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),Q.pointLightSpecularColors=this.pointLightSpecularColors.slice(),Q.spotLightPositions=this.spotLightPositions.slice(),Q.spotLightDirections=this.spotLightDirections.slice(),Q.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),Q.spotLightSpecularColors=this.spotLightSpecularColors.slice(),Q.spotLightAngle=this.spotLightAngle.slice(),Q.spotLightConc=this.spotLightConc.slice(),Q.userFillShader=this.userFillShader,Q.userStrokeShader=this.userStrokeShader,Q.userPointShader=this.userPointShader,Q.pointSize=this.pointSize,Q.curStrokeWeight=this.curStrokeWeight,Q.curStrokeColor=this.curStrokeColor,Q.curFillColor=this.curFillColor,Q.curAmbientColor=this.curAmbientColor,Q.curSpecularColor=this.curSpecularColor,Q.curEmissiveColor=this.curEmissiveColor,Q._hasSetAmbient=this._hasSetAmbient,Q._useSpecularMaterial=this._useSpecularMaterial,Q._useEmissiveMaterial=this._useEmissiveMaterial,Q._useShininess=this._useShininess,Q._useMetalness=this._useMetalness,Q.constantAttenuation=this.constantAttenuation,Q.linearAttenuation=this.linearAttenuation,Q.quadraticAttenuation=this.quadraticAttenuation,Q._enableLighting=this._enableLighting,Q._useNormalMaterial=this._useNormalMaterial,Q._tex=this._tex,Q.drawMode=this.drawMode,Q._currentNormal=this._currentNormal,Q.curBlendMode=this.curBlendMode,Q.activeImageLight=this.activeImageLight,R}},{key:"pop",value:function(){var R;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var Q=arguments.length,pe=new Array(Q),Se=0;Se<Q;Se++)pe[Se]=arguments[Se];(R=u(_(Y.prototype),"pop",this)).call.apply(R,[this].concat(pe)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var R=this.drawTarget();R._isClipApplied!==this._stencilTestOn&&(R._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var R=this.userStrokeShader;return R&&R.isStrokeShader()?R:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(R){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(ne)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",R),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var R=this.userFillShader;if(this._useNormalMaterial&&(!R||!R.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!R||!R.isLightShader())return this._getLightShader()}else if(this._tex){if(!R||!R.isTextureShader())return this._getLightShader()}else if(!R)return this._getImmediateModeShader();return R}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var R=this.userFillShader;if(this._enableLighting){if(!R||!R.isLightShader())return this._getLightShader()}else if(this._tex){if(!R||!R.isTextureShader())return this._getLightShader()}else if(!R)return this._getColorShader();return R}},{key:"_getImmediatePointShader",value:function(){var R=this.userPointShader;return R&&R.isPointShader()?R:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._defaultLightShader=this._pInst._glAttributes.perPixelLighting?new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+te.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+te.phongFrag):new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+te.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+te.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+te.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+te.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+te.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+te.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+te.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+te.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+te.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+te.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+te.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+te.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===y.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new g.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+te.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+te.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(R,Q){var pe="";return this.webglVersion===y.WEBGL2&&(pe+="#version 300 es\n#define WEBGL2\n"),"vert"===R?pe+="#define VERTEX_SHADER\n":"frag"===R&&(pe+="#define FRAGMENT_SHADER\n"),Q&&(pe+="precision ".concat(Q," float;\n")),pe}},{key:"_getEmptyTexture",value:function(){var R;return this._emptyTexture||((R=new g.default.Image(1,1)).set(0,0,255),this._emptyTexture=new g.default.Texture(this,R)),this._emptyTexture}},{key:"getTexture",value:function(R){R instanceof g.default.Framebuffer&&(R=R.color);var Q=this.textures.get(R);return Q||(Q=new g.default.Texture(this,R),this.textures.set(R,Q),Q)}},{key:"getDiffusedTexture",value:function(R){var Q,pe,Se=this;return null!=this.diffusedTextures.get(R)?this.diffusedTextures.get(R):(Q=Math.floor(R.height/R.width*200),pe=this._pInst.createFramebuffer({width:200,height:Q,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(te.imageLightVert,te.imageLightDiffusedFrag)),pe.draw(function(){Se._pInst.shader(Se.diffusedShader),Se.diffusedShader.setUniform("environmentMap",R),Se._pInst.noStroke(),Se._pInst.rectMode(y.CENTER),Se._pInst.noLights(),Se._pInst.rect(0,0,200,Q)}),this.diffusedTextures.set(R,pe),pe)}},{key:"getSpecularTexture",value:function(R){var Q=this;if(null!=this.specularTextures.get(R))return this.specularTextures.get(R);for(var pe,Se=[],Ve=this._pInst.createFramebuffer({width:512,height:512,density:1}),qe=Math.log(512)/Math.log(2),pt=(this.specularShader||(this.specularShader=this._pInst.createShader(te.imageLightVert,te.imageLightSpecularFrag)),512);1<=pt;pt/=2)!function(We){Ve.resize(We,We);var ct=1-Math.log(We)/Math.log(2)/qe;Ve.draw(function(){Q._pInst.shader(Q.specularShader),Q._pInst.clear(),Q.specularShader.setUniform("environmentMap",R),Q.specularShader.setUniform("roughness",ct),Q._pInst.noStroke(),Q._pInst.noLights(),Q._pInst.plane(We,We)}),Se.push(Ve.get().drawingContext.getImageData(0,0,We,We))}(pt);return Ve.remove(),pe=new s.MipmapTexture(this,Se,{}),this.specularTextures.set(R,pe),pe}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(R){return new g.default.Framebuffer(this,R)}},{key:"_setStrokeUniforms",value:function(R){R.bindShader(),R.setUniform("uUseLineColor",this._useLineColor),R.setUniform("uMaterialColor",this.curStrokeColor),R.setUniform("uStrokeWeight",this.curStrokeWeight),R.setUniform("uStrokeCap",H[this.curStrokeCap]),R.setUniform("uStrokeJoin",P[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(R){var Q=this,pe=(R.bindShader(),this.mixedSpecularColor=d(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(Se,Ve){return Q.curFillColor[Ve]*Q._useMetalness+Se*(1-Q._useMetalness)})),R.setUniform("uUseVertexColor",this._useVertexColor),R.setUniform("uMaterialColor",this.curFillColor),R.setUniform("isTexture",!!this._tex),this._tex&&R.setUniform("uSampler",this._tex),R.setUniform("uTint",this._tint),R.setUniform("uHasSetAmbient",this._hasSetAmbient),R.setUniform("uAmbientMatColor",this.curAmbientColor),R.setUniform("uSpecularMatColor",this.mixedSpecularColor),R.setUniform("uEmissiveMatColor",this.curEmissiveColor),R.setUniform("uSpecular",this._useSpecularMaterial),R.setUniform("uEmissive",this._useEmissiveMaterial),R.setUniform("uShininess",this._useShininess),R.setUniform("metallic",this._useMetalness),this._setImageLightUniforms(R),R.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3);R.setUniform("uPointLightCount",pe),R.setUniform("uPointLightLocation",this.pointLightPositions),R.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),R.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),R.setUniform("uDirectionalLightCount",pe=this.directionalLightDiffuseColors.length/3),R.setUniform("uLightingDirection",this.directionalLightDirections),R.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),R.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),pe=this.ambientLightColors.length/3,this.mixedAmbientLight=d(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(Se){return Math.max(0,Se-=Q._useMetalness)})),R.setUniform("uAmbientLightCount",pe),R.setUniform("uAmbientColor",this.mixedAmbientLight),R.setUniform("uSpotLightCount",pe=this.spotLightDiffuseColors.length/3),R.setUniform("uSpotLightAngle",this.spotLightAngle),R.setUniform("uSpotLightConc",this.spotLightConc),R.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),R.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),R.setUniform("uSpotLightLocation",this.spotLightPositions),R.setUniform("uSpotLightDirection",this.spotLightDirections),R.setUniform("uConstantAttenuation",this.constantAttenuation),R.setUniform("uLinearAttenuation",this.linearAttenuation),R.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),R.bindTextures()}},{key:"_setImageLightUniforms",value:function(R){var Q;R.setUniform("uUseImageLight",null!=this.activeImageLight),this.activeImageLight&&(Q=this.getDiffusedTexture(this.activeImageLight),R.setUniform("environmentMapDiffused",Q),Q=this.getSpecularTexture(this.activeImageLight),R.setUniform("levelOfDetail",20/this._useShininess*8),R.setUniform("environmentMapSpecular",Q))}},{key:"_setPointUniforms",value:function(R){R.bindShader(),R.setUniform("uMaterialColor",this.curStrokeColor),R.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(R,Q,pe,Se,Ve){this.GL.bindBuffer(Q=Q||this.GL.ARRAY_BUFFER,R),void 0!==pe&&((R=pe)instanceof g.default.DataArray?R=pe.dataArray():R instanceof(Se||Float32Array)||(R=new(Se||Float32Array)(R)),this.GL.bufferData(Q,R,Ve||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(R,Q){return R.length===Q.length&&R.every(function(pe,Se){return pe===Q[Se]})}},{key:"_isTypedArray",value:function(R){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(Q){return R instanceof Q})}},{key:"_flatten",value:function(R){return R.flat()}},{key:"_vToNArray",value:function(R){return R.flatMap(function(Q){return[Q.x,Q.y,Q.z]})}},{key:"_bezierCoefficients",value:function(R){var Q=R*R,pe=1-R,Se=pe*pe;return[Se*pe,3*Se*R,3*pe*Q,Q*R]}},{key:"_quadraticCoefficients",value:function(R){var Q=1-R;return[Q*Q,2*Q*R,R*R]}},{key:"_bezierToCatmull",value:function(R){return[R[1],R[1]+(R[2]-R[0])/this._curveTightness,R[2]-(R[3]-R[1])/this._curveTightness,R[2]]}},{key:"_initTessy",value:function(){var R=new w.default.GluTesselator;return R.gluTessCallback(w.default.gluEnum.GLU_TESS_VERTEX_DATA,function(Q,pe){var Se=!0,Ve=!1,qe=void 0;try{for(var pt,We=Q[Symbol.iterator]();!(Se=(pt=We.next()).done);Se=!0)pe.push(pt.value)}catch(dt){Ve=!0,qe=dt}finally{try{Se||null==We.return||We.return()}finally{if(Ve)throw qe}}}),R.gluTessCallback(w.default.gluEnum.GLU_TESS_BEGIN,function(Q){Q!==w.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(Q))}),R.gluTessCallback(w.default.gluEnum.GLU_TESS_ERROR,function(Q){console.log("error callback"),console.log("error number: ".concat(Q))}),R.gluTessCallback(w.default.gluEnum.GLU_TESS_COMBINE,function(Q,pe,Se){for(var Ve=new Array(g.default.RendererGL.prototype.tessyVertexSize).fill(0),qe=0;qe<Se.length;qe++)for(var pt=0;pt<Ve.length;pt++)0!==Se[qe]&&pe[qe]&&(Ve[pt]+=pe[qe][pt]*Se[qe]);return Ve}),R.gluTessCallback(w.default.gluEnum.GLU_TESS_EDGE_FLAG,function(Q){}),R.gluTessProperty(w.default.gluEnum.GLU_TESS_WINDING_RULE,w.default.windingRule.GLU_TESS_WINDING_NONZERO),R}},{key:"_triangulate",value:function(R){var Q=R[0]?R[0][2]:void 0,pe=!0,Se=!0,ct=!1,$e=void 0;try{for(var Ve,qe=R[Symbol.iterator]();!(Se=(Ve=qe.next()).done);Se=!0)for(var pt=Ve.value,We=0;We<pt.length;We+=g.default.RendererGL.prototype.tessyVertexSize)if(pt[We+2]!==Q){pe=!1;break}}catch(on){ct=!0,$e=on}finally{try{Se||null==qe.return||qe.return()}finally{if(ct)throw $e}}this._tessy.gluTessNormal(0,0,pe?1:0);var dt=(this._tessy.gluTessBeginPolygon(ct=[]),!0),Ze=void($e=!1);try{for(var Je,at=R[Symbol.iterator]();!(dt=(Je=at.next()).done);dt=!0){var Qe=Je.value;this._tessy.gluTessBeginContour();for(var st=0;st<Qe.length;st+=g.default.RendererGL.prototype.tessyVertexSize){var Tt=Qe.slice(st,st+g.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Tt,Tt)}this._tessy.gluTessEndContour()}}catch(on){$e=!0,Ze=on}finally{try{dt||null==at.return||at.return()}finally{if($e)throw Ze}}return this._tessy.gluTessEndPolygon(),ct}}])&&f(K.prototype,N),Y}(g.default.Renderer),g.default.prototype._assert3d=function(N){if(!this._renderer.isP3D)throw new Error("".concat(N,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},g.default.RendererGL.prototype.tessyVertexSize=12,V.default=k=g.default.RendererGL},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(o,se,V){"use strict";o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.index-of"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.array.some"),o("core-js/modules/es.function.name"),o("core-js/modules/es.object.keys"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var v=(o=o("../core/main"))&&o.__esModule?o:{default:o};function b(g,y){for(var C=0;C<y.length;C++){var w=y[C];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}v.default.Shader=function(){function g(s,l,a){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this._renderer=s,this._vertSrc=l,this._fragSrc=a,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var y,C;return y=g,(C=[{key:"init",value:function(){if(0===this._glProgram){var s=this._renderer.GL;if(this._vertShader=s.createShader(s.VERTEX_SHADER),s.shaderSource(this._vertShader,this._vertSrc),s.compileShader(this._vertShader),!s.getShaderParameter(this._vertShader,s.COMPILE_STATUS))return v.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(s.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=s.createShader(s.FRAGMENT_SHADER),s.shaderSource(this._fragShader,this._fragSrc),s.compileShader(this._fragShader),!s.getShaderParameter(this._fragShader,s.COMPILE_STATUS))return v.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(s.getShaderInfoLog(this._fragShader))),null;this._glProgram=s.createProgram(),s.attachShader(this._glProgram,this._vertShader),s.attachShader(this._glProgram,this._fragShader),s.linkProgram(this._glProgram),s.getProgramParameter(this._glProgram,s.LINK_STATUS)||v.default._friendlyError("Snap! Error linking shader program: ".concat(s.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(s){var l=new v.default.Shader(s._renderer,this._vertSrc,this._fragSrc);return l.ensureCompiledOnContext(s),l}},{key:"ensureCompiledOnContext",value:function(s){if(0!==this._glProgram&&this._renderer!==s._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");0===this._glProgram&&(this._renderer=s._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var s=this._renderer.GL,l=s.getProgramParameter(this._glProgram,s.ACTIVE_ATTRIBUTES),a=0;a<l;++a){var d=s.getActiveAttrib(this._glProgram,a),f=d.name,u=s.getAttribLocation(this._glProgram,f),p={};p.name=f,p.location=u,p.index=a,p.type=d.type,p.size=d.size,this.attributes[f]=p}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var s=this._renderer.GL,l=s.getProgramParameter(this._glProgram,s.ACTIVE_UNIFORMS),a=0,d=0;d<l;++d){var f=s.getActiveUniform(this._glProgram,d),u={},p=(u.location=s.getUniformLocation(this._glProgram,f.name),u.size=f.size,f.name);1<f.size&&(p=p.substring(0,p.indexOf("[0]"))),u.name=p,u.type=f.type,u._cachedData=void 0,u.type===s.SAMPLER_2D&&(u.samplerIndex=a,a++,this.samplers.push(u)),u.isArray=1<f.size||u.type===s.FLOAT_MAT3||u.type===s.FLOAT_MAT4||u.type===s.FLOAT_VEC2||u.type===s.FLOAT_VEC3||u.type===s.FLOAT_VEC4||u.type===s.INT_VEC2||u.type===s.INT_VEC4||u.type===s.INT_VEC3,this.uniforms[p]=u}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var s=this._renderer.GL,l=!0,a=!1,d=void 0;try{for(var f,u=this.samplers[Symbol.iterator]();!(l=(f=u.next()).done);l=!0){var p=f.value,c=p.texture;void 0===c&&(c=this._renderer._getEmptyTexture()),s.activeTexture(s.TEXTURE0+p.samplerIndex),c.bindTexture(),c.update(),s.uniform1i(p.location,p.samplerIndex)}}catch(m){a=!0,d=m}finally{try{l||null==u.return||u.return()}finally{if(a)throw d}}}},{key:"updateTextures",value:function(){var s=!0,l=!1,a=void 0;try{for(var d,f=this.samplers[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var u=d.value.texture;u&&u.update()}}catch(p){l=!0,a=p}finally{try{s||null==f.return||f.return()}finally{if(l)throw a}}}},{key:"unbindTextures",value:function(){var s=!0,l=!1,a=void 0;try{for(var d,f=this.samplers[Symbol.iterator]();!(s=(d=f.next()).done);s=!0)this.setUniform(d.value.name,this._renderer._getEmptyTexture())}catch(p){l=!0,a=p}finally{try{s||null==f.return||f.return()}finally{if(l)throw a}}}},{key:"_setMatrixUniforms",value:function(){var s=this._renderer.uModelMatrix,l=this._renderer.uViewMatrix,a=this._renderer.uPMatrix,d=s.copy().mult(l),f=(this._renderer.uMVMatrix=d).copy();f.mult(a),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",l.mat4),this.setUniform("uProjectionMatrix",a.mat4),this.setUniform("uModelMatrix",s.mat4),this.setUniform("uModelViewMatrix",d.mat4),this.setUniform("uModelViewProjectionMatrix",f.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){return this._renderer._curShader!==this&&(this._renderer.GL.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(s,l){var a=this.uniforms[s];if(a){var d=this._renderer.GL;if(a.isArray){if(a._cachedData&&this._renderer._arraysEqual(a._cachedData,l))return;a._cachedData=l.slice(0)}else{if(a._cachedData&&a._cachedData===l)return;a._cachedData=Array.isArray(l)?l.slice(0):l}var f=a.location;switch(this.useProgram(),a.type){case d.BOOL:d.uniform1i(f,!0===l?1:0);break;case d.INT:1<a.size?l.length&&d.uniform1iv(f,l):d.uniform1i(f,l);break;case d.FLOAT:1<a.size?l.length&&d.uniform1fv(f,l):d.uniform1f(f,l);break;case d.FLOAT_MAT3:d.uniformMatrix3fv(f,!1,l);break;case d.FLOAT_MAT4:d.uniformMatrix4fv(f,!1,l);break;case d.FLOAT_VEC2:1<a.size?l.length&&d.uniform2fv(f,l):d.uniform2f(f,l[0],l[1]);break;case d.FLOAT_VEC3:1<a.size?l.length&&d.uniform3fv(f,l):d.uniform3f(f,l[0],l[1],l[2]);break;case d.FLOAT_VEC4:1<a.size?l.length&&d.uniform4fv(f,l):d.uniform4f(f,l[0],l[1],l[2],l[3]);break;case d.INT_VEC2:1<a.size?l.length&&d.uniform2iv(f,l):d.uniform2i(f,l[0],l[1]);break;case d.INT_VEC3:1<a.size?l.length&&d.uniform3iv(f,l):d.uniform3i(f,l[0],l[1],l[2]);break;case d.INT_VEC4:1<a.size?l.length&&d.uniform4iv(f,l):d.uniform4i(f,l[0],l[1],l[2],l[3]);break;case d.SAMPLER_2D:d.activeTexture(d.TEXTURE0+a.samplerIndex),a.texture=l instanceof v.default.Texture?l:this._renderer.getTexture(l),d.uniform1i(f,a.samplerIndex),a.texture.src.gifProperties&&a.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(s){return void 0!==s})}},{key:"isNormalShader",value:function(){return void 0!==this.attributes.aNormal}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return void 0!==this.uniforms.uStrokeWeight}},{key:"enableAttrib",value:function(s,l,a,d,f,u){var p;return s&&-1!==(s=s.location)&&(p=this._renderer.GL,this._renderer.registerEnabled.has(s)||(p.enableVertexAttribArray(s),this._renderer.registerEnabled.add(s)),this._renderer.GL.vertexAttribPointer(s,l,a||p.FLOAT,d||!1,f||0,u||0)),this}},{key:"disableRemainingAttributes",value:function(){var s=this,l=!0,a=!1,d=void 0;try{for(var f,u=this._renderer.registerEnabled.values()[Symbol.iterator]();!(l=(f=u.next()).done);l=!0)!function(){var p=f.value;Object.keys(s.attributes).some(function(c){return s.attributes[c].location===p})||(s._renderer.GL.disableVertexAttribArray(p),s._renderer.registerEnabled.delete(p))}()}catch(p){a=!0,d=p}finally{try{l||null==u.return||u.return()}finally{if(a)throw d}}}}])&&b(y.prototype,C),g}(),V.default=o=v.default.Shader},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(o,se,V){"use strict";function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(c)}function b(c){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(m){return v(m)}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":v(m)})(c)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.get-prototype-of"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.reflect.construct"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.typed-array.uint8-array"),o("core-js/modules/es.typed-array.copy-within"),o("core-js/modules/es.typed-array.every"),o("core-js/modules/es.typed-array.fill"),o("core-js/modules/es.typed-array.filter"),o("core-js/modules/es.typed-array.find"),o("core-js/modules/es.typed-array.find-index"),o("core-js/modules/es.typed-array.for-each"),o("core-js/modules/es.typed-array.includes"),o("core-js/modules/es.typed-array.index-of"),o("core-js/modules/es.typed-array.iterator"),o("core-js/modules/es.typed-array.join"),o("core-js/modules/es.typed-array.last-index-of"),o("core-js/modules/es.typed-array.map"),o("core-js/modules/es.typed-array.reduce"),o("core-js/modules/es.typed-array.reduce-right"),o("core-js/modules/es.typed-array.reverse"),o("core-js/modules/es.typed-array.set"),o("core-js/modules/es.typed-array.slice"),o("core-js/modules/es.typed-array.some"),o("core-js/modules/es.typed-array.sort"),o("core-js/modules/es.typed-array.subarray"),o("core-js/modules/es.typed-array.to-locale-string"),o("core-js/modules/es.typed-array.to-string"),Object.defineProperty(V,"__esModule",{value:!0}),V.checkWebGLCapabilities=p,V.default=V.MipmapTexture=void 0;var g=(u=o("../core/main"))&&u.__esModule?u:{default:u},y=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==b(c)&&"function"!=typeof c)return{default:c};var m=C();if(m&&m.has(c))return m.get(c);var _,M={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in c){var I;Object.prototype.hasOwnProperty.call(c,_)&&((I=x?Object.getOwnPropertyDescriptor(c,_):null)&&(I.get||I.set)?Object.defineProperty(M,_,I):M[_]=c[_])}return M.default=c,m&&m.set(c,M),M}(o("../core/constants"));function C(){var c;return"function"!=typeof WeakMap?null:(C=function(){return c},c=new WeakMap)}function w(c,m){return(w=Object.setPrototypeOf||function(_,M){return _.__proto__=M,_})(c,m)}function l(c){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(c)}function a(c,m){if(!(c instanceof m))throw new TypeError("Cannot call a class as a function")}function d(c,m){for(var _=0;_<m.length;_++){var M=m[_];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(c,M.key,M)}}function f(c,m,_){m&&d(c.prototype,m),_&&d(c,_)}g.default.Texture=function(){function c(A,_,I){a(this,c),this._renderer=A;var x=this._renderer.GL;return I=I||{},this.src=_,this.glTex=void 0,this.glTarget=x.TEXTURE_2D,this.glFormat=I.format||x.RGBA,this.mipmaps=!1,this.glMinFilter=I.minFilter||x.LINEAR,this.glMagFilter=I.magFilter||x.LINEAR,this.glWrapS=I.wrapS||x.CLAMP_TO_EDGE,this.glWrapT=I.wrapT||x.CLAMP_TO_EDGE,this.glDataType=I.dataType||x.UNSIGNED_BYTE,I=p(A),this.glFormat!==x.HALF_FLOAT||I.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=x.FLOAT),this.glFormat!==x.HALF_FLOAT||this.glMinFilter!==x.LINEAR&&this.glMagFilter!==x.LINEAR||I.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===x.LINEAR&&(this.glMinFilter=x.NEAREST),this.glMagFilter===x.LINEAR&&(this.glMagFilter=x.NEAREST)),this.glFormat!==x.FLOAT||I.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=x.UNSIGNED_BYTE),this.glFormat!==x.FLOAT||this.glMinFilter!==x.LINEAR&&this.glMagFilter!==x.LINEAR||I.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===x.LINEAR&&(this.glMinFilter=x.NEAREST),this.glMagFilter===x.LINEAR&&(this.glMagFilter=x.NEAREST)),this.isSrcMediaElement=void 0!==g.default.MediaElement&&_ instanceof g.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==g.default.Element&&_ instanceof g.default.Element&&!(_ instanceof g.default.Graphics)&&!(_ instanceof g.default.Renderer),this.isSrcP5Image=_ instanceof g.default.Image,this.isSrcP5Graphics=_ instanceof g.default.Graphics,this.isSrcP5Renderer=_ instanceof g.default.Renderer,this.isImageData=typeof ImageData<"u"&&_ instanceof ImageData,this.isFramebufferTexture=_ instanceof g.default.FramebufferTexture,A=this._getTextureDataFromSource(),this.width=A.width,this.height=A.height,this.init(A),this}return f(c,[{key:"_getTextureDataFromSource",value:function(){var m;return this.isFramebufferTexture?m=this.src.rawTexture():this.isSrcP5Image?m=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?m=this.src.elt:this.isImageData&&(m=this.src),m}},{key:"init",value:function(m){var _,M=this._renderer.GL;this.isFramebufferTexture||(this.glTex=M.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,this.glMagFilter),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata?(_=new Uint8Array([1,1,1,1]),M.texImage2D(this.glTarget,0,M.RGBA,1,1,0,this.glFormat,this.glDataType,_)):M.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,m))}},{key:"update",value:function(){var m,_,M,x=this.src;return 0!==x.width&&0!==x.height&&!this.isFramebufferTexture&&(m=this._getTextureDataFromSource(),_=!1,M=this._renderer.GL,m.width!==this.width||m.height!==this.height?(_=!0,this.width=m.width||x.width,this.height=m.height||x.height,this.isSrcP5Image?x.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&x.setModified(!0)):this.isSrcP5Image?x.isModified()&&x.setModified(!(_=!0)):this.isSrcMediaElement?x.isModified()?x.setModified(!(_=!0)):x.loadedmetadata&&this._videoPrevUpdateTime!==x.time()&&(this._videoPrevUpdateTime=x.time(),_=!0):this.isImageData?x._dirty&&(_=!(x._dirty=!1)):_=!0,_&&(this.bindTexture(),M.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,m)),_)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(m,_){var M=this._renderer.GL;this.glMinFilter=this.glFilter(m),this.glMagFilter=this.glFilter(_),this.bindTexture(),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,this.glMinFilter),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(m){var _=this._renderer.GL;return m===y.NEAREST?_.NEAREST:_.LINEAR}},{key:"setWrapMode",value:function(m,_){function M(H){return!(H&H-1)}var x=this._renderer.GL,A=(A=this._getTextureDataFromSource()).naturalWidth&&A.naturalHeight?(I=A.naturalWidth,A.naturalHeight):(I=this.width,this.height),I=M(I);A=M(A),m===y.REPEAT?this._renderer.webglVersion===y.WEBGL2||I&&A?this.glWrapS=x.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=x.CLAMP_TO_EDGE):m===y.MIRROR?this._renderer.webglVersion===y.WEBGL2||I&&A?this.glWrapS=x.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=x.CLAMP_TO_EDGE):this.glWrapS=x.CLAMP_TO_EDGE,_===y.REPEAT?this._renderer.webglVersion===y.WEBGL2||I&&A?this.glWrapT=x.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=x.CLAMP_TO_EDGE):_===y.MIRROR?this._renderer.webglVersion===y.WEBGL2||I&&A?this.glWrapT=x.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=x.CLAMP_TO_EDGE):this.glWrapT=x.CLAMP_TO_EDGE,this.bindTexture(),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,this.glWrapS),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),c}();var u=function(c){var m=M;if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(c&&c.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),c&&w(m,c);var _=function s(c){return function(){var m,_=l(c);if(m=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(m=l(this).constructor,Reflect.construct(_,arguments,m)):_.apply(this,arguments),_=this,!m||"object"!==b(m)&&"function"!=typeof m){if(void 0!==_)return _;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return m}}(M);function M(x,I,A){return a(this,M),I=(x=_.call(this,x,I,A))._renderer.GL,x.glMinFilter===I.LINEAR&&(x.glMinFilter=I.LINEAR_MIPMAP_LINEAR),x}return f(M,[{key:"glFilter",value:function(x){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(x){var I=this._renderer.GL;this.glTex=I.createTexture(),this.bindTexture();for(var A=0;A<x.length;A++)I.texImage2D(this.glTarget,A,this.glFormat,this.glFormat,this.glDataType,x[A]);this.glMinFilter=I.LINEAR_MIPMAP_LINEAR,I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MAG_FILTER,this.glMagFilter),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),M}(g.default.Texture);function p(x){var m=x.GL,_=(x=x.webglVersion)===y.WEBGL2?m.getExtension("EXT_color_buffer_float")&&m.getExtension("EXT_float_blend"):m.getExtension("OES_texture_float");return{float:_,floatLinear:_&&m.getExtension("OES_texture_float_linear"),halfFloat:x=m.getExtension(x===y.WEBGL2?"EXT_color_buffer_float":"OES_texture_half_float"),halfFloatLinear:x&&m.getExtension("OES_texture_half_float_linear")}}V.MipmapTexture=u,V.default=o=g.default.Texture},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(o,se,V){"use strict";function v(c){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(c)}function b(c){return(b="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(m){return v(m)}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":v(m)})(c)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.split"),o("core-js/modules/es.string.sub"),o("core-js/modules/web.dom-collections.iterator");var g,y=(g=o("../core/main"))&&g.__esModule?g:{default:g},C=function(c){if(c&&c.__esModule)return c;if(null===c||"object"!==b(c)&&"function"!=typeof c)return{default:c};var m=w();if(m&&m.has(c))return m.get(c);var _,M={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in c){var I;Object.prototype.hasOwnProperty.call(c,_)&&((I=x?Object.getOwnPropertyDescriptor(c,_):null)&&(I.get||I.set)?Object.defineProperty(M,_,I):M[_]=c[_])}return M.default=c,m&&m.set(c,M),M}(o("../core/constants"));function w(){var c;return"function"!=typeof WeakMap?null:(w=function(){return c},c=new WeakMap)}function s(c,m){if(!(c instanceof m))throw new TypeError("Cannot call a class as a function")}function l(c,m){for(var _=0;_<m.length;_++){var M=m[_];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(c,M.key,M)}}function a(c,m,_){m&&l(c.prototype,m),_&&l(c,_)}o("./p5.Shader"),o("./p5.RendererGL.Retained"),y.default.RendererGL.prototype._applyTextProperties=function(){},y.default.RendererGL.prototype.textWidth=function(c){return this._isOpenType()?this._textFont._textWidth(c,this._textSize):0};var d=function(){function c(m,_){s(this,c),this.width=m,this.height=_,this.infos=[]}return a(c,[{key:"findImage",value:function(m){var _,M,x=this.width*this.height;if(x<m)throw new Error("font is too complex to render in 3D");for(var I=this.infos.length-1;0<=I;--I){var A=this.infos[I];if(A.index+m<x){M=(_=A).imageData;break}}if(!_){try{M=new ImageData(this.width,this.height)}catch{var H=document.getElementsByTagName("canvas")[0],P=!H,z=(H||((H=document.createElement("canvas")).style.display="none",document.body.appendChild(H)),H.getContext("2d"));z&&(M=z.createImageData(this.width,this.height)),P&&document.body.removeChild(H)}this.infos.push(_={index:0,imageData:M})}return z=_.index,_.index+=m,M._dirty=!0,{imageData:M,index:z}}}]),c}();function f(A,m,_,M,x){var I=A.imageData.data;A=4*A.index++,I[A++]=m,I[A++]=_,I[A++]=M,I[+A]=x}var u=Math.sqrt(3),p=function(){function c(m){s(this,c),this.font=m,this.strokeImageInfos=new d(64,64),this.colDimImageInfos=new d(64,64),this.rowDimImageInfos=new d(64,64),this.colCellImageInfos=new d(64,64),this.rowCellImageInfos=new d(64,64),this.glyphInfos={}}return a(c,[{key:"getGlyphInfo",value:function(m){var _=this.glyphInfos[m.index];if(!_){var M=m.getBoundingBox(),x=M.x1,I=M.y1,A=M.x2-x,H=M.y2-I,P=m.path.commands;if(0==A||0==H||!P.length)return this.glyphInfos[m.index]={};for(var z=[],k=[],te=[],ne=8;0<=ne;--ne)te.push([]);for(ne=8;0<=ne;--ne)k.push([]);var G,X,B,N,K=function(){function $t(yn,Yt,hn,It){s(this,$t),this.p0=yn,this.c0=Yt,this.c1=hn,this.p1=It}return a($t,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return y.default.Vector.sub(y.default.Vector.sub(this.p1,this.p0),y.default.Vector.mult(y.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(an){var Yt=y.default.Vector.lerp(this.p0,this.c0,an),It=y.default.Vector.lerp(this.c0,this.c1,an),hn=y.default.Vector.lerp(Yt,It,an);return this.c1=y.default.Vector.lerp(this.c1,this.p1,an),this.c0=y.default.Vector.lerp(It,this.c1,an),It=y.default.Vector.lerp(hn,this.c0,an),an=new $t(this.p0,Yt,hn,It),this.p0=It,an}},{key:"splitInflections",value:function(){var yn=y.default.Vector.sub(this.c0,this.p0),Yt=y.default.Vector.sub(y.default.Vector.sub(this.c1,this.c0),yn),hn=y.default.Vector.sub(y.default.Vector.sub(y.default.Vector.sub(this.p1,this.c1),yn),y.default.Vector.mult(Yt,2)),It=[],an=Yt.x*hn.y-Yt.y*hn.x;return 0!==an&&0<=(yn=(hn=yn.x*hn.y-yn.y*hn.x)*hn-4*an*(yn.x*Yt.y-yn.y*Yt.x))&&(an<0&&(an=-an,hn=-hn),yn=(-hn+(Yt=Math.sqrt(yn)))/(2*an),0<(hn=(-hn-Yt)/(2*an))&&hn<1&&(It.push(this.split(hn)),yn=1-(1-yn)/(1-hn)),0<yn&&yn<1&&It.push(this.split(yn))),It.push(this),It}}]),$t}(),ie=!0,Ae=!1,Y=void 0;try{for(var R,Q=P[Symbol.iterator]();!(ie=(R=Q.next()).done);ie=!0){var pe=R.value,Se=(pe.x-x)/A,Ve=(pe.y-I)/H;if(!Ut(G,X,Se,Ve)){switch(pe.type){case"M":B=Se,N=Ve;break;case"L":on(G,X,Se,Ve);break;case"Q":var qe=(pe.x1-x)/A,pt=(pe.y1-I)/H;st([G,Se,qe],[X,Ve,pt],{x:G,y:X,cx:qe,cy:pt});break;case"Z":Ut(G,X,B,N)?z.push({x:G,y:X}):(on(G,X,B,N),z.push({x:B,y:N}));break;case"C":for(var We=function(Be,Bt,Wt,hn,It,an,Vt,ze){Be=new K(new y.default.Vector(Be,Bt),new y.default.Vector(Wt,hn),new y.default.Vector(It,an),new y.default.Vector(Vt,ze)).splitInflections();var Oe=[],Ke=30/u,Et=!0;Bt=!1,Wt=void 0;try{for(var dn,Ft=Be[Symbol.iterator]();!(Et=(dn=Ft.next()).done);Et=!0){for(var Gt=dn.value,en=[],et=void 0;!(.125<=(et=Ke/Gt.quadError()));){var ot=Math.pow(et,.3333333333333333),xt=Gt.split(ot),bt=Gt.split(1-ot/(1-ot));Oe.push(xt),en.push(Gt),Gt=bt}et<1&&Oe.push(Gt.split(.5)),Oe.push(Gt),Array.prototype.push.apply(Oe,en.reverse())}}catch(At){Bt=!0,Wt=At}finally{try{Et||null==Ft.return||Ft.return()}finally{if(Bt)throw Wt}}return Oe}(G,X,(pe.x1-x)/A,(pe.y1-I)/H,(pe.x2-x)/A,(pe.y2-I)/H,Se,Ve),ct=0;ct<We.length;ct++){var dt=We[ct].toQuadratic();st([dt.x,dt.x1,dt.cx],[dt.y,dt.y1,dt.cy],dt)}break;default:throw new Error("unknown command type: ".concat(pe.type))}G=Se,X=Ve}}}catch($t){Ae=!0,Y=$t}finally{try{ie||null==Q.return||Q.return()}finally{if(Ae)throw Y}}for(var $e=z.length,Ze=this.strokeImageInfos.findImage($e),Je=Ze.index,at=0;at<$e;++at){var Qe=z[at];f(Ze,Tt(Qe.x),Tt(Qe.y),Tt(Qe.cx),Tt(Qe.cy))}(_=this.glyphInfos[m.index]={glyph:m,uGlyphRect:[M.x1,-M.y1,M.x2,-M.y2],strokeImageInfo:Ze,strokes:z,colInfo:ln(te,this.colDimImageInfos,this.colCellImageInfos),rowInfo:ln(k,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[_.colInfo.dimOffset,_.rowInfo.dimOffset]}return _;function st($t,yn,Yt){var hn=z.length;function It(Oe,Ke,Et){for(var Bt=Oe.length;0<Bt--;){var Wt=Oe[Bt];Wt<Ke&&(Ke=Wt),Et<Wt&&(Et=Wt)}return{min:Ke,max:Et}}z.push(Yt),Yt=It($t,1,0),$t=Math.max(Math.floor(9*Yt.min-.5),0);for(var an=Math.min(Math.ceil(9*Yt.max+.5),9),Vt=$t;Vt<an;++Vt)te[Vt].push(hn);Yt=It(yn,1,0),$t=Math.max(Math.floor(9*Yt.min-.5),0);for(var ze=Math.min(Math.ceil(9*Yt.max+.5),9),Be=$t;Be<ze;++Be)k[Be].push(hn)}function Tt($t){return($t=255*$t)<0?0:255<$t?255:$t}function on($t,yn,Yt,hn){st([$t,Yt],[yn,hn],{x:$t,y:yn,cx:($t+Yt)/2,cy:(yn+hn)/2})}function Ut($t,yn,Yt,hn){return Math.abs(Yt-$t)<1e-5&&Math.abs(hn-yn)<1e-5}function ln($t,yn,Yt){for(var hn=$t.length,It=yn.findImage(hn),an=(yn=It.index,0),Vt=0;Vt<hn;++Vt)an+=$t[Vt].length;for(var ze=Yt.findImage(an),Be=0;Be<hn;++Be){var Oe=$t[Be],Ke=Oe.length,Et=ze.index;f(It,Et>>7,127&Et,Ke>>7,127&Ke);for(var Bt=0;Bt<Ke;++Bt){var Wt=Oe[Bt]+Je;f(ze,Wt>>7,127&Wt,0,0)}}return{cellImageInfo:ze,dimOffset:yn,dimImageInfo:It}}}}]),c}();y.default.RendererGL.prototype._renderText=function(c,m,_,M,x){if(this._textFont&&"string"!=typeof this._textFont){if(!(x<=M)&&this._doFill){if(this._isOpenType()){c.push(),x=this._doStroke;var I=this.drawMode,A=(this._doStroke=!1,this.drawMode=C.TEXTURE,this._textFont.font),H=(H=this._textFont._fontInfo)||(this._textFont._fontInfo=new p(A)),P=(_=this._textFont._handleAlignment(this,m,_,M),M=this._textSize/A.unitsPerEm,this.translate(_.x,_.y,0),this.scale(M,M,1),this.GL),z=(_=!this._defaultFontShader,this._getFontShader()),k=(z.init(),z.bindShader(),_&&(z.setUniform("uGridImageSize",[64,64]),z.setUniform("uCellsImageSize",[64,64]),z.setUniform("uStrokeImageSize",[64,64]),z.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),te=(k||((M=this._textGeom=new y.default.Geometry(1,1,function(){for(var ct=0;ct<=1;ct++)for(var dt=0;dt<=1;dt++)this.vertices.push(new y.default.Vector(dt,ct,0)),this.uvs.push(dt,ct)})).computeFaces().computeNormals(),k=this.createBuffers("glyph",M)),!0);_=!1,M=void 0;try{for(var ne,G=this.retainedMode.buffers.text[Symbol.iterator]();!(te=(ne=G.next()).done);te=!0)ne.value._prepareBuffer(k,z)}catch(ct){_=!0,M=ct}finally{try{te||null==G.return||G.return()}finally{if(_)throw M}}this._bindBuffer(k.indexBuffer,P.ELEMENT_ARRAY_BUFFER),z.setUniform("uMaterialColor",this.curFillColor),P.pixelStorei(P.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var X=0,B=null,N=A.stringToGlyphs(m),K=!0,ie=!1,Ae=void 0;try{for(var Y,R=N[Symbol.iterator]();!(K=(Y=R.next()).done);K=!0){var Q,pe,Se=Y.value,Ve=(B&&(X+=A.getKerningValue(B,Se)),H.getGlyphInfo(Se));Ve.uGlyphRect&&(Q=Ve.rowInfo,pe=Ve.colInfo,z.setUniform("uSamplerStrokes",Ve.strokeImageInfo.imageData),z.setUniform("uSamplerRowStrokes",Q.cellImageInfo.imageData),z.setUniform("uSamplerRows",Q.dimImageInfo.imageData),z.setUniform("uSamplerColStrokes",pe.cellImageInfo.imageData),z.setUniform("uSamplerCols",pe.dimImageInfo.imageData),z.setUniform("uGridOffset",Ve.uGridOffset),z.setUniform("uGlyphRect",Ve.uGlyphRect),z.setUniform("uGlyphOffset",X),z.bindTextures(),P.drawElements(P.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),X+=Se.advanceWidth,B=Se}}catch(ct){ie=!0,Ae=ct}finally{try{K||null==R.return||R.return()}finally{if(ie)throw Ae}}}finally{z.unbindShader(),this._doStroke=x,this.drawMode=I,P.pixelStorei(P.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),c.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return c}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)},4023:(En,Kt,me)=>{function j(s){this.mode=ge.MODE_8BIT_BYTE,this.data=s,this.parsedData=[];for(var l=0,a=this.data.length;l<a;l++){var d=[],f=this.data.charCodeAt(l);f>65536?(d[0]=240|(1835008&f)>>>18,d[1]=128|(258048&f)>>>12,d[2]=128|(4032&f)>>>6,d[3]=128|63&f):f>2048?(d[0]=224|(61440&f)>>>12,d[1]=128|(4032&f)>>>6,d[2]=128|63&f):f>128?(d[0]=192|(1984&f)>>>6,d[1]=128|63&f):d[0]=f,this.parsedData.push(d)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function O(s,l){this.typeNumber=s,this.errorCorrectLevel=l,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}j.prototype={getLength:function(s){return this.parsedData.length},write:function(s){for(var l=0,a=this.parsedData.length;l<a;l++)s.put(this.parsedData[l],8)}},O.prototype={addData:function(s){var l=new j(s);this.dataList.push(l),this.dataCache=null},isDark:function(s,l){if(s<0||this.moduleCount<=s||l<0||this.moduleCount<=l)throw new Error(s+","+l);return this.modules[s][l]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(s,l){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++){this.modules[a]=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[a][d]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(s,l),this.typeNumber>=7&&this.setupTypeNumber(s),null==this.dataCache&&(this.dataCache=O.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,l)},setupPositionProbePattern:function(s,l){for(var a=-1;a<=7;a++)if(!(s+a<=-1||this.moduleCount<=s+a))for(var d=-1;d<=7;d++)l+d<=-1||this.moduleCount<=l+d||(this.modules[s+a][l+d]=0<=a&&a<=6&&(0==d||6==d)||0<=d&&d<=6&&(0==a||6==a)||2<=a&&a<=4&&2<=d&&d<=4)},getBestMaskPattern:function(){for(var s=0,l=0,a=0;a<8;a++){this.makeImpl(!0,a);var d=se.getLostPoint(this);(0==a||s>d)&&(s=d,l=a)}return l},createMovieClip:function(s,l,a){var d=s.createEmptyMovieClip(l,a);this.make();for(var u=0;u<this.modules.length;u++)for(var p=1*u,c=0;c<this.modules[u].length;c++){var m=1*c;this.modules[u][c]&&(d.beginFill(0,100),d.moveTo(m,p),d.lineTo(m+1,p),d.lineTo(m+1,p+1),d.lineTo(m,p+1),d.endFill())}return d},setupTimingPattern:function(){for(var s=8;s<this.moduleCount-8;s++)null==this.modules[s][6]&&(this.modules[s][6]=s%2==0);for(var l=8;l<this.moduleCount-8;l++)null==this.modules[6][l]&&(this.modules[6][l]=l%2==0)},setupPositionAdjustPattern:function(){for(var s=se.getPatternPosition(this.typeNumber),l=0;l<s.length;l++)for(var a=0;a<s.length;a++){var d=s[l],f=s[a];if(null==this.modules[d][f])for(var u=-2;u<=2;u++)for(var p=-2;p<=2;p++)this.modules[d+u][f+p]=-2==u||2==u||-2==p||2==p||0==u&&0==p}},setupTypeNumber:function(s){for(var l=se.getBCHTypeNumber(this.typeNumber),a=0;a<18;a++){var d=!s&&1==(l>>a&1);this.modules[Math.floor(a/3)][a%3+this.moduleCount-8-3]=d}for(a=0;a<18;a++)d=!s&&1==(l>>a&1),this.modules[a%3+this.moduleCount-8-3][Math.floor(a/3)]=d},setupTypeInfo:function(s,l){for(var d=se.getBCHTypeInfo(this.errorCorrectLevel<<3|l),f=0;f<15;f++){var u=!s&&1==(d>>f&1);f<6?this.modules[f][8]=u:f<8?this.modules[f+1][8]=u:this.modules[this.moduleCount-15+f][8]=u}for(f=0;f<15;f++)u=!s&&1==(d>>f&1),f<8?this.modules[8][this.moduleCount-f-1]=u:f<9?this.modules[8][15-f-1+1]=u:this.modules[8][15-f-1]=u;this.modules[this.moduleCount-8][8]=!s},mapData:function(s,l){for(var a=-1,d=this.moduleCount-1,f=7,u=0,p=this.moduleCount-1;p>0;p-=2)for(6==p&&p--;;){for(var c=0;c<2;c++)if(null==this.modules[d][p-c]){var m=!1;u<s.length&&(m=1==(s[u]>>>f&1)),se.getMask(l,d,p-c)&&(m=!m),this.modules[d][p-c]=m,-1==--f&&(u++,f=7)}if((d+=a)<0||this.moduleCount<=d){d-=a,a=-a;break}}}},O.PAD0=236,O.PAD1=17,O.createData=function(s,l,a){for(var d=g.getRSBlocks(s,l),f=new y,u=0;u<a.length;u++){var p=a[u];f.put(p.mode,4),f.put(p.getLength(),se.getLengthInBits(p.mode,s)),p.write(f)}var c=0;for(u=0;u<d.length;u++)c+=d[u].dataCount;if(f.getLengthInBits()>8*c)throw new Error("code length overflow. ("+f.getLengthInBits()+">"+8*c+")");for(f.getLengthInBits()+4<=8*c&&f.put(0,4);f.getLengthInBits()%8!=0;)f.putBit(!1);for(;!(f.getLengthInBits()>=8*c||(f.put(O.PAD0,8),f.getLengthInBits()>=8*c));)f.put(O.PAD1,8);return O.createBytes(f,d)},O.createBytes=function(s,l){for(var a=0,d=0,f=0,u=new Array(l.length),p=new Array(l.length),c=0;c<l.length;c++){var m=l[c].dataCount,_=l[c].totalCount-m;d=Math.max(d,m),f=Math.max(f,_),u[c]=new Array(m);for(var M=0;M<u[c].length;M++)u[c][M]=255&s.buffer[M+a];a+=m;var x=se.getErrorCorrectPolynomial(_),A=new b(u[c],x.getLength()-1).mod(x);for(p[c]=new Array(x.getLength()-1),M=0;M<p[c].length;M++){var H=M+A.getLength()-p[c].length;p[c][M]=H>=0?A.get(H):0}}var P=0;for(M=0;M<l.length;M++)P+=l[M].totalCount;var z=new Array(P),k=0;for(M=0;M<d;M++)for(c=0;c<l.length;c++)M<u[c].length&&(z[k++]=u[c][M]);for(M=0;M<f;M++)for(c=0;c<l.length;c++)M<p[c].length&&(z[k++]=p[c][M]);return z};for(var ge={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},gt={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},se={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var l=s<<10;se.getBCHDigit(l)-se.getBCHDigit(se.G15)>=0;)l^=se.G15<<se.getBCHDigit(l)-se.getBCHDigit(se.G15);return(s<<10|l)^se.G15_MASK},getBCHTypeNumber:function(s){for(var l=s<<12;se.getBCHDigit(l)-se.getBCHDigit(se.G18)>=0;)l^=se.G18<<se.getBCHDigit(l)-se.getBCHDigit(se.G18);return s<<12|l},getBCHDigit:function(s){for(var l=0;0!=s;)l++,s>>>=1;return l},getPatternPosition:function(s){return se.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,l,a){switch(s){case o.PATTERN000:return(l+a)%2==0;case o.PATTERN001:return l%2==0;case o.PATTERN010:return a%3==0;case o.PATTERN011:return(l+a)%3==0;case o.PATTERN100:return(Math.floor(l/2)+Math.floor(a/3))%2==0;case o.PATTERN101:return l*a%2+l*a%3==0;case o.PATTERN110:return(l*a%2+l*a%3)%2==0;case o.PATTERN111:return(l*a%3+(l+a)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var l=new b([1],0),a=0;a<s;a++)l=l.multiply(new b([1,V.gexp(a)],0));return l},getLengthInBits:function(s,l){if(1<=l&&l<10)switch(s){case ge.MODE_NUMBER:return 10;case ge.MODE_ALPHA_NUM:return 9;case ge.MODE_8BIT_BYTE:case ge.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(l<27)switch(s){case ge.MODE_NUMBER:return 12;case ge.MODE_ALPHA_NUM:return 11;case ge.MODE_8BIT_BYTE:return 16;case ge.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else{if(!(l<41))throw new Error("type:"+l);switch(s){case ge.MODE_NUMBER:return 14;case ge.MODE_ALPHA_NUM:return 13;case ge.MODE_8BIT_BYTE:return 16;case ge.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}}},getLostPoint:function(s){for(var l=s.getModuleCount(),a=0,d=0;d<l;d++)for(var f=0;f<l;f++){for(var u=0,p=s.isDark(d,f),c=-1;c<=1;c++)if(!(d+c<0||l<=d+c))for(var m=-1;m<=1;m++)f+m<0||l<=f+m||0==c&&0==m||p==s.isDark(d+c,f+m)&&u++;u>5&&(a+=3+u-5)}for(d=0;d<l-1;d++)for(f=0;f<l-1;f++){var _=0;s.isDark(d,f)&&_++,s.isDark(d+1,f)&&_++,s.isDark(d,f+1)&&_++,s.isDark(d+1,f+1)&&_++,(0==_||4==_)&&(a+=3)}for(d=0;d<l;d++)for(f=0;f<l-6;f++)s.isDark(d,f)&&!s.isDark(d,f+1)&&s.isDark(d,f+2)&&s.isDark(d,f+3)&&s.isDark(d,f+4)&&!s.isDark(d,f+5)&&s.isDark(d,f+6)&&(a+=40);for(f=0;f<l;f++)for(d=0;d<l-6;d++)s.isDark(d,f)&&!s.isDark(d+1,f)&&s.isDark(d+2,f)&&s.isDark(d+3,f)&&s.isDark(d+4,f)&&!s.isDark(d+5,f)&&s.isDark(d+6,f)&&(a+=40);var M=0;for(f=0;f<l;f++)for(d=0;d<l;d++)s.isDark(d,f)&&M++;return a+Math.abs(100*M/l/l-50)/5*10}},V={glog:function(s){if(s<1)throw new Error("glog("+s+")");return V.LOG_TABLE[s]},gexp:function(s){for(;s<0;)s+=255;for(;s>=256;)s-=255;return V.EXP_TABLE[s]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},v=0;v<8;v++)V.EXP_TABLE[v]=1<<v;for(v=8;v<256;v++)V.EXP_TABLE[v]=V.EXP_TABLE[v-4]^V.EXP_TABLE[v-5]^V.EXP_TABLE[v-6]^V.EXP_TABLE[v-8];for(v=0;v<255;v++)V.LOG_TABLE[V.EXP_TABLE[v]]=v;function b(s,l){if(null==s.length)throw new Error(s.length+"/"+l);for(var a=0;a<s.length&&0==s[a];)a++;this.num=new Array(s.length-a+l);for(var d=0;d<s.length-a;d++)this.num[d]=s[d+a]}function g(s,l){this.totalCount=s,this.dataCount=l}function y(){this.buffer=[],this.length=0}b.prototype={get:function(s){return this.num[s]},getLength:function(){return this.num.length},multiply:function(s){for(var l=new Array(this.getLength()+s.getLength()-1),a=0;a<this.getLength();a++)for(var d=0;d<s.getLength();d++)l[a+d]^=V.gexp(V.glog(this.get(a))+V.glog(s.get(d)));return new b(l,0)},mod:function(s){if(this.getLength()-s.getLength()<0)return this;for(var l=V.glog(this.get(0))-V.glog(s.get(0)),a=new Array(this.getLength()),d=0;d<this.getLength();d++)a[d]=this.get(d);for(d=0;d<s.getLength();d++)a[d]^=V.gexp(V.glog(s.get(d))+l);return new b(a,0).mod(s)}},g.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],g.getRSBlocks=function(s,l){var a=g.getRsBlockTable(s,l);if(null==a)throw new Error("bad rs block @ typeNumber:"+s+"/errorCorrectLevel:"+l);for(var d=a.length/3,f=[],u=0;u<d;u++)for(var p=a[3*u+0],c=a[3*u+1],m=a[3*u+2],_=0;_<p;_++)f.push(new g(c,m));return f},g.getRsBlockTable=function(s,l){switch(l){case gt.L:return g.RS_BLOCK_TABLE[4*(s-1)+0];case gt.M:return g.RS_BLOCK_TABLE[4*(s-1)+1];case gt.Q:return g.RS_BLOCK_TABLE[4*(s-1)+2];case gt.H:return g.RS_BLOCK_TABLE[4*(s-1)+3];default:return}},y.prototype={get:function(s){var l=Math.floor(s/8);return 1==(this.buffer[l]>>>7-s%8&1)},put:function(s,l){for(var a=0;a<l;a++)this.putBit(1==(s>>>l-a-1&1))},getLengthInBits:function(){return this.length},putBit:function(s){var l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),s&&(this.buffer[l]|=128>>>this.length%8),this.length++}};var C=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function w(s){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof s&&(s={content:s}),s)for(var a in s)this.options[a]=s[a];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var p=this.options.content,c=function f(_,M){for(var x=function u(_){var M=encodeURI(_).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return M.length+(M.length!=_?3:0)}(_),I=1,A=0,H=0,P=C.length;H<=P;H++){var z=C[H];if(!z)throw new Error("Content too long: expected "+A+" but got "+x);switch(M){case"L":A=z[0];break;case"M":A=z[1];break;case"Q":A=z[2];break;case"H":A=z[3];break;default:throw new Error("Unknwon error correction level: "+M)}if(x<=A)break;I++}if(I>C.length)throw new Error("Content too long");return I}(p,this.options.ecl),m=function d(_){switch(_){case"L":return gt.L;case"M":return gt.M;case"Q":return gt.Q;case"H":return gt.H;default:throw new Error("Unknwon error correction level: "+_)}}(this.options.ecl);this.qrcode=new O(c,m),this.qrcode.addData(p),this.qrcode.make()}w.prototype.svg=function(s){var l=this.options||{},a=this.qrcode.modules;typeof s>"u"&&(s={container:l.container||"svg"});for(var d=!(typeof l.pretty<"u"&&!l.pretty),f=d?"  ":"",u=d?"\r\n":"",p=l.width,c=l.height,m=a.length,_=p/(m+2*l.padding),M=c/(m+2*l.padding),x=typeof l.join<"u"&&!!l.join,I=typeof l.swap<"u"&&!!l.swap,A=!(typeof l.xmlDeclaration<"u"&&!l.xmlDeclaration),H=typeof l.predefined<"u"&&!!l.predefined,P=H?f+'<defs><path id="qrmodule" d="M0 0 h'+M+" v"+_+' H0 z" style="fill:'+l.color+';shape-rendering:crispEdges;" /></defs>'+u:"",z=f+'<rect x="0" y="0" width="'+p+'" height="'+c+'" style="fill:'+l.background+';shape-rendering:crispEdges;"/>'+u,k="",te="",ne=0;ne<m;ne++)for(var G=0;G<m;G++)if(a[G][ne]){var B=G*_+l.padding*_,N=ne*M+l.padding*M;if(I){var K=B;B=N,N=K}if(x){var ie=_+B,Ae=M+N;B=Number.isInteger(B)?Number(B):B.toFixed(2),N=Number.isInteger(N)?Number(N):N.toFixed(2),ie=Number.isInteger(ie)?Number(ie):ie.toFixed(2),te+="M"+B+","+N+" V"+(Ae=Number.isInteger(Ae)?Number(Ae):Ae.toFixed(2))+" H"+ie+" V"+N+" H"+B+" Z "}else k+=H?f+'<use x="'+B.toString()+'" y="'+N.toString()+'" href="#qrmodule" />'+u:f+'<rect x="'+B.toString()+'" y="'+N.toString()+'" width="'+_+'" height="'+M+'" style="fill:'+l.color+';shape-rendering:crispEdges;"/>'+u}x&&(k=f+'<path x="0" y="0" style="fill:'+l.color+';shape-rendering:crispEdges;" d="'+te+'" />');var Y="";switch(s.container){case"svg":A&&(Y+='<?xml version="1.0" standalone="yes"?>'+u),Y+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+p+'" height="'+c+'">'+u,Y+=P+z+k,Y+="</svg>";break;case"svg-viewbox":A&&(Y+='<?xml version="1.0" standalone="yes"?>'+u),Y+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+p+" "+c+'">'+u,Y+=P+z+k,Y+="</svg>";break;case"g":Y+='<g width="'+p+'" height="'+c+'">'+u,Y+=P+z+k,Y+="</g>";break;default:Y+=(P+z+k).replace(/^\s+/,"")}return Y},w.prototype.save=function(s,l){var a=this.svg();"function"!=typeof l&&(l=function(f,u){});try{me(Object(function(){var u=new Error("Cannot find module 'fs'");throw u.code="MODULE_NOT_FOUND",u}())).writeFile(s,a,l)}catch(f){l(f)}},En.exports=w},4412:(En,Kt,me)=>{"use strict";me.d(Kt,{t:()=>O});var j=me(1413);class O extends j.B{constructor(gt){super(),this._value=gt}get value(){return this.getValue()}_subscribe(gt){const o=super._subscribe(gt);return!o.closed&&gt.next(this._value),o}getValue(){const{hasError:gt,thrownError:o,_value:se}=this;if(gt)throw o;return this._throwIfClosed(),se}next(gt){super.next(this._value=gt)}}},1985:(En,Kt,me)=>{"use strict";me.d(Kt,{c:()=>v});var j=me(7707),O=me(8359),ge=me(3494),gt=me(1203),o=me(1026),se=me(8071),V=me(9786);let v=(()=>{class C{constructor(s){s&&(this._subscribe=s)}lift(s){const l=new C;return l.source=this,l.operator=s,l}subscribe(s,l,a){const d=function y(C){return C&&C instanceof j.vU||function g(C){return C&&(0,se.T)(C.next)&&(0,se.T)(C.error)&&(0,se.T)(C.complete)}(C)&&(0,O.Uv)(C)}(s)?s:new j.Ms(s,l,a);return(0,V.Y)(()=>{const{operator:f,source:u}=this;d.add(f?f.call(d,u):u?this._subscribe(d):this._trySubscribe(d))}),d}_trySubscribe(s){try{return this._subscribe(s)}catch(l){s.error(l)}}forEach(s,l){return new(l=b(l))((a,d)=>{const f=new j.Ms({next:u=>{try{s(u)}catch(p){d(p),f.unsubscribe()}},error:d,complete:a});this.subscribe(f)})}_subscribe(s){var l;return null===(l=this.source)||void 0===l?void 0:l.subscribe(s)}[ge.s](){return this}pipe(...s){return(0,gt.m)(s)(this)}toPromise(s){return new(s=b(s))((l,a)=>{let d;this.subscribe(f=>d=f,f=>a(f),()=>l(d))})}}return C.create=w=>new C(w),C})();function b(C){var w;return null!==(w=null!=C?C:o.$.Promise)&&void 0!==w?w:Promise}},1413:(En,Kt,me)=>{"use strict";me.d(Kt,{B:()=>V});var j=me(1985),O=me(8359);const gt=(0,me(1853).L)(b=>function(){b(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var o=me(7908),se=me(9786);let V=(()=>{class b extends j.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(y){const C=new v(this,this);return C.operator=y,C}_throwIfClosed(){if(this.closed)throw new gt}next(y){(0,se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const C of this.currentObservers)C.next(y)}})}error(y){(0,se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=y;const{observers:C}=this;for(;C.length;)C.shift().error(y)}})}complete(){(0,se.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:y}=this;for(;y.length;)y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var y;return(null===(y=this.observers)||void 0===y?void 0:y.length)>0}_trySubscribe(y){return this._throwIfClosed(),super._trySubscribe(y)}_subscribe(y){return this._throwIfClosed(),this._checkFinalizedStatuses(y),this._innerSubscribe(y)}_innerSubscribe(y){const{hasError:C,isStopped:w,observers:s}=this;return C||w?O.Kn:(this.currentObservers=null,s.push(y),new O.yU(()=>{this.currentObservers=null,(0,o.o)(s,y)}))}_checkFinalizedStatuses(y){const{hasError:C,thrownError:w,isStopped:s}=this;C?y.error(w):s&&y.complete()}asObservable(){const y=new j.c;return y.source=this,y}}return b.create=(g,y)=>new v(g,y),b})();class v extends V{constructor(g,y){super(),this.destination=g,this.source=y}next(g){var y,C;null===(C=null===(y=this.destination)||void 0===y?void 0:y.next)||void 0===C||C.call(y,g)}error(g){var y,C;null===(C=null===(y=this.destination)||void 0===y?void 0:y.error)||void 0===C||C.call(y,g)}complete(){var g,y;null===(y=null===(g=this.destination)||void 0===g?void 0:g.complete)||void 0===y||y.call(g)}_subscribe(g){var y,C;return null!==(C=null===(y=this.source)||void 0===y?void 0:y.subscribe(g))&&void 0!==C?C:O.Kn}}},7707:(En,Kt,me)=>{"use strict";me.d(Kt,{Ms:()=>a,vU:()=>C});var j=me(8071),O=me(8359),ge=me(1026),gt=me(5334),o=me(5343);const se=b("C",void 0,void 0);function b(c,m,_){return{kind:c,value:m,error:_}}var g=me(9270),y=me(9786);class C extends O.yU{constructor(m){super(),this.isStopped=!1,m?(this.destination=m,(0,O.Uv)(m)&&m.add(this)):this.destination=p}static create(m,_,M){return new a(m,_,M)}next(m){this.isStopped?u(function v(c){return b("N",c,void 0)}(m),this):this._next(m)}error(m){this.isStopped?u(function V(c){return b("E",void 0,c)}(m),this):(this.isStopped=!0,this._error(m))}complete(){this.isStopped?u(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(m){this.destination.next(m)}_error(m){try{this.destination.error(m)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const w=Function.prototype.bind;function s(c,m){return w.call(c,m)}class l{constructor(m){this.partialObserver=m}next(m){const{partialObserver:_}=this;if(_.next)try{_.next(m)}catch(M){d(M)}}error(m){const{partialObserver:_}=this;if(_.error)try{_.error(m)}catch(M){d(M)}else d(m)}complete(){const{partialObserver:m}=this;if(m.complete)try{m.complete()}catch(_){d(_)}}}class a extends C{constructor(m,_,M){let x;if(super(),(0,j.T)(m)||!m)x={next:null!=m?m:void 0,error:null!=_?_:void 0,complete:null!=M?M:void 0};else{let I;this&&ge.$.useDeprecatedNextContext?(I=Object.create(m),I.unsubscribe=()=>this.unsubscribe(),x={next:m.next&&s(m.next,I),error:m.error&&s(m.error,I),complete:m.complete&&s(m.complete,I)}):x=m}this.destination=new l(x)}}function d(c){ge.$.useDeprecatedSynchronousErrorHandling?(0,y.l)(c):(0,gt.m)(c)}function u(c,m){const{onStoppedNotification:_}=ge.$;_&&g.f.setTimeout(()=>_(c,m))}const p={closed:!0,next:o.l,error:function f(c){throw c},complete:o.l}},8359:(En,Kt,me)=>{"use strict";me.d(Kt,{Kn:()=>se,yU:()=>o,Uv:()=>V});var j=me(8071);const ge=(0,me(1853).L)(b=>function(y){b(this),this.message=y?`${y.length} errors occurred during unsubscription:\n${y.map((C,w)=>`${w+1}) ${C.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=y});var gt=me(7908);class o{constructor(g){this.initialTeardown=g,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let g;if(!this.closed){this.closed=!0;const{_parentage:y}=this;if(y)if(this._parentage=null,Array.isArray(y))for(const s of y)s.remove(this);else y.remove(this);const{initialTeardown:C}=this;if((0,j.T)(C))try{C()}catch(s){g=s instanceof ge?s.errors:[s]}const{_finalizers:w}=this;if(w){this._finalizers=null;for(const s of w)try{v(s)}catch(l){g=null!=g?g:[],l instanceof ge?g=[...g,...l.errors]:g.push(l)}}if(g)throw new ge(g)}}add(g){var y;if(g&&g!==this)if(this.closed)v(g);else{if(g instanceof o){if(g.closed||g._hasParent(this))return;g._addParent(this)}(this._finalizers=null!==(y=this._finalizers)&&void 0!==y?y:[]).push(g)}}_hasParent(g){const{_parentage:y}=this;return y===g||Array.isArray(y)&&y.includes(g)}_addParent(g){const{_parentage:y}=this;this._parentage=Array.isArray(y)?(y.push(g),y):y?[y,g]:g}_removeParent(g){const{_parentage:y}=this;y===g?this._parentage=null:Array.isArray(y)&&(0,gt.o)(y,g)}remove(g){const{_finalizers:y}=this;y&&(0,gt.o)(y,g),g instanceof o&&g._removeParent(this)}}o.EMPTY=(()=>{const b=new o;return b.closed=!0,b})();const se=o.EMPTY;function V(b){return b instanceof o||b&&"closed"in b&&(0,j.T)(b.remove)&&(0,j.T)(b.add)&&(0,j.T)(b.unsubscribe)}function v(b){(0,j.T)(b)?b():b.unsubscribe()}},1026:(En,Kt,me)=>{"use strict";me.d(Kt,{$:()=>j});const j={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},17:(En,Kt,me)=>{"use strict";me.d(Kt,{G:()=>se});var j=me(1985),O=me(8359),ge=me(9898),gt=me(4360),o=me(9974);class se extends j.c{constructor(v,b){super(),this.source=v,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,o.S)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,null==v||v.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new O.yU;const b=this.getSubject();v.add(this.source.subscribe((0,gt._)(b,void 0,()=>{this._teardown(),b.complete()},g=>{this._teardown(),b.error(g)},()=>this._teardown()))),v.closed&&(this._connection=null,v=O.yU.EMPTY)}return v}refCount(){return(0,ge.B)()(this)}}},4572:(En,Kt,me)=>{"use strict";me.d(Kt,{z:()=>g});var j=me(1985),O=me(3073),ge=me(6648),gt=me(3669),o=me(6450),se=me(9326),V=me(8496),v=me(4360),b=me(5225);function g(...w){const s=(0,se.lI)(w),l=(0,se.ms)(w),{args:a,keys:d}=(0,O.D)(w);if(0===a.length)return(0,ge.H)([],s);const f=new j.c(function y(w,s,l=gt.D){return a=>{C(s,()=>{const{length:d}=w,f=new Array(d);let u=d,p=d;for(let c=0;c<d;c++)C(s,()=>{const m=(0,ge.H)(w[c],s);let _=!1;m.subscribe((0,v._)(a,M=>{f[c]=M,_||(_=!0,p--),p||a.next(l(f.slice()))},()=>{--u||a.complete()}))},a)},a)}}(a,s,d?u=>(0,V.e)(d,u):gt.D));return l?f.pipe((0,o.I)(l)):f}function C(w,s,l){w?(0,b.N)(l,w,s):s()}},8793:(En,Kt,me)=>{"use strict";me.d(Kt,{x:()=>o});var j=me(6365),ge=me(9326),gt=me(6648);function o(...se){return function O(){return(0,j.U)(1)}()((0,gt.H)(se,(0,ge.lI)(se)))}},9030:(En,Kt,me)=>{"use strict";me.d(Kt,{v:()=>ge});var j=me(1985),O=me(8750);function ge(gt){return new j.c(o=>{(0,O.Tg)(gt()).subscribe(o)})}},983:(En,Kt,me)=>{"use strict";me.d(Kt,{w:()=>O});const O=new(me(1985).c)(o=>o.complete())},6648:(En,Kt,me)=>{"use strict";me.d(Kt,{H:()=>M});var j=me(8750),O=me(5225),ge=me(9974),gt=me(4360);function o(x,I=0){return(0,ge.N)((A,H)=>{A.subscribe((0,gt._)(H,P=>(0,O.N)(H,x,()=>H.next(P),I),()=>(0,O.N)(H,x,()=>H.complete(),I),P=>(0,O.N)(H,x,()=>H.error(P),I)))})}function se(x,I=0){return(0,ge.N)((A,H)=>{H.add(x.schedule(()=>A.subscribe(H),I))})}var b=me(1985),y=me(4761),C=me(8071);function s(x,I){if(!x)throw new Error("Iterable cannot be null");return new b.c(A=>{(0,O.N)(A,I,()=>{const H=x[Symbol.asyncIterator]();(0,O.N)(A,I,()=>{H.next().then(P=>{P.done?A.complete():A.next(P.value)})},0,!0)})})}var l=me(5055),a=me(7477),d=me(7441),f=me(5397),u=me(7953),p=me(591),c=me(5196);function M(x,I){return I?function _(x,I){if(null!=x){if((0,l.l)(x))return function V(x,I){return(0,j.Tg)(x).pipe(se(I),o(I))}(x,I);if((0,d.X)(x))return function g(x,I){return new b.c(A=>{let H=0;return I.schedule(function(){H===x.length?A.complete():(A.next(x[H++]),A.closed||this.schedule())})})}(x,I);if((0,a.y)(x))return function v(x,I){return(0,j.Tg)(x).pipe(se(I),o(I))}(x,I);if((0,u.T)(x))return s(x,I);if((0,f.x)(x))return function w(x,I){return new b.c(A=>{let H;return(0,O.N)(A,I,()=>{H=x[y.l](),(0,O.N)(A,I,()=>{let P,z;try{({value:P,done:z}=H.next())}catch(k){return void A.error(k)}z?A.complete():A.next(P)},0,!0)}),()=>(0,C.T)(null==H?void 0:H.return)&&H.return()})}(x,I);if((0,c.U)(x))return function m(x,I){return s((0,c.C)(x),I)}(x,I)}throw(0,p.L)(x)}(x,I):(0,j.Tg)(x)}},3726:(En,Kt,me)=>{"use strict";me.d(Kt,{R:()=>g});var j=me(8750),O=me(1985),ge=me(1397),gt=me(7441),o=me(8071),se=me(6450);const V=["addListener","removeListener"],v=["addEventListener","removeEventListener"],b=["on","off"];function g(l,a,d,f){if((0,o.T)(d)&&(f=d,d=void 0),f)return g(l,a,d).pipe((0,se.I)(f));const[u,p]=function s(l){return(0,o.T)(l.addEventListener)&&(0,o.T)(l.removeEventListener)}(l)?v.map(c=>m=>l[c](a,m,d)):function C(l){return(0,o.T)(l.addListener)&&(0,o.T)(l.removeListener)}(l)?V.map(y(l,a)):function w(l){return(0,o.T)(l.on)&&(0,o.T)(l.off)}(l)?b.map(y(l,a)):[];if(!u&&(0,gt.X)(l))return(0,ge.Z)(c=>g(c,a,d))((0,j.Tg)(l));if(!u)throw new TypeError("Invalid event target");return new O.c(c=>{const m=(..._)=>c.next(1<_.length?_:_[0]);return u(m),()=>p(m)})}function y(l,a){return d=>f=>l[d](a,f)}},8750:(En,Kt,me)=>{"use strict";me.d(Kt,{Tg:()=>w});var j=me(1635),O=me(7441),ge=me(7477),gt=me(1985),o=me(5055),se=me(7953),V=me(591),v=me(5397),b=me(5196),g=me(8071),y=me(5334),C=me(3494);function w(c){if(c instanceof gt.c)return c;if(null!=c){if((0,o.l)(c))return function s(c){return new gt.c(m=>{const _=c[C.s]();if((0,g.T)(_.subscribe))return _.subscribe(m);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(c);if((0,O.X)(c))return function l(c){return new gt.c(m=>{for(let _=0;_<c.length&&!m.closed;_++)m.next(c[_]);m.complete()})}(c);if((0,ge.y)(c))return function a(c){return new gt.c(m=>{c.then(_=>{m.closed||(m.next(_),m.complete())},_=>m.error(_)).then(null,y.m)})}(c);if((0,se.T)(c))return f(c);if((0,v.x)(c))return function d(c){return new gt.c(m=>{for(const _ of c)if(m.next(_),m.closed)return;m.complete()})}(c);if((0,b.U)(c))return function u(c){return f((0,b.C)(c))}(c)}throw(0,V.L)(c)}function f(c){return new gt.c(m=>{(function p(c,m){var _,M,x,I;return(0,j.sH)(this,void 0,void 0,function*(){try{for(_=(0,j.xN)(c);!(M=yield _.next()).done;)if(m.next(M.value),m.closed)return}catch(A){x={error:A}}finally{try{M&&!M.done&&(I=_.return)&&(yield I.call(_))}finally{if(x)throw x.error}}m.complete()})})(c,m).catch(_=>m.error(_))})}},7673:(En,Kt,me)=>{"use strict";me.d(Kt,{of:()=>ge});var j=me(9326),O=me(6648);function ge(...gt){const o=(0,j.lI)(gt);return(0,O.H)(gt,o)}},8810:(En,Kt,me)=>{"use strict";me.d(Kt,{$:()=>ge});var j=me(1985),O=me(8071);function ge(gt,o){const se=(0,O.T)(gt)?gt:()=>gt,V=v=>v.error(se());return new j.c(o?v=>o.schedule(V,0,v):V)}},4360:(En,Kt,me)=>{"use strict";me.d(Kt,{_:()=>O});var j=me(7707);function O(gt,o,se,V,v){return new ge(gt,o,se,V,v)}class ge extends j.vU{constructor(o,se,V,v,b,g){super(o),this.onFinalize=b,this.shouldUnsubscribe=g,this._next=se?function(y){try{se(y)}catch(C){o.error(C)}}:super._next,this._error=v?function(y){try{v(y)}catch(C){o.error(C)}finally{this.unsubscribe()}}:super._error,this._complete=V?function(){try{V()}catch(y){o.error(y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var o;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(o=this.onFinalize)||void 0===o||o.call(this))}}}},5964:(En,Kt,me)=>{"use strict";me.d(Kt,{p:()=>ge});var j=me(9974),O=me(4360);function ge(gt,o){return(0,j.N)((se,V)=>{let v=0;se.subscribe((0,O._)(V,b=>gt.call(o,b,v++)&&V.next(b)))})}},6354:(En,Kt,me)=>{"use strict";me.d(Kt,{T:()=>ge});var j=me(9974),O=me(4360);function ge(gt,o){return(0,j.N)((se,V)=>{let v=0;se.subscribe((0,O._)(V,b=>{V.next(gt.call(o,b,v++))}))})}},3703:(En,Kt,me)=>{"use strict";me.d(Kt,{u:()=>O});var j=me(6354);function O(ge){return(0,j.T)(()=>ge)}},6365:(En,Kt,me)=>{"use strict";me.d(Kt,{U:()=>ge});var j=me(1397),O=me(3669);function ge(gt=1/0){return(0,j.Z)(O.D,gt)}},1397:(En,Kt,me)=>{"use strict";me.d(Kt,{Z:()=>v});var j=me(6354),O=me(8750),ge=me(9974),gt=me(5225),o=me(4360),V=me(8071);function v(b,g,y=1/0){return(0,V.T)(g)?v((C,w)=>(0,j.T)((s,l)=>g(C,s,w,l))((0,O.Tg)(b(C,w))),y):("number"==typeof g&&(y=g),(0,ge.N)((C,w)=>function se(b,g,y,C,w,s,l,a){const d=[];let f=0,u=0,p=!1;const c=()=>{p&&!d.length&&!f&&g.complete()},m=M=>f<C?_(M):d.push(M),_=M=>{s&&g.next(M),f++;let x=!1;(0,O.Tg)(y(M,u++)).subscribe((0,o._)(g,I=>{null==w||w(I),s?m(I):g.next(I)},()=>{x=!0},void 0,()=>{if(x)try{for(f--;d.length&&f<C;){const I=d.shift();l?(0,gt.N)(g,l,()=>_(I)):_(I)}c()}catch(I){g.error(I)}}))};return b.subscribe((0,o._)(g,m,()=>{p=!0,c()})),()=>{null==a||a()}}(C,w,b,y)))}},9898:(En,Kt,me)=>{"use strict";me.d(Kt,{B:()=>ge});var j=me(9974),O=me(4360);function ge(){return(0,j.N)((gt,o)=>{let se=null;gt._refCount++;const V=(0,O._)(o,void 0,void 0,void 0,()=>{if(!gt||gt._refCount<=0||0<--gt._refCount)return void(se=null);const v=gt._connection,b=se;se=null,v&&(!b||v===b)&&v.unsubscribe(),o.unsubscribe()});gt.subscribe(V),V.closed||(se=gt.connect())})}},5558:(En,Kt,me)=>{"use strict";me.d(Kt,{n:()=>gt});var j=me(8750),O=me(9974),ge=me(4360);function gt(o,se){return(0,O.N)((V,v)=>{let b=null,g=0,y=!1;const C=()=>y&&!b&&v.complete();V.subscribe((0,ge._)(v,w=>{null==b||b.unsubscribe();let s=0;const l=g++;(0,j.Tg)(o(w,l)).subscribe(b=(0,ge._)(v,a=>v.next(se?se(w,a,l,s++):a),()=>{b=null,C()}))},()=>{y=!0,C()}))})}},6697:(En,Kt,me)=>{"use strict";me.d(Kt,{s:()=>gt});var j=me(983),O=me(9974),ge=me(4360);function gt(o){return o<=0?()=>j.w:(0,O.N)((se,V)=>{let v=0;se.subscribe((0,ge._)(V,b=>{++v<=o&&(V.next(b),o<=v&&V.complete())}))})}},8141:(En,Kt,me)=>{"use strict";me.d(Kt,{M:()=>o});var j=me(8071),O=me(9974),ge=me(4360),gt=me(3669);function o(se,V,v){const b=(0,j.T)(se)||V||v?{next:se,error:V,complete:v}:se;return b?(0,O.N)((g,y)=>{var C;null===(C=b.subscribe)||void 0===C||C.call(b);let w=!0;g.subscribe((0,ge._)(y,s=>{var l;null===(l=b.next)||void 0===l||l.call(b,s),y.next(s)},()=>{var s;w=!1,null===(s=b.complete)||void 0===s||s.call(b),y.complete()},s=>{var l;w=!1,null===(l=b.error)||void 0===l||l.call(b,s),y.error(s)},()=>{var s,l;w&&(null===(s=b.unsubscribe)||void 0===s||s.call(b)),null===(l=b.finalize)||void 0===l||l.call(b)}))}):gt.D}},9270:(En,Kt,me)=>{"use strict";me.d(Kt,{f:()=>j});const j={setTimeout(O,ge,...gt){const{delegate:o}=j;return null!=o&&o.setTimeout?o.setTimeout(O,ge,...gt):setTimeout(O,ge,...gt)},clearTimeout(O){const{delegate:ge}=j;return((null==ge?void 0:ge.clearTimeout)||clearTimeout)(O)},delegate:void 0}},4761:(En,Kt,me)=>{"use strict";me.d(Kt,{l:()=>O});const O=function j(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(En,Kt,me)=>{"use strict";me.d(Kt,{s:()=>j});const j="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(En,Kt,me)=>{"use strict";me.d(Kt,{R0:()=>se,lI:()=>o,ms:()=>gt});var j=me(8071),O=me(9470);function ge(V){return V[V.length-1]}function gt(V){return(0,j.T)(ge(V))?V.pop():void 0}function o(V){return(0,O.m)(ge(V))?V.pop():void 0}function se(V,v){return"number"==typeof ge(V)?V.pop():v}},3073:(En,Kt,me)=>{"use strict";me.d(Kt,{D:()=>o});const{isArray:j}=Array,{getPrototypeOf:O,prototype:ge,keys:gt}=Object;function o(V){if(1===V.length){const v=V[0];if(j(v))return{args:v,keys:null};if(function se(V){return V&&"object"==typeof V&&O(V)===ge}(v)){const b=gt(v);return{args:b.map(g=>v[g]),keys:b}}}return{args:V,keys:null}}},7908:(En,Kt,me)=>{"use strict";function j(O,ge){if(O){const gt=O.indexOf(ge);0<=gt&&O.splice(gt,1)}}me.d(Kt,{o:()=>j})},1853:(En,Kt,me)=>{"use strict";function j(O){const gt=O(o=>{Error.call(o),o.stack=(new Error).stack});return gt.prototype=Object.create(Error.prototype),gt.prototype.constructor=gt,gt}me.d(Kt,{L:()=>j})},8496:(En,Kt,me)=>{"use strict";function j(O,ge){return O.reduce((gt,o,se)=>(gt[o]=ge[se],gt),{})}me.d(Kt,{e:()=>j})},9786:(En,Kt,me)=>{"use strict";me.d(Kt,{Y:()=>ge,l:()=>gt});var j=me(1026);let O=null;function ge(o){if(j.$.useDeprecatedSynchronousErrorHandling){const se=!O;if(se&&(O={errorThrown:!1,error:null}),o(),se){const{errorThrown:V,error:v}=O;if(O=null,V)throw v}}else o()}function gt(o){j.$.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=o)}},5225:(En,Kt,me)=>{"use strict";function j(O,ge,gt,o=0,se=!1){const V=ge.schedule(function(){gt(),se?O.add(this.schedule(null,o)):this.unsubscribe()},o);if(O.add(V),!se)return V}me.d(Kt,{N:()=>j})},3669:(En,Kt,me)=>{"use strict";function j(O){return O}me.d(Kt,{D:()=>j})},7441:(En,Kt,me)=>{"use strict";me.d(Kt,{X:()=>j});const j=O=>O&&"number"==typeof O.length&&"function"!=typeof O},7953:(En,Kt,me)=>{"use strict";me.d(Kt,{T:()=>O});var j=me(8071);function O(ge){return Symbol.asyncIterator&&(0,j.T)(null==ge?void 0:ge[Symbol.asyncIterator])}},8071:(En,Kt,me)=>{"use strict";function j(O){return"function"==typeof O}me.d(Kt,{T:()=>j})},5055:(En,Kt,me)=>{"use strict";me.d(Kt,{l:()=>ge});var j=me(3494),O=me(8071);function ge(gt){return(0,O.T)(gt[j.s])}},5397:(En,Kt,me)=>{"use strict";me.d(Kt,{x:()=>ge});var j=me(4761),O=me(8071);function ge(gt){return(0,O.T)(null==gt?void 0:gt[j.l])}},7477:(En,Kt,me)=>{"use strict";me.d(Kt,{y:()=>O});var j=me(8071);function O(ge){return(0,j.T)(null==ge?void 0:ge.then)}},5196:(En,Kt,me)=>{"use strict";me.d(Kt,{C:()=>ge,U:()=>gt});var j=me(1635),O=me(8071);function ge(o){return(0,j.AQ)(this,arguments,function*(){const V=o.getReader();try{for(;;){const{value:v,done:b}=yield(0,j.N3)(V.read());if(b)return yield(0,j.N3)(void 0);yield yield(0,j.N3)(v)}}finally{V.releaseLock()}})}function gt(o){return(0,O.T)(null==o?void 0:o.getReader)}},9470:(En,Kt,me)=>{"use strict";me.d(Kt,{m:()=>O});var j=me(8071);function O(ge){return ge&&(0,j.T)(ge.schedule)}},9974:(En,Kt,me)=>{"use strict";me.d(Kt,{N:()=>ge,S:()=>O});var j=me(8071);function O(gt){return(0,j.T)(null==gt?void 0:gt.lift)}function ge(gt){return o=>{if(O(o))return o.lift(function(se){try{return gt(se,this)}catch(V){this.error(V)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(En,Kt,me)=>{"use strict";me.d(Kt,{I:()=>gt});var j=me(6354);const{isArray:O}=Array;function gt(o){return(0,j.T)(se=>function ge(o,se){return O(se)?o(...se):o(se)}(o,se))}},5343:(En,Kt,me)=>{"use strict";function j(){}me.d(Kt,{l:()=>j})},1203:(En,Kt,me)=>{"use strict";me.d(Kt,{F:()=>O,m:()=>ge});var j=me(3669);function O(...gt){return ge(gt)}function ge(gt){return 0===gt.length?j.D:1===gt.length?gt[0]:function(se){return gt.reduce((V,v)=>v(V),se)}}},5334:(En,Kt,me)=>{"use strict";me.d(Kt,{m:()=>ge});var j=me(1026),O=me(9270);function ge(gt){O.f.setTimeout(()=>{const{onUnhandledError:o}=j.$;if(!o)throw gt;o(gt)})}},591:(En,Kt,me)=>{"use strict";function j(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}me.d(Kt,{L:()=>j})},8996:(En,Kt,me)=>{var j={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function O(ge){if(!me.o(j,ge))return Promise.resolve().then(()=>{var se=new Error("Cannot find module '"+ge+"'");throw se.code="MODULE_NOT_FOUND",se});var gt=j[ge],o=gt[0];return Promise.all(gt.slice(1).map(me.e)).then(()=>me(o))}O.keys=()=>Object.keys(j),O.id=8996,En.exports=O},5235:(En,Kt,me)=>{var j={"./pwa-action-sheet.entry.js":[6301,6301],"./pwa-camera-modal-instance.entry.js":[5640,5640],"./pwa-camera-modal.entry.js":[2982,2982],"./pwa-camera.entry.js":[6086,6086],"./pwa-toast.entry.js":[3574,3574]};function O(ge){if(!me.o(j,ge))return Promise.resolve().then(()=>{var se=new Error("Cannot find module '"+ge+"'");throw se.code="MODULE_NOT_FOUND",se});var gt=j[ge],o=gt[0];return me.e(gt[1]).then(()=>me(o))}O.keys=()=>Object.keys(j),O.id=5235,En.exports=O},4633:(En,Kt,me)=>{var j=me(3738).default;function O(){"use strict";En.exports=O=function(){return gt},En.exports.__esModule=!0,En.exports.default=En.exports;var ge,gt={},o=Object.prototype,se=o.hasOwnProperty,V=Object.defineProperty||function(X,B,N){X[B]=N.value},v="function"==typeof Symbol?Symbol:{},b=v.iterator||"@@iterator",g=v.asyncIterator||"@@asyncIterator",y=v.toStringTag||"@@toStringTag";function C(X,B,N){return Object.defineProperty(X,B,{value:N,enumerable:!0,configurable:!0,writable:!0}),X[B]}try{C({},"")}catch{C=function(N,K,ie){return N[K]=ie}}function w(X,B,N,K){var Ae=Object.create((B&&B.prototype instanceof p?B:p).prototype),Y=new ne(K||[]);return V(Ae,"_invoke",{value:P(X,N,Y)}),Ae}function s(X,B,N){try{return{type:"normal",arg:X.call(B,N)}}catch(K){return{type:"throw",arg:K}}}gt.wrap=w;var l="suspendedStart",a="suspendedYield",d="executing",f="completed",u={};function p(){}function c(){}function m(){}var _={};C(_,b,function(){return this});var M=Object.getPrototypeOf,x=M&&M(M(G([])));x&&x!==o&&se.call(x,b)&&(_=x);var I=m.prototype=p.prototype=Object.create(_);function A(X){["next","throw","return"].forEach(function(B){C(X,B,function(N){return this._invoke(B,N)})})}function H(X,B){function N(ie,Ae,Y,R){var Q=s(X[ie],X,Ae);if("throw"!==Q.type){var pe=Q.arg,Se=pe.value;return Se&&"object"==j(Se)&&se.call(Se,"__await")?B.resolve(Se.__await).then(function(Ve){N("next",Ve,Y,R)},function(Ve){N("throw",Ve,Y,R)}):B.resolve(Se).then(function(Ve){pe.value=Ve,Y(pe)},function(Ve){return N("throw",Ve,Y,R)})}R(Q.arg)}var K;V(this,"_invoke",{value:function(Ae,Y){function R(){return new B(function(Q,pe){N(Ae,Y,Q,pe)})}return K=K?K.then(R,R):R()}})}function P(X,B,N){var K=l;return function(ie,Ae){if(K===d)throw Error("Generator is already running");if(K===f){if("throw"===ie)throw Ae;return{value:ge,done:!0}}for(N.method=ie,N.arg=Ae;;){var Y=N.delegate;if(Y){var R=z(Y,N);if(R){if(R===u)continue;return R}}if("next"===N.method)N.sent=N._sent=N.arg;else if("throw"===N.method){if(K===l)throw K=f,N.arg;N.dispatchException(N.arg)}else"return"===N.method&&N.abrupt("return",N.arg);K=d;var Q=s(X,B,N);if("normal"===Q.type){if(K=N.done?f:a,Q.arg===u)continue;return{value:Q.arg,done:N.done}}"throw"===Q.type&&(K=f,N.method="throw",N.arg=Q.arg)}}}function z(X,B){var N=B.method,K=X.iterator[N];if(K===ge)return B.delegate=null,"throw"===N&&X.iterator.return&&(B.method="return",B.arg=ge,z(X,B),"throw"===B.method)||"return"!==N&&(B.method="throw",B.arg=new TypeError("The iterator does not provide a '"+N+"' method")),u;var ie=s(K,X.iterator,B.arg);if("throw"===ie.type)return B.method="throw",B.arg=ie.arg,B.delegate=null,u;var Ae=ie.arg;return Ae?Ae.done?(B[X.resultName]=Ae.value,B.next=X.nextLoc,"return"!==B.method&&(B.method="next",B.arg=ge),B.delegate=null,u):Ae:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,u)}function k(X){var B={tryLoc:X[0]};1 in X&&(B.catchLoc=X[1]),2 in X&&(B.finallyLoc=X[2],B.afterLoc=X[3]),this.tryEntries.push(B)}function te(X){var B=X.completion||{};B.type="normal",delete B.arg,X.completion=B}function ne(X){this.tryEntries=[{tryLoc:"root"}],X.forEach(k,this),this.reset(!0)}function G(X){if(X||""===X){var B=X[b];if(B)return B.call(X);if("function"==typeof X.next)return X;if(!isNaN(X.length)){var N=-1,K=function ie(){for(;++N<X.length;)if(se.call(X,N))return ie.value=X[N],ie.done=!1,ie;return ie.value=ge,ie.done=!0,ie};return K.next=K}}throw new TypeError(j(X)+" is not iterable")}return c.prototype=m,V(I,"constructor",{value:m,configurable:!0}),V(m,"constructor",{value:c,configurable:!0}),c.displayName=C(m,y,"GeneratorFunction"),gt.isGeneratorFunction=function(X){var B="function"==typeof X&&X.constructor;return!!B&&(B===c||"GeneratorFunction"===(B.displayName||B.name))},gt.mark=function(X){return Object.setPrototypeOf?Object.setPrototypeOf(X,m):(X.__proto__=m,C(X,y,"GeneratorFunction")),X.prototype=Object.create(I),X},gt.awrap=function(X){return{__await:X}},A(H.prototype),C(H.prototype,g,function(){return this}),gt.AsyncIterator=H,gt.async=function(X,B,N,K,ie){void 0===ie&&(ie=Promise);var Ae=new H(w(X,B,N,K),ie);return gt.isGeneratorFunction(B)?Ae:Ae.next().then(function(Y){return Y.done?Y.value:Ae.next()})},A(I),C(I,y,"Generator"),C(I,b,function(){return this}),C(I,"toString",function(){return"[object Generator]"}),gt.keys=function(X){var B=Object(X),N=[];for(var K in B)N.push(K);return N.reverse(),function ie(){for(;N.length;){var Ae=N.pop();if(Ae in B)return ie.value=Ae,ie.done=!1,ie}return ie.done=!0,ie}},gt.values=G,ne.prototype={constructor:ne,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=ge,this.done=!1,this.delegate=null,this.method="next",this.arg=ge,this.tryEntries.forEach(te),!B)for(var N in this)"t"===N.charAt(0)&&se.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=ge)},stop:function(){this.done=!0;var B=this.tryEntries[0].completion;if("throw"===B.type)throw B.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var N=this;function K(pe,Se){return Y.type="throw",Y.arg=B,N.next=pe,Se&&(N.method="next",N.arg=ge),!!Se}for(var ie=this.tryEntries.length-1;ie>=0;--ie){var Ae=this.tryEntries[ie],Y=Ae.completion;if("root"===Ae.tryLoc)return K("end");if(Ae.tryLoc<=this.prev){var R=se.call(Ae,"catchLoc"),Q=se.call(Ae,"finallyLoc");if(R&&Q){if(this.prev<Ae.catchLoc)return K(Ae.catchLoc,!0);if(this.prev<Ae.finallyLoc)return K(Ae.finallyLoc)}else if(R){if(this.prev<Ae.catchLoc)return K(Ae.catchLoc,!0)}else{if(!Q)throw Error("try statement without catch or finally");if(this.prev<Ae.finallyLoc)return K(Ae.finallyLoc)}}}},abrupt:function(B,N){for(var K=this.tryEntries.length-1;K>=0;--K){var ie=this.tryEntries[K];if(ie.tryLoc<=this.prev&&se.call(ie,"finallyLoc")&&this.prev<ie.finallyLoc){var Ae=ie;break}}Ae&&("break"===B||"continue"===B)&&Ae.tryLoc<=N&&N<=Ae.finallyLoc&&(Ae=null);var Y=Ae?Ae.completion:{};return Y.type=B,Y.arg=N,Ae?(this.method="next",this.next=Ae.finallyLoc,u):this.complete(Y)},complete:function(B,N){if("throw"===B.type)throw B.arg;return"break"===B.type||"continue"===B.type?this.next=B.arg:"return"===B.type?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):"normal"===B.type&&N&&(this.next=N),u},finish:function(B){for(var N=this.tryEntries.length-1;N>=0;--N){var K=this.tryEntries[N];if(K.finallyLoc===B)return this.complete(K.completion,K.afterLoc),te(K),u}},catch:function(B){for(var N=this.tryEntries.length-1;N>=0;--N){var K=this.tryEntries[N];if(K.tryLoc===B){var ie=K.completion;if("throw"===ie.type){var Ae=ie.arg;te(K)}return Ae}}throw Error("illegal catch attempt")},delegateYield:function(B,N,K){return this.delegate={iterator:G(B),resultName:N,nextLoc:K},"next"===this.method&&(this.arg=ge),u}},gt}En.exports=O,En.exports.__esModule=!0,En.exports.default=En.exports},3738:En=>{function Kt(me){return En.exports=Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},En.exports.__esModule=!0,En.exports.default=En.exports,Kt(me)}En.exports=Kt,En.exports.__esModule=!0,En.exports.default=En.exports},4756:(En,Kt,me)=>{var j=me(4633)();En.exports=j;try{regeneratorRuntime=j}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=j:Function("r","regeneratorRuntime = r")(j)}},177:(En,Kt,me)=>{"use strict";me.d(Kt,{AJ:()=>qt,MD:()=>Qt,N0:()=>pr,QT:()=>ge,Sm:()=>a,Sq:()=>mn,T3:()=>No,UE:()=>wn,VF:()=>o,Vy:()=>Sn,Xr:()=>Un,ZD:()=>gt,_b:()=>xe,aZ:()=>f,bT:()=>tr,fw:()=>d,hb:()=>s,hj:()=>b,qQ:()=>V});var j=me(3953);let O=null;function ge(){return O}function gt(ce){var Re;null!==(Re=O)&&void 0!==Re||(O=ce)}class o{}const V=new j.nKC("");let v=(()=>{var ce;class Re{historyGo(Ie){throw new Error("")}}return(ce=Re).\u0275fac=function(Ie){return new(Ie||ce)},ce.\u0275prov=j.jDH({token:ce,factory:()=>(0,j.WQX)(g),providedIn:"platform"}),Re})();const b=new j.nKC("");let g=(()=>{var ce;class Re extends v{constructor(){super(),this._doc=(0,j.WQX)(V),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ge().getBaseHref(this._doc)}onPopState(Ie){const ut=ge().getGlobalEventTarget(this._doc,"window");return ut.addEventListener("popstate",Ie,!1),()=>ut.removeEventListener("popstate",Ie)}onHashChange(Ie){const ut=ge().getGlobalEventTarget(this._doc,"window");return ut.addEventListener("hashchange",Ie,!1),()=>ut.removeEventListener("hashchange",Ie)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ie){this._location.pathname=Ie}pushState(Ie,ut,Ot){this._history.pushState(Ie,ut,Ot)}replaceState(Ie,ut,Ot){this._history.replaceState(Ie,ut,Ot)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ie=0){this._history.go(Ie)}getState(){return this._history.state}}return(ce=Re).\u0275fac=function(Ie){return new(Ie||ce)},ce.\u0275prov=j.jDH({token:ce,factory:()=>new ce,providedIn:"platform"}),Re})();function y(ce,Re){if(0==ce.length)return Re;if(0==Re.length)return ce;let Ct=0;return ce.endsWith("/")&&Ct++,Re.startsWith("/")&&Ct++,2==Ct?ce+Re.substring(1):1==Ct?ce+Re:ce+"/"+Re}function C(ce){const Re=ce.match(/#|\?|$/),Ct=Re&&Re.index||ce.length;return ce.slice(0,Ct-("/"===ce[Ct-1]?1:0))+ce.slice(Ct)}function w(ce){return ce&&"?"!==ce[0]?"?"+ce:ce}let s=(()=>{var ce;class Re{historyGo(Ie){throw new Error("")}}return(ce=Re).\u0275fac=function(Ie){return new(Ie||ce)},ce.\u0275prov=j.jDH({token:ce,factory:()=>(0,j.WQX)(a),providedIn:"root"}),Re})();const l=new j.nKC("");let a=(()=>{var ce;class Re extends s{constructor(Ie,ut){var Ot,pn,On;super(),this._platformLocation=Ie,this._removeListenerFns=[],this._baseHref=null!==(Ot=null!==(pn=null!=ut?ut:this._platformLocation.getBaseHrefFromDOM())&&void 0!==pn?pn:null===(On=(0,j.WQX)(V).location)||void 0===On?void 0:On.origin)&&void 0!==Ot?Ot:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ie){this._removeListenerFns.push(this._platformLocation.onPopState(Ie),this._platformLocation.onHashChange(Ie))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ie){return y(this._baseHref,Ie)}path(Ie=!1){const ut=this._platformLocation.pathname+w(this._platformLocation.search),Ot=this._platformLocation.hash;return Ot&&Ie?`${ut}${Ot}`:ut}pushState(Ie,ut,Ot,pn){const On=this.prepareExternalUrl(Ot+w(pn));this._platformLocation.pushState(Ie,ut,On)}replaceState(Ie,ut,Ot,pn){const On=this.prepareExternalUrl(Ot+w(pn));this._platformLocation.replaceState(Ie,ut,On)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ie=0){var ut,Ot;null===(ut=(Ot=this._platformLocation).historyGo)||void 0===ut||ut.call(Ot,Ie)}}return(ce=Re).\u0275fac=function(Ie){return new(Ie||ce)(j.KVO(v),j.KVO(l,8))},ce.\u0275prov=j.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"}),Re})(),d=(()=>{var ce;class Re extends s{constructor(Ie,ut){super(),this._platformLocation=Ie,this._baseHref="",this._removeListenerFns=[],null!=ut&&(this._baseHref=ut)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ie){this._removeListenerFns.push(this._platformLocation.onPopState(Ie),this._platformLocation.onHashChange(Ie))}getBaseHref(){return this._baseHref}path(Ie=!1){var ut;const Ot=null!==(ut=this._platformLocation.hash)&&void 0!==ut?ut:"#";return Ot.length>0?Ot.substring(1):Ot}prepareExternalUrl(Ie){const ut=y(this._baseHref,Ie);return ut.length>0?"#"+ut:ut}pushState(Ie,ut,Ot,pn){let On=this.prepareExternalUrl(Ot+w(pn));0==On.length&&(On=this._platformLocation.pathname),this._platformLocation.pushState(Ie,ut,On)}replaceState(Ie,ut,Ot,pn){let On=this.prepareExternalUrl(Ot+w(pn));0==On.length&&(On=this._platformLocation.pathname),this._platformLocation.replaceState(Ie,ut,On)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ie=0){var ut,Ot;null===(ut=(Ot=this._platformLocation).historyGo)||void 0===ut||ut.call(Ot,Ie)}}return(ce=Re).\u0275fac=function(Ie){return new(Ie||ce)(j.KVO(v),j.KVO(l,8))},ce.\u0275prov=j.jDH({token:ce,factory:ce.\u0275fac}),Re})(),f=(()=>{var ce;class Re{constructor(Ie){this._subject=new j.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Ie;const ut=this._locationStrategy.getBaseHref();this._basePath=function m(ce){if(new RegExp("^(https?:)?//").test(ce)){const[,Ct]=ce.split(/\/\/[^\/]+/);return Ct}return ce}(C(c(ut))),this._locationStrategy.onPopState(Ot=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ot.state,type:Ot.type})})}ngOnDestroy(){var Ie;null===(Ie=this._urlChangeSubscription)||void 0===Ie||Ie.unsubscribe(),this._urlChangeListeners=[]}path(Ie=!1){return this.normalize(this._locationStrategy.path(Ie))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ie,ut=""){return this.path()==this.normalize(Ie+w(ut))}normalize(Ie){return Re.stripTrailingSlash(function p(ce,Re){if(!ce||!Re.startsWith(ce))return Re;const Ct=Re.substring(ce.length);return""===Ct||["/",";","?","#"].includes(Ct[0])?Ct:Re}(this._basePath,c(Ie)))}prepareExternalUrl(Ie){return Ie&&"/"!==Ie[0]&&(Ie="/"+Ie),this._locationStrategy.prepareExternalUrl(Ie)}go(Ie,ut="",Ot=null){this._locationStrategy.pushState(Ot,"",Ie,ut),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ie+w(ut)),Ot)}replaceState(Ie,ut="",Ot=null){this._locationStrategy.replaceState(Ot,"",Ie,ut),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ie+w(ut)),Ot)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ie=0){var ut,Ot;null===(ut=(Ot=this._locationStrategy).historyGo)||void 0===ut||ut.call(Ot,Ie)}onUrlChange(Ie){var ut;return this._urlChangeListeners.push(Ie),null!==(ut=this._urlChangeSubscription)&&void 0!==ut||(this._urlChangeSubscription=this.subscribe(Ot=>{this._notifyUrlChangeListeners(Ot.url,Ot.state)})),()=>{const Ot=this._urlChangeListeners.indexOf(Ie);var pn;this._urlChangeListeners.splice(Ot,1),0===this._urlChangeListeners.length&&(null===(pn=this._urlChangeSubscription)||void 0===pn||pn.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ie="",ut){this._urlChangeListeners.forEach(Ot=>Ot(Ie,ut))}subscribe(Ie,ut,Ot){return this._subject.subscribe({next:Ie,error:ut,complete:Ot})}}return(ce=Re).normalizeQueryParams=w,ce.joinWithSlash=y,ce.stripTrailingSlash=C,ce.\u0275fac=function(Ie){return new(Ie||ce)(j.KVO(s))},ce.\u0275prov=j.jDH({token:ce,factory:()=>function u(){return new f((0,j.KVO)(s))}(),providedIn:"root"}),Re})();function c(ce){return ce.replace(/\/index.html$/,"")}function xe(ce,Re){Re=encodeURIComponent(Re);for(const Ct of ce.split(";")){const Ie=Ct.indexOf("="),[ut,Ot]=-1==Ie?[Ct,""]:[Ct.slice(0,Ie),Ct.slice(Ie+1)];if(ut.trim()===Re)return decodeURIComponent(Ot)}return null}class sn{constructor(Re,Ct,Ie,ut){this.$implicit=Re,this.ngForOf=Ct,this.index=Ie,this.count=ut}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mn=(()=>{var ce;class Re{set ngForOf(Ie){this._ngForOf=Ie,this._ngForOfDirty=!0}set ngForTrackBy(Ie){this._trackByFn=Ie}get ngForTrackBy(){return this._trackByFn}constructor(Ie,ut,Ot){this._viewContainer=Ie,this._template=ut,this._differs=Ot,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Ie){Ie&&(this._template=Ie)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ie=this._ngForOf;!this._differ&&Ie&&(this._differ=this._differs.find(Ie).create(this.ngForTrackBy))}if(this._differ){const Ie=this._differ.diff(this._ngForOf);Ie&&this._applyChanges(Ie)}}_applyChanges(Ie){const ut=this._viewContainer;Ie.forEachOperation((Ot,pn,On)=>{if(null==Ot.previousIndex)ut.createEmbeddedView(this._template,new sn(Ot.item,this._ngForOf,-1,-1),null===On?void 0:On);else if(null==On)ut.remove(null===pn?void 0:pn);else if(null!==pn){const sr=ut.get(pn);ut.move(sr,On),Tn(sr,Ot)}});for(let Ot=0,pn=ut.length;Ot<pn;Ot++){const sr=ut.get(Ot).context;sr.index=Ot,sr.count=pn,sr.ngForOf=this._ngForOf}Ie.forEachIdentityChange(Ot=>{Tn(ut.get(Ot.currentIndex),Ot)})}static ngTemplateContextGuard(Ie,ut){return!0}}return(ce=Re).\u0275fac=function(Ie){return new(Ie||ce)(j.rXU(j.c1b),j.rXU(j.C4Q),j.rXU(j._q3))},ce.\u0275dir=j.FsC({type:ce,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Re})();function Tn(ce,Re){ce.context.$implicit=Re.item}let tr=(()=>{var ce;class Re{constructor(Ie,ut){this._viewContainer=Ie,this._context=new Nr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ut}set ngIf(Ie){this._context.$implicit=this._context.ngIf=Ie,this._updateView()}set ngIfThen(Ie){Dr("ngIfThen",Ie),this._thenTemplateRef=Ie,this._thenViewRef=null,this._updateView()}set ngIfElse(Ie){Dr("ngIfElse",Ie),this._elseTemplateRef=Ie,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ie,ut){return!0}}return(ce=Re).\u0275fac=function(Ie){return new(Ie||ce)(j.rXU(j.c1b),j.rXU(j.C4Q))},ce.\u0275dir=j.FsC({type:ce,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Re})();class Nr{constructor(){this.$implicit=null,this.ngIf=null}}function Dr(ce,Re){if(Re&&!Re.createEmbeddedView)throw new Error(`${ce} must be a TemplateRef, but received '${(0,j.Tbb)(Re)}'.`)}let No=(()=>{var ce;class Re{constructor(Ie){this._viewContainerRef=Ie,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Ie){if(this._shouldRecreateView(Ie)){var ut;const Ot=this._viewContainerRef;if(this._viewRef&&Ot.remove(Ot.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const pn=this._createContextForwardProxy();this._viewRef=Ot.createEmbeddedView(this.ngTemplateOutlet,pn,{injector:null!==(ut=this.ngTemplateOutletInjector)&&void 0!==ut?ut:void 0})}}_shouldRecreateView(Ie){return!!Ie.ngTemplateOutlet||!!Ie.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Ie,ut,Ot)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ut,Ot),get:(Ie,ut,Ot)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ut,Ot)}})}}return(ce=Re).\u0275fac=function(Ie){return new(Ie||ce)(j.rXU(j.c1b))},ce.\u0275dir=j.FsC({type:ce,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[j.OA$]}),Re})(),Qt=(()=>{var ce;class Re{}return(ce=Re).\u0275fac=function(Ie){return new(Ie||ce)},ce.\u0275mod=j.$C({type:ce}),ce.\u0275inj=j.G2t({}),Re})();const qt="browser",gn="server";function wn(ce){return ce===qt}function Sn(ce){return ce===gn}let Un=(()=>{var ce;class Re{}return(ce=Re).\u0275prov=(0,j.jDH)({token:ce,providedIn:"root",factory:()=>wn((0,j.WQX)(j.Agw))?new Fn((0,j.WQX)(V),window):new Yn}),Re})();class Fn{constructor(Re,Ct){this.document=Re,this.window=Ct,this.offset=()=>[0,0]}setOffset(Re){this.offset=Array.isArray(Re)?()=>Re:Re}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Re){this.window.scrollTo(Re[0],Re[1])}scrollToAnchor(Re){const Ct=function Hn(ce,Re){const Ct=ce.getElementById(Re)||ce.getElementsByName(Re)[0];if(Ct)return Ct;if("function"==typeof ce.createTreeWalker&&ce.body&&"function"==typeof ce.body.attachShadow){const Ie=ce.createTreeWalker(ce.body,NodeFilter.SHOW_ELEMENT);let ut=Ie.currentNode;for(;ut;){const Ot=ut.shadowRoot;if(Ot){const pn=Ot.getElementById(Re)||Ot.querySelector(`[name="${Re}"]`);if(pn)return pn}ut=Ie.nextNode()}}return null}(this.document,Re);Ct&&(this.scrollToElement(Ct),Ct.focus())}setHistoryScrollRestoration(Re){this.window.history.scrollRestoration=Re}scrollToElement(Re){const Ct=Re.getBoundingClientRect(),Ie=Ct.left+this.window.pageXOffset,ut=Ct.top+this.window.pageYOffset,Ot=this.offset();this.window.scrollTo(Ie-Ot[0],ut-Ot[1])}}class Yn{setOffset(Re){}getScrollPosition(){return[0,0]}scrollToPosition(Re){}scrollToAnchor(Re){}setHistoryScrollRestoration(Re){}}class pr{}},3953:(En,Kt,me)=>{"use strict";function j(t,n){return Object.is(t,n)}me.d(Kt,{iLQ:()=>Md,sZ2:()=>xc,hnV:()=>g1,Hbi:()=>FI,o8S:()=>ts,BIS:()=>aE,gRc:()=>I1,Ql9:()=>dI,Ocv:()=>vI,Z63:()=>Ei,aKT:()=>Hl,uvJ:()=>Fi,zcH:()=>fs,bkB:()=>hs,$GK:()=>mr,nKC:()=>$n,zZn:()=>Bo,_q3:()=>om,MKu:()=>im,xe9:()=>Od,Co$:()=>E0,Vns:()=>fa,SKi:()=>ro,Xx1:()=>co,Agw:()=>Fh,PLl:()=>Xg,sFG:()=>rD,_9s:()=>Lf,czy:()=>Fc,WPN:()=>sa,kdw:()=>xa,C4Q:()=>au,NYb:()=>iI,giA:()=>p1,RxE:()=>a1,c1b:()=>rd,gXe:()=>ws,mal:()=>Fv,L39:()=>bO,EWP:()=>wO,a0P:()=>AO,Ol2:()=>ep,w6W:()=>ZD,oH4:()=>D1,SmG:()=>EI,Rfq:()=>Gi,WQX:()=>kn,QuC:()=>hr,EmA:()=>is,fpN:()=>LI,HJs:()=>MO,N4e:()=>bm,vPA:()=>o0,O8t:()=>CO,H3F:()=>l1,zAP:()=>nw,H8p:()=>Zd,KH2:()=>_l,TgB:()=>oa,wOt:()=>Rn,WHO:()=>h1,e01:()=>f1,lNU:()=>kr,h9k:()=>gy,$MX:()=>Rc,ZF7:()=>Xa,Kcf:()=>TE,e5t:()=>OE,UyX:()=>ME,cWb:()=>AE,osQ:()=>IE,H5H:()=>Dp,mq5:()=>xb,JZv:()=>zr,LfX:()=>vr,plB:()=>Ns,jNT:()=>Xp,zjR:()=>m1,TL$:()=>iE,Tbb:()=>Xr,rcV:()=>Ts,Vt3:()=>Jf,GFd:()=>C0,OA$:()=>ah,Jv_:()=>N_,aNF:()=>L_,R7$:()=>Vy,BMQ:()=>fp,AVh:()=>bp,wni:()=>u_,VBU:()=>Ce,FsC:()=>rn,jDH:()=>Ln,G2t:()=>Xn,$C:()=>rt,EJ8:()=>_n,rXU:()=>Ya,nrm:()=>Sp,eu8:()=>xp,bVm:()=>bd,qex:()=>vd,k0s:()=>yd,j41:()=>gd,RV6:()=>Cb,xGo:()=>hg,KVO:()=>Zn,kS0:()=>vc,QTQ:()=>Hy,bIt:()=>Mp,lsd:()=>h_,XpG:()=>Jb,SdG:()=>Qb,NAR:()=>Zb,Y8G:()=>yp,Mz_:()=>Ed,lJ4:()=>B_,mGM:()=>d_,sdS:()=>f_,Njj:()=>Um,eBV:()=>Fm,B4B:()=>Qh,n$t:()=>vy,Aen:()=>Zi,DNE:()=>np,EFF:()=>E_,JRh:()=>jp,SpI:()=>Sd,Lme:()=>Pp,DH7:()=>j_,mxI:()=>kp,R50:()=>Rp,GBs:()=>c_});let O=null,ge=!1,gt=1;const o=Symbol("SIGNAL");function se(t){const n=O;return O=t,n}const g={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function y(t){if(ge)throw new Error("");if(null===O)return;O.consumerOnSignalRead(t);const n=O.nextProducerIndex++;M(O),n<O.producerNode.length&&O.producerNode[n]!==t&&_(O)&&m(O.producerNode[n],O.producerIndexOfThis[n]),O.producerNode[n]!==t&&(O.producerNode[n]=t,O.producerIndexOfThis[n]=_(O)?c(t,O,n):0),O.producerLastReadVersion[n]=t.version}function w(t){if((!_(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==gt)){if(!t.producerMustRecompute(t)&&!u(t))return t.dirty=!1,void(t.lastCleanEpoch=gt);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=gt}}function s(t){if(void 0===t.liveConsumerNode)return;const n=ge;ge=!0;try{for(const r of t.liveConsumerNode)r.dirty||a(r)}finally{ge=n}}function l(){var t;return!1!==(null===(t=O)||void 0===t?void 0:t.consumerAllowSignalWrites)}function a(t){var n;t.dirty=!0,s(t),null===(n=t.consumerMarkedDirty)||void 0===n||n.call(t,t)}function d(t){return t&&(t.nextProducerIndex=0),se(t)}function f(t,n){if(se(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(_(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)m(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function u(t){M(t);for(let n=0;n<t.producerNode.length;n++){const r=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==r.version||(w(r),i!==r.version))return!0}return!1}function p(t){if(M(t),_(t))for(let n=0;n<t.producerNode.length;n++)m(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function c(t,n,r){if(x(t),0===t.liveConsumerNode.length&&I(t))for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=c(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(r),t.liveConsumerNode.push(n)-1}function m(t,n){if(x(t),1===t.liveConsumerNode.length&&I(t))for(let i=0;i<t.producerNode.length;i++)m(t.producerNode[i],t.producerIndexOfThis[i]);const r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const i=t.liveConsumerIndexOfThis[n],h=t.liveConsumerNode[n];M(h),h.producerIndexOfThis[i]=n}}function _(t){var n,r;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(r=t.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0}function M(t){var n,r,i;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(r=t.producerIndexOfThis)&&void 0!==r||(t.producerIndexOfThis=[]),null!==(i=t.producerLastReadVersion)&&void 0!==i||(t.producerLastReadVersion=[])}function x(t){var n,r;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(r=t.liveConsumerIndexOfThis)&&void 0!==r||(t.liveConsumerIndexOfThis=[])}function I(t){return void 0!==t.producerNode}const H=Symbol("UNSET"),P=Symbol("COMPUTING"),z=Symbol("ERRORED"),k={...g,value:H,dirty:!0,error:null,equal:j,producerMustRecompute:t=>t.value===H||t.value===P,producerRecomputeValue(t){if(t.value===P)throw new Error("Detected cycle in computations.");const n=t.value;t.value=P;const r=d(t);let i;try{i=t.computation()}catch(h){i=z,t.error=h}finally{f(t,r)}n!==H&&n!==z&&i!==z&&t.equal(n,i)?t.value=n:(t.value=i,t.version++)}};let ne=function te(){throw new Error};function G(){ne()}let B=null;function Ae(t,n){l()||G(),t.equal(t.value,n)||(t.value=n,function pe(t){var n;t.version++,function C(){gt++}(),s(t),null===(n=B)||void 0===n||n()}(t))}const Q={...g,equal:j,value:void 0};var br,We=me(4412),ct=me(1413),dt=me(8359),$e=me(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const kr="https://g.co/ng/security#xss";class Rn extends Error{constructor(n,r){super(function go(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,r)),this.code=n}}function Ur(t){return{toString:t}.toString()}const Go="__parameters__";function bi(t,n,r){return Ur(()=>{const i=function ji(t){return function(...r){if(t){const i=t(...r);for(const h in i)this[h]=i[h]}}}(n);function h(...S){if(this instanceof h)return i.apply(this,S),this;const F=new h(...S);return Z.annotation=F,Z;function Z(le,De,Ne){const Ye=le.hasOwnProperty(Go)?le[Go]:Object.defineProperty(le,Go,{value:[]})[Go];for(;Ye.length<=Ne;)Ye.push(null);return(Ye[Ne]=Ye[Ne]||[]).push(F),le}}return r&&(h.prototype=Object.create(r.prototype)),h.prototype.ngMetadataName=t,h.annotationCls=h,h})}const zr=globalThis;function wr(t){for(let n in t)if(t[n]===wr)return n;throw Error("Could not find renamed property on target object.")}function Pi(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}function Xr(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Xr).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Ri(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const wi=wr({__forward_ref__:wr});function Gi(t){return t.__forward_ref__=Gi,t.toString=function(){return Xr(this())},t}function zn(t){return Ho(t)?t():t}function Ho(t){return"function"==typeof t&&t.hasOwnProperty(wi)&&t.__forward_ref__===Gi}function Ln(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xn(t){return{providers:t.providers||[],imports:t.imports||[]}}function nr(t){return Kr(t,qr)||Kr(t,Tr)}function vr(t){return null!==nr(t)}function Kr(t,n){return t.hasOwnProperty(n)?t[n]:null}function io(t){return t&&(t.hasOwnProperty(fo)||t.hasOwnProperty(Mr))?t[fo]:null}const qr=wr({\u0275prov:wr}),fo=wr({\u0275inj:wr}),Tr=wr({ngInjectableDef:wr}),Mr=wr({ngInjectorDef:wr});class $n{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Ln({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $s(t){return t&&!!t.\u0275providers}const vs=wr({\u0275cmp:wr}),wa=wr({\u0275dir:wr}),Vs=wr({\u0275pipe:wr}),Ca=wr({\u0275mod:wr}),ki=wr({\u0275fac:wr}),os=wr({__NG_ELEMENT_ID__:wr}),Ea=wr({__NG_ENV_ID__:wr});function ar(t){return"string"==typeof t?t:null==t?"":String(t)}function Gs(t,n){throw new Rn(-201,!1)}var mr=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(mr||{});let Hi;function bs(){return Hi}function Io(t){const n=Hi;return Hi=t,n}function di(t,n,r){const i=nr(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:r&mr.Optional?null:void 0!==n?n:void Gs()}const ce={},Re="__NG_DI_FLAG__",Ct="ngTempTokenPath",ut=/\n/gm,pn="__source";let On;function ir(t){const n=On;return On=t,n}function xr(t,n=mr.Default){if(void 0===On)throw new Rn(-203,!1);return null===On?di(t,void 0,n):On.get(t,n&mr.Optional?null:void 0,n)}function Zn(t,n=mr.Default){return(bs()||xr)(zn(t),n)}function kn(t,n=mr.Default){return Zn(t,Jr(n))}function Jr(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function hi(t){const n=[];for(let r=0;r<t.length;r++){const i=zn(t[r]);if(Array.isArray(i)){if(0===i.length)throw new Rn(900,!1);let h,S=mr.Default;for(let F=0;F<i.length;F++){const Z=i[F],le=zi(Z);"number"==typeof le?-1===le?h=Z.token:S|=le:h=Z}n.push(Zn(h,S))}else n.push(Zn(i))}return n}function po(t,n){return t[Re]=n,t.prototype[Re]=n,t}function zi(t){return t[Re]}const co=po(bi("Optional"),8),xa=po(bi("SkipSelf"),4);function _s(t,n){return t.hasOwnProperty(ki)?t[ki]:null}function Os(t,n){t.forEach(r=>Array.isArray(r)?Os(r,n):n(r))}function Hd(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function Ta(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ri(t,n,r){let i=zs(t,n);return i>=0?t[1|i]=r:(i=~i,function xl(t,n,r,i){let h=t.length;if(h==n)t.push(r,i);else if(1===h)t.push(i,t[0]),t[0]=r;else{for(h--,t.push(t[h-1],t[h]);h>n;)t[h]=t[h-2],h--;t[n]=r,t[n+1]=i}}(t,i,n,r)),i}function zu(t,n){const r=zs(t,n);if(r>=0)return t[1|r]}function zs(t,n){return function Dl(t,n,r){let i=0,h=t.length>>r;for(;h!==i;){const S=i+(h-i>>1),F=t[S<<r];if(n===F)return S<<r;F>n?h=S:i=S+1}return~(h<<r)}(t,n,1)}const Ci={},Cr=[],Ei=new $n(""),Wu=new $n("",-1),Xu=new $n("");class Ws{get(n,r=ce){if(r===ce){const i=new Error(`NullInjectorError: No provider for ${Xr(n)}!`);throw i.name="NullInjectorError",i}return r}}var Ma=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ma||{}),ws=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ws||{}),Cs=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Cs||{});function cm(t,n,r){let i=t.length;for(;;){const h=t.indexOf(n,r);if(-1===h)return h;if(0===h||t.charCodeAt(h-1)<=32){const S=n.length;if(h+S===i||t.charCodeAt(h+S)<=32)return h}r=h+1}}function Tl(t,n,r){let i=0;for(;i<r.length;){const h=r[i];if("number"==typeof h){if(0!==h)break;i++;const S=r[i++],F=r[i++],Z=r[i++];t.setAttribute(n,F,Z,S)}else{const S=h,F=r[++i];zd(S)?t.setProperty(n,S,F):t.setAttribute(n,S,F),i++}}return i}function Ku(t){return 3===t||4===t||6===t}function zd(t){return 64===t.charCodeAt(0)}function Ps(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let i=0;i<n.length;i++){const h=n[i];"number"==typeof h?r=h:0===r||qu(t,r,h,null,-1===r||2===r?n[++i]:null)}}return t}function qu(t,n,r,i,h){let S=0,F=t.length;if(-1===n)F=-1;else for(;S<t.length;){const Z=t[S++];if("number"==typeof Z){if(Z===n){F=-1;break}if(Z>n){F=S-1;break}}}for(;S<t.length;){const Z=t[S];if("number"==typeof Z)break;if(Z===r){if(null===i)return void(null!==h&&(t[S+1]=h));if(i===t[S+1])return void(t[S+2]=h)}S++,null!==i&&S++,null!==h&&S++}-1!==F&&(t.splice(F,0,n),S=F+1),t.splice(S++,0,r),null!==i&&t.splice(S++,0,i),null!==h&&t.splice(S++,0,h)}const Yu="ng-template";function Wd(t,n,r,i){let h=0;if(i){for(;h<n.length&&"string"==typeof n[h];h+=2)if("class"===n[h]&&-1!==cm(n[h+1].toLowerCase(),r,0))return!0}else if(Al(t))return!1;if(h=n.indexOf(1,h),h>-1){let S;for(;++h<n.length&&"string"==typeof(S=n[h]);)if(S.toLowerCase()===r)return!0}return!1}function Al(t){return 4===t.type&&t.value!==Yu}function Xd(t,n,r){return n===(4!==t.type||r?t.value:Yu)}function Kd(t,n,r){let i=4;const h=t.attrs,S=null!==h?function hm(t){for(let n=0;n<t.length;n++)if(Ku(t[n]))return n;return t.length}(h):0;let F=!1;for(let Z=0;Z<n.length;Z++){const le=n[Z];if("number"!=typeof le){if(!F)if(4&i){if(i=2|1&i,""!==le&&!Xd(t,le,r)||""===le&&1===n.length){if(Si(i))return!1;F=!0}}else if(8&i){if(null===h||!Wd(t,h,le,r)){if(Si(i))return!1;F=!0}}else{const De=n[++Z],Ne=Ju(le,h,Al(t),r);if(-1===Ne){if(Si(i))return!1;F=!0;continue}if(""!==De){let Ye;if(Ye=Ne>S?"":h[Ne+1].toLowerCase(),2&i&&De!==Ye){if(Si(i))return!1;F=!0}}}}else{if(!F&&!Si(i)&&!Si(le))return!1;if(F&&Si(le))continue;F=!1,i=le|1&i}}return Si(i)||F}function Si(t){return!(1&t)}function Ju(t,n,r,i){if(null===n)return-1;let h=0;if(i||!r){let S=!1;for(;h<n.length;){const F=n[h];if(F===t)return h;if(3===F||6===F)S=!0;else{if(1===F||2===F){let Z=n[++h];for(;"string"==typeof Z;)Z=n[++h];continue}if(4===F)break;if(0===F){h+=4;continue}}h+=S?1:2}return-1}return function fm(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const i=t[r];if("number"==typeof i)return-1;if(i===n)return r;r++}return-1}(n,t)}function Zu(t,n,r=!1){for(let i=0;i<n.length;i++)if(Kd(t,n[i],r))return!0;return!1}function pm(t,n){e:for(let r=0;r<n.length;r++){const i=n[r];if(t.length===i.length){for(let h=0;h<t.length;h++)if(t[h]!==i[h])continue e;return!0}}return!1}function qd(t,n){return t?":not("+n.trim()+")":n}function mm(t){let n=t[0],r=1,i=2,h="",S=!1;for(;r<t.length;){let F=t[r];if("string"==typeof F)if(2&i){const Z=t[++r];h+="["+F+(Z.length>0?'="'+Z+'"':"")+"]"}else 8&i?h+="."+F:4&i&&(h+=" "+F);else""!==h&&!Si(F)&&(n+=qd(S,h),h=""),i=F,S=S||!Si(i);r++}return""!==h&&(n+=qd(S,h)),n}function Ce(t){return Ur(()=>{var n;const r=no(t),i={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ma.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||ws.Emulated,styles:t.styles||Cr,_:null,schemas:t.schemas||null,tView:null,id:""};Wo(i);const h=t.dependencies;return i.directiveDefs=Fo(h,!1),i.pipeDefs=Fo(h,!0),i.id=function fi(t){let n=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const h of r)n=Math.imul(31,n)+h.charCodeAt(0)|0;return n+=2147483648,"c"+n}(i),i})}function de(t){return Xt(t)||Pn(t)}function Te(t){return null!==t}function rt(t){return Ur(()=>({type:t.type,bootstrap:t.bootstrap||Cr,declarations:t.declarations||Cr,imports:t.imports||Cr,exports:t.exports||Cr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ht(t,n){if(null==t)return Ci;const r={};for(const h in t)if(t.hasOwnProperty(h)){const S=t[h];let F,Z,le=Cs.None;var i;Array.isArray(S)?(le=S[0],F=S[1],Z=null!==(i=S[2])&&void 0!==i?i:F):(F=S,Z=S),n?(r[F]=le!==Cs.None?[h,le]:h,n[F]=Z):r[F]=h}return r}function rn(t){return Ur(()=>{const n=no(t);return Wo(n),n})}function _n(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Xt(t){return t[vs]||null}function Pn(t){return t[wa]||null}function qn(t){return t[Vs]||null}function hr(t){const n=Xt(t)||Pn(t)||qn(t);return null!==n&&n.standalone}function Qn(t,n){const r=t[Ca]||null;if(!r&&!0===n)throw new Error(`Type ${Xr(t)} does not have '\u0275mod' property.`);return r}function no(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Ci,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Cr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ht(t.inputs,n),outputs:ht(t.outputs),debugInfo:null}}function Wo(t){var n;null===(n=t.features)||void 0===n||n.forEach(r=>r(t))}function Fo(t,n){if(!t)return null;const r=n?qn:de;return()=>("function"==typeof t?t():t).map(i=>r(i)).filter(Te)}function is(t){return{\u0275providers:t}}function Ml(...t){return{\u0275providers:Ks(0,t),\u0275fromNgModule:!0}}function Ks(t,...n){const r=[],i=new Set;let h;const S=F=>{r.push(F)};return Os(n,F=>{const Z=F;Es(Z,S,[],i)&&(h||(h=[]),h.push(Z))}),void 0!==h&&Qu(h,S),r}function Qu(t,n){for(let r=0;r<t.length;r++){const{ngModule:i,providers:h}=t[r];Yd(h,S=>{n(S,i)})}}function Es(t,n,r,i){if(!(t=zn(t)))return!1;let h=null,S=io(t);const F=!S&&Xt(t);if(S||F){if(F&&!F.standalone)return!1;h=t}else{const le=t.ngModule;if(S=io(le),!S)return!1;h=le}const Z=i.has(h);if(F){if(Z)return!1;if(i.add(h),F.dependencies){const le="function"==typeof F.dependencies?F.dependencies():F.dependencies;for(const De of le)Es(De,n,r,i)}}else{if(!S)return!1;{if(null!=S.imports&&!Z){let De;i.add(h);try{Os(S.imports,Ne=>{Es(Ne,n,r,i)&&(De||(De=[]),De.push(Ne))})}finally{}void 0!==De&&Qu(De,n)}if(!Z){const De=_s(h)||(()=>new h);n({provide:h,useFactory:De,deps:Cr},h),n({provide:Xu,useValue:h,multi:!0},h),n({provide:Ei,useValue:()=>Zn(h),multi:!0},h)}const le=S.providers;if(null!=le&&!Z){const De=t;Yd(le,Ne=>{n(Ne,De)})}}}return h!==t&&void 0!==t.providers}function Yd(t,n){for(let r of t)$s(r)&&(r=r.\u0275providers),Array.isArray(r)?Yd(r,n):n(r)}const pw=wr({provide:String,useValue:wr});function Jd(t){return null!==t&&"object"==typeof t&&pw in t}function qs(t){return"function"==typeof t}const Zd=new $n(""),ec={},gw={};let Qd;function tc(){return void 0===Qd&&(Qd=new Ws),Qd}class Fi{}class Ia extends Fi{get destroyed(){return this._destroyed}constructor(n,r,i,h){super(),this.parent=r,this.source=i,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,th(n,F=>this.processProvider(F)),this.records.set(Wu,Oa(void 0,this)),h.has("environment")&&this.records.set(Fi,Oa(void 0,this));const S=this.records.get(Zd);null!=S&&"string"==typeof S.value&&this.scopes.add(S.value),this.injectorDefTypes=new Set(this.get(Xu,Cr,mr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=se(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of r)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),se(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=ir(this),i=Io(void 0);try{return n()}finally{ir(r),Io(i)}}get(n,r=ce,i=mr.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Ea))return n[Ea](this);i=Jr(i);const S=ir(this),F=Io(void 0);try{if(!(i&mr.SkipSelf)){let le=this.records.get(n);if(void 0===le){const De=function ww(t){return"function"==typeof t||"object"==typeof t&&t instanceof $n}(n)&&nr(n);le=De&&this.injectableDefInScope(De)?Oa(eh(n),ec):null,this.records.set(n,le)}if(null!=le)return this.hydrate(n,le)}return(i&mr.Self?tc():this.parent).get(n,r=i&mr.Optional&&r===ce?null:r)}catch(Z){if("NullInjectorError"===Z.name){if((Z[Ct]=Z[Ct]||[]).unshift(Xr(n)),S)throw Z;return function Ni(t,n,r,i){const h=t[Ct];throw n[pn]&&h.unshift(n[pn]),t.message=function Wi(t,n,r,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let h=Xr(n);if(Array.isArray(n))h=n.map(Xr).join(" -> ");else if("object"==typeof n){let S=[];for(let F in n)if(n.hasOwnProperty(F)){let Z=n[F];S.push(F+":"+("string"==typeof Z?JSON.stringify(Z):Xr(Z)))}h=`{${S.join(", ")}}`}return`${r}${i?"("+i+")":""}[${h}]: ${t.replace(ut,"\n  ")}`}("\n"+t.message,h,r,i),t.ngTokenPath=h,t[Ct]=null,t}(Z,n,"R3InjectorError",this.source)}throw Z}finally{Io(F),ir(S)}}resolveInjectorInitializers(){const n=se(null),r=ir(this),i=Io(void 0);try{const S=this.get(Ei,Cr,mr.Self);for(const F of S)F()}finally{ir(r),Io(i),se(n)}}toString(){const n=[],r=this.records;for(const i of r.keys())n.push(Xr(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Rn(205,!1)}processProvider(n){let r=qs(n=zn(n))?n:zn(n&&n.provide);const i=function vw(t){return Jd(t)?Oa(void 0,t.useValue):Oa(vm(t),ec)}(n);if(!qs(n)&&!0===n.multi){let h=this.records.get(r);h||(h=Oa(void 0,ec,!0),h.factory=()=>hi(h.multi),this.records.set(r,h)),r=n,h.multi.push(n)}this.records.set(r,i)}hydrate(n,r){const i=se(null);try{return r.value===ec&&(r.value=gw,r.value=r.factory()),"object"==typeof r.value&&r.value&&function _w(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{se(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=zn(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function eh(t){const n=nr(t),r=null!==n?n.factory:_s(t);if(null!==r)return r;if(t instanceof $n)throw new Rn(204,!1);if(t instanceof Function)return function yw(t){if(t.length>0)throw new Rn(204,!1);const r=function to(t){return t&&(t[qr]||t[Tr])||null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new Rn(204,!1)}function vm(t,n,r){let i;if(qs(t)){const h=zn(t);return _s(h)||eh(h)}if(Jd(t))i=()=>zn(t.useValue);else if(function ym(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...hi(t.deps||[]));else if(function gm(t){return!(!t||!t.useExisting)}(t))i=()=>Zn(zn(t.useExisting));else{const h=zn(t&&(t.useClass||t.provide));if(!function bw(t){return!!t.deps}(t))return _s(h)||eh(h);i=()=>new h(...hi(t.deps))}return i}function Oa(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function th(t,n){for(const r of t)Array.isArray(r)?th(r,n):r&&$s(r)?th(r.\u0275providers,n):n(r)}function bm(t,n){t instanceof Ia&&t.assertNotDestroyed();const i=ir(t),h=Io(void 0);try{return n()}finally{ir(i),Io(h)}}function _m(){return void 0!==bs()||null!=function sr(){return On}()}const so=0,Nn=1,rr=2,xo=3,Ki=4,Xo=5,oi=6,Ys=7,Zr=8,Do=9,ss=10,lr=11,Ol=12,Cm=13,Pa=14,ao=15,Js=16,Ra=17,as=18,ka=19,Em=20,Rs=21,jl=22,Ui=23,er=25,rh=1,ls=7,Na=9,yo=10;var ic=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ic||{});function Uo(t){return Array.isArray(t)&&"object"==typeof t[rh]}function Zo(t){return Array.isArray(t)&&!0===t[rh]}function oh(t){return!!(4&t.flags)}function Zs(t){return t.componentOffset>-1}function sc(t){return!(1&~t.flags)}function qi(t){return!!t.template}function Rl(t){return!!(512&t[rr])}class Rw{constructor(n,r,i){this.previousValue=n,this.currentValue=r,this.firstChange=i}isFirstChange(){return this.firstChange}}function Tm(t,n,r,i){null!==n?n.applyValueToInputSignal(n,i):t[r]=i}function ah(){return Am}function Am(t){return t.type.prototype.ngOnChanges&&(t.setInput=Nw),kw}function kw(){const t=Im(this),n=null==t?void 0:t.current;if(n){const r=t.previous;if(r===Ci)t.previous=n;else for(let i in n)r[i]=n[i];t.current=null,this.ngOnChanges(n)}}function Nw(t,n,r,i,h){const S=this.declaredInputs[i],F=Im(t)||function Lw(t,n){return t[Mm]=n}(t,{previous:Ci,current:null}),Z=F.current||(F.current={}),le=F.previous,De=le[S];Z[S]=new Rw(De&&De.currentValue,r,le===Ci),Tm(t,n,h,r)}ah.ngInherit=!0;const Mm="__ngSimpleChanges__";function Im(t){return t[Mm]||null}const us=function(t,n,r){};function Or(t){for(;Array.isArray(t);)t=t[so];return t}function kl(t,n){return Or(n[t])}function ii(t,n){return Or(n[t.index])}function Nl(t,n){return t.data[n]}function xi(t,n){const r=n[t];return Uo(r)?r:r[so]}function ch(t){return!(128&~t[rr])}function Bi(t,n){return null==n?null:t[n]}function Pm(t){t[Ra]=0}function Rm(t){1024&t[rr]||(t[rr]|=1024,ch(t)&&ac(t))}function Ll(t){var n;return!!(9216&t[rr]||null!==(n=t[Ui])&&void 0!==n&&n.dirty)}function dh(t){var n;null===(n=t[ss].changeDetectionScheduler)||void 0===n||n.notify(7),64&t[rr]&&(t[rr]|=1024),Ll(t)&&ac(t)}function ac(t){var n;null===(n=t[ss].changeDetectionScheduler)||void 0===n||n.notify(0);let r=Ss(t);for(;null!==r&&!(8192&r[rr])&&(r[rr]|=8192,ch(r));)r=Ss(r)}function lc(t,n){if(!(256&~t[rr]))throw new Rn(911,!1);null===t[Rs]&&(t[Rs]=[]),t[Rs].push(n)}function Ss(t){const n=t[xo];return Zo(n)?n[xo]:n}const ur={lFrame:qm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Nm=!1;function Lm(){return ur.bindingsEnabled}function ea(){return null!==ur.skipHydrationRootTNode}function Cn(){return ur.lFrame.lView}function gr(){return ur.lFrame.tView}function Fm(t){return ur.lFrame.contextLView=t,t[Zr]}function Um(t){return ur.lFrame.contextLView=null,t}function Hr(){let t=Bm();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bm(){return ur.lFrame.currentTNode}function Yi(t,n){const r=ur.lFrame;r.currentTNode=t,r.isParent=n}function ph(){return ur.lFrame.isParent}function mh(){ur.lFrame.isParent=!1}function Gm(){return Nm}function Hm(t){Nm=t}function Ji(){return ur.lFrame.bindingIndex++}function Ds(t){const n=ur.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}function Jw(t,n){const r=ur.lFrame;r.bindingIndex=r.bindingRootIndex=t,gh(n)}function gh(t){ur.lFrame.currentDirectiveIndex=t}function vh(){return ur.lFrame.currentQueryIndex}function cc(t){ur.lFrame.currentQueryIndex=t}function Qw(t){const n=t[Nn];return 2===n.type?n.declTNode:1===n.type?t[Xo]:null}function Xm(t,n,r){if(r&mr.SkipSelf){let h=n,S=t;for(;!(h=h.parent,null!==h||r&mr.Host||(h=Qw(S),null===h||(S=S[Pa],10&h.type))););if(null===h)return!1;n=h,t=S}const i=ur.lFrame=Km();return i.currentTNode=n,i.lView=t,!0}function bh(t){const n=Km(),r=t[Nn];ur.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Km(){const t=ur.lFrame,n=null===t?null:t.child;return null===n?qm(t):n}function qm(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ym(){const t=ur.lFrame;return ur.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Jm=Ym;function _h(){const t=Ym();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ko(){return ur.lFrame.selectedIndex}function ta(t){ur.lFrame.selectedIndex=t}function Qr(){const t=ur.lFrame;return Nl(t.tView,t.selectedIndex)}let Qm=!0;function Ul(){return Qm}function cs(t){Qm=t}function dc(t,n){for(let De=n.directiveStart,Ne=n.directiveEnd;De<Ne;De++){const Dt=t.data[De].type.prototype,{ngAfterContentInit:Pt,ngAfterContentChecked:jt,ngAfterViewInit:cn,ngAfterViewChecked:Dn,ngOnDestroy:jn}=Dt;var r,i,h,S,F,Z,le;Pt&&(null!==(r=t.contentHooks)&&void 0!==r?r:t.contentHooks=[]).push(-De,Pt),jt&&((null!==(i=t.contentHooks)&&void 0!==i?i:t.contentHooks=[]).push(De,jt),(null!==(h=t.contentCheckHooks)&&void 0!==h?h:t.contentCheckHooks=[]).push(De,jt)),cn&&(null!==(S=t.viewHooks)&&void 0!==S?S:t.viewHooks=[]).push(-De,cn),Dn&&((null!==(F=t.viewHooks)&&void 0!==F?F:t.viewHooks=[]).push(De,Dn),(null!==(Z=t.viewCheckHooks)&&void 0!==Z?Z:t.viewCheckHooks=[]).push(De,Dn)),null!=jn&&(null!==(le=t.destroyHooks)&&void 0!==le?le:t.destroyHooks=[]).push(De,jn)}}function hc(t,n,r){eg(t,n,3,r)}function fc(t,n,r,i){(3&t[rr])===r&&eg(t,n,r,i)}function wh(t,n){let r=t[rr];(3&r)===n&&(r&=16383,r+=1,t[rr]=r)}function eg(t,n,r,i){const S=null!=i?i:-1,F=n.length-1;let Z=0;for(let le=void 0!==i?65535&t[Ra]:0;le<F;le++)if("number"==typeof n[le+1]){if(Z=n[le],null!=i&&Z>=i)break}else n[le]<0&&(t[Ra]+=65536),(Z<S||-1==S)&&(sC(t,r,n,le),t[Ra]=(4294901760&t[Ra])+le+2),le++}function tg(t,n){us(4,t,n);const r=se(null);try{n.call(t)}finally{se(r),us(5,t,n)}}function sC(t,n,r,i){const h=r[i]<0,S=r[i+1],Z=t[h?-r[i]:r[i]];h?t[rr]>>14<t[Ra]>>16&&(3&t[rr])===n&&(t[rr]+=16384,tg(Z,S)):tg(Z,S)}const La=-1;class Bl{constructor(n,r,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=i}}const Eh={};class na{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,i){i=Jr(i);const h=this.injector.get(n,Eh,i);return h!==Eh||r===Eh?h:this.parentInjector.get(n,r,i)}}function Sh(t){return t!==La}function $l(t){return 32767&t}function Vl(t,n){let r=function cC(t){return t>>16}(t),i=n;for(;r>0;)i=i[Pa],r--;return i}let xh=!0;function pc(t){const n=xh;return xh=t,n}const rg=255,og=5;let hC=0;const ds={};function mc(t,n){const r=ig(t,n);if(-1!==r)return r;const i=n[Nn];i.firstCreatePass&&(t.injectorIndex=n.length,Dh(i.data,t),Dh(n,null),Dh(i.blueprint,null));const h=gc(t,n),S=t.injectorIndex;if(Sh(h)){const F=$l(h),Z=Vl(h,n),le=Z[Nn].data;for(let De=0;De<8;De++)n[S+De]=Z[F+De]|le[F+De]}return n[S+8]=h,S}function Dh(t,n){t.push(0,0,0,0,0,0,0,0,n)}function ig(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function gc(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,i=null,h=n;for(;null!==h;){if(i=fg(h),null===i)return La;if(r++,h=h[Pa],-1!==i.injectorIndex)return i.injectorIndex|r<<16}return La}function Th(t,n,r){!function fC(t,n,r){let i;"string"==typeof r?i=r.charCodeAt(0)||0:r.hasOwnProperty(os)&&(i=r[os]),null==i&&(i=r[os]=hC++);const h=i&rg;n.data[t+(h>>og)]|=1<<h}(t,n,r)}function sg(t,n,r){if(r&mr.Optional||void 0!==t)return t;Gs()}function ag(t,n,r,i){if(r&mr.Optional&&void 0===i&&(i=null),!(r&(mr.Self|mr.Host))){const h=t[Do],S=Io(void 0);try{return h?h.get(n,i,r&mr.Optional):di(n,i,r&mr.Optional)}finally{Io(S)}}return sg(i,0,r)}function lg(t,n,r,i=mr.Default,h){if(null!==t){if(2048&n[rr]&&!(i&mr.Self)){const F=function vC(t,n,r,i,h){let S=t,F=n;for(;null!==S&&null!==F&&2048&F[rr]&&!(512&F[rr]);){const Z=ug(S,F,r,i|mr.Self,ds);if(Z!==ds)return Z;let le=S.parent;if(!le){const De=F[Em];if(De){const Ne=De.get(r,ds,i);if(Ne!==ds)return Ne}le=fg(F),F=F[Pa]}S=le}return h}(t,n,r,i,ds);if(F!==ds)return F}const S=ug(t,n,r,i,ds);if(S!==ds)return S}return ag(n,r,i,h)}function ug(t,n,r,i,h){const S=function gC(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(os)?t[os]:void 0;return"number"==typeof n?n>=0?n&rg:yC:n}(r);if("function"==typeof S){if(!Xm(n,t,i))return i&mr.Host?sg(h,0,i):ag(n,r,i,h);try{let F;if(F=S(i),null!=F||i&mr.Optional)return F;Gs()}finally{Jm()}}else if("number"==typeof S){let F=null,Z=ig(t,n),le=La,De=i&mr.Host?n[ao][Xo]:null;for((-1===Z||i&mr.SkipSelf)&&(le=-1===Z?gc(t,n):n[Z+8],le!==La&&dg(i,!1)?(F=n[Nn],Z=$l(le),n=Vl(le,n)):Z=-1);-1!==Z;){const Ne=n[Nn];if(cg(S,Z,Ne.data)){const Ye=mC(Z,n,r,F,i,De);if(Ye!==ds)return Ye}le=n[Z+8],le!==La&&dg(i,n[Nn].data[Z+8]===De)&&cg(S,Z,n)?(F=Ne,Z=$l(le),n=Vl(le,n)):Z=-1}}return h}function mC(t,n,r,i,h,S){const F=n[Nn],Z=F.data[t+8],Ne=yc(Z,F,r,null==i?Zs(Z)&&xh:i!=F&&!!(3&Z.type),h&mr.Host&&S===Z);return null!==Ne?ra(n,F,Ne,Z):ds}function yc(t,n,r,i,h){const S=t.providerIndexes,F=n.data,Z=1048575&S,le=t.directiveStart,Ne=S>>20,Dt=h?Z+Ne:t.directiveEnd;for(let Pt=i?Z:Z+Ne;Pt<Dt;Pt++){const jt=F[Pt];if(Pt<le&&r===jt||Pt>=le&&jt.type===r)return Pt}if(h){const Pt=F[le];if(Pt&&qi(Pt)&&Pt.type===r)return le}return null}function ra(t,n,r,i){let h=t[r];const S=n.data;if(function aC(t){return t instanceof Bl}(h)){const F=h;F.resolving&&function Hu(t,n){throw n&&n.join(" > "),new Rn(-200,t)}(function Ar(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ar(t)}(S[r]));const Z=pc(F.canSeeViewProviders);F.resolving=!0;const De=F.injectImpl?Io(F.injectImpl):null;Xm(t,i,mr.Default);try{h=t[r]=F.factory(void 0,S,t,i),n.firstCreatePass&&r>=i.directiveStart&&function iC(t,n,r){const{ngOnChanges:i,ngOnInit:h,ngDoCheck:S}=n.type.prototype;if(i){var F,Z;const Ye=Am(n);(null!==(F=r.preOrderHooks)&&void 0!==F?F:r.preOrderHooks=[]).push(t,Ye),(null!==(Z=r.preOrderCheckHooks)&&void 0!==Z?Z:r.preOrderCheckHooks=[]).push(t,Ye)}var le,De,Ne;h&&(null!==(le=r.preOrderHooks)&&void 0!==le?le:r.preOrderHooks=[]).push(0-t,h),S&&((null!==(De=r.preOrderHooks)&&void 0!==De?De:r.preOrderHooks=[]).push(t,S),(null!==(Ne=r.preOrderCheckHooks)&&void 0!==Ne?Ne:r.preOrderCheckHooks=[]).push(t,S))}(r,S[r],n)}finally{null!==De&&Io(De),pc(Z),F.resolving=!1,Jm()}}return h}function cg(t,n,r){return!!(r[n+(t>>og)]&1<<t)}function dg(t,n){return!(t&mr.Self||t&mr.Host&&n)}class jo{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,i){return lg(this._tNode,this._lView,n,Jr(i),r)}}function yC(){return new jo(Hr(),Cn())}function hg(t){return Ur(()=>{const n=t.prototype.constructor,r=n[ki]||Ah(n),i=Object.prototype;let h=Object.getPrototypeOf(t.prototype).constructor;for(;h&&h!==i;){const S=h[ki]||Ah(h);if(S&&S!==r)return S;h=Object.getPrototypeOf(h)}return S=>new S})}function Ah(t){return Ho(t)?()=>{const n=Ah(zn(t));return n&&n()}:_s(t)}function fg(t){const n=t[Nn],r=n.type;return 2===r?n.declTNode:1===r?t[Xo]:null}function vc(t){return function pC(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const i=r.length;let h=0;for(;h<i;){const S=r[h];if(Ku(S))break;if(0===S)h+=2;else if("number"==typeof S)for(h++;h<i&&"string"==typeof r[h];)h++;else{if(S===n)return r[h+1];h+=2}}}return null}(Hr(),t)}function vg(t,n=null,r=null,i){const h=bg(t,n,r,i);return h.resolveInjectorInitializers(),h}function bg(t,n=null,r=null,i,h=new Set){const S=[r||Cr,Ml(t)];return i=i||("object"==typeof t?void 0:Xr(t)),new Ia(S,n||tc(),i||null,h)}class Bo{static create(n,r){if(Array.isArray(n))return vg({name:""},r,n,"");{var i;const h=null!==(i=n.name)&&void 0!==i?i:"";return vg({name:h},n.parent,n.providers,h)}}}(br=Bo).THROW_IF_NOT_FOUND=ce,br.NULL=new Ws,br.\u0275prov=Ln({token:br,providedIn:"any",factory:()=>Zn(Wu)}),br.__NG_ELEMENT_ID__=-1,new $n("").__NG_ELEMENT_ID__=t=>{const n=Hr();if(null===n)throw new Rn(204,!1);if(2&n.type)return n.value;if(t&mr.Optional)return null;throw new Rn(204,!1)};function Ih(t){return t.ngOriginalError}let Gl=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=AC,t.__NG_ENV_ID__=r=>r,n})();class TC extends Gl{constructor(n){super(),this._lView=n}onDestroy(n){return lc(this._lView,n),()=>function hh(t,n){if(null===t[Rs])return;const r=t[Rs].indexOf(n);-1!==r&&t[Rs].splice(r,1)}(this._lView,n)}}function AC(){return new TC(Cn())}let oa=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new We.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=n).\u0275prov=Ln({token:t,providedIn:"root",factory:()=>new t}),n})();const hs=class MC extends ct.B{constructor(n=!1){var r,i;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,_m()&&(this.destroyRef=null!==(r=kn(Gl,{optional:!0}))&&void 0!==r?r:void 0,this.pendingTasks=null!==(i=kn(oa,{optional:!0}))&&void 0!==i?i:void 0)}emit(n){const r=se(null);try{super.next(n)}finally{se(r)}}subscribe(n,r,i){let h=n,S=r||(()=>null),F=i;if(n&&"object"==typeof n){var Z,le,De;const Ye=n;h=null===(Z=Ye.next)||void 0===Z?void 0:Z.bind(Ye),S=null===(le=Ye.error)||void 0===le?void 0:le.bind(Ye),F=null===(De=Ye.complete)||void 0===De?void 0:De.bind(Ye)}this.__isAsync&&(S=this.wrapInTimeout(S),h&&(h=this.wrapInTimeout(h)),F&&(F=this.wrapInTimeout(F)));const Ne=super.subscribe({next:h,error:S,complete:F});return n instanceof dt.yU&&n.add(Ne),Ne}wrapInTimeout(n){return r=>{var i;const h=null===(i=this.pendingTasks)||void 0===i?void 0:i.add();setTimeout(()=>{var S;n(r),void 0!==h&&(null===(S=this.pendingTasks)||void 0===S||S.remove(h))})}}};function _c(...t){}function wg(t){let n,r;function i(){t=_c;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),i()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{t(),i()})),()=>i()}function Cg(t){return queueMicrotask(()=>t()),()=>{t=_c}}class ro{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hs(!1),this.onMicrotaskEmpty=new hs(!1),this.onStable=new hs(!1),this.onError=new hs(!1),typeof Zone>"u")throw new Rn(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!i&&r,h.shouldCoalesceRunChangeDetection=i,h.callbackScheduled=!1,function jC(t){const n=()=>{!function OC(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{wg(()=>{t.callbackScheduled=!1,jh(t),t.isCheckStableRunning=!0,Oh(t),t.isCheckStableRunning=!1})}),jh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,i,h,S,F,Z)=>{if(function PC(t){return xg(t,"__ignore_ng_zone__")}(Z))return r.invokeTask(h,S,F,Z);try{return Eg(t),r.invokeTask(h,S,F,Z)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===S.type||t.shouldCoalesceRunChangeDetection)&&n(),Sg(t)}},onInvoke:(r,i,h,S,F,Z,le)=>{try{return Eg(t),r.invoke(h,S,F,Z,le)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function RC(t){return xg(t,"__scheduler_tick__")}(Z)&&n(),Sg(t)}},onHasTask:(r,i,h,S)=>{r.hasTask(h,S),i===h&&("microTask"==S.change?(t._hasPendingMicrotasks=S.microTask,jh(t),Oh(t)):"macroTask"==S.change&&(t.hasPendingMacrotasks=S.macroTask))},onHandleError:(r,i,h,S)=>(r.handleError(h,S),t.runOutsideAngular(()=>t.onError.emit(S)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ro.isInAngularZone())throw new Rn(909,!1)}static assertNotInAngularZone(){if(ro.isInAngularZone())throw new Rn(909,!1)}run(n,r,i){return this._inner.run(n,r,i)}runTask(n,r,i,h){const S=this._inner,F=S.scheduleEventTask("NgZoneEvent: "+h,n,IC,_c,_c);try{return S.runTask(F,r,i)}finally{S.cancelTask(F)}}runGuarded(n,r,i){return this._inner.runGuarded(n,r,i)}runOutsideAngular(n){return this._outer.run(n)}}const IC={};function Oh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function jh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function Eg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Sg(t){t._nesting--,Oh(t)}class Ph{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hs,this.onMicrotaskEmpty=new hs,this.onStable=new hs,this.onError=new hs}run(n,r,i){return n.apply(r,i)}runGuarded(n,r,i){return n.apply(r,i)}runOutsideAngular(n){return n()}runTask(n,r,i,h){return n.apply(r,i)}}function xg(t,n){var r;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(r=t[0])||void 0===r||null===(r=r.data)||void 0===r?void 0:r[n])}class fs{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&Ih(n);for(;r&&Ih(r);)r=Ih(r);return r||null}}const NC=new $n("",{providedIn:"root",factory:()=>{const t=kn(ro),n=kn(fs);return r=>t.runOutsideAngular(()=>n.handleError(r))}});function LC(){return Ba(Hr(),Cn())}function Ba(t,n){return new Hl(ii(t,n))}let Hl=(()=>{class n{constructor(i){this.nativeElement=i}}return n.__NG_ELEMENT_ID__=LC,n})();function Tg(t){return t instanceof Hl?t.nativeElement:t}function FC(){return this._results[Symbol.iterator]()}class Rh{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new hs}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Rh.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=FC)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const i=function zo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Gd(t,n,r){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let h=t[i],S=n[i];if(r&&(h=r(h),S=r(S)),S!==h)return!1}return!0}(this._results,i,r))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function wc(t){return!(128&~t.flags)}const kh=new Map;let BC=0;const Ec="__ngContext__";function Qo(t,n){Uo(n)?(t[Ec]=n[ka],function VC(t){kh.set(t[ka],t)}(n)):t[Ec]=n}function Lg(t){return Ug(t[Ol])}function Fg(t){return Ug(t[Ki])}function Ug(t){for(;null!==t&&!Zo(t);)t=t[Ki];return t}let Lh;function iE(t){Lh=t}const xc=new $n("",{providedIn:"root",factory:()=>sE}),sE="ng",Xg=new $n(""),Fh=new $n("",{providedIn:"platform",factory:()=>"unknown"}),aE=new $n("",{providedIn:"root",factory:()=>{var t;return(null===(t=function ks(){if(void 0!==Lh)return Lh;if(typeof document<"u")return document;throw new Rn(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let Kg=()=>null;function Gh(t,n,r=!1){return Kg(t,n,r)}const ny=new $n("",{providedIn:"root",factory:()=>!1});let jc,Pc;function Wa(t){var n;return(null===(n=function Kh(){if(void 0===jc&&(jc=null,zr.trustedTypes))try{jc=zr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return jc}())||void 0===n?void 0:n.createHTML(t))||t}function ay(t){var n;return(null===(n=function qh(){if(void 0===Pc&&(Pc=null,zr.trustedTypes))try{Pc=zr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pc}())||void 0===n?void 0:n.createScriptURL(t))||t}class ia{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kr})`}}class wE extends ia{getTypeName(){return"HTML"}}class CE extends ia{getTypeName(){return"Style"}}class EE extends ia{getTypeName(){return"Script"}}class SE extends ia{getTypeName(){return"URL"}}class xE extends ia{getTypeName(){return"ResourceURL"}}function Ts(t){return t instanceof ia?t.changingThisBreaksApplicationSecurity:t}function Xa(t,n){const r=function DE(t){return t instanceof ia&&t.getTypeName()||null}(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${kr})`)}return r===n}function TE(t){return new wE(t)}function AE(t){return new CE(t)}function ME(t){return new EE(t)}function IE(t){return new SE(t)}function OE(t){return new xE(t)}class jE{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(Wa(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.removeChild(r.firstChild),r)}catch{return null}}}class PE{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=Wa(n),r}}const kE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rc(t){return(t=String(t)).match(kE)?t:"unsafe:"+t}function As(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function Ql(...t){const n={};for(const r of t)for(const i in r)r.hasOwnProperty(i)&&(n[i]=!0);return n}const uy=As("area,br,col,hr,img,wbr"),cy=As("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dy=As("rp,rt"),Yh=Ql(uy,Ql(cy,As("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ql(dy,As("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ql(dy,cy)),Jh=As("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hy=Ql(Jh,As("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),As("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),NE=As("script,style,template");class LE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,i=!0,h=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?i=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,i&&r.firstChild)h.push(r),r=BE(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let S=UE(r);if(S){r=S;break}r=h.pop()}return this.buf.join("")}startElement(n){const r=fy(n).toLowerCase();if(!Yh.hasOwnProperty(r))return this.sanitizedSomething=!0,!NE.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const i=n.attributes;for(let h=0;h<i.length;h++){const S=i.item(h),F=S.name,Z=F.toLowerCase();if(!hy.hasOwnProperty(Z)){this.sanitizedSomething=!0;continue}let le=S.value;Jh[Z]&&(le=Rc(le)),this.buf.push(" ",F,'="',my(le),'"')}return this.buf.push(">"),!0}endElement(n){const r=fy(n).toLowerCase();Yh.hasOwnProperty(r)&&!uy.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(my(n))}}function UE(t){const n=t.nextSibling;if(n&&t!==n.previousSibling)throw py(n);return n}function BE(t){const n=t.firstChild;if(n&&function FE(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,n))throw py(n);return n}function fy(t){const n=t.nodeName;return"string"==typeof n?n:"FORM"}function py(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const $E=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,VE=/([^\#-~ |!])/g;function my(t){return t.replace(/&/g,"&amp;").replace($E,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(VE,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let kc;function gy(t,n){let r=null;try{kc=kc||function ly(t){const n=new PE(t);return function RE(){try{return!!(new window.DOMParser).parseFromString(Wa(""),"text/html")}catch{return!1}}()?new jE(n):n}(t);let i=n?String(n):"";r=kc.getInertBodyElement(i);let h=5,S=i;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,i=S,S=r.innerHTML,r=kc.getInertBodyElement(i)}while(i!==S);return Wa((new LE).sanitizeChildren(Zh(r)||r))}finally{if(r){const i=Zh(r)||r;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Zh(t){return"content"in t&&function GE(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var sa=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(sa||{});function Qh(t){const n=eu();return n?n.sanitize(sa.URL,t)||"":Xa(t,"URL")?Ts(t):Rc(ar(t))}function yy(t){const n=eu();if(n)return ay(n.sanitize(sa.RESOURCE_URL,t)||"");if(Xa(t,"ResourceURL"))return ay(Ts(t));throw new Rn(904,!1)}function vy(t,n,r){return function qE(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?yy:Qh}(n,r)(t)}function eu(){const t=Cn();return t&&t[ss].sanitizer}const YE=/^>|^->|<!--|-->|--!>|<!-$/g,JE=/(<|>)/g,ZE="\u200b$1\u200b";function Di(t){return t instanceof Function?t():t}var Fc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Fc||{});let nf;function rf(t,n){return nf(t,n)}function qa(t,n,r,i,h){if(null!=i){let S,F=!1;Zo(i)?S=i:Uo(i)&&(F=!0,i=i[so]);const Z=Or(i);0===t&&null!==r?null==h?Oy(n,r,Z):aa(n,r,Z,h||null,!0):1===t&&null!==r?aa(n,r,Z,h||null,!0):2===t?function nu(t,n,r){const i=$c(t,n);i&&function gS(t,n,r,i){t.removeChild(n,r,i)}(t,i,n,r)}(n,Z,F):3===t&&n.destroyNode(Z),null!=S&&function bS(t,n,r,i,h){const S=r[ls];S!==Or(r)&&qa(n,t,i,S,h);for(let Z=yo;Z<r.length;Z++){const le=r[Z];Gc(le[Nn],le,t,n,i,S)}}(n,t,S,r,h)}}function af(t,n){return t.createComment(function by(t){return t.replace(YE,n=>n.replace(JE,ZE))}(n))}function Uc(t,n,r){return t.createElement(n,r)}function Ay(t,n){var r;null===(r=n[ss].changeDetectionScheduler)||void 0===r||r.notify(8),Gc(t,n,n[lr],2,null,null)}function My(t,n){const r=t[Na],i=n[xo];(Uo(i)||n[ao]!==i[xo][ao])&&(t[rr]|=ic.HasTransplantedViews),null===r?t[Na]=[n]:r.push(n)}function lf(t,n){const r=t[Na],i=r.indexOf(n);r.splice(i,1)}function tu(t,n){if(t.length<=yo)return;const r=yo+n,i=t[r];if(i){const h=i[Js];null!==h&&h!==t&&lf(h,i),n>0&&(t[r-1][Ki]=i[Ki]);const S=Ta(t,yo+n);!function cS(t,n){Ay(t,n),n[so]=null,n[Xo]=null}(i[Nn],i);const F=S[as];null!==F&&F.detachView(S[Nn]),i[xo]=null,i[Ki]=null,i[rr]&=-129}return i}function Bc(t,n){if(!(256&n[rr])){const r=n[lr];r.destroyNode&&Gc(t,n,r,3,null,null),function hS(t){let n=t[Ol];if(!n)return uf(t[Nn],t);for(;n;){let r=null;if(Uo(n))r=n[Ol];else{const i=n[yo];i&&(r=i)}if(!r){for(;n&&!n[Ki]&&n!==t;)Uo(n)&&uf(n[Nn],n),n=n[xo];null===n&&(n=t),Uo(n)&&uf(n[Nn],n),r=n&&n[Ki]}n=r}}(n)}}function uf(t,n){if(256&n[rr])return;const r=se(null);try{n[rr]&=-129,n[rr]|=256,n[Ui]&&p(n[Ui]),function mS(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let i=0;i<r.length;i+=2){const h=n[r[i]];if(!(h instanceof Bl)){const S=r[i+1];if(Array.isArray(S))for(let F=0;F<S.length;F+=2){const Z=h[S[F]],le=S[F+1];us(4,Z,le);try{le.call(Z)}finally{us(5,Z,le)}}else{us(4,h,S);try{S.call(h)}finally{us(5,h,S)}}}}}(t,n),function pS(t,n){const r=t.cleanup,i=n[Ys];if(null!==r)for(let S=0;S<r.length-1;S+=2)if("string"==typeof r[S]){const F=r[S+3];F>=0?i[F]():i[-F].unsubscribe(),S+=2}else r[S].call(i[r[S+1]]);null!==i&&(n[Ys]=null);const h=n[Rs];if(null!==h){n[Rs]=null;for(let S=0;S<h.length;S++)(0,h[S])()}}(t,n),1===n[Nn].type&&n[lr].destroy();const i=n[Js];if(null!==i&&Zo(n[xo])){i!==n[xo]&&lf(i,n);const h=n[as];null!==h&&h.detachView(t)}!function GC(t){kh.delete(t[ka])}(n)}finally{se(r)}}function cf(t,n,r){return function Iy(t,n,r){let i=n;for(;null!==i&&168&i.type;)i=(n=i).parent;if(null===i)return r[so];{const{componentOffset:h}=i;if(h>-1){const{encapsulation:S}=t.data[i.directiveStart+h];if(S===ws.None||S===ws.Emulated)return null}return ii(i,r)}}(t,n.parent,r)}function aa(t,n,r,i,h){t.insertBefore(n,r,i,h)}function Oy(t,n,r){t.appendChild(n,r)}function jy(t,n,r,i,h){null!==i?aa(t,n,r,i,h):Oy(t,n,r)}function $c(t,n){return t.parentNode(n)}function Py(t,n,r){return ky(t,n,r)}let df,ky=function Ry(t,n,r){return 40&t.type?ii(t,r):null};function Vc(t,n,r,i){const h=cf(t,i,n),S=n[lr],Z=Py(i.parent||n[Xo],i,n);if(null!=h)if(Array.isArray(r))for(let le=0;le<r.length;le++)jy(S,h,r[le],Z,!1);else jy(S,h,r,Z,!1);void 0!==df&&df(S,i,n,r,h)}function la(t,n){if(null!==n){const r=n.type;if(3&r)return ii(n,t);if(4&r)return hf(-1,t[n.index]);if(8&r){const i=n.child;if(null!==i)return la(t,i);{const h=t[n.index];return Zo(h)?hf(-1,h):Or(h)}}if(128&r)return la(t,n.next);if(32&r)return rf(n,t)()||Or(t[n.index]);{const i=Ly(t,n);return null!==i?Array.isArray(i)?i[0]:la(Ss(t[ao]),i):la(t,n.next)}}return null}function Ly(t,n){return null!==n?t[ao][Xo].projection[n.projection]:null}function hf(t,n){const r=yo+t+1;if(r<n.length){const i=n[r],h=i[Nn].firstChild;if(null!==h)return la(i,h)}return n[ls]}function ff(t,n,r,i,h,S,F){for(;null!=r;){if(128===r.type){r=r.next;continue}const Z=i[r.index],le=r.type;if(F&&0===n&&(Z&&Qo(Or(Z),i),r.flags|=2),32&~r.flags)if(8&le)ff(t,n,r.child,i,h,S,!1),qa(n,t,h,Z,S);else if(32&le){const De=rf(r,i);let Ne;for(;Ne=De();)qa(n,t,h,Ne,S);qa(n,t,h,Z,S)}else 16&le?Uy(t,n,i,r,h,S):qa(n,t,h,Z,S);r=F?r.projectionNext:r.next}}function Gc(t,n,r,i,h,S){ff(r,i,t.firstChild,n,h,S,!1)}function Uy(t,n,r,i,h,S){const F=r[ao],le=F[Xo].projection[i.projection];if(Array.isArray(le))for(let De=0;De<le.length;De++)qa(n,t,h,le[De],S);else{let De=le;const Ne=F[xo];wc(i)&&(De.flags|=128),ff(t,n,De,Ne,h,S,!0)}}function By(t,n,r){""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r)}function $y(t,n,r){const{mergedAttrs:i,classes:h,styles:S}=r;null!==i&&Tl(t,n,i),null!==h&&By(t,n,h),null!==S&&function wS(t,n,r){t.setAttribute(n,"style",r)}(t,n,S)}const cr={};function Vy(t=1){Gy(gr(),Cn(),Ko()+t,!1)}function Gy(t,n,r,i){if(!i)if(3&~n[rr]){const S=t.preOrderHooks;null!==S&&fc(n,S,0,r)}else{const S=t.preOrderCheckHooks;null!==S&&hc(n,S,r)}ta(r)}function Ya(t,n=mr.Default){const r=Cn();return null===r?Zn(t,n):lg(Hr(),r,zn(t),n)}function Hy(){throw new Error("invalid")}function zy(t,n,r,i,h,S){const F=se(null);try{let Z=null;h&Cs.SignalBased&&(Z=n[i][o]),null!==Z&&void 0!==Z.transformFn&&(S=Z.transformFn(S)),h&Cs.HasDecoratorInputTransform&&(S=t.inputTransforms[i].call(n,S)),null!==t.setInput?t.setInput(n,Z,S,r,i):Tm(n,Z,i,S)}finally{se(F)}}function Hc(t,n,r,i,h,S,F,Z,le,De,Ne){const Ye=n.blueprint.slice();return Ye[so]=h,Ye[rr]=204|i,(null!==De||t&&2048&t[rr])&&(Ye[rr]|=2048),Pm(Ye),Ye[xo]=Ye[Pa]=t,Ye[Zr]=r,Ye[ss]=F||t&&t[ss],Ye[lr]=Z||t&&t[lr],Ye[Do]=le||t&&t[Do]||null,Ye[Xo]=S,Ye[ka]=function $C(){return BC++}(),Ye[oi]=Ne,Ye[Em]=De,Ye[ao]=2==n.type?t[ao]:Ye,Ye}function ua(t,n,r,i,h){let S=t.data[n];if(null===S)S=function pf(t,n,r,i,h){const S=Bm(),F=ph(),le=t.data[n]=function MS(t,n,r,i,h,S){let F=n?n.injectorIndex:-1,Z=0;return ea()&&(Z|=128),{type:r,index:i,insertBeforeIndex:null,injectorIndex:F,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Z,providerIndexes:0,value:h,attrs:S,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,F?S:S&&S.parent,r,n,i,h);return null===t.firstChild&&(t.firstChild=le),null!==S&&(F?null==S.child&&null!==le.parent&&(S.child=le):null===S.next&&(S.next=le,le.prev=S)),le}(t,n,r,i,h),function Yw(){return ur.lFrame.inI18n}()&&(S.flags|=32);else if(64&S.type){S.type=r,S.value=i,S.attrs=h;const F=function Fl(){const t=ur.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();S.injectorIndex=null===F?-1:F.injectorIndex}return Yi(S,!0),S}function ru(t,n,r,i){if(0===r)return-1;const h=n.length;for(let S=0;S<r;S++)n.push(i),t.blueprint.push(i),t.data.push(null);return h}function Wy(t,n,r,i,h){const S=Ko(),F=2&i;try{ta(-1),F&&n.length>er&&Gy(t,n,er,!1),us(F?2:0,h),r(i,h)}finally{ta(S),us(F?3:1,h)}}function mf(t,n,r){if(oh(n)){const i=se(null);try{const S=n.directiveEnd;for(let F=n.directiveStart;F<S;F++){const Z=t.data[F];Z.contentQueries&&Z.contentQueries(1,r[F],F)}}finally{se(i)}}}function gf(t,n,r){Lm()&&(function NS(t,n,r,i){const h=r.directiveStart,S=r.directiveEnd;Zs(r)&&function GS(t,n,r){const i=ii(n,t),h=Xy(r);let F=16;r.signals?F=4096:r.onPush&&(F=64);const Z=zc(t,Hc(t,h,null,F,i,n,null,t[ss].rendererFactory.createRenderer(i,r),null,null,null));t[n.index]=Z}(n,r,t.data[h+r.componentOffset]),t.firstCreatePass||mc(r,n),Qo(i,n);const F=r.initialInputs;for(let Z=h;Z<S;Z++){const le=t.data[Z],De=ra(n,t,Z,r);Qo(De,n),null!==F&&HS(0,Z-h,De,le,0,F),qi(le)&&(xi(r.index,n)[Zr]=ra(n,t,Z,r))}}(t,n,r,ii(r,n)),!(64&~r.flags)&&Zy(t,n,r))}function yf(t,n,r=ii){const i=n.localNames;if(null!==i){let h=n.index+1;for(let S=0;S<i.length;S+=2){const F=i[S+1],Z=-1===F?r(n,t):t[F];t[h++]=Z}}}function Xy(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=vf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function vf(t,n,r,i,h,S,F,Z,le,De,Ne){const Ye=er+i,Dt=Ye+h,Pt=function ES(t,n){const r=[];for(let i=0;i<n;i++)r.push(i<t?null:cr);return r}(Ye,Dt),jt="function"==typeof De?De():De;return Pt[Nn]={type:t,blueprint:Pt,template:r,queries:null,viewQuery:Z,declTNode:n,data:Pt.slice().fill(null,Ye),bindingStartIndex:Ye,expandoStartIndex:Dt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof S?S():S,pipeRegistry:"function"==typeof F?F():F,firstChild:null,schemas:le,consts:jt,incompleteFirstPass:!1,ssrId:Ne}}let Ky=()=>null;function qy(t,n,r,i,h){for(let F in n){var S;if(!n.hasOwnProperty(F))continue;const Z=n[F];if(void 0===Z)continue;null!==(S=i)&&void 0!==S||(i={});let le,De=Cs.None;Array.isArray(Z)?(le=Z[0],De=Z[1]):le=Z;let Ne=F;if(null!==h){if(!h.hasOwnProperty(F))continue;Ne=h[F]}0===t?Yy(i,r,Ne,le,De):Yy(i,r,Ne,le)}return i}function Yy(t,n,r,i,h){let S;t.hasOwnProperty(r)?(S=t[r]).push(n,i):S=t[r]=[n,i],void 0!==h&&S.push(h)}function gi(t,n,r,i,h,S,F,Z){const le=ii(n,r);let Ne,De=n.inputs;!Z&&null!=De&&(Ne=De[i])?(Ef(t,r,Ne,i,h),Zs(n)&&function jS(t,n){const r=xi(n,t);16&r[rr]||(r[rr]|=64)}(r,n.index)):3&n.type&&(i=function OS(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),h=null!=F?F(h,n.value||"",i):h,S.setProperty(le,i,h))}function bf(t,n,r,i){if(Lm()){const h=null===i?null:{"":-1},S=function FS(t,n){const r=t.directiveRegistry;let i=null,h=null;if(r)for(let F=0;F<r.length;F++){const Z=r[F];if(Zu(n,Z.selectors,!1))if(i||(i=[]),qi(Z))if(null!==Z.findHostDirectiveDefs){const le=[];h=h||new Map,Z.findHostDirectiveDefs(Z,le,h),i.unshift(...le,Z),_f(t,n,le.length)}else i.unshift(Z),_f(t,n,0);else{var S;h=h||new Map,null===(S=Z.findHostDirectiveDefs)||void 0===S||S.call(Z,Z,i,h),i.push(Z)}}return null===i?null:[i,h]}(t,r);let F,Z;null===S?F=Z=null:[F,Z]=S,null!==F&&Jy(t,n,r,F,h,Z),h&&function US(t,n,r){if(n){const i=t.localNames=[];for(let h=0;h<n.length;h+=2){const S=r[n[h+1]];if(null==S)throw new Rn(-301,!1);i.push(n[h],S)}}}(r,i,h)}r.mergedAttrs=Ps(r.mergedAttrs,r.attrs)}function Jy(t,n,r,i,h,S){for(let Ye=0;Ye<i.length;Ye++)Th(mc(r,n),t,i[Ye].type);!function $S(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}(r,t.data.length,i.length);for(let Ye=0;Ye<i.length;Ye++){const Dt=i[Ye];Dt.providersResolver&&Dt.providersResolver(Dt)}let F=!1,Z=!1,le=ru(t,n,i.length,null);for(let Ye=0;Ye<i.length;Ye++){const Dt=i[Ye];r.mergedAttrs=Ps(r.mergedAttrs,Dt.hostAttrs),VS(t,r,n,le,Dt),BS(le,Dt,h),null!==Dt.contentQueries&&(r.flags|=4),(null!==Dt.hostBindings||null!==Dt.hostAttrs||0!==Dt.hostVars)&&(r.flags|=64);const Pt=Dt.type.prototype;var De,Ne;!F&&(Pt.ngOnChanges||Pt.ngOnInit||Pt.ngDoCheck)&&((null!==(De=t.preOrderHooks)&&void 0!==De?De:t.preOrderHooks=[]).push(r.index),F=!0),Z||!Pt.ngOnChanges&&!Pt.ngDoCheck||((null!==(Ne=t.preOrderCheckHooks)&&void 0!==Ne?Ne:t.preOrderCheckHooks=[]).push(r.index),Z=!0),le++}!function IS(t,n,r){const h=n.directiveEnd,S=t.data,F=n.attrs,Z=[];let le=null,De=null;for(let Ne=n.directiveStart;Ne<h;Ne++){const Ye=S[Ne],Dt=r?r.get(Ye):null,jt=Dt?Dt.outputs:null;le=qy(0,Ye.inputs,Ne,le,Dt?Dt.inputs:null),De=qy(1,Ye.outputs,Ne,De,jt);const cn=null===le||null===F||Al(n)?null:zS(le,Ne,F);Z.push(cn)}null!==le&&(le.hasOwnProperty("class")&&(n.flags|=8),le.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=Z,n.inputs=le,n.outputs=De}(t,r,S)}function Zy(t,n,r){const i=r.directiveStart,h=r.directiveEnd,S=r.index,F=function Zw(){return ur.lFrame.currentDirectiveIndex}();try{ta(S);for(let Z=i;Z<h;Z++){const le=t.data[Z],De=n[Z];gh(Z),(null!==le.hostBindings||0!==le.hostVars||null!==le.hostAttrs)&&LS(le,De)}}finally{ta(-1),gh(F)}}function LS(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function _f(t,n,r){var i;n.componentOffset=r,(null!==(i=t.components)&&void 0!==i?i:t.components=[]).push(n.index)}function BS(t,n,r){if(r){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)r[n.exportAs[i]]=t;qi(n)&&(r[""]=t)}}function VS(t,n,r,i,h){t.data[i]=h;const S=h.factory||(h.factory=_s(h.type)),F=new Bl(S,qi(h),Ya);t.blueprint[i]=F,r[i]=F,function RS(t,n,r,i,h){const S=h.hostBindings;if(S){let F=t.hostBindingOpCodes;null===F&&(F=t.hostBindingOpCodes=[]);const Z=~n.index;(function kS(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})(F)!=Z&&F.push(Z),F.push(r,i,S)}}(t,n,i,ru(t,r,h.hostVars,cr),h)}function ps(t,n,r,i,h,S){const F=ii(t,n);!function wf(t,n,r,i,h,S,F){if(null==S)t.removeAttribute(n,h,r);else{const Z=null==F?ar(S):F(S,i||"",h);t.setAttribute(n,h,Z,r)}}(n[lr],F,S,t.value,r,i,h)}function HS(t,n,r,i,h,S){const F=S[n];if(null!==F)for(let Z=0;Z<F.length;)zy(i,r,F[Z++],F[Z++],F[Z++],F[Z++])}function zS(t,n,r){let i=null,h=0;for(;h<r.length;){const S=r[h];if(0!==S)if(5!==S){if("number"==typeof S)break;if(t.hasOwnProperty(S)){null===i&&(i=[]);const F=t[S];for(let Z=0;Z<F.length;Z+=3)if(F[Z]===n){i.push(S,F[Z+1],F[Z+2],r[h+1]);break}}h+=2}else h+=2;else h+=4}return i}function Qy(t,n,r,i){return[t,!0,0,n,null,i,null,r,null,null]}function ev(t,n){const r=t.contentQueries;if(null!==r){const i=se(null);try{for(let h=0;h<r.length;h+=2){const F=r[h+1];if(-1!==F){const Z=t.data[F];cc(r[h]),Z.contentQueries(2,n[F],F)}}}finally{se(i)}}}function zc(t,n){return t[Ol]?t[Cm][Ki]=n:t[Ol]=n,t[Cm]=n,n}function Cf(t,n,r){cc(0);const i=se(null);try{n(t,r)}finally{se(i)}}function tv(t){var n;return null!==(n=t[Ys])&&void 0!==n?n:t[Ys]=[]}function nv(t){var n;return null!==(n=t.cleanup)&&void 0!==n?n:t.cleanup=[]}function Wc(t,n){const r=t[Do],i=r?r.get(fs,null):null;i&&i.handleError(n)}function Ef(t,n,r,i,h){for(let S=0;S<r.length;){const F=r[S++],Z=r[S++],le=r[S++];zy(t.data[F],n[F],i,Z,le,h)}}function Ms(t,n,r){const i=kl(n,t);!function Ty(t,n,r){t.setValue(n,r)}(t[lr],i,r)}function WS(t,n){const r=xi(n,t),i=r[Nn];!function XS(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])}(i,r);const h=r[so];null!==h&&null===r[oi]&&(r[oi]=Gh(h,r[Do])),Sf(i,r,r[Zr])}function Sf(t,n,r){bh(n);try{var i;const h=t.viewQuery;null!==h&&Cf(1,h,r);const S=t.template;null!==S&&Wy(t,n,S,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),null===(i=n[as])||void 0===i||i.finishViewCreation(t),t.staticContentQueries&&ev(t,n),t.staticViewQueries&&Cf(2,t.viewQuery,r);const F=t.components;null!==F&&function KS(t,n){for(let r=0;r<n.length;r++)WS(t,n[r])}(n,F)}catch(h){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),h}finally{n[rr]&=-5,_h()}}function Ja(t,n,r,i){const h=se(null);try{var S,F,Z;const le=n.tView,Ye=Hc(t,le,r,4096&t[rr]?4096:16,null,n,null,null,null!==(S=null==i?void 0:i.injector)&&void 0!==S?S:null,null!==(F=null==i?void 0:i.embeddedViewInjector)&&void 0!==F?F:null,null!==(Z=null==i?void 0:i.dehydratedView)&&void 0!==Z?Z:null);Ye[Js]=t[n.index];const Pt=t[as];return null!==Pt&&(Ye[as]=Pt.createEmbeddedView(le)),Sf(le,Ye,r),Ye}finally{se(h)}}function ca(t,n){return!n||null===n.firstChild||wc(t)}function Za(t,n,r,i=!0){const h=n[Nn];if(function fS(t,n,r,i){const h=yo+i,S=r.length;i>0&&(r[h-1][Ki]=n),i<S-yo?(n[Ki]=r[h],Hd(r,yo+i,n)):(r.push(n),n[Ki]=null),n[xo]=r;const F=n[Js];null!==F&&r!==F&&My(F,n);const Z=n[as];null!==Z&&Z.insertView(t),dh(n),n[rr]|=128}(h,n,t,r),i){const F=hf(r,t),Z=n[lr],le=$c(Z,t[ls]);null!==le&&function dS(t,n,r,i,h,S){i[so]=h,i[Xo]=n,Gc(t,i,r,1,h,S)}(h,t[Xo],Z,n,le,F)}const S=n[oi];null!==S&&null!==S.firstChild&&(S.firstChild=null)}function ou(t,n,r,i,h=!1){for(;null!==r;){if(128===r.type){r=h?r.projectionNext:r.next;continue}const S=n[r.index];null!==S&&i.push(Or(S)),Zo(S)&&iv(S,i);const F=r.type;if(8&F)ou(t,n,r.child,i);else if(32&F){const Z=rf(r,n);let le;for(;le=Z();)i.push(le)}else if(16&F){const Z=Ly(n,r);if(Array.isArray(Z))i.push(...Z);else{const le=Ss(n[ao]);ou(le[Nn],le,Z,i,!0)}}r=h?r.projectionNext:r.next}return i}function iv(t,n){for(let r=yo;r<t.length;r++){const i=t[r],h=i[Nn].firstChild;null!==h&&ou(i[Nn],i,h,n)}t[ls]!==t[so]&&n.push(t[ls])}let sv=[];const ZS={...g,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ac(t.lView)},consumerOnSignalRead(){this.lView[Ui]=this}},ex={...g,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=Ss(t.lView);for(;n&&!av(n[Nn]);)n=Ss(n);n&&Rm(n)},consumerOnSignalRead(){this.lView[Ui]=this}};function av(t){return 2!==t.type}const tx=100;function Xc(t,n=!0,r=0){const i=t[ss],h=i.rendererFactory;var F;null===(F=h.begin)||void 0===F||F.call(h);try{!function nx(t,n){const r=Gm();try{Hm(!0),Df(t,n);let i=0;for(;Ll(t);){if(i===tx)throw new Rn(103,!1);i++,Df(t,1)}}finally{Hm(r)}}(t,r)}catch(De){throw n&&Wc(t,De),De}finally{var Z,le;null===(Z=h.end)||void 0===Z||Z.call(h),null===(le=i.inlineEffectRunner)||void 0===le||le.flush()}}function rx(t,n,r,i){var h;const S=n[rr];if(!(256&~S))return;null===(h=n[ss].inlineEffectRunner)||void 0===h||h.flush(),bh(n);let le=!0,De=null,Ne=null;av(t)?(Ne=function qS(t){var n;return null!==(n=t[Ui])&&void 0!==n?n:function YS(t){var n;const r=null!==(n=sv.pop())&&void 0!==n?n:Object.create(ZS);return r.lView=t,r}(t)}(n),De=d(Ne)):null===function V(){return O}()?(le=!1,Ne=function QS(t){var n;const r=null!==(n=t[Ui])&&void 0!==n?n:Object.create(ex);return r.lView=t,r}(n),De=d(Ne)):n[Ui]&&(p(n[Ui]),n[Ui]=null);try{Pm(n),function zm(t){return ur.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&Wy(t,n,r,2,i);const Ye=!(3&~S);if(Ye){const jt=t.preOrderCheckHooks;null!==jt&&hc(n,jt,null)}else{const jt=t.preOrderHooks;null!==jt&&fc(n,jt,0,null),wh(n,0)}if(function ox(t){for(let n=Lg(t);null!==n;n=Fg(n)){if(!(n[rr]&ic.HasTransplantedViews))continue;const r=n[Na];for(let i=0;i<r.length;i++)Rm(r[i])}}(n),uv(n,0),null!==t.contentQueries&&ev(t,n),Ye){const jt=t.contentCheckHooks;null!==jt&&hc(n,jt)}else{const jt=t.contentHooks;null!==jt&&fc(n,jt,1),wh(n,1)}!function CS(t,n){const r=t.hostBindingOpCodes;if(null!==r)try{for(let i=0;i<r.length;i++){const h=r[i];if(h<0)ta(~h);else{const S=h,F=r[++i],Z=r[++i];Jw(F,S),Z(2,n[S])}}}finally{ta(-1)}}(t,n);const Dt=t.components;null!==Dt&&dv(n,Dt,0);const Pt=t.viewQuery;if(null!==Pt&&Cf(2,Pt,i),Ye){const jt=t.viewCheckHooks;null!==jt&&hc(n,jt)}else{const jt=t.viewHooks;null!==jt&&fc(n,jt,2),wh(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[jl]){for(const jt of n[jl])jt();n[jl]=null}n[rr]&=-73}catch(Ye){throw ac(n),Ye}finally{null!==Ne&&(f(Ne,De),le&&function JS(t){t.lView[Ui]!==t&&(t.lView=null,sv.push(t))}(Ne)),_h()}}function uv(t,n){for(let r=Lg(t);null!==r;r=Fg(r))for(let i=yo;i<r.length;i++)cv(r[i],n)}function ix(t,n,r){cv(xi(n,t),r)}function cv(t,n){ch(t)&&Df(t,n)}function Df(t,n){const i=t[Nn],h=t[rr],S=t[Ui];let F=!!(0===n&&16&h);if(F||(F=!!(64&h&&0===n)),F||(F=!!(1024&h)),F||(F=!(null==S||!S.dirty||!u(S))),F||(F=!1),S&&(S.dirty=!1),t[rr]&=-9217,F)rx(i,t,i.template,t[Zr]);else if(8192&h){uv(t,1);const Z=i.components;null!==Z&&dv(t,Z,1)}}function dv(t,n,r){for(let i=0;i<n.length;i++)ix(t,n[i],r)}function iu(t,n){var r;const i=Gm()?64:1088;for(null===(r=t[ss].changeDetectionScheduler)||void 0===r||r.notify(n);t;){t[rr]|=i;const h=Ss(t);if(Rl(t)&&!h)return t;t=h}return null}class su{get rootNodes(){const n=this._lView,r=n[Nn];return ou(r,n,r.firstChild,[])}constructor(n,r,i=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zr]}set context(n){this._lView[Zr]=n}get destroyed(){return!(256&~this._lView[rr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[xo];if(Zo(n)){const r=n[8],i=r?r.indexOf(this):-1;i>-1&&(tu(n,i),Ta(r,i))}this._attachedToViewContainer=!1}Bc(this._lView[Nn],this._lView)}onDestroy(n){lc(this._lView,n)}markForCheck(){iu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[rr]&=-129}reattach(){dh(this._lView),this._lView[rr]|=128}detectChanges(){this._lView[rr]|=1024,Xc(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Rn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Rl(this._lView),r=this._lView[Js];null!==r&&!n&&lf(r,this._lView),Ay(this._lView[Nn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Rn(902,!1);this._appRef=n;const r=Rl(this._lView),i=this._lView[Js];null!==i&&!r&&My(i,this._lView),dh(this._lView)}}let au=(()=>{class n{}return n.__NG_ELEMENT_ID__=lx,n})();const sx=au,ax=class extends sx{constructor(n,r,i){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){const h=Ja(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new su(h)}};function lx(){return Kc(Hr(),Cn())}function Kc(t,n){return 4&t.type?new ax(n,t,Ba(t,n)):null}let jv=()=>null;function ha(t,n){return jv(t,n)}class el{}const mu=new $n("",{providedIn:"root",factory:()=>!1}),Pv=new $n("");class eD{}class Rv{}class nD{resolveComponentFactory(n){throw function tD(t){const n=Error(`No component factory found for ${Xr(t)}.`);return n.ngComponent=t,n}(n)}}class gu{}gu.NULL=new nD;class Lf{}let rD=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function oD(){const t=Cn(),r=xi(Hr().index,t);return(Uo(r)?r:t)[lr]}(),n})(),iD=(()=>{var t;class n{}return(t=n).\u0275prov=Ln({token:t,providedIn:"root",factory:()=>null}),n})();const Nv=new Set;function ai(t){var n,r;Nv.has(t)||(Nv.add(t),null===(n=performance)||void 0===n||null===(r=n.mark)||void 0===r||r.call(n,"mark_feature_usage",{detail:{feature:t}}))}var li=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(li||{});const Lv={destroy(){}};function Fv(t,n){var r,i;!n&&function nc(t){if(!_m())throw new Rn(-203,!1)}();const h=null!==(r=null==n?void 0:n.injector)&&void 0!==r?r:kn(Bo);return function mi(t){return"browser"===(null!=t?t:kn(Bo)).get(Fh)}(h)?(ai("NgAfterNextRender"),function Uv(t,n,r,i){var h;const S=function aD(t,n){if(t instanceof Function)switch(n){case li.EarlyRead:return{earlyRead:t};case li.Write:return{write:t};case li.MixedReadWrite:return{mixedReadWrite:t};case li.Read:return{read:t}}return t}(t,i),F=n.get(ed),Z=null!==(h=F.handler)&&void 0!==h?h:F.handler=new uD,le=[],De=[],Ne=()=>{for(const jt of De)Z.unregister(jt);Ye()},Ye=n.get(Gl).onDestroy(Ne);let Dt=0;const Pt=(jt,cn)=>{if(!cn)return;const Dn=r?(...vn)=>(Dt--,Dt<1&&Ne(),cn(...vn)):cn,jn=bm(n,()=>new lD(jt,le,Dn));Z.register(jn),De.push(jn),Dt++};return Pt(li.EarlyRead,S.earlyRead),Pt(li.Write,S.write),Pt(li.MixedReadWrite,S.mixedReadWrite),Pt(li.Read,S.read),{destroy:Ne}}(t,h,!0,null!==(i=null==n?void 0:n.phase)&&void 0!==i?i:li.MixedReadWrite)):Lv}class lD{constructor(n,r,i){var h;this.phase=n,this.pipelinedArgs=r,this.callbackFn=i,this.zone=kn(ro),this.errorHandler=kn(fs,{optional:!0}),null===(h=kn(el,{optional:!0}))||void 0===h||h.notify(6)}invoke(){try{const r=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,r)}catch(r){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(r)}}}class uD{constructor(){this.executingCallbacks=!1,this.buckets={[li.EarlyRead]:new Set,[li.Write]:new Set,[li.MixedReadWrite]:new Set,[li.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const r of n)r.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let ed=(()=>{var t;class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var i;this.executeInternalCallbacks(),null===(i=this.handler)||void 0===i||i.execute()}executeInternalCallbacks(){const i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const h of i)h()}ngOnDestroy(){var i;null===(i=this.handler)||void 0===i||i.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=Ln({token:t,providedIn:"root",factory:()=>new t}),n})();function Ns(t){return!!Qn(t)}function nd(t,n,r){let i=r?t.styles:null,h=r?t.classes:null,S=0;if(null!==n)for(let F=0;F<n.length;F++){const Z=n[F];"number"==typeof Z?S=Z:1==S?h=Ri(h,Z):2==S&&(i=Ri(i,Z+": "+n[++F]+";"))}r?t.styles=i:t.stylesWithoutHost=i,r?t.classes=h:t.classesWithoutHost=h}class Vv extends gu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Xt(n);return new bu(r,this.ngModule)}}function Gv(t,n){const r=[];for(const i in t){if(!t.hasOwnProperty(i))continue;const h=t[i];if(void 0===h)continue;const S=Array.isArray(h),F=S?h[0]:h;r.push(n?{propName:F,templateName:i,isSignal:!!((S?h[1]:Cs.None)&Cs.SignalBased)}:{propName:F,templateName:i})}return r}class bu extends Rv{get inputs(){const n=this.componentDef,r=n.inputTransforms,i=Gv(n.inputs,!0);if(null!==r)for(const h of i)r.hasOwnProperty(h.propName)&&(h.transform=r[h.propName]);return i}get outputs(){return Gv(this.componentDef.outputs,!1)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function re(t){return t.map(mm).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,i,h){const S=se(null);try{var Z;let le=(h=h||this.ngModule)instanceof Fi?h:null===(Z=h)||void 0===Z?void 0:Z.injector;le&&null!==this.componentDef.getStandaloneInjector&&(le=this.componentDef.getStandaloneInjector(le)||le);const De=le?new na(n,le):n,Ne=De.get(Lf,null);if(null===Ne)throw new Rn(407,!1);const Ye=De.get(iD,null),jt={rendererFactory:Ne,sanitizer:Ye,inlineEffectRunner:null,afterRenderEventManager:De.get(ed,null),changeDetectionScheduler:De.get(el,null)},cn=Ne.createRenderer(null,this.componentDef),Dn=this.componentDef.selectors[0][0]||"div",jn=i?function SS(t,n,r,i){const S=i.get(ny,!1)||r===ws.ShadowDom,F=t.selectRootElement(n,S);return function xS(t){Ky(t)}(F),F}(cn,i,this.componentDef.encapsulation,De):Uc(cn,Dn,function hD(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Dn));let vn=512;this.componentDef.signals?vn|=4096:this.componentDef.onPush||(vn|=16);let or=null;null!==jn&&(or=Gh(jn,De,!0));const dr=vf(0,null,null,1,0,null,null,null,null,null,null),jr=Hc(null,dr,null,vn,null,null,jt,cn,De,null,or);let qo,ei;bh(jr);try{const ns=this.componentDef;let ba,um=null;ns.findHostDirectiveDefs?(ba=[],um=new Map,ns.findHostDirectiveDefs(ns,ba,um),ba.push(ns)):ba=[ns];const IO=function pD(t,n){const r=t[Nn],i=er;return t[i]=n,ua(r,i,2,"#host",null)}(jr,jn),OO=function mD(t,n,r,i,h,S,F){const Z=h[Nn];!function gD(t,n,r,i){for(const h of t)n.mergedAttrs=Ps(n.mergedAttrs,h.hostAttrs);null!==n.mergedAttrs&&(nd(n,n.mergedAttrs,!0),null!==r&&$y(i,r,n))}(i,t,n,F);let le=null;null!==n&&(le=Gh(n,h[Do]));const De=S.rendererFactory.createRenderer(n,r);let Ne=16;r.signals?Ne=4096:r.onPush&&(Ne=64);const Ye=Hc(h,Xy(r),null,Ne,h[t.index],t,S,De,null,null,le);return Z.firstCreatePass&&_f(Z,t,i.length-1),zc(h,Ye),h[t.index]=Ye}(IO,jn,ns,ba,jr,jt,cn);ei=Nl(dr,er),jn&&function vD(t,n,r,i){if(i)Tl(t,r,["ng-version","18.1.3"]);else{const{attrs:h,classes:S}=function he(t){const n=[],r=[];let i=1,h=2;for(;i<t.length;){let S=t[i];if("string"==typeof S)2===h?""!==S&&n.push(S,t[++i]):8===h&&r.push(S);else{if(!Si(h))break;h=S}i++}return{attrs:n,classes:r}}(n.selectors[0]);h&&Tl(t,r,h),S&&S.length>0&&By(t,r,S.join(" "))}}(cn,ns,jn,i),void 0!==r&&function bD(t,n,r){const i=t.projection=[];for(let h=0;h<n.length;h++){const S=r[h];i.push(null!=S?Array.from(S):null)}}(ei,this.ngContentSelectors,r),qo=function yD(t,n,r,i,h,S){const F=Hr(),Z=h[Nn],le=ii(F,h);Jy(Z,h,F,r,null,i);for(let Ne=0;Ne<r.length;Ne++)Qo(ra(h,Z,F.directiveStart+Ne,F),h);Zy(Z,h,F),le&&Qo(le,h);const De=ra(h,Z,F.directiveStart+F.componentOffset,F);if(t[Zr]=h[Zr]=De,null!==S)for(const Ne of S)Ne(De,n);return mf(Z,F,h),De}(OO,ns,ba,um,jr,[_D]),Sf(dr,jr,null)}finally{_h()}return new fD(this.componentType,qo,Ba(ei,jr),jr,ei)}finally{se(S)}}}class fD extends eD{constructor(n,r,i,h,S){super(),this.location=i,this._rootLView=h,this._tNode=S,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new su(h,void 0,!1),this.componentType=n}setInput(n,r){const i=this._tNode.inputs;let h;if(null!==i&&(h=i[n])){var S;if(null!==(S=this.previousInputValues)&&void 0!==S||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const F=this._rootLView;Ef(F[Nn],F,h,n,r),this.previousInputValues.set(n,r),iu(xi(this._tNode.index,F),1)}}get injector(){return new jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function _D(){const t=Hr();dc(Cn()[Nn],t)}let rd=(()=>{class n{}return n.__NG_ELEMENT_ID__=wD,n})();function wD(){return Wv(Hr(),Cn())}const CD=rd,Hv=class extends CD{constructor(n,r,i){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=i}get element(){return Ba(this._hostTNode,this._hostLView)}get injector(){return new jo(this._hostTNode,this._hostLView)}get parentInjector(){const n=gc(this._hostTNode,this._hostLView);if(Sh(n)){const r=Vl(n,this._hostLView),i=$l(n);return new jo(r[Nn].data[i+8],r)}return new jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=zv(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-yo}createEmbeddedView(n,r,i){let h,S;"number"==typeof i?h=i:null!=i&&(h=i.index,S=i.injector);const F=ha(this._lContainer,n.ssrId),Z=n.createEmbeddedViewImpl(r||{},S,F);return this.insertImpl(Z,h,ca(this._hostTNode,F)),Z}createComponent(n,r,i,h,S){var F,Z,le;const De=n&&!function Il(t){return"function"==typeof t}(n);let Ne;if(De)Ne=r;else{const jn=r||{};Ne=jn.index,i=jn.injector,h=jn.projectableNodes,S=jn.environmentInjector||jn.ngModuleRef}const Ye=De?n:new bu(Xt(n)),Dt=i||this.parentInjector;if(!S&&null==Ye.ngModule){const vn=(De?Dt:this.parentInjector).get(Fi,null);vn&&(S=vn)}const Pt=Xt(null!==(F=Ye.componentType)&&void 0!==F?F:{}),jt=ha(this._lContainer,null!==(Z=null==Pt?void 0:Pt.id)&&void 0!==Z?Z:null),cn=null!==(le=null==jt?void 0:jt.firstChild)&&void 0!==le?le:null,Dn=Ye.create(Dt,h,cn,S);return this.insertImpl(Dn.hostView,Ne,ca(this._hostTNode,jt)),Dn}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,i){const h=n._lView;if(function $w(t){return Zo(t[xo])}(h)){const Z=this.indexOf(n);if(-1!==Z)this.detach(Z);else{const le=h[xo],De=new Hv(le,le[Xo],le[xo]);De.detach(De.indexOf(n))}}const S=this._adjustIndex(r),F=this._lContainer;return Za(F,h,S,i),n.attachToViewContainerRef(),Hd($f(F),S,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=zv(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),i=tu(this._lContainer,r);i&&(Ta($f(this._lContainer),r),Bc(i[Nn],i))}detach(n){const r=this._adjustIndex(n,-1),i=tu(this._lContainer,r);return i&&null!=Ta($f(this._lContainer),r)?new su(i):null}_adjustIndex(n,r=0){return null==n?this.length+r:n}};function zv(t){return t[8]}function $f(t){return t[8]||(t[8]=[])}function Wv(t,n){let r;const i=n[t.index];return Zo(i)?r=i:(r=Qy(i,n,null,t),n[t.index]=r,zc(n,r)),Xv(r,n,t,i),new Hv(r,t,n)}let Xv=function qv(t,n,r,i){if(t[ls])return;let h;h=8&r.type?Or(i):function ED(t,n){const r=t[lr],i=r.createComment(""),h=ii(n,t);return aa(r,$c(r,h),i,function yS(t,n){return t.nextSibling(n)}(r,h),!1),i}(n,r),t[ls]=h},Vf=()=>!1;class Gf{constructor(n){this.queryList=n,this.matches=null}clone(){return new Gf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hf{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const i=null!==n.contentQueries?n.contentQueries[0]:r.length,h=[];for(let S=0;S<i;S++){const F=r.getByIndex(S);h.push(this.queries[F.indexInDeclarationView].clone())}return new Hf(h)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==qf(n,r).matches&&this.queries[r].setDirty()}}class Yv{constructor(n,r,i=null){this.flags=r,this.read=i,this.predicate="string"==typeof n?function OD(t){return t.split(",").map(n=>n.trim())}(n):n}}class zf{constructor(n=[]){this.queries=n}elementStart(n,r){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let i=0;i<this.length;i++){const h=null!==r?r.length:0,S=this.getByIndex(i).embeddedTView(n,h);S&&(S.indexInDeclarationView=i,null!==r?r.push(S):r=[S])}return null!==r?new zf(r):null}template(n,r){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Wf{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new Wf(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==r;)i=i.parent;return r===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const i=this.metadata.predicate;if(Array.isArray(i))for(let h=0;h<i.length;h++){const S=i[h];this.matchTNodeWithReadOption(n,r,TD(r,S)),this.matchTNodeWithReadOption(n,r,yc(r,n,S,!1,!1))}else i===au?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,yc(r,n,i,!1,!1))}matchTNodeWithReadOption(n,r,i){if(null!==i){const h=this.metadata.read;if(null!==h)if(h===Hl||h===rd||h===au&&4&r.type)this.addMatch(r.index,-2);else{const S=yc(r,n,h,!1,!1);null!==S&&this.addMatch(r.index,S)}else this.addMatch(r.index,i)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function TD(t,n){const r=t.localNames;if(null!==r)for(let i=0;i<r.length;i+=2)if(r[i]===n)return r[i+1];return null}function MD(t,n,r,i){return-1===r?function AD(t,n){return 11&t.type?Ba(t,n):4&t.type?Kc(t,n):null}(n,t):-2===r?function ID(t,n,r){return r===Hl?Ba(n,t):r===au?Kc(n,t):r===rd?Wv(n,t):void 0}(t,n,i):ra(t,t[Nn],r,n)}function Jv(t,n,r,i){const h=n[as].queries[i];if(null===h.matches){const S=t.data,F=r.matches,Z=[];for(let le=0;null!==F&&le<F.length;le+=2){const De=F[le];Z.push(De<0?null:MD(n,S[De],F[le+1],r.metadata.read))}h.matches=Z}return h.matches}function Xf(t,n,r,i){const h=t.queries.getByIndex(r),S=h.matches;if(null!==S){const F=Jv(t,n,h,r);for(let Z=0;Z<S.length;Z+=2){const le=S[Z];if(le>0)i.push(F[Z/2]);else{const De=S[Z+1],Ne=n[-le];for(let Ye=yo;Ye<Ne.length;Ye++){const Dt=Ne[Ye];Dt[Js]===Dt[xo]&&Xf(Dt[Nn],Dt,De,i)}if(null!==Ne[Na]){const Ye=Ne[Na];for(let Dt=0;Dt<Ye.length;Dt++){const Pt=Ye[Dt];Xf(Pt[Nn],Pt,De,i)}}}}}return i}function Zv(t,n,r){var i;const h=new Rh(!(4&~r));return function AS(t,n,r,i){const h=tv(n);h.push(r),t.firstCreatePass&&nv(t).push(i,h.length-1)}(t,n,h,h.destroy),(null!==(i=n[as])&&void 0!==i?i:n[as]=new Hf).queries.push(new Gf(h))-1}function t0(t,n,r){null===t.queries&&(t.queries=new zf),t.queries.track(new Wf(n,r))}function qf(t,n){return t.queries.getByIndex(n)}function n0(t,n){const r=t[Nn],i=qf(r,n);return i.crossesNgTemplate?Xf(r,t,n,[]):Jv(r,t,i,n)}function o0(t,n){ai("NgSignals");const r=function N(t){const n=Object.create(Q);n.value=t;const r=()=>(y(n),n.value);return r[o]=n,r}(t),i=r[o];return null!=n&&n.equal&&(i.equal=n.equal),r.set=h=>Ae(i,h),r.update=h=>function Y(t,n){l()||G(),Ae(t,n(t.value))}(i,h),r.asReadonly=s0.bind(r),r}function s0(){const t=this[o];if(void 0===t.readonlyFn){const n=()=>this();n[o]=t,t.readonlyFn=n}return t.readonlyFn}function a0(t){return function r0(t){return"function"==typeof t&&void 0!==t[o]}(t)&&"function"==typeof t.set}function Jf(t){let n=function v0(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const i=[t];for(;n;){let h;if(qi(t))h=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Rn(903,!1);h=n.\u0275dir}if(h){if(r){i.push(h);const F=t;F.inputs=id(t.inputs),F.inputTransforms=id(t.inputTransforms),F.declaredInputs=id(t.declaredInputs),F.outputs=id(t.outputs);const Z=h.hostBindings;Z&&WD(t,Z);const le=h.viewQuery,De=h.contentQueries;if(le&&HD(t,le),De&&zD(t,De),VD(t,h),Pi(t.outputs,h.outputs),qi(h)&&h.data.animation){const Ne=t.data;Ne.animation=(Ne.animation||[]).concat(h.data.animation)}}const S=h.features;if(S)for(let F=0;F<S.length;F++){const Z=S[F];Z&&Z.ngInherit&&Z(t),Z===Jf&&(r=!1)}}n=Object.getPrototypeOf(n)}!function GD(t){let n=0,r=null;for(let i=t.length-1;i>=0;i--){const h=t[i];h.hostVars=n+=h.hostVars,h.hostAttrs=Ps(h.hostAttrs,r=Ps(r,h.hostAttrs))}}(i)}function VD(t,n){for(const i in n.inputs){if(!n.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;const h=n.inputs[i];if(void 0!==h&&(t.inputs[i]=h,t.declaredInputs[i]=n.declaredInputs[i],null!==n.inputTransforms)){var r;const S=Array.isArray(h)?h[0]:h;if(!n.inputTransforms.hasOwnProperty(S))continue;null!==(r=t.inputTransforms)&&void 0!==r||(t.inputTransforms={}),t.inputTransforms[S]=n.inputTransforms[S]}}}function id(t){return t===Ci?{}:t===Cr?[]:t}function HD(t,n){const r=t.viewQuery;t.viewQuery=r?(i,h)=>{n(i,h),r(i,h)}:n}function zD(t,n){const r=t.contentQueries;t.contentQueries=r?(i,h,S)=>{n(i,h,S),r(i,h,S)}:n}function WD(t,n){const r=t.hostBindings;t.hostBindings=r?(i,h)=>{n(i,h),r(i,h)}:n}function C0(t){const n=t.inputConfig,r={};for(const i in n)if(n.hasOwnProperty(i)){const h=n[i];Array.isArray(h)&&h[3]&&(r[i]=h[3])}t.inputTransforms=r}class fa{}class E0{}function ZD(t,n){return new Zf(t,null!=n?n:null,[])}class Zf extends fa{constructor(n,r,i){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vv(this);const h=Qn(n);this._bootstrapComponents=Di(h.bootstrap),this._r3Injector=bg(n,r,[{provide:fa,useValue:this},{provide:gu,useValue:this.componentFactoryResolver},...i],Xr(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Qf extends E0{constructor(n){super(),this.moduleType=n}create(n){return new Zf(this.moduleType,n,[])}}class S0 extends fa{constructor(n){super(),this.componentFactoryResolver=new Vv(this),this.instance=null;const r=new Ia([...n.providers,{provide:fa,useValue:this},{provide:gu,useValue:this.componentFactoryResolver}],n.parent||tc(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function ep(t,n,r=null){return new S0({providers:t,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}function sd(t){return!!tp(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function tp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function vo(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function Cu(t,n,r,i,h,S,F,Z,le,De){const Ne=r+er,Ye=n.firstCreatePass?function oT(t,n,r,i,h,S,F,Z,le){const De=n.consts,Ne=ua(n,t,4,F||null,Z||null);bf(n,r,Ne,Bi(De,le)),dc(n,Ne);const Ye=Ne.tView=vf(2,Ne,i,h,S,n.directiveRegistry,n.pipeRegistry,null,n.schemas,De,null);return null!==n.queries&&(n.queries.template(n,Ne),Ye.queries=n.queries.embeddedTView(Ne)),Ne}(Ne,n,t,i,h,S,F,Z,le):n.data[Ne];Yi(Ye,!1);const Dt=x0(n,t,Ye,r);Ul()&&Vc(n,t,Dt,Ye),Qo(Dt,t);const Pt=Qy(Dt,t,Dt,Ye);return t[Ne]=Pt,zc(t,Pt),function Kv(t,n,r){return Vf(t,n,r)}(Pt,Ye,t),sc(Ye)&&gf(n,t,Ye),null!=le&&yf(t,Ye,De),Ye}function np(t,n,r,i,h,S,F,Z){const le=Cn(),De=gr();return Cu(le,De,t,n,r,i,h,Bi(De.consts,S),F,Z),np}let x0=function D0(t,n,r,i){return cs(!0),n[lr].createComment("")};function fp(t,n,r,i){const h=Cn();return vo(h,Ji(),n)&&(gr(),ps(Qr(),h,t,n,r,i)),fp}function cl(t,n,r,i){return vo(t,Ji(),r)?n+ar(r)+i:cr}function dl(t,n,r,i,h,S){const Z=function pa(t,n,r,i){const h=vo(t,n,r);return vo(t,n+1,i)||h}(t,function xs(){return ur.lFrame.bindingIndex}(),r,h);return Ds(2),Z?n+ar(r)+i+ar(h)+S:cr}function fd(t,n){return t<<17|n<<2}function Us(t){return t>>17&32767}function pp(t){return 2|t}function ga(t){return(131068&t)>>2}function mp(t,n){return-131069&t|n<<2}function gp(t){return 1|t}function rb(t,n,r,i){const h=t[r+1],S=null===n;let F=i?Us(h):ga(h),Z=!1;for(;0!==F&&(!1===Z||S);){const De=t[F+1];GT(t[F],n)&&(Z=!0,t[F+1]=i?gp(De):pp(De)),F=i?Us(De):ga(De)}Z&&(t[r+1]=i?pp(h):gp(h))}function GT(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&zs(t,n)>=0}const Po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ob(t){return t.substring(Po.key,Po.keyEnd)}function HT(t){return t.substring(Po.value,Po.valueEnd)}function sb(t,n){const r=Po.textEnd;let i=Po.key=vl(t,n,r);return r===i?-1:(i=Po.keyEnd=function KT(t,n,r){let i;for(;n<r&&(45===(i=t.charCodeAt(n))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)n++;return n}(t,i,r),i=lb(t,i,r),i=Po.value=vl(t,i,r),i=Po.valueEnd=function qT(t,n,r){let i=-1,h=-1,S=-1,F=n,Z=F;for(;F<r;){const le=t.charCodeAt(F++);if(59===le)return Z;34===le||39===le?Z=F=ub(t,le,F,r):n===F-4&&85===S&&82===h&&76===i&&40===le?Z=F=ub(t,41,F,r):le>32&&(Z=F),S=h,h=i,i=-33&le}return Z}(t,i,r),lb(t,i,r))}function vl(t,n,r){for(;n<r&&t.charCodeAt(n)<=32;)n++;return n}function lb(t,n,r,i){return(n=vl(t,n,r))<r&&n++,n}function ub(t,n,r,i){let h=-1,S=r;for(;S<i;){const F=t.charCodeAt(S++);if(F==n&&92!==h)return S;h=92==F&&92===h?0:F}throw new Error}function yp(t,n,r){const i=Cn();return vo(i,Ji(),n)&&gi(gr(),Qr(),i,t,n,i[lr],r,!1),yp}function vp(t,n,r,i,h){const F=h?"class":"style";Ef(t,r,n.inputs[F],F,i)}function bp(t,n){return function Qi(t,n,r,i){const h=Cn(),S=gr(),F=Ds(2);S.firstUpdatePass&&hb(S,t,F,i),n!==cr&&vo(h,F,n)&&pb(S,S.data[Ko()],h,h[lr],t,h[F+1]=function iA(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Xr(Ts(t)))),t}(n,r),i,F)}(t,n,null,!0),bp}function Zi(t){!function es(t,n,r,i){const h=gr(),S=Ds(2);h.firstUpdatePass&&hb(h,null,S,i);const F=Cn();if(r!==cr&&vo(F,S,r)){const Z=h.data[Ko()];if(gb(Z,i)&&!db(h,S)){let le=i?Z.classesWithoutHost:Z.stylesWithoutHost;null!==le&&(r=Ri(le,r||"")),vp(h,Z,F,r,i)}else!function oA(t,n,r,i,h,S,F,Z){h===cr&&(h=Cr);let le=0,De=0,Ne=0<h.length?h[0]:null,Ye=0<S.length?S[0]:null;for(;null!==Ne||null!==Ye;){const Dt=le<h.length?h[le+1]:void 0,Pt=De<S.length?S[De+1]:void 0;let cn,jt=null;Ne===Ye?(le+=2,De+=2,Dt!==Pt&&(jt=Ye,cn=Pt)):null===Ye||null!==Ne&&Ne<Ye?(le+=2,jt=Ne):(De+=2,jt=Ye,cn=Pt),null!==jt&&pb(t,n,r,i,jt,cn,F,Z),Ne=le<h.length?h[le]:null,Ye=De<S.length?S[De]:null}}(h,Z,F,F[lr],F[S+1],F[S+1]=function nA(t,n,r){if(null==r||""===r)return Cr;const i=[],h=Ts(r);if(Array.isArray(h))for(let S=0;S<h.length;S++)t(i,h[S],!0);else if("object"==typeof h)for(const S in h)h.hasOwnProperty(S)&&t(i,S,h[S]);else"string"==typeof h&&n(i,h);return i}(t,n,r),i,S)}}(fb,YT,t,!1)}function YT(t,n){for(let r=function WT(t){return function ab(t){Po.key=0,Po.keyEnd=0,Po.value=0,Po.valueEnd=0,Po.textEnd=t.length}(t),sb(t,vl(t,0,Po.textEnd))}(n);r>=0;r=sb(n,r))fb(t,ob(n),HT(n))}function db(t,n){return n>=t.expandoStartIndex}function hb(t,n,r,i){const h=t.data;if(null===h[r+1]){const S=h[Ko()],F=db(t,r);gb(S,i)&&null===n&&!F&&(n=!1),n=function ZT(t,n,r,i){const h=function yh(t){const n=ur.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let S=i?n.residualClasses:n.residualStyles;if(null===h)0===(i?n.classBindings:n.styleBindings)&&(r=Du(r=_p(null,t,n,r,i),n.attrs,i),S=null);else{const F=n.directiveStylingLast;if(-1===F||t[F]!==h)if(r=_p(h,t,n,r,i),null===S){let le=function QT(t,n,r){const i=r?n.classBindings:n.styleBindings;if(0!==ga(i))return t[Us(i)]}(t,n,i);void 0!==le&&Array.isArray(le)&&(le=_p(null,t,n,le[1],i),le=Du(le,n.attrs,i),function eA(t,n,r,i){t[Us(r?n.classBindings:n.styleBindings)]=i}(t,n,i,le))}else S=function tA(t,n,r){let i;const h=n.directiveEnd;for(let S=1+n.directiveStylingLast;S<h;S++)i=Du(i,t[S].hostAttrs,r);return Du(i,n.attrs,r)}(t,n,i)}return void 0!==S&&(i?n.residualClasses=S:n.residualStyles=S),r}(h,S,n,i),function $T(t,n,r,i,h,S){let F=S?n.classBindings:n.styleBindings,Z=Us(F),le=ga(F);t[i]=r;let Ne,De=!1;if(Array.isArray(r)?(Ne=r[1],(null===Ne||zs(r,Ne)>0)&&(De=!0)):Ne=r,h)if(0!==le){const Dt=Us(t[Z+1]);t[i+1]=fd(Dt,Z),0!==Dt&&(t[Dt+1]=mp(t[Dt+1],i)),t[Z+1]=function UT(t,n){return 131071&t|n<<17}(t[Z+1],i)}else t[i+1]=fd(Z,0),0!==Z&&(t[Z+1]=mp(t[Z+1],i)),Z=i;else t[i+1]=fd(le,0),0===Z?Z=i:t[le+1]=mp(t[le+1],i),le=i;De&&(t[i+1]=pp(t[i+1])),rb(t,Ne,i,!0),rb(t,Ne,i,!1),function VT(t,n,r,i,h){const S=h?t.residualClasses:t.residualStyles;null!=S&&"string"==typeof n&&zs(S,n)>=0&&(r[i+1]=gp(r[i+1]))}(n,Ne,t,i,S),F=fd(Z,le),S?n.classBindings=F:n.styleBindings=F}(h,S,n,r,F,i)}}function _p(t,n,r,i,h){let S=null;const F=r.directiveEnd;let Z=r.directiveStylingLast;for(-1===Z?Z=r.directiveStart:Z++;Z<F&&(S=n[Z],i=Du(i,S.hostAttrs,h),S!==t);)Z++;return null!==t&&(r.directiveStylingLast=Z),i}function Du(t,n,r){const i=r?1:2;let h=-1;if(null!==n)for(let S=0;S<n.length;S++){const F=n[S];"number"==typeof F?h=F:h===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ri(t,F,!!r||n[++S]))}return void 0===t?null:t}function fb(t,n,r){ri(t,n,Ts(r))}function pb(t,n,r,i,h,S,F,Z){if(!(3&n.type))return;const le=t.data,De=le[Z+1],Ne=function BT(t){return!(1&~t)}(De)?mb(le,n,r,h,ga(De),F):void 0;pd(Ne)||(pd(S)||function FT(t){return!(2&~t)}(De)&&(S=mb(le,null,r,h,Z,F)),function _S(t,n,r,i,h){if(n)h?t.addClass(r,i):t.removeClass(r,i);else{let S=-1===i.indexOf("-")?void 0:Fc.DashCase;null==h?t.removeStyle(r,i,S):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),S|=Fc.Important),t.setStyle(r,i,h,S))}}(i,F,kl(Ko(),r),h,S))}function mb(t,n,r,i,h,S){const F=null===n;let Z;for(;h>0;){const le=t[h],De=Array.isArray(le),Ne=De?le[1]:le,Ye=null===Ne;let Dt=r[h+1];Dt===cr&&(Dt=Ye?Cr:void 0);let Pt=Ye?zu(Dt,i):Ne===i?Dt:void 0;if(De&&!pd(Pt)&&(Pt=zu(le,i)),pd(Pt)&&(Z=Pt,F))return Z;const jt=t[h+1];h=F?Us(jt):ga(jt)}if(null!==n){let le=S?n.residualClasses:n.residualStyles;null!=le&&(Z=zu(le,i))}return Z}function pd(t){return void 0!==t}function gb(t,n){return!!(t.flags&(n?8:16))}function gd(t,n,r,i){const h=Cn(),S=gr(),F=er+t,Z=h[lr],le=S.firstCreatePass?function AA(t,n,r,i,h,S){const F=n.consts,le=ua(n,t,2,i,Bi(F,h));return bf(n,r,le,Bi(F,S)),null!==le.attrs&&nd(le,le.attrs,!1),null!==le.mergedAttrs&&nd(le,le.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,le),le}(F,S,h,n,r,i):S.data[F],De=_b(S,h,le,Z,n,t);h[F]=De;const Ne=sc(le);return Yi(le,!0),$y(Z,De,le),!function nl(t){return!(32&~t.flags)}(le)&&Ul()&&Vc(S,h,De,le),0===function Vw(){return ur.lFrame.elementDepthCount}()&&Qo(De,h),function Gw(){ur.lFrame.elementDepthCount++}(),Ne&&(gf(S,h,le),mf(S,le,h)),null!==i&&yf(h,le),gd}function yd(){let t=Hr();ph()?mh():(t=t.parent,Yi(t,!1));const n=t;(function zw(t){return ur.skipHydrationRootTNode===t})(n)&&function qw(){ur.skipHydrationRootTNode=null}(),function Hw(){ur.lFrame.elementDepthCount--}();const r=gr();return r.firstCreatePass&&(dc(r,t),oh(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function lC(t){return!!(8&t.flags)}(n)&&vp(r,n,Cn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function uC(t){return!!(16&t.flags)}(n)&&vp(r,n,Cn(),n.stylesWithoutHost,!1),yd}function Sp(t,n,r,i){return gd(t,n,r,i),yd(),Sp}let _b=(t,n,r,i,h,S)=>(cs(!0),Uc(i,h,function Zm(){return ur.lFrame.currentNamespace}()));function vd(t,n,r){const i=Cn(),h=gr(),S=t+er,F=h.firstCreatePass?function OA(t,n,r,i,h){const S=n.consts,F=Bi(S,i),Z=ua(n,t,8,"ng-container",F);return null!==F&&nd(Z,F,!0),bf(n,r,Z,Bi(S,h)),null!==n.queries&&n.queries.elementStart(n,Z),Z}(S,h,i,n,r):h.data[S];Yi(F,!0);const Z=wb(h,i,F,t);return i[S]=Z,Ul()&&Vc(h,i,Z,F),Qo(Z,i),sc(F)&&(gf(h,i,F),mf(h,F,i)),null!=r&&yf(i,F),vd}function bd(){let t=Hr();const n=gr();return ph()?mh():(t=t.parent,Yi(t,!1)),n.firstCreatePass&&(dc(n,t),oh(t)&&n.queries.elementEnd(t)),bd}function xp(t,n,r){return vd(t,n,r),bd(),xp}let wb=(t,n,r,i)=>(cs(!0),af(n[lr],""));function Cb(){return Cn()}const ya=void 0;var kA=["en",[["a","p"],["AM","PM"],ya],[["AM","PM"],ya,ya],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ya,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ya,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ya,"{1} 'at' {0}",ya],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function RA(t){const r=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===i?1:5}];let bl={};function Dp(t){const n=function NA(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=Db(n);if(r)return r;const i=n.split("-")[0];if(r=Db(i),r)return r;if("en"===i)return kA;throw new Rn(701,!1)}function xb(t){return Dp(t)[_l.PluralCase]}function Db(t){return t in bl||(bl[t]=zr.ng&&zr.ng.common&&zr.ng.common.locales&&zr.ng.common.locales[t]),bl[t]}var _l=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(_l||{});const wl="en-US";let Tb=wl;let Wb=(t,n,r)=>{};function Mp(t,n,r,i){const h=Cn(),S=gr(),F=Hr();return Ip(S,h,h[lr],F,t,n,i),Mp}function Ip(t,n,r,i,h,S,F){const Z=sc(i),De=t.firstCreatePass&&nv(t),Ne=n[Zr],Ye=tv(n);let Dt=!0;if(3&i.type||F){const cn=ii(i,n),Dn=F?F(cn):cn,jn=Ye.length,vn=F?dr=>F(Or(dr[i.index])):i.index;let or=null;if(!F&&Z&&(or=function E2(t,n,r,i){const h=t.cleanup;if(null!=h)for(let S=0;S<h.length-1;S+=2){const F=h[S];if(F===r&&h[S+1]===i){const Z=n[Ys],le=h[S+2];return Z.length>le?Z[le]:null}"string"==typeof F&&(S+=2)}return null}(t,n,h,i.index)),null!==or)(or.__ngLastListenerFn__||or).__ngNextListenerFn__=S,or.__ngLastListenerFn__=S,Dt=!1;else{S=Yb(i,n,Ne,S),Wb(cn,h,S);const dr=r.listen(Dn,h,S);Ye.push(S,dr),De&&De.push(h,vn,jn,jn+1)}}else S=Yb(i,n,Ne,S);const Pt=i.outputs;let jt;if(Dt&&null!==Pt&&(jt=Pt[h])){const cn=jt.length;if(cn)for(let Dn=0;Dn<cn;Dn+=2){const jr=n[jt[Dn]][jt[Dn+1]].subscribe(S),qo=Ye.length;Ye.push(S,jr),De&&De.push(h,i.index,qo,-(qo+1))}}}function qb(t,n,r,i){const h=se(null);try{return us(6,n,r),!1!==r(i)}catch(S){return Wc(t,S),!1}finally{us(7,n,r),se(h)}}function Yb(t,n,r,i){return function h(S){if(S===Function)return i;iu(t.componentOffset>-1?xi(t.index,n):n,5);let Z=qb(n,r,i,S),le=h.__ngNextListenerFn__;for(;le;)Z=qb(n,r,le,S)&&Z,le=le.__ngNextListenerFn__;return Z}}function Jb(t=1){return function eC(t){return(ur.lFrame.contextLView=function km(t,n){for(;t>0;)n=n[Pa],t--;return n}(t,ur.lFrame.contextLView))[Zr]}(t)}function S2(t,n){let r=null;const i=function dm(t){const n=t.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(t);for(let h=0;h<n.length;h++){const S=n[h];if("*"!==S){if(null===i?Zu(t,S,!0):pm(i,S))return h}else r=h}return r}function Zb(t){const n=Cn()[ao][Xo];if(!n.projection){const i=n.projection=function js(t,n){const r=[];for(let i=0;i<t;i++)r.push(n);return r}(t?t.length:1,null),h=i.slice();let S=n.child;for(;null!==S;){if(128!==S.type){const F=t?S2(S,t):0;null!==F&&(h[F]?h[F].projectionNext=S:i[F]=S,h[F]=S)}S=S.next}}}function Qb(t,n=0,r,i,h,S){const F=Cn(),Z=gr(),le=i?t+1:null;null!==le&&Cu(F,Z,le,i,h,S,null,r);const De=ua(Z,er+t,16,null,r||null);null===De.projection&&(De.projection=n),mh();const Ye=!F[oi]||ea();null===F[ao][Xo].projection[De.projection]&&null!==le?function x2(t,n,r){const i=er+r,h=n.data[i],S=t[i],F=ha(S,h.tView.ssrId);Za(S,Ja(t,h,void 0,{dehydratedView:F}),0,ca(h,F))}(F,Z,le):Ye&&32&~De.flags&&function vS(t,n,r){Uy(n[lr],0,n,r,cf(t,r,n),Py(r.parent||n[Xo],r,n))}(Z,F,De)}function Ed(t,n,r,i,h){const S=Cn(),F=cl(S,n,r,i);return F!==cr&&gi(gr(),Qr(),S,t,F,S[lr],h,!1),Ed}function u_(t,n,r,i){!function e0(t,n,r,i){const h=gr();if(h.firstCreatePass){const S=Hr();t0(h,new Yv(n,r,i),S.index),function jD(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(h,t),!(2&~r)&&(h.staticContentQueries=!0)}return Zv(h,Cn(),r)}(t,n,r,i)}function c_(t,n,r){!function Qv(t,n,r){const i=gr();return i.firstCreatePass&&(t0(i,new Yv(t,n,r),-1),!(2&~n)&&(i.staticViewQueries=!0)),Zv(i,Cn(),n)}(t,n,r)}function d_(t){const n=Cn(),r=gr(),i=vh();cc(i+1);const h=qf(r,i);if(t.dirty&&function Bw(t){return!(4&~t[rr])}(n)===!(2&~h.metadata.flags)){if(null===h.matches)t.reset([]);else{const S=n0(n,i);t.reset(S,Tg),t.notifyOnChanges()}return!0}return!1}function h_(){return function Kf(t,n){return t[as].queries[n].queryList}(Cn(),vh())}function f_(t){return function Qs(t,n){return t[n]}(function $m(){return ur.lFrame.contextLView}(),er+t)}function E_(t,n=""){const r=Cn(),i=gr(),h=t+er,S=i.firstCreatePass?ua(i,h,1,n,null):i.data[h],F=S_(i,r,S,n,t);r[h]=F,Ul()&&Vc(i,r,F,S),Yi(S,!1)}let S_=(t,n,r,i,h)=>(cs(!0),function sf(t,n){return t.createText(n)}(n[lr],i));function jp(t){return Sd("",t,""),jp}function Sd(t,n,r){const i=Cn(),h=cl(i,t,n,r);return h!==cr&&Ms(i,Ko(),h),Sd}function Pp(t,n,r,i,h){const S=Cn(),F=dl(S,t,n,r,i,h);return F!==cr&&Ms(S,Ko(),F),Pp}function Rp(t,n,r){a0(n)&&(n=n());const i=Cn();return vo(i,Ji(),n)&&gi(gr(),Qr(),i,t,n,i[lr],r,!1),Rp}function j_(t,n){const r=a0(t);return r&&t.set(n),r}function kp(t,n){const r=Cn(),i=gr(),h=Hr();return Ip(i,r,r[lr],h,t,n),kp}function Np(t,n,r,i,h){if(t=zn(t),Array.isArray(t))for(let S=0;S<t.length;S++)Np(t[S],n,r,i,h);else{const S=gr(),F=Cn(),Z=Hr();let le=qs(t)?t:zn(t.provide);const De=vm(t),Ne=1048575&Z.providerIndexes,Ye=Z.directiveStart,Dt=Z.providerIndexes>>20;if(qs(t)||!t.multi){const Pt=new Bl(De,h,Ya),jt=Fp(le,n,h?Ne:Ne+Dt,Ye);-1===jt?(Th(mc(Z,F),S,le),Lp(S,t,n.length),n.push(le),Z.directiveStart++,Z.directiveEnd++,h&&(Z.providerIndexes+=1048576),r.push(Pt),F.push(Pt)):(r[jt]=Pt,F[jt]=Pt)}else{const Pt=Fp(le,n,Ne+Dt,Ye),jt=Fp(le,n,Ne,Ne+Dt),Dn=jt>=0&&r[jt];if(h&&!Dn||!h&&!(Pt>=0&&r[Pt])){Th(mc(Z,F),S,le);const jn=function z2(t,n,r,i,h){const S=new Bl(t,r,Ya);return S.multi=[],S.index=n,S.componentProviders=0,k_(S,h,i&&!r),S}(h?H2:G2,r.length,h,i,De);!h&&Dn&&(r[jt].providerFactory=jn),Lp(S,t,n.length,0),n.push(le),Z.directiveStart++,Z.directiveEnd++,h&&(Z.providerIndexes+=1048576),r.push(jn),F.push(jn)}else Lp(S,t,Pt>-1?Pt:jt,k_(r[h?jt:Pt],De,!h&&i));!h&&i&&Dn&&r[jt].componentProviders++}}}function Lp(t,n,r,i){const h=qs(n),S=function mw(t){return!!t.useClass}(n);if(h||S){const le=(S?zn(n.useClass):n).prototype.ngOnDestroy;if(le){const De=t.destroyHooks||(t.destroyHooks=[]);if(!h&&n.multi){const Ne=De.indexOf(r);-1===Ne?De.push(r,[i,le]):De[Ne+1].push(i,le)}else De.push(r,le)}}}function k_(t,n,r){return r&&t.componentProviders++,t.multi.push(n)-1}function Fp(t,n,r,i){for(let h=r;h<i;h++)if(n[h]===t)return h;return-1}function G2(t,n,r,i){return Up(this.multi,[])}function H2(t,n,r,i){const h=this.multi;let S;if(this.providerFactory){const F=this.providerFactory.componentProviders,Z=ra(r,r[Nn],this.providerFactory.index,i);S=Z.slice(0,F),Up(h,S);for(let le=F;le<Z.length;le++)S.push(Z[le])}else S=[],Up(h,S);return S}function Up(t,n){for(let r=0;r<t.length;r++)n.push((0,t[r])());return n}function N_(t,n=[]){return r=>{r.providersResolver=(i,h)=>function V2(t,n,r){const i=gr();if(i.firstCreatePass){const h=qi(t);Np(r,i.data,i.blueprint,h,!0),Np(n,i.data,i.blueprint,h,!1)}}(i,h?h(t):t,n)}}let W2=(()=>{var t;class n{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const h=Ks(0,i.type),S=h.length>0?ep([h],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,S)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=Ln({token:t,providedIn:"environment",factory:()=>new t(Zn(Fi))}),n})();function L_(t){ai("NgStandalone"),t.getStandaloneInjector=n=>n.get(W2).getOrCreateStandaloneInjector(t)}function B_(t,n,r){const i=function si(){const t=ur.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}()+t,h=Cn();return h[i]===cr?function ms(t,n,r){return t[n]=r}(h,i,r?n.call(r):n()):function wu(t,n){return t[n]}(h,i)}class a1{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}let l1=(()=>{var t;class n{log(i){console.log(i)}warn(i){console.warn(i)}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const h1=new $n(""),f1=new $n("");let Wp,iI=(()=>{var t;class n{constructor(i,h,S){this._ngZone=i,this.registry=h,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Wp||(function sI(t){Wp=t}(S),S.addToWindow(h)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ro.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(i)||(clearTimeout(h.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,h,S){let F=-1;h&&h>0&&(F=setTimeout(()=>{this._callbacks=this._callbacks.filter(Z=>Z.timeoutId!==F),i()},h)),this._callbacks.push({doneCb:i,timeoutId:F,updateCb:S})}whenStable(i,h,S){if(S&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,h,S),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,h,S){return[]}}return(t=n).\u0275fac=function(i){return new(i||t)(Zn(ro),Zn(p1),Zn(f1))},t.\u0275prov=Ln({token:t,factory:t.\u0275fac}),n})(),p1=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(i,h){this._applications.set(i,h)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,h=!0){var S,F;return null!==(S=null===(F=Wp)||void 0===F?void 0:F.findTestabilityInTree(this,i,h))&&void 0!==S?S:null}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function Xp(t){return!!t&&"function"==typeof t.then}function m1(t){return!!t&&"function"==typeof t.subscribe}const g1=new $n("");let Kp=(()=>{var t;class n{constructor(){var i;this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,S)=>{this.resolve=h,this.reject=S}),this.appInits=null!==(i=kn(g1,{optional:!0}))&&void 0!==i?i:[]}runInitializers(){if(this.initialized)return;const i=[];for(const S of this.appInits){const F=S();if(Xp(F))i.push(F);else if(m1(F)){const Z=new Promise((le,De)=>{F.subscribe({complete:le,error:De})});i.push(Z)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{h()}).catch(S=>{this.reject(S)}),0===i.length&&h(),this.initialized=!0}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const Md=new $n("");function b1(t,n){return Array.isArray(n)?n.reduce(b1,t):{...t,...n}}let ts=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=kn(NC),this.afterRenderEffectManager=kn(ed),this.zonelessEnabled=kn(mu),this.externalTestViews=new Set,this.beforeRender=new ct.B,this.afterTick=new ct.B,this.componentTypes=[],this.components=[],this.isStable=kn(oa).hasPendingTasks.pipe((0,$e.T)(i=>!i)),this._injector=kn(Fi)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,h){const S=i instanceof Rv;if(!this._injector.get(Kp).done)throw!S&&hr(i),new Rn(405,!1);let Z;Z=S?i:this._injector.get(gu).resolveComponentFactory(i),this.componentTypes.push(Z.componentType);const le=function aI(t){return t.isBoundToModule}(Z)?void 0:this._injector.get(fa),Ne=Z.create(Bo.NULL,[],h||Z.selector,le),Ye=Ne.location.nativeElement,Dt=Ne.injector.get(h1,null);return null==Dt||Dt.registerApplication(Ye),Ne.onDestroy(()=>{this.detachView(Ne.hostView),Id(this.components,Ne),null==Dt||Dt.unregisterApplication(Ye)}),this._loadComponent(Ne),Ne}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new Rn(101,!1);const h=se(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(S){this.internalErrorHandler(S)}finally{this._runningTick=!1,se(h),this.afterTick.next()}}detectChangesInAttachedViews(i){let h=null;this._injector.destroyed||(h=this._injector.get(Lf,null,{optional:!0}));let S=0;const F=this.afterRenderEffectManager;for(;S<10;){const Pt=0===S;if(i||!Pt){this.beforeRender.next(Pt);for(let{_lView:jt,notifyErrorHandler:cn}of this._views)uI(jt,cn,Pt,this.zonelessEnabled)}else{var Z,le,De,Ne,Ye,Dt;null===(Z=h)||void 0===Z||null===(le=(De=Z).begin)||void 0===le||le.call(De),null===(Ne=h)||void 0===Ne||null===(Ye=(Dt=Ne).end)||void 0===Ye||Ye.call(Dt)}if(S++,F.executeInternalCallbacks(),!this.allViews.some(({_lView:jt})=>Ll(jt))&&(F.execute(),!this.allViews.some(({_lView:jt})=>Ll(jt))))break}}attachView(i){const h=i;this._views.push(h),h.attachToAppRef(this)}detachView(i){const h=i;Id(this._views,h),h.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const h=this._injector.get(Md,[]);[...this._bootstrapListeners,...h].forEach(S=>S(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Id(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Rn(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function Id(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}function uI(t,n,r,i){(r||Ll(t))&&Xc(t,n,r&&!i?0:1)}class cI{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let dI=(()=>{var t;class n{compileModuleSync(i){return new Qf(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const h=this.compileModuleSync(i),F=Di(Qn(i).declarations).reduce((Z,le)=>{const De=Xt(le);return De&&Z.push(new bu(De)),Z},[]);return new cI(h,F)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),pI=(()=>{var t;class n{constructor(){this.zone=kn(ro),this.changeDetectionScheduler=kn(el),this.applicationRef=kn(ts)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var i;null===(i=this._onMicrotaskEmptySubscription)||void 0===i||i.unsubscribe()}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function qp({ngZoneFactory:t,ignoreChangesOutsideZone:n}){var r;return null!==(r=t)&&void 0!==r||(t=()=>new ro(Yp())),[{provide:ro,useFactory:t},{provide:Ei,multi:!0,useFactory:()=>{const i=kn(pI,{optional:!0});return()=>i.initialize()}},{provide:Ei,multi:!0,useFactory:()=>{const i=kn(gI);return()=>{i.initialize()}}},!0===n?{provide:Pv,useValue:!0}:[]]}function Yp(t){var n,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(r=null==t?void 0:t.runCoalescing)&&void 0!==r&&r}}let gI=(()=>{var t;class n{constructor(){this.subscription=new dt.yU,this.initialized=!1,this.zone=kn(ro),this.pendingTasks=kn(oa)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ro.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var h;ro.assertInAngularZone(),null!==(h=i)&&void 0!==h||(i=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),Lu=(()=>{var t;class n{constructor(){var i;this.appRef=kn(ts),this.taskService=kn(oa),this.ngZone=kn(ro),this.zonelessEnabled=kn(mu),this.disableScheduling=null!==(i=kn(Pv,{optional:!0}))&&void 0!==i&&i,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new dt.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Ph||!this.zoneIsDefined))}notify(i){if(!this.zonelessEnabled&&5===i)return;switch(i){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const h=this.useMicrotaskScheduler?Cg:wg;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=h(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=h(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&ro.isInAngularZone())}tick(i){if(this.runningTick||this.appRef.destroyed)return;const h=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(i)},void 0,this.schedulerTickApplyArgs)}catch(S){throw this.taskService.remove(h),S}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Cg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(h)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var i;if(this.shouldRefreshViews=!1,this.runningTick=!1,null===(i=this.cancelScheduledCallback)||void 0===i||i.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const h=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(h)}}}return(t=n).\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const Od=new $n("",{providedIn:"root",factory:()=>kn(Od,mr.Optional|mr.SkipSelf)||function yI(){return typeof $localize<"u"&&$localize.locale||wl}()}),vI=new $n("",{providedIn:"root",factory:()=>"USD"}),Zp=new $n("");let S1=(()=>{var t;class n{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,h){const S=function kC(t="zone.js",n){return"noop"===t?new Ph:"zone.js"===t?new ro(n):t}(null==h?void 0:h.ngZone,Yp({eventCoalescing:null==h?void 0:h.ngZoneEventCoalescing,runCoalescing:null==h?void 0:h.ngZoneRunCoalescing}));return S.run(()=>{const Z=function QD(t,n,r){return new Zf(t,n,r)}(i.moduleType,this.injector,[...qp({ngZoneFactory:()=>S,ignoreChangesOutsideZone:null==h?void 0:h.ignoreChangesOutsideZone}),{provide:el,useExisting:Lu}]),le=Z.injector.get(fs,null);return S.runOutsideAngular(()=>{const De=S.onError.subscribe({next:Ne=>{le.handleError(Ne)}});Z.onDestroy(()=>{Id(this._modules,Z),De.unsubscribe()})}),function v1(t,n,r){try{const i=r();return Xp(i)?i.catch(h=>{throw n.runOutsideAngular(()=>t.handleError(h)),h}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(le,S,()=>{const De=Z.injector.get(Kp);return De.runInitializers(),De.donePromise.then(()=>(function Ab(t){"string"==typeof t&&(Tb=t.toLowerCase().replace(/_/g,"-"))}(Z.injector.get(Od,wl)||wl),this._moduleDoBootstrap(Z),Z))})})}bootstrapModule(i,h=[]){const S=b1({},h);return function fI(t,n,r){const i=new Qf(r);return Promise.resolve(i)}(0,0,i).then(F=>this.bootstrapModuleFactory(F,S))}_moduleDoBootstrap(i){const h=i.injector.get(ts);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(S=>h.bootstrap(S));else{if(!i.instance.ngDoBootstrap)throw new Rn(-403,!1);i.instance.ngDoBootstrap(h)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Rn(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const i=this._injector.get(Zp,null);i&&(i.forEach(h=>h()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(i){return new(i||t)(Zn(Bo))},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),Bs=null;const x1=new $n("");function D1(t,n,r=[]){const i=`Platform: ${n}`,h=new $n(i);return(S=[])=>{let F=Qp();if(!F||F.injector.get(x1,!1)){const Z=[...r,...S,{provide:h,useValue:!0}];t?t(Z):function _I(t){if(Bs&&!Bs.get(x1,!1))throw new Rn(400,!1);(function y1(){!function X(t){ne=t}(()=>{throw new Rn(600,!1)})})(),Bs=t;const n=t.get(S1);(function A1(t){const n=t.get(Xg,null);null==n||n.forEach(r=>r())})(t)}(function T1(t=[],n){return Bo.create({name:n,providers:[{provide:Zd,useValue:"platform"},{provide:Zp,useValue:new Set([()=>Bs=null])},...t]})}(Z,i))}return function wI(t){const n=Qp();if(!n)throw new Rn(401,!1);return n}()}}function Qp(){var t,n;return null!==(t=null===(n=Bs)||void 0===n?void 0:n.get(S1))&&void 0!==t?t:null}function EI(){}let I1=(()=>{class n{}return n.__NG_ELEMENT_ID__=SI,n})();function SI(t){return function xI(t,n,r){if(Zs(t)&&!r){const i=xi(t.index,n);return new su(i,i)}return 175&t.type?new su(n[ao],n):null}(Hr(),Cn(),!(16&~t))}class R1{constructor(){}supports(n){return sd(n)}create(n){return new II(n)}}const MI=(t,n)=>n;class II{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||MI}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,i=this._removalsHead,h=0,S=null;for(;r||i;){const F=!i||r&&r.currentIndex<N1(i,h,S)?r:i,Z=N1(F,h,S),le=F.currentIndex;if(F===i)h--,i=i._nextRemoved;else if(r=r._next,null==F.previousIndex)h++;else{S||(S=[]);const De=Z-h,Ne=le-h;if(De!=Ne){for(let Dt=0;Dt<De;Dt++){const Pt=Dt<S.length?S[Dt]:S[Dt]=0,jt=Pt+Dt;Ne<=jt&&jt<De&&(S[Dt]=Pt+1)}S[F.previousIndex]=Ne-De}}Z!==le&&n(F,Z,le)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!sd(n))throw new Rn(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let h,S,F,r=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let Z=0;Z<this.length;Z++)S=n[Z],F=this._trackByFn(Z,S),null!==r&&Object.is(r.trackById,F)?(i&&(r=this._verifyReinsertion(r,S,F,Z)),Object.is(r.item,S)||this._addIdentityChange(r,S)):(r=this._mismatch(r,S,F,Z),i=!0),r=r._next}else h=0,function nT(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[Symbol.iterator]();let i;for(;!(i=r.next()).done;)n(i.value)}}(n,Z=>{F=this._trackByFn(h,Z),null!==r&&Object.is(r.trackById,F)?(i&&(r=this._verifyReinsertion(r,Z,F,h)),Object.is(r.item,Z)||this._addIdentityChange(r,Z)):(r=this._mismatch(r,Z,F,h),i=!0),r=r._next,h++}),this.length=h;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,i,h){let S;return null===n?S=this._itTail:(S=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,S,h)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,h))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,S,h)):n=this._addAfter(new OI(r,i),S,h),n}_verifyReinsertion(n,r,i,h){let S=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==S?n=this._reinsertAfter(S,n._prev,h):n.currentIndex!=h&&(n.currentIndex=h,this._addToMoves(n,h)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const h=n._prevRemoved,S=n._nextRemoved;return null===h?this._removalsHead=S:h._nextRemoved=S,null===S?this._removalsTail=h:S._prevRemoved=h,this._insertAfter(n,r,i),this._addToMoves(n,i),n}_moveAfter(n,r,i){return this._unlink(n),this._insertAfter(n,r,i),this._addToMoves(n,i),n}_addAfter(n,r,i){return this._insertAfter(n,r,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,i){const h=null===r?this._itHead:r._next;return n._next=h,n._prev=r,null===h?this._itTail=n:h._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new k1),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,i=n._next;return null===r?this._itHead=i:r._next=i,null===i?this._itTail=r:i._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new k1),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class OI{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===r||r<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const r=n._prevDup,i=n._nextDup;return null===r?this._head=i:r._nextDup=i,null===i?this._tail=r:i._prevDup=r,null===this._head}}class k1{constructor(){this.map=new Map}put(n){const r=n.trackById;let i=this.map.get(r);i||(i=new jI,this.map.set(r,i)),i.add(n)}get(n,r){const h=this.map.get(n);return h?h.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function N1(t,n,r){const i=t.previousIndex;if(null===i)return i;let h=0;return r&&i<r.length&&(h=r[i]),i+n+h}class L1{constructor(){}supports(n){return n instanceof Map||tp(n)}create(){return new PI}}class PI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||tp(n)))throw new Rn(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,h)=>{if(r&&r.key===h)this._maybeAddToChanges(r,i),this._appendAfter=r,r=r._next;else{const S=this._getOrCreateRecordForKey(h,i);r=this._insertBeforeOrAppend(r,S)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let i=r;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const i=n._prev;return r._next=n,r._prev=i,n._prev=r,i&&(i._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const h=this._records.get(n);this._maybeAddToChanges(h,r);const S=h._prev,F=h._next;return S&&(S._next=F),F&&(F._prev=S),h._next=null,h._prev=null,h}const i=new RI(n);return this._records.set(n,i),i.currentValue=r,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(i=>r(n[i],i))}}class RI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function F1(){return new om([new R1])}let om=(()=>{var t;class n{constructor(i){this.factories=i}static create(i,h){if(null!=h){const S=h.factories.slice();i=i.concat(S)}return new n(i)}static extend(i){return{provide:n,useFactory:h=>n.create(i,h||F1()),deps:[[n,new xa,new co]]}}find(i){const h=this.factories.find(S=>S.supports(i));if(null!=h)return h;throw new Rn(901,!1)}}return(t=n).\u0275prov=Ln({token:t,providedIn:"root",factory:F1}),n})();function U1(){return new im([new L1])}let im=(()=>{var t;class n{constructor(i){this.factories=i}static create(i,h){if(h){const S=h.factories.slice();i=i.concat(S)}return new n(i)}static extend(i){return{provide:n,useFactory:h=>n.create(i,h||U1()),deps:[[n,new xa,new co]]}}find(i){const h=this.factories.find(S=>S.supports(i));if(h)return h;throw new Rn(901,!1)}}return(t=n).\u0275prov=Ln({token:t,providedIn:"root",factory:U1}),n})();const LI=D1(null,"core",[]);let FI=(()=>{var t;class n{constructor(i){}}return(t=n).\u0275fac=function(i){return new(i||t)(Zn(ts))},t.\u0275mod=rt({type:t}),t.\u0275inj=Xn({}),n})();const nw=new $n("");function bO(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function wO(t,n){ai("NgSignals");const r=function A(t){const n=Object.create(k);n.computation=t;const r=()=>{if(w(n),y(n),n.value===z)throw n.error;return n.value};return r[o]=n,r}(t);return null!=n&&n.equal&&(r[o].equal=n.equal),r}function CO(t){const n=se(null);try{return t()}finally{se(n)}}function AO(t,n){const r=Xt(t),i=n.elementInjector||tc();return new bu(r).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}function MO(t){const n=Xt(t);if(!n)return null;const r=new bu(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},4341:(En,Kt,me)=>{"use strict";me.d(Kt,{me:()=>m,YN:()=>_t,zX:()=>Go,VZ:()=>So,cz:()=>x,kq:()=>a,vO:()=>st,BC:()=>ln,vS:()=>Yo});var j=me(3953),O=me(177),ge=me(6648),gt=me(1985),o=me(3073),se=me(8750),V=me(9326),v=me(4360),b=me(6450),g=me(8496),C=me(1413),w=me(6354);let s=(()=>{var _e;class ae{constructor(ye,Ge){this._renderer=ye,this._elementRef=Ge,this.onChange=Lt=>{},this.onTouched=()=>{}}setProperty(ye,Ge){this._renderer.setProperty(this._elementRef.nativeElement,ye,Ge)}registerOnTouched(ye){this.onTouched=ye}registerOnChange(ye){this.onChange=ye}setDisabledState(ye){this.setProperty("disabled",ye)}}return(_e=ae).\u0275fac=function(ye){return new(ye||_e)(j.rXU(j.sFG),j.rXU(j.aKT))},_e.\u0275dir=j.FsC({type:_e}),ae})(),l=(()=>{var _e;class ae extends s{}return(_e=ae).\u0275fac=(()=>{let we;return function(Ge){return(we||(we=j.xGo(_e)))(Ge||_e)}})(),_e.\u0275dir=j.FsC({type:_e,features:[j.Vt3]}),ae})();const a=new j.nKC(""),u={provide:a,useExisting:(0,j.Rfq)(()=>m),multi:!0},c=new j.nKC("");let m=(()=>{var _e;class ae extends s{constructor(ye,Ge,Lt){super(ye,Ge),this._compositionMode=Lt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function p(){const _e=(0,O.QT)()?(0,O.QT)().getUserAgent():"";return/android (\d+)/.test(_e.toLowerCase())}())}writeValue(ye){this.setProperty("value",null==ye?"":ye)}_handleInput(ye){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ye)}_compositionStart(){this._composing=!0}_compositionEnd(ye){this._composing=!1,this._compositionMode&&this.onChange(ye)}}return(_e=ae).\u0275fac=function(ye){return new(ye||_e)(j.rXU(j.sFG),j.rXU(j.aKT),j.rXU(c,8))},_e.\u0275dir=j.FsC({type:_e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ye,Ge){1&ye&&j.bIt("input",function(Ht){return Ge._handleInput(Ht.target.value)})("blur",function(){return Ge.onTouched()})("compositionstart",function(){return Ge._compositionStart()})("compositionend",function(Ht){return Ge._compositionEnd(Ht.target.value)})},features:[j.Jv_([u]),j.Vt3]}),ae})();function _(_e){return null==_e||("string"==typeof _e||Array.isArray(_e))&&0===_e.length}const x=new j.nKC(""),I=new j.nKC("");function N(_e){return null}function K(_e){return null!=_e}function ie(_e){return(0,j.jNT)(_e)?(0,ge.H)(_e):_e}function Ae(_e){let ae={};return _e.forEach(we=>{ae=null!=we?{...ae,...we}:ae}),0===Object.keys(ae).length?null:ae}function Y(_e,ae){return ae.map(we=>we(_e))}function Q(_e){return _e.map(ae=>function R(_e){return!_e.validate}(ae)?ae:we=>ae.validate(we))}function Se(_e){return null!=_e?function pe(_e){if(!_e)return null;const ae=_e.filter(K);return 0==ae.length?null:function(we){return Ae(Y(we,ae))}}(Q(_e)):null}function qe(_e){return null!=_e?function Ve(_e){if(!_e)return null;const ae=_e.filter(K);return 0==ae.length?null:function(we){return function y(..._e){const ae=(0,V.ms)(_e),{args:we,keys:ye}=(0,o.D)(_e),Ge=new gt.c(Lt=>{const{length:Ht}=we;if(!Ht)return void Lt.complete();const tn=new Array(Ht);let Bn=Ht,Ln=Ht;for(let Wn=0;Wn<Ht;Wn++){let Xn=!1;(0,se.Tg)(we[Wn]).subscribe((0,v._)(Lt,nr=>{Xn||(Xn=!0,Ln--),tn[Wn]=nr},()=>Bn--,void 0,()=>{(!Bn||!Xn)&&(Ln||Lt.next(ye?(0,g.e)(ye,tn):tn),Lt.complete())}))}});return ae?Ge.pipe((0,b.I)(ae)):Ge}(Y(we,ae).map(ie)).pipe((0,w.T)(Ae))}}(Q(_e)):null}function pt(_e,ae){return null===_e?[ae]:Array.isArray(_e)?[..._e,ae]:[_e,ae]}function dt(_e){return _e?Array.isArray(_e)?_e:[_e]:[]}function $e(_e,ae){return Array.isArray(_e)?_e.includes(ae):_e===ae}function Ze(_e,ae){const we=dt(ae);return dt(_e).forEach(Ge=>{$e(we,Ge)||we.push(Ge)}),we}function Je(_e,ae){return dt(ae).filter(we=>!$e(_e,we))}class at{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ae){this._rawValidators=ae||[],this._composedValidatorFn=Se(this._rawValidators)}_setAsyncValidators(ae){this._rawAsyncValidators=ae||[],this._composedAsyncValidatorFn=qe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ae){this._onDestroyCallbacks.push(ae)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ae=>ae()),this._onDestroyCallbacks=[]}reset(ae=void 0){this.control&&this.control.reset(ae)}hasError(ae,we){return!!this.control&&this.control.hasError(ae,we)}getError(ae,we){return this.control?this.control.getError(ae,we):null}}class Qe extends at{get formDirective(){return null}get path(){return null}}class st extends at{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Tt{constructor(ae){this._cd=ae}get isTouched(){var ae,we,ye;return null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||null===(we=ae._touched)||void 0===we||we.call(ae),!(null===(ye=this._cd)||void 0===ye||null===(ye=ye.control)||void 0===ye||!ye.touched)}get isUntouched(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.untouched)}get isPristine(){var ae,we,ye;return null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||null===(we=ae._pristine)||void 0===we||we.call(ae),!(null===(ye=this._cd)||void 0===ye||null===(ye=ye.control)||void 0===ye||!ye.pristine)}get isDirty(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.dirty)}get isValid(){var ae,we,ye;return null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||null===(we=ae._status)||void 0===we||we.call(ae),!(null===(ye=this._cd)||void 0===ye||null===(ye=ye.control)||void 0===ye||!ye.valid)}get isInvalid(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.invalid)}get isPending(){var ae;return!(null===(ae=this._cd)||void 0===ae||null===(ae=ae.control)||void 0===ae||!ae.pending)}get isSubmitted(){var ae,we,ye;return null===(ae=this._cd)||void 0===ae||null===(we=ae._submitted)||void 0===we||we.call(ae),!(null===(ye=this._cd)||void 0===ye||!ye.submitted)}}let ln=(()=>{var _e;class ae extends Tt{constructor(ye){super(ye)}}return(_e=ae).\u0275fac=function(ye){return new(ye||_e)(j.rXU(st,2))},_e.\u0275dir=j.FsC({type:_e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ye,Ge){2&ye&&j.AVh("ng-untouched",Ge.isUntouched)("ng-touched",Ge.isTouched)("ng-pristine",Ge.isPristine)("ng-dirty",Ge.isDirty)("ng-valid",Ge.isValid)("ng-invalid",Ge.isInvalid)("ng-pending",Ge.isPending)},features:[j.Vt3]}),ae})();const ot="VALID",xt="INVALID",bt="PENDING",At="DISABLED";class un{}class mt extends un{constructor(ae,we){super(),this.value=ae,this.source=we}}class St extends un{constructor(ae,we){super(),this.pristine=ae,this.source=we}}class Jt extends un{constructor(ae,we){super(),this.touched=ae,this.source=we}}class Nt extends un{constructor(ae,we){super(),this.status=ae,this.source=we}}function Vn(_e){return null!=_e&&!Array.isArray(_e)&&"object"==typeof _e}class je{constructor(ae,we){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,j.EWP)(()=>this.statusReactive()),this.statusReactive=(0,j.vPA)(void 0),this._pristine=(0,j.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,j.vPA)(!0),this._touched=(0,j.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,j.vPA)(!1),this._events=new C.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(ae),this._assignAsyncValidators(we)}get validator(){return this._composedValidatorFn}set validator(ae){this._rawValidators=this._composedValidatorFn=ae}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ae){this._rawAsyncValidators=this._composedAsyncValidatorFn=ae}get parent(){return this._parent}get status(){return(0,j.O8t)(this.statusReactive)}set status(ae){(0,j.O8t)(()=>this.statusReactive.set(ae))}get valid(){return this.status===ot}get invalid(){return this.status===xt}get pending(){return this.status==bt}get disabled(){return this.status===At}get enabled(){return this.status!==At}get pristine(){return(0,j.O8t)(this.pristineReactive)}set pristine(ae){(0,j.O8t)(()=>this.pristineReactive.set(ae))}get dirty(){return!this.pristine}get touched(){return(0,j.O8t)(this.touchedReactive)}set touched(ae){(0,j.O8t)(()=>this.touchedReactive.set(ae))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ae){this._assignValidators(ae)}setAsyncValidators(ae){this._assignAsyncValidators(ae)}addValidators(ae){this.setValidators(Ze(ae,this._rawValidators))}addAsyncValidators(ae){this.setAsyncValidators(Ze(ae,this._rawAsyncValidators))}removeValidators(ae){this.setValidators(Je(ae,this._rawValidators))}removeAsyncValidators(ae){this.setAsyncValidators(Je(ae,this._rawAsyncValidators))}hasValidator(ae){return $e(this._rawValidators,ae)}hasAsyncValidator(ae){return $e(this._rawAsyncValidators,ae)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ae={}){var we;const ye=!1===this.touched;this.touched=!0;const Ge=null!==(we=ae.sourceControl)&&void 0!==we?we:this;this._parent&&!ae.onlySelf&&this._parent.markAsTouched({...ae,sourceControl:Ge}),ye&&!1!==ae.emitEvent&&this._events.next(new Jt(!0,Ge))}markAllAsTouched(ae={}){this.markAsTouched({onlySelf:!0,emitEvent:ae.emitEvent,sourceControl:this}),this._forEachChild(we=>we.markAllAsTouched(ae))}markAsUntouched(ae={}){var we;const ye=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Ge=null!==(we=ae.sourceControl)&&void 0!==we?we:this;this._forEachChild(Lt=>{Lt.markAsUntouched({onlySelf:!0,emitEvent:ae.emitEvent,sourceControl:Ge})}),this._parent&&!ae.onlySelf&&this._parent._updateTouched(ae,Ge),ye&&!1!==ae.emitEvent&&this._events.next(new Jt(!1,Ge))}markAsDirty(ae={}){var we;const ye=!0===this.pristine;this.pristine=!1;const Ge=null!==(we=ae.sourceControl)&&void 0!==we?we:this;this._parent&&!ae.onlySelf&&this._parent.markAsDirty({...ae,sourceControl:Ge}),ye&&!1!==ae.emitEvent&&this._events.next(new St(!1,Ge))}markAsPristine(ae={}){var we;const ye=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Ge=null!==(we=ae.sourceControl)&&void 0!==we?we:this;this._forEachChild(Lt=>{Lt.markAsPristine({onlySelf:!0,emitEvent:ae.emitEvent})}),this._parent&&!ae.onlySelf&&this._parent._updatePristine(ae,Ge),ye&&!1!==ae.emitEvent&&this._events.next(new St(!0,Ge))}markAsPending(ae={}){var we;this.status=bt;const ye=null!==(we=ae.sourceControl)&&void 0!==we?we:this;!1!==ae.emitEvent&&(this._events.next(new Nt(this.status,ye)),this.statusChanges.emit(this.status)),this._parent&&!ae.onlySelf&&this._parent.markAsPending({...ae,sourceControl:ye})}disable(ae={}){var we;const ye=this._parentMarkedDirty(ae.onlySelf);this.status=At,this.errors=null,this._forEachChild(Lt=>{Lt.disable({...ae,onlySelf:!0})}),this._updateValue();const Ge=null!==(we=ae.sourceControl)&&void 0!==we?we:this;!1!==ae.emitEvent&&(this._events.next(new mt(this.value,Ge)),this._events.next(new Nt(this.status,Ge)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ae,skipPristineCheck:ye},this),this._onDisabledChange.forEach(Lt=>Lt(!0))}enable(ae={}){const we=this._parentMarkedDirty(ae.onlySelf);this.status=ot,this._forEachChild(ye=>{ye.enable({...ae,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ae.emitEvent}),this._updateAncestors({...ae,skipPristineCheck:we},this),this._onDisabledChange.forEach(ye=>ye(!1))}_updateAncestors(ae,we){this._parent&&!ae.onlySelf&&(this._parent.updateValueAndValidity(ae),ae.skipPristineCheck||this._parent._updatePristine({},we),this._parent._updateTouched({},we))}setParent(ae){this._parent=ae}getRawValue(){return this.value}updateValueAndValidity(ae={}){var we;if(this._setInitialStatus(),this._updateValue(),this.enabled){const Ge=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ot||this.status===bt)&&this._runAsyncValidator(Ge,ae.emitEvent)}const ye=null!==(we=ae.sourceControl)&&void 0!==we?we:this;!1!==ae.emitEvent&&(this._events.next(new mt(this.value,ye)),this._events.next(new Nt(this.status,ye)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ae.onlySelf&&this._parent.updateValueAndValidity({...ae,sourceControl:ye})}_updateTreeValidity(ae={emitEvent:!0}){this._forEachChild(we=>we._updateTreeValidity(ae)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ae.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?At:ot}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ae,we){if(this.asyncValidator){this.status=bt,this._hasOwnPendingAsyncValidator={emitEvent:!1!==we};const ye=ie(this.asyncValidator(this));this._asyncValidationSubscription=ye.subscribe(Ge=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Ge,{emitEvent:we,shouldHaveEmitted:ae})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var ae,we;this._asyncValidationSubscription.unsubscribe();const ye=null!==(ae=null===(we=this._hasOwnPendingAsyncValidator)||void 0===we?void 0:we.emitEvent)&&void 0!==ae&&ae;return this._hasOwnPendingAsyncValidator=null,ye}return!1}setErrors(ae,we={}){this.errors=ae,this._updateControlsErrors(!1!==we.emitEvent,this,we.shouldHaveEmitted)}get(ae){let we=ae;return null==we||(Array.isArray(we)||(we=we.split(".")),0===we.length)?null:we.reduce((ye,Ge)=>ye&&ye._find(Ge),this)}getError(ae,we){const ye=we?this.get(we):this;return ye&&ye.errors?ye.errors[ae]:null}hasError(ae,we){return!!this.getError(ae,we)}get root(){let ae=this;for(;ae._parent;)ae=ae._parent;return ae}_updateControlsErrors(ae,we,ye){this.status=this._calculateStatus(),ae&&this.statusChanges.emit(this.status),(ae||ye)&&this._events.next(new Nt(this.status,we)),this._parent&&this._parent._updateControlsErrors(ae,we,ye)}_initObservables(){this.valueChanges=new j.bkB,this.statusChanges=new j.bkB}_calculateStatus(){return this._allControlsDisabled()?At:this.errors?xt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bt)?bt:this._anyControlsHaveStatus(xt)?xt:ot}_anyControlsHaveStatus(ae){return this._anyControls(we=>we.status===ae)}_anyControlsDirty(){return this._anyControls(ae=>ae.dirty)}_anyControlsTouched(){return this._anyControls(ae=>ae.touched)}_updatePristine(ae,we){const ye=!this._anyControlsDirty(),Ge=this.pristine!==ye;this.pristine=ye,this._parent&&!ae.onlySelf&&this._parent._updatePristine(ae,we),Ge&&this._events.next(new St(this.pristine,we))}_updateTouched(ae={},we){this.touched=this._anyControlsTouched(),this._events.next(new Jt(this.touched,we)),this._parent&&!ae.onlySelf&&this._parent._updateTouched(ae,we)}_registerOnCollectionChange(ae){this._onCollectionChange=ae}_setUpdateStrategy(ae){Vn(ae)&&null!=ae.updateOn&&(this._updateOn=ae.updateOn)}_parentMarkedDirty(ae){return!ae&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ae){return null}_assignValidators(ae){this._rawValidators=Array.isArray(ae)?ae.slice():ae,this._composedValidatorFn=function Mn(_e){return Array.isArray(_e)?Se(_e):_e||null}(this._rawValidators)}_assignAsyncValidators(ae){this._rawAsyncValidators=Array.isArray(ae)?ae.slice():ae,this._composedAsyncValidatorFn=function An(_e){return Array.isArray(_e)?qe(_e):_e||null}(this._rawAsyncValidators)}}const ue=new j.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Pe}),Pe="always";function nt(_e,ae,we=Pe){var ye,Ge;(function He(_e,ae){const we=function We(_e){return _e._rawValidators}(_e);null!==ae.validator?_e.setValidators(pt(we,ae.validator)):"function"==typeof we&&_e.setValidators([we]);const ye=function ct(_e){return _e._rawAsyncValidators}(_e);null!==ae.asyncValidator?_e.setAsyncValidators(pt(ye,ae.asyncValidator)):"function"==typeof ye&&_e.setAsyncValidators([ye]);const Ge=()=>_e.updateValueAndValidity();Ue(ae._rawValidators,Ge),Ue(ae._rawAsyncValidators,Ge)})(_e,ae),ae.valueAccessor.writeValue(_e.value),(_e.disabled||"always"===we)&&(null===(ye=(Ge=ae.valueAccessor).setDisabledState)||void 0===ye||ye.call(Ge,_e.disabled)),function kt(_e,ae){ae.valueAccessor.registerOnChange(we=>{_e._pendingValue=we,_e._pendingChange=!0,_e._pendingDirty=!0,"change"===_e.updateOn&&mn(_e,ae)})}(_e,ae),function Tn(_e,ae){const we=(ye,Ge)=>{ae.valueAccessor.writeValue(ye),Ge&&ae.viewToModelUpdate(ye)};_e.registerOnChange(we),ae._registerOnDestroy(()=>{_e._unregisterOnChange(we)})}(_e,ae),function sn(_e,ae){ae.valueAccessor.registerOnTouched(()=>{_e._pendingTouched=!0,"blur"===_e.updateOn&&_e._pendingChange&&mn(_e,ae),"submit"!==_e.updateOn&&_e.markAsTouched()})}(_e,ae),function lt(_e,ae){if(ae.valueAccessor.setDisabledState){const we=ye=>{ae.valueAccessor.setDisabledState(ye)};_e.registerOnDisabledChange(we),ae._registerOnDestroy(()=>{_e._unregisterOnDisabledChange(we)})}}(_e,ae)}function Ue(_e,ae){_e.forEach(we=>{we.registerOnValidatorChange&&we.registerOnValidatorChange(ae)})}function mn(_e,ae){_e._pendingDirty&&_e.markAsDirty(),_e.setValue(_e._pendingValue,{emitModelToViewChange:!1}),ae.viewToModelUpdate(_e._pendingValue),_e._pendingChange=!1}function Vo(_e,ae){const we=_e.indexOf(ae);we>-1&&_e.splice(we,1)}function oo(_e){return"object"==typeof _e&&null!==_e&&2===Object.keys(_e).length&&"value"in _e&&"disabled"in _e}Promise.resolve();const ci=class extends je{constructor(ae=null,we,ye){super(function bn(_e){return(Vn(_e)?_e.validators:_e)||null}(we),function In(_e,ae){return(Vn(ae)?ae.asyncValidators:_e)||null}(ye,we)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ae),this._setUpdateStrategy(we),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vn(we)&&(we.nonNullable||we.initialValueIsDefault)&&(this.defaultValue=oo(ae)?ae.value:ae)}setValue(ae,we={}){this.value=this._pendingValue=ae,this._onChange.length&&!1!==we.emitModelToViewChange&&this._onChange.forEach(ye=>ye(this.value,!1!==we.emitViewToModelChange)),this.updateValueAndValidity(we)}patchValue(ae,we={}){this.setValue(ae,we)}reset(ae=this.defaultValue,we={}){this._applyFormState(ae),this.markAsPristine(we),this.markAsUntouched(we),this.setValue(this.value,we),this._pendingChange=!1}_updateValue(){}_anyControls(ae){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ae){this._onChange.push(ae)}_unregisterOnChange(ae){Vo(this._onChange,ae)}registerOnDisabledChange(ae){this._onDisabledChange.push(ae)}_unregisterOnDisabledChange(ae){Vo(this._onDisabledChange,ae)}_forEachChild(ae){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ae){oo(ae)?(this.value=this._pendingValue=ae.value,ae.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ae}},mo={provide:st,useExisting:(0,j.Rfq)(()=>Yo)},ti=Promise.resolve();let Yo=(()=>{var _e;class ae extends st{constructor(ye,Ge,Lt,Ht,tn,Bn){super(),this._changeDetectorRef=tn,this.callSetDisabledState=Bn,this.control=new ci,this._registered=!1,this.name="",this.update=new j.bkB,this._parent=ye,this._setValidators(Ge),this._setAsyncValidators(Lt),this.valueAccessor=function eo(_e,ae){if(!ae)return null;let we,ye,Ge;return Array.isArray(ae),ae.forEach(Lt=>{Lt.constructor===m?we=Lt:function Lr(_e){return Object.getPrototypeOf(_e.constructor)===l}(Lt)?ye=Lt:Ge=Lt}),Ge||ye||we||null}(0,Ht)}ngOnChanges(ye){if(this._checkForErrors(),!this._registered||"name"in ye){if(this._registered&&(this._checkName(),this.formDirective)){const Ge=ye.name.previousValue;this.formDirective.removeControl({name:Ge,path:this._getPath(Ge)})}this._setUpControl()}"isDisabled"in ye&&this._updateDisabled(ye),function Er(_e,ae){if(!_e.hasOwnProperty("model"))return!1;const we=_e.model;return!!we.isFirstChange()||!Object.is(ae,we.currentValue)}(ye,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ye){this.viewModel=ye,this.update.emit(ye)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ye){ti.then(()=>{var Ge;this.control.setValue(ye,{emitViewToModelChange:!1}),null===(Ge=this._changeDetectorRef)||void 0===Ge||Ge.markForCheck()})}_updateDisabled(ye){const Ge=ye.isDisabled.currentValue,Lt=0!==Ge&&(0,j.L39)(Ge);ti.then(()=>{var Ht;Lt&&!this.control.disabled?this.control.disable():!Lt&&this.control.disabled&&this.control.enable(),null===(Ht=this._changeDetectorRef)||void 0===Ht||Ht.markForCheck()})}_getPath(ye){return this._parent?function Le(_e,ae){return[...ae.path,_e]}(ye,this._parent):[ye]}}return(_e=ae).\u0275fac=function(ye){return new(ye||_e)(j.rXU(Qe,9),j.rXU(x,10),j.rXU(I,10),j.rXU(a,10),j.rXU(j.gRc,8),j.rXU(ue,8))},_e.\u0275dir=j.FsC({type:_e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[j.Jv_([mo]),j.Vt3,j.OA$]}),ae})();function ho(_e){return"number"==typeof _e?_e:parseFloat(_e)}let Ur=(()=>{var _e;class ae{constructor(){this._validator=N}ngOnChanges(ye){if(this.inputName in ye){const Ge=this.normalizeInput(ye[this.inputName].currentValue);this._enabled=this.enabled(Ge),this._validator=this._enabled?this.createValidator(Ge):N,this._onChange&&this._onChange()}}validate(ye){return this._validator(ye)}registerOnValidatorChange(ye){this._onChange=ye}enabled(ye){return null!=ye}}return(_e=ae).\u0275fac=function(ye){return new(ye||_e)},_e.\u0275dir=j.FsC({type:_e,features:[j.OA$]}),ae})();const Gn={provide:x,useExisting:(0,j.Rfq)(()=>Go),multi:!0};let Go=(()=>{var _e;class ae extends Ur{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=ye=>ho(ye),this.createValidator=ye=>function z(_e){return ae=>{if(_(ae.value)||_(_e))return null;const we=parseFloat(ae.value);return!isNaN(we)&&we>_e?{max:{max:_e,actual:ae.value}}:null}}(ye)}}return(_e=ae).\u0275fac=(()=>{let we;return function(Ge){return(we||(we=j.xGo(_e)))(Ge||_e)}})(),_e.\u0275dir=j.FsC({type:_e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(ye,Ge){2&ye&&j.BMQ("max",Ge._enabled?Ge.max:null)},inputs:{max:"max"},features:[j.Jv_([Gn]),j.Vt3]}),ae})();const Jo={provide:x,useExisting:(0,j.Rfq)(()=>So),multi:!0};let So=(()=>{var _e;class ae extends Ur{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=ye=>ho(ye),this.createValidator=ye=>function P(_e){return ae=>{if(_(ae.value)||_(_e))return null;const we=parseFloat(ae.value);return!isNaN(we)&&we<_e?{min:{min:_e,actual:ae.value}}:null}}(ye)}}return(_e=ae).\u0275fac=(()=>{let we;return function(Ge){return(we||(we=j.xGo(_e)))(Ge||_e)}})(),_e.\u0275dir=j.FsC({type:_e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ye,Ge){2&ye&&j.BMQ("min",Ge._enabled?Ge.min:null)},inputs:{min:"min"},features:[j.Jv_([Jo]),j.Vt3]}),ae})(),E=(()=>{var _e;class ae{}return(_e=ae).\u0275fac=function(ye){return new(ye||_e)},_e.\u0275mod=j.$C({type:_e}),_e.\u0275inj=j.G2t({}),ae})(),_t=(()=>{var _e;class ae{static withConfig(ye){var Ge;return{ngModule:ae,providers:[{provide:ue,useValue:null!==(Ge=ye.callSetDisabledState)&&void 0!==Ge?Ge:Pe}]}}}return(_e=ae).\u0275fac=function(ye){return new(ye||_e)},_e.\u0275mod=j.$C({type:_e}),_e.\u0275inj=j.G2t({imports:[E]}),ae})()},345:(En,Kt,me)=>{"use strict";me.d(Kt,{Bb:()=>dt,hE:()=>Je,sG:()=>qe,up:()=>ze});var j=me(177),O=me(3953);class ge extends j.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class gt extends ge{static makeCurrent(){(0,j.ZD)(new gt)}onAndCancel(ot,xt,bt){return ot.addEventListener(xt,bt),()=>{ot.removeEventListener(xt,bt)}}dispatchEvent(ot,xt){ot.dispatchEvent(xt)}remove(ot){ot.parentNode&&ot.parentNode.removeChild(ot)}createElement(ot,xt){return(xt=xt||this.getDefaultDocument()).createElement(ot)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ot){return ot.nodeType===Node.ELEMENT_NODE}isShadowRoot(ot){return ot instanceof DocumentFragment}getGlobalEventTarget(ot,xt){return"window"===xt?window:"document"===xt?ot:"body"===xt?ot.body:null}getBaseHref(ot){const xt=function se(){return o=o||document.querySelector("base"),o?o.getAttribute("href"):null}();return null==xt?null:function V(et){return new URL(et,document.baseURI).pathname}(xt)}resetBaseElement(){o=null}getUserAgent(){return window.navigator.userAgent}getCookie(ot){return(0,j._b)(document.cookie,ot)}}let o=null,b=(()=>{var et;class ot{build(){return new XMLHttpRequest}}return(et=ot).\u0275fac=function(bt){return new(bt||et)},et.\u0275prov=O.jDH({token:et,factory:et.\u0275fac}),ot})();const g=new O.nKC("");let y=(()=>{var et;class ot{constructor(bt,At){this._zone=At,this._eventNameToPlugin=new Map,bt.forEach(un=>{un.manager=this}),this._plugins=bt.slice().reverse()}addEventListener(bt,At,un){return this._findPluginFor(At).addEventListener(bt,At,un)}getZone(){return this._zone}_findPluginFor(bt){let At=this._eventNameToPlugin.get(bt);if(At)return At;if(At=this._plugins.find(mt=>mt.supports(bt)),!At)throw new O.wOt(5101,!1);return this._eventNameToPlugin.set(bt,At),At}}return(et=ot).\u0275fac=function(bt){return new(bt||et)(O.KVO(g),O.KVO(O.SKi))},et.\u0275prov=O.jDH({token:et,factory:et.\u0275fac}),ot})();class C{constructor(ot){this._doc=ot}}const w="ng-app-id";let s=(()=>{var et;class ot{constructor(bt,At,un,mt={}){this.doc=bt,this.appId=At,this.nonce=un,this.platformId=mt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,j.Vy)(mt),this.resetHostNodes()}addStyles(bt){for(const At of bt)1===this.changeUsageCount(At,1)&&this.onStyleAdded(At)}removeStyles(bt){for(const At of bt)this.changeUsageCount(At,-1)<=0&&this.onStyleRemoved(At)}ngOnDestroy(){const bt=this.styleNodesInDOM;bt&&(bt.forEach(At=>At.remove()),bt.clear());for(const At of this.getAllStyles())this.onStyleRemoved(At);this.resetHostNodes()}addHost(bt){this.hostNodes.add(bt);for(const At of this.getAllStyles())this.addStyleToHost(bt,At)}removeHost(bt){this.hostNodes.delete(bt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(bt){for(const At of this.hostNodes)this.addStyleToHost(At,bt)}onStyleRemoved(bt){var At;const un=this.styleRef;null===(At=un.get(bt))||void 0===At||null===(At=At.elements)||void 0===At||At.forEach(mt=>mt.remove()),un.delete(bt)}collectServerRenderedStyles(){var bt;const At=null===(bt=this.doc.head)||void 0===bt?void 0:bt.querySelectorAll(`style[${w}="${this.appId}"]`);if(null!=At&&At.length){const un=new Map;return At.forEach(mt=>{null!=mt.textContent&&un.set(mt.textContent,mt)}),un}return null}changeUsageCount(bt,At){const un=this.styleRef;if(un.has(bt)){const mt=un.get(bt);return mt.usage+=At,mt.usage}return un.set(bt,{usage:At,elements:[]}),At}getStyleElement(bt,At){const un=this.styleNodesInDOM,mt=null==un?void 0:un.get(At);if((null==mt?void 0:mt.parentNode)===bt)return un.delete(At),mt.removeAttribute(w),mt;{const St=this.doc.createElement("style");return this.nonce&&St.setAttribute("nonce",this.nonce),St.textContent=At,this.platformIsServer&&St.setAttribute(w,this.appId),bt.appendChild(St),St}}addStyleToHost(bt,At){var un;const mt=this.getStyleElement(bt,At),St=this.styleRef,Jt=null===(un=St.get(At))||void 0===un?void 0:un.elements;Jt?Jt.push(mt):St.set(At,{elements:[mt],usage:1})}resetHostNodes(){const bt=this.hostNodes;bt.clear(),bt.add(this.doc.head)}}return(et=ot).\u0275fac=function(bt){return new(bt||et)(O.KVO(j.qQ),O.KVO(O.sZ2),O.KVO(O.BIS,8),O.KVO(O.Agw))},et.\u0275prov=O.jDH({token:et,factory:et.\u0275fac}),ot})();const l={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},a=/%COMP%/g,d="%COMP%",f=`_nghost-${d}`,u=`_ngcontent-${d}`,c=new O.nKC("",{providedIn:"root",factory:()=>!0});function M(et,ot){return ot.map(xt=>xt.replace(a,et))}let x=(()=>{var et;class ot{constructor(bt,At,un,mt,St,Jt,Nt,nn=null){this.eventManager=bt,this.sharedStylesHost=At,this.appId=un,this.removeStylesOnCompDestroy=mt,this.doc=St,this.platformId=Jt,this.ngZone=Nt,this.nonce=nn,this.rendererByCompId=new Map,this.platformIsServer=(0,j.Vy)(Jt),this.defaultRenderer=new I(bt,St,Nt,this.platformIsServer)}createRenderer(bt,At){if(!bt||!At)return this.defaultRenderer;this.platformIsServer&&At.encapsulation===O.gXe.ShadowDom&&(At={...At,encapsulation:O.gXe.Emulated});const un=this.getOrCreateRenderer(bt,At);return un instanceof te?un.applyToHost(bt):un instanceof k&&un.applyStyles(),un}getOrCreateRenderer(bt,At){const un=this.rendererByCompId;let mt=un.get(At.id);if(!mt){const St=this.doc,Jt=this.ngZone,Nt=this.eventManager,nn=this.sharedStylesHost,fn=this.removeStylesOnCompDestroy,bn=this.platformIsServer;switch(At.encapsulation){case O.gXe.Emulated:mt=new te(Nt,nn,At,this.appId,fn,St,Jt,bn);break;case O.gXe.ShadowDom:return new z(Nt,nn,bt,At,St,Jt,this.nonce,bn);default:mt=new k(Nt,nn,At,fn,St,Jt,bn)}un.set(At.id,mt)}return mt}ngOnDestroy(){this.rendererByCompId.clear()}}return(et=ot).\u0275fac=function(bt){return new(bt||et)(O.KVO(y),O.KVO(s),O.KVO(O.sZ2),O.KVO(c),O.KVO(j.qQ),O.KVO(O.Agw),O.KVO(O.SKi),O.KVO(O.BIS))},et.\u0275prov=O.jDH({token:et,factory:et.\u0275fac}),ot})();class I{constructor(ot,xt,bt,At){this.eventManager=ot,this.doc=xt,this.ngZone=bt,this.platformIsServer=At,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(ot,xt){return xt?this.doc.createElementNS(l[xt]||xt,ot):this.doc.createElement(ot)}createComment(ot){return this.doc.createComment(ot)}createText(ot){return this.doc.createTextNode(ot)}appendChild(ot,xt){(P(ot)?ot.content:ot).appendChild(xt)}insertBefore(ot,xt,bt){ot&&(P(ot)?ot.content:ot).insertBefore(xt,bt)}removeChild(ot,xt){ot&&ot.removeChild(xt)}selectRootElement(ot,xt){let bt="string"==typeof ot?this.doc.querySelector(ot):ot;if(!bt)throw new O.wOt(-5104,!1);return xt||(bt.textContent=""),bt}parentNode(ot){return ot.parentNode}nextSibling(ot){return ot.nextSibling}setAttribute(ot,xt,bt,At){if(At){xt=At+":"+xt;const un=l[At];un?ot.setAttributeNS(un,xt,bt):ot.setAttribute(xt,bt)}else ot.setAttribute(xt,bt)}removeAttribute(ot,xt,bt){if(bt){const At=l[bt];At?ot.removeAttributeNS(At,xt):ot.removeAttribute(`${bt}:${xt}`)}else ot.removeAttribute(xt)}addClass(ot,xt){ot.classList.add(xt)}removeClass(ot,xt){ot.classList.remove(xt)}setStyle(ot,xt,bt,At){At&(O.czy.DashCase|O.czy.Important)?ot.style.setProperty(xt,bt,At&O.czy.Important?"important":""):ot.style[xt]=bt}removeStyle(ot,xt,bt){bt&O.czy.DashCase?ot.style.removeProperty(xt):ot.style[xt]=""}setProperty(ot,xt,bt){null!=ot&&(ot[xt]=bt)}setValue(ot,xt){ot.nodeValue=xt}listen(ot,xt,bt){if("string"==typeof ot&&!(ot=(0,j.QT)().getGlobalEventTarget(this.doc,ot)))throw new Error(`Unsupported event target ${ot} for event ${xt}`);return this.eventManager.addEventListener(ot,xt,this.decoratePreventDefault(bt))}decoratePreventDefault(ot){return xt=>{if("__ngUnwrap__"===xt)return ot;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ot(xt)):ot(xt))&&xt.preventDefault()}}}function P(et){return"TEMPLATE"===et.tagName&&void 0!==et.content}class z extends I{constructor(ot,xt,bt,At,un,mt,St,Jt){super(ot,un,mt,Jt),this.sharedStylesHost=xt,this.hostEl=bt,this.shadowRoot=bt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Nt=M(At.id,At.styles);for(const nn of Nt){const fn=document.createElement("style");St&&fn.setAttribute("nonce",St),fn.textContent=nn,this.shadowRoot.appendChild(fn)}}nodeOrShadowRoot(ot){return ot===this.hostEl?this.shadowRoot:ot}appendChild(ot,xt){return super.appendChild(this.nodeOrShadowRoot(ot),xt)}insertBefore(ot,xt,bt){return super.insertBefore(this.nodeOrShadowRoot(ot),xt,bt)}removeChild(ot,xt){return super.removeChild(this.nodeOrShadowRoot(ot),xt)}parentNode(ot){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ot)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class k extends I{constructor(ot,xt,bt,At,un,mt,St,Jt){super(ot,un,mt,St),this.sharedStylesHost=xt,this.removeStylesOnCompDestroy=At,this.styles=Jt?M(Jt,bt.styles):bt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class te extends k{constructor(ot,xt,bt,At,un,mt,St,Jt){const Nt=At+"-"+bt.id;super(ot,xt,bt,un,mt,St,Jt,Nt),this.contentAttr=function m(et){return u.replace(a,et)}(Nt),this.hostAttr=function _(et){return f.replace(a,et)}(Nt)}applyToHost(ot){this.applyStyles(),this.setAttribute(ot,this.hostAttr,"")}createElement(ot,xt){const bt=super.createElement(ot,xt);return super.setAttribute(bt,this.contentAttr,""),bt}}let ne=(()=>{var et;class ot extends C{constructor(bt){super(bt)}supports(bt){return!0}addEventListener(bt,At,un){return bt.addEventListener(At,un,!1),()=>this.removeEventListener(bt,At,un)}removeEventListener(bt,At,un){return bt.removeEventListener(At,un)}}return(et=ot).\u0275fac=function(bt){return new(bt||et)(O.KVO(j.qQ))},et.\u0275prov=O.jDH({token:et,factory:et.\u0275fac}),ot})(),G=(()=>{var et;class ot extends C{constructor(bt){super(bt),this.delegate=(0,O.WQX)(O.zAP,{optional:!0})}supports(bt){return!!this.delegate&&this.delegate.supports(bt)}addEventListener(bt,At,un){return this.delegate.addEventListener(bt,At,un)}removeEventListener(bt,At,un){return this.delegate.removeEventListener(bt,At,un)}}return(et=ot).\u0275fac=function(bt){return new(bt||et)(O.KVO(j.qQ))},et.\u0275prov=O.jDH({token:et,factory:et.\u0275fac}),ot})();const X=["alt","control","meta","shift"],B={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},N={alt:et=>et.altKey,control:et=>et.ctrlKey,meta:et=>et.metaKey,shift:et=>et.shiftKey};let K=(()=>{var et;class ot extends C{constructor(bt){super(bt)}supports(bt){return null!=ot.parseEventName(bt)}addEventListener(bt,At,un){const mt=ot.parseEventName(At),St=ot.eventCallback(mt.fullKey,un,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,j.QT)().onAndCancel(bt,mt.domEventName,St))}static parseEventName(bt){const At=bt.toLowerCase().split("."),un=At.shift();if(0===At.length||"keydown"!==un&&"keyup"!==un)return null;const mt=ot._normalizeKey(At.pop());let St="",Jt=At.indexOf("code");if(Jt>-1&&(At.splice(Jt,1),St="code."),X.forEach(nn=>{const fn=At.indexOf(nn);fn>-1&&(At.splice(fn,1),St+=nn+".")}),St+=mt,0!=At.length||0===mt.length)return null;const Nt={};return Nt.domEventName=un,Nt.fullKey=St,Nt}static matchEventFullKeyCode(bt,At){let un=B[bt.key]||bt.key,mt="";return At.indexOf("code.")>-1&&(un=bt.code,mt="code."),!(null==un||!un)&&(un=un.toLowerCase()," "===un?un="space":"."===un&&(un="dot"),X.forEach(St=>{St!==un&&(0,N[St])(bt)&&(mt+=St+".")}),mt+=un,mt===At)}static eventCallback(bt,At,un){return mt=>{ot.matchEventFullKeyCode(mt,bt)&&un.runGuarded(()=>At(mt))}}static _normalizeKey(bt){return"esc"===bt?"escape":bt}}return(et=ot).\u0275fac=function(bt){return new(bt||et)(O.KVO(j.qQ))},et.\u0275prov=O.jDH({token:et,factory:et.\u0275fac}),ot})();const qe=(0,O.oH4)(O.fpN,"browser",[{provide:O.Agw,useValue:j.AJ},{provide:O.PLl,useValue:function Q(){gt.makeCurrent()},multi:!0},{provide:j.qQ,useFactory:function Se(){return(0,O.TL$)(document),document},deps:[]}]),pt=new O.nKC(""),We=[{provide:O.e01,useClass:class v{addToWindow(ot){O.JZv.getAngularTestability=(bt,At=!0)=>{const un=ot.findTestabilityInTree(bt,At);if(null==un)throw new O.wOt(5103,!1);return un},O.JZv.getAllAngularTestabilities=()=>ot.getAllTestabilities(),O.JZv.getAllAngularRootElements=()=>ot.getAllRootElements(),O.JZv.frameworkStabilizers||(O.JZv.frameworkStabilizers=[]),O.JZv.frameworkStabilizers.push(bt=>{const At=O.JZv.getAllAngularTestabilities();let un=At.length;const mt=function(){un--,0==un&&bt()};At.forEach(St=>{St.whenStable(mt)})})}findTestabilityInTree(ot,xt,bt){if(null==xt)return null;const At=ot.getTestability(xt);return null!=At?At:bt?(0,j.QT)().isShadowRoot(xt)?this.findTestabilityInTree(ot,xt.host,!0):this.findTestabilityInTree(ot,xt.parentElement,!0):null}},deps:[]},{provide:O.WHO,useClass:O.NYb,deps:[O.SKi,O.giA,O.e01]},{provide:O.NYb,useClass:O.NYb,deps:[O.SKi,O.giA,O.e01]}],ct=[{provide:O.H8p,useValue:"root"},{provide:O.zcH,useFactory:function pe(){return new O.zcH},deps:[]},{provide:g,useClass:ne,multi:!0,deps:[j.qQ,O.SKi,O.Agw]},{provide:g,useClass:K,multi:!0,deps:[j.qQ]},{provide:g,useClass:G,multi:!0},x,s,y,{provide:O._9s,useExisting:x},{provide:j.N0,useClass:b,deps:[]},[]];let dt=(()=>{var et;class ot{constructor(bt){}static withServerTransition(bt){return{ngModule:ot,providers:[{provide:O.sZ2,useValue:bt.appId}]}}}return(et=ot).\u0275fac=function(bt){return new(bt||et)(O.KVO(pt,12))},et.\u0275mod=O.$C({type:et}),et.\u0275inj=O.G2t({providers:[...ct,...We],imports:[j.MD,O.Hbi]}),ot})(),Je=(()=>{var et;class ot{constructor(bt){this._doc=bt}getTitle(){return this._doc.title}setTitle(bt){this._doc.title=bt||""}}return(et=ot).\u0275fac=function(bt){return new(bt||et)(O.KVO(j.qQ))},et.\u0275prov=O.jDH({token:et,factory:et.\u0275fac,providedIn:"root"}),ot})(),ze=(()=>{var et;class ot{}return(et=ot).\u0275fac=function(bt){return new(bt||et)},et.\u0275prov=O.jDH({token:et,factory:function(bt){let At=null;return At=bt?new(bt||et):O.KVO(Be),At},providedIn:"root"}),ot})(),Be=(()=>{var et;class ot extends ze{constructor(bt){super(),this._doc=bt}sanitize(bt,At){if(null==At)return null;switch(bt){case O.WPN.NONE:return At;case O.WPN.HTML:return(0,O.ZF7)(At,"HTML")?(0,O.rcV)(At):(0,O.h9k)(this._doc,String(At)).toString();case O.WPN.STYLE:return(0,O.ZF7)(At,"Style")?(0,O.rcV)(At):At;case O.WPN.SCRIPT:if((0,O.ZF7)(At,"Script"))return(0,O.rcV)(At);throw new O.wOt(5200,!1);case O.WPN.URL:return(0,O.ZF7)(At,"URL")?(0,O.rcV)(At):(0,O.$MX)(String(At));case O.WPN.RESOURCE_URL:if((0,O.ZF7)(At,"ResourceURL"))return(0,O.rcV)(At);throw new O.wOt(5201,!1);default:throw new O.wOt(5202,!1)}}bypassSecurityTrustHtml(bt){return(0,O.Kcf)(bt)}bypassSecurityTrustStyle(bt){return(0,O.cWb)(bt)}bypassSecurityTrustScript(bt){return(0,O.UyX)(bt)}bypassSecurityTrustUrl(bt){return(0,O.osQ)(bt)}bypassSecurityTrustResourceUrl(bt){return(0,O.e5t)(bt)}}return(et=ot).\u0275fac=function(bt){return new(bt||et)(O.KVO(j.qQ))},et.\u0275prov=O.jDH({token:et,factory:et.\u0275fac,providedIn:"root"}),ot})()},9858:(En,Kt,me)=>{"use strict";me.d(Kt,{nX:()=>Fn,Zp:()=>Mt,Z:()=>Vr,Xk:()=>We,Kp:()=>Os,b:()=>Zn,Ix:()=>co,Wk:()=>Da,iI:()=>Yu,Sd:()=>Wt});var j=me(3953),O=me(1985),ge=me(8071),o=me(6648),se=me(7673),V=me(4412),v=me(4572);const g=(0,me(1853).L)(re=>function(){re(this),this.name="EmptyError",this.message="no elements in sequence"});var y=me(8793),C=me(9030),w=me(1203),s=me(8810),l=me(983),a=me(17),d=me(1413),f=me(8359),u=me(177),p=me(6354),c=me(5558),m=me(6697),_=me(9326),M=me(9974),I=me(5964),A=me(1397),H=me(4360);function P(re){return(0,M.N)((he,Ce)=>{let de=!1;he.subscribe((0,H._)(Ce,Te=>{de=!0,Ce.next(Te)},()=>{de||Ce.next(re),Ce.complete()}))})}function z(re=k){return(0,M.N)((he,Ce)=>{let de=!1;he.subscribe((0,H._)(Ce,Te=>{de=!0,Ce.next(Te)},()=>de?Ce.complete():Ce.error(re())))})}function k(){return new g}var te=me(3669);function ne(re,he){const Ce=arguments.length>=2;return de=>de.pipe(re?(0,I.p)((Te,rt)=>re(Te,rt,de)):te.D,(0,m.s)(1),Ce?P(he):z(()=>new g))}function G(re,he){return(0,ge.T)(he)?(0,A.Z)(re,he,1):(0,A.Z)(re,1)}var X=me(8141),B=me(8750);function N(re){return(0,M.N)((he,Ce)=>{let rt,de=null,Te=!1;de=he.subscribe((0,H._)(Ce,void 0,void 0,ht=>{rt=(0,B.Tg)(re(ht,N(re)(he))),de?(de.unsubscribe(),de=null,rt.subscribe(Ce)):Te=!0})),Te&&(de.unsubscribe(),de=null,rt.subscribe(Ce))})}function Ae(re){return re<=0?()=>l.w:(0,M.N)((he,Ce)=>{let de=[];he.subscribe((0,H._)(Ce,Te=>{de.push(Te),re<de.length&&de.shift()},()=>{for(const Te of de)Ce.next(Te);Ce.complete()},void 0,()=>{de=null}))})}var R=me(3703);function Q(re){return(0,M.N)((he,Ce)=>{try{he.subscribe(Ce)}finally{Ce.add(re)}})}var pe=me(9898),Se=me(5343),qe=me(6365),pt=me(345);const We="primary",ct=Symbol("RouteTitle");class dt{constructor(he){this.params=he||{}}has(he){return Object.prototype.hasOwnProperty.call(this.params,he)}get(he){if(this.has(he)){const Ce=this.params[he];return Array.isArray(Ce)?Ce[0]:Ce}return null}getAll(he){if(this.has(he)){const Ce=this.params[he];return Array.isArray(Ce)?Ce:[Ce]}return[]}get keys(){return Object.keys(this.params)}}function $e(re){return new dt(re)}function Ze(re,he,Ce){const de=Ce.path.split("/");if(de.length>re.length||"full"===Ce.pathMatch&&(he.hasChildren()||de.length<re.length))return null;const Te={};for(let rt=0;rt<de.length;rt++){const ht=de[rt],rn=re[rt];if(":"===ht[0])Te[ht.substring(1)]=rn;else if(ht!==rn.path)return null}return{consumed:re.slice(0,de.length),posParams:Te}}function at(re,he){const Ce=re?Qe(re):void 0,de=he?Qe(he):void 0;if(!Ce||!de||Ce.length!=de.length)return!1;let Te;for(let rt=0;rt<Ce.length;rt++)if(Te=Ce[rt],!st(re[Te],he[Te]))return!1;return!0}function Qe(re){return[...Object.keys(re),...Object.getOwnPropertySymbols(re)]}function st(re,he){if(Array.isArray(re)&&Array.isArray(he)){if(re.length!==he.length)return!1;const Ce=[...re].sort(),de=[...he].sort();return Ce.every((Te,rt)=>de[rt]===Te)}return re===he}function Tt(re){return re.length>0?re[re.length-1]:null}function on(re){return function gt(re){return!!re&&(re instanceof O.c||(0,ge.T)(re.lift)&&(0,ge.T)(re.subscribe))}(re)?re:(0,j.jNT)(re)?(0,o.H)(Promise.resolve(re)):(0,se.of)(re)}const Ut={exact:function Yt(re,he,Ce){if(!Et(re.segments,he.segments)||!Vt(re.segments,he.segments,Ce)||re.numberOfChildren!==he.numberOfChildren)return!1;for(const de in he.children)if(!re.children[de]||!Yt(re.children[de],he.children[de],Ce))return!1;return!0},subset:It},ln={exact:function yn(re,he){return at(re,he)},subset:function hn(re,he){return Object.keys(he).length<=Object.keys(re).length&&Object.keys(he).every(Ce=>st(re[Ce],he[Ce]))},ignored:()=>!0};function $t(re,he,Ce){return Ut[Ce.paths](re.root,he.root,Ce.matrixParams)&&ln[Ce.queryParams](re.queryParams,he.queryParams)&&!("exact"===Ce.fragment&&re.fragment!==he.fragment)}function It(re,he,Ce){return an(re,he,he.segments,Ce)}function an(re,he,Ce,de){if(re.segments.length>Ce.length){const Te=re.segments.slice(0,Ce.length);return!(!Et(Te,Ce)||he.hasChildren()||!Vt(Te,Ce,de))}if(re.segments.length===Ce.length){if(!Et(re.segments,Ce)||!Vt(re.segments,Ce,de))return!1;for(const Te in he.children)if(!re.children[Te]||!It(re.children[Te],he.children[Te],de))return!1;return!0}{const Te=Ce.slice(0,re.segments.length),rt=Ce.slice(re.segments.length);return!!(Et(re.segments,Te)&&Vt(re.segments,Te,de)&&re.children[We])&&an(re.children[We],he,rt,de)}}function Vt(re,he,Ce){return he.every((de,Te)=>ln[Ce](re[Te].parameters,de.parameters))}class ze{constructor(he=new Be([],{}),Ce={},de=null){this.root=he,this.queryParams=Ce,this.fragment=de}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=$e(this.queryParams)),this._queryParamMap}toString(){return Ft.serialize(this)}}class Be{constructor(he,Ce){this.segments=he,this.children=Ce,this.parent=null,Object.values(Ce).forEach(de=>de.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gt(this)}}class Oe{constructor(he,Ce){this.path=he,this.parameters=Ce}get parameterMap(){var he;return null!==(he=this._parameterMap)&&void 0!==he||(this._parameterMap=$e(this.parameters)),this._parameterMap}toString(){return mt(this)}}function Et(re,he){return re.length===he.length&&re.every((Ce,de)=>Ce.path===he[de].path)}let Wt=(()=>{var re;class he{}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:()=>new dn,providedIn:"root"}),he})();class dn{parse(he){const Ce=new q(he);return new ze(Ce.parseRootSegment(),Ce.parseQueryParams(),Ce.parseFragment())}serialize(he){const Ce=`/${en(he.root,!0)}`,de=function Jt(re){const he=Object.entries(re).map(([Ce,de])=>Array.isArray(de)?de.map(Te=>`${ot(Ce)}=${ot(Te)}`).join("&"):`${ot(Ce)}=${ot(de)}`).filter(Ce=>Ce);return he.length?`?${he.join("&")}`:""}(he.queryParams);return`${Ce}${de}${"string"==typeof he.fragment?`#${function xt(re){return encodeURI(re)}(he.fragment)}`:""}`}}const Ft=new dn;function Gt(re){return re.segments.map(he=>mt(he)).join("/")}function en(re,he){if(!re.hasChildren())return Gt(re);if(he){const Ce=re.children[We]?en(re.children[We],!1):"",de=[];return Object.entries(re.children).forEach(([Te,rt])=>{Te!==We&&de.push(`${Te}:${en(rt,!1)}`)}),de.length>0?`${Ce}(${de.join("//")})`:Ce}{const Ce=function Bt(re,he){let Ce=[];return Object.entries(re.children).forEach(([de,Te])=>{de===We&&(Ce=Ce.concat(he(Te,de)))}),Object.entries(re.children).forEach(([de,Te])=>{de!==We&&(Ce=Ce.concat(he(Te,de)))}),Ce}(re,(de,Te)=>Te===We?[en(re.children[We],!1)]:[`${Te}:${en(de,!1)}`]);return 1===Object.keys(re.children).length&&null!=re.children[We]?`${Gt(re)}/${Ce[0]}`:`${Gt(re)}/(${Ce.join("//")})`}}function et(re){return encodeURIComponent(re).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ot(re){return et(re).replace(/%3B/gi,";")}function bt(re){return et(re).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function At(re){return decodeURIComponent(re)}function un(re){return At(re.replace(/\+/g,"%20"))}function mt(re){return`${bt(re.path)}${function St(re){return Object.entries(re).map(([he,Ce])=>`;${bt(he)}=${bt(Ce)}`).join("")}(re.parameters)}`}const Nt=/^[^\/()?;#]+/;function nn(re){const he=re.match(Nt);return he?he[0]:""}const fn=/^[^\/()?;=#]+/,Mn=/^[^=?&#]+/,An=/^[^&#]+/;class q{constructor(he){this.url=he,this.remaining=he}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Be([],{}):new Be([],this.parseChildren())}parseQueryParams(){const he={};if(this.consumeOptional("?"))do{this.parseQueryParam(he)}while(this.consumeOptional("&"));return he}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const he=[];for(this.peekStartsWith("(")||he.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),he.push(this.parseSegment());let Ce={};this.peekStartsWith("/(")&&(this.capture("/"),Ce=this.parseParens(!0));let de={};return this.peekStartsWith("(")&&(de=this.parseParens(!1)),(he.length>0||Object.keys(Ce).length>0)&&(de[We]=new Be(he,Ce)),de}parseSegment(){const he=nn(this.remaining);if(""===he&&this.peekStartsWith(";"))throw new j.wOt(4009,!1);return this.capture(he),new Oe(At(he),this.parseMatrixParams())}parseMatrixParams(){const he={};for(;this.consumeOptional(";");)this.parseParam(he);return he}parseParam(he){const Ce=function bn(re){const he=re.match(fn);return he?he[0]:""}(this.remaining);if(!Ce)return;this.capture(Ce);let de="";if(this.consumeOptional("=")){const Te=nn(this.remaining);Te&&(de=Te,this.capture(de))}he[At(Ce)]=At(de)}parseQueryParam(he){const Ce=function In(re){const he=re.match(Mn);return he?he[0]:""}(this.remaining);if(!Ce)return;this.capture(Ce);let de="";if(this.consumeOptional("=")){const ht=function Vn(re){const he=re.match(An);return he?he[0]:""}(this.remaining);ht&&(de=ht,this.capture(de))}const Te=un(Ce),rt=un(de);if(he.hasOwnProperty(Te)){let ht=he[Te];Array.isArray(ht)||(ht=[ht],he[Te]=ht),ht.push(rt)}else he[Te]=rt}parseParens(he){const Ce={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const de=nn(this.remaining),Te=this.remaining[de.length];if("/"!==Te&&")"!==Te&&";"!==Te)throw new j.wOt(4010,!1);let rt;de.indexOf(":")>-1?(rt=de.slice(0,de.indexOf(":")),this.capture(rt),this.capture(":")):he&&(rt=We);const ht=this.parseChildren();Ce[rt]=1===Object.keys(ht).length?ht[We]:new Be([],ht),this.consumeOptional("//")}return Ce}peekStartsWith(he){return this.remaining.startsWith(he)}consumeOptional(he){return!!this.peekStartsWith(he)&&(this.remaining=this.remaining.substring(he.length),!0)}capture(he){if(!this.consumeOptional(he))throw new j.wOt(4011,!1)}}function ve(re){return re.segments.length>0?new Be([],{[We]:re}):re}function je(re){const he={};for(const[de,Te]of Object.entries(re.children)){const rt=je(Te);if(de===We&&0===rt.segments.length&&rt.hasChildren())for(const[ht,rn]of Object.entries(rt.children))he[ht]=rn;else(rt.segments.length>0||rt.hasChildren())&&(he[de]=rt)}return function T(re){if(1===re.numberOfChildren&&re.children[We]){const he=re.children[We];return new Be(re.segments.concat(he.segments),he.children)}return re}(new Be(re.segments,he))}function D(re){return re instanceof ze}function U(re){var he;let Ce;const rt=ve(function de(ht){const rn={};for(const Xt of ht.children){const Pn=de(Xt);rn[Xt.outlet]=Pn}const _n=new Be(ht.url,rn);return ht===re&&(Ce=_n),_n}(re.root));return null!==(he=Ce)&&void 0!==he?he:rt}function oe(re,he,Ce,de){let Te=re;for(;Te.parent;)Te=Te.parent;if(0===he.length)return Pe(Te,Te,Te,Ce,de);const rt=function xe(re){if("string"==typeof re[0]&&1===re.length&&"/"===re[0])return new nt(!0,0,re);let he=0,Ce=!1;const de=re.reduce((Te,rt,ht)=>{if("object"==typeof rt&&null!=rt){if(rt.outlets){const rn={};return Object.entries(rt.outlets).forEach(([_n,Xt])=>{rn[_n]="string"==typeof Xt?Xt.split("/"):Xt}),[...Te,{outlets:rn}]}if(rt.segmentPath)return[...Te,rt.segmentPath]}return"string"!=typeof rt?[...Te,rt]:0===ht?(rt.split("/").forEach((rn,_n)=>{0==_n&&"."===rn||(0==_n&&""===rn?Ce=!0:".."===rn?he++:""!=rn&&Te.push(rn))}),Te):[...Te,rt]},[]);return new nt(Ce,he,de)}(he);if(rt.toRoot())return Pe(Te,Te,new Be([],{}),Ce,de);const ht=function lt(re,he,Ce){if(re.isAbsolute)return new Ue(he,!0,0);if(!Ce)return new Ue(he,!1,NaN);if(null===Ce.parent)return new Ue(Ce,!0,0);const de=W(re.commands[0])?0:1;return function He(re,he,Ce){let de=re,Te=he,rt=Ce;for(;rt>Te;){if(rt-=Te,de=de.parent,!de)throw new j.wOt(4005,!1);Te=de.segments.length}return new Ue(de,!1,Te-rt)}(Ce,Ce.segments.length-1+de,re.numberOfDoubleDots)}(rt,Te,re),rn=ht.processChildren?sn(ht.segmentGroup,ht.index,rt.commands):kt(ht.segmentGroup,ht.index,rt.commands);return Pe(Te,ht.segmentGroup,rn,Ce,de)}function W(re){return"object"==typeof re&&null!=re&&!re.outlets&&!re.segmentPath}function ue(re){return"object"==typeof re&&null!=re&&re.outlets}function Pe(re,he,Ce,de,Te){let ht,rt={};de&&Object.entries(de).forEach(([_n,Xt])=>{rt[_n]=Array.isArray(Xt)?Xt.map(Pn=>`${Pn}`):`${Xt}`}),ht=re===he?Ce:Le(re,he,Ce);const rn=ve(je(ht));return new ze(rn,rt,Te)}function Le(re,he,Ce){const de={};return Object.entries(re.children).forEach(([Te,rt])=>{de[Te]=rt===he?Ce:Le(rt,he,Ce)}),new Be(re.segments,de)}class nt{constructor(he,Ce,de){if(this.isAbsolute=he,this.numberOfDoubleDots=Ce,this.commands=de,he&&de.length>0&&W(de[0]))throw new j.wOt(4003,!1);const Te=de.find(ue);if(Te&&Te!==Tt(de))throw new j.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ue{constructor(he,Ce,de){this.segmentGroup=he,this.processChildren=Ce,this.index=de}}function kt(re,he,Ce){var de;if(null!==(de=re)&&void 0!==de||(re=new Be([],{})),0===re.segments.length&&re.hasChildren())return sn(re,he,Ce);const Te=function mn(re,he,Ce){let de=0,Te=he;const rt={match:!1,pathIndex:0,commandIndex:0};for(;Te<re.segments.length;){if(de>=Ce.length)return rt;const ht=re.segments[Te],rn=Ce[de];if(ue(rn))break;const _n=`${rn}`,Xt=de<Ce.length-1?Ce[de+1]:null;if(Te>0&&void 0===_n)break;if(_n&&Xt&&"object"==typeof Xt&&void 0===Xt.outlets){if(!Nr(_n,Xt,ht))return rt;de+=2}else{if(!Nr(_n,{},ht))return rt;de++}Te++}return{match:!0,pathIndex:Te,commandIndex:de}}(re,he,Ce),rt=Ce.slice(Te.commandIndex);if(Te.match&&Te.pathIndex<re.segments.length){const ht=new Be(re.segments.slice(0,Te.pathIndex),{});return ht.children[We]=new Be(re.segments.slice(Te.pathIndex),re.children),sn(ht,0,rt)}return Te.match&&0===rt.length?new Be(re.segments,{}):Te.match&&!re.hasChildren()?Tn(re,he,Ce):Te.match?sn(re,0,rt):Tn(re,he,Ce)}function sn(re,he,Ce){if(0===Ce.length)return new Be(re.segments,{});{const de=function yt(re){return ue(re[0])?re[0].outlets:{[We]:re}}(Ce),Te={};if(Object.keys(de).some(rt=>rt!==We)&&re.children[We]&&1===re.numberOfChildren&&0===re.children[We].segments.length){const rt=sn(re.children[We],he,Ce);return new Be(re.segments,rt.children)}return Object.entries(de).forEach(([rt,ht])=>{"string"==typeof ht&&(ht=[ht]),null!==ht&&(Te[rt]=kt(re.children[rt],he,ht))}),Object.entries(re.children).forEach(([rt,ht])=>{void 0===de[rt]&&(Te[rt]=ht)}),new Be(re.segments,Te)}}function Tn(re,he,Ce){const de=re.segments.slice(0,he);let Te=0;for(;Te<Ce.length;){const rt=Ce[Te];if(ue(rt)){const _n=Kn(rt.outlets);return new Be(de,_n)}if(0===Te&&W(Ce[0])){de.push(new Oe(re.segments[he].path,tr(Ce[0]))),Te++;continue}const ht=ue(rt)?rt.outlets[We]:`${rt}`,rn=Te<Ce.length-1?Ce[Te+1]:null;ht&&rn&&W(rn)?(de.push(new Oe(ht,tr(rn))),Te+=2):(de.push(new Oe(ht,{})),Te++)}return new Be(de,{})}function Kn(re){const he={};return Object.entries(re).forEach(([Ce,de])=>{"string"==typeof de&&(de=[de]),null!==de&&(he[Ce]=Tn(new Be([],{}),0,de))}),he}function tr(re){const he={};return Object.entries(re).forEach(([Ce,de])=>he[Ce]=`${de}`),he}function Nr(re,he,Ce){return re==Ce.path&&at(he,Ce.parameters)}const Dr="imperative";var Jn=function(re){return re[re.NavigationStart=0]="NavigationStart",re[re.NavigationEnd=1]="NavigationEnd",re[re.NavigationCancel=2]="NavigationCancel",re[re.NavigationError=3]="NavigationError",re[re.RoutesRecognized=4]="RoutesRecognized",re[re.ResolveStart=5]="ResolveStart",re[re.ResolveEnd=6]="ResolveEnd",re[re.GuardsCheckStart=7]="GuardsCheckStart",re[re.GuardsCheckEnd=8]="GuardsCheckEnd",re[re.RouteConfigLoadStart=9]="RouteConfigLoadStart",re[re.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",re[re.ChildActivationStart=11]="ChildActivationStart",re[re.ChildActivationEnd=12]="ChildActivationEnd",re[re.ActivationStart=13]="ActivationStart",re[re.ActivationEnd=14]="ActivationEnd",re[re.Scroll=15]="Scroll",re[re.NavigationSkipped=16]="NavigationSkipped",re}(Jn||{});class yr{constructor(he,Ce){this.id=he,this.url=Ce}}class Vr extends yr{constructor(he,Ce,de="imperative",Te=null){super(he,Ce),this.type=Jn.NavigationStart,this.navigationTrigger=de,this.restoredState=Te}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Er extends yr{constructor(he,Ce,de){super(he,Ce),this.urlAfterRedirects=de,this.type=Jn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Lr=function(re){return re[re.Redirect=0]="Redirect",re[re.SupersededByNewNavigation=1]="SupersededByNewNavigation",re[re.NoDataFromResolver=2]="NoDataFromResolver",re[re.GuardRejected=3]="GuardRejected",re}(Lr||{}),To=function(re){return re[re.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",re[re.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",re}(To||{});class eo extends yr{constructor(he,Ce,de,Te){super(he,Ce),this.reason=de,this.code=Te,this.type=Jn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wo extends yr{constructor(he,Ce,de,Te){super(he,Ce),this.reason=de,this.code=Te,this.type=Jn.NavigationSkipped}}class ko extends yr{constructor(he,Ce,de,Te){super(he,Ce),this.error=de,this.target=Te,this.type=Jn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class No extends yr{constructor(he,Ce,de,Te){super(he,Ce),this.urlAfterRedirects=de,this.state=Te,this.type=Jn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $o extends yr{constructor(he,Ce,de,Te){super(he,Ce),this.urlAfterRedirects=de,this.state=Te,this.type=Jn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wr extends yr{constructor(he,Ce,de,Te,rt){super(he,Ce),this.urlAfterRedirects=de,this.state=Te,this.shouldActivate=rt,this.type=Jn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vo extends yr{constructor(he,Ce,de,Te){super(he,Ce),this.urlAfterRedirects=de,this.state=Te,this.type=Jn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oo extends yr{constructor(he,Ce,de,Te){super(he,Ce),this.urlAfterRedirects=de,this.state=Te,this.type=Jn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ci{constructor(he){this.route=he,this.type=Jn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vi{constructor(he){this.route=he,this.type=Jn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class be{constructor(he){this.snapshot=he,this.type=Jn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xe{constructor(he){this.snapshot=he,this.type=Jn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ft{constructor(he){this.snapshot=he,this.type=Jn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ee{constructor(he){this.snapshot=he,this.type=Jn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vt{constructor(he,Ce,de){this.routerEvent=he,this.position=Ce,this.anchor=de,this.type=Jn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Zt{}class fr{constructor(he,Ce){this.url=he,this.navigationBehaviorOptions=Ce}}function Yr(re){return re.outlet||We}function Fe(re){var he;if(!re)return null;if(null!==(he=re.routeConfig)&&void 0!==he&&he._injector)return re.routeConfig._injector;for(let Ce=re.parent;Ce;Ce=Ce.parent){const de=Ce.routeConfig;if(null!=de&&de._loadedInjector)return de._loadedInjector;if(null!=de&&de._injector)return de._injector}return null}class it{get injector(){var he,Ce;return null!==(he=Fe(null===(Ce=this.route)||void 0===Ce?void 0:Ce.snapshot))&&void 0!==he?he:this.rootInjector}set injector(he){}constructor(he){this.rootInjector=he,this.outlet=null,this.route=null,this.children=new Mt(this.rootInjector),this.attachRef=null}}let Mt=(()=>{var re;class he{constructor(de){this.rootInjector=de,this.contexts=new Map}onChildOutletCreated(de,Te){const rt=this.getOrCreateContext(de);rt.outlet=Te,this.contexts.set(de,rt)}onChildOutletDestroyed(de){const Te=this.getContext(de);Te&&(Te.outlet=null,Te.attachRef=null)}onOutletDeactivated(){const de=this.contexts;return this.contexts=new Map,de}onOutletReAttached(de){this.contexts=de}getOrCreateContext(de){let Te=this.getContext(de);return Te||(Te=new it(this.rootInjector),this.contexts.set(de,Te)),Te}getContext(de){return this.contexts.get(de)||null}}return(re=he).\u0275fac=function(de){return new(de||re)(j.KVO(j.uvJ))},re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),he})();class Rt{constructor(he){this._root=he}get root(){return this._root.value}parent(he){const Ce=this.pathFromRoot(he);return Ce.length>1?Ce[Ce.length-2]:null}children(he){const Ce=Qt(he,this._root);return Ce?Ce.children.map(de=>de.value):[]}firstChild(he){const Ce=Qt(he,this._root);return Ce&&Ce.children.length>0?Ce.children[0].value:null}siblings(he){const Ce=qt(he,this._root);return Ce.length<2?[]:Ce[Ce.length-2].children.map(Te=>Te.value).filter(Te=>Te!==he)}pathFromRoot(he){return qt(he,this._root).map(Ce=>Ce.value)}}function Qt(re,he){if(re===he.value)return he;for(const Ce of he.children){const de=Qt(re,Ce);if(de)return de}return null}function qt(re,he){if(re===he.value)return[he];for(const Ce of he.children){const de=qt(re,Ce);if(de.length)return de.unshift(he),de}return[]}class gn{constructor(he,Ce){this.value=he,this.children=Ce}toString(){return`TreeNode(${this.value})`}}function wn(re){const he={};return re&&re.children.forEach(Ce=>he[Ce.value.outlet]=Ce),he}class Sn extends Rt{constructor(he,Ce){super(he),this.snapshot=Ce,br(this,he)}toString(){return this.snapshot.toString()}}function xn(re){const he=function Un(re){const rt=new Yn([],{},{},"",{},We,re,null,{});return new pr("",new gn(rt,[]))}(re),Ce=new V.t([new Oe("",{})]),de=new V.t({}),Te=new V.t({}),rt=new V.t({}),ht=new V.t(""),rn=new Fn(Ce,de,rt,ht,Te,We,re,he.root);return rn.snapshot=he.root,new Sn(new gn(rn,[]),he)}class Fn{constructor(he,Ce,de,Te,rt,ht,rn,_n){var Xt,Pn;this.urlSubject=he,this.paramsSubject=Ce,this.queryParamsSubject=de,this.fragmentSubject=Te,this.dataSubject=rt,this.outlet=ht,this.component=rn,this._futureSnapshot=_n,this.title=null!==(Xt=null===(Pn=this.dataSubject)||void 0===Pn?void 0:Pn.pipe((0,p.T)(qn=>qn[ct])))&&void 0!==Xt?Xt:(0,se.of)(void 0),this.url=he,this.params=Ce,this.queryParams=de,this.fragment=Te,this.data=rt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var he;return null!==(he=this._paramMap)&&void 0!==he||(this._paramMap=this.params.pipe((0,p.T)(Ce=>$e(Ce)))),this._paramMap}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=this.queryParams.pipe((0,p.T)(Ce=>$e(Ce)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hn(re,he,Ce="emptyOnly"){var de;let Te;const{routeConfig:rt}=re;var ht;return Te=null===he||"always"!==Ce&&""!==(null==rt?void 0:rt.path)&&(he.component||null!==(de=he.routeConfig)&&void 0!==de&&de.loadComponent)?{params:{...re.params},data:{...re.data},resolve:{...re.data,...null!==(ht=re._resolvedData)&&void 0!==ht?ht:{}}}:{params:{...he.params,...re.params},data:{...he.data,...re.data},resolve:{...re.data,...he.data,...null==rt?void 0:rt.data,...re._resolvedData}},rt&&Rn(rt)&&(Te.resolve[ct]=rt.title),Te}class Yn{get title(){var he;return null===(he=this.data)||void 0===he?void 0:he[ct]}constructor(he,Ce,de,Te,rt,ht,rn,_n,Xt){this.url=he,this.params=Ce,this.queryParams=de,this.fragment=Te,this.data=rt,this.outlet=ht,this.component=rn,this.routeConfig=_n,this._resolve=Xt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var he;return null!==(he=this._paramMap)&&void 0!==he||(this._paramMap=$e(this.params)),this._paramMap}get queryParamMap(){var he;return null!==(he=this._queryParamMap)&&void 0!==he||(this._queryParamMap=$e(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(de=>de.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pr extends Rt{constructor(he,Ce){super(Ce),this.url=he,br(this,Ce)}toString(){return _r(this._root)}}function br(re,he){he.value._routerState=re,he.children.forEach(Ce=>br(re,Ce))}function _r(re){const he=re.children.length>0?` { ${re.children.map(_r).join(", ")} } `:"";return`${re.value}${he}`}function Fr(re){if(re.snapshot){const he=re.snapshot,Ce=re._futureSnapshot;re.snapshot=Ce,at(he.queryParams,Ce.queryParams)||re.queryParamsSubject.next(Ce.queryParams),he.fragment!==Ce.fragment&&re.fragmentSubject.next(Ce.fragment),at(he.params,Ce.params)||re.paramsSubject.next(Ce.params),function Je(re,he){if(re.length!==he.length)return!1;for(let Ce=0;Ce<re.length;++Ce)if(!at(re[Ce],he[Ce]))return!1;return!0}(he.url,Ce.url)||re.urlSubject.next(Ce.url),at(he.data,Ce.data)||re.dataSubject.next(Ce.data)}else re.snapshot=re._futureSnapshot,re.dataSubject.next(re._futureSnapshot.data)}function kr(re,he){const Ce=at(re.params,he.params)&&function Ke(re,he){return Et(re,he)&&re.every((Ce,de)=>at(Ce.parameters,he[de].parameters))}(re.url,he.url);return Ce&&!(!re.parent!=!he.parent)&&(!re.parent||kr(re.parent,he.parent))}function Rn(re){return"string"==typeof re.title||null===re.title}let go=(()=>{var re;class he{constructor(){this.activated=null,this._activatedRoute=null,this.name=We,this.activateEvents=new j.bkB,this.deactivateEvents=new j.bkB,this.attachEvents=new j.bkB,this.detachEvents=new j.bkB,this.parentContexts=(0,j.WQX)(Mt),this.location=(0,j.WQX)(j.c1b),this.changeDetector=(0,j.WQX)(j.gRc),this.inputBinder=(0,j.WQX)(Pr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(de){if(de.name){const{firstChange:Te,previousValue:rt}=de.name;if(Te)return;this.isTrackedInParentContexts(rt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(rt)),this.initializeOutletWithName()}}ngOnDestroy(){var de;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(de=this.inputBinder)||void 0===de||de.unsubscribeFromRouteData(this)}isTrackedInParentContexts(de){var Te;return(null===(Te=this.parentContexts.getContext(de))||void 0===Te?void 0:Te.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const de=this.parentContexts.getContext(this.name);null!=de&&de.route&&(de.attachRef?this.attach(de.attachRef,de.route):this.activateWith(de.route,de.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j.wOt(4012,!1);this.location.detach();const de=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(de.instance),de}attach(de,Te){var rt;this.activated=de,this._activatedRoute=Te,this.location.insert(de.hostView),null===(rt=this.inputBinder)||void 0===rt||rt.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(de.instance)}deactivate(){if(this.activated){const de=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(de)}}activateWith(de,Te){var rt;if(this.isActivated)throw new j.wOt(4013,!1);this._activatedRoute=de;const ht=this.location,_n=de.snapshot.component,Xt=this.parentContexts.getOrCreateContext(this.name).children,Pn=new Lo(de,Xt,ht.injector);this.activated=ht.createComponent(_n,{index:ht.length,injector:Pn,environmentInjector:Te}),this.changeDetector.markForCheck(),null===(rt=this.inputBinder)||void 0===rt||rt.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275dir=j.FsC({type:re,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[j.OA$]}),he})();class Lo{__ngOutletInjector(he){return new Lo(this.route,this.childContexts,he)}constructor(he,Ce,de){this.route=he,this.childContexts=Ce,this.parent=de}get(he,Ce){return he===Fn?this.route:he===Mt?this.childContexts:this.parent.get(he,Ce)}}const Pr=new j.nKC("");let Oi=(()=>{var re;class he{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(de){this.unsubscribeFromRouteData(de),this.subscribeToRouteData(de)}unsubscribeFromRouteData(de){var Te;null===(Te=this.outletDataSubscriptions.get(de))||void 0===Te||Te.unsubscribe(),this.outletDataSubscriptions.delete(de)}subscribeToRouteData(de){const{activatedRoute:Te}=de,rt=(0,v.z)([Te.queryParams,Te.params,Te.data]).pipe((0,c.n)(([ht,rn,_n],Xt)=>(_n={...ht,...rn,..._n},0===Xt?(0,se.of)(_n):Promise.resolve(_n)))).subscribe(ht=>{if(!de.isActivated||!de.activatedComponentRef||de.activatedRoute!==Te||null===Te.component)return void this.unsubscribeFromRouteData(de);const rn=(0,j.HJs)(Te.component);if(rn)for(const{templateName:_n}of rn.inputs)de.activatedComponentRef.setInput(_n,ht[_n]);else this.unsubscribeFromRouteData(de)});this.outletDataSubscriptions.set(de,rt)}}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac}),he})();function ho(re,he,Ce){if(Ce&&re.shouldReuseRoute(he.value,Ce.value.snapshot)){const de=Ce.value;de._futureSnapshot=he.value;const Te=function Ur(re,he,Ce){return he.children.map(de=>{for(const Te of Ce.children)if(re.shouldReuseRoute(de.value,Te.value.snapshot))return ho(re,de,Te);return ho(re,de)})}(re,he,Ce);return new gn(de,Te)}{if(re.shouldAttach(he.value)){const rt=re.retrieve(he.value);if(null!==rt){const ht=rt.route;return ht.value._futureSnapshot=he.value,ht.children=he.children.map(rn=>ho(re,rn)),ht}}const de=function Gn(re){return new Fn(new V.t(re.url),new V.t(re.params),new V.t(re.queryParams),new V.t(re.fragment),new V.t(re.data),re.outlet,re.component,re)}(he.value),Te=he.children.map(rt=>ho(re,rt));return new gn(de,Te)}}class Go{constructor(he,Ce){this.redirectTo=he,this.navigationBehaviorOptions=Ce}}const Jo="ngNavigationCancelingError";function So(re,he){const{redirectTo:Ce,navigationBehaviorOptions:de}=D(he)?{redirectTo:he,navigationBehaviorOptions:void 0}:he,Te=ji(!1,Lr.Redirect);return Te.url=Ce,Te.navigationBehaviorOptions=de,Te}function ji(re,he){const Ce=new Error(`NavigationCancelingError: ${re||""}`);return Ce[Jo]=!0,Ce.cancellationCode=he,Ce}function Sr(re){return!!re&&re[Jo]}class Mo{constructor(he,Ce,de,Te,rt){this.routeReuseStrategy=he,this.futureState=Ce,this.currState=de,this.forwardEvent=Te,this.inputBindingEnabled=rt}activate(he){const Ce=this.futureState._root,de=this.currState?this.currState._root:null;this.deactivateChildRoutes(Ce,de,he),Fr(this.futureState.root),this.activateChildRoutes(Ce,de,he)}deactivateChildRoutes(he,Ce,de){const Te=wn(Ce);he.children.forEach(rt=>{const ht=rt.value.outlet;this.deactivateRoutes(rt,Te[ht],de),delete Te[ht]}),Object.values(Te).forEach(rt=>{this.deactivateRouteAndItsChildren(rt,de)})}deactivateRoutes(he,Ce,de){const Te=he.value,rt=Ce?Ce.value:null;if(Te===rt)if(Te.component){const ht=de.getContext(Te.outlet);ht&&this.deactivateChildRoutes(he,Ce,ht.children)}else this.deactivateChildRoutes(he,Ce,de);else rt&&this.deactivateRouteAndItsChildren(Ce,de)}deactivateRouteAndItsChildren(he,Ce){he.value.component&&this.routeReuseStrategy.shouldDetach(he.value.snapshot)?this.detachAndStoreRouteSubtree(he,Ce):this.deactivateRouteAndOutlet(he,Ce)}detachAndStoreRouteSubtree(he,Ce){const de=Ce.getContext(he.value.outlet),Te=de&&he.value.component?de.children:Ce,rt=wn(he);for(const ht of Object.values(rt))this.deactivateRouteAndItsChildren(ht,Te);if(de&&de.outlet){const ht=de.outlet.detach(),rn=de.children.onOutletDeactivated();this.routeReuseStrategy.store(he.value.snapshot,{componentRef:ht,route:he,contexts:rn})}}deactivateRouteAndOutlet(he,Ce){const de=Ce.getContext(he.value.outlet),Te=de&&he.value.component?de.children:Ce,rt=wn(he);for(const ht of Object.values(rt))this.deactivateRouteAndItsChildren(ht,Te);de&&(de.outlet&&(de.outlet.deactivate(),de.children.onOutletDeactivated()),de.attachRef=null,de.route=null)}activateChildRoutes(he,Ce,de){const Te=wn(Ce);he.children.forEach(rt=>{this.activateRoutes(rt,Te[rt.value.outlet],de),this.forwardEvent(new Ee(rt.value.snapshot))}),he.children.length&&this.forwardEvent(new Xe(he.value.snapshot))}activateRoutes(he,Ce,de){const Te=he.value,rt=Ce?Ce.value:null;if(Fr(Te),Te===rt)if(Te.component){const ht=de.getOrCreateContext(Te.outlet);this.activateChildRoutes(he,Ce,ht.children)}else this.activateChildRoutes(he,Ce,de);else if(Te.component){const ht=de.getOrCreateContext(Te.outlet);if(this.routeReuseStrategy.shouldAttach(Te.snapshot)){const rn=this.routeReuseStrategy.retrieve(Te.snapshot);this.routeReuseStrategy.store(Te.snapshot,null),ht.children.onOutletReAttached(rn.contexts),ht.attachRef=rn.componentRef,ht.route=rn.route.value,ht.outlet&&ht.outlet.attach(rn.componentRef,rn.route.value),Fr(rn.route.value),this.activateChildRoutes(he,null,ht.children)}else ht.attachRef=null,ht.route=Te,ht.outlet&&ht.outlet.activateWith(Te,ht.injector),this.activateChildRoutes(he,null,ht.children)}else this.activateChildRoutes(he,null,de)}}class wr{constructor(he){this.path=he,this.route=this.path[this.path.length-1]}}class Pi{constructor(he,Ce){this.component=he,this.route=Ce}}function Xr(re,he,Ce){const de=re._root;return wi(de,he?he._root:null,Ce,[de.value])}function _i(re,he){const Ce=Symbol(),de=he.get(re,Ce);return de===Ce?"function"!=typeof re||(0,j.LfX)(re)?he.get(re):re:de}function wi(re,he,Ce,de,Te={canDeactivateChecks:[],canActivateChecks:[]}){const rt=wn(he);return re.children.forEach(ht=>{(function Gi(re,he,Ce,de,Te={canDeactivateChecks:[],canActivateChecks:[]}){const rt=re.value,ht=he?he.value:null,rn=Ce?Ce.getContext(re.value.outlet):null;if(ht&&rt.routeConfig===ht.routeConfig){const _n=function zn(re,he,Ce){if("function"==typeof Ce)return Ce(re,he);switch(Ce){case"pathParamsChange":return!Et(re.url,he.url);case"pathParamsOrQueryParamsChange":return!Et(re.url,he.url)||!at(re.queryParams,he.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kr(re,he)||!at(re.queryParams,he.queryParams);default:return!kr(re,he)}}(ht,rt,rt.routeConfig.runGuardsAndResolvers);_n?Te.canActivateChecks.push(new wr(de)):(rt.data=ht.data,rt._resolvedData=ht._resolvedData),wi(re,he,rt.component?rn?rn.children:null:Ce,de,Te),_n&&rn&&rn.outlet&&rn.outlet.isActivated&&Te.canDeactivateChecks.push(new Pi(rn.outlet.component,ht))}else ht&&Ho(he,rn,Te),Te.canActivateChecks.push(new wr(de)),wi(re,null,rt.component?rn?rn.children:null:Ce,de,Te)})(ht,rt[ht.value.outlet],Ce,de.concat([ht.value]),Te),delete rt[ht.value.outlet]}),Object.entries(rt).forEach(([ht,rn])=>Ho(rn,Ce.getContext(ht),Te)),Te}function Ho(re,he,Ce){const de=wn(re),Te=re.value;Object.entries(de).forEach(([rt,ht])=>{Ho(ht,Te.component?he?he.children.getContext(rt):null:he,Ce)}),Ce.canDeactivateChecks.push(new Pi(Te.component&&he&&he.outlet&&he.outlet.isActivated?he.outlet.component:null,Te))}function E(re){return"function"==typeof re}function tt(re){return re instanceof g||"EmptyError"===(null==re?void 0:re.name)}const wt=Symbol("INITIAL_VALUE");function _t(){return(0,c.n)(re=>(0,v.z)(re.map(he=>he.pipe((0,m.s)(1),function x(...re){const he=(0,_.lI)(re);return(0,M.N)((Ce,de)=>{(he?(0,y.x)(re,Ce,he):(0,y.x)(re,Ce)).subscribe(de)})}(wt)))).pipe((0,p.T)(he=>{for(const Ce of he)if(!0!==Ce){if(Ce===wt)return wt;if(!1===Ce||zt(Ce))return Ce}return!0}),(0,I.p)(he=>he!==wt),(0,m.s)(1)))}function zt(re){return D(re)||re instanceof Go}function Ln(re){return(0,w.F)((0,X.M)(he=>{if("boolean"!=typeof he)throw So(0,he)}),(0,p.T)(he=>!0===he))}class Xn{constructor(he){this.segmentGroup=he||null}}class nr extends Error{constructor(he){super(),this.urlTree=he}}function vr(re){return(0,s.$)(new Xn(re))}class qr{constructor(he,Ce){this.urlSerializer=he,this.urlTree=Ce}lineralizeSegments(he,Ce){let de=[],Te=Ce.root;for(;;){if(de=de.concat(Te.segments),0===Te.numberOfChildren)return(0,se.of)(de);if(Te.numberOfChildren>1||!Te.children[We])return(0,s.$)(new j.wOt(4e3,!1));Te=Te.children[We]}}applyRedirectCommands(he,Ce,de,Te,rt){if("string"!=typeof Ce){const rn=Ce,{queryParams:_n,fragment:Xt,routeConfig:Pn,url:qn,outlet:hr,params:Qn,data:no,title:Wo}=Te,Fo=(0,j.N4e)(rt,()=>rn({params:Qn,data:no,queryParams:_n,fragment:Xt,routeConfig:Pn,url:qn,outlet:hr,title:Wo}));if(Fo instanceof ze)throw new nr(Fo);Ce=Fo}const ht=this.applyRedirectCreateUrlTree(Ce,this.urlSerializer.parse(Ce),he,de);if("/"===Ce[0])throw new nr(ht);return ht}applyRedirectCreateUrlTree(he,Ce,de,Te){const rt=this.createSegmentGroup(he,Ce.root,de,Te);return new ze(rt,this.createQueryParams(Ce.queryParams,this.urlTree.queryParams),Ce.fragment)}createQueryParams(he,Ce){const de={};return Object.entries(he).forEach(([Te,rt])=>{if("string"==typeof rt&&":"===rt[0]){const rn=rt.substring(1);de[Te]=Ce[rn]}else de[Te]=rt}),de}createSegmentGroup(he,Ce,de,Te){const rt=this.createSegments(he,Ce.segments,de,Te);let ht={};return Object.entries(Ce.children).forEach(([rn,_n])=>{ht[rn]=this.createSegmentGroup(he,_n,de,Te)}),new Be(rt,ht)}createSegments(he,Ce,de,Te){return Ce.map(rt=>":"===rt.path[0]?this.findPosParam(he,rt,Te):this.findOrReturn(rt,de))}findPosParam(he,Ce,de){const Te=de[Ce.path.substring(1)];if(!Te)throw new j.wOt(4001,!1);return Te}findOrReturn(he,Ce){let de=0;for(const Te of Ce){if(Te.path===he.path)return Ce.splice(de),Te;de++}return he}}const fo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tr(re,he,Ce,de,Te){const rt=Mr(re,he,Ce);return rt.matched?(de=function mo(re,he){var Ce;return re.providers&&!re._injector&&(re._injector=(0,j.Ol2)(re.providers,he,`Route: ${re.path}`)),null!==(Ce=re._injector)&&void 0!==Ce?Ce:he}(he,de),function Wn(re,he,Ce,de){const Te=he.canMatch;if(!Te||0===Te.length)return(0,se.of)(!0);const rt=Te.map(ht=>{const rn=_i(ht,re);return on(function ke(re){return re&&E(re.canMatch)}(rn)?rn.canMatch(he,Ce):(0,j.N4e)(re,()=>rn(he,Ce)))});return(0,se.of)(rt).pipe(_t(),Ln())}(de,he,Ce).pipe((0,p.T)(ht=>!0===ht?rt:{...fo}))):(0,se.of)(rt)}function Mr(re,he,Ce){var de,Te;if("**"===he.path)return function $n(re){return{matched:!0,parameters:re.length>0?Tt(re).parameters:{},consumedSegments:re,remainingSegments:[],positionalParamSegments:{}}}(Ce);if(""===he.path)return"full"===he.pathMatch&&(re.hasChildren()||Ce.length>0)?{...fo}:{matched:!0,consumedSegments:[],remainingSegments:Ce,parameters:{},positionalParamSegments:{}};const ht=(he.matcher||Ze)(Ce,re,he);if(!ht)return{...fo};const rn={};Object.entries(null!==(de=ht.posParams)&&void 0!==de?de:{}).forEach(([Xt,Pn])=>{rn[Xt]=Pn.path});const _n=ht.consumed.length>0?{...rn,...ht.consumed[ht.consumed.length-1].parameters}:rn;return{matched:!0,consumedSegments:ht.consumed,remainingSegments:Ce.slice(ht.consumed.length),parameters:_n,positionalParamSegments:null!==(Te=ht.posParams)&&void 0!==Te?Te:{}}}function Br(re,he,Ce,de){return Ce.length>0&&function Rr(re,he,Ce){return Ce.some(de=>ni(re,he,de)&&Yr(de)!==We)}(re,Ce,de)?{segmentGroup:new Be(he,lo(de,new Be(Ce,re.children))),slicedSegments:[]}:0===Ce.length&&function uo(re,he,Ce){return Ce.some(de=>ni(re,he,de))}(re,Ce,de)?{segmentGroup:new Be(re.segments,$r(re,Ce,de,re.children)),slicedSegments:Ce}:{segmentGroup:new Be(re.segments,re.children),slicedSegments:Ce}}function $r(re,he,Ce,de){const Te={};for(const rt of Ce)if(ni(re,he,rt)&&!de[Yr(rt)]){const ht=new Be([],{});Te[Yr(rt)]=ht}return{...de,...Te}}function lo(re,he){const Ce={};Ce[We]=he;for(const de of re)if(""===de.path&&Yr(de)!==We){const Te=new Be([],{});Ce[Yr(de)]=Te}return Ce}function ni(re,he,Ce){return(!(re.hasChildren()||he.length>0)||"full"!==Ce.pathMatch)&&""===Ce.path}class Bd{}class vs{constructor(he,Ce,de,Te,rt,ht,rn){this.injector=he,this.configLoader=Ce,this.rootComponentType=de,this.config=Te,this.urlTree=rt,this.paramsInheritanceStrategy=ht,this.urlSerializer=rn,this.applyRedirects=new qr(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(he){return new j.wOt(4002,`'${he.segmentGroup}'`)}recognize(){const he=Br(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(he).pipe((0,p.T)(({children:Ce,rootSnapshot:de})=>{const Te=new gn(de,Ce),rt=new pr("",Te),ht=function L(re,he,Ce=null,de=null){return oe(U(re),he,Ce,de)}(de,[],this.urlTree.queryParams,this.urlTree.fragment);return ht.queryParams=this.urlTree.queryParams,rt.url=this.urlSerializer.serialize(ht),{state:rt,tree:ht}}))}match(he){const Ce=new Yn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),We,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,he,We,Ce).pipe((0,p.T)(de=>({children:de,rootSnapshot:Ce})),N(de=>{if(de instanceof nr)return this.urlTree=de.urlTree,this.match(de.urlTree.root);throw de instanceof Xn?this.noMatchError(de):de}))}processSegmentGroup(he,Ce,de,Te,rt){return 0===de.segments.length&&de.hasChildren()?this.processChildren(he,Ce,de,rt):this.processSegment(he,Ce,de,de.segments,Te,!0,rt).pipe((0,p.T)(ht=>ht instanceof gn?[ht]:[]))}processChildren(he,Ce,de,Te){const rt=[];for(const ht of Object.keys(de.children))"primary"===ht?rt.unshift(ht):rt.push(ht);return(0,o.H)(rt).pipe(G(ht=>{const rn=de.children[ht],_n=function Eo(re,he){const Ce=re.filter(de=>Yr(de)===he);return Ce.push(...re.filter(de=>Yr(de)!==he)),Ce}(Ce,ht);return this.processSegmentGroup(he,_n,rn,ht,Te)}),function ie(re,he){return(0,M.N)(function K(re,he,Ce,de,Te){return(rt,ht)=>{let rn=Ce,_n=he,Xt=0;rt.subscribe((0,H._)(ht,Pn=>{const qn=Xt++;_n=rn?re(_n,Pn,qn):(rn=!0,Pn),de&&ht.next(_n)},Te&&(()=>{rn&&ht.next(_n),ht.complete()})))}}(re,he,arguments.length>=2,!0))}((ht,rn)=>(ht.push(...rn),ht)),P(null),function Y(re,he){const Ce=arguments.length>=2;return de=>de.pipe(re?(0,I.p)((Te,rt)=>re(Te,rt,de)):te.D,Ae(1),Ce?P(he):z(()=>new g))}(),(0,A.Z)(ht=>{if(null===ht)return vr(de);const rn=Ca(ht);return function wa(re){re.sort((he,Ce)=>he.value.outlet===We?-1:Ce.value.outlet===We?1:he.value.outlet.localeCompare(Ce.value.outlet))}(rn),(0,se.of)(rn)}))}processSegment(he,Ce,de,Te,rt,ht,rn){return(0,o.H)(Ce).pipe(G(_n=>{var Xt;return this.processSegmentAgainstRoute(null!==(Xt=_n._injector)&&void 0!==Xt?Xt:he,Ce,_n,de,Te,rt,ht,rn).pipe(N(Pn=>{if(Pn instanceof Xn)return(0,se.of)(null);throw Pn}))}),ne(_n=>!!_n),N(_n=>{if(tt(_n))return function _a(re,he,Ce){return 0===he.length&&!re.children[Ce]}(de,Te,rt)?(0,se.of)(new Bd):vr(de);throw _n}))}processSegmentAgainstRoute(he,Ce,de,Te,rt,ht,rn,_n){return function rs(re,he,Ce,de){return!!(Yr(re)===de||de!==We&&ni(he,Ce,re))&&Mr(he,re,Ce).matched}(de,Te,rt,ht)?void 0===de.redirectTo?this.matchSegmentAgainstRoute(he,Te,de,rt,ht,_n):this.allowRedirects&&rn?this.expandSegmentAgainstRouteUsingRedirect(he,Te,Ce,de,rt,ht,_n):vr(Te):vr(Te)}expandSegmentAgainstRouteUsingRedirect(he,Ce,de,Te,rt,ht,rn){var _n,Xt;const{matched:Pn,parameters:qn,consumedSegments:hr,positionalParamSegments:Qn,remainingSegments:no}=Mr(Ce,Te,rt);if(!Pn)return vr(Ce);"string"==typeof Te.redirectTo&&"/"===Te.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Wo=new Yn(rt,qn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,os(Te),Yr(Te),null!==(_n=null!==(Xt=Te.component)&&void 0!==Xt?Xt:Te._loadedComponent)&&void 0!==_n?_n:null,Te,Ea(Te)),Fo=Hn(Wo,rn,this.paramsInheritanceStrategy);Wo.params=Object.freeze(Fo.params),Wo.data=Object.freeze(Fo.data);const Xs=this.applyRedirects.applyRedirectCommands(hr,Te.redirectTo,Qn,Wo,he);return this.applyRedirects.lineralizeSegments(Te,Xs).pipe((0,A.Z)(fi=>this.processSegment(he,de,Ce,fi.concat(no),ht,!1,rn)))}matchSegmentAgainstRoute(he,Ce,de,Te,rt,ht){const rn=Tr(Ce,de,Te,he);return"**"===de.path&&(Ce.children={}),rn.pipe((0,c.n)(_n=>{var Xt;return _n.matched?(he=null!==(Xt=de._injector)&&void 0!==Xt?Xt:he,this.getChildConfig(he,de,Te).pipe((0,c.n)(({routes:Pn})=>{var qn,hr,Qn;const no=null!==(qn=de._loadedInjector)&&void 0!==qn?qn:he,{parameters:Wo,consumedSegments:Fo,remainingSegments:Xs}=_n,fi=new Yn(Fo,Wo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,os(de),Yr(de),null!==(hr=null!==(Qn=de.component)&&void 0!==Qn?Qn:de._loadedComponent)&&void 0!==hr?hr:null,de,Ea(de)),is=Hn(fi,ht,this.paramsInheritanceStrategy);fi.params=Object.freeze(is.params),fi.data=Object.freeze(is.data);const{segmentGroup:Ml,slicedSegments:Ks}=Br(Ce,Fo,Xs,Pn);if(0===Ks.length&&Ml.hasChildren())return this.processChildren(no,Pn,Ml,fi).pipe((0,p.T)(Es=>new gn(fi,Es)));if(0===Pn.length&&0===Ks.length)return(0,se.of)(new gn(fi,[]));const Qu=Yr(de)===rt;return this.processSegment(no,Pn,Ml,Ks,Qu?We:rt,!0,fi).pipe((0,p.T)(Es=>new gn(fi,Es instanceof gn?[Es]:[])))}))):vr(Ce)}))}getChildConfig(he,Ce,de){return Ce.children?(0,se.of)({routes:Ce.children,injector:he}):Ce.loadChildren?void 0!==Ce._loadedRoutes?(0,se.of)({routes:Ce._loadedRoutes,injector:Ce._loadedInjector}):function Bn(re,he,Ce,de){const Te=he.canLoad;if(void 0===Te||0===Te.length)return(0,se.of)(!0);const rt=Te.map(ht=>{const rn=_i(ht,re);return on(function J(re){return re&&E(re.canLoad)}(rn)?rn.canLoad(he,Ce):(0,j.N4e)(re,()=>rn(he,Ce)))});return(0,se.of)(rt).pipe(_t(),Ln())}(he,Ce,de).pipe((0,A.Z)(Te=>Te?this.configLoader.loadChildren(he,Ce).pipe((0,X.M)(rt=>{Ce._loadedRoutes=rt.routes,Ce._loadedInjector=rt.injector})):function io(re){return(0,s.$)(ji(!1,Lr.GuardRejected))}())):(0,se.of)({routes:[],injector:he})}}function Vs(re){const he=re.value.routeConfig;return he&&""===he.path}function Ca(re){const he=[],Ce=new Set;for(const de of re){if(!Vs(de)){he.push(de);continue}const Te=he.find(rt=>de.value.routeConfig===rt.value.routeConfig);void 0!==Te?(Te.children.push(...de.children),Ce.add(Te)):he.push(de)}for(const de of Ce){const Te=Ca(de.children);he.push(new gn(de.value,Te))}return he.filter(de=>!Ce.has(de))}function os(re){return re.data||{}}function Ea(re){return re.resolve||{}}function Vu(re){const he=re.children.map(Ce=>Vu(Ce)).flat();return[re,...he]}function Sa(re){return(0,c.n)(he=>{const Ce=re(he);return Ce?(0,o.H)(Ce).pipe((0,p.T)(()=>he)):(0,se.of)(he)})}let Gs=(()=>{var re;class he{buildTitle(de){let Te,rt=de.root;for(;void 0!==rt;){var ht;Te=null!==(ht=this.getResolvedTitleForRoute(rt))&&void 0!==ht?ht:Te,rt=rt.children.find(rn=>rn.outlet===We)}return Te}getResolvedTitleForRoute(de){return de.data[ct]}}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:()=>(0,j.WQX)(mr),providedIn:"root"}),he})(),mr=(()=>{var re;class he extends Gs{constructor(de){super(),this.title=de}updateTitle(de){const Te=this.buildTitle(de);void 0!==Te&&this.title.setTitle(Te)}}return(re=he).\u0275fac=function(de){return new(de||re)(j.KVO(pt.hE))},re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),he})();const Hi=new j.nKC("",{providedIn:"root",factory:()=>({})});let bs=(()=>{var re;class he{}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275cmp=j.VBU({type:re,selectors:[["ng-component"]],standalone:!0,features:[j.aNF],decls:1,vars:0,template:function(de,Te){1&de&&j.nrm(0,"router-outlet")},dependencies:[go],encapsulation:2}),he})();function Io(re){const he=re.children&&re.children.map(Io),Ce=he?{...re,children:he}:{...re};return!Ce.component&&!Ce.loadComponent&&(he||Ce.loadChildren)&&Ce.outlet&&Ce.outlet!==We&&(Ce.component=bs),Ce}const di=new j.nKC("");let Sl=(()=>{var re;class he{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,j.WQX)(j.Ql9)}loadComponent(de){if(this.componentLoaders.get(de))return this.componentLoaders.get(de);if(de._loadedComponent)return(0,se.of)(de._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(de);const Te=on(de.loadComponent()).pipe((0,p.T)(Re),(0,X.M)(ht=>{this.onLoadEndListener&&this.onLoadEndListener(de),de._loadedComponent=ht}),Q(()=>{this.componentLoaders.delete(de)})),rt=new a.G(Te,()=>new d.B).pipe((0,pe.B)());return this.componentLoaders.set(de,rt),rt}loadChildren(de,Te){if(this.childrenLoaders.get(Te))return this.childrenLoaders.get(Te);if(Te._loadedRoutes)return(0,se.of)({routes:Te._loadedRoutes,injector:Te._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Te);const ht=function Vd(re,he,Ce,de){return on(re.loadChildren()).pipe((0,p.T)(Re),(0,A.Z)(Te=>Te instanceof j.Co$||Array.isArray(Te)?(0,se.of)(Te):(0,o.H)(he.compileModuleAsync(Te))),(0,p.T)(Te=>{de&&de(re);let rt,ht,rn=!1;return Array.isArray(Te)?(ht=Te,!0):(rt=Te.create(Ce).injector,ht=rt.get(di,[],{optional:!0,self:!0}).flat()),{routes:ht.map(Io),injector:rt}}))}(Te,this.compiler,de,this.onLoadEndListener).pipe(Q(()=>{this.childrenLoaders.delete(Te)})),rn=new a.G(ht,()=>new d.B).pipe((0,pe.B)());return this.childrenLoaders.set(Te,rn),rn}}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),he})();function Re(re){return function ce(re){return re&&"object"==typeof re&&"default"in re}(re)?re.default:re}let Ct=(()=>{var re;class he{}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:()=>(0,j.WQX)(Ie),providedIn:"root"}),he})(),Ie=(()=>{var re;class he{shouldProcessUrl(de){return!0}extract(de){return de}merge(de,Te){return de}}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),he})();const ut=new j.nKC(""),Ot=new j.nKC("");function pn(re,he,Ce){const de=re.get(Ot),Te=re.get(u.qQ);return re.get(j.SKi).runOutsideAngular(()=>{if(!Te.startViewTransition||de.skipNextTransition)return de.skipNextTransition=!1,new Promise(Xt=>setTimeout(Xt));let rt;const ht=new Promise(Xt=>{rt=Xt}),rn=Te.startViewTransition(()=>(rt(),function On(re){return new Promise(he=>{(0,j.mal)({read:()=>setTimeout(he)},{injector:re})})}(re))),{onViewTransitionCreated:_n}=de;return _n&&(0,j.N4e)(re,()=>_n({transition:rn,from:he,to:Ce})),ht})}const sr=new j.nKC("");let ir=(()=>{var re;class he{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new d.B,this.transitionAbortSubject=new d.B,this.configLoader=(0,j.WQX)(Sl),this.environmentInjector=(0,j.WQX)(j.uvJ),this.urlSerializer=(0,j.WQX)(Wt),this.rootContexts=(0,j.WQX)(Mt),this.location=(0,j.WQX)(u.aZ),this.inputBindingEnabled=null!==(0,j.WQX)(Pr,{optional:!0}),this.titleStrategy=(0,j.WQX)(Gs),this.options=(0,j.WQX)(Hi,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,j.WQX)(Ct),this.createViewTransition=(0,j.WQX)(ut,{optional:!0}),this.navigationErrorHandler=(0,j.WQX)(sr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,se.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=rt=>this.events.next(new vi(rt)),this.configLoader.onLoadStartListener=rt=>this.events.next(new ci(rt))}complete(){var de;null===(de=this.transitions)||void 0===de||de.complete()}handleNavigationRequest(de){var Te;const rt=++this.navigationId;null===(Te=this.transitions)||void 0===Te||Te.next({...this.transitions.value,...de,id:rt})}setupNavigations(de,Te,rt){return this.transitions=new V.t({id:0,currentUrlTree:Te,currentRawUrl:Te,extractedUrl:this.urlHandlingStrategy.extract(Te),urlAfterRedirects:this.urlHandlingStrategy.extract(Te),rawUrl:Te,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Dr,restoredState:null,currentSnapshot:rt.snapshot,targetSnapshot:null,currentRouterState:rt,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,I.p)(ht=>0!==ht.id),(0,p.T)(ht=>({...ht,extractedUrl:this.urlHandlingStrategy.extract(ht.rawUrl)})),(0,c.n)(ht=>{let rn=!1,_n=!1;return(0,se.of)(ht).pipe((0,c.n)(Xt=>{var Pn;if(this.navigationId>ht.id)return this.cancelNavigationTransition(ht,"",Lr.SupersededByNewNavigation),l.w;this.currentTransition=ht,this.currentNavigation={id:Xt.id,initialUrl:Xt.rawUrl,extractedUrl:Xt.extractedUrl,targetBrowserUrl:"string"==typeof Xt.extras.browserUrl?this.urlSerializer.parse(Xt.extras.browserUrl):Xt.extras.browserUrl,trigger:Xt.source,extras:Xt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const qn=!de.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),hr=null!==(Pn=Xt.extras.onSameUrlNavigation)&&void 0!==Pn?Pn:de.onSameUrlNavigation;if(!qn&&"reload"!==hr){const Qn="";return this.events.next(new wo(Xt.id,this.urlSerializer.serialize(Xt.rawUrl),Qn,To.IgnoredSameUrlNavigation)),Xt.resolve(!1),l.w}if(this.urlHandlingStrategy.shouldProcessUrl(Xt.rawUrl))return(0,se.of)(Xt).pipe((0,c.n)(Qn=>{var no,Wo;const Fo=null===(no=this.transitions)||void 0===no?void 0:no.getValue();return this.events.next(new Vr(Qn.id,this.urlSerializer.serialize(Qn.extractedUrl),Qn.source,Qn.restoredState)),Fo!==(null===(Wo=this.transitions)||void 0===Wo?void 0:Wo.getValue())?l.w:Promise.resolve(Qn)}),function ar(re,he,Ce,de,Te,rt){return(0,A.Z)(ht=>function $u(re,he,Ce,de,Te,rt,ht="emptyOnly"){return new vs(re,he,Ce,de,Te,ht,rt).recognize()}(re,he,Ce,de,ht.extractedUrl,Te,rt).pipe((0,p.T)(({state:rn,tree:_n})=>({...ht,targetSnapshot:rn,urlAfterRedirects:_n}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,de.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,X.M)(Qn=>{ht.targetSnapshot=Qn.targetSnapshot,ht.urlAfterRedirects=Qn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Qn.urlAfterRedirects};const no=new No(Qn.id,this.urlSerializer.serialize(Qn.extractedUrl),this.urlSerializer.serialize(Qn.urlAfterRedirects),Qn.targetSnapshot);this.events.next(no)}));if(qn&&this.urlHandlingStrategy.shouldProcessUrl(Xt.currentRawUrl)){const{id:Qn,extractedUrl:no,source:Wo,restoredState:Fo,extras:Xs}=Xt,fi=new Vr(Qn,this.urlSerializer.serialize(no),Wo,Fo);this.events.next(fi);const is=xn(this.rootComponentType).snapshot;return this.currentTransition=ht={...Xt,targetSnapshot:is,urlAfterRedirects:no,extras:{...Xs,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=no,(0,se.of)(ht)}{const Qn="";return this.events.next(new wo(Xt.id,this.urlSerializer.serialize(Xt.extractedUrl),Qn,To.IgnoredByUrlHandlingStrategy)),Xt.resolve(!1),l.w}}),(0,X.M)(Xt=>{const Pn=new $o(Xt.id,this.urlSerializer.serialize(Xt.extractedUrl),this.urlSerializer.serialize(Xt.urlAfterRedirects),Xt.targetSnapshot);this.events.next(Pn)}),(0,p.T)(Xt=>(this.currentTransition=ht={...Xt,guards:Xr(Xt.targetSnapshot,Xt.currentSnapshot,this.rootContexts)},ht)),function _e(re,he){return(0,A.Z)(Ce=>{const{targetSnapshot:de,currentSnapshot:Te,guards:{canActivateChecks:rt,canDeactivateChecks:ht}}=Ce;return 0===ht.length&&0===rt.length?(0,se.of)({...Ce,guardsResult:!0}):function ae(re,he,Ce,de){return(0,o.H)(re).pipe((0,A.Z)(Te=>function tn(re,he,Ce,de,Te){const rt=he&&he.routeConfig?he.routeConfig.canDeactivate:null;if(!rt||0===rt.length)return(0,se.of)(!0);const ht=rt.map(rn=>{var _n;const Xt=null!==(_n=Fe(he))&&void 0!==_n?_n:Te,Pn=_i(rn,Xt);return on(function Me(re){return re&&E(re.canDeactivate)}(Pn)?Pn.canDeactivate(re,he,Ce,de):(0,j.N4e)(Xt,()=>Pn(re,he,Ce,de))).pipe(ne())});return(0,se.of)(ht).pipe(_t())}(Te.component,Te.route,Ce,he,de)),ne(Te=>!0!==Te,!0))}(ht,de,Te,re).pipe((0,A.Z)(rn=>rn&&function $(re){return"boolean"==typeof re}(rn)?function we(re,he,Ce,de){return(0,o.H)(he).pipe(G(Te=>(0,y.x)(function Ge(re,he){return null!==re&&he&&he(new be(re)),(0,se.of)(!0)}(Te.route.parent,de),function ye(re,he){return null!==re&&he&&he(new ft(re)),(0,se.of)(!0)}(Te.route,de),function Ht(re,he,Ce){const de=he[he.length-1],rt=he.slice(0,he.length-1).reverse().map(ht=>function Ri(re){const he=re.routeConfig?re.routeConfig.canActivateChild:null;return he&&0!==he.length?{node:re,guards:he}:null}(ht)).filter(ht=>null!==ht).map(ht=>(0,C.v)(()=>{const rn=ht.guards.map(_n=>{var Xt;const Pn=null!==(Xt=Fe(ht.node))&&void 0!==Xt?Xt:Ce,qn=_i(_n,Pn);return on(function fe(re){return re&&E(re.canActivateChild)}(qn)?qn.canActivateChild(de,re):(0,j.N4e)(Pn,()=>qn(de,re))).pipe(ne())});return(0,se.of)(rn).pipe(_t())}));return(0,se.of)(rt).pipe(_t())}(re,Te.path,Ce),function Lt(re,he,Ce){const de=he.routeConfig?he.routeConfig.canActivate:null;if(!de||0===de.length)return(0,se.of)(!0);const Te=de.map(rt=>(0,C.v)(()=>{var ht;const rn=null!==(ht=Fe(he))&&void 0!==ht?ht:Ce,_n=_i(rt,rn);return on(function ee(re){return re&&E(re.canActivate)}(_n)?_n.canActivate(he,re):(0,j.N4e)(rn,()=>_n(he,re))).pipe(ne())}));return(0,se.of)(Te).pipe(_t())}(re,Te.route,Ce))),ne(Te=>!0!==Te,!0))}(de,rt,re,he):(0,se.of)(rn)),(0,p.T)(rn=>({...Ce,guardsResult:rn})))})}(this.environmentInjector,Xt=>this.events.next(Xt)),(0,X.M)(Xt=>{if(ht.guardsResult=Xt.guardsResult,Xt.guardsResult&&"boolean"!=typeof Xt.guardsResult)throw So(0,Xt.guardsResult);const Pn=new Wr(Xt.id,this.urlSerializer.serialize(Xt.extractedUrl),this.urlSerializer.serialize(Xt.urlAfterRedirects),Xt.targetSnapshot,!!Xt.guardsResult);this.events.next(Pn)}),(0,I.p)(Xt=>!!Xt.guardsResult||(this.cancelNavigationTransition(Xt,"",Lr.GuardRejected),!1)),Sa(Xt=>{if(Xt.guards.canActivateChecks.length)return(0,se.of)(Xt).pipe((0,X.M)(Pn=>{const qn=new Vo(Pn.id,this.urlSerializer.serialize(Pn.extractedUrl),this.urlSerializer.serialize(Pn.urlAfterRedirects),Pn.targetSnapshot);this.events.next(qn)}),(0,c.n)(Pn=>{let qn=!1;return(0,se.of)(Pn).pipe(function Ar(re,he){return(0,A.Z)(Ce=>{const{targetSnapshot:de,guards:{canActivateChecks:Te}}=Ce;if(!Te.length)return(0,se.of)(Ce);const rt=new Set(Te.map(_n=>_n.route)),ht=new Set;for(const _n of rt)if(!ht.has(_n))for(const Xt of Vu(_n))ht.add(Xt);let rn=0;return(0,o.H)(ht).pipe(G(_n=>rt.has(_n)?function Gu(re,he,Ce,de){const Te=re.routeConfig,rt=re._resolve;return void 0!==(null==Te?void 0:Te.title)&&!Rn(Te)&&(rt[ct]=Te.title),function Hu(re,he,Ce,de){const Te=Qe(re);if(0===Te.length)return(0,se.of)({});const rt={};return(0,o.H)(Te).pipe((0,A.Z)(ht=>function $d(re,he,Ce,de){var Te;const rt=null!==(Te=Fe(he))&&void 0!==Te?Te:de,ht=_i(re,rt);return on(ht.resolve?ht.resolve(he,Ce):(0,j.N4e)(rt,()=>ht(he,Ce)))}(re[ht],he,Ce,de).pipe(ne(),(0,X.M)(rn=>{if(rn instanceof Go)throw So(new dn,rn);rt[ht]=rn}))),Ae(1),(0,R.u)(rt),N(ht=>tt(ht)?l.w:(0,s.$)(ht)))}(rt,re,he,de).pipe((0,p.T)(ht=>(re._resolvedData=ht,re.data=Hn(re,re.parent,Ce).resolve,null)))}(_n,de,re,he):(_n.data=Hn(_n,_n.parent,re).resolve,(0,se.of)(void 0))),(0,X.M)(()=>rn++),Ae(1),(0,A.Z)(_n=>rn===ht.size?(0,se.of)(Ce):l.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,X.M)({next:()=>qn=!0,complete:()=>{qn||this.cancelNavigationTransition(Pn,"",Lr.NoDataFromResolver)}}))}),(0,X.M)(Pn=>{const qn=new oo(Pn.id,this.urlSerializer.serialize(Pn.extractedUrl),this.urlSerializer.serialize(Pn.urlAfterRedirects),Pn.targetSnapshot);this.events.next(qn)}))}),Sa(Xt=>{const Pn=qn=>{var hr;const Qn=[];null!==(hr=qn.routeConfig)&&void 0!==hr&&hr.loadComponent&&!qn.routeConfig._loadedComponent&&Qn.push(this.configLoader.loadComponent(qn.routeConfig).pipe((0,X.M)(no=>{qn.component=no}),(0,p.T)(()=>{})));for(const no of qn.children)Qn.push(...Pn(no));return Qn};return(0,v.z)(Pn(Xt.targetSnapshot.root)).pipe(P(null),(0,m.s)(1))}),Sa(()=>this.afterPreactivation()),(0,c.n)(()=>{var Xt;const{currentSnapshot:Pn,targetSnapshot:qn}=ht,hr=null===(Xt=this.createViewTransition)||void 0===Xt?void 0:Xt.call(this,this.environmentInjector,Pn.root,qn.root);return hr?(0,o.H)(hr).pipe((0,p.T)(()=>ht)):(0,se.of)(ht)}),(0,p.T)(Xt=>{const Pn=function ys(re,he,Ce){const de=ho(re,he._root,Ce?Ce._root:void 0);return new Sn(de,he)}(de.routeReuseStrategy,Xt.targetSnapshot,Xt.currentRouterState);return this.currentTransition=ht={...Xt,targetRouterState:Pn},this.currentNavigation.targetRouterState=Pn,ht}),(0,X.M)(()=>{this.events.next(new Zt)}),((re,he,Ce,de)=>(0,p.T)(Te=>(new Mo(he,Te.targetRouterState,Te.currentRouterState,Ce,de).activate(re),Te)))(this.rootContexts,de.routeReuseStrategy,Xt=>this.events.next(Xt),this.inputBindingEnabled),(0,m.s)(1),(0,X.M)({next:Xt=>{var Pn;rn=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Er(Xt.id,this.urlSerializer.serialize(Xt.extractedUrl),this.urlSerializer.serialize(Xt.urlAfterRedirects))),null===(Pn=this.titleStrategy)||void 0===Pn||Pn.updateTitle(Xt.targetRouterState.snapshot),Xt.resolve(!0)},complete:()=>{rn=!0}}),function Ve(re){return(0,M.N)((he,Ce)=>{(0,B.Tg)(re).subscribe((0,H._)(Ce,()=>Ce.complete(),Se.l)),!Ce.closed&&he.subscribe(Ce)})}(this.transitionAbortSubject.pipe((0,X.M)(Xt=>{throw Xt}))),Q(()=>{var Xt;!rn&&!_n&&this.cancelNavigationTransition(ht,"",Lr.SupersededByNewNavigation),(null===(Xt=this.currentTransition)||void 0===Xt?void 0:Xt.id)===ht.id&&(this.currentNavigation=null,this.currentTransition=null)}),N(Xt=>{if(_n=!0,Sr(Xt))this.events.next(new eo(ht.id,this.urlSerializer.serialize(ht.extractedUrl),Xt.message,Xt.cancellationCode)),function bi(re){return Sr(re)&&D(re.url)}(Xt)?this.events.next(new fr(Xt.url,Xt.navigationBehaviorOptions)):ht.resolve(!1);else{var Pn;const qn=new ko(ht.id,this.urlSerializer.serialize(ht.extractedUrl),Xt,null!==(Pn=ht.targetSnapshot)&&void 0!==Pn?Pn:void 0);try{const hr=(0,j.N4e)(this.environmentInjector,()=>{var Qn;return null===(Qn=this.navigationErrorHandler)||void 0===Qn?void 0:Qn.call(this,qn)});if(hr instanceof Go){const{message:Qn,cancellationCode:no}=So(0,hr);this.events.next(new eo(ht.id,this.urlSerializer.serialize(ht.extractedUrl),Qn,no)),this.events.next(new fr(hr.redirectTo,hr.navigationBehaviorOptions))}else{this.events.next(qn);const Qn=de.errorHandler(Xt);ht.resolve(!!Qn)}}catch(hr){this.options.resolveNavigationPromiseOnError?ht.resolve(!1):ht.reject(hr)}}return l.w}))}))}cancelNavigationTransition(de,Te,rt){const ht=new eo(de.id,this.urlSerializer.serialize(de.extractedUrl),Te,rt);this.events.next(ht),de.resolve(!1)}isUpdatingInternalState(){var de,Te;return(null===(de=this.currentTransition)||void 0===de?void 0:de.extractedUrl.toString())!==(null===(Te=this.currentTransition)||void 0===Te?void 0:Te.currentUrlTree.toString())}isUpdatedBrowserUrl(){var de,Te,rt,ht;const rn=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),_n=null!==(de=null===(Te=this.currentNavigation)||void 0===Te?void 0:Te.targetBrowserUrl)&&void 0!==de?de:null===(rt=this.currentNavigation)||void 0===rt?void 0:rt.extractedUrl;return rn.toString()!==(null==_n?void 0:_n.toString())&&!(null!==(ht=this.currentNavigation)&&void 0!==ht&&ht.extras.skipLocationChange)}}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),he})();function xr(re){return re!==Dr}let Zn=(()=>{var re;class he{}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:()=>(0,j.WQX)(kn),providedIn:"root"}),he})();class Ir{shouldDetach(he){return!1}store(he,Ce){}shouldAttach(he){return!1}retrieve(he){return null}shouldReuseRoute(he,Ce){return he.routeConfig===Ce.routeConfig}}let kn=(()=>{var re;class he extends Ir{}return(re=he).\u0275fac=(()=>{let Ce;return function(Te){return(Ce||(Ce=j.xGo(re)))(Te||re)}})(),re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),he})(),Jr=(()=>{var re;class he{}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:()=>(0,j.WQX)(hi),providedIn:"root"}),he})(),hi=(()=>{var re;class he extends Jr{constructor(){super(...arguments),this.location=(0,j.WQX)(u.aZ),this.urlSerializer=(0,j.WQX)(Wt),this.options=(0,j.WQX)(Hi,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,j.WQX)(Ct),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ze,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=xn(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var de,Te;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(de=null===(Te=this.restoredState())||void 0===Te?void 0:Te.\u0275routerPageId)&&void 0!==de?de:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(de){return this.location.subscribe(Te=>{"popstate"===Te.type&&de(Te.url,Te.state)})}handleRouterEvent(de,Te){if(de instanceof Vr)this.stateMemento=this.createStateMemento();else if(de instanceof wo)this.rawUrlTree=Te.initialUrl;else if(de instanceof No){if("eager"===this.urlUpdateStrategy&&!Te.extras.skipLocationChange){var rt;const rn=this.urlHandlingStrategy.merge(Te.finalUrl,Te.initialUrl);this.setBrowserUrl(null!==(rt=Te.targetBrowserUrl)&&void 0!==rt?rt:rn,Te)}}else if(de instanceof Zt){var ht;this.currentUrlTree=Te.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Te.finalUrl,Te.initialUrl),this.routerState=Te.targetRouterState,"deferred"!==this.urlUpdateStrategy||Te.extras.skipLocationChange||this.setBrowserUrl(null!==(ht=Te.targetBrowserUrl)&&void 0!==ht?ht:this.rawUrlTree,Te)}else de instanceof eo&&(de.code===Lr.GuardRejected||de.code===Lr.NoDataFromResolver)?this.restoreHistory(Te):de instanceof ko?this.restoreHistory(Te,!0):de instanceof Er&&(this.lastSuccessfulId=de.id,this.currentPageId=this.browserPageId)}setBrowserUrl(de,Te){const rt=de instanceof ze?this.urlSerializer.serialize(de):de;if(this.location.isCurrentPathEqualTo(rt)||Te.extras.replaceUrl){const rn={...Te.extras.state,...this.generateNgRouterState(Te.id,this.browserPageId)};this.location.replaceState(rt,"",rn)}else{const ht={...Te.extras.state,...this.generateNgRouterState(Te.id,this.browserPageId+1)};this.location.go(rt,"",ht)}}restoreHistory(de,Te=!1){if("computed"===this.canceledNavigationResolution){const ht=this.currentPageId-this.browserPageId;0!==ht?this.location.historyGo(ht):this.currentUrlTree===de.finalUrl&&0===ht&&(this.resetState(de),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Te&&this.resetState(de),this.resetUrlToCurrentUrlTree())}resetState(de){var Te;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(Te=de.finalUrl)&&void 0!==Te?Te:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(de,Te){return"computed"===this.canceledNavigationResolution?{navigationId:de,\u0275routerPageId:Te}:{navigationId:de}}}return(re=he).\u0275fac=(()=>{let Ce;return function(Te){return(Ce||(Ce=j.xGo(re)))(Te||re)}})(),re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),he})();var po=function(re){return re[re.COMPLETE=0]="COMPLETE",re[re.FAILED=1]="FAILED",re[re.REDIRECTING=2]="REDIRECTING",re}(po||{});function zi(re,he){re.events.pipe((0,I.p)(Ce=>Ce instanceof Er||Ce instanceof eo||Ce instanceof ko||Ce instanceof wo),(0,p.T)(Ce=>Ce instanceof Er||Ce instanceof wo?po.COMPLETE:Ce instanceof eo&&(Ce.code===Lr.Redirect||Ce.code===Lr.SupersededByNewNavigation)?po.REDIRECTING:po.FAILED),(0,I.p)(Ce=>Ce!==po.REDIRECTING),(0,m.s)(1)).subscribe(()=>{he()})}function Ni(re){throw re}const Wi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Li={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let co=(()=>{var re;class he{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var de,Te;this.disposed=!1,this.console=(0,j.WQX)(j.H3F),this.stateManager=(0,j.WQX)(Jr),this.options=(0,j.WQX)(Hi,{optional:!0})||{},this.pendingTasks=(0,j.WQX)(j.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,j.WQX)(ir),this.urlSerializer=(0,j.WQX)(Wt),this.location=(0,j.WQX)(u.aZ),this.urlHandlingStrategy=(0,j.WQX)(Ct),this._events=new d.B,this.errorHandler=this.options.errorHandler||Ni,this.navigated=!1,this.routeReuseStrategy=(0,j.WQX)(Zn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(de=null===(Te=(0,j.WQX)(di,{optional:!0}))||void 0===Te?void 0:Te.flat())&&void 0!==de?de:[],this.componentInputBindingEnabled=!!(0,j.WQX)(Pr,{optional:!0}),this.eventsSubscription=new f.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:rt=>{this.console.warn(rt)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const de=this.navigationTransitions.events.subscribe(Te=>{try{const rt=this.navigationTransitions.currentTransition,ht=this.navigationTransitions.currentNavigation;if(null!==rt&&null!==ht)if(this.stateManager.handleRouterEvent(Te,ht),Te instanceof eo&&Te.code!==Lr.Redirect&&Te.code!==Lr.SupersededByNewNavigation)this.navigated=!0;else if(Te instanceof Er)this.navigated=!0;else if(Te instanceof fr){const rn=Te.navigationBehaviorOptions,_n=this.urlHandlingStrategy.merge(Te.url,rt.currentRawUrl),Xt={browserUrl:rt.extras.browserUrl,info:rt.extras.info,skipLocationChange:rt.extras.skipLocationChange,replaceUrl:rt.extras.replaceUrl||"eager"===this.urlUpdateStrategy||xr(rt.source),...rn};this.scheduleNavigation(_n,Dr,null,Xt,{resolve:rt.resolve,reject:rt.reject,promise:rt.promise})}(function xa(re){return!(re instanceof Zt||re instanceof fr)})(Te)&&this._events.next(Te)}catch(rt){this.navigationTransitions.transitionAbortSubject.next(rt)}});this.eventsSubscription.add(de)}resetRootComponentType(de){this.routerState.root.component=de,this.navigationTransitions.rootComponentType=de}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Dr,this.stateManager.restoredState())}setUpLocationChangeListener(){var de;null!==(de=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==de||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((Te,rt)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(Te,"popstate",rt)},0)}))}navigateToSyncWithBrowser(de,Te,rt){const ht={replaceUrl:!0},rn=null!=rt&&rt.navigationId?rt:null;if(rt){const Xt={...rt};delete Xt.navigationId,delete Xt.\u0275routerPageId,0!==Object.keys(Xt).length&&(ht.state=Xt)}const _n=this.parseUrl(de);this.scheduleNavigation(_n,Te,rn,ht)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(de){this.config=de.map(Io),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(de,Te={}){const{relativeTo:rt,queryParams:ht,fragment:rn,queryParamsHandling:_n,preserveFragment:Xt}=Te,Pn=Xt?this.currentUrlTree.fragment:rn;let hr,qn=null;switch(_n){case"merge":qn={...this.currentUrlTree.queryParams,...ht};break;case"preserve":qn=this.currentUrlTree.queryParams;break;default:qn=ht||null}null!==qn&&(qn=this.removeEmptyProps(qn));try{hr=U(rt?rt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof de[0]||"/"!==de[0][0])&&(de=[]),hr=this.currentUrlTree.root}return oe(hr,de,qn,null!=Pn?Pn:null)}navigateByUrl(de,Te={skipLocationChange:!1}){const rt=D(de)?de:this.parseUrl(de),ht=this.urlHandlingStrategy.merge(rt,this.rawUrlTree);return this.scheduleNavigation(ht,Dr,null,Te)}navigate(de,Te={skipLocationChange:!1}){return function Hs(re){for(let he=0;he<re.length;he++)if(null==re[he])throw new j.wOt(4008,!1)}(de),this.navigateByUrl(this.createUrlTree(de,Te),Te)}serializeUrl(de){return this.urlSerializer.serialize(de)}parseUrl(de){try{return this.urlSerializer.parse(de)}catch{return this.urlSerializer.parse("/")}}isActive(de,Te){let rt;if(rt=!0===Te?{...Wi}:!1===Te?{...Li}:Te,D(de))return $t(this.currentUrlTree,de,rt);const ht=this.parseUrl(de);return $t(this.currentUrlTree,ht,rt)}removeEmptyProps(de){return Object.entries(de).reduce((Te,[rt,ht])=>(null!=ht&&(Te[rt]=ht),Te),{})}scheduleNavigation(de,Te,rt,ht,rn){if(this.disposed)return Promise.resolve(!1);let _n,Xt,Pn;rn?(_n=rn.resolve,Xt=rn.reject,Pn=rn.promise):Pn=new Promise((hr,Qn)=>{_n=hr,Xt=Qn});const qn=this.pendingTasks.add();return zi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(qn))}),this.navigationTransitions.handleNavigationRequest({source:Te,restoredState:rt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:de,extras:ht,resolve:_n,reject:Xt,promise:Pn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Pn.catch(hr=>Promise.reject(hr))}}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),he})(),Da=(()=>{var re;class he{constructor(de,Te,rt,ht,rn,_n){var Xt;this.router=de,this.route=Te,this.tabIndexAttribute=rt,this.renderer=ht,this.el=rn,this.locationStrategy=_n,this.href=null,this.onChanges=new d.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Pn=null===(Xt=rn.nativeElement.tagName)||void 0===Xt?void 0:Xt.toLowerCase();this.isAnchorElement="a"===Pn||"area"===Pn,this.isAnchorElement?this.subscription=de.events.subscribe(qn=>{qn instanceof Er&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(de){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",de)}ngOnChanges(de){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(de){null==de?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=D(de)||Array.isArray(de)?de:[de],this.setTabIndexIfNotOnNativeEl("0"))}onClick(de,Te,rt,ht,rn){const _n=this.urlTree;return!!(null===_n||this.isAnchorElement&&(0!==de||Te||rt||ht||rn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(_n,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var de;null===(de=this.subscription)||void 0===de||de.unsubscribe()}updateHref(){var de;const Te=this.urlTree;this.href=null!==Te&&this.locationStrategy?null===(de=this.locationStrategy)||void 0===de?void 0:de.prepareExternalUrl(this.router.serializeUrl(Te)):null;const rt=null===this.href?null:(0,j.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",rt)}applyAttributeValue(de,Te){const rt=this.renderer,ht=this.el.nativeElement;null!==Te?rt.setAttribute(ht,de,Te):rt.removeAttribute(ht,de)}get urlTree(){return null===this.routerLinkInput?null:D(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(re=he).\u0275fac=function(de){return new(de||re)(j.rXU(co),j.rXU(Fn),j.kS0("tabindex"),j.rXU(j.sFG),j.rXU(j.aKT),j.rXU(u.hb))},re.\u0275dir=j.FsC({type:re,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(de,Te){1&de&&j.bIt("click",function(ht){return Te.onClick(ht.button,ht.ctrlKey,ht.shiftKey,ht.altKey,ht.metaKey)}),2&de&&j.BMQ("target",Te.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",j.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",j.L39],replaceUrl:[2,"replaceUrl","replaceUrl",j.L39],routerLink:"routerLink"},standalone:!0,features:[j.GFd,j.OA$]}),he})();class zo{}let Os=(()=>{var re;class he{preload(de,Te){return Te().pipe(N(()=>(0,se.of)(null)))}}return(re=he).\u0275fac=function(de){return new(de||re)},re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),he})(),Ta=(()=>{var re;class he{constructor(de,Te,rt,ht,rn){this.router=de,this.injector=rt,this.preloadingStrategy=ht,this.loader=rn}setUpPreloading(){this.subscription=this.router.events.pipe((0,I.p)(de=>de instanceof Er),G(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(de,Te){const rt=[];for(const Xt of Te){var ht,rn;Xt.providers&&!Xt._injector&&(Xt._injector=(0,j.Ol2)(Xt.providers,de,`Route: ${Xt.path}`));const Pn=null!==(ht=Xt._injector)&&void 0!==ht?ht:de,qn=null!==(rn=Xt._loadedInjector)&&void 0!==rn?rn:Pn;var _n;(Xt.loadChildren&&!Xt._loadedRoutes&&void 0===Xt.canLoad||Xt.loadComponent&&!Xt._loadedComponent)&&rt.push(this.preloadConfig(Pn,Xt)),(Xt.children||Xt._loadedRoutes)&&rt.push(this.processRoutes(qn,null!==(_n=Xt.children)&&void 0!==_n?_n:Xt._loadedRoutes))}return(0,o.H)(rt).pipe((0,qe.U)())}preloadConfig(de,Te){return this.preloadingStrategy.preload(Te,()=>{let rt;rt=Te.loadChildren&&void 0===Te.canLoad?this.loader.loadChildren(de,Te):(0,se.of)(null);const ht=rt.pipe((0,A.Z)(rn=>{var _n;return null===rn?(0,se.of)(void 0):(Te._loadedRoutes=rn.routes,Te._loadedInjector=rn.injector,this.processRoutes(null!==(_n=rn.injector)&&void 0!==_n?_n:de,rn.routes))}));if(Te.loadComponent&&!Te._loadedComponent){const rn=this.loader.loadComponent(Te);return(0,o.H)([ht,rn]).pipe((0,qe.U)())}return ht})}}return(re=he).\u0275fac=function(de){return new(de||re)(j.KVO(co),j.KVO(j.Ql9),j.KVO(j.uvJ),j.KVO(zo),j.KVO(Sl))},re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),he})();const js=new j.nKC("");let Aa=(()=>{var re;class he{constructor(de,Te,rt,ht,rn={}){this.urlSerializer=de,this.transitions=Te,this.viewportScroller=rt,this.zone=ht,this.options=rn,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},rn.scrollPositionRestoration||(rn.scrollPositionRestoration="disabled"),rn.anchorScrolling||(rn.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof Vr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=de.navigationTrigger,this.restoredId=de.restoredState?de.restoredState.navigationId:0):de instanceof Er?(this.lastId=de.id,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.urlAfterRedirects).fragment)):de instanceof wo&&de.code===To.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof vt&&(de.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(de.position):de.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(de.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(de,Te){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vt(de,"popstate"===this.lastSource?this.store[this.restoredId]:null,Te))})},0)})}ngOnDestroy(){var de,Te;null===(de=this.routerEventsSubscription)||void 0===de||de.unsubscribe(),null===(Te=this.scrollEventsSubscription)||void 0===Te||Te.unsubscribe()}}return(re=he).\u0275fac=function(de){j.QTQ()},re.\u0275prov=j.jDH({token:re,factory:re.\u0275fac}),he})();function Xi(re,he){return{\u0275kind:re,\u0275providers:he}}function Dl(){const re=(0,j.WQX)(j.zZn);return he=>{var Ce,de;const Te=re.get(j.o8S);if(he!==Te.components[0])return;const rt=re.get(co),ht=re.get(Ci);1===re.get(Cr)&&rt.initialNavigation(),null===(Ce=re.get(Ws,null,j.$GK.Optional))||void 0===Ce||Ce.setUpPreloading(),null===(de=re.get(js,null,j.$GK.Optional))||void 0===de||de.init(),rt.resetRootComponentType(Te.componentTypes[0]),ht.closed||(ht.next(),ht.complete(),ht.unsubscribe())}}const Ci=new j.nKC("",{factory:()=>new d.B}),Cr=new j.nKC("",{providedIn:"root",factory:()=>1}),Ws=new j.nKC("");function Ma(re){return Xi(0,[{provide:Ws,useExisting:Ta},{provide:zo,useExisting:re}])}function Ku(re){return Xi(9,[{provide:ut,useValue:pn},{provide:Ot,useValue:{skipNextTransition:!(null==re||!re.skipInitialTransition),...re}}])}const Ps=new j.nKC("ROUTER_FORROOT_GUARD"),qu=[u.aZ,{provide:Wt,useClass:dn},co,Mt,{provide:Fn,useFactory:function xl(re){return re.routerState.root},deps:[co]},Sl,[]];let Yu=(()=>{var re;class he{constructor(de){}static forRoot(de,Te){return{ngModule:he,providers:[qu,[],{provide:di,multi:!0,useValue:de},{provide:Ps,useFactory:Kd,deps:[[co,new j.Xx1,new j.kdw]]},{provide:Hi,useValue:Te||{}},null!=Te&&Te.useHash?{provide:u.hb,useClass:u.fw}:{provide:u.hb,useClass:u.Sm},{provide:js,useFactory:()=>{const re=(0,j.WQX)(u.Xr),he=(0,j.WQX)(j.SKi),Ce=(0,j.WQX)(Hi),de=(0,j.WQX)(ir),Te=(0,j.WQX)(Wt);return Ce.scrollOffset&&re.setOffset(Ce.scrollOffset),new Aa(Te,de,re,he,Ce)}},null!=Te&&Te.preloadingStrategy?Ma(Te.preloadingStrategy).\u0275providers:[],null!=Te&&Te.initialNavigation?Si(Te):[],null!=Te&&Te.bindToComponentInputs?Xi(8,[Oi,{provide:Pr,useExisting:Oi}]).\u0275providers:[],null!=Te&&Te.enableViewTransitions?Ku().\u0275providers:[],[{provide:Ju,useFactory:Dl},{provide:j.iLQ,multi:!0,useExisting:Ju}]]}}static forChild(de){return{ngModule:he,providers:[{provide:di,multi:!0,useValue:de}]}}}return(re=he).\u0275fac=function(de){return new(de||re)(j.KVO(Ps,8))},re.\u0275mod=j.$C({type:re}),re.\u0275inj=j.G2t({}),he})();function Kd(re){return"guarded"}function Si(re){return["disabled"===re.initialNavigation?Xi(3,[{provide:j.hnV,multi:!0,useFactory:()=>{const he=(0,j.WQX)(co);return()=>{he.setUpLocationChangeListener()}}},{provide:Cr,useValue:2}]).\u0275providers:[],"enabledBlocking"===re.initialNavigation?Xi(2,[{provide:Cr,useValue:0},{provide:j.hnV,multi:!0,deps:[j.zZn],useFactory:he=>{const Ce=he.get(u.hj,Promise.resolve());return()=>Ce.then(()=>new Promise(de=>{const Te=he.get(co),rt=he.get(Ci);zi(Te,()=>{de(!0)}),he.get(ir).afterPreactivation=()=>(de(!0),rt.closed?(0,se.of)(void 0):rt),Te.initialNavigation()}))}}]).\u0275providers:[]]}const Ju=new j.nKC("")},3656:(En,Kt,me)=>{"use strict";me.d(Kt,{Yq:()=>Tt,TS:()=>Je,sR:()=>at,el:()=>An,Sb:()=>Wt,QE:()=>T,CF:()=>Ke,Rg:()=>Jt,p4:()=>D,jM:()=>Le,q9:()=>ct,y8:()=>st,Kb:()=>nt,OD:()=>qe,CE:()=>Vn,pF:()=>q,fL:()=>U,YV:()=>bn,er:()=>L,z3:()=>oe});var j=me(467),O=me(9842),ge=me(3953),gt=me(9858),o=me(177),se=me(5531),V=me(4442);var P=me(1413),z=me(3726),k=me(4412),te=me(4572),ne=me(7673),G=me(1635),X=me(5964),B=me(5558),N=me(3669),K=me(9974),ie=me(4360);function Y(xe,Ue){return xe===Ue}var R=me(4341);const Q=["tabsInner"];let qe=(()=>{var xe;class Ue{constructor(He,yt){(0,O.A)(this,"doc",void 0),(0,O.A)(this,"_readyPromise",void 0),(0,O.A)(this,"win",void 0),(0,O.A)(this,"backButton",new P.B),(0,O.A)(this,"keyboardDidShow",new P.B),(0,O.A)(this,"keyboardDidHide",new P.B),(0,O.A)(this,"pause",new P.B),(0,O.A)(this,"resume",new P.B),(0,O.A)(this,"resize",new P.B),this.doc=He,yt.run(()=>{var kt;let sn;this.win=He.defaultView,this.backButton.subscribeWithPriority=function(mn,Tn){return this.subscribe(Kn=>Kn.register(mn,tr=>yt.run(()=>Tn(tr))))},We(this.pause,He,"pause",yt),We(this.resume,He,"resume",yt),We(this.backButton,He,"ionBackButton",yt),We(this.resize,this.win,"resize",yt),We(this.keyboardDidShow,this.win,"ionKeyboardDidShow",yt),We(this.keyboardDidHide,this.win,"ionKeyboardDidHide",yt),this._readyPromise=new Promise(mn=>{sn=mn}),null!==(kt=this.win)&&void 0!==kt&&kt.cordova?He.addEventListener("deviceready",()=>{sn("cordova")},{once:!0}):sn("dom")})}is(He){return(0,se.a)(this.win,He)}platforms(){return(0,se.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(He){return pt(this.win.location.href,He)}isLandscape(){return!this.isPortrait()}isPortrait(){var He,yt;return null===(He=(yt=this.win).matchMedia)||void 0===He?void 0:He.call(yt,"(orientation: portrait)").matches}testUserAgent(He){const yt=this.win.navigator;return!!(null!=yt&&yt.userAgent&&yt.userAgent.indexOf(He)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return xe=Ue,(0,O.A)(Ue,"\u0275fac",function(He){return new(He||xe)(ge.KVO(o.qQ),ge.KVO(ge.SKi))}),(0,O.A)(Ue,"\u0275prov",ge.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})),Ue})();const pt=(xe,Ue)=>{Ue=Ue.replace(/[[\]\\]/g,"\\$&");const He=new RegExp("[\\?&]"+Ue+"=([^&#]*)").exec(xe);return He?decodeURIComponent(He[1].replace(/\+/g," ")):null},We=(xe,Ue,lt,He)=>{Ue&&Ue.addEventListener(lt,yt=>{He.run(()=>{xe.next(null!=yt?yt.detail:void 0)})})};let ct=(()=>{var xe;class Ue{constructor(He,yt,kt,sn){(0,O.A)(this,"location",void 0),(0,O.A)(this,"serializer",void 0),(0,O.A)(this,"router",void 0),(0,O.A)(this,"topOutlet",void 0),(0,O.A)(this,"direction",$e),(0,O.A)(this,"animated",Ze),(0,O.A)(this,"animationBuilder",void 0),(0,O.A)(this,"guessDirection","forward"),(0,O.A)(this,"guessAnimation",void 0),(0,O.A)(this,"lastNavId",-1),this.location=yt,this.serializer=kt,this.router=sn,sn&&sn.events.subscribe(mn=>{if(mn instanceof gt.Z){const Tn=mn.restoredState?mn.restoredState.navigationId:mn.id;this.guessDirection=this.guessAnimation=Tn<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?mn.id:Tn}}),He.backButton.subscribeWithPriority(0,mn=>{this.pop(),mn()})}navigateForward(He,yt={}){return this.setDirection("forward",yt.animated,yt.animationDirection,yt.animation),this.navigate(He,yt)}navigateBack(He,yt={}){return this.setDirection("back",yt.animated,yt.animationDirection,yt.animation),this.navigate(He,yt)}navigateRoot(He,yt={}){return this.setDirection("root",yt.animated,yt.animationDirection,yt.animation),this.navigate(He,yt)}back(He={animated:!0,animationDirection:"back"}){return this.setDirection("back",He.animated,He.animationDirection,He.animation),this.location.back()}pop(){var He=this;return(0,j.A)(function*(){let yt=He.topOutlet;for(;yt;){if(yield yt.pop())return!0;yt=yt.parentOutlet}return!1})()}setDirection(He,yt,kt,sn){this.direction=He,this.animated=dt(He,yt,kt),this.animationBuilder=sn}setTopOutlet(He){this.topOutlet=He}consumeTransition(){let yt,He="root";const kt=this.animationBuilder;return"auto"===this.direction?(He=this.guessDirection,yt=this.guessAnimation):(yt=this.animated,He=this.direction),this.direction=$e,this.animated=Ze,this.animationBuilder=void 0,{direction:He,animation:yt,animationBuilder:kt}}navigate(He,yt){if(Array.isArray(He))return this.router.navigate(He,yt);{const kt=this.serializer.parse(He.toString());return void 0!==yt.queryParams&&(kt.queryParams={...yt.queryParams}),void 0!==yt.fragment&&(kt.fragment=yt.fragment),this.router.navigateByUrl(kt,yt)}}}return xe=Ue,(0,O.A)(Ue,"\u0275fac",function(He){return new(He||xe)(ge.KVO(qe),ge.KVO(o.aZ),ge.KVO(gt.Sd),ge.KVO(gt.Ix,8))}),(0,O.A)(Ue,"\u0275prov",ge.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})),Ue})();const dt=(xe,Ue,lt)=>{if(!1!==Ue){if(void 0!==lt)return lt;if("forward"===xe||"back"===xe)return xe;if("root"===xe&&!0===Ue)return"forward"}},$e="auto",Ze=void 0;let Je=(()=>{var xe;class Ue{get(He,yt){const kt=Qe();return kt?kt.get(He,yt):null}getBoolean(He,yt){const kt=Qe();return!!kt&&kt.getBoolean(He,yt)}getNumber(He,yt){const kt=Qe();return kt?kt.getNumber(He,yt):0}}return xe=Ue,(0,O.A)(Ue,"\u0275fac",function(He){return new(He||xe)}),(0,O.A)(Ue,"\u0275prov",ge.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})),Ue})();const at=new ge.nKC("USERCONFIG"),Qe=()=>{if(typeof window<"u"){const xe=window.Ionic;if(null!=xe&&xe.config)return xe.config}return null};class st{constructor(Ue={}){(0,O.A)(this,"data",void 0),this.data=Ue,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(Ue){return this.data[Ue]}}let Tt=(()=>{var xe;class Ue{constructor(){(0,O.A)(this,"zone",(0,ge.WQX)(ge.SKi)),(0,O.A)(this,"applicationRef",(0,ge.WQX)(ge.o8S)),(0,O.A)(this,"config",(0,ge.WQX)(at))}create(He,yt,kt){var sn;return new on(He,yt,this.applicationRef,this.zone,kt,null!==(sn=this.config.useSetInputAPI)&&void 0!==sn&&sn)}}return xe=Ue,(0,O.A)(Ue,"\u0275fac",function(He){return new(He||xe)}),(0,O.A)(Ue,"\u0275prov",ge.jDH({token:xe,factory:xe.\u0275fac})),Ue})();class on{constructor(Ue,lt,He,yt,kt,sn){(0,O.A)(this,"environmentInjector",void 0),(0,O.A)(this,"injector",void 0),(0,O.A)(this,"applicationRef",void 0),(0,O.A)(this,"zone",void 0),(0,O.A)(this,"elementReferenceKey",void 0),(0,O.A)(this,"enableSignalsSupport",void 0),(0,O.A)(this,"elRefMap",new WeakMap),(0,O.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=Ue,this.injector=lt,this.applicationRef=He,this.zone=yt,this.elementReferenceKey=kt,this.enableSignalsSupport=sn}attachViewToDom(Ue,lt,He,yt){return this.zone.run(()=>new Promise(kt=>{const sn={...He};void 0!==this.elementReferenceKey&&(sn[this.elementReferenceKey]=Ue),kt(Ut(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,Ue,lt,sn,yt,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(Ue,lt){return this.zone.run(()=>new Promise(He=>{const yt=this.elRefMap.get(lt);if(yt){yt.destroy(),this.elRefMap.delete(lt);const kt=this.elEventsMap.get(lt);kt&&(kt(),this.elEventsMap.delete(lt))}He()}))}}const Ut=(xe,Ue,lt,He,yt,kt,sn,mn,Tn,Kn,tr,Nr)=>{const Dr=ge.zZn.create({providers:Yt(Tn),parent:lt}),Jn=(0,ge.a0P)(mn,{environmentInjector:Ue,elementInjector:Dr}),yr=Jn.instance,Vr=Jn.location.nativeElement;if(Tn)if(tr&&void 0!==yr[tr]&&console.error(`[Ionic Error]: ${tr} is a reserved property when using ${sn.tagName.toLowerCase()}. Rename or remove the "${tr}" property from ${mn.name}.`),!0===Nr&&void 0!==Jn.setInput){const{modal:Lr,popover:To,...eo}=Tn;for(const wo in eo)Jn.setInput(wo,eo[wo]);void 0!==Lr&&Object.assign(yr,{modal:Lr}),void 0!==To&&Object.assign(yr,{popover:To})}else Object.assign(yr,Tn);if(Kn)for(const Lr of Kn)Vr.classList.add(Lr);const Er=$t(xe,yr,Vr);return sn.appendChild(Vr),He.attachView(Jn.hostView),yt.set(Vr,Jn),kt.set(Vr,Er),Vr},ln=[V.L,V.a,V.b,V.c,V.d],$t=(xe,Ue,lt)=>xe.run(()=>{const He=ln.filter(yt=>"function"==typeof Ue[yt]).map(yt=>{const kt=sn=>Ue[yt](sn.detail);return lt.addEventListener(yt,kt),()=>lt.removeEventListener(yt,kt)});return()=>He.forEach(yt=>yt())}),yn=new ge.nKC("NavParamsToken"),Yt=xe=>[{provide:yn,useValue:xe},{provide:st,useFactory:hn,deps:[yn]}],hn=xe=>new st(xe),It=(xe,Ue)=>{const lt=xe.prototype;Ue.forEach(He=>{Object.defineProperty(lt,He,{get(){return this.el[He]},set(yt){this.z.runOutsideAngular(()=>this.el[He]=yt)}})})},an=(xe,Ue)=>{const lt=xe.prototype;Ue.forEach(He=>{lt[He]=function(){const yt=arguments;return this.z.runOutsideAngular(()=>this.el[He].apply(this.el,yt))}})},Vt=(xe,Ue,lt)=>{lt.forEach(He=>xe[He]=(0,z.R)(Ue,He))};function ze(xe){return function(lt){const{defineCustomElementFn:He,inputs:yt,methods:kt}=xe;return void 0!==He&&He(),yt&&It(lt,yt),kt&&an(lt,kt),lt}}const Be=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Oe=["present","dismiss","onDidDismiss","onWillDismiss"];let Ke=(()=>{var xe;let Ue=((0,O.A)(xe=class{constructor(He,yt,kt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"template",void 0),(0,O.A)(this,"isCmpOpen",!1),(0,O.A)(this,"el",void 0),this.z=kt,this.el=yt.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,He.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,He.detectChanges()}),Vt(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(He){return new(He||xe)(ge.rXU(ge.gRc),ge.rXU(ge.aKT),ge.rXU(ge.SKi))}),(0,O.A)(xe,"\u0275dir",ge.FsC({type:xe,selectors:[["ion-popover"]],contentQueries:function(He,yt,kt){if(1&He&&ge.wni(kt,ge.C4Q,5),2&He){let sn;ge.mGM(sn=ge.lsd())&&(yt.template=sn.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),xe);return Ue=(0,G.Cg)([ze({inputs:Be,methods:Oe})],Ue),Ue})();const Et=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Bt=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Wt=(()=>{var xe;let Ue=((0,O.A)(xe=class{constructor(He,yt,kt){(0,O.A)(this,"z",void 0),(0,O.A)(this,"template",void 0),(0,O.A)(this,"isCmpOpen",!1),(0,O.A)(this,"el",void 0),this.z=kt,this.el=yt.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,He.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,He.detectChanges()}),Vt(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(He){return new(He||xe)(ge.rXU(ge.gRc),ge.rXU(ge.aKT),ge.rXU(ge.SKi))}),(0,O.A)(xe,"\u0275dir",ge.FsC({type:xe,selectors:[["ion-modal"]],contentQueries:function(He,yt,kt){if(1&He&&ge.wni(kt,ge.C4Q,5),2&He){let sn;ge.mGM(sn=ge.lsd())&&(yt.template=sn.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),xe);return Ue=(0,G.Cg)([ze({inputs:Et,methods:Bt})],Ue),Ue})();const Ft=(xe,Ue)=>((xe=xe.filter(lt=>lt.stackId!==Ue.stackId)).push(Ue),xe),et=(xe,Ue)=>{const lt=xe.createUrlTree(["."],{relativeTo:Ue});return xe.serializeUrl(lt)},ot=(xe,Ue)=>!Ue||xe.stackId!==Ue.stackId,xt=(xe,Ue)=>{if(!xe)return;const lt=bt(Ue);for(let He=0;He<lt.length;He++){if(He>=xe.length)return lt[He];if(lt[He]!==xe[He])return}},bt=xe=>xe.split("/").map(Ue=>Ue.trim()).filter(Ue=>""!==Ue),At=xe=>{xe&&(xe.ref.destroy(),xe.unlistenEvents())};class un{constructor(Ue,lt,He,yt,kt,sn){(0,O.A)(this,"containerEl",void 0),(0,O.A)(this,"router",void 0),(0,O.A)(this,"navCtrl",void 0),(0,O.A)(this,"zone",void 0),(0,O.A)(this,"location",void 0),(0,O.A)(this,"views",[]),(0,O.A)(this,"runningTask",void 0),(0,O.A)(this,"skipTransition",!1),(0,O.A)(this,"tabsPrefix",void 0),(0,O.A)(this,"activeView",void 0),(0,O.A)(this,"nextId",0),this.containerEl=lt,this.router=He,this.navCtrl=yt,this.zone=kt,this.location=sn,this.tabsPrefix=void 0!==Ue?bt(Ue):void 0}createView(Ue,lt){var He;const yt=et(this.router,lt),kt=null==Ue||null===(He=Ue.location)||void 0===He?void 0:He.nativeElement,sn=$t(this.zone,Ue.instance,kt);return{id:this.nextId++,stackId:xt(this.tabsPrefix,yt),unlistenEvents:sn,element:kt,ref:Ue,url:yt}}getExistingView(Ue){const lt=et(this.router,Ue),He=this.views.find(yt=>yt.url===lt);return He&&He.ref.changeDetectorRef.reattach(),He}setActive(Ue){var lt,He;const yt=this.navCtrl.consumeTransition();let{direction:kt,animation:sn,animationBuilder:mn}=yt;const Tn=this.activeView,Kn=ot(Ue,Tn);Kn&&(kt="back",sn=void 0);const tr=this.views.slice();let Nr;const Dr=this.router;Dr.getCurrentNavigation?Nr=Dr.getCurrentNavigation():null!==(lt=Dr.navigations)&&void 0!==lt&&lt.value&&(Nr=Dr.navigations.value),null!==(He=Nr)&&void 0!==He&&null!==(He=He.extras)&&void 0!==He&&He.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Jn=this.views.includes(Ue),yr=this.insertView(Ue,kt);Jn||Ue.ref.changeDetectorRef.detectChanges();const Vr=Ue.animationBuilder;return void 0===mn&&"back"===kt&&!Kn&&void 0!==Vr&&(mn=Vr),Tn&&(Tn.animationBuilder=mn),this.zone.runOutsideAngular(()=>this.wait(()=>(Tn&&Tn.ref.changeDetectorRef.detach(),Ue.ref.changeDetectorRef.reattach(),this.transition(Ue,Tn,sn,this.canGoBack(1),!1,mn).then(()=>mt(Ue,yr,tr,this.location,this.zone)).then(()=>({enteringView:Ue,direction:kt,animation:sn,tabSwitch:Kn})))))}canGoBack(Ue,lt=this.getActiveStackId()){return this.getStack(lt).length>Ue}pop(Ue,lt=this.getActiveStackId()){return this.zone.run(()=>{const He=this.getStack(lt);if(He.length<=Ue)return Promise.resolve(!1);const yt=He[He.length-Ue-1];let kt=yt.url;const sn=yt.savedData;if(sn){var mn;const Kn=sn.get("primary");null!=Kn&&null!==(mn=Kn.route)&&void 0!==mn&&null!==(mn=mn._routerState)&&void 0!==mn&&mn.snapshot.url&&(kt=Kn.route._routerState.snapshot.url)}const{animationBuilder:Tn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(kt,{...yt.savedExtras,animation:Tn}).then(()=>!0)})}startBackTransition(){const Ue=this.activeView;if(Ue){const lt=this.getStack(Ue.stackId),He=lt[lt.length-2],yt=He.animationBuilder;return this.wait(()=>this.transition(He,Ue,"back",this.canGoBack(2),!0,yt))}return Promise.resolve()}endBackTransition(Ue){Ue?(this.skipTransition=!0,this.pop(1)):this.activeView&&St(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(Ue){const lt=this.getStack(Ue);return lt.length>0?lt[lt.length-1]:void 0}getRootUrl(Ue){const lt=this.getStack(Ue);return lt.length>0?lt[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(At),this.activeView=void 0,this.views=[]}getStack(Ue){return this.views.filter(lt=>lt.stackId===Ue)}insertView(Ue,lt){return this.activeView=Ue,this.views=((xe,Ue,lt)=>"root"===lt?Ft(xe,Ue):"forward"===lt?((xe,Ue)=>(xe.indexOf(Ue)>=0?xe=xe.filter(He=>He.stackId!==Ue.stackId||He.id<=Ue.id):xe.push(Ue),xe))(xe,Ue):((xe,Ue)=>xe.indexOf(Ue)>=0?xe.filter(He=>He.stackId!==Ue.stackId||He.id<=Ue.id):Ft(xe,Ue))(xe,Ue))(this.views,Ue,lt),this.views.slice()}transition(Ue,lt,He,yt,kt,sn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(lt===Ue)return Promise.resolve(!1);const mn=Ue?Ue.element:void 0,Tn=lt?lt.element:void 0,Kn=this.containerEl;return mn&&mn!==Tn&&(mn.classList.add("ion-page"),mn.classList.add("ion-page-invisible"),Kn.commit)?Kn.commit(mn,Tn,{duration:void 0===He?0:void 0,direction:He,showGoBack:yt,progressAnimation:kt,animationBuilder:sn}):Promise.resolve(!1)}wait(Ue){var lt=this;return(0,j.A)(function*(){void 0!==lt.runningTask&&(yield lt.runningTask,lt.runningTask=void 0);const He=lt.runningTask=Ue();return He.finally(()=>lt.runningTask=void 0),He})()}}const mt=(xe,Ue,lt,He,yt)=>"function"==typeof requestAnimationFrame?new Promise(kt=>{requestAnimationFrame(()=>{St(xe,Ue,lt,He,yt),kt()})}):Promise.resolve(),St=(xe,Ue,lt,He,yt)=>{yt.run(()=>lt.filter(kt=>!Ue.includes(kt)).forEach(At)),Ue.forEach(kt=>{const mn=He.path().split("?")[0].split("#")[0];if(kt!==xe&&kt.url!==mn){const Tn=kt.element;Tn.setAttribute("aria-hidden","true"),Tn.classList.add("ion-page-hidden"),kt.ref.changeDetectorRef.detach()}})};let Jt=(()=>{var xe;class Ue{get activatedComponentRef(){return this.activated}set animation(He){this.nativeEl.animation=He}set animated(He){this.nativeEl.animated=He}set swipeGesture(He){this._swipeGesture=He,this.nativeEl.swipeHandler=He?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:yt=>this.stackCtrl.endBackTransition(yt)}:void 0}constructor(He,yt,kt,sn,mn,Tn,Kn,tr){(0,O.A)(this,"parentOutlet",void 0),(0,O.A)(this,"nativeEl",void 0),(0,O.A)(this,"activatedView",null),(0,O.A)(this,"tabsPrefix",void 0),(0,O.A)(this,"_swipeGesture",void 0),(0,O.A)(this,"stackCtrl",void 0),(0,O.A)(this,"proxyMap",new WeakMap),(0,O.A)(this,"currentActivatedRoute$",new k.t(null)),(0,O.A)(this,"activated",null),(0,O.A)(this,"_activatedRoute",null),(0,O.A)(this,"name",gt.Xk),(0,O.A)(this,"stackWillChange",new ge.bkB),(0,O.A)(this,"stackDidChange",new ge.bkB),(0,O.A)(this,"activateEvents",new ge.bkB),(0,O.A)(this,"deactivateEvents",new ge.bkB),(0,O.A)(this,"parentContexts",(0,ge.WQX)(gt.Zp)),(0,O.A)(this,"location",(0,ge.WQX)(ge.c1b)),(0,O.A)(this,"environmentInjector",(0,ge.WQX)(ge.uvJ)),(0,O.A)(this,"inputBinder",(0,ge.WQX)(nn,{optional:!0})),(0,O.A)(this,"supportsBindingToComponentInputs",!0),(0,O.A)(this,"config",(0,ge.WQX)(Je)),(0,O.A)(this,"navCtrl",(0,ge.WQX)(ct)),this.parentOutlet=tr,this.nativeEl=sn.nativeElement,this.name=He||gt.Xk,this.tabsPrefix="true"===yt?et(mn,Kn):void 0,this.stackCtrl=new un(this.tabsPrefix,this.nativeEl,mn,this.navCtrl,Tn,kt),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var He;this.stackCtrl.destroy(),null===(He=this.inputBinder)||void 0===He||He.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const He=this.getContext();null!=He&&He.route&&this.activateWith(He.route,He.injector)}new Promise(He=>((xe,Ue)=>{xe.componentOnReady?xe.componentOnReady().then(lt=>Ue(lt)):(xe=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(xe):"function"==typeof requestAnimationFrame?requestAnimationFrame(xe):setTimeout(xe)})(()=>Ue(xe))})(this.nativeEl,He)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(He,yt){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const yt=this.getContext();this.activatedView.savedData=new Map(yt.children.contexts);const kt=this.activatedView.savedData.get("primary");if(kt&&yt.route&&(kt.route={...yt.route}),this.activatedView.savedExtras={},yt.route){const sn=yt.route.snapshot;this.activatedView.savedExtras.queryParams=sn.queryParams,this.activatedView.savedExtras.fragment=sn.fragment}}const He=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(He)}}activateWith(He,yt){var kt;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=He;let sn,mn=this.stackCtrl.getExistingView(He);if(mn){sn=this.activated=mn.ref;const tr=mn.savedData;tr&&(this.getContext().children.contexts=tr),this.updateActivatedRouteProxy(sn.instance,He)}else{var Tn;const tr=He._futureSnapshot,Nr=this.parentContexts.getOrCreateContext(this.name).children,Dr=new k.t(null),Jn=this.createActivatedRouteProxy(Dr,He),yr=new Nt(Jn,Nr,this.location.injector),Vr=null!==(Tn=tr.routeConfig.component)&&void 0!==Tn?Tn:tr.component;sn=this.activated=this.outletContent.createComponent(Vr,{index:this.outletContent.length,injector:yr,environmentInjector:null!=yt?yt:this.environmentInjector}),Dr.next(sn.instance),mn=this.stackCtrl.createView(this.activated,He),this.proxyMap.set(sn.instance,Jn),this.currentActivatedRoute$.next({component:sn.instance,activatedRoute:He})}null===(kt=this.inputBinder)||void 0===kt||kt.bindActivatedRouteToOutletComponent(this),this.activatedView=mn,this.navCtrl.setTopOutlet(this);const Kn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:mn,tabSwitch:ot(mn,Kn)}),this.stackCtrl.setActive(mn).then(tr=>{this.activateEvents.emit(sn.instance),this.stackDidChange.emit(tr)})}canGoBack(He=1,yt){return this.stackCtrl.canGoBack(He,yt)}pop(He=1,yt){return this.stackCtrl.pop(He,yt)}getLastUrl(He){const yt=this.stackCtrl.getLastUrl(He);return yt?yt.url:void 0}getLastRouteView(He){return this.stackCtrl.getLastUrl(He)}getRootView(He){return this.stackCtrl.getRootUrl(He)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(He,yt){const kt=new gt.nX;return kt._futureSnapshot=yt._futureSnapshot,kt._routerState=yt._routerState,kt.snapshot=yt.snapshot,kt.outlet=yt.outlet,kt.component=yt.component,kt._paramMap=this.proxyObservable(He,"paramMap"),kt._queryParamMap=this.proxyObservable(He,"queryParamMap"),kt.url=this.proxyObservable(He,"url"),kt.params=this.proxyObservable(He,"params"),kt.queryParams=this.proxyObservable(He,"queryParams"),kt.fragment=this.proxyObservable(He,"fragment"),kt.data=this.proxyObservable(He,"data"),kt}proxyObservable(He,yt){return He.pipe((0,X.p)(kt=>!!kt),(0,B.n)(kt=>this.currentActivatedRoute$.pipe((0,X.p)(sn=>null!==sn&&sn.component===kt),(0,B.n)(sn=>sn&&sn.activatedRoute[yt]),function Ae(xe,Ue=N.D){return xe=null!=xe?xe:Y,(0,K.N)((lt,He)=>{let yt,kt=!0;lt.subscribe((0,ie._)(He,sn=>{const mn=Ue(sn);(kt||!xe(yt,mn))&&(kt=!1,yt=mn,He.next(sn))}))})}())))}updateActivatedRouteProxy(He,yt){const kt=this.proxyMap.get(He);if(!kt)throw new Error("Could not find activated route proxy for view");kt._futureSnapshot=yt._futureSnapshot,kt._routerState=yt._routerState,kt.snapshot=yt.snapshot,kt.outlet=yt.outlet,kt.component=yt.component,this.currentActivatedRoute$.next({component:He,activatedRoute:yt})}}return xe=Ue,(0,O.A)(Ue,"\u0275fac",function(He){return new(He||xe)(ge.kS0("name"),ge.kS0("tabs"),ge.rXU(o.aZ),ge.rXU(ge.aKT),ge.rXU(gt.Ix),ge.rXU(ge.SKi),ge.rXU(gt.nX),ge.rXU(xe,12))}),(0,O.A)(Ue,"\u0275dir",ge.FsC({type:xe,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),Ue})();class Nt{constructor(Ue,lt,He){(0,O.A)(this,"route",void 0),(0,O.A)(this,"childContexts",void 0),(0,O.A)(this,"parent",void 0),this.route=Ue,this.childContexts=lt,this.parent=He}get(Ue,lt){return Ue===gt.nX?this.route:Ue===gt.Zp?this.childContexts:this.parent.get(Ue,lt)}}const nn=new ge.nKC("");let fn=(()=>{var xe;class Ue{constructor(){(0,O.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(He){this.unsubscribeFromRouteData(He),this.subscribeToRouteData(He)}unsubscribeFromRouteData(He){var yt;null===(yt=this.outletDataSubscriptions.get(He))||void 0===yt||yt.unsubscribe(),this.outletDataSubscriptions.delete(He)}subscribeToRouteData(He){const{activatedRoute:yt}=He,kt=(0,te.z)([yt.queryParams,yt.params,yt.data]).pipe((0,B.n)(([sn,mn,Tn],Kn)=>(Tn={...sn,...mn,...Tn},0===Kn?(0,ne.of)(Tn):Promise.resolve(Tn)))).subscribe(sn=>{if(!He.isActivated||!He.activatedComponentRef||He.activatedRoute!==yt||null===yt.component)return void this.unsubscribeFromRouteData(He);const mn=(0,ge.HJs)(yt.component);if(mn)for(const{templateName:Tn}of mn.inputs)He.activatedComponentRef.setInput(Tn,sn[Tn]);else this.unsubscribeFromRouteData(He)});this.outletDataSubscriptions.set(He,kt)}}return xe=Ue,(0,O.A)(Ue,"\u0275fac",function(He){return new(He||xe)}),(0,O.A)(Ue,"\u0275prov",ge.jDH({token:xe,factory:xe.\u0275fac})),Ue})();const bn=()=>({provide:nn,useFactory:Mn,deps:[gt.Ix]});function Mn(xe){return null!=xe&&xe.componentInputBindingEnabled?new fn:null}const In=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let An=(()=>{var xe;let Ue=((0,O.A)(xe=class{constructor(He,yt,kt,sn,mn,Tn){(0,O.A)(this,"routerOutlet",void 0),(0,O.A)(this,"navCtrl",void 0),(0,O.A)(this,"config",void 0),(0,O.A)(this,"r",void 0),(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.routerOutlet=He,this.navCtrl=yt,this.config=kt,this.r=sn,this.z=mn,Tn.detach(),this.el=this.r.nativeElement}onClick(He){var yt;const kt=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(yt=this.routerOutlet)&&void 0!==yt&&yt.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),He.preventDefault()):null!=kt&&(this.navCtrl.navigateBack(kt,{animation:this.routerAnimation}),He.preventDefault())}},"\u0275fac",function(He){return new(He||xe)(ge.rXU(Jt,8),ge.rXU(ct),ge.rXU(Je),ge.rXU(ge.aKT),ge.rXU(ge.SKi),ge.rXU(ge.gRc))}),(0,O.A)(xe,"\u0275dir",ge.FsC({type:xe,hostBindings:function(He,yt){1&He&&ge.bIt("click",function(sn){return yt.onClick(sn)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),xe);return Ue=(0,G.Cg)([ze({inputs:In})],Ue),Ue})(),Vn=(()=>{var xe;class Ue{constructor(He,yt,kt,sn,mn){(0,O.A)(this,"locationStrategy",void 0),(0,O.A)(this,"navCtrl",void 0),(0,O.A)(this,"elementRef",void 0),(0,O.A)(this,"router",void 0),(0,O.A)(this,"routerLink",void 0),(0,O.A)(this,"routerDirection","forward"),(0,O.A)(this,"routerAnimation",void 0),this.locationStrategy=He,this.navCtrl=yt,this.elementRef=kt,this.router=sn,this.routerLink=mn}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var He;if(null!==(He=this.routerLink)&&void 0!==He&&He.urlTree){const yt=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=yt}}onClick(He){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),He.preventDefault()}}return xe=Ue,(0,O.A)(Ue,"\u0275fac",function(He){return new(He||xe)(ge.rXU(o.hb),ge.rXU(ct),ge.rXU(ge.aKT),ge.rXU(gt.Ix),ge.rXU(gt.Wk,8))}),(0,O.A)(Ue,"\u0275dir",ge.FsC({type:xe,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(He,yt){1&He&&ge.bIt("click",function(sn){return yt.onClick(sn)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[ge.OA$]})),Ue})(),q=(()=>{var xe;class Ue{constructor(He,yt,kt,sn,mn){(0,O.A)(this,"locationStrategy",void 0),(0,O.A)(this,"navCtrl",void 0),(0,O.A)(this,"elementRef",void 0),(0,O.A)(this,"router",void 0),(0,O.A)(this,"routerLink",void 0),(0,O.A)(this,"routerDirection","forward"),(0,O.A)(this,"routerAnimation",void 0),this.locationStrategy=He,this.navCtrl=yt,this.elementRef=kt,this.router=sn,this.routerLink=mn}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var He;if(null!==(He=this.routerLink)&&void 0!==He&&He.urlTree){const yt=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=yt}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return xe=Ue,(0,O.A)(Ue,"\u0275fac",function(He){return new(He||xe)(ge.rXU(o.hb),ge.rXU(ct),ge.rXU(ge.aKT),ge.rXU(gt.Ix),ge.rXU(gt.Wk,8))}),(0,O.A)(Ue,"\u0275dir",ge.FsC({type:xe,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(He,yt){1&He&&ge.bIt("click",function(){return yt.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[ge.OA$]})),Ue})();const ve=["animated","animation","root","rootParams","swipeGesture"],je=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let T=(()=>{var xe;let Ue=((0,O.A)(xe=class{constructor(He,yt,kt,sn,mn,Tn){(0,O.A)(this,"z",void 0),(0,O.A)(this,"el",void 0),this.z=mn,Tn.detach(),this.el=He.nativeElement,He.nativeElement.delegate=sn.create(yt,kt),Vt(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(He){return new(He||xe)(ge.rXU(ge.aKT),ge.rXU(ge.uvJ),ge.rXU(ge.zZn),ge.rXU(Tt),ge.rXU(ge.SKi),ge.rXU(ge.gRc))}),(0,O.A)(xe,"\u0275dir",ge.FsC({type:xe,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),xe);return Ue=(0,G.Cg)([ze({inputs:ve,methods:je})],Ue),Ue})(),D=(()=>{var xe;class Ue{constructor(He){(0,O.A)(this,"navCtrl",void 0),(0,O.A)(this,"tabsInner",void 0),(0,O.A)(this,"ionTabsWillChange",new ge.bkB),(0,O.A)(this,"ionTabsDidChange",new ge.bkB),(0,O.A)(this,"tabBarSlot","bottom"),this.navCtrl=He}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:He,tabSwitch:yt}){const kt=He.stackId;yt&&void 0!==kt&&this.ionTabsWillChange.emit({tab:kt})}onStackDidChange({enteringView:He,tabSwitch:yt}){const kt=He.stackId;yt&&void 0!==kt&&(this.tabBar&&(this.tabBar.selectedTab=kt),this.ionTabsDidChange.emit({tab:kt}))}select(He){const yt="string"==typeof He,kt=yt?He:He.detail.tab,sn=this.outlet.getActiveStackId()===kt,mn=`${this.outlet.tabsPrefix}/${kt}`;if(yt||He.stopPropagation(),sn){const Tn=this.outlet.getActiveStackId(),Kn=this.outlet.getLastRouteView(Tn);if((null==Kn?void 0:Kn.url)===mn)return;const tr=this.outlet.getRootView(kt);return this.navCtrl.navigateRoot(mn,{...tr&&mn===tr.url&&tr.savedExtras,animated:!0,animationDirection:"back"})}{const Tn=this.outlet.getLastRouteView(kt);return this.navCtrl.navigateRoot((null==Tn?void 0:Tn.url)||mn,{...null==Tn?void 0:Tn.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(He=>{const yt=He.el.getAttribute("slot");yt!==this.tabBarSlot&&(this.tabBarSlot=yt,this.relocateTabBar())})}relocateTabBar(){const He=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(He):this.tabsInner.nativeElement.after(He)}}return xe=Ue,(0,O.A)(Ue,"\u0275fac",function(He){return new(He||xe)(ge.rXU(ct))}),(0,O.A)(Ue,"\u0275dir",ge.FsC({type:xe,selectors:[["ion-tabs"]],viewQuery:function(He,yt){if(1&He&&ge.GBs(Q,7,ge.aKT),2&He){let kt;ge.mGM(kt=ge.lsd())&&(yt.tabsInner=kt.first)}},hostBindings:function(He,yt){1&He&&ge.bIt("ionTabButtonClick",function(sn){return yt.select(sn)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),Ue})();const L=xe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(xe):"function"==typeof requestAnimationFrame?requestAnimationFrame(xe):setTimeout(xe);let U=(()=>{var xe;class Ue{constructor(He,yt){(0,O.A)(this,"injector",void 0),(0,O.A)(this,"elementRef",void 0),(0,O.A)(this,"onChange",()=>{}),(0,O.A)(this,"onTouched",()=>{}),(0,O.A)(this,"lastValue",void 0),(0,O.A)(this,"statusChanges",void 0),this.injector=He,this.elementRef=yt}writeValue(He){this.elementRef.nativeElement.value=this.lastValue=He,oe(this.elementRef)}handleValueChange(He,yt){He===this.elementRef.nativeElement&&(yt!==this.lastValue&&(this.lastValue=yt,this.onChange(yt)),oe(this.elementRef))}_handleBlurEvent(He){He===this.elementRef.nativeElement&&(this.onTouched(),oe(this.elementRef))}registerOnChange(He){this.onChange=He}registerOnTouched(He){this.onTouched=He}setDisabledState(He){this.elementRef.nativeElement.disabled=He}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let He;try{He=this.injector.get(R.vO)}catch{}if(!He)return;He.statusChanges&&(this.statusChanges=He.statusChanges.subscribe(()=>oe(this.elementRef)));const yt=He.control;yt&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(sn=>{if(typeof yt[sn]<"u"){const mn=yt[sn].bind(yt);yt[sn]=(...Tn)=>{mn(...Tn),oe(this.elementRef)}}})}}return xe=Ue,(0,O.A)(Ue,"\u0275fac",function(He){return new(He||xe)(ge.rXU(ge.zZn),ge.rXU(ge.aKT))}),(0,O.A)(Ue,"\u0275dir",ge.FsC({type:xe,hostBindings:function(He,yt){1&He&&ge.bIt("ionBlur",function(sn){return yt._handleBlurEvent(sn.target)})}})),Ue})();const oe=xe=>{L(()=>{const Ue=xe.nativeElement,lt=null!=Ue.value&&Ue.value.toString().length>0,He=W(Ue);ue(Ue,He);const yt=Ue.closest("ion-item");yt&&ue(yt,lt?[...He,"item-has-value"]:He)})},W=xe=>{const Ue=xe.classList,lt=[];for(let He=0;He<Ue.length;He++){const yt=Ue.item(He);null!==yt&&Pe(yt,"ng-")&&lt.push(`ion-${yt.substring(3)}`)}return lt},ue=(xe,Ue)=>{const lt=xe.classList;lt.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),lt.add(...Ue)},Pe=(xe,Ue)=>xe.substring(0,Ue.length)===Ue;class Le{shouldDetach(Ue){return!1}shouldAttach(Ue){return!1}store(Ue,lt){}retrieve(Ue){return null}shouldReuseRoute(Ue,lt){if(Ue.routeConfig!==lt.routeConfig)return!1;const He=Ue.params,yt=lt.params,kt=Object.keys(He),sn=Object.keys(yt);if(kt.length!==sn.length)return!1;for(const mn of kt)if(yt[mn]!==He[mn])return!1;return!0}}class nt{constructor(Ue){(0,O.A)(this,"ctrl",void 0),this.ctrl=Ue}create(Ue){return this.ctrl.create(Ue||{})}dismiss(Ue,lt,He){return this.ctrl.dismiss(Ue,lt,He)}getTop(){return this.ctrl.getTop()}}},5374:(En,Kt,me)=>{"use strict";me.d(Kt,{hG:()=>Vr,hB:()=>_,xk:()=>te,YH:()=>ne,U1:()=>B,mC:()=>N,el:()=>kt,In:()=>ie,Jm:()=>R,QW:()=>Q,b_:()=>pe,I9:()=>Se,ME:()=>Ve,HW:()=>qe,tN:()=>pt,eY:()=>We,ZB:()=>ct,hU:()=>dt,W9:()=>$e,A9:()=>Ze,M0:()=>Tt,lO:()=>on,eU:()=>Ut,iq:()=>ln,$w:()=>hn,uz:()=>an,Dg:()=>Vt,he:()=>Et,nf:()=>Bt,AF:()=>Wt,T6:()=>yr,Sb:()=>Kn,CF:()=>tr,KO:()=>St,f0:()=>Jt,Rg:()=>He,ln:()=>An,Nm:()=>je,Ip:()=>T,Jq:()=>oe,qW:()=>W,p4:()=>yt,BC:()=>nt,BY:()=>Ue,ai:()=>lt,bv:()=>vi,Xi:()=>eo,W3:()=>ko,su:()=>M,Je:()=>x,Gw:()=>I});var j=me(9842),O=me(3953),ge=me(4341),gt=me(3656),o=me(1635),se=me(3726),V=me(177),v=me(9858),b=me(617),y=me(467),C=me(8393);const s=me(4921).i,l=function(){var be=(0,y.A)(function*(Xe,ft){if(!(typeof window>"u"))return yield s(),(0,C.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),ft)});return function(ft,Ee){return be.apply(this,arguments)}}(),a=["*"],d=["outletContent"],f=["outlet"],u=[[["","slot","top"]],"*"],p=["[slot=top]","*"];function c(be,Xe){if(1&be&&(O.j41(0,"div",1),O.eu8(1,2),O.k0s()),2&be){const ft=O.XpG();O.R7$(),O.Y8G("ngTemplateOutlet",ft.template)}}function m(be,Xe){if(1&be&&O.eu8(0,1),2&be){const ft=O.XpG();O.Y8G("ngTemplateOutlet",ft.template)}}let _=(()=>{var be;class Xe extends gt.fL{constructor(Ee,vt){super(Ee,vt)}writeValue(Ee){this.elementRef.nativeElement.checked=this.lastValue=Ee,(0,gt.z3)(this.elementRef)}_handleIonChange(Ee){this.handleValueChange(Ee,Ee.checked)}}return be=Xe,(0,j.A)(Xe,"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.zZn),O.rXU(O.aKT))}),(0,j.A)(Xe,"\u0275dir",O.FsC({type:be,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(Ee,vt){1&Ee&&O.bIt("ionChange",function(fr){return vt._handleIonChange(fr.target)})},features:[O.Jv_([{provide:ge.kq,useExisting:be,multi:!0}]),O.Vt3]})),Xe})(),M=(()=>{var be;class Xe extends gt.fL{constructor(Ee,vt){super(Ee,vt),(0,j.A)(this,"el",void 0),this.el=vt}handleInputEvent(Ee){this.handleValueChange(Ee,Ee.value)}registerOnChange(Ee){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?vt=>{Ee(""===vt?null:parseFloat(vt))}:Ee)}}return be=Xe,(0,j.A)(Xe,"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.zZn),O.rXU(O.aKT))}),(0,j.A)(Xe,"\u0275dir",O.FsC({type:be,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(Ee,vt){1&Ee&&O.bIt("ionInput",function(fr){return vt.handleInputEvent(fr.target)})},features:[O.Jv_([{provide:ge.kq,useExisting:be,multi:!0}]),O.Vt3]})),Xe})(),x=(()=>{var be;class Xe extends gt.fL{constructor(Ee,vt){super(Ee,vt)}_handleChangeEvent(Ee){this.handleValueChange(Ee,Ee.value)}}return be=Xe,(0,j.A)(Xe,"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.zZn),O.rXU(O.aKT))}),(0,j.A)(Xe,"\u0275dir",O.FsC({type:be,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(Ee,vt){1&Ee&&O.bIt("ionChange",function(fr){return vt._handleChangeEvent(fr.target)})},features:[O.Jv_([{provide:ge.kq,useExisting:be,multi:!0}]),O.Vt3]})),Xe})(),I=(()=>{var be;class Xe extends gt.fL{constructor(Ee,vt){super(Ee,vt)}_handleInputEvent(Ee){this.handleValueChange(Ee,Ee.value)}}return be=Xe,(0,j.A)(Xe,"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.zZn),O.rXU(O.aKT))}),(0,j.A)(Xe,"\u0275dir",O.FsC({type:be,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(Ee,vt){1&Ee&&O.bIt("ionInput",function(fr){return vt._handleInputEvent(fr.target)})},features:[O.Jv_([{provide:ge.kq,useExisting:be,multi:!0}]),O.Vt3]})),Xe})();const A=(be,Xe)=>{const ft=be.prototype;Xe.forEach(Ee=>{Object.defineProperty(ft,Ee,{get(){return this.el[Ee]},set(vt){this.z.runOutsideAngular(()=>this.el[Ee]=vt)},configurable:!0})})},H=(be,Xe)=>{const ft=be.prototype;Xe.forEach(Ee=>{ft[Ee]=function(){const vt=arguments;return this.z.runOutsideAngular(()=>this.el[Ee].apply(this.el,vt))}})},P=(be,Xe,ft)=>{ft.forEach(Ee=>be[Ee]=(0,se.R)(Xe,Ee))};function k(be){return function(ft){const{defineCustomElementFn:Ee,inputs:vt,methods:Zt}=be;return void 0!==Ee&&Ee(),vt&&A(ft,vt),Zt&&H(ft,Zt),ft}}let te=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],Xe),Xe})(),ne=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement,P(this,this.el,["ionChange"])}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],Xe),Xe})(),B=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-app"]],ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({})],Xe),Xe})(),N=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-avatar"]],ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({})],Xe),Xe})(),ie=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["color","mode"]})],Xe),Xe})(),R=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement,P(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],Xe),Xe})(),Q=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["collapse"]})],Xe),Xe})(),pe=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],Xe),Xe})(),Se=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["mode"]})],Xe),Xe})(),Ve=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["color","mode","translucent"]})],Xe),Xe})(),qe=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["color","mode"]})],Xe),Xe})(),pt=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["color","mode"]})],Xe),Xe})(),We=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement,P(this,this.el,["ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","mode","name","value"]})],Xe),Xe})(),ct=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["color","disabled","mode","outline"]})],Xe),Xe})(),dt=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],Xe),Xe})(),$e=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement,P(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],Xe),Xe})(),Ze=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement,P(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",formatOptions:"formatOptions",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","formatOptions","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],Xe),Xe})(),Tt=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["collapse","mode","translucent"]})],Xe),Xe})(),on=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["fixed"]})],Xe),Xe})(),Ut=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["collapse","mode","translucent"]})],Xe),Xe})(),ln=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],Xe),Xe})(),hn=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement,P(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],Xe),Xe})(),an=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],Xe),Xe})(),Vt=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["color","mode","sticky"]})],Xe),Xe})(),Et=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["color","mode","position"]})],Xe),Xe})(),Bt=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],Xe),Xe})(),Wt=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["color","lines","mode"]})],Xe),Xe})(),St=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement,P(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["alignment","color","disabled","justify","labelPlacement","mode","name","value"]})],Xe),Xe})(),Jt=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement,P(this,this.el,["ionChange"])}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",compareWith:"compareWith",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["allowEmptySelection","compareWith","name","value"]})],Xe),Xe})(),An=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-row"]],ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({})],Xe),Xe})(),je=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement,P(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],Xe),Xe})(),T=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["disabled","value"]})],Xe),Xe})(),oe=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["color","mode","selectedTab","translucent"]})],Xe),Xe})(),W=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],Xe),Xe})(),nt=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["color","size"]})],Xe),Xe})(),Ue=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement,P(this,this.el,["ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","mode","name","value"]})],Xe),Xe})(),lt=(()=>{var be;let Xe=((0,j.A)(be=class{constructor(Ee,vt,Zt){(0,j.A)(this,"z",void 0),(0,j.A)(this,"el",void 0),this.z=Zt,Ee.detach(),this.el=vt.nativeElement}},"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi))}),(0,j.A)(be,"\u0275cmp",O.VBU({type:be,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),be);return Xe=(0,o.Cg)([k({inputs:["color","mode"]})],Xe),Xe})(),He=(()=>{var be;class Xe extends gt.Rg{constructor(Ee,vt,Zt,fr,Gr,mo,ti,Yo){super(Ee,vt,Zt,fr,Gr,mo,ti,Yo),(0,j.A)(this,"parentOutlet",void 0),(0,j.A)(this,"outletContent",void 0),this.parentOutlet=Yo}}return be=Xe,(0,j.A)(Xe,"\u0275fac",function(Ee){return new(Ee||be)(O.kS0("name"),O.kS0("tabs"),O.rXU(V.aZ),O.rXU(O.aKT),O.rXU(v.Ix),O.rXU(O.SKi),O.rXU(v.nX),O.rXU(be,12))}),(0,j.A)(Xe,"\u0275cmp",O.VBU({type:be,selectors:[["ion-router-outlet"]],viewQuery:function(Ee,vt){if(1&Ee&&O.GBs(d,7,O.c1b),2&Ee){let Zt;O.mGM(Zt=O.lsd())&&(vt.outletContent=Zt.first)}},features:[O.Vt3],ngContentSelectors:a,decls:3,vars:0,consts:[["outletContent",""]],template:function(Ee,vt){1&Ee&&(O.NAR(),O.qex(0,null,0),O.SdG(2),O.bVm())},encapsulation:2})),Xe})(),yt=(()=>{var be;class Xe extends gt.p4{constructor(...Ee){super(...Ee),(0,j.A)(this,"outlet",void 0),(0,j.A)(this,"tabBar",void 0),(0,j.A)(this,"tabBars",void 0)}}return be=Xe,(0,j.A)(Xe,"\u0275fac",(()=>{let ft;return function(vt){return(ft||(ft=O.xGo(be)))(vt||be)}})()),(0,j.A)(Xe,"\u0275cmp",O.VBU({type:be,selectors:[["ion-tabs"]],contentQueries:function(Ee,vt,Zt){if(1&Ee&&(O.wni(Zt,oe,5),O.wni(Zt,oe,4)),2&Ee){let fr;O.mGM(fr=O.lsd())&&(vt.tabBar=fr.first),O.mGM(fr=O.lsd())&&(vt.tabBars=fr)}},viewQuery:function(Ee,vt){if(1&Ee&&O.GBs(f,5,He),2&Ee){let Zt;O.mGM(Zt=O.lsd())&&(vt.outlet=Zt.first)}},features:[O.Vt3],ngContentSelectors:p,decls:6,vars:0,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(Ee,vt){if(1&Ee){const Zt=O.RV6();O.NAR(u),O.SdG(0),O.j41(1,"div",2,0)(3,"ion-router-outlet",3,1),O.bIt("stackWillChange",function(Gr){return O.eBV(Zt),O.Njj(vt.onStackWillChange(Gr))})("stackDidChange",function(Gr){return O.eBV(Zt),O.Njj(vt.onStackDidChange(Gr))}),O.k0s()(),O.SdG(5,1)}},dependencies:[He],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})),Xe})(),kt=(()=>{var be;class Xe extends gt.el{constructor(Ee,vt,Zt,fr,Gr,mo){super(Ee,vt,Zt,fr,Gr,mo)}}return be=Xe,(0,j.A)(Xe,"\u0275fac",function(Ee){return new(Ee||be)(O.rXU(He,8),O.rXU(gt.q9),O.rXU(gt.TS),O.rXU(O.aKT),O.rXU(O.SKi),O.rXU(O.gRc))}),(0,j.A)(Xe,"\u0275cmp",O.VBU({type:be,selectors:[["ion-back-button"]],features:[O.Vt3],ngContentSelectors:a,decls:1,vars:0,template:function(Ee,vt){1&Ee&&(O.NAR(),O.SdG(0))},encapsulation:2,changeDetection:0})),Xe})(),Kn=(()=>{var be;class Xe extends gt.Sb{}return be=Xe,(0,j.A)(Xe,"\u0275fac",(()=>{let ft;return function(vt){return(ft||(ft=O.xGo(be)))(vt||be)}})()),(0,j.A)(Xe,"\u0275cmp",O.VBU({type:be,selectors:[["ion-modal"]],features:[O.Vt3],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(Ee,vt){1&Ee&&O.DNE(0,c,2,1,"div",0),2&Ee&&O.Y8G("ngIf",vt.isCmpOpen||vt.keepContentsMounted)},dependencies:[V.bT,V.T3],encapsulation:2,changeDetection:0})),Xe})(),tr=(()=>{var be;class Xe extends gt.CF{}return be=Xe,(0,j.A)(Xe,"\u0275fac",(()=>{let ft;return function(vt){return(ft||(ft=O.xGo(be)))(vt||be)}})()),(0,j.A)(Xe,"\u0275cmp",O.VBU({type:be,selectors:[["ion-popover"]],features:[O.Vt3],decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(Ee,vt){1&Ee&&O.DNE(0,m,1,1,"ng-container",0),2&Ee&&O.Y8G("ngIf",vt.isCmpOpen||vt.keepContentsMounted)},dependencies:[V.bT,V.T3],encapsulation:2,changeDetection:0})),Xe})();const Nr={provide:ge.cz,useExisting:(0,O.Rfq)(()=>Dr),multi:!0};let Dr=(()=>{var be;class Xe extends ge.zX{}return be=Xe,(0,j.A)(Xe,"\u0275fac",(()=>{let ft;return function(vt){return(ft||(ft=O.xGo(be)))(vt||be)}})()),(0,j.A)(Xe,"\u0275dir",O.FsC({type:be,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(Ee,vt){2&Ee&&O.BMQ("max",vt._enabled?vt.max:null)},features:[O.Jv_([Nr]),O.Vt3]})),Xe})();const Jn={provide:ge.cz,useExisting:(0,O.Rfq)(()=>yr),multi:!0};let yr=(()=>{var be;class Xe extends ge.VZ{}return be=Xe,(0,j.A)(Xe,"\u0275fac",(()=>{let ft;return function(vt){return(ft||(ft=O.xGo(be)))(vt||be)}})()),(0,j.A)(Xe,"\u0275dir",O.FsC({type:be,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Ee,vt){2&Ee&&O.BMQ("min",vt._enabled?vt.min:null)},features:[O.Jv_([Jn]),O.Vt3]})),Xe})(),Vr=(()=>{var be;class Xe extends gt.Kb{constructor(){super(b.TN)}}return be=Xe,(0,j.A)(Xe,"\u0275fac",function(Ee){return new(Ee||be)}),(0,j.A)(Xe,"\u0275prov",O.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})),Xe})(),eo=(()=>{var be;class Xe extends gt.Kb{constructor(){super(b.FJ)}}return be=Xe,(0,j.A)(Xe,"\u0275fac",function(Ee){return new(Ee||be)}),(0,j.A)(Xe,"\u0275prov",O.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})),Xe})(),ko=(()=>{var be;class Xe extends gt.Kb{constructor(){super(b.OZ),(0,j.A)(this,"angularDelegate",(0,O.WQX)(gt.Yq)),(0,j.A)(this,"injector",(0,O.WQX)(O.zZn)),(0,j.A)(this,"environmentInjector",(0,O.WQX)(O.uvJ))}create(Ee){return super.create({...Ee,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return be=Xe,(0,j.A)(Xe,"\u0275fac",function(Ee){return new(Ee||be)}),(0,j.A)(Xe,"\u0275prov",O.jDH({token:be,factory:be.\u0275fac})),Xe})();class $o extends gt.Kb{constructor(){super(b.mF),(0,j.A)(this,"angularDelegate",(0,O.WQX)(gt.Yq)),(0,j.A)(this,"injector",(0,O.WQX)(O.zZn)),(0,j.A)(this,"environmentInjector",(0,O.WQX)(O.uvJ))}create(Xe){return super.create({...Xe,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Vo=(be,Xe,ft)=>()=>{const Ee=Xe.defaultView;if(Ee&&typeof window<"u"){(0,b.QX)({...be,_zoneGate:Zt=>ft.run(Zt)});const vt="__zone_symbol__addEventListener"in Xe.body?"__zone_symbol__addEventListener":"addEventListener";return function g(){var be=[];if(typeof window<"u"){var Xe=window;(!Xe.customElements||Xe.Element&&(!Xe.Element.prototype.closest||!Xe.Element.prototype.matches||!Xe.Element.prototype.remove||!Xe.Element.prototype.getRootNode))&&be.push(me.e(7278).then(me.t.bind(me,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Xe.NodeList&&!Xe.NodeList.prototype.forEach||!Xe.fetch||!function(){try{var Ee=new URL("b","http://a");return Ee.pathname="c%20d","http://a/c%20d"===Ee.href&&Ee.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&be.push(me.e(9329).then(me.t.bind(me,7783,23)))}return Promise.all(be)}().then(()=>l(Ee,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:gt.er,jmp:Zt=>ft.runOutsideAngular(Zt),ael(Zt,fr,Gr,mo){Zt[vt](fr,Gr,mo)},rel(Zt,fr,Gr,mo){Zt.removeEventListener(fr,Gr,mo)}}))}};let vi=(()=>{var be;class Xe{static forRoot(Ee={}){return{ngModule:Xe,providers:[{provide:gt.sR,useValue:Ee},{provide:O.hnV,useFactory:Vo,multi:!0,deps:[gt.sR,V.qQ,O.SKi]},gt.Yq,(0,gt.YV)()]}}}return be=Xe,(0,j.A)(Xe,"\u0275fac",function(Ee){return new(Ee||be)}),(0,j.A)(Xe,"\u0275mod",O.$C({type:be})),(0,j.A)(Xe,"\u0275inj",O.G2t({providers:[ko,$o],imports:[V.MD]})),Xe})()},467:(En,Kt,me)=>{"use strict";function j(ge,gt,o,se,V,v,b){try{var g=ge[v](b),y=g.value}catch(C){return void o(C)}g.done?gt(y):Promise.resolve(y).then(se,V)}function O(ge){return function(){var gt=this,o=arguments;return new Promise(function(se,V){var v=ge.apply(gt,o);function b(y){j(v,se,V,b,g,"next",y)}function g(y){j(v,se,V,b,g,"throw",y)}b(void 0)})}}me.d(Kt,{A:()=>O})},9842:(En,Kt,me)=>{"use strict";function j(o){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(se){return typeof se}:function(se){return se&&"function"==typeof Symbol&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se})(o)}function gt(o,se,V){return(se=function ge(o){var se=function O(o,se){if("object"!=j(o)||!o)return o;var V=o[Symbol.toPrimitive];if(void 0!==V){var v=V.call(o,se||"default");if("object"!=j(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===se?String:Number)(o)}(o,"string");return"symbol"==j(se)?se:se+""}(se))in o?Object.defineProperty(o,se,{value:V,enumerable:!0,configurable:!0,writable:!0}):o[se]=V,o}me.d(Kt,{A:()=>gt})},1635:(En,Kt,me)=>{"use strict";me.d(Kt,{AQ:()=>m,C6:()=>O,Cg:()=>o,N3:()=>c,sH:()=>C,xN:()=>M});var j=function(B,N){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,ie){K.__proto__=ie}||function(K,ie){for(var Ae in ie)Object.prototype.hasOwnProperty.call(ie,Ae)&&(K[Ae]=ie[Ae])})(B,N)};function O(B,N){if("function"!=typeof N&&null!==N)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");function K(){this.constructor=B}j(B,N),B.prototype=null===N?Object.create(N):(K.prototype=N.prototype,new K)}function o(B,N,K,ie){var R,Ae=arguments.length,Y=Ae<3?N:null===ie?ie=Object.getOwnPropertyDescriptor(N,K):ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Y=Reflect.decorate(B,N,K,ie);else for(var Q=B.length-1;Q>=0;Q--)(R=B[Q])&&(Y=(Ae<3?R(Y):Ae>3?R(N,K,Y):R(N,K))||Y);return Ae>3&&Y&&Object.defineProperty(N,K,Y),Y}function C(B,N,K,ie){return new(K||(K=Promise))(function(Y,R){function Q(Ve){try{Se(ie.next(Ve))}catch(qe){R(qe)}}function pe(Ve){try{Se(ie.throw(Ve))}catch(qe){R(qe)}}function Se(Ve){Ve.done?Y(Ve.value):function Ae(Y){return Y instanceof K?Y:new K(function(R){R(Y)})}(Ve.value).then(Q,pe)}Se((ie=ie.apply(B,N||[])).next())})}function c(B){return this instanceof c?(this.v=B,this):new c(B)}function m(B,N,K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,ie=K.apply(B,N||[]),Y=[];return Ae={},Q("next"),Q("throw"),Q("return",function R(We){return function(ct){return Promise.resolve(ct).then(We,qe)}}),Ae[Symbol.asyncIterator]=function(){return this},Ae;function Q(We,ct){ie[We]&&(Ae[We]=function(dt){return new Promise(function($e,Ze){Y.push([We,dt,$e,Ze])>1||pe(We,dt)})},ct&&(Ae[We]=ct(Ae[We])))}function pe(We,ct){try{!function Se(We){We.value instanceof c?Promise.resolve(We.value.v).then(Ve,qe):pt(Y[0][2],We)}(ie[We](ct))}catch(dt){pt(Y[0][3],dt)}}function Ve(We){pe("next",We)}function qe(We){pe("throw",We)}function pt(We,ct){We(ct),Y.shift(),Y.length&&pe(Y[0][0],Y[0][1])}}function M(B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K,N=B[Symbol.asyncIterator];return N?N.call(B):(B=function a(B){var N="function"==typeof Symbol&&Symbol.iterator,K=N&&B[N],ie=0;if(K)return K.call(B);if(B&&"number"==typeof B.length)return{next:function(){return B&&ie>=B.length&&(B=void 0),{value:B&&B[ie++],done:!B}}};throw new TypeError(N?"Object is not iterable.":"Symbol.iterator is not defined.")}(B),K={},ie("next"),ie("throw"),ie("return"),K[Symbol.asyncIterator]=function(){return this},K);function ie(Y){K[Y]=B[Y]&&function(R){return new Promise(function(Q,pe){!function Ae(Y,R,Q,pe){Promise.resolve(pe).then(function(Se){Y({value:Se,done:Q})},R)}(Q,pe,(R=B[Y](R)).done,R.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},En=>{En(En.s=3419)}]);